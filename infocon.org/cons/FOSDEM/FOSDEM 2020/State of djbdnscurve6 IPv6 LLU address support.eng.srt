1
00:00:06,399 --> 00:00:08,720
good morning welcome back to the dns dev

2
00:00:08,240 --> 00:00:10,639
room

3
00:00:08,720 --> 00:00:12,799
our next speaker is erin hoffmann he

4
00:00:10,639 --> 00:00:17,919
will be speaking about the state of dgb

5
00:00:12,799 --> 00:00:17,920
dns curve 6.

6
00:00:25,760 --> 00:00:34,880
oh yeah this yeah let's try that again

7
00:00:31,359 --> 00:00:34,880
full screen yeah

8
00:00:39,200 --> 00:00:45,840
technology i'm sorry it's slottish

9
00:00:52,160 --> 00:00:55,199
yeah good morning everybody thanks for

10
00:00:53,520 --> 00:00:56,399
the invitation here for foster here for

11
00:00:55,199 --> 00:00:59,760
the talk here

12
00:00:56,399 --> 00:01:01,359
and uh i will try to give you some ideas

13
00:00:59,760 --> 00:01:03,358
about what i did regarding

14
00:01:01,359 --> 00:01:05,519
the further developments of dj bdns in

15
00:01:03,359 --> 00:01:07,439
particular what i've called djb dns

16
00:01:05,519 --> 00:01:10,080
curve 6.

17
00:01:07,439 --> 00:01:11,199
oh behind behind that line okay fine

18
00:01:10,080 --> 00:01:14,000
yeah okay fine

19
00:01:11,200 --> 00:01:16,000
and i also would like to provide you

20
00:01:14,000 --> 00:01:19,360
some ideas about a particular use case

21
00:01:16,000 --> 00:01:20,159
that means how to integrate uh ipv6

22
00:01:19,360 --> 00:01:22,640
version six

23
00:01:20,159 --> 00:01:23,280
uh link local unicaster addresses here

24
00:01:22,640 --> 00:01:25,600
to use

25
00:01:23,280 --> 00:01:26,960
it on a subresolver and a dns server so

26
00:01:25,600 --> 00:01:28,640
that's a particular use case

27
00:01:26,960 --> 00:01:30,158
which i think it's quite nice in order

28
00:01:28,640 --> 00:01:33,520
to get some ideas about the

29
00:01:30,159 --> 00:01:35,840
iot devices here so let's

30
00:01:33,520 --> 00:01:36,720
make uh at first some kind of historical

31
00:01:35,840 --> 00:01:39,520
note dj

32
00:01:36,720 --> 00:01:40,240
dns curve essentially it's a it's a fork

33
00:01:39,520 --> 00:01:43,679
of

34
00:01:40,240 --> 00:01:44,399
daniel bernstein's dj bdns i'm not here

35
00:01:43,680 --> 00:01:46,399
to advocate

36
00:01:44,399 --> 00:01:47,840
uh bernstein and i'm not here to talk

37
00:01:46,399 --> 00:01:51,280
about the benefits of

38
00:01:47,840 --> 00:01:53,280
curved dns versus dns sec that's not the

39
00:01:51,280 --> 00:01:55,439
scope of my topic here but rather what i

40
00:01:53,280 --> 00:01:56,479
did so far is to uh to make it more

41
00:01:55,439 --> 00:01:58,639
usable here the

42
00:01:56,479 --> 00:02:00,000
the software here of daniel bernstein

43
00:01:58,640 --> 00:02:00,640
and also to provide some kind of

44
00:02:00,000 --> 00:02:02,320
libraries

45
00:02:00,640 --> 00:02:04,479
which you can use for standard projects

46
00:02:02,320 --> 00:02:04,880
let's say and one of those libraries i

47
00:02:04,479 --> 00:02:09,119
call

48
00:02:04,880 --> 00:02:10,478
a vhqlips or simply qlips which simply

49
00:02:09,119 --> 00:02:12,720
integrate all the

50
00:02:10,479 --> 00:02:14,879
uh all the functions you need in order

51
00:02:12,720 --> 00:02:15,599
to do ipv6 uh address passing in

52
00:02:14,879 --> 00:02:18,799
particular

53
00:02:15,599 --> 00:02:20,399
cider side eye recognition and also uh

54
00:02:18,800 --> 00:02:21,680
the use of socket interface and all that

55
00:02:20,400 --> 00:02:25,760
stuff what you actually need for

56
00:02:21,680 --> 00:02:25,760
network programming so um

57
00:02:26,080 --> 00:02:30,319
this is done in a way we have a dns stub

58
00:02:28,800 --> 00:02:32,319
resolver we can use and on the other

59
00:02:30,319 --> 00:02:34,480
side djbdnsqf6

60
00:02:32,319 --> 00:02:36,640
it's a more or less full-blown dns

61
00:02:34,480 --> 00:02:37,760
server although with a limited scope

62
00:02:36,640 --> 00:02:39,440
more or less

63
00:02:37,760 --> 00:02:40,879
so the achieved results i would like to

64
00:02:39,440 --> 00:02:42,879
present here are mainly

65
00:02:40,879 --> 00:02:44,000
a part of the results we have done at

66
00:02:42,879 --> 00:02:46,480
the university of

67
00:02:44,000 --> 00:02:48,319
the university in frankfurt university

68
00:02:46,480 --> 00:02:50,640
of applied sciences here

69
00:02:48,319 --> 00:02:52,000
together with my students and i put them

70
00:02:50,640 --> 00:02:54,319
in into software here

71
00:02:52,000 --> 00:02:55,040
and i presented it here in that way so

72
00:02:54,319 --> 00:02:56,079
also

73
00:02:55,040 --> 00:02:58,079
if you'd like to have some deeper

74
00:02:56,080 --> 00:02:59,280
understanding of the ip version 6

75
00:02:58,080 --> 00:03:01,120
protocol you can read

76
00:02:59,280 --> 00:03:02,480
if you can read german some of my books

77
00:03:01,120 --> 00:03:04,400
which is called technique of the ip

78
00:03:02,480 --> 00:03:05,920
networks here so what i

79
00:03:04,400 --> 00:03:08,159
actually cover here in my talk here is a

80
00:03:05,920 --> 00:03:10,480
little bit about the history of djb

81
00:03:08,159 --> 00:03:11,760
at f curve 6 and also my software

82
00:03:10,480 --> 00:03:13,200
library qlips

83
00:03:11,760 --> 00:03:14,959
i would like to introduce you to the

84
00:03:13,200 --> 00:03:17,518
ideas of using

85
00:03:14,959 --> 00:03:18,400
ipv6 addresses and in particular ipv6

86
00:03:17,519 --> 00:03:21,440
link local

87
00:03:18,400 --> 00:03:24,080
ud cast addresses here for dns services

88
00:03:21,440 --> 00:03:24,640
applying those to servers and clients of

89
00:03:24,080 --> 00:03:27,040
course

90
00:03:24,640 --> 00:03:29,279
and maybe also to discuss some use cases

91
00:03:27,040 --> 00:03:32,000
why it is beneficial to do so

92
00:03:29,280 --> 00:03:32,319
so it seems actually dns is something uh

93
00:03:32,000 --> 00:03:34,720
for

94
00:03:32,319 --> 00:03:35,518
the uh for the for the for the uh for

95
00:03:34,720 --> 00:03:38,000
the old

96
00:03:35,519 --> 00:03:40,000
cray man here as you have seen so far

97
00:03:38,000 --> 00:03:42,640
let's see what we could do about that

98
00:03:40,000 --> 00:03:43,599
now just uh to give you some kind of

99
00:03:42,640 --> 00:03:46,480
history uh

100
00:03:43,599 --> 00:03:48,159
i support the the software of bernstein

101
00:03:46,480 --> 00:03:50,079
here since about 20 years i would say

102
00:03:48,159 --> 00:03:52,720
but initially i i did some patches here

103
00:03:50,080 --> 00:03:54,879
for qmail now i have my own fork running

104
00:03:52,720 --> 00:03:56,080
which is called sq mail and this is more

105
00:03:54,879 --> 00:03:57,920
or less aligned with what

106
00:03:56,080 --> 00:04:00,239
felix von leitner does which is known to

107
00:03:57,920 --> 00:04:02,399
be the german blogger favor here and

108
00:04:00,239 --> 00:04:03,360
we all a little bit work together in a

109
00:04:02,400 --> 00:04:05,680
little in this

110
00:04:03,360 --> 00:04:06,640
in this context here and what i did so

111
00:04:05,680 --> 00:04:08,879
far was

112
00:04:06,640 --> 00:04:10,238
essentially to make all the routines

113
00:04:08,879 --> 00:04:13,280
bernstein has developed

114
00:04:10,239 --> 00:04:15,599
like ucsp tcp and q

115
00:04:13,280 --> 00:04:17,680
mail and the in particular the dj bdns

116
00:04:15,599 --> 00:04:19,599
here to make it ipv6 aware

117
00:04:17,680 --> 00:04:21,440
and in the sense ipv6 is really

118
00:04:19,600 --> 00:04:22,639
completely supported by the product and

119
00:04:21,440 --> 00:04:25,520
not just uh

120
00:04:22,639 --> 00:04:27,040
in in the terms of patches over here so

121
00:04:25,520 --> 00:04:29,198
the current release is what i do have

122
00:04:27,040 --> 00:04:32,240
it's dj bd and s curve

123
00:04:29,199 --> 00:04:34,880
six you know the inversion 36a and

124
00:04:32,240 --> 00:04:35,440
the current running dns subresolver

125
00:04:34,880 --> 00:04:38,320
library

126
00:04:35,440 --> 00:04:39,919
is part of the culips inversion in the

127
00:04:38,320 --> 00:04:41,759
version 12c so far

128
00:04:39,919 --> 00:04:43,680
so you see on the table here what are

129
00:04:41,759 --> 00:04:45,520
the what are the essential

130
00:04:43,680 --> 00:04:48,320
service servers which are servers which

131
00:04:45,520 --> 00:04:50,240
are coming with the djib and sqr6

132
00:04:48,320 --> 00:04:51,680
essentially i do have a content server

133
00:04:50,240 --> 00:04:54,400
which is called tiny dns

134
00:04:51,680 --> 00:04:55,280
that's really tiny it just speaks udp

135
00:04:54,400 --> 00:04:56,880
and it has

136
00:04:55,280 --> 00:04:59,039
no other understanding or less except

137
00:04:56,880 --> 00:05:01,280
for the complete ipv6 support

138
00:04:59,040 --> 00:05:02,880
i also have a software piece which is

139
00:05:01,280 --> 00:05:05,758
called real dns

140
00:05:02,880 --> 00:05:06,159
it's a it's a relay blacklist demon and

141
00:05:05,759 --> 00:05:07,759
it's

142
00:05:06,160 --> 00:05:09,520
actually quite nice because it also

143
00:05:07,759 --> 00:05:11,919
provides you with the capability

144
00:05:09,520 --> 00:05:13,840
to have ip version six addresses in here

145
00:05:11,919 --> 00:05:15,680
and to look up those here for uh

146
00:05:13,840 --> 00:05:18,000
for spam for in particular spam

147
00:05:15,680 --> 00:05:18,479
protection here i do have all dns inside

148
00:05:18,000 --> 00:05:20,240
there

149
00:05:18,479 --> 00:05:21,680
but the main routine essentially is what

150
00:05:20,240 --> 00:05:23,919
i call dns cache

151
00:05:21,680 --> 00:05:25,280
which is a caching server and name a

152
00:05:23,919 --> 00:05:27,198
recursive name

153
00:05:25,280 --> 00:05:28,719
server here which is used essentially

154
00:05:27,199 --> 00:05:29,520
for the for the clients in order to

155
00:05:28,720 --> 00:05:31,840
contact you

156
00:05:29,520 --> 00:05:34,240
so this dns cache as you can see has the

157
00:05:31,840 --> 00:05:34,880
benefits it includes tcp support and udp

158
00:05:34,240 --> 00:05:38,400
support

159
00:05:34,880 --> 00:05:40,159
edns support is done on the server side

160
00:05:38,400 --> 00:05:42,159
and the curved dns has been completely

161
00:05:40,160 --> 00:05:45,440
included so what you can get here

162
00:05:42,160 --> 00:05:47,280
is that you can receive encrypted uh dns

163
00:05:45,440 --> 00:05:48,639
responses and create and of course you

164
00:05:47,280 --> 00:05:51,919
do the query also

165
00:05:48,639 --> 00:05:52,639
in in in in a secure way the clients are

166
00:05:51,919 --> 00:05:56,159
pretty slim

167
00:05:52,639 --> 00:05:58,720
we have uh some clients which is dns ip

168
00:05:56,160 --> 00:05:59,919
it's uh dns and x to look up the to look

169
00:05:58,720 --> 00:06:02,080
up the mx records

170
00:05:59,919 --> 00:06:04,318
it's a dns name it's getting the pointer

171
00:06:02,080 --> 00:06:05,758
records here and it's dns text to get

172
00:06:04,319 --> 00:06:08,080
the text records that's all i have

173
00:06:05,759 --> 00:06:09,759
it's nothing really particular in here

174
00:06:08,080 --> 00:06:10,719
and cannot compare with other full-blown

175
00:06:09,759 --> 00:06:13,360
software stacks

176
00:06:10,720 --> 00:06:13,759
like powerdns or or bind whatever you

177
00:06:13,360 --> 00:06:16,080
have

178
00:06:13,759 --> 00:06:17,759
so it's a really tiny section over here

179
00:06:16,080 --> 00:06:20,479
so the idea what i had

180
00:06:17,759 --> 00:06:22,319
was back some years when i gave some

181
00:06:20,479 --> 00:06:22,719
lectures about distributed systems here

182
00:06:22,319 --> 00:06:24,880
uh

183
00:06:22,720 --> 00:06:25,759
at the vietnamese german university in

184
00:06:24,880 --> 00:06:28,800
ho chi minh city

185
00:06:25,759 --> 00:06:30,560
to solve somehow the so-called city and

186
00:06:28,800 --> 00:06:32,240
with centennial in general's problem to

187
00:06:30,560 --> 00:06:33,919
get valid answers essentially from a

188
00:06:32,240 --> 00:06:36,560
collaborating system but that's the

189
00:06:33,919 --> 00:06:40,000
basic idea without using essentially

190
00:06:36,560 --> 00:06:43,039
signatures like dns sec it's providing

191
00:06:40,000 --> 00:06:45,039
now the main idea here of that talk is

192
00:06:43,039 --> 00:06:45,520
to give you some ideas why it is useful

193
00:06:45,039 --> 00:06:48,719
to have

194
00:06:45,520 --> 00:06:50,159
ipv version 6 link localcast link local

195
00:06:48,720 --> 00:06:53,120
unicast address support

196
00:06:50,160 --> 00:06:53,680
in dns it gives a particular scope here

197
00:06:53,120 --> 00:06:56,000
and

198
00:06:53,680 --> 00:06:57,680
let's let's discuss essentially some

199
00:06:56,000 --> 00:07:01,520
some important items here

200
00:06:57,680 --> 00:07:03,199
at first um the ipv version 6 link local

201
00:07:01,520 --> 00:07:05,520
cast addresses are prohibited

202
00:07:03,199 --> 00:07:07,360
to be part of a zone file that means you

203
00:07:05,520 --> 00:07:08,318
cannot have a heavy 80 kind of address

204
00:07:07,360 --> 00:07:10,319
here in a zone file

205
00:07:08,319 --> 00:07:11,680
it's simply not working you can you

206
00:07:10,319 --> 00:07:12,160
probably can do that but it's not

207
00:07:11,680 --> 00:07:13,520
working

208
00:07:12,160 --> 00:07:15,360
because you're lacking the so-called

209
00:07:13,520 --> 00:07:16,318
interface index here and that's actually

210
00:07:15,360 --> 00:07:19,360
expressed here

211
00:07:16,319 --> 00:07:21,120
already in the in the rsc 447 watt

212
00:07:19,360 --> 00:07:23,360
essentially so you cannot do that

213
00:07:21,120 --> 00:07:25,520
but on the other hand you are free to

214
00:07:23,360 --> 00:07:27,840
bind your dns server

215
00:07:25,520 --> 00:07:28,960
and also to use your dns client the

216
00:07:27,840 --> 00:07:31,840
subresolver here

217
00:07:28,960 --> 00:07:34,000
to use ip version six local link

218
00:07:31,840 --> 00:07:36,239
localcast unicast addresses here

219
00:07:34,000 --> 00:07:37,840
and i don't know which product is

220
00:07:36,240 --> 00:07:39,360
actually using this but at least you can

221
00:07:37,840 --> 00:07:39,840
get that here with my kind of software

222
00:07:39,360 --> 00:07:41,120
here

223
00:07:39,840 --> 00:07:43,039
that means we have to solve two

224
00:07:41,120 --> 00:07:45,120
essential problems over here one problem

225
00:07:43,039 --> 00:07:47,120
is that the dns server whether it is a

226
00:07:45,120 --> 00:07:49,039
content server or cache server

227
00:07:47,120 --> 00:07:51,280
it needs to bind to a linked local

228
00:07:49,039 --> 00:07:51,840
unicast address which only can be done

229
00:07:51,280 --> 00:07:54,000
if you

230
00:07:51,840 --> 00:07:56,000
if you actually perform an additional

231
00:07:54,000 --> 00:07:56,720
information which we call the interface

232
00:07:56,000 --> 00:07:59,440
index

233
00:07:56,720 --> 00:08:00,160
second we have to tell the dns stop

234
00:07:59,440 --> 00:08:02,240
resolver

235
00:08:00,160 --> 00:08:04,000
that it can use this kind of address and

236
00:08:02,240 --> 00:08:05,520
that's the more tricky part and how this

237
00:08:04,000 --> 00:08:07,120
is done i just will tell in a few

238
00:08:05,520 --> 00:08:10,400
minutes here

239
00:08:07,120 --> 00:08:12,400
so um i don't know how how well you are

240
00:08:10,400 --> 00:08:13,679
familiar with the ip version 6 protocol

241
00:08:12,400 --> 00:08:15,120
and its and its benefits

242
00:08:13,680 --> 00:08:16,800
so it's a little bit different different

243
00:08:15,120 --> 00:08:17,759
beast like ip version 4 what we have

244
00:08:16,800 --> 00:08:20,400
seen before

245
00:08:17,759 --> 00:08:20,960
so the main idea of ip version 6 is

246
00:08:20,400 --> 00:08:22,638
following

247
00:08:20,960 --> 00:08:24,560
that everything what you do essentially

248
00:08:22,639 --> 00:08:26,240
is auto configured and you can see that

249
00:08:24,560 --> 00:08:28,319
here on the very on the slide on the

250
00:08:26,240 --> 00:08:30,240
left hand on on the right hand side here

251
00:08:28,319 --> 00:08:31,599
so what essentially the client does in

252
00:08:30,240 --> 00:08:33,680
case it is in

253
00:08:31,599 --> 00:08:35,200
case it's it's going online on the

254
00:08:33,679 --> 00:08:36,159
network so you get some kind of link

255
00:08:35,200 --> 00:08:38,800
here on the network

256
00:08:36,159 --> 00:08:40,319
it asks for essentially a prefix and

257
00:08:38,799 --> 00:08:42,000
also it does some kind of auto

258
00:08:40,320 --> 00:08:44,560
configuration of the ip address

259
00:08:42,000 --> 00:08:46,080
we call this stateless address auto

260
00:08:44,560 --> 00:08:48,160
address configuration over here

261
00:08:46,080 --> 00:08:49,440
that means that the client looks for an

262
00:08:48,160 --> 00:08:51,519
ipl it

263
00:08:49,440 --> 00:08:53,440
configures itself an ip version 6

264
00:08:51,519 --> 00:08:55,680
address which is in the beginning

265
00:08:53,440 --> 00:08:57,360
a so-called link local unicast address

266
00:08:55,680 --> 00:08:59,680
starting with every 80 essentially

267
00:08:57,360 --> 00:09:01,839
so that's the basic idea now the next

268
00:08:59,680 --> 00:09:03,680
step in ipv version 6 network if it is a

269
00:09:01,839 --> 00:09:05,519
real ipo version 6 network is

270
00:09:03,680 --> 00:09:06,800
that we have a router in the network

271
00:09:05,519 --> 00:09:07,760
which does some kind of router

272
00:09:06,800 --> 00:09:10,160
advertisements

273
00:09:07,760 --> 00:09:12,880
the router advertisements uh are done

274
00:09:10,160 --> 00:09:14,640
again using this ipv6 llu address

275
00:09:12,880 --> 00:09:16,240
and the router advertisements provide us

276
00:09:14,640 --> 00:09:18,800
with the with the

277
00:09:16,240 --> 00:09:20,000
with the network prefix here like 2001

278
00:09:18,800 --> 00:09:22,319
something blah blah blah

279
00:09:20,000 --> 00:09:23,279
and also we can get the ip addresses of

280
00:09:22,320 --> 00:09:25,600
the routers

281
00:09:23,279 --> 00:09:27,040
and in particular what you can also get

282
00:09:25,600 --> 00:09:28,880
and that's the other very

283
00:09:27,040 --> 00:09:31,360
very that's point number three you can

284
00:09:28,880 --> 00:09:33,680
get information about the dns services

285
00:09:31,360 --> 00:09:35,120
that means the dns servers the recursive

286
00:09:33,680 --> 00:09:37,279
name servers in your network

287
00:09:35,120 --> 00:09:38,959
are published or could be published by

288
00:09:37,279 --> 00:09:39,839
means of a router advertisement daemon

289
00:09:38,959 --> 00:09:42,239
for instance

290
00:09:39,839 --> 00:09:44,080
and in addition with the ipa version 6

291
00:09:42,240 --> 00:09:46,000
address it can publish a search list

292
00:09:44,080 --> 00:09:48,480
here so that's quite nice to have it joe

293
00:09:46,000 --> 00:09:49,200
it's all it's all in it's all confined

294
00:09:48,480 --> 00:09:50,720
and the very

295
00:09:49,200 --> 00:09:52,480
interesting idea about that is

296
00:09:50,720 --> 00:09:53,519
everything here what is happening on

297
00:09:52,480 --> 00:09:56,240
that slide here

298
00:09:53,519 --> 00:09:58,160
is happening using linked local cast of

299
00:09:56,240 --> 00:10:00,640
link local unicast addresses

300
00:09:58,160 --> 00:10:02,399
or perhaps or perhaps some kind of

301
00:10:00,640 --> 00:10:03,680
multicast addresses

302
00:10:02,399 --> 00:10:06,079
so let's have an idea about the

303
00:10:03,680 --> 00:10:07,760
addresses the address strategy in ipv

304
00:10:06,079 --> 00:10:10,239
version 6 is a little bit different

305
00:10:07,760 --> 00:10:12,000
uh regarding ipv version 6. so it's very

306
00:10:10,240 --> 00:10:13,600
strongly depends on the very first bit

307
00:10:12,000 --> 00:10:15,360
of the ip version 6 address

308
00:10:13,600 --> 00:10:17,600
it starts with the highest bits to be

309
00:10:15,360 --> 00:10:18,320
won with these are multicast addresses

310
00:10:17,600 --> 00:10:20,079
remember

311
00:10:18,320 --> 00:10:22,000
in ipv version 6 we do not have any

312
00:10:20,079 --> 00:10:24,160
broadcast just multicast

313
00:10:22,000 --> 00:10:25,279
yeah and from here we have a kind of

314
00:10:24,160 --> 00:10:27,519
functional addresses

315
00:10:25,279 --> 00:10:28,959
and one particular functional address is

316
00:10:27,519 --> 00:10:31,200
the dns

317
00:10:28,959 --> 00:10:32,319
is the dns multicast address which is

318
00:10:31,200 --> 00:10:35,680
shown here to be

319
00:10:32,320 --> 00:10:38,240
ff01 uh fb at the very

320
00:10:35,680 --> 00:10:39,920
at the very end so we can have multicast

321
00:10:38,240 --> 00:10:40,399
services here dns service here on the

322
00:10:39,920 --> 00:10:42,319
network

323
00:10:40,399 --> 00:10:44,560
but that's nothing i talk about today

324
00:10:42,320 --> 00:10:47,200
it's a future project essentially

325
00:10:44,560 --> 00:10:48,319
now we need to understand in ip version

326
00:10:47,200 --> 00:10:50,959
6 networks

327
00:10:48,320 --> 00:10:52,560
information essentially is sent to

328
00:10:50,959 --> 00:10:55,199
multicast addresses

329
00:10:52,560 --> 00:10:56,160
and that's this idea here that we have

330
00:10:55,200 --> 00:10:59,200
that we use

331
00:10:56,160 --> 00:11:01,519
multicast address as a recipient address

332
00:10:59,200 --> 00:11:02,560
the target address rather could either

333
00:11:01,519 --> 00:11:04,320
be a unicast

334
00:11:02,560 --> 00:11:05,680
address or it could be what we call an

335
00:11:04,320 --> 00:11:07,440
unspecified address

336
00:11:05,680 --> 00:11:09,279
the unspecified address is something you

337
00:11:07,440 --> 00:11:11,200
know in the ip version 6 network which

338
00:11:09,279 --> 00:11:13,279
is simply

339
00:11:11,200 --> 00:11:15,120
simply indicated by the double dots the

340
00:11:13,279 --> 00:11:16,399
double dots is the unspecified address

341
00:11:15,120 --> 00:11:18,399
and that's at the very

342
00:11:16,399 --> 00:11:20,000
very lowest line that means in ipv

343
00:11:18,399 --> 00:11:20,959
version 6 address everything is

344
00:11:20,000 --> 00:11:24,240
essentially

345
00:11:20,959 --> 00:11:26,479
everything is essentially set to zero

346
00:11:24,240 --> 00:11:28,160
so oh sorry and then you can get the

347
00:11:26,480 --> 00:11:28,959
hierarchy here we have the we have see

348
00:11:28,160 --> 00:11:30,800
we have the uh

349
00:11:28,959 --> 00:11:32,800
host addresses here the back the

350
00:11:30,800 --> 00:11:34,479
loopback address here we have the llu

351
00:11:32,800 --> 00:11:35,680
addresses we have the oola addresses

352
00:11:34,480 --> 00:11:37,600
which are a little bit about

353
00:11:35,680 --> 00:11:39,519
like ipv version 4 private addresses

354
00:11:37,600 --> 00:11:40,480
here and we have the routable addresses

355
00:11:39,519 --> 00:11:44,320
in the ip network

356
00:11:40,480 --> 00:11:46,640
which is a blue zone over here so

357
00:11:44,320 --> 00:11:47,360
the problem is now how how to get a

358
00:11:46,640 --> 00:11:49,040
server

359
00:11:47,360 --> 00:11:50,880
how to make a server understanding about

360
00:11:49,040 --> 00:11:52,639
the interface index here

361
00:11:50,880 --> 00:11:54,560
and i have chosen in my software two

362
00:11:52,639 --> 00:11:55,519
different ways the one way you can

363
00:11:54,560 --> 00:11:57,359
specify

364
00:11:55,519 --> 00:12:01,040
additionally with the ip version 6

365
00:11:57,360 --> 00:12:03,040
address like every 80.1 for instance you

366
00:12:01,040 --> 00:12:03,680
can specify as a certain as a particular

367
00:12:03,040 --> 00:12:05,760
argument

368
00:12:03,680 --> 00:12:07,040
the interface of the interface name like

369
00:12:05,760 --> 00:12:08,800
eth0

370
00:12:07,040 --> 00:12:10,639
or whatever you like to do you know

371
00:12:08,800 --> 00:12:12,240
that's that's something you can do

372
00:12:10,639 --> 00:12:14,399
the other way is you have something like

373
00:12:12,240 --> 00:12:15,600
a composite address and the composite

374
00:12:14,399 --> 00:12:17,920
address essentially

375
00:12:15,600 --> 00:12:20,800
includes on the one side the the

376
00:12:17,920 --> 00:12:22,479
respective uh ipv version 6 llu address

377
00:12:20,800 --> 00:12:24,319
and then concatenated by means of a

378
00:12:22,480 --> 00:12:27,360
percent sign the particular

379
00:12:24,320 --> 00:12:30,160
interface name yeah that can be done

380
00:12:27,360 --> 00:12:31,440
now remember in the ip version six world

381
00:12:30,160 --> 00:12:33,839
we have uh we have

382
00:12:31,440 --> 00:12:34,480
it we have the following very important

383
00:12:33,839 --> 00:12:37,680
issue

384
00:12:34,480 --> 00:12:40,480
the ip version six address given its uh

385
00:12:37,680 --> 00:12:42,160
llu variant it can be uh it can be the

386
00:12:40,480 --> 00:12:43,200
same on different interfaces and that's

387
00:12:42,160 --> 00:12:45,199
the reason why we have the

388
00:12:43,200 --> 00:12:46,399
the requirement to have this interface

389
00:12:45,200 --> 00:12:48,639
index whatever you have

390
00:12:46,399 --> 00:12:50,480
whatever you need for so that's the idea

391
00:12:48,639 --> 00:12:51,760
how to bind it that's pretty easy you

392
00:12:50,480 --> 00:12:53,680
can find it in my software

393
00:12:51,760 --> 00:12:54,800
it's online you can see the links later

394
00:12:53,680 --> 00:12:56,079
on and just

395
00:12:54,800 --> 00:12:59,040
you can see how to do it that's the

396
00:12:56,079 --> 00:13:01,279
basic idea now

397
00:12:59,040 --> 00:13:02,560
in particular for a dns service it would

398
00:13:01,279 --> 00:13:04,720
be very nice

399
00:13:02,560 --> 00:13:06,399
to have a common service for ipv version

400
00:13:04,720 --> 00:13:08,240
4 and ip version 6

401
00:13:06,399 --> 00:13:10,079
of course it's the same information we

402
00:13:08,240 --> 00:13:12,160
do not have different zone files or

403
00:13:10,079 --> 00:13:13,040
databases for ipv version 4 and ip

404
00:13:12,160 --> 00:13:15,279
version 6.

405
00:13:13,040 --> 00:13:17,040
i rather do not like i have a particular

406
00:13:15,279 --> 00:13:19,200
forwarding and reverse zone i

407
00:13:17,040 --> 00:13:20,399
would like to keep it simply in a simple

408
00:13:19,200 --> 00:13:22,399
database here

409
00:13:20,399 --> 00:13:24,160
and in order to do so you need to do you

410
00:13:22,399 --> 00:13:26,720
need to bind the server

411
00:13:24,160 --> 00:13:28,160
both to the available ip version 4 and

412
00:13:26,720 --> 00:13:30,320
ip version 6 addresses

413
00:13:28,160 --> 00:13:32,319
that's not that easy because mostly

414
00:13:30,320 --> 00:13:34,000
today the operating system

415
00:13:32,320 --> 00:13:35,680
inhibits this and you have to find a

416
00:13:34,000 --> 00:13:36,480
particular socket setting in order to do

417
00:13:35,680 --> 00:13:38,160
so

418
00:13:36,480 --> 00:13:40,079
and in my software i have chosen a

419
00:13:38,160 --> 00:13:43,199
simple scheme that means if i

420
00:13:40,079 --> 00:13:46,839
if you are if you are uh using the

421
00:13:43,199 --> 00:13:50,479
software and you simply define a dot a a

422
00:13:46,839 --> 00:13:52,959
a column zero address

423
00:13:50,480 --> 00:13:55,040
it says bind to all available ip version

424
00:13:52,959 --> 00:13:55,680
four and ip version six addresses and

425
00:13:55,040 --> 00:13:58,880
that's done

426
00:13:55,680 --> 00:14:02,160
that means now a dns cache can uh can

427
00:13:58,880 --> 00:14:04,639
essentially handle uh requests from ipv

428
00:14:02,160 --> 00:14:07,120
version 4 and ibm version 6 clients

429
00:14:04,639 --> 00:14:07,839
remember what's also interesting and see

430
00:14:07,120 --> 00:14:10,000
that's in the in

431
00:14:07,839 --> 00:14:11,920
the box down there in ip version 6

432
00:14:10,000 --> 00:14:12,720
network you have now three loopback

433
00:14:11,920 --> 00:14:14,719
interfaces

434
00:14:12,720 --> 00:14:16,160
the one loopback interface is given for

435
00:14:14,720 --> 00:14:18,320
the version 4 address

436
00:14:16,160 --> 00:14:19,839
that's a common one two seven over one

437
00:14:18,320 --> 00:14:21,920
we have the global scope

438
00:14:19,839 --> 00:14:23,920
loopback interface which is it which is

439
00:14:21,920 --> 00:14:26,639
a colon colon one address

440
00:14:23,920 --> 00:14:27,360
and we have a local scoped loopback

441
00:14:26,639 --> 00:14:30,240
interface

442
00:14:27,360 --> 00:14:33,519
in a bsd kind of software and a bsd unix

443
00:14:30,240 --> 00:14:36,800
simply it's it is expressed as every 80

444
00:14:33,519 --> 00:14:38,320
column column one percentage hello zero

445
00:14:36,800 --> 00:14:39,199
for instance yeah so we have a different

446
00:14:38,320 --> 00:14:41,279
kind of

447
00:14:39,199 --> 00:14:43,680
guy here we could you can bind a service

448
00:14:41,279 --> 00:14:45,680
to any of those addresses

449
00:14:43,680 --> 00:14:47,760
now let's have a real understanding what

450
00:14:45,680 --> 00:14:50,239
the thing is doing that's a more general

451
00:14:47,760 --> 00:14:51,120
picture here what my dns cache is doing

452
00:14:50,240 --> 00:14:53,440
it receives

453
00:14:51,120 --> 00:14:54,880
essentially requests from the clients

454
00:14:53,440 --> 00:14:57,120
these requests

455
00:14:54,880 --> 00:14:58,800
from the clients can can originate from

456
00:14:57,120 --> 00:15:00,720
an ipv version 4 network they can

457
00:14:58,800 --> 00:15:03,040
originate from ip version 6 network

458
00:15:00,720 --> 00:15:05,199
or they can reach the server by means of

459
00:15:03,040 --> 00:15:06,959
a link local unicast addresses yeah that

460
00:15:05,199 --> 00:15:09,760
means i can configure that server

461
00:15:06,959 --> 00:15:10,959
to listen to all these kind of addresses

462
00:15:09,760 --> 00:15:13,040
so that's quite nice

463
00:15:10,959 --> 00:15:15,040
on the other hand the forwarding of the

464
00:15:13,040 --> 00:15:16,880
query to the internet to the rig to the

465
00:15:15,040 --> 00:15:18,079
the recursion could be done on a

466
00:15:16,880 --> 00:15:20,079
complete different address

467
00:15:18,079 --> 00:15:21,920
that means recursion and and uh and

468
00:15:20,079 --> 00:15:22,560
listening are sitting on different ip

469
00:15:21,920 --> 00:15:25,920
addresses

470
00:15:22,560 --> 00:15:27,199
so we can you can you can have more more

471
00:15:25,920 --> 00:15:28,959
silent situation here

472
00:15:27,199 --> 00:15:30,399
it's a more robust way in order to do

473
00:15:28,959 --> 00:15:32,239
the dns look up here

474
00:15:30,399 --> 00:15:33,920
and you see i do not currently support

475
00:15:32,240 --> 00:15:35,120
dns sec validation but that's the

476
00:15:33,920 --> 00:15:37,839
project which will come

477
00:15:35,120 --> 00:15:39,600
also so that's the difference here now

478
00:15:37,839 --> 00:15:43,120
if you see

479
00:15:39,600 --> 00:15:43,440
if you see the dual stack binding what i

480
00:15:43,120 --> 00:15:45,199
have

481
00:15:43,440 --> 00:15:46,800
is indicated here on the yellow box

482
00:15:45,199 --> 00:15:48,800
having the having the dollar

483
00:15:46,800 --> 00:15:50,399
having the column zero kind of address

484
00:15:48,800 --> 00:15:51,279
and there's one other address which is

485
00:15:50,399 --> 00:15:53,279
of quite

486
00:15:51,279 --> 00:15:54,639
which is quite of some interest i can

487
00:15:53,279 --> 00:15:56,880
use in my software

488
00:15:54,639 --> 00:15:59,120
so double column address to bind to the

489
00:15:56,880 --> 00:16:01,040
unspecific address

490
00:15:59,120 --> 00:16:03,040
to bind to the unspecific address which

491
00:16:01,040 --> 00:16:06,000
is actually used not for receiving

492
00:16:03,040 --> 00:16:08,240
but it's actually used just for sending

493
00:16:06,000 --> 00:16:11,839
so what does that mean

494
00:16:08,240 --> 00:16:13,839
um this means essentially that i can do

495
00:16:11,839 --> 00:16:15,519
what i call reverse ip version 6

496
00:16:13,839 --> 00:16:17,759
anycasting which means

497
00:16:15,519 --> 00:16:19,199
in ipv version 6 network you can

498
00:16:17,759 --> 00:16:22,240
actually have

499
00:16:19,199 --> 00:16:24,479
the generation of of of

500
00:16:22,240 --> 00:16:26,480
interfaces here on demand that means you

501
00:16:24,480 --> 00:16:28,720
can set up a vlan

502
00:16:26,480 --> 00:16:30,079
vlan interface on demand for software

503
00:16:28,720 --> 00:16:32,480
defined network for instance

504
00:16:30,079 --> 00:16:34,479
and here what you can do essentially is

505
00:16:32,480 --> 00:16:36,000
the server is able to bind to newly

506
00:16:34,480 --> 00:16:38,720
generated interfaces so

507
00:16:36,000 --> 00:16:40,399
as soon as it recognizes a new ipv6

508
00:16:38,720 --> 00:16:41,920
address it binds automatically to that

509
00:16:40,399 --> 00:16:43,440
new address without any kind of

510
00:16:41,920 --> 00:16:44,399
reconfiguration that's completely done

511
00:16:43,440 --> 00:16:46,480
automatically

512
00:16:44,399 --> 00:16:47,680
and there you use a specific socket

513
00:16:46,480 --> 00:16:49,600
option in order to do so

514
00:16:47,680 --> 00:16:51,199
that's a nice thing that means you can

515
00:16:49,600 --> 00:16:53,120
generate this kind of

516
00:16:51,199 --> 00:16:54,880
these kind of bindings here which are

517
00:16:53,120 --> 00:16:56,639
not common these days

518
00:16:54,880 --> 00:16:59,040
now the more tricky part is the dns

519
00:16:56,639 --> 00:17:00,639
stuff resolver the problem is the dns

520
00:16:59,040 --> 00:17:01,759
dot resolver regarding the unix

521
00:17:00,639 --> 00:17:03,920
operating system

522
00:17:01,759 --> 00:17:05,199
is mostly based on what we have seen

523
00:17:03,920 --> 00:17:06,959
it's called the

524
00:17:05,199 --> 00:17:09,280
system byte configuration file which is

525
00:17:06,959 --> 00:17:11,600
simply etcresolve.conf

526
00:17:09,280 --> 00:17:13,520
the problem with the etc resolve.confis

527
00:17:11,599 --> 00:17:14,719
it is not standardized there is no rfc

528
00:17:13,520 --> 00:17:17,918
telling what is the format

529
00:17:14,720 --> 00:17:20,400
and there is no way to integrate a uh

530
00:17:17,919 --> 00:17:22,000
ipv6 llu address in the dns

531
00:17:20,400 --> 00:17:23,839
configuration file no way

532
00:17:22,000 --> 00:17:25,119
there's it simply doesn't work yeah you

533
00:17:23,839 --> 00:17:26,720
can try it but it does not work

534
00:17:25,119 --> 00:17:28,239
essentially you can break it but that's

535
00:17:26,720 --> 00:17:28,720
the standard unix way to have a center

536
00:17:28,240 --> 00:17:32,320
control

537
00:17:28,720 --> 00:17:33,679
control essential central uh system-wide

538
00:17:32,320 --> 00:17:35,280
configuration file

539
00:17:33,679 --> 00:17:37,200
the windows operating system makes it

540
00:17:35,280 --> 00:17:38,799
different the windows operating system

541
00:17:37,200 --> 00:17:42,400
essentially generates uh

542
00:17:38,799 --> 00:17:44,720
for each interface a certain possibility

543
00:17:42,400 --> 00:17:46,320
to forward the dns requests over the

544
00:17:44,720 --> 00:17:47,280
interface here so that's interface

545
00:17:46,320 --> 00:17:49,120
specific

546
00:17:47,280 --> 00:17:50,960
what i use in my software according to

547
00:17:49,120 --> 00:17:53,199
what daniel bernstein actually

548
00:17:50,960 --> 00:17:54,240
has coded is an application specific

549
00:17:53,200 --> 00:17:57,039
kind of binding

550
00:17:54,240 --> 00:17:58,640
that's very similar to doh if you have

551
00:17:57,039 --> 00:18:00,720
doh you have a web browser

552
00:17:58,640 --> 00:18:02,720
it simply checks for its own name

553
00:18:00,720 --> 00:18:04,160
resolver and that's what you can do here

554
00:18:02,720 --> 00:18:06,240
also for any application

555
00:18:04,160 --> 00:18:08,640
using it that's quite nice to see that

556
00:18:06,240 --> 00:18:11,280
this is working that way

557
00:18:08,640 --> 00:18:13,039
so essentially it's it's this kind of

558
00:18:11,280 --> 00:18:14,240
configuration what we have in a standard

559
00:18:13,039 --> 00:18:16,360
way we have the etc

560
00:18:14,240 --> 00:18:18,720
result.conf and you remember the

561
00:18:16,360 --> 00:18:21,439
etcres.conf just what we have

562
00:18:18,720 --> 00:18:22,960
heard from renzo it's essentially fed

563
00:18:21,440 --> 00:18:24,720
with information coming from

564
00:18:22,960 --> 00:18:27,440
either from the right from the root

565
00:18:24,720 --> 00:18:29,679
advertisement daemon or from the dhcp

566
00:18:27,440 --> 00:18:30,640
server or from the dhcp version 6 server

567
00:18:29,679 --> 00:18:34,000
or you could

568
00:18:30,640 --> 00:18:35,679
you could enter configuration in etc etc

569
00:18:34,000 --> 00:18:37,360
manually but it's overwritten by any of

570
00:18:35,679 --> 00:18:38,320
those services yeah you cannot rely on

571
00:18:37,360 --> 00:18:39,600
that it could change

572
00:18:38,320 --> 00:18:41,360
you know everything could change here

573
00:18:39,600 --> 00:18:42,959
yeah but that's a rather unfavorable

574
00:18:41,360 --> 00:18:44,479
situation more or less yeah

575
00:18:42,960 --> 00:18:46,160
essentially what we need to have is a

576
00:18:44,480 --> 00:18:48,880
dns end a dns

577
00:18:46,160 --> 00:18:50,640
inc says what are the dns recursive uh

578
00:18:48,880 --> 00:18:51,039
servers we need to we need to contact

579
00:18:50,640 --> 00:18:53,280
here

580
00:18:51,039 --> 00:18:55,440
and what is our local domain essentially

581
00:18:53,280 --> 00:18:58,399
typically uh this is done in the

582
00:18:55,440 --> 00:18:59,679
in the in the lib resolve dot uh so uh

583
00:18:58,400 --> 00:19:01,760
shared object file here

584
00:18:59,679 --> 00:19:03,120
given the bind apis but that's the

585
00:19:01,760 --> 00:19:04,879
standard situation

586
00:19:03,120 --> 00:19:07,840
now the way i did it is a little bit

587
00:19:04,880 --> 00:19:10,880
different the way i do it here is that i

588
00:19:07,840 --> 00:19:11,280
have a specific library given my qlips

589
00:19:10,880 --> 00:19:15,200
here

590
00:19:11,280 --> 00:19:17,120
or the djb uh the sqlf6 libraries here

591
00:19:15,200 --> 00:19:18,400
which needs to be linked with your with

592
00:19:17,120 --> 00:19:21,039
your application

593
00:19:18,400 --> 00:19:21,440
given this linked application you can

594
00:19:21,039 --> 00:19:23,360
have

595
00:19:21,440 --> 00:19:25,280
a certain environment variable which is

596
00:19:23,360 --> 00:19:27,520
called dns cache ip

597
00:19:25,280 --> 00:19:28,480
and now you can say in the dns cache ip

598
00:19:27,520 --> 00:19:30,559
environment variable

599
00:19:28,480 --> 00:19:32,160
which name servers you need to uh which

600
00:19:30,559 --> 00:19:34,480
name service you can actually

601
00:19:32,160 --> 00:19:35,919
contact to in particular including the

602
00:19:34,480 --> 00:19:37,760
interface index

603
00:19:35,919 --> 00:19:39,520
and also what you could have here to

604
00:19:37,760 --> 00:19:41,039
define what is your local domain

605
00:19:39,520 --> 00:19:42,720
that means you can have a you can have a

606
00:19:41,039 --> 00:19:44,799
specific network setting

607
00:19:42,720 --> 00:19:46,400
for an application which is using this

608
00:19:44,799 --> 00:19:48,639
kind of interface here

609
00:19:46,400 --> 00:19:50,880
so uh this is a site from the from the

610
00:19:48,640 --> 00:19:53,919
standard libresource.com for instance

611
00:19:50,880 --> 00:19:55,600
and um this uh

612
00:19:53,919 --> 00:19:57,919
feature what i have introduced of course

613
00:19:55,600 --> 00:19:59,918
does a fallback the fallback simply says

614
00:19:57,919 --> 00:20:01,559
if these environment variables are not

615
00:19:59,919 --> 00:20:03,919
present simply use the standard

616
00:20:01,559 --> 00:20:07,039
etcres.conf of course yeah so this

617
00:20:03,919 --> 00:20:08,320
these things are not are not

618
00:20:07,039 --> 00:20:10,080
these things are not in opposite but

619
00:20:08,320 --> 00:20:11,439
rather you can use them all together so

620
00:20:10,080 --> 00:20:14,799
that's the basic idea

621
00:20:11,440 --> 00:20:16,400
yeah now given this idea you can set up

622
00:20:14,799 --> 00:20:18,840
some kind of you can

623
00:20:16,400 --> 00:20:20,400
we can set up some kind of some kind of

624
00:20:18,840 --> 00:20:22,959
services

625
00:20:20,400 --> 00:20:24,799
you can have iot communication and here

626
00:20:22,960 --> 00:20:27,039
essentially the software is so tiny

627
00:20:24,799 --> 00:20:28,080
that you can you can build up by mean of

628
00:20:27,039 --> 00:20:30,400
these libraries here

629
00:20:28,080 --> 00:20:31,439
dns resolve routines here for iot

630
00:20:30,400 --> 00:20:34,000
devices

631
00:20:31,440 --> 00:20:35,679
and that stuff so that is one okay one

632
00:20:34,000 --> 00:20:37,440
one case one case you can do

633
00:20:35,679 --> 00:20:39,200
you could have uh this solution to be

634
00:20:37,440 --> 00:20:39,600
used for software defined networking

635
00:20:39,200 --> 00:20:42,080
here

636
00:20:39,600 --> 00:20:42,639
having virtual interfaces yeah which you

637
00:20:42,080 --> 00:20:45,439
actually

638
00:20:42,640 --> 00:20:46,559
can can feed now and also you can have

639
00:20:45,440 --> 00:20:47,919
here the situation

640
00:20:46,559 --> 00:20:50,000
where you can have here some kind of

641
00:20:47,919 --> 00:20:51,440
information networking defining

642
00:20:50,000 --> 00:20:56,480
particular dns services

643
00:20:51,440 --> 00:20:56,480
for an application yeah so

644
00:20:57,280 --> 00:21:00,799
time is over i'm sorry about that so

645
00:20:59,039 --> 00:21:02,320
lookout essentially here is

646
00:21:00,799 --> 00:21:04,240
what i would like to do here is to add

647
00:21:02,320 --> 00:21:06,399
multicast support to my stuff here at

648
00:21:04,240 --> 00:21:07,520
tcp supported tiny dns server and all

649
00:21:06,400 --> 00:21:11,039
the other projects are

650
00:21:07,520 --> 00:21:11,039
in the in the future essentially

651
00:21:11,120 --> 00:21:14,559
so that's it for my point thank you very

652
00:21:12,960 --> 00:21:16,960
much thank you aaron i'm sorry

653
00:21:14,559 --> 00:21:18,480
we have no time for questions where

654
00:21:16,960 --> 00:21:19,360
where can people find you if they have

655
00:21:18,480 --> 00:21:21,200
questions

656
00:21:19,360 --> 00:21:22,879
where can people find you will you stick

657
00:21:21,200 --> 00:21:23,200
around for a bit i stick around for a

658
00:21:22,880 --> 00:21:26,320
bit

659
00:21:23,200 --> 00:21:30,720
and uh my slides you find a lot of

660
00:21:26,320 --> 00:21:32,158
ip addresses you can use here and uh

661
00:21:30,720 --> 00:21:34,159
you will be at one of those addresses of

662
00:21:32,159 --> 00:21:36,080
course yeah otherwise simply

663
00:21:34,159 --> 00:21:37,760
uh simply google for that it's it's easy

664
00:21:36,080 --> 00:21:38,320
yeah sorry about that i will update

665
00:21:37,760 --> 00:21:40,559
these

666
00:21:38,320 --> 00:21:41,439
the uh the transparencies with some kind

667
00:21:40,559 --> 00:21:45,840
of information

668
00:21:41,440 --> 00:21:45,840
thank you thank you all right

