1
00:00:05,600 --> 00:00:08,719
thank you so much

2
00:00:06,720 --> 00:00:10,320
uh for being here for this presentation

3
00:00:08,720 --> 00:00:13,040
which will be about the

4
00:00:10,320 --> 00:00:14,400
collaborator office android app and what

5
00:00:13,040 --> 00:00:19,599
is inside

6
00:00:14,400 --> 00:00:19,600
so but before we can see it and uh

7
00:00:19,680 --> 00:00:24,560
i can show it the details of that let me

8
00:00:22,800 --> 00:00:27,359
first get into the history

9
00:00:24,560 --> 00:00:29,279
because as you can see like it's a quite

10
00:00:27,359 --> 00:00:32,640
a lot of history in this like

11
00:00:29,279 --> 00:00:34,399
the work on this started more or less in

12
00:00:32,640 --> 00:00:36,640
2011

13
00:00:34,399 --> 00:00:38,800
and like the first thing with

14
00:00:36,640 --> 00:00:40,480
libreoffice because you can imagine like

15
00:00:38,800 --> 00:00:42,959
it's a huge code base

16
00:00:40,480 --> 00:00:45,199
and getting it to android meant like

17
00:00:42,960 --> 00:00:47,920
first to get something on the screen

18
00:00:45,200 --> 00:00:48,960
uh which was pioneered by michael and

19
00:00:47,920 --> 00:00:51,440
thor

20
00:00:48,960 --> 00:00:53,600
so thank you for starting this at all

21
00:00:51,440 --> 00:00:56,160
and it was like

22
00:00:53,600 --> 00:00:58,000
incredible amount of uh of effort that

23
00:00:56,160 --> 00:01:01,038
that was needed for this

24
00:00:58,000 --> 00:01:04,479
because like for example the linker uh

25
00:01:01,039 --> 00:01:06,960
just allowed like 96 libraries to be

26
00:01:04,479 --> 00:01:08,560
uh loaded at the same time and of course

27
00:01:06,960 --> 00:01:10,798
like

28
00:01:08,560 --> 00:01:12,000
uh libreoffice uh itself had like

29
00:01:10,799 --> 00:01:15,040
several hundred

30
00:01:12,000 --> 00:01:16,560
and it used some component uh component

31
00:01:15,040 --> 00:01:19,759
stuff so that like it was

32
00:01:16,560 --> 00:01:22,240
all loaded on demand and yeah like

33
00:01:19,759 --> 00:01:24,240
you know all this had to be overcome to

34
00:01:22,240 --> 00:01:26,320
to the state that actually like

35
00:01:24,240 --> 00:01:28,399
something got on the screen the

36
00:01:26,320 --> 00:01:32,079
debugging of this was a nightmare

37
00:01:28,400 --> 00:01:35,119
like the uh the stuff was uh

38
00:01:32,079 --> 00:01:37,279
not ready for the native debugging uh at

39
00:01:35,119 --> 00:01:38,479
that time at all like you had to upload

40
00:01:37,280 --> 00:01:42,000
something to the

41
00:01:38,479 --> 00:01:44,560
uh to the device uh put some weights

42
00:01:42,000 --> 00:01:45,200
into the startup uh procedure and you

43
00:01:44,560 --> 00:01:47,840
know all

44
00:01:45,200 --> 00:01:48,560
these these nightmares but they

45
00:01:47,840 --> 00:01:50,720
succeeded

46
00:01:48,560 --> 00:01:52,799
so they've got something on the screen

47
00:01:50,720 --> 00:01:54,320
uh which like you can see tablet

48
00:01:52,799 --> 00:01:56,079
inside there was the screen of

49
00:01:54,320 --> 00:01:56,398
libreoffice but of course like this is

50
00:01:56,079 --> 00:01:58,880
not

51
00:01:56,399 --> 00:02:00,000
what you expect from the uh from the

52
00:01:58,880 --> 00:02:03,439
mobile app so

53
00:02:00,000 --> 00:02:06,640
like it was unusable in this state but

54
00:02:03,439 --> 00:02:09,679
it was possible so the next step

55
00:02:06,640 --> 00:02:12,160
was like trying to get some

56
00:02:09,679 --> 00:02:13,760
host host screens host pages on the

57
00:02:12,160 --> 00:02:16,319
screen

58
00:02:13,760 --> 00:02:17,599
which seemed like a good approach at the

59
00:02:16,319 --> 00:02:20,319
time

60
00:02:17,599 --> 00:02:22,000
so it got it to the application that

61
00:02:20,319 --> 00:02:25,920
like had some list of screen

62
00:02:22,000 --> 00:02:28,000
a little list of um list of

63
00:02:25,920 --> 00:02:29,519
document pages and you were able to

64
00:02:28,000 --> 00:02:31,519
switch in this

65
00:02:29,520 --> 00:02:33,040
but scrolling the document was like

66
00:02:31,519 --> 00:02:35,760
impossible because like

67
00:02:33,040 --> 00:02:38,239
you know you were able only to switch it

68
00:02:35,760 --> 00:02:41,280
like slides

69
00:02:38,239 --> 00:02:44,400
so the next step here was to use

70
00:02:41,280 --> 00:02:46,879
actually the libreoffice kit so

71
00:02:44,400 --> 00:02:50,560
libreoffice kit

72
00:02:46,879 --> 00:02:53,599
that that came from the need of the

73
00:02:50,560 --> 00:02:56,640
mobile and web applications is actually

74
00:02:53,599 --> 00:03:00,560
some kind of api for libreoffice

75
00:02:56,640 --> 00:03:04,159
that that allows you uh to simply access

76
00:03:00,560 --> 00:03:07,200
the functionality of libreoffice from uh

77
00:03:04,159 --> 00:03:10,319
from c or c plus plus

78
00:03:07,200 --> 00:03:11,280
and it allows you to uh draw parts of

79
00:03:10,319 --> 00:03:14,480
the document

80
00:03:11,280 --> 00:03:15,200
into tiles so like you split the entire

81
00:03:14,480 --> 00:03:19,440
documents

82
00:03:15,200 --> 00:03:21,920
into like 256 to 256 pixels

83
00:03:19,440 --> 00:03:23,760
tiles and then like you can request them

84
00:03:21,920 --> 00:03:26,640
you can request them like uh

85
00:03:23,760 --> 00:03:28,399
by absolute coordinates so like uh the

86
00:03:26,640 --> 00:03:30,480
theory is that like

87
00:03:28,400 --> 00:03:31,920
when you just want to fetch something

88
00:03:30,480 --> 00:03:34,879
from the recommend document

89
00:03:31,920 --> 00:03:36,159
you say okay well i need it from over

90
00:03:34,879 --> 00:03:38,798
here over there

91
00:03:36,159 --> 00:03:40,159
and then you have some like composition

92
00:03:38,799 --> 00:03:41,599
that like composes that

93
00:03:40,159 --> 00:03:43,200
into something that looks like the

94
00:03:41,599 --> 00:03:46,640
document

95
00:03:43,200 --> 00:03:51,359
which was great it it functioned

96
00:03:46,640 --> 00:03:52,798
nicely and like later it was extended to

97
00:03:51,360 --> 00:03:56,000
actually like uh

98
00:03:52,799 --> 00:03:57,040
that the editing worked too um it meant

99
00:03:56,000 --> 00:04:00,000
that like uh

100
00:03:57,040 --> 00:04:01,679
all the stuff had to be had to be

101
00:04:00,000 --> 00:04:03,920
updated so that like

102
00:04:01,680 --> 00:04:05,200
when the user actually types something

103
00:04:03,920 --> 00:04:08,238
into the

104
00:04:05,200 --> 00:04:11,839
uh into the document like that

105
00:04:08,239 --> 00:04:12,560
the part that where the user actually

106
00:04:11,840 --> 00:04:14,480
typed

107
00:04:12,560 --> 00:04:15,840
is invalidated and new tiles are

108
00:04:14,480 --> 00:04:18,959
actually fetched

109
00:04:15,840 --> 00:04:20,079
for this for this area which was done by

110
00:04:18,959 --> 00:04:24,880
miklosh

111
00:04:20,079 --> 00:04:28,880
so this is what we had in 2015

112
00:04:24,880 --> 00:04:32,880
the problem of this was that

113
00:04:28,880 --> 00:04:32,880
oh didn't i skip something

114
00:04:34,320 --> 00:04:38,400
i did yeah the important part of this

115
00:04:37,040 --> 00:04:41,120
was that

116
00:04:38,400 --> 00:04:42,719
that actually uh like the the

117
00:04:41,120 --> 00:04:45,520
compositing of the stars

118
00:04:42,720 --> 00:04:46,160
into to form something like the document

119
00:04:45,520 --> 00:04:49,919
uh

120
00:04:46,160 --> 00:04:52,720
was done in java via produced code or

121
00:04:49,919 --> 00:04:53,599
thomas has reused code for this from

122
00:04:52,720 --> 00:04:57,040
mozilla

123
00:04:53,600 --> 00:04:57,919
which had this fenug prototype at that

124
00:04:57,040 --> 00:05:01,280
time

125
00:04:57,919 --> 00:05:03,758
and so

126
00:05:01,280 --> 00:05:04,320
it kind of worked but the problem was

127
00:05:03,759 --> 00:05:08,240
that

128
00:05:04,320 --> 00:05:09,280
like it divert from what the code was

129
00:05:08,240 --> 00:05:12,160
doing

130
00:05:09,280 --> 00:05:15,280
for the web so of course the libreoffice

131
00:05:12,160 --> 00:05:17,600
kit api was extended over time

132
00:05:15,280 --> 00:05:19,520
so that uh so that like more and more

133
00:05:17,600 --> 00:05:21,440
features were added there

134
00:05:19,520 --> 00:05:23,599
so that like you were able to type

135
00:05:21,440 --> 00:05:26,800
concurrently

136
00:05:23,600 --> 00:05:27,680
in the web browser and also like have

137
00:05:26,800 --> 00:05:29,840
there more

138
00:05:27,680 --> 00:05:31,360
functionality exposed like sorority

139
00:05:29,840 --> 00:05:33,758
dialogues and everything

140
00:05:31,360 --> 00:05:34,639
but like uh maintaining these two code

141
00:05:33,759 --> 00:05:37,600
bases was

142
00:05:34,639 --> 00:05:38,000
uh was like very inconvenient like you

143
00:05:37,600 --> 00:05:40,080
would have

144
00:05:38,000 --> 00:05:41,919
to to be on par with the features like

145
00:05:40,080 --> 00:05:44,159
that were developed for the app

146
00:05:41,919 --> 00:05:45,840
uh you would have to like do it just

147
00:05:44,160 --> 00:05:48,639
once again for the

148
00:05:45,840 --> 00:05:50,638
uh for the in java for the for the

149
00:05:48,639 --> 00:05:53,759
mobile part as well

150
00:05:50,639 --> 00:05:56,479
and uh so the idea uh

151
00:05:53,759 --> 00:05:58,479
that uh that uh thor was uh was

152
00:05:56,479 --> 00:06:02,318
implementing for the ios

153
00:05:58,479 --> 00:06:06,560
was actually like do everything um

154
00:06:02,319 --> 00:06:09,039
like uh in a web browser even in the app

155
00:06:06,560 --> 00:06:11,680
so basically in the background have the

156
00:06:09,039 --> 00:06:15,520
libreoffice and libreoffice kit

157
00:06:11,680 --> 00:06:18,400
and then like have have a full screen

158
00:06:15,520 --> 00:06:19,280
webview where you are running the

159
00:06:18,400 --> 00:06:22,479
javascript

160
00:06:19,280 --> 00:06:24,000
that is like normally normally used on

161
00:06:22,479 --> 00:06:27,199
the in the web version

162
00:06:24,000 --> 00:06:29,520
but use that uh use that on the

163
00:06:27,199 --> 00:06:31,360
on the actual device as well with all

164
00:06:29,520 --> 00:06:34,000
the cross-compiled code

165
00:06:31,360 --> 00:06:34,800
in the in the background and and all

166
00:06:34,000 --> 00:06:37,759
these things

167
00:06:34,800 --> 00:06:38,240
and it worked for the ios so at some

168
00:06:37,759 --> 00:06:41,039
stage

169
00:06:38,240 --> 00:06:42,479
like uh i tried to to do it for android

170
00:06:41,039 --> 00:06:45,520
as well

171
00:06:42,479 --> 00:06:48,318
and yeah

172
00:06:45,520 --> 00:06:49,359
it had some problems as well of course

173
00:06:48,319 --> 00:06:52,400
so

174
00:06:49,360 --> 00:06:55,440
first of all the old wsd

175
00:06:52,400 --> 00:06:58,239
has to be ported to android

176
00:06:55,440 --> 00:07:00,880
like luckily it was not that hard

177
00:06:58,240 --> 00:07:04,400
because like it was pioneer for ios

178
00:07:00,880 --> 00:07:07,840
as well it was using the same uh

179
00:07:04,400 --> 00:07:11,120
native code that that the like is

180
00:07:07,840 --> 00:07:13,520
compiled for the old uh like uh fennec

181
00:07:11,120 --> 00:07:13,520
based

182
00:07:13,599 --> 00:07:22,159
app that that is written like

183
00:07:17,440 --> 00:07:22,160
entirely in java and uh

184
00:07:22,319 --> 00:07:28,800
and uh but there were things that that

185
00:07:25,680 --> 00:07:32,080
had to be done done a bit differently so

186
00:07:28,800 --> 00:07:35,039
um first of all uh like uh i wanted

187
00:07:32,080 --> 00:07:35,919
this to be built in android studio uh so

188
00:07:35,039 --> 00:07:39,360
that like uh

189
00:07:35,919 --> 00:07:41,599
the the debugging is easier and uh

190
00:07:39,360 --> 00:07:43,680
like it is more standard for like

191
00:07:41,599 --> 00:07:44,159
anybody who comes from the android world

192
00:07:43,680 --> 00:07:46,639
and

193
00:07:44,160 --> 00:07:48,080
and sees this for the first time so in

194
00:07:46,639 --> 00:07:52,800
the in the online git

195
00:07:48,080 --> 00:07:52,800
uh where the like web web version

196
00:07:53,120 --> 00:07:56,319
lives uh i've created the androids up

197
00:07:55,919 --> 00:07:59,039
there

198
00:07:56,319 --> 00:08:00,879
and uh like introduce the appropriate

199
00:07:59,039 --> 00:08:03,919
configuration options and

200
00:08:00,879 --> 00:08:07,039
and everything uh then

201
00:08:03,919 --> 00:08:09,120
uh then uh edit the

202
00:08:07,039 --> 00:08:10,479
the the stuff that like had to be built

203
00:08:09,120 --> 00:08:13,199
natively

204
00:08:10,479 --> 00:08:15,120
but for that i've created in cmake so

205
00:08:13,199 --> 00:08:16,800
that the so that like android studio

206
00:08:15,120 --> 00:08:18,400
actually understands this and

207
00:08:16,800 --> 00:08:19,919
and it is possible to build it uh

208
00:08:18,400 --> 00:08:23,039
directly from there

209
00:08:19,919 --> 00:08:25,520
um luckily uh the debugging part of this

210
00:08:23,039 --> 00:08:27,759
worked pretty well uh so now like you

211
00:08:25,520 --> 00:08:29,440
can debug this uh completely like

212
00:08:27,759 --> 00:08:31,440
directly from the android studio

213
00:08:29,440 --> 00:08:32,559
you can set the breakpoints even for the

214
00:08:31,440 --> 00:08:35,279
native part

215
00:08:32,559 --> 00:08:36,159
and and all these things work nicely if

216
00:08:35,279 --> 00:08:38,958
you want to

217
00:08:36,159 --> 00:08:40,159
know the details like how to set it up

218
00:08:38,958 --> 00:08:42,799
for this just

219
00:08:40,159 --> 00:08:44,560
read the android slash readme it is

220
00:08:42,799 --> 00:08:48,399
described there

221
00:08:44,560 --> 00:08:51,279
and yes so the minimal app was created

222
00:08:48,399 --> 00:08:52,720
so like the webview over the entire

223
00:08:51,279 --> 00:08:55,279
screen

224
00:08:52,720 --> 00:08:57,200
and some kind of communication between

225
00:08:55,279 --> 00:09:00,480
the webview that is there

226
00:08:57,200 --> 00:09:01,279
and between the native uh native uh part

227
00:09:00,480 --> 00:09:04,399
that this like

228
00:09:01,279 --> 00:09:07,760
behind the scenes um so

229
00:09:04,399 --> 00:09:10,800
um we had to um

230
00:09:07,760 --> 00:09:13,040
we had to like introduce like two ways

231
00:09:10,800 --> 00:09:14,880
of communication so one is from uh from

232
00:09:13,040 --> 00:09:18,160
javascript to native

233
00:09:14,880 --> 00:09:20,080
and uh that is like uh reasonably easy

234
00:09:18,160 --> 00:09:21,680
on android like when you have the web

235
00:09:20,080 --> 00:09:25,200
view you just

236
00:09:21,680 --> 00:09:25,760
add javascript interface and then you

237
00:09:25,200 --> 00:09:28,880
can

238
00:09:25,760 --> 00:09:29,360
you can run it easily uh like uh like

239
00:09:28,880 --> 00:09:32,480
this

240
00:09:29,360 --> 00:09:35,680
low ws low message handler dot

241
00:09:32,480 --> 00:09:37,120
post mobile message and like you get it

242
00:09:35,680 --> 00:09:40,640
uh from the

243
00:09:37,120 --> 00:09:43,120
uh from the uh javascript to native

244
00:09:40,640 --> 00:09:44,080
but uh from the native to javascript

245
00:09:43,120 --> 00:09:47,040
like it's

246
00:09:44,080 --> 00:09:48,160
uh a bit hackish uh because like you

247
00:09:47,040 --> 00:09:51,360
have to

248
00:09:48,160 --> 00:09:54,560
use this javascript

249
00:09:51,360 --> 00:09:57,120
prefix that actually runs like one

250
00:09:54,560 --> 00:09:59,518
javascript function so basically like

251
00:09:57,120 --> 00:10:03,200
you encode your entire message

252
00:09:59,519 --> 00:10:04,240
um which can be quite large like it can

253
00:10:03,200 --> 00:10:07,120
be the entire

254
00:10:04,240 --> 00:10:08,320
uh the entire tile and uh like

255
00:10:07,120 --> 00:10:11,600
encapsulate it

256
00:10:08,320 --> 00:10:13,200
that way and and you you will it will be

257
00:10:11,600 --> 00:10:15,360
called in in javascript

258
00:10:13,200 --> 00:10:16,480
and then like processed by the by the

259
00:10:15,360 --> 00:10:20,480
online partic

260
00:10:16,480 --> 00:10:20,880
actually itself i was concerned about

261
00:10:20,480 --> 00:10:23,120
like

262
00:10:20,880 --> 00:10:24,880
how this is going to be performing but

263
00:10:23,120 --> 00:10:26,480
it is not that bad like

264
00:10:24,880 --> 00:10:28,079
it is not showing that much in the

265
00:10:26,480 --> 00:10:31,120
profile so

266
00:10:28,079 --> 00:10:33,760
it's not not terrible um

267
00:10:31,120 --> 00:10:35,600
then uh like when this manimal app was

268
00:10:33,760 --> 00:10:37,519
was created like lots of functionality

269
00:10:35,600 --> 00:10:40,000
has to be had to be ported from the

270
00:10:37,519 --> 00:10:41,120
from the old app that we had uh because

271
00:10:40,000 --> 00:10:43,279
like it had the

272
00:10:41,120 --> 00:10:44,480
it had the shell that showed like uh

273
00:10:43,279 --> 00:10:47,200
what are the

274
00:10:44,480 --> 00:10:48,320
uh what are the files on the on the

275
00:10:47,200 --> 00:10:52,399
device

276
00:10:48,320 --> 00:10:54,480
um it uh

277
00:10:52,399 --> 00:10:56,000
had to be done so that like there are

278
00:10:54,480 --> 00:10:58,560
some assets that uh

279
00:10:56,000 --> 00:11:01,440
that come with the uh with the native

280
00:10:58,560 --> 00:11:03,518
part that like have to be present

281
00:11:01,440 --> 00:11:06,000
uh on the device so that like things

282
00:11:03,519 --> 00:11:06,640
work uh some of these assets have to be

283
00:11:06,000 --> 00:11:09,440
some kind of

284
00:11:06,640 --> 00:11:11,120
unpacked so that like they behave like

285
00:11:09,440 --> 00:11:13,920
real normal files

286
00:11:11,120 --> 00:11:14,959
uh on the device because like we depend

287
00:11:13,920 --> 00:11:18,399
on many

288
00:11:14,959 --> 00:11:22,560
uh many uh like uh third-party

289
00:11:18,399 --> 00:11:23,279
uh projects like font config and these

290
00:11:22,560 --> 00:11:25,920
things and

291
00:11:23,279 --> 00:11:27,200
lots of these have some configurations

292
00:11:25,920 --> 00:11:29,920
uh that just have to be

293
00:11:27,200 --> 00:11:30,320
like uh read directly from the disk so

294
00:11:29,920 --> 00:11:32,880
uh

295
00:11:30,320 --> 00:11:34,160
so like it had to it they cannot be as

296
00:11:32,880 --> 00:11:36,640
assets because assets

297
00:11:34,160 --> 00:11:38,160
are very special on android so so like

298
00:11:36,640 --> 00:11:40,160
they have to be copied first

299
00:11:38,160 --> 00:11:42,240
uh at the first start and then can be

300
00:11:40,160 --> 00:11:46,719
used later

301
00:11:42,240 --> 00:11:48,640
then some like important things like uh

302
00:11:46,720 --> 00:11:50,000
displaying the license and the notice

303
00:11:48,640 --> 00:11:52,399
file and of course

304
00:11:50,000 --> 00:11:54,320
settings so that like you can you can

305
00:11:52,399 --> 00:11:57,360
can tweak the configuration of the

306
00:11:54,320 --> 00:12:00,480
of the thing uh then

307
00:11:57,360 --> 00:12:03,600
we had a summer of code student uh

308
00:12:00,480 --> 00:12:04,639
during this summer or the last summer uh

309
00:12:03,600 --> 00:12:07,680
kaisusahu

310
00:12:04,639 --> 00:12:10,880
who added lots of things that are

311
00:12:07,680 --> 00:12:13,439
expected on the on the android device

312
00:12:10,880 --> 00:12:15,439
so some print support slide show support

313
00:12:13,440 --> 00:12:18,399
which exports the

314
00:12:15,440 --> 00:12:19,040
the the slideshow into svg and shows it

315
00:12:18,399 --> 00:12:22,079
as a

316
00:12:19,040 --> 00:12:25,360
full screen device

317
00:12:22,079 --> 00:12:28,638
inserting images again like you have to

318
00:12:25,360 --> 00:12:31,200
like start a separate activity uh that

319
00:12:28,639 --> 00:12:31,760
that allows you to to choose the file

320
00:12:31,200 --> 00:12:34,000
and

321
00:12:31,760 --> 00:12:35,439
and provide it back to the document so

322
00:12:34,000 --> 00:12:38,480
that it is inserted

323
00:12:35,440 --> 00:12:41,279
lots of useful stuff

324
00:12:38,480 --> 00:12:42,000
and of course lots of bug fixing so one

325
00:12:41,279 --> 00:12:44,560
of the

326
00:12:42,000 --> 00:12:45,120
thing that that was a huge challenge was

327
00:12:44,560 --> 00:12:47,518
uh

328
00:12:45,120 --> 00:12:48,399
actually life cycle of the thing because

329
00:12:47,519 --> 00:12:51,440
uh because

330
00:12:48,399 --> 00:12:54,560
uh like the android life cycle

331
00:12:51,440 --> 00:12:57,600
um goes through like many steps and

332
00:12:54,560 --> 00:13:00,560
it is a bit unclear like in what state

333
00:12:57,600 --> 00:13:02,480
uh like how the how the native uh part

334
00:13:00,560 --> 00:13:05,680
uh is supposed to behave like

335
00:13:02,480 --> 00:13:08,079
when you are actually uh supposed to uh

336
00:13:05,680 --> 00:13:10,160
to tear it down when you are supposed to

337
00:13:08,079 --> 00:13:12,319
uh to leave it like in the background

338
00:13:10,160 --> 00:13:13,839
because like you know that that you will

339
00:13:12,320 --> 00:13:16,639
return to some state

340
00:13:13,839 --> 00:13:17,120
very uh very soon and stuff like that so

341
00:13:16,639 --> 00:13:19,760
uh

342
00:13:17,120 --> 00:13:20,399
so like we had lots of crashes there

343
00:13:19,760 --> 00:13:22,160
luckily

344
00:13:20,399 --> 00:13:24,240
it seems to be in some reasonable

345
00:13:22,160 --> 00:13:27,279
reasonable shape just now

346
00:13:24,240 --> 00:13:30,800
then then

347
00:13:27,279 --> 00:13:33,760
it was necessary to to debug

348
00:13:30,800 --> 00:13:35,439
some pieces like the startup time it

349
00:13:33,760 --> 00:13:37,839
turned out that like uh

350
00:13:35,440 --> 00:13:40,399
we were starting about a minute just

351
00:13:37,839 --> 00:13:43,360
because the font config

352
00:13:40,399 --> 00:13:45,040
was parsing the huge note of fonts that

353
00:13:43,360 --> 00:13:48,160
are on the device

354
00:13:45,040 --> 00:13:51,279
and uh and so like we had to

355
00:13:48,160 --> 00:13:52,319
overtake it some way and fix other

356
00:13:51,279 --> 00:13:55,839
crashes

357
00:13:52,320 --> 00:13:59,519
at some other stuff and then

358
00:13:55,839 --> 00:14:02,639
uh we tried to publish in google play

359
00:13:59,519 --> 00:14:03,120
but just at the time like when we were

360
00:14:02,639 --> 00:14:06,320
ready

361
00:14:03,120 --> 00:14:09,120
all was nicely done uh google play

362
00:14:06,320 --> 00:14:10,480
uh like uh came up with the new policy

363
00:14:09,120 --> 00:14:12,720
and that was that

364
00:14:10,480 --> 00:14:15,040
when you have a native app in the app

365
00:14:12,720 --> 00:14:16,079
store it has to have 64-bit version as

366
00:14:15,040 --> 00:14:19,439
well

367
00:14:16,079 --> 00:14:22,880
and so far like everything was 32-bit so

368
00:14:19,440 --> 00:14:26,720
uh we had to make the low wsd

369
00:14:22,880 --> 00:14:28,639
compilable uh on 64-bit which needed a

370
00:14:26,720 --> 00:14:32,160
poco that that we

371
00:14:28,639 --> 00:14:35,199
that we actually use as like

372
00:14:32,160 --> 00:14:36,639
the main dependency for the online

373
00:14:35,199 --> 00:14:39,519
itself

374
00:14:36,639 --> 00:14:40,160
we had to had to port it to 64-bit

375
00:14:39,519 --> 00:14:43,440
luckily

376
00:14:40,160 --> 00:14:46,560
like uh it needed just few patches

377
00:14:43,440 --> 00:14:49,920
but still it was a bit annoying

378
00:14:46,560 --> 00:14:52,880
then delivery of his core itself

379
00:14:49,920 --> 00:14:53,920
again like it is supported to arm 64 for

380
00:14:52,880 --> 00:14:56,240
a long time

381
00:14:53,920 --> 00:14:57,599
but on android it behaved a bit

382
00:14:56,240 --> 00:15:01,040
differently

383
00:14:57,600 --> 00:15:02,480
so some things uh they're

384
00:15:01,040 --> 00:15:04,319
like necessary to be fixed in the

385
00:15:02,480 --> 00:15:07,040
bridges which which is the like

386
00:15:04,320 --> 00:15:09,519
very low level part of this uh so that

387
00:15:07,040 --> 00:15:12,639
first it compiled it all on android

388
00:15:09,519 --> 00:15:14,800
and then that it run because uh like the

389
00:15:12,639 --> 00:15:16,399
exceptions didn't work there so we had

390
00:15:14,800 --> 00:15:20,000
to do some hacks that were

391
00:15:16,399 --> 00:15:22,560
uh like already done for ios but like

392
00:15:20,000 --> 00:15:24,639
not used in generally so so had to be

393
00:15:22,560 --> 00:15:27,199
changed there

394
00:15:24,639 --> 00:15:28,240
and of course the online build now had

395
00:15:27,199 --> 00:15:31,599
to count on

396
00:15:28,240 --> 00:15:33,839
actually having two trees uh of the

397
00:15:31,600 --> 00:15:37,120
of the compiled native stuff uh so one

398
00:15:33,839 --> 00:15:40,000
it was the 32-bit uh the other 64-bit

399
00:15:37,120 --> 00:15:42,399
and create some android app bundle uh

400
00:15:40,000 --> 00:15:45,120
that is then uploaded to the google play

401
00:15:42,399 --> 00:15:45,920
and google play like when it serves to

402
00:15:45,120 --> 00:15:49,120
the

403
00:15:45,920 --> 00:15:50,240
to the devices uh like repacks that uh

404
00:15:49,120 --> 00:15:53,360
into the actual ap

405
00:15:50,240 --> 00:15:55,279
case and uh and then like uh the

406
00:15:53,360 --> 00:15:56,959
the users are actually served either

407
00:15:55,279 --> 00:15:59,759
with the 64-bit

408
00:15:56,959 --> 00:16:02,479
uh version or with the 32-bit version

409
00:15:59,759 --> 00:16:06,720
according to their device

410
00:16:02,480 --> 00:16:09,199
so finally we've got it there and

411
00:16:06,720 --> 00:16:10,639
we've got through several iterations

412
00:16:09,199 --> 00:16:13,279
since then

413
00:16:10,639 --> 00:16:13,920
so again like more pieces from the old

414
00:16:13,279 --> 00:16:16,880
app

415
00:16:13,920 --> 00:16:18,639
they're ported so for example support

416
00:16:16,880 --> 00:16:21,120
for sd cards

417
00:16:18,639 --> 00:16:22,480
or for cloud storage currently next

418
00:16:21,120 --> 00:16:26,320
cloud is supported

419
00:16:22,480 --> 00:16:29,040
hope to have more in the future then

420
00:16:26,320 --> 00:16:29,920
many improvements interact interaction

421
00:16:29,040 --> 00:16:33,040
and the biggest

422
00:16:29,920 --> 00:16:34,719
thing that was there was the was the

423
00:16:33,040 --> 00:16:36,240
mobile desired

424
00:16:34,720 --> 00:16:38,320
we call it this way because we don't

425
00:16:36,240 --> 00:16:38,880
have a better name but it's basically

426
00:16:38,320 --> 00:16:42,079
the

427
00:16:38,880 --> 00:16:45,199
uh the stuff that you see see down there

428
00:16:42,079 --> 00:16:48,319
so some details uh and in there

429
00:16:45,199 --> 00:16:51,359
so uh thanks to kylo to

430
00:16:48,320 --> 00:16:54,720
for some design device uh advice here

431
00:16:51,360 --> 00:16:58,240
uh we were able to actually

432
00:16:54,720 --> 00:17:01,839
actually add some dumping of the

433
00:16:58,240 --> 00:17:05,039
uh of the content of the widgets

434
00:17:01,839 --> 00:17:06,640
that are that are in the dialogues or in

435
00:17:05,039 --> 00:17:09,760
the sidebars

436
00:17:06,640 --> 00:17:11,679
so we are able to dump it as as json and

437
00:17:09,760 --> 00:17:15,199
transfer it to the

438
00:17:11,679 --> 00:17:17,679
to the javascript part and based on that

439
00:17:15,199 --> 00:17:19,199
like we are able to to display the

440
00:17:17,679 --> 00:17:21,439
information that is either in the

441
00:17:19,199 --> 00:17:24,880
dialogues or in the sidebar some

442
00:17:21,439 --> 00:17:27,919
more convenient way for the users

443
00:17:24,880 --> 00:17:30,320
so like what what you see in the picture

444
00:17:27,919 --> 00:17:32,799
is the sidebar that you would see

445
00:17:30,320 --> 00:17:33,200
normally in libreoffice but like present

446
00:17:32,799 --> 00:17:37,360
it

447
00:17:33,200 --> 00:17:40,240
in in javascript rendered in javascript

448
00:17:37,360 --> 00:17:41,600
so it works nicely you have all the

449
00:17:40,240 --> 00:17:45,120
things like uh

450
00:17:41,600 --> 00:17:48,480
smooth scrolling and and

451
00:17:45,120 --> 00:17:51,520
interactions and all these things so

452
00:17:48,480 --> 00:17:55,200
if it works i can

453
00:17:51,520 --> 00:17:55,200
hopefully show you some demo

454
00:17:55,280 --> 00:18:00,160
yeah so this is like what you get when

455
00:17:58,480 --> 00:18:03,360
you start it on the

456
00:18:00,160 --> 00:18:03,360
on the on the device

457
00:18:07,039 --> 00:18:15,840
some editing yes was started

458
00:18:11,600 --> 00:18:15,840
yeah okay you can select something

459
00:18:16,080 --> 00:18:19,600
if you are more lucky than me with my

460
00:18:18,640 --> 00:18:23,520
fingers then

461
00:18:19,600 --> 00:18:26,559
you will do it on the first attempt

462
00:18:23,520 --> 00:18:26,559
change some properties

463
00:18:26,720 --> 00:18:30,320
you can insert some chart here a search

464
00:18:29,679 --> 00:18:33,600
chart no

465
00:18:30,320 --> 00:18:36,159
chart but table so then

466
00:18:33,600 --> 00:18:37,439
you can see the the the mobile desired

467
00:18:36,160 --> 00:18:41,600
in action here

468
00:18:37,440 --> 00:18:44,640
like change the the columns and rows

469
00:18:41,600 --> 00:18:46,959
you can type something into the into the

470
00:18:44,640 --> 00:18:46,960
table

471
00:18:50,799 --> 00:18:56,559
and if it doesn't fit you can resize the

472
00:18:54,840 --> 00:18:59,600
table

473
00:18:56,559 --> 00:19:01,918
so that is more convenient like there

474
00:18:59,600 --> 00:19:05,039
are the special handles done for this

475
00:19:01,919 --> 00:19:05,039
for all this editing

476
00:19:10,880 --> 00:19:16,880
more scrolling and that's it i think we

477
00:19:14,240 --> 00:19:16,880
are at the end

478
00:19:22,840 --> 00:19:29,760
yeah okay

479
00:19:26,400 --> 00:19:32,160
so some future steps uh will be

480
00:19:29,760 --> 00:19:33,840
more to do of course more profile and

481
00:19:32,160 --> 00:19:37,360
optimizing

482
00:19:33,840 --> 00:19:39,360
uh but at the moment like the most uh

483
00:19:37,360 --> 00:19:41,918
most terrible problems i think are are

484
00:19:39,360 --> 00:19:47,199
sorted out but still of course like

485
00:19:41,919 --> 00:19:49,120
more to do as usual at the moment

486
00:19:47,200 --> 00:19:50,559
from time to time you could see that

487
00:19:49,120 --> 00:19:53,918
some

488
00:19:50,559 --> 00:19:56,879
document just doesn't doesn't load

489
00:19:53,919 --> 00:19:57,679
but i fixed that yesterday so this is

490
00:19:56,880 --> 00:20:00,320
all

491
00:19:57,679 --> 00:20:02,159
um basically what was uh going on is

492
00:20:00,320 --> 00:20:04,960
that some people with some

493
00:20:02,159 --> 00:20:06,320
uh like uh a bit strange low chaos

494
00:20:04,960 --> 00:20:09,840
setting

495
00:20:06,320 --> 00:20:12,960
for the lip lip length tag

496
00:20:09,840 --> 00:20:16,158
was not finding the data so

497
00:20:12,960 --> 00:20:16,640
and it's it just uh like then didn't

498
00:20:16,159 --> 00:20:19,360
load

499
00:20:16,640 --> 00:20:20,080
and presented some like filenet phones

500
00:20:19,360 --> 00:20:23,199
found

501
00:20:20,080 --> 00:20:25,199
dialog box uh update the document

502
00:20:23,200 --> 00:20:25,919
creation mode so currently we just like

503
00:20:25,200 --> 00:20:28,480
copy

504
00:20:25,919 --> 00:20:30,559
uh the document from some temporary

505
00:20:28,480 --> 00:20:32,240
state into the new document and create

506
00:20:30,559 --> 00:20:34,480
from that

507
00:20:32,240 --> 00:20:35,440
like we would like to to use some real

508
00:20:34,480 --> 00:20:37,840
templates here

509
00:20:35,440 --> 00:20:38,960
uh for the for the documentation which

510
00:20:37,840 --> 00:20:41,760
is possible

511
00:20:38,960 --> 00:20:43,360
uh but not finished of course lots of

512
00:20:41,760 --> 00:20:45,600
paper cuts here and there

513
00:20:43,360 --> 00:20:48,000
uh for example the most visible at the

514
00:20:45,600 --> 00:20:50,399
moment is smooth scrolling uh

515
00:20:48,000 --> 00:20:51,120
so like the inner shot so that like when

516
00:20:50,400 --> 00:20:53,120
you uh

517
00:20:51,120 --> 00:20:54,559
move with the finger quickly that like

518
00:20:53,120 --> 00:20:56,158
it goes on

519
00:20:54,559 --> 00:20:57,600
and before it reaches somewhere

520
00:20:56,159 --> 00:21:00,960
something

521
00:20:57,600 --> 00:21:03,280
and yeah that's it i think so

522
00:21:00,960 --> 00:21:04,480
if you want to get involved uh you are

523
00:21:03,280 --> 00:21:07,840
most welcome

524
00:21:04,480 --> 00:21:10,400
uh it is uh not that hard to set up

525
00:21:07,840 --> 00:21:11,918
um unfortunately like you first have to

526
00:21:10,400 --> 00:21:15,039
uh cross-compile the

527
00:21:11,919 --> 00:21:16,000
libreoffice 3 but then the rest is like

528
00:21:15,039 --> 00:21:19,200
reasonably easy

529
00:21:16,000 --> 00:21:21,360
reasonably familiar uh to people who

530
00:21:19,200 --> 00:21:22,799
have who has done have done some some

531
00:21:21,360 --> 00:21:25,600
android development

532
00:21:22,799 --> 00:21:27,760
and many thanks to people who uh who

533
00:21:25,600 --> 00:21:30,240
contributed directly to the android port

534
00:21:27,760 --> 00:21:30,960
but of course like lots of other people

535
00:21:30,240 --> 00:21:34,000
have

536
00:21:30,960 --> 00:21:37,440
contributed to the uh to the

537
00:21:34,000 --> 00:21:40,480
uh online collaborate did

538
00:21:37,440 --> 00:21:44,830
most of the work in the online there so

539
00:21:40,480 --> 00:21:50,799
so thank you so much so that's it

540
00:21:44,830 --> 00:21:53,760
[Applause]

541
00:21:50,799 --> 00:21:53,760
any questions please

542
00:21:56,840 --> 00:22:01,360
yes

543
00:21:58,159 --> 00:22:04,559
between online and android's builds

544
00:22:01,360 --> 00:22:04,559
so they keep up with it

545
00:22:05,520 --> 00:22:12,240
it just creates new google play release

546
00:22:09,120 --> 00:22:13,039
online yeah i yes so at the moment like

547
00:22:12,240 --> 00:22:16,080
the

548
00:22:13,039 --> 00:22:18,799
the google play releases are a bit more

549
00:22:16,080 --> 00:22:19,600
frequent than the the releases on the

550
00:22:18,799 --> 00:22:23,039
normal of

551
00:22:19,600 --> 00:22:25,039
online uh because like uh we have uh

552
00:22:23,039 --> 00:22:26,158
some additional fixes that are like

553
00:22:25,039 --> 00:22:29,360
directly in the android

554
00:22:26,159 --> 00:22:30,480
part that are not not general but of

555
00:22:29,360 --> 00:22:33,600
course like

556
00:22:30,480 --> 00:22:36,480
because all this code code is shared so

557
00:22:33,600 --> 00:22:36,959
if we improve something for the android

558
00:22:36,480 --> 00:22:39,760
uh

559
00:22:36,960 --> 00:22:40,559
and it is in the javascript part it will

560
00:22:39,760 --> 00:22:43,360
improve the

561
00:22:40,559 --> 00:22:45,360
the the experience even for people who

562
00:22:43,360 --> 00:22:48,158
are using the web version

563
00:22:45,360 --> 00:22:48,719
uh the web version normally like for

564
00:22:48,159 --> 00:22:51,679
from the

565
00:22:48,720 --> 00:22:53,679
but on the mobile device so like they

566
00:22:51,679 --> 00:22:56,559
will see lots of

567
00:22:53,679 --> 00:22:58,400
these things there improved as well but

568
00:22:56,559 --> 00:22:59,200
like currently i think it is more often

569
00:22:58,400 --> 00:23:02,480
than

570
00:22:59,200 --> 00:23:05,600
than the normal normal online

571
00:23:02,480 --> 00:23:09,039
releases or the code

572
00:23:05,600 --> 00:23:11,199
maybe it is like similar as the code

573
00:23:09,039 --> 00:23:13,440
and from time to time there's like one

574
00:23:11,200 --> 00:23:16,000
release in between

575
00:23:13,440 --> 00:23:17,840
so something like that like in the

576
00:23:16,000 --> 00:23:23,840
recent past it was like every

577
00:23:17,840 --> 00:23:23,840
two weeks

578
00:23:27,760 --> 00:23:33,679
ios so ios is a bit different

579
00:23:30,799 --> 00:23:34,799
in the releases because uh like in the

580
00:23:33,679 --> 00:23:38,159
test flight

581
00:23:34,799 --> 00:23:40,720
we update it uh frequently but

582
00:23:38,159 --> 00:23:41,679
the normal app is now based on the

583
00:23:40,720 --> 00:23:45,120
photo0

584
00:23:41,679 --> 00:23:47,919
still and we

585
00:23:45,120 --> 00:23:48,959
still have to update some stuff so that

586
00:23:47,919 --> 00:23:52,320
like we can

587
00:23:48,960 --> 00:23:52,960
we can like base it on 4.2 so like the

588
00:23:52,320 --> 00:23:56,240
official

589
00:23:52,960 --> 00:23:58,880
release of the ios app will update uh

590
00:23:56,240 --> 00:24:00,400
a bit later but currently like if you

591
00:23:58,880 --> 00:24:02,960
are the test flight user

592
00:24:00,400 --> 00:24:05,840
uh you will see like similar pace of the

593
00:24:02,960 --> 00:24:05,840
updates

594
00:24:07,200 --> 00:24:11,360
thank you for the question any other

595
00:24:09,679 --> 00:24:12,960
question

596
00:24:11,360 --> 00:24:16,000
yes please imagine there's no video

597
00:24:12,960 --> 00:24:19,039
support on any of the mobile devices yet

598
00:24:16,000 --> 00:24:33,840
no video support no video support

599
00:24:19,039 --> 00:24:33,840
i don't think there is

600
00:24:38,480 --> 00:24:41,760
okay any other question

601
00:24:44,840 --> 00:24:47,840
yes

602
00:25:08,480 --> 00:25:15,840
so yeah

603
00:25:22,799 --> 00:25:42,799
second version will be

604
00:25:29,120 --> 00:25:47,120
the first question is

605
00:25:42,799 --> 00:25:47,120
okay any other question

606
00:25:47,760 --> 00:25:57,840
then thank you so much

607
00:25:59,760 --> 00:26:01,840
you

