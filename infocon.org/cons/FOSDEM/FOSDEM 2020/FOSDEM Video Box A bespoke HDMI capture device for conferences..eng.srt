1
00:00:05,680 --> 00:00:08,000
so guys this will be a bit of a bumpy

2
00:00:07,279 --> 00:00:10,879
ride today

3
00:00:08,000 --> 00:00:11,759
um these slides were almost finished an

4
00:00:10,880 --> 00:00:14,320
hour ago

5
00:00:11,759 --> 00:00:16,160
and we had 20 minutes to talk together

6
00:00:14,320 --> 00:00:17,520
five as well

7
00:00:16,160 --> 00:00:19,439
he will be on one on the slides you'll

8
00:00:17,520 --> 00:00:21,759
recognize him in a bit

9
00:00:19,439 --> 00:00:22,720
he knows i've shown it a few minutes ago

10
00:00:21,760 --> 00:00:24,640
yeah

11
00:00:22,720 --> 00:00:26,560
he was not well he was happy and not

12
00:00:24,640 --> 00:00:27,359
happy so yeah um the sites were only

13
00:00:26,560 --> 00:00:30,320
finished a few

14
00:00:27,359 --> 00:00:32,000
of an hour ago max and we had 20 minutes

15
00:00:30,320 --> 00:00:33,440
to go over them last night when they

16
00:00:32,000 --> 00:00:34,559
were still in an unfinished state

17
00:00:33,440 --> 00:00:36,559
because of all the

18
00:00:34,559 --> 00:00:38,718
stuff we had to do so it will be a bit

19
00:00:36,559 --> 00:00:40,239
of a bumpy ride and i have

20
00:00:38,719 --> 00:00:41,680
a bit of an idea of the structure these

21
00:00:40,239 --> 00:00:43,199
guys i have no idea of the structure

22
00:00:41,680 --> 00:00:46,399
anymore

23
00:00:43,200 --> 00:00:48,000
and i don't know um whether the

24
00:00:46,399 --> 00:00:49,520
transitions will be okay or not we will

25
00:00:48,000 --> 00:00:52,960
see

26
00:00:49,520 --> 00:00:55,440
so over there is geriani can start

27
00:00:52,960 --> 00:00:56,719
hi i'm uh i've been part of the fosum

28
00:00:55,440 --> 00:01:00,000
organization for

29
00:00:56,719 --> 00:01:02,559
16 years now i've taken up a role in the

30
00:01:00,000 --> 00:01:02,559
video team

31
00:01:02,719 --> 00:01:07,680
five-ish years ago when we tried to come

32
00:01:05,760 --> 00:01:09,200
up with a new solution to our streaming

33
00:01:07,680 --> 00:01:11,439
as you've seen

34
00:01:09,200 --> 00:01:12,479
our video history has been a bumpy ride

35
00:01:11,439 --> 00:01:14,559
so far

36
00:01:12,479 --> 00:01:16,640
um but in the last couple of years we've

37
00:01:14,560 --> 00:01:19,360
managed to get it to work quite well

38
00:01:16,640 --> 00:01:19,920
and well this what you're about to see

39
00:01:19,360 --> 00:01:22,240
um

40
00:01:19,920 --> 00:01:23,920
the boxes you see in the back well

41
00:01:22,240 --> 00:01:25,839
that's up here in the front are

42
00:01:23,920 --> 00:01:27,680
mostly the reason for that we'll give a

43
00:01:25,840 --> 00:01:30,560
brief overview of

44
00:01:27,680 --> 00:01:31,119
how we got all of that to work um and

45
00:01:30,560 --> 00:01:33,920
then

46
00:01:31,119 --> 00:01:34,320
we'll tell you about our future plans

47
00:01:33,920 --> 00:01:38,159
mark

48
00:01:34,320 --> 00:01:39,039
introduce yourself well uh i'm mark i've

49
00:01:38,159 --> 00:01:42,880
been

50
00:01:39,040 --> 00:01:46,560
i'm too old to remember uh i'm too old

51
00:01:42,880 --> 00:01:48,000
i've been in on the fosdem team and yeah

52
00:01:46,560 --> 00:01:51,520
i started playing with

53
00:01:48,000 --> 00:01:54,159
video together with kyrie i think

54
00:01:51,520 --> 00:01:54,960
uh yeah but i remember you running the

55
00:01:54,159 --> 00:01:58,560
aw

56
00:01:54,960 --> 00:01:59,039
building in 2010. no yeah i had a core

57
00:01:58,560 --> 00:02:01,119
boot

58
00:01:59,040 --> 00:02:02,479
and and and then and you were running

59
00:02:01,119 --> 00:02:05,600
the building yeah so we first

60
00:02:02,479 --> 00:02:06,320
started chatting yeah 2010 yeah so i'm

61
00:02:05,600 --> 00:02:08,399
look for

62
00:02:06,320 --> 00:02:10,639
mostly known as libvi mostly known for

63
00:02:08,399 --> 00:02:12,160
graphics drivers such as while mode

64
00:02:10,639 --> 00:02:14,079
setting

65
00:02:12,160 --> 00:02:15,440
the free ati driver called radeon hd

66
00:02:14,080 --> 00:02:19,680
which was actual c code

67
00:02:15,440 --> 00:02:21,920
lima then xunxi

68
00:02:19,680 --> 00:02:23,120
flashrom for ati graphics cards that

69
00:02:21,920 --> 00:02:24,958
sort of thing

70
00:02:23,120 --> 00:02:28,239
i've been running a div room here since

71
00:02:24,959 --> 00:02:31,519
2006 with a few hiatuses

72
00:02:28,239 --> 00:02:33,040
in between i think at this point with

73
00:02:31,519 --> 00:02:35,120
philip the switch stopping with the

74
00:02:33,040 --> 00:02:38,160
embedded devroom i'm the oldest

75
00:02:35,120 --> 00:02:40,239
room manager around

76
00:02:38,160 --> 00:02:41,599
yeah so a few years ago we didn't have

77
00:02:40,239 --> 00:02:43,120
enough talks

78
00:02:41,599 --> 00:02:44,720
in 2016 there weren't enough talks for

79
00:02:43,120 --> 00:02:46,239
the exhaustive rooms so i went

80
00:02:44,720 --> 00:02:47,359
decided for another hiatus and then i

81
00:02:46,239 --> 00:02:48,560
helped these guys out with a bit of

82
00:02:47,360 --> 00:02:50,160
video

83
00:02:48,560 --> 00:02:52,000
which was interesting and then i slowly

84
00:02:50,160 --> 00:02:54,160
got more and more dragged into the whole

85
00:02:52,000 --> 00:02:57,040
thing

86
00:02:54,160 --> 00:02:58,720
so you all know this fosdem is indeed

87
00:02:57,040 --> 00:03:01,599
insane so nobody does

88
00:02:58,720 --> 00:03:03,280
what these guys are doing or i only do a

89
00:03:01,599 --> 00:03:04,720
small part but these guys they're core

90
00:03:03,280 --> 00:03:06,640
organizers and they're

91
00:03:04,720 --> 00:03:09,040
they have no time and they don't sleep

92
00:03:06,640 --> 00:03:10,799
much in the weeks before the event and

93
00:03:09,040 --> 00:03:12,480
you can't reach them anymore on the days

94
00:03:10,800 --> 00:03:14,239
themselves and if you see them they will

95
00:03:12,480 --> 00:03:17,119
they're always running

96
00:03:14,239 --> 00:03:19,120
um so what the numbers you see here

97
00:03:17,120 --> 00:03:20,720
we're now at 29 parallel tracks last

98
00:03:19,120 --> 00:03:23,840
year we're in 28.

99
00:03:20,720 --> 00:03:25,840
nobody does that i think we're three

100
00:03:23,840 --> 00:03:26,560
times as large as the next larger on the

101
00:03:25,840 --> 00:03:30,840
planet

102
00:03:26,560 --> 00:03:32,239
something like that of the 835 talks

103
00:03:30,840 --> 00:03:36,239
accepted

104
00:03:32,239 --> 00:03:40,319
in penta there were about 1800

105
00:03:36,239 --> 00:03:42,239
proposals so more than half got refused

106
00:03:40,319 --> 00:03:44,839
and we're the only people that are

107
00:03:42,239 --> 00:03:48,319
streaming this out live

108
00:03:44,840 --> 00:03:50,640
and 29 live streams

109
00:03:48,319 --> 00:03:52,958
nobody does that nobody does that even

110
00:03:50,640 --> 00:03:55,359
if it's only 720p nobody does that

111
00:03:52,959 --> 00:03:56,159
and you'll be surprised about the budget

112
00:03:55,360 --> 00:03:58,400
um

113
00:03:56,159 --> 00:03:59,760
we won't say any numbers but you will

114
00:03:58,400 --> 00:04:01,439
probably spend more on public

115
00:03:59,760 --> 00:04:02,159
transportation going back to the inner

116
00:04:01,439 --> 00:04:04,560
city and

117
00:04:02,159 --> 00:04:05,599
uh back and forth two times or four

118
00:04:04,560 --> 00:04:07,680
times

119
00:04:05,599 --> 00:04:10,879
then you falls and spins for every

120
00:04:07,680 --> 00:04:13,200
visitor pretty much

121
00:04:10,879 --> 00:04:14,159
so it is this is quite insane um it's

122
00:04:13,200 --> 00:04:17,358
all either

123
00:04:14,159 --> 00:04:18,719
beer event it's probably a bit of money

124
00:04:17,358 --> 00:04:21,519
of the food trucks

125
00:04:18,720 --> 00:04:22,880
there's a few there's big sponsors but

126
00:04:21,519 --> 00:04:24,080
they're also limited in the amount the

127
00:04:22,880 --> 00:04:26,080
money that they can give so that it

128
00:04:24,080 --> 00:04:26,719
stays a proper grassroots project and

129
00:04:26,080 --> 00:04:29,120
that it

130
00:04:26,720 --> 00:04:30,960
it doesn't change its nature at all and

131
00:04:29,120 --> 00:04:33,040
one of the mantras is small changes

132
00:04:30,960 --> 00:04:34,239
every year tiny changes tiny teens don't

133
00:04:33,040 --> 00:04:37,600
change anything big like

134
00:04:34,240 --> 00:04:38,560
one dev room or uh small changes to hdmi

135
00:04:37,600 --> 00:04:40,639
kitty

136
00:04:38,560 --> 00:04:42,800
well that is exactly one mistake that we

137
00:04:40,639 --> 00:04:46,080
made at one point um is when we scaled

138
00:04:42,800 --> 00:04:47,840
up from five rooms to 21 rooms

139
00:04:46,080 --> 00:04:49,919
don't do that it doesn't work when was

140
00:04:47,840 --> 00:04:52,719
that um

141
00:04:49,919 --> 00:04:54,159
i think that was 2014 oh for video for

142
00:04:52,720 --> 00:04:54,880
video yeah not not for the whole

143
00:04:54,160 --> 00:04:58,160
difference

144
00:04:54,880 --> 00:05:00,000
so don't do that that idea

145
00:04:58,160 --> 00:05:02,000
yeah for me it was amazing before that

146
00:05:00,000 --> 00:05:04,080
it was always michael larabel

147
00:05:02,000 --> 00:05:05,919
from furonic sitting in front with a hd

148
00:05:04,080 --> 00:05:07,919
usb webcam

149
00:05:05,919 --> 00:05:09,680
there was like one dev room in the h

150
00:05:07,919 --> 00:05:12,639
building where there's only one door

151
00:05:09,680 --> 00:05:13,919
no windows no ventilation no nothing and

152
00:05:12,639 --> 00:05:14,720
it would just sit there for two days

153
00:05:13,919 --> 00:05:17,919
straight and then

154
00:05:14,720 --> 00:05:19,039
it's insane so all this stuff is quite

155
00:05:17,919 --> 00:05:22,080
amazing

156
00:05:19,039 --> 00:05:24,000
so this is our setup is working

157
00:05:22,080 --> 00:05:25,680
those boxes well they're they're wooden

158
00:05:24,000 --> 00:05:27,199
boxes you'll see a picture oh we forgot

159
00:05:25,680 --> 00:05:27,759
i forgot to bring you one of the boxes

160
00:05:27,199 --> 00:05:31,039
upstairs

161
00:05:27,759 --> 00:05:34,000
well yeah there's no changing that

162
00:05:31,039 --> 00:05:37,360
anymore um there's a picture of a box

163
00:05:34,000 --> 00:05:39,199
in there as well so the speaker's laptop

164
00:05:37,360 --> 00:05:41,039
is all the way on the

165
00:05:39,199 --> 00:05:42,560
uh is there a curse being there that's

166
00:05:41,039 --> 00:05:44,400
the speaker's laptop in this

167
00:05:42,560 --> 00:05:47,120
image this is the slides box which is a

168
00:05:44,400 --> 00:05:49,198
bit special it goes out to a projector

169
00:05:47,120 --> 00:05:50,479
the audio is going straight into the

170
00:05:49,199 --> 00:05:53,520
camera

171
00:05:50,479 --> 00:05:54,960
and this then uh feeds it in over hdmi

172
00:05:53,520 --> 00:05:56,960
audio over the camera

173
00:05:54,960 --> 00:05:58,880
into another speaker into another slides

174
00:05:56,960 --> 00:06:00,560
box and this all gets combined in a

175
00:05:58,880 --> 00:06:02,000
switch and then goes out to the fossil

176
00:06:00,560 --> 00:06:02,880
network and you can see the cable

177
00:06:02,000 --> 00:06:05,600
running over there

178
00:06:02,880 --> 00:06:07,280
to the back and it goes here into in at

179
00:06:05,600 --> 00:06:07,680
least in this building it goes here into

180
00:06:07,280 --> 00:06:10,960
the

181
00:06:07,680 --> 00:06:12,000
um the ulb network and then it's into a

182
00:06:10,960 --> 00:06:13,599
video vlan

183
00:06:12,000 --> 00:06:15,440
and the guy who was setting up the audio

184
00:06:13,600 --> 00:06:16,960
earlier is sitting downstairs

185
00:06:15,440 --> 00:06:19,280
watching a big monitor and this year we

186
00:06:16,960 --> 00:06:22,000
have three guys watching monitors right

187
00:06:19,280 --> 00:06:24,400
so that's already a big change i didn't

188
00:06:22,000 --> 00:06:27,280
do your suggestion to the slides because

189
00:06:24,400 --> 00:06:28,960
well this one laptop is quite cool and

190
00:06:27,280 --> 00:06:30,400
there's only a small machine in between

191
00:06:28,960 --> 00:06:32,159
doing the actual streaming right so

192
00:06:30,400 --> 00:06:33,919
there's downstairs there's a few

193
00:06:32,160 --> 00:06:36,560
laptops that there will be a slide about

194
00:06:33,919 --> 00:06:38,880
this you don't know the structure

195
00:06:36,560 --> 00:06:40,639
yet right this is a bit of a surprise

196
00:06:38,880 --> 00:06:42,639
for you guys and

197
00:06:40,639 --> 00:06:44,319
if you've ever talked here or if you've

198
00:06:42,639 --> 00:06:46,000
been running a dev room then you know

199
00:06:44,319 --> 00:06:47,280
that since a few years a few minutes

200
00:06:46,000 --> 00:06:49,360
after talk is finished

201
00:06:47,280 --> 00:06:51,520
you get an email and you get to be you

202
00:06:49,360 --> 00:06:53,039
get told that you can review your

203
00:06:51,520 --> 00:06:54,639
talk and you can say the start in the

204
00:06:53,039 --> 00:06:55,840
end and then minutes later

205
00:06:54,639 --> 00:06:57,919
if there's nothing going wrong the

206
00:06:55,840 --> 00:06:58,960
network is okay this will be published

207
00:06:57,919 --> 00:07:00,799
already

208
00:06:58,960 --> 00:07:02,080
and it's all being streamed live and the

209
00:07:00,800 --> 00:07:04,000
publishing is already

210
00:07:02,080 --> 00:07:05,919
where is it belnet and a few other sites

211
00:07:04,000 --> 00:07:07,599
probably have about 10 million

212
00:07:05,919 --> 00:07:09,359
we have about 10 mirrors that hold our

213
00:07:07,599 --> 00:07:12,159
content so

214
00:07:09,360 --> 00:07:12,880
we upload it to our master server and

215
00:07:12,160 --> 00:07:15,039
then the mirrors

216
00:07:12,880 --> 00:07:16,000
just sync sync from there using rsync

217
00:07:15,039 --> 00:07:18,560
that's nothing

218
00:07:16,000 --> 00:07:20,240
magic and we use a redirection service

219
00:07:18,560 --> 00:07:23,199
that's mirror bits actually

220
00:07:20,240 --> 00:07:24,880
um to redirect you to the closest or you

221
00:07:23,199 --> 00:07:26,560
know most useful mirror for you

222
00:07:24,880 --> 00:07:28,400
so everything becomes a so as soon as

223
00:07:26,560 --> 00:07:29,199
the dock is reviewed it will be

224
00:07:28,400 --> 00:07:32,080
available to

225
00:07:29,199 --> 00:07:33,199
viewers within the next half an hour or

226
00:07:32,080 --> 00:07:34,800
so

227
00:07:33,199 --> 00:07:36,479
so next few slides will give you a bit

228
00:07:34,800 --> 00:07:38,720
of an idea of the insanity and

229
00:07:36,479 --> 00:07:39,919
the scale of the current setup and most

230
00:07:38,720 --> 00:07:42,720
of the insanity we will keep

231
00:07:39,919 --> 00:07:44,318
we'll just fix this one thing and take

232
00:07:42,720 --> 00:07:47,120
one of the biggest issues

233
00:07:44,319 --> 00:07:48,800
so this laptop is a laptop downstairs

234
00:07:47,120 --> 00:07:51,199
and there's a few more of those it has

235
00:07:48,800 --> 00:07:51,199
friends

236
00:07:51,759 --> 00:07:58,639
mark well yeah we first attempted to

237
00:07:55,280 --> 00:08:00,638
recycle some old servers uh they were

238
00:07:58,639 --> 00:08:03,840
more efficient as like

239
00:08:00,639 --> 00:08:07,199
space heaters basically we had like

240
00:08:03,840 --> 00:08:09,840
five or six of them in a garage and like

241
00:08:07,199 --> 00:08:10,479
it was in the middle of winter and like

242
00:08:09,840 --> 00:08:13,280
it

243
00:08:10,479 --> 00:08:15,199
got pretty hot in there with just trying

244
00:08:13,280 --> 00:08:18,239
to do

245
00:08:15,199 --> 00:08:20,400
like eight or nine streams

246
00:08:18,240 --> 00:08:21,280
and then they fell over dumped into

247
00:08:20,400 --> 00:08:24,560
kernel bugs

248
00:08:21,280 --> 00:08:27,440
so and we were on the time pressure uh

249
00:08:24,560 --> 00:08:30,080
for the first time we were like trying

250
00:08:27,440 --> 00:08:32,559
to do this software setup ourselves so

251
00:08:30,080 --> 00:08:34,079
i said like hey i had this laptop that i

252
00:08:32,559 --> 00:08:36,640
had this

253
00:08:34,080 --> 00:08:37,200
voctomic stuff like that we used to to

254
00:08:36,640 --> 00:08:41,679
do the

255
00:08:37,200 --> 00:08:45,120
mixing on um uh i i tested with it

256
00:08:41,679 --> 00:08:47,760
and it seemed to work like let's just

257
00:08:45,120 --> 00:08:51,200
try with a laptop and see if it can

258
00:08:47,760 --> 00:08:54,399
stably well yeah

259
00:08:51,200 --> 00:08:55,360
do the encoding and mixing etc in a

260
00:08:54,399 --> 00:08:58,720
stable way

261
00:08:55,360 --> 00:09:01,680
you have network you have a power supply

262
00:08:58,720 --> 00:09:04,240
ups basic keyboards dirt cheap so we buy

263
00:09:01,680 --> 00:09:07,760
a bunch of these before the conference

264
00:09:04,240 --> 00:09:08,720
about 50 and we well we get rid of them

265
00:09:07,760 --> 00:09:09,839
after the conference

266
00:09:08,720 --> 00:09:12,080
during the conference during the

267
00:09:09,839 --> 00:09:14,160
conference yeah people buy them right

268
00:09:12,080 --> 00:09:15,839
and then they were sold in out in like

269
00:09:14,160 --> 00:09:18,000
one hour one hour yeah

270
00:09:15,839 --> 00:09:20,240
so did you make money or did you just

271
00:09:18,000 --> 00:09:22,560
break even or did you lose a tiny bit

272
00:09:20,240 --> 00:09:24,080
so um we don't make money on the wall we

273
00:09:22,560 --> 00:09:26,800
we make a couple of dollars

274
00:09:24,080 --> 00:09:27,519
um on the on the laptops but so we buy

275
00:09:26,800 --> 00:09:30,640
them in bulk

276
00:09:27,519 --> 00:09:33,839
um and we sell vouchers at the

277
00:09:30,640 --> 00:09:34,720
info desk um well i did that yesterday

278
00:09:33,839 --> 00:09:37,519
um they

279
00:09:34,720 --> 00:09:39,120
i sold 38 because i had reservations for

280
00:09:37,519 --> 00:09:40,320
a couple of others and we keep a few

281
00:09:39,120 --> 00:09:42,560
ourselves

282
00:09:40,320 --> 00:09:43,839
for use under the year and they were

283
00:09:42,560 --> 00:09:46,719
gone in about an hour so

284
00:09:43,839 --> 00:09:48,080
um we sold all of these for 150 euros a

285
00:09:46,720 --> 00:09:49,200
piece which is approximately the price

286
00:09:48,080 --> 00:09:51,680
we paid for them

287
00:09:49,200 --> 00:09:53,279
there are lenovo x250s this year this

288
00:09:51,680 --> 00:09:56,239
year but we started off with

289
00:09:53,279 --> 00:09:58,320
x220s a couple of years back and we

290
00:09:56,240 --> 00:10:00,959
repeat the same cycle every time so

291
00:09:58,320 --> 00:10:01,440
this costs us nothing at all and we get

292
00:10:00,959 --> 00:10:03,279
to

293
00:10:01,440 --> 00:10:05,600
well we have them from october

294
00:10:03,279 --> 00:10:06,959
approximately so it gives us time to set

295
00:10:05,600 --> 00:10:09,680
them up test them all

296
00:10:06,959 --> 00:10:10,319
and use them at the event and at no cost

297
00:10:09,680 --> 00:10:14,000
actually

298
00:10:10,320 --> 00:10:17,839
so this is underneath the big

299
00:10:14,000 --> 00:10:20,399
uh the chairs of the big room downstairs

300
00:10:17,839 --> 00:10:20,880
to the network room so you first pass

301
00:10:20,399 --> 00:10:24,399
some

302
00:10:20,880 --> 00:10:26,560
um really smelly sewage pipes

303
00:10:24,399 --> 00:10:28,240
and then you get to a warm room and

304
00:10:26,560 --> 00:10:29,599
there's lots of humming going on and

305
00:10:28,240 --> 00:10:31,600
that's where they are standing

306
00:10:29,600 --> 00:10:33,120
so on the other side of this there is

307
00:10:31,600 --> 00:10:33,760
actually a few server racks and i think

308
00:10:33,120 --> 00:10:35,760
a few

309
00:10:33,760 --> 00:10:38,319
of us machines are always in there all

310
00:10:35,760 --> 00:10:40,800
year long right

311
00:10:38,320 --> 00:10:42,480
so we rent most of the other gear like

312
00:10:40,800 --> 00:10:44,079
the cameras are rented the microphones

313
00:10:42,480 --> 00:10:44,800
are rented and the stands are rented and

314
00:10:44,079 --> 00:10:46,479
there's a

315
00:10:44,800 --> 00:10:48,000
big mess every year trying to get the

316
00:10:46,480 --> 00:10:49,040
inventory of that done trying to get

317
00:10:48,000 --> 00:10:51,279
them tested and then

318
00:10:49,040 --> 00:10:53,120
finding out that this year a few hdmi

319
00:10:51,279 --> 00:10:54,880
connectors were broken on the

320
00:10:53,120 --> 00:10:56,880
cameras and the microphones were broken

321
00:10:54,880 --> 00:10:58,959
this is always fun

322
00:10:56,880 --> 00:11:00,000
but yeah this is the slide pile they

323
00:10:58,959 --> 00:11:02,719
come from holland

324
00:11:00,000 --> 00:11:04,560
somewhere they fill up half a t5

325
00:11:02,720 --> 00:11:07,279
transporter

326
00:11:04,560 --> 00:11:09,920
so that's quite a big pile now this is

327
00:11:07,279 --> 00:11:12,079
only 35 of our boxes

328
00:11:09,920 --> 00:11:14,079
um in the fosdem office there's usually

329
00:11:12,079 --> 00:11:16,959
58 lined up but there's a 3d

330
00:11:14,079 --> 00:11:18,000
printer on this side of it and then on

331
00:11:16,959 --> 00:11:21,839
the other side

332
00:11:18,000 --> 00:11:22,640
there are just more boxes and the only

333
00:11:21,839 --> 00:11:24,640
picture i

334
00:11:22,640 --> 00:11:26,640
got was from this is from ghosty that i

335
00:11:24,640 --> 00:11:26,880
got and the other side was all blurred

336
00:11:26,640 --> 00:11:30,240
and

337
00:11:26,880 --> 00:11:31,760
i have one picture with you in it but

338
00:11:30,240 --> 00:11:34,399
showing you from your better side so i

339
00:11:31,760 --> 00:11:35,839
was not using that slide

340
00:11:34,399 --> 00:11:38,800
you were just looking in a box at this

341
00:11:35,839 --> 00:11:40,800
point so no we're not using that slide

342
00:11:38,800 --> 00:11:42,479
so they're all packed up in flight cases

343
00:11:40,800 --> 00:11:45,439
these are this is the exact

344
00:11:42,480 --> 00:11:46,000
coffin that is over there and these

345
00:11:45,440 --> 00:11:47,839
things

346
00:11:46,000 --> 00:11:49,279
get quite quite heavy and we have to

347
00:11:47,839 --> 00:11:51,760
drag them from

348
00:11:49,279 --> 00:11:53,279
one floor up from the fosdem office all

349
00:11:51,760 --> 00:11:56,639
the way down every

350
00:11:53,279 --> 00:11:58,480
thursday before fosdem and tomorrow

351
00:11:56,639 --> 00:11:58,800
evening we will have to carry them all

352
00:11:58,480 --> 00:12:00,720
up

353
00:11:58,800 --> 00:12:02,880
all together with all the boxes that we

354
00:12:00,720 --> 00:12:05,680
have at all the kit which is also about

355
00:12:02,880 --> 00:12:07,760
between 80 and 100 boxes that we have

356
00:12:05,680 --> 00:12:09,920
like this big

357
00:12:07,760 --> 00:12:11,439
and these things you need four people to

358
00:12:09,920 --> 00:12:13,040
get those up the stairs or down the

359
00:12:11,440 --> 00:12:14,880
stairs as well so they're they're quite

360
00:12:13,040 --> 00:12:18,000
bulky and quite heavy so we have

361
00:12:14,880 --> 00:12:19,279
several of them this is a photo taken

362
00:12:18,000 --> 00:12:21,760
yesterday morning so

363
00:12:19,279 --> 00:12:23,760
six and a half of these boxes and in

364
00:12:21,760 --> 00:12:24,000
every building usually one box travels

365
00:12:23,760 --> 00:12:25,760
off

366
00:12:24,000 --> 00:12:27,440
and that's sometimes also where the

367
00:12:25,760 --> 00:12:28,880
video people will live for the weekend

368
00:12:27,440 --> 00:12:32,079
when they check streams and make sure

369
00:12:28,880 --> 00:12:34,000
that the cameras keep on running

370
00:12:32,079 --> 00:12:35,519
so this is one of the video boxes you've

371
00:12:34,000 --> 00:12:37,200
probably seen them everywhere already we

372
00:12:35,519 --> 00:12:39,040
are now currently using two in the back

373
00:12:37,200 --> 00:12:40,320
because we're testing a

374
00:12:39,040 --> 00:12:42,240
open source hardware kit it's open

375
00:12:40,320 --> 00:12:43,519
source hardware right yes

376
00:12:42,240 --> 00:12:45,120
we're testing an open source hardware

377
00:12:43,519 --> 00:12:45,440
camera and our usual camera so we now

378
00:12:45,120 --> 00:12:48,240
have

379
00:12:45,440 --> 00:12:49,760
two um camera boxes there are two

380
00:12:48,240 --> 00:12:50,720
different ones there's one for slides

381
00:12:49,760 --> 00:12:52,319
there's one for camera

382
00:12:50,720 --> 00:12:56,000
we'll get to that in a bit the axiom

383
00:12:52,320 --> 00:12:57,440
people are right next to it by the way

384
00:12:56,000 --> 00:13:00,000
these guys are doing something really

385
00:12:57,440 --> 00:13:03,200
cool it's a 4k camera which is

386
00:13:00,000 --> 00:13:06,000
completely open source hardware so it's

387
00:13:03,200 --> 00:13:08,000
not cheap but you're working on it but

388
00:13:06,000 --> 00:13:10,399
but next this year you guys should have

389
00:13:08,000 --> 00:13:13,440
a talk about this in this exact room

390
00:13:10,399 --> 00:13:15,360
let's do that yeah

391
00:13:13,440 --> 00:13:16,800
and invite the guys who do the full hd

392
00:13:15,360 --> 00:13:17,680
version as well so there's two different

393
00:13:16,800 --> 00:13:20,560
boxes

394
00:13:17,680 --> 00:13:22,638
this is what they're and next year you

395
00:13:20,560 --> 00:13:27,359
should bring 30 cameras maybe

396
00:13:22,639 --> 00:13:27,360
for free just a suggestion

397
00:13:28,880 --> 00:13:32,800
so yeah mark you used to double with 3d

398
00:13:31,680 --> 00:13:34,560
printers for a bit so you

399
00:13:32,800 --> 00:13:36,560
did all the you did all the case work

400
00:13:34,560 --> 00:13:38,800
for this and you thought it was

401
00:13:36,560 --> 00:13:40,479
going to be fancy and all 3d the whole

402
00:13:38,800 --> 00:13:43,199
um laser cut stuff

403
00:13:40,480 --> 00:13:44,880
yeah and then you started screwing them

404
00:13:43,199 --> 00:13:48,800
together and then you noticed that maybe

405
00:13:44,880 --> 00:13:51,040
for 58 boxes this is not the best idea

406
00:13:48,800 --> 00:13:52,160
so this was a lot of work for somebody

407
00:13:51,040 --> 00:13:54,800
you got something

408
00:13:52,160 --> 00:13:56,959
yeah okay i outsourced it yeah outsource

409
00:13:54,800 --> 00:13:58,319
it and the connectors in front are also

410
00:13:56,959 --> 00:14:00,239
mighty expensive i think all the

411
00:13:58,320 --> 00:14:02,240
connectors per bucks are more than what

412
00:14:00,240 --> 00:14:03,360
the our box will be in future so pretty

413
00:14:02,240 --> 00:14:05,440
much yeah

414
00:14:03,360 --> 00:14:07,120
this is this nurturing stuff it's like

415
00:14:05,440 --> 00:14:07,519
that's on the lower end of 100 euros

416
00:14:07,120 --> 00:14:10,959
just

417
00:14:07,519 --> 00:14:12,880
just the connectors yeah it's just

418
00:14:10,959 --> 00:14:14,479
anyway so you've all walked in here

419
00:14:12,880 --> 00:14:16,000
you've seen the franken box that i've

420
00:14:14,480 --> 00:14:17,760
built over the last month with parts

421
00:14:16,000 --> 00:14:19,839
that i scrounged from the office like a

422
00:14:17,760 --> 00:14:22,240
month ago

423
00:14:19,839 --> 00:14:23,360
and yeah if i would just leave the slide

424
00:14:22,240 --> 00:14:24,079
at this and you would have learned

425
00:14:23,360 --> 00:14:26,639
nothing

426
00:14:24,079 --> 00:14:28,959
because all you see is cables so i've

427
00:14:26,639 --> 00:14:30,880
done slanting slightly fancy so

428
00:14:28,959 --> 00:14:33,518
where the signal from the laptop first

429
00:14:30,880 --> 00:14:35,360
comes in is an hdmi active splitter

430
00:14:33,519 --> 00:14:36,560
it's one of those cheap chinese things

431
00:14:35,360 --> 00:14:39,360
that you bought

432
00:14:36,560 --> 00:14:42,160
100 from immediately or yeah we have

433
00:14:39,360 --> 00:14:44,720
about 100 of them

434
00:14:42,160 --> 00:14:47,120
this is not very smart because the first

435
00:14:44,720 --> 00:14:49,120
hdmi connection that it sees is also the

436
00:14:47,120 --> 00:14:51,199
monitor identification data that it

437
00:14:49,120 --> 00:14:54,240
keeps and feeds on

438
00:14:51,199 --> 00:14:54,959
so this is always a bit of a gamble now

439
00:14:54,240 --> 00:14:58,079
from here

440
00:14:54,959 --> 00:15:00,638
it goes to the projector and it

441
00:14:58,079 --> 00:15:02,719
goes to the scaler and i have a slide

442
00:15:00,639 --> 00:15:04,560
about this in a bit

443
00:15:02,720 --> 00:15:06,800
because this is a very important and

444
00:15:04,560 --> 00:15:09,518
also blocking item for us

445
00:15:06,800 --> 00:15:11,760
from the scaler it goes to a hardware

446
00:15:09,519 --> 00:15:12,079
h.264 encoder there's also a slide about

447
00:15:11,760 --> 00:15:14,160
this

448
00:15:12,079 --> 00:15:16,319
one and from there it goes to banana pie

449
00:15:14,160 --> 00:15:20,000
with a status display in front

450
00:15:16,320 --> 00:15:21,760
and a very cheap at this point very old

451
00:15:20,000 --> 00:15:23,760
artist that's enough to store the data

452
00:15:21,760 --> 00:15:26,319
for the whole weekend

453
00:15:23,760 --> 00:15:27,279
from there it goes to a five port

454
00:15:26,320 --> 00:15:29,440
gigabit switch

455
00:15:27,279 --> 00:15:31,680
and from there it goes either to the

456
00:15:29,440 --> 00:15:34,320
front box or wherever we find network

457
00:15:31,680 --> 00:15:35,920
and then it goes into the fosdem vlan

458
00:15:34,320 --> 00:15:36,399
video vlan and then it goes from there

459
00:15:35,920 --> 00:15:38,479
right

460
00:15:36,399 --> 00:15:40,959
exactly um maybe just to give you an

461
00:15:38,480 --> 00:15:43,120
idea of what one of these boxes costs

462
00:15:40,959 --> 00:15:44,719
um the total price for it all of this

463
00:15:43,120 --> 00:15:48,000
what you saw until now

464
00:15:44,720 --> 00:15:50,160
um is about 650 700 euros

465
00:15:48,000 --> 00:15:51,920
of which the bulk is actually the hd64

466
00:15:50,160 --> 00:15:53,439
encoder which is which goes for about

467
00:15:51,920 --> 00:15:55,279
400 euros

468
00:15:53,440 --> 00:15:56,800
so just to give you an idea of what one

469
00:15:55,279 --> 00:15:58,320
of these costs

470
00:15:56,800 --> 00:16:01,120
so and this is a standard atx power

471
00:15:58,320 --> 00:16:04,399
supply we have the power good signal

472
00:16:01,120 --> 00:16:05,199
of course tied to 5 volts so it's always

473
00:16:04,399 --> 00:16:06,959
on

474
00:16:05,199 --> 00:16:09,040
second it sees power just flip the

475
00:16:06,959 --> 00:16:12,000
switch is flipped then it's on

476
00:16:09,040 --> 00:16:12,959
and then we have five volt connectors

477
00:16:12,000 --> 00:16:15,600
and one twelve

478
00:16:12,959 --> 00:16:17,199
fault connector for the h.264 encoder

479
00:16:15,600 --> 00:16:19,040
which is quite hard yeah we standardized

480
00:16:17,199 --> 00:16:20,959
on those so we could use the atx

481
00:16:19,040 --> 00:16:23,040
so no inline vaults no nothing you know

482
00:16:20,959 --> 00:16:24,638
nothing else yeah nothing special

483
00:16:23,040 --> 00:16:26,560
so this is one of our biggest blocking

484
00:16:24,639 --> 00:16:28,720
items at this point and

485
00:16:26,560 --> 00:16:30,959
we've been using these since 2014 as

486
00:16:28,720 --> 00:16:30,959
well

487
00:16:31,199 --> 00:16:38,479
so it's in anything to 720p hdmi

488
00:16:35,040 --> 00:16:40,800
so we have vga we have hdmi but it can

489
00:16:38,480 --> 00:16:42,320
be full hd right but we use it for 720p

490
00:16:40,800 --> 00:16:43,199
because we do a 720p for everything

491
00:16:42,320 --> 00:16:46,880
which is good enough

492
00:16:43,199 --> 00:16:50,639
it used to be dirt cheap chinese shanzai

493
00:16:46,880 --> 00:16:54,079
hardware that is like yeah but no

494
00:16:50,639 --> 00:16:57,199
questionable in some ways but stable

495
00:16:54,079 --> 00:16:57,599
yeah uh but it's almost impossible to

496
00:16:57,199 --> 00:17:00,800
get

497
00:16:57,600 --> 00:17:02,839
any more so 2015 and it's chinese so

498
00:17:00,800 --> 00:17:04,240
it's there one moment and it's gone the

499
00:17:02,839 --> 00:17:07,600
next um

500
00:17:04,240 --> 00:17:09,199
and well there you can go and have a

501
00:17:07,599 --> 00:17:09,918
look at it later because i didn't manage

502
00:17:09,199 --> 00:17:11,280
to fill

503
00:17:09,919 --> 00:17:13,439
so the big gap over here is where

504
00:17:11,280 --> 00:17:14,319
another um one of the shots from here

505
00:17:13,439 --> 00:17:16,799
should go and it's

506
00:17:14,319 --> 00:17:18,079
i didn't have time to put it in today so

507
00:17:16,799 --> 00:17:20,559
there's already too many pictures

508
00:17:18,079 --> 00:17:22,959
in this whole thing yeah this box grabs

509
00:17:20,559 --> 00:17:25,119
hdmi and outputs

510
00:17:22,959 --> 00:17:27,280
a scale a skilled version of it so

511
00:17:25,119 --> 00:17:30,000
actually it can grab

512
00:17:27,280 --> 00:17:31,520
exactly it normalizes it can grab vga

513
00:17:30,000 --> 00:17:34,480
hdmi or composites

514
00:17:31,520 --> 00:17:35,840
and it outputs hdmi in a normalized

515
00:17:34,480 --> 00:17:38,960
resolution to capture that

516
00:17:35,840 --> 00:17:40,720
right yes so we'll get to that okay

517
00:17:38,960 --> 00:17:42,080
because the same company manufacturers

518
00:17:40,720 --> 00:17:44,960
also

519
00:17:42,080 --> 00:17:46,879
yeah we know but i think we're not sure

520
00:17:44,960 --> 00:17:48,400
whether it's the same cpu being running

521
00:17:46,880 --> 00:17:51,360
there we haven't tried to look i don't

522
00:17:48,400 --> 00:17:54,000
think many people have this scaler

523
00:17:51,360 --> 00:17:55,600
people have been the people have been

524
00:17:54,000 --> 00:17:57,440
working with the other devices the

525
00:17:55,600 --> 00:18:00,320
hdmi to ethernet version people have

526
00:17:57,440 --> 00:18:02,000
been reverse engineering that i'm using

527
00:18:00,320 --> 00:18:03,600
exactly but we don't think it's the same

528
00:18:02,000 --> 00:18:06,080
hardware actually because this

529
00:18:03,600 --> 00:18:06,879
chip um the markings are layers lasered

530
00:18:06,080 --> 00:18:10,320
off

531
00:18:06,880 --> 00:18:12,160
and which yeah and it has uart

532
00:18:10,320 --> 00:18:14,480
but it's encrypted so if you can break

533
00:18:12,160 --> 00:18:16,000
it it would actually help um yeah not

534
00:18:14,480 --> 00:18:18,000
for us anymore hopefully in the year but

535
00:18:16,000 --> 00:18:19,440
yeah

536
00:18:18,000 --> 00:18:21,360
anyway so then the black magic gate

537
00:18:19,440 --> 00:18:22,000
susic 4 encoder the most expensive thing

538
00:18:21,360 --> 00:18:24,479
in there

539
00:18:22,000 --> 00:18:26,720
the most hot thing in there and the most

540
00:18:24,480 --> 00:18:30,080
awkward to use

541
00:18:26,720 --> 00:18:31,760
um yeah black box um luckily it was

542
00:18:30,080 --> 00:18:33,280
reverse engineered already before

543
00:18:31,760 --> 00:18:34,879
you guys started with it because i

544
00:18:33,280 --> 00:18:36,720
wasn't there yet at that time so at

545
00:18:34,880 --> 00:18:38,559
least with the video stuff

546
00:18:36,720 --> 00:18:39,919
so if you look at the slides of it on

547
00:18:38,559 --> 00:18:41,678
you can click on the link and see the

548
00:18:39,919 --> 00:18:43,200
work that timo

549
00:18:41,679 --> 00:18:44,720
and you all know the stuff from the

550
00:18:43,200 --> 00:18:46,559
broadcom driver and a few other

551
00:18:44,720 --> 00:18:48,640
wi-fi and other drivers that you have to

552
00:18:46,559 --> 00:18:50,559
go and extract the firmware

553
00:18:48,640 --> 00:18:52,400
and upload it and then it's even then

554
00:18:50,559 --> 00:18:53,918
it's very picky about the resolutions it

555
00:18:52,400 --> 00:18:55,679
takes because the resolution i need for

556
00:18:53,919 --> 00:18:56,160
our test hardware is also not working on

557
00:18:55,679 --> 00:18:58,160
that

558
00:18:56,160 --> 00:19:00,000
thing so yeah so we came into the

559
00:18:58,160 --> 00:19:01,679
project at the point where

560
00:19:00,000 --> 00:19:03,760
like into the first and video project at

561
00:19:01,679 --> 00:19:04,799
the point where we already had this

562
00:19:03,760 --> 00:19:07,200
hardware

563
00:19:04,799 --> 00:19:09,760
and we wanted to get something as close

564
00:19:07,200 --> 00:19:12,320
to free and open

565
00:19:09,760 --> 00:19:14,799
as we could possibly do so the first

566
00:19:12,320 --> 00:19:17,760
thing we did was like

567
00:19:14,799 --> 00:19:19,679
well look for just extracting the

568
00:19:17,760 --> 00:19:21,919
firmware and running with it

569
00:19:19,679 --> 00:19:23,520
well just throwing a binary blob but it

570
00:19:21,919 --> 00:19:25,600
was the best we could do

571
00:19:23,520 --> 00:19:26,639
but at least with a mainline kernel and

572
00:19:25,600 --> 00:19:29,439
and stuff like that

573
00:19:26,640 --> 00:19:30,799
so yeah so the next thing for me as a

574
00:19:29,440 --> 00:19:32,160
song c developer as

575
00:19:30,799 --> 00:19:34,240
one of the founders of songs is the

576
00:19:32,160 --> 00:19:36,080
biggest eyesore in the whole thing

577
00:19:34,240 --> 00:19:38,240
and i've been complaining each and every

578
00:19:36,080 --> 00:19:41,360
time the first time i saw it i was like

579
00:19:38,240 --> 00:19:42,480
why did you do this but these guys were

580
00:19:41,360 --> 00:19:44,000
not responsible because

581
00:19:42,480 --> 00:19:45,919
otherwise we would have chosen something

582
00:19:44,000 --> 00:19:48,240
very obvious somebody who talked an hour

583
00:19:45,919 --> 00:19:50,720
ago it's faith and of course oli mix

584
00:19:48,240 --> 00:19:52,400
is what we should have done but it was

585
00:19:50,720 --> 00:19:54,640
all set in stone back then already we

586
00:19:52,400 --> 00:19:56,559
have to have like 60 70 of these devices

587
00:19:54,640 --> 00:19:59,600
laying around so yeah

588
00:19:56,559 --> 00:20:00,960
so yeah any reason to not use this magic

589
00:19:59,600 --> 00:20:04,320
board that they do

590
00:20:00,960 --> 00:20:04,640
for linuxcom australia and for some of

591
00:20:04,320 --> 00:20:08,000
the

592
00:20:04,640 --> 00:20:11,440
unconferences so so we are

593
00:20:08,000 --> 00:20:14,000
in active communication with like

594
00:20:11,440 --> 00:20:16,240
almost all these people like the depconf

595
00:20:14,000 --> 00:20:21,039
people in particular

596
00:20:16,240 --> 00:20:24,080
um there's several

597
00:20:21,039 --> 00:20:27,760
it's expensive

598
00:20:24,080 --> 00:20:31,439
it's difficult to deploy on such a

599
00:20:27,760 --> 00:20:34,320
massive scale because it needs to be

600
00:20:31,440 --> 00:20:35,440
well it needs to be tended to like a

601
00:20:34,320 --> 00:20:39,120
little child

602
00:20:35,440 --> 00:20:41,039
uh yeah i i'm sorry but like

603
00:20:39,120 --> 00:20:43,520
yeah no i never used it i just read

604
00:20:41,039 --> 00:20:45,280
about it and was always curious to try

605
00:20:43,520 --> 00:20:47,918
it but i ended up with that

606
00:20:45,280 --> 00:20:48,639
hdmi to internet grabber because it

607
00:20:47,919 --> 00:20:51,679
costs like

608
00:20:48,640 --> 00:20:55,120
20 times less than that exactly

609
00:20:51,679 --> 00:20:58,720
of course then you're right to use it

610
00:20:55,120 --> 00:21:01,039
okay so um one of the reasons why we

611
00:20:58,720 --> 00:21:04,000
made so many compromises on so many

612
00:21:01,039 --> 00:21:05,440
things that we picked out is ease and

613
00:21:04,000 --> 00:21:07,760
speed of deployment

614
00:21:05,440 --> 00:21:10,960
so we get to the venue well we have the

615
00:21:07,760 --> 00:21:14,400
venue available from noon on friday

616
00:21:10,960 --> 00:21:16,799
and by the evening all 30 rooms must be

617
00:21:14,400 --> 00:21:18,480
working um and we were pretty good this

618
00:21:16,799 --> 00:21:21,440
year like 1700 we were done

619
00:21:18,480 --> 00:21:22,480
exactly so um speed and efficiency and

620
00:21:21,440 --> 00:21:24,640
predictability

621
00:21:22,480 --> 00:21:26,320
um is what we're looking for and that's

622
00:21:24,640 --> 00:21:30,000
why we made a lot of compromises

623
00:21:26,320 --> 00:21:32,639
yeah yeah i i want to stress that like

624
00:21:30,000 --> 00:21:33,120
i really admire the work that goes into

625
00:21:32,640 --> 00:21:36,159
this

626
00:21:33,120 --> 00:21:37,439
fpga based stuff like that mitro and and

627
00:21:36,159 --> 00:21:40,960
other people are

628
00:21:37,440 --> 00:21:44,799
uh i know i know uh are doing

629
00:21:40,960 --> 00:21:46,240
so like definitely it's a really really

630
00:21:44,799 --> 00:21:46,879
good thing what they are doing but our

631
00:21:46,240 --> 00:21:51,360
use case

632
00:21:46,880 --> 00:21:54,480
is a tiny bit special with the focus on

633
00:21:51,360 --> 00:21:58,080
fast deployment massive scale deployment

634
00:21:54,480 --> 00:22:01,360
and and a very very very low budget

635
00:21:58,080 --> 00:22:02,799
so yeah so yeah this gets this runs the

636
00:22:01,360 --> 00:22:04,879
bmd tools from teemo

637
00:22:02,799 --> 00:22:07,039
talks to the h264 encoder and uploads

638
00:22:04,880 --> 00:22:09,600
the forum firmware and this and that

639
00:22:07,039 --> 00:22:10,559
um it streams over its gigabit ethernet

640
00:22:09,600 --> 00:22:12,480
port which is

641
00:22:10,559 --> 00:22:14,399
more usually are there any all winter

642
00:22:12,480 --> 00:22:17,440
820 devices without gigabit

643
00:22:14,400 --> 00:22:20,480
does anybody do that you do that okay

644
00:22:17,440 --> 00:22:23,440
nobody nobody does that or okay

645
00:22:20,480 --> 00:22:25,120
and then we use setup for local backup

646
00:22:23,440 --> 00:22:27,760
because at one point we

647
00:22:25,120 --> 00:22:29,120
we lost some videos because some disc

648
00:22:27,760 --> 00:22:31,600
was gone somewhere

649
00:22:29,120 --> 00:22:34,158
a few years ago so it's being stored in

650
00:22:31,600 --> 00:22:37,120
multiple locations offsite on site and

651
00:22:34,159 --> 00:22:37,120
in the box itself

652
00:22:38,480 --> 00:22:42,559
we used an sd card for the file system

653
00:22:40,559 --> 00:22:44,000
at this point we displayed the status

654
00:22:42,559 --> 00:22:44,639
it's this black thing you saw in front

655
00:22:44,000 --> 00:22:46,720
of the

656
00:22:44,640 --> 00:22:48,080
of the box that's a status display we

657
00:22:46,720 --> 00:22:50,000
will talk about it later a bit and it

658
00:22:48,080 --> 00:22:51,760
controls the scalar

659
00:22:50,000 --> 00:22:53,280
which is probably the most interesting

660
00:22:51,760 --> 00:22:54,559
hack of the last few years but we'll get

661
00:22:53,280 --> 00:22:57,039
that in a bit

662
00:22:54,559 --> 00:22:58,720
and since last year we are running

663
00:22:57,039 --> 00:23:00,640
mainline ubuntu and mainline kernel

664
00:22:58,720 --> 00:23:02,640
because paul kochiarkowski because of

665
00:23:00,640 --> 00:23:06,000
all the work of the sunset community

666
00:23:02,640 --> 00:23:09,360
and we threw paul kotchalkowski in lcd

667
00:23:06,000 --> 00:23:11,360
and he implemented that for us he

668
00:23:09,360 --> 00:23:13,280
was our hardware enablement developer

669
00:23:11,360 --> 00:23:14,879
manager the last two years and we miss

670
00:23:13,280 --> 00:23:18,000
him and we hope that he comes back

671
00:23:14,880 --> 00:23:21,200
next year because we missed it

672
00:23:18,000 --> 00:23:24,240
yeah so this is gary's

673
00:23:21,200 --> 00:23:26,400
special feature all you

674
00:23:24,240 --> 00:23:28,159
right so the tape that for for for

675
00:23:26,400 --> 00:23:31,679
correctness the tape is all me

676
00:23:28,159 --> 00:23:34,960
that's here um here he has created a 3d

677
00:23:31,679 --> 00:23:36,480
printed usb holder

678
00:23:34,960 --> 00:23:38,320
for this little thing up there and it

679
00:23:36,480 --> 00:23:39,039
goes into the usb socket that you see up

680
00:23:38,320 --> 00:23:42,480
there it's

681
00:23:39,039 --> 00:23:45,039
genius but the real genius comes now

682
00:23:42,480 --> 00:23:46,480
right so um in the first year that we

683
00:23:45,039 --> 00:23:48,158
were using the boxes

684
00:23:46,480 --> 00:23:49,919
one of the things that really frustrated

685
00:23:48,159 --> 00:23:52,240
me was

686
00:23:49,919 --> 00:23:54,320
controlling the scaler so you need to

687
00:23:52,240 --> 00:23:56,720
input some settings so that it will

688
00:23:54,320 --> 00:23:58,879
output the right resolution and it will

689
00:23:56,720 --> 00:24:01,120
actually use hdmi input instead of vga

690
00:23:58,880 --> 00:24:03,679
input etc etc

691
00:24:01,120 --> 00:24:04,320
the scalar being inside the box is hard

692
00:24:03,679 --> 00:24:05,760
to reach

693
00:24:04,320 --> 00:24:07,678
i mean it has basically two control

694
00:24:05,760 --> 00:24:08,400
interfaces it's got four buttons on the

695
00:24:07,679 --> 00:24:12,640
front

696
00:24:08,400 --> 00:24:16,880
hardware buttons and it's got an ir

697
00:24:12,640 --> 00:24:18,640
receiver so first i thought well

698
00:24:16,880 --> 00:24:20,720
you know probably the best way to

699
00:24:18,640 --> 00:24:22,640
approach this is to solder something

700
00:24:20,720 --> 00:24:25,200
to the buttons and then make something

701
00:24:22,640 --> 00:24:26,000
to control the buttons via the gpio pins

702
00:24:25,200 --> 00:24:30,159
of the

703
00:24:26,000 --> 00:24:31,679
banana pi but then that would involve

704
00:24:30,159 --> 00:24:33,360
on top of opening all the boxes that

705
00:24:31,679 --> 00:24:35,279
would require a lot of soldering

706
00:24:33,360 --> 00:24:37,039
um i would have i would have to take out

707
00:24:35,279 --> 00:24:39,039
all of the scalers do the soldering do

708
00:24:37,039 --> 00:24:41,120
the wiring et cetera et cetera

709
00:24:39,039 --> 00:24:42,158
so it would not be fun exactly it

710
00:24:41,120 --> 00:24:44,080
wouldn't be fun

711
00:24:42,159 --> 00:24:45,600
so i thought of one or two years of a

712
00:24:44,080 --> 00:24:48,639
more

713
00:24:45,600 --> 00:24:51,678
stupid way of approaching this

714
00:24:48,640 --> 00:24:53,440
and i was thinking maybe i could do

715
00:24:51,679 --> 00:24:55,360
something with the ir receiver on the

716
00:24:53,440 --> 00:24:58,240
board

717
00:24:55,360 --> 00:24:58,719
now one thing about the banana pie is it

718
00:24:58,240 --> 00:25:00,960
has

719
00:24:58,720 --> 00:25:02,640
it also has an ir receiver but it's not

720
00:25:00,960 --> 00:25:04,640
got an ir transmitter

721
00:25:02,640 --> 00:25:06,240
so that was a bit annoying first i

722
00:25:04,640 --> 00:25:08,960
thought that

723
00:25:06,240 --> 00:25:10,960
well maybe i could use usb and you know

724
00:25:08,960 --> 00:25:13,360
control and ir

725
00:25:10,960 --> 00:25:14,000
transmitter that way something something

726
00:25:13,360 --> 00:25:16,559
but that would

727
00:25:14,000 --> 00:25:17,840
require you know getting ir transmitters

728
00:25:16,559 --> 00:25:19,600
etc etc

729
00:25:17,840 --> 00:25:21,199
i wasn't really looking forward to that

730
00:25:19,600 --> 00:25:25,199
so i thought a bit further

731
00:25:21,200 --> 00:25:29,600
and figured that an ir signal

732
00:25:25,200 --> 00:25:32,159
is actually just a waveform now

733
00:25:29,600 --> 00:25:33,760
what on the banana pi could emit a

734
00:25:32,159 --> 00:25:38,000
waveform

735
00:25:33,760 --> 00:25:41,600
easily without you know too much

736
00:25:38,000 --> 00:25:44,320
fuss so i

737
00:25:41,600 --> 00:25:45,199
built an ir receiver that goes into the

738
00:25:44,320 --> 00:25:48,240
audio in

739
00:25:45,200 --> 00:25:50,400
of my laptop and i captured and

740
00:25:48,240 --> 00:25:51,520
all of the ir signals that were emitted

741
00:25:50,400 --> 00:25:53,120
by the remote control

742
00:25:51,520 --> 00:25:54,639
my actual remote control you were going

743
00:25:53,120 --> 00:25:58,158
through the menus of the road

744
00:25:54,640 --> 00:26:01,600
control exactly and i captured the

745
00:25:58,159 --> 00:26:04,080
waveforms um in just plain wave files

746
00:26:01,600 --> 00:26:06,158
um i edit them a bit so that i had the

747
00:26:04,080 --> 00:26:09,120
proper signals audacity to the risk

748
00:26:06,159 --> 00:26:11,120
exactly i used audacity for that um and

749
00:26:09,120 --> 00:26:12,719
then i had a couple of wav files

750
00:26:11,120 --> 00:26:14,239
that i could play on my computer they

751
00:26:12,720 --> 00:26:15,440
would make funny sounds if i played them

752
00:26:14,240 --> 00:26:18,400
through my speakers

753
00:26:15,440 --> 00:26:19,200
but if i attached an ir transmitter to

754
00:26:18,400 --> 00:26:22,320
my audio

755
00:26:19,200 --> 00:26:22,880
out port so to my audio plug audio audio

756
00:26:22,320 --> 00:26:25,678
out jack

757
00:26:22,880 --> 00:26:26,640
on my laptop the ir transmitter would

758
00:26:25,679 --> 00:26:29,039
actually

759
00:26:26,640 --> 00:26:29,760
emit right pulses and i could control

760
00:26:29,039 --> 00:26:33,279
the scaler

761
00:26:29,760 --> 00:26:37,120
using my sound card in my laptop

762
00:26:33,279 --> 00:26:39,120
and so i opened up all the boxes

763
00:26:37,120 --> 00:26:41,039
install the an ir leds right in front of

764
00:26:39,120 --> 00:26:44,239
the ir receiver

765
00:26:41,039 --> 00:26:46,640
um using um just a

766
00:26:44,240 --> 00:26:47,440
3.5 millimeter check going to the banana

767
00:26:46,640 --> 00:26:49,679
pi

768
00:26:47,440 --> 00:26:51,919
um and now we can remote control the

769
00:26:49,679 --> 00:26:53,440
scaler just by playing some wav files

770
00:26:51,919 --> 00:26:55,600
from the banana pie

771
00:26:53,440 --> 00:26:57,520
and you can you can cycle i can cycle

772
00:26:55,600 --> 00:27:00,158
through the entire menu of the

773
00:26:57,520 --> 00:27:02,639
lankan device just from the banana pie

774
00:27:00,159 --> 00:27:04,559
and i can see the output on the stream

775
00:27:02,640 --> 00:27:05,919
so yeah with a bit of a delay but yeah

776
00:27:04,559 --> 00:27:06,639
with a bit of a delay so it's not

777
00:27:05,919 --> 00:27:08,320
perfect

778
00:27:06,640 --> 00:27:09,679
but instead of opening all the boxes and

779
00:27:08,320 --> 00:27:11,360
using a screwdriver to punch

780
00:27:09,679 --> 00:27:12,960
all the buttons in the right way i can

781
00:27:11,360 --> 00:27:16,719
now do it remotely so

782
00:27:12,960 --> 00:27:17,600
i was happy so one of the big issues we

783
00:27:16,720 --> 00:27:20,480
have at the boxes

784
00:27:17,600 --> 00:27:21,279
is this double scaling that we're doing

785
00:27:20,480 --> 00:27:23,039
so

786
00:27:21,279 --> 00:27:24,320
this is why speakers normally get told

787
00:27:23,039 --> 00:27:28,000
to do

788
00:27:24,320 --> 00:27:29,678
4x3 because our scalers are being set by

789
00:27:28,000 --> 00:27:32,799
our waveforms to

790
00:27:29,679 --> 00:27:33,600
do 4x3 conversions so if your laptop is

791
00:27:32,799 --> 00:27:35,918
running

792
00:27:33,600 --> 00:27:38,480
uh 16 by nine then you'll have this

793
00:27:35,919 --> 00:27:42,080
first letter box effect of the

794
00:27:38,480 --> 00:27:44,960
of the uh what do you want to say kitty

795
00:27:42,080 --> 00:27:46,158
it's not entirely true so our scalars

796
00:27:44,960 --> 00:27:48,080
are actually set to

797
00:27:46,159 --> 00:27:50,880
um so the the output that goes to the

798
00:27:48,080 --> 00:27:54,000
encoder is actually 720p

799
00:27:50,880 --> 00:27:57,120
and it will um right exactly

800
00:27:54,000 --> 00:27:58,480
so the problem is um it's a bit

801
00:27:57,120 --> 00:28:02,080
complicated to explain

802
00:27:58,480 --> 00:28:05,919
so um imagine

803
00:28:02,080 --> 00:28:08,000
you have a 43 projector so a projector

804
00:28:05,919 --> 00:28:09,360
protecting a forgery image which this

805
00:28:08,000 --> 00:28:12,799
one isn't

806
00:28:09,360 --> 00:28:14,240
um and remember what you said at the

807
00:28:12,799 --> 00:28:16,639
beginning that the edid

808
00:28:14,240 --> 00:28:19,200
transmitted to the laptop of the speaker

809
00:28:16,640 --> 00:28:22,080
is the first one the splitter picks up

810
00:28:19,200 --> 00:28:22,480
you will probably see the the projector

811
00:28:22,080 --> 00:28:25,840
there

812
00:28:22,480 --> 00:28:28,960
so your your laptop will see a 4-3

813
00:28:25,840 --> 00:28:30,559
projector and use and you know adapt its

814
00:28:28,960 --> 00:28:33,039
resolution to that

815
00:28:30,559 --> 00:28:35,279
and imagine that you have made 69 slides

816
00:28:33,039 --> 00:28:38,320
because you thought that this was a

817
00:28:35,279 --> 00:28:39,120
modern time and we would all use 69 you

818
00:28:38,320 --> 00:28:42,879
were wrong

819
00:28:39,120 --> 00:28:46,000
um so now you have

820
00:28:42,880 --> 00:28:47,279
69 slides that you made outputted on a

821
00:28:46,000 --> 00:28:50,240
4-3 resolution

822
00:28:47,279 --> 00:28:50,559
and then sent into the box now on our

823
00:28:50,240 --> 00:28:53,600
end

824
00:28:50,559 --> 00:28:56,240
we want 720p so our scalar

825
00:28:53,600 --> 00:28:58,000
will convert your 43 signal which has

826
00:28:56,240 --> 00:29:01,200
already two black borders added by your

827
00:28:58,000 --> 00:29:04,720
laptop here yeah so that's the

828
00:29:01,200 --> 00:29:05,600
second one and it will add two borders

829
00:29:04,720 --> 00:29:08,080
on the side again

830
00:29:05,600 --> 00:29:09,840
so now we have a double letterbox effect

831
00:29:08,080 --> 00:29:11,439
so if you see on a stream that there's

832
00:29:09,840 --> 00:29:13,918
lots of black borders around it

833
00:29:11,440 --> 00:29:15,279
that is the reason why that is and it's

834
00:29:13,919 --> 00:29:18,000
a bit silly

835
00:29:15,279 --> 00:29:20,080
but it is the way it is i we can't

836
00:29:18,000 --> 00:29:22,799
change it in this design

837
00:29:20,080 --> 00:29:24,559
so every november there is a video

838
00:29:22,799 --> 00:29:26,399
hackathon going on

839
00:29:24,559 --> 00:29:28,000
in the living offices where all the

840
00:29:26,399 --> 00:29:29,199
boxes are usually living most of the

841
00:29:28,000 --> 00:29:31,919
year

842
00:29:29,200 --> 00:29:33,200
and last year we started chatting a bit

843
00:29:31,919 --> 00:29:36,399
we had both seen this

844
00:29:33,200 --> 00:29:39,679
adafruit adapter that is built

845
00:29:36,399 --> 00:29:41,120
for hdmi to lcd conversion so that you

846
00:29:39,679 --> 00:29:42,399
could use an hdmi connection for

847
00:29:41,120 --> 00:29:44,799
raspberry pi for instance because the

848
00:29:42,399 --> 00:29:47,279
raspberry pi doesn't have that much else

849
00:29:44,799 --> 00:29:48,879
and then drive an lcd with that well

850
00:29:47,279 --> 00:29:51,039
what is coming out of that is a parallel

851
00:29:48,880 --> 00:29:53,679
signal it's parallel rgb

852
00:29:51,039 --> 00:29:55,840
with two sinks and a display enable and

853
00:29:53,679 --> 00:29:57,840
maybe a backlight enable

854
00:29:55,840 --> 00:29:59,120
but this is usually also a signal that

855
00:29:57,840 --> 00:30:02,240
you can take in

856
00:29:59,120 --> 00:30:03,760
on a on any soc that has like a camera

857
00:30:02,240 --> 00:30:04,880
interface that is a bit wider than

858
00:30:03,760 --> 00:30:06,960
anything else

859
00:30:04,880 --> 00:30:09,760
and this is how i got thinking just

860
00:30:06,960 --> 00:30:10,880
november 2018 about maybe we can do

861
00:30:09,760 --> 00:30:12,720
something else

862
00:30:10,880 --> 00:30:15,279
what if we feed this directly into the

863
00:30:12,720 --> 00:30:17,679
soc so in that case we will be able to

864
00:30:15,279 --> 00:30:19,679
drive this projector directly

865
00:30:17,679 --> 00:30:20,880
and do all sorts of fancy things get rid

866
00:30:19,679 --> 00:30:24,240
of all the all the

867
00:30:20,880 --> 00:30:24,880
borders we can provide our own ed ideas

868
00:30:24,240 --> 00:30:27,520
so

869
00:30:24,880 --> 00:30:29,919
that edid so that everybody uses the

870
00:30:27,520 --> 00:30:32,720
exact same resolution

871
00:30:29,919 --> 00:30:34,880
if we get an onboard h264 encoder then

872
00:30:32,720 --> 00:30:37,279
we have that problem solved as well

873
00:30:34,880 --> 00:30:38,720
if we then use open source hardware like

874
00:30:37,279 --> 00:30:40,240
for instance all the mx stuff

875
00:30:38,720 --> 00:30:41,760
then we have open source hardware

876
00:30:40,240 --> 00:30:44,880
mainline support comes with that

877
00:30:41,760 --> 00:30:48,240
and we can make it small and cheap

878
00:30:44,880 --> 00:30:51,039
and we get all our wishes granted so

879
00:30:48,240 --> 00:30:52,880
that was the state last year last year

880
00:30:51,039 --> 00:30:53,760
we had a few chats here i had a chat

881
00:30:52,880 --> 00:30:56,080
with

882
00:30:53,760 --> 00:30:57,840
svetan with fazer with you guys about we

883
00:30:56,080 --> 00:31:01,120
should do this we should do this

884
00:30:57,840 --> 00:31:02,879
and the lucky thing was that on monday

885
00:31:01,120 --> 00:31:06,239
morning every year

886
00:31:02,880 --> 00:31:06,559
um me and egbert i can do a bonus go for

887
00:31:06,240 --> 00:31:08,480
the

888
00:31:06,559 --> 00:31:10,158
we've been thrown out of the hotel let's

889
00:31:08,480 --> 00:31:11,679
have breakfast

890
00:31:10,159 --> 00:31:13,760
and i started explaining what we have

891
00:31:11,679 --> 00:31:15,600
been talking about all weekend and uber

892
00:31:13,760 --> 00:31:18,240
his face lighted up and said well

893
00:31:15,600 --> 00:31:19,678
i work for the darmstadt university i do

894
00:31:18,240 --> 00:31:21,600
electronics there

895
00:31:19,679 --> 00:31:22,799
uh i could prototype this for you i

896
00:31:21,600 --> 00:31:24,080
could design this for you because this

897
00:31:22,799 --> 00:31:25,440
was the only thing that we couldn't

898
00:31:24,080 --> 00:31:27,279
solve

899
00:31:25,440 --> 00:31:29,120
before that because drivers and stuff

900
00:31:27,279 --> 00:31:30,640
that's what i usually do and i could

901
00:31:29,120 --> 00:31:32,719
try to marshall in other people from the

902
00:31:30,640 --> 00:31:34,799
sunshine project but who has said

903
00:31:32,720 --> 00:31:36,399
i could do that and ue is actually here

904
00:31:34,799 --> 00:31:37,039
and he's been designing our board so

905
00:31:36,399 --> 00:31:40,320
please

906
00:31:37,039 --> 00:31:40,320
put your hands together for uber

907
00:31:41,840 --> 00:31:45,360
so he solved the last question we had

908
00:31:44,720 --> 00:31:47,039
then and

909
00:31:45,360 --> 00:31:48,879
ever since then it's just can the

910
00:31:47,039 --> 00:31:49,919
hardware do it and can we get the right

911
00:31:48,880 --> 00:31:53,120
resolution so

912
00:31:49,919 --> 00:31:54,880
design resolution is 720p because

913
00:31:53,120 --> 00:31:57,360
while we don't need that much more we

914
00:31:54,880 --> 00:31:59,600
could maybe do a full hd

915
00:31:57,360 --> 00:32:01,678
but 720p is bad enough and people are

916
00:31:59,600 --> 00:32:02,480
already abusing this many pixels that

917
00:32:01,679 --> 00:32:04,960
they have

918
00:32:02,480 --> 00:32:07,600
because not every person develops slides

919
00:32:04,960 --> 00:32:10,080
that can be read in the back of the room

920
00:32:07,600 --> 00:32:10,959
so the slc is naturally an alt albino

921
00:32:10,080 --> 00:32:12,960
820

922
00:32:10,960 --> 00:32:14,880
because it's probably one of the most

923
00:32:12,960 --> 00:32:16,880
open source flindy chips out there even

924
00:32:14,880 --> 00:32:18,240
though all winter isn't always being

925
00:32:16,880 --> 00:32:21,200
that open source friendly it's one of

926
00:32:18,240 --> 00:32:22,080
the chips with the fewest restrictions

927
00:32:21,200 --> 00:32:24,880
no drm

928
00:32:22,080 --> 00:32:26,559
stuff there's almost no binary blobs

929
00:32:24,880 --> 00:32:26,960
around anymore but most of you will know

930
00:32:26,559 --> 00:32:29,279
that

931
00:32:26,960 --> 00:32:30,799
if you're in this room we ended up

932
00:32:29,279 --> 00:32:32,480
choosing the olympic slime 2 but there

933
00:32:30,799 --> 00:32:35,440
will be a separate slide about that

934
00:32:32,480 --> 00:32:36,720
and we first thought about the tfp 401

935
00:32:35,440 --> 00:32:38,720
module from

936
00:32:36,720 --> 00:32:40,399
texas instruments which has a module

937
00:32:38,720 --> 00:32:42,159
from adafruit

938
00:32:40,399 --> 00:32:44,000
but the issue with that is that it's

939
00:32:42,159 --> 00:32:47,600
actually a dvi to

940
00:32:44,000 --> 00:32:49,840
parallel decoder so no idea so no audio

941
00:32:47,600 --> 00:32:51,600
and we thought that we could maybe use a

942
00:32:49,840 --> 00:32:52,639
splitter or something and then use one

943
00:32:51,600 --> 00:32:56,240
of those

944
00:32:52,640 --> 00:32:58,720
hdmi to i2s decoders i2s is the the

945
00:32:56,240 --> 00:33:00,559
digital sound that philips developed

946
00:32:58,720 --> 00:33:03,120
ages ago but it turns out that

947
00:33:00,559 --> 00:33:04,720
these are just abusing the cable of hdmi

948
00:33:03,120 --> 00:33:06,399
and doing nothing else

949
00:33:04,720 --> 00:33:09,679
so we looked a bit further and then we

950
00:33:06,399 --> 00:33:11,039
found the adv 7611 from analog devices

951
00:33:09,679 --> 00:33:12,720
and we had a chat at

952
00:33:11,039 --> 00:33:14,158
embedded world as well with some analog

953
00:33:12,720 --> 00:33:16,080
devices got in there and

954
00:33:14,159 --> 00:33:18,559
apparently analog devices is one of the

955
00:33:16,080 --> 00:33:21,279
most open source friendly

956
00:33:18,559 --> 00:33:22,158
uh makers of these sort of chips this as

957
00:33:21,279 --> 00:33:24,480
an all-time

958
00:33:22,159 --> 00:33:25,279
display driver developer that wasn't the

959
00:33:24,480 --> 00:33:28,240
case in the

960
00:33:25,279 --> 00:33:29,120
early 2000s so that things have changed

961
00:33:28,240 --> 00:33:31,600
there

962
00:33:29,120 --> 00:33:32,639
now the second we or we found out that

963
00:33:31,600 --> 00:33:34,480
we wanted

964
00:33:32,640 --> 00:33:37,120
to use this chip google turned up

965
00:33:34,480 --> 00:33:40,399
something something quite interesting oh

966
00:33:37,120 --> 00:33:42,959
yeah me and my funny slides so this is

967
00:33:40,399 --> 00:33:46,239
where the plan got together

968
00:33:42,960 --> 00:33:46,720
so the line two is what we're using of

969
00:33:46,240 --> 00:33:48,640
course

970
00:33:46,720 --> 00:33:50,240
um is sitting right here in front you

971
00:33:48,640 --> 00:33:52,720
all sound just now

972
00:33:50,240 --> 00:33:53,279
luckily it exposed almost all the pins

973
00:33:52,720 --> 00:33:55,200
on its

974
00:33:53,279 --> 00:33:56,640
tiny connectors which are a bit

975
00:33:55,200 --> 00:33:59,360
difficult to work with

976
00:33:56,640 --> 00:34:00,559
but we're also very stable so when you

977
00:33:59,360 --> 00:34:02,158
when you have the daughter board

978
00:34:00,559 --> 00:34:03,519
attached to this this will never ever

979
00:34:02,159 --> 00:34:05,679
come loose on itself

980
00:34:03,519 --> 00:34:07,360
so it has it's a bit of a disadvantage

981
00:34:05,679 --> 00:34:08,560
and it's a massive advantage at the same

982
00:34:07,360 --> 00:34:12,319
time

983
00:34:08,560 --> 00:34:15,918
uh and we only had to change the

984
00:34:12,320 --> 00:34:16,800
um back display enable signal for the

985
00:34:15,918 --> 00:34:20,078
lcd

986
00:34:16,800 --> 00:34:23,119
with something else so that we could

987
00:34:20,079 --> 00:34:24,720
have full 24 bit rgb capture on

988
00:34:23,119 --> 00:34:26,879
on the lime 2. so this is the board that

989
00:34:24,719 --> 00:34:28,879
we're designing our first generation

990
00:34:26,879 --> 00:34:32,879
hardware around

991
00:34:28,879 --> 00:34:35,679
so when i googled for the adv 67611

992
00:34:32,879 --> 00:34:37,359
we found this and this happened and it

993
00:34:35,679 --> 00:34:39,040
also wasn't the sanctity main list just

994
00:34:37,359 --> 00:34:39,918
at a time where i was no longer doing

995
00:34:39,040 --> 00:34:42,399
that much songs

996
00:34:39,918 --> 00:34:44,319
so in the second half of 2014 is when i

997
00:34:42,399 --> 00:34:46,560
went down there a bit

998
00:34:44,320 --> 00:34:48,720
these guys here are cutting her here

999
00:34:46,560 --> 00:34:50,719
pitch and javier lucas were designing

1000
00:34:48,719 --> 00:34:53,918
pretty much what we were trying to

1001
00:34:50,719 --> 00:34:56,078
do as well they were still using a lime

1002
00:34:53,918 --> 00:34:58,879
810

1003
00:34:56,079 --> 00:35:00,480
and they were having issues with getting

1004
00:34:58,880 --> 00:35:02,160
the signal right

1005
00:35:00,480 --> 00:35:03,680
but that's something for slightly later

1006
00:35:02,160 --> 00:35:06,480
in this talk and

1007
00:35:03,680 --> 00:35:07,680
they ended up kind of losing steam they

1008
00:35:06,480 --> 00:35:09,839
had other things in their lives

1009
00:35:07,680 --> 00:35:11,680
happening and it kind of died down

1010
00:35:09,839 --> 00:35:14,000
but the second i sent them an email i

1011
00:35:11,680 --> 00:35:14,640
got an email back and a week later we

1012
00:35:14,000 --> 00:35:16,880
had

1013
00:35:14,640 --> 00:35:18,960
their test chips that they got from

1014
00:35:16,880 --> 00:35:19,920
analog devices and we have one of their

1015
00:35:18,960 --> 00:35:22,000
boards as well which

1016
00:35:19,920 --> 00:35:23,440
is in my backpack down there because i

1017
00:35:22,000 --> 00:35:25,760
wasn't prepared enough

1018
00:35:23,440 --> 00:35:27,040
so we have this here as well this is the

1019
00:35:25,760 --> 00:35:28,560
exact board that i photographed this

1020
00:35:27,040 --> 00:35:29,599
morning at some point they will get this

1021
00:35:28,560 --> 00:35:31,359
back but

1022
00:35:29,599 --> 00:35:33,280
this is how friendly they are and we

1023
00:35:31,359 --> 00:35:35,119
will be reusing their open source

1024
00:35:33,280 --> 00:35:35,839
hardware design for our future designs

1025
00:35:35,119 --> 00:35:37,920
as well

1026
00:35:35,839 --> 00:35:39,759
we will just adapt it to our own needs

1027
00:35:37,920 --> 00:35:41,440
so the work they've done

1028
00:35:39,760 --> 00:35:44,880
we will continue with that and we will

1029
00:35:41,440 --> 00:35:48,160
finish it

1030
00:35:44,880 --> 00:35:50,160
so our plan low costs

1031
00:35:48,160 --> 00:35:51,440
the hardware is not so yeah um you can

1032
00:35:50,160 --> 00:35:53,680
all read

1033
00:35:51,440 --> 00:35:55,200
and i like to i just had to put the

1034
00:35:53,680 --> 00:35:57,279
world chuggable in there it's just

1035
00:35:55,200 --> 00:35:58,399
let's go for a breakfast it's just

1036
00:35:57,280 --> 00:35:59,520
that's where we want to go we want to

1037
00:35:58,400 --> 00:36:02,000
have it break sized

1038
00:35:59,520 --> 00:36:03,920
we want to be able to send people um to

1039
00:36:02,000 --> 00:36:05,359
every building over the whole campus

1040
00:36:03,920 --> 00:36:06,960
with a backpack with at least two

1041
00:36:05,359 --> 00:36:08,720
devices in there and that all the rooms

1042
00:36:06,960 --> 00:36:10,079
have two devices as well

1043
00:36:08,720 --> 00:36:12,078
so that people are no longer running

1044
00:36:10,079 --> 00:36:13,680
with one of the two we have two spare

1045
00:36:12,079 --> 00:36:14,960
boxes and thanks to this one three spare

1046
00:36:13,680 --> 00:36:16,720
boxes

1047
00:36:14,960 --> 00:36:18,560
and the rest is being spread around and

1048
00:36:16,720 --> 00:36:18,959
if something breaks then there is one

1049
00:36:18,560 --> 00:36:20,880
guy

1050
00:36:18,960 --> 00:36:22,400
running with one of those boxes all

1051
00:36:20,880 --> 00:36:24,240
across the campus so

1052
00:36:22,400 --> 00:36:25,680
that is usually not a nice thing to have

1053
00:36:24,240 --> 00:36:27,759
it's not easy taking

1054
00:36:25,680 --> 00:36:30,640
some of these into your hand luggage on

1055
00:36:27,760 --> 00:36:32,640
the plane you know

1056
00:36:30,640 --> 00:36:34,319
so this is our this would already be big

1057
00:36:32,640 --> 00:36:36,400
for what we we won't have

1058
00:36:34,320 --> 00:36:37,599
so if it's already this size we would be

1059
00:36:36,400 --> 00:36:39,839
very happy but it would

1060
00:36:37,599 --> 00:36:41,839
go a lot smaller than that and then it's

1061
00:36:39,839 --> 00:36:42,720
just two in a backpack and then send off

1062
00:36:41,839 --> 00:36:44,640
a video guy and

1063
00:36:42,720 --> 00:36:46,560
we don't have to physically see them

1064
00:36:44,640 --> 00:36:49,040
again the whole day

1065
00:36:46,560 --> 00:36:51,119
anymore let me just talk on iris i don't

1066
00:36:49,040 --> 00:36:54,560
like the screwdrivers and the

1067
00:36:51,119 --> 00:36:56,880
cables and the clippers and whatever

1068
00:36:54,560 --> 00:36:58,720
you need to fix these things when when

1069
00:36:56,880 --> 00:37:01,520
something gets loose inside either

1070
00:36:58,720 --> 00:37:03,279
and if there's that many boxes if

1071
00:37:01,520 --> 00:37:04,560
there's that many boxes spread around

1072
00:37:03,280 --> 00:37:06,400
then you just have enough in your

1073
00:37:04,560 --> 00:37:08,720
backpack

1074
00:37:06,400 --> 00:37:10,480
then there's no more worries you just

1075
00:37:08,720 --> 00:37:12,240
swap one for the other

1076
00:37:10,480 --> 00:37:13,920
so the big advantage and as a display

1077
00:37:12,240 --> 00:37:15,118
driver guy is that we can drive the

1078
00:37:13,920 --> 00:37:17,040
projector correctly

1079
00:37:15,119 --> 00:37:18,320
so this thing is what is what i

1080
00:37:17,040 --> 00:37:20,240
photographed this morning when it was

1081
00:37:18,320 --> 00:37:23,359
still dark outside

1082
00:37:20,240 --> 00:37:24,479
um it's the only the only box doing it

1083
00:37:23,359 --> 00:37:25,839
in the whole of fusdom

1084
00:37:24,480 --> 00:37:27,680
that actually when there's no cable

1085
00:37:25,839 --> 00:37:29,440
attached it will actually do it properly

1086
00:37:27,680 --> 00:37:30,960
otherwise it's the scalar saying that i

1087
00:37:29,440 --> 00:37:33,200
have no signal

1088
00:37:30,960 --> 00:37:35,200
so we can use the native resolution keep

1089
00:37:33,200 --> 00:37:36,078
the aspect ratio as it is and we can do

1090
00:37:35,200 --> 00:37:40,000
a very interesting

1091
00:37:36,079 --> 00:37:42,000
things because um we have so many

1092
00:37:40,000 --> 00:37:43,040
display layers going on here that this

1093
00:37:42,000 --> 00:37:45,040
is now just a png

1094
00:37:43,040 --> 00:37:46,240
are shown on one layer but we can make

1095
00:37:45,040 --> 00:37:47,920
it all dynamic

1096
00:37:46,240 --> 00:37:49,520
so that it could show the next stock is

1097
00:37:47,920 --> 00:37:51,599
coming up it's going to be that

1098
00:37:49,520 --> 00:37:53,520
we could for instance down here we could

1099
00:37:51,599 --> 00:37:55,119
show this many minutes left so that the

1100
00:37:53,520 --> 00:37:56,640
speaker can immediately see it or the

1101
00:37:55,119 --> 00:37:58,720
time's up

1102
00:37:56,640 --> 00:37:59,839
if zombies attack then we can also put

1103
00:37:58,720 --> 00:38:02,959
it on there

1104
00:37:59,839 --> 00:38:05,279
uh or stuff like fosdem's over fuzz them

1105
00:38:02,960 --> 00:38:07,920
is over everybody leave or clean up

1106
00:38:05,280 --> 00:38:09,520
and we can all control that remotely so

1107
00:38:07,920 --> 00:38:10,640
it will solve at least the projector

1108
00:38:09,520 --> 00:38:12,960
side of things as well

1109
00:38:10,640 --> 00:38:15,759
and make this whole thing a whole lot

1110
00:38:12,960 --> 00:38:18,000
nicer to look for

1111
00:38:15,760 --> 00:38:20,000
then we get full control over mpeg-4

1112
00:38:18,000 --> 00:38:22,160
encoding

1113
00:38:20,000 --> 00:38:23,280
yeah we're not tied to aac because the

1114
00:38:22,160 --> 00:38:25,118
ccc guys

1115
00:38:23,280 --> 00:38:26,560
they're probably in here as well there

1116
00:38:25,119 --> 00:38:28,240
they want to move to something else in

1117
00:38:26,560 --> 00:38:30,160
acc

1118
00:38:28,240 --> 00:38:31,919
we don't care the hardware encoder does

1119
00:38:30,160 --> 00:38:32,799
h.264 whatever it's packaged in it

1120
00:38:31,920 --> 00:38:34,320
doesn't care

1121
00:38:32,800 --> 00:38:35,760
that's something that we do through

1122
00:38:34,320 --> 00:38:37,520
probably ffmpeg or something like that

1123
00:38:35,760 --> 00:38:39,599
but we're far away from the well a bit

1124
00:38:37,520 --> 00:38:41,280
away from that still

1125
00:38:39,599 --> 00:38:43,520
so there's another display thing that's

1126
00:38:41,280 --> 00:38:44,160
going on on this side you see what's

1127
00:38:43,520 --> 00:38:46,960
happening

1128
00:38:44,160 --> 00:38:49,839
on for every of those of the standard

1129
00:38:46,960 --> 00:38:52,160
fasdon boxes let me just use the cursor

1130
00:38:49,839 --> 00:38:56,400
if you want to wake up um this is all

1131
00:38:52,160 --> 00:38:56,399
dynamic it changes every second

1132
00:38:56,560 --> 00:39:00,000
basically as fast as the ffmpeg process

1133
00:38:58,720 --> 00:39:02,078
on the on the banana

1134
00:39:00,000 --> 00:39:04,160
pie can grab a frame from the live

1135
00:39:02,079 --> 00:39:07,520
stream i'm gonna render it to a png

1136
00:39:04,160 --> 00:39:09,520
on the cpu and then show it on the

1137
00:39:07,520 --> 00:39:11,280
on the screen so it's dynamic and it

1138
00:39:09,520 --> 00:39:14,000
updates every

1139
00:39:11,280 --> 00:39:15,599
five ish seconds maybe so when it's when

1140
00:39:14,000 --> 00:39:16,000
it doesn't have an ip connection i will

1141
00:39:15,599 --> 00:39:19,200
show it

1142
00:39:16,000 --> 00:39:21,040
as well on this side this is just me

1143
00:39:19,200 --> 00:39:22,799
showing off what we can do with our

1144
00:39:21,040 --> 00:39:25,440
future project because all of this is

1145
00:39:22,800 --> 00:39:27,520
just a png to show off what's going on

1146
00:39:25,440 --> 00:39:28,640
the all winner display engine has a dark

1147
00:39:27,520 --> 00:39:30,560
background

1148
00:39:28,640 --> 00:39:31,680
so black it has a background color then

1149
00:39:30,560 --> 00:39:34,880
it has a

1150
00:39:31,680 --> 00:39:39,759
40 opacity um

1151
00:39:34,880 --> 00:39:42,800
real time full rgb 720p

1152
00:39:39,760 --> 00:39:44,240
um rendering at 60 frames per second

1153
00:39:42,800 --> 00:39:45,680
this is actually eating quite a lot of

1154
00:39:44,240 --> 00:39:47,118
memory boundary because we're scaling

1155
00:39:45,680 --> 00:39:48,799
down and we're trashing the cache all

1156
00:39:47,119 --> 00:39:51,119
the time but this is real time

1157
00:39:48,800 --> 00:39:52,880
this is 60 frames per second instead of

1158
00:39:51,119 --> 00:39:55,200
one per second

1159
00:39:52,880 --> 00:39:58,480
and these things are just a png and this

1160
00:39:55,200 --> 00:40:00,160
is also uh two pngs being shown there

1161
00:39:58,480 --> 00:40:02,160
so there's four layers happening there

1162
00:40:00,160 --> 00:40:03,759
already and we can do a lot more so we

1163
00:40:02,160 --> 00:40:05,598
could draw individual lines

1164
00:40:03,760 --> 00:40:07,920
in individual bits of frame buffer and

1165
00:40:05,599 --> 00:40:08,240
then show them which will make it a lot

1166
00:40:07,920 --> 00:40:12,000
more

1167
00:40:08,240 --> 00:40:13,439
faster and we are using so little cpu

1168
00:40:12,000 --> 00:40:17,119
with this we're not doing anything with

1169
00:40:13,440 --> 00:40:19,200
it it's basically like a few percent

1170
00:40:17,119 --> 00:40:22,240
so the last one is the last one we will

1171
00:40:19,200 --> 00:40:24,560
solve for our first generation hardware

1172
00:40:22,240 --> 00:40:27,200
is that we in this room it's okay

1173
00:40:24,560 --> 00:40:28,960
because we only have one microphone

1174
00:40:27,200 --> 00:40:30,879
and the microphone is attached to the

1175
00:40:28,960 --> 00:40:33,920
camera if you have

1176
00:40:30,880 --> 00:40:36,400
a handheld microphone it will have

1177
00:40:33,920 --> 00:40:38,000
another receiver as well

1178
00:40:36,400 --> 00:40:39,680
and then they have to be mixed together

1179
00:40:38,000 --> 00:40:41,520
which they usually do in front

1180
00:40:39,680 --> 00:40:43,440
in front because then they can drive the

1181
00:40:41,520 --> 00:40:45,119
speakers that are in there

1182
00:40:43,440 --> 00:40:48,160
are in the bigger rooms and then there

1183
00:40:45,119 --> 00:40:49,280
is a big xlr cable going all the way

1184
00:40:48,160 --> 00:40:51,200
back

1185
00:40:49,280 --> 00:40:52,880
just taking the exact same route as the

1186
00:40:51,200 --> 00:40:54,799
ethernet cable

1187
00:40:52,880 --> 00:40:56,720
and it's always a bit of fun and games

1188
00:40:54,800 --> 00:40:58,319
dragging these xlr cables across the

1189
00:40:56,720 --> 00:40:59,520
campus and then putting them in each and

1190
00:40:58,319 --> 00:41:00,960
every room and we want to get rid of

1191
00:40:59,520 --> 00:41:03,520
that in time as well

1192
00:41:00,960 --> 00:41:05,200
so if we can get the latency down then

1193
00:41:03,520 --> 00:41:07,839
we might be able to

1194
00:41:05,200 --> 00:41:10,000
have the box in the back also taken two

1195
00:41:07,839 --> 00:41:11,680
microphone channels

1196
00:41:10,000 --> 00:41:13,119
and then send it to the front and send

1197
00:41:11,680 --> 00:41:13,919
it out over the over the speakers as

1198
00:41:13,119 --> 00:41:15,599
well

1199
00:41:13,920 --> 00:41:17,520
if we can get the latency down but wait

1200
00:41:15,599 --> 00:41:18,960
and see if we ever get there

1201
00:41:17,520 --> 00:41:21,359
well we will get there but when we ever

1202
00:41:18,960 --> 00:41:23,599
get there so this is the board that

1203
00:41:21,359 --> 00:41:25,520
so last may we had a meeting in

1204
00:41:23,599 --> 00:41:26,400
frankfurt which is kind of halfway for

1205
00:41:25,520 --> 00:41:29,040
all of us

1206
00:41:26,400 --> 00:41:29,599
so it was us to me and uber lives just

1207
00:41:29,040 --> 00:41:31,119
one

1208
00:41:29,599 --> 00:41:33,520
what 20 kilometers away or something

1209
00:41:31,119 --> 00:41:34,880
like that and then we chatted a bit of

1210
00:41:33,520 --> 00:41:36,720
what we are really going to

1211
00:41:34,880 --> 00:41:38,800
do and while we are going to now how

1212
00:41:36,720 --> 00:41:42,000
we're going to attack this

1213
00:41:38,800 --> 00:41:44,720
and in the end we decided to go back to

1214
00:41:42,000 --> 00:41:47,599
the adafruit tfp401 module the dvi

1215
00:41:44,720 --> 00:41:49,279
decoder as something that would give us

1216
00:41:47,599 --> 00:41:51,040
hardware quickly

1217
00:41:49,280 --> 00:41:53,280
that i could start developing the

1218
00:41:51,040 --> 00:41:56,240
software for this

1219
00:41:53,280 --> 00:41:58,240
um so uber designed this in the space of

1220
00:41:56,240 --> 00:42:00,160
what a week and a half or so

1221
00:41:58,240 --> 00:42:02,319
it's just a connector there's a few

1222
00:42:00,160 --> 00:42:06,319
resistors in there and then

1223
00:42:02,319 --> 00:42:07,279
one and then one voltage shifter for vga

1224
00:42:06,319 --> 00:42:10,079
probably but we're not

1225
00:42:07,280 --> 00:42:11,200
using the vga yet no i think it's

1226
00:42:10,079 --> 00:42:14,560
totally passive

1227
00:42:11,200 --> 00:42:16,480
totally passive okay so you had some

1228
00:42:14,560 --> 00:42:17,680
space left that's why you added the jtag

1229
00:42:16,480 --> 00:42:20,800
adapter

1230
00:42:17,680 --> 00:42:23,839
um i first tried to use the

1231
00:42:20,800 --> 00:42:26,640
um the csi0 connection it's not me

1232
00:42:23,839 --> 00:42:28,560
csi it's the it's a chinese version of

1233
00:42:26,640 --> 00:42:31,680
it so it's still old-school parallel

1234
00:42:28,560 --> 00:42:32,160
it's called cmos sensor interface thank

1235
00:42:31,680 --> 00:42:35,680
you

1236
00:42:32,160 --> 00:42:37,359
all winner and this was a dead end so i

1237
00:42:35,680 --> 00:42:37,759
spent three weeks trying to get that to

1238
00:42:37,359 --> 00:42:39,440
work

1239
00:42:37,760 --> 00:42:41,440
and then cleaning up the register tables

1240
00:42:39,440 --> 00:42:42,319
and then thinking no i'm not going to

1241
00:42:41,440 --> 00:42:45,280
use that lit

1242
00:42:42,319 --> 00:42:46,640
it's just 12 registers i've dealt with a

1243
00:42:45,280 --> 00:42:49,599
few more let's just write it from

1244
00:42:46,640 --> 00:42:51,359
scratch and see where we are

1245
00:42:49,599 --> 00:42:53,920
i will at some point have to feed this

1246
00:42:51,359 --> 00:42:55,598
back to the existing csi driver

1247
00:42:53,920 --> 00:42:58,240
but i needed to have this thing working

1248
00:42:55,599 --> 00:43:00,560
faster that we verify what we're doing

1249
00:42:58,240 --> 00:43:04,959
it also has an lcd connector we have the

1250
00:43:00,560 --> 00:43:04,960
vga connector we have vga out for free

1251
00:43:05,680 --> 00:43:09,919
so why not just implement that as well

1252
00:43:08,160 --> 00:43:11,598
one thing that hasn't happened yet

1253
00:43:09,920 --> 00:43:12,880
nobody has read in the software for that

1254
00:43:11,599 --> 00:43:14,319
maybe something for the future as well

1255
00:43:12,880 --> 00:43:17,920
not that important

1256
00:43:14,319 --> 00:43:20,720
the lime 2 provides the hdmi output

1257
00:43:17,920 --> 00:43:22,400
the adafruit adapter oh in case let's

1258
00:43:20,720 --> 00:43:24,480
move to the next slide

1259
00:43:22,400 --> 00:43:26,560
it's this bit on the side and this is

1260
00:43:24,480 --> 00:43:29,599
what we've been running all weekend

1261
00:43:26,560 --> 00:43:30,880
now you can tell that we've been

1262
00:43:29,599 --> 00:43:32,400
in this room yeah only in this room

1263
00:43:30,880 --> 00:43:34,000
there's only one setup that we have we

1264
00:43:32,400 --> 00:43:36,400
have seven of these boards

1265
00:43:34,000 --> 00:43:37,599
seven of these set setups adapt uh

1266
00:43:36,400 --> 00:43:41,280
implemented there's

1267
00:43:37,599 --> 00:43:43,839
two in leuven oh you have one i have

1268
00:43:41,280 --> 00:43:45,119
two and then fazil and marian have one

1269
00:43:43,839 --> 00:43:47,680
each as well

1270
00:43:45,119 --> 00:43:49,280
so we are running this and this thing is

1271
00:43:47,680 --> 00:43:53,359
very stupid you can't talk twist

1272
00:43:49,280 --> 00:43:54,240
the dvi uh decoder and it doesn't deal

1273
00:43:53,359 --> 00:43:57,119
well with

1274
00:43:54,240 --> 00:43:59,359
quarter megahertz resolutions dot clock

1275
00:43:57,119 --> 00:44:01,760
resolutions and you can tell because

1276
00:43:59,359 --> 00:44:03,200
the first four pixels up there are a bit

1277
00:44:01,760 --> 00:44:06,240
late

1278
00:44:03,200 --> 00:44:07,680
and our capture engine is a bit weird

1279
00:44:06,240 --> 00:44:10,000
it doesn't have a display enable it

1280
00:44:07,680 --> 00:44:12,560
needs to be told when the syncs

1281
00:44:10,000 --> 00:44:13,200
happen and it needs to know this many

1282
00:44:12,560 --> 00:44:14,960
pulses

1283
00:44:13,200 --> 00:44:17,200
after the sync horizontal or vertical

1284
00:44:14,960 --> 00:44:19,359
happens is when we start capturing

1285
00:44:17,200 --> 00:44:21,520
and because this module is a bit stupid

1286
00:44:19,359 --> 00:44:23,359
the first line is always messed up

1287
00:44:21,520 --> 00:44:24,720
i've had this running for a full day

1288
00:44:23,359 --> 00:44:26,640
capturing full hd

1289
00:44:24,720 --> 00:44:29,520
at 60 frames per second i think it was

1290
00:44:26,640 --> 00:44:32,799
like 14 terabytes of data

1291
00:44:29,520 --> 00:44:34,480
that it tested with a special

1292
00:44:32,800 --> 00:44:35,920
overlays that i developed that i could

1293
00:44:34,480 --> 00:44:37,280
figure out here and you know the other

1294
00:44:35,920 --> 00:44:38,720
corners where all the pixels were

1295
00:44:37,280 --> 00:44:41,119
correct there and we lost

1296
00:44:38,720 --> 00:44:42,959
400 pixels always the first pixel up

1297
00:44:41,119 --> 00:44:46,079
there

1298
00:44:42,960 --> 00:44:49,599
over millions of

1299
00:44:46,079 --> 00:44:52,640
of frames so if we over a

1300
00:44:49,599 --> 00:44:53,760
flat cable like this as well so if we

1301
00:44:52,640 --> 00:44:55,920
move to the adv

1302
00:44:53,760 --> 00:44:56,960
which we can tell to boost the signal as

1303
00:44:55,920 --> 00:44:59,040
well

1304
00:44:56,960 --> 00:45:01,839
if we have this all on the same board we

1305
00:44:59,040 --> 00:45:04,480
will not lose a single pixel

1306
00:45:01,839 --> 00:45:06,880
on full hd resolution the issue we do

1307
00:45:04,480 --> 00:45:08,480
have is that the all wear 820 is

1308
00:45:06,880 --> 00:45:10,720
pretty limited in memory and bus

1309
00:45:08,480 --> 00:45:11,839
bandwidth and we run into that mainly

1310
00:45:10,720 --> 00:45:13,598
because we're

1311
00:45:11,839 --> 00:45:14,960
using the scalar badly on the status

1312
00:45:13,599 --> 00:45:16,960
screen but

1313
00:45:14,960 --> 00:45:18,960
yeah so the upcoming design we will

1314
00:45:16,960 --> 00:45:24,160
reuse

1315
00:45:18,960 --> 00:45:26,400
the work that the heroes and gabriel did

1316
00:45:24,160 --> 00:45:27,839
and add our own connectors to that so

1317
00:45:26,400 --> 00:45:30,400
the lcd connector we want to keep

1318
00:45:27,839 --> 00:45:33,200
because status is very important

1319
00:45:30,400 --> 00:45:34,800
vga is nice to have and we've mostly

1320
00:45:33,200 --> 00:45:39,680
implemented it already

1321
00:45:34,800 --> 00:45:39,680
in hardware it's an easy thing to do vga

1322
00:45:39,839 --> 00:45:44,640
okay um software it will be a bit more

1323
00:45:42,960 --> 00:45:48,480
work and we will also have

1324
00:45:44,640 --> 00:45:49,839
to built the audio breakout connector

1325
00:45:48,480 --> 00:45:52,160
so this is the whole pipeline we're

1326
00:45:49,839 --> 00:45:53,759
using now

1327
00:45:52,160 --> 00:45:56,078
one and other interesting thing about

1328
00:45:53,760 --> 00:45:57,760
the csi1 engine so the capture engine is

1329
00:45:56,079 --> 00:46:00,800
that it doesn't do

1330
00:45:57,760 --> 00:46:04,079
proper rgb as we know it

1331
00:46:00,800 --> 00:46:05,520
it does this planar so we have a

1332
00:46:04,079 --> 00:46:08,079
separate plane for

1333
00:46:05,520 --> 00:46:09,520
each channel so a separate bit of memory

1334
00:46:08,079 --> 00:46:10,240
for red a separate bit of memory for

1335
00:46:09,520 --> 00:46:12,880
green and separate

1336
00:46:10,240 --> 00:46:14,078
memory for blue nobody does that i think

1337
00:46:12,880 --> 00:46:16,640
yesterday somebody said

1338
00:46:14,079 --> 00:46:18,000
or it was daniel or something who said

1339
00:46:16,640 --> 00:46:22,400
amigas used to do it but

1340
00:46:18,000 --> 00:46:26,160
amigos were a few years ago so what

1341
00:46:22,400 --> 00:46:28,880
okay so v4l linux doesn't know about it

1342
00:46:26,160 --> 00:46:31,200
and drm doesn't know about it either

1343
00:46:28,880 --> 00:46:34,319
one interesting thing is that no display

1344
00:46:31,200 --> 00:46:37,118
engine usually can handle that

1345
00:46:34,319 --> 00:46:38,960
but if you have y u v you have color

1346
00:46:37,119 --> 00:46:40,160
space conversion and you have a matrix

1347
00:46:38,960 --> 00:46:42,079
three by three

1348
00:46:40,160 --> 00:46:44,000
if you put a unity matrix in there you

1349
00:46:42,079 --> 00:46:46,480
have the exact same result

1350
00:46:44,000 --> 00:46:48,160
so that's what we do there um then i've

1351
00:46:46,480 --> 00:46:49,440
been having tons of fun in games with

1352
00:46:48,160 --> 00:46:51,359
the

1353
00:46:49,440 --> 00:46:53,520
with the display engine at what we've

1354
00:46:51,359 --> 00:46:56,160
been driving the status lcd

1355
00:46:53,520 --> 00:46:57,359
this poor status lcd for three months at

1356
00:46:56,160 --> 00:47:01,279
150 more

1357
00:46:57,359 --> 00:47:02,960
four hertz because the clocks of this

1358
00:47:01,280 --> 00:47:05,119
pipeline and this pipeline ended up

1359
00:47:02,960 --> 00:47:07,200
being tied together

1360
00:47:05,119 --> 00:47:08,160
and one changed and then ruined the

1361
00:47:07,200 --> 00:47:09,680
clock for the other

1362
00:47:08,160 --> 00:47:12,240
and so i've been fixing that sort of

1363
00:47:09,680 --> 00:47:15,040
stuff i've been adding

1364
00:47:12,240 --> 00:47:16,640
overlays more overlays than um kms can

1365
00:47:15,040 --> 00:47:19,920
handle

1366
00:47:16,640 --> 00:47:21,759
kms has a because it was originally

1367
00:47:19,920 --> 00:47:23,119
planes for kms were originally made for

1368
00:47:21,760 --> 00:47:24,960
intel

1369
00:47:23,119 --> 00:47:26,240
and at the time when sandy bridge

1370
00:47:24,960 --> 00:47:28,319
happened

1371
00:47:26,240 --> 00:47:29,839
and at the time of sandy bridge they had

1372
00:47:28,319 --> 00:47:31,359
finally gotten to the stage where we can

1373
00:47:29,839 --> 00:47:34,000
do it all in the 3d engine and we have

1374
00:47:31,359 --> 00:47:37,040
like one or two overlays left

1375
00:47:34,000 --> 00:47:37,920
or three something like that very very

1376
00:47:37,040 --> 00:47:40,240
little

1377
00:47:37,920 --> 00:47:41,760
back in that day i was i was actually

1378
00:47:40,240 --> 00:47:45,680
consulting for you for a bit

1379
00:47:41,760 --> 00:47:46,240
and i had to go and get 2011 i had to go

1380
00:47:45,680 --> 00:47:49,440
and get an

1381
00:47:46,240 --> 00:47:51,520
older epc to be able to get an older

1382
00:47:49,440 --> 00:47:53,200
display engine where i could play with

1383
00:47:51,520 --> 00:47:55,119
planes a bit more to implement one

1384
00:47:53,200 --> 00:47:57,439
version of hardware composer that

1385
00:47:55,119 --> 00:47:59,760
fell off victoria said in the meantime

1386
00:47:57,440 --> 00:48:02,240
but yeah

1387
00:47:59,760 --> 00:48:03,760
each of these display pipelines supports

1388
00:48:02,240 --> 00:48:07,439
37

1389
00:48:03,760 --> 00:48:11,040
overlays and kms supports 32 in total

1390
00:48:07,440 --> 00:48:12,720
for the whole driver so we have four

1391
00:48:11,040 --> 00:48:15,040
base layers we have a hardware cursor we

1392
00:48:12,720 --> 00:48:17,759
have a background color and we have

1393
00:48:15,040 --> 00:48:20,000
sprites which are not scalable are a

1394
00:48:17,760 --> 00:48:21,440
single color format but it's like 2k

1395
00:48:20,000 --> 00:48:23,040
on 2k and then it's just a memory

1396
00:48:21,440 --> 00:48:26,480
bandwidth issue and then we can place

1397
00:48:23,040 --> 00:48:29,040
all sorts of display games now for the

1398
00:48:26,480 --> 00:48:29,920
encode pipeline since we have this

1399
00:48:29,040 --> 00:48:34,079
really weird

1400
00:48:29,920 --> 00:48:36,000
color format um we have to put tie a few

1401
00:48:34,079 --> 00:48:38,240
engines together

1402
00:48:36,000 --> 00:48:39,119
so the g2d part is the one that will

1403
00:48:38,240 --> 00:48:42,240
converge from

1404
00:48:39,119 --> 00:48:45,280
r8 g8b8 to nv12

1405
00:48:42,240 --> 00:48:48,078
which is half resolution so 12 bits it's

1406
00:48:45,280 --> 00:48:50,319
a yv420

1407
00:48:48,079 --> 00:48:53,040
in case anybody knows that sort of stuff

1408
00:48:50,319 --> 00:48:54,800
or wants to know that sort of stuff

1409
00:48:53,040 --> 00:48:57,040
in between that is always a part of the

1410
00:48:54,800 --> 00:48:58,559
the encode engine that's the media isp

1411
00:48:57,040 --> 00:49:01,040
and it can't handle the resolution what

1412
00:48:58,559 --> 00:49:03,599
it can do is do thumbnailing

1413
00:49:01,040 --> 00:49:05,279
so it will take one picture and then

1414
00:49:03,599 --> 00:49:07,040
rescale it i haven't gotten it to work

1415
00:49:05,280 --> 00:49:09,200
yet for any scaling

1416
00:49:07,040 --> 00:49:10,240
but that's what we hopefully can get to

1417
00:49:09,200 --> 00:49:12,078
work and can

1418
00:49:10,240 --> 00:49:14,479
make use for our status display that

1419
00:49:12,079 --> 00:49:17,040
we're no longer trashing the bus

1420
00:49:14,480 --> 00:49:18,720
and the h264 encode i have been doing a

1421
00:49:17,040 --> 00:49:19,759
bit of archaeology and by this time it

1422
00:49:18,720 --> 00:49:22,879
was already almost

1423
00:49:19,760 --> 00:49:24,480
october november i got jens kuska from

1424
00:49:22,880 --> 00:49:27,920
the linux team

1425
00:49:24,480 --> 00:49:29,280
his old code from 2014 and all the

1426
00:49:27,920 --> 00:49:31,599
various forks that removed this

1427
00:49:29,280 --> 00:49:33,200
copyright and remove those commits i got

1428
00:49:31,599 --> 00:49:35,920
them all figured out and did a bit of

1429
00:49:33,200 --> 00:49:38,078
archaeology because i like those guys

1430
00:49:35,920 --> 00:49:39,440
and this is how open source actually

1431
00:49:38,079 --> 00:49:41,040
should work uh

1432
00:49:39,440 --> 00:49:42,800
and in the end i moved all the code from

1433
00:49:41,040 --> 00:49:45,680
user space into the kernel

1434
00:49:42,800 --> 00:49:47,839
and we are hitting with the display with

1435
00:49:45,680 --> 00:49:51,200
the bus being trashed

1436
00:49:47,839 --> 00:49:53,279
um for a 40 second file we require 20

1437
00:49:51,200 --> 00:49:55,680
seconds to do real-time encoding at

1438
00:49:53,280 --> 00:49:58,400
seven up to do encoding at 720p so we're

1439
00:49:55,680 --> 00:50:00,078
twice real time if we stop trashing the

1440
00:49:58,400 --> 00:50:02,720
bus we are four times real time

1441
00:50:00,079 --> 00:50:03,920
so we have space left to maybe if we

1442
00:50:02,720 --> 00:50:06,959
stop trashing the bus

1443
00:50:03,920 --> 00:50:08,079
bus to do do one atp but i can't promise

1444
00:50:06,960 --> 00:50:09,359
this at this point

1445
00:50:08,079 --> 00:50:11,440
but all of these things have been

1446
00:50:09,359 --> 00:50:12,640
verified so it's time to move on all

1447
00:50:11,440 --> 00:50:15,280
these engines

1448
00:50:12,640 --> 00:50:16,879
the fact that the capture could do this

1449
00:50:15,280 --> 00:50:18,720
resolution with with a parallel

1450
00:50:16,880 --> 00:50:22,240
connection the fact that the

1451
00:50:18,720 --> 00:50:23,118
um the mpeg encoder could do the h264

1452
00:50:22,240 --> 00:50:24,479
encoder could do this

1453
00:50:23,119 --> 00:50:25,839
all of this were still unknowns and

1454
00:50:24,480 --> 00:50:26,480
we've all tested it and it's been all

1455
00:50:25,839 --> 00:50:29,200
been working

1456
00:50:26,480 --> 00:50:30,640
pretty well so we are moving forward

1457
00:50:29,200 --> 00:50:34,160
slowly

1458
00:50:30,640 --> 00:50:36,240
so the work done i think i meant

1459
00:50:34,160 --> 00:50:37,839
went over most of the things already now

1460
00:50:36,240 --> 00:50:39,919
there's a tool that

1461
00:50:37,839 --> 00:50:42,078
is written specifically for this using

1462
00:50:39,920 --> 00:50:44,720
kms and v4 linux it's

1463
00:50:42,079 --> 00:50:46,319
now heavily threaded which will change

1464
00:50:44,720 --> 00:50:46,799
but it's just keeping all the buffers in

1465
00:50:46,319 --> 00:50:49,119
flight

1466
00:50:46,800 --> 00:50:50,240
and we have so many things happening on

1467
00:50:49,119 --> 00:50:52,240
overlays

1468
00:50:50,240 --> 00:50:53,839
we have all the data coming in and going

1469
00:50:52,240 --> 00:50:56,879
to different places

1470
00:50:53,839 --> 00:50:58,558
that i don't think anybody in this

1471
00:50:56,880 --> 00:51:01,280
planet will ever be able to

1472
00:50:58,559 --> 00:51:04,079
write a g-stream or pipeline for that we

1473
00:51:01,280 --> 00:51:07,200
can't debug standard g-striper pipelines

1474
00:51:04,079 --> 00:51:09,599
this one will be something special no so

1475
00:51:07,200 --> 00:51:11,200
this will probably be a custom tool that

1476
00:51:09,599 --> 00:51:13,359
does all sorts of stuff that is very

1477
00:51:11,200 --> 00:51:14,240
specific for conferences but which will

1478
00:51:13,359 --> 00:51:16,558
show

1479
00:51:14,240 --> 00:51:17,839
anybody else who wants to play with it

1480
00:51:16,559 --> 00:51:19,680
to how to do this

1481
00:51:17,839 --> 00:51:21,200
also this tool is being built up at the

1482
00:51:19,680 --> 00:51:22,000
same time that the drivers are being

1483
00:51:21,200 --> 00:51:23,520
built up and

1484
00:51:22,000 --> 00:51:26,960
verified so these things are growing

1485
00:51:23,520 --> 00:51:28,880
together which is why it is what it is

1486
00:51:26,960 --> 00:51:30,319
yeah so high memory bandwidth is our

1487
00:51:28,880 --> 00:51:32,640
biggest problem

1488
00:51:30,319 --> 00:51:34,880
so what we're going to do is now i need

1489
00:51:32,640 --> 00:51:36,799
to go test the adm hdmi active signal so

1490
00:51:34,880 --> 00:51:39,440
at this point

1491
00:51:36,800 --> 00:51:41,599
whenever there's no frames coming in for

1492
00:51:39,440 --> 00:51:43,520
because my code is that bad

1493
00:51:41,599 --> 00:51:44,640
the threading code if it doesn't see

1494
00:51:43,520 --> 00:51:46,800
frames then

1495
00:51:44,640 --> 00:51:48,879
it waits for 160 of a frame and if it

1496
00:51:46,800 --> 00:51:50,640
doesn't see a few frames

1497
00:51:48,880 --> 00:51:52,400
then it will say oh let's show this

1498
00:51:50,640 --> 00:51:54,640
other image the one that you see when

1499
00:51:52,400 --> 00:51:56,880
the when the speaker unplugs

1500
00:51:54,640 --> 00:51:59,118
and this is six months of work to have

1501
00:51:56,880 --> 00:52:01,760
this one feature here that's that's a

1502
00:51:59,119 --> 00:52:02,240
nice thing right so six months of work

1503
00:52:01,760 --> 00:52:04,400
for that

1504
00:52:02,240 --> 00:52:05,279
no so i need to verify i2s coming from

1505
00:52:04,400 --> 00:52:08,640
the adv

1506
00:52:05,280 --> 00:52:11,520
from the hdmi decoder and

1507
00:52:08,640 --> 00:52:11,920
verify the audio and then uber can go

1508
00:52:11,520 --> 00:52:15,359
and

1509
00:52:11,920 --> 00:52:17,440
finish the design of the actual board

1510
00:52:15,359 --> 00:52:18,880
and start prototyping it and getting it

1511
00:52:17,440 --> 00:52:20,400
made

1512
00:52:18,880 --> 00:52:22,240
and then there's a few other bits and

1513
00:52:20,400 --> 00:52:23,760
bobs that i need to go to there's a lot

1514
00:52:22,240 --> 00:52:27,200
of work ahead still

1515
00:52:23,760 --> 00:52:29,599
but everything is looking as it

1516
00:52:27,200 --> 00:52:30,399
will work everything that we've wanted

1517
00:52:29,599 --> 00:52:33,280
it to do

1518
00:52:30,400 --> 00:52:34,720
it has done so far and it's just a

1519
00:52:33,280 --> 00:52:38,800
matter of just doing it and we

1520
00:52:34,720 --> 00:52:40,720
are doing it so the future is then

1521
00:52:38,800 --> 00:52:41,760
with the external audio connectors that

1522
00:52:40,720 --> 00:52:43,200
we will have is that we will have

1523
00:52:41,760 --> 00:52:45,440
balanced audio

1524
00:52:43,200 --> 00:52:46,879
for xlrs that we can use the standard

1525
00:52:45,440 --> 00:52:47,839
microphones and this and then plug this

1526
00:52:46,880 --> 00:52:49,440
directly

1527
00:52:47,839 --> 00:52:50,720
we will need to have phantom power for

1528
00:52:49,440 --> 00:52:52,640
that which is going to be a bit of an

1529
00:52:50,720 --> 00:52:54,720
issue to go from five volts to that but

1530
00:52:52,640 --> 00:52:55,759
that's what uber can work on after he's

1531
00:52:54,720 --> 00:52:57,839
done

1532
00:52:55,760 --> 00:52:59,760
with the first thing one other thing we

1533
00:52:57,839 --> 00:53:02,000
want to do is the a separate

1534
00:52:59,760 --> 00:53:02,880
switch that we have oh apparently time's

1535
00:53:02,000 --> 00:53:06,480
up

1536
00:53:02,880 --> 00:53:08,640
okay um yeah then let's have the next

1537
00:53:06,480 --> 00:53:10,640
talker so the deployments very quickly

1538
00:53:08,640 --> 00:53:12,160
this is how we're gonna deploy this year

1539
00:53:10,640 --> 00:53:13,680
we're gonna we still haven't talked to

1540
00:53:12,160 --> 00:53:15,200
the froscom guys we've been too busy

1541
00:53:13,680 --> 00:53:18,240
maybe we should have done that before

1542
00:53:15,200 --> 00:53:20,078
yeah yeah but the ccc guys are doing

1543
00:53:18,240 --> 00:53:22,000
most of frostcon and the dev rooms are

1544
00:53:20,079 --> 00:53:23,520
not being recorded and we

1545
00:53:22,000 --> 00:53:25,040
will take try to take that over and test

1546
00:53:23,520 --> 00:53:25,920
our hardware then we will do open fest

1547
00:53:25,040 --> 00:53:28,160
because

1548
00:53:25,920 --> 00:53:30,160
that's already always involved with and

1549
00:53:28,160 --> 00:53:32,000
then in a year from now there is

1550
00:53:30,160 --> 00:53:35,118
this this conference that nobody heard

1551
00:53:32,000 --> 00:53:36,880
of that we might want to roll this out

1552
00:53:35,119 --> 00:53:38,720
and by the way the dates you saw there

1553
00:53:36,880 --> 00:53:39,839
are not confirmed so don't book anything

1554
00:53:38,720 --> 00:53:42,558
no it's just it just

1555
00:53:39,839 --> 00:53:44,000
it just me guessing and here's some urls

1556
00:53:42,559 --> 00:53:45,760
so that it's in the slides and

1557
00:53:44,000 --> 00:53:56,880
question time i'm really sorry but this

1558
00:53:45,760 --> 00:53:56,880
will have to go outside

