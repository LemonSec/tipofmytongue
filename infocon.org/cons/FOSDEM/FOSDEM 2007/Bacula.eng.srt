1
00:00:09,960 --> 00:00:13,440
hello good afternoon my principal and

2
00:00:13,440 --> 00:00:16,070
I'd like to talk to you today about

3
00:00:16,070 --> 00:00:19,939
bakula which is a network backup program

4
00:00:19,939 --> 00:00:23,189
I have to apologize because I'm running

5
00:00:23,189 --> 00:00:26,810
on a rather old machine that 700

6
00:00:26,810 --> 00:00:31,259
megahertz and has only 256 megabytes of

7
00:00:31,259 --> 00:00:35,730
memory and meanwhile the

8
00:00:35,730 --> 00:00:38,820
is eating michael tu which you can see

9
00:00:38,820 --> 00:00:41,940
that down there sort of poured the left

10
00:00:41,940 --> 00:00:43,820
and so everything is going extremely

11
00:00:43,820 --> 00:00:47,989
slowly here hopefully we'll get the

12
00:00:47,989 --> 00:00:52,080
presentation up shortly and try to kill

13
00:00:52,080 --> 00:00:55,250
it off but I didn't succeed

14
00:01:18,659 --> 00:01:25,929
okay well it's still doing its thing but

15
00:01:25,929 --> 00:01:30,509
I think we'll get on the presentation

16
00:01:30,569 --> 00:01:35,110
okay here we go before I start that I

17
00:01:35,110 --> 00:01:37,600
see a show of hands of people who are

18
00:01:37,600 --> 00:01:41,049
already using bakula or who have tested

19
00:01:41,049 --> 00:01:43,439
it well thank you a good number of you

20
00:01:43,439 --> 00:01:46,899
if all goes well again I'll be able to

21
00:01:46,899 --> 00:01:49,810
give a live demo and the updater will it

22
00:01:49,810 --> 00:01:52,869
stop these things and we can show you

23
00:01:52,869 --> 00:01:55,539
exactly what happens in real time and

24
00:01:55,539 --> 00:01:58,360
perhaps I can even show you some things

25
00:01:58,360 --> 00:02:02,610
that you haven't seen with bakula yet

26
00:02:03,959 --> 00:02:08,139
one of the bakula developers asked in

27
00:02:08,139 --> 00:02:11,049
conference one time what do you do for

28
00:02:11,049 --> 00:02:13,870
backups or do you do backups and you got

29
00:02:13,870 --> 00:02:16,650
all the answers

30
00:02:16,650 --> 00:02:20,530
even if you answer yes I do daily

31
00:02:20,530 --> 00:02:24,459
backups a good backup program back up

32
00:02:24,459 --> 00:02:27,190
bacala could potentially resolve a lot

33
00:02:27,190 --> 00:02:29,560
of the problems it have it can easily

34
00:02:29,560 --> 00:02:32,739
help you find the restore files through

35
00:02:32,739 --> 00:02:36,489
a GUI interface you can restore to any

36
00:02:36,489 --> 00:02:38,739
point in time providing of course you've

37
00:02:38,739 --> 00:02:42,340
made a backup at that point in time it

38
00:02:42,340 --> 00:02:45,459
helps a lot in knowing what you've

39
00:02:45,459 --> 00:02:49,299
backed up and when that's not so easy if

40
00:02:49,299 --> 00:02:52,739
you're using cars and other system and

41
00:02:52,739 --> 00:02:55,780
finally are well not finally let another

42
00:02:55,780 --> 00:02:59,290
thing is if you have a fairly are

43
00:02:59,290 --> 00:03:02,980
chopped bakula scales very well in fact

44
00:03:02,980 --> 00:03:04,750
there's one company in the united states

45
00:03:04,750 --> 00:03:08,470
is backing up two thousand machines with

46
00:03:08,470 --> 00:03:13,209
popula and finally Becca has a bare

47
00:03:13,209 --> 00:03:15,370
metal recovery which can help you in a

48
00:03:15,370 --> 00:03:18,640
total disaster bare metal recovery is a

49
00:03:18,640 --> 00:03:22,710
non-trivial thing and hopefully someday

50
00:03:22,710 --> 00:03:26,770
linux distributors to cooperate a bit

51
00:03:26,770 --> 00:03:31,360
more and get a better recovery disk for

52
00:03:31,360 --> 00:03:36,520
everyone back up bacala it's a network

53
00:03:36,520 --> 00:03:38,470
backup solution which means everything

54
00:03:38,470 --> 00:03:41,200
goes on is communicated from the various

55
00:03:41,200 --> 00:03:44,920
demons vaya backed up by the network

56
00:03:44,920 --> 00:03:48,489
it's designed to be portable too many

57
00:03:48,489 --> 00:03:50,410
operating systems and I'll give you an

58
00:03:50,410 --> 00:03:53,830
example originally the project Bulls

59
00:03:53,830 --> 00:03:56,470
were as you see up there and they still

60
00:03:56,470 --> 00:03:59,920
hold pretty well today it runs from PCs

61
00:03:59,920 --> 00:04:02,500
at the mainframes and somebody has told

62
00:04:02,500 --> 00:04:05,590
me that he's writing a client for a bomb

63
00:04:05,590 --> 00:04:09,730
which would be interesting we already

64
00:04:09,730 --> 00:04:12,400
have a lot of enterprise features some

65
00:04:12,400 --> 00:04:13,160
of which

66
00:04:13,160 --> 00:04:15,910
described to you in a few minutes and

67
00:04:15,910 --> 00:04:18,290
probably the should have been number one

68
00:04:18,290 --> 00:04:20,480
on the list is we would like to make

69
00:04:20,480 --> 00:04:22,700
sure that providing you have the right

70
00:04:22,700 --> 00:04:24,950
hardware and keep a copy of the software

71
00:04:24,950 --> 00:04:27,710
ground that bakula can read your old

72
00:04:27,710 --> 00:04:31,360
backup takes for at least 30 years and

73
00:04:31,360 --> 00:04:34,490
the last one we have a free and open

74
00:04:34,490 --> 00:04:39,140
source license GPL version 2 with a few

75
00:04:39,140 --> 00:04:41,720
clarifications that just help explain

76
00:04:41,720 --> 00:04:47,450
things bacula is a name that John Walker

77
00:04:47,450 --> 00:04:48,729
one of the

78
00:04:48,729 --> 00:04:50,860
original founders the project with

79
00:04:50,860 --> 00:04:53,800
myself device and it comes from backup

80
00:04:53,800 --> 00:04:57,580
and Dracula and Dracula comes from the

81
00:04:57,580 --> 00:04:59,469
fact that back heel that comes in the

82
00:04:59,469 --> 00:05:01,270
middle of the night and it sucks the

83
00:05:01,270 --> 00:05:03,779
vital essence out of your computer a

84
00:05:03,779 --> 00:05:08,229
simple play on words I started the

85
00:05:08,229 --> 00:05:12,099
project in january of 2000 worked on for

86
00:05:12,099 --> 00:05:14,080
a little bit more than two years before

87
00:05:14,080 --> 00:05:16,150
I felt it was ready and then raised the

88
00:05:16,150 --> 00:05:20,289
sourceforge in April of 2002 and then to

89
00:05:20,289 --> 00:05:23,499
see a few other dates there the

90
00:05:23,499 --> 00:05:25,839
project's not large but still we have a

91
00:05:25,839 --> 00:05:28,990
good number of project members on

92
00:05:28,990 --> 00:05:33,759
sourceforge 41 there's currently 14 one

93
00:05:33,759 --> 00:05:36,099
more than it's listed here developers

94
00:05:36,099 --> 00:05:40,270
who have svn subversion access right I

95
00:05:40,270 --> 00:05:43,270
was missing originally there were 35

96
00:05:43,270 --> 00:05:47,139
developers that had access to CPS about

97
00:05:47,139 --> 00:05:49,919
a month ago we change and I'll explain

98
00:05:49,919 --> 00:05:53,259
the difference there a few of the

99
00:05:53,259 --> 00:05:56,409
mailing lists you can see they're listed

100
00:05:56,409 --> 00:05:59,110
the number of people that subscribe to

101
00:05:59,110 --> 00:06:03,789
them and then the downloads for a few of

102
00:06:03,789 --> 00:06:05,559
the different versions the very first

103
00:06:05,559 --> 00:06:07,809
version that I released the public was

104
00:06:07,809 --> 00:06:12,550
version 1.1 6 and I was pretty surprised

105
00:06:12,550 --> 00:06:15,809
not very many people downloaded it on

106
00:06:15,809 --> 00:06:18,069
afterthought it's pretty obvious because

107
00:06:18,069 --> 00:06:20,349
it's a new program that has a totally

108
00:06:20,349 --> 00:06:23,019
different cake format even though it's

109
00:06:23,019 --> 00:06:25,330
open it's not a typical tar or backup

110
00:06:25,330 --> 00:06:29,979
format however the last major version

111
00:06:29,979 --> 00:06:31,899
before the current one was one point

112
00:06:31,899 --> 00:06:34,989
three eight eleven and that's the you

113
00:06:34,989 --> 00:06:37,860
see the number twelve thousand some

114
00:06:37,860 --> 00:06:41,439
downloads not huge for most projects

115
00:06:41,439 --> 00:06:43,809
however that's about twice of what

116
00:06:43,809 --> 00:06:47,259
amanda is getting for download so I'm

117
00:06:47,259 --> 00:06:51,009
quite happy amanda is supposed to be the

118
00:06:51,009 --> 00:06:54,099
most popular open source backup program

119
00:06:54,099 --> 00:06:58,929
now bacala has six components six major

120
00:06:58,929 --> 00:07:00,339
components and I'm going to go through

121
00:07:00,339 --> 00:07:04,389
them one at a time I'm doing kind of a

122
00:07:04,389 --> 00:07:06,579
brief overview because back is so large

123
00:07:06,579 --> 00:07:08,169
I can't possibly tell you about

124
00:07:08,169 --> 00:07:11,709
everything the fundamental philosophy of

125
00:07:11,709 --> 00:07:14,619
bakula is that the control is

126
00:07:14,619 --> 00:07:17,309
centralized and the control and

127
00:07:17,309 --> 00:07:19,629
administration for the most part into

128
00:07:19,629 --> 00:07:23,589
the director okay it has a concept of a

129
00:07:23,589 --> 00:07:26,169
job is the basic unit that the director

130
00:07:26,169 --> 00:07:28,659
deals with which is a backup of one

131
00:07:28,659 --> 00:07:32,079
client in one set of files and the

132
00:07:32,079 --> 00:07:34,029
director does all the scheduling that

133
00:07:34,029 --> 00:07:36,999
has its own internal scheduling and it

134
00:07:36,999 --> 00:07:39,999
creates job super by system distributes

135
00:07:39,999 --> 00:07:44,139
output where you want to go etc it also

136
00:07:44,139 --> 00:07:47,889
maintains a catalog which is a SQL pata

137
00:07:47,889 --> 00:07:49,460
laga talk a little bit more

138
00:07:49,460 --> 00:07:51,350
that that allows you to very quickly

139
00:07:51,350 --> 00:07:54,350
find where files are which files you

140
00:07:54,350 --> 00:07:57,800
back up normally unless you're in a very

141
00:07:57,800 --> 00:08:00,830
large shop you'll have one copy of the

142
00:08:00,830 --> 00:08:05,090
director directors don't typically work

143
00:08:05,090 --> 00:08:07,819
very well together the second component

144
00:08:07,819 --> 00:08:11,060
is the file demon or often we call it

145
00:08:11,060 --> 00:08:15,229
the client as its name implies it it

146
00:08:15,229 --> 00:08:19,099
backs up backs up and restores files it

147
00:08:19,099 --> 00:08:23,539
runs on each client machine communicates

148
00:08:23,539 --> 00:08:26,030
over the network with the director and

149
00:08:26,030 --> 00:08:28,699
historic demon and as you might imagine

150
00:08:28,699 --> 00:08:31,430
it needs access for all files on the

151
00:08:31,430 --> 00:08:34,520
system so must friends group or local

152
00:08:34,520 --> 00:08:36,320
system or something like that depending

153
00:08:36,320 --> 00:08:39,169
on the operating system the code for the

154
00:08:39,169 --> 00:08:42,500
file set demon and in fact for all of

155
00:08:42,500 --> 00:08:44,990
bakula is common code but there are

156
00:08:44,990 --> 00:08:46,880
little pieces of it particularly in the

157
00:08:46,880 --> 00:08:50,300
file demon that are specialized to each

158
00:08:50,300 --> 00:08:52,310
operating system because they'll be

159
00:08:52,310 --> 00:08:55,160
differences even across uniques machines

160
00:08:55,160 --> 00:08:58,180
for access control is and of course

161
00:08:58,180 --> 00:09:02,089
windows has its own way of accessing

162
00:09:02,089 --> 00:09:05,120
files and permissions typically you have

163
00:09:05,120 --> 00:09:08,910
a lot of file demons okay for one

164
00:09:08,910 --> 00:09:11,790
actor of one at least one for each

165
00:09:11,790 --> 00:09:15,480
machine there and back up the storage

166
00:09:15,480 --> 00:09:18,540
even is another important component it's

167
00:09:18,540 --> 00:09:22,530
the piece the process that that manages

168
00:09:22,530 --> 00:09:26,780
the media and it reads and writes to

169
00:09:26,780 --> 00:09:30,810
this cave DVD and USBs where we support

170
00:09:30,810 --> 00:09:33,810
now normally the storage demon waits

171
00:09:33,810 --> 00:09:37,440
until the director contacts it and

172
00:09:37,440 --> 00:09:40,830
authorizes to run a job and then it will

173
00:09:40,830 --> 00:09:43,470
accept information data say you're doing

174
00:09:43,470 --> 00:09:46,260
a backup Italy accept data from the file

175
00:09:46,260 --> 00:09:49,470
demon and if it's going restored send

176
00:09:49,470 --> 00:09:52,080
data back to the file team if it's doing

177
00:09:52,080 --> 00:09:55,020
what we call them migration job it'll

178
00:09:55,020 --> 00:09:57,630
handle reading and writing the data

179
00:09:57,630 --> 00:09:59,610
itself without interaction of the file

180
00:09:59,610 --> 00:10:03,330
evening well as doing a backup it also

181
00:10:03,330 --> 00:10:06,840
sends the storage location work with the

182
00:10:06,840 --> 00:10:09,720
information on disk or tape to the

183
00:10:09,720 --> 00:10:12,150
director which will then put it into the

184
00:10:12,150 --> 00:10:14,970
catalog so this storage diamond the file

185
00:10:14,970 --> 00:10:17,720
even don't directly access the catalog

186
00:10:17,720 --> 00:10:20,820
typically have one storage being an /

187
00:10:20,820 --> 00:10:24,000
director but a lot of people

188
00:10:24,000 --> 00:10:26,010
they have several machines with tape

189
00:10:26,010 --> 00:10:30,360
drive phone the consoles probably the

190
00:10:30,360 --> 00:10:34,200
most important piece for users and

191
00:10:34,200 --> 00:10:36,270
administrators because it allows you to

192
00:10:36,270 --> 00:10:38,010
communicate with the director and

193
00:10:38,010 --> 00:10:39,930
control it you can do virtually

194
00:10:39,930 --> 00:10:42,180
everything in it if you want you can

195
00:10:42,180 --> 00:10:44,700
start jobs you can review the output

196
00:10:44,700 --> 00:10:47,700
that was produced by each job and you

197
00:10:47,700 --> 00:10:51,360
can query the database there are quite a

198
00:10:51,360 --> 00:10:54,240
number of consoles available the beat

199
00:10:54,240 --> 00:10:57,660
console is a dty interface which is very

200
00:10:57,660 --> 00:11:02,070
useful if you're SS a to you in to your

201
00:11:02,070 --> 00:11:04,240
site from someplace and don't

202
00:11:04,240 --> 00:11:07,360
really fast communications line there's

203
00:11:07,360 --> 00:11:10,390
a wxwidgets that runs on linux unix and

204
00:11:10,390 --> 00:11:14,830
windows it could also run on mac OS if i

205
00:11:14,830 --> 00:11:17,770
don't know if anybody's tried it we have

206
00:11:17,770 --> 00:11:21,370
a danone or known interface that is

207
00:11:21,370 --> 00:11:24,880
pretty much deprecated now it was never

208
00:11:24,880 --> 00:11:28,450
developed fully and then there several

209
00:11:28,450 --> 00:11:30,610
web interfaces one which I hope to show

210
00:11:30,610 --> 00:11:33,690
you at the end of this presentation and

211
00:11:33,690 --> 00:11:36,580
currently I'm working on a really

212
00:11:36,580 --> 00:11:40,450
comprehensive console that is being

213
00:11:40,450 --> 00:11:43,300
developed in jus T 4 and it's called the

214
00:11:43,300 --> 00:11:48,630
bakula administration tool or bat and

215
00:11:48,630 --> 00:11:51,040
one of the features that you have for

216
00:11:51,040 --> 00:11:53,830
consoles are what we call restricted

217
00:11:53,830 --> 00:11:57,459
consoles that allow users to see and

218
00:11:57,459 --> 00:12:00,399
start or interact only with jobs that

219
00:12:00,399 --> 00:12:04,029
concern that are authorized for them for

220
00:12:04,029 --> 00:12:04,840
example for the

221
00:12:04,840 --> 00:12:08,350
client the one component that we use

222
00:12:08,350 --> 00:12:10,810
that was not written by the bakula team

223
00:12:10,810 --> 00:12:13,660
is the catalog database we interface the

224
00:12:13,660 --> 00:12:16,440
three open source databases mysql

225
00:12:16,440 --> 00:12:22,480
postgresql and SQL Lite SQL Lite is not

226
00:12:22,480 --> 00:12:24,760
recommended really for serious

227
00:12:24,760 --> 00:12:26,950
production work but it's very useful

228
00:12:26,950 --> 00:12:29,980
because it's compiled in and has no

229
00:12:29,980 --> 00:12:32,710
administration so it's a very simple for

230
00:12:32,710 --> 00:12:37,150
testing I believe bakula is the only

231
00:12:37,150 --> 00:12:40,350
product that uses an SQL database

232
00:12:40,350 --> 00:12:43,210
although I've been told that IBM's kid

233
00:12:43,210 --> 00:12:47,020
League has certain SQL p.m. it has the

234
00:12:47,020 --> 00:12:49,330
disadvantage that things can sometimes

235
00:12:49,330 --> 00:12:52,899
be slow because you're dealing with

236
00:12:52,899 --> 00:12:56,230
bass and it's not specific code written

237
00:12:56,230 --> 00:12:58,449
to deal with bakula but on the other

238
00:12:58,449 --> 00:13:02,379
hand it provides enormous visibility for

239
00:13:02,379 --> 00:13:05,249
users to interface to the information

240
00:13:05,249 --> 00:13:08,769
the catalog database allows us to track

241
00:13:08,769 --> 00:13:10,929
jobs and figure out when they were run

242
00:13:10,929 --> 00:13:13,540
and particularly where the files are

243
00:13:13,540 --> 00:13:16,749
stored on the tape or the disk allowing

244
00:13:16,749 --> 00:13:21,189
rapid resource of your data and as I

245
00:13:21,189 --> 00:13:23,559
said if you can either through back

246
00:13:23,559 --> 00:13:25,600
Phillip or through programs that you

247
00:13:25,600 --> 00:13:27,639
write yourself query the database and

248
00:13:27,639 --> 00:13:30,670
detriments fount of information bacula

249
00:13:30,670 --> 00:13:34,170
the director in fact has built into it

250
00:13:34,170 --> 00:13:37,269
pruning of the database records by a

251
00:13:37,269 --> 00:13:39,600
retention periods that you set yourself

252
00:13:39,600 --> 00:13:43,119
so the database once you've reached your

253
00:13:43,119 --> 00:13:45,790
retention periods typically six months

254
00:13:45,790 --> 00:13:48,129
or a year the database will tend to

255
00:13:48,129 --> 00:13:52,119
remain stable in size and if you are

256
00:13:52,119 --> 00:13:54,850
doing skating with a huge number of

257
00:13:54,850 --> 00:13:57,999
machines bakula will interface to the

258
00:13:57,999 --> 00:14:01,449
several databases although only we only

259
00:14:01,449 --> 00:14:04,720
support one database of any kind at a

260
00:14:04,720 --> 00:14:07,360
time current time and then the last

261
00:14:07,360 --> 00:14:09,339
component that I won't talk about much

262
00:14:09,339 --> 00:14:12,069
is a great monetary lapis it's in the

263
00:14:12,069 --> 00:14:14,560
system tray

264
00:14:14,560 --> 00:14:17,720
and you can see real time at pavilion

265
00:14:17,720 --> 00:14:24,960
that you want and here is sort of a

266
00:14:24,960 --> 00:14:28,140
picture of most of the components the

267
00:14:28,140 --> 00:14:31,560
usual user usually interfaces through

268
00:14:31,560 --> 00:14:34,200
the console which talks to the director

269
00:14:34,200 --> 00:14:36,990
and then let's say you're doing a backup

270
00:14:36,990 --> 00:14:39,570
job what happens the director will

271
00:14:39,570 --> 00:14:42,150
contact the storage demon say I want to

272
00:14:42,150 --> 00:14:45,990
run a backup job the story of demon will

273
00:14:45,990 --> 00:14:47,850
ensure that it's a director that's

274
00:14:47,850 --> 00:14:50,250
capable or authorized to view that it

275
00:14:50,250 --> 00:14:53,100
will then send back operations

276
00:14:53,100 --> 00:14:55,740
authorization codes etc that the

277
00:14:55,740 --> 00:14:57,930
director will then contact the file

278
00:14:57,930 --> 00:15:01,050
demon giving the list of files to back

279
00:15:01,050 --> 00:15:06,270
up what and anything else that needs for

280
00:15:06,270 --> 00:15:10,620
example it may say compute to check some

281
00:15:10,620 --> 00:15:15,089
codes SS sha-1 code for each file

282
00:15:15,089 --> 00:15:18,120
whatever and in the back the file demon

283
00:15:18,120 --> 00:15:20,880
will contact the story demon and once

284
00:15:20,880 --> 00:15:23,850
they authorize each other it'll transfer

285
00:15:23,850 --> 00:15:26,050
the file and

286
00:15:26,050 --> 00:15:29,080
all the data on the files and the what I

287
00:15:29,080 --> 00:15:31,209
call the attribute which is essentially

288
00:15:31,209 --> 00:15:33,850
a stat packet that contains the file

289
00:15:33,850 --> 00:15:37,180
name the time and date it was the last

290
00:15:37,180 --> 00:15:40,570
week and that the story of demon then

291
00:15:40,570 --> 00:15:42,820
determined puts the information on

292
00:15:42,820 --> 00:15:45,459
whatever device you could select it for

293
00:15:45,459 --> 00:15:48,220
that job and at the same time it sends

294
00:15:48,220 --> 00:15:52,180
the file attributes file name time and

295
00:15:52,180 --> 00:15:52,950
date

296
00:15:52,950 --> 00:15:55,590
sighs and a few other things and the

297
00:15:55,590 --> 00:15:57,570
storage location back to the storage

298
00:15:57,570 --> 00:15:59,910
team that will put it into the catalog

299
00:15:59,910 --> 00:16:04,020
database and with that sort of a steam

300
00:16:04,020 --> 00:16:07,320
it makes doing restore really quite

301
00:16:07,320 --> 00:16:10,740
quick now I'd like to give you a sort of

302
00:16:10,740 --> 00:16:16,350
a summary a few of the features as i

303
00:16:16,350 --> 00:16:18,630
said the basic philosophy of accolades

304
00:16:18,630 --> 00:16:19,400
that

305
00:16:19,400 --> 00:16:21,800
relax all the decisions are made by the

306
00:16:21,800 --> 00:16:24,400
administration administrator and

307
00:16:24,400 --> 00:16:29,890
centralized in the bakula director

308
00:16:29,890 --> 00:16:32,090
everything communicates by the network

309
00:16:32,090 --> 00:16:34,910
so the pieces can be anywhere it's not

310
00:16:34,910 --> 00:16:37,160
important normally they're all located

311
00:16:37,160 --> 00:16:40,520
on local network it has its own

312
00:16:40,520 --> 00:16:42,620
scheduler so it can run jobs

313
00:16:42,620 --> 00:16:46,150
automatically at night it can run

314
00:16:46,150 --> 00:16:50,060
simultaneous jobs with priorities it can

315
00:16:50,060 --> 00:16:53,960
reschedule jobs that they fail etc there

316
00:16:53,960 --> 00:16:56,900
the restore is interactive it's always

317
00:16:56,900 --> 00:16:59,360
interactive typically you'll want to

318
00:16:59,360 --> 00:17:02,480
restore a piece of the current backup

319
00:17:02,480 --> 00:17:05,510
the most recent one you did which may

320
00:17:05,510 --> 00:17:07,880
involve many backups a full backup

321
00:17:07,880 --> 00:17:13,790
differential and other backups you can

322
00:17:13,790 --> 00:17:15,589
restore the prior days or you can

323
00:17:15,589 --> 00:17:18,650
restore just a file or directories or

324
00:17:18,650 --> 00:17:23,079
whatever and mostly once its installed

325
00:17:23,079 --> 00:17:26,569
most administration was done through the

326
00:17:26,569 --> 00:17:30,250
console very simple

327
00:17:30,290 --> 00:17:34,220
Becca all takes all this all volumes

328
00:17:34,220 --> 00:17:39,440
that it uses have their own bakula phone

329
00:17:39,440 --> 00:17:42,680
label so that bakula will never overripe

330
00:17:42,680 --> 00:17:47,120
data accidentally puts another job come

331
00:17:47,120 --> 00:17:51,860
along in open and a drive I can but I

332
00:17:51,860 --> 00:17:53,890
don't have any way to stop that it

333
00:17:53,890 --> 00:17:57,350
supports NC I am labels which means that

334
00:17:57,350 --> 00:17:59,420
if you're running a big shot back to the

335
00:17:59,420 --> 00:18:01,820
will coexist with other programs and

336
00:18:01,820 --> 00:18:07,090
gigantic auto changers the format of the

337
00:18:07,090 --> 00:18:11,480
volume where the datastore is is back to

338
00:18:11,480 --> 00:18:14,140
the own format well documented and

339
00:18:14,140 --> 00:18:19,700
extensible we support Unicode for win32

340
00:18:19,700 --> 00:18:24,450
and utf-8 to the same

341
00:18:24,450 --> 00:18:26,900
UNIX machine so there's no problem with

342
00:18:26,900 --> 00:18:30,120
virtually any foreign language there's a

343
00:18:30,120 --> 00:18:32,640
Python interpreter if you configure it

344
00:18:32,640 --> 00:18:34,980
built into bakula which means a user can

345
00:18:34,980 --> 00:18:37,380
get control of strategic points marina

346
00:18:37,380 --> 00:18:41,520
vodka and curry on various things and as

347
00:18:41,520 --> 00:18:45,380
I said there's a rescue scene you wrong

348
00:18:45,380 --> 00:18:50,340
backups can obviously expand multiple

349
00:18:50,340 --> 00:18:52,860
volumes it couldn't imagine a backup

350
00:18:52,860 --> 00:18:55,230
program and a cousin too loud writing

351
00:18:55,230 --> 00:18:58,290
across multiple volumes you can put any

352
00:18:58,290 --> 00:19:03,210
number of backups on a volume they can

353
00:19:03,210 --> 00:19:05,550
be back packs from multiple clients from

354
00:19:05,550 --> 00:19:08,520
multiple operating systems that could it

355
00:19:08,520 --> 00:19:10,860
doesn't care the story of demon doesn't

356
00:19:10,860 --> 00:19:12,720
care it knows very little about the

357
00:19:12,720 --> 00:19:15,550
information that's going on

358
00:19:15,550 --> 00:19:19,400
most tape drives are supported because

359
00:19:19,400 --> 00:19:23,560
we have a configurable device driver

360
00:19:23,560 --> 00:19:26,120
actually the most Christ I did find

361
00:19:26,120 --> 00:19:28,580
today modern drives work out of the box

362
00:19:28,580 --> 00:19:30,830
because the default configuration is

363
00:19:30,830 --> 00:19:33,230
very simple and works with almost

364
00:19:33,230 --> 00:19:37,190
everything we support auto changers with

365
00:19:37,190 --> 00:19:40,220
barcode readers and bakula has very

366
00:19:40,220 --> 00:19:43,580
expensive what's called pool and volume

367
00:19:43,580 --> 00:19:46,130
library management I won't go into the

368
00:19:46,130 --> 00:19:49,490
details of that but it's very important

369
00:19:49,490 --> 00:19:51,970
if you're running a large shot and then

370
00:19:51,970 --> 00:19:54,680
I've hockey I said mentioned several

371
00:19:54,680 --> 00:19:57,380
times that restores a great rapid well

372
00:19:57,380 --> 00:20:00,200
one user told me that he used to use car

373
00:20:00,200 --> 00:20:02,390
and in cooking four to six hours to

374
00:20:02,390 --> 00:20:06,200
restore files to find files and space

375
00:20:06,200 --> 00:20:08,180
down and take to the right place and

376
00:20:08,180 --> 00:20:10,430
then we storm and with bakula he said it

377
00:20:10,430 --> 00:20:13,790
works in 34 minutes I think it's pretty

378
00:20:13,790 --> 00:20:17,210
good it's probably a slight exaggeration

379
00:20:17,210 --> 00:20:21,799
idea from the very beginning I've built

380
00:20:21,799 --> 00:20:24,529
in as many security features as i can

381
00:20:24,529 --> 00:20:26,720
because after all you have a demon

382
00:20:26,720 --> 00:20:29,659
sitting there a service that's listing

383
00:20:29,659 --> 00:20:32,899
on a poor filed evening it could

384
00:20:32,899 --> 00:20:36,169
eventually transfer all your files well

385
00:20:36,169 --> 00:20:40,850
all the demons in authorize each other

386
00:20:40,850 --> 00:20:45,230
both ways with a cram md5 method which

387
00:20:45,230 --> 00:20:47,659
means that they have shared password but

388
00:20:47,659 --> 00:20:49,669
the password to never transmitted across

389
00:20:49,669 --> 00:20:52,340
to the network there is one password

390
00:20:52,340 --> 00:20:54,950
that is transmitted across the network

391
00:20:54,950 --> 00:20:57,590
but it's a temporary password and I

392
00:20:57,590 --> 00:20:59,659
don't think there's any problem security

393
00:20:59,659 --> 00:21:02,539
there if you want both the director and

394
00:21:02,539 --> 00:21:04,909
storage demon can be run as not

395
00:21:04,909 --> 00:21:11,149
as well as your catalog database you can

396
00:21:11,149 --> 00:21:14,269
put signatures hash codes have bakula

397
00:21:14,269 --> 00:21:17,229
create hash codes for all your files

398
00:21:17,229 --> 00:21:21,080
every block that bakula rights to taste

399
00:21:21,080 --> 00:21:24,309
as a checksum on it you can restrict

400
00:21:24,309 --> 00:21:28,070
user access through consoles by giving

401
00:21:28,070 --> 00:21:30,080
them different passwords and different

402
00:21:30,080 --> 00:21:32,409
authorizations or what they can look at

403
00:21:32,409 --> 00:21:35,629
bakula has built in communications

404
00:21:35,629 --> 00:21:38,929
encryption okay so if you want to work

405
00:21:38,929 --> 00:21:41,899
grow up with something across the

406
00:21:41,899 --> 00:21:43,729
internet backing up across the internet

407
00:21:43,729 --> 00:21:47,440
you can but you have a good stable

408
00:21:47,440 --> 00:21:51,470
communications link and recently we also

409
00:21:51,470 --> 00:21:54,379
added data encryption as a part of

410
00:21:54,379 --> 00:21:58,879
Bachelet and then obviously if bakula

411
00:21:58,879 --> 00:22:03,139
can do hash codes we can do sort of like

412
00:22:03,139 --> 00:22:06,529
a trip wire intrusion so if anybody uses

413
00:22:06,529 --> 00:22:08,479
the package that was discussed

414
00:22:08,479 --> 00:22:11,519
previously to break into your

415
00:22:11,519 --> 00:22:14,169
bacula can potentially show you that

416
00:22:14,169 --> 00:22:16,539
your files were compromised and help you

417
00:22:16,539 --> 00:22:19,749
get your files back sort of the other

418
00:22:19,749 --> 00:22:24,009
end of the spectrum you can see a few of

419
00:22:24,009 --> 00:22:26,799
the systems listed up there were bakula

420
00:22:26,799 --> 00:22:33,070
runs where the client runs the director

421
00:22:33,070 --> 00:22:35,350
and the storage demon currently run on

422
00:22:35,350 --> 00:22:39,309
all Linux varieties and all the z-series

423
00:22:39,309 --> 00:22:43,359
and on Windows some of the other systems

424
00:22:43,359 --> 00:22:46,720
I've never tried the building imagine it

425
00:22:46,720 --> 00:22:50,889
can be done it has a disk cooling

426
00:22:50,889 --> 00:22:53,559
capability which is very useful so that

427
00:22:53,559 --> 00:22:55,720
it buffers the data coming in from the

428
00:22:55,720 --> 00:22:58,720
clients on disk before spending into

429
00:22:58,720 --> 00:23:01,509
sending it to tape so that the tape

430
00:23:01,509 --> 00:23:03,700
doesn't start and stop all the time and

431
00:23:03,700 --> 00:23:06,129
send it in big blocks avoid the

432
00:23:06,129 --> 00:23:11,289
shoeshine sin syndrome you can back up

433
00:23:11,289 --> 00:23:14,440
POSIX access control lists if you want

434
00:23:14,440 --> 00:23:19,110
Mac resource Forks and all of Windows

435
00:23:19,110 --> 00:23:22,110
missions from the very beginning bakula

436
00:23:22,110 --> 00:23:26,070
supported large files and 64-bit

437
00:23:26,070 --> 00:23:28,799
architectures it's been from the

438
00:23:28,799 --> 00:23:32,280
beginning also multi-threaded using P

439
00:23:32,280 --> 00:23:36,360
threads rigidly it was written in C but

440
00:23:36,360 --> 00:23:39,390
so after a short time make a year I

441
00:23:39,390 --> 00:23:42,840
converted to see bless bless but it's a

442
00:23:42,840 --> 00:23:45,860
pretty small subset see helps us

443
00:23:45,860 --> 00:23:49,640
generate code that's a little cleaner

444
00:23:49,640 --> 00:23:53,309
now I'd like to describe what's probably

445
00:23:53,309 --> 00:23:55,380
the hardest part of getting bakula

446
00:23:55,380 --> 00:23:57,660
running and that's the director

447
00:23:57,660 --> 00:24:01,380
configuration file there is a tutorial

448
00:24:01,380 --> 00:24:04,770
an example that you can just that runs

449
00:24:04,770 --> 00:24:07,110
out of the box that I recommend anybody

450
00:24:07,110 --> 00:24:09,840
that's starting the faculty run but I'll

451
00:24:09,840 --> 00:24:11,730
give you a rough feeling for how it

452
00:24:11,730 --> 00:24:16,410
works each section of the configuration

453
00:24:16,410 --> 00:24:18,690
file in each of the demons they all look

454
00:24:18,690 --> 00:24:20,910
very similar has what is called a

455
00:24:20,910 --> 00:24:24,090
resource the first example up there is a

456
00:24:24,090 --> 00:24:26,220
directory source in the second one is a

457
00:24:26,220 --> 00:24:29,520
console resource the director Quentin

458
00:24:29,520 --> 00:24:31,740
resource when it appears in the director

459
00:24:31,740 --> 00:24:34,830
file there's only one director and it

460
00:24:34,830 --> 00:24:38,820
means this is who I am the director's

461
00:24:38,820 --> 00:24:41,820
name tells him his name and tells him

462
00:24:41,820 --> 00:24:44,730
where we can get scratched file space

463
00:24:44,730 --> 00:24:46,919
come for a file space how many

464
00:24:46,919 --> 00:24:48,930
concurrent jobs you can run

465
00:24:48,930 --> 00:24:52,080
has a password that allows consoles to

466
00:24:52,080 --> 00:24:55,470
login if you want to have restricted

467
00:24:55,470 --> 00:24:58,050
consoles you can you can define a

468
00:24:58,050 --> 00:25:02,040
console resource and then you see there

469
00:25:02,040 --> 00:25:04,080
I'm going to go into the details some of

470
00:25:04,080 --> 00:25:06,900
the commands that in this case the only

471
00:25:06,900 --> 00:25:09,180
thing you could do is the status okay

472
00:25:09,180 --> 00:25:11,490
that's all that user can do and

473
00:25:11,490 --> 00:25:13,260
typically of course you'll have a

474
00:25:13,260 --> 00:25:17,670
different password now as I said jobs

475
00:25:17,670 --> 00:25:21,030
are the basic structure that bakula

476
00:25:21,030 --> 00:25:25,440
deals with the basic unit and each one

477
00:25:25,440 --> 00:25:29,220
has a unique name it has a title which

478
00:25:29,220 --> 00:25:31,470
tells it what kind of thing to do a

479
00:25:31,470 --> 00:25:35,010
backup restore etc then it has a level

480
00:25:35,010 --> 00:25:37,170
which gives you more detail about what

481
00:25:37,170 --> 00:25:40,440
the jobs doing full differential or

482
00:25:40,440 --> 00:25:44,310
incremental back back up etc it has a

483
00:25:44,310 --> 00:25:48,120
file set which tells it what set of

484
00:25:48,120 --> 00:25:52,170
files to back up and eat in the case of

485
00:25:52,170 --> 00:25:54,870
a file said it's a resource to create

486
00:25:54,870 --> 00:25:57,090
one resources used for all your machine

487
00:25:57,090 --> 00:25:59,610
or you can create multiple resources

488
00:25:59,610 --> 00:26:02,790
that different crossing sheet it of

489
00:26:02,790 --> 00:26:04,680
course you have to tell it where to get

490
00:26:04,680 --> 00:26:07,200
the files because it deals with the

491
00:26:07,200 --> 00:26:10,500
single client for a single job and where

492
00:26:10,500 --> 00:26:12,990
to put the files and then there's also a

493
00:26:12,990 --> 00:26:15,630
thing called the pool which gives it

494
00:26:15,630 --> 00:26:19,350
access it says use only volumes that

495
00:26:19,350 --> 00:26:22,429
in that pool of volumes okay so you can

496
00:26:22,429 --> 00:26:26,309
restrict what cakes or what this it uses

497
00:26:26,309 --> 00:26:28,890
and then finally it beats a schedule if

498
00:26:28,890 --> 00:26:31,500
you wanted to run automatically and i'll

499
00:26:31,500 --> 00:26:33,539
give you examples of a number of these

500
00:26:33,539 --> 00:26:37,440
here's a job as i say it has a name this

501
00:26:37,440 --> 00:26:39,860
job is called laptop dummy name

502
00:26:39,860 --> 00:26:43,230
theoretically it backs up my laptop it's

503
00:26:43,230 --> 00:26:46,500
a backup job the client is on this one

504
00:26:46,500 --> 00:26:48,510
and would be i have a different name but

505
00:26:48,510 --> 00:26:52,409
i like users use laptop dash FD because

506
00:26:52,409 --> 00:26:54,539
when we send in bug reports i know that

507
00:26:54,539 --> 00:26:56,880
it's a file the old messages from the

508
00:26:56,880 --> 00:27:00,000
various demons look similar but by post

509
00:27:00,000 --> 00:27:04,440
fixing der FP and SB we can easily tell

510
00:27:04,440 --> 00:27:08,450
what demon generated the messages that

511
00:27:08,450 --> 00:27:12,480
the client file set schedule and storage

512
00:27:12,480 --> 00:27:16,409
storage messages in pool all refer to

513
00:27:16,409 --> 00:27:19,350
other resources which are written much

514
00:27:19,350 --> 00:27:22,080
the same way but expand out have a lot

515
00:27:22,080 --> 00:27:22,550
of

516
00:27:22,550 --> 00:27:28,970
different information for example here's

517
00:27:28,970 --> 00:27:32,750
the plant resource the key thing here is

518
00:27:32,750 --> 00:27:36,050
the address of where the client is ok

519
00:27:36,050 --> 00:27:39,590
this is a domain name but put in an IP

520
00:27:39,590 --> 00:27:43,150
address either ID for IT six if you want

521
00:27:43,150 --> 00:27:46,340
also since we support multiple catalogs

522
00:27:46,340 --> 00:27:48,260
you have to tell it what the catalog is

523
00:27:48,260 --> 00:27:50,870
and you have to tell it the secret

524
00:27:50,870 --> 00:27:53,120
password so that the director can

525
00:27:53,120 --> 00:27:56,210
authorize itself on the climate plan

526
00:27:56,210 --> 00:28:00,080
won't believe only directors that it

527
00:28:00,080 --> 00:28:02,570
knows about enter and only if they have

528
00:28:02,570 --> 00:28:07,250
the right password the file set is

529
00:28:07,250 --> 00:28:10,340
fairly complex it allows you include

530
00:28:10,340 --> 00:28:13,250
executed files or directories using

531
00:28:13,250 --> 00:28:17,900
regular expressions wild cards and can

532
00:28:17,900 --> 00:28:20,990
be very complex it allows you to turn on

533
00:28:20,990 --> 00:28:24,080
compression and various other features

534
00:28:24,080 --> 00:28:25,820
that you can see listed there i'll give

535
00:28:25,820 --> 00:28:28,970
you a real example which is here a

536
00:28:28,970 --> 00:28:31,160
little bit complicated

537
00:28:31,160 --> 00:28:32,750
main thing is as with all other

538
00:28:32,750 --> 00:28:35,330
resources it has a name this one's

539
00:28:35,330 --> 00:28:38,150
called full set and then if you look

540
00:28:38,150 --> 00:28:41,300
down where the files are listed you'll

541
00:28:41,300 --> 00:28:46,130
see bacula normally does not transfer

542
00:28:46,130 --> 00:28:49,430
across file systems it respect grains

543
00:28:49,430 --> 00:28:52,790
itself to a single file system that's to

544
00:28:52,790 --> 00:28:55,460
prevent recursion you can turn it on if

545
00:28:55,460 --> 00:28:58,250
you want so on this particular system I

546
00:28:58,250 --> 00:29:00,980
have three file systems the root file

547
00:29:00,980 --> 00:29:03,860
system user and bar and so I pull it

548
00:29:03,860 --> 00:29:06,800
back up those three I also tell it they

549
00:29:06,800 --> 00:29:08,930
exclude a few files that I don't want it

550
00:29:08,930 --> 00:29:11,350
to ever try to restore try and restore

551
00:29:11,350 --> 00:29:16,160
proper cysts won't work too well and

552
00:29:16,160 --> 00:29:20,060
then the options you can have multiple

553
00:29:20,060 --> 00:29:23,480
options that apply to the files that is

554
00:29:23,480 --> 00:29:25,760
going to back up every time a file it

555
00:29:25,760 --> 00:29:27,950
sees a file it will apply those options

556
00:29:27,950 --> 00:29:30,950
in this case if not particularly useful

557
00:29:30,950 --> 00:29:33,620
but I've told it to exclude all files

558
00:29:33,620 --> 00:29:36,860
that are dot C files in all files that

559
00:29:36,860 --> 00:29:42,740
are dot txt files what it does sorry I

560
00:29:42,740 --> 00:29:46,090
crown all the lines together normally

561
00:29:46,090 --> 00:29:47,529
have them on separate lines but it

562
00:29:47,529 --> 00:29:49,090
doesn't fit very well on a presentation

563
00:29:49,090 --> 00:29:53,200
slide bakula has a pretty flexible see

564
00:29:53,200 --> 00:29:57,970
like syntax so that's that works the

565
00:29:57,970 --> 00:29:59,470
schedule this is probably the only

566
00:29:59,470 --> 00:30:01,679
scheduled that's ever needed people

567
00:30:01,679 --> 00:30:04,390
generate monster schedules very

568
00:30:04,390 --> 00:30:06,190
complicated there's a lot of things you

569
00:30:06,190 --> 00:30:08,650
can do but this one is what i call the

570
00:30:08,650 --> 00:30:10,779
weekly cycle maybe it should be a daily

571
00:30:10,779 --> 00:30:13,150
cycle or a monthly cycle because it does

572
00:30:13,150 --> 00:30:16,299
a full backup on the first sunday of the

573
00:30:16,299 --> 00:30:18,760
month then it does a differential backup

574
00:30:18,760 --> 00:30:21,549
which backs up all files changed since

575
00:30:21,549 --> 00:30:27,460
the last full backup every sunday on the

576
00:30:27,460 --> 00:30:30,340
second through the fifth sunday of the

577
00:30:30,340 --> 00:30:32,980
month assuming there are five sundays if

578
00:30:32,980 --> 00:30:35,020
there aren't it doesn't do that one and

579
00:30:35,020 --> 00:30:37,270
then every other other day of the week

580
00:30:37,270 --> 00:30:39,850
that runs in income at about that's what

581
00:30:39,850 --> 00:30:42,190
I use to go all the way back up the only

582
00:30:42,190 --> 00:30:45,010
thing I do differently is each machine i

583
00:30:45,010 --> 00:30:48,250
stagger the day on which it does the

584
00:30:48,250 --> 00:30:50,649
full backup and the differential backup

585
00:30:50,649 --> 00:30:53,500
so one machine i run it on sunday one

586
00:30:53,500 --> 00:30:56,740
machine monday one machine tuesday etc

587
00:30:56,740 --> 00:30:58,720
and that helped spread the load

588
00:30:58,720 --> 00:31:00,789
the week because a full pack will

589
00:31:00,789 --> 00:31:04,960
generate a lot of data okay that's the

590
00:31:04,960 --> 00:31:08,770
end of the director configuration file

591
00:31:08,770 --> 00:31:11,020
now I'm going to show you filed easy

592
00:31:11,020 --> 00:31:13,059
configuration file which looks much the

593
00:31:13,059 --> 00:31:15,669
same and this is with one minor

594
00:31:15,669 --> 00:31:17,530
exception this is about all you need

595
00:31:17,530 --> 00:31:19,510
there's a very little lip have to change

596
00:31:19,510 --> 00:31:21,940
except maybe the name of the file demon

597
00:31:21,940 --> 00:31:24,700
and you going where he can get working

598
00:31:24,700 --> 00:31:27,850
space and then you give it the name of

599
00:31:27,850 --> 00:31:30,250
the director that is allowed to enter

600
00:31:30,250 --> 00:31:32,559
that file demon you can have multiple

601
00:31:32,559 --> 00:31:34,570
director statements which means you can

602
00:31:34,570 --> 00:31:36,549
have multiple directors that access that

603
00:31:36,549 --> 00:31:39,610
file demon if you want and three CH one

604
00:31:39,610 --> 00:31:44,470
password very simple and then the story

605
00:31:44,470 --> 00:31:48,750
theme likewise it has to know who it is

606
00:31:48,750 --> 00:31:51,610
then it has to know what directors can

607
00:31:51,610 --> 00:31:54,820
contact it okay so vile demons never

608
00:31:54,820 --> 00:31:58,179
contacted a story demons it doesn't need

609
00:31:58,179 --> 00:32:00,460
to know about the file Dean because it

610
00:32:00,460 --> 00:32:02,799
always contacts them so in this case

611
00:32:02,799 --> 00:32:05,289
I've defined the name of the story demon

612
00:32:05,289 --> 00:32:06,179
and I

613
00:32:06,179 --> 00:32:09,480
the one director with a password that is

614
00:32:09,480 --> 00:32:14,249
allowed to contact it now the story

615
00:32:14,249 --> 00:32:17,490
demon you have flying devices so it

616
00:32:17,490 --> 00:32:19,919
knows where to put the data in this case

617
00:32:19,919 --> 00:32:22,830
I've defined a very simple file device

618
00:32:22,830 --> 00:32:27,419
you see a few of the directors that you

619
00:32:27,419 --> 00:32:30,210
have to give it do that basically you

620
00:32:30,210 --> 00:32:33,690
provided a path to a directory that

621
00:32:33,690 --> 00:32:35,730
already exists where it's going to put

622
00:32:35,730 --> 00:32:37,830
the volumes the volumes will be named

623
00:32:37,830 --> 00:32:39,980
with the name that you give them and

624
00:32:39,980 --> 00:32:43,049
away it goes it's real simple something

625
00:32:43,049 --> 00:32:45,149
a little more complicated it's not a

626
00:32:45,149 --> 00:32:48,600
changer we should define the autochanger

627
00:32:48,600 --> 00:32:50,970
at the top the name that you get to that

628
00:32:50,970 --> 00:32:52,710
autochanger is the name that will be

629
00:32:52,710 --> 00:32:55,259
used inside the director to reference

630
00:32:55,259 --> 00:32:58,950
this thing and I've specified two drives

631
00:32:58,950 --> 00:33:02,970
right 0 and drive one so this drop this

632
00:33:02,970 --> 00:33:06,149
autochanger is not a changer with 22

633
00:33:06,149 --> 00:33:08,029
drives to read or write tapes

634
00:33:08,029 --> 00:33:11,070
simultaneously if you want and then I

635
00:33:11,070 --> 00:33:13,529
define define one of the devices as you

636
00:33:13,529 --> 00:33:16,980
can see here I give it a dr 0 is the

637
00:33:16,980 --> 00:33:17,600
name

638
00:33:17,600 --> 00:33:19,880
and the archive name is typically the

639
00:33:19,880 --> 00:33:22,760
name that in this case that Linux uses

640
00:33:22,760 --> 00:33:26,090
to access the driver very simple there'd

641
00:33:26,090 --> 00:33:28,610
be another similar name with a few

642
00:33:28,610 --> 00:33:30,789
different changes so that the director

643
00:33:30,789 --> 00:33:33,200
that historic demon knows how to add

644
00:33:33,200 --> 00:33:36,530
references okay that's about all I'm

645
00:33:36,530 --> 00:33:38,900
going to tell you about the actual

646
00:33:38,900 --> 00:33:41,090
working and back to levels not much

647
00:33:41,090 --> 00:33:42,620
better hopefully it gives you kind of an

648
00:33:42,620 --> 00:33:47,000
overview of it with a concept of sort of

649
00:33:47,000 --> 00:33:50,299
general idea of configuration files have

650
00:33:50,299 --> 00:33:53,840
to say no most developers don't think

651
00:33:53,840 --> 00:33:56,390
that backup programs are very sexy we

652
00:33:56,390 --> 00:33:57,530
have a lot of trouble attracting

653
00:33:57,530 --> 00:34:01,640
developers and maybe they're right one

654
00:34:01,640 --> 00:34:05,120
thing I can tell you backup programs are

655
00:34:05,120 --> 00:34:08,330
extremely complicated for example we're

656
00:34:08,330 --> 00:34:11,780
dealing with databases SQL we're dealing

657
00:34:11,780 --> 00:34:15,050
with GU eyes of all kinds we're dealing

658
00:34:15,050 --> 00:34:19,489
with web writing a Gy web interface that

659
00:34:19,489 --> 00:34:22,510
puts up information from an SQL program

660
00:34:22,510 --> 00:34:25,668
database is non-trivial we deal with

661
00:34:25,668 --> 00:34:27,918
networking and is critical to this

662
00:34:27,918 --> 00:34:29,418
application

663
00:34:29,418 --> 00:34:31,699
get the data across the network very

664
00:34:31,699 --> 00:34:36,349
fast we deal with OS at a very low level

665
00:34:36,349 --> 00:34:39,799
as well because we have to basically

666
00:34:39,799 --> 00:34:43,219
backup and restore every bit on file

667
00:34:43,219 --> 00:34:46,540
system and that's not so trivial and

668
00:34:46,540 --> 00:34:49,940
then there's all kinds of algorithms for

669
00:34:49,940 --> 00:34:52,280
example let me give you one quick

670
00:34:52,280 --> 00:34:54,230
example the directory tree when you do a

671
00:34:54,230 --> 00:34:55,790
restore it creates an in-memory

672
00:34:55,790 --> 00:34:58,460
directory tree there may be something

673
00:34:58,460 --> 00:35:00,680
like a hundred million records that come

674
00:35:00,680 --> 00:35:03,710
in if you backed up say for six months

675
00:35:03,710 --> 00:35:05,540
with one full backup a bunch of

676
00:35:05,540 --> 00:35:14,420
differentials and some some that I lose

677
00:35:14,420 --> 00:35:17,530
the word now anyway some other bathtubs

678
00:35:17,530 --> 00:35:20,809
and so a hundred million records may

679
00:35:20,809 --> 00:35:22,809
come in you need to store them out and

680
00:35:22,809 --> 00:35:27,799
reconstruct the directory tree which is

681
00:35:27,799 --> 00:35:31,339
not so trivial well the original version

682
00:35:31,339 --> 00:35:34,369
I wrote was late lids that created a

683
00:35:34,369 --> 00:35:38,270
directory tree just recently I converted

684
00:35:38,270 --> 00:35:42,670
it to a red black binary tree

685
00:35:42,670 --> 00:35:46,520
non-trivial program and it's heated up

686
00:35:46,520 --> 00:35:50,569
the creation of this in memory directory

687
00:35:50,569 --> 00:35:57,369
creek by a factor of 513 so algorithms

688
00:35:57,369 --> 00:36:01,990
are very important in this process and

689
00:36:01,990 --> 00:36:03,859
everybody wants to know where we're

690
00:36:03,859 --> 00:36:06,220
going

691
00:36:06,370 --> 00:36:11,020
look on the website key things are they

692
00:36:11,020 --> 00:36:13,390
want to be able to restore files very

693
00:36:13,390 --> 00:36:15,700
accurately which that killed it doesn't

694
00:36:15,700 --> 00:36:18,010
always do every time it backs up a file

695
00:36:18,010 --> 00:36:20,350
if you delete it and you do a full

696
00:36:20,350 --> 00:36:22,570
restore will restore that file is the

697
00:36:22,570 --> 00:36:24,520
problem that virtually all backup

698
00:36:24,520 --> 00:36:26,980
programs have that are based off the

699
00:36:26,980 --> 00:36:30,040
time and date this bad caleb is etc you

700
00:36:30,040 --> 00:36:34,090
see unfortunately I can't I don't have

701
00:36:34,090 --> 00:36:36,130
the time to go into the details I'd like

702
00:36:36,130 --> 00:36:38,740
to show you demo the main thing to

703
00:36:38,740 --> 00:36:44,370
remember is the website wwwaaa or

704
00:36:44,370 --> 00:36:47,170
because and you can see a little bit

705
00:36:47,170 --> 00:36:50,400
about how things are developed we have a

706
00:36:50,400 --> 00:36:53,160
subversion database subversion

707
00:36:53,160 --> 00:36:57,940
repository on sourceforge and all

708
00:36:57,940 --> 00:37:00,460
patches that come in I personally review

709
00:37:00,460 --> 00:37:03,190
them the developers commit themselves

710
00:37:03,190 --> 00:37:07,090
and I usually look at their code but

711
00:37:07,090 --> 00:37:09,070
they're very good about it so it just

712
00:37:09,070 --> 00:37:11,680
works by itself I'm not a gatekeeper

713
00:37:11,680 --> 00:37:17,230
though the license is a GPL two and one

714
00:37:17,230 --> 00:37:19,060
of the things that we did recently was

715
00:37:19,060 --> 00:37:23,110
transfer the license via the fiduciary

716
00:37:23,110 --> 00:37:24,170
license

717
00:37:24,170 --> 00:37:27,410
to the Free Software Foundation Europe

718
00:37:27,410 --> 00:37:30,470
so the copyright is now maintained by

719
00:37:30,470 --> 00:37:32,869
them which is a big load off my back

720
00:37:32,869 --> 00:37:36,829
because they maintain all the paperwork

721
00:37:36,829 --> 00:37:38,990
and if there's any violations of our

722
00:37:38,990 --> 00:37:43,460
license they their passports very

723
00:37:43,460 --> 00:37:47,540
generously will protect us though they

724
00:37:47,540 --> 00:37:48,950
have the lawyers and they have the

725
00:37:48,950 --> 00:37:51,440
resources needed to make sure it works

726
00:37:51,440 --> 00:37:54,250
and since this isn't a commercial

727
00:37:54,250 --> 00:37:58,549
measure I have no need have private

728
00:37:58,549 --> 00:38:02,059
licenses again the key thing is to look

729
00:38:02,059 --> 00:38:08,000
on the on the website www a gorg

730
00:38:08,000 --> 00:38:10,400
everything is there I can tell you the

731
00:38:10,400 --> 00:38:13,609
one thing you don't want to do somebody

732
00:38:13,609 --> 00:38:16,339
told me don't try to print out the

733
00:38:16,339 --> 00:38:20,900
manual it's 800 pages it's a it's a good

734
00:38:20,900 --> 00:38:23,510
resource and you need to read the manual

735
00:38:23,510 --> 00:38:25,460
but don't try to print it out unless you

736
00:38:25,460 --> 00:38:29,180
know what you're doing and then also

737
00:38:29,180 --> 00:38:32,750
this presentation is there as well if

738
00:38:32,750 --> 00:38:36,650
you just go to the right length now that

739
00:38:36,650 --> 00:38:40,940
terminates this part and I'm going to do

740
00:38:40,940 --> 00:38:44,390
let's see I wish

741
00:38:44,390 --> 00:38:48,570
now here is where i'm going to do

742
00:38:48,570 --> 00:38:52,020
something i should never do as I'm try

743
00:38:52,020 --> 00:38:54,390
it I'm gonna try to run a real live demo

744
00:38:54,390 --> 00:38:58,160
I think I have a few minutes don't

745
00:39:00,640 --> 00:39:07,240
so it's going to be a little difficult

746
00:39:07,240 --> 00:39:09,689
to

747
00:39:20,220 --> 00:39:22,290
i'm going to start everything since crap

748
00:39:22,290 --> 00:39:25,040
okay

749
00:39:37,580 --> 00:39:41,510
okay so I've started up my SQL and I

750
00:39:41,510 --> 00:39:46,220
started that a patchy server okay you

751
00:39:46,220 --> 00:39:47,720
don't need to see them there's nothing

752
00:39:47,720 --> 00:39:50,900
really super there and then I'm going to

753
00:39:50,900 --> 00:39:53,690
start off just a copy of backlit happens

754
00:39:53,690 --> 00:39:55,670
to be a development copy so i hope it

755
00:39:55,670 --> 00:40:10,250
doesn't do anything along normally get

756
00:40:10,250 --> 00:40:15,230
right here the pressure of the front

757
00:40:15,230 --> 00:40:25,340
stage I can't even type okay and now i'm

758
00:40:25,340 --> 00:40:30,100
going to start up firefox normally I use

759
00:40:30,100 --> 00:40:34,660
comfort because I really on KDE desktop

760
00:40:34,660 --> 00:40:39,440
but for some reason it doesn't paint

761
00:40:39,440 --> 00:40:42,109
things to correctly

762
00:40:42,109 --> 00:40:48,710
on Firefox now unfortunately I think I

763
00:40:48,710 --> 00:40:50,630
mentioned it beginning this is a little

764
00:40:50,630 --> 00:40:55,460
mission old machine 700 megahertz 256

765
00:40:55,460 --> 00:40:57,890
megabytes of memory so everything runs

766
00:40:57,890 --> 00:41:01,819
slowly here is a picture through the web

767
00:41:01,819 --> 00:41:04,609
server I just pointed directly at the

768
00:41:04,609 --> 00:41:08,650
local host here that shows left went on

769
00:41:08,650 --> 00:41:11,839
for a week ending I think it was on

770
00:41:11,839 --> 00:41:14,660
Thursday morning I copied down from my

771
00:41:14,660 --> 00:41:18,349
side my own production site and you can

772
00:41:18,349 --> 00:41:21,259
see the different clients different jobs

773
00:41:21,259 --> 00:41:24,470
that ran here that were not a lot of

774
00:41:24,470 --> 00:41:26,989
Iranian because I close I've been away

775
00:41:26,989 --> 00:41:29,089
from home for a month and so it flows

776
00:41:29,089 --> 00:41:31,730
down most of them but you can see the

777
00:41:31,730 --> 00:41:34,039
backups there that have gone on it shows

778
00:41:34,039 --> 00:41:37,280
you when they started the amount of time

779
00:41:37,280 --> 00:41:40,160
and the number of files they change for

780
00:41:40,160 --> 00:41:43,340
example Rufus is my develop machine even

781
00:41:43,340 --> 00:41:46,340
though I wasn't there 193 files modified

782
00:41:46,340 --> 00:41:49,580
we're back up and then there's some

783
00:41:49,580 --> 00:41:52,010
statistics here you know what I'd like

784
00:41:52,010 --> 00:41:53,750
to do if it works i'm going to just

785
00:41:53,750 --> 00:42:03,160
minimize this and i'm going to just rent

786
00:42:06,270 --> 00:42:09,180
so you can see here as I'm gonna round

787
00:42:09,180 --> 00:42:15,270
is non-rigid here's the console the and

788
00:42:15,270 --> 00:42:19,080
fortunately all connected and I'm going

789
00:42:19,080 --> 00:42:21,510
to just run a job that I sort of trumped

790
00:42:21,510 --> 00:42:24,960
up here that's going to back up this

791
00:42:24,960 --> 00:42:27,960
particular machine one directory not a

792
00:42:27,960 --> 00:42:31,830
lot of files we'll see and it's going to

793
00:42:31,830 --> 00:42:34,560
back it up the disk rather than take the

794
00:42:34,560 --> 00:42:38,880
backup job she saw there el tio 2 but I

795
00:42:38,880 --> 00:42:42,360
don't have an LTO to so I just hold it

796
00:42:42,360 --> 00:42:44,490
back up I could have changed all the

797
00:42:44,490 --> 00:42:46,740
information you see it running real time

798
00:42:46,740 --> 00:42:49,430
I think it takes a minute or two and

799
00:42:49,430 --> 00:42:53,490
then what I hope to show you is in the

800
00:42:53,490 --> 00:42:56,360
lab report show you that it actually

801
00:42:56,360 --> 00:42:59,910
sees that the job Iran and show you how

802
00:42:59,910 --> 00:43:03,240
you can see the job output for that job

803
00:43:03,240 --> 00:43:05,100
well and then I'll show you if you're

804
00:43:05,100 --> 00:43:08,850
interested a few of the other features

805
00:43:08,850 --> 00:43:16,320
about web go ok so as I told you this is

806
00:43:16,320 --> 00:43:19,290
slow machine normally this ground is on

807
00:43:19,290 --> 00:43:22,680
my desktop my belt machine in about 10

808
00:43:22,680 --> 00:43:26,790
seconds here if it takes a minute which

809
00:43:26,790 --> 00:43:30,330
seems like an eternity when you have 300

810
00:43:30,330 --> 00:43:38,910
people looking at you any way I can see

811
00:43:38,910 --> 00:43:41,850
one thing bakula does is when it gets

812
00:43:41,850 --> 00:43:45,060
really active again you can use your CPU

813
00:43:45,060 --> 00:43:50,190
a lot it for me it never disrupts me

814
00:43:50,190 --> 00:43:53,640
using the system but I get something if

815
00:43:53,640 --> 00:43:59,070
you do want to run at high it's not okay

816
00:43:59,070 --> 00:44:01,530
there you see the output and I'll go

817
00:44:01,530 --> 00:44:03,290
through this is a little bit more

818
00:44:03,290 --> 00:44:06,390
anything but another one oh yes I forgot

819
00:44:06,390 --> 00:44:10,080
the skim down I also be back up 81

820
00:44:10,080 --> 00:44:17,220
here ok 5500 job files in one minute 14

821
00:44:17,220 --> 00:44:25,549
seconds now I can find my browser

822
00:44:26,200 --> 00:44:29,700
her hair

823
00:44:29,720 --> 00:44:33,859
ok here is this is timmy this is a new

824
00:44:33,859 --> 00:44:36,710
entry and as you can see around on the

825
00:44:36,710 --> 00:44:41,900
twenty-fifth 1249 and if I click here

826
00:44:41,900 --> 00:44:43,970
it's the only one that I can click on

827
00:44:43,970 --> 00:44:46,400
because it's going to go off and talk to

828
00:44:46,400 --> 00:44:50,390
it the rest of it the rest of the demons

829
00:44:50,390 --> 00:44:53,900
are not online this is the job outlook

830
00:44:53,900 --> 00:44:56,690
that we just saw but it pulled it from

831
00:44:56,690 --> 00:45:00,050
the catalog so forever scouts this

832
00:45:00,050 --> 00:45:03,280
information is saved in the catalog and

833
00:45:03,280 --> 00:45:07,160
the same thing you see it's 81 megabytes

834
00:45:07,160 --> 00:45:13,359
with backup 5501 it's exactly the same

835
00:45:13,359 --> 00:45:16,550
within back early and correct either too

836
00:45:16,550 --> 00:45:22,070
by email to a log file to just this file

837
00:45:22,070 --> 00:45:24,500
to the catalog you have full control

838
00:45:24,500 --> 00:45:26,960
over that you send it in multiple places

839
00:45:26,960 --> 00:45:29,359
the multiple different people depending

840
00:45:29,359 --> 00:45:33,589
on exactly what kind of output it is if

841
00:45:33,589 --> 00:45:36,920
I come back here and i click on client

842
00:45:36,920 --> 00:45:39,829
this shows a list of all the clients

843
00:45:39,829 --> 00:45:45,280
that have been backed up over the period

844
00:45:47,150 --> 00:45:55,670
list this is a list of the jobs that ran

845
00:45:55,670 --> 00:46:00,410
this week and theoretically you can

846
00:46:00,410 --> 00:46:02,600
click on any one get back to the

847
00:46:02,600 --> 00:46:07,580
information and then media I'm going to

848
00:46:07,580 --> 00:46:13,700
look all media you see these this is

849
00:46:13,700 --> 00:46:16,070
where my backup normally goes into those

850
00:46:16,070 --> 00:46:19,730
ltos some autochanger google drive

851
00:46:19,730 --> 00:46:23,630
letter changer and you can see 2lt 01

852
00:46:23,630 --> 00:46:28,430
and LVL 3 full and you can see when they

853
00:46:28,430 --> 00:46:30,110
were first written and when they will

854
00:46:30,110 --> 00:46:32,210
last written country but there's a huge

855
00:46:32,210 --> 00:46:34,400
amount of other information except that

856
00:46:34,400 --> 00:46:36,530
you can pull out if you want the

857
00:46:36,530 --> 00:46:40,190
confidence working on is lto-4 which is

858
00:46:40,190 --> 00:46:41,650
still an FM

859
00:46:41,650 --> 00:46:45,099
as you can see probably by now it's a

860
00:46:45,099 --> 00:46:47,349
transient clothes that went out and

861
00:46:47,349 --> 00:46:49,690
started up and do I had access to the

862
00:46:49,690 --> 00:46:52,089
real data and then finally you see down

863
00:46:52,089 --> 00:46:54,849
at the bottom is a file instead of an

864
00:46:54,849 --> 00:46:56,470
empty oh and that's where I did the

865
00:46:56,470 --> 00:46:59,260
current backup I've done a few tests one

866
00:46:59,260 --> 00:47:01,510
so volume bite much bigger than eighty

867
00:47:01,510 --> 00:47:04,950
one made by three

868
00:47:06,190 --> 00:47:10,220
and that's about it I think there's a

869
00:47:10,220 --> 00:47:12,140
lot more features i could show you but

870
00:47:12,140 --> 00:47:15,920
you get the idea and hopefully in the

871
00:47:15,920 --> 00:47:19,190
near future we'll have an interface a

872
00:47:19,190 --> 00:47:21,950
GUI interface that will allow to go in

873
00:47:21,950 --> 00:47:22,860
really

874
00:47:22,860 --> 00:47:25,580
all parts of information and

875
00:47:25,580 --> 00:47:30,480
interactively modify the consideration I

876
00:47:30,480 --> 00:47:33,230
do

877
00:47:43,550 --> 00:47:45,930
there's any questions I'll be glad to

878
00:47:45,930 --> 00:47:48,350
take them

879
00:47:54,369 --> 00:47:57,700
scheduled for

880
00:47:59,410 --> 00:48:03,160
ah well the

881
00:48:03,160 --> 00:48:05,890
the question was is there any

882
00:48:05,890 --> 00:48:09,310
information on the schedule for the bat

883
00:48:09,310 --> 00:48:12,420
interface the new one I'm working on and

884
00:48:12,420 --> 00:48:17,290
one of the things that I say I'm an open

885
00:48:17,290 --> 00:48:19,690
source developer I not paid anything

886
00:48:19,690 --> 00:48:22,870
from the due to development so I refused

887
00:48:22,870 --> 00:48:27,400
set deadlines however I think it already

888
00:48:27,400 --> 00:48:29,859
exists today

889
00:48:29,859 --> 00:48:34,900
if I can't I'll just launched it here it

890
00:48:34,900 --> 00:48:38,060
it doesn't do anything not much of

891
00:48:38,060 --> 00:48:41,540
anything but I think in six months we'll

892
00:48:41,540 --> 00:48:45,020
be in good shape okay so if we're lucky

893
00:48:45,020 --> 00:48:48,230
yeah there you see a rough idea of what

894
00:48:48,230 --> 00:48:51,380
I'm planning on doing with things such

895
00:48:51,380 --> 00:48:55,640
as restore and run a job which brings up

896
00:48:55,640 --> 00:48:58,190
a window much like the one you saw and

897
00:48:58,190 --> 00:49:00,590
the idea for this it will be that

898
00:49:00,590 --> 00:49:02,510
there'll be all sorts of resources

899
00:49:02,510 --> 00:49:05,630
listed down here that you can click on

900
00:49:05,630 --> 00:49:07,460
for example if you click here it's a

901
00:49:07,460 --> 00:49:11,069
different way of doing the restore then

902
00:49:11,069 --> 00:49:13,829
here and you can have multiple consoles

903
00:49:13,829 --> 00:49:15,920
which means you can connect to different

904
00:49:15,920 --> 00:49:19,680
directors if you want so probably six

905
00:49:19,680 --> 00:49:29,789
months you have a question yes yeah the

906
00:49:29,789 --> 00:49:32,849
question was if you use this storage can

907
00:49:32,849 --> 00:49:34,949
you say he is only this much of the disk

908
00:49:34,949 --> 00:49:38,640
yes you can define how many volumes you

909
00:49:38,640 --> 00:49:41,160
want to create in a pool and you can

910
00:49:41,160 --> 00:49:44,029
find a size for each of those volumes

911
00:49:44,029 --> 00:49:46,499
normally there's a default size that

912
00:49:46,499 --> 00:49:48,539
comes with a pool and that's whether you

913
00:49:48,539 --> 00:49:51,479
use which is infinite which means if you

914
00:49:51,479 --> 00:49:53,759
don't fix the size your your disk file

915
00:49:53,759 --> 00:49:56,009
is going to grow grow grow but you can

916
00:49:56,009 --> 00:49:58,829
fix a size and then after you created

917
00:49:58,829 --> 00:50:00,869
the disk if you want you to manually

918
00:50:00,869 --> 00:50:03,539
adjust it to whatever you want so you

919
00:50:03,539 --> 00:50:07,190
have a lot of fine control

920
00:50:23,550 --> 00:50:26,480
I am sorry

921
00:50:27,850 --> 00:50:30,010
can create a snapshot before it does

922
00:50:30,010 --> 00:50:32,440
about is that your question can bakula

923
00:50:32,440 --> 00:50:34,590
do a snapshot before it goes back on

924
00:50:34,590 --> 00:50:39,730
linux systems no because no one's really

925
00:50:39,730 --> 00:50:43,750
asked for it on window systems yes on

926
00:50:43,750 --> 00:50:46,180
windows on the current version the

927
00:50:46,180 --> 00:50:49,710
default is to do a volume Shadow Copy

928
00:50:49,710 --> 00:50:53,470
okay providing the system supports it

929
00:50:53,470 --> 00:50:57,010
which is a snapshot that's done and any

930
00:50:57,010 --> 00:50:59,290
changes to the system get put in there

931
00:50:59,290 --> 00:51:01,500
and back till it backs up from that

932
00:51:01,500 --> 00:51:04,180
bakula has a mechanism by which you can

933
00:51:04,180 --> 00:51:07,240
run a script file before a job and a

934
00:51:07,240 --> 00:51:10,270
script file after a job and dirty though

935
00:51:10,270 --> 00:51:11,800
script files you can do anything you

936
00:51:11,800 --> 00:51:14,980
want okay in fact we're working on so

937
00:51:14,980 --> 00:51:16,930
that if you really want you can run a

938
00:51:16,930 --> 00:51:20,350
script that modifies what styles bakula

939
00:51:20,350 --> 00:51:23,560
will use to back up so that in that

940
00:51:23,560 --> 00:51:26,290
sense users can have control their own

941
00:51:26,290 --> 00:51:30,300
files i'm particularly like that idea

942
00:51:30,300 --> 00:51:32,830
we're going to try to buy all those and

943
00:51:32,830 --> 00:51:40,660
features expression again yes their

944
00:51:40,660 --> 00:51:44,440
linux has things such as lvm that really

945
00:51:44,440 --> 00:51:47,400
accomplish the same thing

946
00:51:52,060 --> 00:51:55,010
yeah the question is what kind of

947
00:51:55,010 --> 00:51:57,470
compression are we using normally bakula

948
00:51:57,470 --> 00:52:01,190
doesn't do compression you we rely on

949
00:52:01,190 --> 00:52:03,410
hardware to do it take drives that very

950
00:52:03,410 --> 00:52:06,109
good compression however for disk files

951
00:52:06,109 --> 00:52:09,050
bakula can do compression on the client

952
00:52:09,050 --> 00:52:12,890
and it's zipped it's Jeezy in fact you

953
00:52:12,890 --> 00:52:16,300
can set the level between one and nine

954
00:52:16,300 --> 00:52:18,320
but that's the only one you've got

955
00:52:18,320 --> 00:52:23,109
currently question

956
00:52:28,220 --> 00:52:36,240
you can use your and not it the question

957
00:52:36,240 --> 00:52:39,350
was does bakula author authenticate

958
00:52:39,350 --> 00:52:42,630
authorization use standard method and

959
00:52:42,630 --> 00:52:45,500
the answer is it uses standard

960
00:52:45,500 --> 00:52:50,250
algorithms but it has its own it has a

961
00:52:50,250 --> 00:52:52,650
double communications protocol which is

962
00:52:52,650 --> 00:52:57,330
the block protocol at first it's not a

963
00:52:57,330 --> 00:53:00,120
stream protocol it sends lots of data

964
00:53:00,120 --> 00:53:04,440
and second it is its own codes if you

965
00:53:04,440 --> 00:53:08,160
want to authenticate bakula a demon with

966
00:53:08,160 --> 00:53:09,810
it if you want to communicate with it

967
00:53:09,810 --> 00:53:12,840
you need to write some special code big

968
00:53:12,840 --> 00:53:14,640
but people have done it already from

969
00:53:14,640 --> 00:53:25,520
Pearl and it's very easy to do sorry

970
00:53:26,620 --> 00:53:30,730
the question is have I considered

971
00:53:30,730 --> 00:53:36,020
curveballs ya know if somebody wants to

972
00:53:36,020 --> 00:53:37,490
implement

973
00:53:37,490 --> 00:53:41,630
send us a patch yeah why not I put in a

974
00:53:41,630 --> 00:53:45,230
simple authorization method that worked

975
00:53:45,230 --> 00:53:47,450
pretty well and the ones complained

976
00:53:47,450 --> 00:53:52,150
about it is if one thing is if the

977
00:53:52,150 --> 00:53:55,600
authorization fails it locks any other

978
00:53:55,600 --> 00:53:59,180
authorization attempts 45 seconds so if

979
00:53:59,180 --> 00:54:02,450
you try blind load beating away at it

980
00:54:02,450 --> 00:54:04,340
will take you a long time before you get

981
00:54:04,340 --> 00:54:12,230
in how does it handle how does the

982
00:54:12,230 --> 00:54:16,310
vacuum a handle open files on windows it

983
00:54:16,310 --> 00:54:19,280
uses volume Shadow Copy which takes care

984
00:54:19,280 --> 00:54:20,510
of the problem is sort of like a

985
00:54:20,510 --> 00:54:23,210
journaling system once the snapshots

986
00:54:23,210 --> 00:54:26,000
been taken every change is journal and

987
00:54:26,000 --> 00:54:28,220
so bakula gets a current getting to the

988
00:54:28,220 --> 00:54:32,840
file on Linux we don't do anything as it

989
00:54:32,840 --> 00:54:33,980
was mentioned

990
00:54:33,980 --> 00:54:39,050
or you know in most cases once you open

991
00:54:39,050 --> 00:54:43,720
a file in Linux yet you can grow

992
00:54:43,720 --> 00:54:46,970
somebody can shrink it but typically it

993
00:54:46,970 --> 00:54:48,470
doesn't get pulled out from under you

994
00:54:48,470 --> 00:54:51,109
like it could on other systems and so

995
00:54:51,109 --> 00:54:55,190
the backups are pretty good bacula will

996
00:54:55,190 --> 00:54:58,280
tell you if you ask it to if a file has

997
00:54:58,280 --> 00:55:01,970
changed during the backup process that's

998
00:55:01,970 --> 00:55:04,609
not actually an illusion and when it

999
00:55:04,609 --> 00:55:07,460
restores a file it always checks to see

1000
00:55:07,460 --> 00:55:11,330
if it has the same amount that restored

1001
00:55:11,330 --> 00:55:13,130
the same amount that it found it

1002
00:55:13,130 --> 00:55:15,380
beginning of the backup and so the

1003
00:55:15,380 --> 00:55:17,119
desert deal at least you'll know about

1004
00:55:17,119 --> 00:55:22,420
it ok question

1005
00:55:30,090 --> 00:55:33,210
how does the factory I handle scheduled

1006
00:55:33,210 --> 00:55:37,250
jobs where the job fails because the

1007
00:55:37,250 --> 00:55:42,020
client machine is down there their

1008
00:55:42,020 --> 00:55:45,320
directives within bakula that tell it to

1009
00:55:45,320 --> 00:55:51,810
retry the job x times where you find x

1010
00:55:51,810 --> 00:55:55,380
times after a certain interval that you

1011
00:55:55,380 --> 00:55:58,830
define and so you can do it there's

1012
00:55:58,830 --> 00:56:01,260
still other features that we want to add

1013
00:56:01,260 --> 00:56:05,430
the future for example right now if a

1014
00:56:05,430 --> 00:56:08,340
plant they put back of it gets called

1015
00:56:08,340 --> 00:56:10,950
for one reason or other operator doesn't

1016
00:56:10,950 --> 00:56:14,370
change it hey let's say and so a bunch

1017
00:56:14,370 --> 00:56:16,590
of jobs are sitting there waiting to the

1018
00:56:16,590 --> 00:56:21,410
tape drive and then 48 hours later

1019
00:56:21,410 --> 00:56:24,240
there's a new set of job to clean for

1020
00:56:24,240 --> 00:56:26,910
the they drive well they all run okay

1021
00:56:26,910 --> 00:56:29,160
and so at some point we need to make

1022
00:56:29,160 --> 00:56:31,980
bakula smarter so that it knows that if

1023
00:56:31,980 --> 00:56:33,920
there's a full backup running

1024
00:56:33,920 --> 00:56:36,200
an incremental backup comes along and

1025
00:56:36,200 --> 00:56:39,740
probably should terminate the backup but

1026
00:56:39,740 --> 00:56:44,439
that will be a top user option always

1027
00:56:45,790 --> 00:56:48,790
sorry

1028
00:56:50,770 --> 00:56:54,890
if you lose your SQL database is it easy

1029
00:56:54,890 --> 00:56:58,310
to recover from oh it's not very

1030
00:56:58,310 --> 00:57:00,530
pleasant because there's a lot of

1031
00:57:00,530 --> 00:57:02,720
information in there particularly the

1032
00:57:02,720 --> 00:57:05,060
most important information is what jobs

1033
00:57:05,060 --> 00:57:09,230
and what are on what volumes and what

1034
00:57:09,230 --> 00:57:11,390
clients you have all the historical

1035
00:57:11,390 --> 00:57:16,040
information if you are careful you you

1036
00:57:16,040 --> 00:57:18,860
wrote what I call a bootstrap file you

1037
00:57:18,860 --> 00:57:20,990
did it back up if you use the standard

1038
00:57:20,990 --> 00:57:24,860
back up out of the box ok hit every

1039
00:57:24,860 --> 00:57:26,960
night they will come up and it'll do it

1040
00:57:26,960 --> 00:57:29,500
back up and then back up the catalog

1041
00:57:29,500 --> 00:57:32,150
okay and in doing so they will create

1042
00:57:32,150 --> 00:57:35,240
two files for you to bootstrap class one

1043
00:57:35,240 --> 00:57:38,570
is a good scrap file for the backup okay

1044
00:57:38,570 --> 00:57:42,020
which is sort of like a condensed ASCII

1045
00:57:42,020 --> 00:57:44,630
file that you can feed to the restore

1046
00:57:44,630 --> 00:57:47,090
process that will restore all the files

1047
00:57:47,090 --> 00:57:50,930
that were popped up the other one is the

1048
00:57:50,930 --> 00:57:54,620
same thing for the backup that you did

1049
00:57:54,620 --> 00:57:57,050
with the catalog so if you have that

1050
00:57:57,050 --> 00:58:00,470
bootstrap file you can go and get very

1051
00:58:00,470 --> 00:58:03,730
quickly your catalog to restore okay

1052
00:58:03,730 --> 00:58:06,980
there's also another method which is

1053
00:58:06,980 --> 00:58:09,530
really painful and a lot of users use it

1054
00:58:09,530 --> 00:58:11,990
yeah there's a thing called beasts can

1055
00:58:11,990 --> 00:58:13,349
when you pointed

1056
00:58:13,349 --> 00:58:16,529
set of days it takes okay or set at this

1057
00:58:16,529 --> 00:58:18,809
if you want and backfill it will read

1058
00:58:18,809 --> 00:58:21,390
through those back of the tapes and will

1059
00:58:21,390 --> 00:58:25,140
reconstruct a database soothes and

1060
00:58:25,140 --> 00:58:29,160
you've created a dummy database at the

1061
00:58:29,160 --> 00:58:31,589
beginning but you need to back up every

1062
00:58:31,589 --> 00:58:34,319
night your database okay along with your

1063
00:58:34,319 --> 00:58:36,150
data you should also backup your

1064
00:58:36,150 --> 00:58:38,700
configuration files because they're not

1065
00:58:38,700 --> 00:58:41,789
always so easy to reconstruct or fine

1066
00:58:41,789 --> 00:58:44,359
okay

1067
00:58:49,360 --> 00:58:53,330
back to the version 2 point 0 which was

1068
00:58:53,330 --> 00:58:56,630
and above actually we're up to 2.2 now

1069
00:58:56,630 --> 00:59:01,790
the 2 point 0 2 can do what we call

1070
00:59:01,790 --> 00:59:05,510
migration which will on a job by job

1071
00:59:05,510 --> 00:59:10,720
basis read the data on one volume and

1072
00:59:10,720 --> 00:59:14,690
transfer it to another blog and so to do

1073
00:59:14,690 --> 00:59:22,790
this to take migration that the the

1074
00:59:22,790 --> 00:59:25,400
question was with different retention

1075
00:59:25,400 --> 00:59:29,620
periods ok well the current migration

1076
00:59:29,620 --> 00:59:33,150
deletes the information in

1077
00:59:33,150 --> 00:59:36,390
original file the second file the second

1078
00:59:36,390 --> 00:59:38,819
back up that job that takes on the

1079
00:59:38,819 --> 00:59:41,400
characteristics of the job looks like a

1080
00:59:41,400 --> 00:59:44,940
grin at the time of the original job ran

1081
00:59:44,940 --> 00:59:47,970
set up but it's stored by a new volume

1082
00:59:47,970 --> 00:59:52,040
and so it has all the retention capab

1083
00:59:52,040 --> 00:59:55,290
and times from the volume you put it on

1084
00:59:55,290 --> 00:59:59,700
not the original one and so it's follows

1085
00:59:59,700 --> 01:00:10,399
logically could you talk a little better

1086
01:00:20,539 --> 01:00:23,749
the question was if I understood it can

1087
01:00:23,749 --> 01:00:27,650
bakula reconstruct a full backup or the

1088
01:00:27,650 --> 01:00:29,959
current state of the system from a full

1089
01:00:29,959 --> 01:00:34,299
backup and then incremental backups

1090
01:00:48,200 --> 01:00:50,820
yeah he's asking if you can do a full

1091
01:00:50,820 --> 01:00:53,340
backup once and then thereafter do

1092
01:00:53,340 --> 01:00:56,040
incremental backup the problem with that

1093
01:00:56,040 --> 01:00:58,140
kind of scheme is that you have a full

1094
01:00:58,140 --> 01:01:01,410
backup you need to access if you did it

1095
01:01:01,410 --> 01:01:04,470
a year ago how many incremental backups

1096
01:01:04,470 --> 01:01:06,510
you may have hundreds and hundreds of

1097
01:01:06,510 --> 01:01:10,550
tapes the factor has to read through

1098
01:01:11,990 --> 01:01:17,040
okay I think yeah okay now I understand

1099
01:01:17,040 --> 01:01:18,630
what you're asking he's asking if you

1100
01:01:18,630 --> 01:01:21,660
can take those old full backup plus a

1101
01:01:21,660 --> 01:01:23,850
bunch of me or mental backups put them

1102
01:01:23,850 --> 01:01:27,050
together and create what's called the

1103
01:01:27,050 --> 01:01:30,180
phenomena stake in a virtual full backup

1104
01:01:30,180 --> 01:01:32,160
or something less synthetic pulled back

1105
01:01:32,160 --> 01:01:35,400
up and theoretically it's possible

1106
01:01:35,400 --> 01:01:39,120
haven't implemented it's a rather crude

1107
01:01:39,120 --> 01:01:41,580
now that we have migration it's a rather

1108
01:01:41,580 --> 01:01:44,910
trivial enhancement that will be making

1109
01:01:44,910 --> 01:01:47,370
the answer is no you can't do that today

1110
01:01:47,370 --> 01:01:51,660
but within six months yes back there

1111
01:01:51,660 --> 01:01:54,710
will be able to take a set of tapes

1112
01:01:54,710 --> 01:01:57,300
automatically you can do it manually if

1113
01:01:57,300 --> 01:01:58,470
you want but it'll be able to

1114
01:01:58,470 --> 01:02:00,960
automatically take a set of tapes that

1115
01:02:00,960 --> 01:02:03,990
represent the current state of a client

1116
01:02:03,990 --> 01:02:08,190
let's say and generate one new backup

1117
01:02:08,190 --> 01:02:12,500
that has only the current files in it as

1118
01:02:12,500 --> 01:02:17,360
a full backup made today which is at

1119
01:02:17,360 --> 01:02:19,220
first like you might say why do you want

1120
01:02:19,220 --> 01:02:21,290
to do that well there's a lot of shots

1121
01:02:21,290 --> 01:02:23,660
where cup time on a particular machine

1122
01:02:23,660 --> 01:02:26,360
is critical they don't want to spend the

1123
01:02:26,360 --> 01:02:28,580
time they don't want to have a backup

1124
01:02:28,580 --> 01:02:31,400
process running during the time it takes

1125
01:02:31,400 --> 01:02:33,950
to do a full backup so they'll be very

1126
01:02:33,950 --> 01:02:36,640
happy offline on another machine

1127
01:02:36,640 --> 01:02:39,620
condense the backups into one single

1128
01:02:39,620 --> 01:02:47,570
full backup Russell now he's asking if

1129
01:02:47,570 --> 01:02:49,520
that will have the same problem with

1130
01:02:49,520 --> 01:02:51,800
deleted files when you do restored

1131
01:02:51,800 --> 01:02:54,200
because back to the backs up files on

1132
01:02:54,200 --> 01:02:57,310
their time and date and in any file

1133
01:02:57,310 --> 01:03:01,070
deleted before the current time if you

1134
01:03:01,070 --> 01:03:04,610
do a full restore will come back and

1135
01:03:04,610 --> 01:03:06,980
that is a project that's number one on

1136
01:03:06,980 --> 01:03:10,730
our list of things to fix is a bit

1137
01:03:10,730 --> 01:03:13,190
compute-intensive it takes some time you

1138
01:03:13,190 --> 01:03:15,440
have to you actually have to go access

1139
01:03:15,440 --> 01:03:17,510
the catalog everything around back up a

1140
01:03:17,510 --> 01:03:19,400
file or you have to send the full data

1141
01:03:19,400 --> 01:03:22,010
from the catalog so it knows what files

1142
01:03:22,010 --> 01:03:24,980
are backed up and then I can choose and

1143
01:03:24,980 --> 01:03:26,320
that become

1144
01:03:26,320 --> 01:03:29,710
yes and it will also solve a problem

1145
01:03:29,710 --> 01:03:35,500
easy test I think we have we have time

1146
01:03:35,500 --> 01:03:40,290
for one more why not okay

1147
01:03:51,680 --> 01:03:54,910
the what's on the vacuole rescue CD

1148
01:03:54,910 --> 01:03:58,430
there the rescue CD is a little

1149
01:03:58,430 --> 01:04:01,130
different from most rescue CD was saying

1150
01:04:01,130 --> 01:04:07,599
I hope to work with some of the linux

1151
01:04:07,599 --> 01:04:11,089
distro suppliers to change that the

1152
01:04:11,089 --> 01:04:14,900
problem with current rescue CDs is you

1153
01:04:14,900 --> 01:04:18,740
your disc goes down your partition is

1154
01:04:18,740 --> 01:04:20,900
dead your disc is dead you replace it

1155
01:04:20,900 --> 01:04:23,690
with a new one my den equal size well if

1156
01:04:23,690 --> 01:04:25,970
you're like me and you have five or six

1157
01:04:25,970 --> 01:04:27,980
different machines or fear and bake shop

1158
01:04:27,980 --> 01:04:30,440
with 2,000 of them and half of them are

1159
01:04:30,440 --> 01:04:32,599
partitioned differently how do you get

1160
01:04:32,599 --> 01:04:35,990
the partition is that the bakula rescue

1161
01:04:35,990 --> 01:04:39,170
disk does something well with regular

1162
01:04:39,170 --> 01:04:42,380
rescue disk it's no help you all send

1163
01:04:42,380 --> 01:04:44,270
your booted and you're in a command

1164
01:04:44,270 --> 01:04:45,859
shell you don't know what to do you

1165
01:04:45,859 --> 01:04:48,069
don't even know you don't want anything

1166
01:04:48,069 --> 01:04:50,390
typically they don't even mount the disk

1167
01:04:50,390 --> 01:04:55,609
for you well bakula rescue CD will when

1168
01:04:55,609 --> 01:04:58,220
you create it it takes a snapshot of

1169
01:04:58,220 --> 01:05:00,589
your system it tries to use your kernel

1170
01:05:00,589 --> 01:05:04,220
so that you're familiar with it it can

1171
01:05:04,220 --> 01:05:07,430
a snapshot of all the critical data on

1172
01:05:07,430 --> 01:05:11,210
your is and it saves that onto the CD

1173
01:05:11,210 --> 01:05:14,150
and so when you start up that CD

1174
01:05:14,150 --> 01:05:16,640
providing you have instructions already

1175
01:05:16,640 --> 01:05:20,150
printed out with not a whole lot of

1176
01:05:20,150 --> 01:05:22,849
problems you execute a few scripts and

1177
01:05:22,849 --> 01:05:24,940
you can go out and have a totally

1178
01:05:24,940 --> 01:05:27,859
repartition your heart is reformatting

1179
01:05:27,859 --> 01:05:30,920
partitions and whatever and it is in aid

1180
01:05:30,920 --> 01:05:33,650
getting you back the process of

1181
01:05:33,650 --> 01:05:37,270
recovering a system from bare metal is

1182
01:05:37,270 --> 01:05:40,250
non-trivial I mean if you have your

1183
01:05:40,250 --> 01:05:43,940
director your catalog and your storage

1184
01:05:43,940 --> 01:05:47,420
demon on the system that went down is

1185
01:05:47,420 --> 01:05:49,700
not a simple process to get all those

1186
01:05:49,700 --> 01:05:52,220
things back out so that bacala can

1187
01:05:52,220 --> 01:05:54,830
restore your mess better off having a

1188
01:05:54,830 --> 01:05:58,940
second system with a temporary director

1189
01:05:58,940 --> 01:06:02,540
if you want a storage beatman and you

1190
01:06:02,540 --> 01:06:04,820
then fire it up and you put only a

1191
01:06:04,820 --> 01:06:07,820
client static client on the machine

1192
01:06:07,820 --> 01:06:10,220
that's broken and so you use that to

1193
01:06:10,220 --> 01:06:11,960
restore all your files that's a pretty

1194
01:06:11,960 --> 01:06:14,750
simple setup I'll be around so I can

1195
01:06:14,750 --> 01:06:16,460
answer more questions if you have

1196
01:06:16,460 --> 01:06:18,589
but we've run out of time thank you very

1197
01:06:18,589 --> 01:06:20,859
much

