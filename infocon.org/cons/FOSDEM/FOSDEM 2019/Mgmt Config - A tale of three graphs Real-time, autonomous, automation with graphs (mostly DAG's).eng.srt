1
00:00:04,650 --> 00:00:08,850
Who am I I'm a hacker<font color="#CCCCCC"> I work on config</font>

2
00:00:07,140 --> 00:00:11,520
<font color="#E5E5E5">management off come into the room</font><font color="#CCCCCC"> don't</font>

3
00:00:08,850 --> 00:00:13,018
be shy<font color="#CCCCCC"> I work</font><font color="#E5E5E5"> I read a technical blog</font>

4
00:00:11,520 --> 00:00:15,360
<font color="#E5E5E5">called the technical</font><font color="#CCCCCC"> blog of James</font><font color="#E5E5E5"> who's</font>

5
00:00:13,019 --> 00:00:17,010
seen my blog<font color="#CCCCCC"> just</font><font color="#E5E5E5"> raise your hand</font><font color="#CCCCCC"> if you</font>

6
00:00:15,360 --> 00:00:19,680
haven't just raised my<font color="#CCCCCC"> hand so I seem</font>

7
00:00:17,010 --> 00:00:21,240
really popular<font color="#E5E5E5"> everyone yeah if you I've</font>

8
00:00:19,680 --> 00:00:22,530
given<font color="#CCCCCC"> some</font><font color="#E5E5E5"> other talks and I used all</font>

9
00:00:21,240 --> 00:00:23,909
<font color="#CCCCCC">the</font><font color="#E5E5E5"> same jokes I really don't have time</font>

10
00:00:22,530 --> 00:00:25,320
to write new jokes so I'm<font color="#CCCCCC"> actually</font>

11
00:00:23,910 --> 00:00:26,970
physiologist by training<font color="#E5E5E5"> so</font><font color="#CCCCCC"> if you want</font>

12
00:00:25,320 --> 00:00:29,609
to<font color="#CCCCCC"> talk about cardiology</font><font color="#E5E5E5"> and everything</font>

13
00:00:26,970 --> 00:00:32,040
anything like that<font color="#E5E5E5"> I'm happy to some</font>

14
00:00:29,609 --> 00:00:33,600
background everything<font color="#CCCCCC"> in the config</font>

15
00:00:32,040 --> 00:00:35,250
management space was pretty<font color="#E5E5E5"> horrible</font><font color="#CCCCCC"> and</font>

16
00:00:33,600 --> 00:00:37,649
so I was sort<font color="#E5E5E5"> of looking at better</font>

17
00:00:35,250 --> 00:00:40,110
solutions and stuff like that<font color="#CCCCCC"> this is</font>

18
00:00:37,649 --> 00:00:42,480
the graph of MGMT<font color="#CCCCCC"> awesomeness over time</font>

19
00:00:40,110 --> 00:00:44,340
as you<font color="#CCCCCC"> can see</font><font color="#E5E5E5"> I had a little hard point</font>

20
00:00:42,480 --> 00:00:46,949
in my<font color="#CCCCCC"> life but otherwise</font><font color="#E5E5E5"> up into the</font>

21
00:00:44,340 --> 00:00:49,410
right<font color="#E5E5E5"> yes is this this is the kind</font><font color="#CCCCCC"> of</font>

22
00:00:46,950 --> 00:00:51,300
graphs you want to see did I in the

23
00:00:49,410 --> 00:00:53,309
wrong graph dead room<font color="#CCCCCC"> it's like all</font>

24
00:00:51,300 --> 00:00:56,419
about<font color="#E5E5E5"> Excel spreadsheets and graphs</font><font color="#CCCCCC"> are</font>

25
00:00:53,309 --> 00:00:58,649
these the kind<font color="#E5E5E5"> of graphs you want to see</font>

26
00:00:56,420 --> 00:01:01,710
let's see what let's<font color="#E5E5E5"> see what the guy</font>

27
00:00:58,649 --> 00:01:02,969
says this is my guy who's gonna<font color="#E5E5E5"> answer</font>

28
00:01:01,710 --> 00:01:06,869
this question<font color="#E5E5E5"> it's not the kind</font><font color="#CCCCCC"> of</font>

29
00:01:02,969 --> 00:01:08,430
graphs you want to see no I got<font color="#CCCCCC"> you</font><font color="#E5E5E5"> it</font>

30
00:01:06,869 --> 00:01:11,330
did<font color="#E5E5E5"> I scare anyone there were some</font>

31
00:01:08,430 --> 00:01:14,600
confused faces<font color="#CCCCCC"> there whoa spreadsheets</font>

32
00:01:11,330 --> 00:01:16,830
<font color="#E5E5E5">nope this is not</font><font color="#CCCCCC"> the</font><font color="#E5E5E5"> kind of graphs</font>

33
00:01:14,600 --> 00:01:19,050
<font color="#CCCCCC">we're gonna be</font><font color="#E5E5E5"> talking about DAGs</font><font color="#CCCCCC"> our</font>

34
00:01:16,830 --> 00:01:20,520
logo<font color="#CCCCCC"> has a nice</font><font color="#E5E5E5"> dag in it I know it's a</font>

35
00:01:19,050 --> 00:01:22,319
dag because I checked it when the

36
00:01:20,520 --> 00:01:23,848
designer person made it and it was<font color="#CCCCCC"> not a</font>

37
00:01:22,319 --> 00:01:25,830
diagonals like no you can't have does

38
00:01:23,849 --> 00:01:27,270
everyone know what<font color="#E5E5E5"> a dag is you're like</font>

39
00:01:25,830 --> 00:01:29,789
<font color="#CCCCCC">a pretty advanced graph audience</font><font color="#E5E5E5"> oh I</font>

40
00:01:27,270 --> 00:01:30,899
can<font color="#E5E5E5"> use tech terms yes who's shy just</font>

41
00:01:29,789 --> 00:01:34,770
raise<font color="#CCCCCC"> your</font><font color="#E5E5E5"> hand so I know where you are</font>

42
00:01:30,899 --> 00:01:36,720
anybody excellent<font color="#E5E5E5"> good so I'm gonna talk</font>

43
00:01:34,770 --> 00:01:38,490
<font color="#CCCCCC">to you about our software if you</font><font color="#E5E5E5"> want at</font>

44
00:01:36,720 --> 00:01:40,289
<font color="#E5E5E5">any point you need</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> go</font><font color="#CCCCCC"> more technical</font>

45
00:01:38,490 --> 00:01:43,318
<font color="#CCCCCC">into about</font><font color="#E5E5E5"> the graph theory stuff I will</font>

46
00:01:40,289 --> 00:01:45,270
<font color="#E5E5E5">I've kept it more as demos and about the</font>

47
00:01:43,319 --> 00:01:46,890
software<font color="#E5E5E5"> as opposed to pure graph theory</font>

48
00:01:45,270 --> 00:01:48,060
<font color="#E5E5E5">but you're gonna see how</font><font color="#CCCCCC"> it</font><font color="#E5E5E5"> really comes</font>

49
00:01:46,890 --> 00:01:50,250
into play I<font color="#E5E5E5"> don't tell you about three</font>

50
00:01:48,060 --> 00:01:52,500
graphs first just our software my

51
00:01:50,250 --> 00:01:54,479
software<font color="#CCCCCC"> it has</font><font color="#E5E5E5"> two main parts</font><font color="#CCCCCC"> it has an</font>

52
00:01:52,500 --> 00:01:56,310
engine<font color="#CCCCCC"> and the language so the language</font>

53
00:01:54,479 --> 00:01:58,410
runs continuously<font color="#E5E5E5"> which I'll show you</font>

54
00:01:56,310 --> 00:02:00,360
<font color="#E5E5E5">and it outputs to</font><font color="#CCCCCC"> the engine which</font>

55
00:01:58,410 --> 00:02:03,360
actually does that<font color="#E5E5E5"> work and how</font><font color="#CCCCCC"> does</font>

56
00:02:00,360 --> 00:02:05,849
<font color="#CCCCCC">that</font><font color="#E5E5E5"> work</font><font color="#CCCCCC"> so the engine has three main</font>

57
00:02:03,360 --> 00:02:07,319
<font color="#CCCCCC">parts to it</font><font color="#E5E5E5"> it runs in parallel</font><font color="#CCCCCC"> its</font>

58
00:02:05,849 --> 00:02:09,300
<font color="#E5E5E5">event-driven so I'll show you and it</font>

59
00:02:07,319 --> 00:02:10,440
works as a distributed topology<font color="#E5E5E5"> so these</font>

60
00:02:09,300 --> 00:02:12,060
are the kind of graphs that<font color="#E5E5E5"> I'm talking</font>

61
00:02:10,440 --> 00:02:15,200
<font color="#CCCCCC">about</font><font color="#E5E5E5"> so in the config management</font>

62
00:02:12,060 --> 00:02:17,730
automation space there's this<font color="#E5E5E5"> concept of</font>

63
00:02:15,200 --> 00:02:18,458
declarative work<font color="#CCCCCC"> so what we typically do</font>

64
00:02:17,730 --> 00:02:21,040
is<font color="#CCCCCC"> we think</font><font color="#E5E5E5"> of the</font>

65
00:02:18,459 --> 00:02:22,989
blue boxes as resources<font color="#E5E5E5"> and their unit</font>

66
00:02:21,040 --> 00:02:25,120
of<font color="#E5E5E5"> work so one might set the contents of</font>

67
00:02:22,989 --> 00:02:27,700
a file on a server<font color="#CCCCCC"> this one here might</font>

68
00:02:25,120 --> 00:02:29,379
set up a package and<font color="#CCCCCC"> install it</font><font color="#E5E5E5"> this one</font>

69
00:02:27,700 --> 00:02:32,469
here might start a<font color="#E5E5E5"> service and so on and</font>

70
00:02:29,379 --> 00:02:33,819
we describe these units of work<font color="#E5E5E5"> and then</font>

71
00:02:32,469 --> 00:02:35,530
the black arrows here represented the

72
00:02:33,819 --> 00:02:38,530
dependencies<font color="#CCCCCC"> so one has</font><font color="#E5E5E5"> to happen before</font>

73
00:02:35,530 --> 00:02:40,420
<font color="#CCCCCC">two to</font><font color="#E5E5E5"> before three and so on and so</font><font color="#CCCCCC"> on</font>

74
00:02:38,530 --> 00:02:41,950
<font color="#E5E5E5">and these are all DAGs because it's a</font>

75
00:02:40,420 --> 00:02:46,149
dependency graph so<font color="#E5E5E5"> you can't have loops</font>

76
00:02:41,950 --> 00:02:47,798
right and up<font color="#E5E5E5"> until basically now all of</font>

77
00:02:46,150 --> 00:02:49,689
the tools basically<font color="#E5E5E5"> did this if you can</font>

78
00:02:47,799 --> 00:02:51,069
see this light red arrow<font color="#E5E5E5"> they basically</font>

79
00:02:49,689 --> 00:02:52,239
did something called<font color="#CCCCCC"> a</font><font color="#E5E5E5"> topological sort</font>

80
00:02:51,069 --> 00:02:53,409
<font color="#CCCCCC">I know you all know</font><font color="#E5E5E5"> what that</font><font color="#CCCCCC"> is we're</font>

81
00:02:52,239 --> 00:02:55,810
just<font color="#CCCCCC"> said we're gonna do this in this</font>

82
00:02:53,409 --> 00:02:56,769
order<font color="#E5E5E5"> but the first big thing</font><font color="#CCCCCC"> that we do</font>

83
00:02:55,810 --> 00:02:58,450
<font color="#CCCCCC">differently is we actually run the</font>

84
00:02:56,769 --> 00:03:00,040
entire<font color="#E5E5E5"> graph in parallel so</font><font color="#CCCCCC"> everything</font>

85
00:02:58,450 --> 00:03:01,298
at the<font color="#CCCCCC"> left can run at</font><font color="#E5E5E5"> the same</font><font color="#CCCCCC"> time as</font>

86
00:03:00,040 --> 00:03:03,608
<font color="#E5E5E5">everything on the right</font><font color="#CCCCCC"> because</font><font color="#E5E5E5"> there's</font>

87
00:03:01,299 --> 00:03:06,430
<font color="#E5E5E5">no implicit dependency and even here</font>

88
00:03:03,609 --> 00:03:08,859
once we've run<font color="#CCCCCC"> 1a 2a and 2b can both run</font>

89
00:03:06,430 --> 00:03:10,500
<font color="#E5E5E5">in</font><font color="#CCCCCC"> parallel and</font><font color="#E5E5E5"> then 3a will finish and</font>

90
00:03:08,859 --> 00:03:13,000
<font color="#E5E5E5">there's synchronization that</font><font color="#CCCCCC"> makes sense</font>

91
00:03:10,500 --> 00:03:15,219
<font color="#CCCCCC">so</font><font color="#E5E5E5"> also in parallel this is all about</font>

92
00:03:13,000 --> 00:03:16,599
you helping<font color="#E5E5E5"> me so if for some reason you</font>

93
00:03:15,219 --> 00:03:18,459
<font color="#E5E5E5">have a better algorithm than</font><font color="#CCCCCC"> what I'm</font>

94
00:03:16,599 --> 00:03:19,840
using to run through these<font color="#E5E5E5"> graphs you</font>

95
00:03:18,459 --> 00:03:21,010
should priest<font color="#E5E5E5"> please tell me</font><font color="#CCCCCC"> cuz I am</font>

96
00:03:19,840 --> 00:03:24,280
NOT a good<font color="#E5E5E5"> algorithm</font><font color="#CCCCCC"> Asst</font>

97
00:03:21,010 --> 00:03:26,048
it's very true<font color="#E5E5E5"> so I have a demo of this</font>

98
00:03:24,280 --> 00:03:27,220
<font color="#CCCCCC">buts not so exciting but I just want a B</font>

99
00:03:26,049 --> 00:03:29,019
this is the<font color="#CCCCCC"> graph number one this</font>

100
00:03:27,220 --> 00:03:31,690
dependency graph in our engine graph

101
00:03:29,019 --> 00:03:35,250
<font color="#E5E5E5">number one three graphs</font><font color="#CCCCCC"> right yes</font><font color="#E5E5E5"> cool</font>

102
00:03:31,690 --> 00:03:38,739
like the infographic yeah<font color="#CCCCCC"> all</font><font color="#E5E5E5"> right</font>

103
00:03:35,250 --> 00:03:40,510
so I'm gonna show<font color="#E5E5E5"> you actually running</font>

104
00:03:38,739 --> 00:03:42,669
in a run a graph with simple stuff so

105
00:03:40,510 --> 00:03:44,530
<font color="#E5E5E5">all these things have events so I'm just</font>

106
00:03:42,669 --> 00:03:47,319
gonna actually show you the<font color="#E5E5E5"> first one so</font>

107
00:03:44,530 --> 00:03:49,599
I<font color="#CCCCCC"> just made a very</font><font color="#E5E5E5"> simple</font>

108
00:03:47,319 --> 00:03:52,869
config<font color="#E5E5E5"> so I'm gonna I'll show you the</font>

109
00:03:49,599 --> 00:03:56,619
code<font color="#E5E5E5"> actually if you want it's called</font>

110
00:03:52,870 --> 00:03:58,090
hello<font color="#CCCCCC"> Faust</font><font color="#E5E5E5"> m and it's just basically</font><font color="#CCCCCC"> we</font>

111
00:03:56,620 --> 00:04:01,299
declare is that big enough<font color="#CCCCCC"> for</font><font color="#E5E5E5"> you to</font>

112
00:03:58,090 --> 00:04:03,759
see yeah<font color="#CCCCCC"> basically we just have a file</font>

113
00:04:01,299 --> 00:04:05,919
<font color="#E5E5E5">resource we have it has a name has some</font>

114
00:04:03,759 --> 00:04:07,388
contents so some parameters so<font color="#E5E5E5"> we wanted</font>

115
00:04:05,919 --> 00:04:09,669
to<font color="#CCCCCC"> exists we want the</font><font color="#E5E5E5"> content to say</font>

116
00:04:07,389 --> 00:04:12,159
something<font color="#E5E5E5"> and this is basically a vertex</font>

117
00:04:09,669 --> 00:04:13,810
in our graph and the code<font color="#E5E5E5"> will basically</font>

118
00:04:12,159 --> 00:04:16,180
produce<font color="#E5E5E5"> a lot of these this case there's</font>

119
00:04:13,810 --> 00:04:18,009
only one<font color="#E5E5E5"> so it's a very simple</font><font color="#CCCCCC"> graph</font><font color="#E5E5E5"> and</font>

120
00:04:16,180 --> 00:04:20,349
when we run them<font color="#E5E5E5"> I'll just run it on the</font>

121
00:04:18,009 --> 00:04:21,909
<font color="#CCCCCC">Left over here and on the right</font><font color="#E5E5E5"> we</font><font color="#CCCCCC"> can</font>

122
00:04:20,349 --> 00:04:22,330
actually<font color="#E5E5E5"> check see it actually</font><font color="#CCCCCC"> made</font><font color="#E5E5E5"> that</font>

123
00:04:21,909 --> 00:04:24,610
file

124
00:04:22,330 --> 00:04:28,570
oops<font color="#E5E5E5"> so we can cat the file and we</font><font color="#CCCCCC"> can</font>

125
00:04:24,610 --> 00:04:29,740
like it's<font color="#E5E5E5"> there works</font><font color="#CCCCCC"> okay</font><font color="#E5E5E5"> but here's</font>

126
00:04:28,570 --> 00:04:30,700
the<font color="#E5E5E5"> cool thing</font><font color="#CCCCCC"> about MGMT that's</font>

127
00:04:29,740 --> 00:04:31,560
different<font color="#E5E5E5"> from every other tool out</font>

128
00:04:30,700 --> 00:04:33,870
there<font color="#CCCCCC"> actually</font>

129
00:04:31,560 --> 00:04:35,760
move the file<font color="#E5E5E5"> and I list you can see it</font>

130
00:04:33,870 --> 00:04:37,410
comes<font color="#CCCCCC"> you</font><font color="#E5E5E5"> right back</font><font color="#CCCCCC"> okay so it's</font>

131
00:04:35,760 --> 00:04:39,990
actually<font color="#E5E5E5"> running in real time so</font><font color="#CCCCCC"> remove</font>

132
00:04:37,410 --> 00:04:41,730
the file oops<font color="#E5E5E5"> and I it comes right back</font>

133
00:04:39,990 --> 00:04:44,070
<font color="#E5E5E5">so I can even remove</font><font color="#CCCCCC"> the</font><font color="#E5E5E5"> file</font>

134
00:04:41,730 --> 00:04:46,230
oops<font color="#E5E5E5"> remove I'm gonna sit</font><font color="#CCCCCC"> down a</font><font color="#E5E5E5"> bit to</font>

135
00:04:44,070 --> 00:04:48,659
type<font color="#CCCCCC"> oh</font><font color="#E5E5E5"> sorry I'm still here getting</font>

136
00:04:46,230 --> 00:04:50,520
<font color="#E5E5E5">tangled by this microphone cord so if I</font>

137
00:04:48,660 --> 00:04:52,710
<font color="#E5E5E5">remove the file and cat the file you can</font>

138
00:04:50,520 --> 00:04:54,120
even see the engine is so fast it puts

139
00:04:52,710 --> 00:04:56,099
the file back before the second part<font color="#E5E5E5"> of</font>

140
00:04:54,120 --> 00:04:58,320
bash<font color="#CCCCCC"> even runs you can</font><font color="#E5E5E5"> see it's actually</font>

141
00:04:56,100 --> 00:05:00,750
<font color="#CCCCCC">running so it's sleeping and the detects</font>

142
00:04:58,320 --> 00:05:02,219
<font color="#E5E5E5">when it runs and it goes through</font><font color="#CCCCCC"> in fact</font>

143
00:05:00,750 --> 00:05:04,530
it's even<font color="#E5E5E5"> so fast there's this watch</font>

144
00:05:02,220 --> 00:05:05,790
command<font color="#E5E5E5"> so if</font><font color="#CCCCCC"> I run zero pone</font><font color="#E5E5E5"> this will</font>

145
00:05:04,530 --> 00:05:06,690
just run the<font color="#E5E5E5"> command over</font><font color="#CCCCCC"> and</font><font color="#E5E5E5"> over again</font>

146
00:05:05,790 --> 00:05:10,950
really really<font color="#E5E5E5"> fast</font>

147
00:05:06,690 --> 00:05:12,300
oops<font color="#E5E5E5"> it'll run it really really</font>

148
00:05:10,950 --> 00:05:14,070
fascinating<font color="#CCCCCC"> and see it's constantly</font>

149
00:05:12,300 --> 00:05:15,410
<font color="#CCCCCC">running it and it just fixes the state</font>

150
00:05:14,070 --> 00:05:17,639
of the file<font color="#E5E5E5"> um</font>

151
00:05:15,410 --> 00:05:18,930
<font color="#CCCCCC">this gets much more challenging when</font><font color="#E5E5E5"> we</font>

152
00:05:17,639 --> 00:05:21,510
have<font color="#E5E5E5"> this being a whole dag of</font>

153
00:05:18,930 --> 00:05:23,729
dependencies<font color="#E5E5E5"> because at any</font><font color="#CCCCCC"> point in the</font>

154
00:05:21,510 --> 00:05:25,620
graph once<font color="#CCCCCC"> it's run or even partway</font>

155
00:05:23,729 --> 00:05:27,539
while it's running<font color="#E5E5E5"> some resource might</font>

156
00:05:25,620 --> 00:05:28,860
say hey the state is no<font color="#CCCCCC"> longer</font><font color="#E5E5E5"> valid so</font>

157
00:05:27,540 --> 00:05:30,930
we have to actually<font color="#CCCCCC"> work</font><font color="#E5E5E5"> backwards for</font>

158
00:05:28,860 --> 00:05:32,910
that graph and refresh<font color="#E5E5E5"> that dependency</font>

159
00:05:30,930 --> 00:05:34,950
<font color="#CCCCCC">beery running</font><font color="#E5E5E5"> it before we continue down</font>

160
00:05:32,910 --> 00:05:36,539
<font color="#E5E5E5">to the rest of the dag so it's like this</font>

161
00:05:34,950 --> 00:05:39,030
<font color="#E5E5E5">giant race condition but it actually</font>

162
00:05:36,539 --> 00:05:41,219
<font color="#E5E5E5">works it's amazing yeah if anyone is</font>

163
00:05:39,030 --> 00:05:42,510
completely<font color="#E5E5E5"> lost</font><font color="#CCCCCC"> just don't be shy if</font>

164
00:05:41,220 --> 00:05:44,130
it's important<font color="#CCCCCC"> just raise your</font><font color="#E5E5E5"> hand if</font>

165
00:05:42,510 --> 00:05:45,060
it's like something<font color="#CCCCCC"> that I've totally</font>

166
00:05:44,130 --> 00:05:46,800
lost<font color="#E5E5E5"> him because I want you to enjoy</font>

167
00:05:45,060 --> 00:05:48,680
<font color="#E5E5E5">this and this is more like</font>

168
00:05:46,800 --> 00:05:52,169
infrastructure<font color="#E5E5E5"> software</font><font color="#CCCCCC"> everyone good</font>

169
00:05:48,680 --> 00:05:55,229
<font color="#E5E5E5">you're afraid are you excited you want</font>

170
00:05:52,169 --> 00:05:56,849
<font color="#CCCCCC">to see more demos so that's it so we do</font>

171
00:05:55,229 --> 00:05:58,440
this<font color="#E5E5E5"> for all kinds</font><font color="#CCCCCC"> of resources these</font>

172
00:05:56,850 --> 00:06:00,330
resource primitives these vertexes

173
00:05:58,440 --> 00:06:02,520
<font color="#E5E5E5">vertices in the graph they can be</font>

174
00:06:00,330 --> 00:06:06,300
virtual machines they can be files they

175
00:06:02,520 --> 00:06:07,919
<font color="#CCCCCC">can be even</font><font color="#E5E5E5"> AWS instances if you want so</font>

176
00:06:06,300 --> 00:06:09,180
I think this<font color="#E5E5E5"> is traditionally what like</font>

177
00:06:07,919 --> 00:06:10,799
config management infrastructure

178
00:06:09,180 --> 00:06:12,960
<font color="#E5E5E5">automation but actually it's another</font>

179
00:06:10,800 --> 00:06:17,190
thing as<font color="#E5E5E5"> well just for funds anyone know</font>

180
00:06:12,960 --> 00:06:19,650
what I'm<font color="#E5E5E5"> getting at don't be shy I'll</font>

181
00:06:17,190 --> 00:06:21,210
pick on you anyone<font color="#CCCCCC"> um</font><font color="#E5E5E5"> I think this is</font>

182
00:06:19,650 --> 00:06:25,109
<font color="#CCCCCC">actually a bit of monitoring</font><font color="#E5E5E5"> as well so</font>

183
00:06:21,210 --> 00:06:27,930
typically<font color="#CCCCCC"> anyone</font><font color="#E5E5E5"> system in those sort of</font>

184
00:06:25,110 --> 00:06:29,280
<font color="#CCCCCC">people who's a graph theorist</font><font color="#E5E5E5"> should all</font>

185
00:06:27,930 --> 00:06:31,139
be raising<font color="#E5E5E5"> your</font><font color="#CCCCCC"> hands right</font><font color="#E5E5E5"> I'm</font>

186
00:06:29,280 --> 00:06:32,609
typically an infrastructure people spend

187
00:06:31,139 --> 00:06:34,979
a<font color="#E5E5E5"> lot of time to deploy their clusters</font>

188
00:06:32,610 --> 00:06:36,360
<font color="#E5E5E5">and then add monitoring as well</font><font color="#CCCCCC"> so</font><font color="#E5E5E5"> we</font>

189
00:06:34,979 --> 00:06:39,000
<font color="#E5E5E5">can actually build these two things as</font>

190
00:06:36,360 --> 00:06:42,570
well into into them<font color="#E5E5E5"> and it's quite cool</font>

191
00:06:39,000 --> 00:06:44,130
<font color="#CCCCCC">so um because all our dependencies</font><font color="#E5E5E5"> our</font>

192
00:06:42,570 --> 00:06:45,040
resource graph we<font color="#E5E5E5"> can actually use graph</font>

193
00:06:44,130 --> 00:06:48,700
theory<font color="#E5E5E5"> and do all</font><font color="#CCCCCC"> sorts</font>

194
00:06:45,040 --> 00:06:49,690
cool stuff<font color="#E5E5E5"> to make the</font><font color="#CCCCCC"> graph safer so if</font>

195
00:06:48,700 --> 00:06:51,700
there's anything that we<font color="#CCCCCC"> can do</font>

196
00:06:49,690 --> 00:06:54,340
algorithmically to decide what should

197
00:06:51,700 --> 00:06:55,810
happen<font color="#E5E5E5"> we can so what we actually do is</font>

198
00:06:54,340 --> 00:06:57,789
<font color="#CCCCCC">it actually analyze the graph in real</font>

199
00:06:55,810 --> 00:07:00,610
time and<font color="#CCCCCC"> we can determine if for example</font>

200
00:06:57,790 --> 00:07:02,920
<font color="#E5E5E5">someone is installing a package and a</font>

201
00:07:00,610 --> 00:07:05,020
file on a service<font color="#E5E5E5"> we know that the</font>

202
00:07:02,920 --> 00:07:06,790
service is<font color="#E5E5E5"> going to have to be something</font>

203
00:07:05,020 --> 00:07:08,409
<font color="#CCCCCC">that</font><font color="#E5E5E5"> comes from</font><font color="#CCCCCC"> that particular</font><font color="#E5E5E5"> package</font>

204
00:07:06,790 --> 00:07:10,270
<font color="#E5E5E5">because there's a configuration file</font>

205
00:07:08,410 --> 00:07:12,310
that<font color="#E5E5E5"> says this service comes from that</font>

206
00:07:10,270 --> 00:07:15,340
file<font color="#E5E5E5"> so we will automatically add an</font>

207
00:07:12,310 --> 00:07:17,050
edge between<font color="#CCCCCC"> those two vertices even if</font>

208
00:07:15,340 --> 00:07:18,640
you don't specify it<font color="#E5E5E5"> that guarantees</font>

209
00:07:17,050 --> 00:07:20,410
that the dependency takes place so<font color="#CCCCCC"> that</font>

210
00:07:18,640 --> 00:07:22,690
the graph<font color="#CCCCCC"> one's correctly</font><font color="#E5E5E5"> and we do this</font>

211
00:07:20,410 --> 00:07:25,690
<font color="#E5E5E5">for all sorts</font><font color="#CCCCCC"> of different things</font><font color="#E5E5E5"> so if</font>

212
00:07:22,690 --> 00:07:27,820
you're exactly executing some command<font color="#E5E5E5"> as</font>

213
00:07:25,690 --> 00:07:29,200
a certain<font color="#E5E5E5"> user there's a user resource</font>

214
00:07:27,820 --> 00:07:31,090
that will<font color="#E5E5E5"> make sure</font><font color="#CCCCCC"> that it</font><font color="#E5E5E5"> has to be</font>

215
00:07:29,200 --> 00:07:35,140
<font color="#E5E5E5">installed and set up before run the</font>

216
00:07:31,090 --> 00:07:36,940
command and<font color="#E5E5E5"> so on</font><font color="#CCCCCC"> make</font><font color="#E5E5E5"> sense yes don't</font>

217
00:07:35,140 --> 00:07:38,409
be<font color="#E5E5E5"> shy</font><font color="#CCCCCC"> don't be shy</font><font color="#E5E5E5"> interact with me so</font>

218
00:07:36,940 --> 00:07:39,880
here's a little<font color="#E5E5E5"> graph tricky question</font>

219
00:07:38,410 --> 00:07:43,510
for you so here's a little<font color="#CCCCCC"> graph</font><font color="#E5E5E5"> that</font><font color="#CCCCCC"> I</font>

220
00:07:39,880 --> 00:07:45,219
drew it's not very<font color="#E5E5E5"> pretty</font><font color="#CCCCCC"> but</font><font color="#E5E5E5"> this graph</font>

221
00:07:43,510 --> 00:07:47,590
actually<font color="#E5E5E5"> has an optimization that</font><font color="#CCCCCC"> we</font><font color="#E5E5E5"> can</font>

222
00:07:45,220 --> 00:07:49,390
make so the blue vertices are packages

223
00:07:47,590 --> 00:07:51,070
that we want<font color="#E5E5E5"> to install the two red ones</font>

224
00:07:49,390 --> 00:07:54,370
are file and the green one is<font color="#CCCCCC"> a service</font>

225
00:07:51,070 --> 00:07:57,130
<font color="#CCCCCC">so does anyone know what</font><font color="#E5E5E5"> what we could</font>

226
00:07:54,370 --> 00:07:58,720
do to<font color="#CCCCCC"> improve this graph</font><font color="#E5E5E5"> so if we're</font>

227
00:07:57,130 --> 00:08:00,820
<font color="#E5E5E5">gonna run this graph so</font><font color="#CCCCCC"> running</font><font color="#E5E5E5"> things</font>

228
00:07:58,720 --> 00:08:07,240
in parallel<font color="#E5E5E5"> how could we improve this</font>

229
00:08:00,820 --> 00:08:09,280
<font color="#E5E5E5">graph yeah and what's right yes exactly</font>

230
00:08:07,240 --> 00:08:10,900
<font color="#CCCCCC">so</font><font color="#E5E5E5"> we can</font><font color="#CCCCCC"> actually</font><font color="#E5E5E5"> look at this graph</font><font color="#CCCCCC"> so</font>

231
00:08:09,280 --> 00:08:12,880
the user might<font color="#CCCCCC"> specify this graph as</font>

232
00:08:10,900 --> 00:08:15,880
code and we look at it<font color="#E5E5E5"> and we actually</font>

233
00:08:12,880 --> 00:08:17,200
<font color="#E5E5E5">can rearrange it and completely it looks</font>

234
00:08:15,880 --> 00:08:19,510
like a different<font color="#E5E5E5"> graph but in fact we've</font>

235
00:08:17,200 --> 00:08:21,520
<font color="#CCCCCC">just grouped these blue vertices on top</font>

236
00:08:19,510 --> 00:08:22,930
of each other<font color="#E5E5E5"> because it turns out in a</font>

237
00:08:21,520 --> 00:08:24,460
lot<font color="#CCCCCC"> of software</font><font color="#E5E5E5"> like puppet and stuff</font>

238
00:08:22,930 --> 00:08:25,750
like that and ansible<font color="#E5E5E5"> will install the</font>

239
00:08:24,460 --> 00:08:27,729
first package start up the package

240
00:08:25,750 --> 00:08:29,200
manager<font color="#CCCCCC"> shutdown do the second one and</font>

241
00:08:27,730 --> 00:08:31,210
<font color="#E5E5E5">so</font><font color="#CCCCCC"> on and that</font><font color="#E5E5E5"> wastes a lot of time</font>

242
00:08:29,200 --> 00:08:32,830
<font color="#CCCCCC">because there's overhead</font><font color="#E5E5E5"> of each one so</font>

243
00:08:31,210 --> 00:08:34,598
we actually can analyze the graph and

244
00:08:32,830 --> 00:08:36,220
say we're going<font color="#E5E5E5"> to group these three</font>

245
00:08:34,599 --> 00:08:38,140
things into a single<font color="#E5E5E5"> package install</font>

246
00:08:36,220 --> 00:08:45,270
command<font color="#E5E5E5"> which makes it go way way</font><font color="#CCCCCC"> faster</font>

247
00:08:38,140 --> 00:08:45,270
<font color="#CCCCCC">yes good question yeah me too</font>

248
00:08:46,680 --> 00:08:53,069
yes

249
00:08:47,920 --> 00:08:54,849
<font color="#CCCCCC">oh no</font><font color="#E5E5E5"> that's impossible</font>

250
00:08:53,070 --> 00:08:57,040
yeah that's a really<font color="#E5E5E5"> good question</font>

251
00:08:54,850 --> 00:08:59,260
<font color="#E5E5E5">that's actually that's basically</font>

252
00:08:57,040 --> 00:09:01,120
<font color="#CCCCCC">impossible</font><font color="#E5E5E5"> unless you look it's like</font>

253
00:08:59,260 --> 00:09:03,040
it's a dynamic<font color="#CCCCCC"> thing at</font><font color="#E5E5E5"> run time that</font>

254
00:09:01,120 --> 00:09:05,140
<font color="#CCCCCC">you decide</font><font color="#E5E5E5"> so that's sort of</font><font color="#CCCCCC"> something</font>

255
00:09:03,040 --> 00:09:06,670
<font color="#CCCCCC">you</font><font color="#E5E5E5"> would catch in tests right it's not</font>

256
00:09:05,140 --> 00:09:08,290
something but if you think<font color="#E5E5E5"> that you</font>

257
00:09:06,670 --> 00:09:10,689
could catch it statically then you

258
00:09:08,290 --> 00:09:13,150
should like tell us<font color="#E5E5E5"> but yeah great</font>

259
00:09:10,690 --> 00:09:14,770
question<font color="#E5E5E5"> but we don't do this today</font><font color="#CCCCCC"> but</font>

260
00:09:13,150 --> 00:09:17,890
we do this and the cool<font color="#CCCCCC"> thing is it</font>

261
00:09:14,770 --> 00:09:19,270
makes things<font color="#E5E5E5"> way faster so obviously</font>

262
00:09:17,890 --> 00:09:20,410
this is optional so there's a flag if

263
00:09:19,270 --> 00:09:22,600
you don't want to do<font color="#E5E5E5"> that</font><font color="#CCCCCC"> per</font><font color="#E5E5E5"> resource</font>

264
00:09:20,410 --> 00:09:26,709
it's easy to do that<font color="#CCCCCC"> cool let's see a</font>

265
00:09:22,600 --> 00:09:28,780
<font color="#E5E5E5">demo no</font><font color="#CCCCCC"> want to</font><font color="#E5E5E5"> see a demo all right</font>

266
00:09:26,710 --> 00:09:30,970
come on so let<font color="#E5E5E5"> me just run</font><font color="#CCCCCC"> this</font><font color="#E5E5E5"> I'm</font>

267
00:09:28,780 --> 00:09:33,310
actually just gonna<font color="#E5E5E5"> show you actually</font>

268
00:09:30,970 --> 00:09:35,740
I'm just<font color="#E5E5E5"> in my my password is password</font>

269
00:09:33,310 --> 00:09:38,709
if anyone's<font color="#E5E5E5"> listening</font><font color="#CCCCCC"> I'm just gonna run</font>

270
00:09:35,740 --> 00:09:40,030
the first part of the demo so I<font color="#E5E5E5"> actually</font>

271
00:09:38,710 --> 00:09:41,590
basically<font color="#E5E5E5"> had that graph</font><font color="#CCCCCC"> that</font><font color="#E5E5E5"> I just</font>

272
00:09:40,030 --> 00:09:42,790
showed you it's<font color="#E5E5E5"> not the best demo</font>

273
00:09:41,590 --> 00:09:44,200
because<font color="#E5E5E5"> you can't see what's</font><font color="#CCCCCC"> happening</font>

274
00:09:42,790 --> 00:09:47,170
<font color="#E5E5E5">but</font><font color="#CCCCCC"> basically you can see</font><font color="#E5E5E5"> that the</font>

275
00:09:44,200 --> 00:09:48,730
engine looks<font color="#E5E5E5"> here and it says oh it can</font>

276
00:09:47,170 --> 00:09:50,439
group these two<font color="#E5E5E5"> packages</font><font color="#CCCCCC"> together and</font>

277
00:09:48,730 --> 00:09:52,270
then in group these<font color="#E5E5E5"> two together so it</font>

278
00:09:50,440 --> 00:09:53,860
<font color="#CCCCCC">actually does</font><font color="#E5E5E5"> like an iterative thing</font>

279
00:09:52,270 --> 00:09:55,960
where it takes two groups them together

280
00:09:53,860 --> 00:09:57,430
then it takes those<font color="#CCCCCC"> two</font><font color="#E5E5E5"> and groups those</font>

281
00:09:55,960 --> 00:09:59,430
groups those<font color="#CCCCCC"> two another</font><font color="#E5E5E5"> one and so on</font>

282
00:09:57,430 --> 00:10:02,680
<font color="#CCCCCC">and we can</font><font color="#E5E5E5"> check</font><font color="#CCCCCC"> that this</font><font color="#E5E5E5"> all works</font>

283
00:09:59,430 --> 00:10:04,839
let's say hey<font color="#CCCCCC"> cows a is working which is</font>

284
00:10:02,680 --> 00:10:08,800
excellent<font color="#E5E5E5"> and you can even like have</font><font color="#CCCCCC"> fun</font>

285
00:10:04,840 --> 00:10:13,120
with cows a doing like cows a<font color="#E5E5E5"> cow say</font>

286
00:10:08,800 --> 00:10:15,099
and like<font color="#E5E5E5"> on and on forever</font>

287
00:10:13,120 --> 00:10:16,480
and we can't do this<font color="#E5E5E5"> anymore because the</font>

288
00:10:15,100 --> 00:10:18,760
cow<font color="#E5E5E5"> people are gonna be angry</font>

289
00:10:16,480 --> 00:10:20,920
so moving on<font color="#E5E5E5"> let's talk</font><font color="#CCCCCC"> a little</font><font color="#E5E5E5"> bit</font>

290
00:10:18,760 --> 00:10:22,510
about the<font color="#CCCCCC"> language so the language</font><font color="#E5E5E5"> is</font>

291
00:10:20,920 --> 00:10:23,979
the thing<font color="#CCCCCC"> that feeds into the</font><font color="#E5E5E5"> engine and</font>

292
00:10:22,510 --> 00:10:26,470
the language is very special<font color="#E5E5E5"> because it</font>

293
00:10:23,980 --> 00:10:29,560
allows<font color="#CCCCCC"> us to declare</font><font color="#E5E5E5"> the state of our</font>

294
00:10:26,470 --> 00:10:31,390
<font color="#E5E5E5">infrastructure in real time in the olden</font>

295
00:10:29,560 --> 00:10:33,040
days in the puppet<font color="#E5E5E5"> days people basically</font>

296
00:10:31,390 --> 00:10:35,350
<font color="#CCCCCC">assumed that</font><font color="#E5E5E5"> all our servers were static</font>

297
00:10:33,040 --> 00:10:36,610
<font color="#E5E5E5">you set up the servers and this is the</font>

298
00:10:35,350 --> 00:10:38,500
<font color="#E5E5E5">database server</font><font color="#CCCCCC"> and this</font><font color="#E5E5E5"> is that server</font>

299
00:10:36,610 --> 00:10:41,890
<font color="#E5E5E5">and</font><font color="#CCCCCC"> everything stays the same</font><font color="#E5E5E5"> but in</font>

300
00:10:38,500 --> 00:10:43,120
fact this<font color="#E5E5E5"> is</font><font color="#CCCCCC"> not real</font><font color="#E5E5E5"> life load changes</font>

301
00:10:41,890 --> 00:10:45,910
<font color="#E5E5E5">all the time we want</font><font color="#CCCCCC"> to shift things</font>

302
00:10:43,120 --> 00:10:47,650
around<font color="#E5E5E5"> failures happen we need dynamic</font>

303
00:10:45,910 --> 00:10:49,990
<font color="#E5E5E5">infrastructure and so I've built this</font>

304
00:10:47,650 --> 00:10:53,380
special<font color="#E5E5E5"> language which uses graphs</font>

305
00:10:49,990 --> 00:10:55,089
<font color="#CCCCCC">intent</font><font color="#E5E5E5"> for shadowing which uses graphs</font>

306
00:10:53,380 --> 00:10:56,650
to actually<font color="#E5E5E5"> describe this over time and</font>

307
00:10:55,089 --> 00:10:57,939
I'm<font color="#E5E5E5"> gonna show you about this so this is</font>

308
00:10:56,650 --> 00:10:59,559
<font color="#E5E5E5">sort of the idea we want this</font>

309
00:10:57,939 --> 00:11:01,029
powerful language<font color="#E5E5E5"> but also</font><font color="#CCCCCC"> something</font>

310
00:10:59,559 --> 00:11:04,209
<font color="#CCCCCC">that's</font><font color="#E5E5E5"> very safe yeah</font>

311
00:11:01,029 --> 00:11:07,569
does anyone know what a<font color="#CCCCCC"> dsl is yes what</font>

312
00:11:04,209 --> 00:11:08,709
does<font color="#E5E5E5"> the DSL if you don't know yeah so</font>

313
00:11:07,569 --> 00:11:10,868
it's not<font color="#CCCCCC"> a general-purpose</font><font color="#E5E5E5"> programming</font>

314
00:11:08,709 --> 00:11:12,549
language you can't use this to like do

315
00:11:10,869 --> 00:11:14,649
some fun<font color="#E5E5E5"> stuff it's just a very specific</font>

316
00:11:12,549 --> 00:11:17,169
domain-specific language<font color="#E5E5E5"> that's useful</font>

317
00:11:14,649 --> 00:11:18,519
<font color="#E5E5E5">just for</font><font color="#CCCCCC"> this infrastructure problem it</font>

318
00:11:17,169 --> 00:11:20,589
has some cool properties it's very safe

319
00:11:18,519 --> 00:11:22,359
<font color="#E5E5E5">language</font><font color="#CCCCCC"> very</font><font color="#E5E5E5"> powerful which you'll see</font>

320
00:11:20,589 --> 00:11:23,619
<font color="#E5E5E5">and it's easy to reason about because</font>

321
00:11:22,359 --> 00:11:26,049
you want<font color="#E5E5E5"> to write a small amount of code</font>

322
00:11:23,619 --> 00:11:26,949
<font color="#CCCCCC">it does lots of amazing stuff</font><font color="#E5E5E5"> so here's</font>

323
00:11:26,049 --> 00:11:34,139
the<font color="#E5E5E5"> demo</font><font color="#CCCCCC"> that I'm</font><font color="#E5E5E5"> going</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> show you</font>

324
00:11:26,949 --> 00:11:36,639
she's gonna run this<font color="#CCCCCC"> over here oops I</font>

325
00:11:34,139 --> 00:11:39,220
think<font color="#E5E5E5"> this one so I'm gonna run it on</font>

326
00:11:36,639 --> 00:11:40,629
the left<font color="#E5E5E5"> and here's what's happening</font>

327
00:11:39,220 --> 00:11:42,339
<font color="#E5E5E5">okay</font><font color="#CCCCCC"> so try and follow</font><font color="#E5E5E5"> this code a</font>

328
00:11:40,629 --> 00:11:45,419
little<font color="#E5E5E5"> bit over here</font><font color="#CCCCCC"> I have this date</font>

329
00:11:42,339 --> 00:11:48,069
time function and I'm adding it to

330
00:11:45,419 --> 00:11:50,470
whatever this variable is but wait the

331
00:11:48,069 --> 00:11:52,628
<font color="#E5E5E5">variables down here which is the product</font>

332
00:11:50,470 --> 00:11:54,999
<font color="#CCCCCC">of</font><font color="#E5E5E5"> all these numbers</font><font color="#CCCCCC"> and then this</font>

333
00:11:52,629 --> 00:11:57,129
variable<font color="#E5E5E5"> goes into this value over here</font>

334
00:11:54,999 --> 00:11:58,689
<font color="#CCCCCC">and then down</font><font color="#E5E5E5"> here I have this load</font>

335
00:11:57,129 --> 00:12:00,549
function<font color="#E5E5E5"> which is just</font><font color="#CCCCCC"> getting</font><font color="#E5E5E5"> stored in</font>

336
00:11:58,689 --> 00:12:02,969
a variable<font color="#E5E5E5"> and also put into there and</font>

337
00:12:00,549 --> 00:12:05,259
then whatever this function<font color="#CCCCCC"> produces</font><font color="#E5E5E5"> and</font>

338
00:12:02,970 --> 00:12:07,479
then I group all these things to have

339
00:12:05,259 --> 00:12:11,429
into a big string and I put it into<font color="#E5E5E5"> the</font>

340
00:12:07,479 --> 00:12:17,019
<font color="#E5E5E5">file so what's confusing about</font><font color="#CCCCCC"> this</font>

341
00:12:11,429 --> 00:12:20,409
everything<font color="#CCCCCC"> what what louder dollar signs</font>

342
00:12:17,019 --> 00:12:22,529
<font color="#CCCCCC">are</font><font color="#E5E5E5"> all right I found the</font><font color="#CCCCCC"> Perl user what</font>

343
00:12:20,409 --> 00:12:24,489
else<font color="#E5E5E5"> what</font><font color="#CCCCCC"> else is confusing about this</font>

344
00:12:22,529 --> 00:12:25,569
let's actually run the code let's

345
00:12:24,489 --> 00:12:27,399
actually see it<font color="#E5E5E5"> running and we'll come</font>

346
00:12:25,569 --> 00:12:27,819
back<font color="#CCCCCC"> to this example so it's running</font><font color="#E5E5E5"> on</font>

347
00:12:27,399 --> 00:12:30,069
the<font color="#CCCCCC"> left</font>

348
00:12:27,819 --> 00:12:31,809
<font color="#E5E5E5">MGMT is running and what</font><font color="#CCCCCC"> i've</font><font color="#E5E5E5"> told it to</font>

349
00:12:30,069 --> 00:12:33,309
do is remember<font color="#E5E5E5"> just to make a file with</font>

350
00:12:31,809 --> 00:12:35,319
all<font color="#E5E5E5"> this output of all this stuff and</font>

351
00:12:33,309 --> 00:12:36,488
<font color="#CCCCCC">just to show</font><font color="#E5E5E5"> you what's happening</font><font color="#CCCCCC"> watch</font>

352
00:12:35,319 --> 00:12:38,378
is<font color="#CCCCCC"> just a</font><font color="#E5E5E5"> command that I showed you</font>

353
00:12:36,489 --> 00:12:40,029
<font color="#CCCCCC">before</font><font color="#E5E5E5"> it just runs some program over</font>

354
00:12:38,379 --> 00:12:42,639
and over again<font color="#E5E5E5"> and I'm just gonna cat</font>

355
00:12:40,029 --> 00:12:44,949
the contents<font color="#E5E5E5"> of that file so you can</font>

356
00:12:42,639 --> 00:12:47,049
just see in real time what MGMT is doing

357
00:12:44,949 --> 00:12:48,868
to that<font color="#E5E5E5"> text file and if you look look</font>

358
00:12:47,049 --> 00:12:51,519
<font color="#E5E5E5">this number is going up every second</font>

359
00:12:48,869 --> 00:12:53,049
it's doing that computation and it's

360
00:12:51,519 --> 00:12:54,999
printing<font color="#E5E5E5"> out a date that's going up</font>

361
00:12:53,049 --> 00:12:56,949
<font color="#E5E5E5">every second you can see this load value</font>

362
00:12:54,999 --> 00:12:59,289
which is the system load which the

363
00:12:56,949 --> 00:13:01,029
kernel recalculates every<font color="#CCCCCC"> 5 seconds</font><font color="#E5E5E5"> is</font>

364
00:12:59,289 --> 00:13:02,319
going<font color="#E5E5E5"> in there and there's something</font>

365
00:13:01,029 --> 00:13:04,629
weird going on here<font color="#CCCCCC"> so what actually</font>

366
00:13:02,319 --> 00:13:06,189
happening<font color="#E5E5E5"> is</font><font color="#CCCCCC"> all these functions</font><font color="#E5E5E5"> this is</font>

367
00:13:04,629 --> 00:13:08,169
<font color="#CCCCCC">called a reactive programming language</font>

368
00:13:06,189 --> 00:13:11,049
these don't produce<font color="#E5E5E5"> single values they</font>

369
00:13:08,169 --> 00:13:11,660
<font color="#E5E5E5">produce streams of values and every time</font>

370
00:13:11,049 --> 00:13:13,250
<font color="#CCCCCC">the data</font>

371
00:13:11,660 --> 00:13:15,380
independently<font color="#E5E5E5"> that there's a new value</font>

372
00:13:13,250 --> 00:13:17,600
it'll recompute<font color="#E5E5E5"> just the parts that need</font>

373
00:13:15,380 --> 00:13:18,920
<font color="#E5E5E5">to be recomputed</font><font color="#CCCCCC"> and then feed those</font>

374
00:13:17,600 --> 00:13:21,590
into<font color="#E5E5E5"> those new values</font><font color="#CCCCCC"> which get</font>

375
00:13:18,920 --> 00:13:23,270
recomputed and so on<font color="#E5E5E5"> ultimately this</font>

376
00:13:21,590 --> 00:13:26,090
string at the<font color="#E5E5E5"> bottom that</font><font color="#CCCCCC"> is the</font><font color="#E5E5E5"> file</font>

377
00:13:23,270 --> 00:13:28,100
contents gets recomputed<font color="#E5E5E5"> and then MGMT</font>

378
00:13:26,090 --> 00:13:29,630
says oh<font color="#CCCCCC"> I'm reactive put this in the</font>

379
00:13:28,100 --> 00:13:31,760
file<font color="#E5E5E5"> and it happens to be doing</font><font color="#CCCCCC"> this</font>

380
00:13:29,630 --> 00:13:34,220
<font color="#E5E5E5">constantly</font><font color="#CCCCCC"> in</font><font color="#E5E5E5"> this case about every</font>

381
00:13:31,760 --> 00:13:37,130
second because the<font color="#CCCCCC"> date/time changes</font>

382
00:13:34,220 --> 00:13:39,140
every second<font color="#E5E5E5"> that makes sense and that's</font>

383
00:13:37,130 --> 00:13:40,520
<font color="#E5E5E5">what we're seeing</font><font color="#CCCCCC"> here in fact just to</font>

384
00:13:39,140 --> 00:13:42,230
show you you<font color="#E5E5E5"> can use any sort of data</font>

385
00:13:40,520 --> 00:13:44,780
source you want<font color="#CCCCCC"> I even</font><font color="#E5E5E5"> wrote a function</font>

386
00:13:42,230 --> 00:13:46,250
<font color="#E5E5E5">this vu meter function and what this is</font>

387
00:13:44,780 --> 00:13:48,620
<font color="#CCCCCC">actually doing is actually</font><font color="#E5E5E5"> listening to</font>

388
00:13:46,250 --> 00:13:51,740
<font color="#CCCCCC">my</font><font color="#E5E5E5"> actual microphone right now if you</font>

389
00:13:48,620 --> 00:13:54,800
see<font color="#E5E5E5"> if I make noise</font><font color="#CCCCCC"> you see it it goes</font>

390
00:13:51,740 --> 00:13:55,970
up<font color="#E5E5E5"> so you can actually use this</font><font color="#CCCCCC"> to model</font>

391
00:13:54,800 --> 00:13:57,439
<font color="#CCCCCC">real-life things so if we're really</font>

392
00:13:55,970 --> 00:14:00,640
<font color="#CCCCCC">quiet and then I point to</font><font color="#E5E5E5"> you're gonna</font>

393
00:13:57,440 --> 00:14:00,640
<font color="#E5E5E5">make some</font><font color="#CCCCCC"> noise let's see if it works</font>

394
00:14:02,560 --> 00:14:06,949
come on you can every<font color="#E5E5E5"> other talk I've</font>

395
00:14:05,030 --> 00:14:12,589
given<font color="#E5E5E5"> in made the thing peak you want to</font>

396
00:14:06,950 --> 00:14:14,690
try<font color="#CCCCCC"> again</font><font color="#E5E5E5"> okay yeah all</font><font color="#CCCCCC"> right good job</font>

397
00:14:12,590 --> 00:14:16,250
<font color="#E5E5E5">so um why is this useful</font>

398
00:14:14,690 --> 00:14:17,660
<font color="#E5E5E5">the reason this could be useful</font><font color="#CCCCCC"> this is</font>

399
00:14:16,250 --> 00:14:19,520
<font color="#E5E5E5">kind of a joke example that's</font><font color="#CCCCCC"> what I</font>

400
00:14:17,660 --> 00:14:21,290
like to<font color="#CCCCCC"> show it is imagine your</font>

401
00:14:19,520 --> 00:14:23,300
<font color="#E5E5E5">infrastructure in your server room</font><font color="#CCCCCC"> you</font>

402
00:14:21,290 --> 00:14:24,560
have a bunch of microphones and in the

403
00:14:23,300 --> 00:14:26,270
office if you hear a<font color="#E5E5E5"> lot of screaming</font>

404
00:14:24,560 --> 00:14:27,890
and loud noises<font color="#CCCCCC"> there might be a fight</font>

405
00:14:26,270 --> 00:14:29,900
so<font color="#E5E5E5"> you automatically set all your</font>

406
00:14:27,890 --> 00:14:33,680
infrastructure<font color="#E5E5E5"> read-only for an hour and</font>

407
00:14:29,900 --> 00:14:34,880
then nothing bad happens but anyways we

408
00:14:33,680 --> 00:14:36,380
<font color="#CCCCCC">got to talk about graph theory</font><font color="#E5E5E5"> or the</font>

409
00:14:34,880 --> 00:14:37,850
<font color="#E5E5E5">organizers can be very mad so what's</font>

410
00:14:36,380 --> 00:14:39,620
<font color="#E5E5E5">interesting about this code</font><font color="#CCCCCC"> what's</font><font color="#E5E5E5"> weird</font>

411
00:14:37,850 --> 00:14:41,780
about<font color="#E5E5E5"> this code apart from</font><font color="#CCCCCC"> another</font>

412
00:14:39,620 --> 00:14:43,190
<font color="#E5E5E5">reactive stuff anything weird like if</font>

413
00:14:41,780 --> 00:14:49,790
you wrote this code would<font color="#E5E5E5"> someone be</font><font color="#CCCCCC"> mad</font>

414
00:14:43,190 --> 00:14:53,180
at you<font color="#CCCCCC"> and</font><font color="#E5E5E5"> why yeah it doesn't</font><font color="#CCCCCC"> win on</font>

415
00:14:49,790 --> 00:14:54,650
doesn't work on what<font color="#CCCCCC"> sorry</font><font color="#E5E5E5"> I can't on</font>

416
00:14:53,180 --> 00:14:56,540
<font color="#E5E5E5">the leap here that's a good</font><font color="#CCCCCC"> point yeah</font>

417
00:14:54,650 --> 00:14:58,850
<font color="#CCCCCC">so</font><font color="#E5E5E5"> this</font><font color="#CCCCCC"> is</font><font color="#E5E5E5"> not date time safe but it's</font>

418
00:14:56,540 --> 00:15:01,339
<font color="#E5E5E5">just for fun date monotonic is coming in</font>

419
00:14:58,850 --> 00:15:04,310
the next version<font color="#E5E5E5"> so any other question</font>

420
00:15:01,340 --> 00:15:06,290
any other ideas so it's super out of

421
00:15:04,310 --> 00:15:08,180
order<font color="#E5E5E5"> right so like if you look like</font>

422
00:15:06,290 --> 00:15:09,800
<font color="#E5E5E5">this</font><font color="#CCCCCC"> is down here</font><font color="#E5E5E5"> but then that's not</font>

423
00:15:08,180 --> 00:15:11,510
even<font color="#E5E5E5"> defined and that's one of the weird</font>

424
00:15:09,800 --> 00:15:13,699
things<font color="#E5E5E5"> about our language the language</font>

425
00:15:11,510 --> 00:15:16,460
itself the flow<font color="#CCCCCC"> of data</font><font color="#E5E5E5"> is actually also</font>

426
00:15:13,700 --> 00:15:18,230
a dag<font color="#E5E5E5"> so you could and we actually allow</font>

427
00:15:16,460 --> 00:15:20,450
<font color="#E5E5E5">this in the compiler</font><font color="#CCCCCC"> you can write it</font>

428
00:15:18,230 --> 00:15:22,339
out<font color="#E5E5E5"> of order</font><font color="#CCCCCC"> and it does work</font><font color="#E5E5E5"> if you do</font>

429
00:15:20,450 --> 00:15:23,660
<font color="#E5E5E5">this in terms of readability you're a</font>

430
00:15:22,339 --> 00:15:24,780
bad programmer and<font color="#E5E5E5"> you should be ashamed</font>

431
00:15:23,660 --> 00:15:26,819
of yourself because

432
00:15:24,780 --> 00:15:28,350
there is the topological<font color="#E5E5E5"> sort of code</font>

433
00:15:26,820 --> 00:15:30,330
<font color="#CCCCCC">that</font><font color="#E5E5E5"> you should write when you're</font>

434
00:15:28,350 --> 00:15:31,860
<font color="#CCCCCC">writing</font><font color="#E5E5E5"> the code but it actually does</font>

435
00:15:30,330 --> 00:15:32,370
<font color="#E5E5E5">allow</font><font color="#CCCCCC"> it</font><font color="#E5E5E5"> because it's actually a real</font>

436
00:15:31,860 --> 00:15:34,140
graph

437
00:15:32,370 --> 00:15:37,410
it's a dag<font color="#E5E5E5"> we actually is the same graph</font>

438
00:15:34,140 --> 00:15:39,930
library<font color="#E5E5E5"> is also definitely a dag</font><font color="#CCCCCC"> and so</font>

439
00:15:37,410 --> 00:15:41,490
remember all the way the compiler

440
00:15:39,930 --> 00:15:43,709
actually<font color="#E5E5E5"> works is after</font><font color="#CCCCCC"> alexa's and</font>

441
00:15:41,490 --> 00:15:47,100
parses it<font color="#E5E5E5"> goes through and it produces</font>

442
00:15:43,710 --> 00:15:48,540
an actual graph and then they're

443
00:15:47,100 --> 00:15:52,110
actually<font color="#CCCCCC"> just before</font><font color="#E5E5E5"> that it's</font><font color="#CCCCCC"> type</font>

444
00:15:48,540 --> 00:15:53,610
<font color="#CCCCCC">check it's a type unifix are unified</font><font color="#E5E5E5"> and</font>

445
00:15:52,110 --> 00:15:55,560
then the graph<font color="#E5E5E5"> actually has</font><font color="#CCCCCC"> very</font>

446
00:15:53,610 --> 00:15:57,990
specific<font color="#E5E5E5"> types so</font><font color="#CCCCCC"> you know statically</font>

447
00:15:55,560 --> 00:16:00,089
that this vertex<font color="#CCCCCC"> produces a string that</font>

448
00:15:57,990 --> 00:16:01,890
<font color="#CCCCCC">goes to this other vertex</font><font color="#E5E5E5"> that consumes</font>

449
00:16:00,090 --> 00:16:05,550
<font color="#E5E5E5">the string and so on and just factoring</font>

450
00:16:01,890 --> 00:16:09,330
that cool yeah so<font color="#CCCCCC"> don't write it</font><font color="#E5E5E5"> was a</font>

451
00:16:05,550 --> 00:16:11,250
clap you could pop what<font color="#CCCCCC"> oh yeah I can</font><font color="#E5E5E5"> um</font>

452
00:16:09,330 --> 00:16:13,350
<font color="#CCCCCC">I don't want to do that</font><font color="#E5E5E5"> right</font><font color="#CCCCCC"> now</font>

453
00:16:11,250 --> 00:16:15,480
but I guess they're huge so everything

454
00:16:13,350 --> 00:16:16,500
basically<font color="#E5E5E5"> has like</font><font color="#CCCCCC"> you drop</font><font color="#E5E5E5"> I should</font>

455
00:16:15,480 --> 00:16:17,910
have actually<font color="#E5E5E5"> showed the graph I don't</font>

456
00:16:16,500 --> 00:16:20,250
know<font color="#CCCCCC"> I</font><font color="#E5E5E5"> I didn't so this is graph number</font>

457
00:16:17,910 --> 00:16:22,709
<font color="#CCCCCC">two don't know tale of three graphs</font><font color="#E5E5E5"> you</font>

458
00:16:20,250 --> 00:16:25,170
want to hear about the third graph<font color="#E5E5E5"> want</font>

459
00:16:22,710 --> 00:16:28,500
to see more demos more demos or more

460
00:16:25,170 --> 00:16:29,610
graph theory demos<font color="#CCCCCC"> okay</font><font color="#E5E5E5"> we're going</font><font color="#CCCCCC"> to</font>

461
00:16:28,500 --> 00:16:31,080
<font color="#CCCCCC">show you just a quick</font><font color="#E5E5E5"> thing we're doing</font>

462
00:16:29,610 --> 00:16:33,420
<font color="#CCCCCC">with this graph to this kind of fun</font>

463
00:16:31,080 --> 00:16:36,660
so because everything goes over time so

464
00:16:33,420 --> 00:16:39,000
here's our<font color="#E5E5E5"> daytime function again we</font>

465
00:16:36,660 --> 00:16:41,219
<font color="#E5E5E5">actually can store a value like this DT</font>

466
00:16:39,000 --> 00:16:42,720
equals whatever<font color="#CCCCCC"> date time produces but</font>

467
00:16:41,220 --> 00:16:45,600
then each variable allows us to actually

468
00:16:42,720 --> 00:16:47,520
look<font color="#E5E5E5"> back in the previous value or the</font>

469
00:16:45,600 --> 00:16:49,380
<font color="#E5E5E5">previous value before that and so on and</font>

470
00:16:47,520 --> 00:16:51,390
actually<font color="#E5E5E5"> make determinations about past</font>

471
00:16:49,380 --> 00:16:55,790
values<font color="#E5E5E5"> as well and so just as a quick</font>

472
00:16:51,390 --> 00:16:58,050
<font color="#CCCCCC">example</font><font color="#E5E5E5"> of this if I</font><font color="#CCCCCC"> just run this here</font>

473
00:16:55,790 --> 00:16:59,640
just go here same<font color="#CCCCCC"> thing I'm just</font>

474
00:16:58,050 --> 00:17:06,359
<font color="#E5E5E5">outputting to a file because it's easy</font>

475
00:16:59,640 --> 00:17:08,430
<font color="#E5E5E5">to visualize oops</font><font color="#CCCCCC"> there we go</font>

476
00:17:06,359 --> 00:17:10,319
so we're just running<font color="#CCCCCC"> this program and</font>

477
00:17:08,430 --> 00:17:12,420
printing out the values so this<font color="#E5E5E5"> is the</font>

478
00:17:10,319 --> 00:17:14,699
<font color="#E5E5E5">current day time value you can see the</font>

479
00:17:12,420 --> 00:17:16,579
time a second ago a second ago<font color="#E5E5E5"> a second</font>

480
00:17:14,699 --> 00:17:22,189
ago and<font color="#E5E5E5"> that's really quite useful</font>

481
00:17:16,579 --> 00:17:24,688
<font color="#E5E5E5">does anyone know why was laughter what</font>

482
00:17:22,189 --> 00:17:29,780
yeah so let's<font color="#CCCCCC"> be more specific</font>

483
00:17:24,689 --> 00:17:29,780
<font color="#E5E5E5">mm-hmm what can we do with this</font>

484
00:17:30,930 --> 00:17:35,860
so good<font color="#CCCCCC"> question</font><font color="#E5E5E5"> so I'll show you a</font>

485
00:17:34,090 --> 00:17:37,600
<font color="#E5E5E5">little example so this is a picture</font><font color="#CCCCCC"> that</font>

486
00:17:35,860 --> 00:17:39,540
<font color="#CCCCCC">I</font><font color="#E5E5E5"> took with my parents crappy phone from</font>

487
00:17:37,600 --> 00:17:42,280
my house<font color="#E5E5E5"> what is it</font>

488
00:17:39,540 --> 00:17:44,590
it's a thermostat with the natural

489
00:17:42,280 --> 00:17:46,090
Canadian units of<font color="#E5E5E5"> Celsius the world</font>

490
00:17:44,590 --> 00:17:47,830
units that everyone uses<font color="#CCCCCC"> I have a</font>

491
00:17:46,090 --> 00:17:49,120
clearer photo which is<font color="#E5E5E5"> unfortunately in</font>

492
00:17:47,830 --> 00:17:51,129
some sort of weird<font color="#E5E5E5"> units and I can't</font>

493
00:17:49,120 --> 00:17:52,600
figure<font color="#E5E5E5"> out what they are because no one</font>

494
00:17:51,130 --> 00:17:55,390
would possibly want<font color="#E5E5E5"> their house at 70</font>

495
00:17:52,600 --> 00:17:58,750
Celsius<font color="#CCCCCC"> but this is the thermostat and</font>

496
00:17:55,390 --> 00:18:00,400
what<font color="#E5E5E5"> yeah it's a sauna actually someone</font>

497
00:17:58,750 --> 00:18:02,350
made<font color="#CCCCCC"> that joke already I make the</font><font color="#E5E5E5"> jokes</font>

498
00:18:00,400 --> 00:18:05,710
here<font color="#CCCCCC"> I will find you</font>

499
00:18:02,350 --> 00:18:06,760
only my jokes<font color="#E5E5E5"> are a lot yeah so um these</font>

500
00:18:05,710 --> 00:18:07,780
things have<font color="#E5E5E5"> a very</font><font color="#CCCCCC"> interesting</font>

501
00:18:06,760 --> 00:18:10,110
properties anyone know what that<font color="#CCCCCC"> is</font>

502
00:18:07,780 --> 00:18:13,389
<font color="#E5E5E5">besides keeping your house warm</font>

503
00:18:10,110 --> 00:18:15,550
yeah hysteresis you saw my talk you're

504
00:18:13,390 --> 00:18:17,170
<font color="#E5E5E5">just a</font><font color="#CCCCCC"> brilliant scientist so</font><font color="#E5E5E5"> its</font>

505
00:18:15,550 --> 00:18:21,280
hysteresis definitely<font color="#E5E5E5"> and what</font>

506
00:18:17,170 --> 00:18:23,710
hysteresis is is basically if you had a

507
00:18:21,280 --> 00:18:25,570
thermostat when it<font color="#E5E5E5"> got to 20 it switched</font>

508
00:18:23,710 --> 00:18:27,520
off right<font color="#CCCCCC"> away</font><font color="#E5E5E5"> and then dropped like</font>

509
00:18:25,570 --> 00:18:29,590
<font color="#CCCCCC">zero point 100 degree</font><font color="#E5E5E5"> and switched back</font>

510
00:18:27,520 --> 00:18:32,050
on<font color="#E5E5E5"> and then heat</font><font color="#CCCCCC"> it up</font><font color="#E5E5E5"> and it would</font><font color="#CCCCCC"> just</font>

511
00:18:29,590 --> 00:18:33,639
flat<font color="#CCCCCC"> vary on vary on that</font><font color="#E5E5E5"> it would flap</font>

512
00:18:32,050 --> 00:18:34,840
on and off very<font color="#CCCCCC"> quickly tick tick tick</font>

513
00:18:33,640 --> 00:18:36,250
tick tick<font color="#CCCCCC"> and it would</font><font color="#E5E5E5"> break</font><font color="#CCCCCC"> your</font>

514
00:18:34,840 --> 00:18:38,320
heating system<font color="#CCCCCC"> or</font><font color="#E5E5E5"> at least annoy you</font>

515
00:18:36,250 --> 00:18:39,550
with all the clicking so in<font color="#E5E5E5"> fact there's</font>

516
00:18:38,320 --> 00:18:41,500
<font color="#E5E5E5">this property called hysteresis</font><font color="#CCCCCC"> that</font>

517
00:18:39,550 --> 00:18:43,690
allows you to hit a<font color="#E5E5E5"> threshold and then</font>

518
00:18:41,500 --> 00:18:46,030
descend past that threshold by<font color="#E5E5E5"> a certain</font>

519
00:18:43,690 --> 00:18:48,070
amount<font color="#CCCCCC"> either</font><font color="#E5E5E5"> in time</font><font color="#CCCCCC"> or in</font><font color="#E5E5E5"> distance</font>

520
00:18:46,030 --> 00:18:49,750
<font color="#E5E5E5">before you go back up and turn it on and</font>

521
00:18:48,070 --> 00:18:52,750
so I mean actually show you a demo of

522
00:18:49,750 --> 00:18:55,990
<font color="#E5E5E5">this if</font><font color="#CCCCCC"> you'd like once you demo come on</font>

523
00:18:52,750 --> 00:18:58,570
<font color="#E5E5E5">do I see</font><font color="#CCCCCC"> a demo you are</font><font color="#E5E5E5"> shy who are the</font>

524
00:18:55,990 --> 00:19:00,780
shy ones again<font color="#CCCCCC"> alright</font><font color="#E5E5E5"> excellent</font><font color="#CCCCCC"> so I'm</font>

525
00:18:58,570 --> 00:19:04,720
just gonna run this demo on the left and

526
00:19:00,780 --> 00:19:05,980
I'm<font color="#E5E5E5"> just gonna show</font><font color="#CCCCCC"> you here</font><font color="#E5E5E5"> so what I'm</font>

527
00:19:04,720 --> 00:19:07,780
doing<font color="#CCCCCC"> I'm running just again a watch</font>

528
00:19:05,980 --> 00:19:10,360
command that's<font color="#E5E5E5"> gonna print</font><font color="#CCCCCC"> out this text</font>

529
00:19:07,780 --> 00:19:12,730
<font color="#E5E5E5">file and then I'm gonna run the verse</font>

530
00:19:10,360 --> 00:19:14,709
list command which just<font color="#CCCCCC"> shows what</font><font color="#E5E5E5"> VM is</font>

531
00:19:12,730 --> 00:19:16,600
<font color="#E5E5E5">running on my system so</font><font color="#CCCCCC"> by</font><font color="#E5E5E5"> running this</font>

532
00:19:14,710 --> 00:19:19,090
code on the<font color="#E5E5E5"> left</font><font color="#CCCCCC"> it</font><font color="#E5E5E5"> actually started up</font>

533
00:19:16,600 --> 00:19:21,370
<font color="#CCCCCC">two VMs and you can see the</font><font color="#E5E5E5"> current</font>

534
00:19:19,090 --> 00:19:22,899
system load and a threshold<font color="#E5E5E5"> and what</font>

535
00:19:21,370 --> 00:19:25,929
I've programmed it to do is I've said

536
00:19:22,900 --> 00:19:28,330
when the threshold<font color="#E5E5E5"> hits 1.5 you're gonna</font>

537
00:19:25,930 --> 00:19:30,400
<font color="#CCCCCC">actually shut down one</font><font color="#E5E5E5"> of the two</font>

538
00:19:28,330 --> 00:19:33,909
machines<font color="#CCCCCC"> basically</font><font color="#E5E5E5"> to move that machine</font>

539
00:19:30,400 --> 00:19:36,820
to<font color="#E5E5E5"> another host somewhere and I've also</font>

540
00:19:33,910 --> 00:19:40,750
<font color="#E5E5E5">added some hysteresis</font><font color="#CCCCCC"> so</font><font color="#E5E5E5"> 10 seconds with</font>

541
00:19:36,820 --> 00:19:41,889
so after it goes below 1.5 it's not

542
00:19:40,750 --> 00:19:45,190
going to turn the<font color="#E5E5E5"> machine</font>

543
00:19:41,890 --> 00:19:46,930
back on<font color="#E5E5E5"> until it's been below 1.5 for 10</font>

544
00:19:45,190 --> 00:19:49,000
seconds and<font color="#E5E5E5"> then it's gonna reschedule</font>

545
00:19:46,930 --> 00:19:50,410
it back on the machine<font color="#CCCCCC"> so I'm just gonna</font>

546
00:19:49,000 --> 00:19:52,420
<font color="#E5E5E5">like basically if you have a lot of</font>

547
00:19:50,410 --> 00:19:54,670
computations going on<font color="#CCCCCC"> you have</font><font color="#E5E5E5"> some</font>

548
00:19:52,420 --> 00:19:57,820
noisy neighbor stuff like that<font color="#CCCCCC"> this is</font>

549
00:19:54,670 --> 00:19:59,020
something that<font color="#CCCCCC"> you</font><font color="#E5E5E5"> might run to say</font><font color="#CCCCCC"> okay</font>

550
00:19:57,820 --> 00:20:00,520
there's too much load on<font color="#E5E5E5"> this</font><font color="#CCCCCC"> machine</font>

551
00:19:59,020 --> 00:20:05,110
we're gonna split it across more

552
00:20:00,520 --> 00:20:06,460
machines<font color="#E5E5E5"> so it's getting higher up</font><font color="#CCCCCC"> pour</font>

553
00:20:05,110 --> 00:20:08,770
a<font color="#E5E5E5"> little laptop you can see a super</font>

554
00:20:06,460 --> 00:20:16,480
ghetto and I'm<font color="#E5E5E5"> just gonna heat it</font><font color="#CCCCCC"> up</font>

555
00:20:08,770 --> 00:20:17,050
like crazy sort<font color="#E5E5E5"> of create</font><font color="#CCCCCC"> more load out</font>

556
00:20:16,480 --> 00:20:19,090
there we<font color="#E5E5E5"> go</font>

557
00:20:17,050 --> 00:20:22,780
so we hit 1.7 and<font color="#E5E5E5"> you saw it the first</font>

558
00:20:19,090 --> 00:20:25,949
<font color="#E5E5E5">MGMT to</font><font color="#CCCCCC"> shutdown</font><font color="#E5E5E5"> so we're just gonna</font>

559
00:20:22,780 --> 00:20:25,950
kill all these terminals

560
00:20:29,910 --> 00:20:35,430
<font color="#CCCCCC">okay so it killed that</font><font color="#E5E5E5"> so it watch when</font>

561
00:20:33,150 --> 00:20:37,890
it goes below 1.5<font color="#E5E5E5"> we're gonna see what</font>

562
00:20:35,430 --> 00:20:39,780
<font color="#CCCCCC">happens</font><font color="#E5E5E5"> what it went but it didn't start</font>

563
00:20:37,890 --> 00:20:44,000
up the<font color="#E5E5E5"> machine yet right so 10 seconds</font>

564
00:20:39,780 --> 00:20:48,810
are gonna go by that's five four three

565
00:20:44,000 --> 00:20:51,630
two<font color="#E5E5E5"> one boom</font><font color="#CCCCCC"> see it came right back</font><font color="#E5E5E5"> you</font>

566
00:20:48,810 --> 00:20:57,179
got that<font color="#E5E5E5"> it's that cool</font><font color="#CCCCCC"> you</font><font color="#E5E5E5"> could clap</font>

567
00:20:51,630 --> 00:20:58,800
if you want so these are the kind of fun

568
00:20:57,180 --> 00:21:01,020
things<font color="#E5E5E5"> you</font><font color="#CCCCCC"> can do with</font><font color="#E5E5E5"> this graph based</font>

569
00:20:58,800 --> 00:21:02,310
language<font color="#CCCCCC"> I'm maybe it's</font><font color="#E5E5E5"> not pure graph</font>

570
00:21:01,020 --> 00:21:04,430
theory this but I wanted to show you

571
00:21:02,310 --> 00:21:09,480
<font color="#E5E5E5">this stuff and the code is</font><font color="#CCCCCC"> really simple</font>

572
00:21:04,430 --> 00:21:10,800
<font color="#E5E5E5">do this since like ten lines of code</font><font color="#CCCCCC"> I'm</font>

573
00:21:09,480 --> 00:21:15,390
just gonna kill these two<font color="#CCCCCC"> machines so</font>

574
00:21:10,800 --> 00:21:16,440
<font color="#E5E5E5">they don't need them anymore</font><font color="#CCCCCC"> so let's go</font>

575
00:21:15,390 --> 00:21:19,710
<font color="#CCCCCC">back</font><font color="#E5E5E5"> to the</font><font color="#CCCCCC"> language a</font><font color="#E5E5E5"> little bit</font>

576
00:21:16,440 --> 00:21:20,970
<font color="#CCCCCC">because is where our</font><font color="#E5E5E5"> graph runs so this</font>

577
00:21:19,710 --> 00:21:22,890
is more on the<font color="#E5E5E5"> infrastructure side the</font>

578
00:21:20,970 --> 00:21:24,420
language itself and the engine<font color="#E5E5E5"> are</font>

579
00:21:22,890 --> 00:21:26,430
actually two separate pieces<font color="#CCCCCC"> they're</font>

580
00:21:24,420 --> 00:21:28,410
still compiled together<font color="#E5E5E5"> but if you had a</font>

581
00:21:26,430 --> 00:21:30,390
problem in<font color="#E5E5E5"> the graph like had some</font>

582
00:21:28,410 --> 00:21:32,430
<font color="#E5E5E5">runtime error which is theoretically</font>

583
00:21:30,390 --> 00:21:34,650
<font color="#E5E5E5">very very rare but it could happen like</font>

584
00:21:32,430 --> 00:21:36,630
hardware failures<font color="#E5E5E5"> and other things</font><font color="#CCCCCC"> the</font>

585
00:21:34,650 --> 00:21:38,610
engine could keep running<font color="#E5E5E5"> so it gets a</font>

586
00:21:36,630 --> 00:21:41,730
stream of graphs<font color="#E5E5E5"> and that's how actually</font>

587
00:21:38,610 --> 00:21:43,919
<font color="#E5E5E5">this works every time the language runs</font>

588
00:21:41,730 --> 00:21:46,890
which<font color="#CCCCCC"> is a graph</font><font color="#E5E5E5"> it's producing output</font>

589
00:21:43,920 --> 00:21:48,930
<font color="#E5E5E5">which again is that first graph and it's</font>

590
00:21:46,890 --> 00:21:51,390
producing a stream of those first graphs

591
00:21:48,930 --> 00:21:53,280
so in<font color="#E5E5E5"> fact what we</font><font color="#CCCCCC"> actually do is we</font>

592
00:21:51,390 --> 00:21:55,740
push<font color="#E5E5E5"> that graph to the engine the first</font>

593
00:21:53,280 --> 00:21:57,930
one will run the next time we produce a

594
00:21:55,740 --> 00:22:00,720
graph which could be an hour later or a

595
00:21:57,930 --> 00:22:02,790
millisecond later<font color="#E5E5E5"> we actually have we do</font>

596
00:22:00,720 --> 00:22:04,890
a kind<font color="#E5E5E5"> of a graph diff to see what has</font>

597
00:22:02,790 --> 00:22:07,290
changed<font color="#CCCCCC"> in the</font><font color="#E5E5E5"> graph we pause the</font>

598
00:22:04,890 --> 00:22:10,830
<font color="#E5E5E5">running graph</font><font color="#CCCCCC"> we switch them over and</font>

599
00:22:07,290 --> 00:22:13,590
then we only recompute the<font color="#E5E5E5"> state for</font>

600
00:22:10,830 --> 00:22:14,820
things that we need<font color="#E5E5E5"> to and so</font><font color="#CCCCCC"> this is</font>

601
00:22:13,590 --> 00:22:16,800
<font color="#E5E5E5">actually another point of</font><font color="#CCCCCC"> contention so</font>

602
00:22:14,820 --> 00:22:17,850
the algorithm to write this I'm not an

603
00:22:16,800 --> 00:22:19,889
algorithm<font color="#E5E5E5"> mist as I might have mentioned</font>

604
00:22:17,850 --> 00:22:23,370
it's kind of<font color="#E5E5E5"> a</font><font color="#CCCCCC"> little</font><font color="#E5E5E5"> hokey</font><font color="#CCCCCC"> and</font><font color="#E5E5E5"> it seems</font>

605
00:22:19,890 --> 00:22:26,700
<font color="#E5E5E5">to work</font><font color="#CCCCCC"> we're not sure</font><font color="#E5E5E5"> if there's a more</font>

606
00:22:23,370 --> 00:22:28,320
optimal<font color="#E5E5E5"> way to do this</font><font color="#CCCCCC"> and so I'd invite</font>

607
00:22:26,700 --> 00:22:30,870
<font color="#CCCCCC">you</font><font color="#E5E5E5"> we have a bunch of test cases it</font>

608
00:22:28,320 --> 00:22:32,010
passes everything<font color="#E5E5E5"> works perfectly but it</font>

609
00:22:30,870 --> 00:22:33,479
would always be<font color="#E5E5E5"> great to find out if</font>

610
00:22:32,010 --> 00:22:35,340
there was really<font color="#E5E5E5"> a much more optimal way</font>

611
00:22:33,480 --> 00:22:38,270
to do this but fortunately hasn't been a

612
00:22:35,340 --> 00:22:38,270
<font color="#E5E5E5">problem at the moment so</font>

613
00:22:39,580 --> 00:22:42,889
that's a really good<font color="#CCCCCC"> question so the</font>

614
00:22:41,600 --> 00:22:44,719
size of<font color="#CCCCCC"> the</font><font color="#E5E5E5"> graphs we haven't actually</font>

615
00:22:42,890 --> 00:22:48,500
built<font color="#E5E5E5"> any huge enormous graphs at the</font>

616
00:22:44,720 --> 00:22:49,880
moment<font color="#CCCCCC"> because it's still kind of a new</font>

617
00:22:48,500 --> 00:22:52,490
tool<font color="#E5E5E5"> and there's still some features</font>

618
00:22:49,880 --> 00:22:56,150
that<font color="#E5E5E5"> are</font><font color="#CCCCCC"> missing for</font><font color="#E5E5E5"> like larger</font>

619
00:22:52,490 --> 00:22:57,410
customers or<font color="#CCCCCC"> people basically so at the</font>

620
00:22:56,150 --> 00:22:59,630
moment it's mostly<font color="#E5E5E5"> being all smaller</font>

621
00:22:57,410 --> 00:23:01,010
<font color="#CCCCCC">test graphs I'm actually have found</font><font color="#E5E5E5"> some</font>

622
00:22:59,630 --> 00:23:04,460
performance issues<font color="#E5E5E5"> with some very large</font>

623
00:23:01,010 --> 00:23:06,350
graphs<font color="#CCCCCC"> but</font><font color="#E5E5E5"> typically our our goal is in</font>

624
00:23:04,460 --> 00:23:08,690
<font color="#CCCCCC">the thousand or</font><font color="#E5E5E5"> 10,000 sort of vertices</font>

625
00:23:06,350 --> 00:23:11,149
<font color="#CCCCCC">size graphs they're not like million</font>

626
00:23:08,690 --> 00:23:13,130
host graphs<font color="#CCCCCC"> the graph library</font><font color="#E5E5E5"> is</font>

627
00:23:11,150 --> 00:23:14,840
<font color="#CCCCCC">actually a</font><font color="#E5E5E5"> library that</font><font color="#CCCCCC"> I wrote which is</font>

628
00:23:13,130 --> 00:23:16,580
part of our code<font color="#E5E5E5"> base</font><font color="#CCCCCC"> so if you are a</font>

629
00:23:14,840 --> 00:23:19,120
graph purist<font color="#CCCCCC"> I'd love for you</font><font color="#E5E5E5"> to look at</font>

630
00:23:16,580 --> 00:23:23,299
<font color="#E5E5E5">it and tell</font><font color="#CCCCCC"> me how</font><font color="#E5E5E5"> bad</font><font color="#CCCCCC"> it is</font><font color="#E5E5E5"> it uses</font>

631
00:23:19,120 --> 00:23:26,510
adjacency<font color="#E5E5E5"> mapping and seems to work</font>

632
00:23:23,299 --> 00:23:28,250
great<font color="#CCCCCC"> so</font><font color="#E5E5E5"> yeah let's I</font><font color="#CCCCCC"> talked to you</font>

633
00:23:26,510 --> 00:23:32,030
about<font color="#E5E5E5"> this so the code actually is a</font>

634
00:23:28,250 --> 00:23:34,070
graph<font color="#E5E5E5"> itself so the language doesn't</font>

635
00:23:32,030 --> 00:23:35,000
<font color="#E5E5E5">care</font><font color="#CCCCCC"> it works great if you</font><font color="#E5E5E5"> write out of</font>

636
00:23:34,070 --> 00:23:37,100
order<font color="#CCCCCC"> chord code</font>

637
00:23:35,000 --> 00:23:38,870
<font color="#E5E5E5">you're definitely insane</font><font color="#CCCCCC"> there's some</font>

638
00:23:37,100 --> 00:23:42,139
things like variables are immutable<font color="#E5E5E5"> so</font>

639
00:23:38,870 --> 00:23:43,580
what it actually<font color="#E5E5E5"> does is</font><font color="#CCCCCC"> actually</font><font color="#E5E5E5"> if</font>

640
00:23:42,140 --> 00:23:45,440
<font color="#E5E5E5">you're a write code like</font><font color="#CCCCCC"> x equals five</font>

641
00:23:43,580 --> 00:23:47,270
and<font color="#E5E5E5"> then x</font><font color="#CCCCCC"> equals</font><font color="#E5E5E5"> six</font><font color="#CCCCCC"> this</font><font color="#E5E5E5"> would be a</font>

642
00:23:45,440 --> 00:23:49,309
compile error<font color="#E5E5E5"> because we want to stop</font>

643
00:23:47,270 --> 00:23:51,650
the programmer for making types of

644
00:23:49,309 --> 00:23:53,030
dangerous choices that could do like

645
00:23:51,650 --> 00:23:56,210
hide a bug or something<font color="#E5E5E5"> like that so we</font>

646
00:23:53,030 --> 00:23:57,649
<font color="#E5E5E5">do that I talked about hysteresis</font><font color="#CCCCCC"> and</font>

647
00:23:56,210 --> 00:23:59,120
<font color="#CCCCCC">they're different</font><font color="#E5E5E5"> kinds and the whole</font>

648
00:23:57,650 --> 00:24:01,190
point<font color="#CCCCCC"> about everything</font><font color="#E5E5E5"> being reactive is</font>

649
00:23:59,120 --> 00:24:03,559
we model<font color="#CCCCCC"> real-time systems so real</font>

650
00:24:01,190 --> 00:24:05,270
systems change those error scenarios<font color="#CCCCCC"> all</font>

651
00:24:03,559 --> 00:24:07,780
sorts of stuff<font color="#CCCCCC"> like that</font><font color="#E5E5E5"> so I'd like to</font>

652
00:24:05,270 --> 00:24:10,429
do this and the most interesting<font color="#CCCCCC"> thing</font>

653
00:24:07,780 --> 00:24:11,960
<font color="#E5E5E5">the new graph that I they keep popping</font>

654
00:24:10,429 --> 00:24:14,659
<font color="#E5E5E5">up I try</font><font color="#CCCCCC"> and stay away from graphs</font><font color="#E5E5E5"> and</font>

655
00:24:11,960 --> 00:24:16,250
turns<font color="#E5E5E5"> out ease my graph</font><font color="#CCCCCC"> library and so</font>

656
00:24:14,659 --> 00:24:18,530
the way our imports work actually<font color="#E5E5E5"> are</font>

657
00:24:16,250 --> 00:24:21,350
<font color="#CCCCCC">also a graph</font><font color="#E5E5E5"> so you can't actually have</font>

658
00:24:18,530 --> 00:24:25,600
<font color="#E5E5E5">circular imports</font><font color="#CCCCCC"> and</font><font color="#E5E5E5"> so this is actually</font>

659
00:24:21,350 --> 00:24:28,280
graph number<font color="#CCCCCC"> three tale</font><font color="#E5E5E5"> of three graphs</font>

660
00:24:25,600 --> 00:24:29,959
<font color="#CCCCCC">so it turns out</font><font color="#E5E5E5"> it's very</font><font color="#CCCCCC"> easy</font><font color="#E5E5E5"> to do</font>

661
00:24:28,280 --> 00:24:32,899
<font color="#E5E5E5">this I actually just store a graph as</font>

662
00:24:29,960 --> 00:24:34,280
I'm<font color="#E5E5E5"> going</font><font color="#CCCCCC"> through the modules and every</font>

663
00:24:32,900 --> 00:24:37,429
time I add something<font color="#E5E5E5"> new I do a</font>

664
00:24:34,280 --> 00:24:40,539
topological sort<font color="#E5E5E5"> and if there's ever a</font>

665
00:24:37,429 --> 00:24:43,010
loop<font color="#CCCCCC"> we know that the import</font><font color="#E5E5E5"> is</font>

666
00:24:40,539 --> 00:24:44,539
obviously importing something<font color="#CCCCCC"> that</font>

667
00:24:43,010 --> 00:24:48,240
imported it and so on<font color="#E5E5E5"> you all know how</font>

668
00:24:44,539 --> 00:24:51,359
<font color="#CCCCCC">that works yes but easy stuff</font>

669
00:24:48,240 --> 00:24:51,359
[Music]

670
00:24:54,340 --> 00:24:59,600
that's a great<font color="#E5E5E5"> question so</font><font color="#CCCCCC"> it's there</font>

671
00:24:57,169 --> 00:25:00,980
isn't<font color="#CCCCCC"> actually a distinct</font><font color="#E5E5E5"> concept</font>

672
00:24:59,600 --> 00:25:02,449
between the<font color="#E5E5E5"> two it's really about what</font>

673
00:25:00,980 --> 00:25:05,029
people import and<font color="#E5E5E5"> when you import</font>

674
00:25:02,450 --> 00:25:07,309
<font color="#E5E5E5">something</font><font color="#CCCCCC"> it's pointed to a</font><font color="#E5E5E5"> specific</font>

675
00:25:05,029 --> 00:25:10,580
code base and optionally like at a

676
00:25:07,309 --> 00:25:12,769
specific<font color="#CCCCCC"> sha-1 commit</font><font color="#E5E5E5"> so technically</font>

677
00:25:10,580 --> 00:25:15,649
someone could import<font color="#E5E5E5"> a different version</font>

678
00:25:12,769 --> 00:25:17,299
<font color="#E5E5E5">of that same code but no it wouldn't</font>

679
00:25:15,649 --> 00:25:18,559
<font color="#CCCCCC">like if you have the</font><font color="#E5E5E5"> same code in twice</font>

680
00:25:17,299 --> 00:25:20,450
it doesn't matter as long<font color="#E5E5E5"> as it doesn't</font>

681
00:25:18,559 --> 00:25:23,178
loop back to<font color="#CCCCCC"> the</font><font color="#E5E5E5"> same thing that</font><font color="#CCCCCC"> you've</font>

682
00:25:20,450 --> 00:25:26,600
already imported so<font color="#CCCCCC"> um and it works</font>

683
00:25:23,179 --> 00:25:28,159
<font color="#E5E5E5">great</font><font color="#CCCCCC"> there's some</font><font color="#E5E5E5"> more</font><font color="#CCCCCC"> stuff I can show</font>

684
00:25:26,600 --> 00:25:29,658
you and I have a lot of time so I have

685
00:25:28,159 --> 00:25:31,940
some other demos and things we<font color="#E5E5E5"> can talk</font>

686
00:25:29,659 --> 00:25:33,320
<font color="#E5E5E5">about in graphs there's actually another</font>

687
00:25:31,940 --> 00:25:35,299
graph that you might find<font color="#E5E5E5"> interesting</font>

688
00:25:33,320 --> 00:25:36,678
<font color="#CCCCCC">but I'll just go with</font><font color="#E5E5E5"> this stuff first</font>

689
00:25:35,299 --> 00:25:39,139
so there's a lot<font color="#E5E5E5"> of stuff</font><font color="#CCCCCC"> that still</font>

690
00:25:36,679 --> 00:25:40,460
needs to<font color="#E5E5E5"> happen so in the engine there's</font>

691
00:25:39,139 --> 00:25:42,830
some interesting<font color="#E5E5E5"> graph analysis that</font>

692
00:25:40,460 --> 00:25:44,980
we're not<font color="#CCCCCC"> currently doing which someone</font>

693
00:25:42,830 --> 00:25:46,908
who's on the science<font color="#E5E5E5"> side might find</font>

694
00:25:44,980 --> 00:25:50,869
more<font color="#CCCCCC"> interesting if you're really into</font>

695
00:25:46,909 --> 00:25:53,960
graph theory<font color="#CCCCCC"> so basically</font><font color="#E5E5E5"> analyzing the</font>

696
00:25:50,869 --> 00:25:56,269
graphs<font color="#E5E5E5"> and seeing if there are behaviors</font>

697
00:25:53,960 --> 00:25:58,100
<font color="#CCCCCC">that would</font><font color="#E5E5E5"> cause oscillations in the</font>

698
00:25:56,269 --> 00:25:59,570
code<font color="#E5E5E5"> so basically if you have this</font>

699
00:25:58,100 --> 00:26:01,129
reactive language you might<font color="#E5E5E5"> have a</font>

700
00:25:59,570 --> 00:26:03,200
situation where<font color="#E5E5E5"> something happens that</font>

701
00:26:01,129 --> 00:26:05,899
<font color="#CCCCCC">causes something</font><font color="#E5E5E5"> else to happen that</font>

702
00:26:03,200 --> 00:26:08,629
<font color="#E5E5E5">causes a loop and sort of has this</font>

703
00:26:05,899 --> 00:26:10,340
<font color="#E5E5E5">reentrant behavior</font><font color="#CCCCCC"> turns out this is</font>

704
00:26:08,629 --> 00:26:11,779
<font color="#CCCCCC">actually useful</font><font color="#E5E5E5"> in a lot of cases and</font>

705
00:26:10,340 --> 00:26:13,639
<font color="#E5E5E5">you</font><font color="#CCCCCC"> actually</font><font color="#E5E5E5"> want this range in behavior</font>

706
00:26:11,779 --> 00:26:15,529
but I'm fairly certain<font color="#CCCCCC"> that there's some</font>

707
00:26:13,639 --> 00:26:18,379
sort<font color="#CCCCCC"> of static analysis we could</font><font color="#E5E5E5"> do of</font>

708
00:26:15,529 --> 00:26:19,940
these graphs<font color="#E5E5E5"> to decide and find certain</font>

709
00:26:18,379 --> 00:26:21,529
dangerous scenarios that<font color="#E5E5E5"> a programmer</font>

710
00:26:19,940 --> 00:26:22,549
might have made a<font color="#CCCCCC"> mistake</font><font color="#E5E5E5"> so if you're</font>

711
00:26:21,529 --> 00:26:24,080
really into graph here<font color="#E5E5E5"> and you're</font>

712
00:26:22,549 --> 00:26:27,499
interested<font color="#E5E5E5"> in that sort</font><font color="#CCCCCC"> of thing you</font>

713
00:26:24,080 --> 00:26:28,789
might<font color="#E5E5E5"> find that quite fun so in the</font>

714
00:26:27,499 --> 00:26:32,059
standard<font color="#CCCCCC"> library there's a bunch of</font>

715
00:26:28,789 --> 00:26:33,649
functions<font color="#CCCCCC"> that still need to be written</font>

716
00:26:32,059 --> 00:26:36,168
so if you're<font color="#E5E5E5"> writing some code you</font><font color="#CCCCCC"> might</font>

717
00:26:33,649 --> 00:26:37,820
be<font color="#E5E5E5"> missing something</font><font color="#CCCCCC"> one of</font><font color="#E5E5E5"> the things I</font>

718
00:26:36,169 --> 00:26:40,850
had in<font color="#E5E5E5"> mind actually is when you are</font>

719
00:26:37,820 --> 00:26:43,789
<font color="#E5E5E5">building out a cluster I thought about</font>

720
00:26:40,850 --> 00:26:47,029
having actually a graph module<font color="#E5E5E5"> in the</font>

721
00:26:43,789 --> 00:26:49,489
language<font color="#E5E5E5"> itself</font><font color="#CCCCCC"> and so that as you run</font>

722
00:26:47,029 --> 00:26:51,859
MGMT and as it automatically moves<font color="#E5E5E5"> to</font>

723
00:26:49,489 --> 00:26:55,039
new machines<font color="#E5E5E5"> it builds a graph data</font>

724
00:26:51,859 --> 00:26:56,509
structure as it goes<font color="#E5E5E5"> and maps out your</font>

725
00:26:55,039 --> 00:26:57,140
<font color="#CCCCCC">infrastructure and the connections</font>

726
00:26:56,509 --> 00:26:58,910
<font color="#E5E5E5">between the</font>

727
00:26:57,140 --> 00:27:01,250
<font color="#E5E5E5">and I'll show</font><font color="#CCCCCC"> you a quick demo of</font>

728
00:26:58,910 --> 00:27:06,050
something very<font color="#E5E5E5"> similar if you'd like to</font>

729
00:27:01,250 --> 00:27:07,760
see so what I'm gonna do<font color="#E5E5E5"> so</font><font color="#CCCCCC"> I</font><font color="#E5E5E5"> don't have</font>

730
00:27:06,050 --> 00:27:09,620
this I<font color="#E5E5E5"> don't have the graph example yet</font>

731
00:27:07,760 --> 00:27:11,960
<font color="#CCCCCC">billing</font><font color="#E5E5E5"> to show you sort of</font><font color="#CCCCCC"> the step</font>

732
00:27:09,620 --> 00:27:15,580
before<font color="#E5E5E5"> that so I'm gonna run a bunch of</font>

733
00:27:11,960 --> 00:27:17,900
<font color="#E5E5E5">machines on MGMT I'm gonna run each one</font>

734
00:27:15,580 --> 00:27:19,639
what they're all<font color="#E5E5E5"> gonna do is each</font>

735
00:27:17,900 --> 00:27:22,010
<font color="#CCCCCC">machine is gonna</font><font color="#E5E5E5"> join the cluster and</font>

736
00:27:19,640 --> 00:27:25,670
because they work as a distributed

737
00:27:22,010 --> 00:27:27,620
system with this raft algorithm is<font color="#E5E5E5"> they</font>

738
00:27:25,670 --> 00:27:30,880
can all share<font color="#E5E5E5"> values and they can do</font>

739
00:27:27,620 --> 00:27:35,149
this in a safe way<font color="#CCCCCC"> and</font><font color="#E5E5E5"> if I just watch</font>

740
00:27:30,880 --> 00:27:37,340
I'm just going to just show you what's

741
00:27:35,150 --> 00:27:38,480
here so the first machine what I'm<font color="#E5E5E5"> gonna</font>

742
00:27:37,340 --> 00:27:40,159
do they're all<font color="#CCCCCC"> gonna run</font><font color="#E5E5E5"> the same code</font>

743
00:27:38,480 --> 00:27:42,530
<font color="#CCCCCC">they're</font><font color="#E5E5E5"> going to start up we're gonna</font>

744
00:27:40,160 --> 00:27:44,570
generate a random<font color="#CCCCCC"> value</font><font color="#E5E5E5"> and they're</font>

745
00:27:42,530 --> 00:27:46,280
gonna put that in this database<font color="#CCCCCC"> the</font>

746
00:27:44,570 --> 00:27:48,379
shared<font color="#CCCCCC"> database in this case</font><font color="#E5E5E5"> it's just a</font>

747
00:27:46,280 --> 00:27:53,680
map with their host name<font color="#CCCCCC"> and the random</font>

748
00:27:48,380 --> 00:27:53,680
<font color="#E5E5E5">value now if I start up a second machine</font>

749
00:27:57,400 --> 00:28:01,460
<font color="#E5E5E5">so this is the second machine they will</font>

750
00:27:59,450 --> 00:28:03,950
basically<font color="#E5E5E5"> if you look what I'm typing</font>

751
00:28:01,460 --> 00:28:05,480
here it's<font color="#E5E5E5"> just giving it a host name h2</font>

752
00:28:03,950 --> 00:28:07,790
so they can run multiple on the same

753
00:28:05,480 --> 00:28:09,200
machine so just tricking it and all you

754
00:28:07,790 --> 00:28:10,790
do is<font color="#E5E5E5"> you give it the IP address of the</font>

755
00:28:09,200 --> 00:28:12,350
<font color="#E5E5E5">first machine or any earlier machine in</font>

756
00:28:10,790 --> 00:28:13,550
the<font color="#CCCCCC"> cluster</font><font color="#E5E5E5"> and then just because</font>

757
00:28:12,350 --> 00:28:15,709
they're<font color="#E5E5E5"> all running together I give it</font>

758
00:28:13,550 --> 00:28:17,810
different ports to run on and then I

759
00:28:15,710 --> 00:28:25,160
just give it<font color="#CCCCCC"> the</font><font color="#E5E5E5"> code to run so the code</font>

760
00:28:17,810 --> 00:28:26,510
here is very simple<font color="#E5E5E5"> it's a very simple</font>

761
00:28:25,160 --> 00:28:29,150
that's just comments the code is right

762
00:28:26,510 --> 00:28:32,150
down here<font color="#E5E5E5"> it basically just generates a</font>

763
00:28:29,150 --> 00:28:34,520
<font color="#CCCCCC">random value and then puts that value</font>

764
00:28:32,150 --> 00:28:37,310
<font color="#E5E5E5">into this exchange function again so</font>

765
00:28:34,520 --> 00:28:38,960
react<font color="#E5E5E5"> to function which will output the</font>

766
00:28:37,310 --> 00:28:40,399
values<font color="#E5E5E5"> that everyone else also put into</font>

767
00:28:38,960 --> 00:28:43,520
<font color="#E5E5E5">that function across the different</font>

768
00:28:40,400 --> 00:28:45,320
<font color="#CCCCCC">machines</font><font color="#E5E5E5"> that I then just print out okay</font>

769
00:28:43,520 --> 00:28:47,180
so that's what see<font color="#E5E5E5"> what happens when I</font>

770
00:28:45,320 --> 00:28:48,020
<font color="#E5E5E5">run the second one so they're</font><font color="#CCCCCC"> gonna</font>

771
00:28:47,180 --> 00:28:51,020
cluster together

772
00:28:48,020 --> 00:28:53,720
so this first entry<font color="#CCCCCC"> is from the first</font>

773
00:28:51,020 --> 00:28:55,790
<font color="#E5E5E5">host perspective and the second entry is</font>

774
00:28:53,720 --> 00:28:57,080
from the second<font color="#E5E5E5"> host perspective so you</font>

775
00:28:55,790 --> 00:29:03,770
can see they've shared each other's

776
00:28:57,080 --> 00:29:05,179
<font color="#E5E5E5">values and if you add another one you'll</font>

777
00:29:03,770 --> 00:29:06,920
basically have<font color="#E5E5E5"> the same thing</font>

778
00:29:05,180 --> 00:29:08,930
the third one comes and you see that

779
00:29:06,920 --> 00:29:10,700
<font color="#E5E5E5">they all wake up and get the new value</font>

780
00:29:08,930 --> 00:29:12,470
basically right away

781
00:29:10,700 --> 00:29:14,270
<font color="#E5E5E5">you can keep</font><font color="#CCCCCC"> doing this</font><font color="#E5E5E5"> so as each</font>

782
00:29:12,470 --> 00:29:16,160
machine joins the cluster<font color="#E5E5E5"> it can</font>

783
00:29:14,270 --> 00:29:19,100
<font color="#E5E5E5">interact with that</font><font color="#CCCCCC"> data store</font><font color="#E5E5E5"> now</font>

784
00:29:16,160 --> 00:29:21,620
<font color="#E5E5E5">imagine instead of this map that</font><font color="#CCCCCC"> data</font>

785
00:29:19,100 --> 00:29:24,320
store was an actual graph<font color="#E5E5E5"> stored in this</font>

786
00:29:21,620 --> 00:29:27,320
shared data structure so as you are<font color="#CCCCCC"> a</font>

787
00:29:24,320 --> 00:29:28,939
<font color="#E5E5E5">host and as you join another host who</font>

788
00:29:27,320 --> 00:29:31,220
<font color="#CCCCCC">actually build that graph it wouldn't be</font>

789
00:29:28,940 --> 00:29:33,850
a dag<font color="#CCCCCC"> we build that graph of the whole</font>

790
00:29:31,220 --> 00:29:36,320
topology<font color="#E5E5E5"> and so I think this could be</font>

791
00:29:33,850 --> 00:29:38,659
<font color="#E5E5E5">something</font><font color="#CCCCCC"> that we could maybe consider</font>

792
00:29:36,320 --> 00:29:40,370
thinking<font color="#CCCCCC"> about in future data centers</font>

793
00:29:38,660 --> 00:29:42,380
where<font color="#CCCCCC"> you</font><font color="#E5E5E5"> just rack a bunch of machines</font>

794
00:29:40,370 --> 00:29:44,840
<font color="#CCCCCC">and let the software</font><font color="#E5E5E5"> automatically</font>

795
00:29:42,380 --> 00:29:46,760
decide where the efficient ways<font color="#CCCCCC"> to send</font>

796
00:29:44,840 --> 00:29:47,929
traffic<font color="#E5E5E5"> back and forth and who should</font>

797
00:29:46,760 --> 00:29:51,230
talk to<font color="#E5E5E5"> who and stuff like that</font><font color="#CCCCCC"> that</font>

798
00:29:47,930 --> 00:29:53,600
<font color="#CCCCCC">makes</font><font color="#E5E5E5"> sense</font><font color="#CCCCCC"> it's a bit far out but sort</font>

799
00:29:51,230 --> 00:30:02,060
of<font color="#E5E5E5"> the idea is thinking any quick</font>

800
00:29:53,600 --> 00:30:03,620
questions how much time they left so

801
00:30:02,060 --> 00:30:06,379
again there's<font color="#E5E5E5"> still a lot</font><font color="#CCCCCC"> of stuff left</font>

802
00:30:03,620 --> 00:30:08,510
to<font color="#E5E5E5"> do in the project</font><font color="#CCCCCC"> a lot</font><font color="#E5E5E5"> of bugs</font>

803
00:30:06,380 --> 00:30:11,570
<font color="#E5E5E5">things like that let's talk about all of</font>

804
00:30:08,510 --> 00:30:13,129
you<font color="#CCCCCC"> from it</font><font color="#E5E5E5"> how can</font><font color="#CCCCCC"> you</font><font color="#E5E5E5"> help</font><font color="#CCCCCC"> you can use</font>

805
00:30:11,570 --> 00:30:15,409
this<font color="#E5E5E5"> you</font><font color="#CCCCCC"> can test it</font><font color="#E5E5E5"> you can patch it</font>

806
00:30:13,130 --> 00:30:16,850
<font color="#CCCCCC">you can document it you can star it on</font>

807
00:30:15,410 --> 00:30:18,350
<font color="#CCCCCC">github</font><font color="#E5E5E5"> if you're into that thing you can</font>

808
00:30:16,850 --> 00:30:20,419
blog about<font color="#CCCCCC"> it you can tweet it</font><font color="#E5E5E5"> you can</font>

809
00:30:18,350 --> 00:30:23,929
discuss it you can hack on<font color="#CCCCCC"> it all</font><font color="#E5E5E5"> these</font>

810
00:30:20,420 --> 00:30:25,340
things if you<font color="#CCCCCC"> want to write</font><font color="#E5E5E5"> graph stuff</font>

811
00:30:23,930 --> 00:30:27,710
specifically there's a ton of graph work

812
00:30:25,340 --> 00:30:30,199
that we'd love<font color="#E5E5E5"> to have done this</font><font color="#CCCCCC"> project</font>

813
00:30:27,710 --> 00:30:32,180
<font color="#E5E5E5">I left a relatively cool tech company to</font>

814
00:30:30,200 --> 00:30:34,190
work on<font color="#E5E5E5"> this because I wanted to see how</font>

815
00:30:32,180 --> 00:30:36,140
far<font color="#E5E5E5"> I could do it unfortunately</font><font color="#CCCCCC"> I'm just</font>

816
00:30:34,190 --> 00:30:38,660
<font color="#E5E5E5">living off my salary to hack on</font><font color="#CCCCCC"> it I</font>

817
00:30:36,140 --> 00:30:41,150
want<font color="#CCCCCC"> to keep it all free software so if</font>

818
00:30:38,660 --> 00:30:42,650
you want to<font color="#E5E5E5"> send</font><font color="#CCCCCC"> me</font><font color="#E5E5E5"> patches or code or</font>

819
00:30:41,150 --> 00:30:44,990
money that's definitely welcome<font color="#CCCCCC"> I</font>

820
00:30:42,650 --> 00:30:47,360
started a patreon<font color="#E5E5E5"> and funding a hacker</font>

821
00:30:44,990 --> 00:30:48,590
is very sexy<font color="#E5E5E5"> because the alternative is</font>

822
00:30:47,360 --> 00:30:50,000
<font color="#E5E5E5">I make it all proprietary and then you</font>

823
00:30:48,590 --> 00:30:52,730
don't get<font color="#E5E5E5"> to see how the graph internals</font>

824
00:30:50,000 --> 00:30:54,560
work<font color="#E5E5E5"> and that's not fun</font><font color="#CCCCCC"> I have some time</font>

825
00:30:52,730 --> 00:31:00,190
for<font color="#CCCCCC"> perhaps</font><font color="#E5E5E5"> one</font><font color="#CCCCCC"> last</font><font color="#E5E5E5"> demo if you want</font>

826
00:30:54,560 --> 00:31:00,190
but how much<font color="#E5E5E5"> time</font><font color="#CCCCCC"> do ya</font>

827
00:31:00,370 --> 00:31:03,969
I'll take<font color="#CCCCCC"> just a reef brief pause for</font>

828
00:31:02,320 --> 00:31:05,860
some<font color="#E5E5E5"> questions now in case anyone wants</font>

829
00:31:03,970 --> 00:31:11,769
to<font color="#E5E5E5"> talk about anything and then I can</font>

830
00:31:05,860 --> 00:31:13,090
show you some more<font color="#E5E5E5"> stuff</font><font color="#CCCCCC"> yeah that's a</font>

831
00:31:11,769 --> 00:31:14,440
great<font color="#E5E5E5"> question the question</font><font color="#CCCCCC"> was how do I</font>

832
00:31:13,090 --> 00:31:16,090
have you extend this<font color="#E5E5E5"> with new resources</font>

833
00:31:14,440 --> 00:31:18,309
<font color="#CCCCCC">it's actually very</font><font color="#E5E5E5"> easy we have a</font>

834
00:31:16,090 --> 00:31:19,570
resource<font color="#E5E5E5"> API it's called</font><font color="#CCCCCC"> there's</font>

835
00:31:18,309 --> 00:31:21,580
<font color="#E5E5E5">basically four or five functions you</font>

836
00:31:19,570 --> 00:31:23,260
have<font color="#E5E5E5"> to</font><font color="#CCCCCC"> implement and you can write a</font>

837
00:31:21,580 --> 00:31:25,658
<font color="#E5E5E5">whole resource basically in like</font><font color="#CCCCCC"> 200</font>

838
00:31:23,260 --> 00:31:26,830
<font color="#E5E5E5">lines of</font><font color="#CCCCCC"> goal-line</font><font color="#E5E5E5"> code</font><font color="#CCCCCC"> some less some</font>

839
00:31:25,659 --> 00:31:29,260
more depending<font color="#E5E5E5"> on what the resources</font>

840
00:31:26,830 --> 00:31:31,840
<font color="#E5E5E5">there's about I think maybe almost 20</font>

841
00:31:29,260 --> 00:31:34,870
resources so far<font color="#CCCCCC"> even</font><font color="#E5E5E5"> show you so we</font>

842
00:31:31,840 --> 00:31:37,809
have<font color="#E5E5E5"> go in the engine folder resources</font>

843
00:31:34,870 --> 00:31:40,658
and these are all the<font color="#CCCCCC"> resources we have</font>

844
00:31:37,809 --> 00:31:43,450
now so we have augeas ec2 a cron

845
00:31:40,659 --> 00:31:46,179
resource<font color="#E5E5E5"> a docker container resource and</font>

846
00:31:43,450 --> 00:31:48,220
exact a file<font color="#E5E5E5"> we have actually this is a</font>

847
00:31:46,179 --> 00:31:50,529
graph thing that's<font color="#E5E5E5"> not done yet it was a</font>

848
00:31:48,220 --> 00:31:53,649
craft resource that's<font color="#E5E5E5"> a secret for</font><font color="#CCCCCC"> its</font>

849
00:31:50,529 --> 00:31:58,870
hence the work in progress<font color="#E5E5E5"> so a whole</font>

850
00:31:53,649 --> 00:32:00,908
bunch<font color="#CCCCCC"> of stuff in spawn print vert</font><font color="#E5E5E5"> user</font>

851
00:31:58,870 --> 00:32:02,620
group and<font color="#E5E5E5"> so on so a lot</font><font color="#CCCCCC"> of</font><font color="#E5E5E5"> stuff in</font>

852
00:32:00,909 --> 00:32:04,659
there and<font color="#E5E5E5"> very easy to add so if you</font>

853
00:32:02,620 --> 00:32:06,658
were to look<font color="#CCCCCC"> and I don't know</font><font color="#E5E5E5"> what some</font>

854
00:32:04,659 --> 00:32:10,929
code<font color="#CCCCCC"> that's not too gross</font>

855
00:32:06,659 --> 00:32:13,600
<font color="#E5E5E5">see like user for example</font><font color="#CCCCCC"> you can see</font>

856
00:32:10,929 --> 00:32:16,090
<font color="#E5E5E5">the code is it's really whole thing is</font>

857
00:32:13,600 --> 00:32:17,889
this is like<font color="#E5E5E5"> 400 lines a lot of it's</font>

858
00:32:16,090 --> 00:32:19,959
some of its boilerplate<font color="#CCCCCC"> because this</font>

859
00:32:17,889 --> 00:32:22,149
resource does some<font color="#CCCCCC"> fancy stuff but like</font>

860
00:32:19,960 --> 00:32:24,850
to just<font color="#CCCCCC"> actually what we're</font><font color="#E5E5E5"> the the</font>

861
00:32:22,149 --> 00:32:27,100
resource actually does the work<font color="#E5E5E5"> is</font><font color="#CCCCCC"> in</font>

862
00:32:24,850 --> 00:32:29,408
one function where<font color="#E5E5E5"> you actually just set</font>

863
00:32:27,100 --> 00:32:31,029
the state that you request and then<font color="#CCCCCC"> the</font>

864
00:32:29,409 --> 00:32:33,159
<font color="#E5E5E5">event part is in this function called</font>

865
00:32:31,029 --> 00:32:35,320
watch<font color="#E5E5E5"> which</font><font color="#CCCCCC"> is basically a main loop</font>

866
00:32:33,159 --> 00:32:37,299
that<font color="#CCCCCC"> just runs</font><font color="#E5E5E5"> and detects when</font><font color="#CCCCCC"> the</font>

867
00:32:35,320 --> 00:32:39,580
state changes<font color="#CCCCCC"> by whatever mechanism you</font>

868
00:32:37,299 --> 00:32:41,260
like so<font color="#E5E5E5"> very easy to write a resource</font>

869
00:32:39,580 --> 00:32:42,970
<font color="#CCCCCC">I've have a bunch of contributors</font><font color="#E5E5E5"> that</font>

870
00:32:41,260 --> 00:32:46,029
<font color="#E5E5E5">I've trained from knowing nothing about</font>

871
00:32:42,970 --> 00:32:48,669
<font color="#E5E5E5">the API and being proficient and like</font>

872
00:32:46,029 --> 00:32:54,149
you know a day or<font color="#CCCCCC"> a</font><font color="#E5E5E5"> few weeks depending</font>

873
00:32:48,669 --> 00:32:54,149
<font color="#E5E5E5">on how complex yeah yeah question</font>

874
00:33:07,950 --> 00:33:17,200
yeah yeah so it's still it's<font color="#E5E5E5"> still quite</font>

875
00:33:15,610 --> 00:33:19,029
new<font color="#CCCCCC"> so it's like really on the</font>

876
00:33:17,200 --> 00:33:21,519
borderline of<font color="#CCCCCC"> being production-ready for</font>

877
00:33:19,029 --> 00:33:23,019
what you're doing<font color="#E5E5E5"> for small usages</font><font color="#CCCCCC"> I</font>

878
00:33:21,519 --> 00:33:24,279
would say<font color="#CCCCCC"> it's start it's time</font><font color="#E5E5E5"> to start</font>

879
00:33:23,019 --> 00:33:26,110
playing with<font color="#CCCCCC"> it and doing some very</font>

880
00:33:24,279 --> 00:33:27,610
<font color="#E5E5E5">small setups and finding out what you're</font>

881
00:33:26,110 --> 00:33:29,258
actually<font color="#CCCCCC"> missing</font><font color="#E5E5E5"> because if you don't</font>

882
00:33:27,610 --> 00:33:31,719
<font color="#E5E5E5">actually get your hands on it</font><font color="#CCCCCC"> you won't</font>

883
00:33:29,259 --> 00:33:33,580
know how<font color="#E5E5E5"> far you're missing and also if</font>

884
00:33:31,720 --> 00:33:35,950
you are missing<font color="#E5E5E5"> just</font><font color="#CCCCCC"> a few small things</font>

885
00:33:33,580 --> 00:33:37,299
<font color="#E5E5E5">like small functions</font><font color="#CCCCCC"> then you can add</font>

886
00:33:35,950 --> 00:33:38,919
them<font color="#E5E5E5"> to the standard library and then</font>

887
00:33:37,299 --> 00:33:41,710
<font color="#CCCCCC">your unblocked and you</font><font color="#E5E5E5"> help the project</font>

888
00:33:38,919 --> 00:33:43,870
<font color="#E5E5E5">move forward faster so I'm starting to</font>

889
00:33:41,710 --> 00:33:46,179
use<font color="#CCCCCC"> it now for some small things</font><font color="#E5E5E5"> finding</font>

890
00:33:43,870 --> 00:33:48,840
<font color="#E5E5E5">bugs</font><font color="#CCCCCC"> my next big project</font><font color="#E5E5E5"> is actually</font>

891
00:33:46,179 --> 00:33:51,639
<font color="#E5E5E5">more</font><font color="#CCCCCC"> test case infrastructure to catch</font>

892
00:33:48,840 --> 00:33:53,320
more bugs<font color="#E5E5E5"> that slip in and regress and</font>

893
00:33:51,639 --> 00:33:57,189
stuff like that so<font color="#CCCCCC"> just make it more</font>

894
00:33:53,320 --> 00:33:58,629
polished<font color="#CCCCCC"> that's the sort of thing I have</font>

895
00:33:57,190 --> 00:34:02,500
a few<font color="#E5E5E5"> more slides that I'll just go</font><font color="#CCCCCC"> over</font>

896
00:33:58,629 --> 00:34:04,330
quickly<font color="#CCCCCC"> let's just recap this is</font><font color="#E5E5E5"> another</font>

897
00:34:02,500 --> 00:34:06,789
bad joke this is<font color="#E5E5E5"> Arthur Benjamin putting</font>

898
00:34:04,330 --> 00:34:09,040
the cap back on his pen<font color="#E5E5E5"> so it's not very</font>

899
00:34:06,789 --> 00:34:12,069
funny<font color="#E5E5E5"> um there's</font><font color="#CCCCCC"> an IRC channel if</font>

900
00:34:09,040 --> 00:34:13,869
<font color="#E5E5E5">you're all on IRC MGMT config</font><font color="#CCCCCC"> we have a</font>

901
00:34:12,069 --> 00:34:15,460
<font color="#CCCCCC">tweeter account there's a mailing</font><font color="#E5E5E5"> list</font>

902
00:34:13,869 --> 00:34:18,270
<font color="#CCCCCC">that</font><font color="#E5E5E5"> gets really low volume for</font>

903
00:34:15,460 --> 00:34:20,319
<font color="#CCCCCC">announcements and like new people</font>

904
00:34:18,270 --> 00:34:21,849
<font color="#CCCCCC">there's a technical blog of James you</font>

905
00:34:20,319 --> 00:34:23,379
all know about<font color="#E5E5E5"> it now there's some other</font>

906
00:34:21,849 --> 00:34:26,230
<font color="#E5E5E5">videos about the engine in the language</font>

907
00:34:23,379 --> 00:34:27,549
<font color="#E5E5E5">you can contact me purple idea on IRC</font>

908
00:34:26,230 --> 00:34:30,310
and tweeter<font color="#CCCCCC"> and all those sorts of</font>

909
00:34:27,550 --> 00:34:32,230
things<font color="#CCCCCC"> you want to</font><font color="#E5E5E5"> take your photo</font><font color="#CCCCCC"> sweet</font>

910
00:34:30,310 --> 00:34:33,639
<font color="#CCCCCC">there's more</font><font color="#E5E5E5"> stuff later today so I</font>

911
00:34:32,230 --> 00:34:35,589
<font color="#E5E5E5">submitted a whole bunch of talks and</font>

912
00:34:33,639 --> 00:34:39,119
like a whole bunch were accepted<font color="#E5E5E5"> which</font>

913
00:34:35,589 --> 00:34:41,918
is absurd so I have<font color="#E5E5E5"> even another talk</font>

914
00:34:39,119 --> 00:34:44,169
<font color="#E5E5E5">later today about virtualization</font><font color="#CCCCCC"> so I'm</font>

915
00:34:41,918 --> 00:34:47,168
going<font color="#E5E5E5"> to show more fancy</font><font color="#CCCCCC"> vert demos and</font>

916
00:34:44,168 --> 00:34:48,819
cool stuff<font color="#CCCCCC"> like</font><font color="#E5E5E5"> that not so much on</font>

917
00:34:47,168 --> 00:34:50,949
graphs specifically and then tomorrow

918
00:34:48,819 --> 00:34:52,719
<font color="#CCCCCC">there's a five-minute</font><font color="#E5E5E5"> talk and another</font>

919
00:34:50,949 --> 00:34:56,739
talk on containers<font color="#E5E5E5"> if you're interested</font>

920
00:34:52,719 --> 00:34:58,328
<font color="#E5E5E5">and on the</font><font color="#CCCCCC"> fourth I'm giving two talks</font>

921
00:34:56,739 --> 00:35:00,459
that<font color="#E5E5E5"> are going</font><font color="#CCCCCC"> to be much more advanced</font>

922
00:34:58,329 --> 00:35:01,869
on this stuff<font color="#E5E5E5"> in</font><font color="#CCCCCC"> ghent</font><font color="#E5E5E5"> so there's this</font>

923
00:35:00,460 --> 00:35:03,730
<font color="#E5E5E5">great conference called config</font>

924
00:35:01,869 --> 00:35:06,010
management<font color="#E5E5E5"> camp that happens</font><font color="#CCCCCC"> 30 minutes</font>

925
00:35:03,730 --> 00:35:07,359
away<font color="#CCCCCC"> so you should</font><font color="#E5E5E5"> come to that for</font>

926
00:35:06,010 --> 00:35:08,620
<font color="#E5E5E5">people like yourself</font><font color="#CCCCCC"> we're interested</font>

927
00:35:07,359 --> 00:35:11,319
<font color="#CCCCCC">about companies we have a hack</font>

928
00:35:08,620 --> 00:35:12,970
on the<font color="#CCCCCC"> sixth in</font><font color="#E5E5E5"> gancho</font><font color="#CCCCCC"> as the last day</font>

929
00:35:11,320 --> 00:35:15,700
of config management camp<font color="#E5E5E5"> and you can</font>

930
00:35:12,970 --> 00:35:16,870
get your hands on the resource<font color="#CCCCCC"> AP I will</font>

931
00:35:15,700 --> 00:35:19,509
show you how<font color="#E5E5E5"> to build your own resource</font>

932
00:35:16,870 --> 00:35:23,560
<font color="#E5E5E5">up and hacking</font><font color="#CCCCCC"> and hopefully</font><font color="#E5E5E5"> having a</font>

933
00:35:19,510 --> 00:35:24,940
lot of<font color="#E5E5E5"> fun</font><font color="#CCCCCC"> quick question if</font><font color="#E5E5E5"> you like</font>

934
00:35:23,560 --> 00:35:26,980
this talk I<font color="#CCCCCC"> need you to help me out I</font>

935
00:35:24,940 --> 00:35:28,810
need you to take like two seconds at the

936
00:35:26,980 --> 00:35:30,430
end<font color="#E5E5E5"> and bother this gentleman named</font>

937
00:35:28,810 --> 00:35:32,380
Michael and say thank you<font color="#CCCCCC"> very much I</font>

938
00:35:30,430 --> 00:35:34,029
really<font color="#CCCCCC"> like James talk and if</font><font color="#E5E5E5"> everyone</font>

939
00:35:32,380 --> 00:35:37,120
bugs him for five seconds it's gonna be

940
00:35:34,030 --> 00:35:39,930
really funny<font color="#E5E5E5"> also so I get distributed</font>

941
00:35:37,120 --> 00:35:42,700
denial-of-service<font color="#E5E5E5"> if you go to the</font>

942
00:35:39,930 --> 00:35:44,560
schedule page on the Foss 10 website and

943
00:35:42,700 --> 00:35:46,210
you click<font color="#CCCCCC"> on the</font><font color="#E5E5E5"> schedule you can find</font>

944
00:35:44,560 --> 00:35:47,920
there's a submit feedback link which a

945
00:35:46,210 --> 00:35:50,100
super secret and hidden<font color="#CCCCCC"> you can actually</font>

946
00:35:47,920 --> 00:35:52,780
tell the fosston people hey I like<font color="#E5E5E5"> this</font>

947
00:35:50,100 --> 00:35:54,430
and if<font color="#E5E5E5"> you like I also have some free</font>

948
00:35:52,780 --> 00:35:55,660
stickers if you'd<font color="#CCCCCC"> like a</font><font color="#E5E5E5"> free sticker</font>

949
00:35:54,430 --> 00:35:57,430
<font color="#CCCCCC">and you promise to</font><font color="#E5E5E5"> use them they're</font>

950
00:35:55,660 --> 00:35:59,020
<font color="#E5E5E5">super expensive but I'll give</font><font color="#CCCCCC"> you</font><font color="#E5E5E5"> one so</font>

951
00:35:57,430 --> 00:36:00,730
<font color="#CCCCCC">just come up at the end or I'll be</font>

952
00:35:59,020 --> 00:36:04,300
<font color="#CCCCCC">outside in the corner hey there's so</font>

953
00:36:00,730 --> 00:36:06,570
<font color="#CCCCCC">Shen using MGMT contributor thank you</font>

954
00:36:04,300 --> 00:36:06,570
<font color="#E5E5E5">very much</font>

955
00:36:09,680 --> 00:36:16,129
we have yeah<font color="#CCCCCC"> we have</font><font color="#E5E5E5"> four minutes four</font>

956
00:36:13,820 --> 00:36:18,640
minutes for questions or random demos or

957
00:36:16,130 --> 00:36:18,640
yeah go ahead

958
00:36:50,320 --> 00:36:55,910
yeah I'll<font color="#CCCCCC"> give an answer</font><font color="#E5E5E5"> hopefully if</font>

959
00:36:54,140 --> 00:36:57,560
not you can<font color="#E5E5E5"> expect</font><font color="#CCCCCC"> an expand on it so</font>

960
00:36:55,910 --> 00:36:59,990
like reactive languages are actually<font color="#CCCCCC"> not</font>

961
00:36:57,560 --> 00:37:01,609
new<font color="#CCCCCC"> they're almost</font><font color="#E5E5E5"> entirely used for UI</font>

962
00:36:59,990 --> 00:37:03,229
stuff like in the web browser so you

963
00:37:01,609 --> 00:37:05,060
<font color="#E5E5E5">describe what happens in the buttons</font><font color="#CCCCCC"> are</font>

964
00:37:03,230 --> 00:37:06,980
shiny<font color="#CCCCCC"> I thought this was boring as I'm</font>

965
00:37:05,060 --> 00:37:09,440
not into UI and I<font color="#E5E5E5"> thought this was cool</font>

966
00:37:06,980 --> 00:37:12,080
because<font color="#E5E5E5"> it was</font><font color="#CCCCCC"> a new in my opinion novel</font>

967
00:37:09,440 --> 00:37:13,609
use of reactive languages but for

968
00:37:12,080 --> 00:37:15,560
example<font color="#CCCCCC"> there actually are reactive</font>

969
00:37:13,609 --> 00:37:17,598
languages I<font color="#CCCCCC"> think a very early one was</font>

970
00:37:15,560 --> 00:37:19,940
in like a military<font color="#E5E5E5"> helicopter where they</font>

971
00:37:17,599 --> 00:37:21,800
had<font color="#E5E5E5"> all the control inputs be just</font>

972
00:37:19,940 --> 00:37:24,080
inputs and then the reactive language

973
00:37:21,800 --> 00:37:25,849
integrated<font color="#CCCCCC"> all those to build the</font>

974
00:37:24,080 --> 00:37:27,109
control<font color="#E5E5E5"> services so like that the</font>

975
00:37:25,849 --> 00:37:29,780
helicopter would<font color="#E5E5E5"> do the right thing</font>

976
00:37:27,109 --> 00:37:31,549
depending on how you moved it so yeah

977
00:37:29,780 --> 00:37:33,980
<font color="#E5E5E5">that's definitely a user interface sort</font>

978
00:37:31,550 --> 00:37:35,810
of thing where you<font color="#CCCCCC"> have</font><font color="#E5E5E5"> that I don't</font>

979
00:37:33,980 --> 00:37:37,010
<font color="#E5E5E5">have a helicopter personally and no</font>

980
00:37:35,810 --> 00:37:38,540
one's probably<font color="#E5E5E5"> gonna give me one so I</font>

981
00:37:37,010 --> 00:37:40,820
hope<font color="#CCCCCC"> that answer your</font><font color="#E5E5E5"> question</font><font color="#CCCCCC"> but if</font>

982
00:37:38,540 --> 00:37:42,529
not we can talk more<font color="#CCCCCC"> about other uses</font>

983
00:37:40,820 --> 00:37:43,910
for<font color="#E5E5E5"> it</font><font color="#CCCCCC"> and this</font><font color="#E5E5E5"> is used for</font>

984
00:37:42,530 --> 00:37:45,470
infrastructure stuff<font color="#E5E5E5"> you could write</font>

985
00:37:43,910 --> 00:37:47,480
resources to do<font color="#E5E5E5"> all sorts of absurd</font>

986
00:37:45,470 --> 00:37:49,339
things<font color="#E5E5E5"> nothing to do with what I care</font>

987
00:37:47,480 --> 00:37:51,410
about<font color="#CCCCCC"> and</font><font color="#E5E5E5"> that would</font><font color="#CCCCCC"> work just</font><font color="#E5E5E5"> fine</font><font color="#CCCCCC"> and</font>

988
00:37:49,340 --> 00:37:53,000
<font color="#E5E5E5">you</font><font color="#CCCCCC"> can use all the graph logic and all</font>

989
00:37:51,410 --> 00:37:54,230
that stuff built in to do the<font color="#E5E5E5"> work right</font>

990
00:37:53,000 --> 00:38:00,200
so<font color="#CCCCCC"> that's that's the theory</font>

991
00:37:54,230 --> 00:38:05,859
yeah<font color="#E5E5E5"> gentleman over</font><font color="#CCCCCC"> here if</font><font color="#E5E5E5"> you have a</font>

992
00:38:00,200 --> 00:38:05,859
big<font color="#CCCCCC"> one sorry okay</font>

993
00:38:10,270 --> 00:38:16,130
thousand<font color="#E5E5E5"> so I haven't</font><font color="#CCCCCC"> tested it at any</font>

994
00:38:13,730 --> 00:38:17,840
absurd skills but the the lovely thing

995
00:38:16,130 --> 00:38:19,610
<font color="#CCCCCC">about that first graph that</font><font color="#E5E5E5"> we talked</font>

996
00:38:17,840 --> 00:38:21,680
about<font color="#E5E5E5"> that dag is we</font><font color="#CCCCCC"> actually run</font>

997
00:38:19,610 --> 00:38:23,120
everything in parallel<font color="#E5E5E5"> so there's</font>

998
00:38:21,680 --> 00:38:24,440
obviously<font color="#E5E5E5"> the memory limits of your</font>

999
00:38:23,120 --> 00:38:27,140
<font color="#E5E5E5">hardware</font><font color="#CCCCCC"> and how many things didn't</font>

1000
00:38:24,440 --> 00:38:29,930
<font color="#E5E5E5">actually run however once the graph is</font>

1001
00:38:27,140 --> 00:38:31,400
running most of the time<font color="#E5E5E5"> all thousand</font>

1002
00:38:29,930 --> 00:38:33,740
resources aren't<font color="#E5E5E5"> all changing at the</font>

1003
00:38:31,400 --> 00:38:35,810
<font color="#E5E5E5">same time if they are something really</font>

1004
00:38:33,740 --> 00:38:37,490
<font color="#E5E5E5">wrong is with your system but in</font>

1005
00:38:35,810 --> 00:38:39,350
practice some percentage of<font color="#E5E5E5"> them might</font>

1006
00:38:37,490 --> 00:38:41,120
be changing in<font color="#E5E5E5"> real time and since it</font>

1007
00:38:39,350 --> 00:38:42,770
<font color="#E5E5E5">runs in parallel</font><font color="#CCCCCC"> it's only that</font><font color="#E5E5E5"> small</font>

1008
00:38:41,120 --> 00:38:44,900
subset that<font color="#E5E5E5"> actually is gonna run at the</font>

1009
00:38:42,770 --> 00:38:47,840
same time so I<font color="#CCCCCC"> think you'll actually</font>

1010
00:38:44,900 --> 00:38:50,090
find it's it's pretty<font color="#E5E5E5"> fast and a lot</font>

1011
00:38:47,840 --> 00:38:51,830
<font color="#E5E5E5">less memory consuming than any other</font>

1012
00:38:50,090 --> 00:38:57,920
piece<font color="#CCCCCC"> of software out there</font><font color="#E5E5E5"> in this</font>

1013
00:38:51,830 --> 00:38:59,270
<font color="#E5E5E5">space does that make sense</font><font color="#CCCCCC"> the question</font>

1014
00:38:57,920 --> 00:39:02,660
was is there stateful information that

1015
00:38:59,270 --> 00:39:06,740
you want to keep so<font color="#E5E5E5"> yes and no for the</font>

1016
00:39:02,660 --> 00:39:08,509
most part<font color="#E5E5E5"> no however you actually can</font>

1017
00:39:06,740 --> 00:39:10,910
share some stateful information in the

1018
00:39:08,510 --> 00:39:13,160
<font color="#CCCCCC">sed graph</font><font color="#E5E5E5"> that was like the data that's</font>

1019
00:39:10,910 --> 00:39:15,529
exchanged<font color="#E5E5E5"> however and</font><font color="#CCCCCC"> this</font><font color="#E5E5E5"> is kind of a</font>

1020
00:39:13,160 --> 00:39:18,080
weird<font color="#E5E5E5"> fun property that worked out</font><font color="#CCCCCC"> it</font>

1021
00:39:15,530 --> 00:39:20,990
turns out<font color="#E5E5E5"> that virtually all so far of</font>

1022
00:39:18,080 --> 00:39:23,420
the<font color="#E5E5E5"> information can be regenerated from</font>

1023
00:39:20,990 --> 00:39:26,270
<font color="#E5E5E5">scratch so even if the Etsy database is</font>

1024
00:39:23,420 --> 00:39:28,250
lost or corrupted all those<font color="#CCCCCC"> values come</font>

1025
00:39:26,270 --> 00:39:30,530
from code from algorithms<font color="#E5E5E5"> they're not</font>

1026
00:39:28,250 --> 00:39:31,040
user input<font color="#E5E5E5"> so they all get regenerated</font>

1027
00:39:30,530 --> 00:39:33,890
as well

1028
00:39:31,040 --> 00:39:37,940
so it's it's very<font color="#E5E5E5"> nice actually</font><font color="#CCCCCC"> it's a</font>

1029
00:39:33,890 --> 00:39:40,549
for the people that<font color="#CCCCCC"> are into that</font><font color="#E5E5E5"> it we</font>

1030
00:39:37,940 --> 00:39:42,470
use actually it's a CP system but

1031
00:39:40,550 --> 00:39:47,950
technically<font color="#CCCCCC"> we</font><font color="#E5E5E5"> could probably run as an</font>

1032
00:39:42,470 --> 00:39:47,950
AP<font color="#CCCCCC"> system without</font><font color="#E5E5E5"> any problems you know</font>

1033
00:39:49,180 --> 00:39:56,160
generally what's right

1034
00:39:51,750 --> 00:39:58,920
oh yeah so the agents<font color="#CCCCCC"> you do run</font><font color="#E5E5E5"> it on</font>

1035
00:39:56,160 --> 00:40:00,210
multiple<font color="#E5E5E5"> hosts</font><font color="#CCCCCC"> so you run one on every</font>

1036
00:39:58,920 --> 00:40:03,240
server that<font color="#E5E5E5"> you</font><font color="#CCCCCC"> want to have to be part</font>

1037
00:40:00,210 --> 00:40:06,270
<font color="#CCCCCC">of the cluster</font><font color="#E5E5E5"> in fact I didn't talk</font>

1038
00:40:03,240 --> 00:40:08,580
<font color="#E5E5E5">about it in this talk but the raft</font>

1039
00:40:06,270 --> 00:40:11,820
algorithm and MGMT has code so that<font color="#E5E5E5"> if</font>

1040
00:40:08,580 --> 00:40:13,890
you have a failure<font color="#CCCCCC"> you can respond to</font>

1041
00:40:11,820 --> 00:40:16,290
those failures<font color="#E5E5E5"> and reelect new masters</font>

1042
00:40:13,890 --> 00:40:21,359
and stuff and<font color="#E5E5E5"> that's all automatic so</font>

1043
00:40:16,290 --> 00:40:23,970
yeah<font color="#E5E5E5"> so how the code is deployed so</font>

1044
00:40:21,359 --> 00:40:26,098
basically you<font color="#E5E5E5"> start up on boot</font>

1045
00:40:23,970 --> 00:40:28,109
MGMT on each server<font color="#E5E5E5"> and they</font>

1046
00:40:26,099 --> 00:40:30,570
automatically cluster<font color="#E5E5E5"> together by having</font>

1047
00:40:28,109 --> 00:40:32,430
<font color="#E5E5E5">every new machine point at any existing</font>

1048
00:40:30,570 --> 00:40:34,830
machine in the cluster<font color="#CCCCCC"> at</font><font color="#E5E5E5"> the moment you</font>

1049
00:40:32,430 --> 00:40:36,868
have<font color="#CCCCCC"> to actually specify</font><font color="#E5E5E5"> any existing IP</font>

1050
00:40:34,830 --> 00:40:39,630
address but<font color="#E5E5E5"> in the future we'll build</font>

1051
00:40:36,869 --> 00:40:40,890
<font color="#CCCCCC">this in and do something like vrrp or if</font>

1052
00:40:39,630 --> 00:40:42,720
you're familiar with<font color="#CCCCCC"> in</font><font color="#E5E5E5"> everything where</font>

1053
00:40:40,890 --> 00:40:45,660
<font color="#CCCCCC">you have a IP address which moves around</font>

1054
00:40:42,720 --> 00:40:47,040
<font color="#E5E5E5">virtual IP to any machine so eventually</font>

1055
00:40:45,660 --> 00:40:50,490
it'll be 100%<font color="#E5E5E5"> automatic</font>

1056
00:40:47,040 --> 00:40:54,900
<font color="#E5E5E5">at the moment it's mostly automatic good</font>

1057
00:40:50,490 --> 00:40:56,640
question yeah<font color="#E5E5E5"> so you can actually so</font>

1058
00:40:54,900 --> 00:40:58,200
what you can do if you want<font color="#E5E5E5"> I like it</font>

1059
00:40:56,640 --> 00:41:00,330
when it's always running<font color="#E5E5E5"> but you can</font>

1060
00:40:58,200 --> 00:41:02,189
<font color="#CCCCCC">actually run it</font><font color="#E5E5E5"> and once the graph has</font>

1061
00:41:00,330 --> 00:41:06,049
converged<font color="#E5E5E5"> for some number of seconds</font>

1062
00:41:02,190 --> 00:41:10,650
<font color="#E5E5E5">then you can shut down good question I</font>

1063
00:41:06,050 --> 00:41:13,140
think<font color="#CCCCCC"> that's out thank</font><font color="#E5E5E5"> you so much you</font>

1064
00:41:10,650 --> 00:41:15,500
want a sticker<font color="#CCCCCC"> from the</font><font color="#E5E5E5"> come grab a</font>

1065
00:41:13,140 --> 00:41:15,500
sticker

