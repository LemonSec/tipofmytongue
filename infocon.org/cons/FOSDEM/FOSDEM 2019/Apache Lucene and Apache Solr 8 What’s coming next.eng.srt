1
00:00:04,640 --> 00:00:17,810
the microphone is<font color="#E5E5E5"> green and on yeah yeah</font>

2
00:00:13,429 --> 00:00:22,220
hi the next talk<font color="#E5E5E5"> will be</font><font color="#CCCCCC"> somehow</font><font color="#E5E5E5"> two</font>

3
00:00:17,810 --> 00:00:25,849
<font color="#E5E5E5">stages lower as he said it's now not not</font>

4
00:00:22,220 --> 00:00:28,640
not about especially<font color="#CCCCCC"> solo elasticsearch</font>

5
00:00:25,850 --> 00:00:32,419
features it's more about what's below

6
00:00:28,640 --> 00:00:34,489
everything<font color="#E5E5E5"> and that hope will be about</font>

7
00:00:32,418 --> 00:00:37,970
<font color="#CCCCCC">Lucene</font><font color="#E5E5E5"> but they will also have a little</font>

8
00:00:34,489 --> 00:00:39,979
<font color="#CCCCCC">bit of solar</font><font color="#E5E5E5"> a version</font><font color="#CCCCCC"> 8 here that just</font>

9
00:00:37,970 --> 00:00:42,409
very very<font color="#E5E5E5"> quick my background I'm one of</font>

10
00:00:39,979 --> 00:00:45,979
the<font color="#E5E5E5"> commuters of Apache</font><font color="#CCCCCC"> Lucine and</font><font color="#E5E5E5"> solar</font>

11
00:00:42,409 --> 00:00:49,699
<font color="#E5E5E5">but I'm also in my daily life I'm doing</font>

12
00:00:45,979 --> 00:00:51,500
<font color="#E5E5E5">more elasticsearch stuff and I was the</font>

13
00:00:49,699 --> 00:00:55,809
<font color="#E5E5E5">one who implemented the first numeric</font>

14
00:00:51,500 --> 00:00:58,670
<font color="#E5E5E5">queries that all of you might use so</font>

15
00:00:55,809 --> 00:01:01,159
this talk will about will be about<font color="#E5E5E5"> Lucy</font>

16
00:00:58,670 --> 00:01:04,610
in<font color="#CCCCCC"> 8</font><font color="#E5E5E5"> and of course the first question</font>

17
00:01:01,159 --> 00:01:06,890
<font color="#E5E5E5">everybody will will ask</font><font color="#CCCCCC"> you is</font><font color="#E5E5E5"> when does</font>

18
00:01:04,610 --> 00:01:11,600
<font color="#CCCCCC">it</font><font color="#E5E5E5"> come out and of</font><font color="#CCCCCC"> course</font><font color="#E5E5E5"> the official</font>

19
00:01:06,890 --> 00:01:14,570
answer<font color="#E5E5E5"> is no</font><font color="#CCCCCC"> comment but as far as I see</font>

20
00:01:11,600 --> 00:01:19,070
<font color="#E5E5E5">there are now plans to really do the</font>

21
00:01:14,570 --> 00:01:21,800
first test releases so I hope maybe you

22
00:01:19,070 --> 00:01:26,449
get it in the next<font color="#CCCCCC"> months maybe or in</font>

23
00:01:21,800 --> 00:01:27,320
two<font color="#CCCCCC"> months</font><font color="#E5E5E5"> but let's see important the</font>

24
00:01:26,450 --> 00:01:31,820
release<font color="#E5E5E5"> Blanche</font>

25
00:01:27,320 --> 00:01:36,889
so for the whole<font color="#CCCCCC"> of the 80s was the boss</font>

26
00:01:31,820 --> 00:01:39,110
cut<font color="#E5E5E5"> off</font><font color="#CCCCCC"> in mid-january</font><font color="#E5E5E5"> and based on that</font>

27
00:01:36,890 --> 00:01:41,930
<font color="#E5E5E5">currently everything is committed to</font>

28
00:01:39,110 --> 00:01:43,700
more in most<font color="#E5E5E5"> cases we progress when</font><font color="#CCCCCC"> the</font>

29
00:01:41,930 --> 00:01:46,430
<font color="#E5E5E5">apart fixes so it's going to the master</font>

30
00:01:43,700 --> 00:01:48,680
<font color="#CCCCCC">branch which will be</font><font color="#E5E5E5"> Lucy 9 to</font><font color="#CCCCCC"> the 8th</font>

31
00:01:46,430 --> 00:01:51,440
branch and then we also are<font color="#E5E5E5"> doing some</font>

32
00:01:48,680 --> 00:01:53,030
<font color="#E5E5E5">additional duplications</font><font color="#CCCCCC"> because we want</font>

33
00:01:51,440 --> 00:01:56,000
<font color="#E5E5E5">to remove some stuff and this will go</font>

34
00:01:53,030 --> 00:01:58,550
into the<font color="#E5E5E5"> leucine 7.7 release which will</font>

35
00:01:56,000 --> 00:02:04,370
come shortly before the 8<font color="#E5E5E5"> release</font><font color="#CCCCCC"> so</font>

36
00:01:58,550 --> 00:02:07,009
that's plan<font color="#E5E5E5"> okay the first thing is what</font>

37
00:02:04,370 --> 00:02:08,899
will change<font color="#CCCCCC"> in Lezyne so here you see</font>

38
00:02:07,010 --> 00:02:12,019
already<font color="#E5E5E5"> there's something with</font><font color="#CCCCCC"> 10 times</font>

39
00:02:08,899 --> 00:02:14,360
faster queries and indeed<font color="#E5E5E5"> that's really</font>

40
00:02:12,019 --> 00:02:17,810
happening because the most important

41
00:02:14,360 --> 00:02:20,630
change is that<font color="#CCCCCC"> Lucy in got somehow</font>

42
00:02:17,810 --> 00:02:23,690
new result collection engine so when it

43
00:02:20,630 --> 00:02:28,609
executes<font color="#E5E5E5"> a query</font><font color="#CCCCCC"> the way how the results</font>

44
00:02:23,690 --> 00:02:31,190
<font color="#CCCCCC">are collected</font><font color="#E5E5E5"> was changed</font><font color="#CCCCCC"> so</font><font color="#E5E5E5"> you can can</font>

45
00:02:28,610 --> 00:02:34,489
<font color="#E5E5E5">short circulates a search so other means</font>

46
00:02:31,190 --> 00:02:37,220
<font color="#E5E5E5">if you do not need the whole result</font>

47
00:02:34,489 --> 00:02:39,769
count<font color="#CCCCCC"> so the exact count of metrics you</font>

48
00:02:37,220 --> 00:02:42,050
want then<font color="#E5E5E5"> you don't need to count all</font>

49
00:02:39,769 --> 00:02:44,180
<font color="#E5E5E5">the matches calculate the score of it so</font>

50
00:02:42,050 --> 00:02:46,160
you can<font color="#E5E5E5"> shot so good and just say I have</font>

51
00:02:44,180 --> 00:02:47,840
found more than<font color="#CCCCCC"> 1,000 results</font><font color="#E5E5E5"> or</font>

52
00:02:46,160 --> 00:02:50,030
something like<font color="#E5E5E5"> that</font><font color="#CCCCCC"> and that's</font><font color="#E5E5E5"> something</font>

53
00:02:47,840 --> 00:02:53,390
which brings<font color="#CCCCCC"> four specific types</font><font color="#E5E5E5"> of</font>

54
00:02:50,030 --> 00:02:55,489
queries and especially<font color="#E5E5E5"> those are the</font>

55
00:02:53,390 --> 00:02:57,470
boolean<font color="#E5E5E5"> queries if you have many or</font>

56
00:02:55,489 --> 00:02:59,540
clauses<font color="#E5E5E5"> and maybe some of those or</font>

57
00:02:57,470 --> 00:03:01,580
clauses<font color="#CCCCCC"> have very</font><font color="#E5E5E5"> very common terms like</font>

58
00:02:59,540 --> 00:03:04,489
stop<font color="#E5E5E5"> words and then or you have</font>

59
00:03:01,580 --> 00:03:06,970
<font color="#E5E5E5">something</font><font color="#CCCCCC"> like many many results but you</font>

60
00:03:04,489 --> 00:03:09,500
<font color="#E5E5E5">still want to do</font><font color="#CCCCCC"> because in</font><font color="#E5E5E5"> nature</font><font color="#CCCCCC"> a</font>

61
00:03:06,970 --> 00:03:11,390
natural<font color="#E5E5E5"> language processing and full</font>

62
00:03:09,500 --> 00:03:13,190
text search engines<font color="#CCCCCC"> you are never doing</font>

63
00:03:11,390 --> 00:03:14,720
<font color="#E5E5E5">end queries you're doing or queries</font>

64
00:03:13,190 --> 00:03:16,910
<font color="#CCCCCC">because you want to</font><font color="#E5E5E5"> show the most</font>

65
00:03:14,720 --> 00:03:19,010
relevant ones first<font color="#CCCCCC"> but if a very very</font>

66
00:03:16,910 --> 00:03:20,480
long tail and<font color="#E5E5E5"> you are in most cases not</font>

67
00:03:19,010 --> 00:03:22,608
interested on the long tail

68
00:03:20,480 --> 00:03:24,828
so in that case and you also don't want

69
00:03:22,609 --> 00:03:27,680
<font color="#CCCCCC">to know how many</font><font color="#E5E5E5"> results</font><font color="#CCCCCC"> they</font><font color="#E5E5E5"> are so you</font>

70
00:03:24,829 --> 00:03:29,390
can simply cut that off so the new

71
00:03:27,680 --> 00:03:31,340
result collection engine works with some

72
00:03:29,390 --> 00:03:33,858
queries of course boolean query phrase

73
00:03:31,340 --> 00:03:37,310
queries and all<font color="#E5E5E5"> the constants</font><font color="#CCCCCC"> core query</font>

74
00:03:33,859 --> 00:03:40,670
<font color="#E5E5E5">but the question is how does</font><font color="#CCCCCC"> it work now</font>

75
00:03:37,310 --> 00:03:43,010
<font color="#CCCCCC">so the idea here</font><font color="#E5E5E5"> is to add some</font>

76
00:03:40,670 --> 00:03:45,890
additional statistical information to

77
00:03:43,010 --> 00:03:47,959
the index so<font color="#E5E5E5"> you can do that</font>

78
00:03:45,890 --> 00:03:50,358
<font color="#CCCCCC">short-circuit because when you</font><font color="#E5E5E5"> are</font>

79
00:03:47,959 --> 00:03:52,280
collecting<font color="#CCCCCC"> the top ranking results you</font>

80
00:03:50,359 --> 00:03:55,340
need some<font color="#E5E5E5"> information from the index to</font>

81
00:03:52,280 --> 00:03:58,069
jump over the results<font color="#CCCCCC"> if when you know</font>

82
00:03:55,340 --> 00:04:00,410
that<font color="#E5E5E5"> they are not relevant at all</font>

83
00:03:58,069 --> 00:04:03,530
because<font color="#E5E5E5"> their score is</font><font color="#CCCCCC"> too low</font><font color="#E5E5E5"> and to</font>

84
00:04:00,410 --> 00:04:07,160
help<font color="#E5E5E5"> with that</font><font color="#CCCCCC"> you are saving maximum</font>

85
00:04:03,530 --> 00:04:09,109
term frequency<font color="#E5E5E5"> and also the norm in in</font>

86
00:04:07,160 --> 00:04:11,989
separate blocks<font color="#E5E5E5"> in in blocks of the</font>

87
00:04:09,109 --> 00:04:14,690
posting<font color="#CCCCCC"> lists</font><font color="#E5E5E5"> and then</font><font color="#CCCCCC"> you can jump over</font>

88
00:04:11,989 --> 00:04:17,139
<font color="#E5E5E5">that I will explain that a little</font><font color="#CCCCCC"> bit</font>

89
00:04:14,690 --> 00:04:19,810
later<font color="#E5E5E5"> it's also done multi-level and</font>

90
00:04:17,139 --> 00:04:27,380
it's stored in<font color="#E5E5E5"> the so called Skip list</font>

91
00:04:19,810 --> 00:04:29,840
<font color="#E5E5E5">so here's the paper about what we</font>

92
00:04:27,380 --> 00:04:31,340
implemented I think it's<font color="#E5E5E5"> from 2011 it's</font>

93
00:04:29,840 --> 00:04:33,198
the fast

94
00:04:31,340 --> 00:04:36,469
the<font color="#CCCCCC"> topic a document retrieval using</font>

95
00:04:33,199 --> 00:04:39,850
block max<font color="#E5E5E5"> indexes and the cool thing</font><font color="#CCCCCC"> is</font>

96
00:04:36,470 --> 00:04:42,530
<font color="#E5E5E5">all</font><font color="#CCCCCC"> Splott max indexes are working very</font>

97
00:04:39,850 --> 00:04:44,750
very close to those skip lists in new

98
00:04:42,530 --> 00:04:47,388
scenes or you can reuse<font color="#E5E5E5"> a lot of code to</font>

99
00:04:44,750 --> 00:04:51,199
implement<font color="#E5E5E5"> that and be based on that it</font>

100
00:04:47,389 --> 00:04:53,150
makes it much<font color="#CCCCCC"> easier for</font><font color="#E5E5E5"> us</font><font color="#CCCCCC"> to include</font>

101
00:04:51,199 --> 00:04:58,370
<font color="#E5E5E5">that so the first</font><font color="#CCCCCC"> question</font><font color="#E5E5E5"> is what is</font><font color="#CCCCCC"> a</font>

102
00:04:53,150 --> 00:05:00,409
skip list<font color="#CCCCCC"> so the Skip list is if you</font>

103
00:04:58,370 --> 00:05:04,100
have a standard Lucene<font color="#E5E5E5"> index you have to</font>

104
00:05:00,410 --> 00:05:08,389
<font color="#E5E5E5">- so if a query for two words which is</font>

105
00:05:04,100 --> 00:05:10,520
<font color="#E5E5E5">leucine</font><font color="#CCCCCC"> and search and the list here is</font>

106
00:05:08,389 --> 00:05:13,490
the document<font color="#CCCCCC"> numbers which have</font><font color="#E5E5E5"> that</font>

107
00:05:10,520 --> 00:05:15,409
term here<font color="#E5E5E5"> and normally if you're</font><font color="#CCCCCC"> doing</font>

108
00:05:13,490 --> 00:05:17,810
or query you would simply collect all

109
00:05:15,410 --> 00:05:20,630
those document numbers and score them

110
00:05:17,810 --> 00:05:22,760
but for an end query<font color="#E5E5E5"> you can make use of</font>

111
00:05:20,630 --> 00:05:25,669
the so called<font color="#CCCCCC"> Skip list</font><font color="#E5E5E5"> that means</font>

112
00:05:22,760 --> 00:05:32,270
<font color="#E5E5E5">because</font><font color="#CCCCCC"> you need if you have an end</font>

113
00:05:25,669 --> 00:05:35,330
query you need to have<font color="#CCCCCC"> and you</font><font color="#E5E5E5"> need</font>

114
00:05:32,270 --> 00:05:36,859
<font color="#E5E5E5">somehow also you you have to to find all</font>

115
00:05:35,330 --> 00:05:38,780
those<font color="#E5E5E5"> metrics which</font><font color="#CCCCCC"> owns the</font><font color="#E5E5E5"> same</font>

116
00:05:36,860 --> 00:05:42,979
document for all<font color="#CCCCCC"> N query so that means</font>

117
00:05:38,780 --> 00:05:46,669
your first iterating through the posting

118
00:05:42,979 --> 00:05:48,469
<font color="#CCCCCC">list of the first term</font><font color="#E5E5E5"> you</font><font color="#CCCCCC"> find the</font>

119
00:05:46,669 --> 00:05:53,870
result<font color="#E5E5E5"> number</font><font color="#CCCCCC"> seven and then</font><font color="#E5E5E5"> you have to</font>

120
00:05:48,470 --> 00:05:56,210
say<font color="#CCCCCC"> okay</font><font color="#E5E5E5"> skip the other one</font><font color="#CCCCCC"> - any</font>

121
00:05:53,870 --> 00:05:57,950
document which is<font color="#CCCCCC"> after or on seven and</font>

122
00:05:56,210 --> 00:05:59,840
so that happens<font color="#E5E5E5"> that it's jumping here</font>

123
00:05:57,950 --> 00:06:03,320
from the<font color="#E5E5E5"> seven to that seven and then it</font>

124
00:05:59,840 --> 00:06:03,679
<font color="#E5E5E5">asks again go forward and find the next</font>

125
00:06:03,320 --> 00:06:06,229
<font color="#E5E5E5">one</font>

126
00:06:03,680 --> 00:06:08,720
<font color="#E5E5E5">which must be</font><font color="#CCCCCC"> after seven</font><font color="#E5E5E5"> I have here</font>

127
00:06:06,229 --> 00:06:11,000
<font color="#CCCCCC">twelve in</font><font color="#E5E5E5"> that case but</font><font color="#CCCCCC"> twelve</font><font color="#E5E5E5"> does not</font>

128
00:06:08,720 --> 00:06:12,860
help so I have to go to 15 and because

129
00:06:11,000 --> 00:06:15,470
of that if you<font color="#E5E5E5"> have some additional</font>

130
00:06:12,860 --> 00:06:18,200
<font color="#CCCCCC">statistics</font><font color="#E5E5E5"> like here if you know for</font>

131
00:06:15,470 --> 00:06:20,330
<font color="#E5E5E5">example</font><font color="#CCCCCC"> you want</font><font color="#E5E5E5"> to chop some to 15 here</font>

132
00:06:18,200 --> 00:06:22,639
in the first posting list and you're

133
00:06:20,330 --> 00:06:25,159
somewhere<font color="#E5E5E5"> here</font><font color="#CCCCCC"> you can reuse some</font>

134
00:06:22,639 --> 00:06:26,960
information saved on the<font color="#E5E5E5"> block</font><font color="#CCCCCC"> so you</font>

135
00:06:25,160 --> 00:06:29,900
are splitting<font color="#E5E5E5"> that into blocks or</font><font color="#CCCCCC"> for</font>

136
00:06:26,960 --> 00:06:33,109
<font color="#E5E5E5">items and then you can quickly</font><font color="#CCCCCC"> jump to</font>

137
00:06:29,900 --> 00:06:35,780
number<font color="#E5E5E5"> 15 or to number 57 and that's a</font>

138
00:06:33,110 --> 00:06:37,639
<font color="#CCCCCC">so-called Skip list so for</font><font color="#E5E5E5"> end queries</font>

139
00:06:35,780 --> 00:06:40,070
currently the Skip list is heavily<font color="#E5E5E5"> used</font>

140
00:06:37,639 --> 00:06:41,590
<font color="#CCCCCC">so when you</font><font color="#E5E5E5"> apply a filter in a</font><font color="#CCCCCC"> losing</font>

141
00:06:40,070 --> 00:06:43,960
query

142
00:06:41,590 --> 00:06:48,219
most of the<font color="#CCCCCC"> credit time is used in</font>

143
00:06:43,960 --> 00:06:50,950
jumping through those terms<font color="#E5E5E5"> so and now</font>

144
00:06:48,220 --> 00:06:54,730
the idea<font color="#CCCCCC"> here is to reuse the same skip</font>

145
00:06:50,950 --> 00:06:56,979
list<font color="#CCCCCC"> yeah there's something</font><font color="#E5E5E5"> else the</font>

146
00:06:54,730 --> 00:06:59,350
Skip list is also multi-layered<font color="#E5E5E5"> so that</font>

147
00:06:56,980 --> 00:07:01,240
means<font color="#CCCCCC"> you have</font><font color="#E5E5E5"> multi layers so</font><font color="#CCCCCC"> you can</font>

148
00:06:59,350 --> 00:07:03,280
also have<font color="#CCCCCC"> something</font><font color="#E5E5E5"> if you</font><font color="#CCCCCC"> are here</font><font color="#E5E5E5"> and</font>

149
00:07:01,240 --> 00:07:06,450
you want<font color="#CCCCCC"> to jump to document or after</font>

150
00:07:03,280 --> 00:07:09,130
document<font color="#CCCCCC"> or</font><font color="#E5E5E5"> at e3 there's a direct</font><font color="#CCCCCC"> pass</font>

151
00:07:06,450 --> 00:07:11,349
from from<font color="#CCCCCC"> that one so you</font><font color="#E5E5E5"> can even jump</font>

152
00:07:09,130 --> 00:07:14,409
faster<font color="#E5E5E5"> so on a different level</font>

153
00:07:11,350 --> 00:07:16,210
so the idea now is to<font color="#CCCCCC"> add</font><font color="#E5E5E5"> some</font>

154
00:07:14,410 --> 00:07:19,780
additional<font color="#CCCCCC"> information like</font><font color="#E5E5E5"> for example</font>

155
00:07:16,210 --> 00:07:23,650
<font color="#CCCCCC">the term</font><font color="#E5E5E5"> frequency into that skip list</font>

156
00:07:19,780 --> 00:07:25,659
and then you<font color="#CCCCCC"> can do almost the same for</font>

157
00:07:23,650 --> 00:07:27,669
for<font color="#E5E5E5"> queries because you know if you're</font>

158
00:07:25,660 --> 00:07:32,139
<font color="#E5E5E5">collecting the the top ranking results</font>

159
00:07:27,669 --> 00:07:34,299
<font color="#CCCCCC">you have a specific score</font><font color="#E5E5E5"> and if you</font>

160
00:07:32,139 --> 00:07:37,270
have<font color="#E5E5E5"> already filled your top</font><font color="#CCCCCC"> one getting</font>

161
00:07:34,300 --> 00:07:39,370
results<font color="#E5E5E5"> with a minimum so the</font><font color="#CCCCCC"> lowest</font>

162
00:07:37,270 --> 00:07:41,950
competive score is something like<font color="#CCCCCC"> 10 for</font>

163
00:07:39,370 --> 00:07:44,440
example<font color="#E5E5E5"> then any document which would</font>

164
00:07:41,950 --> 00:07:46,419
have a score<font color="#CCCCCC"> of 9 would never get into</font>

165
00:07:44,440 --> 00:07:49,510
<font color="#E5E5E5">the</font><font color="#CCCCCC"> top ranking result list</font><font color="#E5E5E5"> so you can</font>

166
00:07:46,419 --> 00:07:52,270
simply jump over those and because we

167
00:07:49,510 --> 00:07:54,640
cannot store the scores<font color="#E5E5E5"> in the posting</font>

168
00:07:52,270 --> 00:07:56,950
<font color="#CCCCCC">list what we are doing here</font><font color="#E5E5E5"> is we we add</font>

169
00:07:54,640 --> 00:07:59,229
some those statistics also<font color="#E5E5E5"> we say here</font>

170
00:07:56,950 --> 00:08:01,060
<font color="#CCCCCC">all those</font><font color="#E5E5E5"> documents with those</font><font color="#CCCCCC"> numbers</font>

171
00:07:59,229 --> 00:08:07,890
have a<font color="#E5E5E5"> trump frequency of</font><font color="#CCCCCC"> suis</font><font color="#E5E5E5"> and</font>

172
00:08:01,060 --> 00:08:10,570
because the score is is is is somehow

173
00:08:07,890 --> 00:08:12,070
<font color="#CCCCCC">realized</font><font color="#E5E5E5"> so if the score goes up or the</font>

174
00:08:10,570 --> 00:08:14,110
term frequency<font color="#E5E5E5"> know if the term</font>

175
00:08:12,070 --> 00:08:16,389
<font color="#CCCCCC">frequency goes</font><font color="#E5E5E5"> up the score also goes up</font>

176
00:08:14,110 --> 00:08:18,250
<font color="#E5E5E5">and the same you can do for the norms</font>

177
00:08:16,389 --> 00:08:21,340
<font color="#E5E5E5">but there's the other way around</font><font color="#CCCCCC"> and</font>

178
00:08:18,250 --> 00:08:23,710
<font color="#E5E5E5">based on that you're just asking</font><font color="#CCCCCC"> in</font><font color="#E5E5E5"> that</font>

179
00:08:21,340 --> 00:08:26,169
case if you<font color="#E5E5E5"> have an awkward</font><font color="#CCCCCC"> I just need</font>

180
00:08:23,710 --> 00:08:30,099
a new document<font color="#E5E5E5"> where the minimum score</font>

181
00:08:26,169 --> 00:08:31,389
is at least 20<font color="#E5E5E5"> to get in the top ranking</font>

182
00:08:30,100 --> 00:08:34,450
<font color="#CCCCCC">results and then you are Trust</font>

183
00:08:31,389 --> 00:08:37,959
calculating from the from the Skip list

184
00:08:34,450 --> 00:08:40,330
<font color="#CCCCCC">but the best position is to move and as</font>

185
00:08:37,958 --> 00:08:42,250
<font color="#E5E5E5">you see here of course I cannot count</font>

186
00:08:40,330 --> 00:08:44,920
that<font color="#E5E5E5"> documents anymore because I</font><font color="#CCCCCC"> don't</font>

187
00:08:42,250 --> 00:08:48,550
know over how<font color="#E5E5E5"> many documents I charmed</font>

188
00:08:44,920 --> 00:08:49,829
<font color="#E5E5E5">and because of that you're losing the</font>

189
00:08:48,550 --> 00:08:53,540
information how<font color="#CCCCCC"> many</font>

190
00:08:49,830 --> 00:08:57,149
hits<font color="#E5E5E5"> you have in your belly at the end</font>

191
00:08:53,540 --> 00:09:00,630
so if you want to have more details as

192
00:08:57,149 --> 00:09:02,130
especially<font color="#E5E5E5"> the stuff how it works with</font>

193
00:09:00,630 --> 00:09:04,080
the<font color="#E5E5E5"> other queries how it works with</font>

194
00:09:02,130 --> 00:09:07,529
boolean<font color="#E5E5E5"> queries whose phrase queries and</font>

195
00:09:04,080 --> 00:09:11,339
so on will the talk by<font color="#E5E5E5"> Ellen Woodward</font>

196
00:09:07,529 --> 00:09:14,670
<font color="#E5E5E5">directly after</font><font color="#CCCCCC"> that one showing you more</font>

197
00:09:11,339 --> 00:09:17,040
details<font color="#E5E5E5"> about that this is why I wanted</font>

198
00:09:14,670 --> 00:09:22,199
to make<font color="#CCCCCC"> it short but as always</font><font color="#E5E5E5"> if you</font>

199
00:09:17,040 --> 00:09:25,860
explain<font color="#E5E5E5"> something it's it's a you want</font>

200
00:09:22,200 --> 00:09:28,230
to<font color="#E5E5E5"> give it as much as possible so in</font>

201
00:09:25,860 --> 00:09:32,940
<font color="#CCCCCC">addition</font><font color="#E5E5E5"> to that in</font><font color="#CCCCCC"> leucine 8 we have</font>

202
00:09:28,230 --> 00:09:34,890
<font color="#E5E5E5">some new field types one is the feature</font>

203
00:09:32,940 --> 00:09:37,740
field which is already existing<font color="#CCCCCC"> in</font>

204
00:09:34,890 --> 00:09:39,899
previous versions of<font color="#E5E5E5"> Lusine but the idea</font>

205
00:09:37,740 --> 00:09:42,060
behind<font color="#CCCCCC"> that field type is you can use it</font>

206
00:09:39,899 --> 00:09:43,980
<font color="#CCCCCC">now with the block max index also to</font>

207
00:09:42,060 --> 00:09:46,050
jump over documents<font color="#CCCCCC"> where</font><font color="#E5E5E5"> you have</font>

208
00:09:43,980 --> 00:09:47,490
<font color="#E5E5E5">something</font><font color="#CCCCCC"> like ranking factors</font><font color="#E5E5E5"> in</font><font color="#CCCCCC"> that</font>

209
00:09:46,050 --> 00:09:52,349
so if you have<font color="#CCCCCC"> something like a per</font><font color="#E5E5E5"> talk</font>

210
00:09:47,490 --> 00:09:55,350
you meant<font color="#E5E5E5"> feature like the</font><font color="#CCCCCC"> PageRank</font><font color="#E5E5E5"> you</font>

211
00:09:52,350 --> 00:09:57,149
you want to<font color="#CCCCCC"> use that in the scoring</font><font color="#E5E5E5"> but</font>

212
00:09:55,350 --> 00:09:58,950
<font color="#E5E5E5">it's an additional scoring factor but as</font>

213
00:09:57,149 --> 00:10:00,750
soon as you<font color="#CCCCCC"> use a function query</font><font color="#E5E5E5"> all</font>

214
00:09:58,950 --> 00:10:01,230
this block<font color="#CCCCCC"> max stuff does not work</font>

215
00:10:00,750 --> 00:10:04,410
<font color="#E5E5E5">anymore</font>

216
00:10:01,230 --> 00:10:07,649
<font color="#E5E5E5">because you don't know if if your TF and</font>

217
00:10:04,410 --> 00:10:10,649
norm<font color="#E5E5E5"> in the index is helpful to</font><font color="#CCCCCC"> figure</font>

218
00:10:07,649 --> 00:10:12,089
out if the result is<font color="#E5E5E5"> going in it so as</font>

219
00:10:10,649 --> 00:10:15,810
<font color="#E5E5E5">soon as you have</font><font color="#CCCCCC"> a function query it</font>

220
00:10:12,089 --> 00:10:17,430
won't work<font color="#E5E5E5"> anymore</font><font color="#CCCCCC"> so if you have done</font>

221
00:10:15,810 --> 00:10:19,770
that<font color="#CCCCCC"> for example with all our using</font><font color="#E5E5E5"> a</font>

222
00:10:17,430 --> 00:10:21,660
<font color="#CCCCCC">doc values field</font><font color="#E5E5E5"> this won't work here in</font>

223
00:10:19,770 --> 00:10:24,120
<font color="#E5E5E5">that case the idea here</font><font color="#CCCCCC"> is to</font><font color="#E5E5E5"> use a</font>

224
00:10:21,660 --> 00:10:28,500
feature field<font color="#E5E5E5"> where you</font><font color="#CCCCCC"> simply have a</font>

225
00:10:24,120 --> 00:10:30,600
hard-coded<font color="#E5E5E5"> term frequency as a value and</font>

226
00:10:28,500 --> 00:10:33,870
so for<font color="#E5E5E5"> example if the page rank is high</font>

227
00:10:30,600 --> 00:10:37,020
you simply set<font color="#E5E5E5"> the term frequency</font><font color="#CCCCCC"> to 200</font>

228
00:10:33,870 --> 00:10:39,600
in the<font color="#E5E5E5"> dictionary and then you can use</font>

229
00:10:37,020 --> 00:10:42,600
<font color="#E5E5E5">exactly that algorithms before to jump</font>

230
00:10:39,600 --> 00:10:45,540
over those documents<font color="#E5E5E5"> which</font><font color="#CCCCCC"> you</font><font color="#E5E5E5"> are not</font>

231
00:10:42,600 --> 00:10:47,970
interested in<font color="#E5E5E5"> so most of</font><font color="#CCCCCC"> those fields</font>

232
00:10:45,540 --> 00:10:49,589
here have<font color="#CCCCCC"> so-called feature queries</font>

233
00:10:47,970 --> 00:10:51,600
which are new in<font color="#CCCCCC"> leucine</font>

234
00:10:49,589 --> 00:10:53,670
that was a long point and for<font color="#E5E5E5"> the</font>

235
00:10:51,600 --> 00:10:57,029
lat/long point a distance feature query

236
00:10:53,670 --> 00:11:00,420
that<font color="#E5E5E5"> can be for</font><font color="#CCCCCC"> example used</font><font color="#E5E5E5"> to figure</font>

237
00:10:57,029 --> 00:11:03,600
out<font color="#CCCCCC"> what</font><font color="#E5E5E5"> to score based on the</font>

238
00:11:00,420 --> 00:11:06,089
the distance from from your center of

239
00:11:03,600 --> 00:11:08,160
the map for<font color="#E5E5E5"> example so that</font><font color="#CCCCCC"> would be</font><font color="#E5E5E5"> a</font>

240
00:11:06,089 --> 00:11:11,250
one<font color="#CCCCCC"> possibility</font><font color="#E5E5E5"> but in general those</font>

241
00:11:08,160 --> 00:11:14,219
<font color="#E5E5E5">queries always match all documents the</font>

242
00:11:11,250 --> 00:11:16,649
only<font color="#E5E5E5"> only thing that those queries are</font>

243
00:11:14,220 --> 00:11:18,329
giving you is an additional<font color="#E5E5E5"> score</font><font color="#CCCCCC"> so</font>

244
00:11:16,649 --> 00:11:21,000
what you can do here is<font color="#CCCCCC"> you just add</font>

245
00:11:18,329 --> 00:11:25,260
those feature queries<font color="#CCCCCC"> as an additional</font>

246
00:11:21,000 --> 00:11:27,149
<font color="#CCCCCC">shoot clause to to you to your boolean</font>

247
00:11:25,260 --> 00:11:30,060
query<font color="#E5E5E5"> and by that</font><font color="#CCCCCC"> you get some</font>

248
00:11:27,149 --> 00:11:32,760
<font color="#E5E5E5">additional boost in the score but the</font>

249
00:11:30,060 --> 00:11:36,380
important<font color="#CCCCCC"> thing</font><font color="#E5E5E5"> is the actual selection</font>

250
00:11:32,760 --> 00:11:41,970
of the documents is done based on<font color="#E5E5E5"> the</font>

251
00:11:36,380 --> 00:11:44,610
<font color="#CCCCCC">based on on the masked clauses and other</font>

252
00:11:41,970 --> 00:11:46,199
<font color="#CCCCCC">shoot clauses which are there so it</font>

253
00:11:44,610 --> 00:11:48,120
depends on how<font color="#CCCCCC"> you build your</font><font color="#E5E5E5"> boolean</font>

254
00:11:46,199 --> 00:11:54,149
<font color="#CCCCCC">queries so that makes it</font><font color="#E5E5E5"> very easy</font><font color="#CCCCCC"> to</font>

255
00:11:48,120 --> 00:11:57,420
separate scoring and and boolean query

256
00:11:54,149 --> 00:12:02,100
logic<font color="#E5E5E5"> another thing which</font><font color="#CCCCCC"> is which</font>

257
00:11:57,420 --> 00:12:04,050
already<font color="#E5E5E5"> started in 7.4 I think is for</font>

258
00:12:02,100 --> 00:12:06,029
people<font color="#CCCCCC"> that love spam queries I have</font>

259
00:12:04,050 --> 00:12:08,459
heard that in one question<font color="#CCCCCC"> before in the</font>

260
00:12:06,029 --> 00:12:11,490
<font color="#E5E5E5">talk before</font><font color="#CCCCCC"> about this man queries</font><font color="#E5E5E5"> so</font>

261
00:12:08,459 --> 00:12:14,099
everybody who liked<font color="#CCCCCC"> span queries I know</font>

262
00:12:11,490 --> 00:12:16,440
a lot of people from the patent they

263
00:12:14,100 --> 00:12:18,540
want to<font color="#E5E5E5"> who know figure out</font><font color="#CCCCCC"> find me all</font>

264
00:12:16,440 --> 00:12:21,240
documents where in the<font color="#E5E5E5"> first 100 words</font>

265
00:12:18,540 --> 00:12:24,149
<font color="#E5E5E5">is electric and car and all that crazy</font>

266
00:12:21,240 --> 00:12:26,040
stuff<font color="#E5E5E5"> so if you use</font><font color="#CCCCCC"> span queries you</font>

267
00:12:24,149 --> 00:12:29,910
quickly<font color="#E5E5E5"> figure</font><font color="#CCCCCC"> out that they're very</font>

268
00:12:26,040 --> 00:12:32,430
very hard to use<font color="#CCCCCC"> and Alan who is doing</font>

269
00:12:29,910 --> 00:12:34,620
the next<font color="#E5E5E5"> talk started to work on</font>

270
00:12:32,430 --> 00:12:37,410
simplifying that there were some

271
00:12:34,620 --> 00:12:39,720
problems<font color="#E5E5E5"> for example</font><font color="#CCCCCC"> that you were able</font>

272
00:12:37,410 --> 00:12:41,189
to<font color="#E5E5E5"> combine span queries which were on</font>

273
00:12:39,720 --> 00:12:44,490
<font color="#CCCCCC">different field names</font><font color="#E5E5E5"> which of course</font>

274
00:12:41,190 --> 00:12:47,880
<font color="#E5E5E5">cannot really work easy so the problem</font>

275
00:12:44,490 --> 00:12:49,980
is here now for if you have a complex

276
00:12:47,880 --> 00:12:52,649
construction<font color="#E5E5E5"> of span near queries and</font>

277
00:12:49,980 --> 00:12:54,810
span queries<font color="#E5E5E5"> you now have only one query</font>

278
00:12:52,649 --> 00:12:58,769
which is<font color="#E5E5E5"> an interval query and</font><font color="#CCCCCC"> that</font>

279
00:12:54,810 --> 00:13:01,589
interval query can get it gets a lot of

280
00:12:58,769 --> 00:13:03,209
<font color="#E5E5E5">so-called intervals where you can define</font>

281
00:13:01,589 --> 00:13:05,430
<font color="#CCCCCC">what you're actually querying the</font>

282
00:13:03,209 --> 00:13:07,949
simplest case is terms phrases or

283
00:13:05,430 --> 00:13:09,750
ordered<font color="#E5E5E5"> and all that stuff you</font><font color="#CCCCCC"> can also</font>

284
00:13:07,949 --> 00:13:12,719
say to do something like a span<font color="#CCCCCC"> near</font>

285
00:13:09,750 --> 00:13:14,040
query<font color="#E5E5E5"> you can give a maximum width or</font>

286
00:13:12,720 --> 00:13:17,670
the<font color="#E5E5E5"> maximum gap between</font>

287
00:13:14,040 --> 00:13:19,410
the terms and then<font color="#CCCCCC"> you can</font><font color="#E5E5E5"> build a query</font>

288
00:13:17,670 --> 00:13:21,209
<font color="#E5E5E5">this is for</font><font color="#CCCCCC"> example in the</font><font color="#E5E5E5"> vodka</font><font color="#CCCCCC"> Valley</font>

289
00:13:19,410 --> 00:13:23,160
on<font color="#E5E5E5"> the field</font><font color="#CCCCCC"> so everything is</font><font color="#E5E5E5"> going on</font>

290
00:13:21,209 --> 00:13:26,819
<font color="#CCCCCC">the same</font><font color="#E5E5E5"> field</font><font color="#CCCCCC"> then</font><font color="#E5E5E5"> you have an interval</font>

291
00:13:23,160 --> 00:13:29,670
which<font color="#E5E5E5"> is ordered or that means the terms</font>

292
00:13:26,820 --> 00:13:31,860
or the<font color="#CCCCCC"> intervals coming later must be in</font>

293
00:13:29,670 --> 00:13:33,930
<font color="#CCCCCC">order that</font><font color="#E5E5E5"> means here the first one</font>

294
00:13:31,860 --> 00:13:35,449
<font color="#CCCCCC">leucine must come first</font><font color="#E5E5E5"> and then at some</font>

295
00:13:33,930 --> 00:13:39,029
point<font color="#E5E5E5"> later in the document</font>

296
00:13:35,449 --> 00:13:40,889
there must be the terms foo and bar<font color="#CCCCCC"> also</font>

297
00:13:39,029 --> 00:13:44,130
<font color="#E5E5E5">ordered so that means there must be</font>

298
00:13:40,889 --> 00:13:46,529
leucine foo and bar<font color="#E5E5E5"> but between foo and</font>

299
00:13:44,130 --> 00:13:49,079
bar<font color="#E5E5E5"> there should be so the length of</font>

300
00:13:46,529 --> 00:13:52,019
that<font color="#E5E5E5"> should be sweet terms so that means</font>

301
00:13:49,079 --> 00:13:54,300
the cap in between must be limited<font color="#CCCCCC"> so</font>

302
00:13:52,019 --> 00:13:56,250
they cannot<font color="#CCCCCC"> be more far away</font><font color="#E5E5E5"> than three</font>

303
00:13:54,300 --> 00:13:59,219
terms from<font color="#E5E5E5"> each other and then</font><font color="#CCCCCC"> you</font><font color="#E5E5E5"> can</font>

304
00:13:56,250 --> 00:14:00,949
execute it<font color="#CCCCCC"> so as</font><font color="#E5E5E5"> you see here by by by</font>

305
00:13:59,220 --> 00:14:03,720
applying all those filters<font color="#E5E5E5"> like</font>

306
00:14:00,949 --> 00:14:08,910
containing not contains not within<font color="#E5E5E5"> you</font>

307
00:14:03,720 --> 00:14:15,420
<font color="#CCCCCC">can make your really complex query based</font>

308
00:14:08,910 --> 00:14:17,100
<font color="#E5E5E5">on on the</font><font color="#CCCCCC"> under positions the those</font><font color="#E5E5E5"> you</font>

309
00:14:15,420 --> 00:14:19,079
in the back where is<font color="#E5E5E5"> are currently</font><font color="#CCCCCC"> only</font>

310
00:14:17,100 --> 00:14:23,160
<font color="#CCCCCC">in the sent box of leucine Zoe are not</font>

311
00:14:19,079 --> 00:14:24,989
yet put in in the main char file<font color="#E5E5E5"> but I</font>

312
00:14:23,160 --> 00:14:26,699
think elasticsearch in the next<font color="#CCCCCC"> version</font>

313
00:14:24,990 --> 00:14:30,420
will<font color="#E5E5E5"> already</font><font color="#CCCCCC"> have a</font><font color="#E5E5E5"> query parser for</font>

314
00:14:26,699 --> 00:14:33,779
<font color="#E5E5E5">souls</font><font color="#CCCCCC"> so this looks how</font><font color="#E5E5E5"> Jason would also</font>

315
00:14:30,420 --> 00:14:36,649
look like<font color="#E5E5E5"> at the end so you would give</font>

316
00:14:33,779 --> 00:14:38,819
those intervals<font color="#E5E5E5"> and can use that</font>

317
00:14:36,649 --> 00:14:42,959
unfortunately<font color="#E5E5E5"> solar does not really have</font>

318
00:14:38,819 --> 00:14:47,610
support for<font color="#E5E5E5"> that now</font><font color="#CCCCCC"> but</font><font color="#E5E5E5"> I think it will</font>

319
00:14:42,959 --> 00:14:49,680
come quite soon<font color="#CCCCCC"> so that's one thing</font>

320
00:14:47,610 --> 00:14:52,860
another<font color="#E5E5E5"> thing that came to leucine</font><font color="#CCCCCC"> which</font>

321
00:14:49,680 --> 00:14:55,260
is a long ongoing issue because a lot of

322
00:14:52,860 --> 00:14:58,829
<font color="#E5E5E5">people think that is a good idea to load</font>

323
00:14:55,260 --> 00:15:01,380
the index<font color="#E5E5E5"> into the main memory and the</font>

324
00:14:58,829 --> 00:15:03,750
<font color="#E5E5E5">first thing that</font><font color="#CCCCCC"> you think is</font><font color="#E5E5E5"> the right</font>

325
00:15:01,380 --> 00:15:06,720
thing<font color="#CCCCCC"> to do is to use the so called gem</font>

326
00:15:03,750 --> 00:15:09,360
directory which is<font color="#CCCCCC"> err from the</font><font color="#E5E5E5"> very</font>

327
00:15:06,720 --> 00:15:12,720
first<font color="#CCCCCC"> version of leucine but this one is</font>

328
00:15:09,360 --> 00:15:15,029
<font color="#CCCCCC">really completely bad behaving for</font>

329
00:15:12,720 --> 00:15:18,000
productive use it was<font color="#E5E5E5"> only added for</font>

330
00:15:15,029 --> 00:15:19,889
<font color="#CCCCCC">test K for test cases</font><font color="#E5E5E5"> it has protein</font>

331
00:15:18,000 --> 00:15:23,130
congruence so if you<font color="#E5E5E5"> do multiple</font>

332
00:15:19,889 --> 00:15:25,889
<font color="#CCCCCC">searches on the same</font><font color="#E5E5E5"> Ram directory it</font>

333
00:15:23,130 --> 00:15:27,689
actually gets lower because you

334
00:15:25,889 --> 00:15:30,179
a lot of<font color="#E5E5E5"> concurrency</font><font color="#CCCCCC"> and</font><font color="#E5E5E5"> the other</font>

335
00:15:27,689 --> 00:15:36,480
problem is<font color="#CCCCCC"> if you</font><font color="#E5E5E5"> have a large index it</font>

336
00:15:30,179 --> 00:15:39,629
saves blocks<font color="#CCCCCC"> F of 8192 by</font><font color="#E5E5E5"> it so if you</font>

337
00:15:36,480 --> 00:15:41,579
<font color="#E5E5E5">have an index of several gigabytes</font><font color="#CCCCCC"> you</font>

338
00:15:39,629 --> 00:15:43,139
can<font color="#E5E5E5"> count the number</font><font color="#CCCCCC"> of byte arrays you</font>

339
00:15:41,579 --> 00:15:45,748
have in your<font color="#E5E5E5"> heap space and your garbage</font>

340
00:15:43,139 --> 00:15:46,889
collector<font color="#CCCCCC"> is driving crazy</font><font color="#E5E5E5"> and that's</font>

341
00:15:45,749 --> 00:15:48,869
not something what you want to have

342
00:15:46,889 --> 00:15:52,319
<font color="#E5E5E5">because the idea was</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> have that only</font>

343
00:15:48,869 --> 00:15:54,149
for test<font color="#CCCCCC"> cases</font><font color="#E5E5E5"> and now</font><font color="#CCCCCC"> I know some</font>

344
00:15:52,319 --> 00:15:55,889
people<font color="#CCCCCC"> are using</font><font color="#E5E5E5"> that in solar</font><font color="#CCCCCC"> I think</font>

345
00:15:54,149 --> 00:15:59,249
in<font color="#E5E5E5"> elastic structure has no possibility</font>

346
00:15:55,889 --> 00:16:02,579
to<font color="#CCCCCC"> use</font><font color="#E5E5E5"> them directly</font><font color="#CCCCCC"> but so</font><font color="#E5E5E5"> far</font><font color="#CCCCCC"> smaller</font>

347
00:15:59,249 --> 00:16:04,439
<font color="#E5E5E5">test indexes it's fine but that is now</font>

348
00:16:02,579 --> 00:16:06,449
replaced in the new version by<font color="#CCCCCC"> the</font>

349
00:16:04,439 --> 00:16:08,790
<font color="#CCCCCC">so-called PI</font><font color="#E5E5E5"> professed directory which</font>

350
00:16:06,449 --> 00:16:12,809
<font color="#E5E5E5">is based on the MF directory which you</font>

351
00:16:08,790 --> 00:16:16,139
are using on disk for<font color="#E5E5E5"> for index on this</font>

352
00:16:12,809 --> 00:16:17,850
indexes and that one is using<font color="#E5E5E5"> the same</font>

353
00:16:16,139 --> 00:16:20,790
infrastructure so it's based on byte

354
00:16:17,850 --> 00:16:23,790
buffers<font color="#CCCCCC"> so it can also</font><font color="#E5E5E5"> be of heap</font><font color="#CCCCCC"> that</font>

355
00:16:20,790 --> 00:16:26,160
<font color="#CCCCCC">means you can also</font><font color="#E5E5E5"> allocate by professor</font>

356
00:16:23,790 --> 00:16:28,498
directory of heap<font color="#E5E5E5"> and it's sharing</font><font color="#CCCCCC"> most</font>

357
00:16:26,160 --> 00:16:31,829
of the stuff<font color="#CCCCCC"> in ternary so</font><font color="#E5E5E5"> you can</font>

358
00:16:28,499 --> 00:16:33,540
actually<font color="#E5E5E5"> replace</font><font color="#CCCCCC"> REM directory by</font><font color="#E5E5E5"> Piper</font>

359
00:16:31,829 --> 00:16:36,359
first directory in with<font color="#E5E5E5"> a new</font><font color="#CCCCCC"> Sula</font>

360
00:16:33,540 --> 00:16:38,849
version if you<font color="#E5E5E5"> use I think REM directory</font>

361
00:16:36,360 --> 00:16:41,879
<font color="#CCCCCC">factory</font><font color="#E5E5E5"> it will use implicitly</font>

362
00:16:38,850 --> 00:16:45,600
automatically that one but the name<font color="#CCCCCC"> is</font>

363
00:16:41,879 --> 00:16:47,100
duplicated<font color="#E5E5E5"> but that's something which</font><font color="#CCCCCC"> is</font>

364
00:16:45,600 --> 00:16:48,720
interesting<font color="#E5E5E5"> there are also some index</font>

365
00:16:47,100 --> 00:16:50,699
format<font color="#CCCCCC"> improvements the first one you</font>

366
00:16:48,720 --> 00:16:52,980
already<font color="#E5E5E5"> know it's a block Mac statistics</font>

367
00:16:50,699 --> 00:16:56,219
<font color="#CCCCCC">and</font><font color="#E5E5E5"> skip lists which speeds up since</font>

368
00:16:52,980 --> 00:16:58,860
this tank<font color="#E5E5E5"> these junctions but we also</font>

369
00:16:56,220 --> 00:17:01,139
have a<font color="#E5E5E5"> skip list like structure for the</font>

370
00:16:58,860 --> 00:17:03,600
<font color="#E5E5E5">dock values now so that means if you</font>

371
00:17:01,139 --> 00:17:07,909
have<font color="#E5E5E5"> a function query document based</font>

372
00:17:03,600 --> 00:17:13,260
queries can now jump to<font color="#E5E5E5"> later talk IDs</font>

373
00:17:07,909 --> 00:17:15,179
<font color="#E5E5E5">with a constant time</font><font color="#CCCCCC"> so the index</font><font color="#E5E5E5"> gets a</font>

374
00:17:13,260 --> 00:17:17,220
little<font color="#E5E5E5"> bit larger but</font><font color="#CCCCCC"> that should speed</font>

375
00:17:15,179 --> 00:17:20,100
<font color="#CCCCCC">up those queries relying on scoring</font>

376
00:17:17,220 --> 00:17:22,769
factors in the dock<font color="#E5E5E5"> values immense so</font>

377
00:17:20,099 --> 00:17:26,069
about<font color="#E5E5E5"> how to microwave you see in</font><font color="#CCCCCC"> Zevon</font>

378
00:17:22,769 --> 00:17:27,899
the index version since<font color="#CCCCCC"> Lucene seven</font>

379
00:17:26,069 --> 00:17:31,799
there's an<font color="#CCCCCC"> indexed version enforcement</font>

380
00:17:27,898 --> 00:17:34,110
<font color="#E5E5E5">so that means when an index is created</font>

381
00:17:31,799 --> 00:17:36,600
it stores the original version when the

382
00:17:34,110 --> 00:17:39,899
first segment of<font color="#CCCCCC"> that index was created</font>

383
00:17:36,600 --> 00:17:43,020
<font color="#CCCCCC">inside the index directory</font>

384
00:17:39,900 --> 00:17:45,240
and and it preserves<font color="#CCCCCC"> that hearing</font>

385
00:17:43,020 --> 00:17:49,080
migration so that's something<font color="#CCCCCC"> that which</font>

386
00:17:45,240 --> 00:17:53,970
is<font color="#E5E5E5"> very important because that allows us</font>

387
00:17:49,080 --> 00:17:56,309
to<font color="#CCCCCC"> do</font><font color="#E5E5E5"> sort of an</font><font color="#CCCCCC"> oil in X formats where</font>

388
00:17:53,970 --> 00:17:57,570
some provoking offsets like negative

389
00:17:56,309 --> 00:17:59,460
offsets inside

390
00:17:57,570 --> 00:18:02,850
we were also<font color="#E5E5E5"> exchanging is</font><font color="#CCCCCC"> the norms</font>

391
00:17:59,460 --> 00:18:05,190
<font color="#CCCCCC">datatype it's no longer a bate</font><font color="#E5E5E5"> bite</font><font color="#CCCCCC"> it I</font>

392
00:18:02,850 --> 00:18:08,480
<font color="#E5E5E5">think it's a long now</font><font color="#CCCCCC"> Alan I think</font>

393
00:18:05,190 --> 00:18:10,410
<font color="#E5E5E5">something like yeah yeah it's a long</font>

394
00:18:08,480 --> 00:18:12,540
yeah exactly

395
00:18:10,410 --> 00:18:16,440
so but the<font color="#CCCCCC"> problem is if</font><font color="#E5E5E5"> you</font><font color="#CCCCCC"> have an old</font>

396
00:18:12,540 --> 00:18:18,210
index<font color="#E5E5E5"> it makes it hard</font><font color="#CCCCCC"> to update</font><font color="#E5E5E5"> and</font>

397
00:18:16,440 --> 00:18:20,670
because of<font color="#CCCCCC"> that there's a leucine eighth</font>

398
00:18:18,210 --> 00:18:23,790
<font color="#E5E5E5">anti feature which is complete removal</font>

399
00:18:20,670 --> 00:18:26,730
of leucine six in the<font color="#CCCCCC"> extra part that</font>

400
00:18:23,790 --> 00:18:29,850
also effects<font color="#CCCCCC"> older people and you know</font>

401
00:18:26,730 --> 00:18:31,500
from the previous talks I had in the

402
00:18:29,850 --> 00:18:34,050
earlier years<font color="#CCCCCC"> there was always the</font>

403
00:18:31,500 --> 00:18:36,120
possibility<font color="#E5E5E5"> to use index upgrader to</font>

404
00:18:34,050 --> 00:18:38,309
<font color="#E5E5E5">raise the</font><font color="#CCCCCC"> index to a higher version</font><font color="#E5E5E5"> but</font>

405
00:18:36,120 --> 00:18:41,399
that's unfortunately<font color="#CCCCCC"> no longer possible</font>

406
00:18:38,309 --> 00:18:43,800
<font color="#E5E5E5">because as I</font><font color="#CCCCCC"> said</font><font color="#E5E5E5"> before the minimum</font>

407
00:18:41,400 --> 00:18:45,750
index version is stored in the index<font color="#E5E5E5"> so</font>

408
00:18:43,800 --> 00:18:47,940
it<font color="#CCCCCC"> will immediately say no that's</font>

409
00:18:45,750 --> 00:18:51,320
impossible so you have to the index

410
00:18:47,940 --> 00:18:53,640
<font color="#E5E5E5">elasticsearch supports re-indexing that</font>

411
00:18:51,320 --> 00:18:56,250
supports it because everything in in

412
00:18:53,640 --> 00:18:59,130
<font color="#CCCCCC">Zoeller you have to figure out</font><font color="#E5E5E5"> if all</font>

413
00:18:56,250 --> 00:19:01,830
your fields<font color="#E5E5E5"> are stored and if they are</font>

414
00:18:59,130 --> 00:19:04,140
<font color="#E5E5E5">stored then you can do</font><font color="#CCCCCC"> Rhian dexing but</font>

415
00:19:01,830 --> 00:19:06,629
there's no way around that<font color="#CCCCCC"> but if you</font>

416
00:19:04,140 --> 00:19:08,730
really really really really<font color="#CCCCCC"> really need</font>

417
00:19:06,630 --> 00:19:11,130
it<font color="#CCCCCC"> there's a possibility to still do</font>

418
00:19:08,730 --> 00:19:13,679
that<font color="#E5E5E5"> but you will lose</font><font color="#CCCCCC"> correct scoring</font>

419
00:19:11,130 --> 00:19:15,809
so if you if you do some some<font color="#CCCCCC"> low-level</font>

420
00:19:13,679 --> 00:19:20,550
code you can still waste and very very

421
00:19:15,809 --> 00:19:22,860
old index even version 1.4 of leucine<font color="#CCCCCC"> I</font>

422
00:19:20,550 --> 00:19:25,379
bought them<font color="#CCCCCC"> already</font><font color="#E5E5E5"> to version six</font><font color="#CCCCCC"> it</font>

423
00:19:22,860 --> 00:19:27,379
works but if you analyzers are not

424
00:19:25,380 --> 00:19:29,580
correct it won't really help you<font color="#E5E5E5"> and</font>

425
00:19:27,380 --> 00:19:31,590
scrolling won't work anymore but

426
00:19:29,580 --> 00:19:35,639
<font color="#CCCCCC">theoretically you can</font><font color="#E5E5E5"> do that so there's</font>

427
00:19:31,590 --> 00:19:39,510
a<font color="#CCCCCC"> possibility</font><font color="#E5E5E5"> yeah in I think we have a</font>

428
00:19:35,640 --> 00:19:42,420
few more minutes<font color="#E5E5E5"> yeah perfect</font>

429
00:19:39,510 --> 00:19:47,910
so we have some also some new features

430
00:19:42,420 --> 00:19:50,760
and<font color="#E5E5E5"> changes in in</font><font color="#CCCCCC"> solar 8 I think the</font>

431
00:19:47,910 --> 00:19:52,890
most important one in my<font color="#E5E5E5"> opinion because</font>

432
00:19:50,760 --> 00:19:55,760
<font color="#E5E5E5">most of the other features were all</font>

433
00:19:52,890 --> 00:20:01,770
<font color="#E5E5E5">the</font><font color="#CCCCCC"> additive previous solar</font><font color="#E5E5E5"> versions is</font>

434
00:19:55,760 --> 00:20:03,750
<font color="#E5E5E5">that starting with solar</font><font color="#CCCCCC"> 8</font><font color="#E5E5E5"> the internode</font>

435
00:20:01,770 --> 00:20:06,930
communication but although the external

436
00:20:03,750 --> 00:20:10,860
HD beacon connector can accept and

437
00:20:06,930 --> 00:20:13,650
communicate using HTTP<font color="#E5E5E5"> 2 so that</font><font color="#CCCCCC"> means</font>

438
00:20:10,860 --> 00:20:16,740
<font color="#CCCCCC">by default it will</font><font color="#E5E5E5"> use a new HTTP to</font>

439
00:20:13,650 --> 00:20:19,560
solar client to talk<font color="#E5E5E5"> between the nodes</font>

440
00:20:16,740 --> 00:20:23,910
<font color="#CCCCCC">so all the internal requests are</font>

441
00:20:19,560 --> 00:20:26,040
automatically sent using<font color="#E5E5E5"> HTTP 2 but the</font>

442
00:20:23,910 --> 00:20:28,440
<font color="#E5E5E5">back side of</font><font color="#CCCCCC"> that is</font><font color="#E5E5E5"> that solar 8 nodes</font>

443
00:20:26,040 --> 00:20:30,990
cannot talk to<font color="#CCCCCC"> old nodes of course</font>

444
00:20:28,440 --> 00:20:33,740
because by<font color="#CCCCCC"> default it tries to do HTTP 2</font>

445
00:20:30,990 --> 00:20:35,790
but the old solenoids cannot do that and

446
00:20:33,740 --> 00:20:38,310
the most<font color="#E5E5E5"> important thing is for</font>

447
00:20:35,790 --> 00:20:40,590
<font color="#E5E5E5">upgrading if you want to do rolling</font>

448
00:20:38,310 --> 00:20:43,889
upgrades you can<font color="#E5E5E5"> start the new solar</font>

449
00:20:40,590 --> 00:20:48,270
version with a special system property

450
00:20:43,890 --> 00:20:50,520
<font color="#CCCCCC">Solar HTTP</font><font color="#E5E5E5"> 1 2 and then you can can</font>

451
00:20:48,270 --> 00:20:53,490
start your whole cluster replace one

452
00:20:50,520 --> 00:20:55,260
node after<font color="#E5E5E5"> the next</font><font color="#CCCCCC"> one and once you</font>

453
00:20:53,490 --> 00:20:58,350
have done<font color="#CCCCCC"> that you shut down</font><font color="#E5E5E5"> all the</font>

454
00:20:55,260 --> 00:21:04,170
notes again well he start them enabling

455
00:20:58,350 --> 00:21:06,600
the HTTP to connect or there's<font color="#E5E5E5"> one other</font>

456
00:21:04,170 --> 00:21:09,060
<font color="#E5E5E5">thing is if</font><font color="#CCCCCC"> you want</font><font color="#E5E5E5"> to have TLS that</font>

457
00:21:06,600 --> 00:21:13,139
means encryption<font color="#CCCCCC"> you are required to use</font>

458
00:21:09,060 --> 00:21:16,290
<font color="#E5E5E5">Yaba 9 and if you start solar on</font><font color="#CCCCCC"> Yahveh</font>

459
00:21:13,140 --> 00:21:19,460
8 it will automatically disable HDB 2 if

460
00:21:16,290 --> 00:21:23,460
you<font color="#E5E5E5"> want to have an encrypted</font><font color="#CCCCCC"> connection</font>

461
00:21:19,460 --> 00:21:25,950
there<font color="#E5E5E5"> are also some</font><font color="#CCCCCC"> changes in PM 25 the</font>

462
00:21:23,460 --> 00:21:28,560
solar users need<font color="#E5E5E5"> to know about the</font>

463
00:21:25,950 --> 00:21:30,750
absolute scores will<font color="#CCCCCC"> be lower</font><font color="#E5E5E5"> but this</font>

464
00:21:28,560 --> 00:21:34,980
will<font color="#E5E5E5"> not change the sort order in normal</font>

465
00:21:30,750 --> 00:21:36,990
cases<font color="#E5E5E5"> but if you</font><font color="#CCCCCC"> scheme a match version</font>

466
00:21:34,980 --> 00:21:39,720
is smaller than 8 Allegra's is going is

467
00:21:36,990 --> 00:21:44,250
used and now we have the<font color="#E5E5E5"> minimum Java</font>

468
00:21:39,720 --> 00:21:47,970
version which is Java<font color="#E5E5E5"> a is so solar and</font>

469
00:21:44,250 --> 00:21:50,790
leucine stays on<font color="#E5E5E5"> Java 8 as a minimum</font>

470
00:21:47,970 --> 00:21:53,160
version later versions work perfectly

471
00:21:50,790 --> 00:21:55,830
<font color="#CCCCCC">you can easily upgrade there's a fix for</font>

472
00:21:53,160 --> 00:21:59,100
<font color="#E5E5E5">Hadoop coming</font><font color="#CCCCCC"> Kappa</font><font color="#E5E5E5"> was coming HTTP 2</font>

473
00:21:55,830 --> 00:22:00,899
requires number<font color="#E5E5E5"> 9 there's also some</font>

474
00:21:59,100 --> 00:22:04,300
performance<font color="#CCCCCC"> improvements if you're using</font>

475
00:22:00,900 --> 00:22:10,540
later<font color="#E5E5E5"> version so at the moment it's the</font>

476
00:22:04,300 --> 00:22:12,940
<font color="#CCCCCC">commended to use maybe Java eleven so we</font>

477
00:22:10,540 --> 00:22:16,810
have<font color="#CCCCCC"> moody release charts for that and</font>

478
00:22:12,940 --> 00:22:19,660
that's more less<font color="#E5E5E5"> a final slide</font><font color="#CCCCCC"> because</font>

479
00:22:16,810 --> 00:22:22,389
<font color="#E5E5E5">the support for</font><font color="#CCCCCC"> Java</font><font color="#E5E5E5"> 8 has ended three</font>

480
00:22:19,660 --> 00:22:26,350
days ago<font color="#CCCCCC"> you should go to eleven in my</font>

481
00:22:22,390 --> 00:22:29,740
<font color="#E5E5E5">opinion and it's it's tested very good I</font>

482
00:22:26,350 --> 00:22:33,070
think<font color="#CCCCCC"> so as the fine one solar</font><font color="#E5E5E5"> eight</font>

483
00:22:29,740 --> 00:22:35,920
stays on<font color="#CCCCCC"> Yahveh</font><font color="#E5E5E5"> eight</font><font color="#CCCCCC"> and in the master</font>

484
00:22:33,070 --> 00:22:38,020
branch<font color="#E5E5E5"> we will likely switch to eight as</font>

485
00:22:35,920 --> 00:22:40,840
an eight to<font color="#E5E5E5"> eleven as a minimum version</font>

486
00:22:38,020 --> 00:22:45,160
<font color="#CCCCCC">in the near future so the recommendation</font>

487
00:22:40,840 --> 00:22:47,020
<font color="#CCCCCC">SFP four is to use Java</font><font color="#E5E5E5"> eleven which</font>

488
00:22:45,160 --> 00:22:51,720
should work<font color="#CCCCCC"> perfectly with loose in</font>

489
00:22:47,020 --> 00:22:51,720
solar version<font color="#E5E5E5"> eight</font>

490
00:22:56,010 --> 00:23:05,280
thank you<font color="#CCCCCC"> I think we have one</font><font color="#E5E5E5"> more</font>

491
00:23:00,160 --> 00:23:05,280
question<font color="#E5E5E5"> yeah okay yeah</font>

492
00:23:05,910 --> 00:23:36,040
two<font color="#E5E5E5"> peas okay three people okay so the</font>

493
00:23:33,550 --> 00:23:38,620
<font color="#CCCCCC">question yeah so the question was</font><font color="#E5E5E5"> if</font>

494
00:23:36,040 --> 00:23:40,300
it's possible to plug in another ranking

495
00:23:38,620 --> 00:23:42,879
function and it will still<font color="#CCCCCC"> work with the</font>

496
00:23:40,300 --> 00:23:46,750
<font color="#CCCCCC">block max</font><font color="#E5E5E5"> yes you can do that but the</font>

497
00:23:42,880 --> 00:23:49,480
ranking function me<font color="#E5E5E5"> to need to confer</font>

498
00:23:46,750 --> 00:23:51,940
need to be compliant<font color="#E5E5E5"> with</font><font color="#CCCCCC"> the</font><font color="#E5E5E5"> channel</font>

499
00:23:49,480 --> 00:23:54,490
<font color="#E5E5E5">ratings or if sit here goes up</font><font color="#CCCCCC"> although</font>

500
00:23:51,940 --> 00:23:55,900
the score should go up so you<font color="#E5E5E5"> can do</font>

501
00:23:54,490 --> 00:23:58,360
something which is<font color="#CCCCCC"> completely</font><font color="#E5E5E5"> different</font>

502
00:23:55,900 --> 00:23:59,770
<font color="#CCCCCC">but</font><font color="#E5E5E5"> you</font><font color="#CCCCCC"> can</font><font color="#E5E5E5"> simply replace it and the</font>

503
00:23:58,360 --> 00:24:01,870
reason<font color="#CCCCCC"> for that is because</font><font color="#E5E5E5"> we</font><font color="#CCCCCC"> are</font>

504
00:23:59,770 --> 00:24:04,240
<font color="#E5E5E5">storing not something like</font><font color="#CCCCCC"> a</font><font color="#E5E5E5"> max score</font>

505
00:24:01,870 --> 00:24:06,850
we are scoring the TF and the norm in

506
00:24:04,240 --> 00:24:13,980
the index so you can use any scoring

507
00:24:06,850 --> 00:24:13,980
function which allows<font color="#E5E5E5"> that have a minute</font>

508
00:24:15,690 --> 00:24:26,320
yeah for what<font color="#E5E5E5"> for</font><font color="#CCCCCC"> testing we also</font>

509
00:24:24,430 --> 00:24:30,430
<font color="#CCCCCC">switched or that one so there's also a</font>

510
00:24:26,320 --> 00:24:32,770
replacement for testing which is<font color="#E5E5E5"> simply</font>

511
00:24:30,430 --> 00:24:35,890
on heap so it behaves almost identical

512
00:24:32,770 --> 00:24:37,810
to<font color="#E5E5E5"> the RAM directory so yes yes so for</font>

513
00:24:35,890 --> 00:24:39,760
testing<font color="#E5E5E5"> there's</font><font color="#CCCCCC"> two byte buffers</font>

514
00:24:37,810 --> 00:24:43,360
directory<font color="#E5E5E5"> you don't need to put it off</font>

515
00:24:39,760 --> 00:24:44,890
heap<font color="#E5E5E5"> yeah yeah yeah it's it's it's gone</font>

516
00:24:43,360 --> 00:24:48,879
<font color="#E5E5E5">why is it gone yet</font>

517
00:24:44,890 --> 00:24:51,340
yeah yeah it's gone I've also<font color="#E5E5E5"> shown</font>

518
00:24:48,880 --> 00:24:54,750
maybe it's in the test<font color="#E5E5E5"> framework so</font><font color="#CCCCCC"> far</font>

519
00:24:51,340 --> 00:24:54,750
surviving<font color="#E5E5E5"> okay</font>

