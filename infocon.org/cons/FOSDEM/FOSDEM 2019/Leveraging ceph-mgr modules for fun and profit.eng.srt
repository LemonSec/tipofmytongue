1
00:00:04,940 --> 00:00:12,900
so I'm going<font color="#CCCCCC"> to</font><font color="#E5E5E5"> tell you a bit</font><font color="#CCCCCC"> about</font>

2
00:00:08,340 --> 00:00:15,540
<font color="#E5E5E5">miniature modules in a very kind</font><font color="#CCCCCC"> of</font>

3
00:00:12,900 --> 00:00:17,580
<font color="#E5E5E5">high-level way</font><font color="#CCCCCC"> I also didn't have</font><font color="#E5E5E5"> much</font>

4
00:00:15,540 --> 00:00:23,038
time to<font color="#CCCCCC"> prepare this presentation 45</font>

5
00:00:17,580 --> 00:00:27,570
minutes last<font color="#E5E5E5"> night but anyway the whole</font>

6
00:00:23,039 --> 00:00:29,760
<font color="#CCCCCC">idea</font><font color="#E5E5E5"> is I'm not</font><font color="#CCCCCC"> sure if you</font><font color="#E5E5E5"> guys are</font>

7
00:00:27,570 --> 00:00:31,550
familiar<font color="#CCCCCC"> with how safe works and the</font>

8
00:00:29,760 --> 00:00:36,870
<font color="#CCCCCC">fact that we have a safe manager</font><font color="#E5E5E5"> daemon</font>

9
00:00:31,550 --> 00:00:40,829
but the idea<font color="#CCCCCC"> of the safe manner</font><font color="#E5E5E5"> manager</font>

10
00:00:36,870 --> 00:00:42,828
itself<font color="#E5E5E5"> is basically for monitoring and</font>

11
00:00:40,829 --> 00:00:46,290
management<font color="#E5E5E5"> while at the same</font><font color="#CCCCCC"> time</font>

12
00:00:42,829 --> 00:00:49,200
<font color="#E5E5E5">allowing for an</font><font color="#CCCCCC"> interface to be an</font>

13
00:00:46,290 --> 00:00:50,940
interface<font color="#CCCCCC"> for external</font><font color="#E5E5E5"> tools for</font>

14
00:00:49,200 --> 00:00:55,710
instance<font color="#CCCCCC"> the Ceph dashboard runs on the</font>

15
00:00:50,940 --> 00:00:58,349
on the<font color="#CCCCCC"> chef manager but we also have an</font>

16
00:00:55,710 --> 00:01:00,930
Orchestrator<font color="#E5E5E5"> that kind of has multiple</font>

17
00:00:58,350 --> 00:01:05,070
backends<font color="#CCCCCC"> that will allow us for instance</font>

18
00:01:00,930 --> 00:01:10,800
<font color="#E5E5E5">to interface with deep sea with Brooke</font>

19
00:01:05,069 --> 00:01:13,678
<font color="#CCCCCC">and it</font><font color="#E5E5E5"> also there's a bunch of modules</font>

20
00:01:10,800 --> 00:01:18,050
<font color="#E5E5E5">nowadays and one of them for</font><font color="#CCCCCC"> instance</font>

21
00:01:13,679 --> 00:01:21,149
will allow us<font color="#CCCCCC"> to plug into</font><font color="#E5E5E5"> some</font><font color="#CCCCCC"> disk</font>

22
00:01:18,050 --> 00:01:21,599
failure prediction<font color="#CCCCCC"> service things like</font>

23
00:01:21,149 --> 00:01:26,660
that

24
00:01:21,599 --> 00:01:30,270
and it also aggregates<font color="#E5E5E5"> most of the data</font>

25
00:01:26,660 --> 00:01:35,550
the statistics later<font color="#E5E5E5"> that the cluster is</font>

26
00:01:30,270 --> 00:01:40,910
producing<font color="#E5E5E5"> and it's also nowadays mostly</font>

27
00:01:35,550 --> 00:01:43,380
responsible<font color="#CCCCCC"> for showing the or to</font>

28
00:01:40,910 --> 00:01:48,289
provide<font color="#E5E5E5"> the health data</font><font color="#CCCCCC"> and health</font>

29
00:01:43,380 --> 00:01:53,520
checks for a bunch of<font color="#CCCCCC"> components in self</font>

30
00:01:48,289 --> 00:01:56,009
<font color="#CCCCCC">I technically</font><font color="#E5E5E5"> the clients themselves are</font>

31
00:01:53,520 --> 00:01:59,940
also connecting to the manager<font color="#E5E5E5"> depending</font>

32
00:01:56,009 --> 00:02:02,849
on their<font color="#E5E5E5"> purpose but</font><font color="#CCCCCC"> for health and all</font>

33
00:01:59,940 --> 00:02:04,920
of<font color="#CCCCCC"> that kind of</font><font color="#E5E5E5"> stuff it they will grab</font>

34
00:02:02,849 --> 00:02:06,840
that<font color="#E5E5E5"> from the manager they will still</font>

35
00:02:04,920 --> 00:02:09,420
speak<font color="#CCCCCC"> to the monitors the monitors will</font>

36
00:02:06,840 --> 00:02:16,019
speak to the managers the<font color="#E5E5E5"> OS DS speak</font>

37
00:02:09,419 --> 00:02:17,179
with both and but this is the<font color="#CCCCCC"> easy talk</font>

38
00:02:16,019 --> 00:02:19,879
<font color="#CCCCCC">about the</font>

39
00:02:17,180 --> 00:02:24,319
the modules themselves not the manager

40
00:02:19,879 --> 00:02:27,500
so I will just<font color="#CCCCCC"> focus on the modules and</font>

41
00:02:24,319 --> 00:02:33,220
<font color="#CCCCCC">the manager to support this kind of</font>

42
00:02:27,500 --> 00:02:35,209
modules they implemented a<font color="#CCCCCC"> very neat</font>

43
00:02:33,220 --> 00:02:39,230
thing with<font color="#E5E5E5"> cpython</font>

44
00:02:35,209 --> 00:02:42,349
in which each module will be<font color="#E5E5E5"> running on</font>

45
00:02:39,230 --> 00:02:45,709
its own sub interpreter<font color="#E5E5E5"> which apparently</font>

46
00:02:42,349 --> 00:02:51,589
is something that is may or may<font color="#CCCCCC"> not go</font>

47
00:02:45,709 --> 00:02:54,500
<font color="#CCCCCC">away</font><font color="#E5E5E5"> I'm not entirely sure but we're the</font>

48
00:02:51,590 --> 00:02:57,410
<font color="#E5E5E5">only users a bit apparently so</font>

49
00:02:54,500 --> 00:03:00,650
a<font color="#E5E5E5"> solution will have to be found to deal</font>

50
00:02:57,410 --> 00:03:02,959
with that but<font color="#E5E5E5"> the</font><font color="#CCCCCC"> neat thing about this</font>

51
00:03:00,650 --> 00:03:06,920
whole thing is that<font color="#CCCCCC"> now we can have</font>

52
00:03:02,959 --> 00:03:10,849
<font color="#E5E5E5">Python codes running we're on the</font>

53
00:03:06,920 --> 00:03:13,309
manager which<font color="#E5E5E5"> is basically C++ while</font>

54
00:03:10,849 --> 00:03:15,679
having access to<font color="#CCCCCC"> all</font><font color="#E5E5E5"> kinds of juicy</font>

55
00:03:13,310 --> 00:03:19,340
informations like<font color="#E5E5E5"> the the in real time</font>

56
00:03:15,680 --> 00:03:23,450
<font color="#CCCCCC">like the</font><font color="#E5E5E5"> maps the health information the</font>

57
00:03:19,340 --> 00:03:25,340
PG statistics the<font color="#E5E5E5"> and people</font><font color="#CCCCCC"> are doing</font>

58
00:03:23,450 --> 00:03:27,260
all<font color="#CCCCCC"> kinds</font><font color="#E5E5E5"> of neat things</font><font color="#CCCCCC"> with that</font><font color="#E5E5E5"> print</font>

59
00:03:25,340 --> 00:03:30,169
since the Prometheus exporter is

60
00:03:27,260 --> 00:03:32,660
exporting<font color="#CCCCCC"> data to Prometheus which can</font>

61
00:03:30,169 --> 00:03:34,690
then be well do whatever you want with

62
00:03:32,660 --> 00:03:34,690
it

63
00:03:35,410 --> 00:03:42,139
<font color="#CCCCCC">implementing a manager module</font><font color="#E5E5E5"> is fairly</font>

64
00:03:38,690 --> 00:03:46,340
<font color="#E5E5E5">straightforward we basically extend the</font>

65
00:03:42,139 --> 00:03:50,449
manager<font color="#CCCCCC"> module</font><font color="#E5E5E5"> based class which handles</font>

66
00:03:46,340 --> 00:03:53,389
all<font color="#E5E5E5"> the</font><font color="#CCCCCC"> cat all the hard work</font><font color="#E5E5E5"> you really</font>

67
00:03:50,449 --> 00:03:55,940
don't have<font color="#E5E5E5"> to do with much and it will</font>

68
00:03:53,389 --> 00:03:59,419
basically call out certain functions

69
00:03:55,940 --> 00:04:03,349
that the module needs to to implement<font color="#E5E5E5"> to</font>

70
00:03:59,419 --> 00:04:05,599
do its stuff<font color="#E5E5E5"> essentially we will</font>

71
00:04:03,349 --> 00:04:08,768
<font color="#E5E5E5">implement a handle command function to</font>

72
00:04:05,599 --> 00:04:12,798
handle commands that we pass on the<font color="#E5E5E5"> CLI</font>

73
00:04:08,769 --> 00:04:14,840
<font color="#E5E5E5">a shutdown function that will be called</font>

74
00:04:12,799 --> 00:04:18,889
when<font color="#CCCCCC"> the manager or the plugin</font><font color="#E5E5E5"> it's</font>

75
00:04:14,840 --> 00:04:22,490
being<font color="#E5E5E5"> shut</font><font color="#CCCCCC"> down a notify</font><font color="#E5E5E5"> which will</font>

76
00:04:18,889 --> 00:04:25,510
<font color="#E5E5E5">basically grab a receive every single</font>

77
00:04:22,490 --> 00:04:28,070
notification that the manager is

78
00:04:25,510 --> 00:04:31,340
providing including health information

79
00:04:28,070 --> 00:04:36,770
<font color="#E5E5E5">and serve is basically</font>

80
00:04:31,340 --> 00:04:38,929
<font color="#CCCCCC">main to some extent so</font><font color="#E5E5E5"> anything outside</font>

81
00:04:36,770 --> 00:04:41,870
of the basic initialization of that

82
00:04:38,930 --> 00:04:47,690
class<font color="#E5E5E5"> should be done in serve which will</font>

83
00:04:41,870 --> 00:04:51,290
be called frequently so well<font color="#E5E5E5"> some care</font>

84
00:04:47,690 --> 00:04:55,490
may<font color="#E5E5E5"> be needed they're handling commands</font>

85
00:04:51,290 --> 00:04:58,150
is kind of straightforward<font color="#CCCCCC"> itself</font><font color="#E5E5E5"> I'm</font>

86
00:04:55,490 --> 00:05:05,090
sorry for the contrasts<font color="#E5E5E5"> this is a</font>

87
00:04:58,150 --> 00:05:07,460
screenshot of<font color="#CCCCCC"> my vim</font><font color="#E5E5E5"> but the the idea is</font>

88
00:05:05,090 --> 00:05:10,760
simply<font color="#E5E5E5"> that we declare which commands we</font>

89
00:05:07,460 --> 00:05:13,430
we want to use and then<font color="#E5E5E5"> the handle</font>

90
00:05:10,760 --> 00:05:19,990
command will<font color="#CCCCCC"> be passed</font><font color="#E5E5E5"> those commands</font>

91
00:05:13,430 --> 00:05:21,229
and we will simply parse them<font color="#E5E5E5"> however</font>

92
00:05:19,990 --> 00:05:24,110
card

93
00:05:21,229 --> 00:05:27,469
I think implemented a new version of how

94
00:05:24,110 --> 00:05:29,690
<font color="#E5E5E5">to do command parsing or command</font>

95
00:05:27,470 --> 00:05:33,770
handling in which case we just<font color="#E5E5E5"> have</font><font color="#CCCCCC"> a</font>

96
00:05:29,690 --> 00:05:36,320
decorator that specifies the the command

97
00:05:33,770 --> 00:05:38,299
itself<font color="#CCCCCC"> and we</font><font color="#E5E5E5"> can simply use</font><font color="#CCCCCC"> that</font>

98
00:05:36,320 --> 00:05:40,580
function<font color="#E5E5E5"> the manager will call that</font>

99
00:05:38,300 --> 00:05:46,100
function<font color="#CCCCCC"> directly which</font><font color="#E5E5E5"> produces a bunch</font>

100
00:05:40,580 --> 00:05:48,800
of the how do I say<font color="#E5E5E5"> craft in the</font><font color="#CCCCCC"> in the</font>

101
00:05:46,100 --> 00:05:50,780
module because we don't have<font color="#E5E5E5"> to describe</font>

102
00:05:48,800 --> 00:05:51,349
all the<font color="#CCCCCC"> commands and</font><font color="#E5E5E5"> then have a handle</font>

103
00:05:50,780 --> 00:05:53,719
<font color="#CCCCCC">comment</font>

104
00:05:51,349 --> 00:05:55,430
handle command function that's just

105
00:05:53,720 --> 00:05:58,970
calling out a bunch of other functions

106
00:05:55,430 --> 00:06:01,700
and<font color="#E5E5E5"> it's neat because even even in this</font>

107
00:05:58,970 --> 00:06:03,530
case the arguments if we didn't have the

108
00:06:01,700 --> 00:06:06,020
arguments we would<font color="#E5E5E5"> not</font><font color="#CCCCCC"> have</font><font color="#E5E5E5"> to specify</font>

109
00:06:03,530 --> 00:06:09,710
<font color="#E5E5E5">them they in</font><font color="#CCCCCC"> buf is basically what we</font>

110
00:06:06,020 --> 00:06:12,740
<font color="#CCCCCC">provide</font><font color="#E5E5E5"> on the CLI as an input file if</font>

111
00:06:09,710 --> 00:06:16,400
any of you<font color="#E5E5E5"> are familiar with surf surf</font>

112
00:06:12,740 --> 00:06:20,330
the<font color="#E5E5E5"> chef tool will allow</font><font color="#CCCCCC"> you to pass</font>

113
00:06:16,400 --> 00:06:22,638
files<font color="#E5E5E5"> with a - I so you can just put the</font>

114
00:06:20,330 --> 00:06:26,240
file there and it will just send the

115
00:06:22,639 --> 00:06:28,039
file in the with the command<font color="#E5E5E5"> so the in</font>

116
00:06:26,240 --> 00:06:33,260
buff is basically where you place<font color="#CCCCCC"> pass</font>

117
00:06:28,039 --> 00:06:35,560
bulk data in the CLI the the<font color="#E5E5E5"> thing is I</font>

118
00:06:33,260 --> 00:06:38,990
while<font color="#E5E5E5"> I was trying to figure out how to</font>

119
00:06:35,560 --> 00:06:43,159
get<font color="#CCCCCC"> into understanding the plugins and</font>

120
00:06:38,990 --> 00:06:44,700
<font color="#E5E5E5">whatnot</font><font color="#CCCCCC"> I had no</font><font color="#E5E5E5"> idea what to do so I</font>

121
00:06:43,159 --> 00:06:48,840
<font color="#CCCCCC">basically made</font>

122
00:06:44,700 --> 00:06:52,080
blinking lights for that I used a

123
00:06:48,840 --> 00:06:52,890
<font color="#CCCCCC">Philips you</font><font color="#E5E5E5"> I had at home I have the</font>

124
00:06:52,080 --> 00:06:56,820
<font color="#E5E5E5">bridge here</font>

125
00:06:52,890 --> 00:06:58,860
I brought some<font color="#E5E5E5"> LEDs</font><font color="#CCCCCC"> I have a distort</font>

126
00:06:56,820 --> 00:07:02,099
cluster so this is<font color="#E5E5E5"> not something that</font>

127
00:06:58,860 --> 00:07:07,880
I'm using in production<font color="#E5E5E5"> on anything yet</font>

128
00:07:02,100 --> 00:07:07,880
but I also had a very<font color="#CCCCCC"> patient flatmate</font>

129
00:07:09,560 --> 00:07:19,530
and I just created a very basic module

130
00:07:15,270 --> 00:07:21,990
that will allow me to blink lights or

131
00:07:19,530 --> 00:07:25,469
change the colors<font color="#E5E5E5"> of lights depending on</font>

132
00:07:21,990 --> 00:07:28,670
the cluster status<font color="#CCCCCC"> i over engineered the</font>

133
00:07:25,470 --> 00:07:32,910
configuration file<font color="#E5E5E5"> again this kind of</font>

134
00:07:28,670 --> 00:07:35,990
really sucks<font color="#CCCCCC"> I'm sorry</font><font color="#E5E5E5"> but basically the</font>

135
00:07:32,910 --> 00:07:39,510
the file allows us to specify a bridge

136
00:07:35,990 --> 00:07:43,710
<font color="#E5E5E5">with a bridge</font><font color="#CCCCCC"> name the the</font><font color="#E5E5E5"> bridge access</font>

137
00:07:39,510 --> 00:07:47,130
address the the<font color="#CCCCCC"> you itself needs a user</font>

138
00:07:43,710 --> 00:07:49,109
which I still need to implement<font color="#E5E5E5"> that</font>

139
00:07:47,130 --> 00:07:52,140
thing but it's basically press the

140
00:07:49,110 --> 00:07:55,140
button call<font color="#E5E5E5"> it an</font><font color="#CCCCCC"> end point of the the</font>

141
00:07:52,140 --> 00:07:58,530
<font color="#E5E5E5">rest</font><font color="#CCCCCC"> API which they use</font><font color="#E5E5E5"> in this case is</font>

142
00:07:55,140 --> 00:08:01,590
<font color="#CCCCCC">very neat because they expose a a neat</font>

143
00:07:58,530 --> 00:08:04,619
API that we can just<font color="#E5E5E5"> call</font><font color="#CCCCCC"> via rest and</font>

144
00:08:01,590 --> 00:08:08,580
then it has this concept of groups

145
00:08:04,620 --> 00:08:12,330
<font color="#CCCCCC">basically it's groups of lights</font><font color="#E5E5E5"> and I</font>

146
00:08:08,580 --> 00:08:18,539
have this group called rack<font color="#CCCCCC"> way on which</font>

147
00:08:12,330 --> 00:08:22,039
<font color="#E5E5E5">I decided okay so for these status</font><font color="#CCCCCC"> so</font>

148
00:08:18,540 --> 00:08:24,870
this will be health status when this

149
00:08:22,040 --> 00:08:28,080
when I see this status<font color="#CCCCCC"> I want you to</font>

150
00:08:24,870 --> 00:08:31,860
turn think colors to green yellow in red

151
00:08:28,080 --> 00:08:35,130
and depending<font color="#CCCCCC"> on each</font><font color="#E5E5E5"> one I'm specifying</font>

152
00:08:31,860 --> 00:08:40,830
whether I want<font color="#E5E5E5"> to solid color or</font><font color="#CCCCCC"> I if</font><font color="#E5E5E5"> I</font>

153
00:08:35,130 --> 00:08:42,390
want them blinking<font color="#CCCCCC"> so far this</font><font color="#E5E5E5"> module</font>

154
00:08:40,830 --> 00:08:43,919
only<font color="#E5E5E5"> supports green yellow in red</font>

155
00:08:42,390 --> 00:08:46,230
<font color="#E5E5E5">because you actually have</font><font color="#CCCCCC"> to specify</font><font color="#E5E5E5"> the</font>

156
00:08:43,919 --> 00:08:49,170
you the saturation in<font color="#CCCCCC"> the brightness and</font>

157
00:08:46,230 --> 00:08:51,530
I'm very lazy to do more than just<font color="#CCCCCC"> three</font>

158
00:08:49,170 --> 00:08:51,530
colors

159
00:08:51,760 --> 00:09:01,750
and then we basically set up<font color="#E5E5E5"> the bridge</font>

160
00:08:55,600 --> 00:09:03,329
on<font color="#CCCCCC"> surf like the actual initiation of</font>

161
00:09:01,750 --> 00:09:06,810
the bridge connections and all of that

162
00:09:03,329 --> 00:09:11,199
<font color="#E5E5E5">we use notify to grab the the elf</font>

163
00:09:06,810 --> 00:09:13,209
<font color="#E5E5E5">information and hopefully when we shut</font>

164
00:09:11,199 --> 00:09:17,469
down<font color="#E5E5E5"> the manager the terms will go up</font>

165
00:09:13,209 --> 00:09:19,839
<font color="#E5E5E5">will turn</font><font color="#CCCCCC"> and turn off it may not happen</font>

166
00:09:17,470 --> 00:09:22,209
<font color="#E5E5E5">today simply because</font><font color="#CCCCCC"> I was fiddling with</font>

167
00:09:19,839 --> 00:09:26,290
the code yesterday night<font color="#E5E5E5"> and that's</font>

168
00:09:22,209 --> 00:09:29,680
usually<font color="#CCCCCC"> not a good idea before</font><font color="#E5E5E5"> a demo</font><font color="#CCCCCC"> so</font>

169
00:09:26,290 --> 00:09:35,079
let's try to do this without things

170
00:09:29,680 --> 00:09:37,529
breaking<font color="#E5E5E5"> too much so right now I have</font><font color="#CCCCCC"> a</font>

171
00:09:35,079 --> 00:09:41,888
restart cluster which you guys<font color="#CCCCCC"> are not</font>

172
00:09:37,529 --> 00:09:46,120
seeing and I have no idea<font color="#CCCCCC"> about 15</font>

173
00:09:41,889 --> 00:09:57,579
minutes<font color="#E5E5E5"> left still do you know how I can</font>

174
00:09:46,120 --> 00:10:03,130
put put this on the screen you<font color="#E5E5E5"> know this</font>

175
00:09:57,579 --> 00:10:07,329
is a multi monitor add-on but<font color="#E5E5E5"> then I</font>

176
00:10:03,130 --> 00:10:14,319
<font color="#E5E5E5">won't okay</font><font color="#CCCCCC"> I drag the</font><font color="#E5E5E5"> shelves where</font>

177
00:10:07,329 --> 00:10:21,810
though where's my<font color="#CCCCCC"> oh okay so I can just</font>

178
00:10:14,319 --> 00:10:24,490
do this<font color="#E5E5E5"> oh there we</font><font color="#CCCCCC"> go okay</font><font color="#E5E5E5"> so I</font>

179
00:10:21,810 --> 00:10:29,529
actually have a<font color="#E5E5E5"> V star cluster here</font>

180
00:10:24,490 --> 00:10:32,050
<font color="#CCCCCC">running and that on the</font><font color="#E5E5E5"> other and I have</font>

181
00:10:29,529 --> 00:10:34,689
the DHCP running<font color="#E5E5E5"> because this is a very</font>

182
00:10:32,050 --> 00:10:38,019
would<font color="#CCCCCC"> set up so right now the</font><font color="#E5E5E5"> the</font>

183
00:10:34,690 --> 00:10:41,920
cluster is on health<font color="#CCCCCC"> okay</font><font color="#E5E5E5"> and I have</font>

184
00:10:38,019 --> 00:10:46,930
<font color="#E5E5E5">this neat script that I just hacked</font>

185
00:10:41,920 --> 00:10:54,790
yesterday that<font color="#CCCCCC"> Meritage</font><font color="#E5E5E5"> I can show</font><font color="#CCCCCC"> to</font>

186
00:10:46,930 --> 00:10:57,219
<font color="#CCCCCC">you I think no Jesus what am i doing</font>

187
00:10:54,790 --> 00:11:02,709
blinking lights<font color="#E5E5E5"> so basically what I'm</font>

188
00:10:57,220 --> 00:11:06,670
doing is<font color="#E5E5E5"> forcing weirds statuses on the</font>

189
00:11:02,709 --> 00:11:10,839
<font color="#E5E5E5">cluster</font><font color="#CCCCCC"> so I know</font><font color="#E5E5E5"> that a warning will be</font>

190
00:11:06,670 --> 00:11:14,769
issued<font color="#E5E5E5"> if I set a flag on the OSD map</font>

191
00:11:10,839 --> 00:11:17,709
that is kind of a<font color="#E5E5E5"> bad idea</font><font color="#CCCCCC"> like saying</font>

192
00:11:14,769 --> 00:11:22,149
that POS DS are not allowed<font color="#CCCCCC"> to be in the</font>

193
00:11:17,709 --> 00:11:25,540
<font color="#CCCCCC">distribution that will turn the</font><font color="#E5E5E5"> the</font><font color="#CCCCCC"> site</font>

194
00:11:22,149 --> 00:11:28,420
to warning<font color="#E5E5E5"> and if I'm</font><font color="#CCCCCC"> asked</font><font color="#E5E5E5"> with</font><font color="#CCCCCC"> some of</font>

195
00:11:25,540 --> 00:11:32,800
the<font color="#E5E5E5"> the full ratio flags</font><font color="#CCCCCC"> I will get</font>

196
00:11:28,420 --> 00:11:37,209
errors<font color="#E5E5E5"> out of it so this</font><font color="#CCCCCC"> is</font><font color="#E5E5E5"> basically</font>

197
00:11:32,800 --> 00:11:40,389
what<font color="#CCCCCC"> I</font><font color="#E5E5E5"> am</font><font color="#CCCCCC"> doing so let's just turn this</font>

198
00:11:37,209 --> 00:11:48,300
<font color="#E5E5E5">to warn and hopefully this will change</font>

199
00:11:40,389 --> 00:11:53,440
why it's<font color="#E5E5E5"> just a bit</font><font color="#CCCCCC"> okay Oh</font><font color="#E5E5E5"> so yeah okay</font>

200
00:11:48,300 --> 00:11:58,149
so this is no warning I'm incredibly

201
00:11:53,440 --> 00:12:02,730
proud<font color="#CCCCCC"> of this it it's it's very simple</font>

202
00:11:58,149 --> 00:12:05,760
<font color="#E5E5E5">and very useless but it's</font><font color="#CCCCCC"> light</font><font color="#E5E5E5"> what</font>

203
00:12:02,730 --> 00:12:09,670
that's a good point

204
00:12:05,760 --> 00:12:13,810
sorry what does<font color="#E5E5E5"> SEF health look like now</font>

205
00:12:09,670 --> 00:12:21,130
<font color="#E5E5E5">and it just shows a health</font><font color="#CCCCCC"> warn</font><font color="#E5E5E5"> knowing</font>

206
00:12:13,810 --> 00:12:26,638
flag is<font color="#CCCCCC"> Sept so yeah that's that's it so</font>

207
00:12:21,130 --> 00:12:26,639
<font color="#E5E5E5">let's go with</font><font color="#CCCCCC"> okay again</font>

208
00:12:27,980 --> 00:12:35,339
and it will turn<font color="#CCCCCC"> green</font>

209
00:12:31,049 --> 00:12:37,499
<font color="#CCCCCC">yay okay</font><font color="#E5E5E5"> so health is okay again because</font>

210
00:12:35,339 --> 00:12:38,309
you don't have<font color="#E5E5E5"> that pesky flag set</font>

211
00:12:37,499 --> 00:12:45,449
anymore

212
00:12:38,309 --> 00:12:49,910
and let's just force this<font color="#E5E5E5"> to</font><font color="#CCCCCC"> our and</font>

213
00:12:45,449 --> 00:12:49,910
it's blinking

214
00:12:51,500 --> 00:13:00,959
[Applause]

215
00:12:57,230 --> 00:13:03,420
so yeah the the<font color="#E5E5E5"> cluster health will be</font>

216
00:13:00,959 --> 00:13:09,748
in our because<font color="#CCCCCC"> the full ratios are out</font>

217
00:13:03,420 --> 00:13:12,149
of order and<font color="#CCCCCC"> let's put this in okay</font>

218
00:13:09,749 --> 00:13:15,329
again because I'm still trying<font color="#CCCCCC"> to figure</font>

219
00:13:12,149 --> 00:13:17,459
<font color="#E5E5E5">out how to just keep it blinking I'm</font>

220
00:13:15,329 --> 00:13:21,809
very certain<font color="#E5E5E5"> that</font><font color="#CCCCCC"> I can just force this</font>

221
00:13:17,459 --> 00:13:25,649
on serve by keep just telling the the

222
00:13:21,809 --> 00:13:30,059
bridge kept this blinking<font color="#CCCCCC"> until someone</font>

223
00:13:25,649 --> 00:13:36,410
has<font color="#E5E5E5"> a seizure</font><font color="#CCCCCC"> but</font><font color="#E5E5E5"> yeah let's move this</font>

224
00:13:30,059 --> 00:13:36,410
<font color="#E5E5E5">to two okay</font><font color="#CCCCCC"> so</font><font color="#E5E5E5"> that we can not freak out</font>

225
00:13:37,129 --> 00:13:42,919
okay can I move this back here<font color="#E5E5E5"> okay so</font>

226
00:13:43,549 --> 00:13:49,529
<font color="#CCCCCC">this was the the the fun part</font><font color="#E5E5E5"> of the</font>

227
00:13:47,279 --> 00:13:53,790
<font color="#E5E5E5">presentation but I was all that I had a</font>

228
00:13:49,529 --> 00:13:57,119
<font color="#E5E5E5">profit there</font><font color="#CCCCCC"> so where to go from here</font>

229
00:13:53,790 --> 00:14:00,540
<font color="#CCCCCC">basically I actually have a few things</font>

230
00:13:57,119 --> 00:14:03,949
<font color="#CCCCCC">in mind I want to have the the colors</font>

231
00:14:00,540 --> 00:14:07,769
<font color="#E5E5E5">pulsating while the pulsating pulsing</font>

232
00:14:03,949 --> 00:14:11,669
pulsating<font color="#E5E5E5"> whatever you get the gist</font>

233
00:14:07,769 --> 00:14:17,850
while the<font color="#E5E5E5"> PGS are recovering like going</font>

234
00:14:11,669 --> 00:14:23,519
between the yellowish and a bluish until

235
00:14:17,850 --> 00:14:25,319
things get<font color="#CCCCCC"> to bright green again I would</font>

236
00:14:23,519 --> 00:14:27,569
<font color="#E5E5E5">very much like and I</font><font color="#CCCCCC"> don't</font><font color="#E5E5E5"> think it's</font>

237
00:14:25,319 --> 00:14:32,069
very<font color="#CCCCCC"> that very hard</font><font color="#E5E5E5"> to</font><font color="#CCCCCC"> make</font><font color="#E5E5E5"> this crush</font>

238
00:14:27,569 --> 00:14:35,399
map aware so<font color="#CCCCCC"> that we could ideally in a</font>

239
00:14:32,069 --> 00:14:39,939
perfect world have bulbs on top of racks

240
00:14:35,399 --> 00:14:43,990
<font color="#CCCCCC">and actually show which racks are</font><font color="#E5E5E5"> where</font>

241
00:14:39,940 --> 00:14:47,170
<font color="#CCCCCC">os these are</font><font color="#E5E5E5"> going</font><font color="#CCCCCC"> haywire</font><font color="#E5E5E5"> or which OS</font>

242
00:14:43,990 --> 00:14:50,320
these are unbalanced or work in<font color="#E5E5E5"> the data</font>

243
00:14:47,170 --> 00:14:53,560
center or wherever<font color="#E5E5E5"> things are not as</font>

244
00:14:50,320 --> 00:14:56,800
they should be because<font color="#E5E5E5"> everyone likes</font>

245
00:14:53,560 --> 00:15:02,410
<font color="#E5E5E5">blinking LEDs anyway so why</font><font color="#CCCCCC"> not lights</font>

246
00:14:56,800 --> 00:15:06,339
as well<font color="#CCCCCC"> and given that the manager</font><font color="#E5E5E5"> also</font>

247
00:15:02,410 --> 00:15:10,810
allows for<font color="#E5E5E5"> module communication between</font>

248
00:15:06,340 --> 00:15:16,300
them using<font color="#CCCCCC"> a very obscure function that</font>

249
00:15:10,810 --> 00:15:20,229
should definitely be renamed<font color="#CCCCCC"> ricard</font><font color="#E5E5E5"> we</font>

250
00:15:16,300 --> 00:15:22,660
could grab an inventory from the side

251
00:15:20,230 --> 00:15:27,010
<font color="#E5E5E5">the orchestrator once that's actually</font>

252
00:15:22,660 --> 00:15:28,839
working or things like<font color="#E5E5E5"> that</font><font color="#CCCCCC"> and or we</font>

253
00:15:27,010 --> 00:15:32,830
could have<font color="#CCCCCC"> the</font><font color="#E5E5E5"> orchestrators themselves</font>

254
00:15:28,840 --> 00:15:36,340
<font color="#E5E5E5">just say</font><font color="#CCCCCC"> okay blink this</font><font color="#E5E5E5"> OSD or this</font>

255
00:15:32,830 --> 00:15:38,770
rack somewhere<font color="#E5E5E5"> and we could just blink</font>

256
00:15:36,340 --> 00:15:40,330
things<font color="#E5E5E5"> obviously</font><font color="#CCCCCC"> I'm using Phillip you</font>

257
00:15:38,770 --> 00:15:43,810
but I'm<font color="#E5E5E5"> sure there's a bunch of other</font>

258
00:15:40,330 --> 00:15:45,820
things<font color="#E5E5E5"> that also provide</font><font color="#CCCCCC"> REST API</font><font color="#E5E5E5"> is</font>

259
00:15:43,810 --> 00:15:50,800
this was just the hardware<font color="#CCCCCC"> I had</font>

260
00:15:45,820 --> 00:15:53,770
available<font color="#E5E5E5"> and I know why I'm advocating</font>

261
00:15:50,800 --> 00:15:56,819
for people<font color="#E5E5E5"> to do things with</font><font color="#CCCCCC"> Phillips</font>

262
00:15:53,770 --> 00:16:01,480
<font color="#CCCCCC">they don't find</font><font color="#E5E5E5"> me to say those things</font>

263
00:15:56,820 --> 00:16:04,990
<font color="#E5E5E5">so questions and I still have</font><font color="#CCCCCC"> 10</font><font color="#E5E5E5"> minutes</font>

264
00:16:01,480 --> 00:16:05,620
<font color="#CCCCCC">so either it's either questions or a</font>

265
00:16:04,990 --> 00:16:08,950
break

266
00:16:05,620 --> 00:16:18,120
you choose you choose<font color="#CCCCCC"> you decide</font><font color="#E5E5E5"> I'm</font><font color="#CCCCCC"> ok</font>

267
00:16:08,950 --> 00:16:22,050
<font color="#CCCCCC">their way so no ok we have</font><font color="#E5E5E5"> to apparently</font>

268
00:16:18,120 --> 00:16:22,050
repeat the questions yes

269
00:16:27,950 --> 00:16:37,440
if you find some way<font color="#CCCCCC"> to modulate</font><font color="#E5E5E5"> or</font>

270
00:16:34,250 --> 00:16:42,030
transcribe things<font color="#E5E5E5"> sure why not</font>

271
00:16:37,440 --> 00:16:45,990
yeah a text-to-speech<font color="#CCCCCC"> yeah</font><font color="#E5E5E5"> why not it's</font>

272
00:16:42,030 --> 00:16:49,770
not it's<font color="#E5E5E5"> not</font><font color="#CCCCCC"> that hard that was not the</font>

273
00:16:45,990 --> 00:16:52,200
<font color="#CCCCCC">purpose of</font><font color="#E5E5E5"> this one what I repeated it</font><font color="#CCCCCC"> I</font>

274
00:16:49,770 --> 00:16:55,400
didn't repeat the question<font color="#CCCCCC"> okay so</font><font color="#E5E5E5"> the</font>

275
00:16:52,200 --> 00:17:00,510
question<font color="#E5E5E5"> was it whether we could have</font>

276
00:16:55,400 --> 00:17:05,609
basically a<font color="#CCCCCC"> text-to-speech</font><font color="#E5E5E5"> for the</font>

277
00:17:00,510 --> 00:17:07,740
health warnings<font color="#E5E5E5"> yes you get the health</font>

278
00:17:05,609 --> 00:17:10,530
warning so the health for me<font color="#E5E5E5"> it comes</font>

279
00:17:07,740 --> 00:17:14,400
<font color="#CCCCCC">actually like the</font><font color="#E5E5E5"> the health warnings we</font>

280
00:17:10,530 --> 00:17:18,149
would get on any other part<font color="#E5E5E5"> of safe its</font>

281
00:17:14,400 --> 00:17:21,900
<font color="#CCCCCC">adjacent with the health status and</font><font color="#E5E5E5"> all</font>

282
00:17:18,150 --> 00:17:24,210
the checks so for every<font color="#CCCCCC"> single thing</font>

283
00:17:21,900 --> 00:17:29,130
that<font color="#E5E5E5"> is wrong</font><font color="#CCCCCC"> with the cluster</font><font color="#E5E5E5"> we will</font>

284
00:17:24,210 --> 00:17:33,630
get<font color="#E5E5E5"> a status message</font><font color="#CCCCCC"> and the state</font>

285
00:17:29,130 --> 00:17:35,430
<font color="#CCCCCC">itself like</font><font color="#E5E5E5"> PG degraded</font><font color="#CCCCCC"> or</font><font color="#E5E5E5"> OSD down or</font>

286
00:17:33,630 --> 00:17:37,980
<font color="#CCCCCC">something like that so we could</font>

287
00:17:35,430 --> 00:17:42,330
technically just grab that<font color="#CCCCCC"> information</font>

288
00:17:37,980 --> 00:17:47,610
we could put that<font color="#CCCCCC"> on it</font><font color="#E5E5E5"> text-to-speech</font>

289
00:17:42,330 --> 00:17:49,790
<font color="#E5E5E5">thingy and blast that on your C's admin</font>

290
00:17:47,610 --> 00:17:52,379
room or something

291
00:17:49,790 --> 00:17:56,659
once you also<font color="#E5E5E5"> raise</font><font color="#CCCCCC"> your hand I'm not</font>

292
00:17:52,380 --> 00:17:56,660
sure if you<font color="#CCCCCC"> still want to ask anything</font>

293
00:18:00,050 --> 00:18:03,320
is fine

294
00:18:09,640 --> 00:18:22,510
right<font color="#E5E5E5"> no sorry the bridge needs to be</font>

295
00:18:13,440 --> 00:18:30,130
somewhere<font color="#E5E5E5"> in the network but yeah I'm</font>

296
00:18:22,510 --> 00:18:32,350
sorry<font color="#E5E5E5"> it's that the question was whether</font>

297
00:18:30,130 --> 00:18:35,230
<font color="#CCCCCC">the manager in the bridge</font><font color="#E5E5E5"> needed to be</font>

298
00:18:32,350 --> 00:18:40,809
in<font color="#E5E5E5"> the same network the answer is yes</font><font color="#CCCCCC"> or</font>

299
00:18:35,230 --> 00:18:49,179
find a way to expose the<font color="#CCCCCC"> the rest api</font><font color="#E5E5E5"> of</font>

300
00:18:40,809 --> 00:19:03,309
the bridge to the<font color="#E5E5E5"> manager so yeah yeah</font>

301
00:18:49,179 --> 00:19:06,850
please the question<font color="#CCCCCC"> is how does the</font>

302
00:19:03,309 --> 00:19:10,540
manager deal with a module<font color="#CCCCCC"> that crashes</font>

303
00:19:06,850 --> 00:19:13,840
<font color="#E5E5E5">or there's something in two words okay</font>

304
00:19:10,540 --> 00:19:17,590
in my experience<font color="#E5E5E5"> what's happening is</font>

305
00:19:13,840 --> 00:19:20,168
<font color="#CCCCCC">that the manager will output well a lot</font>

306
00:19:17,590 --> 00:19:22,090
<font color="#E5E5E5">of obscure</font><font color="#CCCCCC"> information that will</font><font color="#E5E5E5"> make it</font>

307
00:19:20,169 --> 00:19:25,809
very<font color="#E5E5E5"> hard to debug what's wrong with</font>

308
00:19:22,090 --> 00:19:28,809
your module but otherwise given<font color="#CCCCCC"> it's</font>

309
00:19:25,809 --> 00:19:32,918
running on its own sub interpreter<font color="#E5E5E5"> it</font>

310
00:19:28,809 --> 00:19:35,678
should not affect anything<font color="#E5E5E5"> I am told</font>

311
00:19:32,919 --> 00:19:38,169
that the<font color="#E5E5E5"> notify function where I'm</font>

312
00:19:35,679 --> 00:19:41,830
<font color="#E5E5E5">actually dealing with recipe.i calls</font>

313
00:19:38,169 --> 00:19:46,150
<font color="#E5E5E5">should not be used in that way because</font>

314
00:19:41,830 --> 00:19:52,149
it's supposed<font color="#CCCCCC"> to</font><font color="#E5E5E5"> be</font><font color="#CCCCCC"> a very quick very</font>

315
00:19:46,150 --> 00:19:54,400
quick call and<font color="#E5E5E5"> that from other modules</font>

316
00:19:52,150 --> 00:19:56,350
<font color="#CCCCCC">more complex like the dashboard they</font>

317
00:19:54,400 --> 00:20:00,240
have their own notification queue<font color="#CCCCCC"> that</font>

318
00:19:56,350 --> 00:20:05,379
will eventually deal with that stuff<font color="#E5E5E5"> I</font>

319
00:20:00,240 --> 00:20:08,860
was lazy<font color="#E5E5E5"> and also I I was not doing this</font>

320
00:20:05,380 --> 00:20:14,070
for for a lot of<font color="#E5E5E5"> complexity and all of</font>

321
00:20:08,860 --> 00:20:17,080
<font color="#CCCCCC">that but yeah I</font><font color="#E5E5E5"> I'm assuming</font><font color="#CCCCCC"> that if</font>

322
00:20:14,070 --> 00:20:19,870
well I actually have seen it when<font color="#E5E5E5"> the</font>

323
00:20:17,080 --> 00:20:21,629
bridge has turned off<font color="#E5E5E5"> the notify</font>

324
00:20:19,870 --> 00:20:25,080
function<font color="#E5E5E5"> and the manager will</font>

325
00:20:21,630 --> 00:20:28,190
haywire<font color="#E5E5E5"> because</font><font color="#CCCCCC"> it can text abla Sh a</font>

326
00:20:25,080 --> 00:20:32,850
<font color="#E5E5E5">connection so the module keeps throwing</font>

327
00:20:28,190 --> 00:20:35,100
problems and walking the manager itself

328
00:20:32,850 --> 00:20:37,168
<font color="#E5E5E5">not so much because I keep I still keep</font>

329
00:20:35,100 --> 00:20:40,590
getting<font color="#E5E5E5"> notifications so I'm guessing</font>

330
00:20:37,169 --> 00:20:42,240
the manager is have a bunch of<font color="#E5E5E5"> other</font>

331
00:20:40,590 --> 00:20:45,780
threads<font color="#E5E5E5"> that are just calling</font><font color="#CCCCCC"> in to</font><font color="#E5E5E5"> the</font>

332
00:20:42,240 --> 00:20:47,760
module<font color="#E5E5E5"> so it should not</font><font color="#CCCCCC"> be affected but</font>

333
00:20:45,780 --> 00:20:52,590
<font color="#E5E5E5">that doesn't mean</font><font color="#CCCCCC"> that it will not</font><font color="#E5E5E5"> cause</font>

334
00:20:47,760 --> 00:20:56,158
some some complications<font color="#E5E5E5"> basically</font>

335
00:20:52,590 --> 00:20:58,370
because it still we still have a bunch

336
00:20:56,159 --> 00:21:01,559
<font color="#CCCCCC">of</font><font color="#E5E5E5"> modules running on the manager and</font>

337
00:20:58,370 --> 00:21:05,309
I'm guessing<font color="#CCCCCC"> that things can go wrong</font>

338
00:21:01,559 --> 00:21:09,120
<font color="#CCCCCC">but other</font><font color="#E5E5E5"> than that I can't</font><font color="#CCCCCC"> speak from</font>

339
00:21:05,309 --> 00:21:11,908
experience<font color="#E5E5E5"> if that answer was not</font>

340
00:21:09,120 --> 00:21:15,209
satisfying<font color="#E5E5E5"> we can I can point you to</font>

341
00:21:11,909 --> 00:21:18,240
<font color="#E5E5E5">people that will very easily answer your</font>

342
00:21:15,210 --> 00:21:39,380
question<font color="#E5E5E5"> as long</font><font color="#CCCCCC"> as he looks up</font><font color="#E5E5E5"> from his</font>

343
00:21:18,240 --> 00:21:42,780
screen yes<font color="#E5E5E5"> please the question was I</font>

344
00:21:39,380 --> 00:21:52,080
mentioned<font color="#E5E5E5"> something about Python going</font>

345
00:21:42,780 --> 00:21:56,850
away okay so<font color="#E5E5E5"> okay I get it so so</font>

346
00:21:52,080 --> 00:21:59,730
apparently the<font color="#CCCCCC"> C</font><font color="#E5E5E5"> Python libraries or the</font>

347
00:21:56,850 --> 00:22:04,168
community<font color="#E5E5E5"> around it realized that not</font>

348
00:21:59,730 --> 00:22:07,470
not<font color="#E5E5E5"> many people use interpreters so they</font>

349
00:22:04,169 --> 00:22:09,780
are I think<font color="#E5E5E5"> the cars would</font><font color="#CCCCCC"> be</font><font color="#E5E5E5"> the best</font>

350
00:22:07,470 --> 00:22:16,409
<font color="#E5E5E5">person to actually</font><font color="#CCCCCC"> enter this do you</font>

351
00:22:09,780 --> 00:22:19,260
<font color="#E5E5E5">want to so the the</font><font color="#CCCCCC"> question itself is</font>

352
00:22:16,409 --> 00:22:23,360
about<font color="#E5E5E5"> the Civ interpreters and impact</font>

353
00:22:19,260 --> 00:22:26,360
<font color="#E5E5E5">that not having them will have on</font>

354
00:22:23,360 --> 00:22:26,360
<font color="#E5E5E5">disseminator</font>

355
00:22:27,950 --> 00:22:34,869
and you may need<font color="#E5E5E5"> to turn off the mic</font>

356
00:22:31,770 --> 00:22:34,869
[Music]

357
00:22:41,710 --> 00:22:48,440
<font color="#E5E5E5">running on its own sub interpreter and</font>

358
00:22:44,450 --> 00:22:52,190
some of the modules<font color="#E5E5E5"> use some libraries</font>

359
00:22:48,440 --> 00:22:56,810
that<font color="#CCCCCC"> are that</font><font color="#E5E5E5"> are built with site on and</font>

360
00:22:52,190 --> 00:22:59,330
the second<font color="#E5E5E5"> guys have removed the support</font>

361
00:22:56,810 --> 00:23:06,310
for some interpreters in their release

362
00:22:59,330 --> 00:23:12,949
0:29<font color="#E5E5E5"> which breaks and we're working on</font>

363
00:23:06,310 --> 00:23:14,870
in a<font color="#E5E5E5"> solution but the modules themselves</font>

364
00:23:12,950 --> 00:23:17,390
are<font color="#E5E5E5"> not going away the support for</font>

365
00:23:14,870 --> 00:23:21,020
<font color="#E5E5E5">Python is not going away it's</font><font color="#CCCCCC"> just</font><font color="#E5E5E5"> the</font>

366
00:23:17,390 --> 00:23:24,530
solution<font color="#E5E5E5"> is being worked on and until</font>

367
00:23:21,020 --> 00:23:32,000
then we are<font color="#E5E5E5"> just forcing an older</font>

368
00:23:24,530 --> 00:23:34,810
version of site<font color="#E5E5E5"> C Python</font><font color="#CCCCCC"> I don't</font><font color="#E5E5E5"> think</font>

369
00:23:32,000 --> 00:23:34,810
we will<font color="#E5E5E5"> have</font>

370
00:23:41,290 --> 00:23:48,240
[Applause]

