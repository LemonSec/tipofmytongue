1
00:00:04,780 --> 00:00:12,660
our next speaker<font color="#CCCCCC"> will</font><font color="#E5E5E5"> be like the</font>

2
00:00:07,149 --> 00:00:12,660
<font color="#CCCCCC">boulder is one of the regulars in the</font>

3
00:00:13,260 --> 00:00:21,369
<font color="#CCCCCC">organized and he's going to talk about</font>

4
00:00:19,330 --> 00:00:24,310
something<font color="#E5E5E5"> I</font><font color="#CCCCCC"> think we all</font><font color="#E5E5E5"> breath and</font>

5
00:00:21,369 --> 00:00:33,670
that's namely profiling PHP<font color="#E5E5E5"> application</font>

6
00:00:24,310 --> 00:00:35,680
so like so yeah<font color="#E5E5E5"> profiling PHP</font>

7
00:00:33,670 --> 00:00:40,660
applications<font color="#E5E5E5"> first can you hear me in</font>

8
00:00:35,680 --> 00:00:45,370
the back yes<font color="#CCCCCC"> okay</font><font color="#E5E5E5"> that's</font><font color="#CCCCCC"> good so first</font>

9
00:00:40,660 --> 00:00:50,699
who<font color="#CCCCCC"> if you</font><font color="#E5E5E5"> like slow applications yeah</font>

10
00:00:45,370 --> 00:00:50,699
<font color="#CCCCCC">you can leave</font><font color="#E5E5E5"> now we need we need chairs</font>

11
00:00:52,770 --> 00:01:04,410
is it only<font color="#CCCCCC"> about faster execution</font><font color="#E5E5E5"> time</font>

12
00:00:56,579 --> 00:01:08,530
or would<font color="#E5E5E5"> we like to use less resources</font>

13
00:01:04,410 --> 00:01:14,530
<font color="#E5E5E5">or is it only as much</font><font color="#CCCCCC"> request as we can</font>

14
00:01:08,530 --> 00:01:20,140
get and<font color="#E5E5E5"> usually what happens is we start</font>

15
00:01:14,530 --> 00:01:22,540
profiling when we see this so everything

16
00:01:20,140 --> 00:01:26,080
<font color="#CCCCCC">is on fire your client</font><font color="#E5E5E5"> is on the phone</font>

17
00:01:22,540 --> 00:01:29,650
yeah my site is down and everything<font color="#CCCCCC"> is</font>

18
00:01:26,080 --> 00:01:32,310
slow and<font color="#E5E5E5"> it breaks and yeah what what's</font>

19
00:01:29,650 --> 00:01:36,549
going<font color="#E5E5E5"> on you don't know you have no clue</font>

20
00:01:32,310 --> 00:01:41,290
<font color="#CCCCCC">so that's why we are</font><font color="#E5E5E5"> going to profile</font>

21
00:01:36,549 --> 00:01:44,400
<font color="#E5E5E5">our application</font><font color="#CCCCCC"> but first hi I'm Mike he</font>

22
00:01:41,290 --> 00:01:47,799
said<font color="#CCCCCC"> it already</font><font color="#E5E5E5"> so short introduction</font>

23
00:01:44,400 --> 00:01:50,649
I'm on<font color="#E5E5E5"> Twitter you</font><font color="#CCCCCC"> can send me things on</font>

24
00:01:47,799 --> 00:01:52,630
Twitter whatever<font color="#E5E5E5"> I do some development a</font>

25
00:01:50,649 --> 00:01:54,850
little<font color="#CCCCCC"> bit of operations at Studio Emma</font>

26
00:01:52,630 --> 00:01:56,380
we do Magento and<font color="#CCCCCC"> pimp core if you want</font>

27
00:01:54,850 --> 00:02:01,589
<font color="#E5E5E5">to know something about it</font><font color="#CCCCCC"> find me</font>

28
00:01:56,380 --> 00:02:05,619
afterwards<font color="#E5E5E5"> that's it so first profiling</font>

29
00:02:01,590 --> 00:02:09,850
<font color="#E5E5E5">profiling is the process where we find</font>

30
00:02:05,619 --> 00:02:12,280
the runtime characteristics and measure

31
00:02:09,850 --> 00:02:14,769
the performance<font color="#E5E5E5"> and I'll do the</font>

32
00:02:12,280 --> 00:02:17,629
<font color="#E5E5E5">performance analysis for optimization of</font>

33
00:02:14,770 --> 00:02:24,859
<font color="#E5E5E5">our application</font>

34
00:02:17,629 --> 00:02:31,548
is that clear<font color="#E5E5E5"> so what information do</font><font color="#CCCCCC"> we</font>

35
00:02:24,859 --> 00:02:34,250
get from this profile where is<font color="#E5E5E5"> something</font>

36
00:02:31,549 --> 00:02:38,299
happening where is something slow<font color="#CCCCCC"> where</font>

37
00:02:34,250 --> 00:02:45,169
is<font color="#E5E5E5"> something using a lot of memory such</font>

38
00:02:38,299 --> 00:02:48,260
things what is well we want to<font color="#CCCCCC"> know</font><font color="#E5E5E5"> what</font>

39
00:02:45,169 --> 00:02:50,870
is causing<font color="#E5E5E5"> this but what</font><font color="#CCCCCC"> is using it</font>

40
00:02:48,260 --> 00:02:54,739
that's the first<font color="#E5E5E5"> thing we know we also</font>

41
00:02:50,870 --> 00:03:00,169
learn how<font color="#E5E5E5"> much that's already a very</font>

42
00:02:54,739 --> 00:03:04,060
interesting part<font color="#E5E5E5"> of it but then you have</font>

43
00:03:00,169 --> 00:03:06,799
<font color="#E5E5E5">that question why my application is fast</font>

44
00:03:04,060 --> 00:03:10,099
yeah<font color="#CCCCCC"> you see if I click it it's fast</font>

45
00:03:06,799 --> 00:03:11,870
<font color="#E5E5E5">yeah but do you have substantial</font>

46
00:03:10,099 --> 00:03:15,469
<font color="#CCCCCC">information to</font><font color="#E5E5E5"> confirm that your</font>

47
00:03:11,870 --> 00:03:19,760
application is fast<font color="#E5E5E5"> and what is fast for</font>

48
00:03:15,469 --> 00:03:25,329
you<font color="#E5E5E5"> so define fast</font><font color="#CCCCCC"> is 2 seconds fast for</font>

49
00:03:19,760 --> 00:03:25,328
you then<font color="#E5E5E5"> yeah</font><font color="#CCCCCC"> okay fine don't</font><font color="#E5E5E5"> profile</font>

50
00:03:25,750 --> 00:03:34,849
<font color="#CCCCCC">but can you</font><font color="#E5E5E5"> handle a burst of traffic so</font>

51
00:03:30,669 --> 00:03:37,370
your marketing department has a has a

52
00:03:34,849 --> 00:03:39,619
great<font color="#E5E5E5"> idea and they don't tell you they</font>

53
00:03:37,370 --> 00:03:43,310
will send a great marketing campaign<font color="#CCCCCC"> and</font>

54
00:03:39,620 --> 00:03:45,560
then it happens<font color="#CCCCCC"> bomb</font><font color="#E5E5E5"> everything</font><font color="#CCCCCC"> down and</font>

55
00:03:43,310 --> 00:03:48,049
<font color="#E5E5E5">then you ask around</font><font color="#CCCCCC"> yeah did somebody do</font>

56
00:03:45,560 --> 00:03:52,239
something<font color="#CCCCCC"> oh yeah we sent their mail to</font>

57
00:03:48,049 --> 00:03:52,239
all our<font color="#E5E5E5"> customers yeah thanks</font>

58
00:03:53,139 --> 00:04:03,219
so<font color="#E5E5E5"> yeah optimizing your application has</font>

59
00:03:56,750 --> 00:04:03,219
benefits<font color="#CCCCCC"> in all areas you can imagine</font>

60
00:04:04,239 --> 00:04:13,680
there you get this<font color="#E5E5E5"> guy I don't need a</font>

61
00:04:06,670 --> 00:04:13,679
profiler<font color="#CCCCCC"> and know what slow are you sure</font>

62
00:04:14,549 --> 00:04:20,590
<font color="#E5E5E5">you're kind of shooting in</font><font color="#CCCCCC"> the</font><font color="#E5E5E5"> dark</font><font color="#CCCCCC"> if</font>

63
00:04:17,139 --> 00:04:23,139
you are<font color="#E5E5E5"> yeah you probably can</font><font color="#CCCCCC"> make an</font>

64
00:04:20,589 --> 00:04:26,340
<font color="#CCCCCC">educated guess where something is slow</font>

65
00:04:23,139 --> 00:04:34,150
<font color="#E5E5E5">but if you don't have the numbers for it</font>

66
00:04:26,340 --> 00:04:36,070
it's still a guess so the points of

67
00:04:34,150 --> 00:04:40,810
interest we<font color="#CCCCCC"> are going to</font><font color="#E5E5E5"> look at while</font>

68
00:04:36,070 --> 00:04:43,870
we are profiling our execution<font color="#E5E5E5"> time so</font>

69
00:04:40,810 --> 00:04:47,440
this<font color="#E5E5E5"> is the overall thing</font><font color="#CCCCCC"> we get a</font>

70
00:04:43,870 --> 00:04:52,539
<font color="#E5E5E5">response in two seconds or maybe we like</font>

71
00:04:47,440 --> 00:04:55,690
<font color="#E5E5E5">one second better but we also get the</font>

72
00:04:52,539 --> 00:04:59,469
<font color="#E5E5E5">CPU time spent on your application and</font>

73
00:04:55,690 --> 00:05:03,910
<font color="#CCCCCC">the memory</font><font color="#E5E5E5"> usage also interesting to</font>

74
00:04:59,470 --> 00:05:06,400
<font color="#E5E5E5">have is how much disk</font><font color="#CCCCCC"> IO</font><font color="#E5E5E5"> does my</font>

75
00:05:03,910 --> 00:05:09,159
application<font color="#E5E5E5"> cause because this could</font>

76
00:05:06,400 --> 00:05:14,260
really help you if you get<font color="#E5E5E5"> a burst or</font>

77
00:05:09,159 --> 00:05:20,400
something what we also<font color="#CCCCCC"> have is</font><font color="#E5E5E5"> network</font>

78
00:05:14,260 --> 00:05:26,380
time do we lose a lot<font color="#CCCCCC"> of</font><font color="#E5E5E5"> time asking</font>

79
00:05:20,400 --> 00:05:29,349
<font color="#E5E5E5">using external</font><font color="#CCCCCC"> api's or same same with</font>

80
00:05:26,380 --> 00:05:33,630
external delays<font color="#E5E5E5"> like is the response</font>

81
00:05:29,349 --> 00:05:37,330
<font color="#E5E5E5">from your database</font><font color="#CCCCCC"> slow or did you just</font>

82
00:05:33,630 --> 00:05:41,320
<font color="#E5E5E5">kill your Redis in some magic way that</font>

83
00:05:37,330 --> 00:05:45,419
is suddenly super slow or other

84
00:05:41,320 --> 00:05:45,419
databases you<font color="#E5E5E5"> are trying to use</font>

85
00:05:47,480 --> 00:05:57,140
so now how can we profile our

86
00:05:51,440 --> 00:06:01,250
application with PHP who would do it

87
00:05:57,140 --> 00:06:07,130
<font color="#CCCCCC">with PHP</font><font color="#E5E5E5"> just something in PHP magically</font>

88
00:06:01,250 --> 00:06:09,800
and we'll get<font color="#E5E5E5"> something no one yeah</font>

89
00:06:07,130 --> 00:06:12,440
<font color="#E5E5E5">maybe not so you can get some</font>

90
00:06:09,800 --> 00:06:14,420
<font color="#E5E5E5">information you get the time and if you</font>

91
00:06:12,440 --> 00:06:19,810
do<font color="#CCCCCC"> requests you can even get</font><font color="#E5E5E5"> it from</font>

92
00:06:14,420 --> 00:06:22,820
your server server<font color="#CCCCCC"> superglobal but yeah</font>

93
00:06:19,810 --> 00:06:25,590
you get actually nothing because you've

94
00:06:22,820 --> 00:06:27,159
got<font color="#E5E5E5"> it you get it already from another</font>

95
00:06:25,590 --> 00:06:34,369
[Music]

96
00:06:27,160 --> 00:06:36,590
<font color="#CCCCCC">another way so first XD back</font><font color="#E5E5E5"> who knows</font>

97
00:06:34,370 --> 00:06:40,550
<font color="#E5E5E5">you who of you knows</font><font color="#CCCCCC"> that you can</font>

98
00:06:36,590 --> 00:06:45,530
profile with XD back<font color="#E5E5E5"> oh that's already</font>

99
00:06:40,550 --> 00:06:47,840
quite a lot so<font color="#CCCCCC"> exci burke is an</font>

100
00:06:45,530 --> 00:06:49,580
extension<font color="#E5E5E5"> you know it's for PHP usually</font>

101
00:06:47,840 --> 00:06:54,289
we use<font color="#E5E5E5"> it</font><font color="#CCCCCC"> for debugging</font><font color="#E5E5E5"> but it also</font>

102
00:06:49,580 --> 00:06:58,159
provides us with profiling it needs a

103
00:06:54,290 --> 00:07:01,940
little bit<font color="#CCCCCC"> of</font><font color="#E5E5E5"> configuration to let me to</font>

104
00:06:58,160 --> 00:07:04,910
to make<font color="#CCCCCC"> it allow you to</font><font color="#E5E5E5"> profile and you</font>

105
00:07:01,940 --> 00:07:07,160
need an<font color="#E5E5E5"> external tool to analyze what it</font>

106
00:07:04,910 --> 00:07:09,890
creates so it creates a cache client

107
00:07:07,160 --> 00:07:14,810
file and then you<font color="#CCCCCC"> can visualize it with</font>

108
00:07:09,890 --> 00:07:18,320
<font color="#E5E5E5">some external tool so what I usually use</font>

109
00:07:14,810 --> 00:07:21,740
is enable<font color="#E5E5E5"> the profiler write it</font>

110
00:07:18,320 --> 00:07:25,190
somewhere<font color="#CCCCCC"> and cache</font><font color="#E5E5E5"> grind out percentage</font>

111
00:07:21,740 --> 00:07:28,100
<font color="#E5E5E5">you that's just a timestamp</font><font color="#CCCCCC"> you could be</font>

112
00:07:25,190 --> 00:07:29,660
smarter<font color="#CCCCCC"> about this</font><font color="#E5E5E5"> and get more</font>

113
00:07:28,100 --> 00:07:34,760
<font color="#E5E5E5">information you can find it in a</font>

114
00:07:29,660 --> 00:07:37,400
documentation<font color="#E5E5E5"> of exit back and one once</font>

115
00:07:34,760 --> 00:07:40,730
you<font color="#E5E5E5"> get those</font><font color="#CCCCCC"> cache</font><font color="#E5E5E5"> client files you can</font>

116
00:07:37,400 --> 00:07:44,510
open<font color="#CCCCCC"> it in</font><font color="#E5E5E5"> a tool like Q cache grind or</font>

117
00:07:40,730 --> 00:07:46,790
<font color="#E5E5E5">gate crash grind or whatever blah blah</font>

118
00:07:44,510 --> 00:07:51,590
blah cache grind<font color="#CCCCCC"> to there</font><font color="#E5E5E5"> is I think</font>

119
00:07:46,790 --> 00:07:56,450
<font color="#E5E5E5">there is</font><font color="#CCCCCC"> a</font><font color="#E5E5E5"> web-based one also then you</font>

120
00:07:51,590 --> 00:08:01,369
get some information<font color="#CCCCCC"> but it's not</font><font color="#E5E5E5"> super</font>

121
00:07:56,450 --> 00:08:05,969
easy to to understand what's<font color="#CCCCCC"> going on</font>

122
00:08:01,370 --> 00:08:09,270
you can get some<font color="#CCCCCC"> visualization but yeah</font>

123
00:08:05,969 --> 00:08:15,650
<font color="#E5E5E5">there is not really something showing up</font>

124
00:08:09,270 --> 00:08:20,370
as being very<font color="#E5E5E5"> slow</font><font color="#CCCCCC"> and there is one</font>

125
00:08:15,650 --> 00:08:23,400
larger drawback with these tools<font color="#CCCCCC"> that</font>

126
00:08:20,370 --> 00:08:25,889
they<font color="#CCCCCC"> have a</font><font color="#E5E5E5"> maximum there is a limit on</font>

127
00:08:23,400 --> 00:08:28,859
the<font color="#CCCCCC"> number of function calls it will</font>

128
00:08:25,889 --> 00:08:33,510
show you so usually you can<font color="#E5E5E5"> get it up to</font>

129
00:08:28,860 --> 00:08:36,620
<font color="#CCCCCC">500 function calls</font><font color="#E5E5E5"> but this comes from</font>

130
00:08:33,510 --> 00:08:39,208
Magento<font color="#E5E5E5"> this is a very complex PHP</font>

131
00:08:36,620 --> 00:08:43,289
application which<font color="#E5E5E5"> has a lot</font><font color="#CCCCCC"> more than</font>

132
00:08:39,208 --> 00:08:46,969
500 function calls so you will<font color="#CCCCCC"> probably</font>

133
00:08:43,289 --> 00:08:46,970
<font color="#E5E5E5">not see all</font><font color="#CCCCCC"> the information you want</font>

134
00:08:48,079 --> 00:08:58,079
<font color="#E5E5E5">probably</font><font color="#CCCCCC"> what you need but it's not very</font>

135
00:08:51,240 --> 00:09:01,110
<font color="#CCCCCC">easy</font><font color="#E5E5E5"> so it's hard also exit back is not</font>

136
00:08:58,079 --> 00:09:07,739
really a profiler<font color="#CCCCCC"> but it's a debugger</font>

137
00:09:01,110 --> 00:09:11,250
with<font color="#E5E5E5"> profiling capabilities so it also</font>

138
00:09:07,740 --> 00:09:15,440
introduces kind of a large overhead<font color="#E5E5E5"> it</font>

139
00:09:11,250 --> 00:09:19,500
became<font color="#E5E5E5"> better with newer versions</font><font color="#CCCCCC"> but</font>

140
00:09:15,440 --> 00:09:28,529
still it might<font color="#CCCCCC"> the result might be a bit</font>

141
00:09:19,500 --> 00:09:30,810
off then I guess the people<font color="#E5E5E5"> who knew</font>

142
00:09:28,529 --> 00:09:33,240
exit back also<font color="#E5E5E5"> knew</font><font color="#CCCCCC"> XH broth but maybe</font>

143
00:09:30,810 --> 00:09:39,329
there are other<font color="#CCCCCC"> people's will also know</font>

144
00:09:33,240 --> 00:09:43,800
that XH broth is out there so XH broth

145
00:09:39,329 --> 00:09:47,250
well these<font color="#E5E5E5"> days with PHP 7 we don't no</font>

146
00:09:43,800 --> 00:09:49,469
<font color="#CCCCCC">longer use it as XS proof itself</font><font color="#E5E5E5"> but it</font>

147
00:09:47,250 --> 00:09:52,980
continued in the<font color="#E5E5E5"> Tideway is PHP</font>

148
00:09:49,470 --> 00:09:54,899
<font color="#E5E5E5">extension there is another another</font>

149
00:09:52,980 --> 00:09:57,570
<font color="#CCCCCC">open-source extension</font><font color="#E5E5E5"> that</font><font color="#CCCCCC"> has a similar</font>

150
00:09:54,899 --> 00:10:01,500
capabilities<font color="#E5E5E5"> but personally I used the</font>

151
00:09:57,570 --> 00:10:03,300
<font color="#CCCCCC">Tideway extension it's also some a</font>

152
00:10:01,500 --> 00:10:06,959
little<font color="#CCCCCC"> bit of configuration needed</font><font color="#E5E5E5"> and</font>

153
00:10:03,300 --> 00:10:10,290
you use<font color="#E5E5E5"> well in my personal preference</font><font color="#CCCCCC"> X</font>

154
00:10:06,959 --> 00:10:13,489
<font color="#CCCCCC">hu</font><font color="#E5E5E5"> e which</font><font color="#CCCCCC"> is an</font><font color="#E5E5E5"> external tool to</font>

155
00:10:10,290 --> 00:10:16,189
visualize<font color="#E5E5E5"> the profiles</font>

156
00:10:13,490 --> 00:10:18,140
so it's<font color="#E5E5E5"> very simple the</font><font color="#CCCCCC"> only thing</font>

157
00:10:16,190 --> 00:10:20,540
that's really important<font color="#CCCCCC"> here is that you</font>

158
00:10:18,140 --> 00:10:23,330
<font color="#CCCCCC">do the tight</font><font color="#E5E5E5"> waist</font><font color="#CCCCCC"> o to</font><font color="#E5E5E5"> prevent library</font>

159
00:10:20,540 --> 00:10:30,290
on<font color="#CCCCCC"> 0 because that's for the tight waist</font>

160
00:10:23,330 --> 00:10:33,529
<font color="#E5E5E5">sauce platform</font><font color="#CCCCCC"> you also include some</font>

161
00:10:30,290 --> 00:10:37,430
prepend<font color="#E5E5E5"> where you actually</font><font color="#CCCCCC"> initialize</font>

162
00:10:33,529 --> 00:10:39,890
your profiling and it's not all<font color="#E5E5E5"> there</font>

163
00:10:37,430 --> 00:10:41,810
<font color="#CCCCCC">but eventually</font><font color="#E5E5E5"> if you get in the</font>

164
00:10:39,890 --> 00:10:43,910
shutdown function<font color="#E5E5E5"> you collect your</font>

165
00:10:41,810 --> 00:10:48,109
information<font color="#E5E5E5"> that it</font><font color="#CCCCCC"> gathers</font><font color="#E5E5E5"> from your</font>

166
00:10:43,910 --> 00:10:55,069
application<font color="#E5E5E5"> and write it somewhere</font><font color="#CCCCCC"> so</font>

167
00:10:48,110 --> 00:10:58,220
that<font color="#CCCCCC"> was</font><font color="#E5E5E5"> the wrong way so then you have</font>

168
00:10:55,070 --> 00:11:03,140
<font color="#CCCCCC">X</font><font color="#E5E5E5"> hu e which is</font><font color="#CCCCCC"> empty in this in the</font>

169
00:10:58,220 --> 00:11:06,020
<font color="#E5E5E5">beginning and once what I also forgot</font>

170
00:11:03,140 --> 00:11:09,410
with<font color="#CCCCCC"> XZ Burke is</font><font color="#E5E5E5"> that everything</font><font color="#CCCCCC"> you do</font>

171
00:11:06,020 --> 00:11:12,319
with PHP<font color="#E5E5E5"> is profile so you do not have</font>

172
00:11:09,410 --> 00:11:15,740
to do something<font color="#E5E5E5"> extra to have a command</font>

173
00:11:12,320 --> 00:11:17,870
line script profile because if it's on

174
00:11:15,740 --> 00:11:21,079
its<font color="#E5E5E5"> own</font><font color="#CCCCCC"> if you do command line if you do</font>

175
00:11:17,870 --> 00:11:24,440
request whatever<font color="#E5E5E5"> you enable it it's</font>

176
00:11:21,079 --> 00:11:28,130
always<font color="#E5E5E5"> on that's for me it's</font><font color="#CCCCCC"> very</font>

177
00:11:24,440 --> 00:11:31,310
<font color="#CCCCCC">interesting so then you get some runs in</font>

178
00:11:28,130 --> 00:11:36,339
it you get<font color="#E5E5E5"> an overview and in the</font>

179
00:11:31,310 --> 00:11:39,290
details you already get some information

180
00:11:36,339 --> 00:11:42,350
this slide<font color="#E5E5E5"> contains</font><font color="#CCCCCC"> something that might</font>

181
00:11:39,290 --> 00:11:48,620
be<font color="#E5E5E5"> interesting because it already has an</font>

182
00:11:42,350 --> 00:11:51,680
indication of a problem<font color="#E5E5E5"> so at the end of</font>

183
00:11:48,620 --> 00:11:56,120
representation if I didn't go go deeper

184
00:11:51,680 --> 00:11:57,170
<font color="#E5E5E5">into composer</font><font color="#CCCCCC"> autoload include file</font><font color="#E5E5E5"> ask</font>

185
00:11:56,120 --> 00:12:00,100
me about<font color="#E5E5E5"> it</font>

186
00:11:57,170 --> 00:12:00,099
what's the problem

187
00:12:02,750 --> 00:12:11,100
you get your function<font color="#E5E5E5"> information annual</font>

188
00:12:07,140 --> 00:12:14,310
so can get a call graph which might<font color="#E5E5E5"> be</font>

189
00:12:11,100 --> 00:12:22,380
overwhelming but<font color="#E5E5E5"> it's very</font><font color="#CCCCCC"> interesting</font>

190
00:12:14,310 --> 00:12:24,329
<font color="#CCCCCC">so the for me</font><font color="#E5E5E5"> the important thing</font><font color="#CCCCCC"> here</font>

191
00:12:22,380 --> 00:12:26,580
is<font color="#E5E5E5"> that it's still a local set up so I</font>

192
00:12:24,330 --> 00:12:31,380
<font color="#E5E5E5">don't need to</font><font color="#CCCCCC"> act any</font><font color="#E5E5E5"> external services</font>

193
00:12:26,580 --> 00:12:35,040
and it profiles<font color="#E5E5E5"> everything doesn't</font><font color="#CCCCCC"> look</font>

194
00:12:31,380 --> 00:12:37,439
<font color="#E5E5E5">too fancy but it has most well all the</font>

195
00:12:35,040 --> 00:12:38,930
features<font color="#CCCCCC"> you want</font><font color="#E5E5E5"> to to get some some</font>

196
00:12:37,440 --> 00:12:42,540
information out<font color="#CCCCCC"> of</font><font color="#E5E5E5"> it</font>

197
00:12:38,930 --> 00:12:48,660
you also have<font color="#E5E5E5"> tied weights itself which</font>

198
00:12:42,540 --> 00:12:51,860
is an<font color="#CCCCCC"> sas</font><font color="#E5E5E5"> that you can also configure so</font>

199
00:12:48,660 --> 00:12:54,689
it's also<font color="#E5E5E5"> they're the same thing you get</font>

200
00:12:51,860 --> 00:12:59,670
an<font color="#E5E5E5"> extension</font><font color="#CCCCCC"> you configure</font><font color="#E5E5E5"> it</font>

201
00:12:54,690 --> 00:13:03,140
it needs<font color="#CCCCCC"> daemon on your PHP application</font>

202
00:12:59,670 --> 00:13:06,120
to send<font color="#E5E5E5"> the information to the platform</font>

203
00:13:03,140 --> 00:13:08,580
<font color="#CCCCCC">the</font><font color="#E5E5E5"> the interesting thing with</font><font color="#CCCCCC"> tight</font>

204
00:13:06,120 --> 00:13:12,540
ways is that it has a 30-day trial that

205
00:13:08,580 --> 00:13:16,080
<font color="#E5E5E5">it offers you all its features so you</font>

206
00:13:12,540 --> 00:13:19,290
really<font color="#E5E5E5"> can evaluate what it can do it</font>

207
00:13:16,080 --> 00:13:22,200
looks<font color="#E5E5E5"> rather nice it also has a</font><font color="#CCCCCC"> p.m.</font>

208
00:13:19,290 --> 00:13:26,219
functionality that is out of the scope

209
00:13:22,200 --> 00:13:29,070
<font color="#E5E5E5">of this presentation</font><font color="#CCCCCC"> and if</font><font color="#E5E5E5"> you want to</font>

210
00:13:26,220 --> 00:13:32,880
profile something<font color="#E5E5E5"> you use an extension</font>

211
00:13:29,070 --> 00:13:38,610
<font color="#CCCCCC">and</font><font color="#E5E5E5"> so it the profiling is on the amount</font>

212
00:13:32,880 --> 00:13:42,120
<font color="#E5E5E5">of you you say I encountered some sort</font>

213
00:13:38,610 --> 00:13:44,640
of problem<font color="#E5E5E5"> on this page</font><font color="#CCCCCC"> I now want to</font>

214
00:13:42,120 --> 00:13:47,820
get<font color="#CCCCCC"> a profile out of it so</font><font color="#E5E5E5"> you say</font><font color="#CCCCCC"> proof</font>

215
00:13:44,640 --> 00:13:49,890
take take profile and then<font color="#E5E5E5"> title is will</font>

216
00:13:47,820 --> 00:13:52,770
will reload this page and give you a

217
00:13:49,890 --> 00:13:54,870
profile in<font color="#E5E5E5"> their dashboard gives you</font>

218
00:13:52,770 --> 00:13:59,839
some<font color="#CCCCCC"> information about</font><font color="#E5E5E5"> function calls</font>

219
00:13:54,870 --> 00:14:03,540
when what happens and so on and so on<font color="#CCCCCC"> so</font>

220
00:13:59,839 --> 00:14:08,310
<font color="#CCCCCC">it's more than a profiler it's fairly</font>

221
00:14:03,540 --> 00:14:12,930
easy<font color="#CCCCCC"> to use but yeah it's trial to</font>

222
00:14:08,310 --> 00:14:14,529
paying this really<font color="#E5E5E5"> depends on if you</font>

223
00:14:12,930 --> 00:14:17,258
already have<font color="#E5E5E5"> have an AP</font>

224
00:14:14,529 --> 00:14:21,279
in place and you only need to profile

225
00:14:17,259 --> 00:14:24,339
locally<font color="#E5E5E5"> or</font><font color="#CCCCCC"> you really new into this and</font>

226
00:14:21,279 --> 00:14:27,730
you can benefit from a platform<font color="#E5E5E5"> that has</font>

227
00:14:24,339 --> 00:14:31,209
<font color="#CCCCCC">everything</font><font color="#E5E5E5"> so that's the kind of a</font>

228
00:14:27,730 --> 00:14:34,029
choice you have to<font color="#E5E5E5"> make and then</font><font color="#CCCCCC"> we also</font>

229
00:14:31,209 --> 00:14:37,869
have black fire which is very similar

230
00:14:34,029 --> 00:14:41,620
and set up<font color="#E5E5E5"> to Tideway so it's again the</font>

231
00:14:37,870 --> 00:14:44,079
same<font color="#CCCCCC"> it's an extension</font><font color="#E5E5E5"> it's similar it</font>

232
00:14:41,620 --> 00:14:45,579
uses a demon to give to<font color="#E5E5E5"> get the</font>

233
00:14:44,079 --> 00:14:49,300
communication<font color="#E5E5E5"> done between your</font>

234
00:14:45,579 --> 00:14:51,430
<font color="#CCCCCC">application and their</font><font color="#E5E5E5"> platform</font><font color="#CCCCCC"> the</font>

235
00:14:49,300 --> 00:14:54,430
<font color="#E5E5E5">biggest drawback for me is</font><font color="#CCCCCC"> that it's a</font>

236
00:14:51,430 --> 00:14:58,089
freemium model<font color="#E5E5E5"> where they're free</font>

237
00:14:54,430 --> 00:15:00,849
features<font color="#E5E5E5"> are not really</font><font color="#CCCCCC"> useful to</font>

238
00:14:58,089 --> 00:15:03,639
evaluate what the power of<font color="#E5E5E5"> the platform</font>

239
00:15:00,850 --> 00:15:05,649
<font color="#E5E5E5">is so you actually should start with</font><font color="#CCCCCC"> the</font>

240
00:15:03,639 --> 00:15:08,529
paying version<font color="#E5E5E5"> where you see everything</font>

241
00:15:05,649 --> 00:15:08,949
and then decide if<font color="#E5E5E5"> you</font><font color="#CCCCCC"> want to</font><font color="#E5E5E5"> continue</font>

242
00:15:08,529 --> 00:15:12,040
with<font color="#E5E5E5"> it</font>

243
00:15:08,949 --> 00:15:14,139
so it's exactly<font color="#CCCCCC"> the same</font><font color="#E5E5E5"> practically</font>

244
00:15:12,040 --> 00:15:17,319
like with<font color="#CCCCCC"> tide ways you click a</font><font color="#E5E5E5"> button</font>

245
00:15:14,139 --> 00:15:18,879
and<font color="#E5E5E5"> then it profiles a page don't you</font>

246
00:15:17,319 --> 00:15:22,290
get some<font color="#CCCCCC"> information I only have</font>

247
00:15:18,879 --> 00:15:28,389
screenshots from<font color="#E5E5E5"> the free version so</font>

248
00:15:22,290 --> 00:15:30,430
<font color="#CCCCCC">it's</font><font color="#E5E5E5"> very</font><font color="#CCCCCC"> easy to</font><font color="#E5E5E5"> use but the drawback</font>

249
00:15:28,389 --> 00:15:33,370
<font color="#E5E5E5">is in the freemium</font><font color="#CCCCCC"> you</font><font color="#E5E5E5"> only have the</font>

250
00:15:30,430 --> 00:15:37,449
wall time and a memory usage<font color="#E5E5E5"> if you want</font>

251
00:15:33,370 --> 00:15:39,610
<font color="#CCCCCC">the CPU time if you want see IO</font><font color="#E5E5E5"> if you</font>

252
00:15:37,449 --> 00:15:42,128
want to see<font color="#CCCCCC"> Network if you want to see</font>

253
00:15:39,610 --> 00:15:45,850
all the<font color="#E5E5E5"> other things you</font><font color="#CCCCCC"> really</font><font color="#E5E5E5"> need to</font>

254
00:15:42,129 --> 00:15:49,540
start paying from<font color="#E5E5E5"> day one that's what</font>

255
00:15:45,850 --> 00:15:51,699
you choose so that's for me<font color="#CCCCCC"> the biggest</font>

256
00:15:49,540 --> 00:15:54,430
drawback it does not not offer you all

257
00:15:51,699 --> 00:16:00,878
the<font color="#CCCCCC"> features to evaluate if you want to</font>

258
00:15:54,430 --> 00:16:03,120
continue with<font color="#E5E5E5"> this platform my biggest</font>

259
00:16:00,879 --> 00:16:08,189
suggestion here is<font color="#E5E5E5"> pick one</font><font color="#CCCCCC"> and learn it</font>

260
00:16:03,120 --> 00:16:11,709
once you learn the one you have picked

261
00:16:08,189 --> 00:16:14,199
<font color="#CCCCCC">you're probably</font><font color="#E5E5E5"> will encounter things</font>

262
00:16:11,709 --> 00:16:17,290
you don't like<font color="#CCCCCC"> about it so you don't</font>

263
00:16:14,199 --> 00:16:22,120
find<font color="#E5E5E5"> your way properly in it or it</font>

264
00:16:17,290 --> 00:16:24,040
doesn't<font color="#CCCCCC"> offer sufficient</font><font color="#E5E5E5"> information on</font>

265
00:16:22,120 --> 00:16:26,170
<font color="#E5E5E5">something specific</font><font color="#CCCCCC"> you would like to</font>

266
00:16:24,040 --> 00:16:27,670
know<font color="#E5E5E5"> and maybe another</font><font color="#CCCCCC"> pot platform</font>

267
00:16:26,170 --> 00:16:30,250
offers it

268
00:16:27,670 --> 00:16:36,990
then it's time<font color="#CCCCCC"> to start looking</font><font color="#E5E5E5"> around</font>

269
00:16:30,250 --> 00:16:42,070
for<font color="#E5E5E5"> start shopping for you could say</font><font color="#CCCCCC"> but</font>

270
00:16:36,990 --> 00:16:45,399
first you should dive into one to<font color="#E5E5E5"> really</font>

271
00:16:42,070 --> 00:16:50,200
know<font color="#E5E5E5"> its quirks and how</font><font color="#CCCCCC"> it's gonna</font>

272
00:16:45,399 --> 00:16:52,269
behave on your applications<font color="#E5E5E5"> that it's</font>

273
00:16:50,200 --> 00:16:54,519
especially<font color="#CCCCCC"> interesting if you already</font>

274
00:16:52,269 --> 00:16:58,209
have in-depth knowledge<font color="#E5E5E5"> about your</font>

275
00:16:54,519 --> 00:17:00,910
<font color="#CCCCCC">application you will quickly learn what</font>

276
00:16:58,209 --> 00:17:07,030
is missing<font color="#E5E5E5"> in the profile or that you</font>

277
00:17:00,910 --> 00:17:09,909
are<font color="#E5E5E5"> using</font><font color="#CCCCCC"> to summarize the the tools</font>

278
00:17:07,030 --> 00:17:14,379
it's like<font color="#CCCCCC"> eggsy berg</font><font color="#E5E5E5"> xh probe our local</font>

279
00:17:09,910 --> 00:17:17,470
<font color="#E5E5E5">set up sideways and</font><font color="#CCCCCC"> black fire</font><font color="#E5E5E5"> our SAS</font>

280
00:17:14,380 --> 00:17:20,199
solutions<font color="#E5E5E5"> so if you really like the</font>

281
00:17:17,470 --> 00:17:26,049
<font color="#CCCCCC">solutions</font><font color="#E5E5E5"> go for one if you want to keep</font>

282
00:17:20,199 --> 00:17:30,580
it local<font color="#CCCCCC"> use</font><font color="#E5E5E5"> XD back or exit</font><font color="#CCCCCC"> probe but</font>

283
00:17:26,049 --> 00:17:33,179
now we<font color="#E5E5E5"> still need some</font><font color="#CCCCCC"> idea how we are</font>

284
00:17:30,580 --> 00:17:39,428
going<font color="#CCCCCC"> to approach the profiling</font><font color="#E5E5E5"> itself</font>

285
00:17:33,179 --> 00:17:40,450
<font color="#E5E5E5">so what are we going to</font><font color="#CCCCCC"> look for</font><font color="#E5E5E5"> what</font>

286
00:17:39,429 --> 00:17:47,049
<font color="#CCCCCC">are we looking for</font>

287
00:17:40,450 --> 00:17:52,600
first we look for slow things for

288
00:17:47,049 --> 00:17:54,580
<font color="#CCCCCC">example yeah for example the contact</font>

289
00:17:52,600 --> 00:17:56,620
page on<font color="#E5E5E5"> a Magento website if you</font>

290
00:17:54,580 --> 00:18:01,799
configure<font color="#E5E5E5"> it default it's probably the</font>

291
00:17:56,620 --> 00:18:01,799
slowest page on your<font color="#E5E5E5"> site weird isn't it</font>

292
00:18:02,790 --> 00:18:09,879
<font color="#CCCCCC">also what</font><font color="#E5E5E5"> you really want to optimize</font>

293
00:18:05,830 --> 00:18:12,309
<font color="#CCCCCC">for is popular things so if you're</font><font color="#E5E5E5"> an</font>

294
00:18:09,880 --> 00:18:16,260
<font color="#E5E5E5">e-commerce probably your catalog pages</font>

295
00:18:12,309 --> 00:18:25,830
will<font color="#CCCCCC"> be hit a lot more than</font><font color="#E5E5E5"> product page</font>

296
00:18:16,260 --> 00:18:25,830
so if you really<font color="#E5E5E5"> want to profile to gain</font>

297
00:18:26,220 --> 00:18:31,630
<font color="#CCCCCC">well to be</font><font color="#E5E5E5"> more</font><font color="#CCCCCC"> future-proof you are</font>

298
00:18:29,290 --> 00:18:34,780
going to watch at a popular thing so you

299
00:18:31,630 --> 00:18:39,000
can preemptively<font color="#E5E5E5"> optimize them before</font>

300
00:18:34,780 --> 00:18:39,000
someone trashes<font color="#E5E5E5"> your site</font>

301
00:18:39,360 --> 00:18:48,189
and application initialization<font color="#E5E5E5"> that's</font>

302
00:18:45,280 --> 00:18:52,440
the one we saw at<font color="#E5E5E5"> the the earlier slide</font>

303
00:18:48,190 --> 00:18:59,590
where<font color="#CCCCCC"> composer autoload include file is</font>

304
00:18:52,440 --> 00:19:01,840
really slow if there is only one

305
00:18:59,590 --> 00:19:05,889
takeaway from this presentation<font color="#CCCCCC"> remember</font>

306
00:19:01,840 --> 00:19:09,610
<font color="#CCCCCC">if you</font><font color="#E5E5E5"> see this composer</font><font color="#CCCCCC"> at</font><font color="#E5E5E5"> Lloyds</font>

307
00:19:05,890 --> 00:19:12,400
<font color="#E5E5E5">include file that is really slow just</font>

308
00:19:09,610 --> 00:19:17,770
think op cache memory is too too small

309
00:19:12,400 --> 00:19:21,460
<font color="#CCCCCC">this is not obvious but yeah we search</font>

310
00:19:17,770 --> 00:19:26,139
for<font color="#E5E5E5"> it</font><font color="#CCCCCC"> a few hours to find out that</font>

311
00:19:21,460 --> 00:19:31,060
<font color="#E5E5E5">actually what happened was</font><font color="#CCCCCC"> oh</font><font color="#E5E5E5"> composer</font>

312
00:19:26,140 --> 00:19:33,100
wants to add a new a<font color="#CCCCCC"> new class so it</font>

313
00:19:31,060 --> 00:19:36,790
includes<font color="#E5E5E5"> the file but the</font><font color="#CCCCCC"> op cache</font>

314
00:19:33,100 --> 00:19:40,179
memory is too small<font color="#E5E5E5"> so yeah the one that</font>

315
00:19:36,790 --> 00:19:44,920
<font color="#CCCCCC">was already</font><font color="#E5E5E5"> in well many others were in</font>

316
00:19:40,180 --> 00:19:47,110
but the oldest ones were pushed out but

317
00:19:44,920 --> 00:19:51,600
they were used again<font color="#E5E5E5"> a little bit</font><font color="#CCCCCC"> later</font>

318
00:19:47,110 --> 00:19:55,810
<font color="#CCCCCC">so it continuously accesses the</font><font color="#E5E5E5"> disk</font><font color="#CCCCCC"> to</font>

319
00:19:51,600 --> 00:20:02,290
<font color="#CCCCCC">get the information</font><font color="#E5E5E5"> instead</font><font color="#CCCCCC"> of its class</font>

320
00:19:55,810 --> 00:20:05,820
definitions coming from up cache this

321
00:20:02,290 --> 00:20:05,820
<font color="#E5E5E5">was a not obvious issue</font>

322
00:20:05,990 --> 00:20:13,580
so and then you go and<font color="#E5E5E5"> analyze</font><font color="#CCCCCC"> a profile</font>

323
00:20:10,119 --> 00:20:16,629
first follow the<font color="#CCCCCC"> hotspot so</font><font color="#E5E5E5"> usually it's</font>

324
00:20:13,580 --> 00:20:19,399
marked as<font color="#E5E5E5"> the more</font><font color="#CCCCCC"> red the slower</font><font color="#E5E5E5"> it is</font>

325
00:20:16,629 --> 00:20:22,189
so usually if you see<font color="#CCCCCC"> the red fading</font>

326
00:20:19,399 --> 00:20:24,830
away that's kind of the<font color="#E5E5E5"> the point you're</font>

327
00:20:22,190 --> 00:20:26,960
going<font color="#CCCCCC"> to</font><font color="#E5E5E5"> start watch and yeah what's</font>

328
00:20:24,830 --> 00:20:30,908
happening here does it do a lot of my

329
00:20:26,960 --> 00:20:35,299
sequel calls or does it<font color="#E5E5E5"> so does this</font>

330
00:20:30,909 --> 00:20:40,610
method something really<font color="#CCCCCC"> weird like</font><font color="#E5E5E5"> I saw</font>

331
00:20:35,299 --> 00:20:43,730
an example where<font color="#E5E5E5"> I don't remember where</font>

332
00:20:40,610 --> 00:20:45,949
I saw<font color="#E5E5E5"> it but</font><font color="#CCCCCC"> it was another presentation</font>

333
00:20:43,730 --> 00:20:47,389
<font color="#E5E5E5">where I was like yeah we have an HTTP</font>

334
00:20:45,950 --> 00:20:53,809
client<font color="#E5E5E5"> and it does something really</font>

335
00:20:47,389 --> 00:20:57,619
weird<font color="#E5E5E5"> and far far away it did something</font>

336
00:20:53,809 --> 00:21:01,879
<font color="#CCCCCC">like I calculate pi to 20,000 numbers</font>

337
00:20:57,619 --> 00:21:03,559
<font color="#CCCCCC">behind</font><font color="#E5E5E5"> the comma yeah if you want it if</font>

338
00:21:01,879 --> 00:21:08,600
you<font color="#CCCCCC"> want to do that but yeah that's</font>

339
00:21:03,559 --> 00:21:11,960
weird<font color="#CCCCCC"> so it can be weird code so fix</font>

340
00:21:08,600 --> 00:21:17,830
that<font color="#E5E5E5"> try again if it's better you're</font>

341
00:21:11,960 --> 00:21:23,179
good so now a<font color="#E5E5E5"> little demo from something</font>

342
00:21:17,830 --> 00:21:26,918
we did in real life<font color="#CCCCCC"> first I'm going to</font>

343
00:21:23,179 --> 00:21:26,919
<font color="#E5E5E5">start with a more</font><font color="#CCCCCC"> simplified example</font>

344
00:21:31,419 --> 00:21:47,750
is this readable<font color="#CCCCCC"> or do I have</font><font color="#E5E5E5"> to</font><font color="#CCCCCC"> zoom it</font>

345
00:21:34,759 --> 00:21:55,970
a bit better<font color="#E5E5E5"> zoom yeah oh it's good yeah</font>

346
00:21:47,750 --> 00:22:00,440
so there is some background<font color="#E5E5E5"> to it yeah</font>

347
00:21:55,970 --> 00:22:04,280
<font color="#E5E5E5">that's the one so the story here</font><font color="#CCCCCC"> is we</font>

348
00:22:00,440 --> 00:22:09,470
had to create a application where they

349
00:22:04,280 --> 00:22:13,520
said well we're<font color="#CCCCCC"> not gonna use euros</font>

350
00:22:09,470 --> 00:22:18,350
<font color="#CCCCCC">we're gonna let</font><font color="#E5E5E5"> our users by some sort</font>

351
00:22:13,520 --> 00:22:24,309
of coins<font color="#CCCCCC"> and not not crypto just you</font>

352
00:22:18,350 --> 00:22:28,250
give 60 euros and get one thingy<font color="#CCCCCC"> and our</font>

353
00:22:24,309 --> 00:22:31,700
products will all be based on yeah let's

354
00:22:28,250 --> 00:22:33,320
say we take a base<font color="#CCCCCC"> value of 60 euros and</font>

355
00:22:31,700 --> 00:22:37,220
everything will<font color="#E5E5E5"> be based on that so</font>

356
00:22:33,320 --> 00:22:39,049
usually something<font color="#E5E5E5"> we will sell will be</font>

357
00:22:37,220 --> 00:22:44,150
one two or<font color="#CCCCCC"> three coins</font>

358
00:22:39,049 --> 00:22:48,970
yeah<font color="#E5E5E5"> okay so something was built and it</font>

359
00:22:44,150 --> 00:22:57,340
was like yeah someone wants to buy coins

360
00:22:48,970 --> 00:22:57,340
<font color="#CCCCCC">so we started with yeah the coin</font><font color="#E5E5E5"> value</font>

361
00:22:57,940 --> 00:23:06,110
it's like let's take<font color="#CCCCCC"> 100 euros and yeah</font>

362
00:23:03,830 --> 00:23:09,470
we want<font color="#E5E5E5"> to be generous and we're gonna</font>

363
00:23:06,110 --> 00:23:09,979
give<font color="#E5E5E5"> them</font><font color="#CCCCCC"> to other</font><font color="#E5E5E5"> people</font><font color="#CCCCCC"> so we'll buy</font>

364
00:23:09,470 --> 00:23:18,260
<font color="#CCCCCC">ten</font>

365
00:23:09,980 --> 00:23:21,940
<font color="#CCCCCC">oh</font><font color="#E5E5E5"> that's too fast yeah sorry so no we</font>

366
00:23:18,260 --> 00:23:25,100
want<font color="#CCCCCC"> to buy in euros so we want to be</font>

367
00:23:21,940 --> 00:23:28,000
generous<font color="#CCCCCC"> so we want</font><font color="#E5E5E5"> to have</font><font color="#CCCCCC"> ten coins</font><font color="#E5E5E5"> to</font>

368
00:23:25,100 --> 00:23:31,899
distribute to<font color="#CCCCCC"> other people and that's</font>

369
00:23:28,000 --> 00:23:31,900
<font color="#E5E5E5">pretty okay</font>

370
00:23:32,380 --> 00:23:46,549
so initially<font color="#E5E5E5"> if we're going to look at</font>

371
00:23:36,320 --> 00:23:54,350
this so<font color="#E5E5E5"> we get here</font><font color="#CCCCCC"> one run and it takes</font>

372
00:23:46,549 --> 00:23:56,240
one second<font color="#CCCCCC"> so we get into details keep</font>

373
00:23:54,350 --> 00:24:00,740
<font color="#E5E5E5">in mind this is a very oversimplified</font>

374
00:23:56,240 --> 00:24:03,220
example to show you an easy part<font color="#CCCCCC"> into</font>

375
00:24:00,740 --> 00:24:03,220
profile

376
00:24:04,750 --> 00:24:12,370
so what I<font color="#E5E5E5"> usually do is yeah I go</font><font color="#CCCCCC"> into</font>

377
00:24:07,700 --> 00:24:12,370
<font color="#E5E5E5">call graph and then it's always too big</font>

378
00:24:16,360 --> 00:24:25,399
and now there<font color="#CCCCCC"> is just</font><font color="#E5E5E5"> a cheat in it</font>

379
00:24:22,270 --> 00:24:27,410
where the<font color="#E5E5E5"> sleep is now taking most of</font>

380
00:24:25,400 --> 00:24:29,750
<font color="#CCCCCC">the time so it's</font><font color="#E5E5E5"> this</font><font color="#CCCCCC"> is</font><font color="#E5E5E5"> the reference</font>

381
00:24:27,410 --> 00:24:37,370
<font color="#CCCCCC">it takes one second</font>

382
00:24:29,750 --> 00:24:40,940
so our<font color="#CCCCCC"> codes</font><font color="#E5E5E5"> we are using is okay at</font>

383
00:24:37,370 --> 00:24:43,850
some point in time there was another

384
00:24:40,940 --> 00:24:47,720
<font color="#CCCCCC">department</font><font color="#E5E5E5"> in that company that said no</font>

385
00:24:43,850 --> 00:24:50,389
<font color="#CCCCCC">we're</font><font color="#E5E5E5"> not gonna do that</font><font color="#CCCCCC"> but the whole</font>

386
00:24:47,720 --> 00:24:53,090
<font color="#CCCCCC">idea of their website was based on the</font>

387
00:24:50,390 --> 00:24:56,870
coins<font color="#E5E5E5"> so then they said yeah</font><font color="#CCCCCC"> let's</font>

388
00:24:53,090 --> 00:25:05,120
<font color="#CCCCCC">change that we're gonna use coins of one</font>

389
00:24:56,870 --> 00:25:15,739
<font color="#CCCCCC">year oh</font><font color="#E5E5E5"> and go wild so yeah with a</font>

390
00:25:05,120 --> 00:25:18,469
thousand<font color="#E5E5E5"> it's probably okay it's not</font>

391
00:25:15,740 --> 00:25:22,340
<font color="#CCCCCC">really that much doesn't</font><font color="#E5E5E5"> really matter</font>

392
00:25:18,470 --> 00:25:27,590
<font color="#E5E5E5">and then they said yeah but we have a</font>

393
00:25:22,340 --> 00:25:32,270
lot<font color="#CCCCCC"> of our own personnel</font><font color="#E5E5E5"> and we want to</font>

394
00:25:27,590 --> 00:25:34,760
give them a<font color="#E5E5E5"> budget of</font><font color="#CCCCCC"> 2,000 years or</font>

395
00:25:32,270 --> 00:25:40,220
<font color="#CCCCCC">something for courses on our own</font>

396
00:25:34,760 --> 00:25:43,060
platform<font color="#E5E5E5"> so I'm going</font><font color="#CCCCCC"> to buy for 100,000</font>

397
00:25:40,220 --> 00:25:46,910
<font color="#E5E5E5">euros and then distribute him across</font><font color="#CCCCCC"> the</font>

398
00:25:43,060 --> 00:25:50,810
<font color="#E5E5E5">company that's when we started to see</font>

399
00:25:46,910 --> 00:25:55,160
<font color="#E5E5E5">weird</font><font color="#CCCCCC"> things because the</font><font color="#E5E5E5"> platform was</font>

400
00:25:50,810 --> 00:25:59,110
completely not built to<font color="#CCCCCC"> have 100,000</font>

401
00:25:55,160 --> 00:25:59,110
coins<font color="#CCCCCC"> ordered at once</font>

402
00:26:07,280 --> 00:26:16,250
so it's becoming slow so we know the

403
00:26:12,800 --> 00:26:21,950
<font color="#CCCCCC">reference is one second now we're at 13</font>

404
00:26:16,250 --> 00:26:29,000
seconds to get the<font color="#CCCCCC"> ID</font><font color="#E5E5E5"> we</font><font color="#CCCCCC"> started looking</font>

405
00:26:21,950 --> 00:26:35,540
<font color="#E5E5E5">at things in the profile the zoom is</font>

406
00:26:29,000 --> 00:26:41,180
working against me yeah<font color="#E5E5E5"> that</font><font color="#CCCCCC"> that didn't</font>

407
00:26:35,540 --> 00:26:50,960
go<font color="#CCCCCC"> well</font><font color="#E5E5E5"> yeah</font><font color="#CCCCCC"> that's better</font>

408
00:26:41,180 --> 00:26:53,420
<font color="#E5E5E5">so what we come to</font><font color="#CCCCCC"> see here is we follow</font>

409
00:26:50,960 --> 00:26:58,250
the<font color="#E5E5E5"> hot</font><font color="#CCCCCC"> spot and yeah it's probably</font><font color="#E5E5E5"> too</font>

410
00:26:53,420 --> 00:27:00,230
<font color="#CCCCCC">small now so we follow the</font><font color="#E5E5E5"> hot</font><font color="#CCCCCC"> part and</font>

411
00:26:58,250 --> 00:27:08,180
instead<font color="#E5E5E5"> of crawling I want you to zoom</font>

412
00:27:00,230 --> 00:27:10,400
thank you yes<font color="#E5E5E5"> and it's like yeah store</font>

413
00:27:08,180 --> 00:27:14,120
coins what the hell is this thing<font color="#E5E5E5"> doing</font>

414
00:27:10,400 --> 00:27:16,480
<font color="#E5E5E5">it takes</font><font color="#CCCCCC"> 10 seconds</font><font color="#E5E5E5"> probably</font><font color="#CCCCCC"> should make</font>

415
00:27:14,120 --> 00:27:16,479
it better

416
00:27:23,610 --> 00:27:36,439
so if we look at it<font color="#CCCCCC"> it's based on an</font>

417
00:27:29,330 --> 00:27:39,779
actual<font color="#E5E5E5"> it did</font><font color="#CCCCCC"> happen so demo service</font>

418
00:27:36,440 --> 00:27:47,940
<font color="#CCCCCC">coin service yeah this is actually very</font>

419
00:27:39,779 --> 00:27:51,749
readable so what happened is there<font color="#E5E5E5"> was</font>

420
00:27:47,940 --> 00:27:59,369
<font color="#E5E5E5">the ID of yeah we go to the slow one so</font>

421
00:27:51,749 --> 00:28:04,559
we store things<font color="#CCCCCC"> and what happened is</font>

422
00:27:59,369 --> 00:28:08,820
yeah just at one coin and the<font color="#E5E5E5"> table</font>

423
00:28:04,559 --> 00:28:13,320
contains one coin and per row so<font color="#CCCCCC"> we</font>

424
00:28:08,820 --> 00:28:16,439
start to insert<font color="#CCCCCC"> 100,000 coins and go</font>

425
00:28:13,320 --> 00:28:20,309
wild<font color="#CCCCCC"> in a for each and then do other</font>

426
00:28:16,440 --> 00:28:23,039
stupid things like try<font color="#E5E5E5"> to check how many</font>

427
00:28:20,309 --> 00:28:25,289
unspent coins there are so the

428
00:28:23,039 --> 00:28:33,320
combination of these two is<font color="#E5E5E5"> really</font>

429
00:28:25,289 --> 00:28:38,809
disastrous so because we didn't

430
00:28:33,320 --> 00:28:42,720
originally create our system to support

431
00:28:38,809 --> 00:28:46,789
really<font color="#E5E5E5"> small values it escalated quickly</font>

432
00:28:42,720 --> 00:28:51,239
and here you can see you can easily

433
00:28:46,789 --> 00:28:53,399
follow this<font color="#CCCCCC"> paths</font><font color="#E5E5E5"> to find out where</font>

434
00:28:51,239 --> 00:28:56,730
things<font color="#E5E5E5"> go wrong and start refactoring</font>

435
00:28:53,399 --> 00:29:02,248
here because we do not actually<font color="#CCCCCC"> want</font><font color="#E5E5E5"> to</font>

436
00:28:56,730 --> 00:29:05,190
insert 100,000 rows we want<font color="#CCCCCC"> to we don't</font>

437
00:29:02,249 --> 00:29:07,799
<font color="#E5E5E5">really want</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> do</font><font color="#CCCCCC"> 100,000 queries we</font>

438
00:29:05,190 --> 00:29:09,929
really want to<font color="#E5E5E5"> do one query to get all</font>

439
00:29:07,799 --> 00:29:15,090
these<font color="#CCCCCC"> things in and it</font><font color="#E5E5E5"> will be a lot</font>

440
00:29:09,929 --> 00:29:22,309
faster<font color="#E5E5E5"> so but this is</font><font color="#CCCCCC"> a very obvious</font>

441
00:29:15,090 --> 00:29:22,309
example<font color="#CCCCCC"> but we'll get to others later</font>

442
00:29:23,650 --> 00:29:34,310
first we have some popular bottlenecks

443
00:29:29,770 --> 00:29:38,210
<font color="#E5E5E5">so I already said that slow</font><font color="#CCCCCC"> coat</font><font color="#E5E5E5"> really</font>

444
00:29:34,310 --> 00:29:40,370
<font color="#CCCCCC">weird algorithms or spending too much</font>

445
00:29:38,210 --> 00:29:46,700
time on<font color="#E5E5E5"> things you don't</font><font color="#CCCCCC"> really want to</font>

446
00:29:40,370 --> 00:29:51,169
spend on that sequel<font color="#E5E5E5"> queries</font><font color="#CCCCCC"> what you</font>

447
00:29:46,700 --> 00:29:54,350
also get is in the<font color="#E5E5E5"> beginning your site</font>

448
00:29:51,170 --> 00:29:59,390
might be very fast without<font color="#E5E5E5"> indexes on</font>

449
00:29:54,350 --> 00:30:02,770
your<font color="#E5E5E5"> sequel on</font><font color="#CCCCCC"> your tables</font><font color="#E5E5E5"> eventually</font>

450
00:29:59,390 --> 00:30:06,770
you might see<font color="#E5E5E5"> slow down</font>

451
00:30:02,770 --> 00:30:09,440
so use<font color="#CCCCCC"> your indexes but don't overuse</font>

452
00:30:06,770 --> 00:30:17,650
them because that might bring you to

453
00:30:09,440 --> 00:30:22,340
other problems<font color="#CCCCCC"> what we also see a</font><font color="#E5E5E5"> lot is</font>

454
00:30:17,650 --> 00:30:26,360
disk<font color="#CCCCCC"> i/o usually triggering your</font>

455
00:30:22,340 --> 00:30:31,419
application to be<font color="#CCCCCC"> slow and usually it's</font>

456
00:30:26,360 --> 00:30:34,520
a<font color="#E5E5E5"> combination of something externally is</font>

457
00:30:31,420 --> 00:30:37,490
doing too much disk<font color="#E5E5E5"> i/o on your server</font>

458
00:30:34,520 --> 00:30:42,410
<font color="#E5E5E5">your PHP wants to do a lot</font><font color="#CCCCCC"> of disk i/o</font>

459
00:30:37,490 --> 00:30:46,010
<font color="#E5E5E5">and suddenly things</font><font color="#CCCCCC"> go bad so what could</font>

460
00:30:42,410 --> 00:30:50,090
happen is certainly a backup kicks in

461
00:30:46,010 --> 00:30:52,940
<font color="#E5E5E5">and reads a lot of files without</font><font color="#CCCCCC"> Io</font>

462
00:30:50,090 --> 00:30:55,040
limiting or whatever and it causes<font color="#E5E5E5"> your</font>

463
00:30:52,940 --> 00:30:59,660
application to go slow

464
00:30:55,040 --> 00:31:01,370
what we also<font color="#E5E5E5"> already saw is usually we</font>

465
00:30:59,660 --> 00:31:04,430
have an application<font color="#CCCCCC"> and it</font><font color="#E5E5E5"> has a cron</font>

466
00:31:01,370 --> 00:31:07,969
somewhere and the<font color="#E5E5E5"> chrome goes wild</font>

467
00:31:04,430 --> 00:31:10,940
because yeah someone did not<font color="#E5E5E5"> tell you</font>

468
00:31:07,970 --> 00:31:14,680
they were<font color="#E5E5E5"> going to do some marketing</font>

469
00:31:10,940 --> 00:31:21,350
campaign or update everything<font color="#E5E5E5"> at once</font>

470
00:31:14,680 --> 00:31:24,220
<font color="#CCCCCC">and once you see</font><font color="#E5E5E5"> swapping because you</font>

471
00:31:21,350 --> 00:31:27,530
have memory issues on<font color="#E5E5E5"> your server</font><font color="#CCCCCC"> you</font>

472
00:31:24,220 --> 00:31:33,510
<font color="#CCCCCC">have to think of you</font><font color="#E5E5E5"> have to think about</font>

473
00:31:27,530 --> 00:31:36,990
other problems<font color="#CCCCCC"> other things too also</font>

474
00:31:33,510 --> 00:31:40,049
if you want to be fast you<font color="#E5E5E5"> need to keep</font>

475
00:31:36,990 --> 00:31:44,730
in mind<font color="#CCCCCC"> that not everyone wants to be</font>

476
00:31:40,049 --> 00:31:47,220
fast<font color="#CCCCCC"> so what we</font><font color="#E5E5E5"> also encountered in the</font>

477
00:31:44,730 --> 00:31:49,470
<font color="#CCCCCC">past was like yeah we have we have an</font>

478
00:31:47,220 --> 00:31:53,120
<font color="#CCCCCC">API yeah do do whatever what you want</font>

479
00:31:49,470 --> 00:31:56,100
with it<font color="#CCCCCC"> but they found it acceptable</font>

480
00:31:53,120 --> 00:31:57,899
they found it acceptable to<font color="#CCCCCC"> have a</font>

481
00:31:56,100 --> 00:32:02,370
response time<font color="#E5E5E5"> of</font><font color="#CCCCCC"> one second</font>

482
00:31:57,899 --> 00:32:09,029
<font color="#E5E5E5">but if you want to go fast yeah you have</font>

483
00:32:02,370 --> 00:32:12,000
<font color="#E5E5E5">to do something about</font><font color="#CCCCCC"> it and then it</font>

484
00:32:09,029 --> 00:32:15,659
happens<font color="#E5E5E5"> everything</font><font color="#CCCCCC"> goes down and it</font>

485
00:32:12,000 --> 00:32:18,630
breaks and there they are<font color="#CCCCCC"> the angry</font>

486
00:32:15,659 --> 00:32:21,000
customers so the first thing you<font color="#E5E5E5"> have to</font>

487
00:32:18,630 --> 00:32:25,529
<font color="#E5E5E5">do is don't panic if your site goes</font><font color="#CCCCCC"> down</font>

488
00:32:21,000 --> 00:32:28,760
<font color="#CCCCCC">just relax</font><font color="#E5E5E5"> it's not gonna kill not gonna</font>

489
00:32:25,529 --> 00:32:32,820
get any<font color="#CCCCCC"> better if you're panicking too</font>

490
00:32:28,760 --> 00:32:39,629
so first just throw in more CPUs<font color="#CCCCCC"> if it's</font>

491
00:32:32,820 --> 00:32:42,240
needed<font color="#E5E5E5"> throw in more</font><font color="#CCCCCC"> RAM and then</font><font color="#E5E5E5"> see</font><font color="#CCCCCC"> to</font>

492
00:32:39,630 --> 00:32:45,210
block probably some<font color="#CCCCCC"> mouses actors so you</font>

493
00:32:42,240 --> 00:32:52,049
probably find<font color="#E5E5E5"> some bad</font><font color="#CCCCCC"> BOTS</font><font color="#E5E5E5"> list and</font>

494
00:32:45,210 --> 00:32:55,950
block them<font color="#E5E5E5"> and when things start to</font>

495
00:32:52,049 --> 00:32:58,019
normalize<font color="#E5E5E5"> then try to find out what</font>

496
00:32:55,950 --> 00:33:00,840
happened<font color="#CCCCCC"> and try</font><font color="#E5E5E5"> to find out how you're</font>

497
00:32:58,019 --> 00:33:07,399
gonna improve it then find the slow

498
00:33:00,840 --> 00:33:11,970
parts start profiling<font color="#E5E5E5"> and get on with</font><font color="#CCCCCC"> it</font>

499
00:33:07,399 --> 00:33:14,760
<font color="#E5E5E5">so for your production environment it</font>

500
00:33:11,970 --> 00:33:18,990
might<font color="#E5E5E5"> be interesting for</font><font color="#CCCCCC"> everyone to</font>

501
00:33:14,760 --> 00:33:23,730
have your monitoring have an application

502
00:33:18,990 --> 00:33:25,980
performance monitoring on it<font color="#E5E5E5"> what I find</font>

503
00:33:23,730 --> 00:33:28,080
personally<font color="#E5E5E5"> very interesting is to have a</font>

504
00:33:25,980 --> 00:33:32,340
top on<font color="#CCCCCC"> it</font><font color="#E5E5E5"> I don't</font><font color="#CCCCCC"> know how many</font><font color="#E5E5E5"> people</font>

505
00:33:28,080 --> 00:33:35,510
know a top yeah<font color="#E5E5E5"> but if you have it on</font>

506
00:33:32,340 --> 00:33:37,939
<font color="#E5E5E5">your server you can</font>

507
00:33:35,510 --> 00:33:43,010
when everything is back to normal<font color="#CCCCCC"> you</font>

508
00:33:37,940 --> 00:33:45,950
can<font color="#E5E5E5"> replicate what happened see when it</font>

509
00:33:43,010 --> 00:33:49,700
started to explode and get some really

510
00:33:45,950 --> 00:33:52,460
<font color="#E5E5E5">useful</font><font color="#CCCCCC"> information to</font><font color="#E5E5E5"> avoid these kind</font>

511
00:33:49,700 --> 00:33:54,620
of<font color="#CCCCCC"> issues in the future and if you</font>

512
00:33:52,460 --> 00:34:01,850
<font color="#E5E5E5">really</font><font color="#CCCCCC"> need to you can go and</font><font color="#E5E5E5"> s trace</font>

513
00:33:54,620 --> 00:34:05,590
things if you<font color="#E5E5E5"> really want to go deep so</font>

514
00:34:01,850 --> 00:34:12,159
I have one other demo<font color="#E5E5E5"> where it's not</font>

515
00:34:05,590 --> 00:34:15,500
<font color="#E5E5E5">exactly obvious that something is slow</font>

516
00:34:12,159 --> 00:34:17,418
this will be<font color="#E5E5E5"> there so this</font><font color="#CCCCCC"> is Magento if</font>

517
00:34:15,500 --> 00:34:20,900
there are no there are no products in it

518
00:34:17,418 --> 00:34:22,850
so it's yeah<font color="#E5E5E5"> it's empty</font><font color="#CCCCCC"> but</font><font color="#E5E5E5"> doesn't</font>

519
00:34:20,900 --> 00:34:26,360
<font color="#E5E5E5">matter</font><font color="#CCCCCC"> it's gonna</font><font color="#E5E5E5"> show up that something</font>

520
00:34:22,850 --> 00:34:30,409
<font color="#CCCCCC">is slow I</font><font color="#E5E5E5"> already said it it's the the</font>

521
00:34:26,360 --> 00:34:35,000
contact<font color="#E5E5E5"> page</font><font color="#CCCCCC"> so if we go to contact it's</font>

522
00:34:30,409 --> 00:34:39,730
gonna be<font color="#E5E5E5"> around</font><font color="#CCCCCC"> 1 point something</font><font color="#E5E5E5"> or</font><font color="#CCCCCC"> 2</font>

523
00:34:35,000 --> 00:34:39,730
seconds<font color="#E5E5E5"> and if you</font><font color="#CCCCCC"> go look at</font><font color="#E5E5E5"> it</font>

524
00:34:39,940 --> 00:34:48,520
we<font color="#CCCCCC"> see like the default</font><font color="#E5E5E5"> was 380</font>

525
00:34:45,710 --> 00:34:52,070
milliseconds<font color="#CCCCCC"> and the contact page did</font>

526
00:34:48,520 --> 00:34:59,380
<font color="#CCCCCC">2.7 seconds for a page with only</font><font color="#E5E5E5"> formed</font>

527
00:34:52,070 --> 00:35:04,420
<font color="#E5E5E5">it's weird but if we go into that yeah</font>

528
00:34:59,380 --> 00:35:04,420
there is a lot<font color="#CCCCCC"> of stuff going</font><font color="#E5E5E5"> on</font><font color="#CCCCCC"> here</font>

529
00:35:06,220 --> 00:35:13,689
<font color="#E5E5E5">this call graph will take a while</font>

530
00:35:08,740 --> 00:35:13,689
<font color="#E5E5E5">because and it's</font><font color="#CCCCCC"> gonna be intimidating</font>

531
00:35:17,430 --> 00:35:20,489
[Music]

532
00:35:22,910 --> 00:35:35,520
<font color="#CCCCCC">whoops and then it was gone oh it's so</font>

533
00:35:29,579 --> 00:35:38,220
small now<font color="#E5E5E5"> yeah so it's back yeah but you</font>

534
00:35:35,520 --> 00:35:45,509
as you can see it<font color="#E5E5E5"> there is a lot of red</font>

535
00:35:38,220 --> 00:35:48,118
<font color="#CCCCCC">everywhere and yeah</font><font color="#E5E5E5"> where to start you</font>

536
00:35:45,510 --> 00:35:51,599
will<font color="#CCCCCC"> need</font><font color="#E5E5E5"> some inside knowledge of your</font>

537
00:35:48,119 --> 00:35:58,410
application<font color="#E5E5E5"> well you will eventually</font>

538
00:35:51,599 --> 00:36:01,170
follow the hot part again and we'll find

539
00:35:58,410 --> 00:36:08,490
out something peculiar<font color="#CCCCCC"> I think it's</font>

540
00:36:01,170 --> 00:36:11,040
there<font color="#E5E5E5"> somewhere no yeah let's not try to</font>

541
00:36:08,490 --> 00:36:14,430
find<font color="#E5E5E5"> in life it doesn't help but</font>

542
00:36:11,040 --> 00:36:16,609
somewhere if you<font color="#E5E5E5"> get into this problem</font>

543
00:36:14,430 --> 00:36:22,950
you will find out somewhere that it

544
00:36:16,609 --> 00:36:25,290
renders your page<font color="#CCCCCC"> in</font><font color="#E5E5E5"> PHP again that's</font>

545
00:36:22,950 --> 00:36:28,379
kind<font color="#E5E5E5"> of an expected behavior because you</font>

546
00:36:25,290 --> 00:36:30,839
thought yeah<font color="#E5E5E5"> well I have all my caches</font>

547
00:36:28,380 --> 00:36:36,119
on so you don't<font color="#E5E5E5"> have to rerender this</font>

548
00:36:30,839 --> 00:36:38,490
page it's somewhere in<font color="#E5E5E5"> cache if you dig</font>

549
00:36:36,119 --> 00:36:42,630
a<font color="#E5E5E5"> little bit further you will find out</font>

550
00:36:38,490 --> 00:36:47,459
it<font color="#CCCCCC"> has a Magento CAPTCHA and it which is</font>

551
00:36:42,630 --> 00:36:49,859
rendered server-side<font color="#CCCCCC"> surprised you</font>

552
00:36:47,460 --> 00:36:53,910
cannot catch this page so it slows down

553
00:36:49,859 --> 00:36:57,900
<font color="#E5E5E5">a lot but for these kind of problems you</font>

554
00:36:53,910 --> 00:37:00,960
also<font color="#CCCCCC"> already need a lot</font><font color="#E5E5E5"> of application</font>

555
00:36:57,900 --> 00:37:03,299
knowledge<font color="#CCCCCC"> all well inside knowledge</font>

556
00:37:00,960 --> 00:37:05,910
<font color="#E5E5E5">about the application you are using to</font>

557
00:37:03,299 --> 00:37:08,970
<font color="#E5E5E5">find out actually what is</font><font color="#CCCCCC"> going on</font><font color="#E5E5E5"> so</font>

558
00:37:05,910 --> 00:37:12,598
<font color="#E5E5E5">you will eventually recognize a problem</font>

559
00:37:08,970 --> 00:37:17,189
<font color="#CCCCCC">oh it renders the</font><font color="#E5E5E5"> HTML so this is not</font>

560
00:37:12,599 --> 00:37:20,040
what I expected<font color="#CCCCCC"> so why does it do it and</font>

561
00:37:17,190 --> 00:37:23,220
eventually you<font color="#E5E5E5"> find out it tries it also</font>

562
00:37:20,040 --> 00:37:26,970
it always renders<font color="#E5E5E5"> a CAPTCHA you don't</font>

563
00:37:23,220 --> 00:37:29,660
want it to do so you need to find

564
00:37:26,970 --> 00:37:29,660
<font color="#CCCCCC">another solution</font>

565
00:37:34,759 --> 00:37:44,789
so in closing find<font color="#E5E5E5"> your slower things</font>

566
00:37:40,429 --> 00:37:48,900
<font color="#E5E5E5">for me my</font><font color="#CCCCCC"> preferred go-to</font><font color="#E5E5E5"> solution is xh</font>

567
00:37:44,789 --> 00:37:52,529
<font color="#CCCCCC">probe and xh ue because we use an APM</font>

568
00:37:48,900 --> 00:37:57,359
and<font color="#E5E5E5"> production so we get some starting</font>

569
00:37:52,529 --> 00:37:59,999
points from<font color="#E5E5E5"> there and then we only use</font>

570
00:37:57,359 --> 00:38:06,119
profiling locally to really fix the

571
00:37:59,999 --> 00:38:08,819
problem<font color="#CCCCCC"> also don't trust profiles from</font>

572
00:38:06,119 --> 00:38:11,789
<font color="#E5E5E5">your</font><font color="#CCCCCC"> application performance monitoring</font>

573
00:38:08,819 --> 00:38:14,880
for example when your system is under

574
00:38:11,789 --> 00:38:18,299
stress<font color="#E5E5E5"> so if you have a high load on</font>

575
00:38:14,880 --> 00:38:22,229
your server<font color="#E5E5E5"> that that information will</font>

576
00:38:18,299 --> 00:38:24,479
<font color="#E5E5E5">not</font><font color="#CCCCCC"> be useful</font><font color="#E5E5E5"> will not be correct</font><font color="#CCCCCC"> also</font>

577
00:38:22,229 --> 00:38:27,598
<font color="#CCCCCC">what</font><font color="#E5E5E5"> you can take away</font><font color="#CCCCCC"> from</font><font color="#E5E5E5"> this is make</font>

578
00:38:24,479 --> 00:38:32,669
your popular pages<font color="#CCCCCC"> cacheable it will</font>

579
00:38:27,599 --> 00:38:34,349
help you a lot<font color="#E5E5E5"> and if you can profile</font>

580
00:38:32,670 --> 00:38:39,109
periodically in your development

581
00:38:34,349 --> 00:38:41,819
<font color="#CCCCCC">environment - if you have some reference</font>

582
00:38:39,109 --> 00:38:47,009
you will know that your application

583
00:38:41,819 --> 00:38:50,519
<font color="#CCCCCC">slowed down while adding new features</font><font color="#E5E5E5"> or</font>

584
00:38:47,009 --> 00:38:53,579
for<font color="#CCCCCC"> example</font><font color="#E5E5E5"> you had to do a bug fix and</font>

585
00:38:50,519 --> 00:38:56,390
it's suddenly one and a half seconds

586
00:38:53,579 --> 00:39:05,869
instead<font color="#CCCCCC"> of one second maybe</font><font color="#E5E5E5"> you have to</font>

587
00:38:56,390 --> 00:39:05,868
reconsider the fix are there questions

588
00:39:09,950 --> 00:39:17,009
yes<font color="#E5E5E5"> so the question</font><font color="#CCCCCC"> was</font><font color="#E5E5E5"> have you</font><font color="#CCCCCC"> ever</font>

589
00:39:13,259 --> 00:39:20,670
tried New Relic<font color="#E5E5E5"> yes we use that as an</font>

590
00:39:17,009 --> 00:39:23,819
<font color="#E5E5E5">APM</font><font color="#CCCCCC"> in our production</font><font color="#E5E5E5"> environments but</font>

591
00:39:20,670 --> 00:39:29,249
that was out<font color="#CCCCCC"> of the scope</font><font color="#E5E5E5"> of exactly</font>

592
00:39:23,819 --> 00:39:32,329
<font color="#E5E5E5">profiling</font><font color="#CCCCCC"> so that's that's</font><font color="#E5E5E5"> also the</font>

593
00:39:29,249 --> 00:39:36,180
reason my preferred go-to solution for

594
00:39:32,329 --> 00:39:39,089
<font color="#E5E5E5">profiling to improve things is</font><font color="#CCCCCC"> xhu II</font>

595
00:39:36,180 --> 00:39:43,259
with<font color="#E5E5E5"> x8 profit</font><font color="#CCCCCC"> x8 Yui because we get</font>

596
00:39:39,089 --> 00:39:46,049
some pointers from New Relic<font color="#E5E5E5"> where</font>

597
00:39:43,259 --> 00:39:49,349
things are probably slow<font color="#E5E5E5"> and if you can</font>

598
00:39:46,049 --> 00:39:53,160
<font color="#E5E5E5">reproduce this locally we can get ahead</font>

599
00:39:49,349 --> 00:39:56,249
and so yeah you<font color="#E5E5E5"> get all you get you</font>

600
00:39:53,160 --> 00:40:00,149
<font color="#E5E5E5">already get useful information</font><font color="#CCCCCC"> from New</font>

601
00:39:56,249 --> 00:40:03,660
Relic so you can reduce your search time

602
00:40:00,150 --> 00:40:06,269
<font color="#E5E5E5">in the cold graph where</font><font color="#CCCCCC"> you very already</font>

603
00:40:03,660 --> 00:40:09,839
know from New Relic yeah<font color="#CCCCCC"> okay it's about</font>

604
00:40:06,269 --> 00:40:11,879
my sequel queries<font color="#E5E5E5"> it's</font><font color="#CCCCCC"> its elastic</font>

605
00:40:09,839 --> 00:40:13,529
search that's that's<font color="#E5E5E5"> responding slow</font>

606
00:40:11,880 --> 00:40:17,749
<font color="#E5E5E5">it's something else</font>

607
00:40:13,529 --> 00:40:19,680
so yeah<font color="#E5E5E5"> it's useful</font><font color="#CCCCCC"> you have other</font>

608
00:40:17,749 --> 00:40:23,970
competitors of New Relic

609
00:40:19,680 --> 00:40:24,720
I think the auto<font color="#CCCCCC"> doc is one and</font><font color="#E5E5E5"> tight</font>

610
00:40:23,970 --> 00:40:27,269
<font color="#CCCCCC">ways</font>

611
00:40:24,720 --> 00:40:32,488
<font color="#E5E5E5">sideways also offers you a minimal set</font>

612
00:40:27,269 --> 00:40:33,660
<font color="#E5E5E5">of APM so yeah it's it's very useful</font><font color="#CCCCCC"> to</font>

613
00:40:32,489 --> 00:40:36,960
<font color="#E5E5E5">have it</font>

614
00:40:33,660 --> 00:40:39,930
the only drawback we've seen lately is

615
00:40:36,960 --> 00:40:44,519
<font color="#CCCCCC">that in really</font><font color="#E5E5E5"> complex applications New</font>

616
00:40:39,930 --> 00:40:50,419
Relic<font color="#CCCCCC"> might have too much overhead</font><font color="#E5E5E5"> so we</font>

617
00:40:44,519 --> 00:40:53,189
we switch<font color="#CCCCCC"> it on and off like if we</font>

618
00:40:50,420 --> 00:40:55,589
expect a problem we turn it back on

619
00:40:53,190 --> 00:40:59,220
but if we want<font color="#E5E5E5"> normal operation we turn</font>

620
00:40:55,589 --> 00:41:02,849
it off because we<font color="#E5E5E5"> noticed</font><font color="#CCCCCC"> at some sites</font>

621
00:40:59,220 --> 00:41:05,868
<font color="#E5E5E5">between</font><font color="#CCCCCC"> 15 and 30</font><font color="#E5E5E5"> percent overhead which</font>

622
00:41:02,849 --> 00:41:05,869
is really big

623
00:41:10,250 --> 00:41:28,980
yeah yeah<font color="#CCCCCC"> the more complex</font><font color="#E5E5E5"> your</font>

624
00:41:26,460 --> 00:41:34,470
application becomes the bigger the

625
00:41:28,980 --> 00:41:36,720
<font color="#E5E5E5">penalties of New Relic even though they</font>

626
00:41:34,470 --> 00:41:39,089
are actually a tool that you<font color="#CCCCCC"> want to run</font>

627
00:41:36,720 --> 00:41:42,000
in production<font color="#CCCCCC"> that you want to have in</font>

628
00:41:39,090 --> 00:41:44,660
production<font color="#CCCCCC"> to get this information but</font>

629
00:41:42,000 --> 00:41:48,270
yeah we lately seen it if your

630
00:41:44,660 --> 00:41:51,569
application is really<font color="#E5E5E5"> big it might</font>

631
00:41:48,270 --> 00:41:55,430
become no<font color="#CCCCCC"> longer really beneficial to</font>

632
00:41:51,570 --> 00:41:59,310
<font color="#E5E5E5">have it yeah</font>

633
00:41:55,430 --> 00:42:15,120
for example yeah

634
00:41:59,310 --> 00:42:17,970
other questions<font color="#E5E5E5"> yes yes</font><font color="#CCCCCC"> so the question</font>

635
00:42:15,120 --> 00:42:21,540
was is there<font color="#E5E5E5"> a possibility to get this</font>

636
00:42:17,970 --> 00:42:26,459
in continuous integration<font color="#CCCCCC"> I summarized</font>

637
00:42:21,540 --> 00:42:28,500
it correctly<font color="#CCCCCC"> yes</font><font color="#E5E5E5"> it's possible so that I</font>

638
00:42:26,460 --> 00:42:30,800
didn't mention<font color="#E5E5E5"> is like</font><font color="#CCCCCC"> Blackfyre has</font>

639
00:42:28,500 --> 00:42:30,800
this

640
00:42:31,010 --> 00:42:38,780
that you can make it profile<font color="#E5E5E5"> during</font><font color="#CCCCCC"> your</font>

641
00:42:35,900 --> 00:42:40,880
continuous integration<font color="#E5E5E5"> so you really see</font>

642
00:42:38,780 --> 00:42:45,410
the trend<font color="#E5E5E5"> if your application is slowing</font>

643
00:42:40,880 --> 00:42:48,619
down<font color="#E5E5E5"> slowing down over</font><font color="#CCCCCC"> time so you can</font>

644
00:42:45,410 --> 00:42:54,549
make<font color="#CCCCCC"> it a part of</font><font color="#E5E5E5"> your continuous</font>

645
00:42:48,619 --> 00:42:54,550
<font color="#CCCCCC">integration it it might</font><font color="#E5E5E5"> be very</font><font color="#CCCCCC"> useful</font>

646
00:42:55,300 --> 00:43:02,540
also<font color="#CCCCCC"> what I did not mention</font><font color="#E5E5E5"> is there is</font>

647
00:42:59,150 --> 00:43:07,490
a<font color="#CCCCCC"> more newer tool which is called</font><font color="#E5E5E5"> PHP</font>

648
00:43:02,540 --> 00:43:11,300
spy<font color="#E5E5E5"> but I only tried it briefly and I'm</font>

649
00:43:07,490 --> 00:43:14,959
not sure if it's<font color="#E5E5E5"> really that</font><font color="#CCCCCC"> easy</font><font color="#E5E5E5"> to use</font>

650
00:43:11,300 --> 00:43:20,000
for<font color="#CCCCCC"> request based profiling</font><font color="#E5E5E5"> but it works</font>

651
00:43:14,960 --> 00:43:22,580
<font color="#E5E5E5">very well</font><font color="#CCCCCC"> for</font><font color="#E5E5E5"> command line tools to</font>

652
00:43:20,000 --> 00:43:24,500
profile those and it gives you a<font color="#E5E5E5"> nice</font>

653
00:43:22,580 --> 00:43:25,190
fire graph which is<font color="#E5E5E5"> very easy to</font>

654
00:43:24,500 --> 00:43:30,200
<font color="#CCCCCC">interpret</font>

655
00:43:25,190 --> 00:43:32,930
<font color="#E5E5E5">to</font><font color="#CCCCCC"> read and to understand but it's</font>

656
00:43:30,200 --> 00:43:40,069
fairly<font color="#CCCCCC"> new so I have to dig into that</font>

657
00:43:32,930 --> 00:43:42,200
deeper more questions<font color="#CCCCCC"> no well thank you</font>

658
00:43:40,070 --> 00:43:46,060
<font color="#CCCCCC">and</font><font color="#E5E5E5"> you can give me feedback</font><font color="#CCCCCC"> on</font><font color="#E5E5E5"> joined</font>

659
00:43:42,200 --> 00:43:54,989
in or on Twitter<font color="#E5E5E5"> or</font><font color="#CCCCCC"> whatever</font>

660
00:43:46,060 --> 00:43:54,989
[Applause]

661
00:44:03,620 --> 00:44:06,699
[Music]

662
00:44:21,650 --> 00:44:24,650
whoa

663
00:44:33,350 --> 00:44:36,589
[Music]

664
00:44:55,200 --> 00:45:03,029
you are in<font color="#CCCCCC"> real-time</font><font color="#E5E5E5"> preview</font><font color="#CCCCCC"> at the</font>

665
00:45:00,640 --> 00:45:03,029
minute

