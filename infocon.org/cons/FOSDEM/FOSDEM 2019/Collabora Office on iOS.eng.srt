1
00:00:04,660 --> 00:00:10,520
yes so<font color="#E5E5E5"> on and total quest</font><font color="#CCCCCC"> I'm going to</font>

2
00:00:08,300 --> 00:00:16,730
speak<font color="#E5E5E5"> about Libre Office or</font><font color="#CCCCCC"> caliber</font>

3
00:00:10,520 --> 00:00:19,668
office as an app on iOS<font color="#CCCCCC"> I work for or</font><font color="#E5E5E5"> am</font>

4
00:00:16,730 --> 00:00:25,448
a<font color="#E5E5E5"> conducted contractor for collaborative</font>

5
00:00:19,669 --> 00:00:27,410
activity first some stuff about the

6
00:00:25,449 --> 00:00:37,900
<font color="#CCCCCC">company</font><font color="#E5E5E5"> but you</font><font color="#CCCCCC"> probably know</font><font color="#E5E5E5"> that</font>

7
00:00:27,410 --> 00:00:43,549
already and some history of<font color="#CCCCCC"> this effort</font>

8
00:00:37,900 --> 00:00:45,140
to build<font color="#E5E5E5"> Libre Office for some mobile</font>

9
00:00:43,549 --> 00:00:49,460
practice<font color="#E5E5E5"> the operating system you first</font>

10
00:00:45,140 --> 00:00:51,820
need<font color="#CCCCCC"> to cross compile it and the work to</font>

11
00:00:49,460 --> 00:00:57,920
<font color="#CCCCCC">enable that was started like back in</font>

12
00:00:51,820 --> 00:01:02,570
2011<font color="#CCCCCC"> already and the</font><font color="#E5E5E5"> platforms that it</font>

13
00:00:57,920 --> 00:01:05,150
was targeted<font color="#CCCCCC"> for</font><font color="#E5E5E5"> but iOS Android and</font>

14
00:01:02,570 --> 00:01:10,000
<font color="#CCCCCC">also</font><font color="#E5E5E5"> cross</font><font color="#CCCCCC"> combined two windows first</font>

15
00:01:05,150 --> 00:01:14,420
<font color="#CCCCCC">tried initially this</font><font color="#E5E5E5"> was just mostly</font>

16
00:01:10,000 --> 00:01:17,060
something done in my spare time<font color="#CCCCCC"> and they</font>

17
00:01:14,420 --> 00:01:21,700
<font color="#E5E5E5">weren't really any concrete plans on</font><font color="#CCCCCC"> own</font>

18
00:01:17,060 --> 00:01:26,630
<font color="#E5E5E5">to get some actual product out</font><font color="#CCCCCC"> of</font><font color="#E5E5E5"> it</font>

19
00:01:21,700 --> 00:01:30,320
and<font color="#E5E5E5"> cross-compilation effort for Windows</font>

20
00:01:26,630 --> 00:01:33,649
was supposed to make it<font color="#E5E5E5"> easier</font><font color="#CCCCCC"> to build</font>

21
00:01:30,320 --> 00:01:36,610
<font color="#CCCCCC">real profits for Windows but there were</font>

22
00:01:33,650 --> 00:01:40,400
all kinds of problems<font color="#CCCCCC"> with that</font><font color="#E5E5E5"> and</font>

23
00:01:36,610 --> 00:01:47,510
<font color="#E5E5E5">eventually we didn't continue that</font>

24
00:01:40,400 --> 00:01:49,520
effort anymore then back in 2014<font color="#E5E5E5"> there</font>

25
00:01:47,510 --> 00:01:54,950
was<font color="#E5E5E5"> this company called cloud on if you</font>

26
00:01:49,520 --> 00:01:59,990
remember them they had<font color="#E5E5E5"> earned up for for</font>

27
00:01:54,950 --> 00:02:02,870
iOS that included some<font color="#CCCCCC"> file sharing and</font>

28
00:01:59,990 --> 00:02:06,350
whatever and<font color="#E5E5E5"> they needed to</font><font color="#CCCCCC"> be able</font><font color="#E5E5E5"> to</font>

29
00:02:02,870 --> 00:02:10,340
also<font color="#E5E5E5"> edit documents locally on an iOS</font>

30
00:02:06,350 --> 00:02:13,430
device<font color="#CCCCCC"> and they founded this</font><font color="#E5E5E5"> work for</font>

31
00:02:10,340 --> 00:02:16,040
some time<font color="#CCCCCC"> but then they got acquired and</font>

32
00:02:13,430 --> 00:02:23,000
their plans change that<font color="#E5E5E5"> and that didn't</font>

33
00:02:16,040 --> 00:02:27,379
then<font color="#CCCCCC"> were cut</font><font color="#E5E5E5"> very</font><font color="#CCCCCC"> bad nicely around</font><font color="#E5E5E5"> the</font>

34
00:02:23,000 --> 00:02:30,590
<font color="#E5E5E5">same time we collaborated working on</font>

35
00:02:27,379 --> 00:02:36,379
<font color="#CCCCCC">libreoffice online and this introduced</font>

36
00:02:30,590 --> 00:02:41,810
this tiled rendering idea where a client

37
00:02:36,379 --> 00:02:45,410
or well some code can ask LibreOffice<font color="#CCCCCC"> to</font>

38
00:02:41,810 --> 00:02:51,079
render the view of a document<font color="#E5E5E5"> like as</font>

39
00:02:45,410 --> 00:02:53,630
rectangular tiles pixel<font color="#E5E5E5"> maps that's what</font>

40
00:02:51,079 --> 00:02:56,780
that<font color="#CCCCCC"> is what what is</font><font color="#E5E5E5"> used in</font><font color="#CCCCCC"> the the</font>

41
00:02:53,630 --> 00:03:03,190
<font color="#E5E5E5">online we send</font><font color="#CCCCCC"> these tiles</font><font color="#E5E5E5"> to the client</font>

42
00:02:56,780 --> 00:03:05,299
<font color="#E5E5E5">as PNG is basically and for</font><font color="#CCCCCC"> iOS we had</font>

43
00:03:03,190 --> 00:03:09,200
only a<font color="#E5E5E5"> very bare-bones</font>

44
00:03:05,299 --> 00:03:13,430
test application or app that was kept

45
00:03:09,200 --> 00:03:18,230
working but really not<font color="#E5E5E5"> much was done on</font>

46
00:03:13,430 --> 00:03:23,660
improving it then<font color="#E5E5E5"> johnny version started</font>

47
00:03:18,230 --> 00:03:27,200
working on a new<font color="#CCCCCC"> app in 2017 but that</font>

48
00:03:23,660 --> 00:03:31,160
did<font color="#CCCCCC"> not get finished</font><font color="#E5E5E5"> either then last</font>

49
00:03:27,200 --> 00:03:35,959
year we<font color="#CCCCCC"> made</font><font color="#E5E5E5"> a fresh start when Michael</font>

50
00:03:31,160 --> 00:03:40,730
had this idea to reuse this Libre Office

51
00:03:35,959 --> 00:03:45,530
online<font color="#CCCCCC"> Java Script</font><font color="#E5E5E5"> user interface also</font>

52
00:03:40,730 --> 00:03:47,690
<font color="#CCCCCC">in on in a mobile</font><font color="#E5E5E5"> app and</font><font color="#CCCCCC"> that actually</font>

53
00:03:45,530 --> 00:03:52,910
<font color="#E5E5E5">turned out</font><font color="#CCCCCC"> to work part nicely and</font>

54
00:03:47,690 --> 00:03:56,418
wasn't<font color="#E5E5E5"> even very</font><font color="#CCCCCC"> hard to get</font><font color="#E5E5E5"> working in</font>

55
00:03:52,910 --> 00:04:01,660
initially and this<font color="#E5E5E5"> has also been funded</font>

56
00:03:56,419 --> 00:04:01,660
by unfinished<font color="#E5E5E5"> thank you to Nicholas</font>

57
00:04:06,920 --> 00:04:17,719
something about this<font color="#E5E5E5"> cross-compilation</font>

58
00:04:09,530 --> 00:04:18,980
of Libra<font color="#E5E5E5"> fish code</font><font color="#CCCCCC"> the basic or one</font>

59
00:04:17,720 --> 00:04:22,520
basic<font color="#CCCCCC"> thickness that</font><font color="#E5E5E5"> we run the</font>

60
00:04:18,980 --> 00:04:24,830
configure script<font color="#E5E5E5"> twice automatically one</font>

61
00:04:22,520 --> 00:04:29,570
for the build platform<font color="#CCCCCC"> or man and</font><font color="#E5E5E5"> one</font>

62
00:04:24,830 --> 00:04:33,050
for<font color="#E5E5E5"> the target or host</font><font color="#CCCCCC"> platform and for</font>

63
00:04:29,570 --> 00:04:36,830
<font color="#CCCCCC">the blimp</font><font color="#E5E5E5"> build platform</font><font color="#CCCCCC"> ups</font><font color="#E5E5E5"> 10 Mac OS</font>

64
00:04:33,050 --> 00:04:39,500
for iOS and and Linux for instance for

65
00:04:36,830 --> 00:04:44,060
Android<font color="#E5E5E5"> they only build the build time</font>

66
00:04:39,500 --> 00:04:46,970
tools that are<font color="#E5E5E5"> necessary to process</font><font color="#CCCCCC"> this</font>

67
00:04:44,060 --> 00:04:54,110
IDL files<font color="#E5E5E5"> for instance and and generate</font>

68
00:04:46,970 --> 00:04:57,940
code and when building<font color="#E5E5E5"> cross compiling</font>

69
00:04:54,110 --> 00:05:01,640
for iOS or Android we don't build any

70
00:04:57,940 --> 00:05:03,730
dynamic libraries<font color="#E5E5E5"> as we do for the</font>

71
00:05:01,640 --> 00:05:08,419
<font color="#E5E5E5">desktop platforms but only static</font>

72
00:05:03,730 --> 00:05:12,080
archives the main reason for<font color="#E5E5E5"> this</font>

73
00:05:08,419 --> 00:05:15,409
originally<font color="#CCCCCC"> was that on iOS you</font><font color="#E5E5E5"> were not</font>

74
00:05:12,080 --> 00:05:19,430
allowed to<font color="#CCCCCC"> even load your own dynamic</font>

75
00:05:15,410 --> 00:05:21,620
<font color="#E5E5E5">libraries I think that has</font><font color="#CCCCCC"> changed in</font>

76
00:05:19,430 --> 00:05:26,060
the<font color="#CCCCCC"> meantime but we still do</font><font color="#E5E5E5"> it this way</font>

77
00:05:21,620 --> 00:05:29,570
anyway and also<font color="#E5E5E5"> on</font><font color="#CCCCCC"> Android you could</font>

78
00:05:26,060 --> 00:05:33,680
load your own<font color="#CCCCCC"> owns that</font><font color="#E5E5E5"> on</font><font color="#CCCCCC"> shared Hobbit</font>

79
00:05:29,570 --> 00:05:37,130
<font color="#CCCCCC">but</font><font color="#E5E5E5"> objects but the runtime linker had</font>

80
00:05:33,680 --> 00:05:40,520
some very silly restrictions and<font color="#CCCCCC"> no way</font>

81
00:05:37,130 --> 00:05:46,120
could<font color="#CCCCCC"> it manage with 100 sub of shared</font>

82
00:05:40,520 --> 00:05:49,820
libraries that<font color="#CCCCCC"> the bravas monster load</font>

83
00:05:46,120 --> 00:05:52,520
and when cross compiling we don't do any

84
00:05:49,820 --> 00:05:57,710
unit testing<font color="#E5E5E5"> which of course is a bit</font>

85
00:05:52,520 --> 00:06:01,270
sad but it isn't<font color="#E5E5E5"> really possible to do</font>

86
00:05:57,710 --> 00:06:04,700
it instead<font color="#E5E5E5"> what could be done done is to</font>

87
00:06:01,270 --> 00:06:06,979
<font color="#E5E5E5">make an app that includes source code</font>

88
00:06:04,700 --> 00:06:11,060
from unit tests and when you run<font color="#CCCCCC"> that up</font>

89
00:06:06,979 --> 00:06:13,159
it performs<font color="#E5E5E5"> the unit testing</font><font color="#CCCCCC"> and we</font>

90
00:06:11,060 --> 00:06:18,640
<font color="#CCCCCC">actually have ones ones very small such</font>

91
00:06:13,160 --> 00:06:18,640
start up already in the online<font color="#E5E5E5"> report</font>

92
00:06:19,910 --> 00:06:27,600
the core repository doesn't contain any

93
00:06:23,630 --> 00:06:30,690
any<font color="#CCCCCC"> app source code at the moment</font><font color="#E5E5E5"> but</font>

94
00:06:27,600 --> 00:06:36,140
<font color="#E5E5E5">there is</font><font color="#CCCCCC"> Yanni bar since LibreOffice</font>

95
00:06:30,690 --> 00:06:36,140
<font color="#E5E5E5">light still but it's not built normally</font>

96
00:06:37,130 --> 00:06:45,570
and the<font color="#CCCCCC"> LibreOffice</font><font color="#E5E5E5"> kid as you</font><font color="#CCCCCC"> might</font>

97
00:06:40,950 --> 00:06:47,659
know is this<font color="#E5E5E5"> mostly see like API that is</font>

98
00:06:45,570 --> 00:06:54,300
supposed to<font color="#E5E5E5"> be very</font><font color="#CCCCCC"> simple to use</font>

99
00:06:47,660 --> 00:06:58,110
<font color="#E5E5E5">simpler than you and</font><font color="#CCCCCC"> know and it was in</font>

100
00:06:54,300 --> 00:07:01,020
<font color="#E5E5E5">it initially used only for loading files</font>

101
00:06:58,110 --> 00:07:04,860
and saving files in possibly<font color="#CCCCCC"> different</font>

102
00:07:01,020 --> 00:07:08,659
formats and<font color="#CCCCCC"> used for instance</font><font color="#E5E5E5"> by some</font>

103
00:07:04,860 --> 00:07:11,430
conversion tools and things<font color="#E5E5E5"> like</font><font color="#CCCCCC"> that or</font>

104
00:07:08,660 --> 00:07:18,000
<font color="#CCCCCC">niklas am I remembering wrong but it</font>

105
00:07:11,430 --> 00:07:19,680
used<font color="#E5E5E5"> for other things also initially but</font>

106
00:07:18,000 --> 00:07:23,820
<font color="#E5E5E5">then when this tiled rendering idea</font>

107
00:07:19,680 --> 00:07:34,440
arrived<font color="#CCCCCC"> this</font><font color="#E5E5E5"> was added to liberals kit</font>

108
00:07:23,820 --> 00:07:36,510
also and<font color="#CCCCCC"> LibreOffice online as</font><font color="#E5E5E5"> you know</font>

109
00:07:34,440 --> 00:07:41,430
it's a server client thing where the

110
00:07:36,510 --> 00:07:46,110
server part then has several processes

111
00:07:41,430 --> 00:07:49,170
there is<font color="#E5E5E5"> one master process</font><font color="#CCCCCC"> wsd web</font>

112
00:07:46,110 --> 00:07:51,510
<font color="#CCCCCC">sockets demon</font><font color="#E5E5E5"> it stands for</font><font color="#CCCCCC"> and there is</font>

113
00:07:49,170 --> 00:07:54,690
one broker process and then there<font color="#E5E5E5"> are</font>

114
00:07:51,510 --> 00:07:57,990
for<font color="#E5E5E5"> each document that is being</font><font color="#CCCCCC"> edited</font>

115
00:07:54,690 --> 00:08:00,090
there is a separate<font color="#E5E5E5"> kit process and the</font>

116
00:07:57,990 --> 00:08:03,960
kid name comes<font color="#E5E5E5"> from</font><font color="#CCCCCC"> Reeboks kid of</font>

117
00:08:00,090 --> 00:08:07,940
course<font color="#E5E5E5"> and it's only these</font><font color="#CCCCCC"> kid processes</font>

118
00:08:03,960 --> 00:08:12,120
that give us LibreOffice kit actually

119
00:08:07,940 --> 00:08:14,930
and these kid processes are then

120
00:08:12,120 --> 00:08:18,860
strictly isolated they run in their own

121
00:08:14,930 --> 00:08:22,590
chroot so that you can't even

122
00:08:18,860 --> 00:08:25,050
accidentally see<font color="#CCCCCC"> an</font><font color="#E5E5E5"> information</font><font color="#CCCCCC"> from</font>

123
00:08:22,590 --> 00:08:30,799
<font color="#E5E5E5">some</font><font color="#CCCCCC"> of somebody else's documents and so</font>

124
00:08:25,050 --> 00:08:36,680
on and then the client<font color="#E5E5E5"> in the browser</font>

125
00:08:30,800 --> 00:08:39,200
<font color="#CCCCCC">uses</font><font color="#E5E5E5"> lots of JavaScript</font><font color="#CCCCCC"> and the</font>

126
00:08:36,679 --> 00:08:42,819
communication<font color="#E5E5E5"> between these the client</font>

127
00:08:39,200 --> 00:08:47,750
and the server uses WebSockets

128
00:08:42,820 --> 00:08:51,410
<font color="#CCCCCC">WebSockets</font><font color="#E5E5E5"> is an API that all browsers</font>

129
00:08:47,750 --> 00:08:56,000
implement that allows you to<font color="#E5E5E5"> send</font>

130
00:08:51,410 --> 00:08:57,770
message based or<font color="#CCCCCC"> sent</font><font color="#E5E5E5"> messages from from</font>

131
00:08:56,000 --> 00:09:04,010
<font color="#CCCCCC">the client to the server and and get the</font>

132
00:08:57,770 --> 00:09:07,189
class back and<font color="#E5E5E5"> also because it was</font><font color="#CCCCCC"> easy</font>

133
00:09:04,010 --> 00:09:09,740
<font color="#CCCCCC">to</font><font color="#E5E5E5"> do it like to use that for so for for</font>

134
00:09:07,190 --> 00:09:12,530
the inter process communication<font color="#E5E5E5"> it used</font>

135
00:09:09,740 --> 00:09:17,390
it is used<font color="#CCCCCC"> also for this between these</font>

136
00:09:12,530 --> 00:09:21,470
<font color="#CCCCCC">processes now then if you want to</font>

137
00:09:17,390 --> 00:09:25,990
<font color="#E5E5E5">combine this into</font><font color="#CCCCCC"> a mobile app that runs</font>

138
00:09:21,470 --> 00:09:25,990
<font color="#E5E5E5">standalone on the on the mobile device</font>

139
00:09:26,540 --> 00:09:34,420
<font color="#E5E5E5">you need all the relevant parts of the</font>

140
00:09:29,660 --> 00:09:38,150
C++ code of the server<font color="#E5E5E5"> and</font><font color="#CCCCCC"> you need some</font>

141
00:09:34,420 --> 00:09:41,089
some<font color="#CCCCCC"> platform</font><font color="#E5E5E5"> to</font><font color="#CCCCCC"> speak code that uses</font>

142
00:09:38,150 --> 00:09:44,689
the<font color="#E5E5E5"> mobile platforms</font><font color="#CCCCCC"> own Onate the ice</font>

143
00:09:41,090 --> 00:09:51,290
to do whatever is needed and then<font color="#E5E5E5"> you'll</font>

144
00:09:44,690 --> 00:09:53,180
need<font color="#CCCCCC"> JavaScript bits</font><font color="#E5E5E5"> the platform</font>

145
00:09:51,290 --> 00:09:57,829
traffic specific code is actually<font color="#CCCCCC"> not</font>

146
00:09:53,180 --> 00:10:04,579
that<font color="#E5E5E5"> much maybe some thousand lines or</font>

147
00:09:57,830 --> 00:10:09,500
so or even<font color="#E5E5E5"> less and the server code in</font>

148
00:10:04,580 --> 00:10:13,730
C++<font color="#CCCCCC"> we actually don't need all of it you</font>

149
00:10:09,500 --> 00:10:18,290
know<font color="#CCCCCC"> app</font><font color="#E5E5E5"> only parts here and there</font><font color="#CCCCCC"> on</font>

150
00:10:13,730 --> 00:10:20,870
there is a bit<font color="#E5E5E5"> of if</font><font color="#CCCCCC"> def spaghetti in</font>

151
00:10:18,290 --> 00:10:23,660
there<font color="#E5E5E5"> to filter out only those bits that</font>

152
00:10:20,870 --> 00:10:28,280
are<font color="#E5E5E5"> actually needed in the app but it's</font>

153
00:10:23,660 --> 00:10:33,189
not too<font color="#E5E5E5"> bad and these JavaScript parts</font>

154
00:10:28,280 --> 00:10:33,189
then they run in a WebKit web view

155
00:10:34,950 --> 00:10:42,440
I think Android also<font color="#E5E5E5"> has</font><font color="#CCCCCC"> the ability s</font>

156
00:10:39,959 --> 00:10:47,029
yeah so it's it should<font color="#E5E5E5"> be mostly</font>

157
00:10:42,440 --> 00:10:47,029
compatible<font color="#CCCCCC"> but both both iOS and Android</font>

158
00:10:47,720 --> 00:10:55,260
on iOS these webview things actually

159
00:10:52,410 --> 00:10:57,750
running separate processes but that is

160
00:10:55,260 --> 00:11:00,050
not<font color="#E5E5E5"> really</font><font color="#CCCCCC"> that visible to the in the</font>

161
00:10:57,750 --> 00:11:00,050
API

162
00:11:05,030 --> 00:11:12,949
and then when this<font color="#E5E5E5"> C++ code needs to</font>

163
00:11:09,290 --> 00:11:17,329
communicate<font color="#E5E5E5"> with the JavaScript code if</font>

164
00:11:12,950 --> 00:11:20,480
you compare<font color="#CCCCCC"> to the online case there</font><font color="#E5E5E5"> the</font>

165
00:11:17,330 --> 00:11:24,110
<font color="#E5E5E5">other server sends these WebSocket</font>

166
00:11:20,480 --> 00:11:27,680
messages and the<font color="#E5E5E5"> JavaScript receives</font>

167
00:11:24,110 --> 00:11:33,440
them and replies but also with WebSocket

168
00:11:27,680 --> 00:11:36,790
messages in the up case they go through

169
00:11:33,440 --> 00:11:39,410
<font color="#E5E5E5">this native code</font><font color="#CCCCCC"> layer that that when</font>

170
00:11:36,790 --> 00:11:41,240
when<font color="#E5E5E5"> the native code needs</font><font color="#CCCCCC"> to do</font>

171
00:11:39,410 --> 00:11:45,459
something<font color="#E5E5E5"> or send something to the</font>

172
00:11:41,240 --> 00:11:49,490
<font color="#E5E5E5">JavaScript parts it asks the webview to</font>

173
00:11:45,460 --> 00:11:55,210
execute one line of JavaScript code

174
00:11:49,490 --> 00:11:58,790
<font color="#E5E5E5">typically that then invokes a function</font>

175
00:11:55,210 --> 00:12:01,550
and from that from<font color="#CCCCCC"> there on it continues</font>

176
00:11:58,790 --> 00:12:09,800
as if it will have received it in a

177
00:12:01,550 --> 00:12:11,959
WebSocket message and what in the in the

178
00:12:09,800 --> 00:12:14,209
online<font color="#E5E5E5"> server where you have these</font>

179
00:12:11,960 --> 00:12:19,820
separate processes<font color="#E5E5E5"> that send messages</font><font color="#CCCCCC"> to</font>

180
00:12:14,210 --> 00:12:22,990
each other in the app they run mostly<font color="#E5E5E5"> as</font>

181
00:12:19,820 --> 00:12:26,570
different threads and<font color="#E5E5E5"> instead</font><font color="#CCCCCC"> of sending</font>

182
00:12:22,990 --> 00:12:28,940
any messages through some system<font color="#E5E5E5"> IPC</font>

183
00:12:26,570 --> 00:12:33,680
mechanism<font color="#E5E5E5"> they just we just</font><font color="#CCCCCC"> have this</font>

184
00:12:28,940 --> 00:12:37,160
simple<font color="#E5E5E5"> buffering system where they add a</font>

185
00:12:33,680 --> 00:12:40,069
message to today's data structure<font color="#E5E5E5"> and</font>

186
00:12:37,160 --> 00:12:47,089
<font color="#CCCCCC">dollar trade notices that and and takes</font>

187
00:12:40,070 --> 00:12:50,560
it from there<font color="#CCCCCC"> and we didn't</font><font color="#E5E5E5"> want to do</font>

188
00:12:47,090 --> 00:12:55,490
any<font color="#E5E5E5"> any large-scale code changes to the</font>

189
00:12:50,560 --> 00:12:58,989
online<font color="#E5E5E5"> support a scope so these we call</font>

190
00:12:55,490 --> 00:13:03,520
them fake<font color="#E5E5E5"> banks fake WebSockets make it</font>

191
00:12:58,990 --> 00:13:03,520
<font color="#E5E5E5">make the code look more or less the same</font>

192
00:13:05,520 --> 00:13:14,980
and if you want to create a<font color="#E5E5E5"> similar app</font>

193
00:13:11,380 --> 00:13:19,500
for for other<font color="#CCCCCC"> platforms like mainly an</font>

194
00:13:14,980 --> 00:13:22,390
<font color="#E5E5E5">Android the same basic idea should work</font>

195
00:13:19,500 --> 00:13:25,690
<font color="#E5E5E5">you just</font><font color="#CCCCCC"> need to write this platform</font>

196
00:13:22,390 --> 00:13:31,959
specific<font color="#CCCCCC"> coding in Java instead of of</font>

197
00:13:25,690 --> 00:13:36,899
<font color="#CCCCCC">objective-c</font><font color="#E5E5E5"> and also as an example and</font>

198
00:13:31,959 --> 00:13:41,310
experiment<font color="#CCCCCC"> I wrote one for gtk+ and</font>

199
00:13:36,899 --> 00:13:46,000
that's<font color="#E5E5E5"> also actually quite quite easy</font>

200
00:13:41,310 --> 00:13:48,910
the the API that<font color="#CCCCCC"> gtk+ and replicate</font>

201
00:13:46,000 --> 00:13:52,660
<font color="#E5E5E5">overseas in theory quite close to the</font>

202
00:13:48,910 --> 00:13:55,410
one that you have on<font color="#E5E5E5"> iOS</font><font color="#CCCCCC"> you can</font><font color="#E5E5E5"> execute</font>

203
00:13:52,660 --> 00:13:59,140
one line of JavaScript<font color="#CCCCCC"> and</font><font color="#E5E5E5"> you get</font>

204
00:13:55,410 --> 00:14:02,520
callbacks<font color="#E5E5E5"> man when the JavaScript calls</font>

205
00:13:59,140 --> 00:14:02,520
some specific function

206
00:14:05,400 --> 00:14:10,339
[Music]

207
00:14:06,999 --> 00:14:14,860
then how<font color="#E5E5E5"> is this iOS app actually built</font>

208
00:14:10,339 --> 00:14:18,410
well it's built in an Xcode project<font color="#E5E5E5"> and</font>

209
00:14:14,860 --> 00:14:22,100
all this<font color="#E5E5E5"> sorry</font><font color="#CCCCCC"> all</font><font color="#E5E5E5"> the static libraries</font>

210
00:14:18,410 --> 00:14:25,999
<font color="#E5E5E5">that we build in the Provost Corps they</font>

211
00:14:22,100 --> 00:14:28,639
are listed in a file<font color="#E5E5E5"> and then in the</font>

212
00:14:25,999 --> 00:14:32,420
Xcode project we<font color="#CCCCCC"> just</font><font color="#E5E5E5"> passed this this</font>

213
00:14:28,639 --> 00:14:34,249
file to<font color="#E5E5E5"> the linker and it looks through</font>

214
00:14:32,420 --> 00:14:40,579
all these<font color="#CCCCCC"> libraries and takes what it</font>

215
00:14:34,249 --> 00:14:43,819
needs and as we don't<font color="#CCCCCC"> use any</font>

216
00:14:40,579 --> 00:14:46,748
dynamically linking on these<font color="#CCCCCC"> platforms</font>

217
00:14:43,819 --> 00:14:50,089
<font color="#E5E5E5">we have a map that's built at Build time</font>

218
00:14:46,749 --> 00:14:53,809
at maps this

219
00:14:50,089 --> 00:14:56,410
you know<font color="#CCCCCC"> UN all component names or</font>

220
00:14:53,809 --> 00:14:59,019
constructor names the function pointers

221
00:14:56,410 --> 00:15:05,240
there is a Python script<font color="#CCCCCC"> that generates</font>

222
00:14:59,019 --> 00:15:11,860
this<font color="#E5E5E5"> maps and that then decides what's</font>

223
00:15:05,240 --> 00:15:15,199
what gets linked in basically and

224
00:15:11,860 --> 00:15:18,079
typically if you when you run run the

225
00:15:15,199 --> 00:15:20,269
app and if you invoke some functionality

226
00:15:18,079 --> 00:15:22,638
<font color="#E5E5E5">that hasn't been invoked earlier you</font>

227
00:15:20,269 --> 00:15:24,410
will<font color="#E5E5E5"> notice that</font><font color="#CCCCCC"> are now it needs</font><font color="#E5E5E5"> some</font>

228
00:15:22,639 --> 00:15:28,399
component<font color="#E5E5E5"> that isn't actually linked in</font>

229
00:15:24,410 --> 00:15:32,870
then you need to<font color="#E5E5E5"> update this</font><font color="#CCCCCC"> this</font><font color="#E5E5E5"> Python</font>

230
00:15:28,399 --> 00:15:39,319
script and and<font color="#E5E5E5"> link it again and then it</font>

231
00:15:32,870 --> 00:15:47,209
<font color="#CCCCCC">should work</font><font color="#E5E5E5"> and</font><font color="#CCCCCC"> all these configuration</font>

232
00:15:39,319 --> 00:15:50,059
files translations<font color="#CCCCCC"> all the XML files RC</font>

233
00:15:47,209 --> 00:15:56,469
files etc they are<font color="#E5E5E5"> mostly as in a normal</font>

234
00:15:50,059 --> 00:15:56,469
real<font color="#E5E5E5"> profits in a very similar structure</font>

235
00:15:58,569 --> 00:16:04,399
you know I thought<font color="#E5E5E5"> I would go through</font>

236
00:16:02,600 --> 00:16:09,709
the code<font color="#E5E5E5"> a bit let's see if I can switch</font>

237
00:16:04,399 --> 00:16:13,730
to<font color="#E5E5E5"> that why didn't it switch</font><font color="#CCCCCC"> oh yeah I</font>

238
00:16:09,709 --> 00:16:15,219
had to<font color="#E5E5E5"> first fix it this one so I'll</font>

239
00:16:13,730 --> 00:16:20,480
start<font color="#CCCCCC"> by</font><font color="#E5E5E5"> showing the</font><font color="#CCCCCC"> unit shall I say</font>

240
00:16:15,220 --> 00:16:23,420
<font color="#E5E5E5">initialization stuff where we initialize</font>

241
00:16:20,480 --> 00:16:26,899
the<font color="#E5E5E5"> logging and language and</font><font color="#CCCCCC"> locale</font>

242
00:16:23,420 --> 00:16:30,800
stuff and we download some templates if

243
00:16:26,899 --> 00:16:38,420
necessary<font color="#E5E5E5"> and we start the teeth and so</font>

244
00:16:30,800 --> 00:16:42,859
on so here am I<font color="#E5E5E5"> now in this can you see</font>

245
00:16:38,420 --> 00:16:46,399
<font color="#E5E5E5">this is it large enough</font><font color="#CCCCCC"> yeah in the</font>

246
00:16:42,860 --> 00:16:50,540
online online<font color="#E5E5E5"> repository and in the iOS</font>

247
00:16:46,399 --> 00:16:57,920
/ mobile directory and<font color="#E5E5E5"> here this app</font>

248
00:16:50,540 --> 00:17:04,899
<font color="#E5E5E5">delegate</font><font color="#CCCCCC"> forest one that does the</font>

249
00:16:57,920 --> 00:17:10,879
initialization<font color="#CCCCCC"> very</font><font color="#E5E5E5"> something related to</font>

250
00:17:04,900 --> 00:17:15,500
templates and then the actual app starts

251
00:17:10,880 --> 00:17:18,919
in this function the application did

252
00:17:15,500 --> 00:17:23,089
<font color="#CCCCCC">finish launching with options it does</font>

253
00:17:18,919 --> 00:17:25,870
some logging<font color="#E5E5E5"> initialization and some</font>

254
00:17:23,089 --> 00:17:25,869
language stuff

255
00:17:29,410 --> 00:17:39,850
and this this<font color="#E5E5E5"> here is related</font><font color="#CCCCCC"> to the</font>

256
00:17:32,840 --> 00:17:43,610
template feature then it calls the

257
00:17:39,850 --> 00:17:49,129
<font color="#CCCCCC">LibreOffice get</font><font color="#E5E5E5"> units not initialization</font>

258
00:17:43,610 --> 00:17:52,429
functions and then it starts a thread

259
00:17:49,130 --> 00:17:58,360
<font color="#E5E5E5">this is the objective-c</font><font color="#CCCCCC"> way way to start</font>

260
00:17:52,430 --> 00:18:03,170
a thread<font color="#E5E5E5"> a synchronous Li and here it</font>

261
00:17:58,360 --> 00:18:06,139
<font color="#E5E5E5">creates this law</font><font color="#CCCCCC"> wsd object which</font>

262
00:18:03,170 --> 00:18:10,730
<font color="#E5E5E5">corresponds to the</font><font color="#CCCCCC"> wsd process in the</font>

263
00:18:06,140 --> 00:18:14,270
online case<font color="#E5E5E5"> and turns it and</font><font color="#CCCCCC"> one it once</font>

264
00:18:10,730 --> 00:18:16,690
it has run it<font color="#CCCCCC"> just loops back and create</font>

265
00:18:14,270 --> 00:18:16,690
one more

266
00:18:30,220 --> 00:18:36,880
then when the app starts you first see

267
00:18:34,070 --> 00:18:41,539
like document browse browser that shows

268
00:18:36,880 --> 00:18:44,899
your documents in iCloud<font color="#CCCCCC"> or on your</font>

269
00:18:41,539 --> 00:18:48,559
device or in some<font color="#E5E5E5"> other storage</font>

270
00:18:44,899 --> 00:18:50,870
extension system and that this actually

271
00:18:48,559 --> 00:18:55,279
is<font color="#CCCCCC"> provided by the system we didn't</font><font color="#E5E5E5"> need</font>

272
00:18:50,870 --> 00:18:57,799
to<font color="#E5E5E5"> code anything for that and then when</font>

273
00:18:55,279 --> 00:19:02,059
you select<font color="#E5E5E5"> to document where it it</font>

274
00:18:57,799 --> 00:19:05,059
creates a document<font color="#E5E5E5"> object and and a</font>

275
00:19:02,059 --> 00:19:13,460
controller for<font color="#CCCCCC"> that and stuff like that</font>

276
00:19:05,059 --> 00:19:17,289
mostly uninteresting details and when it

277
00:19:13,460 --> 00:19:20,840
creates this<font color="#E5E5E5"> very delicate web view</font>

278
00:19:17,289 --> 00:19:24,470
which shows<font color="#E5E5E5"> in that view</font><font color="#CCCCCC"> an</font><font color="#E5E5E5"> HTML page</font>

279
00:19:20,840 --> 00:19:28,879
<font color="#E5E5E5">that</font><font color="#CCCCCC"> corresponds to the one that is</font>

280
00:19:24,470 --> 00:19:32,750
shown<font color="#E5E5E5"> for an online session also and it</font>

281
00:19:28,880 --> 00:19:34,820
gets<font color="#CCCCCC"> passed the document URL and the UI</font>

282
00:19:32,750 --> 00:19:35,809
language<font color="#CCCCCC"> shunt what time</font><font color="#E5E5E5"> is by the way</font>

283
00:19:34,820 --> 00:19:44,000
<font color="#CCCCCC">five minutes</font><font color="#E5E5E5"> left</font>

284
00:19:35,809 --> 00:19:46,940
oh wow and in this<font color="#E5E5E5"> file document dot mmm</font>

285
00:19:44,000 --> 00:19:50,870
<font color="#CCCCCC">you can also find</font><font color="#E5E5E5"> this</font><font color="#CCCCCC"> sent to send</font><font color="#E5E5E5"> to</font>

286
00:19:46,940 --> 00:19:59,210
<font color="#E5E5E5">GS J's code that's the one that executes</font>

287
00:19:50,870 --> 00:20:04,158
this JavaScript expression and here this

288
00:19:59,210 --> 00:20:07,840
<font color="#E5E5E5">is one thing</font><font color="#CCCCCC"> that should</font><font color="#E5E5E5"> be improved as</font>

289
00:20:04,159 --> 00:20:11,240
we can't send any binary<font color="#E5E5E5"> data we have to</font>

290
00:20:07,840 --> 00:20:13,129
<font color="#E5E5E5">basics for encode everything and</font><font color="#CCCCCC"> then</font>

291
00:20:11,240 --> 00:20:16,909
<font color="#CCCCCC">actually</font><font color="#E5E5E5"> when we</font><font color="#CCCCCC"> are sending</font><font color="#E5E5E5"> a PNG</font><font color="#CCCCCC"> it'll</font>

292
00:20:13,130 --> 00:20:20,690
be first base64 encoded<font color="#CCCCCC"> it encoded</font><font color="#E5E5E5"> and</font>

293
00:20:16,909 --> 00:20:23,510
then the receiving and decodes<font color="#CCCCCC"> it button</font>

294
00:20:20,690 --> 00:20:28,419
it encodes it again<font color="#E5E5E5"> to be</font><font color="#CCCCCC"> able</font><font color="#E5E5E5"> to use it</font>

295
00:20:23,510 --> 00:20:28,419
as a data URL for the<font color="#E5E5E5"> tile</font>

296
00:20:33,180 --> 00:20:39,850
and that file contains the<font color="#CCCCCC"> code</font><font color="#E5E5E5"> for the</font>

297
00:20:37,480 --> 00:20:42,840
<font color="#CCCCCC">club back in the</font><font color="#E5E5E5"> other direction the</font>

298
00:20:39,850 --> 00:20:49,810
things<font color="#CCCCCC"> that received the</font><font color="#E5E5E5"> message is that</font>

299
00:20:42,840 --> 00:20:59,610
the JavaScript<font color="#E5E5E5"> part</font><font color="#CCCCCC"> sense and yeah</font>

300
00:20:49,810 --> 00:20:59,610
<font color="#E5E5E5">that's actually it</font><font color="#CCCCCC"> so any questions yeah</font>

301
00:21:02,160 --> 00:21:18,670
you mean like the code<font color="#E5E5E5"> size what should</font>

302
00:21:11,650 --> 00:21:22,910
I say<font color="#E5E5E5"> it's like some</font><font color="#CCCCCC"> 100 megabytes sorry</font>

303
00:21:18,670 --> 00:21:24,010
yeah I'm dr. Leah you have a how much

304
00:21:22,910 --> 00:21:26,930
time

305
00:21:24,010 --> 00:21:32,920
okay<font color="#CCCCCC"> yeah I will show you how how it</font>

306
00:21:26,930 --> 00:21:32,920
works if<font color="#E5E5E5"> you if you have</font>

307
00:21:53,349 --> 00:22:01,448
does it show the whole screen no for

308
00:21:57,229 --> 00:22:01,449
some reason what let's try again

309
00:22:08,590 --> 00:22:15,279
for some reason<font color="#E5E5E5"> doesn't show the whole</font>

310
00:22:10,570 --> 00:22:22,090
screen or I guess so<font color="#CCCCCC"> it is there okay so</font>

311
00:22:15,279 --> 00:22:25,720
here is<font color="#E5E5E5"> the application and this here</font><font color="#CCCCCC"> is</font>

312
00:22:22,090 --> 00:22:30,279
<font color="#E5E5E5">the file</font><font color="#CCCCCC"> browser here</font><font color="#E5E5E5"> you see what I</font>

313
00:22:25,720 --> 00:22:37,330
<font color="#E5E5E5">have</font><font color="#CCCCCC"> in my on</font><font color="#E5E5E5"> my iCloud</font><font color="#CCCCCC"> drive and here</font>

314
00:22:30,279 --> 00:22:41,610
is a sample document<font color="#E5E5E5"> and this all looks</font>

315
00:22:37,330 --> 00:22:41,610
looks very much like Libre Office<font color="#E5E5E5"> online</font>

316
00:22:43,289 --> 00:23:00,610
<font color="#CCCCCC">you get</font><font color="#E5E5E5"> the same the same menu bar up</font>

317
00:22:47,769 --> 00:23:05,080
there and you<font color="#E5E5E5"> can select stuff and use</font>

318
00:23:00,610 --> 00:23:11,408
all<font color="#CCCCCC"> this normal functionality or type</font>

319
00:23:05,080 --> 00:23:13,678
into<font color="#CCCCCC"> it</font><font color="#E5E5E5"> and so on mmm</font><font color="#CCCCCC"> I probably should</font>

320
00:23:11,409 --> 00:23:16,960
not point out<font color="#E5E5E5"> the obvious obvious</font>

321
00:23:13,679 --> 00:23:20,200
improvement<font color="#CCCCCC"> I need to be made but as you</font>

322
00:23:16,960 --> 00:23:23,919
see one thing<font color="#E5E5E5"> is that the on-screen</font>

323
00:23:20,200 --> 00:23:29,289
<font color="#E5E5E5">keyboard pops up very eagerly and that</font>

324
00:23:23,919 --> 00:23:32,860
should be<font color="#E5E5E5"> fixed and there is my dog and</font>

325
00:23:29,289 --> 00:23:39,530
I<font color="#E5E5E5"> think that's a good thing</font><font color="#CCCCCC"> to stop stop</font>

326
00:23:32,860 --> 00:23:43,659
with<font color="#E5E5E5"> so thank you</font>

327
00:23:39,530 --> 00:23:45,720
[Applause]

328
00:23:43,660 --> 00:23:45,720
<font color="#E5E5E5">you</font>

