1
00:00:04,650 --> 00:00:10,200
<font color="#E5E5E5">all right hello thank you all for</font><font color="#CCCCCC"> coming</font>

2
00:00:08,100 --> 00:00:12,268
<font color="#E5E5E5">welcome to this talk my</font><font color="#CCCCCC"> name</font><font color="#E5E5E5"> is Michael</font>

3
00:00:10,200 --> 00:00:14,610
riff<font color="#CCCCCC"> nack I've been a Red Hat for almost</font>

4
00:00:12,269 --> 00:00:15,269
<font color="#E5E5E5">seven years this is my second time at</font>

5
00:00:14,610 --> 00:00:17,430
<font color="#E5E5E5">FOSDEM</font>

6
00:00:15,269 --> 00:00:20,939
and<font color="#E5E5E5"> love this conference super</font><font color="#CCCCCC"> happy to</font>

7
00:00:17,430 --> 00:00:22,439
<font color="#CCCCCC">be back I worked</font><font color="#E5E5E5"> for a long</font><font color="#CCCCCC"> time on the</font>

8
00:00:20,939 --> 00:00:24,509
pulp team which we actually<font color="#CCCCCC"> heard a</font>

9
00:00:22,439 --> 00:00:26,759
little<font color="#E5E5E5"> bit about earlier earlier this</font>

10
00:00:24,509 --> 00:00:28,410
afternoon<font color="#CCCCCC"> got involved in the the</font>

11
00:00:26,759 --> 00:00:30,840
<font color="#E5E5E5">container tooling at Red Hat from the</font>

12
00:00:28,410 --> 00:00:32,730
very<font color="#E5E5E5"> very early</font><font color="#CCCCCC"> days when docker started</font>

13
00:00:30,840 --> 00:00:34,380
to become a<font color="#CCCCCC"> thing there</font><font color="#E5E5E5"> and that sort</font><font color="#CCCCCC"> of</font>

14
00:00:32,729 --> 00:00:36,839
<font color="#CCCCCC">snowballed got involved in container</font>

15
00:00:34,380 --> 00:00:39,660
orchestration and and now<font color="#E5E5E5"> Here I am</font>

16
00:00:36,839 --> 00:00:41,579
working<font color="#CCCCCC"> on</font><font color="#E5E5E5"> using ansible in particular</font>

17
00:00:39,660 --> 00:00:44,069
to automate the<font color="#CCCCCC"> workload side of</font>

18
00:00:41,579 --> 00:00:45,109
kubernetes so let's dig<font color="#E5E5E5"> into that so</font>

19
00:00:44,070 --> 00:00:47,519
what does kubernetes

20
00:00:45,109 --> 00:00:49,620
another like the flip side<font color="#CCCCCC"> of this</font>

21
00:00:47,519 --> 00:00:52,079
question<font color="#E5E5E5"> for this crowd is even like</font>

22
00:00:49,620 --> 00:00:57,089
what is the role of config management in

23
00:00:52,079 --> 00:00:59,039
a world that has kubernetes this is the

24
00:00:57,089 --> 00:01:01,379
experience of interacting<font color="#CCCCCC"> with</font>

25
00:00:59,039 --> 00:01:03,210
kubernetes kubernetes<font color="#CCCCCC"> I'm</font><font color="#E5E5E5"> assuming most</font>

26
00:01:01,379 --> 00:01:05,970
of<font color="#E5E5E5"> you have some idea of what it is but</font>

27
00:01:03,210 --> 00:01:09,390
in the shortest recap it's a system<font color="#E5E5E5"> that</font>

28
00:01:05,970 --> 00:01:11,460
takes some group of<font color="#E5E5E5"> machines and turns</font>

29
00:01:09,390 --> 00:01:14,400
them into a<font color="#E5E5E5"> cluster and enables you to</font>

30
00:01:11,460 --> 00:01:17,369
schedule<font color="#CCCCCC"> containerized workloads</font><font color="#E5E5E5"> into</font>

31
00:01:14,400 --> 00:01:20,850
that cluster and a bunch of<font color="#E5E5E5"> extra</font><font color="#CCCCCC"> stuff</font>

32
00:01:17,370 --> 00:01:22,530
around<font color="#CCCCCC"> that but</font><font color="#E5E5E5"> it's declarative and we</font>

33
00:01:20,850 --> 00:01:24,300
<font color="#E5E5E5">generally interact with it using</font><font color="#CCCCCC"> gamal</font>

34
00:01:22,530 --> 00:01:27,810
<font color="#E5E5E5">so here we have the most basic example</font>

35
00:01:24,300 --> 00:01:30,720
<font color="#E5E5E5">of I have a container image called a</font>

36
00:01:27,810 --> 00:01:33,630
<font color="#E5E5E5">company name slash example feeling</font>

37
00:01:30,720 --> 00:01:37,050
creative<font color="#E5E5E5"> that day and I want to run that</font>

38
00:01:33,630 --> 00:01:40,229
container in my cluster<font color="#E5E5E5"> and on the right</font>

39
00:01:37,050 --> 00:01:42,630
we have<font color="#CCCCCC"> a service this is a kubernetes</font>

40
00:01:40,230 --> 00:01:45,900
primitive that it gives us a<font color="#E5E5E5"> network</font>

41
00:01:42,630 --> 00:01:48,660
presence for a running container or a

42
00:01:45,900 --> 00:01:49,850
set<font color="#CCCCCC"> of running</font><font color="#E5E5E5"> containers that are all</font>

43
00:01:48,660 --> 00:01:52,380
one<font color="#CCCCCC"> in the</font><font color="#E5E5E5"> same</font>

44
00:01:49,850 --> 00:01:55,110
so what's worth pointing out about this

45
00:01:52,380 --> 00:01:58,830
is one we're<font color="#E5E5E5"> interacting with kubernetes</font>

46
00:01:55,110 --> 00:02:01,170
<font color="#E5E5E5">by writing</font><font color="#CCCCCC"> gamal either by hand or using</font>

47
00:01:58,830 --> 00:02:02,640
some kind of tooling<font color="#E5E5E5"> maybe something</font>

48
00:02:01,170 --> 00:02:06,660
like helm is something<font color="#CCCCCC"> familiar to many</font>

49
00:02:02,640 --> 00:02:10,050
of<font color="#E5E5E5"> you we're creating annal and stuffing</font>

50
00:02:06,660 --> 00:02:12,150
this<font color="#E5E5E5"> animal into the kubernetes api</font><font color="#CCCCCC"> and</font>

51
00:02:10,050 --> 00:02:12,710
it's declarative and<font color="#E5E5E5"> what that means is</font>

52
00:02:12,150 --> 00:02:15,290
in

53
00:02:12,710 --> 00:02:18,350
we stuff<font color="#E5E5E5"> it in the API and you stand</font>

54
00:02:15,290 --> 00:02:20,480
back<font color="#E5E5E5"> and we allow the cluster</font><font color="#CCCCCC"> to now</font><font color="#E5E5E5"> do</font>

55
00:02:18,350 --> 00:02:23,120
whatever it thinks<font color="#CCCCCC"> is necessary</font><font color="#E5E5E5"> to make</font>

56
00:02:20,480 --> 00:02:25,820
what we've<font color="#E5E5E5"> asked</font><font color="#CCCCCC"> for true</font><font color="#E5E5E5"> so in this</font>

57
00:02:23,120 --> 00:02:30,020
case the cluster<font color="#E5E5E5"> would see ah there's a</font>

58
00:02:25,820 --> 00:02:30,709
pod and it is requesting this containers

59
00:02:30,020 --> 00:02:32,540
<font color="#E5E5E5">to be running</font>

60
00:02:30,710 --> 00:02:34,100
let me go look at the world<font color="#E5E5E5"> I don't see</font>

61
00:02:32,540 --> 00:02:36,470
<font color="#E5E5E5">that when</font><font color="#CCCCCC"> running</font><font color="#E5E5E5"> so now I'm going to</font>

62
00:02:34,100 --> 00:02:38,299
<font color="#E5E5E5">start it and do whatever and else I need</font>

63
00:02:36,470 --> 00:02:42,830
<font color="#E5E5E5">to do to make that sort of thing happen</font>

64
00:02:38,300 --> 00:02:44,330
so<font color="#CCCCCC"> now let's talk about</font><font color="#E5E5E5"> ansible and how</font>

65
00:02:42,830 --> 00:02:46,520
that intersects with the ansible and how

66
00:02:44,330 --> 00:02:49,640
that actually makes ansible a really

67
00:02:46,520 --> 00:02:51,890
natural fit<font color="#E5E5E5"> so angela has a kubernetes</font>

68
00:02:49,640 --> 00:02:57,230
module and its<font color="#E5E5E5"> really wonderful module</font>

69
00:02:51,890 --> 00:02:59,239
<font color="#CCCCCC">if you have ever</font><font color="#E5E5E5"> used ansible</font><font color="#CCCCCC"> 32.6</font><font color="#E5E5E5"> to</font>

70
00:02:57,230 --> 00:03:01,040
interact with kubernetes<font color="#E5E5E5"> I strongly</font>

71
00:02:59,240 --> 00:03:04,610
encourage and invite you<font color="#CCCCCC"> to take another</font>

72
00:03:01,040 --> 00:03:06,370
<font color="#CCCCCC">look at this new k8s module</font><font color="#E5E5E5"> it is light</font>

73
00:03:04,610 --> 00:03:09,440
<font color="#E5E5E5">years better than what we had</font><font color="#CCCCCC"> before</font>

74
00:03:06,370 --> 00:03:12,740
<font color="#E5E5E5">it's simple its elegant and it doesn't</font>

75
00:03:09,440 --> 00:03:14,870
<font color="#E5E5E5">get in your</font><font color="#CCCCCC"> way and here's the example</font>

76
00:03:12,740 --> 00:03:16,970
<font color="#E5E5E5">to prove it</font><font color="#CCCCCC"> on the Left we have</font><font color="#E5E5E5"> a</font>

77
00:03:14,870 --> 00:03:18,620
resource<font color="#CCCCCC"> called</font><font color="#E5E5E5"> a config map it doesn't</font>

78
00:03:16,970 --> 00:03:20,359
really matter what the resource does or

79
00:03:18,620 --> 00:03:21,950
why it exists<font color="#E5E5E5"> but just trust me it's a</font>

80
00:03:20,360 --> 00:03:23,780
kubernetes resource that<font color="#E5E5E5"> you can</font><font color="#CCCCCC"> create</font>

81
00:03:21,950 --> 00:03:27,399
<font color="#CCCCCC">just by writing this</font><font color="#E5E5E5"> a little bit of</font>

82
00:03:23,780 --> 00:03:31,280
<font color="#CCCCCC">yanil</font><font color="#E5E5E5"> and pushing that into the</font><font color="#CCCCCC"> API</font><font color="#E5E5E5"> on</font>

83
00:03:27,400 --> 00:03:32,780
the right we're<font color="#E5E5E5"> creating the same the</font>

84
00:03:31,280 --> 00:03:35,210
<font color="#E5E5E5">same thing and maybe just take one step</font>

85
00:03:32,780 --> 00:03:37,550
<font color="#E5E5E5">back the experience we</font><font color="#CCCCCC"> might have with</font>

86
00:03:35,210 --> 00:03:40,900
kubernetes<font color="#E5E5E5"> is</font><font color="#CCCCCC"> run the command line tool</font>

87
00:03:37,550 --> 00:03:43,970
<font color="#E5E5E5">cube CTL so I could run cube CTL create</font>

88
00:03:40,900 --> 00:03:45,890
<font color="#E5E5E5">-</font><font color="#CCCCCC"> F</font><font color="#E5E5E5"> to give it a file path and then give</font>

89
00:03:43,970 --> 00:03:47,180
it a path to this little<font color="#CCCCCC"> gamma file</font><font color="#E5E5E5"> and</font>

90
00:03:45,890 --> 00:03:50,750
it would<font color="#CCCCCC"> create this thing for me</font>

91
00:03:47,180 --> 00:03:52,760
instead<font color="#E5E5E5"> we could create this simple</font>

92
00:03:50,750 --> 00:03:55,190
answerable task and you<font color="#E5E5E5"> see the red part</font>

93
00:03:52,760 --> 00:03:57,320
is exactly the same as the part<font color="#CCCCCC"> on the</font>

94
00:03:55,190 --> 00:03:59,030
<font color="#CCCCCC">on the left the only difference</font><font color="#E5E5E5"> being</font>

95
00:03:57,320 --> 00:04:01,430
that<font color="#E5E5E5"> I've taken the liberty of template</font>

96
00:03:59,030 --> 00:04:05,540
izing it<font color="#E5E5E5"> because now we have all of</font><font color="#CCCCCC"> an</font>

97
00:04:01,430 --> 00:04:09,230
<font color="#E5E5E5">Sable's template ability at our disposal</font>

98
00:04:05,540 --> 00:04:12,440
<font color="#E5E5E5">so just right here</font><font color="#CCCCCC"> we can already</font><font color="#E5E5E5"> see</font>

99
00:04:09,230 --> 00:04:15,679
that the the k8s module can<font color="#CCCCCC"> be a very</font>

100
00:04:12,440 --> 00:04:19,010
nice gateway to having a<font color="#E5E5E5"> powerful and</font>

101
00:04:15,680 --> 00:04:22,760
rich templating experience when

102
00:04:19,010 --> 00:04:24,670
interacting<font color="#E5E5E5"> with kubernetes now if you</font>

103
00:04:22,760 --> 00:04:26,530
don't want to<font color="#CCCCCC"> inline your accumulated</font>

104
00:04:24,670 --> 00:04:30,580
<font color="#E5E5E5">in quite that way here's another</font><font color="#CCCCCC"> option</font>

105
00:04:26,530 --> 00:04:31,900
<font color="#E5E5E5">you</font><font color="#CCCCCC"> can create</font><font color="#E5E5E5"> manifest files which</font><font color="#CCCCCC"> is</font>

106
00:04:30,580 --> 00:04:33,520
how<font color="#E5E5E5"> people normally store these</font>

107
00:04:31,900 --> 00:04:35,260
manifests and just put them in<font color="#E5E5E5"> the</font>

108
00:04:33,520 --> 00:04:38,440
template<font color="#CCCCCC"> director of your</font><font color="#E5E5E5"> role you can</font>

109
00:04:35,260 --> 00:04:39,880
access them like this<font color="#CCCCCC"> so even for</font>

110
00:04:38,440 --> 00:04:42,250
<font color="#CCCCCC">somebody who's</font><font color="#E5E5E5"> never used an instable</font>

111
00:04:39,880 --> 00:04:44,290
before but might be<font color="#E5E5E5"> interested in</font>

112
00:04:42,250 --> 00:04:47,350
<font color="#E5E5E5">learning it or maybe</font><font color="#CCCCCC"> is</font><font color="#E5E5E5"> just looking for</font>

113
00:04:44,290 --> 00:04:49,300
a good way to manage<font color="#E5E5E5"> what's going on in</font>

114
00:04:47,350 --> 00:04:51,730
<font color="#CCCCCC">their career bananas cluster</font><font color="#E5E5E5"> this makes</font>

115
00:04:49,300 --> 00:04:54,400
it very very<font color="#CCCCCC"> accessible if even if they</font>

116
00:04:51,730 --> 00:04:56,950
<font color="#E5E5E5">just trust somebody that take these four</font>

117
00:04:54,400 --> 00:04:59,560
lines<font color="#E5E5E5"> of text</font><font color="#CCCCCC"> and and then put your</font>

118
00:04:56,950 --> 00:05:01,240
kubernetes<font color="#E5E5E5"> manifest in that file in your</font>

119
00:04:59,560 --> 00:05:05,260
<font color="#E5E5E5">template directory they can really get a</font>

120
00:05:01,240 --> 00:05:07,630
lot<font color="#CCCCCC"> done</font><font color="#E5E5E5"> and go a long way</font><font color="#CCCCCC"> so this is</font>

121
00:05:05,260 --> 00:05:08,860
the<font color="#E5E5E5"> the guts of an answerable role most</font>

122
00:05:07,630 --> 00:05:10,719
of you are probably<font color="#E5E5E5"> familiar with this I</font>

123
00:05:08,860 --> 00:05:14,200
imagine<font color="#E5E5E5"> but here I want to highlight</font>

124
00:05:10,720 --> 00:05:16,030
<font color="#CCCCCC">that</font><font color="#E5E5E5"> a role is what is for packaging</font>

125
00:05:14,200 --> 00:05:21,789
related<font color="#E5E5E5"> ants will code</font><font color="#CCCCCC"> together of</font>

126
00:05:16,030 --> 00:05:23,650
<font color="#E5E5E5">course our goal in using ansible to</font>

127
00:05:21,790 --> 00:05:26,950
<font color="#E5E5E5">interact with kubernetes</font><font color="#CCCCCC"> is to create a</font>

128
00:05:23,650 --> 00:05:29,620
<font color="#E5E5E5">single role that knows how to deploy a</font>

129
00:05:26,950 --> 00:05:31,990
single application<font color="#CCCCCC"> so maybe we take an</font>

130
00:05:29,620 --> 00:05:34,540
application<font color="#CCCCCC"> like WordPress or MediaWiki</font>

131
00:05:31,990 --> 00:05:36,850
<font color="#E5E5E5">or something like</font><font color="#CCCCCC"> that we would make a</font>

132
00:05:34,540 --> 00:05:38,350
<font color="#CCCCCC">role that knows how</font><font color="#E5E5E5"> to interact with</font>

133
00:05:36,850 --> 00:05:40,780
kubernetes to deploy that application

134
00:05:38,350 --> 00:05:42,730
and then maybe<font color="#E5E5E5"> even interact with that</font>

135
00:05:40,780 --> 00:05:45,700
application<font color="#E5E5E5"> itself</font><font color="#CCCCCC"> after it's running</font>

136
00:05:42,730 --> 00:05:47,110
inside the<font color="#CCCCCC"> cluster and and once we once</font>

137
00:05:45,700 --> 00:05:49,300
<font color="#E5E5E5">you buy into that</font><font color="#CCCCCC"> idea of we're</font><font color="#E5E5E5"> gonna</font>

138
00:05:47,110 --> 00:05:51,820
make a<font color="#E5E5E5"> role</font><font color="#CCCCCC"> that does that</font><font color="#E5E5E5"> then we're</font>

139
00:05:49,300 --> 00:05:53,620
gonna do<font color="#E5E5E5"> some extra very interesting</font>

140
00:05:51,820 --> 00:05:56,219
things toward the end<font color="#CCCCCC"> of this talk</font><font color="#E5E5E5"> to</font>

141
00:05:53,620 --> 00:05:59,200
<font color="#E5E5E5">enable self-service provisioning and</font>

142
00:05:56,220 --> 00:06:00,580
<font color="#E5E5E5">reconciliation and continuous management</font>

143
00:05:59,200 --> 00:06:02,289
in<font color="#E5E5E5"> that sort of way</font>

144
00:06:00,580 --> 00:06:05,200
and then here in yellow I've just

145
00:06:02,290 --> 00:06:07,600
highlighted<font color="#CCCCCC"> the two things that a newbie</font>

146
00:06:05,200 --> 00:06:11,050
<font color="#E5E5E5">to ansible needs to know about and worry</font>

147
00:06:07,600 --> 00:06:13,210
about<font color="#E5E5E5"> in their</font><font color="#CCCCCC"> brand-new</font><font color="#E5E5E5"> role</font><font color="#CCCCCC"> in our</font>

148
00:06:11,050 --> 00:06:14,590
case we have some tooling that's gonna

149
00:06:13,210 --> 00:06:16,659
we're gonna<font color="#E5E5E5"> look at in a</font><font color="#CCCCCC"> minute that</font>

150
00:06:14,590 --> 00:06:18,580
scaffolds this all out for you including

151
00:06:16,660 --> 00:06:21,130
<font color="#E5E5E5">some other pieces but even if you just</font>

152
00:06:18,580 --> 00:06:23,289
<font color="#E5E5E5">use the ansible</font><font color="#CCCCCC"> Galaxies tool to create</font>

153
00:06:21,130 --> 00:06:25,390
<font color="#E5E5E5">a brand new role you get this directory</font>

154
00:06:23,290 --> 00:06:27,610
structure for free and all<font color="#CCCCCC"> you have to</font>

155
00:06:25,390 --> 00:06:28,990
do is worry about<font color="#CCCCCC"> the</font><font color="#E5E5E5"> templates</font>

156
00:06:27,610 --> 00:06:30,950
directory you can<font color="#E5E5E5"> put some templates in</font>

157
00:06:28,990 --> 00:06:35,000
there and then reference them from your

158
00:06:30,950 --> 00:06:36,950
<font color="#E5E5E5">yamo file so it's really very simple</font><font color="#CCCCCC"> all</font>

159
00:06:35,000 --> 00:06:38,780
<font color="#E5E5E5">right so so why use ansible with</font>

160
00:06:36,950 --> 00:06:40,909
kubernetes<font color="#E5E5E5"> so we have this similar</font>

161
00:06:38,780 --> 00:06:43,849
pattern of it's not<font color="#E5E5E5"> just that it's the</font>

162
00:06:40,910 --> 00:06:46,130
ant that is<font color="#E5E5E5"> ansible and in</font><font color="#CCCCCC"> gamal in</font>

163
00:06:43,850 --> 00:06:48,500
kubernetes in the<font color="#CCCCCC"> aminal</font><font color="#E5E5E5"> it's also that</font>

164
00:06:46,130 --> 00:06:52,190
we talked about<font color="#E5E5E5"> ansible as being</font>

165
00:06:48,500 --> 00:06:54,260
idempotent<font color="#E5E5E5"> you want to be able to rerun</font>

166
00:06:52,190 --> 00:06:56,240
<font color="#CCCCCC">the same</font><font color="#E5E5E5"> ansible role or</font><font color="#CCCCCC"> playbook over</font>

167
00:06:54,260 --> 00:06:56,659
and over and get the same results at the

168
00:06:56,240 --> 00:06:59,390
<font color="#E5E5E5">end</font>

169
00:06:56,660 --> 00:07:01,670
likewise in kubernetes<font color="#CCCCCC"> we have</font>

170
00:06:59,390 --> 00:07:04,370
controllers<font color="#E5E5E5"> that want to be able to run</font>

171
00:07:01,670 --> 00:07:07,910
a reconcile<font color="#E5E5E5"> function over and over again</font>

172
00:07:04,370 --> 00:07:09,740
<font color="#CCCCCC">and always end up</font><font color="#E5E5E5"> at the same state at</font>

173
00:07:07,910 --> 00:07:11,750
the<font color="#CCCCCC"> end they're</font><font color="#E5E5E5"> always or they're always</font>

174
00:07:09,740 --> 00:07:15,740
at<font color="#CCCCCC"> least moving</font><font color="#E5E5E5"> toward the same end</font>

175
00:07:11,750 --> 00:07:19,580
<font color="#E5E5E5">state so there's a very natural</font><font color="#CCCCCC"> and</font>

176
00:07:15,740 --> 00:07:20,810
similar patterns to bring together<font color="#E5E5E5"> a lot</font>

177
00:07:19,580 --> 00:07:22,430
<font color="#E5E5E5">of people are you familiar with</font><font color="#CCCCCC"> ansible</font>

178
00:07:20,810 --> 00:07:24,170
I'm betting this room is no stranger to

179
00:07:22,430 --> 00:07:26,360
ansible even if you're not<font color="#E5E5E5"> it's real</font>

180
00:07:24,170 --> 00:07:27,200
easy<font color="#E5E5E5"> to learn Jinja templating is</font>

181
00:07:26,360 --> 00:07:30,320
something a lot<font color="#E5E5E5"> of</font><font color="#CCCCCC"> people are familiar</font>

182
00:07:27,200 --> 00:07:32,330
with<font color="#CCCCCC"> even outside of ansible and then</font>

183
00:07:30,320 --> 00:07:35,180
lastly for<font color="#E5E5E5"> these reasons we get full</font>

184
00:07:32,330 --> 00:07:36,919
like actually quite rich<font color="#CCCCCC"> day2</font><font color="#E5E5E5"> management</font>

185
00:07:35,180 --> 00:07:40,040
out of ansible<font color="#E5E5E5"> it's much more than just</font>

186
00:07:36,920 --> 00:07:41,870
<font color="#CCCCCC">a templating engine you can use it after</font>

187
00:07:40,040 --> 00:07:44,840
you've deployed your<font color="#E5E5E5"> application to do</font>

188
00:07:41,870 --> 00:07:46,940
advanced things like backing it<font color="#E5E5E5"> up or</font>

189
00:07:44,840 --> 00:07:50,750
storing it<font color="#E5E5E5"> upgrading from one version</font><font color="#CCCCCC"> to</font>

190
00:07:46,940 --> 00:07:52,969
<font color="#E5E5E5">the next whatever detailed steps or</font>

191
00:07:50,750 --> 00:07:56,270
careful work might need to be done<font color="#E5E5E5"> to</font>

192
00:07:52,970 --> 00:07:57,650
facilitate<font color="#E5E5E5"> an upgrade in some</font><font color="#CCCCCC"> cases</font><font color="#E5E5E5"> you</font>

193
00:07:56,270 --> 00:08:00,650
can<font color="#E5E5E5"> repair things when they're broken</font>

194
00:07:57,650 --> 00:08:04,280
<font color="#CCCCCC">and you can scale things</font><font color="#E5E5E5"> in custom ways</font>

195
00:08:00,650 --> 00:08:07,520
<font color="#E5E5E5">you can identify your own metrics maybe</font>

196
00:08:04,280 --> 00:08:09,500
it's a queue depth<font color="#E5E5E5"> somewhere</font><font color="#CCCCCC"> somebody</font><font color="#E5E5E5"> is</font>

197
00:08:07,520 --> 00:08:11,299
telling me about their use case a few

198
00:08:09,500 --> 00:08:13,850
<font color="#E5E5E5">weeks</font><font color="#CCCCCC"> ago</font><font color="#E5E5E5"> where they're trying to</font>

199
00:08:11,300 --> 00:08:17,150
measure<font color="#E5E5E5"> a queue depth of a micro service</font>

200
00:08:13,850 --> 00:08:19,610
that's multiple services upstream<font color="#E5E5E5"> from</font>

201
00:08:17,150 --> 00:08:21,169
what they're actually<font color="#E5E5E5"> trying to scale</font>

202
00:08:19,610 --> 00:08:23,360
out so they're trying<font color="#CCCCCC"> to basically get</font>

203
00:08:21,170 --> 00:08:26,360
advanced warning when there's a lot of

204
00:08:23,360 --> 00:08:29,090
work coming in upstream somewhere and

205
00:08:26,360 --> 00:08:31,670
scale out the guts on<font color="#CCCCCC"> the bottom</font><font color="#E5E5E5"> so that</font>

206
00:08:29,090 --> 00:08:33,380
<font color="#E5E5E5">they're</font><font color="#CCCCCC"> prepared on the</font><font color="#E5E5E5"> flood arrives so</font>

207
00:08:31,670 --> 00:08:36,650
all that is stuff<font color="#CCCCCC"> that</font><font color="#E5E5E5"> you can do using</font>

208
00:08:33,380 --> 00:08:38,090
ansible<font color="#CCCCCC"> all right so now that we we've</font>

209
00:08:36,650 --> 00:08:38,850
bought into<font color="#CCCCCC"> this idea we've got an</font>

210
00:08:38,090 --> 00:08:41,370
animal<font color="#E5E5E5"> roll</font>

211
00:08:38,850 --> 00:08:42,570
and<font color="#CCCCCC"> this</font><font color="#E5E5E5"> animal</font><font color="#CCCCCC"> roll can deploy and do</font>

212
00:08:41,370 --> 00:08:44,550
some things<font color="#CCCCCC"> that can manage an</font>

213
00:08:42,570 --> 00:08:47,250
application kubernetes<font color="#E5E5E5"> we have some</font>

214
00:08:44,550 --> 00:08:49,199
extra tooling available<font color="#CCCCCC"> two different</font>

215
00:08:47,250 --> 00:08:53,490
ways<font color="#CCCCCC"> and particularly</font><font color="#E5E5E5"> one okay right now</font>

216
00:08:49,200 --> 00:08:55,740
of taking that role and doing<font color="#E5E5E5"> more with</font>

217
00:08:53,490 --> 00:09:00,480
it<font color="#CCCCCC"> the first pattern we're looking at is</font>

218
00:08:55,740 --> 00:09:01,860
ansible playbook bundles if<font color="#E5E5E5"> you think</font>

219
00:09:00,480 --> 00:09:03,270
about provisioning an application<font color="#CCCCCC"> just</font>

220
00:09:01,860 --> 00:09:05,460
in general<font color="#CCCCCC"> forget</font><font color="#E5E5E5"> about ants will forget</font>

221
00:09:03,270 --> 00:09:06,630
about kubernetes however you're<font color="#E5E5E5"> going to</font>

222
00:09:05,460 --> 00:09:08,250
do it<font color="#CCCCCC"> whatever tool you're going to use</font>

223
00:09:06,630 --> 00:09:09,930
these are<font color="#E5E5E5"> the kind of things you need to</font>

224
00:09:08,250 --> 00:09:12,000
<font color="#E5E5E5">have in</font><font color="#CCCCCC"> front</font><font color="#E5E5E5"> of you when you're gonna</font>

225
00:09:09,930 --> 00:09:13,770
do that<font color="#CCCCCC"> you</font><font color="#E5E5E5"> need just the kubernetes</font>

226
00:09:12,000 --> 00:09:15,450
manifest files you need<font color="#E5E5E5"> to know about</font>

227
00:09:13,770 --> 00:09:18,060
any external<font color="#E5E5E5"> services you're</font><font color="#CCCCCC"> gonna</font>

228
00:09:15,450 --> 00:09:20,880
<font color="#E5E5E5">access and how to access them maybe have</font>

229
00:09:18,060 --> 00:09:22,770
<font color="#CCCCCC">some config data specific to this this</font>

230
00:09:20,880 --> 00:09:24,090
instance<font color="#CCCCCC"> you're provisioning maybe you</font>

231
00:09:22,770 --> 00:09:25,350
have some seed data you need<font color="#E5E5E5"> to get in</font>

232
00:09:24,090 --> 00:09:27,690
<font color="#E5E5E5">there maybe you are</font><font color="#CCCCCC"> actually restoring</font>

233
00:09:25,350 --> 00:09:31,530
<font color="#CCCCCC">from a backup</font><font color="#E5E5E5"> you need some runtime</font>

234
00:09:27,690 --> 00:09:33,450
tooling<font color="#E5E5E5"> so what technology do we know</font>

235
00:09:31,530 --> 00:09:34,920
<font color="#CCCCCC">about</font><font color="#E5E5E5"> that we could use to</font><font color="#CCCCCC"> package all</font>

236
00:09:33,450 --> 00:09:37,770
<font color="#E5E5E5">of these things or at least most of</font>

237
00:09:34,920 --> 00:09:39,780
<font color="#E5E5E5">these things</font><font color="#CCCCCC"> up into one place and move</font>

238
00:09:37,770 --> 00:09:41,670
them around<font color="#E5E5E5"> in an immutable form that's</font>

239
00:09:39,780 --> 00:09:44,160
testable<font color="#E5E5E5"> and all that stuff</font><font color="#CCCCCC"> well of</font>

240
00:09:41,670 --> 00:09:46,319
course it's a container<font color="#E5E5E5"> packaging by the</font>

241
00:09:44,160 --> 00:09:48,750
way I think<font color="#E5E5E5"> is the underrated side of</font>

242
00:09:46,320 --> 00:09:51,960
containers<font color="#E5E5E5"> the fact that it's a</font><font color="#CCCCCC"> process</font>

243
00:09:48,750 --> 00:09:54,150
running<font color="#E5E5E5"> in isolation is interesting but</font>

244
00:09:51,960 --> 00:09:56,010
<font color="#E5E5E5">the fact the packaging aspect of</font>

245
00:09:54,150 --> 00:09:57,720
shipping<font color="#E5E5E5"> these images around is in many</font>

246
00:09:56,010 --> 00:09:59,850
<font color="#CCCCCC">ways I think</font><font color="#E5E5E5"> the more powerful side of</font>

247
00:09:57,720 --> 00:10:02,250
it<font color="#E5E5E5"> so</font><font color="#CCCCCC"> ants will play both bundles are</font>

248
00:09:59,850 --> 00:10:05,550
really just a<font color="#CCCCCC"> pattern of taking all this</font>

249
00:10:02,250 --> 00:10:07,500
stuff<font color="#CCCCCC"> using ansible</font><font color="#E5E5E5"> and putting it into</font>

250
00:10:05,550 --> 00:10:09,300
a container that<font color="#E5E5E5"> can be run in a</font>

251
00:10:07,500 --> 00:10:13,320
particular way with a very simple

252
00:10:09,300 --> 00:10:16,109
interface<font color="#E5E5E5"> that we've defined so this</font>

253
00:10:13,320 --> 00:10:18,780
<font color="#CCCCCC">tangible flavor</font><font color="#E5E5E5"> bundle it runs to</font>

254
00:10:16,110 --> 00:10:23,220
completion<font color="#CCCCCC"> as a pod in your kubernetes</font>

255
00:10:18,780 --> 00:10:25,110
cluster<font color="#CCCCCC"> if that sounded foreign it is a</font>

256
00:10:23,220 --> 00:10:26,670
container<font color="#CCCCCC"> that you will run in your</font>

257
00:10:25,110 --> 00:10:27,870
<font color="#E5E5E5">kubernetes cluster you'll start it</font>

258
00:10:26,670 --> 00:10:30,390
you'll let it<font color="#E5E5E5"> do whatever work</font><font color="#CCCCCC"> it's</font>

259
00:10:27,870 --> 00:10:33,030
gonna do and then it stops and<font color="#E5E5E5"> it exits</font>

260
00:10:30,390 --> 00:10:35,790
<font color="#E5E5E5">and you clean up</font><font color="#CCCCCC"> anything</font><font color="#E5E5E5"> on this left</font>

261
00:10:33,030 --> 00:10:37,350
of it<font color="#E5E5E5"> and it's like an installer it's</font>

262
00:10:35,790 --> 00:10:38,490
very similar to<font color="#CCCCCC"> just</font><font color="#E5E5E5"> having an installer</font>

263
00:10:37,350 --> 00:10:40,860
<font color="#E5E5E5">that you can run in your cluster and out</font>

264
00:10:38,490 --> 00:10:42,120
pops through this application<font color="#CCCCCC"> and the</font>

265
00:10:40,860 --> 00:10:43,950
nice<font color="#CCCCCC"> thing about</font><font color="#E5E5E5"> being containers it's</font>

266
00:10:42,120 --> 00:10:48,630
testable it's reproducible you can put

267
00:10:43,950 --> 00:10:50,010
it through<font color="#CCCCCC"> a full CI pipeline</font><font color="#E5E5E5"> but what</font>

268
00:10:48,630 --> 00:10:50,939
<font color="#E5E5E5">else can we do with</font><font color="#CCCCCC"> this ansel playbook</font>

269
00:10:50,010 --> 00:10:52,500
bundle

270
00:10:50,940 --> 00:10:56,700
there is this idea<font color="#CCCCCC"> of</font><font color="#E5E5E5"> the kubernetes</font>

271
00:10:52,500 --> 00:10:59,670
<font color="#E5E5E5">service catalog which is similar to</font>

272
00:10:56,700 --> 00:11:01,380
<font color="#CCCCCC">other services like Amazon Web Services</font>

273
00:10:59,670 --> 00:11:03,120
has their<font color="#CCCCCC"> catalogue of</font><font color="#E5E5E5"> services in their</font>

274
00:11:01,380 --> 00:11:05,370
<font color="#E5E5E5">cloud you and your kubernetes cluster</font>

275
00:11:03,120 --> 00:11:07,530
<font color="#E5E5E5">you can have your own catalog of your</font>

276
00:11:05,370 --> 00:11:09,570
services available in<font color="#CCCCCC"> the</font><font color="#E5E5E5"> community</font>

277
00:11:07,530 --> 00:11:11,850
service catalog<font color="#CCCCCC"> in Antelope</font><font color="#E5E5E5"> Leyva</font>

278
00:11:09,570 --> 00:11:14,430
bundles are perhaps the<font color="#CCCCCC"> easiest way to</font>

279
00:11:11,850 --> 00:11:16,490
get one of your services<font color="#E5E5E5"> exposed and</font>

280
00:11:14,430 --> 00:11:19,079
available inside that<font color="#CCCCCC"> Service Catalog</font>

281
00:11:16,490 --> 00:11:22,590
<font color="#CCCCCC">this is an example</font><font color="#E5E5E5"> of the</font><font color="#CCCCCC"> OpenShift user</font>

282
00:11:19,080 --> 00:11:24,060
interface<font color="#E5E5E5"> it's just basically the nicest</font>

283
00:11:22,590 --> 00:11:26,990
user interface there is a<font color="#CCCCCC"> discriminating</font>

284
00:11:24,060 --> 00:11:29,579
<font color="#E5E5E5">service catalog come on in</font><font color="#CCCCCC"> find seats</font>

285
00:11:26,990 --> 00:11:31,110
<font color="#CCCCCC">it's you know it's what you'd expect out</font>

286
00:11:29,580 --> 00:11:32,970
of this<font color="#E5E5E5"> kind of experience you point it</font>

287
00:11:31,110 --> 00:11:35,760
and click on one of<font color="#E5E5E5"> these things</font>

288
00:11:32,970 --> 00:11:37,410
maybe you select<font color="#CCCCCC"> Maria DB</font><font color="#E5E5E5"> it asks you</font>

289
00:11:35,760 --> 00:11:39,090
some questions you fill in<font color="#E5E5E5"> the answers</font>

290
00:11:37,410 --> 00:11:41,310
it's just like an installer<font color="#E5E5E5"> and</font><font color="#CCCCCC"> at the</font>

291
00:11:39,090 --> 00:11:42,960
end you hit go<font color="#E5E5E5"> and some work happens in</font>

292
00:11:41,310 --> 00:11:44,550
the<font color="#CCCCCC"> background and that's it now you</font>

293
00:11:42,960 --> 00:11:47,850
have<font color="#CCCCCC"> a thing provision</font><font color="#E5E5E5"> well how does</font>

294
00:11:44,550 --> 00:11:51,689
<font color="#E5E5E5">that work</font><font color="#CCCCCC"> in a nutshell on the right</font>

295
00:11:47,850 --> 00:11:54,510
here<font color="#E5E5E5"> you see these brokers and each</font>

296
00:11:51,690 --> 00:11:57,360
broker can advertise one or more

297
00:11:54,510 --> 00:12:00,569
services to<font color="#CCCCCC"> a</font><font color="#E5E5E5"> cluster and say hey I know</font>

298
00:11:57,360 --> 00:12:02,820
how to deploy Maria DB or<font color="#E5E5E5"> I know how to</font>

299
00:12:00,570 --> 00:12:06,410
deploy<font color="#E5E5E5"> a</font><font color="#CCCCCC"> MediaWiki</font><font color="#E5E5E5"> or I know how to</font>

300
00:12:02,820 --> 00:12:08,400
deploy<font color="#CCCCCC"> Prometheus</font><font color="#E5E5E5"> or whatever it may be</font>

301
00:12:06,410 --> 00:12:11,969
you can provision these things<font color="#CCCCCC"> D</font>

302
00:12:08,400 --> 00:12:12,959
provision and do other actions the point

303
00:12:11,970 --> 00:12:15,360
of this is that<font color="#CCCCCC"> this enables</font>

304
00:12:12,960 --> 00:12:18,060
<font color="#CCCCCC">self-service provisioning so users of</font>

305
00:12:15,360 --> 00:12:20,820
<font color="#CCCCCC">your cluster perhaps you have dev teams</font>

306
00:12:18,060 --> 00:12:23,699
perhaps you have<font color="#E5E5E5"> QE when they need a</font>

307
00:12:20,820 --> 00:12:25,050
<font color="#E5E5E5">database</font><font color="#CCCCCC"> they can go and deploy point in</font>

308
00:12:23,700 --> 00:12:27,510
a very<font color="#E5E5E5"> simple</font><font color="#CCCCCC"> point-and-click</font><font color="#E5E5E5"> on a</font>

309
00:12:25,050 --> 00:12:29,640
fashion<font color="#E5E5E5"> whatever services you've made</font>

310
00:12:27,510 --> 00:12:31,790
available<font color="#E5E5E5"> in that cluster</font><font color="#CCCCCC"> on their own</font>

311
00:12:29,640 --> 00:12:34,770
without needing<font color="#E5E5E5"> to bother anybody else</font>

312
00:12:31,790 --> 00:12:35,939
<font color="#E5E5E5">all right so it's the last piece</font><font color="#CCCCCC"> of this</font>

313
00:12:34,770 --> 00:12:38,220
<font color="#E5E5E5">Service Catalog</font>

314
00:12:35,940 --> 00:12:40,560
<font color="#E5E5E5">story chapter</font><font color="#CCCCCC"> five here's the automation</font>

315
00:12:38,220 --> 00:12:43,320
broker<font color="#E5E5E5"> so we just saw we we have this</font>

316
00:12:40,560 --> 00:12:45,630
series of brokers here<font color="#E5E5E5"> that can plug</font>

317
00:12:43,320 --> 00:12:48,150
<font color="#CCCCCC">into a cluster and advertise services</font>

318
00:12:45,630 --> 00:12:49,620
for for provisioning<font color="#E5E5E5"> the automation</font>

319
00:12:48,150 --> 00:12:52,170
broker we thought maybe we could<font color="#E5E5E5"> do</font>

320
00:12:49,620 --> 00:12:54,350
something<font color="#E5E5E5"> a</font><font color="#CCCCCC"> little simpler we created</font>

321
00:12:52,170 --> 00:12:57,550
one broker<font color="#E5E5E5"> that use</font>

322
00:12:54,350 --> 00:13:00,080
APB's of ansible playbook bundles<font color="#E5E5E5"> as</font>

323
00:12:57,550 --> 00:13:03,849
services that it advertises to the

324
00:13:00,080 --> 00:13:07,550
cluster so each APB<font color="#E5E5E5"> that you make</font>

325
00:13:03,850 --> 00:13:09,380
becomes<font color="#E5E5E5"> available for provisioning and</font>

326
00:13:07,550 --> 00:13:11,030
in fact even<font color="#E5E5E5"> in that</font><font color="#CCCCCC"> screenshot we saw</font>

327
00:13:09,380 --> 00:13:13,100
earlier of the<font color="#CCCCCC"> openshift</font>

328
00:13:11,030 --> 00:13:15,699
service<font color="#E5E5E5"> catalog user interface some of</font>

329
00:13:13,100 --> 00:13:18,770
those icons were being powered by<font color="#E5E5E5"> the</font>

330
00:13:15,700 --> 00:13:21,950
automation broker so you would click

331
00:13:18,770 --> 00:13:24,770
through and<font color="#E5E5E5"> ultimately what's happening</font>

332
00:13:21,950 --> 00:13:26,480
is the user input the user provides<font color="#E5E5E5"> in</font>

333
00:13:24,770 --> 00:13:28,610
this in the wizard through the<font color="#E5E5E5"> service</font>

334
00:13:26,480 --> 00:13:31,340
<font color="#E5E5E5">catalog</font><font color="#CCCCCC"> gets passed in ansible at</font>

335
00:13:28,610 --> 00:13:34,640
<font color="#CCCCCC">runtime and is</font><font color="#E5E5E5"> unavailable</font><font color="#CCCCCC"> for use</font><font color="#E5E5E5"> in</font>

336
00:13:31,340 --> 00:13:37,280
your templates or however<font color="#E5E5E5"> else as facts</font>

337
00:13:34,640 --> 00:13:40,130
as ansible is running and then you can

338
00:13:37,280 --> 00:13:41,870
do whatever work you need to<font color="#E5E5E5"> do the</font>

339
00:13:40,130 --> 00:13:45,020
broker takes care of running it in a

340
00:13:41,870 --> 00:13:46,940
<font color="#E5E5E5">secure namespace that that's transient</font>

341
00:13:45,020 --> 00:13:49,790
so at the end of<font color="#E5E5E5"> a provision it throws</font>

342
00:13:46,940 --> 00:13:52,940
<font color="#E5E5E5">away that namespace and and and cleans</font>

343
00:13:49,790 --> 00:13:55,339
up after<font color="#E5E5E5"> itself so the end of this story</font>

344
00:13:52,940 --> 00:13:57,500
is it removes<font color="#E5E5E5"> the need</font><font color="#CCCCCC"> for you to</font><font color="#E5E5E5"> make</font>

345
00:13:55,340 --> 00:14:01,340
<font color="#E5E5E5">your own broker for sure but it also</font>

346
00:13:57,500 --> 00:14:04,280
takes advantage<font color="#CCCCCC"> of</font><font color="#E5E5E5"> ansible and the k8s</font>

347
00:14:01,340 --> 00:14:06,350
module<font color="#E5E5E5"> makes it very very easy to make</font>

348
00:14:04,280 --> 00:14:09,410
<font color="#CCCCCC">your</font><font color="#E5E5E5"> own services available for</font>

349
00:14:06,350 --> 00:14:11,570
provisioning inside of urban<font color="#CCCCCC"> native</font>

350
00:14:09,410 --> 00:14:12,860
<font color="#E5E5E5">cluster don't squint too hard at this</font>

351
00:14:11,570 --> 00:14:14,750
this<font color="#E5E5E5"> is</font><font color="#CCCCCC"> an</font><font color="#E5E5E5"> example of the user</font>

352
00:14:12,860 --> 00:14:16,550
<font color="#E5E5E5">experience</font><font color="#CCCCCC"> just</font><font color="#E5E5E5"> trust me that there's a</font>

353
00:14:14,750 --> 00:14:19,130
command-line interface<font color="#CCCCCC"> you</font><font color="#E5E5E5"> can use the</font>

354
00:14:16,550 --> 00:14:21,500
interactive the service<font color="#E5E5E5"> catalog</font><font color="#CCCCCC"> it's not</font>

355
00:14:19,130 --> 00:14:23,450
the best idea experience but if you need

356
00:14:21,500 --> 00:14:24,800
to<font color="#CCCCCC"> do it from</font><font color="#E5E5E5"> a command line it's hard</font>

357
00:14:23,450 --> 00:14:26,390
<font color="#E5E5E5">to do that from the</font><font color="#CCCCCC"> command line</font><font color="#E5E5E5"> and</font>

358
00:14:24,800 --> 00:14:29,060
<font color="#CCCCCC">this does a nice job</font><font color="#E5E5E5"> of making</font><font color="#CCCCCC"> the best</font>

359
00:14:26,390 --> 00:14:30,410
<font color="#E5E5E5">of it</font><font color="#CCCCCC"> so that's available cube</font><font color="#E5E5E5"> apps is</font>

360
00:14:29,060 --> 00:14:32,630
another option that<font color="#E5E5E5"> came out</font><font color="#CCCCCC"> of bitten</font>

361
00:14:30,410 --> 00:14:34,579
<font color="#E5E5E5">ami</font><font color="#CCCCCC"> that you can use</font><font color="#E5E5E5"> little run on it</font>

362
00:14:32,630 --> 00:14:36,770
just<font color="#E5E5E5"> about any kubernetes</font><font color="#CCCCCC"> cluster i</font>

363
00:14:34,580 --> 00:14:39,140
think and then this<font color="#E5E5E5"> is the open shift</font>

364
00:14:36,770 --> 00:14:41,829
user experience<font color="#E5E5E5"> it's a very nice user</font>

365
00:14:39,140 --> 00:14:45,650
experience<font color="#CCCCCC"> i do work on open ship</font><font color="#E5E5E5"> but</font>

366
00:14:41,830 --> 00:14:47,570
<font color="#E5E5E5">i'm not gonna lie it's it's very</font><font color="#CCCCCC"> nice so</font>

367
00:14:45,650 --> 00:14:48,800
if<font color="#CCCCCC"> you if you're if you're running open</font>

368
00:14:47,570 --> 00:14:50,390
<font color="#E5E5E5">shift or if you'd like</font><font color="#CCCCCC"> to run OpenShift</font>

369
00:14:48,800 --> 00:14:53,540
you'll get a first-class<font color="#E5E5E5"> service catalog</font>

370
00:14:50,390 --> 00:14:56,210
experience it's quite a nice story so

371
00:14:53,540 --> 00:14:58,339
what's the<font color="#CCCCCC"> status</font><font color="#E5E5E5"> of this so the service</font>

372
00:14:56,210 --> 00:15:00,320
<font color="#E5E5E5">catalog side</font><font color="#CCCCCC"> it's</font><font color="#E5E5E5"> a great path for</font>

373
00:14:58,340 --> 00:15:02,690
self-service provisioning<font color="#E5E5E5"> works today</font>

374
00:15:00,320 --> 00:15:06,560
it's a mature<font color="#E5E5E5"> ecosystem</font><font color="#CCCCCC"> you can just go</font>

375
00:15:02,690 --> 00:15:08,180
out<font color="#CCCCCC"> and do it</font><font color="#E5E5E5"> the best use case for this</font>

376
00:15:06,560 --> 00:15:10,670
is<font color="#E5E5E5"> off cluster service in</font>

377
00:15:08,180 --> 00:15:15,319
so say perhaps<font color="#E5E5E5"> you have some appliance</font>

378
00:15:10,670 --> 00:15:17,089
you've got an off<font color="#E5E5E5"> cost or database</font><font color="#CCCCCC"> or</font>

379
00:15:15,320 --> 00:15:19,160
some<font color="#E5E5E5"> other thing like that that you</font>

380
00:15:17,090 --> 00:15:21,830
uninterrupted<font color="#E5E5E5"> or maybe you're running a</font>

381
00:15:19,160 --> 00:15:23,959
cloud<font color="#CCCCCC"> like if you're Amazon</font><font color="#E5E5E5"> in fact</font>

382
00:15:21,830 --> 00:15:26,480
<font color="#E5E5E5">Amazon themselves did use this very</font>

383
00:15:23,960 --> 00:15:29,750
automation broker<font color="#E5E5E5"> they wrote APB's they</font>

384
00:15:26,480 --> 00:15:32,180
wrote ansible<font color="#E5E5E5"> playbook bundles</font><font color="#CCCCCC"> to make a</font>

385
00:15:29,750 --> 00:15:34,310
broker<font color="#CCCCCC"> that ran inside of open shift</font>

386
00:15:32,180 --> 00:15:38,060
<font color="#CCCCCC">when openshift was inside the Amazon</font>

387
00:15:34,310 --> 00:15:42,680
<font color="#E5E5E5">Cloud and expose their services to to</font>

388
00:15:38,060 --> 00:15:44,270
their customers<font color="#CCCCCC"> this lacks day2</font>

389
00:15:42,680 --> 00:15:45,739
management we're gonna see how<font color="#CCCCCC"> to get</font>

390
00:15:44,270 --> 00:15:46,880
<font color="#CCCCCC">des to management in just a minute</font><font color="#E5E5E5"> but</font>

391
00:15:45,740 --> 00:15:49,070
<font color="#E5E5E5">that's</font><font color="#CCCCCC"> really</font><font color="#E5E5E5"> the biggest detractor</font>

392
00:15:46,880 --> 00:15:50,510
it'll deploy something<font color="#CCCCCC"> so if you use</font>

393
00:15:49,070 --> 00:15:52,580
this pattern<font color="#CCCCCC"> to deploy an application</font>

394
00:15:50,510 --> 00:15:54,380
<font color="#E5E5E5">that's running in your cluster it</font>

395
00:15:52,580 --> 00:15:55,610
deploys it great<font color="#E5E5E5"> it does a fantastic job</font>

396
00:15:54,380 --> 00:15:57,290
<font color="#E5E5E5">of that but then there's</font><font color="#CCCCCC"> nothing</font><font color="#E5E5E5"> else</font>

397
00:15:55,610 --> 00:16:00,350
watching it it's up to you now to own

398
00:15:57,290 --> 00:16:04,280
the pieces manage it<font color="#E5E5E5"> monitor it repair</font>

399
00:16:00,350 --> 00:16:05,690
<font color="#CCCCCC">it</font><font color="#E5E5E5"> upgrade it whatever</font><font color="#CCCCCC"> that's mostly on</font>

400
00:16:04,280 --> 00:16:07,160
you in<font color="#E5E5E5"> this pattern unless of course</font>

401
00:16:05,690 --> 00:16:09,440
you're interacting<font color="#E5E5E5"> with an off cluster</font>

402
00:16:07,160 --> 00:16:11,930
service in which case you<font color="#CCCCCC"> probably</font><font color="#E5E5E5"> have</font>

403
00:16:09,440 --> 00:16:15,050
some other systems in place<font color="#CCCCCC"> to deal with</font>

404
00:16:11,930 --> 00:16:17,089
all<font color="#CCCCCC"> of that</font><font color="#E5E5E5"> stuff</font><font color="#CCCCCC"> so this thing called</font>

405
00:16:15,050 --> 00:16:18,800
operators is really<font color="#CCCCCC"> gonna take over as</font>

406
00:16:17,090 --> 00:16:20,360
<font color="#CCCCCC">the preferred</font><font color="#E5E5E5"> solution and that's</font>

407
00:16:18,800 --> 00:16:23,479
<font color="#E5E5E5">largely in part because it does have</font>

408
00:16:20,360 --> 00:16:25,460
<font color="#CCCCCC">day2 management</font><font color="#E5E5E5"> as a</font><font color="#CCCCCC"> first-class</font><font color="#E5E5E5"> concept</font>

409
00:16:23,480 --> 00:16:27,290
<font color="#E5E5E5">that's in fact it's really what the core</font>

410
00:16:25,460 --> 00:16:30,740
<font color="#CCCCCC">folks</font><font color="#E5E5E5"> of operators is and we're gonna</font>

411
00:16:27,290 --> 00:16:32,209
dig into that in<font color="#CCCCCC"> just a moment so the</font>

412
00:16:30,740 --> 00:16:33,760
bottom line<font color="#CCCCCC"> is a</font><font color="#E5E5E5"> Service Catalog is</font>

413
00:16:32,210 --> 00:16:37,160
going to<font color="#CCCCCC"> definitely stay around</font><font color="#E5E5E5"> it's a</font>

414
00:16:33,760 --> 00:16:38,420
<font color="#CCCCCC">thriving part</font><font color="#E5E5E5"> of kubernetes</font><font color="#CCCCCC"> it's of</font>

415
00:16:37,160 --> 00:16:40,000
course<font color="#E5E5E5"> gonna be part of open ship for</font>

416
00:16:38,420 --> 00:16:42,560
the<font color="#E5E5E5"> long term</font>

417
00:16:40,000 --> 00:16:45,020
but I'm going<font color="#E5E5E5"> to show you the operator</font>

418
00:16:42,560 --> 00:16:47,060
pattern<font color="#E5E5E5"> next as the second option</font><font color="#CCCCCC"> and</font><font color="#E5E5E5"> I</font>

419
00:16:45,020 --> 00:16:50,960
think it's probably<font color="#CCCCCC"> a better option for</font>

420
00:16:47,060 --> 00:16:54,229
<font color="#E5E5E5">most people operators what is an</font>

421
00:16:50,960 --> 00:16:56,410
operator<font color="#CCCCCC"> so an</font><font color="#E5E5E5"> operator is a particular</font>

422
00:16:54,230 --> 00:16:59,150
type<font color="#CCCCCC"> of crew Benes controller a</font>

423
00:16:56,410 --> 00:17:01,520
controller is a service that<font color="#E5E5E5"> sits around</font>

424
00:16:59,150 --> 00:17:04,129
<font color="#E5E5E5">running in your cluster watching for</font>

425
00:17:01,520 --> 00:17:06,709
some resource to get created or updated

426
00:17:04,130 --> 00:17:08,930
or deleted or something and whenever

427
00:17:06,709 --> 00:17:11,089
something<font color="#CCCCCC"> happens with a resource that</font>

428
00:17:08,930 --> 00:17:15,020
it's interested in it just wakes up and

429
00:17:11,089 --> 00:17:16,639
runs a reconcile function<font color="#E5E5E5"> and does</font>

430
00:17:15,020 --> 00:17:17,250
whatever<font color="#E5E5E5"> it</font><font color="#CCCCCC"> thinks is appropriate to</font>

431
00:17:16,640 --> 00:17:18,870
move the

432
00:17:17,250 --> 00:17:20,520
<font color="#CCCCCC">date</font><font color="#E5E5E5"> of the world closer to what that</font>

433
00:17:18,869 --> 00:17:23,129
resource<font color="#CCCCCC"> says the state of the world</font>

434
00:17:20,520 --> 00:17:25,040
should<font color="#CCCCCC"> be and</font><font color="#E5E5E5"> it operators nothing more</font>

435
00:17:23,130 --> 00:17:28,530
than a controller that<font color="#CCCCCC"> is</font>

436
00:17:25,040 --> 00:17:31,260
<font color="#E5E5E5">special-purpose designed to manage and</font>

437
00:17:28,530 --> 00:17:34,860
<font color="#CCCCCC">deploy an application of some kind</font><font color="#E5E5E5"> into</font>

438
00:17:31,260 --> 00:17:36,690
your customer in beyond that the real

439
00:17:34,860 --> 00:17:38,699
highlight<font color="#CCCCCC"> of operators is</font><font color="#E5E5E5"> you can use it</font>

440
00:17:36,690 --> 00:17:42,360
<font color="#CCCCCC">to encode human operational knowledge</font>

441
00:17:38,700 --> 00:17:45,630
<font color="#E5E5E5">into your cluster so anything</font><font color="#CCCCCC"> that you</font>

442
00:17:42,360 --> 00:17:47,490
would do if your pager went off<font color="#E5E5E5"> or that</font>

443
00:17:45,630 --> 00:17:49,920
you would do if when you're doing an

444
00:17:47,490 --> 00:17:51,900
<font color="#CCCCCC">upgrade or doing backups are doing</font>

445
00:17:49,920 --> 00:17:54,030
restores<font color="#E5E5E5"> we all love to automate</font>

446
00:17:51,900 --> 00:17:57,030
ourselves out of<font color="#E5E5E5"> a job</font><font color="#CCCCCC"> this</font><font color="#E5E5E5"> is that</font>

447
00:17:54,030 --> 00:17:59,070
mentality<font color="#E5E5E5"> encode what you would normally</font>

448
00:17:57,030 --> 00:18:01,379
otherwise have<font color="#E5E5E5"> to do as a human typing</font>

449
00:17:59,070 --> 00:18:03,570
on a keyboard<font color="#E5E5E5"> into your controller so</font>

450
00:18:01,380 --> 00:18:06,930
that<font color="#CCCCCC"> it knows not only</font><font color="#E5E5E5"> what</font><font color="#CCCCCC"> to do but</font>

451
00:18:03,570 --> 00:18:10,800
when to do<font color="#E5E5E5"> it and can pretty much manage</font>

452
00:18:06,930 --> 00:18:12,930
manage<font color="#E5E5E5"> your services</font><font color="#CCCCCC"> for you</font><font color="#E5E5E5"> so how do</font>

453
00:18:10,800 --> 00:18:13,950
we make one<font color="#E5E5E5"> of those things on and how</font>

454
00:18:12,930 --> 00:18:16,530
is<font color="#E5E5E5"> that</font><font color="#CCCCCC"> even possible</font>

455
00:18:13,950 --> 00:18:19,260
well kubernetes is interesting it<font color="#CCCCCC"> has a</font>

456
00:18:16,530 --> 00:18:20,760
rest dish<font color="#E5E5E5"> API as I'm sure you can</font>

457
00:18:19,260 --> 00:18:23,100
imagine<font color="#E5E5E5"> just think of a long list of</font>

458
00:18:20,760 --> 00:18:26,640
<font color="#CCCCCC">endpoints with resources</font><font color="#E5E5E5"> that</font><font color="#CCCCCC"> you've</font>

459
00:18:23,100 --> 00:18:29,850
<font color="#E5E5E5">seen even tonight so far</font><font color="#CCCCCC"> pod</font><font color="#E5E5E5"> the service</font>

460
00:18:26,640 --> 00:18:31,680
and a config knife and so on the

461
00:18:29,850 --> 00:18:34,409
internet about kubernetes is<font color="#E5E5E5"> it allows</font>

462
00:18:31,680 --> 00:18:38,730
you<font color="#CCCCCC"> to add your own</font><font color="#E5E5E5"> custom</font><font color="#CCCCCC"> endpoints</font><font color="#E5E5E5"> to</font>

463
00:18:34,410 --> 00:18:41,610
its<font color="#E5E5E5"> API</font><font color="#CCCCCC"> so in</font><font color="#E5E5E5"> this</font><font color="#CCCCCC"> example we've created</font>

464
00:18:38,730 --> 00:18:44,280
a memcache D resource<font color="#E5E5E5"> type in kubernetes</font>

465
00:18:41,610 --> 00:18:46,919
<font color="#E5E5E5">now in its list of API endpoints there's</font>

466
00:18:44,280 --> 00:18:48,270
a new memcache do you want<font color="#CCCCCC"> Karina's</font>

467
00:18:46,920 --> 00:18:49,470
gives you this opportunity<font color="#E5E5E5"> namespace</font>

468
00:18:48,270 --> 00:18:55,139
<font color="#CCCCCC">that but that's a topic for</font><font color="#E5E5E5"> another</font>

469
00:18:49,470 --> 00:18:57,540
night<font color="#CCCCCC"> by starting from an answerable</font>

470
00:18:55,140 --> 00:18:59,610
role that we purpose-built<font color="#E5E5E5"> to deploy a</font>

471
00:18:57,540 --> 00:19:03,629
particular application<font color="#CCCCCC"> say memcache D</font>

472
00:18:59,610 --> 00:19:05,520
and then having<font color="#CCCCCC"> now an API to create</font><font color="#E5E5E5"> an</font>

473
00:19:03,630 --> 00:19:08,880
update and<font color="#E5E5E5"> delete resources that can</font>

474
00:19:05,520 --> 00:19:10,290
describe<font color="#CCCCCC"> an application like memcache</font><font color="#E5E5E5"> D</font>

475
00:19:08,880 --> 00:19:13,710
you can probably see<font color="#E5E5E5"> where this story</font><font color="#CCCCCC"> is</font>

476
00:19:10,290 --> 00:19:16,110
<font color="#CCCCCC">going so</font><font color="#E5E5E5"> this is the pattern of how an</font>

477
00:19:13,710 --> 00:19:17,940
operator works<font color="#E5E5E5"> we have</font><font color="#CCCCCC"> the smiling face</font>

478
00:19:16,110 --> 00:19:20,669
up on<font color="#CCCCCC"> the top</font><font color="#E5E5E5"> left they interacted the</font>

479
00:19:17,940 --> 00:19:22,680
kubernetes api<font color="#E5E5E5"> they create their custom</font>

480
00:19:20,670 --> 00:19:23,340
resource in this case it's a memcache<font color="#CCCCCC"> d</font>

481
00:19:22,680 --> 00:19:25,080
let's say

482
00:19:23,340 --> 00:19:27,149
they describe<font color="#CCCCCC"> what do I want my memcache</font>

483
00:19:25,080 --> 00:19:29,370
<font color="#CCCCCC">Needle</font><font color="#E5E5E5"> look like a controller in the</font>

484
00:19:27,150 --> 00:19:30,540
middle wakes up sees the event<font color="#E5E5E5"> does</font>

485
00:19:29,370 --> 00:19:32,209
whatever<font color="#E5E5E5"> it</font><font color="#CCCCCC"> thinks is necessary</font>

486
00:19:30,540 --> 00:19:34,560
which ends up being it creates a

487
00:19:32,210 --> 00:19:36,600
composite creates a<font color="#E5E5E5"> service</font>

488
00:19:34,560 --> 00:19:38,429
maybe creates a persistent volume for

489
00:19:36,600 --> 00:19:39,780
some reason<font color="#E5E5E5"> who knows what else it does</font>

490
00:19:38,430 --> 00:19:42,210
<font color="#E5E5E5">but</font><font color="#CCCCCC"> does all</font><font color="#E5E5E5"> those things</font><font color="#CCCCCC"> and</font><font color="#E5E5E5"> now</font><font color="#CCCCCC"> the</font>

491
00:19:39,780 --> 00:19:43,950
<font color="#E5E5E5">application exists and then the</font>

492
00:19:42,210 --> 00:19:45,630
controller sits around and<font color="#E5E5E5"> just waits</font>

493
00:19:43,950 --> 00:19:47,940
for anything else<font color="#E5E5E5"> to happen to</font><font color="#CCCCCC"> that</font>

494
00:19:45,630 --> 00:19:50,010
<font color="#E5E5E5">resource</font><font color="#CCCCCC"> and</font><font color="#E5E5E5"> if you change it then it</font>

495
00:19:47,940 --> 00:19:52,230
<font color="#E5E5E5">will go change the real world to reflect</font>

496
00:19:50,010 --> 00:19:54,660
<font color="#E5E5E5">whatever changes you made how does the</font>

497
00:19:52,230 --> 00:19:57,450
ansible fit into this pattern<font color="#E5E5E5"> well we</font>

498
00:19:54,660 --> 00:20:01,070
made an answer for you<font color="#E5E5E5"> now in this case</font>

499
00:19:57,450 --> 00:20:03,750
before<font color="#E5E5E5"> ansible is involved you are</font>

500
00:20:01,070 --> 00:20:06,330
<font color="#E5E5E5">writing your own controller in go</font>

501
00:20:03,750 --> 00:20:08,040
<font color="#E5E5E5">probably</font><font color="#CCCCCC"> some</font><font color="#E5E5E5"> people have strayed off</font>

502
00:20:06,330 --> 00:20:11,330
that path and written them in another

503
00:20:08,040 --> 00:20:13,379
language or<font color="#E5E5E5"> two that</font><font color="#CCCCCC"> I won't</font><font color="#E5E5E5"> mention but</font>

504
00:20:11,330 --> 00:20:14,760
for the<font color="#E5E5E5"> most part you're gonna be on the</font>

505
00:20:13,380 --> 00:20:16,920
<font color="#E5E5E5">hook for writing a software project</font>

506
00:20:14,760 --> 00:20:20,430
<font color="#E5E5E5">writing a controller that does that</font>

507
00:20:16,920 --> 00:20:22,890
stuff instead<font color="#E5E5E5"> we've done a lot of that</font>

508
00:20:20,430 --> 00:20:25,170
<font color="#E5E5E5">work</font><font color="#CCCCCC"> for you so just like in</font><font color="#E5E5E5"> that broker</font>

509
00:20:22,890 --> 00:20:26,820
story we saw a<font color="#E5E5E5"> minute ago where we made</font>

510
00:20:25,170 --> 00:20:28,560
a generic broker that<font color="#E5E5E5"> can just run</font>

511
00:20:26,820 --> 00:20:31,560
<font color="#E5E5E5">ansible for you here we've made a</font>

512
00:20:28,560 --> 00:20:32,639
generic operator that<font color="#E5E5E5"> will likewise run</font>

513
00:20:31,560 --> 00:20:35,850
ansible for you

514
00:20:32,640 --> 00:20:39,180
so our<font color="#E5E5E5"> ansible operator it</font><font color="#CCCCCC"> is written</font>

515
00:20:35,850 --> 00:20:41,820
<font color="#E5E5E5">and go</font><font color="#CCCCCC"> and it's using all the kubernetes</font>

516
00:20:39,180 --> 00:20:44,550
client<font color="#E5E5E5"> tooling that's this really</font><font color="#CCCCCC"> nice</font>

517
00:20:41,820 --> 00:20:46,200
stuff gives you a lot of<font color="#E5E5E5"> power in terms</font>

518
00:20:44,550 --> 00:20:48,060
of caching and<font color="#E5E5E5"> queue management and this</font>

519
00:20:46,200 --> 00:20:50,250
<font color="#E5E5E5">sort of stuff so we've done that and</font>

520
00:20:48,060 --> 00:20:52,830
every<font color="#E5E5E5"> time that it gets one of these</font>

521
00:20:50,250 --> 00:20:55,740
events to get it wakes up and decides it

522
00:20:52,830 --> 00:20:57,899
needs<font color="#E5E5E5"> to run</font><font color="#CCCCCC"> or reconcile all it does is</font>

523
00:20:55,740 --> 00:20:59,400
<font color="#E5E5E5">it runs your</font><font color="#CCCCCC"> interval role or your</font>

524
00:20:57,900 --> 00:21:02,460
<font color="#E5E5E5">answerable playbook</font><font color="#CCCCCC"> that can run as many</font>

525
00:20:59,400 --> 00:21:03,900
<font color="#E5E5E5">roles as it wants and we have in the</font>

526
00:21:02,460 --> 00:21:06,570
middle<font color="#CCCCCC"> we have this mapping file it's</font>

527
00:21:03,900 --> 00:21:09,390
not too important<font color="#CCCCCC"> a detail but basically</font>

528
00:21:06,570 --> 00:21:12,899
for any resource type you define you

529
00:21:09,390 --> 00:21:16,080
just tell this operator if you see the

530
00:21:12,900 --> 00:21:17,700
memcache<font color="#CCCCCC"> D resource</font><font color="#E5E5E5"> run this role if you</font>

531
00:21:16,080 --> 00:21:20,340
see some other<font color="#E5E5E5"> resource run this other</font>

532
00:21:17,700 --> 00:21:22,770
role and that's it<font color="#CCCCCC"> so it ends up being a</font>

533
00:21:20,340 --> 00:21:25,409
<font color="#CCCCCC">very</font><font color="#E5E5E5"> simple kind of pattern and</font>

534
00:21:22,770 --> 00:21:25,940
experience this is<font color="#E5E5E5"> what that file looks</font>

535
00:21:25,410 --> 00:21:28,950
like

536
00:21:25,940 --> 00:21:30,090
<font color="#CCCCCC">you see</font><font color="#E5E5E5"> group version and kind is how we</font>

537
00:21:28,950 --> 00:21:32,520
define a resource<font color="#E5E5E5"> and then we're just</font>

538
00:21:30,090 --> 00:21:36,389
<font color="#E5E5E5">asking that to a playbook pretty simple</font>

539
00:21:32,520 --> 00:21:38,040
concept<font color="#E5E5E5"> the operator SDK</font><font color="#CCCCCC"> that is the</font>

540
00:21:36,390 --> 00:21:39,540
project<font color="#CCCCCC"> we have that is</font><font color="#E5E5E5"> the tooling</font><font color="#CCCCCC"> that</font>

541
00:21:38,040 --> 00:21:41,250
helps you build<font color="#E5E5E5"> one of these operators</font>

542
00:21:39,540 --> 00:21:42,240
<font color="#E5E5E5">you could do it and go and we've got</font>

543
00:21:41,250 --> 00:21:43,570
some great<font color="#E5E5E5"> tools to help you do that</font>

544
00:21:42,240 --> 00:21:45,639
you<font color="#CCCCCC"> could do an answer</font>

545
00:21:43,570 --> 00:21:47,499
<font color="#CCCCCC">that's</font><font color="#E5E5E5"> probably the</font><font color="#CCCCCC"> easiest path for the</font>

546
00:21:45,639 --> 00:21:49,809
land and certainly the best balance of

547
00:21:47,499 --> 00:21:51,789
ease to get started<font color="#E5E5E5"> and</font><font color="#CCCCCC"> long term power</font>

548
00:21:49,809 --> 00:21:54,249
<font color="#E5E5E5">you could</font><font color="#CCCCCC"> also do with home if you have</font>

549
00:21:51,789 --> 00:21:56,009
existing<font color="#CCCCCC"> home charts</font><font color="#E5E5E5"> and you want to get</font>

550
00:21:54,249 --> 00:21:59,590
<font color="#E5E5E5">into this operator pattern right away</font>

551
00:21:56,009 --> 00:22:03,249
<font color="#CCCCCC">and be able</font><font color="#E5E5E5"> to I guess</font><font color="#CCCCCC"> this bears</font>

552
00:21:59,590 --> 00:22:04,869
emphasizing<font color="#CCCCCC"> a</font><font color="#E5E5E5"> key benefit of the</font>

553
00:22:03,249 --> 00:22:07,509
operator pattern is it makes your

554
00:22:04,869 --> 00:22:10,269
application<font color="#E5E5E5"> part of the kubernetes api</font>

555
00:22:07,509 --> 00:22:11,919
so it's now kubernetes native for

556
00:22:10,269 --> 00:22:13,690
whatever<font color="#E5E5E5"> that means in this case</font><font color="#CCCCCC"> really</font>

557
00:22:11,919 --> 00:22:17,739
means it's part of<font color="#E5E5E5"> the API you can</font>

558
00:22:13,690 --> 00:22:19,539
provision<font color="#E5E5E5"> upgrade manage do everything</font>

559
00:22:17,739 --> 00:22:21,279
just natively through the<font color="#E5E5E5"> normal crew</font>

560
00:22:19,539 --> 00:22:23,830
<font color="#CCCCCC">manage</font><font color="#E5E5E5"> API</font><font color="#CCCCCC"> so if you want to</font><font color="#E5E5E5"> take home</font>

561
00:22:21,279 --> 00:22:25,210
charts<font color="#E5E5E5"> and make them kubernetes native</font>

562
00:22:23,830 --> 00:22:26,889
in that way you<font color="#E5E5E5"> can do that</font><font color="#CCCCCC"> with an</font>

563
00:22:25,210 --> 00:22:28,389
operator right<font color="#E5E5E5"> now little it's a bit</font>

564
00:22:26,889 --> 00:22:29,830
more limiting in<font color="#CCCCCC"> terms of</font><font color="#E5E5E5"> day</font><font color="#CCCCCC"> 2</font>

565
00:22:28,389 --> 00:22:31,719
management well it's quite a bit<font color="#CCCCCC"> more</font>

566
00:22:29,830 --> 00:22:33,879
limited<font color="#CCCCCC"> in</font><font color="#E5E5E5"> data management</font><font color="#CCCCCC"> but</font><font color="#E5E5E5"> you can</font>

567
00:22:31,720 --> 00:22:36,970
get started<font color="#E5E5E5"> that way</font><font color="#CCCCCC"> and then there's a</font>

568
00:22:33,879 --> 00:22:38,619
link<font color="#CCCCCC"> to the operator SDK this is what</font>

569
00:22:36,970 --> 00:22:41,229
your base image is going to<font color="#CCCCCC"> look like so</font>

570
00:22:38,619 --> 00:22:42,970
<font color="#E5E5E5">we provide the green parts that includes</font>

571
00:22:41,229 --> 00:22:47,049
<font color="#E5E5E5">ansible</font><font color="#CCCCCC"> it includes ansible Runner and</font>

572
00:22:42,970 --> 00:22:49,029
<font color="#E5E5E5">includes the operator binary all you</font>

573
00:22:47,049 --> 00:22:51,820
have to provide is the<font color="#E5E5E5"> yellow parts on</font>

574
00:22:49,029 --> 00:22:53,349
top so<font color="#E5E5E5"> you provide one</font><font color="#CCCCCC"> or more roles you</font>

575
00:22:51,820 --> 00:22:54,908
provide<font color="#CCCCCC"> that mapping</font><font color="#E5E5E5"> between them and</font>

576
00:22:53,349 --> 00:22:56,889
that's it<font color="#E5E5E5"> and now you've got your</font><font color="#CCCCCC"> own</font>

577
00:22:54,909 --> 00:22:59,649
operator<font color="#E5E5E5"> and otherwise it's as easy as</font>

578
00:22:56,889 --> 00:23:02,799
<font color="#CCCCCC">just writing ansible to do whatever work</font>

579
00:22:59,649 --> 00:23:05,709
it is you need<font color="#CCCCCC"> to do so the bottom line</font>

580
00:23:02,799 --> 00:23:07,989
<font color="#CCCCCC">of these two</font><font color="#E5E5E5"> stories on the one hand we</font>

581
00:23:05,710 --> 00:23:10,210
had we can make a service broker<font color="#E5E5E5"> and</font>

582
00:23:07,989 --> 00:23:12,580
plug into the community service<font color="#E5E5E5"> catalog</font>

583
00:23:10,210 --> 00:23:13,840
<font color="#E5E5E5">by making an</font><font color="#CCCCCC"> anthem a role</font><font color="#E5E5E5"> that can in</font>

584
00:23:12,580 --> 00:23:16,449
deploy your application with communities

585
00:23:13,840 --> 00:23:17,709
we saw how easy<font color="#E5E5E5"> it was just to interact</font>

586
00:23:16,450 --> 00:23:19,869
<font color="#E5E5E5">with criminals from ansible</font>

587
00:23:17,710 --> 00:23:22,259
on the other hand we've made an operator

588
00:23:19,869 --> 00:23:24,908
which is a different<font color="#E5E5E5"> kind of</font><font color="#CCCCCC"> pattern and</font>

589
00:23:22,259 --> 00:23:28,509
certainly what seems to<font color="#CCCCCC"> be the future of</font>

590
00:23:24,909 --> 00:23:30,639
kubernetes<font color="#CCCCCC"> and both of these are just</font>

591
00:23:28,509 --> 00:23:31,720
<font color="#CCCCCC">made really really easy by</font><font color="#E5E5E5"> ansible</font><font color="#CCCCCC"> I</font>

592
00:23:30,639 --> 00:23:34,869
just love working<font color="#CCCCCC"> with Anson</font><font color="#E5E5E5"> ball</font>

593
00:23:31,720 --> 00:23:36,489
<font color="#CCCCCC">incriminates</font><font color="#E5E5E5"> if you would like to</font><font color="#CCCCCC"> put</font>

594
00:23:34,869 --> 00:23:39,129
<font color="#E5E5E5">your hands on this stuff and try some</font>

595
00:23:36,489 --> 00:23:42,070
labs<font color="#E5E5E5"> please don't do it right at this</font>

596
00:23:39,129 --> 00:23:46,029
moment because<font color="#E5E5E5"> you will crush this</font><font color="#CCCCCC"> I've</font>

597
00:23:42,070 --> 00:23:48,428
seen it happen<font color="#CCCCCC"> asked me how recently you</font>

598
00:23:46,029 --> 00:23:50,710
can go here tonight<font color="#E5E5E5"> tomorrow</font>

599
00:23:48,429 --> 00:23:54,369
<font color="#CCCCCC">get home next</font><font color="#E5E5E5"> week and there are a</font>

600
00:23:50,710 --> 00:23:56,409
number<font color="#CCCCCC"> of exercises that you can run</font><font color="#E5E5E5"> for</font>

601
00:23:54,369 --> 00:23:59,110
free<font color="#E5E5E5"> no registration we don't collect</font>

602
00:23:56,409 --> 00:24:00,759
any contact info<font color="#CCCCCC"> nothing you just go</font>

603
00:23:59,110 --> 00:24:02,408
there<font color="#E5E5E5"> you click you get your own</font>

604
00:24:00,759 --> 00:24:04,059
environment with kubernetes running<font color="#E5E5E5"> its</font>

605
00:24:02,409 --> 00:24:05,590
<font color="#CCCCCC">openshift it happens to be</font><font color="#E5E5E5"> open ship</font>

606
00:24:04,059 --> 00:24:08,230
that's<font color="#E5E5E5"> red hats of distribution of</font>

607
00:24:05,590 --> 00:24:09,939
kubernetes<font color="#CCCCCC"> it's kubernetes you get</font>

608
00:24:08,230 --> 00:24:11,499
exercises down the left you get<font color="#E5E5E5"> your</font>

609
00:24:09,940 --> 00:24:12,999
environment on the right and you<font color="#E5E5E5"> can go</font>

610
00:24:11,499 --> 00:24:14,649
<font color="#E5E5E5">through it and</font><font color="#CCCCCC"> you can build</font><font color="#E5E5E5"> your own</font>

611
00:24:12,999 --> 00:24:16,749
operator using go you can build your own

612
00:24:14,649 --> 00:24:18,248
operator using ansible<font color="#CCCCCC"> you can learn how</font>

613
00:24:16,749 --> 00:24:19,840
to use<font color="#CCCCCC"> the ansible kubernetes module and</font>

614
00:24:18,249 --> 00:24:23,049
all kinds of<font color="#E5E5E5"> other stuff</font><font color="#CCCCCC"> great</font><font color="#E5E5E5"> way to</font>

615
00:24:19,840 --> 00:24:25,689
get<font color="#E5E5E5"> to</font><font color="#CCCCCC"> know</font><font color="#E5E5E5"> it if you want to dig into</font>

616
00:24:23,049 --> 00:24:28,149
this more<font color="#E5E5E5"> one you could go out for beer</font>

617
00:24:25,690 --> 00:24:29,590
with me tonight<font color="#CCCCCC"> but</font><font color="#E5E5E5"> otherwise we can go</font>

618
00:24:28,149 --> 00:24:31,570
<font color="#E5E5E5">to config management camp so I'll be</font>

619
00:24:29,590 --> 00:24:32,949
there<font color="#CCCCCC"> too doing a</font><font color="#E5E5E5"> little bit of a longer</font>

620
00:24:31,570 --> 00:24:35,049
talk and then we'll probably have<font color="#CCCCCC"> some</font>

621
00:24:32,950 --> 00:24:37,809
<font color="#CCCCCC">more time there to dig into more detail</font>

622
00:24:35,049 --> 00:24:41,200
on this whirlwind<font color="#E5E5E5"> of stuff that I</font><font color="#CCCCCC"> know I</font>

623
00:24:37,809 --> 00:24:43,658
<font color="#E5E5E5">just threw at you so with that do we</font>

624
00:24:41,200 --> 00:24:47,679
have any time<font color="#CCCCCC"> for questions</font><font color="#E5E5E5"> is that</font><font color="#CCCCCC"> a</font>

625
00:24:43,659 --> 00:24:49,749
yes<font color="#CCCCCC"> 30 seconds we have one question</font>

626
00:24:47,679 --> 00:24:54,190
anybody<font color="#CCCCCC"> have a pressing question why</font>

627
00:24:49,749 --> 00:24:56,369
right<font color="#E5E5E5"> here in the middle how do you deal</font>

628
00:24:54,190 --> 00:24:59,320
with<font color="#E5E5E5"> different versions of your</font><font color="#CCCCCC"> roles</font>

629
00:24:56,369 --> 00:25:01,509
<font color="#CCCCCC">it's hard</font><font color="#E5E5E5"> but you deal with it the same</font>

630
00:24:59,320 --> 00:25:04,590
way you deal with versions of operators

631
00:25:01,509 --> 00:25:08,190
in general<font color="#E5E5E5"> so you're gonna have a</font>

632
00:25:04,590 --> 00:25:12,418
dichotomy<font color="#CCCCCC"> of your application</font><font color="#E5E5E5"> life cycle</font>

633
00:25:08,190 --> 00:25:15,669
<font color="#E5E5E5">versus your operator or a</font><font color="#CCCCCC"> PV life cycle</font>

634
00:25:12,419 --> 00:25:18,399
<font color="#CCCCCC">so it's kind of up to you to have a</font>

635
00:25:15,669 --> 00:25:20,679
project<font color="#CCCCCC"> that's going</font><font color="#E5E5E5"> to be your operator</font>

636
00:25:18,399 --> 00:25:22,539
<font color="#E5E5E5">and it's going to include your answer</font>

637
00:25:20,679 --> 00:25:24,249
<font color="#CCCCCC">about</font><font color="#E5E5E5"> one or more ansible roles</font><font color="#CCCCCC"> and you</font>

638
00:25:22,539 --> 00:25:26,470
can just version that the normal way you

639
00:25:24,249 --> 00:25:29,529
add version containers that<font color="#CCCCCC"> you</font><font color="#E5E5E5"> build</font>

640
00:25:26,470 --> 00:25:32,369
other ways that's it<font color="#E5E5E5"> all right</font><font color="#CCCCCC"> write</font><font color="#E5E5E5"> a</font>

641
00:25:29,529 --> 00:25:32,369
<font color="#E5E5E5">time think it runs</font>

642
00:25:34,920 --> 00:25:38,010
<font color="#E5E5E5">thank you</font>

