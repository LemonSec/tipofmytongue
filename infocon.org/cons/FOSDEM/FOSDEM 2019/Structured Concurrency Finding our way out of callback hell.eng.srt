1
00:00:04,620 --> 00:00:10,379
<font color="#E5E5E5">okay and okay so maybe this should we</font>

2
00:00:08,730 --> 00:00:12,630
have been the part of a<font color="#E5E5E5"> retro computing</font>

3
00:00:10,380 --> 00:00:16,619
track<font color="#E5E5E5"> because it goes as bad as far back</font>

4
00:00:12,630 --> 00:00:19,349
as 1968 when these<font color="#CCCCCC"> draw</font><font color="#E5E5E5"> might send a</font>

5
00:00:16,619 --> 00:00:22,948
memo talking about<font color="#CCCCCC"> I'll go to his bad</font>

6
00:00:19,349 --> 00:00:25,740
and why we<font color="#CCCCCC"> should avoid it</font><font color="#E5E5E5"> and the memo</font>

7
00:00:22,949 --> 00:00:28,410
was<font color="#E5E5E5"> then redistributed by any</font><font color="#CCCCCC"> Kasparov</font>

8
00:00:25,740 --> 00:00:32,610
<font color="#E5E5E5">under the name go to consider harmful</font>

9
00:00:28,410 --> 00:00:38,540
and that's<font color="#E5E5E5"> all like</font><font color="#CCCCCC"> the original floors</font>

10
00:00:32,610 --> 00:00:38,540
of the<font color="#CCCCCC"> consider</font><font color="#E5E5E5"> harmful price</font><font color="#CCCCCC"> ok so</font>

11
00:00:39,410 --> 00:00:43,169
what's wrong with the<font color="#E5E5E5"> go-to in the first</font>

12
00:00:41,730 --> 00:00:44,489
<font color="#E5E5E5">place</font><font color="#CCCCCC"> do</font><font color="#E5E5E5"> you have to get some context</font>

13
00:00:43,170 --> 00:00:48,059
<font color="#E5E5E5">like you can put it in</font><font color="#CCCCCC"> different ways</font>

14
00:00:44,489 --> 00:00:51,959
<font color="#E5E5E5">but this particular way</font><font color="#CCCCCC"> of putting it</font><font color="#E5E5E5"> is</font>

15
00:00:48,059 --> 00:00:55,050
<font color="#CCCCCC">I've shamelessly stole from from</font>

16
00:00:51,960 --> 00:00:57,600
National Smith wrote a nice nice blog

17
00:00:55,050 --> 00:01:01,500
post<font color="#CCCCCC"> about it</font><font color="#E5E5E5"> and it goes</font><font color="#CCCCCC"> like this like</font>

18
00:00:57,600 --> 00:01:03,870
<font color="#CCCCCC">this</font><font color="#E5E5E5"> is a program in 4matic</font><font color="#CCCCCC"> which is the</font>

19
00:01:01,500 --> 00:01:05,850
predecessor of COBOL and it's an

20
00:01:03,870 --> 00:01:08,490
<font color="#CCCCCC">unstructured</font><font color="#E5E5E5"> language so as you see</font>

21
00:01:05,850 --> 00:01:11,669
there<font color="#CCCCCC"> are</font><font color="#E5E5E5"> no loops and nothing it's not</font>

22
00:01:08,490 --> 00:01:13,860
it's not even<font color="#CCCCCC"> a invent it</font><font color="#E5E5E5"> and you see a</font>

23
00:01:11,670 --> 00:01:15,060
<font color="#E5E5E5">lot of jumps there so you look at a</font>

24
00:01:13,860 --> 00:01:17,580
program and<font color="#E5E5E5"> you have know why you like</font>

25
00:01:15,060 --> 00:01:19,920
what's going<font color="#E5E5E5"> on and then you start</font>

26
00:01:17,580 --> 00:01:24,890
<font color="#CCCCCC">drawing like arrows like how the control</font>

27
00:01:19,920 --> 00:01:27,209
flow looks like and<font color="#E5E5E5"> it's like this so</font>

28
00:01:24,890 --> 00:01:34,440
you look at<font color="#E5E5E5"> it and you</font><font color="#CCCCCC"> have no idea</font>

29
00:01:27,209 --> 00:01:34,679
what's going<font color="#E5E5E5"> on so what's wrong with</font>

30
00:01:34,440 --> 00:01:37,560
that

31
00:01:34,679 --> 00:01:42,899
<font color="#E5E5E5">you have different like</font><font color="#CCCCCC"> constructs like</font>

32
00:01:37,560 --> 00:01:44,369
if for whatever and go<font color="#E5E5E5"> to and some of</font>

33
00:01:42,899 --> 00:01:46,229
them are good some<font color="#E5E5E5"> of them</font><font color="#CCCCCC"> are bad and</font>

34
00:01:44,369 --> 00:01:48,770
how<font color="#CCCCCC"> the hub should be know like which</font>

35
00:01:46,229 --> 00:01:51,479
ones are good and which<font color="#CCCCCC"> ones are bad and</font>

36
00:01:48,770 --> 00:01:55,440
one thing one way of<font color="#E5E5E5"> thinking about it</font>

37
00:01:51,479 --> 00:01:59,130
is let's say the<font color="#CCCCCC"> contract is good if</font><font color="#E5E5E5"> the</font>

38
00:01:55,440 --> 00:02:02,610
control flow starts in<font color="#CCCCCC"> the top</font><font color="#E5E5E5"> and then</font>

39
00:01:59,130 --> 00:02:04,830
it ends up in<font color="#CCCCCC"> the</font><font color="#E5E5E5"> bottom</font><font color="#CCCCCC"> and if you look</font>

40
00:02:02,610 --> 00:02:06,420
at all those contracts contracts like

41
00:02:04,830 --> 00:02:08,910
<font color="#E5E5E5">all of them have you have</font><font color="#CCCCCC"> is nice</font>

42
00:02:06,420 --> 00:02:12,300
property that<font color="#E5E5E5"> it just goes from</font><font color="#CCCCCC"> the top</font>

43
00:02:08,910 --> 00:02:12,890
to the<font color="#CCCCCC"> bottom if you do if block</font><font color="#E5E5E5"> it can</font>

44
00:02:12,300 --> 00:02:14,390
do<font color="#E5E5E5"> if</font>

45
00:02:12,890 --> 00:02:16,459
<font color="#E5E5E5">our</font><font color="#CCCCCC"> Lord else part but eventually</font>

46
00:02:14,390 --> 00:02:18,700
<font color="#CCCCCC">they'll</font><font color="#E5E5E5"> arrive in the bottom and same</font>

47
00:02:16,460 --> 00:02:22,370
for<font color="#E5E5E5"> for or function call or just</font>

48
00:02:18,700 --> 00:02:23,929
sequential sequence of commands<font color="#E5E5E5"> but not</font>

49
00:02:22,370 --> 00:02:26,480
so<font color="#E5E5E5"> far go to</font><font color="#CCCCCC"> four four go</font><font color="#E5E5E5"> to it just</font>

50
00:02:23,930 --> 00:02:28,430
<font color="#CCCCCC">jump</font><font color="#E5E5E5"> somewhere and it never returns it</font>

51
00:02:26,480 --> 00:02:38,089
never reaches the<font color="#CCCCCC"> bottom of the of the</font>

52
00:02:28,430 --> 00:02:40,340
<font color="#CCCCCC">codebook so</font><font color="#E5E5E5"> we like to believe that</font><font color="#CCCCCC"> the</font>

53
00:02:38,090 --> 00:02:42,680
functions are<font color="#E5E5E5"> black boxes maybe we call</font>

54
00:02:40,340 --> 00:02:45,440
a function and the function<font color="#CCCCCC"> will</font>

55
00:02:42,680 --> 00:02:48,440
eventually returns<font color="#E5E5E5"> like nice</font><font color="#CCCCCC"> and then</font>

56
00:02:45,440 --> 00:02:50,510
easy easy to<font color="#E5E5E5"> reason about so we have a</font>

57
00:02:48,440 --> 00:02:52,940
main<font color="#CCCCCC"> function it called function foo</font>

58
00:02:50,510 --> 00:02:54,769
which then calls function bar but

59
00:02:52,940 --> 00:02:59,720
eventually it will<font color="#E5E5E5"> return from bar and a</font>

60
00:02:54,769 --> 00:03:02,060
<font color="#E5E5E5">return foo and it's also nice for for</font>

61
00:02:59,720 --> 00:03:05,570
encapsulation<font color="#E5E5E5"> because main doesn't have</font>

62
00:03:02,060 --> 00:03:06,920
to know that<font color="#CCCCCC"> holds bar because like you</font>

63
00:03:05,570 --> 00:03:08,329
change the<font color="#CCCCCC"> implementation</font><font color="#E5E5E5"> it called</font>

64
00:03:06,920 --> 00:03:12,649
something<font color="#CCCCCC"> else</font><font color="#E5E5E5"> you don't care</font><font color="#CCCCCC"> it's still</font>

65
00:03:08,330 --> 00:03:15,260
written<font color="#CCCCCC"> heiress</font><font color="#E5E5E5"> back but try to use a go</font>

66
00:03:12,650 --> 00:03:18,320
<font color="#E5E5E5">to somewhere and suddenly the does</font><font color="#CCCCCC"> not</font>

67
00:03:15,260 --> 00:03:20,420
know that's<font color="#E5E5E5"> not</font><font color="#CCCCCC"> longer a case right</font><font color="#E5E5E5"> it</font>

68
00:03:18,320 --> 00:03:22,519
just somewhere in the nested function

69
00:03:20,420 --> 00:03:27,018
you jump somewhere<font color="#E5E5E5"> else never to return</font>

70
00:03:22,519 --> 00:03:29,510
<font color="#CCCCCC">and now here we have developer</font><font color="#E5E5E5"> Bob who's</font>

71
00:03:27,019 --> 00:03:30,700
like very cautious he doesn't use<font color="#CCCCCC"> an</font>

72
00:03:29,510 --> 00:03:33,230
<font color="#CCCCCC">egotist</font>

73
00:03:30,700 --> 00:03:36,170
but he happens to use the library

74
00:03:33,230 --> 00:03:38,720
written<font color="#CCCCCC"> by by Alice who is</font><font color="#E5E5E5"> very cautious</font>

75
00:03:36,170 --> 00:03:40,190
as well she doesn't<font color="#E5E5E5"> use any go-to but</font>

76
00:03:38,720 --> 00:03:41,959
she uses<font color="#CCCCCC"> a library</font><font color="#E5E5E5"> written by</font><font color="#CCCCCC"> Colleen</font>

77
00:03:40,190 --> 00:03:45,320
who<font color="#CCCCCC"> is Carlos and who uses go-to</font>

78
00:03:41,959 --> 00:03:47,900
and suddenly<font color="#E5E5E5"> Bob is heard by that</font>

79
00:03:45,320 --> 00:03:50,840
because<font color="#CCCCCC"> like Dao inside the dependency</font>

80
00:03:47,900 --> 00:03:54,970
<font color="#CCCCCC">three</font><font color="#E5E5E5"> just flow control flow</font>

81
00:03:50,840 --> 00:03:57,650
just somewhere else<font color="#CCCCCC"> and Bob's function</font>

82
00:03:54,970 --> 00:03:59,630
function<font color="#E5E5E5"> called</font><font color="#CCCCCC"> foo</font><font color="#E5E5E5"> - foo never returns</font>

83
00:03:57,650 --> 00:04:02,180
<font color="#E5E5E5">like all the assumptions he had about</font>

84
00:03:59,630 --> 00:04:05,540
his code<font color="#CCCCCC"> unbroken so this is kind of</font>

85
00:04:02,180 --> 00:04:07,310
it's<font color="#CCCCCC"> not only</font><font color="#E5E5E5"> like bad design it's bad</font>

86
00:04:05,540 --> 00:04:09,890
design<font color="#E5E5E5"> pass pass</font><font color="#CCCCCC"> because it's transitive</font>

87
00:04:07,310 --> 00:04:13,459
like it takes only one dependency in

88
00:04:09,890 --> 00:04:19,130
your whole dependency tree and you're

89
00:04:13,459 --> 00:04:22,320
screwed so so what I was talking about

90
00:04:19,130 --> 00:04:24,719
<font color="#CCCCCC">was the</font><font color="#E5E5E5"> old kind of go to that</font><font color="#CCCCCC"> probably</font>

91
00:04:22,320 --> 00:04:27,840
not many people here really remember

92
00:04:24,720 --> 00:04:30,630
<font color="#E5E5E5">that we're like the big bad go to</font><font color="#CCCCCC"> which</font>

93
00:04:27,840 --> 00:04:31,950
could jump around<font color="#E5E5E5"> the codebase like from</font>

94
00:04:30,630 --> 00:04:34,469
a function to a different<font color="#CCCCCC"> function</font><font color="#E5E5E5"> and</font>

95
00:04:31,950 --> 00:04:39,960
<font color="#E5E5E5">you don't see those anymore right there</font>

96
00:04:34,470 --> 00:04:42,810
<font color="#E5E5E5">so and but it's actually not</font><font color="#CCCCCC"> that the</font>

97
00:04:39,960 --> 00:04:44,729
long long ago<font color="#E5E5E5"> when</font><font color="#CCCCCC"> I started</font><font color="#E5E5E5"> programming</font>

98
00:04:42,810 --> 00:04:48,510
in 1984 I've got Sinclair ZX Spectrum

99
00:04:44,730 --> 00:04:50,220
<font color="#E5E5E5">and it had like built-in basic and it</font>

100
00:04:48,510 --> 00:04:53,670
<font color="#E5E5E5">actually looks very much like the flow</font>

101
00:04:50,220 --> 00:04:55,560
Matic code I've shown before<font color="#CCCCCC"> there</font><font color="#E5E5E5"> go to</font>

102
00:04:53,670 --> 00:04:58,380
<font color="#CCCCCC">solar over on the place</font><font color="#E5E5E5"> and it</font><font color="#CCCCCC"> just said</font>

103
00:04:55,560 --> 00:04:58,890
you jumped<font color="#E5E5E5"> around so you don't</font><font color="#CCCCCC"> see this</font>

104
00:04:58,380 --> 00:05:02,280
anymore

105
00:04:58,890 --> 00:05:06,060
but what we have now is this<font color="#CCCCCC"> kind of</font>

106
00:05:02,280 --> 00:05:08,369
thing domesticate<font color="#E5E5E5"> if you go to which you</font>

107
00:05:06,060 --> 00:05:10,650
can jump only<font color="#E5E5E5"> inside a</font><font color="#CCCCCC"> function right so</font>

108
00:05:08,370 --> 00:05:12,750
<font color="#CCCCCC">that's the go-to in C</font><font color="#E5E5E5"> oh my good</font>

109
00:05:10,650 --> 00:05:15,719
you can jump inside a function<font color="#E5E5E5"> but</font>

110
00:05:12,750 --> 00:05:17,580
there's no way to<font color="#E5E5E5"> jump out so it's still</font>

111
00:05:15,720 --> 00:05:22,260
bad but it's it's at least<font color="#E5E5E5"> no transitive</font>

112
00:05:17,580 --> 00:05:23,789
right so<font color="#CCCCCC"> the cone of the Corinne</font><font color="#E5E5E5"> that</font>

113
00:05:22,260 --> 00:05:25,860
the developer of<font color="#E5E5E5"> a</font><font color="#CCCCCC"> nested nasty</font>

114
00:05:23,790 --> 00:05:36,900
dependency can really break your

115
00:05:25,860 --> 00:05:39,570
<font color="#E5E5E5">overflow okay so now that I've explained</font>

116
00:05:36,900 --> 00:05:42,419
the<font color="#CCCCCC"> hole I could</font><font color="#E5E5E5"> go to think like from</font>

117
00:05:39,570 --> 00:05:45,570
<font color="#E5E5E5">50 years</font><font color="#CCCCCC"> ago what does it</font><font color="#E5E5E5"> have</font><font color="#CCCCCC"> to do</font>

118
00:05:42,420 --> 00:05:47,010
with<font color="#E5E5E5"> modern programming thing and I'm</font>

119
00:05:45,570 --> 00:05:51,000
<font color="#E5E5E5">coming from the network in background</font>

120
00:05:47,010 --> 00:05:53,490
time or author of 0 mq and I've made

121
00:05:51,000 --> 00:05:56,940
several networking libraries and the

122
00:05:53,490 --> 00:05:59,160
problem<font color="#E5E5E5"> that occurs all the time is how</font>

123
00:05:56,940 --> 00:06:00,840
<font color="#E5E5E5">to handle a synchronous calls basically</font>

124
00:05:59,160 --> 00:06:02,730
<font color="#CCCCCC">alright so so this</font><font color="#E5E5E5"> is</font><font color="#CCCCCC"> what you have one</font>

125
00:06:00,840 --> 00:06:04,229
wire<font color="#E5E5E5"> that there is a</font><font color="#CCCCCC"> byte saying that</font>

126
00:06:02,730 --> 00:06:06,720
the<font color="#CCCCCC"> the following field is going to be</font>

127
00:06:04,230 --> 00:06:08,820
<font color="#E5E5E5">13 bytes long and then you have the</font>

128
00:06:06,720 --> 00:06:09,450
<font color="#CCCCCC">actual data and</font><font color="#E5E5E5"> how are we going to</font>

129
00:06:08,820 --> 00:06:11,460
process that

130
00:06:09,450 --> 00:06:14,640
so the<font color="#E5E5E5"> old-school way of doing that was</font>

131
00:06:11,460 --> 00:06:16,590
like classic<font color="#CCCCCC"> unix</font><font color="#E5E5E5"> way where you launch</font>

132
00:06:14,640 --> 00:06:18,300
and process for each<font color="#E5E5E5"> connection and the</font>

133
00:06:16,590 --> 00:06:20,039
process<font color="#CCCCCC"> were not nice and sequential and</font>

134
00:06:18,300 --> 00:06:23,700
it just read this<font color="#CCCCCC"> write</font><font color="#E5E5E5"> that and that</font>

135
00:06:20,040 --> 00:06:25,470
was it<font color="#E5E5E5"> but then people realize that the</font>

136
00:06:23,700 --> 00:06:27,000
launching process per<font color="#E5E5E5"> connection is</font>

137
00:06:25,470 --> 00:06:29,790
probably not good thing because<font color="#CCCCCC"> it's</font>

138
00:06:27,000 --> 00:06:32,300
slow and things a lot of resources<font color="#E5E5E5"> so we</font>

139
00:06:29,790 --> 00:06:35,509
<font color="#E5E5E5">have to do better and</font><font color="#CCCCCC"> so the fred's</font><font color="#E5E5E5"> verb</font>

140
00:06:32,300 --> 00:06:37,490
and know the interesting<font color="#E5E5E5"> thing</font><font color="#CCCCCC"> is about</font>

141
00:06:35,509 --> 00:06:38,930
Fred's<font color="#CCCCCC"> is you can't</font><font color="#E5E5E5"> really fire find out</font>

142
00:06:37,490 --> 00:06:41,770
like who invented<font color="#CCCCCC"> an</font><font color="#E5E5E5"> but</font><font color="#CCCCCC"> they're</font>

143
00:06:38,930 --> 00:06:48,289
probably<font color="#E5E5E5"> the person was</font><font color="#CCCCCC"> like too ashamed</font>

144
00:06:41,770 --> 00:06:53,180
okay so so<font color="#CCCCCC"> what we have to deal with</font>

145
00:06:48,289 --> 00:06:56,150
<font color="#E5E5E5">nowadays</font><font color="#CCCCCC"> is this kind of</font><font color="#E5E5E5"> thing</font><font color="#CCCCCC"> we have</font>

146
00:06:53,180 --> 00:06:57,349
this<font color="#CCCCCC"> asking function which loops</font><font color="#E5E5E5"> like a</font>

147
00:06:56,150 --> 00:06:59,539
function<font color="#E5E5E5"> but it's not not</font><font color="#CCCCCC"> really a</font>

148
00:06:57,349 --> 00:07:02,750
function<font color="#CCCCCC"> of</font><font color="#E5E5E5"> it because you would</font><font color="#CCCCCC"> expect</font>

149
00:06:59,539 --> 00:07:05,000
it to<font color="#E5E5E5"> do whatever is inside the block</font>

150
00:07:02,750 --> 00:07:06,259
<font color="#E5E5E5">and then</font><font color="#CCCCCC"> return as a normal function but</font>

151
00:07:05,000 --> 00:07:09,530
it doesn't<font color="#E5E5E5"> if the returns immediately</font>

152
00:07:06,259 --> 00:07:13,340
<font color="#E5E5E5">and then at some later point the</font><font color="#CCCCCC"> dicing</font>

153
00:07:09,530 --> 00:07:15,380
<font color="#E5E5E5">part is is done so if you just look at</font>

154
00:07:13,340 --> 00:07:17,419
these men naively as if this was a

155
00:07:15,380 --> 00:07:19,099
normal function you would expect it

156
00:07:17,419 --> 00:07:21,770
should print<font color="#E5E5E5"> one and then to bring free</font>

157
00:07:19,099 --> 00:07:24,139
and then between<font color="#CCCCCC"> five and four and</font><font color="#E5E5E5"> two</font>

158
00:07:21,770 --> 00:07:26,150
but actually<font color="#CCCCCC"> what you have is one two</font>

159
00:07:24,139 --> 00:07:31,550
<font color="#E5E5E5">and that's this part is executed three</font>

160
00:07:26,150 --> 00:07:34,210
four and<font color="#CCCCCC"> then five so it's very and yeah</font>

161
00:07:31,550 --> 00:07:38,330
<font color="#CCCCCC">and it gets</font><font color="#E5E5E5"> even</font><font color="#CCCCCC"> worse in JavaScript</font>

162
00:07:34,210 --> 00:07:41,090
<font color="#CCCCCC">there basically that those functions are</font>

163
00:07:38,330 --> 00:07:42,859
anonymous<font color="#E5E5E5"> and nested inside the code and</font>

164
00:07:41,090 --> 00:07:48,198
this looks<font color="#E5E5E5"> like a normal stress fracture</font>

165
00:07:42,860 --> 00:07:50,659
code<font color="#E5E5E5"> but it's it executes in very</font>

166
00:07:48,199 --> 00:07:52,669
different ways<font color="#E5E5E5"> so the the layout of the</font>

167
00:07:50,659 --> 00:07:55,310
program has basically nothing to do with

168
00:07:52,669 --> 00:07:58,639
the<font color="#E5E5E5"> order of execution</font><font color="#CCCCCC"> right</font><font color="#E5E5E5"> so what</font>

169
00:07:55,310 --> 00:08:02,990
<font color="#CCCCCC">what you see here is 1 3 5 4 2 was</font>

170
00:07:58,639 --> 00:08:07,940
printed out is 1 2<font color="#CCCCCC"> 3</font><font color="#E5E5E5"> 4 5</font>

171
00:08:02,990 --> 00:08:12,080
I guess well<font color="#CCCCCC"> okay the other</font><font color="#E5E5E5"> option to do</font>

172
00:08:07,940 --> 00:08:13,610
it<font color="#E5E5E5"> in a plastic state machines</font><font color="#CCCCCC"> very very</font>

173
00:08:12,080 --> 00:08:19,099
remember like<font color="#CCCCCC"> a what state you are in</font>

174
00:08:13,610 --> 00:08:22,099
and<font color="#E5E5E5"> variable and well this is at least</font>

175
00:08:19,099 --> 00:08:24,259
<font color="#E5E5E5">explicit about</font><font color="#CCCCCC"> what God is doing so you</font>

176
00:08:22,099 --> 00:08:25,969
go<font color="#CCCCCC"> you are</font><font color="#E5E5E5"> in this state so you switch</font>

177
00:08:24,259 --> 00:08:27,710
to a<font color="#E5E5E5"> different state you grow</font><font color="#CCCCCC"> launch</font><font color="#E5E5E5"> a</font>

178
00:08:25,969 --> 00:08:31,190
sinkhole<font color="#CCCCCC"> and at some later</font><font color="#E5E5E5"> point the</font>

179
00:08:27,710 --> 00:08:33,770
function schools again with the reading

180
00:08:31,190 --> 00:08:36,140
done<font color="#E5E5E5"> message and other part of the same</font>

181
00:08:33,770 --> 00:08:38,199
machine is executed but you know<font color="#E5E5E5"> you</font>

182
00:08:36,140 --> 00:08:40,640
look<font color="#E5E5E5"> at his coat rack it's terrible and</font>

183
00:08:38,200 --> 00:08:42,529
<font color="#E5E5E5">this is the</font><font color="#CCCCCC"> one slide but</font><font color="#E5E5E5"> if you look at</font>

184
00:08:40,640 --> 00:08:43,340
the real implementation it's like pages

185
00:08:42,529 --> 00:08:45,650
<font color="#CCCCCC">at page</font>

186
00:08:43,340 --> 00:08:49,480
of this kind of stuff no nobody<font color="#E5E5E5"> can</font>

187
00:08:45,650 --> 00:08:49,480
really<font color="#E5E5E5"> electro spit to that first side</font>

188
00:08:49,900 --> 00:08:58,160
so then enter go enter a Google rank so

189
00:08:55,520 --> 00:08:59,000
the nice<font color="#E5E5E5"> thing about going is</font><font color="#CCCCCC"> that it</font>

190
00:08:58,160 --> 00:09:02,060
introduced

191
00:08:59,000 --> 00:09:04,100
<font color="#E5E5E5">co-routines as a firm was first class</font>

192
00:09:02,060 --> 00:09:07,250
citizen and you are back<font color="#E5E5E5"> to the</font><font color="#CCCCCC"> old</font>

193
00:09:04,100 --> 00:09:08,990
unique style programming<font color="#CCCCCC"> where a very</font>

194
00:09:07,250 --> 00:09:11,270
<font color="#CCCCCC">basic elantra process for each</font>

195
00:09:08,990 --> 00:09:13,160
<font color="#CCCCCC">connection</font><font color="#E5E5E5"> and it's nice and</font><font color="#CCCCCC"> sequential</font>

196
00:09:11,270 --> 00:09:15,230
<font color="#E5E5E5">except it's not the process is</font><font color="#CCCCCC"> the core</font>

197
00:09:13,160 --> 00:09:17,719
routine<font color="#CCCCCC"> which means</font><font color="#E5E5E5"> it's cheap my god</font>

198
00:09:15,230 --> 00:09:19,310
<font color="#CCCCCC">this tag is at the</font><font color="#E5E5E5"> beginning like two</font>

199
00:09:17,720 --> 00:09:21,110
<font color="#CCCCCC">kilobytes</font><font color="#E5E5E5"> and</font><font color="#CCCCCC"> the context which is</font>

200
00:09:19,310 --> 00:09:25,760
<font color="#E5E5E5">pretty quick like 20 nanoseconds or</font>

201
00:09:21,110 --> 00:09:29,950
something so<font color="#E5E5E5"> okay so it seems</font><font color="#CCCCCC"> that we</font>

202
00:09:25,760 --> 00:09:32,870
are done but what's wrong<font color="#E5E5E5"> with the go to</font>

203
00:09:29,950 --> 00:09:35,120
<font color="#CCCCCC">we've go</font><font color="#E5E5E5"> contract watching of</font><font color="#CCCCCC"> Quran T</font>

204
00:09:32,870 --> 00:09:38,990
<font color="#E5E5E5">coroutine you see it kind of looks</font><font color="#CCCCCC"> like</font>

205
00:09:35,120 --> 00:09:43,040
<font color="#E5E5E5">the old go because it's in one way it</font>

206
00:09:38,990 --> 00:09:45,560
<font color="#CCCCCC">just continues but in the</font><font color="#E5E5E5"> background</font>

207
00:09:43,040 --> 00:09:47,780
somehow the control flow<font color="#E5E5E5"> just jumps away</font>

208
00:09:45,560 --> 00:09:50,810
some different function<font color="#E5E5E5"> it's it's very</font>

209
00:09:47,780 --> 00:09:52,930
<font color="#E5E5E5">similar to go in a way so and you have</font>

210
00:09:50,810 --> 00:09:55,939
the same problem as the<font color="#CCCCCC"> VB had before</font><font color="#E5E5E5"> so</font>

211
00:09:52,930 --> 00:09:58,760
once again Bob launches the core<font color="#CCCCCC"> routine</font>

212
00:09:55,940 --> 00:10:00,920
<font color="#E5E5E5">from Alice's library the vigilance is a</font>

213
00:09:58,760 --> 00:10:03,140
call from<font color="#E5E5E5"> calling library and calling</font>

214
00:10:00,920 --> 00:10:04,160
<font color="#E5E5E5">them does go and</font><font color="#CCCCCC"> launch</font><font color="#E5E5E5"> is a core</font>

215
00:10:03,140 --> 00:10:07,760
routine which is running<font color="#E5E5E5"> in the</font>

216
00:10:04,160 --> 00:10:10,550
<font color="#CCCCCC">background and the core returns to to</font>

217
00:10:07,760 --> 00:10:13,430
Bob's code and Bob things<font color="#CCCCCC"> okay the the</font>

218
00:10:10,550 --> 00:10:15,829
<font color="#E5E5E5">barfing is done</font><font color="#CCCCCC"> but</font><font color="#E5E5E5"> they're sexually</font>

219
00:10:13,430 --> 00:10:17,589
<font color="#CCCCCC">currently running</font><font color="#E5E5E5"> a background and</font><font color="#CCCCCC"> bob</font>

220
00:10:15,830 --> 00:10:22,400
has<font color="#CCCCCC"> no idea</font>

221
00:10:17,590 --> 00:10:25,070
so it's transitive again like if any of

222
00:10:22,400 --> 00:10:27,680
your dependencies<font color="#E5E5E5"> launch is a go routine</font>

223
00:10:25,070 --> 00:10:31,250
<font color="#CCCCCC">in the</font><font color="#E5E5E5"> background you have the old</font>

224
00:10:27,680 --> 00:10:33,579
program<font color="#E5E5E5"> from</font><font color="#CCCCCC"> fifty</font><font color="#E5E5E5"> years ago we've you</font>

225
00:10:31,250 --> 00:10:37,940
<font color="#CCCCCC">know this viral to go that big bad go to</font>

226
00:10:33,580 --> 00:10:40,760
so how easy<font color="#E5E5E5"> is it to fix so one would</font>

227
00:10:37,940 --> 00:10:43,460
<font color="#E5E5E5">say</font><font color="#CCCCCC"> okay let's</font><font color="#E5E5E5"> make let's make a routine</font>

228
00:10:40,760 --> 00:10:44,630
<font color="#CCCCCC">scope right so we have a scope if you</font>

229
00:10:43,460 --> 00:10:45,710
<font color="#E5E5E5">launch a quarantine and we're going to</font>

230
00:10:44,630 --> 00:10:47,600
be get to<font color="#CCCCCC"> the end</font><font color="#E5E5E5"> of the scope the</font>

231
00:10:45,710 --> 00:10:49,970
<font color="#E5E5E5">quarantine will be canceled and that's</font>

232
00:10:47,600 --> 00:10:53,770
it<font color="#CCCCCC"> except that that</font><font color="#E5E5E5"> doesn't really</font><font color="#CCCCCC"> work</font>

233
00:10:49,970 --> 00:10:56,410
<font color="#CCCCCC">because mmm</font><font color="#E5E5E5"> look here it is the class</font>

234
00:10:53,770 --> 00:10:58,689
cold enough<font color="#CCCCCC"> wrinkles</font><font color="#E5E5E5"> we have</font><font color="#CCCCCC"> a server</font>

235
00:10:56,410 --> 00:11:00,160
<font color="#CCCCCC">except</font><font color="#E5E5E5"> connections and each connection</font>

236
00:10:58,690 --> 00:11:02,590
<font color="#E5E5E5">is handled by a handler which is a</font>

237
00:11:00,160 --> 00:11:04,650
<font color="#E5E5E5">separate coroutine</font><font color="#CCCCCC"> but if it was</font>

238
00:11:02,590 --> 00:11:06,880
<font color="#CCCCCC">canceled at the</font><font color="#E5E5E5"> end of the block</font>

239
00:11:04,650 --> 00:11:08,140
well it would be<font color="#E5E5E5"> actually canceled</font>

240
00:11:06,880 --> 00:11:09,850
immediately<font color="#E5E5E5"> and</font><font color="#CCCCCC"> ah</font><font color="#E5E5E5"> nothing would happen</font>

241
00:11:08,140 --> 00:11:12,220
<font color="#CCCCCC">so that's not</font><font color="#E5E5E5"> good enough</font>

242
00:11:09,850 --> 00:11:14,080
<font color="#CCCCCC">so what we</font><font color="#E5E5E5"> really need</font><font color="#CCCCCC"> is like two</font>

243
00:11:12,220 --> 00:11:15,880
different<font color="#E5E5E5"> different kind of scopes one</font>

244
00:11:14,080 --> 00:11:19,570
is like the normal scope<font color="#E5E5E5"> and one is like</font>

245
00:11:15,880 --> 00:11:22,150
extent the better<font color="#E5E5E5"> scope which cancels</font>

246
00:11:19,570 --> 00:11:25,570
<font color="#E5E5E5">order coroutines that the wrong that</font>

247
00:11:22,150 --> 00:11:31,300
were launched inside<font color="#E5E5E5"> it all right so</font>

248
00:11:25,570 --> 00:11:33,430
this is in<font color="#CCCCCC"> C this is this</font><font color="#E5E5E5"> is code using</font>

249
00:11:31,300 --> 00:11:35,650
a library<font color="#E5E5E5"> that I wrote called video and</font>

250
00:11:33,430 --> 00:11:37,660
basically<font color="#CCCCCC"> you see that the two scopes</font>

251
00:11:35,650 --> 00:11:39,790
here there is a<font color="#E5E5E5"> faint</font>

252
00:11:37,660 --> 00:11:41,829
bundle<font color="#CCCCCC"> it's a bundle</font><font color="#E5E5E5"> of coroutines you</font>

253
00:11:39,790 --> 00:11:44,199
initialize it there in in the<font color="#CCCCCC"> vial</font>

254
00:11:41,830 --> 00:11:46,930
you<font color="#E5E5E5"> allow any any number of core</font>

255
00:11:44,200 --> 00:11:48,250
<font color="#E5E5E5">routines inside it and once you want to</font>

256
00:11:46,930 --> 00:11:50,229
shut<font color="#CCCCCC"> down your</font><font color="#E5E5E5"> server</font><font color="#CCCCCC"> or something you</font>

257
00:11:48,250 --> 00:11:52,390
jump out<font color="#E5E5E5"> of the loop</font><font color="#CCCCCC"> here with</font><font color="#E5E5E5"> the break</font>

258
00:11:50,230 --> 00:11:55,210
<font color="#E5E5E5">and you close the bundle and that</font>

259
00:11:52,390 --> 00:11:57,250
cancels all<font color="#CCCCCC"> the core qualities</font><font color="#E5E5E5"> so it's</font>

260
00:11:55,210 --> 00:12:01,240
kind<font color="#CCCCCC"> of you see it's indented</font><font color="#E5E5E5"> like no</font>

261
00:11:57,250 --> 00:12:03,430
nicely structured<font color="#E5E5E5"> so there are several</font>

262
00:12:01,240 --> 00:12:08,380
languages that implement it is like this

263
00:12:03,430 --> 00:12:10,060
<font color="#E5E5E5">is in Python library court trial</font><font color="#CCCCCC"> bit</font>

264
00:12:08,380 --> 00:12:12,160
which does the pretty similar thing

265
00:12:10,060 --> 00:12:14,050
except<font color="#CCCCCC"> these nicest so</font><font color="#E5E5E5"> you open</font><font color="#CCCCCC"> nothing</font>

266
00:12:12,160 --> 00:12:16,750
the<font color="#E5E5E5"> corner nursery which is the same as</font>

267
00:12:14,050 --> 00:12:19,089
<font color="#E5E5E5">the bundle in previous example and yeah</font>

268
00:12:16,750 --> 00:12:20,920
you basically do the same<font color="#E5E5E5"> thing you</font>

269
00:12:19,090 --> 00:12:22,450
launch routines and once you get<font color="#E5E5E5"> out of</font>

270
00:12:20,920 --> 00:12:30,010
<font color="#CCCCCC">the blow of the Dead block or the</font>

271
00:12:22,450 --> 00:12:32,080
<font color="#CCCCCC">co-routines are</font><font color="#E5E5E5"> canceled so is that it</font>

272
00:12:30,010 --> 00:12:34,330
is that is it easy so there<font color="#E5E5E5"> are there</font>

273
00:12:32,080 --> 00:12:36,400
<font color="#E5E5E5">are some open problems here it says we</font>

274
00:12:34,330 --> 00:12:37,930
<font color="#CCCCCC">are not the other</font><font color="#E5E5E5"> like for example that</font>

275
00:12:36,400 --> 00:12:40,560
there is a difference between<font color="#CCCCCC"> how little</font>

276
00:12:37,930 --> 00:12:43,739
handles the termination and<font color="#CCCCCC"> outre all</font>

277
00:12:40,560 --> 00:12:46,930
have<font color="#CCCCCC"> this determination what Rio does is</font>

278
00:12:43,740 --> 00:12:48,400
you story or<font color="#E5E5E5"> nursery you</font><font color="#CCCCCC"> launch freako</font>

279
00:12:46,930 --> 00:12:50,380
routines<font color="#E5E5E5"> and when you get to</font><font color="#CCCCCC"> an</font><font color="#E5E5E5"> the</font>

280
00:12:48,400 --> 00:12:52,030
block<font color="#CCCCCC"> waits waits till all of them are</font>

281
00:12:50,380 --> 00:12:55,720
<font color="#CCCCCC">finished and</font><font color="#E5E5E5"> whatever finish it just</font>

282
00:12:52,030 --> 00:12:59,319
continues and if there is an error in

283
00:12:55,720 --> 00:13:01,300
<font color="#E5E5E5">any of them you just write an exception</font>

284
00:12:59,320 --> 00:13:03,400
and when the exception reads reaches

285
00:13:01,300 --> 00:13:06,819
this point it cancels all the other

286
00:13:03,400 --> 00:13:08,980
coroutines and and then it continues

287
00:13:06,819 --> 00:13:12,849
<font color="#CCCCCC">lib deal that does it differently so</font>

288
00:13:08,980 --> 00:13:15,459
there you open<font color="#E5E5E5"> a bundle you run some</font>

289
00:13:12,850 --> 00:13:17,800
threads<font color="#E5E5E5"> and at some point you say</font><font color="#CCCCCC"> closed</font>

290
00:13:15,459 --> 00:13:22,660
bundle and at that point the coroutines

291
00:13:17,800 --> 00:13:24,459
are closed<font color="#E5E5E5"> so so the</font><font color="#CCCCCC"> the difference</font>

292
00:13:22,660 --> 00:13:25,809
really is that<font color="#CCCCCC"> in this case you have</font>

293
00:13:24,459 --> 00:13:27,878
<font color="#E5E5E5">work I kind of like main thread which is</font>

294
00:13:25,809 --> 00:13:30,219
in control<font color="#CCCCCC"> a lot of threads in</font><font color="#E5E5E5"> the</font>

295
00:13:27,879 --> 00:13:34,300
article<font color="#E5E5E5"> other case like all of them are</font>

296
00:13:30,220 --> 00:13:36,149
created<font color="#E5E5E5"> equal and and there's no like</font>

297
00:13:34,300 --> 00:13:38,979
the controller and the control

298
00:13:36,149 --> 00:13:42,040
so which way is<font color="#E5E5E5"> better</font><font color="#CCCCCC"> you say it's</font>

299
00:13:38,980 --> 00:13:44,439
<font color="#E5E5E5">pretty hard to tell because in the trial</font>

300
00:13:42,040 --> 00:13:46,149
version<font color="#E5E5E5"> you have this nice error</font>

301
00:13:44,439 --> 00:13:48,040
propagation where<font color="#E5E5E5"> you throw an error and</font>

302
00:13:46,149 --> 00:13:50,379
the error<font color="#E5E5E5"> gets to the color of</font><font color="#CCCCCC"> coroutine</font>

303
00:13:48,040 --> 00:13:54,569
and and it bubbles<font color="#E5E5E5"> up until it</font><font color="#CCCCCC"> error</font>

304
00:13:50,379 --> 00:13:58,839
<font color="#E5E5E5">which is</font><font color="#CCCCCC"> main</font><font color="#E5E5E5"> but the problem</font><font color="#CCCCCC"> there is</font>

305
00:13:54,569 --> 00:14:02,529
<font color="#E5E5E5">if that happens then it kind of looks</font>

306
00:13:58,839 --> 00:14:04,749
like<font color="#E5E5E5"> that one of the one of</font><font color="#CCCCCC"> the core</font>

307
00:14:02,529 --> 00:14:06,999
routines can<font color="#E5E5E5"> cancel its siblings and</font>

308
00:14:04,749 --> 00:14:09,389
<font color="#E5E5E5">even its parents and</font><font color="#CCCCCC"> it's very like</font>

309
00:14:06,999 --> 00:14:13,480
<font color="#CCCCCC">unstructured way of doing</font><font color="#E5E5E5"> stuff</font><font color="#CCCCCC"> so</font>

310
00:14:09,389 --> 00:14:15,939
<font color="#E5E5E5">that's not nice about it so it would be</font>

311
00:14:13,480 --> 00:14:17,529
nice<font color="#CCCCCC"> to know like better we can combine</font>

312
00:14:15,939 --> 00:14:20,490
the two approaches<font color="#CCCCCC"> that we would have</font>

313
00:14:17,529 --> 00:14:23,709
nice error handling<font color="#E5E5E5"> and kind of nice and</font>

314
00:14:20,490 --> 00:14:28,629
conflation<font color="#E5E5E5"> there co-routine kind of</font>

315
00:14:23,709 --> 00:14:31,628
<font color="#CCCCCC">cancels parents</font><font color="#E5E5E5"> okay so some other</font>

316
00:14:28,629 --> 00:14:34,990
<font color="#E5E5E5">problems</font><font color="#CCCCCC"> that are</font><font color="#E5E5E5"> still unsolved will</font>

317
00:14:31,629 --> 00:14:37,569
partially so how would<font color="#CCCCCC"> we</font><font color="#E5E5E5"> go how will</font>

318
00:14:34,990 --> 00:14:40,269
you<font color="#E5E5E5"> handle timeouts</font><font color="#CCCCCC"> so one way is to use</font>

319
00:14:37,569 --> 00:14:42,729
<font color="#E5E5E5">something like it's going</font><font color="#CCCCCC"> complex</font><font color="#E5E5E5"> but</font><font color="#CCCCCC"> we</font>

320
00:14:40,269 --> 00:14:45,579
<font color="#CCCCCC">have an object</font><font color="#E5E5E5"> on which you can call</font><font color="#CCCCCC"> I</font>

321
00:14:42,730 --> 00:14:47,740
<font color="#CCCCCC">cancel</font><font color="#E5E5E5"> the panel function and it will</font>

322
00:14:45,579 --> 00:14:49,359
<font color="#CCCCCC">occur it will cancel after a door is</font><font color="#E5E5E5"> no</font>

323
00:14:47,740 --> 00:14:53,379
you can<font color="#CCCCCC"> parse it manually to each</font>

324
00:14:49,360 --> 00:14:55,059
function<font color="#E5E5E5"> who knows better</font><font color="#CCCCCC"> great spirits</font>

325
00:14:53,379 --> 00:14:59,529
that's a hard<font color="#E5E5E5"> problem so for example</font><font color="#CCCCCC"> you</font>

326
00:14:55,059 --> 00:15:02,139
want to shout<font color="#CCCCCC"> out a</font><font color="#E5E5E5"> server and you</font><font color="#CCCCCC"> say</font>

327
00:14:59,529 --> 00:15:03,579
<font color="#E5E5E5">okay I</font><font color="#CCCCCC"> am</font><font color="#E5E5E5"> giving you like five seconds</font>

328
00:15:02,139 --> 00:15:05,769
to finish<font color="#E5E5E5"> or whatever stuff</font><font color="#CCCCCC"> you are</font>

329
00:15:03,579 --> 00:15:08,170
<font color="#CCCCCC">doing to close the connections</font><font color="#E5E5E5"> decently</font>

330
00:15:05,769 --> 00:15:11,810
and then shut out<font color="#E5E5E5"> so we don't have a</font>

331
00:15:08,170 --> 00:15:14,779
good<font color="#E5E5E5"> story for</font><font color="#CCCCCC"> that</font><font color="#E5E5E5"> okay I'm sorry</font>

332
00:15:11,810 --> 00:15:15,229
how the admin foot yeah timer started a

333
00:15:14,779 --> 00:15:17,120
bit late

334
00:15:15,230 --> 00:15:17,340
<font color="#CCCCCC">Thanks so thank</font><font color="#E5E5E5"> you</font><font color="#CCCCCC"> very much for</font><font color="#E5E5E5"> this</font>

335
00:15:17,120 --> 00:15:21,059
<font color="#E5E5E5">all</font>

336
00:15:17,340 --> 00:15:21,059
[Applause]

