1
00:00:05,350 --> 00:00:10,370
<font color="#E5E5E5">okay hi everybody</font><font color="#CCCCCC"> good afternoon my name</font>

2
00:00:09,230 --> 00:00:14,389
<font color="#E5E5E5">is you and Slater</font>

3
00:00:10,370 --> 00:00:18,320
<font color="#E5E5E5">and I want to talk to you</font><font color="#CCCCCC"> today it's</font>

4
00:00:14,389 --> 00:00:20,169
gonna be<font color="#E5E5E5"> short talk 20 minutes about why</font>

5
00:00:18,320 --> 00:00:25,189
you want to shrink<font color="#E5E5E5"> your container and</font>

6
00:00:20,170 --> 00:00:27,830
some tools for<font color="#CCCCCC"> doing so a couple of</font>

7
00:00:25,189 --> 00:00:30,920
disclaimers<font color="#E5E5E5"> before I start one is I work</font>

8
00:00:27,830 --> 00:00:32,720
for Oracle<font color="#E5E5E5"> but what I'm talking</font><font color="#CCCCCC"> about</font>

9
00:00:30,920 --> 00:00:36,199
<font color="#E5E5E5">today isn't actually my day job so</font><font color="#CCCCCC"> I'm</font>

10
00:00:32,720 --> 00:00:39,559
here<font color="#CCCCCC"> in a personal capacity all views</font>

11
00:00:36,199 --> 00:00:41,780
expressed<font color="#E5E5E5"> to my own I've been a minor</font>

12
00:00:39,559 --> 00:00:44,049
contributor to Smith and crash cart

13
00:00:41,780 --> 00:00:48,140
which the tools that<font color="#CCCCCC"> I'm</font><font color="#E5E5E5"> talking</font><font color="#CCCCCC"> about</font>

14
00:00:44,049 --> 00:00:52,580
<font color="#CCCCCC">mainly as a user and tester and I'm not</font>

15
00:00:48,140 --> 00:00:56,839
a<font color="#CCCCCC"> dietician but I do know that if you</font>

16
00:00:52,580 --> 00:00:59,420
eat<font color="#E5E5E5"> too much of this then you will get</font>

17
00:00:56,839 --> 00:01:03,140
fat<font color="#E5E5E5"> and your scales will tell you</font>

18
00:00:59,420 --> 00:01:05,869
horrible things<font color="#E5E5E5"> and the consequences for</font>

19
00:01:03,140 --> 00:01:08,330
<font color="#CCCCCC">people of getting fat</font><font color="#E5E5E5"> are not good</font>

20
00:01:05,869 --> 00:01:10,130
I mean I'm fat<font color="#CCCCCC"> this is</font><font color="#E5E5E5"> horrible you know</font>

21
00:01:08,330 --> 00:01:12,470
you can diabetes heart disease stroke

22
00:01:10,130 --> 00:01:16,190
<font color="#E5E5E5">and you know a thousand other horrible</font>

23
00:01:12,470 --> 00:01:19,280
<font color="#E5E5E5">ways to die so fats bad for people and</font>

24
00:01:16,190 --> 00:01:21,920
it's not great<font color="#CCCCCC"> for</font><font color="#E5E5E5"> software either we</font>

25
00:01:19,280 --> 00:01:24,050
tend to see layers on top of layers<font color="#E5E5E5"> and</font>

26
00:01:21,920 --> 00:01:25,850
it never gets smaller<font color="#E5E5E5"> and the developers</font>

27
00:01:24,050 --> 00:01:29,000
were bigger and<font color="#E5E5E5"> baggy</font><font color="#CCCCCC"> our t-shirts as</font>

28
00:01:25,850 --> 00:01:31,429
time goes on<font color="#E5E5E5"> and this software starts to</font>

29
00:01:29,000 --> 00:01:33,530
<font color="#CCCCCC">become too big to fail which very</font>

30
00:01:31,430 --> 00:01:35,240
rapidly means that<font color="#E5E5E5"> nobody dares to</font>

31
00:01:33,530 --> 00:01:38,900
<font color="#E5E5E5">change it so</font><font color="#CCCCCC"> it's too difficult to</font>

32
00:01:35,240 --> 00:01:41,179
<font color="#CCCCCC">change</font><font color="#E5E5E5"> and there's a CTO</font><font color="#CCCCCC"> that I was</font>

33
00:01:38,900 --> 00:01:44,210
speaking<font color="#CCCCCC"> to</font><font color="#E5E5E5"> in Finland about 18 months</font>

34
00:01:41,180 --> 00:01:46,730
<font color="#E5E5E5">ago and he said</font><font color="#CCCCCC"> he's worked out</font><font color="#E5E5E5"> that it</font>

35
00:01:44,210 --> 00:01:49,610
would take<font color="#E5E5E5"> about two</font><font color="#CCCCCC"> years</font><font color="#E5E5E5"> to deploy</font>

36
00:01:46,730 --> 00:01:53,690
<font color="#E5E5E5">hello world as a feature into production</font>

37
00:01:49,610 --> 00:01:55,970
<font color="#CCCCCC">on one of their critical systems</font><font color="#E5E5E5"> so the</font>

38
00:01:53,690 --> 00:01:58,610
<font color="#E5E5E5">software</font><font color="#CCCCCC"> is overburdened it's</font><font color="#E5E5E5"> difficult</font>

39
00:01:55,970 --> 00:02:02,510
<font color="#E5E5E5">to</font><font color="#CCCCCC"> deploy and the</font><font color="#E5E5E5"> difficult deploy makes</font>

40
00:01:58,610 --> 00:02:05,840
it difficult<font color="#E5E5E5"> to scale so</font><font color="#CCCCCC"> fat</font><font color="#E5E5E5"> software</font>

41
00:02:02,510 --> 00:02:08,299
<font color="#E5E5E5">it's not great so how do we start</font><font color="#CCCCCC"> to</font>

42
00:02:05,840 --> 00:02:11,959
<font color="#CCCCCC">make our software or our overall stack</font>

43
00:02:08,299 --> 00:02:15,470
<font color="#E5E5E5">thinner well we start by trying</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> lose</font>

44
00:02:11,959 --> 00:02:17,000
some<font color="#CCCCCC"> layers</font><font color="#E5E5E5"> so when I started out the</font>

45
00:02:15,470 --> 00:02:17,960
only<font color="#E5E5E5"> way that</font><font color="#CCCCCC"> you ever did</font><font color="#E5E5E5"> any</font>

46
00:02:17,000 --> 00:02:20,000
deployments was

47
00:02:17,960 --> 00:02:22,580
physical<font color="#E5E5E5"> you had to worry about hardware</font>

48
00:02:20,000 --> 00:02:26,030
<font color="#E5E5E5">you had to worry</font><font color="#CCCCCC"> about the operating</font>

49
00:02:22,580 --> 00:02:29,120
<font color="#E5E5E5">system and you had multiple services and</font>

50
00:02:26,030 --> 00:02:31,070
<font color="#E5E5E5">applications running on a box and the</font>

51
00:02:29,120 --> 00:02:33,380
<font color="#CCCCCC">box was often shared which meant that</font>

52
00:02:31,070 --> 00:02:36,530
<font color="#E5E5E5">various people</font><font color="#CCCCCC"> argued about what</font><font color="#E5E5E5"> level</font>

53
00:02:33,380 --> 00:02:39,590
of the OS should be at what libraries

54
00:02:36,530 --> 00:02:41,530
<font color="#CCCCCC">should be on it so then we've managed to</font>

55
00:02:39,590 --> 00:02:44,630
<font color="#E5E5E5">lose the hardware layer by moving to</font>

56
00:02:41,530 --> 00:02:48,800
<font color="#E5E5E5">virtualization you</font><font color="#CCCCCC"> may have multiple</font>

57
00:02:44,630 --> 00:02:50,510
<font color="#E5E5E5">services and</font><font color="#CCCCCC"> applications in your</font><font color="#E5E5E5"> VM and</font>

58
00:02:48,800 --> 00:02:52,490
you've got the operating system<font color="#E5E5E5"> but at</font>

59
00:02:50,510 --> 00:02:55,120
least it's your operating system<font color="#E5E5E5"> and you</font>

60
00:02:52,490 --> 00:02:57,590
decide what release it set however

61
00:02:55,120 --> 00:03:00,410
<font color="#E5E5E5">carrying the OS around just to run an</font>

62
00:02:57,590 --> 00:03:04,310
application<font color="#CCCCCC"> on is it's heavy</font>

63
00:03:00,410 --> 00:03:06,320
<font color="#CCCCCC">so that's excess weight again so that</font>

64
00:03:04,310 --> 00:03:08,360
got shared when we<font color="#E5E5E5"> started to see people</font>

65
00:03:06,320 --> 00:03:09,950
<font color="#CCCCCC">move to containers and the containers</font>

66
00:03:08,360 --> 00:03:13,070
typically have a single service or

67
00:03:09,950 --> 00:03:17,200
application<font color="#CCCCCC"> in them</font><font color="#E5E5E5"> so everything's</font>

68
00:03:13,070 --> 00:03:21,799
great we're looking really<font color="#CCCCCC"> thin but</font>

69
00:03:17,200 --> 00:03:25,160
toffee anyone ever heard of toffee then

70
00:03:21,800 --> 00:03:28,630
on the<font color="#E5E5E5"> outside fat on the inside</font><font color="#CCCCCC"> so</font>

71
00:03:25,160 --> 00:03:31,690
there's two chaps here<font color="#E5E5E5"> they're the same</font>

72
00:03:28,630 --> 00:03:34,850
<font color="#E5E5E5">same age same gender</font>

73
00:03:31,690 --> 00:03:37,040
this guy's got about<font color="#E5E5E5"> two</font><font color="#CCCCCC"> litres of</font>

74
00:03:34,850 --> 00:03:40,010
<font color="#E5E5E5">internal body fat this poor sods got</font>

75
00:03:37,040 --> 00:03:42,230
nearly<font color="#CCCCCC"> six they both look the same they</font>

76
00:03:40,010 --> 00:03:50,090
<font color="#CCCCCC">both look thin</font><font color="#E5E5E5"> but</font><font color="#CCCCCC"> this</font><font color="#E5E5E5"> one's fat on the</font>

77
00:03:42,230 --> 00:03:51,410
inside<font color="#E5E5E5"> so why is my container toffee why</font>

78
00:03:50,090 --> 00:03:52,940
<font color="#E5E5E5">doesn't my container look fin on the</font>

79
00:03:51,410 --> 00:03:57,380
<font color="#E5E5E5">outside that's felt on the inside</font><font color="#CCCCCC"> and</font>

80
00:03:52,940 --> 00:04:00,620
the answer is that temptation<font color="#E5E5E5"> can be</font>

81
00:03:57,380 --> 00:04:02,750
very hard to<font color="#CCCCCC"> resist I think</font><font color="#E5E5E5"> this is a</font>

82
00:04:00,620 --> 00:04:05,540
really<font color="#E5E5E5"> good quote it's just basically</font>

83
00:04:02,750 --> 00:04:08,900
pointing out but docker makes it<font color="#E5E5E5"> too</font>

84
00:04:05,540 --> 00:04:10,459
damned<font color="#CCCCCC"> easy for</font><font color="#E5E5E5"> you to build containers</font>

85
00:04:08,900 --> 00:04:13,580
in a way it<font color="#CCCCCC"> makes it too easy you just</font>

86
00:04:10,460 --> 00:04:15,710
go<font color="#CCCCCC"> grab an image put it together</font><font color="#E5E5E5"> and</font>

87
00:04:13,580 --> 00:04:18,560
it's really<font color="#CCCCCC"> easy to create</font><font color="#E5E5E5"> a big</font>

88
00:04:15,710 --> 00:04:21,350
container full<font color="#CCCCCC"> of things that you didn't</font>

89
00:04:18,560 --> 00:04:24,580
necessarily want which can include<font color="#E5E5E5"> you</font>

90
00:04:21,350 --> 00:04:28,010
<font color="#CCCCCC">know</font><font color="#E5E5E5"> security holes and things like that</font>

91
00:04:24,580 --> 00:04:31,200
<font color="#E5E5E5">the docker</font><font color="#CCCCCC"> manual itself says one of</font><font color="#E5E5E5"> the</font>

92
00:04:28,010 --> 00:04:33,060
difficult things<font color="#CCCCCC"> about</font><font color="#E5E5E5"> building images</font>

93
00:04:31,200 --> 00:04:35,460
<font color="#E5E5E5">rolling the size because each command</font>

94
00:04:33,060 --> 00:04:37,410
lays down a new layer<font color="#E5E5E5"> and then you're</font>

95
00:04:35,460 --> 00:04:38,960
responsible<font color="#CCCCCC"> for kind of</font><font color="#E5E5E5"> cleaning it all</font>

96
00:04:37,410 --> 00:04:42,470
up

97
00:04:38,960 --> 00:04:46,109
what's wrong with fat containers<font color="#E5E5E5"> well</font>

98
00:04:42,470 --> 00:04:47,970
for a start<font color="#CCCCCC"> they're physically big</font><font color="#E5E5E5"> which</font>

99
00:04:46,110 --> 00:04:49,940
can<font color="#E5E5E5"> make them a pain to distribute if</font>

100
00:04:47,970 --> 00:04:52,620
you sending<font color="#E5E5E5"> them over networks and stuff</font>

101
00:04:49,940 --> 00:04:55,380
<font color="#CCCCCC">you know you can easily get up to nearly</font>

102
00:04:52,620 --> 00:04:57,660
a gig in size<font color="#E5E5E5"> you can use Alpine but</font>

103
00:04:55,380 --> 00:05:00,690
that also<font color="#E5E5E5"> brings its own</font><font color="#CCCCCC"> issues</font><font color="#E5E5E5"> and</font>

104
00:04:57,660 --> 00:05:04,520
there's just a<font color="#CCCCCC"> general issue around</font>

105
00:05:00,690 --> 00:05:08,340
bloat<font color="#E5E5E5"> again these things just get bigger</font>

106
00:05:04,520 --> 00:05:10,620
the<font color="#E5E5E5"> other thing is</font><font color="#CCCCCC"> that</font><font color="#E5E5E5"> for containers</font>

107
00:05:08,340 --> 00:05:12,630
as well<font color="#CCCCCC"> as for people</font><font color="#E5E5E5"> being fat can make</font>

108
00:05:10,620 --> 00:05:17,010
you feel it's secure<font color="#CCCCCC"> or it can</font><font color="#E5E5E5"> actually</font>

109
00:05:12,630 --> 00:05:19,350
make you genuinely<font color="#E5E5E5"> insecure so if you</font>

110
00:05:17,010 --> 00:05:22,560
put the whole of the Linux user space

111
00:05:19,350 --> 00:05:24,090
<font color="#E5E5E5">into your image that's a pretty big</font>

112
00:05:22,560 --> 00:05:26,910
attack surface that you're giving

113
00:05:24,090 --> 00:05:28,679
somebody<font color="#CCCCCC"> it also means that if</font><font color="#E5E5E5"> somebody</font>

114
00:05:26,910 --> 00:05:30,810
manages<font color="#E5E5E5"> to compromise your app and get</font>

115
00:05:28,680 --> 00:05:32,640
into the<font color="#CCCCCC"> conteiner there may be lots of</font>

116
00:05:30,810 --> 00:05:36,170
<font color="#E5E5E5">other stuff kicking around in there that</font>

117
00:05:32,640 --> 00:05:39,930
they<font color="#CCCCCC"> can then pick up and do damage with</font>

118
00:05:36,170 --> 00:05:42,540
another<font color="#E5E5E5"> area is around vulnerability</font>

119
00:05:39,930 --> 00:05:46,170
management<font color="#E5E5E5"> yeah containers are immutable</font>

120
00:05:42,540 --> 00:05:47,910
<font color="#CCCCCC">we can't patch a</font><font color="#E5E5E5"> running container what</font>

121
00:05:46,170 --> 00:05:51,270
we have to do is we have<font color="#E5E5E5"> to tear them</font>

122
00:05:47,910 --> 00:05:53,190
down<font color="#E5E5E5"> and</font><font color="#CCCCCC"> stand them up now if you've got</font>

123
00:05:51,270 --> 00:05:56,400
a whole fleet<font color="#CCCCCC"> of containers out there</font>

124
00:05:53,190 --> 00:05:58,320
and a<font color="#E5E5E5"> vulnerability comes up in a</font>

125
00:05:56,400 --> 00:06:01,469
<font color="#E5E5E5">library that's shared across all of them</font>

126
00:05:58,320 --> 00:06:03,810
<font color="#E5E5E5">you've got</font><font color="#CCCCCC"> a question you know number of</font>

127
00:06:01,470 --> 00:06:06,210
questions one<font color="#CCCCCC"> of which is you know do</font>

128
00:06:03,810 --> 00:06:08,160
does this container here really<font color="#E5E5E5"> need</font>

129
00:06:06,210 --> 00:06:09,469
that library<font color="#CCCCCC"> is that code actually</font><font color="#E5E5E5"> being</font>

130
00:06:08,160 --> 00:06:12,570
executed

131
00:06:09,470 --> 00:06:14,790
do<font color="#E5E5E5"> I need to tear all these containers</font>

132
00:06:12,570 --> 00:06:16,770
down and stand them<font color="#E5E5E5"> up and then you kind</font>

133
00:06:14,790 --> 00:06:19,470
of go<font color="#CCCCCC"> oh yeah to be safe I really need</font>

134
00:06:16,770 --> 00:06:21,510
<font color="#E5E5E5">to do it to all</font><font color="#CCCCCC"> of them</font><font color="#E5E5E5"> so what you want</font>

135
00:06:19,470 --> 00:06:25,950
<font color="#E5E5E5">to do is to only be patching the things</font>

136
00:06:21,510 --> 00:06:28,650
you need now this was<font color="#E5E5E5"> something</font><font color="#CCCCCC"> that I</font>

137
00:06:25,950 --> 00:06:32,570
actually came across<font color="#E5E5E5"> in real life this</font>

138
00:06:28,650 --> 00:06:36,659
is how<font color="#CCCCCC"> I got into this area because I</font>

139
00:06:32,570 --> 00:06:38,760
was<font color="#E5E5E5"> working with a customer and their</font>

140
00:06:36,660 --> 00:06:40,830
security<font color="#E5E5E5"> department were precisely</font>

141
00:06:38,760 --> 00:06:43,000
asking these<font color="#CCCCCC"> questions how are we sure</font>

142
00:06:40,830 --> 00:06:47,349
that<font color="#E5E5E5"> the code that</font><font color="#CCCCCC"> is in</font><font color="#E5E5E5"> the con</font>

143
00:06:43,000 --> 00:06:49,750
<font color="#CCCCCC">Pena's is the right code</font><font color="#E5E5E5"> how can we be</font>

144
00:06:47,350 --> 00:06:52,390
<font color="#CCCCCC">sure that we are tearing down and</font>

145
00:06:49,750 --> 00:06:56,350
replacing containers as necessary<font color="#E5E5E5"> but</font>

146
00:06:52,390 --> 00:07:00,460
<font color="#E5E5E5">not too often so this brought me into</font>

147
00:06:56,350 --> 00:07:04,480
the concept of micro containers<font color="#E5E5E5"> so a</font>

148
00:07:00,460 --> 00:07:07,659
micro container contains only<font color="#E5E5E5"> a single</font>

149
00:07:04,480 --> 00:07:10,330
executable<font color="#E5E5E5"> it's only the only the</font><font color="#CCCCCC"> thing</font>

150
00:07:07,660 --> 00:07:13,750
that you<font color="#E5E5E5"> need to run and the</font>

151
00:07:10,330 --> 00:07:15,820
dependencies<font color="#E5E5E5"> of that executable it runs</font>

152
00:07:13,750 --> 00:07:19,330
with a read<font color="#CCCCCC"> only root</font><font color="#E5E5E5"> filesystem and the</font>

153
00:07:15,820 --> 00:07:23,800
<font color="#E5E5E5">files are all owned and read by a single</font>

154
00:07:19,330 --> 00:07:25,690
user<font color="#E5E5E5"> the result is we eliminate the</font>

155
00:07:23,800 --> 00:07:28,030
layers<font color="#E5E5E5"> so</font><font color="#CCCCCC"> we reduce the</font><font color="#E5E5E5"> complexity of</font>

156
00:07:25,690 --> 00:07:30,520
the image it's fast and easy<font color="#CCCCCC"> to</font>

157
00:07:28,030 --> 00:07:32,559
distribute<font color="#E5E5E5"> because it's small we've got</font>

158
00:07:30,520 --> 00:07:35,140
a smaller attack surface because we've

159
00:07:32,560 --> 00:07:38,140
only<font color="#E5E5E5"> got the essentials</font><font color="#CCCCCC"> that we need in</font>

160
00:07:35,140 --> 00:07:41,560
that<font color="#E5E5E5"> image</font><font color="#CCCCCC"> and we have certainty</font><font color="#E5E5E5"> over</font>

161
00:07:38,140 --> 00:07:46,330
<font color="#CCCCCC">our vulnerabilities if there is an issue</font>

162
00:07:41,560 --> 00:07:51,580
with<font color="#CCCCCC"> a with a library that is contained</font>

163
00:07:46,330 --> 00:07:53,169
<font color="#E5E5E5">in that image then we know that it that</font>

164
00:07:51,580 --> 00:07:55,479
<font color="#E5E5E5">we have to tear it</font><font color="#CCCCCC"> down and stand it</font><font color="#E5E5E5"> up</font>

165
00:07:53,169 --> 00:08:01,750
<font color="#E5E5E5">because we know that that code is there</font>

166
00:07:55,479 --> 00:08:04,330
it<font color="#E5E5E5"> is required so made this case back</font><font color="#CCCCCC"> to</font>

167
00:08:01,750 --> 00:08:06,580
<font color="#CCCCCC">the</font><font color="#E5E5E5"> customers security department</font><font color="#CCCCCC"> and</font>

168
00:08:04,330 --> 00:08:10,479
they were like<font color="#CCCCCC"> ok yeah</font><font color="#E5E5E5"> yeah we're good</font>

169
00:08:06,580 --> 00:08:13,390
<font color="#CCCCCC">we're good with that so having</font>

170
00:08:10,479 --> 00:08:17,260
<font color="#E5E5E5">established that we want to have micro</font>

171
00:08:13,390 --> 00:08:21,190
containers how how do we<font color="#E5E5E5"> create them</font>

172
00:08:17,260 --> 00:08:24,099
<font color="#CCCCCC">what's the ways of</font><font color="#E5E5E5"> doing it so</font><font color="#CCCCCC"> the</font>

173
00:08:21,190 --> 00:08:27,360
oldest way was to use<font color="#CCCCCC"> something called</font><font color="#E5E5E5"> a</font>

174
00:08:24,100 --> 00:08:33,370
<font color="#E5E5E5">builder patent</font><font color="#CCCCCC"> is anybody ever done this</font>

175
00:08:27,360 --> 00:08:36,940
yeah<font color="#E5E5E5"> don't so with a builder</font><font color="#CCCCCC"> pattern you</font>

176
00:08:33,370 --> 00:08:38,789
have<font color="#CCCCCC"> a you have a</font><font color="#E5E5E5"> to docker files you</font>

177
00:08:36,940 --> 00:08:41,169
could<font color="#E5E5E5"> have more if you really wanted</font><font color="#CCCCCC"> to</font>

178
00:08:38,789 --> 00:08:44,020
<font color="#E5E5E5">you've got a development docker file</font>

179
00:08:41,169 --> 00:08:46,420
which creates a<font color="#E5E5E5"> fat image and within</font>

180
00:08:44,020 --> 00:08:49,980
that fat image you're going<font color="#CCCCCC"> to actually</font>

181
00:08:46,420 --> 00:08:52,780
do the build of your application<font color="#E5E5E5"> and</font>

182
00:08:49,980 --> 00:08:54,430
then<font color="#CCCCCC"> you have a production docker file</font>

183
00:08:52,780 --> 00:08:55,839
which is actually going to be your

184
00:08:54,430 --> 00:08:58,989
runtime<font color="#E5E5E5"> environment</font>

185
00:08:55,839 --> 00:09:02,379
and you have a build script<font color="#E5E5E5"> that is</font>

186
00:08:58,990 --> 00:09:04,540
<font color="#CCCCCC">going to run the</font><font color="#E5E5E5"> first dockerfile build</font>

187
00:09:02,379 --> 00:09:06,579
the software<font color="#CCCCCC"> that</font><font color="#E5E5E5"> you</font><font color="#CCCCCC"> want and</font><font color="#E5E5E5"> then</font>

188
00:09:04,540 --> 00:09:11,649
extract that<font color="#E5E5E5"> out and copy it into the</font>

189
00:09:06,579 --> 00:09:14,800
production<font color="#E5E5E5"> docker</font><font color="#CCCCCC"> vault</font><font color="#E5E5E5"> now there is no</font>

190
00:09:11,649 --> 00:09:18,610
reason<font color="#CCCCCC"> in principle why this</font><font color="#E5E5E5"> shouldn't</font>

191
00:09:14,800 --> 00:09:20,559
<font color="#CCCCCC">work but experience has</font><font color="#E5E5E5"> proven that it's</font>

192
00:09:18,610 --> 00:09:26,439
actually quite<font color="#E5E5E5"> difficult to maintain</font><font color="#CCCCCC"> and</font>

193
00:09:20,559 --> 00:09:30,699
it's<font color="#CCCCCC"> error-prone so nice people at</font>

194
00:09:26,439 --> 00:09:33,849
docker<font color="#CCCCCC"> as of docker</font><font color="#E5E5E5"> 1705</font><font color="#CCCCCC"> came up</font><font color="#E5E5E5"> with</font>

195
00:09:30,699 --> 00:09:35,680
the idea of multistage builds and with a

196
00:09:33,850 --> 00:09:38,319
multi-stage build you have<font color="#CCCCCC"> a single</font>

197
00:09:35,680 --> 00:09:42,128
docker file<font color="#E5E5E5"> and within that docker file</font>

198
00:09:38,319 --> 00:09:45,300
you can create successive images<font color="#CCCCCC"> and you</font>

199
00:09:42,129 --> 00:09:49,180
can copy from one<font color="#E5E5E5"> image to</font><font color="#CCCCCC"> another and</font>

200
00:09:45,300 --> 00:09:55,660
then that gives<font color="#E5E5E5"> you</font><font color="#CCCCCC"> a single</font><font color="#E5E5E5"> final image</font>

201
00:09:49,180 --> 00:09:59,769
<font color="#CCCCCC">that you</font><font color="#E5E5E5"> can then go and run so here is</font>

202
00:09:55,660 --> 00:10:03,959
an<font color="#E5E5E5"> example of a multi-stage build this</font>

203
00:09:59,769 --> 00:10:06,009
<font color="#E5E5E5">is this is actually to create</font><font color="#CCCCCC"> a</font>

204
00:10:03,959 --> 00:10:10,209
<font color="#E5E5E5">aesthetic website that's running in a</font>

205
00:10:06,009 --> 00:10:13,750
container<font color="#CCCCCC"> so one through</font><font color="#E5E5E5"> seven is</font>

206
00:10:10,209 --> 00:10:16,199
basically our development dock file<font color="#E5E5E5"> we</font>

207
00:10:13,750 --> 00:10:18,819
take the Ruby as our development image

208
00:10:16,199 --> 00:10:20,620
<font color="#CCCCCC">we install a few other things</font><font color="#E5E5E5"> including</font>

209
00:10:18,819 --> 00:10:24,279
Jekyll which is our static website

210
00:10:20,620 --> 00:10:27,009
builder and then we<font color="#E5E5E5"> run that so we've</font>

211
00:10:24,279 --> 00:10:29,620
now got<font color="#CCCCCC"> our static website and then this</font>

212
00:10:27,009 --> 00:10:32,769
these three lines<font color="#E5E5E5"> are our production</font>

213
00:10:29,620 --> 00:10:35,529
image which gives<font color="#CCCCCC"> us a nice skinny nginx</font>

214
00:10:32,769 --> 00:10:37,839
image we<font color="#CCCCCC"> just take the site directory</font>

215
00:10:35,529 --> 00:10:40,990
and copy<font color="#CCCCCC"> that in copying our nginx</font>

216
00:10:37,839 --> 00:10:42,790
config and<font color="#CCCCCC"> we're done</font><font color="#E5E5E5"> we've got</font><font color="#CCCCCC"> a</font><font color="#E5E5E5"> nice</font>

217
00:10:40,990 --> 00:10:47,079
skinny image with just<font color="#CCCCCC"> what we need for</font>

218
00:10:42,790 --> 00:10:49,240
<font color="#E5E5E5">our</font><font color="#CCCCCC"> website that's</font><font color="#E5E5E5"> fine if you've got</font>

219
00:10:47,079 --> 00:10:51,219
something<font color="#CCCCCC"> like a static binary</font><font color="#E5E5E5"> or a</font>

220
00:10:49,240 --> 00:10:53,800
static website something<font color="#E5E5E5"> that's</font>

221
00:10:51,220 --> 00:10:58,029
<font color="#E5E5E5">self-contained and it's easy to say what</font>

222
00:10:53,800 --> 00:11:01,839
<font color="#E5E5E5">you're</font><font color="#CCCCCC"> going to</font><font color="#E5E5E5"> move the issue is if</font>

223
00:10:58,029 --> 00:11:03,579
you've got dependencies that<font color="#E5E5E5"> aren't easy</font>

224
00:11:01,839 --> 00:11:06,579
to<font color="#E5E5E5"> wrap into the image and things that</font>

225
00:11:03,579 --> 00:11:08,819
<font color="#E5E5E5">you could</font><font color="#CCCCCC"> potentially forget because you</font>

226
00:11:06,579 --> 00:11:10,469
could be<font color="#CCCCCC"> sitting on the plane with the</font>

227
00:11:08,820 --> 00:11:11,820
<font color="#CCCCCC">and who's forgotten their teddy or the</font>

228
00:11:10,470 --> 00:11:15,720
business user who finds their

229
00:11:11,820 --> 00:11:18,150
functionality<font color="#E5E5E5"> isn't working</font><font color="#CCCCCC"> there's</font>

230
00:11:15,720 --> 00:11:20,310
another feature of<font color="#E5E5E5"> docker</font><font color="#CCCCCC"> an</font>

231
00:11:18,150 --> 00:11:22,740
experimental<font color="#E5E5E5"> feature called squash which</font>

232
00:11:20,310 --> 00:11:24,599
you know as the name suggests<font color="#CCCCCC"> you</font>

233
00:11:22,740 --> 00:11:27,900
basically squash everything<font color="#E5E5E5"> into a</font>

234
00:11:24,600 --> 00:11:30,060
single layer at the<font color="#E5E5E5"> end so you're</font>

235
00:11:27,900 --> 00:11:33,060
<font color="#E5E5E5">effectively doing that</font>

236
00:11:30,060 --> 00:11:36,390
I've tried squash and I've found it

237
00:11:33,060 --> 00:11:42,030
doesn't<font color="#E5E5E5"> really do very much from from my</font>

238
00:11:36,390 --> 00:11:44,340
point of view<font color="#CCCCCC"> but again</font><font color="#E5E5E5"> it's not doing</font>

239
00:11:42,030 --> 00:11:45,900
any kind<font color="#CCCCCC"> it's</font><font color="#E5E5E5"> not helping you</font><font color="#CCCCCC"> with the</font>

240
00:11:44,340 --> 00:11:47,970
vulnerability management<font color="#E5E5E5"> side of</font><font color="#CCCCCC"> things</font>

241
00:11:45,900 --> 00:11:49,470
<font color="#CCCCCC">you're just squashing everything down</font>

242
00:11:47,970 --> 00:11:52,320
and if there<font color="#E5E5E5"> was something that you</font>

243
00:11:49,470 --> 00:11:54,900
didn't<font color="#E5E5E5"> want in the suitcase that's still</font>

244
00:11:52,320 --> 00:11:59,850
<font color="#E5E5E5">coming with you so it would be really</font>

245
00:11:54,900 --> 00:12:02,459
<font color="#E5E5E5">nice if there was a tool that</font><font color="#CCCCCC"> gave you</font>

246
00:11:59,850 --> 00:12:04,530
an image<font color="#E5E5E5"> in a single layer did some</font>

247
00:12:02,460 --> 00:12:07,860
level of automatic dependency<font color="#E5E5E5"> resolution</font>

248
00:12:04,530 --> 00:12:10,790
for you put everything<font color="#E5E5E5"> as a simple</font>

249
00:12:07,860 --> 00:12:14,430
single<font color="#E5E5E5"> user so you get idempotent builds</font>

250
00:12:10,790 --> 00:12:17,640
and more secure images now the good news

251
00:12:14,430 --> 00:12:21,390
<font color="#E5E5E5">is</font><font color="#CCCCCC"> that there is there's a tool called</font>

252
00:12:17,640 --> 00:12:25,170
Smith so this was a tool that<font color="#CCCCCC"> was</font>

253
00:12:21,390 --> 00:12:30,090
created<font color="#E5E5E5"> at Oracle and is used internally</font>

254
00:12:25,170 --> 00:12:32,040
<font color="#E5E5E5">Oracle to build micro containers</font><font color="#CCCCCC"> and I</font>

255
00:12:30,090 --> 00:12:33,600
found out<font color="#E5E5E5"> about it</font><font color="#CCCCCC"> when I</font><font color="#E5E5E5"> was going</font>

256
00:12:32,040 --> 00:12:35,930
<font color="#CCCCCC">around</font><font color="#E5E5E5"> and</font><font color="#CCCCCC"> asking the questions that</font><font color="#E5E5E5"> had</font>

257
00:12:33,600 --> 00:12:39,150
been<font color="#E5E5E5"> prompted by the security people</font>

258
00:12:35,930 --> 00:12:41,339
<font color="#E5E5E5">it's it's created at Oracle we open</font>

259
00:12:39,150 --> 00:12:44,430
sourced it so it's under apache license

260
00:12:41,340 --> 00:12:47,070
or<font color="#CCCCCC"> UPL</font><font color="#E5E5E5"> so you know free to look at it</font>

261
00:12:44,430 --> 00:12:49,979
use it<font color="#E5E5E5"> whatever and it works in a</font><font color="#CCCCCC"> couple</font>

262
00:12:47,070 --> 00:12:52,530
<font color="#E5E5E5">of ways so the way it's mostly used</font>

263
00:12:49,980 --> 00:12:56,210
inside of<font color="#E5E5E5"> Oracle is to build micro</font>

264
00:12:52,530 --> 00:13:00,060
containers from yum repos and<font color="#CCCCCC"> rpm files</font>

265
00:12:56,210 --> 00:13:02,400
<font color="#E5E5E5">the way that I've used it most is</font><font color="#CCCCCC"> to</font>

266
00:13:00,060 --> 00:13:04,469
shrink<font color="#CCCCCC"> existing containers so</font><font color="#E5E5E5"> you put a</font>

267
00:13:02,400 --> 00:13:05,939
standard<font color="#E5E5E5"> container in one end you bash</font>

268
00:13:04,470 --> 00:13:11,070
it with<font color="#E5E5E5"> Smith and you get a micro</font>

269
00:13:05,940 --> 00:13:13,860
container out at the<font color="#E5E5E5"> other so if you're</font>

270
00:13:11,070 --> 00:13:16,470
shrinking<font color="#CCCCCC"> a container you download</font><font color="#E5E5E5"> your</font>

271
00:13:13,860 --> 00:13:19,470
container in OCI format I can contain

272
00:13:16,470 --> 00:13:21,570
<font color="#E5E5E5">your initiative or point to its URL and</font>

273
00:13:19,470 --> 00:13:22,320
then in both cases<font color="#E5E5E5"> you define</font><font color="#CCCCCC"> of Smith</font>

274
00:13:21,570 --> 00:13:26,009
<font color="#CCCCCC">yam or far</font>

275
00:13:22,320 --> 00:13:27,810
run Smith that gives you an OC<font color="#CCCCCC"> I former</font>

276
00:13:26,009 --> 00:13:29,790
<font color="#E5E5E5">image which you</font><font color="#CCCCCC"> then</font><font color="#E5E5E5"> need</font><font color="#CCCCCC"> to like</font><font color="#E5E5E5"> to a</font>

277
00:13:27,810 --> 00:13:31,829
docker repo before docker can run it

278
00:13:29,790 --> 00:13:36,569
because it they don't<font color="#CCCCCC"> run OC</font><font color="#E5E5E5"> I format</font>

279
00:13:31,829 --> 00:13:38,008
images yet so this<font color="#E5E5E5"> is hello world</font><font color="#CCCCCC"> by</font>

280
00:13:36,570 --> 00:13:40,440
Smith

281
00:13:38,009 --> 00:13:42,870
so we're basically we're taking Pat<font color="#E5E5E5"> from</font>

282
00:13:40,440 --> 00:13:45,060
the core utils<font color="#E5E5E5"> package and we're going</font>

283
00:13:42,870 --> 00:13:48,870
to cat out whatever is in slash<font color="#E5E5E5"> read</font>

284
00:13:45,060 --> 00:13:50,339
slash data it's<font color="#E5E5E5"> actually quite big</font>

285
00:13:48,870 --> 00:13:56,000
<font color="#E5E5E5">anyone ever looked at the source</font><font color="#CCCCCC"> code of</font>

286
00:13:50,339 --> 00:13:56,000
cat<font color="#E5E5E5"> it's quite complicated yeah that was</font>

287
00:13:56,329 --> 00:14:02,069
<font color="#E5E5E5">this</font><font color="#CCCCCC"> is one of</font><font color="#E5E5E5"> mine this is shrinking an</font>

288
00:14:00,120 --> 00:14:04,560
existing content so here's the image

289
00:14:02,069 --> 00:14:07,019
<font color="#E5E5E5">that I'm taking things from there's the</font>

290
00:14:04,560 --> 00:14:09,899
path to my application<font color="#E5E5E5"> I happen to know</font>

291
00:14:07,019 --> 00:14:12,300
that I'm going<font color="#E5E5E5"> to need Ruby</font><font color="#CCCCCC"> put some of</font>

292
00:14:09,899 --> 00:14:15,149
<font color="#CCCCCC">that in and there's my command</font><font color="#E5E5E5"> and then</font>

293
00:14:12,300 --> 00:14:18,300
what happens is that Smith unpacked the

294
00:14:15,149 --> 00:14:20,100
layers of the image copies out those

295
00:14:18,300 --> 00:14:23,310
files you've specified in Smith yeah

296
00:14:20,100 --> 00:14:25,529
more loads the library search paths<font color="#E5E5E5"> and</font>

297
00:14:23,310 --> 00:14:27,479
recursively copies in<font color="#E5E5E5"> the dependencies</font>

298
00:14:25,529 --> 00:14:31,430
and then puts it<font color="#E5E5E5"> together in single</font>

299
00:14:27,480 --> 00:14:38,310
layer<font color="#E5E5E5"> and packages it as a new OCR image</font>

300
00:14:31,430 --> 00:14:40,739
so standard<font color="#E5E5E5"> HTTP</font><font color="#CCCCCC"> D image if you</font><font color="#E5E5E5"> pull it</font>

301
00:14:38,310 --> 00:14:44,069
<font color="#CCCCCC">down</font><font color="#E5E5E5"> from docker hub comes in about 180</font>

302
00:14:40,740 --> 00:14:46,649
Meg<font color="#E5E5E5"> bash it with Smith you can get it</font>

303
00:14:44,069 --> 00:14:53,180
down<font color="#CCCCCC"> to under five Meg and you've still</font>

304
00:14:46,649 --> 00:14:57,690
got a working<font color="#E5E5E5"> web server my dog's body</font>

305
00:14:53,180 --> 00:15:02,810
<font color="#CCCCCC">container was nearly a gig</font><font color="#E5E5E5"> and I can get</font>

306
00:14:57,690 --> 00:15:05,189
that down<font color="#E5E5E5"> to under 85 so my experience</font>

307
00:15:02,810 --> 00:15:06,540
<font color="#E5E5E5">for best results unless you've got</font>

308
00:15:05,189 --> 00:15:09,149
static<font color="#CCCCCC"> binary or something</font>

309
00:15:06,540 --> 00:15:11,430
self-contained<font color="#E5E5E5"> and is build your fat</font>

310
00:15:09,149 --> 00:15:13,170
image hammer it with<font color="#E5E5E5"> Smith and it's</font>

311
00:15:11,430 --> 00:15:17,339
easier and quicker than<font color="#CCCCCC"> a multi-stage</font>

312
00:15:13,170 --> 00:15:18,839
build<font color="#CCCCCC"> I have found</font><font color="#E5E5E5"> for</font><font color="#CCCCCC"> dogs body I was</font>

313
00:15:17,339 --> 00:15:21,720
<font color="#E5E5E5">trying to</font><font color="#CCCCCC"> do it with a multi-stage build</font>

314
00:15:18,839 --> 00:15:23,579
and my<font color="#E5E5E5"> image was up to 150 Meg and I</font>

315
00:15:21,720 --> 00:15:26,130
still hadn't got all of the dependencies

316
00:15:23,579 --> 00:15:30,209
<font color="#E5E5E5">so automatic dependency resolution is</font>

317
00:15:26,130 --> 00:15:32,279
really<font color="#E5E5E5"> nice</font><font color="#CCCCCC"> whichever</font><font color="#E5E5E5"> method you use I</font>

318
00:15:30,209 --> 00:15:35,219
hope that you<font color="#E5E5E5"> would see the</font><font color="#CCCCCC"> value of</font>

319
00:15:32,279 --> 00:15:36,740
using<font color="#E5E5E5"> micro containers as opposed to big</font>

320
00:15:35,220 --> 00:15:42,660
containers

321
00:15:36,740 --> 00:15:44,670
now unlike me<font color="#E5E5E5"> unlike me you lot</font><font color="#CCCCCC"> alright</font>

322
00:15:42,660 --> 00:15:50,100
perfect software<font color="#E5E5E5"> so this never happens</font>

323
00:15:44,670 --> 00:15:53,339
right<font color="#CCCCCC"> what do you do if it crashes well</font>

324
00:15:50,100 --> 00:15:55,740
you know as a micro container<font color="#CCCCCC"> mm-hm</font>

325
00:15:53,339 --> 00:15:57,990
yep<font color="#E5E5E5"> please don't do</font><font color="#CCCCCC"> these things I mean</font>

326
00:15:55,740 --> 00:16:00,570
<font color="#CCCCCC">you start to</font><font color="#E5E5E5"> get people</font><font color="#CCCCCC"> ago well I'll</font>

327
00:15:57,990 --> 00:16:01,920
<font color="#E5E5E5">always run sshd inside my container as</font>

328
00:16:00,570 --> 00:16:04,620
well<font color="#CCCCCC"> and then I'll log in</font><font color="#E5E5E5"> or a</font><font color="#CCCCCC"> limb</font>

329
00:16:01,920 --> 00:16:06,449
<font color="#E5E5E5">build tools in it don't I mean it is the</font>

330
00:16:04,620 --> 00:16:09,750
<font color="#CCCCCC">equivalent of</font><font color="#E5E5E5"> going to the gym and</font>

331
00:16:06,449 --> 00:16:11,519
<font color="#E5E5E5">getting yourself</font><font color="#CCCCCC"> all fit and then going</font>

332
00:16:09,750 --> 00:16:12,810
down<font color="#E5E5E5"> the pub</font><font color="#CCCCCC"> and having about 6 points</font>

333
00:16:11,519 --> 00:16:14,880
<font color="#E5E5E5">to reward yourself yes</font>

334
00:16:12,810 --> 00:16:19,500
<font color="#CCCCCC">you've</font><font color="#E5E5E5"> always want to just go into the</font>

335
00:16:14,880 --> 00:16:21,120
pub a lot less effort<font color="#CCCCCC"> so there's a</font>

336
00:16:19,500 --> 00:16:24,269
<font color="#CCCCCC">number of</font><font color="#E5E5E5"> challenges with debugging</font><font color="#CCCCCC"> and</font>

337
00:16:21,120 --> 00:16:25,769
micro container<font color="#E5E5E5"> um you know you can't</font>

338
00:16:24,269 --> 00:16:27,630
<font color="#E5E5E5">just mount the directory into the</font>

339
00:16:25,769 --> 00:16:30,660
container on the<font color="#E5E5E5"> fly you can't log into</font>

340
00:16:27,630 --> 00:16:32,639
<font color="#E5E5E5">it if you</font><font color="#CCCCCC"> just restart it you may well</font>

341
00:16:30,660 --> 00:16:35,399
not<font color="#E5E5E5"> create the same error conditions you</font>

342
00:16:32,639 --> 00:16:38,730
had before<font color="#CCCCCC"> even if you could mount a</font>

343
00:16:35,399 --> 00:16:40,620
container into<font color="#E5E5E5"> the amount of directory</font>

344
00:16:38,730 --> 00:16:43,170
in the container with your tools in you

345
00:16:40,620 --> 00:16:45,149
know<font color="#E5E5E5"> the tool location may</font><font color="#CCCCCC"> be not so</font>

346
00:16:43,170 --> 00:16:47,729
great and you'll get potential conflicts

347
00:16:45,149 --> 00:16:50,670
with the paths and<font color="#E5E5E5"> the libraries so</font>

348
00:16:47,730 --> 00:16:52,949
there is a<font color="#CCCCCC"> requirement to</font><font color="#E5E5E5"> have an</font>

349
00:16:50,670 --> 00:16:54,779
ability to<font color="#CCCCCC"> investigate the crash site</font>

350
00:16:52,949 --> 00:16:57,689
not<font color="#E5E5E5"> just restart and hope to</font><font color="#CCCCCC"> see the</font>

351
00:16:54,779 --> 00:16:59,970
<font color="#E5E5E5">same thing</font><font color="#CCCCCC"> again and to focus on</font><font color="#E5E5E5"> solving</font>

352
00:16:57,690 --> 00:17:02,250
the problem rather than container

353
00:16:59,970 --> 00:17:05,400
hacking and have your debug tools

354
00:17:02,250 --> 00:17:08,040
available<font color="#E5E5E5"> only when you need them so</font>

355
00:17:05,400 --> 00:17:11,819
we've got an a<font color="#E5E5E5"> complementary tool called</font>

356
00:17:08,040 --> 00:17:15,030
crash cart<font color="#E5E5E5"> again</font><font color="#CCCCCC"> open source and what</font>

357
00:17:11,819 --> 00:17:18,049
that does is it<font color="#E5E5E5"> allows</font><font color="#CCCCCC"> you</font><font color="#E5E5E5"> to debug</font>

358
00:17:15,030 --> 00:17:21,000
containers or micro containers so<font color="#E5E5E5"> you</font>

359
00:17:18,049 --> 00:17:23,220
attach<font color="#CCCCCC"> to the running container process</font>

360
00:17:21,000 --> 00:17:25,919
<font color="#E5E5E5">remember</font><font color="#CCCCCC"> a container is a process not a</font>

361
00:17:23,220 --> 00:17:29,010
VM you<font color="#CCCCCC"> attach to that and then you're</font>

362
00:17:25,919 --> 00:17:31,890
able to<font color="#CCCCCC"> sideload an</font><font color="#E5E5E5"> image with Linux</font>

363
00:17:29,010 --> 00:17:34,110
binaries for<font color="#E5E5E5"> your debug tools into that</font>

364
00:17:31,890 --> 00:17:36,090
<font color="#E5E5E5">container and you can</font><font color="#CCCCCC"> use those</font>

365
00:17:34,110 --> 00:17:38,219
<font color="#CCCCCC">side-loaded tools to debug the running</font>

366
00:17:36,090 --> 00:17:41,159
container so it for example<font color="#CCCCCC"> if you want</font>

367
00:17:38,220 --> 00:17:42,960
it to see what files were open<font color="#E5E5E5"> in the</font>

368
00:17:41,160 --> 00:17:45,870
container at the point it crashed by

369
00:17:42,960 --> 00:17:48,510
running<font color="#CCCCCC"> l sof you</font><font color="#E5E5E5"> can put that on the</font>

370
00:17:45,870 --> 00:17:49,560
image<font color="#E5E5E5"> load it in and see what was</font><font color="#CCCCCC"> going</font>

371
00:17:48,510 --> 00:17:56,730
on

372
00:17:49,560 --> 00:17:58,919
how long oh good<font color="#CCCCCC"> okay</font><font color="#E5E5E5"> yeah so those</font>

373
00:17:56,730 --> 00:18:03,090
those<font color="#CCCCCC"> are</font><font color="#E5E5E5"> the options that are you know</font>

374
00:17:58,920 --> 00:18:05,700
the<font color="#E5E5E5"> I know of please feel free to get</font>

375
00:18:03,090 --> 00:18:09,360
involved<font color="#E5E5E5"> you can fork Smith or crash</font>

376
00:18:05,700 --> 00:18:11,640
cart<font color="#E5E5E5"> and I've created a couple of labs</font>

377
00:18:09,360 --> 00:18:14,100
which are up on my github<font color="#CCCCCC"> that you can</font>

378
00:18:11,640 --> 00:18:16,980
use to go<font color="#CCCCCC"> through those</font>

379
00:18:14,100 --> 00:18:21,270
we've got slack channel and comments

380
00:18:16,980 --> 00:18:23,910
feedback<font color="#E5E5E5"> pull requests are welcome</font>

381
00:18:21,270 --> 00:18:26,370
I'll take<font color="#E5E5E5"> takeaways</font><font color="#CCCCCC"> you know</font><font color="#E5E5E5"> make</font>

382
00:18:23,910 --> 00:18:28,290
smaller things<font color="#E5E5E5"> only</font><font color="#CCCCCC"> put the things that</font>

383
00:18:26,370 --> 00:18:31,229
you need<font color="#CCCCCC"> in use the smallest container</font>

384
00:18:28,290 --> 00:18:33,960
<font color="#CCCCCC">you can and the benefits you should see</font>

385
00:18:31,230 --> 00:18:37,500
<font color="#CCCCCC">for</font><font color="#E5E5E5"> that are greater simplicity better</font>

386
00:18:33,960 --> 00:18:38,850
<font color="#E5E5E5">security and improved agility and I</font>

387
00:18:37,500 --> 00:18:40,710
think I've got a minute<font color="#E5E5E5"> or two for</font>

388
00:18:38,850 --> 00:18:44,120
<font color="#E5E5E5">questions if not grab me later I'm</font>

389
00:18:40,710 --> 00:18:44,120
around all<font color="#CCCCCC"> day or get me on Twitter</font>

390
00:19:09,230 --> 00:19:15,900
yeah there's there's<font color="#CCCCCC"> different ways of</font>

391
00:19:12,390 --> 00:19:18,780
<font color="#E5E5E5">doing so the question is why why would I</font>

392
00:19:15,900 --> 00:19:21,050
use Smith and why we do not<font color="#E5E5E5"> just start</font>

393
00:19:18,780 --> 00:19:24,000
building<font color="#E5E5E5"> my stuff up from from</font><font color="#CCCCCC"> scratch</font>

394
00:19:21,050 --> 00:19:29,040
<font color="#E5E5E5">you can build your stuff up from scratch</font>

395
00:19:24,000 --> 00:19:30,210
<font color="#CCCCCC">I</font><font color="#E5E5E5"> found or the people in Oracle who</font>

396
00:19:29,040 --> 00:19:33,270
looked at this<font color="#CCCCCC"> and opera</font>

397
00:19:30,210 --> 00:19:35,540
well operationalizing containers<font color="#E5E5E5"> came</font><font color="#CCCCCC"> up</font>

398
00:19:33,270 --> 00:19:38,760
<font color="#E5E5E5">with this so they're using they are</font>

399
00:19:35,540 --> 00:19:41,700
creating micro containers from<font color="#CCCCCC"> yum</font>

400
00:19:38,760 --> 00:19:44,940
<font color="#CCCCCC">brewery from</font><font color="#E5E5E5"> yum repos</font><font color="#CCCCCC"> and</font><font color="#E5E5E5"> building the</font>

401
00:19:41,700 --> 00:19:47,600
packages<font color="#CCCCCC"> that way my personal use</font><font color="#E5E5E5"> cases</font>

402
00:19:44,940 --> 00:19:51,720
have been ones where I am creating

403
00:19:47,600 --> 00:19:55,320
applications and then I want<font color="#E5E5E5"> to get a</font>

404
00:19:51,720 --> 00:19:57,560
micro container<font color="#CCCCCC"> out and I have</font><font color="#E5E5E5"> found</font>

405
00:19:55,320 --> 00:19:59,970
this the easiest way<font color="#CCCCCC"> to do it</font>

406
00:19:57,560 --> 00:20:02,340
<font color="#CCCCCC">principally because</font><font color="#E5E5E5"> it's made sure that</font>

407
00:19:59,970 --> 00:20:12,300
<font color="#E5E5E5">I haven't left any of my dependencies</font>

408
00:20:02,340 --> 00:20:16,260
behind so for development<font color="#E5E5E5"> I just tend to</font>

409
00:20:12,300 --> 00:20:18,750
<font color="#E5E5E5">go with the standard Ruby</font><font color="#CCCCCC"> image to</font><font color="#E5E5E5"> start</font>

410
00:20:16,260 --> 00:20:23,340
with which<font color="#CCCCCC"> is producers a pretty fat</font>

411
00:20:18,750 --> 00:20:25,680
container out at the end<font color="#E5E5E5"> and then the</font>

412
00:20:23,340 --> 00:20:31,639
<font color="#E5E5E5">actual image that the micro container is</font>

413
00:20:25,680 --> 00:20:31,640
based on is Oracle Linux limp

414
00:20:39,630 --> 00:20:42,689
[Music]

415
00:21:00,600 --> 00:21:06,929
yeah<font color="#CCCCCC"> like I</font><font color="#E5E5E5"> said when I tried doing it</font>

416
00:21:03,520 --> 00:21:09,910
with the the multistage build you<font color="#CCCCCC"> know</font>

417
00:21:06,930 --> 00:21:11,620
<font color="#CCCCCC">building</font><font color="#E5E5E5"> it into Alpine so it's kind of</font>

418
00:21:09,910 --> 00:21:14,260
not<font color="#CCCCCC"> quite scratch</font><font color="#E5E5E5"> but going down that</font>

419
00:21:11,620 --> 00:21:15,909
route<font color="#E5E5E5"> it was precisely that issue I had</font>

420
00:21:14,260 --> 00:21:17,560
was<font color="#E5E5E5"> that my container was getting bigger</font>

421
00:21:15,910 --> 00:21:19,780
and bigger<font color="#CCCCCC"> and I'm still when I'm trying</font>

422
00:21:17,560 --> 00:21:21,179
<font color="#E5E5E5">to run the application</font><font color="#CCCCCC"> it's saying</font><font color="#E5E5E5"> I</font>

423
00:21:19,780 --> 00:21:23,410
haven't<font color="#E5E5E5"> got this or I haven't got that</font>

424
00:21:21,180 --> 00:21:24,820
<font color="#CCCCCC">whereas if I've</font><font color="#E5E5E5"> done it with Smith I</font>

425
00:21:23,410 --> 00:21:27,990
know I've gone all the<font color="#CCCCCC"> way to the bottom</font>

426
00:21:24,820 --> 00:21:27,990
<font color="#E5E5E5">of the dependency tree</font>

427
00:21:33,720 --> 00:21:39,450
yeah<font color="#CCCCCC"> I</font><font color="#E5E5E5"> mean I'm a lazy bugger so I would</font>

428
00:21:37,559 --> 00:21:41,460
<font color="#CCCCCC">just say use the simplest thing that you</font>

429
00:21:39,450 --> 00:21:44,159
can and if you're if<font color="#CCCCCC"> you're creating a</font>

430
00:21:41,460 --> 00:21:47,460
static<font color="#E5E5E5"> image yeah everything's wrapped</font>

431
00:21:44,159 --> 00:21:50,610
up in<font color="#E5E5E5"> an XE or like the Jekyll your</font>

432
00:21:47,460 --> 00:21:53,929
<font color="#E5E5E5">websites in one directory why do</font>

433
00:21:50,610 --> 00:21:53,928
something in a<font color="#E5E5E5"> more difficult way</font>

434
00:21:58,470 --> 00:22:02,210
[Applause]

