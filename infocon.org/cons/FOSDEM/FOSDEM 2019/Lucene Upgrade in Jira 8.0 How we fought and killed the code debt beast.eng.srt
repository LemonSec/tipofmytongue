1
00:00:05,990 --> 00:00:15,560
<font color="#CCCCCC">okay we're going to</font><font color="#E5E5E5"> continue thanks for</font>

2
00:00:08,639 --> 00:00:18,810
<font color="#CCCCCC">closing</font><font color="#E5E5E5"> you seen operating in JIRA</font><font color="#CCCCCC"> Heat</font>

3
00:00:15,560 --> 00:00:20,610
<font color="#E5E5E5">okay let's start a good afternoon and</font>

4
00:00:18,810 --> 00:00:23,099
welcome<font color="#E5E5E5"> to</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> talk about</font><font color="#CCCCCC"> using</font><font color="#E5E5E5"> upgrade</font>

5
00:00:20,610 --> 00:00:25,230
in JIRA<font color="#E5E5E5"> 8 with a catchy title how we</font>

6
00:00:23,100 --> 00:00:28,020
fought and killed the<font color="#E5E5E5"> cop that beast and</font>

7
00:00:25,230 --> 00:00:30,480
my name is<font color="#E5E5E5"> Camille</font><font color="#CCCCCC"> G hey I work for</font>

8
00:00:28,020 --> 00:00:32,879
<font color="#E5E5E5">Sparta's in</font><font color="#CCCCCC"> Gdansk in Poland</font><font color="#E5E5E5"> as a</font>

9
00:00:30,480 --> 00:00:37,110
software developer working on<font color="#CCCCCC"> Duras</font>

10
00:00:32,879 --> 00:00:39,750
server<font color="#E5E5E5"> and you probably know the company</font>

11
00:00:37,110 --> 00:00:42,239
<font color="#E5E5E5">Atlassian</font><font color="#CCCCCC"> is the company</font><font color="#E5E5E5"> behind products</font>

12
00:00:39,750 --> 00:00:44,250
such as JIRA confluence and<font color="#CCCCCC"> bitbucket</font>

13
00:00:42,239 --> 00:00:45,870
<font color="#E5E5E5">and other tools that let your</font><font color="#CCCCCC"> team's</font>

14
00:00:44,250 --> 00:00:47,850
<font color="#E5E5E5">collaborate more efficiently and</font>

15
00:00:45,870 --> 00:00:49,829
<font color="#CCCCCC">Sparta's is a very close partner of</font>

16
00:00:47,850 --> 00:00:53,460
<font color="#E5E5E5">Atlassian and we help them develop</font>

17
00:00:49,829 --> 00:00:57,690
products such as JIRA<font color="#E5E5E5"> bamboo fish and</font>

18
00:00:53,460 --> 00:01:00,590
crucible<font color="#E5E5E5"> mm-hmm sorry</font>

19
00:00:57,690 --> 00:01:04,619
<font color="#E5E5E5">yeah and this talk will be about JIRA</font>

20
00:01:00,590 --> 00:01:07,140
<font color="#E5E5E5">does anybody in</font><font color="#CCCCCC"> here use JIRA almost</font>

21
00:01:04,619 --> 00:01:09,690
everybody that's that's<font color="#E5E5E5"> very nice to</font><font color="#CCCCCC"> see</font>

22
00:01:07,140 --> 00:01:11,190
and so I don't<font color="#E5E5E5"> have</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> really explain</font>

23
00:01:09,690 --> 00:01:12,840
it's an<font color="#CCCCCC"> issue tracker</font><font color="#E5E5E5"> and project</font>

24
00:01:11,190 --> 00:01:16,380
<font color="#E5E5E5">management tool you can put everything</font>

25
00:01:12,840 --> 00:01:19,050
in JIRA and then you can manage your

26
00:01:16,380 --> 00:01:20,520
issues saying what's<font color="#E5E5E5"> in progress</font>

27
00:01:19,050 --> 00:01:25,200
what's<font color="#CCCCCC"> being</font><font color="#E5E5E5"> done what's still</font><font color="#CCCCCC"> left</font><font color="#E5E5E5"> to</font>

28
00:01:20,520 --> 00:01:27,330
do<font color="#E5E5E5"> and and everybody is on the same page</font>

29
00:01:25,200 --> 00:01:29,099
thanks to that but as soon as<font color="#E5E5E5"> we have</font>

30
00:01:27,330 --> 00:01:32,520
more<font color="#CCCCCC"> than say</font><font color="#E5E5E5"> 10 issues you need an</font>

31
00:01:29,099 --> 00:01:35,190
efficient way to find<font color="#E5E5E5"> them and this is</font>

32
00:01:32,520 --> 00:01:37,679
<font color="#E5E5E5">why search is so important in JIRA</font><font color="#CCCCCC"> we</font>

33
00:01:35,190 --> 00:01:39,360
even have our own<font color="#E5E5E5"> language called</font><font color="#CCCCCC"> jql</font>

34
00:01:37,679 --> 00:01:43,740
where you can put attributes of issues

35
00:01:39,360 --> 00:01:48,030
and and then based on that JIRA will

36
00:01:43,740 --> 00:01:51,000
return you the result<font color="#CCCCCC"> and even this</font>

37
00:01:48,030 --> 00:01:53,880
board which shows you<font color="#CCCCCC"> the Sprint</font><font color="#E5E5E5"> this</font><font color="#CCCCCC"> is</font>

38
00:01:51,000 --> 00:01:57,420
<font color="#E5E5E5">back by</font><font color="#CCCCCC"> spring</font><font color="#E5E5E5"> by his search as well so</font>

39
00:01:53,880 --> 00:02:03,509
search is the<font color="#E5E5E5"> crucial part of JIRA this</font>

40
00:01:57,420 --> 00:02:06,599
search is based on<font color="#CCCCCC"> leucine so we have an</font>

41
00:02:03,509 --> 00:02:08,610
index<font color="#E5E5E5"> and we put all of the fields there</font>

42
00:02:06,599 --> 00:02:10,289
so we have system fields which are<font color="#E5E5E5"> the</font>

43
00:02:08,610 --> 00:02:14,040
<font color="#CCCCCC">ones</font><font color="#E5E5E5"> that come with JIRA</font><font color="#CCCCCC"> out</font><font color="#E5E5E5"> of the box</font>

44
00:02:10,288 --> 00:02:16,379
<font color="#E5E5E5">such as summary description comments who</font>

45
00:02:14,040 --> 00:02:18,160
created<font color="#CCCCCC"> that issue who is assigned</font><font color="#E5E5E5"> to it</font>

46
00:02:16,379 --> 00:02:21,459
<font color="#E5E5E5">but we also have</font>

47
00:02:18,160 --> 00:02:24,310
custom fields which can<font color="#CCCCCC"> be configured by</font>

48
00:02:21,460 --> 00:02:28,870
admin and they can choose<font color="#E5E5E5"> from what JIRA</font>

49
00:02:24,310 --> 00:02:31,360
provides fields like dates or text

50
00:02:28,870 --> 00:02:33,510
numbers but<font color="#CCCCCC"> also they can be extendable</font>

51
00:02:31,360 --> 00:02:36,760
by<font color="#E5E5E5"> plugins so plug-in vendors can</font>

52
00:02:33,510 --> 00:02:43,239
provide any<font color="#E5E5E5"> type of custom field you can</font>

53
00:02:36,760 --> 00:02:46,179
dream of<font color="#E5E5E5"> and a part for</font><font color="#CCCCCC"> that and apart</font>

54
00:02:43,240 --> 00:02:49,510
from that a<font color="#E5E5E5"> very important part of the</font>

55
00:02:46,180 --> 00:02:51,360
index is permissions<font color="#E5E5E5"> because in JIRA you</font>

56
00:02:49,510 --> 00:02:54,459
cannot see everything<font color="#CCCCCC"> potentially</font>

57
00:02:51,360 --> 00:02:56,530
because there might<font color="#E5E5E5"> be permissions just</font>

58
00:02:54,460 --> 00:02:59,560
for some<font color="#E5E5E5"> people to see certain issues</font>

59
00:02:56,530 --> 00:03:03,370
<font color="#E5E5E5">and this has to be</font><font color="#CCCCCC"> handled by</font><font color="#E5E5E5"> the search</font>

60
00:02:59,560 --> 00:03:05,080
engine because otherwise it<font color="#E5E5E5"> would be too</font>

61
00:03:03,370 --> 00:03:08,110
<font color="#CCCCCC">small too slow</font><font color="#E5E5E5"> if we went to the</font>

62
00:03:05,080 --> 00:03:10,540
<font color="#E5E5E5">database to ask whether you</font><font color="#CCCCCC"> can</font><font color="#E5E5E5"> see this</font>

63
00:03:08,110 --> 00:03:14,170
particular<font color="#CCCCCC"> result or not</font><font color="#E5E5E5"> and let's move</font>

64
00:03:10,540 --> 00:03:15,400
to the<font color="#CCCCCC"> main</font><font color="#E5E5E5"> part of this talk</font><font color="#CCCCCC"> which is</font>

65
00:03:14,170 --> 00:03:17,679
the scene upgrade because<font color="#E5E5E5"> it's so</font>

66
00:03:15,400 --> 00:03:24,010
important<font color="#E5E5E5"> we</font><font color="#CCCCCC"> should be really up-to-date</font>

67
00:03:17,680 --> 00:03:25,270
<font color="#CCCCCC">with what Lucene</font><font color="#E5E5E5"> offers us</font><font color="#CCCCCC"> in fact</font><font color="#E5E5E5"> we</font>

68
00:03:24,010 --> 00:03:28,630
tell our<font color="#CCCCCC"> clients to update JIRA</font>

69
00:03:25,270 --> 00:03:31,810
regularly<font color="#E5E5E5"> we say get the latest version</font>

70
00:03:28,630 --> 00:03:33,670
<font color="#E5E5E5">get bug fixes get new features but</font>

71
00:03:31,810 --> 00:03:36,490
<font color="#E5E5E5">unfortunately we don't always pray as</font><font color="#CCCCCC"> we</font>

72
00:03:33,670 --> 00:03:41,140
preach<font color="#E5E5E5"> and if you look at go7</font><font color="#CCCCCC"> in comes</font>

73
00:03:36,490 --> 00:03:43,810
with the scene<font color="#CCCCCC"> 3.3 which was which was</font>

74
00:03:41,140 --> 00:03:47,640
<font color="#E5E5E5">released in 2011 to make matters worse</font>

75
00:03:43,810 --> 00:03:50,830
<font color="#CCCCCC">it's -</font><font color="#E5E5E5"> Atlassian - - version which</font>

76
00:03:47,640 --> 00:03:54,070
contains<font color="#E5E5E5"> - two crucial bug fixes ported</font>

77
00:03:50,830 --> 00:03:55,660
from<font color="#E5E5E5"> version 4 so you might wonder why</font>

78
00:03:54,070 --> 00:03:58,150
<font color="#E5E5E5">we</font><font color="#CCCCCC"> are using</font><font color="#E5E5E5"> such an older version and</font>

79
00:03:55,660 --> 00:04:02,670
this<font color="#E5E5E5"> is down</font><font color="#CCCCCC"> to what happened with</font><font color="#E5E5E5"> loose</font>

80
00:03:58,150 --> 00:04:05,770
<font color="#E5E5E5">in between versions 3</font><font color="#CCCCCC"> and</font><font color="#E5E5E5"> 4 the API was</font>

81
00:04:02,670 --> 00:04:08,649
broken in<font color="#E5E5E5"> the backwards incompatible way</font>

82
00:04:05,770 --> 00:04:10,150
<font color="#E5E5E5">and this meant that the upgrade was</font>

83
00:04:08,650 --> 00:04:12,520
non-trivial<font color="#CCCCCC"> I'm not saying it was a</font><font color="#E5E5E5"> bad</font>

84
00:04:10,150 --> 00:04:15,910
decision<font color="#CCCCCC"> because the new API is better</font>

85
00:04:12,520 --> 00:04:18,430
but<font color="#CCCCCC"> for us it required effort</font><font color="#E5E5E5"> to upgrade</font>

86
00:04:15,910 --> 00:04:22,780
<font color="#E5E5E5">so it was put off for some better time</font>

87
00:04:18,430 --> 00:04:27,340
in<font color="#E5E5E5"> the</font><font color="#CCCCCC"> future</font><font color="#E5E5E5"> and this time took seven</font>

88
00:04:22,780 --> 00:04:29,919
years<font color="#E5E5E5"> with time this upgrade project</font>

89
00:04:27,340 --> 00:04:31,869
looked like a climbing<font color="#E5E5E5"> high mountain so</font>

90
00:04:29,919 --> 00:04:33,099
we<font color="#E5E5E5"> started here at the bottom with</font><font color="#CCCCCC"> loose</font>

91
00:04:31,870 --> 00:04:35,620
<font color="#E5E5E5">in three point three and there was a</font>

92
00:04:33,100 --> 00:04:38,020
shiny<font color="#E5E5E5"> we've seen seven</font><font color="#CCCCCC"> - at the top but</font>

93
00:04:35,620 --> 00:04:40,300
how do<font color="#CCCCCC"> we get up there</font><font color="#E5E5E5"> first we meet</font>

94
00:04:38,020 --> 00:04:42,400
some dead bodies<font color="#E5E5E5"> of people who</font><font color="#CCCCCC"> try to</font>

95
00:04:40,300 --> 00:04:43,990
<font color="#CCCCCC">upgrade in the</font><font color="#E5E5E5"> future</font><font color="#CCCCCC"> they spend maybe a</font>

96
00:04:42,400 --> 00:04:48,450
day<font color="#CCCCCC"> or two</font>

97
00:04:43,990 --> 00:05:00,040
to<font color="#E5E5E5"> upgrade but oh sorry this clicker is</font>

98
00:04:48,450 --> 00:05:01,570
very strange sorry for<font color="#E5E5E5"> that so they try</font>

99
00:05:00,040 --> 00:05:05,950
<font color="#E5E5E5">to upgrade they spend maybe a day or two</font>

100
00:05:01,570 --> 00:05:08,500
<font color="#E5E5E5">but but they felt because it wasn't</font>

101
00:05:05,950 --> 00:05:10,330
doable in such a short<font color="#E5E5E5"> time</font><font color="#CCCCCC"> and then</font>

102
00:05:08,500 --> 00:05:13,210
there's lots<font color="#E5E5E5"> of old code that nobody has</font>

103
00:05:10,330 --> 00:05:15,849
<font color="#E5E5E5">touched for years and then they were</font>

104
00:05:13,210 --> 00:05:18,250
unknown<font color="#E5E5E5"> games imagine</font><font color="#CCCCCC"> coming to your</font>

105
00:05:15,850 --> 00:05:20,770
product manager and saying we would like

106
00:05:18,250 --> 00:05:23,110
<font color="#CCCCCC">to</font><font color="#E5E5E5"> upgrade the scene it's going to take</font>

107
00:05:20,770 --> 00:05:24,969
maybe a month maybe<font color="#E5E5E5"> six months we don't</font>

108
00:05:23,110 --> 00:05:27,310
really<font color="#E5E5E5"> know we don't</font><font color="#CCCCCC"> know if it's going</font>

109
00:05:24,970 --> 00:05:29,680
<font color="#CCCCCC">to be any better</font><font color="#E5E5E5"> let's do it</font>

110
00:05:27,310 --> 00:05:31,390
it's<font color="#E5E5E5"> not an easy sell</font><font color="#CCCCCC"> as you</font><font color="#E5E5E5"> can see</font>

111
00:05:29,680 --> 00:05:33,220
then there was this<font color="#E5E5E5"> new</font><font color="#CCCCCC"> leasing API</font>

112
00:05:31,390 --> 00:05:34,900
which we didn't know<font color="#CCCCCC"> when we started</font>

113
00:05:33,220 --> 00:05:36,640
<font color="#E5E5E5">because we were stuck on the old one so</font>

114
00:05:34,900 --> 00:05:40,270
we had to learn on<font color="#E5E5E5"> the way</font>

115
00:05:36,640 --> 00:05:44,700
and lastly very important is the impact

116
00:05:40,270 --> 00:05:49,870
of on up vendors<font color="#E5E5E5"> so plugins can use</font>

117
00:05:44,700 --> 00:05:51,700
Lucene index in JIRA and when we upgrade

118
00:05:49,870 --> 00:05:53,470
<font color="#E5E5E5">Lusine they have to upgrade their</font>

119
00:05:51,700 --> 00:05:55,659
<font color="#E5E5E5">plugins as well</font><font color="#CCCCCC"> and there is a big</font>

120
00:05:53,470 --> 00:05:57,490
ecosystem<font color="#CCCCCC"> of plugins</font><font color="#E5E5E5"> on Atlassian</font>

121
00:05:55,660 --> 00:06:01,270
marketplace and people writing their<font color="#E5E5E5"> own</font>

122
00:05:57,490 --> 00:06:03,490
plugins<font color="#E5E5E5"> internally and all of those who</font>

123
00:06:01,270 --> 00:06:05,440
used<font color="#CCCCCC"> loosing in a more advanced way</font><font color="#E5E5E5"> had</font>

124
00:06:03,490 --> 00:06:07,660
<font color="#E5E5E5">to upgrade which meant that we could</font>

125
00:06:05,440 --> 00:06:11,230
only<font color="#CCCCCC"> upgrade loosing in a major</font><font color="#E5E5E5"> version</font>

126
00:06:07,660 --> 00:06:14,290
like JIRA 8.0 which is<font color="#E5E5E5"> coming</font><font color="#CCCCCC"> out</font><font color="#E5E5E5"> in a</font>

127
00:06:11,230 --> 00:06:16,510
<font color="#CCCCCC">few days so we went for</font><font color="#E5E5E5"> it</font><font color="#CCCCCC"> the</font>

128
00:06:14,290 --> 00:06:19,080
expectations were<font color="#E5E5E5"> rather low let's just</font>

129
00:06:16,510 --> 00:06:22,510
make it<font color="#E5E5E5"> not any worse than</font><font color="#CCCCCC"> it was and</font>

130
00:06:19,080 --> 00:06:24,490
let's be more up-to-date<font color="#E5E5E5"> so then we can</font>

131
00:06:22,510 --> 00:06:25,810
<font color="#E5E5E5">get some help</font><font color="#CCCCCC"> online for example phone</font>

132
00:06:24,490 --> 00:06:28,870
<font color="#E5E5E5">Stack Overflow</font><font color="#CCCCCC"> if we have a problem</font>

133
00:06:25,810 --> 00:06:30,730
<font color="#E5E5E5">there are probably more</font><font color="#CCCCCC"> people</font><font color="#E5E5E5"> who know</font>

134
00:06:28,870 --> 00:06:32,700
the<font color="#E5E5E5"> current you</font><font color="#CCCCCC"> seem that those who</font>

135
00:06:30,730 --> 00:06:35,200
remember what happened seven years<font color="#E5E5E5"> ago</font>

136
00:06:32,700 --> 00:06:36,849
<font color="#E5E5E5">effort twice it took</font><font color="#CCCCCC"> two developers</font>

137
00:06:35,200 --> 00:06:39,190
<font color="#E5E5E5">three weeks</font><font color="#CCCCCC"> just to make the code</font>

138
00:06:36,850 --> 00:06:41,140
<font color="#E5E5E5">compile with the new regime then another</font>

139
00:06:39,190 --> 00:06:43,000
<font color="#E5E5E5">month to tend to make unit and</font>

140
00:06:41,140 --> 00:06:44,750
<font color="#E5E5E5">functional tests green and then the</font>

141
00:06:43,000 --> 00:06:47,240
whole team jumped in

142
00:06:44,750 --> 00:06:48,860
and we spent six<font color="#CCCCCC"> months</font><font color="#E5E5E5"> this</font><font color="#CCCCCC"> is not just</font>

143
00:06:47,240 --> 00:06:52,190
to<font color="#E5E5E5"> make</font><font color="#CCCCCC"> it</font><font color="#E5E5E5"> work</font>

144
00:06:48,860 --> 00:06:54,530
we took the<font color="#CCCCCC"> momentum that we</font><font color="#E5E5E5"> had and we</font>

145
00:06:52,190 --> 00:06:57,190
decided<font color="#E5E5E5"> to use as much as we could from</font>

146
00:06:54,530 --> 00:07:01,280
<font color="#CCCCCC">leucine</font><font color="#E5E5E5"> to make search and indexing</font>

147
00:06:57,190 --> 00:07:03,110
<font color="#E5E5E5">enjoy a better so we want to catch the</font>

148
00:07:01,280 --> 00:07:05,539
benefits of what the new leucine gave us

149
00:07:03,110 --> 00:07:08,270
so this<font color="#E5E5E5"> is</font><font color="#CCCCCC"> what we</font><font color="#E5E5E5"> did on JIRA platform</font>

150
00:07:05,540 --> 00:07:10,160
so this is the base<font color="#E5E5E5"> but then there are</font>

151
00:07:08,270 --> 00:07:13,130
products built on top<font color="#E5E5E5"> of that such as</font>

152
00:07:10,160 --> 00:07:15,080
JIRA<font color="#CCCCCC"> service desk</font><font color="#E5E5E5"> chair portfolio and</font>

153
00:07:13,130 --> 00:07:17,300
<font color="#E5E5E5">also there</font><font color="#CCCCCC"> are those those plug-in</font>

154
00:07:15,080 --> 00:07:19,609
vendors and they had to put effort<font color="#E5E5E5"> in as</font>

155
00:07:17,300 --> 00:07:24,290
well<font color="#E5E5E5"> so you can see it wasn't a very</font>

156
00:07:19,610 --> 00:07:26,930
simple operation<font color="#CCCCCC"> and do you do I think</font>

157
00:07:24,290 --> 00:07:28,550
<font color="#E5E5E5">it was worth it yes with the benefit of</font>

158
00:07:26,930 --> 00:07:31,820
hindsight<font color="#E5E5E5"> I think</font><font color="#CCCCCC"> it was worth the</font>

159
00:07:28,550 --> 00:07:35,530
<font color="#E5E5E5">effort</font><font color="#CCCCCC"> indexing</font><font color="#E5E5E5"> is now two and</font><font color="#CCCCCC"> a half</font>

160
00:07:31,820 --> 00:07:38,690
times<font color="#E5E5E5"> faster which means when you set up</font>

161
00:07:35,530 --> 00:07:40,429
<font color="#CCCCCC">JIRA from a back up or when you need to</font>

162
00:07:38,690 --> 00:07:44,530
really index because you change the

163
00:07:40,430 --> 00:07:48,770
<font color="#E5E5E5">configuration in a major way you get</font>

164
00:07:44,530 --> 00:07:51,020
shorter<font color="#CCCCCC"> downtime</font><font color="#E5E5E5"> and also you need less</font>

165
00:07:48,770 --> 00:07:52,820
infrastructure<font color="#E5E5E5"> to and JIRA which means</font>

166
00:07:51,020 --> 00:07:56,060
you need<font color="#CCCCCC"> to pay less money for your</font>

167
00:07:52,820 --> 00:08:00,110
<font color="#E5E5E5">hardware then index is twice smaller</font>

168
00:07:56,060 --> 00:08:03,080
<font color="#E5E5E5">then you need less disk space</font><font color="#CCCCCC"> and search</font>

169
00:08:00,110 --> 00:08:05,240
is five times<font color="#E5E5E5"> faster this</font><font color="#CCCCCC"> is these are</font>

170
00:08:03,080 --> 00:08:07,430
<font color="#E5E5E5">the numbers we get from our testing</font>

171
00:08:05,240 --> 00:08:09,820
instance we have 1 million<font color="#E5E5E5"> issue an</font>

172
00:08:07,430 --> 00:08:11,750
instance where we<font color="#E5E5E5"> run automated tests</font>

173
00:08:09,820 --> 00:08:14,000
<font color="#E5E5E5">but that one doesn't</font><font color="#CCCCCC"> have any</font>

174
00:08:11,750 --> 00:08:17,330
applications on top<font color="#CCCCCC"> of that and plugins</font>

175
00:08:14,000 --> 00:08:18,740
<font color="#E5E5E5">so your mileage might vary end and the</font>

176
00:08:17,330 --> 00:08:21,710
results might be<font color="#E5E5E5"> slightly different for</font>

177
00:08:18,740 --> 00:08:24,440
you and I couldn't<font color="#CCCCCC"> resist</font><font color="#E5E5E5"> to take a very</font>

178
00:08:21,710 --> 00:08:26,659
<font color="#E5E5E5">liberal approach to statistics I took an</font>

179
00:08:24,440 --> 00:08:30,320
average<font color="#E5E5E5"> of these three</font><font color="#CCCCCC"> numbers</font><font color="#E5E5E5"> and in</font>

180
00:08:26,660 --> 00:08:33,140
total<font color="#CCCCCC"> jurist</font><font color="#E5E5E5"> 3.17 times better than the</font>

181
00:08:30,320 --> 00:08:35,588
old one<font color="#E5E5E5"> but apart from these numbers</font>

182
00:08:33,140 --> 00:08:39,289
<font color="#E5E5E5">that's not everything</font>

183
00:08:35,589 --> 00:08:41,780
<font color="#CCCCCC">optimize is now</font><font color="#E5E5E5"> gone in the in new</font>

184
00:08:39,289 --> 00:08:44,059
<font color="#CCCCCC">lousine</font><font color="#E5E5E5"> and to understand how it worked</font>

185
00:08:41,780 --> 00:08:46,970
<font color="#E5E5E5">in the past we need to look at segments</font>

186
00:08:44,059 --> 00:08:48,609
so this shows us segments of the scene

187
00:08:46,970 --> 00:08:50,780
once you index something it becomes

188
00:08:48,610 --> 00:08:53,540
immutable<font color="#E5E5E5"> and the only thing you can do</font>

189
00:08:50,780 --> 00:08:56,300
to it<font color="#E5E5E5"> you can is to remove documents</font>

190
00:08:53,540 --> 00:08:57,980
<font color="#CCCCCC">mark documents as deleted when you add</font>

191
00:08:56,300 --> 00:09:00,260
<font color="#E5E5E5">new issues you create you</font>

192
00:08:57,980 --> 00:09:01,670
segments then you add more<font color="#E5E5E5"> segments and</font>

193
00:09:00,260 --> 00:09:06,200
when you have too many segments<font color="#E5E5E5"> you</font>

194
00:09:01,670 --> 00:09:08,510
merge them<font color="#E5E5E5"> so after full index of</font><font color="#CCCCCC"> JIRA</font>

195
00:09:06,200 --> 00:09:11,480
<font color="#E5E5E5">the index would look like that but in</font>

196
00:09:08,510 --> 00:09:13,189
<font color="#E5E5E5">leucine 3.3 there was this method called</font>

197
00:09:11,480 --> 00:09:14,780
<font color="#CCCCCC">optimized and</font><font color="#E5E5E5"> if I asked any of you</font>

198
00:09:13,190 --> 00:09:17,000
<font color="#E5E5E5">would</font><font color="#CCCCCC"> you like your index to</font><font color="#E5E5E5"> be optimal</font>

199
00:09:14,780 --> 00:09:19,280
<font color="#E5E5E5">everybody would go yes let's go for it</font>

200
00:09:17,000 --> 00:09:20,990
so with<font color="#E5E5E5"> it they</font><font color="#CCCCCC"> optimized what it did</font>

201
00:09:19,280 --> 00:09:24,230
was merge everything<font color="#E5E5E5"> into one big</font>

202
00:09:20,990 --> 00:09:25,760
segment<font color="#CCCCCC"> and that meant that you</font><font color="#E5E5E5"> didn't</font>

203
00:09:24,230 --> 00:09:29,570
<font color="#E5E5E5">have to go to</font><font color="#CCCCCC"> different files when</font>

204
00:09:25,760 --> 00:09:32,000
searching so in some<font color="#E5E5E5"> sense it was a bit</font>

205
00:09:29,570 --> 00:09:34,550
better<font color="#E5E5E5"> but the problem was when you</font>

206
00:09:32,000 --> 00:09:37,370
added new issues or modifications you

207
00:09:34,550 --> 00:09:38,689
had this new<font color="#CCCCCC"> segment but</font><font color="#E5E5E5"> there were so</font>

208
00:09:37,370 --> 00:09:40,520
much<font color="#E5E5E5"> smaller than the big one they could</font>

209
00:09:38,690 --> 00:09:44,390
<font color="#CCCCCC">never</font><font color="#E5E5E5"> be matched</font><font color="#CCCCCC"> together</font><font color="#E5E5E5"> then you</font>

210
00:09:40,520 --> 00:09:47,569
started delete from<font color="#CCCCCC"> the big one but it</font>

211
00:09:44,390 --> 00:09:51,560
was still<font color="#CCCCCC"> too large to be</font><font color="#E5E5E5"> merged</font><font color="#CCCCCC"> and</font>

212
00:09:47,570 --> 00:09:53,840
that was that was<font color="#CCCCCC"> a problem and if we</font>

213
00:09:51,560 --> 00:09:54,680
now compare because now this optimize is

214
00:09:53,840 --> 00:09:57,850
gone

215
00:09:54,680 --> 00:10:02,780
we can compare to<font color="#CCCCCC"> the</font><font color="#E5E5E5"> seven</font><font color="#CCCCCC"> to gr8</font>

216
00:09:57,850 --> 00:10:05,600
<font color="#CCCCCC">performance wise if you look at</font><font color="#E5E5E5"> this</font>

217
00:10:02,780 --> 00:10:09,230
<font color="#E5E5E5">actually when we first measured</font><font color="#CCCCCC"> gr8 was</font>

218
00:10:05,600 --> 00:10:12,410
slower than<font color="#CCCCCC"> zero seven we took our 1</font>

219
00:10:09,230 --> 00:10:15,920
million<font color="#CCCCCC"> issues</font><font color="#E5E5E5"> we run the test of</font>

220
00:10:12,410 --> 00:10:19,430
searching<font color="#CCCCCC"> by text</font><font color="#E5E5E5"> very simple simple</font>

221
00:10:15,920 --> 00:10:22,910
test and it took only<font color="#CCCCCC"> 200 milliseconds</font>

222
00:10:19,430 --> 00:10:26,109
in JIRA<font color="#CCCCCC"> 7 but it took almost 400</font>

223
00:10:22,910 --> 00:10:29,569
<font color="#E5E5E5">milliseconds in JIRA 8</font>

224
00:10:26,110 --> 00:10:31,370
that was not what we expected<font color="#CCCCCC"> was it but</font>

225
00:10:29,570 --> 00:10:35,660
then we<font color="#E5E5E5"> recall that</font><font color="#CCCCCC"> optimize and we</font>

226
00:10:31,370 --> 00:10:38,390
thought<font color="#E5E5E5"> ok JIRA 7 was merged into one</font>

227
00:10:35,660 --> 00:10:40,790
segment<font color="#CCCCCC"> so what if we</font><font color="#E5E5E5"> apply a week of</font>

228
00:10:38,390 --> 00:10:44,030
work<font color="#E5E5E5"> say updates to the issues</font>

229
00:10:40,790 --> 00:10:49,160
commenting creating new issues<font color="#E5E5E5"> and you</font>

230
00:10:44,030 --> 00:10:51,199
rerun the same search again<font color="#CCCCCC"> this</font><font color="#E5E5E5"> is what</font>

231
00:10:49,160 --> 00:10:55,969
happened<font color="#E5E5E5"> to</font><font color="#CCCCCC"> Duras</font><font color="#E5E5E5"> 7 it degraded very</font>

232
00:10:51,200 --> 00:10:56,780
badly while JIRA 8 is is intact and this

233
00:10:55,970 --> 00:11:00,050
is a big pain

234
00:10:56,780 --> 00:11:03,980
4:07 customers<font color="#E5E5E5"> because they have this</font>

235
00:11:00,050 --> 00:11:05,900
optimized index which<font color="#E5E5E5"> means that the</font>

236
00:11:03,980 --> 00:11:08,420
index<font color="#E5E5E5"> over the weekend it works fine on</font>

237
00:11:05,900 --> 00:11:10,459
<font color="#E5E5E5">Monday but by the time Friday comes it</font>

238
00:11:08,420 --> 00:11:11,839
really slows down<font color="#E5E5E5"> so they have a weekly</font>

239
00:11:10,460 --> 00:11:15,170
<font color="#E5E5E5">routine through index</font>

240
00:11:11,840 --> 00:11:18,529
and now now this problem is is gone<font color="#E5E5E5"> and</font>

241
00:11:15,170 --> 00:11:20,300
they can<font color="#E5E5E5"> enjoy new JIRA that was search</font>

242
00:11:18,529 --> 00:11:25,340
by text if<font color="#CCCCCC"> you said by assignee which is</font>

243
00:11:20,300 --> 00:11:29,120
simpler<font color="#CCCCCC"> they start</font><font color="#E5E5E5"> head to head but then</font>

244
00:11:25,340 --> 00:11:32,270
again<font color="#CCCCCC"> seven degrades well</font><font color="#E5E5E5"> a</font><font color="#CCCCCC"> eight stays</font>

245
00:11:29,120 --> 00:11:35,029
intact<font color="#E5E5E5"> if you search</font><font color="#CCCCCC"> by created date</font>

246
00:11:32,270 --> 00:11:37,339
<font color="#CCCCCC">juror</font><font color="#E5E5E5"> eight is three times faster and</font>

247
00:11:35,029 --> 00:11:39,890
<font color="#CCCCCC">that is because now we index dates as</font>

248
00:11:37,339 --> 00:11:42,350
numbers rather than<font color="#E5E5E5"> as text and doing</font>

249
00:11:39,890 --> 00:11:45,920
range queries on numbers is faster<font color="#CCCCCC"> than</font>

250
00:11:42,350 --> 00:11:48,160
doing<font color="#E5E5E5"> great queries on strings and again</font>

251
00:11:45,920 --> 00:11:50,029
the worst<font color="#E5E5E5"> degradation</font><font color="#CCCCCC"> into</font><font color="#E5E5E5"> a seven</font>

252
00:11:48,160 --> 00:11:52,040
another thing<font color="#E5E5E5"> that we got with the</font>

253
00:11:50,029 --> 00:11:54,050
<font color="#CCCCCC">noodle scene actually lost again was</font>

254
00:11:52,040 --> 00:11:56,990
<font color="#CCCCCC">filled</font><font color="#E5E5E5"> cache filled cache was this data</font>

255
00:11:54,050 --> 00:11:59,329
structure<font color="#CCCCCC"> that answered the question</font>

256
00:11:56,990 --> 00:12:01,730
what is the value of my field across<font color="#E5E5E5"> all</font>

257
00:11:59,330 --> 00:12:04,880
documents so for example what is the

258
00:12:01,730 --> 00:12:06,860
value of the assignee in all my issues

259
00:12:04,880 --> 00:12:09,560
<font color="#E5E5E5">and</font><font color="#CCCCCC"> the problem with this was twofold</font>

260
00:12:06,860 --> 00:12:13,820
first it was calculated<font color="#E5E5E5"> on demand so</font><font color="#CCCCCC"> we</font>

261
00:12:09,560 --> 00:12:15,650
<font color="#CCCCCC">have to scan your index and and put that</font>

262
00:12:13,820 --> 00:12:18,589
and the second problem<font color="#E5E5E5"> was where you put</font>

263
00:12:15,650 --> 00:12:21,260
it you<font color="#E5E5E5"> put it on heap which meant</font><font color="#CCCCCC"> that</font>

264
00:12:18,589 --> 00:12:23,960
your<font color="#E5E5E5"> hip-hip usage was increasing over</font>

265
00:12:21,260 --> 00:12:27,080
time and as every good<font color="#E5E5E5"> cache it was</font>

266
00:12:23,960 --> 00:12:29,660
never freed in JIRA so now<font color="#E5E5E5"> this is gone</font>

267
00:12:27,080 --> 00:12:31,940
<font color="#CCCCCC">so</font><font color="#E5E5E5"> we had to move to the new thing which</font>

268
00:12:29,660 --> 00:12:34,189
is dog values it's more or<font color="#CCCCCC"> less</font><font color="#E5E5E5"> the same</font>

269
00:12:31,940 --> 00:12:37,250
mechanism but it's built during indexing

270
00:12:34,190 --> 00:12:40,880
and when you need it<font color="#CCCCCC"> it's already</font><font color="#E5E5E5"> there</font>

271
00:12:37,250 --> 00:12:43,850
you just pull<font color="#E5E5E5"> it from</font><font color="#CCCCCC"> the disk once you</font>

272
00:12:40,880 --> 00:12:46,100
once in needed and as soon as<font color="#E5E5E5"> you don't</font>

273
00:12:43,850 --> 00:12:51,050
<font color="#E5E5E5">need it anymore the</font><font color="#CCCCCC"> OS</font><font color="#E5E5E5"> will swap it out</font>

274
00:12:46,100 --> 00:12:55,970
for<font color="#CCCCCC"> you</font><font color="#E5E5E5"> so there will be no impact on on</font>

275
00:12:51,050 --> 00:12:58,729
GC another thing that we got improved

276
00:12:55,970 --> 00:13:01,010
was resiliency<font color="#CCCCCC"> go7</font>

277
00:12:58,730 --> 00:13:05,450
compared to JIRA<font color="#CCCCCC"> 3 it's more resilient</font>

278
00:13:01,010 --> 00:13:08,029
<font color="#CCCCCC">when it comes to abrupt failures of your</font>

279
00:13:05,450 --> 00:13:10,010
<font color="#E5E5E5">machine so Indra 3 when you are indexing</font>

280
00:13:08,029 --> 00:13:12,920
something and the power went<font color="#E5E5E5"> off you</font>

281
00:13:10,010 --> 00:13:15,770
might end up<font color="#E5E5E5"> with crafted index and that</font>

282
00:13:12,920 --> 00:13:17,089
would lead to<font color="#CCCCCC"> all the indexes corrupted</font>

283
00:13:15,770 --> 00:13:18,770
so you had to<font color="#E5E5E5"> rein</font><font color="#CCCCCC"> in the exit</font><font color="#E5E5E5"> and for</font>

284
00:13:17,089 --> 00:13:22,820
our biggest customers that would<font color="#E5E5E5"> be a</font>

285
00:13:18,770 --> 00:13:25,130
week of outage<font color="#E5E5E5"> of JIRA and JIRA 7 and</font>

286
00:13:22,820 --> 00:13:28,130
now<font color="#E5E5E5"> doesn't have this</font><font color="#CCCCCC"> problem</font>

287
00:13:25,130 --> 00:13:30,530
and<font color="#CCCCCC"> there is a funny story that</font><font color="#E5E5E5"> I heard</font>

288
00:13:28,130 --> 00:13:33,380
<font color="#CCCCCC">from over about Mike</font><font color="#E5E5E5"> McCandles who was</font>

289
00:13:30,530 --> 00:13:35,390
testing this new<font color="#E5E5E5"> leucine and that it</font>

290
00:13:33,380 --> 00:13:37,160
cannot be<font color="#E5E5E5"> corrupted</font><font color="#CCCCCC"> so he set up two</font>

291
00:13:35,390 --> 00:13:39,740
machines in one machine<font color="#E5E5E5"> was controlling</font>

292
00:13:37,160 --> 00:13:41,689
<font color="#E5E5E5">the power outlet of the other machine he</font>

293
00:13:39,740 --> 00:13:43,760
was indexing something and pulling the

294
00:13:41,690 --> 00:13:46,760
plug and then making<font color="#E5E5E5"> sure</font><font color="#CCCCCC"> that the index</font>

295
00:13:43,760 --> 00:13:48,710
was was<font color="#E5E5E5"> not corrupted and and this is</font>

296
00:13:46,760 --> 00:13:51,410
<font color="#CCCCCC">something that you get when you update</font>

297
00:13:48,710 --> 00:13:53,480
libraries<font color="#E5E5E5"> somebody did the hard work and</font>

298
00:13:51,410 --> 00:13:56,750
you you get<font color="#E5E5E5"> it so it's always a good</font>

299
00:13:53,480 --> 00:14:00,020
idea to<font color="#E5E5E5"> upgrade and we did work on our</font>

300
00:13:56,750 --> 00:14:02,210
side as well when<font color="#CCCCCC"> dira has a new issue</font>

301
00:14:00,020 --> 00:14:05,720
or if you<font color="#CCCCCC"> update</font><font color="#E5E5E5"> and we put</font><font color="#CCCCCC"> that on</font><font color="#E5E5E5"> a</font>

302
00:14:02,210 --> 00:14:09,080
queue<font color="#CCCCCC"> of issues to be</font><font color="#E5E5E5"> to be indexed but</font>

303
00:14:05,720 --> 00:14:11,000
when when your machine<font color="#E5E5E5"> dies</font><font color="#CCCCCC"> sometimes do</font>

304
00:14:09,080 --> 00:14:14,180
lost that<font color="#E5E5E5"> queue and now we improve that</font>

305
00:14:11,000 --> 00:14:17,810
<font color="#E5E5E5">so so everything will</font><font color="#CCCCCC"> be in</font><font color="#E5E5E5"> your index</font>

306
00:14:14,180 --> 00:14:21,199
when you when you restart JIRA and<font color="#E5E5E5"> the</font>

307
00:14:17,810 --> 00:14:25,310
last big change<font color="#CCCCCC"> that</font><font color="#E5E5E5"> we did was was</font>

308
00:14:21,200 --> 00:14:27,620
around permissions<font color="#E5E5E5"> permissions as I told</font>

309
00:14:25,310 --> 00:14:29,510
you is a big thing in JIRA it's a very

310
00:14:27,620 --> 00:14:31,070
flexible mechanism you can<font color="#E5E5E5"> you can say</font>

311
00:14:29,510 --> 00:14:33,260
everybody can<font color="#E5E5E5"> see your issues</font><font color="#CCCCCC"> or you</font><font color="#E5E5E5"> can</font>

312
00:14:31,070 --> 00:14:35,720
say only<font color="#E5E5E5"> people who are logged</font><font color="#CCCCCC"> into</font><font color="#E5E5E5"> your</font>

313
00:14:33,260 --> 00:14:39,110
<font color="#CCCCCC">application can see issues or only</font>

314
00:14:35,720 --> 00:14:40,910
<font color="#E5E5E5">people only the</font><font color="#CCCCCC"> project lead the person</font>

315
00:14:39,110 --> 00:14:43,400
<font color="#CCCCCC">who reported</font><font color="#E5E5E5"> it and the person</font><font color="#CCCCCC"> who is</font>

316
00:14:40,910 --> 00:14:46,250
assigned<font color="#E5E5E5"> to it can see those issue or</font>

317
00:14:43,400 --> 00:14:47,930
only members of<font color="#CCCCCC"> a group can see that</font>

318
00:14:46,250 --> 00:14:49,460
issue or only<font color="#E5E5E5"> members</font><font color="#CCCCCC"> of a group</font><font color="#E5E5E5"> which</font>

319
00:14:47,930 --> 00:14:51,650
<font color="#E5E5E5">is set</font><font color="#CCCCCC"> to a value</font><font color="#E5E5E5"> of a custom</font><font color="#CCCCCC"> fit on</font>

320
00:14:49,460 --> 00:14:54,610
that<font color="#CCCCCC"> issue can see that issue</font><font color="#E5E5E5"> and all of</font>

321
00:14:51,650 --> 00:14:57,410
that<font color="#E5E5E5"> has to</font><font color="#CCCCCC"> be handled</font><font color="#E5E5E5"> by by the index</font>

322
00:14:54,610 --> 00:14:59,120
so to understand what the change<font color="#E5E5E5"> let's</font>

323
00:14:57,410 --> 00:15:01,040
have a look at a very<font color="#CCCCCC"> simple model</font><font color="#E5E5E5"> of an</font>

324
00:14:59,120 --> 00:15:03,560
issue<font color="#E5E5E5"> it has a project it's in project</font>

325
00:15:01,040 --> 00:15:05,689
<font color="#CCCCCC">to its summary improved permissions it's</font>

326
00:15:03,560 --> 00:15:08,510
assigned to over he will soon learn why

327
00:15:05,690 --> 00:15:12,260
and then it has custom field<font color="#E5E5E5"> one with</font>

328
00:15:08,510 --> 00:15:15,500
value group<font color="#E5E5E5"> two and this</font><font color="#CCCCCC"> is what we need</font>

329
00:15:12,260 --> 00:15:19,069
for<font color="#E5E5E5"> searching but we now added a new</font>

330
00:15:15,500 --> 00:15:21,680
field project permissions<font color="#E5E5E5"> where we index</font>

331
00:15:19,070 --> 00:15:26,150
combination<font color="#E5E5E5"> combinations of these values</font>

332
00:15:21,680 --> 00:15:28,750
<font color="#E5E5E5">so we index p2 for project p2 as any</font>

333
00:15:26,150 --> 00:15:31,490
over<font color="#E5E5E5"> for pair of project an assignee and</font>

334
00:15:28,750 --> 00:15:33,980
then p2 custom field one group two for

335
00:15:31,490 --> 00:15:35,960
the pair of project<font color="#E5E5E5"> and custom field and</font>

336
00:15:33,980 --> 00:15:38,400
now let's see how how the search looks

337
00:15:35,960 --> 00:15:40,410
like say I'm<font color="#E5E5E5"> searching for</font>

338
00:15:38,400 --> 00:15:44,610
summary is like permissions<font color="#E5E5E5"> this</font><font color="#CCCCCC"> is what</font>

339
00:15:40,410 --> 00:15:46,260
I want to see but on top<font color="#CCCCCC"> of that jury</font>

340
00:15:44,610 --> 00:15:48,210
needs to<font color="#E5E5E5"> add a permission query which</font>

341
00:15:46,260 --> 00:15:51,029
will<font color="#E5E5E5"> limit the results to what I am</font>

342
00:15:48,210 --> 00:15:53,040
allowed to<font color="#E5E5E5"> see</font><font color="#CCCCCC"> we'll be</font><font color="#E5E5E5"> building to</font>

343
00:15:51,029 --> 00:15:55,650
permission<font color="#E5E5E5"> queries one in the old style</font>

344
00:15:53,040 --> 00:15:57,390
<font color="#E5E5E5">which will be a boolean query and the</font>

345
00:15:55,650 --> 00:16:00,630
new one which will be<font color="#CCCCCC"> a term in</font><font color="#E5E5E5"> set</font>

346
00:15:57,390 --> 00:16:03,510
query<font color="#CCCCCC"> term in</font><font color="#E5E5E5"> set is a query which will</font>

347
00:16:00,630 --> 00:16:05,670
match<font color="#CCCCCC"> as long as there is one element</font><font color="#E5E5E5"> in</font>

348
00:16:03,510 --> 00:16:07,920
<font color="#CCCCCC">the query that much is one element that</font>

349
00:16:05,670 --> 00:16:11,640
was<font color="#E5E5E5"> indexed in the new field project</font>

350
00:16:07,920 --> 00:16:15,709
permissions<font color="#E5E5E5"> so will be</font><font color="#CCCCCC"> following my</font>

351
00:16:11,640 --> 00:16:18,270
artificial project permissions scheme<font color="#E5E5E5"> so</font>

352
00:16:15,710 --> 00:16:20,310
let's say I'm allowed to see issues<font color="#E5E5E5"> from</font>

353
00:16:18,270 --> 00:16:22,620
<font color="#E5E5E5">project one in the</font><font color="#CCCCCC"> other</font><font color="#E5E5E5"> way it will be</font>

354
00:16:20,310 --> 00:16:25,439
<font color="#CCCCCC">just project one</font><font color="#E5E5E5"> and in the new way we</font>

355
00:16:22,620 --> 00:16:29,880
add value<font color="#E5E5E5"> to the</font><font color="#CCCCCC"> terms in set query</font>

356
00:16:25,440 --> 00:16:32,040
<font color="#E5E5E5">saying p1 then I'm also allowed to see</font>

357
00:16:29,880 --> 00:16:34,920
issues<font color="#E5E5E5"> from project</font><font color="#CCCCCC"> - which are assigned</font>

358
00:16:32,040 --> 00:16:37,770
<font color="#CCCCCC">to me so then that will</font><font color="#E5E5E5"> be project</font><font color="#CCCCCC"> two</font>

359
00:16:34,920 --> 00:16:40,500
and assignee<font color="#E5E5E5"> equals cameo in the new</font>

360
00:16:37,770 --> 00:16:43,260
world<font color="#CCCCCC"> it's it's one term which says p2</font>

361
00:16:40,500 --> 00:16:46,770
as any coming<font color="#E5E5E5"> then I'm also allowed to</font>

362
00:16:43,260 --> 00:16:49,500
<font color="#CCCCCC">see issues</font><font color="#E5E5E5"> in project 2 as long as I'm a</font>

363
00:16:46,770 --> 00:16:51,779
member<font color="#E5E5E5"> of a group in that custom field</font>

364
00:16:49,500 --> 00:16:53,270
<font color="#E5E5E5">so say I'm a member of three groups</font>

365
00:16:51,779 --> 00:16:55,800
<font color="#E5E5E5">group 1 2</font><font color="#CCCCCC"> & 3</font>

366
00:16:53,270 --> 00:16:58,170
<font color="#CCCCCC">so the boolean query becomes project 2</font>

367
00:16:55,800 --> 00:17:01,349
and custom field<font color="#CCCCCC"> Group 1 group 2 or</font>

368
00:16:58,170 --> 00:17:04,459
group 3 in the new one we flatten that

369
00:17:01,350 --> 00:17:09,510
we explode the boolean query to two

370
00:17:04,459 --> 00:17:15,059
terms so they become single terms<font color="#E5E5E5"> rather</font>

371
00:17:09,510 --> 00:17:16,949
<font color="#E5E5E5">than combinations of</font><font color="#CCCCCC"> a</font><font color="#E5E5E5"> boolean and this</font>

372
00:17:15,059 --> 00:17:20,339
one matches<font color="#CCCCCC"> you</font><font color="#E5E5E5"> can see that project</font><font color="#CCCCCC"> 2</font>

373
00:17:16,949 --> 00:17:23,189
and custom field 1 equals group<font color="#E5E5E5"> 2</font>

374
00:17:20,339 --> 00:17:24,270
matches what we have in the issue<font color="#E5E5E5"> and in</font>

375
00:17:23,189 --> 00:17:28,380
the new mechanism

376
00:17:24,270 --> 00:17:30,510
I clicked but it didn't move in the new

377
00:17:28,380 --> 00:17:33,270
mechanism you<font color="#E5E5E5"> can see that the term</font>

378
00:17:30,510 --> 00:17:34,770
matches<font color="#E5E5E5"> what we index on the project</font>

379
00:17:33,270 --> 00:17:37,860
<font color="#CCCCCC">permissions so I would be able</font><font color="#E5E5E5"> to see</font>

380
00:17:34,770 --> 00:17:40,290
that issue<font color="#E5E5E5"> in</font><font color="#CCCCCC"> both involve cases</font><font color="#E5E5E5"> then we</font>

381
00:17:37,860 --> 00:17:42,419
<font color="#E5E5E5">can go for project 3 which has the same</font>

382
00:17:40,290 --> 00:17:46,370
permissions and project for which<font color="#E5E5E5"> has a</font>

383
00:17:42,420 --> 00:17:50,670
different different permission scheme

384
00:17:46,370 --> 00:17:53,219
this<font color="#E5E5E5"> might look complicated</font><font color="#CCCCCC"> in</font><font color="#E5E5E5"> fact it's</font>

385
00:17:50,670 --> 00:17:55,650
rather<font color="#E5E5E5"> simple query it has 4 projects</font>

386
00:17:53,220 --> 00:17:57,690
<font color="#E5E5E5">and I'm a member of</font><font color="#CCCCCC"> three groups</font><font color="#E5E5E5"> imagine</font>

387
00:17:55,650 --> 00:17:59,250
in a real life<font color="#E5E5E5"> there would</font><font color="#CCCCCC"> be a thousand</font>

388
00:17:57,690 --> 00:18:01,530
<font color="#E5E5E5">projects and that would be a member</font><font color="#CCCCCC"> of</font>

389
00:17:59,250 --> 00:18:05,310
say 50 groups the query would become

390
00:18:01,530 --> 00:18:06,928
huge<font color="#CCCCCC"> and then JIRA</font><font color="#E5E5E5"> sorry</font><font color="#CCCCCC"> routine had to</font>

391
00:18:05,310 --> 00:18:09,060
go to his<font color="#E5E5E5"> hands and ores and ores and</font>

392
00:18:06,929 --> 00:18:13,100
<font color="#CCCCCC">adds</font><font color="#E5E5E5"> trying to evaluate that against</font>

393
00:18:09,060 --> 00:18:17,460
<font color="#E5E5E5">your issue and that that</font><font color="#CCCCCC"> was slower</font><font color="#E5E5E5"> and</font>

394
00:18:13,100 --> 00:18:19,500
looking at this<font color="#E5E5E5"> they took you to</font><font color="#CCCCCC"> your</font>

395
00:18:17,460 --> 00:18:21,600
eye state they might look similar<font color="#E5E5E5"> in</font>

396
00:18:19,500 --> 00:18:23,400
size but<font color="#E5E5E5"> this one is much easier to</font>

397
00:18:21,600 --> 00:18:25,290
<font color="#CCCCCC">evaluate because</font><font color="#E5E5E5"> it's just a set of</font>

398
00:18:23,400 --> 00:18:27,030
<font color="#CCCCCC">terms and you need to find a common</font>

399
00:18:25,290 --> 00:18:31,409
<font color="#E5E5E5">value</font><font color="#CCCCCC"> between these two and the soon is</font>

400
00:18:27,030 --> 00:18:34,800
<font color="#CCCCCC">to find one</font><font color="#E5E5E5"> you're done so this one is</font>

401
00:18:31,410 --> 00:18:37,110
is faster and in fact it's actually<font color="#CCCCCC"> 5</font>

402
00:18:34,800 --> 00:18:39,960
times faster when you when we compared

403
00:18:37,110 --> 00:18:43,229
running search<font color="#E5E5E5"> just before we merge that</font>

404
00:18:39,960 --> 00:18:48,179
<font color="#E5E5E5">fix and just after</font><font color="#CCCCCC"> it became 5 times</font>

405
00:18:43,230 --> 00:18:50,550
faster<font color="#E5E5E5"> I cannot we cannot take all the</font>

406
00:18:48,179 --> 00:18:53,610
credit<font color="#E5E5E5"> for this</font><font color="#CCCCCC"> idea</font><font color="#E5E5E5"> which moves us to</font>

407
00:18:50,550 --> 00:18:55,889
<font color="#CCCCCC">the next to the</font><font color="#E5E5E5"> next topic which is</font>

408
00:18:53,610 --> 00:18:58,439
partnership with over when we started

409
00:18:55,890 --> 00:19:01,560
our<font color="#CCCCCC"> journey up that mountain of</font>

410
00:18:58,440 --> 00:19:03,810
<font color="#E5E5E5">upgrading club scene we decided to get</font>

411
00:19:01,560 --> 00:19:05,730
<font color="#E5E5E5">some help external help from a</font>

412
00:19:03,810 --> 00:19:07,530
consultant who knew<font color="#CCCCCC"> Lucene we reached</font><font color="#E5E5E5"> a</font>

413
00:19:05,730 --> 00:19:12,450
company named flux and they directed us

414
00:19:07,530 --> 00:19:15,600
<font color="#E5E5E5">to over</font><font color="#CCCCCC"> overcame on site</font><font color="#E5E5E5"> and we spent a</font>

415
00:19:12,450 --> 00:19:18,900
week with<font color="#E5E5E5"> him</font><font color="#CCCCCC"> first he gave us lectures</font>

416
00:19:15,600 --> 00:19:21,090
<font color="#E5E5E5">what has changed between the scene</font><font color="#CCCCCC"> 3 & 7</font>

417
00:19:18,900 --> 00:19:25,290
<font color="#E5E5E5">and then we spent three days looking at</font>

418
00:19:21,090 --> 00:19:28,168
our code<font color="#CCCCCC"> to see how how we</font><font color="#E5E5E5"> can how we</font>

419
00:19:25,290 --> 00:19:31,440
can<font color="#E5E5E5"> improve it and some of you might be</font>

420
00:19:28,169 --> 00:19:33,750
<font color="#E5E5E5">worried</font><font color="#CCCCCC"> that when you when you invite an</font>

421
00:19:31,440 --> 00:19:34,679
expert you need to have<font color="#E5E5E5"> questions but</font>

422
00:19:33,750 --> 00:19:37,080
the good<font color="#CCCCCC"> thing about working with</font>

423
00:19:34,679 --> 00:19:38,910
<font color="#E5E5E5">experts is you don't need yes/no</font>

424
00:19:37,080 --> 00:19:40,168
questions you can just<font color="#CCCCCC"> show them your</font>

425
00:19:38,910 --> 00:19:43,169
problems<font color="#E5E5E5"> and they'll come up with</font>

426
00:19:40,169 --> 00:19:45,179
<font color="#E5E5E5">solutions for</font><font color="#CCCCCC"> example the permission</font><font color="#E5E5E5"> the</font>

427
00:19:43,169 --> 00:19:48,870
new permission query is an idea by over

428
00:19:45,179 --> 00:19:50,490
and we<font color="#CCCCCC"> just told him</font><font color="#E5E5E5"> our our permission</font>

429
00:19:48,870 --> 00:19:51,889
<font color="#E5E5E5">is slow can you can you think of</font>

430
00:19:50,490 --> 00:19:57,990
<font color="#CCCCCC">something</font><font color="#E5E5E5"> better</font>

431
00:19:51,890 --> 00:19:59,520
also when when you work with<font color="#E5E5E5"> experts</font>

432
00:19:57,990 --> 00:20:00,770
<font color="#E5E5E5">they will tell you what not</font><font color="#CCCCCC"> to do for</font>

433
00:19:59,520 --> 00:20:03,290
<font color="#E5E5E5">example</font>

434
00:20:00,770 --> 00:20:05,929
every issue has ID which<font color="#CCCCCC"> is a number</font><font color="#E5E5E5"> and</font>

435
00:20:03,290 --> 00:20:10,428
we wanted<font color="#E5E5E5"> to change that to be</font><font color="#CCCCCC"> no</font><font color="#E5E5E5"> longer</font>

436
00:20:05,929 --> 00:20:12,620
<font color="#CCCCCC">a string</font><font color="#E5E5E5"> but a number in the scene but</font>

437
00:20:10,429 --> 00:20:14,000
Hoover<font color="#E5E5E5"> told us that what</font><font color="#CCCCCC"> loosing has</font>

438
00:20:12,620 --> 00:20:16,459
been doing<font color="#CCCCCC"> for the</font><font color="#E5E5E5"> past</font><font color="#CCCCCC"> ten years is</font>

439
00:20:14,000 --> 00:20:18,050
searching for<font color="#CCCCCC"> Strings so that's much</font>

440
00:20:16,460 --> 00:20:19,670
<font color="#E5E5E5">more optimized than searching</font><font color="#CCCCCC"> for</font>

441
00:20:18,050 --> 00:20:22,070
numbers<font color="#E5E5E5"> searching</font><font color="#CCCCCC"> for numbers is</font>

442
00:20:19,670 --> 00:20:23,750
actually a range query<font color="#CCCCCC"> so when you look</font>

443
00:20:22,070 --> 00:20:25,639
for an executive value it's better to

444
00:20:23,750 --> 00:20:28,360
<font color="#E5E5E5">keep it as string even</font><font color="#CCCCCC"> though it's a</font>

445
00:20:25,640 --> 00:20:32,630
<font color="#E5E5E5">number and this is something that we</font>

446
00:20:28,360 --> 00:20:35,209
<font color="#E5E5E5">wouldn't have known if we hadn't spoken</font>

447
00:20:32,630 --> 00:20:37,420
with<font color="#CCCCCC"> even and we probably would have</font>

448
00:20:35,210 --> 00:20:40,940
<font color="#E5E5E5">fallen into that trap</font>

449
00:20:37,420 --> 00:20:43,100
<font color="#CCCCCC">in the future</font><font color="#E5E5E5"> because</font><font color="#CCCCCC"> dira is much</font>

450
00:20:40,940 --> 00:20:45,320
better now than<font color="#CCCCCC"> it was</font><font color="#E5E5E5"> but it's it's</font>

451
00:20:43,100 --> 00:20:47,990
<font color="#E5E5E5">always</font><font color="#CCCCCC"> constant</font><font color="#E5E5E5"> a</font><font color="#CCCCCC"> constant work to</font>

452
00:20:45,320 --> 00:20:49,730
improve<font color="#E5E5E5"> it we want to improve the way we</font>

453
00:20:47,990 --> 00:20:53,450
manage<font color="#E5E5E5"> index indices when you have</font>

454
00:20:49,730 --> 00:20:55,040
multiple<font color="#CCCCCC"> Jura</font><font color="#E5E5E5"> notes so instances of JIRA</font>

455
00:20:53,450 --> 00:21:00,590
which<font color="#CCCCCC"> had one database</font><font color="#E5E5E5"> but they have</font>

456
00:20:55,040 --> 00:21:02,210
their own local indexes we<font color="#E5E5E5"> have a</font>

457
00:21:00,590 --> 00:21:04,490
mechanism<font color="#E5E5E5"> to copy the index between</font>

458
00:21:02,210 --> 00:21:08,059
<font color="#CCCCCC">nodes</font><font color="#E5E5E5"> if if there is a failure of one</font>

459
00:21:04,490 --> 00:21:10,040
<font color="#CCCCCC">node and we want to improve that</font><font color="#E5E5E5"> also we</font>

460
00:21:08,059 --> 00:21:13,190
want<font color="#E5E5E5"> to increase the indexing speed</font>

461
00:21:10,040 --> 00:21:14,928
because<font color="#E5E5E5"> we identified some some</font>

462
00:21:13,190 --> 00:21:20,330
inefficiencies in<font color="#E5E5E5"> the way we index and</font>

463
00:21:14,929 --> 00:21:23,000
we need to improve our<font color="#CCCCCC"> api's because</font>

464
00:21:20,330 --> 00:21:25,449
currently<font color="#E5E5E5"> a</font><font color="#CCCCCC"> plugin</font><font color="#E5E5E5"> can run a query</font><font color="#CCCCCC"> under</font>

465
00:21:23,000 --> 00:21:28,610
<font color="#E5E5E5">us and</font><font color="#CCCCCC"> give me all</font><font color="#E5E5E5"> 1 million issues</font>

466
00:21:25,450 --> 00:21:30,290
<font color="#E5E5E5">sorted at once and that can bring the</font>

467
00:21:28,610 --> 00:21:32,990
instance down so we need to<font color="#CCCCCC"> find a way</font>

468
00:21:30,290 --> 00:21:37,460
how<font color="#CCCCCC"> to how</font><font color="#E5E5E5"> to</font><font color="#CCCCCC"> avoid</font><font color="#E5E5E5"> that at the same</font>

469
00:21:32,990 --> 00:21:39,770
<font color="#E5E5E5">time not</font><font color="#CCCCCC"> stop the functionality of of</font>

470
00:21:37,460 --> 00:21:41,480
those plugins<font color="#E5E5E5"> and if you find any of</font>

471
00:21:39,770 --> 00:21:45,050
<font color="#E5E5E5">this interesting</font><font color="#CCCCCC"> we are always</font><font color="#E5E5E5"> hungry</font>

472
00:21:41,480 --> 00:21:47,960
for<font color="#CCCCCC"> for talents</font><font color="#E5E5E5"> so go to</font><font color="#CCCCCC"> Sparta's come</font>

473
00:21:45,050 --> 00:21:50,178
and slash careers<font color="#E5E5E5"> and I would like to</font>

474
00:21:47,960 --> 00:21:52,070
leave you<font color="#E5E5E5"> with three thoughts</font><font color="#CCCCCC"> it's</font>

475
00:21:50,179 --> 00:21:53,690
<font color="#E5E5E5">always good to</font><font color="#CCCCCC"> ask someone</font><font color="#E5E5E5"> who knows</font>

476
00:21:52,070 --> 00:21:55,520
rather than reinvent the wheel so

477
00:21:53,690 --> 00:21:57,080
<font color="#CCCCCC">whether it's</font><font color="#E5E5E5"> your colleague or a</font>

478
00:21:55,520 --> 00:21:58,960
consultant<font color="#CCCCCC"> that</font><font color="#E5E5E5"> you need to pay it's</font>

479
00:21:57,080 --> 00:22:03,230
probably worth the money

480
00:21:58,960 --> 00:22:04,970
<font color="#E5E5E5">Bank of called depth pays off so when</font>

481
00:22:03,230 --> 00:22:07,520
<font color="#E5E5E5">you pay your</font><font color="#CCCCCC"> mortgage</font><font color="#E5E5E5"> you don't get</font>

482
00:22:04,970 --> 00:22:09,800
anything new<font color="#E5E5E5"> in return you</font><font color="#CCCCCC"> just stay in</font>

483
00:22:07,520 --> 00:22:13,879
your house<font color="#E5E5E5"> but when you pay off called</font>

484
00:22:09,800 --> 00:22:14,690
depth<font color="#CCCCCC"> you you can get more results than</font>

485
00:22:13,880 --> 00:22:17,210
you<font color="#E5E5E5"> actually</font>

486
00:22:14,690 --> 00:22:19,430
and the last<font color="#E5E5E5"> one is never lose hope in</font>

487
00:22:17,210 --> 00:22:22,490
your<font color="#E5E5E5"> coat</font><font color="#CCCCCC"> even if you haven't done</font>

488
00:22:19,430 --> 00:22:25,010
something<font color="#E5E5E5"> for say seven years and you</font>

489
00:22:22,490 --> 00:22:28,610
think<font color="#E5E5E5"> there's no way you can get out of</font>

490
00:22:25,010 --> 00:22:37,730
of<font color="#CCCCCC"> coat depth</font><font color="#E5E5E5"> there is hope our example</font>

491
00:22:28,610 --> 00:22:40,280
shows that<font color="#CCCCCC"> it is possible</font><font color="#E5E5E5"> thank you we</font>

492
00:22:37,730 --> 00:22:42,020
<font color="#E5E5E5">have three minutes for questions and I</font>

493
00:22:40,280 --> 00:22:55,550
<font color="#E5E5E5">brought some</font><font color="#CCCCCC"> t-shirts</font><font color="#E5E5E5"> for those who ask</font>

494
00:22:42,020 --> 00:22:57,889
<font color="#CCCCCC">questions okay so the question</font><font color="#E5E5E5"> is would</font>

495
00:22:55,550 --> 00:23:02,810
<font color="#E5E5E5">it be worth to</font><font color="#CCCCCC"> use elasticsearch instead</font>

496
00:22:57,890 --> 00:23:05,660
of leucine it it would it would probably

497
00:23:02,810 --> 00:23:07,010
be we we are considering<font color="#E5E5E5"> that</font><font color="#CCCCCC"> and but it</font>

498
00:23:05,660 --> 00:23:10,250
will be a much bigger change than this

499
00:23:07,010 --> 00:23:15,080
upgrade and<font color="#CCCCCC"> to wait the</font><font color="#E5E5E5"> two is deployed</font>

500
00:23:10,250 --> 00:23:17,330
and so on<font color="#E5E5E5"> so we would it will work with</font>

501
00:23:15,080 --> 00:23:19,820
<font color="#CCCCCC">the multi multi instance dura</font><font color="#E5E5E5"> for</font>

502
00:23:17,330 --> 00:23:22,659
example DC where you have multiple<font color="#E5E5E5"> notes</font>

503
00:23:19,820 --> 00:23:26,300
then you have just one<font color="#E5E5E5"> elasticsearch</font>

504
00:23:22,660 --> 00:23:28,610
infrastructure but<font color="#E5E5E5"> we need to see</font>

505
00:23:26,300 --> 00:23:31,280
whether it's worth<font color="#E5E5E5"> the effort</font><font color="#CCCCCC"> in terms</font>

506
00:23:28,610 --> 00:23:47,240
of of<font color="#E5E5E5"> the operation so this digit is</font>

507
00:23:31,280 --> 00:23:48,530
taken some<font color="#E5E5E5"> drug in JIRA cloud they they</font>

508
00:23:47,240 --> 00:23:53,540
have a different mechanism based on

509
00:23:48,530 --> 00:23:54,770
<font color="#E5E5E5">Postgres because in dura dura server we</font>

510
00:23:53,540 --> 00:23:58,100
don't know what the database<font color="#E5E5E5"> would be</font>

511
00:23:54,770 --> 00:23:59,840
might<font color="#E5E5E5"> be Postgres might be</font><font color="#CCCCCC"> Oracle might</font>

512
00:23:58,100 --> 00:24:03,620
be<font color="#E5E5E5"> other database so we have the index</font>

513
00:23:59,840 --> 00:24:05,419
<font color="#E5E5E5">but into</font><font color="#CCCCCC"> a</font><font color="#E5E5E5"> cloud they have they do</font><font color="#CCCCCC"> its</font>

514
00:24:03,620 --> 00:24:07,879
<font color="#E5E5E5">Postgres</font><font color="#CCCCCC"> so they can optimize the search</font>

515
00:24:05,420 --> 00:24:11,020
on<font color="#E5E5E5"> Postgres and they don't need leucine</font>

516
00:24:07,880 --> 00:24:11,020
<font color="#E5E5E5">at all</font>

517
00:24:13,730 --> 00:24:17,740
[Music]

518
00:24:15,970 --> 00:24:26,140
the question is how we<font color="#E5E5E5"> sold it to</font><font color="#CCCCCC"> the</font>

519
00:24:17,740 --> 00:24:29,260
<font color="#E5E5E5">product manager yeah the question is how</font>

520
00:24:26,140 --> 00:24:31,330
we sold it if it<font color="#E5E5E5"> took six months of work</font>

521
00:24:29,260 --> 00:24:41,020
<font color="#CCCCCC">well we told</font><font color="#E5E5E5"> them it's going to take</font>

522
00:24:31,330 --> 00:24:42,730
three<font color="#CCCCCC"> weeks but</font><font color="#E5E5E5"> then</font><font color="#CCCCCC"> we just said</font><font color="#E5E5E5"> what</font>

523
00:24:41,020 --> 00:24:48,010
are the possible improvements how it can

524
00:24:42,730 --> 00:24:49,480
fix problems of clients<font color="#E5E5E5"> which which are</font>

525
00:24:48,010 --> 00:24:52,690
<font color="#E5E5E5">running into</font><font color="#CCCCCC"> issues such as these</font>

526
00:24:49,480 --> 00:24:56,950
degrading<font color="#E5E5E5"> index and so on so we</font><font color="#CCCCCC"> told</font>

527
00:24:52,690 --> 00:24:59,800
<font color="#CCCCCC">them it's</font><font color="#E5E5E5"> not</font><font color="#CCCCCC"> just our idea</font><font color="#E5E5E5"> just to just</font>

528
00:24:56,950 --> 00:25:01,510
to<font color="#CCCCCC"> be no better developers</font><font color="#E5E5E5"> it we</font>

529
00:24:59,800 --> 00:25:04,290
<font color="#CCCCCC">convinced</font><font color="#E5E5E5"> them</font><font color="#CCCCCC"> it's it's</font><font color="#E5E5E5"> going to</font>

530
00:25:01,510 --> 00:25:04,290
<font color="#E5E5E5">improve the product</font>

