1
00:00:01,730 --> 00:00:03,100
morning everyone while

2
00:00:03,100 --> 00:00:06,359
scare myself

3
00:00:06,359 --> 00:00:10,809
alright so

4
00:00:10,809 --> 00:00:13,880
for civil thanks thank you Mike at

5
00:00:13,880 --> 00:00:17,750
it's been wonderful presentation and I
really appreciate it

6
00:00:17,750 --> 00:00:21,490
you everyone else waking up this morning
to europe

7
00:00:21,490 --> 00:00:26,150
a.m. today I'm gonna talk about

8
00:00:26,150 --> 00:00:29,150
protesting advanced

9
00:00:29,150 --> 00:00:33,230
or the other side of protecting or what
you should do the Pentecost

10
00:00:33,230 --> 00:00:37,059
to prove that it actually worked not
just a

11
00:00:37,059 --> 00:00:40,489
you know exercising in

12
00:00:40,489 --> 00:00:43,690
being funny and happy with Metasploit or
necessary

13
00:00:43,690 --> 00:00:46,940
like that so local

14
00:00:46,940 --> 00:00:50,469
about myself this is my second app Kong
who

15
00:00:50,469 --> 00:00:53,570
and I'm not certified to do anything

16
00:00:53,570 --> 00:00:57,520
and I do consulting a at

17
00:00:57,520 --> 00:01:01,640
a small firm called security art hacker
researcher developer

18
00:01:01,640 --> 00:01:04,750
I'm good at breaking stuff I'm not that
good in

19
00:01:04,750 --> 00:01:09,290
building it but I Detroit at the Tri

20
00:01:09,290 --> 00:01:12,400
swear to God air I like prime

21
00:01:12,400 --> 00:01:16,720
war last year I do lottery since
cybercrime and cyber war

22
00:01:16,720 --> 00:01:20,790
and these are the only two Cyprus that
you're going to hear from me from now on

23
00:01:20,790 --> 00:01:24,390
and I love I run local Tuff Gong group

24
00:01:24,390 --> 00:01:28,320
back in tel aviv and I'm trying to set
up the

25
00:01:28,320 --> 00:01:32,229
is really sort civilians for that you
report

26
00:01:32,229 --> 00:01:36,390
stuff too and whatever free time I have
left

27
00:01:36,390 --> 00:01:39,390
are these things I do some

28
00:01:39,390 --> 00:01:42,920
reserve duty at the that Israeli Air
Force so

29
00:01:42,920 --> 00:01:46,159
this is what's up for the next 50
minutes

30
00:01:46,159 --> 00:01:49,399
forty-five minutes going to talk about
infiltration

31
00:01:49,399 --> 00:01:53,829
basically penetrating and network we're
going to talk about data acquisition

32
00:01:53,829 --> 00:01:58,420
area and data targeting which means

33
00:01:58,420 --> 00:02:03,610
you're not just again doing this for the
farm you have to find what youre

34
00:02:03,610 --> 00:02:07,240
or or target your resources to our topic

35
00:02:07,240 --> 00:02:11,459
useful and last but not least actual
trading

36
00:02:11,459 --> 00:02:15,620
getting the data out which is much more
fun

37
00:02:15,620 --> 00:02:19,030
so without further ado will start with
infiltration

38
00:02:19,030 --> 00:02:23,390
this is going to be a shorter part of
the presentation because I assume that

39
00:02:23,390 --> 00:02:27,170
all you no everything about testing in

40
00:02:27,170 --> 00:02:31,030
artworks so

41
00:02:31,030 --> 00:02:35,920
angelfish involves several factors gonna
talk about technical want the human ones

42
00:02:35,920 --> 00:02:39,810
and how do you control your

43
00:02:39,810 --> 00:02:44,780
bought or your payloads once you got
them into the network

44
00:02:44,780 --> 00:02:48,340
technical easy exploits right

45
00:02:48,340 --> 00:02:51,340
there or are those you have a

46
00:02:51,340 --> 00:02:54,569
distribution for love them backtrack I

47
00:02:54,569 --> 00:02:57,670
but what do you exploit well

48
00:02:57,670 --> 00:03:01,959
obviously where FTP male so here's a
thought so forth

49
00:03:01,959 --> 00:03:05,650
but that only gonna get you the basics
of that's only the

50
00:03:05,650 --> 00:03:08,940
crusty external layer a

51
00:03:08,940 --> 00:03:12,610
you still need to get further inside
well

52
00:03:12,610 --> 00:03:16,060
start using third-party tools everyone
to use

53
00:03:16,060 --> 00:03:20,909
limited all major US corporations use
Salesforce

54
00:03:20,909 --> 00:03:24,440
to measure sales its authors service

55
00:03:24,440 --> 00:03:29,349
that's the stuff that's gonna get you
deeper into the target organization

56
00:03:29,349 --> 00:03:32,909
then just hammering on their farrell's
web servers

57
00:03:32,909 --> 00:03:37,159
but they're harder to get tough luck

58
00:03:37,159 --> 00:03:40,700
gonna have to work harder a although
some have

59
00:03:40,700 --> 00:03:45,150
reproducible and the some

60
00:03:45,150 --> 00:03:48,340
once you will get there will be
reproducible

61
00:03:48,340 --> 00:03:52,220
other targets as well so it's one attack
multiple with

62
00:03:52,220 --> 00:03:56,530
the problem is it's a small attack
surface

63
00:03:56,530 --> 00:04:00,950
how do so start with Windows

64
00:04:00,950 --> 00:04:04,180
still predominantly the most

65
00:04:04,180 --> 00:04:09,110
a used operating systems corporations
Windows 7 is no big deal either

66
00:04:09,110 --> 00:04:13,560
air but that that suffered as much
broader when you take into account

67
00:04:13,560 --> 00:04:17,910
although crap applications get install
them every corporate laptop

68
00:04:17,910 --> 00:04:22,380
anything from Adobe semantic a visa art
the

69
00:04:22,380 --> 00:04:26,009
best to talk by the way their security
sucks

70
00:04:26,009 --> 00:04:30,370
whimsey a lil what ever since although
on corporate laptops

71
00:04:30,370 --> 00:04:33,720
so that the technical stuff

72
00:04:33,720 --> 00:04:36,830
let's move on to the human which is much
more fun

73
00:04:36,830 --> 00:04:39,860
and much more soft and squishy to attack

74
00:04:39,860 --> 00:04:43,389
not as in the

75
00:04:43,389 --> 00:04:46,889
you know I got Uruguay giving dollars

76
00:04:46,889 --> 00:04:51,090
human attack but more like good check
out this website

77
00:04:51,090 --> 00:04:54,449
for pictures from last night drinking
binge

78
00:04:54,449 --> 00:04:57,540
okay I know some people will open that
you know

79
00:04:57,540 --> 00:05:00,789
and I'm or you

80
00:05:00,789 --> 00:05:03,860
see that memo with the new excel sheet

81
00:05:03,860 --> 00:05:07,660
all you know sales or HR or whatever it
is

82
00:05:07,660 --> 00:05:11,320
with some malicious excel file or

83
00:05:11,320 --> 00:05:14,639
for be PDF you get it alright

84
00:05:14,639 --> 00:05:17,789
very easy to get here using humans

85
00:05:17,789 --> 00:05:21,470
as the vulnerability get the technical
stuff is

86
00:05:21,470 --> 00:05:24,620
just taking for granted

87
00:05:24,620 --> 00:05:28,419
another technique that I love key drops

88
00:05:28,419 --> 00:05:32,130
you speak use right anyone identifies
with this is

89
00:05:32,130 --> 00:05:35,160
fingers alright it's a parking lot

90
00:05:35,160 --> 00:05:39,259
it's the most accessible and most
powerful

91
00:05:39,259 --> 00:05:42,380
physical area in a corporation

92
00:05:42,380 --> 00:05:45,590
drop it off in the locations that you
know people are gonna

93
00:05:45,590 --> 00:05:49,120
head off to and some ticketing system or
something like that

94
00:05:49,120 --> 00:05:54,220
and printed nice logo on this probably
the company's logo

95
00:05:54,220 --> 00:05:57,340
maybe a little sticker that says
salaries or HR

96
00:05:57,340 --> 00:06:00,470
or sales you get

97
00:06:00,470 --> 00:06:04,860
you

98
00:06:04,860 --> 00:06:09,350
the rest again is probably just a
struggle is everything

99
00:06:09,350 --> 00:06:12,979
a everything can be automated okay

100
00:06:12,979 --> 00:06:16,880
other big fan of Metasploit a big fan of

101
00:06:16,880 --> 00:06:20,169
the social engineering toolkit

102
00:06:20,169 --> 00:06:23,979
its colour by numbers

103
00:06:23,979 --> 00:06:28,340
fantastic very easy for use of shit

104
00:06:28,340 --> 00:06:32,449
and the front set on backtrack okay look
at the menu

105
00:06:32,449 --> 00:06:36,520
and they did a phenomenal job and
putting in a lot of

106
00:06:36,520 --> 00:06:39,539
resources together automating a lot of
that stuff

107
00:06:39,539 --> 00:06:43,979
generating emails Wireless a tax file
format attacks

108
00:06:43,979 --> 00:06:47,600
whether tax everything you can think of
and just

109
00:06:47,600 --> 00:06:50,910
quick the menu and it's there so again

110
00:06:50,910 --> 00:06:55,169
getting here is relatively easy the last
part of

111
00:06:55,169 --> 00:06:59,770
the human side of infiltration actually
walking

112
00:06:59,770 --> 00:07:03,030
into the company to get more access

113
00:07:03,030 --> 00:07:06,819
being nice nasty obnoxious you do
whatever it is

114
00:07:06,819 --> 00:07:10,039
really depends on the culture of the
organization that you're trying to get

115
00:07:10,039 --> 00:07:10,789
into

116
00:07:10,789 --> 00:07:15,759
usually helps so that's one way alright
the shipping guy

117
00:07:15,759 --> 00:07:19,639
the FedEx guy smoking areas

118
00:07:19,639 --> 00:07:23,750
okay you all smoke i've seen hacked

119
00:07:23,750 --> 00:07:27,349
I but in most corporations you cannot
smoke inside

120
00:07:27,349 --> 00:07:30,789
so there's usually guys standing outside
smoking and then

121
00:07:30,789 --> 00:07:34,949
getting in through the back door a and
of course it helps if you

122
00:07:34,949 --> 00:07:38,729
hire actors to how to through Sunday
versions

123
00:07:38,729 --> 00:07:42,150
and

124
00:07:42,150 --> 00:07:45,940
alright we know we can get here

125
00:07:45,940 --> 00:07:49,360
now let's talk about targeting okay

126
00:07:49,360 --> 00:07:52,479
an we are not going to do so carpet
bombing

127
00:07:52,479 --> 00:07:56,349
again this is not an exercise in running
social engineers

128
00:07:56,349 --> 00:07:59,729
toolkit or Metasploit this is an
exercise in targeting

129
00:07:59,729 --> 00:08:03,080
organization in finding out

130
00:08:03,080 --> 00:08:09,490
the people the assets and the data that
they want to get out

131
00:08:09,490 --> 00:08:13,319
so step 1:

132
00:08:13,319 --> 00:08:16,830
just look at what the organization is
willing to tell you about

133
00:08:16,830 --> 00:08:20,840
itself tools like fokker

134
00:08:20,840 --> 00:08:25,750
and alter-ego will basically harvest all
the information that you can ever think

135
00:08:25,750 --> 00:08:27,030
of

136
00:08:27,030 --> 00:08:30,259
on the organization and put it in a very
structured

137
00:08:30,259 --> 00:08:33,620
easy to understand way Mike talked about
to

138
00:08:33,620 --> 00:08:38,260
using LinkedIn for example

139
00:08:38,260 --> 00:08:42,399
use any social network to map out or get
the key individuals

140
00:08:42,399 --> 00:08:47,330
into organizations that your trying to
contest

141
00:08:47,330 --> 00:08:51,279
creative map of their connections their
roles your

142
00:08:51,279 --> 00:08:54,320
access to information and there you go

143
00:08:54,320 --> 00:08:57,940
you have your basic
intelligence-gathering

144
00:08:57,940 --> 00:09:01,170
on that organization and then just

145
00:09:01,170 --> 00:09:04,640
crafter payload now

146
00:09:04,640 --> 00:09:07,730
crafting payload is not a big deal as

147
00:09:07,730 --> 00:09:11,720
some people think you just use whatever
criminal issues

148
00:09:11,720 --> 00:09:16,060
why because it works okay no point
reinventing the wheel

149
00:09:16,060 --> 00:09:19,380
am you can mimic or actually acquire

150
00:09:19,380 --> 00:09:23,529
stuff like who's or spy or limbo

151
00:09:23,529 --> 00:09:26,880
for proved your cheap and I'm talking

152
00:09:26,880 --> 00:09:30,060
very cheap because all of that source
code is out

153
00:09:30,060 --> 00:09:33,360
right now you can just taken recompile
it

154
00:09:33,360 --> 00:09:37,950
modifier do whatever you want with it
and this stuff works like charm

155
00:09:37,950 --> 00:09:42,260
believable just make sure you pack

156
00:09:42,260 --> 00:09:46,880
okay because all those whose has a
pretty decent

157
00:09:46,880 --> 00:09:50,120
detection rate or and detection rate

158
00:09:50,120 --> 00:09:53,279
for every every build

159
00:09:53,279 --> 00:09:56,560
that you produce about 15 to 25 percent

160
00:09:56,560 --> 00:10:00,089
production right if you pack it
correctly

161
00:10:00,089 --> 00:10:04,240
the stuff drops down to single digits

162
00:10:04,240 --> 00:10:07,630
so make sure you do proper packing
witching the presentation yesterday

163
00:10:07,630 --> 00:10:09,540
about

164
00:10:09,540 --> 00:10:12,860
Cinco xoxo and other packing mechanism
our new

165
00:10:12,860 --> 00:10:17,940
armadillo just make sure that it goes
undetected

166
00:10:17,940 --> 00:10:21,399
last but not least set measurable goals
your

167
00:10:21,399 --> 00:10:25,120
creating a Trojan or a payload

168
00:10:25,120 --> 00:10:28,390
and you need to tell it to go to the
right places it's not

169
00:10:28,390 --> 00:10:32,519
again it's not carpet bombing it's not
get me all the network

170
00:10:32,519 --> 00:10:37,180
its find me excel sheets that contained
the word confidential

171
00:10:37,180 --> 00:10:40,709
find me PDF's that are

172
00:10:40,709 --> 00:10:43,720
as maximum few days old

173
00:10:43,720 --> 00:10:47,100
and that have to work due diligence or
whatever it is

174
00:10:47,100 --> 00:10:50,660
in terms of technical stuff fine
databases

175
00:10:50,660 --> 00:10:55,329
and my personal favorite printers
printers are weak

176
00:10:55,329 --> 00:10:58,750
printers contain shit loads of
information

177
00:10:58,750 --> 00:11:03,630
most corporate printers com by default
with a 40 gig hard drive

178
00:11:03,630 --> 00:11:08,480
that stores everything on it and it's
very easy to access damages pull out all

179
00:11:08,480 --> 00:11:09,260
that information

180
00:11:09,260 --> 00:11:12,339
every print a document risk and document
is there

181
00:11:12,339 --> 00:11:16,089
unprotected regardless hoop of who
printed

182
00:11:16,089 --> 00:11:21,670
it could be the CEO if this secretary
same access level

183
00:11:21,670 --> 00:11:25,440
and patience the real difference

184
00:11:25,440 --> 00:11:29,540
between your run-of-the-mill Trojan

185
00:11:29,540 --> 00:11:33,430
virus let's call it infection that gets
detected in

186
00:11:33,430 --> 00:11:36,480
in like 56 days

187
00:11:36,480 --> 00:11:39,839
and APT scared

188
00:11:39,839 --> 00:11:44,850
and is basically patients don't spread
it around we talked about this before

189
00:11:44,850 --> 00:11:47,910
do not park at Paul selected targets

190
00:11:47,910 --> 00:11:52,440
deploy payloads only to those targets

191
00:11:52,440 --> 00:11:55,880
and you're good for five to six months
without detection

192
00:11:55,880 --> 00:12:00,320
yes stat easy if you distribute

193
00:12:00,320 --> 00:12:04,470
on the Afcon website look at the fact
that very quickly

194
00:12:04,470 --> 00:12:07,490
if you send it only two crease on on

195
00:12:07,490 --> 00:12:10,740
Alamos good

196
00:12:10,740 --> 00:12:15,370
not that I'm suggesting you sending

197
00:12:15,370 --> 00:12:19,430
the problem is for virus writers

198
00:12:19,430 --> 00:12:23,410
they have to frequently update their
stuff because it gets affected every few

199
00:12:23,410 --> 00:12:24,579
days

200
00:12:24,579 --> 00:12:30,019
here almost no updates and again that's
the key

201
00:12:30,019 --> 00:12:34,540
Wyshynski cost controlling your payload
is going to be difficult

202
00:12:34,540 --> 00:12:38,410
especially if you're looking at an
organization that is bill securely

203
00:12:38,410 --> 00:12:42,660
with multiple layers of protection with
multiple networks that are disconnected

204
00:12:42,660 --> 00:12:43,029
from

205
00:12:43,029 --> 00:12:46,470
one each other so

206
00:12:46,470 --> 00:12:51,230
some ink this light very very quickly
you need to make sure that your command

207
00:12:51,230 --> 00:12:53,050
control infrastructure

208
00:12:53,050 --> 00:12:57,980
take that into account the train if
we're standing here

209
00:12:57,980 --> 00:13:01,380
you have to know up front but there's no
way

210
00:13:01,380 --> 00:13:05,970
you will have by directional interactive
communication with your payload

211
00:13:05,970 --> 00:13:09,279
so make sure that you build your
payloads in accordance

212
00:13:09,279 --> 00:13:13,250
right so if you know that you can get to
one infection point

213
00:13:13,250 --> 00:13:17,149
it needs to be able to communicate back
to you and

214
00:13:17,149 --> 00:13:21,070
difference i to connect pivot and then

215
00:13:21,070 --> 00:13:24,079
to the actual target again

216
00:13:24,079 --> 00:13:27,500
this is not an exercise in knocking on
the

217
00:13:27,500 --> 00:13:32,880
corporate or and say II got route on a
web server

218
00:13:32,880 --> 00:13:36,440
good for you to get inside

219
00:13:36,440 --> 00:13:40,089
you got root on the web server gets
reformat it in seconds

220
00:13:40,089 --> 00:13:43,790
remix sorry insect you need to get all
the way in

221
00:13:43,790 --> 00:13:47,480
and to make sure that you can maintain
control

222
00:13:47,480 --> 00:13:51,010
over your pills inside

223
00:13:51,010 --> 00:13:55,019
talking about controlling the pills
inside

224
00:13:55,019 --> 00:13:58,850
literature in now you have to get the
route

225
00:13:58,850 --> 00:14:01,889
we talked about acquiring data targeting
you

226
00:14:01,889 --> 00:14:06,170
you found your database you find your
found your secret documents that you

227
00:14:06,170 --> 00:14:10,600
need to get out now you're gonna have
some problems

228
00:14:10,600 --> 00:14:14,190
taking that data other the network why

229
00:14:14,190 --> 00:14:17,570
deal peas are big issue

230
00:14:17,570 --> 00:14:20,990
granted they still are kinda broken

231
00:14:20,990 --> 00:14:25,329
but I'm sure they will will make some
headway and fix their stuff

232
00:14:25,329 --> 00:14:29,350
and IPS isn't ideas is eg restaurants
ring

233
00:14:29,350 --> 00:14:32,850
they actually do look at outgoing
traffic

234
00:14:32,850 --> 00:14:35,940
eckardt pretty easily counter near
pattern it and

235
00:14:35,940 --> 00:14:39,060
detect special keywords

236
00:14:39,060 --> 00:14:43,639
encryption archiving an additional
techniques

237
00:14:43,639 --> 00:14:47,209
how do you go under the radar what does
the radar look for

238
00:14:47,209 --> 00:14:50,990
usually look for text if you're talking
about the financial institution

239
00:14:50,990 --> 00:14:54,510
it's gonna look for numbers if you're
talking about an HR

240
00:14:54,510 --> 00:14:58,639
entity gonna look for names social
security numbers or ID numbers

241
00:14:58,639 --> 00:15:01,310
if you're looking at a technology
company you're looking at blueprints

242
00:15:01,310 --> 00:15:03,750
patents code whatever it is

243
00:15:03,750 --> 00:15:07,209
it's all taxed alright so

244
00:15:07,209 --> 00:15:12,070
how do we go under text filters

245
00:15:12,070 --> 00:15:16,620
how do transform something from text to
something that's

246
00:15:16,620 --> 00:15:20,310
unreadable

247
00:15:20,310 --> 00:15:24,100
bunch of hackers

248
00:15:24,100 --> 00:15:27,209
anyone know what this is

249
00:15:27,209 --> 00:15:31,690
encrypt it okay encrypt it keep in text
format so it will

250
00:15:31,690 --> 00:15:36,440
go under the radar obviously this is a
little telltale

251
00:15:36,440 --> 00:15:39,670
that this is not actually what I want to
send out

252
00:15:39,670 --> 00:15:43,160
but its scripted just strip out

253
00:15:43,160 --> 00:15:47,440
any identifying parts

254
00:15:47,440 --> 00:15:50,940
and you're basically of

255
00:15:50,940 --> 00:15:54,610
of Europe to your way if you had some
secret

256
00:15:54,610 --> 00:15:57,940
data that you want to export rate

257
00:15:57,940 --> 00:16:01,639
and just sending it out as text would be
detected

258
00:16:01,639 --> 00:16:05,290
cryptic and send it out critics

259
00:16:05,290 --> 00:16:09,230
guaranteed to work every time

260
00:16:09,230 --> 00:16:12,630
even better throwing some extreme coding

261
00:16:12,630 --> 00:16:16,430
a you tear unical whatever you want X or
ship

262
00:16:16,430 --> 00:16:20,040
and it easy right just for the fun of it
and just to make sure that

263
00:16:20,040 --> 00:16:24,699
no one can detect it again guaranteed 0
percent texan re

264
00:16:24,699 --> 00:16:28,019
but that still considering that you do
have

265
00:16:28,019 --> 00:16:32,220
Internet connectivity because you do
need to push the text out

266
00:16:32,220 --> 00:16:35,490
to some work that you control

267
00:16:35,490 --> 00:16:39,649
Twitter Dropbox Facebook you know wikis

268
00:16:39,649 --> 00:16:43,050
and Oregon DNS which means that

269
00:16:43,050 --> 00:16:48,829
your target or your payload can still
access the Internet

270
00:16:48,829 --> 00:16:51,990
right but what if

271
00:16:51,990 --> 00:16:57,009
they don't have internet what if you
cannot

272
00:16:57,009 --> 00:17:01,630
have direct access from your payload
deep inside the company

273
00:17:01,630 --> 00:17:04,750
to anymore they kill 443

274
00:17:04,750 --> 00:17:09,160
53 port 80 you just can't send the stuff
out

275
00:17:09,160 --> 00:17:12,839
that's where it gets interesting from
this point but where

276
00:17:12,839 --> 00:17:17,030
please no no videos still

277
00:17:17,030 --> 00:17:21,010
old-school remember our tax

278
00:17:21,010 --> 00:17:25,750
okay our own crib the tax same text

279
00:17:25,750 --> 00:17:29,650
same tax what's the difference here

280
00:17:29,650 --> 00:17:36,160
it's printed why do I even bother
showing you this

281
00:17:36,160 --> 00:17:39,660
that's the difference if I if you walk
into printer

282
00:17:39,660 --> 00:17:44,190
a corporate printer you see stacks of
papers right

283
00:17:44,190 --> 00:17:48,250
all the stuff that people printed them
figured they don't need it

284
00:17:48,250 --> 00:17:51,400
all the printer error you know stuff

285
00:17:51,400 --> 00:17:54,860
you know the the PCL got corrupted and
the printer

286
00:17:54,860 --> 00:17:58,490
spews out a bunch of undecipherable

287
00:17:58,490 --> 00:18:01,910
pages the go to different places

288
00:18:01,910 --> 00:18:04,960
alright even in very secure
organizations

289
00:18:04,960 --> 00:18:09,380
that's right everything that stuff
doesn't get read it

290
00:18:09,380 --> 00:18:14,820
usually gets thrown away right find a
way to the recycling bin

291
00:18:14,820 --> 00:18:18,010
that gets thrown away

292
00:18:18,010 --> 00:18:21,100
outside

293
00:18:21,100 --> 00:18:25,179
I'm not kidding this well this is not
one of my employees but this is

294
00:18:25,179 --> 00:18:28,299
what we did in one of the kids that we
ran

295
00:18:28,299 --> 00:18:31,860
which is printed stuff bankrupted stuff
air

296
00:18:31,860 --> 00:18:35,919
it looks like a printer air looks that
like the junk that the printer spews out

297
00:18:35,919 --> 00:18:36,500
when

298
00:18:36,500 --> 00:18:39,510
when something is wrong with your PC or

299
00:18:39,510 --> 00:18:43,140
printer it and up I have to say that

300
00:18:43,140 --> 00:18:46,350
much nicer dumpster this one

301
00:18:46,350 --> 00:18:49,660
end up in in the recycling bin but it
ends up

302
00:18:49,660 --> 00:18:53,890
outside organization doesn't get ready

303
00:18:53,890 --> 00:18:57,010
now what if you wanna go a little more

304
00:18:57,010 --> 00:19:00,450
high-tech let's see

305
00:19:00,450 --> 00:19:03,910
this is what I call ET phoning home this
is a

306
00:19:03,910 --> 00:19:07,350
the stuff that we came up with a a few
months ago

307
00:19:07,350 --> 00:19:10,350
in a pen test for used for my

308
00:19:10,350 --> 00:19:13,630
government from Fisher organization that
you

309
00:19:13,630 --> 00:19:16,700
literally did not have internet
connectivity from

310
00:19:16,700 --> 00:19:20,039
the office from the network that we
managed to get into

311
00:19:20,039 --> 00:19:24,370
you but we have to prove that we could
get an and get data out

312
00:19:24,370 --> 00:19:27,630
thing is they still had the local
network

313
00:19:27,630 --> 00:19:31,539
everyone has to happen right

314
00:19:31,539 --> 00:19:35,850
and they had Voice over IP

315
00:19:35,850 --> 00:19:40,350
idea I was like hockey

316
00:19:40,350 --> 00:19:43,570
you have network and you have sorry so

317
00:19:43,570 --> 00:19:46,960
this is what we did target the handset

318
00:19:46,960 --> 00:19:50,059
or switch Voice over IP switch very easy

319
00:19:50,059 --> 00:19:53,820
last year central culture was here talk
about was alright be

320
00:19:53,820 --> 00:19:57,850
the stuff is just wild wild west
everything is broken everything it's

321
00:19:57,850 --> 00:20:02,039
free it's like Cisco's from the 80's

322
00:20:02,039 --> 00:20:05,679
set up a public PBX or

323
00:20:05,679 --> 00:20:10,179
Phong voicemail like Google Voice or
something like that

324
00:20:10,179 --> 00:20:14,370
on the outside some were that your

325
00:20:14,370 --> 00:20:18,640
payload is going all into

326
00:20:18,640 --> 00:20:22,440
collector data that we talked about
before after talking to the

327
00:20:22,440 --> 00:20:26,570
and found a secret document in Bangalore

328
00:20:26,570 --> 00:20:30,260
encoded anyway

329
00:20:30,260 --> 00:20:34,070
that it doesn't transform into this
encrypt attacks

330
00:20:34,070 --> 00:20:38,450
but into something that you can send

331
00:20:38,450 --> 00:20:42,100
common which

332
00:20:42,100 --> 00:20:45,210
over Voice

333
00:20:45,210 --> 00:20:49,380
use the Voice over IP network to make a
phone call

334
00:20:49,380 --> 00:20:52,750
to your conference call or PBX

335
00:20:52,750 --> 00:20:55,900
and just leave the message

336
00:20:55,900 --> 00:20:59,640
the rest is just pure with so this is
not just

337
00:20:59,640 --> 00:21:02,669
you know me standing here talking about
it

338
00:21:02,669 --> 00:21:05,890
this is an actual proof positive that
that I wrote

339
00:21:05,890 --> 00:21:09,390
and in Python this is ever simple

340
00:21:09,390 --> 00:21:12,669
what you're seeing here or trying to see

341
00:21:12,669 --> 00:21:18,350
is a small document just an example this
is doctor doctor blah blah blah

342
00:21:18,350 --> 00:21:23,669
that were encoding using data to sound

343
00:21:23,669 --> 00:21:27,039
and we get a new file cold out start

344
00:21:27,039 --> 00:21:30,610
way

345
00:21:30,610 --> 00:21:33,830
this is how it sounds like

346
00:21:33,830 --> 00:21:40,830
the

347
00:21:43,179 --> 00:21:47,380
thank you and that was the file

348
00:21:47,380 --> 00:21:50,920
that was the data could have been
anything

349
00:21:50,920 --> 00:21:54,580
could have been packed could have been
image any binary data

350
00:21:54,580 --> 00:21:58,100
you just go all call on it

351
00:21:58,100 --> 00:22:02,530
think modems like acoustic modems from
the sixties and seventies

352
00:22:02,530 --> 00:22:07,490
encoded into tones the prof concept

353
00:22:07,490 --> 00:22:11,799
is very very simplified you can really
get some advancements on it

354
00:22:11,799 --> 00:22:15,030
publishing it open source

355
00:22:15,030 --> 00:22:18,940
take it do whatever you want with it and
the default setting is

356
00:22:18,940 --> 00:22:23,200
in in it is to create I think
half-second

357
00:22:23,200 --> 00:22:26,770
tones and I'm using sixteen different of
those

358
00:22:26,770 --> 00:22:29,880
all from the human audible range so

359
00:22:29,880 --> 00:22:33,320
this controversy any phone line even
crappy

360
00:22:33,320 --> 00:22:36,720
like cell phones stuff okay and

361
00:22:36,720 --> 00:22:40,169
so you have to consider that this is not
going all digital

362
00:22:40,169 --> 00:22:43,700
Voice over IP networks it may traverse a
few be the axis

363
00:22:43,700 --> 00:22:48,290
it can be compressed highly compressed
the

364
00:22:48,290 --> 00:22:52,110
the tones can be shortened to like 0.1
second

365
00:22:52,110 --> 00:22:55,260
you can use up to I think forty or fifty

366
00:22:55,260 --> 00:22:59,160
of those inside a good human audible
range

367
00:22:59,160 --> 00:23:02,650
and still the friendship between them
stuff works like a charm

368
00:23:02,650 --> 00:23:06,809
all you have to do once you get the
message in this case I downloaded it

369
00:23:06,809 --> 00:23:07,400
from

370
00:23:07,400 --> 00:23:11,630
Michael voicemail and Google Voice is
fantastic by the way

371
00:23:11,630 --> 00:23:15,120
you get an mp3 converter a wave file

372
00:23:15,120 --> 00:23:18,270
and you just do it sound today to

373
00:23:18,270 --> 00:23:23,470
and get and you file called output file

374
00:23:23,470 --> 00:23:26,679
the type is ASCII text and

375
00:23:26,679 --> 00:23:31,400
there you go from a very secure

376
00:23:31,400 --> 00:23:34,470
network that has no internet
connectivity

377
00:23:34,470 --> 00:23:38,220
we can get to a point where I can
voicemail

378
00:23:38,220 --> 00:23:43,030
anything I want out at that network this
stuff goes

379
00:23:43,030 --> 00:23:47,750
100 percent undetected on a network that
can be firewall

380
00:23:47,750 --> 00:23:52,160
deal p parts all time whatever you want

381
00:23:52,160 --> 00:23:55,910
no one's gonna notice and I 800 call
going out

382
00:23:55,910 --> 00:24:02,169
through Voice over IP PBX if that
doesn't work

383
00:24:02,169 --> 00:24:07,030
or another alternative to League

384
00:24:07,030 --> 00:24:10,960
leaving a message with your stuff is
using a fax

385
00:24:10,960 --> 00:24:15,380
most corporations have multifunction
printers

386
00:24:15,380 --> 00:24:18,809
okay multifunction means it's not only a
printer

387
00:24:18,809 --> 00:24:24,130
in a scanner it's also a fax that stuff
is usually connected to the Active

388
00:24:24,130 --> 00:24:25,740
Directory in some sort of way

389
00:24:25,740 --> 00:24:28,809
so that people can accept faxes as well
as

390
00:24:28,809 --> 00:24:32,000
send them out a lot of them

391
00:24:32,000 --> 00:24:36,140
and you can do your own studies
depending on your target

392
00:24:36,140 --> 00:24:41,270
you something like this to send faxes
from the inside

393
00:24:41,270 --> 00:24:45,990
to doubt I'm right that the printer fax
multifunction whatever

394
00:24:45,990 --> 00:24:49,000
has got like a domain name

395
00:24:49,000 --> 00:24:52,700
or its address inside organization and
people just

396
00:24:52,700 --> 00:24:57,650
attach documents to to an email in elite
internally

397
00:24:57,650 --> 00:25:01,620
to whatever number di wanna fax stuff
out to

398
00:25:01,620 --> 00:25:05,650
at fact that Corp taught calm or
whatever it is

399
00:25:05,650 --> 00:25:10,210
and magically their documents gets an

400
00:25:10,210 --> 00:25:14,250
over fax think he is

401
00:25:14,250 --> 00:25:18,659
even the most secure organizations with
the OP's on

402
00:25:18,659 --> 00:25:23,059
IDS is whatever it is they do not filter

403
00:25:23,059 --> 00:25:27,330
for faxes and since this is still
internal communication

404
00:25:27,330 --> 00:25:32,460
this does not hit the deal a system that
his position between the mail server

405
00:25:32,460 --> 00:25:37,429
and the mail really so all you have to
do

406
00:25:37,429 --> 00:25:40,870
is make sure that your payload is aware

407
00:25:40,870 --> 00:25:44,860
of those addresses and once you do get
the data that were looking for

408
00:25:44,860 --> 00:25:48,780
just send the email the printer and wait

409
00:25:48,780 --> 00:25:52,409
again old-school next your fax machine
are you some

410
00:25:52,409 --> 00:25:57,669
online faxing mechanism so get very easy

411
00:25:57,669 --> 00:26:01,840
and still circumvent all the security
mechanisms all the GOP's

412
00:26:01,840 --> 00:26:06,780
deal the story that you will see in any
corporation

413
00:26:06,780 --> 00:26:10,040
question so far criticism on

414
00:26:10,040 --> 00:26:15,460
long no we're good

415
00:26:15,460 --> 00:26:18,830
to conclusions not always lost alright

416
00:26:18,830 --> 00:26:22,510
I'm not here to scare the shit out of
you well all a bit but

417
00:26:22,510 --> 00:26:27,260
just for just because I like im

418
00:26:27,260 --> 00:26:31,159
but not all is lost her a few available
controls im

419
00:26:31,159 --> 00:26:35,659
you do need to map your information flow

420
00:26:35,659 --> 00:26:38,870
flows flaws inflows

421
00:26:38,870 --> 00:26:42,809
and nature to go after assets

422
00:26:42,809 --> 00:26:46,510
because if you're trying to protect an
organization

423
00:26:46,510 --> 00:26:49,830
in the same carpet bombing methodology

424
00:26:49,830 --> 00:26:53,330
that a lot of pen testing is using you
gonna end up the same

425
00:26:53,330 --> 00:26:56,630
as those Panthers getting nothing

426
00:26:56,630 --> 00:26:59,980
you need to focus your attention on your
critical assets

427
00:26:59,980 --> 00:27:03,710
map out what are the possible
information flows

428
00:27:03,710 --> 00:27:07,690
that those assets would have injures a
business processes

429
00:27:07,690 --> 00:27:13,090
all G human whatever it is and focus the
defense's their

430
00:27:13,090 --> 00:27:16,100
start with the human factor okay

431
00:27:16,100 --> 00:27:19,570
we've talked about this before this is
the squishy

432
00:27:19,570 --> 00:27:23,630
easy to Manipal the target inside your
organization

433
00:27:23,630 --> 00:27:26,820
so start with the human and Dan and
technology

434
00:27:26,820 --> 00:27:30,520
start with what is this information
anyway who cares about it

435
00:27:30,520 --> 00:27:34,820
who uses it to produce is it who in it
they just sit

436
00:27:34,820 --> 00:27:39,270
manipulated and then go to the car je

437
00:27:39,270 --> 00:27:42,880
okay im this is one example

438
00:27:42,880 --> 00:27:48,360
over technology anyone know what what
this is

439
00:27:48,360 --> 00:27:52,290
no

440
00:27:52,290 --> 00:27:57,470
not a printer it's a shrink ther

441
00:27:57,470 --> 00:28:01,320
you can buy it on you bear some

442
00:28:01,320 --> 00:28:04,730
though this is one way to control your
printed documents don't use that

443
00:28:04,730 --> 00:28:09,780
air but again main human than technology

444
00:28:09,780 --> 00:28:12,840
know yourself okay no

445
00:28:12,840 --> 00:28:17,210
were people leave data talk your
developers you'll be amazed

446
00:28:17,210 --> 00:28:20,950
where do you live there source code
hanging

447
00:28:20,950 --> 00:28:24,309
I promise you that if you're wrong or if
you are

448
00:28:24,309 --> 00:28:27,750
in fall or no of a big corporation

449
00:28:27,750 --> 00:28:31,860
you have source code on your publicly
accessible web sites

450
00:28:31,860 --> 00:28:35,419
it make not be hyperlinked but you have
source code there

451
00:28:35,419 --> 00:28:39,050
why because it easier to the plate is
your to the park

452
00:28:39,050 --> 00:28:42,710
sit with developers and see how they
actually work

453
00:28:42,710 --> 00:28:46,580
where did they leave the data but the
checking everything

454
00:28:46,580 --> 00:28:50,640
the work on the sea CBS directly or did
they have their own little

455
00:28:50,640 --> 00:28:54,669
CVS for you know because the corporate
one sucks

456
00:28:54,669 --> 00:28:58,590
know where your data heads hacked the
business process

457
00:28:58,590 --> 00:29:02,320
talk to the people inside the business
forget the Knology for a sec

458
00:29:02,320 --> 00:29:05,730
just figure out haul the stuff gets done

459
00:29:05,730 --> 00:29:09,110
in your company right with your eyes

460
00:29:09,110 --> 00:29:12,550
up from the laptop and talk to the
people around you

461
00:29:12,550 --> 00:29:15,780
you'll find amazing things pic then

462
00:29:15,780 --> 00:29:19,100
go back down and fix artist

463
00:29:19,100 --> 00:29:23,190
and most importantly test test again and
tested again

464
00:29:23,190 --> 00:29:27,730
and tested again after you thought you
fixed it you keep finding stuff

465
00:29:27,730 --> 00:29:32,169
that you need to to fix again focus on
the group of

466
00:29:32,169 --> 00:29:35,760
okay don't focus on the web server that
can be routed

467
00:29:35,760 --> 00:29:39,600
every five seconds and no one gives a
shit about

468
00:29:39,600 --> 00:29:43,140
focus on the cross-eyed that the stupid

469
00:29:43,140 --> 00:29:47,710
low process predicting

470
00:29:47,710 --> 00:29:51,450
in your internal database Korean Journal
applications

471
00:29:51,450 --> 00:29:54,870
that can screw up in car company

472
00:29:54,870 --> 00:29:58,399
map your assets but map them correctly

473
00:29:58,399 --> 00:30:02,130
okay get actual measurements we are
engineers

474
00:30:02,130 --> 00:30:05,940
okay we are engineers in the least
engineered

475
00:30:05,940 --> 00:30:10,580
industry that can that still calls
itself engineering

476
00:30:10,580 --> 00:30:14,980
great we rely on hearsay in rumors and
feelings

477
00:30:14,980 --> 00:30:18,010
and we don't measure anything measure it

478
00:30:18,010 --> 00:30:22,730
don't trust what people are telling
great make sure you know exactly

479
00:30:22,730 --> 00:30:26,389
watcher assets or you'll find new assets
that you didn't think

480
00:30:26,389 --> 00:30:30,490
you've had in your organization before

481
00:30:30,490 --> 00:30:35,659
map the mouth and protect them according
I love this picture

482
00:30:35,659 --> 00:30:38,700
and then monitor do not be afraid

483
00:30:38,700 --> 00:30:42,429
to be a bitch your in security that your
job

484
00:30:42,429 --> 00:30:46,120
okay you're not here to be the nice guy
its you were

485
00:30:46,120 --> 00:30:50,260
company's data if you wanna log call

486
00:30:50,260 --> 00:30:55,300
just the way you log email to it

487
00:30:55,300 --> 00:30:59,600
transcribe all your voice over IP
communication

488
00:30:59,600 --> 00:31:03,310
that's what you do for your email it's
the same thing

489
00:31:03,310 --> 00:31:07,790
okay there are no privacy issues its
corporate data

490
00:31:07,790 --> 00:31:11,460
if you don't want people to have sex
conversation with their wives

491
00:31:11,460 --> 00:31:15,190
on corporate on company time have them
use their cell phones

492
00:31:15,190 --> 00:31:18,860
okay using the voice over IP for
corporate

493
00:31:18,860 --> 00:31:23,960
stuff and then test some more

494
00:31:23,960 --> 00:31:27,600
as you can obviously relies on big on
testing

495
00:31:27,600 --> 00:31:31,440
and this is a red team by the way

496
00:31:31,440 --> 00:31:37,450
if you can get the ATF for more hints
idea is gone it's whatever it is

497
00:31:37,450 --> 00:31:40,960
we have a small initiative running we as
in a group of

498
00:31:40,960 --> 00:31:44,899
strong crackers that got him together
sometime

499
00:31:44,899 --> 00:31:48,480
a go to this website please I hurt you

500
00:31:48,480 --> 00:31:51,510
this is not just about the pen testing
at you think you're doing

501
00:31:51,510 --> 00:31:55,040
this is about pen testing okay make sure

502
00:31:55,040 --> 00:31:59,639
again that you consider assets processes

503
00:31:59,639 --> 00:32:05,720
data in not just a technical stuff

504
00:32:05,720 --> 00:32:11,710
that's all I have for you guys so if you
have any questions comments criticism

505
00:32:11,710 --> 00:32:17,110
these are my contact details I'm here
throughout the day and the night

506
00:32:17,110 --> 00:32:20,760
and feel free to harass

507
00:32:20,760 --> 00:32:27,760
and one questions question in the back

508
00:32:53,280 --> 00:32:56,250
can you consumer repeat the question
with my cuz I

509
00:32:56,250 --> 00:32:59,260
I heard a few keywords a lot

510
00:32:59,260 --> 00:33:03,170
are printers paleo

511
00:33:03,170 --> 00:33:07,960
I can give you an answer but

512
00:33:07,960 --> 00:33:12,810
on on its on something that tightening
you ask silly what US

513
00:33:12,810 --> 00:33:16,060
and the start its toughest

514
00:33:16,060 --> 00:33:19,270
I'll here so what they ask is that up

515
00:33:19,270 --> 00:33:23,560
since obviously when the sexy double is
a plan to get to the organization

516
00:33:23,560 --> 00:33:27,130
you have no control over it I'll what do
you do it

517
00:33:27,130 --> 00:33:30,580
you would execute double with I love

518
00:33:30,580 --> 00:33:34,390
even payloads for different me there's
even PBX

519
00:33:34,390 --> 00:33:37,710
servers and then from moscow donde

520
00:33:37,710 --> 00:33:42,340
want to find a suitable I exploit are up
a lot

521
00:33:42,340 --> 00:33:45,650
just run it I got a question okay

522
00:33:45,650 --> 00:33:49,770
air basically no very early

523
00:33:49,770 --> 00:33:52,950
in the penetration testing

524
00:33:52,950 --> 00:33:58,170
methodology you will know what models of
printers

525
00:33:58,170 --> 00:34:01,180
scanners devices whatever these ppl axes

526
00:34:01,180 --> 00:34:04,970
their organization have there is no way
to create a

527
00:34:04,970 --> 00:34:08,909
you know like a 7 Mac Metasploit

528
00:34:08,909 --> 00:34:12,060
all in one printer scanner

529
00:34:12,060 --> 00:34:15,300
Voice over IP exploiter

530
00:34:15,300 --> 00:34:18,649
and exploited to be very very director

531
00:34:18,649 --> 00:34:21,990
and as I said before at the targeting
phase

532
00:34:21,990 --> 00:34:26,360
when you target your organization when
you find the key individuals the

533
00:34:26,360 --> 00:34:29,770
the actual assets that you want to get
into

534
00:34:29,770 --> 00:34:32,970
at that stage also map out whatever you
can

535
00:34:32,970 --> 00:34:36,980
externally and again it's very easy to
identify

536
00:34:36,980 --> 00:34:41,879
just called organization say hi this is
Mike from HP

537
00:34:41,879 --> 00:34:45,460
like to you ask you about your printer

538
00:34:45,460 --> 00:34:48,940
whatever faxing solution because we
haven't you thing coming up

539
00:34:48,940 --> 00:34:54,030
okay we have a new version out this
leaves the conversation open for

540
00:34:54,030 --> 00:34:57,670
the other side to tell you own ok but
you we're using Kyocera

541
00:34:57,670 --> 00:35:01,550
okay so okay using you sir or

542
00:35:01,550 --> 00:35:04,940
all really because we're using the old
HP

543
00:35:04,940 --> 00:35:09,350
XYZ that's it done you don't need

544
00:35:09,350 --> 00:35:12,980
you know to carpet bomb the internal
your stuff as well

545
00:35:12,980 --> 00:35:16,020
and again it's part of of your basic

546
00:35:16,020 --> 00:35:19,720
info gathering intelligence-gathering on
your target

547
00:35:19,720 --> 00:35:23,730
so the payload should be very
well-crafted im

548
00:35:23,730 --> 00:35:26,740
and should be per organization yes

549
00:35:26,740 --> 00:35:30,620
it is it does involve work

550
00:35:30,620 --> 00:35:34,960
but that's what we're here for right not
to run someone else's

551
00:35:34,960 --> 00:35:38,450
make a tool that you know solve all the
worlds problems

552
00:35:38,450 --> 00:35:45,150
your questions right

553
00:35:45,150 --> 00:35:46,070
thank you very much

