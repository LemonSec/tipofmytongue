1
00:00:00,240 --> 00:00:02,879
yo Mahad is gonna join us and he is

2
00:00:02,879 --> 00:00:06,089
going to share some stories from the

3
00:00:06,089 --> 00:00:09,090
Bank of Israel and how they were hacked

4
00:00:09,090 --> 00:00:12,030
so you'll welcome aboard how are you

5
00:00:12,030 --> 00:00:14,460
very good thank you much thank you here

6
00:00:14,460 --> 00:00:16,980
all right well reminder everybody put

7
00:00:16,980 --> 00:00:19,740
your questions in the Q&A panel in the

8
00:00:19,740 --> 00:00:21,990
stream and when we get to the end of

9
00:00:21,990 --> 00:00:24,240
eul's talk he'll be able to answer some

10
00:00:24,240 --> 00:00:26,130
of those questions for you with that

11
00:00:26,130 --> 00:00:27,779
you'll I'm gonna turn it over to you and

12
00:00:27,779 --> 00:00:30,260
we are all set to go

13
00:00:30,260 --> 00:00:33,840
great so welcome everybody everybody

14
00:00:33,840 --> 00:00:35,700
listening at homes

15
00:00:35,700 --> 00:00:39,899
my name is you old bat and probably the

16
00:00:39,899 --> 00:00:41,250
most important thing you need to know

17
00:00:41,250 --> 00:00:44,250
about me is that I am dad four beautiful

18
00:00:44,250 --> 00:00:47,270
five year old currently practicing

19
00:00:47,270 --> 00:00:51,420
proper social distancing but if I must

20
00:00:51,420 --> 00:00:53,789
I'm originally from Israel I've been

21
00:00:53,789 --> 00:00:55,920
doing cybersecurity I worked in the

22
00:00:55,920 --> 00:00:58,469
cybersecurity space probably for them

23
00:00:58,469 --> 00:01:01,609
was a problem for most of my life now

24
00:01:01,609 --> 00:01:04,290
mostly in the government sectors I was

25
00:01:04,290 --> 00:01:05,850
working for the government of Israel and

26
00:01:05,850 --> 00:01:09,000
then the OECD and my two passions in

27
00:01:09,000 --> 00:01:12,570
this world is to promote awareness of

28
00:01:12,570 --> 00:01:15,659
cyber security but also innovation I

29
00:01:15,659 --> 00:01:18,150
like going to enterprises and

30
00:01:18,150 --> 00:01:19,970
governments and introduce them to

31
00:01:19,970 --> 00:01:23,549
startups in the security world that are

32
00:01:23,549 --> 00:01:25,200
doing something unique and destructive

33
00:01:25,200 --> 00:01:27,360
and are changing the way we do cyber

34
00:01:27,360 --> 00:01:29,939
security currently I am the co-founder

35
00:01:29,939 --> 00:01:33,810
and CEO of cyber laser the training and

36
00:01:33,810 --> 00:01:36,960
awareness arm of em3 labs the cyber

37
00:01:36,960 --> 00:01:38,820
security consulting company based in

38
00:01:38,820 --> 00:01:42,630
Paris France but enough about me today

39
00:01:42,630 --> 00:01:45,659
I want to take you in a bit of a trip

40
00:01:45,659 --> 00:01:47,909
through memory lane please let's all

41
00:01:47,909 --> 00:01:51,000
step into my tortoise and I want to take

42
00:01:51,000 --> 00:01:55,110
you basically to the year 2008 and

43
00:01:55,110 --> 00:02:00,390
specifically April 2008 that was the

44
00:02:00,390 --> 00:02:02,250
month where everything started crashing

45
00:02:02,250 --> 00:02:05,159
in the markets Barack Obama was just

46
00:02:05,159 --> 00:02:08,149
nominated nominated as the presidential

47
00:02:08,149 --> 00:02:11,810
nominee for the Democratic Party

48
00:02:11,810 --> 00:02:14,159
Mariah Carey was at the top of the

49
00:02:14,159 --> 00:02:17,459
charts and jay-z and Beyonce got married

50
00:02:17,459 --> 00:02:22,799
so all in all an interesting year and at

51
00:02:22,799 --> 00:02:25,349
the same time I was working for the

52
00:02:25,349 --> 00:02:26,879
government of Israel I was working for

53
00:02:26,879 --> 00:02:29,970
the eGolf agency and what we were in a

54
00:02:29,970 --> 00:02:32,519
in essence is an ISDN Internet service

55
00:02:32,519 --> 00:02:35,220
provider that gave services to the rest

56
00:02:35,220 --> 00:02:37,950
of the government of Israel we gave them

57
00:02:37,950 --> 00:02:39,959
hosting services we gave them Internet

58
00:02:39,959 --> 00:02:41,670
connectivity connectivity we gave them

59
00:02:41,670 --> 00:02:44,220
everything they needed to do Internet

60
00:02:44,220 --> 00:02:48,420
basically now at the time there was no

61
00:02:48,420 --> 00:02:51,780
law in Israel that was forcing these

62
00:02:51,780 --> 00:02:53,670
agencies to work with us they could just

63
00:02:53,670 --> 00:02:55,379
as well go to the private market and

64
00:02:55,379 --> 00:02:59,099
some of them did that one of those

65
00:02:59,099 --> 00:03:01,950
agencies decided to decided to put their

66
00:03:01,950 --> 00:03:04,739
website in a private web hosting company

67
00:03:04,739 --> 00:03:08,760
was the Bank of Israel this is of course

68
00:03:08,760 --> 00:03:11,640
the Central Bank of Israel and as you

69
00:03:11,640 --> 00:03:14,879
can see they have they had a very

70
00:03:14,879 --> 00:03:17,910
exciting website and full of hot gossip

71
00:03:17,910 --> 00:03:19,799
of everything going on in the Israeli

72
00:03:19,799 --> 00:03:24,269
financial world and and I want to say

73
00:03:24,269 --> 00:03:25,440
right now I want to make something very

74
00:03:25,440 --> 00:03:28,620
clear right now this was never a website

75
00:03:28,620 --> 00:03:30,780
that was connected directly to the banks

76
00:03:30,780 --> 00:03:34,440
system so it was never any there was

77
00:03:34,440 --> 00:03:36,180
never any potential threat that somebody

78
00:03:36,180 --> 00:03:38,069
hacked the website and through that get

79
00:03:38,069 --> 00:03:41,970
into the back and probably that's why

80
00:03:41,970 --> 00:03:44,880
they decided to not go with us and go

81
00:03:44,880 --> 00:03:47,190
with the private market but in any case

82
00:03:47,190 --> 00:03:50,160
we found so we as the ego of agency we

83
00:03:50,160 --> 00:03:51,870
found some vulnerabilities in the

84
00:03:51,870 --> 00:03:55,799
website and we alerted on them and even

85
00:03:55,799 --> 00:03:58,230
so the bank decided not to work with us

86
00:03:58,230 --> 00:04:00,269
and they said no no everything is fine

87
00:04:00,269 --> 00:04:01,739
everything is going to be fine we are

88
00:04:01,739 --> 00:04:07,220
taking care of it and so they did until

89
00:04:07,220 --> 00:04:11,780
the year the day of the 25th of April

90
00:04:11,780 --> 00:04:15,269
2008 and everybody woke up in the

91
00:04:15,269 --> 00:04:18,269
morning in Israel and went through the

92
00:04:18,269 --> 00:04:20,039
website of the Bank of Israel as they

93
00:04:20,039 --> 00:04:22,700
always do and instead of getting this

94
00:04:22,700 --> 00:04:25,050
website looks like this they got

95
00:04:25,050 --> 00:04:25,710
something

96
00:04:25,710 --> 00:04:29,729
look like this I'm going to read it very

97
00:04:29,729 --> 00:04:33,840
quickly as an anti-colonialist Muslim I

98
00:04:33,840 --> 00:04:35,880
openly someone armed resistance for

99
00:04:35,880 --> 00:04:38,250
Palestinians Iraqi and Lebanese against

100
00:04:38,250 --> 00:04:40,770
the US and Israel I am serious about

101
00:04:40,770 --> 00:04:43,500
liberation by any means necessary that's

102
00:04:43,500 --> 00:04:46,259
the only way oppressed people will free

103
00:04:46,259 --> 00:04:48,060
themselves from us or as die honest

104
00:04:48,060 --> 00:04:52,410
invaders now obviously this is not a

105
00:04:52,410 --> 00:04:54,509
situation where the bank wants to be

106
00:04:54,509 --> 00:05:01,259
this is in fact a PR disaster and but we

107
00:05:01,259 --> 00:05:03,270
expected to get a call from them we

108
00:05:03,270 --> 00:05:05,039
didn't get a call from them so we picked

109
00:05:05,039 --> 00:05:06,449
up the phone and call the bank

110
00:05:06,449 --> 00:05:09,419
we told them please please please let us

111
00:05:09,419 --> 00:05:12,349
help you take care of the situation and

112
00:05:12,349 --> 00:05:18,030
they said no no it's fine everything is

113
00:05:18,030 --> 00:05:22,289
fine we have a backup and we are going

114
00:05:22,289 --> 00:05:27,780
to restore from back and that's exactly

115
00:05:27,780 --> 00:05:30,539
what they did so they found the backup

116
00:05:30,539 --> 00:05:33,210
server they restore from backup and lo

117
00:05:33,210 --> 00:05:36,659
and behold exactly ten minutes later the

118
00:05:36,659 --> 00:05:40,199
website was hacked again why because it

119
00:05:40,199 --> 00:05:42,750
had the same vulnerabilities as the

120
00:05:42,750 --> 00:05:46,400
original website no surprises there and

121
00:05:46,400 --> 00:05:49,979
we call them again and we said please

122
00:05:49,979 --> 00:05:53,310
please please let us help you and this

123
00:05:53,310 --> 00:05:56,130
time they said you know what okay if you

124
00:05:56,130 --> 00:05:57,150
insist

125
00:05:57,150 --> 00:06:01,620
we're gonna let you help us and so we

126
00:06:01,620 --> 00:06:03,180
asked them to send us the server we

127
00:06:03,180 --> 00:06:05,580
wanted to do an investigation we need to

128
00:06:05,580 --> 00:06:08,070
do a forensic investigation meaning we

129
00:06:08,070 --> 00:06:10,169
need we needed to find out what happened

130
00:06:10,169 --> 00:06:13,949
how the hack the heck happened and they

131
00:06:13,949 --> 00:06:15,389
said okay we're going to send you the

132
00:06:15,389 --> 00:06:20,039
guy with the server and again this is a

133
00:06:20,039 --> 00:06:23,400
good point to mention that as this was

134
00:06:23,400 --> 00:06:25,349
not a production web site as I said

135
00:06:25,349 --> 00:06:27,389
before it was not managed by the banks

136
00:06:27,389 --> 00:06:30,150
ie Department it was managed by the

137
00:06:30,150 --> 00:06:32,729
banks marketing department and because

138
00:06:32,729 --> 00:06:35,580
they were not IT people they out sourced

139
00:06:35,580 --> 00:06:38,710
it through an external web development

140
00:06:38,710 --> 00:06:44,790
and this happened around the year 2000

141
00:06:44,790 --> 00:06:49,180
and by 2008 that company essentially

142
00:06:49,180 --> 00:06:52,840
shut down they lost all other clients

143
00:06:52,840 --> 00:06:55,990
except the Bank of Israel and they kept

144
00:06:55,990 --> 00:06:58,420
basically one person on payroll to take

145
00:06:58,420 --> 00:07:02,440
care of just of that website and the

146
00:07:02,440 --> 00:07:05,050
owner of the company instead of doing

147
00:07:05,050 --> 00:07:07,270
web development and web hosting he

148
00:07:07,270 --> 00:07:13,780
decided to become a life coach and so

149
00:07:13,780 --> 00:07:17,250
that's do we figure out that then and

150
00:07:17,250 --> 00:07:20,590
that's the guy who came so the last

151
00:07:20,590 --> 00:07:22,300
employee of the company the IT guy

152
00:07:22,300 --> 00:07:25,180
apparently he came with a backup server

153
00:07:25,180 --> 00:07:27,580
so not even be the full server backup

154
00:07:27,580 --> 00:07:29,740
server but it was supposed to be fine

155
00:07:29,740 --> 00:07:33,390
and he brought us a backup server and

156
00:07:33,390 --> 00:07:38,610
our IP manager looks at the server and

157
00:07:38,610 --> 00:07:44,530
he says no no just no absolutely not

158
00:07:44,530 --> 00:07:47,700
this thing is not getting into my

159
00:07:47,700 --> 00:07:52,120
network so this is not a real picture

160
00:07:52,120 --> 00:07:54,400
this is just some picture I took off the

161
00:07:54,400 --> 00:07:56,560
internet but surprisingly it looks very

162
00:07:56,560 --> 00:08:00,820
very similar to the real deal what you

163
00:08:00,820 --> 00:08:03,520
cannot see in this picture is that the

164
00:08:03,520 --> 00:08:05,800
server itself the case of the server has

165
00:08:05,800 --> 00:08:10,510
very very big large red stains and try

166
00:08:10,510 --> 00:08:14,080
to figure out what they were and finally

167
00:08:14,080 --> 00:08:16,810
our IT guy goes there looks at them

168
00:08:16,810 --> 00:08:19,120
scratches them a bit sniffs them a bit

169
00:08:19,120 --> 00:08:21,970
and then it comes to us and says you

170
00:08:21,970 --> 00:08:26,910
will not believe this this is ketchup

171
00:08:26,910 --> 00:08:31,180
turns out that they kept the backup

172
00:08:31,180 --> 00:08:34,419
server not in an actual server room but

173
00:08:34,419 --> 00:08:39,280
in the kitchen of the IT guy from that

174
00:08:39,280 --> 00:08:43,809
company so you can imagine how well this

175
00:08:43,809 --> 00:08:47,650
server this entire web site this entire

176
00:08:47,650 --> 00:08:50,620
system was taken care of we didn't have

177
00:08:50,620 --> 00:08:52,020
high books at the

178
00:08:52,020 --> 00:08:55,620
spot but we needed to do a forensic

179
00:08:55,620 --> 00:08:58,470
investigation and that's what we did

180
00:08:58,470 --> 00:09:02,760
exactly that so we found out that the

181
00:09:02,760 --> 00:09:06,020
server was what we call a one-stop-shop

182
00:09:06,020 --> 00:09:09,180
meaning it ran everything it was a

183
00:09:09,180 --> 00:09:13,890
freebsd server running mysql running

184
00:09:13,890 --> 00:09:17,640
Apache as the web server running PHP for

185
00:09:17,640 --> 00:09:21,180
which I'll talk about later on and it

186
00:09:21,180 --> 00:09:22,830
was running an SMTP server it was

187
00:09:22,830 --> 00:09:25,170
running an FTP server so this is how we

188
00:09:25,170 --> 00:09:28,470
upload files all of them are running in

189
00:09:28,470 --> 00:09:31,320
the same server the same server

190
00:09:31,320 --> 00:09:34,710
connected to the Internet directly which

191
00:09:34,710 --> 00:09:39,330
is the ABC of how not to do a production

192
00:09:39,330 --> 00:09:44,180
website and more so we found out that

193
00:09:44,180 --> 00:09:47,160
all of the certain all of these services

194
00:09:47,160 --> 00:09:52,200
were running as root and again if you

195
00:09:52,200 --> 00:09:55,170
are not familiar familiar with UNIX and

196
00:09:55,170 --> 00:09:57,480
Linux system the root user is the

197
00:09:57,480 --> 00:10:00,270
ultimate administrator of the system it

198
00:10:00,270 --> 00:10:02,640
can pretty much do anything you are not

199
00:10:02,640 --> 00:10:06,540
supposed to run any service any system

200
00:10:06,540 --> 00:10:11,280
as root and these people ran everything

201
00:10:11,280 --> 00:10:15,150
as root so once again not a very

202
00:10:15,150 --> 00:10:20,460
promising start now we knew or we had a

203
00:10:20,460 --> 00:10:23,430
hunch that this was an attack on a

204
00:10:23,430 --> 00:10:25,470
website the first place we needed to

205
00:10:25,470 --> 00:10:29,810
look at was the web logs the Apache logs

206
00:10:29,810 --> 00:10:33,240
so that's what I'm started looking and

207
00:10:33,240 --> 00:10:35,760
honestly it didn't take us long to find

208
00:10:35,760 --> 00:10:37,710
out what happened it was very very clear

209
00:10:37,710 --> 00:10:40,080
in the logs the attackers didn't really

210
00:10:40,080 --> 00:10:43,500
try to hide what they were doing so they

211
00:10:43,500 --> 00:10:46,650
found an SQL injection and that's good

212
00:10:46,650 --> 00:10:49,610
injection is where the website takes

213
00:10:49,610 --> 00:10:51,240
text input

214
00:10:51,240 --> 00:10:54,270
from the users and doesn't sanitize it

215
00:10:54,270 --> 00:10:56,160
doesn't check it that it's not malicious

216
00:10:56,160 --> 00:10:59,620
code and just uses it as is

217
00:10:59,620 --> 00:11:03,280
in database queries so for example in

218
00:11:03,280 --> 00:11:07,030
search or forms or stings things like

219
00:11:07,030 --> 00:11:08,770
that and that's exactly what the

220
00:11:08,770 --> 00:11:12,310
attacker found and he used that SQL

221
00:11:12,310 --> 00:11:15,580
injection and we saw that he basically

222
00:11:15,580 --> 00:11:17,680
what he did on the course of three days

223
00:11:17,680 --> 00:11:21,580
prior to the 25th they just took a

224
00:11:21,580 --> 00:11:24,930
complete copy of the entire database

225
00:11:24,930 --> 00:11:27,550
they were able to do that using the SQL

226
00:11:27,550 --> 00:11:30,600
injection okay so now that we know that

227
00:11:30,600 --> 00:11:32,980
we needed to figure out what they

228
00:11:32,980 --> 00:11:36,460
actually found so we went to the SQL the

229
00:11:36,460 --> 00:11:39,970
MySQL database and we started looking at

230
00:11:39,970 --> 00:11:42,400
it so we ran the show tables only you

231
00:11:42,400 --> 00:11:44,650
want to see what tables we have on the

232
00:11:44,650 --> 00:11:49,060
SQL server the MySQL server and these

233
00:11:49,060 --> 00:11:51,640
are basically the results we got and

234
00:11:51,640 --> 00:11:54,460
specifically one thing that we found

235
00:11:54,460 --> 00:12:00,670
that was interesting is this is the fdpp

236
00:12:00,670 --> 00:12:04,060
users so for some reason that nobody

237
00:12:04,060 --> 00:12:07,570
could tell us why the mysql database

238
00:12:07,570 --> 00:12:12,340
contained the table with all the users

239
00:12:12,340 --> 00:12:15,970
of TFTP and again remind you the ftp is

240
00:12:15,970 --> 00:12:18,670
the service used to upload files into

241
00:12:18,670 --> 00:12:22,600
the server more than that it just

242
00:12:22,600 --> 00:12:25,510
contained the username and clear text

243
00:12:25,510 --> 00:12:29,650
passwords of the accounts allowed on the

244
00:12:29,650 --> 00:12:34,300
FTP service and so they were only the

245
00:12:34,300 --> 00:12:37,120
one they weren't even encrypted they

246
00:12:37,120 --> 00:12:40,270
weren't anything and reminding you this

247
00:12:40,270 --> 00:12:43,930
is all running in root privileges so

248
00:12:43,930 --> 00:12:45,940
anything that is uploaded through there

249
00:12:45,940 --> 00:12:47,500
and anything that is executed through

250
00:12:47,500 --> 00:12:51,520
there is in root permissions what they

251
00:12:51,520 --> 00:12:53,650
did what they used this information for

252
00:12:53,650 --> 00:12:55,630
was to upload something into the server

253
00:12:55,630 --> 00:12:58,780
and something called a show specifically

254
00:12:58,780 --> 00:13:02,620
c99 show this is a web based application

255
00:13:02,620 --> 00:13:07,330
that allows to send commands directly

256
00:13:07,330 --> 00:13:10,779
to the operating system and again using

257
00:13:10,779 --> 00:13:15,010
root privileges so now in essence they

258
00:13:15,010 --> 00:13:18,810
had full and complete control over the

259
00:13:18,810 --> 00:13:21,279
system they could do whatever they want

260
00:13:21,279 --> 00:13:25,600
to do with it so fortunately what they

261
00:13:25,600 --> 00:13:26,829
chose to do with it

262
00:13:26,829 --> 00:13:29,709
was to change the homepage of the

263
00:13:29,709 --> 00:13:32,529
website it could have done much more

264
00:13:32,529 --> 00:13:36,940
damage I'll get to that in the end okay

265
00:13:36,940 --> 00:13:38,829
so now we know what happened when how we

266
00:13:38,829 --> 00:13:41,410
know the flow of the attack but that's

267
00:13:41,410 --> 00:13:43,180
not enough for forensic investigation

268
00:13:43,180 --> 00:13:45,519
we're already in there we want to know

269
00:13:45,519 --> 00:13:48,310
how does this code looks like what else

270
00:13:48,310 --> 00:13:49,959
could have happen or what do we need to

271
00:13:49,959 --> 00:13:51,760
fix to make sure this doesn't happen

272
00:13:51,760 --> 00:13:54,370
again so we started looking at the code

273
00:13:54,370 --> 00:13:59,019
and if you remember before I told you

274
00:13:59,019 --> 00:14:01,660
that this entire website was running on

275
00:14:01,660 --> 00:14:05,769
PHP for PHP for came out in the year

276
00:14:05,769 --> 00:14:09,279
2000 so by 2008 it was already

277
00:14:09,279 --> 00:14:12,750
considered a very very old framework

278
00:14:12,750 --> 00:14:16,740
that had serious security

279
00:14:16,740 --> 00:14:19,300
vulnerabilities in it and it was out of

280
00:14:19,300 --> 00:14:19,899
life

281
00:14:19,899 --> 00:14:22,540
so it wasn't recommended to be used but

282
00:14:22,540 --> 00:14:25,240
the code itself the code of the website

283
00:14:25,240 --> 00:14:30,000
itself is what we call a code created by

284
00:14:30,000 --> 00:14:32,890
copypasta it's basically the same piece

285
00:14:32,890 --> 00:14:36,190
of code copied over and over again with

286
00:14:36,190 --> 00:14:40,120
minimal differences and because as it

287
00:14:40,120 --> 00:14:43,810
happened that code that was copied had

288
00:14:43,810 --> 00:14:47,350
an SQL injection in it in fact we found

289
00:14:47,350 --> 00:14:53,970
out we found approximately 900 different

290
00:14:53,970 --> 00:14:58,260
instances of the same SQL injection and

291
00:14:58,260 --> 00:15:00,520
when you get something else when you get

292
00:15:00,520 --> 00:15:02,410
a system that did any and you are asked

293
00:15:02,410 --> 00:15:04,779
to protect it for us to do something

294
00:15:04,779 --> 00:15:07,890
about it so it doesn't get add there's

295
00:15:07,890 --> 00:15:11,680
there's so only so much you can do okay

296
00:15:11,680 --> 00:15:14,130
basically you need to give it first aid

297
00:15:14,130 --> 00:15:18,550
you need to fix the most serious

298
00:15:18,550 --> 00:15:19,850
problems

299
00:15:19,850 --> 00:15:21,860
that's and you're obviously you don't

300
00:15:21,860 --> 00:15:23,120
have the time you don't have the

301
00:15:23,120 --> 00:15:24,650
resources and you don't really want to

302
00:15:24,650 --> 00:15:28,730
fix everything again

303
00:15:28,730 --> 00:15:30,470
this is the website of the Bank of

304
00:15:30,470 --> 00:15:33,890
Israel at this point it was out of

305
00:15:33,890 --> 00:15:37,700
commission it was down for approximately

306
00:15:37,700 --> 00:15:41,240
a day a day and a half we don't have we

307
00:15:41,240 --> 00:15:42,920
didn't have a lot of time to do

308
00:15:42,920 --> 00:15:45,500
something serious so again first thing

309
00:15:45,500 --> 00:15:48,490
we do is to make first any corrections

310
00:15:48,490 --> 00:15:52,310
second thing you do is you wrap it with

311
00:15:52,310 --> 00:15:54,200
compensating control so you wrap it with

312
00:15:54,200 --> 00:15:57,680
external systems that are supposed to

313
00:15:57,680 --> 00:16:01,040
stop SQL injection attacks even though

314
00:16:01,040 --> 00:16:04,660
they still exist in the code itself and

315
00:16:04,660 --> 00:16:07,610
that's exactly what we did so he took us

316
00:16:07,610 --> 00:16:11,270
another day and a half so total and the

317
00:16:11,270 --> 00:16:15,340
website itself was down for

318
00:16:15,340 --> 00:16:18,770
approximately three days before we could

319
00:16:18,770 --> 00:16:23,240
put it up and by that time the you know

320
00:16:23,240 --> 00:16:26,450
the person in charge of the monetary of

321
00:16:26,450 --> 00:16:28,940
the funds in Israel basically yelling at

322
00:16:28,940 --> 00:16:31,280
us you have to put it up you have to put

323
00:16:31,280 --> 00:16:34,700
it up right now I have so there was no

324
00:16:34,700 --> 00:16:36,650
way okay actually no and let me go to

325
00:16:36,650 --> 00:16:38,810
the next slide so basically the question

326
00:16:38,810 --> 00:16:41,510
is the one question that was left here

327
00:16:41,510 --> 00:16:44,510
is okay we understand what happened from

328
00:16:44,510 --> 00:16:47,450
a technical perspective but the real

329
00:16:47,450 --> 00:16:49,670
question is who cares

330
00:16:49,670 --> 00:16:54,890
right I mean this is a marketing work

331
00:16:54,890 --> 00:16:56,630
this is a marketing website I already

332
00:16:56,630 --> 00:17:00,200
told you that this is not a production

333
00:17:00,200 --> 00:17:02,800
website this is not connected to the

334
00:17:02,800 --> 00:17:07,490
bank's internal systems so who cares why

335
00:17:07,490 --> 00:17:10,490
why was it so urgent or so important

336
00:17:10,490 --> 00:17:13,550
that we put it put this back up as soon

337
00:17:13,550 --> 00:17:17,089
as possible and I have a bunch of

338
00:17:17,089 --> 00:17:20,630
answers for that so number one as I said

339
00:17:20,630 --> 00:17:24,410
it's a PR disaster right even if your

340
00:17:24,410 --> 00:17:26,780
website so this is now lessons we can

341
00:17:26,780 --> 00:17:30,880
put in there even if your website is not

342
00:17:30,880 --> 00:17:33,420
considered

343
00:17:33,420 --> 00:17:37,240
you know then it's not critical that

344
00:17:37,240 --> 00:17:40,300
it's up 24-7 it's not critical that

345
00:17:40,300 --> 00:17:42,550
nobody will lose their lives if it's

346
00:17:42,550 --> 00:17:45,160
down you still don't want to be in a

347
00:17:45,160 --> 00:17:47,440
situation where instead of your website

348
00:17:47,440 --> 00:17:52,060
there is a big black screen with an T us

349
00:17:52,060 --> 00:17:55,360
and designers propaganda but more than

350
00:17:55,360 --> 00:17:59,440
that this is how the Chancellor of the

351
00:17:59,440 --> 00:18:04,480
bank publishes you know news that's the

352
00:18:04,480 --> 00:18:07,000
main channels communication with the

353
00:18:07,000 --> 00:18:09,970
public so absolutely they needed to put

354
00:18:09,970 --> 00:18:14,380
that up more than that even though so

355
00:18:14,380 --> 00:18:16,240
basically what the IP people the

356
00:18:16,240 --> 00:18:19,330
mentalist it's not important because the

357
00:18:19,330 --> 00:18:20,860
banks of Israel that the commercial

358
00:18:20,860 --> 00:18:22,840
banks of Israel are not getting their

359
00:18:22,840 --> 00:18:24,940
information from this website are

360
00:18:24,940 --> 00:18:26,350
getting their information from back

361
00:18:26,350 --> 00:18:29,760
channels it turns out that other

362
00:18:29,760 --> 00:18:35,400
services other companies in Israel are

363
00:18:35,400 --> 00:18:38,070
taking this information from the website

364
00:18:38,070 --> 00:18:41,710
specifically we found out that all the

365
00:18:41,710 --> 00:18:44,800
accounting software in Israel we're

366
00:18:44,800 --> 00:18:47,110
taking the interest rates and we're

367
00:18:47,110 --> 00:18:50,040
taking the currency exchange rates

368
00:18:50,040 --> 00:18:53,650
through the RSS feeds of this very

369
00:18:53,650 --> 00:18:57,880
public website coming back to what could

370
00:18:57,880 --> 00:19:00,520
have happened again the attackers had

371
00:19:00,520 --> 00:19:02,380
full control of the system they could

372
00:19:02,380 --> 00:19:03,910
have done whatever they want they could

373
00:19:03,910 --> 00:19:06,040
have changed the database instead of

374
00:19:06,040 --> 00:19:09,250
changing the website imagine if we would

375
00:19:09,250 --> 00:19:13,030
have found out that somebody changed the

376
00:19:13,030 --> 00:19:16,350
currency exchange rates in Israel and

377
00:19:16,350 --> 00:19:19,390
nobody knew about what I didn't tell you

378
00:19:19,390 --> 00:19:21,730
what I forgot to tell you before is it

379
00:19:21,730 --> 00:19:24,220
another thing we saw in the Apache logs

380
00:19:24,220 --> 00:19:27,120
in the web server the web server laws is

381
00:19:27,120 --> 00:19:30,760
that this was not a drive-by shooting

382
00:19:30,760 --> 00:19:32,860
it's not something that they found out

383
00:19:32,860 --> 00:19:35,470
about and then directly executed an

384
00:19:35,470 --> 00:19:38,920
attack they said they knew about this

385
00:19:38,920 --> 00:19:43,270
SQL injection vulnerability six months

386
00:19:43,270 --> 00:19:45,620
before they actually decide

387
00:19:45,620 --> 00:19:47,840
to attack the reason they decided to

388
00:19:47,840 --> 00:19:51,919
attack was as retaliation on something

389
00:19:51,919 --> 00:19:55,279
that the Israeli army did some operation

390
00:19:55,279 --> 00:19:57,350
they did in the Gaza Strip but they had

391
00:19:57,350 --> 00:20:01,580
six months of preparation and they chose

392
00:20:01,580 --> 00:20:05,720
to do nothing with it and this was pure

393
00:20:05,720 --> 00:20:08,990
luck if they have done something like

394
00:20:08,990 --> 00:20:12,730
that we might have never known about it

395
00:20:12,730 --> 00:20:18,260
so probably a good time to start

396
00:20:18,260 --> 00:20:23,809
summarizing things up here's what we can

397
00:20:23,809 --> 00:20:27,470
learn from it so number one your website

398
00:20:27,470 --> 00:20:29,870
is important even if you don't think

399
00:20:29,870 --> 00:20:31,610
it's important your website is important

400
00:20:31,610 --> 00:20:35,299
and it deserves to be protected number

401
00:20:35,299 --> 00:20:40,399
two never ever ever put all the services

402
00:20:40,399 --> 00:20:43,600
of a production website in the same

403
00:20:43,600 --> 00:20:44,870
internet-facing

404
00:20:44,870 --> 00:20:48,159
server there is a proper way to do

405
00:20:48,159 --> 00:20:52,279
secure architecture for internet facing

406
00:20:52,279 --> 00:20:56,750
the systems if you don't know what this

407
00:20:56,750 --> 00:21:00,440
proper way proper architecture is hire a

408
00:21:00,440 --> 00:21:03,620
security person hire somebody that knows

409
00:21:03,620 --> 00:21:07,520
their job and don't do it after the fact

410
00:21:07,520 --> 00:21:10,730
don't do it after you already getting

411
00:21:10,730 --> 00:21:13,970
hacked do it from day one security is

412
00:21:13,970 --> 00:21:16,460
not something that it's not an add-on

413
00:21:16,460 --> 00:21:18,500
it's not something that can be patched

414
00:21:18,500 --> 00:21:21,500
on top of existing systems security is

415
00:21:21,500 --> 00:21:23,380
something that needs to be integrated

416
00:21:23,380 --> 00:21:27,919
designed and work hand in hand with the

417
00:21:27,919 --> 00:21:30,770
business flows and with the business

418
00:21:30,770 --> 00:21:36,200
targets of the system and probably the

419
00:21:36,200 --> 00:21:38,360
most important lesson we can learn from

420
00:21:38,360 --> 00:21:40,669
this story and is that if you do have a

421
00:21:40,669 --> 00:21:43,659
server and you do have a backup server

422
00:21:43,659 --> 00:21:46,880
probably please please please please

423
00:21:46,880 --> 00:21:47,570
please

424
00:21:47,570 --> 00:21:49,929
do not store it in your kitchen

425
00:21:49,929 --> 00:21:54,649
otherwise it will get ketchups stains on

426
00:21:54,649 --> 00:21:57,200
it and that's not something we actually

427
00:21:57,200 --> 00:22:00,540
and that's it thank you very much for

428
00:22:00,540 --> 00:22:02,550
your time and I'm happy to answer any

429
00:22:02,550 --> 00:22:15,000
questions if you have them wait just a

430
00:22:15,000 --> 00:22:25,980
second I can't hear you I'm sorry I have

431
00:22:25,980 --> 00:22:27,960
apologized folks I'm talking with a

432
00:22:27,960 --> 00:22:30,950
muted microphone which never works well

433
00:22:30,950 --> 00:22:35,220
this is the fun of live events so let's

434
00:22:35,220 --> 00:22:37,559
try this again put your questions in the

435
00:22:37,559 --> 00:22:40,710
Q&A panel you'll appreciate it great

436
00:22:40,710 --> 00:22:43,260
presentation we do one question that

437
00:22:43,260 --> 00:22:46,140
came in right away do banks often use

438
00:22:46,140 --> 00:22:48,980
RSS to set their currency exchange rates

439
00:22:48,980 --> 00:22:52,679
so as I said for the public for the

440
00:22:52,679 --> 00:22:54,240
public use for everybody has to use

441
00:22:54,240 --> 00:22:56,550
absolutely as the RSS is a great tool

442
00:22:56,550 --> 00:22:59,550
that has been with us for who knows how

443
00:22:59,550 --> 00:23:00,179
long

444
00:23:00,179 --> 00:23:03,120
for production systems prefers for the

445
00:23:03,120 --> 00:23:04,770
banks themselves them no that's not how

446
00:23:04,770 --> 00:23:09,210
they got the information so this is

447
00:23:09,210 --> 00:23:11,130
basically informational stuff it's not

448
00:23:11,130 --> 00:23:12,390
what they're actually using for

449
00:23:12,390 --> 00:23:14,880
processing transactions and so forth

450
00:23:14,880 --> 00:23:16,620
another correct exactly again this is

451
00:23:16,620 --> 00:23:20,040
this is the excuse they had on why not

452
00:23:20,040 --> 00:23:22,770
go with us we were so at the ego agency

453
00:23:22,770 --> 00:23:27,150
we were portable and more expensive than

454
00:23:27,150 --> 00:23:29,040
the private market so they didn't want

455
00:23:29,040 --> 00:23:29,970
to go with us they want to go with the

456
00:23:29,970 --> 00:23:32,429
cheaper option which is unfortunately

457
00:23:32,429 --> 00:23:35,480
the less secure objects okay yeah

458
00:23:35,480 --> 00:23:37,410
there's another question that came up in

459
00:23:37,410 --> 00:23:40,020
slack looking for the name of any tools

460
00:23:40,020 --> 00:23:43,800
that could be it put in place to wrap

461
00:23:43,800 --> 00:23:45,660
around a website to protect it from

462
00:23:45,660 --> 00:23:47,670
sequel injection I'm gonna are we

463
00:23:47,670 --> 00:23:49,440
talking web application firewalls here

464
00:23:49,440 --> 00:23:51,300
so absolutely so one is Web Application

465
00:23:51,300 --> 00:23:53,820
Firewall that's a great tool right off

466
00:23:53,820 --> 00:23:54,330
the bat

467
00:23:54,330 --> 00:23:58,140
and but but also a lot of monitoring

468
00:23:58,140 --> 00:24:01,440
honestly even even if you don't if you

469
00:24:01,440 --> 00:24:03,210
even if you are not able to protect it

470
00:24:03,210 --> 00:24:04,650
so the Web Application Firewall is a

471
00:24:04,650 --> 00:24:06,270
great tool if you know how to use it

472
00:24:06,270 --> 00:24:09,950
it's a very very cool to use improperly

473
00:24:09,950 --> 00:24:13,910
but at the base of it just monitor just

474
00:24:13,910 --> 00:24:15,950
know find out what you don't know find

475
00:24:15,950 --> 00:24:17,690
out when something's bad is happening so

476
00:24:17,690 --> 00:24:21,050
you were able to react in days or even

477
00:24:21,050 --> 00:24:25,430
hours and not six months so why are you

478
00:24:25,430 --> 00:24:28,160
talking and like access logs things like

479
00:24:28,160 --> 00:24:29,660
that on the web server everything

480
00:24:29,660 --> 00:24:31,460
everything everything you can log so

481
00:24:31,460 --> 00:24:33,430
we're talking about of course is sim

482
00:24:33,430 --> 00:24:35,540
solutions for example so logging

483
00:24:35,540 --> 00:24:38,360
solutions and my own personal agenda is

484
00:24:38,360 --> 00:24:42,280
whatever you can log log so web logs

485
00:24:42,280 --> 00:24:45,260
network logs system logs file logs

486
00:24:45,260 --> 00:24:47,000
anything anything that you can think of

487
00:24:47,000 --> 00:24:49,580
that can generate alerts should be

488
00:24:49,580 --> 00:24:53,360
logged in sydney monitor okay one other

489
00:24:53,360 --> 00:24:57,320
question i just came in how do you know

490
00:24:57,320 --> 00:25:00,800
the day one if the vulnerability is has

491
00:25:00,800 --> 00:25:06,430
existed for more time say a month before

492
00:25:06,430 --> 00:25:09,740
obviously we can never know 100 100

493
00:25:09,740 --> 00:25:14,330
percent we again we but we could see is

494
00:25:14,330 --> 00:25:16,390
that the attacker didn't even try to

495
00:25:16,390 --> 00:25:19,220
hide anything they didn't change the

496
00:25:19,220 --> 00:25:22,160
logs in any way so it was all there we

497
00:25:22,160 --> 00:25:23,900
could see we could see them so

498
00:25:23,900 --> 00:25:26,150
approximately six months before we could

499
00:25:26,150 --> 00:25:28,310
see them exploiting the vulnerability

500
00:25:28,310 --> 00:25:31,010
making sure that they can access the SQL

501
00:25:31,010 --> 00:25:33,050
and then and then stop they didn't do

502
00:25:33,050 --> 00:25:35,180
anything with it so just basically once

503
00:25:35,180 --> 00:25:35,720
a week

504
00:25:35,720 --> 00:25:39,140
they sent a request validated it's still

505
00:25:39,140 --> 00:25:40,430
there left it alone

506
00:25:40,430 --> 00:25:43,400
and that's so once a week for six months

507
00:25:43,400 --> 00:25:46,340
and then three days prior to the attack

508
00:25:46,340 --> 00:25:48,860
then we started seeing a bunch of a

509
00:25:48,860 --> 00:25:51,650
bunch of events in the lost so this is

510
00:25:51,650 --> 00:25:52,910
our assumption that's the best

511
00:25:52,910 --> 00:25:55,430
assumption that we have and we didn't

512
00:25:55,430 --> 00:25:57,170
see anything in the database logs and

513
00:25:57,170 --> 00:25:59,120
we're database dogs we didn't see

514
00:25:59,120 --> 00:26:00,680
anything in the file system logs all

515
00:26:00,680 --> 00:26:03,320
those logs were untouched as far as we

516
00:26:03,320 --> 00:26:06,590
know okay terrific

517
00:26:06,590 --> 00:26:08,180
all right well thank you so much you are

518
00:26:08,180 --> 00:26:10,100
you gonna be available then in slack for

519
00:26:10,100 --> 00:26:10,360
awhile

520
00:26:10,360 --> 00:26:14,210
absolutely absolutely so folks again if

521
00:26:14,210 --> 00:26:15,650
you've got other questions for you'll

522
00:26:15,650 --> 00:26:18,200
feel free catch them in slack that's the

523
00:26:18,200 --> 00:26:21,230
track - security channel for those of

524
00:26:21,230 --> 00:26:22,670
you that are in there

525
00:26:22,670 --> 00:26:24,350
thank you again for your time today

526
00:26:24,350 --> 00:26:27,290
you'll and we'll have our next speaker

527
00:26:27,290 --> 00:26:29,990
up here in just a few moments thank you

528
00:26:29,990 --> 00:26:32,470
for having me

