1
00:00:04,790 --> 00:00:07,379
all right so hello everyone welcome to

2
00:00:07,379 --> 00:00:09,090
the secret developer and inclusive

3
00:00:09,090 --> 00:00:10,830
community that educates and enables

4
00:00:10,830 --> 00:00:12,320
developers in application security

5
00:00:12,320 --> 00:00:15,089
coming up we'll be joined by Scott home

6
00:00:15,089 --> 00:00:16,830
talking about a clean-energy TPS the

7
00:00:16,830 --> 00:00:18,800
quick and easy ways to taking us from

8
00:00:18,800 --> 00:00:22,050
zero to hero basically but before we do

9
00:00:22,050 --> 00:00:23,670
that I want to quickly introduce myself

10
00:00:23,670 --> 00:00:25,320
my name is Rhonda I'm a developer

11
00:00:25,320 --> 00:00:27,300
advocate at sneaked we'd love to hear

12
00:00:27,300 --> 00:00:29,400
your feedback throughout this session to

13
00:00:29,400 --> 00:00:29,939
improve

14
00:00:29,939 --> 00:00:31,230
you can find us on Twitter on our

15
00:00:31,230 --> 00:00:34,170
hashtag the secure dev or run in our

16
00:00:34,170 --> 00:00:36,059
slack rope let's talk rope is actually

17
00:00:36,059 --> 00:00:37,230
the best place to interact with our

18
00:00:37,230 --> 00:00:38,760
speakers and with our community members

19
00:00:38,760 --> 00:00:41,730
if you haven't haven't already signed up

20
00:00:41,730 --> 00:00:43,649
you're welcome to do that too are they

21
00:00:43,649 --> 00:00:46,200
secured developer comm the web site and

22
00:00:46,200 --> 00:00:48,059
also by joining our hashtag live

23
00:00:48,059 --> 00:00:50,820
sessions on on the slack community and

24
00:00:50,820 --> 00:00:52,079
we'll be able to facilitate your

25
00:00:52,079 --> 00:00:54,210
questions to Scott during that session

26
00:00:54,210 --> 00:00:56,309
so if you're listening after the live

27
00:00:56,309 --> 00:00:58,050
session it's also possible to just jump

28
00:00:58,050 --> 00:00:59,789
on it slack and we'll get that sorted

29
00:00:59,789 --> 00:01:02,840
out with any questions that you have

30
00:01:02,840 --> 00:01:05,430
once this session is over you'll have an

31
00:01:05,430 --> 00:01:07,680
actual link on the website that you can

32
00:01:07,680 --> 00:01:10,070
share with friends for the video and

33
00:01:10,070 --> 00:01:12,540
that's it so the security Belapur is

34
00:01:12,540 --> 00:01:14,340
brought to you by snick we aim to be a

35
00:01:14,340 --> 00:01:16,140
vendor neutral space to share knowledge

36
00:01:16,140 --> 00:01:18,030
and best practices related to software

37
00:01:18,030 --> 00:01:21,240
security so we don't we that's it

38
00:01:21,240 --> 00:01:22,890
and we don't further ado I'm gonna hand

39
00:01:22,890 --> 00:01:25,680
it over to Scott home so Scott will come

40
00:01:25,680 --> 00:01:27,299
to a secure developer how you doing

41
00:01:27,299 --> 00:01:30,780
hello thank you for having me awesome

42
00:01:30,780 --> 00:01:33,530
like we have you here

43
00:01:33,530 --> 00:01:36,420
we generally run a bit of an intro so

44
00:01:36,420 --> 00:01:39,659
you got any yeah go through this diary

45
00:01:39,659 --> 00:01:45,090
straight into the tech and I think a lot

46
00:01:45,090 --> 00:01:46,890
of an intro in there so if the people

47
00:01:46,890 --> 00:01:48,810
that don't know me my name is Scott

48
00:01:48,810 --> 00:01:51,090
thank you very much for joining us I

49
00:01:51,090 --> 00:01:52,890
will be paying close attention to the

50
00:01:52,890 --> 00:01:54,899
slide so a really heavy practical

51
00:01:54,899 --> 00:01:56,820
session now so whilst we're kind of

52
00:01:56,820 --> 00:01:57,780
going through this intro if you do want

53
00:01:57,780 --> 00:01:59,130
to sign up title ask questions that will

54
00:01:59,130 --> 00:02:01,740
be really good and quick background on

55
00:02:01,740 --> 00:02:04,439
me and I go by the job title security

56
00:02:04,439 --> 00:02:06,630
researcher so you can see my blog is

57
00:02:06,630 --> 00:02:08,758
here I'm really active on Twitter as

58
00:02:08,758 --> 00:02:09,929
well so if you do in a catch me with any

59
00:02:09,929 --> 00:02:11,940
questions afterwards shoot me a tweet or

60
00:02:11,940 --> 00:02:14,250
a DM they're open

61
00:02:14,250 --> 00:02:15,600
and if you have heard of me before

62
00:02:15,600 --> 00:02:18,990
perhaps it's either from one of my ting

63
00:02:18,990 --> 00:02:20,370
projects you may come across secure

64
00:02:20,370 --> 00:02:21,720
tellers Russian and talk about this

65
00:02:21,720 --> 00:02:23,610
today and use this or it may have been

66
00:02:23,610 --> 00:02:25,760
my other project report URI

67
00:02:25,760 --> 00:02:28,050
so you want to talk about this on today

68
00:02:28,050 --> 00:02:29,670
but those are the two things that chew

69
00:02:29,670 --> 00:02:31,650
up most of my time right now but today

70
00:02:31,650 --> 00:02:33,570
and they're going to be talking about

71
00:02:33,570 --> 00:02:34,860
something that I'm super passionate

72
00:02:34,860 --> 00:02:38,250
about which is encryption and TLS and as

73
00:02:38,250 --> 00:02:40,530
we said in the intro that how to have to

74
00:02:40,530 --> 00:02:43,160
do the quick and easy way there's a lot

75
00:02:43,160 --> 00:02:45,930
there's a lot of kind of old habits

76
00:02:45,930 --> 00:02:48,120
around TLS and kind of misunderstandings

77
00:02:48,120 --> 00:02:49,860
from years gone by so hopefully today

78
00:02:49,860 --> 00:02:52,050
we're going to look at just how easy it

79
00:02:52,050 --> 00:02:54,930
can be so I think it covers us for

80
00:02:54,930 --> 00:02:57,990
everything I've got my slack up in here

81
00:02:57,990 --> 00:02:59,940
as I say Lauren are we are we good to

82
00:02:59,940 --> 00:03:02,580
kick off I'm good to go yeah you're on

83
00:03:02,580 --> 00:03:05,220
my HTTP header zero so we're definitely

84
00:03:05,220 --> 00:03:07,460
good to go

85
00:03:07,460 --> 00:03:10,590
so I'm just kind of a brief introduction

86
00:03:10,590 --> 00:03:12,660
first of all to the practical side of

87
00:03:12,660 --> 00:03:13,620
things that were going to be looking at

88
00:03:13,620 --> 00:03:14,850
today everything that I'm doing is why

89
00:03:14,850 --> 00:03:18,240
and so I did my prayers to the

90
00:03:18,240 --> 00:03:19,410
demagogues this morning and hopefully

91
00:03:19,410 --> 00:03:23,130
they will look upon me with favor but

92
00:03:23,130 --> 00:03:24,090
you should be able to see this website

93
00:03:24,090 --> 00:03:26,190
online right now is what I'm going to be

94
00:03:26,190 --> 00:03:28,710
using throughout the course of this demo

95
00:03:28,710 --> 00:03:33,000
here which is demo dot clued dotnet so

96
00:03:33,000 --> 00:03:34,230
you can hopefully be able to open that

97
00:03:34,230 --> 00:03:35,430
up in your browsers now you should be

98
00:03:35,430 --> 00:03:37,710
able to see super basic HTML page

99
00:03:37,710 --> 00:03:39,630
there's nothing particularly fancy going

100
00:03:39,630 --> 00:03:41,790
on but as you'll see in the top left of

101
00:03:41,790 --> 00:03:44,070
my browser here I have this little not

102
00:03:44,070 --> 00:03:46,170
secured warning that's because we're

103
00:03:46,170 --> 00:03:48,300
accessing the page over HTTP and this

104
00:03:48,300 --> 00:03:51,030
has become a much more kind of prominent

105
00:03:51,030 --> 00:03:53,580
feature in websites and certainly in my

106
00:03:53,580 --> 00:03:55,290
mainstream browsers more recently we're

107
00:03:55,290 --> 00:03:57,300
in days number I we used to talk about

108
00:03:57,300 --> 00:03:59,400
green padlocks and look for the green

109
00:03:59,400 --> 00:04:00,750
thing in the address bar and all this

110
00:04:00,750 --> 00:04:03,930
kind of green positive stuff and it

111
00:04:03,930 --> 00:04:06,120
didn't really serve us very well many

112
00:04:06,120 --> 00:04:09,420
users would often misinterpret what the

113
00:04:09,420 --> 00:04:11,130
green men and it would they would think

114
00:04:11,130 --> 00:04:12,480
that it somehow meant the website was

115
00:04:12,480 --> 00:04:15,209
safe or trustworthy like I can give this

116
00:04:15,209 --> 00:04:17,250
website my credit card because I can

117
00:04:17,250 --> 00:04:18,779
trust them because they have the green

118
00:04:18,779 --> 00:04:20,130
thing and that's not what it meant at

119
00:04:20,130 --> 00:04:22,290
all it just means whether or not being

120
00:04:22,290 --> 00:04:25,020
correctly the connection is encrypted so

121
00:04:25,020 --> 00:04:26,700
as you can see on this right here the

122
00:04:26,700 --> 00:04:27,930
connection is not encrypted

123
00:04:27,930 --> 00:04:31,289
on HTTP of course and we have this not

124
00:04:31,289 --> 00:04:33,720
secure warning in the top left now I am

125
00:04:33,720 --> 00:04:36,180
actually running a slightly ahead of

126
00:04:36,180 --> 00:04:38,130
time version of Chrome if you are using

127
00:04:38,130 --> 00:04:40,320
Chrome you'll probably see this there's

128
00:04:40,320 --> 00:04:42,960
a great indicator as opposed to the red

129
00:04:42,960 --> 00:04:45,240
indicator that I have here but if we

130
00:04:45,240 --> 00:04:46,470
fast forward just a little bit of time

131
00:04:46,470 --> 00:04:49,289
in chrome I'm into the future this is

132
00:04:49,289 --> 00:04:50,789
what everybody will see by standard by

133
00:04:50,789 --> 00:04:54,330
default this red not secure warming and

134
00:04:54,330 --> 00:04:55,440
again it doesn't mean that the site is

135
00:04:55,440 --> 00:04:56,850
bad or that it's going to do anything

136
00:04:56,850 --> 00:04:58,530
bad it's what we call the connection

137
00:04:58,530 --> 00:05:00,180
security indicator if you expand it how

138
00:05:00,180 --> 00:05:01,560
it says your connection to the site is

139
00:05:01,560 --> 00:05:03,900
not secure so doesn't mean that the Sun

140
00:05:03,900 --> 00:05:05,849
is bad in any way just like the green

141
00:05:05,849 --> 00:05:07,949
one didn't mean the site was good in any

142
00:05:07,949 --> 00:05:10,349
way it's just do we have a safe

143
00:05:10,349 --> 00:05:14,400
connection to the site and so one of the

144
00:05:14,400 --> 00:05:16,710
kind of first parts of this session now

145
00:05:16,710 --> 00:05:18,539
that I want to talk to you is how to fix

146
00:05:18,539 --> 00:05:19,800
this problem how do we get rid of this

147
00:05:19,800 --> 00:05:21,630
bed not secure wanting or the gray one

148
00:05:21,630 --> 00:05:23,699
if you're on current stable and how do

149
00:05:23,699 --> 00:05:26,550
we get it to a secure connection now I'm

150
00:05:26,550 --> 00:05:28,139
going to jump back to my site just as a

151
00:05:28,139 --> 00:05:31,620
comparison here so again this is what a

152
00:05:31,620 --> 00:05:33,449
secure connection I thought this is my

153
00:05:33,449 --> 00:05:35,550
blog I run this and of course I have a

154
00:05:35,550 --> 00:05:38,130
certificate installed now not even that

155
00:05:38,130 --> 00:05:39,630
many you know kind of months or a year

156
00:05:39,630 --> 00:05:41,820
or so ago you might have expected to see

157
00:05:41,820 --> 00:05:44,010
a nice green indicator up here what

158
00:05:44,010 --> 00:05:46,139
about a green padlock certainly and it

159
00:05:46,139 --> 00:05:48,150
usually had the words secure in there as

160
00:05:48,150 --> 00:05:48,659
well

161
00:05:48,659 --> 00:05:52,289
so as we are kind of peeling back these

162
00:05:52,289 --> 00:05:54,030
green indicators we've taken away the

163
00:05:54,030 --> 00:05:56,520
green we've taken away with secure we're

164
00:05:56,520 --> 00:05:58,050
taking away the positive indicators

165
00:05:58,050 --> 00:05:59,909
these negative indicators are being

166
00:05:59,909 --> 00:06:00,750
introduced

167
00:06:00,750 --> 00:06:03,650
so actually what we're trying to do is

168
00:06:03,650 --> 00:06:06,210
it's basically like flip the model so

169
00:06:06,210 --> 00:06:07,380
instead of having like green positive

170
00:06:07,380 --> 00:06:09,060
things we're going to take all those

171
00:06:09,060 --> 00:06:11,310
away and just introduce these bad red

172
00:06:11,310 --> 00:06:14,520
ones now we still need to make these go

173
00:06:14,520 --> 00:06:16,229
away and this is what we're going to try

174
00:06:16,229 --> 00:06:18,599
and do now just to prove that nothing is

175
00:06:18,599 --> 00:06:20,070
working right now if you try and go to

176
00:06:20,070 --> 00:06:22,080
this website on HTTPS and again this is

177
00:06:22,080 --> 00:06:24,570
our wife you can you know you can follow

178
00:06:24,570 --> 00:06:26,370
along and try this you'll see that it's

179
00:06:26,370 --> 00:06:27,659
all just completely broken and we

180
00:06:27,659 --> 00:06:29,009
actually get this big huge warning

181
00:06:29,009 --> 00:06:30,150
because it's not even configured

182
00:06:30,150 --> 00:06:33,419
properly so this is hell on my TLS

183
00:06:33,419 --> 00:06:35,550
training course I do a two-day course on

184
00:06:35,550 --> 00:06:36,719
this so we're going to chop this down

185
00:06:36,719 --> 00:06:37,560
into an hour

186
00:06:37,560 --> 00:06:40,590
excuse the corners that we cook this is

187
00:06:40,590 --> 00:06:41,760
actually the the star

188
00:06:41,760 --> 00:06:43,740
basically nothing works everything is

189
00:06:43,740 --> 00:06:45,060
broken up with we're going to do this

190
00:06:45,060 --> 00:06:47,670
now they're kind of the quick and the

191
00:06:47,670 --> 00:06:51,330
easy way so in order to to kind of check

192
00:06:51,330 --> 00:06:52,860
out progress we need some kind of metric

193
00:06:52,860 --> 00:06:55,770
you know at some point this will all be

194
00:06:55,770 --> 00:06:57,540
properly configured and the browser will

195
00:06:57,540 --> 00:06:59,160
load the page and the warning will go

196
00:06:59,160 --> 00:07:00,660
away but there's actually kind of like a

197
00:07:00,660 --> 00:07:03,420
sliding scale in the middle there and in

198
00:07:03,420 --> 00:07:05,130
order to give us visibility about as we

199
00:07:05,130 --> 00:07:05,970
go I'm going to be using this really

200
00:07:05,970 --> 00:07:09,330
popular tool called SSL labs that I that

201
00:07:09,330 --> 00:07:12,630
I use quite frequently now SSL labs is a

202
00:07:12,630 --> 00:07:14,760
free everyone can go here now and use

203
00:07:14,760 --> 00:07:16,140
this not like a paid service or anything

204
00:07:16,140 --> 00:07:17,790
like that you can click on the test your

205
00:07:17,790 --> 00:07:21,300
server option here and what you can do

206
00:07:21,300 --> 00:07:23,850
is you can type in your website I'm

207
00:07:23,850 --> 00:07:24,900
going to type in mine where you can type

208
00:07:24,900 --> 00:07:26,370
in any website you like and you can run

209
00:07:26,370 --> 00:07:28,020
a quick scan well it takes about a

210
00:07:28,020 --> 00:07:29,460
minute I want to leave this running here

211
00:07:29,460 --> 00:07:31,410
and once this whole lives will do is its

212
00:07:31,410 --> 00:07:33,750
analyzing the actual the TLS the

213
00:07:33,750 --> 00:07:35,880
encryption configuration of the site and

214
00:07:35,880 --> 00:07:37,590
here you can see we've just got an

215
00:07:37,590 --> 00:07:39,630
absolute failure because like I said

216
00:07:39,630 --> 00:07:42,750
it's totally broken so what we're going

217
00:07:42,750 --> 00:07:44,490
to do is we go through is you can rescan

218
00:07:44,490 --> 00:07:45,600
this and we'll be able to see the

219
00:07:45,600 --> 00:07:47,940
progress of each step that I'm taking

220
00:07:47,940 --> 00:07:49,380
and then eventually things will start

221
00:07:49,380 --> 00:07:51,330
working and loading in the browser as

222
00:07:51,330 --> 00:07:53,430
well but this is a really common place

223
00:07:53,430 --> 00:07:56,040
that I come sometimes I just like to

224
00:07:56,040 --> 00:07:57,900
analyze a site see if they have good

225
00:07:57,900 --> 00:07:59,460
configuration or not if you have a

226
00:07:59,460 --> 00:08:01,530
problem and you don't understand it this

227
00:08:01,530 --> 00:08:03,570
is super easy to get some potential

228
00:08:03,570 --> 00:08:05,730
quick and easy feedback on how to fix

229
00:08:05,730 --> 00:08:08,070
that as well so I'm gonna leave this

230
00:08:08,070 --> 00:08:09,420
open because we're going to be scanning

231
00:08:09,420 --> 00:08:13,440
this as as we go through now the next

232
00:08:13,440 --> 00:08:17,400
thing is the center itself so I'm SSH on

233
00:08:17,400 --> 00:08:20,610
to this box is running Ubuntu is I think

234
00:08:20,610 --> 00:08:23,130
we run 1804 LTS if you're interested

235
00:08:23,130 --> 00:08:25,500
here I don't want this to be a tutorial

236
00:08:25,500 --> 00:08:27,540
about how to use Linux so what I'm going

237
00:08:27,540 --> 00:08:30,420
to do is try and not focus on any of the

238
00:08:30,420 --> 00:08:32,760
specifics of using a Linux host for this

239
00:08:32,760 --> 00:08:35,099
but actually just the process of setting

240
00:08:35,099 --> 00:08:38,010
up TLS that I'm going through so I'm

241
00:08:38,010 --> 00:08:39,120
going to try and abstract like the

242
00:08:39,120 --> 00:08:40,620
platform away as much as possible and

243
00:08:40,620 --> 00:08:42,630
talk about just the relative encryption

244
00:08:42,630 --> 00:08:46,350
things now what I'm going to do is is

245
00:08:46,350 --> 00:08:47,730
we're going to start the process if you

246
00:08:47,730 --> 00:08:50,280
want HTTPS on your own website there are

247
00:08:50,280 --> 00:08:52,590
another minimum number of steps that you

248
00:08:52,590 --> 00:08:53,820
kind of have to go through we're going

249
00:08:53,820 --> 00:08:55,270
to look at the basic step

250
00:08:55,270 --> 00:08:56,830
in here now the first thing is that you

251
00:08:56,830 --> 00:08:59,740
need a key so we're going to have to

252
00:08:59,740 --> 00:09:01,630
generate our keys that we're going to

253
00:09:01,630 --> 00:09:04,240
actually use to set up HTTPS on our

254
00:09:04,240 --> 00:09:07,420
website now I'm going to be as I said

255
00:09:07,420 --> 00:09:08,710
depending on your platform this will

256
00:09:08,710 --> 00:09:10,030
change but I'm just going to generate

257
00:09:10,030 --> 00:09:13,300
the key that I need here so I'm going to

258
00:09:13,300 --> 00:09:16,450
create the output server key and 2048

259
00:09:16,450 --> 00:09:18,460
bit key so I'm using the open SSL

260
00:09:18,460 --> 00:09:20,440
generate a command to create an RSA key

261
00:09:20,440 --> 00:09:24,820
pair and it's a 2048 bit key which you

262
00:09:24,820 --> 00:09:26,320
can see at the end that's the current

263
00:09:26,320 --> 00:09:29,440
minimum size that we must use so as

264
00:09:29,440 --> 00:09:31,240
security standards kind of march onwards

265
00:09:31,240 --> 00:09:33,430
the the minimum key size gets increased

266
00:09:33,430 --> 00:09:35,260
so we always have to make sure that when

267
00:09:35,260 --> 00:09:36,820
meeting that minimum guideline so I

268
00:09:36,820 --> 00:09:41,080
generated a 2048 bit RSA key pair and if

269
00:09:41,080 --> 00:09:42,820
we have a look in this directory we can

270
00:09:42,820 --> 00:09:45,670
see that server key is indeed there and

271
00:09:45,670 --> 00:09:47,650
being created so this is how our it's

272
00:09:47,650 --> 00:09:49,360
actually a key pair so there are two

273
00:09:49,360 --> 00:09:50,710
keys in there are public key and private

274
00:09:50,710 --> 00:09:52,930
key but most of the time you will

275
00:09:52,930 --> 00:09:54,370
commonly hear people just talk about the

276
00:09:54,370 --> 00:09:55,990
private key because that's the only part

277
00:09:55,990 --> 00:09:57,550
that we actually care about that's the

278
00:09:57,550 --> 00:10:00,760
secret bit so my actual key pair is in

279
00:10:00,760 --> 00:10:03,130
that but I only care about the private

280
00:10:03,130 --> 00:10:04,210
key so when I keep referring to the

281
00:10:04,210 --> 00:10:06,520
private key the public one is also in

282
00:10:06,520 --> 00:10:08,050
that I just don't care about that part

283
00:10:08,050 --> 00:10:11,260
because it's not too important so now

284
00:10:11,260 --> 00:10:13,120
we've got our key the second step of

285
00:10:13,120 --> 00:10:15,520
this process is to generate something

286
00:10:15,520 --> 00:10:16,840
that we call a certificate signing

287
00:10:16,840 --> 00:10:19,860
request or a CSR now this is kind of the

288
00:10:19,860 --> 00:10:22,360
formal document that you send to a

289
00:10:22,360 --> 00:10:24,370
certificate authority to get them to

290
00:10:24,370 --> 00:10:26,470
issue you a certificate it comes it

291
00:10:26,470 --> 00:10:28,510
contains all the details about me about

292
00:10:28,510 --> 00:10:31,090
my website what domain names I own what

293
00:10:31,090 --> 00:10:32,470
domain names that I want the certificate

294
00:10:32,470 --> 00:10:35,770
cover so this is like the essentially

295
00:10:35,770 --> 00:10:37,540
the application form for a certificate

296
00:10:37,540 --> 00:10:39,090
so we need to start the process of

297
00:10:39,090 --> 00:10:42,730
creating that application form now I'm

298
00:10:42,730 --> 00:10:44,080
just going to open up a file in an

299
00:10:44,080 --> 00:10:46,330
editor here it's just called Mari I just

300
00:10:46,330 --> 00:10:50,290
call it like my coms my lot CNF and I've

301
00:10:50,290 --> 00:10:52,630
actually got the config he exam type

302
00:10:52,630 --> 00:10:54,370
this whole thing out so I'm just going

303
00:10:54,370 --> 00:10:55,780
to paste it in and talk through it here

304
00:10:55,780 --> 00:10:57,400
so this is the basic for the

305
00:10:57,400 --> 00:10:59,290
configuration and there's obviously

306
00:10:59,290 --> 00:11:01,180
really kind of two important parts that

307
00:11:01,180 --> 00:11:03,010
we're going to look at for just now and

308
00:11:03,010 --> 00:11:04,840
the first one of them is what we call

309
00:11:04,840 --> 00:11:06,130
the common name which you can see

310
00:11:06,130 --> 00:11:08,620
defined here and it contains the name of

311
00:11:08,620 --> 00:11:09,100
the web

312
00:11:09,100 --> 00:11:11,260
that I just showed you which is demo net

313
00:11:11,260 --> 00:11:14,530
now historically the the common name

314
00:11:14,530 --> 00:11:15,850
field my certificates is actually I'm

315
00:11:15,850 --> 00:11:17,830
only allowed to contain one name so

316
00:11:17,830 --> 00:11:19,660
historically one certificate could only

317
00:11:19,660 --> 00:11:22,300
contain one thing but of course we are I

318
00:11:22,300 --> 00:11:23,890
had loads of subdomains I'm sure you

319
00:11:23,890 --> 00:11:25,480
have loads of subdomains and companies

320
00:11:25,480 --> 00:11:28,780
now might have you know company ComNet

321
00:11:28,780 --> 00:11:31,090
co dot UK you might even have multiple

322
00:11:31,090 --> 00:11:33,280
domains so we have this field down here

323
00:11:33,280 --> 00:11:35,640
called the subjects alternative name and

324
00:11:35,640 --> 00:11:38,110
the same as we come on and refer to this

325
00:11:38,110 --> 00:11:40,480
allows you to have multiple names valid

326
00:11:40,480 --> 00:11:42,100
inside a certificate so you can see that

327
00:11:42,100 --> 00:11:44,440
I actually have two declared here which

328
00:11:44,440 --> 00:11:49,180
is www.andhramirchi.net because they are

329
00:11:49,180 --> 00:11:51,970
actually indeed demo dot clued net is

330
00:11:51,970 --> 00:11:55,560
just there and if I go to

331
00:11:56,160 --> 00:12:08,410
www.hostgator.com up a now you can see

332
00:12:08,410 --> 00:12:10,810
this is super small basic configuration

333
00:12:10,810 --> 00:12:14,140
file just gonna say but I'll get rid of

334
00:12:14,140 --> 00:12:16,540
that one with the typos in we don't need

335
00:12:16,540 --> 00:12:22,300
that where was it in crazy okay this is

336
00:12:22,300 --> 00:12:24,430
a configuration file for the certificate

337
00:12:24,430 --> 00:12:28,420
itself right yeah so this is what I'm

338
00:12:28,420 --> 00:12:30,640
going to use to generate the CSR now

339
00:12:30,640 --> 00:12:32,680
what I do I just come in to the spike so

340
00:12:32,680 --> 00:12:34,270
if any sometimes I know it's a bit small

341
00:12:34,270 --> 00:12:35,350
on the webinar so I've just picked

342
00:12:35,350 --> 00:12:36,550
through the configuration into the site

343
00:12:36,550 --> 00:12:39,130
as well for any one one thing but this

344
00:12:39,130 --> 00:12:40,570
is the configuration that I'm going to

345
00:12:40,570 --> 00:12:43,180
use to generate the CSR now so the CSR

346
00:12:43,180 --> 00:12:44,770
the certificate signing request that's

347
00:12:44,770 --> 00:12:47,620
like the application form so open SSL

348
00:12:47,620 --> 00:12:50,280
request I need to create a new one

349
00:12:50,280 --> 00:12:52,900
config I called so I'm going to pass in

350
00:12:52,900 --> 00:12:54,670
the conflict now which is what I've just

351
00:12:54,670 --> 00:12:58,120
generated the key I already generated

352
00:12:58,120 --> 00:13:00,400
earlier is called server key so if I hid

353
00:13:00,400 --> 00:13:03,100
my key here's my configuration and I

354
00:13:03,100 --> 00:13:04,960
would want you to put that into a CSR

355
00:13:04,960 --> 00:13:08,200
file here so again we'll actually do

356
00:13:08,200 --> 00:13:09,490
I'll keep copying and pasting these

357
00:13:09,490 --> 00:13:10,870
commands over just in case anyone's

358
00:13:10,870 --> 00:13:14,500
struggling to see on the webinar so I'm

359
00:13:14,500 --> 00:13:16,300
creating a new request a new certificate

360
00:13:16,300 --> 00:13:16,870
request

361
00:13:16,870 --> 00:13:18,790
I've passed in the configuration which

362
00:13:18,790 --> 00:13:21,190
contains the domain names the key which

363
00:13:21,190 --> 00:13:22,880
we've already generated and I've asked

364
00:13:22,880 --> 00:13:25,100
I'll put that into server that CSR so if

365
00:13:25,100 --> 00:13:27,770
we look now indeed we have our

366
00:13:27,770 --> 00:13:33,470
certificate signing request so that that

367
00:13:33,470 --> 00:13:34,550
certificate signing request is now

368
00:13:34,550 --> 00:13:35,840
actually ready to go to a certificate

369
00:13:35,840 --> 00:13:39,170
authority now people may have heard of

370
00:13:39,170 --> 00:13:40,370
them are dealt with them as part of

371
00:13:40,370 --> 00:13:41,870
their job so you've got like komodo

372
00:13:41,870 --> 00:13:44,090
secti go digi servers like these

373
00:13:44,090 --> 00:13:45,770
companies that sell certificates so you

374
00:13:45,770 --> 00:13:47,870
would take this file you would send it

375
00:13:47,870 --> 00:13:49,610
to one of those organizations typically

376
00:13:49,610 --> 00:13:51,950
pay like it was a small cost for a

377
00:13:51,950 --> 00:13:53,150
certificate and you would get your

378
00:13:53,150 --> 00:13:55,730
certificate back but we're not going to

379
00:13:55,730 --> 00:13:57,410
use any of those organizations today I'm

380
00:13:57,410 --> 00:14:00,290
going to use an organization called life

381
00:14:00,290 --> 00:14:00,980
encrypt

382
00:14:00,980 --> 00:14:02,270
now let's encrypt or a certificate

383
00:14:02,270 --> 00:14:04,010
authority just like the other ones that

384
00:14:04,010 --> 00:14:06,050
I mentioned so there's no you know

385
00:14:06,050 --> 00:14:07,400
there's no real technical difference

386
00:14:07,400 --> 00:14:09,140
between them the main difference and the

387
00:14:09,140 --> 00:14:10,370
reason that I'm going to demo with the

388
00:14:10,370 --> 00:14:12,980
right now is this one just here let's

389
00:14:12,980 --> 00:14:16,030
encrypt don't charge for certificates so

390
00:14:16,030 --> 00:14:18,470
nice and quick you can use an

391
00:14:18,470 --> 00:14:19,640
organization they will issue

392
00:14:19,640 --> 00:14:21,380
certificates and you don't have to put a

393
00:14:21,380 --> 00:14:23,750
credit card into the process to get the

394
00:14:23,750 --> 00:14:26,180
certificate out at the other side as if

395
00:14:26,180 --> 00:14:27,740
you're not heard of this organization

396
00:14:27,740 --> 00:14:29,960
you should check them out they are but

397
00:14:29,960 --> 00:14:31,430
they're a really good organization run

398
00:14:31,430 --> 00:14:32,870
by a great group of people and of course

399
00:14:32,870 --> 00:14:35,060
they're enabling people to use

400
00:14:35,060 --> 00:14:37,370
encryption that couldn't previously use

401
00:14:37,370 --> 00:14:41,630
it because if you think I want HTTP on

402
00:14:41,630 --> 00:14:44,000
my website I want privacy security and

403
00:14:44,000 --> 00:14:46,190
all of those great things there's

404
00:14:46,190 --> 00:14:47,510
actually a step where you have to get a

405
00:14:47,510 --> 00:14:49,640
credit card out and that meant that

406
00:14:49,640 --> 00:14:51,410
there was like a direct cost barrier and

407
00:14:51,410 --> 00:14:52,820
that actually stopped a lot of people

408
00:14:52,820 --> 00:14:54,650
getting certificates because they

409
00:14:54,650 --> 00:14:57,410
literally couldn't pass the cost barrier

410
00:14:57,410 --> 00:14:58,790
so let's encrypt would move that cost

411
00:14:58,790 --> 00:15:00,880
barrier and allowed many more people to

412
00:15:00,880 --> 00:15:03,260
to progress down the road of decline

413
00:15:03,260 --> 00:15:05,960
encryption so they're the organization

414
00:15:05,960 --> 00:15:07,640
i'm going to use now and to show you

415
00:15:07,640 --> 00:15:11,990
just how kind of easy this can be now in

416
00:15:11,990 --> 00:15:14,990
order to do this when we go to lice and

417
00:15:14,990 --> 00:15:16,100
crypt we need to use some kind of tool

418
00:15:16,100 --> 00:15:18,410
to interact with that api so what i'm

419
00:15:18,410 --> 00:15:19,490
going to do is go through the setup

420
00:15:19,490 --> 00:15:22,280
steps now in order to use that tool so

421
00:15:22,280 --> 00:15:24,440
first of all i'm just creating this

422
00:15:24,440 --> 00:15:27,470
directory in my dub dub dub folder here

423
00:15:27,470 --> 00:15:31,430
which is already there actually and this

424
00:15:31,430 --> 00:15:32,870
is where we're going to host a challenge

425
00:15:32,870 --> 00:15:34,310
file from and i'll talk about that in

426
00:15:34,310 --> 00:15:35,810
just a moment because we need to prove

427
00:15:35,810 --> 00:15:36,940
control

428
00:15:36,940 --> 00:15:39,560
one of our domains can we pretend to big

429
00:15:39,560 --> 00:15:41,840
yeah I thought that might be the case so

430
00:15:41,840 --> 00:15:45,470
hang I've just got a question coming

431
00:15:45,470 --> 00:15:46,700
through see if I can make this bigger

432
00:15:46,700 --> 00:15:51,020
let me see this thing

433
00:15:51,020 --> 00:15:56,600
we'd gone one loss or something you know

434
00:15:56,600 --> 00:16:00,890
my god I use putty usually bike I'm

435
00:16:00,890 --> 00:16:02,630
gonna see here I've got the settings

436
00:16:02,630 --> 00:16:05,990
open I'll make it bigger for the webinar

437
00:16:05,990 --> 00:16:07,880
right where is it

438
00:16:07,880 --> 00:16:15,380
no parents yeah I'll just see if I can

439
00:16:15,380 --> 00:16:16,790
make this bigger for a couple of people

440
00:16:16,790 --> 00:16:19,910
mentioned it now it's worth that's worth

441
00:16:19,910 --> 00:16:27,500
doing like 16 let's try that Wow there

442
00:16:27,500 --> 00:16:31,690
we go hopefully that's okay there's a

443
00:16:31,690 --> 00:16:34,400
little bit people asking that now I

444
00:16:34,400 --> 00:16:36,130
wanna make sure everyone can see this

445
00:16:36,130 --> 00:16:39,440
back up again and what we have to do

446
00:16:39,440 --> 00:16:40,700
when we go through the process of

447
00:16:40,700 --> 00:16:42,110
applying for the certificate there's

448
00:16:42,110 --> 00:16:43,760
actually a couple of steps the first one

449
00:16:43,760 --> 00:16:46,100
is to send them the CSR so you say here

450
00:16:46,100 --> 00:16:48,110
is my application now inside my

451
00:16:48,110 --> 00:16:51,620
application as we saw I'm asking for a

452
00:16:51,620 --> 00:16:54,200
certificate for for this domain here for

453
00:16:54,200 --> 00:16:56,480
demo dot clued dotnet and also one of

454
00:16:56,480 --> 00:16:58,490
the subdomains now of course the CA

455
00:16:58,490 --> 00:17:00,440
actually needs to check that I own that

456
00:17:00,440 --> 00:17:03,050
domain you know I can't type hey Kyle

457
00:17:03,050 --> 00:17:05,329
calm into this and expect to get a

458
00:17:05,329 --> 00:17:06,619
certificate for PayPal so one of the

459
00:17:06,619 --> 00:17:07,849
things that the CA is going to do is

460
00:17:07,849 --> 00:17:10,130
check that I own it and they asked me to

461
00:17:10,130 --> 00:17:12,380
do that by hosting a challenge file so

462
00:17:12,380 --> 00:17:14,030
during the application process the CA

463
00:17:14,030 --> 00:17:16,490
will give me this challenge file and say

464
00:17:16,490 --> 00:17:19,250
ok put this like small file on a random

465
00:17:19,250 --> 00:17:21,319
path and if you can put that file on the

466
00:17:21,319 --> 00:17:23,960
path we accept that you control this

467
00:17:23,960 --> 00:17:27,349
domain so it's part of this process that

468
00:17:27,349 --> 00:17:28,790
is one of the things that's going to be

469
00:17:28,790 --> 00:17:31,160
happening now the tool that I'm going to

470
00:17:31,160 --> 00:17:34,550
use to do that and I will just go in

471
00:17:34,550 --> 00:17:38,530
here now just long we want github and

472
00:17:38,530 --> 00:17:42,140
I'm going to search for Acme tiny this

473
00:17:42,140 --> 00:17:45,490
is a tool that I'm going to be using now

474
00:17:45,490 --> 00:17:48,290
Acme is a protocol that you can

475
00:17:48,290 --> 00:17:50,240
communicate with CAS actually

476
00:17:50,240 --> 00:17:52,490
an implementation is a super miniscule

477
00:17:52,490 --> 00:17:54,770
one it's actually last time I checked it

478
00:17:54,770 --> 00:17:56,960
was about 200 and something lion suits

479
00:17:56,960 --> 00:17:59,120
200 something like that Python let's

480
00:17:59,120 --> 00:18:01,460
have a look so yeah I mean this is a

481
00:18:01,460 --> 00:18:04,910
hundred ninety eight wines for this tool

482
00:18:04,910 --> 00:18:06,650
and this is what I'm actually going to

483
00:18:06,650 --> 00:18:09,400
be using to communicate with the API so

484
00:18:09,400 --> 00:18:12,970
just going to grab a copy of this

485
00:18:12,970 --> 00:18:15,020
because this is I'm going to be using

486
00:18:15,020 --> 00:18:17,840
it's like a tighten spell of this

487
00:18:17,840 --> 00:18:21,440
fantastic there we go so that's the

488
00:18:21,440 --> 00:18:23,059
field I'm going to be using to speak to

489
00:18:23,059 --> 00:18:26,300
the let's encrypt API and now I'm going

490
00:18:26,300 --> 00:18:30,080
to make the directress far dub dub dub

491
00:18:30,080 --> 00:18:41,179
and HTML and well now from challenge so

492
00:18:41,179 --> 00:18:43,490
when you communicate with an API using

493
00:18:43,490 --> 00:18:45,710
this protocol there is a fixed director

494
00:18:45,710 --> 00:18:47,090
that you have to put the challenge file

495
00:18:47,090 --> 00:18:49,400
in now VAR dub dub dub HTML is my web

496
00:18:49,400 --> 00:18:52,220
root and they they fix directory that

497
00:18:52,220 --> 00:18:54,290
you have to put the challenge file in is

498
00:18:54,290 --> 00:18:57,740
always dot well - known and then /nk

499
00:18:57,740 --> 00:18:59,150
challenge so I just made that directly

500
00:18:59,150 --> 00:19:00,350
there because that's where we're going

501
00:19:00,350 --> 00:19:03,830
to have to pop the challenge now we're

502
00:19:03,830 --> 00:19:06,140
all ready to roll now we've got the CSR

503
00:19:06,140 --> 00:19:08,240
generated that space is the application

504
00:19:08,240 --> 00:19:11,660
for a certificate I've got my web server

505
00:19:11,660 --> 00:19:13,940
running here I've downloaded Acme tiny

506
00:19:13,940 --> 00:19:15,920
which is what I'm going to use in order

507
00:19:15,920 --> 00:19:17,360
to communicate with the API a

508
00:19:17,360 --> 00:19:20,660
notification using alchemy tiny to go to

509
00:19:20,660 --> 00:19:22,010
let's encrypt so actually there's one

510
00:19:22,010 --> 00:19:24,110
more thing and this is why I should read

511
00:19:24,110 --> 00:19:27,920
my notes and there's one more thing that

512
00:19:27,920 --> 00:19:29,720
we need to do before we get started and

513
00:19:29,720 --> 00:19:34,130
it's to create a key to use with lights

514
00:19:34,130 --> 00:19:35,480
and crypts and I'll explain what that is

515
00:19:35,480 --> 00:19:39,710
now so I think ripped API doesn't issue

516
00:19:39,710 --> 00:19:41,420
like API tokens you don't have the

517
00:19:41,420 --> 00:19:43,220
username and password credentials they

518
00:19:43,220 --> 00:19:46,040
used a key based authentication so I

519
00:19:46,040 --> 00:19:47,270
just generated this file here called

520
00:19:47,270 --> 00:19:49,340
let's encrypt key and that's what I'm

521
00:19:49,340 --> 00:19:51,380
going to use to register my account with

522
00:19:51,380 --> 00:19:54,110
the API and then if I ever reinter act

523
00:19:54,110 --> 00:19:55,910
with the API no ongoing basis this key

524
00:19:55,910 --> 00:19:57,530
is what I will use to authenticate with

525
00:19:57,530 --> 00:20:00,050
it so that's just that's basically my

526
00:20:00,050 --> 00:20:01,550
username and password for the lesson

527
00:20:01,550 --> 00:20:03,350
crypt API you could probably consider it

528
00:20:03,350 --> 00:20:04,160
to be

529
00:20:04,160 --> 00:20:08,390
just your credentials so I'm going to

530
00:20:08,390 --> 00:20:12,230
ask Acme tiny to go get me a certificate

531
00:20:12,230 --> 00:20:13,220
we're literally going to go get a

532
00:20:13,220 --> 00:20:15,080
certificate right now so account keyless

533
00:20:15,080 --> 00:20:19,190
encrypting the CSR is the one that we

534
00:20:19,190 --> 00:20:22,610
created earlier that Acme directory will

535
00:20:22,610 --> 00:20:25,130
be in the one we just created so it's

536
00:20:25,130 --> 00:20:29,810
dub HTML now like me it's my challenge

537
00:20:29,810 --> 00:20:35,270
and I'm going to put that into a file so

538
00:20:35,270 --> 00:20:39,200
again super quick recap I'm asking Acme

539
00:20:39,200 --> 00:20:42,460
tiny to go to let's encrypt using mighty

540
00:20:42,460 --> 00:20:45,530
passing the CSR to them and when they

541
00:20:45,530 --> 00:20:47,780
ask us to write the challenge it's going

542
00:20:47,780 --> 00:20:49,280
to write it into that directory that I

543
00:20:49,280 --> 00:20:50,720
just created is not how we're going to

544
00:20:50,720 --> 00:20:54,200
prove that we owned the domain now I'm

545
00:20:54,200 --> 00:20:55,250
going to run this I'll try and talk

546
00:20:55,250 --> 00:20:56,870
through it some stuff gonna zip by but

547
00:20:56,870 --> 00:20:58,100
we'll cover everything so you can see

548
00:20:58,100 --> 00:21:00,680
here its plans my account key in CSR

549
00:21:00,680 --> 00:21:02,690
it's seen that I'm asking for a

550
00:21:02,690 --> 00:21:04,430
certificate for these two domains in

551
00:21:04,430 --> 00:21:07,610
particular it's looking at the less

552
00:21:07,610 --> 00:21:10,070
encrypt API now to see how it's supposed

553
00:21:10,070 --> 00:21:12,170
to interact with it it's registering my

554
00:21:12,170 --> 00:21:13,430
account of course this is a brand-new

555
00:21:13,430 --> 00:21:15,200
set up so I have to actually create an

556
00:21:15,200 --> 00:21:17,060
account once it's done that the next

557
00:21:17,060 --> 00:21:18,680
step in the process is to create a new

558
00:21:18,680 --> 00:21:20,720
order so in order represent an

559
00:21:20,720 --> 00:21:23,180
application for a certificate basically

560
00:21:23,180 --> 00:21:25,100
my order has been created it will now

561
00:21:25,100 --> 00:21:27,020
attempt to fulfill that order

562
00:21:27,020 --> 00:21:29,480
and so clarifies all the Acme protocol

563
00:21:29,480 --> 00:21:31,220
does have support for payment it's just

564
00:21:31,220 --> 00:21:34,730
that let's encrypt don't use it so there

565
00:21:34,730 --> 00:21:36,290
could be a payment process in here as

566
00:21:36,290 --> 00:21:38,000
well now they're verifying that I

567
00:21:38,000 --> 00:21:40,310
actually control these domains that I've

568
00:21:40,310 --> 00:21:42,770
claimed so what it will do is it will

569
00:21:42,770 --> 00:21:44,870
it's going to take the challenge write

570
00:21:44,870 --> 00:21:47,240
it into the directory and then let's and

571
00:21:47,240 --> 00:21:48,650
Crips are going to connect to my website

572
00:21:48,650 --> 00:21:49,940
to see if they can download the

573
00:21:49,940 --> 00:21:52,670
challenge file and if they can that

574
00:21:52,670 --> 00:21:54,380
proves that I must be in control of the

575
00:21:54,380 --> 00:21:56,390
website because I put the challenge in

576
00:21:56,390 --> 00:21:59,510
the correct location so the script will

577
00:21:59,510 --> 00:22:01,910
write the file tell them that it's ready

578
00:22:01,910 --> 00:22:03,920
let's encrypt will then connect back and

579
00:22:03,920 --> 00:22:05,330
check and as you can see now it's just

580
00:22:05,330 --> 00:22:06,920
come back and said that the ownership

581
00:22:06,920 --> 00:22:09,470
has been verified because I successfully

582
00:22:09,470 --> 00:22:11,990
put the file into that correct location

583
00:22:11,990 --> 00:22:13,610
it now goes through the steps for the

584
00:22:13,610 --> 00:22:15,020
next one run again if you have you know

585
00:22:15,020 --> 00:22:17,060
multiple domains it will go through this

586
00:22:17,060 --> 00:22:18,020
process and obviously

587
00:22:18,020 --> 00:22:20,720
check that you control each individual

588
00:22:20,720 --> 00:22:23,420
one one place encrypt have verified that

589
00:22:23,420 --> 00:22:25,520
it'll go through the process of issuing

590
00:22:25,520 --> 00:22:28,820
the certificate so any second now that

591
00:22:28,820 --> 00:22:30,350
should hopefully complete if

592
00:22:30,350 --> 00:22:32,240
everything's working as intended and

593
00:22:32,240 --> 00:22:33,860
then they will actually say we're going

594
00:22:33,860 --> 00:22:35,870
to send a certificate certificate signed

595
00:22:35,870 --> 00:22:38,060
and then it will present it back to me

596
00:22:38,060 --> 00:22:40,550
so there we go pre control the last one

597
00:22:40,550 --> 00:22:42,380
then I think it's now issuing the

598
00:22:42,380 --> 00:22:43,520
certificate this is all happening in

599
00:22:43,520 --> 00:22:45,350
real time so I am hoping that this

600
00:22:45,350 --> 00:22:46,730
worked as intended

601
00:22:46,730 --> 00:22:48,440
they aren't currently issuing and

602
00:22:48,440 --> 00:22:50,780
selling the certificate right now and in

603
00:22:50,780 --> 00:22:52,220
just a second I should get that

604
00:22:52,220 --> 00:22:55,880
certificate back from them so that's

605
00:22:55,880 --> 00:22:58,040
there I mean this is going just the

606
00:22:58,040 --> 00:22:59,510
first that don't go excited yet we're

607
00:22:59,510 --> 00:23:01,760
not finished but this is the first steps

608
00:23:01,760 --> 00:23:06,620
of the process which is actually to get

609
00:23:06,620 --> 00:23:09,230
a real-life certificate if you will so

610
00:23:09,230 --> 00:23:12,110
the API must be busy right now as a free

611
00:23:12,110 --> 00:23:15,530
thing even imagine like how taken

612
00:23:15,530 --> 00:23:18,290
through and as I said that's pretty

613
00:23:18,290 --> 00:23:20,300
handy utility deokman

614
00:23:20,300 --> 00:23:23,030
any scripts to desk or all of that for

615
00:23:23,030 --> 00:23:25,850
you get it done and there are others as

616
00:23:25,850 --> 00:23:28,130
well I'm just to clarify I mean I think

617
00:23:28,130 --> 00:23:29,780
I'd like a more official client called

618
00:23:29,780 --> 00:23:31,820
sir bot and I'll put these up on the

619
00:23:31,820 --> 00:23:35,630
screen just so let's encrypt search bot

620
00:23:35,630 --> 00:23:38,630
run by the EFS so this is kind of their

621
00:23:38,630 --> 00:23:40,760
more official one it's very handy it's

622
00:23:40,760 --> 00:23:43,460
got loads of super good features I just

623
00:23:43,460 --> 00:23:45,680
want using Acme tiny because it doesn't

624
00:23:45,680 --> 00:23:47,240
help me as much and I like to get more

625
00:23:47,240 --> 00:23:48,830
hands-on but if you want a tool that

626
00:23:48,830 --> 00:23:51,860
helps you more survives fantastic the

627
00:23:51,860 --> 00:23:54,980
other one I use is Acme SH as well so if

628
00:23:54,980 --> 00:23:56,300
anyone's looking to try different

629
00:23:56,300 --> 00:23:58,580
clients with different features I would

630
00:23:58,580 --> 00:24:03,740
certainly recommend those three and just

631
00:24:03,740 --> 00:24:06,290
quickly as we can see on the process the

632
00:24:06,290 --> 00:24:07,670
certificate was signed and dodging each

633
00:24:07,670 --> 00:24:09,290
other questions here can we have one

634
00:24:09,290 --> 00:24:12,470
certificate one domain I think with

635
00:24:12,470 --> 00:24:14,020
multiple subdomains

636
00:24:14,020 --> 00:24:17,960
yes is the answer to that one so and if

637
00:24:17,960 --> 00:24:21,200
you want you can see here that I'm on

638
00:24:21,200 --> 00:24:23,710
the site demo clues dotnet and I had the

639
00:24:23,710 --> 00:24:26,710
www.subti.com

640
00:24:30,060 --> 00:24:32,220
limit but you know like generally

641
00:24:32,220 --> 00:24:33,630
speaking you can comfortably go to a

642
00:24:33,630 --> 00:24:36,630
hundred so that's kind of okay in that

643
00:24:36,630 --> 00:24:39,540
regard and but if I wanted to I could do

644
00:24:39,540 --> 00:24:43,140
clued neck clued calm clued dot co dot

645
00:24:43,140 --> 00:24:45,240
uk' like whatever I need if you could

646
00:24:45,240 --> 00:24:49,380
also mix and match those as well so as

647
00:24:49,380 --> 00:24:52,020
we can see here certificates signed so

648
00:24:52,020 --> 00:24:54,450
once I was kind of talking the tool was

649
00:24:54,450 --> 00:24:55,620
doing that whole process for me

650
00:24:55,620 --> 00:24:57,690
communicating with the API and has in

651
00:24:57,690 --> 00:24:59,910
fact now got me a certificate issued

652
00:24:59,910 --> 00:25:02,850
from a CA so as you can see I asked the

653
00:25:02,850 --> 00:25:04,140
output they're going to a file called

654
00:25:04,140 --> 00:25:07,880
server - le désert and we can see it has

655
00:25:07,880 --> 00:25:10,590
created that and if we take a look

656
00:25:10,590 --> 00:25:13,200
inside there so let's have a look you

657
00:25:13,200 --> 00:25:16,020
can see we have I just asked it to

658
00:25:16,020 --> 00:25:18,480
output the file we can see here is the

659
00:25:18,480 --> 00:25:21,210
first certificate now the reason there's

660
00:25:21,210 --> 00:25:22,890
two in here and I'll come on to this

661
00:25:22,890 --> 00:25:24,360
point a little later but you might see

662
00:25:24,360 --> 00:25:26,910
that this to the top one is my

663
00:25:26,910 --> 00:25:28,680
certificate that was issued to me and

664
00:25:28,680 --> 00:25:30,300
then a little bit further down the file

665
00:25:30,300 --> 00:25:32,280
is a second one that's something that we

666
00:25:32,280 --> 00:25:34,160
call the intermediate certificate and

667
00:25:34,160 --> 00:25:36,240
one of the good things about using worse

668
00:25:36,240 --> 00:25:37,830
encrypt like this is they automatically

669
00:25:37,830 --> 00:25:40,920
pop that there for me sometimes in other

670
00:25:40,920 --> 00:25:42,600
processes you would have to manually go

671
00:25:42,600 --> 00:25:44,580
and fetch that and add these to the file

672
00:25:44,580 --> 00:25:46,430
together but this is all taken care of

673
00:25:46,430 --> 00:25:50,370
for us so this is just the first part of

674
00:25:50,370 --> 00:25:52,700
the process we've generated our key

675
00:25:52,700 --> 00:25:55,050
generated our CSR our certificate

676
00:25:55,050 --> 00:25:56,400
signing request and we've gone to let's

677
00:25:56,400 --> 00:25:59,220
encrypt and got a certificate but this

678
00:25:59,220 --> 00:26:00,660
like I say is just the start of the

679
00:26:00,660 --> 00:26:03,780
process now I'm going to take a look at

680
00:26:03,780 --> 00:26:05,520
my server configuration I'm running a

681
00:26:05,520 --> 00:26:08,520
really basic nginx s up here so the

682
00:26:08,520 --> 00:26:10,740
server is listening here on port 80 for

683
00:26:10,740 --> 00:26:12,780
any requests and the server is listening

684
00:26:12,780 --> 00:26:17,010
here on port 443 for any requests and as

685
00:26:17,010 --> 00:26:18,510
we saw obviously the port or three

686
00:26:18,510 --> 00:26:20,940
configuration is totally broken so we're

687
00:26:20,940 --> 00:26:22,620
actually going to start focusing on this

688
00:26:22,620 --> 00:26:24,660
section now and looking at how to use

689
00:26:24,660 --> 00:26:27,120
that certificate properly so the first

690
00:26:27,120 --> 00:26:29,400
thing I'm going to do is I'm just going

691
00:26:29,400 --> 00:26:31,080
to come down here and I'm going to

692
00:26:31,080 --> 00:26:33,630
reconfigure it to use the certificate

693
00:26:33,630 --> 00:26:34,620
that I just got

694
00:26:34,620 --> 00:26:37,590
so there's server - le sir which is the

695
00:26:37,590 --> 00:26:39,960
certificate let's encrypt escapers and I

696
00:26:39,960 --> 00:26:42,600
generated a file called server key so

697
00:26:42,600 --> 00:26:43,830
it's the only thing

698
00:26:43,830 --> 00:26:45,659
changed when I quit and save those

699
00:26:45,659 --> 00:26:48,840
changes and I'm just gonna restart the

700
00:26:48,840 --> 00:26:51,269
service now in order to actually reflect

701
00:26:51,269 --> 00:26:52,860
those changes so hopefully if we go back

702
00:26:52,860 --> 00:26:55,110
to the browser you can see here we were

703
00:26:55,110 --> 00:26:59,179
on HTTP I'm going to go back to HTTPS

704
00:26:59,179 --> 00:27:01,529
and you can see already that now we're

705
00:27:01,529 --> 00:27:03,840
using a genuine certificate from light

706
00:27:03,840 --> 00:27:05,850
and crypt is removed that error message

707
00:27:05,850 --> 00:27:09,210
and if we in fact inspect it up here we

708
00:27:09,210 --> 00:27:11,880
can see here is the certificate for demo

709
00:27:11,880 --> 00:27:13,740
dot clue dotnet issue by let's encrypt

710
00:27:13,740 --> 00:27:15,510
and of course it was valid from just now

711
00:27:15,510 --> 00:27:19,889
the 12th of September now that looks

712
00:27:19,889 --> 00:27:22,169
like we fixed everything and this is

713
00:27:22,169 --> 00:27:23,760
kind of when some of the problem start

714
00:27:23,760 --> 00:27:25,490
is that

715
00:27:25,490 --> 00:27:27,899
TLS configurations are a little bit more

716
00:27:27,899 --> 00:27:29,730
nuanced than just that and what I'm

717
00:27:29,730 --> 00:27:30,750
actually going to do is I'm going to go

718
00:27:30,750 --> 00:27:32,370
back to SSL labs and I'm just going to

719
00:27:32,370 --> 00:27:36,480
read from this scan now yes everything

720
00:27:36,480 --> 00:27:38,600
is currently working but it's not

721
00:27:38,600 --> 00:27:41,039
properly configured we can do a lot

722
00:27:41,039 --> 00:27:43,139
better here I'm gonna let this scan run

723
00:27:43,139 --> 00:27:44,429
through all it takes about a minute and

724
00:27:44,429 --> 00:27:46,740
you'll see the kind of feedback that you

725
00:27:46,740 --> 00:27:48,539
get from SSL labs and you also see the

726
00:27:48,539 --> 00:27:49,710
kind of problems that we have with our

727
00:27:49,710 --> 00:27:52,950
configuration here so if any one as I

728
00:27:52,950 --> 00:27:54,179
demoed this early if anyone's kind of

729
00:27:54,179 --> 00:27:55,830
gonna scan a few different websites what

730
00:27:55,830 --> 00:27:57,090
you'll see and what we'll see in a

731
00:27:57,090 --> 00:27:58,740
moment is you can get anything from an

732
00:27:58,740 --> 00:28:01,230
A+ grade all the way down to an F grade

733
00:28:01,230 --> 00:28:03,570
from SSL 1 depending on of course the

734
00:28:03,570 --> 00:28:06,090
strength of your configuration now

735
00:28:06,090 --> 00:28:08,190
because we're running like a default out

736
00:28:08,190 --> 00:28:09,419
of the box set up we're going to have a

737
00:28:09,419 --> 00:28:13,169
pretty bad score here on SSL labs and

738
00:28:13,169 --> 00:28:14,639
we're going to work through the steps of

739
00:28:14,639 --> 00:28:15,929
how to take that to a strong

740
00:28:15,929 --> 00:28:20,240
configuration so I mean I keep running

741
00:28:20,240 --> 00:28:22,440
and I'm going to show you how we're

742
00:28:22,440 --> 00:28:24,029
going to move through to a stronger

743
00:28:24,029 --> 00:28:25,980
configuration now I can write a lot of

744
00:28:25,980 --> 00:28:27,840
this stuff from memory like older we're

745
00:28:27,840 --> 00:28:29,700
going to talk about protocols and cipher

746
00:28:29,700 --> 00:28:32,490
suite and all these weird things that to

747
00:28:32,490 --> 00:28:33,630
be honest like most normal people

748
00:28:33,630 --> 00:28:35,669
shouldn't remember off the top of their

749
00:28:35,669 --> 00:28:41,210
head so what I use is it's the Mozilla

750
00:28:41,210 --> 00:28:45,809
SSL config generator so if you finish

751
00:28:45,809 --> 00:28:46,919
with the Mozilla or SSL configuration

752
00:28:46,919 --> 00:28:49,139
this is the thing that I commonly refer

753
00:28:49,139 --> 00:28:51,960
people to April King maintains is

754
00:28:51,960 --> 00:28:54,779
absolutely just stell at all and I refer

755
00:28:54,779 --> 00:28:57,000
to it all of the time because there's so

756
00:28:57,000 --> 00:28:57,720
many different

757
00:28:57,720 --> 00:28:59,160
to the configuration that we're about to

758
00:28:59,160 --> 00:29:01,110
go through you shouldn't have to

759
00:29:01,110 --> 00:29:05,100
remember all of these configurations so

760
00:29:05,100 --> 00:29:07,350
I'll just zoom in a little bit again for

761
00:29:07,350 --> 00:29:09,840
people on the webinar you can see here

762
00:29:09,840 --> 00:29:11,550
you can pick your server platform if you

763
00:29:11,550 --> 00:29:12,750
were to be configuring different

764
00:29:12,750 --> 00:29:14,310
platforms mine's already selected I just

765
00:29:14,310 --> 00:29:16,260
happened to be using nginx and the

766
00:29:16,260 --> 00:29:17,880
intermediate configuration is selected

767
00:29:17,880 --> 00:29:19,440
by default this is a really good

768
00:29:19,440 --> 00:29:22,920
starting point so I'm actually going to

769
00:29:22,920 --> 00:29:24,480
leave these two settings here maybe the

770
00:29:24,480 --> 00:29:25,650
only thing that you would need to do is

771
00:29:25,650 --> 00:29:28,500
change your platform here and then if we

772
00:29:28,500 --> 00:29:30,690
look down below it actually has the

773
00:29:30,690 --> 00:29:32,550
example configuration that you would

774
00:29:32,550 --> 00:29:37,620
need to use now I don't advocate copying

775
00:29:37,620 --> 00:29:39,360
and pasting things just you know from

776
00:29:39,360 --> 00:29:40,590
the Internet this should be read and

777
00:29:40,590 --> 00:29:42,090
understood so you know that what all of

778
00:29:42,090 --> 00:29:43,380
these things do and we're actually going

779
00:29:43,380 --> 00:29:45,600
to go through this part by car now in

780
00:29:45,600 --> 00:29:47,430
order to understand the changes that

781
00:29:47,430 --> 00:29:49,620
we're making so if I slip back over to

782
00:29:49,620 --> 00:29:51,330
the SSL lab test should be just about

783
00:29:51,330 --> 00:29:53,580
done and what we'll probably see now is

784
00:29:53,580 --> 00:29:56,040
really bad score kind of like pop up on

785
00:29:56,040 --> 00:29:57,680
the screen so it's in a wait a second

786
00:29:57,680 --> 00:30:02,640
for that to complete and then we can

787
00:30:02,640 --> 00:30:03,840
start talking through the problems that

788
00:30:03,840 --> 00:30:07,680
this report shows there we go like

789
00:30:07,680 --> 00:30:09,330
watching a cataclysm say I don't know

790
00:30:09,330 --> 00:30:12,690
that saying is over

791
00:30:12,690 --> 00:30:15,710
it's the watch castle problem right now

792
00:30:15,710 --> 00:30:21,330
here we go 99% there we go so you can

793
00:30:21,330 --> 00:30:23,070
see this is a terrible great now the

794
00:30:23,070 --> 00:30:25,200
really interesting thing here is that if

795
00:30:25,200 --> 00:30:26,820
I go to the website in the browser it's

796
00:30:26,820 --> 00:30:28,500
loading okay right I can refresh the

797
00:30:28,500 --> 00:30:30,270
page there's no warnings we've got a

798
00:30:30,270 --> 00:30:32,910
padlock in the address bar but actually

799
00:30:32,910 --> 00:30:34,740
the configuration is dreadful it works

800
00:30:34,740 --> 00:30:36,930
which is why the page loads but the

801
00:30:36,930 --> 00:30:39,090
configuration itself is dreadful and I

802
00:30:39,090 --> 00:30:41,340
so concern is basically that most people

803
00:30:41,340 --> 00:30:43,440
probably stop after after these tries

804
00:30:43,440 --> 00:30:45,030
like that we maybe use some default

805
00:30:45,030 --> 00:30:49,440
console did you get and that's it and

806
00:30:49,440 --> 00:30:50,880
this is kind of the problem right like

807
00:30:50,880 --> 00:30:52,920
it you know if I okay you know I've done

808
00:30:52,920 --> 00:30:54,570
this thing of my website works and you

809
00:30:54,570 --> 00:30:57,450
can forget people for not realizing that

810
00:30:57,450 --> 00:30:58,740
there's actually like this whole of the

811
00:30:58,740 --> 00:31:00,060
bunch of stuff that's supposed to come

812
00:31:00,060 --> 00:31:02,370
out too it's now the only time that that

813
00:31:02,370 --> 00:31:05,460
normally catches people out is of course

814
00:31:05,460 --> 00:31:08,430
as we see now my site is working but

815
00:31:08,430 --> 00:31:10,500
it's got a dreadful grade so there's

816
00:31:10,500 --> 00:31:11,520
obviously a spectrum

817
00:31:11,520 --> 00:31:14,190
configuration from bad to good now the

818
00:31:14,190 --> 00:31:15,900
problem the only reason this usually

819
00:31:15,900 --> 00:31:17,400
catches people out is when the browser

820
00:31:17,400 --> 00:31:19,080
shifts that bottom end up and a couple

821
00:31:19,080 --> 00:31:21,030
of websites will fall off and suddenly

822
00:31:21,030 --> 00:31:22,920
stop working that's usually when people

823
00:31:22,920 --> 00:31:25,170
realize that actually there's this

824
00:31:25,170 --> 00:31:26,640
little bit more that we have to go do

825
00:31:26,640 --> 00:31:29,429
now pretty much most people just want

826
00:31:29,429 --> 00:31:31,440
this summer in here from SSL labs and I

827
00:31:31,440 --> 00:31:33,000
have to say most of the time when I come

828
00:31:33,000 --> 00:31:34,440
here this is just the thing that I'm

829
00:31:34,440 --> 00:31:37,559
looking at you know is everything good

830
00:31:37,559 --> 00:31:39,270
are we on like an A or a B and

831
00:31:39,270 --> 00:31:41,160
everything green or is it red and we've

832
00:31:41,160 --> 00:31:42,830
got all of these orange things down here

833
00:31:42,830 --> 00:31:44,910
so we're going to start working through

834
00:31:44,910 --> 00:31:46,650
some of the problems if you are

835
00:31:46,650 --> 00:31:48,090
interested in technical data there's

836
00:31:48,090 --> 00:31:50,220
just a whole heap of stuff further down

837
00:31:50,220 --> 00:31:52,410
the page on SSL labs and we're going to

838
00:31:52,410 --> 00:31:54,630
start working through the really key

839
00:31:54,630 --> 00:31:57,809
ones now so the first one we're going to

840
00:31:57,809 --> 00:31:59,550
take a look at I'm going to go back into

841
00:31:59,550 --> 00:32:02,640
my server configuration the first one

842
00:32:02,640 --> 00:32:04,350
that we've got to address is this

843
00:32:04,350 --> 00:32:07,410
protocol line just here now there's

844
00:32:07,410 --> 00:32:09,570
loads of different protocols versions

845
00:32:09,570 --> 00:32:12,360
that you can use for HTTP on your

846
00:32:12,360 --> 00:32:14,670
website you can actually see we have two

847
00:32:14,670 --> 00:32:17,520
really old ones here going literally way

848
00:32:17,520 --> 00:32:20,580
back into the 1990s we had SSL version 2

849
00:32:20,580 --> 00:32:23,880
and version 3 these things are super old

850
00:32:23,880 --> 00:32:27,000
and they're just not even acceptable for

851
00:32:27,000 --> 00:32:28,350
use anymore so we're actually just going

852
00:32:28,350 --> 00:32:29,970
to take these out so I sell version to

853
00:32:29,970 --> 00:32:33,420
version 3 completely kaput and we

854
00:32:33,420 --> 00:32:36,900
shouldn't use them now we're a bit of a

855
00:32:36,900 --> 00:32:38,600
crossroads after that right now because

856
00:32:38,600 --> 00:32:42,090
technically TLS version 1 or 1.0 as

857
00:32:42,090 --> 00:32:44,160
you'll commonly see it referred to it's

858
00:32:44,160 --> 00:32:47,550
actually okay just well right at the end

859
00:32:47,550 --> 00:32:51,090
of the kind of the lifespan right now so

860
00:32:51,090 --> 00:32:55,020
if you want to you can leave TLS version

861
00:32:55,020 --> 00:32:58,080
1 and above if you're a little bit

862
00:32:58,080 --> 00:32:59,910
stricter on the security you might

863
00:32:59,910 --> 00:33:01,620
delete them out and say no actually

864
00:33:01,620 --> 00:33:03,809
we're just going to do TLS version 1.2

865
00:33:03,809 --> 00:33:05,880
and nothing and that would require a

866
00:33:05,880 --> 00:33:08,340
slightly more modern client in order to

867
00:33:08,340 --> 00:33:09,420
be able to connect with these newer

868
00:33:09,420 --> 00:33:11,400
versions so I'm actually going to leave

869
00:33:11,400 --> 00:33:13,440
those just as they are because I'm for

870
00:33:13,440 --> 00:33:15,000
the purposes of this demo I'm happy with

871
00:33:15,000 --> 00:33:19,050
the TLS version 1 and above so I'm just

872
00:33:19,050 --> 00:33:21,720
going to save those changes and we start

873
00:33:21,720 --> 00:33:22,860
my server and what I'll do the

874
00:33:22,860 --> 00:33:24,300
background is I'll kick this scan off

875
00:33:24,300 --> 00:33:25,080
and let it go

876
00:33:25,080 --> 00:33:27,000
again because I honestly improve our

877
00:33:27,000 --> 00:33:31,340
score slightly now generally speaking

878
00:33:31,340 --> 00:33:34,020
generally speaking leaving those old

879
00:33:34,020 --> 00:33:37,350
protocols means maybe we would support

880
00:33:37,350 --> 00:33:39,990
some older clients like I in five six or

881
00:33:39,990 --> 00:33:42,240
something like that but also if we use

882
00:33:42,240 --> 00:33:44,520
something very modern might mean that we

883
00:33:44,520 --> 00:33:46,140
will be breaking some compatibility or

884
00:33:46,140 --> 00:33:48,300
maybe like API scrapers and stuff like

885
00:33:48,300 --> 00:33:52,560
that right yeah so this is the the

886
00:33:52,560 --> 00:33:54,300
compatibility thing is always the

887
00:33:54,300 --> 00:33:56,880
problem when we disable all TLS features

888
00:33:56,880 --> 00:33:59,580
now if you add more protocol versions

889
00:33:59,580 --> 00:34:01,410
super-easy right like nothing's going to

890
00:34:01,410 --> 00:34:03,600
break if we add more support when we

891
00:34:03,600 --> 00:34:05,010
start chopping the tail off and that's

892
00:34:05,010 --> 00:34:07,230
when we were like chopping the tail end

893
00:34:07,230 --> 00:34:10,380
of the web off now SSL version two and

894
00:34:10,380 --> 00:34:12,659
three I'm I'm super comfortable with

895
00:34:12,659 --> 00:34:13,830
removing those because if there's

896
00:34:13,830 --> 00:34:15,300
something out there that still depends

897
00:34:15,300 --> 00:34:16,650
on that you're literally talking about a

898
00:34:16,650 --> 00:34:18,510
device from like the 1990s and it

899
00:34:18,510 --> 00:34:20,790
probably wouldn't work with a lot of

900
00:34:20,790 --> 00:34:23,040
other stuff on your website when we come

901
00:34:23,040 --> 00:34:26,699
in towards TLS 1.0 yes we're coming in

902
00:34:26,699 --> 00:34:29,850
to mm now when devices introduced that

903
00:34:29,850 --> 00:34:33,000
book again much is still a very old

904
00:34:33,000 --> 00:34:35,100
device and and I guess like my question

905
00:34:35,100 --> 00:34:37,920
would be if he can't do you know if

906
00:34:37,920 --> 00:34:40,739
you've stuck in the early 2000s what

907
00:34:40,739 --> 00:34:44,070
what else can't it do like can it do you

908
00:34:44,070 --> 00:34:46,409
know new versions of HTML or JavaScript

909
00:34:46,409 --> 00:34:49,500
or yes like so so there is you know

910
00:34:49,500 --> 00:34:52,290
there is a very valid kind of support

911
00:34:52,290 --> 00:34:54,179
question there but it's also a wider

912
00:34:54,179 --> 00:34:57,120
support question as well now the only

913
00:34:57,120 --> 00:34:59,430
other thing to note if if you handle

914
00:34:59,430 --> 00:35:00,870
credit card payments on your website

915
00:35:00,870 --> 00:35:02,970
you'll be familiar with the company and

916
00:35:02,970 --> 00:35:04,860
organization called the PCI the payment

917
00:35:04,860 --> 00:35:06,630
card industry and they set out some

918
00:35:06,630 --> 00:35:09,720
strict standards on how you're allowed

919
00:35:09,720 --> 00:35:11,370
to send credit card data over the

920
00:35:11,370 --> 00:35:14,370
Internet you can't use TLS one if you

921
00:35:14,370 --> 00:35:15,840
want to send credit card data through

922
00:35:15,840 --> 00:35:19,080
like a payment form so again like we're

923
00:35:19,080 --> 00:35:20,250
going to talk about our configuration

924
00:35:20,250 --> 00:35:22,050
here but there aren't also regulatory or

925
00:35:22,050 --> 00:35:23,460
compliance things that you need to

926
00:35:23,460 --> 00:35:25,410
consider if they're applicable to you as

927
00:35:25,410 --> 00:35:28,050
well so do bear that in mind

928
00:35:28,050 --> 00:35:30,030
you can jump back over here actually

929
00:35:30,030 --> 00:35:31,560
before I go back in because we've pretty

930
00:35:31,560 --> 00:35:33,090
much done on that in the background so

931
00:35:33,090 --> 00:35:34,260
I'm going to wait for that scam to

932
00:35:34,260 --> 00:35:35,790
finish and we're going to be going back

933
00:35:35,790 --> 00:35:37,410
into our configuration because that

934
00:35:37,410 --> 00:35:38,910
protocol section there

935
00:35:38,910 --> 00:35:41,700
that was just the first kind of part of

936
00:35:41,700 --> 00:35:44,220
this process so I wanted to show you

937
00:35:44,220 --> 00:35:45,780
this here should be done in just a

938
00:35:45,780 --> 00:35:46,670
second

939
00:35:46,670 --> 00:35:48,930
must be everyone on the webinar is going

940
00:35:48,930 --> 00:35:50,760
and doing scans and slowing it all down

941
00:35:50,760 --> 00:35:53,280
it's normally about 60 seconds to do

942
00:35:53,280 --> 00:35:59,070
this so that's a good thing now we'll

943
00:35:59,070 --> 00:36:00,990
leave that going so as you can see

944
00:36:00,990 --> 00:36:03,300
there's a lot of different configuration

945
00:36:03,300 --> 00:36:06,630
parts in the 4-3 section here the HTTP

946
00:36:06,630 --> 00:36:09,060
section we've just configured the SSL

947
00:36:09,060 --> 00:36:12,620
protocols one so that's looking good now

948
00:36:12,620 --> 00:36:14,730
and the next thing that I'm going to

949
00:36:14,730 --> 00:36:17,820
talk about is size of Swedes oh I hate

950
00:36:17,820 --> 00:36:18,960
talking about cypress trees because

951
00:36:18,960 --> 00:36:20,100
they're just these like huge

952
00:36:20,100 --> 00:36:22,650
jargons things as tanks to any normal

953
00:36:22,650 --> 00:36:25,170
person as you can see here our protocol

954
00:36:25,170 --> 00:36:26,670
support line has gone up so we are

955
00:36:26,670 --> 00:36:28,740
making improvements but the next one is

956
00:36:28,740 --> 00:36:31,110
cypress trees so that was our protocol

957
00:36:31,110 --> 00:36:32,340
so you can see now

958
00:36:32,340 --> 00:36:36,540
TLS 1.0 and above no SSL - no SSL 3

959
00:36:36,540 --> 00:36:38,790
which is what we were looking for the

960
00:36:38,790 --> 00:36:40,290
next thing is Cypress we - there's just

961
00:36:40,290 --> 00:36:42,960
no there's no easy way to talk about

962
00:36:42,960 --> 00:36:44,730
side streets but it's a big string of

963
00:36:44,730 --> 00:36:47,550
jargon like every normal person in the

964
00:36:47,550 --> 00:36:49,530
world but they are really important

965
00:36:49,530 --> 00:36:50,970
because they configure all of the finer

966
00:36:50,970 --> 00:36:52,830
details of how a browser will

967
00:36:52,830 --> 00:36:55,980
communicate with the server now in in

968
00:36:55,980 --> 00:36:58,350
all of history you had quite literally

969
00:36:58,350 --> 00:37:00,330
hundreds of choices you can see the ones

970
00:37:00,330 --> 00:37:01,380
on the screen here are just the

971
00:37:01,380 --> 00:37:03,930
selection that's that's fine no means an

972
00:37:03,930 --> 00:37:06,240
exhaustive list I mean it in its

973
00:37:06,240 --> 00:37:08,520
completeness but there's a lot of

974
00:37:08,520 --> 00:37:10,260
options and as you can see most of them

975
00:37:10,260 --> 00:37:11,700
are red and orange and this was one of

976
00:37:11,700 --> 00:37:14,700
those like the cash points of people is

977
00:37:14,700 --> 00:37:16,530
like hey I've got two hundred choices

978
00:37:16,530 --> 00:37:18,510
and ten of them are good and the other

979
00:37:18,510 --> 00:37:21,270
198 bad and I need to know which ten of

980
00:37:21,270 --> 00:37:23,370
the good ones and which 190 to throw

981
00:37:23,370 --> 00:37:25,290
away so there is a huge opportunity for

982
00:37:25,290 --> 00:37:27,690
error in terms of configuring cipher

983
00:37:27,690 --> 00:37:30,090
suites now I could write these Suites

984
00:37:30,090 --> 00:37:32,130
out candy from the top of my head but

985
00:37:32,130 --> 00:37:34,500
that's not something that I would

986
00:37:34,500 --> 00:37:37,170
recommend and the configuration here on

987
00:37:37,170 --> 00:37:40,530
the Mozilla comfy generator is this you

988
00:37:40,530 --> 00:37:41,880
know as you would expect this is a super

989
00:37:41,880 --> 00:37:43,320
good one so much is going to take that

990
00:37:43,320 --> 00:37:46,170
configuration rather than typing all of

991
00:37:46,170 --> 00:37:48,810
this out now currently my server is

992
00:37:48,810 --> 00:37:50,790
configured to use all ciphers as you

993
00:37:50,790 --> 00:37:52,230
just saw there but

994
00:37:52,230 --> 00:37:54,119
going to put in that string from the

995
00:37:54,119 --> 00:37:56,820
Mozilla configuration generator and he's

996
00:37:56,820 --> 00:37:59,490
going to save the file and on nginx and

997
00:37:59,490 --> 00:38:01,050
most of the platforms as well there's a

998
00:38:01,050 --> 00:38:02,490
syntax checker so I'm just going to run

999
00:38:02,490 --> 00:38:04,260
a syntax check on the config make sure I

1000
00:38:04,260 --> 00:38:06,359
haven't made any mistake says the syntax

1001
00:38:06,359 --> 00:38:09,869
is okay so what I can do now is I'm

1002
00:38:09,869 --> 00:38:11,369
going to restart the server to kick

1003
00:38:11,369 --> 00:38:13,440
those changes and I'm going to go kick

1004
00:38:13,440 --> 00:38:16,320
this scan off again in the background

1005
00:38:16,320 --> 00:38:20,070
now we've done protocols and scientist

1006
00:38:20,070 --> 00:38:21,720
we use that that's they're they're

1007
00:38:21,720 --> 00:38:23,220
pretty much like two of the biggest

1008
00:38:23,220 --> 00:38:24,890
components in terms of understanding

1009
00:38:24,890 --> 00:38:27,780
which protocols and versions to use and

1010
00:38:27,780 --> 00:38:31,200
which cipher Suites there they're

1011
00:38:31,200 --> 00:38:33,780
certainly the more complex kind of parts

1012
00:38:33,780 --> 00:38:36,240
of this process here so we've actually

1013
00:38:36,240 --> 00:38:38,490
got those out of the way now as you can

1014
00:38:38,490 --> 00:38:39,660
see there are quite a few other things

1015
00:38:39,660 --> 00:38:41,760
in this configuration you know certainly

1016
00:38:41,760 --> 00:38:44,100
in the scope of this one-hour session

1017
00:38:44,100 --> 00:38:45,600
we're not going to be covering

1018
00:38:45,600 --> 00:38:47,580
everything in great debt but what I do

1019
00:38:47,580 --> 00:38:49,830
want to do is show the difference that

1020
00:38:49,830 --> 00:38:51,570
you can make an agreed like I'm SSL labs

1021
00:38:51,570 --> 00:38:53,010
that you can really strengthen your

1022
00:38:53,010 --> 00:38:54,960
configuration and go from you know we

1023
00:38:54,960 --> 00:38:57,480
started with HTTP and nothing to a good

1024
00:38:57,480 --> 00:39:00,420
well configured HTTP web site with

1025
00:39:00,420 --> 00:39:02,369
minimal work and I appreciate you know

1026
00:39:02,369 --> 00:39:04,260
people have to take this and apply this

1027
00:39:04,260 --> 00:39:05,970
inside their own organizations and

1028
00:39:05,970 --> 00:39:08,010
projects and things for just you know

1029
00:39:08,010 --> 00:39:09,630
the core concepts here of generating a

1030
00:39:09,630 --> 00:39:12,000
key is getting this and actually writing

1031
00:39:12,000 --> 00:39:17,400
the configuration I think I think it's

1032
00:39:17,400 --> 00:39:18,750
more approachable than some people think

1033
00:39:18,750 --> 00:39:21,750
I hope into the goal here so back into

1034
00:39:21,750 --> 00:39:23,040
the scan is finished you can see that

1035
00:39:23,040 --> 00:39:24,540
already we've got on to a great beyond

1036
00:39:24,540 --> 00:39:26,700
that it's our lives our protocol support

1037
00:39:26,700 --> 00:39:28,440
is good our certificate is good our

1038
00:39:28,440 --> 00:39:30,030
cipher string pretty good I'm really

1039
00:39:30,030 --> 00:39:31,950
happy with that bar at 90% that's

1040
00:39:31,950 --> 00:39:33,000
absolutely fine

1041
00:39:33,000 --> 00:39:35,640
the only other thing that we would have

1042
00:39:35,640 --> 00:39:37,350
to look at here potentially now is the

1043
00:39:37,350 --> 00:39:39,240
key exchange the really good thing with

1044
00:39:39,240 --> 00:39:41,250
SSL labs is that it comes back here and

1045
00:39:41,250 --> 00:39:43,140
gives you the information regarding what

1046
00:39:43,140 --> 00:39:44,940
the problem is so the server supports

1047
00:39:44,940 --> 00:39:46,830
weak difficult can't change parameters

1048
00:39:46,830 --> 00:39:47,790
grade

1049
00:39:47,790 --> 00:39:51,900
tacked to B now if we come down here is

1050
00:39:51,900 --> 00:39:54,119
find the appropriate section where are

1051
00:39:54,119 --> 00:39:57,540
we d H 1024 bits now I'm going to fix

1052
00:39:57,540 --> 00:40:01,440
this one as well I just closed my notes

1053
00:40:01,440 --> 00:40:04,590
by accident that was great I'm going to

1054
00:40:04,590 --> 00:40:06,070
fix this one as well because I do want

1055
00:40:06,070 --> 00:40:09,970
able to get us up to that a plus grade

1056
00:40:09,970 --> 00:40:14,590
on there to sell labs so the age 2048 Oh

1057
00:40:14,590 --> 00:40:18,430
Pam Oh pops if I put this window back

1058
00:40:18,430 --> 00:40:22,049
over here so that everyone can see here

1059
00:40:24,660 --> 00:40:27,640
after we open my notes I'd close them

1060
00:40:27,640 --> 00:40:37,300
that was a great idea so I don't

1061
00:40:37,300 --> 00:40:38,620
memorize all the commands for all the

1062
00:40:38,620 --> 00:40:40,060
different platforms when I read the

1063
00:40:40,060 --> 00:40:43,150
manual Saudi Age Quran that was a dash

1064
00:40:43,150 --> 00:40:50,200
out th - 2048 dot and 2048 so I get this

1065
00:40:50,200 --> 00:40:51,280
running because that's going to take a

1066
00:40:51,280 --> 00:40:55,510
second the one of the things that I'm

1067
00:40:55,510 --> 00:40:56,440
generating here this is called a

1068
00:40:56,440 --> 00:41:01,270
difficult for me - and this is this is

1069
00:41:01,270 --> 00:41:03,100
very related to how a browser on a

1070
00:41:03,100 --> 00:41:04,630
server connect to each other and again

1071
00:41:04,630 --> 00:41:06,250
so now you'll just have to trust me that

1072
00:41:06,250 --> 00:41:07,690
this is the right thing to do I only

1073
00:41:07,690 --> 00:41:09,790
have a one-hour session here I would

1074
00:41:09,790 --> 00:41:11,290
love to embellish all day about what

1075
00:41:11,290 --> 00:41:12,850
diffie-hellman and what key exchanges

1076
00:41:12,850 --> 00:41:15,820
are but is a good idea in order to

1077
00:41:15,820 --> 00:41:17,680
configure these things to be stronger so

1078
00:41:17,680 --> 00:41:19,900
I generated this file called the H -

1079
00:41:19,900 --> 00:41:23,080
2048 dot M now if we look in the Mozilla

1080
00:41:23,080 --> 00:41:25,720
comping generator and find the

1081
00:41:25,720 --> 00:41:28,090
appropriate line here which is ssl DHE

1082
00:41:28,090 --> 00:41:29,730
aram so you need two SEC's

1083
00:41:29,730 --> 00:41:33,250
they should value here so I'm just going

1084
00:41:33,250 --> 00:41:35,560
to grab that one and we're going to set

1085
00:41:35,560 --> 00:41:38,080
this in our config as well so we'll come

1086
00:41:38,080 --> 00:41:40,780
down to the bottom drop that in there

1087
00:41:40,780 --> 00:41:45,270
that will be in sorry TC nginx the age

1088
00:41:45,270 --> 00:41:49,060
2048 of them that looks good to me

1089
00:41:49,060 --> 00:41:51,400
we'll just do a quick conflict SD I

1090
00:41:51,400 --> 00:41:53,830
haven't type out anything and we'll just

1091
00:41:53,830 --> 00:41:56,320
restart engine X and then I'm gonna kick

1092
00:41:56,320 --> 00:41:58,810
the scam now hopefully that small change

1093
00:41:58,810 --> 00:42:01,720
will pushes up to an A grade and we'll

1094
00:42:01,720 --> 00:42:03,370
have gone from an F to an A in quite a

1095
00:42:03,370 --> 00:42:05,320
small amount of time there and we'll be

1096
00:42:05,320 --> 00:42:08,650
using a really strong really robust TLS

1097
00:42:08,650 --> 00:42:11,830
configuration now the interesting thing

1098
00:42:11,830 --> 00:42:14,410
with this is that's actually in terms of

1099
00:42:14,410 --> 00:42:16,240
T all and everything that we need to

1100
00:42:16,240 --> 00:42:18,370
look at and consider that so while

1101
00:42:18,370 --> 00:42:19,750
starts counting I'll just quickly

1102
00:42:19,750 --> 00:42:22,720
and through this again we went and we

1103
00:42:22,720 --> 00:42:24,640
got our certificate from les encrypts so

1104
00:42:24,640 --> 00:42:26,560
we have a valid certificate from a

1105
00:42:26,560 --> 00:42:28,780
certificate authority that is the key

1106
00:42:28,780 --> 00:42:30,630
that we generated right at the beginning

1107
00:42:30,630 --> 00:42:33,040
we've told our server which protocols we

1108
00:42:33,040 --> 00:42:35,260
want to use so we disabled SSL version

1109
00:42:35,260 --> 00:42:37,300
two and three because they're just far

1110
00:42:37,300 --> 00:42:40,120
too old TLS version one is that absolute

1111
00:42:40,120 --> 00:42:42,790
minimum you should go to arguably it

1112
00:42:42,790 --> 00:42:45,340
should be newer than that the ciphers

1113
00:42:45,340 --> 00:42:46,720
again I borrowed those from the Mozilla

1114
00:42:46,720 --> 00:42:49,360
comping generator this is a strong

1115
00:42:49,360 --> 00:42:51,730
selection of ciphers and then the D H

1116
00:42:51,730 --> 00:42:53,320
parameter that's what we've just

1117
00:42:53,320 --> 00:42:55,120
generated thing we kicked off the

1118
00:42:55,120 --> 00:42:57,670
scanner with so with just those five

1119
00:42:57,670 --> 00:43:00,010
lines there that we've done that's all

1120
00:43:00,010 --> 00:43:01,330
of the TLS configuration that I'm

1121
00:43:01,330 --> 00:43:03,610
actually going to do that's a sufficient

1122
00:43:03,610 --> 00:43:04,960
amount to get us started and get us a

1123
00:43:04,960 --> 00:43:06,550
reasonably good grade and can see it's

1124
00:43:06,550 --> 00:43:08,020
just parked in the background here now

1125
00:43:08,020 --> 00:43:09,700
and we've managed to take that over to

1126
00:43:09,700 --> 00:43:13,750
an a so we've got rid of that difficulty

1127
00:43:13,750 --> 00:43:15,820
that was our last warning and he's now

1128
00:43:15,820 --> 00:43:18,190
done and gone well I did say that the

1129
00:43:18,190 --> 00:43:19,450
highest grade that you could get was an

1130
00:43:19,450 --> 00:43:23,620
A+ now there is one thing left effects

1131
00:43:23,620 --> 00:43:25,030
actually and this was considered

1132
00:43:25,030 --> 00:43:28,000
optional up until recently and it's

1133
00:43:28,000 --> 00:43:30,040
actually nothing to do with our TLS

1134
00:43:30,040 --> 00:43:35,110
configuration at all so I mean some

1135
00:43:35,110 --> 00:43:36,190
questions going in I have one more

1136
00:43:36,190 --> 00:43:38,710
question and I'll pick them all no

1137
00:43:38,710 --> 00:43:39,970
passwords because it's about certificate

1138
00:43:39,970 --> 00:43:42,010
I'll defer this to the end I will hang

1139
00:43:42,010 --> 00:43:44,920
around for Q&A afterwards as well so

1140
00:43:44,920 --> 00:43:46,330
there is one more thing to do here and

1141
00:43:46,330 --> 00:43:48,130
this is nothing to do with our TLS

1142
00:43:48,130 --> 00:43:49,270
configuration and we're actually going

1143
00:43:49,270 --> 00:43:51,100
to step up to the application layer for

1144
00:43:51,100 --> 00:43:53,290
this next part because there is a

1145
00:43:53,290 --> 00:43:57,550
problem that we need to fix here and the

1146
00:43:57,550 --> 00:43:59,830
problem is actually I want to say caused

1147
00:43:59,830 --> 00:44:01,450
by the browser and I appreciate that

1148
00:44:01,450 --> 00:44:04,120
that that's maybe a strong word so let

1149
00:44:04,120 --> 00:44:06,370
me just bring this this kind of screen

1150
00:44:06,370 --> 00:44:07,630
over here and I'll show you what I

1151
00:44:07,630 --> 00:44:10,330
actually mean by that so there probably

1152
00:44:10,330 --> 00:44:11,620
don't want to start somewhere as a weak

1153
00:44:11,620 --> 00:44:17,260
front end developers so yeah I'm very

1154
00:44:17,260 --> 00:44:20,170
cautious about using that word but what

1155
00:44:20,170 --> 00:44:21,670
I'll do is I'll demo I'll do a very

1156
00:44:21,670 --> 00:44:22,840
brief demo of what the problem is and

1157
00:44:22,840 --> 00:44:23,950
then maybe someone can come up with a

1158
00:44:23,950 --> 00:44:27,790
better way for me so if you were to go

1159
00:44:27,790 --> 00:44:29,820
to kind of any normal person and say hey

1160
00:44:29,820 --> 00:44:33,069
open your browser and go to Twitter

1161
00:44:33,069 --> 00:44:35,619
right like most people I think me and

1162
00:44:35,619 --> 00:44:37,509
hopefully many here will agree that like

1163
00:44:37,509 --> 00:44:38,679
the average person would open their

1164
00:44:38,679 --> 00:44:41,439
browser typing twitter.com and hit enter

1165
00:44:41,439 --> 00:44:43,929
I think that's a reasonable assertion to

1166
00:44:43,929 --> 00:44:47,140
make so you know the user would

1167
00:44:47,140 --> 00:44:48,969
literally type in something like this

1168
00:44:48,969 --> 00:44:50,890
into the address bar and then hit enter

1169
00:44:50,890 --> 00:44:53,140
now what that would do is that would

1170
00:44:53,140 --> 00:44:54,849
trigger the browser to make a request

1171
00:44:54,849 --> 00:44:56,769
and the browser might make a request

1172
00:44:56,769 --> 00:45:02,979
that looks like this so the browser

1173
00:45:02,979 --> 00:45:05,589
would issue this request as a result of

1174
00:45:05,589 --> 00:45:07,269
the user typing in twitter.com and

1175
00:45:07,269 --> 00:45:07,959
hitting Enter

1176
00:45:07,959 --> 00:45:11,169
now the problem with this is and you can

1177
00:45:11,169 --> 00:45:12,369
kind of see why I'm hinting out here

1178
00:45:12,369 --> 00:45:15,640
right this is a HTTP request so no I

1179
00:45:15,640 --> 00:45:17,829
don't want to open it notepad this is a

1180
00:45:17,829 --> 00:45:20,499
HTTP request so you type in twitter.com

1181
00:45:20,499 --> 00:45:23,650
I'll go to HTTP request now we all kind

1182
00:45:23,650 --> 00:45:25,150
of know what's coming back right it's

1183
00:45:25,150 --> 00:45:27,640
going to look something like this and

1184
00:45:27,640 --> 00:45:30,759
this will be like twister comm so that's

1185
00:45:30,759 --> 00:45:32,319
probably what we would expect to get

1186
00:45:32,319 --> 00:45:34,209
back from Twitter and then of course the

1187
00:45:34,209 --> 00:45:36,910
next thing out the browser would be that

1188
00:45:36,910 --> 00:45:39,189
get request that would follow the

1189
00:45:39,189 --> 00:45:42,279
location header so this is kind of like

1190
00:45:42,279 --> 00:45:43,719
the standard process that we would

1191
00:45:43,719 --> 00:45:45,279
expect to happen when a user tries to

1192
00:45:45,279 --> 00:45:47,349
delegate to a domain I think it's fair

1193
00:45:47,349 --> 00:45:49,239
to say that most people don't type in

1194
00:45:49,239 --> 00:45:52,029
HTTP colon slash slash I know I don't so

1195
00:45:52,029 --> 00:45:55,269
I think that's reasonable but the

1196
00:45:55,269 --> 00:45:57,159
problem is this opens up the user for a

1197
00:45:57,159 --> 00:46:00,729
massive possible attack because when

1198
00:46:00,729 --> 00:46:02,829
we're talking HTTP right here at the

1199
00:46:02,829 --> 00:46:06,219
beginning we're talking HTTP which means

1200
00:46:06,219 --> 00:46:07,479
that if there is an attacker on the

1201
00:46:07,479 --> 00:46:09,909
network and remember we're deploying

1202
00:46:09,909 --> 00:46:12,519
HTTPS to protect ourselves from an

1203
00:46:12,519 --> 00:46:13,929
attacker on the network so we've kind of

1204
00:46:13,929 --> 00:46:15,279
already acknowledged that attackers on

1205
00:46:15,279 --> 00:46:17,499
the network exist the attacker on the

1206
00:46:17,499 --> 00:46:19,479
network can see this request they can

1207
00:46:19,479 --> 00:46:21,640
see the fact that this HTTP request has

1208
00:46:21,640 --> 00:46:23,349
come out of our browser out to the world

1209
00:46:23,349 --> 00:46:25,689
so what the attacker will do is they'll

1210
00:46:25,689 --> 00:46:27,369
say you know what all of this stuff here

1211
00:46:27,369 --> 00:46:29,739
scrub all of that we're not going to let

1212
00:46:29,739 --> 00:46:35,079
that happen and we will just do this and

1213
00:46:35,079 --> 00:46:37,150
then you know you like something like

1214
00:46:37,150 --> 00:46:39,719
they build that own 200 HTML response

1215
00:46:39,719 --> 00:46:42,669
because if your browser issues a HTTP

1216
00:46:42,669 --> 00:46:45,830
GET request and then you receive

1217
00:46:45,830 --> 00:46:50,420
200 ok and here's some HTML why would

1218
00:46:50,420 --> 00:46:52,960
your browser think there was a problem

1219
00:46:52,960 --> 00:46:55,220
and this is what we call an SSL

1220
00:46:55,220 --> 00:46:56,510
stripping attack if you want to go look

1221
00:46:56,510 --> 00:46:58,160
at the term and there's tooling and all

1222
00:46:58,160 --> 00:46:59,630
kinds of stuff that you can read on this

1223
00:46:59,630 --> 00:47:02,960
I'll put the the name up at the top

1224
00:47:02,960 --> 00:47:04,430
there this is what we would call an SSL

1225
00:47:04,430 --> 00:47:06,950
stripping attack it's basically all

1226
00:47:06,950 --> 00:47:09,380
boils down to this first request here

1227
00:47:09,380 --> 00:47:11,720
that most navigations when you trigger

1228
00:47:11,720 --> 00:47:14,240
them as a kicked off on HTTP and we

1229
00:47:14,240 --> 00:47:16,910
expect a 301 back but if someone gives

1230
00:47:16,910 --> 00:47:18,200
us a 200 ok

1231
00:47:18,200 --> 00:47:21,260
then our browser is like okay I sent an

1232
00:47:21,260 --> 00:47:23,990
HTTP request I got a HTTP response like

1233
00:47:23,990 --> 00:47:26,600
this looks good this this worked as

1234
00:47:26,600 --> 00:47:28,520
intended so the fact that Twitter

1235
00:47:28,520 --> 00:47:30,680
supports HTTP and they have a redirect

1236
00:47:30,680 --> 00:47:33,370
actually doesn't mean anything at all so

1237
00:47:33,370 --> 00:47:35,570
we have to fix this because this was

1238
00:47:35,570 --> 00:47:37,910
just going to keep happening and yes you

1239
00:47:37,910 --> 00:47:39,260
know people come back and say our book

1240
00:47:39,260 --> 00:47:40,790
you know your browser will cache the 301

1241
00:47:40,790 --> 00:47:42,680
for a period of time absolutely but at

1242
00:47:42,680 --> 00:47:44,210
some point you're going to go back to

1243
00:47:44,210 --> 00:47:47,570
HTTP in the future and they won't get so

1244
00:47:47,570 --> 00:47:50,060
we have a thing we have a thing to fix

1245
00:47:50,060 --> 00:47:52,610
this problem and it's called I go so

1246
00:47:52,610 --> 00:47:54,100
this one first

1247
00:47:54,100 --> 00:47:58,820
HSTs so I wrote an article about this if

1248
00:47:58,820 --> 00:48:00,170
you want to read up more on this it's

1249
00:48:00,170 --> 00:48:03,070
called HTTP strict Transport Security

1250
00:48:03,070 --> 00:48:07,340
which is a bit of a really big name now

1251
00:48:07,340 --> 00:48:08,240
HSTs

1252
00:48:08,240 --> 00:48:10,880
thinks is exactly this problem it fixes

1253
00:48:10,880 --> 00:48:15,080
the problem of SSL stripping now there's

1254
00:48:15,080 --> 00:48:16,400
actually two choices here for the

1255
00:48:16,400 --> 00:48:18,050
browser if you think about it it's the

1256
00:48:18,050 --> 00:48:20,240
use of times in twitter.com the browser

1257
00:48:20,240 --> 00:48:22,670
is making the assumption of HTTP but

1258
00:48:22,670 --> 00:48:25,040
what it could actually do is this it

1259
00:48:25,040 --> 00:48:29,300
could make the assumption of HTTP what

1260
00:48:29,300 --> 00:48:32,090
he doesn't know should i do HTTP or

1261
00:48:32,090 --> 00:48:32,780
should I do

1262
00:48:32,780 --> 00:48:35,900
HTTP now we do hate CTP because of

1263
00:48:35,900 --> 00:48:37,370
course years and years ago it was the

1264
00:48:37,370 --> 00:48:41,000
only choice and now HTTPS exists we've

1265
00:48:41,000 --> 00:48:43,010
just kind of relied on the 301 redirect

1266
00:48:43,010 --> 00:48:45,530
mechanism we need to be able to tell the

1267
00:48:45,530 --> 00:48:49,310
browser forget HTTP we are at HTTP web

1268
00:48:49,310 --> 00:48:53,930
site and this is what HSTs does so I'm

1269
00:48:53,930 --> 00:48:55,940
going to use one of my tools to scan my

1270
00:48:55,940 --> 00:48:58,630
website and

1271
00:48:58,870 --> 00:49:02,470
- security headers it scans the HTTP

1272
00:49:02,470 --> 00:49:05,650
response headers of a website now you

1273
00:49:05,650 --> 00:49:07,150
can go to the tool again like you just

1274
00:49:07,150 --> 00:49:08,530
saw you can type in the domain you can

1275
00:49:08,530 --> 00:49:10,450
scan it the thing I'm interested in here

1276
00:49:10,450 --> 00:49:12,400
is the raw headers now these are all the

1277
00:49:12,400 --> 00:49:13,870
response headers that came back from my

1278
00:49:13,870 --> 00:49:15,430
website so you know we've got all the

1279
00:49:15,430 --> 00:49:17,530
ones that you're familiar with HTTP need

1280
00:49:17,530 --> 00:49:20,020
a set cookie down here we've got the

1281
00:49:20,020 --> 00:49:21,730
server header all of the things that you

1282
00:49:21,730 --> 00:49:24,100
would normally expect but down here we

1283
00:49:24,100 --> 00:49:26,560
have this other thing called strict

1284
00:49:26,560 --> 00:49:28,840
Transport Security HSPs like I just

1285
00:49:28,840 --> 00:49:32,170
talked about now this is how you turn on

1286
00:49:32,170 --> 00:49:34,300
HSTs on your website you just issue a

1287
00:49:34,300 --> 00:49:36,670
new response header alongside all of

1288
00:49:36,670 --> 00:49:38,620
your existing response headers and

1289
00:49:38,620 --> 00:49:40,750
there's only actually two things that

1290
00:49:40,750 --> 00:49:43,750
you need to do to set this up now

1291
00:49:43,750 --> 00:49:47,200
max-age as I said HSPs tells the browser

1292
00:49:47,200 --> 00:49:51,070
that we are https website and you must

1293
00:49:51,070 --> 00:49:54,100
talk to us on HTTPS this is how long the

1294
00:49:54,100 --> 00:49:55,720
browser must remember and apply that

1295
00:49:55,720 --> 00:49:58,330
setting for now this is about that's

1296
00:49:58,330 --> 00:50:00,940
about one year in second because it's

1297
00:50:00,940 --> 00:50:02,260
defining seconds so you're saying look

1298
00:50:02,260 --> 00:50:04,360
for the next one year every time you

1299
00:50:04,360 --> 00:50:07,450
come to my website it must be on HTTPS

1300
00:50:07,450 --> 00:50:10,000
forget this HTTP stuff we don't do that

1301
00:50:10,000 --> 00:50:12,970
anymore include subdomains is optional

1302
00:50:12,970 --> 00:50:15,310
now that may be appropriate for you it

1303
00:50:15,310 --> 00:50:17,290
may not be maybe you've only migrated

1304
00:50:17,290 --> 00:50:19,780
part of your website or not so you turn

1305
00:50:19,780 --> 00:50:20,940
that on and off at your own discretion

1306
00:50:20,940 --> 00:50:23,050
the only thing that's required is the

1307
00:50:23,050 --> 00:50:25,270
mouth page so when you come to my

1308
00:50:25,270 --> 00:50:30,040
website I say we only do HTTPS here and

1309
00:50:30,040 --> 00:50:33,760
we only do it like for the next three

1310
00:50:33,760 --> 00:50:35,980
million whatever 31 million second to

1311
00:50:35,980 --> 00:50:39,720
the next one year so I want to show this

1312
00:50:39,720 --> 00:50:42,280
in action I want to show this kind of

1313
00:50:42,280 --> 00:50:44,370
working and as we just saw my website

1314
00:50:44,370 --> 00:50:47,830
actually has HSTs on it so what I'm

1315
00:50:47,830 --> 00:50:49,120
going to do is I'm going to open the

1316
00:50:49,120 --> 00:50:51,130
console for my website I'm gonna leave

1317
00:50:51,130 --> 00:50:53,350
darkus at the bottom actually so that we

1318
00:50:53,350 --> 00:50:56,860
can all see and zoom in a bit to make it

1319
00:50:56,860 --> 00:50:58,480
a bit bigger for everyone on the call

1320
00:50:58,480 --> 00:51:01,330
and what I'm going to do is I'm going to

1321
00:51:01,330 --> 00:51:03,790
try and go to my website on HTTP so I'm

1322
00:51:03,790 --> 00:51:05,920
just going to delete this HTTPS part

1323
00:51:05,920 --> 00:51:08,020
here and I'm going to manually type in

1324
00:51:08,020 --> 00:51:11,350
HTTP it's got humbler code at UK I've

1325
00:51:11,350 --> 00:51:12,670
got the network tab open so we can

1326
00:51:12,670 --> 00:51:15,430
see what happens I'm gonna hit enter so

1327
00:51:15,430 --> 00:51:18,040
if I sit back up to the top we can see

1328
00:51:18,040 --> 00:51:19,329
the very first request out of the

1329
00:51:19,329 --> 00:51:23,410
browser was here now again you can see

1330
00:51:23,410 --> 00:51:25,510
that the request URL was what I typed it

1331
00:51:25,510 --> 00:51:28,150
was HTTP colon slash slash but the

1332
00:51:28,150 --> 00:51:30,220
browser got a 300 it was a 307

1333
00:51:30,220 --> 00:51:31,869
specifically and it actually says

1334
00:51:31,869 --> 00:51:35,349
internal redirect and the reason was

1335
00:51:35,349 --> 00:51:39,460
HSTs now what's actually happened here

1336
00:51:39,460 --> 00:51:41,349
is because my website has HSTs

1337
00:51:41,349 --> 00:51:43,960
configured the browser knows that he's

1338
00:51:43,960 --> 00:51:46,869
not allowed to talk to me on HTTP and

1339
00:51:46,869 --> 00:51:48,670
that the browser must prevent that from

1340
00:51:48,670 --> 00:51:51,280
happening so what the browser's done is

1341
00:51:51,280 --> 00:51:53,470
the browser has redirected you can see

1342
00:51:53,470 --> 00:51:55,480
the new location header here the browser

1343
00:51:55,480 --> 00:51:58,390
has redirected to HTTPS and if we look

1344
00:51:58,390 --> 00:52:00,430
the next request out of the browser was

1345
00:52:00,430 --> 00:52:03,369
indeed that HTTP request now look at the

1346
00:52:03,369 --> 00:52:06,400
waterfall look at the look at the time

1347
00:52:06,400 --> 00:52:08,770
on that there's no way that went out for

1348
00:52:08,770 --> 00:52:10,359
the network that proves it was an

1349
00:52:10,359 --> 00:52:12,700
internal redirect so the browser was

1350
00:52:12,700 --> 00:52:14,650
about to make a HTTP request and it was

1351
00:52:14,650 --> 00:52:15,970
like nope we're going to pull that back

1352
00:52:15,970 --> 00:52:17,950
in and we're going to send it on HTTPS

1353
00:52:17,950 --> 00:52:21,520
instead and this is how we fix the SSL

1354
00:52:21,520 --> 00:52:22,869
stripping problem that I just talked

1355
00:52:22,869 --> 00:52:24,849
about because this get requests here the

1356
00:52:24,849 --> 00:52:28,240
one that goes to http we can get rid of

1357
00:52:28,240 --> 00:52:30,280
that now and the client will go straight

1358
00:52:30,280 --> 00:52:33,609
to HTTPS so that closes this whole kind

1359
00:52:33,609 --> 00:52:35,170
of weak hole essentially this this

1360
00:52:35,170 --> 00:52:36,970
method for the attacker for getting

1361
00:52:36,970 --> 00:52:39,609
through our communications so the last

1362
00:52:39,609 --> 00:52:41,020
thing that we need to do to get an A for

1363
00:52:41,020 --> 00:52:43,630
some SSL logic to actually turn this on

1364
00:52:43,630 --> 00:52:45,880
and that's the only thing that we're

1365
00:52:45,880 --> 00:52:48,460
missing so again over to the Mozilla

1366
00:52:48,460 --> 00:52:50,349
configuration generator you can see here

1367
00:52:50,349 --> 00:52:52,480
there is an ad header directive strict

1368
00:52:52,480 --> 00:52:55,270
Transport Security max-age with a really

1369
00:52:55,270 --> 00:52:57,609
big number of seconds so we're just

1370
00:52:57,609 --> 00:52:59,500
going to grab that I'm gonna come down

1371
00:52:59,500 --> 00:53:01,359
to the bottom here and I'm going to add

1372
00:53:01,359 --> 00:53:03,130
that to my own configuration to turn

1373
00:53:03,130 --> 00:53:05,440
this on so I've had a strict Transport

1374
00:53:05,440 --> 00:53:08,559
Security big number of seconds I'm gonna

1375
00:53:08,559 --> 00:53:09,299
save that

1376
00:53:09,299 --> 00:53:13,359
I'm just gonna check my configuration

1377
00:53:13,359 --> 00:53:15,339
I'm sure he's everyone else like me and

1378
00:53:15,339 --> 00:53:17,049
you press up rather than re-type a

1379
00:53:17,049 --> 00:53:17,500
command

1380
00:53:17,500 --> 00:53:19,569
actually I might have to press up a

1381
00:53:19,569 --> 00:53:21,640
hundred times but I'm hoping that I pick

1382
00:53:21,640 --> 00:53:23,890
up my low so it deploys that I'm going

1383
00:53:23,890 --> 00:53:25,599
to restart it and what I want us to do

1384
00:53:25,599 --> 00:53:26,440
now is go back

1385
00:53:26,440 --> 00:53:28,089
versus our lives on a reef across that

1386
00:53:28,089 --> 00:53:30,790
scum because HSTs is the thing that is

1387
00:53:30,790 --> 00:53:32,920
missing to take us from the a to the a

1388
00:53:32,920 --> 00:53:34,720
plus and as I said it's nothing actually

1389
00:53:34,720 --> 00:53:36,040
directly to do with RT all at

1390
00:53:36,040 --> 00:53:37,560
configurations nothing to do with

1391
00:53:37,560 --> 00:53:39,910
encryption keys or cipher suites or

1392
00:53:39,910 --> 00:53:42,160
protocol versions it's actually an

1393
00:53:42,160 --> 00:53:44,260
application by a construct to make sure

1394
00:53:44,260 --> 00:53:46,780
that the browser knows we demand and

1395
00:53:46,780 --> 00:53:51,430
expect HTTPS on our website so what

1396
00:53:51,430 --> 00:53:52,599
we're going to do is let that scam

1397
00:53:52,599 --> 00:53:55,030
finish that will hopefully push us

1398
00:53:55,030 --> 00:53:58,119
through to the a plus and then I've seen

1399
00:53:58,119 --> 00:53:59,319
a couple of things pop up on the slack

1400
00:53:59,319 --> 00:54:00,970
I'm going to open it onto the questions

1401
00:54:00,970 --> 00:54:02,980
on the floor with the last kind of few

1402
00:54:02,980 --> 00:54:04,869
minutes that we have here but I am

1403
00:54:04,869 --> 00:54:06,550
running on time so I'm really happy with

1404
00:54:06,550 --> 00:54:08,349
that because I like to do these things

1405
00:54:08,349 --> 00:54:11,380
very unscripted but not sometimes means

1406
00:54:11,380 --> 00:54:14,470
that we we can run over but this will

1407
00:54:14,470 --> 00:54:17,290
take us up to that A+ now and I hope I

1408
00:54:17,290 --> 00:54:19,240
hope that this was informative I hope

1409
00:54:19,240 --> 00:54:21,849
that it shows you know maybe there are

1410
00:54:21,849 --> 00:54:23,380
less barriers than some people thought

1411
00:54:23,380 --> 00:54:25,630
to getting certificates or to actually

1412
00:54:25,630 --> 00:54:28,720
using HTTPS I appreciate you know

1413
00:54:28,720 --> 00:54:30,099
everyone will have their own constraints

1414
00:54:30,099 --> 00:54:32,319
within that organization you know within

1415
00:54:32,319 --> 00:54:34,420
their own deployments but I did only

1416
00:54:34,420 --> 00:54:36,040
kind of use this to open the door to

1417
00:54:36,040 --> 00:54:37,450
show I've just done that wyvern

1418
00:54:37,450 --> 00:54:39,490
unscripted you know thankfully it all

1419
00:54:39,490 --> 00:54:41,829
panned out well and nothing broke well

1420
00:54:41,829 --> 00:54:44,040
you can see there now I'm also an A+ on

1421
00:54:44,040 --> 00:54:48,250
SSL labs and there's no real industry

1422
00:54:48,250 --> 00:54:50,650
standard on encryption you know there's

1423
00:54:50,650 --> 00:54:52,750
a couple of requirements from you know

1424
00:54:52,750 --> 00:54:55,589
compliance like PCI but there is no

1425
00:54:55,589 --> 00:54:58,480
official standard no government says

1426
00:54:58,480 --> 00:55:00,250
this is the configuration that you must

1427
00:55:00,250 --> 00:55:02,680
use SSL Watson's a standard this is the

1428
00:55:02,680 --> 00:55:04,660
de-facto standard and I don't know a

1429
00:55:04,660 --> 00:55:06,130
single person if you get an April time

1430
00:55:06,130 --> 00:55:08,109
here that would say you have done

1431
00:55:08,109 --> 00:55:09,400
something wrong or there is something

1432
00:55:09,400 --> 00:55:12,849
further that you need to do so you know

1433
00:55:12,849 --> 00:55:14,380
there's a very short period of time to

1434
00:55:14,380 --> 00:55:16,060
go from an F and everything was broken

1435
00:55:16,060 --> 00:55:18,160
we've gone all the way through to an A+

1436
00:55:18,160 --> 00:55:21,010
go scan your bank or your credit card

1437
00:55:21,010 --> 00:55:22,960
company sees that inch even a 10 APIs

1438
00:55:22,960 --> 00:55:25,329
now don't do that or if you do don't

1439
00:55:25,329 --> 00:55:26,920
tell them I told you to do that

1440
00:55:26,920 --> 00:55:30,040
Boop but I want to open it up to the

1441
00:55:30,040 --> 00:55:32,200
floor now we've got just a few minutes

1442
00:55:32,200 --> 00:55:34,180
left I do want to make sure that we have

1443
00:55:34,180 --> 00:55:37,329
a good Q&A session I'm keeping my eye on

1444
00:55:37,329 --> 00:55:39,099
my cycle around it is there anything

1445
00:55:39,099 --> 00:55:40,569
from

1446
00:55:40,569 --> 00:55:44,829
from you at this point it's wonderful I

1447
00:55:44,829 --> 00:55:48,099
guess maybe I'm just wondering from like

1448
00:55:48,099 --> 00:55:49,329
all the sessions that you're doing and

1449
00:55:49,329 --> 00:55:51,400
workshops honest gtps and that's

1450
00:55:51,400 --> 00:55:54,490
security for that is are you seeing more

1451
00:55:54,490 --> 00:55:56,859
adoption I mean probably is right around

1452
00:55:56,859 --> 00:56:01,180
is a soul and like best practices yeah

1453
00:56:01,180 --> 00:56:03,069
so for sure I mean like there's two

1454
00:56:03,069 --> 00:56:05,470
parts of your question though so what

1455
00:56:05,470 --> 00:56:06,700
I'll do first of all is on to the first

1456
00:56:06,700 --> 00:56:09,549
part which is about more adoption and so

1457
00:56:09,549 --> 00:56:11,079
I run a couple of other projects that I

1458
00:56:11,079 --> 00:56:13,569
haven't talked yeah so I run this thing

1459
00:56:13,569 --> 00:56:15,369
called chroma dawn injure and this is a

1460
00:56:15,369 --> 00:56:17,650
crawler that scans the top 1 million

1461
00:56:17,650 --> 00:56:19,539
websites in the world every day so it

1462
00:56:19,539 --> 00:56:21,160
goes out it gets the list of the biggest

1463
00:56:21,160 --> 00:56:23,470
1 million websites and I scan them and I

1464
00:56:23,470 --> 00:56:25,359
look at all different kinds of security

1465
00:56:25,359 --> 00:56:28,329
aspects and it dumps out the raw data so

1466
00:56:28,329 --> 00:56:29,710
if you want to come and have a look you

1467
00:56:29,710 --> 00:56:33,039
can access all the data here so you know

1468
00:56:33,039 --> 00:56:35,140
lists of websites whose certificates are

1469
00:56:35,140 --> 00:56:37,359
expiring imminently we've just talked

1470
00:56:37,359 --> 00:56:39,730
about page STS so this is the list of

1471
00:56:39,730 --> 00:56:42,039
websites that had HSTs configured for

1472
00:56:42,039 --> 00:56:44,380
example so there's all different kinds

1473
00:56:44,380 --> 00:56:47,289
of things in there and of course Mike

1474
00:56:47,289 --> 00:56:48,520
one of the things that I can track as

1475
00:56:48,520 --> 00:56:50,349
you mentioned a utilization over time

1476
00:56:50,349 --> 00:56:54,069
now what I do for that is roughly every

1477
00:56:54,069 --> 00:56:55,869
six months so usually in computing

1478
00:56:55,869 --> 00:56:58,299
August of each year I do an analysis of

1479
00:56:58,299 --> 00:57:00,160
that data to look at what happened so

1480
00:57:00,160 --> 00:57:02,890
you can see here from August 2018 to

1481
00:57:02,890 --> 00:57:05,410
febuary 2019 what the difference was and

1482
00:57:05,410 --> 00:57:07,599
if we look at this bottom one we can see

1483
00:57:07,599 --> 00:57:09,940
in August 18 which is about 12 months

1484
00:57:09,940 --> 00:57:13,329
ago we went from 51.7% of websites on

1485
00:57:13,329 --> 00:57:17,799
HTTPS up to 58.4 in just six months from

1486
00:57:17,799 --> 00:57:20,650
there was a really big increase and

1487
00:57:20,650 --> 00:57:21,940
that's basically what this looks like

1488
00:57:21,940 --> 00:57:24,789
over time so back in like January

1489
00:57:24,789 --> 00:57:27,640
February in August 2015 when I started

1490
00:57:27,640 --> 00:57:30,549
there was only like twelve or so percent

1491
00:57:30,549 --> 00:57:33,010
of websites redirecting to HTTPS on

1492
00:57:33,010 --> 00:57:35,170
their home page if we fast forward to

1493
00:57:35,170 --> 00:57:38,230
February this year we were up over sixty

1494
00:57:38,230 --> 00:57:40,690
percent on some of the scans so that is

1495
00:57:40,690 --> 00:57:43,000
that's a huge increase in adoption

1496
00:57:43,000 --> 00:57:44,589
because these are the biggest 1 million

1497
00:57:44,589 --> 00:57:46,900
websites in the world and we're taking

1498
00:57:46,900 --> 00:57:49,089
these significant steps each time I do

1499
00:57:49,089 --> 00:57:51,640
this report so yeah absolutely

1500
00:57:51,640 --> 00:57:53,859
you know widespread adoption is

1501
00:57:53,859 --> 00:57:57,069
on its way we're not you know this line

1502
00:57:57,069 --> 00:57:58,539
needs to keep going for quite some time

1503
00:57:58,539 --> 00:58:00,969
yet but but we are certainly making some

1504
00:58:00,969 --> 00:58:03,969
tremendous progress and it sounds really

1505
00:58:03,969 --> 00:58:12,269
great so let me have a look at the slack

1506
00:58:12,269 --> 00:58:14,890
does this work was saying and refuses

1507
00:58:14,890 --> 00:58:16,779
just clarifying that question for me um

1508
00:58:16,779 --> 00:58:20,200
do you mean like well they I just have

1509
00:58:20,200 --> 00:58:21,579
to agree clarify I don't answer the

1510
00:58:21,579 --> 00:58:23,890
wrong question that's all when during

1511
00:58:23,890 --> 00:58:27,670
her baby HSTs works on mobile browsers

1512
00:58:27,670 --> 00:58:30,819
maybe oh if so it would seem slightly a

1513
00:58:30,819 --> 00:58:32,589
while ago okay yeah so that makes a lot

1514
00:58:32,589 --> 00:58:34,150
more sense no and I'll answer that one

1515
00:58:34,150 --> 00:58:35,559
and maybe Andrea can tell me if it's the

1516
00:58:35,559 --> 00:58:38,859
different questions you have the answer

1517
00:58:38,859 --> 00:58:41,079
with HSTs it is up to the client so this

1518
00:58:41,079 --> 00:58:43,329
is a client enforced mechanism use the

1519
00:58:43,329 --> 00:58:46,029
the website operator set the policy and

1520
00:58:46,029 --> 00:58:48,369
then we we depend upon the client to

1521
00:58:48,369 --> 00:58:51,160
respect the policy and enforce it now I

1522
00:58:51,160 --> 00:58:52,839
use the website called can I use

1523
00:58:52,839 --> 00:58:54,729
whenever people ask me support questions

1524
00:58:54,729 --> 00:58:57,099
so if we come here and have a look at

1525
00:58:57,099 --> 00:59:00,759
HSTs strict Transport Security you can

1526
00:59:00,759 --> 00:59:02,469
see that in terms of certainly the

1527
00:59:02,469 --> 00:59:05,170
desktop browser is great the the mobile

1528
00:59:05,170 --> 00:59:07,499
browsers is is pretty good as well now

1529
00:59:07,499 --> 00:59:10,209
once we step outside of that realm into

1530
00:59:10,209 --> 00:59:12,249
other clients it's really up to the

1531
00:59:12,249 --> 00:59:14,499
discretion of the client to respect the

1532
00:59:14,499 --> 00:59:17,499
fact that the policy set so you know

1533
00:59:17,499 --> 00:59:19,029
certainly for desktop and mobile

1534
00:59:19,029 --> 00:59:23,499
browsing it is pretty solid and you know

1535
00:59:23,499 --> 00:59:25,119
like from the perspective of if the

1536
00:59:25,119 --> 00:59:27,579
client doesn't support it yes the client

1537
00:59:27,579 --> 00:59:29,469
isn't getting that support but I guess

1538
00:59:29,469 --> 00:59:30,789
that just leaves them where they were

1539
00:59:30,789 --> 00:59:32,680
before there's no kind of detriment and

1540
00:59:32,680 --> 00:59:34,059
that's the thing that I like about a lot

1541
00:59:34,059 --> 00:59:36,729
of these features is that yes you can

1542
00:59:36,729 --> 00:59:38,410
turn them on the worst case scenario is

1543
00:59:38,410 --> 00:59:39,849
nothing changes the best case scenario

1544
00:59:39,849 --> 00:59:42,009
is if the client does support it then

1545
00:59:42,009 --> 00:59:45,190
the client will give that a user extra

1546
00:59:45,190 --> 00:59:48,839
protection so yeah I mean you know is

1547
00:59:48,839 --> 00:59:51,579
this support is good it's ninety six

1548
00:59:51,579 --> 00:59:53,049
point four eight percent of mobile and

1549
00:59:53,049 --> 00:59:54,309
desktop browsers as you can see here in

1550
00:59:54,309 --> 00:59:58,239
the top right but I'm not sure I'm yeah

1551
00:59:58,239 --> 00:59:59,769
like web views and things like that I'm

1552
00:59:59,769 --> 01:00:01,449
not sure what drives them on on the

1553
01:00:01,449 --> 01:00:04,390
Android platform especially but my guess

1554
01:00:04,390 --> 01:00:05,829
is that if you're on a recent burst of

1555
01:00:05,829 --> 01:00:08,140
Android then things like that sure

1556
01:00:08,140 --> 01:00:09,640
to be supported I would certainly hope

1557
01:00:09,640 --> 01:00:18,550
so yeah that make sense so I'm having

1558
01:00:18,550 --> 01:00:23,020
why I don't see any other questions for

1559
01:00:23,020 --> 01:00:26,260
me right now I think just a one funny

1560
01:00:26,260 --> 01:00:29,770
thing remoting multiple domains but

1561
01:00:29,770 --> 01:00:32,830
that's kind of me okay yet maybe that

1562
01:00:32,830 --> 01:00:36,160
just ties back into I'm what kind of

1563
01:00:36,160 --> 01:00:38,470
last question would be maybe Easter some

1564
01:00:38,470 --> 01:00:40,120
online guy that you have on your blog

1565
01:00:40,120 --> 01:00:42,460
that would be able to be good resource

1566
01:00:42,460 --> 01:00:44,260
for people to just follow if they need

1567
01:00:44,260 --> 01:00:46,120
to go through something like this

1568
01:00:46,120 --> 01:00:49,060
themself to you know set up an SSO and

1569
01:00:49,060 --> 01:00:53,530
all that um if I wouldn't say there's

1570
01:00:53,530 --> 01:00:59,610
one blog yeah there are blogs and

1571
01:00:59,610 --> 01:01:02,140
unfortunately it's not it's not a one

1572
01:01:02,140 --> 01:01:03,970
blog thing so me you know if you have

1573
01:01:03,970 --> 01:01:05,800
any specific questions fire a fire a

1574
01:01:05,800 --> 01:01:08,530
question at me on Twitter you know I'm

1575
01:01:08,530 --> 01:01:09,820
always happy to at least point you to a

1576
01:01:09,820 --> 01:01:12,130
blog you know I have a lot of blogs it's

1577
01:01:12,130 --> 01:01:13,690
hard work to kind of skim through them

1578
01:01:13,690 --> 01:01:15,490
so you know if you have a quick quick

1579
01:01:15,490 --> 01:01:16,720
question I'm always happy to point

1580
01:01:16,720 --> 01:01:19,990
people towards the correct resource if

1581
01:01:19,990 --> 01:01:21,280
you are interested in the kind of thing

1582
01:01:21,280 --> 01:01:22,600
that we've done today you know I

1583
01:01:22,600 --> 01:01:24,070
appreciate it's very high level but that

1584
01:01:24,070 --> 01:01:26,320
is I do training on TLS so there's

1585
01:01:26,320 --> 01:01:27,940
always you know the opportunity if you

1586
01:01:27,940 --> 01:01:30,070
really interested or need to field job

1587
01:01:30,070 --> 01:01:30,490
all right

1588
01:01:30,490 --> 01:01:33,670
you know get in touch but yeah you know

1589
01:01:33,670 --> 01:01:35,380
just shoot medium shoot me an email I'm

1590
01:01:35,380 --> 01:01:36,580
always happy to help people and point

1591
01:01:36,580 --> 01:01:39,790
people in the right direction well there

1592
01:01:39,790 --> 01:01:41,380
is one one thing do I have like an extra

1593
01:01:41,380 --> 01:01:43,870
minute to cover something I want to just

1594
01:01:43,870 --> 01:01:45,570
one actually kind of white bone it's

1595
01:01:45,570 --> 01:01:51,850
bonusing so it's dinner tonight as he as

1596
01:01:51,850 --> 01:01:54,250
the owner of the domain and I've just

1597
01:01:54,250 --> 01:01:55,840
got a certificate for my domain and I

1598
01:01:55,840 --> 01:01:57,460
have to prove control and there's a very

1599
01:01:57,460 --> 01:01:59,770
formal process now with any process and

1600
01:01:59,770 --> 01:02:00,940
with any organization there's a

1601
01:02:00,940 --> 01:02:02,680
possibility for a mistake to happen

1602
01:02:02,680 --> 01:02:05,770
imagine if me like I'm evil hacker Scott

1603
01:02:05,770 --> 01:02:07,930
and I'm sat here and I go to a

1604
01:02:07,930 --> 01:02:09,370
certificate authority and I somehow

1605
01:02:09,370 --> 01:02:11,200
trick them or I kind of bug in their

1606
01:02:11,200 --> 01:02:13,990
application and I say I am PayPal calm

1607
01:02:13,990 --> 01:02:16,120
and the certificate authority turns

1608
01:02:16,120 --> 01:02:17,560
around and says okay here is your

1609
01:02:17,560 --> 01:02:20,050
certificate for PayPal calm this is what

1610
01:02:20,050 --> 01:02:21,820
we call a missus you ins and

1611
01:02:21,820 --> 01:02:23,350
it's a very bad thing to happen it

1612
01:02:23,350 --> 01:02:26,170
happens very very rarely but it does

1613
01:02:26,170 --> 01:02:27,820
happen obviously you know these

1614
01:02:27,820 --> 01:02:29,260
organizations are made of people just

1615
01:02:29,260 --> 01:02:31,030
like me and we make mistakes and things

1616
01:02:31,030 --> 01:02:33,130
break so there is a way that you can

1617
01:02:33,130 --> 01:02:36,370
actually track what is going on in terms

1618
01:02:36,370 --> 01:02:39,010
of certificate issuance with something

1619
01:02:39,010 --> 01:02:42,300
called certificate transparency now I

1620
01:02:42,300 --> 01:02:45,220
have a blog post here which is an

1621
01:02:45,220 --> 01:02:46,570
introduction as you can see if you're

1622
01:02:46,570 --> 01:02:48,010
interested in the details what I'm going

1623
01:02:48,010 --> 01:02:49,240
to show you now is it's the cool stuff

1624
01:02:49,240 --> 01:02:50,590
that you can do with it if you're

1625
01:02:50,590 --> 01:02:51,670
interested in the technical background

1626
01:02:51,670 --> 01:02:54,340
go read this post here but with

1627
01:02:54,340 --> 01:02:56,140
certificate transparency all

1628
01:02:56,140 --> 01:02:58,600
certificates that get issued have to go

1629
01:02:58,600 --> 01:03:00,400
on a public record and that public

1630
01:03:00,400 --> 01:03:03,550
record can be searched now there's a lot

1631
01:03:03,550 --> 01:03:05,230
of different websites that you can use

1632
01:03:05,230 --> 01:03:07,030
to do this one in particular that I like

1633
01:03:07,030 --> 01:03:08,860
is this one called search so I'm just

1634
01:03:08,860 --> 01:03:10,090
going to zoom in a bit for people on the

1635
01:03:10,090 --> 01:03:14,200
call and what I can do is I can search

1636
01:03:14,200 --> 01:03:16,720
for example for my domain and it will

1637
01:03:16,720 --> 01:03:19,090
show me this is the list of all of the

1638
01:03:19,090 --> 01:03:20,230
certificates that have been issued for

1639
01:03:20,230 --> 01:03:23,500
Scott helm Caro UK now you can see here

1640
01:03:23,500 --> 01:03:26,500
this was when the certificate started so

1641
01:03:26,500 --> 01:03:28,270
the 26th of August this is the latest

1642
01:03:28,270 --> 01:03:31,570
one who he was issued by you can click

1643
01:03:31,570 --> 01:03:33,880
through into the certificate and you can

1644
01:03:33,880 --> 01:03:36,700
see here is issued by Comodo it was

1645
01:03:36,700 --> 01:03:38,950
issued something to do with client land

1646
01:03:38,950 --> 01:03:41,680
if we search this page you'll see there

1647
01:03:41,680 --> 01:03:42,460
is my domain

1648
01:03:42,460 --> 01:03:46,780
inside this certificate now what I'm

1649
01:03:46,780 --> 01:03:48,460
hoping is because I'm saying there's a

1650
01:03:48,460 --> 01:03:52,240
small delay here is I'm going to do the

1651
01:03:52,240 --> 01:03:55,120
domain that I just searched for and just

1652
01:03:55,120 --> 01:03:58,240
got one phone if I could type that will

1653
01:03:58,240 --> 01:04:00,700
help there we go on summer look because

1654
01:04:00,700 --> 01:04:02,910
I second because it's quite a big query

1655
01:04:02,910 --> 01:04:04,990
but what you can do is you can come here

1656
01:04:04,990 --> 01:04:07,480
and search for your organization and see

1657
01:04:07,480 --> 01:04:09,430
like hey you know we think that we only

1658
01:04:09,430 --> 01:04:10,960
have like three certificates right now

1659
01:04:10,960 --> 01:04:12,850
and you can come here and do a search

1660
01:04:12,850 --> 01:04:16,930
now already we can see that there is the

1661
01:04:16,930 --> 01:04:18,340
demo got cleaned on that certificate

1662
01:04:18,340 --> 01:04:20,110
that I got at the beginning of this call

1663
01:04:20,110 --> 01:04:21,520
so if we click into this one for the

1664
01:04:21,520 --> 01:04:24,460
specifics you can see it was issued by

1665
01:04:24,460 --> 01:04:28,000
let's encrypt demo occlude dotnet this

1666
01:04:28,000 --> 01:04:30,850
was the time that it was issued at and

1667
01:04:30,850 --> 01:04:33,210
then down here should be the

1668
01:04:33,210 --> 01:04:35,620
www.divinewealthwise.com

1669
01:04:35,620 --> 01:04:37,870
the certificate that I applied for just

1670
01:04:37,870 --> 01:04:40,000
earlier and it's already here publicly

1671
01:04:40,000 --> 01:04:42,430
searchable now this is great for me

1672
01:04:42,430 --> 01:04:43,840
because I can just confirm what's going

1673
01:04:43,840 --> 01:04:46,360
on the idea is that as a person that

1674
01:04:46,360 --> 01:04:47,860
owns a domain or an organization the

1675
01:04:47,860 --> 01:04:49,570
doctor domain you can keep an eye on

1676
01:04:49,570 --> 01:04:51,580
what's going on you know did someone get

1677
01:04:51,580 --> 01:04:52,900
a certificate that shouldn't have one

1678
01:04:52,900 --> 01:04:55,150
did somebody in my company not follow

1679
01:04:55,150 --> 01:04:57,130
the correct process like whatever it may

1680
01:04:57,130 --> 01:05:00,100
be but this is super cool I often come

1681
01:05:00,100 --> 01:05:01,870
in here and just poke around and you can

1682
01:05:01,870 --> 01:05:04,570
search you know layout BBC comm whatever

1683
01:05:04,570 --> 01:05:05,890
it is that you want to search for so you

1684
01:05:05,890 --> 01:05:06,790
can go look at other people's

1685
01:05:06,790 --> 01:05:08,920
certificates and then the really cool

1686
01:05:08,920 --> 01:05:10,000
thing we've done if you want to be a

1687
01:05:10,000 --> 01:05:13,390
pest is you can search for subdomains

1688
01:05:13,390 --> 01:05:15,490
using the wildcard operator there and

1689
01:05:15,490 --> 01:05:17,320
you can find like cool subdomain on

1690
01:05:17,320 --> 01:05:18,790
people's websites but don't be

1691
01:05:18,790 --> 01:05:21,370
responsible if you do this okay but you

1692
01:05:21,370 --> 01:05:22,600
can see here like these are all the

1693
01:05:22,600 --> 01:05:24,940
subdomains obviously this organization

1694
01:05:24,940 --> 01:05:26,290
must have so it is actually quite an

1695
01:05:26,290 --> 01:05:27,580
interesting source of information if

1696
01:05:27,580 --> 01:05:31,210
digging around is if your thing and if

1697
01:05:31,210 --> 01:05:34,660
search isn't working try out census this

1698
01:05:34,660 --> 01:05:36,430
is the other one so it's a census that I

1699
01:05:36,430 --> 01:05:39,310
Oh search certificates exactly the same

1700
01:05:39,310 --> 01:05:41,050
processing the top up there so those are

1701
01:05:41,050 --> 01:05:42,250
the two main ones that I use there are

1702
01:05:42,250 --> 01:05:44,440
other services by the way that's not an

1703
01:05:44,440 --> 01:05:46,240
exhaustive list just the ones that I

1704
01:05:46,240 --> 01:05:48,580
happen to use and what I'll do is I'll

1705
01:05:48,580 --> 01:05:51,190
actually just to I shown quite a lot of

1706
01:05:51,190 --> 01:05:52,720
websites out scrape the list of all of

1707
01:05:52,720 --> 01:05:55,180
my tabs together and I'll provide them

1708
01:05:55,180 --> 01:05:56,680
over for them to go underneath the video

1709
01:05:56,680 --> 01:05:59,260
somewhere but like I said I kind of just

1710
01:05:59,260 --> 01:06:01,510
do these things freeform so nobody knows

1711
01:06:01,510 --> 01:06:04,960
where we'll end up yep those are some

1712
01:06:04,960 --> 01:06:08,290
good good links as you said before

1713
01:06:08,290 --> 01:06:12,790
probably use them responsibly oh it'd be

1714
01:06:12,790 --> 01:06:18,370
nice right well we're a bit I think at

1715
01:06:18,370 --> 01:06:21,340
one time so I'm gonna wrap up that's all

1716
01:06:21,340 --> 01:06:23,260
we have for you today people and thank

1717
01:06:23,260 --> 01:06:25,150
you for everyone you know staying along

1718
01:06:25,150 --> 01:06:27,550
and you know walking through this at

1719
01:06:27,550 --> 01:06:29,920
home and we've got home around https

1720
01:06:29,920 --> 01:06:32,050
security if you have any more questions

1721
01:06:32,050 --> 01:06:33,940
definitely go ahead and post them on the

1722
01:06:33,940 --> 01:06:36,540
channel or just shoot them out to

1723
01:06:36,540 --> 01:06:39,100
discard Twitter you know just spam his

1724
01:06:39,100 --> 01:06:43,720
inbox that's just fine happy to do it

1725
01:06:43,720 --> 01:06:45,940
huge thanks to you Scott for for

1726
01:06:45,940 --> 01:06:47,530
everything basically just for being here

1727
01:06:47,530 --> 01:06:48,190
and walking us

1728
01:06:48,190 --> 01:06:50,380
you are definitely one of my Achebe's

1729
01:06:50,380 --> 01:06:54,130
heroes our next session or everyone

1730
01:06:54,130 --> 01:06:56,710
staying on is in two weeks

1731
01:06:56,710 --> 01:06:58,930
26th of September we're gonna check out

1732
01:06:58,930 --> 01:07:00,609
and talk about the state of kubernetes

1733
01:07:00,609 --> 01:07:03,640
security with Jimmy mesta he's a CEO at

1734
01:07:03,640 --> 01:07:06,609
many codes security so definitely do

1735
01:07:06,609 --> 01:07:08,609
sign up if you want to get into that and

1736
01:07:08,609 --> 01:07:11,579
thank you everyone for just staying on

1737
01:07:11,579 --> 01:07:15,180
and thank you Scott thank you very much

1738
01:07:15,180 --> 01:07:18,240
all right

