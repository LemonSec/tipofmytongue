1
00:00:00,030 --> 00:00:07,589
like Milner I'm CTO at immuno Amir neo

2
00:00:04,470 --> 00:00:09,599
does runtime application protection for

3
00:00:07,589 --> 00:00:12,450
web applications so this idea of

4
00:00:09,599 --> 00:00:16,830
security being really included in I

5
00:00:12,450 --> 00:00:19,680
guess DevOps Dev SEC ops really

6
00:00:16,830 --> 00:00:22,500
interesting to me particularly kind of

7
00:00:19,680 --> 00:00:25,590
talking with all you smart people here

8
00:00:22,500 --> 00:00:29,609
so this slides really more for me here

9
00:00:25,590 --> 00:00:32,488
but when I'm thinking about what is dev

10
00:00:29,609 --> 00:00:36,360
SEC ops it kind of goes back to say well

11
00:00:32,488 --> 00:00:38,480
what is DevOps and it's one of those

12
00:00:36,360 --> 00:00:43,110
terms everyone here has probably heard

13
00:00:38,480 --> 00:00:45,989
used misused overused so I wanted to

14
00:00:43,110 --> 00:00:51,480
kind of get a baseline understanding

15
00:00:45,989 --> 00:00:53,339
like what is dev SEC Ops now for DevOps

16
00:00:51,480 --> 00:00:55,199
you've seen lots of organizations where

17
00:00:53,340 --> 00:00:57,239
really they've just taken their ops

18
00:00:55,199 --> 00:00:59,190
people and given them a new title and

19
00:00:57,239 --> 00:01:01,019
now they're DevOps but really nothing's

20
00:00:59,190 --> 00:01:02,989
changed it's still a separate part of

21
00:01:01,020 --> 00:01:06,750
the organization from development and

22
00:01:02,989 --> 00:01:10,500
then in other places I've seen the set

23
00:01:06,750 --> 00:01:12,659
up where every single developer has to

24
00:01:10,500 --> 00:01:14,040
be full stack they have to do everything

25
00:01:12,659 --> 00:01:16,590
from top to bottom right down to

26
00:01:14,040 --> 00:01:19,409
infrastructure but I also think that's a

27
00:01:16,590 --> 00:01:21,390
bit impractical and I imagine most of

28
00:01:19,409 --> 00:01:25,619
you will agree that the the sweet spot

29
00:01:21,390 --> 00:01:27,750
is really more in the middle you still

30
00:01:25,619 --> 00:01:30,750
have specialists you still have somebody

31
00:01:27,750 --> 00:01:32,759
specialising in operations you still

32
00:01:30,750 --> 00:01:35,610
have people who are primarily developers

33
00:01:32,759 --> 00:01:36,990
and you know with devstack ops you've

34
00:01:35,610 --> 00:01:39,270
still got people who are primary

35
00:01:36,990 --> 00:01:42,419
security specialists but now they're

36
00:01:39,270 --> 00:01:46,530
working together as a team and I think

37
00:01:42,420 --> 00:01:51,530
that team responsibility is the most

38
00:01:46,530 --> 00:01:51,530
important aspect of it thank you

39
00:01:52,880 --> 00:01:58,470
it's that shared responsibility for an

40
00:01:55,619 --> 00:02:01,560
application so if the applications not

41
00:01:58,470 --> 00:02:03,990
working properly for any reason the

42
00:02:01,560 --> 00:02:06,570
whole team has kind of got that shared

43
00:02:03,990 --> 00:02:11,819
responsibility to fix it because nobody

44
00:02:06,570 --> 00:02:14,310
wants something like this here now I've

45
00:02:11,819 --> 00:02:16,470
seen this picture in quite a few DevOps

46
00:02:14,310 --> 00:02:20,489
presentations I love it because it's

47
00:02:16,470 --> 00:02:23,330
it's very visual the fire the smoke this

48
00:02:20,489 --> 00:02:26,580
is what I call sort of the ops fire

49
00:02:23,330 --> 00:02:29,489
usually tied with availability if the

50
00:02:26,580 --> 00:02:32,970
site is down people know about it the

51
00:02:29,489 --> 00:02:35,720
big dark thick black smoke people are

52
00:02:32,970 --> 00:02:37,859
angry because they can't access the site

53
00:02:35,720 --> 00:02:40,080
now I did a little bit of reading about

54
00:02:37,860 --> 00:02:41,850
tire fires turns out they're really hard

55
00:02:40,080 --> 00:02:44,400
to extinguish I don't know if everyone

56
00:02:41,850 --> 00:02:46,500
knew this but they can burn for months

57
00:02:44,400 --> 00:02:49,350
there's even one in Wales I think that

58
00:02:46,500 --> 00:02:53,010
burned for like 15 years they're very

59
00:02:49,350 --> 00:02:55,380
difficult to put out and it's sort of

60
00:02:53,010 --> 00:02:58,078
similar in in operations once the

61
00:02:55,380 --> 00:03:00,269
website is offline everyone knows about

62
00:02:58,079 --> 00:03:04,380
it your users know about it it's had an

63
00:03:00,269 --> 00:03:06,720
effect immediately but when you throw

64
00:03:04,380 --> 00:03:08,609
security into the mix it's not just

65
00:03:06,720 --> 00:03:10,910
about availability anymore now you're

66
00:03:08,610 --> 00:03:16,220
looking at other factors integrity

67
00:03:10,910 --> 00:03:19,650
confidentiality audit and these types of

68
00:03:16,220 --> 00:03:22,430
security fires if you will are quite a

69
00:03:19,650 --> 00:03:25,079
bit different than this operation fire

70
00:03:22,430 --> 00:03:27,930
security fires aren't always quite as

71
00:03:25,079 --> 00:03:30,450
visible about this as this sorry often

72
00:03:27,930 --> 00:03:34,380
the security problems in your code are

73
00:03:30,450 --> 00:03:35,910
quiet attackers are looking at your web

74
00:03:34,380 --> 00:03:38,220
application they're poking their

75
00:03:35,910 --> 00:03:41,250
prodding but they don't want to be

76
00:03:38,220 --> 00:03:44,340
detected they're trying to be quiet and

77
00:03:41,250 --> 00:03:47,340
subtle about it so it's a slightly

78
00:03:44,340 --> 00:03:55,320
different mindset I think to look at

79
00:03:47,340 --> 00:03:58,440
security issues in your code yeah I mean

80
00:03:55,320 --> 00:04:00,209
sometimes these security fires you can

81
00:03:58,440 --> 00:04:02,790
have a vulnerability in your code that's

82
00:04:00,209 --> 00:04:04,380
lurking there for a while and you might

83
00:04:02,790 --> 00:04:06,480
not even find out about it for days

84
00:04:04,380 --> 00:04:09,569
months even years

85
00:04:06,480 --> 00:04:12,209
after the actual attack happened

86
00:04:09,569 --> 00:04:14,670
take Yahoo as an example they've been

87
00:04:12,209 --> 00:04:17,519
breached I think it was a couple years

88
00:04:14,670 --> 00:04:20,039
ago that it actually happened but the

89
00:04:17,519 --> 00:04:22,950
security fire is only really happening

90
00:04:20,040 --> 00:04:25,290
visibly now maybe someone at Yahoo knew

91
00:04:22,950 --> 00:04:27,270
about it and just didn't tell us I don't

92
00:04:25,290 --> 00:04:31,250
want to speculate on that but this

93
00:04:27,270 --> 00:04:33,750
vulnerability was exploited years ago

94
00:04:31,250 --> 00:04:38,520
didn't notice and now they're paying the

95
00:04:33,750 --> 00:04:41,220
price of the security fire and it got me

96
00:04:38,520 --> 00:04:43,049
thinking in general you know what what

97
00:04:41,220 --> 00:04:45,510
do you do about these quiet invisible

98
00:04:43,050 --> 00:04:50,100
security fires and one of the things I

99
00:04:45,510 --> 00:04:52,229
liked most about DevOps it was the idea

100
00:04:50,100 --> 00:04:55,440
that you could get this availability you

101
00:04:52,229 --> 00:04:57,810
could get this thing running

102
00:04:55,440 --> 00:05:02,010
continuously running without affecting

103
00:04:57,810 --> 00:05:03,330
the flow of development because among

104
00:05:02,010 --> 00:05:05,190
all this you actually have to keep

105
00:05:03,330 --> 00:05:08,070
delivering features you have to keep

106
00:05:05,190 --> 00:05:10,229
this application evolving so we want

107
00:05:08,070 --> 00:05:12,719
something similar for security the idea

108
00:05:10,229 --> 00:05:14,729
that maybe we can apply this DevOps idea

109
00:05:12,720 --> 00:05:22,950
of effective monitoring of your

110
00:05:14,729 --> 00:05:25,500
application to security operations I

111
00:05:22,950 --> 00:05:27,150
said pretty good monitoring for quite a

112
00:05:25,500 --> 00:05:29,250
while this is just a little screenshot

113
00:05:27,150 --> 00:05:31,260
of a single chart from data dog if

114
00:05:29,250 --> 00:05:32,910
you're familiar with it it's a great

115
00:05:31,260 --> 00:05:34,800
tool for logging lots of different

116
00:05:32,910 --> 00:05:41,310
metrics about your applications your

117
00:05:34,800 --> 00:05:43,979
your infrastructure you can set up

118
00:05:41,310 --> 00:05:45,960
alerting you can use it to test load on

119
00:05:43,979 --> 00:05:50,490
servers it's really quite effective it's

120
00:05:45,960 --> 00:05:51,989
a useful tool but security application

121
00:05:50,490 --> 00:05:53,550
security in particular is kind of

122
00:05:51,990 --> 00:05:57,240
playing catch up a little bit there

123
00:05:53,550 --> 00:06:00,599
isn't really a data dog for security but

124
00:05:57,240 --> 00:06:02,250
this idea of combining security with the

125
00:06:00,599 --> 00:06:04,919
development team and operations team

126
00:06:02,250 --> 00:06:07,200
early on gives us the ability to start

127
00:06:04,919 --> 00:06:10,409
trying to include some of these security

128
00:06:07,200 --> 00:06:12,120
monitoring concepts earlier into the

129
00:06:10,410 --> 00:06:15,240
process of an application being

130
00:06:12,120 --> 00:06:18,270
developed so very early on starting to

131
00:06:15,240 --> 00:06:19,550
think what might be useful monitoring

132
00:06:18,270 --> 00:06:21,710
information

133
00:06:19,550 --> 00:06:23,990
from a security perspective getting that

134
00:06:21,710 --> 00:06:26,120
baked into the application early as it's

135
00:06:23,990 --> 00:06:29,720
being developed instead of doing it

136
00:06:26,120 --> 00:06:31,880
after the fact so I picked a particular

137
00:06:29,720 --> 00:06:34,010
attack type I wanted to just talk about

138
00:06:31,880 --> 00:06:36,590
briefly and then we'll kind of look at

139
00:06:34,010 --> 00:06:40,610
what this idea of security monitoring

140
00:06:36,590 --> 00:06:43,609
might look like credential stuffing

141
00:06:40,610 --> 00:06:45,890
these become much more popular over the

142
00:06:43,610 --> 00:06:47,570
past year and by popular I mean it's

143
00:06:45,890 --> 00:06:49,340
happening a lot more people are noticing

144
00:06:47,570 --> 00:06:52,790
a lot more you've probably seen big

145
00:06:49,340 --> 00:06:54,739
headlines about breaches LinkedIn was

146
00:06:52,790 --> 00:06:57,260
the big one not too long ago big

147
00:06:54,740 --> 00:06:59,180
password database leaked and the

148
00:06:57,260 --> 00:07:03,730
interesting thing about this one to me

149
00:06:59,180 --> 00:07:06,320
is that somebody lost these credentials

150
00:07:03,730 --> 00:07:09,020
they were breached they were stolen and

151
00:07:06,320 --> 00:07:10,730
that's probably due to a security bug

152
00:07:09,020 --> 00:07:12,530
they had a vulnerability in their code

153
00:07:10,730 --> 00:07:15,980
or in their infrastructure somehow the

154
00:07:12,530 --> 00:07:18,559
state a leaked but now the leaked data

155
00:07:15,980 --> 00:07:20,690
is being used to attack many other sites

156
00:07:18,560 --> 00:07:23,810
with these credential stuffing attacks

157
00:07:20,690 --> 00:07:26,480
and those sites don't really have a bug

158
00:07:23,810 --> 00:07:29,210
in their code necessarily there's no bug

159
00:07:26,480 --> 00:07:31,340
that lets credential stuffing be

160
00:07:29,210 --> 00:07:32,840
effective what the attackers are doing

161
00:07:31,340 --> 00:07:34,810
is they're just taking every one of

162
00:07:32,840 --> 00:07:37,539
these username password combinations

163
00:07:34,810 --> 00:07:40,460
they're relying on the fact that around

164
00:07:37,540 --> 00:07:42,830
50% of users will reuse the same

165
00:07:40,460 --> 00:07:44,270
passwords on multiple sites and now

166
00:07:42,830 --> 00:07:45,950
they're going to your web sites and

167
00:07:44,270 --> 00:07:48,560
they're just trying to log in with every

168
00:07:45,950 --> 00:07:52,400
one of these accounts just trying to

169
00:07:48,560 --> 00:07:54,770
find one that works and because it's not

170
00:07:52,400 --> 00:07:56,659
actually exploit a bug there's not

171
00:07:54,770 --> 00:07:59,030
really much in the way of protection on

172
00:07:56,660 --> 00:08:00,920
lots of sites because it's using a

173
00:07:59,030 --> 00:08:05,239
feature of the website the ability to

174
00:08:00,920 --> 00:08:07,130
test a password and log someone in so

175
00:08:05,240 --> 00:08:08,810
this is an example where putting the

176
00:08:07,130 --> 00:08:11,150
security with the development team maybe

177
00:08:08,810 --> 00:08:13,700
we can identify these threat vectors

178
00:08:11,150 --> 00:08:16,429
early and put in the appropriate logging

179
00:08:13,700 --> 00:08:20,390
if anyone's investigated something like

180
00:08:16,430 --> 00:08:24,470
this on an application you might have

181
00:08:20,390 --> 00:08:27,050
started with something like this this is

182
00:08:24,470 --> 00:08:29,600
you know standard log Apache common log

183
00:08:27,050 --> 00:08:31,580
format if your application has no

184
00:08:29,600 --> 00:08:33,170
security logging you probably still have

185
00:08:31,580 --> 00:08:35,960
something like this at least

186
00:08:33,169 --> 00:08:38,030
it's just logging each request the URL

187
00:08:35,960 --> 00:08:41,480
the response status IP address it came

188
00:08:38,030 --> 00:08:44,360
from maybe you can tell a little bit

189
00:08:41,480 --> 00:08:47,630
from here you can see the get post get

190
00:08:44,360 --> 00:08:49,370
post get post that's common if your

191
00:08:47,630 --> 00:08:51,200
login is protected against cross-site

192
00:08:49,370 --> 00:08:53,810
request forgery you need to look at the

193
00:08:51,200 --> 00:08:55,550
login page get that security token put

194
00:08:53,810 --> 00:08:57,589
it into the login it doesn't really

195
00:08:55,550 --> 00:08:59,990
affect or hinder somebody doing

196
00:08:57,590 --> 00:09:02,300
credential stuffing attacks but one

197
00:08:59,990 --> 00:09:06,140
thing you notice here is the response

198
00:09:02,300 --> 00:09:08,990
code is 200 okay every single time and

199
00:09:06,140 --> 00:09:12,310
this is because generally login forms

200
00:09:08,990 --> 00:09:15,170
don't respond with a forbidden error or

201
00:09:12,310 --> 00:09:17,510
or you know what is it 401

202
00:09:15,170 --> 00:09:19,550
authentication required is that pops up

203
00:09:17,510 --> 00:09:21,680
the ugly browser login form

204
00:09:19,550 --> 00:09:24,050
they just return the login form again

205
00:09:21,680 --> 00:09:26,569
with the little red line that says you

206
00:09:24,050 --> 00:09:28,189
know in unsuccessful login but in terms

207
00:09:26,570 --> 00:09:30,290
of the logging it's still just a

208
00:09:28,190 --> 00:09:31,610
successful response so somebody

209
00:09:30,290 --> 00:09:34,010
monitoring your website on the

210
00:09:31,610 --> 00:09:36,260
operations side of things might be

211
00:09:34,010 --> 00:09:40,069
looking at your load balancer logs your

212
00:09:36,260 --> 00:09:44,990
web server logs everything is 200 ok

213
00:09:40,070 --> 00:09:47,330
right 200 ok but obviously a credential

214
00:09:44,990 --> 00:09:49,280
stuffing attack these are valid requests

215
00:09:47,330 --> 00:09:54,110
they look normal they're using your site

216
00:09:49,280 --> 00:09:56,390
to to test these longings so what can we

217
00:09:54,110 --> 00:09:59,690
do now imagine we were writing this

218
00:09:56,390 --> 00:10:01,220
application from the start as a security

219
00:09:59,690 --> 00:10:03,770
person on the development team what

220
00:10:01,220 --> 00:10:05,660
could we maybe do to our logging to

221
00:10:03,770 --> 00:10:07,970
support security monitoring in the

222
00:10:05,660 --> 00:10:09,589
future so I'm gonna walk through some

223
00:10:07,970 --> 00:10:12,070
progressions and we'll kind of see how

224
00:10:09,590 --> 00:10:14,150
that'll help us be more effective

225
00:10:12,070 --> 00:10:16,640
first thing just adding a bit more

226
00:10:14,150 --> 00:10:19,579
structure you've probably seen or heard

227
00:10:16,640 --> 00:10:21,949
about Jason style logging it's becoming

228
00:10:19,580 --> 00:10:24,590
more popular the idea that you can have

229
00:10:21,950 --> 00:10:26,480
a bit more structure in your logs so

230
00:10:24,590 --> 00:10:29,780
that you can include a bit more

231
00:10:26,480 --> 00:10:32,450
information right now we're seeing all

232
00:10:29,780 --> 00:10:35,870
the same data but it just may be a bit

233
00:10:32,450 --> 00:10:39,020
more amenable to a computer processing

234
00:10:35,870 --> 00:10:41,420
it and doing some stuff so as the

235
00:10:39,020 --> 00:10:43,340
applications getting developed what are

236
00:10:41,420 --> 00:10:44,110
we going to add in to improve our

237
00:10:43,340 --> 00:10:47,290
monitoring

238
00:10:44,110 --> 00:10:49,240
I recommend starting with giving every

239
00:10:47,290 --> 00:10:51,579
request a name give them an identity and

240
00:10:49,240 --> 00:10:52,620
an ID so you can now kind of track this

241
00:10:51,579 --> 00:10:55,029
throughout your system

242
00:10:52,620 --> 00:10:57,250
ideally you'll want these identifiers as

243
00:10:55,029 --> 00:10:58,959
being placed as early in your stack as

244
00:10:57,250 --> 00:11:00,880
possible right at the edge of your

245
00:10:58,959 --> 00:11:02,920
network as soon as that request comes in

246
00:11:00,880 --> 00:11:05,410
maybe it hits your load balancer or

247
00:11:02,920 --> 00:11:06,939
something like that give it a unique

248
00:11:05,410 --> 00:11:08,829
identifier and then track that

249
00:11:06,940 --> 00:11:10,360
throughout your system because that's

250
00:11:08,829 --> 00:11:12,939
going to be your unique way of

251
00:11:10,360 --> 00:11:17,290
correlating other logs with what we're

252
00:11:12,940 --> 00:11:19,720
getting here then you probably want to

253
00:11:17,290 --> 00:11:22,149
start capturing more information about

254
00:11:19,720 --> 00:11:24,220
where your requests are coming from so

255
00:11:22,149 --> 00:11:26,440
these are login requests so we don't

256
00:11:24,220 --> 00:11:28,750
have a user name but we can start

257
00:11:26,440 --> 00:11:30,670
capturing things like you user agent if

258
00:11:28,750 --> 00:11:33,910
you've got a tracking cookie and your

259
00:11:30,670 --> 00:11:35,860
HTTP you know you're actually tracking

260
00:11:33,910 --> 00:11:38,199
browsers then throw that in there as

261
00:11:35,860 --> 00:11:41,019
well these are all going to be useful

262
00:11:38,200 --> 00:11:42,750
bits of data to help correlate different

263
00:11:41,019 --> 00:11:46,300
behavior when we're actually trying to

264
00:11:42,750 --> 00:11:47,950
monitor and prevent these attacks and

265
00:11:46,300 --> 00:11:52,029
then the most important thing is

266
00:11:47,950 --> 00:11:54,070
actually record what happened in some

267
00:11:52,029 --> 00:11:58,060
sort of a neutral format so instead of

268
00:11:54,070 --> 00:12:00,459
trying to parse a log file pull out 200

269
00:11:58,060 --> 00:12:04,869
means this and this type of response

270
00:12:00,459 --> 00:12:06,130
means that just be explicit you decide

271
00:12:04,870 --> 00:12:08,500
because again we're part of the

272
00:12:06,130 --> 00:12:11,500
development process now we can decide at

273
00:12:08,500 --> 00:12:13,089
the start failed logins are probably

274
00:12:11,500 --> 00:12:14,680
going to be interesting maybe you've

275
00:12:13,089 --> 00:12:16,390
done threat modeling and identified

276
00:12:14,680 --> 00:12:18,310
brute force as a possible vector

277
00:12:16,390 --> 00:12:21,269
credential stuffing as a possible vector

278
00:12:18,310 --> 00:12:23,849
so let's get that in there early and

279
00:12:21,269 --> 00:12:26,410
maybe add some additional information

280
00:12:23,850 --> 00:12:29,980
which username did they try to log in as

281
00:12:26,410 --> 00:12:32,050
did that user exist in my system try to

282
00:12:29,980 --> 00:12:33,940
include relevant information in your

283
00:12:32,050 --> 00:12:36,399
logs that are going to be able to feed

284
00:12:33,940 --> 00:12:37,930
into your monitoring systems later to

285
00:12:36,399 --> 00:12:43,360
make tracking these types of attacks

286
00:12:37,930 --> 00:12:47,529
more effective for other types of

287
00:12:43,360 --> 00:12:49,529
attacks that are more business oriented

288
00:12:47,529 --> 00:12:52,899
you can do something very similar

289
00:12:49,529 --> 00:12:54,850
instead of now tracking failed logins

290
00:12:52,899 --> 00:12:57,329
maybe I want to track things that are

291
00:12:54,850 --> 00:12:59,819
more relevant to my business for

292
00:12:57,329 --> 00:13:04,319
security use cases but more abuse use

293
00:12:59,819 --> 00:13:07,139
cases credit card declined probably

294
00:13:04,319 --> 00:13:09,569
interesting to know I don't know if you

295
00:13:07,139 --> 00:13:11,610
guys are familiar card scammers credit

296
00:13:09,569 --> 00:13:15,149
card fraud you can buy these big

297
00:13:11,610 --> 00:13:17,850
databases lists and lists of compromised

298
00:13:15,149 --> 00:13:20,939
credit card details with the card

299
00:13:17,850 --> 00:13:23,459
details but there's always a bit of a

300
00:13:20,939 --> 00:13:25,920
question from the scammers on are these

301
00:13:23,459 --> 00:13:28,829
valid credit card details are they still

302
00:13:25,920 --> 00:13:32,069
active so you might get a list of 10,000

303
00:13:28,829 --> 00:13:34,319
card records from I don't know some

304
00:13:32,069 --> 00:13:35,339
online form or something like that but

305
00:13:34,319 --> 00:13:39,509
you don't know which ones they're

306
00:13:35,339 --> 00:13:42,149
actually still working so before you use

307
00:13:39,509 --> 00:13:45,029
them for your high-value fraud whatever

308
00:13:42,149 --> 00:13:46,559
that might be you want to test them so

309
00:13:45,029 --> 00:13:50,009
we've had people come to us who run

310
00:13:46,559 --> 00:13:53,100
charity websites now it's very common

311
00:13:50,009 --> 00:13:55,199
for charity to accept donations and it's

312
00:13:53,100 --> 00:13:58,679
very common for donations to be small

313
00:13:55,199 --> 00:14:01,919
value so a credit card scammer is trying

314
00:13:58,679 --> 00:14:04,290
to avoid fraud detection from the credit

315
00:14:01,919 --> 00:14:06,389
card companies which are very good at

316
00:14:04,290 --> 00:14:09,629
spotting large high-value transactions

317
00:14:06,389 --> 00:14:12,749
that might be a bit abnormal but smaller

318
00:14:09,629 --> 00:14:16,019
transactions you know a dollar five

319
00:14:12,749 --> 00:14:17,549
dollars might go by with less notice so

320
00:14:16,019 --> 00:14:19,649
they'll go to a charity website and

321
00:14:17,549 --> 00:14:22,169
they'll just feed in these credit cards

322
00:14:19,649 --> 00:14:26,189
one after the other trying to donate a

323
00:14:22,169 --> 00:14:27,989
dollar and the ones that succeed are

324
00:14:26,189 --> 00:14:30,209
accepted the ones that are declined are

325
00:14:27,989 --> 00:14:31,980
no good they cross them off the list so

326
00:14:30,209 --> 00:14:32,638
now this poor charity is getting lots of

327
00:14:31,980 --> 00:14:34,679
donations

328
00:14:32,639 --> 00:14:36,179
you know hooray but then at the end of

329
00:14:34,679 --> 00:14:38,220
the month they all get rejected by

330
00:14:36,179 --> 00:14:39,449
chargebacks so it's a major burden for

331
00:14:38,220 --> 00:14:42,749
these charities to bear they're paying

332
00:14:39,449 --> 00:14:45,748
the price so tracking these types of

333
00:14:42,749 --> 00:14:48,149
things lets you also protect against

334
00:14:45,749 --> 00:14:49,799
business logic errors abuse cases once

335
00:14:48,149 --> 00:14:51,299
you have the information then you can

336
00:14:49,799 --> 00:14:54,269
start using those for effective

337
00:14:51,299 --> 00:14:56,160
monitoring and it's not always Todd I

338
00:14:54,269 --> 00:14:57,779
added in the username here because you

339
00:14:56,160 --> 00:14:59,368
know maybe you're a step higher up maybe

340
00:14:57,779 --> 00:15:02,220
you know a bit more about who's making

341
00:14:59,369 --> 00:15:04,439
the request at this point there might be

342
00:15:02,220 --> 00:15:07,160
other information that's relevant for

343
00:15:04,439 --> 00:15:09,389
your website but basically record at all

344
00:15:07,160 --> 00:15:10,660
this is another use case that we've

345
00:15:09,389 --> 00:15:13,389
looked at

346
00:15:10,660 --> 00:15:16,689
where somebody was using credential

347
00:15:13,389 --> 00:15:18,850
stuffing they were breaking into the

348
00:15:16,690 --> 00:15:20,680
accounts that were vulnerable and this

349
00:15:18,850 --> 00:15:23,769
one happens to be like a loyalty point

350
00:15:20,680 --> 00:15:25,388
type system so they were every account

351
00:15:23,769 --> 00:15:27,250
that they logged into they were taking

352
00:15:25,389 --> 00:15:28,980
the loyalty points and this particular

353
00:15:27,250 --> 00:15:31,600
website allowed you to transfer them

354
00:15:28,980 --> 00:15:35,199
they were transferring them to their own

355
00:15:31,600 --> 00:15:36,790
controlled account their attacker won so

356
00:15:35,199 --> 00:15:38,620
this is an example where this additional

357
00:15:36,790 --> 00:15:42,670
metadata can become really valuable

358
00:15:38,620 --> 00:15:44,709
each compromised account was just doing

359
00:15:42,670 --> 00:15:47,589
a single transaction maybe not that

360
00:15:44,709 --> 00:15:51,189
suspicious but in that particular use

361
00:15:47,589 --> 00:15:54,699
case the destination account was always

362
00:15:51,189 --> 00:15:59,250
the same so it gives you the ability to

363
00:15:54,699 --> 00:16:01,508
sort of slice and dice these things so

364
00:15:59,250 --> 00:16:03,279
obviously for login I want to control

365
00:16:01,509 --> 00:16:05,860
how many failed login attempts I'll

366
00:16:03,279 --> 00:16:08,379
accept from any particular source if you

367
00:16:05,860 --> 00:16:09,879
fail to log in too many times I want to

368
00:16:08,379 --> 00:16:13,959
do something about it or at least take

369
00:16:09,879 --> 00:16:15,550
note similarly by tracking the name that

370
00:16:13,959 --> 00:16:17,469
was attempted I might want to track

371
00:16:15,550 --> 00:16:19,389
where they're all going and all of these

372
00:16:17,470 --> 00:16:22,050
controls are based on the data that

373
00:16:19,389 --> 00:16:25,269
you're collecting from your monitoring

374
00:16:22,050 --> 00:16:28,508
and yeah the the transaction use case

375
00:16:25,269 --> 00:16:31,509
was tracking now the destination account

376
00:16:28,509 --> 00:16:33,639
so one particular account should not

377
00:16:31,509 --> 00:16:36,430
receive more than X number of

378
00:16:33,639 --> 00:16:41,949
transactions per day that's anomalous

379
00:16:36,430 --> 00:16:43,180
flag it up monitoring and another

380
00:16:41,949 --> 00:16:45,430
important thing is to have some kind of

381
00:16:43,180 --> 00:16:46,689
a response if you spot these things

382
00:16:45,430 --> 00:16:48,729
happening you want to be able to stop

383
00:16:46,689 --> 00:16:52,029
them because sometimes they happen quite

384
00:16:48,730 --> 00:16:54,130
quickly captures a classic one but you

385
00:16:52,029 --> 00:16:56,709
could also block the IP block the user

386
00:16:54,130 --> 00:16:58,149
account force a password reset if you

387
00:16:56,709 --> 00:17:00,279
think they compromised or the

388
00:16:58,149 --> 00:17:01,689
credentials have been compromised but

389
00:17:00,279 --> 00:17:04,209
you want to have some sort of a response

390
00:17:01,689 --> 00:17:06,309
mechanism so baking that into the

391
00:17:04,209 --> 00:17:08,949
application as well the ability to do

392
00:17:06,309 --> 00:17:11,500
some of these things based on your

393
00:17:08,949 --> 00:17:13,329
security monitoring is is important as

394
00:17:11,500 --> 00:17:17,650
well like set a flag in a database and

395
00:17:13,329 --> 00:17:20,349
now that user will get a CAPTCHA and in

396
00:17:17,650 --> 00:17:22,870
the spirit of sharing information it's

397
00:17:20,349 --> 00:17:24,159
also really important to identify who

398
00:17:22,869 --> 00:17:26,020
needs to know

399
00:17:24,160 --> 00:17:28,030
security is now embedded within the team

400
00:17:26,020 --> 00:17:30,430
but there's other parts of your

401
00:17:28,030 --> 00:17:32,170
organization that need to know and be

402
00:17:30,430 --> 00:17:34,540
involved in these same things

403
00:17:32,170 --> 00:17:36,310
talk to your fraud and abuse team if you

404
00:17:34,540 --> 00:17:38,139
have one they've probably got lots of

405
00:17:36,310 --> 00:17:40,480
examples of things that they're looking

406
00:17:38,140 --> 00:17:43,180
for but they just don't have the data to

407
00:17:40,480 --> 00:17:46,240
get so if you're that security person

408
00:17:43,180 --> 00:17:47,410
embedded in a dev SEC ops team talk to

409
00:17:46,240 --> 00:17:48,160
these other stakeholders in your

410
00:17:47,410 --> 00:17:50,350
organization

411
00:17:48,160 --> 00:17:52,660
what does customer support need to know

412
00:17:50,350 --> 00:17:54,219
in case some of this stuff happens will

413
00:17:52,660 --> 00:17:56,590
they need to talk to the customers and

414
00:17:54,220 --> 00:17:59,230
and help them understand that their

415
00:17:56,590 --> 00:18:02,139
accounts been compromised maybe even

416
00:17:59,230 --> 00:18:04,630
help them set up some sort of identity

417
00:18:02,140 --> 00:18:06,550
protection same thing your PR might have

418
00:18:04,630 --> 00:18:08,290
to post something on the blog to make

419
00:18:06,550 --> 00:18:10,419
this public what information do they

420
00:18:08,290 --> 00:18:13,930
need to know engage with these people

421
00:18:10,420 --> 00:18:16,510
early so that you know as the the

422
00:18:13,930 --> 00:18:19,060
keynote this morning said really you

423
00:18:16,510 --> 00:18:21,400
know devstack Ops is really dev sack

424
00:18:19,060 --> 00:18:23,440
stakeholder relations public relations

425
00:18:21,400 --> 00:18:29,560
compliance you know all of these things

426
00:18:23,440 --> 00:18:34,720
need to be working together and then

427
00:18:29,560 --> 00:18:37,600
identify what they need to know this is

428
00:18:34,720 --> 00:18:39,550
kind of part of engaging early once this

429
00:18:37,600 --> 00:18:41,260
stuff happens if you can prevent it if

430
00:18:39,550 --> 00:18:45,460
you can stop it what do you actually

431
00:18:41,260 --> 00:18:48,840
need to know about the attack what

432
00:18:45,460 --> 00:18:51,340
information do you need to collect some

433
00:18:48,840 --> 00:18:53,230
of this stuff is pretty big business if

434
00:18:51,340 --> 00:18:54,820
somebody's stealing data or stealing

435
00:18:53,230 --> 00:18:56,380
finance you might have compliance

436
00:18:54,820 --> 00:18:58,389
obligations that might require an

437
00:18:56,380 --> 00:18:59,590
investigation so what do you need to

438
00:18:58,390 --> 00:19:02,380
actually collect that might need to be

439
00:18:59,590 --> 00:19:03,970
given to law enforcement or you might be

440
00:19:02,380 --> 00:19:06,160
able to use to defend yourself if

441
00:19:03,970 --> 00:19:07,480
somebody's trying to find you you might

442
00:19:06,160 --> 00:19:10,990
need to demonstrate that you've taken

443
00:19:07,480 --> 00:19:12,970
appropriate protection measures so it's

444
00:19:10,990 --> 00:19:14,860
important to identify these things early

445
00:19:12,970 --> 00:19:17,290
and that security person is the ideal

446
00:19:14,860 --> 00:19:19,800
person to carry these business

447
00:19:17,290 --> 00:19:22,899
requirements from security abuse

448
00:19:19,800 --> 00:19:24,850
compliance into the development team so

449
00:19:22,900 --> 00:19:27,220
that they're identified early and you're

450
00:19:24,850 --> 00:19:31,560
not having to play catch-up on your

451
00:19:27,220 --> 00:19:31,560
application to spot them after the fact

452
00:19:32,880 --> 00:19:43,910
and that's everything thank you very

453
00:19:33,870 --> 00:19:43,909
much does anyone have any questions

454
00:19:51,620 --> 00:19:55,879
we'll pause a moment here get here we go

455
00:19:59,480 --> 00:20:06,090
okay thank you very much for that talk

456
00:20:02,210 --> 00:20:08,640
so how do you deal with confidential

457
00:20:06,090 --> 00:20:10,080
information and especially I'm not

458
00:20:08,640 --> 00:20:11,760
talking about explicit confidential

459
00:20:10,080 --> 00:20:13,740
stuff you wouldn't put a password into

460
00:20:11,760 --> 00:20:16,290
the logging but implicit confidentiality

461
00:20:13,740 --> 00:20:19,710
like in Germany you're not allowed to

462
00:20:16,290 --> 00:20:21,570
track employees what they're doing so we

463
00:20:19,710 --> 00:20:23,220
had this concrete problem and one of the

464
00:20:21,570 --> 00:20:25,770
last projects we wanted to log very

465
00:20:23,220 --> 00:20:28,350
detailed but we had to be explicitly

466
00:20:25,770 --> 00:20:31,320
compliant with the requirement of not

467
00:20:28,350 --> 00:20:34,139
tracking particular individuals have you

468
00:20:31,320 --> 00:20:36,899
had any experience with that not that

469
00:20:34,140 --> 00:20:41,130
particular regulation we've had issues

470
00:20:36,900 --> 00:20:43,680
where the inability to track the

471
00:20:41,130 --> 00:20:47,220
identifiers themselves so maybe you

472
00:20:43,680 --> 00:20:49,770
can't track user Mike but if you can

473
00:20:47,220 --> 00:20:53,070
strip that out basically you've got one

474
00:20:49,770 --> 00:20:54,510
source where for the logging the stuff

475
00:20:53,070 --> 00:20:56,550
that you persist the stuff that you

476
00:20:54,510 --> 00:20:59,280
analyze in bulk to look for these

477
00:20:56,550 --> 00:21:03,090
security threats only has an opaque

478
00:20:59,280 --> 00:21:04,830
identifier like a hash or just a UUID or

479
00:21:03,090 --> 00:21:07,110
something like that and then there's

480
00:21:04,830 --> 00:21:10,560
only one source of truth that maps that

481
00:21:07,110 --> 00:21:12,330
opaque identifier to the real user I'm

482
00:21:10,560 --> 00:21:14,280
not sure if this particular regulations

483
00:21:12,330 --> 00:21:17,460
if that would satisfy that requirement

484
00:21:14,280 --> 00:21:19,590
but particularly something for internal

485
00:21:17,460 --> 00:21:21,000
users you still want to be able to do

486
00:21:19,590 --> 00:21:22,919
the analysis you still want to be able

487
00:21:21,000 --> 00:21:26,880
to spot that a particular account is

488
00:21:22,920 --> 00:21:28,230
doing something bad but again I'm not

489
00:21:26,880 --> 00:21:30,030
sure you probably know better than I do

490
00:21:28,230 --> 00:21:32,700
whether it would satisfy that particular

491
00:21:30,030 --> 00:21:35,700
I don't we were very puzzled by that

492
00:21:32,700 --> 00:21:36,780
challenge yeah but yeah we've had a

493
00:21:35,700 --> 00:21:40,230
similar thing

494
00:21:36,780 --> 00:21:42,780
so immuno the company is a service and

495
00:21:40,230 --> 00:21:45,990
some companies aren't comfortable that

496
00:21:42,780 --> 00:21:46,680
data going to us so maybe a similar

497
00:21:45,990 --> 00:21:49,170
concept

498
00:21:46,680 --> 00:21:51,870
done exactly that an opaque identifier

499
00:21:49,170 --> 00:21:53,790
that we can share with them but only

500
00:21:51,870 --> 00:21:56,280
they have the ability to map that to the

501
00:21:53,790 --> 00:22:00,899
actual user identity like email address

502
00:21:56,280 --> 00:22:03,500
and username thank you any other

503
00:22:00,900 --> 00:22:05,610
questions is one there

504
00:22:03,500 --> 00:22:07,470
yeah you've you've got the job of

505
00:22:05,610 --> 00:22:12,540
sharing the microphone now I will bring

506
00:22:07,470 --> 00:22:14,850
it over just wanted to say that that was

507
00:22:12,540 --> 00:22:17,490
really interesting because I've had to

508
00:22:14,850 --> 00:22:19,459
deal with that in exactly the way you've

509
00:22:17,490 --> 00:22:22,500
just detailed

510
00:22:19,460 --> 00:22:26,160
unfortunately the hard way the hard way

511
00:22:22,500 --> 00:22:27,660
and what was interesting was that in

512
00:22:26,160 --> 00:22:29,700
addition to all those people that you

513
00:22:27,660 --> 00:22:31,260
involved we also involved security

514
00:22:29,700 --> 00:22:33,150
operations so they were doing that they

515
00:22:31,260 --> 00:22:35,490
were tracking the perpetrators through

516
00:22:33,150 --> 00:22:37,170
the threat intelligence so during the

517
00:22:35,490 --> 00:22:39,060
whole remediation process we were seeing

518
00:22:37,170 --> 00:22:40,560
both sides of the both sides of the

519
00:22:39,060 --> 00:22:42,899
picture and that really really helped in

520
00:22:40,560 --> 00:22:45,270
trying to tailor our response to each of

521
00:22:42,900 --> 00:22:48,120
the steps be it PR or customer services

522
00:22:45,270 --> 00:22:50,760
or whatever but yeah absolutely it's

523
00:22:48,120 --> 00:22:52,489
always a balance I find from a security

524
00:22:50,760 --> 00:22:55,080
perspective you'd like to track

525
00:22:52,490 --> 00:22:59,910
everything who cares about privacy right

526
00:22:55,080 --> 00:23:01,980
it's always that balance you know I

527
00:22:59,910 --> 00:23:03,810
would love if every user had a unique

528
00:23:01,980 --> 00:23:05,430
identifier in their browser that I could

529
00:23:03,810 --> 00:23:07,740
track their behavior across all these

530
00:23:05,430 --> 00:23:12,900
sites but of course you know balancing

531
00:23:07,740 --> 00:23:14,370
that is very important but anybody else

532
00:23:12,900 --> 00:23:16,230
had to deal with it the hard way for

533
00:23:14,370 --> 00:23:25,110
some of these attacks I know I have

534
00:23:16,230 --> 00:23:25,740
certainly any other questions all right

535
00:23:25,110 --> 00:23:26,360
thank you

536
00:23:25,740 --> 00:23:32,590
Oh

537
00:23:26,360 --> 00:23:32,590
[Applause]

