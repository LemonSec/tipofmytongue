1
00:00:04,860 --> 00:00:06,600
all right

2
00:00:06,600 --> 00:00:08,700
um good afternoon

3
00:00:08,700 --> 00:00:10,740
um it's lovely to be back here

4
00:00:10,740 --> 00:00:13,500
um it's I was here 11 years ago I worked

5
00:00:13,500 --> 00:00:15,900
out at one of the very first

6
00:00:15,900 --> 00:00:18,600
um Brew cons so a bit about me I've been

7
00:00:18,600 --> 00:00:20,820
I've worked as a firewall engineer I

8
00:00:20,820 --> 00:00:22,740
built firewalls I rolled out networks

9
00:00:22,740 --> 00:00:24,600
and then I got sucked back into Academia

10
00:00:24,600 --> 00:00:27,480
about 20 years ago I've spent the last

11
00:00:27,480 --> 00:00:29,160
20 years

12
00:00:29,160 --> 00:00:31,199
pretty much training the next generation

13
00:00:31,199 --> 00:00:33,780
of security people largely based in

14
00:00:33,780 --> 00:00:36,120
South Africa more recently I've now

15
00:00:36,120 --> 00:00:38,940
based out of Norway but in between all

16
00:00:38,940 --> 00:00:40,559
of that I've spent a lot of time playing

17
00:00:40,559 --> 00:00:43,559
with the defense sector telecoms Finance

18
00:00:43,559 --> 00:00:45,360
consultancies Etc which has been really

19
00:00:45,360 --> 00:00:47,100
interesting and sort of quite of a bit

20
00:00:47,100 --> 00:00:49,500
of a privilege being able to dip my toes

21
00:00:49,500 --> 00:00:51,180
back into what so-called real world

22
00:00:51,180 --> 00:00:54,059
problems actually are it also came to

23
00:00:54,059 --> 00:00:56,399
our realization this is my 32nd year on

24
00:00:56,399 --> 00:00:58,140
the internet

25
00:00:58,140 --> 00:00:59,699
um I've been there for a very long time

26
00:00:59,699 --> 00:01:02,940
I didn't quite realize it was that long

27
00:01:02,940 --> 00:01:04,680
um I love packets

28
00:01:04,680 --> 00:01:06,299
um if there's one thing that gets me

29
00:01:06,299 --> 00:01:08,220
excited it's playing with packets

30
00:01:08,220 --> 00:01:09,840
because

31
00:01:09,840 --> 00:01:12,060
applications lie some applications going

32
00:01:12,060 --> 00:01:13,619
to tell you it's the connection's okay

33
00:01:13,619 --> 00:01:15,780
the connection's not okay but

34
00:01:15,780 --> 00:01:18,960
applications lie TCP dump seldom lies

35
00:01:18,960 --> 00:01:20,939
why a shock well we don't talk about why

36
00:01:20,939 --> 00:01:24,240
a shark and it's appetite for memory

37
00:01:24,240 --> 00:01:26,580
um so yeah I love packets I also love

38
00:01:26,580 --> 00:01:28,619
doing things on the command line maybe

39
00:01:28,619 --> 00:01:30,720
that is because I've been using Unix

40
00:01:30,720 --> 00:01:33,479
also for about 30 to something years

41
00:01:33,479 --> 00:01:35,280
um and I haven't got out the bad habits

42
00:01:35,280 --> 00:01:37,500
of like reaching for GUI tools that they

43
00:01:37,500 --> 00:01:39,299
I just can't do it if I need to do

44
00:01:39,299 --> 00:01:41,040
something well there's bash they said

45
00:01:41,040 --> 00:01:43,439
there's Oak I think I've really sort of

46
00:01:43,439 --> 00:01:45,240
extended my viewpoint to Preparing this

47
00:01:45,240 --> 00:01:46,619
talk I've played with some new

48
00:01:46,619 --> 00:01:49,500
technologies like JQ and Json

49
00:01:49,500 --> 00:01:51,899
um most of all I love all things open

50
00:01:51,899 --> 00:01:53,939
source but particularly open source

51
00:01:53,939 --> 00:01:56,100
related things to networks the

52
00:01:56,100 --> 00:01:57,600
background there's a tool that built

53
00:01:57,600 --> 00:01:59,880
with some students a few years ago based

54
00:01:59,880 --> 00:02:01,560
on the so-called spinning cube of Doom

55
00:02:01,560 --> 00:02:04,079
it's a really nice 3D tool you feed it

56
00:02:04,079 --> 00:02:05,640
packets that draws pretty pictures of

57
00:02:05,640 --> 00:02:08,459
what's happening in real time for those

58
00:02:08,459 --> 00:02:10,440
of you that did take a a gander at

59
00:02:10,440 --> 00:02:12,720
reading my bio and wondered what murder

60
00:02:12,720 --> 00:02:15,480
iconology is it's the study and

61
00:02:15,480 --> 00:02:18,720
collection of wooden woodworking planes

62
00:02:18,720 --> 00:02:20,760
all right enough about me

63
00:02:20,760 --> 00:02:24,120
why do we need to care about DNS and I'm

64
00:02:24,120 --> 00:02:25,620
sure many of you have come across this

65
00:02:25,620 --> 00:02:28,800
Haiku it was not DNS there's no way it

66
00:02:28,800 --> 00:02:31,500
was DNS it was DNS

67
00:02:31,500 --> 00:02:33,540
um it really this has been reinforced

68
00:02:33,540 --> 00:02:36,120
years of sort of working through and

69
00:02:36,120 --> 00:02:38,640
debugging and troubleshooting networks

70
00:02:38,640 --> 00:02:40,260
both from an operational perspective as

71
00:02:40,260 --> 00:02:42,120
well as looking some of the security

72
00:02:42,120 --> 00:02:45,480
aspects is DNS is a really underloved

73
00:02:45,480 --> 00:02:47,160
protocol everyone just assumes it's

74
00:02:47,160 --> 00:02:49,379
there and it works but there's a vast

75
00:02:49,379 --> 00:02:50,640
number of people that really don't

76
00:02:50,640 --> 00:02:52,980
actually understand how DNS works and

77
00:02:52,980 --> 00:02:54,360
that really is the first starting point

78
00:02:54,360 --> 00:02:57,120
where we can depart for this talk is DNS

79
00:02:57,120 --> 00:02:59,459
is critical infrastructure when DNS

80
00:02:59,459 --> 00:03:02,400
breaks all sorts of other things break

81
00:03:02,400 --> 00:03:04,200
I had to talk before lunch talking about

82
00:03:04,200 --> 00:03:06,900
failover systems and high availability a

83
00:03:06,900 --> 00:03:10,080
lot of that still today relies on

84
00:03:10,080 --> 00:03:12,840
the operation of DNS

85
00:03:12,840 --> 00:03:15,480
so this is why we're looking at DNS the

86
00:03:15,480 --> 00:03:17,159
entire takeaway and you want to go to

87
00:03:17,159 --> 00:03:19,860
sleep after the slide just take note of

88
00:03:19,860 --> 00:03:22,500
there things break badly when DNS goes

89
00:03:22,500 --> 00:03:23,640
wrong

90
00:03:23,640 --> 00:03:25,140
so the first thing we need to do is talk

91
00:03:25,140 --> 00:03:27,000
about DNS resiliency

92
00:03:27,000 --> 00:03:29,580
um it's almost a miracle the DNS like so

93
00:03:29,580 --> 00:03:30,840
many of the other protocols on the

94
00:03:30,840 --> 00:03:32,459
internet actually still works today it

95
00:03:32,459 --> 00:03:34,500
was conceived

96
00:03:34,500 --> 00:03:36,780
in the Galaxy long long ago and far far

97
00:03:36,780 --> 00:03:39,000
away the fact that we still have TCP

98
00:03:39,000 --> 00:03:41,459
that functions on multi-gigabit networks

99
00:03:41,459 --> 00:03:45,000
designed in the late 1970s DNS is a

100
00:03:45,000 --> 00:03:46,980
little bit younger than that but DNS

101
00:03:46,980 --> 00:03:49,260
resiliency really is an important part

102
00:03:49,260 --> 00:03:52,319
of the internet today everybody expects

103
00:03:52,319 --> 00:03:54,720
it to be there everything else is built

104
00:03:54,720 --> 00:03:56,280
on the fact that you can do something

105
00:03:56,280 --> 00:03:59,099
via DNS right away when you go and start

106
00:03:59,099 --> 00:04:00,659
looking in your web browser the very

107
00:04:00,659 --> 00:04:02,280
first thing it does when loads of sites

108
00:04:02,280 --> 00:04:05,099
it says hey is the SSL certificate yes I

109
00:04:05,099 --> 00:04:08,099
know it's a TLS we use these days but I

110
00:04:08,099 --> 00:04:10,379
was around in the days of SSL and mice

111
00:04:10,379 --> 00:04:12,900
that had balls in them

112
00:04:12,900 --> 00:04:14,519
so the very first thing your browser

113
00:04:14,519 --> 00:04:17,899
does is say does the cname in the the

114
00:04:17,899 --> 00:04:21,779
x509 certificate match the DNS name one

115
00:04:21,779 --> 00:04:23,699
of the very first sort of classes of

116
00:04:23,699 --> 00:04:25,320
attack against encrypted Communications

117
00:04:25,320 --> 00:04:27,720
was hey if we can spoof DNS we can do

118
00:04:27,720 --> 00:04:29,040
whatever we want with the crypto

119
00:04:29,040 --> 00:04:30,180
certificates

120
00:04:30,180 --> 00:04:32,160
well it's got a lot better but it fell

121
00:04:32,160 --> 00:04:33,900
apart because there was the Reliance the

122
00:04:33,900 --> 00:04:35,820
DNS was going to be there to save the

123
00:04:35,820 --> 00:04:36,540
day

124
00:04:36,540 --> 00:04:38,340
the early days of of sort of high

125
00:04:38,340 --> 00:04:40,320
performance networking you looked at DNS

126
00:04:40,320 --> 00:04:42,180
for doing your round robin for doing

127
00:04:42,180 --> 00:04:44,520
your load balancing for doing sharing of

128
00:04:44,520 --> 00:04:47,460
work or being quite crudely but it

129
00:04:47,460 --> 00:04:50,040
worked there was the the entire Reliance

130
00:04:50,040 --> 00:04:52,139
was DNS would be there and would be able

131
00:04:52,139 --> 00:04:55,139
to catch but so little time is spent and

132
00:04:55,139 --> 00:04:56,759
if you look at curriculums at

133
00:04:56,759 --> 00:04:58,199
universities that I'm talking sort of

134
00:04:58,199 --> 00:04:59,340
from undergraduate through to

135
00:04:59,340 --> 00:05:01,740
postgraduate level in most networking

136
00:05:01,740 --> 00:05:03,960
curriculums DNS is just a footnote hey

137
00:05:03,960 --> 00:05:06,479
DNS is something that takes it takes a

138
00:05:06,479 --> 00:05:08,820
human readable name and turns it into an

139
00:05:08,820 --> 00:05:10,800
IP address so a computer can use and

140
00:05:10,800 --> 00:05:12,419
there's very seldom is there anything

141
00:05:12,419 --> 00:05:15,060
really much further

142
00:05:15,060 --> 00:05:16,919
so there's a number of well-established

143
00:05:16,919 --> 00:05:19,020
practices relating to DNS the first of

144
00:05:19,020 --> 00:05:21,780
these is diversification don't have your

145
00:05:21,780 --> 00:05:24,180
DNS servers for your domain on dot seven

146
00:05:24,180 --> 00:05:26,060
and Dot eight within your network block

147
00:05:26,060 --> 00:05:28,560
Works remarkably well but what happens

148
00:05:28,560 --> 00:05:30,840
when your network block goes down

149
00:05:30,840 --> 00:05:32,100
um the worst I've seen is don't have

150
00:05:32,100 --> 00:05:33,900
your two DNS servers sitting on the same

151
00:05:33,900 --> 00:05:36,960
hypervisor your hypervisor goes down DNS

152
00:05:36,960 --> 00:05:39,960
breaks so the and these recommendations

153
00:05:39,960 --> 00:05:42,000
are nothing new it's a you should have

154
00:05:42,000 --> 00:05:43,860
your two DNS servers geographically

155
00:05:43,860 --> 00:05:45,539
separated you should have your DNS

156
00:05:45,539 --> 00:05:47,300
servers on separate

157
00:05:47,300 --> 00:05:50,699
asns separate ipv4 blocks that's how you

158
00:05:50,699 --> 00:05:52,560
go about building resilience and I think

159
00:05:52,560 --> 00:05:54,660
it's important to say that

160
00:05:54,660 --> 00:05:55,919
a lot of what I'm going to be talking

161
00:05:55,919 --> 00:05:57,780
about in the next couple of slides there

162
00:05:57,780 --> 00:05:59,460
are operators out there that have

163
00:05:59,460 --> 00:06:01,440
implemented this kind of resilience this

164
00:06:01,440 --> 00:06:02,940
is not by no means sort of a slight

165
00:06:02,940 --> 00:06:06,060
against all DNS operators out there but

166
00:06:06,060 --> 00:06:07,680
by the same counter they are very small

167
00:06:07,680 --> 00:06:09,240
group that have implemented these kind

168
00:06:09,240 --> 00:06:10,860
of good protections there's a very large

169
00:06:10,860 --> 00:06:12,660
group that has either ignored them

170
00:06:12,660 --> 00:06:14,460
completely or has no idea what's going

171
00:06:14,460 --> 00:06:16,560
on and we'll look at some of those cases

172
00:06:16,560 --> 00:06:18,479
a little bit later on there's the

173
00:06:18,479 --> 00:06:21,240
classic bind operators guide I think if

174
00:06:21,240 --> 00:06:22,560
a lot more people read this and

175
00:06:22,560 --> 00:06:25,440
understood it no matter what DNS server

176
00:06:25,440 --> 00:06:27,600
you're actually using the principles and

177
00:06:27,600 --> 00:06:29,479
the advice that are provided in the Bog

178
00:06:29,479 --> 00:06:31,860
are really really good

179
00:06:31,860 --> 00:06:34,620
so at the end of the day DNS is really

180
00:06:34,620 --> 00:06:35,759
important

181
00:06:35,759 --> 00:06:37,259
and here let me get the disclaimer out

182
00:06:37,259 --> 00:06:38,100
the way

183
00:06:38,100 --> 00:06:38,759
um

184
00:06:38,759 --> 00:06:39,840
what I'm going to be talking about

185
00:06:39,840 --> 00:06:41,900
following on results are imperfect

186
00:06:41,900 --> 00:06:44,280
unfortunately nobody's been kind enough

187
00:06:44,280 --> 00:06:46,020
to hand over the DNS records for the

188
00:06:46,020 --> 00:06:48,000
whole world so I've had to effectively

189
00:06:48,000 --> 00:06:50,100
reverse engineer how a lot of DNS is

190
00:06:50,100 --> 00:06:52,800
actually working so going on the basis

191
00:06:52,800 --> 00:06:55,080
that we've got imperfect data to start

192
00:06:55,080 --> 00:06:56,759
with but doesn't mean it's necessarily

193
00:06:56,759 --> 00:06:58,979
bad it does mean that I'm painting with

194
00:06:58,979 --> 00:07:01,319
fairly broad Strokes as it comes to the

195
00:07:01,319 --> 00:07:05,340
conclusions that are being arrived at

196
00:07:05,340 --> 00:07:07,740
as I started going through the material

197
00:07:07,740 --> 00:07:09,780
and started digging I I got more and

198
00:07:09,780 --> 00:07:11,819
more scared it's actually for something

199
00:07:11,819 --> 00:07:13,319
that is so critical

200
00:07:13,319 --> 00:07:15,300
it's remarkably fragile when you start

201
00:07:15,300 --> 00:07:16,860
digging into what the actual DNS

202
00:07:16,860 --> 00:07:19,440
infrastructure looks like globally and

203
00:07:19,440 --> 00:07:22,380
at a national level so I've taken the

204
00:07:22,380 --> 00:07:24,900
decision there are no IP addresses no

205
00:07:24,900 --> 00:07:28,380
specific domains listed here protect the

206
00:07:28,380 --> 00:07:30,240
potentially vulnerable um it's probably

207
00:07:30,240 --> 00:07:31,680
it's good practice

208
00:07:31,680 --> 00:07:34,259
the at the same time this is not just

209
00:07:34,259 --> 00:07:36,599
one snapshot in time it's about six

210
00:07:36,599 --> 00:07:38,460
months total time being worked on this

211
00:07:38,460 --> 00:07:39,720
and I've been taking snapshots

212
00:07:39,720 --> 00:07:42,180
periodically

213
00:07:42,180 --> 00:07:43,800
the more worrying thing is that nothing

214
00:07:43,800 --> 00:07:45,539
really changes

215
00:07:45,539 --> 00:07:47,580
um so a couple of domains have resolved

216
00:07:47,580 --> 00:07:49,440
in one round of some some and have not

217
00:07:49,440 --> 00:07:51,180
in the other rounds but repainting in

218
00:07:51,180 --> 00:07:52,860
Broad Strokes has been no substantive

219
00:07:52,860 --> 00:07:54,180
change

220
00:07:54,180 --> 00:07:56,520
um in the data and then just really

221
00:07:56,520 --> 00:07:58,380
recognizing the flow of the evaluation

222
00:07:58,380 --> 00:08:00,780
itself in terms of we had imperfect data

223
00:08:00,780 --> 00:08:03,479
so we can't say that this is the fact

224
00:08:03,479 --> 00:08:06,000
that is the definitive results but

225
00:08:06,000 --> 00:08:08,819
rather this is a case of saying hey this

226
00:08:08,819 --> 00:08:09,960
is something we need to start talking

227
00:08:09,960 --> 00:08:11,160
about there's something we need to think

228
00:08:11,160 --> 00:08:12,240
about

229
00:08:12,240 --> 00:08:14,340
um and then the lastly interpretation in

230
00:08:14,340 --> 00:08:16,259
the views of my own keep everyone else

231
00:08:16,259 --> 00:08:18,599
happy about that all right so on to the

232
00:08:18,599 --> 00:08:20,099
far more interesting what was the actual

233
00:08:20,099 --> 00:08:22,620
experiment this actually was sparked

234
00:08:22,620 --> 00:08:24,000
about two years ago in the middle of

235
00:08:24,000 --> 00:08:26,400
covert I was doing some work with some

236
00:08:26,400 --> 00:08:28,080
final year students we were doing an

237
00:08:28,080 --> 00:08:31,139
enumeration of the Norwegian top-level

238
00:08:31,139 --> 00:08:32,159
domain

239
00:08:32,159 --> 00:08:34,200
effectively looking at what is the

240
00:08:34,200 --> 00:08:37,440
uptake of DNS sick the plus side really

241
00:08:37,440 --> 00:08:39,299
really good in Norway largely because

242
00:08:39,299 --> 00:08:42,059
the biggest registrar turns being sick

243
00:08:42,059 --> 00:08:44,580
on by default and with something like 67

244
00:08:44,580 --> 00:08:48,779
or 80 for certain sectors of the um

245
00:08:48,779 --> 00:08:50,580
the main space that we actually surveyed

246
00:08:50,580 --> 00:08:52,380
but after that came the question really

247
00:08:52,380 --> 00:08:55,800
of how diverse are country code top

248
00:08:55,800 --> 00:08:58,620
level domains are

249
00:08:58,620 --> 00:09:01,019
people registering domains outside of

250
00:09:01,019 --> 00:09:04,080
the.com org net Etc are they actually

251
00:09:04,080 --> 00:09:06,899
paying attention to the guidelines the

252
00:09:06,899 --> 00:09:10,019
recommendations that actually come about

253
00:09:10,019 --> 00:09:11,880
um as regarding how we should operate

254
00:09:11,880 --> 00:09:14,700
DNS what and then from that what is the

255
00:09:14,700 --> 00:09:16,740
proportion of DNA servers

256
00:09:16,740 --> 00:09:19,260
say for Belgium that actually reside in

257
00:09:19,260 --> 00:09:21,300
Belgium and I've looked at this for a

258
00:09:21,300 --> 00:09:22,680
number of other countries and this was

259
00:09:22,680 --> 00:09:24,180
really triggered

260
00:09:24,180 --> 00:09:26,880
um by what happened in February

261
00:09:26,880 --> 00:09:29,640
and starting to say well is DNS we

262
00:09:29,640 --> 00:09:31,019
talked about as critical infrastructure

263
00:09:31,019 --> 00:09:32,220
in terms of it's important for the

264
00:09:32,220 --> 00:09:34,380
internet to actually exist but how does

265
00:09:34,380 --> 00:09:36,899
it actually go about impacting when we

266
00:09:36,899 --> 00:09:39,120
have a state of War as with the the

267
00:09:39,120 --> 00:09:41,820
conflict going on in the Ukraine and I

268
00:09:41,820 --> 00:09:43,380
did some scrabbling around at that point

269
00:09:43,380 --> 00:09:45,720
and started trying to get together what

270
00:09:45,720 --> 00:09:47,459
can I find in terms of Russian domains

271
00:09:47,459 --> 00:09:49,080
and we'll talk about about that a little

272
00:09:49,080 --> 00:09:51,300
bit later on but that sort of just

273
00:09:51,300 --> 00:09:53,760
started I started chasing on the rabbit

274
00:09:53,760 --> 00:09:55,860
hole and along the way I ended up

275
00:09:55,860 --> 00:09:57,540
collecting a huge amount of data so

276
00:09:57,540 --> 00:09:59,580
while I've started off saying well where

277
00:09:59,580 --> 00:10:02,399
did the the name servers actually lie I

278
00:10:02,399 --> 00:10:05,160
ended up having a look at sort of bits

279
00:10:05,160 --> 00:10:06,480
of information that came out as a side

280
00:10:06,480 --> 00:10:08,880
effect of the crawling operations that I

281
00:10:08,880 --> 00:10:11,040
built effectively looking at how how

282
00:10:11,040 --> 00:10:13,740
much is DNA SEC actually implemented and

283
00:10:13,740 --> 00:10:16,140
as a sort of extension to DNS that has

284
00:10:16,140 --> 00:10:18,300
been around for quite some time now and

285
00:10:18,300 --> 00:10:21,360
then compare and contrast that with the

286
00:10:21,360 --> 00:10:22,980
CAA record or the certification

287
00:10:22,980 --> 00:10:25,320
Authority record where you will talk

288
00:10:25,320 --> 00:10:26,279
about that a little bit later but

289
00:10:26,279 --> 00:10:28,019
effectively saying these are the people

290
00:10:28,019 --> 00:10:29,820
that are allowed to issue certificates

291
00:10:29,820 --> 00:10:31,380
to me

292
00:10:31,380 --> 00:10:33,839
so if we go back to the Ukrainian

293
00:10:33,839 --> 00:10:35,519
conflict

294
00:10:35,519 --> 00:10:38,820
um February 24th massive sanctions come

295
00:10:38,820 --> 00:10:40,800
into place one of the interesting things

296
00:10:40,800 --> 00:10:42,120
that came out as the Russian government

297
00:10:42,120 --> 00:10:43,620
said

298
00:10:43,620 --> 00:10:46,440
relocate your DNS back inside Russia

299
00:10:46,440 --> 00:10:48,600
there was the potential expectation of a

300
00:10:48,600 --> 00:10:51,360
global isolation and cutoff of the

301
00:10:51,360 --> 00:10:53,339
Russian internet which is an interesting

302
00:10:53,339 --> 00:10:55,079
thing in its own right given that Russia

303
00:10:55,079 --> 00:10:56,579
did exactly the same a couple of years

304
00:10:56,579 --> 00:10:58,440
ago they had a national experiment

305
00:10:58,440 --> 00:11:00,300
isolating themselves from the global

306
00:11:00,300 --> 00:11:02,880
internet effectively to see what broke

307
00:11:02,880 --> 00:11:06,060
so while not completely driven by this I

308
00:11:06,060 --> 00:11:07,079
think this is something we need to keep

309
00:11:07,079 --> 00:11:08,339
in the back of our mind and we'll

310
00:11:08,339 --> 00:11:10,740
revisit some more recent events towards

311
00:11:10,740 --> 00:11:12,779
the end of this so how did I go about

312
00:11:12,779 --> 00:11:14,399
Gathering data

313
00:11:14,399 --> 00:11:16,320
and the first trick was where do we

314
00:11:16,320 --> 00:11:17,279
actually begin this sounds like

315
00:11:17,279 --> 00:11:19,380
something really interesting to do but

316
00:11:19,380 --> 00:11:20,940
unsurprisingly

317
00:11:20,940 --> 00:11:23,160
National registrars are not exactly

318
00:11:23,160 --> 00:11:25,200
happy to say hey here's our entire Zone

319
00:11:25,200 --> 00:11:28,500
file have a go at it if we could do that

320
00:11:28,500 --> 00:11:30,720
it'd be really easy it would have saved

321
00:11:30,720 --> 00:11:32,880
a lot of processing time having to

322
00:11:32,880 --> 00:11:34,399
reverse engineer it

323
00:11:34,399 --> 00:11:37,079
back in the old days of the internet a

324
00:11:37,079 --> 00:11:38,820
very very long time ago if you went to

325
00:11:38,820 --> 00:11:40,680
the Zone file you just issue an ax for

326
00:11:40,680 --> 00:11:42,420
command and the name servers would

327
00:11:42,420 --> 00:11:44,760
happily serve a Zone file up to you that

328
00:11:44,760 --> 00:11:46,620
doesn't work these days except for the

329
00:11:46,620 --> 00:11:48,300
Russian domain a couple of years ago

330
00:11:48,300 --> 00:11:51,180
somebody managed to do that so this

331
00:11:51,180 --> 00:11:52,740
whole process of going about an active

332
00:11:52,740 --> 00:11:54,660
finding domain lists turned out to be a

333
00:11:54,660 --> 00:11:58,680
lot harder than initially expected so I

334
00:11:58,680 --> 00:11:59,940
can't actually even remember all the

335
00:11:59,940 --> 00:12:01,740
places I gathered them from I told some

336
00:12:01,740 --> 00:12:04,500
of GitHub I trolled some off dumps that

337
00:12:04,500 --> 00:12:06,600
had been done I found others where

338
00:12:06,600 --> 00:12:08,880
people had pulled the list by scraping

339
00:12:08,880 --> 00:12:11,399
web pages and so this goes into where

340
00:12:11,399 --> 00:12:14,100
it's and clearly acknowledging that the

341
00:12:14,100 --> 00:12:15,839
data that we worked with is imperfect

342
00:12:15,839 --> 00:12:18,779
but it's representative at the end of

343
00:12:18,779 --> 00:12:20,700
the day I've got around about 10 million

344
00:12:20,700 --> 00:12:23,160
domains that have been looked at so by

345
00:12:23,160 --> 00:12:25,140
statistical purposes it's significant

346
00:12:25,140 --> 00:12:28,200
enough to start drawing some conclusions

347
00:12:28,200 --> 00:12:29,760
one of the challenges with this was

348
00:12:29,760 --> 00:12:31,800
trying to work out the difference a host

349
00:12:31,800 --> 00:12:33,720
name is not the same as a domain name it

350
00:12:33,720 --> 00:12:36,120
can be but it isn't necessary and so how

351
00:12:36,120 --> 00:12:37,500
do we go about where you've got lists

352
00:12:37,500 --> 00:12:38,640
and lists of names how do you go about

353
00:12:38,640 --> 00:12:41,100
reducing them and there's two sort of

354
00:12:41,100 --> 00:12:43,680
large groupings of the analysis that

355
00:12:43,680 --> 00:12:45,959
this was broken down into based on how

356
00:12:45,959 --> 00:12:48,180
we go about being able to simplify these

357
00:12:48,180 --> 00:12:51,240
lists the country code top level domains

358
00:12:51,240 --> 00:12:52,920
have some very very different ways of

359
00:12:52,920 --> 00:12:55,740
approaching things three of the examples

360
00:12:55,740 --> 00:12:57,420
that we look at are the Za domain for

361
00:12:57,420 --> 00:13:00,240
South Africa Au for Australia and UK

362
00:13:00,240 --> 00:13:02,880
they have a very clearly structured

363
00:13:02,880 --> 00:13:04,880
second level

364
00:13:04,880 --> 00:13:07,920
within the country code domains whereas

365
00:13:07,920 --> 00:13:10,320
countries like Russia Belgium Norway

366
00:13:10,320 --> 00:13:11,880
they don't it's a pretty much a

367
00:13:11,880 --> 00:13:12,920
free-for-all

368
00:13:12,920 --> 00:13:15,660
everything's very much flat under the

369
00:13:15,660 --> 00:13:17,459
say for example

370
00:13:17,459 --> 00:13:18,839
um dot Eno

371
00:13:18,839 --> 00:13:20,459
what was interesting is pretty much

372
00:13:20,459 --> 00:13:22,560
across the board as I went through

373
00:13:22,560 --> 00:13:23,820
iterating through it was around about

374
00:13:23,820 --> 00:13:26,160
eight percent of the queries would come

375
00:13:26,160 --> 00:13:28,740
back reliably saying NX domain no such

376
00:13:28,740 --> 00:13:30,060
domain in other words the domain had

377
00:13:30,060 --> 00:13:32,459
expired and this is not unexpected it

378
00:13:32,459 --> 00:13:35,339
just shows that there is a a churn

379
00:13:35,339 --> 00:13:35,940
um

380
00:13:35,940 --> 00:13:37,800
of domains

381
00:13:37,800 --> 00:13:41,160
overall less than one percent of domains

382
00:13:41,160 --> 00:13:43,440
existed between either timing out or

383
00:13:43,440 --> 00:13:45,839
refused after a couple of runs and this

384
00:13:45,839 --> 00:13:47,040
was an important thing as well as one

385
00:13:47,040 --> 00:13:49,260
can't just take one snapshot you don't

386
00:13:49,260 --> 00:13:50,760
know what else is happening out on the

387
00:13:50,760 --> 00:13:52,320
internet so you need to take if

388
00:13:52,320 --> 00:13:53,579
something fails you put it in another

389
00:13:53,579 --> 00:13:56,820
list and you retry it sometime later on

390
00:13:56,820 --> 00:13:59,100
but effectively have run this over a

391
00:13:59,100 --> 00:14:01,380
couple of months and have largely

392
00:14:01,380 --> 00:14:04,680
averaged and aggregated out the data so

393
00:14:04,680 --> 00:14:06,420
what did we actually look for so we

394
00:14:06,420 --> 00:14:08,880
looked at a couple of country domains as

395
00:14:08,880 --> 00:14:12,060
I said the Norway Belgium and Russia as

396
00:14:12,060 --> 00:14:13,740
just a selection of domains Belgium

397
00:14:13,740 --> 00:14:15,420
because we hear Norway because I lived

398
00:14:15,420 --> 00:14:17,339
there and Russia hate well that's an

399
00:14:17,339 --> 00:14:18,600
interesting domain to look at at the

400
00:14:18,600 --> 00:14:21,180
time comparing and contrasting that with

401
00:14:21,180 --> 00:14:23,339
some of the others and these are largely

402
00:14:23,339 --> 00:14:25,740
charged because they are that much more

403
00:14:25,740 --> 00:14:27,000
structured in terms of their second

404
00:14:27,000 --> 00:14:27,959
level

405
00:14:27,959 --> 00:14:32,839
ordering the UK we used code.uk

406
00:14:33,000 --> 00:14:35,760
um australia.com.au and South Africa CO2

407
00:14:35,760 --> 00:14:36,959
today

408
00:14:36,959 --> 00:14:38,720
um but just because they were large

409
00:14:38,720 --> 00:14:42,120
pools but still manageable when one

410
00:14:42,120 --> 00:14:43,500
starts looking at the whole of the UK

411
00:14:43,500 --> 00:14:45,720
domain it actually gets really big I

412
00:14:45,720 --> 00:14:47,880
think the UK the code at UK was about

413
00:14:47,880 --> 00:14:49,320
four and a half million domains are

414
00:14:49,320 --> 00:14:51,779
starting off with about 18 million host

415
00:14:51,779 --> 00:14:53,459
names that needed to get parsed down

416
00:14:53,459 --> 00:14:55,139
through it and then I've complemented

417
00:14:55,139 --> 00:14:56,459
this with the so-called Majestic

418
00:14:56,459 --> 00:14:58,199
Millions so the

419
00:14:58,199 --> 00:15:00,779
so-called top million domain names on

420
00:15:00,779 --> 00:15:02,940
the internet and that's a fairly scary

421
00:15:02,940 --> 00:15:05,820
set of findings in its own right but

422
00:15:05,820 --> 00:15:07,019
some of the interesting things that came

423
00:15:07,019 --> 00:15:08,760
up with the processing is number of

424
00:15:08,760 --> 00:15:11,339
timeouts very surprising the number of

425
00:15:11,339 --> 00:15:14,160
RFC 1918 addresses that were exposed in

426
00:15:14,160 --> 00:15:15,360
the global internet when you start

427
00:15:15,360 --> 00:15:17,660
digging through who are name servers

428
00:15:17,660 --> 00:15:20,040
this just shouldn't be happening these

429
00:15:20,040 --> 00:15:22,079
days and people have known about this

430
00:15:22,079 --> 00:15:23,339
for years but it was an interesting

431
00:15:23,339 --> 00:15:25,500
thing and largely those correlate quite

432
00:15:25,500 --> 00:15:27,420
nicely to why domains were actually

433
00:15:27,420 --> 00:15:28,620
timing out

434
00:15:28,620 --> 00:15:31,440
and then overall refuse connections was

435
00:15:31,440 --> 00:15:33,120
really really small once I actually

436
00:15:33,120 --> 00:15:35,699
factored it all out so to put some

437
00:15:35,699 --> 00:15:37,380
numbers to it this is around about 10

438
00:15:37,380 --> 00:15:40,079
million domains to actually looked at

439
00:15:40,079 --> 00:15:42,480
um broken down there Russia is by far

440
00:15:42,480 --> 00:15:45,060
the smallest the Russian list I had a

441
00:15:45,060 --> 00:15:48,480
huge number of domains however that it

442
00:15:48,480 --> 00:15:51,060
stood out in terms of there being a very

443
00:15:51,060 --> 00:15:52,440
large number of them but either just

444
00:15:52,440 --> 00:15:54,899
timed out or refused connections but

445
00:15:54,899 --> 00:15:56,399
most of the Russian collection actually

446
00:15:56,399 --> 00:15:59,579
only happened from June onwards so one

447
00:15:59,579 --> 00:16:01,380
sort of sanctions that had things had

448
00:16:01,380 --> 00:16:03,720
really escalated there so a couple of

449
00:16:03,720 --> 00:16:05,639
caveats we need to bear in mind this

450
00:16:05,639 --> 00:16:07,199
data is volatile if you do a collection

451
00:16:07,199 --> 00:16:09,540
now you do a collection next week you're

452
00:16:09,540 --> 00:16:11,160
probably going to get different answers

453
00:16:11,160 --> 00:16:14,160
because people update domains people

454
00:16:14,160 --> 00:16:17,220
um infrastructure goes up down Etc and

455
00:16:17,220 --> 00:16:18,720
through the process of this I actually

456
00:16:18,720 --> 00:16:20,339
just kept falling deep and deep into

457
00:16:20,339 --> 00:16:21,899
this Rabbit Hole I've ended up with far

458
00:16:21,899 --> 00:16:23,220
more data than I could actually talk

459
00:16:23,220 --> 00:16:25,139
about in a week standing up and

460
00:16:25,139 --> 00:16:26,760
exploring it so it's been a lot of it is

461
00:16:26,760 --> 00:16:29,040
about how to go about sort of condensing

462
00:16:29,040 --> 00:16:31,380
this down and to sort of sum it up we've

463
00:16:31,380 --> 00:16:33,779
looked at 10 million domain names which

464
00:16:33,779 --> 00:16:38,220
span around 320 000 individual domain

465
00:16:38,220 --> 00:16:40,860
name servers or DNS servers and so the

466
00:16:40,860 --> 00:16:43,620
question is well the statistics and so

467
00:16:43,620 --> 00:16:45,120
we'll flag the with the quote that's

468
00:16:45,120 --> 00:16:47,160
attributed to Mark Twain there's three

469
00:16:47,160 --> 00:16:50,160
kinds of Statistics lies damn lies and

470
00:16:50,160 --> 00:16:52,199
statistics and to make it even worse the

471
00:16:52,199 --> 00:16:53,699
same quote is actually generally

472
00:16:53,699 --> 00:16:55,860
attributed to Benjamin's Israeli as well

473
00:16:55,860 --> 00:16:57,779
also saying lies damn lies and

474
00:16:57,779 --> 00:17:00,480
statistics so is it really a lie but

475
00:17:00,480 --> 00:17:02,759
just bear in mind that this is you can

476
00:17:02,759 --> 00:17:04,919
dress statistics up to be whatever you

477
00:17:04,919 --> 00:17:06,599
actually want and that's really the gist

478
00:17:06,599 --> 00:17:07,740
of a quote

479
00:17:07,740 --> 00:17:09,480
so the question really is about data

480
00:17:09,480 --> 00:17:11,579
quality just because we don't have

481
00:17:11,579 --> 00:17:14,160
perfect data is this not worth looking

482
00:17:14,160 --> 00:17:16,260
at what conclusions can we actually draw

483
00:17:16,260 --> 00:17:19,500
from it and really is incomplete data

484
00:17:19,500 --> 00:17:21,959
bad data and how does it compare to no

485
00:17:21,959 --> 00:17:24,000
data at all and then the second one is

486
00:17:24,000 --> 00:17:25,380
that it's the approach I took saying

487
00:17:25,380 --> 00:17:27,839
there's nothing out there I have spent a

488
00:17:27,839 --> 00:17:29,940
long time searching sort of

489
00:17:29,940 --> 00:17:32,280
industry talks like this I've spent time

490
00:17:32,280 --> 00:17:34,020
controlling through academic journals

491
00:17:34,020 --> 00:17:36,360
and conferences no one's done this kind

492
00:17:36,360 --> 00:17:39,840
of large-scale survey and so I'm going

493
00:17:39,840 --> 00:17:42,120
with the approach of an incomplete data

494
00:17:42,120 --> 00:17:44,700
is better than no data at all

495
00:17:44,700 --> 00:17:46,080
so how do that go about doing the

496
00:17:46,080 --> 00:17:48,299
processing a lot of it boiled down to

497
00:17:48,299 --> 00:17:49,799
cleaning cleaning cleaning and more

498
00:17:49,799 --> 00:17:51,120
cleaning any of you that have worked

499
00:17:51,120 --> 00:17:53,280
with any kind of real world data are

500
00:17:53,280 --> 00:17:55,799
probably painfully aware that real world

501
00:17:55,799 --> 00:17:58,200
data is never what it actually looks to

502
00:17:58,200 --> 00:18:00,179
be in terms of there's always a weird

503
00:18:00,179 --> 00:18:02,460
letter there's a weird character

504
00:18:02,460 --> 00:18:04,740
there's some separator like a semicolon

505
00:18:04,740 --> 00:18:07,799
you're quite surprising semicolon is not

506
00:18:07,799 --> 00:18:10,740
a valid character in a domain name yet

507
00:18:10,740 --> 00:18:12,360
there were hosts returned that had a

508
00:18:12,360 --> 00:18:14,160
semicolon in the middle of their

509
00:18:14,160 --> 00:18:15,840
hostname don't ask me how that happened

510
00:18:15,840 --> 00:18:18,120
but they there it doesn't factor and of

511
00:18:18,120 --> 00:18:19,500
course when you're splitting and

512
00:18:19,500 --> 00:18:21,179
breaking data based on those kind of

513
00:18:21,179 --> 00:18:24,840
field separators things go badly wrong

514
00:18:24,840 --> 00:18:26,580
so my first approach is this is going to

515
00:18:26,580 --> 00:18:29,520
be easy I'll whip out bash bash for Loop

516
00:18:29,520 --> 00:18:31,919
had a list of domains and I fired it

517
00:18:31,919 --> 00:18:32,640
away

518
00:18:32,640 --> 00:18:35,520
well it took about three days to do one

519
00:18:35,520 --> 00:18:38,700
set of queries on 600 000 domains this

520
00:18:38,700 --> 00:18:40,260
wasn't going to work very well when I

521
00:18:40,260 --> 00:18:42,539
needed to do a lot of these so I

522
00:18:42,539 --> 00:18:44,340
reluctantly went and I tried some python

523
00:18:44,340 --> 00:18:46,980
python was a lot better it was 18 hours

524
00:18:46,980 --> 00:18:49,200
but this felt very much like I was

525
00:18:49,200 --> 00:18:51,900
trying to reinvent a wheel and that's

526
00:18:51,900 --> 00:18:53,820
where I sort of remembered a long time

527
00:18:53,820 --> 00:18:56,520
ago said DNS that put together by the

528
00:18:56,520 --> 00:18:59,160
same team that produced zedmap amazingly

529
00:18:59,160 --> 00:19:01,980
fast scanner zdns does pretty much the

530
00:19:01,980 --> 00:19:03,720
same kind of things it's written in go

531
00:19:03,720 --> 00:19:07,400
very very fast massively multi-threaded

532
00:19:07,400 --> 00:19:10,679
solution for doing DNS queries

533
00:19:10,679 --> 00:19:12,419
first attempt

534
00:19:12,419 --> 00:19:16,380
got about 38 minutes for 600 000 domains

535
00:19:16,380 --> 00:19:19,679
moved on I've been about 42 minutes

536
00:19:19,679 --> 00:19:23,640
for a million domains 12 minutes for a

537
00:19:23,640 --> 00:19:26,039
million domains doing sort of the um the

538
00:19:26,039 --> 00:19:28,980
DNS set queries in about 30 minutes per

539
00:19:28,980 --> 00:19:31,799
million domains for doing CAA queries I

540
00:19:31,799 --> 00:19:33,780
think I could run it at least 10 times

541
00:19:33,780 --> 00:19:36,120
faster still provided a build out

542
00:19:36,120 --> 00:19:38,460
infrastructure what I was trying to

543
00:19:38,460 --> 00:19:40,140
avoid doing was having to build my

544
00:19:40,140 --> 00:19:42,419
entire own sort of parallel DNS

545
00:19:42,419 --> 00:19:44,700
resolution infrastructure but rather to

546
00:19:44,700 --> 00:19:46,020
try and do it in such a way that was

547
00:19:46,020 --> 00:19:48,539
also being very nice again being

548
00:19:48,539 --> 00:19:50,220
painfully aware I'm querying public

549
00:19:50,220 --> 00:19:52,559
servers how do I do it in such a way as

550
00:19:52,559 --> 00:19:54,660
to not have any kind of negative impact

551
00:19:54,660 --> 00:19:56,700
so I took a lot of guidelines from some

552
00:19:56,700 --> 00:19:58,020
of the stuff that Google's published for

553
00:19:58,020 --> 00:20:00,419
the public DNS generally kept query

554
00:20:00,419 --> 00:20:02,820
levels well below about 1500 queries per

555
00:20:02,820 --> 00:20:05,039
second what did make a difference was

556
00:20:05,039 --> 00:20:06,480
running some of my own caching

557
00:20:06,480 --> 00:20:08,460
infrastructure

558
00:20:08,460 --> 00:20:11,640
um spun up some VPS hosts and getting

559
00:20:11,640 --> 00:20:14,340
some decent sized caches in place and

560
00:20:14,340 --> 00:20:16,080
structuring the queries made things go a

561
00:20:16,080 --> 00:20:18,120
lot faster if you've just asked for the

562
00:20:18,120 --> 00:20:19,740
NS records for a host all that stuff

563
00:20:19,740 --> 00:20:22,380
sitting in memory you may as well go and

564
00:20:22,380 --> 00:20:24,000
while it's in memory go and ask the

565
00:20:24,000 --> 00:20:25,260
other questions you want to know about

566
00:20:25,260 --> 00:20:27,480
that domain it's going to save a whole

567
00:20:27,480 --> 00:20:29,160
number of lookups and doing those kind

568
00:20:29,160 --> 00:20:31,260
of things resulted in some fairly

569
00:20:31,260 --> 00:20:33,059
substantial speedups

570
00:20:33,059 --> 00:20:35,340
some of the challenges though

571
00:20:35,340 --> 00:20:36,480
um

572
00:20:36,480 --> 00:20:39,120
again raw input data not particularly

573
00:20:39,120 --> 00:20:39,919
clear

574
00:20:39,919 --> 00:20:43,440
we had expired domains absolute Upstream

575
00:20:43,440 --> 00:20:45,559
connectivity problems timeouts

576
00:20:45,559 --> 00:20:47,460
configuration errors I've mentioned

577
00:20:47,460 --> 00:20:50,340
already and we needed to go through as

578
00:20:50,340 --> 00:20:51,840
we're doing this keep a record of what

579
00:20:51,840 --> 00:20:54,000
succeeded and what didn't succeed and it

580
00:20:54,000 --> 00:20:55,740
was around about this time and with the

581
00:20:55,740 --> 00:20:57,120
transition to

582
00:20:57,120 --> 00:21:00,539
to zdns which outputs in a plain text

583
00:21:00,539 --> 00:21:03,120
format but structured text in excuse me

584
00:21:03,120 --> 00:21:04,799
in terms of being Json

585
00:21:04,799 --> 00:21:07,200
it made this a whole lot easier to

586
00:21:07,200 --> 00:21:09,000
actually go about doing and so it's

587
00:21:09,000 --> 00:21:10,440
worth mentioning what some of the tools

588
00:21:10,440 --> 00:21:12,960
were well bash was the PowerHouse

589
00:21:12,960 --> 00:21:15,240
um the nsh if I was running on some of

590
00:21:15,240 --> 00:21:16,799
the other machines

591
00:21:16,799 --> 00:21:19,080
um stead or all the common Unix command

592
00:21:19,080 --> 00:21:21,480
line tools why they're designed to work

593
00:21:21,480 --> 00:21:23,460
with data they're designed to work with

594
00:21:23,460 --> 00:21:25,679
plain textual data they're possibly not

595
00:21:25,679 --> 00:21:27,360
the fastest but they were the fastest in

596
00:21:27,360 --> 00:21:30,480
terms of development JQ a lot of credit

597
00:21:30,480 --> 00:21:32,340
needs to go to that being able to parse

598
00:21:32,340 --> 00:21:35,039
and work with the the Json files zdns

599
00:21:35,039 --> 00:21:37,620
for doing the resolution netcat was used

600
00:21:37,620 --> 00:21:39,419
for some various bits of testing as well

601
00:21:39,419 --> 00:21:41,640
as for sort of building some raw queries

602
00:21:41,640 --> 00:21:43,380
for doing who is um for doing something

603
00:21:43,380 --> 00:21:46,380
enrichment data for that particularly

604
00:21:46,380 --> 00:21:48,600
used the who is service but from Team

605
00:21:48,600 --> 00:21:50,820
simru I'm sure most of you are aware of

606
00:21:50,820 --> 00:21:53,340
that and then the ever present Max mine

607
00:21:53,340 --> 00:21:56,340
geolocation systems so use both of those

608
00:21:56,340 --> 00:21:58,740
for validating as numbers as well as

609
00:21:58,740 --> 00:22:00,659
sort of the country level geolocation

610
00:22:00,659 --> 00:22:03,480
and then match to my share my ended up

611
00:22:03,480 --> 00:22:04,799
having to use some spreadsheets just

612
00:22:04,799 --> 00:22:06,419
because I wanted to make sure I'd added

613
00:22:06,419 --> 00:22:09,240
things up properly sometimes or can said

614
00:22:09,240 --> 00:22:11,220
get a little bit confused about what's

615
00:22:11,220 --> 00:22:14,340
actually going on but all was good

616
00:22:14,340 --> 00:22:16,260
so the approach taken was largely

617
00:22:16,260 --> 00:22:18,299
accurate of going collect as much data

618
00:22:18,299 --> 00:22:20,640
as possible within reason bearing in

619
00:22:20,640 --> 00:22:22,200
mind I could could ask hundreds of

620
00:22:22,200 --> 00:22:23,640
queries but how do you do it in such a

621
00:22:23,640 --> 00:22:24,900
way that you're not creating a negative

622
00:22:24,900 --> 00:22:28,740
impact on the rest of of the ecosystem

623
00:22:28,740 --> 00:22:29,760
um

624
00:22:29,760 --> 00:22:31,940
batch collection helps with the caching

625
00:22:31,940 --> 00:22:34,140
scalability how do we do it you run it

626
00:22:34,140 --> 00:22:36,299
on multiple systems a lot of this was

627
00:22:36,299 --> 00:22:38,460
also run from multiple points without

628
00:22:38,460 --> 00:22:40,140
re-ran I didn't always rerun from the

629
00:22:40,140 --> 00:22:42,659
same IP address and there is some

630
00:22:42,659 --> 00:22:44,340
obvious skew that comes in place there

631
00:22:44,340 --> 00:22:46,980
where you have got large providers that

632
00:22:46,980 --> 00:22:49,159
are providing some kind of geolocated

633
00:22:49,159 --> 00:22:52,440
responses back but they seem to be very

634
00:22:52,440 --> 00:22:54,240
much in the minimal

635
00:22:54,240 --> 00:22:56,580
I work in about a 72-hour retry window

636
00:22:56,580 --> 00:22:59,100
for each run so I'll do the first run

637
00:22:59,100 --> 00:23:01,020
and within 72 hours I would have done

638
00:23:01,020 --> 00:23:03,179
subsequent runs through retrying

639
00:23:03,179 --> 00:23:05,280
anything that timed out refused or

640
00:23:05,280 --> 00:23:07,679
issued with server errors

641
00:23:07,679 --> 00:23:10,340
move the move to Json while very good

642
00:23:10,340 --> 00:23:12,900
also resulted in a massive problem I now

643
00:23:12,900 --> 00:23:16,200
had very very big files and some of the

644
00:23:16,200 --> 00:23:18,299
runs were coming back with sort of more

645
00:23:18,299 --> 00:23:20,340
than 10 gigs in size because Json is

646
00:23:20,340 --> 00:23:22,980
quite a chatty protocol and their DNS

647
00:23:22,980 --> 00:23:24,840
very kindly dumps a whole bunch of other

648
00:23:24,840 --> 00:23:27,179
information into the into the responses

649
00:23:27,179 --> 00:23:29,700
you didn't even ask for like TTL values

650
00:23:29,700 --> 00:23:32,880
SOA record numbers Etc which in

651
00:23:32,880 --> 00:23:34,559
hindsight was actually really nice to

652
00:23:34,559 --> 00:23:36,000
have and that actually opens up an

653
00:23:36,000 --> 00:23:38,039
entire now that I've got all this data I

654
00:23:38,039 --> 00:23:39,419
can go do another bunch of run through

655
00:23:39,419 --> 00:23:41,580
looking at that but

656
00:23:41,580 --> 00:23:43,320
it took a while to actually go about

657
00:23:43,320 --> 00:23:45,900
running through this fortunately JQ is

658
00:23:45,900 --> 00:23:48,120
really fast and on a modern machine with

659
00:23:48,120 --> 00:23:49,679
a little bit of tuning and some

660
00:23:49,679 --> 00:23:51,600
pre-filtering you're looking at probably

661
00:23:51,600 --> 00:23:54,299
10 to 15 minutes for a script to run

662
00:23:54,299 --> 00:23:56,520
through and process the resulting Json

663
00:23:56,520 --> 00:23:57,659
files

664
00:23:57,659 --> 00:24:00,840
so maybe looking to the Future maybe I

665
00:24:00,840 --> 00:24:02,640
need to bend over and decide that

666
00:24:02,640 --> 00:24:04,260
actually this is not something I should

667
00:24:04,260 --> 00:24:05,340
be doing with a collection of shell

668
00:24:05,340 --> 00:24:07,380
scripts but a relational database

669
00:24:07,380 --> 00:24:09,179
actually is probably the better way to

670
00:24:09,179 --> 00:24:11,880
go with it and so moving now into sort

671
00:24:11,880 --> 00:24:14,460
of the the results section Act One what

672
00:24:14,460 --> 00:24:16,500
is the current state of a phase as it

673
00:24:16,500 --> 00:24:19,200
comes to security protocols within DNS

674
00:24:19,200 --> 00:24:23,580
the oldest of these obviously is dnsic

675
00:24:23,580 --> 00:24:25,380
um draw your attention to the quote that

676
00:24:25,380 --> 00:24:27,840
was made Popular by Ronald Reagan of

677
00:24:27,840 --> 00:24:30,059
trust but verify which apparently is a

678
00:24:30,059 --> 00:24:31,679
direct translation of a Russian quote

679
00:24:31,679 --> 00:24:33,840
that he was or Russian proverb he was

680
00:24:33,840 --> 00:24:36,059
working with I'm doing the negotiations

681
00:24:36,059 --> 00:24:38,720
around sort of strategic nuclear

682
00:24:38,720 --> 00:24:41,700
proliferation and sort of managing

683
00:24:41,700 --> 00:24:43,980
nukes Etc during the height of the Cold

684
00:24:43,980 --> 00:24:46,500
War but what DNA sect does is it

685
00:24:46,500 --> 00:24:48,480
provides us with strong cryptography it

686
00:24:48,480 --> 00:24:50,159
provides us with a cryptographic method

687
00:24:50,159 --> 00:24:52,200
that allows for the authentication of

688
00:24:52,200 --> 00:24:55,020
DNS data authenticated denial of

689
00:24:55,020 --> 00:24:57,600
existence we can categorically say this

690
00:24:57,600 --> 00:24:59,760
does not exist

691
00:24:59,760 --> 00:25:01,500
if only people actually went around

692
00:25:01,500 --> 00:25:02,820
using it

693
00:25:02,820 --> 00:25:05,880
it's a really sad State of Affairs if we

694
00:25:05,880 --> 00:25:07,620
think back to the birth of DNS Tech in

695
00:25:07,620 --> 00:25:09,240
1999

696
00:25:09,240 --> 00:25:11,100
I'm hesitant to ask but how many people

697
00:25:11,100 --> 00:25:14,820
were around in 1999 so DNA seg May well

698
00:25:14,820 --> 00:25:16,559
be older than a fair number of people in

699
00:25:16,559 --> 00:25:18,059
the audience

700
00:25:18,059 --> 00:25:19,020
um

701
00:25:19,020 --> 00:25:21,960
2013 was sort of the Heyday of dnsic in

702
00:25:21,960 --> 00:25:24,539
terms of at that point more than 100 of

703
00:25:24,539 --> 00:25:27,059
the country code tlds all the top level

704
00:25:27,059 --> 00:25:29,279
tlds had actually been signed had a DNS

705
00:25:29,279 --> 00:25:31,679
SEC route and the decision was made by

706
00:25:31,679 --> 00:25:34,140
icann that any future domains would be

707
00:25:34,140 --> 00:25:36,120
mandated to be signed

708
00:25:36,120 --> 00:25:38,539
so we're nearly 10 years on from there

709
00:25:38,539 --> 00:25:41,400
why are most places still not actually

710
00:25:41,400 --> 00:25:42,900
using it

711
00:25:42,900 --> 00:25:44,159
um fortunately I'm not the only one

712
00:25:44,159 --> 00:25:46,140
that's thought about this there's quite

713
00:25:46,140 --> 00:25:48,779
a bit of work Chung and Roth in 2017

714
00:25:48,779 --> 00:25:53,580
2019 did some work looking at comnet org

715
00:25:53,580 --> 00:25:56,820
the dot nldomain the dot SE domain well

716
00:25:56,820 --> 00:25:58,200
done to the Netherlands and Sweden

717
00:25:58,200 --> 00:26:00,179
congratulations you are actually among

718
00:26:00,179 --> 00:26:03,360
the top things I've just got I've got a

719
00:26:03,360 --> 00:26:04,620
paper coming out later in the year where

720
00:26:04,620 --> 00:26:06,299
we detailed Norway Norway is sitting at

721
00:26:06,299 --> 00:26:09,960
about 65 percent as well now

722
00:26:09,960 --> 00:26:13,679
but these are very much the the sort of

723
00:26:13,679 --> 00:26:15,480
the exception when we actually look at

724
00:26:15,480 --> 00:26:16,980
the results coming in from the scrape

725
00:26:16,980 --> 00:26:19,200
data from this study it's not a

726
00:26:19,200 --> 00:26:21,960
particularly pretty effect 0.3 percent

727
00:26:21,960 --> 00:26:24,960
of the top million domains

728
00:26:24,960 --> 00:26:27,179
are using the NSC now surely if you

729
00:26:27,179 --> 00:26:28,679
involved in e-commerce and all the rest

730
00:26:28,679 --> 00:26:31,380
you want trust for credibility why are

731
00:26:31,380 --> 00:26:35,419
you not using this com.au 0.35

732
00:26:35,419 --> 00:26:38,159
code.uk coming in

733
00:26:38,159 --> 00:26:41,640
second place at two percent Belgium well

734
00:26:41,640 --> 00:26:44,220
done 27

735
00:26:44,220 --> 00:26:45,960
um it's not great but it's a hell of a

736
00:26:45,960 --> 00:26:47,159
lot better than most of the rest of the

737
00:26:47,159 --> 00:26:48,179
world

738
00:26:48,179 --> 00:26:51,840
um South Africa 0.1 percent not great at

739
00:26:51,840 --> 00:26:52,799
all

740
00:26:52,799 --> 00:26:54,539
so

741
00:26:54,539 --> 00:26:56,159
um we could do a talk entirely about

742
00:26:56,159 --> 00:26:57,900
DNA's sake and the fun and games and

743
00:26:57,900 --> 00:26:59,820
stuff but the question is why do people

744
00:26:59,820 --> 00:27:01,799
not go about implementing it so it's

745
00:27:01,799 --> 00:27:02,940
largely seen as a chicken and egg

746
00:27:02,940 --> 00:27:04,559
scenario why should I go about

747
00:27:04,559 --> 00:27:07,260
implementing DNA sick when no clients

748
00:27:07,260 --> 00:27:10,320
out there go about validating it

749
00:27:10,320 --> 00:27:12,000
um it's one of the things every time I

750
00:27:12,000 --> 00:27:13,740
travel and sort of wherever you try and

751
00:27:13,740 --> 00:27:16,140
have a look are you at a resolver a DNS

752
00:27:16,140 --> 00:27:18,299
resolver that actually validates dnsic

753
00:27:18,299 --> 00:27:20,580
I've yet to actually find one out in the

754
00:27:20,580 --> 00:27:22,919
wild that validates

755
00:27:22,919 --> 00:27:25,080
um so the next thing we looked at is a

756
00:27:25,080 --> 00:27:26,940
relatively new record which is the CIA

757
00:27:26,940 --> 00:27:29,760
record and this is a new record that has

758
00:27:29,760 --> 00:27:31,860
been proposed and adopted and it allows

759
00:27:31,860 --> 00:27:34,320
you to make an explicit statement in

760
00:27:34,320 --> 00:27:37,140
your domain Zone file it says I trust

761
00:27:37,140 --> 00:27:39,600
these certificate authorities I hereby

762
00:27:39,600 --> 00:27:42,360
endorse that they are able and permitted

763
00:27:42,360 --> 00:27:44,580
to go about issuing cryptographic

764
00:27:44,580 --> 00:27:47,100
certificates for my domain it's amazing

765
00:27:47,100 --> 00:27:48,960
how the Zone file has become overloaded

766
00:27:48,960 --> 00:27:51,240
as a trust point you use it for

767
00:27:51,240 --> 00:27:53,400
validating Google for after your Office

768
00:27:53,400 --> 00:27:56,340
365 or all these other things SPF and

769
00:27:56,340 --> 00:27:57,539
all the rest to be shoving to text

770
00:27:57,539 --> 00:28:01,620
records along CNN CAA is a sort of a

771
00:28:01,620 --> 00:28:03,840
variation on this it's a relatively new

772
00:28:03,840 --> 00:28:05,640
domain really only adopted around about

773
00:28:05,640 --> 00:28:07,860
2019.

774
00:28:07,860 --> 00:28:09,720
um the idea behind this is by being

775
00:28:09,720 --> 00:28:11,400
explicit as to which certificate

776
00:28:11,400 --> 00:28:13,500
authorities can issue youth certificates

777
00:28:13,500 --> 00:28:16,260
it should hopefully help cut down on

778
00:28:16,260 --> 00:28:18,120
fraudulent certificates being issued

779
00:28:18,120 --> 00:28:20,100
particularly with the Adventists of many

780
00:28:20,100 --> 00:28:22,860
of the so-called free free domain

781
00:28:22,860 --> 00:28:25,080
um let's encrypt to make use of it most

782
00:28:25,080 --> 00:28:27,000
of the other big ones making crypto zero

783
00:28:27,000 --> 00:28:28,500
trust makes use of it

784
00:28:28,500 --> 00:28:30,059
um zero SSL

785
00:28:30,059 --> 00:28:32,159
some of them won't actually issue

786
00:28:32,159 --> 00:28:34,500
certificates unless you've got the

787
00:28:34,500 --> 00:28:36,539
appropriate records in place so looking

788
00:28:36,539 --> 00:28:39,000
at again the top top what are the top 10

789
00:28:39,000 --> 00:28:42,000
entries for issuance out of the Magic

790
00:28:42,000 --> 00:28:43,500
Million

791
00:28:43,500 --> 00:28:44,279
um

792
00:28:44,279 --> 00:28:46,740
let's encrypt no surprise that you can't

793
00:28:46,740 --> 00:28:49,320
really beat the price of free but this

794
00:28:49,320 --> 00:28:51,059
also provides some insight saying that

795
00:28:51,059 --> 00:28:53,159
you know here's your 50 000 Euro

796
00:28:53,159 --> 00:28:55,320
guarantee if you get hacked maybe that

797
00:28:55,320 --> 00:28:57,960
isn't so important to companies

798
00:28:57,960 --> 00:28:59,100
um bearing in mind that these top

799
00:28:59,100 --> 00:29:01,080
million in theory represent a large

800
00:29:01,080 --> 00:29:04,260
portion of e-commerce

801
00:29:04,260 --> 00:29:07,200
breaking it down a little bit further

802
00:29:07,200 --> 00:29:10,380
of the Majestic

803
00:29:10,380 --> 00:29:11,159
um

804
00:29:11,159 --> 00:29:13,679
million the top 12 domains here

805
00:29:13,679 --> 00:29:16,640
accounted for 93 of the records

806
00:29:16,640 --> 00:29:18,720
but the important thing to notice here

807
00:29:18,720 --> 00:29:21,179
is it's not a million records

808
00:29:21,179 --> 00:29:22,919
um as we'll see in the next ad only

809
00:29:22,919 --> 00:29:25,140
about three percent of the domains in

810
00:29:25,140 --> 00:29:27,360
the magic million actually listed this

811
00:29:27,360 --> 00:29:30,840
these happen to be a breakdown of the

812
00:29:30,840 --> 00:29:33,539
sort of 115 000 entries in many cases

813
00:29:33,539 --> 00:29:35,399
the domains that did have them had

814
00:29:35,399 --> 00:29:37,799
multiple that would allow let's encrypt

815
00:29:37,799 --> 00:29:39,779
and Komodo and Amazon and Global sign or

816
00:29:39,779 --> 00:29:42,419
whatever else it might actually be

817
00:29:42,419 --> 00:29:44,760
the adoption rates

818
00:29:44,760 --> 00:29:48,299
well 3.7 percent is not that bad I

819
00:29:48,299 --> 00:29:49,380
suppose

820
00:29:49,380 --> 00:29:51,000
um it's certainly higher than any of the

821
00:29:51,000 --> 00:29:53,279
others and again welcome to Belgium

822
00:29:53,279 --> 00:29:55,980
thank you Belgium well done

823
00:29:55,980 --> 00:29:57,779
um one percent of your domains are

824
00:29:57,779 --> 00:29:59,460
actually implementing this

825
00:29:59,460 --> 00:30:01,080
is that a good thing it's a bad thing I

826
00:30:01,080 --> 00:30:02,700
don't know

827
00:30:02,700 --> 00:30:04,919
again looking around no one's really

828
00:30:04,919 --> 00:30:08,039
done much work on this I found one study

829
00:30:08,039 --> 00:30:11,820
done in late 2019 that looked at the

830
00:30:11,820 --> 00:30:13,740
um what at that stage was the Alexa top

831
00:30:13,740 --> 00:30:15,659
one million and it had around about the

832
00:30:15,659 --> 00:30:18,000
same kind of results as Majestic so

833
00:30:18,000 --> 00:30:20,760
maybe things haven't really moved on

834
00:30:20,760 --> 00:30:22,620
and so with those two sort of side

835
00:30:22,620 --> 00:30:24,539
little projects out the way which were

836
00:30:24,539 --> 00:30:26,640
largely stumbled across because the data

837
00:30:26,640 --> 00:30:29,039
was there already getting to the the

838
00:30:29,039 --> 00:30:31,380
core of the actual research and the the

839
00:30:31,380 --> 00:30:33,000
core of really what I want to talk about

840
00:30:33,000 --> 00:30:35,159
today is

841
00:30:35,159 --> 00:30:38,279
do we know where our DNS is it's 2 A.M

842
00:30:38,279 --> 00:30:40,020
do you know who actually controls your

843
00:30:40,020 --> 00:30:42,480
dnas do you have any idea what nation

844
00:30:42,480 --> 00:30:45,419
state feels like ruining your day

845
00:30:45,419 --> 00:30:46,919
um because we don't know what's going to

846
00:30:46,919 --> 00:30:48,779
happen

847
00:30:48,779 --> 00:30:50,340
so the real question here is around

848
00:30:50,340 --> 00:30:53,039
finding value the data States I checked

849
00:30:53,039 --> 00:30:54,659
it this morning is sitting around about

850
00:30:54,659 --> 00:30:57,480
36 gigs compressed so it's a fair chunk

851
00:30:57,480 --> 00:30:59,820
of data I admit it's probably not stored

852
00:30:59,820 --> 00:31:02,220
in the most efficient way with Json but

853
00:31:02,220 --> 00:31:03,779
there's a lot of data there and what

854
00:31:03,779 --> 00:31:05,460
I've looked at here really only just

855
00:31:05,460 --> 00:31:08,159
starts scraping the surface and bearing

856
00:31:08,159 --> 00:31:09,720
in mind the the wise words of Donald

857
00:31:09,720 --> 00:31:11,159
knuff

858
00:31:11,159 --> 00:31:13,440
um premature optimization is a root of

859
00:31:13,440 --> 00:31:15,240
all evil I've tried really really hard

860
00:31:15,240 --> 00:31:16,620
to stay away from falling into the

861
00:31:16,620 --> 00:31:18,480
various rabbit holes no matter how

862
00:31:18,480 --> 00:31:20,399
exciting they actually look

863
00:31:20,399 --> 00:31:21,299
um

864
00:31:21,299 --> 00:31:23,399
what I can say in terms of the summary

865
00:31:23,399 --> 00:31:25,620
to this is of all the domains surveyed

866
00:31:25,620 --> 00:31:29,159
all of them are at significant risk of

867
00:31:29,159 --> 00:31:31,559
having a foreign player being able to

868
00:31:31,559 --> 00:31:33,600
have impact the domain and we'll look at

869
00:31:33,600 --> 00:31:35,399
the degree that is

870
00:31:35,399 --> 00:31:36,960
um something interesting that I came

871
00:31:36,960 --> 00:31:38,580
across and I know there's a number of

872
00:31:38,580 --> 00:31:40,080
people that do threat modeling and it's

873
00:31:40,080 --> 00:31:41,460
your passion

874
00:31:41,460 --> 00:31:43,620
um I haven't come across a threat model

875
00:31:43,620 --> 00:31:45,299
or a set of guidelines for threat

876
00:31:45,299 --> 00:31:48,000
modeling DNS

877
00:31:48,000 --> 00:31:50,460
so if we look through the six sort of

878
00:31:50,460 --> 00:31:52,620
domains we mentioned earlier starting

879
00:31:52,620 --> 00:31:54,360
with Australia now Australia is really

880
00:31:54,360 --> 00:31:56,100
interesting it's an island it's the

881
00:31:56,100 --> 00:31:57,299
world's biggest island they call

882
00:31:57,299 --> 00:31:58,799
themselves a continent but they're an

883
00:31:58,799 --> 00:32:00,080
island

884
00:32:00,080 --> 00:32:02,880
but part of that is that they yes

885
00:32:02,880 --> 00:32:04,500
they've got really good connectivity but

886
00:32:04,500 --> 00:32:06,840
they are an island what happens is

887
00:32:06,840 --> 00:32:09,120
submarine cables to Australia are

888
00:32:09,120 --> 00:32:10,340
actually damaged

889
00:32:10,340 --> 00:32:14,159
via earthquake as we saw happening to

890
00:32:14,159 --> 00:32:16,799
some of the sort of the Pacific Nations

891
00:32:16,799 --> 00:32:18,539
earlier in the year with the volcano

892
00:32:18,539 --> 00:32:22,039
blew up there or via malicious Act

893
00:32:22,039 --> 00:32:25,500
63 percent of the name servers this is

894
00:32:25,500 --> 00:32:28,260
not domains of the name servers used for

895
00:32:28,260 --> 00:32:30,860
Australian domains are hosted in the US

896
00:32:30,860 --> 00:32:36,059
in fact 67 of them are in North America

897
00:32:36,059 --> 00:32:39,179
that's basically Canada and the US

898
00:32:39,179 --> 00:32:42,600
seven percent are in Western Europe

899
00:32:42,600 --> 00:32:44,279
um Australia is actually not doing too

900
00:32:44,279 --> 00:32:46,799
badly 20 of the name servers that are

901
00:32:46,799 --> 00:32:49,500
used by its domains are actually located

902
00:32:49,500 --> 00:32:52,140
in Australia and the big asterisk that

903
00:32:52,140 --> 00:32:53,659
of course sits with this as well

904
00:32:53,659 --> 00:32:56,299
geolocation is an imprecise science

905
00:32:56,299 --> 00:32:59,340
noted but what I pull these stats I use

906
00:32:59,340 --> 00:33:01,620
two independent systems the team simru

907
00:33:01,620 --> 00:33:04,140
as well as the um

908
00:33:04,140 --> 00:33:06,539
from Max mind and as well as in certain

909
00:33:06,539 --> 00:33:09,120
cases doing some checks against the

910
00:33:09,120 --> 00:33:11,700
allocations of IP address ranges from

911
00:33:11,700 --> 00:33:13,799
the regional Registries like appnick

912
00:33:13,799 --> 00:33:15,480
ripe Aaron

913
00:33:15,480 --> 00:33:20,100
um Etc Australia not too bad in total 26

914
00:33:20,100 --> 00:33:22,799
000 name servers

915
00:33:22,799 --> 00:33:24,240
um

916
00:33:24,240 --> 00:33:27,299
control the Australian namespace the top

917
00:33:27,299 --> 00:33:32,460
10 makes up 94 of those South Africa 18

918
00:33:32,460 --> 00:33:34,740
000 odd name servers

919
00:33:34,740 --> 00:33:36,480
um South Africa's not doing too bad 14

920
00:33:36,480 --> 00:33:39,059
of name servers are located in South

921
00:33:39,059 --> 00:33:41,279
Africa South Africa also has a really

922
00:33:41,279 --> 00:33:43,799
interesting term sort of topology in

923
00:33:43,799 --> 00:33:44,820
terms of connecting to the internet

924
00:33:44,820 --> 00:33:47,580
there are two or two and a half

925
00:33:47,580 --> 00:33:49,860
um submarine cables one one set running

926
00:33:49,860 --> 00:33:51,960
up the West Coast one running up the

927
00:33:51,960 --> 00:33:53,519
east coast and we've had times in the

928
00:33:53,519 --> 00:33:56,220
past where due to issues it has ended up

929
00:33:56,220 --> 00:33:58,500
cutting out large portions of the

930
00:33:58,500 --> 00:33:59,820
internet

931
00:33:59,820 --> 00:34:03,260
but coming back here 63 in North America

932
00:34:03,260 --> 00:34:06,539
19 in Western Europe

933
00:34:06,539 --> 00:34:09,780
having a look over here 55 were in China

934
00:34:09,780 --> 00:34:12,719
56 in Russia probably not too much of a

935
00:34:12,719 --> 00:34:14,219
concern for South Africa given that

936
00:34:14,219 --> 00:34:16,440
they're a member of of the brics

937
00:34:16,440 --> 00:34:17,820
um grouping

938
00:34:17,820 --> 00:34:19,619
um looking at neighboring countries less

939
00:34:19,619 --> 00:34:22,020
than 10 servers actually are Botswana

940
00:34:22,020 --> 00:34:24,719
Malawi Zimbabwe Lesotho

941
00:34:24,719 --> 00:34:27,418
um so not much Geographic diversity here

942
00:34:27,418 --> 00:34:29,760
as well so I would say forget nation

943
00:34:29,760 --> 00:34:31,440
states aside just from a geographic

944
00:34:31,440 --> 00:34:33,119
perspective there's risk here what

945
00:34:33,119 --> 00:34:35,040
happens when your submarine cables get

946
00:34:35,040 --> 00:34:36,899
cut you're going to be looking at about

947
00:34:36,899 --> 00:34:39,239
70 odd percent of the domains cannot

948
00:34:39,239 --> 00:34:41,580
actually even be resolved

949
00:34:41,580 --> 00:34:44,040
UK was the largest of the domains that

950
00:34:44,040 --> 00:34:46,020
we looked at this is the co.uk domain

951
00:34:46,020 --> 00:34:48,179
about four and a half million domains in

952
00:34:48,179 --> 00:34:51,060
total were looked at producing 68 000

953
00:34:51,060 --> 00:34:54,239
name servers they also control and by

954
00:34:54,239 --> 00:34:55,560
day I talked about the nation state

955
00:34:55,560 --> 00:34:57,720
Great Britain twenty percent of the name

956
00:34:57,720 --> 00:34:59,940
servers are actually nominally located

957
00:34:59,940 --> 00:35:02,820
inside the borders of Great Britain no

958
00:35:02,820 --> 00:35:05,520
surprise 40 to the US

959
00:35:05,520 --> 00:35:10,140
um 43 overall to North America 23 in

960
00:35:10,140 --> 00:35:12,380
Western Europe now to all members of

961
00:35:12,380 --> 00:35:16,020
NATO so NATO allies unlikely to probably

962
00:35:16,020 --> 00:35:18,540
go about turning things upside down

963
00:35:18,540 --> 00:35:20,280
if we look at sort of the geopolitics

964
00:35:20,280 --> 00:35:23,339
currently China's got 142 Russia nearly

965
00:35:23,339 --> 00:35:26,420
300 Iran 54.

966
00:35:26,420 --> 00:35:29,220
what could the potential impact of those

967
00:35:29,220 --> 00:35:32,040
actually be is and this is probably a

968
00:35:32,040 --> 00:35:34,859
reasonable point to raise it is our

969
00:35:34,859 --> 00:35:37,680
national Regulators actually looking way

970
00:35:37,680 --> 00:35:39,960
the domains for critical infrastructure

971
00:35:39,960 --> 00:35:42,180
are located are they is there a mandate

972
00:35:42,180 --> 00:35:44,820
anyway to say that we deem this to be

973
00:35:44,820 --> 00:35:46,560
critical infrastructure you need to use

974
00:35:46,560 --> 00:35:49,140
name servers inside the country we

975
00:35:49,140 --> 00:35:50,880
prefer you not to have

976
00:35:50,880 --> 00:35:54,000
name servers hosted in a country that we

977
00:35:54,000 --> 00:35:55,320
have

978
00:35:55,320 --> 00:35:56,960
let's just say it's complicated

979
00:35:56,960 --> 00:35:59,820
diplomatic relationships with

980
00:35:59,820 --> 00:36:03,420
Belgium 32 000 name servers

981
00:36:03,420 --> 00:36:05,760
only four percent of name servers are

982
00:36:05,760 --> 00:36:08,579
actually located in Belgium

983
00:36:08,579 --> 00:36:09,900
um

984
00:36:09,900 --> 00:36:12,359
probably not too much a problem

985
00:36:12,359 --> 00:36:16,260
47 of them again Western Europe or if

986
00:36:16,260 --> 00:36:17,760
you look at the countries they NATO

987
00:36:17,760 --> 00:36:20,339
countries there's unlikely to be too

988
00:36:20,339 --> 00:36:21,720
much friction

989
00:36:21,720 --> 00:36:22,740
um

990
00:36:22,740 --> 00:36:24,960
in the in the immediate future but when

991
00:36:24,960 --> 00:36:28,560
we look China's got 104 Russia 186 Iran

992
00:36:28,560 --> 00:36:31,740
eight and b y anybody remember your two

993
00:36:31,740 --> 00:36:35,760
letter domains Belarus they've got five

994
00:36:35,760 --> 00:36:37,800
um as well

995
00:36:37,800 --> 00:36:39,180
Norway

996
00:36:39,180 --> 00:36:40,079
um

997
00:36:40,079 --> 00:36:42,839
same kinds of things 56 in North America

998
00:36:42,839 --> 00:36:47,280
20 in Scandinavia 29 in Western Europe

999
00:36:47,280 --> 00:36:51,660
so we can say roughly 59 or 49 are safe

1000
00:36:51,660 --> 00:36:53,160
countries

1001
00:36:53,160 --> 00:36:55,440
um and it's one can go on and have a

1002
00:36:55,440 --> 00:36:59,520
look again presence of China Russia um

1003
00:36:59,520 --> 00:37:01,500
and Iran

1004
00:37:01,500 --> 00:37:03,180
a Russian Federation now this is where

1005
00:37:03,180 --> 00:37:05,579
there's a big star attached and to to

1006
00:37:05,579 --> 00:37:07,920
take note this is by far the smaller

1007
00:37:07,920 --> 00:37:11,099
sample I was only able to get around 230

1008
00:37:11,099 --> 00:37:12,780
000 domains

1009
00:37:12,780 --> 00:37:14,940
um resolving reliably I've got more

1010
00:37:14,940 --> 00:37:17,520
sometimes less sometimes but on on the

1011
00:37:17,520 --> 00:37:20,700
whole around 230 000 domains I do have

1012
00:37:20,700 --> 00:37:25,140
an input list of 2.9 Million domains for

1013
00:37:25,140 --> 00:37:27,420
this so that that effectively tells you

1014
00:37:27,420 --> 00:37:30,000
what proportion about 10 of what I

1015
00:37:30,000 --> 00:37:32,460
started with was accurizolving being

1016
00:37:32,460 --> 00:37:34,320
small compared to the other

1017
00:37:34,320 --> 00:37:36,240
statistically probably the results are

1018
00:37:36,240 --> 00:37:38,760
not as significant but this is the State

1019
00:37:38,760 --> 00:37:41,520
of Affairs as of August

1020
00:37:41,520 --> 00:37:43,859
um 45 of the name servers are actually

1021
00:37:43,859 --> 00:37:47,760
located in Russia 40 orange 40 servers

1022
00:37:47,760 --> 00:37:50,640
are in China 49 servers are in China 40

1023
00:37:50,640 --> 00:37:54,720
in Belarus Ukraine has 223 name servers

1024
00:37:54,720 --> 00:37:58,680
which serve around about 8 000 domains

1025
00:37:58,680 --> 00:37:59,520
um

1026
00:37:59,520 --> 00:38:01,200
draw your own conclusions from there

1027
00:38:01,200 --> 00:38:05,160
interestingly 49 in total of Russia's of

1028
00:38:05,160 --> 00:38:07,800
name servers serving those 230 000

1029
00:38:07,800 --> 00:38:11,280
domains are located in Western Europe

1030
00:38:11,280 --> 00:38:13,140
um so far we've seen nothing in terms of

1031
00:38:13,140 --> 00:38:15,119
sanctions saying that hey you shouldn't

1032
00:38:15,119 --> 00:38:17,280
be doing this is it something down the

1033
00:38:17,280 --> 00:38:18,780
pipeline I don't know what the

1034
00:38:18,780 --> 00:38:20,940
politicians might come up with in

1035
00:38:20,940 --> 00:38:23,099
monstercam and then really to round It

1036
00:38:23,099 --> 00:38:25,260
Off The Majestic million represents

1037
00:38:25,260 --> 00:38:27,660
roughly 200 countries

1038
00:38:27,660 --> 00:38:30,180
40 of the name servers are sitting in

1039
00:38:30,180 --> 00:38:33,300
the US Germany comes in second to Ten

1040
00:38:33,300 --> 00:38:34,920
Ten Thousand name servers or seven

1041
00:38:34,920 --> 00:38:38,220
percent and it drops off um there of

1042
00:38:38,220 --> 00:38:41,099
these the top ten only make up 73 so a

1043
00:38:41,099 --> 00:38:42,599
big difference to what we've seen

1044
00:38:42,599 --> 00:38:44,940
elsewhere and so with the raw numbers

1045
00:38:44,940 --> 00:38:46,800
out the way and numbers are there

1046
00:38:46,800 --> 00:38:48,060
because people some people like numbers

1047
00:38:48,060 --> 00:38:49,980
we can actually start talking about what

1048
00:38:49,980 --> 00:38:53,780
are the what are the takeaways from this

1049
00:38:54,000 --> 00:38:56,119
um

1050
00:38:57,960 --> 00:39:00,420
and we can say well what is the impact

1051
00:39:00,420 --> 00:39:02,280
the reflection

1052
00:39:02,280 --> 00:39:04,079
is it the end of the world should we all

1053
00:39:04,079 --> 00:39:06,240
just like become Wasteland Warriors and

1054
00:39:06,240 --> 00:39:08,460
you know Mad Max was our style guide for

1055
00:39:08,460 --> 00:39:10,140
what we're actually going to get up to

1056
00:39:10,140 --> 00:39:12,540
impact number one and there's five major

1057
00:39:12,540 --> 00:39:15,660
impacts to take away from this is

1058
00:39:15,660 --> 00:39:18,660
an attack on 20 IP addresses can

1059
00:39:18,660 --> 00:39:21,119
potentially take out 75 percent of the

1060
00:39:21,119 --> 00:39:22,920
Norwegian domain space

1061
00:39:22,920 --> 00:39:25,440
20 IP addresses and they are not trivial

1062
00:39:25,440 --> 00:39:27,540
or sorry it is rather trivial to

1063
00:39:27,540 --> 00:39:29,520
actually go about determining what these

1064
00:39:29,520 --> 00:39:31,800
actually are and to we can't have a

1065
00:39:31,800 --> 00:39:33,119
security presentation but of course

1066
00:39:33,119 --> 00:39:35,220
without quoting Sun Tzu and being able

1067
00:39:35,220 --> 00:39:37,020
to say the Supreme Art of War is to

1068
00:39:37,020 --> 00:39:39,359
subdue the enemy without fighting think

1069
00:39:39,359 --> 00:39:41,099
about where we are today if you can take

1070
00:39:41,099 --> 00:39:43,740
out a nation's actual infrastructure

1071
00:39:43,740 --> 00:39:46,320
without firing a shot

1072
00:39:46,320 --> 00:39:47,040
um

1073
00:39:47,040 --> 00:39:49,740
you've pretty much won massive denial of

1074
00:39:49,740 --> 00:39:51,599
service attacks they're cheap these days

1075
00:39:51,599 --> 00:39:54,540
you can rent rent a botnet you've got a

1076
00:39:54,540 --> 00:39:55,800
nation state you can cook your own

1077
00:39:55,800 --> 00:39:58,079
button it up and then say we can either

1078
00:39:58,079 --> 00:40:00,359
confirm or deny but this was a fairly

1079
00:40:00,359 --> 00:40:02,820
scary fact to me is that around 75 of

1080
00:40:02,820 --> 00:40:04,320
Norwegian domains could be taken out

1081
00:40:04,320 --> 00:40:05,640
fairly easily

1082
00:40:05,640 --> 00:40:07,619
if we look at the UK an attack on the

1083
00:40:07,619 --> 00:40:09,900
top five providers

1084
00:40:09,900 --> 00:40:12,599
renders 10 percent of the CO2 UK domain

1085
00:40:12,599 --> 00:40:17,520
and workable it's about 440 000 domains

1086
00:40:17,520 --> 00:40:20,280
um underco.uk it's a lot less only 10

1087
00:40:20,280 --> 00:40:21,720
percent

1088
00:40:21,720 --> 00:40:23,820
um I haven't gone going to sort of

1089
00:40:23,820 --> 00:40:25,800
protect the potentially vulnerable what

1090
00:40:25,800 --> 00:40:27,359
are the domains that fall into this

1091
00:40:27,359 --> 00:40:29,460
category again it's not difficult to go

1092
00:40:29,460 --> 00:40:31,619
about determining but build your own

1093
00:40:31,619 --> 00:40:32,940
scraper

1094
00:40:32,940 --> 00:40:35,339
impact number three attack on the top

1095
00:40:35,339 --> 00:40:37,260
five providers for Belgium

1096
00:40:37,260 --> 00:40:39,960
can render 20 of them of the domains

1097
00:40:39,960 --> 00:40:42,780
unreachable

1098
00:40:42,780 --> 00:40:43,560
um

1099
00:40:43,560 --> 00:40:46,380
so again it's nothing special it just

1100
00:40:46,380 --> 00:40:48,180
shows you vulnerable

1101
00:40:48,180 --> 00:40:49,440
for all the other good things the

1102
00:40:49,440 --> 00:40:51,000
Belgian domain space is doing it's still

1103
00:40:51,000 --> 00:40:53,160
vulnerable to this

1104
00:40:53,160 --> 00:40:55,320
um and if we go back to quote the Dan

1105
00:40:55,320 --> 00:40:58,859
Kaminsky made back or 11 odd years ago

1106
00:40:58,859 --> 00:41:00,420
talking about some of the major flaws he

1107
00:41:00,420 --> 00:41:02,640
found in DNS at that time he said the

1108
00:41:02,640 --> 00:41:04,320
data shows that this is most likely

1109
00:41:04,320 --> 00:41:06,420
hundreds of thousands to millions of

1110
00:41:06,420 --> 00:41:08,760
victims issue and I believe that exactly

1111
00:41:08,760 --> 00:41:10,200
the same applies with what the kind of

1112
00:41:10,200 --> 00:41:12,119
stuff we're talking about here if you

1113
00:41:12,119 --> 00:41:15,119
can take over or or attack a

1114
00:41:15,119 --> 00:41:17,520
nation-state's DNS as critical

1115
00:41:17,520 --> 00:41:19,320
infrastructure it is going to have a

1116
00:41:19,320 --> 00:41:22,680
knock-on effect into the Millions

1117
00:41:22,680 --> 00:41:25,320
so what is the big picture behind this

1118
00:41:25,320 --> 00:41:27,960
impact number four big DNS providers

1119
00:41:27,960 --> 00:41:29,339
know what they're doing they're

1120
00:41:29,339 --> 00:41:31,619
resilient they've got multi-homing

1121
00:41:31,619 --> 00:41:34,020
multiple IP addresses geographically

1122
00:41:34,020 --> 00:41:35,040
distant

1123
00:41:35,040 --> 00:41:36,720
they make up a very very small

1124
00:41:36,720 --> 00:41:40,079
proportion of the total the smaller

1125
00:41:40,079 --> 00:41:42,000
providers often don't the smaller

1126
00:41:42,000 --> 00:41:43,320
providers are the ones that are listing

1127
00:41:43,320 --> 00:41:45,720
RFC 1918 addresses

1128
00:41:45,720 --> 00:41:48,180
as they publicly accessible name servers

1129
00:41:48,180 --> 00:41:51,480
no wonder things don't actually work

1130
00:41:51,480 --> 00:41:52,500
um

1131
00:41:52,500 --> 00:41:54,599
impact five

1132
00:41:54,599 --> 00:41:58,500
um there's some some portions of IP ipv4

1133
00:41:58,500 --> 00:42:01,020
address space that need to be considered

1134
00:42:01,020 --> 00:42:02,820
to be a lot more important than others

1135
00:42:02,820 --> 00:42:05,880
and yes IPv6 is out there believe it or

1136
00:42:05,880 --> 00:42:08,880
not some people actually do use IPv6 but

1137
00:42:08,880 --> 00:42:11,220
given that most of the stuff that I saw

1138
00:42:11,220 --> 00:42:14,220
did not support IPv6 I ended up just

1139
00:42:14,220 --> 00:42:16,740
cutting that out of of what I'm doing

1140
00:42:16,740 --> 00:42:18,780
one of the big challenges with this is

1141
00:42:18,780 --> 00:42:20,640
coming back to the the core around

1142
00:42:20,640 --> 00:42:23,640
resiliency for for DNS is we say we've

1143
00:42:23,640 --> 00:42:25,200
got high availability we can just move a

1144
00:42:25,200 --> 00:42:26,220
server

1145
00:42:26,220 --> 00:42:28,500
that's fine and we can move brewcon.org

1146
00:42:28,500 --> 00:42:29,820
and get moved anywhere else we just have

1147
00:42:29,820 --> 00:42:31,740
to update DNS

1148
00:42:31,740 --> 00:42:33,599
um to point to the new IP address it's

1149
00:42:33,599 --> 00:42:35,820
not that easy when you have to start

1150
00:42:35,820 --> 00:42:37,560
moving your domain name servers around

1151
00:42:37,560 --> 00:42:40,740
that in itself is a risky process and

1152
00:42:40,740 --> 00:42:42,000
create

1153
00:42:42,000 --> 00:42:43,560
things so with apologies to George

1154
00:42:43,560 --> 00:42:46,920
Orwell and these two pigs all IP

1155
00:42:46,920 --> 00:42:48,420
addresses are equal but some are more

1156
00:42:48,420 --> 00:42:50,460
equal than others and if you haven't

1157
00:42:50,460 --> 00:42:51,960
read Animal Farm it's one of those

1158
00:42:51,960 --> 00:42:53,520
really good recommended readings

1159
00:42:53,520 --> 00:42:55,560
probably even before you get to reading

1160
00:42:55,560 --> 00:42:57,119
The Art of War

1161
00:42:57,119 --> 00:42:59,460
so what is the impact we're looking here

1162
00:42:59,460 --> 00:43:02,040
in the red spot where we have the

1163
00:43:02,040 --> 00:43:03,960
opportunity for a threat a threat

1164
00:43:03,960 --> 00:43:05,640
against an asset and there's a

1165
00:43:05,640 --> 00:43:08,160
vulnerability that is ultimately what we

1166
00:43:08,160 --> 00:43:09,720
need to start thinking about what is the

1167
00:43:09,720 --> 00:43:11,819
impact and I'll be the first one to say

1168
00:43:11,819 --> 00:43:13,859
I don't have any hard and fast answers

1169
00:43:13,859 --> 00:43:16,140
other than maybe we should start talking

1170
00:43:16,140 --> 00:43:19,140
about this as a Potential Threat

1171
00:43:19,140 --> 00:43:21,359
ultimately a relatively small number of

1172
00:43:21,359 --> 00:43:23,579
servers can result in a large-scale

1173
00:43:23,579 --> 00:43:25,980
impact so think of this asymmetric

1174
00:43:25,980 --> 00:43:27,839
Warfare why take out thousands of

1175
00:43:27,839 --> 00:43:30,300
systems when you maybe take out two or

1176
00:43:30,300 --> 00:43:31,920
three hundred core systems around the

1177
00:43:31,920 --> 00:43:34,319
world and do a significant amount of

1178
00:43:34,319 --> 00:43:36,780
damage crippling the internet

1179
00:43:36,780 --> 00:43:39,300
um what is the risk of foreign hosted

1180
00:43:39,300 --> 00:43:40,800
systems

1181
00:43:40,800 --> 00:43:42,660
um is this is this actually something

1182
00:43:42,660 --> 00:43:44,780
significant am I actually just being

1183
00:43:44,780 --> 00:43:47,579
someone who worries with no apparent

1184
00:43:47,579 --> 00:43:50,099
reason I don't know this is and again

1185
00:43:50,099 --> 00:43:52,440
it's about starting a conversation

1186
00:43:52,440 --> 00:43:55,140
should we regard DNS servers as critical

1187
00:43:55,140 --> 00:43:57,720
infrastructure are some domains more

1188
00:43:57,720 --> 00:43:59,700
important than others and one of the

1189
00:43:59,700 --> 00:44:01,260
things I've done is started is I've

1190
00:44:01,260 --> 00:44:02,940
started pulling out government domains I

1191
00:44:02,940 --> 00:44:04,980
could tie to governments

1192
00:44:04,980 --> 00:44:06,720
um they were a little bit better off but

1193
00:44:06,720 --> 00:44:09,180
not that much better off

1194
00:44:09,180 --> 00:44:10,740
um there were still some government

1195
00:44:10,740 --> 00:44:13,319
domains for some countries located in

1196
00:44:13,319 --> 00:44:15,599
some very odd places in terms of their

1197
00:44:15,599 --> 00:44:17,339
name servers not necessarily a primary

1198
00:44:17,339 --> 00:44:19,200
name server but one of the name servers

1199
00:44:19,200 --> 00:44:21,240
was there

1200
00:44:21,240 --> 00:44:22,560
um what's the impact of having foreign

1201
00:44:22,560 --> 00:44:25,260
hosted domains yes it might be cheap and

1202
00:44:25,260 --> 00:44:26,760
here I'm pointing a big finger at the US

1203
00:44:26,760 --> 00:44:28,619
they have some of the cheapest hosting

1204
00:44:28,619 --> 00:44:31,440
anywhere for a variety of historical

1205
00:44:31,440 --> 00:44:32,940
reasons

1206
00:44:32,940 --> 00:44:34,380
um and then probably the one of the most

1207
00:44:34,380 --> 00:44:36,359
scary questions do we know what we don't

1208
00:44:36,359 --> 00:44:37,980
know

1209
00:44:37,980 --> 00:44:39,960
um and I would hesitate I would sort of

1210
00:44:39,960 --> 00:44:41,940
want to say that I don't think we don't

1211
00:44:41,940 --> 00:44:44,579
we know what we don't know about what

1212
00:44:44,579 --> 00:44:46,800
the risks are and again waving and

1213
00:44:46,800 --> 00:44:48,960
putting a call out is is anybody aware

1214
00:44:48,960 --> 00:44:51,119
of specific guides for threat modeling

1215
00:44:51,119 --> 00:44:54,119
around DNS and then really just to tie

1216
00:44:54,119 --> 00:44:56,520
it into sort of the things that have

1217
00:44:56,520 --> 00:44:58,680
happened in the last couple of days I am

1218
00:44:58,680 --> 00:45:01,380
pretty sure someone theorized about the

1219
00:45:01,380 --> 00:45:04,500
the issues of a leak on the the gas

1220
00:45:04,500 --> 00:45:07,619
pipelines but what happens when the

1221
00:45:07,619 --> 00:45:10,200
unexpected actually happens

1222
00:45:10,200 --> 00:45:11,460
um

1223
00:45:11,460 --> 00:45:13,380
what happens when it occurs how do we

1224
00:45:13,380 --> 00:45:15,480
prepare for it and sort of not looking

1225
00:45:15,480 --> 00:45:16,980
at any issues around attribution or

1226
00:45:16,980 --> 00:45:20,040
anything but how do we prepare for these

1227
00:45:20,040 --> 00:45:21,240
types of things

1228
00:45:21,240 --> 00:45:23,780
and really the devil is in the details

1229
00:45:23,780 --> 00:45:26,040
found a really nice quote here from Dan

1230
00:45:26,040 --> 00:45:28,980
farmer some of you might be too young to

1231
00:45:28,980 --> 00:45:30,900
remember Dan farmer some of you might

1232
00:45:30,900 --> 00:45:32,700
have really fond memories of his tool

1233
00:45:32,700 --> 00:45:34,859
Satan one of the first real security

1234
00:45:34,859 --> 00:45:36,119
scanners out there and if you didn't

1235
00:45:36,119 --> 00:45:37,619
like the name it came with a command

1236
00:45:37,619 --> 00:45:38,940
that you could run it could renamed

1237
00:45:38,940 --> 00:45:40,980
itself a center

1238
00:45:40,980 --> 00:45:42,720
um but one of the first real sort of

1239
00:45:42,720 --> 00:45:45,000
vulnerability scanners out there Diane

1240
00:45:45,000 --> 00:45:47,099
said I was interested in Implements of

1241
00:45:47,099 --> 00:45:49,079
mass destruction from an academic point

1242
00:45:49,079 --> 00:45:51,839
of view and that to some extent is what

1243
00:45:51,839 --> 00:45:53,880
is what I've been looking at here it's

1244
00:45:53,880 --> 00:45:56,400
ultimately it's a complex problem

1245
00:45:56,400 --> 00:45:59,099
um DNS is amazing it's still amazing

1246
00:45:59,099 --> 00:46:00,780
that we've got a technology that that is

1247
00:46:00,780 --> 00:46:03,119
that old that works reliably

1248
00:46:03,119 --> 00:46:04,680
um it's still surprisingly poorly

1249
00:46:04,680 --> 00:46:06,359
understood even when you talk to people

1250
00:46:06,359 --> 00:46:09,660
at isps Network providers

1251
00:46:09,660 --> 00:46:11,579
things like that

1252
00:46:11,579 --> 00:46:12,900
um it's one of those things nobody cares

1253
00:46:12,900 --> 00:46:14,760
about it when it works I'm sure many of

1254
00:46:14,760 --> 00:46:16,319
you work as Network administrators or

1255
00:46:16,319 --> 00:46:18,300
systems administrators nobody really

1256
00:46:18,300 --> 00:46:20,400
cares when the network works when things

1257
00:46:20,400 --> 00:46:21,720
break everyone comes running and says

1258
00:46:21,720 --> 00:46:24,240
well why aren't you doing your job

1259
00:46:24,240 --> 00:46:25,740
um it's pretty much the same with DNS

1260
00:46:25,740 --> 00:46:27,420
it's not a problem until it's not

1261
00:46:27,420 --> 00:46:28,800
working in which case it's a really big

1262
00:46:28,800 --> 00:46:30,060
problem

1263
00:46:30,060 --> 00:46:32,339
um in terms of the technology DNS

1264
00:46:32,339 --> 00:46:34,819
arguably the world's most fantastic

1265
00:46:34,819 --> 00:46:37,619
completely distributed data store it's

1266
00:46:37,619 --> 00:46:40,800
dynamic as well it's constantly updating

1267
00:46:40,800 --> 00:46:43,140
and it works with all technology it's

1268
00:46:43,140 --> 00:46:45,839
amazing but the distributed nature of

1269
00:46:45,839 --> 00:46:47,880
its of the very sort of distributed

1270
00:46:47,880 --> 00:46:50,280
nature of it also makes it difficult to

1271
00:46:50,280 --> 00:46:52,020
create momentums around getting changes

1272
00:46:52,020 --> 00:46:54,540
put in place how do we care for this big

1273
00:46:54,540 --> 00:46:56,579
mess of global system how do we

1274
00:46:56,579 --> 00:46:58,079
coordinate things

1275
00:46:58,079 --> 00:47:00,900
how do we build competency in it one of

1276
00:47:00,900 --> 00:47:02,460
the arguments being that you know how do

1277
00:47:02,460 --> 00:47:03,900
we build change things well we've got

1278
00:47:03,900 --> 00:47:06,119
rfcs we've publish them obviously people

1279
00:47:06,119 --> 00:47:08,640
must do comply with them except they

1280
00:47:08,640 --> 00:47:10,079
don't we've got that evidence we just

1281
00:47:10,079 --> 00:47:11,940
look at something like dnsic

1282
00:47:11,940 --> 00:47:13,440
people aren't complying with it if we

1283
00:47:13,440 --> 00:47:15,720
look at the some of the core basic

1284
00:47:15,720 --> 00:47:17,760
principles around DNS that have been

1285
00:47:17,760 --> 00:47:20,579
around since the 80s don't use private

1286
00:47:20,579 --> 00:47:22,619
address ranges for your public DNS

1287
00:47:22,619 --> 00:47:24,300
servers and people are still going about

1288
00:47:24,300 --> 00:47:26,160
doing that

1289
00:47:26,160 --> 00:47:28,079
um the question another question to come

1290
00:47:28,079 --> 00:47:31,020
out of this is are all domains and maybe

1291
00:47:31,020 --> 00:47:32,819
some subdomains are they all equally

1292
00:47:32,819 --> 00:47:35,040
important or can we start actually as

1293
00:47:35,040 --> 00:47:36,480
part of a discussion around critical

1294
00:47:36,480 --> 00:47:38,400
infrastructure and National Security

1295
00:47:38,400 --> 00:47:40,020
start saying

1296
00:47:40,020 --> 00:47:42,000
these domains actually are more

1297
00:47:42,000 --> 00:47:43,859
important than the others how about we

1298
00:47:43,859 --> 00:47:46,140
go about having a more detailed look at

1299
00:47:46,140 --> 00:47:47,700
them and say well what is the risk

1300
00:47:47,700 --> 00:47:49,920
evaluation around them

1301
00:47:49,920 --> 00:47:51,960
and ultimately what happens if DNS is

1302
00:47:51,960 --> 00:47:54,060
compromised because it's not just an on

1303
00:47:54,060 --> 00:47:57,180
or off situation DNS forms the backbone

1304
00:47:57,180 --> 00:47:59,280
for so much that we actually take for

1305
00:47:59,280 --> 00:48:01,380
granted today in terms of how we broker

1306
00:48:01,380 --> 00:48:04,619
Trust on our Networks

1307
00:48:04,619 --> 00:48:07,380
so so what and really this is this is

1308
00:48:07,380 --> 00:48:10,380
where I don't actually have some answers

1309
00:48:10,380 --> 00:48:13,200
um questions is this really a problem

1310
00:48:13,200 --> 00:48:15,119
or am I sort of seeing the proverbial

1311
00:48:15,119 --> 00:48:16,680
Boogeyman in the night that's coming out

1312
00:48:16,680 --> 00:48:17,940
to scare things

1313
00:48:17,940 --> 00:48:20,339
how bad is it I would say it's the the

1314
00:48:20,339 --> 00:48:22,260
initial work that I've done

1315
00:48:22,260 --> 00:48:23,940
says it's something that I personally

1316
00:48:23,940 --> 00:48:26,640
think is is worth digging into more is

1317
00:48:26,640 --> 00:48:29,579
it really bad probably not that bad but

1318
00:48:29,579 --> 00:48:31,859
again I'm a pessimist where the glass is

1319
00:48:31,859 --> 00:48:33,300
cracked all the beers leaking out

1320
00:48:33,300 --> 00:48:34,619
rapidly

1321
00:48:34,619 --> 00:48:36,300
um it's not a oh I've still got half a

1322
00:48:36,300 --> 00:48:38,040
beer despite it being cracked that's

1323
00:48:38,040 --> 00:48:40,140
just that's just not me so how do we

1324
00:48:40,140 --> 00:48:41,400
make it better

1325
00:48:41,400 --> 00:48:42,180
um

1326
00:48:42,180 --> 00:48:44,280
discussions with

1327
00:48:44,280 --> 00:48:46,920
National search National registrars

1328
00:48:46,920 --> 00:48:48,599
craving awareness and that really is

1329
00:48:48,599 --> 00:48:50,640
probably the single goal I had in terms

1330
00:48:50,640 --> 00:48:52,140
of proposing this talk

1331
00:48:52,140 --> 00:48:53,280
um other than of course to come back to

1332
00:48:53,280 --> 00:48:55,380
brewcon which is wonderful but to start

1333
00:48:55,380 --> 00:48:57,780
start the conversation make people aware

1334
00:48:57,780 --> 00:48:59,160
of these things are they things that

1335
00:48:59,160 --> 00:49:01,079
people have thought about

1336
00:49:01,079 --> 00:49:03,660
um ultimately a lot of longer term

1337
00:49:03,660 --> 00:49:06,240
monitoring is needed but at the end of

1338
00:49:06,240 --> 00:49:08,280
the day I've actually been left myself

1339
00:49:08,280 --> 00:49:11,099
with a far bigger pile of questions a

1340
00:49:11,099 --> 00:49:13,619
long long list of questions far more so

1341
00:49:13,619 --> 00:49:15,540
than the Fairly simplistic list that I

1342
00:49:15,540 --> 00:49:17,280
actually started with

1343
00:49:17,280 --> 00:49:18,960
and with that

1344
00:49:18,960 --> 00:49:20,819
is the end

1345
00:49:20,819 --> 00:49:21,480
um

1346
00:49:21,480 --> 00:49:23,460
I hope you found it interesting I think

1347
00:49:23,460 --> 00:49:24,780
we've got some time for a question or

1348
00:49:24,780 --> 00:49:26,040
two

1349
00:49:26,040 --> 00:49:27,359
um if you're interested come say hello

1350
00:49:27,359 --> 00:49:30,060
afterwards especially if you are in a

1351
00:49:30,060 --> 00:49:32,520
national search or registrar or security

1352
00:49:32,520 --> 00:49:35,040
researcher I'd love to have a chat

1353
00:49:35,040 --> 00:49:36,839
um out of some of the preliminary work

1354
00:49:36,839 --> 00:49:38,220
I'm already chatting to one of the

1355
00:49:38,220 --> 00:49:40,859
national registrars around at least

1356
00:49:40,859 --> 00:49:43,740
sharing some of the methodology for them

1357
00:49:43,740 --> 00:49:44,760
to be able to do some of their own

1358
00:49:44,760 --> 00:49:46,200
auditing

1359
00:49:46,200 --> 00:49:49,339
all right thank you very much

1360
00:49:53,520 --> 00:49:54,960
thank you

1361
00:49:54,960 --> 00:49:57,300
hello thank you Barry

1362
00:49:57,300 --> 00:50:01,400
um so if there's any questions I see

1363
00:50:04,740 --> 00:50:06,660
yeah thank you Barry a very nice

1364
00:50:06,660 --> 00:50:08,099
presentation

1365
00:50:08,099 --> 00:50:11,099
um some things came to my mind when I

1366
00:50:11,099 --> 00:50:13,319
saw your tables with figures for example

1367
00:50:13,319 --> 00:50:16,200
U.S frequently comes forward again in

1368
00:50:16,200 --> 00:50:18,300
the first or the second

1369
00:50:18,300 --> 00:50:20,880
did you look at why this was I would

1370
00:50:20,880 --> 00:50:23,400
assume maybe and I hope you can confirm

1371
00:50:23,400 --> 00:50:25,920
or say it's not true that because many

1372
00:50:25,920 --> 00:50:28,280
of the cloud providers are in the US

1373
00:50:28,280 --> 00:50:31,140
Cloud providers is one the other is a

1374
00:50:31,140 --> 00:50:32,819
lot of the cheap DNS hosting providers

1375
00:50:32,819 --> 00:50:33,839
are they

1376
00:50:33,839 --> 00:50:36,180
um so I think in both both those cases

1377
00:50:36,180 --> 00:50:37,920
one can say it's possibly an economic

1378
00:50:37,920 --> 00:50:40,619
incentive that said the cloud providers

1379
00:50:40,619 --> 00:50:43,200
have Cloud address space elsewhere

1380
00:50:43,200 --> 00:50:45,359
through the world which is in most cases

1381
00:50:45,359 --> 00:50:47,640
correctly registered by geolocation but

1382
00:50:47,640 --> 00:50:50,220
you raise a very valid point there and

1383
00:50:50,220 --> 00:50:52,380
and then as a follow-up because I'm from

1384
00:50:52,380 --> 00:50:55,200
Belgium the the number of the CAA

1385
00:50:55,200 --> 00:50:58,079
records stood out 20 something percent

1386
00:50:58,079 --> 00:51:00,720
did you look at why that was I haven't

1387
00:51:00,720 --> 00:51:02,819
yet it's sort of part of a larger

1388
00:51:02,819 --> 00:51:05,099
project I'm actually involved in terms

1389
00:51:05,099 --> 00:51:07,260
of trying to look not in terms of only

1390
00:51:07,260 --> 00:51:08,819
what the records are but what the

1391
00:51:08,819 --> 00:51:11,640
detailed contents are again one of the

1392
00:51:11,640 --> 00:51:12,960
things that stood out looking at not

1393
00:51:12,960 --> 00:51:15,119
just Belgium but all the CIA records was

1394
00:51:15,119 --> 00:51:17,220
the amount of garbage in there

1395
00:51:17,220 --> 00:51:18,900
um things that just make absolute be no

1396
00:51:18,900 --> 00:51:21,079
sense in terms of the specifications

1397
00:51:21,079 --> 00:51:24,119
they were like Google The Google domain

1398
00:51:24,119 --> 00:51:26,339
ID keys in there there was I saw a

1399
00:51:26,339 --> 00:51:29,400
Microsoft key I saw SPF records

1400
00:51:29,400 --> 00:51:32,339
um it's it's weird but it is part of

1401
00:51:32,339 --> 00:51:33,540
what I want to look at going forward

1402
00:51:33,540 --> 00:51:35,160
there's some other really interesting

1403
00:51:35,160 --> 00:51:36,660
work being done by some other

1404
00:51:36,660 --> 00:51:37,980
researchers at the moment saying that

1405
00:51:37,980 --> 00:51:40,440
actually publishing a CIA record is not

1406
00:51:40,440 --> 00:51:41,819
necessarily good for your domain

1407
00:51:41,819 --> 00:51:44,040
particularly

1408
00:51:44,040 --> 00:51:46,020
if you're using some of the sort of

1409
00:51:46,020 --> 00:51:48,480
providers like let's encrypt and you

1410
00:51:48,480 --> 00:51:49,680
link this into the whole sort of

1411
00:51:49,680 --> 00:51:51,660
certificate trust architecture there's

1412
00:51:51,660 --> 00:51:54,180
some good anecdotal evidence that say

1413
00:51:54,180 --> 00:51:56,220
for example you spin up a new website

1414
00:51:56,220 --> 00:51:58,380
you put a default WordPress install in

1415
00:51:58,380 --> 00:52:00,720
but don't configure it you then register

1416
00:52:00,720 --> 00:52:02,280
a certificate

1417
00:52:02,280 --> 00:52:04,200
and it's all being monitored on the

1418
00:52:04,200 --> 00:52:05,940
certificate transparency lists there's

1419
00:52:05,940 --> 00:52:07,500
some good anecdotal evidence that you

1420
00:52:07,500 --> 00:52:09,300
might well find your site is compromised

1421
00:52:09,300 --> 00:52:10,680
before you even get back to do the

1422
00:52:10,680 --> 00:52:12,180
configuring

1423
00:52:12,180 --> 00:52:13,740
um that's again something I'm playing

1424
00:52:13,740 --> 00:52:16,520
with at the moment

1425
00:52:19,440 --> 00:52:21,300
hi um thanks for the presentation

1426
00:52:21,300 --> 00:52:22,680
actually I don't I don't have any

1427
00:52:22,680 --> 00:52:24,119
questions just have a piece of

1428
00:52:24,119 --> 00:52:27,119
information that might be useful for you

1429
00:52:27,119 --> 00:52:31,260
um in Spain so the dot es domains you

1430
00:52:31,260 --> 00:52:32,880
can actually go to the government and

1431
00:52:32,880 --> 00:52:36,059
request a full list of all the existing

1432
00:52:36,059 --> 00:52:39,420
dot es domains I did not know that thank

1433
00:52:39,420 --> 00:52:42,240
you yeah some that might give you yes

1434
00:52:42,240 --> 00:52:43,800
didn't work because I couldn't find an

1435
00:52:43,800 --> 00:52:45,780
easily available so you can get a full

1436
00:52:45,780 --> 00:52:47,640
list you know up to date for today with

1437
00:52:47,640 --> 00:52:50,220
all Superman follow that up yeah I can I

1438
00:52:50,220 --> 00:52:51,720
can give you you know info how to do

1439
00:52:51,720 --> 00:52:53,819
that you need to request say why you're

1440
00:52:53,819 --> 00:52:55,260
doing that and they will give it to you

1441
00:52:55,260 --> 00:52:59,059
hopefully so they have given to me

1442
00:53:04,619 --> 00:53:08,599
I don't know there's any other questions

1443
00:53:19,800 --> 00:53:21,660
yeah thank you

1444
00:53:21,660 --> 00:53:24,119
um so I was wondering if you have taken

1445
00:53:24,119 --> 00:53:25,220
into account

1446
00:53:25,220 --> 00:53:28,980
uh or if any of these domains that you

1447
00:53:28,980 --> 00:53:31,980
found are known or potentially malicious

1448
00:53:31,980 --> 00:53:34,140
I haven't done that cross check yet

1449
00:53:34,140 --> 00:53:36,300
because that's it is something to do in

1450
00:53:36,300 --> 00:53:37,319
terms of pulling running against

1451
00:53:37,319 --> 00:53:40,140
something like the VT the VT API

1452
00:53:40,140 --> 00:53:41,819
um I got sort of pretty bogged down and

1453
00:53:41,819 --> 00:53:43,559
just crunching through the data but it

1454
00:53:43,559 --> 00:53:46,500
is a almost redo the study just looking

1455
00:53:46,500 --> 00:53:48,540
at malicious domains I think would be a

1456
00:53:48,540 --> 00:53:49,920
really interesting thing to do thanks

1457
00:53:49,920 --> 00:53:52,579
for the suggestion

1458
00:53:56,099 --> 00:53:58,740
all right I don't see any other hand so

1459
00:53:58,740 --> 00:54:00,300
I think I'm going to say cheers you want

1460
00:54:00,300 --> 00:54:02,160
to chat to me um I'd be loved it love to

1461
00:54:02,160 --> 00:54:04,200
chat you afterwards but I think our next

1462
00:54:04,200 --> 00:54:05,280
speaker needs to get all their toys

1463
00:54:05,280 --> 00:54:07,680
plugged in um before they talk so thank

1464
00:54:07,680 --> 00:54:09,420
you very much I will be around today and

1465
00:54:09,420 --> 00:54:10,280
tomorrow

1466
00:54:10,280 --> 00:54:14,429
[Applause]

