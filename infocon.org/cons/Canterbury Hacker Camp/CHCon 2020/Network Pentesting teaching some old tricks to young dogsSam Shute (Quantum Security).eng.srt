1
00:00:03,120 --> 00:00:03,520
cool

2
00:00:03,520 --> 00:00:05,680
um so thank you for coming to my talk uh

3
00:00:05,680 --> 00:00:06,720
this is called

4
00:00:06,720 --> 00:00:09,519
uh teaching new dogs old tricks uh i got

5
00:00:09,519 --> 00:00:11,200
the title wrong when i submitted it and

6
00:00:11,200 --> 00:00:13,280
completely butchered the uh

7
00:00:13,280 --> 00:00:16,720
saying or whatever it is

8
00:00:16,720 --> 00:00:19,119
um so a bit about me uh i'm a

9
00:00:19,119 --> 00:00:20,720
penetration tester

10
00:00:20,720 --> 00:00:22,720
like i said before i work for quantum

11
00:00:22,720 --> 00:00:23,760
i'm a principal

12
00:00:23,760 --> 00:00:26,400
technical consultant there um some of my

13
00:00:26,400 --> 00:00:28,320
interests are physical security network

14
00:00:28,320 --> 00:00:29,039
fan testing

15
00:00:29,039 --> 00:00:32,159
3d printing and electronics um

16
00:00:32,159 --> 00:00:33,520
i've spoken a couple times at check on

17
00:00:33,520 --> 00:00:36,239
in the past about 3d printing

18
00:00:36,239 --> 00:00:39,120
keys for doors and gun safes and

19
00:00:39,120 --> 00:00:41,280
padlocks and things like that

20
00:00:41,280 --> 00:00:44,239
and last year i spoke about uh building

21
00:00:44,239 --> 00:00:46,160
a little low-cost backdoor chip for

22
00:00:46,160 --> 00:00:48,160
those rfid card readers that you see on

23
00:00:48,160 --> 00:00:50,000
businesses all around the place

24
00:00:50,000 --> 00:00:51,280
so i thought i'd do something slightly

25
00:00:51,280 --> 00:00:52,399
different this year and talk about one

26
00:00:52,399 --> 00:00:53,920
of my other interests which is network

27
00:00:53,920 --> 00:00:56,480
fan testing

28
00:00:57,039 --> 00:00:59,359
there's nothing new in this talk sort of

29
00:00:59,359 --> 00:01:00,879
i hope you'd get that from the title

30
00:01:00,879 --> 00:01:02,640
where it says old tricks

31
00:01:02,640 --> 00:01:05,840
um in the blurb where it said works

32
00:01:05,840 --> 00:01:06,640
every time

33
00:01:06,640 --> 00:01:08,880
that's not quite true like with all

34
00:01:08,880 --> 00:01:10,400
these things they kind of work most of

35
00:01:10,400 --> 00:01:13,040
the time but not all the time

36
00:01:13,040 --> 00:01:14,479
and most of the techniques that we'll be

37
00:01:14,479 --> 00:01:16,560
talking about are roughly around the

38
00:01:16,560 --> 00:01:19,360
10-year old range

39
00:01:19,360 --> 00:01:21,280
so hopefully everyone can learn a bit of

40
00:01:21,280 --> 00:01:22,880
security history

41
00:01:22,880 --> 00:01:25,439
and come out of this knowing something

42
00:01:25,439 --> 00:01:26,640
new even if you've been

43
00:01:26,640 --> 00:01:30,159
doing this a while cool

44
00:01:30,159 --> 00:01:31,680
so we're talking about what is a network

45
00:01:31,680 --> 00:01:33,600
pen test so at least

46
00:01:33,600 --> 00:01:35,360
if you're very new hopefully you can

47
00:01:35,360 --> 00:01:37,920
still get something useful out of this

48
00:01:37,920 --> 00:01:40,000
getting access to a network what

49
00:01:40,000 --> 00:01:41,360
responder is

50
00:01:41,360 --> 00:01:43,119
reading active directory using ad

51
00:01:43,119 --> 00:01:45,360
explorer smb looting

52
00:01:45,360 --> 00:01:48,320
using other servers as pivots and things

53
00:01:48,320 --> 00:01:49,920
more valuable than dumping

54
00:01:49,920 --> 00:01:52,720
sam and system

55
00:01:52,960 --> 00:01:56,240
cool so what is the network pen test um

56
00:01:56,240 --> 00:01:57,920
so i sort of hope that at least everyone

57
00:01:57,920 --> 00:01:59,439
knows what a network is

58
00:01:59,439 --> 00:02:00,560
since you're here like a bunch of

59
00:02:00,560 --> 00:02:02,399
computers all stuck together to do

60
00:02:02,399 --> 00:02:03,759
things

61
00:02:03,759 --> 00:02:06,399
um this can be a product network if

62
00:02:06,399 --> 00:02:06,960
you're

63
00:02:06,960 --> 00:02:10,800
building a solution to offer to people

64
00:02:10,800 --> 00:02:13,360
or it can be an office network where you

65
00:02:13,360 --> 00:02:15,360
work in your office with your co-workers

66
00:02:15,360 --> 00:02:16,560
or it could be if you're a huge

67
00:02:16,560 --> 00:02:18,239
organization it could be multiple

68
00:02:18,239 --> 00:02:21,120
offices all joined together that

69
00:02:21,120 --> 00:02:24,239
essentially just make up a big office um

70
00:02:24,239 --> 00:02:25,599
and so in a network fantast we want to

71
00:02:25,599 --> 00:02:27,280
look at the way data moves around these

72
00:02:27,280 --> 00:02:27,920
networks

73
00:02:27,920 --> 00:02:32,160
to manipulate that in a way that's going

74
00:02:32,160 --> 00:02:33,760
to work for us

75
00:02:33,760 --> 00:02:35,280
so what we want to do is yeah like it

76
00:02:35,280 --> 00:02:36,959
says hack some things hack some more

77
00:02:36,959 --> 00:02:38,720
things hack the important thing and get

78
00:02:38,720 --> 00:02:39,200
paid

79
00:02:39,200 --> 00:02:40,480
which you can kind of see in this

80
00:02:40,480 --> 00:02:42,400
graphic here

81
00:02:42,400 --> 00:02:46,160
if it's not too dark yeah so we have our

82
00:02:46,160 --> 00:02:47,680
bad guy who hacks a thing

83
00:02:47,680 --> 00:02:49,599
then uses that to go hack small things

84
00:02:49,599 --> 00:02:51,120
and then big pile of money and we get

85
00:02:51,120 --> 00:02:53,599
paid at the end which is great

86
00:02:53,599 --> 00:02:56,000
cool so first we're going to talk about

87
00:02:56,000 --> 00:02:56,879
getting access

88
00:02:56,879 --> 00:02:59,840
um so i tried to you know tried my hand

89
00:02:59,840 --> 00:03:01,680
at taking stock photos and plugged an

90
00:03:01,680 --> 00:03:03,599
ethernet cable into some graphics cards

91
00:03:03,599 --> 00:03:05,840
but

92
00:03:07,599 --> 00:03:11,040
um so the plan for getting access like

93
00:03:11,040 --> 00:03:12,720
i mean it feels wrong to include this as

94
00:03:12,720 --> 00:03:14,879
a 10 year old vulnerability but like

95
00:03:14,879 --> 00:03:16,879
this hasn't changed in the last 10 years

96
00:03:16,879 --> 00:03:17,920
it's probably not going to change in the

97
00:03:17,920 --> 00:03:19,120
next 10 years and it's probably going to

98
00:03:19,120 --> 00:03:19,440
stay

99
00:03:19,440 --> 00:03:22,000
mostly the same forever is you walk into

100
00:03:22,000 --> 00:03:22,560
a building

101
00:03:22,560 --> 00:03:24,959
you plug in you get access because no

102
00:03:24,959 --> 00:03:27,120
one bothers deploying any sort of like

103
00:03:27,120 --> 00:03:30,480
port controls or anything like that

104
00:03:30,480 --> 00:03:32,159
in the last 10 years it's become a lot

105
00:03:32,159 --> 00:03:34,720
more common for businesses to have wi-fi

106
00:03:34,720 --> 00:03:36,480
as this has become super cheap now and

107
00:03:36,480 --> 00:03:38,159
everyone has it even at home

108
00:03:38,159 --> 00:03:40,000
um so you can just walk in and ask the

109
00:03:40,000 --> 00:03:41,519
receptionist for the wi-fi password and

110
00:03:41,519 --> 00:03:42,959
nine ten times out of ten they'll just

111
00:03:42,959 --> 00:03:43,760
give it to you

112
00:03:43,760 --> 00:03:45,280
and the other one time out of 10 you

113
00:03:45,280 --> 00:03:46,640
just don't even have to ask because it's

114
00:03:46,640 --> 00:03:49,679
written up on a whiteboard

115
00:03:50,959 --> 00:03:52,799
another way that we get access sometimes

116
00:03:52,799 --> 00:03:55,280
is through an assumed compromise

117
00:03:55,280 --> 00:03:58,000
so where a business doesn't really care

118
00:03:58,000 --> 00:03:59,200
that

119
00:03:59,200 --> 00:04:01,840
um they have so you're trying to avoid

120
00:04:01,840 --> 00:04:03,680
the the cadbury cream egg model

121
00:04:03,680 --> 00:04:05,120
where you have like the hard shell

122
00:04:05,120 --> 00:04:07,519
outside with the soft gooey inside

123
00:04:07,519 --> 00:04:09,439
um so they want to assume that the hard

124
00:04:09,439 --> 00:04:11,040
shell is going to get breached anyway

125
00:04:11,040 --> 00:04:11,519
because

126
00:04:11,519 --> 00:04:13,760
it is right like people are going to get

127
00:04:13,760 --> 00:04:15,519
in someone's going to click on the email

128
00:04:15,519 --> 00:04:16,959
some machine is going to get infected at

129
00:04:16,959 --> 00:04:19,358
some point

130
00:04:19,918 --> 00:04:21,759
and then alternatively now where things

131
00:04:21,759 --> 00:04:24,160
are deployed in the cloud more often

132
00:04:24,160 --> 00:04:25,520
like getting access you kind of just

133
00:04:25,520 --> 00:04:27,360
have to deploy a vm into the virtual

134
00:04:27,360 --> 00:04:29,440
environment

135
00:04:29,440 --> 00:04:32,560
so how you go about fixing these things

136
00:04:32,560 --> 00:04:34,720
you could deploy 802 on x so that when

137
00:04:34,720 --> 00:04:36,240
someone plugs a device

138
00:04:36,240 --> 00:04:37,919
in that's not supposed to be on your

139
00:04:37,919 --> 00:04:39,600
network then they just don't get access

140
00:04:39,600 --> 00:04:42,240
which is really good

141
00:04:42,240 --> 00:04:44,000
or you can segregate your networks so

142
00:04:44,000 --> 00:04:45,520
there's no reason for your meeting rooms

143
00:04:45,520 --> 00:04:48,560
to have access to all of your servers

144
00:04:48,560 --> 00:04:52,000
for some reason no one does that but

145
00:04:52,400 --> 00:04:55,120
for wi-fi yeah tell your staff to just

146
00:04:55,120 --> 00:04:56,479
not give out the wi-fi password to

147
00:04:56,479 --> 00:04:57,600
everyone and stop writing it on the

148
00:04:57,600 --> 00:04:59,199
whiteboard

149
00:04:59,199 --> 00:05:01,280
again segregate your networks out if

150
00:05:01,280 --> 00:05:02,400
you're going to give

151
00:05:02,400 --> 00:05:04,639
guests to your office or network to

152
00:05:04,639 --> 00:05:06,160
access the internet so if you run a

153
00:05:06,160 --> 00:05:07,680
training facility or something like that

154
00:05:07,680 --> 00:05:08,960
and you need people to access the

155
00:05:08,960 --> 00:05:09,680
internet

156
00:05:09,680 --> 00:05:12,240
set up a unique wi-fi that just gives

157
00:05:12,240 --> 00:05:13,759
them access to the internet and to none

158
00:05:13,759 --> 00:05:16,880
of your other internal resources

159
00:05:16,880 --> 00:05:18,880
for an assumed compromise and for

160
00:05:18,880 --> 00:05:20,160
deploying a virtual machine

161
00:05:20,160 --> 00:05:22,080
there's not really much that you can do

162
00:05:22,080 --> 00:05:23,440
for those since they're kind of like an

163
00:05:23,440 --> 00:05:25,440
assumed compromise situation anyway

164
00:05:25,440 --> 00:05:27,440
so we're sort of bypassing the getting

165
00:05:27,440 --> 00:05:30,800
access but at that point

166
00:05:30,880 --> 00:05:32,479
um so now that we have access and we're

167
00:05:32,479 --> 00:05:34,720
on the network we're going to go and do

168
00:05:34,720 --> 00:05:39,039
some getting access to the first thing

169
00:05:39,039 --> 00:05:40,400
so this is sort of assumed that we have

170
00:05:40,400 --> 00:05:42,880
a laptop plugged into the network

171
00:05:42,880 --> 00:05:45,280
but we don't have access to any of the

172
00:05:45,280 --> 00:05:47,440
servers or anyone's desktop or

173
00:05:47,440 --> 00:05:48,639
any other things that might be in the

174
00:05:48,639 --> 00:05:50,320
network like the printers or your

175
00:05:50,320 --> 00:05:51,919
networking equipment or other cool

176
00:05:51,919 --> 00:05:54,240
things like that

177
00:05:54,240 --> 00:05:56,080
one of the tools that gets used all the

178
00:05:56,080 --> 00:05:57,680
time for this is responder it's

179
00:05:57,680 --> 00:05:58,960
basically the first thing that you'll

180
00:05:58,960 --> 00:05:59,600
spin up

181
00:05:59,600 --> 00:06:02,240
if you plug into a network like you want

182
00:06:02,240 --> 00:06:03,840
to spin this up before you even start

183
00:06:03,840 --> 00:06:05,280
port scanning so this can just run in

184
00:06:05,280 --> 00:06:06,319
the background

185
00:06:06,319 --> 00:06:10,000
and collect stuff for you for free

186
00:06:11,039 --> 00:06:12,240
so this is one that i wasn't sure which

187
00:06:12,240 --> 00:06:14,560
order to put these two slides in

188
00:06:14,560 --> 00:06:17,120
it might be easier for this one here it

189
00:06:17,120 --> 00:06:19,360
kind of works like

190
00:06:19,360 --> 00:06:23,520
uh no uh we'll talk about lmn r first um

191
00:06:23,520 --> 00:06:25,600
so responder works using a protocol

192
00:06:25,600 --> 00:06:26,720
called llmr

193
00:06:26,720 --> 00:06:30,000
which um sort of came about from when

194
00:06:30,000 --> 00:06:32,160
hosting a dns server used to be kind of

195
00:06:32,160 --> 00:06:34,160
expensive because cpu cycles cost a lot

196
00:06:34,160 --> 00:06:36,880
of resources

197
00:06:37,520 --> 00:06:40,240
so what they would do is if you're on

198
00:06:40,240 --> 00:06:41,600
the network and you want to know where

199
00:06:41,600 --> 00:06:42,160
something is

200
00:06:42,160 --> 00:06:43,840
and you don't have a dns server then

201
00:06:43,840 --> 00:06:45,120
you'll ping out to everyone on the local

202
00:06:45,120 --> 00:06:46,639
network and say like hey does anyone

203
00:06:46,639 --> 00:06:48,160
know where file server is

204
00:06:48,160 --> 00:06:49,360
which is kind of like what's happening

205
00:06:49,360 --> 00:06:51,360
here

206
00:06:51,360 --> 00:06:54,319
so and this sort of still happens today

207
00:06:54,319 --> 00:06:56,080
if you can't find the address through

208
00:06:56,080 --> 00:06:58,479
dns sometimes

209
00:06:58,479 --> 00:07:00,479
your computer will say does anyone know

210
00:07:00,479 --> 00:07:02,720
who file server is

211
00:07:02,720 --> 00:07:04,400
and you can sort of see your file share

212
00:07:04,400 --> 00:07:06,000
they're like misspelt this sort of

213
00:07:06,000 --> 00:07:06,720
happens

214
00:07:06,720 --> 00:07:09,759
all the time and

215
00:07:09,759 --> 00:07:11,120
sitting here with responder we just

216
00:07:11,120 --> 00:07:12,880
respond saying hey that's me

217
00:07:12,880 --> 00:07:14,880
and obviously because we respond really

218
00:07:14,880 --> 00:07:16,880
fast they just throw us their credits

219
00:07:16,880 --> 00:07:17,599
back because

220
00:07:17,599 --> 00:07:20,880
why would you not do that um

221
00:07:20,880 --> 00:07:22,479
and yeah so sort of like it says here

222
00:07:22,479 --> 00:07:24,240
the first response is trusted because

223
00:07:24,240 --> 00:07:27,360
fastest is obviously best and yeah it's

224
00:07:27,360 --> 00:07:29,759
still enabled by default and pretty much

225
00:07:29,759 --> 00:07:30,560
all windows

226
00:07:30,560 --> 00:07:33,440
stuff which is good

227
00:07:33,599 --> 00:07:36,960
um so for a bit of history uh llm r

228
00:07:36,960 --> 00:07:39,280
was released in or the rfc for it was

229
00:07:39,280 --> 00:07:42,000
released in january of 2007 so at this

230
00:07:42,000 --> 00:07:43,280
point that's been around for what's that

231
00:07:43,280 --> 00:07:45,039
like 13-ish years

232
00:07:45,039 --> 00:07:47,360
so yeah we've hit our 10 plus years mark

233
00:07:47,360 --> 00:07:48,720
which is good

234
00:07:48,720 --> 00:07:52,879
um responder not quite 10 years old yet

235
00:07:52,879 --> 00:07:55,360
was put on github and the first upload

236
00:07:55,360 --> 00:07:57,120
that i could find for on github was

237
00:07:57,120 --> 00:07:59,919
october 2012 but then the modern repo

238
00:07:59,919 --> 00:08:01,680
was redone a little like shortly after

239
00:08:01,680 --> 00:08:03,039
that

240
00:08:03,039 --> 00:08:04,720
um and it's still actively maintained

241
00:08:04,720 --> 00:08:06,080
which is awesome

242
00:08:06,080 --> 00:08:07,840
there's a windows version as well so the

243
00:08:07,840 --> 00:08:10,000
the one that's on github runs on linux

244
00:08:10,000 --> 00:08:11,759
but there's a windows version as well

245
00:08:11,759 --> 00:08:13,360
but that hasn't been updated in about

246
00:08:13,360 --> 00:08:14,080
five years

247
00:08:14,080 --> 00:08:17,280
so um that one's still out of date um

248
00:08:17,280 --> 00:08:18,720
it also has a couple issues when you try

249
00:08:18,720 --> 00:08:20,560
and get it to work but you can sort of

250
00:08:20,560 --> 00:08:21,919
if you're willing to put in the effort

251
00:08:21,919 --> 00:08:23,120
yourself you can tweak it to make it

252
00:08:23,120 --> 00:08:25,120
work again

253
00:08:25,120 --> 00:08:27,039
it looks kind of like this so you just

254
00:08:27,039 --> 00:08:28,400
sit there in the background

255
00:08:28,400 --> 00:08:31,520
um and all of the green or

256
00:08:31,520 --> 00:08:33,760
like i don't know is the woman playing

257
00:08:33,760 --> 00:08:35,279
among us like cyan

258
00:08:35,279 --> 00:08:38,958
um like yeah the cyan is people pinging

259
00:08:38,958 --> 00:08:40,799
you saying like hey does anyone know who

260
00:08:40,799 --> 00:08:41,760
this is

261
00:08:41,760 --> 00:08:43,599
and then we keep responding saying hey

262
00:08:43,599 --> 00:08:45,200
that's me hey that's me hey that's me to

263
00:08:45,200 --> 00:08:45,760
everyone

264
00:08:45,760 --> 00:08:47,279
and then eventually someone sends us

265
00:08:47,279 --> 00:08:49,839
back some creds like this

266
00:08:49,839 --> 00:08:52,080
so in this one here we get the user's

267
00:08:52,080 --> 00:08:53,839
username we get the ip address of where

268
00:08:53,839 --> 00:08:54,880
it came from

269
00:08:54,880 --> 00:08:57,120
and we get the ntlm v2 hash which is

270
00:08:57,120 --> 00:08:58,080
great because then we can go and take

271
00:08:58,080 --> 00:09:01,120
that offline and crack it

272
00:09:01,200 --> 00:09:05,040
which is what happened in this case here

273
00:09:05,040 --> 00:09:06,800
one of the guys on my team was on a

274
00:09:06,800 --> 00:09:09,040
network pen test

275
00:09:09,040 --> 00:09:11,440
asked me to take these hashes and go and

276
00:09:11,440 --> 00:09:13,040
crack them using the

277
00:09:13,040 --> 00:09:14,399
cracking rig that you can see in this

278
00:09:14,399 --> 00:09:16,080
picture here so we have a bunch of

279
00:09:16,080 --> 00:09:17,440
graphics cards that we use for cracking

280
00:09:17,440 --> 00:09:20,720
these hashes and turning them back into

281
00:09:20,839 --> 00:09:22,880
passwords

282
00:09:22,880 --> 00:09:24,240
however he probably could have done this

283
00:09:24,240 --> 00:09:26,160
one himself on his laptop because it was

284
00:09:26,160 --> 00:09:28,560
terrible

285
00:09:28,880 --> 00:09:32,000
um and then that's sweet once you've got

286
00:09:32,000 --> 00:09:33,600
that one password often that's all you

287
00:09:33,600 --> 00:09:35,440
need to give yourself the foot in

288
00:09:35,440 --> 00:09:37,120
in the door to the network to go and

289
00:09:37,120 --> 00:09:40,320
start attacking everything

290
00:09:40,480 --> 00:09:42,320
so what's happened here is we've just

291
00:09:42,320 --> 00:09:44,080
gonna use that one password to then go

292
00:09:44,080 --> 00:09:44,560
and

293
00:09:44,560 --> 00:09:47,200
hit like every other account that we

294
00:09:47,200 --> 00:09:48,080
know exists

295
00:09:48,080 --> 00:09:50,800
to see what's it going to give us access

296
00:09:50,800 --> 00:09:51,360
to

297
00:09:51,360 --> 00:09:52,480
when you find something like that that's

298
00:09:52,480 --> 00:09:53,760
probably a default password that they've

299
00:09:53,760 --> 00:09:55,279
set for the first time or

300
00:09:55,279 --> 00:09:56,880
you call up the help desk and they just

301
00:09:56,880 --> 00:09:59,839
reset your password

302
00:10:00,560 --> 00:10:02,160
yeah how do you turn this off there's

303
00:10:02,160 --> 00:10:04,079
one gpo that you just set to

304
00:10:04,079 --> 00:10:05,680
like off and that's that you're done

305
00:10:05,680 --> 00:10:08,320
you're safe now

306
00:10:08,320 --> 00:10:11,519
um cool you might be thinking but

307
00:10:11,519 --> 00:10:14,480
where did all these usernames come from

308
00:10:14,480 --> 00:10:16,880
we're going to talk about that now

309
00:10:16,880 --> 00:10:21,200
so ad explorer is a really cool tool um

310
00:10:21,200 --> 00:10:23,200
active directory as a background is like

311
00:10:23,200 --> 00:10:25,839
a centralized

312
00:10:25,839 --> 00:10:27,519
i guess now it's kind of like a windows

313
00:10:27,519 --> 00:10:28,720
thing that runs on your domain

314
00:10:28,720 --> 00:10:30,160
controller that does all the

315
00:10:30,160 --> 00:10:31,680
authentication and authorization that

316
00:10:31,680 --> 00:10:33,839
says you're allowed to access the server

317
00:10:33,839 --> 00:10:34,959
and you're not allowed to log into the

318
00:10:34,959 --> 00:10:35,839
printer over there

319
00:10:35,839 --> 00:10:38,399
and you can access this file share but

320
00:10:38,399 --> 00:10:39,760
it holds a lot more information than

321
00:10:39,760 --> 00:10:41,200
that about people

322
00:10:41,200 --> 00:10:44,480
it holds all the information that your

323
00:10:44,480 --> 00:10:46,000
organization needs about you

324
00:10:46,000 --> 00:10:48,240
to manage your internal profile so

325
00:10:48,240 --> 00:10:49,920
things like your username

326
00:10:49,920 --> 00:10:51,440
your first name your last name a

327
00:10:51,440 --> 00:10:53,680
description of who you are maybe

328
00:10:53,680 --> 00:10:56,800
it holds your password

329
00:10:57,279 --> 00:10:58,880
your contact details and those group

330
00:10:58,880 --> 00:11:00,240
memberships that give you access to

331
00:11:00,240 --> 00:11:01,680
things

332
00:11:01,680 --> 00:11:03,440
and with ad explorer we can see some of

333
00:11:03,440 --> 00:11:05,440
those things depending on

334
00:11:05,440 --> 00:11:06,959
the account that we have and what that

335
00:11:06,959 --> 00:11:09,360
account has read access to

336
00:11:09,360 --> 00:11:12,399
so ad explorer is a tool that's a part

337
00:11:12,399 --> 00:11:14,800
of a tool suite now called sysinternals

338
00:11:14,800 --> 00:11:16,240
it's put out by microsoft and it's

339
00:11:16,240 --> 00:11:18,079
signed by microsoft so it'll run

340
00:11:18,079 --> 00:11:19,519
pretty much everywhere even if they have

341
00:11:19,519 --> 00:11:22,160
like app whitelisting on which is great

342
00:11:22,160 --> 00:11:24,720
um and it lets you take an offline copy

343
00:11:24,720 --> 00:11:26,320
of a whole lot of the

344
00:11:26,320 --> 00:11:29,360
attributes of a

345
00:11:29,360 --> 00:11:30,720
active directory so that you then you

346
00:11:30,720 --> 00:11:33,120
can go and read these later offline

347
00:11:33,120 --> 00:11:35,839
so especially in the case where you're

348
00:11:35,839 --> 00:11:36,240
not

349
00:11:36,240 --> 00:11:38,720
supposed to be somewhere and you plug in

350
00:11:38,720 --> 00:11:40,800
and you can get access to stuff

351
00:11:40,800 --> 00:11:42,880
you might it might be way way too much

352
00:11:42,880 --> 00:11:44,640
information to for you to consume in the

353
00:11:44,640 --> 00:11:44,959
like

354
00:11:44,959 --> 00:11:46,320
five minutes that you have access but

355
00:11:46,320 --> 00:11:47,760
you can take an offline copy and then go

356
00:11:47,760 --> 00:11:50,959
and read that at your leisure later on

357
00:11:50,959 --> 00:11:54,079
um yeah with

358
00:11:54,079 --> 00:11:56,800
uh active directory domain admins love

359
00:11:56,800 --> 00:11:58,240
to put service passwords into the

360
00:11:58,240 --> 00:11:59,600
description field which i'll show you

361
00:11:59,600 --> 00:12:00,880
very shortly

362
00:12:00,880 --> 00:12:02,320
and you can also find accounts that have

363
00:12:02,320 --> 00:12:04,079
been recently reset sort of like we

364
00:12:04,079 --> 00:12:05,279
looked at before where there was the

365
00:12:05,279 --> 00:12:06,399
password one

366
00:12:06,399 --> 00:12:08,000
if you go and find all the accounts that

367
00:12:08,000 --> 00:12:09,519
have had their password reset

368
00:12:09,519 --> 00:12:12,240
within like the last week or so um if

369
00:12:12,240 --> 00:12:14,000
it's like summer 2020

370
00:12:14,000 --> 00:12:16,000
give that a go it'll probably get you in

371
00:12:16,000 --> 00:12:17,760
the door

372
00:12:17,760 --> 00:12:20,320
i tried to get a screenshot of actor of

373
00:12:20,320 --> 00:12:21,839
ada explorer

374
00:12:21,839 --> 00:12:25,760
um to show you like uh

375
00:12:25,760 --> 00:12:28,880
what it looks like um unfortunately like

376
00:12:28,880 --> 00:12:30,079
everything in there this looks like

377
00:12:30,079 --> 00:12:32,800
something out of an oia it's um

378
00:12:32,800 --> 00:12:34,160
yeah i had to redact basically

379
00:12:34,160 --> 00:12:36,000
everything

380
00:12:36,000 --> 00:12:37,600
um the important bit that you can see

381
00:12:37,600 --> 00:12:39,600
here is in the description field they

382
00:12:39,600 --> 00:12:41,120
were just chucking passwords and for the

383
00:12:41,120 --> 00:12:42,800
service accounts because domain admins

384
00:12:42,800 --> 00:12:44,160
assume that they're the only ones who

385
00:12:44,160 --> 00:12:45,839
can see active directory

386
00:12:45,839 --> 00:12:48,240
um which isn't true pretty much everyone

387
00:12:48,240 --> 00:12:51,440
has at least some read access to it

388
00:12:51,440 --> 00:12:54,079
um yeah so i had to even go and redact

389
00:12:54,079 --> 00:12:54,480
like

390
00:12:54,480 --> 00:12:56,160
a bunch of the password parts oh it's

391
00:12:56,160 --> 00:12:58,240
terrible um but yeah there's a bunch of

392
00:12:58,240 --> 00:12:59,040
cool fields

393
00:12:59,040 --> 00:13:01,519
in ad that you can have a look at to get

394
00:13:01,519 --> 00:13:02,399
passwords so

395
00:13:02,399 --> 00:13:04,240
things like description comments user

396
00:13:04,240 --> 00:13:06,320
password unix user password unicode

397
00:13:06,320 --> 00:13:07,040
password

398
00:13:07,040 --> 00:13:08,320
and i'm not even sure how to say that

399
00:13:08,320 --> 00:13:11,600
one but yeah that one as well

400
00:13:11,600 --> 00:13:14,639
cool um so for our history lesson here

401
00:13:14,639 --> 00:13:16,880
um active directory has been around a

402
00:13:16,880 --> 00:13:18,160
really really long time now

403
00:13:18,160 --> 00:13:21,440
um so what's that like 20

404
00:13:21,440 --> 00:13:23,680
20 years for active directory as we know

405
00:13:23,680 --> 00:13:25,760
it today but it's based on

406
00:13:25,760 --> 00:13:29,120
a more an even older thing um

407
00:13:29,120 --> 00:13:31,200
ldap a lightweight directory access

408
00:13:31,200 --> 00:13:33,279
protocol which has been around for

409
00:13:33,279 --> 00:13:35,680
since the early 90s i think it was like

410
00:13:35,680 --> 00:13:37,440
1993 or something like that

411
00:13:37,440 --> 00:13:39,199
there's been a few variations that come

412
00:13:39,199 --> 00:13:41,199
out and that's based on a whole bunch of

413
00:13:41,199 --> 00:13:43,120
like the directory access back from when

414
00:13:43,120 --> 00:13:44,320
it was um

415
00:13:44,320 --> 00:13:46,399
like phone systems and things like that

416
00:13:46,399 --> 00:13:47,760
so it's been around a really really long

417
00:13:47,760 --> 00:13:48,800
time

418
00:13:48,800 --> 00:13:50,480
but as we know it today active directory

419
00:13:50,480 --> 00:13:52,160
got added to windows in

420
00:13:52,160 --> 00:13:55,680
windows 2000 server

421
00:13:56,320 --> 00:13:59,199
ad explorer was released in january of

422
00:13:59,199 --> 00:14:03,040
2005 as a part of wind tunnels

423
00:14:03,040 --> 00:14:05,279
by a guy who built a whole bunch of

424
00:14:05,279 --> 00:14:06,720
other tools that you can use to go and

425
00:14:06,720 --> 00:14:08,399
do like windows administration

426
00:14:08,399 --> 00:14:11,120
things um it just happens that some of

427
00:14:11,120 --> 00:14:12,720
those tools happen to be really useful

428
00:14:12,720 --> 00:14:14,320
for doing hacking stuff as well which is

429
00:14:14,320 --> 00:14:15,040
great

430
00:14:15,040 --> 00:14:18,240
but i think he goes he he went from the

431
00:14:18,240 --> 00:14:19,839
company that he worked for that built

432
00:14:19,839 --> 00:14:21,839
this tool pack for doing administration

433
00:14:21,839 --> 00:14:23,440
and i think i got acquired by microsoft

434
00:14:23,440 --> 00:14:25,040
or something which is how it became a

435
00:14:25,040 --> 00:14:28,079
microsoft official tool

436
00:14:28,079 --> 00:14:31,360
um yeah so if

437
00:14:31,360 --> 00:14:34,399
if windows 2000 server was released in

438
00:14:34,399 --> 00:14:36,959
17th of february 2000 the first password

439
00:14:36,959 --> 00:14:37,920
was probably added in

440
00:14:37,920 --> 00:14:41,279
the same day um yeah and this issue just

441
00:14:41,279 --> 00:14:42,079
isn't going to be

442
00:14:42,079 --> 00:14:44,959
going away anytime soon if at all it'll

443
00:14:44,959 --> 00:14:46,240
be one of those ones that hangs around

444
00:14:46,240 --> 00:14:47,839
forever as long as people have those

445
00:14:47,839 --> 00:14:49,360
on-site domain controllers for a long

446
00:14:49,360 --> 00:14:51,360
time

447
00:14:51,360 --> 00:14:54,480
cool how do i fix this you can just

448
00:14:54,480 --> 00:14:56,480
accept that every user can read ad

449
00:14:56,480 --> 00:14:58,480
because they're going to be able to read

450
00:14:58,480 --> 00:14:59,600
80

451
00:14:59,600 --> 00:15:01,360
stop putting sensitive information in

452
00:15:01,360 --> 00:15:03,519
places where everyone can read it

453
00:15:03,519 --> 00:15:05,279
i know this is probably a dirty word

454
00:15:05,279 --> 00:15:06,800
here but do an

455
00:15:06,800 --> 00:15:10,079
audit of your ad

456
00:15:10,079 --> 00:15:12,079
and don't use predictable password reset

457
00:15:12,079 --> 00:15:13,600
patterns so stop using

458
00:15:13,600 --> 00:15:15,680
summer 2020 stop using password one two

459
00:15:15,680 --> 00:15:17,040
three um

460
00:15:17,040 --> 00:15:18,720
stop using or stop just putting

461
00:15:18,720 --> 00:15:20,160
passwords into like

462
00:15:20,160 --> 00:15:21,519
plain text fields that all really would

463
00:15:21,519 --> 00:15:23,760
be good as well cool

464
00:15:23,760 --> 00:15:25,440
so now now that we've got a couple

465
00:15:25,440 --> 00:15:26,480
accounts we're going to go use those

466
00:15:26,480 --> 00:15:27,839
accounts to go and gather some more

467
00:15:27,839 --> 00:15:28,959
information

468
00:15:28,959 --> 00:15:30,639
so if we look back at our picture of all

469
00:15:30,639 --> 00:15:32,399
the servers before we've got that

470
00:15:32,399 --> 00:15:33,759
we don't really have that first one but

471
00:15:33,759 --> 00:15:35,040
like now we're going to go look for more

472
00:15:35,040 --> 00:15:36,639
things

473
00:15:36,639 --> 00:15:39,600
cool so everyone loves shares everyone

474
00:15:39,600 --> 00:15:41,360
loves putting things available so their

475
00:15:41,360 --> 00:15:43,040
co-workers have access to them because

476
00:15:43,040 --> 00:15:44,160
collaboration right

477
00:15:44,160 --> 00:15:45,759
that's how business works and we all go

478
00:15:45,759 --> 00:15:48,959
and make money um

479
00:15:48,959 --> 00:15:50,480
especially when you're setting up your

480
00:15:50,480 --> 00:15:52,480
network and you're a domain admin and

481
00:15:52,480 --> 00:15:54,480
you need to be building those 20 laptops

482
00:15:54,480 --> 00:15:55,839
for all the new hires that have just

483
00:15:55,839 --> 00:15:56,480
come in

484
00:15:56,480 --> 00:15:57,839
a lot of that needs to be done through

485
00:15:57,839 --> 00:15:59,279
auto config stuff so you don't have to

486
00:15:59,279 --> 00:16:00,720
sit there for hours typing in all the

487
00:16:00,720 --> 00:16:02,320
passwords and setting everything up and

488
00:16:02,320 --> 00:16:03,519
you can just script it and get it to

489
00:16:03,519 --> 00:16:05,120
work and everything is nice and we all

490
00:16:05,120 --> 00:16:05,519
live

491
00:16:05,519 --> 00:16:09,440
like utopia right wrong

492
00:16:09,440 --> 00:16:11,920
all the time we find passwords on domain

493
00:16:11,920 --> 00:16:13,040
controllers in

494
00:16:13,040 --> 00:16:16,560
like setup scripts and things like that

495
00:16:16,560 --> 00:16:19,839
it's just a gold mine

496
00:16:20,000 --> 00:16:21,440
anytime that you go into a business

497
00:16:21,440 --> 00:16:23,120
that's at least like

498
00:16:23,120 --> 00:16:24,639
five to ten years old they're going to

499
00:16:24,639 --> 00:16:27,680
have stuff like this lying around

500
00:16:27,680 --> 00:16:30,079
and it's probably for service accounts

501
00:16:30,079 --> 00:16:32,000
which generally the password never gets

502
00:16:32,000 --> 00:16:34,160
reset for they have way more access than

503
00:16:34,160 --> 00:16:35,120
they need because

504
00:16:35,120 --> 00:16:37,040
the developer just gets told it has to

505
00:16:37,040 --> 00:16:38,639
work so make it happen today

506
00:16:38,639 --> 00:16:39,920
and i just give it full access to

507
00:16:39,920 --> 00:16:42,240
everything which is great

508
00:16:42,240 --> 00:16:46,079
um in terms of smb looting so like when

509
00:16:46,079 --> 00:16:48,839
you get access to a share

510
00:16:48,839 --> 00:16:50,800
um oh no

511
00:16:50,800 --> 00:16:54,800
sorry when people also expose

512
00:16:54,800 --> 00:16:57,680
shares on their local computers so this

513
00:16:57,680 --> 00:16:59,120
can happen all the time by accident

514
00:16:59,120 --> 00:17:02,160
especially in those smaller businesses

515
00:17:02,160 --> 00:17:04,240
back before you get central management

516
00:17:04,240 --> 00:17:06,319
of things um people expose a whole lot

517
00:17:06,319 --> 00:17:07,599
of shares of followers on their own

518
00:17:07,599 --> 00:17:09,439
local computer to share files with each

519
00:17:09,439 --> 00:17:11,439
other and just make things happen

520
00:17:11,439 --> 00:17:13,280
um especially when you want to show

521
00:17:13,280 --> 00:17:14,959
people photos from your wedding

522
00:17:14,959 --> 00:17:17,119
that was like 10 years ago and you just

523
00:17:17,119 --> 00:17:18,559
leave them sitting there for 10 years

524
00:17:18,559 --> 00:17:20,880
along with your passwords file

525
00:17:20,880 --> 00:17:22,720
that sounds made up but it's not it's

526
00:17:22,720 --> 00:17:23,919
true

527
00:17:23,919 --> 00:17:27,520
i'll show you shortly um also yeah don't

528
00:17:27,520 --> 00:17:29,679
store your bank's core server creds with

529
00:17:29,679 --> 00:17:32,960
exact instructions on how to log in on

530
00:17:32,960 --> 00:17:36,880
a share because that's also true

531
00:17:36,880 --> 00:17:42,080
here's one that came out recently-ish

532
00:17:42,080 --> 00:17:45,520
was yeah big4 password dump

533
00:17:45,520 --> 00:17:48,240
it's not nice to like bad mouse people

534
00:17:48,240 --> 00:17:49,120
so we'll just

535
00:17:49,120 --> 00:17:52,320
say it was one of them um but yeah you

536
00:17:52,320 --> 00:17:52,720
find

537
00:17:52,720 --> 00:17:54,640
like gold mine stuff all the time it's

538
00:17:54,640 --> 00:17:56,799
fantastic so they're like

539
00:17:56,799 --> 00:17:58,320
from this password dump you can then

540
00:17:58,320 --> 00:17:59,760
just go and like open that up and see

541
00:17:59,760 --> 00:18:01,440
like oh cool now we have passwords for

542
00:18:01,440 --> 00:18:02,640
all of the service accounts that they

543
00:18:02,640 --> 00:18:05,760
haven't changed since forever as well

544
00:18:05,760 --> 00:18:07,120
um here's the wedding photos that i

545
00:18:07,120 --> 00:18:09,600
talked about before

546
00:18:09,600 --> 00:18:13,200
here's another one um which was a

547
00:18:13,200 --> 00:18:16,400
yeah i found it and i was like do i do i

548
00:18:16,400 --> 00:18:18,320
download that do i look at it do i just

549
00:18:18,320 --> 00:18:20,000
put it in the report and we'll leave it

550
00:18:20,000 --> 00:18:22,480
there but um i had to do it for you guys

551
00:18:22,480 --> 00:18:25,760
so we opened the file um

552
00:18:25,760 --> 00:18:29,840
it was not dick pics it was a joke

553
00:18:33,440 --> 00:18:35,280
cool so here's our history lesson again

554
00:18:35,280 --> 00:18:36,960
so back to things that are hopefully not

555
00:18:36,960 --> 00:18:38,720
too boring

556
00:18:38,720 --> 00:18:42,160
so smb was originally put together by

557
00:18:42,160 --> 00:18:45,039
uh barry feigenbaum i had to look up how

558
00:18:45,039 --> 00:18:46,000
to pronounce that because i'm not

559
00:18:46,000 --> 00:18:47,280
particularly good at names

560
00:18:47,280 --> 00:18:51,039
um and yeah 1983 so what's that

561
00:18:51,039 --> 00:18:54,080
uh 37 years ago

562
00:18:54,080 --> 00:18:56,960
yeah so yes that hits our 10 years plus

563
00:18:56,960 --> 00:18:57,360
mark

564
00:18:57,360 --> 00:19:00,080
so we're good there um the more as we

565
00:19:00,080 --> 00:19:00,880
know it today

566
00:19:00,880 --> 00:19:03,760
version of smb was put in by microsoft

567
00:19:03,760 --> 00:19:05,039
in 2006

568
00:19:05,039 --> 00:19:08,799
so still 10 years plus we're still good

569
00:19:08,799 --> 00:19:11,679
um and more recently i say more recently

570
00:19:11,679 --> 00:19:12,799
still like eight years ago

571
00:19:12,799 --> 00:19:14,799
smb3 came out which gave a whole bunch

572
00:19:14,799 --> 00:19:16,720
of like end-to-end encryption and aes

573
00:19:16,720 --> 00:19:18,400
based message signing and things like

574
00:19:18,400 --> 00:19:19,200
that

575
00:19:19,200 --> 00:19:22,400
um that solve some of the problems where

576
00:19:22,400 --> 00:19:24,480
people were performing smb relay attacks

577
00:19:24,480 --> 00:19:26,720
and things like that

578
00:19:26,720 --> 00:19:30,080
cool if you find a share that you have

579
00:19:30,080 --> 00:19:31,360
access to

580
00:19:31,360 --> 00:19:33,440
here's some cool stuff that you can do

581
00:19:33,440 --> 00:19:34,400
um

582
00:19:34,400 --> 00:19:35,919
smb client is the only tool that you

583
00:19:35,919 --> 00:19:38,160
really need well

584
00:19:38,160 --> 00:19:40,640
i find

585
00:19:41,360 --> 00:19:43,280
it's in pretty much every linux distro

586
00:19:43,280 --> 00:19:45,200
ever you can just run these two commands

587
00:19:45,200 --> 00:19:45,760
if

588
00:19:45,760 --> 00:19:48,000
like definitely run the first one first

589
00:19:48,000 --> 00:19:49,679
so you know how much stuff is there

590
00:19:49,679 --> 00:19:52,080
before you try and download everything

591
00:19:52,080 --> 00:19:53,360
otherwise you're going to end up in a

592
00:19:53,360 --> 00:19:54,480
problem where you're like what am i

593
00:19:54,480 --> 00:19:56,080
going to do with this 10 terabytes of

594
00:19:56,080 --> 00:19:58,559
files

595
00:20:00,799 --> 00:20:03,360
cool so how do i fix this you can limit

596
00:20:03,360 --> 00:20:06,320
who has access to what file shares

597
00:20:06,320 --> 00:20:08,320
you can restrict what file shares or

598
00:20:08,320 --> 00:20:09,760
where in the network the file shares can

599
00:20:09,760 --> 00:20:10,880
be accessed from

600
00:20:10,880 --> 00:20:12,559
so you could make it so that your staff

601
00:20:12,559 --> 00:20:14,240
can't access each other's

602
00:20:14,240 --> 00:20:17,280
devices of asmb which is probably a good

603
00:20:17,280 --> 00:20:18,640
thing if you're not expecting them to be

604
00:20:18,640 --> 00:20:21,840
running file shares

605
00:20:21,919 --> 00:20:24,799
i avoided the dirty word of audit here

606
00:20:24,799 --> 00:20:26,000
regularly review

607
00:20:26,000 --> 00:20:28,640
the files stored on your shares you

608
00:20:28,640 --> 00:20:30,080
don't need to be sharing your wedding

609
00:20:30,080 --> 00:20:31,679
files with everyone please take those

610
00:20:31,679 --> 00:20:33,520
away

611
00:20:33,520 --> 00:20:35,200
ensure encryption and signing are both

612
00:20:35,200 --> 00:20:36,799
enabled and required

613
00:20:36,799 --> 00:20:39,919
um if you have smb 3.0 i strongly

614
00:20:39,919 --> 00:20:41,360
recommend you go and patch it if you

615
00:20:41,360 --> 00:20:42,000
haven't

616
00:20:42,000 --> 00:20:43,440
otherwise you've definitely been owned

617
00:20:43,440 --> 00:20:45,840
already

618
00:20:46,320 --> 00:20:48,880
cool so now that we've got some access

619
00:20:48,880 --> 00:20:49,919
to some stuff

620
00:20:49,919 --> 00:20:53,840
um we want to go and access other things

621
00:20:53,840 --> 00:20:57,440
and often you'll find that the important

622
00:20:57,440 --> 00:20:58,960
thing that you want to go access is

623
00:20:58,960 --> 00:21:00,559
really hard to get access to because

624
00:21:00,559 --> 00:21:02,000
it's been locked down to only being

625
00:21:02,000 --> 00:21:03,679
accessible from a couple developer

626
00:21:03,679 --> 00:21:05,520
machines or

627
00:21:05,520 --> 00:21:07,919
you've compromised the test environment

628
00:21:07,919 --> 00:21:08,960
you don't have access to the prod

629
00:21:08,960 --> 00:21:11,840
environment or something like that

630
00:21:11,840 --> 00:21:13,520
one thing that's come up handy a couple

631
00:21:13,520 --> 00:21:15,200
of times

632
00:21:15,200 --> 00:21:17,200
especially where we've got access to

633
00:21:17,200 --> 00:21:18,240
just about everything

634
00:21:18,240 --> 00:21:21,440
except the one thing that we want um

635
00:21:21,440 --> 00:21:23,520
is this sweet trick that works every

636
00:21:23,520 --> 00:21:25,440
time like i've never seen this one not

637
00:21:25,440 --> 00:21:26,799
work

638
00:21:26,799 --> 00:21:28,799
as the domain controller can just go

639
00:21:28,799 --> 00:21:32,559
everywhere because of course it can't

640
00:21:33,039 --> 00:21:34,880
yeah once you get access to the domain

641
00:21:34,880 --> 00:21:36,320
controller you can just idp to

642
00:21:36,320 --> 00:21:39,520
everything which is great we had this

643
00:21:39,520 --> 00:21:40,080
happen

644
00:21:40,080 --> 00:21:41,840
in how do i tell a story without giving

645
00:21:41,840 --> 00:21:45,440
away too much um

646
00:21:45,440 --> 00:21:49,120
we had like domain admin access on the

647
00:21:49,120 --> 00:21:50,320
domain controller but they were like

648
00:21:50,320 --> 00:21:52,000
it's totally fine that doesn't matter we

649
00:21:52,000 --> 00:21:53,760
don't care you can take over everything

650
00:21:53,760 --> 00:21:55,600
as long as you can't hit this one box

651
00:21:55,600 --> 00:21:57,600
over here

652
00:21:57,600 --> 00:22:00,720
and so we went from our

653
00:22:00,720 --> 00:22:04,000
uh from our test box that we had set up

654
00:22:04,000 --> 00:22:05,760
we used our main admin creds and try and

655
00:22:05,760 --> 00:22:08,480
log in to the the bad box

656
00:22:08,480 --> 00:22:12,240
um uh didn't work so we're like ah

657
00:22:12,240 --> 00:22:13,120
what do we do now

658
00:22:13,120 --> 00:22:14,960
just rdp to the domain controller use

659
00:22:14,960 --> 00:22:16,159
that to then go and

660
00:22:16,159 --> 00:22:19,600
go to the bad thing and we win and we

661
00:22:19,600 --> 00:22:24,000
yeah get the money get paid cool

662
00:22:24,000 --> 00:22:25,760
um so on a similar vein to that like

663
00:22:25,760 --> 00:22:28,159
once you've got full access that's

664
00:22:28,159 --> 00:22:29,840
full access like that's generally viewed

665
00:22:29,840 --> 00:22:31,039
as like winning when you're doing a

666
00:22:31,039 --> 00:22:32,240
network pen test is

667
00:22:32,240 --> 00:22:33,360
if you can get onto the domain

668
00:22:33,360 --> 00:22:35,440
controller and you can dump these two

669
00:22:35,440 --> 00:22:36,000
files

670
00:22:36,000 --> 00:22:39,039
uh the sam and system files from there

671
00:22:39,039 --> 00:22:40,400
you can go and like

672
00:22:40,400 --> 00:22:42,080
you get you basically you get everyone's

673
00:22:42,080 --> 00:22:43,440
password hashes and then you can go and

674
00:22:43,440 --> 00:22:45,200
take those offline

675
00:22:45,200 --> 00:22:46,559
and that's consider and crack them and

676
00:22:46,559 --> 00:22:48,720
that's considered winning

677
00:22:48,720 --> 00:22:50,960
but often from a business perspective

678
00:22:50,960 --> 00:22:52,159
they don't give a about that

679
00:22:52,159 --> 00:22:53,760
because like who cares

680
00:22:53,760 --> 00:22:55,360
you can go and take over all of our

681
00:22:55,360 --> 00:22:57,679
accounts but as a project manager that

682
00:22:57,679 --> 00:22:59,200
doesn't matter to me because all i care

683
00:22:59,200 --> 00:23:00,640
about is that i don't know

684
00:23:00,640 --> 00:23:02,720
the power keeps going or that we don't

685
00:23:02,720 --> 00:23:04,159
lose all the money for the bank

686
00:23:04,159 --> 00:23:07,520
or that you haven't stolen our new

687
00:23:07,520 --> 00:23:09,200
designs for a new product that hasn't

688
00:23:09,200 --> 00:23:11,840
come out yet

689
00:23:13,520 --> 00:23:17,039
so this isn't really a

690
00:23:17,039 --> 00:23:20,240
technical tip as much as it is like know

691
00:23:20,240 --> 00:23:21,840
what your goal is and know what's going

692
00:23:21,840 --> 00:23:23,919
to demonstrate impact

693
00:23:23,919 --> 00:23:26,960
especially if you've been bought in by a

694
00:23:26,960 --> 00:23:29,039
internal team who's trying to

695
00:23:29,039 --> 00:23:30,640
demonstrate that there are issues with

696
00:23:30,640 --> 00:23:31,840
the internal network

697
00:23:31,840 --> 00:23:33,600
that they're trying to get funding to go

698
00:23:33,600 --> 00:23:35,120
and fix other problems

699
00:23:35,120 --> 00:23:36,880
is they'll need to demonstrate to their

700
00:23:36,880 --> 00:23:39,280
boss that

701
00:23:39,280 --> 00:23:41,840
this is actually impactful and the

702
00:23:41,840 --> 00:23:43,279
impact could be that like

703
00:23:43,279 --> 00:23:45,120
oh no they got access to all of the

704
00:23:45,120 --> 00:23:46,960
money and then suddenly it's

705
00:23:46,960 --> 00:23:48,880
security has unlimited funding to go and

706
00:23:48,880 --> 00:23:51,600
fix everything

707
00:23:51,600 --> 00:23:54,159
cool so as a brief summary of what we've

708
00:23:54,159 --> 00:23:55,200
learned today

709
00:23:55,200 --> 00:23:56,640
we talked about what is a network pen

710
00:23:56,640 --> 00:23:58,240
test we talked about getting access to a

711
00:23:58,240 --> 00:23:58,880
network

712
00:23:58,880 --> 00:24:01,520
we talked about responder reading active

713
00:24:01,520 --> 00:24:03,279
directory with ad explorer

714
00:24:03,279 --> 00:24:06,240
smb looting using other servers as

715
00:24:06,240 --> 00:24:06,799
pivots

716
00:24:06,799 --> 00:24:08,799
and things more valuable than dumping

717
00:24:08,799 --> 00:24:11,279
salmon system

718
00:24:11,279 --> 00:24:12,799
i got told i should make a joke here

719
00:24:12,799 --> 00:24:14,559
about somebody breaking up with me but i

720
00:24:14,559 --> 00:24:15,039
couldn't

721
00:24:15,039 --> 00:24:17,279
come up with anything so that's what you

722
00:24:17,279 --> 00:24:18,640
guys get

723
00:24:18,640 --> 00:24:21,520
cool um thanks for coming uh if you'd

724
00:24:21,520 --> 00:24:23,120
like a job in security please come and

725
00:24:23,120 --> 00:24:24,559
talk to me about working for quantum

726
00:24:24,559 --> 00:24:26,159
uh we're hiring especially for

727
00:24:26,159 --> 00:24:28,559
pentesters at the moment

728
00:24:28,559 --> 00:24:32,320
cool does anyone have any questions

729
00:24:32,320 --> 00:24:47,120
cool thank you for coming

730
00:24:47,120 --> 00:24:49,199
you

