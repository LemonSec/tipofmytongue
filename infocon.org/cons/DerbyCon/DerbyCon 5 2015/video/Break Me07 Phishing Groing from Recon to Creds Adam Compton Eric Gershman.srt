1
00:00:00,200 --> 00:00:13,839
alright good evening everyone my name is
Adam Compton this is Eric Grossman today

2
00:00:13,839 --> 00:00:19,100
will do a quick low talk on fishing go
novel at all that I wrote it toward the

3
00:00:19,100 --> 00:00:24,000
end to a demo will see how fast we go
through this hopefully we don't go over

4
00:00:24,000 --> 00:00:28,450
hopefully everybody can get out of here
happily and get onto evening activities

5
00:00:28,450 --> 00:00:36,500
first slide today will be over a little
bit about who we are

6
00:00:36,500 --> 00:00:41,250
why should be listening to us things of
that nature what is fishing a little bit

7
00:00:41,250 --> 00:00:48,060
of the standard fishing process
procedure that I tend to use as well as

8
00:00:48,060 --> 00:00:53,200
they get into the toy and updates and is
quick demo of it will go through this

9
00:00:53,200 --> 00:00:56,910
hotel is not going to be too boring for
you stick around the demo will be a

10
00:00:56,910 --> 00:01:04,059
little more entertaining I'm sure so
onward has been doing this for quite

11
00:01:04,059 --> 00:01:10,749
some time in info so I am a hillbilly
yes I'm proud of it but it's fun but

12
00:01:10,749 --> 00:01:15,549
predominately thank you but only I do
recognize aside from being a father and

13
00:01:15,549 --> 00:01:18,590
a hillbilly I do you reckon not
represent myself as a programmer

14
00:01:18,590 --> 00:01:23,159
education was in my love doing a dupe
interesting but I'm a programmer doing

15
00:01:23,159 --> 00:01:28,530
pen testing as such a script things
automate things and I do appreciate when

16
00:01:28,530 --> 00:01:32,029
other people in the community right
tools amid then release them greater

17
00:01:32,029 --> 00:01:37,100
helps out everybody and this was one of
my little attempts to help contribute to

18
00:01:37,100 --> 00:01:42,499
the community have done websites in the
past but this was the first big first

19
00:01:42,499 --> 00:01:45,969
actual toys of regulated out there for
everybody will be going over toward the

20
00:01:45,969 --> 00:01:49,869
end and it's over to air it

21
00:01:49,869 --> 00:01:58,260
America so I've been a naughty for about
10 years now moves thats been

22
00:01:58,260 --> 00:02:03,080
working as a Systems Administrator a few
years ago I made the switch full-time to

23
00:02:03,080 --> 00:02:08,300
information security and working in
high-performance computing I helped

24
00:02:08,300 --> 00:02:14,300
secure supercomputers basically the
resources that support them so adamant

25
00:02:14,300 --> 00:02:19,950
met through DCA to expire the DEFCON
group in Knoxville and we start talking

26
00:02:19,950 --> 00:02:25,100
about different projects and Adam her
ideal for fishing project where he want

27
00:02:25,100 --> 00:02:31,940
to automate a lot of processes he did as
a pen tester so a little bit afterwards

28
00:02:31,940 --> 00:02:36,200
I i really decide I want to learn a lot
more about fishing and the best way to

29
00:02:36,200 --> 00:02:43,190
really learn about I want to learn how
to defend against phishing and I i found

30
00:02:43,190 --> 00:02:47,500
recently that best way to learn about
defenses to to really understand off

31
00:02:47,500 --> 00:02:52,880
thats so I created a credential
harvesting walkthrough for Dec 865 using

32
00:02:52,880 --> 00:02:57,180
the morning catch morning catches a
vulnerable virtual machine created by

33
00:02:57,180 --> 00:03:04,220
Raphael mudge and it was created to demo
client-side attacks it's it's a really

34
00:03:04,220 --> 00:03:07,570
awesome p.m. if you want to find out
more about morning catch you can just

35
00:03:07,570 --> 00:03:14,459
talk to the coal strike booth at the top
of the escalators yes so he's out there

36
00:03:14,459 --> 00:03:21,510
he's easy to find and he's really good
too so we're gonna go for a little bit

37
00:03:21,510 --> 00:03:25,180
of a background about fishing it's gonna
be pretty sure and the marina get to the

38
00:03:25,180 --> 00:03:30,580
told them oh so at its most basic
fishing is an attempt to gain sensitive

39
00:03:30,580 --> 00:03:36,530
information by manipulating someone
through electronic communications

40
00:03:36,530 --> 00:03:42,580
so so why would you fish when there's so
many other possible attack vectors

41
00:03:42,580 --> 00:03:47,370
starting out fishing has a really high
return on investment whether you're

42
00:03:47,370 --> 00:03:51,250
targeting 10 people or a hundred it may
take the same amount of effort to put it

43
00:03:51,250 --> 00:03:52,709
together

44
00:03:52,709 --> 00:03:57,290
second in may be the easiest way to get
on network that has a really low attack

45
00:03:57,290 --> 00:04:01,510
surface on the internet and finally it
just works

46
00:04:01,510 --> 00:04:06,540
fishy exploit some very basic human
needs the the needs to be helpful to

47
00:04:06,540 --> 00:04:12,310
other people and let's face it we were
pretty gullible is as humans and we fall

48
00:04:12,310 --> 00:04:20,269
for things so another reason is that
fishing has gone on for over 20 years it

49
00:04:20,269 --> 00:04:24,900
goes back to the mid nineties with
american online we just a little bit of

50
00:04:24,900 --> 00:04:29,590
background research and the best way to
tell the first instances of fishing

51
00:04:29,590 --> 00:04:35,810
where script kiddies using Visual Basic
or C++ frogs on AOL one of the most

52
00:04:35,810 --> 00:04:42,860
popular was a lil he'll actually made
the paper in San Jose Mercury all the

53
00:04:42,860 --> 00:04:48,550
way back in 95 the report includes a
fissure that allows a user to poses in

54
00:04:48,550 --> 00:04:54,110
AOL official and ask new members for
passwords or credit card numbers so

55
00:04:54,110 --> 00:05:02,070
here's an example of how running here
you have it fishing for passwords and on

56
00:05:02,070 --> 00:05:08,660
the lower right it's it has the message
it's composing a list of the of the

57
00:05:08,660 --> 00:05:12,610
targets and then the responses over
there in the left in this case it's a

58
00:05:12,610 --> 00:05:17,900
password attacks getting passwords back
it hasn't gotten a lot more complicated

59
00:05:17,900 --> 00:05:23,810
since then and in many cases fishing has
become much more easier and effective

60
00:05:23,810 --> 00:05:32,240
so kind of sensitive information or
attackers after they you can you can put

61
00:05:32,240 --> 00:05:36,570
it into a small amount of categories at
the most basic so they're they're either

62
00:05:36,570 --> 00:05:41,010
trying to get on a system or malicious
criminals are trying to make money

63
00:05:41,010 --> 00:05:47,130
somehow through credit cards can be
through trying to steal someone's

64
00:05:47,130 --> 00:05:52,970
identity or PII protected protected
information or or health information

65
00:05:52,970 --> 00:05:57,950
trying to insurance or or even medicare
Fraud i've seen

66
00:05:57,950 --> 00:06:03,510
seen recent examples where they're going
after big coin burgers in order to to

67
00:06:03,510 --> 00:06:07,990
try and steal still Bitcoin wallet so
they're trying to get money directly and

68
00:06:07,990 --> 00:06:13,740
when the more interesting one else so
here we have if you look on Twitter

69
00:06:13,740 --> 00:06:18,960
there's a lot of examples of people
being targeted on phishing attacks

70
00:06:18,960 --> 00:06:26,250
against your Steam account as shown here
I looked into this a little more and I

71
00:06:26,250 --> 00:06:34,360
found steam file stealer extreme so you
know what's old is new again it's kind

72
00:06:34,360 --> 00:06:39,900
of similar Dale Helen that it it's a
purpose-built cool stainless steel

73
00:06:39,900 --> 00:06:44,740
extreme it's a it's a commercial tool
where you pay 1995 and you're able to

74
00:06:44,740 --> 00:06:49,640
steal someones steam file and then
keylogger their credentials had to look

75
00:06:49,640 --> 00:06:54,100
into this little bit more and they're
not just trying to steal games with this

76
00:06:54,100 --> 00:06:59,639
they're also trying to to go out to the
secondary markets with for example Team

77
00:06:59,639 --> 00:07:05,650
Fortress 2 the they have collectibles
hats and you can sell these collectibles

78
00:07:05,650 --> 00:07:13,150
on 3rd third-party markets and make
thousands of dollars so what are the

79
00:07:13,150 --> 00:07:17,860
primary types of phishing attacks the
basic categories

80
00:07:17,860 --> 00:07:23,169
the main fishing is a regular blanket
gmail attack usually these are very

81
00:07:23,169 --> 00:07:28,310
simple there they require little to no
advanced research most of her time is

82
00:07:28,310 --> 00:07:32,930
spent gathering the target emails he
probably get these all the time going to

83
00:07:32,930 --> 00:07:35,380
your spam folders

84
00:07:35,380 --> 00:07:40,220
they can be easily as large as the
target base so it can be in the

85
00:07:40,220 --> 00:07:47,020
thousands all the way into the millions
so the next type is spear fishing spear

86
00:07:47,020 --> 00:07:51,610
phishing usually targets a group of
people with shared commodities such as

87
00:07:51,610 --> 00:07:56,290
employees for a specific company this
requires advanced research to make the

88
00:07:56,290 --> 00:08:02,640
email actually believable such as at a
minimum the company logo and so on a lot

89
00:08:02,640 --> 00:08:08,010
times in pentacene engagements this can
range from tens to hundreds of people

90
00:08:08,010 --> 00:08:16,390
finally there's when you just want the
CEO president or even a system n then

91
00:08:16,390 --> 00:08:21,280
you're just sending one email and you're
turning one person really risky cuz you

92
00:08:21,280 --> 00:08:25,790
only get one chance to get it right this
can go on it can be a short engagement

93
00:08:25,790 --> 00:08:31,190
could go on for weeks so most pen
testing agents are gonna involve

94
00:08:31,190 --> 00:08:38,280
spearfishing or wailing you're not gonna
be going after the entire internet yeah

95
00:08:38,280 --> 00:08:45,440
yeah so now we're gonna go through a
standard fishing process that we've got

96
00:08:45,440 --> 00:08:49,460
a scene we've talked to other people and
this is what we can tell a lot of people

97
00:08:49,460 --> 00:08:53,630
are using everyone has their own
methodologies this is just the most

98
00:08:53,630 --> 00:09:01,000
common and it all starts with recon all
sorts of Constance this is where you're

99
00:09:01,000 --> 00:09:04,920
collecting the list of targets and any
other information that may help you

100
00:09:04,920 --> 00:09:10,800
compose the TAC you sources such as the
company's own website Google searches

101
00:09:10,800 --> 00:09:18,170
and even social media sites so the the
target list might be provided by the

102
00:09:18,170 --> 00:09:22,830
customer but this is where you're going
to spend a lot of time trying to figure

103
00:09:22,830 --> 00:09:28,320
out who you're targeting to make it more
believable there's a number of tools out

104
00:09:28,320 --> 00:09:33,070
there that can help you with
reconnaissance for example the harvester

105
00:09:33,070 --> 00:09:36,780
hope you just get targeted emails and
some basic information

106
00:09:36,780 --> 00:09:39,440
recount angie is actually a full-on
framework

107
00:09:39,440 --> 00:09:44,220
for getting information through
different social media sites and all

108
00:09:44,220 --> 00:09:48,260
sorts of different sources such as bill
unless you can find a lot more about

109
00:09:48,260 --> 00:09:53,340
recovering G since there's a talk
tomorrow 9:00 a.m. by the creator Tim

110
00:09:53,340 --> 00:10:02,360
tones so foca and medical those are both
used to to parse metadata from files so

111
00:10:02,360 --> 00:10:06,410
you can parse the company website and
pull down these files and then gain

112
00:10:06,410 --> 00:10:11,980
information from their their tax
services on the internet finally we have

113
00:10:11,980 --> 00:10:18,350
a club in multi go these tools are great
for doing mass research and seeing how

114
00:10:18,350 --> 00:10:23,480
different information points connect to
each other how one host name might be

115
00:10:23,480 --> 00:10:28,440
connected to another company they're
really cool tools they're both GUI tools

116
00:10:28,440 --> 00:10:36,290
and you can find a lot of information
using them so next is the setup and

117
00:10:36,290 --> 00:10:42,120
deployment this usually involves setting
up services such as web DNS and mail no

118
00:10:42,120 --> 00:10:46,970
one saw your services are running yet to
create a convincing scenario using the

119
00:10:46,970 --> 00:10:50,620
information that you got from the
reconnaissance face and then it's time

120
00:10:50,620 --> 00:10:55,630
to actually send the messages now once
you have all this ready you really

121
00:10:55,630 --> 00:10:59,360
should be sending out test emails to
your cell and then you want to step

122
00:10:59,360 --> 00:11:03,770
through this entire process to make sure
nothings wrong this may be the only

123
00:11:03,770 --> 00:11:06,290
chance you have to fix things

124
00:11:06,290 --> 00:11:11,910
Adam what you do things don't go too
well may or may not know someone who is

125
00:11:11,910 --> 00:11:18,860
running a fishing exercise when they
sent out fifty to a hundred emails to a

126
00:11:18,860 --> 00:11:23,980
client waiting for the results come back
and really didn't get the stature

127
00:11:23,980 --> 00:11:31,110
expecting a couple hits nothing great
was really based on their dad looked at

128
00:11:31,110 --> 00:11:34,230
so they decided to go back and look at
one sample

129
00:11:34,230 --> 00:11:39,160
look at the website they were drinking
people to the website looked fair enough

130
00:11:39,160 --> 00:11:43,530
itself or the big company logo at the
top was an invalid pitchers Elliott big

131
00:11:43,530 --> 00:11:50,650
missing picture icon set up there is ok
too bad you look at the email that was

132
00:11:50,650 --> 00:11:54,990
actually sent out and might have had
another company's name setting in there

133
00:11:54,990 --> 00:12:00,710
because it was a copy and paste air from
a previous engagement just to say things

134
00:12:00,710 --> 00:12:05,930
like that can happen and they do happen
you should try to your best to catch all

135
00:12:05,930 --> 00:12:10,220
of these before you send out the actual
the first email to the customer if that

136
00:12:10,220 --> 00:12:14,510
means finding yourself colleagues maybe
to your point of contact the company to

137
00:12:14,510 --> 00:12:19,480
verify things looking right before you
send out a mass rape because once those

138
00:12:19,480 --> 00:12:24,910
actually hit the wire yet their santa
can really pull them back and forth that

139
00:12:24,910 --> 00:12:29,860
scenario you have to figure out
something else to try and one good thing

140
00:12:29,860 --> 00:12:33,800
came out of it is at least this
hypothetical person who did this they

141
00:12:33,800 --> 00:12:37,890
were able to give report to the
customers main gate giving absolute

142
00:12:37,890 --> 00:12:41,700
worst case scenario where it's broken
website and the wrong name in the emails

143
00:12:41,700 --> 00:12:45,670
and all that one percent of you people
still clicked on it and gave them gave

144
00:12:45,670 --> 00:12:47,170
up credentials so

145
00:12:47,170 --> 00:12:51,800
good for you but good luck to you now

146
00:12:51,800 --> 00:13:02,670
next collect the responses for
credential harvesting attack this could

147
00:13:02,670 --> 00:13:07,320
be the usernames and passwords if you're
exploiting the client this could be

148
00:13:07,320 --> 00:13:11,839
Metasploit sessions he'd be really
careful here if it is aggression heart

149
00:13:11,839 --> 00:13:17,740
attack and and you're trying to turn
this into a pen test yet to act quickly

150
00:13:17,740 --> 00:13:22,310
company may respond and start receiving
accounts so either way he need to decide

151
00:13:22,310 --> 00:13:27,100
what you need to do now you just
document the credentials or do you move

152
00:13:27,100 --> 00:13:32,589
on and work your way into their network
or do you use those to continue the

153
00:13:32,589 --> 00:13:38,139
susman and turns into a full penetration
has a lot this is based on the agreement

154
00:13:38,139 --> 00:13:45,350
with the customers couple more so going
from the setup and deployment there

155
00:13:45,350 --> 00:13:48,940
there's a number of tools that let you
go from the setup and deployment all the

156
00:13:48,940 --> 00:13:55,970
way to the post compromise face the
social engineering toolkit CT Merced is

157
00:13:55,970 --> 00:14:00,550
is a general-purpose told the 810
testers and performing client-side

158
00:14:00,550 --> 00:14:04,850
attacks has tons of features it's able
to run a lot of different attacks

159
00:14:04,850 --> 00:14:11,410
fishing frenzy while not as robust as
does have a web based UI is a lot more

160
00:14:11,410 --> 00:14:15,890
user-friendly I think it's kind of more
Peter towards companies that want to run

161
00:14:15,890 --> 00:14:20,680
the internal fishing exercises utilizing
a setup services and then run things

162
00:14:20,680 --> 00:14:25,949
kind of continuously the browser
exploitation framework of beef that's

163
00:14:25,949 --> 00:14:32,130
the last one is more of an attack
platform that efficient tool uses

164
00:14:32,130 --> 00:14:37,640
browser hooks to to take control over
someone's browser sessions it works

165
00:14:37,640 --> 00:14:41,250
really well when you pair it with other
tools

166
00:14:41,250 --> 00:14:46,730
finally we get to everyone's favorite
part the reporting this is where you're

167
00:14:46,730 --> 00:14:51,030
reviewing your notes to produce a report
for the customer at the minimum you're

168
00:14:51,030 --> 00:14:56,130
gonna need to describe the attack
scenario list the the targets and then

169
00:14:56,130 --> 00:15:01,230
any results that were collected really
good reports are gonna have statistics

170
00:15:01,230 --> 00:15:07,550
about comparing the list of targets to
the mountain successful credentials ever

171
00:15:07,550 --> 00:15:11,220
compromised our systems that were taken
over and they're gonna show business

172
00:15:11,220 --> 00:15:16,920
impact to some respect of the of the
attack

173
00:15:16,920 --> 00:15:22,730
all right now because I'm a hillbilly
I'm lazy just because I'm a programmer

174
00:15:22,730 --> 00:15:27,120
I'm lazy just get that out of the way
there are not lazy their resourceful so

175
00:15:27,120 --> 00:15:32,350
so we're programmers programs due to be
lazy butt so that's conflicting still

176
00:15:32,350 --> 00:15:38,200
not as I'm doing engagements as I'm
doing any given time I'm doing something

177
00:15:38,200 --> 00:15:42,940
that is repetitive I'm looking for ways
to automated and things we've covered

178
00:15:42,940 --> 00:15:46,600
are raised to the spa process are the
ways we can automate it and of course

179
00:15:46,600 --> 00:15:52,010
the answer is always yes luckily some of
the tools out there whether BB for recon

180
00:15:52,010 --> 00:15:56,880
or said they all have their own provided
a API interface or command line

181
00:15:56,880 --> 00:16:01,910
interface some of them give you great
output back whether it's come separated

182
00:16:01,910 --> 00:16:06,110
XML and JSON whatever other tools out
there like the harvester or things like

183
00:16:06,110 --> 00:16:11,160
that may not give you a nice partial
output plane but has little bit of work

184
00:16:11,160 --> 00:16:15,610
was crap corporal reply that whatever
your favorite scripting languages to

185
00:16:15,610 --> 00:16:20,250
pull it out so just get a little
resourceful you can automate in parts so

186
00:16:20,250 --> 00:16:27,320
much stuff out there it's it's easy so
yes it can be automated but at the same

187
00:16:27,320 --> 00:16:32,050
time after I started on a meeting those
processes over and over and over I

188
00:16:32,050 --> 00:16:36,350
decided that I'm just going to write my
own told to do my particular process I

189
00:16:36,350 --> 00:16:41,030
followed a lot too low bid to other
people's input and

190
00:16:41,030 --> 00:16:48,690
so I came up with SPF this beach fishing
framework DSM is an economics PDF it's a

191
00:16:48,690 --> 00:16:54,240
play on standard policy framework and
technically isn't a framework but I

192
00:16:54,240 --> 00:17:01,340
needed something in there to fill in the
hell on SPF so so yeah take that as well

193
00:17:01,340 --> 00:17:05,300
what it does is processes that we
discovered discussed earlier all the way

194
00:17:05,300 --> 00:17:11,520
from recon reporting ask this does
automate that process can be interactive

195
00:17:11,520 --> 00:17:16,420
but it can be fully automated at the
same time from the respect that you can

196
00:17:16,420 --> 00:17:20,620
just provided a domain name with a few
flags and walk away and come back and

197
00:17:20,620 --> 00:17:26,440
you should have some result it is
written in Python no danger to the

198
00:17:26,440 --> 00:17:30,690
Python or Perl water communities out
there I just thought this would be a

199
00:17:30,690 --> 00:17:35,150
good Python project and so I wrote it
and that can be written in Ruby or many

200
00:17:35,150 --> 00:17:36,680
other languages

201
00:17:36,680 --> 00:17:41,680
having to work well my phone so I went
with it and one thing that I did adhered

202
00:17:41,680 --> 00:17:46,530
to through this process is trying to
incorporate as few external dependencies

203
00:17:46,530 --> 00:17:52,090
as possible when my pet peeves is
getting a program going to run it and it

204
00:17:52,090 --> 00:17:58,070
has a whole ton of Egypt download I went
with his minimal as possible where I

205
00:17:58,070 --> 00:18:02,450
could which meant lecture working hard
at times but still we're just going and

206
00:18:02,450 --> 00:18:07,550
going so things internally does as I
said before it will harvest the email

207
00:18:07,550 --> 00:18:11,910
addresses for you does it a very similar
method currently to watch the harsher

208
00:18:11,910 --> 00:18:16,300
does things of that nature does Google
searches goes out to other websites as

209
00:18:16,300 --> 00:18:16,720
well

210
00:18:16,720 --> 00:18:20,520
doing that looking for ways to improve
on that in the future there on out what

211
00:18:20,520 --> 00:18:26,590
do that or you can provide a list of
targets chose to give you that it does

212
00:18:26,590 --> 00:18:30,680
set up and deploy the websites for you
there's a list of six or so to follow

213
00:18:30,680 --> 00:18:35,460
ones built in it can do other things as
well we'll get to that later it will

214
00:18:35,460 --> 00:18:42,400
send the phishing emails for you can do
that what touched on that as well it

215
00:18:42,400 --> 00:18:47,790
does record all lots of data 40 during
the process including credentials he

216
00:18:47,790 --> 00:18:55,510
logs and finally yeah it's not a great
rapport

217
00:18:55,510 --> 00:18:58,870
towards lots and lots of data for you
that you can use to make your own

218
00:18:58,870 --> 00:19:03,970
reporting saudis there is a report in
their lives on hold it against me but

219
00:19:03,970 --> 00:19:08,220
there is one in there that is horrible
but it is and therefore placeholder

220
00:19:08,220 --> 00:19:15,730
until future but it's in there alright
so you're just because during the

221
00:19:15,730 --> 00:19:20,680
execution of the toll to quickly get a
few sides appear for just to get the

222
00:19:20,680 --> 00:19:26,380
feel for his command line it does have
been on options at a growing list

223
00:19:26,380 --> 00:19:32,480
command line options as it goes gets
larger and larger away from dictating

224
00:19:32,480 --> 00:19:36,750
what target you're going after all the
way to whether enable verbose paralogs

225
00:19:36,750 --> 00:19:41,220
buzz out but with answering yes to all
questions things of that nature

226
00:19:41,220 --> 00:19:45,070
there is a config files well which sort
of replicates what the command line

227
00:19:45,070 --> 00:19:48,790
options are that something that you want
to just say that and forget it so that

228
00:19:48,790 --> 00:19:50,990
you can worry about it later

229
00:19:50,990 --> 00:19:56,750
does follow the standard fishing process
was very covered that I need to go back

230
00:19:56,750 --> 00:20:05,330
over it but in particular it does go to
the Recon goes out to be Google Yandex

231
00:20:05,330 --> 00:20:11,720
major search engines trying to find
potential targets it was a bag and build

232
00:20:11,720 --> 00:20:16,750
a list out of them it can use external
tools as the harvester and others if you

233
00:20:16,750 --> 00:20:19,710
so choose to help write any of those
please

234
00:20:19,710 --> 00:20:24,930
or you can specified on the command line
and just say include this file of

235
00:20:24,930 --> 00:20:29,630
targets as well just a quick example of
it going out pulling in from Google I

236
00:20:29,630 --> 00:20:30,310
don't know

237
00:20:30,310 --> 00:20:36,710
it says its grab their but this is for
example.com I think so just let me go

238
00:20:36,710 --> 00:20:42,240
through the budget targets and you can
go in and clean this list up later if

239
00:20:42,240 --> 00:20:46,450
you wish but at a photo grab the mall
just try to send emails to all of them

240
00:20:46,450 --> 00:20:52,990
if you let it next door deploy a web
server along with multiple web targets

241
00:20:52,990 --> 00:20:58,940
one too many uses to twisted libraries
with a few extra and it sees it needs it

242
00:20:58,940 --> 00:21:04,560
was used to deploy it in both a virtual
hosting manner or airport hosting manner

243
00:21:04,560 --> 00:21:10,200
if you deployed more than one web
phishing website oh do it on like 40,000

244
00:21:10,200 --> 00:21:14,240
2001 it doesn't do so for virtual
hosting well read write that so you

245
00:21:14,240 --> 00:21:20,480
don't worry about the password to enable
that there is an option for it to the

246
00:21:20,480 --> 00:21:23,660
more advanced features that is sort of
experimental still but it is what it

247
00:21:23,660 --> 00:21:28,720
does work and a lot of cases column
company profiling no go out and it will

248
00:21:28,720 --> 00:21:33,270
scan the target domain looking for
websites go through each website looking

249
00:21:33,270 --> 00:21:37,690
for login portals and then dynamically
clone downs to use others as part of the

250
00:21:37,690 --> 00:21:41,450
fishing exercise making all the
necessary changes to make all the hooks

251
00:21:41,450 --> 00:21:46,610
working properly configured that way you
can do that on the fly if you sell let

252
00:21:46,610 --> 00:21:53,850
it and it was loaded three different
what team plays in office 365 and OWA

253
00:21:53,850 --> 00:21:59,430
and a Citrix EMC it setup where is that
different ports a thousand doesn't want

254
00:21:59,430 --> 00:22:04,460
but it also rejected virtual hosting to
themselves you want to include that in

255
00:22:04,460 --> 00:22:10,570
your emails you for trusting is an able
to automatically included in the emails

256
00:22:10,570 --> 00:22:15,710
websites look like standard web sites in
the company's gonna have out there

257
00:22:15,710 --> 00:22:21,940
sending the emails you can send emails
by connecting directly to the targets MX

258
00:22:21,940 --> 00:22:28,600
record or SMTP server that way that's
the default if you want to change that

259
00:22:28,600 --> 00:22:32,600
you go into configuration change it and
you can specify any outgoing SMTP server

260
00:22:32,600 --> 00:22:37,019
you want whether it be gmail account
whether it's an SMTP dot com account or

261
00:22:37,019 --> 00:22:42,330
whatever the GoDaddy when you registered
fishing domain they will give you an

262
00:22:42,330 --> 00:22:45,120
email as well you specify that and go
with it

263
00:22:45,120 --> 00:22:51,690
there is an option to it and it does the
whole process forward just comes back

264
00:22:51,690 --> 00:22:56,460
and said it would have sent this email
with this template to this target just

265
00:22:56,460 --> 00:23:02,169
so you can look at it see what would
have happened over here different email

266
00:23:02,169 --> 00:23:06,539
template associated with the website
said its hosting and he liked but this

267
00:23:06,539 --> 00:23:10,820
was just a test so forth but it would
seem so that more later

268
00:23:10,820 --> 00:23:16,549
clinching responses to the Act III
access to the websites are logged all

269
00:23:16,549 --> 00:23:23,730
credentials are log if you enable user
tracking with a little token logs who

270
00:23:23,730 --> 00:23:29,669
clicked on the link who visited the side
does he like other websites I have key

271
00:23:29,669 --> 00:23:35,419
logging enabled so every keystroke
backspace arrow keys everything tabs a

272
00:23:35,419 --> 00:23:40,580
lot so you can go and look at that if
maybe you can gain some useful piece of

273
00:23:40,580 --> 00:23:45,429
information out there and it also has
the ability to do what I call pillow

274
00:23:45,429 --> 00:23:49,490
Gmail accounts again one of the more
advanced care mental I'm really

275
00:23:49,490 --> 00:23:53,720
developing on this one time to expanded
what that does is when it gaps and it

276
00:23:53,720 --> 00:23:58,330
captures a set of credentials it'll try
to log in with those credentials to the

277
00:23:58,330 --> 00:24:03,190
target on one of their mail servers if
it can validate and login then it goes

278
00:24:03,190 --> 00:24:07,259
ahead and pillaging part which is
currently it looks through all the mail

279
00:24:07,259 --> 00:24:10,790
headers to look for a subjects and
bodies

280
00:24:10,790 --> 00:24:15,150
what have you looking for things that
make sure he praises defines one it

281
00:24:15,150 --> 00:24:19,950
downloads at email message same thing
for attachment attachment that has a

282
00:24:19,950 --> 00:24:25,460
certain namer structure it downloaded
for local look later I'm not doing this

283
00:24:25,460 --> 00:24:29,390
to completely automate the post
exploitation phase I'm doing it so that

284
00:24:29,390 --> 00:24:34,230
I can eric said this is time sensitive
when you're doing your exercise and

285
00:24:34,230 --> 00:24:37,920
you're doing your fishing you might
launch this he went up to go to bathroom

286
00:24:37,920 --> 00:24:41,110
you might have got up and had to go to a
meeting something like that you got your

287
00:24:41,110 --> 00:24:46,180
lawyer and you're not there to test it
right away but by the time you come back

288
00:24:46,180 --> 00:24:49,400
their customers been made aware of it
they want to change the credentials and

289
00:24:49,400 --> 00:24:54,230
all that but this does as soon as it
captures it tries to do this so if

290
00:24:54,230 --> 00:24:57,670
nothing else you have that little bit a
window where it says look at them I

291
00:24:57,670 --> 00:25:02,980
tried them I got that result good worse
case scenario you don't get in but

292
00:25:02,980 --> 00:25:10,780
really she have that he's a data to help
show the customer does the keylogger

293
00:25:10,780 --> 00:25:18,710
captures the credentials hearts yeah
it's a very ugly report but it has like

294
00:25:18,710 --> 00:25:23,840
everything into a directory with all the
data subject isn't all that easily parse

295
00:25:23,840 --> 00:25:27,970
what I'll text 7 the screenshots but
everything else is tags he didn't grab

296
00:25:27,970 --> 00:25:29,510
and search for your heart's content

297
00:25:29,510 --> 00:25:35,570
advanced features are uncovered these to
company profile and pillage and now the

298
00:25:35,570 --> 00:25:42,270
demo at sea bream jump into that that's
all parade to the demagogues so let me

299
00:25:42,270 --> 00:25:52,830
just say hello I skipped over the setup
ok we're here at

300
00:25:52,830 --> 00:26:48,519
target file to says everything else is
the same to say that target file just

301
00:26:48,519 --> 00:27:02,659
send it to these two targets we knew
well the question maybe I misunderstood

302
00:27:02,659 --> 00:27:07,309
I'm sorry for the question was about the
testing know when when we have the

303
00:27:07,309 --> 00:27:11,830
message of their that said this is a
test I I think the question is that

304
00:27:11,830 --> 00:27:17,029
do we have a feature where we can we can
do a test with a number of tests

305
00:27:17,029 --> 00:27:22,130
accounts and then we can take the we can
actually go through and test them and

306
00:27:22,130 --> 00:27:27,559
then go on to the next step was like yes

307
00:27:27,559 --> 00:27:39,169
and basically you could do that now
because when you when you pass email

308
00:27:39,169 --> 00:27:44,159
file less its gonna use that listen not
do the reconnaissance base yes actually

309
00:27:44,159 --> 00:27:51,090
would do the trick plays is one flagged
reading from a file is another flag you

310
00:27:51,090 --> 00:27:54,879
can it do one or the other again to them
both and it would pull it from both so

311
00:27:54,879 --> 00:28:00,350
you get either say just do everything
the same to send it to this target list

312
00:28:00,350 --> 00:28:04,690
this three-person list and go with it
and then if that works in like an hour

313
00:28:04,690 --> 00:28:07,909
now just do the full recall her saying
that everybody or something like that if

314
00:28:07,909 --> 00:28:09,710
you wish

315
00:28:09,710 --> 00:28:14,960
basically running into ice in that case
it takes a few seconds for drying really

316
00:28:14,960 --> 00:28:22,049
assume the regatta might take a minute
to run still a really cool talk to me

317
00:28:22,049 --> 00:28:36,029
later and we'll talk about this so let's
go ahead and look it's a user list

318
00:28:36,029 --> 00:28:48,470
online listing of options so do the
things you probably want enabled by

319
00:28:48,470 --> 00:28:52,169
default on all of them is the Dashti
option that specifies the target domain

320
00:28:52,169 --> 00:28:57,710
you're going after that can also be
specified in the man and the config file

321
00:28:57,710 --> 00:29:02,259
but what does work from here if you
don't specify a config file it will use

322
00:29:02,259 --> 00:29:05,470
it was searched for a default at CFG in
the current directory and run with that

323
00:29:05,470 --> 00:29:10,970
I provide one from the get up a bunch of
other flags in their Madoff lags like

324
00:29:10,970 --> 00:29:16,570
enable all just do testing do recon

325
00:29:16,570 --> 00:29:23,549
other ones so forth so let's go ahead
and get started like what you doing

326
00:29:23,549 --> 00:29:30,529
typical engagement me go ahead and make
sure my demos alright so does / dash d

327
00:29:30,529 --> 00:29:35,610
I'm running a separate them on here just
about the internet it's called it simple

328
00:29:35,610 --> 00:29:47,399
fish and she had my own top plz there so
that would be awesome by the way cells

329
00:29:47,399 --> 00:29:51,110
go ahead and enable very verbose output
and let's go and gather from the

330
00:29:51,110 --> 00:29:51,960
internet

331
00:29:51,960 --> 00:29:56,710
yes go ahead and obtain a list of
targets goes out as I said to Google

332
00:29:56,710 --> 00:30:02,090
being asked you can see there is easy to
expand that to others as the same list

333
00:30:02,090 --> 00:30:07,169
as you see and the harvester I went back
and made all the push pull up pull

334
00:30:07,169 --> 00:30:11,070
request harvester make sure they were in
sync

335
00:30:11,070 --> 00:30:16,110
any updates and you're gonna see this is
comes back as an air on some customers

336
00:30:16,110 --> 00:30:19,250
where they might not have very much on
the Internet at all or you might be

337
00:30:19,250 --> 00:30:22,610
doing this in turn to their network and
they don't really have internet

338
00:30:22,610 --> 00:30:27,480
connectivity or something like that but
what you can do is remove that in with a

339
00:30:27,480 --> 00:30:35,879
file targets and that target file had
one email address in there which is down

340
00:30:35,879 --> 00:30:44,490
there which is s Jain example up fish so
we're going to go with a customer gave

341
00:30:44,490 --> 00:30:47,570
us the one we're going to use so let's
go ahead

342
00:30:47,570 --> 00:30:52,059
tried the same thing targeting a
template up fish just enable very

343
00:30:52,059 --> 00:30:58,789
verbose output so we can see that but
given that target list of web server and

344
00:30:58,789 --> 00:31:03,940
Lance be riskier going against what I
told you to do earlier just emails this

345
00:31:03,940 --> 00:31:11,299
does it feel like doing an extra
execution let's go ahead and hit yes in

346
00:31:11,299 --> 00:31:18,269
this scenario I got it alright let's do
this again

347
00:31:18,269 --> 00:31:22,710
alright so you seniors sixty men
template Jan enabled by default in their

348
00:31:22,710 --> 00:31:26,129
office 365 Cisco ova and so forth

349
00:31:26,129 --> 00:31:29,609
the ones you want to enable I know I
have one targeting they're going to go

350
00:31:29,609 --> 00:31:37,340
after an office 365 1st one point had
dinner now that's good web server

351
00:31:37,340 --> 00:31:42,320
startup that web server I don't have
virtual hosting enabled right now so

352
00:31:42,320 --> 00:31:51,859
just doing my part based redirection its
on 143 colony 2008 go ahead and get the

353
00:31:51,859 --> 00:31:57,330
list of targets find a template match
that the email it found one and they're

354
00:31:57,330 --> 00:32:02,480
sending emails and it's in the email
every remote songs are you see the email

355
00:32:02,480 --> 00:32:07,100
body go by and then what's waiting for
activity was jump over to the website

356
00:32:07,100 --> 00:32:15,059
and login assess chain on her email
client here let's see what happens here

357
00:32:15,059 --> 00:32:21,090
office office 365 from supported example
he says in an effort to continue blah

358
00:32:21,090 --> 00:32:24,970
blah blah you going to change that I
just got a sample text in there just to

359
00:32:24,970 --> 00:32:25,740
help out

360
00:32:25,740 --> 00:32:30,619
click on this link to verify that you
can access it so let's go and click on

361
00:32:30,619 --> 00:32:36,440
it and that's your office 365 will jump
back you can quickly see right there

362
00:32:36,440 --> 00:32:42,740
right off the bat that shows an excess
of the website shows as Jane did it now

363
00:32:42,740 --> 00:32:50,750
yeah sorry yes I see that our nineties
England again you can see that has

364
00:32:50,750 --> 00:32:54,359
changed is the one who access that what
I P and what have you

365
00:32:54,359 --> 00:33:00,260
so let's jump back over here let's go
ahead and type in I don't know chain

366
00:33:00,260 --> 00:33:06,700
and password

367
00:33:06,700 --> 00:33:10,630
dinner and this is just the standard
error page and go in specify that for

368
00:33:10,630 --> 00:33:16,140
each template what you wanted to have a
just going to add a fall one as I get to

369
00:33:16,140 --> 00:33:20,450
say this to what is it that some of the
other one say that's like a fish

370
00:33:20,450 --> 00:33:29,830
the one that redirect wherever you want
but you see all the key logs coming in

371
00:33:29,830 --> 00:33:35,430
he longing all the characters including
the tab at the bottom you'll see that

372
00:33:35,430 --> 00:33:41,220
there's a credential of user name s Jain
and password whatever I typed in there

373
00:33:41,220 --> 00:33:49,940
and yeah yeah that's exactly what I'm
doing the keylogger they start having it

374
00:33:49,940 --> 00:33:54,730
in the delayed or canceled out you won't
see the good in July but you will see

375
00:33:54,730 --> 00:33:58,750
all the key logging so you might be able
to read constitute what their password

376
00:33:58,750 --> 00:34:02,610
would be from that so that was the
standard execution of it so it's going

377
00:34:02,610 --> 00:34:08,540
to kill out that it does create a
directory as jump in their example and

378
00:34:08,540 --> 00:34:14,490
here's a combination of your fishing the
main and the target domain just as

379
00:34:14,490 --> 00:34:21,190
unique as jump in there makes a series
of subdirectories logs pillage and so

380
00:34:21,190 --> 00:34:21,730
forth

381
00:34:21,730 --> 00:34:26,790
that's going on looking alongs all year
long distorting here for example the

382
00:34:26,790 --> 00:34:33,570
office 365 you see all the logs and came
in from that dumped in there there's

383
00:34:33,570 --> 00:34:36,629
another one in there this particular
interest which is the process long

384
00:34:36,629 --> 00:34:43,980
process log is a timestamp date and
timestamp log of every single thing that

385
00:34:43,980 --> 00:34:47,460
was admitted to the screen or the tool
ran so the customer comes back national

386
00:34:47,460 --> 00:34:51,060
what happened at a particular time you
have the full log based on your current

387
00:34:51,060 --> 00:34:57,810
and it done everything in there that it
does so let's go back and try one other

388
00:34:57,810 --> 00:35:01,310
example here and there

389
00:35:01,310 --> 00:35:12,030
let's go ahead and read read it but this
time with DNS option which is required

390
00:35:12,030 --> 00:35:17,080
for the pillage

391
00:35:17,080 --> 00:35:23,030
yep okay so it's going through in order
to the pill engine has to identify as I

392
00:35:23,030 --> 00:35:27,940
am IMAP or pop3 as sure as a baby
servers on the target so let's run

393
00:35:27,940 --> 00:35:32,390
through that to try to find targets and
let it run through that and we'll see

394
00:35:32,390 --> 00:35:38,610
quickly find a few it can't find any
through Google searches on Google at the

395
00:35:38,610 --> 00:35:42,300
moment so that next to go through and
just has a list of potential targets

396
00:35:42,300 --> 00:35:48,310
hostnames tries to check each one of
those India finds it makes a list then

397
00:35:48,310 --> 00:35:52,090
it will go through into a port scan of
each one of those for certain powers to

398
00:35:52,090 --> 00:35:59,890
see if it finds one that has a 993 995
for 25 or so forth on it to find that

399
00:35:59,890 --> 00:36:05,390
then it comes back as ok found much
assistance as co-head deploy the website

400
00:36:05,390 --> 00:36:14,390
yes and yes go ahead and get the list
yes yes in the emails and now it's in

401
00:36:14,390 --> 00:36:18,880
there was no let's go back to poorer
Sally here

402
00:36:18,880 --> 00:36:28,930
alright so your celly cel has this link
again click on login as Jane at the

403
00:36:28,930 --> 00:36:31,870
whole fish

404
00:36:31,870 --> 00:36:43,480
nope so let's try that again

405
00:36:43,480 --> 00:36:55,950
sorry about that so he doesn't know yet
no she doesn't all right there we go all

406
00:36:55,950 --> 00:37:06,730
rights and in working why am I not
remembering my password

407
00:37:06,730 --> 00:37:20,359
alright well I have a backup for this ok
let's go against the demagogues reload

408
00:37:20,359 --> 00:37:52,990
this alright gayness go and yeah let's
do this the old fashioned so let's jump

409
00:37:52,990 --> 00:37:57,040
in i mean run this by hand and show you
what would have happened had apparently

410
00:37:57,040 --> 00:38:05,770
I had not forgot my password so I time
or Mel pillage

411
00:38:05,770 --> 00:38:15,030
s chain is trying to connect in and ok
so I was going on it's a go but so what

412
00:38:15,030 --> 00:38:22,140
you gonna see here wow that's a lot of

413
00:38:22,140 --> 00:38:29,000
so first things going to do is it says
that led with password a flaw was able

414
00:38:29,000 --> 00:38:34,349
to validate on that I P going looking
for message bodies that match this test

415
00:38:34,349 --> 00:38:40,010
cases credential account password login
and I and several of them for each one

416
00:38:40,010 --> 00:38:47,000
of those it downloads it to a local
directory then it also goes in and

417
00:38:47,000 --> 00:38:50,589
similar things like I said this is just
for testing purposes at the moment looks

418
00:38:50,589 --> 00:38:56,730
for attachments and found 100 Angeles
that txt was it out it looks for

419
00:38:56,730 --> 00:39:03,000
additional targets it found that there
is in a Compton at example to fish

420
00:39:03,000 --> 00:39:07,730
support a template up fish I'm working
on a way to have it automatically take

421
00:39:07,730 --> 00:39:11,539
those of its not hard the list that she
had already provided I would you like me

422
00:39:11,539 --> 00:39:16,200
now to finish these gentlemen and yes it
will repeat the process of them

423
00:39:16,200 --> 00:39:22,539
automatically so yeah and it pulls down
subject lines of emails that match some

424
00:39:22,539 --> 00:39:27,130
things so this is something I'm working
on to expand and grow as just a

425
00:39:27,130 --> 00:39:31,009
placeholder for future we're going to
put in here it's something that I'd like

426
00:39:31,009 --> 00:39:35,609
to see it grow but was going to look at
in here you'll see it pulled down the

427
00:39:35,609 --> 00:39:41,190
credentials file which is contained a
bunch of credentials and pulled down all

428
00:39:41,190 --> 00:39:46,519
the emails from Sally just the wrong
message

429
00:39:46,519 --> 00:39:52,890
dump of everything it had so that is the
general execution of it there's a few

430
00:39:52,890 --> 00:39:55,740
other features that can do in there you
just want to deploy the web server by

431
00:39:55,740 --> 00:39:59,769
said he can do that without doing
everything else if you just want to send

432
00:39:59,769 --> 00:40:05,829
emails or so everything is much nicer
parts and all the others it's or at any

433
00:40:05,829 --> 00:40:09,450
point you could always just give it the
dash why option which says answer yes to

434
00:40:09,450 --> 00:40:14,410
all questions and just go and do your
stuff so you get off it why and just

435
00:40:14,410 --> 00:40:17,589
come back later and see what you've
captured which is kinda interesting

436
00:40:17,589 --> 00:40:23,509
there's thought processes about how to
automate that and for random targets but

437
00:40:23,509 --> 00:40:27,490
that's a different story in talk to me
later about that so let's go ahead and

438
00:40:27,490 --> 00:40:32,130
jump back to the actual slides now let
me switch back over there's not going to

439
00:40:32,130 --> 00:40:46,730
be a few more slides here yet at the
same time and I'll just talk often these

440
00:40:46,730 --> 00:40:52,750
real quick here where did you go to
where we just talked about this real

441
00:40:52,750 --> 00:40:59,589
quick demo sort of word future we're
incorporating more external tools of

442
00:40:59,589 --> 00:41:04,720
their present I don't want to add an
external toward that is a requirement if

443
00:41:04,720 --> 00:41:08,460
it's a requirement to build it in but if
there's other toys that can help

444
00:41:08,460 --> 00:41:14,109
supplement add to enhance that's great
incorporate those definitely more work

445
00:41:14,109 --> 00:41:18,900
on the profiling and pillaging due to
the scenario here here I could really do

446
00:41:18,900 --> 00:41:24,950
the profiling it doesn't work in the lab
environment maybe then to report I don't

447
00:41:24,950 --> 00:41:29,180
know you tell me something you want me
dead in there something that you are

448
00:41:29,180 --> 00:41:30,319
going to yourself

449
00:41:30,319 --> 00:41:35,440
incorporated as a sale may be
incorporated SSL due to the way it's

450
00:41:35,440 --> 00:41:39,109
done I don't really know the best
solution that if you have any doubts

451
00:41:39,109 --> 00:41:43,750
please hit me up possibly using
encrypted or when it comes to available

452
00:41:43,750 --> 00:41:48,289
with their API a reason that to get some
hits in their automatically generating

453
00:41:48,289 --> 00:41:53,440
true a cell search for all of them on
demand any other suggestions we will

454
00:41:53,440 --> 00:41:57,740
have please share its own get herbert's
been at the bottom of the link down here

455
00:41:57,740 --> 00:41:59,920
the entire time

456
00:41:59,920 --> 00:42:07,060
please go out do appalled to find some
idiot for update when have you submit an

457
00:42:07,060 --> 00:42:11,820
issue ticket I don't care anything just
kept this thing improve

458
00:42:11,820 --> 00:42:16,780
big thank you as I said to all the other
developers out there I love the toys

459
00:42:16,780 --> 00:42:20,430
that are out there they kept me out
numerous times over the years to an

460
00:42:20,430 --> 00:42:25,940
engagement even if they don't work out
the way I want it gets me thinking it

461
00:42:25,940 --> 00:42:28,790
can happen down the road and it helps
other people

462
00:42:28,790 --> 00:42:31,820
brainstorm and come up with other
solutions as well

463
00:42:31,820 --> 00:42:35,310
race all the people up here and
everybody's night on here that's written

464
00:42:35,310 --> 00:42:39,500
thank you all it's great we need more
towards written in there thank you to

465
00:42:39,500 --> 00:42:46,680
all of you do this through all this and
not throwing stuff at me that's great I

466
00:42:46,680 --> 00:42:57,090
like that one that's a nice one and
that's it

467
00:42:57,090 --> 00:43:02,410
but now the final information if you
want to find links on us or find links

468
00:43:02,410 --> 00:43:07,850
on the tool whatever its up there I
don't know how we're doing on time we're

469
00:43:07,850 --> 00:43:15,970
done with questions suggestions
questions comments on how my physical

470
00:43:15,970 --> 00:43:18,950
thank you

