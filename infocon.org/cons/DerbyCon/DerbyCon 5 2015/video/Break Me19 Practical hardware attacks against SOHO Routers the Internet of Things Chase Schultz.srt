1
00:00:00,000 --> 00:00:08,380
judy's myself I'm at the bay area I live
over in Oakland flew all the way and to

2
00:00:08,380 --> 00:00:16,730
the fine state of Kentucky here and
during my day job I guess I do a lot of

3
00:00:16,730 --> 00:00:25,560
web app n test security assessment
source code review that thing and yeah I

4
00:00:25,560 --> 00:00:29,920
worked for independent security
evaluators that's there there's some

5
00:00:29,920 --> 00:00:36,809
really cool folks doing some interesting
security assessments and you know some

6
00:00:36,809 --> 00:00:43,770
of the the way that I can get into this
was I I got interested in the so

7
00:00:43,770 --> 00:00:49,059
hopelessly broken competition at DEFCON
a couple years and that kind of got me

8
00:00:49,059 --> 00:00:53,920
interested in to some of the hardware
space digging into that a little bit

9
00:00:53,920 --> 00:01:00,109
more and it's been fun to kind of build
build on that experience that's kind of

10
00:01:00,109 --> 00:01:03,899
like where I got started with something
like the router hacking stuff moved on

11
00:01:03,899 --> 00:01:28,479
to more like animation type stuff and
it's well what you're saying but yeah

12
00:01:28,479 --> 00:01:35,710
I'm so so you are a practical hardware
attacks against soho routers and I O two

13
00:01:35,710 --> 00:01:44,810
devices I wanted to kind of put this
together as a talk geared at giving

14
00:01:44,810 --> 00:01:50,100
people that are new to hardware hacking
like me know a place to get started I

15
00:01:50,100 --> 00:01:54,729
you know like a way to kind of get into
this cause when I when I first started

16
00:01:54,729 --> 00:02:00,079
doing hardware hacking stuff I was like
a software guy had no idea about you

17
00:02:00,079 --> 00:02:04,229
know the physics of it or even how to
use a multimeter so I had to start there

18
00:02:04,229 --> 00:02:04,840
and

19
00:02:04,840 --> 00:02:10,289
and start working forward from that
point so yeah this is just a little bit

20
00:02:10,289 --> 00:02:15,360
about I see where all over the place i
mean we kind of hit up some of the

21
00:02:15,360 --> 00:02:22,750
various kinds here but yeah hackers
cryptography is reverse engineers the

22
00:02:22,750 --> 00:02:27,660
result bunch of research that was done
kind of founded the company was around

23
00:02:27,660 --> 00:02:34,290
some of the like Ford mobilizer packing
some that stuff and then obviously some

24
00:02:34,290 --> 00:02:41,540
that iPhone and Android hacks Jacob
holcomb one of our guys well and he was

25
00:02:41,540 --> 00:02:47,890
doing some rather hacking in as a couple
years ago there were that that was kind

26
00:02:47,890 --> 00:02:53,950
of really helpful to be able to to watch
some of his stuff and get interested in

27
00:02:53,950 --> 00:02:54,579
that

28
00:02:54,579 --> 00:03:01,120
so yes I kind of talked a little bit
about who I am but yeah I'm changeable

29
00:03:01,120 --> 00:03:08,459
I'm a senior security consultant that's
my twitter handle on its at the doctors

30
00:03:08,459 --> 00:03:12,910
of you want to go out you can be and
those are some of my interests reverse

31
00:03:12,910 --> 00:03:18,780
engineering and hardware software
defined radios buzzing and then you know

32
00:03:18,780 --> 00:03:22,230
kind of getting into the embedded
systems spaces has been a really good

33
00:03:22,230 --> 00:03:34,609
experience as well so ok so this is
pretty much what I'm going to be talking

34
00:03:34,609 --> 00:03:40,569
today about organized that kind of go
through the through these items here

35
00:03:40,569 --> 00:03:44,940
we're gonna talk a little bit about
hardware hacking and some tools of the

36
00:03:44,940 --> 00:03:50,700
trade a little bit and to some of the
methodologies that I've kind of acquired

37
00:03:50,700 --> 00:03:56,230
through working and playing around with
some of this stuff and I've got lots of

38
00:03:56,230 --> 00:04:03,700
pictures so if i if i buy speed through
it will go to photo journal or or

39
00:04:03,700 --> 00:04:04,940
whatever have you

40
00:04:04,940 --> 00:04:10,670
and then I've got a demo for you guys
today just to kind of solidify I think

41
00:04:10,670 --> 00:04:15,620
that always helps his to be able to see
you know what some of these hardware

42
00:04:15,620 --> 00:04:21,100
interfaces and what you can do with them
so I've got a little automation device

43
00:04:21,100 --> 00:04:27,530
down here that all power on and all
walks through the UART interface on it

44
00:04:27,530 --> 00:04:31,240
and you know what it looks like just
seeing the device boot up that type of

45
00:04:31,240 --> 00:04:36,420
thing so I kinda got into all this

46
00:04:36,420 --> 00:04:42,880
like I said with the hacking competition
at DEFCON a couple years ago I really

47
00:04:42,880 --> 00:04:52,340
like that and then now you know there's
all this like IOT space stuff and it's I

48
00:04:52,340 --> 00:04:56,380
think there's all these devices I think
I O Jesus like another rebranding of

49
00:04:56,380 --> 00:04:59,740
machine-to-machine communication and you
know all this stuff has been around for

50
00:04:59,740 --> 00:05:04,530
like you know for quite a while but I
think it's now getting to the point

51
00:05:04,530 --> 00:05:10,050
where you know there's all these toys
and little devices in you know now we're

52
00:05:10,050 --> 00:05:13,510
supposed to have that billions of
connected devices and the next you know

53
00:05:13,510 --> 00:05:22,910
before 2020 so yeah I got into this
hardware hacking thing and it was it was

54
00:05:22,910 --> 00:05:28,360
kind of an interesting time I was like
lots of web app stuff windows were

55
00:05:28,360 --> 00:05:29,830
saying

56
00:05:29,830 --> 00:05:35,600
application and security type stuff and
then I decided you know what I'm

57
00:05:35,600 --> 00:05:42,250
learning some stuff about hardware and
so I decided to take the software guy

58
00:05:42,250 --> 00:05:50,170
back to school and so the the reason
that I got into the hardware hacking

59
00:05:50,170 --> 00:05:56,510
stuff is these are like little black box
you know they they run Linux they do

60
00:05:56,510 --> 00:06:01,370
things but you know you like trying to
pull up terminal on him or something

61
00:06:01,370 --> 00:06:06,130
like that he just can't get to it
without like playing around with some of

62
00:06:06,130 --> 00:06:13,970
the hardware stuff so it's a great way
to get into a device for initial

63
00:06:13,970 --> 00:06:19,960
research so going through like these
UART interfaces or play around with my

64
00:06:19,960 --> 00:06:28,760
JTAG stuff for debugging it's really
kind of entry like points to get in

65
00:06:28,760 --> 00:06:36,280
there and kind of start looking at the
binaries or dumping the flash memory and

66
00:06:36,280 --> 00:06:43,710
so yeah we kinda talked about some of
the IOT space but yeah like smart homes

67
00:06:43,710 --> 00:06:51,940
medical devices toys health fitness
stuff i mean obviously lots of sensors

68
00:06:51,940 --> 00:06:57,200
out there for like your house like the I
don't know their I've got a couple of

69
00:06:57,200 --> 00:07:01,870
sensors at home that are like doors or
like home security type stuff

70
00:07:01,870 --> 00:07:12,080
motion sensor all sorts of devices that
are hooked up via ZigBee and z-wave so

71
00:07:12,080 --> 00:07:16,490
when when I started first thinking about
like hardware hacking I don't really

72
00:07:16,490 --> 00:07:18,550
know what it was

73
00:07:18,550 --> 00:07:24,500
Cesar like some of the terms that kind
of I i atleast associated with hardware

74
00:07:24,500 --> 00:07:29,370
hacking so there's you are more
universal asynchronous receive and

75
00:07:29,370 --> 00:07:37,510
transmit and it's it's basically a
wireline protocol or serial protocol if

76
00:07:37,510 --> 00:07:43,640
you will that you can access and it's
it's basically like a terminal in like a

77
00:07:43,640 --> 00:07:49,080
shell access you there's there's about
like for a little pens and there's a

78
00:07:49,080 --> 00:07:56,530
receiving transmitted in a ground pin
and VCC pin which is like voltage the

79
00:07:56,530 --> 00:08:03,500
most part and then also JTAG which i
think has a lot of misconceptions what

80
00:08:03,500 --> 00:08:03,900
it is

81
00:08:03,900 --> 00:08:09,280
JTAG you've probably heard of that from
like Xbox or something like that you

82
00:08:09,280 --> 00:08:14,360
know been able to do that but it's it's
it's really like a hardware kind of

83
00:08:14,360 --> 00:08:21,850
debug interface so that you can run like
a very end do hardware breakpoints stuff

84
00:08:21,850 --> 00:08:31,600
like that and then finally a spy and i2c
are basically the wireline protocol in

85
00:08:31,600 --> 00:08:37,680
between two different components or
chips on a port so you'll have you know

86
00:08:37,680 --> 00:08:43,180
like the main application processor and
then they'll be like a spy interface for

87
00:08:43,180 --> 00:08:48,070
like the flash chip that too

88
00:08:48,070 --> 00:08:54,280
through the traces on board and so these
these are kind of the first things that

89
00:08:54,280 --> 00:08:55,790
I got

90
00:08:55,790 --> 00:09:02,940
associated with hardware hacking just
sit and think about it that way so this

91
00:09:02,940 --> 00:09:11,530
is a show this is a camera and home
automation device like home automation

92
00:09:11,530 --> 00:09:20,050
hub and so you can connect other ZigBee
and z-wave connected devices to it but I

93
00:09:20,050 --> 00:09:24,220
i've when I first was messing around
this iPod pop this thing open and it's

94
00:09:24,220 --> 00:09:24,790
like

95
00:09:24,790 --> 00:09:29,120
trying to put the batteries and I look
at it as like little cut out the back

96
00:09:29,120 --> 00:09:34,590
with these like four pins expose their
so I was like alright play around with

97
00:09:34,590 --> 00:09:43,980
this so the device the piper is on the
right there and then little bored that's

98
00:09:43,980 --> 00:09:52,740
attached to it is a device called a ship
and it's made by exhibitor Stevan Ridley

99
00:09:52,740 --> 00:09:57,890
if you haven't seen any of his stuff he
really excellent resource for like

100
00:09:57,890 --> 00:09:59,210
hardware hacking

101
00:09:59,210 --> 00:10:04,370
talked a couple of years ago hardware
hacking for software people I think

102
00:10:04,370 --> 00:10:11,340
definitely check that out of a good
chance he can I when I took his cloris

103
00:10:11,340 --> 00:10:19,500
last year he said that it kind of just
like me because he wanted one device if

104
00:10:19,500 --> 00:10:29,250
you will so it handles both you are JTAG
and also as a spy interface if you want

105
00:10:29,250 --> 00:10:35,430
to do things like jumping flash memory
or wiring up to these boards to try and

106
00:10:35,430 --> 00:10:47,700
Papa shell and also you know as a JTAG
interface with open Oct so cutting tools

107
00:10:47,700 --> 00:10:48,650
of the trade

108
00:10:48,650 --> 00:10:55,440
the you know when I started by building
a small lab at home it's it's definitely

109
00:10:55,440 --> 00:11:01,450
nothing as professional as like I'll
actives lab or something like hardcore

110
00:11:01,450 --> 00:11:06,930
hardware hacking folks you know I'm just
another guy China play around with some

111
00:11:06,930 --> 00:11:14,620
stuff so you know this is a picture of
my desk at home with multimedia and a

112
00:11:14,620 --> 00:11:16,889
couple of routers hang out there

113
00:11:16,889 --> 00:11:27,809
tools trying to get into biases this is
just another another picture of another

114
00:11:27,809 --> 00:11:33,509
lab banks that I have set up the house
in like I hope routers there so tired of

115
00:11:33,509 --> 00:11:41,749
pwnage as I like to call it but you know
for a while I would just buy one or two

116
00:11:41,749 --> 00:11:46,899
these routers at a time and I'd be like
let's just go see what's on IM and for

117
00:11:46,899 --> 00:11:51,970
the most part I tried to stick to free
like cheap ones that he has some average

118
00:11:51,970 --> 00:11:56,410
consumer walking into Best Buy you know
what are they gonna buy right off the

119
00:11:56,410 --> 00:12:07,679
shelf and so most of these are like 20
to $40 tops and you know i'm open and

120
00:12:07,679 --> 00:12:12,959
start new gig at the hardware and try to
figure out what type of stuff is on

121
00:12:12,959 --> 00:12:19,839
identifying like the various interfaces
and stuff like that so this is one of

122
00:12:19,839 --> 00:12:25,220
the first to like absolutely you could
get by without it but like they're so

123
00:12:25,220 --> 00:12:33,019
helpful like having a multimeter is like
really helpful this is Luke multimeter

124
00:12:33,019 --> 00:12:37,279
and it can do like continuity testing is
the main thing that I use it for that

125
00:12:37,279 --> 00:12:38,339
and the like

126
00:12:38,339 --> 00:12:44,499
monitoring or like probing round for
various voltage tryna figure out like

127
00:12:44,499 --> 00:12:44,999
what

128
00:12:44,999 --> 00:12:50,869
pins are you know what what type of
system I'm dealing with and stuff like

129
00:12:50,869 --> 00:12:55,749
that it's really useful I use it for
like 10 out reversing so all set there

130
00:12:55,749 --> 00:12:59,230
and I'll try to find like ground first

131
00:12:59,230 --> 00:13:04,589
you know that way I know I've got like a
place that is grounded on the the board

132
00:13:04,589 --> 00:13:11,160
I know that you know if I want to try
and mess with some software like a

133
00:13:11,160 --> 00:13:18,149
recent Pew ground like hold the device
that have the thing and then the next

134
00:13:18,149 --> 00:13:27,369
thing I used the multimeter for is like
on the voltage setting to be able to

135
00:13:27,369 --> 00:13:35,160
look at voltages as the devices starting
up if I can find like a TX pin sitting

136
00:13:35,160 --> 00:13:39,649
on the board and when you plug it and
you'll see like fluctuations it'll be

137
00:13:39,649 --> 00:13:44,209
like a 3.3 volts and a drop back and
forth back and forth and that's usually

138
00:13:44,209 --> 00:13:46,069
like you know one bit

139
00:13:46,069 --> 00:13:51,110
101010 you'll see that voltage like it's
it's it's funny because it's like an

140
00:13:51,110 --> 00:13:56,429
actual physical representation of you
know what I know what I know are are

141
00:13:56,429 --> 00:14:04,329
probably like some sort of dating going
to cross the picket line so this is

142
00:14:04,329 --> 00:14:07,040
another tool that's like this the shaker
again

143
00:14:07,040 --> 00:14:16,750
picture link down there is three their
website there is awesome they have lots

144
00:14:16,750 --> 00:14:23,420
of cool tools for hardware hackers I
think they have like the shaker here I

145
00:14:23,420 --> 00:14:30,490
think they also have faced answer from
Travis good and a couple other like

146
00:14:30,490 --> 00:14:35,819
devices but yeah they're awesome place
in pretty pretty freaking awesome device

147
00:14:35,819 --> 00:14:42,399
I have noticed some limitations with it
so like this is just one interface if I

148
00:14:42,399 --> 00:14:48,699
wanted to do you are so there's also
like a bus pyrene or plaster and then

149
00:14:48,699 --> 00:14:55,050
your various different dog bowls for a
JTAG and stuff like that so I do like

150
00:14:55,050 --> 00:14:58,449
this device can do multiple different
things one of the limitations that I

151
00:14:58,449 --> 00:15:02,889
finally ran into recently with the
shaker up as it's mainly for like three

152
00:15:02,889 --> 00:15:09,110
point three bowls so if you get on a
system like I was looking at another

153
00:15:09,110 --> 00:15:15,680
home automation thing and it was one
point able to not like I can like hook

154
00:15:15,680 --> 00:15:22,880
anything up to this so I i I was lucky
to have another tool in my my toolset

155
00:15:22,880 --> 00:15:28,279
that would do it but as far as like a
JTAG interface I was kind of like shit

156
00:15:28,279 --> 00:15:35,320
outta luck so here is another awesome
tool Joe Grande

157
00:15:35,320 --> 00:15:42,030
made the JTAG you later couple years ago
it's it's really like one of the best

158
00:15:42,030 --> 00:15:47,630
tools as far as trying to reverse that
panned out it will brute force a pan out

159
00:15:47,630 --> 00:15:55,040
for you so I can say you saw her on to a
board and you don't know what which he

160
00:15:55,040 --> 00:16:01,160
just like wire up to him and he made it
so that it's like you could have

161
00:16:01,160 --> 00:16:05,570
different voltages on and it won't like
message board and I mean if you're if

162
00:16:05,570 --> 00:16:11,250
you're interested in more that got good
check out Joe just hockey goes way up

163
00:16:11,250 --> 00:16:17,160
about it but I really enjoyed this and
it's useful for both you are and JTAG

164
00:16:17,160 --> 00:16:23,640
obviously trying to figure out various
pins in it can also add a pass through a

165
00:16:23,640 --> 00:16:29,380
couple of things so obviously if you're
gonna do some stuff with hardware a

166
00:16:29,380 --> 00:16:38,110
soldering iron pretty useful this is
just one for Mike Sparkfun yeah totally

167
00:16:38,110 --> 00:16:45,670
useful for just you know soldering on
pins that you might find identify on

168
00:16:45,670 --> 00:16:51,750
there this is some headers and some
jumper wire so that when I'm wired up to

169
00:16:51,750 --> 00:16:59,170
aboard this is definitely a news this is
a picture of a slave logic analyzer this

170
00:16:59,170 --> 00:17:04,820
is really great if you have dated going
on on the board and you don't know what

171
00:17:04,820 --> 00:17:11,939
it is or how it works you can hook up
some probes onto the board in in

172
00:17:11,939 --> 00:17:18,419
a logic program or whatever and i've
i've got some more about this later so I

173
00:17:18,419 --> 00:17:25,449
can do some light protocol analysis for
you and things like that and you can

174
00:17:25,449 --> 00:17:33,159
find that I dot com so this is kind of
like the methodology that I usually take

175
00:17:33,159 --> 00:17:39,950
when I get into a device so basically
I'll try and pop it open there's lots of

176
00:17:39,950 --> 00:17:45,480
plastic in stupid little security screws
having a nice set of screwdrivers heads

177
00:17:45,480 --> 00:17:50,330
and that sort of thing is a good thing
to have like the iFixit kit is is great

178
00:17:50,330 --> 00:17:57,000
the 54 bit drivers like pop up and some
of these things and then you know once

179
00:17:57,000 --> 00:18:02,750
I'm actually in the device you know
looking around at the hardware you know

180
00:18:02,750 --> 00:18:07,870
post voiding my warranty and joining the
exploitation party I will get in there

181
00:18:07,870 --> 00:18:15,139
and try to identify the various like
components and chips and that's pretty

182
00:18:15,139 --> 00:18:22,139
little bits of text of some code or
whatever you can pop it into the

183
00:18:22,139 --> 00:18:26,940
internet and and figure out what you
know the actual chips are that type of

184
00:18:26,940 --> 00:18:29,509
thing go find the datasheets for it

185
00:18:29,509 --> 00:18:34,399
datasheets for chips will tell you a lot
about the various functionality might

186
00:18:34,399 --> 00:18:41,740
find on a on a on a particular device
and it's one of the best ways to come

187
00:18:41,740 --> 00:18:49,039
like actually know what all is a chip-in
do and then you know kind of just like

188
00:18:49,039 --> 00:18:53,350
cruise around the harbor looking for
like unpopulated been up for like

189
00:18:53,350 --> 00:18:59,649
unpopulated past that type of thing and
then oh no solder some headers on to it

190
00:18:59,649 --> 00:19:03,480
and try and figure out what's going on
there and do some

191
00:19:03,480 --> 00:19:08,710
like continuity testing like I was
talking about where the you know finding

192
00:19:08,710 --> 00:19:17,360
the ground and like looking like the TX
pan that that sort of thing with the

193
00:19:17,360 --> 00:19:28,450
reversing identify wireline predicate
logics that's where the delay logic

194
00:19:28,450 --> 00:19:33,030
analyzer comes in super useful there and
then you know just wiring up to the

195
00:19:33,030 --> 00:19:37,350
board by centerra gatien firmware
reverse engineering if I can dump the

196
00:19:37,350 --> 00:19:43,440
flash from the device or grab the
firmware from you know like a network

197
00:19:43,440 --> 00:19:50,840
dump assets updating something like that
and then you know get into the depths of

198
00:19:50,840 --> 00:19:57,310
security research once I'm able to pull
off some binaries ida start reversing

199
00:19:57,310 --> 00:20:02,560
you know I'm one of the things that I
really want to work on next is kind of

200
00:20:02,560 --> 00:20:08,760
like evolutionary feedback buzzer
forearm and nips devices but that's

201
00:20:08,760 --> 00:20:16,510
that's something that I'm totally into
so first step towards warranties pop up

202
00:20:16,510 --> 00:20:18,750
in boxes

203
00:20:18,750 --> 00:20:24,760
devices as a smart things that's the
piper there the wing cub which was

204
00:20:24,760 --> 00:20:32,510
pretty interesting one and then yeah
that's just right over the screw that

205
00:20:32,510 --> 00:20:40,960
that gets you actually into the device
the region reader datasheets they

206
00:20:40,960 --> 00:20:47,600
definitely are useful so like this one
is from a flash chip I was trying to

207
00:20:47,600 --> 00:20:55,650
dump it on the smart things and I mean
you know I finally did it but I

208
00:20:55,650 --> 00:21:01,300
I when I finally got the the firmware
off and there it was junk I don't know

209
00:21:01,300 --> 00:21:07,310
what it was probably encrypted and
needed to do some more reversing but

210
00:21:07,310 --> 00:21:13,700
this is great because you can find like
the various pins you need to to hook up

211
00:21:13,700 --> 00:21:22,560
to you when you do like us / down with
flash and then they're so as far as like

212
00:21:22,560 --> 00:21:30,550
identifying various hardware interfaces
on board this is a picture of a you are

213
00:21:30,550 --> 00:21:44,610
interface on maybe the eight yes this is
urs and like I said for typical pins

214
00:21:44,610 --> 00:21:48,540
ground BCC RXT X

215
00:21:48,540 --> 00:21:57,630
all right there this is a JTAG interface
belkin router before some headers on to

216
00:21:57,630 --> 00:22:03,730
it and it's really nice so like this is
another one and this is like a service

217
00:22:03,730 --> 00:22:14,280
now JTAG interface like cereal wired by
gang interface and I think of is like a

218
00:22:14,280 --> 00:22:19,630
really good example they most of us like
most of the stuff that I popped up and

219
00:22:19,630 --> 00:22:25,290
they'll likely is awesomely as as like
we did so like the UART interface is

220
00:22:25,290 --> 00:22:30,220
like very nice label JTAG for this chip
and they're all just like laid out as

221
00:22:30,220 --> 00:22:31,720
the street

222
00:22:31,720 --> 00:22:36,900
you can kind of see it there that week
of also has like a number of radio

223
00:22:36,900 --> 00:22:47,200
signal easy way some other weird when I
had never heard of so as far as like the

224
00:22:47,200 --> 00:22:54,480
pan out reversing this is kinda how I go
about it before I just started using

225
00:22:54,480 --> 00:22:59,500
like budget angulated is figure it out
going in their blind side or on some of

226
00:22:59,500 --> 00:23:06,250
the headers here this is just me doing
pretty terrible suffering but I'm good

227
00:23:06,250 --> 00:23:13,580
enough to get into the device though
there's gotta be seen my son yeah and so

228
00:23:13,580 --> 00:23:19,549
then you know this is like a picture of
hooking up to you like like probing for

229
00:23:19,549 --> 00:23:25,409
a ground and usual I'll try and find
like an Ethernet jack or you know thirds

230
00:23:25,409 --> 00:23:34,000
got some some covers over it I will do
like comedy just first and then try and

231
00:23:34,000 --> 00:23:45,870
find the the jack span and go through
that one by one and so this is a picture

232
00:23:45,870 --> 00:23:56,400
of the sleigh logic analyzer like hooked
up to this is enough I'm not ready to

233
00:23:56,400 --> 00:24:00,240
name this particular device but it's the
one that's down here that will show you

234
00:24:00,240 --> 00:24:06,799
guys had a little bit and this logic
analyzer is like I said really good for

235
00:24:06,799 --> 00:24:12,120
trying to figure out what's going on in
a particular chipper interface at a

236
00:24:12,120 --> 00:24:18,059
given time and it has just a couple of
probe set go out you look up like the

237
00:24:18,059 --> 00:24:18,500
ground

238
00:24:18,500 --> 00:24:23,620
intend to make sure that you get a friar
device when you have got to it that that

239
00:24:23,620 --> 00:24:34,640
hurts pretty important and then yes so
you hook it up and then there's like you

240
00:24:34,640 --> 00:24:37,680
know they're all the various pins are
things that you would want to try and

241
00:24:37,680 --> 00:24:43,230
see what's going on the slave that I
have here I think can do like a child at

242
00:24:43,230 --> 00:24:43,900
a time

243
00:24:43,900 --> 00:24:49,480
little smaller one like there's a $50
Soleil logic analyzer I think that all

244
00:24:49,480 --> 00:24:55,520
you can do four channels at a time and
so it's useful when you just can't

245
00:24:55,520 --> 00:25:03,190
figure out what's going on what what
what you know the bits playing across

246
00:25:03,190 --> 00:25:17,770
things are and here is that ok so this
is a logic program and what it does is

247
00:25:17,770 --> 00:25:24,510
you'll see like the high low high low
high low high low and what I did here as

248
00:25:24,510 --> 00:25:31,390
I figured out that this was TX pin and I
applied one of the protocol analyzers to

249
00:25:31,390 --> 00:25:33,960
it and this is

250
00:25:33,960 --> 00:25:40,460
asynchronous receiving transmitted one
and what it'll actually do is it'll show

251
00:25:40,460 --> 00:25:49,250
you like the letters that what they
stand for that type of thing and the

252
00:25:49,250 --> 00:25:57,320
the actual logic on there so some
playing around with like you are and

253
00:25:57,320 --> 00:26:05,870
that sort of thing so here I've got it
hooked up to a trend rather the chick is

254
00:26:05,870 --> 00:26:09,799
fucked up there and then like the little
yellow sticker was not there that's

255
00:26:09,799 --> 00:26:11,880
that's me after the fact

256
00:26:11,880 --> 00:26:18,110
usually what I do after I figured out
the pan out and stuff like that then the

257
00:26:18,110 --> 00:26:22,220
next step is to like wire up to the
board and try and figure out what the

258
00:26:22,220 --> 00:26:27,950
moderators so with you are there is like
there's a baud rate that's associated

259
00:26:27,950 --> 00:26:37,679
with a particular interface most common
is like 11 5200 that all signed but you

260
00:26:37,679 --> 00:26:41,789
know there's there's various different
bond rates on some devices so that's

261
00:26:41,789 --> 00:26:48,279
that that is useful to try and figure
out and there's a really cool couple of

262
00:26:48,279 --> 00:26:54,190
scripts think that like I wrote my
putter a top I want you right up to your

263
00:26:54,190 --> 00:26:59,730
bored you can just see it like just go
through various different bitrates and

264
00:26:59,730 --> 00:27:05,980
you can see like it'll either be taxed
or junk and I've gotten junk alot and

265
00:27:05,980 --> 00:27:09,610
then you know go to all switch to a
different operating environment comes

266
00:27:09,610 --> 00:27:18,289
through so yeah the picture that just
came up as another that's a tp-link

267
00:27:18,289 --> 00:27:26,380
router that had a UART interface on to
it with some of these like a pretty much

268
00:27:26,380 --> 00:27:31,659
all of the home routers that looked at
is wired up to him and it drops you

269
00:27:31,659 --> 00:27:38,220
straight to a show like no password
nothing like that like so wish

270
00:27:38,220 --> 00:27:45,030
with the tp-link there was an actual
password but it turns out like somebody

271
00:27:45,030 --> 00:27:48,220
had already figured it out on the
internet for me and so when I finally

272
00:27:48,220 --> 00:27:54,419
did you check it out and grab the hash
by reverse engineering the firmware

273
00:27:54,419 --> 00:28:00,039
binaries with like been walking that
sort of thing I pulled up in the shadow

274
00:28:00,039 --> 00:28:06,539
file I just tossed the hash into Google
to see somebody may have acted and are

275
00:28:06,539 --> 00:28:11,710
cracked and turns out yeah sure enough
it was like posted on an unrelated but

276
00:28:11,710 --> 00:28:17,640
poses a related tp-link product but it
looks like their reason their passwords

277
00:28:17,640 --> 00:28:26,179
across the password was so had been all
over taxed so it wasn't wasn't too hard

278
00:28:26,179 --> 00:28:34,590
I guess but the yeah so a lot of them
are just like they'll drop UN sometimes

279
00:28:34,590 --> 00:28:40,240
there's a password on the interface
totally depends here is like 45 various

280
00:28:40,240 --> 00:28:48,080
devices so I got stuff with dealing
Belkin and trend and a whole bunch of

281
00:28:48,080 --> 00:28:55,470
them there's a couple of Nigeria's there
and I've got a list of them they're so

282
00:28:55,470 --> 00:29:01,740
like I said these are just like various
pins you want to look for moderate gotta

283
00:29:01,740 --> 00:29:02,970
figure that out

284
00:29:02,970 --> 00:29:06,799
this is paid out for the shakers so one
of the things that didn't make sense to

285
00:29:06,799 --> 00:29:11,030
me like when I first started playing
around with this was that I'm just gonna

286
00:29:11,030 --> 00:29:16,780
wire RXP RXT in on the board but it's
actually the other way around so you

287
00:29:16,780 --> 00:29:26,380
have to like you do like TX turx in our
exit TX then that way you know it makes

288
00:29:26,380 --> 00:29:28,710
more sense that way actually

289
00:29:28,710 --> 00:29:32,820
think about it that way you have like
the transmitting device and the

290
00:29:32,820 --> 00:29:39,409
receiving device and there's no process
over there so this is one of the

291
00:29:39,409 --> 00:29:43,559
documentation that comes with the
Chicago you can see here does you are

292
00:29:43,559 --> 00:29:52,750
the JTAG and spy and got like you know
where all the pins are anything like

293
00:29:52,750 --> 00:30:00,669
that so that's definitely useful so when
you get your check or bus pirate or JTAG

294
00:30:00,669 --> 00:30:05,020
later whatever most of the time when I'm
in interfacing with one of these cards

295
00:30:05,020 --> 00:30:10,539
are dongles or whatever I am in a third
usually through screens so you'll run

296
00:30:10,539 --> 00:30:17,100
screen and then you'll have particular
like device that pops up in your honor /

297
00:30:17,100 --> 00:30:23,370
dev and then finally the like pottery
and then that allege opulence I have I

298
00:30:23,370 --> 00:30:31,100
have a demo here in a little bit more
but yeah here's another instance of the

299
00:30:31,100 --> 00:30:36,700
win Cubs win Cubs was pretty cool
effects came out with this kind of

300
00:30:36,700 --> 00:30:39,140
ingenuity of way

301
00:30:39,140 --> 00:30:42,840
bumping the router so like the

302
00:30:42,840 --> 00:30:48,380
with a wink of when you would boot it up
it wasn't just so kind just dropped off

303
00:30:48,380 --> 00:30:52,559
at a shell you would you see the whole
boot and everything like that and then

304
00:30:52,559 --> 00:30:58,850
you just said you could like to relax or
Chelsea to try and break out her or

305
00:30:58,850 --> 00:31:03,020
anything like that so what he actually
figured out was that you could take and

306
00:31:03,020 --> 00:31:09,190
flash chip that was sitting on the board
at the right time during bootup you

307
00:31:09,190 --> 00:31:16,299
could ground that the read pen on the
flash chip and it would basically filled

308
00:31:16,299 --> 00:31:22,710
over to the bootloader so you can get to
the bootloader matching aqui like like

309
00:31:22,710 --> 00:31:28,039
some of the devices I can show you here
a little bit but by messing up the read

310
00:31:28,039 --> 00:31:32,909
from the flash memory a drop them off at
the bootloader and then from there was

311
00:31:32,909 --> 00:31:36,870
able to modify the internet parameters
yep

312
00:31:36,870 --> 00:31:55,490
so I mean I've seen like you'll see like
press any key to go to the right right I

313
00:31:55,490 --> 00:31:59,650
think so i think thats that that's why
I've failed over then I'd never seen it

314
00:31:59,650 --> 00:32:04,470
before I thought it was kind of cool it
was kind of hard to like get right down

315
00:32:04,470 --> 00:32:09,240
on the the pen at the right time but
yeah I think that's that's probably

316
00:32:09,240 --> 00:32:15,600
definitely a feature of view so yeah
this one this one is kind of cool so

317
00:32:15,600 --> 00:32:19,200
here is like a list of the various
devices that have been playing around

318
00:32:19,200 --> 00:32:25,860
with whether they have like the yard
accessors JTAG access I've also gone

319
00:32:25,860 --> 00:32:29,410
through and downloaded the firmware for
iPhone walked in with light been walk

320
00:32:29,410 --> 00:32:37,480
and and then you know looked at the
various like passport files or you know

321
00:32:37,480 --> 00:32:44,640
like like binaries are programs that are
running on the devices that stuff so

322
00:32:44,640 --> 00:32:52,820
what to do now is I'm gonna go through
and go ahead and just show you guys

323
00:32:52,820 --> 00:32:56,440
quick demo what this looks like

324
00:32:56,440 --> 00:33:10,540
so down here

325
00:33:10,540 --> 00:33:31,760
here that big enough for everybody see a
big they are

326
00:33:31,760 --> 00:33:40,670
so this is the device as it shows up on
on like a Mac or whatever

327
00:33:40,670 --> 00:33:51,860
under Linux it could be like dev / USB
20 or something like that so I'm giving

328
00:33:51,860 --> 00:33:58,610
it the broader age that is specific to
this device and start screen another

329
00:33:58,610 --> 00:34:06,590
thing is with screen that I like to do
is I will set like the log on that way I

330
00:34:06,590 --> 00:34:20,470
can get ahold you know log my like boot
as it as it goes up and so now so here

331
00:34:20,470 --> 00:34:24,750
we see it's it's going ahead and booting
up when we saw the little part for the

332
00:34:24,750 --> 00:34:28,850
you bootloader has said you know
smashing a key if you want to go into

333
00:34:28,850 --> 00:34:33,610
bootloader so that's definitely an
option and so I don't have it hooked up

334
00:34:33,610 --> 00:34:35,050
to the Internet

335
00:34:35,050 --> 00:34:43,870
things like the Ethernet jack so it's
gonna kinda like bill yet then you'll

336
00:34:43,870 --> 00:34:49,429
see like the typical like Linux right
when it turns out with this device it's

337
00:34:49,429 --> 00:34:55,750
actually running embedded version of
Ubuntu and so we could chew like

338
00:34:55,750 --> 00:35:01,250
particularly like the login hearing and
you know I don't know what the username

339
00:35:01,250 --> 00:35:07,620
and password is and i cant get to the
firmware to just like Jack just like

340
00:35:07,620 --> 00:35:13,040
pull out the house from the shadow
filing trying to crack into that type of

341
00:35:13,040 --> 00:35:22,160
thing so when I decided to try and do
next was to see what that thing was so

342
00:35:22,160 --> 00:35:25,480
go ahead and restart the device again

343
00:35:25,480 --> 00:35:33,310
match the key and then we get to the you
boot loader and you know it's got some

344
00:35:33,310 --> 00:35:37,510
functionality I mean you can kinda like
player out in here and see the various

345
00:35:37,510 --> 00:35:39,460
different functionality that has

346
00:35:39,460 --> 00:35:45,000
but one of the ways to get in on some of
these devices is to modify the

347
00:35:45,000 --> 00:35:51,920
parameters of the colonel and so when I
finally figured out was I could do this

348
00:35:51,920 --> 00:36:00,310
this command here and headed the
arguments for it and give me like that

349
00:36:00,310 --> 00:36:05,810
with the current environment variables
and you know the the main disk and

350
00:36:05,810 --> 00:36:10,270
everything rootfs where it was located
that type of stuff and I just added

351
00:36:10,270 --> 00:36:25,000
added this and so basically what I'm
talking here is to you know when it does

352
00:36:25,000 --> 00:36:41,930
boot just a shell and so then just run
boots here that's when I'm at the point

353
00:36:41,930 --> 00:36:53,320
you know it just drops us off in a shell
and I can do stuff like and you know so

354
00:36:53,320 --> 00:36:58,980
we can see here are married and then
this point you know I can start cruising

355
00:36:58,980 --> 00:37:01,020
around the device looking for

356
00:37:01,020 --> 00:37:09,430
figuration files or other things that
are out there that type of stuff so I

357
00:37:09,430 --> 00:37:12,440
guess is kind of what it looks like when
you know you'll go through due process

358
00:37:12,440 --> 00:37:32,390
and then get on top of his shell and you
have a hardware interface so and then

359
00:37:32,390 --> 00:37:36,920
I've got hooked up

360
00:37:36,920 --> 00:38:04,050
reports on here so I am cruising have a
little bit of time here so I'm in the

361
00:38:04,050 --> 00:38:09,580
process of doing some responsibilities
closure there are certain things with

362
00:38:09,580 --> 00:38:16,140
that device the I am yet to report so i
didnt i didnt think I named by name but

363
00:38:16,140 --> 00:38:19,370
I'll publish the details later

364
00:38:19,370 --> 00:38:26,620
so this is the little bit about JTAG I
haven't had a chance do too much with

365
00:38:26,620 --> 00:38:33,730
like actual JTAG stuff I just got to do
it recently with a another home

366
00:38:33,730 --> 00:38:39,370
automation that I've been working on and
this is where I found out that you know

367
00:38:39,370 --> 00:38:46,960
I 1.8 both systems you need like a
different interface than the ship

368
00:38:46,960 --> 00:38:53,490
actually get on there and so do tell you
later is is really awesome for this

369
00:38:53,490 --> 00:39:01,930
stuff it'll help you find the tested in
test out the clock and slacks and what

370
00:39:01,930 --> 00:39:20,710
JTAG will allow you to do is it's it's
basically like hardware to bother

371
00:39:20,710 --> 00:40:01,830
hear ya so open Oct is the open Oct is
the one of the tools and it's it's free

372
00:40:01,830 --> 00:40:09,589
and it's open source it's useful for
starting up like a gdb session and it'll

373
00:40:09,589 --> 00:40:15,050
start like a local tell not show on your
local host and then you can use that

374
00:40:15,050 --> 00:40:21,810
access like gdb and decent hardware
stuff there so the JTAG later is awesome

375
00:40:21,810 --> 00:40:27,859
for finding the pan out but as I
recently also learned it's not like a

376
00:40:27,859 --> 00:40:34,220
JTAG interface so what I did recently
with the project that I'm working on now

377
00:40:34,220 --> 00:40:41,080
is actually went online and bought a
jailing adapter in my car breakout board

378
00:40:41,080 --> 00:40:48,040
for the little interface that I needed
dug up to and I'm hoping that aware but

379
00:40:48,040 --> 00:40:53,230
yeah just a short little clip no cuz I
totally screwed me up when I was going

380
00:40:53,230 --> 00:40:57,369
through it the JTAG later we'll find
that out but it will not be the

381
00:40:57,369 --> 00:41:08,190
interface so finally the last thing that
I kinda briefly mentioned the like

382
00:41:08,190 --> 00:41:14,400
jumping flash so like in the instances
you're working on device and

383
00:41:14,400 --> 00:41:20,130
you know you tried going through the to
grab it while it comes down over the

384
00:41:20,130 --> 00:41:22,829
wire but maybe they're doing like
certificate pending or something like

385
00:41:22,829 --> 00:41:25,160
that on the device and you can't man in
the middle

386
00:41:25,160 --> 00:41:30,900
the SSL traffic burtless to like pull it
out of the network from or so and then

387
00:41:30,900 --> 00:41:37,059
in that instance you know sometimes it's
just easier to try and pull it straight

388
00:41:37,059 --> 00:41:44,430
off the chips and so this is one of the
things that's awesome about the sexiest

389
00:41:44,430 --> 00:41:49,970
acts class is the thing that I was the
most excited about this class was

390
00:41:49,970 --> 00:41:59,049
dumping the like the software for the
device via like physical and so here

391
00:41:59,049 --> 00:42:04,369
what I'm using is just like a Raspberry
Pi I tried to use the ship I really did

392
00:42:04,369 --> 00:42:12,130
but it was coming back with errors in
identifying device can do it so you can

393
00:42:12,130 --> 00:42:16,890
definitely use a Raspberry Pi to his
yard interface and some of the other

394
00:42:16,890 --> 00:42:23,029
stuff as well but I was using a here as
a spy interface and the flash and so you

395
00:42:23,029 --> 00:42:30,089
can see here I went online figured out
like the particular the trigger flash

396
00:42:30,089 --> 00:42:37,710
chip and then like read through the data
sheet and sound like the various spends

397
00:42:37,710 --> 00:42:44,029
around the flash and as I was doing this
also one of the things to pay attention

398
00:42:44,029 --> 00:42:45,360
to is

399
00:42:45,360 --> 00:42:52,250
as your as you're trying to do this and
say the devices powered and there as

400
00:42:52,250 --> 00:42:57,310
communications going back and forth
reading for flash and you try you try to

401
00:42:57,310 --> 00:42:59,640
go dump it . memory on it

402
00:42:59,640 --> 00:43:09,080
your corrupted so the way to kind of get
around that that is at least on the

403
00:43:09,080 --> 00:43:15,880
smart things what I found was like a
little reset and I grounded the reset

404
00:43:15,880 --> 00:43:24,620
222 ground and that that held the device
in kind of like halted state where its

405
00:43:24,620 --> 00:43:30,400
power and power is flowing to the flash
chip but it's not like reading and

406
00:43:30,400 --> 00:43:38,660
writing so then I was actually able to
the clash with flash ROM and that's it

407
00:43:38,660 --> 00:43:49,800
so yeah yeah so i flash ROM is a little
open source tool I'm not I gotta I'm not

408
00:43:49,800 --> 00:43:56,460
sure who who wrote it but it's only
available online and use use it to

409
00:43:56,460 --> 00:44:03,610
basically there's just like a red flag
and then it jumped out to a file on your

410
00:44:03,610 --> 00:44:08,410
computer and usually when I do that what
i'll do is i'll do it two or three times

411
00:44:08,410 --> 00:44:13,940
that way I can see if it is corrupted
you know and I'll do a hash of various

412
00:44:13,940 --> 00:44:18,260
different ones that I get and if one of
them soft and I know you know I'll keep

413
00:44:18,260 --> 00:44:24,260
doing it until I get a writer change my
formula that type of thing so if you're

414
00:44:24,260 --> 00:44:28,150
interested in learning more about
hardware hacking I can definitely

415
00:44:28,150 --> 00:44:36,330
suggest the sex via hex class it's it's
super awesome check it out as a dozen

416
00:44:36,330 --> 00:44:48,740
amazing job and Stevan Ridley and Joe
Fitzpatrick and the other one is

417
00:44:48,740 --> 00:44:52,930
obviously Joe Brown's class I really
wanted to take it here at Derby Conn

418
00:44:52,930 --> 00:44:58,970
I don't get a chance it was sold out
fast but maybe next year I'll take it a

419
00:44:58,970 --> 00:45:02,630
couple of blocks that are really great
there's Craig have tears blog if you're

420
00:45:02,630 --> 00:45:07,970
doing anything with like Soho router is
probably come across out and then don't

421
00:45:07,970 --> 00:45:12,470
stuff being up your nose is Stevan
Ridley's blog as well you'll find some

422
00:45:12,470 --> 00:45:19,410
is there and so I don't know why I hope
that maybe you know you'll be able to

423
00:45:19,410 --> 00:45:25,010
take some of this material and I'll give
you the ideas tools that you need to

424
00:45:25,010 --> 00:45:30,329
encourage you to go out and do your due
to do research on these devices cos

425
00:45:30,329 --> 00:45:37,059
there's there's so much out there to
play around with and all these IOT

426
00:45:37,059 --> 00:45:41,579
vendors or people bringing devices to
market they're just there just call and

427
00:45:41,579 --> 00:45:46,500
ask to get their product out there so
there are thinking about security much

428
00:45:46,500 --> 00:45:51,300
at all and so I think that it's
definitely up to us as you know the

429
00:45:51,300 --> 00:45:59,380
security community to at least get these
devices into into a better state than

430
00:45:59,380 --> 00:46:04,589
we're there now so I I hope that the
material here has been useful and you

431
00:46:04,589 --> 00:46:10,309
can do it too it's fun and that's pretty
much what I have for you

432
00:46:10,309 --> 00:46:16,260
yeah I just wanted to say like thank you
to the Derby Conn staff other

433
00:46:16,260 --> 00:46:20,790
researchers out there like you guys
totally would not have been able to

434
00:46:20,790 --> 00:46:26,450
learn some of this stuff without you so
and if you're interested in getting in

435
00:46:26,450 --> 00:46:31,760
touch whatever check out security
evaluators dot com the blanket there

436
00:46:31,760 --> 00:46:35,940
I've started like letting a bunch of
firmware and posting up on github so you

437
00:46:35,940 --> 00:46:37,240
check that out

438
00:46:37,240 --> 00:46:40,880
check my Twitter and I think that's
about it

439
00:46:40,880 --> 00:46:49,590
thanks guys

440
00:46:49,590 --> 00:47:06,400
question was where to find different
data sheets I mean for the most part 1

441
00:47:06,400 --> 00:47:11,260
I'll just do is like throw stuff into
Google you know there there are a couple

442
00:47:11,260 --> 00:47:16,440
of websites I think like datasheet stock
are you a lot of the russians have like

443
00:47:16,440 --> 00:47:20,210
really extensive collections of data
sheets for whatever reason they actually

444
00:47:20,210 --> 00:47:24,910
repair their hardware so you know some
of their stuff on like shady Russian

445
00:47:24,910 --> 00:47:44,180
side so it's not uncommon in there that
is actually another great resource FCC

446
00:47:44,180 --> 00:47:50,430
is website if you have a device and you
can figure out the CCID there is great

447
00:47:50,430 --> 00:47:54,970
you know internal photos external photos

448
00:47:54,970 --> 00:47:58,930
something like the RAF testing and stuff
like that that's definitely good

449
00:47:58,930 --> 00:47:59,420
resource

