1
00:00:00,000 --> 00:00:03,149
oh man

2
00:00:06,750 --> 00:00:10,469
Shh everyone turn around look at the
people coming in like they did something

3
00:00:10,469 --> 00:00:27,479
wrong with now . and this also does come
in did you get ice

4
00:00:28,019 --> 00:00:40,170
why did you not get ice that has no
problem saying no to things because he

5
00:00:40,170 --> 00:00:42,360
has self-respect

6
00:00:42,360 --> 00:00:48,390
I however do not actually this might be
the first time at schoo supplies

7
00:01:04,470 --> 00:01:13,439
let's uh let's do Morton's later to wash
the pain away

8
00:01:15,780 --> 00:01:20,340
alright let's get started thank you very
much for attending the penetration 10

9
00:01:20,340 --> 00:01:24,119
trends report of $MONTH 2016 it's
something I've been trying to do every

10
00:01:24,119 --> 00:01:30,360
single year for the past two years
failed this year on i'll explain why

11
00:01:30,360 --> 00:01:32,759
i've got a good excuse but we're gonna
get to it

12
00:01:32,759 --> 00:01:36,689
um so what are the trends that are out
there right now so if you take a look at

13
00:01:36,689 --> 00:01:41,548
verizon and mandiant verizon came out
their data breach report and every other

14
00:01:41,549 --> 00:01:44,579
security company in the world is
basically like we've got to do that too

15
00:01:45,119 --> 00:01:50,070
that's good marketing and some things
have been very very very unsettling

16
00:01:50,070 --> 00:01:54,779
about these different trends reports
mainly it becomes very clear if you

17
00:01:54,780 --> 00:01:59,460
trend out the trends reports for
breaches it becomes very clear that we

18
00:01:59,460 --> 00:02:02,570
are learning a goddamn thing in this
industry

19
00:02:02,570 --> 00:02:08,449
. so hope I figured clearly listen to a
penetration testing company

20
00:02:08,449 --> 00:02:12,019
um but we wait for these things to come
out we get really really really excited

21
00:02:12,020 --> 00:02:15,230
and they say the same crap is there
before again and again and again and

22
00:02:15,230 --> 00:02:18,769
it's not really providing a lot of
insight as to what is actually happening

23
00:02:18,770 --> 00:02:23,720
in the world of exploitation and taking
over computer systems and by and large

24
00:02:23,720 --> 00:02:28,520
for a number of years this was true in
the world penetration testing for

25
00:02:28,520 --> 00:02:35,030
example how many of you have got access
last year with 0806 seven still comes up

26
00:02:35,030 --> 00:02:40,040
on a fairly regular basis and it's like
did you learn anything at all on the

27
00:02:40,040 --> 00:02:45,380
Java social engineering attack with java
applet attack how many years did that

28
00:02:45,380 --> 00:02:48,650
work before job is like you know maybe
that craps kind of dangerous i think it

29
00:02:48,650 --> 00:02:54,200
was like 8-9 years so this really long
run where we were using the exact same

30
00:02:54,200 --> 00:02:57,890
techniques again and again and again and
again and again because they worked and

31
00:02:57,890 --> 00:03:01,518
then things started changing a little
bit last year we started seeing a lot

32
00:03:01,519 --> 00:03:04,489
more lockdown restrictions whatever came
to java apps especially within the

33
00:03:04,489 --> 00:03:08,180
browser trying to stop the apps from
running and that was a good thing that

34
00:03:08,180 --> 00:03:12,769
was progression so the question is are
we actually seeing more progression and

35
00:03:12,769 --> 00:03:14,480
information security at all

36
00:03:14,480 --> 00:03:17,780
we decided to do something similar
talking to a large number of different

37
00:03:17,780 --> 00:03:27,890
penetration testing firms asking a
series there are off for lights know you

38
00:03:27,890 --> 00:03:28,730
got that

39
00:03:28,730 --> 00:03:33,828
alright so so we tried to do something
similar and try to see if things

40
00:03:33,829 --> 00:03:38,060
actually matched up with what the bad
guys are doing and what penetration

41
00:03:38,060 --> 00:03:43,670
testers are actually doing and really it
feels like we have three separate rooms

42
00:03:43,670 --> 00:03:47,869
and information security we have the
penetration testing community and let's

43
00:03:47,870 --> 00:03:52,250
pretend that they are in like a room
called a break it possibly then we have

44
00:03:52,250 --> 00:03:55,340
the defenders right you know they're
trying to fix things and makes them make

45
00:03:55,340 --> 00:03:58,310
things better and then we have the
forensics analyst who actually

46
00:03:58,310 --> 00:04:03,500
legitimately called themselves forensic
haters like they woke up one morning and

47
00:04:03,500 --> 00:04:06,210
said you know what this is a good idea

48
00:04:06,210 --> 00:04:11,190
these are also the people that you have
to explain that this is a pedometer it's

49
00:04:11,190 --> 00:04:15,900
not a parameter they're two completely
different things but at any rate the

50
00:04:15,900 --> 00:04:19,350
whole point is we occupy different rooms
we don't really communicate with each

51
00:04:19,350 --> 00:04:24,210
other as well as we actually should be
communicating with each other and how do

52
00:04:24,210 --> 00:04:28,650
we actually try to break that down so
let's talk a little bit about some

53
00:04:28,650 --> 00:04:31,080
trends that we're seeing we're going to
dive into it

54
00:04:31,080 --> 00:04:36,120
first the external low-hanging fruit is
getting rare it's not gone

55
00:04:36,750 --> 00:04:40,560
please understand that it is absolutely
not gone if you guys were following fear

56
00:04:40,560 --> 00:04:44,580
who the attacker name fear who did fear
compromise and then compromise whole

57
00:04:44,580 --> 00:04:50,130
bunch of other customers of that
organization anyone tracking that new

58
00:04:50,130 --> 00:04:55,050
scar took over new star systems and they
took over a bunch of customers and they

59
00:04:55,050 --> 00:05:00,120
got access to ftp servers hacking
literally like it's 1999 was still

60
00:05:00,120 --> 00:05:03,360
working for this particular attacker so
there's still some low-hanging fruit

61
00:05:03,360 --> 00:05:07,560
that is out there but we're seeing get
rarer and rarer and rarer on the outside

62
00:05:07,560 --> 00:05:10,950
of organizations you don't simply run
Nessus find a red critical and then gain

63
00:05:10,950 --> 00:05:15,570
access to that computer system because
it's just not there anymore and that's a

64
00:05:15,570 --> 00:05:16,469
good thing

65
00:05:16,470 --> 00:05:20,610
that's a good trend right we can't be
frustrated about these if you take

66
00:05:20,610 --> 00:05:24,810
anything in the world of penetration
testing or attacks and all the sudden

67
00:05:24,810 --> 00:05:28,980
you can't get in you should never take
that as well this sucks i can no longer

68
00:05:28,980 --> 00:05:32,280
use my bag of tricks that I've used for
years means that we've got to learn

69
00:05:32,280 --> 00:05:36,390
something new and that's ultimately why
a lot of us get into network penetration

70
00:05:36,390 --> 00:05:40,320
testing and we try to get into things
like breaking into networks as well I'm

71
00:05:40,320 --> 00:05:44,849
so yeah old vulnerabilities do still
work especially on the inside and

72
00:05:44,850 --> 00:05:49,920
especially with client-side exploitation
a lot of those vulnerabilities are still

73
00:05:49,920 --> 00:05:52,920
wide open you can still gain access and
explain why that's important a little

74
00:05:52,920 --> 00:05:57,810
bit later mobile should be an issue i
have a whole slide dedicated to this but

75
00:05:57,810 --> 00:06:01,440
honestly a lot of organizations have
backed away from testing their mobile

76
00:06:01,440 --> 00:06:07,110
apps for a really ridiculously stupid
reason but generally mobile is not an

77
00:06:07,110 --> 00:06:12,060
issue as much of an issue as it actually
should be in organizations now internal

78
00:06:12,060 --> 00:06:14,550
is an outright hot mess

79
00:06:14,550 --> 00:06:18,060
it's a complete disaster once you get a
foothold in an organization is just a

80
00:06:18,060 --> 00:06:19,129
matter of time

81
00:06:19,129 --> 00:06:22,669
before you pivot you get domain
administrator and you basically own

82
00:06:22,669 --> 00:06:26,599
absolutely everything within that
organization it's like all the lessons

83
00:06:26,599 --> 00:06:30,649
that we were taught when we were
learning at the cissp defense-in-depth

84
00:06:30,649 --> 00:06:34,129
we said ah screw it we got a firewall
and we've been holding on and clinging

85
00:06:34,129 --> 00:06:37,309
to that as an idea for the last 15 years

86
00:06:37,309 --> 00:06:41,569
meanwhile it doesn't work at all we also
see a large amount of resistance

87
00:06:41,569 --> 00:06:46,129
whenever we're trying to test the right
things in the right approach and finally

88
00:06:46,129 --> 00:06:49,909
we're seeing a heavy sku between what is
actually being tested in multiple

89
00:06:49,909 --> 00:06:54,889
organizations and what the attackers
themselves are actually doing so let's

90
00:06:54,889 --> 00:06:59,059
talk about some of the trends that
really haven't changed and this becomes

91
00:06:59,059 --> 00:07:03,679
incredibly important the first trend
that has not changed much at all is

92
00:07:03,679 --> 00:07:08,388
users this is important because it just
requires a single user to click a link

93
00:07:08,389 --> 00:07:13,639
or run an application run a Java app
running HTA file run the go on the

94
00:07:13,639 --> 00:07:16,939
internet with a vulnerable plug in their
browser and their compromise or possibly

95
00:07:16,939 --> 00:07:19,999
entering in their credentials as well

96
00:07:20,509 --> 00:07:24,800
now whenever we look at what we see in
penetration testing out of all the

97
00:07:24,800 --> 00:07:28,939
things that we test it is one of the
smaller subsets that the organizations

98
00:07:28,939 --> 00:07:34,159
that we test actually have us test the
common quote that we get all the time is

99
00:07:34,159 --> 00:07:43,399
we don't need to test that because we
know it is going to work now I can agree

100
00:07:43,399 --> 00:07:49,519
with not testing it because there's a an
understanding that it is going to work

101
00:07:49,519 --> 00:07:56,869
but why do we allow it to continue to
work is a much larger question so I i if

102
00:07:56,869 --> 00:08:00,800
you ever get a chance i want you to read
the prizes data breach reports read the

103
00:08:00,800 --> 00:08:06,919
last three years and they they steadily
get more insane if you go back three

104
00:08:06,919 --> 00:08:10,279
years ago they got a lot of graphs they
got a lot of data it's very well written

105
00:08:10,279 --> 00:08:14,509
by the time you get to this year's
verizon data breach report

106
00:08:15,050 --> 00:08:19,909
it's like they can't go of a paragraph
without a witty pun or some kind of joke

107
00:08:19,909 --> 00:08:20,539
built-in

108
00:08:20,540 --> 00:08:24,890
the report and the reason why this
fundamentally bothers me is because

109
00:08:24,890 --> 00:08:28,370
they're trying to make it look
interesting when the fact of the matter

110
00:08:28,370 --> 00:08:31,730
is when you start breaking these things
down and analyzing what is actually

111
00:08:31,730 --> 00:08:35,990
being said in these reports a tremendous
amount of the data tremendous amount of

112
00:08:35,990 --> 00:08:42,650
what they're saying has not changed from
previous years for example is either a

113
00:08:42,650 --> 00:08:46,220
tease or ninety percent of the time
whenever organizations get compromised

114
00:08:46,220 --> 00:08:50,690
by a targeted attack it is through
targeted spearfishing it is through to

115
00:08:50,690 --> 00:08:53,870
someone using the exact same of attacks
that have worked four five six seven

116
00:08:53,870 --> 00:09:00,170
years ago everyone say hi what's your
name Chris everyone say hi Chris two

117
00:09:00,170 --> 00:09:04,010
things about Kris one he has guts he
came right up to the front we SAT right

118
00:09:04,010 --> 00:09:05,420
in front that's awesome

119
00:09:05,420 --> 00:09:09,949
and number two he was like I hope they
don't notice me so so thank you very

120
00:09:09,950 --> 00:09:16,280
much for coming so we're seeing again
and again where the exact same attack

121
00:09:16,280 --> 00:09:20,689
vectors are working again and again and
again but we're really not seeing

122
00:09:20,690 --> 00:09:25,010
organizations do that much to try to
stop those attacks least as much as we'd

123
00:09:25,010 --> 00:09:27,830
like to see them stop those attacks

124
00:09:27,830 --> 00:09:32,420
I i believe firmly in user awareness and
user education i absolutely do but i

125
00:09:32,420 --> 00:09:36,290
think it's completely understandable why
many organizations would say we're

126
00:09:36,290 --> 00:09:39,980
giving up on user education we're giving
up on user awareness because you still

127
00:09:39,980 --> 00:09:44,210
have a percentage of the users that are
going to click on links and in most

128
00:09:44,210 --> 00:09:47,210
penetration test with most of the
companies that I've talked to your

129
00:09:47,210 --> 00:09:50,090
looking anywhere between thirteen to
twenty percent of the people will click

130
00:09:50,090 --> 00:09:55,430
on anything that you send them you send
them a link in an email that says

131
00:09:55,430 --> 00:10:02,959
spearfishing test and above the link you
say do not click this link you will fail

132
00:10:02,960 --> 00:10:07,580
the spearfishing test thirteen to twenty
percent of the people will click that

133
00:10:07,580 --> 00:10:10,940
link and a hundred percent of the
security team will click the headline

134
00:10:12,360 --> 00:10:17,700
so we see this again and again and in
for each of these different trends and

135
00:10:17,700 --> 00:10:20,790
the things that i was talking about i
wanted to come up with a lesson

136
00:10:21,360 --> 00:10:25,620
what can we look at and what can we
learn and I don't honestly know what

137
00:10:25,620 --> 00:10:30,180
what we can learn here doing through we
learned all users just click on things

138
00:10:30,839 --> 00:10:35,670
um have we collectively given up on this
insecurity there have been things that

139
00:10:35,670 --> 00:10:42,000
we've given up absolutely for example
users accessing private email in gmail

140
00:10:42,000 --> 00:10:44,970
or yahoo mail or hotmail if they're
really really old

141
00:10:44,970 --> 00:10:48,959
we have people are still accessing the
private email we allow that because as

142
00:10:48,959 --> 00:10:53,069
an industry we collectively looked at
that as a security attack vector and

143
00:10:53,070 --> 00:10:57,060
said ah screw it we'll let that through
are we doing that with our user

144
00:10:57,060 --> 00:11:01,349
population is it a good idea and I'm not
trying to say that it is or is not a

145
00:11:01,350 --> 00:11:04,350
good idea i've already told you my
thoughts I believe user awareness is

146
00:11:04,350 --> 00:11:09,779
important but as an industry and we
given up on trying to prevent users from

147
00:11:09,779 --> 00:11:14,760
clicking on links personally it's
starting to look a lot like we have or

148
00:11:14,760 --> 00:11:18,600
whatever we do test it we try to test it
in such a way to minimize any

149
00:11:18,600 --> 00:11:23,850
embarrassment that may occur within the
organization the next trend is mobile

150
00:11:23,850 --> 00:11:26,850
should without question be an issue

151
00:11:27,390 --> 00:11:33,390
would anybody like to take a oh well I
have it on a bullet . why is it that a

152
00:11:33,390 --> 00:11:38,279
lot of organizations have decided not to
test their mobile applications as the

153
00:11:38,279 --> 00:11:43,290
CEO and CIO the CTO read these reports
and they say I've got all these problems

154
00:11:43,290 --> 00:11:49,589
but mobile is not one of them because
report says nobody's compromising mobile

155
00:11:49,589 --> 00:11:56,760
devices and targeting users of those
devices it's not an issue and CEO CEO

156
00:11:56,760 --> 00:12:01,199
CFO CTOs look at this and they say
there's no reason whatsoever to test our

157
00:12:01,199 --> 00:12:04,079
mobile apps now to be sure we do have
some customers that we test mobile apps

158
00:12:04,079 --> 00:12:08,219
and they're great customers and we love
those customers but I'm seeing more of

159
00:12:08,220 --> 00:12:13,050
our calls with customers pre sales calls
and we get into testing calls people

160
00:12:13,050 --> 00:12:17,699
saying this is not an issue we should
absolutely ignore it but if we look at

161
00:12:17,699 --> 00:12:21,240
testing mobile applications what we're
seeing on the other side even though

162
00:12:21,240 --> 00:12:24,110
that's not actively being used exploit
users on

163
00:12:24,110 --> 00:12:28,339
other side we're seeing these huge
vulnerabilities that are basically the

164
00:12:28,339 --> 00:12:34,010
equivalent of hacking like it's 1999
very little protections whatsoever built

165
00:12:34,010 --> 00:12:38,300
into the applications simply changing
user IDs in many situations allows you

166
00:12:38,300 --> 00:12:42,859
to jump to another user's account and
steal all of their data very very easily

167
00:12:42,860 --> 00:12:48,649
see that constantly so what do we do as
an industry we continue to ignore mobile

168
00:12:48,649 --> 00:12:52,880
applications are we continue trying to
test mobile applications and I've come

169
00:12:52,880 --> 00:12:58,430
to the realization just how powerful a
couple of small things in the industry

170
00:12:58,430 --> 00:13:02,449
can be like a verizon data breach report
saying mobile is not an issue can

171
00:13:02,450 --> 00:13:06,200
actually shut down a large amount of
mobile testing you guys remember years

172
00:13:06,200 --> 00:13:09,800
ago whenever gardener came out with a
report and said IDS's debt

173
00:13:09,800 --> 00:13:12,890
how many of you had bosses that said
we're gonna rip out intrusion detection

174
00:13:12,890 --> 00:13:17,149
systems because Gardner said is a dead
technology is a large number of people

175
00:13:17,149 --> 00:13:21,200
that basically stopped implementing the
technology because some stupid report

176
00:13:21,200 --> 00:13:25,040
said that they should stop implementing
that technology and we've seen that

177
00:13:25,040 --> 00:13:30,949
again i also believe that internal is a
mess if i go through the reports once we

178
00:13:30,949 --> 00:13:34,819
get access to a system is a very short
period of time in most networks not all

179
00:13:34,820 --> 00:13:38,510
networks will get to that here in a
second that once we are in the inside of

180
00:13:38,510 --> 00:13:42,019
the network it is a matter of hours and
with bloodhound and some of the other

181
00:13:42,019 --> 00:13:46,730
tools is a matter of minutes once
bloodhound finishes running for you to

182
00:13:46,730 --> 00:13:50,540
get domain administrator it's very very
quick in fact i'm now coming to the

183
00:13:50,540 --> 00:13:53,719
conclusion that active directory is
merely a means for pen testers to make

184
00:13:53,720 --> 00:13:58,610
our lives easy if we look at powershell
there's a lot of security tools that

185
00:13:58,610 --> 00:14:04,160
alert on any execution of PowerShell let
that sink in for a second

186
00:14:04,160 --> 00:14:11,089
his power shell that heavily used by the
pen testing and exploitation community

187
00:14:11,089 --> 00:14:15,199
and not used by systems administrators
how many because use PowerShell as part

188
00:14:15,199 --> 00:14:18,769
of your systems administration every
single day and we have people that are

189
00:14:18,769 --> 00:14:22,550
literally creating signatures that as
soon as powershell execute we

190
00:14:22,550 --> 00:14:26,390
immediately flag it as malicious and
then try to stop so

191
00:14:27,370 --> 00:14:32,800
what does that mean that means that
attackers and penetration testers have

192
00:14:32,800 --> 00:14:38,709
successfully accelerated and large
number of gray areas identifying areas

193
00:14:38,710 --> 00:14:44,529
that are used by systems administrators
use legitimately and then taking over

194
00:14:44,529 --> 00:14:49,180
those various gray areas and then using
those to take over the rest of the

195
00:14:49,180 --> 00:14:52,569
network and it's getting to the point
where security vendors many times

196
00:14:52,570 --> 00:14:56,890
they're only a way to stop this at least
they think is to simply block and

197
00:14:56,890 --> 00:14:59,890
stopped an alert on all powershell
execution

198
00:15:00,520 --> 00:15:04,420
that's a horrifying development in
computer security in fact we have some

199
00:15:04,420 --> 00:15:08,800
customers that have no active directory
at all their customers where they run

200
00:15:08,800 --> 00:15:12,310
mac they may be run linux and they're
very proud of that fact and you would

201
00:15:12,310 --> 00:15:16,630
think the traditional wisdom information
security that those networks will be far

202
00:15:16,630 --> 00:15:21,670
easier networks to break into and yes
you can get access to a single system by

203
00:15:21,670 --> 00:15:26,500
their very lack of design they are
segmented and compartmentalize and they

204
00:15:26,500 --> 00:15:29,920
actually have defense in depth to the
point where you exploit a single system

205
00:15:30,490 --> 00:15:35,589
you cannot pass the hash you cannot your
own many cats you cannot run a number of

206
00:15:35,589 --> 00:15:39,070
the tools if it's like linux and mac
environments like responsible to

207
00:15:39,070 --> 00:15:42,010
basically steal credentials and pivot
around the inside of the environment

208
00:15:42,010 --> 00:15:45,939
because all that connective tissue that
holds your environment together an

209
00:15:45,940 --> 00:15:47,680
active directory is gone

210
00:15:47,680 --> 00:15:51,219
please don't take this to mean that we
should immediately stop using Active

211
00:15:51,220 --> 00:15:54,250
Directory but i think that we need to
wake up and realize the way it's

212
00:15:54,250 --> 00:15:58,750
actually being abused today is making
things very very easy for attackers

213
00:15:58,750 --> 00:16:03,610
further being the fact that it's
extremely easier for attackers to pivot

214
00:16:03,610 --> 00:16:06,850
post exploitation to fix it

215
00:16:06,850 --> 00:16:11,529
it is an incredible problem think about
this is a defender right if I go to an

216
00:16:11,529 --> 00:16:15,610
organization that has 70,000 hundred
thousand nodes and they have Active

217
00:16:15,610 --> 00:16:20,860
Directory infrastructure that has been
upgraded since 2000 or 1999 and we tell

218
00:16:20,860 --> 00:16:23,290
them you got to implement all these
different group policies you got to

219
00:16:23,290 --> 00:16:28,750
implement the segmentation you're
basically working against 10 15 20 years

220
00:16:28,750 --> 00:16:35,080
of infrastructure in some situations
that just cannot be undone and that

221
00:16:35,080 --> 00:16:38,690
becomes a bigger problem i use this
analogy quite a bit

222
00:16:38,690 --> 00:16:43,700
in your organization today if you look
at all the technology that is deployed

223
00:16:43,700 --> 00:16:47,720
on your desktop all the technology is
deployed in your personal build for your

224
00:16:47,720 --> 00:16:50,090
workstations in your laptop computers

225
00:16:50,090 --> 00:16:53,090
there's a tremendous amount of bloatware
and software that's installed by default

226
00:16:53,870 --> 00:16:56,660
same thing goes for the server-side
applications and the applications that

227
00:16:56,660 --> 00:17:01,100
are used by organization these things do
not go away they continue to perpetrate

228
00:17:01,100 --> 00:17:05,630
and kind of live on forever and we don't
clean these things out as much as we

229
00:17:05,630 --> 00:17:07,459
absolutely should

230
00:17:07,459 --> 00:17:12,230
but all that being said there are some
really really beautiful glimmers of Hope

231
00:17:12,230 --> 00:17:18,829
user behavioral analytics is a great
step in the right direction is it to

232
00:17:18,829 --> 00:17:21,079
cook the Silver Bullet we've been
looking for

233
00:17:21,079 --> 00:17:26,000
no but it's a hell of a lot better than
sins i said this last year and I'll say

234
00:17:26,000 --> 00:17:26,959
it again

235
00:17:26,959 --> 00:17:32,540
Sims do not work and ultimately there's
somebody in here that's really into

236
00:17:32,540 --> 00:17:40,790
splunk and they're like but I love bison
I'll of regular expressions it works for

237
00:17:40,790 --> 00:17:41,570
me

238
00:17:41,570 --> 00:17:47,270
you are the one percent the vast
majority of organizations that we test

239
00:17:47,270 --> 00:17:53,540
their sins pull up squat so yes it may
work for you and maybe one of those

240
00:17:53,540 --> 00:17:56,149
things we see if it works for me it
should work for everybody but you're a

241
00:17:56,150 --> 00:18:04,010
precious unique and wonderful snowflake
we do not see by and large sims

242
00:18:04,010 --> 00:18:07,550
detecting a large amount of lateral
movement if you look at a lot of the

243
00:18:07,550 --> 00:18:11,180
user behavioral analytics tools out
there exiting rapid7 user behavioral

244
00:18:11,180 --> 00:18:16,430
analytics microsoft advanced threat
analytics they do detect a large amount

245
00:18:16,430 --> 00:18:17,450
of lateral movement

246
00:18:17,450 --> 00:18:22,850
here's where it gets interesting many of
these tools are tuned in such a way to

247
00:18:22,850 --> 00:18:29,750
detect penetration testers not attackers
look let me clarify whenever you're

248
00:18:29,750 --> 00:18:34,190
doing a penetration test how long do you
have generally to do an internal

249
00:18:34,190 --> 00:18:40,700
penetration test one week so you do fast
things right like you're going to use

250
00:18:40,700 --> 00:18:45,350
PowerShell Empire to identify files you
use a bloodhound to identify different

251
00:18:45,350 --> 00:18:48,590
systems that have local administrator
rights granted to the domain users group

252
00:18:49,170 --> 00:18:54,840
you're gonna move fast because you don't
have enough time today we have the dhis

253
00:18:54,840 --> 00:18:57,990
team the biggest bitching complained
that they have for me as we don't have

254
00:18:57,990 --> 00:19:02,790
enough time for tests and they're right
they are but organizations that we test

255
00:19:02,790 --> 00:19:06,720
will not allow us to say hey can we sit
on your network for six months will give

256
00:19:06,720 --> 00:19:11,370
you a report at the end if you're an
attacker and you run low enough and you

257
00:19:11,370 --> 00:19:15,360
run slow enough you can one underneath
the radar of every single one of these

258
00:19:15,360 --> 00:19:20,580
tools so keep asking yourself are you
effective at detecting a penetration

259
00:19:20,580 --> 00:19:25,710
tester are you effective at detecting an
attacker know the difference understand

260
00:19:25,710 --> 00:19:31,260
attackers will absolutely sit on your
network for months and run extremely

261
00:19:31,260 --> 00:19:35,760
slow to get the data they're actually
looking for as well advanced malware

262
00:19:35,760 --> 00:19:36,870
protection

263
00:19:36,870 --> 00:19:44,429
this is a bit of a mixed bag right um we
did a presentation earlier this year

264
00:19:44,430 --> 00:19:48,540
actually at night did a presentation and
we were talking about bypassing advanced

265
00:19:48,540 --> 00:19:52,830
security suites application whitelisting
bypassing tools like silence and we

266
00:19:52,830 --> 00:19:55,889
actually like a large number of these
different tools and it's amazing i want

267
00:19:55,890 --> 00:19:59,940
to talk about bypassing some of these
tools how defensive many of these

268
00:19:59,940 --> 00:20:05,280
authors can be the people that write
these tools they tend to say it wouldn't

269
00:20:05,280 --> 00:20:07,950
actually do that we did that our lab it
doesn't work there are very few

270
00:20:07,950 --> 00:20:11,160
organizations where you find a
vulnerability they fix it less than 24

271
00:20:11,160 --> 00:20:11,850
hours

272
00:20:11,850 --> 00:20:17,129
very very few will stand up admit they
have a mistake or a problem and then try

273
00:20:17,130 --> 00:20:20,190
to fix it but it's a step in the right
direction

274
00:20:21,090 --> 00:20:23,909
it's absolutely step in the right
direction i'll talk more about that in

275
00:20:23,910 --> 00:20:27,900
another slide it's good there's still
problems but it's good we're seeing

276
00:20:27,900 --> 00:20:32,280
people kind of growth we're seeing a
large amount of people that have

277
00:20:32,280 --> 00:20:36,570
resistance to the right things we get
quotes all the time we want full

278
00:20:36,570 --> 00:20:42,600
penetration test of 10,000 nodes and one
week 47 thousand dollars you know what I

279
00:20:42,600 --> 00:20:46,290
can absolutely run a scan convert it
into a word document and send it to you

280
00:20:48,420 --> 00:20:53,250
funny thing about that so get a customer
that we're testing Lauren's gonna be

281
00:20:53,250 --> 00:20:54,840
like oh god down

282
00:20:54,840 --> 00:20:56,310
um

283
00:20:56,310 --> 00:21:03,720
very rarely do a fire a customer of but
this one we had to fire so there are

284
00:21:03,720 --> 00:21:07,800
their infrastructure they said they had
400 notes and they want us to

285
00:21:07,800 --> 00:21:10,500
vulnerability analysis and give them
some recommendations for their

286
00:21:10,500 --> 00:21:15,030
architecture and all that standard stuff
so Lauren started scanning the

287
00:21:15,030 --> 00:21:18,360
environment and it came back with two
thousand notes wasn't there was a

288
00:21:18,360 --> 00:21:24,750
thousand i think it was 25 thousand I
was way off 5,000 notes and we went to

289
00:21:24,750 --> 00:21:28,530
the customer we said from scope creep
perspective this is a lot more nodes

290
00:21:28,530 --> 00:21:33,000
then then then we thought and they said
well just fine like the top ten that you

291
00:21:33,000 --> 00:21:38,700
think are exploitable and then try to
exploit those systems and these were RC

292
00:21:38,700 --> 00:21:43,380
1989 PP addresses these were internal IP
addresses okay so on the inside of the

293
00:21:43,380 --> 00:21:47,190
network and there that they're like
confused like I don't know where all

294
00:21:47,190 --> 00:21:49,830
those notes come from but you know what
they were a little bit clueless through

295
00:21:49,830 --> 00:21:53,820
everything anyway but usually if you
think you have 400 systems you actually

296
00:21:53,820 --> 00:21:56,010
have 5,000 systems

297
00:21:56,010 --> 00:22:03,750
you at least got to wake up one morning
and be like do i suck at my job

298
00:22:06,900 --> 00:22:16,890
so so oh one more thing we sent a server
to them and we told me gave him

299
00:22:16,890 --> 00:22:19,800
directions on how to setup the scanning
server and the directions were this

300
00:22:19,800 --> 00:22:24,480
plug-in give it an ethernet port with
dhcp login with this user ID and

301
00:22:24,480 --> 00:22:29,250
password click this little icon at the
top and give us the IP address i said

302
00:22:29,250 --> 00:22:41,040
okay look we need better directions in
that so we send him more detailed

303
00:22:41,040 --> 00:22:44,639
instructions with pictures and they said
this isn't good enough

304
00:22:45,600 --> 00:22:49,080
Lawrence was sending in an email mike
lawrence try putting it in a word doc

305
00:22:49,080 --> 00:22:52,080
senator we're talking like this is
perfect thank you

306
00:22:52,770 --> 00:22:55,770
they came back

307
00:22:56,880 --> 00:23:02,850
wish I could make this up they came back
and they sent it for this as email they

308
00:23:02,850 --> 00:23:06,120
said the server is up and running here
is the IP address and the email to

309
00:23:06,120 --> 00:23:09,030
others all kinds of emails from their
network team about how stupid we were

310
00:23:09,030 --> 00:23:11,879
black holes information security like
those instructions were really awful i

311
00:23:11,880 --> 00:23:13,590
have no idea what they're talking about

312
00:23:13,590 --> 00:23:16,500
I've been a network engineer for 15
years and these guys are quite possibly

313
00:23:16,500 --> 00:23:21,390
the dumbest firm I've ever met on the
incompetents is rampant at Black Hills

314
00:23:21,390 --> 00:23:25,560
information security at the top of the
email it set the IP address of the

315
00:23:25,560 --> 00:23:28,560
server is 127 . 00 not one

316
00:23:29,900 --> 00:23:43,580
so we scanned these systems and we sat
down with them and we said look um do

317
00:23:43,580 --> 00:23:52,730
you have servers and Finland like no
it's it's on your network they had an

318
00:23:52,730 --> 00:24:00,290
ISP and their isp put them on a flat
network with all of the rest of their

319
00:24:00,290 --> 00:24:10,460
customers around the world so we're like
okay we're done here home they said to

320
00:24:10,460 --> 00:24:11,960
us quo

321
00:24:11,960 --> 00:24:19,010
can you just exploit the systems and
tell us which ones are ours so

322
00:24:22,040 --> 00:24:28,970
another thing is we want you to hack us
like a real hacker want you to use real

323
00:24:28,970 --> 00:24:36,050
black hat techniques by the way here's a
99 restrictions don't do these things we

324
00:24:36,050 --> 00:24:40,340
want you to finish our environment but
you can't fish these 99 managers don't

325
00:24:40,340 --> 00:24:44,570
fish the CFO co-ceo their feelings will
get hurt

326
00:24:45,560 --> 00:24:49,790
we've had tests were in the middle of
the test the CEO got phished you

327
00:24:49,790 --> 00:24:53,600
remember whatever they were asking for
our CFO got fish and like there was

328
00:24:53,600 --> 00:24:56,780
things were like immediately transfer
funds to this account so i can make this

329
00:24:56,780 --> 00:24:59,510
happen that that's just human stupidity

330
00:24:59,510 --> 00:25:05,060
we've had tests were fishing they
contact us and like this you just would

331
00:25:05,060 --> 00:25:11,149
be like yes that was us but no and then
once we say it's not us

332
00:25:11,690 --> 00:25:14,930
they'll come back to us and say what we
told you not to do this and it's like

333
00:25:14,930 --> 00:25:20,450
wait a minute no we did this they did
that the Venn diagram does not touch

334
00:25:20,450 --> 00:25:29,420
their complete we want but we we had one
pentest uh is brian in here this is last

335
00:25:29,420 --> 00:25:33,470
year I don't know Brian Furman's in here
you don't think he made he's not feeling

336
00:25:33,470 --> 00:25:37,100
well he had a test we destroyed an
organization beautiful penetration test

337
00:25:37,100 --> 00:25:41,719
well done great report the CFO looked at
the report and said there's nowhere in

338
00:25:41,720 --> 00:25:46,970
this report that says that you hacked
our firewall I think you need to go back

339
00:25:46,970 --> 00:25:48,710
and and try harder

340
00:25:48,710 --> 00:25:52,640
like what well on TV we see firewalls
get hacked

341
00:25:52,640 --> 00:25:55,640
oh alright

342
00:25:57,020 --> 00:26:02,000
so there's a learning . for this okay

343
00:26:02,750 --> 00:26:06,680
the learning . for this isn't that while
people are stupid the learning . for

344
00:26:06,680 --> 00:26:14,450
this is there is a tremendous huge raft
of information technology refugees that

345
00:26:14,450 --> 00:26:18,440
are just now making it to the shore and
waking up and realizing that they

346
00:26:18,440 --> 00:26:24,020
actually have to have testing done for
the first time their preconception you

347
00:26:24,020 --> 00:26:27,440
conceived notions are all wrong they
have no idea what things look like they

348
00:26:27,440 --> 00:26:28,970
don't know what to expect

349
00:26:28,970 --> 00:26:33,890
they've learned everything they know
from CSI about hacking and it's up to us

350
00:26:33,890 --> 00:26:39,320
to train them and be gentle with them
you don't laugh at them unless they ask

351
00:26:39,320 --> 00:26:42,320
you to do illegal things like hack
servers in Hong Kong because they just

352
00:26:42,320 --> 00:26:47,240
want to find out what would happen we
need to educate our customers as much as

353
00:26:47,240 --> 00:26:51,710
possible because that is a trend we're
seeing more and more organizations that

354
00:26:51,710 --> 00:26:55,130
have no idea what security is beyond
patching they have no idea what

355
00:26:55,130 --> 00:26:59,090
penetration testing is beyond what they
see in Hollywood and it's up to us to

356
00:26:59,090 --> 00:27:03,169
educate them the people in this room
doing such a way that's not your job

357
00:27:03,170 --> 00:27:07,790
a joke on them i know i'm doing it here
at Derby con i understand that i like to

358
00:27:07,790 --> 00:27:11,090
think this is kind of a friendly place i
know this is going online but at the

359
00:27:11,090 --> 00:27:14,510
same time we need to be willing and open
to explain things because a lot of these

360
00:27:14,510 --> 00:27:18,830
questions that they're asking our bread
of egg yolk of egg ignorance and we can

361
00:27:18,830 --> 00:27:21,020
help educate make things better

362
00:27:21,020 --> 00:27:24,020
oh we do also thanks

363
00:27:26,620 --> 00:27:34,270
speaking of crazy customers we eighty
percent of what we do a ph is is repeat

364
00:27:34,270 --> 00:27:35,830
work from before

365
00:27:35,830 --> 00:27:39,669
um and that's something out of all the
things that we do that's one of the

366
00:27:39,670 --> 00:27:43,090
things that makes me the provost and we
have customers that truly get it

367
00:27:43,630 --> 00:27:47,140
um we have customers that setup
environments for us that we can go and

368
00:27:47,140 --> 00:27:51,550
we can test it anytime that we want and
it's beautiful and they want to do

369
00:27:51,550 --> 00:27:53,110
better right

370
00:27:53,110 --> 00:27:57,820
um but sometimes they send me emails
that are just the most hilarious thing

371
00:27:57,820 --> 00:27:59,260
I've ever seen

372
00:27:59,260 --> 00:28:04,059
without a doubt the craziest coolest
email I got from a customer repeat

373
00:28:04,059 --> 00:28:08,678
customers this one it says pretext for
this test target to destroy the damage

374
00:28:08,679 --> 00:28:11,350
credibility of blue team's globally
reduce the security budget of all

375
00:28:11,350 --> 00:28:14,770
industries everywhere to create can a
contagious sense of hopelessness within

376
00:28:14,770 --> 00:28:18,250
the insight community the greatest trick
the devil reports to convince the world

377
00:28:18,250 --> 00:28:19,540
he did not exist

378
00:28:19,540 --> 00:28:23,050
this is just another attack in a
long-running campaign by the same

379
00:28:23,050 --> 00:28:27,760
attackers a group called black hats
matter that's us right has learned over

380
00:28:27,760 --> 00:28:32,410
the last six months redacted they have
decided that the only attack left open

381
00:28:32,410 --> 00:28:35,890
is total network domination to be
achieved by only targeting the security

382
00:28:35,890 --> 00:28:39,520
team and visibility of devices
themselves attacking the security

383
00:28:39,520 --> 00:28:43,360
devices they have identified the Machine
of an angry millennial developer is

384
00:28:43,360 --> 00:28:49,449
because the diminished security posture
because his boss and instructed me that

385
00:28:49,450 --> 00:28:52,900
his productivity was being reduced by
traditional security i convince the

386
00:28:52,900 --> 00:28:58,179
developer to at least run without admin
to allow productive to be installed due

387
00:28:58,179 --> 00:29:01,809
to its low CPU and memory footprint
blonde has identified and previously

388
00:29:01,809 --> 00:29:06,070
remediated attacked as developers logged
into a test server with a hybrid

389
00:29:06,070 --> 00:29:11,260
privilege blank credentials scan has
also been logged into black hats matter

390
00:29:11,260 --> 00:29:15,610
as hypothesized that all detective tools
have white list of the scanner and it

391
00:29:15,610 --> 00:29:20,469
spreads the attackers believe that by
attacking the scanner itself no alerts

392
00:29:20,470 --> 00:29:23,860
will be raised the next step is to use
the scanner to implant malware into the

393
00:29:23,860 --> 00:29:26,290
blank server on patch tuesday

394
00:29:26,290 --> 00:29:30,040
only in this way when our become part of
the blank baselines recon and data

395
00:29:30,040 --> 00:29:33,610
exfiltration will be accomplished during
the network scans to hide anomalous

396
00:29:33,610 --> 00:29:34,740
windows traffic

397
00:29:34,740 --> 00:29:37,740
love this email because it's insane

398
00:29:40,230 --> 00:29:45,330
I wish every customer was like this you
know and we test and we work with this

399
00:29:45,330 --> 00:29:48,540
customer regularly and it's it's gotten
to the point where it's like we want to

400
00:29:48,540 --> 00:29:51,600
try acts and he's like yeah that's
that's pretty insane

401
00:29:51,600 --> 00:29:56,370
let's do it it's like awesome but we
need to be kind of forward tilting and

402
00:29:56,370 --> 00:29:59,428
kind of the goal of this email and
everything that's being talked about in

403
00:29:59,429 --> 00:30:03,390
this email is attacking security tools
themselves

404
00:30:05,280 --> 00:30:12,899
we need to start attacking security
tools i cannot stress how horribly

405
00:30:12,900 --> 00:30:16,410
written many of these security tools
especially these tools that have

406
00:30:16,410 --> 00:30:21,300
multi-million dollar marketing budgets
that you see absolutely everywhere are

407
00:30:21,300 --> 00:30:26,820
horrible dumpster fires let's start
attacking them

408
00:30:26,820 --> 00:30:34,290
ok alright so heavy sku we have a
tremendous huge sku in the industry from

409
00:30:34,290 --> 00:30:38,909
what real attacks are doing if you look
at it a little bit closer you'll see it

410
00:30:38,910 --> 00:30:45,360
we see a lot of water down testing
that's coming up and this is within the

411
00:30:45,360 --> 00:30:52,439
last 12 months once again it's that raft
of refugees in this group of customers

412
00:30:52,440 --> 00:30:55,470
they scare me but they're harder to work
with

413
00:30:56,070 --> 00:31:02,070
we have a number of customers and
potential customers that have came to us

414
00:31:02,070 --> 00:31:06,450
not because they want to learn about
security vulnerabilities but because

415
00:31:06,450 --> 00:31:09,450
they want us to make them look good

416
00:31:10,230 --> 00:31:15,360
this has always been a fight right it's
always been a fight where you give

417
00:31:15,360 --> 00:31:19,260
somebody a critical rating and they come
back and like final think were critical

418
00:31:19,890 --> 00:31:24,120
I mean isn't everyone running windows
2000 at the edge of their network mean

419
00:31:24,120 --> 00:31:26,280
come on it's gonna be used all the time
right

420
00:31:26,280 --> 00:31:28,908
no it's not

421
00:31:28,909 --> 00:31:37,700
so we have had an uptick in this year
we've had about four tests where the

422
00:31:37,700 --> 00:31:42,109
companies and organizations that were
testing management or the people that

423
00:31:42,109 --> 00:31:45,619
were working within the test will come
right out and they will insult testers

424
00:31:45,619 --> 00:31:48,139
like there was one I don't know where
Derek said I saw him come in through a

425
00:31:48,139 --> 00:31:53,478
box Adam earlier um oh there is derek
was on a test and went out to dinner

426
00:31:53,479 --> 00:31:57,080
with the company before we actually got
started and the manager was outright

427
00:31:57,080 --> 00:32:00,289
just insulting i got this guy's not
getting anywhere he's not going to

428
00:32:00,289 --> 00:32:02,899
achieve anything whenever derrick
finally took over the entire

429
00:32:02,899 --> 00:32:08,238
organization i went into his office and
started throwing chairs around and you

430
00:32:08,239 --> 00:32:09,529
don't get too proud

431
00:32:09,529 --> 00:32:16,009
ok so i was proud of Terah goes like
body but his concern was that the

432
00:32:16,009 --> 00:32:23,659
penetration testing report would reflect
poorly on him and his job we can't allow

433
00:32:23,659 --> 00:32:25,279
that to happen

434
00:32:25,279 --> 00:32:31,099
okay we can't allow that to happen a lot
of our reports we have the same

435
00:32:31,099 --> 00:32:34,849
vulnerabilities that we identify the
same weaknesses that we identify and we

436
00:32:34,849 --> 00:32:37,489
go out of our way to try to explain that
these vulnerabilities and weaknesses

437
00:32:37,489 --> 00:32:40,549
that we see in your organization are
also the same weaknesses and

438
00:32:40,549 --> 00:32:43,940
vulnerabilities that we see across
multiple organizations and systemic

439
00:32:43,940 --> 00:32:46,700
weakness in our information security
architecture in the way that they're

440
00:32:46,700 --> 00:32:48,409
being designed and built today

441
00:32:48,409 --> 00:32:54,289
give your direct customers away out as a
penetration tester has a human being

442
00:32:54,289 --> 00:32:57,619
you've got to help out your other
systems administrators and network

443
00:32:57,619 --> 00:33:01,488
administrators and security
administrators that you do work for so

444
00:33:01,489 --> 00:33:06,710
help them out as much as you possibly
can but I will warn you there are a

445
00:33:06,710 --> 00:33:09,649
large number of the quote-unquote
refugees that are coming into the world

446
00:33:09,649 --> 00:33:12,918
of penetration testing and security
assessments that do not care about

447
00:33:12,919 --> 00:33:15,019
computer security one bit

448
00:33:15,019 --> 00:33:20,450
the only thing that they care about is
looking good to their CEO CFO and CTO so

449
00:33:20,450 --> 00:33:24,710
here's a trick for dealing with them
number one don't fight them

450
00:33:24,710 --> 00:33:29,690
I i tried to stress as much as possible
the quickest way to lose an argument is

451
00:33:29,690 --> 00:33:31,810
by arguing

452
00:33:31,810 --> 00:33:35,230
so what you can do and some people would
disagree with me on this and that's

453
00:33:35,230 --> 00:33:41,500
great i don't i don't mind that send
them the first report and then offer to

454
00:33:41,500 --> 00:33:45,280
come into a retest after they fix those
vulnerabilities to give them a better

455
00:33:45,280 --> 00:33:49,510
report to things that are nice about
this the first thing that's nice as they

456
00:33:49,510 --> 00:33:53,710
get a nice report at the end that they
can actually show management the other

457
00:33:53,710 --> 00:33:58,870
thing that's nice for you is you can
sleep well at night knowing that you at

458
00:33:58,870 --> 00:34:03,399
least forced an organization to take
some level of action and sometimes

459
00:34:03,400 --> 00:34:07,570
that's all we ask for right is to see
some level of improvement in an

460
00:34:07,570 --> 00:34:11,949
organization so you we get that so
everybody wins we don't have to be

461
00:34:11,949 --> 00:34:16,089
people's heads in with the types of our
abilities and findings that we think

462
00:34:16,090 --> 00:34:18,610
that they should be trying to deal with
and if they don't listen to us we

463
00:34:18,610 --> 00:34:23,470
stopped off into the sunset and a lot of
this ultimately whenever I'm talking

464
00:34:23,469 --> 00:34:28,239
about these problems can be solved by
having clear delineation between what we

465
00:34:28,239 --> 00:34:35,889
do whenever we do a penetration test so
let me use an example right so fishing

466
00:34:35,889 --> 00:34:42,219
fishing can mean a hundred different
things to organizations right fishing if

467
00:34:42,219 --> 00:34:45,069
we're looking at rps we have our appears
that come back and say they want pure

468
00:34:45,070 --> 00:34:50,920
black box penetration tests but they
want you to fish a thousand users now

469
00:34:50,920 --> 00:34:56,110
most anti-spam appliances today if you
hit with a thousand emails they well

470
00:34:56,110 --> 00:34:59,470
trip doesn't matter what's in that email
just by the volume that's coming in

471
00:34:59,470 --> 00:35:03,129
they're gonna trip even if you try to
slow it down and spread it out over time

472
00:35:03,130 --> 00:35:07,480
it's going to trip just by the sheer
volume this is not how the bad guys do

473
00:35:07,480 --> 00:35:12,700
it the bad guys target your CEO cio CTO
your systems administrators your

474
00:35:12,700 --> 00:35:17,080
security administrators and they target
that person week 1 if they get in great

475
00:35:17,080 --> 00:35:21,370
then on week two they do a highly
targeted attack against another user and

476
00:35:21,370 --> 00:35:24,100
if that works great if they don't they
wait a little bit longer and they

477
00:35:24,100 --> 00:35:28,360
changed the ruse almost every single
time before they finally get something

478
00:35:28,360 --> 00:35:31,870
that's going to work so if you have the
scope item one of the things that works

479
00:35:31,870 --> 00:35:36,130
fairly well as if it's in the RFP that
they have to have to test a thousand

480
00:35:36,130 --> 00:35:40,090
emails what you can do is target five
users over the course of the test use

481
00:35:40,090 --> 00:35:43,619
highly targeted attacks and then simply
blast out the other 900

482
00:35:43,619 --> 00:35:48,029
95 at the end this is kind of fun
because what happens you gain access you

483
00:35:48,029 --> 00:35:51,329
pivot you do what you need to do and
then whenever you blast them with the

484
00:35:51,329 --> 00:35:56,579
995 they're like we caught you with you
right there we got it is like well did

485
00:35:56,579 --> 00:35:59,999
you catch the things the weeks before
what

486
00:35:59,999 --> 00:36:02,759
so it's a way to kind of work around
those restrictions because a lot of

487
00:36:02,759 --> 00:36:06,180
those restrictions on those requirements
they put on may not be something that

488
00:36:06,180 --> 00:36:09,629
they can remove whenever you talk to
them throughout the proposal process and

489
00:36:09,630 --> 00:36:12,839
ultimately what this boils down to using
fishing as an example is we need to take

490
00:36:12,839 --> 00:36:17,009
penetration testing and fracture and by
fracturing and we need to break into

491
00:36:17,009 --> 00:36:23,099
categories and this is something that
scotus had 564 since 2007 2008 time

492
00:36:23,099 --> 00:36:27,569
frame it needs to be fractured into
different areas and in fact we break

493
00:36:27,569 --> 00:36:30,509
these up into different proposals to
clearly delineate you have a

494
00:36:30,509 --> 00:36:34,769
vulnerability assessment we all know
what that is we have a penetration test

495
00:36:34,769 --> 00:36:37,709
which I'll talk about that here on the
next slide and then we have red teaming

496
00:36:37,710 --> 00:36:42,630
now we can do more advanced attacks
against an organization and only in this

497
00:36:42,630 --> 00:36:46,890
way can we get some level of clarity
whenever we're talking about providing a

498
00:36:46,890 --> 00:36:50,549
letter of attestation I'm know what is a
letter of attestation a letter of

499
00:36:50,549 --> 00:36:53,999
attestation sites that we did a
penetration test your organization was

500
00:36:53,999 --> 00:36:57,569
relatively clean your operating with a
safe level computer security but it's

501
00:36:57,569 --> 00:37:01,109
hard to do that when they completely
restrict you if you can define it

502
00:37:01,109 --> 00:37:05,519
properly as a vulnerability test as a
penetration test or a red team then your

503
00:37:05,519 --> 00:37:09,899
letter of attestation has better meaning
so a penetration test the vulnerability

504
00:37:09,900 --> 00:37:14,069
assessment these would be in the
category of more comprehensive you're

505
00:37:14,069 --> 00:37:17,940
working with the organization it's a
white box penetration test they know

506
00:37:17,940 --> 00:37:19,319
where you're coming from

507
00:37:19,319 --> 00:37:23,249
they're creating filters and their email
to allow these things to go through it

508
00:37:23,249 --> 00:37:27,930
is more comprehensive it allows for good
scanning and automation and the reports

509
00:37:27,930 --> 00:37:32,160
tend to be a lot bigger now if you have
a customer or you're an organization

510
00:37:32,160 --> 00:37:34,078
you've done this for years

511
00:37:34,079 --> 00:37:38,940
that's great that's awesome these are
valuable things i see a lot of

512
00:37:38,940 --> 00:37:42,539
penetration testers say this is stupid
don't do this you should do this if

513
00:37:42,539 --> 00:37:43,960
you've never done them both

514
00:37:43,960 --> 00:37:49,420
for without question but if you have
done them then you should be moving on

515
00:37:49,420 --> 00:37:55,330
to a red team and be clear with a red
team does were reserving this for more

516
00:37:55,330 --> 00:37:58,390
advanced customers customers who have
already done the regular scanning it's a

517
00:37:58,390 --> 00:38:02,259
fundamentally different approach to the
standard penetration test and scan

518
00:38:02,260 --> 00:38:06,250
involves custom our and more fluid
social engineering attacks as well

519
00:38:06,820 --> 00:38:11,859
it also allows us to do threat model and
in threat modeling it allows us to look

520
00:38:11,859 --> 00:38:15,700
at what the bad guys are doing in a
specific industry and match their

521
00:38:15,700 --> 00:38:21,848
tactics this takes a lot longer but
being able to do that is a very powerful

522
00:38:21,849 --> 00:38:25,750
tool in your arsenal and this is also
one of the only places where I see

523
00:38:25,750 --> 00:38:29,920
threat intelligence fields feeds and
write-ups on different types of attacks

524
00:38:29,920 --> 00:38:34,390
that have value because it allows us to
model our attacks and it's really cool

525
00:38:34,390 --> 00:38:38,440
if you can say well you know the type of
attack that we're using here is actually

526
00:38:38,440 --> 00:38:43,780
the same attack that's being used by apt
62 dash for be people like one of the

527
00:38:43,780 --> 00:38:50,770
guys really smart he's got dashes and
his descriptions huh

528
00:38:50,770 --> 00:38:54,759
advanced endpoint security um we're
seeing vision if you guys haven't

529
00:38:54,760 --> 00:38:59,800
checked out vision check out vision it
is the only endpoint security tool that

530
00:38:59,800 --> 00:39:04,180
i know of today that actually has active
defense and cyber deception built into

531
00:39:04,180 --> 00:39:10,060
it it is really really very very cool
you have things like silence and bit9

532
00:39:10,060 --> 00:39:13,630
and CrowdStrike in all of these and I
don't want to go into details on any of

533
00:39:13,630 --> 00:39:16,210
them because we're going to save that
for sacred cash cow tipping a little bit

534
00:39:16,210 --> 00:39:21,400
later on this year but most of these
tools are absolute disastrous train

535
00:39:21,400 --> 00:39:25,000
wrecks their marketing is fantastic and
the tools are beautiful

536
00:39:25,000 --> 00:39:29,890
whatever actually testing these tools
they have tremendous issues whitelisting

537
00:39:29,890 --> 00:39:34,810
is part of being a tester is a thing we
need to get used to it as well and a lot

538
00:39:34,810 --> 00:39:37,839
of smaller organizations are the ones
that we're seeing implementing these

539
00:39:37,839 --> 00:39:42,009
tools effectively in these organizations
as well and yet please don't purchase

540
00:39:42,010 --> 00:39:47,800
any of your purchasing decisions on on
how much money and how many banners they

541
00:39:47,800 --> 00:39:50,550
have in airports around the country

542
00:39:50,550 --> 00:39:53,640
some other fun things customers watching
us

543
00:39:54,240 --> 00:39:58,500
this is from a test that Sally did she
noticed that everything she tried it

544
00:39:58,500 --> 00:40:01,440
would work for a second and then it
would go away and then it wouldn't work

545
00:40:01,440 --> 00:40:05,400
again she ran about 2-3 days testing
things it was working and then all the

546
00:40:05,400 --> 00:40:09,930
sudden things would disappear so she
popped up notepad and typed in ICU guys

547
00:40:09,930 --> 00:40:14,850
are messing me messing with me and then
the cursor took over and said I don't

548
00:40:14,850 --> 00:40:20,160
know what you mean you've been having
fun all day that's cool because it's

549
00:40:20,160 --> 00:40:24,120
forcing me to learn new tricks sally was
trying to be positive when she wanted to

550
00:40:24,120 --> 00:40:27,359
kill them and then the person said I'll
get out of your way i did apply the

551
00:40:27,360 --> 00:40:30,480
updated policy to make a lot more
consistent with the field more import

552
00:40:30,480 --> 00:40:33,480
for me and there's more but you took
power show away from me

553
00:40:33,990 --> 00:40:37,229
um if you can find a way to elevate your
privileges that will give it back to you

554
00:40:37,230 --> 00:40:44,460
again this isn't a pen test this is a
freaking reoccurring nightmare of mine

555
00:40:46,020 --> 00:40:49,380
good job that's gone all right

556
00:40:49,380 --> 00:40:53,430
the lesson is we better get good at
bypassing more advanced in . sweets and

557
00:40:53,430 --> 00:40:57,270
odd customers they're going to become
more commonplace and we're going to see

558
00:40:57,270 --> 00:41:01,680
kind of a breakdown good security
implemented and organizations and poor

559
00:41:01,680 --> 00:41:05,759
security it's going to become more
dramatic so hard stuff time to jump into

560
00:41:05,760 --> 00:41:08,190
a debugger code reviews are usually a
nightmare

561
00:41:08,190 --> 00:41:12,420
I'm still amazed that we do code reviews
and we find gets usually when we see

562
00:41:12,420 --> 00:41:16,620
gets in a code review and doesn't allow
for any filtering of input size for

563
00:41:16,620 --> 00:41:18,779
buffer were just like okay we're done

564
00:41:18,780 --> 00:41:23,280
um kill with fire start over from
scratch it's a just a good way to

565
00:41:23,280 --> 00:41:27,540
approach it but there's never enough
time to go through these things i want

566
00:41:27,540 --> 00:41:31,020
to show you some quick weird freaky
things that we're starting to find

567
00:41:31,020 --> 00:41:34,380
vulnerabilities and on this is from a
webcast we did this is a vulnerability

568
00:41:34,380 --> 00:41:38,610
that we discovered in fat pipe it was
disclosed to the vendor event didn't do

569
00:41:38,610 --> 00:41:42,360
anything for 23 months and then we did a
webcast were disclosed it to the vendor

570
00:41:42,360 --> 00:41:47,040
again publicly and it was fixed within
24 hours how these things tend to work

571
00:41:47,040 --> 00:41:52,440
and the big problem is right here if you
look you can see where it says to fish

572
00:41:52,440 --> 00:41:56,400
algorithm and the key the VPN used a
static kee

573
00:41:57,310 --> 00:42:03,910
for every installation job was able to
decompile it and by the way i want to

574
00:42:03,910 --> 00:42:06,609
reiterate this company was awesome

575
00:42:06,610 --> 00:42:10,360
after they saw the webcast because they
threatened not to us which is cool i

576
00:42:10,360 --> 00:42:14,230
love we're talking to somebody like
we're totally not going to sue you don't

577
00:42:14,230 --> 00:42:17,380
worry about that okay thanks

578
00:42:17,380 --> 00:42:20,740
we're not gonna sue you at all

579
00:42:20,740 --> 00:42:28,240
sleep well oh alright and kind of gets
into electronic code book mode and you

580
00:42:28,240 --> 00:42:32,830
can take that key you can put in cipher
text and then you can basically crack

581
00:42:32,830 --> 00:42:36,460
all the traffic going back and forth
between the VPN this is the output of

582
00:42:36,460 --> 00:42:40,390
jobs tool jobs right over their jobs
going to talk about java d serialization

583
00:42:40,390 --> 00:42:44,950
attacks because he likes doing things at
bh is that are really freaking hard

584
00:42:45,580 --> 00:42:50,170
um but this is kind of fun right this
isn't scan and exploit this is actually

585
00:42:50,170 --> 00:42:54,610
decompiling java and then looking for
vulnerabilities within that job so

586
00:42:54,610 --> 00:43:00,850
password spring um bow is going to talk
about some more interesting mail attacks

587
00:43:00,850 --> 00:43:04,779
tomorrow i'll talk about that here in a
second but you can password spray and

588
00:43:04,780 --> 00:43:08,440
outlook web access portal and find
passwords now that doesn't sound that

589
00:43:08,440 --> 00:43:12,100
cool but you start with a list of
possible passwords and then you spray

590
00:43:12,100 --> 00:43:15,700
them and you look at the length of the
data that's received and if it's a

591
00:43:15,700 --> 00:43:19,060
certain size it means you've
successfully got in if it's another size

592
00:43:19,060 --> 00:43:20,770
it means it wasn't successful

593
00:43:20,770 --> 00:43:26,410
oh by the way this also works whenever
two-factor authentication is enabled so

594
00:43:26,410 --> 00:43:30,850
you may not be able to login but you
know what their password is if you know

595
00:43:30,850 --> 00:43:34,089
somebody's passwords what are some easy
fun things that you can do from that

596
00:43:34,090 --> 00:43:34,990
point

597
00:43:34,990 --> 00:43:39,729
well a lot actually alright so the
lesson from this is exploits are not

598
00:43:39,730 --> 00:43:42,550
always going to be buffer and he
overflows right we need to look deeper

599
00:43:42,550 --> 00:43:47,230
into the logic of things so come to bo
Derek and jobs talks tomorrow we're

600
00:43:47,230 --> 00:43:48,940
going to give you guys something
wonderful

601
00:43:48,940 --> 00:43:52,120
ok at the end of this presentation I got
something wonderful and three for you as

602
00:43:52,120 --> 00:43:57,910
well we love software-defined radios
anyone started to play with SDR cool it

603
00:43:57,910 --> 00:44:01,089
is fantastic i'm gonna give you a
resource here in just a second

604
00:44:01,090 --> 00:44:04,060
that'll kind of jumpstart you guys but
it can be frustrating especially

605
00:44:04,060 --> 00:44:06,460
whenever you're trying to create your
own flow graphs

606
00:44:06,460 --> 00:44:11,500
in gnu radio this unless you build it or
have somebody that's built one for you

607
00:44:11,500 --> 00:44:12,400
and you tweak it

608
00:44:12,400 --> 00:44:15,880
this can be an incredible pain in the
butt to set this up properly whenever

609
00:44:15,880 --> 00:44:19,150
you're trying to decode wireless signal
signals but some of the fun things you

610
00:44:19,150 --> 00:44:23,800
can do is you can actually intercept and
you can steal garage door openers

611
00:44:23,800 --> 00:44:29,020
someone pushes the button wait for them
to leave and then enter their house and

612
00:44:29,020 --> 00:44:32,349
I just know based on statistics i just
turned one of you into a much more

613
00:44:32,349 --> 00:44:39,580
effective stocker and converting it to
that binary can be very very difficult

614
00:44:39,580 --> 00:44:44,410
on but there's this wonderful website
called field XP . com

615
00:44:44,410 --> 00:44:48,580
please take a picture of that field
xpcom has a bunch of resources from the

616
00:44:48,580 --> 00:44:54,250
books field expedient linux vol 1 2 and
3 and all the scripts and all the

617
00:44:54,250 --> 00:44:57,310
different labs and the exercises in the
book are available for free and you can

618
00:44:57,310 --> 00:45:01,839
pull down all the gnu flow graphs
Virginia radio flow graphs and start

619
00:45:01,839 --> 00:45:05,470
jump-starting your SD our research that
you do including the one that actually

620
00:45:05,470 --> 00:45:11,049
takes um ok and converts it into a
binary file that you can then playback

621
00:45:11,050 --> 00:45:15,520
it also has 14 phase-shifting key as
well also think that you should be

622
00:45:15,520 --> 00:45:18,790
attacking hardware of Brian who's not
here we're hoping he's feeling well

623
00:45:18,790 --> 00:45:22,570
tomorrow is giving a presentation on
hardware hacking tomorrow and he's

624
00:45:22,570 --> 00:45:26,560
actually got a suitcase filled with crap
and he's going to bring it up and he's

625
00:45:26,560 --> 00:45:30,730
actually going to do jtags and do some
soldering on-the-fly to get you guys

626
00:45:30,730 --> 00:45:33,760
started with hardware hacking tomorrow
it'll be really cool

627
00:45:34,690 --> 00:45:38,770
so the lesson for this is security is
moving on it's not just operating system

628
00:45:38,770 --> 00:45:43,930
and web security and more it's time for
us to specialized ok also commodity

629
00:45:43,930 --> 00:45:45,250
network ten's testing

630
00:45:45,250 --> 00:45:50,980
I hate to say this is going to go to the
puppy mills we can't compete and and i

631
00:45:50,980 --> 00:45:56,380
want to explain why whenever you're
somebody like mandiant or verizon or

632
00:45:56,380 --> 00:46:00,190
large security vendor let's just like
look at rapid7 nothing against these

633
00:46:00,190 --> 00:46:04,570
companies but this is what they can do
they make a lot of money in services and

634
00:46:04,570 --> 00:46:07,780
they make a lot of money and hardware a
lot of these companies are getting the

635
00:46:07,780 --> 00:46:12,130
point where they can do a penetration
test for free and then sell you a bunch

636
00:46:12,130 --> 00:46:15,280
of crap at the end of that penetration
test now free is arbitrary could be like

637
00:46:15,280 --> 00:46:18,700
five six thousand dollars it's going to
be harder and harder for the general

638
00:46:18,700 --> 00:46:20,080
penetration testing firm

639
00:46:20,080 --> 00:46:23,410
about so start specializing get better

640
00:46:23,410 --> 00:46:26,710
oh one more thing

641
00:46:26,710 --> 00:46:34,360
um this has been the worst year of my
life . a year ago on my SAT right over

642
00:46:34,360 --> 00:46:41,080
there and I watched nickerson give a
presentation about the year that he went

643
00:46:41,080 --> 00:46:48,040
through it was a weird presentation and
I remember thinking how open every year

644
00:46:48,040 --> 00:46:48,910
that bad

645
00:46:48,910 --> 00:46:54,310
mine was worse i had some things happen
with me physically with my shoulder my

646
00:46:54,310 --> 00:46:58,690
mom was diagnosed pancreatic cancer in
january of this year and passed away two

647
00:46:58,690 --> 00:47:03,670
weeks ago she was the CFO / company and
she meant a lot to a lot of people

648
00:47:04,570 --> 00:47:10,900
yes she did actually run bhis and yes
she did in fact social engineering break

649
00:47:10,900 --> 00:47:13,570
into a prison she was awesome

650
00:47:13,570 --> 00:47:16,960
so even before she got sick

651
00:47:16,960 --> 00:47:22,330
we named our hunting product after her
um Rita is what it's called real

652
00:47:22,330 --> 00:47:26,920
intelligence threat analytics we
released at last year here read it too .

653
00:47:26,920 --> 00:47:28,000
i was ready

654
00:47:28,000 --> 00:47:32,650
um we have the developer stop i think we
have katie and Joe and Lisa and Lauren's

655
00:47:32,650 --> 00:47:35,650
so these guys have worked all year

656
00:47:42,480 --> 00:47:48,090
thanks guys these guys are literally
worked all year on this project in this

657
00:47:48,090 --> 00:47:54,990
project alum on Joe and Lisa went down
to a customer site in Texas and all

658
00:47:54,990 --> 00:47:59,310
warrants was there too and the customer
put them in a room that was 40 degrees

659
00:47:59,310 --> 00:48:03,240
in the network operations center without
any warm clothing and they stayed there

660
00:48:03,240 --> 00:48:08,100
all week coding up things for this
customer and they didn't complain until

661
00:48:08,100 --> 00:48:13,020
they got home i have but they've been
absolute rock stars now read the one

662
00:48:13,020 --> 00:48:16,230
point was based on python read a
one-point had a lot of interesting ideas

663
00:48:16,230 --> 00:48:21,060
and concepts like fourier transforms
ritu . was a complete rewrite in fact

664
00:48:21,060 --> 00:48:26,190
read a 2 point 0 is the entire back end
and sensor installation for the

665
00:48:26,190 --> 00:48:29,700
commercial product that we have an
offensive countermeasures called AI hunt

666
00:48:29,700 --> 00:48:35,430
and we're releasing the entire thing for
free all the analysis modules all of the

667
00:48:35,430 --> 00:48:40,379
different outputs POSIX compliant all of
that is going to be released

668
00:48:40,380 --> 00:48:44,580
mathematically its orders of magnitude
faster than what we had before

669
00:48:45,150 --> 00:48:48,480
did we ever get some clear numbers on
that Joey has been busy getting an

670
00:48:48,480 --> 00:48:52,470
open-source it's written in go palang
which now means that supports multi

671
00:48:52,470 --> 00:48:57,390
threading clustering and being a lot
faster than single-threaded python and

672
00:48:57,390 --> 00:49:01,680
ingest raw logs now we don't just
regular logs are now address pure bro

673
00:49:01,680 --> 00:49:04,049
anybody here use bro and like it

674
00:49:04,050 --> 00:49:08,460
yep you simply give it prologues and it
spits out awesome and it's all free

675
00:49:09,030 --> 00:49:13,290
I'm give us a week though we've been
separated out the code is already out

676
00:49:13,290 --> 00:49:16,230
there you can get here go ahead and take
a picture

677
00:49:16,230 --> 00:49:21,960
it's the HTS github ocm dev Rita um
we're going to start doing web cast

678
00:49:21,960 --> 00:49:25,230
showing people how to use this tool and
implement this tool effectively in their

679
00:49:25,230 --> 00:49:29,460
organizations I'm but the code is
already out there we want to clean it up

680
00:49:29,460 --> 00:49:33,480
so it's a more deployables package
that's easier but the reason why we want

681
00:49:33,480 --> 00:49:36,359
to do this is a lot of the products that
are out there they're doing hun teaming

682
00:49:36,359 --> 00:49:39,779
and beaconing and network traffic
analysis are too damn expensive

683
00:49:40,960 --> 00:49:43,960
you have a vendor that shows up and they
say they're running fourth generation

684
00:49:43,960 --> 00:49:47,800
artificial intelligence and they don't
actually tell you what they're doing

685
00:49:47,800 --> 00:49:50,050
we're going to tell you what they're
doing and we're releasing code that's

686
00:49:50,050 --> 00:49:53,140
doing exactly what there's that what
they're doing and releasing it for free

687
00:49:53,140 --> 00:49:56,379
to everybody because those prices have
to come down

688
00:50:04,030 --> 00:50:09,850
I have a few more minutes but i want to
say why we decided to go this route

689
00:50:09,850 --> 00:50:13,330
I mean we were trying to go more the
Sourcefire out but going back to my mom

690
00:50:13,330 --> 00:50:18,040
and the tools namesake my mom was
someone who was always giving always in

691
00:50:18,040 --> 00:50:21,220
life you have people that have their
hands out to take and you have people

692
00:50:21,220 --> 00:50:24,850
that have their hands out to give my
mother was someone who always had our

693
00:50:24,850 --> 00:50:31,089
hands out to give and I actually did
talk to her about this i read it buyer

694
00:50:31,090 --> 00:50:35,560
before she before she passed away like i
said she was a CFO of the company and we

695
00:50:35,560 --> 00:50:39,580
had some really good conversations and
and should give it away

696
00:50:40,150 --> 00:50:43,810
what's the worst thing that's gonna
happen no you're going to give out

697
00:50:43,810 --> 00:50:46,900
something that people will be able to
use to be able to use it will make

698
00:50:46,900 --> 00:50:49,600
things cheaper for them and maybe it
will be something cool because maybe it

699
00:50:49,600 --> 00:50:53,589
won't but you always give things away in
this industry if you look at the good

700
00:50:53,590 --> 00:50:57,340
firms trusted sec the social engineering
tool kit and artillery and the

701
00:50:57,340 --> 00:51:01,870
penetration testing tool that they have
you look at a lot of firms like counter

702
00:51:01,870 --> 00:51:07,299
hack is here and counter hack puts more
effort into their holiday hack

703
00:51:07,300 --> 00:51:11,620
challenges than most vendors that you
have today put into their products you

704
00:51:11,620 --> 00:51:13,960
look at these firms that are doing
amazing things and trying to give things

705
00:51:13,960 --> 00:51:17,050
away for free and i'm always trying to
keep up with them and a lot of that came

706
00:51:17,050 --> 00:51:22,090
from my mom so we're trying to be a firm
that has her hands out to give not just

707
00:51:22,090 --> 00:51:25,150
take away so check it out and play with
it

708
00:51:25,150 --> 00:51:28,870
thank you so much

709
00:51:29,980 --> 00:51:32,740
this is where we can be found get out of
her

