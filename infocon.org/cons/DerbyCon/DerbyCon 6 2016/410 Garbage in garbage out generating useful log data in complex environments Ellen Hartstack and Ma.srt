1
00:00:00,000 --> 00:00:17,160
there's like 15 afternoon everyone my
name is on her back i worked for Joel

2
00:00:17,160 --> 00:00:22,289
part private and public sector is doing
anything to forensics not just one

3
00:00:22,289 --> 00:00:25,199
Cadman skyfirst every year

4
00:00:25,199 --> 00:00:28,650
hi I'm not sold and I'm actually an
investor who completely and totally fell

5
00:00:28,650 --> 00:00:32,430
into the state of stuff on about a year
and a half two years ago I was like oh

6
00:00:32,430 --> 00:00:36,870
me and everyone to make by-laws a little
bit battery little boards easier to

7
00:00:36,870 --> 00:00:40,199
adjust and actually able to use about of
data and then I just like never gotten

8
00:00:40,200 --> 00:00:41,160
out of that pit

9
00:00:41,160 --> 00:00:46,078
this is uh is a lot of fun to try to you
know there's nothing to worry that's

10
00:00:46,079 --> 00:00:49,770
going to suck you in forever because
once you see like like I can make that i

11
00:00:49,770 --> 00:00:53,340
can fix this a little bit i'm just
really neat things so i hope you all

12
00:00:53,340 --> 00:00:55,530
learned something today and have
actually something that's really

13
00:00:55,530 --> 00:00:59,100
actionable you can take back your
organization's really help pay for the

14
00:00:59,100 --> 00:00:59,969
state of things

15
00:00:59,969 --> 00:01:06,150
alright so I don't quick question which
call for all of you here we're going to

16
00:01:06,150 --> 00:01:09,270
do some audience participation first
time do you guys use any sort of log

17
00:01:09,270 --> 00:01:16,710
management tool other than just this log
or liberal use of graph excellent i am

18
00:01:16,710 --> 00:01:21,179
glad to see that is far more than I was
actually expecting how many of you guys

19
00:01:21,180 --> 00:01:25,680
only use your log data to fix problems
and you do not touch it otherwise

20
00:01:25,680 --> 00:01:30,509
problems or investigations that's the
only reason user logged and get me

21
00:01:30,509 --> 00:01:32,340
honest feels awesome

22
00:01:32,340 --> 00:01:36,689
so how do you guys use your data to
proactively optimize your experience for

23
00:01:36,689 --> 00:01:39,720
your customers or users things like that

24
00:01:39,720 --> 00:01:45,960
alright alright so not a lot of people
in that last 10

25
00:01:46,500 --> 00:01:49,560
why is that and I mean that honestly
yell it out

26
00:01:49,560 --> 00:01:52,829
zoom yes we don't care about three

27
00:01:54,710 --> 00:02:03,649
harsh talking about what the user of the
log management or the general user

28
00:02:03,650 --> 00:02:06,350
interaction with general users if you're
ready and I to shop and you're running

29
00:02:06,350 --> 00:02:11,269
internal tools maybe it's those users
are these tools maybe if you're like us

30
00:02:11,270 --> 00:02:16,220
we have software software company that
makes offer for people to use that they

31
00:02:16,220 --> 00:02:22,580
have to use it right one of those type
of situations a lot of time that I was

32
00:02:22,580 --> 00:02:23,720
not broke don't fix it

33
00:02:23,720 --> 00:02:31,580
yeah definitely yes it's not really are
consecrated I was not your focus will be

34
00:02:31,580 --> 00:02:36,320
a little things that I think is really
interesting relics that I was actually

35
00:02:36,320 --> 00:02:40,820
I'm a tester has hired as a contestant
is what I do but from a little bit of a

36
00:02:40,820 --> 00:02:44,690
background and actually once you do
start getting into the stuff you realize

37
00:02:44,690 --> 00:02:49,640
the security benefit of having really
good really understand the log data is

38
00:02:49,640 --> 00:02:53,059
so much more viable and of course that
you get to go off to everyone else in

39
00:02:53,060 --> 00:02:56,000
your company if you like why it and
they're like wow

40
00:02:56,000 --> 00:02:58,910
think of all these things we can do now
that we have the data to be able to

41
00:02:58,910 --> 00:03:02,269
achieve so that's one of the things
that's really cool like security very

42
00:03:02,269 --> 00:03:06,500
rarely gets to be that the people who
are helping enable the order to really

43
00:03:06,500 --> 00:03:07,970
do awesome stuff for it

44
00:03:07,970 --> 00:03:13,070
usually 10 guys right no don't reject
right so it's really nice to be able to

45
00:03:13,070 --> 00:03:16,220
go off and say actually something I can
benefit all of us

46
00:03:16,220 --> 00:03:20,420
I which is I think whether the best
thing we can do for our industry so all

47
00:03:20,420 --> 00:03:27,290
right so we're going to go into a little
bit of the pitfalls of log management

48
00:03:27,290 --> 00:03:30,769
and then the presentation is pretty much
going to be like this we're going to

49
00:03:30,769 --> 00:03:34,519
start the slides and stuff like that
instead of having a little bit most

50
00:03:34,519 --> 00:03:37,519
we're going to do mostly done with the
end so the presentation experience will

51
00:03:37,519 --> 00:03:43,549
go from great to it as it was an epic
fail right also lots of hand gestures

52
00:03:43,549 --> 00:03:49,040
you'll see the hell is reserved I smack
her in the basement on so blindly

53
00:03:49,040 --> 00:03:52,400
logging everything is useless

54
00:03:52,400 --> 00:03:57,680
absolutely as too much data and no
meaner so he has kind of makes sense of

55
00:03:57,680 --> 00:04:01,609
your data or don't even bother spending
the time to process our collective right

56
00:04:01,609 --> 00:04:06,069
so it hit a couple examples you know if
you want to

57
00:04:06,069 --> 00:04:12,010
everything I'm doing to support longline
messages that are you know like millions

58
00:04:12,010 --> 00:04:14,649
of characters long right

59
00:04:14,650 --> 00:04:17,769
probably not you probably want to break
that out of multiple messages or

60
00:04:17,769 --> 00:04:23,889
something like that . entire like Meg
blog megabyte blog is just has no

61
00:04:23,889 --> 00:04:26,440
context probably no meaning

62
00:04:26,440 --> 00:04:33,490
how do you have too many if a message
logs you know every second that

63
00:04:33,490 --> 00:04:36,940
something of Davis connection failing
database connection feeling how many

64
00:04:36,940 --> 00:04:40,570
millions of those are going to get in
the span of you know maybe a second or

65
00:04:40,570 --> 00:04:44,469
maybe you're doing every every time to
see you text videos you know these types

66
00:04:44,470 --> 00:04:49,120
of things are ever gonna come quickly
overwhelmed and all of us from security

67
00:04:49,120 --> 00:04:52,840
background of I would like to imagine
you get automated alerts about things in

68
00:04:52,840 --> 00:04:56,349
your environment right man you look at
every single one of those and you're

69
00:04:56,349 --> 00:05:02,500
like super Jess go through my 50 alerts
right now I do all our I was out as you

70
00:05:02,500 --> 00:05:05,259
can imagine anybody who's on the
operations side on the oldest I feel the

71
00:05:05,259 --> 00:05:09,190
exact same why don't be blown away with
information that doesn't have any

72
00:05:09,190 --> 00:05:12,699
meaning for them so every time an error
is racing production you know a lot of

73
00:05:12,699 --> 00:05:16,449
times it's a company starts with a small
systems like almost like email me with a

74
00:05:16,449 --> 00:05:19,840
bear hat and that's fine you have
probably use your system before you got

75
00:05:19,840 --> 00:05:22,960
all the company wants you to be using
this you know everywhere all these

76
00:05:22,960 --> 00:05:25,900
players going to get all that use this
awesome thing about was suddenly you're

77
00:05:25,900 --> 00:05:29,469
getting a thousand emails an hour and
you're like I'm just going to jail for

78
00:05:29,470 --> 00:05:32,680
that out and that's that's unfortunately
not something that we want to be doing

79
00:05:32,680 --> 00:05:36,820
now you're off-the-shelf software
probably has more grateful that you're

80
00:05:36,820 --> 00:05:40,479
not even login we're gonna get into
those examples here i'm going to go

81
00:05:40,479 --> 00:05:43,210
ahead and go for a moment password Alan
going to talk about some of the key

82
00:05:43,210 --> 00:05:44,560
features of the stolen

83
00:05:44,560 --> 00:05:51,099
yeah I practice to love sit there on the
slide

84
00:05:51,639 --> 00:05:56,050
alright so regardless of the the login
system using the product using to

85
00:05:56,050 --> 00:05:59,020
workout logs and glory to think about
the future set up that this is one of

86
00:05:59,020 --> 00:06:01,840
the most important decisions you're
going to make for instance you're going

87
00:06:01,840 --> 00:06:06,849
to know you know the who's the was the
where's the winds and then first

88
00:06:06,849 --> 00:06:10,000
description of context around it now you
might be saying yourself okay well

89
00:06:10,000 --> 00:06:12,650
simple system lockdown is good

90
00:06:12,650 --> 00:06:17,120
that but is it meaningful right is it
possible is understandable

91
00:06:17,120 --> 00:06:21,470
um and and and it's actually really
important because a lot of the times

92
00:06:21,470 --> 00:06:26,479
what are your log messages if your long
messages are hit and all caps or

93
00:06:26,479 --> 00:06:31,610
critical error colon error if your
Microsoft alcohol these texts that takes

94
00:06:31,610 --> 00:06:35,900
you know they're really useful awesome
so we have security people also have to

95
00:06:35,900 --> 00:06:41,120
encourage our our costumes are
development ease we need meaning so

96
00:06:41,120 --> 00:06:44,240
elongated to do our jobs because there's
a big difference between somebody

97
00:06:44,240 --> 00:06:47,840
getting a thousand authorization issues
because they were hammering the login

98
00:06:47,840 --> 00:06:51,138
page on the app crystal thousand
authorization issues because somebody

99
00:06:51,139 --> 00:06:55,340
accidentally comments about the wine
that like rob someone to the login page

100
00:06:55,340 --> 00:06:58,429
from the supposed to go there right
there is a huge difference in that we

101
00:06:58,430 --> 00:07:03,830
have to have that context as well which
was really really important right now

102
00:07:04,520 --> 00:07:08,810
yeah up okay so I'm gonna talk a little
bit somebody had a basic but I think

103
00:07:08,810 --> 00:07:12,110
when you're thinking about questions you
want to ask about your data have been

104
00:07:12,110 --> 00:07:17,270
moved that's not a good running slightly
ahead

105
00:07:17,270 --> 00:07:21,919
ok so this is a little basic let's just
start be thinking about what types of

106
00:07:21,919 --> 00:07:28,909
questions you want to ask about your
data also first one is up all sort of

107
00:07:28,909 --> 00:07:32,630
alerting starts starts with a question
you have so question that you want to

108
00:07:32,630 --> 00:07:35,630
get answered and you want to make sure
this question is a good question

109
00:07:36,139 --> 00:07:41,240
so not so you're interested in how
many--how errorlevel issues you have in

110
00:07:41,240 --> 00:07:45,440
a product per hour thinking that that's
pretty good as you like a good question

111
00:07:45,440 --> 00:07:49,909
all on her i wanted to do with that and
it initially it seems like something

112
00:07:49,909 --> 00:07:55,370
that would be valuable but think about
it more scale so if you have his tail as

113
00:07:55,370 --> 00:08:00,229
ten errors and our good i always what if
it's a hundred like it all depends you

114
00:08:00,229 --> 00:08:03,080
need more context around the type of
question

115
00:08:03,080 --> 00:08:07,940
oh so you have no background that type
of question you can really get a lot out

116
00:08:07,940 --> 00:08:12,860
of it so we need to narrow down the
scope of bed so that we can get a more

117
00:08:12,860 --> 00:08:17,150
information from that question so for
instance is their upward trend in a

118
00:08:17,150 --> 00:08:21,229
specific type of error that maybe is
occurring over some sort of threshold to

119
00:08:21,229 --> 00:08:22,900
say it upward trends

120
00:08:22,900 --> 00:08:27,039
over twenty percent what we normally get
in the last hour for say ten percent of

121
00:08:27,040 --> 00:08:31,120
our customers that's useful wing a lot
of information like that's a very

122
00:08:31,120 --> 00:08:38,860
specific alert and we can act upon so be
specific be directly with a fierce and

123
00:08:38,860 --> 00:08:40,240
cool

124
00:08:40,240 --> 00:08:46,480
ok so that was that now onto thresholds
so we can make this alert even smarter

125
00:08:46,480 --> 00:08:52,930
raceway usual utilizing those are
trending or threshold type questions so

126
00:08:52,930 --> 00:09:01,810
trying to be super thanks oh now it's
not gonna also trying to be super useful

127
00:09:01,810 --> 00:09:06,099
and logging simply knowing if
something's happened isn't really useful

128
00:09:06,100 --> 00:09:10,660
but seeing how it relates to how it has
happened in the past is so for instance

129
00:09:10,660 --> 00:09:14,110
if you're looking at like failed
password attempts if you have some sort

130
00:09:14,110 --> 00:09:18,850
of arbitrary threshold like if someone
logs in more than 10 times right but

131
00:09:18,850 --> 00:09:21,910
then you have like Bob over and
accounting for every morning fat fingers

132
00:09:21,910 --> 00:09:25,930
password 10 * supporting members what is
going to happen every morning I get

133
00:09:25,930 --> 00:09:31,270
bottles here today that's really useful
but if you know that Bob always that

134
00:09:31,270 --> 00:09:35,319
bears his password in the morning you
can add that threshold to the lair and

135
00:09:35,320 --> 00:09:38,320
not get so many false positives

136
00:09:39,700 --> 00:09:47,800
oh cool so frequency this along that
comes up a lot and my job everyone wants

137
00:09:47,800 --> 00:09:53,740
their alerts now the instant they happen
we need to know about it and this isn't

138
00:09:53,740 --> 00:09:54,700
really always true

139
00:09:54,700 --> 00:09:58,270
like sometimes you wait a bit before you
know it and there's like three sort of

140
00:09:58,270 --> 00:10:03,610
things will look at first of all how
severe is the issue is it just bopping

141
00:10:03,610 --> 00:10:09,279
his password one time this morning then
or like this random IPS not finger to

142
00:10:09,279 --> 00:10:11,140
password hundred times

143
00:10:11,140 --> 00:10:15,160
well that's that's probably more severe
oh and the second thing is you want to

144
00:10:15,160 --> 00:10:20,740
look at how actionable is this type of
alert so if you get that away says all

145
00:10:20,740 --> 00:10:24,250
this guy's fat fingers password a
hundred times in the last minute I just

146
00:10:24,250 --> 00:10:26,410
hope you like that's probably bad

147
00:10:26,410 --> 00:10:31,420
yeah superbad right like you need to
have some sort of plan to act on those

148
00:10:31,420 --> 00:10:34,069
alerts because otherwise you just get it
and there

149
00:10:34,070 --> 00:10:38,360
at like saying panic . that happens
afterwards until you fix the problem and

150
00:10:38,360 --> 00:10:43,250
then the next ones and there's the panic
thing then fix the problem and the third

151
00:10:43,250 --> 00:10:48,410
thing I'm self-made wait you already
have a concrete actual plan maybe just

152
00:10:48,410 --> 00:10:52,280
checks once an hour then you have
another hour to fix the problem before

153
00:10:52,280 --> 00:11:01,520
the next batch comes in the third one is
that was about it anyway so how often so

154
00:11:01,520 --> 00:11:05,780
you want you want along every time
someone back fingers and passwords do

155
00:11:05,780 --> 00:11:10,670
like a batch of them maybe everything
about how often want that email or chat

156
00:11:10,670 --> 00:11:15,229
alert are going to get your alerts to
pay you to fix it so you have to balance

157
00:11:15,230 --> 00:11:18,680
the sort of frequency otherwise you get
either too many alerts that you're just

158
00:11:18,680 --> 00:11:24,770
like filter trash right or you're just
overwhelmed by like you open up your

159
00:11:24,770 --> 00:11:27,920
morning they're like a thousand you
start at the one by the end of the day

160
00:11:27,920 --> 00:11:38,390
or there's 10,000 right together balance
at this time so that's what I'm sorry

161
00:11:38,390 --> 00:11:43,250
about this noise balancing act and got
sort of 23 when you start to become sort

162
00:11:43,250 --> 00:11:47,960
of like desensitized to them or too many
false positives you're like oh that one

163
00:11:47,960 --> 00:11:50,180
always goes off top the hour

164
00:11:50,180 --> 00:11:53,689
no I got why why does that always go off

165
00:11:53,690 --> 00:11:57,830
also you you start ignoring those types
of real risks because you get

166
00:11:57,830 --> 00:12:00,830
desensitized the thing that keeps
happening

167
00:12:02,300 --> 00:12:08,810
cool so I want to talk a little bit
while log management systems so first of

168
00:12:08,810 --> 00:12:13,760
all you know that everyone is but what's
the best tool i don't care whatever tool

169
00:12:13,760 --> 00:12:18,319
you your company use that's great news
about his growing trend like having the

170
00:12:18,320 --> 00:12:20,900
bestest bestest bestest lot of solution

171
00:12:20,900 --> 00:12:26,840
whichever one works for your company use
that so there's some things that you do

172
00:12:26,840 --> 00:12:31,070
need to consider about when you're
looking at what you're gonna get a new

173
00:12:31,070 --> 00:12:34,700
one or you want to hear your reviews
come up with us you want to pay a

174
00:12:34,700 --> 00:12:38,660
bazillion dollars to do this there's
something that you should consider about

175
00:12:38,660 --> 00:12:44,420
the different long type systems to see
which one would be the best fit clicked

176
00:12:44,420 --> 00:12:46,800
thanks ok so first one is suggesting

177
00:12:46,800 --> 00:12:51,029
you want this to be easy if I want to
add a new type of log or you type of

178
00:12:51,029 --> 00:12:55,860
source type tool type thing I want that
to be real so I don't have to like great

179
00:12:55,860 --> 00:13:01,350
H complicated config to get my sister
wallpapers going what is very simple to

180
00:13:01,350 --> 00:13:07,920
get in new data on the next things are a
nice to have is the native parsing so if

181
00:13:07,920 --> 00:13:11,430
I format like we're going to talk about
here in a little bit all my walls and

182
00:13:11,430 --> 00:13:17,069
json that's really convenient if the
tool i use already has a json parser or

183
00:13:17,070 --> 00:13:21,300
things that like auto extract fields you
have like something equal something it

184
00:13:21,300 --> 00:13:25,319
realizes that the first something is the
field in the second something of value

185
00:13:25,320 --> 00:13:30,930
you don't like customer all your fun
regex to get that to get sucked out o

186
00:13:30,930 --> 00:13:33,870
the next thing you think about is the
efficiency of that tool if you're going

187
00:13:33,870 --> 00:13:36,930
to be looking at trending over a year
you're going to really want to make sure

188
00:13:36,930 --> 00:13:41,160
that your long system is capable of
doing that like it takes 20 minutes to

189
00:13:41,160 --> 00:13:45,600
look at all your data over a year that's
probably not the best thing but maybe if

190
00:13:45,600 --> 00:13:50,070
your company is only looking at smaller
ranges every hour 24 hours

191
00:13:50,070 --> 00:13:54,660
that might be a product that work for
you and the last thing is my favorite is

192
00:13:54,660 --> 00:13:59,040
visualization of data we want to make
sure that it's not just like something

193
00:13:59,040 --> 00:14:03,209
happened and that's all you can get
because we as humans we like pictures we

194
00:14:03,209 --> 00:14:07,260
like visual things it's easy to pick
things out pictures to understand you

195
00:14:07,260 --> 00:14:10,439
want to make sure that whatever login
system you have you have something

196
00:14:10,440 --> 00:14:15,060
that's capable of doing like alerts or
PDF report that you can email to like

197
00:14:15,060 --> 00:14:20,040
your head person or your head boss man
whatever and then as well as having some

198
00:14:20,040 --> 00:14:24,270
sort of dashboard or interactivity that
you can interact with that product so

199
00:14:24,270 --> 00:14:27,990
for our company we use lung that's what
our demos are going to be based on the

200
00:14:27,990 --> 00:14:34,079
best news ever like that's what we have
all you buddy

201
00:14:34,980 --> 00:14:39,029
yeah like to myself a good time

202
00:14:39,029 --> 00:14:43,920
alright so we have a theme here with you
maybe notice things that we like nice

203
00:14:43,920 --> 00:14:47,819
log it right so let's talk about
starting at a little bit and alluded to

204
00:14:47,820 --> 00:14:48,450
this already

205
00:14:48,450 --> 00:14:55,530
all schools is Tricia I'm so we have
Jason is log data it's really nice to

206
00:14:55,530 --> 00:14:59,520
not be beholden to any sort of fixed
format you think about your your catchy

207
00:14:59,520 --> 00:15:05,310
common logs right is this time Stanfield
you got your iron heading might have the

208
00:15:05,310 --> 00:15:08,339
response eyes are called correctly the
HIV status

209
00:15:08,340 --> 00:15:11,490
okay but what if I wanted another field
on that

210
00:15:11,490 --> 00:15:15,390
okay well you can go into the make
custom large drop the top if you want

211
00:15:15,390 --> 00:15:19,500
and God help you that your head that
your log management solution actually

212
00:15:19,500 --> 00:15:22,440
sucks that it has any clue what you're
talking about

213
00:15:22,440 --> 00:15:26,010
oh yeah don't do that it's not the right
disgusting little Parsons all this field

214
00:15:26,010 --> 00:15:29,340
is value why don't you guys might have
literally thousand different things I

215
00:15:29,340 --> 00:15:33,330
can do with my job that would be more
fun than that right so instead but I

216
00:15:33,330 --> 00:15:38,910
don't regarding doing is the JSON right
because json is uh is obviously not

217
00:15:38,910 --> 00:15:42,780
going to behold you sort of formatting I
if you just have the feeling that have

218
00:15:42,780 --> 00:15:44,910
value there hopefully your log
management will allow them to be sucked

219
00:15:44,910 --> 00:15:49,709
in additional context of my opinions on
the most important aspects of debugging

220
00:15:49,710 --> 00:15:53,700
I think about your log message from an
application that's throwing a stack

221
00:15:53,700 --> 00:15:58,980
trace right away your big bloated job
anywhere after you have to run and every

222
00:15:58,980 --> 00:16:03,120
once in awhile it goes blur all over
your server and you think to yourself

223
00:16:03,120 --> 00:16:07,230
man if I selling a few extra pieces of
information was logged it would really

224
00:16:07,230 --> 00:16:08,400
make everything better

225
00:16:08,400 --> 00:16:11,699
the thing is that people always inclined
to do that right then you have your home

226
00:16:11,700 --> 00:16:15,780
room homebrew applications people take
the long message field stuffing a bunch

227
00:16:15,780 --> 00:16:20,459
of things into that like this user on
this account with this email address had

228
00:16:20,460 --> 00:16:21,600
this thing happen

229
00:16:21,600 --> 00:16:23,880
well you're gonna have to write this
NASA rejects to call that pulled out

230
00:16:23,880 --> 00:16:27,300
right well actually the fun thing is
both platforms will actually allow you

231
00:16:27,300 --> 00:16:31,589
to add additional fields for logging
when you're taking those in JSON all of

232
00:16:31,590 --> 00:16:34,800
a sudden that could be a key value pair
in your login system were actually gonna

233
00:16:34,800 --> 00:16:37,890
take a look at the example that a little
bit other thing that's good to remember

234
00:16:37,890 --> 00:16:43,710
is that all good data analysis tools
love json fact a lot of them will be the

235
00:16:43,710 --> 00:16:47,940
preferred format so that's something to
keep mentally finally any sort of custom

236
00:16:47,940 --> 00:16:51,990
or internal two-way man recommend Jason
yes

237
00:16:52,570 --> 00:16:57,760
more but it's true really Jason can
pretty much make your life a move from a

238
00:16:57,760 --> 00:17:01,870
kind of living hallo into something I
was like wow I actually have standards

239
00:17:01,870 --> 00:17:04,990
and recommendations and you can go to
every everything your company to say for

240
00:17:04,990 --> 00:17:08,650
putting others put a face on and you
know everyone will be responsible for

241
00:17:08,650 --> 00:17:12,490
getting that standardized and it's just
easy to suck in you don't have to worry

242
00:17:12,490 --> 00:17:16,870
about is this system belonging or not I
don't know that didn't break you have an

243
00:17:16,869 --> 00:17:17,979
answer immediately

244
00:17:17,980 --> 00:17:21,010
alright so let's talk about making some
in-house applications like I said I'll

245
00:17:21,010 --> 00:17:25,869
entire from a web application shop
software-as-a-service and so what we do

246
00:17:25,869 --> 00:17:29,260
is we primarily make in-house
applications that we sell right and so

247
00:17:29,260 --> 00:17:32,260
as you can imagine there's a lot of long
data that we generate can be somewhat

248
00:17:32,260 --> 00:17:36,490
overwhelming so we're going to take a
look at it is just an example of Python

249
00:17:36,490 --> 00:17:40,210
and this is a absolutely impossible
example to pretty much any programming

250
00:17:40,210 --> 00:17:44,470
language that you could imagine but so
my phone has a robust logging system and

251
00:17:44,470 --> 00:17:47,590
all we need to do is to have some
formatting around that login system to

252
00:17:47,590 --> 00:17:50,949
make it output as json another thing
that we've got going for us is that in

253
00:17:50,950 --> 00:17:55,510
Python 283 there are already existing
log for matters is quite literally just

254
00:17:55,510 --> 00:18:07,510
multiply it so on take a look at what
that might look like that is super zoom

255
00:18:07,510 --> 00:18:14,860
excuse so here's a Python exception that
took place a little bit earlier

256
00:18:15,580 --> 00:18:18,669
here we go that's the good stuff right
there

257
00:18:18,670 --> 00:18:21,490
so first and find when you throw an
exception rights going to throw the

258
00:18:21,490 --> 00:18:25,000
stack of a bunch of new lines in between
it and your default log management

259
00:18:25,000 --> 00:18:29,260
system unless taught how to understand
stack traces is going to do this

260
00:18:29,260 --> 00:18:33,370
beautiful thing to say there was an
exception just going to do that thing

261
00:18:33,370 --> 00:18:38,290
where I just said don't make horrible
generic messages to do that is to do all

262
00:18:38,290 --> 00:18:45,129
this nasty awfulness which is going to
be completely useless is absolutely so

263
00:18:45,130 --> 00:18:49,150
okay well there's that but that's going
to take a look at the after i just

264
00:18:49,150 --> 00:18:53,980
simply plug in one of those of longing
libraries I was just talking about

265
00:18:54,850 --> 00:18:58,419
oh that looks creating

266
00:18:59,049 --> 00:19:02,200
almost certain you have all of these
fields another fun thing about this is

267
00:19:02,200 --> 00:19:07,299
that i didn't have to do any of this
4matic pythons again very robust longer

268
00:19:07,299 --> 00:19:11,470
automatically can do things like told me
the line number the level number the

269
00:19:11,470 --> 00:19:15,909
level number is kind of interesting
little tennis / level 20 and 30 morning

270
00:19:15,909 --> 00:19:19,629
and so the thing that's really nice is
that you can just look at this as if

271
00:19:19,629 --> 00:19:23,199
that levels above you know 40 or
something like that go ahead and

272
00:19:23,200 --> 00:19:27,070
learning and again this is not anything
new you always been able to this utility

273
00:19:27,070 --> 00:19:30,309
they can read in these types of logs but
again you have to either find a product

274
00:19:30,309 --> 00:19:34,809
that are you do it our teacher to do it
naturally sauce and then we can even

275
00:19:34,809 --> 00:19:39,369
extend it a little bit in this example
you can see that when this error occurs

276
00:19:39,369 --> 00:19:43,299
actually gone in and just added the
user-agent straight to our long message

277
00:19:43,299 --> 00:19:46,840
and you might think ok well you know is
that any value to you

278
00:19:46,840 --> 00:19:50,230
well it depends on the context but we're
going to do instead is to actually show

279
00:19:50,230 --> 00:19:54,190
you an application that we wrote in
house for some of our security stuff at

280
00:19:54,190 --> 00:19:57,669
my company and then how we're using the
state is really really horrible

281
00:19:57,669 --> 00:20:15,789
decisions make sure that these
gigantosaurus logs are gonna call in the

282
00:20:15,789 --> 00:20:21,070
area is a remedy platform the right team
members up here in the front row and

283
00:20:21,070 --> 00:20:24,519
working on for some time and in fact is
the security scanner that we wrote to

284
00:20:24,519 --> 00:20:28,960
solve the problems that we have in house
hopefully they will be to talk about in

285
00:20:28,960 --> 00:20:33,369
the futures as a rather neat thing but
what we have is a Python application

286
00:20:33,369 --> 00:20:37,389
that once again utilizing all of this
logging but that's really nice is that

287
00:20:37,389 --> 00:20:44,619
we have a ton of context this particular
item uh is invoked by get up so get hot

288
00:20:44,619 --> 00:20:48,519
wet book it's our server and the
reaction upon now you can see we have

289
00:20:48,519 --> 00:20:53,109
the web hook delivery ID that's kind of
useful because i want to see what all

290
00:20:53,109 --> 00:20:57,789
went on with this particular web book
this one call to our server that started

291
00:20:57,789 --> 00:21:00,710
the whole chain of events i can just
click that you'll add to the search

292
00:21:00,710 --> 00:21:05,149
away I go I don't you type it I don't
you just figure out like the exact times

293
00:21:05,149 --> 00:21:09,739
will happen i already have unique ID for
this action fun thing you can do is is

294
00:21:09,740 --> 00:21:13,610
kind of asked a lot of really
interesting brushes for instance the

295
00:21:13,610 --> 00:21:17,870
longer than showing you here was
collected over a period of found about

296
00:21:17,870 --> 00:21:22,520
20 hours distorted 24 hours and so I
just had a tiny little question I said

297
00:21:22,520 --> 00:21:23,929
well okay

298
00:21:23,929 --> 00:21:28,640
given that information over and over
about 20 hours but how did actually run

299
00:21:28,640 --> 00:21:34,700
like in terms of cpu time how long did
we take our resources on a sir that's

300
00:21:34,700 --> 00:21:39,380
kinda easy to do actually because we can
say by well delivery IT and there's

301
00:21:39,380 --> 00:21:42,409
going to be one unique ID / run this
application

302
00:21:42,409 --> 00:21:46,850
go ahead anyway of the first and last
events times get the duration between

303
00:21:46,850 --> 00:21:51,379
them and then let's go ahead and just
take a look at the total sum of that is

304
00:21:51,380 --> 00:21:56,870
immediately 352 seconds so if it's
starting that our servers might be over

305
00:21:56,870 --> 00:22:01,070
provision a little bit for the run time
that we haven't you told not really

306
00:22:01,070 --> 00:22:05,870
actually the school part of the process
but again that's just one of probably a

307
00:22:05,870 --> 00:22:08,870
thousand different things that you can
do with this long data under the real

308
00:22:08,870 --> 00:22:12,379
world case the situation which were
actually encountering a race condition

309
00:22:12,380 --> 00:22:16,490
and we were able to figure out what was
going on because every single one of us

310
00:22:16,490 --> 00:22:20,779
is that we have automatically has
included the threads ID and we were able

311
00:22:20,779 --> 00:22:24,169
to see how many unique threads running
and this span of time results

312
00:22:24,169 --> 00:22:27,110
interesting issue and wrinkled
immediately identified guess we have

313
00:22:27,110 --> 00:22:31,039
multiple threads during the same time
then collided on file right which was

314
00:22:31,039 --> 00:22:35,720
incredibly valuable thing because it
only happened once every very very so

315
00:22:35,720 --> 00:22:39,679
often so those types of information
information that you can use to really

316
00:22:39,679 --> 00:22:43,490
actually hone in on the application
again think about all the context you

317
00:22:43,490 --> 00:22:47,510
can have in your loss for your internal
apps the user who's using it what they

318
00:22:47,510 --> 00:22:49,970
might have been doing whatever they're
doing while you're out where they had

319
00:22:49,970 --> 00:22:59,929
all those days basically begging your
vessels and again

320
00:23:00,509 --> 00:23:03,719
most of the dashboard stuff this is
something that I actually think it's

321
00:23:03,719 --> 00:23:08,909
really useful for our our products here
our team works in sprint of two weeks we

322
00:23:08,909 --> 00:23:13,799
do two weeks of work and come back and
see what's going on and it's really

323
00:23:13,799 --> 00:23:18,690
awesome to be able to take our runtime
loss for standard product loss and be

324
00:23:18,690 --> 00:23:21,419
able to produce a big dashboard of all
things that we did in the information

325
00:23:21,419 --> 00:23:24,690
that we gathered i think about this for
your security side of things right

326
00:23:24,690 --> 00:23:28,109
imagine being able to take this
dashboard and just make it display how

327
00:23:28,109 --> 00:23:31,978
awesome your team was in the past week
or 2i nice high level overview

328
00:23:31,979 --> 00:23:36,179
I think normally we get some economy and
dashboard all these crazy things that

329
00:23:36,179 --> 00:23:39,690
nobody cares about but if you have all
data from some of your other systems can

330
00:23:39,690 --> 00:23:43,139
actually make a really interesting story
you can talk about the standard user

331
00:23:43,139 --> 00:23:46,829
flow through your applications and maybe
with some ATVs from that have you worked

332
00:23:46,829 --> 00:23:49,979
it out of it is that something that you
would care about the size of a relation

333
00:23:49,979 --> 00:23:51,089
to the dashboard as well

334
00:23:51,089 --> 00:23:58,948
alright let's talk about old services a
new tricks so I've been very heavy on i

335
00:23:58,949 --> 00:24:02,129
had to write your own stuff but the
thing is most of you probably aren't

336
00:24:02,129 --> 00:24:04,769
writing your own stop I recognize that
how many of you guys actually have

337
00:24:04,769 --> 00:24:09,779
really no custom and house ask that you
are responsible for worrying about are

338
00:24:09,779 --> 00:24:11,489
touching in any way shape or form

339
00:24:11,489 --> 00:24:16,469
okay well I have to admit I a missed the
estimate on that one but that's alright

340
00:24:16,469 --> 00:24:22,109
so let's talk about your your existing
services if you aren't a sauna find your

341
00:24:22,109 --> 00:24:25,829
web server logs then you are doing
yourself a huge disservice

342
00:24:26,429 --> 00:24:29,669
this is probably the first thing I would
recommend that you go do and all the

343
00:24:29,669 --> 00:24:32,669
examples are going to give you the
slides or copy and paste will directly

344
00:24:32,669 --> 00:24:36,299
in your config file so again make sure
you grab that slide i can use it and

345
00:24:36,299 --> 00:24:40,440
i'll get the slide that you're all back
up at the end of the into the top so

346
00:24:40,440 --> 00:24:44,399
here's a song for example and i want you
to notice the same variable names

347
00:24:44,399 --> 00:24:49,529
presence remote addresses filled in by
this right here with the remote right so

348
00:24:49,529 --> 00:24:50,399
that's great

349
00:24:50,399 --> 00:24:53,609
make sure you really get on get your
fill of that because we're about to see

350
00:24:53,609 --> 00:24:57,239
some other products that are terrible
about this in our state in the least

351
00:24:57,239 --> 00:24:58,289
looking at you

352
00:24:58,289 --> 00:25:00,150
apache

353
00:25:00,150 --> 00:25:03,720
so unfortunately if you want to make a
patchy fog juice onto certainly possible

354
00:25:03,720 --> 00:25:08,970
but your prob feels get a little wonky
on you also doing these % greater than

355
00:25:08,970 --> 00:25:14,100
asses all the spawn stop reading through
the the man pages for these such things

356
00:25:14,100 --> 00:25:16,320
to be a little bit challenging but
thankfully there's a lot of blog posts

357
00:25:16,320 --> 00:25:20,040
out there I feel free to go ahead and
look those up and then you can have that

358
00:25:20,040 --> 00:25:22,920
now i want to go ahead just demonstrate
what that looks like

359
00:25:22,920 --> 00:25:26,640
think about all the times though when
somebody's asking you man it feels like

360
00:25:26,640 --> 00:25:29,880
the web servers running super slow today
feels like we're just really you know

361
00:25:29,880 --> 00:25:34,920
kind of being taxed more than usual but
you know what's going on that type of

362
00:25:34,920 --> 00:25:38,220
stuff he's doubting me all the time and
I was this adam was a lot of things

363
00:25:38,220 --> 00:25:42,480
really nice to be able to have its just
be able to let it rest your eyes and

364
00:25:42,480 --> 00:25:46,350
look at things like a number of devices
or something well there's always had my

365
00:25:46,350 --> 00:25:50,010
jeans ratios actually really fascinating
to take a look at how much compression

366
00:25:50,010 --> 00:25:53,850
you're getting in and out of those web
service especially the tax pretty often

367
00:25:53,850 --> 00:25:58,560
only thing you can do is add a number of
other fields and internet for example

368
00:25:58,560 --> 00:26:01,530
you can define custom fields all over
the place and you can actually write

369
00:26:01,530 --> 00:26:04,350
those off your loss statements one of
the things that you can do if your

370
00:26:04,350 --> 00:26:07,800
application isn't one that requires
superior logins is actually write out

371
00:26:07,800 --> 00:26:10,860
cookie data like I said you have to be
incredibly careful with that you would

372
00:26:10,860 --> 00:26:14,219
never do that application where login
for possible but if you get it right and

373
00:26:14,220 --> 00:26:18,150
cook it on anonymous application and
then you said you need cooking per-user

374
00:26:18,150 --> 00:26:21,810
you automatically will no one uses
traffic from end to end of your

375
00:26:21,810 --> 00:26:25,020
application without having any sort of
crazy google analytics nonsense right

376
00:26:25,020 --> 00:26:28,889
like that you're logged in to tell the
entire story start to head is that a

377
00:26:28,890 --> 00:26:32,190
capability that you probably haven't
house right now my guess is not but the

378
00:26:32,190 --> 00:26:35,190
tools to be able to do that is sitting
in front of you right now

379
00:26:38,430 --> 00:26:44,790
yeah hello world that wasn't all that I
over

380
00:26:44,790 --> 00:26:51,990
alright so we can also do this with
squid now the one that's kind of funny

381
00:26:51,990 --> 00:26:54,960
about squids I thought a lot i'll give
another example I'll use my sequel

382
00:26:54,960 --> 00:27:00,360
server don't can do it in my single lady
that's okay well squid proxy and fortune

383
00:27:00,360 --> 00:27:03,780
actually couldn't find any documentation
so that you can do it in squid so i

384
00:27:03,780 --> 00:27:07,020
think i'm the person has written the
first day some conflicting able to do it

385
00:27:07,020 --> 00:27:09,650
at least published it anywhere so for
all of you saw

386
00:27:09,650 --> 00:27:14,870
this before it didn't put out the
results i hate you because it could have

387
00:27:14,870 --> 00:27:16,639
saved me hours huh

388
00:27:16,640 --> 00:27:20,510
but if you use a squid proxy or you know
some other processing mechanism really

389
00:27:20,510 --> 00:27:25,280
nice to have your access logs put out as
as a JSON blob and we're going to kind

390
00:27:25,280 --> 00:27:28,580
of go over to example as well as to
school here tonight and again these

391
00:27:28,580 --> 00:27:31,610
slides you can copy and paste is too big
the work out of the box

392
00:27:31,610 --> 00:27:35,209
alright so with that I was going to go
through a little bit of a story of you

393
00:27:35,210 --> 00:27:44,300
all give you the mouse so also this is
our little made-up story that was going

394
00:27:44,300 --> 00:27:47,540
to give what are you doing

395
00:27:47,540 --> 00:27:51,470
I bumped the mouse you have an awesome
school class has risen

396
00:27:51,470 --> 00:27:57,830
that's not what we see which is good
script yeah

397
00:27:58,460 --> 00:28:03,050
best text ever ok so this weekend with
this little scenario just to illustrate

398
00:28:03,050 --> 00:28:06,409
this sort of talk about how we're going
to fullerton sort of look at this issue

399
00:28:06,410 --> 00:28:20,300
happen what Graham and I got a little
scenario so evening chef already shot

400
00:28:20,300 --> 00:28:25,190
the employees at all and their internet
connection died like a lot of pages or

401
00:28:25,190 --> 00:28:30,260
everything like pages that dulo take
like minutes like CNN it's waiting and

402
00:28:30,260 --> 00:28:35,060
yes you asked about 30 minutes or so
they submit a ticket for our team to

403
00:28:35,060 --> 00:28:44,690
look into my three boys on hall erich
myself and Jeff you all now I'm not too

404
00:28:44,690 --> 00:28:46,400
many are ya

405
00:28:46,400 --> 00:28:50,360
so I was trying to like hand signal to
her which wasn't going well is that this

406
00:28:50,360 --> 00:28:54,709
is actually sort of based on real-world
scenario back again my seven days we had

407
00:28:54,710 --> 00:28:59,480
a split prophecy that we use and get tax
all the time you would like figure out

408
00:28:59,480 --> 00:29:03,800
who's killing the prophecy and we were a
small shop we have 25 employees here we

409
00:29:03,800 --> 00:29:05,810
got you . the big budget stuff

410
00:29:05,810 --> 00:29:08,810
alright so maybe this one here

411
00:29:11,760 --> 00:29:15,360
ok so the question is figure out who's
abusing the squid proxy now there's a

412
00:29:15,360 --> 00:29:18,330
couple ways you can do this and of
course like any good sis adamant i'm

413
00:29:18,330 --> 00:29:24,419
going to take the most reliable way
which is just gripping furiously and

414
00:29:24,420 --> 00:29:25,650
hoping for the best

415
00:29:25,650 --> 00:29:35,940
let's go ahead and do that so I'm going
to do I don't get so worried about

416
00:29:35,940 --> 00:29:45,960
there's a lot of reasons depress me this
little one

417
00:29:46,530 --> 00:29:51,629
alright cool so you know what do I do
here I get into my squid my beautiful

418
00:29:51,630 --> 00:29:55,050
squid access don't log file alright so

419
00:29:55,050 --> 00:30:03,030
oh it's horrible oh I feel your pain
humanity right so this this is clearly

420
00:30:03,030 --> 00:30:07,620
not going to be something that is very
beneficial i can go ahead and like see

421
00:30:07,620 --> 00:30:14,070
like okay I'm gonna see let's see how
much my user Marcus used ok matches i

422
00:30:14,070 --> 00:30:18,389
don't know maybe it's marcus who knows
right so then if you're me and you're

423
00:30:18,390 --> 00:30:21,750
kind of a junior system doesn't work
you're doing like why now I'm smart I

424
00:30:21,750 --> 00:30:28,740
guess module authentication are in this
particular one just using basic off yeah

425
00:30:28,740 --> 00:30:32,220
but normally i would hope your
authentication is set up to your

426
00:30:32,220 --> 00:30:35,850
products using 80 degrees or something
like that because you're looking hot

427
00:30:35,850 --> 00:30:39,300
yeah yeah it is it's big blog because of
the user is authenticated through

428
00:30:39,300 --> 00:30:44,970
baseball that's not really a spoon will
tell you your authentication stop unless

429
00:30:44,970 --> 00:30:49,980
you have user logins require all right
so you know what i did is jr seven is

430
00:30:49,980 --> 00:30:53,940
that ok one smart i know there's this
tool called if top right now I can see

431
00:30:53,940 --> 00:30:55,860
all the connections to and from the
server

432
00:30:55,860 --> 00:31:00,179
the problem is running top is only
window and type right and I on a pretty

433
00:31:00,180 --> 00:31:04,410
regular basis with fingerprint the wrong
person and so like it's definitely you

434
00:31:04,410 --> 00:31:08,100
Marcus I can see that bunch of like
activities you're allowed to your

435
00:31:08,100 --> 00:31:12,449
computer's IP just went through the line
and you're screwing us over as I just

436
00:31:12,450 --> 00:31:14,169
watching me to their way

437
00:31:14,169 --> 00:31:19,029
close to oh man feel horrible you know
you have to have that overall time

438
00:31:19,029 --> 00:31:21,850
series right now again if there's an
open source utilities a small shop

439
00:31:21,850 --> 00:31:26,619
really hard to do that so instead we
come up with a better solution and of

440
00:31:26,619 --> 00:31:29,408
course as you might imagine that
solution is logging those footballs and

441
00:31:29,409 --> 00:31:32,080
Jason we showed earlier i was going to
go ahead and show now with the

442
00:31:32,080 --> 00:31:35,529
investigation looks like on her in when
you're not just wrapping through log

443
00:31:35,529 --> 00:31:39,759
files and praying right of course i was
using the entire time the next to go

444
00:31:39,759 --> 00:31:42,759
throughout the bc that's all but you get
the idea

445
00:31:42,759 --> 00:31:49,629
all right Ellen take it away from around
the strip mall

446
00:31:49,629 --> 00:31:53,799
yeah part of here comes to me are great
like preparando split logs like like a

447
00:31:53,799 --> 00:31:59,139
lame Boyd business card so i actually
organized and good mind just like I

448
00:31:59,139 --> 00:32:02,918
don't know the stuff going on what's
happening here

449
00:32:02,919 --> 00:32:17,950
actually you're going to go that that's
not like you do

450
00:32:17,950 --> 00:32:22,119
hey i'm going to go to version of
different dashboards the first one is

451
00:32:22,119 --> 00:32:26,109
asking that same type of thing going to
be looking for breath like who's issuing

452
00:32:26,109 --> 00:32:30,100
the most requests must get so I did this
one little thing

453
00:32:30,100 --> 00:32:41,080
oh yeah oh look now I'm just I'm just
happened

454
00:32:41,080 --> 00:32:54,730
that's how pretty is that ok so i think
the little practice so we had our little

455
00:32:54,730 --> 00:32:57,639
ticket those submitted this morning

456
00:32:57,639 --> 00:33:05,080
this is the worst part about school but
why must why no time maker so it's

457
00:33:05,080 --> 00:33:13,570
probably 230 two three go anyway

458
00:33:14,499 --> 00:33:17,130
ok so

459
00:33:17,130 --> 00:33:23,490
you're the most requests these are all
powered by Bank their power by search

460
00:33:23,490 --> 00:33:28,290
we're just basically just sort of like a
graph that LOL search matt regular we're

461
00:33:28,290 --> 00:33:34,139
just summing up the number the total
requests per user searches right

462
00:33:34,140 --> 00:33:37,440
oh the other thing is you can pull and
tons of fun thing so we put on makeup

463
00:33:37,440 --> 00:33:41,130
department list for that users we can
pull in what department there in so you

464
00:33:41,130 --> 00:33:46,260
see something like this Eric guy who
works for the janitor staff guys you

465
00:33:46,260 --> 00:33:52,440
something now all the do you think so
now we're gonna get something about

466
00:33:52,440 --> 00:33:57,030
trending Dana so this is a time graph
over the time the incidence of two

467
00:33:57,030 --> 00:34:02,550
thirty in the morning to three we got
three users here you can hover over so

468
00:34:02,550 --> 00:34:09,060
Jeff do you sort of active went crazy
and then Eric sort of all over the board

469
00:34:09,060 --> 00:34:14,639
and then myself sort of our normal user
is 0 and then also know anything about

470
00:34:14,639 --> 00:34:18,990
your words when you're dealing with
threshold so here I was looking at we

471
00:34:18,989 --> 00:34:23,819
have a large sample sets choose from was
very narrow under time it's not the best

472
00:34:23,820 --> 00:34:31,050
example but it works for want to thank
you you're very good gentlemen here we

473
00:34:31,050 --> 00:34:35,669
have three users and over this window of
time in which we captured that data they

474
00:34:35,668 --> 00:34:39,690
had you know to requests for this period
of time and the upper bound for me with

475
00:34:39,690 --> 00:34:43,980
side and then you have current use it so
you take that trend data you've already

476
00:34:43,980 --> 00:34:48,899
pre-calculated and you append to it that
information about how that user is

477
00:34:48,899 --> 00:34:50,520
currently using it

478
00:34:50,520 --> 00:34:54,810
I'm so here i was using twenty percent
and it looks like i was three percent

479
00:34:54,810 --> 00:35:00,450
over what i normally and you can have a
fun thing for your alerts as like is

480
00:35:00,450 --> 00:35:04,859
this user within threshold or not within
the threshold late upset so then I just

481
00:35:04,860 --> 00:35:08,580
like filter this all out like tell me
all the users who are seeing their

482
00:35:08,580 --> 00:35:13,529
traditional threshold and then down here
at the bottom I pick the top 10 since

483
00:35:13,530 --> 00:35:16,140
Eric dude is our offender

484
00:35:16,140 --> 00:35:21,509
according to this I picked his top 10
URL on fish on the spot size so these

485
00:35:21,510 --> 00:35:25,950
are the things he's learning which to be
the libraries

486
00:35:25,950 --> 00:35:35,669
I'm so go ahead and we did it based off
of school so it a second version which

487
00:35:35,670 --> 00:35:40,140
was to look at who's consuming the
majority of the fan with so who is the

488
00:35:40,140 --> 00:35:44,790
largest response hot spot size those
types of requests so we redid that

489
00:35:44,790 --> 00:35:49,440
backboard with a similar in aerobatics
go pick you don't want to

490
00:35:49,440 --> 00:35:53,310
who is setting up across request wanna
know who's sending out was getting the

491
00:35:53,310 --> 00:36:01,140
most amount of data back one so i'm
going to the terrible thing

492
00:36:05,520 --> 00:36:12,960
so what does dashboard all the time is
driving me she's a stop to think about

493
00:36:12,960 --> 00:36:17,280
all the things that your squid proxy
mine only things like response i but

494
00:36:17,280 --> 00:36:20,940
even request sizes do you have somebody
taking data out of your organization if

495
00:36:20,940 --> 00:36:24,869
you're a lockdown organization you
probably restrict hopefully access to

496
00:36:24,869 --> 00:36:28,170
the internet through least proxy or
transparent proxy taking all the

497
00:36:28,170 --> 00:36:30,780
information that you have there about
user behavior potentially malware

498
00:36:30,780 --> 00:36:34,319
behavior that you could potentially be
actually on a great example of your

499
00:36:34,319 --> 00:36:38,339
little more advanced maybe you're taking
your badge logs your batch data typing

500
00:36:38,339 --> 00:36:42,990
those of the same system and then why
not take a look at City Hall date isn't

501
00:36:42,990 --> 00:36:45,540
even here today there's no bathroom this
computer

502
00:36:45,540 --> 00:36:49,349
why the hell is there data heading out
of this computer right now things like

503
00:36:49,349 --> 00:36:52,560
that right we security people get caught
up on all these crazy things we can do

504
00:36:52,560 --> 00:36:55,230
to like figure out where the tracks
going let's do it

505
00:36:55,230 --> 00:36:58,410
it might be as simple as there's nobody
sitting at that desk it's kind of weird

506
00:36:58,410 --> 00:36:59,129
right

507
00:36:59,130 --> 00:37:02,069
so kind of been thinking about that too
it's as a little bit of a paradigm shift

508
00:37:02,069 --> 00:37:04,380
we think about the data larger context
right

509
00:37:04,380 --> 00:37:10,260
I don't know okay okay so we got the
same time range and this time again with

510
00:37:10,260 --> 00:37:15,359
a different person . size of West so we
have this jeff guy from sales LOL i

511
00:37:15,359 --> 00:37:20,009
think we're looking at a quest sighs
here's our same time chart scrolling and

512
00:37:20,010 --> 00:37:25,290
the funny thing is like you can't even
see because Jeff's is so astronomically

513
00:37:25,290 --> 00:37:29,759
large compared to do so this was like
right away i can tell from the chart

514
00:37:29,760 --> 00:37:30,510
black

515
00:37:30,510 --> 00:37:35,520
like you know that's my visualization is
also like I need to like do all this

516
00:37:35,520 --> 00:37:40,770
complicated math thing I just want this
to be like Jeff it's so we did the same

517
00:37:40,770 --> 00:37:46,620
thing with trending on the threshold so
we have upper and lower grabs your step

518
00:37:46,620 --> 00:37:53,880
for each user percentage over so we have
like a lack of common 154 million

519
00:37:53,880 --> 00:37:57,270
requests when it's not stitches much
less that

520
00:37:59,430 --> 00:38:03,690
oh then you look down here to see what
his top 10 urls in for questioning and

521
00:38:03,690 --> 00:38:08,400
it seems like he's just downloading all
but all the movies is downloading to be

522
00:38:08,400 --> 00:38:14,610
an explanation of why spot size is
something so i want to hold example i

523
00:38:14,610 --> 00:38:19,650
will say to you that I as fuck that man
get extreme value of using let's plug on

524
00:38:19,650 --> 00:38:24,810
splits looking like a little meta crazy
thing inception and you look at the data

525
00:38:24,810 --> 00:38:29,970
about your school users to help them do
spoke better so i have this fantastic

526
00:38:29,970 --> 00:38:34,890
fun dashboard which have a show but it
does a guy get training classes to some

527
00:38:34,890 --> 00:38:37,620
of our employees like here's how you can
use plums to make your lives lost

528
00:38:37,620 --> 00:38:42,089
terrible or better more information on
and you can actually pull up by users

529
00:38:42,090 --> 00:38:45,450
and I can see sort of information about
the types of searches they're looking

530
00:38:45,450 --> 00:38:51,629
for so i get things like this person
tends to use like search and table with

531
00:38:51,630 --> 00:38:55,110
the command to you so much . gonna go
real low level on the stuff we're going

532
00:38:55,110 --> 00:38:59,220
to talk about is I don't have a lot of
experience with export like Matt it's

533
00:38:59,220 --> 00:39:03,870
like 37 unique commands it's probably
pretty good we can go higher levels from

534
00:39:03,870 --> 00:39:08,730
the cooler like JSON things another
round xml stuff you can do this and so

535
00:39:08,730 --> 00:39:12,240
it's really useful for me and this won't
happen to have that capability to look

536
00:39:12,240 --> 00:39:23,310
at your own product schools as well to
sign a good time for questions

537
00:39:23,880 --> 00:39:28,500
Jack so help maybe i missed this earlier
than thought foot

538
00:39:28,500 --> 00:39:38,040
how are you getting this squid logs and
dress up and into this . that's fine

539
00:39:38,040 --> 00:39:45,450
yes super super easy and of course I
getting work we use whatever company you

540
00:39:45,450 --> 00:39:50,669
can use whatever you want but all we're
doing is going on here and I just went

541
00:39:50,670 --> 00:39:57,510
into my split convert my squidoo.com and
you can just there's a constant out

542
00:39:57,510 --> 00:40:01,950
field in the whole joint pic while they
talked about log format and you can just

543
00:40:01,950 --> 00:40:05,520
add a new log format and you give it a
custom-made might just go squid juice

544
00:40:05,520 --> 00:40:09,960
off and then everything after the first
space after the name of a log format is

545
00:40:09,960 --> 00:40:14,700
just going to be the output to a line
with could write something out and it's

546
00:40:14,700 --> 00:40:19,439
gonna do replacements of these
percentages no time gmt things like that

547
00:40:19,440 --> 00:40:24,450
little squares are cup yes we're not all
going to define this ended at 11 and

548
00:40:24,450 --> 00:40:27,089
then not anyone's right out that log
this number of different ways

549
00:40:27,090 --> 00:40:32,100
transported to your product so respond
to use your recorder or like an L stack

550
00:40:32,100 --> 00:40:37,589
product with Qabbani I think they just
with you know things like that every

551
00:40:37,590 --> 00:40:40,950
every vendor who tries to sell you
something has something they don't want

552
00:40:40,950 --> 00:40:44,460
you to install the boss or if it's open
source all possible as long as up and

553
00:40:44,460 --> 00:40:52,860
you have questions wrong you're Jake on
where of we got tile like so like in

554
00:40:52,860 --> 00:40:59,610
declaration half cab and their second is
the address have had their absolutely so

555
00:40:59,610 --> 00:41:02,610
the question was do I mean just the
order that you're showing is an internal

556
00:41:02,610 --> 00:41:03,630
value

557
00:41:03,630 --> 00:41:07,020
I you know didn't matter they have to be
those fields yes they would

558
00:41:07,020 --> 00:41:10,800
because what I'm doing which is kind of
gross Billy like I said anything after

559
00:41:10,800 --> 00:41:14,130
this the first space here effort
declared with the name of this custom

560
00:41:14,130 --> 00:41:19,440
water matters is just it out putting
like the actual value like to ask you

561
00:41:19,440 --> 00:41:20,200
value

562
00:41:20,200 --> 00:41:23,439
how's my long pop that open bracket
doesn't mean anything to squid is

563
00:41:23,440 --> 00:41:27,400
literally the definition to be getting
first character of a json right and so

564
00:41:27,400 --> 00:41:31,869
then I may have to double post is also a
time to pulling and then you have news

565
00:41:31,869 --> 00:41:35,200
know another double post of the value
and that you can start putting your

566
00:41:35,200 --> 00:41:41,049
tokens that squid will do a string
replace off as it makes those that make

567
00:41:41,050 --> 00:41:47,740
a little more sense of what possible and
also any questions about that stuff are

568
00:41:47,740 --> 00:41:50,890
poured a little bit

569
00:41:51,520 --> 00:41:55,869
alright so if you're like Homer here and
you just kind of walk out on the back or

570
00:41:55,869 --> 00:42:03,550
whatever that's why the major points LTR
Jason's gonna use Jason json I actually

571
00:42:03,550 --> 00:42:08,530
hate when people say Jason Jason is good
use JSON if you're not taking in your

572
00:42:08,530 --> 00:42:11,560
logs in something even took it go get
out

573
00:42:11,560 --> 00:42:16,119
there's on help staff is open source
right there are pre-built p.m. rebuild

574
00:42:16,119 --> 00:42:21,609
amazon images go get it go set it up i
will save your life if you are ever find

575
00:42:21,609 --> 00:42:25,779
yourself running through a log Bob ever
for any reason figure out how to make

576
00:42:25,780 --> 00:42:31,390
this law for adjustable better how can I
take a JSON and try to use it to better

577
00:42:31,390 --> 00:42:35,770
not only just your organization but even
your all the security posture and again

578
00:42:35,770 --> 00:42:40,150
I said it's kind of weird is going to do
some operations thing but and like a

579
00:42:40,150 --> 00:42:44,890
data then yet i'm involved right off my
team is because the yields of having

580
00:42:44,890 --> 00:42:50,589
good reliable data was so high so high
that is continue to be worth my time to

581
00:42:50,589 --> 00:42:53,589
work on work

582
00:43:04,130 --> 00:43:09,200
am I wasting time and like dig through
things and like ask this person for the

583
00:43:09,200 --> 00:43:14,210
thing and get that put in whatever
format so yes immensely benefited from

584
00:43:14,210 --> 00:43:19,670
that was designed specifically alone i
think about your think about your

585
00:43:19,670 --> 00:43:23,030
servers you maybe you're a big-shot
you've got a bigger a teashop you've got

586
00:43:23,030 --> 00:43:26,510
all these people who are additive
various platforms and service right so

587
00:43:26,510 --> 00:43:30,470
what do we do on our windows and other
linux systems we pulling those security

588
00:43:30,470 --> 00:43:34,040
logs a lot of talk about being happy
user be added or anything like that and

589
00:43:34,040 --> 00:43:37,790
we just constantly your life this person
like so we actually have all of our

590
00:43:37,790 --> 00:43:40,610
people and all of our departments
already loaded and stuff like that

591
00:43:40,610 --> 00:43:44,900
person is in this department got this
server which is tagged with this tag

592
00:43:44,900 --> 00:43:47,780
that says that it's actually not part of
that apartment and then automatically

593
00:43:47,780 --> 00:43:51,710
fires off the email was picked up by r0
ticket handler which automatically

594
00:43:51,710 --> 00:43:56,270
assigns it to our order that comes on
monday morning just like hey you can't

595
00:43:56,270 --> 00:44:02,780
do that that access like okay so close
to going on right now is all all that

596
00:44:02,780 --> 00:44:06,320
manual labor and effort is just
automated and you think about we

597
00:44:06,320 --> 00:44:10,700
actually call him for a long time was
just three of us on the security just

598
00:44:10,700 --> 00:44:15,529
myself my Boston our auditor and we
always helps what are our fourth team

599
00:44:15,530 --> 00:44:20,570
member and it was like we didn't hire an
auditor even though we are needs Greece

600
00:44:20,570 --> 00:44:23,810
substantially as we went after kind of
different markets and different clients

601
00:44:23,810 --> 00:44:27,710
objectives we never had to hire more
than one auditor until just this year

602
00:44:27,710 --> 00:44:32,600
because everything we needed to do we
could do using log data so i let the

603
00:44:32,600 --> 00:44:37,100
value problems right there and that I
wasn't gonna get really doesn't matter

604
00:44:37,100 --> 00:44:42,770
for any utility side data it's not the
utility that saves you is spending the

605
00:44:42,770 --> 00:44:46,490
time to set up get it to working with
you need to work and making sure that

606
00:44:46,490 --> 00:44:47,990
your day is reliable

607
00:44:47,990 --> 00:44:50,729
yes

608
00:44:50,730 --> 00:44:59,190
tastes like bigger laws of science by
smart enough away

609
00:45:00,150 --> 00:45:04,290
absolutely so the question was does
formatted in JSON make your logs bigger

610
00:45:04,290 --> 00:45:08,790
with how to adapt its pretty much it's
going to make the size quite a bit

611
00:45:08,790 --> 00:45:11,880
larger if your logs are typically small
they're going to about double its size

612
00:45:11,880 --> 00:45:15,119
because every time you're gonna want
something out you're now doing T values

613
00:45:15,119 --> 00:45:18,600
every single time right thing about your
apache logs will just come on the common

614
00:45:18,600 --> 00:45:23,850
format timestamp your I bikes now you're
going to say like the actual field names

615
00:45:23,850 --> 00:45:25,830
before every single field right so
absolutely going to make it a little

616
00:45:25,830 --> 00:45:28,890
bigger if you're logging a lot of
information is not gonna make that much

617
00:45:28,890 --> 00:45:32,850
bigger and you have to have to do the
body prop up your end right to say like

618
00:45:32,850 --> 00:45:36,750
is the outdoor storage costs going to go
off astronomically by how much you can

619
00:45:36,750 --> 00:45:40,290
always think about retention options as
well to that might slow a little bit yes

620
00:45:40,290 --> 00:45:45,869
for this question if your developers can
and should please push them to his

621
00:45:45,869 --> 00:45:50,910
custom apps right really well limited
water you wouldn't gates on them you

622
00:45:50,910 --> 00:45:55,589
would know first field time to build a
transplant in your queries works for

623
00:45:55,590 --> 00:46:00,750
hurts so you could save a lot of JSON
absolutely sossamon i just made a

624
00:46:00,750 --> 00:46:05,190
comment that repeating different so
maybe Tommy does you had to push for

625
00:46:05,190 --> 00:46:08,880
developers to make reliable feels like
this bill that will help you create a

626
00:46:08,880 --> 00:46:12,810
map and then injustice was automatically
get another small batches this myself

627
00:46:12,810 --> 00:46:16,200
absolutely that is absolutely it's
accurate i find that generally you don't

628
00:46:16,200 --> 00:46:19,950
ever want to tell your application
developers like Oh before you go off

629
00:46:19,950 --> 00:46:23,609
changing role of a lion that can pick
that up right this is not going to go

630
00:46:23,609 --> 00:46:27,299
over well I mean so to my guys up here
write the software i demonstrated would

631
00:46:27,300 --> 00:46:28,530
you be okay with that

632
00:46:28,530 --> 00:46:35,010
yeah it is i just got to most disgusting
know that and that's the power right is

633
00:46:35,010 --> 00:46:39,240
to be able to say I'm going to do this
because we have security people right

634
00:46:39,240 --> 00:46:43,290
we're always that other people mercy all
the time and so if you can say like you

635
00:46:43,290 --> 00:46:46,170
know all application developers who are
you doing today the buggy that's

636
00:46:46,170 --> 00:46:49,440
probably terrible look at all the crazy
stuff you could do now ready to add

637
00:46:49,440 --> 00:46:52,859
extra key words extra information
they're going to pick up on there just

638
00:46:52,859 --> 00:46:54,359
gonna be like that's amazing

639
00:46:54,359 --> 00:46:57,630
and all I did was like having example
sitting out in our company and I just

640
00:46:57,630 --> 00:46:59,930
like published out there and then people

641
00:46:59,930 --> 00:47:05,060
losing their minds over and it instantly
overnight convert all are locked in

642
00:47:05,060 --> 00:47:08,779
several areas do that and i'm just
sitting on the back and no one knows I'm

643
00:47:08,780 --> 00:47:12,500
just like make that into an alert that
into an alert because all that stuff

644
00:47:12,500 --> 00:47:16,700
those customers frost customer-facing
applications so it's not all data proves

645
00:47:16,700 --> 00:47:20,569
i'm just sitting there going all had to
go all crazy words i can make right and

646
00:47:20,570 --> 00:47:23,720
so that protected by you get out just
enough liability

647
00:47:23,720 --> 00:47:28,220
yeah i was coming on like the amount of
times that I get comments from teams

648
00:47:28,220 --> 00:47:31,879
that just like I deleted all the way I
used to log and I have this cool new

649
00:47:31,880 --> 00:47:35,990
format if I don't like the interactive
in that my job with sucks so hard

650
00:47:35,990 --> 00:47:39,799
because i like i like mapping filled
with stuff like what split therefore

651
00:47:39,800 --> 00:47:44,840
renamed but i'm sure that other things
have so if your product uses IP address

652
00:47:44,840 --> 00:47:50,150
and his product uses IP internal address
i can just match those together in my

653
00:47:50,150 --> 00:47:54,140
search I don't have to worry about like
trying to make you perform his standard

654
00:47:54,140 --> 00:47:58,970
and they're like do whatever you want
I'll fix it later and it is yes yeah if

655
00:47:58,970 --> 00:48:11,120
you want to but I got a question back
about you are more of the piece i know

656
00:48:11,120 --> 00:48:15,020
that was actually just example from way
back today was the seventh kind of small

657
00:48:15,020 --> 00:48:26,000
company that that isn't necessarily
relevant to my crib set up a little bit

658
00:48:26,000 --> 00:48:35,030
modern one more time sorry little access
like 830 see ya

659
00:48:36,080 --> 00:48:39,380
absolutely so instead of doing a dress
with white near Sweetwater i can give

660
00:48:39,380 --> 00:48:44,300
you a real example for novices but logs
but just I got a robots.txt file out

661
00:48:44,300 --> 00:48:47,780
there for our production our production
application stuff is just got this just

662
00:48:47,780 --> 00:48:52,310
as path it looks legit it's not to go to
that out you know it just throws an

663
00:48:52,310 --> 00:48:56,660
error to me and says hey someone's going
to stop right and things like that and

664
00:48:56,660 --> 00:48:58,879
just nice you can do something
restaurant just based on some of the

665
00:48:58,880 --> 00:49:01,110
things you know and again joining data
for the day

666
00:49:01,110 --> 00:49:05,040
versus the most powerful so take your
split logs again how many places can you

667
00:49:05,040 --> 00:49:08,310
go pay him a little money to give you
this huge txt file of all the malware

668
00:49:08,310 --> 00:49:12,299
domains known to mankind right you just
support that in the same system here and

669
00:49:12,300 --> 00:49:15,270
then cross-referenced against your foot
traffic and you just built in our

670
00:49:15,270 --> 00:49:18,030
detection engine in your proxy for free

671
00:49:18,030 --> 00:49:22,740
about five dollars for the text box
because I things like that don't let

672
00:49:22,740 --> 00:49:26,310
some vendor try to bend you over a
barrel for a thousand dollars off

673
00:49:26,310 --> 00:49:30,270
product when you know for a lot of those
basic cases you can do it yourself and I

674
00:49:30,270 --> 00:49:33,930
said you know you big guys on there yeah
using those parts but for the hundreds

675
00:49:33,930 --> 00:49:37,710
less high tea shops like under lesson .
it's just you can still just up to

676
00:49:37,710 --> 00:49:43,140
protect your users operate the back and
that's it so it is

677
00:49:43,140 --> 00:49:47,490
yes you're out slightly absolutely that
is a new plans

678
00:49:49,860 --> 00:49:56,130
yeah i hit the home button and it didn't
go there so we're going to put forever

679
00:49:57,990 --> 00:50:03,390
that is a google will keep up there
forever if people like a confusing you

680
00:50:03,390 --> 00:50:08,790
clarified you know getting all enable
comments or something like that on it so

681
00:50:08,790 --> 00:50:11,910
if you want to make a comment
modifications we can do a little offline

682
00:50:11,910 --> 00:50:17,490
back-and-forth not only little ok one
more question

683
00:50:17,490 --> 00:50:22,080
yeah yes go ahead and get going to
appreciate it thanks so much okay thanks

684
00:50:22,080 --> 00:50:22,529
officer

