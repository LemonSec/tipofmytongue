1
00:00:00,000 --> 00:00:03,120
oh man

2
00:00:06,779 --> 00:00:10,469
Shh everyone turn around look at the
people coming in like they did something

3
00:00:10,469 --> 00:00:27,479
wrong now . and this also does come in
did you get ice

4
00:00:29,039 --> 00:00:40,200
why did you not get ice that has no
problem saying no to things because he

5
00:00:40,200 --> 00:00:42,390
has self-respect

6
00:00:42,390 --> 00:00:48,390
I however do not actually this might be
the first time at scopus of the highs

7
00:00:58,920 --> 00:01:13,470
let's uh let's do Morton's later to wash
the pain away

8
00:01:15,840 --> 00:01:20,340
alright let's get started thank you very
much for attending the penetration 10

9
00:01:20,340 --> 00:01:24,119
trends report of $MONTH 2016 it's
something I've been trying to do every

10
00:01:24,119 --> 00:01:30,570
single year for the past two years
failed this year i'll explain why i've

11
00:01:30,570 --> 00:01:32,669
got a good excuse but we're going to get
to it

12
00:01:32,670 --> 00:01:36,720
um so what are the trends that are out
there right now so if you take a look at

13
00:01:36,720 --> 00:01:41,579
verizon and mandiant verizon came out
their data breach report and every other

14
00:01:41,579 --> 00:01:44,579
security company in the world is
basically like we've got to do that too

15
00:01:45,149 --> 00:01:50,070
that's good marketing and some things
have been very very very unsettling

16
00:01:50,070 --> 00:01:54,779
about these different trends reports
mainly it becomes very clear if you

17
00:01:54,780 --> 00:01:59,460
trend out the trends reports for
breaches it becomes very clear that we

18
00:01:59,460 --> 00:02:06,479
are learning a god damn thing in this
industry . so i figured clearly listen

19
00:02:06,479 --> 00:02:08,250
to a penetration testing company

20
00:02:08,250 --> 00:02:12,000
um but we wait for these things to come
out we get really really really excited

21
00:02:12,000 --> 00:02:15,330
and they say the same crap is there
before again and again and again it's

22
00:02:15,330 --> 00:02:20,430
not really providing a lot of insight as
to what is actually happening in the

23
00:02:20,430 --> 00:02:24,480
world of exploitation and taking over
computer systems and by and large for a

24
00:02:24,480 --> 00:02:29,099
number of years this was true in the
world of penetration testing for example

25
00:02:29,099 --> 00:02:35,280
how many of you have got access last
year with 0806 seven still comes up on a

26
00:02:35,280 --> 00:02:40,410
fairly regular basis and it's like did
you learn anything at all on the Java

27
00:02:40,410 --> 00:02:45,390
social engineering attack with java
applet attack how many years did that

28
00:02:45,390 --> 00:02:48,660
work before job is like you know maybe
that craps kinda dangerous i think it

29
00:02:48,660 --> 00:02:54,209
was like 8-9 years so this really long
run where we were using the exact same

30
00:02:54,209 --> 00:02:57,900
techniques again and again and again and
again and again because they worked and

31
00:02:57,900 --> 00:03:01,500
then things started changing a little
bit last year we started seeing a lot

32
00:03:01,500 --> 00:03:04,470
more lockdown restrictions whatever came
to java apps especially within the

33
00:03:04,470 --> 00:03:08,190
browser trying to stop the apps from
running and that was a good thing that

34
00:03:08,190 --> 00:03:12,780
was progression so the question is are
we actually seeing more progression and

35
00:03:12,780 --> 00:03:14,580
information security at all

36
00:03:14,580 --> 00:03:17,790
we decided to do something similar
talking to a large number of different

37
00:03:17,790 --> 00:03:27,899
penetration testing firms asking a
series there are off for lights know you

38
00:03:27,900 --> 00:03:28,739
got that

39
00:03:28,739 --> 00:03:33,840
alright so so we tried to do something
similar and try to see if things

40
00:03:33,840 --> 00:03:38,040
actually matched up with what the bad
guys are doing and what penetration

41
00:03:38,040 --> 00:03:43,650
testers are actually doing and really it
feels like we have three separate rooms

42
00:03:43,650 --> 00:03:47,879
and information security we have the
penetration testing community and let's

43
00:03:47,879 --> 00:03:52,260
pretend that they are in like a room
called a break it possibly then we have

44
00:03:52,260 --> 00:03:55,349
the defenders right you know they're
trying to fix things and makes them make

45
00:03:55,349 --> 00:03:58,590
things better and then we have the
forensics analyst to actually

46
00:03:58,590 --> 00:04:03,510
legitimately called themselves forensic
haters like they woke up one morning and

47
00:04:03,510 --> 00:04:06,190
said you know what this is a good idea

48
00:04:06,190 --> 00:04:11,170
these are also the people that you have
to explain that this is a pedometer it's

49
00:04:11,170 --> 00:04:15,910
not a parameter they're two completely
different things but at any rate the

50
00:04:15,910 --> 00:04:19,329
whole point is we occupy different rooms
we don't really communicate with each

51
00:04:19,329 --> 00:04:24,190
other as well as we actually should be
communicating with each other and how do

52
00:04:24,190 --> 00:04:28,630
we actually try to break that down so
let's talk a little bit about some

53
00:04:28,630 --> 00:04:31,030
trends that we're seeing we're going to
dive into it

54
00:04:31,030 --> 00:04:36,580
first the external low-hanging fruit is
getting rare it's not gone

55
00:04:36,580 --> 00:04:40,570
please understand that it is absolutely
not gone if you guys were following fear

56
00:04:40,570 --> 00:04:44,560
who the attacker name fear who did fear
compromise and then compromise whole

57
00:04:44,560 --> 00:04:50,140
bunch of other customers of that
organization and when tracking that new

58
00:04:50,140 --> 00:04:55,210
scar took over new star systems and took
over a bunch of customers and they got

59
00:04:55,210 --> 00:05:00,640
access to ftp servers hacking literally
like it's 1999 was still working for

60
00:05:00,640 --> 00:05:04,150
this particular attacker so there's
still some low-hanging fruit that is out

61
00:05:04,150 --> 00:05:07,659
there but we're seeing get rarer and
rarer and rarer on the outside of

62
00:05:07,660 --> 00:05:10,960
organizations you don't simply run
Nessus find a red critical and then gain

63
00:05:10,960 --> 00:05:15,580
access to that computer system because
it's just not there anymore and that's a

64
00:05:15,580 --> 00:05:16,479
good thing

65
00:05:16,480 --> 00:05:20,620
that's a good trend right we can't be
frustrated about these if you take

66
00:05:20,620 --> 00:05:24,790
anything in the world of penetration
testing or attacks and all the sudden

67
00:05:24,790 --> 00:05:28,960
you can't get in you should never take
that as well this sucks i can no longer

68
00:05:28,960 --> 00:05:32,289
use my bag of tricks that I've used for
years means that we've got to learn

69
00:05:32,290 --> 00:05:36,400
something new and that's ultimately why
a lot of us get into network penetration

70
00:05:36,400 --> 00:05:40,330
testing and we try to get into things
like breaking into networks as well I'm

71
00:05:40,330 --> 00:05:44,830
so yeah old vulnerabilities do still
work especially on the inside and

72
00:05:44,830 --> 00:05:49,930
especially with client-side exploitation
a lot of those vulnerabilities are still

73
00:05:49,930 --> 00:05:52,720
wide open you can still gain access
someone explain why that's important a

74
00:05:52,720 --> 00:05:57,070
little bit later mobile should be an
issue i have a whole slide dedicated to

75
00:05:57,070 --> 00:06:01,150
this but honestly a lot of organizations
have backed away from testing their

76
00:06:01,150 --> 00:06:06,520
mobile apps for a really ridiculously
stupid reason but generally mobile is

77
00:06:06,520 --> 00:06:11,530
not an issue as much of an issue as it
actually should be in organizations now

78
00:06:11,530 --> 00:06:14,530
internal is an outright hot mess

79
00:06:14,530 --> 00:06:18,070
it's a complete disaster once you get a
foothold in an organization is just a

80
00:06:18,070 --> 00:06:19,060
matter of time

81
00:06:19,060 --> 00:06:22,690
before you pivot you get domain
administrator and you basically own

82
00:06:22,690 --> 00:06:26,590
absolutely everything within that
organization it's like all the lessons

83
00:06:26,590 --> 00:06:30,638
that we were taught when we were
learning at the cissp defense-in-depth

84
00:06:30,639 --> 00:06:34,180
we said ah screw it we got a firewall
and we've been holding on and clinging

85
00:06:34,180 --> 00:06:37,330
to that as an idea for the last 15 years

86
00:06:37,330 --> 00:06:42,340
meanwhile it doesn't work at all we also
see a large amount of resistance when

87
00:06:42,340 --> 00:06:46,239
we're trying to test the right things in
the right approach and finally we're

88
00:06:46,240 --> 00:06:49,930
seeing a heavy sku between what is
actually being tested in multiple

89
00:06:49,930 --> 00:06:54,880
organizations and with the attackers
themselves are actually doing so let's

90
00:06:54,880 --> 00:06:59,050
talk about some of the trends that
really haven't changed and this becomes

91
00:06:59,050 --> 00:07:03,700
incredibly important the first trend
that has not changed much at all is

92
00:07:03,700 --> 00:07:08,380
users this is important because it just
requires a single user to click a link

93
00:07:08,380 --> 00:07:13,630
or run an application run a Java app
running HTA file run the go out on the

94
00:07:13,630 --> 00:07:16,930
internet with a vulnerable plug in their
browser and their compromise or possibly

95
00:07:16,930 --> 00:07:19,990
entering in their credentials as well

96
00:07:20,530 --> 00:07:24,789
now whenever we look at what we see in
penetration testing out of all the

97
00:07:24,789 --> 00:07:28,930
things that we test it is one of the
smaller subsets that the organizations

98
00:07:28,930 --> 00:07:34,180
that we test actually have us test the
common quote that we get all the time is

99
00:07:34,180 --> 00:07:43,390
we don't need to test that because we
know it is going to work now I can agree

100
00:07:43,390 --> 00:07:49,510
with not testing it because there's a an
understanding that it is going to work

101
00:07:49,510 --> 00:07:56,889
but why do we allow it to continue to
work is a much larger question so I i if

102
00:07:56,889 --> 00:08:00,789
you ever get a chance i want you to read
the prizes data breach reports read the

103
00:08:00,789 --> 00:08:06,909
last three years and they they steadily
get more insane if you go back three

104
00:08:06,910 --> 00:08:10,270
years ago they got a lot of graphs that
got a lot of data it's very well written

105
00:08:10,270 --> 00:08:14,500
by the time you get to this year's
verizon data breach report

106
00:08:15,070 --> 00:08:19,900
it's like they can't go of a paragraph
without a woody pun or some kind of joke

107
00:08:19,900 --> 00:08:24,909
built into the report and the reason why
this fundamentally bothers me is because

108
00:08:24,910 --> 00:08:28,390
they're trying to make it look
interesting when the fact of the matter

109
00:08:28,390 --> 00:08:31,190
is when you start breaking these things
down and

110
00:08:31,190 --> 00:08:34,669
rising what is actually being said in
these reports a tremendous amount of the

111
00:08:34,669 --> 00:08:39,829
data tremendous amount of what they're
saying has not changed from previous

112
00:08:39,830 --> 00:08:44,720
years for example is either a tease or
ninety percent of the time whenever

113
00:08:44,720 --> 00:08:48,860
organizations get compromised by a
targeted attack it is through targeted

114
00:08:48,860 --> 00:08:52,430
spearfishing it is through to someone
using the exact same of attacks that

115
00:08:52,430 --> 00:08:55,250
have worked four five six seven years
ago everyone say hi what's your name

116
00:08:55,250 --> 00:09:02,960
Chris everyone say hi Chris two things
about Kris one he has guts he came right

117
00:09:02,960 --> 00:09:05,420
up to the front we SAT right in front
that's awesome

118
00:09:05,420 --> 00:09:09,949
and number two he was like I hope they
don't notice me so so thank you very

119
00:09:09,950 --> 00:09:16,280
much for coming so we're seeing again
and again where the exact same attack

120
00:09:16,280 --> 00:09:20,689
vectors are working again and again and
again but we're really not seeing

121
00:09:20,690 --> 00:09:25,010
organizations do that much to try to
stop those attacks least as much as we'd

122
00:09:25,010 --> 00:09:27,500
like to see them stop those attacks

123
00:09:27,500 --> 00:09:32,420
I i believe firmly in user awareness and
user education i absolutely do but i

124
00:09:32,420 --> 00:09:36,290
think it's completely understandable why
many organizations would say we're

125
00:09:36,290 --> 00:09:39,980
giving up on user education we're giving
up on user awareness because you still

126
00:09:39,980 --> 00:09:44,210
have a percentage of the users that are
going to click on links and in most

127
00:09:44,210 --> 00:09:47,210
penetration test with most of the
companies that I've talked to your

128
00:09:47,210 --> 00:09:50,090
looking anywhere between thirteen to
twenty percent of the people will click

129
00:09:50,090 --> 00:09:55,430
on anything that you send them you send
them a link in an email that says

130
00:09:55,430 --> 00:10:02,959
spearfishing test and above the link you
say do not click this link you will fail

131
00:10:02,960 --> 00:10:07,580
the spearfishing test thirteen to twenty
percent of the people will click that

132
00:10:07,580 --> 00:10:11,030
link and a hundred percent of the
security team will click the headlines

133
00:10:12,610 --> 00:10:17,680
so we see this again and again and in
for each of these different trends and

134
00:10:17,680 --> 00:10:21,189
the things that i was talking about i
wanted to come up with a lesson

135
00:10:21,190 --> 00:10:25,600
what can we look at and what can we
learn and I don't honestly know what

136
00:10:25,600 --> 00:10:30,519
what we can learn here doing through we
learned all users just click on things

137
00:10:30,519 --> 00:10:35,649
um every collectively given up on this
insecurity there have been things that

138
00:10:35,649 --> 00:10:42,010
we've given up absolutely for example
users accessing private email in gmail

139
00:10:42,010 --> 00:10:44,950
or yahoo mail or hotmail if they're
really really old

140
00:10:44,950 --> 00:10:48,160
we have people that are still accessing
the private email we allow that because

141
00:10:48,160 --> 00:10:53,079
as an industry we collectively looked at
that as a security attack vector and

142
00:10:53,079 --> 00:10:57,069
said ah screw it we'll let that through
are we doing that with our user

143
00:10:57,070 --> 00:11:01,329
population is it a good idea and I'm not
trying to say that it is or is not a

144
00:11:01,329 --> 00:11:04,329
good idea i've already told you my
thoughts I believe user awareness is

145
00:11:04,329 --> 00:11:09,790
important but as an industry and we
given up on trying to prevent users from

146
00:11:09,790 --> 00:11:14,769
clicking on links personally it's
starting to look a lot like we have or

147
00:11:14,769 --> 00:11:18,610
whatever we do test it we try to test it
in such a way to minimize any

148
00:11:18,610 --> 00:11:23,860
embarrassment that may occur within the
organization the next trend is mobile

149
00:11:23,860 --> 00:11:26,860
should without question be an issue

150
00:11:27,370 --> 00:11:33,399
would anybody like to take a oh well I
have it on a bullet . why is it that a

151
00:11:33,399 --> 00:11:38,260
lot of organizations have decided not to
test their mobile applications as the

152
00:11:38,260 --> 00:11:43,300
CEO and CIO the CTO read these reports
and they say I've got all these problems

153
00:11:43,300 --> 00:11:49,569
but mobile is not one of them because
report says nobody's compromising mobile

154
00:11:49,570 --> 00:11:56,740
devices and targeting users of those
devices it's not an issue and CEO CEO

155
00:11:56,740 --> 00:12:01,209
CFO CTOs look at this and they say
there's no reason whatsoever to test our

156
00:12:01,209 --> 00:12:04,089
mobile apps now to be sure we do have
some customers that we test mobile apps

157
00:12:04,089 --> 00:12:08,199
and they're great customers and we love
those customers but I'm seeing more of

158
00:12:08,199 --> 00:12:13,060
our calls with customers pre sales calls
and we get into testing calls people

159
00:12:13,060 --> 00:12:17,709
saying this is not an issue we should
absolutely ignore it but if we look at

160
00:12:17,709 --> 00:12:21,250
testing mobile applications what we're
seeing on the other side even though

161
00:12:21,250 --> 00:12:24,089
that's not actively being used to
exploit users on

162
00:12:24,089 --> 00:12:28,350
other side we're seeing these huge
vulnerabilities that are basically the

163
00:12:28,350 --> 00:12:34,019
equivalent of hacking like it's 1999
very little protections whatsoever built

164
00:12:34,019 --> 00:12:38,279
into the applications simply changing
user IDs in many situations allows you

165
00:12:38,279 --> 00:12:42,839
to jump to another user's account and
steal all of their data very very easily

166
00:12:42,839 --> 00:12:48,120
we see that constantly so what do we do
as an industry we continue to ignore

167
00:12:48,120 --> 00:12:52,290
mobile applications are we continue
trying to test mobile applications and

168
00:12:52,290 --> 00:12:58,019
I've come to the realization just how
powerful a couple of small things in the

169
00:12:58,019 --> 00:13:01,709
industry can be like a verizon data
breach report saying mobile is not an

170
00:13:01,709 --> 00:13:05,518
issue can actually shut down a large
amount of mobile testing you guys

171
00:13:05,519 --> 00:13:09,779
remember years ago when a gardener came
out with a report and said ids is debt

172
00:13:09,779 --> 00:13:12,569
how many of you had bosses that said
we're going to rip out intrusion

173
00:13:12,569 --> 00:13:16,949
detection systems because Gardner said
is a dead technology is a large number

174
00:13:16,949 --> 00:13:20,160
of people that basically stopped
implementing the technology because some

175
00:13:20,160 --> 00:13:24,660
stupid report said that they should stop
implementing that technology and we've

176
00:13:24,660 --> 00:13:29,999
seen that again i also believe that
internal is a mess if i go through the

177
00:13:29,999 --> 00:13:33,839
reports once we get access to a system
is a very short period of time in most

178
00:13:33,839 --> 00:13:37,470
networks not all networks will get to
that here in a second that once we are

179
00:13:37,470 --> 00:13:41,519
in the inside of the network it is a
matter of hours and with bloodhound and

180
00:13:41,519 --> 00:13:44,759
some of the other tools is a matter of
minutes once bloodhound finishes running

181
00:13:44,759 --> 00:13:50,160
through you to get domain administrator
it's very very quick in fact i'm now

182
00:13:50,160 --> 00:13:52,949
coming to the conclusion that active
directory is merely a means for pen

183
00:13:52,949 --> 00:13:57,569
testers to make our lives easy if we
look at powershell there's a lot of

184
00:13:57,569 --> 00:14:03,059
security tools that alert on any
execution of PowerShell let that sink in

185
00:14:03,059 --> 00:14:10,589
for a second is powershell that heavily
used by the pen testing and exploitation

186
00:14:10,589 --> 00:14:14,399
community and not used by systems
administrators how many guys use

187
00:14:14,399 --> 00:14:18,300
PowerShell is part of your systems
administration every single day and we

188
00:14:18,300 --> 00:14:21,599
have people that are literally creating
signatures that as soon as powershell

189
00:14:21,600 --> 00:14:24,839
execute we immediately flag it as
malicious and then try to stop

190
00:14:25,470 --> 00:14:29,610
so what does that mean that means that

191
00:14:30,290 --> 00:14:34,910
attackers and penetration testers have
successfully exhale traded and large

192
00:14:34,910 --> 00:14:41,719
number of gray areas identifying areas
that are used by systems administrators

193
00:14:41,720 --> 00:14:47,149
use legitimately and then taking over
those various gray areas and then using

194
00:14:47,149 --> 00:14:50,810
those to take over the rest of the
network and it's getting to the point

195
00:14:50,810 --> 00:14:54,500
where security vendors many times
they're only way to stop this at least

196
00:14:54,500 --> 00:14:59,149
they think is to simply block and
stopped an alert on all powershell

197
00:14:59,149 --> 00:15:00,110
execution

198
00:15:00,110 --> 00:15:04,430
that's a horrifying development and
computer security in fact we have some

199
00:15:04,430 --> 00:15:08,810
customers that have no active directory
at all their customers where they run

200
00:15:08,810 --> 00:15:12,319
mac they may be run linux and they're
very proud of that fact and you would

201
00:15:12,319 --> 00:15:15,860
think with traditional wisdom and
information security that those networks

202
00:15:15,860 --> 00:15:19,790
will be far easier networks to break
into and yes you can get access to a

203
00:15:19,790 --> 00:15:25,250
single system but their very lack of
design they are segmented and

204
00:15:25,250 --> 00:15:28,850
compartmentalize and they actually have
defense in depth to the point where you

205
00:15:28,850 --> 00:15:30,500
exploit a single system

206
00:15:30,500 --> 00:15:35,569
you cannot pass the hash you cannot your
own many cats you cannot run a number of

207
00:15:35,569 --> 00:15:39,079
the tools if it's like linux and mac
environments like responsible to

208
00:15:39,079 --> 00:15:42,019
basically steal credentials and pivot
around the inside of the environment

209
00:15:42,019 --> 00:15:45,949
because all that connective tissue that
holds your environment together an

210
00:15:45,949 --> 00:15:49,370
active directory is gone now please
don't take this to mean that we should

211
00:15:49,370 --> 00:15:53,240
immediately stop using Active Directory
but i think that we need to wake up and

212
00:15:53,240 --> 00:15:57,139
realize the way it's actually being
abused today is making things very very

213
00:15:57,139 --> 00:16:02,630
easy for attackers further being the
fact that it's extremely easier for

214
00:16:02,630 --> 00:16:06,860
attackers to pivot post exploitation to
fix it

215
00:16:06,860 --> 00:16:11,569
it is an incredible problem think about
this is a defender right if I go to an

216
00:16:11,569 --> 00:16:15,709
organization that has 70,000 100,000
nodes and they have Active Directory

217
00:16:15,709 --> 00:16:21,138
infrastructure that has been upgraded
since 2000 or 1999 and we tell them you

218
00:16:21,139 --> 00:16:23,779
got to implement all these different
group policies you got to implement the

219
00:16:23,779 --> 00:16:30,230
segmentation you're basically working
against 10 15 20 years of infrastructure

220
00:16:30,230 --> 00:16:36,230
in some situations that just cannot be
undone and that becomes a bigger problem

221
00:16:36,230 --> 00:16:42,170
i use this analogy quite a bit in your
organization today if you look at all

222
00:16:42,170 --> 00:16:43,459
the technology that is deep

223
00:16:43,459 --> 00:16:47,719
loiter desktop all the technology is
employed in your personal build for your

224
00:16:47,720 --> 00:16:50,029
workstations in your laptop computers

225
00:16:50,029 --> 00:16:53,029
there's a tremendous amount of bloatware
and software that's installed by default

226
00:16:53,839 --> 00:16:56,660
same thing goes for the server-side
applications and the applications that

227
00:16:56,660 --> 00:17:00,439
are used by organizations these things
do not go away they continue to

228
00:17:00,439 --> 00:17:05,240
perpetrate and kind of live on forever
and we don't clean these things out as

229
00:17:05,240 --> 00:17:07,339
much as we absolutely should

230
00:17:07,339 --> 00:17:12,230
but all that being said there are some
really really beautiful glimmers of Hope

231
00:17:12,230 --> 00:17:18,829
user behavioral analytics is a great
step in the right direction is it to

232
00:17:18,829 --> 00:17:20,990
cook the Silver Bullet we've been
looking for

233
00:17:20,990 --> 00:17:26,000
no but it's a hell of a lot better than
sins i said this last year and I'll say

234
00:17:26,000 --> 00:17:26,898
it again

235
00:17:26,898 --> 00:17:32,539
Sims do not work and ultimately there's
somebody in here that's really into

236
00:17:32,539 --> 00:17:40,789
splunk and they're like but I look bison
I'll of regular expressions it works for

237
00:17:40,789 --> 00:17:41,600
me

238
00:17:41,600 --> 00:17:47,270
you are the one percent the vast
majority of organizations that we test

239
00:17:47,270 --> 00:17:53,539
their sins pull up squat so yes it may
work for you and maybe one of those

240
00:17:53,539 --> 00:17:56,149
things we see if it works for me it
should work for everybody but you're a

241
00:17:56,149 --> 00:18:04,010
precious unique and wonderful snowflake
we do not see by and large sims

242
00:18:04,010 --> 00:18:07,549
detecting a large amount of lateral
movement if you look at a lot of the

243
00:18:07,549 --> 00:18:11,179
user behavioral analytics tools out
there exiting rapid7 user behavioral

244
00:18:11,179 --> 00:18:16,429
analytics microsoft advanced threat
analytics they to detect a large amount

245
00:18:16,429 --> 00:18:17,450
of lateral movement

246
00:18:17,450 --> 00:18:22,850
here's where it gets interesting many of
these tools are tuned in such a way to

247
00:18:22,850 --> 00:18:29,750
detect penetration testers not attackers
look let me clarify whenever you're

248
00:18:29,750 --> 00:18:34,190
doing a penetration test how long do you
have generally to do an internal

249
00:18:34,190 --> 00:18:40,700
penetration test one week so you do fast
things right like you're going to use

250
00:18:40,700 --> 00:18:45,350
PowerShell Empire to identify files from
use a bloodhound to identify different

251
00:18:45,350 --> 00:18:48,590
systems that have local administrator
rights granted to the domain users group

252
00:18:48,590 --> 00:18:52,820
you're gonna move fast because you don't
have enough time

253
00:18:53,389 --> 00:18:56,988
today we have the dhis team the biggest
bitching complained that they have for

254
00:18:56,989 --> 00:19:01,399
me is we don't have enough time for
tests and they're right they are but

255
00:19:01,399 --> 00:19:04,789
organizations that we test will not
allow us to say hey can we sit on your

256
00:19:04,789 --> 00:19:09,200
network for six months will give you a
report at the end if you're an attacker

257
00:19:09,200 --> 00:19:13,879
and you run low enough and you run slow
enough you can run underneath the radar

258
00:19:13,879 --> 00:19:19,579
of every single one of these tools so
keep asking yourself are you effective

259
00:19:19,579 --> 00:19:23,029
at detecting a penetration tester are
you effective at detecting an attacker

260
00:19:23,029 --> 00:19:29,479
know the difference understand attackers
will absolutely sit on your network for

261
00:19:29,479 --> 00:19:33,829
months and run extremely slow to get the
data that are actually looking for as

262
00:19:33,829 --> 00:19:36,889
well advanced malware protection

263
00:19:36,889 --> 00:19:44,449
this is a bit of a mixed bag right um we
did a presentation earlier this year

264
00:19:44,450 --> 00:19:48,529
actually at night did a presentation and
we were talking about bypassing advanced

265
00:19:48,529 --> 00:19:52,820
security suites application whitelisting
bypassing tools like silence and we

266
00:19:52,820 --> 00:19:55,879
actually like a large number of these
different tools and it's amazing i want

267
00:19:55,879 --> 00:19:59,958
to talk about bypassing some of these
tools how defensive many of these

268
00:19:59,959 --> 00:20:05,269
authors can be the people that write
these tools they tend to say it could

269
00:20:05,269 --> 00:20:07,940
actually do that we did that our lab it
doesn't work there are very few

270
00:20:07,940 --> 00:20:11,179
organizations where you find a
vulnerability they fix it less than 24

271
00:20:11,179 --> 00:20:11,869
hours

272
00:20:11,869 --> 00:20:17,119
very very few will stand up admit they
have a mistake or a problem and then try

273
00:20:17,119 --> 00:20:20,208
to fix it but it's a step in the right
direction

274
00:20:21,619 --> 00:20:23,899
it's absolutely step in the right
direction i'll talk more about that in

275
00:20:23,899 --> 00:20:27,889
another slide it's good there's still
problems but it's good we're seeing

276
00:20:27,889 --> 00:20:32,299
people kind of growth we're seeing a
large amount of people that have

277
00:20:32,299 --> 00:20:36,559
resistance to the right things we get
quotes all the time we want a full

278
00:20:36,559 --> 00:20:42,619
penetration test of 10,000 nodes and one
week 47 thousand dollars you know what I

279
00:20:42,619 --> 00:20:46,279
can absolutely run a scan convert it
into a word document and send it to you

280
00:20:48,529 --> 00:20:53,029
funny thing about that so we got a
customer that we're testing Lawrence is

281
00:20:53,029 --> 00:20:54,589
gonna be like oh god them

282
00:20:54,589 --> 00:20:56,260
um

283
00:20:56,260 --> 00:21:03,730
very rarely do we fire a customer but
this one we had to fire so there are

284
00:21:03,730 --> 00:21:07,840
their infrastructure they said they had
400 notes and they want us to do

285
00:21:07,840 --> 00:21:10,510
vulnerability analysis and give them
some recommendations for their

286
00:21:10,510 --> 00:21:15,040
architecture and all that standard stuff
so Lauren started scanning the

287
00:21:15,040 --> 00:21:18,790
environment and it came back with two
thousand notes wasn't was it a thousand

288
00:21:18,790 --> 00:21:25,210
i think was 25 thousand I was way off
5,000 nodes and we went to the customer

289
00:21:25,210 --> 00:21:29,830
we said from the scope creep perspective
this is a lot more nodes then then then

290
00:21:29,830 --> 00:21:33,250
we thought and they said well just fine
like the top ten that you think are

291
00:21:33,250 --> 00:21:39,550
exploitable and then try to exploit
those systems and these were RC 1989b

292
00:21:39,550 --> 00:21:43,389
addresses these were internal IP
addresses okay so on the inside of the

293
00:21:43,390 --> 00:21:47,080
network and there they are that they're
like confused like I don't know where

294
00:21:47,080 --> 00:21:49,449
all those notes come from but you know
what they were a little bit clueless

295
00:21:49,450 --> 00:21:53,530
through everything anyway but usually if
you think you have 400 systems and you

296
00:21:53,530 --> 00:21:55,780
actually have 5,000 systems

297
00:21:55,780 --> 00:22:03,730
you at least got to wake up one morning
and be like do i suck at my job

298
00:22:08,500 --> 00:22:16,900
so so oh one more thing we sent a server
to them and we told them we gave him

299
00:22:16,900 --> 00:22:19,780
directions on how to setup the scanning
server and the directions were this

300
00:22:19,780 --> 00:22:24,490
plug-in give it an ethernet port with
dhcp login with this user ID and

301
00:22:24,490 --> 00:22:29,260
password click this little icon at the
top and give us the IP address i said

302
00:22:29,260 --> 00:22:41,050
okay look we need better directions in
that so we send him more detailed

303
00:22:41,050 --> 00:22:44,649
instructions with pictures and they said
this isn't good enough

304
00:22:45,490 --> 00:22:49,090
Lawrence was setting in an email mike
lawrence try putting it in a word doc

305
00:22:49,090 --> 00:22:52,090
senator we're talking like this is
perfect thank you

306
00:22:52,690 --> 00:23:01,930
they came back wish it could make this
up they came back and they sent it for

307
00:23:01,930 --> 00:23:05,380
this as email they said the server is up
and running here is the IP address and

308
00:23:05,380 --> 00:23:08,350
the email thread there's all kinds of
emails from their network team about how

309
00:23:08,350 --> 00:23:11,139
stupid we were black holes information
security like those instructions were

310
00:23:11,140 --> 00:23:13,510
really awful i have no idea what they're
talking about

311
00:23:13,510 --> 00:23:16,480
I've been a network engineer for 15
years and these guys are quite possibly

312
00:23:16,480 --> 00:23:21,400
the dumbest firm I've ever met on the
incompetents is rampant at Black Hills

313
00:23:21,400 --> 00:23:25,540
information security at the top of the
email it set the IP address of the

314
00:23:25,540 --> 00:23:28,540
server is 127 . 00 not one

315
00:23:32,130 --> 00:23:43,590
so we scanned these systems and we sat
down with them and we said look um do

316
00:23:43,590 --> 00:23:52,740
you have servers and Finland like no
it's it's on your network they had an

317
00:23:52,740 --> 00:24:00,300
ISP and their isp put them on a flat
network with all of the rest of their

318
00:24:00,300 --> 00:24:10,470
customers around the world so we're like
okay we're done here home they said to

319
00:24:10,470 --> 00:24:12,030
us quo

320
00:24:12,030 --> 00:24:19,020
can you just exploit the systems and
tell us which ones are ours so

321
00:24:22,070 --> 00:24:28,970
another thing is we want you to hack us
like a real hacker want you to use real

322
00:24:28,970 --> 00:24:36,050
black hat techniques by the way here's a
99 restrictions don't do these things we

323
00:24:36,050 --> 00:24:40,340
want you to finish our environment but
you can't fish these 99 managers don't

324
00:24:40,340 --> 00:24:44,570
fish the CFO co-ceo their feelings will
get hurt

325
00:24:45,290 --> 00:24:49,790
we've had tests were in the middle of
the test the CEO got phished you

326
00:24:49,790 --> 00:24:53,600
remember whatever they were asking for
our CFO got fish and like there was

327
00:24:53,600 --> 00:24:56,780
things were like immediately transfer
funds to this account so i can make this

328
00:24:56,780 --> 00:24:57,530
happen

329
00:24:57,530 --> 00:25:02,210
thatthat's it's just human stupidity
we've had tests were fishing they

330
00:25:02,210 --> 00:25:09,500
contact us and like this you just wanna
be like yes that was us but no and then

331
00:25:09,500 --> 00:25:11,660
once we say it's not us

332
00:25:11,660 --> 00:25:14,930
they'll come back to us and say what we
told you not to do this and it's like

333
00:25:14,930 --> 00:25:20,450
wait a minute no we did this they did
that the Venn diagram does not touch

334
00:25:20,450 --> 00:25:29,390
their complete we want but we we had one
pentest uh is brian in here this is last

335
00:25:29,390 --> 00:25:33,470
year I don't know Brian Furman's in here
you don't think he made he's not feeling

336
00:25:33,470 --> 00:25:37,100
well he had a test we destroyed an
organization beautiful penetration test

337
00:25:37,100 --> 00:25:41,719
well done great report the CFO looked at
the report and said there's nowhere in

338
00:25:41,720 --> 00:25:46,970
this report that says that you have to
our firewall I think you need to go back

339
00:25:46,970 --> 00:25:48,710
and and try harder

340
00:25:48,710 --> 00:25:52,670
like what well on TV we see firewalls
get hacked

341
00:25:52,670 --> 00:25:55,670
oh alright

342
00:25:57,230 --> 00:26:02,000
so there's a learning . for this okay

343
00:26:02,780 --> 00:26:06,678
the learning . for this isn't that while
people are stupid the learning . for

344
00:26:06,679 --> 00:26:14,450
this is there is a tremendous huge raft
of information technology refugees that

345
00:26:14,450 --> 00:26:18,440
are just now making it to the shore and
waking up and realizing that they

346
00:26:18,440 --> 00:26:24,020
actually have to have tested up for the
first time they're freaking said you

347
00:26:24,020 --> 00:26:27,440
conceived notions are all wrong they
have no idea what things look like they

348
00:26:27,440 --> 00:26:28,970
don't know what to expect

349
00:26:28,970 --> 00:26:33,890
they've learned everything they know
from CSI about hacking and it's up to us

350
00:26:33,890 --> 00:26:39,169
to train them and be gentle with them
you don't laugh at though unless they

351
00:26:39,169 --> 00:26:42,320
ask you to do illegal things like hack
servers in Hong Kong because they just

352
00:26:42,320 --> 00:26:47,240
want to find out what would happen we
need to educate our customers as much as

353
00:26:47,240 --> 00:26:51,710
possible because that is a trend we're
seeing more and more organizations that

354
00:26:51,710 --> 00:26:55,130
have no idea what security is beyond
patching they have no idea what

355
00:26:55,130 --> 00:26:59,090
penetration testing is beyond what they
see in Hollywood and it's up to us to

356
00:26:59,090 --> 00:27:03,139
educate them the people in this room
doing such a way that's not a joke joke

357
00:27:03,140 --> 00:27:07,790
a joke on them i know i'm doing it here
at Derby con i understand that i like to

358
00:27:07,790 --> 00:27:11,090
think this is kind of a friendly place i
know this is going online but at the

359
00:27:11,090 --> 00:27:14,510
same time we need to be willing and open
to explain things because a lot of these

360
00:27:14,510 --> 00:27:18,830
questions that they're asking our bread
of egg yolk of egg ignorance and we can

361
00:27:18,830 --> 00:27:20,990
help educate make things better

362
00:27:20,990 --> 00:27:23,990
oh we do also thanks

363
00:27:26,600 --> 00:27:34,250
speaking of crazy customers we eighty
percent of what we do at ph is is repeat

364
00:27:34,250 --> 00:27:35,809
work from before

365
00:27:35,809 --> 00:27:39,649
um and that's something out of all the
things that we do that's one of the

366
00:27:39,650 --> 00:27:43,100
things that makes me the provost and we
have customers that truly get it

367
00:27:43,669 --> 00:27:47,120
um we have customers that it setup
environments for us that we can go and

368
00:27:47,120 --> 00:27:51,530
we can test it anytime that we want and
it is beautiful and they want to do

369
00:27:51,530 --> 00:27:53,178
better right

370
00:27:53,179 --> 00:27:57,799
um but sometimes they send me emails
that are just the most hilarious thing

371
00:27:57,799 --> 00:27:59,210
I've ever seen

372
00:27:59,210 --> 00:28:04,070
without a doubt the craziest coolest
email I got from a customer repeat

373
00:28:04,070 --> 00:28:08,658
customer is this one it says pretext for
this test target to destroy the damage

374
00:28:08,659 --> 00:28:11,330
credibility of blue team's globally
reduce the security budget of all

375
00:28:11,330 --> 00:28:14,750
industries everywhere to create an a
contagious sense of hopelessness within

376
00:28:14,750 --> 00:28:18,230
the infosec community the greatest trick
the devil port is to convince the world

377
00:28:18,230 --> 00:28:19,549
he did not exist

378
00:28:19,549 --> 00:28:23,030
this is just another attack in a
long-running campaign by the same

379
00:28:23,030 --> 00:28:25,190
attackers a group called black hat
smarter

380
00:28:25,190 --> 00:28:30,650
that's us right has learned over the
last six months redacted they have

381
00:28:30,650 --> 00:28:34,039
decided that the only attack left open
is total network domination to be

382
00:28:34,039 --> 00:28:37,820
achieved by only targeting the security
team and visibility of devices

383
00:28:37,820 --> 00:28:41,450
themselves attacking the security
devices they have identified the Machine

384
00:28:41,450 --> 00:28:47,419
of an angry millennial developer who's
visited two minutes security posture

385
00:28:47,419 --> 00:28:50,990
because he's bossing instructed me that
his productivity was being reduced by

386
00:28:50,990 --> 00:28:55,190
traditional security i convince the
developer to at least run without admin

387
00:28:55,190 --> 00:28:59,780
to allow productive to be installed due
to its low CPU and memory footprint

388
00:28:59,780 --> 00:29:03,918
blonde has identified a previously
remediated attacked as developers logged

389
00:29:03,919 --> 00:29:09,320
into a test server with a hybrid
privilege blank credentials scan has

390
00:29:09,320 --> 00:29:13,760
also been logged into black hats matter
as hypothesized that all detective tools

391
00:29:13,760 --> 00:29:17,929
have white list of the scanner and it
spreads the attackers believe that by

392
00:29:17,929 --> 00:29:22,010
attacking the scanner itself no alerts
will be raised the next step is to use

393
00:29:22,010 --> 00:29:25,730
the scanner to a plat mallar into the
blank server on patch tuesday

394
00:29:26,299 --> 00:29:30,049
only in this way when our become part of
the blank baselines recon and data

395
00:29:30,049 --> 00:29:33,590
exfiltration will be accomplished during
the network scans to hide anomalous

396
00:29:33,590 --> 00:29:34,658
windows traffic

397
00:29:34,659 --> 00:29:37,659
I love this email because it's insane

398
00:29:39,639 --> 00:29:45,309
I wish every customer was like this you
know and we test and we work with this

399
00:29:45,309 --> 00:29:48,519
customer regularly and it's it's gotten
to the point where it's like we want to

400
00:29:48,519 --> 00:29:51,609
try acts and he's like yeah that's
that's pretty insane

401
00:29:51,609 --> 00:29:56,379
let's do it it's like awesome but we
need to be kind of forward tilting and

402
00:29:56,379 --> 00:29:59,439
kind of the goal of this email and
everything that's being talked about in

403
00:29:59,440 --> 00:30:03,399
this email is attacking security tools
themselves

404
00:30:04,629 --> 00:30:12,908
we need to start attacking security
tools i cannot stress how horribly

405
00:30:12,909 --> 00:30:16,419
written many of these security tools
especially these tools that have

406
00:30:16,419 --> 00:30:21,309
multi-million dollar marketing budgets
that you see absolutely everywhere are

407
00:30:21,309 --> 00:30:26,830
horrible dumpster fires let's start
attacking them

408
00:30:26,830 --> 00:30:34,299
ok alright so heavy sku we have a
tremendous huge sku in the industry from

409
00:30:34,299 --> 00:30:38,889
what real attacks are doing if you look
at it a little bit closer you'll see it

410
00:30:38,889 --> 00:30:45,369
we see a lot of water down testing
that's coming up and this is within the

411
00:30:45,369 --> 00:30:52,418
last 12 months once again it's that raft
of refugees in this group of customers

412
00:30:52,419 --> 00:30:55,450
they scare me but they're harder to work
with

413
00:30:56,019 --> 00:31:02,080
we have a number of customers and
potential customers that have came to us

414
00:31:02,080 --> 00:31:06,428
not because they want to learn about
security vulnerabilities but because

415
00:31:06,429 --> 00:31:09,429
they want us to make them look good

416
00:31:10,179 --> 00:31:15,369
this has always been a fight right it's
always been a fight where you give

417
00:31:15,369 --> 00:31:18,580
somebody a critical rating and they come
back they're like final think we're

418
00:31:18,580 --> 00:31:19,899
critical

419
00:31:19,899 --> 00:31:24,129
I mean isn't everyone running windows
2000 at the edge of their network mean

420
00:31:24,129 --> 00:31:26,259
come on it's gonna be used all the time
right

421
00:31:26,259 --> 00:31:28,899
no no it's not

422
00:31:28,899 --> 00:31:37,689
so we have had an uptick in this year
we've had about four tests where the

423
00:31:37,690 --> 00:31:42,099
companies and organizations that were
testing management or the people that

424
00:31:42,099 --> 00:31:45,609
were working within the test will come
right out and they will insult testers

425
00:31:45,609 --> 00:31:48,158
like there was one I don't know where
Derek said I saw him come in through a

426
00:31:48,159 --> 00:31:49,570
box at him earlier

427
00:31:49,570 --> 00:31:54,070
um oh there is derek was on a test and
went out to dinner with the company

428
00:31:54,070 --> 00:31:58,239
before we actually got started and the
manager was outright just insulting my

429
00:31:58,239 --> 00:32:01,629
god this guy's not getting anywhere he's
not going to achieve anything whenever

430
00:32:01,629 --> 00:32:04,718
derrick finally took over the entire
organization i went into his office and

431
00:32:04,719 --> 00:32:10,299
started throwing chairs around and you
don't get too proud of ok so i was proud

432
00:32:10,299 --> 00:32:17,469
of Derek I was like body but his concern
was that the penetration testing report

433
00:32:17,469 --> 00:32:24,639
would reflect poorly on him and his job
we can't allow that to happen

434
00:32:25,299 --> 00:32:31,089
okay we can't allow that to happen a lot
of our reports we have the same

435
00:32:31,089 --> 00:32:34,839
vulnerabilities that we identify the
same weaknesses that we identify and we

436
00:32:34,839 --> 00:32:37,479
go out of our way to try to explain that
these vulnerabilities and weaknesses

437
00:32:37,479 --> 00:32:40,599
that we see in your organization also
the same weaknesses and vulnerabilities

438
00:32:40,599 --> 00:32:44,619
that we see across multiple
organizations and is a systemic weakness

439
00:32:44,619 --> 00:32:47,259
in our information security architecture
in the way that they're being designed

440
00:32:47,259 --> 00:32:48,460
and built today

441
00:32:48,460 --> 00:32:54,279
give your direct customers a way out as
a penetration tester has a human being

442
00:32:54,279 --> 00:32:57,609
you've got to help out your other
systems administrators and network

443
00:32:57,609 --> 00:33:01,478
administrators and security
administrators that you do work for so

444
00:33:01,479 --> 00:33:06,700
help them out as much as you possibly
can but I will warn you there are a

445
00:33:06,700 --> 00:33:09,669
large number of the quote-unquote
refugees that are coming into the world

446
00:33:09,669 --> 00:33:12,940
of penetration testing and security
assessments that do not care about

447
00:33:12,940 --> 00:33:15,009
computer security one bit

448
00:33:15,009 --> 00:33:20,440
the only thing that they care about is
looking good to their CEO CFO and CTO so

449
00:33:20,440 --> 00:33:24,669
here's a trick for dealing with them
number one don't fight them

450
00:33:24,669 --> 00:33:29,830
I i try to stress as much as possible
quickest way to lose an argument is by

451
00:33:29,830 --> 00:33:34,899
arguing so what you can do and some
people would disagree with me on this

452
00:33:34,899 --> 00:33:36,080
and that's great and

453
00:33:36,080 --> 00:33:42,379
I don't mind that send them the first
report and then offer to come into a

454
00:33:42,380 --> 00:33:45,260
retest after they fix those
vulnerabilities to give them a better

455
00:33:45,260 --> 00:33:48,440
report to things that are nice about
this

456
00:33:48,440 --> 00:33:51,919
the first thing that's nice as they get
a nice report at the end that they can

457
00:33:51,919 --> 00:33:57,169
actually show management the other thing
that's nice for you is you can sleep

458
00:33:57,169 --> 00:34:00,590
well at night knowing that you at least
forced an organization to take some

459
00:34:00,590 --> 00:34:06,649
level of action and sometimes that's all
we ask for right is to see some level of

460
00:34:06,649 --> 00:34:11,509
improvement in an organization so you we
get that so everybody wins we don't have

461
00:34:11,510 --> 00:34:15,859
to beat people's heads in with the types
of vulnerabilities and findings that we

462
00:34:15,859 --> 00:34:18,619
think that they should be trying to deal
with and if they don't listen to us we

463
00:34:18,619 --> 00:34:23,450
stopped off in the sunset and a lot of
this ultimately whenever I'm talking

464
00:34:23,449 --> 00:34:28,250
about these problems can be solved by
having clear delineation between what we

465
00:34:28,250 --> 00:34:35,869
do whenever we do a penetration test so
let me use an example right so fishing

466
00:34:35,869 --> 00:34:42,230
fishing can mean a hundred different
things to organizations right fishing if

467
00:34:42,230 --> 00:34:44,869
we're looking at RFPs we have our pieces
that come back and say they want to be

468
00:34:44,869 --> 00:34:49,909
pure black box penetration tests but
they want you to fish a thousand users

469
00:34:49,909 --> 00:34:55,849
now most anti-spam appliances today if
you hit it with a thousand emails they

470
00:34:55,849 --> 00:34:59,300
well trip doesn't matter what's in that
email just by the volume that's coming

471
00:34:59,300 --> 00:35:03,109
in they're gonna trip even if you try to
slow it down and spread it out over time

472
00:35:03,109 --> 00:35:07,460
it's going to trip just by the sheer
volume this is not how the bad guys do

473
00:35:07,460 --> 00:35:12,710
it the bad guys target your CEO cio CTO
your systems administrators your

474
00:35:12,710 --> 00:35:16,820
security administrators and they target
that person week what if they get in

475
00:35:16,820 --> 00:35:21,380
great then on week two they do a highly
targeted attack against another user and

476
00:35:21,380 --> 00:35:24,109
if that works great if they don't they
wait a little bit longer and they

477
00:35:24,109 --> 00:35:28,339
changed the ruse almost every single
time before they finally get something

478
00:35:28,339 --> 00:35:31,849
that's going to work so if you have the
scope item one of the things that works

479
00:35:31,849 --> 00:35:36,140
fairly well as if it's in the RFP that
they have to have to test a thousand

480
00:35:36,140 --> 00:35:40,069
emails what you can do is target five
users over the course of the test use

481
00:35:40,070 --> 00:35:45,230
highly targeted attacks and then simply
blast out the other 995 at the end this

482
00:35:45,230 --> 00:35:49,160
is kind of fun because what happens you
gain access you pivot you do what you

483
00:35:49,160 --> 00:35:49,640
need to

484
00:35:49,640 --> 00:35:53,240
you and then whenever you blast them
with the 995 they're like we caught you

485
00:35:53,240 --> 00:35:57,439
with you right there we got it is like
well did you catch the things the weeks

486
00:35:57,440 --> 00:35:59,869
before what

487
00:35:59,869 --> 00:36:02,750
so it's a way to kind of work around
those restrictions because a lot of

488
00:36:02,750 --> 00:36:06,170
those restrictions of those requirements
they put on may not be something that

489
00:36:06,170 --> 00:36:09,619
can remove whenever you talk to them
throughout the proposal process and

490
00:36:09,619 --> 00:36:12,829
ultimately what this boils down to using
fishing as an example is we need to take

491
00:36:12,829 --> 00:36:17,029
penetration testing and fracture and by
fracturing and we need to break into

492
00:36:17,029 --> 00:36:23,089
categories on this is something that
scotus had 564 since 2007 2008 time

493
00:36:23,089 --> 00:36:27,558
frame it needs to be fractured into
different areas and in fact we break

494
00:36:27,559 --> 00:36:30,500
these up into different proposals to
clearly delineate you have a

495
00:36:30,500 --> 00:36:34,760
vulnerability assessment we all know
what that is we have a penetration test

496
00:36:34,760 --> 00:36:37,700
which I'll talk about the year on the
next slide and then we have red teaming

497
00:36:37,700 --> 00:36:42,618
that we can do more advanced attacks
against an organization and only in this

498
00:36:42,619 --> 00:36:46,880
way can we get some level of clarity
whenever we're talking about providing a

499
00:36:46,880 --> 00:36:48,440
letter that test station

500
00:36:48,440 --> 00:36:52,220
I know what is a letter of attestation a
letter of attestation sites that we did

501
00:36:52,220 --> 00:36:55,368
a penetration test your organization was
relatively clean your operating with a

502
00:36:55,369 --> 00:36:59,059
safe level computer security but it's
hard to do that when it completely

503
00:36:59,059 --> 00:37:03,079
restrict you if you can define it
properly as a vulnerability test as a

504
00:37:03,079 --> 00:37:07,220
penetration test or a red team then your
letter of a test station has better

505
00:37:07,220 --> 00:37:11,569
meaning so a penetration test the
vulnerability assessment these would be

506
00:37:11,569 --> 00:37:15,019
in the category of more comprehensive
you're working with the organization

507
00:37:15,019 --> 00:37:19,308
it's a white box penetration test they
know where you're coming from

508
00:37:19,309 --> 00:37:23,269
they're creating filters and their email
to allow these things to go through it

509
00:37:23,269 --> 00:37:27,919
is more comprehensive allows for good
scanning and automation and the reports

510
00:37:27,920 --> 00:37:32,150
tend to be a lot bigger now if you have
a customer or you're an organization

511
00:37:32,150 --> 00:37:34,099
you've done this for years

512
00:37:34,099 --> 00:37:38,960
that's great that's awesome these are
valuable things i see a lot of

513
00:37:38,960 --> 00:37:42,529
penetration testers say this is stupid
don't do this you should do this if

514
00:37:42,529 --> 00:37:48,710
you've never done them before without
question but if you have done them then

515
00:37:48,710 --> 00:37:53,599
you should be moving on to a red team
and be clear with a red team does were

516
00:37:53,599 --> 00:37:56,960
reserving this for more advanced
customers customers who have already

517
00:37:56,960 --> 00:38:00,079
done the regular scanning it's a
fundamentally different approach to the

518
00:38:00,079 --> 00:38:03,350
standard penetration test and scan
involves cust

519
00:38:03,350 --> 00:38:06,350
malware and more fluid social
engineering attacks as well

520
00:38:06,890 --> 00:38:11,839
it also allows us to do threat model and
in threat modeling it allows us to look

521
00:38:11,840 --> 00:38:15,680
at what the bad guys are doing in a
specific industry and match their

522
00:38:15,680 --> 00:38:21,859
tactics this takes a lot longer but
being able to do that is a very powerful

523
00:38:21,860 --> 00:38:25,760
tool in your arsenal and this is also
one of the only places where I see

524
00:38:25,760 --> 00:38:29,900
threat intelligence fields feeds and
write-ups on different types of attacks

525
00:38:29,900 --> 00:38:34,400
that have value because it allows us to
model our attacks and it's really cool

526
00:38:34,400 --> 00:38:38,450
if you can say well you know the type of
attack that we're using here is actually

527
00:38:38,450 --> 00:38:43,790
the same attack that's being used by apt
62 dash for be people like one of the

528
00:38:43,790 --> 00:38:51,920
guys really smart he's got dashes and
his descriptions of advanced endpoint

529
00:38:51,920 --> 00:38:56,330
security we're seeing vision if you guys
haven't checked out vision check out

530
00:38:56,330 --> 00:39:01,850
vision it is the only endpoint security
tool that i know of today that actually

531
00:39:01,850 --> 00:39:07,339
has active defense and cyber deception
built into it is really really very very

532
00:39:07,340 --> 00:39:11,690
cool you have things like silence and
bit9 and CrowdStrike and all of these

533
00:39:11,690 --> 00:39:14,330
and I don't want to go into details on
any of them because we're going to save

534
00:39:14,330 --> 00:39:18,440
that for sacred cash cow tipping a
little bit later on this year but most

535
00:39:18,440 --> 00:39:22,910
of these tools are absolute disastrous
train wrecks their marketing is

536
00:39:22,910 --> 00:39:26,299
fantastic and the tools are beautiful
but whatever actually testing these

537
00:39:26,300 --> 00:39:30,890
tools they have tremendous issues
whitelisting is part of being a tester

538
00:39:30,890 --> 00:39:36,230
is a thing we need to get used to it as
well and a lot of smaller organizations

539
00:39:36,230 --> 00:39:39,470
are the ones that we're seeing
implementing these tools effectively in

540
00:39:39,470 --> 00:39:42,529
these organizations as well and yet
please don't purchase any of your

541
00:39:42,530 --> 00:39:48,080
purchasing decisions on enough how much
money and how many banners they have in

542
00:39:48,080 --> 00:39:50,700
airports around the country

543
00:39:50,700 --> 00:39:53,700
some other fun things customers watching
us

544
00:39:54,359 --> 00:39:58,500
this is from a test that Sally did she
noticed that everything she tried it

545
00:39:58,500 --> 00:40:01,440
would work for a second and then it
would go away and then it wouldn't work

546
00:40:01,440 --> 00:40:05,369
again she ran about 2-3 days testing
things it was working and then all the

547
00:40:05,369 --> 00:40:09,930
sudden things would disappear so she
popped up notepad and typed in ICU guys

548
00:40:09,930 --> 00:40:14,848
are messing me messing with me and then
the cursor took over and said I don't

549
00:40:14,849 --> 00:40:20,160
know what you mean you've been having
fun all day that's cool because it's

550
00:40:20,160 --> 00:40:24,118
forcing me to learn new tricks sally was
trying to be positive when she wanted to

551
00:40:24,119 --> 00:40:27,359
kill them and then the person said I'll
get out of your way i did apply the

552
00:40:27,359 --> 00:40:30,480
updated policy to make a lot more
consistent with the field more import

553
00:40:30,480 --> 00:40:33,810
for me and there's more but she took
power show away from me

554
00:40:33,810 --> 00:40:37,230
um if you can find a way to elevate your
privileges that will give it back to you

555
00:40:37,230 --> 00:40:44,460
again this isn't a pen test this is a
freaking reoccurring nightmare of mine

556
00:40:45,750 --> 00:40:48,750
good job that's gone right

557
00:40:49,380 --> 00:40:53,430
the lesson is we better get good at
bypassing more advanced in . sweets and

558
00:40:53,430 --> 00:40:57,240
odd customers they're going to become
more commonplace and we're going to see

559
00:40:57,240 --> 00:41:01,680
kind of a breakdown and good security
implemented and organizations and poor

560
00:41:01,680 --> 00:41:05,730
security it's going to become more
dramatic so hard stuff time to jump into

561
00:41:05,730 --> 00:41:08,190
a debugger code reviews are usually a
nightmare

562
00:41:08,190 --> 00:41:12,420
I'm still amazed that we do code reviews
and we find gets usually when we see

563
00:41:12,420 --> 00:41:16,619
gets in a code review and doesn't allow
for any filtering of input size for

564
00:41:16,619 --> 00:41:18,780
buffer were just like okay we're done

565
00:41:18,780 --> 00:41:23,280
um kill with fire start over from
scratch it's a just a good way to

566
00:41:23,280 --> 00:41:27,540
approach it but there's never enough
time to go through these things i want

567
00:41:27,540 --> 00:41:31,020
to show you some quick weird freaky
things that we're starting to find

568
00:41:31,020 --> 00:41:34,380
vulnerabilities and on this is from a
webcast we did this is a vulnerability

569
00:41:34,380 --> 00:41:38,520
that we discovered in fat pipe it was
disclosed to the vendor to vendor didn't

570
00:41:38,520 --> 00:41:42,119
do anything for 23 months and then we
did a webcast were disclosed it to the

571
00:41:42,119 --> 00:41:46,890
vendor again publicly and it was fixed
within 24 hours how these things tend to

572
00:41:46,890 --> 00:41:52,200
work and the big problem is right here
if you look you can see where it says to

573
00:41:52,200 --> 00:41:56,399
fish algorithm and the key the VPN used
a static kee

574
00:41:56,920 --> 00:42:03,910
for every installation job was able to
decompile it and by the way i want to

575
00:42:03,910 --> 00:42:06,549
reiterate this company was awesome

576
00:42:06,550 --> 00:42:10,390
after they saw the webcast because they
threatened not to sue us which is cool i

577
00:42:10,390 --> 00:42:13,150
love whenever you're talking to somebody
like we're totally not gonna sue you

578
00:42:13,150 --> 00:42:16,390
don't worry about that okay thanks

579
00:42:17,650 --> 00:42:20,680
we're not gonna sue you at all

580
00:42:20,680 --> 00:42:28,240
sleep well oh alright and kind of gets
into electronic code book mode and you

581
00:42:28,240 --> 00:42:32,109
can take that key and you can put in
cipher text and then you can basically

582
00:42:32,110 --> 00:42:36,100
crack all the traffic going back and
forth between the VPN and this is the

583
00:42:36,100 --> 00:42:39,730
output of jobs tool jobs right over
their jobs going to talk about java

584
00:42:39,730 --> 00:42:44,350
deserialization attacks because he likes
doing things at ph is that are really

585
00:42:44,350 --> 00:42:45,580
freaking hard

586
00:42:45,580 --> 00:42:50,170
um but this is kind of fun right this
isn't scan and exploit this is actually

587
00:42:50,170 --> 00:42:54,610
decompiling java and then looking for
vulnerabilities within that job so

588
00:42:54,610 --> 00:43:00,700
password spring um bow is going to talk
about some more interesting mail attack

589
00:43:00,700 --> 00:43:04,779
tomorrow i'll talk about that here in a
second but you can password spray and

590
00:43:04,780 --> 00:43:08,440
outlook web access portal and find
passwords now that doesn't sound that

591
00:43:08,440 --> 00:43:12,100
cool but you start with a list of
possible passwords and then you spray

592
00:43:12,100 --> 00:43:15,700
them and you look at the length of the
data that's received and if it's a

593
00:43:15,700 --> 00:43:19,450
certain size it means you successfully
got in if it's another size it means it

594
00:43:19,450 --> 00:43:20,770
wasn't successful

595
00:43:20,770 --> 00:43:26,410
oh by the way this also works whenever
two-factor authentication is enabled so

596
00:43:26,410 --> 00:43:30,850
you may not be able to login but you
know what their password is if you know

597
00:43:30,850 --> 00:43:34,089
somebody's passwords what are some easy
fun things that you can do from that

598
00:43:34,090 --> 00:43:35,020
point

599
00:43:35,020 --> 00:43:39,730
well a lot actually alright so the
lesson from this is exploits are not

600
00:43:39,730 --> 00:43:42,550
always going to be buffer and he
overflows right we need to look deeper

601
00:43:42,550 --> 00:43:47,230
into the logic of things so come to bo
Derek and jobs talks tomorrow we're

602
00:43:47,230 --> 00:43:48,940
going to give you guys something
wonderful

603
00:43:48,940 --> 00:43:51,610
okay and at the end of this presentation
I got something wonderful and three for

604
00:43:51,610 --> 00:43:55,930
you as well we love software-defined
radios anyone started to play with SDR

605
00:43:56,620 --> 00:44:01,089
cool it is fantastic i'm gonna give you
a resource here in just a second

606
00:44:01,090 --> 00:44:04,060
that'll kind of jumpstart you guys but
it can be frustrating especially

607
00:44:04,060 --> 00:44:08,920
whenever you're trying to create your
own flow graphs in gnu radio this unless

608
00:44:08,920 --> 00:44:12,400
you build it or have somebody that's
built one for you and you tweak it

609
00:44:12,400 --> 00:44:15,880
this can be an incredible pain in the
butt to set this up properly whenever

610
00:44:15,880 --> 00:44:19,150
you're trying to decode wireless signal
signals but some of the fun things you

611
00:44:19,150 --> 00:44:23,800
can do is you can actually intercept and
you can steal garage door openers

612
00:44:23,800 --> 00:44:28,990
someone pushes the button wait for them
to leave and then enter their house and

613
00:44:28,990 --> 00:44:32,319
I just know based on statistics i just
turned one of you into a much more

614
00:44:32,320 --> 00:44:39,580
effective stalker and converting it to
about binary can be very very difficult

615
00:44:39,580 --> 00:44:44,710
on but there's this wonderful website
called field XP . com please take a

616
00:44:44,710 --> 00:44:49,630
picture of that field xpcom has a bunch
of resources from the books field

617
00:44:49,630 --> 00:44:54,910
expedient linux vol 1 2 and 3 and all
the scripts and all the different labs

618
00:44:54,910 --> 00:44:57,700
and the exercises in the book are
available for free and you can pull down

619
00:44:57,700 --> 00:45:02,560
all the gnu flow graphs Virginia radio
flow graphs and start jump-starting your

620
00:45:02,560 --> 00:45:08,590
SD our research that you do including
the one that actually takes um ok and

621
00:45:08,590 --> 00:45:12,100
converts it into a binary file that you
can then playback it also has 14

622
00:45:12,100 --> 00:45:16,779
phase-shifting key as well also think
that you should be attacking hardware of

623
00:45:16,780 --> 00:45:20,020
Brian who's not here we're hoping he's
feeling well tomorrow is giving a

624
00:45:20,020 --> 00:45:23,259
presentation on hardware hacking
tomorrow and he's actually got a

625
00:45:23,260 --> 00:45:26,980
suitcase filled with crap and he's going
to bring it up and he's actually going

626
00:45:26,980 --> 00:45:31,180
to do jtags and do some soldering
on-the-fly to get you guys started with

627
00:45:31,180 --> 00:45:34,390
hardware hacking tomorrow it'll be
really cool

628
00:45:34,390 --> 00:45:37,450
so the lesson for this is security is
moving on

629
00:45:37,450 --> 00:45:40,629
it's not just operating system and web
security and more it's time for us to

630
00:45:40,630 --> 00:45:45,250
specialized ok also commodity network
ten's testing

631
00:45:45,250 --> 00:45:51,160
I hate to say this is going to go to the
puppy mills we can't compete and i want

632
00:45:51,160 --> 00:45:56,920
to explain why whenever you're somebody
like mandiant or verizon or large

633
00:45:56,920 --> 00:46:00,640
security vendor let's just like look at
rapid7 nothing against these companies

634
00:46:00,640 --> 00:46:04,870
but this is what they can do they make a
lot of money in services and they make a

635
00:46:04,870 --> 00:46:06,350
lot of money and hardware

636
00:46:06,350 --> 00:46:09,110
a lot of these companies are getting the
point where they can do a penetration

637
00:46:09,110 --> 00:46:13,700
test for free and then sell you a bunch
of crap at the end of that penetration

638
00:46:13,700 --> 00:46:17,120
test now free is arbitrary give me like
five six thousand dollars it's going to

639
00:46:17,120 --> 00:46:20,270
be harder and harder for the general
penetration testing firm to keep up

640
00:46:21,140 --> 00:46:25,250
so start specializing get better oh one
more thing

641
00:46:26,330 --> 00:46:34,759
um this has been the worst year of my
life . a year ago I SAT right over there

642
00:46:34,760 --> 00:46:41,090
and I watched nickerson give a
presentation about the year that he went

643
00:46:41,090 --> 00:46:48,050
through it was a weird presentation and
I remember thinking how open every year

644
00:46:48,050 --> 00:46:48,920
that bad

645
00:46:48,920 --> 00:46:54,290
mine was worse i had some things happen
with me physically with my shoulder my

646
00:46:54,290 --> 00:46:58,670
mom was diagnosed pancreatic cancer in
january of this year and passed away two

647
00:46:58,670 --> 00:47:03,680
weeks ago she was the CFO of our company
and she meant a lot to a lot of people

648
00:47:04,700 --> 00:47:10,879
yes she did actually run bhis and yes
she did in fact social engineering break

649
00:47:10,880 --> 00:47:13,520
into a prison she was awesome

650
00:47:13,520 --> 00:47:16,940
so even before she got sick

651
00:47:16,940 --> 00:47:20,240
we named our hunting product after her

652
00:47:20,240 --> 00:47:24,470
Rita is what it's called real
intelligence threat analytics we

653
00:47:24,470 --> 00:47:29,720
released at last year here read it too .
i was ready we have the developer stop i

654
00:47:29,720 --> 00:47:33,140
think we have katie and Joe and Lisa
morons

655
00:47:33,140 --> 00:47:36,140
so these guys have worked all year

656
00:47:42,510 --> 00:47:48,090
thanks guys these guys are literally
worked all year on this project in this

657
00:47:48,090 --> 00:47:54,990
project along on Joe and Lisa went down
to a customer site in Texas and all

658
00:47:54,990 --> 00:47:59,430
warrants was there too and the customer
put him in a room that was 40 degrees in

659
00:47:59,430 --> 00:48:03,240
the network operations center without
any warm clothing and they stayed there

660
00:48:03,240 --> 00:48:08,100
all week coding up things for this
customer and they didn't complain until

661
00:48:08,100 --> 00:48:09,210
they got home

662
00:48:09,210 --> 00:48:13,950
uh-huh but they've been absolute rock
stars now read a one-point was based on

663
00:48:13,950 --> 00:48:17,279
python read a one-point had a lot of
interesting ideas and concepts like

664
00:48:17,280 --> 00:48:22,740
fourier transforms ritu . was a complete
rewrite in fact read a 2 point 0 is the

665
00:48:22,740 --> 00:48:27,359
entire back end and sensor installation
for the commercial product that we have

666
00:48:27,360 --> 00:48:31,530
an offensive countermeasures called AI
hunt and we're releasing the entire

667
00:48:31,530 --> 00:48:37,290
thing for free all the analysis modules
all of the different outputs POSIX

668
00:48:37,290 --> 00:48:41,970
compliant all of that is going to be
released mathematically its orders of

669
00:48:41,970 --> 00:48:45,149
magnitude faster than what we had before

670
00:48:45,150 --> 00:48:48,120
did we ever get some clear numbers on
that Joe or you guys been busy getting

671
00:48:48,120 --> 00:48:52,470
an open-source it's written in go palang
which now means that supports multi

672
00:48:52,470 --> 00:48:57,390
threading clustering and being a lot
faster than single-threaded python and

673
00:48:57,390 --> 00:49:01,680
ingest prologues now we don't just
regular logs are now address pure bro

674
00:49:01,680 --> 00:49:04,169
anybody here use bro and like it

675
00:49:04,170 --> 00:49:08,940
yep you simply give it prologues and it
spits out awesome and it's all free

676
00:49:08,940 --> 00:49:13,290
give us a week though we've been
separated out the code is already out

677
00:49:13,290 --> 00:49:16,230
there you can get here go ahead and take
a picture

678
00:49:16,230 --> 00:49:21,960
it's the HTS github ocm dev Rita um
we're going to start doing web cast

679
00:49:21,960 --> 00:49:25,230
showing people how to use this tool and
implement this tool effectively in their

680
00:49:25,230 --> 00:49:29,460
organizations I'm but the code is
already out there we want to clean it up

681
00:49:29,460 --> 00:49:33,480
so it's a more deployables package
that's easier but the reason why we want

682
00:49:33,480 --> 00:49:36,360
to do this is a lot of the products that
are out there that are doing hun teaming

683
00:49:36,360 --> 00:49:41,400
and beaconing and network traffic
analysis are too damn expensive if you

684
00:49:41,400 --> 00:49:43,980
have a vendor that shows up and they say
they're running fourth generation

685
00:49:43,980 --> 00:49:47,820
artificial intelligence and they don't
actually tell you what they're doing

686
00:49:47,820 --> 00:49:50,040
we're going to tell you what they're
doing and we're releasing code that's

687
00:49:50,040 --> 00:49:51,300
doing exactly what there

688
00:49:51,300 --> 00:49:54,930
what they're doing and releasing it for
free to everybody because those prices

689
00:49:54,930 --> 00:49:57,930
have to come down

690
00:50:04,539 --> 00:50:09,849
I have a few more minutes but i want to
say why we decided to go this route

691
00:50:09,849 --> 00:50:13,299
I mean we were trying to go more the
Sourcefire out but going back to my mom

692
00:50:13,299 --> 00:50:18,038
and the tools namesake my mom was
someone who was always giving always in

693
00:50:18,039 --> 00:50:21,219
life you have people that have their
hands out to take and you have people

694
00:50:21,219 --> 00:50:24,849
that have their hands out to give my
mother was someone who always had our

695
00:50:24,849 --> 00:50:29,439
hands out to give and I actually did
talk to her about this

696
00:50:30,219 --> 00:50:34,869
I rat buyer before she before she passed
away like i said she was a CFO of the

697
00:50:34,869 --> 00:50:39,489
company and we had some really good
conversations the end and should give it

698
00:50:39,489 --> 00:50:40,150
away

699
00:50:40,150 --> 00:50:43,809
what's the worst thing that's gonna
happen no you're going to give out

700
00:50:43,809 --> 00:50:46,900
something that people will be able to
use to be able to use it it'll make

701
00:50:46,900 --> 00:50:49,599
things cheaper for them and maybe it
will be something cool because maybe it

702
00:50:49,599 --> 00:50:53,589
won't but you always give things away in
this industry if you look at the good

703
00:50:53,589 --> 00:50:57,339
firms trusted second social engineering
tool kit and artillery and the

704
00:50:57,339 --> 00:51:01,839
penetration testing tool that they have
you look at a lot of firms like counter

705
00:51:01,839 --> 00:51:07,299
hack is here and counter hack puts more
effort into their holiday hack

706
00:51:07,299 --> 00:51:11,619
challenges than most vendors that you
have today put into their products you

707
00:51:11,619 --> 00:51:13,959
look at these firms that are doing
amazing things and trying to give things

708
00:51:13,959 --> 00:51:17,049
away for free and i'm always trying to
keep up with them and a lot of that came

709
00:51:17,049 --> 00:51:22,089
from my mom so we're trying to be a firm
that has our hands out to give not just

710
00:51:22,089 --> 00:51:25,150
take away so check it out and play with
it

711
00:51:25,150 --> 00:51:28,869
thank you so much

712
00:51:29,589 --> 00:51:31,920
this is where we can be found

713
00:51:31,920 --> 00:51:34,920
get out of her

714
00:51:37,430 --> 00:51:38,328
yeah

