1
00:00:00,000 --> 00:00:13,230
so uh how's everybody's confidence so
far been good deal

2
00:00:15,120 --> 00:00:23,070
my name is Bill sem and I cannot see my
keyboard clacking okay that light really

3
00:00:23,070 --> 00:00:30,660
right arm you can find me on Twitter I
hang on twitter i was an IRC guy before

4
00:00:30,660 --> 00:00:36,030
there was a web arm i'm old like older
than snot anybody here know go for

5
00:00:36,030 --> 00:00:39,030
script like the language you do not

6
00:00:39,600 --> 00:00:42,719
you've never seen before in your life
you liar

7
00:00:42,719 --> 00:00:49,320
yeah you maybe um I uh I had an email
address in the eighties so think back

8
00:00:49,320 --> 00:00:52,500
and realize when you have an email
address and so I'm older than the hills

9
00:00:52,500 --> 00:00:55,920
but i really like Twitter even though
apparently they're going to get bought

10
00:00:55,920 --> 00:00:57,600
by somebody and probably go to hell

11
00:00:57,600 --> 00:01:03,390
arm the UH it's a global conversation
very much like IRC but a much much lower

12
00:01:03,390 --> 00:01:07,350
barrier to entry so you can chat with
people in it people who are searching

13
00:01:07,350 --> 00:01:10,679
for keywords can jump in on the
conversation and do things and I think

14
00:01:10,680 --> 00:01:12,570
that's really awesome so even though

15
00:01:12,570 --> 00:01:15,270
twitter has got a lot of problems
there's a lot of heat on there it's true

16
00:01:15,270 --> 00:01:19,110
and there's a bunch of stupid
celebrities doing their thing

17
00:01:19,110 --> 00:01:24,479
really i mean i have a tremendous
collection of people are both on the

18
00:01:24,479 --> 00:01:28,140
security in the development side that I
follow so feel free if you use twitter

19
00:01:28,140 --> 00:01:33,360
to hook up if you hate Twitter on
reconsider our and from there so a

20
00:01:33,360 --> 00:01:40,590
little bit about myself I'm a programmer
i have been since the lady's arm i'm

21
00:01:40,590 --> 00:01:46,979
primarily a microsoft program I I was
early on a unix guy and moved to

22
00:01:46,979 --> 00:01:52,079
microsoft windows 95 any active server
pages stack and then went on the aspx

23
00:01:52,079 --> 00:01:56,100
and.net I've written several books about
it

24
00:01:56,100 --> 00:02:01,289
r you can you can find me if you if you
choose to look on on Wiley rocks

25
00:02:01,290 --> 00:02:05,820
originally the red and black books with
yellow lettering and then what wiley

26
00:02:05,820 --> 00:02:07,509
about rocks i moved over to them

27
00:02:07,510 --> 00:02:12,790
arm and I've been developing in that
that middle business space for a long

28
00:02:12,790 --> 00:02:17,260
time that Dom like department-level
internet sort of line-of-business

29
00:02:17,260 --> 00:02:21,130
applications stuff for a long time but
what happens i ended up becoming the

30
00:02:21,130 --> 00:02:24,400
security guy on the dev team for some
reason I always ended up being the guy

31
00:02:24,400 --> 00:02:29,530
was in charge of interactivity of
performance and security on the dev team

32
00:02:29,530 --> 00:02:33,940
and probably because that's where the
really really hard problems are and

33
00:02:33,940 --> 00:02:37,840
everybody hated it because you can grind
on it for weeks and not get anywhere and

34
00:02:37,840 --> 00:02:41,560
maybe just have to give up and I've
never mind that offer some some weird

35
00:02:41,560 --> 00:02:47,440
reason so i always end up being that guy
and eventually well wasn't eventually so

36
00:02:47,440 --> 00:02:53,320
I am I i spend some time writing Windows
8 apps and JavaScript which was probably

37
00:02:53,320 --> 00:02:59,320
the worst decision of my life and I burn
me out so bad on dev I i went to mentor

38
00:02:59,320 --> 00:03:02,799
mind romantico and said dude is there
anything on the security space that I

39
00:03:02,800 --> 00:03:06,250
can do and he says well why don't you
try vulnerability analysis he'd probably

40
00:03:06,250 --> 00:03:09,280
be good at it and of course had done it
all along I know how to use all the

41
00:03:09,280 --> 00:03:11,739
tools and stuff as a dev team member

42
00:03:11,739 --> 00:03:15,040
so what I've never done this a security
person before so i started doing a

43
00:03:15,040 --> 00:03:19,540
security person was doing web analysis
for a long time and as a dead-on I

44
00:03:19,540 --> 00:03:22,299
actually turned out to be pretty good at
it because I know where all the mistakes

45
00:03:22,300 --> 00:03:27,160
are because I made them all like in the
last week or so so I know I know where

46
00:03:27,160 --> 00:03:31,299
the problems are going to be and so I
can go find them quite easily will know

47
00:03:31,300 --> 00:03:32,560
next 18 months

48
00:03:32,560 --> 00:03:36,580
um well actually about two years ago I
guess company was doing business with

49
00:03:36,580 --> 00:03:41,650
ask me to do arm asked me if I could do
an analysis on android app and I was

50
00:03:41,650 --> 00:03:47,890
like ah I guess I mean I did around the
android know java arm and I know how

51
00:03:47,890 --> 00:03:51,518
they entered stack works and is like
wallets I mean how different is it

52
00:03:51,519 --> 00:03:55,420
really then like testing a flash app
it's basically a rich client application

53
00:03:55,420 --> 00:03:59,260
with services in the back end right
that's really all it is armed

54
00:03:59,260 --> 00:04:03,760
so I said sure why not so i did a ton of
research and um got a pretty good tool

55
00:04:03,760 --> 00:04:07,399
set together and wrote a pretty decent
report and the

56
00:04:07,400 --> 00:04:11,629
the worker got around the stuff started
piling in

57
00:04:11,629 --> 00:04:16,310
so now i do about half mobile and have
actually since even though i haven't

58
00:04:16,310 --> 00:04:21,228
been an Apple user since 92 arm
literally I have a full mac lab now to

59
00:04:21,228 --> 00:04:26,060
iOS testing so maybe if the derby car
gods are permissive allah i'll come back

60
00:04:26,060 --> 00:04:32,930
next year do the same talk on on iOS but
this is an Android talk so we're going

61
00:04:32,930 --> 00:04:42,470
to we're going to hack android apps for
fun and problem because there is profit

62
00:04:42,470 --> 00:04:45,050
to be made on bug bounties are a thing
now

63
00:04:45,050 --> 00:04:50,690
oh these companies will pay you if you
find flaws so you guys going to see my

64
00:04:50,690 --> 00:04:56,060
screen right is is that working ok good
so here's what happens in this talk so

65
00:04:56,060 --> 00:04:59,060
you can decide if you want to stay or
not this is the list of stuff I'm gonna

66
00:04:59,060 --> 00:05:02,900
talk about we're gonna get as far as we
can you'll notice there's no power .

67
00:05:02,900 --> 00:05:09,229
there are no slides I am literally going
to show you my process of how I figured

68
00:05:09,229 --> 00:05:13,490
out how to test android apps a lot of
this is from other people's research but

69
00:05:13,490 --> 00:05:19,490
it's all gathered in one nice cohesive
place arm and in and I'm i can i'm going

70
00:05:19,490 --> 00:05:23,270
to show you the the you can watch the
sausage basically being made I mean

71
00:05:23,270 --> 00:05:26,240
obviously this is a list of what i'm
going to talk about right so we're gonna

72
00:05:26,240 --> 00:05:28,820
we're gonna go from there and I have a
lot of stuff up and running on my

73
00:05:28,820 --> 00:05:34,729
machine and first I'd like to talk about
our what it is we're looking for okay so

74
00:05:34,729 --> 00:05:39,889
this is the mobile top 10 as anybody
here ever heard of wasp you open well my

75
00:05:39,889 --> 00:05:41,599
goodness I love you so much

76
00:05:41,599 --> 00:05:46,190
the open web application security
project ok so i am the dotnet Pro

77
00:05:46,190 --> 00:05:50,750
project manager for your loss and also i
run the Columbus chapter one of the

78
00:05:50,750 --> 00:05:55,580
three run the Columbus chapter arm so
all those three things they have

79
00:05:55,580 --> 00:06:00,260
chapters where people get together like
a like a normal meetup meeting and and

80
00:06:00,260 --> 00:06:03,770
talk about application security we have
conferences like this one the next one

81
00:06:03,770 --> 00:06:05,289
is absent USA next month

82
00:06:05,289 --> 00:06:09,699
in in DC and then the wheels of projects
in the project some of them are code

83
00:06:09,699 --> 00:06:15,159
projects like that attack proxy which
some of you may have used or dependency

84
00:06:15,159 --> 00:06:19,360
check with some of you may have used
some more documentation projects the

85
00:06:19,360 --> 00:06:24,069
documentation project sometimes are very
rich and sometimes are very thin very

86
00:06:24,069 --> 00:06:25,240
simple

87
00:06:25,240 --> 00:06:29,680
they're almost marketing tools the OWASP
top 10 is probably the most famous of

88
00:06:29,680 --> 00:06:34,479
those it is the top ten vulnerabilities
discovered over the past three years and

89
00:06:34,479 --> 00:06:40,719
web applications arm and it is um one of
the most cited documents at all of

90
00:06:40,719 --> 00:06:44,229
application security in fact it's almost
too much

91
00:06:44,229 --> 00:06:48,998
cited where people will call me and ask
can you give us a wasp top 10 training

92
00:06:48,999 --> 00:06:53,349
to it i'll say new but i will give you
application security training and we

93
00:06:53,349 --> 00:06:56,889
might cover the things that are in the
top ten but the top 10 is not

94
00:06:56,889 --> 00:07:00,039
application security program so now
you'll know this

95
00:07:00,039 --> 00:07:08,110
that said the mobile top 10 brings us
the same thing that the UH the the main

96
00:07:08,110 --> 00:07:16,870
web top-10 does it describes something
for for people who do not have the that

97
00:07:16,870 --> 00:07:21,759
the technical skills in an arena to
really know where the problems might lie

98
00:07:21,759 --> 00:07:26,499
probably most of the people in this
crowd know what can go wrong in a web

99
00:07:26,499 --> 00:07:29,469
application at least have a good idea
even if you're not an application

100
00:07:29,469 --> 00:07:34,119
security specialist but mobile is
different a lot of it is black magic

101
00:07:34,779 --> 00:07:40,240
so this goes back to where like the web
was 10 years ago or 15 years ago when

102
00:07:40,240 --> 00:07:46,089
they started the top ten ten years ago I
guess arm 13 years ago and they said um

103
00:07:46,089 --> 00:07:49,180
nobody really knows where the flaws are
we need something simple

104
00:07:49,180 --> 00:07:52,449
well that's where we are with mobile
today no one knows where the flaws are

105
00:07:52,449 --> 00:07:56,199
we need something simple so they wrote a
top-10 list and its really pretty good

106
00:07:56,199 --> 00:08:01,240
this does cover a lot of the stuff that
you see so I'll walk through it very

107
00:08:01,240 --> 00:08:02,199
quickly

108
00:08:02,199 --> 00:08:07,539
I'm the number one very interestingly
has nothing to do with the mobile

109
00:08:07,539 --> 00:08:11,949
application at all it is weak server
side controls so for those of you who

110
00:08:11,949 --> 00:08:15,909
don't know a nap an application that's
loaded on an android phone has very

111
00:08:15,909 --> 00:08:19,039
little business logic in it it is
calling back to

112
00:08:19,040 --> 00:08:23,780
mrs. at some server that hosts just like
a web page and it speaks back and forth

113
00:08:23,780 --> 00:08:30,770
using Jason or XML sometimes on which is
the data configuration format um those

114
00:08:30,770 --> 00:08:35,539
services are just web pages that return
data instead of HTML

115
00:08:35,539 --> 00:08:39,860
ok that you test them exactly the same
way they have all the same flaws

116
00:08:39,860 --> 00:08:44,150
there-there there-there susceptible to
to cross-site request forgery they're

117
00:08:44,150 --> 00:08:48,319
susceptible to sequel injection they're
susceptible to command injection they're

118
00:08:48,320 --> 00:08:53,420
susceptible to all kinds of our
authentication and authorization lost

119
00:08:53,420 --> 00:08:58,189
just like a website would be so it's
very interesting that really the website

120
00:08:58,190 --> 00:09:01,670
that's backing a mobile application is
the most vulnerable part of a mobile

121
00:09:01,670 --> 00:09:06,530
application and I have finally found in
my experience this is true i'm insecure

122
00:09:06,530 --> 00:09:11,240
data storage is number two this is where
you do things your developers do things

123
00:09:11,240 --> 00:09:17,720
like store your private keys to do
communicate authenticated communication

124
00:09:17,720 --> 00:09:22,130
back to the server on the device
thinking well we've hit on the device

125
00:09:22,130 --> 00:09:23,270
nobody can find it

126
00:09:23,270 --> 00:09:30,110
that is not the case just like with a pc
a human can access every byte of data on

127
00:09:30,110 --> 00:09:33,560
here so you cannot hide anything on here

128
00:09:34,070 --> 00:09:37,520
unfortunately this means the developers
will have to learn how to do very

129
00:09:37,520 --> 00:09:42,140
sophisticated authentication like H Mac
this is not a blue team top so i'm not

130
00:09:42,140 --> 00:09:45,680
going to go over how to do that but i'll
be a bark on a few if anybody wants to

131
00:09:45,680 --> 00:09:48,109
talk about it like seriously has this
problem

132
00:09:48,110 --> 00:09:51,950
come find me I'll help you incidence of
transport layer protection basically

133
00:09:51,950 --> 00:09:56,060
means they did not put in s and their
URL that happens almost every app at

134
00:09:56,060 --> 00:10:01,760
least once I've intended data leak with
leakage this is where there is data

135
00:10:01,760 --> 00:10:04,910
being passed back to the application
that the application doesn't actually

136
00:10:04,910 --> 00:10:11,150
need and just the fact that it's on the
wire is often a privacy or arm other

137
00:10:11,150 --> 00:10:15,650
risk violation for authorization
authentication is m5 that is exactly

138
00:10:15,650 --> 00:10:20,540
what it sounds like the its application
where that they're not appropriately

139
00:10:20,540 --> 00:10:23,839
checking for username password one of
the most common ones i find is where

140
00:10:23,840 --> 00:10:28,220
they aren't checking for username and
password are you just press submit or

141
00:10:28,220 --> 00:10:29,340
cancel and

142
00:10:29,340 --> 00:10:34,710
the application broken cryptography is
m6 this is where people are too lazy to

143
00:10:34,710 --> 00:10:39,420
download something that works on android
to do there are hashing or their

144
00:10:39,420 --> 00:10:42,870
photography and they write their own
stack and broken which is happens almost

145
00:10:42,870 --> 00:10:46,560
every time that somebody tries to write
their own client-side injection exactly

146
00:10:46,560 --> 00:10:51,300
what it sounds where we can perhaps save
something onto database that then would

147
00:10:51,300 --> 00:10:56,910
show in somebody else's machine and
cause some kind of cross-site attack

148
00:10:56,910 --> 00:11:03,060
security decisions via untrusted inputs
where you're taking things like the host

149
00:11:03,060 --> 00:11:06,630
header and stuff like that making
decisions as to whether or not this is

150
00:11:06,630 --> 00:11:10,560
actually the app you think it is
improper section handling once again

151
00:11:10,560 --> 00:11:14,910
exactly what it sounds like not actually
using the token properly the token isn't

152
00:11:14,910 --> 00:11:19,890
random enough you're not changing the
session token on login the session

153
00:11:19,890 --> 00:11:24,300
fixation those kinds of things and lack
of binary protections this release

154
00:11:24,300 --> 00:11:28,319
directed there's nothing in place to
prevent me from disassembling the app

155
00:11:28,320 --> 00:11:29,640
and figure out how it works

156
00:11:29,640 --> 00:11:34,439
this is true of almost every application
out there so these are the things that

157
00:11:34,440 --> 00:11:37,860
we look for that's super easy right

158
00:11:37,860 --> 00:11:41,580
actually if we've been sitting around a
table having a beer you all probably

159
00:11:41,580 --> 00:11:45,390
could have come up with these 10 on your
own that we even prompting you just as a

160
00:11:45,390 --> 00:11:50,880
as a group to exercise the problem is
finding because it's kind of like

161
00:11:50,880 --> 00:11:54,360
literally a black box and it's a flat
piece of black glass how that propaganda

162
00:11:54,360 --> 00:11:59,040
against so let's talk about how we're
going to do this and the first thing

163
00:11:59,040 --> 00:12:04,800
you're going to need is some kind of a
test environment

164
00:12:05,580 --> 00:12:13,470
fortunately in Android you can
virtualize machine this is not true of

165
00:12:13,470 --> 00:12:18,930
iOS are you can emulate an iOS device
you cannot simulate one know you can

166
00:12:18,930 --> 00:12:23,010
simulate what not emulate one it doesn't
matter you can't actually make a real

167
00:12:23,010 --> 00:12:30,450
iOS device on a pc or mac but you can
make a real android device so there is a

168
00:12:30,450 --> 00:12:34,830
toolset that i'll show you later called
the Android developers tools are that

169
00:12:34,830 --> 00:12:39,600
has an emulator in it but what I
recommend is this one on the screen is

170
00:12:39,600 --> 00:12:42,329
called genymotion genymotion is

171
00:12:42,329 --> 00:12:47,670
a rapper overtop of virtualbox which is
a son open open source but it's free

172
00:12:47,670 --> 00:12:52,139
corazon source but it's three certainly
product genymotion is free to use for

173
00:12:52,139 --> 00:12:55,439
personal use but it does have a license
which I only because i use it for

174
00:12:55,439 --> 00:13:03,269
professional work arm and Jenny motion
is virtual box for android and you just

175
00:13:03,269 --> 00:13:14,129
simply can pick any one of dozens of
phones and it will generate a new vm for

176
00:13:14,129 --> 00:13:14,879
you

177
00:13:14,879 --> 00:13:23,819
it's very simple to use click to start
and here is my vm oops gotta even in

178
00:13:23,819 --> 00:13:24,569
here we are

179
00:13:24,569 --> 00:13:30,149
so we have a virtual virtual machine
this is by far the easiest way to test

180
00:13:30,149 --> 00:13:35,339
applications you can take the APK file
that you were given by the client drag

181
00:13:35,339 --> 00:13:39,809
it from your desktop to this desktop and
it will install it done and then you

182
00:13:39,809 --> 00:13:40,829
just test

183
00:13:40,829 --> 00:13:48,209
it's that simple all of the emulated
roms are already rooted so you have at

184
00:13:48,209 --> 00:13:54,238
out you have a you have a root access to
FSU is running you have root access into

185
00:13:54,239 --> 00:13:59,399
them and you can do things like access
the file system and underlying pieces to

186
00:13:59,399 --> 00:14:01,230
make the phone do as you wish

187
00:14:01,230 --> 00:14:04,589
it is a fully functioning phone and if
you're lucky enough to have touchscreen

188
00:14:04,589 --> 00:14:11,429
it actually makes it super easy to use
with a touchscreen ok arm my in my main

189
00:14:11,429 --> 00:14:17,939
workstation at home i have a Windows 10
dell XPS tower with three monitors the

190
00:14:17,939 --> 00:14:22,079
center one's a TV screen actually on the
right-hand and left-hand side I'm

191
00:14:22,079 --> 00:14:26,790
left-handed is actually a 28 inch
touchscreen monitor that i can then have

192
00:14:26,790 --> 00:14:30,868
it running like this big and touch and
it's very easy to use it makes testing

193
00:14:30,869 --> 00:14:34,589
very simple you don't have to hope over
some it's it's much better

194
00:14:34,589 --> 00:14:38,429
so this is definitely the way to do it
but this isn't enough we can run our

195
00:14:38,429 --> 00:14:42,988
application that we're going to test
right but we can't do anything and what

196
00:14:42,989 --> 00:14:43,739
do you do

197
00:14:43,739 --> 00:14:47,369
right it's that that really going to do
anything so let's go back and check our

198
00:14:47,369 --> 00:14:47,819
thing

199
00:14:47,819 --> 00:14:51,299
yes oh if you're running in windows oh I
should talk about windows if you're

200
00:14:51,299 --> 00:14:52,199
running windows

201
00:14:52,200 --> 00:14:56,070
remember you will need to turn off
hyper-v to make virtualbox work anybody

202
00:14:56,070 --> 00:14:58,050
who is taking notes write that down

203
00:14:58,050 --> 00:15:02,010
arm it is hyper view will break
virtualbox and it's extremely difficult

204
00:15:02,010 --> 00:15:07,020
to google the error message so that's
that's a that's a definite gotcha

205
00:15:08,130 --> 00:15:12,180
but let me talk about windows um
probably most of the people in this room

206
00:15:12,180 --> 00:15:17,969
either have a diminished outlook on
windows or are frankly dismissive of it

207
00:15:17,970 --> 00:15:21,780
as an operating system because of its
past failures and i understand that very

208
00:15:21,780 --> 00:15:30,000
well i truly do that said the android
development and modeling scene is almost

209
00:15:30,000 --> 00:15:36,630
entirely consisting of 14 year old boys
and they're all running their moms

210
00:15:36,630 --> 00:15:42,000
windows 7 laptop that she replaced this
year with something newer ipad or

211
00:15:42,000 --> 00:15:49,590
something and um all of the tools that
are written to do this with almost no

212
00:15:49,590 --> 00:15:54,960
exceptions run either only on windows or
better on Windows than anywhere else and

213
00:15:54,960 --> 00:15:57,120
I you can ask my wife

214
00:15:57,120 --> 00:16:03,870
quite literally have a laptop in each
platform that I use every single day and

215
00:16:03,870 --> 00:16:07,830
I tried to write this talk on my linux
box because I thought it would by far be

216
00:16:07,830 --> 00:16:11,160
the best and nothing worked

217
00:16:11,160 --> 00:16:15,420
nothing which is amazing because and
during is linux under the couple's yet

218
00:16:15,420 --> 00:16:20,670
when it's under the covers but none of
the tools were even a DB which is the

219
00:16:20,670 --> 00:16:24,959
connection tool that will go over a few
minutes doesn't really run great on

220
00:16:24,960 --> 00:16:28,260
linux all of these tools are designed to
run on windows

221
00:16:28,260 --> 00:16:33,870
what's worse most of them like
genymotion only run on the metal of

222
00:16:33,870 --> 00:16:39,210
windows so you have to have a machine
with windows install arm if you don't

223
00:16:39,210 --> 00:16:42,720
have one I would advise finding 1i have
done this under windows 7 i've been

224
00:16:42,720 --> 00:16:47,220
under eight have been under 10 and it
works just fine and all of them of

225
00:16:47,220 --> 00:16:50,610
course all the standard protections
apply make sure your laptop is locked

226
00:16:50,610 --> 00:16:51,300
down

227
00:16:51,300 --> 00:16:54,329
I mean just because you're using it for
testing doesn't mean you shouldn't take

228
00:16:54,330 --> 00:16:58,350
basic precautions and windows is like a
wire sit I will admit you've got to do

229
00:16:58,350 --> 00:17:02,400
all the normal stuff but having if
you're going to do this having a windows

230
00:17:02,400 --> 00:17:05,010
machine is highly recommended

231
00:17:05,010 --> 00:17:11,099
in my opinion so there's that so now we
have our phone or virtual phone we need

232
00:17:11,099 --> 00:17:14,579
the first thing we need to do is that
one right we need to watch the traffic

233
00:17:14,579 --> 00:17:20,010
between the phone and the server we're
going to do that the same way as if we

234
00:17:20,010 --> 00:17:22,770
had our a web browser

235
00:17:22,770 --> 00:17:28,170
ok if we have a web browser we go in we
install some proxy and we proxy it

236
00:17:28,170 --> 00:17:33,660
through Pearl and that is exactly what
we're going to do in order to do that

237
00:17:33,660 --> 00:17:41,490
we're going to set a new listener on
port 80 90 alright

238
00:17:41,490 --> 00:17:49,020
it has it uses the all interfaces not
look back because we're not on our

239
00:17:49,020 --> 00:17:53,730
machine i'm on a different machine so i
have to i can I could do it specific

240
00:17:53,730 --> 00:17:54,750
that's a pain in the butt

241
00:17:54,750 --> 00:17:57,480
so I'm doing with all interfaces yes
that man means that if you're on the

242
00:17:57,480 --> 00:18:00,960
same network as me you your tracking
would go through my birth as well that's

243
00:18:00,960 --> 00:18:04,110
true you are not on the same network as
me don't worry about it

244
00:18:04,110 --> 00:18:13,620
um so um that is what we're going to do
then i have a mouse then we're going to

245
00:18:13,620 --> 00:18:29,310
go into our phone okay and we're going
to go here to here and open up here and

246
00:18:29,310 --> 00:18:34,740
we're going to modify network and we're
going to add the proxy just like we

247
00:18:34,740 --> 00:18:41,700
would if we were using a web browser
that's all this is now 2 caveat to this

248
00:18:41,700 --> 00:18:43,410
one

249
00:18:43,410 --> 00:18:51,330
not all traffic goes through port 80 and
443 some apps do write their own binary

250
00:18:51,330 --> 00:18:56,189
channels to call home then it gets day
and get freaky then we got to get

251
00:18:56,190 --> 00:18:59,790
wireshark out and do some nasty stuff
i'm not going to demonstrate that

252
00:18:59,790 --> 00:19:03,690
because frankly much of that is above my
level of skill i'm working on it but i

253
00:19:03,690 --> 00:19:09,270
have not gotten there yet to burp will
not always show you the traffic even if

254
00:19:09,270 --> 00:19:15,930
it's over for 80 and 443 ok so you
sometimes we'll have to fiddle with

255
00:19:15,930 --> 00:19:18,750
groups have to fiddle with verb

256
00:19:18,750 --> 00:19:26,400
so what you end up doing is you'll
notice on both the target tab and proxy

257
00:19:26,400 --> 00:19:29,610
tab of verb there is a filter bar

258
00:19:30,360 --> 00:19:33,360
how many people here have used burp in
the past

259
00:19:34,320 --> 00:19:38,700
ok that's a vast majority of those of
you who don't have and I'm sorry I'm it

260
00:19:38,700 --> 00:19:40,170
so purpose in it

261
00:19:40,170 --> 00:19:44,220
those of you don't know represent attack
proxy it sits between some clients some

262
00:19:44,220 --> 00:19:49,560
server and record traffic on port 80 and
443 up and then it provides a load of

263
00:19:49,560 --> 00:19:54,179
tools to allow you to do nasty things
that traffic record the traffic and

264
00:19:54,180 --> 00:19:57,150
replay it with your own values and
things like that

265
00:19:57,150 --> 00:20:02,430
um so if you look at this filter if
you're not seeing your traffic come down

266
00:20:02,430 --> 00:20:06,840
and click the show all button because
sometimes burp gets confused with these

267
00:20:06,840 --> 00:20:11,040
data traffic and it thinks it's by an
area i think that's something else

268
00:20:11,040 --> 00:20:14,790
not always but sometimes so give that a
try if that doesn't work

269
00:20:15,540 --> 00:20:21,690
fire up wire sharp because it's probably
communicating on a non I HTTP port which

270
00:20:21,690 --> 00:20:25,020
is not great for you but we're not gonna
worry about that right now

271
00:20:25,020 --> 00:20:31,050
so once so once we have this configured
arm and we haven't configured over here

272
00:20:31,050 --> 00:20:37,139
we are we now can proceed exercise an
application and watch traffic

273
00:20:37,650 --> 00:20:46,440
alright so we go here and we refresh
hacker news and absolutely nothing

274
00:20:46,440 --> 00:20:47,070
happens

275
00:20:47,070 --> 00:20:53,610
they're seeing and here's the here's the
requests and here's the response from

276
00:20:53,610 --> 00:20:58,290
acronyms and now we can start to attack
these requests just like we would with

277
00:20:58,290 --> 00:21:02,760
any other web application but you'll
notice it's coming back in Jason right

278
00:21:02,760 --> 00:21:06,660
so i would recommend i don't have them
installed and think about this right now

279
00:21:06,660 --> 00:21:11,580
but the pretty print options for burp
you can install plugins to do pretty

280
00:21:11,580 --> 00:21:16,379
print with Jason um i would recommend
that so the Jason's easier to read our

281
00:21:16,380 --> 00:21:21,450
major deal with xml as soap app you know
one for xml so you're actually in a

282
00:21:21,450 --> 00:21:24,780
block of text those things which makes
it significantly easier

283
00:21:24,780 --> 00:21:28,440
how we doing on who

284
00:21:28,440 --> 00:21:31,140
wow I got going on oh yes

285
00:21:31,140 --> 00:21:35,220
you do have to install the birth
certificates I when I last gave this

286
00:21:35,220 --> 00:21:38,670
talk to give an extended demonstration
of that I no longer need to because I

287
00:21:38,670 --> 00:21:42,690
pink david the guy who does burp and he
put a page up on the Burke website on

288
00:21:42,690 --> 00:21:47,310
how to do it and it's super duper easy
and there's a video so if you don't

289
00:21:47,310 --> 00:21:50,580
already have a birth certificate on your
test device install it

290
00:21:50,580 --> 00:21:53,909
it's on the Burke website

291
00:21:53,910 --> 00:22:00,720
ok so sometimes even if it's on port 80
burp gets confused there's other tools

292
00:22:00,720 --> 00:22:08,490
you can try that attack proxy is an loss
product that's one of our projects and

293
00:22:08,490 --> 00:22:11,910
it's a java app just like burp and
that's an attack box just like burp the

294
00:22:11,910 --> 00:22:16,800
only difference is 100-percent open
source and free like beer are so you can

295
00:22:16,800 --> 00:22:18,360
you can download it

296
00:22:18,360 --> 00:22:22,409
r you can you know a plot oh yeah sorry
about that

297
00:22:22,410 --> 00:22:28,530
interpreting of course arm but it's it's
exactly the same tool as burp it just

298
00:22:28,530 --> 00:22:31,770
things are in a different place and
sometimes it picked up on traffic Burke

299
00:22:31,770 --> 00:22:34,080
doesn't so you might want to give that a
try

300
00:22:34,080 --> 00:22:39,929
worst-case filler filler filler is a
developer tool

301
00:22:39,930 --> 00:22:44,430
ok it is a debugging proxy that's
designed to fix problems whereas

302
00:22:44,430 --> 00:22:48,870
Bourbons after designed to cause
problems but ver pacific air filter is

303
00:22:48,870 --> 00:22:54,149
exceptionally good at finding traffic so
on.if you proxy through it you might

304
00:22:54,150 --> 00:23:02,970
find you might see things you wouldn't
normally seen arm so one of the things

305
00:23:02,970 --> 00:23:07,800
you'll probably want to do at some point
is set up your machine as a developer

306
00:23:07,800 --> 00:23:14,370
studio it is an actual your requirement
but it's highly recommended because

307
00:23:14,370 --> 00:23:18,330
there's a lot of tools that come with
the developer kits that that just make

308
00:23:18,330 --> 00:23:19,590
this a whole lot easier

309
00:23:19,590 --> 00:23:24,030
the first one is android studio and
android studio isn't technically a

310
00:23:24,030 --> 00:23:28,740
requirement to do this work in fact the
main benefit to having an android studio

311
00:23:28,740 --> 00:23:33,150
installed is that it has an emulator but
we're never going to use their emulator

312
00:23:33,150 --> 00:23:39,750
because it is not figuratively literally
10 times slower than genymotion I'm

313
00:23:39,750 --> 00:23:40,700
sorry

314
00:23:40,700 --> 00:23:48,530
it's horrible yes it is horrible but
understanding how he doesn't exist

315
00:23:49,220 --> 00:24:02,420
well fine on understanding how Android
applications are developed will make you

316
00:24:02,420 --> 00:24:09,050
a much better tester let's put it that
way so having absolutely installed is is

317
00:24:09,050 --> 00:24:16,220
very good that said you can get my with
just installing the command line tools

318
00:24:16,220 --> 00:24:25,040
and they are very small so adb is the
android I think android debugger is what

319
00:24:25,040 --> 00:24:28,970
it stands for is that it and did you
guys do well that's where you want to

320
00:24:28,970 --> 00:24:43,400
talk cheeks my dulcet tones I'm working
on it

321
00:24:43,400 --> 00:25:01,940
ah freaking windows he had and linux i
can just press ctrl+ just ok so a BB is

322
00:25:01,940 --> 00:25:06,680
other people in the room who don't know
what a DB is please tell me there are so

323
00:25:06,680 --> 00:25:14,060
a.d.d is allows you to send commands to
a connected android device genymotion

324
00:25:14,060 --> 00:25:19,340
automatically connects the device so
it's as if it's plugged in with the USB

325
00:25:19,340 --> 00:25:25,520
cable so if i run adb I have to do
nothing else

326
00:25:25,520 --> 00:25:42,179
well list right ed adb clients to be
devices right so what

327
00:25:42,179 --> 00:25:48,840
on my one device right in the moment the
best thing you can do here is you can

328
00:25:48,840 --> 00:25:56,668
login now I'm route on that machine just
like it's linux box and any not anything

329
00:25:56,669 --> 00:26:02,490
most of what you can do in Linux you can
now do standing here i can look at the

330
00:26:02,490 --> 00:26:09,419
directories and process wise the in all
honesty there's a lot of things you can

331
00:26:09,419 --> 00:26:17,399
do the most important thing you can do
is install the app exercise it and then

332
00:26:17,399 --> 00:26:18,748
get it settings

333
00:26:18,749 --> 00:26:24,419
okay all the stuff saved on the device
you're gonna have to look around and I'm

334
00:26:24,419 --> 00:26:27,840
i'm working on a tool that looks for
changes a lot of different places but

335
00:26:27,840 --> 00:26:31,949
that's going to be a ways out arm and
there are very expensive tools you can

336
00:26:31,950 --> 00:26:34,529
use that will tell you all all the
changes that have occurred because of a

337
00:26:34,529 --> 00:26:39,779
given application are but for our
purposes and for the the vast majority

338
00:26:39,779 --> 00:26:42,509
of applications arm

339
00:26:42,509 --> 00:26:51,690
you just need to look in our data data
and all of the settings for each chapter

340
00:26:51,690 --> 00:26:59,129
in there you can then log out and you
can do a pull

341
00:26:59,850 --> 00:27:13,080
so it's a TB pull the Nets . . web that
arm

342
00:27:13,080 --> 00:27:21,928
oh no i'm sorry but you got to the
directory arm and they are very

343
00:27:21,929 --> 00:27:26,580
throughout the save the file oh no did
one but you get the general i for i

344
00:27:26,580 --> 00:27:28,080
deleted the pole that's good

345
00:27:28,080 --> 00:27:41,220
oh my god they're now there's nothing in
it so it was very exciting but that's ok

346
00:27:41,220 --> 00:27:43,290
you get the idea

347
00:27:43,290 --> 00:27:48,659
I thought there'd be something that I
anyway it but you get to do you you will

348
00:27:48,660 --> 00:27:53,730
pull down everything that not everything
ok

349
00:27:53,730 --> 00:27:58,800
it is possible to save things in other
places but ninety-seven percent of all

350
00:27:58,800 --> 00:28:03,930
applications just saved to the default
android locations which is going to be

351
00:28:03,930 --> 00:28:09,720
in data arm if the developer will have
had gone to extreme lengths to save

352
00:28:09,720 --> 00:28:15,480
elsewhere so tremendously much the the
application that the most developed

353
00:28:15,480 --> 00:28:19,710
applications are going to save that
location then you can go and look for

354
00:28:19,710 --> 00:28:25,740
inappropriately safe values like the
private keys or passwords URLs that our

355
00:28:25,740 --> 00:28:36,330
internal any of the normal stuff you
look for in a web assessments arm and

356
00:28:36,330 --> 00:28:40,679
benefit of linux box you probably know
where things are better than me are you

357
00:28:40,680 --> 00:28:49,020
download oh so getting the APK ok so
there's two ways to get the APK by far

358
00:28:49,020 --> 00:28:55,080
the easiest way is to ask if you're
doing a legal assessment which please

359
00:28:55,080 --> 00:29:01,290
hopefully you don't have to say that
here um ask the developer for the APK it

360
00:29:01,290 --> 00:29:04,770
is by far the easiest thing to do if
you're doing the assessment for like one

361
00:29:04,770 --> 00:29:09,540
of your company's android applications
go to the dev team say add media hockey

362
00:29:09,540 --> 00:29:15,389
I want to be able to download the apk
and then download the apk and there are

363
00:29:15,390 --> 00:29:18,180
a lot of reasons why that makes things a
lot easier

364
00:29:18,180 --> 00:29:23,130
that said there is now a chrome
extension i kid you not I did what I

365
00:29:23,130 --> 00:29:25,710
when I first wrote this talk there was a
lot of different things you use there's

366
00:29:25,710 --> 00:29:32,460
literally a chrome extension or you can
go to the store on in chrome and it will

367
00:29:32,460 --> 00:29:37,140
get the APK for you when you save your
machine it on a pc or mac or anything on

368
00:29:37,140 --> 00:29:38,550
anything on problem

369
00:29:38,550 --> 00:29:43,680
um so it's called apt downloader and
just you can probably just search chrome

370
00:29:43,680 --> 00:29:45,330
for APK and find the latest one

371
00:29:45,330 --> 00:29:50,580
it's super easy to get a BP now so
that's that's that's very that's a very

372
00:29:50,580 --> 00:29:53,790
easy very easy piece of this

373
00:29:53,790 --> 00:29:55,290
ok so

374
00:29:55,290 --> 00:30:00,840
so we've gone over arm how to set up a
virtual machine

375
00:30:00,840 --> 00:30:09,540
we've gone over how to setup our our
proxy we have gone over how to access

376
00:30:09,540 --> 00:30:15,149
the settings and get into the internals
of the android application from RPC are

377
00:30:15,150 --> 00:30:18,000
so there's a couple other things that
you can do

378
00:30:18,000 --> 00:30:23,580
oh the first one is not there

379
00:30:23,580 --> 00:30:37,560
ok so oh ok so LinkedIn who was recently
purchased by Microsoft are built a tool

380
00:30:37,560 --> 00:30:50,669
called harp that is an Android scanner
and it's actually kinda cool arm it is

381
00:30:50,670 --> 00:30:56,100
on can help and i recommend you download
it and run against your apk file it's

382
00:30:56,100 --> 00:31:09,629
super easy to use so it's just thrown
right and we say we have anything and it

383
00:31:09,630 --> 00:31:12,840
does provide a path and we say that a
man

384
00:31:13,380 --> 00:31:21,750
oh now my linux skills going to get
pressed here so it's you know I just do

385
00:31:21,750 --> 00:31:30,000
home roots or tour would trying out wow

386
00:31:30,750 --> 00:31:35,970
see this is why we don't do live demos
people but this one boring besides yeah

387
00:31:35,970 --> 00:31:53,670
i mean with by Scripps and then it's a
see anyway yeah can you / route there's

388
00:31:53,670 --> 00:31:55,380
not all after /i happen

389
00:31:55,380 --> 00:31:56,590
oh my gosh

390
00:31:56,590 --> 00:32:20,199
its expertise alright you can call up to
be with my nazi not working

391
00:32:20,200 --> 00:32:42,760
wow this thing's not liking that ok so
do / right here exploit pk's slide

392
00:32:44,260 --> 00:32:51,730
well let me that welcome

393
00:33:06,520 --> 00:33:15,610
oh that's it doesn't have them always

394
00:33:18,850 --> 00:33:24,580
alright nothing in there that's actually
tested that your arm

395
00:33:25,630 --> 00:33:30,490
what it will do is it will use apktool
to decompile the application and then it

396
00:33:30,490 --> 00:33:33,520
will do a static analysis the
application and find all that low

397
00:33:33,520 --> 00:33:38,290
hanging fruit so if they have all the
stuff that you presume you're an Android

398
00:33:38,290 --> 00:33:43,720
developer probably don't even know
exists like unprotected activities so

399
00:33:43,720 --> 00:33:48,490
Android application can can leave an
activity open so other applications can

400
00:33:48,490 --> 00:33:54,430
open it and that is very dangerous
because you can then build a vulnerable

401
00:33:54,430 --> 00:33:58,120
area and malicious application that will
spin up your application and do nasty

402
00:33:58,120 --> 00:34:03,669
things with it it will also find like
buttons that don't have a tap through

403
00:34:03,670 --> 00:34:07,750
protection on them all these things you
have to look for manually it's a very

404
00:34:07,750 --> 00:34:12,580
simple tool and it prints out a
super-nice HTML report me and so i

405
00:34:12,580 --> 00:34:16,480
highly recommend you use it even though
it's really tough to do on a really big

406
00:34:16,480 --> 00:34:22,360
screen like this arm but it's it's a
it's python it probably would run in

407
00:34:22,360 --> 00:34:25,240
windows I just don't usually run python
absolute windows so i have been running

408
00:34:25,239 --> 00:34:31,299
on my cali instance are definitely
something you should look at but even

409
00:34:31,300 --> 00:34:34,510
better is armed

410
00:34:34,510 --> 00:34:37,899
oh no I'm sorry it says linux only here
in my notes apparently it doesn't run

411
00:34:37,899 --> 00:34:41,889
linux for some reason I don't know why
I'm so that's one of the few write that

412
00:34:41,889 --> 00:34:49,600
did it is that is run on linux so we can
also use a wonderful modders tool called

413
00:34:49,600 --> 00:34:54,130
virtuous ten this is another app that's
so good i paid for it

414
00:34:54,790 --> 00:35:03,640
arm it is a tool that is designed to
allow people to skin applications for

415
00:35:03,640 --> 00:35:09,310
platforms where that's allowed like
cyanogen arm and it's literally I mean

416
00:35:09,310 --> 00:35:12,759
the guys the road that the guy that
wrote initially in Sweden where high

417
00:35:12,760 --> 00:35:13,260
school

418
00:35:13,260 --> 00:35:19,080
kits and and so it's a windows app our
mitts off and obviously has the dotnet

419
00:35:19,080 --> 00:35:20,069
look about it

420
00:35:20,070 --> 00:35:26,190
arm but it is extraordinarily powerful
it will allow us to go in and modify the

421
00:35:26,190 --> 00:35:34,950
Smalley code which is like the runtime
arm pieces of this arm with modifying

422
00:35:34,950 --> 00:35:38,609
and then recompile the app and reinstall
it

423
00:35:38,610 --> 00:35:44,190
so if you have an application where
potentially a user could do was on the

424
00:35:44,190 --> 00:35:47,760
privilege escalation by modifying the
application use somebody else's data

425
00:35:47,760 --> 00:35:53,550
this is the tool that the attacker would
use to do it and what's more this is

426
00:35:53,550 --> 00:35:59,580
tool you can use to find fall flaws in
the underlying Smalley code and there

427
00:35:59,580 --> 00:36:02,040
are a lot of guides out there to help
you do that

428
00:36:02,040 --> 00:36:05,070
not least of which being the arm

429
00:36:05,670 --> 00:36:10,680
uh oh awesome android pentesting a cheat
sheet which is out there somewhere i

430
00:36:10,680 --> 00:36:13,049
should have pulled that up there too but
it's super easy to find you can just

431
00:36:13,050 --> 00:36:16,560
search for it and I'm church structure
also be Android it'll be one of the top

432
00:36:16,560 --> 00:36:23,759
couple couple results so we can go in
and look at the this small code this is

433
00:36:23,760 --> 00:36:29,220
the like . Net Applications compiled on
the IL first before they go into DLLs

434
00:36:29,220 --> 00:36:34,169
and then you can use I'll dazzle to look
at the IL code that's what small yes

435
00:36:34,680 --> 00:36:41,100
ok it is the idea is interpreted
language code you can go in and look at

436
00:36:41,100 --> 00:36:45,420
this underlying code for potential flaws
like for instance if you want to know

437
00:36:45,420 --> 00:36:48,480
how they're calling the services

438
00:36:48,480 --> 00:36:52,650
what kind of authentication method
they're using you can see it in the URLs

439
00:36:52,650 --> 00:36:55,920
but if you want to see how they're
constructing the URLs and if they're

440
00:36:55,920 --> 00:36:59,250
getting a value from somewhere else in
the device that maybe will be used to

441
00:36:59,250 --> 00:37:03,930
you as an attacker then you can find it
using virtuous 10 is extraordinarily

442
00:37:03,930 --> 00:37:10,740
powerful tool for the pen tester on
however I warned you it is incredibly

443
00:37:10,740 --> 00:37:16,049
fragile and in fact I am when I the
first time you gave the talk it work

444
00:37:16,050 --> 00:37:19,950
oh and i had to just describe it like
very similar to the car park this time

445
00:37:19,950 --> 00:37:21,720
um I i had some

446
00:37:21,720 --> 00:37:26,160
I had some difficulties with it and so I
haven't subscribed i'm very glad that I

447
00:37:26,160 --> 00:37:29,700
got to work out I literally got a java
update the night before and it

448
00:37:29,700 --> 00:37:33,299
completely broke completely broke the
application even though it's written in

449
00:37:33,300 --> 00:37:39,060
dotnet because the android apps for java
apktool requires a certain Java

450
00:37:39,060 --> 00:37:45,000
framework to run so there are tons and
settings you have to get extremely thin

451
00:37:45,000 --> 00:37:48,960
layer whoa those do not fit in this
monitor nevermind a very familiar with

452
00:37:48,960 --> 00:37:54,150
as far as your apk version and you have
to make sure that like your framework is

453
00:37:54,150 --> 00:37:58,200
tied into the vm the apps running on its
super picky

454
00:37:58,770 --> 00:38:02,070
fortunately there is extraordinarily
good documentation so if you're serious

455
00:38:02,070 --> 00:38:05,070
about this getting good with this tool
make your life a lot easier

456
00:38:05,910 --> 00:38:12,029
um so you want to look at the at the the
arm you want to look at smaller for the

457
00:38:12,030 --> 00:38:18,570
underlying source code you want to look
at the manifests arm for flaws in there

458
00:38:18,570 --> 00:38:22,859
as well so the manifest is the config
file for an application and what

459
00:38:22,859 --> 00:38:27,569
developers like to put a big files
everything especially if their web

460
00:38:27,570 --> 00:38:32,310
developers will primarily like the think
of the config file is something that a

461
00:38:32,310 --> 00:38:39,480
user can get access to well obviously
that's not the case here right so that

462
00:38:39,480 --> 00:38:41,099
is something that we want to look at

463
00:38:41,099 --> 00:38:45,990
um there's there's all kinds of the
other original up starts right here you

464
00:38:45,990 --> 00:38:50,098
can check and see what search are loaded
into it you can look for vulnerable

465
00:38:50,099 --> 00:38:55,740
libraries right which there are a ton of
Android by looking to the lib folder

466
00:38:55,740 --> 00:38:58,529
very very powerful tool

467
00:38:58,530 --> 00:39:07,410
ok oh so I'm not gonna actually pull up
a spreadsheet action internet access

468
00:39:07,410 --> 00:39:16,680
no yeah all going

469
00:39:21,150 --> 00:39:32,730
so literally it's just this is it folks
and said this is here's your test plan

470
00:39:32,730 --> 00:39:37,559
right there on the loss webpage frankly
like all your other test plans if you

471
00:39:37,559 --> 00:39:41,670
take a minute to look ok the test guys
out there

472
00:39:41,670 --> 00:39:44,789
SVS is out there the cheat sheets are
out there

473
00:39:45,329 --> 00:39:50,220
don't tell me you don't know how to test
for things once you have the tool set

474
00:39:50,220 --> 00:39:53,730
which is what I'm giving you hear the
test plan is right there

475
00:39:53,730 --> 00:39:57,690
copy the stuff over to a spreadsheet
making duplicate of it for your test

476
00:39:57,690 --> 00:40:02,520
check each one if you don't have to do
it look it up if it's still know how to

477
00:40:02,520 --> 00:40:04,349
do it send me a tweet I'll help

478
00:40:04,349 --> 00:40:09,270
so there's there's your test plan it's
you know it's it's as simple as that arm

479
00:40:09,270 --> 00:40:13,230
there are a lot of other guidelines out
there for test plans but a ton of it is

480
00:40:13,230 --> 00:40:14,819
just you know use your head

481
00:40:14,819 --> 00:40:19,170
user had think through what it is you're
looking for and go and look for it so

482
00:40:19,170 --> 00:40:25,529
that's the so that's basically might my
core process but sometimes you have to

483
00:40:25,529 --> 00:40:33,599
run on metal so when you do that you end
up setting up a device level test

484
00:40:33,599 --> 00:40:40,230
environment and that is what i have here
this is my test physical phone where is

485
00:40:40,230 --> 00:40:41,369
this useful

486
00:40:41,369 --> 00:40:47,700
this is useful if you are doing anything
device-specific with the application so

487
00:40:47,700 --> 00:40:51,990
if you're using the candy app uses the
camera though admittedly genymotion is

488
00:40:51,990 --> 00:40:56,339
that pretty well the app uses Bluetooth
the app uses gps anything of that nature

489
00:40:56,339 --> 00:40:59,910
arm then you but I'm not done

490
00:41:03,809 --> 00:41:11,369
gosh hacking D'Arnot then you'd be able
to go into things that we're going to

491
00:41:11,369 --> 00:41:13,950
try this and see how this works yeah I
know you can do better

492
00:41:13,950 --> 00:41:18,598
that's not how steelmaking people leave
you scared them all

493
00:41:21,960 --> 00:41:34,320
so this is this is a one plus one case a
mobile phone manufacturer out of of

494
00:41:34,320 --> 00:41:42,690
China that makes arm it makes seven
hundred dollar phones for 300 dollars

495
00:41:42,690 --> 00:41:52,140
arm and the oneplus one has a benefit of
being one of the only seven devices that

496
00:41:52,140 --> 00:41:57,779
will run cali net hunter so cali not
hunter is a pen test suite for android

497
00:41:57,780 --> 00:42:02,280
now it is not actually for testing
android apps for doing regular pen

498
00:42:02,280 --> 00:42:10,080
testing there are network tools on here
and are the all kinds of little stuff

499
00:42:10,080 --> 00:42:13,170
Wi-Fi tests and that's a plant

500
00:42:13,170 --> 00:42:18,990
I shouldn't have that on there to do
just ignore that piece okay arm there is

501
00:42:18,990 --> 00:42:25,799
a fun food right fine are all kinds of
great all kinds of great tools to help

502
00:42:25,800 --> 00:42:31,050
you test a wireless network using a
mobile device super awesome but it also

503
00:42:31,050 --> 00:42:38,490
has the benefit of being well hardened
and are rooted and it will work really

504
00:42:38,490 --> 00:42:44,759
well for application testing as well as
for your arm is for your regular dentist

505
00:42:44,760 --> 00:42:50,400
needs so i strongly recommend you track
down one of the phones that that her

506
00:42:50,400 --> 00:42:56,790
runs on and use that for your regular
testing regular application testing

507
00:42:56,790 --> 00:42:59,040
situation

508
00:42:59,040 --> 00:43:03,450
yeah there's no better yet so there's
here's net hundreds of all kinds of cool

509
00:43:03,450 --> 00:43:09,149
tools in here you can see VNC manager
Mac changer duck hunters on your end map

510
00:43:09,150 --> 00:43:14,670
all these various and sundry digital pen
test tools but we can also do exactly

511
00:43:14,670 --> 00:43:24,700
the same thing we did before right where
we go in and add in that proxy

512
00:43:24,700 --> 00:43:33,609
so that we can watch the traffic from
here through burp suite visually

513
00:43:33,609 --> 00:43:36,730
AirDroid pushes to this device that's
the only thing i've done with it I can

514
00:43:36,730 --> 00:43:42,490
go run chrome or something do you guys
know it's because it's connected so once

515
00:43:42,490 --> 00:43:47,589
again separate device running through
burb works great see what else was going

516
00:43:47,589 --> 00:43:50,140
to say about this

517
00:43:50,140 --> 00:43:54,819
so yeah if you don't have a richer own
rooted android phone look it up it's

518
00:43:54,820 --> 00:44:00,010
easy are other than that it's runs it
with this works exactly like using a the

519
00:44:00,010 --> 00:44:04,210
vm exactly the same detail so that's
about it

520
00:44:04,210 --> 00:44:14,619
good there's one thing i want to talk
about so i'm working on a tool i the the

521
00:44:14,619 --> 00:44:23,230
so anybody familiar with retired IAS yes
it is the library that is being

522
00:44:23,230 --> 00:44:28,480
maintained by the community of of known
vulnerable javascript libraries which if

523
00:44:28,480 --> 00:44:31,119
any of you are doing any vulnerability
assessment you know that javascript

524
00:44:31,119 --> 00:44:36,849
libraries are big deal these days most
applications use some some applications

525
00:44:36,849 --> 00:44:41,260
use nothing but um it is absolutely
essential to be running that as a butt

526
00:44:41,260 --> 00:44:45,160
plug in if you're doing web assessments
there's no way you're going to remember

527
00:44:45,160 --> 00:44:50,680
that some obscure toolkit is um is
vulnerable and looking up each one takes

528
00:44:50,680 --> 00:44:55,089
forever so please run if you're doing
what assessments but there isn't

529
00:44:55,089 --> 00:44:59,859
anything for android assessments so I'm
building one arm and it uses the same

530
00:44:59,859 --> 00:45:06,490
pattern as retirement jazakallah khairan
IDK i've got the repository set up in

531
00:45:06,490 --> 00:45:09,549
the same configuration obviously don't
have much in here now just got started

532
00:45:09,550 --> 00:45:15,430
on this a couple weeks ago arm so if
anyone is interested in it doesn't so

533
00:45:15,430 --> 00:45:18,819
this isn't for the this isn't for
everyone necessarily if you're involved

534
00:45:18,819 --> 00:45:22,180
in the android security scene and you
know the vulnerable libraries and you

535
00:45:22,180 --> 00:45:26,078
would like to participate or if you want
to get into it then this is a great way

536
00:45:26,079 --> 00:45:27,069
to kick in

537
00:45:27,069 --> 00:45:29,009
um I haven't yet actually written

538
00:45:29,010 --> 00:45:35,010
my my core code yeah I got it figured
out like a android APK files just a zip

539
00:45:35,010 --> 00:45:38,430
file you can actually if you want to do
super basic analysis you can change .

540
00:45:38,430 --> 00:45:44,700
zip and just open it in 7-zip something
if you want arm so on and then we're

541
00:45:44,700 --> 00:45:47,970
gonna do you know we're going to regex
and pick up those projects commands and

542
00:45:47,970 --> 00:45:51,899
running from there so I i just got
started on this so it doesn't do

543
00:45:51,900 --> 00:45:56,970
anything yet it's not ready for anything
it doesn't actually work at all but arm

544
00:45:56,970 --> 00:46:02,399
it will sue and I think that will be a
good addition to the scanning tools that

545
00:46:02,400 --> 00:46:07,260
are out in place so that pretty much
covers that I think he's gonna go give

546
00:46:07,260 --> 00:46:10,230
me a hand and just a minute here so arm

547
00:46:10,230 --> 00:46:14,820
oh really it's it's so i will take any
questions anyone has but frankly i'll

548
00:46:14,820 --> 00:46:19,740
also be hanging around the con all
evening and into that tomorrow be here

549
00:46:19,740 --> 00:46:23,790
all day of my wife's Gabrielle is in the
back she's the pretty blonde

550
00:46:23,790 --> 00:46:29,700
yeah very good yeah that's good um and
uh and she's really easy to find because

551
00:46:29,700 --> 00:46:32,819
she's a pretty blonde and not a dumpy
white guy like most of the rest of us

552
00:46:32,820 --> 00:46:36,660
are so if you see here i'll be near want
your body but I'll take any questions

553
00:46:36,660 --> 00:46:39,660
you've got right now to go

554
00:46:42,780 --> 00:46:52,410
sure are so the question is strategies
for absolute install a rooted device

555
00:46:53,280 --> 00:46:58,590
um I hate to be this way but google it
there are there are a lot of tools out

556
00:46:58,590 --> 00:47:01,590
there that hide that from you

557
00:47:04,350 --> 00:47:10,440
nope no it works just fine hey if you're
leaving her shop so that the people who

558
00:47:10,440 --> 00:47:13,380
want to ask questions can question or
good

559
00:47:13,380 --> 00:47:16,320
ok question over here

560
00:47:16,320 --> 00:47:24,930
think about all the way back to java
virtual stendhal do that

561
00:47:24,930 --> 00:47:30,960
um there's the the standard Java hell is
it the standard tool will will roll back

562
00:47:31,560 --> 00:47:35,820
I just don't have it configured for auto
care arm but yeah it's it's it's just

563
00:47:35,820 --> 00:47:42,060
it's built right into the 280 apktool so
apktool is the underlying technology for

564
00:47:42,060 --> 00:47:46,290
all of this right for all that
decompiling arm and it's it's it's a

565
00:47:46,290 --> 00:47:49,529
queer actively maintained on github and
you can go there and find things for it

566
00:47:49,530 --> 00:47:52,470
and there are settings for apktool that
the roll all the way back to the job if

567
00:47:52,470 --> 00:47:56,189
you want and and virtuous 10 will will
handle those settings

568
00:47:57,180 --> 00:48:25,379
yes absolutely absolutely

569
00:48:31,020 --> 00:48:34,980
yeah that's that's absolutely and
unfortunately there's no good automated

570
00:48:34,980 --> 00:48:41,220
way to do that arm but but what you can
but you can definitely do is arm I'll

571
00:48:41,220 --> 00:48:46,919
review the manifest that's that's really
where it's all at are all of the

572
00:48:46,920 --> 00:48:50,700
permissions required are in the
manifests and you can analyze them and

573
00:48:50,700 --> 00:48:55,890
balance them against what has been asked
for and makeup make a decision for your

574
00:48:55,890 --> 00:48:59,339
route 44 whether or not they're asking
for something they don't need now with

575
00:48:59,340 --> 00:49:03,240
android 4 and up they can't use
something they haven't explicitly ask

576
00:49:03,240 --> 00:49:08,310
the user for by rule arm there's no way
around that even on a auto rooted

577
00:49:08,310 --> 00:49:09,870
machine there's no way around it

578
00:49:09,870 --> 00:49:13,440
you have to have it in the manifest to
use it if you don't ask for right

579
00:49:13,440 --> 00:49:17,850
external storage your app simply does
not see the SD card it's just not there

580
00:49:17,850 --> 00:49:24,060
are so it'sit's very solid arm but that
doesn't mean that users won't look

581
00:49:24,060 --> 00:49:25,140
because users well

582
00:49:25,140 --> 00:49:29,038
look he just say okay they want to
install the app you just say okay so if

583
00:49:29,039 --> 00:49:32,430
you're reviewing apps for your own
company going through and looking at

584
00:49:32,430 --> 00:49:36,899
that and calling them and saying do you
actually need the microphone because if

585
00:49:36,900 --> 00:49:39,960
not I would like that not be in your
manifest that's a very reasonable thing

586
00:49:39,960 --> 00:49:40,710
to do

587
00:49:40,710 --> 00:49:55,740
yes so the question was how hard is it
to cut a UH activity out of the manifest

588
00:49:55,740 --> 00:49:59,459
earn operational manifest so you mean
from the developer's perspective or do

589
00:49:59,460 --> 00:50:08,099
you mean afterwards you know I've never
tried that arm it should technically be

590
00:50:08,099 --> 00:50:12,329
possible using using rituals 10 i'll
have to try it and if you use twitter

591
00:50:12,329 --> 00:50:15,930
find me on Twitter or find me any one of
the hundreds super easy to find and end

592
00:50:15,930 --> 00:50:21,808
and remind me and I'll try it and let
you know probably long you down okay i'm

593
00:50:21,809 --> 00:50:26,430
done i'll be a mark on i'll be around
i'm easy to find it super easy to find

594
00:50:26,430 --> 00:50:29,549
me on Twitter look me up love to talk
android ok

