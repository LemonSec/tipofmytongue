1
00:00:00,510 --> 00:00:05,279
or make sure you guys are on the right

2
00:00:02,040 --> 00:00:08,429
talk we're gonna be essentially

3
00:00:05,279 --> 00:00:12,690
attacking some features in offices

4
00:00:08,429 --> 00:00:16,710
office 365 here is that working over

5
00:00:12,690 --> 00:00:20,009
there we good all right so I like to

6
00:00:16,710 --> 00:00:23,220
kind of commute you know communicate

7
00:00:20,010 --> 00:00:29,330
with the audience here and so I'm a dad

8
00:00:23,220 --> 00:00:29,330
set Kacie founder anybody from set Kacie

9
00:00:32,119 --> 00:00:43,050
yes a defender an offender I'm the

10
00:00:38,910 --> 00:00:53,399
nicest evil guy that you'll know and I

11
00:00:43,050 --> 00:00:56,430
also happen to enjoy nice I got more

12
00:00:53,399 --> 00:01:00,530
than that in my pocket so you drink that

13
00:00:56,430 --> 00:01:00,530
[Applause]

14
00:01:01,970 --> 00:01:09,229
[Laughter]

15
00:01:04,010 --> 00:01:12,930
okay now that we've established in yes

16
00:01:09,229 --> 00:01:16,229
so I actually also happen to you know

17
00:01:12,930 --> 00:01:18,689
enjoy having a good time also run the

18
00:01:16,229 --> 00:01:23,009
DEF CON parties as well as the ice for

19
00:01:18,689 --> 00:01:25,619
Derby con but besides that I just want

20
00:01:23,009 --> 00:01:27,000
you guys to relax we're gonna go a

21
00:01:25,619 --> 00:01:29,460
little journey here you don't have to

22
00:01:27,000 --> 00:01:31,100
worry can you guys hear me okay eat the

23
00:01:29,460 --> 00:01:33,240
mic great thing okay

24
00:01:31,100 --> 00:01:36,419
you don't need or take any notes I'm

25
00:01:33,240 --> 00:01:40,949
gonna give you everything here and as we

26
00:01:36,420 --> 00:01:43,740
as we do that the the too long didn't

27
00:01:40,950 --> 00:01:46,850
read portion would definitely be that

28
00:01:43,740 --> 00:01:50,690
Microsoft built a c2

29
00:01:46,850 --> 00:01:52,699
and you literally just need a little bit

30
00:01:50,690 --> 00:01:54,800
of access there might be some physical

31
00:01:52,700 --> 00:01:59,060
access to a computer but for the most

32
00:01:54,800 --> 00:02:01,190
part Microsoft built a c2 and I wasn't

33
00:01:59,060 --> 00:02:03,110
even gonna build a tool for this talk

34
00:02:01,190 --> 00:02:05,950
like literally in the last week the

35
00:02:03,110 --> 00:02:08,478
scope creep that happens when using

36
00:02:05,950 --> 00:02:09,470
Microsoft flow is pretty much

37
00:02:08,479 --> 00:02:15,320
unbelievable

38
00:02:09,470 --> 00:02:18,500
and how many people use flow oh sweet ok

39
00:02:15,320 --> 00:02:23,690
do you do any hacking with it oh we got

40
00:02:18,500 --> 00:02:25,340
one okay so if if you want to you can go

41
00:02:23,690 --> 00:02:26,209
ahead and go to float up Microsoft comm

42
00:02:25,340 --> 00:02:28,280
because I'm going to show you some

43
00:02:26,209 --> 00:02:30,830
settings in there that might be kind of

44
00:02:28,280 --> 00:02:33,200
scary for your organization but you can

45
00:02:30,830 --> 00:02:34,970
just sign in to float out Microsoft calm

46
00:02:33,200 --> 00:02:37,010
and we'll get to that a little bit so

47
00:02:34,970 --> 00:02:39,650
what is flow oh and I should I show

48
00:02:37,010 --> 00:02:42,709
preference that I did let Microsoft

49
00:02:39,650 --> 00:02:44,540
choose some of my slides images so they

50
00:02:42,709 --> 00:02:47,000
have this feature inside a PowerPoint

51
00:02:44,540 --> 00:02:48,859
that it will do a I supposedly and so

52
00:02:47,000 --> 00:02:54,380
that's what Microsoft thinks flow is

53
00:02:48,860 --> 00:02:56,480
right here in the yellow it's it's not

54
00:02:54,380 --> 00:03:01,370
net flow it's not Naughty by Nature it's

55
00:02:56,480 --> 00:03:02,690
not the Geico lady but or progressive

56
00:03:01,370 --> 00:03:08,060
sorry okay

57
00:03:02,690 --> 00:03:11,209
yes thank you but uh a little bit about

58
00:03:08,060 --> 00:03:13,610
flow so it's an automation tool it would

59
00:03:11,209 --> 00:03:15,019
also say that it's more for the business

60
00:03:13,610 --> 00:03:17,720
side and it sounds like that they

61
00:03:15,019 --> 00:03:21,110
preference this being for the business

62
00:03:17,720 --> 00:03:23,930
itself and they've got a handful of

63
00:03:21,110 --> 00:03:27,500
features there and there's a little

64
00:03:23,930 --> 00:03:28,430
robot was selected by Microsoft but so

65
00:03:27,500 --> 00:03:31,040
how did we get here

66
00:03:28,430 --> 00:03:32,840
so I started using flow for automation I

67
00:03:31,040 --> 00:03:35,600
started looking at things you know and

68
00:03:32,840 --> 00:03:38,750
you know figuring out you know what

69
00:03:35,600 --> 00:03:41,900
could I do with flow to make someone's

70
00:03:38,750 --> 00:03:44,750
job easier and as I was looking at it I

71
00:03:41,900 --> 00:03:48,890
designed a tool that would take JSON it

72
00:03:44,750 --> 00:03:50,269
would extract data do some OPSEC where

73
00:03:48,890 --> 00:03:52,548
it would remove if you had like a

74
00:03:50,269 --> 00:03:54,530
company email would remove that before

75
00:03:52,549 --> 00:03:57,919
posting it to or looking it up on

76
00:03:54,530 --> 00:04:00,590
virustotal do a bunch of ascent if it

77
00:03:57,919 --> 00:04:02,900
happens to have like a year

78
00:04:00,590 --> 00:04:06,050
redirect I would follow that and that

79
00:04:02,900 --> 00:04:08,569
start capturing the URL images or the

80
00:04:06,050 --> 00:04:11,209
image hashes and the tool itself would

81
00:04:08,569 --> 00:04:12,890
start to show like hey this is a

82
00:04:11,209 --> 00:04:15,140
phishing email it was doing it by itself

83
00:04:12,890 --> 00:04:17,238
like hey that we've we've seen this in

84
00:04:15,140 --> 00:04:19,668
your else game before or maybe we could

85
00:04:17,238 --> 00:04:22,549
post it to miss or whatnot and then it

86
00:04:19,668 --> 00:04:24,020
output to a SharePoint site so I you

87
00:04:22,550 --> 00:04:25,550
know I was like hey it's a response team

88
00:04:24,020 --> 00:04:39,469
I built this thing and they were

89
00:04:25,550 --> 00:04:42,320
literally like cool so so whip yeah let

90
00:04:39,470 --> 00:04:46,370
me unpack flow a little bit or unrar of

91
00:04:42,320 --> 00:04:48,770
those pirates in here but uh it's an

92
00:04:46,370 --> 00:04:50,600
automation tool definitely it has like

93
00:04:48,770 --> 00:04:51,740
so where if you're going to select a

94
00:04:50,600 --> 00:04:53,900
feature it's either going to be

95
00:04:51,740 --> 00:04:56,600
automated it's gonna be an instant flow

96
00:04:53,900 --> 00:04:58,489
or a scheduled tasks so you can either

97
00:04:56,600 --> 00:05:00,800
you know click a button or maybe you

98
00:04:58,490 --> 00:05:04,669
have some automated where an email comes

99
00:05:00,800 --> 00:05:06,260
in and then you'll do blah or they asked

100
00:05:04,669 --> 00:05:08,570
I have some features like if you get an

101
00:05:06,260 --> 00:05:11,210
email from your boss it'll send you a

102
00:05:08,570 --> 00:05:12,770
text message or pop up on your phone but

103
00:05:11,210 --> 00:05:15,109
there's hundreds and hundreds of

104
00:05:12,770 --> 00:05:17,719
integrations inside flow already built

105
00:05:15,110 --> 00:05:20,660
from Microsoft so I was like ok cool

106
00:05:17,720 --> 00:05:23,180
let's check this out so as I did that

107
00:05:20,660 --> 00:05:24,440
I'm like okay well I want an email that

108
00:05:23,180 --> 00:05:27,320
comes in that says it has to do with

109
00:05:24,440 --> 00:05:28,940
malware and then I will post it to

110
00:05:27,320 --> 00:05:31,159
Twitter you know that seems like a good

111
00:05:28,940 --> 00:05:32,750
idea you know your email comes in and

112
00:05:31,160 --> 00:05:34,250
then you post it outside the

113
00:05:32,750 --> 00:05:36,020
organization I didn't see any problem

114
00:05:34,250 --> 00:05:38,539
with that so I tried to do that and

115
00:05:36,020 --> 00:05:40,010
literally this message came up and I was

116
00:05:38,539 --> 00:05:44,469
like I was actually shocked and like

117
00:05:40,010 --> 00:05:44,469
when did DLP start catching stuff

118
00:05:44,860 --> 00:05:49,990
and it's you know so I'm sitting there

119
00:05:47,740 --> 00:05:51,670
and I'm like well why don't they show me

120
00:05:49,990 --> 00:05:55,660
that as an option I'm like what's going

121
00:05:51,670 --> 00:05:57,640
on here so if those are following along

122
00:05:55,660 --> 00:05:59,920
that have you know your office 365

123
00:05:57,640 --> 00:06:01,780
environment open if you go

124
00:05:59,920 --> 00:06:04,960
if you've already logged in to float up

125
00:06:01,780 --> 00:06:07,690
Microsoft comm and you click this that

126
00:06:04,960 --> 00:06:10,030
little gear up there in the top and you

127
00:06:07,690 --> 00:06:12,040
go the admin Center and we'll go and

128
00:06:10,030 --> 00:06:13,989
follow along here hopefully you've done

129
00:06:12,040 --> 00:06:17,230
that so my friend in the front here is

130
00:06:13,990 --> 00:06:19,600
capturing your passwords click on the

131
00:06:17,230 --> 00:06:22,030
data policies click on your policy that

132
00:06:19,600 --> 00:06:23,710
you have here and click on the data

133
00:06:22,030 --> 00:06:26,320
group so I'm like ok following this

134
00:06:23,710 --> 00:06:29,890
along and lo and behold someone had

135
00:06:26,320 --> 00:06:34,180
added a business data only for Outlook

136
00:06:29,890 --> 00:06:36,520
and I'm like hmm well I was kind of

137
00:06:34,180 --> 00:06:38,590
shocked there well if you put anything

138
00:06:36,520 --> 00:06:40,479
that you want to be protected so only of

139
00:06:38,590 --> 00:06:43,960
those integrations can talk to one

140
00:06:40,480 --> 00:06:47,020
another would be the officer 65 you want

141
00:06:43,960 --> 00:06:49,239
to put up in the business level and down

142
00:06:47,020 --> 00:06:51,219
below would be the you know stuff that

143
00:06:49,240 --> 00:06:53,800
you don't want it to communicate with so

144
00:06:51,220 --> 00:06:56,350
you know I came from the school of try

145
00:06:53,800 --> 00:07:00,610
harder and I'm like okay well let's see

146
00:06:56,350 --> 00:07:01,810
what we have here this uh as I was going

147
00:07:00,610 --> 00:07:03,250
through all the process and going

148
00:07:01,810 --> 00:07:06,700
through all the connectors I discovered

149
00:07:03,250 --> 00:07:08,080
that there is actually two right there's

150
00:07:06,700 --> 00:07:10,659
a three but these are the two primary

151
00:07:08,080 --> 00:07:14,070
that you could use to bypass the DLP

152
00:07:10,660 --> 00:07:16,750
feature here so with that being said

153
00:07:14,070 --> 00:07:19,570
when you try to take business data and

154
00:07:16,750 --> 00:07:22,810
access the connector data it gets denied

155
00:07:19,570 --> 00:07:27,010
just doesn't fit but that same path here

156
00:07:22,810 --> 00:07:29,710
going along would obviously get through

157
00:07:27,010 --> 00:07:31,180
so if you take business data you put it

158
00:07:29,710 --> 00:07:34,030
into one of these two connectors that

159
00:07:31,180 --> 00:07:36,250
Microsoft provides then it's no longer

160
00:07:34,030 --> 00:07:38,140
business data it's like you know the

161
00:07:36,250 --> 00:07:39,850
type of like these are not the drones

162
00:07:38,140 --> 00:07:41,770
like Microsoft's like oh cool you can

163
00:07:39,850 --> 00:07:42,850
communicate with that so you know I'm

164
00:07:41,770 --> 00:07:45,669
pretty excited about that

165
00:07:42,850 --> 00:07:46,750
oh happy so let's let's so you know

166
00:07:45,670 --> 00:07:50,680
let's break this down a little bit

167
00:07:46,750 --> 00:07:52,630
further so as you post a tweet when

168
00:07:50,680 --> 00:07:57,820
we're going to have an a message come in

169
00:07:52,630 --> 00:08:03,430
and then I'm going to do an HTTP POST to

170
00:07:57,820 --> 00:08:05,170
a request now a request to me is it's an

171
00:08:03,430 --> 00:08:09,760
interesting thing so Microsoft allows

172
00:08:05,170 --> 00:08:12,850
you to have a like a request portion

173
00:08:09,760 --> 00:08:15,010
where anything that you want to post a

174
00:08:12,850 --> 00:08:17,920
Microsoft they just build you like on

175
00:08:15,010 --> 00:08:20,950
the fly a cloud server so that that's

176
00:08:17,920 --> 00:08:21,430
what this is it's my my cloud server for

177
00:08:20,950 --> 00:08:23,140
my data

178
00:08:21,430 --> 00:08:25,810
it just says here's a link you can start

179
00:08:23,140 --> 00:08:28,630
posting into it like ok so we take the

180
00:08:25,810 --> 00:08:33,220
HTTP post we post it into the request

181
00:08:28,630 --> 00:08:36,189
and then we make that requests a post

182
00:08:33,220 --> 00:08:38,950
that on to the internet like oh ok well

183
00:08:36,190 --> 00:08:44,590
I didn't get that err this time so let's

184
00:08:38,950 --> 00:08:47,380
put this in practice here so what we'll

185
00:08:44,590 --> 00:08:52,480
be doing here is I have a URL that I

186
00:08:47,380 --> 00:08:54,310
want to post and we will be right I'm

187
00:08:52,480 --> 00:08:55,810
just refreshing the Twitter account so

188
00:08:54,310 --> 00:08:59,170
you can kind of see you like there's no

189
00:08:55,810 --> 00:09:03,250
new data there but yeah I know

190
00:08:59,170 --> 00:09:05,740
it's private so being that you know I

191
00:09:03,250 --> 00:09:07,300
just sent the email which and I'm gonna

192
00:09:05,740 --> 00:09:09,730
just show that the policy is still

193
00:09:07,300 --> 00:09:13,329
running I'm not allowed to you know post

194
00:09:09,730 --> 00:09:15,790
data to Twitter click refresh here hole

195
00:09:13,330 --> 00:09:18,330
still but you know stupid policies still

196
00:09:15,790 --> 00:09:22,120
there ok well we'll go ahead and refresh

197
00:09:18,330 --> 00:09:24,550
BAM we've got data outside we've

198
00:09:22,120 --> 00:09:29,350
exfilled data outside the rules of

199
00:09:24,550 --> 00:09:31,390
Microsoft so it looks sweet so now you

200
00:09:29,350 --> 00:09:37,210
know that smile just keeps turning in

201
00:09:31,390 --> 00:09:39,040
like this so I'm thinking like what else

202
00:09:37,210 --> 00:09:41,700
can we do can we just you know monitor

203
00:09:39,040 --> 00:09:45,189
the Inbox and start recording things so

204
00:09:41,700 --> 00:09:47,650
just to set the stage here I have on the

205
00:09:45,190 --> 00:09:53,140
left I have office 365 on the right I

206
00:09:47,650 --> 00:09:56,319
have the Google sheets and what I'm

207
00:09:53,140 --> 00:10:02,170
hoping to do is anything that comes into

208
00:09:56,320 --> 00:10:04,540
my inbox will land into Google sheets so

209
00:10:02,170 --> 00:10:08,469
that being said we're going to show you

210
00:10:04,540 --> 00:10:09,939
the rules that just to make sure that

211
00:10:08,470 --> 00:10:11,030
I'm not cheating and I have the email

212
00:10:09,940 --> 00:10:14,960
forwarding outside the company

213
00:10:11,030 --> 00:10:17,750
there's no rules on new responses or

214
00:10:14,960 --> 00:10:19,250
anything of that nature we'll go ahead

215
00:10:17,750 --> 00:10:23,570
and start a new message I'm just gonna

216
00:10:19,250 --> 00:10:25,070
send it to myself you know people are

217
00:10:23,570 --> 00:10:26,480
amazing they're like hey here's my new

218
00:10:25,070 --> 00:10:33,080
pass or I'll just send it to myself in

219
00:10:26,480 --> 00:10:35,780
my inbox and send here and just to kind

220
00:10:33,080 --> 00:10:37,100
of go through the rest of the path I

221
00:10:35,780 --> 00:10:40,819
wanted to make sure that I could even

222
00:10:37,100 --> 00:10:42,230
respond to emails and that would pass

223
00:10:40,820 --> 00:10:46,130
through as well so I'd get the full

224
00:10:42,230 --> 00:10:49,310
conversation going back and forth so as

225
00:10:46,130 --> 00:10:52,130
that was happening I was just posting to

226
00:10:49,310 --> 00:10:55,989
Google sheets there outside

227
00:10:52,130 --> 00:10:58,610
API so lo and behold yes we can totally

228
00:10:55,990 --> 00:11:01,040
exfil you can sit inside someone's inbox

229
00:10:58,610 --> 00:11:02,750
so as an attacker this is really awesome

230
00:11:01,040 --> 00:11:04,400
when you know like hey it's a response

231
00:11:02,750 --> 00:11:06,950
did you check the rules like yep we're

232
00:11:04,400 --> 00:11:10,370
good be like did you check flow like no

233
00:11:06,950 --> 00:11:13,040
I never heard of that so what just

234
00:11:10,370 --> 00:11:17,330
happened there so when a new message

235
00:11:13,040 --> 00:11:22,400
comes in I post it to you know our our

236
00:11:17,330 --> 00:11:25,940
internal requests and it in turns strips

237
00:11:22,400 --> 00:11:27,530
out the HTML garbage that's inside the

238
00:11:25,940 --> 00:11:31,210
email I just have it extract that and

239
00:11:27,530 --> 00:11:34,310
then it responds back into that path and

240
00:11:31,210 --> 00:11:40,370
composes a new message and post it out

241
00:11:34,310 --> 00:11:42,739
on to the Google sheets so another thing

242
00:11:40,370 --> 00:11:46,490
I happened to notice was every time I

243
00:11:42,740 --> 00:11:48,860
would stand up a new I'll just say that

244
00:11:46,490 --> 00:11:50,840
you know that as your platform anytime I

245
00:11:48,860 --> 00:11:52,910
would stand up like a new request I

246
00:11:50,840 --> 00:11:55,400
would notice that I'd get a new IP

247
00:11:52,910 --> 00:11:57,699
address for every single one and I

248
00:11:55,400 --> 00:11:59,900
happened to start noticing that

249
00:11:57,700 --> 00:12:03,050
sometimes I would configure rules that

250
00:11:59,900 --> 00:12:05,510
would fire off every minute so as I was

251
00:12:03,050 --> 00:12:06,979
looking at this stuff I happened to

252
00:12:05,510 --> 00:12:09,620
notice I'm like well we could probably

253
00:12:06,980 --> 00:12:11,180
build a botnet so Microsoft's like sweet

254
00:12:09,620 --> 00:12:14,380
you gave me a botnet that I can start

255
00:12:11,180 --> 00:12:17,479
attacking other organizations with and

256
00:12:14,380 --> 00:12:19,550
so I'd schedule a task we use one of

257
00:12:17,480 --> 00:12:22,310
those that says hey fire every five

258
00:12:19,550 --> 00:12:24,439
seconds or one minute and it would reach

259
00:12:22,310 --> 00:12:27,589
out to every single one of the

260
00:12:24,440 --> 00:12:30,260
requests that you can build yourself so

261
00:12:27,590 --> 00:12:33,080
as you do that those are individual

262
00:12:30,260 --> 00:12:34,520
random IP addresses that you would use

263
00:12:33,080 --> 00:12:36,470
from that environment and they don't

264
00:12:34,520 --> 00:12:37,760
change they're pretty static I've had

265
00:12:36,470 --> 00:12:39,200
them for two or three weeks and I've

266
00:12:37,760 --> 00:12:42,350
noticed that they've never change

267
00:12:39,200 --> 00:12:45,410
and as you pass that data through that

268
00:12:42,350 --> 00:12:46,160
request it will post to the actual

269
00:12:45,410 --> 00:12:48,650
victim

270
00:12:46,160 --> 00:12:52,459
so either you're doing like I get or a

271
00:12:48,650 --> 00:12:54,199
post to their infrastructure and as an

272
00:12:52,460 --> 00:12:55,990
instant response person of like well

273
00:12:54,200 --> 00:12:58,580
we'll just go ahead and block that and

274
00:12:55,990 --> 00:13:00,080
you know that will probably work out

275
00:12:58,580 --> 00:13:07,310
really well for you if you're in office

276
00:13:00,080 --> 00:13:10,010
365 customer so it was like seven years

277
00:13:07,310 --> 00:13:12,349
ago I posted this and it happened to pop

278
00:13:10,010 --> 00:13:17,720
up the yeah that's the actually that's

279
00:13:12,350 --> 00:13:20,990
me I change over that you know over time

280
00:13:17,720 --> 00:13:23,150
but seven years ago I posted this and I

281
00:13:20,990 --> 00:13:25,460
was like that would be you know this

282
00:13:23,150 --> 00:13:28,490
actually works for my talk well what if

283
00:13:25,460 --> 00:13:32,300
we could build an actual button that

284
00:13:28,490 --> 00:13:34,970
could do something so a real an

285
00:13:32,300 --> 00:13:36,589
honest-to-god hack button so I'm gonna

286
00:13:34,970 --> 00:13:37,910
have to set set the stage here because

287
00:13:36,590 --> 00:13:41,420
there's gonna be a lot of stuff that's

288
00:13:37,910 --> 00:13:46,490
about to happen what we're hoping to do

289
00:13:41,420 --> 00:13:49,579
here is drop a file onto a user's

290
00:13:46,490 --> 00:13:52,360
desktop now in order to do that I want

291
00:13:49,580 --> 00:13:55,790
to have some complete office caching and

292
00:13:52,360 --> 00:13:57,890
by what I'm doing here is I'm gonna send

293
00:13:55,790 --> 00:14:00,500
like a normal spam message that you

294
00:13:57,890 --> 00:14:02,630
might receive in your inbox but at the

295
00:14:00,500 --> 00:14:05,810
same time I want to hide code in there

296
00:14:02,630 --> 00:14:09,710
that flow will actually parse a part for

297
00:14:05,810 --> 00:14:13,189
us decode the base64 which turns into a

298
00:14:09,710 --> 00:14:16,730
URL it goes out onto the URL grabs a

299
00:14:13,190 --> 00:14:20,060
payload takes that payload drops it onto

300
00:14:16,730 --> 00:14:23,330
the box and then eventually will execute

301
00:14:20,060 --> 00:14:24,829
it so oh and I found out that flow is

302
00:14:23,330 --> 00:14:27,710
really nice that you can build a

303
00:14:24,830 --> 00:14:30,589
phishing toolkit within flow like you

304
00:14:27,710 --> 00:14:33,470
could honestly have a button that you

305
00:14:30,589 --> 00:14:35,750
check and say hey I want to do a UPS

306
00:14:33,470 --> 00:14:37,800
scam just pick the who you want to send

307
00:14:35,750 --> 00:14:40,110
it to and it will off it goes

308
00:14:37,800 --> 00:14:45,089
so with that being said I'll go ahead

309
00:14:40,110 --> 00:14:47,970
and so here this is a paste bin that has

310
00:14:45,089 --> 00:14:52,100
the batch script that I'm gonna run so I

311
00:14:47,970 --> 00:14:54,929
take the URL convert it to base64 and

312
00:14:52,100 --> 00:14:58,559
inside flow like on your phone this

313
00:14:54,929 --> 00:15:00,929
would be emulating a phone here so we

314
00:14:58,559 --> 00:15:03,629
select that the shipping one I take the

315
00:15:00,929 --> 00:15:07,290
base64 and break it up into each one of

316
00:15:03,629 --> 00:15:10,110
those fields and click send

317
00:15:07,290 --> 00:15:13,469
so that should land in the Inbox it

318
00:15:10,110 --> 00:15:14,850
looks like a normal email doesn't have

319
00:15:13,470 --> 00:15:17,009
any malicious links in it so the user

320
00:15:14,850 --> 00:15:18,749
might just say oh well that's nothing or

321
00:15:17,009 --> 00:15:20,670
throw it away or delete it but meanwhile

322
00:15:18,749 --> 00:15:23,160
flow is processing it you can see on the

323
00:15:20,670 --> 00:15:27,329
left hand side it dropped that batch

324
00:15:23,160 --> 00:15:30,209
script and momentarily BAM it executed

325
00:15:27,329 --> 00:15:32,160
it over the internet so if you're

326
00:15:30,209 --> 00:15:35,248
thinking about this I know what you're

327
00:15:32,160 --> 00:15:38,699
thinking right now you're like well oh

328
00:15:35,249 --> 00:15:41,549
if you open the file says hi Derby but I

329
00:15:38,699 --> 00:15:46,469
know what you're thinking so if I don't

330
00:15:41,549 --> 00:15:48,929
use office 365 I'm safe but what if I

331
00:15:46,470 --> 00:15:51,899
told you I can bring my own office 365

332
00:15:48,929 --> 00:15:53,129
to your environment but really but

333
00:15:51,899 --> 00:15:55,350
really I know what you're really

334
00:15:53,129 --> 00:15:58,470
thinking they were like how did we get

335
00:15:55,350 --> 00:16:01,470
from using office 365 and now we're

336
00:15:58,470 --> 00:16:02,279
dropping code onto individuals computers

337
00:16:01,470 --> 00:16:06,660
that's probably what you're really

338
00:16:02,279 --> 00:16:09,269
thinking so Microsoft and it's infinite

339
00:16:06,660 --> 00:16:12,059
wisdom I you know they built this thing

340
00:16:09,269 --> 00:16:16,110
that has on-premise data so you can

341
00:16:12,059 --> 00:16:17,939
actually install flow internally to take

342
00:16:16,110 --> 00:16:20,279
commands from the internet so that's how

343
00:16:17,939 --> 00:16:23,480
I was able to push a button on my phone

344
00:16:20,279 --> 00:16:27,449
and bypass all of your security

345
00:16:23,480 --> 00:16:29,759
protocols and drop data onto a host

346
00:16:27,449 --> 00:16:31,618
internally so it was a red team or a

347
00:16:29,759 --> 00:16:32,189
nation-state actor you like this is

348
00:16:31,619 --> 00:16:34,199
great

349
00:16:32,189 --> 00:16:37,040
yeah thanks Microsoft because if you're

350
00:16:34,199 --> 00:16:39,508
you know looking for you know unknown

351
00:16:37,040 --> 00:16:40,860
data points you know you're not going to

352
00:16:39,509 --> 00:16:42,449
think that Microsoft's the one that's

353
00:16:40,860 --> 00:16:45,390
you know feeding this data back and

354
00:16:42,449 --> 00:16:49,709
forth so

355
00:16:45,390 --> 00:16:52,769
let's talk about my oceans one of hi

356
00:16:49,709 --> 00:16:55,589
seen here so what we ended up doing is

357
00:16:52,769 --> 00:16:59,339
we built a button for flow that we would

358
00:16:55,589 --> 00:17:04,470
click on the phone that would take the

359
00:16:59,339 --> 00:17:06,720
base64 I of the URL that we had put it

360
00:17:04,470 --> 00:17:08,130
in an email send it to the user that

361
00:17:06,720 --> 00:17:09,299
they would just think that's junk and

362
00:17:08,130 --> 00:17:10,500
they would completely ignore because

363
00:17:09,299 --> 00:17:11,970
that's what we're after we don't want

364
00:17:10,500 --> 00:17:14,099
them to be like hey this looks fishy

365
00:17:11,970 --> 00:17:15,750
let's send it to abuse and yeah if they

366
00:17:14,099 --> 00:17:19,230
did they wouldn't have any idea because

367
00:17:15,750 --> 00:17:21,209
the it's just three random tags that

368
00:17:19,230 --> 00:17:25,919
don't make any sense inside the the

369
00:17:21,209 --> 00:17:27,870
email itself so when the the parser

370
00:17:25,919 --> 00:17:29,940
takes a look at that it says hey I

371
00:17:27,869 --> 00:17:32,100
actually know those three random tags

372
00:17:29,940 --> 00:17:33,660
because I also left in like six or seven

373
00:17:32,100 --> 00:17:37,379
other tags so they just look like random

374
00:17:33,660 --> 00:17:39,360
trash in there it pulls those all of the

375
00:17:37,380 --> 00:17:41,419
tags and then goes through one by one

376
00:17:39,360 --> 00:17:44,100
says oh I know that one I know that one

377
00:17:41,419 --> 00:17:46,640
takes all three of those combines the

378
00:17:44,100 --> 00:17:51,240
full tag together and builds a base64

379
00:17:46,640 --> 00:17:54,120
encoded blob and then it says decode

380
00:17:51,240 --> 00:17:56,880
which Flo has that capability built-in

381
00:17:54,120 --> 00:18:00,330
which is great and then it says hey this

382
00:17:56,880 --> 00:18:04,020
is a URL let's go get the the payload so

383
00:18:00,330 --> 00:18:06,780
as it does the the payload it will grab

384
00:18:04,020 --> 00:18:10,049
that store it in asher for a moment and

385
00:18:06,780 --> 00:18:11,760
then it's where the real magic starts

386
00:18:10,049 --> 00:18:13,470
happening it says so Flo has the

387
00:18:11,760 --> 00:18:15,780
capability of creating files on the

388
00:18:13,470 --> 00:18:17,790
desktop it can read from your decimal it

389
00:18:15,780 --> 00:18:20,100
just can't execute so I needed to figure

390
00:18:17,790 --> 00:18:23,760
out a way to do that and I stumbled

391
00:18:20,100 --> 00:18:25,620
across someone who actually used Flo to

392
00:18:23,760 --> 00:18:27,030
lock their computer if they had

393
00:18:25,620 --> 00:18:29,520
forgotten I mean that'd be something

394
00:18:27,030 --> 00:18:30,899
that if you work with me I would you

395
00:18:29,520 --> 00:18:33,870
know do some evil things when you're

396
00:18:30,900 --> 00:18:35,730
away like changing your autocorrect to

397
00:18:33,870 --> 00:18:37,790
your boss's named a bitch before you hit

398
00:18:35,730 --> 00:18:37,790
Send

399
00:18:38,520 --> 00:18:47,110
but but doing that what's happening here

400
00:18:43,960 --> 00:18:49,720
is so flow can create a batch file and I

401
00:18:47,110 --> 00:18:52,870
just need to know where it needs to be

402
00:18:49,720 --> 00:18:54,760
on the on the box so you can from the

403
00:18:52,870 --> 00:18:57,370
browser you can actually navigate

404
00:18:54,760 --> 00:18:59,590
through someone's inbox from flow you

405
00:18:57,370 --> 00:19:03,459
can just click you know go through the C

406
00:18:59,590 --> 00:19:05,889
Drive the windows so in this demo I put

407
00:19:03,460 --> 00:19:07,600
it on the desktop itself so as I was

408
00:19:05,890 --> 00:19:10,059
doing that

409
00:19:07,600 --> 00:19:14,320
it's going to write that batch file to

410
00:19:10,059 --> 00:19:17,980
the desktop and then I have it's looking

411
00:19:14,320 --> 00:19:20,168
through an event ID that's occurring so

412
00:19:17,980 --> 00:19:21,700
I actually have a scheduled test that's

413
00:19:20,169 --> 00:19:23,440
going through the event ID and if it

414
00:19:21,700 --> 00:19:26,530
sees that event idea what it's supposed

415
00:19:23,440 --> 00:19:29,200
to do is execute power shell script and

416
00:19:26,530 --> 00:19:31,418
inside that powershell script all it's

417
00:19:29,200 --> 00:19:35,530
doing is it's looking at a watcher

418
00:19:31,419 --> 00:19:38,440
folder so the reason why I'm doing that

419
00:19:35,530 --> 00:19:40,418
is that whenever anything drops into

420
00:19:38,440 --> 00:19:43,120
that watching folder that happens to be

421
00:19:40,419 --> 00:19:47,200
a text file then that powershell script

422
00:19:43,120 --> 00:19:49,989
knows hey i'm supposed to run this file

423
00:19:47,200 --> 00:19:53,559
on the desktop so what happened here is

424
00:19:49,990 --> 00:19:56,380
that event ID actually fired and the

425
00:19:53,559 --> 00:19:59,260
that went through its path of hey i'm

426
00:19:56,380 --> 00:20:01,299
watching that folder and the last thing

427
00:19:59,260 --> 00:20:03,600
that flows starts doing is it updates a

428
00:20:01,299 --> 00:20:07,658
text file in that watcher folder and

429
00:20:03,600 --> 00:20:11,820
then both on the whole the powershell

430
00:20:07,659 --> 00:20:13,659
execute the batch grip on the desktop so

431
00:20:11,820 --> 00:20:15,639
naturally you would design this a little

432
00:20:13,659 --> 00:20:17,350
bit different so you wouldn't see any of

433
00:20:15,640 --> 00:20:19,419
this you want to be stealthy as possible

434
00:20:17,350 --> 00:20:21,129
but i just wanted to see that you can

435
00:20:19,419 --> 00:20:23,350
execute with flow and then I don't

436
00:20:21,130 --> 00:20:27,159
really know if Microsoft has taken that

437
00:20:23,350 --> 00:20:31,110
into consideration this is just another

438
00:20:27,159 --> 00:20:34,000
overview so like I said that this tool

439
00:20:31,110 --> 00:20:36,309
constantly has a scope creep with me I

440
00:20:34,000 --> 00:20:37,870
whenever I look at it or someone asked

441
00:20:36,309 --> 00:20:41,020
me a question like yeah I can totally do

442
00:20:37,870 --> 00:20:44,860
that yes yes like I really haven't found

443
00:20:41,020 --> 00:20:47,200
anything that I can't do with flow as it

444
00:20:44,860 --> 00:20:49,389
pertains to either being a good guy or a

445
00:20:47,200 --> 00:20:53,080
bad guy and so

446
00:20:49,390 --> 00:20:54,430
just the other night I was looking at

447
00:20:53,080 --> 00:20:56,919
this and like oh you know I could

448
00:20:54,430 --> 00:21:01,420
probably make some sort of like a

449
00:20:56,920 --> 00:21:04,150
firewall bypass tool with flow so I will

450
00:21:01,420 --> 00:21:07,270
go ahead and demo this so what we're

451
00:21:04,150 --> 00:21:12,040
going to be doing here is a PS exact I'm

452
00:21:07,270 --> 00:21:14,950
trying to get PS exact I you know we'd

453
00:21:12,040 --> 00:21:16,990
go to live sysinternals and you get the

454
00:21:14,950 --> 00:21:18,820
the block page that OpenDNS it's like

455
00:21:16,990 --> 00:21:21,910
nope you're not allowed to get there so

456
00:21:18,820 --> 00:21:24,700
yeah natural hacker person you'd go

457
00:21:21,910 --> 00:21:27,400
let's go to cache mode or you know all

458
00:21:24,700 --> 00:21:29,860
your users do that to view inappropriate

459
00:21:27,400 --> 00:21:35,320
things that work probably but so you

460
00:21:29,860 --> 00:21:41,949
scroll down find PS exact and I will

461
00:21:35,320 --> 00:21:44,139
copy the link here will click it just to

462
00:21:41,950 --> 00:21:47,610
show that nope you still can't get to it

463
00:21:44,140 --> 00:21:54,160
even with cache mode we will bring up

464
00:21:47,610 --> 00:21:56,620
the tool maybe okay here goes oh no

465
00:21:54,160 --> 00:21:58,920
we're going to cool curl the file just

466
00:21:56,620 --> 00:22:02,080
so you can show that the death this uh

467
00:21:58,920 --> 00:22:05,620
boomtube box doesn't have like special

468
00:22:02,080 --> 00:22:07,419
access so once again it's blocked and

469
00:22:05,620 --> 00:22:09,669
now we're going to bring up the tool

470
00:22:07,420 --> 00:22:12,550
that I just decided to make this past

471
00:22:09,670 --> 00:22:15,220
week called overflow so an overflow

472
00:22:12,550 --> 00:22:16,270
we're going to do a download bypass it's

473
00:22:15,220 --> 00:22:18,640
going to say where do you want to

474
00:22:16,270 --> 00:22:22,389
download from will put in that path that

475
00:22:18,640 --> 00:22:24,340
we're not allowed to go and give it a

476
00:22:22,390 --> 00:22:28,150
the file name that we want to call it so

477
00:22:24,340 --> 00:22:30,280
we just called PS dot exe hit enter and

478
00:22:28,150 --> 00:22:33,370
what's happening right now is on Azure

479
00:22:30,280 --> 00:22:38,260
cloud it's downloaded this inside

480
00:22:33,370 --> 00:22:42,280
Microsoft and then it's responding to a

481
00:22:38,260 --> 00:22:44,260
to those same your L requests that I use

482
00:22:42,280 --> 00:22:46,690
for everything else you can see that PS

483
00:22:44,260 --> 00:22:48,370
exact actually works and it's just

484
00:22:46,690 --> 00:22:50,350
dumping it to the desktop so we're just

485
00:22:48,370 --> 00:22:52,989
you know bypassing all these security

486
00:22:50,350 --> 00:22:55,899
functions and then using Azure to

487
00:22:52,990 --> 00:22:59,470
download so probably a hundred percent

488
00:22:55,900 --> 00:23:01,630
99% of you probably have this open so as

489
00:22:59,470 --> 00:23:02,030
a Red Team person you know you know try

490
00:23:01,630 --> 00:23:04,530
to

491
00:23:02,030 --> 00:23:06,420
Mimi cats or something like that this is

492
00:23:04,530 --> 00:23:08,129
where you want to go you could even go

493
00:23:06,420 --> 00:23:10,890
as far as you could browse here if you

494
00:23:08,130 --> 00:23:12,090
were like that jonesing to look at stuff

495
00:23:10,890 --> 00:23:15,060
on the Internet you know you could

496
00:23:12,090 --> 00:23:18,750
probably just download the HTML file and

497
00:23:15,060 --> 00:23:21,570
dump it to your machine locally so that

498
00:23:18,750 --> 00:23:23,070
being said you know I've talked about

499
00:23:21,570 --> 00:23:26,760
this quite often that the scope creep

500
00:23:23,070 --> 00:23:29,790
that comes with using Microsoft flow

501
00:23:26,760 --> 00:23:33,270
would be you can download malware in

502
00:23:29,790 --> 00:23:35,790
Azure and then what would what would

503
00:23:33,270 --> 00:23:38,280
actually happen is you can manipulate it

504
00:23:35,790 --> 00:23:42,110
before it lands on the desktop so that's

505
00:23:38,280 --> 00:23:45,720
one thing you can append data to file so

506
00:23:42,110 --> 00:23:48,030
one thing that I was able to do was take

507
00:23:45,720 --> 00:23:50,400
a look at like command exe and just like

508
00:23:48,030 --> 00:23:52,230
write some random trash to the end of it

509
00:23:50,400 --> 00:23:55,470
and then so the hash is different it

510
00:23:52,230 --> 00:23:59,040
still executes as normal but it's also

511
00:23:55,470 --> 00:24:01,740
in it's in the flow service runs as a

512
00:23:59,040 --> 00:24:04,620
trusted installer so you know Seth keys

513
00:24:01,740 --> 00:24:06,990
exe if you've done sticky keys that

514
00:24:04,620 --> 00:24:10,050
actually works again so I mean it's

515
00:24:06,990 --> 00:24:13,350
literally simple you tell flow hey go to

516
00:24:10,050 --> 00:24:17,870
the desktop find command ah DXE copy

517
00:24:13,350 --> 00:24:21,780
that - like bad comm or bad Exe then

518
00:24:17,870 --> 00:24:26,250
remove Seth Exe and make bad dot exe

519
00:24:21,780 --> 00:24:28,410
become Seth there yeah bad seed becomes

520
00:24:26,250 --> 00:24:32,220
Seth you hold shift a couple times BAM

521
00:24:28,410 --> 00:24:34,800
you have system so it's terrible but

522
00:24:32,220 --> 00:24:39,060
flow flows really great you know it's a

523
00:24:34,800 --> 00:24:42,300
really cool tool so recently the other

524
00:24:39,060 --> 00:24:43,649
other day someone's like hey he might be

525
00:24:42,300 --> 00:24:45,780
sitting in the front he's like hey could

526
00:24:43,650 --> 00:24:47,520
you do this over an API and I'm like

527
00:24:45,780 --> 00:24:50,310
yeah I kind of looked at it but I didn't

528
00:24:47,520 --> 00:24:52,050
see anything so today you know I like to

529
00:24:50,310 --> 00:24:55,440
look at flow everyday and like make

530
00:24:52,050 --> 00:24:56,970
really terrible weapons with it and I

531
00:24:55,440 --> 00:24:59,550
happen to notice that there is an API

532
00:24:56,970 --> 00:25:00,900
call so that's probably something in the

533
00:24:59,550 --> 00:25:03,870
future you should probably look at where

534
00:25:00,900 --> 00:25:05,730
you can just request a tool to be built

535
00:25:03,870 --> 00:25:09,479
from the outside on somebody else's

536
00:25:05,730 --> 00:25:10,470
infrastructure and to the right I was

537
00:25:09,480 --> 00:25:13,020
just kind of showing the different

538
00:25:10,470 --> 00:25:15,720
capabilities you can rename a file you

539
00:25:13,020 --> 00:25:18,720
can list files in the route

540
00:25:15,720 --> 00:25:21,720
be and delete things Windows Defender

541
00:25:18,720 --> 00:25:24,020
doesn't like the what I've been doing

542
00:25:21,720 --> 00:25:28,460
the flow I made a mistake and they

543
00:25:24,020 --> 00:25:37,320
copied one of my malware files but

544
00:25:28,460 --> 00:25:42,600
whatever it's so let's review some some

545
00:25:37,320 --> 00:25:44,700
other problems here the the password

546
00:25:42,600 --> 00:25:47,059
resiliency this is great

547
00:25:44,700 --> 00:25:48,870
so once you've like pwned some

548
00:25:47,059 --> 00:25:50,750
individuals so if you just spray

549
00:25:48,870 --> 00:25:52,949
passwords and you they don't use

550
00:25:50,750 --> 00:25:56,970
two-factor and you're able to get into

551
00:25:52,950 --> 00:26:00,030
their environment you can that as long

552
00:25:56,970 --> 00:26:02,669
as they're still in office 365 customers

553
00:26:00,030 --> 00:26:04,230
you're gonna always have access to their

554
00:26:02,669 --> 00:26:06,360
environment remotely so you can just

555
00:26:04,230 --> 00:26:09,539
issue commands and just do whatever you

556
00:26:06,360 --> 00:26:11,370
want it's also two-factor resistant so

557
00:26:09,539 --> 00:26:15,379
the account that I've been demoing you

558
00:26:11,370 --> 00:26:18,418
with it's actually has to factor on so I

559
00:26:15,380 --> 00:26:21,390
compromised the account first and then

560
00:26:18,419 --> 00:26:22,620
after the fact you know the you know ten

561
00:26:21,390 --> 00:26:24,630
years later everyone's like we should

562
00:26:22,620 --> 00:26:26,939
use two-factor it'll stop with phishing

563
00:26:24,630 --> 00:26:29,070
so that was enabled after the fact but

564
00:26:26,940 --> 00:26:32,130
it doesn't matter anymore because all

565
00:26:29,070 --> 00:26:35,730
the API calls are coming from Azure and

566
00:26:32,130 --> 00:26:38,580
asher's that you know able to doesn't

567
00:26:35,730 --> 00:26:42,360
need to factor to run so Microsoft you

568
00:26:38,580 --> 00:26:45,629
could look at that so it is an alternate

569
00:26:42,360 --> 00:26:49,530
command and control the majority of the

570
00:26:45,630 --> 00:26:53,970
data runs on 443 to Microsoft as its c2

571
00:26:49,530 --> 00:26:56,700
and if you're not like a big business

572
00:26:53,970 --> 00:26:59,760
that has you know like an e3 or whatever

573
00:26:56,700 --> 00:27:01,559
the other ironic thing is it will say

574
00:26:59,760 --> 00:27:04,100
you know Clippy will pop up and say oh

575
00:27:01,559 --> 00:27:08,360
well you want to try 30 days OOP so

576
00:27:04,100 --> 00:27:10,439
you'll have 30 days to exfil so as a

577
00:27:08,360 --> 00:27:13,740
nation-state attacker this would

578
00:27:10,440 --> 00:27:15,090
probably be a good you know foothold

579
00:27:13,740 --> 00:27:17,100
that you'll have for awhile and also

580
00:27:15,090 --> 00:27:19,049
keep in mind the you don't just have to

581
00:27:17,100 --> 00:27:21,629
run batch files you could you know run a

582
00:27:19,049 --> 00:27:23,789
reverse script from the internet from

583
00:27:21,630 --> 00:27:27,510
your phone I haven't launched and all

584
00:27:23,789 --> 00:27:28,950
that other great stuff there's also so

585
00:27:27,510 --> 00:27:31,650
there is a time from

586
00:27:28,950 --> 00:27:34,260
that if you write a crappy rule or a

587
00:27:31,650 --> 00:27:35,850
flow function it will send the user an

588
00:27:34,260 --> 00:27:38,040
email they'll probably not pay attention

589
00:27:35,850 --> 00:27:42,209
to that anyway because it's just junk

590
00:27:38,040 --> 00:27:44,040
but you can write a rule to have that

591
00:27:42,210 --> 00:27:46,050
forwarded to your account and then you

592
00:27:44,040 --> 00:27:52,170
click on the link that says unsubscribe

593
00:27:46,050 --> 00:27:55,169
so you getting those um see it's not

594
00:27:52,170 --> 00:27:57,030
very easy to get rid of flow flow I

595
00:27:55,170 --> 00:27:59,670
would assume is something like Internet

596
00:27:57,030 --> 00:28:05,550
Explorer it's like ingrained into office

597
00:27:59,670 --> 00:28:08,100
365 they do have a DLP fix for the HTTP

598
00:28:05,550 --> 00:28:11,010
and those request data

599
00:28:08,100 --> 00:28:14,010
hooks but the problem that with that it

600
00:28:11,010 --> 00:28:16,050
is so convoluted is like probably Martha

601
00:28:14,010 --> 00:28:18,330
Stewart's shopping list from Christmas

602
00:28:16,050 --> 00:28:20,790
and Thanksgiving put together is just a

603
00:28:18,330 --> 00:28:24,149
nightmare to read if I was a you know

604
00:28:20,790 --> 00:28:25,980
the admin for office 365 like I'm not

605
00:28:24,150 --> 00:28:28,020
doing this I'll just wait I'll just put

606
00:28:25,980 --> 00:28:31,620
in a request that say hey pull these two

607
00:28:28,020 --> 00:28:33,900
things make it easy and we'll move on

608
00:28:31,620 --> 00:28:36,239
so if you're a blue team in in this room

609
00:28:33,900 --> 00:28:39,140
I would definitely see hey do we have

610
00:28:36,240 --> 00:28:43,350
any nation-state attackers in here

611
00:28:39,140 --> 00:28:47,220
that's yeah that's true I would hunt for

612
00:28:43,350 --> 00:28:53,840
the Microsoft power bi Enterprise Exe

613
00:28:47,220 --> 00:28:53,840
and thank you

614
00:29:00,200 --> 00:29:05,000
there so there's some of the things that

615
00:29:03,060 --> 00:29:08,100
I did add in this tool that I just

616
00:29:05,000 --> 00:29:10,590
released would be that you can spy on

617
00:29:08,100 --> 00:29:12,870
the user's inbox meaning there's a

618
00:29:10,590 --> 00:29:15,030
feature so you can see are they reading

619
00:29:12,870 --> 00:29:17,070
their inbox so you can get an idea of

620
00:29:15,030 --> 00:29:19,680
when they're checking their inbox you

621
00:29:17,070 --> 00:29:24,149
can also see what's being sent

622
00:29:19,680 --> 00:29:26,520
you can delete things you can do the

623
00:29:24,150 --> 00:29:28,260
download bypass also I have a shell dump

624
00:29:26,520 --> 00:29:32,670
so it shows you like where in the

625
00:29:28,260 --> 00:29:36,180
computer you're currently nested so any

626
00:29:32,670 --> 00:29:38,750
questions how many of you have a data

627
00:29:36,180 --> 00:29:51,390
policy that checked your flow anyone

628
00:29:38,750 --> 00:29:54,840
that's what I thought okay I would pull

629
00:29:51,390 --> 00:29:57,480
those two the HTTP requests into the

630
00:29:54,840 --> 00:29:59,879
those connectors so you don't have to

631
00:29:57,480 --> 00:30:02,040
jump through hoops just make it really

632
00:29:59,880 --> 00:30:04,260
easy if they have those in the below

633
00:30:02,040 --> 00:30:12,800
data or add business data this wouldn't

634
00:30:04,260 --> 00:30:12,800
be a problem but it's kind of scary yeah

635
00:30:16,040 --> 00:30:32,340
okay you download this talk and you send

636
00:30:29,280 --> 00:30:37,260
it to them but but to be honestly

637
00:30:32,340 --> 00:30:39,120
there's a oh sorry the question was how

638
00:30:37,260 --> 00:30:41,430
would you you know approach your C

639
00:30:39,120 --> 00:30:43,770
levels to you know make fixes like this

640
00:30:41,430 --> 00:30:47,010
in office 365 so just so you're aware

641
00:30:43,770 --> 00:30:49,470
there's I'm currently at 13 different

642
00:30:47,010 --> 00:30:53,460
URLs that you need to use to respond to

643
00:30:49,470 --> 00:30:56,010
incidents inside office 365 so they can

644
00:30:53,460 --> 00:30:58,170
you know like hey sea-level take a look

645
00:30:56,010 --> 00:31:00,360
at that you you need to have a good data

646
00:30:58,170 --> 00:31:03,380
policy you need to figure out what your

647
00:31:00,360 --> 00:31:03,379
you're putting out there

648
00:31:07,880 --> 00:31:12,769
yes so good the graph API it makes it

649
00:31:10,730 --> 00:31:15,740
even a little bit more interesting is

650
00:31:12,769 --> 00:31:17,600
that you can use flow to start making

651
00:31:15,740 --> 00:31:19,789
calls inside the corporation so

652
00:31:17,600 --> 00:31:22,668
depending on the type of access that you

653
00:31:19,789 --> 00:31:24,140
have so the the tool that I built we're

654
00:31:22,669 --> 00:31:27,919
dumping the email you can actually do

655
00:31:24,140 --> 00:31:29,600
that with the flow graph API I just

656
00:31:27,919 --> 00:31:31,640
haven't had time to explore that but

657
00:31:29,600 --> 00:31:33,350
yeah you that's why I'm just saying this

658
00:31:31,640 --> 00:31:35,350
is the gift that keeps on giving it's

659
00:31:33,350 --> 00:31:42,649
gonna be a nightmare unless Microsoft

660
00:31:35,350 --> 00:31:45,080
you know make some changes it yes I will

661
00:31:42,649 --> 00:32:02,000
send my output the slides will be in

662
00:31:45,080 --> 00:32:08,870
there so thank you because it sounds

663
00:32:02,000 --> 00:32:12,139
terrible I will come to I'll sit in your

664
00:32:08,870 --> 00:32:14,350
lap and do that I have this microphone

665
00:32:12,139 --> 00:32:14,350
the

