1
00:00:00,030 --> 00:00:06,290
all right so oh I didn't bring my slides

2
00:00:07,099 --> 00:00:13,889
okay you ready for me all right

3
00:00:11,250 --> 00:00:15,570
good afternoon thank you for coming my

4
00:00:13,889 --> 00:00:17,788
name is Mark Baggett and I am here to

5
00:00:15,570 --> 00:00:19,920
tell you about the hackers apprentice

6
00:00:17,789 --> 00:00:22,140
what does the hackers apprentice well

7
00:00:19,920 --> 00:00:25,830
it's it's an escape room that I built in

8
00:00:22,140 --> 00:00:28,080
my house so it's use these Python and

9
00:00:25,830 --> 00:00:29,310
some internet of things and some

10
00:00:28,080 --> 00:00:31,049
automation to do some things so I'll

11
00:00:29,310 --> 00:00:34,350
tell you a little bit about it

12
00:00:31,050 --> 00:00:37,649
so first about me the obligatory BIOS

13
00:00:34,350 --> 00:00:39,559
slide I'm an instructor for sands and

14
00:00:37,649 --> 00:00:41,790
the author of sands automation of

15
00:00:39,559 --> 00:00:43,980
information security with Python course

16
00:00:41,790 --> 00:00:47,219
I got my GOCE

17
00:00:43,980 --> 00:00:49,739
and as I see so my name appears in in

18
00:00:47,219 --> 00:00:51,149
the Metasploit source code seven times

19
00:00:49,739 --> 00:00:53,610
but I didn't write any of those modules

20
00:00:51,149 --> 00:00:56,579
it's just as the information security

21
00:00:53,610 --> 00:00:58,410
community is so awesome people have

22
00:00:56,579 --> 00:01:00,390
given me credit for some TTP's and

23
00:00:58,410 --> 00:01:01,559
things like that that it came up with at

24
00:01:00,390 --> 00:01:04,470
different conferences and things like

25
00:01:01,559 --> 00:01:05,820
that so I'm here to tell you about the

26
00:01:04,470 --> 00:01:07,740
hackers apprentice the hackers

27
00:01:05,820 --> 00:01:11,009
apprentice is an escape room that I have

28
00:01:07,740 --> 00:01:12,320
in my house I put it together in about

29
00:01:11,010 --> 00:01:14,490
five hours

30
00:01:12,320 --> 00:01:16,619
and at this point I've had thirty

31
00:01:14,490 --> 00:01:18,119
different teams of people go through and

32
00:01:16,619 --> 00:01:20,159
do this escape room in my house it's

33
00:01:18,119 --> 00:01:22,770
probably about a hundred and fifty

34
00:01:20,159 --> 00:01:24,720
people or so have come through and done

35
00:01:22,770 --> 00:01:27,210
this of it I'm I've started getting

36
00:01:24,720 --> 00:01:29,789
requests from people like people are

37
00:01:27,210 --> 00:01:31,710
going through training on Fort Gordon in

38
00:01:29,790 --> 00:01:33,030
Augusta Georgia like hey can we come to

39
00:01:31,710 --> 00:01:35,100
your house and do the escape room and

40
00:01:33,030 --> 00:01:36,840
I've had classes of 40 people show up

41
00:01:35,100 --> 00:01:39,000
and to go through all right which makes

42
00:01:36,840 --> 00:01:42,210
my wife extremely happy she loves the

43
00:01:39,000 --> 00:01:44,369
escape room that we have in our house

44
00:01:42,210 --> 00:01:46,710
but really she can't complain about too

45
00:01:44,369 --> 00:01:49,170
much because this is her fault okay it's

46
00:01:46,710 --> 00:01:52,199
also ed SCOTUS his fault right ed SCOTUS

47
00:01:49,170 --> 00:01:55,049
is the root of all evil right he's done

48
00:01:52,200 --> 00:02:00,030
this Internet of Things talk at Derby

49
00:01:55,049 --> 00:02:02,729
con 2016 and 2017 is all about

50
00:02:00,030 --> 00:02:05,009
automation right it built this Jarvis

51
00:02:02,729 --> 00:02:07,530
thing in his house and then he went in

52
00:02:05,009 --> 00:02:09,239
further talks in 2017 and I came to this

53
00:02:07,530 --> 00:02:10,669
talk so I was like you know I should

54
00:02:09,239 --> 00:02:12,600
really be spending some more time

55
00:02:10,669 --> 00:02:14,399
looking at this

56
00:02:12,600 --> 00:02:16,859
of things and playing with these things

57
00:02:14,400 --> 00:02:19,980
because it looks it just looks like fun

58
00:02:16,860 --> 00:02:21,810
and so I went home and I started reading

59
00:02:19,980 --> 00:02:23,579
about this thing called home assistant

60
00:02:21,810 --> 00:02:25,620
which is largely what I'm gonna be

61
00:02:23,580 --> 00:02:27,450
telling you about today reading about

62
00:02:25,620 --> 00:02:29,580
home assistant and all the cool things

63
00:02:27,450 --> 00:02:31,739
you'd do with it and then my wife comes

64
00:02:29,580 --> 00:02:34,020
up to me and she says mark we're gonna

65
00:02:31,740 --> 00:02:35,970
have people over at the house on Friday

66
00:02:34,020 --> 00:02:38,370
this is on Wednesday we're gonna people

67
00:02:35,970 --> 00:02:40,200
over the house on on Wednesday and I

68
00:02:38,370 --> 00:02:42,780
want you to put together some type of a

69
00:02:40,200 --> 00:02:44,459
game or something that we can do while

70
00:02:42,780 --> 00:02:46,590
they're here and I'm like okay but I

71
00:02:44,460 --> 00:02:49,530
really wanted to learn this Internet of

72
00:02:46,590 --> 00:02:52,710
Things thing escape room in the house

73
00:02:49,530 --> 00:02:56,280
right so I spent the next two days

74
00:02:52,710 --> 00:02:58,290
building this escape room putting things

75
00:02:56,280 --> 00:03:00,480
together and this is gonna be my lessons

76
00:02:58,290 --> 00:03:02,910
learn from that so home assistant is

77
00:03:00,480 --> 00:03:08,000
really the glue that ties everything

78
00:03:02,910 --> 00:03:10,260
together in my house it's it is built to

79
00:03:08,000 --> 00:03:11,880
allow you to take all kinds of

80
00:03:10,260 --> 00:03:12,929
internet-of-things components and we'll

81
00:03:11,880 --> 00:03:15,780
take a look at some of the things that

82
00:03:12,930 --> 00:03:18,600
they've got on there and allows you to

83
00:03:15,780 --> 00:03:20,520
tie them together here's kind of some

84
00:03:18,600 --> 00:03:22,350
overviews of the architecture of this

85
00:03:20,520 --> 00:03:24,870
thing really what makes up home

86
00:03:22,350 --> 00:03:27,480
assistant is you've got these components

87
00:03:24,870 --> 00:03:31,410
components or things like lights in your

88
00:03:27,480 --> 00:03:32,790
house like thermostats switches that you

89
00:03:31,410 --> 00:03:35,970
have light switches and things like that

90
00:03:32,790 --> 00:03:38,310
in your house let's see what else have

91
00:03:35,970 --> 00:03:40,260
you got any type of networking equipment

92
00:03:38,310 --> 00:03:42,240
things like that I was I was amazed at

93
00:03:40,260 --> 00:03:44,609
the things that it will find and

94
00:03:42,240 --> 00:03:47,550
discover as components in the house and

95
00:03:44,610 --> 00:03:50,190
all the components talk to this event

96
00:03:47,550 --> 00:03:52,350
bus so you've got the event bus they

97
00:03:50,190 --> 00:03:54,210
will all report their current status so

98
00:03:52,350 --> 00:03:55,950
if a switch is on it tells these the

99
00:03:54,210 --> 00:03:58,080
event bus I'm on if you change you go

100
00:03:55,950 --> 00:03:59,670
and turn off the switch tells the event

101
00:03:58,080 --> 00:04:02,370
bus hey somebody just turned me off

102
00:03:59,670 --> 00:04:04,049
right and everybody's reporting their

103
00:04:02,370 --> 00:04:06,720
status their status changes back to this

104
00:04:04,050 --> 00:04:09,120
event bus and you have other things that

105
00:04:06,720 --> 00:04:12,000
can feed different events on so you can

106
00:04:09,120 --> 00:04:13,140
trigger things yourself that will be fed

107
00:04:12,000 --> 00:04:15,120
to the event bus and everybody's

108
00:04:13,140 --> 00:04:17,070
monitoring the event bus and they're all

109
00:04:15,120 --> 00:04:18,720
reporting the event bus and then you can

110
00:04:17,070 --> 00:04:22,140
write scripts that sell things like a

111
00:04:18,720 --> 00:04:24,180
light switch when you see our light

112
00:04:22,140 --> 00:04:25,610
bulbs when you see light switch it

113
00:04:24,180 --> 00:04:28,189
changed then you

114
00:04:25,610 --> 00:04:30,319
this action and perform the second thing

115
00:04:28,189 --> 00:04:32,569
and so it's it's really a free

116
00:04:30,319 --> 00:04:34,849
open-source project it's all written in

117
00:04:32,569 --> 00:04:37,129
Python you can just get cloned download

118
00:04:34,849 --> 00:04:39,740
this thing run one command and it's

119
00:04:37,129 --> 00:04:41,389
running on a Raspberry Pi there's

120
00:04:39,740 --> 00:04:42,860
already there's actually raspberry pi

121
00:04:41,389 --> 00:04:44,719
distributions of it there's docker

122
00:04:42,860 --> 00:04:48,830
installations of this thing so it's

123
00:04:44,719 --> 00:04:51,199
extremely easy to install you see over

124
00:04:48,830 --> 00:04:53,000
here this it comes with a built-in web

125
00:04:51,199 --> 00:04:54,740
interface so when you run it you can

126
00:04:53,000 --> 00:04:56,539
just hit this webpage it's got a mobile

127
00:04:54,740 --> 00:04:58,250
application that you can install and

128
00:04:56,539 --> 00:05:01,360
control the different devices within

129
00:04:58,250 --> 00:05:03,560
your house one of the goals and as a

130
00:05:01,360 --> 00:05:06,590
security nerd one of the things that I

131
00:05:03,560 --> 00:05:08,449
really like is its goal is to localize

132
00:05:06,590 --> 00:05:11,090
everything on your machine in your house

133
00:05:08,449 --> 00:05:13,009
if you've done anything with any kind of

134
00:05:11,090 --> 00:05:14,688
smart home stuff there's a lot of

135
00:05:13,009 --> 00:05:16,879
services on the internet like if this

136
00:05:14,689 --> 00:05:18,650
than that and all these other things you

137
00:05:16,879 --> 00:05:21,199
can use to tie together there's all

138
00:05:18,650 --> 00:05:24,289
these cloud-based services and they

139
00:05:21,199 --> 00:05:26,960
really want to focus on running a local

140
00:05:24,289 --> 00:05:29,270
server in your house and hat and having

141
00:05:26,960 --> 00:05:31,029
all of the communications for as much of

142
00:05:29,270 --> 00:05:33,830
the communications as they possibly can

143
00:05:31,029 --> 00:05:35,479
inside the boundary of your home and not

144
00:05:33,830 --> 00:05:38,389
have it go out to the internet sometimes

145
00:05:35,479 --> 00:05:40,310
they need they've even they stand up

146
00:05:38,389 --> 00:05:42,589
their own cloud based services and they

147
00:05:40,310 --> 00:05:44,330
provide you with source code so you

148
00:05:42,589 --> 00:05:46,310
could stand up your own cloud based

149
00:05:44,330 --> 00:05:47,990
service which will act as a proxy so you

150
00:05:46,310 --> 00:05:50,240
can you can stand up this little

151
00:05:47,990 --> 00:05:52,009
instance of a home assistant proxy if

152
00:05:50,240 --> 00:05:54,259
you will that's that's running on the

153
00:05:52,009 --> 00:05:56,779
internet and things talk to it and then

154
00:05:54,259 --> 00:05:59,689
it'll come in through one open port

155
00:05:56,779 --> 00:06:01,400
talking directly to that that home

156
00:05:59,689 --> 00:06:02,719
assistant or you can have it pull from

157
00:06:01,400 --> 00:06:05,210
that service so you don't have to have

158
00:06:02,719 --> 00:06:07,310
any open ports on your firewall so they

159
00:06:05,210 --> 00:06:10,339
really are thinking about localizing

160
00:06:07,310 --> 00:06:11,419
services and even though it's developers

161
00:06:10,339 --> 00:06:13,250
that are putting this together they've

162
00:06:11,419 --> 00:06:15,948
done a really good job when it comes to

163
00:06:13,250 --> 00:06:19,279
focusing on security so when you first

164
00:06:15,949 --> 00:06:23,120
run home assistant it scans your network

165
00:06:19,279 --> 00:06:25,189
it listens for plug-and-play broadcasts

166
00:06:23,120 --> 00:06:27,409
on the network and it tries to figure

167
00:06:25,189 --> 00:06:29,539
out what things you've got on your

168
00:06:27,409 --> 00:06:32,349
network as far as Internet of Things or

169
00:06:29,539 --> 00:06:35,330
smart devices on your home network and

170
00:06:32,349 --> 00:06:37,849
some of the things I was expecting this

171
00:06:35,330 --> 00:06:39,080
to find right so you know if I have

172
00:06:37,849 --> 00:06:42,378
Apple TV

173
00:06:39,080 --> 00:06:44,300
I have smart lightbulbs smart switches

174
00:06:42,379 --> 00:06:46,370
or thermostats or cameras I was

175
00:06:44,300 --> 00:06:49,099
anticipating it's gonna find those

176
00:06:46,370 --> 00:06:51,110
things and configure them and sure

177
00:06:49,099 --> 00:06:53,810
enough it did but there were several

178
00:06:51,110 --> 00:06:56,990
other things that when I ran home

179
00:06:53,810 --> 00:07:01,789
assistant it found inside my house that

180
00:06:56,990 --> 00:07:04,219
I really had thought about as a nerd I'm

181
00:07:01,789 --> 00:07:05,509
I'm a little ashamed to say I really

182
00:07:04,219 --> 00:07:08,120
didn't think about the fact that these

183
00:07:05,509 --> 00:07:10,400
things even though I connected them to

184
00:07:08,120 --> 00:07:13,610
my wireless network were sitting there

185
00:07:10,400 --> 00:07:15,500
with services listening and had api's

186
00:07:13,610 --> 00:07:16,639
that were easily communicated with where

187
00:07:15,500 --> 00:07:18,789
it could get some interesting

188
00:07:16,639 --> 00:07:20,719
intelligence from those devices

189
00:07:18,789 --> 00:07:23,030
including the things that I didn't

190
00:07:20,719 --> 00:07:24,560
expect that this home automation thing

191
00:07:23,030 --> 00:07:28,969
was gonna find was all my networking

192
00:07:24,560 --> 00:07:31,580
switches right so all the it did SNMP

193
00:07:28,969 --> 00:07:34,430
scans it found switches right it found

194
00:07:31,580 --> 00:07:37,878
wireless devices access points things

195
00:07:34,430 --> 00:07:39,830
like that and would query information

196
00:07:37,879 --> 00:07:42,080
from the many million what what good

197
00:07:39,830 --> 00:07:44,150
would that be for a home automation

198
00:07:42,080 --> 00:07:46,849
process and as it turns out I think

199
00:07:44,150 --> 00:07:50,840
that's one of the coolest features is it

200
00:07:46,849 --> 00:07:52,759
will monitor the ARP cache on my devices

201
00:07:50,840 --> 00:07:54,560
and then you can tell it which

202
00:07:52,759 --> 00:07:55,699
particular MAC addresses you're

203
00:07:54,560 --> 00:07:59,810
interested in so the MAC address

204
00:07:55,699 --> 00:08:02,000
associated with my phone if it's in the

205
00:07:59,810 --> 00:08:03,800
house if that MAC address is in the kam

206
00:08:02,000 --> 00:08:06,889
table on my switch then it says all mark

207
00:08:03,800 --> 00:08:08,900
is home right if that MAC address is not

208
00:08:06,889 --> 00:08:12,919
in the kam table then mark is not home

209
00:08:08,900 --> 00:08:15,440
and I can have automations that are tied

210
00:08:12,919 --> 00:08:17,000
around those conditions so we have

211
00:08:15,440 --> 00:08:18,469
different there's a different MAC

212
00:08:17,000 --> 00:08:20,210
address for every person in my house

213
00:08:18,469 --> 00:08:23,629
right I've got that associated with a

214
00:08:20,210 --> 00:08:25,008
name so I can easily automate things

215
00:08:23,629 --> 00:08:26,330
that are happening there so the

216
00:08:25,009 --> 00:08:27,919
networking switches I really wasn't

217
00:08:26,330 --> 00:08:30,859
thinking about it finding that it

218
00:08:27,919 --> 00:08:33,679
finding the iTunes libraries that people

219
00:08:30,860 --> 00:08:36,199
are running on their machines in the

220
00:08:33,679 --> 00:08:38,478
house and it then takes that media and

221
00:08:36,198 --> 00:08:40,429
allows you to integrate that media into

222
00:08:38,479 --> 00:08:43,010
your home automations that's being

223
00:08:40,429 --> 00:08:47,660
displayed all of the televisions in my

224
00:08:43,010 --> 00:08:49,880
house it found all of those and every

225
00:08:47,660 --> 00:08:52,980
one of the televisions of my Hass house

226
00:08:49,880 --> 00:08:55,740
had a Google chromecast sir

227
00:08:52,980 --> 00:08:58,020
or other type of service that I could

228
00:08:55,740 --> 00:08:59,640
have work you know you want to show

229
00:08:58,020 --> 00:09:03,420
everybody in the house this awesome new

230
00:08:59,640 --> 00:09:04,890
YouTube video of cats you know looking

231
00:09:03,420 --> 00:09:07,290
each other I don't know we say you want

232
00:09:04,890 --> 00:09:09,270
to go and you you broadcast this to your

233
00:09:07,290 --> 00:09:10,680
television so by default all of our

234
00:09:09,270 --> 00:09:12,990
televisions have this Google chromecast

235
00:09:10,680 --> 00:09:15,029
service that's just sitting there well

236
00:09:12,990 --> 00:09:17,580
home assistant found all those and it

237
00:09:15,029 --> 00:09:20,459
exposes that service to the scripts

238
00:09:17,580 --> 00:09:22,830
internally where you can just easily

239
00:09:20,459 --> 00:09:29,880
have one function call call out to those

240
00:09:22,830 --> 00:09:33,630
things my blu-ray player my DVD players

241
00:09:29,880 --> 00:09:36,390
blu-ray players they were all found and

242
00:09:33,630 --> 00:09:38,760
integrated into the system also it found

243
00:09:36,390 --> 00:09:41,910
my harmony my Logitech Harmony remote

244
00:09:38,760 --> 00:09:43,709
control which you could use to turn on

245
00:09:41,910 --> 00:09:46,079
their televisions stereos and by

246
00:09:43,709 --> 00:09:47,729
extension I can control everything

247
00:09:46,080 --> 00:09:51,330
that's in my house that the remote

248
00:09:47,730 --> 00:09:53,940
control in control because from home

249
00:09:51,330 --> 00:09:55,890
assistant with Python scripts I can send

250
00:09:53,940 --> 00:09:57,510
command would press any button on the

251
00:09:55,890 --> 00:10:00,000
remote control that I want to so I could

252
00:09:57,510 --> 00:10:01,589
turn on stereos I can turn on other

253
00:10:00,000 --> 00:10:04,350
things that are not even Internet of

254
00:10:01,589 --> 00:10:08,190
Things connected and control them from

255
00:10:04,350 --> 00:10:09,450
within home assistant this is this is

256
00:10:08,190 --> 00:10:12,150
one I really didn't think about my Sleep

257
00:10:09,450 --> 00:10:15,839
Number beds right so I found the Sleep

258
00:10:12,150 --> 00:10:18,980
Number beds and it's monitoring Sleep

259
00:10:15,839 --> 00:10:21,540
Number beds and I've got scripts tied to

260
00:10:18,980 --> 00:10:25,320
activate and do things as to whether or

261
00:10:21,540 --> 00:10:27,660
not we're in bed so using the presence

262
00:10:25,320 --> 00:10:30,600
information right so using MAC addresses

263
00:10:27,660 --> 00:10:33,180
that are in cam tables my home knows

264
00:10:30,600 --> 00:10:38,190
when I'm home when my children are home

265
00:10:33,180 --> 00:10:41,130
when my wife is home and if if we're all

266
00:10:38,190 --> 00:10:43,440
home and Sleep Number beds Sleep Number

267
00:10:41,130 --> 00:10:46,170
beds indicate that we're all in bed well

268
00:10:43,440 --> 00:10:48,150
then a script runs to make sure all the

269
00:10:46,170 --> 00:10:48,930
lights have turned out make sure all the

270
00:10:48,150 --> 00:10:51,750
doors are locked

271
00:10:48,930 --> 00:10:53,339
turn on this security system and turn on

272
00:10:51,750 --> 00:10:55,770
the alarm for the for the house and

273
00:10:53,339 --> 00:10:58,070
things like that so all of those things

274
00:10:55,770 --> 00:11:01,560
can be integrated into home assistant

275
00:10:58,070 --> 00:11:04,470
perhaps the the best feature of home

276
00:11:01,560 --> 00:11:05,729
assistant is all of the integrations is

277
00:11:04,470 --> 00:11:08,190
what they call it for or

278
00:11:05,730 --> 00:11:10,380
custom components that it stalks you and

279
00:11:08,190 --> 00:11:12,240
this is just the broad category so when

280
00:11:10,380 --> 00:11:14,310
you talk to alarm systems alarm systems

281
00:11:12,240 --> 00:11:16,350
are like the things that you know you

282
00:11:14,310 --> 00:11:19,739
can turn on alarm monitoring for your

283
00:11:16,350 --> 00:11:23,699
house I can't even think of a single

284
00:11:19,740 --> 00:11:26,100
product name but you know secure home

285
00:11:23,699 --> 00:11:28,139
things like that right things that have

286
00:11:26,100 --> 00:11:30,529
motion sensors all those things they can

287
00:11:28,139 --> 00:11:32,880
integrate those into home assistant

288
00:11:30,529 --> 00:11:34,949
binary sensors these are just things

289
00:11:32,880 --> 00:11:36,420
that you can put into webpages and

290
00:11:34,949 --> 00:11:38,459
little switches you can have around your

291
00:11:36,420 --> 00:11:40,500
house to activate things it can read

292
00:11:38,459 --> 00:11:42,569
from your calendars so you can tie it

293
00:11:40,500 --> 00:11:44,130
into Google Calendar so when you have

294
00:11:42,570 --> 00:11:47,040
events coming up and you can have

295
00:11:44,130 --> 00:11:49,820
automated processes turn on your system

296
00:11:47,040 --> 00:11:52,380
it talks to 12 different types of cars

297
00:11:49,820 --> 00:11:54,089
right when those are in the garage it

298
00:11:52,380 --> 00:11:56,070
will talk to those cars figure out oh

299
00:11:54,089 --> 00:11:59,850
it's time for maintenance let's go ahead

300
00:11:56,070 --> 00:12:01,860
and run this script let's see the

301
00:11:59,850 --> 00:12:03,149
presence detection there's all kinds of

302
00:12:01,860 --> 00:12:05,010
different presence detection where it

303
00:12:03,149 --> 00:12:07,410
figures out what which people are in the

304
00:12:05,010 --> 00:12:09,720
house and of course it's got light

305
00:12:07,410 --> 00:12:12,110
switches and all of the things we would

306
00:12:09,720 --> 00:12:12,110
expect

307
00:12:15,160 --> 00:12:22,920
cameras doorbells water here's and other

308
00:12:20,770 --> 00:12:24,610
things if you have inside your house

309
00:12:22,920 --> 00:12:27,459
here's a look at some of the components

310
00:12:24,610 --> 00:12:30,160
that you get with in-home assistance so

311
00:12:27,460 --> 00:12:32,680
everything you see here I didn't do any

312
00:12:30,160 --> 00:12:35,589
coding right I just ran one Python

313
00:12:32,680 --> 00:12:38,620
script to get this thing to come in I

314
00:12:35,590 --> 00:12:40,480
for my thermostats thermostats I did

315
00:12:38,620 --> 00:12:42,160
have to give it some logon information

316
00:12:40,480 --> 00:12:44,860
so I had to tell it here's the username

317
00:12:42,160 --> 00:12:47,500
and the password because if the Internet

318
00:12:44,860 --> 00:12:49,210
of Things device only has a web page

319
00:12:47,500 --> 00:12:50,890
that you can interface with there's no

320
00:12:49,210 --> 00:12:53,950
way for you to do it locally on your

321
00:12:50,890 --> 00:12:55,780
system then well you can provide a login

322
00:12:53,950 --> 00:12:58,330
to the web page and the home assistant

323
00:12:55,780 --> 00:12:59,800
will go out and do that for you I've got

324
00:12:58,330 --> 00:13:01,720
some things like I've got morning

325
00:12:59,800 --> 00:13:03,310
automations right so I've got one switch

326
00:13:01,720 --> 00:13:06,460
I can throw here to turn on my morning

327
00:13:03,310 --> 00:13:09,729
automations and then at 6:00 a.m. every

328
00:13:06,460 --> 00:13:11,560
morning it will start out with the

329
00:13:09,730 --> 00:13:15,370
lights being off and it'll turn them up

330
00:13:11,560 --> 00:13:18,849
to like a blue hue at 1% and then it'll

331
00:13:15,370 --> 00:13:20,920
do a simulated sunrise so that if this

332
00:13:18,850 --> 00:13:23,380
if it's wintertime I'll make sure that

333
00:13:20,920 --> 00:13:26,439
the Sun comes up in my house at 6

334
00:13:23,380 --> 00:13:27,880
o'clock every day so that I'm just

335
00:13:26,440 --> 00:13:29,320
waking up naturally with a thing then

336
00:13:27,880 --> 00:13:34,470
it'll also turn on the radio and things

337
00:13:29,320 --> 00:13:37,450
like that other things it does it has oh

338
00:13:34,470 --> 00:13:39,670
so it is open source so you can remove

339
00:13:37,450 --> 00:13:41,200
all the scary features that you don't

340
00:13:39,670 --> 00:13:43,569
like as information security system so

341
00:13:41,200 --> 00:13:44,800
when I found that it could integrate in

342
00:13:43,570 --> 00:13:48,430
with my security system

343
00:13:44,800 --> 00:13:50,859
I'm like I am NOT putting my house

344
00:13:48,430 --> 00:13:53,650
security system right on this thing if

345
00:13:50,860 --> 00:13:56,410
somebody can disable my security system

346
00:13:53,650 --> 00:14:00,370
somebody can unlock my doors to my house

347
00:13:56,410 --> 00:14:02,650
from a webpage as a penetration tester I

348
00:14:00,370 --> 00:14:04,810
would love to come across something or

349
00:14:02,650 --> 00:14:06,490
an O physical access yeah I can just go

350
00:14:04,810 --> 00:14:08,770
in and open your doors I can turn off

351
00:14:06,490 --> 00:14:11,170
your security system come in remotely so

352
00:14:08,770 --> 00:14:13,300
but it's open source and you can just go

353
00:14:11,170 --> 00:14:14,650
in and remove those and don't worry

354
00:14:13,300 --> 00:14:17,349
about it if you don't know how to code

355
00:14:14,650 --> 00:14:19,300
in Python in my experience people who

356
00:14:17,350 --> 00:14:22,290
don't know how to code in Python are

357
00:14:19,300 --> 00:14:26,740
very good at disabling functional code

358
00:14:22,290 --> 00:14:28,130
inside those programs right so you can

359
00:14:26,740 --> 00:14:30,440
just go in and just

360
00:14:28,130 --> 00:14:32,480
delete things comment amout break them

361
00:14:30,440 --> 00:14:34,040
however you want to do it it does also

362
00:14:32,480 --> 00:14:35,960
have this cloud service that I mentioned

363
00:14:34,040 --> 00:14:37,880
and it's got extensive logging of

364
00:14:35,960 --> 00:14:40,370
everything that it does and all the

365
00:14:37,880 --> 00:14:43,010
state changes so here at the bottom you

366
00:14:40,370 --> 00:14:46,490
see a couple of graphs here this is

367
00:14:43,010 --> 00:14:48,230
occupancy of my living room upstairs so

368
00:14:46,490 --> 00:14:50,690
at any time there's a green line there

369
00:14:48,230 --> 00:14:52,220
somebody was in my living room if

370
00:14:50,690 --> 00:14:54,490
there's a red line nobody was in the

371
00:14:52,220 --> 00:14:56,720
living room you've got the presence of

372
00:14:54,490 --> 00:14:58,730
individuals in my family that are being

373
00:14:56,720 --> 00:15:00,860
tracked I'm down here if they're blue

374
00:14:58,730 --> 00:15:02,930
they were home orange or purple they

375
00:15:00,860 --> 00:15:04,880
were not home right so it's got all

376
00:15:02,930 --> 00:15:06,670
kinds of logging and nice graphs that

377
00:15:04,880 --> 00:15:09,590
it'll show you to integrate these things

378
00:15:06,670 --> 00:15:11,120
now even though it comes with all of

379
00:15:09,590 --> 00:15:13,730
these hundreds and hundreds of

380
00:15:11,120 --> 00:15:15,470
components that you can integrate in it

381
00:15:13,730 --> 00:15:18,050
also has the ability for you to create

382
00:15:15,470 --> 00:15:21,380
your own components so I have this weird

383
00:15:18,050 --> 00:15:24,079
speaker system in my house where you can

384
00:15:21,380 --> 00:15:26,450
do intercoms like you can turn on

385
00:15:24,080 --> 00:15:30,740
speakers in the house and play radio in

386
00:15:26,450 --> 00:15:34,820
individual rooms and but it's like 1970s

387
00:15:30,740 --> 00:15:39,620
technology it does have a horribly

388
00:15:34,820 --> 00:15:41,540
flawed and immensely attackable web

389
00:15:39,620 --> 00:15:43,400
interface that I've thought about doing

390
00:15:41,540 --> 00:15:45,410
a talk on a couple of times but never

391
00:15:43,400 --> 00:15:48,949
have come around to because it's just

392
00:15:45,410 --> 00:15:54,650
it's it's a webpage that's written in

393
00:15:48,950 --> 00:15:56,540
bash scripts okay yeah so but it's a web

394
00:15:54,650 --> 00:15:58,790
page so I can integrate into that thing

395
00:15:56,540 --> 00:16:00,199
and I can do some automations and with

396
00:15:58,790 --> 00:16:03,740
home assistant it makes it pretty easy

397
00:16:00,200 --> 00:16:06,500
for you to build custom components so in

398
00:16:03,740 --> 00:16:09,050
here it did not have anything for my

399
00:16:06,500 --> 00:16:11,270
intercom system but you can see here I'm

400
00:16:09,050 --> 00:16:12,859
doing a word count look at the number of

401
00:16:11,270 --> 00:16:15,710
lines in this thing called media player

402
00:16:12,860 --> 00:16:18,230
dot py there's 200 lines of code in that

403
00:16:15,710 --> 00:16:20,270
program and of those 200 lines I maybe

404
00:16:18,230 --> 00:16:21,830
had to write a hundred of them the rest

405
00:16:20,270 --> 00:16:23,060
of them were all templated where I just

406
00:16:21,830 --> 00:16:25,700
downloaded the stuff so it's very easy

407
00:16:23,060 --> 00:16:27,349
to integrate components anything that

408
00:16:25,700 --> 00:16:29,570
you have in your house that's electronic

409
00:16:27,350 --> 00:16:31,430
that can communicate with across the

410
00:16:29,570 --> 00:16:34,880
network you can probably integrate that

411
00:16:31,430 --> 00:16:36,979
in a few lines of code so now all right

412
00:16:34,880 --> 00:16:39,470
I've gone whole hog everything in the

413
00:16:36,980 --> 00:16:41,900
house right that is on my wireless

414
00:16:39,470 --> 00:16:44,630
network is can now be

415
00:16:41,900 --> 00:16:46,550
integrated into home assistant right so

416
00:16:44,630 --> 00:16:49,130
now I want to start to tie these things

417
00:16:46,550 --> 00:16:51,380
together into some type of a game some

418
00:16:49,130 --> 00:16:53,180
type of fun well one of the easiest

419
00:16:51,380 --> 00:16:55,820
things you can do is you can add

420
00:16:53,180 --> 00:16:57,589
switches to the home assistant web

421
00:16:55,820 --> 00:17:00,620
interface so here's the web interface

422
00:16:57,590 --> 00:17:02,930
for home assistant and you've got this

423
00:17:00,620 --> 00:17:04,130
these all the configuration is done in

424
00:17:02,930 --> 00:17:06,349
yam all right

425
00:17:04,130 --> 00:17:08,210
yet another markup language so you go

426
00:17:06,349 --> 00:17:09,379
into this yet the animal configuration

427
00:17:08,210 --> 00:17:11,180
file and this is where you can create

428
00:17:09,380 --> 00:17:13,430
switches so here I create something

429
00:17:11,180 --> 00:17:14,600
called automate lights which is just

430
00:17:13,430 --> 00:17:16,880
going to be a switch that's gonna be

431
00:17:14,599 --> 00:17:19,280
named light automation as an initial

432
00:17:16,880 --> 00:17:21,709
switch of on and I define an icon and by

433
00:17:19,280 --> 00:17:23,359
adding this switch well then some over

434
00:17:21,709 --> 00:17:25,670
here here's my light automation switch

435
00:17:23,359 --> 00:17:28,820
this switch appears in the web interface

436
00:17:25,670 --> 00:17:33,260
and now I can use that switch to trigger

437
00:17:28,820 --> 00:17:36,620
events that happen inside my house one

438
00:17:33,260 --> 00:17:40,190
of the really nice and things about home

439
00:17:36,620 --> 00:17:43,909
assistant is that it acts like a Philips

440
00:17:40,190 --> 00:17:46,250
hue a light emulator so if you ever had

441
00:17:43,910 --> 00:17:48,170
this Philips hue light bulbs all right

442
00:17:46,250 --> 00:17:50,870
you you buy a little hub and you put

443
00:17:48,170 --> 00:17:52,820
this thing in your house and it's the

444
00:17:50,870 --> 00:17:56,060
thing that listens on the network and

445
00:17:52,820 --> 00:17:58,220
talks to the Phillips Phillips api's and

446
00:17:56,060 --> 00:18:01,100
the Philips applications that you run on

447
00:17:58,220 --> 00:18:03,380
your system also if you have Philips

448
00:18:01,100 --> 00:18:06,199
integrated in with Alexa alright it's

449
00:18:03,380 --> 00:18:08,240
the thing that Alexa finds when it does

450
00:18:06,200 --> 00:18:11,960
a discover scan on your internal network

451
00:18:08,240 --> 00:18:16,760
well because home assistant acts like

452
00:18:11,960 --> 00:18:18,680
it's a Philips hue hub Alexa finds it

453
00:18:16,760 --> 00:18:21,770
and then every switch that I've got

454
00:18:18,680 --> 00:18:24,050
inside of home assistant is now

455
00:18:21,770 --> 00:18:29,660
controllable through Alexa where I can

456
00:18:24,050 --> 00:18:32,030
say Alexa turn on the the challenge mark

457
00:18:29,660 --> 00:18:34,730
sleeping and it sees this as a light

458
00:18:32,030 --> 00:18:37,940
bulb in my house and it flicks that

459
00:18:34,730 --> 00:18:40,550
switch turns it from off to on I have a

460
00:18:37,940 --> 00:18:43,670
switch that's called an escape the

461
00:18:40,550 --> 00:18:45,440
escape game so I say Alexa turn on the

462
00:18:43,670 --> 00:18:48,920
escape game and it flips that switch

463
00:18:45,440 --> 00:18:51,260
inside the web interface now at this

464
00:18:48,920 --> 00:18:54,560
point right and this is still zero

465
00:18:51,260 --> 00:18:55,940
coding right all I've done is added

466
00:18:54,560 --> 00:18:59,090
those three lines of Yam

467
00:18:55,940 --> 00:19:01,820
- home assistant everything else was out

468
00:18:59,090 --> 00:19:03,889
out of the box it just does it okay

469
00:19:01,820 --> 00:19:07,730
that's not actually true I did have to

470
00:19:03,890 --> 00:19:10,910
enable the Philips home philips hue

471
00:19:07,730 --> 00:19:12,590
emulation service in the configuration

472
00:19:10,910 --> 00:19:14,000
because that's not on by default but

473
00:19:12,590 --> 00:19:17,270
there's no configuration to it you just

474
00:19:14,000 --> 00:19:20,060
say turn that thing on so now I can with

475
00:19:17,270 --> 00:19:22,250
my voice flip switches on a webpage but

476
00:19:20,060 --> 00:19:24,320
they don't do anything other than flip

477
00:19:22,250 --> 00:19:26,930
the switch so at that point you can

478
00:19:24,320 --> 00:19:29,929
start to add automations to your home

479
00:19:26,930 --> 00:19:32,660
now the automations can be configured

480
00:19:29,930 --> 00:19:35,720
through a web interface and these are

481
00:19:32,660 --> 00:19:37,670
really these are no code automation so

482
00:19:35,720 --> 00:19:38,900
I'm gonna zoom into the different

483
00:19:37,670 --> 00:19:41,450
components because I know you can't see

484
00:19:38,900 --> 00:19:43,700
those things on that screen so oh well

485
00:19:41,450 --> 00:19:46,460
all automations are made up of a trigger

486
00:19:43,700 --> 00:19:48,620
a condition and an action right so the

487
00:19:46,460 --> 00:19:51,500
trigger is like an event that occurred

488
00:19:48,620 --> 00:19:54,469
inside of the web page that says a

489
00:19:51,500 --> 00:19:56,600
switch was thrown you know something

490
00:19:54,470 --> 00:19:58,850
changed from this state to this state a

491
00:19:56,600 --> 00:20:01,100
timer is being activated something like

492
00:19:58,850 --> 00:20:03,290
that is a trigger then the conditions

493
00:20:01,100 --> 00:20:05,750
are you know I only want you to take the

494
00:20:03,290 --> 00:20:07,399
action in this case and then the action

495
00:20:05,750 --> 00:20:11,570
is what you want to do so here's one of

496
00:20:07,400 --> 00:20:15,110
my triggers in my downstairs thermostat

497
00:20:11,570 --> 00:20:16,909
which recognizes occupancy so you know

498
00:20:15,110 --> 00:20:18,350
your thermostats they want to optimize

499
00:20:16,910 --> 00:20:20,300
the temperature and if no one's home

500
00:20:18,350 --> 00:20:22,330
they'll turn down the temperature I can

501
00:20:20,300 --> 00:20:25,070
get the readings from that sensor

502
00:20:22,330 --> 00:20:27,949
through a home assistant so it says if

503
00:20:25,070 --> 00:20:30,679
someone is in my downstairs based upon

504
00:20:27,950 --> 00:20:33,770
the thermostat right if that state

505
00:20:30,680 --> 00:20:37,340
changed from changes from unoccupied to

506
00:20:33,770 --> 00:20:40,180
occupied then this trigger is thrown I

507
00:20:37,340 --> 00:20:43,970
add conditions to that that say okay I

508
00:20:40,180 --> 00:20:47,510
only want the action to run if the

509
00:20:43,970 --> 00:20:51,380
device tracker for mark says that he is

510
00:20:47,510 --> 00:20:55,100
home so mark is home and if it's between

511
00:20:51,380 --> 00:20:58,670
sunset and sunrise right and it does

512
00:20:55,100 --> 00:21:01,159
this based upon it will do a lookup of

513
00:20:58,670 --> 00:21:02,660
where you are based upon some html5 and

514
00:21:01,160 --> 00:21:04,370
so based upon your latitude and

515
00:21:02,660 --> 00:21:06,710
longitude and weather service

516
00:21:04,370 --> 00:21:09,260
information it figures out what's at the

517
00:21:06,710 --> 00:21:12,200
sunrise is sunset are for that day

518
00:21:09,260 --> 00:21:16,220
so if I'm home and I walk into the

519
00:21:12,200 --> 00:21:17,780
bedroom then it'll run this service so

520
00:21:16,220 --> 00:21:20,900
it'll call the service called the media

521
00:21:17,780 --> 00:21:23,870
extractor where I tell it to play on

522
00:21:20,900 --> 00:21:27,230
this television inside my house this

523
00:21:23,870 --> 00:21:30,889
YouTube video which is in an mp4 format

524
00:21:27,230 --> 00:21:33,140
and then if the television is turned off

525
00:21:30,890 --> 00:21:34,490
it automatically turns on if the

526
00:21:33,140 --> 00:21:37,670
television is tuned to some other

527
00:21:34,490 --> 00:21:40,550
station right it stops and it moves over

528
00:21:37,670 --> 00:21:43,310
to the Google cast and it begins playing

529
00:21:40,550 --> 00:21:48,080
this television station and I have had

530
00:21:43,310 --> 00:21:50,690
so much fun with this little thing so

531
00:21:48,080 --> 00:21:52,520
again it's all in Python code right so

532
00:21:50,690 --> 00:21:54,920
you can take the Google cast along and

533
00:21:52,520 --> 00:21:56,990
this this is also available as a

534
00:21:54,920 --> 00:21:58,940
function call inside of Python right so

535
00:21:56,990 --> 00:22:01,010
I can take those modules I can port and

536
00:21:58,940 --> 00:22:03,620
put them into a small executable that

537
00:22:01,010 --> 00:22:06,410
just sits there and waits till a given

538
00:22:03,620 --> 00:22:08,510
date and time right and then a given

539
00:22:06,410 --> 00:22:12,380
date and time begins playing this video

540
00:22:08,510 --> 00:22:14,420
right so I had at my house right I had

541
00:22:12,380 --> 00:22:17,510
this program that was running that was

542
00:22:14,420 --> 00:22:19,340
waiting till a specific date in a

543
00:22:17,510 --> 00:22:21,440
specific time and at that specific date

544
00:22:19,340 --> 00:22:23,990
and specific time it would go out to

545
00:22:21,440 --> 00:22:26,150
YouTube and I found some video from like

546
00:22:23,990 --> 00:22:28,790
The Walking Dead all right that starts

547
00:22:26,150 --> 00:22:31,130
out with we interrupt your normally

548
00:22:28,790 --> 00:22:33,200
scheduled program to bring you this very

549
00:22:31,130 --> 00:22:35,750
important news minute right about

550
00:22:33,200 --> 00:22:38,840
zombies are rising from the dead and

551
00:22:35,750 --> 00:22:41,270
eating human beings and cities and I ran

552
00:22:38,840 --> 00:22:46,580
this at my house and then I also ran at

553
00:22:41,270 --> 00:22:49,700
my mom and dad's house because and so

554
00:22:46,580 --> 00:22:51,649
right my my theory was all right if my

555
00:22:49,700 --> 00:22:54,560
mom and dad see this view they might

556
00:22:51,650 --> 00:22:56,840
call our house and then oh yeah we also

557
00:22:54,560 --> 00:22:59,659
saw the same announcement on our

558
00:22:56,840 --> 00:23:03,770
television that zombies are rising from

559
00:22:59,660 --> 00:23:05,450
the dead but yeah my wife made me delete

560
00:23:03,770 --> 00:23:07,460
it from my parents house before we leave

561
00:23:05,450 --> 00:23:09,380
so I didn't get to test it there we only

562
00:23:07,460 --> 00:23:11,240
used got to use it at our house okay but

563
00:23:09,380 --> 00:23:12,740
but it works right it's a it's a cool

564
00:23:11,240 --> 00:23:15,380
little thing and Google chromecast is

565
00:23:12,740 --> 00:23:18,380
just enabled and it just finds it out of

566
00:23:15,380 --> 00:23:20,150
the box okay I can also have it run

567
00:23:18,380 --> 00:23:22,640
other scripts so here I'm having it call

568
00:23:20,150 --> 00:23:22,970
a Python script called escape welcome

569
00:23:22,640 --> 00:23:26,780
which

570
00:23:22,970 --> 00:23:27,710
runs the welcome scripted by in addition

571
00:23:26,780 --> 00:23:29,480
to configuring this through the web

572
00:23:27,710 --> 00:23:32,840
interface you can also just configure it

573
00:23:29,480 --> 00:23:35,090
through yamo configurations so here I

574
00:23:32,840 --> 00:23:36,678
have the script called goodnight right

575
00:23:35,090 --> 00:23:39,799
so this is my goodnight script that says

576
00:23:36,679 --> 00:23:42,289
alright if I have the binary sensor of

577
00:23:39,799 --> 00:23:44,900
the Sleep Number says that we're on so

578
00:23:42,289 --> 00:23:47,629
we're in bed alright and if all devices

579
00:23:44,900 --> 00:23:50,840
are home and the condition is it's after

580
00:23:47,630 --> 00:23:55,280
9 o'clock then turn off all the lights

581
00:23:50,840 --> 00:23:57,559
turn on the alarm panel in the house so

582
00:23:55,280 --> 00:23:59,690
that's my goodnight script this is my

583
00:23:57,559 --> 00:24:02,450
great night script right if we're in bed

584
00:23:59,690 --> 00:24:05,809
and the kids are not home then turn the

585
00:24:02,450 --> 00:24:16,580
lights to 50% and then say Alexa play

586
00:24:05,809 --> 00:24:18,168
romantic playlist in the bedroom this

587
00:24:16,580 --> 00:24:20,350
does not work as well as you would like

588
00:24:18,169 --> 00:24:20,350
it to

589
00:24:22,190 --> 00:24:30,300
all right so so now I can say Alexa turn

590
00:24:27,450 --> 00:24:33,240
on the escape game and she flips the

591
00:24:30,300 --> 00:24:34,830
switch then with no code automated

592
00:24:33,240 --> 00:24:37,560
scripts take over from there and

593
00:24:34,830 --> 00:24:39,629
everything I'm about to show you happens

594
00:24:37,560 --> 00:24:42,210
automatically and I again I haven't

595
00:24:39,630 --> 00:24:45,780
written any code to do this okay alright

596
00:24:42,210 --> 00:24:47,850
so alright when I press play here what

597
00:24:45,780 --> 00:24:49,530
you're gonna see is all of the lights in

598
00:24:47,850 --> 00:24:51,750
the entire house are going to be turned

599
00:24:49,530 --> 00:24:53,310
off except for this one light here over

600
00:24:51,750 --> 00:24:55,530
the television this one's going to turn

601
00:24:53,310 --> 00:24:57,570
to blue then you're going to see that

602
00:24:55,530 --> 00:24:59,910
the front door in my house is going to

603
00:24:57,570 --> 00:25:01,470
lock then it's gonna come back over and

604
00:24:59,910 --> 00:25:03,360
it's going to play a video and this

605
00:25:01,470 --> 00:25:04,920
video is the introduction to the scape

606
00:25:03,360 --> 00:25:07,439
game right so this is the Welcome that

607
00:25:04,920 --> 00:25:10,380
tells everybody how to play the escape

608
00:25:07,440 --> 00:25:12,240
gram okay now before I play this the

609
00:25:10,380 --> 00:25:14,040
game before I play this video let me

610
00:25:12,240 --> 00:25:16,530
just say that if you're building an

611
00:25:14,040 --> 00:25:19,230
escape room in your house you have no

612
00:25:16,530 --> 00:25:24,090
chance whatsoever of convincing people

613
00:25:19,230 --> 00:25:25,050
that you are not a nerd okay so you

614
00:25:24,090 --> 00:25:29,510
might as well own it

615
00:25:25,050 --> 00:25:29,510
alright so alright here goes the video

616
00:25:34,490 --> 00:25:41,790
all right let's try this one more time

617
00:25:37,230 --> 00:25:48,690
here with audio on maybe is the audio

618
00:25:41,790 --> 00:25:52,159
coming through the HDMI okay alright

619
00:25:48,690 --> 00:25:52,160
we'll try this one more time here

620
00:25:59,760 --> 00:26:03,450
it's a big fat nothing

621
00:26:05,640 --> 00:26:11,730
HDMI speakers real tech 100%

622
00:27:07,590 --> 00:27:20,949
and it goes on from there all right so

623
00:27:18,549 --> 00:27:22,299
then we get into the scape game now from

624
00:27:20,950 --> 00:27:24,039
there you got to start writing some code

625
00:27:22,299 --> 00:27:25,360
to do some automations you'll see this

626
00:27:24,039 --> 00:27:28,809
thing at home assistant called Python

627
00:27:25,360 --> 00:27:30,549
scripts and let me just save you some

628
00:27:28,809 --> 00:27:32,559
time it's a huge disappointment right

629
00:27:30,549 --> 00:27:35,918
within the Python scripts you can't

630
00:27:32,559 --> 00:27:37,570
import anything inside the Python

631
00:27:35,919 --> 00:27:38,860
scripts so if you try to do Python

632
00:27:37,570 --> 00:27:40,269
script automations all you can do is

633
00:27:38,860 --> 00:27:41,918
write a Python script that does the same

634
00:27:40,269 --> 00:27:43,990
thing that the animal configuration does

635
00:27:41,919 --> 00:27:45,909
so the Python scripts were a huge

636
00:27:43,990 --> 00:27:47,980
disappointment but they got this thing

637
00:27:45,909 --> 00:27:50,230
called the app demon right and the app

638
00:27:47,980 --> 00:27:52,659
demon is another program that runs and

639
00:27:50,230 --> 00:27:54,850
it lets you have full control over the

640
00:27:52,659 --> 00:27:57,309
entire process you can write full-on

641
00:27:54,850 --> 00:27:59,549
Python programs you can import requests

642
00:27:57,309 --> 00:28:01,840
you can import whatever you want and

643
00:27:59,549 --> 00:28:04,418
write programs to automate things and

644
00:28:01,840 --> 00:28:06,129
they provide a structure that lets you

645
00:28:04,419 --> 00:28:08,470
interact with those systems to make it

646
00:28:06,129 --> 00:28:11,199
very easy so here's here's the beginning

647
00:28:08,470 --> 00:28:13,600
of my escape game written in the app

648
00:28:11,200 --> 00:28:16,720
demon process right so I have an

649
00:28:13,600 --> 00:28:18,820
initializer that looks for the input

650
00:28:16,720 --> 00:28:21,129
boolean of the escape game if the switch

651
00:28:18,820 --> 00:28:23,740
is being turned from off the old state

652
00:28:21,129 --> 00:28:26,289
is off and the new state is on then it

653
00:28:23,740 --> 00:28:29,169
runs this thing called self dot start

654
00:28:26,289 --> 00:28:31,840
game here within self dot start game

655
00:28:29,169 --> 00:28:34,000
which is right here next it logs that

656
00:28:31,840 --> 00:28:35,860
the game is started it records the start

657
00:28:34,000 --> 00:28:39,399
time because they only have 45 minutes

658
00:28:35,860 --> 00:28:41,408
right and then it turns the escape game

659
00:28:39,399 --> 00:28:43,989
switch that I just turned on with my

660
00:28:41,409 --> 00:28:45,490
voice back to off and then it starts

661
00:28:43,990 --> 00:28:47,139
checking the states of the other

662
00:28:45,490 --> 00:28:49,600
switches that I've got defined in there

663
00:28:47,139 --> 00:28:51,639
is challenge one turned on is challenge

664
00:28:49,600 --> 00:28:53,559
two turned on and if challenge one is

665
00:28:51,639 --> 00:28:54,290
turned on then it runs a function called

666
00:28:53,559 --> 00:28:56,450
challenge

667
00:28:54,290 --> 00:28:59,120
one and then it starts going through the

668
00:28:56,450 --> 00:29:01,460
code so what kind of challenges do I put

669
00:28:59,120 --> 00:29:03,409
my escape game well there's a series of

670
00:29:01,460 --> 00:29:06,350
these things so I do have integrated

671
00:29:03,410 --> 00:29:08,720
into rooms in my house puzzles so I

672
00:29:06,350 --> 00:29:10,730
would hide a puzzle in the house I have

673
00:29:08,720 --> 00:29:12,560
these ammo boxes that have got

674
00:29:10,730 --> 00:29:13,910
combination locks on them so just like

675
00:29:12,560 --> 00:29:15,560
you'd have in a traditional skate game

676
00:29:13,910 --> 00:29:16,730
you got to figure out the combinations

677
00:29:15,560 --> 00:29:19,610
that are on those things with the

678
00:29:16,730 --> 00:29:21,860
puzzles and but I have also have the

679
00:29:19,610 --> 00:29:23,929
ability to integrate these IOT things so

680
00:29:21,860 --> 00:29:26,060
the video might send you to find a

681
00:29:23,930 --> 00:29:27,890
puzzle once you solve the puzzle the

682
00:29:26,060 --> 00:29:29,960
puzzle have you interact with Internet

683
00:29:27,890 --> 00:29:31,550
of Things devices within the house which

684
00:29:29,960 --> 00:29:33,920
will have you solve a puzzle once that

685
00:29:31,550 --> 00:29:36,139
puzzle is solved that triggers some

686
00:29:33,920 --> 00:29:38,150
other thing that gives you that gives

687
00:29:36,140 --> 00:29:40,220
another video or some announcement that

688
00:29:38,150 --> 00:29:41,300
tells you to go someplace else and then

689
00:29:40,220 --> 00:29:43,700
you got other puzzles that have

690
00:29:41,300 --> 00:29:45,830
combination locks which lead to you

691
00:29:43,700 --> 00:29:47,690
other triggers of Internet of Things and

692
00:29:45,830 --> 00:29:49,429
so forth and so on and all these things

693
00:29:47,690 --> 00:29:53,620
are integrated in together so here's

694
00:29:49,430 --> 00:29:53,620
some of my puzzles so

695
00:29:56,230 --> 00:30:01,989
theme is integrated around the hackers

696
00:29:59,440 --> 00:30:03,879
apprentice because well hacking is what

697
00:30:01,989 --> 00:30:07,409
I know and and wanted to make it fun for

698
00:30:03,879 --> 00:30:09,639
people so hackers are masters of

699
00:30:07,409 --> 00:30:13,359
technology so one of the puzzles says

700
00:30:09,639 --> 00:30:16,479
all right excellent job you show promise

701
00:30:13,359 --> 00:30:18,549
my young apprentice a hacker must be

702
00:30:16,480 --> 00:30:21,549
able to control computers using only

703
00:30:18,549 --> 00:30:23,230
their voice so if you look up right yeah

704
00:30:21,549 --> 00:30:24,700
I've got coffers in my ceilings with

705
00:30:23,230 --> 00:30:26,169
these light switches right and they have

706
00:30:24,700 --> 00:30:29,830
to they have to figure out that they got

707
00:30:26,169 --> 00:30:32,769
to recreate this pattern of X's being

708
00:30:29,830 --> 00:30:35,529
off Oh being on and then turning this

709
00:30:32,769 --> 00:30:38,139
one light to red and once they've done

710
00:30:35,529 --> 00:30:39,909
that they've then triggered that then

711
00:30:38,139 --> 00:30:42,309
the device that's monitoring all of

712
00:30:39,909 --> 00:30:43,779
these different states then says okay

713
00:30:42,309 --> 00:30:45,158
you've satisfied that and I'll play

714
00:30:43,779 --> 00:30:46,840
another video to tell them to go on to

715
00:30:45,159 --> 00:30:50,049
the next thing and this is the code to

716
00:30:46,840 --> 00:30:53,049
do that so here's my light patterns

717
00:30:50,049 --> 00:30:55,779
challenge right it comes in it has all

718
00:30:53,049 --> 00:30:59,168
of these get states where it looks for

719
00:30:55,779 --> 00:31:01,600
the current state of my lights so is the

720
00:30:59,169 --> 00:31:04,029
living room center light on is the

721
00:31:01,600 --> 00:31:07,059
living room type top light on is living

722
00:31:04,029 --> 00:31:11,499
room right off this one off is the RGB

723
00:31:07,059 --> 00:31:14,139
color for the living room center is it

724
00:31:11,499 --> 00:31:16,840
red so I've got all these different

725
00:31:14,139 --> 00:31:21,908
variables that I set and then if all of

726
00:31:16,840 --> 00:31:25,480
them are true then this this return or

727
00:31:21,909 --> 00:31:26,799
lights are lights right function which

728
00:31:25,480 --> 00:31:29,980
says whether or not the lights are right

729
00:31:26,799 --> 00:31:31,029
would return true so while the lights

730
00:31:29,980 --> 00:31:33,070
are not right

731
00:31:31,029 --> 00:31:35,109
I just log the lights are not right yet

732
00:31:33,070 --> 00:31:37,689
I sleep two seconds and I continuously

733
00:31:35,109 --> 00:31:39,668
wait in this loop until they get all of

734
00:31:37,690 --> 00:31:41,350
the switches correct once it's correct

735
00:31:39,669 --> 00:31:43,749
it moves on and it comes down here to

736
00:31:41,350 --> 00:31:47,799
call a service that says all right now

737
00:31:43,749 --> 00:31:50,460
on my I want you to call the play media

738
00:31:47,799 --> 00:31:53,918
service and play on my Sony television

739
00:31:50,460 --> 00:31:57,340
this mp4 video which gives them the next

740
00:31:53,919 --> 00:31:59,259
clue so games challenges like this are

741
00:31:57,340 --> 00:32:01,299
integrated throughout the thing now what

742
00:31:59,259 --> 00:32:03,070
my house ends up looking like with a

743
00:32:01,299 --> 00:32:04,779
bunch of non-technical people who are

744
00:32:03,070 --> 00:32:09,158
yelling at Alexa don't know how to use

745
00:32:04,779 --> 00:32:10,690
Alexa this video here pretty much is

746
00:32:09,159 --> 00:32:12,099
an example of what my life is like as

747
00:32:10,690 --> 00:32:46,869
people are going through this escape

748
00:32:12,099 --> 00:32:49,720
room and then the frustration and builds

749
00:32:46,869 --> 00:32:51,570
and things like that so another one of

750
00:32:49,720 --> 00:32:55,239
my challenge says hey hackers are

751
00:32:51,570 --> 00:32:56,859
Masters of Deception right so I need you

752
00:32:55,239 --> 00:32:59,529
to cause a distraction

753
00:32:56,859 --> 00:33:01,449
I've got cameras all around the house on

754
00:32:59,529 --> 00:33:03,399
the outside of the house so in order to

755
00:33:01,450 --> 00:33:05,529
cause a distraction I tell the game

756
00:33:03,399 --> 00:33:08,768
players that they have to go into my

757
00:33:05,529 --> 00:33:10,809
backyard I set the motion sensors on my

758
00:33:08,769 --> 00:33:12,700
cameras too low and they have to have a

759
00:33:10,809 --> 00:33:15,158
dance party in the backyard that's big

760
00:33:12,700 --> 00:33:17,649
enough to set off the motion sensors in

761
00:33:15,159 --> 00:33:21,489
the cameras and this is what that code

762
00:33:17,649 --> 00:33:24,248
looks like right so challenging waiting

763
00:33:21,489 --> 00:33:25,989
for the dancers right I log that they've

764
00:33:24,249 --> 00:33:28,629
successfully finished the last challenge

765
00:33:25,989 --> 00:33:31,299
I play Billy Joel under pressure

766
00:33:28,629 --> 00:33:33,939
everywhere so all the speakers in the

767
00:33:31,299 --> 00:33:36,309
house come on and then Billy Joel under

768
00:33:33,940 --> 00:33:38,619
pressure begins playing I record the

769
00:33:36,309 --> 00:33:43,210
current number of alerts on my camera

770
00:33:38,619 --> 00:33:45,309
and then while the start number is equal

771
00:33:43,210 --> 00:33:47,950
to the current count I get the count and

772
00:33:45,309 --> 00:33:50,139
I just sit here in this loop once they

773
00:33:47,950 --> 00:33:51,639
have triggered an alert on the cameras

774
00:33:50,139 --> 00:33:54,099
then it'll drop out of this while loop

775
00:33:51,639 --> 00:33:55,508
it'll come down here and a log dancing

776
00:33:54,099 --> 00:33:57,279
detected and then it'll make an

777
00:33:55,509 --> 00:34:00,700
announcement through my house that says

778
00:33:57,279 --> 00:34:02,889
warning bad dancing was detected and

779
00:34:00,700 --> 00:34:06,909
then says proceed to the living room for

780
00:34:02,889 --> 00:34:09,069
your next clue I also have these these

781
00:34:06,909 --> 00:34:10,690
Bluetooth devices I thought these were

782
00:34:09,069 --> 00:34:13,629
really cool flick makes these they're

783
00:34:10,690 --> 00:34:16,599
about 30 bucks each but it's just it's a

784
00:34:13,629 --> 00:34:18,609
Bluetooth button right and you can have

785
00:34:16,599 --> 00:34:20,859
this Bluetooth button do just about

786
00:34:18,609 --> 00:34:22,409
anything you wanted to I brought this

787
00:34:20,859 --> 00:34:28,650
with me I only brought one of them

788
00:34:22,409 --> 00:34:30,359
this one currently does it so I can push

789
00:34:28,650 --> 00:34:32,850
a button and I can make a fart sound now

790
00:34:30,360 --> 00:34:37,020
it's it's not childish and immature if

791
00:34:32,850 --> 00:34:39,540
bluetooth is involved okay okay so in

792
00:34:37,020 --> 00:34:41,130
this case I've got a bunch of these

793
00:34:39,540 --> 00:34:44,880
buttons and we'll start out with green

794
00:34:41,130 --> 00:34:48,480
in and a yellow one and they'll say hey

795
00:34:44,880 --> 00:34:50,340
Alexa start the start Simon Says and

796
00:34:48,480 --> 00:34:52,770
they'll start playing Simon Says and

797
00:34:50,340 --> 00:34:54,120
they'll be able to go so far with the

798
00:34:52,770 --> 00:34:56,250
blue and the yellow and then they'll

799
00:34:54,120 --> 00:34:57,839
find out oh it blinks blue and they're

800
00:34:56,250 --> 00:34:59,490
like but I don't have a blue button

801
00:34:57,840 --> 00:35:00,720
alright so then they'll have to figure

802
00:34:59,490 --> 00:35:01,979
out that they'll have to proceed further

803
00:35:00,720 --> 00:35:04,169
in the puzzles so you can kind of use

804
00:35:01,980 --> 00:35:05,550
this as an anchor puzzle too so that

805
00:35:04,170 --> 00:35:07,470
people know all right

806
00:35:05,550 --> 00:35:08,970
the big puzzle that I have to solve is I

807
00:35:07,470 --> 00:35:10,799
have to find all of the Bluetooth

808
00:35:08,970 --> 00:35:12,060
buttons and once I've accumulated all of

809
00:35:10,800 --> 00:35:14,280
the Bluetooth buttons then I'll be able

810
00:35:12,060 --> 00:35:15,870
to go back to my Alexa my Simon Says

811
00:35:14,280 --> 00:35:20,040
challenge to continue to move through

812
00:35:15,870 --> 00:35:22,770
puzzle I also have some actual hacking

813
00:35:20,040 --> 00:35:25,290
in the system and this was probably the

814
00:35:22,770 --> 00:35:28,259
most emotionally mixed challenge of them

815
00:35:25,290 --> 00:35:31,350
all right so I have a video that plays

816
00:35:28,260 --> 00:35:33,960
that tells them to go to a specific IP

817
00:35:31,350 --> 00:35:37,830
address in my hose through a webpage my

818
00:35:33,960 --> 00:35:41,880
house where it says slash number of

819
00:35:37,830 --> 00:35:44,220
ghosts equals six and when they go there

820
00:35:41,880 --> 00:35:47,460
they find a mrs. pacman that runs on

821
00:35:44,220 --> 00:35:49,529
this web page with six ghosts all right

822
00:35:47,460 --> 00:35:51,690
and the challenge on the screen says you

823
00:35:49,530 --> 00:35:56,070
must be an excellent gamer or an amateur

824
00:35:51,690 --> 00:35:58,770
hacker to finish this challenge and so

825
00:35:56,070 --> 00:36:01,650
many information security professionals

826
00:35:58,770 --> 00:36:03,420
have come to my house and I don't maybe

827
00:36:01,650 --> 00:36:06,600
they just get excited about playing this

828
00:36:03,420 --> 00:36:10,350
pacman again I don't know all right but

829
00:36:06,600 --> 00:36:11,610
but will lay miss pac-man over and over

830
00:36:10,350 --> 00:36:14,250
and over again now how would you

831
00:36:11,610 --> 00:36:17,360
challenge how would you do this numb

832
00:36:14,250 --> 00:36:19,440
ghost equals zero right so set number

833
00:36:17,360 --> 00:36:23,850
and then you do it now the other thing

834
00:36:19,440 --> 00:36:26,730
that's interesting about challenge

835
00:36:23,850 --> 00:36:28,470
is it never actually vacation that it's

836
00:36:26,730 --> 00:36:29,760
done alright so you can you could

837
00:36:28,470 --> 00:36:32,549
actually still play this forever what

838
00:36:29,760 --> 00:36:35,640
happens is once the score reaches a

839
00:36:32,550 --> 00:36:37,680
combination that unlocks a box you just

840
00:36:35,640 --> 00:36:39,480
stopped scoring points and the score

841
00:36:37,680 --> 00:36:41,790
stays the same so I'll have people that

842
00:36:39,480 --> 00:36:46,920
won't notice that which also makes that

843
00:36:41,790 --> 00:36:48,690
45 minutes as time is ticking by longer

844
00:36:46,920 --> 00:36:51,150
one of the other challenges that got in

845
00:36:48,690 --> 00:36:52,590
there is doing some open source

846
00:36:51,150 --> 00:36:55,650
intelligence so I just tell them this is

847
00:36:52,590 --> 00:36:57,360
so easy to get right again no code for

848
00:36:55,650 --> 00:36:59,370
this one I just don't right there it's

849
00:36:57,360 --> 00:37:04,140
there's a switch in my house and the

850
00:36:59,370 --> 00:37:07,319
name of the switch is my high school's

851
00:37:04,140 --> 00:37:12,240
mascot and my wife's record breaking

852
00:37:07,320 --> 00:37:13,470
track time from 1988 so they have to go

853
00:37:12,240 --> 00:37:15,330
out on the internet and do some open

854
00:37:13,470 --> 00:37:17,790
source intelligence gathering and figure

855
00:37:15,330 --> 00:37:20,190
out that they had what those those two

856
00:37:17,790 --> 00:37:22,170
values are and then say turn on whatever

857
00:37:20,190 --> 00:37:24,570
the mascot name is and whatever the time

858
00:37:22,170 --> 00:37:26,700
is and once they say once they get the

859
00:37:24,570 --> 00:37:30,420
name correct then it flips the switch

860
00:37:26,700 --> 00:37:32,790
and then the puzzle moves on again no

861
00:37:30,420 --> 00:37:35,760
code for that one but what I found is

862
00:37:32,790 --> 00:37:38,610
that everything in my house is now I see

863
00:37:35,760 --> 00:37:41,030
combinations everywhere right you know

864
00:37:38,610 --> 00:37:43,440
as I as I look at thermostats I see Oh

865
00:37:41,030 --> 00:37:44,970
72 degrees I can have a challenge where

866
00:37:43,440 --> 00:37:47,490
I said have them set the temperature to

867
00:37:44,970 --> 00:37:49,230
98 degrees in the upstairs right which

868
00:37:47,490 --> 00:37:51,930
you do have to remember to set it back

869
00:37:49,230 --> 00:37:53,940
to a normal temperature the sleep

870
00:37:51,930 --> 00:37:55,759
numbers right you can change those if I

871
00:37:53,940 --> 00:37:59,490
can communicate I can communicate

872
00:37:55,760 --> 00:38:01,470
combinations to ammo boxes by changing

873
00:37:59,490 --> 00:38:04,379
the channel using the Harmony remote to

874
00:38:01,470 --> 00:38:06,270
set the to choose a channel number which

875
00:38:04,380 --> 00:38:08,100
relates to a combination things like

876
00:38:06,270 --> 00:38:09,810
that song it's just saying numbers and

877
00:38:08,100 --> 00:38:13,170
are combinations everywhere as I build

878
00:38:09,810 --> 00:38:14,580
this so a couple of lessons learned I it

879
00:38:13,170 --> 00:38:17,040
is important to remember that it's still

880
00:38:14,580 --> 00:38:20,340
your house okay and used to live there

881
00:38:17,040 --> 00:38:22,170
and so does your family members so some

882
00:38:20,340 --> 00:38:25,200
challenges that my wife has made me get

883
00:38:22,170 --> 00:38:28,640
rid of having challenges where people

884
00:38:25,200 --> 00:38:32,609
have to lay in your beds in order to

885
00:38:28,640 --> 00:38:36,210
trigger events does not tend to go over

886
00:38:32,610 --> 00:38:37,260
well also if you're going to have things

887
00:38:36,210 --> 00:38:41,100
like have people do

888
00:38:37,260 --> 00:38:42,960
outside then if there's possibility it's

889
00:38:41,100 --> 00:38:45,330
gonna be muddy and people are gonna drag

890
00:38:42,960 --> 00:38:47,490
things into the house and ruin carpets

891
00:38:45,330 --> 00:38:48,779
so it's important to have those switches

892
00:38:47,490 --> 00:38:51,359
where you can turn off certain

893
00:38:48,780 --> 00:38:53,430
challenges for and swap them out with

894
00:38:51,359 --> 00:39:00,750
others in the case of rain and things

895
00:38:53,430 --> 00:39:01,980
like that so I actually could tie that

896
00:39:00,750 --> 00:39:04,050
into the Internet of Things weather

897
00:39:01,980 --> 00:39:06,630
device right but it's it's just a manual

898
00:39:04,050 --> 00:39:07,980
switch all right so I I've got like

899
00:39:06,630 --> 00:39:10,109
several challenges where I'll turn

900
00:39:07,980 --> 00:39:12,540
different ones off and on so that if

901
00:39:10,109 --> 00:39:14,640
somebody's come over and I have somebody

902
00:39:12,540 --> 00:39:16,980
that's you know pretty technology savvy

903
00:39:14,640 --> 00:39:20,790
I might swap in a harder challenge just

904
00:39:16,980 --> 00:39:22,590
to make it fun for them all right so

905
00:39:20,790 --> 00:39:24,600
what do you need to do this well some

906
00:39:22,590 --> 00:39:25,950
pythons coding skills would be helpful

907
00:39:24,600 --> 00:39:28,920
all right if you don't have any of those

908
00:39:25,950 --> 00:39:30,660
I urge you to check out sans 573 you

909
00:39:28,920 --> 00:39:33,630
automating information security with

910
00:39:30,660 --> 00:39:35,220
Python that you need home assistant

911
00:39:33,630 --> 00:39:37,380
right which is a free tool that's out

912
00:39:35,220 --> 00:39:39,569
there and when you scan it don't be

913
00:39:37,380 --> 00:39:41,310
surprised about the amount of IOT that

914
00:39:39,570 --> 00:39:43,890
you already have in your house that you

915
00:39:41,310 --> 00:39:45,990
can probably do some cool stuff with ok

916
00:39:43,890 --> 00:39:47,400
if you want to copy the some of the

917
00:39:45,990 --> 00:39:48,720
source code for this I'm happy to share

918
00:39:47,400 --> 00:39:52,680
it with you send me something on Twitter

919
00:39:48,720 --> 00:39:55,970
if you have any questions I have four

920
00:39:52,680 --> 00:39:55,970
minutes yes

921
00:39:59,170 --> 00:40:07,320
can I explain why play romantic music

922
00:40:01,720 --> 00:40:07,319
doesn't work no I cannot

923
00:40:10,420 --> 00:40:15,820
is the dance party recorded um some of

924
00:40:13,870 --> 00:40:17,910
the dance parties have been recorded

925
00:40:15,820 --> 00:40:20,410
just so that they could see themselves

926
00:40:17,910 --> 00:40:24,089
but yes so that that has happened once

927
00:40:20,410 --> 00:40:24,089
or twice other questions

928
00:40:31,520 --> 00:40:35,420
so what kind of feedback have I gotten

929
00:40:33,170 --> 00:40:37,790
so it's it's evolved over time right so

930
00:40:35,420 --> 00:40:39,860
the first first time I did it it was

931
00:40:37,790 --> 00:40:41,810
just a series of puzzles and somebody

932
00:40:39,860 --> 00:40:44,090
said you really need to have a theme

933
00:40:41,810 --> 00:40:46,940
something that ties it together and so

934
00:40:44,090 --> 00:40:50,960
that's the that's the hackers Apprentice

935
00:40:46,940 --> 00:40:53,030
theme right and the everybody seems to

936
00:40:50,960 --> 00:40:55,970
enjoy the videos of me making a fool of

937
00:40:53,030 --> 00:40:59,630
myself in my black hoodie as much as you

938
00:40:55,970 --> 00:41:01,430
guys seem to and that came up so tying

939
00:40:59,630 --> 00:41:03,530
it together with a theme was was there

940
00:41:01,430 --> 00:41:05,419
was some of the feedback you also have

941
00:41:03,530 --> 00:41:13,360
people who don't like Billy Joel alright

942
00:41:05,420 --> 00:41:13,360
but you know what they're wrong okay yes

943
00:41:18,970 --> 00:41:22,520
so any conflicts if you already have

944
00:41:21,290 --> 00:41:25,130
other things like smart things and

945
00:41:22,520 --> 00:41:26,990
things like that no because it when you

946
00:41:25,130 --> 00:41:27,980
so I do have smart things running and a

947
00:41:26,990 --> 00:41:30,799
couple of other things and when I make a

948
00:41:27,980 --> 00:41:32,420
change in those other software it picks

949
00:41:30,800 --> 00:41:34,520
it up and recognizes the state of chains

950
00:41:32,420 --> 00:41:36,770
and it updates the state in-home

951
00:41:34,520 --> 00:41:48,140
assistance so to make that there yeah

952
00:41:36,770 --> 00:41:49,580
yeah yes yep yeah so does it conflict

953
00:41:48,140 --> 00:41:51,529
with if you already have an existing

954
00:41:49,580 --> 00:41:53,720
Hugh bridge and you run a hue bridge

955
00:41:51,530 --> 00:41:55,220
emulator does that cause any problems no

956
00:41:53,720 --> 00:41:58,279
you can have multiple Hugh bridges in

957
00:41:55,220 --> 00:42:00,859
your house so my Alexa device scans

958
00:41:58,280 --> 00:42:03,260
finds the lights that are attached a

959
00:42:00,860 --> 00:42:06,950
home assistant on that and it also finds

960
00:42:03,260 --> 00:42:08,930
the hue lights there I do have to go

961
00:42:06,950 --> 00:42:11,750
into which means all of my lights would

962
00:42:08,930 --> 00:42:14,180
appear twice inside of Alexa I have to

963
00:42:11,750 --> 00:42:16,030
go into Alexa and say delete these

964
00:42:14,180 --> 00:42:18,859
you also have in your configuration

965
00:42:16,030 --> 00:42:22,310
where you can do things like here's the

966
00:42:18,860 --> 00:42:24,970
emulation configuration so I can you can

967
00:42:22,310 --> 00:42:29,930
see that in my emulation configuration I

968
00:42:24,970 --> 00:42:32,029
don't have switches as an exposed domain

969
00:42:29,930 --> 00:42:34,190
here which means it's not going to

970
00:42:32,030 --> 00:42:37,940
automatically rescue me lights I don't

971
00:42:34,190 --> 00:42:41,360
have light so the Philips hue emulator

972
00:42:37,940 --> 00:42:44,710
doesn't expose lights that are behind it

973
00:42:41,360 --> 00:42:47,560
as lights to Alexa so I don't have to

974
00:42:44,710 --> 00:42:58,000
go through and delete them anymore there

975
00:42:47,560 --> 00:42:59,650
was another question here you know what

976
00:42:58,000 --> 00:43:02,140
am i using for presence detection I'm

977
00:42:59,650 --> 00:43:03,430
just using the MAC address which can run

978
00:43:02,140 --> 00:43:05,290
into problems because your phone will go

979
00:43:03,430 --> 00:43:07,660
to sleep right and then that MAC address

980
00:43:05,290 --> 00:43:09,339
time will timeout there's better ways to

981
00:43:07,660 --> 00:43:11,379
do it where you can actually if you put

982
00:43:09,339 --> 00:43:13,930
that home assistant web client on there

983
00:43:11,380 --> 00:43:17,770
then then that will keep it up to date

984
00:43:13,930 --> 00:43:20,529
you can also if it will subscribe to

985
00:43:17,770 --> 00:43:22,030
like friends and family through if

986
00:43:20,530 --> 00:43:23,320
everybody's got iPhones the nicking it

987
00:43:22,030 --> 00:43:26,050
can tie into the friends and family

988
00:43:23,320 --> 00:43:27,310
api's and actually know not just whether

989
00:43:26,050 --> 00:43:29,349
or not they're in the house but where

990
00:43:27,310 --> 00:43:31,240
they physically are so you can have it

991
00:43:29,349 --> 00:43:35,170
run scripts when people are approaching

992
00:43:31,240 --> 00:43:38,140
your house and things like that so there

993
00:43:35,170 --> 00:43:40,060
it presents detection is one of its

994
00:43:38,140 --> 00:43:42,279
strongest points it's got a lot of

995
00:43:40,060 --> 00:43:43,509
different ways you can do that I'm just

996
00:43:42,280 --> 00:43:47,230
keeping it simple and going with MAC

997
00:43:43,510 --> 00:43:53,200
addresses okay and I think I have time

998
00:43:47,230 --> 00:44:05,880
for one more question okay one more no

999
00:43:53,200 --> 00:44:10,180
more one more what you got and so

1000
00:44:05,880 --> 00:44:13,960
tp-link is specifically it still it's

1001
00:44:10,180 --> 00:44:16,029
using tp-link right there there there is

1002
00:44:13,960 --> 00:44:18,760
no way to talk to the smart home those

1003
00:44:16,030 --> 00:44:20,200
the the cheap Chinese lightbulbs all

1004
00:44:18,760 --> 00:44:22,089
right but you can get for like three

1005
00:44:20,200 --> 00:44:24,009
bucks that you turn off and on there's

1006
00:44:22,089 --> 00:44:26,109
there's no way to control them locally

1007
00:44:24,010 --> 00:44:28,800
they have to be attached to the Internet

1008
00:44:26,109 --> 00:44:28,799
right

1009
00:44:29,260 --> 00:44:32,700
just not the balls

