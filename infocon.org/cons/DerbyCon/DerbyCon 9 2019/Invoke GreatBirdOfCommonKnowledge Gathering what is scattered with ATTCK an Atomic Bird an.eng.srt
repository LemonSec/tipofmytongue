1
00:00:00,030 --> 00:00:04,350
I'm okay few guys on one we need to

2
00:00:02,040 --> 00:00:07,350
arrive because I understand it's the

3
00:00:04,350 --> 00:00:10,200
next day after the the party I got some

4
00:00:07,350 --> 00:00:12,750
some easy content to start the day so

5
00:00:10,200 --> 00:00:15,500
don't expect something like sub t

6
00:00:12,750 --> 00:00:17,850
yesterday it's just

7
00:00:15,500 --> 00:00:20,310
there's a tool there's everything but

8
00:00:17,850 --> 00:00:21,900
it's not let's make it Sunday morning

9
00:00:20,310 --> 00:00:25,529
talk please because I'm like really

10
00:00:21,900 --> 00:00:27,650
stressed so it worked great world of

11
00:00:25,529 --> 00:00:30,960
common knowledge so it's gonna be about

12
00:00:27,650 --> 00:00:33,210
my tray attack framework the atomic

13
00:00:30,960 --> 00:00:35,579
reading repo and a bit of PowerShell to

14
00:00:33,210 --> 00:00:37,879
glue everything together and hopefully

15
00:00:35,579 --> 00:00:41,160
give you for those who don't know who

16
00:00:37,879 --> 00:00:43,379
first let me ask who knows the my tray

17
00:00:41,160 --> 00:00:45,328
attack framework already I guess we

18
00:00:43,379 --> 00:00:49,430
heard about that's I love it so it's

19
00:00:45,329 --> 00:00:49,430
nice to see it who has never heard of it

20
00:00:50,719 --> 00:00:59,879
Lee homes ok so yeah it's just a bit

21
00:00:57,449 --> 00:01:02,010
it's something I like to use I find it a

22
00:00:59,879 --> 00:01:03,960
handy reference and I would like to more

23
00:01:02,010 --> 00:01:07,229
people to use it that we all reference

24
00:01:03,960 --> 00:01:10,170
the same action the same way and we

25
00:01:07,229 --> 00:01:11,960
understand what would happen so what is

26
00:01:10,170 --> 00:01:14,549
this talk about gonna be about knowledge

27
00:01:11,960 --> 00:01:16,408
community and sharing and like two

28
00:01:14,549 --> 00:01:18,540
little PowerShell tools that I built by

29
00:01:16,409 --> 00:01:20,220
its more pretext to talk about the I

30
00:01:18,540 --> 00:01:21,630
realize because I just made this fried

31
00:01:20,220 --> 00:01:24,030
egg that I'm going to talk about the

32
00:01:21,630 --> 00:01:28,580
they're become spirits also a bit like

33
00:01:24,030 --> 00:01:28,580
very inspiring talk we had firmly homes

34
00:01:28,759 --> 00:01:32,909
there's a little bonus so in the middle

35
00:01:31,560 --> 00:01:34,500
somewhere I'll take a break because I

36
00:01:32,909 --> 00:01:36,119
don't have that much content and we're

37
00:01:34,500 --> 00:01:38,310
going to be doing a little trivia and

38
00:01:36,119 --> 00:01:40,710
you have a chance to win a real prize a

39
00:01:38,310 --> 00:01:45,360
really cool prize I would almost want it

40
00:01:40,710 --> 00:01:48,780
so please know because I made it I

41
00:01:45,360 --> 00:01:51,829
cannot so but please please feel free to

42
00:01:48,780 --> 00:01:54,829
participate Who am I so I'm as

43
00:01:51,829 --> 00:01:54,829
subprocessor

44
00:01:55,270 --> 00:02:01,960
windows a security team but yeah II

45
00:01:58,509 --> 00:02:04,569
R&W in Germany I don't know if you heard

46
00:02:01,960 --> 00:02:05,919
about us or not we're a small shop we do

47
00:02:04,569 --> 00:02:07,630
a lot of different stuff I'm in the

48
00:02:05,920 --> 00:02:11,349
windows team maybe you heard about us

49
00:02:07,630 --> 00:02:17,709
for the troopers conference he said it

50
00:02:11,349 --> 00:02:19,329
yeah three homes okay so so I was born

51
00:02:17,709 --> 00:02:21,069
in France I live in the Netherlands and

52
00:02:19,330 --> 00:02:23,769
I work in Germany so on

53
00:02:21,069 --> 00:02:28,268
I mean what's left of Europe basically I

54
00:02:23,769 --> 00:02:30,849
like PowerShell automation tools cats

55
00:02:28,269 --> 00:02:33,489
trees Lego brakes game shop

56
00:02:30,849 --> 00:02:35,200
it's like Photoshop but open-source face

57
00:02:33,489 --> 00:02:39,970
swaps and like mixing everything

58
00:02:35,200 --> 00:02:42,730
together so and that's like my totem or

59
00:02:39,970 --> 00:02:44,890
something so it's a goldfish and that

60
00:02:42,730 --> 00:02:50,140
makes sense a bit later in in the

61
00:02:44,890 --> 00:02:52,089
presentation so why am I here I told you

62
00:02:50,140 --> 00:02:54,548
it wasn't going to be - technically

63
00:02:52,090 --> 00:02:56,890
heavy so because I submitted to CFP and

64
00:02:54,549 --> 00:02:59,349
my talk got accepted so if you want to

65
00:02:56,890 --> 00:03:02,018
be here or a troopers I invite you to

66
00:02:59,349 --> 00:03:04,000
submit to see fps and come share your

67
00:03:02,019 --> 00:03:06,280
knowledge your pain your joys your

68
00:03:04,000 --> 00:03:12,069
experience with the community that's I

69
00:03:06,280 --> 00:03:14,470
find it enriching troopers why are you

70
00:03:12,069 --> 00:03:16,119
here because you don't know how to party

71
00:03:14,470 --> 00:03:21,250
and you went to bed early last night

72
00:03:16,120 --> 00:03:23,230
because like I see I see a lot of let's

73
00:03:21,250 --> 00:03:25,660
not talk about who's not here I'm French

74
00:03:23,230 --> 00:03:27,578
so I'm supposed to be polite let's let's

75
00:03:25,660 --> 00:03:29,769
just like rejoice that you guys are here

76
00:03:27,579 --> 00:03:32,079
and I will honestly I wasn't expecting

77
00:03:29,769 --> 00:03:33,970
so many people so thanks for making the

78
00:03:32,079 --> 00:03:36,400
effort that early in the morning I think

79
00:03:33,970 --> 00:03:39,040
like Dave Kennedy read my abstract and

80
00:03:36,400 --> 00:03:44,139
he said that's a Sunday mornings Table

81
00:03:39,040 --> 00:03:46,510
Talk we got it he's a pro I wrote the

82
00:03:44,139 --> 00:03:49,000
abstract very late the last day probably

83
00:03:46,510 --> 00:03:51,340
was like for 4:20 in the morning for

84
00:03:49,000 --> 00:03:53,379
those who further small understand and

85
00:03:51,340 --> 00:03:58,180
like I got accepted so on humbled to be

86
00:03:53,379 --> 00:04:00,310
here thanks for thanks anyway who are

87
00:03:58,180 --> 00:04:02,650
these kids they're mine it's film

88
00:04:00,310 --> 00:04:05,919
they're watching on YouTube so love you

89
00:04:02,650 --> 00:04:08,500
guys that's it and yeah that's cuz I

90
00:04:05,919 --> 00:04:12,590
ever committed that was like

91
00:04:08,500 --> 00:04:17,690
joke about the maintaining it is another

92
00:04:12,590 --> 00:04:21,709
story I love you guys who is this guy so

93
00:04:17,690 --> 00:04:25,010
that adds goodies the guy the dumpees

94
00:04:21,709 --> 00:04:29,360
guy in the room so since he's not here

95
00:04:25,010 --> 00:04:30,950
then it's probably me What did he say I

96
00:04:29,360 --> 00:04:33,950
loved his keynote I think it was very

97
00:04:30,950 --> 00:04:35,419
inspiring and one of the things I like

98
00:04:33,950 --> 00:04:38,810
always surround yourself with those

99
00:04:35,419 --> 00:04:42,349
people smarter than you so thanks to you

100
00:04:38,810 --> 00:04:45,050
all for coming tonight oh and with a

101
00:04:42,350 --> 00:04:46,970
special special mention for these guys

102
00:04:45,050 --> 00:04:48,650
because I starting for second or long to

103
00:04:46,970 --> 00:04:50,690
go I've been riding on their back I

104
00:04:48,650 --> 00:04:53,299
think we all know who they are so I

105
00:04:50,690 --> 00:04:55,669
didn't even put the names but I like to

106
00:04:53,300 --> 00:05:00,410
pay respects to the people by doing face

107
00:04:55,669 --> 00:05:03,979
swaps to kind of promote their they got

108
00:05:00,410 --> 00:05:05,330
captain Jesus come on anyway so the

109
00:05:03,979 --> 00:05:07,300
agenda for today we're gonna talk about

110
00:05:05,330 --> 00:05:09,889
trade craft we're going to talk about

111
00:05:07,300 --> 00:05:11,930
attack framework then I'll be showing

112
00:05:09,889 --> 00:05:14,120
invoke attack knowledge which is one of

113
00:05:11,930 --> 00:05:17,240
the tiny tool then the famous trivia you

114
00:05:14,120 --> 00:05:20,300
all came for then the atomic weight team

115
00:05:17,240 --> 00:05:22,250
repo then the atomic canari that's the

116
00:05:20,300 --> 00:05:23,900
tool I wrote and then we'll see where

117
00:05:22,250 --> 00:05:26,360
you guys could eventually go with this

118
00:05:23,900 --> 00:05:28,130
or what you can do with it trade craft

119
00:05:26,360 --> 00:05:29,840
that's the only slide where I text the

120
00:05:28,130 --> 00:05:32,060
rest I'm not gonna bore you but this is

121
00:05:29,840 --> 00:05:34,280
kind of to put it like funny that we use

122
00:05:32,060 --> 00:05:39,560
tradecraft and actually a craft and the

123
00:05:34,280 --> 00:05:42,020
trade is the same thing anyway I'll let

124
00:05:39,560 --> 00:05:44,410
you read it because I'm it's already for

125
00:05:42,020 --> 00:05:47,150
me as well but like it goes back for me

126
00:05:44,410 --> 00:05:49,039
what I like about the job we do that

127
00:05:47,150 --> 00:05:51,169
there is knowledge and there is the

128
00:05:49,039 --> 00:05:52,400
gesture that goes with it so something

129
00:05:51,169 --> 00:05:53,990
with the hands also

130
00:05:52,400 --> 00:05:56,570
and there is transmission of knowledge

131
00:05:53,990 --> 00:05:58,400
from Mentors and it comes from and we

132
00:05:56,570 --> 00:06:02,780
roll the knowledge and we pass it on I

133
00:05:58,400 --> 00:06:05,179
like to pass it off I think we're not

134
00:06:02,780 --> 00:06:08,150
the first one to build virtual networks

135
00:06:05,180 --> 00:06:10,820
and so it started a while ago and I'm I

136
00:06:08,150 --> 00:06:13,310
think we're still in that in that line

137
00:06:10,820 --> 00:06:17,450
of builders and people with a vision to

138
00:06:13,310 --> 00:06:22,180
connect people and to share the love or

139
00:06:17,450 --> 00:06:22,180
whatever your church might be Lynn

140
00:06:22,960 --> 00:06:25,840
that was nice non-reality how does it

141
00:06:25,420 --> 00:06:30,940
really work

142
00:06:25,840 --> 00:06:33,039
that's a bit when I started when I

143
00:06:30,940 --> 00:06:35,020
started it was a bit like whoa what is

144
00:06:33,040 --> 00:06:37,810
this tribe of funky people how do they

145
00:06:35,020 --> 00:06:40,270
know all this how do they do it and yeah

146
00:06:37,810 --> 00:06:42,370
reality is way different and again I

147
00:06:40,270 --> 00:06:43,570
think they're become is a sign of this

148
00:06:42,370 --> 00:06:45,940
there are people in this community

149
00:06:43,570 --> 00:06:48,460
willing to help you willing to turn your

150
00:06:45,940 --> 00:06:51,219
dumb question into a very smart answer

151
00:06:48,460 --> 00:06:53,590
and I felt again a connection with what

152
00:06:51,220 --> 00:06:55,930
he said in the beginning of the diss

153
00:06:53,590 --> 00:06:57,369
Derby con I think like all the people

154
00:06:55,930 --> 00:07:00,220
that I interacted with have been very

155
00:06:57,370 --> 00:07:02,080
open and they kind of sucked me into

156
00:07:00,220 --> 00:07:04,240
something that I never expect that we

157
00:07:02,080 --> 00:07:07,630
being there become so you guys in the

158
00:07:04,240 --> 00:07:10,330
front row everybody thanks a lot take

159
00:07:07,630 --> 00:07:12,520
craft in reality so the main tool of a

160
00:07:10,330 --> 00:07:16,539
modern hacker that's going to have to

161
00:07:12,520 --> 00:07:20,859
google it man so yeah read read the docs

162
00:07:16,540 --> 00:07:24,460
with the RX sees it that's how you learn

163
00:07:20,860 --> 00:07:26,800
right the second best tool in my opinion

164
00:07:24,460 --> 00:07:29,919
is the community itself because for me

165
00:07:26,800 --> 00:07:31,930
like this is a team sport and everybody

166
00:07:29,920 --> 00:07:33,610
counts in the team even the guy I like

167
00:07:31,930 --> 00:07:37,900
basketball out with the basketball coach

168
00:07:33,610 --> 00:07:39,460
so if you finish a game at 99 101 even

169
00:07:37,900 --> 00:07:41,109
the guy who played two minutes and who

170
00:07:39,460 --> 00:07:43,960
just took one shot and put his two

171
00:07:41,110 --> 00:07:45,580
points those could be or are the two

172
00:07:43,960 --> 00:07:47,440
points of the victory just like any

173
00:07:45,580 --> 00:07:49,030
other so for me it's really a team sport

174
00:07:47,440 --> 00:07:53,380
I love it

175
00:07:49,030 --> 00:07:56,200
twitter has a feed I I kind of tweet I

176
00:07:53,380 --> 00:07:58,060
like it but I don't like the hate on it

177
00:07:56,200 --> 00:08:00,310
I like when there's debate I kind of

178
00:07:58,060 --> 00:08:02,350
shut down when it's getting too violent

179
00:08:00,310 --> 00:08:04,960
so I think it's also a responsibility to

180
00:08:02,350 --> 00:08:07,750
be nice to each other like they said in

181
00:08:04,960 --> 00:08:09,159
the keynote bloodhound slack this is so

182
00:08:07,750 --> 00:08:11,350
much more than bloodhound there's like

183
00:08:09,160 --> 00:08:13,660
4,000 people some more people on the

184
00:08:11,350 --> 00:08:15,040
bloodhounds flag listening many people

185
00:08:13,660 --> 00:08:17,170
just listen bass the best place to

186
00:08:15,040 --> 00:08:19,390
listen to what's happening more than in

187
00:08:17,170 --> 00:08:21,340
this conference itself so in a few years

188
00:08:19,390 --> 00:08:22,780
it really became and they talked about

189
00:08:21,340 --> 00:08:24,929
every tool it's not only about

190
00:08:22,780 --> 00:08:27,280
bloodhounds so if you're not on there

191
00:08:24,930 --> 00:08:29,050
there's an invite somewhere I didn't put

192
00:08:27,280 --> 00:08:31,510
the link like I said Google is your best

193
00:08:29,050 --> 00:08:33,889
tool so Google it that's all I have to

194
00:08:31,510 --> 00:08:35,509
say conferences choose yours and

195
00:08:33,889 --> 00:08:37,698
say one more time it's not a commercial

196
00:08:35,509 --> 00:08:39,139
pitch but if you have anything to bring

197
00:08:37,698 --> 00:08:43,998
to the community to present will be

198
00:08:39,139 --> 00:08:47,389
happy to study your CFP follow iron geek

199
00:08:43,999 --> 00:08:49,489
and illustrator so ministry there is our

200
00:08:47,389 --> 00:08:52,279
European iron beak and I think these

201
00:08:49,489 --> 00:08:54,169
guys deserve a round of applause for

202
00:08:52,279 --> 00:09:00,559
what they do since years reporting all

203
00:08:54,169 --> 00:09:02,119
those big wave thanks to the guys I do a

204
00:09:00,559 --> 00:09:04,669
bit of video stuff and I know it's not

205
00:09:02,119 --> 00:09:06,499
easy so really good job every time it's

206
00:09:04,669 --> 00:09:09,799
already posted by the time you finish

207
00:09:06,499 --> 00:09:12,410
lunch it's like amazing anyway thanks

208
00:09:09,799 --> 00:09:14,389
and the guys abroad I am a fanatical in

209
00:09:12,410 --> 00:09:16,969
a conference and I enjoy watching online

210
00:09:14,389 --> 00:09:18,439
so thanks a lot well it's knowledge well

211
00:09:16,970 --> 00:09:21,139
there's different ways to get there for

212
00:09:18,439 --> 00:09:22,790
me it's more the iterative process but

213
00:09:21,139 --> 00:09:24,350
you have to do I believe the full loop

214
00:09:22,790 --> 00:09:26,118
to get the full understanding of what

215
00:09:24,350 --> 00:09:28,579
you're doing so you start by researching

216
00:09:26,119 --> 00:09:30,589
yourself on your own and you sit down in

217
00:09:28,579 --> 00:09:33,498
a corner you listen for a while until

218
00:09:30,589 --> 00:09:36,129
you got the vocabulary and you can start

219
00:09:33,499 --> 00:09:38,319
to ask the right question without

220
00:09:36,129 --> 00:09:41,299
necessarily being smart but at least

221
00:09:38,319 --> 00:09:43,878
understand what will come back then you

222
00:09:41,299 --> 00:09:45,529
practice you at some point you practice

223
00:09:43,879 --> 00:09:47,989
enough I would encourage everybody to

224
00:09:45,529 --> 00:09:49,730
contribute I'm really stressed again

225
00:09:47,989 --> 00:09:52,819
when I talk about every time I get out

226
00:09:49,730 --> 00:09:56,389
of my comfort zone I feel I know more

227
00:09:52,819 --> 00:09:58,399
about myself I so I would encourage

228
00:09:56,389 --> 00:10:01,249
everybody to do it the feedback you get

229
00:09:58,399 --> 00:10:03,649
from it is of the highest value and then

230
00:10:01,249 --> 00:10:06,169
for me I was a teacher before being an

231
00:10:03,649 --> 00:10:09,829
IT I did a lot of stuff but teaching is

232
00:10:06,169 --> 00:10:11,679
also a fantastic way to learn so once

233
00:10:09,829 --> 00:10:14,508
you do the full loop you get a good a

234
00:10:11,679 --> 00:10:16,639
good view on it and for me you don't

235
00:10:14,509 --> 00:10:19,429
need to be an expert to teach I learned

236
00:10:16,639 --> 00:10:21,769
daily from my kids and they're well

237
00:10:19,429 --> 00:10:27,649
they're experts at being kids but apart

238
00:10:21,769 --> 00:10:30,529
from that but yeah ok but wait a minute

239
00:10:27,649 --> 00:10:32,149
you said you were a goldfish how do you

240
00:10:30,529 --> 00:10:33,919
remember all this knowledge and that's

241
00:10:32,149 --> 00:10:37,789
where I'm going to try them to attack to

242
00:10:33,919 --> 00:10:40,730
be honest I can't and I don't so and I

243
00:10:37,789 --> 00:10:42,410
honestly I'm doubtful about people who

244
00:10:40,730 --> 00:10:44,929
say they know everything because we

245
00:10:42,410 --> 00:10:45,990
probably don't so for me this attitude

246
00:10:44,929 --> 00:10:48,150
that a lot of

247
00:10:45,990 --> 00:10:51,420
like rock stars have of being very

248
00:10:48,150 --> 00:10:53,310
humble it's a sign of intelligence or at

249
00:10:51,420 --> 00:10:56,430
least of understanding of the complexity

250
00:10:53,310 --> 00:11:00,209
of the problem we deal with and that

251
00:10:56,430 --> 00:11:02,489
again it's a team sport so that's done

252
00:11:00,210 --> 00:11:04,680
for the violin now let's go into what

253
00:11:02,490 --> 00:11:06,750
the real tools so what is that tack it's

254
00:11:04,680 --> 00:11:08,819
for me an open source unknown corporate

255
00:11:06,750 --> 00:11:10,650
post exploitation technique for the

256
00:11:08,820 --> 00:11:12,450
masses it's available for everybody and

257
00:11:10,650 --> 00:11:15,689
if you dig into it it's a treasure trove

258
00:11:12,450 --> 00:11:18,540
of information so again I really want to

259
00:11:15,690 --> 00:11:20,730
promote it what do you have in there at

260
00:11:18,540 --> 00:11:23,069
the moment so attack is the adversarial

261
00:11:20,730 --> 00:11:26,670
technique tactic and common knowledge we

262
00:11:23,070 --> 00:11:32,280
will find 12 tactic Overhaulin for now

263
00:11:26,670 --> 00:11:35,939
240 244 technique 330 353 sorry I'm a

264
00:11:32,280 --> 00:11:38,100
bit dyslexic on funding pieces of

265
00:11:35,940 --> 00:11:40,860
software may be too long malware it's

266
00:11:38,100 --> 00:11:44,370
all described and 93 threat actors that

267
00:11:40,860 --> 00:11:46,110
are using and then everything is related

268
00:11:44,370 --> 00:11:47,460
so we're gonna see later I put it in

269
00:11:46,110 --> 00:11:50,850
bloodhound because I love bloodhound

270
00:11:47,460 --> 00:11:52,830
just so you can like map the knowledge

271
00:11:50,850 --> 00:11:54,600
that is in there and it's quite witch

272
00:11:52,830 --> 00:11:57,810
money it's pointless but I find it funny

273
00:11:54,600 --> 00:12:00,990
I like to do pointless stuff or so and

274
00:11:57,810 --> 00:12:02,369
there we go so invoke attack knowledge

275
00:12:00,990 --> 00:12:05,940
is the first tool it's a set of

276
00:12:02,370 --> 00:12:07,950
commanded to interact with the media API

277
00:12:05,940 --> 00:12:10,230
from the command line so receive them as

278
00:12:07,950 --> 00:12:11,760
a PowerShell object and then if you know

279
00:12:10,230 --> 00:12:14,520
a bit of PowerShell once you got your

280
00:12:11,760 --> 00:12:16,200
object put a pipeline and the world is

281
00:12:14,520 --> 00:12:18,600
yours you can do what you want from that

282
00:12:16,200 --> 00:12:20,490
moment be creative so I hope you guys

283
00:12:18,600 --> 00:12:22,380
will use this to create great tools I

284
00:12:20,490 --> 00:12:24,390
know laugh is here and already working

285
00:12:22,380 --> 00:12:27,180
and doing great stuff in defense with

286
00:12:24,390 --> 00:12:28,530
with the attack and other stuff so he's

287
00:12:27,180 --> 00:12:30,839
gonna be talking about this later

288
00:12:28,530 --> 00:12:32,550
this is gonna be a good talk I'm just

289
00:12:30,840 --> 00:12:37,590
warming up for him basically I'm his

290
00:12:32,550 --> 00:12:39,420
warmup that's what happens I wanted to

291
00:12:37,590 --> 00:12:42,540
be safe so I'm not gonna load it from

292
00:12:39,420 --> 00:12:47,579
the from it's just like okay I'll give

293
00:12:42,540 --> 00:12:49,050
you the story yes so basically I did

294
00:12:47,580 --> 00:12:52,230
that a while ago and it was the same

295
00:12:49,050 --> 00:12:53,699
simple call to West restful api so that

296
00:12:52,230 --> 00:12:55,590
was easy to do with PowerShell

297
00:12:53,700 --> 00:12:57,210
then they changed the framework and it

298
00:12:55,590 --> 00:12:58,290
was going with sticks and I started

299
00:12:57,210 --> 00:13:02,070
reading the document

300
00:12:58,290 --> 00:13:04,529
and you needed a Styx server and I don't

301
00:13:02,070 --> 00:13:06,089
know what and I would like I'm not smart

302
00:13:04,529 --> 00:13:08,070
enough for this I'm gonna have to drop

303
00:13:06,089 --> 00:13:11,310
it and then I went to github and I saw

304
00:13:08,070 --> 00:13:11,820
there was the whole framework in JSON

305
00:13:11,310 --> 00:13:13,949
object

306
00:13:11,820 --> 00:13:17,240
so then PowerShell is your friend I

307
00:13:13,949 --> 00:13:19,709
didn't work rest method to that URL and

308
00:13:17,240 --> 00:13:21,630
boom you get your objects you have

309
00:13:19,709 --> 00:13:23,719
nothing else to do so it's one line of

310
00:13:21,630 --> 00:13:26,639
code to get all the objects and then I

311
00:13:23,720 --> 00:13:28,290
sorted it to make easier objects get top

312
00:13:26,639 --> 00:13:31,170
completion and all this like the

313
00:13:28,290 --> 00:13:32,880
PowerShell gustave all the good stuff

314
00:13:31,170 --> 00:13:35,370
that I hope you're using already when

315
00:13:32,880 --> 00:13:41,970
you built your commandlets first demo

316
00:13:35,370 --> 00:13:44,040
whoops spoiler excitatory like teaser

317
00:13:41,970 --> 00:13:47,720
it's not a spoiler with the teaser you

318
00:13:44,040 --> 00:13:52,230
didn't see anything right anyway sorry

319
00:13:47,720 --> 00:13:55,500
I'm getting excited here let's have a

320
00:13:52,230 --> 00:13:57,660
look at this so I'm not going to type

321
00:13:55,500 --> 00:13:59,639
anything to that two left hands I keep

322
00:13:57,660 --> 00:14:01,920
saying it but it's true the first one

323
00:13:59,639 --> 00:14:04,500
you can do just like so we go to the

324
00:14:01,920 --> 00:14:06,300
real website of my tree attack there's a

325
00:14:04,500 --> 00:14:08,310
command lateen poke at acknowledge and

326
00:14:06,300 --> 00:14:10,500
if you add the - on line it will take

327
00:14:08,310 --> 00:14:13,979
you to the website so that's what it

328
00:14:10,500 --> 00:14:16,139
looks like okay so the tool does though

329
00:14:13,980 --> 00:14:19,170
wait my trade does for its exploitation

330
00:14:16,139 --> 00:14:22,290
but there's also free that would be your

331
00:14:19,170 --> 00:14:24,420
OSINT and there so mobile command let's

332
00:14:22,290 --> 00:14:26,189
I wrote do take care of Korean mobile as

333
00:14:24,420 --> 00:14:27,990
well but I'm not gonna demo it it's the

334
00:14:26,190 --> 00:14:29,579
same logic I'm just gonna go for the

335
00:14:27,990 --> 00:14:31,260
post exploitation because that's where I

336
00:14:29,579 --> 00:14:33,719
do most of my stuff but if you work with

337
00:14:31,260 --> 00:14:37,079
mobile or if you do all since everything

338
00:14:33,720 --> 00:14:39,300
is also in there that's the main page

339
00:14:37,079 --> 00:14:42,089
and you will see here so on top of here

340
00:14:39,300 --> 00:14:45,029
you have your 12 tactics which are

341
00:14:42,089 --> 00:14:49,769
equivalent of category and in the

342
00:14:45,029 --> 00:14:51,149
framework Wow 10 minutes and under there

343
00:14:49,769 --> 00:14:53,339
you have all the all the techniques

344
00:14:51,149 --> 00:14:56,459
sorted by tactic and this is how our

345
00:14:53,339 --> 00:14:58,620
last kind of does okay you study the

346
00:14:56,459 --> 00:15:01,439
coverage you have up the whole framework

347
00:14:58,620 --> 00:15:04,279
or you try to map it to certain threat

348
00:15:01,439 --> 00:15:06,810
actor activity and stuff like this so

349
00:15:04,279 --> 00:15:07,710
this is a command you would run to get

350
00:15:06,810 --> 00:15:09,780
all the

351
00:15:07,710 --> 00:15:11,430
that time two objects and you would get

352
00:15:09,780 --> 00:15:13,470
the verbose stuff in blue you saw

353
00:15:11,430 --> 00:15:15,390
earlier then you can of course call all

354
00:15:13,470 --> 00:15:17,100
the techniques and they appear here

355
00:15:15,390 --> 00:15:18,900
since you're all familiar with the

356
00:15:17,100 --> 00:15:20,430
framework I can really speed up but you

357
00:15:18,900 --> 00:15:22,470
see that they're all here as the object

358
00:15:20,430 --> 00:15:24,089
with the name ID and description there's

359
00:15:22,470 --> 00:15:28,020
more properties but everything doesn't

360
00:15:24,090 --> 00:15:30,300
show I like to not use regular verbs

361
00:15:28,020 --> 00:15:33,360
just to annoy Jeffrey Stover so that

362
00:15:30,300 --> 00:15:35,910
gets attacked active became attack as a

363
00:15:33,360 --> 00:15:38,040
verb but that's an alias I'm on the safe

364
00:15:35,910 --> 00:15:42,360
side I'm not a bad boy anymore and it

365
00:15:38,040 --> 00:15:44,699
does the exact same thing oops okay then

366
00:15:42,360 --> 00:15:46,290
you can same thing with a switch online

367
00:15:44,700 --> 00:15:48,330
it would take you online to do it you

368
00:15:46,290 --> 00:15:51,780
can do it by name and this is why I went

369
00:15:48,330 --> 00:15:53,880
to beat extra that the tactic will type

370
00:15:51,780 --> 00:15:56,400
complete it's the beauty of PowerShell

371
00:15:53,880 --> 00:16:04,140
and if I run it I get one tactic of

372
00:15:56,400 --> 00:16:07,140
course let's add select I told you I was

373
00:16:04,140 --> 00:16:12,960
dyslexic I'll leave that cuz PowerShell

374
00:16:07,140 --> 00:16:14,670
doesn't care oops I'm gonna start typing

375
00:16:12,960 --> 00:16:16,740
after but you see the object is a bit

376
00:16:14,670 --> 00:16:18,540
more complex than what the first display

377
00:16:16,740 --> 00:16:20,760
does that's a PowerShell trick to not

378
00:16:18,540 --> 00:16:22,290
get the whole the whole thing in that

379
00:16:20,760 --> 00:16:24,180
you don't really want that first and

380
00:16:22,290 --> 00:16:26,849
then you can tap into the properties the

381
00:16:24,180 --> 00:16:28,530
way you want so I just did something I

382
00:16:26,850 --> 00:16:30,390
shouldn't have done you can request them

383
00:16:28,530 --> 00:16:33,209
online and you can also ask the tactic

384
00:16:30,390 --> 00:16:35,430
by ID that's the equivalent and we can

385
00:16:33,210 --> 00:16:36,900
use this over the pipeline by ID for

386
00:16:35,430 --> 00:16:38,699
example or somewhere interestingly we

387
00:16:36,900 --> 00:16:40,439
find the techniques you see again alias

388
00:16:38,700 --> 00:16:42,210
because we mostly look at the techniques

389
00:16:40,440 --> 00:16:45,150
I took out everything when you say

390
00:16:42,210 --> 00:16:48,120
attack you get like all the 244

391
00:16:45,150 --> 00:16:49,620
techniques as objects you could count it

392
00:16:48,120 --> 00:16:51,900
but I'm gonna skip it you can do online

393
00:16:49,620 --> 00:16:53,430
it will take you on I'll show you some

394
00:16:51,900 --> 00:16:58,319
more interesting stuff cuz I'm like

395
00:16:53,430 --> 00:17:00,449
really late so by name by name online

396
00:16:58,320 --> 00:17:02,220
and then you can start to for example if

397
00:17:00,450 --> 00:17:04,410
you were doing a report and you want to

398
00:17:02,220 --> 00:17:06,089
like a video wasp but here for post

399
00:17:04,410 --> 00:17:08,940
exploitation have standard explanation

400
00:17:06,089 --> 00:17:11,569
that we call all use you could simply

401
00:17:08,940 --> 00:17:14,100
PowerShell y-pipe it to your groups I

402
00:17:11,569 --> 00:17:18,030
did that one again type it to your

403
00:17:14,099 --> 00:17:21,629
clipboard and paste it paste it in your

404
00:17:18,030 --> 00:17:25,770
report if you need to

405
00:17:21,630 --> 00:17:29,190
I don't have a report who cares okay I'm

406
00:17:25,770 --> 00:17:32,039
not good at reporting interestingly you

407
00:17:29,190 --> 00:17:34,770
can find the reference of course every

408
00:17:32,039 --> 00:17:38,220
tactic that's what my traders they

409
00:17:34,770 --> 00:17:41,280
gather the known reports from all the

410
00:17:38,220 --> 00:17:44,309
different companies we do investigation

411
00:17:41,280 --> 00:17:46,139
or of breaches and threat actors and

412
00:17:44,309 --> 00:17:47,850
they centralize everything so for me

413
00:17:46,140 --> 00:17:49,559
it's a handy way not to up to Google I

414
00:17:47,850 --> 00:17:51,209
just go to my tray and I get the

415
00:17:49,559 --> 00:17:52,590
reference of everything and that's a

416
00:17:51,210 --> 00:17:54,480
cool little trick if you want to read

417
00:17:52,590 --> 00:17:56,760
about code signing all the reference in

418
00:17:54,480 --> 00:17:59,130
one go you can do like at a code signing

419
00:17:56,760 --> 00:18:01,770
reference online and you will have all

420
00:17:59,130 --> 00:18:03,570
the pages opening at least like just

421
00:18:01,770 --> 00:18:06,240
holding your cup of coffee and you can

422
00:18:03,570 --> 00:18:10,620
already start to enjoy this knowledge

423
00:18:06,240 --> 00:18:12,539
that your fingertips like this so I'm

424
00:18:10,620 --> 00:18:14,309
really gonna have to speed up um sorry

425
00:18:12,539 --> 00:18:16,710
about this ma'am sorry

426
00:18:14,309 --> 00:18:18,600
you can filter Access ID funny stuff you

427
00:18:16,710 --> 00:18:21,809
can do us by group the exact same way so

428
00:18:18,600 --> 00:18:24,090
if I ask for for example a PG 29 just an

429
00:18:21,809 --> 00:18:26,370
example but you would get them you see

430
00:18:24,090 --> 00:18:30,870
all the alias for example that's funny I

431
00:18:26,370 --> 00:18:34,020
just love this it's like cyber poetry I

432
00:18:30,870 --> 00:18:35,580
just love it the us it's like you could

433
00:18:34,020 --> 00:18:36,960
expand the whole alias and have the

434
00:18:35,580 --> 00:18:39,870
whole list and have fun with it

435
00:18:36,960 --> 00:18:45,870
I like the pandas and the Bears they're

436
00:18:39,870 --> 00:18:47,370
funny I'll put the coal online and if

437
00:18:45,870 --> 00:18:48,840
you want to play with it you can test

438
00:18:47,370 --> 00:18:51,299
all those commandlets it's powershell

439
00:18:48,840 --> 00:18:52,918
commandlets so I wrote help pages so you

440
00:18:51,299 --> 00:18:55,500
can get help on a command led to get

441
00:18:52,919 --> 00:18:57,210
some explanation on it you can do the

442
00:18:55,500 --> 00:18:59,070
same thing with filter and with the

443
00:18:57,210 --> 00:19:02,460
software and I'll just show you you can

444
00:18:59,070 --> 00:19:04,470
like get all the software and it's all

445
00:19:02,460 --> 00:19:06,390
here and you can filter which one or

446
00:19:04,470 --> 00:19:08,460
tool or you could say malware here and I

447
00:19:06,390 --> 00:19:10,020
think I might have been crazy enough to

448
00:19:08,460 --> 00:19:12,299
type complete this yes

449
00:19:10,020 --> 00:19:14,250
I wasn't sure so that would work you can

450
00:19:12,299 --> 00:19:16,350
ask for a specific one and you can for

451
00:19:14,250 --> 00:19:18,210
example see all the references of empire

452
00:19:16,350 --> 00:19:19,649
online if that's anything so all the

453
00:19:18,210 --> 00:19:21,570
command let's work the same way with a

454
00:19:19,650 --> 00:19:25,250
different type of object I'm speaking up

455
00:19:21,570 --> 00:19:28,129
now more advanced search so for example

456
00:19:25,250 --> 00:19:30,470
and then I pipe it to where description

457
00:19:28,130 --> 00:19:33,200
much so T select the name the ID and the

458
00:19:30,470 --> 00:19:35,600
description so where did sub T

459
00:19:33,200 --> 00:19:37,070
contribute in what techniques I hope you

460
00:19:35,600 --> 00:19:39,439
know these techniques and you're

461
00:19:37,070 --> 00:19:42,740
defending against it because that's like

462
00:19:39,440 --> 00:19:46,610
hot stuff there's a filter you can

463
00:19:42,740 --> 00:19:48,860
filter tactic and then again after we're

464
00:19:46,610 --> 00:19:53,360
did so here I'm looking for execution

465
00:19:48,860 --> 00:19:56,479
that would be evade evade defenses and

466
00:19:53,360 --> 00:19:58,850
I'm asking for only the name for example

467
00:19:56,480 --> 00:20:00,920
you could filter like and say bypass log

468
00:19:58,850 --> 00:20:02,689
analysis and I'm gonna do all this this

469
00:20:00,920 --> 00:20:04,790
is good if you want to search like you

470
00:20:02,690 --> 00:20:07,580
get reg X over the whole description so

471
00:20:04,790 --> 00:20:09,500
malware that uses C++ for example stuff

472
00:20:07,580 --> 00:20:11,060
like this so it's just like a handy way

473
00:20:09,500 --> 00:20:13,790
of searching that you can't really use

474
00:20:11,060 --> 00:20:16,610
in in the UI basically just for fun

475
00:20:13,790 --> 00:20:20,060
let's have which group have a Russian

476
00:20:16,610 --> 00:20:21,919
description there's a few a few with

477
00:20:20,060 --> 00:20:24,200
panda also there's a bit less with the

478
00:20:21,920 --> 00:20:26,720
United States I'm just I'm from Europe

479
00:20:24,200 --> 00:20:32,030
so I can say it you choose your friends

480
00:20:26,720 --> 00:20:33,340
I'm cool with you guys let's just put it

481
00:20:32,030 --> 00:20:35,720
that way

482
00:20:33,340 --> 00:20:37,820
so it's half time let's do a little

483
00:20:35,720 --> 00:20:39,410
trivia you guys don't have to answer

484
00:20:37,820 --> 00:20:41,230
right now because the answer is complex

485
00:20:39,410 --> 00:20:43,790
I have to go back to my slides before

486
00:20:41,230 --> 00:20:46,220
but if you get the answer come and see

487
00:20:43,790 --> 00:20:49,370
me or if it's during the top just raise

488
00:20:46,220 --> 00:20:51,200
shout Lee homes and give me the answer

489
00:20:49,370 --> 00:20:54,830
that's like a bingo but here we're gonna

490
00:20:51,200 --> 00:20:56,360
do Lee homes I don't know why and give

491
00:20:54,830 --> 00:20:59,000
me the answer if it's the correct one I

492
00:20:56,360 --> 00:21:07,209
have a price here for you at the end go

493
00:20:59,000 --> 00:21:07,210
back to the slide for the questions yeah

494
00:21:08,080 --> 00:21:16,790
how much time three minutes okay so

495
00:21:13,960 --> 00:21:20,900
let's let's do let's do let's do the

496
00:21:16,790 --> 00:21:22,460
trivia and I should have time right

497
00:21:20,900 --> 00:21:25,130
there Mobile I didn't have time I just

498
00:21:22,460 --> 00:21:26,780
finished it and everything first one

499
00:21:25,130 --> 00:21:28,820
with the correct answer win something so

500
00:21:26,780 --> 00:21:33,010
the question is which of the attack

501
00:21:28,820 --> 00:21:34,950
technique this quite handsome gentleman

502
00:21:33,010 --> 00:21:38,609
contributed to

503
00:21:34,950 --> 00:21:41,639
has the highest attack ID number so we

504
00:21:38,609 --> 00:21:43,139
can use search into the my tray and see

505
00:21:41,639 --> 00:21:45,779
what attack he contributed with the

506
00:21:43,139 --> 00:21:47,219
highest the highest stuff I'm just going

507
00:21:45,779 --> 00:21:50,129
to show you quickly but we're not going

508
00:21:47,220 --> 00:21:52,109
to do it while we're gonna do it but

509
00:21:50,129 --> 00:21:53,969
we're gonna do it quickly and I close

510
00:21:52,109 --> 00:22:02,220
this I shouldn't have let me do this

511
00:21:53,970 --> 00:22:04,590
that way yes probably I have it here I

512
00:22:02,220 --> 00:22:13,159
just for fun I pushed everything into

513
00:22:04,590 --> 00:22:17,158
bloodhound should start don't give me

514
00:22:13,159 --> 00:22:20,309
you can automate the whole because it's

515
00:22:17,159 --> 00:22:22,499
quicker so let's go back in there see

516
00:22:20,309 --> 00:22:24,149
what I had to show you I'm just gonna

517
00:22:22,499 --> 00:22:26,070
skip over the first one but try them

518
00:22:24,149 --> 00:22:30,600
they're cool let's see technique used by

519
00:22:26,070 --> 00:22:32,549
group apt 28 pasting cipher cuz that's

520
00:22:30,600 --> 00:22:35,158
the language of the I hope you went to

521
00:22:32,549 --> 00:22:36,330
Waldo stock Waldo and Captain Jesus

522
00:22:35,159 --> 00:22:38,279
start yesterday you heard a bit about

523
00:22:36,330 --> 00:22:40,049
cypher let me delete this pasted in

524
00:22:38,279 --> 00:22:43,230
there so I'm asking for all the

525
00:22:40,049 --> 00:22:44,730
techniques used by group apt 28 I'm

526
00:22:43,230 --> 00:22:46,350
gonna give you just the first one and

527
00:22:44,730 --> 00:22:48,239
the last one because otherwise I'm not

528
00:22:46,350 --> 00:22:50,820
gonna have to talk about sub T and his

529
00:22:48,239 --> 00:22:52,559
great atomic writing repo so let's do

530
00:22:50,820 --> 00:22:54,210
the groups using software using

531
00:22:52,559 --> 00:22:58,879
PowerShell and the technique that

532
00:22:54,210 --> 00:22:58,879
relates to two minutes no problem sir

533
00:22:59,000 --> 00:23:04,019
[Applause]

534
00:23:01,190 --> 00:23:06,720
how would you deal with such a situation

535
00:23:04,019 --> 00:23:08,789
you can do everything how what am I

536
00:23:06,720 --> 00:23:17,129
going to do let me delete this paste

537
00:23:08,789 --> 00:23:18,690
this and do this so here your execution

538
00:23:17,129 --> 00:23:20,519
so you can do this with all of them if

539
00:23:18,690 --> 00:23:22,169
you're a bit creative good just go in

540
00:23:20,519 --> 00:23:23,549
the cipher and change PowerShell for

541
00:23:22,169 --> 00:23:26,309
another one and you can map everything

542
00:23:23,549 --> 00:23:28,889
it's quite cool to see and you can like

543
00:23:26,309 --> 00:23:31,049
do what apt use watch tool and stuff

544
00:23:28,889 --> 00:23:33,508
like this so it's it's like visually

545
00:23:31,049 --> 00:23:35,519
it's talking to you I had a good one I

546
00:23:33,509 --> 00:23:38,970
want to do groups using mini cats just

547
00:23:35,519 --> 00:23:40,769
to annoy or annoy just to tease a bit I

548
00:23:38,970 --> 00:23:42,989
know there's a guy on Twitter posting

549
00:23:40,769 --> 00:23:45,720
all the publicly available to use by

550
00:23:42,989 --> 00:23:47,820
threat actors that's our job my opinion

551
00:23:45,720 --> 00:23:49,289
so we we burn stuff and

552
00:23:47,820 --> 00:23:50,908
but I don't know the debate is

553
00:23:49,289 --> 00:23:53,609
interesting I'm not saying at the answer

554
00:23:50,909 --> 00:23:56,279
but I just find it funny to show much of

555
00:23:53,609 --> 00:24:02,399
the group computer using amigo

556
00:23:56,279 --> 00:24:06,929
okay there's probably a typo it's good

557
00:24:02,399 --> 00:24:09,418
offense thanks Scooby yes so what was

558
00:24:06,929 --> 00:24:10,979
that all the apt groups using mini cats

559
00:24:09,419 --> 00:24:12,779
and you see it's quite a popular tool

560
00:24:10,979 --> 00:24:14,309
they know what they're doing it's a

561
00:24:12,779 --> 00:24:17,249
great tool I had the training with dark

562
00:24:14,309 --> 00:24:19,769
operator and I'm like still digesting it

563
00:24:17,249 --> 00:24:21,330
so anyway very quickly cause it's like

564
00:24:19,769 --> 00:24:23,299
they're gonna kill me or we skip

565
00:24:21,330 --> 00:24:30,178
questions I get five more minutes

566
00:24:23,299 --> 00:24:31,769
now we don't skip question is this black

567
00:24:30,179 --> 00:24:38,210
hat no I'll do questions in the whole if

568
00:24:31,769 --> 00:24:40,859
I get five minutes more talk here okay

569
00:24:38,210 --> 00:24:42,919
so I'm just showing that now over the

570
00:24:40,859 --> 00:24:45,478
pipeline I can take whatever whatever

571
00:24:42,919 --> 00:24:47,700
technique and over the pipeline pipe it

572
00:24:45,479 --> 00:24:50,549
to the atomic and I recommend it and it

573
00:24:47,700 --> 00:24:53,009
will go take that technique and go look

574
00:24:50,549 --> 00:24:54,629
on the atomic red team repo for the code

575
00:24:53,009 --> 00:24:56,999
you can use to test this technique in

576
00:24:54,629 --> 00:24:59,009
your environment and yeah you can you

577
00:24:56,999 --> 00:25:00,840
can like filter it where two equals you

578
00:24:59,009 --> 00:25:02,940
can do all your PowerShell easy I'm not

579
00:25:00,840 --> 00:25:04,559
but that's even like my kid they

580
00:25:02,940 --> 00:25:06,419
understand PowerShell if they read this

581
00:25:04,559 --> 00:25:08,070
attack filter lateral movement can

582
00:25:06,419 --> 00:25:12,649
already where tool equals PowerShell

583
00:25:08,070 --> 00:25:17,299
oops oops the right code breakpoint

584
00:25:12,649 --> 00:25:17,299
that's the type only F that's quite bad

585
00:25:17,899 --> 00:25:22,830
right so here it is getting everything

586
00:25:20,849 --> 00:25:25,408
and you see the technique of lateral

587
00:25:22,830 --> 00:25:27,059
movement that use PowerShell and you can

588
00:25:25,409 --> 00:25:29,729
get code and use this code in your

589
00:25:27,059 --> 00:25:31,918
clipboard and they're cutting me so I'm

590
00:25:29,729 --> 00:25:35,450
going back to my slides as like stop

591
00:25:31,919 --> 00:25:35,450
means one more minute where I come from

592
00:25:38,940 --> 00:25:46,620
like that's the French politeness like

593
00:25:41,580 --> 00:25:48,080
the luchador concept anyway so I'm in

594
00:25:46,620 --> 00:25:50,489
the wrong PowerPoint sorry

595
00:25:48,080 --> 00:25:57,720
that was another yeah whose slide is

596
00:25:50,490 --> 00:26:00,120
this anyway web so still this is still

597
00:25:57,720 --> 00:26:02,130
running more demo I just did it take

598
00:26:00,120 --> 00:26:03,540
away the attack is also not a bad thing

599
00:26:02,130 --> 00:26:06,240
is awesome the next talk would be

600
00:26:03,540 --> 00:26:08,610
awesome also the community is awesome so

601
00:26:06,240 --> 00:26:11,270
just get involved reminder one kappa

602
00:26:08,610 --> 00:26:14,219
jesus will sign autographs in the hall

603
00:26:11,270 --> 00:26:16,650
reminder to Percy FP is open if you have

604
00:26:14,220 --> 00:26:31,130
any questions I'm outside and thank you

605
00:26:16,650 --> 00:26:31,130
and party are tight

