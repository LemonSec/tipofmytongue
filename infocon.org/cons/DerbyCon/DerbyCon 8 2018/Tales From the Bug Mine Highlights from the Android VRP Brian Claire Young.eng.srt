1
00:00:00,000 --> 00:00:05,339
<font color="#CCCCCC">right I'm coming over from Google from</font>

2
00:00:02,550 --> 00:00:09,000
<font color="#E5E5E5">the Android Android security assurance</font>

3
00:00:05,339 --> 00:00:10,110
group<font color="#CCCCCC"> today no and we haven't</font><font color="#E5E5E5"> changed</font>

4
00:00:09,000 --> 00:00:12,540
<font color="#CCCCCC">the name so recently</font><font color="#E5E5E5"> haven't even</font>

5
00:00:10,110 --> 00:00:15,690
<font color="#CCCCCC">updated the slides and</font><font color="#E5E5E5"> y'all working on</font>

6
00:00:12,540 --> 00:00:18,390
<font color="#E5E5E5">Android and</font><font color="#CCCCCC"> run</font><font color="#E5E5E5"> on Android</font><font color="#CCCCCC"> okay no we</font>

7
00:00:15,690 --> 00:00:20,250
got a VR P we take taking bugs<font color="#CCCCCC"> pay pay</font>

8
00:00:18,390 --> 00:00:22,320
people<font color="#CCCCCC"> for them and biggest</font><font color="#E5E5E5"> part of my</font>

9
00:00:20,250 --> 00:00:25,439
job is checking<font color="#E5E5E5"> on those bugs and seeing</font>

10
00:00:22,320 --> 00:00:28,590
how bad they are<font color="#CCCCCC"> so I wanted</font><font color="#E5E5E5"> to share</font>

11
00:00:25,439 --> 00:00:30,929
<font color="#E5E5E5">how many times I've just done this</font><font color="#CCCCCC"> over</font>

12
00:00:28,590 --> 00:00:33,090
<font color="#E5E5E5">the last year or</font><font color="#CCCCCC"> so</font><font color="#E5E5E5"> I hope you get a</font>

13
00:00:30,929 --> 00:00:35,070
kick out of some of them<font color="#E5E5E5"> I don't do this</font>

14
00:00:33,090 --> 00:00:37,320
<font color="#CCCCCC">alone we got about</font><font color="#E5E5E5"> 20 people scattered</font>

15
00:00:35,070 --> 00:00:41,219
between Kirkland Seattle Mountain View

16
00:00:37,320 --> 00:00:45,480
<font color="#E5E5E5">couple in Austin and hey come on in come</font>

17
00:00:41,219 --> 00:00:46,980
<font color="#E5E5E5">on in no don't come in</font><font color="#CCCCCC"> all right just</font>

18
00:00:45,480 --> 00:00:51,239
check<font color="#E5E5E5"> and make sure there's anybody here</font>

19
00:00:46,980 --> 00:00:53,398
I guess<font color="#E5E5E5"> a question</font><font color="#CCCCCC"> oh</font><font color="#E5E5E5"> okay</font><font color="#CCCCCC"> well the</font>

20
00:00:51,239 --> 00:00:56,190
doors already closed<font color="#CCCCCC"> by</font><font color="#E5E5E5"> them yeah we're</font>

21
00:00:53,399 --> 00:00:58,469
hiring<font color="#E5E5E5"> as many people are we've got</font>

22
00:00:56,190 --> 00:01:00,329
<font color="#E5E5E5">sibling teams in Bay Area sibling teams</font>

23
00:00:58,469 --> 00:01:02,460
in London<font color="#E5E5E5"> wherever you want to work we</font>

24
00:01:00,329 --> 00:01:03,719
can work it out<font color="#CCCCCC"> I think we've got a</font>

25
00:01:02,460 --> 00:01:09,560
couple<font color="#CCCCCC"> of</font><font color="#E5E5E5"> people just working remotely</font>

26
00:01:03,719 --> 00:01:12,930
<font color="#E5E5E5">at this point</font><font color="#CCCCCC"> a lot of our bugs are just</font>

27
00:01:09,560 --> 00:01:15,630
really<font color="#E5E5E5"> boring</font><font color="#CCCCCC"> all their reports look the</font>

28
00:01:12,930 --> 00:01:18,270
same these are<font color="#E5E5E5"> all</font><font color="#CCCCCC"> CV numbers just from</font>

29
00:01:15,630 --> 00:01:20,250
the<font color="#E5E5E5"> kernel and from the from yeah these</font>

30
00:01:18,270 --> 00:01:23,220
are all<font color="#E5E5E5"> CV numbers just from kernel</font>

31
00:01:20,250 --> 00:01:24,810
memory corruption<font color="#E5E5E5"> if kernel Grider's</font>

32
00:01:23,220 --> 00:01:28,380
were good at their job<font color="#CCCCCC"> I wouldn't have a</font>

33
00:01:24,810 --> 00:01:30,170
job<font color="#E5E5E5"> so thanks to all these people use</font>

34
00:01:28,380 --> 00:01:32,130
locks check your inputs<font color="#E5E5E5"> this really</font>

35
00:01:30,170 --> 00:01:36,119
apparently<font color="#E5E5E5"> it is this difficult</font><font color="#CCCCCC"> I</font>

36
00:01:32,130 --> 00:01:41,908
haven't tried<font color="#E5E5E5"> media server almost as fun</font>

37
00:01:36,119 --> 00:01:43,200
as the kernel is highly privileged<font color="#E5E5E5"> it</font>

38
00:01:41,909 --> 00:01:46,710
has to be<font color="#E5E5E5"> pretty close to</font><font color="#CCCCCC"> the</font><font color="#E5E5E5"> hardware</font>

39
00:01:43,200 --> 00:01:49,680
it has to be have various permissions

40
00:01:46,710 --> 00:01:52,979
<font color="#E5E5E5">for DRM and nonsense like that</font>

41
00:01:49,680 --> 00:01:54,689
so yeah<font color="#E5E5E5"> more CVEs just from people</font>

42
00:01:52,979 --> 00:01:57,030
fuzzing<font color="#CCCCCC"> the media server fuzzing all the</font>

43
00:01:54,689 --> 00:01:59,398
codecs hammering on stuff like<font color="#E5E5E5"> that all</font>

44
00:01:57,030 --> 00:02:03,840
<font color="#E5E5E5">of</font><font color="#CCCCCC"> these</font><font color="#E5E5E5"> people got paid for sending us</font>

45
00:01:59,399 --> 00:02:06,060
these<font color="#E5E5E5"> sending us these bugs</font><font color="#CCCCCC"> that depends</font>

46
00:02:03,840 --> 00:02:11,120
on<font color="#CCCCCC"> the severity I'm not really</font><font color="#E5E5E5"> sure what</font>

47
00:02:06,060 --> 00:02:13,980
the rating criticality<font color="#CCCCCC"> for a full four</font>

48
00:02:11,120 --> 00:02:18,180
bug and<font color="#E5E5E5"> a POC I think it's up</font><font color="#CCCCCC"> we're</font>

49
00:02:13,980 --> 00:02:20,220
<font color="#CCCCCC">three thousand dollars yeah most that</font>

50
00:02:18,180 --> 00:02:21,930
money comes in is<font color="#E5E5E5"> actually for the</font><font color="#CCCCCC"> pock</font>

51
00:02:20,220 --> 00:02:23,819
<font color="#CCCCCC">if you just say hey here's a bug here</font>

52
00:02:21,930 --> 00:02:25,709
and we have to duplicate<font color="#E5E5E5"> it ourselves</font>

53
00:02:23,819 --> 00:02:27,208
<font color="#E5E5E5">we'll give you like a third of</font><font color="#CCCCCC"> that</font><font color="#E5E5E5"> but</font>

54
00:02:25,709 --> 00:02:29,549
then you<font color="#E5E5E5"> say hey here run this file</font>

55
00:02:27,209 --> 00:02:33,660
<font color="#E5E5E5">it'll crash your phone cool have some</font>

56
00:02:29,549 --> 00:02:35,190
money and problem with the<font color="#E5E5E5"> media servers</font>

57
00:02:33,660 --> 00:02:36,959
most that data is<font color="#E5E5E5"> coming in from coming</font>

58
00:02:35,190 --> 00:02:39,870
in from the<font color="#CCCCCC"> internet</font><font color="#E5E5E5"> critical is</font>

59
00:02:36,959 --> 00:02:42,870
reserved for remote access bugs at this

60
00:02:39,870 --> 00:02:44,579
point basically<font color="#E5E5E5"> either I mean if you get</font>

61
00:02:42,870 --> 00:02:47,640
<font color="#CCCCCC">ax</font><font color="#E5E5E5"> if you get execution in the trust</font>

62
00:02:44,579 --> 00:02:51,049
zone<font color="#E5E5E5"> that's critical as well but media</font>

63
00:02:47,640 --> 00:02:58,679
server execution<font color="#E5E5E5"> a remote file is also</font>

64
00:02:51,049 --> 00:03:01,349
<font color="#E5E5E5">critical button</font><font color="#CCCCCC"> so yeah</font><font color="#E5E5E5"> I'm sorry</font><font color="#CCCCCC"> that's</font>

65
00:02:58,680 --> 00:03:03,000
<font color="#E5E5E5">not necessarily in</font><font color="#CCCCCC"> my department that's</font>

66
00:03:01,349 --> 00:03:07,910
more with the<font color="#E5E5E5"> PM's do but I believe you</font>

67
00:03:03,000 --> 00:03:11,010
<font color="#E5E5E5">have an account with the payments and I</font>

68
00:03:07,910 --> 00:03:14,780
yeah that's that's that's that's for

69
00:03:11,010 --> 00:03:18,000
<font color="#CCCCCC">finance to deal with that's not my job</font>

70
00:03:14,780 --> 00:03:22,680
yeah it may<font color="#E5E5E5"> be I don't know you</font><font color="#CCCCCC"> could</font>

71
00:03:18,000 --> 00:03:26,040
<font color="#E5E5E5">probably just get a check all right you</font>

72
00:03:22,680 --> 00:03:28,919
want<font color="#E5E5E5"> to see the good stuff</font><font color="#CCCCCC"> I also get to</font>

73
00:03:26,040 --> 00:03:31,560
see the<font color="#E5E5E5"> big stuff early</font><font color="#CCCCCC"> anybody</font>

74
00:03:28,919 --> 00:03:34,079
<font color="#E5E5E5">recognize these</font><font color="#CCCCCC"> CV numbers see some nods</font>

75
00:03:31,560 --> 00:03:36,900
in the back<font color="#CCCCCC"> I got an email from</font><font color="#E5E5E5"> my boss</font>

76
00:03:34,079 --> 00:03:38,459
last<font color="#E5E5E5"> August it was something like we got</font>

77
00:03:36,900 --> 00:03:40,349
this new bug coming in from project<font color="#E5E5E5"> zero</font>

78
00:03:38,459 --> 00:03:42,630
<font color="#E5E5E5">we were project zero a lot</font><font color="#CCCCCC"> they're real</font>

79
00:03:40,349 --> 00:03:44,399
good<font color="#E5E5E5"> folks over there it's going</font><font color="#CCCCCC"> to be</font>

80
00:03:42,630 --> 00:03:46,560
<font color="#CCCCCC">bad</font><font color="#E5E5E5"> it's going to hit basically</font>

81
00:03:44,400 --> 00:03:48,000
everything in the in the world<font color="#E5E5E5"> don't</font>

82
00:03:46,560 --> 00:03:50,489
talk to anybody<font color="#E5E5E5"> on the</font><font color="#CCCCCC"> team about</font><font color="#E5E5E5"> it</font>

83
00:03:48,000 --> 00:03:52,769
<font color="#CCCCCC">unless they</font><font color="#E5E5E5"> already know figure out how</font>

84
00:03:50,489 --> 00:03:56,989
bad it<font color="#CCCCCC"> is on Android and</font><font color="#E5E5E5"> I'm going to</font>

85
00:03:52,769 --> 00:04:00,540
Gen Con<font color="#CCCCCC"> see</font><font color="#E5E5E5"> ya</font><font color="#CCCCCC"> looking</font><font color="#E5E5E5"> more familiar now</font>

86
00:03:56,989 --> 00:04:03,989
yeah I got to see spectra meltdown<font color="#E5E5E5"> about</font>

87
00:04:00,540 --> 00:04:05,608
five months<font color="#E5E5E5"> early by the time it got</font>

88
00:04:03,989 --> 00:04:07,829
leaked and finally<font color="#E5E5E5"> just closed I could</font>

89
00:04:05,609 --> 00:04:11,190
be like<font color="#E5E5E5"> all right y'all's problem now I</font>

90
00:04:07,829 --> 00:04:13,260
have fun<font color="#E5E5E5"> with that</font><font color="#CCCCCC"> so the big part of my</font>

91
00:04:11,190 --> 00:04:16,168
<font color="#CCCCCC">job was moving the pox in there</font><font color="#E5E5E5"> from top</font>

92
00:04:13,260 --> 00:04:18,000
<font color="#E5E5E5">end Intel down to like atom and arm</font>

93
00:04:16,168 --> 00:04:19,769
processors making sure it hit there and

94
00:04:18,000 --> 00:04:23,490
helping out<font color="#E5E5E5"> with some of the fixes on</font>

95
00:04:19,769 --> 00:04:26,120
those and that's we get to work very

96
00:04:23,490 --> 00:04:28,400
<font color="#CCCCCC">closely with those teams</font>

97
00:04:26,120 --> 00:04:29,780
yeah<font color="#E5E5E5"> if you have a good chance</font><font color="#CCCCCC"> to see</font>

98
00:04:28,400 --> 00:04:33,799
<font color="#E5E5E5">any of the people who worked on</font><font color="#CCCCCC"> this</font>

99
00:04:29,780 --> 00:04:36,320
<font color="#E5E5E5">talk about it real good stuff</font><font color="#CCCCCC"> all</font><font color="#E5E5E5"> right</font>

100
00:04:33,800 --> 00:04:38,180
some<font color="#CCCCCC"> things never change bugs never</font>

101
00:04:36,320 --> 00:04:40,400
changed find new and exciting ways and

102
00:04:38,180 --> 00:04:42,680
places<font color="#CCCCCC"> to appear</font><font color="#E5E5E5"> command-line arguments</font>

103
00:04:40,400 --> 00:04:44,000
why does the<font color="#CCCCCC"> kernel have</font><font color="#E5E5E5"> command line</font>

104
00:04:42,680 --> 00:04:48,710
arguments it's a phone it doesn't<font color="#E5E5E5"> have a</font>

105
00:04:44,000 --> 00:04:49,729
command line<font color="#CCCCCC"> so couple phones</font><font color="#E5E5E5"> a couple</font>

106
00:04:48,710 --> 00:04:51,650
of<font color="#CCCCCC"> versions</font><font color="#E5E5E5"> of bug they were just</font>

107
00:04:49,729 --> 00:04:54,889
pulling<font color="#CCCCCC"> command line arguments from</font><font color="#E5E5E5"> an</font>

108
00:04:51,650 --> 00:04:58,179
<font color="#E5E5E5">unencrypted partition and</font><font color="#CCCCCC"> sterk adding</font>

109
00:04:54,889 --> 00:05:02,360
them<font color="#E5E5E5"> into command line on the colonel</font>

110
00:04:58,180 --> 00:05:05,090
and colonel<font color="#E5E5E5"> command line arguments just</font>

111
00:05:02,360 --> 00:05:06,889
don't deal with spaces<font color="#E5E5E5"> so you could just</font>

112
00:05:05,090 --> 00:05:09,138
<font color="#E5E5E5">stick whatever arguments you wanted</font>

113
00:05:06,889 --> 00:05:10,910
there into that that turned out to<font color="#E5E5E5"> be</font><font color="#CCCCCC"> a</font>

114
00:05:09,139 --> 00:05:12,919
critical<font color="#CCCCCC"> buck</font><font color="#E5E5E5"> because</font><font color="#CCCCCC"> you could just</font>

115
00:05:10,910 --> 00:05:16,100
reflash that partition<font color="#E5E5E5"> no checks no</font>

116
00:05:12,919 --> 00:05:20,479
<font color="#CCCCCC">anything</font><font color="#E5E5E5"> get access to debug features in</font>

117
00:05:16,100 --> 00:05:23,330
the kernel<font color="#CCCCCC"> time of check tightening use</font>

118
00:05:20,479 --> 00:05:25,219
we don't<font color="#E5E5E5"> familiar with this</font><font color="#CCCCCC"> lead your</font>

119
00:05:23,330 --> 00:05:27,948
provider<font color="#E5E5E5"> this was something going on in</font>

120
00:05:25,220 --> 00:05:29,630
<font color="#CCCCCC">the media</font><font color="#E5E5E5"> provider where media provider</font>

121
00:05:27,949 --> 00:05:33,260
has access to<font color="#E5E5E5"> all the files on</font><font color="#CCCCCC"> the</font>

122
00:05:29,630 --> 00:05:34,789
device<font color="#E5E5E5"> but it checks it checks when it</font>

123
00:05:33,260 --> 00:05:36,289
has a client<font color="#E5E5E5"> making calls to it it</font>

124
00:05:34,789 --> 00:05:38,900
checks what permissions<font color="#E5E5E5"> that client has</font>

125
00:05:36,289 --> 00:05:40,370
so if you give it a symlink<font color="#E5E5E5"> it will</font>

126
00:05:38,900 --> 00:05:42,349
check<font color="#E5E5E5"> the permissions on that sim link</font>

127
00:05:40,370 --> 00:05:43,639
then<font color="#E5E5E5"> you change that sim link and it</font>

128
00:05:42,349 --> 00:05:48,200
goes ahead and<font color="#CCCCCC"> dereferences it and gets</font>

129
00:05:43,639 --> 00:05:50,510
to<font color="#E5E5E5"> whatever file you want a good</font><font color="#CCCCCC"> job</font><font color="#E5E5E5"> on</font>

130
00:05:48,200 --> 00:05:55,010
that that turned out to be<font color="#E5E5E5"> moderate</font>

131
00:05:50,510 --> 00:05:59,000
information disclosure<font color="#CCCCCC"> more fun stuff</font>

132
00:05:55,010 --> 00:06:02,479
<font color="#E5E5E5">dev tools</font><font color="#CCCCCC"> there's all</font><font color="#E5E5E5"> sorts of thing is</font>

133
00:05:59,000 --> 00:06:03,830
this keep changing zoom<font color="#CCCCCC"> there's all</font>

134
00:06:02,479 --> 00:06:05,630
<font color="#E5E5E5">sorts of things you want</font><font color="#CCCCCC"> to do to your</font>

135
00:06:03,830 --> 00:06:09,409
own code<font color="#E5E5E5"> you don't</font><font color="#CCCCCC"> necessarily want</font>

136
00:06:05,630 --> 00:06:11,659
other people doing to your code<font color="#CCCCCC"> anybody</font>

137
00:06:09,410 --> 00:06:13,810
playing<font color="#CCCCCC"> Pokemon go still they've been</font>

138
00:06:11,660 --> 00:06:17,050
doing some cool<font color="#CCCCCC"> stuff recently</font><font color="#E5E5E5"> the raids</font>

139
00:06:13,810 --> 00:06:19,700
<font color="#CCCCCC">yeah God have</font><font color="#E5E5E5"> low tech got to have</font><font color="#CCCCCC"> be a</font>

140
00:06:17,050 --> 00:06:21,020
test interface<font color="#E5E5E5"> for</font><font color="#CCCCCC"> that</font><font color="#E5E5E5"> you don't want</font>

141
00:06:19,700 --> 00:06:23,300
<font color="#E5E5E5">to have to have your people all running</font>

142
00:06:21,020 --> 00:06:26,389
around Paris<font color="#E5E5E5"> while they're developing</font>

143
00:06:23,300 --> 00:06:28,789
the developing your code<font color="#E5E5E5"> so</font><font color="#CCCCCC"> you</font><font color="#E5E5E5"> have</font>

144
00:06:26,389 --> 00:06:31,000
mock location<font color="#E5E5E5"> data you put your foot put</font>

145
00:06:28,789 --> 00:06:33,889
your app into<font color="#E5E5E5"> debug mode you can just</font>

146
00:06:31,000 --> 00:06:36,590
<font color="#E5E5E5">start say hey use this data go ahead and</font>

147
00:06:33,889 --> 00:06:39,110
do this<font color="#E5E5E5"> and there's been a few different</font>

148
00:06:36,590 --> 00:06:41,659
API<font color="#CCCCCC"> zoran API level 28</font>

149
00:06:39,110 --> 00:06:45,139
at this point<font color="#CCCCCC"> Android PI releases</font><font color="#E5E5E5"> this</font>

150
00:06:41,659 --> 00:06:47,060
month<font color="#E5E5E5"> I believe</font><font color="#CCCCCC"> so we've got a few had a</font>

151
00:06:45,139 --> 00:06:51,080
few different<font color="#CCCCCC"> api's from Ock location</font>

152
00:06:47,060 --> 00:06:53,449
data<font color="#CCCCCC"> the basic idea is that when you set</font>

153
00:06:51,080 --> 00:06:55,310
a<font color="#E5E5E5"> Mach location the location data that</font>

154
00:06:53,449 --> 00:06:57,110
comes down<font color="#E5E5E5"> to</font><font color="#CCCCCC"> the app</font><font color="#E5E5E5"> just has a flag in</font>

155
00:06:55,310 --> 00:06:59,599
it that says<font color="#E5E5E5"> okay this isn't</font><font color="#CCCCCC"> a real this</font>

156
00:06:57,110 --> 00:07:01,129
<font color="#CCCCCC">isn't real location</font><font color="#E5E5E5"> data but use</font><font color="#CCCCCC"> it if</font>

157
00:06:59,599 --> 00:07:04,969
you<font color="#CCCCCC"> want to</font><font color="#E5E5E5"> use it if you're in debug</font>

158
00:07:01,129 --> 00:07:08,330
mode<font color="#CCCCCC"> there</font><font color="#E5E5E5"> are just one version of the</font>

159
00:07:04,969 --> 00:07:11,180
location API that just didn't correctly

160
00:07:08,330 --> 00:07:13,008
set that flag<font color="#CCCCCC"> if you use the</font><font color="#E5E5E5"> just</font>

161
00:07:11,180 --> 00:07:18,009
correct set<font color="#E5E5E5"> of calls it would just</font>

162
00:07:13,009 --> 00:07:20,560
<font color="#CCCCCC">forget to set the Mach location data so</font>

163
00:07:18,009 --> 00:07:23,060
sorry about<font color="#CCCCCC"> that if you're not actually</font>

164
00:07:20,560 --> 00:07:26,930
being<font color="#E5E5E5"> able to cheat</font><font color="#CCCCCC"> on Pokemon anymore</font>

165
00:07:23,060 --> 00:07:30,409
<font color="#E5E5E5">that was a moderate bug another quick</font>

166
00:07:26,930 --> 00:07:32,210
one<font color="#E5E5E5"> into deeper into the dev cycle</font><font color="#CCCCCC"> we</font>

167
00:07:30,409 --> 00:07:33,650
needed a way<font color="#CCCCCC"> to be able</font><font color="#E5E5E5"> to check and</font>

168
00:07:32,210 --> 00:07:35,150
<font color="#CCCCCC">make sure</font><font color="#E5E5E5"> that</font><font color="#CCCCCC"> a partition had the</font>

169
00:07:33,650 --> 00:07:37,878
version we wanted in there so<font color="#E5E5E5"> just said</font>

170
00:07:35,150 --> 00:07:40,340
<font color="#CCCCCC">okay</font><font color="#E5E5E5"> pull a hash of</font><font color="#CCCCCC"> the partition</font><font color="#E5E5E5"> and</font>

171
00:07:37,879 --> 00:07:41,949
then we can say<font color="#E5E5E5"> okay this hash matches</font>

172
00:07:40,340 --> 00:07:44,750
<font color="#E5E5E5">this build this hash matches this build</font>

173
00:07:41,949 --> 00:07:46,279
but now let's<font color="#E5E5E5"> someone bothered to extend</font>

174
00:07:44,750 --> 00:07:49,159
that<font color="#E5E5E5"> to</font><font color="#CCCCCC"> get</font><font color="#E5E5E5"> a hash of a section of a</font>

175
00:07:46,279 --> 00:07:50,750
partition<font color="#E5E5E5"> so you could get a hash of</font><font color="#CCCCCC"> the</font>

176
00:07:49,159 --> 00:07:52,699
first 12 bytes of the partition<font color="#E5E5E5"> you</font>

177
00:07:50,750 --> 00:07:56,330
<font color="#E5E5E5">could get a hash of the first byte of</font><font color="#CCCCCC"> a</font>

178
00:07:52,699 --> 00:07:59,479
partition so you just blowed the phone

179
00:07:56,330 --> 00:08:01,940
up in fastboot<font color="#E5E5E5"> just say your because it</font>

180
00:07:59,479 --> 00:08:04,008
<font color="#E5E5E5">you don't want it like the goal was not</font>

181
00:08:01,940 --> 00:08:05,629
<font color="#CCCCCC">to</font><font color="#E5E5E5"> be able to read every partition data</font>

182
00:08:04,009 --> 00:08:09,080
directly<font color="#E5E5E5"> off</font><font color="#CCCCCC"> of there just be able to</font>

183
00:08:05,629 --> 00:08:11,870
<font color="#E5E5E5">get like the hash we made it possible to</font>

184
00:08:09,080 --> 00:08:15,560
<font color="#E5E5E5">get</font><font color="#CCCCCC"> all the data</font><font color="#E5E5E5"> with a simple lookup</font>

185
00:08:11,870 --> 00:08:18,500
table<font color="#CCCCCC"> high severity because not</font>

186
00:08:15,560 --> 00:08:23,270
everybody used was using full phone

187
00:08:18,500 --> 00:08:25,430
encryption at the time<font color="#E5E5E5"> password</font>

188
00:08:23,270 --> 00:08:27,560
<font color="#E5E5E5">complexity whole point of a password is</font>

189
00:08:25,430 --> 00:08:30,409
you know<font color="#CCCCCC"> absolutely nothing about what's</font>

190
00:08:27,560 --> 00:08:33,019
in it right<font color="#E5E5E5"> so what's this file doing</font>

191
00:08:30,409 --> 00:08:35,779
here you could just<font color="#E5E5E5"> grab this file off</font>

192
00:08:33,019 --> 00:08:38,510
of there<font color="#CCCCCC"> even if you have file based</font>

193
00:08:35,779 --> 00:08:41,260
encryption on<font color="#E5E5E5"> the on the phone like yeah</font>

194
00:08:38,510 --> 00:08:45,230
you pull this file off that's encrypted

195
00:08:41,260 --> 00:08:47,540
but then like this is a very<font color="#E5E5E5"> easy format</font>

196
00:08:45,230 --> 00:08:48,260
you could<font color="#CCCCCC"> brute force this file really</font>

197
00:08:47,540 --> 00:08:51,079
<font color="#E5E5E5">easily</font>

198
00:08:48,260 --> 00:08:52,439
<font color="#E5E5E5">and then try to get a lot</font><font color="#CCCCCC"> more tasks for</font>

199
00:08:51,079 --> 00:08:54,569
brute force

200
00:08:52,440 --> 00:08:57,060
<font color="#E5E5E5">excuse me a lot more guidelines for</font>

201
00:08:54,570 --> 00:09:06,420
<font color="#CCCCCC">brute</font><font color="#E5E5E5"> forcing a password that turned out</font>

202
00:08:57,060 --> 00:09:08,729
to<font color="#CCCCCC"> be moderate severity use me oh man</font>

203
00:09:06,420 --> 00:09:11,520
this one was fun<font color="#CCCCCC"> there's</font><font color="#E5E5E5"> only actually</font>

204
00:09:08,730 --> 00:09:13,260
<font color="#E5E5E5">hit on one</font><font color="#CCCCCC"> device</font><font color="#E5E5E5"> there a lot of phones</font>

205
00:09:11,520 --> 00:09:15,270
these days<font color="#E5E5E5"> have an extra as that</font>

206
00:09:13,260 --> 00:09:16,740
<font color="#E5E5E5">question or not okay a lot of phones</font>

207
00:09:15,270 --> 00:09:18,660
these<font color="#CCCCCC"> days have an extra interface and</font>

208
00:09:16,740 --> 00:09:23,520
headphone jack or they did when they<font color="#CCCCCC"> had</font>

209
00:09:18,660 --> 00:09:25,800
a headphone<font color="#E5E5E5"> jack</font><font color="#CCCCCC"> that like if</font><font color="#E5E5E5"> you're</font>

210
00:09:23,520 --> 00:09:27,360
like you're using this in the factory if

211
00:09:25,800 --> 00:09:29,400
you've got the USB<font color="#E5E5E5"> plugged in for some</font>

212
00:09:27,360 --> 00:09:31,980
loading<font color="#E5E5E5"> you got a debug port interface</font>

213
00:09:29,400 --> 00:09:33,780
in the<font color="#E5E5E5"> USB jack as well most of the time</font>

214
00:09:31,980 --> 00:09:35,160
that's<font color="#CCCCCC"> just disabled before</font><font color="#E5E5E5"> you ship it</font>

215
00:09:33,780 --> 00:09:36,839
<font color="#CCCCCC">out you</font><font color="#E5E5E5"> just blow a fuse and</font><font color="#CCCCCC"> on the</font>

216
00:09:35,160 --> 00:09:37,740
production<font color="#E5E5E5"> models just send it right</font><font color="#CCCCCC"> out</font>

217
00:09:36,840 --> 00:09:41,460
the door

218
00:09:37,740 --> 00:09:45,330
if you have a nexus 9 though<font color="#E5E5E5"> you have a</font>

219
00:09:41,460 --> 00:09:46,920
full serial port interface<font color="#E5E5E5"> in your</font>

220
00:09:45,330 --> 00:09:52,650
headphone<font color="#CCCCCC"> jack</font><font color="#E5E5E5"> to a kernel level</font>

221
00:09:46,920 --> 00:09:54,569
debugger<font color="#CCCCCC"> yeah Reed absolutely anything</font>

222
00:09:52,650 --> 00:10:02,400
<font color="#E5E5E5">out of kernel</font><font color="#CCCCCC"> memory out of</font><font color="#E5E5E5"> anywhere on</font>

223
00:09:54,570 --> 00:10:04,020
the phone yeah have people actually<font color="#E5E5E5"> made</font>

224
00:10:02,400 --> 00:10:05,579
debuggers that use<font color="#E5E5E5"> a 3.5</font><font color="#CCCCCC"> millimeter</font>

225
00:10:04,020 --> 00:10:09,240
clearly somebody has because somebody

226
00:10:05,580 --> 00:10:10,770
found this<font color="#E5E5E5"> this is like the the 3.5</font>

227
00:10:09,240 --> 00:10:12,570
millimeter cable<font color="#E5E5E5"> is a known interface</font>

228
00:10:10,770 --> 00:10:13,920
<font color="#E5E5E5">for all these phones right like it's not</font>

229
00:10:12,570 --> 00:10:15,840
<font color="#E5E5E5">just tip ring sleeve if you have the</font>

230
00:10:13,920 --> 00:10:19,500
<font color="#CCCCCC">four ports on there then it's putting</font>

231
00:10:15,840 --> 00:10:20,670
like if you have a<font color="#CCCCCC"> headset with command</font>

232
00:10:19,500 --> 00:10:22,020
buttons on there that's how they're

233
00:10:20,670 --> 00:10:24,300
sending those commands<font color="#E5E5E5"> into the phone</font>

234
00:10:22,020 --> 00:10:26,040
<font color="#E5E5E5">and now we've just</font><font color="#CCCCCC"> got a serial</font>

235
00:10:24,300 --> 00:10:29,370
interface<font color="#E5E5E5"> through that</font><font color="#CCCCCC"> - only</font><font color="#E5E5E5"> on the</font>

236
00:10:26,040 --> 00:10:30,719
<font color="#CCCCCC">nexus 9 maybe that's a good reason that</font>

237
00:10:29,370 --> 00:10:32,250
people<font color="#E5E5E5"> don't</font><font color="#CCCCCC"> have headphone jacks</font>

238
00:10:30,720 --> 00:10:33,750
anymore

239
00:10:32,250 --> 00:10:37,110
we called this one critical<font color="#E5E5E5"> actually</font>

240
00:10:33,750 --> 00:10:41,640
<font color="#E5E5E5">because this was</font><font color="#CCCCCC"> kernel level</font><font color="#E5E5E5"> access</font>

241
00:10:37,110 --> 00:10:44,040
straight into the phone<font color="#CCCCCC"> Oh weird binary</font>

242
00:10:41,640 --> 00:10:47,580
formats every operating<font color="#E5E5E5"> system</font><font color="#CCCCCC"> has its</font>

243
00:10:44,040 --> 00:10:48,780
<font color="#E5E5E5">own weird special formats weird special</font>

244
00:10:47,580 --> 00:10:51,570
things<font color="#CCCCCC"> going on with old familiar</font>

245
00:10:48,780 --> 00:10:54,810
formats<font color="#E5E5E5"> what's going on here</font>

246
00:10:51,570 --> 00:10:57,000
<font color="#CCCCCC">Oh</font><font color="#E5E5E5"> this was this was</font><font color="#CCCCCC"> my favorite bug</font>

247
00:10:54,810 --> 00:10:59,130
that<font color="#E5E5E5"> I actually looked</font><font color="#CCCCCC"> at - anywhere</font>

248
00:10:57,000 --> 00:11:01,700
<font color="#CCCCCC">anytime at this point no where's my</font>

249
00:10:59,130 --> 00:11:01,700
<font color="#CCCCCC">cursor here</font>

250
00:11:02,039 --> 00:11:06,119
yeah accessibility services you<font color="#E5E5E5"> have a</font>

251
00:11:05,009 --> 00:11:08,039
service<font color="#E5E5E5"> on</font><font color="#CCCCCC"> your phone that can</font>

252
00:11:06,119 --> 00:11:10,319
<font color="#CCCCCC">absolutely touch everything</font><font color="#E5E5E5"> it needs to</font>

253
00:11:08,039 --> 00:11:13,859
be<font color="#CCCCCC"> because it's for screen readers it's</font>

254
00:11:10,319 --> 00:11:15,899
for disability services<font color="#CCCCCC"> it can touch</font>

255
00:11:13,859 --> 00:11:17,970
absolutely anything<font color="#E5E5E5"> and we're on the</font>

256
00:11:15,899 --> 00:11:19,319
28th<font color="#CCCCCC"> innovation</font><font color="#E5E5E5"> of the API these tools</font>

257
00:11:17,970 --> 00:11:21,539
have changed<font color="#CCCCCC"> a while and we need</font>

258
00:11:19,319 --> 00:11:23,579
backward compatibility<font color="#CCCCCC"> because if you</font>

259
00:11:21,539 --> 00:11:25,589
went<font color="#E5E5E5"> to the Android app pentesting</font>

260
00:11:23,579 --> 00:11:28,159
<font color="#CCCCCC">talked yesterday</font><font color="#E5E5E5"> you saw this the spread</font>

261
00:11:25,589 --> 00:11:30,389
of the quarter the people are on

262
00:11:28,159 --> 00:11:34,559
<font color="#CCCCCC">marshmallow</font><font color="#E5E5E5"> quarter people are on</font><font color="#CCCCCC"> o</font>

263
00:11:30,389 --> 00:11:35,970
quarter people<font color="#E5E5E5"> are on nougat</font><font color="#CCCCCC"> so we got</font>

264
00:11:34,559 --> 00:11:38,399
to have backward compatibility through

265
00:11:35,970 --> 00:11:40,589
all of<font color="#E5E5E5"> these things and how it works now</font>

266
00:11:38,399 --> 00:11:42,869
<font color="#E5E5E5">is you send your accessibility info into</font>

267
00:11:40,589 --> 00:11:44,549
the system server<font color="#E5E5E5"> it cracks that open</font>

268
00:11:42,869 --> 00:11:45,839
looks inside just<font color="#E5E5E5"> make sure that</font><font color="#CCCCCC"> you</font>

269
00:11:44,549 --> 00:11:48,299
have permission<font color="#CCCCCC"> to do all those</font><font color="#E5E5E5"> things</font>

270
00:11:45,839 --> 00:11:51,869
<font color="#CCCCCC">packs it back up back up together and</font>

271
00:11:48,299 --> 00:11:53,629
<font color="#E5E5E5">sends it off so we've gone through</font>

272
00:11:51,869 --> 00:11:57,089
<font color="#E5E5E5">enough versions that the serialization</font>

273
00:11:53,629 --> 00:12:00,089
<font color="#E5E5E5">has gotten a little out of sync</font><font color="#CCCCCC"> so if</font>

274
00:11:57,089 --> 00:12:03,239
you have if you<font color="#E5E5E5"> craft your input just to</font>

275
00:12:00,089 --> 00:12:05,909
this just so then you<font color="#E5E5E5"> put the label into</font>

276
00:12:03,239 --> 00:12:08,339
<font color="#CCCCCC">the string</font><font color="#E5E5E5"> and then when it take when</font><font color="#CCCCCC"> it</font>

277
00:12:05,909 --> 00:12:10,259
<font color="#CCCCCC">reisi realizes after packaging</font><font color="#E5E5E5"> that</font>

278
00:12:08,339 --> 00:12:13,019
string back up all that data that<font color="#CCCCCC"> you</font>

279
00:12:10,259 --> 00:12:14,789
put in as part of<font color="#E5E5E5"> the string is now just</font>

280
00:12:13,019 --> 00:12:17,339
a separate<font color="#E5E5E5"> bundle on a separate intent</font>

281
00:12:14,789 --> 00:12:19,649
<font color="#E5E5E5">and since this intent is being sent back</font>

282
00:12:17,339 --> 00:12:22,109
out to the rest of<font color="#E5E5E5"> the system from the</font>

283
00:12:19,649 --> 00:12:23,879
<font color="#E5E5E5">system server you now have permission</font><font color="#CCCCCC"> to</font>

284
00:12:22,109 --> 00:12:25,739
<font color="#E5E5E5">run basically anything out of that</font>

285
00:12:23,879 --> 00:12:28,259
intent you can say hey here's change

286
00:12:25,739 --> 00:12:29,970
this label into a go download<font color="#E5E5E5"> and</font>

287
00:12:28,259 --> 00:12:31,979
install this<font color="#CCCCCC"> written install your</font>

288
00:12:29,970 --> 00:12:35,279
favorite malicious package<font color="#E5E5E5"> go get your</font>

289
00:12:31,979 --> 00:12:39,659
key logger how we called this<font color="#CCCCCC"> hi</font><font color="#E5E5E5"> Xcode</font>

290
00:12:35,279 --> 00:12:41,100
<font color="#E5E5E5">execution</font><font color="#CCCCCC"> this</font><font color="#E5E5E5"> one was also</font><font color="#CCCCCC"> super cool</font>

291
00:12:39,659 --> 00:12:43,759
<font color="#E5E5E5">because we have two</font><font color="#CCCCCC"> different formats</font><font color="#E5E5E5"> on</font>

292
00:12:41,100 --> 00:12:48,149
the phone<font color="#E5E5E5"> the apk</font><font color="#CCCCCC"> which is a zip file</font>

293
00:12:43,759 --> 00:12:51,929
Dex file which is your<font color="#CCCCCC"> font your</font><font color="#E5E5E5"> binary</font>

294
00:12:48,149 --> 00:12:54,809
code<font color="#CCCCCC"> and then with the format weirdness</font>

295
00:12:51,929 --> 00:12:56,970
the apk<font color="#CCCCCC"> since it's a zip can have</font>

296
00:12:54,809 --> 00:12:59,549
<font color="#CCCCCC">arbitrary data stacked</font><font color="#E5E5E5"> on</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> the front</font>

297
00:12:56,970 --> 00:13:01,769
the Dex file can<font color="#CCCCCC"> have arbitrary</font><font color="#E5E5E5"> data</font>

298
00:12:59,549 --> 00:13:03,449
tacked on to the end<font color="#E5E5E5"> you can</font><font color="#CCCCCC"> just jam</font>

299
00:13:01,769 --> 00:13:07,349
those together<font color="#E5E5E5"> now it's both a valid Dex</font>

300
00:13:03,449 --> 00:13:09,389
<font color="#CCCCCC">and a valid</font><font color="#E5E5E5"> apk in earlier versions of</font>

301
00:13:07,349 --> 00:13:10,949
<font color="#E5E5E5">this signing scheme I'll remind you that</font>

302
00:13:09,389 --> 00:13:13,949
<font color="#E5E5E5">everything I'm showing here has been</font>

303
00:13:10,949 --> 00:13:14,719
<font color="#CCCCCC">fixed in earlier versions the signature</font>

304
00:13:13,949 --> 00:13:19,189
on<font color="#CCCCCC"> that</font>

305
00:13:14,720 --> 00:13:21,920
<font color="#CCCCCC">keh only covered the</font><font color="#E5E5E5"> apk data itself so</font>

306
00:13:19,189 --> 00:13:24,110
you could change that extraneous<font color="#E5E5E5"> data at</font>

307
00:13:21,920 --> 00:13:27,349
any point to do absolutely anything else

308
00:13:24,110 --> 00:13:29,689
you wanted so if you have your<font color="#E5E5E5"> Dex file</font>

309
00:13:27,350 --> 00:13:32,899
on the beginning your<font color="#E5E5E5"> apk file on the</font>

310
00:13:29,689 --> 00:13:35,089
end the apk file is a valid build of

311
00:13:32,899 --> 00:13:37,639
<font color="#E5E5E5">Google Maps version</font><font color="#CCCCCC"> 27</font><font color="#E5E5E5"> point</font><font color="#CCCCCC"> three point</font>

312
00:13:35,089 --> 00:13:40,310
for your Dex file on the beginning is

313
00:13:37,639 --> 00:13:42,079
your malware then like you can download

314
00:13:40,310 --> 00:13:43,310
that<font color="#E5E5E5"> on the phones as checks the</font>

315
00:13:42,079 --> 00:13:45,739
signature<font color="#CCCCCC"> okay this is a</font><font color="#E5E5E5"> good upgrade</font>

316
00:13:43,310 --> 00:13:48,138
I'll just upgrade maps like that great

317
00:13:45,740 --> 00:13:53,740
<font color="#E5E5E5">thanks and then it goes to run it sees</font>

318
00:13:48,139 --> 00:14:01,420
that Dex data<font color="#E5E5E5"> it runs that instead oops</font>

319
00:13:53,740 --> 00:14:01,420
<font color="#CCCCCC">yeah so called</font><font color="#E5E5E5"> that high severity again</font>

320
00:14:01,689 --> 00:14:05,899
<font color="#CCCCCC">all</font><font color="#E5E5E5"> right here's some</font><font color="#CCCCCC"> stuff</font><font color="#E5E5E5"> that's</font>

321
00:14:04,160 --> 00:14:07,850
<font color="#CCCCCC">actually pretty unique to Android</font>

322
00:14:05,899 --> 00:14:10,910
permissions shenanigans there's been a

323
00:14:07,850 --> 00:14:12,769
lot of<font color="#E5E5E5"> this stuff going on everything in</font>

324
00:14:10,910 --> 00:14:14,360
<font color="#CCCCCC">Google there</font><font color="#E5E5E5"> everything in Android</font><font color="#CCCCCC"> is</font>

325
00:14:12,769 --> 00:14:15,529
gated on<font color="#E5E5E5"> a permission you want to access</font>

326
00:14:14,360 --> 00:14:18,019
the<font color="#E5E5E5"> internet you request the permission</font>

327
00:14:15,529 --> 00:14:19,160
<font color="#E5E5E5">for</font><font color="#CCCCCC"> that you want to get bluetooth</font><font color="#E5E5E5"> admin</font>

328
00:14:18,019 --> 00:14:21,170
privileges you<font color="#E5E5E5"> request the permission</font>

329
00:14:19,160 --> 00:14:23,439
<font color="#E5E5E5">for</font><font color="#CCCCCC"> that some of these go to the user</font>

330
00:14:21,170 --> 00:14:25,490
for<font color="#CCCCCC"> confirmation some of them don't</font>

331
00:14:23,439 --> 00:14:28,399
<font color="#CCCCCC">there's a lot</font><font color="#E5E5E5"> of permissions that are</font>

332
00:14:25,490 --> 00:14:30,050
actually only<font color="#E5E5E5"> granted</font><font color="#CCCCCC"> to apps that are</font>

333
00:14:28,399 --> 00:14:32,269
<font color="#E5E5E5">previously installed apps that are built</font>

334
00:14:30,050 --> 00:14:33,920
into<font color="#E5E5E5"> the</font><font color="#CCCCCC"> system</font><font color="#E5E5E5"> image or share a</font>

335
00:14:32,269 --> 00:14:36,769
signature with apps that are<font color="#E5E5E5"> built in on</font>

336
00:14:33,920 --> 00:14:40,370
the system image but for<font color="#E5E5E5"> enterprise</font>

337
00:14:36,769 --> 00:14:42,170
users<font color="#E5E5E5"> you can have a policy client</font>

338
00:14:40,370 --> 00:14:45,050
that's<font color="#E5E5E5"> running a restricted profile so</font>

339
00:14:42,170 --> 00:14:46,790
if you have<font color="#E5E5E5"> your work</font><font color="#CCCCCC"> excuse-me</font><font color="#E5E5E5"> have a</font>

340
00:14:45,050 --> 00:14:48,199
work profile for<font color="#E5E5E5"> your users the only</font>

341
00:14:46,790 --> 00:14:50,660
things<font color="#E5E5E5"> that can access your corporate</font>

342
00:14:48,199 --> 00:14:52,430
email<font color="#E5E5E5"> or coming out of that profile user</font>

343
00:14:50,660 --> 00:14:54,829
can<font color="#CCCCCC"> be running</font><font color="#E5E5E5"> whatever else they want</font>

344
00:14:52,430 --> 00:14:57,410
on their own profile on the phone<font color="#E5E5E5"> but</font>

345
00:14:54,829 --> 00:14:59,300
then the administrator for<font color="#CCCCCC"> that ten</font>

346
00:14:57,410 --> 00:15:03,110
minutes thank you the administrator<font color="#E5E5E5"> app</font>

347
00:14:59,300 --> 00:15:04,959
for<font color="#E5E5E5"> that profile manages permissions for</font>

348
00:15:03,110 --> 00:15:07,430
everything running inside that profile

349
00:15:04,959 --> 00:15:09,589
<font color="#E5E5E5">but then you grant permissions to</font>

350
00:15:07,430 --> 00:15:11,209
something<font color="#E5E5E5"> inside the profile it comes</font>

351
00:15:09,589 --> 00:15:13,250
back and grants<font color="#E5E5E5"> that permission back to</font>

352
00:15:11,209 --> 00:15:15,079
<font color="#E5E5E5">everything outside the profile back to</font>

353
00:15:13,250 --> 00:15:18,559
<font color="#CCCCCC">that same app that's running</font><font color="#E5E5E5"> outside the</font>

354
00:15:15,079 --> 00:15:20,959
profile as well<font color="#E5E5E5"> so you can say hey I</font>

355
00:15:18,559 --> 00:15:22,490
want<font color="#CCCCCC"> this app inside the</font><font color="#E5E5E5"> profe I want to</font>

356
00:15:20,959 --> 00:15:25,309
install<font color="#E5E5E5"> this app inside the profile</font>

357
00:15:22,490 --> 00:15:26,779
<font color="#E5E5E5">inside the secure profile give it the</font>

358
00:15:25,309 --> 00:15:28,259
<font color="#E5E5E5">right secure settings settings</font>

359
00:15:26,779 --> 00:15:30,540
permission so it can set

360
00:15:28,259 --> 00:15:33,589
whatever it wants to on the phone now

361
00:15:30,540 --> 00:15:37,049
can run outside<font color="#CCCCCC"> the</font><font color="#E5E5E5"> restricted profile</font>

362
00:15:33,589 --> 00:15:39,589
<font color="#CCCCCC">high-severity yes did</font><font color="#E5E5E5"> you get basically</font>

363
00:15:37,049 --> 00:15:41,910
admin access<font color="#CCCCCC"> everywhere on the phone</font>

364
00:15:39,589 --> 00:15:43,499
more stuff with version<font color="#CCCCCC"> management you</font>

365
00:15:41,910 --> 00:15:45,149
get permissions you<font color="#E5E5E5"> can combine</font>

366
00:15:43,499 --> 00:15:46,679
permissions<font color="#CCCCCC"> into permission groups so</font>

367
00:15:45,149 --> 00:15:50,309
when one<font color="#CCCCCC"> is granted everything in the</font>

368
00:15:46,679 --> 00:15:51,689
group is granted<font color="#E5E5E5"> you can have apps you</font>

369
00:15:50,309 --> 00:15:52,829
can have danger levels within<font color="#E5E5E5"> a</font>

370
00:15:51,689 --> 00:15:54,569
permission so you can have the

371
00:15:52,829 --> 00:15:55,829
permission<font color="#CCCCCC"> that doesn't</font><font color="#E5E5E5"> hurt you can</font>

372
00:15:54,569 --> 00:15:58,079
<font color="#E5E5E5">have things like internet permissions</font>

373
00:15:55,829 --> 00:15:59,728
which don't ask if the user needs them

374
00:15:58,079 --> 00:16:01,858
because everything needs<font color="#E5E5E5"> internet</font>

375
00:15:59,729 --> 00:16:03,749
permissions or you can have dangerous

376
00:16:01,859 --> 00:16:05,189
permissions for things<font color="#CCCCCC"> like contacts it</font>

377
00:16:03,749 --> 00:16:07,850
pops up<font color="#E5E5E5"> a little screen</font><font color="#CCCCCC"> on there</font><font color="#E5E5E5"> it says</font>

378
00:16:05,189 --> 00:16:11,160
hey this app<font color="#E5E5E5"> wants to do this go ahead</font>

379
00:16:07,850 --> 00:16:15,649
<font color="#E5E5E5">but you can also put</font><font color="#CCCCCC"> your permissions</font><font color="#E5E5E5"> in</font>

380
00:16:11,160 --> 00:16:18,358
<font color="#CCCCCC">to permission</font><font color="#E5E5E5"> groups from other apps</font><font color="#CCCCCC"> so</font>

381
00:16:15,649 --> 00:16:20,160
<font color="#CCCCCC">if and then when you upgrade up</font><font color="#E5E5E5"> to</font>

382
00:16:18,359 --> 00:16:23,249
<font color="#E5E5E5">upgrade your app it also updates all the</font>

383
00:16:20,160 --> 00:16:25,949
<font color="#CCCCCC">permissions on those on</font><font color="#E5E5E5"> those apps and</font>

384
00:16:23,249 --> 00:16:27,600
<font color="#E5E5E5">all the versions</font><font color="#CCCCCC"> you have there so what</font>

385
00:16:25,949 --> 00:16:29,608
you can do once<font color="#E5E5E5"> the permission is</font>

386
00:16:27,600 --> 00:16:30,839
<font color="#E5E5E5">granted</font><font color="#CCCCCC"> that permission stays granted</font>

387
00:16:29,609 --> 00:16:37,319
even if you've increased the<font color="#E5E5E5"> danger</font>

388
00:16:30,839 --> 00:16:39,839
<font color="#E5E5E5">level so if you give it a if you create</font>

389
00:16:37,319 --> 00:16:41,099
your app and<font color="#E5E5E5"> put it into the Mike excuse</font>

390
00:16:39,839 --> 00:16:42,989
me if you create<font color="#E5E5E5"> your app with</font><font color="#CCCCCC"> a</font>

391
00:16:41,100 --> 00:16:46,220
<font color="#E5E5E5">permission that's in the microphone</font>

392
00:16:42,989 --> 00:16:48,839
group<font color="#E5E5E5"> and it's just a regular permission</font>

393
00:16:46,220 --> 00:16:50,759
now your app has<font color="#CCCCCC"> everything that is</font>

394
00:16:48,839 --> 00:16:52,730
inside<font color="#CCCCCC"> they have all the regular</font>

395
00:16:50,759 --> 00:16:55,259
permissions inside the microphone group

396
00:16:52,730 --> 00:16:57,989
now you upgrade your<font color="#E5E5E5"> app and you upgrade</font>

397
00:16:55,259 --> 00:16:59,970
your permission to dangerous that

398
00:16:57,989 --> 00:17:02,249
permission<font color="#E5E5E5"> is now in the in the</font>

399
00:16:59,970 --> 00:17:04,649
microphone group at the dangerous level

400
00:17:02,249 --> 00:17:06,389
so your app has<font color="#E5E5E5"> access to everything at</font>

401
00:17:04,648 --> 00:17:08,668
dangerous level inside<font color="#E5E5E5"> the</font><font color="#CCCCCC"> microphone</font>

402
00:17:06,388 --> 00:17:10,438
inside<font color="#CCCCCC"> the microphone group you</font><font color="#E5E5E5"> just</font>

403
00:17:08,669 --> 00:17:17,189
<font color="#E5E5E5">grab microphone</font><font color="#CCCCCC"> access just straight up</font>

404
00:17:10,439 --> 00:17:19,620
<font color="#E5E5E5">like</font><font color="#CCCCCC"> that</font><font color="#E5E5E5"> whoops a lot of things you can</font>

405
00:17:17,189 --> 00:17:21,839
do a lot<font color="#CCCCCC"> of</font><font color="#E5E5E5"> other ways a lot of ways</font><font color="#CCCCCC"> you</font>

406
00:17:19,619 --> 00:17:23,638
<font color="#E5E5E5">can do things inside your own app you</font>

407
00:17:21,839 --> 00:17:26,970
<font color="#E5E5E5">can draw something just in front of</font>

408
00:17:23,638 --> 00:17:28,590
everything<font color="#E5E5E5"> which one is this yeah you</font>

409
00:17:26,970 --> 00:17:32,669
can draw<font color="#CCCCCC"> Windows in</font><font color="#E5E5E5"> front of everything</font>

410
00:17:28,590 --> 00:17:34,908
<font color="#E5E5E5">on your app if you drop its early can</font>

411
00:17:32,669 --> 00:17:34,909
you tell

412
00:17:36,620 --> 00:17:40,679
<font color="#E5E5E5">managed an overlay permission inside</font>

413
00:17:38,670 --> 00:17:42,840
your app great<font color="#E5E5E5"> that's fine</font><font color="#CCCCCC"> if you</font><font color="#E5E5E5"> want</font>

414
00:17:40,680 --> 00:17:44,940
<font color="#E5E5E5">to do this on the system on the full</font>

415
00:17:42,840 --> 00:17:47,040
<font color="#CCCCCC">system you can still do</font><font color="#E5E5E5"> that you see</font>

416
00:17:44,940 --> 00:17:51,030
<font color="#E5E5E5">things like Facebook doing this all the</font>

417
00:17:47,040 --> 00:17:52,320
time with this little head bubbles<font color="#CCCCCC"> you</font>

418
00:17:51,030 --> 00:17:54,480
<font color="#E5E5E5">can still get a permission to do that</font>

419
00:17:52,320 --> 00:17:56,129
system alert<font color="#CCCCCC"> window</font><font color="#E5E5E5"> it's a restricted</font>

420
00:17:54,480 --> 00:18:01,490
<font color="#E5E5E5">permission it's a dangerous permission</font>

421
00:17:56,130 --> 00:18:06,960
<font color="#E5E5E5">you can still get it so but that's like</font>

422
00:18:01,490 --> 00:18:08,310
yeah<font color="#CCCCCC"> we had a problem for a bit where if</font>

423
00:18:06,960 --> 00:18:10,680
you were<font color="#CCCCCC"> working with</font><font color="#E5E5E5"> an app working</font>

424
00:18:08,310 --> 00:18:13,710
<font color="#E5E5E5">inside an app and it had its overlay you</font>

425
00:18:10,680 --> 00:18:19,320
switch over<font color="#CCCCCC"> to another</font><font color="#E5E5E5"> app</font><font color="#CCCCCC"> that overlay</font>

426
00:18:13,710 --> 00:18:20,700
would stay<font color="#CCCCCC"> yeah the original overlay was</font>

427
00:18:19,320 --> 00:18:23,250
still there it would then<font color="#CCCCCC"> be used</font><font color="#E5E5E5"> to</font>

428
00:18:20,700 --> 00:18:25,860
block things like from other permission

429
00:18:23,250 --> 00:18:29,610
dialogues<font color="#CCCCCC"> other useful information</font>

430
00:18:25,860 --> 00:18:31,469
coming<font color="#E5E5E5"> out of the system but it gets</font>

431
00:18:29,610 --> 00:18:33,870
<font color="#CCCCCC">worse because</font><font color="#E5E5E5"> while you're drawing that</font>

432
00:18:31,470 --> 00:18:36,450
<font color="#E5E5E5">overlay you can</font><font color="#CCCCCC"> also</font><font color="#E5E5E5"> you don't</font>

433
00:18:33,870 --> 00:18:38,790
<font color="#E5E5E5">necessarily</font><font color="#CCCCCC"> receive touch events but you</font>

434
00:18:36,450 --> 00:18:42,540
do receive<font color="#E5E5E5"> at</font><font color="#CCCCCC"> least a hint</font><font color="#E5E5E5"> of what touch</font>

435
00:18:38,790 --> 00:18:44,129
events are going<font color="#E5E5E5"> on</font><font color="#CCCCCC"> so if</font><font color="#E5E5E5"> you're drawing</font>

436
00:18:42,540 --> 00:18:45,840
<font color="#E5E5E5">over something that</font><font color="#CCCCCC"> can get a little</font>

437
00:18:44,130 --> 00:18:48,690
<font color="#CCCCCC">obvious</font><font color="#E5E5E5"> pretty quick but if you're just</font>

438
00:18:45,840 --> 00:18:53,850
drawing<font color="#E5E5E5"> invisible surfaces you can start</font>

439
00:18:48,690 --> 00:18:55,380
getting you<font color="#E5E5E5"> can like you</font><font color="#CCCCCC"> can make</font><font color="#E5E5E5"> these</font>

440
00:18:53,850 --> 00:18:57,030
surfaces so they're not getting touch

441
00:18:55,380 --> 00:18:59,190
events they're not getting any

442
00:18:57,030 --> 00:19:01,680
interaction the only sort<font color="#E5E5E5"> of data that</font>

443
00:18:59,190 --> 00:19:05,040
they're getting<font color="#E5E5E5"> is is the touch on a</font>

444
00:19:01,680 --> 00:19:06,570
surface<font color="#E5E5E5"> that's in front or in back all</font>

445
00:19:05,040 --> 00:19:08,730
these surfaces<font color="#E5E5E5"> are drawn with is the</font>

446
00:19:06,570 --> 00:19:11,280
order they're drawn in an order and then

447
00:19:08,730 --> 00:19:13,620
if you get enough surfaces they're in

448
00:19:11,280 --> 00:19:15,300
enough different places<font color="#E5E5E5"> you can just</font>

449
00:19:13,620 --> 00:19:16,860
really<font color="#E5E5E5"> start to work out where on the</font>

450
00:19:15,300 --> 00:19:19,260
screen<font color="#E5E5E5"> that</font><font color="#CCCCCC"> touches being drawn so at</font>

451
00:19:16,860 --> 00:19:21,540
<font color="#E5E5E5">this point you have a full screen</font>

452
00:19:19,260 --> 00:19:23,220
overlay you have pretty good resolution

453
00:19:21,540 --> 00:19:26,430
as to what's actually being touched

454
00:19:23,220 --> 00:19:29,400
we're just put one one<font color="#E5E5E5"> little surface</font>

455
00:19:26,430 --> 00:19:31,200
over every key<font color="#CCCCCC"> on the keyboard yeah so</font>

456
00:19:29,400 --> 00:19:32,670
if you<font color="#E5E5E5"> adjust your keyboard size or if</font>

457
00:19:31,200 --> 00:19:33,660
you adjust your keyboard layout<font color="#CCCCCC"> remember</font>

458
00:19:32,670 --> 00:19:37,290
that you were messing<font color="#E5E5E5"> with malware</font>

459
00:19:33,660 --> 00:19:39,960
developers<font color="#E5E5E5"> by a quirk of</font><font color="#CCCCCC"> are severe</font>

460
00:19:37,290 --> 00:19:42,440
severity ratings previous<font color="#E5E5E5"> owners really</font>

461
00:19:39,960 --> 00:19:45,870
<font color="#E5E5E5">was rated as high this one is</font><font color="#CCCCCC"> related</font><font color="#E5E5E5"> as</font>

462
00:19:42,440 --> 00:19:47,940
rated as moderate<font color="#E5E5E5"> because it takes just</font>

463
00:19:45,870 --> 00:19:52,469
<font color="#E5E5E5">a</font><font color="#CCCCCC"> little more effort to get</font><font color="#E5E5E5"> to needed</font>

464
00:19:47,940 --> 00:19:54,690
to exploit<font color="#CCCCCC"> a</font><font color="#E5E5E5"> previously</font><font color="#CCCCCC"> existing bug and</font>

465
00:19:52,470 --> 00:19:57,000
then there's the real problem with the

466
00:19:54,690 --> 00:20:00,509
<font color="#E5E5E5">apps</font><font color="#CCCCCC"> weakest</font><font color="#E5E5E5"> part of any computing</font>

467
00:19:57,000 --> 00:20:03,690
system<font color="#E5E5E5"> is the users</font><font color="#CCCCCC"> if</font><font color="#E5E5E5"> you send an email</font>

468
00:20:00,509 --> 00:20:06,059
<font color="#CCCCCC">you</font><font color="#E5E5E5"> can just say</font><font color="#CCCCCC"> hey attach any file on</font>

469
00:20:03,690 --> 00:20:08,820
<font color="#E5E5E5">the systems of that and then email app</font>

470
00:20:06,059 --> 00:20:12,840
can send any file it has<font color="#E5E5E5"> access</font><font color="#CCCCCC"> to which</font>

471
00:20:08,820 --> 00:20:15,059
can be its own key store<font color="#CCCCCC"> this book</font>

472
00:20:12,840 --> 00:20:18,389
<font color="#CCCCCC">actually showed up in both a both the</font>

473
00:20:15,059 --> 00:20:20,580
<font color="#CCCCCC">open</font><font color="#E5E5E5"> source mail program and Gmail so we</font>

474
00:20:18,389 --> 00:20:23,008
had to fix that<font color="#E5E5E5"> in both places but</font><font color="#CCCCCC"> Gmail</font>

475
00:20:20,580 --> 00:20:27,000
is part of the<font color="#E5E5E5"> the main Google</font><font color="#CCCCCC"> VRP</font>

476
00:20:23,009 --> 00:20:28,350
separate from the Android code it's the

477
00:20:27,000 --> 00:20:31,169
same one<font color="#CCCCCC"> the same one</font><font color="#E5E5E5"> that was</font><font color="#CCCCCC"> a high</font>

478
00:20:28,350 --> 00:20:33,240
severity string processing string

479
00:20:31,169 --> 00:20:34,919
handling<font color="#E5E5E5"> yeah we handle new lines</font><font color="#CCCCCC"> you</font>

480
00:20:33,240 --> 00:20:38,279
hook your<font color="#E5E5E5"> phone up to your watch you see</font>

481
00:20:34,919 --> 00:20:40,169
a<font color="#E5E5E5"> dialog something like this</font><font color="#CCCCCC"> you hook</font>

482
00:20:38,279 --> 00:20:44,059
your<font color="#E5E5E5"> phone up</font><font color="#CCCCCC"> to some</font><font color="#E5E5E5"> other device that</font>

483
00:20:40,169 --> 00:20:47,789
<font color="#E5E5E5">has dialogue a name something</font><font color="#CCCCCC"> like this</font>

484
00:20:44,059 --> 00:20:48,480
<font color="#E5E5E5">but it actually</font><font color="#CCCCCC"> looks a</font><font color="#E5E5E5"> little something</font>

485
00:20:47,789 --> 00:20:52,799
<font color="#CCCCCC">like this</font>

486
00:20:48,480 --> 00:20:54,120
so yeah<font color="#E5E5E5"> it's pretty innocuous since then</font>

487
00:20:52,799 --> 00:20:56,460
we moved a<font color="#E5E5E5"> lot of the placeholders and</font>

488
00:20:54,120 --> 00:21:00,059
strings around<font color="#E5E5E5"> so arbitrary strings</font>

489
00:20:56,460 --> 00:21:01,230
always go to the end<font color="#CCCCCC"> kind of</font><font color="#E5E5E5"> hurry in</font>

490
00:21:00,059 --> 00:21:03,779
through these<font color="#E5E5E5"> last few because I got a</font>

491
00:21:01,230 --> 00:21:06,600
few minutes<font color="#CCCCCC"> left</font><font color="#E5E5E5"> all right</font>

492
00:21:03,779 --> 00:21:09,210
<font color="#CCCCCC">there's a lot going on here this</font><font color="#E5E5E5"> seems</font>

493
00:21:06,600 --> 00:21:13,860
bad<font color="#CCCCCC"> I haven't thrown</font><font color="#E5E5E5"> out my phone yet so</font>

494
00:21:09,210 --> 00:21:15,090
what<font color="#E5E5E5"> are we doing</font><font color="#CCCCCC"> about it because we</font>

495
00:21:13,860 --> 00:21:16,168
have a lot of<font color="#CCCCCC"> pms on the team whose job</font>

496
00:21:15,090 --> 00:21:18,480
<font color="#E5E5E5">is to</font><font color="#CCCCCC"> find that people who are</font>

497
00:21:16,169 --> 00:21:20,970
responsible<font color="#E5E5E5"> for</font><font color="#CCCCCC"> fixing these things we</font>

498
00:21:18,480 --> 00:21:24,179
have the highest<font color="#CCCCCC"> PM to</font><font color="#E5E5E5"> engineer ratio I</font>

499
00:21:20,970 --> 00:21:26,009
believe anybody any team in<font color="#E5E5E5"> Google just</font>

500
00:21:24,179 --> 00:21:28,590
<font color="#E5E5E5">to make</font><font color="#CCCCCC"> sure</font><font color="#E5E5E5"> all these things get done</font>

501
00:21:26,009 --> 00:21:30,570
all these<font color="#CCCCCC"> things get fixed and then we</font>

502
00:21:28,590 --> 00:21:33,509
also have the authority<font color="#CCCCCC"> just fix it</font>

503
00:21:30,570 --> 00:21:34,289
ourselves<font color="#CCCCCC"> we find like here here's</font><font color="#E5E5E5"> the</font>

504
00:21:33,509 --> 00:21:35,940
<font color="#E5E5E5">bug in the kernel</font>

505
00:21:34,289 --> 00:21:38,490
I've got kernel push access I<font color="#CCCCCC"> can just</font>

506
00:21:35,940 --> 00:21:40,379
get<font color="#E5E5E5"> this change in and then the other</font>

507
00:21:38,490 --> 00:21:41,970
part of our<font color="#E5E5E5"> job is to</font><font color="#CCCCCC"> actually review</font>

508
00:21:40,379 --> 00:21:44,639
<font color="#CCCCCC">the features that</font><font color="#E5E5E5"> are coming up in later</font>

509
00:21:41,970 --> 00:21:46,110
versions<font color="#CCCCCC"> of</font><font color="#E5E5E5"> Android and every every</font>

510
00:21:44,639 --> 00:21:47,850
feature<font color="#E5E5E5"> that comes into Android comes</font>

511
00:21:46,110 --> 00:21:50,879
<font color="#E5E5E5">across my desk comes across my team's</font>

512
00:21:47,850 --> 00:21:52,918
desk<font color="#CCCCCC"> we can say</font><font color="#E5E5E5"> okay hey you're changing</font>

513
00:21:50,879 --> 00:21:55,320
the icons from<font color="#CCCCCC"> rectangles surrounded</font>

514
00:21:52,919 --> 00:21:57,299
rectangles good<font color="#E5E5E5"> seems fine</font>

515
00:21:55,320 --> 00:21:59,399
oh you're creating a new camera<font color="#E5E5E5"> hardware</font>

516
00:21:57,299 --> 00:22:01,440
interface<font color="#E5E5E5"> who's going to have access</font><font color="#CCCCCC"> to</font>

517
00:21:59,399 --> 00:22:02,939
<font color="#CCCCCC">that</font><font color="#E5E5E5"> how is that going to be controlled</font>

518
00:22:01,440 --> 00:22:05,759
what can that<font color="#CCCCCC"> actually do are you sure</font>

519
00:22:02,940 --> 00:22:08,100
you want to do this<font color="#E5E5E5"> and we even have the</font>

520
00:22:05,759 --> 00:22:10,019
power to spike a feature<font color="#E5E5E5"> if it's just</font>

521
00:22:08,100 --> 00:22:15,480
<font color="#E5E5E5">not going</font><font color="#CCCCCC"> to be something</font><font color="#E5E5E5"> we can deal</font>

522
00:22:10,019 --> 00:22:18,480
with and what can<font color="#E5E5E5"> you do about</font><font color="#CCCCCC"> this as</font>

523
00:22:15,480 --> 00:22:21,330
developers<font color="#CCCCCC"> all the same things you</font>

524
00:22:18,480 --> 00:22:24,470
<font color="#E5E5E5">always do when working with apps</font><font color="#CCCCCC"> don't</font>

525
00:22:21,330 --> 00:22:27,539
<font color="#E5E5E5">trust your inputs don't trust your users</font>

526
00:22:24,470 --> 00:22:30,840
<font color="#E5E5E5">fuzz all your stuff find everything and</font>

527
00:22:27,539 --> 00:22:33,690
if you<font color="#E5E5E5"> find stuff send it to us go</font>

528
00:22:30,840 --> 00:22:35,428
<font color="#CCCCCC">Chieko</font><font color="#E5E5E5"> Android security rewards that</font>

529
00:22:33,690 --> 00:22:37,080
should have data on<font color="#E5E5E5"> all the pricing</font>

530
00:22:35,429 --> 00:22:39,120
<font color="#E5E5E5">stall the pricing structures all of our</font>

531
00:22:37,080 --> 00:22:42,449
<font color="#E5E5E5">rates all of our recent severity</font>

532
00:22:39,120 --> 00:22:43,979
guidelines<font color="#E5E5E5"> yeah we got a few minutes</font>

533
00:22:42,450 --> 00:22:46,919
<font color="#E5E5E5">left</font><font color="#CCCCCC"> for questions if anybody has</font>

534
00:22:43,980 --> 00:22:51,210
anything<font color="#CCCCCC"> I know it's still</font><font color="#E5E5E5"> early all</font>

535
00:22:46,919 --> 00:22:55,679
still tired<font color="#E5E5E5"> from the shows last night so</font>

536
00:22:51,210 --> 00:22:56,210
yeah thanks thanks<font color="#CCCCCC"> everybody on the</font><font color="#E5E5E5"> live</font>

537
00:22:55,679 --> 00:22:59,539
<font color="#E5E5E5">stream</font><font color="#CCCCCC"> too</font>

538
00:22:56,210 --> 00:22:59,539
[Applause]

