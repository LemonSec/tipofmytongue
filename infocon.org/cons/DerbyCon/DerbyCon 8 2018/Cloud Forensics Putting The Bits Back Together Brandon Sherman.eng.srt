1
00:00:00,000 --> 00:00:03,810
so this is putting<font color="#E5E5E5"> the bits back</font>

2
00:00:01,829 --> 00:00:08,400
<font color="#CCCCCC">together</font><font color="#E5E5E5"> doing forensic investigations</font>

3
00:00:03,810 --> 00:00:09,719
in Amazon Web Services<font color="#E5E5E5"> ec2</font><font color="#CCCCCC"> if you are</font>

4
00:00:08,400 --> 00:00:12,059
here hoping for something<font color="#E5E5E5"> else I'm</font>

5
00:00:09,719 --> 00:00:13,950
<font color="#CCCCCC">really sorry to disappoint you there's</font>

6
00:00:12,059 --> 00:00:17,850
also going to be no in-flight<font color="#E5E5E5"> service</font>

7
00:00:13,950 --> 00:00:19,619
today<font color="#E5E5E5"> so further disappointment</font><font color="#CCCCCC"> a little</font>

8
00:00:17,850 --> 00:00:21,900
bit about me<font color="#CCCCCC"> my name is Brandon Sherman</font>

9
00:00:19,619 --> 00:00:25,470
<font color="#CCCCCC">I am a senior cloud security</font><font color="#E5E5E5"> engineer at</font>

10
00:00:21,900 --> 00:00:28,528
<font color="#E5E5E5">Twilio</font><font color="#CCCCCC"> we are a noted</font><font color="#E5E5E5"> clothing</font>

11
00:00:25,470 --> 00:00:31,049
manufacturer and also occasional we

12
00:00:28,529 --> 00:00:33,540
dabble in technology<font color="#E5E5E5"> we're a cloud</font>

13
00:00:31,050 --> 00:00:36,390
communications<font color="#E5E5E5"> company we make it</font>

14
00:00:33,540 --> 00:00:38,250
<font color="#E5E5E5">possible for text messages voice video</font>

15
00:00:36,390 --> 00:00:40,170
<font color="#CCCCCC">fax</font><font color="#E5E5E5"> all these different means of</font>

16
00:00:38,250 --> 00:00:43,860
<font color="#E5E5E5">communicating to</font><font color="#CCCCCC"> be accessible to</font><font color="#E5E5E5"> you</font>

17
00:00:40,170 --> 00:00:47,010
through api's<font color="#E5E5E5"> I'm also a Krav Maga</font>

18
00:00:43,860 --> 00:00:49,129
instructor in sort of my<font color="#E5E5E5"> hobby my mentor</font>

19
00:00:47,010 --> 00:00:51,510
<font color="#E5E5E5">wants to describe security as being like</font>

20
00:00:49,129 --> 00:00:53,968
being in a boxing<font color="#CCCCCC"> ring</font><font color="#E5E5E5"> and fighting</font>

21
00:00:51,510 --> 00:00:55,890
<font color="#E5E5E5">rounds until you get knocked out and</font><font color="#CCCCCC"> I</font>

22
00:00:53,969 --> 00:00:59,760
was perfect<font color="#E5E5E5"> because that's pretty much</font>

23
00:00:55,890 --> 00:01:03,210
<font color="#E5E5E5">my hobby I generally have a cloudy</font>

24
00:00:59,760 --> 00:01:06,149
outlook on life<font color="#E5E5E5"> and technology and all</font>

25
00:01:03,210 --> 00:01:08,280
that which is<font color="#CCCCCC"> only somewhat affected by</font>

26
00:01:06,150 --> 00:01:10,500
the fact<font color="#E5E5E5"> I've spent about four and a</font>

27
00:01:08,280 --> 00:01:15,540
half<font color="#E5E5E5"> five years now working with Amazon</font>

28
00:01:10,500 --> 00:01:17,580
<font color="#CCCCCC">and AWS I'm a certified cloud</font><font color="#E5E5E5"> solutions</font>

29
00:01:15,540 --> 00:01:21,270
<font color="#E5E5E5">architect professional grade which means</font>

30
00:01:17,580 --> 00:01:23,630
that I<font color="#E5E5E5"> get 20% more LinkedIn spam</font><font color="#CCCCCC"> and I</font>

31
00:01:21,270 --> 00:01:27,449
have definitely<font color="#CCCCCC"> drunk the cloud kool-aid</font>

32
00:01:23,630 --> 00:01:29,070
so what we're going<font color="#E5E5E5"> to talk</font><font color="#CCCCCC"> about</font><font color="#E5E5E5"> we're</font>

33
00:01:27,450 --> 00:01:30,869
going<font color="#E5E5E5"> to start out with why we're</font><font color="#CCCCCC"> gonna</font>

34
00:01:29,070 --> 00:01:35,429
<font color="#CCCCCC">go and</font><font color="#E5E5E5"> talk about the sort</font><font color="#CCCCCC"> of some</font>

35
00:01:30,869 --> 00:01:37,409
background on AWS<font color="#E5E5E5"> ec2 and EBS</font><font color="#CCCCCC"> quick show</font>

36
00:01:35,430 --> 00:01:42,000
of hands who<font color="#CCCCCC"> here uses</font><font color="#E5E5E5"> Amazon Web</font>

37
00:01:37,409 --> 00:01:45,270
Services cool anyone just sort of<font color="#E5E5E5"> cloud</font>

38
00:01:42,000 --> 00:01:47,000
<font color="#E5E5E5">services in general anyone just wanted</font>

39
00:01:45,270 --> 00:01:49,740
to raise<font color="#CCCCCC"> your hand</font><font color="#E5E5E5"> because you wanted to</font>

40
00:01:47,000 --> 00:01:52,200
awesome<font color="#CCCCCC"> we're going to go through the</font>

41
00:01:49,740 --> 00:01:53,520
sort of research<font color="#E5E5E5"> methodology and my</font>

42
00:01:52,200 --> 00:01:55,590
findings and then we're<font color="#E5E5E5"> going to talk</font>

43
00:01:53,520 --> 00:01:58,340
<font color="#CCCCCC">about</font><font color="#E5E5E5"> protecting your forensic data</font>

44
00:01:55,590 --> 00:02:01,500
keeping control<font color="#CCCCCC"> of that chain of custody</font>

45
00:01:58,340 --> 00:02:03,750
<font color="#E5E5E5">so one of our values that Twilio is to</font>

46
00:02:01,500 --> 00:02:06,329
start with why and personally this is

47
00:02:03,750 --> 00:02:08,250
<font color="#E5E5E5">one</font><font color="#CCCCCC"> of my</font><font color="#E5E5E5"> favorite values</font><font color="#CCCCCC"> because it</font>

48
00:02:06,329 --> 00:02:11,008
always makes you<font color="#E5E5E5"> think what sort of a</font>

49
00:02:08,250 --> 00:02:13,440
the driving<font color="#CCCCCC"> purpose behind this and one</font>

50
00:02:11,008 --> 00:02:17,369
<font color="#E5E5E5">of the big</font><font color="#CCCCCC"> reasons why is</font>

51
00:02:13,440 --> 00:02:21,300
well happens proof of<font color="#E5E5E5"> this exists</font>

52
00:02:17,370 --> 00:02:23,360
<font color="#E5E5E5">all over</font><font color="#CCCCCC"> it's good to</font><font color="#E5E5E5"> know we're gonna</font>

53
00:02:21,300 --> 00:02:27,840
need<font color="#E5E5E5"> some of these techniques eventually</font>

54
00:02:23,360 --> 00:02:29,220
so other reasons why compromises happen

55
00:02:27,840 --> 00:02:32,220
we're at a security<font color="#E5E5E5"> conference we're</font>

56
00:02:29,220 --> 00:02:36,900
talking about<font color="#E5E5E5"> how to protect data of and</font>

57
00:02:32,220 --> 00:02:39,390
from<font color="#E5E5E5"> things going wrong</font><font color="#CCCCCC"> this</font><font color="#E5E5E5"> is actually</font>

58
00:02:36,900 --> 00:02:41,790
a great side because I've given<font color="#CCCCCC"> us</font><font color="#E5E5E5"> and</font>

59
00:02:39,390 --> 00:02:44,100
one<font color="#E5E5E5"> of my co-workers like every time you</font>

60
00:02:41,790 --> 00:02:46,230
leave<font color="#E5E5E5"> that to</font><font color="#CCCCCC"> do in there and I</font><font color="#E5E5E5"> told him</font>

61
00:02:44,100 --> 00:02:49,079
it's<font color="#E5E5E5"> great because it's</font><font color="#CCCCCC"> always</font><font color="#E5E5E5"> relevant</font>

62
00:02:46,230 --> 00:02:52,130
<font color="#E5E5E5">last time it was</font><font color="#CCCCCC"> Newegg</font><font color="#E5E5E5"> last week it was</font>

63
00:02:49,080 --> 00:02:55,350
<font color="#CCCCCC">Facebook</font><font color="#E5E5E5"> who knows</font><font color="#CCCCCC"> it'll</font><font color="#E5E5E5"> be</font><font color="#CCCCCC"> next</font><font color="#E5E5E5"> week</font>

64
00:02:52,130 --> 00:03:00,660
the other<font color="#E5E5E5"> reason why is that</font><font color="#CCCCCC"> prevention</font>

65
00:02:55,350 --> 00:03:04,170
<font color="#CCCCCC">is ideal but detection is a must this</font><font color="#E5E5E5"> is</font>

66
00:03:00,660 --> 00:03:06,870
a very difficult<font color="#E5E5E5"> sort of field to be and</font>

67
00:03:04,170 --> 00:03:08,489
there's a very<font color="#CCCCCC"> good chance at one point</font>

68
00:03:06,870 --> 00:03:10,950
<font color="#E5E5E5">we're not going to get something right</font>

69
00:03:08,490 --> 00:03:13,920
<font color="#CCCCCC">and that's why it's important to know</font>

70
00:03:10,950 --> 00:03:18,000
<font color="#E5E5E5">not</font><font color="#CCCCCC"> just that we've stopped an attack</font>

71
00:03:13,920 --> 00:03:21,149
<font color="#E5E5E5">but when an attack does happen we know</font>

72
00:03:18,000 --> 00:03:24,870
the full breadth<font color="#CCCCCC"> of that attack how can</font>

73
00:03:21,150 --> 00:03:28,380
we know<font color="#CCCCCC"> how bad something</font><font color="#E5E5E5"> was if we</font>

74
00:03:24,870 --> 00:03:32,040
can't detect it<font color="#CCCCCC"> so a forensic</font>

75
00:03:28,380 --> 00:03:33,030
investigation<font color="#E5E5E5"> is investigating an event</font>

76
00:03:32,040 --> 00:03:34,920
that<font color="#E5E5E5"> happened in the past</font>

77
00:03:33,030 --> 00:03:36,570
<font color="#E5E5E5">and we're going to use scientific</font>

78
00:03:34,920 --> 00:03:38,010
techniques to do so we're<font color="#E5E5E5"> going</font><font color="#CCCCCC"> to start</font>

79
00:03:36,570 --> 00:03:39,209
out we're going<font color="#E5E5E5"> to say what we're going</font>

80
00:03:38,010 --> 00:03:40,320
to<font color="#E5E5E5"> do we're</font><font color="#CCCCCC"> going</font><font color="#E5E5E5"> to work our way</font>

81
00:03:39,209 --> 00:03:42,120
<font color="#E5E5E5">through</font><font color="#CCCCCC"> it we're going</font><font color="#E5E5E5"> to show</font><font color="#CCCCCC"> our work</font>

82
00:03:40,320 --> 00:03:45,600
<font color="#CCCCCC">and that way we can come to a</font><font color="#E5E5E5"> conclusion</font>

83
00:03:42,120 --> 00:03:48,810
at the end this<font color="#E5E5E5"> is</font><font color="#CCCCCC"> not</font><font color="#E5E5E5"> the sort</font><font color="#CCCCCC"> of</font><font color="#E5E5E5"> thing</font>

84
00:03:45,600 --> 00:03:51,390
that we want<font color="#CCCCCC"> to be doing</font><font color="#E5E5E5"> after</font><font color="#CCCCCC"> an event</font>

85
00:03:48,810 --> 00:03:54,390
we want this capability<font color="#E5E5E5"> to know how to</font>

86
00:03:51,390 --> 00:03:57,799
do<font color="#CCCCCC"> something reliably</font><font color="#E5E5E5"> and repeatedly</font>

87
00:03:54,390 --> 00:04:00,600
<font color="#E5E5E5">before something bad happens</font><font color="#CCCCCC"> and</font>

88
00:03:57,800 --> 00:04:02,520
<font color="#CCCCCC">personally I just find what's more</font>

89
00:04:00,600 --> 00:04:06,030
<font color="#E5E5E5">what's hidden a lot more interesting</font>

90
00:04:02,520 --> 00:04:08,640
than<font color="#CCCCCC"> what's visible</font><font color="#E5E5E5"> so has an attacker</font>

91
00:04:06,030 --> 00:04:12,390
deleted log files<font color="#E5E5E5"> have they caused log</font>

92
00:04:08,640 --> 00:04:14,929
files<font color="#E5E5E5"> to roll over</font><font color="#CCCCCC"> are</font><font color="#E5E5E5"> did they use some</font>

93
00:04:12,390 --> 00:04:17,940
malware dropper that erased itself

94
00:04:14,930 --> 00:04:20,160
what's what's going<font color="#CCCCCC"> on sort</font><font color="#E5E5E5"> of behind</font>

95
00:04:17,940 --> 00:04:22,079
<font color="#E5E5E5">the scenes that someone's trying</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> hide</font>

96
00:04:20,160 --> 00:04:25,470
<font color="#CCCCCC">from</font><font color="#E5E5E5"> me versus what someone's willing to</font>

97
00:04:22,079 --> 00:04:27,070
<font color="#E5E5E5">let me see so we're going to start out</font>

98
00:04:25,470 --> 00:04:30,310
and talk<font color="#E5E5E5"> about the cloud</font>

99
00:04:27,070 --> 00:04:31,990
and for the purposes of<font color="#E5E5E5"> this talk we're</font>

100
00:04:30,310 --> 00:04:35,560
just going<font color="#E5E5E5"> to say that Amazon Web</font>

101
00:04:31,990 --> 00:04:37,810
Services<font color="#CCCCCC"> is the cloud Google</font><font color="#E5E5E5"> cloud as</font>

102
00:04:35,560 --> 00:04:40,150
your other clouds out<font color="#CCCCCC"> there they exist I</font>

103
00:04:37,810 --> 00:04:42,760
don't work<font color="#E5E5E5"> with them as</font><font color="#CCCCCC"> frequently as I</font>

104
00:04:40,150 --> 00:04:46,900
do<font color="#E5E5E5"> at AWS some of these techniques</font><font color="#CCCCCC"> may</font>

105
00:04:42,760 --> 00:04:48,250
be transferable so one<font color="#CCCCCC"> of you can give</font>

106
00:04:46,900 --> 00:04:50,950
this talk next<font color="#E5E5E5"> year on a different cloud</font>

107
00:04:48,250 --> 00:04:52,960
service<font color="#E5E5E5"> this is also not supposed to be</font>

108
00:04:50,950 --> 00:04:55,690
an introductory course<font color="#CCCCCC"> to AWS saw a lot</font>

109
00:04:52,960 --> 00:04:58,870
<font color="#E5E5E5">of hands go up</font><font color="#CCCCCC"> this is also not meant to</font>

110
00:04:55,690 --> 00:05:00,940
<font color="#E5E5E5">be an advanced course in AWS I want to</font>

111
00:04:58,870 --> 00:05:03,450
give<font color="#E5E5E5"> you just what you need to know to</font>

112
00:05:00,940 --> 00:05:06,850
understand the<font color="#E5E5E5"> rest of the techniques</font>

113
00:05:03,450 --> 00:05:10,510
<font color="#E5E5E5">Amazon Web Services is</font><font color="#CCCCCC"> comprised of a</font>

114
00:05:06,850 --> 00:05:12,910
lot of<font color="#E5E5E5"> these services that's what the</font>

115
00:05:10,510 --> 00:05:16,090
console<font color="#E5E5E5"> looks like at</font><font color="#CCCCCC"> least recently</font><font color="#E5E5E5"> I</font>

116
00:05:12,910 --> 00:05:19,360
didn't check<font color="#E5E5E5"> it today we're gonna be</font>

117
00:05:16,090 --> 00:05:22,510
focusing<font color="#CCCCCC"> on four of us if you missed out</font>

118
00:05:19,360 --> 00:05:25,060
where ec2 elastic cloud compute EBS

119
00:05:22,510 --> 00:05:27,190
elastic block storage<font color="#E5E5E5"> I am which is</font>

120
00:05:25,060 --> 00:05:30,520
identity<font color="#CCCCCC"> and access management</font><font color="#E5E5E5"> and s3</font>

121
00:05:27,190 --> 00:05:38,320
the simple storage service<font color="#E5E5E5"> there in</font>

122
00:05:30,520 --> 00:05:40,719
those<font color="#E5E5E5"> spots on the console so ec2 stands</font>

123
00:05:38,320 --> 00:05:43,630
for elastic cloud compute unit of

124
00:05:40,720 --> 00:05:47,140
computation<font color="#CCCCCC"> it's essentially a virtual</font>

125
00:05:43,630 --> 00:05:49,240
<font color="#E5E5E5">machine on demand you can</font><font color="#CCCCCC"> even now rent</font>

126
00:05:47,140 --> 00:05:51,159
<font color="#E5E5E5">by the minute</font><font color="#CCCCCC"> they're</font><font color="#E5E5E5"> metal instances</font>

127
00:05:49,240 --> 00:05:53,260
<font color="#E5E5E5">from Amazon which is another interesting</font>

128
00:05:51,160 --> 00:05:56,970
<font color="#E5E5E5">concept but they all have</font><font color="#CCCCCC"> different</font>

129
00:05:53,260 --> 00:06:01,900
capabilities in terms<font color="#CCCCCC"> of</font><font color="#E5E5E5"> CPU</font><font color="#CCCCCC"> RAM</font>

130
00:05:56,970 --> 00:06:03,670
networking GPUs etc it's very very

131
00:06:01,900 --> 00:06:06,729
<font color="#E5E5E5">simple you click</font><font color="#CCCCCC"> a</font><font color="#E5E5E5"> button and you get a</font>

132
00:06:03,670 --> 00:06:08,740
server<font color="#E5E5E5"> if you have an API you hit that</font>

133
00:06:06,730 --> 00:06:10,810
API endpoint<font color="#E5E5E5"> you get another server if</font>

134
00:06:08,740 --> 00:06:12,670
you have a script<font color="#E5E5E5"> with a loop you hit</font>

135
00:06:10,810 --> 00:06:15,460
the API a lot and you<font color="#E5E5E5"> get a lot of</font>

136
00:06:12,670 --> 00:06:17,080
<font color="#E5E5E5">servers by default all of these servers</font>

137
00:06:15,460 --> 00:06:19,390
<font color="#CCCCCC">are</font><font color="#E5E5E5"> going to be scattered through the</font>

138
00:06:17,080 --> 00:06:22,210
<font color="#E5E5E5">data center they have shared tendency</font>

139
00:06:19,390 --> 00:06:24,159
<font color="#E5E5E5">but if your security needs</font><font color="#CCCCCC"> require then</font>

140
00:06:22,210 --> 00:06:25,570
you can use dedicated<font color="#E5E5E5"> tenancy and that</font>

141
00:06:24,160 --> 00:06:27,580
way you<font color="#E5E5E5"> know that your neighbor is on</font>

142
00:06:25,570 --> 00:06:33,219
the hypervisor<font color="#CCCCCC"> are at</font><font color="#E5E5E5"> least other</font>

143
00:06:27,580 --> 00:06:36,700
instances<font color="#E5E5E5"> owned by you a starting point</font>

144
00:06:33,220 --> 00:06:40,520
<font color="#E5E5E5">the sort of golden boot image for an ec2</font>

145
00:06:36,700 --> 00:06:43,560
image<font color="#E5E5E5"> is an ami it's an Amazon machine</font>

146
00:06:40,520 --> 00:06:45,900
this is the initial host<font color="#E5E5E5"> operating</font>

147
00:06:43,560 --> 00:06:49,890
<font color="#CCCCCC">system any configuration any soft</font><font color="#E5E5E5"> earth</font>

148
00:06:45,900 --> 00:06:52,380
sort of the initial bootstrapping<font color="#E5E5E5"> it's</font>

149
00:06:49,890 --> 00:06:55,469
possible to create<font color="#E5E5E5"> one of these machine</font>

150
00:06:52,380 --> 00:06:56,820
images from a running<font color="#CCCCCC"> instance</font><font color="#E5E5E5"> and this</font>

151
00:06:55,470 --> 00:06:59,430
<font color="#CCCCCC">is</font><font color="#E5E5E5"> going to include any configuration</font>

152
00:06:56,820 --> 00:07:01,370
<font color="#CCCCCC">files and</font><font color="#E5E5E5"> software on that instance</font>

153
00:06:59,430 --> 00:07:03,450
<font color="#E5E5E5">makes it very easy</font><font color="#CCCCCC"> if you need to</font>

154
00:07:01,370 --> 00:07:04,920
duplicate<font color="#E5E5E5"> a server to just create an</font>

155
00:07:03,450 --> 00:07:07,140
image<font color="#E5E5E5"> from it and launch a new server</font>

156
00:07:04,920 --> 00:07:10,710
<font color="#E5E5E5">but this is going to come back a little</font>

157
00:07:07,140 --> 00:07:13,469
<font color="#E5E5E5">bit later in the talk some instances</font>

158
00:07:10,710 --> 00:07:17,580
have what's called<font color="#E5E5E5"> instant storage</font><font color="#CCCCCC"> some</font>

159
00:07:13,470 --> 00:07:19,500
of them don't<font color="#CCCCCC"> this</font><font color="#E5E5E5"> is sure shocking the</font>

160
00:07:17,580 --> 00:07:22,590
instant storage though is is interesting

161
00:07:19,500 --> 00:07:24,180
<font color="#CCCCCC">from</font><font color="#E5E5E5"> a forensic standpoint and from a</font>

162
00:07:22,590 --> 00:07:26,549
security<font color="#E5E5E5"> standpoint because</font><font color="#CCCCCC"> it's</font>

163
00:07:24,180 --> 00:07:29,870
ephemeral<font color="#CCCCCC"> it's directly</font><font color="#E5E5E5"> connected</font><font color="#CCCCCC"> it's</font>

164
00:07:26,550 --> 00:07:32,370
<font color="#E5E5E5">very fast</font><font color="#CCCCCC"> but</font><font color="#E5E5E5"> it's also designed to</font>

165
00:07:29,870 --> 00:07:36,540
<font color="#E5E5E5">basically go away once your instance</font>

166
00:07:32,370 --> 00:07:39,720
stops<font color="#E5E5E5"> running</font><font color="#CCCCCC"> this</font><font color="#E5E5E5"> is in contrast</font><font color="#CCCCCC"> to an</font>

167
00:07:36,540 --> 00:07:42,090
EBS volume elastic block storage<font color="#E5E5E5"> this is</font>

168
00:07:39,720 --> 00:07:46,110
where you request a volume<font color="#E5E5E5"> you say I</font>

169
00:07:42,090 --> 00:07:49,859
want a 15 gigabyte<font color="#E5E5E5"> volume and I want it</font>

170
00:07:46,110 --> 00:07:51,300
attached<font color="#E5E5E5"> to this host kind of sort of</font>

171
00:07:49,860 --> 00:07:54,150
think of<font color="#E5E5E5"> it like</font><font color="#CCCCCC"> Network attacked</font>

172
00:07:51,300 --> 00:07:56,370
storage but it<font color="#E5E5E5"> shows up locally and</font>

173
00:07:54,150 --> 00:08:00,239
there's different<font color="#E5E5E5"> backing mechanisms</font>

174
00:07:56,370 --> 00:08:03,650
behind<font color="#E5E5E5"> EBS so these days if you want</font>

175
00:08:00,240 --> 00:08:06,210
<font color="#E5E5E5">block storage you get five different</font>

176
00:08:03,650 --> 00:08:08,880
<font color="#CCCCCC">options</font><font color="#E5E5E5"> and they all have a backing</font>

177
00:08:06,210 --> 00:08:10,349
between spinning<font color="#CCCCCC"> disks solid-state disk</font>

178
00:08:08,880 --> 00:08:14,340
<font color="#E5E5E5">different throughputs difference in</font>

179
00:08:10,350 --> 00:08:18,080
maximum sizes<font color="#E5E5E5"> different prices naturally</font>

180
00:08:14,340 --> 00:08:20,900
charged in cents per gigabyte<font color="#E5E5E5"> per month</font>

181
00:08:18,080 --> 00:08:23,460
<font color="#E5E5E5">which is fun</font><font color="#CCCCCC"> for your accounting teams</font>

182
00:08:20,900 --> 00:08:25,799
<font color="#CCCCCC">but</font><font color="#E5E5E5"> this is this is sort of when you</font>

183
00:08:23,460 --> 00:08:28,260
<font color="#E5E5E5">want a persistent disk that won't go</font>

184
00:08:25,800 --> 00:08:31,410
away<font color="#E5E5E5"> once your instance does you use a</font>

185
00:08:28,260 --> 00:08:33,750
<font color="#CCCCCC">PS volume but the cool thing is</font><font color="#E5E5E5"> that</font>

186
00:08:31,410 --> 00:08:36,960
<font color="#E5E5E5">they</font><font color="#CCCCCC"> all have the same</font><font color="#E5E5E5"> annualized</font>

187
00:08:33,750 --> 00:08:39,539
failure rate<font color="#CCCCCC"> between</font><font color="#E5E5E5"> point</font><font color="#CCCCCC"> 1 and point 2</font>

188
00:08:36,960 --> 00:08:42,870
<font color="#E5E5E5">percent doesn't</font><font color="#CCCCCC"> matter how big doesn't</font>

189
00:08:39,539 --> 00:08:46,620
<font color="#E5E5E5">matter what backing</font><font color="#CCCCCC"> material is none of</font>

190
00:08:42,870 --> 00:08:50,390
that matters it just fails<font color="#E5E5E5"> about an</font>

191
00:08:46,620 --> 00:08:53,040
order<font color="#E5E5E5"> of a magnitude less than a</font>

192
00:08:50,390 --> 00:08:57,310
commodity<font color="#CCCCCC"> off-the-shelf hard drive</font>

193
00:08:53,040 --> 00:09:00,610
so how does Amazon guarantee this

194
00:08:57,310 --> 00:09:02,109
<font color="#E5E5E5">failure rate across multiple drives or</font>

195
00:09:00,610 --> 00:09:05,470
rather how do they<font color="#CCCCCC"> guarantee this</font>

196
00:09:02,110 --> 00:09:07,510
failure<font color="#E5E5E5"> rate</font><font color="#CCCCCC"> in a single Drive</font><font color="#E5E5E5"> that is</font>

197
00:09:05,470 --> 00:09:11,170
made up of<font color="#CCCCCC"> something mysterious</font><font color="#E5E5E5"> on the</font>

198
00:09:07,510 --> 00:09:13,839
<font color="#CCCCCC">backend</font><font color="#E5E5E5"> it's about like</font><font color="#CCCCCC"> twenty times</font>

199
00:09:11,170 --> 00:09:15,760
<font color="#CCCCCC">more</font><font color="#E5E5E5"> durable than a hard drive</font><font color="#CCCCCC"> you could</font>

200
00:09:13,839 --> 00:09:19,120
<font color="#E5E5E5">go out and buy and stick in your laptop</font>

201
00:09:15,760 --> 00:09:21,910
<font color="#E5E5E5">or a server in</font><font color="#CCCCCC"> your rack</font><font color="#E5E5E5"> so is this</font>

202
00:09:19,120 --> 00:09:27,930
magic well probably<font color="#E5E5E5"> something a little</font>

203
00:09:21,910 --> 00:09:31,060
bit more sinister than that so to recap

204
00:09:27,930 --> 00:09:33,089
<font color="#E5E5E5">elastic block storage is disk storage</font>

205
00:09:31,060 --> 00:09:36,040
<font color="#E5E5E5">that's actually</font><font color="#CCCCCC"> network-attached storage</font>

206
00:09:33,089 --> 00:09:38,230
<font color="#E5E5E5">that</font><font color="#CCCCCC"> has different</font><font color="#E5E5E5"> capabilities that</font>

207
00:09:36,040 --> 00:09:39,790
depending on which type<font color="#CCCCCC"> of instance you</font>

208
00:09:38,230 --> 00:09:42,970
<font color="#CCCCCC">are attaching</font><font color="#E5E5E5"> it to will show up either</font>

209
00:09:39,790 --> 00:09:46,120
on<font color="#CCCCCC"> the side of</font><font color="#E5E5E5"> us or the nvme</font><font color="#CCCCCC"> pci bus</font>

210
00:09:42,970 --> 00:09:49,630
it had can be dynamically sized<font color="#E5E5E5"> upwards</font>

211
00:09:46,120 --> 00:09:52,120
but<font color="#E5E5E5"> it's statically allocated they fail</font>

212
00:09:49,630 --> 00:09:55,839
<font color="#CCCCCC">one xx as often as a regular</font>

213
00:09:52,120 --> 00:09:59,530
off-the-shelf drive and you<font color="#E5E5E5"> can take a</font>

214
00:09:55,839 --> 00:10:01,270
snapshot<font color="#CCCCCC"> of</font><font color="#E5E5E5"> them with an API call the</font>

215
00:09:59,530 --> 00:10:02,740
contents of that snapshot<font color="#E5E5E5"> is kind of</font>

216
00:10:01,270 --> 00:10:04,630
what we really<font color="#CCCCCC"> get</font><font color="#E5E5E5"> into in this talk</font>

217
00:10:02,740 --> 00:10:07,660
<font color="#CCCCCC">because with all of this magic</font><font color="#E5E5E5"> going on</font>

218
00:10:04,630 --> 00:10:10,030
or this this dark black magic that's

219
00:10:07,660 --> 00:10:11,680
happening in the<font color="#CCCCCC"> background is the</font>

220
00:10:10,030 --> 00:10:14,640
snapshot something that we can use<font color="#CCCCCC"> to</font>

221
00:10:11,680 --> 00:10:17,140
<font color="#CCCCCC">make a forensic investigation possible</font>

222
00:10:14,640 --> 00:10:18,850
we're also going to talk<font color="#CCCCCC"> about a</font><font color="#E5E5E5"> little</font>

223
00:10:17,140 --> 00:10:21,250
<font color="#E5E5E5">bit of knowledge for</font><font color="#CCCCCC"> Identity and Access</font>

224
00:10:18,850 --> 00:10:24,339
<font color="#CCCCCC">Management</font><font color="#E5E5E5"> this is pretty</font><font color="#CCCCCC"> fine-grained</font>

225
00:10:21,250 --> 00:10:27,490
permission controls<font color="#E5E5E5"> who can do what when</font>

226
00:10:24,339 --> 00:10:29,140
where why<font color="#E5E5E5"> but for</font><font color="#CCCCCC"> example</font><font color="#E5E5E5"> taking</font>

227
00:10:27,490 --> 00:10:32,200
snapshots is a<font color="#E5E5E5"> permission that can be</font>

228
00:10:29,140 --> 00:10:34,480
granted<font color="#E5E5E5"> or also restricted deleting</font>

229
00:10:32,200 --> 00:10:37,480
snapshots<font color="#E5E5E5"> likewise is a permission</font><font color="#CCCCCC"> that</font>

230
00:10:34,480 --> 00:10:39,250
can be granted or restricted and this

231
00:10:37,480 --> 00:10:43,290
really comes into<font color="#E5E5E5"> the chain of custody</font>

232
00:10:39,250 --> 00:10:46,990
that's going to be<font color="#E5E5E5"> necessary to follow a</font>

233
00:10:43,290 --> 00:10:50,920
to ensure that<font color="#E5E5E5"> these</font><font color="#CCCCCC"> snapshots are kept</font>

234
00:10:46,990 --> 00:10:56,320
safe s3<font color="#E5E5E5"> so right you can take a snapshot</font>

235
00:10:50,920 --> 00:10:58,599
<font color="#CCCCCC">of that</font><font color="#E5E5E5"> volume it gets stored in s3 the</font>

236
00:10:56,320 --> 00:11:00,760
snapshots don't have to be done when

237
00:10:58,600 --> 00:11:02,589
that<font color="#E5E5E5"> EBS volume is offline and detached</font>

238
00:11:00,760 --> 00:11:04,990
you can take a snapshot<font color="#E5E5E5"> from a running</font>

239
00:11:02,589 --> 00:11:06,940
instance<font color="#E5E5E5"> Amazon warns you that</font><font color="#CCCCCC"> you</font><font color="#E5E5E5"> might</font>

240
00:11:04,990 --> 00:11:08,620
see data inconsistencies<font color="#E5E5E5"> I've</font>

241
00:11:06,940 --> 00:11:11,020
personally never seen<font color="#CCCCCC"> one really go</font>

242
00:11:08,620 --> 00:11:13,870
wrong<font color="#E5E5E5"> but it's it</font><font color="#CCCCCC"> is possible</font><font color="#E5E5E5"> you're</font>

243
00:11:11,020 --> 00:11:17,079
taking a snapshot of a running moving

244
00:11:13,870 --> 00:11:20,920
desk with data flying on it<font color="#CCCCCC"> these</font>

245
00:11:17,080 --> 00:11:26,040
snapshots<font color="#E5E5E5"> are stored in s3</font><font color="#CCCCCC"> and they're</font>

246
00:11:20,920 --> 00:11:31,030
immutable<font color="#CCCCCC"> they're the a.m. eyes are</font>

247
00:11:26,040 --> 00:11:33,370
special EBS snapshots<font color="#CCCCCC"> so</font><font color="#E5E5E5"> an ami is just</font>

248
00:11:31,030 --> 00:11:35,370
an EVs snapshot<font color="#E5E5E5"> that's been blessed</font><font color="#CCCCCC"> so</font>

249
00:11:33,370 --> 00:11:39,400
that way you can use<font color="#CCCCCC"> it as a boot volume</font>

250
00:11:35,370 --> 00:11:41,470
<font color="#E5E5E5">and you can launch</font><font color="#CCCCCC"> your volume from</font>

251
00:11:39,400 --> 00:11:43,329
these<font color="#CCCCCC"> a.m. eyes but you can launch on</font>

252
00:11:41,470 --> 00:11:46,630
either to<font color="#E5E5E5"> start with</font><font color="#CCCCCC"> EBS or</font><font color="#E5E5E5"> a ephemeral</font>

253
00:11:43,330 --> 00:11:48,430
storage<font color="#CCCCCC"> and it kind of</font><font color="#E5E5E5"> matters</font><font color="#CCCCCC"> just sort</font>

254
00:11:46,630 --> 00:11:50,439
of for performance and<font color="#E5E5E5"> what you want to</font>

255
00:11:48,430 --> 00:11:53,280
<font color="#E5E5E5">get out of</font><font color="#CCCCCC"> your your virtual hardware</font>

256
00:11:50,440 --> 00:11:57,460
but the snapshots

257
00:11:53,280 --> 00:11:59,439
they're also<font color="#E5E5E5"> versioned they're not sort</font>

258
00:11:57,460 --> 00:12:01,300
of<font color="#E5E5E5"> version 1 version 2 version 3 but</font>

259
00:11:59,440 --> 00:12:03,700
each<font color="#E5E5E5"> time</font><font color="#CCCCCC"> you take</font><font color="#E5E5E5"> a snapshot of a</font><font color="#CCCCCC"> disc</font>

260
00:12:01,300 --> 00:12:05,770
<font color="#E5E5E5">you get a new snapshot ID you're only</font>

261
00:12:03,700 --> 00:12:07,810
charged and the<font color="#E5E5E5"> only parts of the</font>

262
00:12:05,770 --> 00:12:09,430
<font color="#E5E5E5">snapshot that are taken and kept are the</font>

263
00:12:07,810 --> 00:12:12,819
parts that are different<font color="#E5E5E5"> from the</font>

264
00:12:09,430 --> 00:12:16,120
earlier snapshot so your v1 snapshot ID

265
00:12:12,820 --> 00:12:18,280
is<font color="#CCCCCC"> gonna be the full disk then v2</font><font color="#E5E5E5"> v3</font><font color="#CCCCCC"> v4</font>

266
00:12:16,120 --> 00:12:20,800
v5<font color="#E5E5E5"> as long as you keep taking snapshots</font>

267
00:12:18,280 --> 00:12:24,060
<font color="#CCCCCC">will get</font><font color="#E5E5E5"> different IDs but may only be a</font>

268
00:12:20,800 --> 00:12:26,500
few<font color="#CCCCCC"> bytes different</font><font color="#E5E5E5"> if you need to</font>

269
00:12:24,060 --> 00:12:27,459
delete a<font color="#E5E5E5"> middle snapshot you might be</font>

270
00:12:26,500 --> 00:12:30,430
waiting<font color="#E5E5E5"> a</font><font color="#CCCCCC"> while because you've got to</font>

271
00:12:27,460 --> 00:12:33,490
compute the diffs on both sides but this

272
00:12:30,430 --> 00:12:36,729
also<font color="#CCCCCC"> means that</font><font color="#E5E5E5"> we</font><font color="#CCCCCC"> can take a snapshot</font>

273
00:12:33,490 --> 00:12:38,800
<font color="#E5E5E5">of a volume multiple times maybe you</font>

274
00:12:36,730 --> 00:12:40,090
don't want<font color="#CCCCCC"> to terminate</font><font color="#E5E5E5"> an instance</font>

275
00:12:38,800 --> 00:12:41,620
right away you suspect that<font color="#E5E5E5"> it's</font>

276
00:12:40,090 --> 00:12:43,570
compromised<font color="#CCCCCC"> you want to do an</font>

277
00:12:41,620 --> 00:12:45,370
investigation<font color="#CCCCCC"> but you don't want to take</font>

278
00:12:43,570 --> 00:12:47,560
it<font color="#E5E5E5"> offline so you don't tip your hand in</font>

279
00:12:45,370 --> 00:12:51,160
this way you can<font color="#E5E5E5"> keep seeing what's on</font>

280
00:12:47,560 --> 00:12:53,079
the<font color="#E5E5E5"> disk</font><font color="#CCCCCC"> without necessarily taking it</font>

281
00:12:51,160 --> 00:12:57,610
offline<font color="#E5E5E5"> taking a snapshot and</font><font color="#CCCCCC"> then doing</font>

282
00:12:53,080 --> 00:13:01,770
an<font color="#E5E5E5"> inspection of it all right story time</font>

283
00:12:57,610 --> 00:13:04,930
<font color="#E5E5E5">so we have</font><font color="#CCCCCC"> four</font><font color="#E5E5E5"> different players people</font>

284
00:13:01,770 --> 00:13:08,530
<font color="#E5E5E5">and they are</font><font color="#CCCCCC"> all going</font><font color="#E5E5E5"> to play a game</font><font color="#CCCCCC"> of</font>

285
00:13:04,930 --> 00:13:11,140
Clue<font color="#E5E5E5"> clue is a trademark of Milton</font>

286
00:13:08,530 --> 00:13:13,569
Bradley EBS is a trademark<font color="#E5E5E5"> of Amazon and</font>

287
00:13:11,140 --> 00:13:19,379
we're<font color="#CCCCCC"> gonna pretend that</font><font color="#E5E5E5"> the clue board</font>

288
00:13:13,570 --> 00:13:22,470
is a hard<font color="#E5E5E5"> drive rather a EBS volume</font>

289
00:13:19,379 --> 00:13:24,299
and each square here is a a block<font color="#CCCCCC"> that</font>

290
00:13:22,470 --> 00:13:29,309
data has<font color="#E5E5E5"> been written to</font><font color="#CCCCCC"> a player has</font>

291
00:13:24,299 --> 00:13:31,139
<font color="#CCCCCC">been</font><font color="#E5E5E5"> has</font><font color="#CCCCCC"> been moved through so clue if</font>

292
00:13:29,309 --> 00:13:33,089
you don't know it's a<font color="#E5E5E5"> classic whodunit</font>

293
00:13:31,139 --> 00:13:34,769
<font color="#CCCCCC">you're trying to figure out</font><font color="#E5E5E5"> by moving</font>

294
00:13:33,089 --> 00:13:37,259
<font color="#E5E5E5">around the board and picking up clues</font>

295
00:13:34,769 --> 00:13:39,779
<font color="#E5E5E5">who did what</font>

296
00:13:37,259 --> 00:13:41,999
so did miss white<font color="#E5E5E5"> erase the log files in</font>

297
00:13:39,779 --> 00:13:44,159
<font color="#E5E5E5">the library was it Colonel Mustard in</font>

298
00:13:41,999 --> 00:13:46,889
<font color="#CCCCCC">the kitchen who was</font><font color="#E5E5E5"> forcing log files to</font>

299
00:13:44,159 --> 00:13:49,259
roll over<font color="#CCCCCC"> and hide his tracks</font><font color="#E5E5E5"> well let's</font>

300
00:13:46,889 --> 00:13:50,879
take a snapshot and<font color="#E5E5E5"> investigate if only</font>

301
00:13:49,259 --> 00:13:55,109
we could<font color="#CCCCCC"> see past turns that had been</font>

302
00:13:50,879 --> 00:13:56,939
deleted<font color="#E5E5E5"> that were on the board hmm so if</font>

303
00:13:55,109 --> 00:13:59,819
we take a<font color="#CCCCCC"> snapshot of</font><font color="#E5E5E5"> an EB</font><font color="#CCCCCC"> som one of</font>

304
00:13:56,939 --> 00:14:03,959
these API calls his that snapshot going

305
00:13:59,819 --> 00:14:07,738
to contain in use blocks<font color="#E5E5E5"> or does it also</font>

306
00:14:03,959 --> 00:14:11,219
contain<font color="#E5E5E5"> the deleted blocks by</font><font color="#CCCCCC"> Omega it's</font>

307
00:14:07,739 --> 00:14:14,339
a ext4<font color="#CCCCCC"> file system I delete a file it's</font>

308
00:14:11,220 --> 00:14:16,829
very easy<font color="#E5E5E5"> to understand that from a</font><font color="#CCCCCC"> sort</font>

309
00:14:14,339 --> 00:14:20,369
of hypervisor level<font color="#E5E5E5"> maybe those files</font>

310
00:14:16,829 --> 00:14:22,559
just<font color="#E5E5E5"> aren't included in a snapshot does</font>

311
00:14:20,369 --> 00:14:25,409
<font color="#CCCCCC">it matter what that original</font><font color="#E5E5E5"> volume</font><font color="#CCCCCC"> pipe</font>

312
00:14:22,559 --> 00:14:27,600
is<font color="#E5E5E5"> Amazon originally had just the</font>

313
00:14:25,409 --> 00:14:29,729
standard<font color="#E5E5E5"> EBS storage but now there's</font>

314
00:14:27,600 --> 00:14:32,789
four new<font color="#CCCCCC"> ones doesn't matter what that</font>

315
00:14:29,729 --> 00:14:35,249
<font color="#E5E5E5">is and doesn't matter what the instance</font>

316
00:14:32,789 --> 00:14:37,470
type is because<font color="#E5E5E5"> these</font><font color="#CCCCCC"> disks</font><font color="#E5E5E5"> can show up</font>

317
00:14:35,249 --> 00:14:39,929
on either the nvme or SATA thus

318
00:14:37,470 --> 00:14:41,159
depending on which generation instance

319
00:14:39,929 --> 00:14:43,949
they're attached to<font color="#CCCCCC"> is</font><font color="#E5E5E5"> that going to</font>

320
00:14:41,159 --> 00:14:47,879
affect our ability<font color="#CCCCCC"> to either</font><font color="#E5E5E5"> recover</font>

321
00:14:43,949 --> 00:14:51,358
data or<font color="#CCCCCC"> sorry is that going</font><font color="#E5E5E5"> to affect</font>

322
00:14:47,879 --> 00:14:53,399
<font color="#E5E5E5">our ability</font><font color="#CCCCCC"> to delete data secure from</font>

323
00:14:51,359 --> 00:14:56,100
these drives and make it impossible to

324
00:14:53,399 --> 00:14:59,369
<font color="#CCCCCC">find</font><font color="#E5E5E5"> or affect our ability</font><font color="#CCCCCC"> to do the</font>

325
00:14:56,100 --> 00:15:02,789
<font color="#E5E5E5">recovery so here's the steps that I</font>

326
00:14:59,369 --> 00:15:06,299
followed start out by launching a bunch

327
00:15:02,789 --> 00:15:08,459
of ec2 instances take an EVs volume of

328
00:15:06,299 --> 00:15:11,129
each type attach it to each type<font color="#CCCCCC"> of</font>

329
00:15:08,459 --> 00:15:13,799
instance<font color="#E5E5E5"> write some known seed files</font>

330
00:15:11,129 --> 00:15:17,819
that I pulled off<font color="#CCCCCC"> of my hard drive right</font>

331
00:15:13,799 --> 00:15:21,649
<font color="#CCCCCC">up to the</font><font color="#E5E5E5"> EBS volumes then delete those</font>

332
00:15:17,819 --> 00:15:24,419
files<font color="#E5E5E5"> use the API to trigger a snapshot</font>

333
00:15:21,649 --> 00:15:26,819
<font color="#E5E5E5">once I have those snapshots rehydrate</font>

334
00:15:24,419 --> 00:15:28,999
them<font color="#E5E5E5"> onto a brand-new clean EVS volume</font>

335
00:15:26,819 --> 00:15:31,738
and then go looking<font color="#CCCCCC"> for files</font><font color="#E5E5E5"> and</font>

336
00:15:28,999 --> 00:15:32,970
because<font color="#CCCCCC"> this is all through</font><font color="#E5E5E5"> API is I was</font>

337
00:15:31,739 --> 00:15:35,759
able<font color="#CCCCCC"> to write some very quick</font>

338
00:15:32,970 --> 00:15:40,620
dirty scripts<font color="#CCCCCC"> that basically said let's</font>

339
00:15:35,759 --> 00:15:43,620
you want to start<font color="#E5E5E5"> burning some cash so</font>

340
00:15:40,620 --> 00:15:45,779
this is the what it looks like to burn

341
00:15:43,620 --> 00:15:48,779
virtual money<font color="#E5E5E5"> in a virtual console</font><font color="#CCCCCC"> a</font>

342
00:15:45,779 --> 00:15:52,889
whole<font color="#E5E5E5"> bunch</font><font color="#CCCCCC"> of instances</font><font color="#E5E5E5"> coming online</font>

343
00:15:48,779 --> 00:15:54,750
I used the<font color="#CCCCCC"> aw system service manager</font>

344
00:15:52,889 --> 00:15:58,350
<font color="#E5E5E5">which is just a way basically</font><font color="#CCCCCC"> for me to</font>

345
00:15:54,750 --> 00:15:59,939
run some commands<font color="#CCCCCC"> across</font><font color="#E5E5E5"> all the</font>

346
00:15:58,350 --> 00:16:01,920
machines<font color="#CCCCCC"> without having to write an ssh</font>

347
00:15:59,939 --> 00:16:04,290
script or use<font color="#E5E5E5"> any other</font><font color="#CCCCCC"> kind of tooling</font>

348
00:16:01,920 --> 00:16:07,410
basically just grab these files<font color="#CCCCCC"> right up</font>

349
00:16:04,290 --> 00:16:09,509
to disk<font color="#CCCCCC"> flushed out</font><font color="#E5E5E5"> the file buffers</font>

350
00:16:07,410 --> 00:16:13,500
<font color="#E5E5E5">wait makes</font><font color="#CCCCCC"> they're really truly flushed</font>

351
00:16:09,509 --> 00:16:16,889
<font color="#E5E5E5">delete those files and then again sync</font>

352
00:16:13,500 --> 00:16:18,870
the the file buffers<font color="#CCCCCC"> so that goes it</font>

353
00:16:16,889 --> 00:16:22,290
runs and then i targeted<font color="#E5E5E5"> twenty</font>

354
00:16:18,870 --> 00:16:25,079
instances and I<font color="#CCCCCC"> got tells me it all</font>

355
00:16:22,290 --> 00:16:27,899
around successfully<font color="#E5E5E5"> and then since I'm</font>

356
00:16:25,079 --> 00:16:31,500
not made of<font color="#CCCCCC"> money go ahead and terminate</font>

357
00:16:27,899 --> 00:16:33,060
and shut all these<font color="#E5E5E5"> instances down so if</font>

358
00:16:31,500 --> 00:16:36,209
we're<font color="#E5E5E5"> gonna go back</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> our clue board</font>

359
00:16:33,060 --> 00:16:38,849
game analogy<font color="#E5E5E5"> in the sort of the magic</font>

360
00:16:36,209 --> 00:16:43,349
<font color="#E5E5E5">clew console we triggered a snapshot of</font>

361
00:16:38,850 --> 00:16:46,110
<font color="#E5E5E5">the board in its final state</font><font color="#CCCCCC"> and</font><font color="#E5E5E5"> we've</font>

362
00:16:43,350 --> 00:16:47,670
done<font color="#E5E5E5"> this against for whatever the ec2</font>

363
00:16:46,110 --> 00:16:49,259
instance right the magic controller of

364
00:16:47,670 --> 00:16:50,969
that<font color="#CCCCCC"> clear</font><font color="#E5E5E5"> board we took a snapshot of</font>

365
00:16:49,259 --> 00:16:52,860
<font color="#CCCCCC">that we're going to go ahead and see</font>

366
00:16:50,970 --> 00:16:56,639
what happened<font color="#E5E5E5"> to that board game what</font>

367
00:16:52,860 --> 00:16:59,399
happened in that<font color="#E5E5E5"> volume to</font><font color="#CCCCCC"> do the</font>

368
00:16:56,639 --> 00:17:03,199
digging<font color="#CCCCCC"> i used software called</font>

369
00:16:59,399 --> 00:17:07,829
<font color="#CCCCCC">photo rack photorec is freely available</font>

370
00:17:03,199 --> 00:17:09,899
<font color="#CCCCCC">it's really really awesome software it's</font>

371
00:17:07,829 --> 00:17:12,000
used to it looks at the raw blocks of a

372
00:17:09,900 --> 00:17:14,280
<font color="#CCCCCC">disk</font><font color="#E5E5E5"> and compares that data to known</font>

373
00:17:12,000 --> 00:17:16,890
file signatures<font color="#CCCCCC"> is</font><font color="#E5E5E5"> anyone ever used</font>

374
00:17:14,280 --> 00:17:18,720
photorec before yeah

375
00:17:16,890 --> 00:17:22,230
vacation photos or something<font color="#CCCCCC"> like that</font>

376
00:17:18,720 --> 00:17:23,429
on a card<font color="#CCCCCC"> wipe by accident maybe yeah</font>

377
00:17:22,230 --> 00:17:28,470
<font color="#CCCCCC">I've never</font><font color="#E5E5E5"> done</font><font color="#CCCCCC"> that</font>

378
00:17:23,429 --> 00:17:30,990
never<font color="#E5E5E5"> so what it does is it doesn't</font>

379
00:17:28,470 --> 00:17:33,570
understand<font color="#E5E5E5"> file systems it just knows</font>

380
00:17:30,990 --> 00:17:37,200
when I look at a block on<font color="#E5E5E5"> disk does this</font>

381
00:17:33,570 --> 00:17:38,580
match<font color="#CCCCCC"> an own signature of a file type is</font>

382
00:17:37,200 --> 00:17:41,700
does this look like<font color="#E5E5E5"> an image does this</font>

383
00:17:38,580 --> 00:17:43,550
look like<font color="#E5E5E5"> a PDF what can I do from and</font>

384
00:17:41,700 --> 00:17:48,260
then go from<font color="#E5E5E5"> there</font>

385
00:17:43,550 --> 00:17:49,970
so my forensics<font color="#E5E5E5"> script was to take each</font>

386
00:17:48,260 --> 00:17:52,970
of these<font color="#E5E5E5"> snapshots that I had in the</font>

387
00:17:49,970 --> 00:17:56,480
console rehydrate those to a<font color="#E5E5E5"> brand new</font>

388
00:17:52,970 --> 00:17:58,340
<font color="#E5E5E5">EBS volume attached that EBS volume to a</font>

389
00:17:56,480 --> 00:18:00,410
forensics investigation instance and

390
00:17:58,340 --> 00:18:03,980
then run<font color="#E5E5E5"> photo rack and start looking</font>

391
00:18:00,410 --> 00:18:07,940
for deleted files<font color="#E5E5E5"> and so this is just an</font>

392
00:18:03,980 --> 00:18:11,300
example of<font color="#E5E5E5"> the script running so it goes</font>

393
00:18:07,940 --> 00:18:13,370
and it grabs<font color="#E5E5E5"> it makes a new file system</font>

394
00:18:11,300 --> 00:18:14,690
<font color="#E5E5E5">on a new</font><font color="#CCCCCC"> volume you don't have to know</font>

395
00:18:13,370 --> 00:18:16,459
<font color="#E5E5E5">what any of this means it</font><font color="#CCCCCC"> just looks</font>

396
00:18:14,690 --> 00:18:21,770
really<font color="#CCCCCC"> impressive to have</font><font color="#E5E5E5"> text scrolling</font>

397
00:18:16,460 --> 00:18:23,420
<font color="#CCCCCC">around</font><font color="#E5E5E5"> but the upshot of all that text</font>

398
00:18:21,770 --> 00:18:26,060
scrolling<font color="#CCCCCC"> around</font><font color="#E5E5E5"> is we can get some</font>

399
00:18:23,420 --> 00:18:26,950
results<font color="#CCCCCC"> and these results</font><font color="#E5E5E5"> are a little</font>

400
00:18:26,060 --> 00:18:30,379
<font color="#E5E5E5">weird</font>

401
00:18:26,950 --> 00:18:32,150
yet<font color="#CCCCCC"> heaps</font><font color="#E5E5E5"> of files showing up in the</font>

402
00:18:30,380 --> 00:18:34,850
directory<font color="#CCCCCC"> would</font><font color="#E5E5E5"> hold</font><font color="#CCCCCC"> photo rack</font><font color="#E5E5E5"> to write</font>

403
00:18:32,150 --> 00:18:36,560
files<font color="#CCCCCC"> to</font><font color="#E5E5E5"> and when you take a quick</font>

404
00:18:34,850 --> 00:18:39,020
<font color="#CCCCCC">glance you see</font><font color="#E5E5E5"> various kinds of files</font>

405
00:18:36,560 --> 00:18:44,960
that<font color="#E5E5E5"> we'd expect my seed files</font><font color="#CCCCCC"> you know</font>

406
00:18:39,020 --> 00:18:47,990
<font color="#CCCCCC">m4a JPEG PDF bunch of text</font><font color="#E5E5E5"> files but we</font>

407
00:18:44,960 --> 00:18:52,340
<font color="#CCCCCC">don't just find the seed files we find a</font>

408
00:18:47,990 --> 00:18:56,630
lot<font color="#CCCCCC"> more than those on the</font><font color="#E5E5E5"> disk and it's</font>

409
00:18:52,340 --> 00:19:01,580
a it's very very<font color="#CCCCCC"> noisy and the reason of</font>

410
00:18:56,630 --> 00:19:04,880
this<font color="#CCCCCC"> is EBS volume eyes are snapshots</font>

411
00:19:01,580 --> 00:19:07,490
<font color="#CCCCCC">if you use an EBS volume as the</font><font color="#E5E5E5"> root</font>

412
00:19:04,880 --> 00:19:09,740
<font color="#CCCCCC">volume to launch your instance</font><font color="#E5E5E5"> it's</font>

413
00:19:07,490 --> 00:19:12,410
<font color="#E5E5E5">going to be</font><font color="#CCCCCC"> a hydrator it's</font><font color="#E5E5E5"> gonna be</font>

414
00:19:09,740 --> 00:19:15,170
<font color="#E5E5E5">coming out from</font><font color="#CCCCCC"> that</font><font color="#E5E5E5"> ami and that ami</font>

415
00:19:12,410 --> 00:19:19,190
has as the<font color="#E5E5E5"> snapshot</font><font color="#CCCCCC"> all kinds</font><font color="#E5E5E5"> of deleted</font>

416
00:19:15,170 --> 00:19:21,260
files in it this<font color="#CCCCCC"> is</font><font color="#E5E5E5"> potentially</font>

417
00:19:19,190 --> 00:19:23,930
<font color="#E5E5E5">overwhelming there are a lot of files at</font>

418
00:19:21,260 --> 00:19:26,060
an operating system<font color="#CCCCCC"> writes and uses in</font>

419
00:19:23,930 --> 00:19:28,910
<font color="#E5E5E5">it's sort of day-to-day operations that</font>

420
00:19:26,060 --> 00:19:30,830
are sort of normal and<font color="#E5E5E5"> expected</font><font color="#CCCCCC"> I can't</font>

421
00:19:28,910 --> 00:19:33,710
tell you how many different<font color="#E5E5E5"> languages of</font>

422
00:19:30,830 --> 00:19:37,399
man<font color="#E5E5E5"> pages show up in the results when</font>

423
00:19:33,710 --> 00:19:40,850
you go looking<font color="#E5E5E5"> at an</font><font color="#CCCCCC"> AMI</font><font color="#E5E5E5"> so this was</font>

424
00:19:37,400 --> 00:19:43,760
sort<font color="#E5E5E5"> of like if the clue OS game analogy</font>

425
00:19:40,850 --> 00:19:45,649
<font color="#E5E5E5">we're using here</font><font color="#CCCCCC"> if the operating system</font>

426
00:19:43,760 --> 00:19:48,080
of like the rules of the game was sort

427
00:19:45,650 --> 00:19:50,360
of running<font color="#CCCCCC"> on the same</font><font color="#E5E5E5"> board as the</font>

428
00:19:48,080 --> 00:19:52,909
players were moving around<font color="#E5E5E5"> in which the</font>

429
00:19:50,360 --> 00:19:54,379
analogy breaks down a little bit but the

430
00:19:52,910 --> 00:19:55,610
point<font color="#CCCCCC"> being</font><font color="#E5E5E5"> there's a lot of stuff that</font>

431
00:19:54,380 --> 00:19:57,530
<font color="#E5E5E5">we're going to get back and</font>

432
00:19:55,610 --> 00:19:59,750
<font color="#CCCCCC">Clou board</font><font color="#E5E5E5"> it would be like if we</font><font color="#CCCCCC"> got</font>

433
00:19:57,530 --> 00:20:03,590
the instructions<font color="#E5E5E5"> showing up on our</font>

434
00:19:59,750 --> 00:20:05,870
results<font color="#CCCCCC"> in 50 different languages along</font>

435
00:20:03,590 --> 00:20:09,139
<font color="#E5E5E5">with what we actually wanted to find the</font>

436
00:20:05,870 --> 00:20:11,928
whodunit part of the mystery and that's

437
00:20:09,140 --> 00:20:14,330
<font color="#E5E5E5">just cuz it very simple</font><font color="#CCCCCC"> a.m. eyes are</font>

438
00:20:11,929 --> 00:20:18,080
snapshots<font color="#CCCCCC"> a.m.</font><font color="#E5E5E5"> eyes</font><font color="#CCCCCC"> contain deleted</font>

439
00:20:14,330 --> 00:20:20,000
files<font color="#E5E5E5"> if you use photorec</font><font color="#CCCCCC"> on</font><font color="#E5E5E5"> a volume</font>

440
00:20:18,080 --> 00:20:22,129
<font color="#E5E5E5">that was the start up volume so it was</font>

441
00:20:20,000 --> 00:20:26,059
born<font color="#E5E5E5"> from</font><font color="#CCCCCC"> that ami you're</font><font color="#E5E5E5"> going to find</font>

442
00:20:22,130 --> 00:20:29,230
a whole<font color="#E5E5E5"> lot</font><font color="#CCCCCC"> of those deleted files you</font>

443
00:20:26,059 --> 00:20:32,389
will<font color="#E5E5E5"> also very likely get the actuals</font>

444
00:20:29,230 --> 00:20:34,250
<font color="#CCCCCC">you'll get like your</font><font color="#E5E5E5"> results</font><font color="#CCCCCC"> won't get</font>

445
00:20:32,390 --> 00:20:36,980
in Latin<font color="#E5E5E5"> to a second but all the games</font>

446
00:20:34,250 --> 00:20:39,320
set<font color="#E5E5E5"> up so it's</font><font color="#CCCCCC"> like</font><font color="#E5E5E5"> an in clue</font><font color="#CCCCCC"> we</font>

447
00:20:36,980 --> 00:20:41,360
started<font color="#E5E5E5"> Colonel Mustard in one corner</font>

448
00:20:39,320 --> 00:20:44,510
<font color="#E5E5E5">and</font><font color="#CCCCCC"> this white in another corner</font><font color="#E5E5E5"> we</font>

449
00:20:41,360 --> 00:20:49,040
would see<font color="#CCCCCC"> that setup</font><font color="#E5E5E5"> action has as being</font>

450
00:20:44,510 --> 00:20:51,950
as happening so when you go looking<font color="#E5E5E5"> at</font>

451
00:20:49,040 --> 00:20:55,490
photorec results<font color="#E5E5E5"> this is what you get a</font>

452
00:20:51,950 --> 00:20:59,030
few file names but mostly<font color="#CCCCCC"> just a whole</font>

453
00:20:55,490 --> 00:21:01,010
lot<font color="#CCCCCC"> of I found this type of file and I</font>

454
00:20:59,030 --> 00:21:06,770
gave it a file name based off of<font color="#E5E5E5"> where I</font>

455
00:21:01,010 --> 00:21:08,990
found it it<font color="#E5E5E5"> is a lot of data so</font><font color="#CCCCCC"> how do I</font>

456
00:21:06,770 --> 00:21:10,850
know<font color="#E5E5E5"> given all of these different files</font>

457
00:21:08,990 --> 00:21:13,400
<font color="#E5E5E5">that I've recovered which ones are my</font>

458
00:21:10,850 --> 00:21:17,570
<font color="#E5E5E5">actual seed files and which ones are</font>

459
00:21:13,400 --> 00:21:23,679
<font color="#E5E5E5">this sort of noise from the Nami so we</font>

460
00:21:17,570 --> 00:21:29,689
play match the hash start out<font color="#CCCCCC"> by just</font>

461
00:21:23,679 --> 00:21:33,650
<font color="#E5E5E5">comparing the files</font><font color="#CCCCCC"> and even if you're</font>

462
00:21:29,690 --> 00:21:35,870
not<font color="#E5E5E5"> using an image sorry if you're not</font>

463
00:21:33,650 --> 00:21:38,419
doing using a snapshot of a volume<font color="#CCCCCC"> that</font>

464
00:21:35,870 --> 00:21:41,540
<font color="#E5E5E5">was an ami</font><font color="#CCCCCC"> or using a secondary volume</font>

465
00:21:38,419 --> 00:21:47,390
you're still going<font color="#E5E5E5"> to get more files</font>

466
00:21:41,540 --> 00:21:51,889
returned so it's this is<font color="#E5E5E5"> because photo</font>

467
00:21:47,390 --> 00:21:53,840
<font color="#E5E5E5">guesses where new files end in</font><font color="#CCCCCC"> war</font><font color="#E5E5E5"> files</font>

468
00:21:51,890 --> 00:21:55,940
and a new<font color="#E5E5E5"> files start it's not always</font>

469
00:21:53,840 --> 00:21:58,490
super clear it's a software that<font color="#E5E5E5"> just</font>

470
00:21:55,940 --> 00:22:01,280
<font color="#E5E5E5">looking at a stream of bytes in</font>

471
00:21:58,490 --> 00:22:04,309
gibberish<font color="#E5E5E5"> what is a new file what's an</font>

472
00:22:01,280 --> 00:22:06,678
old<font color="#E5E5E5"> file this is especially true with</font>

473
00:22:04,309 --> 00:22:09,350
<font color="#E5E5E5">text</font><font color="#CCCCCC"> files and operating systems</font>

474
00:22:06,679 --> 00:22:12,980
<font color="#CCCCCC">especially stuff like Linux is made up</font>

475
00:22:09,350 --> 00:22:14,299
<font color="#E5E5E5">a lot of</font><font color="#CCCCCC"> text</font><font color="#E5E5E5"> files as an example is</font>

476
00:22:12,980 --> 00:22:17,179
there some of the<font color="#E5E5E5"> text files that I used</font>

477
00:22:14,299 --> 00:22:19,160
<font color="#E5E5E5">I just</font><font color="#CCCCCC"> kind of looked at</font><font color="#E5E5E5"> a bunch of them</font>

478
00:22:17,179 --> 00:22:22,850
and<font color="#E5E5E5"> just something like</font><font color="#CCCCCC"> a the readme</font>

479
00:22:19,160 --> 00:22:25,730
from version<font color="#E5E5E5"> 1.0</font><font color="#CCCCCC"> four of</font><font color="#E5E5E5"> Windows</font><font color="#CCCCCC"> some</font>

480
00:22:22,850 --> 00:22:28,280
forensic capture<font color="#CCCCCC"> textbook that was free</font>

481
00:22:25,730 --> 00:22:30,080
and<font color="#E5E5E5"> turned out to not</font><font color="#CCCCCC"> be very useful but</font>

482
00:22:28,280 --> 00:22:31,970
more interesting<font color="#CCCCCC"> and</font><font color="#E5E5E5"> this is a better</font>

483
00:22:30,080 --> 00:22:35,059
<font color="#CCCCCC">demonstration to my point</font><font color="#E5E5E5"> this is</font>

484
00:22:31,970 --> 00:22:38,299
originally the<font color="#E5E5E5"> same text file</font><font color="#CCCCCC"> it's the</font>

485
00:22:35,059 --> 00:22:40,160
just a list of flights in one<font color="#CCCCCC"> day in the</font>

486
00:22:38,299 --> 00:22:43,370
United States the sort<font color="#E5E5E5"> of from airport</font>

487
00:22:40,160 --> 00:22:46,309
in the<font color="#CCCCCC"> to airport</font><font color="#E5E5E5"> tax files don't have</font>

488
00:22:43,370 --> 00:22:48,949
really start or<font color="#E5E5E5"> ends they're just bits</font>

489
00:22:46,309 --> 00:22:51,110
written to disk<font color="#E5E5E5"> photorec doesn't know</font>

490
00:22:48,950 --> 00:22:54,020
<font color="#E5E5E5">that this was originally one big text</font>

491
00:22:51,110 --> 00:22:56,178
file that<font color="#E5E5E5"> was a seated it just sees okay</font>

492
00:22:54,020 --> 00:22:57,889
here's a<font color="#E5E5E5"> text file and it goes and at</font>

493
00:22:56,179 --> 00:22:59,690
some point it stops so I<font color="#CCCCCC"> think maybe</font><font color="#E5E5E5"> I</font>

494
00:22:57,890 --> 00:23:01,940
should<font color="#E5E5E5"> stop - and then</font><font color="#CCCCCC"> I picked up a</font>

495
00:22:59,690 --> 00:23:06,140
trail<font color="#CCCCCC"> of more text files</font><font color="#E5E5E5"> and go on from</font>

496
00:23:01,940 --> 00:23:08,809
there so<font color="#CCCCCC"> this</font><font color="#E5E5E5"> is originally one file</font>

497
00:23:06,140 --> 00:23:12,620
<font color="#CCCCCC">that's now been split across</font><font color="#E5E5E5"> into many</font>

498
00:23:08,809 --> 00:23:14,899
many dozens<font color="#E5E5E5"> of files</font><font color="#CCCCCC"> so if you just</font>

499
00:23:12,620 --> 00:23:16,820
<font color="#CCCCCC">start namely hashing the files that</font><font color="#E5E5E5"> you</font>

500
00:23:14,900 --> 00:23:18,740
<font color="#E5E5E5">find in your recovery directory and the</font>

501
00:23:16,820 --> 00:23:21,789
your seat files<font color="#CCCCCC"> you're gonna find that</font>

502
00:23:18,740 --> 00:23:24,770
most of the time you swing and<font color="#E5E5E5"> you miss</font>

503
00:23:21,789 --> 00:23:26,629
you get a whole lot<font color="#CCCCCC"> of files back</font><font color="#E5E5E5"> this</font>

504
00:23:24,770 --> 00:23:27,889
<font color="#E5E5E5">obviously these</font><font color="#CCCCCC"> two files are never</font>

505
00:23:26,630 --> 00:23:29,840
going<font color="#E5E5E5"> to have</font><font color="#CCCCCC"> the same hash as the</font>

506
00:23:27,890 --> 00:23:31,340
original file<font color="#E5E5E5"> so there might be a little</font>

507
00:23:29,840 --> 00:23:34,879
a little<font color="#CCCCCC"> bit dispiriting you think that</font>

508
00:23:31,340 --> 00:23:36,740
well I can't find I can't like do any

509
00:23:34,880 --> 00:23:40,130
analysis on<font color="#E5E5E5"> this if I don't</font><font color="#CCCCCC"> know that</font>

510
00:23:36,740 --> 00:23:44,179
I'm<font color="#E5E5E5"> getting the data back but if instead</font>

511
00:23:40,130 --> 00:23:46,809
<font color="#CCCCCC">we compare the first few hundred bytes</font>

512
00:23:44,179 --> 00:23:49,520
or so then we<font color="#E5E5E5"> can get a better sense of</font>

513
00:23:46,809 --> 00:23:53,090
how many<font color="#CCCCCC"> of</font><font color="#E5E5E5"> these</font><font color="#CCCCCC"> original files are</font>

514
00:23:49,520 --> 00:23:54,590
<font color="#E5E5E5">actually recovered and I use like</font><font color="#CCCCCC"> three</font>

515
00:23:53,090 --> 00:23:57,559
<font color="#CCCCCC">hundred bytes that seem to</font><font color="#E5E5E5"> be a kind of</font>

516
00:23:54,590 --> 00:24:02,480
a good mix for between false positives

517
00:23:57,559 --> 00:24:04,490
and<font color="#E5E5E5"> and true positives and so</font><font color="#CCCCCC"> really all</font>

518
00:24:02,480 --> 00:24:06,049
it meant<font color="#E5E5E5"> was I computed the hash of all</font>

519
00:24:04,490 --> 00:24:08,740
of<font color="#E5E5E5"> these things and then started to</font>

520
00:24:06,049 --> 00:24:11,780
check and<font color="#E5E5E5"> see and again this is just</font><font color="#CCCCCC"> the</font>

521
00:24:08,740 --> 00:24:13,400
instances and the volume types that were

522
00:24:11,780 --> 00:24:15,350
<font color="#E5E5E5">originally attached to them and then</font>

523
00:24:13,400 --> 00:24:17,630
looking<font color="#CCCCCC"> through and</font><font color="#E5E5E5"> doing the</font><font color="#CCCCCC"> some</font><font color="#E5E5E5"> of</font>

524
00:24:15,350 --> 00:24:20,168
the legwork to<font color="#E5E5E5"> see how many files were</font>

525
00:24:17,630 --> 00:24:20,169
recovered

526
00:24:21,440 --> 00:24:29,100
so up to this<font color="#E5E5E5"> point</font><font color="#CCCCCC"> right we've written</font>

527
00:24:25,559 --> 00:24:31,770
files to disk<font color="#E5E5E5"> we've noticed that a.m.</font>

528
00:24:29,100 --> 00:24:34,168
eyes are snapshots<font color="#E5E5E5"> themselves and so</font>

529
00:24:31,770 --> 00:24:36,389
they contain deleted files<font color="#E5E5E5"> we've been</font>

530
00:24:34,169 --> 00:24:38,400
able to recover<font color="#E5E5E5"> these files we get a</font>

531
00:24:36,390 --> 00:24:43,740
bunch of that noise from<font color="#E5E5E5"> the ami</font>

532
00:24:38,400 --> 00:24:47,309
snapshots<font color="#E5E5E5"> we also get a bunch</font><font color="#CCCCCC"> of our</font>

533
00:24:43,740 --> 00:24:49,470
<font color="#E5E5E5">actual original source files back but</font>

534
00:24:47,309 --> 00:24:52,860
the original<font color="#CCCCCC"> source of volume type has</font>

535
00:24:49,470 --> 00:24:56,540
an impact on<font color="#E5E5E5"> what kind of volume</font><font color="#CCCCCC"> are</font>

536
00:24:52,860 --> 00:24:59,399
what kind<font color="#E5E5E5"> of results we can recover the</font>

537
00:24:56,540 --> 00:25:02,250
<font color="#CCCCCC">standard</font><font color="#E5E5E5"> gp2 and</font><font color="#CCCCCC"> io</font><font color="#E5E5E5"> one volume types</font>

538
00:24:59,400 --> 00:25:07,790
were sort<font color="#E5E5E5"> of the best recovery the sc1</font>

539
00:25:02,250 --> 00:25:10,740
and<font color="#CCCCCC"> st-1 were not so good</font><font color="#E5E5E5"> and this is</font>

540
00:25:07,790 --> 00:25:14,399
just sorry<font color="#E5E5E5"> if it's a little</font><font color="#CCCCCC"> bit small</font>

541
00:25:10,740 --> 00:25:15,650
but for the SC one an ST<font color="#E5E5E5"> one</font><font color="#CCCCCC"> was forty</font>

542
00:25:14,400 --> 00:25:18,330
<font color="#CCCCCC">seven percent</font><font color="#E5E5E5"> and</font><font color="#CCCCCC"> twenty percent</font>

543
00:25:15,650 --> 00:25:19,830
<font color="#E5E5E5">respectively</font><font color="#CCCCCC"> and these numbers if you</font><font color="#E5E5E5"> go</font>

544
00:25:18,330 --> 00:25:23,820
out<font color="#E5E5E5"> and you do this at home they will</font>

545
00:25:19,830 --> 00:25:25,760
vary<font color="#E5E5E5"> because</font><font color="#CCCCCC"> of that magic amazon's</font>

546
00:25:23,820 --> 00:25:28,049
<font color="#E5E5E5">doing in the back end of somehow being</font>

547
00:25:25,760 --> 00:25:30,270
consistent when I asked for<font color="#CCCCCC"> a block back</font>

548
00:25:28,049 --> 00:25:32,870
but distributing that block amongst

549
00:25:30,270 --> 00:25:36,960
multiple<font color="#E5E5E5"> other systems of redundancy and</font>

550
00:25:32,870 --> 00:25:38,760
<font color="#E5E5E5">who really knows I I don't</font><font color="#CCCCCC"> know I don't</font>

551
00:25:36,960 --> 00:25:40,620
<font color="#CCCCCC">know</font><font color="#E5E5E5"> how</font><font color="#CCCCCC"> EVs works someone here works</font>

552
00:25:38,760 --> 00:25:43,950
for Amazon<font color="#CCCCCC"> and wants to</font><font color="#E5E5E5"> pull me</font><font color="#CCCCCC"> aside</font>

553
00:25:40,620 --> 00:25:45,659
and<font color="#E5E5E5"> tell me then awesome look to it love</font>

554
00:25:43,950 --> 00:25:49,350
to know more<font color="#CCCCCC"> about the sort of man</font>

555
00:25:45,660 --> 00:25:52,799
behind the curtain but anyway so these

556
00:25:49,350 --> 00:25:56,070
two these<font color="#CCCCCC"> two types of EBS</font><font color="#E5E5E5"> volumes</font>

557
00:25:52,799 --> 00:25:59,820
designed for large data consistent

558
00:25:56,070 --> 00:26:02,549
throughput<font color="#E5E5E5"> it's not saying that they</font>

559
00:25:59,820 --> 00:26:04,520
were bad and in any<font color="#E5E5E5"> means it's</font><font color="#CCCCCC"> just that</font>

560
00:26:02,549 --> 00:26:09,480
compared to<font color="#E5E5E5"> the</font><font color="#CCCCCC"> other</font><font color="#E5E5E5"> volumes where it's</font>

561
00:26:04,520 --> 00:26:11,660
<font color="#CCCCCC">89</font><font color="#E5E5E5"> percent recovery plus was very very</font>

562
00:26:09,480 --> 00:26:14,250
<font color="#E5E5E5">good when it</font><font color="#CCCCCC"> comes to recovering</font><font color="#E5E5E5"> data</font>

563
00:26:11,660 --> 00:26:18,030
<font color="#E5E5E5">these other volume pipe just kind of</font>

564
00:26:14,250 --> 00:26:21,990
stand out in comparison<font color="#E5E5E5"> but the weird</font>

565
00:26:18,030 --> 00:26:25,049
artifacts don't stop there when I was

566
00:26:21,990 --> 00:26:26,040
recovering<font color="#E5E5E5"> from the sc1 and</font><font color="#CCCCCC"> st-1</font><font color="#E5E5E5"> drive</font>

567
00:26:25,049 --> 00:26:28,049
types

568
00:26:26,040 --> 00:26:31,830
there were times that I got truly

569
00:26:28,049 --> 00:26:33,059
massive<font color="#E5E5E5"> files back no other file I know</font>

570
00:26:31,830 --> 00:26:34,889
their volume pipe

571
00:26:33,059 --> 00:26:38,549
have that issue with<font color="#CCCCCC"> it was</font><font color="#E5E5E5"> just with</font>

572
00:26:34,889 --> 00:26:40,820
these two large bulk storage ones<font color="#CCCCCC"> and</font>

573
00:26:38,549 --> 00:26:43,830
this is just a capture that so

574
00:26:40,820 --> 00:26:45,480
originally written seed files<font color="#E5E5E5"> to disks I</font>

575
00:26:43,830 --> 00:26:48,840
did their recovery and<font color="#CCCCCC"> then I looked at</font>

576
00:26:45,480 --> 00:26:52,019
sort of just to see how much disk space

577
00:26:48,840 --> 00:26:53,789
I had gotten<font color="#E5E5E5"> I was using to know if I</font>

578
00:26:52,019 --> 00:26:57,389
could use<font color="#CCCCCC"> the</font><font color="#E5E5E5"> same just for other</font>

579
00:26:53,789 --> 00:27:01,590
recoveries<font color="#E5E5E5"> and I found that</font><font color="#CCCCCC"> there 272</font>

580
00:26:57,389 --> 00:27:05,519
gigs<font color="#E5E5E5"> used on my forensic recovery</font><font color="#CCCCCC"> drive</font>

581
00:27:01,590 --> 00:27:07,110
<font color="#E5E5E5">and part of that is because when you go</font>

582
00:27:05,519 --> 00:27:10,230
looking<font color="#CCCCCC"> at the different files</font><font color="#E5E5E5"> that were</font>

583
00:27:07,110 --> 00:27:12,990
<font color="#E5E5E5">recovered</font><font color="#CCCCCC"> if you don't speak exact bits</font>

584
00:27:10,230 --> 00:27:17,129
<font color="#CCCCCC">is some</font><font color="#E5E5E5"> of these PDFs we're taking a</font>

585
00:27:12,990 --> 00:27:20,039
<font color="#E5E5E5">hundred and</font><font color="#CCCCCC"> sixty one gigs</font><font color="#E5E5E5"> the pedia</font><font color="#CCCCCC"> are</font>

586
00:27:17,129 --> 00:27:22,110
the video files<font color="#CCCCCC"> the m4p files</font><font color="#E5E5E5"> 180</font>

587
00:27:20,039 --> 00:27:26,759
megabytes exactly what we expected

588
00:27:22,110 --> 00:27:30,809
perfect match but these other PDS<font color="#E5E5E5"> 21</font>

589
00:27:26,759 --> 00:27:32,940
gigs 24 gigs<font color="#CCCCCC"> and this was the 24s</font><font color="#E5E5E5"> are</font>

590
00:27:30,809 --> 00:27:35,428
sort of almost outliers<font color="#CCCCCC"> I</font><font color="#E5E5E5"> consistently</font>

591
00:27:32,940 --> 00:27:38,190
was getting these<font color="#E5E5E5"> massive files and I</font>

592
00:27:35,429 --> 00:27:41,669
actually had to increase my target

593
00:27:38,190 --> 00:27:43,590
volume<font color="#E5E5E5"> size because I was simply</font><font color="#CCCCCC"> just</font>

594
00:27:41,669 --> 00:27:48,389
getting so many<font color="#E5E5E5"> of these massive</font>

595
00:27:43,590 --> 00:27:50,249
artifacts back<font color="#E5E5E5"> a PDFs are generally not</font>

596
00:27:48,389 --> 00:27:52,258
<font color="#CCCCCC">that big if you know of like an actual</font>

597
00:27:50,249 --> 00:27:53,249
legit PDF that big in the wild let me

598
00:27:52,259 --> 00:27:57,360
know<font color="#CCCCCC"> because it sounds</font><font color="#E5E5E5"> like you've got</font>

599
00:27:53,249 --> 00:28:03,440
some<font color="#E5E5E5"> really great war stories but this</font>

600
00:27:57,360 --> 00:28:08,939
was<font color="#E5E5E5"> truly interesting and so as to why</font>

601
00:28:03,440 --> 00:28:15,480
<font color="#E5E5E5">well I got some bad</font><font color="#CCCCCC"> news</font><font color="#E5E5E5"> for</font><font color="#CCCCCC"> you I don't</font>

602
00:28:08,940 --> 00:28:17,850
know<font color="#E5E5E5"> this is something</font><font color="#CCCCCC"> that</font><font color="#E5E5E5"> has to do</font>

603
00:28:15,480 --> 00:28:19,950
with<font color="#E5E5E5"> how EBS works I'm sure in the back</font>

604
00:28:17,850 --> 00:28:23,219
end<font color="#CCCCCC"> I don't know why it's</font><font color="#E5E5E5"> only those two</font>

605
00:28:19,950 --> 00:28:24,840
types I can sort of guess<font color="#E5E5E5"> the recovery</font>

606
00:28:23,220 --> 00:28:26,909
issue where the end of file marker for

607
00:28:24,840 --> 00:28:29,309
that PDF was sort of found<font color="#E5E5E5"> across</font><font color="#CCCCCC"> some</font>

608
00:28:26,909 --> 00:28:31,169
<font color="#E5E5E5">it was multiple discs in the back end</font>

609
00:28:29,309 --> 00:28:34,168
<font color="#CCCCCC">that was sort of</font><font color="#E5E5E5"> being concatenated</font>

610
00:28:31,169 --> 00:28:36,269
together maybe<font color="#E5E5E5"> and that maybe</font><font color="#CCCCCC"> explains</font>

611
00:28:34,169 --> 00:28:38,580
why it was only these two<font color="#E5E5E5"> volumes but it</font>

612
00:28:36,269 --> 00:28:40,889
doesn't explain<font color="#E5E5E5"> why only those two</font>

613
00:28:38,580 --> 00:28:46,530
volumes and other<font color="#E5E5E5"> EBS volumes of</font>

614
00:28:40,889 --> 00:28:51,010
<font color="#E5E5E5">different types</font><font color="#CCCCCC"> so again this is this is</font>

615
00:28:46,530 --> 00:28:53,290
who knows if you're<font color="#E5E5E5"> curious this was the</font>

616
00:28:51,010 --> 00:28:57,820
PDF it was like a<font color="#CCCCCC"> hundred</font><font color="#E5E5E5"> and sixty K</font>

617
00:28:53,290 --> 00:28:59,260
<font color="#CCCCCC">our kilobytes really</font><font color="#E5E5E5"> just this small I</font>

618
00:28:57,820 --> 00:29:01,050
<font color="#E5E5E5">don't remember even where I got it was</font>

619
00:28:59,260 --> 00:29:03,100
some sort of diagram<font color="#E5E5E5"> pattern thing</font>

620
00:29:01,050 --> 00:29:05,919
<font color="#CCCCCC">almost looks like Conway's Game of Life</font>

621
00:29:03,100 --> 00:29:08,740
if<font color="#CCCCCC"> he squint a little bit but this was</font>

622
00:29:05,920 --> 00:29:12,610
this file was<font color="#E5E5E5"> should never be that</font><font color="#CCCCCC"> large</font>

623
00:29:08,740 --> 00:29:15,310
<font color="#E5E5E5">and it was consistent</font><font color="#CCCCCC"> - so now that</font><font color="#E5E5E5"> we</font>

624
00:29:12,610 --> 00:29:16,689
know<font color="#E5E5E5"> we can get data</font><font color="#CCCCCC"> back and</font><font color="#E5E5E5"> we'll all</font>

625
00:29:15,310 --> 00:29:19,090
kind of loop back around<font color="#E5E5E5"> to some</font>

626
00:29:16,690 --> 00:29:21,010
findings at the<font color="#E5E5E5"> end here but let's talk</font>

627
00:29:19,090 --> 00:29:23,230
<font color="#E5E5E5">about protecting this data</font><font color="#CCCCCC"> all</font><font color="#E5E5E5"> right</font>

628
00:29:21,010 --> 00:29:25,210
that PDF right we really<font color="#E5E5E5"> want to make</font>

629
00:29:23,230 --> 00:29:29,260
sure<font color="#E5E5E5"> that we can go through</font><font color="#CCCCCC"> and know</font>

630
00:29:25,210 --> 00:29:32,050
that it's safe<font color="#E5E5E5"> so snapshots can</font><font color="#CCCCCC"> be</font>

631
00:29:29,260 --> 00:29:34,600
shared<font color="#CCCCCC"> to other AWS accounts this is a</font>

632
00:29:32,050 --> 00:29:36,100
really great property of them because if

633
00:29:34,600 --> 00:29:37,570
there's an attacker in your account<font color="#CCCCCC"> and</font>

634
00:29:36,100 --> 00:29:40,659
<font color="#E5E5E5">they've already breached one of your ec2</font>

635
00:29:37,570 --> 00:29:43,870
instances they may<font color="#CCCCCC"> be able</font><font color="#E5E5E5"> to delete</font>

636
00:29:40,660 --> 00:29:45,700
<font color="#E5E5E5">those snapshots</font><font color="#CCCCCC"> if you have a over</font>

637
00:29:43,870 --> 00:29:49,149
provisioned permissions on that ec2

638
00:29:45,700 --> 00:29:50,500
instance and<font color="#E5E5E5"> you do a snapshot of it you</font>

639
00:29:49,150 --> 00:29:52,390
do the recovery<font color="#E5E5E5"> in the it you're kind of</font>

640
00:29:50,500 --> 00:29:54,070
waiting<font color="#CCCCCC"> and the attacker is still in</font>

641
00:29:52,390 --> 00:29:56,080
your account they've exfiltrated an API

642
00:29:54,070 --> 00:29:58,629
key<font color="#E5E5E5"> they can watch you take that</font>

643
00:29:56,080 --> 00:30:00,699
forensic snapshot<font color="#E5E5E5"> and</font><font color="#CCCCCC"> then once your</font>

644
00:29:58,630 --> 00:30:05,910
snapshot is completed<font color="#E5E5E5"> they can delete</font>

645
00:30:00,700 --> 00:30:08,350
<font color="#E5E5E5">your snapshot the best way to keep the</font>

646
00:30:05,910 --> 00:30:11,770
snapshot safe is to<font color="#E5E5E5"> move them into a</font>

647
00:30:08,350 --> 00:30:12,939
separate<font color="#E5E5E5"> account so once once you hold</font>

648
00:30:11,770 --> 00:30:19,510
the ball<font color="#CCCCCC"> don't drop it</font>

649
00:30:12,940 --> 00:30:21,280
<font color="#CCCCCC">I hear so I'm a millennial so I hear I'm</font>

650
00:30:19,510 --> 00:30:23,950
supposed<font color="#CCCCCC"> to really</font><font color="#E5E5E5"> like avocado toast in</font>

651
00:30:21,280 --> 00:30:25,600
<font color="#E5E5E5">JSON</font><font color="#CCCCCC"> if you don't like JSON</font><font color="#E5E5E5"> I've got</font>

652
00:30:23,950 --> 00:30:28,530
some sort<font color="#E5E5E5"> of bad news for you</font>

653
00:30:25,600 --> 00:30:33,000
identity<font color="#E5E5E5"> and access management in AWS is</font>

654
00:30:28,530 --> 00:30:36,910
almost entirely solely JSON everywhere

655
00:30:33,000 --> 00:30:39,190
permissions<font color="#E5E5E5"> matter</font><font color="#CCCCCC"> dealing with them in</font>

656
00:30:36,910 --> 00:30:41,980
a JSON<font color="#E5E5E5"> format is something that is a</font>

657
00:30:39,190 --> 00:30:45,490
skill that I've acquired<font color="#CCCCCC"> I</font><font color="#E5E5E5"> have acquired</font>

658
00:30:41,980 --> 00:30:47,350
<font color="#E5E5E5">and I'm really sorry for everyone else</font>

659
00:30:45,490 --> 00:30:50,680
that has<font color="#CCCCCC"> the ability to just parse these</font>

660
00:30:47,350 --> 00:30:52,120
documents by<font color="#E5E5E5"> eye</font><font color="#CCCCCC"> because it's you know</font>

661
00:30:50,680 --> 00:30:56,890
<font color="#E5E5E5">it's there's a</font><font color="#CCCCCC"> lot of room for</font>

662
00:30:52,120 --> 00:31:00,010
complexity in these that<font color="#E5E5E5"> being said so</font>

663
00:30:56,890 --> 00:31:02,440
this<font color="#E5E5E5"> is not a basics of securing</font><font color="#CCCCCC"> your</font><font color="#E5E5E5"> aw</font>

664
00:31:00,010 --> 00:31:04,510
account<font color="#CCCCCC"> talk happy to do that at another</font>

665
00:31:02,440 --> 00:31:06,580
<font color="#CCCCCC">time but this is just what</font><font color="#E5E5E5"> sort of</font>

666
00:31:04,510 --> 00:31:08,500
things you<font color="#E5E5E5"> need to be aware of when you</font>

667
00:31:06,580 --> 00:31:12,220
take one of<font color="#E5E5E5"> these snapshots</font><font color="#CCCCCC"> and you need</font>

668
00:31:08,500 --> 00:31:14,140
to<font color="#E5E5E5"> keep it safe so if we know</font><font color="#CCCCCC"> that we</font>

669
00:31:12,220 --> 00:31:15,400
have this<font color="#E5E5E5"> forensic evidence we want to</font>

670
00:31:14,140 --> 00:31:17,680
<font color="#E5E5E5">keep it safe we want to know it hasn't</font>

671
00:31:15,400 --> 00:31:19,320
been<font color="#CCCCCC"> tampered with we can't</font><font color="#E5E5E5"> leave them</font>

672
00:31:17,680 --> 00:31:22,030
somewhere<font color="#E5E5E5"> that they can be tampered</font><font color="#CCCCCC"> with</font>

673
00:31:19,320 --> 00:31:24,120
and some<font color="#E5E5E5"> of you in</font><font color="#CCCCCC"> the back that are</font>

674
00:31:22,030 --> 00:31:26,710
<font color="#CCCCCC">nodding off might be going well yeah uh</font>

675
00:31:24,120 --> 00:31:29,649
<font color="#E5E5E5">but where can they be tampered with</font>

676
00:31:26,710 --> 00:31:32,110
<font color="#E5E5E5">where is right it's no</font><font color="#CCCCCC"> longer the</font><font color="#E5E5E5"> case</font>

677
00:31:29,650 --> 00:31:33,610
<font color="#E5E5E5">that you send an</font><font color="#CCCCCC"> investigator out</font><font color="#E5E5E5"> and</font>

678
00:31:32,110 --> 00:31:35,290
they go and they pick up a server and

679
00:31:33,610 --> 00:31:36,520
they image the hard drive of<font color="#E5E5E5"> it and they</font>

680
00:31:35,290 --> 00:31:38,500
put<font color="#E5E5E5"> it in a briefcase and lock that</font>

681
00:31:36,520 --> 00:31:41,080
<font color="#E5E5E5">briefcase to their wrist and they fly</font><font color="#CCCCCC"> on</font>

682
00:31:38,500 --> 00:31:44,820
a private<font color="#E5E5E5"> jet</font><font color="#CCCCCC"> back to your orbiting</font>

683
00:31:41,080 --> 00:31:47,379
headquarters and do the analysis there

684
00:31:44,820 --> 00:31:48,850
at least<font color="#E5E5E5"> allegedly I've been working in</font>

685
00:31:47,380 --> 00:31:51,340
the cloud for so long I forget what it's

686
00:31:48,850 --> 00:31:52,510
<font color="#E5E5E5">like to have physical</font><font color="#CCCCCC"> Hardware if there</font>

687
00:31:51,340 --> 00:31:54,790
aren't space stations you do your

688
00:31:52,510 --> 00:31:59,200
<font color="#E5E5E5">friends arc recovery on then maybe I</font>

689
00:31:54,790 --> 00:32:03,639
<font color="#E5E5E5">need to get in touch</font><font color="#CCCCCC"> with you so we want</font>

690
00:31:59,200 --> 00:32:05,800
<font color="#E5E5E5">to use come on there we go</font>

691
00:32:03,640 --> 00:32:09,430
so we're<font color="#CCCCCC"> gonna</font><font color="#E5E5E5"> use I</font><font color="#CCCCCC"> am to make</font><font color="#E5E5E5"> sure</font>

692
00:32:05,800 --> 00:32:11,560
that we secure the access to these

693
00:32:09,430 --> 00:32:14,800
snapshots<font color="#E5E5E5"> and it's really who what where</font>

694
00:32:11,560 --> 00:32:17,560
when<font color="#E5E5E5"> and</font><font color="#CCCCCC"> how so you</font><font color="#E5E5E5"> could potentially</font>

695
00:32:14,800 --> 00:32:20,290
<font color="#CCCCCC">grant Colonel Mustard the ability to</font><font color="#E5E5E5"> use</font>

696
00:32:17,560 --> 00:32:25,389
AWS<font color="#CCCCCC"> lamda only in the lobby you could</font>

697
00:32:20,290 --> 00:32:26,950
say these these API calls require<font color="#CCCCCC"> MFA</font>

698
00:32:25,390 --> 00:32:29,140
they<font color="#E5E5E5"> can only be done from a certain IP</font>

699
00:32:26,950 --> 00:32:33,370
range you're only allowed to<font color="#E5E5E5"> operate on</font>

700
00:32:29,140 --> 00:32:36,280
select resources<font color="#CCCCCC"> this is an</font><font color="#E5E5E5"> example AWS</font>

701
00:32:33,370 --> 00:32:39,340
policy this<font color="#CCCCCC"> is the administrator policy</font>

702
00:32:36,280 --> 00:32:42,850
<font color="#E5E5E5">it says you can</font><font color="#CCCCCC"> perform any action on</font>

703
00:32:39,340 --> 00:32:44,470
any resource<font color="#E5E5E5"> it's very helpful</font><font color="#CCCCCC"> if you</font>

704
00:32:42,850 --> 00:32:46,570
<font color="#E5E5E5">are struggling with</font><font color="#CCCCCC"> your permission then</font>

705
00:32:44,470 --> 00:32:48,130
you're not sure what you're doing wrong

706
00:32:46,570 --> 00:32:50,220
why you're getting<font color="#E5E5E5"> permission denied or</font>

707
00:32:48,130 --> 00:32:56,800
something this<font color="#E5E5E5"> will solve</font><font color="#CCCCCC"> your problems</font>

708
00:32:50,220 --> 00:33:00,010
every time<font color="#E5E5E5"> there's some</font><font color="#CCCCCC"> people here are</font>

709
00:32:56,800 --> 00:33:01,270
<font color="#CCCCCC">like</font><font color="#E5E5E5"> I did I'm not wrong though it will</font>

710
00:33:00,010 --> 00:33:04,110
solve<font color="#E5E5E5"> your problem</font><font color="#CCCCCC"> it's</font><font color="#E5E5E5"> going to create</font>

711
00:33:01,270 --> 00:33:07,360
a whole lot<font color="#E5E5E5"> of new ones though</font>

712
00:33:04,110 --> 00:33:09,490
this is the policy<font color="#CCCCCC"> I attached to my ec2</font>

713
00:33:07,360 --> 00:33:12,490
instances to allow them<font color="#E5E5E5"> to actually grab</font>

714
00:33:09,490 --> 00:33:16,149
the seed files<font color="#CCCCCC"> this</font><font color="#E5E5E5"> buckets not public</font>

715
00:33:12,490 --> 00:33:19,149
so there's also no PII in it<font color="#E5E5E5"> unlike some</font>

716
00:33:16,149 --> 00:33:23,620
<font color="#E5E5E5">other like every</font><font color="#CCCCCC"> other day there's a new</font>

717
00:33:19,149 --> 00:33:26,559
<font color="#CCCCCC">one of</font><font color="#E5E5E5"> those</font><font color="#CCCCCC"> but</font><font color="#E5E5E5"> again like it's a this</font>

718
00:33:23,620 --> 00:33:29,168
is a much more restricted policy so if

719
00:33:26,559 --> 00:33:30,520
you see the star star<font color="#CCCCCC"> I that's you want</font>

720
00:33:29,169 --> 00:33:33,130
to look into<font color="#CCCCCC"> that</font><font color="#E5E5E5"> before it becomes an</font>

721
00:33:30,520 --> 00:33:35,590
issue<font color="#E5E5E5"> especially because this policy</font>

722
00:33:33,130 --> 00:33:38,980
<font color="#E5E5E5">will</font><font color="#CCCCCC"> only let me get things</font><font color="#E5E5E5"> out</font><font color="#CCCCCC"> of a</font>

723
00:33:35,590 --> 00:33:41,379
bucket<font color="#E5E5E5"> this policy will let me modify</font>

724
00:33:38,980 --> 00:33:43,000
<font color="#E5E5E5">the files in</font><font color="#CCCCCC"> that bucket then delete</font>

725
00:33:41,380 --> 00:33:46,029
snapshots when they're taken and then

726
00:33:43,000 --> 00:33:48,360
own<font color="#CCCCCC"> the whole account</font><font color="#E5E5E5"> and lock the user</font>

727
00:33:46,029 --> 00:33:51,700
the legitimate owners that account<font color="#E5E5E5"> out</font>

728
00:33:48,360 --> 00:33:55,389
which is another fun talk<font color="#CCCCCC"> that some can</font>

729
00:33:51,700 --> 00:33:57,130
be gone through but the critically<font color="#E5E5E5"> even</font>

730
00:33:55,390 --> 00:33:59,559
if you have that star star policy

731
00:33:57,130 --> 00:34:01,630
because it's just easier<font color="#CCCCCC"> than solving</font>

732
00:33:59,559 --> 00:34:05,230
<font color="#CCCCCC">your</font><font color="#E5E5E5"> permissions issues and the</font>

733
00:34:01,630 --> 00:34:07,750
complexity of JSON those permissions

734
00:34:05,230 --> 00:34:11,260
<font color="#CCCCCC">only work within a singular AWS account</font>

735
00:34:07,750 --> 00:34:13,690
<font color="#E5E5E5">an Amazon an account is basically like</font>

736
00:34:11,260 --> 00:34:17,139
in erecting blast walls<font color="#E5E5E5"> around something</font>

737
00:34:13,690 --> 00:34:20,168
<font color="#CCCCCC">if something goes boom in an account it</font>

738
00:34:17,139 --> 00:34:21,879
can't<font color="#E5E5E5"> touch other accounts there are</font>

739
00:34:20,168 --> 00:34:23,649
configuration<font color="#E5E5E5"> mistakes that you</font><font color="#CCCCCC"> can</font><font color="#E5E5E5"> make</font>

740
00:34:21,879 --> 00:34:25,929
but you've got<font color="#CCCCCC"> to try really</font><font color="#E5E5E5"> hard to</font>

741
00:34:23,649 --> 00:34:28,000
<font color="#E5E5E5">make those happen and even still those</font>

742
00:34:25,929 --> 00:34:31,690
API<font color="#E5E5E5"> keys aren't going to magically have</font>

743
00:34:28,000 --> 00:34:33,730
the power<font color="#CCCCCC"> into other accounts</font><font color="#E5E5E5"> so when</font>

744
00:34:31,690 --> 00:34:37,149
you get noticed<font color="#E5E5E5"> that there's an instance</font>

745
00:34:33,730 --> 00:34:39,699
behaving strangely<font color="#CCCCCC"> and you're</font><font color="#E5E5E5"> doing an</font>

746
00:34:37,149 --> 00:34:42,339
investigation<font color="#CCCCCC"> into</font><font color="#E5E5E5"> it do you know what's</font>

747
00:34:39,699 --> 00:34:43,598
on<font color="#CCCCCC"> that</font><font color="#E5E5E5"> instance does that instance have</font>

748
00:34:42,339 --> 00:34:47,290
um

749
00:34:43,599 --> 00:34:49,750
does<font color="#E5E5E5"> that incidents have a policy that</font>

750
00:34:47,290 --> 00:34:52,300
is star star<font color="#E5E5E5"> does it have a policy</font><font color="#CCCCCC"> that</font>

751
00:34:49,750 --> 00:34:55,659
lets you permission escalate<font color="#E5E5E5"> to star</font>

752
00:34:52,300 --> 00:34:57,849
star are there even<font color="#E5E5E5"> not even necessarily</font>

753
00:34:55,659 --> 00:34:59,470
permissions granted to it but someone

754
00:34:57,849 --> 00:35:01,180
couldn't figure out<font color="#E5E5E5"> how to do that or</font>

755
00:34:59,470 --> 00:35:03,459
they wanted<font color="#E5E5E5"> to work in</font><font color="#CCCCCC"> another</font><font color="#E5E5E5"> account</font>

756
00:35:01,180 --> 00:35:06,399
<font color="#E5E5E5">and so they put their API keys on that</font>

757
00:35:03,460 --> 00:35:08,410
instance static credentials<font color="#E5E5E5"> are those on</font>

758
00:35:06,400 --> 00:35:12,339
<font color="#CCCCCC">that instance and yes you can do a</font>

759
00:35:08,410 --> 00:35:13,960
forensic recovery and find API keys

760
00:35:12,339 --> 00:35:16,038
people have<font color="#CCCCCC"> hard-coded into</font><font color="#E5E5E5"> that</font>

761
00:35:13,960 --> 00:35:20,880
instance so

762
00:35:16,039 --> 00:35:25,410
what happens in that<font color="#E5E5E5"> well strictly</font>

763
00:35:20,880 --> 00:35:28,890
<font color="#CCCCCC">speaking the planet is like a blast</font>

764
00:35:25,410 --> 00:35:32,009
radius<font color="#E5E5E5"> right</font><font color="#CCCCCC"> this is I think</font><font color="#E5E5E5"> many people</font>

765
00:35:28,890 --> 00:35:34,049
<font color="#E5E5E5">would</font><font color="#CCCCCC"> consider it to be bad situation so</font>

766
00:35:32,009 --> 00:35:35,940
<font color="#CCCCCC">if we think of</font><font color="#E5E5E5"> sort of this detonation</font>

767
00:35:34,049 --> 00:35:38,490
as happening what's<font color="#CCCCCC"> going</font><font color="#E5E5E5"> to contain it</font>

768
00:35:35,940 --> 00:35:40,039
well the fact that at<font color="#CCCCCC"> some point there</font>

769
00:35:38,490 --> 00:35:42,209
<font color="#CCCCCC">is no more planet left to</font><font color="#E5E5E5"> go boom</font>

770
00:35:40,039 --> 00:35:45,119
<font color="#E5E5E5">however other planets are going</font><font color="#CCCCCC"> to be</font>

771
00:35:42,210 --> 00:35:47,400
perfectly unharmed<font color="#CCCCCC"> and not</font><font color="#E5E5E5"> suffer any</font>

772
00:35:45,119 --> 00:35:49,170
ill consequences<font color="#CCCCCC"> although they might</font>

773
00:35:47,400 --> 00:35:52,890
laugh a little<font color="#E5E5E5"> bit at the loss of the</font>

774
00:35:49,170 --> 00:35:54,630
whole planet the analogy that<font color="#E5E5E5"> I'm trying</font>

775
00:35:52,890 --> 00:35:56,519
to<font color="#CCCCCC"> make here which is sort of getting</font>

776
00:35:54,630 --> 00:35:59,849
<font color="#CCCCCC">away from you in the whole spectacle</font><font color="#E5E5E5"> and</font>

777
00:35:56,519 --> 00:36:02,220
Michael Bay<font color="#E5E5E5"> show is another Amazon</font>

778
00:35:59,849 --> 00:36:05,279
account can<font color="#E5E5E5"> be very easily set up and by</font>

779
00:36:02,220 --> 00:36:09,509
default<font color="#E5E5E5"> cannot be touched by anyone else</font>

780
00:36:05,279 --> 00:36:12,299
in that<font color="#CCCCCC"> other account</font><font color="#E5E5E5"> so don't take</font>

781
00:36:09,509 --> 00:36:14,339
<font color="#CCCCCC">chances you take</font><font color="#E5E5E5"> that snapshot and as</font>

782
00:36:12,299 --> 00:36:17,190
soon as it's completed initiate a copy

783
00:36:14,339 --> 00:36:18,230
to<font color="#CCCCCC"> another account get it out of the</font>

784
00:36:17,190 --> 00:36:22,289
danger zone

785
00:36:18,230 --> 00:36:24,380
<font color="#E5E5E5">there's a just I felt</font><font color="#CCCCCC"> like I couldn't go</font>

786
00:36:22,289 --> 00:36:26,009
<font color="#CCCCCC">through this talk without touching on</font>

787
00:36:24,380 --> 00:36:29,369
AWS cloud trail

788
00:36:26,009 --> 00:36:31,559
it's a<font color="#CCCCCC"> cataloguing of API</font><font color="#E5E5E5"> calls almost</font>

789
00:36:29,369 --> 00:36:34,890
<font color="#CCCCCC">all of them there are</font><font color="#E5E5E5"> some caveats to</font>

790
00:36:31,559 --> 00:36:36,749
that<font color="#CCCCCC"> I feel</font><font color="#E5E5E5"> like I've been saying that a</font>

791
00:36:34,890 --> 00:36:40,769
lot<font color="#CCCCCC"> was this you can do</font><font color="#E5E5E5"> this but then</font>

792
00:36:36,749 --> 00:36:42,779
there's a caveat<font color="#CCCCCC"> to</font><font color="#E5E5E5"> it which is a but it</font>

793
00:36:40,769 --> 00:36:44,999
<font color="#CCCCCC">is it is almost all the important</font><font color="#E5E5E5"> things</font>

794
00:36:42,779 --> 00:36:47,640
<font color="#E5E5E5">it is all the important things</font><font color="#CCCCCC"> rather in</font>

795
00:36:44,999 --> 00:36:49,470
an account<font color="#E5E5E5"> enable it</font><font color="#CCCCCC"> write those log</font>

796
00:36:47,640 --> 00:36:51,180
files to a separate<font color="#E5E5E5"> account this does</font>

797
00:36:49,470 --> 00:36:53,399
you two<font color="#E5E5E5"> favors one it can help you</font>

798
00:36:51,180 --> 00:36:56,249
figure out<font color="#E5E5E5"> if someone is</font><font color="#CCCCCC"> on the ec2</font>

799
00:36:53,400 --> 00:36:57,690
instance and is trying<font color="#CCCCCC"> to</font><font color="#E5E5E5"> list snapshots</font>

800
00:36:56,249 --> 00:37:01,558
continuously<font color="#E5E5E5"> trying to see if they can</font>

801
00:36:57,690 --> 00:37:04,349
delete<font color="#CCCCCC"> any of them but also this gives</font>

802
00:37:01,559 --> 00:37:08,940
<font color="#E5E5E5">you proof this gives you a proof of your</font>

803
00:37:04,349 --> 00:37:11,519
<font color="#E5E5E5">custody over a snapshot and let you say</font>

804
00:37:08,940 --> 00:37:14,309
oh yeah<font color="#CCCCCC"> I know that this user</font><font color="#E5E5E5"> forensic</font>

805
00:37:11,519 --> 00:37:16,319
investigator<font color="#E5E5E5"> a logged</font><font color="#CCCCCC"> into</font><font color="#E5E5E5"> this account</font>

806
00:37:14,309 --> 00:37:20,190
and they perform these actions<font color="#E5E5E5"> trigger</font>

807
00:37:16,319 --> 00:37:22,019
snapshot<font color="#CCCCCC"> name snapshot copy snapshot to</font>

808
00:37:20,190 --> 00:37:25,349
other account and then once<font color="#CCCCCC"> in the other</font>

809
00:37:22,019 --> 00:37:27,538
account<font color="#E5E5E5"> forensic investigator be logged</font>

810
00:37:25,349 --> 00:37:29,370
in and they<font color="#CCCCCC"> attach</font><font color="#E5E5E5"> that snapshot to a</font>

811
00:37:27,539 --> 00:37:31,110
new host

812
00:37:29,370 --> 00:37:33,930
and they performed an<font color="#CCCCCC"> analysis</font><font color="#E5E5E5"> of it</font>

813
00:37:31,110 --> 00:37:35,220
<font color="#E5E5E5">there so this helps dramatically with</font>

814
00:37:33,930 --> 00:37:37,560
your chain of<font color="#CCCCCC"> custody you don't need to</font>

815
00:37:35,220 --> 00:37:40,140
have a log<font color="#E5E5E5"> that's viewed and notarized</font>

816
00:37:37,560 --> 00:37:43,110
by<font color="#E5E5E5"> four different</font><font color="#CCCCCC"> people</font><font color="#E5E5E5"> saying who has</font>

817
00:37:40,140 --> 00:37:47,180
<font color="#E5E5E5">done what</font><font color="#CCCCCC"> to an image you can just let</font>

818
00:37:43,110 --> 00:37:50,460
<font color="#E5E5E5">the cloud</font><font color="#CCCCCC"> take care of</font><font color="#E5E5E5"> that for you</font><font color="#CCCCCC"> so</font>

819
00:37:47,180 --> 00:37:52,830
<font color="#CCCCCC">here's sort of a little graphics</font><font color="#E5E5E5"> let's</font>

820
00:37:50,460 --> 00:37:55,440
say this is our Amazon account<font color="#CCCCCC"> we</font><font color="#E5E5E5"> have</font>

821
00:37:52,830 --> 00:37:58,319
one<font color="#E5E5E5"> server in it and there's an EBS</font>

822
00:37:55,440 --> 00:38:01,140
volume attached to that server<font color="#E5E5E5"> and we</font>

823
00:37:58,320 --> 00:38:02,460
suspect<font color="#CCCCCC"> that it's compromised or it's</font>

824
00:38:01,140 --> 00:38:04,250
acting a little strange and<font color="#E5E5E5"> we want to</font>

825
00:38:02,460 --> 00:38:08,280
look<font color="#E5E5E5"> into it deeper</font>

826
00:38:04,250 --> 00:38:11,850
so<font color="#E5E5E5"> trigger the snapshot snapshot winds</font>

827
00:38:08,280 --> 00:38:15,510
up in s3<font color="#E5E5E5"> and after some period of time</font>

828
00:38:11,850 --> 00:38:16,799
<font color="#CCCCCC">it will complete but if we leave it</font>

829
00:38:15,510 --> 00:38:19,470
<font color="#E5E5E5">there and we're gonna try and do a</font>

830
00:38:16,800 --> 00:38:21,990
forensics<font color="#E5E5E5"> all in the same place then</font>

831
00:38:19,470 --> 00:38:25,620
what can happen<font color="#E5E5E5"> is someone else shows</font><font color="#CCCCCC"> up</font>

832
00:38:21,990 --> 00:38:28,729
<font color="#E5E5E5">with API keys and what they can do with</font>

833
00:38:25,620 --> 00:38:34,020
those API keys is burn the snapshot<font color="#E5E5E5"> and</font>

834
00:38:28,730 --> 00:38:36,090
<font color="#CCCCCC">then burn the</font><font color="#E5E5E5"> rest of it out potentially</font>

835
00:38:34,020 --> 00:38:39,060
depends on what permission those keys

836
00:38:36,090 --> 00:38:40,530
have but again<font color="#CCCCCC"> it's easier to grant</font>

837
00:38:39,060 --> 00:38:42,060
<font color="#E5E5E5">admin permissions and sort them out</font>

838
00:38:40,530 --> 00:38:45,780
later than it is to scope your

839
00:38:42,060 --> 00:38:48,000
permissions appropriately so the benefit

840
00:38:45,780 --> 00:38:49,590
here<font color="#E5E5E5"> if you have a separate account you</font>

841
00:38:48,000 --> 00:38:53,970
can still<font color="#CCCCCC"> do the</font><font color="#E5E5E5"> same thing create that</font>

842
00:38:49,590 --> 00:38:57,930
snapshot<font color="#E5E5E5"> gets pushed into</font><font color="#CCCCCC"> s3</font><font color="#E5E5E5"> but then it</font>

843
00:38:53,970 --> 00:39:00,120
<font color="#E5E5E5">gets copied into the</font><font color="#CCCCCC"> other account not</font>

844
00:38:57,930 --> 00:39:04,080
just viewable but actually copied<font color="#E5E5E5"> into</font>

845
00:39:00,120 --> 00:39:06,839
that<font color="#E5E5E5"> other account now yes something bad</font>

846
00:39:04,080 --> 00:39:09,630
can happen<font color="#CCCCCC"> alright</font><font color="#E5E5E5"> someone can still</font>

847
00:39:06,840 --> 00:39:13,200
show up<font color="#E5E5E5"> and they can burn out the whole</font>

848
00:39:09,630 --> 00:39:15,450
the original account<font color="#E5E5E5"> but you still have</font>

849
00:39:13,200 --> 00:39:19,080
<font color="#E5E5E5">that snapshot over in the</font><font color="#CCCCCC"> other account</font>

850
00:39:15,450 --> 00:39:21,779
<font color="#E5E5E5">and their API keys if they were to try</font>

851
00:39:19,080 --> 00:39:28,860
<font color="#CCCCCC">and access that other</font><font color="#E5E5E5"> account are going</font>

852
00:39:21,780 --> 00:39:29,850
to be just<font color="#CCCCCC"> flat</font><font color="#E5E5E5"> out rejected so you may</font>

853
00:39:28,860 --> 00:39:31,620
also<font color="#E5E5E5"> be sad</font>

854
00:39:29,850 --> 00:39:34,230
your attacker will may also be sad

855
00:39:31,620 --> 00:39:37,380
<font color="#E5E5E5">you've lost an account but you</font><font color="#CCCCCC"> have a</font>

856
00:39:34,230 --> 00:39:39,510
way<font color="#CCCCCC"> to trace back and see what actually</font>

857
00:39:37,380 --> 00:39:41,700
happened how<font color="#CCCCCC"> did they get in</font>

858
00:39:39,510 --> 00:39:46,859
and what did they try and hide from you

859
00:39:41,700 --> 00:39:49,290
on the way in<font color="#E5E5E5"> there</font><font color="#CCCCCC"> alright so some</font>

860
00:39:46,859 --> 00:39:52,140
takeaways<font color="#E5E5E5"> what does your threat model</font>

861
00:39:49,290 --> 00:39:54,150
<font color="#CCCCCC">look like if</font><font color="#E5E5E5"> you truly need</font><font color="#CCCCCC"> high-quality</font>

862
00:39:52,140 --> 00:39:56,700
forensics and you need to be able to<font color="#E5E5E5"> say</font>

863
00:39:54,150 --> 00:39:59,940
<font color="#E5E5E5">without the shadow of any doubt that yes</font>

864
00:39:56,700 --> 00:40:04,319
an action<font color="#E5E5E5"> that happened on this instance</font>

865
00:39:59,940 --> 00:40:07,260
<font color="#E5E5E5">I am able to read that data back if you</font>

866
00:40:04,320 --> 00:40:10,890
need<font color="#E5E5E5"> that capability</font><font color="#CCCCCC"> don't use the S c1</font>

867
00:40:07,260 --> 00:40:13,500
<font color="#E5E5E5">s t1</font><font color="#CCCCCC"> or thermal storage</font><font color="#E5E5E5"> your the quality</font>

868
00:40:10,890 --> 00:40:16,618
of<font color="#CCCCCC"> your forensics isn't going to be top</font>

869
00:40:13,500 --> 00:40:18,990
of<font color="#CCCCCC"> the top</font><font color="#E5E5E5"> of the class</font><font color="#CCCCCC"> if you</font><font color="#E5E5E5"> don't</font>

870
00:40:16,619 --> 00:40:20,970
need<font color="#E5E5E5"> that</font><font color="#CCCCCC"> capability</font><font color="#E5E5E5"> then just be aware</font>

871
00:40:18,990 --> 00:40:24,270
of<font color="#E5E5E5"> it understand the limitations</font>

872
00:40:20,970 --> 00:40:27,029
involved when<font color="#E5E5E5"> it comes to to doing a</font>

873
00:40:24,270 --> 00:40:29,580
forensic recovery know that if you have

874
00:40:27,030 --> 00:40:32,400
to do an analysis<font color="#E5E5E5"> on an</font><font color="#CCCCCC"> SE 1 or s t1</font>

875
00:40:29,580 --> 00:40:34,319
<font color="#CCCCCC">drive</font><font color="#E5E5E5"> that it may require a massive</font>

876
00:40:32,400 --> 00:40:36,960
volume<font color="#CCCCCC"> on the other end to collect and</font>

877
00:40:34,320 --> 00:40:39,210
see all those artifacts<font color="#E5E5E5"> the ephemeral</font>

878
00:40:36,960 --> 00:40:41,970
storage<font color="#E5E5E5"> is well it's ephemeral</font><font color="#CCCCCC"> you can't</font>

879
00:40:39,210 --> 00:40:46,050
snapshot it<font color="#CCCCCC"> as soon as the ec2 instance</font>

880
00:40:41,970 --> 00:40:49,069
gets<font color="#E5E5E5"> terminated it goes away so you</font>

881
00:40:46,050 --> 00:40:51,810
<font color="#CCCCCC">won't be able to see</font><font color="#E5E5E5"> that data at all</font>

882
00:40:49,070 --> 00:40:56,040
consider only allowing rights to

883
00:40:51,810 --> 00:41:01,259
<font color="#E5E5E5">non-root EBS volumes that</font><font color="#CCCCCC"> ami with all</font>

884
00:40:56,040 --> 00:41:04,710
of its artifacts can be<font color="#E5E5E5"> very very bad</font>

885
00:41:01,260 --> 00:41:07,109
for your signal-to-noise ratio<font color="#CCCCCC"> it is</font>

886
00:41:04,710 --> 00:41:08,640
<font color="#E5E5E5">possible that if</font><font color="#CCCCCC"> you have a very long</font>

887
00:41:07,109 --> 00:41:10,799
<font color="#E5E5E5">running instance or you</font><font color="#CCCCCC"> have a many</font>

888
00:41:08,640 --> 00:41:12,960
large history<font color="#E5E5E5"> of</font><font color="#CCCCCC"> am eyes or just</font><font color="#E5E5E5"> a lot</font>

889
00:41:10,800 --> 00:41:14,640
<font color="#E5E5E5">of data on</font><font color="#CCCCCC"> it</font><font color="#E5E5E5"> that</font><font color="#CCCCCC"> there'll</font><font color="#E5E5E5"> be too much</font>

890
00:41:12,960 --> 00:41:17,040
noise for you to be able to<font color="#E5E5E5"> find the</font>

891
00:41:14,640 --> 00:41:18,839
<font color="#E5E5E5">deleted files especially</font><font color="#CCCCCC"> if you're not</font>

892
00:41:17,040 --> 00:41:21,000
<font color="#E5E5E5">lucky</font><font color="#CCCCCC"> enough to start out with known</font>

893
00:41:18,840 --> 00:41:23,400
hashes<font color="#CCCCCC"> of your seed files if you're</font>

894
00:41:21,000 --> 00:41:26,010
looking for Apache logs and<font color="#E5E5E5"> Jeanette's</font>

895
00:41:23,400 --> 00:41:28,619
logs<font color="#E5E5E5"> whatever software you're using</font><font color="#CCCCCC"> and</font>

896
00:41:26,010 --> 00:41:33,030
you're looking to<font color="#CCCCCC"> see where</font><font color="#E5E5E5"> those one</font>

897
00:41:28,619 --> 00:41:34,560
are then you you may<font color="#CCCCCC"> not be</font><font color="#E5E5E5"> able to find</font>

898
00:41:33,030 --> 00:41:37,170
<font color="#E5E5E5">them or you may</font><font color="#CCCCCC"> take you a very long</font>

899
00:41:34,560 --> 00:41:41,520
time<font color="#E5E5E5"> to find those log files if they</font>

900
00:41:37,170 --> 00:41:44,190
were successfully recovered also use

901
00:41:41,520 --> 00:41:47,330
multiple<font color="#E5E5E5"> accounts</font><font color="#CCCCCC"> this is something that</font>

902
00:41:44,190 --> 00:41:50,790
<font color="#CCCCCC">I say a lot kind of big proponent of</font><font color="#E5E5E5"> it</font>

903
00:41:47,330 --> 00:41:52,980
<font color="#CCCCCC">they are free to create and using</font>

904
00:41:50,790 --> 00:41:54,750
<font color="#E5E5E5">multiple accounts means that you</font>

905
00:41:52,980 --> 00:41:57,420
can separate out and<font color="#E5E5E5"> reduce your risk</font>

906
00:41:54,750 --> 00:42:00,570
<font color="#CCCCCC">you put up more</font><font color="#E5E5E5"> blast walls so that</font><font color="#CCCCCC"> way</font>

907
00:41:57,420 --> 00:42:03,390
if<font color="#E5E5E5"> something bad does</font><font color="#CCCCCC"> happen</font><font color="#E5E5E5"> you don't</font>

908
00:42:00,570 --> 00:42:06,780
<font color="#E5E5E5">lose everything especially</font><font color="#CCCCCC"> because a</font>

909
00:42:03,390 --> 00:42:08,609
breach of<font color="#E5E5E5"> a server which because I'm</font>

910
00:42:06,780 --> 00:42:10,830
sure all of us<font color="#E5E5E5"> can think of that one</font>

911
00:42:08,609 --> 00:42:13,130
developer that just doesn't have<font color="#E5E5E5"> time</font><font color="#CCCCCC"> to</font>

912
00:42:10,830 --> 00:42:16,830
figure<font color="#E5E5E5"> out their policies and uses an</font>

913
00:42:13,130 --> 00:42:18,930
administrative policy<font color="#CCCCCC"> or maybe there's a</font>

914
00:42:16,830 --> 00:42:21,060
<font color="#E5E5E5">something wrong in</font><font color="#CCCCCC"> your policy that</font>

915
00:42:18,930 --> 00:42:22,770
<font color="#E5E5E5">allows for privilege escalation</font><font color="#CCCCCC"> or</font>

916
00:42:21,060 --> 00:42:26,549
someone put<font color="#CCCCCC"> API keys on an</font><font color="#E5E5E5"> incidence</font>

917
00:42:22,770 --> 00:42:28,980
whatever it is that if<font color="#E5E5E5"> you have done</font>

918
00:42:26,550 --> 00:42:32,220
that that breach of that<font color="#E5E5E5"> server could be</font>

919
00:42:28,980 --> 00:42:33,869
a loss of<font color="#E5E5E5"> all of your stuff</font><font color="#CCCCCC"> the cloud</font>

920
00:42:32,220 --> 00:42:36,480
gives<font color="#E5E5E5"> and the cloud takes away</font>

921
00:42:33,869 --> 00:42:38,220
it will give you as many<font color="#E5E5E5"> servers as</font><font color="#CCCCCC"> you</font>

922
00:42:36,480 --> 00:42:40,920
want with an API key as long as your

923
00:42:38,220 --> 00:42:44,220
<font color="#CCCCCC">credit</font><font color="#E5E5E5"> card still will allow the</font>

924
00:42:40,920 --> 00:42:45,930
transaction but at the same time<font color="#CCCCCC"> it</font><font color="#E5E5E5"> also</font>

925
00:42:44,220 --> 00:42:49,830
allows you<font color="#CCCCCC"> to</font><font color="#E5E5E5"> take away all of those</font>

926
00:42:45,930 --> 00:42:52,290
<font color="#CCCCCC">servers</font><font color="#E5E5E5"> with an API key</font><font color="#CCCCCC"> that account</font>

927
00:42:49,830 --> 00:42:54,600
lets you<font color="#E5E5E5"> limit the</font><font color="#CCCCCC"> blast radius it keeps</font>

928
00:42:52,290 --> 00:42:57,840
your forensics<font color="#CCCCCC"> importa Lee importantly</font>

929
00:42:54,600 --> 00:43:00,750
<font color="#E5E5E5">out of that blast radius</font><font color="#CCCCCC"> finally also</font>

930
00:42:57,840 --> 00:43:02,400
enable cloud trail<font color="#CCCCCC"> it's great for</font>

931
00:43:00,750 --> 00:43:04,800
looking<font color="#E5E5E5"> and seeing what API calls have</font>

932
00:43:02,400 --> 00:43:07,140
happened<font color="#E5E5E5"> it's great for seeing what API</font>

933
00:43:04,800 --> 00:43:08,550
calls<font color="#E5E5E5"> are being denied</font><font color="#CCCCCC"> but make sure</font>

934
00:43:07,140 --> 00:43:10,290
<font color="#E5E5E5">that those cloud trail logs are being</font>

935
00:43:08,550 --> 00:43:11,730
written to another account<font color="#E5E5E5"> because if</font>

936
00:43:10,290 --> 00:43:13,170
you're leaving<font color="#CCCCCC"> it in</font><font color="#E5E5E5"> the same account as</font>

937
00:43:11,730 --> 00:43:16,560
<font color="#E5E5E5">you're potentially compromised</font>

938
00:43:13,170 --> 00:43:19,560
<font color="#E5E5E5">infrastructure then you might have</font><font color="#CCCCCC"> a big</font>

939
00:43:16,560 --> 00:43:21,330
<font color="#E5E5E5">problem as well when it comes to that be</font>

940
00:43:19,560 --> 00:43:23,310
careful<font color="#CCCCCC"> what you write to an AMI</font>

941
00:43:21,330 --> 00:43:26,880
a really<font color="#E5E5E5"> common pattern is for an</font>

942
00:43:23,310 --> 00:43:29,279
organization<font color="#CCCCCC"> to</font><font color="#E5E5E5"> create an ami for use</font>

943
00:43:26,880 --> 00:43:30,990
internally it's very easy<font color="#E5E5E5"> to do then you</font>

944
00:43:29,280 --> 00:43:34,830
<font color="#CCCCCC">have to customize for</font><font color="#E5E5E5"> exactly what you</font>

945
00:43:30,990 --> 00:43:36,839
need<font color="#E5E5E5"> but if that ami is being has API</font>

946
00:43:34,830 --> 00:43:40,830
<font color="#E5E5E5">keys static he's written to it as part</font>

947
00:43:36,840 --> 00:43:43,290
of the building<font color="#E5E5E5"> process</font><font color="#CCCCCC"> it's</font><font color="#E5E5E5"> potentially</font>

948
00:43:40,830 --> 00:43:45,810
up there and visible<font color="#E5E5E5"> if you write</font>

949
00:43:43,290 --> 00:43:48,359
sensitive data<font color="#E5E5E5"> to</font><font color="#CCCCCC"> ami then either</font>

950
00:43:45,810 --> 00:43:50,400
someone in your account may see it or if

951
00:43:48,359 --> 00:43:52,410
that<font color="#E5E5E5"> ami is shared publicly then others</font>

952
00:43:50,400 --> 00:43:59,160
may potentially<font color="#E5E5E5"> be</font><font color="#CCCCCC"> able</font><font color="#E5E5E5"> to see that data</font>

953
00:43:52,410 --> 00:44:01,109
as well so<font color="#CCCCCC"> yeah thank</font><font color="#E5E5E5"> you</font><font color="#CCCCCC"> very much I've</font>

954
00:43:59,160 --> 00:44:01,589
got a few<font color="#E5E5E5"> questions or a few minutes for</font>

955
00:44:01,109 --> 00:44:05,540
<font color="#CCCCCC">questions</font>

956
00:44:01,590 --> 00:44:06,700
<font color="#CCCCCC">but sort of quickly we're hiring</font><font color="#E5E5E5"> if</font>

957
00:44:05,540 --> 00:44:07,990
<font color="#CCCCCC">you're</font>

958
00:44:06,700 --> 00:44:12,368
interested you know someone who's

959
00:44:07,990 --> 00:44:14,589
interested<font color="#CCCCCC"> you like working for a very</font>

960
00:44:12,369 --> 00:44:17,680
stylish<font color="#E5E5E5"> clothing manufacturer</font><font color="#CCCCCC"> that also</font>

961
00:44:14,589 --> 00:44:19,450
makes lots of t-shirts and also on the

962
00:44:17,680 --> 00:44:21,098
side<font color="#CCCCCC"> dabbles and cloud communications</font>

963
00:44:19,450 --> 00:44:23,710
and connecting the world

964
00:44:21,099 --> 00:44:28,630
come join<font color="#E5E5E5"> us we also have</font><font color="#CCCCCC"> a bug bounty</font>

965
00:44:23,710 --> 00:44:29,970
<font color="#E5E5E5">program please come hack us</font><font color="#CCCCCC"> follow the</font>

966
00:44:28,630 --> 00:44:32,770
<font color="#E5E5E5">rules on bugcrowd</font>

967
00:44:29,970 --> 00:44:36,810
<font color="#CCCCCC">but we would love to have</font><font color="#E5E5E5"> more</font><font color="#CCCCCC"> people</font>

968
00:44:32,770 --> 00:44:38,950
taking<font color="#CCCCCC"> a poke and seeing what's possible</font>

969
00:44:36,810 --> 00:44:42,070
<font color="#E5E5E5">finally if</font><font color="#CCCCCC"> you</font><font color="#E5E5E5"> want my contact</font>

970
00:44:38,950 --> 00:44:45,069
information<font color="#E5E5E5"> go ahead and text</font><font color="#CCCCCC"> der</font><font color="#E5E5E5"> beek</font>

971
00:44:42,070 --> 00:44:51,070
<font color="#E5E5E5">on to this phone number and you'll get</font>

972
00:44:45,070 --> 00:45:03,760
my email address<font color="#E5E5E5"> so with that thanks</font><font color="#CCCCCC"> any</font>

973
00:44:51,070 --> 00:45:05,829
questions<font color="#E5E5E5"> yeah so the</font><font color="#CCCCCC"> question</font><font color="#E5E5E5"> was do</font>

974
00:45:03,760 --> 00:45:07,960
you<font color="#CCCCCC"> have different master accounts as</font>

975
00:45:05,829 --> 00:45:09,820
well<font color="#CCCCCC"> or</font><font color="#E5E5E5"> only sort of multiple sub</font>

976
00:45:07,960 --> 00:45:11,920
accounts<font color="#E5E5E5"> underneath the one master and</font>

977
00:45:09,820 --> 00:45:13,599
<font color="#E5E5E5">for a little bit of context for</font><font color="#CCCCCC"> people</font>

978
00:45:11,920 --> 00:45:15,760
that<font color="#E5E5E5"> may not know Amazon allows you to</font>

979
00:45:13,599 --> 00:45:18,849
link<font color="#CCCCCC"> multiple AWS accounts to a single</font>

980
00:45:15,760 --> 00:45:21,430
master<font color="#CCCCCC"> payer account</font><font color="#E5E5E5"> that is basically</font>

981
00:45:18,849 --> 00:45:26,109
<font color="#E5E5E5">like your friend that says oh yeah</font><font color="#CCCCCC"> I got</font>

982
00:45:21,430 --> 00:45:30,609
the tab<font color="#CCCCCC"> the</font><font color="#E5E5E5"> account can also create</font>

983
00:45:26,109 --> 00:45:33,910
<font color="#CCCCCC">other accounts</font><font color="#E5E5E5"> in in this case the limit</font>

984
00:45:30,609 --> 00:45:36,069
<font color="#CCCCCC">of an API key is the sort of the</font><font color="#E5E5E5"> account</font>

985
00:45:33,910 --> 00:45:37,720
it's in if your master<font color="#E5E5E5"> account has</font>

986
00:45:36,069 --> 00:45:40,810
computation running in it and is

987
00:45:37,720 --> 00:45:42,910
potentially<font color="#E5E5E5"> accessible by an attacker</font>

988
00:45:40,810 --> 00:45:45,040
then<font color="#CCCCCC"> I would say you'd want different</font>

989
00:45:42,910 --> 00:45:48,310
<font color="#E5E5E5">master accounts if your master account</font>

990
00:45:45,040 --> 00:45:49,779
<font color="#E5E5E5">is very locked down</font><font color="#CCCCCC"> then it would</font><font color="#E5E5E5"> be</font>

991
00:45:48,310 --> 00:45:51,970
fine<font color="#CCCCCC"> to just</font><font color="#E5E5E5"> to use different sub</font>

992
00:45:49,780 --> 00:45:53,920
accounts because the<font color="#E5E5E5"> API key in account</font>

993
00:45:51,970 --> 00:46:00,868
<font color="#E5E5E5">sub account a isn't</font><font color="#CCCCCC"> going to work</font><font color="#E5E5E5"> for</font>

994
00:45:53,920 --> 00:46:00,869
<font color="#E5E5E5">sub accounts B through Z anyone else yes</font>

995
00:46:02,360 --> 00:46:05,479
[Music]

996
00:46:08,099 --> 00:46:22,089
yeah<font color="#CCCCCC"> no I did</font><font color="#E5E5E5"> not</font><font color="#CCCCCC"> I was just</font><font color="#E5E5E5"> looking</font>

997
00:46:18,130 --> 00:46:26,290
sort<font color="#E5E5E5"> of the the the</font><font color="#CCCCCC"> first</font><font color="#E5E5E5"> chunk of the</font>

998
00:46:22,089 --> 00:46:28,540
the files<font color="#E5E5E5"> I did pull some of those files</font>

999
00:46:26,290 --> 00:46:32,770
down locally<font color="#CCCCCC"> just to make sure that I</font>

1000
00:46:28,540 --> 00:46:34,270
<font color="#E5E5E5">wasn't missing anything</font><font color="#CCCCCC"> - but I yeah I</font>

1001
00:46:32,770 --> 00:46:49,450
was only<font color="#E5E5E5"> looking at those sort of the</font>

1002
00:46:34,270 --> 00:46:52,000
<font color="#E5E5E5">beginning</font><font color="#CCCCCC"> ok ok yes</font><font color="#E5E5E5"> interesting</font><font color="#CCCCCC"> ok I</font>

1003
00:46:49,450 --> 00:46:53,890
think part<font color="#E5E5E5"> of the so part of the other</font>

1004
00:46:52,000 --> 00:46:57,550
reason why I did just<font color="#E5E5E5"> sort</font><font color="#CCCCCC"> of the first</font>

1005
00:46:53,890 --> 00:46:59,618
few<font color="#E5E5E5"> hundred bytes was to see because I</font>

1006
00:46:57,550 --> 00:47:01,240
get multiple text files back that were

1007
00:46:59,619 --> 00:47:03,040
originally<font color="#E5E5E5"> one large file but had been</font>

1008
00:47:01,240 --> 00:47:05,618
split across into multiples and<font color="#E5E5E5"> so I was</font>

1009
00:47:03,040 --> 00:47:08,140
<font color="#CCCCCC">looking to see sort of how many of</font><font color="#E5E5E5"> those</font>

1010
00:47:05,619 --> 00:47:11,380
early files I got but yeah doing<font color="#E5E5E5"> sort of</font>

1011
00:47:08,140 --> 00:47:13,450
the locality<font color="#CCCCCC"> hash thing would be</font>

1012
00:47:11,380 --> 00:47:14,770
interesting to<font color="#E5E5E5"> see sort of the extent of</font>

1013
00:47:13,450 --> 00:47:18,720
corruption and some of the files<font color="#CCCCCC"> that</font>

1014
00:47:14,770 --> 00:47:21,720
maybe didn't<font color="#E5E5E5"> get picked up by this so</font>

1015
00:47:18,720 --> 00:47:32,200
for you<font color="#E5E5E5"> to your homework for</font><font color="#CCCCCC"> next year</font>

1016
00:47:21,720 --> 00:47:35,970
<font color="#CCCCCC">any other questions yeah so the</font><font color="#E5E5E5"> way that</font>

1017
00:47:32,200 --> 00:47:40,509
the snapshot copy permissions work is

1018
00:47:35,970 --> 00:47:42,970
<font color="#E5E5E5">you can from account a say</font><font color="#CCCCCC"> to that you</font>

1019
00:47:40,510 --> 00:47:46,030
will share a snapshot<font color="#E5E5E5"> to account</font><font color="#CCCCCC"> be in</font>

1020
00:47:42,970 --> 00:47:48,700
account B then<font color="#CCCCCC"> you initiate a copy of</font>

1021
00:47:46,030 --> 00:47:50,290
that<font color="#E5E5E5"> snapshot</font><font color="#CCCCCC"> the one</font><font color="#E5E5E5"> that's been shared</font>

1022
00:47:48,700 --> 00:47:52,960
<font color="#CCCCCC">to you in account a and that copy is</font>

1023
00:47:50,290 --> 00:47:56,009
going to reside in<font color="#E5E5E5"> account B because</font>

1024
00:47:52,960 --> 00:47:59,260
that's where your API<font color="#CCCCCC"> keys are home so</font>

1025
00:47:56,010 --> 00:48:01,810
<font color="#E5E5E5">it's a account B has the ability</font><font color="#CCCCCC"> to copy</font>

1026
00:47:59,260 --> 00:48:03,670
<font color="#E5E5E5">account</font><font color="#CCCCCC"> a has the</font><font color="#E5E5E5"> ability to share when</font>

1027
00:48:01,810 --> 00:48:06,640
account B does that copy you get a new

1028
00:48:03,670 --> 00:48:10,260
version<font color="#CCCCCC"> of that</font><font color="#E5E5E5"> snapshot but it's wholly</font>

1029
00:48:06,640 --> 00:48:10,259
contained in your<font color="#E5E5E5"> separate account</font>

1030
00:48:11,220 --> 00:48:32,578
yes<font color="#CCCCCC"> so questions if</font><font color="#E5E5E5"> you're if you're</font>

1031
00:48:27,540 --> 00:48:35,160
<font color="#CCCCCC">baking an ami is it possible to I guess</font>

1032
00:48:32,579 --> 00:48:36,589
<font color="#E5E5E5">zero out some of those the changes so</font>

1033
00:48:35,160 --> 00:48:41,730
this<font color="#CCCCCC"> was another</font><font color="#E5E5E5"> interesting quirk of</font>

1034
00:48:36,589 --> 00:48:43,380
EBS if you read from dev<font color="#E5E5E5"> zero</font><font color="#CCCCCC"> and write</font>

1035
00:48:41,730 --> 00:48:46,349
and fill the whole<font color="#E5E5E5"> disk with zeros and</font>

1036
00:48:43,380 --> 00:48:50,460
then you delete those large zero filled

1037
00:48:46,349 --> 00:48:53,339
files<font color="#CCCCCC"> your it like it this affects</font>

1038
00:48:50,460 --> 00:48:55,170
recovery minimally<font color="#CCCCCC"> it's sort of</font><font color="#E5E5E5"> like</font>

1039
00:48:53,339 --> 00:48:56,819
there's optimization happening that's

1040
00:48:55,170 --> 00:48:58,680
going oh you're writing a<font color="#E5E5E5"> whole bunch of</font>

1041
00:48:56,819 --> 00:49:04,710
<font color="#E5E5E5">zeros</font><font color="#CCCCCC"> yeah yeah</font><font color="#E5E5E5"> totally</font>

1042
00:48:58,680 --> 00:49:05,970
<font color="#CCCCCC">totally i I I</font><font color="#E5E5E5"> need to look more into</font>

1043
00:49:04,710 --> 00:49:07,200
<font color="#E5E5E5">that because</font><font color="#CCCCCC"> I haven't</font><font color="#E5E5E5"> tested that</font>

1044
00:49:05,970 --> 00:49:08,910
across some of the different file types

1045
00:49:07,200 --> 00:49:10,859
<font color="#E5E5E5">and doing like sort of multiple</font>

1046
00:49:08,910 --> 00:49:14,520
generations<font color="#E5E5E5"> of changes which I think</font>

1047
00:49:10,859 --> 00:49:16,410
<font color="#E5E5E5">would be very interesting</font><font color="#CCCCCC"> it's probably</font>

1048
00:49:14,520 --> 00:49:20,970
better if<font color="#CCCCCC"> you</font><font color="#E5E5E5"> wanted to do that</font><font color="#CCCCCC"> to get</font>

1049
00:49:16,410 --> 00:49:23,399
like truly random gibberish and write to

1050
00:49:20,970 --> 00:49:25,709
the files it's just reading from<font color="#E5E5E5"> dev</font>

1051
00:49:23,400 --> 00:49:28,170
random<font color="#E5E5E5"> wit on a source like an instant</font>

1052
00:49:25,710 --> 00:49:30,180
source with very low entropy<font color="#CCCCCC"> I can take</font>

1053
00:49:28,170 --> 00:49:31,619
I<font color="#E5E5E5"> stopped that for a couple of days</font>

1054
00:49:30,180 --> 00:49:33,390
<font color="#E5E5E5">because it had barely filled up the</font>

1055
00:49:31,619 --> 00:49:38,880
drive and I just didn't have<font color="#E5E5E5"> time</font><font color="#CCCCCC"> for</font>

1056
00:49:33,390 --> 00:49:41,790
that<font color="#E5E5E5"> so possible maybe any other</font>

1057
00:49:38,880 --> 00:49:45,050
questions<font color="#CCCCCC"> alright I</font><font color="#E5E5E5"> think we're out of</font>

1058
00:49:41,790 --> 00:49:45,050
<font color="#CCCCCC">time so thank you all very much</font>

1059
00:49:46,230 --> 00:49:48,290
you

