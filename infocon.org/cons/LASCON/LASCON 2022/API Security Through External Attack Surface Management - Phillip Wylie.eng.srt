1
00:00:06,899 --> 00:00:09,080
foreign

2
00:00:17,730 --> 00:00:20,850
[Music]

3
00:00:30,430 --> 00:00:33,489
[Music]

4
00:00:37,280 --> 00:00:45,520
[Music]

5
00:00:51,100 --> 00:00:53,780
[Music]

6
00:00:53,780 --> 00:00:56,100
thanks everyone for attending I hope

7
00:00:56,100 --> 00:00:58,260
you're all enjoying the the conference

8
00:00:58,260 --> 00:01:00,660
today this is my first uh last con so

9
00:01:00,660 --> 00:01:01,980
excited to be here and speaking here

10
00:01:01,980 --> 00:01:02,879
today

11
00:01:02,879 --> 00:01:05,880
so as mentioned my talk is API security

12
00:01:05,880 --> 00:01:07,080
through external attack service

13
00:01:07,080 --> 00:01:09,659
management a little bit about my

14
00:01:09,659 --> 00:01:11,880
background I work for cycognito I'm the

15
00:01:11,880 --> 00:01:13,979
hacker in Residence I was in product

16
00:01:13,979 --> 00:01:17,340
marketing and I got recruited by the CSO

17
00:01:17,340 --> 00:01:19,200
to be the pen tester so instead of a

18
00:01:19,200 --> 00:01:22,979
raise I got a interesting title

19
00:01:22,979 --> 00:01:24,619
so I've been in offensive security

20
00:01:24,619 --> 00:01:26,759
professional for a little over 10 years

21
00:01:26,759 --> 00:01:30,200
and cyber security coming up on 19 years

22
00:01:30,200 --> 00:01:33,000
I'm also a former adjunct instructor I

23
00:01:33,000 --> 00:01:34,619
taught at Dallas college for almost four

24
00:01:34,619 --> 00:01:37,079
years teaching pen testing and web app

25
00:01:37,079 --> 00:01:38,520
pen testing

26
00:01:38,520 --> 00:01:40,320
and I'm the concept Creator and

27
00:01:40,320 --> 00:01:41,820
co-author of the pen tester blueprint

28
00:01:41,820 --> 00:01:43,979
which was based on my experience

29
00:01:43,979 --> 00:01:46,259
teaching so my first day of class

30
00:01:46,259 --> 00:01:48,540
lecture uh telling my students how to

31
00:01:48,540 --> 00:01:49,979
become pen testers what they needed no

32
00:01:49,979 --> 00:01:52,799
to become a pen tester end up turning

33
00:01:52,799 --> 00:01:55,140
into a conference talk by November of

34
00:01:55,140 --> 00:01:56,640
2018

35
00:01:56,640 --> 00:01:59,399
and then it turned into uh did the

36
00:01:59,399 --> 00:02:00,960
conference talk several times but from

37
00:02:00,960 --> 00:02:03,060
being in the tribe hackers red team book

38
00:02:03,060 --> 00:02:05,040
Wiley publishing asked me if I was

39
00:02:05,040 --> 00:02:07,079
interested in writing a book and so I

40
00:02:07,079 --> 00:02:09,060
thought this would be a perfect subject

41
00:02:09,060 --> 00:02:11,640
to write on because you know a lot of

42
00:02:11,640 --> 00:02:12,720
people trying to get in the industry

43
00:02:12,720 --> 00:02:14,760
don't have any idea how to become a pen

44
00:02:14,760 --> 00:02:16,620
tester what prerequisite knowledge is

45
00:02:16,620 --> 00:02:18,540
needed because there's tons of books out

46
00:02:18,540 --> 00:02:20,280
there on on pen testing a lot of really

47
00:02:20,280 --> 00:02:23,099
good books but where to start is missing

48
00:02:23,099 --> 00:02:24,360
in most cases and if you don't know

49
00:02:24,360 --> 00:02:27,360
someone interest industry so this

50
00:02:27,360 --> 00:02:29,040
knowledge was really lacking out there

51
00:02:29,040 --> 00:02:31,739
in the books it's almost also a podcast

52
00:02:31,739 --> 00:02:34,860
host of the hacker Factory podcast and I

53
00:02:34,860 --> 00:02:37,440
am a founder of a Defcon group in Denton

54
00:02:37,440 --> 00:02:40,500
Texas DC 940 and I used to run a group

55
00:02:40,500 --> 00:02:43,580
called The Pawn school project

56
00:02:43,800 --> 00:02:45,420
and so the agenda we're going to be

57
00:02:45,420 --> 00:02:46,940
discussing attack service management

58
00:02:46,940 --> 00:02:49,500
prioritizing the external portion of

59
00:02:49,500 --> 00:02:51,599
attack service management we're going to

60
00:02:51,599 --> 00:02:53,760
cover risky exposed services and

61
00:02:53,760 --> 00:02:56,780
protocols uh risky IP exposures

62
00:02:56,780 --> 00:02:59,580
discovering attack surfaces API pen

63
00:02:59,580 --> 00:03:02,040
testing and tools as well as addressing

64
00:03:02,040 --> 00:03:03,900
gaps with external attack surface

65
00:03:03,900 --> 00:03:05,099
management

66
00:03:05,099 --> 00:03:06,900
so a little slide I used I like to share

67
00:03:06,900 --> 00:03:08,640
here especially for in case there's

68
00:03:08,640 --> 00:03:10,080
anyone in the room that's just getting

69
00:03:10,080 --> 00:03:12,599
getting started out uh this is kind of

70
00:03:12,599 --> 00:03:15,480
my path into offensive security so I

71
00:03:15,480 --> 00:03:17,159
graduated high school didn't know what I

72
00:03:17,159 --> 00:03:18,540
want to do for a living so I became a

73
00:03:18,540 --> 00:03:19,560
pro wrestler

74
00:03:19,560 --> 00:03:22,980
so I did that for a few years uh got

75
00:03:22,980 --> 00:03:24,840
married and had to have a more stable

76
00:03:24,840 --> 00:03:28,440
job with insurance and benefits so I'm

77
00:03:28,440 --> 00:03:30,060
going to a trade school and I became a

78
00:03:30,060 --> 00:03:32,400
cad drafter I learned AutoCAD and so

79
00:03:32,400 --> 00:03:34,319
through AutoCAD I found out about

80
00:03:34,319 --> 00:03:37,019
sysadmin work I was working for this one

81
00:03:37,019 --> 00:03:39,840
company and we're being built out at 30

82
00:03:39,840 --> 00:03:41,400
bucks an hour so we're making half of

83
00:03:41,400 --> 00:03:44,040
that so someone came in to work on our

84
00:03:44,040 --> 00:03:46,260
server was being built at fifty dollars

85
00:03:46,260 --> 00:03:47,760
an hour I thought this guy's making ten

86
00:03:47,760 --> 00:03:49,140
dollars an hour more than me so I need

87
00:03:49,140 --> 00:03:50,459
to be doing what he's doing it looks a

88
00:03:50,459 --> 00:03:52,440
lot more fun so I taught myself how to

89
00:03:52,440 --> 00:03:54,959
build computers I took a Nobel netware

90
00:03:54,959 --> 00:03:57,959
CNE certification course and they got my

91
00:03:57,959 --> 00:04:00,360
first job on a netware 411 and Windows

92
00:04:00,360 --> 00:04:04,860
95 roll out and so about January 2004 I

93
00:04:04,860 --> 00:04:06,420
moved over to the the information

94
00:04:06,420 --> 00:04:09,120
security team at my company I'd had my

95
00:04:09,120 --> 00:04:12,720
eyes on moving into that role uh 2005

96
00:04:12,720 --> 00:04:15,900
the company hired a CSO and he had more

97
00:04:15,900 --> 00:04:17,459
of a modern idea of way things were

98
00:04:17,459 --> 00:04:19,738
being done and kind of siled us into

99
00:04:19,738 --> 00:04:21,358
different groups and that's where I got

100
00:04:21,358 --> 00:04:23,280
put into the appsec group which led me

101
00:04:23,280 --> 00:04:24,680
into pen testing from doing

102
00:04:24,680 --> 00:04:28,199
vulnerability scans and uh web

103
00:04:28,199 --> 00:04:29,759
application vulnerability scans and

104
00:04:29,759 --> 00:04:31,259
managing third-party pen tests that I

105
00:04:31,259 --> 00:04:33,660
found out about pen testing and then in

106
00:04:33,660 --> 00:04:35,820
2012 I got laid off from my job at the

107
00:04:35,820 --> 00:04:37,979
mortgage company and applied for a

108
00:04:37,979 --> 00:04:39,540
Consulting role as a pen tester and so

109
00:04:39,540 --> 00:04:41,759
I've spent 10 years in that role and out

110
00:04:41,759 --> 00:04:42,900
of all the different areas of security

111
00:04:42,900 --> 00:04:45,300
it's the one I've stayed in the longest

112
00:04:45,300 --> 00:04:47,520
before that was appsec which I think is

113
00:04:47,520 --> 00:04:49,919
app sec I was in for about seven years

114
00:04:49,919 --> 00:04:52,740
six or seven years something like that

115
00:04:52,740 --> 00:04:54,840
and so during that time this is a real

116
00:04:54,840 --> 00:04:57,840
bear it's a 750 pound black bear brown

117
00:04:57,840 --> 00:04:59,639
bear I forget which one is the bigger of

118
00:04:59,639 --> 00:05:02,580
the two and and this was a a match I did

119
00:05:02,580 --> 00:05:04,199
in Denton Texas an independent match

120
00:05:04,199 --> 00:05:06,000
that I did at the nightclub where I was

121
00:05:06,000 --> 00:05:07,500
a bouncer at the same place where I

122
00:05:07,500 --> 00:05:08,759
actually happened to wrestle this bear

123
00:05:08,759 --> 00:05:10,919
because if you kind of notice in the

124
00:05:10,919 --> 00:05:13,259
background this little landscape or uh

125
00:05:13,259 --> 00:05:15,120
Skyline you can kind of see the back

126
00:05:15,120 --> 00:05:19,280
it's the the same place but

127
00:05:19,320 --> 00:05:21,419
so to kind of get into the get into the

128
00:05:21,419 --> 00:05:24,060
talk now and so uh attack service

129
00:05:24,060 --> 00:05:25,440
management to understand Tax Service

130
00:05:25,440 --> 00:05:27,539
management we must first Define attack

131
00:05:27,539 --> 00:05:30,120
service management and according to nist

132
00:05:30,120 --> 00:05:32,880
it's this set of points on the boundary

133
00:05:32,880 --> 00:05:36,500
of a system a system element or an

134
00:05:36,500 --> 00:05:40,020
environment where an attacker can try to

135
00:05:40,020 --> 00:05:42,960
enter cause an effect on or extract data

136
00:05:42,960 --> 00:05:45,539
from that system system element or an

137
00:05:45,539 --> 00:05:46,500
environment

138
00:05:46,500 --> 00:05:49,560
so basically you know attack surface you

139
00:05:49,560 --> 00:05:51,419
can look at is the attack vectors in

140
00:05:51,419 --> 00:05:53,900
your environment

141
00:05:54,180 --> 00:05:56,160
and so the importance of attack service

142
00:05:56,160 --> 00:05:58,440
management assesses it assesses security

143
00:05:58,440 --> 00:06:00,600
from the threat actor perspective

144
00:06:00,600 --> 00:06:02,820
it is hard to assess and secure what you

145
00:06:02,820 --> 00:06:04,860
don't know about penetration testing

146
00:06:04,860 --> 00:06:06,840
once or twice a year is not enough we

147
00:06:06,840 --> 00:06:08,039
need to be able to do something in

148
00:06:08,039 --> 00:06:10,440
between those times uh reoccurring

149
00:06:10,440 --> 00:06:12,300
vulnerability scans are not enough

150
00:06:12,300 --> 00:06:14,460
threat actors are constantly scanning

151
00:06:14,460 --> 00:06:16,320
the internet looking for vulnerabilities

152
00:06:16,320 --> 00:06:17,940
to exploit so they're out there using

153
00:06:17,940 --> 00:06:19,500
tools like Showdown whenever the latest

154
00:06:19,500 --> 00:06:22,020
exploitable vulnerability is out there

155
00:06:22,020 --> 00:06:24,360
are different you know vulnerabilities

156
00:06:24,360 --> 00:06:26,039
that are exposed to through Showdown

157
00:06:26,039 --> 00:06:27,240
trying to find these things so they're

158
00:06:27,240 --> 00:06:28,800
constantly looking so we need to be

159
00:06:28,800 --> 00:06:31,500
constantly vigilant

160
00:06:31,500 --> 00:06:33,780
and so here's a kind of a little snippet

161
00:06:33,780 --> 00:06:37,020
from from an article from from cesa.gov

162
00:06:37,020 --> 00:06:39,180
from their known exploited vulnerability

163
00:06:39,180 --> 00:06:41,460
uh PDF that they had out there and this

164
00:06:41,460 --> 00:06:42,660
is just a clip of it because they were

165
00:06:42,660 --> 00:06:44,759
talking about several vulnerabilities

166
00:06:44,759 --> 00:06:46,080
out there that were being chained

167
00:06:46,080 --> 00:06:48,360
together to be able to exploit an

168
00:06:48,360 --> 00:06:49,680
environment it wasn't like highly

169
00:06:49,680 --> 00:06:52,020
critical vulnerabilities so to kind of

170
00:06:52,020 --> 00:06:55,139
read this uh paragraph it says also many

171
00:06:55,139 --> 00:06:56,639
of the vulnerabilities classified as

172
00:06:56,639 --> 00:06:58,740
critical or highly complex and have

173
00:06:58,740 --> 00:07:01,740
never been seen exploded in the

174
00:07:01,740 --> 00:07:03,960
exploited in the wild in fact only four

175
00:07:03,960 --> 00:07:06,419
percent of the total number of cves have

176
00:07:06,419 --> 00:07:08,400
been publicly exploited but threat

177
00:07:08,400 --> 00:07:10,259
actors are extremely fast exploit their

178
00:07:10,259 --> 00:07:12,600
vulnerabilities of choice of those four

179
00:07:12,600 --> 00:07:13,979
percent known

180
00:07:13,979 --> 00:07:17,720
exploited CVS 42 percent are being used

181
00:07:17,720 --> 00:07:21,720
on uh Day Zero disclosure 50 within two

182
00:07:21,720 --> 00:07:25,380
days and 75 within 28 days meanwhile the

183
00:07:25,380 --> 00:07:29,220
CVSs scores on some of these are medium

184
00:07:29,220 --> 00:07:31,020
or even low severity they're chaining

185
00:07:31,020 --> 00:07:33,180
these together so just it when you're

186
00:07:33,180 --> 00:07:34,560
remediating things and I'll probably

187
00:07:34,560 --> 00:07:36,180
mention this throughout this you know

188
00:07:36,180 --> 00:07:37,560
you look at things that are low or

189
00:07:37,560 --> 00:07:39,419
medium someone figures out how to

190
00:07:39,419 --> 00:07:41,520
exploit it then it becomes something

191
00:07:41,520 --> 00:07:43,020
that could be used later on to breach

192
00:07:43,020 --> 00:07:45,539
your company and some cases here they're

193
00:07:45,539 --> 00:07:47,160
talking about how even lows and mediums

194
00:07:47,160 --> 00:07:48,900
are being used and that's even before

195
00:07:48,900 --> 00:07:51,360
someone coming out how to exploit some

196
00:07:51,360 --> 00:07:54,419
of these uh vulnerabilities

197
00:07:54,419 --> 00:07:57,599
so Tax Service management uh addresses

198
00:07:57,599 --> 00:08:00,300
both the internal and external facing

199
00:08:00,300 --> 00:08:02,400
systems while both are important our

200
00:08:02,400 --> 00:08:04,319
Focus today is going to be in external

201
00:08:04,319 --> 00:08:05,460
attack service

202
00:08:05,460 --> 00:08:07,500
and so this talk I originally gave for

203
00:08:07,500 --> 00:08:10,620
Alyssa Knight's uh API secure conference

204
00:08:10,620 --> 00:08:13,139
that she put on back in in April and I

205
00:08:13,139 --> 00:08:15,300
was trying to come up with a topic and

206
00:08:15,300 --> 00:08:17,039
one of the things I was seeing from

207
00:08:17,039 --> 00:08:18,840
where I was working in my experiencing

208
00:08:18,840 --> 00:08:21,180
industry is kind of the external attack

209
00:08:21,180 --> 00:08:22,680
service management and where that's

210
00:08:22,680 --> 00:08:23,879
really needed

211
00:08:23,879 --> 00:08:26,520
to secure apis

212
00:08:26,520 --> 00:08:28,440
so elements of attack service management

213
00:08:28,440 --> 00:08:30,240
so if you really look at a lot of these

214
00:08:30,240 --> 00:08:31,319
things these are things have been going

215
00:08:31,319 --> 00:08:34,620
on for a long time a lot of cases you

216
00:08:34,620 --> 00:08:36,539
were hearing of vulnerability management

217
00:08:36,539 --> 00:08:38,159
teams they were handling a lot of the

218
00:08:38,159 --> 00:08:39,958
vulnerability scanning penetration

219
00:08:39,958 --> 00:08:42,000
testers performing pen testers so a lot

220
00:08:42,000 --> 00:08:43,500
of these elements have have been out

221
00:08:43,500 --> 00:08:45,540
there for a while but you know some of

222
00:08:45,540 --> 00:08:47,100
the terminology changes over the years

223
00:08:47,100 --> 00:08:49,200
like attack surface management attack

224
00:08:49,200 --> 00:08:50,820
surface reduction so you see some of

225
00:08:50,820 --> 00:08:53,100
these different words uh being used

226
00:08:53,100 --> 00:08:54,839
terminology for these different things

227
00:08:54,839 --> 00:08:56,580
it's just kind of funny to look at the

228
00:08:56,580 --> 00:08:58,440
terminology terminology and how it's

229
00:08:58,440 --> 00:09:00,540
changed over the years back in my sis

230
00:09:00,540 --> 00:09:03,360
admin days I remember how some cases

231
00:09:03,360 --> 00:09:05,040
were called Network engineers and we

232
00:09:05,040 --> 00:09:06,899
really weren't Network Engineers it

233
00:09:06,899 --> 00:09:08,760
finally took a while before they started

234
00:09:08,760 --> 00:09:12,180
settling on system engineer or sysadmin

235
00:09:12,180 --> 00:09:14,040
and so the same thing happens with

236
00:09:14,040 --> 00:09:15,180
different areas in the industry like

237
00:09:15,180 --> 00:09:16,380
vulnerability management threat and

238
00:09:16,380 --> 00:09:17,580
vulnerability management but the attack

239
00:09:17,580 --> 00:09:19,740
service management is kind of the new

240
00:09:19,740 --> 00:09:21,720
buzzword and the external attack service

241
00:09:21,720 --> 00:09:26,459
management is on one of Gardner's area

242
00:09:26,459 --> 00:09:29,279
points on their quadrants now so it's

243
00:09:29,279 --> 00:09:30,779
drawing a lot of attention you go to a

244
00:09:30,779 --> 00:09:32,100
lot of conferences and you see a lot of

245
00:09:32,100 --> 00:09:33,720
focus on that a lot of people are moving

246
00:09:33,720 --> 00:09:35,640
from just vulnerability scanning to

247
00:09:35,640 --> 00:09:37,800
other add other features to try to to

248
00:09:37,800 --> 00:09:40,140
address those external attack surface

249
00:09:40,140 --> 00:09:42,480
management needs

250
00:09:42,480 --> 00:09:44,100
so kind of the elements vulnerability

251
00:09:44,100 --> 00:09:45,600
scanning vulnerability assessment and

252
00:09:45,600 --> 00:09:48,120
penetration testing red teaming also

253
00:09:48,120 --> 00:09:50,940
known as adversary emulation and when we

254
00:09:50,940 --> 00:09:53,040
talk about red teaming here I'm talking

255
00:09:53,040 --> 00:09:54,240
about the true term where you're doing

256
00:09:54,240 --> 00:09:56,820
adversary emulation wirefall that's in

257
00:09:56,820 --> 00:09:58,380
the room has one of the best definitions

258
00:09:58,380 --> 00:10:00,600
I've seen is the red team tests The Blue

259
00:10:00,600 --> 00:10:02,279
Team so it's more than just looking for

260
00:10:02,279 --> 00:10:04,380
vulnerabilities so you're not going to

261
00:10:04,380 --> 00:10:05,580
go out there and just try to do a red

262
00:10:05,580 --> 00:10:08,100
team operation against a company it's

263
00:10:08,100 --> 00:10:10,140
funny that I worked for a company once

264
00:10:10,140 --> 00:10:12,660
and this it was ridiculous I had this

265
00:10:12,660 --> 00:10:15,480
director that we needed to have some pen

266
00:10:15,480 --> 00:10:17,880
tests done against our SAP systems

267
00:10:17,880 --> 00:10:19,800
and he was wanting to have a red team

268
00:10:19,800 --> 00:10:22,140
operation done against SAP systems so

269
00:10:22,140 --> 00:10:23,640
the terminology is just funny how it

270
00:10:23,640 --> 00:10:26,100
gets misunderstood sometimes so purple

271
00:10:26,100 --> 00:10:27,540
teaming is something that's come along

272
00:10:27,540 --> 00:10:30,420
that's been very helpful in improving

273
00:10:30,420 --> 00:10:32,100
the security postures of organizations

274
00:10:32,100 --> 00:10:34,680
because if you wait for all the times it

275
00:10:34,680 --> 00:10:36,000
takes to get through your pen test

276
00:10:36,000 --> 00:10:38,160
vulnerability scans do the remediation

277
00:10:38,160 --> 00:10:40,500
those Cycles could lead up to months or

278
00:10:40,500 --> 00:10:42,540
years and with purple teaming you're

279
00:10:42,540 --> 00:10:45,000
able to come in and you know take some

280
00:10:45,000 --> 00:10:46,019
of the tools out of the hands of

281
00:10:46,019 --> 00:10:47,760
attackers by performing these red team

282
00:10:47,760 --> 00:10:49,980
operations executing tools say they're

283
00:10:49,980 --> 00:10:51,720
detected tuning your systems to be able

284
00:10:51,720 --> 00:10:54,899
to detect against that disabling uh you

285
00:10:54,899 --> 00:10:56,880
know dangerous type of tools from being

286
00:10:56,880 --> 00:11:00,120
executed by end users and so forth and

287
00:11:00,120 --> 00:11:02,100
Bug bounties is another opportunity

288
00:11:02,100 --> 00:11:03,660
that's come along that's been helpful

289
00:11:03,660 --> 00:11:06,360
for external attack service management

290
00:11:06,360 --> 00:11:08,579
and also your application security and

291
00:11:08,579 --> 00:11:10,920
and uh testing integrated into your

292
00:11:10,920 --> 00:11:13,079
software development life cycle instead

293
00:11:13,079 --> 00:11:15,180
of waiting until the end to fix the fix

294
00:11:15,180 --> 00:11:16,740
the bugs you know start trying to take

295
00:11:16,740 --> 00:11:18,540
care of the bugs as things are

296
00:11:18,540 --> 00:11:20,279
development some cases things already

297
00:11:20,279 --> 00:11:21,959
out there and you have to kind of pen

298
00:11:21,959 --> 00:11:23,880
test later on but this is something

299
00:11:23,880 --> 00:11:27,200
something to keep in mind

300
00:11:27,300 --> 00:11:29,100
so traditional attack surface management

301
00:11:29,100 --> 00:11:31,440
gaps so one of the things the compliance

302
00:11:31,440 --> 00:11:34,079
based pen testing did was it brought

303
00:11:34,079 --> 00:11:37,200
about the need for pen testing uh you

304
00:11:37,200 --> 00:11:38,880
know based on my experience when I got

305
00:11:38,880 --> 00:11:43,500
in in 2012 uh I saw how compliance-based

306
00:11:43,500 --> 00:11:46,500
pen testing like PCI DSS drove a lot of

307
00:11:46,500 --> 00:11:48,720
pen testing and while that was good and

308
00:11:48,720 --> 00:11:51,000
brought attention a lot of cases what

309
00:11:51,000 --> 00:11:52,500
happened was people were spending all

310
00:11:52,500 --> 00:11:54,839
their funds on PCI testing and

311
00:11:54,839 --> 00:11:56,220
environments were being missed they

312
00:11:56,220 --> 00:11:57,300
should have been in scope for the pen

313
00:11:57,300 --> 00:11:59,100
test you know because

314
00:11:59,100 --> 00:12:00,600
someone could go in and breach one of

315
00:12:00,600 --> 00:12:03,180
your non-pci environments and get access

316
00:12:03,180 --> 00:12:06,959
to critical data pii uh health records

317
00:12:06,959 --> 00:12:09,120
and all sorts of things regardless and

318
00:12:09,120 --> 00:12:10,500
and the attackers don't care if you're

319
00:12:10,500 --> 00:12:11,880
compliant or not they're going to get in

320
00:12:11,880 --> 00:12:14,220
regardless you know if you're not doing

321
00:12:14,220 --> 00:12:16,440
everything that you need to be making

322
00:12:16,440 --> 00:12:18,839
sure to secure your environment not just

323
00:12:18,839 --> 00:12:21,899
tried to check the box for compliance

324
00:12:21,899 --> 00:12:24,240
and so through this the narrow scope so

325
00:12:24,240 --> 00:12:26,820
the missing testing types you know pen

326
00:12:26,820 --> 00:12:29,519
testers are saying this the scope of

327
00:12:29,519 --> 00:12:31,260
this pen test and this is no fault to

328
00:12:31,260 --> 00:12:32,940
their own you got a thousand IP

329
00:12:32,940 --> 00:12:34,860
addresses they're testing those and one

330
00:12:34,860 --> 00:12:37,620
of the things I've kind of seen uh over

331
00:12:37,620 --> 00:12:39,839
the years is the skill set when it comes

332
00:12:39,839 --> 00:12:41,700
to oset a lot of times osense been

333
00:12:41,700 --> 00:12:43,920
missing you got a certain number of IP

334
00:12:43,920 --> 00:12:45,899
addresses you're doing your nmap scans

335
00:12:45,899 --> 00:12:47,459
doing some reconnaissance but you're not

336
00:12:47,459 --> 00:12:49,800
using oscent tools they could uncover

337
00:12:49,800 --> 00:12:52,440
some other uh hosts that are in scope

338
00:12:52,440 --> 00:12:53,760
that are totally being missed that are

339
00:12:53,760 --> 00:12:54,959
vulnerable

340
00:12:54,959 --> 00:12:57,660
an example was back several years ago I

341
00:12:57,660 --> 00:13:01,079
was doing a a black box pen test from

342
00:13:01,079 --> 00:13:02,760
from the internet we only knew the

343
00:13:02,760 --> 00:13:04,139
physical location of the company because

344
00:13:04,139 --> 00:13:07,680
we were also testing physical security

345
00:13:07,680 --> 00:13:09,360
but one of the things I did I went to

346
00:13:09,360 --> 00:13:12,480
look for all the network blocks uh got

347
00:13:12,480 --> 00:13:14,459
all my IP addresses domains the sub

348
00:13:14,459 --> 00:13:16,740
domains but one of the things I noticed

349
00:13:16,740 --> 00:13:18,720
from doing oscent I found an FTP server

350
00:13:18,720 --> 00:13:21,959
in Indonesia that we had no record of in

351
00:13:21,959 --> 00:13:24,779
those in those Network blocks so this is

352
00:13:24,779 --> 00:13:27,720
a clear text FTP server out there on the

353
00:13:27,720 --> 00:13:29,459
internet that got missed if I had done

354
00:13:29,459 --> 00:13:32,639
those in it would have got missed so

355
00:13:32,639 --> 00:13:34,620
this just kind of goes a lot we'll get

356
00:13:34,620 --> 00:13:36,779
into some of the details about uh

357
00:13:36,779 --> 00:13:38,459
asset inventories here in a minute but

358
00:13:38,459 --> 00:13:40,079
this kind of is one of the reasons why

359
00:13:40,079 --> 00:13:41,220
you want to do that the narrow scope

360
00:13:41,220 --> 00:13:43,440
missing those things out so systems and

361
00:13:43,440 --> 00:13:45,240
whole environments get missed out time

362
00:13:45,240 --> 00:13:47,700
and resource limitations so if you're

363
00:13:47,700 --> 00:13:49,519
focusing all your time on

364
00:13:49,519 --> 00:13:51,300
compliance-based pen testing you're not

365
00:13:51,300 --> 00:13:52,800
getting around to everything that you

366
00:13:52,800 --> 00:13:55,260
need to get tested and if you're you

367
00:13:55,260 --> 00:13:57,060
know sometimes budgets are limited so

368
00:13:57,060 --> 00:13:58,560
you don't have that much time for

369
00:13:58,560 --> 00:14:00,240
Consulting you have your own internal

370
00:14:00,240 --> 00:14:03,300
resources but resources are spread thin

371
00:14:03,300 --> 00:14:05,700
and then in incomplete and accurate

372
00:14:05,700 --> 00:14:07,680
asset inventories just going back to

373
00:14:07,680 --> 00:14:10,139
that discovering that FTP server through

374
00:14:10,139 --> 00:14:12,540
oset

375
00:14:12,540 --> 00:14:14,100
and so like we like I said we're

376
00:14:14,100 --> 00:14:15,779
prioritizing the external attack surface

377
00:14:15,779 --> 00:14:17,339
and one of the reasons to do that it you

378
00:14:17,339 --> 00:14:19,920
know internal is a risk uh even looking

379
00:14:19,920 --> 00:14:22,500
at your Wi-Fi connectivity someone from

380
00:14:22,500 --> 00:14:25,139
the outside can could uh hack in through

381
00:14:25,139 --> 00:14:27,060
through your Wi-Fi but the thing about

382
00:14:27,060 --> 00:14:29,339
your external attack surface expose the

383
00:14:29,339 --> 00:14:31,079
internet anyone from anywhere around the

384
00:14:31,079 --> 00:14:33,060
world can attack you so there's a lot

385
00:14:33,060 --> 00:14:35,220
more traffic a lot more attempts anyone

386
00:14:35,220 --> 00:14:37,440
that's ever had managed a web server or

387
00:14:37,440 --> 00:14:39,600
had their own web server monitoring the

388
00:14:39,600 --> 00:14:41,220
logins to see how many failed attempts

389
00:14:41,220 --> 00:14:42,839
from people trying to get in and you

390
00:14:42,839 --> 00:14:44,220
just figure your website this is not

391
00:14:44,220 --> 00:14:46,139
getting that much visibility what's

392
00:14:46,139 --> 00:14:47,579
going to happen if you're a bank or some

393
00:14:47,579 --> 00:14:49,920
fortunate 500 company that are

394
00:14:49,920 --> 00:14:53,339
constantly being attacked so so there's

395
00:14:53,339 --> 00:14:55,560
a lot more opportunity and a lot more

396
00:14:55,560 --> 00:14:57,839
attractiveness for an attacker to try to

397
00:14:57,839 --> 00:14:59,639
Target these organizations and a lot

398
00:14:59,639 --> 00:15:01,980
more easier to to you know attack those

399
00:15:01,980 --> 00:15:04,459
organizations

400
00:15:04,860 --> 00:15:07,019
so risky exposed services and protocols

401
00:15:07,019 --> 00:15:09,060
while we're the main focus is API is

402
00:15:09,060 --> 00:15:11,820
it's worth mentioning that exposures of

403
00:15:11,820 --> 00:15:16,199
RDP different Microsoft protocols SMB

404
00:15:16,199 --> 00:15:18,600
protocols on Unix and Linux systems

405
00:15:18,600 --> 00:15:21,420
clear text protocols like HTTP or FTP

406
00:15:21,420 --> 00:15:23,880
and telnet are dangerous to to expose

407
00:15:23,880 --> 00:15:26,160
the internet so we really with this you

408
00:15:26,160 --> 00:15:28,019
know we're discussing here this with

409
00:15:28,019 --> 00:15:29,579
external attack service management we're

410
00:15:29,579 --> 00:15:31,740
also covering you know the different

411
00:15:31,740 --> 00:15:34,800
exposed data as well as apis and stuff

412
00:15:34,800 --> 00:15:36,720
you want to manage what's being exposed

413
00:15:36,720 --> 00:15:39,680
to the internet

414
00:15:40,139 --> 00:15:43,199
so risky API exposure so most cases at

415
00:15:43,199 --> 00:15:44,579
conference we have to I kind of mention

416
00:15:44,579 --> 00:15:46,760
this stuff because it's typically

417
00:15:46,760 --> 00:15:48,959
conferences with uh people that are in

418
00:15:48,959 --> 00:15:51,660
other areas of security or I.T but you

419
00:15:51,660 --> 00:15:53,639
know basically you know API standard is

420
00:15:53,639 --> 00:15:56,279
API stands for application programming

421
00:15:56,279 --> 00:15:58,139
interface web apis and application

422
00:15:58,139 --> 00:16:00,540
programming interface for the web a

423
00:16:00,540 --> 00:16:02,220
browser API can extend the functionality

424
00:16:02,220 --> 00:16:03,600
of a web browser

425
00:16:03,600 --> 00:16:05,639
a server API can extend the

426
00:16:05,639 --> 00:16:07,260
functionality of a web server so this is

427
00:16:07,260 --> 00:16:09,959
a reference from w3schools.com

428
00:16:09,959 --> 00:16:11,820
just to kind of lay a little groundwork

429
00:16:11,820 --> 00:16:14,699
on what apis are

430
00:16:14,699 --> 00:16:18,480
in Risky API exposures so insecure apis

431
00:16:18,480 --> 00:16:20,100
are of course a risk especially when

432
00:16:20,100 --> 00:16:22,260
it's unintentionally exposed to the

433
00:16:22,260 --> 00:16:23,459
internet even the ones that are

434
00:16:23,459 --> 00:16:24,540
intentionally exposed there are

435
00:16:24,540 --> 00:16:26,699
sometimes you have apis internally that

436
00:16:26,699 --> 00:16:27,899
you don't want to expose to the internet

437
00:16:27,899 --> 00:16:29,820
and you need to make sure that those are

438
00:16:29,820 --> 00:16:33,720
not being being leak leaked out

439
00:16:33,720 --> 00:16:35,279
so addressing external attacks service

440
00:16:35,279 --> 00:16:37,980
management gaps so you need to make sure

441
00:16:37,980 --> 00:16:39,540
you're doing some external attack

442
00:16:39,540 --> 00:16:41,100
service management Discovery you know

443
00:16:41,100 --> 00:16:43,500
helping Define that external attack

444
00:16:43,500 --> 00:16:45,480
surface and then reconnaissance

445
00:16:45,480 --> 00:16:47,820
including oset like I mentioned before I

446
00:16:47,820 --> 00:16:49,920
think is one area that that a lot of pen

447
00:16:49,920 --> 00:16:52,500
testers could work more on because the

448
00:16:52,500 --> 00:16:54,660
narrow Scopes people aren't getting that

449
00:16:54,660 --> 00:16:56,279
much skill in so it's definitely one of

450
00:16:56,279 --> 00:16:58,199
those areas because you see some people

451
00:16:58,199 --> 00:17:00,959
specializing in osent so making sure to

452
00:17:00,959 --> 00:17:03,360
to spend time in these areas to detect

453
00:17:03,360 --> 00:17:05,040
things you might not otherwise just from

454
00:17:05,040 --> 00:17:08,040
scanning a set number of apis or just a

455
00:17:08,040 --> 00:17:10,879
specific subnet

456
00:17:11,400 --> 00:17:12,959
and so during your Discovery you're

457
00:17:12,959 --> 00:17:15,359
going to collect known IP addresses uh

458
00:17:15,359 --> 00:17:18,000
this IP subnets domain names as well as

459
00:17:18,000 --> 00:17:19,799
subdomains and then you're going to do

460
00:17:19,799 --> 00:17:21,000
your reconnaissance against those

461
00:17:21,000 --> 00:17:23,339
targets

462
00:17:23,339 --> 00:17:24,900
so during this reconnaissance we're

463
00:17:24,900 --> 00:17:27,240
going to do our collection of API

464
00:17:27,240 --> 00:17:30,540
address AP IP addresses using the

465
00:17:30,540 --> 00:17:33,360
autonomous system numbers also using

466
00:17:33,360 --> 00:17:35,280
Aaron and ripe your Regional registrars

467
00:17:35,280 --> 00:17:37,320
to get those IP blocks

468
00:17:37,320 --> 00:17:39,419
subdomain enumeration using tools like

469
00:17:39,419 --> 00:17:42,600
SubFinder in owaspa Mass to make sure

470
00:17:42,600 --> 00:17:44,460
you find those subdomains because one of

471
00:17:44,460 --> 00:17:46,500
the interesting things about the this

472
00:17:46,500 --> 00:17:49,020
slide here is this was a reference from

473
00:17:49,020 --> 00:17:51,419
Jason haddock's Bug Hunter methodology

474
00:17:51,419 --> 00:17:52,919
and it's interesting because this

475
00:17:52,919 --> 00:17:56,100
methodology was originally developed to

476
00:17:56,100 --> 00:17:59,160
show how to to hunt for bugs the bug

477
00:17:59,160 --> 00:18:01,559
bounties but there was so much stuff in

478
00:18:01,559 --> 00:18:03,660
the reconnaissance the the presentations

479
00:18:03,660 --> 00:18:05,760
typically just cover the reconnaissance

480
00:18:05,760 --> 00:18:06,900
piece but there's a lot of good

481
00:18:06,900 --> 00:18:08,100
information there

482
00:18:08,100 --> 00:18:10,980
uh one of the things the the bug hunters

483
00:18:10,980 --> 00:18:13,080
will find is if the ones that dig really

484
00:18:13,080 --> 00:18:15,240
deep may find certain kind of bugs but

485
00:18:15,240 --> 00:18:16,799
the ones that are going wide going out

486
00:18:16,799 --> 00:18:18,960
looking for different resources really

487
00:18:18,960 --> 00:18:21,000
doing their oscent are able to uncover

488
00:18:21,000 --> 00:18:23,100
some things uh so using tools like

489
00:18:23,100 --> 00:18:25,200
Showdown like I mentioned crunch base

490
00:18:25,200 --> 00:18:26,940
for mergers and Acquisitions data

491
00:18:26,940 --> 00:18:29,039
collecting that business data that you

492
00:18:29,039 --> 00:18:30,900
may find information on if you can find

493
00:18:30,900 --> 00:18:33,780
Wikipedia articles on that company you

494
00:18:33,780 --> 00:18:36,900
can find some of the mergers information

495
00:18:36,900 --> 00:18:40,260
and on YouTube Jason Haddix has several

496
00:18:40,260 --> 00:18:41,640
versions of this talk but it's really

497
00:18:41,640 --> 00:18:42,419
good

498
00:18:42,419 --> 00:18:44,760
that's actually one of the reasons of

499
00:18:44,760 --> 00:18:46,440
ways I even found bug Bounty is to

500
00:18:46,440 --> 00:18:48,360
improve my web app pin testing skills

501
00:18:48,360 --> 00:18:50,460
from following some of the people on the

502
00:18:50,460 --> 00:18:51,840
bug Bounty scene because one of the

503
00:18:51,840 --> 00:18:53,160
things with bug bounties you're only

504
00:18:53,160 --> 00:18:55,320
getting paid if you find something as

505
00:18:55,320 --> 00:18:56,640
pen testers you know we get paid

506
00:18:56,640 --> 00:18:58,559
regardless so those guys are about to

507
00:18:58,559 --> 00:19:00,299
work a lot harder if they want to make

508
00:19:00,299 --> 00:19:03,539
money at it and so it's kind of one of

509
00:19:03,539 --> 00:19:05,460
the the comparisons I like to make is if

510
00:19:05,460 --> 00:19:07,860
you're a hunter for fun and pleasure

511
00:19:07,860 --> 00:19:09,660
you're not probably going to catch as

512
00:19:09,660 --> 00:19:11,160
much as someone that has that their life

513
00:19:11,160 --> 00:19:12,720
depends on if you're having to hunt for

514
00:19:12,720 --> 00:19:13,559
food

515
00:19:13,559 --> 00:19:14,940
uh you're going to be a lot better

516
00:19:14,940 --> 00:19:16,320
Hunter than someone that's just doing it

517
00:19:16,320 --> 00:19:17,880
for fun and this is kind of the same

518
00:19:17,880 --> 00:19:19,919
thing with bug bounties so these people

519
00:19:19,919 --> 00:19:21,900
come out with different unique ways of

520
00:19:21,900 --> 00:19:23,580
finding things some of them specialize

521
00:19:23,580 --> 00:19:25,919
in certain bugs but some of the things

522
00:19:25,919 --> 00:19:28,260
that I've seen in that I've seen where

523
00:19:28,260 --> 00:19:30,059
the correlation between that and

524
00:19:30,059 --> 00:19:31,679
external attack surface management where

525
00:19:31,679 --> 00:19:34,140
these type of techniques help and one of

526
00:19:34,140 --> 00:19:35,460
the things that actually kind of Drew me

527
00:19:35,460 --> 00:19:37,500
to the company where I'm at looking at

528
00:19:37,500 --> 00:19:38,640
some of the things I saw from pen

529
00:19:38,640 --> 00:19:40,380
testing looking at some of the things

530
00:19:40,380 --> 00:19:43,020
from the bug Bounty world and what they

531
00:19:43,020 --> 00:19:44,520
were doing here

532
00:19:44,520 --> 00:19:46,919
so the reconnaissance scanning so you're

533
00:19:46,919 --> 00:19:49,020
going to scan the IP addresses domains

534
00:19:49,020 --> 00:19:51,780
and subdomains using tools like nmap to

535
00:19:51,780 --> 00:19:53,640
scan for live hosts and then you're

536
00:19:53,640 --> 00:19:55,860
going to use nmap to scan for ports and

537
00:19:55,860 --> 00:19:58,320
services and since the focus of this is

538
00:19:58,320 --> 00:20:00,799
on apis we're going to be looking for

539
00:20:00,799 --> 00:20:03,780
web services where although those other

540
00:20:03,780 --> 00:20:06,120
resources are important but the focus of

541
00:20:06,120 --> 00:20:08,039
this talk is apis so you're going to

542
00:20:08,039 --> 00:20:09,900
look for web services so we can find

543
00:20:09,900 --> 00:20:14,000
where those apis could be located

544
00:20:14,039 --> 00:20:16,500
so API endpoint Discovery so API

545
00:20:16,500 --> 00:20:19,140
enumeration tools like Kite Runner for

546
00:20:19,140 --> 00:20:23,460
restful API Discovery eff foof for word

547
00:20:23,460 --> 00:20:26,520
list based API Discovery and this was

548
00:20:26,520 --> 00:20:29,039
referenced from Katie Paxton fear also

549
00:20:29,039 --> 00:20:32,280
known as Insider PhD another bug Bounty

550
00:20:32,280 --> 00:20:34,740
person that she's got this uh really

551
00:20:34,740 --> 00:20:38,520
good video on YouTube on API pen testing

552
00:20:38,520 --> 00:20:42,059
so it's titled my API testing automated

553
00:20:42,059 --> 00:20:43,980
toolbox and so this is a really good

554
00:20:43,980 --> 00:20:46,520
resource

555
00:20:46,740 --> 00:20:49,260
and so API vulnerability testing also

556
00:20:49,260 --> 00:20:53,000
from Katie's video so different API

557
00:20:53,000 --> 00:20:56,160
testing tools authorize which is a burp

558
00:20:56,160 --> 00:20:58,280
Suite extension for detecting eye doors

559
00:20:58,280 --> 00:21:00,780
log plus plus for multi-threading

560
00:21:00,780 --> 00:21:03,539
logging extension for burp suite and SQL

561
00:21:03,539 --> 00:21:05,360
map for SQL injection

562
00:21:05,360 --> 00:21:08,160
testing and the nosql

563
00:21:08,160 --> 00:21:12,240
map for nosql type testing

564
00:21:12,240 --> 00:21:14,700
for testing those types of databases and

565
00:21:14,700 --> 00:21:18,539
JW tool for Java Script web token

566
00:21:18,539 --> 00:21:19,860
testing

567
00:21:19,860 --> 00:21:21,900
and also burp Suite the interception

568
00:21:21,900 --> 00:21:24,179
proxy and vulnerability testing tool for

569
00:21:24,179 --> 00:21:27,179
testing those endpoints so if most of

570
00:21:27,179 --> 00:21:28,620
you have been seeing some of the talk

571
00:21:28,620 --> 00:21:31,080
talks today around API you can see a lot

572
00:21:31,080 --> 00:21:33,539
of the a lot of the overlaps and some

573
00:21:33,539 --> 00:21:35,460
some really good really good resources

574
00:21:35,460 --> 00:21:38,159
that we shared today so hopefully you

575
00:21:38,159 --> 00:21:39,780
got to see Matt's talk and then earlier

576
00:21:39,780 --> 00:21:42,240
there was a good talk on detecting

577
00:21:42,240 --> 00:21:46,100
hacking apis in 15 minutes

578
00:21:46,500 --> 00:21:50,159
so API vulnerability testing so uh

579
00:21:50,159 --> 00:21:52,140
API vulnerability testing tools and this

580
00:21:52,140 --> 00:21:54,659
is leveraging a wasp zap so they have an

581
00:21:54,659 --> 00:21:57,900
add-on for open API

582
00:21:57,900 --> 00:22:01,620
graphql and soap and also you can import

583
00:22:01,620 --> 00:22:04,140
file there's a an add-on for importing

584
00:22:04,140 --> 00:22:08,100
files containing the uh URLs with these

585
00:22:08,100 --> 00:22:10,500
apis and so the references here from

586
00:22:10,500 --> 00:22:13,740
zapp's website shows how to use zap to

587
00:22:13,740 --> 00:22:16,500
scan apis as well as another article

588
00:22:16,500 --> 00:22:17,940
there from

589
00:22:17,940 --> 00:22:20,940
2017 on scanning apis with zap one of

590
00:22:20,940 --> 00:22:22,980
the things that's really nice about apis

591
00:22:22,980 --> 00:22:25,679
now is all the resources we have

592
00:22:25,679 --> 00:22:27,419
compared to several years ago because

593
00:22:27,419 --> 00:22:30,419
one of the first apis API pen test I did

594
00:22:30,419 --> 00:22:32,159
was probably back in

595
00:22:32,159 --> 00:22:34,440
2015 or so and there just weren't nearly

596
00:22:34,440 --> 00:22:36,960
the the tools out there and so with all

597
00:22:36,960 --> 00:22:39,480
these resources and books out recently

598
00:22:39,480 --> 00:22:41,880
it's made it a lot easier to to learn

599
00:22:41,880 --> 00:22:45,500
how to pick up these these skills

600
00:22:45,720 --> 00:22:48,240
and so API vulnerability testing using

601
00:22:48,240 --> 00:22:51,960
the the owasp API projects of course

602
00:22:51,960 --> 00:22:54,059
which I'm sure most of you are all

603
00:22:54,059 --> 00:22:57,059
familiar with this this project

604
00:22:57,059 --> 00:22:58,380
and some of the tools that didn't

605
00:22:58,380 --> 00:22:59,940
mentioned in there is using like Postman

606
00:22:59,940 --> 00:23:03,360
during your your uh pen tests and as

607
00:23:03,360 --> 00:23:05,159
well as there's like tools like soap UI

608
00:23:05,159 --> 00:23:07,020
that have been used I think one of the

609
00:23:07,020 --> 00:23:09,299
commercial versions actually scans for

610
00:23:09,299 --> 00:23:12,419
vulnerabilities uh before in the past I

611
00:23:12,419 --> 00:23:15,539
would use soap UI and proxy it through

612
00:23:15,539 --> 00:23:17,760
through burp sweder's app to to look for

613
00:23:17,760 --> 00:23:19,020
vulnerabilities but if you have the

614
00:23:19,020 --> 00:23:21,179
commercial version which last time I

615
00:23:21,179 --> 00:23:22,679
checked it really wasn't that expensive

616
00:23:22,679 --> 00:23:25,500
for a vulnerability API vulnerability

617
00:23:25,500 --> 00:23:28,220
testing tool

618
00:23:28,380 --> 00:23:30,480
and so addressing gaps with external Tax

619
00:23:30,480 --> 00:23:31,919
Service management so you're wanting to

620
00:23:31,919 --> 00:23:33,539
make sure that you're constantly

621
00:23:33,539 --> 00:23:36,120
constantly discovering your your attack

622
00:23:36,120 --> 00:23:38,039
surface so achieve and maintain a more

623
00:23:38,039 --> 00:23:40,559
accurate asset inventory with companies

624
00:23:40,559 --> 00:23:42,659
constantly spinning up

625
00:23:42,659 --> 00:23:44,940
infrastructure and applications all the

626
00:23:44,940 --> 00:23:47,580
time uh Shadow I.T is even easier now

627
00:23:47,580 --> 00:23:49,740
and our our attack surface is constantly

628
00:23:49,740 --> 00:23:51,419
changing you know some marketing

629
00:23:51,419 --> 00:23:53,700
departments may run micro services to

630
00:23:53,700 --> 00:23:55,620
run some ad campaigns and they don't

631
00:23:55,620 --> 00:23:58,740
take those down another example too is I

632
00:23:58,740 --> 00:24:00,240
had a friend that was performing a pen

633
00:24:00,240 --> 00:24:01,919
test against a university

634
00:24:01,919 --> 00:24:04,380
all of their application development

635
00:24:04,380 --> 00:24:06,480
students had a website they developed

636
00:24:06,480 --> 00:24:09,179
apps on and so all these these sites

637
00:24:09,179 --> 00:24:10,559
were being built over the years not

638
00:24:10,559 --> 00:24:12,539
taken down not being patched not being

639
00:24:12,539 --> 00:24:14,520
pen tested leaving these vulnerabilities

640
00:24:14,520 --> 00:24:15,840
out there hanging

641
00:24:15,840 --> 00:24:19,260
and so they had the college finally got

642
00:24:19,260 --> 00:24:21,179
around to doing a pen test to detect all

643
00:24:21,179 --> 00:24:23,159
these so they could take them take them

644
00:24:23,159 --> 00:24:24,780
down and out of production since they

645
00:24:24,780 --> 00:24:26,880
weren't being patched and you know

646
00:24:26,880 --> 00:24:28,799
basically vulnerability vulnerabilities

647
00:24:28,799 --> 00:24:30,600
just laying there expect you know

648
00:24:30,600 --> 00:24:32,159
waiting to be breached

649
00:24:32,159 --> 00:24:35,220
and so continuous testing so making sure

650
00:24:35,220 --> 00:24:36,480
that you're constantly vulnerability

651
00:24:36,480 --> 00:24:39,240
scanning pen testing using external Tax

652
00:24:39,240 --> 00:24:42,000
Service management platforms some

653
00:24:42,000 --> 00:24:43,740
organizations are offering continuous

654
00:24:43,740 --> 00:24:45,059
pen testing that way you've got

655
00:24:45,059 --> 00:24:46,500
something going on in between your

656
00:24:46,500 --> 00:24:48,419
Cycles because with some companies you

657
00:24:48,419 --> 00:24:50,059
know it's like maybe one pen test a year

658
00:24:50,059 --> 00:24:53,400
uh maybe a retest maybe twice a year and

659
00:24:53,400 --> 00:24:55,460
so there's all that time in between

660
00:24:55,460 --> 00:24:57,900
one pen test I'd performed back years

661
00:24:57,900 --> 00:25:00,539
ago while I was Consulting I did the

662
00:25:00,539 --> 00:25:02,340
test in January the vulnerability we

663
00:25:02,340 --> 00:25:04,220
found was like a low level vulnerability

664
00:25:04,220 --> 00:25:06,600
90 days later went back to retest

665
00:25:06,600 --> 00:25:08,580
someone figured out how to exploit it so

666
00:25:08,580 --> 00:25:10,140
if they hadn't had a retest done that

667
00:25:10,140 --> 00:25:12,059
vulnerability would have been out there

668
00:25:12,059 --> 00:25:15,059
vulnerable to to exploitation so we need

669
00:25:15,059 --> 00:25:16,080
to keep those

670
00:25:16,080 --> 00:25:17,580
to be serious with that I know I'm

671
00:25:17,580 --> 00:25:18,720
probably preaching the choir here when

672
00:25:18,720 --> 00:25:21,000
we try to get people to to remediate and

673
00:25:21,000 --> 00:25:23,100
not file risk acceptance or expect to

674
00:25:23,100 --> 00:25:26,039
use their their cyber Insurance to to

675
00:25:26,039 --> 00:25:27,600
take care of it which is kind of a lame

676
00:25:27,600 --> 00:25:30,419
excuse for not fixing things sometimes

677
00:25:30,419 --> 00:25:31,860
so again The Continuous testing

678
00:25:31,860 --> 00:25:33,900
automation so to be able to scale what

679
00:25:33,900 --> 00:25:35,600
you're doing automation is very helpful

680
00:25:35,600 --> 00:25:38,159
uh it improves scalability and resource

681
00:25:38,159 --> 00:25:40,860
limitations and improves consistency so

682
00:25:40,860 --> 00:25:43,020
some of your redundant tasks if you're a

683
00:25:43,020 --> 00:25:45,179
pen tester if you can automate some of

684
00:25:45,179 --> 00:25:46,260
the things you're doing then you can

685
00:25:46,260 --> 00:25:47,760
make your life easier and spend more

686
00:25:47,760 --> 00:25:50,039
time on the fun things besides just

687
00:25:50,039 --> 00:25:52,140
trying to validate uh

688
00:25:52,140 --> 00:25:56,220
SSL and TLS related findings

689
00:25:56,220 --> 00:25:58,020
that is like the worst thing for pen

690
00:25:58,020 --> 00:25:59,940
testers to have to do those

691
00:25:59,940 --> 00:26:02,159
and also remediation timely and complete

692
00:26:02,159 --> 00:26:04,500
remediation

693
00:26:04,500 --> 00:26:06,419
the system references that I have here

694
00:26:06,419 --> 00:26:09,360
uh Corey Ball's book hacking apis is a

695
00:26:09,360 --> 00:26:12,000
really good book and he also recently

696
00:26:12,000 --> 00:26:15,919
released some training on

697
00:26:15,919 --> 00:26:19,200
university.api SEC it's an API actually

698
00:26:19,200 --> 00:26:20,880
they have an API

699
00:26:20,880 --> 00:26:22,880
certification for it

700
00:26:22,880 --> 00:26:25,080
it's got all the training on there it's

701
00:26:25,080 --> 00:26:26,940
based on his book so that's a really

702
00:26:26,940 --> 00:26:29,100
good resource for training he originally

703
00:26:29,100 --> 00:26:31,380
released the training during Defcon like

704
00:26:31,380 --> 00:26:33,240
in a YouTube video series he did

705
00:26:33,240 --> 00:26:34,620
something in the red team Village there

706
00:26:34,620 --> 00:26:36,299
did some training so that's available

707
00:26:36,299 --> 00:26:38,360
out there really good resource

708
00:26:38,360 --> 00:26:42,840
and actually this this presentation I

709
00:26:42,840 --> 00:26:44,760
did a article for U.S cyber security

710
00:26:44,760 --> 00:26:46,320
magazine so if you're interested in that

711
00:26:46,320 --> 00:26:48,659
it's got some of the resources listed in

712
00:26:48,659 --> 00:26:50,820
there as well as a list on here the

713
00:26:50,820 --> 00:26:52,620
resources from Jason Haddix and Katie

714
00:26:52,620 --> 00:26:55,200
Paxton fear

715
00:26:55,200 --> 00:26:57,360
and so that concludes the presentation

716
00:26:57,360 --> 00:27:00,179
we can open it up to questions if anyone

717
00:27:00,179 --> 00:27:03,080
has any questions

718
00:27:08,760 --> 00:27:11,760
sure

719
00:27:12,380 --> 00:27:15,360
so thanks for the talk uh API secret is

720
00:27:15,360 --> 00:27:17,700
super important uh

721
00:27:17,700 --> 00:27:19,860
one of the things that confuses me

722
00:27:19,860 --> 00:27:23,520
though is uh you know apis there's lots

723
00:27:23,520 --> 00:27:25,320
of Open Source libraries

724
00:27:25,320 --> 00:27:27,539
but in when people talk about API

725
00:27:27,539 --> 00:27:28,620
security

726
00:27:28,620 --> 00:27:31,080
they don't include open source security

727
00:27:31,080 --> 00:27:33,059
as part of that discussion I'm just

728
00:27:33,059 --> 00:27:35,159
wondering how how do you see that how do

729
00:27:35,159 --> 00:27:36,480
you know how do you how would you think

730
00:27:36,480 --> 00:27:38,100
about testing it

731
00:27:38,100 --> 00:27:39,720
yeah I definitely think it should be

732
00:27:39,720 --> 00:27:42,240
part part of the testing and one of the

733
00:27:42,240 --> 00:27:43,980
things too I've seen is to have a

734
00:27:43,980 --> 00:27:46,080
process in place for check testing your

735
00:27:46,080 --> 00:27:48,779
your open source tools that you're using

736
00:27:48,779 --> 00:27:50,220
and then you make sure you're validating

737
00:27:50,220 --> 00:27:52,200
you know because just like log for for

738
00:27:52,200 --> 00:27:54,120
Jay there are certain Java libraries

739
00:27:54,120 --> 00:27:56,940
using those vulnerable libraries but

740
00:27:56,940 --> 00:27:58,860
keeping track of that us was talking to

741
00:27:58,860 --> 00:28:00,120
someone recently that they had a really

742
00:28:00,120 --> 00:28:02,279
good process set up that they were

743
00:28:02,279 --> 00:28:04,679
keeping the software bill of materials

744
00:28:04,679 --> 00:28:06,419
that they kept track of all the things

745
00:28:06,419 --> 00:28:08,039
they did and track that so it definitely

746
00:28:08,039 --> 00:28:11,220
needs to be tested not ruled out because

747
00:28:11,220 --> 00:28:12,779
open source just like anything else can

748
00:28:12,779 --> 00:28:13,860
be vulnerability and some of those

749
00:28:13,860 --> 00:28:15,299
things lay out there forever before

750
00:28:15,299 --> 00:28:17,880
someone discovers it you know the bad

751
00:28:17,880 --> 00:28:19,260
guys aren't going to let you know they

752
00:28:19,260 --> 00:28:20,760
found it until you've been breached on

753
00:28:20,760 --> 00:28:22,320
it then hopefully the security

754
00:28:22,320 --> 00:28:23,940
researchers find it first so we can

755
00:28:23,940 --> 00:28:25,260
actually fix it

756
00:28:25,260 --> 00:28:27,059
yeah well I mean you didn't mention it

757
00:28:27,059 --> 00:28:28,559
right I'm serious like why aren't people

758
00:28:28,559 --> 00:28:30,960
talking about that as a big part of UK

759
00:28:30,960 --> 00:28:33,059
security yeah definitely it's just an

760
00:28:33,059 --> 00:28:35,460
oversight in my opinion but I don't I

761
00:28:35,460 --> 00:28:37,260
don't understand what's going on yeah

762
00:28:37,260 --> 00:28:39,419
hell y'all that that I think one of the

763
00:28:39,419 --> 00:28:40,980
things that's good about API security I

764
00:28:40,980 --> 00:28:43,919
think we're at now where Cloud was about

765
00:28:43,919 --> 00:28:45,480
three to five years ago there's finally

766
00:28:45,480 --> 00:28:47,400
good resources people see it's aware so

767
00:28:47,400 --> 00:28:49,020
I think we're going in Direction the

768
00:28:49,020 --> 00:28:51,360
right way but as you mentioned the the

769
00:28:51,360 --> 00:28:53,279
open source stuff and I think we need to

770
00:28:53,279 --> 00:28:55,320
keep that in mind for anything software

771
00:28:55,320 --> 00:28:57,720
related any tool we're using you know

772
00:28:57,720 --> 00:28:59,460
open source

773
00:28:59,460 --> 00:29:01,080
because it's good tools but you just got

774
00:29:01,080 --> 00:29:02,640
to make sure that you're you're testing

775
00:29:02,640 --> 00:29:03,720
it and keeping up with the latest

776
00:29:03,720 --> 00:29:05,100
versions and you know with some of the

777
00:29:05,100 --> 00:29:07,799
the log for for Jay stuff you hear where

778
00:29:07,799 --> 00:29:10,080
people go in and and build a new server

779
00:29:10,080 --> 00:29:12,179
and they didn't apply the patch and the

780
00:29:12,179 --> 00:29:13,380
vulnerability is still lingering and

781
00:29:13,380 --> 00:29:15,620
laying around out there

782
00:29:15,620 --> 00:29:18,918
sure yeah

783
00:29:20,279 --> 00:29:23,700
let's see so uh almost all new

784
00:29:23,700 --> 00:29:26,520
applications are apis on the server side

785
00:29:26,520 --> 00:29:28,500
and browser apps

786
00:29:28,500 --> 00:29:32,039
mobile apps and you know other kinds of

787
00:29:32,039 --> 00:29:34,500
clients on the client side

788
00:29:34,500 --> 00:29:37,799
and it's been like that for quite a

789
00:29:37,799 --> 00:29:40,860
while five years ten years maybe I don't

790
00:29:40,860 --> 00:29:42,360
know I started like you mentioned when

791
00:29:42,360 --> 00:29:43,620
you test your first API I don't remember

792
00:29:43,620 --> 00:29:45,000
when access to my first it was like

793
00:29:45,000 --> 00:29:49,679
2007. okay and I I ran into a API driven

794
00:29:49,679 --> 00:29:53,159
website and it blew up web scare I mean

795
00:29:53,159 --> 00:29:54,779
just demolished it because it was

796
00:29:54,779 --> 00:29:57,659
popping up you know everything so is you

797
00:29:57,659 --> 00:29:59,399
know it is a challenge but it's been a

798
00:29:59,399 --> 00:30:02,460
long time yes and so

799
00:30:02,460 --> 00:30:05,460
I went through that was API top 10.

800
00:30:05,460 --> 00:30:08,220
pretty carefully side by side with the

801
00:30:08,220 --> 00:30:13,080
API talk to them and it looks to me like

802
00:30:13,080 --> 00:30:15,480
there shouldn't be two different tokens

803
00:30:15,480 --> 00:30:18,000
most of the stuff in the API top 10 is

804
00:30:18,000 --> 00:30:19,440
like different versions of Access

805
00:30:19,440 --> 00:30:22,200
Control problems and

806
00:30:22,200 --> 00:30:25,080
so they cut it so there's like six axis

807
00:30:25,080 --> 00:30:26,580
control ones in there and then there's

808
00:30:26,580 --> 00:30:29,340
four others if you take those six and

809
00:30:29,340 --> 00:30:31,559
you know map them into s control

810
00:30:31,559 --> 00:30:33,120
then there's a bunch of gaps and if you

811
00:30:33,120 --> 00:30:34,620
look at the other things in the OS top

812
00:30:34,620 --> 00:30:37,799
10 they apply equally to apis things

813
00:30:37,799 --> 00:30:41,460
like design issues and ssrf is a

814
00:30:41,460 --> 00:30:43,380
important one but like

815
00:30:43,380 --> 00:30:45,779
I'm wondering if you think it's really a

816
00:30:45,779 --> 00:30:47,940
separate spacer is it just application

817
00:30:47,940 --> 00:30:49,679
security and it doesn't need to be a

818
00:30:49,679 --> 00:30:52,500
separate category called API secure

819
00:30:52,500 --> 00:30:54,360
yeah I don't know I don't see anything

820
00:30:54,360 --> 00:30:55,559
wrong with having the separate

821
00:30:55,559 --> 00:30:57,059
categories make sure people keep in mind

822
00:30:57,059 --> 00:30:58,559
one of the things also I'll say too when

823
00:30:58,559 --> 00:31:01,200
you're doing your testing is the thing

824
00:31:01,200 --> 00:31:04,320
about the OAS top 10 it's what is the

825
00:31:04,320 --> 00:31:06,899
current most common vulnerability so we

826
00:31:06,899 --> 00:31:07,919
want to make sure we're using like the

827
00:31:07,919 --> 00:31:10,440
watch testing guide uh using like the

828
00:31:10,440 --> 00:31:11,940
web application hackers handbook and

829
00:31:11,940 --> 00:31:13,700
testing for that and not just based on

830
00:31:13,700 --> 00:31:16,260
that top 10 or whatever

831
00:31:16,260 --> 00:31:17,820
because you look at some of the bug

832
00:31:17,820 --> 00:31:20,220
Bounty companies uh a lot of them are

833
00:31:20,220 --> 00:31:23,039
using uh ports wiggers where they use

834
00:31:23,039 --> 00:31:24,299
the web used to be the web application

835
00:31:24,299 --> 00:31:25,980
hackers handbook but since they put all

836
00:31:25,980 --> 00:31:28,500
that online now using that as a testing

837
00:31:28,500 --> 00:31:31,500
guide along with OAS testing guide too

838
00:31:31,500 --> 00:31:33,840
instead of just you know just you know

839
00:31:33,840 --> 00:31:37,158
basing off the top 10 or whatever

840
00:31:39,140 --> 00:31:42,899
guys I'm curious what you think the role

841
00:31:42,899 --> 00:31:46,740
of tools like SAS and I asked are in the

842
00:31:46,740 --> 00:31:49,559
testing process here for apis yeah do

843
00:31:49,559 --> 00:31:50,880
you think they're less effective or more

844
00:31:50,880 --> 00:31:53,580
effective or you know I think I think

845
00:31:53,580 --> 00:31:56,039
it's important to to use and also too I

846
00:31:56,039 --> 00:31:57,659
the the focus was external but the

847
00:31:57,659 --> 00:31:59,340
internal piece is important and one of

848
00:31:59,340 --> 00:32:01,080
the things that maybe I didn't mention

849
00:32:01,080 --> 00:32:03,059
in the talk that maybe I should have too

850
00:32:03,059 --> 00:32:05,460
is we want to secure our internal apis

851
00:32:05,460 --> 00:32:07,380
just in case that they were leaked you

852
00:32:07,380 --> 00:32:09,539
know have them just as secure

853
00:32:09,539 --> 00:32:11,159
yeah I think zero trust would say

854
00:32:11,159 --> 00:32:12,960
everything is public accessible right

855
00:32:12,960 --> 00:32:15,000
yeah so yeah you got to secure yeah

856
00:32:15,000 --> 00:32:16,860
there is no way because you never can't

857
00:32:16,860 --> 00:32:19,080
tell when someone's gonna misconfigure a

858
00:32:19,080 --> 00:32:20,760
firewall or something and or you take

859
00:32:20,760 --> 00:32:22,620
some universities that have like

860
00:32:22,620 --> 00:32:25,799
you know a whole uh publicly routable

861
00:32:25,799 --> 00:32:27,539
subnet and something happens one day the

862
00:32:27,539 --> 00:32:29,159
trip you know I've seen says

863
00:32:29,159 --> 00:32:30,539
universities where they were publicly

864
00:32:30,539 --> 00:32:32,700
routable and if you you know you could

865
00:32:32,700 --> 00:32:35,340
get to it from the internet and so cases

866
00:32:35,340 --> 00:32:36,539
like that you know some large

867
00:32:36,539 --> 00:32:38,220
organizations back years ago that bought

868
00:32:38,220 --> 00:32:39,659
those subnets and

869
00:32:39,659 --> 00:32:41,100
you know it could be internet routable

870
00:32:41,100 --> 00:32:43,020
and if you're not blocking things in a

871
00:32:43,020 --> 00:32:45,179
firewall then that's not good

872
00:32:45,179 --> 00:32:47,460
I'm sorry oh good question though thanks

873
00:32:47,460 --> 00:32:49,440
for the interaction

874
00:32:49,440 --> 00:32:53,179
anyone else have questions or comments

875
00:32:54,380 --> 00:32:57,240
I always like to ask like what you tried

876
00:32:57,240 --> 00:32:59,100
that didn't work like what are things

877
00:32:59,100 --> 00:33:01,919
that I shouldn't try to sort of thing

878
00:33:01,919 --> 00:33:04,380
right if you could save me some time I'd

879
00:33:04,380 --> 00:33:07,039
love to hear it

880
00:33:07,380 --> 00:33:08,940
man I just I can't think of anything

881
00:33:08,940 --> 00:33:10,440
right off hand but just one of the the

882
00:33:10,440 --> 00:33:13,140
crazy things is like in our platform you

883
00:33:13,140 --> 00:33:15,059
know plc's shouldn't be exposed to the

884
00:33:15,059 --> 00:33:16,620
internet but we've had customers where

885
00:33:16,620 --> 00:33:19,320
they've had plc's expose the internet so

886
00:33:19,320 --> 00:33:21,240
whatever water treatment facility or

887
00:33:21,240 --> 00:33:23,279
manufacturing facility you could just go

888
00:33:23,279 --> 00:33:25,440
into that that page and click on

889
00:33:25,440 --> 00:33:26,399
something

890
00:33:26,399 --> 00:33:30,139
I just don't try that yeah

891
00:33:38,340 --> 00:33:40,140
I was Chris what do you think about apis

892
00:33:40,140 --> 00:33:42,659
that don't consume HTTP like back-end

893
00:33:42,659 --> 00:33:44,460
connections that consumer well it's not

894
00:33:44,460 --> 00:33:46,500
back in it's really public but like it's

895
00:33:46,500 --> 00:33:50,279
pulling messages off mq or uh you know

896
00:33:50,279 --> 00:33:52,799
from serverless functions or you know

897
00:33:52,799 --> 00:33:56,760
how do you go about testing those

898
00:33:56,760 --> 00:33:59,640
yeah that yeah I'm not really an API

899
00:33:59,640 --> 00:34:02,820
expert so yeah I just really couldn't

900
00:34:02,820 --> 00:34:05,600
yeah yeah

901
00:34:10,560 --> 00:34:12,418
anyone else

902
00:34:12,418 --> 00:34:15,060
do you have any recommended tools

903
00:34:15,060 --> 00:34:20,540
uh yeah Kite Runner yeah okay okay

904
00:34:25,859 --> 00:34:28,219
and if anyone wants to can

905
00:34:28,219 --> 00:34:30,899
oh yeah well as mentioned earlier Kite

906
00:34:30,899 --> 00:34:34,619
Runner uh you know Postman is a popular

907
00:34:34,619 --> 00:34:37,619
tool for that and also too another good

908
00:34:37,619 --> 00:34:39,719
resource on some API stuff is a is

909
00:34:39,719 --> 00:34:42,000
Alyssa Knight's content because in her

910
00:34:42,000 --> 00:34:44,339
YouTube channel she's done a lot of API

911
00:34:44,339 --> 00:34:47,639
pen testing and she goes into leveraging

912
00:34:47,639 --> 00:34:50,219
like even mobile apps to to get access

913
00:34:50,219 --> 00:34:52,619
to apis through that but the funny thing

914
00:34:52,619 --> 00:34:54,480
is to go back old schools people

915
00:34:54,480 --> 00:34:56,219
remember before apis and we had like

916
00:34:56,219 --> 00:34:59,460
middleware servers

917
00:34:59,460 --> 00:35:03,140
or Microsoft bizworks

918
00:35:08,820 --> 00:35:10,079
nope

919
00:35:10,079 --> 00:35:11,770
thanks everyone

920
00:35:11,770 --> 00:35:19,030
[Applause]

