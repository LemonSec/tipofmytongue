1
00:00:06,899 --> 00:00:09,080
foreign

2
00:00:17,730 --> 00:00:20,850
[Music]

3
00:00:30,430 --> 00:00:33,489
[Music]

4
00:00:37,280 --> 00:00:45,520
[Music]

5
00:00:51,100 --> 00:00:53,899
[Music]

6
00:00:53,899 --> 00:00:56,100
hey everyone

7
00:00:56,100 --> 00:00:58,559
um my name is Jeff I also go by code

8
00:00:58,559 --> 00:01:01,800
doctor if you ever want to reach me you

9
00:01:01,800 --> 00:01:04,559
can email me code doctor c-o-d-e-d-r at

10
00:01:04,559 --> 00:01:06,560
amazon.com

11
00:01:06,560 --> 00:01:09,960
I am from Portland Oregon and I like to

12
00:01:09,960 --> 00:01:12,780
submit talks to places in the southern

13
00:01:12,780 --> 00:01:14,520
part of the United States from like

14
00:01:14,520 --> 00:01:16,680
November through March so I have a place

15
00:01:16,680 --> 00:01:18,360
to go warm up

16
00:01:18,360 --> 00:01:21,960
I have been in a homeless member

17
00:01:21,960 --> 00:01:24,240
for I don't know about a decade now

18
00:01:24,240 --> 00:01:25,979
lifetime membership

19
00:01:25,979 --> 00:01:29,040
I'm available on on Twitter LinkedIn

20
00:01:29,040 --> 00:01:31,259
GitHub so forth please feel free to

21
00:01:31,259 --> 00:01:32,880
reach out

22
00:01:32,880 --> 00:01:34,860
um would love to talk to other folks I

23
00:01:34,860 --> 00:01:37,500
also like to contribute to OAS projects

24
00:01:37,500 --> 00:01:39,659
so I spent the last four years

25
00:01:39,659 --> 00:01:41,880
developing

26
00:01:41,880 --> 00:01:46,079
security education content for Nike

27
00:01:46,079 --> 00:01:49,979
and now I'm at Amazon trying to expand

28
00:01:49,979 --> 00:01:51,960
that and just the scale of a company

29
00:01:51,960 --> 00:01:55,200
like the size of Amazon it's funny there

30
00:01:55,200 --> 00:01:58,560
were about 6 000 developers in total at

31
00:01:58,560 --> 00:01:59,460
Nike

32
00:01:59,460 --> 00:02:01,439
and I work it now at Amazon in the

33
00:02:01,439 --> 00:02:03,180
devices organization if you're not

34
00:02:03,180 --> 00:02:06,299
familiar Amazon has AWS and Retail and

35
00:02:06,299 --> 00:02:08,160
we also make things like Alexa and ring

36
00:02:08,160 --> 00:02:09,840
and all that kind of stuff so I work on

37
00:02:09,840 --> 00:02:12,060
the design devices side there's like 15

38
00:02:12,060 --> 00:02:15,000
000 folks just in in devices so the

39
00:02:15,000 --> 00:02:16,739
scale of trying to reach developers with

40
00:02:16,739 --> 00:02:19,020
the information and and get training

41
00:02:19,020 --> 00:02:21,780
into their their brain is uh is an

42
00:02:21,780 --> 00:02:24,300
interesting challenge for sure

43
00:02:24,300 --> 00:02:25,680
um yeah I used to work for those folks

44
00:02:25,680 --> 00:02:28,440
more importantly I'm I'm proud of the

45
00:02:28,440 --> 00:02:30,959
work that I do for this organization uh

46
00:02:30,959 --> 00:02:32,760
a wasp and if you're not yet a member

47
00:02:32,760 --> 00:02:35,700
please become an OAS member and if you

48
00:02:35,700 --> 00:02:38,220
are an OAS member

49
00:02:38,220 --> 00:02:40,020
I appreciate that you come to a talk

50
00:02:40,020 --> 00:02:41,640
like this and that you come to a

51
00:02:41,640 --> 00:02:43,440
conference but also would encourage you

52
00:02:43,440 --> 00:02:47,040
to be involved in projects so I

53
00:02:47,040 --> 00:02:49,860
contribute to a number of Olas projects

54
00:02:49,860 --> 00:02:51,120
um obviously the secrets management

55
00:02:51,120 --> 00:02:52,800
cheat sheet which we'll talk to you a

56
00:02:52,800 --> 00:02:54,660
little bit about today I also contribute

57
00:02:54,660 --> 00:02:58,379
to the asvs as well as a number of other

58
00:02:58,379 --> 00:03:03,720
projects there is a lot of it's it I

59
00:03:03,720 --> 00:03:05,040
think that's what's important to say

60
00:03:05,040 --> 00:03:06,060
though is

61
00:03:06,060 --> 00:03:09,120
we know that Orwell started back in 2002

62
00:03:09,120 --> 00:03:11,159
because folks like us wanted to share

63
00:03:11,159 --> 00:03:12,599
information right like that's the whole

64
00:03:12,599 --> 00:03:15,420
point but it only continues if we all

65
00:03:15,420 --> 00:03:17,400
continue to share information and that's

66
00:03:17,400 --> 00:03:18,959
how we all get better that's how we all

67
00:03:18,959 --> 00:03:21,540
get smarter uh I don't know everything

68
00:03:21,540 --> 00:03:23,280
all on my own I learned from all of you

69
00:03:23,280 --> 00:03:25,560
so I really appreciate those who who

70
00:03:25,560 --> 00:03:28,379
come and share information as well this

71
00:03:28,379 --> 00:03:30,599
is the uh from the Wayback machine the

72
00:03:30,599 --> 00:03:33,659
OAS website back in 2002 you can see

73
00:03:33,659 --> 00:03:35,340
things have evolved quite a bit since

74
00:03:35,340 --> 00:03:37,800
then and yet still a number of really

75
00:03:37,800 --> 00:03:39,360
interesting projects are taking place

76
00:03:39,360 --> 00:03:41,940
and as Jim may have shown earlier today

77
00:03:41,940 --> 00:03:44,879
as well in his keynote this is where

78
00:03:44,879 --> 00:03:47,700
Olas chapters are located now all around

79
00:03:47,700 --> 00:03:49,860
the world it's amazing to think that it

80
00:03:49,860 --> 00:03:52,799
started with just a Wiki page and a few

81
00:03:52,799 --> 00:03:55,319
folks talking and has grown into such an

82
00:03:55,319 --> 00:03:57,599
amazing thing so please become more

83
00:03:57,599 --> 00:03:59,940
involved if you're not already

84
00:03:59,940 --> 00:04:02,580
so in addition to the secrets management

85
00:04:02,580 --> 00:04:05,280
cheat sheet I also authored my my first

86
00:04:05,280 --> 00:04:07,739
project I wrote the OAS logging

87
00:04:07,739 --> 00:04:10,799
vocabulary cheat sheet um the logging

88
00:04:10,799 --> 00:04:13,799
vocabulary is a set of predetermined

89
00:04:13,799 --> 00:04:17,579
action keywords if you will events that

90
00:04:17,579 --> 00:04:19,380
have taken place that you might log in

91
00:04:19,380 --> 00:04:21,779
your logs and if all of your developers

92
00:04:21,779 --> 00:04:24,900
use these same keywords in their events

93
00:04:24,900 --> 00:04:26,940
your job of monitoring becomes a lot

94
00:04:26,940 --> 00:04:28,380
easier you just monitor for those

95
00:04:28,380 --> 00:04:30,660
keywords right and instantly you can pop

96
00:04:30,660 --> 00:04:32,880
note that something's taken place it

97
00:04:32,880 --> 00:04:34,620
also encourages developers to think

98
00:04:34,620 --> 00:04:36,720
adversarially in terms of the way that

99
00:04:36,720 --> 00:04:38,580
they're they're writing error correction

100
00:04:38,580 --> 00:04:40,620
and logging in their applications so

101
00:04:40,620 --> 00:04:42,780
that they are then able to generate an

102
00:04:42,780 --> 00:04:45,660
event like this in log so please go out

103
00:04:45,660 --> 00:04:47,340
take a look at that if you have any

104
00:04:47,340 --> 00:04:48,259
information

105
00:04:48,259 --> 00:04:51,780
about logging or other ideas about this

106
00:04:51,780 --> 00:04:53,699
please submit a pull request or an issue

107
00:04:53,699 --> 00:04:56,460
to that project I'd love to get more uh

108
00:04:56,460 --> 00:04:59,100
traction around that one as well

109
00:04:59,100 --> 00:05:01,680
also contribute to the oauth application

110
00:05:01,680 --> 00:05:03,900
security verification standard

111
00:05:03,900 --> 00:05:05,100
so

112
00:05:05,100 --> 00:05:06,540
caveat

113
00:05:06,540 --> 00:05:09,240
I was a software engineer 20 plus years

114
00:05:09,240 --> 00:05:11,400
before I got into this gig about eight

115
00:05:11,400 --> 00:05:13,199
years ago I had a fight with information

116
00:05:13,199 --> 00:05:14,580
security

117
00:05:14,580 --> 00:05:17,340
they came to me and brought a 300 plus

118
00:05:17,340 --> 00:05:19,500
page Report with over a thousand defects

119
00:05:19,500 --> 00:05:21,180
and it just said fix it no

120
00:05:21,180 --> 00:05:22,979
prioritization no guidance no nothing

121
00:05:22,979 --> 00:05:25,020
and by the way you have 30 days to fix

122
00:05:25,020 --> 00:05:26,699
all of these or you go on a report to

123
00:05:26,699 --> 00:05:28,680
the CEO and you stay there until they're

124
00:05:28,680 --> 00:05:31,320
all fixed so what did I do

125
00:05:31,320 --> 00:05:33,440
I quit

126
00:05:33,440 --> 00:05:35,759
you know I decided they're bad to be a

127
00:05:35,759 --> 00:05:37,500
better way to do application security

128
00:05:37,500 --> 00:05:39,360
than that and it's not just about

129
00:05:39,360 --> 00:05:42,360
finding flaws and throwing it over the

130
00:05:42,360 --> 00:05:44,759
wall it's about fixing flaws so things

131
00:05:44,759 --> 00:05:46,919
like the asvs is a tool that we can put

132
00:05:46,919 --> 00:05:49,560
into developers hands to say hey these

133
00:05:49,560 --> 00:05:52,139
are the right things to do the the Lost

134
00:05:52,139 --> 00:05:54,479
top 10 proactive controls is the

135
00:05:54,479 --> 00:05:56,340
antidote to the oauth's top 10 bad

136
00:05:56,340 --> 00:05:58,620
things that we like to smack people on

137
00:05:58,620 --> 00:06:00,660
the hand about so highly recommend

138
00:06:00,660 --> 00:06:02,520
encouraging the use of these things as

139
00:06:02,520 --> 00:06:04,500
well and please contribute to these

140
00:06:04,500 --> 00:06:06,600
projects as well

141
00:06:06,600 --> 00:06:08,100
and

142
00:06:08,100 --> 00:06:10,560
onto what I've what the main point to

143
00:06:10,560 --> 00:06:12,539
talk about is the OAS Secrets management

144
00:06:12,539 --> 00:06:15,900
cheat sheet so conversation started

145
00:06:15,900 --> 00:06:18,000
I want to say it was about nine months

146
00:06:18,000 --> 00:06:19,020
ago

147
00:06:19,020 --> 00:06:21,600
Jerome Williamson was working on a

148
00:06:21,600 --> 00:06:22,740
project

149
00:06:22,740 --> 00:06:25,020
called uh project wrong secrets and I'll

150
00:06:25,020 --> 00:06:26,819
talk a little bit about that as well and

151
00:06:26,819 --> 00:06:28,919
point you to that later on Project wrong

152
00:06:28,919 --> 00:06:31,680
sequence is like Juice Shop or web goat

153
00:06:31,680 --> 00:06:33,539
for Secrets management it's like all

154
00:06:33,539 --> 00:06:35,520
find all the places we did Secrets

155
00:06:35,520 --> 00:06:38,400
management wrong in this app and hey why

156
00:06:38,400 --> 00:06:41,460
do you know it's also a great place to

157
00:06:41,460 --> 00:06:44,280
tune your detections for secrets in code

158
00:06:44,280 --> 00:06:46,440
and things like that using the wrong

159
00:06:46,440 --> 00:06:48,419
Secrets app right so hey look we can

160
00:06:48,419 --> 00:06:51,960
look for Secrets um when went wrong here

161
00:06:51,960 --> 00:06:55,139
when he began that work he realized you

162
00:06:55,139 --> 00:06:55,919
know

163
00:06:55,919 --> 00:06:57,960
this is great it's like the Olaf's top

164
00:06:57,960 --> 00:06:59,639
10 or it's like Jew shop we can find all

165
00:06:59,639 --> 00:07:00,840
the things that went wrong but what

166
00:07:00,840 --> 00:07:02,340
about teaching people how to do it right

167
00:07:02,340 --> 00:07:04,440
and I really appreciate that he came on

168
00:07:04,440 --> 00:07:06,240
to the owoss slack Channel and said hey

169
00:07:06,240 --> 00:07:08,160
anybody interested in Secrets management

170
00:07:08,160 --> 00:07:10,080
I think that we should probably write it

171
00:07:10,080 --> 00:07:12,960
at least a cheat sheet if not

172
00:07:12,960 --> 00:07:15,600
um a a larger standard related to that

173
00:07:15,600 --> 00:07:18,360
and I jumped in oh yes absolutely like

174
00:07:18,360 --> 00:07:19,979
this is a very important piece of work

175
00:07:19,979 --> 00:07:22,139
I'm happy to contribute as well so it

176
00:07:22,139 --> 00:07:23,759
could contributed a couple of the last

177
00:07:23,759 --> 00:07:25,380
two sections

178
00:07:25,380 --> 00:07:28,380
uh and it also highlighted something

179
00:07:28,380 --> 00:07:30,479
really interesting to me that

180
00:07:30,479 --> 00:07:33,300
there's there's quite a bit of

181
00:07:33,300 --> 00:07:35,819
I don't know varying opinions on how

182
00:07:35,819 --> 00:07:37,919
Secrets management ought to be done

183
00:07:37,919 --> 00:07:39,120
um and we had some really Lively

184
00:07:39,120 --> 00:07:41,400
discussions in that in that channel

185
00:07:41,400 --> 00:07:42,900
um so I was really interested to see

186
00:07:42,900 --> 00:07:44,880
that as well again

187
00:07:44,880 --> 00:07:47,160
um highlighting that if you if you read

188
00:07:47,160 --> 00:07:48,419
something in the secrets management

189
00:07:48,419 --> 00:07:50,880
cheat sheet when of course you go back

190
00:07:50,880 --> 00:07:53,639
to your office and you dive through this

191
00:07:53,639 --> 00:07:55,560
thing all on your own

192
00:07:55,560 --> 00:07:57,000
um and you see something you disagree

193
00:07:57,000 --> 00:07:59,039
with open an issue it's like let's talk

194
00:07:59,039 --> 00:08:00,660
about it or get in the Ola slack channel

195
00:08:00,660 --> 00:08:02,280
it's a great place to talk about these

196
00:08:02,280 --> 00:08:04,440
things so what I'm going to give you

197
00:08:04,440 --> 00:08:07,020
today is not a comprehensive overview of

198
00:08:07,020 --> 00:08:08,400
the secrets management cheat sheet

199
00:08:08,400 --> 00:08:11,460
because rtfm you can read it yourself

200
00:08:11,460 --> 00:08:13,740
right like it's a very long thing but

201
00:08:13,740 --> 00:08:15,060
one of what I want to give you is some

202
00:08:15,060 --> 00:08:16,199
of the high points that I think are

203
00:08:16,199 --> 00:08:17,759
really important so

204
00:08:17,759 --> 00:08:21,360
uh again it's out on the OAS

205
00:08:21,360 --> 00:08:24,960
um org on GitHub available for download

206
00:08:24,960 --> 00:08:27,720
and your contribution you

207
00:08:27,720 --> 00:08:29,940
um also going to call out again please

208
00:08:29,940 --> 00:08:31,800
find projects that are interested in you

209
00:08:31,800 --> 00:08:33,899
that match your skill set and even

210
00:08:33,899 --> 00:08:35,760
documentation is important so if you're

211
00:08:35,760 --> 00:08:37,559
going to contribute anything to get

212
00:08:37,559 --> 00:08:39,299
started documentation is Fine Place to

213
00:08:39,299 --> 00:08:41,039
Start All right enough about all that

214
00:08:41,039 --> 00:08:43,740
here we go

215
00:08:43,740 --> 00:08:46,320
so uh first I want to call out some of

216
00:08:46,320 --> 00:08:48,120
the great folks that have contributed to

217
00:08:48,120 --> 00:08:50,940
this Ben to Han Zoe Braverman Jim maniko

218
00:08:50,940 --> 00:08:53,519
Jacob Makowski Joan will Jerome

219
00:08:53,519 --> 00:08:57,899
Williamson Dominic de Smit and Anastasia

220
00:08:57,899 --> 00:09:00,839
um as well as OAS wrong secret so um

221
00:09:00,839 --> 00:09:02,160
highly recommend this this has been a

222
00:09:02,160 --> 00:09:03,660
lot of fun I've been downloading it

223
00:09:03,660 --> 00:09:05,339
playing with it looking for ways to use

224
00:09:05,339 --> 00:09:08,220
it to hone detections as well this is

225
00:09:08,220 --> 00:09:10,680
the brainchild that that began

226
00:09:10,680 --> 00:09:12,959
um the project

227
00:09:12,959 --> 00:09:15,000
so thinking about

228
00:09:15,000 --> 00:09:17,459
what what Secrets mean to us and why

229
00:09:17,459 --> 00:09:20,880
this is important the get Guardian folks

230
00:09:20,880 --> 00:09:22,860
put out a report every every year called

231
00:09:22,860 --> 00:09:25,320
the state of secret sprawl right and I

232
00:09:25,320 --> 00:09:28,680
ask the question how how leaky was 2021

233
00:09:28,680 --> 00:09:31,200
over 6 million secrets were detected in

234
00:09:31,200 --> 00:09:34,380
2021 that's a 2X increase over the

235
00:09:34,380 --> 00:09:35,700
previous year

236
00:09:35,700 --> 00:09:38,279
on on average three commits out of a

237
00:09:38,279 --> 00:09:40,019
thousand exposed at least one secret

238
00:09:40,019 --> 00:09:41,459
that's up fifty percent so what we're

239
00:09:41,459 --> 00:09:43,260
talking here about here is secrets in

240
00:09:43,260 --> 00:09:44,580
code right

241
00:09:44,580 --> 00:09:46,800
um so you know it's funny

242
00:09:46,800 --> 00:09:48,300
developers don't necessarily always

243
00:09:48,300 --> 00:09:49,740
understand this and one of the ways that

244
00:09:49,740 --> 00:09:52,440
I find that developers leak secrets in

245
00:09:52,440 --> 00:09:55,560
code is simply because it's a really

246
00:09:55,560 --> 00:09:57,839
easy way to begin development right we

247
00:09:57,839 --> 00:09:59,459
start doing things

248
00:09:59,459 --> 00:10:01,560
um and we're prototyping and that sort

249
00:10:01,560 --> 00:10:03,420
of thing and so hey really quick I'm

250
00:10:03,420 --> 00:10:04,680
just going to make a variable and I'm

251
00:10:04,680 --> 00:10:07,019
going to hard code something uh and then

252
00:10:07,019 --> 00:10:08,880
you know I'll remove that later and

253
00:10:08,880 --> 00:10:10,380
connect it to Secrets manager and wire

254
00:10:10,380 --> 00:10:13,080
up all the tubes and all that stuff well

255
00:10:13,080 --> 00:10:14,940
sometimes that that doesn't happen right

256
00:10:14,940 --> 00:10:16,680
they they fit they didn't finish that

257
00:10:16,680 --> 00:10:19,019
work and and they'd all maintained all

258
00:10:19,019 --> 00:10:21,480
stayed in there

259
00:10:21,480 --> 00:10:24,000
the the code Cub supply chain attack

260
00:10:24,000 --> 00:10:26,399
exposed customer credentials and this is

261
00:10:26,399 --> 00:10:28,380
a case where

262
00:10:28,380 --> 00:10:33,480
um the the the initial attack Vector was

263
00:10:33,480 --> 00:10:35,700
a codec uh remote code execution not

264
00:10:35,700 --> 00:10:38,700
remote code execution but sorry but a um

265
00:10:38,700 --> 00:10:40,800
a file upload vulnerability where the

266
00:10:40,800 --> 00:10:41,820
code what

267
00:10:41,820 --> 00:10:44,040
um where they were able to overwrite a a

268
00:10:44,040 --> 00:10:46,560
particular file uh and by that then be

269
00:10:46,560 --> 00:10:49,140
able to read that file which then uh

270
00:10:49,140 --> 00:10:53,100
exposed uh the the ons uh the server

271
00:10:53,100 --> 00:10:54,660
side credentials which gave them access

272
00:10:54,660 --> 00:10:56,820
to all the customer uh credentials as

273
00:10:56,820 --> 00:10:59,339
well so we're finding that these are are

274
00:10:59,339 --> 00:11:01,680
now the vector to a lot of different

275
00:11:01,680 --> 00:11:03,899
types of attacks

276
00:11:03,899 --> 00:11:06,360
and so you know this is where we we see

277
00:11:06,360 --> 00:11:08,820
this happened uh you know like I talked

278
00:11:08,820 --> 00:11:10,800
about a developer you know they upload

279
00:11:10,800 --> 00:11:12,720
something hey um you know put my super

280
00:11:12,720 --> 00:11:14,880
secret thing in here by the way uh make

281
00:11:14,880 --> 00:11:17,100
sure to go back and fix this later

282
00:11:17,100 --> 00:11:19,620
um but it doesn't happen

283
00:11:19,620 --> 00:11:22,260
so never ever ever write secrets in code

284
00:11:22,260 --> 00:11:24,959
uh at the very worst

285
00:11:24,959 --> 00:11:26,700
um environment variables and development

286
00:11:26,700 --> 00:11:29,519
may be fine but even that is a horrible

287
00:11:29,519 --> 00:11:31,140
way because that could be exposed very

288
00:11:31,140 --> 00:11:33,860
quickly as well

289
00:11:34,200 --> 00:11:36,420
um one of the things that I think we

290
00:11:36,420 --> 00:11:39,060
also need to be on the alert for is

291
00:11:39,060 --> 00:11:44,420
uh this idea of um pull request uh

292
00:11:44,420 --> 00:11:47,279
packing if you will it's called

293
00:11:47,279 --> 00:11:50,880
um GitHub has a feature where if you

294
00:11:50,880 --> 00:11:52,500
submit a pull request that's over a

295
00:11:52,500 --> 00:11:54,480
certain number of lines it will compress

296
00:11:54,480 --> 00:11:57,180
that and so it won't even show it right

297
00:11:57,180 --> 00:11:58,680
so you'll have a pull request hey I

298
00:11:58,680 --> 00:11:59,880
fixed this thing

299
00:11:59,880 --> 00:12:02,579
and what might be behind that is you

300
00:12:02,579 --> 00:12:04,440
know minified code that looks like this

301
00:12:04,440 --> 00:12:06,060
and who's going to even see those line

302
00:12:06,060 --> 00:12:08,040
differences right but what's down there

303
00:12:08,040 --> 00:12:09,420
in the middle of that

304
00:12:09,420 --> 00:12:11,279
hey look I just snuck some code into

305
00:12:11,279 --> 00:12:13,380
your your thing here right so

306
00:12:13,380 --> 00:12:16,019
um you you be on the lookout for that

307
00:12:16,019 --> 00:12:17,820
kind of injection as well this is

308
00:12:17,820 --> 00:12:20,339
another way that Secrets get stolen

309
00:12:20,339 --> 00:12:22,260
um is through this kind of a PR sneaking

310
00:12:22,260 --> 00:12:24,300
through compressing

311
00:12:24,300 --> 00:12:26,399
um and minifying those those uh code

312
00:12:26,399 --> 00:12:27,899
code bits

313
00:12:27,899 --> 00:12:29,760
so what is the secret

314
00:12:29,760 --> 00:12:31,140
anyone have an opinion on what a secret

315
00:12:31,140 --> 00:12:33,360
is

316
00:12:33,360 --> 00:12:34,940
come on let's be interactive yeah

317
00:12:34,940 --> 00:12:37,200
passwords passwords yeah

318
00:12:37,200 --> 00:12:39,120
all connection properties connection

319
00:12:39,120 --> 00:12:41,579
properties absolutely true

320
00:12:41,579 --> 00:12:44,820
private keys API Keys other kinds of

321
00:12:44,820 --> 00:12:47,940
credentials absolutely API Keys user

322
00:12:47,940 --> 00:12:49,680
credentials root password that kind of

323
00:12:49,680 --> 00:12:51,839
business database credentials and

324
00:12:51,839 --> 00:12:55,339
connection strings I am permissions

325
00:12:55,339 --> 00:12:58,380
secure shell Keys your certificates that

326
00:12:58,380 --> 00:12:59,880
sort of thing for making connections all

327
00:12:59,880 --> 00:13:02,360
other types of certificates

328
00:13:02,360 --> 00:13:04,620
others anything

329
00:13:04,620 --> 00:13:05,820
so

330
00:13:05,820 --> 00:13:07,380
when you're thinking about secrets and

331
00:13:07,380 --> 00:13:09,480
secrets management

332
00:13:09,480 --> 00:13:11,639
you have different kinds of secrets that

333
00:13:11,639 --> 00:13:14,459
need to be stored in retreat uh you also

334
00:13:14,459 --> 00:13:16,260
have different kinds of secrets that

335
00:13:16,260 --> 00:13:18,360
need to be detected so detection is the

336
00:13:18,360 --> 00:13:20,639
other side of this thing as well

337
00:13:20,639 --> 00:13:22,740
and that's where the conversation got

338
00:13:22,740 --> 00:13:24,120
interesting when we started talking

339
00:13:24,120 --> 00:13:27,300
about how to do Secrets Management on

340
00:13:27,300 --> 00:13:30,540
the OS Channel as was hey like

341
00:13:30,540 --> 00:13:32,940
is there a one-size-fits all for Secrets

342
00:13:32,940 --> 00:13:34,620
I realized pretty quickly the answer was

343
00:13:34,620 --> 00:13:37,860
no right so we started to realize that

344
00:13:37,860 --> 00:13:39,360
there are different ways to manage

345
00:13:39,360 --> 00:13:41,459
various types of secrets so how should I

346
00:13:41,459 --> 00:13:42,959
store them

347
00:13:42,959 --> 00:13:44,399
well one of the first principles to

348
00:13:44,399 --> 00:13:47,220
realize is you know ideally if we could

349
00:13:47,220 --> 00:13:49,920
do this in a way that didn't require any

350
00:13:49,920 --> 00:13:51,600
human access or didn't even allow any

351
00:13:51,600 --> 00:13:52,980
human access that might be the best

352
00:13:52,980 --> 00:13:54,839
thing to do like you got an API you're

353
00:13:54,839 --> 00:13:56,399
going to stand stand it up especially in

354
00:13:56,399 --> 00:13:58,440
the case of of something ephemeral like

355
00:13:58,440 --> 00:14:02,100
a a Lambda or a container it needs to be

356
00:14:02,100 --> 00:14:04,079
able to get credentials should a user be

357
00:14:04,079 --> 00:14:05,820
able or a person be able to go and grab

358
00:14:05,820 --> 00:14:07,980
those credentials too probably not like

359
00:14:07,980 --> 00:14:09,180
they don't need to be able to do that

360
00:14:09,180 --> 00:14:14,160
but that in individual ephemeral process

361
00:14:14,160 --> 00:14:15,720
should be able to go and get their

362
00:14:15,720 --> 00:14:18,720
credential it needs retrieve it and

363
00:14:18,720 --> 00:14:20,940
potentially even immediately rotate or

364
00:14:20,940 --> 00:14:23,579
so forth without ever having any human

365
00:14:23,579 --> 00:14:26,100
access so automation is key

366
00:14:26,100 --> 00:14:27,540
um definitely should never ever ever

367
00:14:27,540 --> 00:14:30,660
ever ever ever ever be in code

368
00:14:30,660 --> 00:14:33,540
um in case you ever wonder no definitely

369
00:14:33,540 --> 00:14:36,180
not in code ever

370
00:14:36,180 --> 00:14:39,540
the next one an idea that we came up is

371
00:14:39,540 --> 00:14:41,720
your secrets management should be

372
00:14:41,720 --> 00:14:45,360
ideally in close proximity

373
00:14:45,360 --> 00:14:48,060
to where it's being used and what I mean

374
00:14:48,060 --> 00:14:50,220
by that is and this is kind of the it

375
00:14:50,220 --> 00:14:52,620
goes back to the not any one size fits

376
00:14:52,620 --> 00:14:55,560
all is let's say so for instance when I

377
00:14:55,560 --> 00:14:58,079
worked at Nike if you go to the Nike Inc

378
00:14:58,079 --> 00:15:00,600
org on GitHub that's our open their

379
00:15:00,600 --> 00:15:02,300
their open source

380
00:15:02,300 --> 00:15:04,800
contributions there's a platform that

381
00:15:04,800 --> 00:15:06,060
they created for Secrets management

382
00:15:06,060 --> 00:15:09,480
called Cerberus it's open source and

383
00:15:09,480 --> 00:15:11,180
it's great and it's great for managing

384
00:15:11,180 --> 00:15:13,500
restaurant infrastructure and

385
00:15:13,500 --> 00:15:15,720
cloud-based off super cool

386
00:15:15,720 --> 00:15:18,600
but trying to mandate that everything

387
00:15:18,600 --> 00:15:21,180
uses that is probably not the right

388
00:15:21,180 --> 00:15:22,920
answer right

389
00:15:22,920 --> 00:15:24,959
um because what happens when you've got

390
00:15:24,959 --> 00:15:28,440
code running in various AWS accounts

391
00:15:28,440 --> 00:15:31,079
attired to the master and they aren't

392
00:15:31,079 --> 00:15:32,880
don't have any

393
00:15:32,880 --> 00:15:34,500
um they don't have Cloud connect

394
00:15:34,500 --> 00:15:37,019
anything back to our our infrastructure

395
00:15:37,019 --> 00:15:38,220
at all

396
00:15:38,220 --> 00:15:40,440
um they they're you know purely running

397
00:15:40,440 --> 00:15:42,480
all on their own then then how do they

398
00:15:42,480 --> 00:15:44,940
get secrets from Cerberus well why

399
00:15:44,940 --> 00:15:46,260
should they get secret secrets from

400
00:15:46,260 --> 00:15:48,240
Cerberus maybe they should get secrets

401
00:15:48,240 --> 00:15:50,519
from I don't know AWS Secrets manager

402
00:15:50,519 --> 00:15:52,500
right that seems to make sense and

403
00:15:52,500 --> 00:15:53,940
information security

404
00:15:53,940 --> 00:15:55,560
unfortunately the team that I worked on

405
00:15:55,560 --> 00:15:57,480
it's like nope we have a standard it's

406
00:15:57,480 --> 00:15:59,399
written in policy I'm like well

407
00:15:59,399 --> 00:16:02,160
maybe rewrite the policy like maybe

408
00:16:02,160 --> 00:16:03,720
that's dumb like maybe there's a better

409
00:16:03,720 --> 00:16:05,639
way to do this like manage things closer

410
00:16:05,639 --> 00:16:08,339
to where they're used uh maybe maybe uh

411
00:16:08,339 --> 00:16:10,320
hashicorp Vault makes more sense for

412
00:16:10,320 --> 00:16:11,760
your for your orchestration

413
00:16:11,760 --> 00:16:13,980
infrastructure and so on and so forth

414
00:16:13,980 --> 00:16:15,959
right

415
00:16:15,959 --> 00:16:17,940
also this is not a time for elegant

416
00:16:17,940 --> 00:16:20,699
complexity this is another one where uh

417
00:16:20,699 --> 00:16:22,139
you know we start having conversation

418
00:16:22,139 --> 00:16:24,360
and developers like well like I'm gonna

419
00:16:24,360 --> 00:16:26,399
push it out to this and I'm going to

420
00:16:26,399 --> 00:16:27,839
encrypt it here and I'm going to pull it

421
00:16:27,839 --> 00:16:28,980
from that and I'm going to have a

422
00:16:28,980 --> 00:16:31,079
different service process that runs it

423
00:16:31,079 --> 00:16:32,940
and all these various steps and you know

424
00:16:32,940 --> 00:16:34,860
85 000 lines of code and I'm like well

425
00:16:34,860 --> 00:16:36,600
does that really make sense like

426
00:16:36,600 --> 00:16:38,699
especially when infrastructure

427
00:16:38,699 --> 00:16:40,560
um and processes for this already exists

428
00:16:40,560 --> 00:16:42,180
right especially especially when we're

429
00:16:42,180 --> 00:16:44,940
talking about Cloud so if there's a if

430
00:16:44,940 --> 00:16:46,440
there's a simple way to do it choose a

431
00:16:46,440 --> 00:16:48,959
simple way to do it first

432
00:16:48,959 --> 00:16:50,820
so then some common questions began to

433
00:16:50,820 --> 00:16:52,259
come up as well how should I load those

434
00:16:52,259 --> 00:16:54,660
Secrets now that I have them environment

435
00:16:54,660 --> 00:16:56,880
variables are big fat no no

436
00:16:56,880 --> 00:16:58,079
um please don't use environment

437
00:16:58,079 --> 00:17:00,920
variables anymore than you would your

438
00:17:00,920 --> 00:17:02,880
writing them directly into code

439
00:17:02,880 --> 00:17:05,099
environment variables are commonly

440
00:17:05,099 --> 00:17:07,520
logged for debugging

441
00:17:07,520 --> 00:17:10,740
in fact a lot of times when developers

442
00:17:10,740 --> 00:17:13,740
log they'll grab EnV and just log that

443
00:17:13,740 --> 00:17:15,900
whole thing right and see what's in

444
00:17:15,900 --> 00:17:18,540
there and do some work so definitely not

445
00:17:18,540 --> 00:17:20,579
a good place to run as well and then

446
00:17:20,579 --> 00:17:23,220
it's also potentially exposed in other

447
00:17:23,220 --> 00:17:25,500
places so I highly recommend not using

448
00:17:25,500 --> 00:17:27,359
environment variables

449
00:17:27,359 --> 00:17:30,840
I like to see uh injection of

450
00:17:30,840 --> 00:17:33,540
um Secrets loaded during bootstrapping

451
00:17:33,540 --> 00:17:35,340
so your container run time starts up

452
00:17:35,340 --> 00:17:37,559
your lambda's starting up that's the

453
00:17:37,559 --> 00:17:40,679
time to go and get Secrets uh and uh

454
00:17:40,679 --> 00:17:42,299
when your database is starting up that

455
00:17:42,299 --> 00:17:43,500
sort of thing it's the time for

456
00:17:43,500 --> 00:17:45,440
credentials to be created

457
00:17:45,440 --> 00:17:48,900
and also that if you do that

458
00:17:48,900 --> 00:17:50,580
bootstrapping work then you already have

459
00:17:50,580 --> 00:17:52,620
the automation Tooling in place to

460
00:17:52,620 --> 00:17:54,840
rotate as well so highly recommend

461
00:17:54,840 --> 00:17:56,760
rotating those Secrets as soon as

462
00:17:56,760 --> 00:17:59,220
they're being created and Secret's not

463
00:17:59,220 --> 00:18:01,380
lasting any longer than they ought to or

464
00:18:01,380 --> 00:18:03,020
then they're required

465
00:18:03,020 --> 00:18:06,120
one other uh method that I've seen

466
00:18:06,120 --> 00:18:08,360
recently which I thought was pretty cool

467
00:18:08,360 --> 00:18:12,360
is loading secrets into a container via

468
00:18:12,360 --> 00:18:17,059
a temporary amount so container

469
00:18:17,120 --> 00:18:19,820
creates a amount on the file system

470
00:18:19,820 --> 00:18:22,380
Secrets get written to that file system

471
00:18:22,380 --> 00:18:24,720
for the container to read and then that

472
00:18:24,720 --> 00:18:26,820
file system gets wiped out so it's not

473
00:18:26,820 --> 00:18:29,940
not there carrier anymore and then the

474
00:18:29,940 --> 00:18:31,679
container has the information it needs

475
00:18:31,679 --> 00:18:33,419
it's not an environment variable it's

476
00:18:33,419 --> 00:18:34,799
just sitting there in memory and it can

477
00:18:34,799 --> 00:18:37,440
go do its thing and the secret never got

478
00:18:37,440 --> 00:18:39,840
written or never got exposed to anyone

479
00:18:39,840 --> 00:18:42,000
and didn't couldn't be a logged anywhere

480
00:18:42,000 --> 00:18:43,740
if not in an A and B and also and so

481
00:18:43,740 --> 00:18:45,980
forth

482
00:18:46,320 --> 00:18:50,640
um use your Ci's and orchestrators but

483
00:18:50,640 --> 00:18:51,799
um

484
00:18:51,799 --> 00:18:55,140
not uh be sure that the what you're

485
00:18:55,140 --> 00:18:57,900
using is actually encrypted so NCD is

486
00:18:57,900 --> 00:19:00,660
not a place to store Secrets it's in

487
00:19:00,660 --> 00:19:02,880
that plain text and please don't Source

488
00:19:02,880 --> 00:19:05,880
secrets in net CD use what's built in

489
00:19:05,880 --> 00:19:07,740
encryption and stuff for kubernetes and

490
00:19:07,740 --> 00:19:10,100
so forth or use something like

491
00:19:10,100 --> 00:19:12,140
Hashi or

492
00:19:12,140 --> 00:19:15,600
keysight or and so forth

493
00:19:15,600 --> 00:19:17,880
other purpose-built tools I mentioned

494
00:19:17,880 --> 00:19:19,860
Cerberus there are lots of great tools

495
00:19:19,860 --> 00:19:21,840
out there platforms for managing secrets

496
00:19:21,840 --> 00:19:24,120
in to get the to get that information

497
00:19:24,120 --> 00:19:26,280
that you you need when you're running

498
00:19:26,280 --> 00:19:28,580
things

499
00:19:29,039 --> 00:19:31,380
next detection what do I do if secrets

500
00:19:31,380 --> 00:19:33,660
are exposed so number one is you need

501
00:19:33,660 --> 00:19:35,100
detection

502
00:19:35,100 --> 00:19:36,360
um and as we've mentioned before there

503
00:19:36,360 --> 00:19:37,559
are lots of different kinds of Secrets

504
00:19:37,559 --> 00:19:39,299
make sure that you have detection for

505
00:19:39,299 --> 00:19:42,419
various secrets and you test it out if

506
00:19:42,419 --> 00:19:43,980
you haven't tested your detection your

507
00:19:43,980 --> 00:19:46,620
detection doesn't work make sure that

508
00:19:46,620 --> 00:19:49,020
you're testing and and verifying that

509
00:19:49,020 --> 00:19:52,260
that actually works we've tried yelp's

510
00:19:52,260 --> 00:19:54,179
project that detect Secrets platform and

511
00:19:54,179 --> 00:19:56,580
it works really well still like anything

512
00:19:56,580 --> 00:19:58,919
else though it requires tuning highly

513
00:19:58,919 --> 00:20:01,559
recommend the use of it of a tool like

514
00:20:01,559 --> 00:20:04,700
that but also tuning

515
00:20:05,340 --> 00:20:06,900
um it's pretty cool you can just do

516
00:20:06,900 --> 00:20:09,000
check secret scan you can create a

517
00:20:09,000 --> 00:20:10,380
baseline

518
00:20:10,380 --> 00:20:13,679
um you can scan non-get files and yada

519
00:20:13,679 --> 00:20:15,059
yada

520
00:20:15,059 --> 00:20:17,340
in addition to detection you also need a

521
00:20:17,340 --> 00:20:19,020
response plan

522
00:20:19,020 --> 00:20:20,820
so this is all covered in the secrets

523
00:20:20,820 --> 00:20:23,100
management cheat sheet again you need to

524
00:20:23,100 --> 00:20:25,200
make sure that you have a clear break

525
00:20:25,200 --> 00:20:27,360
glass scenario what do you do if the

526
00:20:27,360 --> 00:20:30,120
secrets are exposed so that they can be

527
00:20:30,120 --> 00:20:32,400
rotated and and

528
00:20:32,400 --> 00:20:34,980
um and the cleanup done and so forth how

529
00:20:34,980 --> 00:20:37,140
do you instantly rotate those that's I

530
00:20:37,140 --> 00:20:40,080
think that's critical so for instance

531
00:20:40,080 --> 00:20:43,160
um uh working on team once company

532
00:20:43,160 --> 00:20:45,419
unnamed of course

533
00:20:45,419 --> 00:20:49,320
developer had a laptop with

534
00:20:49,320 --> 00:20:51,480
I think it had to be like

535
00:20:51,480 --> 00:20:54,480
like that like over a thousand uh

536
00:20:54,480 --> 00:20:56,100
certificates on it

537
00:20:56,100 --> 00:21:00,360
for all of the SSH keys for all of their

538
00:21:00,360 --> 00:21:01,860
um Hardware infrastructure for all the

539
00:21:01,860 --> 00:21:03,720
bare metal infrastructure in this in

540
00:21:03,720 --> 00:21:06,240
their in their organization

541
00:21:06,240 --> 00:21:10,380
and uh went to dinner

542
00:21:10,380 --> 00:21:12,900
with that laptop in the car Smash and

543
00:21:12,900 --> 00:21:14,760
grab laptop's gone

544
00:21:14,760 --> 00:21:17,700
now they have a thousand certificates to

545
00:21:17,700 --> 00:21:22,740
renew no automation they called it the

546
00:21:22,740 --> 00:21:25,820
the great rotating

547
00:21:25,820 --> 00:21:28,380
it was um quite a bit of a mess I think

548
00:21:28,380 --> 00:21:30,059
it took

549
00:21:30,059 --> 00:21:31,980
um I think it took several days for that

550
00:21:31,980 --> 00:21:34,320
to take place and guess when that

551
00:21:34,320 --> 00:21:36,240
happened

552
00:21:36,240 --> 00:21:38,880
Friday five always Friday at five right

553
00:21:38,880 --> 00:21:40,679
that's that's the only time we have

554
00:21:40,679 --> 00:21:42,720
those kinds of EX the things to take

555
00:21:42,720 --> 00:21:45,179
place so uh make sure that you

556
00:21:45,179 --> 00:21:46,799
um hey don't you know put all of your

557
00:21:46,799 --> 00:21:48,120
eggs in one basket like that but then

558
00:21:48,120 --> 00:21:49,919
also that you have a way to rotate

559
00:21:49,919 --> 00:21:53,100
automatically uh when needed

560
00:21:53,100 --> 00:21:55,440
uh and then also scrubbing that exposed

561
00:21:55,440 --> 00:21:57,179
secret so that exposed secret that

562
00:21:57,179 --> 00:21:59,159
existed before should never

563
00:21:59,159 --> 00:22:00,720
um be used again should never live

564
00:22:00,720 --> 00:22:03,840
anywhere as well by the way did I

565
00:22:03,840 --> 00:22:05,940
mention automation yeah for sure

566
00:22:05,940 --> 00:22:08,039
so who should have access to secrets we

567
00:22:08,039 --> 00:22:10,620
mentioned before ideally nobody right

568
00:22:10,620 --> 00:22:13,020
that'd be the ideal World um the system

569
00:22:13,020 --> 00:22:14,880
that needs it only

570
00:22:14,880 --> 00:22:18,659
also that gives us the the next caveat

571
00:22:18,659 --> 00:22:21,240
is to consider least privilege right how

572
00:22:21,240 --> 00:22:22,860
many Secrets should you have well

573
00:22:22,860 --> 00:22:25,440
ideally however many are required to

574
00:22:25,440 --> 00:22:28,080
ensure that you have uh the least amount

575
00:22:28,080 --> 00:22:30,179
of capability for each of those Secrets

576
00:22:30,179 --> 00:22:32,700
as you as you can

577
00:22:32,700 --> 00:22:34,860
should be fine-grained in that case

578
00:22:34,860 --> 00:22:38,100
right only for a very clear purpose

579
00:22:38,100 --> 00:22:40,440
um it should uh secret generation and

580
00:22:40,440 --> 00:22:42,299
rotation should be automated uh

581
00:22:42,299 --> 00:22:43,500
automatic

582
00:22:43,500 --> 00:22:46,320
uh should automate creation automate

583
00:22:46,320 --> 00:22:48,659
rotation especially after use and

584
00:22:48,659 --> 00:22:51,840
automate expiration please

585
00:22:51,840 --> 00:22:54,120
um and consider all of those

586
00:22:54,120 --> 00:22:57,780
um and uh and and uh and build that into

587
00:22:57,780 --> 00:23:00,240
your runbook

588
00:23:00,240 --> 00:23:01,980
so final thoughts

589
00:23:01,980 --> 00:23:04,740
log all the things right well no almost

590
00:23:04,740 --> 00:23:06,720
all the things um you should never log

591
00:23:06,720 --> 00:23:08,100
your secrets as well and that's another

592
00:23:08,100 --> 00:23:09,720
place where you want to have detections

593
00:23:09,720 --> 00:23:13,080
uh detections on logging to determine if

594
00:23:13,080 --> 00:23:15,059
secrets are in fact being logged

595
00:23:15,059 --> 00:23:17,880
anywhere and uh clean that up when need

596
00:23:17,880 --> 00:23:21,419
be of course my I worked for four months

597
00:23:21,419 --> 00:23:24,419
as a contractor an incident response

598
00:23:24,419 --> 00:23:26,700
once and uh this is one of those places

599
00:23:26,700 --> 00:23:28,559
where like you know once an IR always

600
00:23:28,559 --> 00:23:30,299
and I are kind of have this heart like

601
00:23:30,299 --> 00:23:32,340
oh man I don't want to have to go after

602
00:23:32,340 --> 00:23:34,679
your logs so please uh don't don't stuff

603
00:23:34,679 --> 00:23:37,440
in the things in there like pii

604
00:23:37,440 --> 00:23:39,059
um that don't don't belong especially

605
00:23:39,059 --> 00:23:40,620
secrets

606
00:23:40,620 --> 00:23:43,200
uh again I'm going to point back to wrap

607
00:23:43,200 --> 00:23:46,020
up to uh wrong Secrets this is a this is

608
00:23:46,020 --> 00:23:47,220
when you're thinking about detection

609
00:23:47,220 --> 00:23:49,559
you're thinking about logging this is a

610
00:23:49,559 --> 00:23:51,480
tool that you can use to determine if

611
00:23:51,480 --> 00:23:53,100
your secrets and detections logging and

612
00:23:53,100 --> 00:23:56,280
so forth uh are working and it's also

613
00:23:56,280 --> 00:23:58,200
fun to just play with right so it kind

614
00:23:58,200 --> 00:24:00,240
of helps you develop the mindset of what

615
00:24:00,240 --> 00:24:01,919
what it means to handle Secrets what it

616
00:24:01,919 --> 00:24:05,100
means to control secrets and how you

617
00:24:05,100 --> 00:24:08,220
might go about rotating secrets

618
00:24:08,220 --> 00:24:10,799
so as I mentioned this is not a

619
00:24:10,799 --> 00:24:12,720
comprehensive overview of the cheat

620
00:24:12,720 --> 00:24:15,179
cheat the secrets management cheat sheet

621
00:24:15,179 --> 00:24:17,220
you

622
00:24:17,220 --> 00:24:20,220
the protac practitioners have the

623
00:24:20,220 --> 00:24:22,080
responsibility now because you've been

624
00:24:22,080 --> 00:24:24,000
told that it exists this brand new

625
00:24:24,000 --> 00:24:27,179
project it's pretty amazing go read it

626
00:24:27,179 --> 00:24:29,940
um it's not horribly long

627
00:24:29,940 --> 00:24:31,620
um you can probably you know read it in

628
00:24:31,620 --> 00:24:34,919
an hour or so but it is um it's chock

629
00:24:34,919 --> 00:24:37,679
full of a lot of deep information I

630
00:24:37,679 --> 00:24:39,240
think the best two sections of course

631
00:24:39,240 --> 00:24:41,880
are the ones on incident response and

632
00:24:41,880 --> 00:24:43,559
logging in business for the ones that I

633
00:24:43,559 --> 00:24:44,880
wrote Of course

634
00:24:44,880 --> 00:24:47,159
um but if you find any issues with that

635
00:24:47,159 --> 00:24:49,980
again please open tickets to in GitHub

636
00:24:49,980 --> 00:24:52,380
issues if you want to contribute we're

637
00:24:52,380 --> 00:24:54,260
still looking for more contributors

638
00:24:54,260 --> 00:24:57,419
submit PRS always open to those things

639
00:24:57,419 --> 00:25:01,860
as well and finally thank you very much

640
00:25:01,860 --> 00:25:04,679
um I'm am with Amazon now so you are

641
00:25:04,679 --> 00:25:06,299
welcome to meet me at the Amazon table

642
00:25:06,299 --> 00:25:09,059
I'll be out there after this by the way

643
00:25:09,059 --> 00:25:10,919
um you know when Jim mentioned oh gosh I

644
00:25:10,919 --> 00:25:13,500
love Jim yeah I mentioned that there's a

645
00:25:13,500 --> 00:25:15,059
lot of jobs out there

646
00:25:15,059 --> 00:25:18,059
and if you don't love where you're at

647
00:25:18,059 --> 00:25:20,100
um you know you might want to consider

648
00:25:20,100 --> 00:25:22,020
at least having some conversations with

649
00:25:22,020 --> 00:25:24,120
people who do love with uh where they're

650
00:25:24,120 --> 00:25:25,140
at

651
00:25:25,140 --> 00:25:27,059
um so I'll be at the Amazon table and

652
00:25:27,059 --> 00:25:28,440
would love to talk to any of you thank

653
00:25:28,440 --> 00:25:29,880
you and we can take questions if you

654
00:25:29,880 --> 00:25:31,500
like

655
00:25:31,500 --> 00:25:34,440
yeah so you're talking about the secrets

656
00:25:34,440 --> 00:25:37,260
in the court but there's also a place to

657
00:25:37,260 --> 00:25:41,400
select let's replace the genetics where

658
00:25:41,400 --> 00:25:43,860
the people end up putting some laws or

659
00:25:43,860 --> 00:25:46,679
things or yeah things were gonna change

660
00:25:46,679 --> 00:25:49,220
in the production again

661
00:25:49,220 --> 00:25:51,840
that's a great point so don't put

662
00:25:51,840 --> 00:25:53,820
secrets in jira that's what a brilliant

663
00:25:53,820 --> 00:25:58,799
don't put secrets in Slack please

664
00:25:58,860 --> 00:26:01,140
it's uh interesting that you that that

665
00:26:01,140 --> 00:26:04,200
you bring that up no I'm not I'm not

666
00:26:04,200 --> 00:26:08,279
gonna join this call no stop

667
00:26:08,279 --> 00:26:10,140
sorry

668
00:26:10,140 --> 00:26:12,260
um

669
00:26:12,480 --> 00:26:14,700
slack is is a software as a service

670
00:26:14,700 --> 00:26:16,080
right it's cloud-based thing everybody

671
00:26:16,080 --> 00:26:18,419
uses the same slack except when you

672
00:26:18,419 --> 00:26:20,340
don't guess who doesn't use the slack

673
00:26:20,340 --> 00:26:21,240
Slack

674
00:26:21,240 --> 00:26:23,640
Amazon has their own slack because like

675
00:26:23,640 --> 00:26:25,559
we are the cloud we run it in our own

676
00:26:25,559 --> 00:26:27,240
cloud right you don't it hands off our

677
00:26:27,240 --> 00:26:30,240
Cloud but not everybody has that ability

678
00:26:30,240 --> 00:26:33,120
so when you're putting secrets in slack

679
00:26:33,120 --> 00:26:34,740
you're putting them in someone else's

680
00:26:34,740 --> 00:26:36,240
infrastructure when you're putting in

681
00:26:36,240 --> 00:26:38,520
you know especially if you're using

682
00:26:38,520 --> 00:26:40,260
um you know hosted instances of ticket

683
00:26:40,260 --> 00:26:43,500
systems jira's Not The Only One customer

684
00:26:43,500 --> 00:26:45,539
service is another place that Secrets

685
00:26:45,539 --> 00:26:46,500
can be

686
00:26:46,500 --> 00:26:48,779
um could be logged right so any of your

687
00:26:48,779 --> 00:26:50,460
ticket Management Systems of any kind

688
00:26:50,460 --> 00:26:52,380
like should never have any secrets in

689
00:26:52,380 --> 00:26:54,779
that and that's a place that that you

690
00:26:54,779 --> 00:26:56,700
might miss from a detection standpoint

691
00:26:56,700 --> 00:26:59,279
so make sure that your detections are

692
00:26:59,279 --> 00:27:01,080
looking for secrets in those places as

693
00:27:01,080 --> 00:27:03,240
well that's brilliant thank you yeah

694
00:27:03,240 --> 00:27:08,580
good question um so I've um from some of

695
00:27:08,580 --> 00:27:10,200
the engineers where I work in there is a

696
00:27:10,200 --> 00:27:12,179
movement to sort of centralize so that

697
00:27:12,179 --> 00:27:14,700
all the applications go to one place to

698
00:27:14,700 --> 00:27:17,100
get their secrets versus different

699
00:27:17,100 --> 00:27:19,679
engineering teams created their own and

700
00:27:19,679 --> 00:27:21,539
this is me there's a trail there it

701
00:27:21,539 --> 00:27:23,640
could be great for centralized they also

702
00:27:23,640 --> 00:27:24,960
could create a single point failure

703
00:27:24,960 --> 00:27:26,700
right but with your thoughts on that

704
00:27:26,700 --> 00:27:28,380
yeah so that was precisely the

705
00:27:28,380 --> 00:27:30,299
conversation that we had and that where

706
00:27:30,299 --> 00:27:33,179
I disagree with centralization for a few

707
00:27:33,179 --> 00:27:35,100
different reasons personally

708
00:27:35,100 --> 00:27:36,240
um

709
00:27:36,240 --> 00:27:38,940
incident response love centralized place

710
00:27:38,940 --> 00:27:40,620
because then I only got one place to go

711
00:27:40,620 --> 00:27:42,120
look and clean up that's great I love

712
00:27:42,120 --> 00:27:43,559
that right

713
00:27:43,559 --> 00:27:45,960
um but single point of failure is a bad

714
00:27:45,960 --> 00:27:48,779
thing from from that as well

715
00:27:48,779 --> 00:27:52,740
and then also if it's in order to be a

716
00:27:52,740 --> 00:27:54,779
single in order to be a single set of

717
00:27:54,779 --> 00:27:56,400
infrastructure for you to demand secrets

718
00:27:56,400 --> 00:27:59,700
and it has to be uh built to handle all

719
00:27:59,700 --> 00:28:01,440
different kinds of Secrets right and

720
00:28:01,440 --> 00:28:03,480
that's not necessarily

721
00:28:03,480 --> 00:28:05,340
um a viable solution so you're not going

722
00:28:05,340 --> 00:28:08,760
to put yours your certificates in a a

723
00:28:08,760 --> 00:28:11,640
key store uh pers you know per se you're

724
00:28:11,640 --> 00:28:13,500
going to want some other sort of a vault

725
00:28:13,500 --> 00:28:16,080
for that so the reality is you probably

726
00:28:16,080 --> 00:28:17,700
already have different kinds of

727
00:28:17,700 --> 00:28:20,880
certificate of Secrets already

728
00:28:20,880 --> 00:28:24,059
that's where my recommendation was logs

729
00:28:24,059 --> 00:28:26,100
put Secrets where it makes sense right

730
00:28:26,100 --> 00:28:28,919
and so you know let's say

731
00:28:28,919 --> 00:28:30,779
uh you know bare metal infrastructure

732
00:28:30,779 --> 00:28:32,460
running inside you might want to run

733
00:28:32,460 --> 00:28:34,860
your own Secrets platform for that thing

734
00:28:34,860 --> 00:28:36,960
that's great and put it in that data

735
00:28:36,960 --> 00:28:39,960
center low latency no not many hops all

736
00:28:39,960 --> 00:28:42,059
that wonderful business you got lambdas

737
00:28:42,059 --> 00:28:44,580
running in AWS that

738
00:28:44,580 --> 00:28:46,200
secrets from Secrets manager because

739
00:28:46,200 --> 00:28:47,640
it's right next door it doesn't make

740
00:28:47,640 --> 00:28:48,779
sense to come back into your

741
00:28:48,779 --> 00:28:51,179
infrastructure grab those Secrets go

742
00:28:51,179 --> 00:28:53,880
back out that doesn't make any sense

743
00:28:53,880 --> 00:28:55,080
right so

744
00:28:55,080 --> 00:28:59,039
uh the recommendation there is uh put

745
00:28:59,039 --> 00:29:02,039
your secrets in in closest proximity

746
00:29:02,039 --> 00:29:04,320
um but then document that like that's

747
00:29:04,320 --> 00:29:05,940
part of your run book if and that's part

748
00:29:05,940 --> 00:29:07,919
of your detections plan is you need to

749
00:29:07,919 --> 00:29:09,480
make sure that you know where all of the

750
00:29:09,480 --> 00:29:11,580
secrets are why they are where they are

751
00:29:11,580 --> 00:29:14,400
and what your plan is for uh for getting

752
00:29:14,400 --> 00:29:15,720
after them

753
00:29:15,720 --> 00:29:17,880
in the back

754
00:29:17,880 --> 00:29:20,880
where she her question was there

755
00:29:20,880 --> 00:29:22,640
um you've described a whole set of

756
00:29:22,640 --> 00:29:25,500
Secrets and types of natures about those

757
00:29:25,500 --> 00:29:27,840
secrets and stop those Secrets has

758
00:29:27,840 --> 00:29:30,120
anyone put together a Playbook

759
00:29:30,120 --> 00:29:33,240
that says you know system identities

760
00:29:33,240 --> 00:29:35,279
process identities this type of secret

761
00:29:35,279 --> 00:29:38,460
pattern here's the pattern sets that go

762
00:29:38,460 --> 00:29:39,960
with it because I can just think of the

763
00:29:39,960 --> 00:29:42,360
Matrix you're describing there

764
00:29:42,360 --> 00:29:45,059
and I could get lost yeah for sure so

765
00:29:45,059 --> 00:29:47,220
that is just it is described in more

766
00:29:47,220 --> 00:29:48,779
detail in the secrets management cheat

767
00:29:48,779 --> 00:29:49,799
sheet

768
00:29:49,799 --> 00:29:52,080
um with some uh prescriptive

769
00:29:52,080 --> 00:29:55,740
recommendations even for various tooling

770
00:29:55,740 --> 00:29:57,960
providers that might be useful but not

771
00:29:57,960 --> 00:29:59,340
necessarily one over the other or

772
00:29:59,340 --> 00:30:00,840
anything but just some ideas of those

773
00:30:00,840 --> 00:30:02,760
sorts of things

774
00:30:02,760 --> 00:30:05,159
um but I don't know that there's a as a

775
00:30:05,159 --> 00:30:07,679
an exact maker Matrix of

776
00:30:07,679 --> 00:30:09,659
here's the place to put this thing

777
00:30:09,659 --> 00:30:12,720
versus that thing

778
00:30:12,720 --> 00:30:15,620
sure yeah

779
00:30:19,320 --> 00:30:20,159
yeah

780
00:30:20,159 --> 00:30:22,080
this type of secret this type of

781
00:30:22,080 --> 00:30:24,299
locality the dimensions you described

782
00:30:24,299 --> 00:30:26,700
there and here's the five most common

783
00:30:26,700 --> 00:30:28,799
options still in yours based on your

784
00:30:28,799 --> 00:30:30,059
nature but

785
00:30:30,059 --> 00:30:32,640
there is something there that's great

786
00:30:32,640 --> 00:30:34,980
um I'm looking forward to the uh the

787
00:30:34,980 --> 00:30:37,039
GitHub issue coming in from you buddy

788
00:30:37,039 --> 00:30:39,659
you just volunteered

789
00:30:39,659 --> 00:30:42,000
you know and also you know I got to just

790
00:30:42,000 --> 00:30:43,740
realized as well multi-region is also

791
00:30:43,740 --> 00:30:45,059
part of that right so storing your

792
00:30:45,059 --> 00:30:46,620
secrets in the region that they are

793
00:30:46,620 --> 00:30:47,760
needed

794
00:30:47,760 --> 00:30:49,620
um and they shouldn't be the same across

795
00:30:49,620 --> 00:30:51,179
all regions they should be different in

796
00:30:51,179 --> 00:30:52,559
each region all of those sorts of things

797
00:30:52,559 --> 00:30:54,480
need to exist as well

798
00:30:54,480 --> 00:30:55,860
um so that the exposure of one doesn't

799
00:30:55,860 --> 00:30:57,960
open it up to the whole thing so that's

800
00:30:57,960 --> 00:30:59,820
very true

801
00:30:59,820 --> 00:31:02,539
anyone else

802
00:31:02,580 --> 00:31:04,200
thank you everyone appreciate you being

803
00:31:04,200 --> 00:31:05,100
here

804
00:31:05,100 --> 00:31:06,720
um again if you're not a lost member

805
00:31:06,720 --> 00:31:09,000
become one if you're not contributing to

806
00:31:09,000 --> 00:31:12,179
any projects uh you should and I'll be

807
00:31:12,179 --> 00:31:15,240
at the table at Amazon in the in the

808
00:31:15,240 --> 00:31:17,399
hallway thank you

809
00:31:17,399 --> 00:31:19,580
foreign

