1
00:00:14,799 --> 00:00:17,840
all right it is officially

2
00:00:17,840 --> 00:00:20,880
405 so we can get started

3
00:00:20,880 --> 00:00:22,480
so

4
00:00:22,480 --> 00:00:23,760
hi everyone

5
00:00:23,760 --> 00:00:28,000
uh i am yusuf and alongside me is my

6
00:00:28,000 --> 00:00:31,119
partner at allah both of us will be

7
00:00:31,119 --> 00:00:33,280
giving you the training over the course

8
00:00:33,280 --> 00:00:35,680
of these two days uh both of us will be

9
00:00:35,680 --> 00:00:37,520
available for questions i will be doing

10
00:00:37,520 --> 00:00:39,040
the explaining and not allah will be

11
00:00:39,040 --> 00:00:40,719
there in the chat to answer any of your

12
00:00:40,719 --> 00:00:41,760
questions

13
00:00:41,760 --> 00:00:44,399
all right so with that being said i

14
00:00:44,399 --> 00:00:46,239
think we should just get started and go

15
00:00:46,239 --> 00:00:48,160
with it i do want to say though however

16
00:00:48,160 --> 00:00:50,559
that any point in time you guys can ask

17
00:00:50,559 --> 00:00:53,360
questions in the chat feel free to just

18
00:00:53,360 --> 00:00:55,680
ask questions don't wait for any pauses

19
00:00:55,680 --> 00:00:58,320
or anything we will have breaks uh in

20
00:00:58,320 --> 00:00:59,920
the middle

21
00:00:59,920 --> 00:01:02,320
and you guys will be able to follow

22
00:01:02,320 --> 00:01:03,920
along with us i mean you should follow

23
00:01:03,920 --> 00:01:06,080
along with us uh but sometimes i'll tell

24
00:01:06,080 --> 00:01:07,920
you to wait and just hold on listen to

25
00:01:07,920 --> 00:01:09,920
the explanation first now we can move on

26
00:01:09,920 --> 00:01:11,360
i know you guys are going to be itching

27
00:01:11,360 --> 00:01:13,040
you want to get your hands on this stuff

28
00:01:13,040 --> 00:01:14,080
so

29
00:01:14,080 --> 00:01:16,000
i'm not going to waste your time anymore

30
00:01:16,000 --> 00:01:18,960
and let's just get started

31
00:01:21,360 --> 00:01:23,360
thank you yusuf for the quick

32
00:01:23,360 --> 00:01:24,560
introduction

33
00:01:24,560 --> 00:01:27,520
um i just want to say hi for everyone

34
00:01:27,520 --> 00:01:28,479
um

35
00:01:28,479 --> 00:01:31,040
so guys we'll be together

36
00:01:31,040 --> 00:01:34,000
around six hours per day for two days

37
00:01:34,000 --> 00:01:35,680
i hope we have

38
00:01:35,680 --> 00:01:39,040
some fun time and we hack a lot of stuff

39
00:01:39,040 --> 00:01:41,600
together

40
00:01:41,600 --> 00:01:44,159
so yeah in these two days we will be

41
00:01:44,159 --> 00:01:47,680
teaching you um attack and defense ctf

42
00:01:47,680 --> 00:01:48,880
um

43
00:01:48,880 --> 00:01:50,720
so the purpose of this training is to

44
00:01:50,720 --> 00:01:52,479
qualify you

45
00:01:52,479 --> 00:01:55,920
to get a high rank in the upcoming uh

46
00:01:55,920 --> 00:01:59,200
attack and defense ctf uh prequal

47
00:01:59,200 --> 00:02:00,640
edu

48
00:02:00,640 --> 00:02:03,759
uh for hacking the box second

49
00:02:03,759 --> 00:02:07,119
which will be i think after uh nine days

50
00:02:07,119 --> 00:02:10,000
right use it it'll be 23rd

51
00:02:10,000 --> 00:02:11,038
yeah

52
00:02:11,038 --> 00:02:13,040
yeah so um

53
00:02:13,040 --> 00:02:17,360
the winners are the top 10 teams of the

54
00:02:17,360 --> 00:02:19,280
edu ctf

55
00:02:19,280 --> 00:02:22,080
uh in hacking the box conf

56
00:02:22,080 --> 00:02:24,480
these teams will be qualified for the

57
00:02:24,480 --> 00:02:26,560
final competition final attack and

58
00:02:26,560 --> 00:02:29,120
defense competition in abu dhabi

59
00:02:29,120 --> 00:02:32,319
and the top teams will be invited to

60
00:02:32,319 --> 00:02:34,560
come on site

61
00:02:34,560 --> 00:02:37,280
we will be paying for their tickets and

62
00:02:37,280 --> 00:02:38,560
accommodation

63
00:02:38,560 --> 00:02:40,640
and uh yeah we'll be having great time

64
00:02:40,640 --> 00:02:42,720
together in abu dhabi

65
00:02:42,720 --> 00:02:45,440
maybe we can have also a dinner together

66
00:02:45,440 --> 00:02:46,319
uh

67
00:02:46,319 --> 00:02:49,519
so yeah uh i hope uh this motivates you

68
00:02:49,519 --> 00:02:51,920
to pay attention in this

69
00:02:51,920 --> 00:02:53,920
course um

70
00:02:53,920 --> 00:02:55,840
ask whatever questions you want just

71
00:02:55,840 --> 00:02:57,519
don't leave the class without

72
00:02:57,519 --> 00:03:00,560
uh understanding everything

73
00:03:00,560 --> 00:03:02,800
and yeah let's get started good luck

74
00:03:02,800 --> 00:03:05,360
everyone

75
00:03:05,360 --> 00:03:08,080
thanks allah so uh before we start i am

76
00:03:08,080 --> 00:03:09,760
going to be

77
00:03:09,760 --> 00:03:12,480
sharing the material with you guys

78
00:03:12,480 --> 00:03:13,599
uh

79
00:03:13,599 --> 00:03:15,360
just in case there are some teams out

80
00:03:15,360 --> 00:03:17,840
there that you know they they feel like

81
00:03:17,840 --> 00:03:19,200
they're a little bit advanced and they

82
00:03:19,200 --> 00:03:20,640
don't want to listen to me talk about

83
00:03:20,640 --> 00:03:22,800
what is attack defense for like an hour

84
00:03:22,800 --> 00:03:23,840
and a half

85
00:03:23,840 --> 00:03:26,400
so i will give you guys the material for

86
00:03:26,400 --> 00:03:28,640
day one

87
00:03:28,640 --> 00:03:30,959
right about any second now

88
00:03:30,959 --> 00:03:33,840
should pop up

89
00:03:36,879 --> 00:03:38,640
yeah so right now i'm uploading there

90
00:03:38,640 --> 00:03:40,319
are the slides for the day one training

91
00:03:40,319 --> 00:03:41,680
if you feel like you know you're

92
00:03:41,680 --> 00:03:42,959
straight of an advanced team and you

93
00:03:42,959 --> 00:03:44,080
wanna

94
00:03:44,080 --> 00:03:46,159
go forward don't go too far though

95
00:03:46,159 --> 00:03:48,400
because you might you know start ruining

96
00:03:48,400 --> 00:03:50,000
some things for other people stay

97
00:03:50,000 --> 00:03:51,599
relatively close but you guys can just

98
00:03:51,599 --> 00:03:54,080
take a look at the material and if you

99
00:03:54,080 --> 00:03:55,519
feel like i'm going a bit too slow or

100
00:03:55,519 --> 00:03:58,000
you already know this feel free to jump

101
00:03:58,000 --> 00:03:59,040
up ahead

102
00:03:59,040 --> 00:04:00,879
so let's get started finally with the

103
00:04:00,879 --> 00:04:03,439
material

104
00:04:03,599 --> 00:04:05,040
all right

105
00:04:05,040 --> 00:04:07,519
so i'm assuming you guys can see my

106
00:04:07,519 --> 00:04:09,280
screen i

107
00:04:09,280 --> 00:04:12,000
can i get a confirmation anybody

108
00:04:12,000 --> 00:04:13,360
you guys can see

109
00:04:13,360 --> 00:04:16,000
yes yes before you see your screen nice

110
00:04:16,000 --> 00:04:18,238
thank you so much all right so let's get

111
00:04:18,238 --> 00:04:21,358
started welcome to day one of attack and

112
00:04:21,358 --> 00:04:23,680
defense training i will have to check

113
00:04:23,680 --> 00:04:26,720
the chat every once in a while so uh if

114
00:04:26,720 --> 00:04:28,639
anybody has a question just interrupt me

115
00:04:28,639 --> 00:04:30,000
so i can answer them because i won't be

116
00:04:30,000 --> 00:04:33,520
able to see the chat yeah all right so

117
00:04:33,520 --> 00:04:36,800
welcome to your first day andy how can

118
00:04:36,800 --> 00:04:38,479
the box attack and defense training

119
00:04:38,479 --> 00:04:40,160
right what we're going to cover today is

120
00:04:40,160 --> 00:04:42,240
we're going to introduce you to attack

121
00:04:42,240 --> 00:04:44,000
and defense what it is

122
00:04:44,000 --> 00:04:46,160
how it works then we're going to move on

123
00:04:46,160 --> 00:04:48,080
to introducing you to the hack in the

124
00:04:48,080 --> 00:04:50,240
box attack and defense platform which is

125
00:04:50,240 --> 00:04:51,280
what you will be using in the

126
00:04:51,280 --> 00:04:54,400
pre-qualifications and the final

127
00:04:54,400 --> 00:04:56,000
next we're going to move on to some

128
00:04:56,000 --> 00:04:57,680
practical stuff where you're going to

129
00:04:57,680 --> 00:04:59,680
learn how to list and manage your

130
00:04:59,680 --> 00:05:01,759
services that you need to protect and

131
00:05:01,759 --> 00:05:04,160
we're going to move on to the most fun

132
00:05:04,160 --> 00:05:06,080
activity of today which is capturing

133
00:05:06,080 --> 00:05:08,720
traffic and stealing exploits from other

134
00:05:08,720 --> 00:05:10,320
teams again if you don't really know

135
00:05:10,320 --> 00:05:12,240
what the last two mean don't worry

136
00:05:12,240 --> 00:05:14,080
you'll understand as we move on through

137
00:05:14,080 --> 00:05:15,840
the explanation

138
00:05:15,840 --> 00:05:18,160
starting with attack and defense so most

139
00:05:18,160 --> 00:05:19,120
of you

140
00:05:19,120 --> 00:05:21,840
have already played ctfs in the form of

141
00:05:21,840 --> 00:05:23,520
jeopardy

142
00:05:23,520 --> 00:05:26,000
all right where you have questions

143
00:05:26,000 --> 00:05:28,479
they usually just boxes and you click on

144
00:05:28,479 --> 00:05:31,280
them and it's usually just one thing you

145
00:05:31,280 --> 00:05:33,039
solve it you get the flag you submit and

146
00:05:33,039 --> 00:05:35,280
that's that that's jeopardy this is a

147
00:05:35,280 --> 00:05:36,960
different type of ctf called attack and

148
00:05:36,960 --> 00:05:38,400
defense and it's a whole different game

149
00:05:38,400 --> 00:05:39,199
mode

150
00:05:39,199 --> 00:05:40,800
in attacking defense

151
00:05:40,800 --> 00:05:43,600
teams share the same set of services all

152
00:05:43,600 --> 00:05:46,240
together in one network so your team and

153
00:05:46,240 --> 00:05:48,080
the and all the other teams have the

154
00:05:48,080 --> 00:05:49,840
same

155
00:05:49,840 --> 00:05:51,919
services and you're all together in one

156
00:05:51,919 --> 00:05:53,199
network

157
00:05:53,199 --> 00:05:54,720
each team's goal is to find the

158
00:05:54,720 --> 00:05:56,639
vulnerabilities in the services that

159
00:05:56,639 --> 00:05:59,520
they have and craft exploits for them so

160
00:05:59,520 --> 00:06:00,720
you're going to have

161
00:06:00,720 --> 00:06:02,800
a couple of services usually in the form

162
00:06:02,800 --> 00:06:04,639
of websites you need to find the

163
00:06:04,639 --> 00:06:06,560
vulnerabilities and write exploits for

164
00:06:06,560 --> 00:06:08,960
them once you find vulnerabilities in a

165
00:06:08,960 --> 00:06:10,000
service

166
00:06:10,000 --> 00:06:12,080
your your priority should be to patch

167
00:06:12,080 --> 00:06:14,479
your own service while also using the

168
00:06:14,479 --> 00:06:16,479
exploit that you just wrote to steal

169
00:06:16,479 --> 00:06:18,479
flags from the other teams that's why

170
00:06:18,479 --> 00:06:19,680
it's called attack defense you're

171
00:06:19,680 --> 00:06:21,360
defending your own services while

172
00:06:21,360 --> 00:06:24,319
attacking the other team's services

173
00:06:24,319 --> 00:06:26,319
and in attack and defense there are many

174
00:06:26,319 --> 00:06:28,800
factors that affect a team's points so

175
00:06:28,800 --> 00:06:30,960
it's not just like how in jeopardy

176
00:06:30,960 --> 00:06:33,199
usually your points is just

177
00:06:33,199 --> 00:06:34,880
how fast you solved the challenge or how

178
00:06:34,880 --> 00:06:36,400
hard it was that's not the case in

179
00:06:36,400 --> 00:06:38,639
attack and defense in attack and defense

180
00:06:38,639 --> 00:06:40,960
the factors that affect points are first

181
00:06:40,960 --> 00:06:43,440
bloods how many teams are exploiting the

182
00:06:43,440 --> 00:06:46,000
same service as you because if many

183
00:06:46,000 --> 00:06:47,919
teams are exploiting the same service or

184
00:06:47,919 --> 00:06:49,440
a lot of teams have patched their

185
00:06:49,440 --> 00:06:50,960
service you're going to get very few

186
00:06:50,960 --> 00:06:53,680
points and a team's sla which we will

187
00:06:53,680 --> 00:06:55,360
talk about shortly

188
00:06:55,360 --> 00:06:56,800
please note that there are penalties

189
00:06:56,800 --> 00:06:58,319
that can be given out to teams if you

190
00:06:58,319 --> 00:07:00,960
violate rules so don't do that

191
00:07:00,960 --> 00:07:03,039
this is a quick comparison between

192
00:07:03,039 --> 00:07:05,759
attack defense and jeopardy games in

193
00:07:05,759 --> 00:07:08,400
attack defense your target is other

194
00:07:08,400 --> 00:07:11,360
teams however in jeopardy which what is

195
00:07:11,360 --> 00:07:13,199
what most of you are used to your target

196
00:07:13,199 --> 00:07:15,039
is just challenges that have been put

197
00:07:15,039 --> 00:07:16,800
there for the contest

198
00:07:16,800 --> 00:07:18,639
your goal in attacking defense is to

199
00:07:18,639 --> 00:07:20,720
find vulnerabilities and

200
00:07:20,720 --> 00:07:22,960
patch them while also exploiting them

201
00:07:22,960 --> 00:07:25,599
however in jeopardy your goal is most

202
00:07:25,599 --> 00:07:27,440
often just to exploit the vulnerability

203
00:07:27,440 --> 00:07:29,599
you don't have to worry about patching

204
00:07:29,599 --> 00:07:31,599
in attack and defense the point system

205
00:07:31,599 --> 00:07:33,360
is based off as i explained in the

206
00:07:33,360 --> 00:07:35,199
previous slide the number of teams that

207
00:07:35,199 --> 00:07:37,440
are currently exploiting this service

208
00:07:37,440 --> 00:07:39,840
your sla and first bloods however in

209
00:07:39,840 --> 00:07:42,160
jeopardy most commonly the only things

210
00:07:42,160 --> 00:07:43,840
that affect the amount of points that

211
00:07:43,840 --> 00:07:45,759
you get are the number of solves this

212
00:07:45,759 --> 00:07:49,120
current challenge has and first bloods

213
00:07:49,120 --> 00:07:50,879
when we talk about interaction with

214
00:07:50,879 --> 00:07:52,080
other teams

215
00:07:52,080 --> 00:07:54,240
in attacking defense it is a core

216
00:07:54,240 --> 00:07:56,400
element of gameplay you are going to be

217
00:07:56,400 --> 00:07:59,120
attacking and messing with other teams

218
00:07:59,120 --> 00:08:00,879
90 of the game that's what the whole

219
00:08:00,879 --> 00:08:02,800
game is about you are going to have to

220
00:08:02,800 --> 00:08:05,759
come up with clever creative ways to

221
00:08:05,759 --> 00:08:07,680
defend your services

222
00:08:07,680 --> 00:08:10,160
to attack the other team services bypass

223
00:08:10,160 --> 00:08:12,240
their own defenses so it's all about

224
00:08:12,240 --> 00:08:14,879
interacting with enemy teams or not

225
00:08:14,879 --> 00:08:17,520
enemy opposing teams in jeopardy you

226
00:08:17,520 --> 00:08:19,120
don't really interact with any other

227
00:08:19,120 --> 00:08:21,120
teams at all you don't you just have

228
00:08:21,120 --> 00:08:22,479
challenges you solve them and that's

229
00:08:22,479 --> 00:08:24,160
that usually interaction with other

230
00:08:24,160 --> 00:08:27,680
teams is not not allowed at all however

231
00:08:27,680 --> 00:08:31,280
both both can be fun

232
00:08:31,599 --> 00:08:32,958
and even if you're not winning you're

233
00:08:32,958 --> 00:08:34,159
just there to have fun trust me it's

234
00:08:34,159 --> 00:08:36,080
going to be an amazing experience so

235
00:08:36,080 --> 00:08:37,919
some concepts in attack and defense

236
00:08:37,919 --> 00:08:40,080
before i move on a service what is a

237
00:08:40,080 --> 00:08:41,200
service i've been saying the word

238
00:08:41,200 --> 00:08:42,958
service like 10 times in the past few

239
00:08:42,958 --> 00:08:45,200
slides so a service is a piece of

240
00:08:45,200 --> 00:08:48,080
software so hardware software or

241
00:08:48,080 --> 00:08:50,160
hardware that contains a vulnerability

242
00:08:50,160 --> 00:08:53,120
that can be exploited and patched

243
00:08:53,120 --> 00:08:56,720
all right so think of it literally as

244
00:08:56,720 --> 00:08:58,000
a service

245
00:08:58,000 --> 00:08:59,920
something like a website

246
00:08:59,920 --> 00:09:02,240
a database system

247
00:09:02,240 --> 00:09:03,200
a

248
00:09:03,200 --> 00:09:05,440
some binary that's running on some port

249
00:09:05,440 --> 00:09:07,680
that you can connect to through netcat

250
00:09:07,680 --> 00:09:10,000
or a hardware device however because

251
00:09:10,000 --> 00:09:11,920
this competition is going to be a mix of

252
00:09:11,920 --> 00:09:13,839
online especially the pre-qualifications

253
00:09:13,839 --> 00:09:15,279
are going to be online you guys don't

254
00:09:15,279 --> 00:09:17,920
have to worry about hardware services

255
00:09:17,920 --> 00:09:19,600
so just think of it all as software

256
00:09:19,600 --> 00:09:21,440
services now there is something called

257
00:09:21,440 --> 00:09:24,320
the check system what is that well this

258
00:09:24,320 --> 00:09:26,160
is a system that's put in place on the

259
00:09:26,160 --> 00:09:28,000
same network as everybody and it checks

260
00:09:28,000 --> 00:09:29,600
that every team's

261
00:09:29,600 --> 00:09:32,160
service is up and running properly

262
00:09:32,160 --> 00:09:34,480
why because obviously

263
00:09:34,480 --> 00:09:37,120
i can't just turn off all my services

264
00:09:37,120 --> 00:09:38,959
and be like oh nobody can attack me

265
00:09:38,959 --> 00:09:40,880
therefore i am invincible that's not how

266
00:09:40,880 --> 00:09:42,880
that works so there is a system there

267
00:09:42,880 --> 00:09:44,560
that makes sure that everybody is

268
00:09:44,560 --> 00:09:46,320
playing fair everybody has their

269
00:09:46,320 --> 00:09:47,680
services up and running and they're

270
00:09:47,680 --> 00:09:48,959
running properly we're going to talk

271
00:09:48,959 --> 00:09:50,800
about more of that in a second

272
00:09:50,800 --> 00:09:52,720
then there is the flag service however

273
00:09:52,720 --> 00:09:54,560
in hack in the box the flag service and

274
00:09:54,560 --> 00:09:56,080
the check system are pretty much the

275
00:09:56,080 --> 00:09:58,560
same system but this is essentially the

276
00:09:58,560 --> 00:10:01,360
system where you submit flags so it's

277
00:10:01,360 --> 00:10:03,120
not going to be like what you're used to

278
00:10:03,120 --> 00:10:05,040
in jeopardy where there's usually just a

279
00:10:05,040 --> 00:10:06,959
form you just copy and paste the flag

280
00:10:06,959 --> 00:10:08,800
there nope submitting flags and attack

281
00:10:08,800 --> 00:10:11,519
defense is a little bit different

282
00:10:11,519 --> 00:10:13,760
and finally there is the von image this

283
00:10:13,760 --> 00:10:14,720
is

284
00:10:14,720 --> 00:10:17,279
each team has a vulnerable image vm this

285
00:10:17,279 --> 00:10:19,279
is the server that's hosting all of your

286
00:10:19,279 --> 00:10:21,360
services and managing them you're going

287
00:10:21,360 --> 00:10:23,760
to be interacting with this vuln image

288
00:10:23,760 --> 00:10:26,000
all the time it's literally your

289
00:10:26,000 --> 00:10:28,160
server where all your services are all

290
00:10:28,160 --> 00:10:29,680
right

291
00:10:29,680 --> 00:10:31,920
so defending in attacking defense in

292
00:10:31,920 --> 00:10:33,600
attack and defense games you are allowed

293
00:10:33,600 --> 00:10:35,440
to be as creative as you want when it

294
00:10:35,440 --> 00:10:37,440
comes to defending your services you can

295
00:10:37,440 --> 00:10:39,760
install firewalls so web application

296
00:10:39,760 --> 00:10:41,600
firewalls all that stuff go ahead you

297
00:10:41,600 --> 00:10:43,519
can write custom firewall and proxy

298
00:10:43,519 --> 00:10:45,519
rules to block suspicious traffic so

299
00:10:45,519 --> 00:10:46,880
let's say for example you know the

300
00:10:46,880 --> 00:10:49,200
vulnerability is an sql injection

301
00:10:49,200 --> 00:10:51,279
if you can write up a quick proxy rule

302
00:10:51,279 --> 00:10:53,519
that just blocks all requests with the

303
00:10:53,519 --> 00:10:55,839
word select for example

304
00:10:55,839 --> 00:10:57,920
go ahead that's one way to defend

305
00:10:57,920 --> 00:10:59,760
there's no problem about that you can

306
00:10:59,760 --> 00:11:02,720
hack into other teams vms as well if

307
00:11:02,720 --> 00:11:05,200
they don't secure their ssh passwords

308
00:11:05,200 --> 00:11:07,519
properly if they leave something open

309
00:11:07,519 --> 00:11:09,680
you're more than welcome to go in and

310
00:11:09,680 --> 00:11:11,920
abuse that however don't waste too much

311
00:11:11,920 --> 00:11:13,200
time i would say don't waste too much

312
00:11:13,200 --> 00:11:14,560
time trying to attack the other team's

313
00:11:14,560 --> 00:11:15,680
vms

314
00:11:15,680 --> 00:11:17,279
more than focus on their services

315
00:11:17,279 --> 00:11:20,560
because by default everybody's server is

316
00:11:20,560 --> 00:11:23,279
perfectly fine and secured as a random

317
00:11:23,279 --> 00:11:26,240
password so as long as they're

318
00:11:26,240 --> 00:11:28,320
not doing something obviously wrong like

319
00:11:28,320 --> 00:11:29,839
they installed something else and they

320
00:11:29,839 --> 00:11:31,680
exposed it i would say don't worry about

321
00:11:31,680 --> 00:11:32,800
that too much

322
00:11:32,800 --> 00:11:34,560
you can prevent the exploitation of the

323
00:11:34,560 --> 00:11:36,240
vulnerability without actually patching

324
00:11:36,240 --> 00:11:38,240
it which is pretty much the first two so

325
00:11:38,240 --> 00:11:39,600
you don't have to patch the

326
00:11:39,600 --> 00:11:40,880
vulnerability especially if it's

327
00:11:40,880 --> 00:11:42,480
something complicated that you might not

328
00:11:42,480 --> 00:11:44,720
understand it's you're seeing the

329
00:11:44,720 --> 00:11:46,240
exploit you're seeing other teams

330
00:11:46,240 --> 00:11:47,920
exploit you but you don't quite

331
00:11:47,920 --> 00:11:49,920
understand how to patch it

332
00:11:49,920 --> 00:11:51,120
so

333
00:11:51,120 --> 00:11:53,600
feel free to just try your best to write

334
00:11:53,600 --> 00:11:55,440
firewall rules proxy rules and just

335
00:11:55,440 --> 00:11:57,519
block the exploitation make exploitation

336
00:11:57,519 --> 00:11:59,839
much diff much more difficult without

337
00:11:59,839 --> 00:12:01,920
actually patching the vulnerability you

338
00:12:01,920 --> 00:12:03,519
can even fingerprint other teams

339
00:12:03,519 --> 00:12:05,040
exploits and block traffic these are

340
00:12:05,040 --> 00:12:07,200
essentially the same thing and pretty

341
00:12:07,200 --> 00:12:10,000
much every anything be as creative as

342
00:12:10,000 --> 00:12:12,320
you want trust me the sky's the limit

343
00:12:12,320 --> 00:12:15,200
however there are some golden rules that

344
00:12:15,200 --> 00:12:17,680
should not be messed with at all you

345
00:12:17,680 --> 00:12:20,079
cannot block outgoing traffic containing

346
00:12:20,079 --> 00:12:22,720
flags i mean it's not that you cannot

347
00:12:22,720 --> 00:12:25,680
you can you're allowed to you can so

348
00:12:25,680 --> 00:12:27,440
let's say for example you're going to

349
00:12:27,440 --> 00:12:29,360
write a firewall rule that blocks all

350
00:12:29,360 --> 00:12:31,760
packets that are leaving your services

351
00:12:31,760 --> 00:12:33,920
that contain flags so you're trying to

352
00:12:33,920 --> 00:12:36,240
stop packets containing flags from ever

353
00:12:36,240 --> 00:12:39,360
leaving your service you can do that you

354
00:12:39,360 --> 00:12:40,880
can

355
00:12:40,880 --> 00:12:42,720
however the check system will detect

356
00:12:42,720 --> 00:12:44,160
that and you're going to lose sla you're

357
00:12:44,160 --> 00:12:45,680
going to lose a lot of sla that's not

358
00:12:45,680 --> 00:12:48,320
nice you can't remove your own flags

359
00:12:48,320 --> 00:12:50,480
from your service so you can't just log

360
00:12:50,480 --> 00:12:52,560
into your database and just remove all

361
00:12:52,560 --> 00:12:55,040
the flags you can you shouldn't because

362
00:12:55,040 --> 00:12:57,040
the check system will find that you also

363
00:12:57,040 --> 00:13:00,000
can't just well i keep saying can't but

364
00:13:00,000 --> 00:13:02,160
you can you shouldn't you shouldn't just

365
00:13:02,160 --> 00:13:04,320
comment entire endpoints functionality

366
00:13:04,320 --> 00:13:05,760
so let's say the vulnerability is in

367
00:13:05,760 --> 00:13:08,320
slash login you shouldn't just go to the

368
00:13:08,320 --> 00:13:11,120
code and be like oh this entire block of

369
00:13:11,120 --> 00:13:12,800
code for slash login i'm just going to

370
00:13:12,800 --> 00:13:14,160
throw that in the garbage we don't need

371
00:13:14,160 --> 00:13:15,040
that

372
00:13:15,040 --> 00:13:17,040
check system will also find that and

373
00:13:17,040 --> 00:13:20,959
you're going to lose sla very rapidly

374
00:13:20,959 --> 00:13:22,720
teamwork and attacking defense it's all

375
00:13:22,720 --> 00:13:24,560
about teamwork

376
00:13:24,560 --> 00:13:26,000
there are so many tasks that have to be

377
00:13:26,000 --> 00:13:27,760
done in an attack and defense game so

378
00:13:27,760 --> 00:13:30,320
you guys need to have good and efficient

379
00:13:30,320 --> 00:13:32,160
communication and role assignment inside

380
00:13:32,160 --> 00:13:34,399
of your teams you can't be running all

381
00:13:34,399 --> 00:13:35,680
over the place

382
00:13:35,680 --> 00:13:37,279
three people trying to attack the same

383
00:13:37,279 --> 00:13:40,000
service two people running around just

384
00:13:40,000 --> 00:13:41,600
jumping between tasks you should be

385
00:13:41,600 --> 00:13:44,399
coordinated assign tasks from the start

386
00:13:44,399 --> 00:13:46,160
this is critical to ensuring that your

387
00:13:46,160 --> 00:13:48,160
team is efficient and you have a chance

388
00:13:48,160 --> 00:13:50,240
of winning here are some of the tasks

389
00:13:50,240 --> 00:13:51,760
that you need to split among yourselves

390
00:13:51,760 --> 00:13:53,519
for example monitoring packet captures

391
00:13:53,519 --> 00:13:55,680
for exploits someone is just going to be

392
00:13:55,680 --> 00:13:58,240
sitting there monitoring packet captures

393
00:13:58,240 --> 00:14:00,240
may trying to grab and steal as many

394
00:14:00,240 --> 00:14:02,480
exploits from other teams as possible

395
00:14:02,480 --> 00:14:03,839
another person will be monitoring

396
00:14:03,839 --> 00:14:05,440
service functionality making sure that

397
00:14:05,440 --> 00:14:07,120
nobody knocked down a service by

398
00:14:07,120 --> 00:14:10,639
accident no services got broken or they

399
00:14:10,639 --> 00:14:12,000
you know they stopped working all of a

400
00:14:12,000 --> 00:14:14,320
sudden or no exploit broke the service

401
00:14:14,320 --> 00:14:15,839
so that they can quickly restart the

402
00:14:15,839 --> 00:14:18,000
service so they don't lose sla

403
00:14:18,000 --> 00:14:20,000
another person will be patching services

404
00:14:20,000 --> 00:14:21,839
so you just give them the vulnerability

405
00:14:21,839 --> 00:14:22,800
you tell them hey this is a

406
00:14:22,800 --> 00:14:24,720
vulnerability i think it's on this this

407
00:14:24,720 --> 00:14:27,839
line go ahead and they start patching

408
00:14:27,839 --> 00:14:30,000
and other people to write exploits and

409
00:14:30,000 --> 00:14:31,680
launch those exploits and someone else

410
00:14:31,680 --> 00:14:32,480
to

411
00:14:32,480 --> 00:14:33,600
for example they're basically your

412
00:14:33,600 --> 00:14:35,600
system administrator they just install

413
00:14:35,600 --> 00:14:37,519
tools that you might need of course if

414
00:14:37,519 --> 00:14:39,360
your team is less than the amount of

415
00:14:39,360 --> 00:14:41,120
tasks in front of you don't worry some

416
00:14:41,120 --> 00:14:43,680
of these tasks only happen once another

417
00:14:43,680 --> 00:14:45,920
task happens for example you only need

418
00:14:45,920 --> 00:14:47,839
to write an ex you only need to write an

419
00:14:47,839 --> 00:14:50,240
exploit once you find a vulnerability

420
00:14:50,240 --> 00:14:51,360
and you only need to patch the

421
00:14:51,360 --> 00:14:53,040
vulnerability once you find the

422
00:14:53,040 --> 00:14:54,800
vulnerability so you know you guys can

423
00:14:54,800 --> 00:14:56,880
mix and match that's perfectly fine just

424
00:14:56,880 --> 00:14:59,600
make sure that not two people are kind

425
00:14:59,600 --> 00:15:02,880
of doing the same exact thing all right

426
00:15:02,880 --> 00:15:04,880
so rules we gotta talk about rules

427
00:15:04,880 --> 00:15:07,120
there's no competition without rules

428
00:15:07,120 --> 00:15:09,360
you are allowed to monitor the traffic

429
00:15:09,360 --> 00:15:11,279
and steal opposing teams exploits so

430
00:15:11,279 --> 00:15:13,040
you're pretty much allowed to it's

431
00:15:13,040 --> 00:15:14,880
actually a big thing to do in attack and

432
00:15:14,880 --> 00:15:15,839
defense

433
00:15:15,839 --> 00:15:17,199
perfectly fine

434
00:15:17,199 --> 00:15:19,199
you can also take your services offline

435
00:15:19,199 --> 00:15:20,880
if the exploits are making your service

436
00:15:20,880 --> 00:15:23,120
unstable so if it's like

437
00:15:23,120 --> 00:15:24,480
if it's a command injection the

438
00:15:24,480 --> 00:15:26,160
vulnerabilities command injection and

439
00:15:26,160 --> 00:15:28,000
someone thinks they're so funny their

440
00:15:28,000 --> 00:15:30,959
exploit is basically just rm rf slash

441
00:15:30,959 --> 00:15:33,440
and they just destroy your service

442
00:15:33,440 --> 00:15:35,279
you are allowed to take your services

443
00:15:35,279 --> 00:15:38,320
off offline patch them work on them and

444
00:15:38,320 --> 00:15:39,839
bring them back up again however you got

445
00:15:39,839 --> 00:15:40,800
to do that quickly because you're going

446
00:15:40,800 --> 00:15:42,160
to lose sla

447
00:15:42,160 --> 00:15:43,680
you are also allowed to patch your

448
00:15:43,680 --> 00:15:46,480
services in any way you see fit again as

449
00:15:46,480 --> 00:15:47,839
i said before

450
00:15:47,839 --> 00:15:50,160
let's say in this in the case of sql

451
00:15:50,160 --> 00:15:52,560
injection you just decide to block all

452
00:15:52,560 --> 00:15:54,959
requests with the select keyword

453
00:15:54,959 --> 00:15:57,759
that might work for some time before

454
00:15:57,759 --> 00:15:59,440
some other teams start to realize that

455
00:15:59,440 --> 00:16:00,160
hey

456
00:16:00,160 --> 00:16:02,880
i'm just going to start encoding my sql

457
00:16:02,880 --> 00:16:04,880
injection in hex or something to bypass

458
00:16:04,880 --> 00:16:09,040
these simple filters right

459
00:16:09,040 --> 00:16:09,920
i felt like someone was going to

460
00:16:09,920 --> 00:16:11,839
interrupt me

461
00:16:11,839 --> 00:16:13,440
no

462
00:16:13,440 --> 00:16:14,639
okay

463
00:16:14,639 --> 00:16:17,199
so you are not allowed to however filter

464
00:16:17,199 --> 00:16:18,800
traffic that is coming from opposing

465
00:16:18,800 --> 00:16:20,800
teams which not exactly possible anyway

466
00:16:20,800 --> 00:16:22,720
and we'll talk about that in a second so

467
00:16:22,720 --> 00:16:24,959
you can't just you know bring up ip

468
00:16:24,959 --> 00:16:26,800
tables and be like oh i'm just going to

469
00:16:26,800 --> 00:16:29,199
block all traffic from all other teams

470
00:16:29,199 --> 00:16:30,720
and i'm just going to sit here and be

471
00:16:30,720 --> 00:16:32,639
invincible you can't do that that is

472
00:16:32,639 --> 00:16:34,240
against the rules

473
00:16:34,240 --> 00:16:36,079
you can't perform any type of denial of

474
00:16:36,079 --> 00:16:38,160
service again obvious it's not fair if

475
00:16:38,160 --> 00:16:40,320
you're just you know throwing chunks of

476
00:16:40,320 --> 00:16:42,480
packets at enemy teams they can't even

477
00:16:42,480 --> 00:16:44,399
talk to their services you're going to

478
00:16:44,399 --> 00:16:46,079
be disqualified for that and you

479
00:16:46,079 --> 00:16:47,759
obviously cannot attack game

480
00:16:47,759 --> 00:16:49,600
infrastructure or attack targets that

481
00:16:49,600 --> 00:16:51,040
are outside the game what are you doing

482
00:16:51,040 --> 00:16:52,639
outside targets outside the game anyway

483
00:16:52,639 --> 00:16:54,320
there's a game happening don't touch

484
00:16:54,320 --> 00:16:56,160
anything outside the vpn network just

485
00:16:56,160 --> 00:16:58,720
focus on the game again for more rules

486
00:16:58,720 --> 00:17:01,440
be sure to check out the conference link

487
00:17:01,440 --> 00:17:03,360
i have much more detailed rules over

488
00:17:03,360 --> 00:17:05,839
there

489
00:17:07,119 --> 00:17:10,079
skip the slide all right so finally sla

490
00:17:10,079 --> 00:17:11,520
sla what is this thing i keep talking

491
00:17:11,520 --> 00:17:13,199
about sla over and over

492
00:17:13,199 --> 00:17:15,439
so sla is the fraction of the game time

493
00:17:15,439 --> 00:17:18,559
in which a service is considered up for

494
00:17:18,559 --> 00:17:20,959
example if the service was always up the

495
00:17:20,959 --> 00:17:23,359
sla would be one another example is

496
00:17:23,359 --> 00:17:24,799
let's say you've been playing for four

497
00:17:24,799 --> 00:17:27,359
hours and your service has only been up

498
00:17:27,359 --> 00:17:30,000
for three hours so three out of four

499
00:17:30,000 --> 00:17:33,200
your sla would then be 0.75

500
00:17:33,200 --> 00:17:34,799
and so that means that your sla is

501
00:17:34,799 --> 00:17:36,640
essentially how healthy your services

502
00:17:36,640 --> 00:17:38,160
have been over the course of the game

503
00:17:38,160 --> 00:17:40,000
and these actually make a very big

504
00:17:40,000 --> 00:17:42,640
difference in points don't just ignore

505
00:17:42,640 --> 00:17:44,559
sla don't think that oh you know sla is

506
00:17:44,559 --> 00:17:46,640
just a number how bad can it be and you

507
00:17:46,640 --> 00:17:48,480
just turn off all your services and

508
00:17:48,480 --> 00:17:50,320
attack you are go you're not going to

509
00:17:50,320 --> 00:17:53,360
win you're not going to get any points

510
00:17:53,360 --> 00:17:56,000
now there are four states that the check

511
00:17:56,000 --> 00:17:57,280
system can

512
00:17:57,280 --> 00:17:59,679
basically say that your service is in

513
00:17:59,679 --> 00:18:02,320
okay which means the service is online

514
00:18:02,320 --> 00:18:04,720
it's working it's returning flags

515
00:18:04,720 --> 00:18:06,320
everything's fine

516
00:18:06,320 --> 00:18:08,240
mumble which means that the service is

517
00:18:08,240 --> 00:18:12,000
online but it's not working properly so

518
00:18:12,000 --> 00:18:13,360
let's say

519
00:18:13,360 --> 00:18:17,039
it's getting 404s some random 403s some

520
00:18:17,039 --> 00:18:18,559
something is breaking it's not getting

521
00:18:18,559 --> 00:18:20,799
the expected responses

522
00:18:20,799 --> 00:18:22,960
or corrupt which means that the service

523
00:18:22,960 --> 00:18:25,039
is online but it just can't see any

524
00:18:25,039 --> 00:18:26,799
flags so remember when i said that you

525
00:18:26,799 --> 00:18:28,640
can't remove your own flags

526
00:18:28,640 --> 00:18:29,919
that's because the check system will

527
00:18:29,919 --> 00:18:32,000
find out it'll be like hey i can't see

528
00:18:32,000 --> 00:18:34,559
previous flags anymore what happened and

529
00:18:34,559 --> 00:18:37,120
so you lose sla or down which means that

530
00:18:37,120 --> 00:18:39,200
the service is not even up and running

531
00:18:39,200 --> 00:18:41,520
at all

532
00:18:41,679 --> 00:18:43,280
and there will be other concepts as well

533
00:18:43,280 --> 00:18:46,000
that will be explained later on

534
00:18:46,000 --> 00:18:48,480
getting started finally so you probably

535
00:18:48,480 --> 00:18:50,640
got bored of me talking for the past i

536
00:18:50,640 --> 00:18:52,320
don't know how much time so finally

537
00:18:52,320 --> 00:18:54,480
we're going to do something practical so

538
00:18:54,480 --> 00:18:57,039
i need you guys all to go to this link

539
00:18:57,039 --> 00:19:00,039
cloud.training.ctf.hitb.org

540
00:19:01,039 --> 00:19:03,200
cloud html and i'm going to do that with

541
00:19:03,200 --> 00:19:04,799
you but for a second i need you to stay

542
00:19:04,799 --> 00:19:05,919
with me just for a second so i can

543
00:19:05,919 --> 00:19:07,919
explain exactly what this is

544
00:19:07,919 --> 00:19:10,960
so this is your cloud console from this

545
00:19:10,960 --> 00:19:13,280
cloud console this is where you can

546
00:19:13,280 --> 00:19:15,360
create and manage your vulnerable images

547
00:19:15,360 --> 00:19:17,679
take snapshots of them connect and

548
00:19:17,679 --> 00:19:19,120
disconnect your vulnerable image from

549
00:19:19,120 --> 00:19:21,200
the game network and this is more most

550
00:19:21,200 --> 00:19:23,919
importantly where you will download vpn

551
00:19:23,919 --> 00:19:26,480
configs for your team so i hope all of

552
00:19:26,480 --> 00:19:29,280
you have openvpn community installed if

553
00:19:29,280 --> 00:19:32,000
not please do just say in the chat that

554
00:19:32,000 --> 00:19:33,600
you might not have

555
00:19:33,600 --> 00:19:36,720
uh openvpn installed and we're going to

556
00:19:36,720 --> 00:19:39,200
try to you know

557
00:19:39,200 --> 00:19:41,280
help you with that but for now everybody

558
00:19:41,280 --> 00:19:45,440
who can please follow along with me to

559
00:19:47,960 --> 00:19:49,360
cloud.training.ctf.hytp.org oh that

560
00:19:49,360 --> 00:19:51,520
takes a lot of time thank you andrew so

561
00:19:51,520 --> 00:19:53,360
andrew is with us to

562
00:19:53,360 --> 00:19:54,480
share

563
00:19:54,480 --> 00:19:56,720
the link so here we go you go

564
00:19:56,720 --> 00:19:58,880
cloud.html

565
00:19:58,880 --> 00:20:01,600
and you see this big scary screen right

566
00:20:01,600 --> 00:20:03,200
so what you need to do is you need to

567
00:20:03,200 --> 00:20:06,080
get the token that was emailed to you so

568
00:20:06,080 --> 00:20:07,440
we have a question do you lose points if

569
00:20:07,440 --> 00:20:09,600
others steal your flags no you don't

570
00:20:09,600 --> 00:20:10,480
lose

571
00:20:10,480 --> 00:20:13,039
points you just lose

572
00:20:13,039 --> 00:20:14,080
flags

573
00:20:14,080 --> 00:20:16,240
i think andrew is here to help clarify

574
00:20:16,240 --> 00:20:19,559
on this point

575
00:20:20,000 --> 00:20:21,840
say we're a long way from stealing flags

576
00:20:21,840 --> 00:20:24,240
from other people trust me that's mostly

577
00:20:24,240 --> 00:20:27,200
day two material

578
00:20:27,440 --> 00:20:30,240
uh yusuf is it okay if you send the url

579
00:20:30,240 --> 00:20:31,520
in the chat

580
00:20:31,520 --> 00:20:33,200
uh andrew already did that in the chats

581
00:20:33,200 --> 00:20:36,320
right there um cloud training uh okay i

582
00:20:36,320 --> 00:20:38,720
mean uh the uh open

583
00:20:38,720 --> 00:20:41,039
vpn

584
00:20:41,039 --> 00:20:42,880
right so the openvpn okay so i'll just

585
00:20:42,880 --> 00:20:44,400
do this in front of everybody so you

586
00:20:44,400 --> 00:20:46,000
guys can see so

587
00:20:46,000 --> 00:20:48,159
you're gonna go to the openvpn website

588
00:20:48,159 --> 00:20:51,200
you are going to don't click on vpn

589
00:20:51,200 --> 00:20:52,880
client don't do that

590
00:20:52,880 --> 00:20:54,480
you're going to go to

591
00:20:54,480 --> 00:20:55,760
community

592
00:20:55,760 --> 00:20:57,360
and downloads

593
00:20:57,360 --> 00:20:59,280
all right and if you're on windows you

594
00:20:59,280 --> 00:21:00,799
can get these installers right here if

595
00:21:00,799 --> 00:21:02,960
you're on mac or linux you guys don't

596
00:21:02,960 --> 00:21:04,720
have to download these if you're on mac

597
00:21:04,720 --> 00:21:06,799
you can just use brew homebrew or if

598
00:21:06,799 --> 00:21:08,960
you're on linux just look up how to

599
00:21:08,960 --> 00:21:12,320
install openvpn on your specific version

600
00:21:12,320 --> 00:21:14,640
of linux so if you're running some dbn

601
00:21:14,640 --> 00:21:16,159
you can just do apt if you're running

602
00:21:16,159 --> 00:21:17,919
arch just find out what the package

603
00:21:17,919 --> 00:21:19,760
names are again if you guys are having

604
00:21:19,760 --> 00:21:21,520
issues you can drop questions right here

605
00:21:21,520 --> 00:21:23,679
in the chat or on discord for support

606
00:21:23,679 --> 00:21:26,080
but i'm pretty sure you guys can manage

607
00:21:26,080 --> 00:21:28,480
to at least install openvpn

608
00:21:28,480 --> 00:21:31,200
on your own so is everybody on the

609
00:21:31,200 --> 00:21:32,880
screen is there anybody who is having

610
00:21:32,880 --> 00:21:35,919
any issues coming to this nice big

611
00:21:35,919 --> 00:21:37,679
matrix team

612
00:21:37,679 --> 00:21:39,360
i believe that there are some

613
00:21:39,360 --> 00:21:41,039
participants

614
00:21:41,039 --> 00:21:43,840
actually one is fixing me that he didn't

615
00:21:43,840 --> 00:21:44,559
get

616
00:21:44,559 --> 00:21:47,840
the token in the email

617
00:21:47,840 --> 00:21:50,240
i didn't get the email ahmed youssef

618
00:21:50,240 --> 00:21:51,039
sent

619
00:21:51,039 --> 00:21:52,320
me

620
00:21:52,320 --> 00:21:53,679
send me the link

621
00:21:53,679 --> 00:21:56,679
um

622
00:22:11,120 --> 00:22:13,600
um i believe this is not possible at the

623
00:22:13,600 --> 00:22:16,559
moment since um all the teams are set up

624
00:22:16,559 --> 00:22:19,440
in the infrastructure however uh please

625
00:22:19,440 --> 00:22:21,360
wait hamad we will check with the

626
00:22:21,360 --> 00:22:23,520
hacker dom team and we'll see if it is

627
00:22:23,520 --> 00:22:24,799
possible

628
00:22:24,799 --> 00:22:27,799
okay

629
00:22:28,080 --> 00:22:31,120
okay just hold on please

630
00:22:32,720 --> 00:22:35,360
use if you can you can go on please all

631
00:22:35,360 --> 00:22:37,760
right so uh anybody else having any

632
00:22:37,760 --> 00:22:39,120
issues uh

633
00:22:39,120 --> 00:22:42,080
with their tokens

634
00:22:43,120 --> 00:22:46,559
no hope hopefully not

635
00:22:46,640 --> 00:22:48,799
so all right uh

636
00:22:48,799 --> 00:22:51,120
in that case

637
00:22:51,120 --> 00:22:53,840
so what you guys need to do

638
00:22:53,840 --> 00:22:55,760
is yeah so as andrew said in the chat

639
00:22:55,760 --> 00:22:57,280
thank you andrew if you haven't gone on

640
00:22:57,280 --> 00:22:59,520
your team tokens you just please drop

641
00:22:59,520 --> 00:23:01,760
your team name in the chats and he'll be

642
00:23:01,760 --> 00:23:02,880
here to help you thank you so much

643
00:23:02,880 --> 00:23:04,400
andrew

644
00:23:04,400 --> 00:23:07,200
so uh i'm going to very sneakily steal

645
00:23:07,200 --> 00:23:08,640
this token here

646
00:23:08,640 --> 00:23:11,120
that wasn't very sneaky at all and so

647
00:23:11,120 --> 00:23:12,240
you're just gonna

648
00:23:12,240 --> 00:23:17,280
paste your tokens okay and you log in

649
00:23:17,440 --> 00:23:18,320
so

650
00:23:18,320 --> 00:23:20,320
you can everybody or at least most

651
00:23:20,320 --> 00:23:22,240
people confirm that you have at least

652
00:23:22,240 --> 00:23:24,400
done this step so far

653
00:23:24,400 --> 00:23:25,840
just type

654
00:23:25,840 --> 00:23:26,960
something

655
00:23:26,960 --> 00:23:30,480
say that you have least logged in

656
00:23:30,480 --> 00:23:32,880
yep okay that's this one

657
00:23:32,880 --> 00:23:36,159
nice okay that's great awesome so you're

658
00:23:36,159 --> 00:23:38,240
all here logged into this nice matrix

659
00:23:38,240 --> 00:23:40,320
themed console okay

660
00:23:40,320 --> 00:23:41,279
uh

661
00:23:41,279 --> 00:23:43,039
now we move on

662
00:23:43,039 --> 00:23:43,919
so

663
00:23:43,919 --> 00:23:45,679
what are we going to do next i think i'm

664
00:23:45,679 --> 00:23:47,039
not gonna bother opening the full

665
00:23:47,039 --> 00:23:48,559
presentation mode because that's just

666
00:23:48,559 --> 00:23:49,360
gonna

667
00:23:49,360 --> 00:23:51,760
takes like 10 second transition just to

668
00:23:51,760 --> 00:23:55,520
get me anywhere okay so

669
00:23:55,520 --> 00:23:58,000
welcome to the hack in the box attacker

670
00:23:58,000 --> 00:24:00,000
defense called console so you can type

671
00:24:00,000 --> 00:24:01,520
in help you can get a list of all the

672
00:24:01,520 --> 00:24:02,960
commands that you guys

673
00:24:02,960 --> 00:24:04,480
you know can work

674
00:24:04,480 --> 00:24:06,720
and we're gonna discuss most of these

675
00:24:06,720 --> 00:24:08,640
commands one by one so the first thing

676
00:24:08,640 --> 00:24:10,640
that you need to do is run the get

677
00:24:10,640 --> 00:24:12,720
underscore team underscore openvpn

678
00:24:12,720 --> 00:24:15,279
underscore config command

679
00:24:15,279 --> 00:24:18,480
so what that does and i'll show you

680
00:24:18,480 --> 00:24:21,120
is

681
00:24:21,200 --> 00:24:23,360
you're gonna do get

682
00:24:23,360 --> 00:24:25,679
oh my typing skills aren't amazing today

683
00:24:25,679 --> 00:24:27,760
open

684
00:24:27,760 --> 00:24:29,679
vpn config

685
00:24:29,679 --> 00:24:31,600
like this oh it's going to see an error

686
00:24:31,600 --> 00:24:33,760
that we didn't create a vm first okay

687
00:24:33,760 --> 00:24:35,840
wrong steps here we go first thing we

688
00:24:35,840 --> 00:24:37,679
have to do is first thing you got to do

689
00:24:37,679 --> 00:24:39,760
is you got to create a vm so you got to

690
00:24:39,760 --> 00:24:42,080
create a vulnerable image

691
00:24:42,080 --> 00:24:44,080
all right this is going to

692
00:24:44,080 --> 00:24:46,400
create the server the vulnerable image

693
00:24:46,400 --> 00:24:48,000
server that holds all your services

694
00:24:48,000 --> 00:24:50,000
you're going to type in create

695
00:24:50,000 --> 00:24:52,320
underscore vm and it's going to take

696
00:24:52,320 --> 00:24:53,840
some time

697
00:24:53,840 --> 00:24:55,440
and that's fine give it all the time

698
00:24:55,440 --> 00:24:58,000
that it needs

699
00:24:58,960 --> 00:25:00,799
after we create the vm then we're going

700
00:25:00,799 --> 00:25:04,879
to get the openvpn conflicts no worries

701
00:25:09,919 --> 00:25:11,919
so give it all the time that it needs

702
00:25:11,919 --> 00:25:14,320
and once it's done you guys will

703
00:25:14,320 --> 00:25:16,000
download will open download the openvpn

704
00:25:16,000 --> 00:25:18,400
configs connect to the vpn and i'll show

705
00:25:18,400 --> 00:25:19,679
you how to

706
00:25:19,679 --> 00:25:21,440
make sure that you have connected

707
00:25:21,440 --> 00:25:23,679
properly and then everything is working

708
00:25:23,679 --> 00:25:25,679
now we'll get to do the exciting part

709
00:25:25,679 --> 00:25:28,320
which is logging into your

710
00:25:28,320 --> 00:25:31,720
vulnerable images

711
00:26:00,080 --> 00:26:02,080
we're just waiting for it for the vm to

712
00:26:02,080 --> 00:26:03,840
be created don't worry take the take

713
00:26:03,840 --> 00:26:07,120
this micro 30 40 second break enjoy it

714
00:26:07,120 --> 00:26:10,520
while it lasts

715
00:26:23,520 --> 00:26:26,000
until the break ends uh guys let us know

716
00:26:26,000 --> 00:26:28,880
what do you have for snack today

717
00:26:28,880 --> 00:26:30,960
you have chips you have coffee

718
00:26:30,960 --> 00:26:34,600
watching this training

719
00:26:39,039 --> 00:26:42,080
who has a red bull

720
00:26:42,080 --> 00:26:44,480
dinner

721
00:26:45,679 --> 00:26:47,679
taco bell wow

722
00:26:47,679 --> 00:26:49,039
water is always good you should always

723
00:26:49,039 --> 00:26:52,200
stay hydrated

724
00:27:17,520 --> 00:27:20,240
so if any of you guys once your vm has

725
00:27:20,240 --> 00:27:22,159
been successfully created

726
00:27:22,159 --> 00:27:23,360
just

727
00:27:23,360 --> 00:27:25,120
tell me quickly in the chat just say

728
00:27:25,120 --> 00:27:26,000
done

729
00:27:26,000 --> 00:27:28,000
if it's if it has been created so that i

730
00:27:28,000 --> 00:27:30,320
can just get a metric wow so people

731
00:27:30,320 --> 00:27:32,480
created their vm before me that's

732
00:27:32,480 --> 00:27:33,679
interesting

733
00:27:33,679 --> 00:27:36,159
and now i'm done

734
00:27:36,159 --> 00:27:38,799
one vm per team well uh all of you share

735
00:27:38,799 --> 00:27:40,559
the same uh

736
00:27:40,559 --> 00:27:42,399
vm token

737
00:27:42,399 --> 00:27:43,200
okay

738
00:27:43,200 --> 00:27:45,200
so if both of you tried to create the vm

739
00:27:45,200 --> 00:27:46,559
at the same time it's the same virtual

740
00:27:46,559 --> 00:27:47,840
machine anyway so it doesn't really

741
00:27:47,840 --> 00:27:49,760
matter

742
00:27:49,760 --> 00:27:51,760
nice so we're running into running into

743
00:27:51,760 --> 00:27:54,159
more people done all right

744
00:27:54,159 --> 00:27:56,320
in that case the teams who are done so

745
00:27:56,320 --> 00:27:58,159
let me show you you will run

746
00:27:58,159 --> 00:27:58,880
the

747
00:27:58,880 --> 00:28:00,720
get

748
00:28:00,720 --> 00:28:03,360
team

749
00:28:03,360 --> 00:28:06,080
openvpn config command

750
00:28:06,080 --> 00:28:08,000
right it gives you this

751
00:28:08,000 --> 00:28:10,399
big just dumps this huge amount of text

752
00:28:10,399 --> 00:28:12,399
what you need to do is you need to copy

753
00:28:12,399 --> 00:28:15,679
all this text okay and put it in a dot

754
00:28:15,679 --> 00:28:18,320
ovpn file all right

755
00:28:18,320 --> 00:28:20,799
so copy it and just paste it into an

756
00:28:20,799 --> 00:28:22,640
ovpn file of your choice so i'm going to

757
00:28:22,640 --> 00:28:24,799
do that

758
00:28:24,799 --> 00:28:27,760
let's pop up the trusty terminal

759
00:28:27,760 --> 00:28:28,720
let's

760
00:28:28,720 --> 00:28:30,480
create a directory just for this

761
00:28:30,480 --> 00:28:35,120
training so hack in the box ctf training

762
00:28:39,279 --> 00:28:40,720
and i'm going to call this hack in the

763
00:28:40,720 --> 00:28:41,600
box

764
00:28:41,600 --> 00:28:46,640
vpn dot or vpn and just paste that in

765
00:28:46,640 --> 00:28:48,240
oh that didn't

766
00:28:48,240 --> 00:28:50,080
copy just

767
00:28:50,080 --> 00:28:51,679
that didn't copy at all the way i wanted

768
00:28:51,679 --> 00:28:52,960
to

769
00:28:52,960 --> 00:28:56,520
let's try that again

770
00:29:10,159 --> 00:29:12,880
is that the same private key i can't

771
00:29:12,880 --> 00:29:15,200
tell at all

772
00:29:15,200 --> 00:29:17,840
yeah okay i'm gonna assume it is all

773
00:29:17,840 --> 00:29:18,720
right

774
00:29:18,720 --> 00:29:21,919
so people who are on linux you guys

775
00:29:21,919 --> 00:29:23,600
should probably be familiar with this

776
00:29:23,600 --> 00:29:27,200
all you got to do is open vpn and then

777
00:29:27,200 --> 00:29:28,159
the

778
00:29:28,159 --> 00:29:29,760
just the name of the profile and you'll

779
00:29:29,760 --> 00:29:32,320
be connected for people on mac if you

780
00:29:32,320 --> 00:29:35,039
haven't connected to openvpn profiles

781
00:29:35,039 --> 00:29:38,640
before you can download this uh tiny guy

782
00:29:38,640 --> 00:29:41,200
here called tunnel blick i'll type the

783
00:29:41,200 --> 00:29:44,240
name in the chat

784
00:29:47,279 --> 00:29:49,679
yep so that's for people on mac and for

785
00:29:49,679 --> 00:29:50,720
people on

786
00:29:50,720 --> 00:29:52,480
windows

787
00:29:52,480 --> 00:29:54,640
i think the client is also open in the

788
00:29:54,640 --> 00:29:56,960
bottom right on the taskbar you can just

789
00:29:56,960 --> 00:29:58,960
right click import profile and just give

790
00:29:58,960 --> 00:30:03,120
it the ovpn and you'll be connected

791
00:30:03,200 --> 00:30:05,760
so in my case i um this is for people on

792
00:30:05,760 --> 00:30:06,960
mac

793
00:30:06,960 --> 00:30:08,799
i will

794
00:30:08,799 --> 00:30:12,399
just add here vpn

795
00:30:12,480 --> 00:30:13,919
can i not add

796
00:30:13,919 --> 00:30:15,679
okay i think i just have to open it i'll

797
00:30:15,679 --> 00:30:17,279
just open it here

798
00:30:17,279 --> 00:30:19,679
that's usually how i do it

799
00:30:19,679 --> 00:30:23,080
only me

800
00:30:25,760 --> 00:30:27,440
there we go and that's it that's

801
00:30:27,440 --> 00:30:30,399
installed so i'll just connect

802
00:30:30,399 --> 00:30:32,960
to hack in the box vpn

803
00:30:32,960 --> 00:30:36,440
and it will be connecting

804
00:30:36,720 --> 00:30:39,840
and i am connected so

805
00:30:39,840 --> 00:30:42,399
for people who are connected to the vpn

806
00:30:42,399 --> 00:30:44,159
or want to verify that you are connected

807
00:30:44,159 --> 00:30:46,159
to the vpn

808
00:30:46,159 --> 00:30:47,919
you normally see udp operational

809
00:30:47,919 --> 00:30:49,520
permitted

810
00:30:49,520 --> 00:30:51,360
is it not connecting or is it that just

811
00:30:51,360 --> 00:30:53,360
a warning that ovp om

812
00:30:53,360 --> 00:30:55,600
vpn is giving you

813
00:30:55,600 --> 00:30:57,279
oh some people are saying you sue though

814
00:30:57,279 --> 00:30:58,880
yeah you should always if i'm guessing

815
00:30:58,880 --> 00:31:00,159
you're running linux in that case you

816
00:31:00,159 --> 00:31:01,679
should always just use sudo because

817
00:31:01,679 --> 00:31:04,320
openvpn needs to create a new interface

818
00:31:04,320 --> 00:31:07,440
so always run it with sudo

819
00:31:07,440 --> 00:31:08,399
thanks

820
00:31:08,399 --> 00:31:10,640
so if you are connected to the vpn you

821
00:31:10,640 --> 00:31:12,960
can verify that you're connected by

822
00:31:12,960 --> 00:31:14,880
pinging if you want to do it you know

823
00:31:14,880 --> 00:31:19,320
old school just paying 10.10.10.10.

824
00:31:20,320 --> 00:31:21,519
and there you go

825
00:31:21,519 --> 00:31:23,200
don't worry about uh the request

826
00:31:23,200 --> 00:31:24,880
timeouts that was just my ping being

827
00:31:24,880 --> 00:31:26,640
stupid

828
00:31:26,640 --> 00:31:28,640
if you want to do it a little bit modern

829
00:31:28,640 --> 00:31:30,240
and you don't want to ping you can just

830
00:31:30,240 --> 00:31:32,440
simply go to your browser and go to

831
00:31:32,440 --> 00:31:34,880
10.10.10.10 which is currently running

832
00:31:34,880 --> 00:31:37,679
look at this a scoreboard

833
00:31:37,679 --> 00:31:41,120
with all of you nice people

834
00:31:42,240 --> 00:31:43,760
does the file name matter no you can

835
00:31:43,760 --> 00:31:47,559
call it anything you want

836
00:31:58,960 --> 00:32:03,679
uh for a i um i believe just try to copy

837
00:32:03,679 --> 00:32:06,080
it again copy the content from the web

838
00:32:06,080 --> 00:32:09,120
interface again of the vpn file and then

839
00:32:09,120 --> 00:32:11,440
try to paste it maybe maybe there's

840
00:32:11,440 --> 00:32:14,559
something syntax error in the content

841
00:32:14,559 --> 00:32:17,279
that you copied

842
00:32:25,360 --> 00:32:27,360
right so apart from people who have

843
00:32:27,360 --> 00:32:29,200
issues is there so i'm not going to ask

844
00:32:29,200 --> 00:32:30,799
people who are connected i want to see

845
00:32:30,799 --> 00:32:33,440
who's not connected so is there anybody

846
00:32:33,440 --> 00:32:35,039
who's having issues connecting to the

847
00:32:35,039 --> 00:32:40,519
vpn so far other than apart from ai

848
00:32:44,960 --> 00:32:46,559
i think i should start asking for people

849
00:32:46,559 --> 00:32:48,080
who have issues or not people who are

850
00:32:48,080 --> 00:32:49,519
done

851
00:32:49,519 --> 00:32:52,559
try to ping yeah try to ping 10.10.10.10

852
00:32:52,559 --> 00:32:54,799
or like i said open it in the browser if

853
00:32:54,799 --> 00:32:56,399
you see it then

854
00:32:56,399 --> 00:32:59,918
everything is all great and good

855
00:33:08,080 --> 00:33:11,279
so okay in that case

856
00:33:11,279 --> 00:33:13,840
still can't i verified okay uh i'll be

857
00:33:13,840 --> 00:33:16,640
with you shortly ai once we take the the

858
00:33:16,640 --> 00:33:18,320
the next break

859
00:33:18,320 --> 00:33:19,200
but

860
00:33:19,200 --> 00:33:21,760
if you can just google the error uh

861
00:33:21,760 --> 00:33:23,919
on google and see what other people are

862
00:33:23,919 --> 00:33:26,320
saying but i'll be with you right when

863
00:33:26,320 --> 00:33:29,600
we go for the next break all right

864
00:33:29,600 --> 00:33:32,320
or if i might as well can help you

865
00:33:32,320 --> 00:33:34,159
that would be great as well

866
00:33:34,159 --> 00:33:34,960
so

867
00:33:34,960 --> 00:33:38,240
for now we're just going to move on with

868
00:33:38,240 --> 00:33:40,799
explaining the rest of the commands okay

869
00:33:40,799 --> 00:33:43,440
so now you've created your vm you've

870
00:33:43,440 --> 00:33:45,600
downloaded the vpn and you have

871
00:33:45,600 --> 00:33:47,519
configured it now you've connected to

872
00:33:47,519 --> 00:33:49,760
the vpn supposedly

873
00:33:49,760 --> 00:33:52,480
so what can you do next after you've

874
00:33:52,480 --> 00:33:55,519
created your vm you can run

875
00:33:55,519 --> 00:33:59,600
uh get vm info command

876
00:34:00,159 --> 00:34:02,480
again cannot connect by openvpn client

877
00:34:02,480 --> 00:34:04,399
you can connect using the openvpn client

878
00:34:04,399 --> 00:34:06,559
that's what you should use don't use

879
00:34:06,559 --> 00:34:08,879
open vpn connect that's what i was

880
00:34:08,879 --> 00:34:11,359
saying so if you have open vpn connect

881
00:34:11,359 --> 00:34:14,560
which is their weird version of openvpn

882
00:34:14,560 --> 00:34:16,560
client you can't use that you have to

883
00:34:16,560 --> 00:34:20,359
use the community client

884
00:34:22,879 --> 00:34:25,918
yep no worries

885
00:34:26,000 --> 00:34:28,320
so as i was saying so you can run the

886
00:34:28,320 --> 00:34:31,679
the uh uh get vm info command

887
00:34:31,679 --> 00:34:33,918
all right and you guys in the output

888
00:34:33,918 --> 00:34:35,918
you'll see that it'll tell you that your

889
00:34:35,918 --> 00:34:37,359
vm is running

890
00:34:37,359 --> 00:34:39,040
and it will give you the external

891
00:34:39,040 --> 00:34:41,520
address which is usually team and then

892
00:34:41,520 --> 00:34:44,480
your team number

893
00:34:44,480 --> 00:34:46,520
dot

894
00:34:46,520 --> 00:34:48,159
training.ctf.hackinthebox.org okay so

895
00:34:48,159 --> 00:34:49,520
this team

896
00:34:49,520 --> 00:34:51,760
x remember that x number because that

897
00:34:51,760 --> 00:34:53,599
that's going to be important then it's

898
00:34:53,599 --> 00:34:55,359
also going to tell your internal address

899
00:34:55,359 --> 00:34:56,960
this is your address on the game network

900
00:34:56,960 --> 00:34:58,800
that everybody can see

901
00:34:58,800 --> 00:35:03,480
you have an internal address of 10.60

902
00:35:03,760 --> 00:35:06,800
again that x is your team number

903
00:35:06,800 --> 00:35:08,800
it's going to also expose to you your

904
00:35:08,800 --> 00:35:11,119
ssh root password which you should go in

905
00:35:11,119 --> 00:35:13,680
and change it if you want

906
00:35:13,680 --> 00:35:14,720
and

907
00:35:14,720 --> 00:35:16,800
so let's do exactly that but before we

908
00:35:16,800 --> 00:35:18,400
do that before we do that actually let's

909
00:35:18,400 --> 00:35:20,160
let's do that so i want everybody

910
00:35:20,160 --> 00:35:21,760
everybody who's connected to the dbn and

911
00:35:21,760 --> 00:35:23,680
he doesn't have any issues so far

912
00:35:23,680 --> 00:35:24,800
um

913
00:35:24,800 --> 00:35:28,320
follow along with me and let's ssh into

914
00:35:28,320 --> 00:35:30,400
our

915
00:35:30,400 --> 00:35:31,920
vulnerable images

916
00:35:31,920 --> 00:35:33,839
okay

917
00:35:33,839 --> 00:35:35,040
so

918
00:35:35,040 --> 00:35:36,800
i have to do this very quickly because i

919
00:35:36,800 --> 00:35:39,599
know that one of you wonderful people

920
00:35:39,599 --> 00:35:41,920
who grab my root password

921
00:35:41,920 --> 00:35:44,640
so get vm info

922
00:35:44,640 --> 00:35:46,400
here is my root password i'm just going

923
00:35:46,400 --> 00:35:50,200
to speed it on this

924
00:35:59,440 --> 00:36:02,240
let me just change my ssh password

925
00:36:02,240 --> 00:36:03,839
always you never know what can happen at

926
00:36:03,839 --> 00:36:05,680
these fun fun tricks

927
00:36:05,680 --> 00:36:08,960
guys we have trust issues

928
00:36:10,079 --> 00:36:12,000
you never know what can happen so now

929
00:36:12,000 --> 00:36:14,640
that you've all connected to your

930
00:36:14,640 --> 00:36:16,320
vulnerable image congratulations you are

931
00:36:16,320 --> 00:36:18,480
now inside your vulnerable image in my

932
00:36:18,480 --> 00:36:20,160
case you can say that you can see that i

933
00:36:20,160 --> 00:36:22,720
am now team 100 for you it will say a

934
00:36:22,720 --> 00:36:25,200
different number again verify that your

935
00:36:25,200 --> 00:36:28,079
vulnerable images are connected to the

936
00:36:28,079 --> 00:36:30,800
game network so again ping 10.10.10 and

937
00:36:30,800 --> 00:36:34,720
you should see it perfectly works

938
00:36:35,200 --> 00:36:38,880
and verify that you can verify that

939
00:36:38,880 --> 00:36:41,839
let's say oh if config is not installed

940
00:36:41,839 --> 00:36:44,560
that's not great

941
00:36:47,200 --> 00:36:49,200
it's ip installed

942
00:36:49,200 --> 00:36:51,599
yes okay so

943
00:36:51,599 --> 00:36:53,520
you can type in ip adder if you want and

944
00:36:53,520 --> 00:36:57,119
look for ethernet one i am assuming yeah

945
00:36:57,119 --> 00:36:59,200
and you can see that your ip the ip

946
00:36:59,200 --> 00:37:00,800
address of your vulnerable image right

947
00:37:00,800 --> 00:37:03,680
here 10.60.100.3

948
00:37:03,680 --> 00:37:05,680
is the same as

949
00:37:05,680 --> 00:37:07,359
the internal address right here i mean

950
00:37:07,359 --> 00:37:09,200
it's never going to be different but it

951
00:37:09,200 --> 00:37:11,520
doesn't hurt to check

952
00:37:11,520 --> 00:37:13,520
and that's that so congratulations you

953
00:37:13,520 --> 00:37:15,839
have connected successfully to your

954
00:37:15,839 --> 00:37:17,839
vulnerable image vm you made sure that

955
00:37:17,839 --> 00:37:20,920
it works

956
00:37:22,480 --> 00:37:24,480
yeah if config is the price it is

957
00:37:24,480 --> 00:37:27,359
deprecated but you know old school me

958
00:37:27,359 --> 00:37:30,560
still used to typing if config

959
00:37:30,560 --> 00:37:33,359
gotta get used to ipad or

960
00:37:33,359 --> 00:37:35,119
their ip so

961
00:37:35,119 --> 00:37:37,920
let's uh let's let's move on so you

962
00:37:37,920 --> 00:37:40,880
anybody has any issues for some reason

963
00:37:40,880 --> 00:37:43,680
as such into their

964
00:37:43,680 --> 00:37:45,839
own vulnerable images can anybody for

965
00:37:45,839 --> 00:37:48,320
any reason not ssh into their phone

966
00:37:48,320 --> 00:37:51,320
image

967
00:37:53,680 --> 00:37:58,000
apart from vpn issues of course

968
00:38:01,839 --> 00:38:03,599
no

969
00:38:03,599 --> 00:38:05,359
that's that's that's great wow one step

970
00:38:05,359 --> 00:38:08,240
so far with no issues so now that you've

971
00:38:08,240 --> 00:38:10,000
create you've connected successfully i

972
00:38:10,000 --> 00:38:11,040
would say the first thing that you

973
00:38:11,040 --> 00:38:12,720
should do is that you should take a

974
00:38:12,720 --> 00:38:15,440
snapshot of your vulnerable image so

975
00:38:15,440 --> 00:38:17,119
right now this is your vulnerable image

976
00:38:17,119 --> 00:38:18,960
you verify that it works you're you're

977
00:38:18,960 --> 00:38:21,760
in everything's running fine so this is

978
00:38:21,760 --> 00:38:23,760
this should be a default

979
00:38:23,760 --> 00:38:26,560
state that you that you need to take

980
00:38:26,560 --> 00:38:28,480
like you need this uh

981
00:38:28,480 --> 00:38:30,400
why am i messing up my words it's better

982
00:38:30,400 --> 00:38:32,000
to take a snapshot right now while the

983
00:38:32,000 --> 00:38:35,280
virtual machine is in its initial state

984
00:38:35,280 --> 00:38:37,200
before you start installing anything on

985
00:38:37,200 --> 00:38:38,800
it or we start running attacks or

986
00:38:38,800 --> 00:38:41,440
anything this is great in case anything

987
00:38:41,440 --> 00:38:43,520
happens to your virtual

988
00:38:43,520 --> 00:38:45,680
machine you know your phone image and it

989
00:38:45,680 --> 00:38:48,400
breaks for whatever reason you have a

990
00:38:48,400 --> 00:38:50,640
snapshot that you can roll back to

991
00:38:50,640 --> 00:38:51,920
so

992
00:38:51,920 --> 00:38:53,599
how can we do this from our cloud

993
00:38:53,599 --> 00:38:55,520
console you can run the command take

994
00:38:55,520 --> 00:38:58,000
underscore snapshot and give it a name

995
00:38:58,000 --> 00:38:59,440
so for me i

996
00:38:59,440 --> 00:39:01,200
i'm going to call it initial state so

997
00:39:01,200 --> 00:39:03,440
take underscore let me just

998
00:39:03,440 --> 00:39:06,480
take underscore snapshot

999
00:39:06,480 --> 00:39:10,079
and i'm going to call it initial

1000
00:39:10,240 --> 00:39:12,640
state

1001
00:39:12,720 --> 00:39:16,640
i spelt initial wrong of course i did

1002
00:39:18,240 --> 00:39:20,000
and that's that so it's going to take

1003
00:39:20,000 --> 00:39:21,520
several minutes so you can check the

1004
00:39:21,520 --> 00:39:23,599
snapshots that you have available by

1005
00:39:23,599 --> 00:39:26,960
doing list snapshot

1006
00:39:27,119 --> 00:39:30,000
the snapshots yeah listen snapshots

1007
00:39:30,000 --> 00:39:31,599
and it's going to tell me right now that

1008
00:39:31,599 --> 00:39:33,839
i have no snapshots which makes sense

1009
00:39:33,839 --> 00:39:35,440
because it said that it's going to take

1010
00:39:35,440 --> 00:39:37,440
a couple of minutes so we'll come back

1011
00:39:37,440 --> 00:39:39,599
and we'll check it later on but

1012
00:39:39,599 --> 00:39:41,440
everybody just take a snipe snapshot of

1013
00:39:41,440 --> 00:39:43,280
your virtual machine call it whatever

1014
00:39:43,280 --> 00:39:45,680
you want just we have a safe

1015
00:39:45,680 --> 00:39:47,760
fallback zone so during the training if

1016
00:39:47,760 --> 00:39:49,920
anything goes bad i can't access you the

1017
00:39:49,920 --> 00:39:52,160
machine all of my sudden all of all of a

1018
00:39:52,160 --> 00:39:54,079
sudden or your shell is just freaking

1019
00:39:54,079 --> 00:39:56,640
out we'll just tell you to roll back the

1020
00:39:56,640 --> 00:39:59,200
snapshot

1021
00:39:59,520 --> 00:40:01,839
oh press enter several times okay there

1022
00:40:01,839 --> 00:40:03,040
we go

1023
00:40:03,040 --> 00:40:04,880
hope you guys can see it now thanks

1024
00:40:04,880 --> 00:40:07,200
andrew

1025
00:40:08,000 --> 00:40:10,079
so take snapshot and then the name of

1026
00:40:10,079 --> 00:40:11,200
the snapshot

1027
00:40:11,200 --> 00:40:13,359
uh list snapshot it's not uh it's a list

1028
00:40:13,359 --> 00:40:15,359
snapshots sorry and you can see that it

1029
00:40:15,359 --> 00:40:16,800
says no snapshots are created yet

1030
00:40:16,800 --> 00:40:19,040
because it says to wait

1031
00:40:19,040 --> 00:40:20,640
uh

1032
00:40:20,640 --> 00:40:23,440
you have to wait several minutes

1033
00:40:23,440 --> 00:40:27,040
uh yes i think um we should keep going

1034
00:40:27,040 --> 00:40:29,200
we will try to solve the vpn errors with

1035
00:40:29,200 --> 00:40:30,000
the

1036
00:40:30,000 --> 00:40:31,119
toys

1037
00:40:31,119 --> 00:40:32,880
all right sounds good then

1038
00:40:32,880 --> 00:40:34,400
for everybody who's not having vpn

1039
00:40:34,400 --> 00:40:36,319
issues then you can feel free to uh

1040
00:40:36,319 --> 00:40:39,839
follow along with me

1041
00:40:39,839 --> 00:40:41,599
so

1042
00:40:41,599 --> 00:40:44,880
in that case uh

1043
00:40:45,280 --> 00:40:46,720
i think we're gonna do one last thing i

1044
00:40:46,720 --> 00:40:49,359
think we're creeping up on a break

1045
00:40:49,359 --> 00:40:51,119
so there are commands that let's say

1046
00:40:51,119 --> 00:40:52,720
something does happen and you want for

1047
00:40:52,720 --> 00:40:54,720
any reason to restore your vm again

1048
00:40:54,720 --> 00:40:57,680
looking back at the help section so

1049
00:40:57,680 --> 00:40:58,720
there are a couple commands that we

1050
00:40:58,720 --> 00:41:01,119
didn't explain yet there's restore vm

1051
00:41:01,119 --> 00:41:03,280
from snapshot which again allows you to

1052
00:41:03,280 --> 00:41:05,440
very obviously restore a vm from

1053
00:41:05,440 --> 00:41:06,480
snapshot

1054
00:41:06,480 --> 00:41:08,319
and you specify the name of the snapshot

1055
00:41:08,319 --> 00:41:10,720
you can also delete some snapshots if

1056
00:41:10,720 --> 00:41:12,240
you know they're outdated and they're

1057
00:41:12,240 --> 00:41:13,599
old you don't need them anymore you can

1058
00:41:13,599 --> 00:41:15,599
feel free to remove them you can reboot

1059
00:41:15,599 --> 00:41:17,280
your virtual machine now we're going to

1060
00:41:17,280 --> 00:41:19,040
take a look at these two so connect vm

1061
00:41:19,040 --> 00:41:21,200
to game network disconnect vm from game

1062
00:41:21,200 --> 00:41:23,359
game network so

1063
00:41:23,359 --> 00:41:26,000
in the event that your virtual machine

1064
00:41:26,000 --> 00:41:28,240
for any reason you think that it's being

1065
00:41:28,240 --> 00:41:31,680
unstable because the enemy teams or

1066
00:41:31,680 --> 00:41:33,200
something is happening

1067
00:41:33,200 --> 00:41:34,480
they're messing with your virtual

1068
00:41:34,480 --> 00:41:36,880
machine you feel like you're you're

1069
00:41:36,880 --> 00:41:39,440
you're under heavy traffic some exploit

1070
00:41:39,440 --> 00:41:41,119
that is being repeatedly thrown at you

1071
00:41:41,119 --> 00:41:43,520
is making your machine unstable you can

1072
00:41:43,520 --> 00:41:45,760
disconnect your virtual machine entirely

1073
00:41:45,760 --> 00:41:47,680
from the game network so that you can

1074
00:41:47,680 --> 00:41:49,520
work on it fix it patch it do everything

1075
00:41:49,520 --> 00:41:51,599
that you want and then bring it back

1076
00:41:51,599 --> 00:41:53,520
onto the game network just be careful

1077
00:41:53,520 --> 00:41:55,119
that when you do that

1078
00:41:55,119 --> 00:41:57,200
all your services will be considered as

1079
00:41:57,200 --> 00:41:58,319
as down

1080
00:41:58,319 --> 00:41:59,440
okay because

1081
00:41:59,440 --> 00:42:01,599
you're no longer connected

1082
00:42:01,599 --> 00:42:01,950
to

1083
00:42:01,950 --> 00:42:03,119
[Music]

1084
00:42:03,119 --> 00:42:04,800
the game network so the check system can

1085
00:42:04,800 --> 00:42:06,960
no longer interact with your vm all

1086
00:42:06,960 --> 00:42:07,920
right

1087
00:42:07,920 --> 00:42:09,839
and when you're done

1088
00:42:09,839 --> 00:42:11,440
you know you're done patching everything

1089
00:42:11,440 --> 00:42:13,359
up you can now connect your virtual

1090
00:42:13,359 --> 00:42:15,440
machine to the game network

1091
00:42:15,440 --> 00:42:17,280
all right sounds good

1092
00:42:17,280 --> 00:42:18,720
sounds good

1093
00:42:18,720 --> 00:42:20,720
here we go moving on finally i think we

1094
00:42:20,720 --> 00:42:23,359
might be able to do something now

1095
00:42:23,359 --> 00:42:25,599
all right so hack in the box attack

1096
00:42:25,599 --> 00:42:27,920
network structure so how does the

1097
00:42:27,920 --> 00:42:31,359
network look like this is a

1098
00:42:31,359 --> 00:42:32,800
nice diagram

1099
00:42:32,800 --> 00:42:35,280
of how the

1100
00:42:35,280 --> 00:42:37,440
the network looks like so every team

1101
00:42:37,440 --> 00:42:39,280
sits in their own network you can see

1102
00:42:39,280 --> 00:42:41,760
here so this is team one so their ip

1103
00:42:41,760 --> 00:42:45,800
address is 10.60

1104
00:42:46,560 --> 00:42:48,400
24. that's their subnet

1105
00:42:48,400 --> 00:42:50,319
please note that everybody's vulnerable

1106
00:42:50,319 --> 00:42:52,800
image is dot three okay

1107
00:42:52,800 --> 00:42:53,599
so

1108
00:42:53,599 --> 00:42:56,160
if i want to attack team five

1109
00:42:56,160 --> 00:42:58,319
their ip address for their vulnerable

1110
00:42:58,319 --> 00:43:02,119
image would be 10.60.5.3

1111
00:43:03,920 --> 00:43:05,040
all right

1112
00:43:05,040 --> 00:43:07,680
and all the teams are connected together

1113
00:43:07,680 --> 00:43:09,520
with the game router

1114
00:43:09,520 --> 00:43:11,040
and the check system

1115
00:43:11,040 --> 00:43:11,880
is

1116
00:43:11,880 --> 00:43:14,319
10.10.10.10. all right

1117
00:43:14,319 --> 00:43:17,680
now a very important thing

1118
00:43:17,680 --> 00:43:19,280
all traffic

1119
00:43:19,280 --> 00:43:21,200
leaving

1120
00:43:21,200 --> 00:43:24,640
like going to any team is not it by the

1121
00:43:24,640 --> 00:43:27,520
game router what does that mean is that

1122
00:43:27,520 --> 00:43:31,200
if team 254 right here is attacking team

1123
00:43:31,200 --> 00:43:32,000
one

1124
00:43:32,000 --> 00:43:34,319
and the check system is running some

1125
00:43:34,319 --> 00:43:37,520
checks on team one you cannot tell the

1126
00:43:37,520 --> 00:43:39,599
difference it's going to be the same ip

1127
00:43:39,599 --> 00:43:41,359
you're going to see the ip of the game

1128
00:43:41,359 --> 00:43:44,880
router 10.80.1.1

1129
00:43:44,880 --> 00:43:46,800
right you won't be able to tell oh this

1130
00:43:46,800 --> 00:43:48,079
traffic is coming from the czech system

1131
00:43:48,079 --> 00:43:50,079
oh this traffic is coming from a

1132
00:43:50,079 --> 00:43:52,560
separate team and you are forbidden it

1133
00:43:52,560 --> 00:43:55,280
is against the rules to try

1134
00:43:55,280 --> 00:43:58,160
to find let's say differences in packet

1135
00:43:58,160 --> 00:44:00,800
headers or anything that allows you to

1136
00:44:00,800 --> 00:44:02,160
distinguish

1137
00:44:02,160 --> 00:44:04,480
on a purely technical level

1138
00:44:04,480 --> 00:44:06,560
traffic between the check system and

1139
00:44:06,560 --> 00:44:08,240
different teams you're not allowed to of

1140
00:44:08,240 --> 00:44:10,079
course you are allowed to

1141
00:44:10,079 --> 00:44:12,800
detect suspicious traffic nobody said

1142
00:44:12,800 --> 00:44:15,520
anything about that so you can drop

1143
00:44:15,520 --> 00:44:18,079
packets based on their payload but you

1144
00:44:18,079 --> 00:44:20,079
cannot drop packets based on their

1145
00:44:20,079 --> 00:44:23,200
properties all right if you attempt to

1146
00:44:23,200 --> 00:44:24,960
block traffic

1147
00:44:24,960 --> 00:44:27,200
in any way shape or form only from the

1148
00:44:27,200 --> 00:44:29,359
check system you will be found out i

1149
00:44:29,359 --> 00:44:31,280
mean you're not gonna you're gonna allow

1150
00:44:31,280 --> 00:44:32,720
traffic from the check system to block

1151
00:44:32,720 --> 00:44:34,160
other teams you will be found out and

1152
00:44:34,160 --> 00:44:36,640
you will most probably be disqualified

1153
00:44:36,640 --> 00:44:38,400
right and if you try to block this ip

1154
00:44:38,400 --> 00:44:39,760
address right here

1155
00:44:39,760 --> 00:44:40,960
and you just

1156
00:44:40,960 --> 00:44:42,560
let it go

1157
00:44:42,560 --> 00:44:44,200
you're like oh i just want to block

1158
00:44:44,200 --> 00:44:46,560
10.80.1.1 the game router neither the

1159
00:44:46,560 --> 00:44:48,640
check system neither will other teams be

1160
00:44:48,640 --> 00:44:50,079
able to communicate with you and you

1161
00:44:50,079 --> 00:44:52,880
will lose sla very rapidly

1162
00:44:52,880 --> 00:44:55,359
all right all right glad we got that

1163
00:44:55,359 --> 00:44:57,359
point across

1164
00:44:57,359 --> 00:44:58,319
so

1165
00:44:58,319 --> 00:44:59,920
finally

1166
00:44:59,920 --> 00:45:01,920
let's discover some services and then i

1167
00:45:01,920 --> 00:45:03,200
think we're gonna

1168
00:45:03,200 --> 00:45:04,720
leave you i think after this slide we're

1169
00:45:04,720 --> 00:45:06,480
gonna go on a quick 15 to 20 minute

1170
00:45:06,480 --> 00:45:09,440
break so you guys can just breathe

1171
00:45:09,440 --> 00:45:11,839
and just go refill your coffee cups can

1172
00:45:11,839 --> 00:45:14,000
you explain what you mean by properties

1173
00:45:14,000 --> 00:45:16,319
okay so what i mean by properties is

1174
00:45:16,319 --> 00:45:18,640
let's say for example

1175
00:45:18,640 --> 00:45:21,118
um

1176
00:45:21,760 --> 00:45:23,920
like

1177
00:45:23,920 --> 00:45:26,480
some packet header like a mac address or

1178
00:45:26,480 --> 00:45:27,680
something

1179
00:45:27,680 --> 00:45:29,200
okay or

1180
00:45:29,200 --> 00:45:32,720
something like a ttl or some

1181
00:45:32,720 --> 00:45:34,560
technical property

1182
00:45:34,560 --> 00:45:36,960
in the packet that you're trying to use

1183
00:45:36,960 --> 00:45:39,119
to differentiate between exactly

1184
00:45:39,119 --> 00:45:40,720
something permanent you're trying to use

1185
00:45:40,720 --> 00:45:42,880
this thing to differentiate between

1186
00:45:42,880 --> 00:45:44,640
check system and team traffic you're not

1187
00:45:44,640 --> 00:45:47,359
allowed to do that you can

1188
00:45:47,359 --> 00:45:49,280
perfectly judge

1189
00:45:49,280 --> 00:45:50,079
by

1190
00:45:50,079 --> 00:45:50,960
a

1191
00:45:50,960 --> 00:45:53,040
the the the uh what do you call it the

1192
00:45:53,040 --> 00:45:54,319
body

1193
00:45:54,319 --> 00:45:57,759
all right it's perfectly fine

1194
00:45:57,920 --> 00:45:59,280
so what i mean is like the actual

1195
00:45:59,280 --> 00:46:01,119
content of the request

1196
00:46:01,119 --> 00:46:03,520
feel free to go crazy with that just not

1197
00:46:03,520 --> 00:46:06,000
any technical properties

1198
00:46:06,000 --> 00:46:08,079
no worries so discovering running

1199
00:46:08,079 --> 00:46:10,079
services so

1200
00:46:10,079 --> 00:46:12,000
everything right now in the training and

1201
00:46:12,000 --> 00:46:13,920
most probably also in the competition is

1202
00:46:13,920 --> 00:46:15,760
going to be services that are running in

1203
00:46:15,760 --> 00:46:18,240
the form of docker containers if you

1204
00:46:18,240 --> 00:46:20,160
don't know what docker containers are

1205
00:46:20,160 --> 00:46:22,960
think of them as sort of micro virtual

1206
00:46:22,960 --> 00:46:25,040
machines okay everything is running in

1207
00:46:25,040 --> 00:46:27,680
its own kind of mini

1208
00:46:27,680 --> 00:46:28,640
all right

1209
00:46:28,640 --> 00:46:30,480
and

1210
00:46:30,480 --> 00:46:32,880
managing docker services requires its

1211
00:46:32,880 --> 00:46:34,160
own

1212
00:46:34,160 --> 00:46:36,800
command line client that we're going to

1213
00:46:36,800 --> 00:46:38,000
that i'm going to explain to you very

1214
00:46:38,000 --> 00:46:39,520
quickly how to use

1215
00:46:39,520 --> 00:46:41,359
okay

1216
00:46:41,359 --> 00:46:43,359
so once you're connected to your team's

1217
00:46:43,359 --> 00:46:46,240
virtual machine all right you're in

1218
00:46:46,240 --> 00:46:48,160
and you're connected you're going to

1219
00:46:48,160 --> 00:46:50,480
want to run so let's make this guy a lot

1220
00:46:50,480 --> 00:46:51,839
bigger

1221
00:46:51,839 --> 00:46:54,160
i'm glad so much ai that you fixed your

1222
00:46:54,160 --> 00:46:56,400
connection problems that's great all

1223
00:46:56,400 --> 00:46:58,079
right so now that you're in what you

1224
00:46:58,079 --> 00:47:00,000
want to do is you want to type docker

1225
00:47:00,000 --> 00:47:01,760
and then ps

1226
00:47:01,760 --> 00:47:04,079
okay and that's well okay my terminal is

1227
00:47:04,079 --> 00:47:05,680
a little bit too big i should have

1228
00:47:05,680 --> 00:47:08,079
thought twice about that

1229
00:47:08,079 --> 00:47:10,960
docker ps still too big

1230
00:47:10,960 --> 00:47:13,599
still too big okay i made it bigger and

1231
00:47:13,599 --> 00:47:17,680
then i suffered from making it bigger

1232
00:47:18,160 --> 00:47:20,559
all right that's great so let's clear

1233
00:47:20,559 --> 00:47:22,880
screen docker ps

1234
00:47:22,880 --> 00:47:24,960
you see all the current running

1235
00:47:24,960 --> 00:47:26,319
containers

1236
00:47:26,319 --> 00:47:28,240
and right now these are all the services

1237
00:47:28,240 --> 00:47:30,559
that we have available in the training

1238
00:47:30,559 --> 00:47:31,359
so

1239
00:47:31,359 --> 00:47:33,440
let's take a look all right

1240
00:47:33,440 --> 00:47:36,240
here we see that we have a service

1241
00:47:36,240 --> 00:47:38,640
called health monitor we have a service

1242
00:47:38,640 --> 00:47:40,720
called mysql we have a service called

1243
00:47:40,720 --> 00:47:44,079
nasarasa free life and coffee pot

1244
00:47:44,079 --> 00:47:46,960
so in total we have

1245
00:47:46,960 --> 00:47:47,760
four

1246
00:47:47,760 --> 00:47:50,240
or five different services

1247
00:47:50,240 --> 00:47:53,040
right and so this output of docker ps

1248
00:47:53,040 --> 00:47:55,280
might might look a little bit scary like

1249
00:47:55,280 --> 00:47:56,960
i'm looking at this i have no idea what

1250
00:47:56,960 --> 00:47:58,240
this means i have no clue what's

1251
00:47:58,240 --> 00:48:00,480
happening help

1252
00:48:00,480 --> 00:48:02,800
no problem that's what i'm here for

1253
00:48:02,800 --> 00:48:03,920
so

1254
00:48:03,920 --> 00:48:05,839
i'm going to now explain to you how to

1255
00:48:05,839 --> 00:48:08,960
understand the output of docker ps so

1256
00:48:08,960 --> 00:48:10,960
let's go here and let's go to the next

1257
00:48:10,960 --> 00:48:12,000
slide

1258
00:48:12,000 --> 00:48:14,000
so how can you understand the output of

1259
00:48:14,000 --> 00:48:17,040
docker ps so this first column right

1260
00:48:17,040 --> 00:48:17,839
here

1261
00:48:17,839 --> 00:48:22,000
is your container id it's a short

1262
00:48:22,000 --> 00:48:24,720
series of hexadecimal characters and

1263
00:48:24,720 --> 00:48:27,119
this is what you need to use you need to

1264
00:48:27,119 --> 00:48:30,079
use this container id to restart stop

1265
00:48:30,079 --> 00:48:32,480
delete containers all right

1266
00:48:32,480 --> 00:48:34,559
then the next thing you have is the

1267
00:48:34,559 --> 00:48:37,680
service name so this is the image name

1268
00:48:37,680 --> 00:48:40,000
right this gives you a hint what

1269
00:48:40,000 --> 00:48:42,160
service this container belongs to

1270
00:48:42,160 --> 00:48:45,680
then you have the service uptime status

1271
00:48:45,680 --> 00:48:47,440
now this is important a service uptime

1272
00:48:47,440 --> 00:48:49,839
can tell you if a surface has crashed or

1273
00:48:49,839 --> 00:48:52,400
if it's unhealthy it's like suffering a

1274
00:48:52,400 --> 00:48:53,520
little bit

1275
00:48:53,520 --> 00:48:57,839
and another very important point is

1276
00:48:57,839 --> 00:49:00,079
surface surface ports

1277
00:49:00,079 --> 00:49:00,880
okay

1278
00:49:00,880 --> 00:49:02,880
here this is what lets you know what

1279
00:49:02,880 --> 00:49:05,440
ports your services are running on so i

1280
00:49:05,440 --> 00:49:07,119
have a service running on 8080 i have a

1281
00:49:07,119 --> 00:49:09,040
service running on 3306 a service

1282
00:49:09,040 --> 00:49:11,680
running on 80 and a surface run a

1283
00:49:11,680 --> 00:49:14,000
service running on 8 000 and another

1284
00:49:14,000 --> 00:49:17,599
service running on 3200 3255.

1285
00:49:17,599 --> 00:49:20,240
okay again we can go back into our

1286
00:49:20,240 --> 00:49:22,640
machine run docker ps

1287
00:49:22,640 --> 00:49:24,400
and make sure that

1288
00:49:24,400 --> 00:49:25,760
you know again we have a service running

1289
00:49:25,760 --> 00:49:29,119
on 8080 3306 80 800 and

1290
00:49:29,119 --> 00:49:31,200
two five five and you can verify these

1291
00:49:31,200 --> 00:49:33,440
like let let me visit my own so type in

1292
00:49:33,440 --> 00:49:36,960
the ip of your phone and of your phone

1293
00:49:36,960 --> 00:49:40,160
image so for me it's 10.60.100.3

1294
00:49:40,160 --> 00:49:42,400
and let's just go this is port 80. this

1295
00:49:42,400 --> 00:49:45,359
is nasa rasa running on port 80. let's

1296
00:49:45,359 --> 00:49:47,920
go to port 8000

1297
00:49:47,920 --> 00:49:50,160
this is the service free life running on

1298
00:49:50,160 --> 00:49:54,720
port 8000 let's go to 3255.

1299
00:49:54,720 --> 00:49:56,319
this is the service coffee pot you can

1300
00:49:56,319 --> 00:49:57,680
see the services are running and

1301
00:49:57,680 --> 00:50:00,480
everything is well so i'll leave you

1302
00:50:00,480 --> 00:50:02,319
guys to verify that your services is

1303
00:50:02,319 --> 00:50:04,480
running and we'll take a quick 20 minute

1304
00:50:04,480 --> 00:50:06,240
break especially for the people who have

1305
00:50:06,240 --> 00:50:10,720
connection issues with uh the vpn so

1306
00:50:10,720 --> 00:50:12,400
because you guys need to follow on the

1307
00:50:12,400 --> 00:50:13,760
next step so we're going to take a quick

1308
00:50:13,760 --> 00:50:16,240
20 minute break and we'll see you guys

1309
00:50:16,240 --> 00:50:18,000
at

1310
00:50:18,000 --> 00:50:20,000
well in my time it's 5 20 trying to

1311
00:50:20,000 --> 00:50:21,440
translate it

1312
00:50:21,440 --> 00:50:23,040
we'll see you guys in 20 minutes all

1313
00:50:23,040 --> 00:50:24,559
right

1314
00:50:24,559 --> 00:50:26,880
i if you may uh you may just play a

1315
00:50:26,880 --> 00:50:29,040
timer on the screen if you want

1316
00:50:29,040 --> 00:50:31,200
sure

1317
00:50:31,200 --> 00:50:34,880
just google any any nice timer

1318
00:50:34,880 --> 00:50:39,720
or we can develop one on the go

1319
00:50:42,079 --> 00:50:43,920
now i just need i just need google to

1320
00:50:43,920 --> 00:50:44,880
just

1321
00:50:44,880 --> 00:50:46,559
why why why is it so hard to just find

1322
00:50:46,559 --> 00:50:49,200
the countdown

1323
00:50:49,359 --> 00:50:50,720
you know what we'll we'll do we'll just

1324
00:50:50,720 --> 00:50:52,400
do a timer in that case i know google

1325
00:50:52,400 --> 00:50:54,400
has a built-in timer no they don't have

1326
00:50:54,400 --> 00:50:57,920
a built-in timer they do

1327
00:50:59,200 --> 00:51:01,760
there we go and go

1328
00:51:01,760 --> 00:51:02,880
right

1329
00:51:02,880 --> 00:51:06,599
see you guys in 20 minutes

1330
01:10:02,239 --> 01:10:03,840
all right guys we got one minute left

1331
01:10:03,840 --> 01:10:06,159
until we're back from break

1332
01:10:06,159 --> 01:10:07,600
i hope you guys had a chance to go

1333
01:10:07,600 --> 01:10:10,239
refill your coffee fill your

1334
01:10:10,239 --> 01:10:12,560
dinner refill whatever it is you're

1335
01:10:12,560 --> 01:10:16,760
drinking most importantly water

1336
01:10:17,040 --> 01:10:18,960
and we'll move on to some other

1337
01:10:18,960 --> 01:10:22,840
interesting stuff for today

1338
01:11:03,920 --> 01:11:09,120
all right so we are back from our break

1339
01:11:11,040 --> 01:11:13,600
is the ctf intended for all

1340
01:11:13,600 --> 01:11:16,800
or only students no the ctf is

1341
01:11:16,800 --> 01:11:18,320
intended for

1342
01:11:18,320 --> 01:11:20,960
absolutely you know well

1343
01:11:20,960 --> 01:11:23,360
it's an edu ctf actually so it's all

1344
01:11:23,360 --> 01:11:25,199
educational so you got to be a student

1345
01:11:25,199 --> 01:11:26,880
to participate

1346
01:11:26,880 --> 01:11:29,280
unfortunately

1347
01:11:29,280 --> 01:11:30,880
although as far as i'm aware there is a

1348
01:11:30,880 --> 01:11:33,120
pro ctf but for now it's just an

1349
01:11:33,120 --> 01:11:34,800
education

1350
01:11:34,800 --> 01:11:36,719
all right

1351
01:11:36,719 --> 01:11:37,840
so

1352
01:11:37,840 --> 01:11:41,920
uh let's get started then um

1353
01:11:43,040 --> 01:11:44,800
is everybody back here so if you're back

1354
01:11:44,800 --> 01:11:46,800
here just tell me back so i can know

1355
01:11:46,800 --> 01:11:48,719
that you guys are back and listening and

1356
01:11:48,719 --> 01:11:51,719
alive

1357
01:11:54,400 --> 01:11:56,640
nice nice welcome back everybody okay

1358
01:11:56,640 --> 01:11:58,400
it's glad to see that everybody is here

1359
01:11:58,400 --> 01:12:00,320
for almost everybody

1360
01:12:00,320 --> 01:12:03,040
so we will uh move on then we're gonna

1361
01:12:03,040 --> 01:12:04,080
keep going

1362
01:12:04,080 --> 01:12:06,320
so last thing that we did just since

1363
01:12:06,320 --> 01:12:08,320
everybody has internet connectivity and

1364
01:12:08,320 --> 01:12:10,480
everybody is you know back on the vpn

1365
01:12:10,480 --> 01:12:13,199
hopefully is we discuss that we have

1366
01:12:13,199 --> 01:12:15,840
four or five different services running

1367
01:12:15,840 --> 01:12:18,719
in our training session all right and so

1368
01:12:18,719 --> 01:12:20,320
the next thing we got to talk about is

1369
01:12:20,320 --> 01:12:22,800
how can i access the code i want to know

1370
01:12:22,800 --> 01:12:25,120
what's running the service how can i

1371
01:12:25,120 --> 01:12:27,199
manage it turn it off restart and all

1372
01:12:27,199 --> 01:12:28,239
that stuff and that's what we're going

1373
01:12:28,239 --> 01:12:30,400
to talk about next

1374
01:12:30,400 --> 01:12:31,199
so

1375
01:12:31,199 --> 01:12:33,520
right now let's talk about extracting a

1376
01:12:33,520 --> 01:12:36,080
services code base you want to download

1377
01:12:36,080 --> 01:12:37,840
all the code

1378
01:12:37,840 --> 01:12:39,600
belonging to a service

1379
01:12:39,600 --> 01:12:42,320
now if you go to slash home so let's go

1380
01:12:42,320 --> 01:12:43,600
in our

1381
01:12:43,600 --> 01:12:46,719
bms and let's go to slash home

1382
01:12:46,719 --> 01:12:48,640
right cd slash home

1383
01:12:48,640 --> 01:12:51,679
and ls you'll see we have four services

1384
01:12:51,679 --> 01:12:54,239
coffee pot free life health monitor and

1385
01:12:54,239 --> 01:12:55,520
nasa rasa

1386
01:12:55,520 --> 01:12:58,159
these are your services so all of your

1387
01:12:58,159 --> 01:13:01,040
services are stored in slash home the

1388
01:13:01,040 --> 01:13:05,400
code belonging to those services

1389
01:13:05,520 --> 01:13:07,840
and you can download and upload this

1390
01:13:07,840 --> 01:13:09,840
code off of the virtual machine using

1391
01:13:09,840 --> 01:13:12,159
any method most probably

1392
01:13:12,159 --> 01:13:13,440
scp

1393
01:13:13,440 --> 01:13:14,320
so

1394
01:13:14,320 --> 01:13:16,880
let's just very quickly download the

1395
01:13:16,880 --> 01:13:19,520
source code for all of our challenges

1396
01:13:19,520 --> 01:13:21,199
from all of our for all challenges

1397
01:13:21,199 --> 01:13:23,760
services onto our host machines so to

1398
01:13:23,760 --> 01:13:26,159
download the directory recursively from

1399
01:13:26,159 --> 01:13:29,120
the vm to our host we run this scp

1400
01:13:29,120 --> 01:13:31,280
command for people on windows you have

1401
01:13:31,280 --> 01:13:34,320
to use winscp but it's essentially it's

1402
01:13:34,320 --> 01:13:36,960
even easier since when scp is a

1403
01:13:36,960 --> 01:13:38,560
graphical interface

1404
01:13:38,560 --> 01:13:40,640
you want to download the source to the

1405
01:13:40,640 --> 01:13:42,239
destination so let's talk about that how

1406
01:13:42,239 --> 01:13:43,600
are we going to do that

1407
01:13:43,600 --> 01:13:46,560
so i'm going to open a new tab this is

1408
01:13:46,560 --> 01:13:50,000
running on my machine right now this is

1409
01:13:50,000 --> 01:13:52,239
my host i'm going to go into the hack in

1410
01:13:52,239 --> 01:13:54,880
the box training folder that i did

1411
01:13:54,880 --> 01:13:57,440
okay and i'm going to do scp

1412
01:13:57,440 --> 01:14:00,960
root at and then the ip of myvon image

1413
01:14:00,960 --> 01:14:04,719
which in this case is dot 100.3

1414
01:14:04,719 --> 01:14:07,120
the source so i want to download slash

1415
01:14:07,120 --> 01:14:08,480
home

1416
01:14:08,480 --> 01:14:11,520
okay remember to put dash r after scp

1417
01:14:11,520 --> 01:14:14,000
sorry my bad so recursively we want to

1418
01:14:14,000 --> 01:14:16,320
download slash home and all the folders

1419
01:14:16,320 --> 01:14:17,760
in slash home

1420
01:14:17,760 --> 01:14:19,040
and

1421
01:14:19,040 --> 01:14:21,840
i want to save it in

1422
01:14:21,840 --> 01:14:23,600
hitv training

1423
01:14:23,600 --> 01:14:26,000
and i'm going to call it services

1424
01:14:26,000 --> 01:14:29,040
okay so it's going to download

1425
01:14:29,040 --> 01:14:31,600
everything

1426
01:14:31,679 --> 01:14:33,840
we're going to type in my password

1427
01:14:33,840 --> 01:14:35,920
it's going to download everything from

1428
01:14:35,920 --> 01:14:37,440
slash home

1429
01:14:37,440 --> 01:14:40,080
into slash services okay and you're

1430
01:14:40,080 --> 01:14:41,520
going to let it go this is going to take

1431
01:14:41,520 --> 01:14:43,280
some time because it's a lot of many

1432
01:14:43,280 --> 01:14:45,040
small files and we're just going to

1433
01:14:45,040 --> 01:14:47,600
leave it going so everybody if you're

1434
01:14:47,600 --> 01:14:49,600
here do the same thing i just did right

1435
01:14:49,600 --> 01:14:50,480
now

1436
01:14:50,480 --> 01:14:52,560
do scp

1437
01:14:52,560 --> 01:14:54,719
and

1438
01:14:55,600 --> 01:14:57,920
run the scp command and let your

1439
01:14:57,920 --> 01:15:00,159
services download

1440
01:15:00,159 --> 01:15:00,710
and yeah

1441
01:15:00,710 --> 01:15:02,800
[Music]

1442
01:15:02,800 --> 01:15:04,239
if you're on windows like i said you can

1443
01:15:04,239 --> 01:15:06,640
use one scp or any other sap client

1444
01:15:06,640 --> 01:15:08,719
again you don't have to use scp to

1445
01:15:08,719 --> 01:15:11,040
download you can pretty much do anything

1446
01:15:11,040 --> 01:15:12,960
you want you can literally just zip the

1447
01:15:12,960 --> 01:15:16,239
entire folder run python simple http

1448
01:15:16,239 --> 01:15:17,280
server

1449
01:15:17,280 --> 01:15:18,800
and just download it off your host

1450
01:15:18,800 --> 01:15:20,960
you're free to do whatever you want this

1451
01:15:20,960 --> 01:15:25,800
is just the simplest built-in method

1452
01:15:30,080 --> 01:15:31,920
is there anybody having issues with

1453
01:15:31,920 --> 01:15:33,920
downloading the code base off of their

1454
01:15:33,920 --> 01:15:35,120
machines

1455
01:15:35,120 --> 01:15:39,559
as we wait for this to be done

1456
01:15:49,280 --> 01:15:52,239
no all right that's that's great so in

1457
01:15:52,239 --> 01:15:54,000
that case i think we can just move on to

1458
01:15:54,000 --> 01:15:56,159
the next slide while it downloads so

1459
01:15:56,159 --> 01:15:58,400
let's talk about docker and dock and

1460
01:15:58,400 --> 01:16:00,880
docker compose in order to manage your

1461
01:16:00,880 --> 01:16:02,719
services okay

1462
01:16:02,719 --> 01:16:05,120
you need to learn how to use docker and

1463
01:16:05,120 --> 01:16:06,400
docker compose

1464
01:16:06,400 --> 01:16:07,679
okay

1465
01:16:07,679 --> 01:16:09,600
all services as you're going to see in a

1466
01:16:09,600 --> 01:16:12,640
moment come with a docker compose.yml

1467
01:16:12,640 --> 01:16:13,520
file

1468
01:16:13,520 --> 01:16:15,920
which allows you to easily manage the

1469
01:16:15,920 --> 01:16:17,840
services container you're going to see

1470
01:16:17,840 --> 01:16:19,840
what that means in a second and the most

1471
01:16:19,840 --> 01:16:21,199
common thing that you need to learn how

1472
01:16:21,199 --> 01:16:24,480
to do is how to redeploy your services

1473
01:16:24,480 --> 01:16:26,960
once you've updated the code base right

1474
01:16:26,960 --> 01:16:29,520
so now let's say you patch the service

1475
01:16:29,520 --> 01:16:31,440
how can you redeploy the service again

1476
01:16:31,440 --> 01:16:33,520
how can you update the service

1477
01:16:33,520 --> 01:16:35,760
it's not as it's not just updating the

1478
01:16:35,760 --> 01:16:37,440
code and then that's that's it no you

1479
01:16:37,440 --> 01:16:39,760
have to rebuild the container

1480
01:16:39,760 --> 01:16:42,159
and i'll show you how you can do that

1481
01:16:42,159 --> 01:16:43,840
docker compose comes with a couple of

1482
01:16:43,840 --> 01:16:45,440
commands that are useful for managing

1483
01:16:45,440 --> 01:16:47,840
containers so if you're inside the

1484
01:16:47,840 --> 01:16:51,040
folder of a service on your phone image

1485
01:16:51,040 --> 01:16:53,679
you can run docker compose down docker

1486
01:16:53,679 --> 01:16:56,239
compose up docker compose build

1487
01:16:56,239 --> 01:16:57,679
which allows you to rebuild the service

1488
01:16:57,679 --> 01:16:59,520
and docker compose logs which shows you

1489
01:16:59,520 --> 01:17:01,280
the logs so let me show you what i mean

1490
01:17:01,280 --> 01:17:03,360
by that so while this is still going

1491
01:17:03,360 --> 01:17:05,199
well it's actually done by now but let's

1492
01:17:05,199 --> 01:17:07,120
go to our vault image i'm going to for

1493
01:17:07,120 --> 01:17:09,679
example let me make this bigger i'm

1494
01:17:09,679 --> 01:17:12,400
going to go into the nasa rasa folder

1495
01:17:12,400 --> 01:17:15,520
okay the nasa surface all right and i do

1496
01:17:15,520 --> 01:17:18,400
ls i see that there's a docker compose

1497
01:17:18,400 --> 01:17:20,320
file here that means i can run docker

1498
01:17:20,320 --> 01:17:22,480
compose commands here so i'm going to

1499
01:17:22,480 --> 01:17:25,040
say for example docker compose

1500
01:17:25,040 --> 01:17:26,239
down

1501
01:17:26,239 --> 01:17:30,080
and that's going to turn stop my nasa

1502
01:17:30,080 --> 01:17:33,679
rasa container so if i actually go now

1503
01:17:33,679 --> 01:17:36,960
to my my machine i think nasa runs on

1504
01:17:36,960 --> 01:17:38,640
port 80

1505
01:17:38,640 --> 01:17:40,640
connection refused and if we wait a

1506
01:17:40,640 --> 01:17:43,920
couple of if we wait a couple of seconds

1507
01:17:43,920 --> 01:17:45,840
the check system will come in

1508
01:17:45,840 --> 01:17:48,080
and it's going to note my nasa raster

1509
01:17:48,080 --> 01:17:50,320
service as down

1510
01:17:50,320 --> 01:17:51,920
any moment

1511
01:17:51,920 --> 01:17:53,360
might take a couple of seconds but we'll

1512
01:17:53,360 --> 01:17:55,280
leave it so right now

1513
01:17:55,280 --> 01:17:56,719
you see

1514
01:17:56,719 --> 01:17:59,040
how all my services are up

1515
01:17:59,040 --> 01:18:00,719
okay on the scoreboard all my we're

1516
01:18:00,719 --> 01:18:01,920
gonna talk more in detail about the

1517
01:18:01,920 --> 01:18:03,760
scoreboard in day two but right now you

1518
01:18:03,760 --> 01:18:05,360
can see in the scoreboard this green

1519
01:18:05,360 --> 01:18:07,120
arrow under every service

1520
01:18:07,120 --> 01:18:10,719
under my team i am org one

1521
01:18:10,719 --> 01:18:14,960
oh what happened why did you break

1522
01:18:15,440 --> 01:18:17,120
oh well i had to refresh okay now i have

1523
01:18:17,120 --> 01:18:19,840
to find org one here we go

1524
01:18:19,840 --> 01:18:22,080
orgon

1525
01:18:22,080 --> 01:18:24,320
see how my sla is four

1526
01:18:24,320 --> 01:18:26,719
because i have four services and they've

1527
01:18:26,719 --> 01:18:29,840
been up for as long as possible so my

1528
01:18:29,840 --> 01:18:32,560
sla is four all my services have been up

1529
01:18:32,560 --> 01:18:35,040
on you know 100 of the time we just got

1530
01:18:35,040 --> 01:18:37,840
to wait for the check system to kick in

1531
01:18:37,840 --> 01:18:41,840
any second now

1532
01:18:44,719 --> 01:18:46,880
you know what we'll we'll give it a bit

1533
01:18:46,880 --> 01:18:48,080
we'll give the checks because the check

1534
01:18:48,080 --> 01:18:50,239
system runs in rounds and we'll you'll

1535
01:18:50,239 --> 01:18:52,239
learn more about that in

1536
01:18:52,239 --> 01:18:54,480
day two but for now

1537
01:18:54,480 --> 01:18:57,280
docker compose down brought my container

1538
01:18:57,280 --> 01:18:58,960
down and i can even show you if i do

1539
01:18:58,960 --> 01:19:01,600
docker ps

1540
01:19:01,760 --> 01:19:03,520
nope that's that's not how it's supposed

1541
01:19:03,520 --> 01:19:05,520
to go docker ps

1542
01:19:05,520 --> 01:19:07,440
you'll see that you see health monitor

1543
01:19:07,440 --> 01:19:09,199
free life and coffee bar but no nasa

1544
01:19:09,199 --> 01:19:10,640
rasa okay

1545
01:19:10,640 --> 01:19:13,280
so the container is actually down

1546
01:19:13,280 --> 01:19:14,560
i think now we can go check the

1547
01:19:14,560 --> 01:19:17,120
scoreboard

1548
01:19:21,679 --> 01:19:23,520
org one here we go

1549
01:19:23,520 --> 01:19:25,600
i can see that also team zero some uh

1550
01:19:25,600 --> 01:19:27,760
some uh team zeros also nasa asset

1551
01:19:27,760 --> 01:19:29,840
containers down you see org one

1552
01:19:29,840 --> 01:19:31,840
nasarasa down

1553
01:19:31,840 --> 01:19:33,840
my service is it's off so the check

1554
01:19:33,840 --> 01:19:35,520
system reports that and i'm starting to

1555
01:19:35,520 --> 01:19:38,239
lose sla okay see how the other teams

1556
01:19:38,239 --> 01:19:40,320
have a higher sla than me so they're on

1557
01:19:40,320 --> 01:19:43,040
top of me but i have less sla

1558
01:19:43,040 --> 01:19:44,880
so sla does matter it doesn't matter in

1559
01:19:44,880 --> 01:19:46,159
your position in the scoreboard all

1560
01:19:46,159 --> 01:19:48,960
right so i can fix this simply by doing

1561
01:19:48,960 --> 01:19:50,960
again undoing what i just did which is

1562
01:19:50,960 --> 01:19:52,400
docker compose

1563
01:19:52,400 --> 01:19:53,360
up

1564
01:19:53,360 --> 01:19:55,920
so docker compose up we'll just bring up

1565
01:19:55,920 --> 01:19:58,080
the container but now hold on what just

1566
01:19:58,080 --> 01:19:59,520
happened so

1567
01:19:59,520 --> 01:20:02,159
the the the problem is that i didn't

1568
01:20:02,159 --> 01:20:04,159
tell docker to run the containers in the

1569
01:20:04,159 --> 01:20:06,960
background so what i'm seeing right now

1570
01:20:06,960 --> 01:20:08,880
is all the logs from the from the

1571
01:20:08,880 --> 01:20:10,639
different containers if i try to leave

1572
01:20:10,639 --> 01:20:12,159
this or ctrl c

1573
01:20:12,159 --> 01:20:14,159
i kill my containers again

1574
01:20:14,159 --> 01:20:16,560
so when you do docker compose up it is

1575
01:20:16,560 --> 01:20:18,560
important for you to add this option

1576
01:20:18,560 --> 01:20:19,760
right now

1577
01:20:19,760 --> 01:20:22,960
so do docker compose up dash d

1578
01:20:22,960 --> 01:20:24,880
for detach which means run the

1579
01:20:24,880 --> 01:20:26,239
containers in the background see and i

1580
01:20:26,239 --> 01:20:29,040
get my bash prompt again and i can go

1581
01:20:29,040 --> 01:20:32,000
right here and refresh

1582
01:20:32,000 --> 01:20:33,600
if only the zoom

1583
01:20:33,600 --> 01:20:36,400
thing would move out of the way

1584
01:20:36,400 --> 01:20:38,560
and reload

1585
01:20:38,560 --> 01:20:40,480
there you go my container nasa asset

1586
01:20:40,480 --> 01:20:43,280
container is up again see

1587
01:20:43,280 --> 01:20:45,840
so let's talk about updating code and

1588
01:20:45,840 --> 01:20:47,440
fixing the services and i'll show you

1589
01:20:47,440 --> 01:20:49,840
right now that in org one

1590
01:20:49,840 --> 01:20:52,719
after my container is back up again

1591
01:20:52,719 --> 01:20:54,560
for nasa rasa

1592
01:20:54,560 --> 01:20:58,480
it will report it as up again all right

1593
01:20:58,480 --> 01:21:01,440
so let's go and to the code actually

1594
01:21:01,440 --> 01:21:02,560
let's go back to the presentation i

1595
01:21:02,560 --> 01:21:04,400
might be missing on something

1596
01:21:04,400 --> 01:21:06,400
so

1597
01:21:06,400 --> 01:21:08,000
capturing traffic okay we're gonna

1598
01:21:08,000 --> 01:21:10,239
capture traffic for defense in a second

1599
01:21:10,239 --> 01:21:11,360
let's just talk about building the

1600
01:21:11,360 --> 01:21:12,400
expert so

1601
01:21:12,400 --> 01:21:14,880
rebuilding services so i want all of you

1602
01:21:14,880 --> 01:21:18,000
to go into your source code so

1603
01:21:18,000 --> 01:21:19,679
here on your host source code we're

1604
01:21:19,679 --> 01:21:21,040
going to update our source code right

1605
01:21:21,040 --> 01:21:22,000
now

1606
01:21:22,000 --> 01:21:24,239
okay for now i think instead of instead

1607
01:21:24,239 --> 01:21:26,000
of doing it on your host and

1608
01:21:26,000 --> 01:21:27,840
re-uploading the code that's going to

1609
01:21:27,840 --> 01:21:30,000
take some some a lot of time actually

1610
01:21:30,000 --> 01:21:31,920
let's do that let's do it no worries why

1611
01:21:31,920 --> 01:21:34,080
not so

1612
01:21:34,080 --> 01:21:35,920
go into your services

1613
01:21:35,920 --> 01:21:38,560
go into nasa rasa

1614
01:21:38,560 --> 01:21:41,040
go into www you'll notice that it's a

1615
01:21:41,040 --> 01:21:44,880
php app let's go to index.php to open it

1616
01:21:44,880 --> 01:21:47,199
in your favorite code editor

1617
01:21:47,199 --> 01:21:50,080
uh actually not index.php this is a it's

1618
01:21:50,080 --> 01:21:51,280
a complex

1619
01:21:51,280 --> 01:21:53,600
app let's go to templates

1620
01:21:53,600 --> 01:21:57,600
templates index template okay and let's

1621
01:21:57,600 --> 01:21:59,199
change something about this so for

1622
01:21:59,199 --> 01:22:01,199
example nasa rasa i'm going to come here

1623
01:22:01,199 --> 01:22:02,800
and i'm going to add

1624
01:22:02,800 --> 01:22:04,159
hello

1625
01:22:04,159 --> 01:22:05,120
world

1626
01:22:05,120 --> 01:22:07,199
all right just a very simple

1627
01:22:07,199 --> 01:22:08,400
you know

1628
01:22:08,400 --> 01:22:11,520
change just the title of the page right

1629
01:22:11,520 --> 01:22:13,040
just to show you that this is we're

1630
01:22:13,040 --> 01:22:14,239
going to do an update now we want to

1631
01:22:14,239 --> 01:22:16,239
push this update back into the cloud so

1632
01:22:16,239 --> 01:22:19,040
i did an update right now okay i updated

1633
01:22:19,040 --> 01:22:21,120
my index template

1634
01:22:21,120 --> 01:22:24,400
and i want to effectively update

1635
01:22:24,400 --> 01:22:26,239
what i want to update this code in the

1636
01:22:26,239 --> 01:22:28,800
cloud now and not in the cloud well in

1637
01:22:28,800 --> 01:22:31,280
my vulnerable image how can i do that

1638
01:22:31,280 --> 01:22:32,800
well again let's go back to the slides

1639
01:22:32,800 --> 01:22:34,560
and let's go at that scp command there

1640
01:22:34,560 --> 01:22:36,400
was another one how to upload a

1641
01:22:36,400 --> 01:22:40,000
directory recursively from our host so

1642
01:22:40,000 --> 01:22:43,520
let's do that so we're going to do scp

1643
01:22:43,520 --> 01:22:44,880
dash r

1644
01:22:44,880 --> 01:22:46,960
and then the source okay what is the

1645
01:22:46,960 --> 01:22:50,080
source well we're uploading dot services

1646
01:22:50,080 --> 01:22:51,760
nasa rasa we want to upload the nasa

1647
01:22:51,760 --> 01:22:54,239
rasa folder or actually yeah we want to

1648
01:22:54,239 --> 01:22:56,639
upload the nasa rasa folder okay where

1649
01:22:56,639 --> 01:22:58,080
do we want to upload it well we want to

1650
01:22:58,080 --> 01:23:02,440
upload it to root at 10.60.100.3

1651
01:23:03,040 --> 01:23:04,880
and we want to upload this to slash home

1652
01:23:04,880 --> 01:23:08,239
slash nasa rasa

1653
01:23:09,199 --> 01:23:10,880
right

1654
01:23:10,880 --> 01:23:13,600
that sounds good

1655
01:23:14,159 --> 01:23:15,760
actually that might create i feel like

1656
01:23:15,760 --> 01:23:17,120
that might create a duplicate so we're

1657
01:23:17,120 --> 01:23:20,480
gonna just upload this to slash home

1658
01:23:20,480 --> 01:23:23,600
i hope i hope i'm right with this

1659
01:23:23,600 --> 01:23:26,080
let's see

1660
01:23:26,800 --> 01:23:29,120
it should be directly called nasirasa

1661
01:23:29,120 --> 01:23:31,360
you should add nasarasa to

1662
01:23:31,360 --> 01:23:33,280
this thing okay so let's do another like

1663
01:23:33,280 --> 01:23:35,280
this let's see how that goes

1664
01:23:35,280 --> 01:23:38,639
so i'm going to type in my password

1665
01:23:42,400 --> 01:23:44,719
now we'll find out soon enough

1666
01:23:44,719 --> 01:23:46,719
don't worry about it

1667
01:23:46,719 --> 01:23:47,920
so we're going to let it upload

1668
01:23:47,920 --> 01:23:49,120
everything we can actually check the

1669
01:23:49,120 --> 01:23:51,040
progress here

1670
01:23:51,040 --> 01:23:53,920
and uh see it uploaded a duplicate a

1671
01:23:53,920 --> 01:23:56,000
duplicate directory yes yes so we're

1672
01:23:56,000 --> 01:23:57,520
going to cancel this so it was the other

1673
01:23:57,520 --> 01:23:58,880
it was the other way around there's no

1674
01:23:58,880 --> 01:24:00,639
worries about no worries though so we're

1675
01:24:00,639 --> 01:24:02,320
going to remove this duplicate directory

1676
01:24:02,320 --> 01:24:04,159
over here so this is how you should

1677
01:24:04,159 --> 01:24:05,920
properly upload okay

1678
01:24:05,920 --> 01:24:07,520
we want to upload

1679
01:24:07,520 --> 01:24:08,639
the

1680
01:24:08,639 --> 01:24:11,760
local nasa asset directory to slash home

1681
01:24:11,760 --> 01:24:14,080
okay so that it can replace the nasa

1682
01:24:14,080 --> 01:24:15,840
asset directory that's already in slash

1683
01:24:15,840 --> 01:24:17,520
home okay

1684
01:24:17,520 --> 01:24:21,120
and let's just do this

1685
01:24:22,320 --> 01:24:24,480
and there you go

1686
01:24:24,480 --> 01:24:27,520
for those of you who use a complicated

1687
01:24:27,520 --> 01:24:30,239
like not complicated like big ides or

1688
01:24:30,239 --> 01:24:32,000
code editors you can always have some

1689
01:24:32,000 --> 01:24:34,560
sort of ssh extension so for those of

1690
01:24:34,560 --> 01:24:36,560
you who use visual code visual studio

1691
01:24:36,560 --> 01:24:40,000
code uh there is a remote ssh extension

1692
01:24:40,000 --> 01:24:42,080
you can just use that and edit the code

1693
01:24:42,080 --> 01:24:44,960
directly on the server without having to

1694
01:24:44,960 --> 01:24:47,199
download the code locally right so right

1695
01:24:47,199 --> 01:24:48,960
now if i do ls

1696
01:24:48,960 --> 01:24:51,040
and we can just do a very quick check

1697
01:24:51,040 --> 01:24:53,120
let's just go into www

1698
01:24:53,120 --> 01:24:54,480
let's cat

1699
01:24:54,480 --> 01:24:56,560
our index template and you'll see that

1700
01:24:56,560 --> 01:24:58,960
my code got pushed this is on the phone

1701
01:24:58,960 --> 01:25:01,760
image and my code got re-uploaded again

1702
01:25:01,760 --> 01:25:04,880
and that's that's great so how how can i

1703
01:25:04,880 --> 01:25:07,520
now redeploy the service so we're going

1704
01:25:07,520 --> 01:25:08,639
to do is we're going to do docker

1705
01:25:08,639 --> 01:25:10,080
compose

1706
01:25:10,080 --> 01:25:11,199
okay

1707
01:25:11,199 --> 01:25:13,360
build

1708
01:25:13,360 --> 01:25:15,600
let's give it a second oh it's now

1709
01:25:15,600 --> 01:25:18,880
building the docker container

1710
01:25:21,440 --> 01:25:23,280
just give it a second and it'll take

1711
01:25:23,280 --> 01:25:27,120
some time depending on the container

1712
01:25:27,120 --> 01:25:29,440
and i wanted to let you know uh just in

1713
01:25:29,440 --> 01:25:32,159
case that you do have internet access on

1714
01:25:32,159 --> 01:25:33,440
the

1715
01:25:33,440 --> 01:25:35,840
phone images i if you didn't notice yet

1716
01:25:35,840 --> 01:25:38,159
so go ahead feel free to install

1717
01:25:38,159 --> 01:25:41,280
whatever tools you are used to having

1718
01:25:41,280 --> 01:25:44,719
tmox h-top any tools that you you're

1719
01:25:44,719 --> 01:25:47,040
kind of used to or you you feel like

1720
01:25:47,040 --> 01:25:48,400
will make your life easier when

1721
01:25:48,400 --> 01:25:50,239
interacting with your phone image go

1722
01:25:50,239 --> 01:25:53,879
ahead install

1723
01:25:54,400 --> 01:25:56,480
again you'll have more time once the

1724
01:25:56,480 --> 01:25:58,880
this training is over you guys can spend

1725
01:25:58,880 --> 01:26:00,159
all night

1726
01:26:00,159 --> 01:26:02,799
playing around

1727
01:26:03,040 --> 01:26:04,560
i'll just wait for the container to be

1728
01:26:04,560 --> 01:26:06,880
built

1729
01:26:07,360 --> 01:26:09,280
and so it says here successfully built

1730
01:26:09,280 --> 01:26:11,679
and successfully tagged so let's

1731
01:26:11,679 --> 01:26:12,960
let's update architecture so we're going

1732
01:26:12,960 --> 01:26:16,320
to do docker compose down

1733
01:26:16,480 --> 01:26:17,679
okay

1734
01:26:17,679 --> 01:26:18,719
and then you're going to do docker

1735
01:26:18,719 --> 01:26:21,360
compose up dash dash force

1736
01:26:21,360 --> 01:26:22,800
recreate

1737
01:26:22,800 --> 01:26:23,760
like this

1738
01:26:23,760 --> 01:26:26,480
just just to force the container to use

1739
01:26:26,480 --> 01:26:29,280
the latest image

1740
01:26:29,280 --> 01:26:31,440
of our oh look i made a mistake i forgot

1741
01:26:31,440 --> 01:26:33,920
dash d so i'm running in my terminal

1742
01:26:33,920 --> 01:26:35,600
again yeah you got to keep track of all

1743
01:26:35,600 --> 01:26:36,800
this so dash

1744
01:26:36,800 --> 01:26:38,480
dash force recreate

1745
01:26:38,480 --> 01:26:40,320
d

1746
01:26:40,320 --> 01:26:42,800
and if i go into my browser

1747
01:26:42,800 --> 01:26:45,600
and i refresh

1748
01:26:46,719 --> 01:26:47,840
plus

1749
01:26:47,840 --> 01:26:50,000
what happened why did my mice why did my

1750
01:26:50,000 --> 01:26:53,199
mysql server break

1751
01:26:56,880 --> 01:26:58,400
oh that's going to be interesting what

1752
01:26:58,400 --> 01:27:01,400
happened

1753
01:27:10,480 --> 01:27:14,440
okay let me try something

1754
01:27:18,719 --> 01:27:21,199
oh no please

1755
01:27:21,199 --> 01:27:22,800
all right let's try this one more time

1756
01:27:22,800 --> 01:27:25,679
all right there up

1757
01:27:26,239 --> 01:27:29,239
what

1758
01:27:32,639 --> 01:27:35,040
can wait for the db server to be up well

1759
01:27:35,040 --> 01:27:36,960
it is up the error is coming from the

1760
01:27:36,960 --> 01:27:38,960
dbs the error is coming from the db it's

1761
01:27:38,960 --> 01:27:41,120
saying that it doesn't have access

1762
01:27:41,120 --> 01:27:44,000
that's what i'm saying

1763
01:27:44,719 --> 01:27:47,840
all right everything is up right now

1764
01:27:48,639 --> 01:27:51,120
refresh

1765
01:27:53,120 --> 01:27:54,199
host

1766
01:27:54,199 --> 01:27:56,800
172.220.3 is not allowed to connect okay

1767
01:27:56,800 --> 01:27:59,120
i most probably broke something and that

1768
01:27:59,120 --> 01:28:01,360
happens okay that's why we have

1769
01:28:01,360 --> 01:28:03,920
snapshots that's actually a great a

1770
01:28:03,920 --> 01:28:06,560
great use case

1771
01:28:06,560 --> 01:28:10,639
but and that's that's why you have uh

1772
01:28:11,360 --> 01:28:12,960
you think you saw something in the logs

1773
01:28:12,960 --> 01:28:15,840
let's see here

1774
01:28:16,719 --> 01:28:18,159
it's just connecting it's connecting

1775
01:28:18,159 --> 01:28:19,600
using a different ip address that it's

1776
01:28:19,600 --> 01:28:21,679
not familiar with the mysql database

1777
01:28:21,679 --> 01:28:23,679
permissions is what is what's messed up

1778
01:28:23,679 --> 01:28:25,600
you can easily fix it by just granting

1779
01:28:25,600 --> 01:28:29,440
permission to the database

1780
01:28:29,440 --> 01:28:31,120
oh the deprecated tls don't worry about

1781
01:28:31,120 --> 01:28:33,199
that that's uh that's that's fine no

1782
01:28:33,199 --> 01:28:35,360
that's fine

1783
01:28:35,360 --> 01:28:38,480
all right so putstar says you can

1784
01:28:38,480 --> 01:28:40,400
take it down and then rebuilt it again

1785
01:28:40,400 --> 01:28:42,960
let's let's let's try that so docker

1786
01:28:42,960 --> 01:28:45,679
compose down

1787
01:28:48,800 --> 01:28:50,639
you had the same error you waited for

1788
01:28:50,639 --> 01:28:52,719
two minutes

1789
01:28:52,719 --> 01:28:54,639
did you take the database down yeah yeah

1790
01:28:54,639 --> 01:28:57,040
did so you did you took the data both

1791
01:28:57,040 --> 01:28:58,880
down and then both up right now that's

1792
01:28:58,880 --> 01:29:01,520
that's what i did

1793
01:29:02,239 --> 01:29:03,440
now we're getting a completely different

1794
01:29:03,440 --> 01:29:04,400
error now we're getting connection

1795
01:29:04,400 --> 01:29:08,480
reviews hey welcome to debugging

1796
01:29:08,719 --> 01:29:12,080
docker ps let's see here

1797
01:29:17,440 --> 01:29:19,600
come on database

1798
01:29:19,600 --> 01:29:22,239
come on database

1799
01:29:22,239 --> 01:29:25,839
come to life for me

1800
01:29:31,199 --> 01:29:33,280
all right you know what that's fine i

1801
01:29:33,280 --> 01:29:34,719
think we'll give it a couple of seconds

1802
01:29:34,719 --> 01:29:37,440
for the database to come on but

1803
01:29:37,440 --> 01:29:40,880
all in all at least i'm happy that the

1804
01:29:40,880 --> 01:29:43,679
the the code differences that i made uh

1805
01:29:43,679 --> 01:29:46,000
it got uploaded

1806
01:29:46,000 --> 01:29:47,840
by the way i wouldn't be surprised if if

1807
01:29:47,840 --> 01:29:49,679
somebody just straight up

1808
01:29:49,679 --> 01:29:51,040
logged into the database and messed

1809
01:29:51,040 --> 01:29:52,159
around with the permissions which we'll

1810
01:29:52,159 --> 01:29:53,840
talk about in a second you guys will get

1811
01:29:53,840 --> 01:29:56,000
to know in day two

1812
01:29:56,000 --> 01:29:57,360
and that's fine

1813
01:29:57,360 --> 01:30:00,000
but uh

1814
01:30:00,560 --> 01:30:03,040
hold on

1815
01:30:03,280 --> 01:30:05,679
i'm gonna give it one more try

1816
01:30:05,679 --> 01:30:07,440
i think i'm gonna

1817
01:30:07,440 --> 01:30:09,199
so it doesn't even see oh there we go so

1818
01:30:09,199 --> 01:30:10,800
it actually you did you had to wait a

1819
01:30:10,800 --> 01:30:12,239
couple of minutes before the database

1820
01:30:12,239 --> 01:30:13,199
worked

1821
01:30:13,199 --> 01:30:15,600
that's uh interesting oh well i guess

1822
01:30:15,600 --> 01:30:17,679
it's just my bad

1823
01:30:17,679 --> 01:30:19,440
and you can see here in the source code

1824
01:30:19,440 --> 01:30:21,679
so i just wasted like

1825
01:30:21,679 --> 01:30:24,080
five minutes doing 10 minutes worrying

1826
01:30:24,080 --> 01:30:26,320
about nothing and you can see right here

1827
01:30:26,320 --> 01:30:28,400
hello world got added into the title tag

1828
01:30:28,400 --> 01:30:30,239
so i did successfully update the code

1829
01:30:30,239 --> 01:30:31,760
all right that's great all right don't

1830
01:30:31,760 --> 01:30:34,320
worry about those mysql databases error

1831
01:30:34,320 --> 01:30:35,600
i think you should just give all your

1832
01:30:35,600 --> 01:30:37,840
services like two minutes

1833
01:30:37,840 --> 01:30:39,440
uh

1834
01:30:39,440 --> 01:30:42,000
to just come back to life

1835
01:30:42,000 --> 01:30:43,440
but oh well yeah we should have added

1836
01:30:43,440 --> 01:30:44,960
that depends on and there should be a

1837
01:30:44,960 --> 01:30:46,800
depends on if the docker compose so it

1838
01:30:46,800 --> 01:30:48,480
should wait for the db first you're

1839
01:30:48,480 --> 01:30:50,159
actually right

1840
01:30:50,159 --> 01:30:52,320
you can fix that yourself

1841
01:30:52,320 --> 01:30:55,360
that's the whole point of attack defense

1842
01:30:55,360 --> 01:30:57,360
will the cloud machine be used during

1843
01:30:57,360 --> 01:30:59,040
the contest you're going to have

1844
01:30:59,040 --> 01:31:00,880
something similar to this but not

1845
01:31:00,880 --> 01:31:02,480
exactly this one obviously this this

1846
01:31:02,480 --> 01:31:04,000
will be reset you're going to get a

1847
01:31:04,000 --> 01:31:06,000
brand new cloud vm

1848
01:31:06,000 --> 01:31:08,000
in the in the pre-call but it will be

1849
01:31:08,000 --> 01:31:10,400
pretty much the exact same setup where

1850
01:31:10,400 --> 01:31:12,000
you will go into your cloud machine you

1851
01:31:12,000 --> 01:31:14,639
will find services in slash home and you

1852
01:31:14,639 --> 01:31:16,560
can again they're all docker containers

1853
01:31:16,560 --> 01:31:18,320
bring them up bring them down

1854
01:31:18,320 --> 01:31:21,679
rebuild them up to you

1855
01:31:23,600 --> 01:31:25,600
yeah

1856
01:31:25,600 --> 01:31:27,120
so we'll go back to the presentation

1857
01:31:27,120 --> 01:31:30,960
just now we just proved that we can run

1858
01:31:30,960 --> 01:31:33,280
code like we can update code and rebuild

1859
01:31:33,280 --> 01:31:35,679
our container successfully okay again if

1860
01:31:35,679 --> 01:31:37,120
you want to learn more about docker

1861
01:31:37,120 --> 01:31:39,760
compose and docker commands there are so

1862
01:31:39,760 --> 01:31:41,600
many cheat sheets out there for the

1863
01:31:41,600 --> 01:31:44,320
docker cli go ahead and read them if you

1864
01:31:44,320 --> 01:31:46,080
feel like you want to really fine tune

1865
01:31:46,080 --> 01:31:48,400
how your containers are built feel free

1866
01:31:48,400 --> 01:31:50,080
to edit those docker compose files as

1867
01:31:50,080 --> 01:31:52,400
well go ahead go crazy literally you're

1868
01:31:52,400 --> 01:31:54,560
allowed to do whatever you want

1869
01:31:54,560 --> 01:31:56,480
so let's talk about capturing traffic

1870
01:31:56,480 --> 01:31:58,800
for defense why can why do we say that

1871
01:31:58,800 --> 01:32:01,600
you're allowed to capture traffic well

1872
01:32:01,600 --> 01:32:03,760
because teams are going to be launching

1873
01:32:03,760 --> 01:32:06,320
exploits at your services and

1874
01:32:06,320 --> 01:32:08,719
you are allowed to take the role of a

1875
01:32:08,719 --> 01:32:12,000
defender who has packet logs and you can

1876
01:32:12,000 --> 01:32:14,480
read and try to understand what was the

1877
01:32:14,480 --> 01:32:16,480
exploit that was thrown at you what

1878
01:32:16,480 --> 01:32:19,360
endpoints are they looking at what you

1879
01:32:19,360 --> 01:32:21,199
know what does the payload look like do

1880
01:32:21,199 --> 01:32:24,080
i see some sql keywords in there do i

1881
01:32:24,080 --> 01:32:26,960
see some linux commands is it a command

1882
01:32:26,960 --> 01:32:29,600
you know injection bug what's happening

1883
01:32:29,600 --> 01:32:31,199
right you're perfectly allowed to do

1884
01:32:31,199 --> 01:32:32,080
that

1885
01:32:32,080 --> 01:32:34,000
all right

1886
01:32:34,000 --> 01:32:36,239
and so this also allows you to see when

1887
01:32:36,239 --> 01:32:38,320
the check system is adding flags into

1888
01:32:38,320 --> 01:32:40,400
your service so the game is split into

1889
01:32:40,400 --> 01:32:41,760
rounds and this is we're gonna we're

1890
01:32:41,760 --> 01:32:43,199
supposed to get more into this into day

1891
01:32:43,199 --> 01:32:45,040
two training but the game is split into

1892
01:32:45,040 --> 01:32:47,120
rounds rounds that are one minute long

1893
01:32:47,120 --> 01:32:49,440
every minute the check system will come

1894
01:32:49,440 --> 01:32:52,080
and add new flags into your services

1895
01:32:52,080 --> 01:32:54,639
you can find that

1896
01:32:54,639 --> 01:32:56,800
when the you can find that with your

1897
01:32:56,800 --> 01:32:58,800
packet captures so you install the extra

1898
01:32:58,800 --> 01:33:00,719
app when the game starts yes you will

1899
01:33:00,719 --> 01:33:02,880
actually get some time period they will

1900
01:33:02,880 --> 01:33:04,480
tell you that they're like

1901
01:33:04,480 --> 01:33:07,600
uh usually you do have some time period

1902
01:33:07,600 --> 01:33:11,520
to set up before the game network opens

1903
01:33:11,520 --> 01:33:12,800
so they'll tell you this is where you

1904
01:33:12,800 --> 01:33:14,960
can download all the code take take a

1905
01:33:14,960 --> 01:33:17,440
couple of looks install all the apps

1906
01:33:17,440 --> 01:33:19,920
that you want so they give you like a a

1907
01:33:19,920 --> 01:33:20,840
piece

1908
01:33:20,840 --> 01:33:24,560
period to set up your your cloud vm and

1909
01:33:24,560 --> 01:33:26,560
set up all the tools you need before the

1910
01:33:26,560 --> 01:33:28,239
game actually starts

1911
01:33:28,239 --> 01:33:30,480
right

1912
01:33:30,880 --> 01:33:33,520
so in order to to to capture packets

1913
01:33:33,520 --> 01:33:35,280
we're going to be using tcp dump which

1914
01:33:35,280 --> 01:33:37,360
actually comes pre-installed in your

1915
01:33:37,360 --> 01:33:40,159
cloud vm so if we go right here i think

1916
01:33:40,159 --> 01:33:43,280
it should be pre-installed tcp dump yep

1917
01:33:43,280 --> 01:33:46,400
it is that's great and so using tcp dump

1918
01:33:46,400 --> 01:33:48,880
we can very easily capture packet logs

1919
01:33:48,880 --> 01:33:51,360
and take a look at them

1920
01:33:51,360 --> 01:33:53,840
so let's say for example first we have

1921
01:33:53,840 --> 01:33:55,440
to figure out like just to make sure

1922
01:33:55,440 --> 01:33:57,520
that our pcaps are small we have to

1923
01:33:57,520 --> 01:33:59,760
figure out what interface is connected

1924
01:33:59,760 --> 01:34:01,440
to the game network and i'm pretty sure

1925
01:34:01,440 --> 01:34:03,840
almost in all the vms it's going to be

1926
01:34:03,840 --> 01:34:05,520
uh ethernet one

1927
01:34:05,520 --> 01:34:08,560
so you can do ipspace uh adder and look

1928
01:34:08,560 --> 01:34:10,320
for the android i know it's a huge

1929
01:34:10,320 --> 01:34:12,719
output but look for the interface with

1930
01:34:12,719 --> 01:34:14,639
the ip address of your

1931
01:34:14,639 --> 01:34:17,600
game your cloud vm so this ethernet one

1932
01:34:17,600 --> 01:34:20,159
has 10.60.100.3

1933
01:34:20,159 --> 01:34:22,480
so i know that i should listen only on

1934
01:34:22,480 --> 01:34:24,719
ethernet one no need to listen on all

1935
01:34:24,719 --> 01:34:25,679
these

1936
01:34:25,679 --> 01:34:27,040
uh

1937
01:34:27,040 --> 01:34:28,080
ethernet

1938
01:34:28,080 --> 01:34:29,520
no need to listen on all these other

1939
01:34:29,520 --> 01:34:32,080
ethernet interfaces the team captain

1940
01:34:32,080 --> 01:34:33,440
should make the get team open video

1941
01:34:33,440 --> 01:34:35,199
config well there's no difference

1942
01:34:35,199 --> 01:34:37,679
there's no different soft addict you can

1943
01:34:37,679 --> 01:34:39,920
actually

1944
01:34:39,920 --> 01:34:42,159
go like any user all of you actually

1945
01:34:42,159 --> 01:34:44,400
should run the get team openvpn config

1946
01:34:44,400 --> 01:34:47,839
it's one vpn config anyway

1947
01:34:49,920 --> 01:34:51,199
you should all get different

1948
01:34:51,199 --> 01:34:53,600
configurations no no trust me especially

1949
01:34:53,600 --> 01:34:55,440
with openvpn

1950
01:34:55,440 --> 01:34:57,280
it's just the safest for everybody to

1951
01:34:57,280 --> 01:34:58,080
run

1952
01:34:58,080 --> 01:35:00,239
uh the the like every team member should

1953
01:35:00,239 --> 01:35:02,080
run the get team openvpn conflict

1954
01:35:02,080 --> 01:35:04,480
command

1955
01:35:04,639 --> 01:35:06,159
all of you can log in not just the team

1956
01:35:06,159 --> 01:35:07,600
captain because i think the team captain

1957
01:35:07,600 --> 01:35:10,080
should share with everybody your team

1958
01:35:10,080 --> 01:35:11,360
token

1959
01:35:11,360 --> 01:35:12,800
and so that you can all log into the

1960
01:35:12,800 --> 01:35:13,840
cloud console again you should

1961
01:35:13,840 --> 01:35:15,760
coordinate with each other but yeah as

1962
01:35:15,760 --> 01:35:17,040
long as uh

1963
01:35:17,040 --> 01:35:19,280
again uh as long as you guys all have

1964
01:35:19,280 --> 01:35:21,199
access to the same config it should be

1965
01:35:21,199 --> 01:35:22,800
all good

1966
01:35:22,800 --> 01:35:25,360
all right so moving on let's let's let's

1967
01:35:25,360 --> 01:35:30,239
capture some traffic okay so tcp dump

1968
01:35:30,239 --> 01:35:31,360
dash i

1969
01:35:31,360 --> 01:35:34,320
the interface and then dash w the file

1970
01:35:34,320 --> 01:35:35,760
name so in this case i just called it

1971
01:35:35,760 --> 01:35:38,080
capture.pcapp and then this this

1972
01:35:38,080 --> 01:35:39,520
interesting part right here this is what

1973
01:35:39,520 --> 01:35:40,480
we're gonna this is what we're gonna

1974
01:35:40,480 --> 01:35:43,679
talk about so there is no point

1975
01:35:43,679 --> 01:35:46,880
capturing traffic from your own team

1976
01:35:46,880 --> 01:35:49,520
okay that's just gonna make noise you

1977
01:35:49,520 --> 01:35:51,440
don't need that you already know what

1978
01:35:51,440 --> 01:35:53,679
your own team members are doing and you

1979
01:35:53,679 --> 01:35:57,040
should only listen on the ports

1980
01:35:57,040 --> 01:35:59,040
that where your services are running so

1981
01:35:59,040 --> 01:36:01,280
what ports are our services running

1982
01:36:01,280 --> 01:36:02,480
right now

1983
01:36:02,480 --> 01:36:05,840
yeah let's see so again to do that we do

1984
01:36:05,840 --> 01:36:09,040
docker ps it's going to be a

1985
01:36:09,040 --> 01:36:10,639
mess

1986
01:36:10,639 --> 01:36:12,480
um

1987
01:36:12,480 --> 01:36:15,760
you have 80 8080 8000

1988
01:36:15,760 --> 01:36:19,199
3255 and 3306 okay so let's run let's

1989
01:36:19,199 --> 01:36:20,639
run this command we're already running

1990
01:36:20,639 --> 01:36:22,960
as root so there's no need to write sudo

1991
01:36:22,960 --> 01:36:26,320
tcp dump dash i ethernet 1 w capture the

1992
01:36:26,320 --> 01:36:27,360
pcap

1993
01:36:27,360 --> 01:36:30,080
and then we're going to say not source

1994
01:36:30,080 --> 01:36:31,840
network so we don't want packets that

1995
01:36:31,840 --> 01:36:34,639
are coming from our own game network so

1996
01:36:34,639 --> 01:36:38,600
10.60 in my case i'm team 100 so

1997
01:36:38,600 --> 01:36:40,159
100.00

1998
01:36:40,159 --> 01:36:42,880
24. i don't want to capture packets

1999
01:36:42,880 --> 01:36:45,920
coming from my own team subnet

2000
01:36:45,920 --> 01:36:47,600
however i want

2001
01:36:47,600 --> 01:36:51,360
the destination port and destport

2002
01:36:51,360 --> 01:36:53,520
dst port

2003
01:36:53,520 --> 01:36:55,119
yeah i'll send over the command no

2004
01:36:55,119 --> 01:36:56,320
worries at all

2005
01:36:56,320 --> 01:36:58,320
open quotations and

2006
01:36:58,320 --> 01:37:01,119
put all the ports here separated by or

2007
01:37:01,119 --> 01:37:01,960
so

2008
01:37:01,960 --> 01:37:04,400
3306 or

2009
01:37:04,400 --> 01:37:05,360
80

2010
01:37:05,360 --> 01:37:07,280
actually i'll just keep it lower case or

2011
01:37:07,280 --> 01:37:08,480
80

2012
01:37:08,480 --> 01:37:11,119
or 8080

2013
01:37:11,119 --> 01:37:12,880
or 8000

2014
01:37:12,880 --> 01:37:16,159
or 32555

2015
01:37:16,159 --> 01:37:17,360
and there you go

2016
01:37:17,360 --> 01:37:19,040
now i am listening you know it might

2017
01:37:19,040 --> 01:37:21,040
help sometimes to add a

2018
01:37:21,040 --> 01:37:24,000
v or dash vv like verbose

2019
01:37:24,000 --> 01:37:25,600
just to see packets

2020
01:37:25,600 --> 01:37:27,440
so i need you guys

2021
01:37:27,440 --> 01:37:31,360
i need you guys to come and visit the

2022
01:37:31,360 --> 01:37:34,560
like come and visit my services so

2023
01:37:34,560 --> 01:37:39,199
this is my team ip so 10.60.100.3

2024
01:37:39,199 --> 01:37:42,000
okay that's my phone so you guys can go

2025
01:37:42,000 --> 01:37:43,920
ahead i want you guys to start talking

2026
01:37:43,920 --> 01:37:45,440
to my services

2027
01:37:45,440 --> 01:37:48,480
open my nasa rasa page walk around

2028
01:37:48,480 --> 01:37:49,920
open my

2029
01:37:49,920 --> 01:37:51,600
you know talk to my database talk to

2030
01:37:51,600 --> 01:37:52,960
everything just so i can you know

2031
01:37:52,960 --> 01:37:55,679
collect some traffic right here

2032
01:37:55,679 --> 01:37:57,679
and i'm going to wait around 60 seconds

2033
01:37:57,679 --> 01:38:00,159
because i want the check system as well

2034
01:38:00,159 --> 01:38:01,920
to send although i have no way of

2035
01:38:01,920 --> 01:38:05,600
telling what's what's happening at all

2036
01:38:05,600 --> 01:38:07,040
right so i'll copy paste the entire

2037
01:38:07,040 --> 01:38:08,719
command because you guys wanted it here

2038
01:38:08,719 --> 01:38:10,239
you go even though it's it's in the

2039
01:38:10,239 --> 01:38:11,199
slides

2040
01:38:11,199 --> 01:38:13,760
again make sure to edit the ip addresses

2041
01:38:13,760 --> 01:38:15,440
and the ports once you actually come to

2042
01:38:15,440 --> 01:38:19,920
use this in the real competition okay

2043
01:38:19,920 --> 01:38:21,360
all right so i think that's also i'm

2044
01:38:21,360 --> 01:38:22,719
gonna stop

2045
01:38:22,719 --> 01:38:24,719
thank you guys for that and there's no

2046
01:38:24,719 --> 01:38:26,159
python here of course there's no python

2047
01:38:26,159 --> 01:38:30,119
here so i'm just gonna install python3

2048
01:38:32,000 --> 01:38:34,480
so i can get a simple http server what

2049
01:38:34,480 --> 01:38:36,560
python three is already installed

2050
01:38:36,560 --> 01:38:38,639
okay

2051
01:38:38,639 --> 01:38:42,880
http server on port let's say 9000

2052
01:38:42,880 --> 01:38:47,520
uh you guys as well feel free to uh

2053
01:38:48,159 --> 01:38:50,000
grab the grab the p cap that i'm about

2054
01:38:50,000 --> 01:38:53,639
to grab so 10.1.10.60.10.3

2055
01:38:54,960 --> 01:38:58,239
on port 9000 you guys can go ahead and

2056
01:38:58,239 --> 01:39:00,159
get this capture.p cap as well if you

2057
01:39:00,159 --> 01:39:02,639
want to analyze it yourself guys

2058
01:39:02,639 --> 01:39:05,119
feel free

2059
01:39:05,679 --> 01:39:07,600
and i want you to notice something

2060
01:39:07,600 --> 01:39:09,440
you see how i see some people are

2061
01:39:09,440 --> 01:39:11,520
accessing the service already but it all

2062
01:39:11,520 --> 01:39:13,520
comes from the same ip

2063
01:39:13,520 --> 01:39:16,520
10.80.100.1

2064
01:39:16,639 --> 01:39:18,639
i can't tell i can't tell what team see

2065
01:39:18,639 --> 01:39:20,880
i can't tell who's accessing the service

2066
01:39:20,880 --> 01:39:23,440
all you different teams are coming in

2067
01:39:23,440 --> 01:39:25,840
and you're taking the uh you're

2068
01:39:25,840 --> 01:39:29,119
downloading the uh capture.pkapp

2069
01:39:29,119 --> 01:39:30,880
and i can't tell

2070
01:39:30,880 --> 01:39:33,920
what team is coming to do what okay

2071
01:39:33,920 --> 01:39:36,400
so that's that's that's going to be

2072
01:39:36,400 --> 01:39:37,920
that's just an important note so

2073
01:39:37,920 --> 01:39:39,840
capture.picapp okay i'm going to keep

2074
01:39:39,840 --> 01:39:40,960
this running

2075
01:39:40,960 --> 01:39:42,800
just in case some of you want to grab

2076
01:39:42,800 --> 01:39:44,159
the capture the p-cap for a couple of

2077
01:39:44,159 --> 01:39:46,159
seconds i'll just close it in 10 seconds

2078
01:39:46,159 --> 01:39:47,440
before

2079
01:39:47,440 --> 01:39:50,320
people start uh

2080
01:39:51,360 --> 01:39:52,800
come on now's your time to get to

2081
01:39:52,800 --> 01:39:54,800
capture that be capped

2082
01:39:54,800 --> 01:39:57,440
five seconds

2083
01:40:03,920 --> 01:40:05,679
and

2084
01:40:05,679 --> 01:40:09,920
i am getting it all right so

2085
01:40:09,920 --> 01:40:12,560
let's open the peak app

2086
01:40:12,560 --> 01:40:15,199
again our trusty wireshark i'm sure all

2087
01:40:15,199 --> 01:40:17,280
of you should have wireshark if not very

2088
01:40:17,280 --> 01:40:20,159
easily downloadable

2089
01:40:20,400 --> 01:40:22,480
and we can see what's happening here so

2090
01:40:22,480 --> 01:40:24,400
again like i said all the source ip

2091
01:40:24,400 --> 01:40:26,159
addresses you see all these source ip

2092
01:40:26,159 --> 01:40:29,119
addresses they all look the same i can't

2093
01:40:29,119 --> 01:40:30,239
tell

2094
01:40:30,239 --> 01:40:33,760
whether whether this is you know

2095
01:40:33,760 --> 01:40:35,920
traffic coming from the check system

2096
01:40:35,920 --> 01:40:37,360
whether it's traffic coming from nvt

2097
01:40:37,360 --> 01:40:38,960
from other teams so i'm just going to

2098
01:40:38,960 --> 01:40:40,800
filter this to http

2099
01:40:40,800 --> 01:40:43,280
and you can see that this this is going

2100
01:40:43,280 --> 01:40:46,639
to take forever okay this doing all this

2101
01:40:46,639 --> 01:40:49,520
is going to take forever there is no way

2102
01:40:49,520 --> 01:40:50,400
i can

2103
01:40:50,400 --> 01:40:51,199
tell

2104
01:40:51,199 --> 01:40:53,920
what is happening here at all

2105
01:40:53,920 --> 01:40:54,960
all right

2106
01:40:54,960 --> 01:40:56,400
so

2107
01:40:56,400 --> 01:40:58,080
even if i were to do this manually you

2108
01:40:58,080 --> 01:40:59,679
can tell that just in a matter of

2109
01:40:59,679 --> 01:41:02,800
seconds in a matter of seconds

2110
01:41:02,800 --> 01:41:05,440
i captured so many i captured around

2111
01:41:05,440 --> 01:41:08,239
pretty much 5 000 http requests

2112
01:41:08,239 --> 01:41:10,480
all right can you imagine how much time

2113
01:41:10,480 --> 01:41:12,400
that's going to take trying to analyze

2114
01:41:12,400 --> 01:41:14,080
almost every single one trying to look

2115
01:41:14,080 --> 01:41:15,760
for the team

2116
01:41:15,760 --> 01:41:17,600
and filtering manually is going to take

2117
01:41:17,600 --> 01:41:18,400
forever

2118
01:41:18,400 --> 01:41:20,719
thankfully there are services that make

2119
01:41:20,719 --> 01:41:22,719
this easy for us and i'm going to

2120
01:41:22,719 --> 01:41:24,719
introduce you to one of them

2121
01:41:24,719 --> 01:41:26,480
okay

2122
01:41:26,480 --> 01:41:28,960
now we're going to talk about setting up

2123
01:41:28,960 --> 01:41:32,159
carrots okay carrant is a nice tool on

2124
01:41:32,159 --> 01:41:34,800
github that it's a packet capturing tool

2125
01:41:34,800 --> 01:41:37,360
that is built for attack and defense so

2126
01:41:37,360 --> 01:41:38,880
let's set it up so the first step right

2127
01:41:38,880 --> 01:41:39,840
here i'm going to paste this into the

2128
01:41:39,840 --> 01:41:42,159
chat everybody just go to your uh make

2129
01:41:42,159 --> 01:41:44,159
sure you're in the default directory so

2130
01:41:44,159 --> 01:41:47,520
just cd go to your home directory and

2131
01:41:47,520 --> 01:41:48,560
let's

2132
01:41:48,560 --> 01:41:51,199
clone current first step is cloning

2133
01:41:51,199 --> 01:41:52,159
ground

2134
01:41:52,159 --> 01:41:54,320
second step is simply to

2135
01:41:54,320 --> 01:41:56,560
cd inside the folder and docker compose

2136
01:41:56,560 --> 01:41:57,280
up

2137
01:41:57,280 --> 01:42:01,559
all right it's a it's a docker container

2138
01:42:05,679 --> 01:42:08,000
no such surface dash d but how does that

2139
01:42:08,000 --> 01:42:10,320
work

2140
01:42:10,880 --> 01:42:12,960
i want you to just okay

2141
01:42:12,960 --> 01:42:16,239
if dash d isn't working uh do dash dash

2142
01:42:16,239 --> 01:42:18,159
detach okay

2143
01:42:18,159 --> 01:42:19,600
it's the same thing

2144
01:42:19,600 --> 01:42:21,520
so right now it's

2145
01:42:21,520 --> 01:42:24,000
working it's it's it's bringing up the

2146
01:42:24,000 --> 01:42:25,280
um

2147
01:42:25,280 --> 01:42:27,360
it's bringing up current and just give

2148
01:42:27,360 --> 01:42:30,239
it a second to build

2149
01:42:38,159 --> 01:42:39,119
there you go

2150
01:42:39,119 --> 01:42:40,080
now

2151
01:42:40,080 --> 01:42:41,920
it should be up and running account

2152
01:42:41,920 --> 01:42:43,920
should be definitely 100 up and running

2153
01:42:43,920 --> 01:42:45,840
you can do docker ps to see it here we

2154
01:42:45,840 --> 01:42:47,199
see you have a docker container called

2155
01:42:47,199 --> 01:42:50,239
current and you have a uh docker

2156
01:42:50,239 --> 01:42:51,679
container as well

2157
01:42:51,679 --> 01:42:54,000
right

2158
01:42:55,119 --> 01:42:58,080
so now we can access current at our vol

2159
01:42:58,080 --> 01:43:01,840
image ip address on port 3333

2160
01:43:01,840 --> 01:43:03,840
so in my case this actually should be

2161
01:43:03,840 --> 01:43:07,199
dot 16 not 80. yeah so in my case this

2162
01:43:07,199 --> 01:43:09,119
is

2163
01:43:09,119 --> 01:43:12,119
10.60.100.3.3333

2164
01:43:14,080 --> 01:43:15,840
and there we go

2165
01:43:15,840 --> 01:43:16,560
so

2166
01:43:16,560 --> 01:43:18,159
a couple of things that we have to set

2167
01:43:18,159 --> 01:43:20,719
up we have to set up the server address

2168
01:43:20,719 --> 01:43:22,719
what is the ip address of this server

2169
01:43:22,719 --> 01:43:24,600
right now and let's type that you are

2170
01:43:24,600 --> 01:43:26,480
10.60

2171
01:43:26,480 --> 01:43:27,760
dot

2172
01:43:27,760 --> 01:43:31,119
100.3 that's the server address

2173
01:43:31,119 --> 01:43:32,800
okay

2174
01:43:32,800 --> 01:43:33,840
and

2175
01:43:33,840 --> 01:43:38,000
what is the flag regex so what do flags

2176
01:43:38,000 --> 01:43:39,040
look like

2177
01:43:39,040 --> 01:43:40,880
and again this is a little bit more of

2178
01:43:40,880 --> 01:43:44,080
day two material but if you go to the

2179
01:43:44,080 --> 01:43:48,080
the conference link that i shared

2180
01:43:48,880 --> 01:43:51,040
let's go to the conference link that was

2181
01:43:51,040 --> 01:43:53,119
up for the rules this one conference

2182
01:43:53,119 --> 01:43:55,679
hitb

2183
01:43:56,480 --> 01:43:58,560
let's place that in the chat if you go

2184
01:43:58,560 --> 01:44:00,719
to that you'll notice

2185
01:44:00,719 --> 01:44:02,639
that they talk about

2186
01:44:02,639 --> 01:44:04,800
flag rejects okay

2187
01:44:04,800 --> 01:44:06,560
so they give you a rejects this rejects

2188
01:44:06,560 --> 01:44:08,800
what is the flag a flag is a string that

2189
01:44:08,800 --> 01:44:10,639
matches the regex

2190
01:44:10,639 --> 01:44:13,119
word 31 character word and ends with an

2191
01:44:13,119 --> 01:44:15,600
equal and these are how these are how

2192
01:44:15,600 --> 01:44:17,440
flags look like under that rejects you

2193
01:44:17,440 --> 01:44:21,638
see these these are all sample flags

2194
01:44:21,760 --> 01:44:23,920
and so why why are we telling qur'an to

2195
01:44:23,920 --> 01:44:26,159
the flag rejects because karante is

2196
01:44:26,159 --> 01:44:27,920
going to take our packets and

2197
01:44:27,920 --> 01:44:30,639
automatically tell us when a packet

2198
01:44:30,639 --> 01:44:33,920
contains a flag and so we know that

2199
01:44:33,920 --> 01:44:35,679
either this is the check system

2200
01:44:35,679 --> 01:44:38,400
inserting flags into our surface or this

2201
01:44:38,400 --> 01:44:41,360
is enemy teams taking flax from our

2202
01:44:41,360 --> 01:44:42,800
service

2203
01:44:42,800 --> 01:44:45,119
all right so grab this regex right here

2204
01:44:45,119 --> 01:44:47,600
and i'm going to paste it into the chat

2205
01:44:47,600 --> 01:44:48,719
okay

2206
01:44:48,719 --> 01:44:50,320
and i'm going to go back to connote and

2207
01:44:50,320 --> 01:44:53,360
i'm going to paste the flag regex

2208
01:44:53,360 --> 01:44:54,560
okay

2209
01:44:54,560 --> 01:44:56,159
then i'm going to put a super secure

2210
01:44:56,159 --> 01:44:58,000
username and password here

2211
01:44:58,000 --> 01:44:59,040
okay

2212
01:44:59,040 --> 01:45:02,000
so that nobody can hack my service

2213
01:45:02,000 --> 01:45:03,600
and

2214
01:45:03,600 --> 01:45:04,960
and then you can

2215
01:45:04,960 --> 01:45:07,040
and then you guys can just hit save and

2216
01:45:07,040 --> 01:45:08,719
i remember you have to hit add here now

2217
01:45:08,719 --> 01:45:10,400
that's not actually the password i'm

2218
01:45:10,400 --> 01:45:12,639
going to put onto the service otherwise

2219
01:45:12,639 --> 01:45:14,239
everybody will be on top of my current

2220
01:45:14,239 --> 01:45:15,360
service

2221
01:45:15,360 --> 01:45:16,560
so

2222
01:45:16,560 --> 01:45:18,320
but you know what for now for now let's

2223
01:45:18,320 --> 01:45:22,719
just let's just leave it why not okay

2224
01:45:23,119 --> 01:45:25,119
who really cares if you're in my current

2225
01:45:25,119 --> 01:45:26,159
service

2226
01:45:26,159 --> 01:45:27,679
and save and it's going to tell you

2227
01:45:27,679 --> 01:45:29,360
please log in so you type in your

2228
01:45:29,360 --> 01:45:31,760
username and password and here we go you

2229
01:45:31,760 --> 01:45:33,760
have logged in to your current of course

2230
01:45:33,760 --> 01:45:35,360
in the actual game you would have to

2231
01:45:35,360 --> 01:45:37,440
protect all your services make sure that

2232
01:45:37,440 --> 01:45:40,000
nobody is in nobody's playing around

2233
01:45:40,000 --> 01:45:41,840
nobody's missing anything now to all of

2234
01:45:41,840 --> 01:45:43,600
you guys i ask you not to log in and

2235
01:45:43,600 --> 01:45:46,480
ruin the service so let's just keep it

2236
01:45:46,480 --> 01:45:47,600
going

2237
01:45:47,600 --> 01:45:48,880
and then you guys can play around and

2238
01:45:48,880 --> 01:45:51,360
ruin all the services all you want

2239
01:45:51,360 --> 01:45:53,199
so what does exactly what does this

2240
01:45:53,199 --> 01:45:55,360
current do what can we do well one thing

2241
01:45:55,360 --> 01:45:57,520
is that we can set up services

2242
01:45:57,520 --> 01:46:01,119
okay so let's set up services

2243
01:46:01,119 --> 01:46:03,280
let's take a look at the list of

2244
01:46:03,280 --> 01:46:05,520
services that we have so we have a

2245
01:46:05,520 --> 01:46:08,080
service called nasa rasa over here

2246
01:46:08,080 --> 01:46:09,760
running on port 80. so we're going to

2247
01:46:09,760 --> 01:46:13,280
come here i'm going to do port 80

2248
01:46:13,280 --> 01:46:16,480
and we're going to call it nasa okay

2249
01:46:16,480 --> 01:46:18,239
and i'm going to give it a color

2250
01:46:18,239 --> 01:46:20,560
some color let's say red

2251
01:46:20,560 --> 01:46:21,360
okay

2252
01:46:21,360 --> 01:46:22,960
add service

2253
01:46:22,960 --> 01:46:24,080
okay

2254
01:46:24,080 --> 01:46:25,760
let's let's keep going what other

2255
01:46:25,760 --> 01:46:28,320
service do i have i have health monitor

2256
01:46:28,320 --> 01:46:31,040
running on port 8080 all right let's do

2257
01:46:31,040 --> 01:46:31,760
that

2258
01:46:31,760 --> 01:46:34,560
so port 8080

2259
01:46:34,560 --> 01:46:36,400
health

2260
01:46:36,400 --> 01:46:37,679
monitor

2261
01:46:37,679 --> 01:46:39,199
let's give it a different color let's

2262
01:46:39,199 --> 01:46:41,840
say this shade of green

2263
01:46:41,840 --> 01:46:43,199
all right so what we're doing we're

2264
01:46:43,199 --> 01:46:46,320
telling karant what packets when it gets

2265
01:46:46,320 --> 01:46:48,239
packets what packets belong to what

2266
01:46:48,239 --> 01:46:49,199
service

2267
01:46:49,199 --> 01:46:50,400
okay

2268
01:46:50,400 --> 01:46:52,719
and keep going so

2269
01:46:52,719 --> 01:46:54,800
let's go back to the terminal

2270
01:46:54,800 --> 01:46:57,360
so port 8000

2271
01:46:57,360 --> 01:46:59,520
is the service called free life all

2272
01:46:59,520 --> 01:47:01,280
right let's go port

2273
01:47:01,280 --> 01:47:03,119
8000

2274
01:47:03,119 --> 01:47:04,639
free life

2275
01:47:04,639 --> 01:47:05,840
let's pick

2276
01:47:05,840 --> 01:47:08,480
and i'm going to give this blue

2277
01:47:08,480 --> 01:47:09,840
add service

2278
01:47:09,840 --> 01:47:11,360
now the last service that we have and

2279
01:47:11,360 --> 01:47:12,880
you can keep adding services if you want

2280
01:47:12,880 --> 01:47:15,360
to monitor your other services go ahead

2281
01:47:15,360 --> 01:47:17,760
coffee pot three two five five so we're

2282
01:47:17,760 --> 01:47:19,280
gonna go coffee pot

2283
01:47:19,280 --> 01:47:20,840
three two five

2284
01:47:20,840 --> 01:47:24,560
five so three two five five

2285
01:47:24,560 --> 01:47:26,719
coffee

2286
01:47:26,719 --> 01:47:28,960
hot

2287
01:47:30,639 --> 01:47:32,080
oh look somebody already added coffee

2288
01:47:32,080 --> 01:47:33,840
pot for me and they give it bro hey

2289
01:47:33,840 --> 01:47:35,280
david brown

2290
01:47:35,280 --> 01:47:37,840
thank you

2291
01:47:38,159 --> 01:47:42,159
thank you kind ghost and my service

2292
01:47:43,440 --> 01:47:45,440
but yeah that's that that's it now

2293
01:47:45,440 --> 01:47:47,520
remember there are other services as

2294
01:47:47,520 --> 01:47:49,840
well over here okay for example this

2295
01:47:49,840 --> 01:47:52,400
mysql database that seems to be tied to

2296
01:47:52,400 --> 01:47:55,760
nasa rasa is running on port 3306 so we

2297
01:47:55,760 --> 01:47:57,360
should probably add that

2298
01:47:57,360 --> 01:47:59,840
3306

2299
01:47:59,840 --> 01:48:01,280
sql

2300
01:48:01,280 --> 01:48:04,400
and let's just give mysql like

2301
01:48:04,400 --> 01:48:08,320
just orange it doesn't exist yet

2302
01:48:08,320 --> 01:48:09,840
all right and there you go i think

2303
01:48:09,840 --> 01:48:11,840
pretty much now you are monitoring you

2304
01:48:11,840 --> 01:48:14,080
have monitored all your services okay

2305
01:48:14,080 --> 01:48:16,560
everything every service has been marked

2306
01:48:16,560 --> 01:48:18,400
properly with name

2307
01:48:18,400 --> 01:48:19,440
and

2308
01:48:19,440 --> 01:48:20,719
i'm just going to call this capital

2309
01:48:20,719 --> 01:48:22,639
coffee bot because i like my service

2310
01:48:22,639 --> 01:48:24,719
names to be capital

2311
01:48:24,719 --> 01:48:26,480
all right

2312
01:48:26,480 --> 01:48:28,880
and that's that so you've now set up all

2313
01:48:28,880 --> 01:48:31,040
your services inside our current all

2314
01:48:31,040 --> 01:48:32,800
right and we're ready to go to step two

2315
01:48:32,800 --> 01:48:34,480
let's just go to the rules rules

2316
01:48:34,480 --> 01:48:37,360
everything is fine

2317
01:48:38,400 --> 01:48:41,040
all right p caps so now you can upload

2318
01:48:41,040 --> 01:48:43,679
keycaps so i'm going to here i'm going

2319
01:48:43,679 --> 01:48:45,040
to browse

2320
01:48:45,040 --> 01:48:47,119
i'm going to pick the pcap file we just

2321
01:48:47,119 --> 01:48:49,920
did and i'm going to upload

2322
01:48:49,920 --> 01:48:53,520
let's upload this pcap file

2323
01:48:55,119 --> 01:48:58,679
why is it red

2324
01:49:00,159 --> 01:49:02,480
oh it's saying it's invalid

2325
01:49:02,480 --> 01:49:04,239
why are you saying it's invalid it's

2326
01:49:04,239 --> 01:49:07,040
literally right here

2327
01:49:07,679 --> 01:49:08,639
okay

2328
01:49:08,639 --> 01:49:10,159
well

2329
01:49:10,159 --> 01:49:12,159
does it want a pickup ng oh that's

2330
01:49:12,159 --> 01:49:13,840
that's going to be annoying i don't want

2331
01:49:13,840 --> 01:49:15,119
to do that

2332
01:49:15,119 --> 01:49:16,800
well that's anyway this is one way to

2333
01:49:16,800 --> 01:49:19,119
upload i and i don't really use this way

2334
01:49:19,119 --> 01:49:21,760
anyway i use this post

2335
01:49:21,760 --> 01:49:22,639
okay

2336
01:49:22,639 --> 01:49:23,440
which

2337
01:49:23,440 --> 01:49:26,239
takes a file in from the local file

2338
01:49:26,239 --> 01:49:28,719
system and automatically imports it into

2339
01:49:28,719 --> 01:49:31,520
current okay but here's a problem

2340
01:49:31,520 --> 01:49:33,360
here's a problem if you know docker

2341
01:49:33,360 --> 01:49:36,400
containers you know that

2342
01:49:36,400 --> 01:49:39,119
this right here so i'm going to move

2343
01:49:39,119 --> 01:49:40,000
the

2344
01:49:40,000 --> 01:49:43,440
pcap out of i think i left the pcap in

2345
01:49:43,440 --> 01:49:45,440
the nasa rasa folder yeah so i'm going

2346
01:49:45,440 --> 01:49:48,159
to move it here you know that

2347
01:49:48,159 --> 01:49:49,199
so this

2348
01:49:49,199 --> 01:49:51,679
capture.pcapp doesn't actually exist

2349
01:49:51,679 --> 01:49:53,760
inside the the docker container because

2350
01:49:53,760 --> 01:49:55,599
the docker container has its own file

2351
01:49:55,599 --> 01:49:59,199
system so if i do slash capture

2352
01:49:59,199 --> 01:50:01,920
dot pcapp here and i'm like oh process

2353
01:50:01,920 --> 01:50:04,159
it's telling me you know file does not

2354
01:50:04,159 --> 01:50:05,199
exist

2355
01:50:05,199 --> 01:50:08,000
okay so how can we move this file into

2356
01:50:08,000 --> 01:50:10,239
the docker container well we can edit

2357
01:50:10,239 --> 01:50:12,239
the docker container such that

2358
01:50:12,239 --> 01:50:15,119
the we have what we call a volume

2359
01:50:15,119 --> 01:50:16,719
and what that means is that there is a

2360
01:50:16,719 --> 01:50:18,800
certain folder on our system that is

2361
01:50:18,800 --> 01:50:21,760
shared with the docker container right

2362
01:50:21,760 --> 01:50:23,599
and so let's do that so i'm going to go

2363
01:50:23,599 --> 01:50:25,920
into the current folder

2364
01:50:25,920 --> 01:50:28,080
okay i am going to edit the

2365
01:50:28,080 --> 01:50:30,000
dockercompose.yml

2366
01:50:30,000 --> 01:50:32,320
i'm going to go down here to the current

2367
01:50:32,320 --> 01:50:36,159
section all right and i'm going to

2368
01:50:36,840 --> 01:50:40,480
add volumes

2369
01:50:41,599 --> 01:50:43,520
and then the source the source folder so

2370
01:50:43,520 --> 01:50:46,480
i'm doing slash root slash pcaps

2371
01:50:46,480 --> 01:50:48,159
okay

2372
01:50:48,159 --> 01:50:50,800
where is it located inside the

2373
01:50:50,800 --> 01:50:53,040
inside the container it's located in

2374
01:50:53,040 --> 01:50:56,000
slash pcapps what that does is that it's

2375
01:50:56,000 --> 01:50:58,080
going to create a folder on our local

2376
01:50:58,080 --> 01:51:00,639
system called slash in slash root slash

2377
01:51:00,639 --> 01:51:03,679
p gaps and any file that is stored

2378
01:51:03,679 --> 01:51:06,320
inside that folder will show up inside

2379
01:51:06,320 --> 01:51:07,840
the docker container

2380
01:51:07,840 --> 01:51:08,639
in

2381
01:51:08,639 --> 01:51:10,320
in slash pcapps

2382
01:51:10,320 --> 01:51:13,119
kind of like shared folders on a vm

2383
01:51:13,119 --> 01:51:15,119
okay so we're going to save this and we

2384
01:51:15,119 --> 01:51:16,639
have to rebuild our containers we have

2385
01:51:16,639 --> 01:51:18,000
to redeploy them so i'm going to docker

2386
01:51:18,000 --> 01:51:19,679
compose up

2387
01:51:19,679 --> 01:51:21,520
dash dash build

2388
01:51:21,520 --> 01:51:24,080
dash dash force recreate

2389
01:51:24,080 --> 01:51:26,320
okay

2390
01:51:26,400 --> 01:51:27,599
and here we go

2391
01:51:27,599 --> 01:51:28,880
so it's going to recreate the

2392
01:51:28,880 --> 01:51:30,000
database

2393
01:51:30,000 --> 01:51:32,840
and it's going to recreate

2394
01:51:32,840 --> 01:51:35,679
our current container so give it a

2395
01:51:35,679 --> 01:51:38,000
second

2396
01:51:39,360 --> 01:51:42,159
oh again i did one mistake i forgot to

2397
01:51:42,159 --> 01:51:44,719
add dash d i keep forgetting that don't

2398
01:51:44,719 --> 01:51:48,080
do don't be like me don't forget hd and

2399
01:51:48,080 --> 01:51:49,679
there you go

2400
01:51:49,679 --> 01:51:50,719
the containers are up so we're going to

2401
01:51:50,719 --> 01:51:52,480
give it a couple of seconds to run

2402
01:51:52,480 --> 01:51:54,800
and if you go back to your

2403
01:51:54,800 --> 01:51:56,800
your slash root directory you'll see

2404
01:51:56,800 --> 01:51:59,599
that there is a folder called pcapps

2405
01:51:59,599 --> 01:52:01,760
that we got created and you can move

2406
01:52:01,760 --> 01:52:04,400
this this capture.pcapp into the pcapps

2407
01:52:04,400 --> 01:52:06,799
folder

2408
01:52:07,599 --> 01:52:09,599
right now

2409
01:52:09,599 --> 01:52:12,599
nice

2410
01:52:16,400 --> 01:52:18,800
and now what i can do is that i can tell

2411
01:52:18,800 --> 01:52:20,960
it where is the file located inside the

2412
01:52:20,960 --> 01:52:22,880
container well it's located in slash

2413
01:52:22,880 --> 01:52:26,880
pcapps what is it called capture dot

2414
01:52:26,880 --> 01:52:29,280
pcapp

2415
01:52:29,280 --> 01:52:31,440
and process

2416
01:52:31,440 --> 01:52:33,599
and it says that it's processed and

2417
01:52:33,599 --> 01:52:36,639
that's pretty much it and

2418
01:52:36,719 --> 01:52:39,280
it processed all these packets i think i

2419
01:52:39,280 --> 01:52:43,559
just have to refresh the screen

2420
01:52:50,400 --> 01:52:52,560
why are you not showing me all the

2421
01:52:52,560 --> 01:52:55,840
pickups here hello

2422
01:52:56,880 --> 01:52:59,199
i guess it's taking a second to

2423
01:52:59,199 --> 01:53:03,879
load it up with the database

2424
01:53:12,639 --> 01:53:16,400
let's search for post for example

2425
01:53:16,400 --> 01:53:19,199
perform search

2426
01:53:22,800 --> 01:53:24,960
view what is happening why is it all

2427
01:53:24,960 --> 01:53:27,040
broken like that why does nothing ever

2428
01:53:27,040 --> 01:53:29,840
work properly

2429
01:53:36,800 --> 01:53:39,040
okay okay okay cancel you don't want to

2430
01:53:39,040 --> 01:53:41,599
search anymore

2431
01:53:41,599 --> 01:53:43,760
i loaded the cab slash p-cap slash

2432
01:53:43,760 --> 01:53:47,440
capture plot pcap

2433
01:53:47,520 --> 01:53:48,800
process

2434
01:53:48,800 --> 01:53:52,239
unprocessable pcap already processed

2435
01:53:52,239 --> 01:53:54,639
file does not exist

2436
01:53:54,639 --> 01:53:56,800
that's weird are you guys also getting

2437
01:53:56,800 --> 01:53:58,880
empty over here on the left are you not

2438
01:53:58,880 --> 01:54:01,599
seeing any output

2439
01:54:01,599 --> 01:54:03,440
because it's supposed to

2440
01:54:03,440 --> 01:54:05,679
start processing the pcap and showing

2441
01:54:05,679 --> 01:54:09,840
you requests that are happening

2442
01:54:22,159 --> 01:54:23,199
anybody

2443
01:54:23,199 --> 01:54:25,280
can you guys can anybody see anything on

2444
01:54:25,280 --> 01:54:26,800
the left here after they've imported the

2445
01:54:26,800 --> 01:54:29,280
pcap or did you lose me

2446
01:54:29,280 --> 01:54:30,400
and

2447
01:54:30,400 --> 01:54:33,759
you have no idea what's happening

2448
01:54:33,840 --> 01:54:35,679
there's no output there

2449
01:54:35,679 --> 01:54:38,159
as well

2450
01:54:38,159 --> 01:54:39,360
even though it says here that it

2451
01:54:39,360 --> 01:54:43,280
detected five packets per service

2452
01:54:45,280 --> 01:54:48,080
that's interesting

2453
01:54:48,159 --> 01:54:50,000
all right we'll keep going then well

2454
01:54:50,000 --> 01:54:51,360
i'll just keep going and we'll probably

2455
01:54:51,360 --> 01:54:54,159
get output at some point okay so that's

2456
01:54:54,159 --> 01:54:56,560
great that means any pcap that you put

2457
01:54:56,560 --> 01:54:58,800
in the slash pcaps folder

2458
01:54:58,800 --> 01:55:01,119
okay

2459
01:55:03,360 --> 01:55:06,719
gets gets uploaded gets uploaded into

2460
01:55:06,719 --> 01:55:08,560
the the the

2461
01:55:08,560 --> 01:55:10,000
service okay

2462
01:55:10,000 --> 01:55:11,840
let's run this one more time so i'm

2463
01:55:11,840 --> 01:55:13,280
actually going to go into my pcaps

2464
01:55:13,280 --> 01:55:17,280
folder and i'm going to run the tcp

2465
01:55:17,280 --> 01:55:19,520
the tcp dump command

2466
01:55:19,520 --> 01:55:22,239
one more time

2467
01:55:23,040 --> 01:55:24,400
okay

2468
01:55:24,400 --> 01:55:27,760
come on run the tcp dump command

2469
01:55:27,760 --> 01:55:29,760
there we go

2470
01:55:29,760 --> 01:55:31,679
and i want you guys to do the same thing

2471
01:55:31,679 --> 01:55:33,840
okay go ahead start talking to my

2472
01:55:33,840 --> 01:55:36,239
services you know the ip

2473
01:55:36,239 --> 01:55:37,840
start just

2474
01:55:37,840 --> 01:55:41,599
start you know talking to them okay

2475
01:55:42,880 --> 01:55:44,639
all right i'll go back to pick up i'll

2476
01:55:44,639 --> 01:55:46,719
go to picap's echo

2477
01:55:46,719 --> 01:55:48,639
all right so you guys are talking now so

2478
01:55:48,639 --> 01:55:52,000
i will try to process another pcap file

2479
01:55:52,000 --> 01:55:54,880
206 packets processed so that's great

2480
01:55:54,880 --> 01:55:58,480
but you're not displaying anything here

2481
01:55:58,480 --> 01:56:01,839
i don't know if something is broken

2482
01:56:10,400 --> 01:56:12,400
and i can do it again i can just do

2483
01:56:12,400 --> 01:56:14,320
slash pickups

2484
01:56:14,320 --> 01:56:17,799
slash capture.picapp

2485
01:56:20,080 --> 01:56:25,519
process again 1518 packets processed

2486
01:56:25,760 --> 01:56:29,840
and still absolutely nothing here

2487
01:56:38,239 --> 01:56:41,879
and it's very odd

2488
01:56:50,080 --> 01:56:51,599
i think it's having issues connected to

2489
01:56:51,599 --> 01:56:53,199
the connected to the

2490
01:56:53,199 --> 01:56:55,360
database that is what i believe i think

2491
01:56:55,360 --> 01:56:57,280
it's it's processing them

2492
01:56:57,280 --> 01:56:59,040
but okay hold on guys so i stopped the

2493
01:56:59,040 --> 01:57:01,440
packet capture you guys can stop now

2494
01:57:01,440 --> 01:57:02,880
um

2495
01:57:02,880 --> 01:57:04,480
i think he had an issue connecting to

2496
01:57:04,480 --> 01:57:06,080
the database so what i'm going to

2497
01:57:06,080 --> 01:57:09,040
do is i'm going to go into current again

2498
01:57:09,040 --> 01:57:11,599
i'm going to

2499
01:57:11,599 --> 01:57:13,920
i'm going to bring down both services

2500
01:57:13,920 --> 01:57:16,159
okay

2501
01:57:22,400 --> 01:57:24,400
nobody else is getting is nobody else

2502
01:57:24,400 --> 01:57:25,440
getting

2503
01:57:25,440 --> 01:57:26,960
getting uh

2504
01:57:26,960 --> 01:57:30,080
what do you call it output as well

2505
01:57:30,080 --> 01:57:33,960
it's just like that for everybody

2506
01:57:40,880 --> 01:57:42,639
so i'm gonna i'm gonna bring

2507
01:57:42,639 --> 01:57:44,880
uh

2508
01:57:46,000 --> 01:57:49,679
let's see docker compose up

2509
01:57:49,679 --> 01:57:51,280
so i'm gonna bring i'm gonna recreate

2510
01:57:51,280 --> 01:57:54,639
the container first recreate

2511
01:57:54,639 --> 01:57:57,599
and hd

2512
01:58:00,560 --> 01:58:02,080
what okay you have to put the options

2513
01:58:02,080 --> 01:58:04,320
before the service name okay

2514
01:58:04,320 --> 01:58:06,159
so dash d

2515
01:58:06,159 --> 01:58:07,760
force recreate

2516
01:58:07,760 --> 01:58:09,840
like this

2517
01:58:09,840 --> 01:58:12,239
that brings up the

2518
01:58:12,239 --> 01:58:14,480
that creates the container i'm

2519
01:58:14,480 --> 01:58:17,119
gonna give it a couple of seconds

2520
01:58:17,119 --> 01:58:19,280
we can just look at logs so i can look

2521
01:58:19,280 --> 01:58:23,280
at the logs now

2522
01:58:23,360 --> 01:58:25,360
i'm saying that it's well it seems to be

2523
01:58:25,360 --> 01:58:26,960
going it seems to be everything is fine

2524
01:58:26,960 --> 01:58:29,280
everything's working so let's now bring

2525
01:58:29,280 --> 01:58:31,760
up docker compose

2526
01:58:31,760 --> 01:58:33,760
force recreate

2527
01:58:33,760 --> 01:58:37,040
and hd current

2528
01:58:41,040 --> 01:58:43,280
and we can just do docker compose logs

2529
01:58:43,280 --> 01:58:45,440
actually logs

2530
01:58:45,440 --> 01:58:48,560
we just monitor the logs okay let's come

2531
01:58:48,560 --> 01:58:50,960
in here and let's refresh

2532
01:58:50,960 --> 01:58:55,760
what it forgot everything that's great

2533
01:58:56,880 --> 01:59:01,000
oh this is great okay

2534
01:59:03,760 --> 01:59:05,599
let me just go check the current the

2535
01:59:05,599 --> 01:59:07,440
current documentation while i'm at it

2536
01:59:07,440 --> 01:59:12,159
just in case i am messing something up

2537
01:59:14,800 --> 01:59:16,480
right so echo what did what did you not

2538
01:59:16,480 --> 01:59:18,080
understand about pickups while i'm at it

2539
01:59:18,080 --> 01:59:19,440
while i'm reading this what did you not

2540
01:59:19,440 --> 01:59:22,440
understand

2541
01:59:33,520 --> 01:59:35,760
uh maybe he's asking about pickups as

2542
01:59:35,760 --> 01:59:39,199
what is pcap files maybe so basically a

2543
01:59:39,199 --> 01:59:42,080
pickup file is just a file that has

2544
01:59:42,080 --> 01:59:43,360
the traffic

2545
01:59:43,360 --> 01:59:45,280
the network traffic for a certain

2546
01:59:45,280 --> 01:59:48,080
duration of time

2547
01:59:49,760 --> 01:59:51,920
oh what i added in the in the thank you

2548
01:59:51,920 --> 01:59:55,040
but what i added in the uh

2549
01:59:55,040 --> 01:59:57,199
yeah i just added a volume i just added

2550
01:59:57,199 --> 01:59:59,360
a volume a volume a docker a docker

2551
01:59:59,360 --> 02:00:02,000
volume so what i did is i created a

2552
02:00:02,000 --> 02:00:04,639
folder on the host that is mapped to a

2553
02:00:04,639 --> 02:00:06,719
folder inside the container

2554
02:00:06,719 --> 02:00:08,400
i'll run you through that step one more

2555
02:00:08,400 --> 02:00:11,040
time just once i get everything working

2556
02:00:11,040 --> 02:00:13,520
so let me grab the

2557
02:00:13,520 --> 02:00:14,719
uh

2558
02:00:14,719 --> 02:00:16,880
regex one more time

2559
02:00:16,880 --> 02:00:18,239
flag rejects

2560
02:00:18,239 --> 02:00:20,559
okay

2561
02:00:21,199 --> 02:00:23,280
i think this regix is what might have

2562
02:00:23,280 --> 02:00:26,480
broken things to be honest with you not

2563
02:00:26,480 --> 02:00:28,159
gonna lie

2564
02:00:28,159 --> 02:00:30,400
so i'm just gonna remove the slashes and

2565
02:00:30,400 --> 02:00:33,920
just keep this rejects like this

2566
02:00:34,719 --> 02:00:37,760
and again

2567
02:00:38,880 --> 02:00:40,800
an admin

2568
02:00:40,800 --> 02:00:42,400
i'm gonna turn off auth required you

2569
02:00:42,400 --> 02:00:44,080
know why not

2570
02:00:44,080 --> 02:00:47,199
let's just see what happens

2571
02:00:47,840 --> 02:00:49,920
okay so again let's try this one more

2572
02:00:49,920 --> 02:00:51,599
time so there should be slash

2573
02:00:51,599 --> 02:00:54,599
pcapslashcapture.png.com

2574
02:00:55,119 --> 02:00:57,280
process

2575
02:00:57,280 --> 02:00:58,239
okay

2576
02:00:58,239 --> 02:00:59,840
still nothing is coming out here but we

2577
02:00:59,840 --> 02:01:02,800
can come look here at

2578
02:01:02,800 --> 02:01:05,800
ports

2579
02:01:15,040 --> 02:01:16,800
there are no services here are the

2580
02:01:16,800 --> 02:01:18,960
statistics

2581
02:01:18,960 --> 02:01:21,199
zero connections zero client bytes your

2582
02:01:21,199 --> 02:01:23,839
total bytes

2583
02:01:24,400 --> 02:01:27,119
so even though it loaded

2584
02:01:27,119 --> 02:01:29,040
the even though it loaded the pickup

2585
02:01:29,040 --> 02:01:30,639
file

2586
02:01:30,639 --> 02:01:33,040
it's for some reason just not processing

2587
02:01:33,040 --> 02:01:34,560
them

2588
02:01:34,560 --> 02:01:37,760
and even if i upload the pcap right now

2589
02:01:37,760 --> 02:01:39,920
it thinks it's invalid

2590
02:01:39,920 --> 02:01:42,560
for some reason

2591
02:01:42,560 --> 02:01:43,840
and it's not about the fact that it's a

2592
02:01:43,840 --> 02:01:45,360
pcapp ng there's just something it

2593
02:01:45,360 --> 02:01:47,599
doesn't agree with

2594
02:01:47,599 --> 02:01:49,040
about my

2595
02:01:49,040 --> 02:01:51,280
pickup file

2596
02:01:51,280 --> 02:01:53,679
that is odd

2597
02:01:53,679 --> 02:01:56,080
i remember this worked in the rehearsal

2598
02:01:56,080 --> 02:01:56,960
right

2599
02:01:56,960 --> 02:01:58,960
yeah it was working and i i saw

2600
02:01:58,960 --> 02:02:01,360
everything on the

2601
02:02:01,360 --> 02:02:02,320
left

2602
02:02:02,320 --> 02:02:06,239
just uninstall it and install it again

2603
02:02:07,360 --> 02:02:10,799
that might be a good idea

2604
02:02:11,679 --> 02:02:14,080
can you see your docker compose for yeah

2605
02:02:14,080 --> 02:02:16,719
sure here it is

2606
02:02:16,719 --> 02:02:18,800
so again just volumes

2607
02:02:18,800 --> 02:02:21,199
just slash root slash p caps

2608
02:02:21,199 --> 02:02:23,360
and then slash p caps

2609
02:02:23,360 --> 02:02:26,960
should be perfectly fine

2610
02:02:26,960 --> 02:02:29,199
okay we're gonna redo this then uh one

2611
02:02:29,199 --> 02:02:31,440
more time so i'm gonna docker docker

2612
02:02:31,440 --> 02:02:35,280
compose down i'm just gonna remove this

2613
02:02:38,400 --> 02:02:40,639
yeah that's fair enough

2614
02:02:40,639 --> 02:02:42,639
i mean i mean i have worked with docker

2615
02:02:42,639 --> 02:02:44,639
for a very long time you can get used to

2616
02:02:44,639 --> 02:02:47,760
it all right so let's remove karante

2617
02:02:47,760 --> 02:02:49,360
let's let's restart on the steps shall

2618
02:02:49,360 --> 02:02:51,598
we

2619
02:02:52,639 --> 02:02:53,920
there are other things other than

2620
02:02:53,920 --> 02:02:55,280
currant by the way that do the same

2621
02:02:55,280 --> 02:02:57,040
exact thing there is if i remember

2622
02:02:57,040 --> 02:02:58,800
flower

2623
02:02:58,800 --> 02:03:02,239
flower also does the same thing

2624
02:03:03,040 --> 02:03:04,560
another service called flour but for now

2625
02:03:04,560 --> 02:03:06,239
we're just gonna set this up and hey

2626
02:03:06,239 --> 02:03:08,719
we're way under time anyway so we have

2627
02:03:08,719 --> 02:03:10,320
all the time in the world we can just

2628
02:03:10,320 --> 02:03:13,360
sit here and spend four hours trying to

2629
02:03:13,360 --> 02:03:16,480
make it work no problem

2630
02:03:19,360 --> 02:03:20,880
so let's try to make it work one more

2631
02:03:20,880 --> 02:03:23,679
time uh without the

2632
02:03:23,679 --> 02:03:25,920
um

2633
02:03:27,199 --> 02:03:29,040
without the volume let's just bring it

2634
02:03:29,040 --> 02:03:30,719
back up let's see if the volume was the

2635
02:03:30,719 --> 02:03:31,920
issue

2636
02:03:31,920 --> 02:03:32,960
okay

2637
02:03:32,960 --> 02:03:34,880
although i i doubt that that's not how

2638
02:03:34,880 --> 02:03:36,400
it's supposed to work

2639
02:03:36,400 --> 02:03:39,960
so server address

2640
02:03:42,800 --> 02:03:45,599
the ip address of the vulnerable machine

2641
02:03:45,599 --> 02:03:47,440
must be the destination address of all

2642
02:03:47,440 --> 02:03:49,360
connections in the pcapp

2643
02:03:49,360 --> 02:03:51,280
well if we open the pcap what is the

2644
02:03:51,280 --> 02:03:54,239
destination address

2645
02:03:54,239 --> 02:03:57,638
it's 10.60.100

2646
02:03:58,400 --> 02:03:59,800
so

2647
02:03:59,800 --> 02:04:02,560
10.60.103 there we go

2648
02:04:02,560 --> 02:04:04,159
let's see what was so hard about that

2649
02:04:04,159 --> 02:04:05,760
i'm going to leave flag regex off

2650
02:04:05,760 --> 02:04:06,880
actually

2651
02:04:06,880 --> 02:04:08,320
uh for now because i feel like there's

2652
02:04:08,320 --> 02:04:10,719
there might be an issue with the regex

2653
02:04:10,719 --> 02:04:13,599
and save oh okay it's complaining about

2654
02:04:13,599 --> 02:04:16,159
the regex

2655
02:04:17,119 --> 02:04:19,839
um

2656
02:04:19,920 --> 02:04:21,760
okay

2657
02:04:21,760 --> 02:04:24,000
i'm gonna do something for just a second

2658
02:04:24,000 --> 02:04:26,320
okay

2659
02:04:28,800 --> 02:04:32,320
there is an alternative here

2660
02:04:32,719 --> 02:04:34,239
you guys don't worry about this this is

2661
02:04:34,239 --> 02:04:36,239
more like day two material i am just

2662
02:04:36,239 --> 02:04:41,119
looking for one specific

2663
02:04:41,520 --> 02:04:43,760
thing

2664
02:04:43,840 --> 02:04:47,599
i'm actually suspecting the server ip

2665
02:04:47,599 --> 02:04:50,320
it should be maybe

2666
02:04:50,320 --> 02:04:51,599
the checker

2667
02:04:51,599 --> 02:04:54,320
the checker ip

2668
02:04:54,320 --> 02:04:56,480
because all the machines are nested to

2669
02:04:56,480 --> 02:04:58,638
it

2670
02:05:00,480 --> 02:05:02,639
it says it says right here that

2671
02:05:02,639 --> 02:05:04,480
it's the destination address of all

2672
02:05:04,480 --> 02:05:06,800
connections so the destination so they

2673
02:05:06,800 --> 02:05:08,400
are coming to us

2674
02:05:08,400 --> 02:05:10,880
other destination okay okay make sense

2675
02:05:10,880 --> 02:05:12,320
make sense yeah

2676
02:05:12,320 --> 02:05:15,199
all right so let's try this

2677
02:05:15,199 --> 02:05:17,760
okay uh in this case uh this is without

2678
02:05:17,760 --> 02:05:19,119
the volume i'm just gonna come compute

2679
02:05:19,119 --> 02:05:21,599
to the p caps and it gives you down here

2680
02:05:21,599 --> 02:05:23,840
the

2681
02:05:24,320 --> 02:05:25,920
ability to

2682
02:05:25,920 --> 02:05:28,960
to upload files uh via

2683
02:05:28,960 --> 02:05:29,920
you know

2684
02:05:29,920 --> 02:05:33,960
curl it gives you the curl command

2685
02:05:36,000 --> 02:05:37,599
so i want to take this i want to take

2686
02:05:37,599 --> 02:05:39,920
this actually

2687
02:05:39,920 --> 02:05:43,920
now let's try uploading a pickup

2688
02:05:43,920 --> 02:05:46,960
why are you like this

2689
02:05:49,360 --> 02:05:51,280
so for anybody else uh you guys you can

2690
02:05:51,280 --> 02:05:53,040
go ahead and capture your own pcaps and

2691
02:05:53,040 --> 02:05:54,639
try to upload them and let me know if

2692
02:05:54,639 --> 02:05:58,159
that's helping with anything

2693
02:05:59,280 --> 02:06:03,840
as for me i am going to

2694
02:06:05,199 --> 02:06:06,960
manually upload this so i'm just going

2695
02:06:06,960 --> 02:06:10,800
to copy this curl command that they give

2696
02:06:13,280 --> 02:06:17,239
and i'm going to

2697
02:06:18,159 --> 02:06:21,760
so this file i'm going to say file is

2698
02:06:21,760 --> 02:06:23,840
dot slash

2699
02:06:23,840 --> 02:06:24,960
it was

2700
02:06:24,960 --> 02:06:27,360
slash root slash

2701
02:06:27,360 --> 02:06:30,960
capture dot pcapp

2702
02:06:30,960 --> 02:06:35,119
there we go it supposedly did something

2703
02:06:36,239 --> 02:06:39,280
no still p caps

2704
02:06:39,280 --> 02:06:42,159
that didn't do anything

2705
02:06:43,520 --> 02:06:45,040
okay i'm still going to try the volumes

2706
02:06:45,040 --> 02:06:46,400
again because i know that the volumes

2707
02:06:46,400 --> 02:06:48,400
has nothing to do with it so let's go

2708
02:06:48,400 --> 02:06:50,079
docker compose

2709
02:06:50,079 --> 02:06:52,320
let's come here

2710
02:06:52,320 --> 02:06:53,760
and to

2711
02:06:53,760 --> 02:06:56,760
volumes

2712
02:06:58,719 --> 02:07:02,400
slash root slash p caps

2713
02:07:02,400 --> 02:07:05,040
is connected to slash p caps in the

2714
02:07:05,040 --> 02:07:06,320
container

2715
02:07:06,320 --> 02:07:08,159
maybe slash pickups is a bad folder so

2716
02:07:08,159 --> 02:07:10,320
i'm just gonna say slash

2717
02:07:10,320 --> 02:07:11,760
hitb

2718
02:07:11,760 --> 02:07:13,599
picaps

2719
02:07:13,599 --> 02:07:15,920
for example just something away

2720
02:07:15,920 --> 02:07:17,840
from everything

2721
02:07:17,840 --> 02:07:20,159
how do we submit flags

2722
02:07:20,159 --> 02:07:22,320
picaps does have a default folder in

2723
02:07:22,320 --> 02:07:23,199
there

2724
02:07:23,199 --> 02:07:25,199
aha i see so i might have been

2725
02:07:25,199 --> 02:07:26,800
overriding something

2726
02:07:26,800 --> 02:07:29,520
you get me so

2727
02:07:29,520 --> 02:07:31,119
i'll just leave it like that i'll leave

2728
02:07:31,119 --> 02:07:34,079
it like slash

2729
02:07:35,520 --> 02:07:37,679
yeah slash i tried to be slash pickups

2730
02:07:37,679 --> 02:07:39,040
inside the container so we don't

2731
02:07:39,040 --> 02:07:40,800
overwrite anything i might have over

2732
02:07:40,800 --> 02:07:42,320
overridden something so that's why it

2733
02:07:42,320 --> 02:07:43,599
was broken

2734
02:07:43,599 --> 02:07:44,719
i feel

2735
02:07:44,719 --> 02:07:47,199
so we'll do force recreate to recreate

2736
02:07:47,199 --> 02:07:48,960
the containers and

2737
02:07:48,960 --> 02:07:50,800
i think you would need to take it down

2738
02:07:50,800 --> 02:07:53,520
or it's fine like this no first recreate

2739
02:07:53,520 --> 02:07:56,639
will do the job it's okay

2740
02:08:01,360 --> 02:08:03,679
so uh

2741
02:08:03,679 --> 02:08:05,199
derek you're asking how to be submit

2742
02:08:05,199 --> 02:08:06,800
flags you will get to learn how we're

2743
02:08:06,800 --> 02:08:08,400
now we're gonna write exploits we're

2744
02:08:08,400 --> 02:08:10,480
gonna exploit them we're gonna you know

2745
02:08:10,480 --> 02:08:12,320
be stealing flags from all kinds of

2746
02:08:12,320 --> 02:08:15,280
teams uh tomorrow day two all that juicy

2747
02:08:15,280 --> 02:08:17,760
stuff happens uh tomorrow right for now

2748
02:08:17,760 --> 02:08:19,599
we're just focusing more on the the

2749
02:08:19,599 --> 02:08:21,920
defense aspect and tomorrow we're going

2750
02:08:21,920 --> 02:08:24,159
to teach you how to patch as well so

2751
02:08:24,159 --> 02:08:26,159
same same thing

2752
02:08:26,159 --> 02:08:28,159
all right so we have a pcaps folder so

2753
02:08:28,159 --> 02:08:30,719
inside the pcaps folder i am going to

2754
02:08:30,719 --> 02:08:33,119
well there's still capture.pcapp here

2755
02:08:33,119 --> 02:08:34,639
so

2756
02:08:34,639 --> 02:08:37,760
on this i should be able to do slash

2757
02:08:37,760 --> 02:08:39,360
hitb

2758
02:08:39,360 --> 02:08:40,639
come on

2759
02:08:40,639 --> 02:08:43,599
slash i try to be slash pcaps

2760
02:08:43,599 --> 02:08:47,199
slash capture dot pickup

2761
02:08:47,199 --> 02:08:49,119
and process

2762
02:08:49,119 --> 02:08:51,119
so it processed it again same exact

2763
02:08:51,119 --> 02:08:52,719
thing it's just

2764
02:08:52,719 --> 02:08:56,079
there's just nothing here

2765
02:08:56,960 --> 02:08:58,320
maybe you have to click on it or

2766
02:08:58,320 --> 02:09:00,320
something like click on the id or

2767
02:09:00,320 --> 02:09:03,440
something so that it pops up

2768
02:09:03,440 --> 02:09:05,199
no if i remember correctly you just

2769
02:09:05,199 --> 02:09:07,520
uploaded and it just

2770
02:09:07,520 --> 02:09:10,159
uh worked like so if i do let's search

2771
02:09:10,159 --> 02:09:12,239
for the word get for example

2772
02:09:12,239 --> 02:09:14,480
perform search

2773
02:09:14,480 --> 02:09:16,000
it's for some reason this thing that's

2774
02:09:16,000 --> 02:09:19,199
broken this interface on the left is

2775
02:09:19,199 --> 02:09:22,400
just not loading in

2776
02:09:25,119 --> 02:09:27,199
properly i wonder if they pushed an

2777
02:09:27,199 --> 02:09:29,440
update yesterday let's see

2778
02:09:29,440 --> 02:09:33,839
no 17 days ago so i can't blame them

2779
02:09:36,320 --> 02:09:37,599
is there a javascript error that's the

2780
02:09:37,599 --> 02:09:40,239
first thing that i came to to to check

2781
02:09:40,239 --> 02:09:42,079
if there if there's a javascript error

2782
02:09:42,079 --> 02:09:44,799
in the console

2783
02:09:45,440 --> 02:09:48,719
okay i think we might just um go ahead

2784
02:09:48,719 --> 02:09:52,239
and do it using wireshark

2785
02:09:52,239 --> 02:09:54,960
wireshark is very difficult to filter

2786
02:09:54,960 --> 02:09:55,760
though

2787
02:09:55,760 --> 02:09:58,560
um yeah yeah there is a special language

2788
02:09:58,560 --> 02:10:01,800
for faster

2789
02:10:04,159 --> 02:10:06,000
older version from github that's also a

2790
02:10:06,000 --> 02:10:08,560
good idea

2791
02:10:09,920 --> 02:10:12,639
maybe it's because we didn't put any

2792
02:10:12,639 --> 02:10:14,880
services although no although it doesn't

2793
02:10:14,880 --> 02:10:16,800
work like that

2794
02:10:16,800 --> 02:10:19,280
like if i if i put for example 80 and i

2795
02:10:19,280 --> 02:10:22,079
know it's nasa rasa

2796
02:10:22,079 --> 02:10:24,320
and i just give it like red

2797
02:10:24,320 --> 02:10:27,559
add service

2798
02:10:28,320 --> 02:10:30,960
there's nothing on the left here

2799
02:10:30,960 --> 02:10:34,800
see it's supposed to be all addresses

2800
02:10:37,599 --> 02:10:41,000
oh i think

2801
02:10:42,239 --> 02:10:44,159
is it actually the capture address that

2802
02:10:44,159 --> 02:10:46,320
might be uh that might be it actually i

2803
02:10:46,320 --> 02:10:48,719
think uh but i think you might be right

2804
02:10:48,719 --> 02:10:50,960
that it it might be this this capture

2805
02:10:50,960 --> 02:10:52,480
address right here

2806
02:10:52,480 --> 02:10:55,679
that doesn't make any sense though

2807
02:10:55,679 --> 02:10:56,400
so

2808
02:10:56,400 --> 02:10:58,079
so right now this is this p cap i'm

2809
02:10:58,079 --> 02:11:00,400
gonna download it one more time okay

2810
02:11:00,400 --> 02:11:02,719
so just bear with me okay

2811
02:11:02,719 --> 02:11:04,880
last last attempt and then just might

2812
02:11:04,880 --> 02:11:06,960
just keep up on it

2813
02:11:06,960 --> 02:11:08,719
um

2814
02:11:08,719 --> 02:11:10,320
this is this is a journey we are doing

2815
02:11:10,320 --> 02:11:12,719
together

2816
02:11:14,079 --> 02:11:16,320
let's just come here and

2817
02:11:16,320 --> 02:11:19,440
so i'm gonna download

2818
02:11:19,840 --> 02:11:22,480
the peak app one more time okay

2819
02:11:22,480 --> 02:11:24,400
so this is capture.pickup i'm

2820
02:11:24,400 --> 02:11:25,760
downloading it

2821
02:11:25,760 --> 02:11:26,560
okay

2822
02:11:26,560 --> 02:11:28,480
i downloaded it again it's called

2823
02:11:28,480 --> 02:11:29,920
capture one this time so we're gonna

2824
02:11:29,920 --> 02:11:32,320
open capture one

2825
02:11:32,320 --> 02:11:34,239
here let's just close this and open

2826
02:11:34,239 --> 02:11:38,360
capture one one more time

2827
02:11:40,159 --> 02:11:41,920
and we see that the destination ip

2828
02:11:41,920 --> 02:11:45,599
address is actually 10.60.1.3

2829
02:11:45,599 --> 02:11:51,320
which is what i don't understand at all

2830
02:11:53,280 --> 02:11:55,440
the entire thing is just

2831
02:11:55,440 --> 02:11:59,599
10.60 100.3 it's no other else

2832
02:11:59,599 --> 02:12:05,719
so did i type did i set it up wrong

2833
02:12:07,360 --> 02:12:09,199
what's the interface on the left code i

2834
02:12:09,199 --> 02:12:10,800
have no clue

2835
02:12:10,800 --> 02:12:12,480
this is just supposed to be like it's

2836
02:12:12,480 --> 02:12:14,159
it's supposed to like if we go to the

2837
02:12:14,159 --> 02:12:16,079
current github page

2838
02:12:16,079 --> 02:12:17,520
this is how it's supposed to look like

2839
02:12:17,520 --> 02:12:20,239
you see this it's supposed to show you

2840
02:12:20,239 --> 02:12:22,560
all these connections on the left and be

2841
02:12:22,560 --> 02:12:24,639
like oh this is someone who was leaving

2842
02:12:24,639 --> 02:12:26,400
this was someone stealing a flag this is

2843
02:12:26,400 --> 02:12:28,480
someone not stealing a flag

2844
02:12:28,480 --> 02:12:30,960
you get all this information

2845
02:12:30,960 --> 02:12:35,800
and it's just it's just not doing that

2846
02:12:36,320 --> 02:12:38,880
connections list

2847
02:12:38,880 --> 02:12:42,159
fair enough no issues are open

2848
02:12:42,159 --> 02:12:45,719
that is very odd

2849
02:12:49,920 --> 02:12:52,480
no worries

2850
02:12:57,920 --> 02:13:00,880
i i would say that um maybe maybe just

2851
02:13:00,880 --> 02:13:04,800
try to put the ip address of the

2852
02:13:04,800 --> 02:13:07,119
of the checker

2853
02:13:07,119 --> 02:13:10,079
like reset it again and do the volume

2854
02:13:10,079 --> 02:13:11,760
thingy correct from the beginning and

2855
02:13:11,760 --> 02:13:12,560
then

2856
02:13:12,560 --> 02:13:17,679
try to put the ip of the trigger

2857
02:13:17,679 --> 02:13:20,639
all right let's see then

2858
02:13:23,119 --> 02:13:26,480
statistics and it just says

2859
02:13:28,639 --> 02:13:30,079
well actually it doesn't make sense that

2860
02:13:30,079 --> 02:13:33,040
we put the chicken because uh

2861
02:13:33,040 --> 02:13:34,159
because

2862
02:13:34,159 --> 02:13:37,520
it will never it will never find the

2863
02:13:37,520 --> 02:13:41,199
ip address of the uh

2864
02:13:42,079 --> 02:13:45,079
checker

2865
02:13:47,840 --> 02:13:49,360
so what i'm going to do what i'm going

2866
02:13:49,360 --> 02:13:52,560
to do is is the following i am going to

2867
02:13:52,560 --> 02:13:53,840
come here

2868
02:13:53,840 --> 02:13:55,840
i'm going to kill this

2869
02:13:55,840 --> 02:13:57,679
i am

2870
02:13:57,679 --> 02:14:00,239
going to open the t-mux where i am just

2871
02:14:00,239 --> 02:14:02,799
creating

2872
02:14:04,400 --> 02:14:06,159
i think a double v i think i'm going to

2873
02:14:06,159 --> 02:14:08,079
do what what you're doing double vk with

2874
02:14:08,079 --> 02:14:09,360
what you're suggesting which is we're

2875
02:14:09,360 --> 02:14:10,880
going to

2876
02:14:10,880 --> 02:14:13,199
not do the uh

2877
02:14:13,199 --> 02:14:14,480
volumes

2878
02:14:14,480 --> 02:14:16,079
so i'm going to leave

2879
02:14:16,079 --> 02:14:18,159
i'm going to go to current and i'm going

2880
02:14:18,159 --> 02:14:20,159
to docker compose

2881
02:14:20,159 --> 02:14:22,000
and i'm going to remove the volumes so

2882
02:14:22,000 --> 02:14:24,079
i'm going to comment those out

2883
02:14:24,079 --> 02:14:26,079
even though i know for sure it should

2884
02:14:26,079 --> 02:14:29,599
work 100 like absolutely

2885
02:14:29,599 --> 02:14:32,000
um

2886
02:14:32,960 --> 02:14:34,400
no need for pseudo i'm just going to

2887
02:14:34,400 --> 02:14:36,880
docker compose up and force recreate the

2888
02:14:36,880 --> 02:14:40,159
two of them

2889
02:14:40,159 --> 02:14:43,199
and i'm going to leave the logs

2890
02:14:43,199 --> 02:14:46,159
you can use just docker copy yeah that's

2891
02:14:46,159 --> 02:14:47,679
that's what i'm saying what the reason

2892
02:14:47,679 --> 02:14:49,360
why i want to do a volume okay so i'm

2893
02:14:49,360 --> 02:14:50,320
going to tell you why i want to do a

2894
02:14:50,320 --> 02:14:52,079
volume is because it's going to get

2895
02:14:52,079 --> 02:14:54,400
tiring for you to upload

2896
02:14:54,400 --> 02:14:58,239
your pcaps manually every 60 seconds you

2897
02:14:58,239 --> 02:15:00,960
know every two minutes three minutes so

2898
02:15:00,960 --> 02:15:03,679
i wanted to run a command automatically

2899
02:15:03,679 --> 02:15:05,920
uh that just so i wanted to capture

2900
02:15:05,920 --> 02:15:07,920
pcaps put them directly inside the

2901
02:15:07,920 --> 02:15:10,880
container and upload them you know

2902
02:15:10,880 --> 02:15:13,440
automatically every 30 seconds using

2903
02:15:13,440 --> 02:15:15,360
some curl command or something

2904
02:15:15,360 --> 02:15:18,400
you get me so

2905
02:15:20,719 --> 02:15:23,840
i don't know why it's like this

2906
02:15:28,880 --> 02:15:31,360
multi-part upload let's just see how to

2907
02:15:31,360 --> 02:15:34,839
do curl movie

2908
02:15:40,000 --> 02:15:43,440
file file upload file i just want file

2909
02:15:43,440 --> 02:15:46,559
add file.text

2910
02:15:48,480 --> 02:15:50,239
cool okay so we're gonna try that

2911
02:15:50,239 --> 02:15:51,840
instead maybe we can access the

2912
02:15:51,840 --> 02:15:53,360
container to find out what happened that

2913
02:15:53,360 --> 02:15:55,040
is a good that is a good idea that is

2914
02:15:55,040 --> 02:15:57,040
also a good idea so right now everything

2915
02:15:57,040 --> 02:15:58,880
is running i'm going to refresh current

2916
02:15:58,880 --> 02:16:00,560
one more time

2917
02:16:00,560 --> 02:16:02,880
and

2918
02:16:03,440 --> 02:16:05,440
all right so i need to log i need to

2919
02:16:05,440 --> 02:16:07,760
reset current itself so i'm going to

2920
02:16:07,760 --> 02:16:09,040
kill this

2921
02:16:09,040 --> 02:16:11,599
and i'm going to force recreate

2922
02:16:11,599 --> 02:16:13,840
the

2923
02:16:13,840 --> 02:16:14,890
so i want you to

2924
02:16:14,890 --> 02:16:16,719
[Music]

2925
02:16:16,719 --> 02:16:20,560
i wanted to recreate the database

2926
02:16:20,560 --> 02:16:23,920
come on man just

2927
02:16:27,440 --> 02:16:28,480
all right

2928
02:16:28,480 --> 02:16:31,840
so knowing this i can now

2929
02:16:31,840 --> 02:16:35,200
bring up both containers

2930
02:16:35,280 --> 02:16:36,879
okay

2931
02:16:36,879 --> 02:16:38,879
this is going to be well okay it's not

2932
02:16:38,879 --> 02:16:42,318
reset for some reason

2933
02:16:44,879 --> 02:16:47,839
oh well

2934
02:16:50,799 --> 02:16:53,359
is there any request that isn't finished

2935
02:16:53,359 --> 02:16:55,760
isn't finishing

2936
02:16:55,760 --> 02:16:59,800
services rules

2937
02:17:00,318 --> 02:17:02,240
any console errors nothing absolutely

2938
02:17:02,240 --> 02:17:04,080
nothing okay so what we're going to do

2939
02:17:04,080 --> 02:17:06,478
right now is i'm going to ssh from

2940
02:17:06,478 --> 02:17:08,879
another from another terminal

2941
02:17:08,879 --> 02:17:12,398
i'm going to make this big as well

2942
02:17:13,120 --> 02:17:16,398
and i'm going to go in

2943
02:17:16,398 --> 02:17:19,280
to my pcaps folder

2944
02:17:19,280 --> 02:17:20,879
i'm going to stop calling it capture i'm

2945
02:17:20,879 --> 02:17:21,920
going to call it something else so i'm

2946
02:17:21,920 --> 02:17:24,718
going to run the tcp dump command again

2947
02:17:24,718 --> 02:17:27,760
so history grab tcp dump

2948
02:17:27,760 --> 02:17:29,200
let's just

2949
02:17:29,200 --> 02:17:30,959
just grab that oh my god it's in a

2950
02:17:30,959 --> 02:17:33,599
different terminal okay

2951
02:17:33,599 --> 02:17:35,679
so i pasted it in the chat earlier so

2952
02:17:35,679 --> 02:17:37,519
i'm just gonna grab that

2953
02:17:37,519 --> 02:17:40,000
actually i copied it

2954
02:17:40,000 --> 02:17:44,558
where is gcp dump there you are okay

2955
02:17:44,558 --> 02:17:46,558
so i'm going to come here and i'm going

2956
02:17:46,558 --> 02:17:47,280
to

2957
02:17:47,280 --> 02:17:51,280
here we go we're capturing ethernet one

2958
02:17:55,280 --> 02:17:56,879
and i'm actually going to remove the not

2959
02:17:56,879 --> 02:17:59,359
source net you know just in case

2960
02:17:59,359 --> 02:18:01,280
just just in case right now we're

2961
02:18:01,280 --> 02:18:03,280
capturing absolutely any traffic that's

2962
02:18:03,280 --> 02:18:05,840
hitting our vm regardless of where it's

2963
02:18:05,840 --> 02:18:08,398
coming from all right

2964
02:18:08,398 --> 02:18:09,760
i still want to write a folder that we

2965
02:18:09,760 --> 02:18:11,359
mounted doesn't appear on the container

2966
02:18:11,359 --> 02:18:13,599
it does actually it does successfully

2967
02:18:13,599 --> 02:18:15,280
it's just

2968
02:18:15,280 --> 02:18:17,200
not processing them properly this is

2969
02:18:17,200 --> 02:18:20,080
what i'm this is the error here

2970
02:18:20,080 --> 02:18:21,679
thank you so much echo for the command

2971
02:18:21,679 --> 02:18:23,200
i'm actually going to kill this and i'm

2972
02:18:23,200 --> 02:18:27,519
going to run this in a tmux session so

2973
02:18:27,679 --> 02:18:30,000
tmux if you don't know what tmax is or

2974
02:18:30,000 --> 02:18:32,000
tmux it lets you run

2975
02:18:32,000 --> 02:18:33,439
things

2976
02:18:33,439 --> 02:18:35,120
in the bat in the background which is

2977
02:18:35,120 --> 02:18:37,120
great

2978
02:18:37,120 --> 02:18:38,959
all right there we go so now i have

2979
02:18:38,959 --> 02:18:41,040
constantly oh i said i don't want to

2980
02:18:41,040 --> 02:18:43,040
call it tmux right i said i don't want

2981
02:18:43,040 --> 02:18:45,359
to call it capture.pickup i keep doing

2982
02:18:45,359 --> 02:18:46,160
that

2983
02:18:46,160 --> 02:18:48,638
i'm just going to call it

2984
02:18:48,638 --> 02:18:51,638
um

2985
02:18:52,240 --> 02:18:55,760
yummy packets don't pick up okay

2986
02:18:55,760 --> 02:18:57,280
there we go

2987
02:18:57,280 --> 02:18:58,959
no yummy packet sounds better maybe

2988
02:18:58,959 --> 02:19:02,160
maybe it will be happy now

2989
02:19:02,160 --> 02:19:03,439
if we do this

2990
02:19:03,439 --> 02:19:06,398
this will please it all right so

2991
02:19:06,398 --> 02:19:09,200
now we have to figure out how to upload

2992
02:19:09,200 --> 02:19:11,040
the pcaps

2993
02:19:11,040 --> 02:19:13,920
uh like this

2994
02:19:14,000 --> 02:19:17,599
so uh we're going to copy this this

2995
02:19:17,599 --> 02:19:19,439
curl command okay

2996
02:19:19,439 --> 02:19:22,318
and what we need to do is

2997
02:19:22,318 --> 02:19:24,799
we need to

2998
02:19:24,799 --> 02:19:27,120
come here and let's just make this curl

2999
02:19:27,120 --> 02:19:29,280
command a little bit normal

3000
02:19:29,280 --> 02:19:30,879
i don't know why it's like this and

3001
02:19:30,879 --> 02:19:32,478
we're not going to be posting to this ip

3002
02:19:32,478 --> 02:19:34,478
we're going to be posting to localhost

3003
02:19:34,478 --> 02:19:37,679
because this service is running locally

3004
02:19:37,679 --> 02:19:38,638
on

3005
02:19:38,638 --> 02:19:40,318
from our perspective

3006
02:19:40,318 --> 02:19:42,398
and the file we want to upload

3007
02:19:42,398 --> 02:19:45,200
is called

3008
02:19:45,200 --> 02:19:48,559
it's in slash root

3009
02:20:00,399 --> 02:20:03,840
oh yeah fair enough

3010
02:20:04,080 --> 02:20:05,920
yeah let's just do that actually instead

3011
02:20:05,920 --> 02:20:08,960
of we'll just do that that's a good idea

3012
02:20:08,960 --> 02:20:11,040
for one on unauthorized authorization

3013
02:20:11,040 --> 02:20:12,640
required okay we need to give it the

3014
02:20:12,640 --> 02:20:14,399
credentials

3015
02:20:14,399 --> 02:20:17,359
which i actually i have no clue how to

3016
02:20:17,359 --> 02:20:20,000
give it the credentials from here

3017
02:20:20,000 --> 02:20:21,600
um

3018
02:20:21,600 --> 02:20:22,880
you know what i'm actually gonna i'm

3019
02:20:22,880 --> 02:20:24,319
actually gonna uh i'll tell you

3020
02:20:24,319 --> 02:20:26,800
something i know how to get this done

3021
02:20:26,800 --> 02:20:29,600
so docker compose down we're gonna

3022
02:20:29,600 --> 02:20:32,399
kill the database

3023
02:20:32,640 --> 02:20:34,720
hello

3024
02:20:34,720 --> 02:20:35,920
just

3025
02:20:35,920 --> 02:20:37,840
kill okay tucker compose down kill

3026
02:20:37,840 --> 02:20:41,600
everything why are you like this

3027
02:20:42,319 --> 02:20:46,080
up monko let's just build

3028
02:20:46,080 --> 02:20:48,479
on go i'll force the database to have a

3029
02:20:48,479 --> 02:20:49,520
fresh

3030
02:20:49,520 --> 02:20:51,280
fresh new everything

3031
02:20:51,280 --> 02:20:55,120
and let's just bring everything up again

3032
02:20:55,120 --> 02:20:56,479
all right so i'm going to disable

3033
02:20:56,479 --> 02:20:58,960
authentication on this

3034
02:20:58,960 --> 02:21:01,080
so the server address is

3035
02:21:01,080 --> 02:21:03,280
10.60.100.3 there is no changing that

3036
02:21:03,280 --> 02:21:04,960
but i can give it a

3037
02:21:04,960 --> 02:21:07,680
a cidr so i'm going to do slash24

3038
02:21:07,680 --> 02:21:09,280
anything that's on this network i'm

3039
02:21:09,280 --> 02:21:10,640
going to

3040
02:21:10,640 --> 02:21:13,040
use the other flag dredgex that i had

3041
02:21:13,040 --> 02:21:15,200
earlier which is this this this better

3042
02:21:15,200 --> 02:21:16,160
one

3043
02:21:16,160 --> 02:21:18,319
and i'm going to disable authentication

3044
02:21:18,319 --> 02:21:20,000
okay which is probably a bad thing you

3045
02:21:20,000 --> 02:21:21,600
shouldn't do that you should kind of

3046
02:21:21,600 --> 02:21:23,120
figure out how to do it

3047
02:21:23,120 --> 02:21:25,120
but i think right now

3048
02:21:25,120 --> 02:21:28,399
i can now upload this via curl and it

3049
02:21:28,399 --> 02:21:31,840
says continue and it works so if i come

3050
02:21:31,840 --> 02:21:32,880
here now

3051
02:21:32,880 --> 02:21:34,720
i see that the pcap has been uploaded

3052
02:21:34,720 --> 02:21:37,280
and it has 909 packets

3053
02:21:37,280 --> 02:21:39,280
and everything is fine

3054
02:21:39,280 --> 02:21:41,760
it's still nothing is just popping up on

3055
02:21:41,760 --> 02:21:43,280
the left

3056
02:21:43,280 --> 02:21:46,399
there's absolutely nothing

3057
02:21:46,399 --> 02:21:49,039
let's see here

3058
02:21:49,840 --> 02:21:51,920
maybe we need some rules okay maybe we

3059
02:21:51,920 --> 02:21:53,600
need some roots so

3060
02:21:53,600 --> 02:21:57,120
let's call let's add a rule here called

3061
02:21:57,120 --> 02:22:00,080
get requests okay and i'm gonna call i'm

3062
02:22:00,080 --> 02:22:01,760
gonna make it green like this and i'm

3063
02:22:01,760 --> 02:22:03,920
gonna say this is get what is the regex

3064
02:22:03,920 --> 02:22:05,359
get

3065
02:22:05,359 --> 02:22:06,560
okay

3066
02:22:06,560 --> 02:22:10,000
and adron

3067
02:22:10,720 --> 02:22:11,840
what

3068
02:22:11,840 --> 02:22:14,800
what's happening here

3069
02:22:16,000 --> 02:22:19,439
just just get just

3070
02:22:20,080 --> 02:22:22,960
why is that so hard just the word get

3071
02:22:22,960 --> 02:22:26,560
can you put it between petitions

3072
02:22:26,560 --> 02:22:29,359
no i don't that's not how uh projects

3073
02:22:29,359 --> 02:22:32,000
works but

3074
02:22:33,439 --> 02:22:35,600
you know what capture capture absolutely

3075
02:22:35,600 --> 02:22:36,960
yeah i think it's get and then like this

3076
02:22:36,960 --> 02:22:39,040
which is like absolutely any amount of

3077
02:22:39,040 --> 02:22:41,840
what is happening

3078
02:22:42,000 --> 02:22:44,319
okay

3079
02:22:45,359 --> 02:22:46,720
i think you have to

3080
02:22:46,720 --> 02:22:50,399
to click on add on the right side oh

3081
02:22:50,399 --> 02:22:51,359
right

3082
02:22:51,359 --> 02:22:52,720
right right

3083
02:22:52,720 --> 02:22:54,960
there we go look that is so weird okay

3084
02:22:54,960 --> 02:22:56,399
add rule

3085
02:22:56,399 --> 02:22:58,800
all right

3086
02:22:58,960 --> 02:23:01,199
now

3087
02:23:02,800 --> 02:23:05,040
is this working i have no clue whether

3088
02:23:05,040 --> 02:23:07,840
this is working

3089
02:23:10,880 --> 02:23:12,479
so let's keep going let's keep going so

3090
02:23:12,479 --> 02:23:14,399
you guys i need you guys now to all go

3091
02:23:14,399 --> 02:23:16,560
interact with the service okay

3092
02:23:16,560 --> 02:23:19,200
do do do everything just like touch the

3093
02:23:19,200 --> 02:23:23,040
surface in every way possible

3094
02:23:23,040 --> 02:23:24,960
okay and i'm just gonna keep i'm gonna

3095
02:23:24,960 --> 02:23:27,359
keep so i'm gonna run this entire thing

3096
02:23:27,359 --> 02:23:29,200
in a watch so

3097
02:23:29,200 --> 02:23:30,720
i'm gonna do watch

3098
02:23:30,720 --> 02:23:32,160
okay so this is the scroll command i'm

3099
02:23:32,160 --> 02:23:34,080
going to add watch in front of it every

3100
02:23:34,080 --> 02:23:35,600
two seconds

3101
02:23:35,600 --> 02:23:38,240
it will

3102
02:23:38,240 --> 02:23:41,040
upload i think if i understood it will

3103
02:23:41,040 --> 02:23:45,240
it will run this entire command

3104
02:23:48,640 --> 02:23:50,880
okay

3105
02:23:53,760 --> 02:23:55,760
so let's keep going you guys are just

3106
02:23:55,760 --> 02:23:57,840
touching oh like

3107
02:23:57,840 --> 02:24:01,760
just like just messing with the service

3108
02:24:01,920 --> 02:24:05,359
and let's wait let's see

3109
02:24:10,560 --> 02:24:12,880
let's at least add some services i kind

3110
02:24:12,880 --> 02:24:14,399
of missed how you add the pickup file

3111
02:24:14,399 --> 02:24:15,760
yeah we'll we'll get to that don't worry

3112
02:24:15,760 --> 02:24:18,399
about that so i'm just going to add 80

3113
02:24:18,399 --> 02:24:21,920
nasa rasa and

3114
02:24:23,920 --> 02:24:27,359
now let's make this like blue

3115
02:24:27,359 --> 02:24:29,600
head surface

3116
02:24:29,600 --> 02:24:32,479
massage on port

3117
02:24:40,840 --> 02:24:43,520
80. i just i just want to check so this

3118
02:24:43,520 --> 02:24:45,600
this is uploading a new pcap file every

3119
02:24:45,600 --> 02:24:47,040
two seconds okay so i need you guys to

3120
02:24:47,040 --> 02:24:48,399
just go and like

3121
02:24:48,399 --> 02:24:51,840
mess with nasa rasa just

3122
02:24:52,160 --> 02:24:54,560
talk to talk to nasa okay just focus on

3123
02:24:54,560 --> 02:24:57,680
nasa just log in make accounts

3124
02:24:57,680 --> 02:25:01,000
live life

3125
02:25:11,840 --> 02:25:13,680
oh you guys are really you guys are just

3126
02:25:13,680 --> 02:25:15,439
really attacking this thing there is

3127
02:25:15,439 --> 02:25:18,479
nothing happening

3128
02:25:19,600 --> 02:25:21,760
let's try to search for the word get for

3129
02:25:21,760 --> 02:25:24,160
example

3130
02:25:24,160 --> 02:25:26,479
search

3131
02:25:28,880 --> 02:25:32,560
occurrences occurs only once

3132
02:25:34,880 --> 02:25:36,399
that is something weird happening with

3133
02:25:36,399 --> 02:25:39,359
this thing man

3134
02:25:39,359 --> 02:25:40,479
you know what let's actually let's

3135
02:25:40,479 --> 02:25:43,200
actually try to force around to finish

3136
02:25:43,200 --> 02:25:45,359
so i'm going to come and i'm also going

3137
02:25:45,359 --> 02:25:47,040
to log in here

3138
02:25:47,040 --> 02:25:48,479
and i'm actually going to turn off one

3139
02:25:48,479 --> 02:25:50,640
of my services because i know that the

3140
02:25:50,640 --> 02:25:52,960
check system should kind of should talk

3141
02:25:52,960 --> 02:25:56,240
to my surface once every 60 minutes

3142
02:25:56,240 --> 02:25:57,320
so let's go to

3143
02:25:57,320 --> 02:25:59,120
[Music]

3144
02:25:59,120 --> 02:26:00,160
slash

3145
02:26:00,160 --> 02:26:02,080
home

3146
02:26:02,080 --> 02:26:04,800
and i'm going to go to coffee pot and

3147
02:26:04,800 --> 02:26:05,840
i'm gonna

3148
02:26:05,840 --> 02:26:07,120
turn off

3149
02:26:07,120 --> 02:26:09,200
so docker compose

3150
02:26:09,200 --> 02:26:10,000
down

3151
02:26:10,000 --> 02:26:14,240
actually gonna kill coffee pot

3152
02:26:16,560 --> 02:26:17,920
just so that the check system is like

3153
02:26:17,920 --> 02:26:19,920
hey man one of your services kind of

3154
02:26:19,920 --> 02:26:20,800
down

3155
02:26:20,800 --> 02:26:23,759
do something about that

3156
02:26:29,200 --> 02:26:30,960
i think the issue is is that it's

3157
02:26:30,960 --> 02:26:33,439
genuinely not matching

3158
02:26:33,439 --> 02:26:34,960
any of

3159
02:26:34,960 --> 02:26:37,359
any of these rules you get me

3160
02:26:37,359 --> 02:26:39,600
like

3161
02:26:39,760 --> 02:26:42,479
you have to have a rule that matches

3162
02:26:42,479 --> 02:26:44,640
you need to have a rule that's matching

3163
02:26:44,640 --> 02:26:45,760
you get me

3164
02:26:45,760 --> 02:26:47,600
and it's that that's not that's not

3165
02:26:47,600 --> 02:26:50,600
happening

3166
02:27:06,720 --> 02:27:08,560
you guys can try to exploit actually so

3167
02:27:08,560 --> 02:27:12,399
let me let me try so go to 10 uh i think

3168
02:27:12,399 --> 02:27:15,280
on nasa rasa you can exploit like this i

3169
02:27:15,280 --> 02:27:17,200
think just go to users look at the

3170
02:27:17,200 --> 02:27:18,960
latest user

3171
02:27:18,960 --> 02:27:21,120
and

3172
02:27:21,120 --> 02:27:24,000
okay i'm gonna try to exploit myself

3173
02:27:24,000 --> 02:27:27,880
and let's just see what happens

3174
02:27:35,840 --> 02:27:37,600
and you go to my account and i see the

3175
02:27:37,600 --> 02:27:39,760
flag there is one flag

3176
02:27:39,760 --> 02:27:41,439
there you go tada

3177
02:27:41,439 --> 02:27:44,000
i look around i swear someone took the

3178
02:27:44,000 --> 02:27:47,000
flag

3179
02:27:58,160 --> 02:28:01,600
it's not detecting exploits

3180
02:28:02,080 --> 02:28:04,399
okay

3181
02:28:05,439 --> 02:28:08,880
that's uh that's a great idea

3182
02:28:08,960 --> 02:28:10,800
well i just attempted to exploit my

3183
02:28:10,800 --> 02:28:12,720
service like three times and if i go if

3184
02:28:12,720 --> 02:28:15,600
i go here to the check system

3185
02:28:15,600 --> 02:28:17,600
uh the check system should pretty much

3186
02:28:17,600 --> 02:28:21,600
see that orgs that my coffee pot is down

3187
02:28:21,600 --> 02:28:23,840
coffee pot for me is down

3188
02:28:23,840 --> 02:28:24,840
you

3189
02:28:24,840 --> 02:28:29,399
know that's what i don't get

3190
02:28:40,000 --> 02:28:41,840
okay so i think the issue the issue is

3191
02:28:41,840 --> 02:28:43,200
all right all right

3192
02:28:43,200 --> 02:28:45,359
i think i understand what the problem is

3193
02:28:45,359 --> 02:28:48,080
i think i got it

3194
02:28:52,560 --> 02:28:55,040
what's happening is that my regex i

3195
02:28:55,040 --> 02:28:57,600
think my regex isn't working the way

3196
02:28:57,600 --> 02:28:59,120
it's supposed to work

3197
02:28:59,120 --> 02:29:02,080
so if we go to

3198
02:29:04,080 --> 02:29:06,720
online just some regex

3199
02:29:06,720 --> 02:29:09,200
and we slap this in

3200
02:29:09,200 --> 02:29:14,080
and we take the flag that i saw earlier

3201
02:29:14,080 --> 02:29:16,000
uh and i put it in

3202
02:29:16,000 --> 02:29:17,840
well it does get matched

3203
02:29:17,840 --> 02:29:20,240
which is weird though so it really

3204
02:29:20,240 --> 02:29:22,800
really should

3205
02:29:22,800 --> 02:29:26,000
find find it

3206
02:29:26,000 --> 02:29:27,920
do these guys have an example for like a

3207
02:29:27,920 --> 02:29:31,200
regex for the flag

3208
02:29:31,520 --> 02:29:34,080
here we go

3209
02:29:34,240 --> 02:29:37,479
so az09

3210
02:29:40,080 --> 02:29:43,840
oh they they backslashed the parenthesis

3211
02:29:43,840 --> 02:29:46,080
look at that you see that

3212
02:29:46,080 --> 02:29:47,840
that's the problem

3213
02:29:47,840 --> 02:29:50,800
so the entire time this problem has been

3214
02:29:50,800 --> 02:29:54,319
the regex i think

3215
02:29:55,600 --> 02:29:58,640
that is actually very that is so dumb

3216
02:29:58,640 --> 02:29:59,600
okay

3217
02:29:59,600 --> 02:30:01,359
we're gonna do this we're gonna do this

3218
02:30:01,359 --> 02:30:04,560
again guys all right all right so i

3219
02:30:04,560 --> 02:30:06,479
think i think i properly properly

3220
02:30:06,479 --> 02:30:08,960
understood what happened here so

3221
02:30:08,960 --> 02:30:11,040
going back to everything we're going to

3222
02:30:11,040 --> 02:30:13,520
reset okay follow follow me closely this

3223
02:30:13,520 --> 02:30:16,640
time okay this is what we're going to do

3224
02:30:16,640 --> 02:30:20,560
i'm going to bring up coffee pot again

3225
02:30:24,080 --> 02:30:26,319
okay

3226
02:30:28,399 --> 02:30:31,760
yeah but we need to we need to escape

3227
02:30:31,760 --> 02:30:34,080
we need to escape the curly braces you

3228
02:30:34,080 --> 02:30:36,880
you get me like it has to be escaped

3229
02:30:36,880 --> 02:30:38,240
that's that's what i saw from the

3230
02:30:38,240 --> 02:30:40,399
screenshot you see in their screenshot

3231
02:30:40,399 --> 02:30:41,920
they're escaping

3232
02:30:41,920 --> 02:30:42,720
the

3233
02:30:42,720 --> 02:30:44,319
um

3234
02:30:44,319 --> 02:30:48,160
not this one this one they're escaping

3235
02:30:48,160 --> 02:30:48,960
the

3236
02:30:48,960 --> 02:30:51,679
curly brace

3237
02:30:53,760 --> 02:30:55,120
well we don't have curly braces in our

3238
02:30:55,120 --> 02:30:56,640
flag actually

3239
02:30:56,640 --> 02:30:58,240
so it wasn't the rejects the rejects

3240
02:30:58,240 --> 02:31:01,840
should work perfectly fine

3241
02:31:05,680 --> 02:31:07,359
tell you what i need everybody to follow

3242
02:31:07,359 --> 02:31:08,800
along with me all right we're gonna do

3243
02:31:08,800 --> 02:31:11,280
this one more time and i think i i need

3244
02:31:11,280 --> 02:31:14,000
everybody everybody to follow me to

3245
02:31:14,000 --> 02:31:15,680
follow along with me on this

3246
02:31:15,680 --> 02:31:19,280
all right here's what we're going to do

3247
02:31:20,160 --> 02:31:21,840
yeah well well i'm going to i'm going to

3248
02:31:21,840 --> 02:31:24,240
exploit you guys all right so for now go

3249
02:31:24,240 --> 02:31:26,319
to your current installation and just

3250
02:31:26,319 --> 02:31:29,200
kill it okay kill that thing all right

3251
02:31:29,200 --> 02:31:32,000
we don't want that

3252
02:31:32,080 --> 02:31:34,080
now we're going to re we're going to git

3253
02:31:34,080 --> 02:31:37,280
clone one more time right so everybody

3254
02:31:37,280 --> 02:31:39,200
go and you

3255
02:31:39,200 --> 02:31:41,600
get clone

3256
02:31:41,600 --> 02:31:44,160
current okay download command and clone

3257
02:31:44,160 --> 02:31:46,479
it in all right

3258
02:31:46,479 --> 02:31:48,160
once you're in go into the current

3259
02:31:48,160 --> 02:31:50,640
folder to docker compose

3260
02:31:50,640 --> 02:31:52,399
okay i'm gonna do docker compose down

3261
02:31:52,399 --> 02:31:53,760
i'm gonna do down because i think mine

3262
02:31:53,760 --> 02:31:56,080
are still running and then i'm going to

3263
02:31:56,080 --> 02:31:56,960
do

3264
02:31:56,960 --> 02:31:59,520
up dash dash build

3265
02:31:59,520 --> 02:32:01,840
force

3266
02:32:03,359 --> 02:32:04,640
recreate

3267
02:32:04,640 --> 02:32:06,720
just just to make sure that nothing is

3268
02:32:06,720 --> 02:32:08,640
happening these are fresh containers

3269
02:32:08,640 --> 02:32:10,479
right out of the bat you can add dash d

3270
02:32:10,479 --> 02:32:12,640
if you want to now i need everybody to

3271
02:32:12,640 --> 02:32:15,840
verify that you guys have current set up

3272
02:32:15,840 --> 02:32:18,000
as you're looking at this page same as

3273
02:32:18,000 --> 02:32:20,160
me

3274
02:32:20,319 --> 02:32:24,439
okay everybody here

3275
02:32:29,040 --> 02:32:30,240
let me know when you guys are here on

3276
02:32:30,240 --> 02:32:31,760
this page at least i'll wait for you

3277
02:32:31,760 --> 02:32:34,760
guys

3278
02:32:40,000 --> 02:32:42,960
the recreate command it's like this

3279
02:32:42,960 --> 02:32:45,359
so you're doing docker compose up dash

3280
02:32:45,359 --> 02:32:49,359
dash build dash dash force recreate

3281
02:32:49,359 --> 02:32:52,560
okay you're bringing carrot up making

3282
02:32:52,560 --> 02:32:55,280
sure that it's you know

3283
02:32:55,280 --> 02:33:00,840
fresh fresh service okay all good

3284
02:33:18,399 --> 02:33:19,439
and now

3285
02:33:19,439 --> 02:33:21,680
the flag we're going to use the flag

3286
02:33:21,680 --> 02:33:24,319
regex we're going to use

3287
02:33:24,319 --> 02:33:25,920
is the one that they supplied us

3288
02:33:25,920 --> 02:33:30,399
directly which is this this backslash w

3289
02:33:30,399 --> 02:33:32,640
31 okay

3290
02:33:32,640 --> 02:33:35,120
the server address server address needs

3291
02:33:35,120 --> 02:33:36,000
to be

3292
02:33:36,000 --> 02:33:39,200
your own address okay your your vm

3293
02:33:39,200 --> 02:33:42,560
address so 10.60

3294
02:33:42,560 --> 02:33:45,680
dot your team number find out what that

3295
02:33:45,680 --> 02:33:47,200
is

3296
02:33:47,200 --> 02:33:48,399
and then dot

3297
02:33:48,399 --> 02:33:50,080
three

3298
02:33:50,080 --> 02:33:51,520
okay

3299
02:33:51,520 --> 02:33:53,359
what was the last command i will show

3300
02:33:53,359 --> 02:33:55,439
you what the last command was

3301
02:33:55,439 --> 02:33:58,160
it's this docker compose up build

3302
02:33:58,160 --> 02:34:00,000
i'll just paste it in here okay once you

3303
02:34:00,000 --> 02:34:02,880
go inside the current folder uh run that

3304
02:34:02,880 --> 02:34:04,720
up right write that up actually hold on

3305
02:34:04,720 --> 02:34:06,240
one second

3306
02:34:06,240 --> 02:34:08,720
like that

3307
02:34:09,920 --> 02:34:12,000
all right so you guys have your server

3308
02:34:12,000 --> 02:34:13,840
addresses up

3309
02:34:13,840 --> 02:34:15,600
and you guys have your server address

3310
02:34:15,600 --> 02:34:17,920
put in properly your flag dredgex don't

3311
02:34:17,920 --> 02:34:20,080
set up authentication just yet okay

3312
02:34:20,080 --> 02:34:21,600
leave authentication empty don't worry

3313
02:34:21,600 --> 02:34:25,920
this is just training and save

3314
02:34:26,000 --> 02:34:27,439
what

3315
02:34:27,439 --> 02:34:31,680
flagratrix length less than eight

3316
02:34:31,680 --> 02:34:33,840
okay here's what i'm going to do i am

3317
02:34:33,840 --> 02:34:37,840
going to take this new rejects here

3318
02:34:37,840 --> 02:34:40,160
okay

3319
02:34:40,640 --> 02:34:44,560
and i'm going to put it here

3320
02:34:44,560 --> 02:34:48,640
okay and i'm going to say save

3321
02:34:48,640 --> 02:34:50,399
there we go we're in

3322
02:34:50,399 --> 02:34:52,720
okay

3323
02:34:56,399 --> 02:34:58,640
oh it added those slashes for us we

3324
02:34:58,640 --> 02:35:01,840
don't want those slashes

3325
02:35:01,840 --> 02:35:06,319
that is a problem me no want slash

3326
02:35:07,520 --> 02:35:09,359
do they have those slashes as well and

3327
02:35:09,359 --> 02:35:11,520
they're rejects no they don't

3328
02:35:11,520 --> 02:35:13,200
okay i'm gonna do something here i'm

3329
02:35:13,200 --> 02:35:15,439
gonna do something just extra here where

3330
02:35:15,439 --> 02:35:18,080
i'm going to

3331
02:35:21,040 --> 02:35:24,880
we want to update the rule how do i

3332
02:35:24,880 --> 02:35:27,359
do that

3333
02:35:27,359 --> 02:35:28,640
all right i'm going to create a rule

3334
02:35:28,640 --> 02:35:30,080
called alt

3335
02:35:30,080 --> 02:35:31,200
flag

3336
02:35:31,200 --> 02:35:32,560
in

3337
02:35:32,560 --> 02:35:35,040
out flag okay i'm just going to make it

3338
02:35:35,040 --> 02:35:36,880
like an orange color

3339
02:35:36,880 --> 02:35:41,160
the regex is like this

3340
02:35:42,960 --> 02:35:44,479
and

3341
02:35:44,479 --> 02:35:46,000
utf-8

3342
02:35:46,000 --> 02:35:49,120
and there we go add

3343
02:35:49,120 --> 02:35:50,080
and

3344
02:35:50,080 --> 02:35:52,720
add rule okay

3345
02:35:52,720 --> 02:35:54,880
that's just oh it adds the slash anyway

3346
02:35:54,880 --> 02:35:56,720
okay all right all right all right so

3347
02:35:56,720 --> 02:35:58,240
there's no point this i'm just gonna

3348
02:35:58,240 --> 02:36:00,800
delete how can i delete this rule

3349
02:36:00,800 --> 02:36:02,479
delete

3350
02:36:02,479 --> 02:36:06,160
okay i can't really delete rules

3351
02:36:06,720 --> 02:36:09,280
uh yeah the the this look this even when

3352
02:36:09,280 --> 02:36:11,200
the training is done right now until

3353
02:36:11,200 --> 02:36:13,200
tomorrow even after tomorrow this will

3354
02:36:13,200 --> 02:36:15,280
be open you guys can set up quarant you

3355
02:36:15,280 --> 02:36:17,760
guys can try to set up flower i wanted

3356
02:36:17,760 --> 02:36:19,280
to set up flower

3357
02:36:19,280 --> 02:36:23,680
uh but it it didn't really uh work

3358
02:36:23,680 --> 02:36:26,560
uh this one flower for adctf you guys

3359
02:36:26,560 --> 02:36:28,560
can go ahead and try to set that that

3360
02:36:28,560 --> 02:36:30,000
one up instead

3361
02:36:30,000 --> 02:36:32,399
uh good luck it is much harder than

3362
02:36:32,399 --> 02:36:34,319
quran

3363
02:36:34,319 --> 02:36:35,920
but let's just try to get this working

3364
02:36:35,920 --> 02:36:38,160
okay

3365
02:36:40,240 --> 02:36:41,840
so i'm going to set up the services i'm

3366
02:36:41,840 --> 02:36:43,040
going to do everything okay i'm going to

3367
02:36:43,040 --> 02:36:45,520
set up the services so port 80 is nasa

3368
02:36:45,520 --> 02:36:47,600
rasa

3369
02:36:47,600 --> 02:36:51,040
okay colored i said colored

3370
02:36:51,040 --> 02:36:54,000
some color some dark shade of green okay

3371
02:36:54,000 --> 02:36:56,560
then we said port 8080

3372
02:36:56,560 --> 02:36:58,319
was

3373
02:36:58,319 --> 02:37:01,600
if i remember correctly

3374
02:37:02,840 --> 02:37:04,399
uh

3375
02:37:04,399 --> 02:37:06,080
okay i'm just gonna put three two five

3376
02:37:06,080 --> 02:37:08,399
three two five five three two five five

3377
02:37:08,399 --> 02:37:10,000
is coffee

3378
02:37:10,000 --> 02:37:11,359
pot

3379
02:37:11,359 --> 02:37:12,319
right

3380
02:37:12,319 --> 02:37:14,319
i need all of you guys to to be with me

3381
02:37:14,319 --> 02:37:16,640
on this

3382
02:37:17,120 --> 02:37:19,840
and

3383
02:37:20,560 --> 02:37:21,840
8080

3384
02:37:21,840 --> 02:37:24,720
health monitor

3385
02:37:24,720 --> 02:37:26,399
you get any color you want i'm just

3386
02:37:26,399 --> 02:37:28,720
going to make it this blue

3387
02:37:28,720 --> 02:37:32,479
the last one is port 8000 which is free

3388
02:37:32,479 --> 02:37:33,680
life

3389
02:37:33,680 --> 02:37:35,920
and i'm gonna color it this sort of

3390
02:37:35,920 --> 02:37:37,280
olive

3391
02:37:37,280 --> 02:37:38,720
color

3392
02:37:38,720 --> 02:37:41,280
all right i also have mysql running on

3393
02:37:41,280 --> 02:37:45,040
3306 so mysql

3394
02:37:45,040 --> 02:37:48,720
color i'm gonna call it this purple

3395
02:37:48,720 --> 02:37:49,600
okay

3396
02:37:49,600 --> 02:37:51,439
there we go that's all the services

3397
02:37:51,439 --> 02:37:54,399
these are the rules

3398
02:37:57,120 --> 02:38:00,160
and now it's finally time for our pcaps

3399
02:38:00,160 --> 02:38:02,000
so what are we gonna do i want all of

3400
02:38:02,000 --> 02:38:03,280
you guys

3401
02:38:03,280 --> 02:38:04,160
to

3402
02:38:04,160 --> 02:38:06,640
open a terminal okay

3403
02:38:06,640 --> 02:38:08,399
and i need all of you guys to do this

3404
02:38:08,399 --> 02:38:09,280
okay

3405
02:38:09,280 --> 02:38:11,680
and we are going to run a packet capture

3406
02:38:11,680 --> 02:38:13,359
okay we're gonna call it we're gonna run

3407
02:38:13,359 --> 02:38:15,200
our packet capture right now

3408
02:38:15,200 --> 02:38:18,319
okay so i'm gonna remove everything here

3409
02:38:18,319 --> 02:38:19,280
okay

3410
02:38:19,280 --> 02:38:22,160
run a clean packet capture

3411
02:38:22,160 --> 02:38:24,800
on any port that you guys want

3412
02:38:24,800 --> 02:38:26,880
actually run it on on all the ports like

3413
02:38:26,880 --> 02:38:28,160
this i'm going to give you this command

3414
02:38:28,160 --> 02:38:29,840
right here

3415
02:38:29,840 --> 02:38:31,600
i'm going to call it

3416
02:38:31,600 --> 02:38:34,399
carrant test okay

3417
02:38:34,399 --> 02:38:37,279
i'll take all this

3418
02:38:38,399 --> 02:38:41,359
like this okay

3419
02:38:41,359 --> 02:38:44,319
and you guys run exactly this command

3420
02:38:44,319 --> 02:38:46,880
right so i'm gonna run

3421
02:38:46,880 --> 02:38:48,720
and so what i'm gonna do right now what

3422
02:38:48,720 --> 02:38:51,599
i'm going to do right now

3423
02:38:51,920 --> 02:38:53,040
is i'm going to try to do something

3424
02:38:53,040 --> 02:38:54,399
really quick

3425
02:38:54,399 --> 02:38:57,680
is i'm going to try to randomly start

3426
02:38:57,680 --> 02:39:00,960
exploiting some of the teams okay i have

3427
02:39:00,960 --> 02:39:02,960
i have pre-written exploits right here

3428
02:39:02,960 --> 02:39:06,240
i'm going to try to

3429
02:39:06,240 --> 02:39:08,240
get them

3430
02:39:08,240 --> 02:39:10,399
running okay

3431
02:39:10,399 --> 02:39:10,760
um

3432
02:39:10,760 --> 02:39:12,399
[Music]

3433
02:39:12,399 --> 02:39:14,319
let's see here

3434
02:39:14,319 --> 02:39:16,720
let's let's run some the nasa rasa

3435
02:39:16,720 --> 02:39:19,520
exploit okay

3436
02:39:19,520 --> 02:39:21,600
uh i'm going to start exploiting just

3437
02:39:21,600 --> 02:39:25,200
just in random order okay uh let's start

3438
02:39:25,200 --> 02:39:27,920
with team 53 for example

3439
02:39:27,920 --> 02:39:30,240
okay

3440
02:39:30,640 --> 02:39:33,439
let's run that

3441
02:39:36,840 --> 02:39:40,319
that's taking a long time and it broke

3442
02:39:40,319 --> 02:39:41,760
okay

3443
02:39:41,760 --> 02:39:43,439
service looks down

3444
02:39:43,439 --> 02:39:45,280
uh i'm going to

3445
02:39:45,280 --> 02:39:48,000
attack myself

3446
02:39:48,000 --> 02:39:49,920
and i stole a flag from myself i'm going

3447
02:39:49,920 --> 02:39:51,280
to attack

3448
02:39:51,280 --> 02:39:54,000
another orc i stole a flag from them i'm

3449
02:39:54,000 --> 02:39:55,680
gonna attack can you guys give me your

3450
02:39:55,680 --> 02:39:58,319
team ids anybody here with karon set up

3451
02:39:58,319 --> 02:40:00,240
just give me your team ids

3452
02:40:00,240 --> 02:40:04,000
all right so 45 let's go 45

3453
02:40:04,000 --> 02:40:07,520
flag stolen let's go 32.

3454
02:40:07,520 --> 02:40:11,359
it's like stolen 18.

3455
02:40:13,920 --> 02:40:15,680
pretty okay there are people all over

3456
02:40:15,680 --> 02:40:17,520
the place uh

3457
02:40:17,520 --> 02:40:20,520
16.

3458
02:40:20,880 --> 02:40:23,279
eight ah soft attic don't worry about it

3459
02:40:23,279 --> 02:40:25,120
i'm just uh this is all just for

3460
02:40:25,120 --> 02:40:27,040
training you know i just want

3461
02:40:27,040 --> 02:40:29,760
i wanna see what happens team 12

3462
02:40:29,760 --> 02:40:34,240
three flags everybody's like free flags

3463
02:40:34,240 --> 02:40:36,240
oh someone actually told me 100 which is

3464
02:40:36,240 --> 02:40:38,560
me i got i exploited myself again for

3465
02:40:38,560 --> 02:40:40,560
the second time

3466
02:40:40,560 --> 02:40:42,640
i actually didn't didn't pay attention

3467
02:40:42,640 --> 02:40:44,319
to that

3468
02:40:44,319 --> 02:40:45,840
so i think i got i think i think i got

3469
02:40:45,840 --> 02:40:49,399
everybody 32

3470
02:40:50,560 --> 02:40:52,640
okay so

3471
02:40:52,640 --> 02:40:55,439
uh these these didn't these yeah i know

3472
02:40:55,439 --> 02:40:58,720
for i in range so these these didn't i

3473
02:40:58,720 --> 02:41:00,560
didn't submit these facts okay maybe

3474
02:41:00,560 --> 02:41:02,240
some of you just started submitting

3475
02:41:02,240 --> 02:41:04,080
flags for those of you who know how to

3476
02:41:04,080 --> 02:41:05,359
submit flags but i didn't tell you how

3477
02:41:05,359 --> 02:41:07,359
to submit flags yet so i didn't actually

3478
02:41:07,359 --> 02:41:09,920
submit those flags i just stole them

3479
02:41:09,920 --> 02:41:12,479
okay so you were all running

3480
02:41:12,479 --> 02:41:14,720
packet captures so i need you to stop

3481
02:41:14,720 --> 02:41:17,279
the packet captures now okay stop the

3482
02:41:17,279 --> 02:41:20,080
packet couches

3483
02:41:20,080 --> 02:41:22,640
and we're gonna try to upload

3484
02:41:22,640 --> 02:41:24,960
these packet captures right now to

3485
02:41:24,960 --> 02:41:26,640
current

3486
02:41:26,640 --> 02:41:27,600
okay

3487
02:41:27,600 --> 02:41:29,279
you'll learn the exploit tomorrow it's a

3488
02:41:29,279 --> 02:41:31,040
very simple exploit

3489
02:41:31,040 --> 02:41:33,680
especially the nasa one so i am now

3490
02:41:33,680 --> 02:41:36,000
going to go into that folder where

3491
02:41:36,000 --> 02:41:38,880
the pcaps are and i'm going to run

3492
02:41:38,880 --> 02:41:40,399
the curl command

3493
02:41:40,399 --> 02:41:44,039
that lets me

3494
02:41:44,399 --> 02:41:46,160
no it's it's not it's the exploit for

3495
02:41:46,160 --> 02:41:48,319
this one is not complicated the some

3496
02:41:48,319 --> 02:41:50,240
exploits in the other services are a bit

3497
02:41:50,240 --> 02:41:51,920
tough and require a lot of thinking but

3498
02:41:51,920 --> 02:41:53,120
the ones i'm going to explain i'm going

3499
02:41:53,120 --> 02:41:54,560
to try to give you the best advice

3500
02:41:54,560 --> 02:41:56,560
tomorrow how to find vulnerabilities

3501
02:41:56,560 --> 02:41:58,080
really easily all right don't worry

3502
02:41:58,080 --> 02:42:00,160
about that so i need you guys all to run

3503
02:42:00,160 --> 02:42:02,240
the following command okay so assuming

3504
02:42:02,240 --> 02:42:04,800
you called it the same thing i told you

3505
02:42:04,800 --> 02:42:06,160
to

3506
02:42:06,160 --> 02:42:07,040
call

3507
02:42:07,040 --> 02:42:09,840
the file if you you called it current

3508
02:42:09,840 --> 02:42:12,240
underscore test so you can just call

3509
02:42:12,240 --> 02:42:14,240
current test like this

3510
02:42:14,240 --> 02:42:15,840
okay and you uploaded it so i'm just

3511
02:42:15,840 --> 02:42:17,439
going to take this and i'm going to give

3512
02:42:17,439 --> 02:42:19,760
you the guys these curl commands

3513
02:42:19,760 --> 02:42:20,560
nope

3514
02:42:20,560 --> 02:42:24,119
not here

3515
02:42:26,399 --> 02:42:28,479
so here you go

3516
02:42:28,479 --> 02:42:30,479
these are this is the curl command you

3517
02:42:30,479 --> 02:42:31,760
guys should run

3518
02:42:31,760 --> 02:42:35,040
okay so i got i i had a peak app that

3519
02:42:35,040 --> 02:42:35,760
was

3520
02:42:35,760 --> 02:42:37,120
i was

3521
02:42:37,120 --> 02:42:38,640
uploaded right now

3522
02:42:38,640 --> 02:42:40,800
and it got processed processed in the

3523
02:42:40,800 --> 02:42:42,080
service

3524
02:42:42,080 --> 02:42:45,439
and i see nothing on the left

3525
02:42:45,439 --> 02:42:48,560
does everybody else share share this sad

3526
02:42:48,560 --> 02:42:51,560
fate

3527
02:43:15,279 --> 02:43:19,439
is any anybody else's is

3528
02:43:20,640 --> 02:43:25,319
side empty display on the side

3529
02:43:42,160 --> 02:43:44,960
so if you guys see anything on the left

3530
02:43:44,960 --> 02:43:46,640
if you guys see any packets here

3531
02:43:46,640 --> 02:43:48,640
highlighted on the left let me know say

3532
02:43:48,640 --> 02:43:52,479
something in the chat say that you see

3533
02:44:02,960 --> 02:44:04,960
mt2

3534
02:44:04,960 --> 02:44:06,240
all right i'm gonna go into the

3535
02:44:06,240 --> 02:44:07,920
container

3536
02:44:07,920 --> 02:44:11,399
see what's happening

3537
02:44:31,840 --> 02:44:33,920
you got 1.5 mb

3538
02:44:33,920 --> 02:44:37,080
of pickups

3539
02:45:02,000 --> 02:45:06,240
i'm trying to upload this manually

3540
02:45:07,520 --> 02:45:11,319
pcap already processed

3541
02:45:32,880 --> 02:45:34,960
it's not it's not just that my issue is

3542
02:45:34,960 --> 02:45:37,200
that it's just it's not doing anything

3543
02:45:37,200 --> 02:45:41,880
you get me my issue is that

3544
02:45:45,040 --> 02:45:47,200
is that is that it's it's it's not

3545
02:45:47,200 --> 02:45:52,040
showing any packets you get me

3546
02:46:07,359 --> 02:46:11,439
so i think this one right here

3547
02:46:11,439 --> 02:46:14,479
should be stream

3548
02:46:19,040 --> 02:46:23,240
and then if we go

3549
02:46:24,399 --> 02:46:27,840
if we go next oh actually

3550
02:46:27,840 --> 02:46:30,319
hold on because i exploited myself right

3551
02:46:30,319 --> 02:46:32,560
so i i should be able to see my own flag

3552
02:46:32,560 --> 02:46:36,039
that's what i'm saying

3553
02:46:54,399 --> 02:46:56,640
why is it not

3554
02:46:56,640 --> 02:46:59,120
why is it not uh i'm trying to find i i

3555
02:46:59,120 --> 02:47:02,720
swear i'm just trying to find the uh

3556
02:47:02,720 --> 02:47:03,760
the

3557
02:47:03,760 --> 02:47:08,479
where the exploit kicked in because

3558
02:47:13,520 --> 02:47:16,000
because i signed in

3559
02:47:16,000 --> 02:47:18,720
right and that's how you sign in

3560
02:47:18,720 --> 02:47:21,840
and then

3561
02:47:23,120 --> 02:47:26,399
that's it i should have gotten the uh

3562
02:47:26,399 --> 02:47:28,000
the response is not here that's the

3563
02:47:28,000 --> 02:47:29,359
problem

3564
02:47:29,359 --> 02:47:31,840
oh that is the problem why is the

3565
02:47:31,840 --> 02:47:35,800
response not here

3566
02:47:38,319 --> 02:47:40,960
oh i think i see the issue oh you guys

3567
02:47:40,960 --> 02:47:42,560
are not gonna believe this

3568
02:47:42,560 --> 02:47:43,840
okay

3569
02:47:43,840 --> 02:47:45,600
can you guys guess

3570
02:47:45,600 --> 02:47:48,479
what the problem is this entire time can

3571
02:47:48,479 --> 02:47:52,080
you guys guess what the problem was

3572
02:47:56,479 --> 02:47:59,120
that's that's correct do you guys not

3573
02:47:59,120 --> 02:48:00,840
notice that the

3574
02:48:00,840 --> 02:48:02,479
responses

3575
02:48:02,479 --> 02:48:06,560
are not included in the pickup

3576
02:48:08,479 --> 02:48:10,640
filtering was for the destination port

3577
02:48:10,640 --> 02:48:11,760
only

3578
02:48:11,760 --> 02:48:13,920
so the pcaps

3579
02:48:13,920 --> 02:48:17,840
don't contain the response

3580
02:48:19,359 --> 02:48:20,960
oh my god i can't believe it was

3581
02:48:20,960 --> 02:48:22,560
something that oh my god we wasted so

3582
02:48:22,560 --> 02:48:25,359
much time on just

3583
02:48:28,800 --> 02:48:33,199
my heart my heart my heart hurts

3584
02:48:35,920 --> 02:48:38,240
uh it had to be not the sd board it had

3585
02:48:38,240 --> 02:48:39,760
to be port

3586
02:48:39,760 --> 02:48:41,600
port

3587
02:48:41,600 --> 02:48:43,760
okay now now i want to

3588
02:48:43,760 --> 02:48:46,560
now i want to try something can you guys

3589
02:48:46,560 --> 02:48:48,000
can you guys start talking to the

3590
02:48:48,000 --> 02:48:51,479
service now

3591
02:48:58,000 --> 02:49:00,720
this is gonna be so stupid if it works

3592
02:49:00,720 --> 02:49:03,040
i swear if i start seeing oh my god if i

3593
02:49:03,040 --> 02:49:04,880
start saying oh

3594
02:49:04,880 --> 02:49:06,240
pain

3595
02:49:06,240 --> 02:49:10,240
pain so much pain oh it works

3596
02:49:10,560 --> 02:49:13,840
it works

3597
02:49:14,640 --> 02:49:17,500
oh god damn okay so now

3598
02:49:17,500 --> 02:49:21,170
[Laughter]

3599
02:49:21,359 --> 02:49:24,319
all right so things

3600
02:49:24,319 --> 02:49:27,760
so we can finally finally finally

3601
02:49:27,760 --> 02:49:29,600
do things the way they're supposed to be

3602
02:49:29,600 --> 02:49:32,080
doing so let me let me tell you what was

3603
02:49:32,080 --> 02:49:35,840
the problem the only problem was in how

3604
02:49:35,840 --> 02:49:39,600
i was capturing the pcaps

3605
02:49:39,680 --> 02:49:43,840
so i had dst port destination port

3606
02:49:43,840 --> 02:49:46,160
that's not how you should do it you

3607
02:49:46,160 --> 02:49:48,560
should make it port

3608
02:49:48,560 --> 02:49:49,680
okay

3609
02:49:49,680 --> 02:49:51,520
now

3610
02:49:51,520 --> 02:49:54,960
now when i do watch so i'm gonna make

3611
02:49:54,960 --> 02:49:57,040
this watch right okay

3612
02:49:57,040 --> 02:50:00,319
and when what happens with watch is that

3613
02:50:00,319 --> 02:50:03,200
it's going to

3614
02:50:03,200 --> 02:50:05,920
it's going to run the command every x

3615
02:50:05,920 --> 02:50:08,800
number of seconds okay so i'm going to

3616
02:50:08,800 --> 02:50:10,479
add another field here called flush

3617
02:50:10,479 --> 02:50:11,920
altru

3618
02:50:11,920 --> 02:50:15,040
okay flush true

3619
02:50:15,040 --> 02:50:16,880
and

3620
02:50:16,880 --> 02:50:18,880
and i'm going to run it

3621
02:50:18,880 --> 02:50:21,760
every two seconds it's going to upload

3622
02:50:21,760 --> 02:50:24,800
a the new

3623
02:50:25,359 --> 02:50:27,200
every two seconds this curl command is

3624
02:50:27,200 --> 02:50:29,439
going to talk to the api and upload the

3625
02:50:29,439 --> 02:50:32,640
new pcap and you can see right here

3626
02:50:32,640 --> 02:50:33,920
that there's a lot of things happening

3627
02:50:33,920 --> 02:50:36,000
look now that i finally now that you

3628
02:50:36,000 --> 02:50:38,960
finally can see them look at this i can

3629
02:50:38,960 --> 02:50:40,640
pick flag out

3630
02:50:40,640 --> 02:50:43,600
i can see people stealing my flags right

3631
02:50:43,600 --> 02:50:45,439
now i can see that people are stealing

3632
02:50:45,439 --> 02:50:47,600
flags stealing flags there it is flag

3633
02:50:47,600 --> 02:50:51,120
out flag out out these are requests

3634
02:50:51,120 --> 02:50:52,880
full requests of people coming and

3635
02:50:52,880 --> 02:50:55,359
talking to my service and stealing the

3636
02:50:55,359 --> 02:50:56,399
flag

3637
02:50:56,399 --> 02:50:59,880
from my service

3638
02:51:17,359 --> 02:51:20,479
that's actually amazing

3639
02:51:20,479 --> 02:51:22,319
so right now you guys are just you guys

3640
02:51:22,319 --> 02:51:24,560
are just spamming the service with with

3641
02:51:24,560 --> 02:51:27,359
as much power as you can and and and

3642
02:51:27,359 --> 02:51:28,399
that's it

3643
02:51:28,399 --> 02:51:30,720
that's it i can even let's do flag in

3644
02:51:30,720 --> 02:51:33,120
this is i can now see the check system

3645
02:51:33,120 --> 02:51:35,680
placing my own flags

3646
02:51:35,680 --> 02:51:37,680
into the into the system look i can see

3647
02:51:37,680 --> 02:51:38,720
here that

3648
02:51:38,720 --> 02:51:40,640
it's adding a flag right here i see the

3649
02:51:40,640 --> 02:51:42,880
flag right here this is the check system

3650
02:51:42,880 --> 02:51:45,760
talking to my own services and adding

3651
02:51:45,760 --> 02:51:48,000
flags into my

3652
02:51:48,000 --> 02:51:50,800
my services

3653
02:51:52,160 --> 02:51:54,720
finally finally guys we have solved it

3654
02:51:54,720 --> 02:51:57,520
so this this is such an important tool

3655
02:51:57,520 --> 02:51:59,520
in ctfs later on

3656
02:51:59,520 --> 02:52:01,840
why is this such an important tool

3657
02:52:01,840 --> 02:52:03,520
because

3658
02:52:03,520 --> 02:52:04,479
then

3659
02:52:04,479 --> 02:52:07,200
then you guys can tell when people are

3660
02:52:07,200 --> 02:52:09,279
stealing your flags you can go and see

3661
02:52:09,279 --> 02:52:11,520
the exploit and be like hey

3662
02:52:11,520 --> 02:52:14,000
what's happening here

3663
02:52:14,000 --> 02:52:15,840
take a look at it and grab it out so i

3664
02:52:15,840 --> 02:52:17,760
can see here in coffee pot somebody

3665
02:52:17,760 --> 02:52:19,279
attempted to steal the flags it says

3666
02:52:19,279 --> 02:52:21,439
flag out and i can see the flag is

3667
02:52:21,439 --> 02:52:23,359
leaving right here someone's told so i

3668
02:52:23,359 --> 02:52:24,800
can now i'll be like okay let me look at

3669
02:52:24,800 --> 02:52:26,800
this let me look at this request let me

3670
02:52:26,800 --> 02:52:28,880
try to see what happened how did we get

3671
02:52:28,880 --> 02:52:30,160
here

3672
02:52:30,160 --> 02:52:33,520
and other services as well

3673
02:52:38,720 --> 02:52:40,960
this is this is great

3674
02:52:40,960 --> 02:52:42,479
i can see here in another service

3675
02:52:42,479 --> 02:52:44,319
someone in health monitor someone was

3676
02:52:44,319 --> 02:52:48,240
stealing my flag in health monitor

3677
02:52:53,680 --> 02:52:55,760
oh this is actually great okay now i

3678
02:52:55,760 --> 02:52:57,840
want you guys all to go to your current

3679
02:52:57,840 --> 02:52:59,920
instances and get ready i'm gonna i'm

3680
02:52:59,920 --> 02:53:00,880
gonna

3681
02:53:00,880 --> 02:53:04,240
i'm gonna exploit you all right now okay

3682
02:53:04,240 --> 02:53:05,920
so you guys should be able to see the

3683
02:53:05,920 --> 02:53:07,760
exploit happening on your on your

3684
02:53:07,760 --> 02:53:08,800
instances

3685
02:53:08,800 --> 02:53:09,680
so

3686
02:53:09,680 --> 02:53:11,279
let me know when you guys are ready and

3687
02:53:11,279 --> 02:53:12,960
i'll fire the exploits at you guys one

3688
02:53:12,960 --> 02:53:14,720
more time

3689
02:53:14,720 --> 02:53:18,039
you guys ready

3690
02:53:24,640 --> 02:53:27,040
all right

3691
02:53:27,040 --> 02:53:29,200
all right if you're ready start telling

3692
02:53:29,200 --> 02:53:31,279
me your team number and i'll just fire

3693
02:53:31,279 --> 02:53:33,760
it at you

3694
02:53:33,760 --> 02:53:37,760
all right we got 12 so we're hitting 12.

3695
02:53:37,760 --> 02:53:41,520
we got eighteen we gotta get eighteen we

3696
02:53:41,520 --> 02:53:43,680
got twenty nine

3697
02:53:43,680 --> 02:53:46,240
we had twenty nine

3698
02:53:46,240 --> 02:53:49,920
got eight let's say eight

3699
02:53:50,319 --> 02:53:52,880
so you guys one of the requests coming

3700
02:53:52,880 --> 02:53:54,800
your way contains the actual exploit and

3701
02:53:54,800 --> 02:53:57,359
you should start seeing it get marked

3702
02:53:57,359 --> 02:54:00,479
in in current no number six i think

3703
02:54:00,479 --> 02:54:02,479
somebody is playing around with your

3704
02:54:02,479 --> 02:54:05,840
service or my my exploit script sucks so

3705
02:54:05,840 --> 02:54:08,720
don't worry about that

3706
02:54:09,120 --> 02:54:11,439
45

3707
02:54:11,439 --> 02:54:14,920
let's go 29.

3708
02:54:23,359 --> 02:54:26,640
are any other teams ready

3709
02:54:26,800 --> 02:54:29,520
all right 15.51

3710
02:54:29,520 --> 02:54:32,080
there we go stolen

3711
02:54:32,080 --> 02:54:34,479
i'll even steal my own flag uh i know

3712
02:54:34,479 --> 02:54:37,278
it'll get marked

3713
02:54:38,720 --> 02:54:42,640
yeah i got i got 51 i got 51.

3714
02:54:43,040 --> 02:54:45,359
all right 251 again

3715
02:54:45,359 --> 02:54:48,399
nope 51 is okay 51 is broken because i

3716
02:54:48,399 --> 02:54:52,960
exploited 51 and my exploit only works

3717
02:54:52,960 --> 02:54:54,560
for the top user which is something i

3718
02:54:54,560 --> 02:54:56,319
should fix

3719
02:54:56,319 --> 02:54:58,000
all right i'll wait like wait until the

3720
02:54:58,000 --> 02:54:59,840
check system adds another flag and then

3721
02:54:59,840 --> 02:55:02,560
i'll do 51 again so to those of you who

3722
02:55:02,560 --> 02:55:05,279
did get hit so right now i myself i

3723
02:55:05,279 --> 02:55:07,359
should be able to notice

3724
02:55:07,359 --> 02:55:08,319
that

3725
02:55:08,319 --> 02:55:12,479
in flag out at least i should see that

3726
02:55:12,479 --> 02:55:13,920
where is

3727
02:55:13,920 --> 02:55:18,160
nasa rasa why is nasa rasa not here

3728
02:55:28,160 --> 02:55:32,720
service port i need service port 80

3729
02:55:34,080 --> 02:55:36,479
advanced filter

3730
02:55:36,479 --> 02:55:38,000
client address

3731
02:55:38,000 --> 02:55:41,720
uh 10.80.100.129.

3732
02:55:44,960 --> 02:55:46,800
oh wow for some reason it doesn't see

3733
02:55:46,800 --> 02:55:50,800
traffic coming from me oh well

3734
02:55:52,880 --> 02:55:55,520
do we have to rerun uh tcp time to keep

3735
02:55:55,520 --> 02:55:57,920
monitoring no you can keep tcp dump

3736
02:55:57,920 --> 02:55:59,920
running and then upload the same file

3737
02:55:59,920 --> 02:56:02,720
over and over again

3738
02:56:04,800 --> 02:56:09,640
i'm going to capture team 51 again

3739
02:56:12,160 --> 02:56:15,840
and again tomorrow tomorrow once once we

3740
02:56:15,840 --> 02:56:18,880
learn how these things

3741
02:56:18,880 --> 02:56:21,119
uh

3742
02:56:24,479 --> 02:56:27,439
once we learn how how the exploits work

3743
02:56:27,439 --> 02:56:28,720
later on

3744
02:56:28,720 --> 02:56:31,840
you will notice you will take note that

3745
02:56:31,840 --> 02:56:33,120
this is

3746
02:56:33,120 --> 02:56:35,040
you know like

3747
02:56:35,040 --> 02:56:37,040
how the exploits work and how you'll

3748
02:56:37,040 --> 02:56:38,800
have a real environment where you all

3749
02:56:38,800 --> 02:56:40,399
will be all of you will be exploiting

3750
02:56:40,399 --> 02:56:41,520
each other

3751
02:56:41,520 --> 02:56:42,800
and

3752
02:56:42,800 --> 02:56:45,680
you guys can just keep stealing flags

3753
02:56:45,680 --> 02:56:46,880
from each other

3754
02:56:46,880 --> 02:56:48,560
and monitoring and trying to understand

3755
02:56:48,560 --> 02:56:50,880
how other teams found out the exploit

3756
02:56:50,880 --> 02:56:53,279
before you did and stuff like that

3757
02:56:53,279 --> 02:56:55,840
all right

3758
02:56:56,000 --> 02:56:57,920
for now i'm gonna stop this if you guys

3759
02:56:57,920 --> 02:57:00,080
are still shaky on this trust me we have

3760
02:57:00,080 --> 02:57:02,080
more than enough time tomorrow

3761
02:57:02,080 --> 02:57:04,640
uh again as we saw i'm pretty much

3762
02:57:04,640 --> 02:57:06,479
almost out of material

3763
02:57:06,479 --> 02:57:08,319
uh we're just gonna yeah i'm pretty much

3764
02:57:08,319 --> 02:57:12,399
out of material this this this uh

3765
02:57:12,399 --> 02:57:14,399
current is pretty much the last the last

3766
02:57:14,399 --> 02:57:15,200
thing

3767
02:57:15,200 --> 02:57:17,200
so

3768
02:57:17,200 --> 02:57:19,760
i will uh

3769
02:57:19,760 --> 02:57:21,359
stick around

3770
02:57:21,359 --> 02:57:23,760
i guess although we could just call it

3771
02:57:23,760 --> 02:57:25,920
the day i'll go to sleep

3772
02:57:25,920 --> 02:57:27,120
uh

3773
02:57:27,120 --> 02:57:29,359
but i will stick around if anybody wants

3774
02:57:29,359 --> 02:57:30,960
me to double check with them if current

3775
02:57:30,960 --> 02:57:32,800
is working although genuinely once

3776
02:57:32,800 --> 02:57:35,520
tomorrow i explain to you the exploits

3777
02:57:35,520 --> 02:57:38,800
and how everything works then

3778
02:57:38,800 --> 02:57:40,960
you guys will see you know you guys will

3779
02:57:40,960 --> 02:57:43,920
get an idea about how all of this works

3780
02:57:43,920 --> 02:57:44,880
all right

3781
02:57:44,880 --> 02:57:47,680
if so here's some homework some homework

3782
02:57:47,680 --> 02:57:48,840
for you guys

3783
02:57:48,840 --> 02:57:52,240
okay uh karant might not be perfect

3784
02:57:52,240 --> 02:57:53,279
right now

3785
02:57:53,279 --> 02:57:55,680
you know as you can see in nasa rasa the

3786
02:57:55,680 --> 02:57:58,080
regex isn't working properly

3787
02:57:58,080 --> 02:58:00,479
you know it's not finding out the proper

3788
02:58:00,479 --> 02:58:03,200
rejects for nasa rasa okay so maybe the

3789
02:58:03,200 --> 02:58:04,720
regex is wrong

3790
02:58:04,720 --> 02:58:07,040
right so some homework some homework for

3791
02:58:07,040 --> 02:58:08,160
you guys

3792
02:58:08,160 --> 02:58:11,200
is the the the system

3793
02:58:11,200 --> 02:58:12,720
no you can have my exploit script

3794
02:58:12,720 --> 02:58:14,000
tomorrow

3795
02:58:14,000 --> 02:58:15,680
tomorrow i promise i will give you the

3796
02:58:15,680 --> 02:58:17,279
exploit script

3797
02:58:17,279 --> 02:58:19,680
all right for now

3798
02:58:19,680 --> 02:58:22,319
uh homework homework homework no i can't

3799
02:58:22,319 --> 02:58:23,600
do tonight listen it's all part of

3800
02:58:23,600 --> 02:58:25,040
tomorrow's training okay you guys have

3801
02:58:25,040 --> 02:58:26,560
patience and you'll have everything i

3802
02:58:26,560 --> 02:58:29,120
promise you that all right for now what

3803
02:58:29,120 --> 02:58:32,000
i need well what you guys can do is as

3804
02:58:32,000 --> 02:58:34,080
homework for right now

3805
02:58:34,080 --> 02:58:36,479
go take a look at your services

3806
02:58:36,479 --> 02:58:39,520
try to see what vulnerabilities there

3807
02:58:39,520 --> 02:58:42,000
are try to try to can you ask what time

3808
02:58:42,000 --> 02:58:43,680
tomorrow same time we started this

3809
02:58:43,680 --> 02:58:45,600
training 12 utc

3810
02:58:45,600 --> 02:58:49,279
so 12 utc tomorrow we will have

3811
02:58:49,279 --> 02:58:51,840
so 12 noon utc we are going to have the

3812
02:58:51,840 --> 02:58:53,120
second day of training where we're going

3813
02:58:53,120 --> 02:58:54,960
to exploit everything we're finally

3814
02:58:54,960 --> 02:58:56,880
going to teach you how to submit flags

3815
02:58:56,880 --> 02:58:59,040
all that good stuff all right

3816
02:58:59,040 --> 02:59:02,479
homework is work on current try to set

3817
02:59:02,479 --> 02:59:04,720
up a system that works works for you

3818
02:59:04,720 --> 02:59:08,960
best in in current okay

3819
02:59:08,960 --> 02:59:09,840
try

3820
02:59:09,840 --> 02:59:10,640
to

3821
02:59:10,640 --> 02:59:14,479
get the regex properly try to get

3822
02:59:14,479 --> 02:59:16,960
the you know look at your services by

3823
02:59:16,960 --> 02:59:18,880
the way there is one very obvious

3824
02:59:18,880 --> 02:59:19,920
exploit

3825
02:59:19,920 --> 02:59:22,000
very obvious that you can if you can

3826
02:59:22,000 --> 02:59:23,920
find it before tomorrow

3827
02:59:23,920 --> 02:59:25,279
well that's that's good job it's the

3828
02:59:25,279 --> 02:59:27,520
easiest exploit to get

3829
02:59:27,520 --> 02:59:29,120
can you have your tcp dump you can have

3830
02:59:29,120 --> 02:59:31,680
my tcp dump command no worries the tcp

3831
02:59:31,680 --> 02:59:33,600
dump command is this this is just what

3832
02:59:33,600 --> 02:59:35,359
i'm running right now

3833
02:59:35,359 --> 02:59:38,359
okay

3834
02:59:42,720 --> 02:59:45,840
keep forgetting to send to everyone

3835
02:59:45,840 --> 02:59:46,800
here

3836
02:59:46,800 --> 02:59:49,278
here you go

3837
02:59:50,080 --> 02:59:52,240
yeah this is the ccp for me in order for

3838
02:59:52,240 --> 02:59:54,399
me to run it in order for me to run it

3839
02:59:54,399 --> 02:59:56,640
repeatedly like every two seconds like

3840
02:59:56,640 --> 02:59:58,560
i'm doing right now all you got to do

3841
02:59:58,560 --> 03:00:01,279
simply is add watch in front of it so

3842
03:00:01,279 --> 03:00:02,319
there's a command there's command the

3843
03:00:02,319 --> 03:00:04,560
linux called watch and

3844
03:00:04,560 --> 03:00:06,960
you can even i think watch even takes an

3845
03:00:06,960 --> 03:00:08,960
argument like

3846
03:00:08,960 --> 03:00:10,479
uh interval

3847
03:00:10,479 --> 03:00:13,840
and run run the pickup upload every 40

3848
03:00:13,840 --> 03:00:16,640
seconds that's a good time

3849
03:00:16,640 --> 03:00:19,279
and then just put in single quotes the

3850
03:00:19,279 --> 03:00:20,960
command you want to run

3851
03:00:20,960 --> 03:00:25,680
okay so the full thing would be this

3852
03:00:25,680 --> 03:00:28,000
okay

3853
03:00:28,720 --> 03:00:31,040
this is the full thing that i'm running

3854
03:00:31,040 --> 03:00:32,000
right now

3855
03:00:32,000 --> 03:00:34,880
every 40 seconds it will basically run

3856
03:00:34,880 --> 03:00:36,840
and re-upload the

3857
03:00:36,840 --> 03:00:38,720
um

3858
03:00:38,720 --> 03:00:40,080
here you go

3859
03:00:40,080 --> 03:00:42,720
every 40 seconds it will re-upload the

3860
03:00:42,720 --> 03:00:45,359
pcap to cut onto one more time

3861
03:00:45,359 --> 03:00:47,120
right

3862
03:00:47,120 --> 03:00:48,160
so

3863
03:00:48,160 --> 03:00:49,359
for now

3864
03:00:49,359 --> 03:00:51,520
this is your homework

3865
03:00:51,520 --> 03:00:53,279
this the

3866
03:00:53,279 --> 03:00:56,479
network is open it is awake and alive

3867
03:00:56,479 --> 03:00:59,040
you guys can stay up and

3868
03:00:59,040 --> 03:01:00,640
look at the services try to find

3869
03:01:00,640 --> 03:01:03,439
exploits set up current properly and

3870
03:01:03,439 --> 03:01:05,680
live your lives okay the check system

3871
03:01:05,680 --> 03:01:07,200
will stay running everything will stay

3872
03:01:07,200 --> 03:01:08,960
running the life is all good

3873
03:01:08,960 --> 03:01:11,358
all right

3874
03:01:14,080 --> 03:01:16,080
now just to summarize what we learned

3875
03:01:16,080 --> 03:01:17,520
today even though we wasted one hour

3876
03:01:17,520 --> 03:01:19,680
trying to set up current and it was it

3877
03:01:19,680 --> 03:01:21,359
was my fault

3878
03:01:21,359 --> 03:01:23,439
with the tcp double command you guys

3879
03:01:23,439 --> 03:01:24,960
should finally understand how attack

3880
03:01:24,960 --> 03:01:27,520
defense games work you just had some fun

3881
03:01:27,520 --> 03:01:29,680
right now in it uh you know how to

3882
03:01:29,680 --> 03:01:31,200
connect to the hack in the box game

3883
03:01:31,200 --> 03:01:32,720
network you know how to set up and

3884
03:01:32,720 --> 03:01:34,479
manage your

3885
03:01:34,479 --> 03:01:37,439
virtual machines you know how to manage

3886
03:01:37,439 --> 03:01:39,359
your services you know how to access the

3887
03:01:39,359 --> 03:01:41,760
code belonging to services and you know

3888
03:01:41,760 --> 03:01:43,680
how to capture traffic finally after

3889
03:01:43,680 --> 03:01:45,520
suffering you know how to capture

3890
03:01:45,520 --> 03:01:48,880
traffic related to your services and

3891
03:01:48,880 --> 03:01:51,920
you guys can now set up quarant properly

3892
03:01:51,920 --> 03:01:52,800
and

3893
03:01:52,800 --> 03:01:55,760
set up uh

3894
03:01:55,760 --> 03:01:57,920
maybe flower if you want to but karante

3895
03:01:57,920 --> 03:02:01,120
is much better do you need to get rce no

3896
03:02:01,120 --> 03:02:03,120
actually uh

3897
03:02:03,120 --> 03:02:05,040
very rarely are the bugs going to be

3898
03:02:05,040 --> 03:02:06,880
well not very rarely i have no point

3899
03:02:06,880 --> 03:02:08,000
there's no point to saying that because

3900
03:02:08,000 --> 03:02:10,240
the challenges change every game

3901
03:02:10,240 --> 03:02:12,800
uh most of like you don't have to get

3902
03:02:12,800 --> 03:02:13,840
rce

3903
03:02:13,840 --> 03:02:15,279
the flag

3904
03:02:15,279 --> 03:02:16,560
for example let me tell you something

3905
03:02:16,560 --> 03:02:18,160
let me let me show you how the flag

3906
03:02:18,160 --> 03:02:20,960
works okay

3907
03:02:21,520 --> 03:02:23,279
let's let's see for example where are

3908
03:02:23,279 --> 03:02:24,960
the flags stored

3909
03:02:24,960 --> 03:02:26,000
so

3910
03:02:26,000 --> 03:02:28,720
in the case of nasa rasa

3911
03:02:28,720 --> 03:02:30,880
okay where are the flags

3912
03:02:30,880 --> 03:02:32,720
you see that there are users right here

3913
03:02:32,720 --> 03:02:33,760
okay

3914
03:02:33,760 --> 03:02:36,000
some of these users have been created by

3915
03:02:36,000 --> 03:02:38,080
the check system like let's say this

3916
03:02:38,080 --> 03:02:40,479
brand any okay

3917
03:02:40,479 --> 03:02:42,880
if you can manage to find a bug that

3918
03:02:42,880 --> 03:02:46,080
allows you to log in as brent any

3919
03:02:46,080 --> 03:02:48,960
you when you go to his user page and you

3920
03:02:48,960 --> 03:02:51,279
will see an extra slot down here that

3921
03:02:51,279 --> 03:02:54,399
says you know a private message for user

3922
03:02:54,399 --> 03:02:56,720
only and it contains the flag

3923
03:02:56,720 --> 03:02:58,399
is it sql injection

3924
03:02:58,399 --> 03:03:01,359
is it sound logic bug is it

3925
03:03:01,359 --> 03:03:04,560
up to you find out

3926
03:03:04,560 --> 03:03:05,680
all right

3927
03:03:05,680 --> 03:03:09,840
so so you don't always need to to find

3928
03:03:09,840 --> 03:03:12,080
rce it could be just a bug that just

3929
03:03:12,080 --> 03:03:14,960
allows you to like maybe sql injection

3930
03:03:14,960 --> 03:03:18,240
maybe some xml injection maybe anything

3931
03:03:18,240 --> 03:03:20,640
could be absolutely anything at all

3932
03:03:20,640 --> 03:03:25,800
so yeah the bugs could be anything maybe

3933
03:03:26,080 --> 03:03:28,000
flag is too old i refreshed my exploit

3934
03:03:28,000 --> 03:03:29,439
but i'm still getting flag is too old

3935
03:03:29,439 --> 03:03:32,160
from submission so the flags are only

3936
03:03:32,160 --> 03:03:34,560
valid for 15

3937
03:03:34,560 --> 03:03:35,920
minutes

3938
03:03:35,920 --> 03:03:38,720
so you're most probably your exploit

3939
03:03:38,720 --> 03:03:40,560
isn't tuned properly

3940
03:03:40,560 --> 03:03:43,359
and you're grabbing an old flag that's

3941
03:03:43,359 --> 03:03:45,680
older than 15 minutes you have to know

3942
03:03:45,680 --> 03:03:47,439
that the services have been running for

3943
03:03:47,439 --> 03:03:50,319
like three hours for hours now so if you

3944
03:03:50,319 --> 03:03:52,880
don't tune your exploit properly

3945
03:03:52,880 --> 03:03:54,640
you most probably

3946
03:03:54,640 --> 03:03:57,359
are grabbing an old flag especially if

3947
03:03:57,359 --> 03:03:58,720
you're trying to grab a flag off one of

3948
03:03:58,720 --> 03:04:00,319
my screenshots

3949
03:04:00,319 --> 03:04:03,359
uh it's it's most probably very it's

3950
03:04:03,359 --> 03:04:05,200
most probably too old

3951
03:04:05,200 --> 03:04:08,439
right now

3952
03:04:10,160 --> 03:04:12,560
so yeah that's pretty much it as i was

3953
03:04:12,560 --> 03:04:15,279
saying um

3954
03:04:15,279 --> 03:04:17,920
sometimes you don't need to exploit the

3955
03:04:17,920 --> 03:04:19,200
service

3956
03:04:19,200 --> 03:04:21,600
what if there is something exposed that

3957
03:04:21,600 --> 03:04:23,439
shouldn't be exposed

3958
03:04:23,439 --> 03:04:26,319
what if there is some hard coded like

3959
03:04:26,319 --> 03:04:28,560
ssh password or something and you just

3960
03:04:28,560 --> 03:04:30,880
literally hack the vm itself and you

3961
03:04:30,880 --> 03:04:33,680
just go in and steal all the flags

3962
03:04:33,680 --> 03:04:35,760
straight from the containers without

3963
03:04:35,760 --> 03:04:38,960
even bothering to to exploit the bug

3964
03:04:38,960 --> 03:04:40,960
in attack and defense

3965
03:04:40,960 --> 03:04:43,040
everything is game everything's on the

3966
03:04:43,040 --> 03:04:45,920
table all cards on the table do whatever

3967
03:04:45,920 --> 03:04:48,399
is necessary to get the flags just don't

3968
03:04:48,399 --> 03:04:50,000
break any of the rules we mentioned

3969
03:04:50,000 --> 03:04:51,040
earlier

3970
03:04:51,040 --> 03:04:53,520
so you can be as creative as you want

3971
03:04:53,520 --> 03:04:55,120
in getting the flags

3972
03:04:55,120 --> 03:04:56,240
have fun

3973
03:04:56,240 --> 03:04:58,479
there are even some some firewalls out

3974
03:04:58,479 --> 03:05:00,960
there for attacking defense that sit and

3975
03:05:00,960 --> 03:05:03,200
when they detect and exploit they will

3976
03:05:03,200 --> 03:05:05,200
literally take the exploit and fire it

3977
03:05:05,200 --> 03:05:07,439
back at the other teams

3978
03:05:07,439 --> 03:05:08,880
automatically

3979
03:05:08,880 --> 03:05:09,680
i

3980
03:05:09,680 --> 03:05:11,920
wasn't i thought it was a bit outdated

3981
03:05:11,920 --> 03:05:13,040
and i

3982
03:05:13,040 --> 03:05:14,880
had trouble setting it up myself but you

3983
03:05:14,880 --> 03:05:16,880
guys are more than welcome to go out and

3984
03:05:16,880 --> 03:05:18,399
explore and look for attack defense

3985
03:05:18,399 --> 03:05:21,040
tools and all that stuff

3986
03:05:21,040 --> 03:05:22,960
all right so any questions before we

3987
03:05:22,960 --> 03:05:25,040
call it a day

3988
03:05:25,040 --> 03:05:26,880
so first question is about the recording

3989
03:05:26,880 --> 03:05:29,200
will the recording be available soon so

3990
03:05:29,200 --> 03:05:31,520
the recording for this session this is

3991
03:05:31,520 --> 03:05:33,920
streaming directly right now onto

3992
03:05:33,920 --> 03:05:37,120
youtube so i think once we end the call

3993
03:05:37,120 --> 03:05:38,240
right now

3994
03:05:38,240 --> 03:05:40,479
it might be just available almost

3995
03:05:40,479 --> 03:05:42,880
immediately on youtube

3996
03:05:42,880 --> 03:05:46,358
so yeah

3997
03:05:50,080 --> 03:05:51,520
that's a complicated

3998
03:05:51,520 --> 03:05:54,399
question uh noob but i would i would i

3999
03:05:54,399 --> 03:05:56,160
would say yes i would say yeah you

4000
03:05:56,160 --> 03:06:00,039
should still qualify

4001
03:06:00,319 --> 03:06:02,160
uh do we have a discord server yes very

4002
03:06:02,160 --> 03:06:04,319
good question we actually do we do have

4003
03:06:04,319 --> 03:06:06,160
a discord server i've been sitting in

4004
03:06:06,160 --> 03:06:08,240
the discord and the channel this entire

4005
03:06:08,240 --> 03:06:11,439
time see waiting and ctf training and

4006
03:06:11,439 --> 03:06:13,359
knocking the box so

4007
03:06:13,359 --> 03:06:17,920
i can just drop you guys an invite here

4008
03:06:17,920 --> 03:06:20,479
i don't think i can actually

4009
03:06:20,479 --> 03:06:23,120
uh we do have

4010
03:06:23,120 --> 03:06:25,520
a link

4011
03:06:25,520 --> 03:06:29,840
we do have a link hold on

4012
03:06:31,279 --> 03:06:35,120
ahmad if you are possibly here

4013
03:06:35,120 --> 03:06:39,240
can you give them the discord link

4014
03:06:58,640 --> 03:07:00,800
all right um i'll just drop in the

4015
03:07:00,800 --> 03:07:02,800
discord i'll type it in myself so

4016
03:07:02,800 --> 03:07:05,760
discord link here we go

4017
03:07:05,760 --> 03:07:07,439
you guys are more than welcome to drop

4018
03:07:07,439 --> 03:07:09,120
into discord and ask questions as the

4019
03:07:09,120 --> 03:07:10,720
night goes on

4020
03:07:10,720 --> 03:07:14,240
uh whoever is awake at the time

4021
03:07:14,240 --> 03:07:15,520
will

4022
03:07:15,520 --> 03:07:17,600
should be able to answer you

4023
03:07:17,600 --> 03:07:19,279
and it's just for general support you

4024
03:07:19,279 --> 03:07:20,800
know you guys want to get updates wanna

4025
03:07:20,800 --> 03:07:22,840
know what's happening

4026
03:07:22,840 --> 03:07:26,800
uh there we go

4027
03:07:28,000 --> 03:07:32,319
should hit you guys any second now

4028
03:07:32,479 --> 03:07:35,359
nope that's that's definitely not that

4029
03:07:35,359 --> 03:07:38,720
that's the flag rejects here we go

4030
03:07:38,720 --> 03:07:40,720
why is the first edge capital that's not

4031
03:07:40,720 --> 03:07:42,160
how that works let me just double check

4032
03:07:42,160 --> 03:07:44,080
if that works

4033
03:07:44,080 --> 03:07:45,600
should just

4034
03:07:45,600 --> 03:07:49,319
tell you it's an invite

4035
03:07:53,040 --> 03:07:54,800
that should work right everybody you

4036
03:07:54,800 --> 03:07:56,800
guys you guys see this

4037
03:07:56,800 --> 03:08:01,278
this works it dropped you into discord

4038
03:08:01,840 --> 03:08:04,840
yep

4039
03:08:06,399 --> 03:08:08,080
for some reason i can't see people

4040
03:08:08,080 --> 03:08:10,080
joining

4041
03:08:10,080 --> 03:08:11,439
uh

4042
03:08:11,439 --> 03:08:14,080
i see people hopping in right now

4043
03:08:14,080 --> 03:08:15,920
but nobody's saying anything yep you're

4044
03:08:15,920 --> 03:08:18,640
there nice hello all right everybody is

4045
03:08:18,640 --> 03:08:21,520
here life is good okay in that case uh

4046
03:08:21,520 --> 03:08:23,680
the the floor is again open open for

4047
03:08:23,680 --> 03:08:24,800
questions

4048
03:08:24,800 --> 03:08:25,680
um

4049
03:08:25,680 --> 03:08:26,800
do

4050
03:08:26,800 --> 03:08:30,880
does anybody have any question at all

4051
03:08:30,880 --> 03:08:32,160
about anything

4052
03:08:32,160 --> 03:08:34,160
before we call it a night trust me

4053
03:08:34,160 --> 03:08:35,520
tomorrow is going to be fun okay we're

4054
03:08:35,520 --> 03:08:37,279
talking there's going to be exploitation

4055
03:08:37,279 --> 03:08:38,880
lots of flags lots of teams are going to

4056
03:08:38,880 --> 03:08:40,160
be hitting each other you guys are going

4057
03:08:40,160 --> 03:08:42,080
to be rushing to patch your services

4058
03:08:42,080 --> 03:08:43,120
because the scoreboard is going to be

4059
03:08:43,120 --> 03:08:44,960
moving all over the place again it's

4060
03:08:44,960 --> 03:08:47,040
training but uh it's going to be fun

4061
03:08:47,040 --> 03:08:48,960
yeah i think it's gonna be fun there's

4062
03:08:48,960 --> 03:08:50,319
already one team

4063
03:08:50,319 --> 03:08:52,960
that's that's exploiting coffee pot

4064
03:08:52,960 --> 03:08:55,120
and then they already have they already

4065
03:08:55,120 --> 03:08:56,880
have 52 points

4066
03:08:56,880 --> 03:08:58,640
and they're just they're just stealing

4067
03:08:58,640 --> 03:09:03,240
flags from coffee pot this entire time

4068
03:09:05,520 --> 03:09:07,040
some teams as you can see right now

4069
03:09:07,040 --> 03:09:08,880
already have an sla of four that's very

4070
03:09:08,880 --> 03:09:11,920
good other teams have slightly less sla

4071
03:09:11,920 --> 03:09:13,920
other teams have zero sla because these

4072
03:09:13,920 --> 03:09:15,600
guys didn't show up to the training so

4073
03:09:15,600 --> 03:09:16,960
their services have been down this

4074
03:09:16,960 --> 03:09:18,399
entire time

4075
03:09:18,399 --> 03:09:21,040
and you know some teams have half half

4076
03:09:21,040 --> 03:09:24,000
sla you know they came in late maybe but

4077
03:09:24,000 --> 03:09:26,000
you guys uh you guys up here are doing

4078
03:09:26,000 --> 03:09:28,080
great so far

4079
03:09:28,080 --> 03:09:29,359
oh there's there's another there's

4080
03:09:29,359 --> 03:09:30,960
another team that's just steve that's

4081
03:09:30,960 --> 03:09:32,560
just robbing

4082
03:09:32,560 --> 03:09:34,399
free life flags wow we got we have some

4083
03:09:34,399 --> 03:09:36,479
people in here that

4084
03:09:36,479 --> 03:09:37,680
really they just got straight to

4085
03:09:37,680 --> 03:09:39,200
business but don't worry about it you

4086
03:09:39,200 --> 03:09:40,880
guys are gonna have a great time

4087
03:09:40,880 --> 03:09:44,560
uh tomorrow great

4088
03:09:44,560 --> 03:09:45,680
so

4089
03:09:45,680 --> 03:09:48,000
in that case uh

4090
03:09:48,000 --> 03:09:50,319
see you guys all tomorrow

4091
03:09:50,319 --> 03:09:51,920
the recording should be available on the

4092
03:09:51,920 --> 03:09:53,920
hack in the box youtube channel it were

4093
03:09:53,920 --> 03:09:56,319
the link was uploaded in the chat at the

4094
03:09:56,319 --> 03:09:59,120
very beginning of the session

4095
03:09:59,120 --> 03:10:01,120
i think i might be able to scroll up and

4096
03:10:01,120 --> 03:10:04,000
grab it yep here it is

4097
03:10:04,000 --> 03:10:07,279
paste it down here for everybody

4098
03:10:08,239 --> 03:10:10,080
and thank you so much guys for

4099
03:10:10,080 --> 03:10:12,479
everything and we'll see you tomorrow

4100
03:10:12,479 --> 03:10:16,080
same time 12 p.m utc thank you all for

4101
03:10:16,080 --> 03:10:18,080
attending we hope to see you tomorrow

4102
03:10:18,080 --> 03:10:19,840
you guys have been great thank you so

4103
03:10:19,840 --> 03:10:22,840
much

4104
03:10:41,359 --> 03:10:43,439
you

