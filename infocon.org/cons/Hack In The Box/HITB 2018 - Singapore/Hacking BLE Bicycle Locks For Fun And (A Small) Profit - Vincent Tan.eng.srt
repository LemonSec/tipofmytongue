1
00:00:09,550 --> 00:00:15,320
morning everyone<font color="#E5E5E5"> thank you</font><font color="#CCCCCC"> for taking</font>

2
00:00:12,559 --> 00:00:25,609
time<font color="#CCCCCC"> to be here hope</font><font color="#E5E5E5"> all of you are</font>

3
00:00:15,320 --> 00:00:27,560
<font color="#E5E5E5">awake and not drunk okay so again thank</font>

4
00:00:25,609 --> 00:00:29,330
you<font color="#E5E5E5"> for being</font><font color="#CCCCCC"> here</font><font color="#E5E5E5"> and I</font><font color="#CCCCCC"> hope you'll</font><font color="#E5E5E5"> be</font>

5
00:00:27,560 --> 00:00:32,058
able<font color="#E5E5E5"> to walk away from this talk having</font>

6
00:00:29,330 --> 00:00:35,180
learned something<font color="#E5E5E5"> interesting</font><font color="#CCCCCC"> and if you</font>

7
00:00:32,058 --> 00:00:37,730
do please<font color="#CCCCCC"> do let me</font><font color="#E5E5E5"> know so my talk</font>

8
00:00:35,180 --> 00:00:43,969
today<font color="#CCCCCC"> is on hacking ble</font><font color="#E5E5E5"> bicycle locks</font>

9
00:00:37,730 --> 00:00:46,610
<font color="#E5E5E5">for fun in little</font><font color="#CCCCCC"> profit what this talk</font>

10
00:00:43,969 --> 00:00:49,760
is about with the introduction of shared

11
00:00:46,610 --> 00:00:52,239
bicycles<font color="#E5E5E5"> and rise in popularity</font><font color="#CCCCCC"> in</font>

12
00:00:49,760 --> 00:00:55,789
Singapore and other places in<font color="#E5E5E5"> the world</font>

13
00:00:52,239 --> 00:00:58,129
<font color="#E5E5E5">I've seen bicycles all over the place</font>

14
00:00:55,789 --> 00:01:01,399
used regularly by people who pay a token

15
00:00:58,129 --> 00:01:05,570
sum to use them<font color="#CCCCCC"> so this got me wondering</font>

16
00:01:01,399 --> 00:01:08,450
how the lock system<font color="#E5E5E5"> would and house care</font>

17
00:01:05,570 --> 00:01:11,809
<font color="#E5E5E5">would be would it be</font><font color="#CCCCCC"> possible to get</font>

18
00:01:08,450 --> 00:01:14,810
free rights<font color="#E5E5E5"> doesn't really cost much to</font>

19
00:01:11,810 --> 00:01:21,409
rent<font color="#E5E5E5"> a bike but wouldn't be fun to hack</font>

20
00:01:14,810 --> 00:01:25,070
a lock so<font color="#E5E5E5"> I'm Vincent I'm from Singapore</font>

21
00:01:21,409 --> 00:01:28,670
<font color="#E5E5E5">and erroneous critic insulting with MWR</font>

22
00:01:25,070 --> 00:01:35,119
<font color="#E5E5E5">and basically hacking mobile and</font>

23
00:01:28,670 --> 00:01:38,869
wireless stuff is my thing what you gain

24
00:01:35,119 --> 00:01:42,290
from<font color="#CCCCCC"> this</font><font color="#E5E5E5"> talk</font><font color="#CCCCCC"> I'll give a</font><font color="#E5E5E5"> quick</font>

25
00:01:38,869 --> 00:01:45,290
overview<font color="#E5E5E5"> of the bank sharing economy and</font>

26
00:01:42,290 --> 00:01:47,540
<font color="#CCCCCC">locks</font><font color="#E5E5E5"> used on</font><font color="#CCCCCC"> shared bikes</font><font color="#E5E5E5"> I'll do a</font>

27
00:01:45,290 --> 00:01:52,310
<font color="#E5E5E5">quick recap on</font><font color="#CCCCCC"> ble</font><font color="#E5E5E5"> for those of you who</font>

28
00:01:47,540 --> 00:01:54,380
aren't familiar then I'll move on to

29
00:01:52,310 --> 00:01:57,649
walking you through<font color="#CCCCCC"> how I</font><font color="#E5E5E5"> analyze the</font>

30
00:01:54,380 --> 00:02:02,509
communications between my iOS device<font color="#CCCCCC"> and</font>

31
00:01:57,649 --> 00:02:05,920
ble lock<font color="#E5E5E5"> what worked what didn't and how</font>

32
00:02:02,509 --> 00:02:11,739
you can actually build<font color="#E5E5E5"> a master key from</font>

33
00:02:05,920 --> 00:02:11,739
what I've learned<font color="#E5E5E5"> and get rights off we</font>

34
00:02:14,040 --> 00:02:20,910
so I'm sure by<font color="#CCCCCC"> now we all know</font><font color="#E5E5E5"> that my</font>

35
00:02:17,430 --> 00:02:22,410
laksa rubbish<font color="#CCCCCC"> because the state the</font>

36
00:02:20,910 --> 00:02:25,710
state of<font color="#E5E5E5"> security</font><font color="#CCCCCC"> now is terrible</font>

37
00:02:22,410 --> 00:02:28,620
terrible<font color="#CCCCCC"> because and I could be wrong</font>

38
00:02:25,710 --> 00:02:30,540
<font color="#CCCCCC">here</font><font color="#E5E5E5"> companies only care about features</font>

39
00:02:28,620 --> 00:02:33,420
<font color="#E5E5E5">and getting the market as soon</font><font color="#CCCCCC"> as</font>

40
00:02:30,540 --> 00:02:36,209
possible<font color="#CCCCCC"> they don't care</font><font color="#E5E5E5"> about designing</font>

41
00:02:33,420 --> 00:02:37,859
<font color="#E5E5E5">us your</font><font color="#CCCCCC"> lock</font><font color="#E5E5E5"> and then performing any</font>

42
00:02:36,210 --> 00:02:38,690
<font color="#E5E5E5">tests to validate the security</font><font color="#CCCCCC"> of the</font>

43
00:02:37,860 --> 00:02:42,030
solution

44
00:02:38,690 --> 00:02:45,060
take for example<font color="#CCCCCC"> tap</font><font color="#E5E5E5"> lock the latest</font>

45
00:02:42,030 --> 00:02:47,100
<font color="#E5E5E5">smile ought to be hacked it talks</font><font color="#CCCCCC"> about</font>

46
00:02:45,060 --> 00:02:48,630
having<font color="#E5E5E5"> all these incredible security</font>

47
00:02:47,100 --> 00:02:50,359
features<font color="#E5E5E5"> encrypted fingerprint reader</font>

48
00:02:48,630 --> 00:02:52,859
AES<font color="#CCCCCC"> hundred twenty bit encryption</font>

49
00:02:50,360 --> 00:02:59,610
<font color="#E5E5E5">anti-theft alarm but ultimately two</font>

50
00:02:52,860 --> 00:03:02,640
seconds later<font color="#CCCCCC"> compact so what's the</font>

51
00:02:59,610 --> 00:03:04,380
<font color="#E5E5E5">situation with these guys</font><font color="#CCCCCC"> these are</font><font color="#E5E5E5"> the</font>

52
00:03:02,640 --> 00:03:07,980
three largest<font color="#E5E5E5"> factoring companies in</font>

53
00:03:04,380 --> 00:03:10,620
Singapore<font color="#CCCCCC"> as of a few months ago so and</font>

54
00:03:07,980 --> 00:03:14,130
mobile being companies from China<font color="#E5E5E5"> and oh</font>

55
00:03:10,620 --> 00:03:16,290
by a local Singapore<font color="#CCCCCC"> start-up which has</font>

56
00:03:14,130 --> 00:03:22,530
just<font color="#E5E5E5"> filed</font><font color="#CCCCCC"> for bankruptcy</font><font color="#E5E5E5"> not too long</font>

57
00:03:16,290 --> 00:03:24,899
ago so<font color="#CCCCCC"> yeah</font><font color="#E5E5E5"> these guys have operations</font>

58
00:03:22,530 --> 00:03:30,900
all<font color="#CCCCCC"> over the world and have pretty high</font>

59
00:03:24,900 --> 00:03:32,430
valuations across all companies for all

60
00:03:30,900 --> 00:03:36,540
three companies the cost of renting a

61
00:03:32,430 --> 00:03:44,130
bike is<font color="#E5E5E5"> 50 cents per</font><font color="#CCCCCC"> half-hour roughly</font>

62
00:03:36,540 --> 00:03:47,010
about there okay so before<font color="#CCCCCC"> all the juicy</font>

63
00:03:44,130 --> 00:03:47,700
bits<font color="#E5E5E5"> quick refresher on what Bluetooth</font>

64
00:03:47,010 --> 00:03:52,049
Low Energy

65
00:03:47,700 --> 00:03:54,600
aka ble<font color="#E5E5E5"> is two key things to know to</font>

66
00:03:52,050 --> 00:03:58,890
navigate your way around<font color="#E5E5E5"> the first is</font>

67
00:03:54,600 --> 00:04:01,320
gap or generic<font color="#E5E5E5"> access profile this</font>

68
00:03:58,890 --> 00:04:03,690
basically defines what a device is a

69
00:04:01,320 --> 00:04:06,350
<font color="#CCCCCC">device is split into</font><font color="#E5E5E5"> two categories</font><font color="#CCCCCC"> a</font>

70
00:04:03,690 --> 00:04:09,260
peripheral<font color="#E5E5E5"> device</font><font color="#CCCCCC"> and a central device</font><font color="#E5E5E5"> a</font>

71
00:04:06,350 --> 00:04:13,140
peripheral device<font color="#E5E5E5"> is a low power device</font>

72
00:04:09,260 --> 00:04:16,469
be it<font color="#E5E5E5"> a bicycle lock or a pacemaker</font><font color="#CCCCCC"> and</font>

73
00:04:13,140 --> 00:04:18,630
the central device is a high power

74
00:04:16,470 --> 00:04:21,440
computing device<font color="#CCCCCC"> either your laptop or</font>

75
00:04:18,630 --> 00:04:21,440
<font color="#E5E5E5">your</font><font color="#CCCCCC"> smartphone</font>

76
00:04:22,270 --> 00:04:30,370
then comes get or<font color="#CCCCCC"> generic attribute</font>

77
00:04:26,289 --> 00:04:33,599
profile<font color="#CCCCCC"> it defines</font><font color="#E5E5E5"> the way to</font><font color="#CCCCCC"> be early</font>

78
00:04:30,370 --> 00:04:36,460
<font color="#E5E5E5">devices transfer data back and forth and</font>

79
00:04:33,599 --> 00:04:39,128
each ble device will have one or<font color="#CCCCCC"> more</font>

80
00:04:36,460 --> 00:04:42,068
services<font color="#E5E5E5"> and within each service it will</font>

81
00:04:39,129 --> 00:04:44,139
<font color="#E5E5E5">have one</font><font color="#CCCCCC"> or more characteristics so</font>

82
00:04:42,069 --> 00:04:48,669
services are groups of characteristics

83
00:04:44,139 --> 00:04:51,190
<font color="#E5E5E5">and</font><font color="#CCCCCC"> a</font><font color="#E5E5E5"> characteristic is a data point of</font>

84
00:04:48,669 --> 00:04:55,150
which is identified by a 16-bit or

85
00:04:51,190 --> 00:04:57,159
hundred twenty<font color="#CCCCCC"> 8-bit UUID for example in</font>

86
00:04:55,150 --> 00:05:00,008
the case<font color="#E5E5E5"> of treadmill</font><font color="#CCCCCC"> a data</font><font color="#E5E5E5"> point can</font>

87
00:04:57,159 --> 00:05:02,440
<font color="#E5E5E5">be the steppe climate data</font><font color="#CCCCCC"> hardware data</font>

88
00:05:00,009 --> 00:05:05,470
inclination or in a case of a<font color="#E5E5E5"> Bluetooth</font>

89
00:05:02,440 --> 00:05:16,180
lock<font color="#CCCCCC"> a data point could be</font><font color="#E5E5E5"> the battery</font>

90
00:05:05,470 --> 00:05:18,880
life or the lock triggering mechanism so

91
00:05:16,180 --> 00:05:22,030
let me give you an<font color="#E5E5E5"> idea for those of you</font>

92
00:05:18,880 --> 00:05:25,180
who aren't<font color="#CCCCCC"> familiar of how a bicycle</font>

93
00:05:22,030 --> 00:05:29,289
lock what it looks like how<font color="#E5E5E5"> it works and</font>

94
00:05:25,180 --> 00:05:31,060
<font color="#E5E5E5">how it operates</font><font color="#CCCCCC"> how do you pick a lock</font>

95
00:05:29,289 --> 00:05:33,580
<font color="#E5E5E5">when you don't actually own the lock</font>

96
00:05:31,060 --> 00:05:39,699
that's my first hurdle when it came to

97
00:05:33,580 --> 00:05:41,229
figuring out how a<font color="#CCCCCC"> lock would work</font><font color="#E5E5E5"> since</font>

98
00:05:39,699 --> 00:05:43,930
I pretty much have zero<font color="#CCCCCC"> experience in</font>

99
00:05:41,229 --> 00:05:47,279
Bluetooth<font color="#E5E5E5"> or lock mechanisms I decided</font>

100
00:05:43,930 --> 00:05:51,370
to go<font color="#E5E5E5"> buy one and say quick search on</font>

101
00:05:47,279 --> 00:05:55,919
China's<font color="#CCCCCC"> Belov shopping site Papa I came</font>

102
00:05:51,370 --> 00:06:00,840
<font color="#CCCCCC">upon this</font><font color="#E5E5E5"> lock for the leasing dollars</font>

103
00:05:55,919 --> 00:06:05,560
and appears<font color="#CCCCCC"> to operate the same way as</font>

104
00:06:00,840 --> 00:06:08,080
the locks used on the shed bicycles<font color="#CCCCCC"> also</font>

105
00:06:05,560 --> 00:06:11,110
<font color="#E5E5E5">apparently this company does</font><font color="#CCCCCC"> om the</font>

106
00:06:08,080 --> 00:06:13,508
entire solutions to<font color="#CCCCCC"> bank sharing</font>

107
00:06:11,110 --> 00:06:19,659
companies maybe one of<font color="#E5E5E5"> my targets would</font>

108
00:06:13,509 --> 00:06:22,810
use it in essence this<font color="#CCCCCC"> is the entire</font>

109
00:06:19,659 --> 00:06:25,380
<font color="#E5E5E5">process of how renting a bike works you</font>

110
00:06:22,810 --> 00:06:29,110
download<font color="#CCCCCC"> one of the apps mobile off or</font>

111
00:06:25,380 --> 00:06:32,770
what have you<font color="#E5E5E5"> you</font><font color="#CCCCCC"> enable bluetooth on</font>

112
00:06:29,110 --> 00:06:34,899
<font color="#CCCCCC">your phone you</font><font color="#E5E5E5"> find your account you</font>

113
00:06:32,770 --> 00:06:35,770
scan<font color="#E5E5E5"> the QR</font><font color="#CCCCCC"> code</font><font color="#E5E5E5"> on the bike and the</font>

114
00:06:34,899 --> 00:06:40,330
bike will automate

115
00:06:35,770 --> 00:06:42,580
<font color="#CCCCCC">we unlock the bikes have a small solar</font>

116
00:06:40,330 --> 00:06:45,400
panel to<font color="#CCCCCC"> charge the battery the lock</font><font color="#E5E5E5"> and</font>

117
00:06:42,580 --> 00:06:48,780
most locks<font color="#CCCCCC"> do not come with</font><font color="#E5E5E5"> built-in GPS</font>

118
00:06:45,400 --> 00:06:51,549
GPS data is provided<font color="#CCCCCC"> by a phone</font><font color="#E5E5E5"> and</font>

119
00:06:48,780 --> 00:06:55,719
wherever<font color="#E5E5E5"> you cycle</font><font color="#CCCCCC"> su and finally lock</font>

120
00:06:51,550 --> 00:06:57,340
your bike is where the app will record

121
00:06:55,720 --> 00:07:01,479
your GPS data<font color="#E5E5E5"> and send it off to the</font>

122
00:06:57,340 --> 00:07:06,419
cloud<font color="#CCCCCC"> there are some locks which are</font>

123
00:07:01,479 --> 00:07:06,419
<font color="#CCCCCC">more expensive and do have built-in GPS</font>

124
00:07:08,069 --> 00:07:16,659
<font color="#CCCCCC">so first thing I did was to tear it</font>

125
00:07:11,680 --> 00:07:19,509
<font color="#E5E5E5">apart upon receiving it and so the QR</font>

126
00:07:16,659 --> 00:07:21,009
code is up there and batteries a<font color="#E5E5E5"> four</font>

127
00:07:19,509 --> 00:07:27,639
cell battery inside which<font color="#E5E5E5"> charges via</font>

128
00:07:21,009 --> 00:07:31,270
USB for this lock a small<font color="#E5E5E5"> Bluetooth</font>

129
00:07:27,639 --> 00:07:35,590
logic controller video and this<font color="#CCCCCC"> is</font><font color="#E5E5E5"> the</font>

130
00:07:31,270 --> 00:07:38,979
<font color="#E5E5E5">mantra</font><font color="#CCCCCC"> that releases</font><font color="#E5E5E5"> lock it's a</font>

131
00:07:35,590 --> 00:07:43,299
spring-loaded lock the lock is held in

132
00:07:38,979 --> 00:07:46,830
place with a pin<font color="#CCCCCC"> truly notch out</font><font color="#E5E5E5"> there</font>

133
00:07:43,300 --> 00:07:49,630
and when the unlock command is received

134
00:07:46,830 --> 00:07:56,469
the motor will engage the pin so we

135
00:07:49,630 --> 00:07:59,500
<font color="#E5E5E5">least lock so time to actually look at</font>

136
00:07:56,469 --> 00:08:02,139
how<font color="#CCCCCC"> the lock and app were communicating</font>

137
00:07:59,500 --> 00:08:05,110
because<font color="#CCCCCC"> I no</font><font color="#E5E5E5"> idea where to</font><font color="#CCCCCC"> begin and how</font>

138
00:08:02,139 --> 00:08:11,500
<font color="#CCCCCC">bluetooth work I turned</font><font color="#E5E5E5"> to a great</font>

139
00:08:05,110 --> 00:08:14,139
presentation by this guy<font color="#E5E5E5"> where it was</font>

140
00:08:11,500 --> 00:08:17,409
effectively men in the milling<font color="#CCCCCC"> Bluetooth</font>

141
00:08:14,139 --> 00:08:20,380
connections<font color="#CCCCCC"> thus allowing</font><font color="#E5E5E5"> modifications</font>

142
00:08:17,409 --> 00:08:22,449
of packets<font color="#CCCCCC"> I unfortunately was not able</font>

143
00:08:20,380 --> 00:08:25,120
<font color="#CCCCCC">to</font><font color="#E5E5E5"> get the</font><font color="#CCCCCC"> setup</font><font color="#E5E5E5"> looking for that so I</font>

144
00:08:22,449 --> 00:08:27,190
couldn't<font color="#CCCCCC"> ride</font><font color="#E5E5E5"> it another fantastic</font>

145
00:08:25,120 --> 00:08:29,979
presentation by Anthony<font color="#CCCCCC"> rose and Ben</font>

146
00:08:27,190 --> 00:08:32,200
Ramsey<font color="#E5E5E5"> from</font><font color="#CCCCCC"> Def Con 24 where they used</font>

147
00:08:29,979 --> 00:08:36,010
an uber tooth one to sniff the air

148
00:08:32,200 --> 00:08:39,099
pockets and use washa to basically

149
00:08:36,010 --> 00:08:41,169
figure<font color="#CCCCCC"> out what's going on but for the</font>

150
00:08:39,099 --> 00:08:46,380
life of me<font color="#E5E5E5"> I no idea what was going</font><font color="#CCCCCC"> on</font>

151
00:08:41,169 --> 00:08:46,380
<font color="#CCCCCC">so</font><font color="#E5E5E5"> this is how the capture looks like</font>

152
00:08:46,700 --> 00:08:54,900
<font color="#CCCCCC">you see one</font><font color="#E5E5E5"> right request and one right</font>

153
00:08:50,040 --> 00:08:59,010
response<font color="#E5E5E5"> and after this traffic</font><font color="#CCCCCC"> goes n</font>

154
00:08:54,900 --> 00:09:02,459
<font color="#E5E5E5">true the</font><font color="#CCCCCC"> lock</font><font color="#E5E5E5"> unlocked but what the what</font>

155
00:08:59,010 --> 00:09:05,189
does the bitin bites me and after

156
00:09:02,460 --> 00:09:08,130
replaying this packet nothing happened

157
00:09:05,190 --> 00:09:13,380
<font color="#CCCCCC">so</font><font color="#E5E5E5"> there should</font><font color="#CCCCCC"> be something else</font><font color="#E5E5E5"> going</font>

158
00:09:08,130 --> 00:09:18,030
on<font color="#CCCCCC"> so back to square</font><font color="#E5E5E5"> one</font>

159
00:09:13,380 --> 00:09:19,950
I figured I needed two things<font color="#E5E5E5"> to</font><font color="#CCCCCC"> be able</font>

160
00:09:18,030 --> 00:09:23,040
<font color="#E5E5E5">to help me understand what was</font><font color="#CCCCCC"> going on</font>

161
00:09:19,950 --> 00:09:24,680
first I need to<font color="#E5E5E5"> figure out how the app</font>

162
00:09:23,040 --> 00:09:26,730
was communicating<font color="#CCCCCC"> with the lock</font>

163
00:09:24,680 --> 00:09:29,459
what were the<font color="#CCCCCC"> endpoints that were being</font>

164
00:09:26,730 --> 00:09:32,430
communicated with<font color="#E5E5E5"> and what services or</font>

165
00:09:29,460 --> 00:09:34,500
<font color="#E5E5E5">characteristics that he abused and</font>

166
00:09:32,430 --> 00:09:37,699
second how could<font color="#E5E5E5"> I intercept the ble</font>

167
00:09:34,500 --> 00:09:37,700
traffic to understand what was<font color="#CCCCCC"> going on</font>

168
00:09:38,420 --> 00:09:46,410
for the first problem<font color="#E5E5E5"> I need</font><font color="#CCCCCC"> a way to</font>

169
00:09:41,600 --> 00:09:47,610
figure<font color="#E5E5E5"> out and understand how the app</font>

170
00:09:46,410 --> 00:09:49,740
communicated with the lock we are

171
00:09:47,610 --> 00:09:52,590
<font color="#CCCCCC">Bluetooth after doing a little</font><font color="#E5E5E5"> more</font>

172
00:09:49,740 --> 00:09:56,070
googling<font color="#CCCCCC"> I found a tool written by evil</font>

173
00:09:52,590 --> 00:09:58,200
socket<font color="#E5E5E5"> Blair we and you may know Eva</font>

174
00:09:56,070 --> 00:09:59,780
socket as the more famous author of the

175
00:09:58,200 --> 00:10:03,030
pedicab<font color="#E5E5E5"> took it</font>

176
00:09:59,780 --> 00:10:05,850
so what blaze actually this is that it

177
00:10:03,030 --> 00:10:10,560
innovates services and characteristics

178
00:10:05,850 --> 00:10:13,710
on a ble device this<font color="#CCCCCC"> will easily allow</font>

179
00:10:10,560 --> 00:10:16,319
me to see in a practical<font color="#CCCCCC"> manner</font><font color="#E5E5E5"> what</font>

180
00:10:13,710 --> 00:10:18,530
services<font color="#E5E5E5"> and what characteristics</font><font color="#CCCCCC"> they</font>

181
00:10:16,320 --> 00:10:21,660
<font color="#E5E5E5">are on a device</font><font color="#CCCCCC"> that</font><font color="#E5E5E5"> can be read to or</font>

182
00:10:18,530 --> 00:10:26,240
written<font color="#E5E5E5"> to read</font><font color="#CCCCCC"> from or its and to in</font>

183
00:10:21,660 --> 00:10:26,240
this screenshot<font color="#E5E5E5"> at the bottom</font><font color="#CCCCCC"> we can see</font>

184
00:10:26,690 --> 00:10:32,010
the different<font color="#CCCCCC"> characteristics that can</font>

185
00:10:30,570 --> 00:10:37,380
<font color="#E5E5E5">be read for min</font><font color="#CCCCCC"> Witten sue under</font>

186
00:10:32,010 --> 00:10:43,319
<font color="#E5E5E5">properties column and for my second</font>

187
00:10:37,380 --> 00:10:46,220
problem<font color="#E5E5E5"> since I have the app and lock</font>

188
00:10:43,320 --> 00:10:49,920
<font color="#E5E5E5">and basically the app and lock to lock</font>

189
00:10:46,220 --> 00:10:51,780
it all comes down to<font color="#CCCCCC"> understanding the</font>

190
00:10:49,920 --> 00:10:53,640
process of what<font color="#CCCCCC"> BRE messages are being</font>

191
00:10:51,780 --> 00:10:56,550
sent<font color="#CCCCCC"> to</font><font color="#E5E5E5"> the lock</font>

192
00:10:53,640 --> 00:10:58,910
I<font color="#E5E5E5"> turned to</font><font color="#CCCCCC"> Frida and if we that</font><font color="#E5E5E5"> trace</font>

193
00:10:56,550 --> 00:11:00,859
<font color="#CCCCCC">to which will allow</font><font color="#E5E5E5"> me</font>

194
00:10:58,910 --> 00:11:03,709
to view in<font color="#CCCCCC"> real-time what</font><font color="#E5E5E5"> yet was</font>

195
00:11:00,860 --> 00:11:06,950
processing for those of you who have not

196
00:11:03,710 --> 00:11:09,470
<font color="#E5E5E5">used</font><font color="#CCCCCC"> Frieda before</font><font color="#E5E5E5"> it's a wonderful tool</font>

197
00:11:06,950 --> 00:11:14,270
to<font color="#E5E5E5"> allow instrumentation of applications</font>

198
00:11:09,470 --> 00:11:16,040
<font color="#E5E5E5">across various platforms</font><font color="#CCCCCC"> in</font><font color="#E5E5E5"> particular</font>

199
00:11:14,270 --> 00:11:19,340
the Frieda trace<font color="#E5E5E5"> tool for the iOS</font>

200
00:11:16,040 --> 00:11:21,890
<font color="#CCCCCC">platform allows users to in essence</font><font color="#E5E5E5"> log</font>

201
00:11:19,340 --> 00:11:24,830
in relatively<font color="#CCCCCC"> real time object to see</font>

202
00:11:21,890 --> 00:11:26,600
classes and methods and see functions

203
00:11:24,830 --> 00:11:33,110
which<font color="#E5E5E5"> are accessed and executed</font><font color="#CCCCCC"> by the</font>

204
00:11:26,600 --> 00:11:35,300
<font color="#CCCCCC">application since we can use Frida to</font>

205
00:11:33,110 --> 00:11:38,720
who can view methods and messages being

206
00:11:35,300 --> 00:11:42,560
sent<font color="#CCCCCC"> we now need to figure</font><font color="#E5E5E5"> out which one</font>

207
00:11:38,720 --> 00:11:44,000
to<font color="#CCCCCC"> use in iOS I found that the</font><font color="#E5E5E5"> cognitive</font>

208
00:11:42,560 --> 00:11:48,199
<font color="#E5E5E5">framework is</font><font color="#CCCCCC"> used to perform</font><font color="#E5E5E5"> load of</font>

209
00:11:44,000 --> 00:11:50,390
communications<font color="#E5E5E5"> and the CB peripheral and</font>

210
00:11:48,200 --> 00:11:54,320
peripheral delegate classes are of most

211
00:11:50,390 --> 00:11:57,560
<font color="#E5E5E5">interesting in particular the read value</font>

212
00:11:54,320 --> 00:12:01,040
right value and<font color="#E5E5E5"> set notify value of</font>

213
00:11:57,560 --> 00:12:03,050
<font color="#CCCCCC">interests it is quite obvious</font><font color="#E5E5E5"> what these</font>

214
00:12:01,040 --> 00:12:05,360
<font color="#E5E5E5">values do</font><font color="#CCCCCC"> we</font><font color="#E5E5E5"> value read some data</font><font color="#CCCCCC"> from</font>

215
00:12:03,050 --> 00:12:08,449
<font color="#E5E5E5">the characteristics right value write</font>

216
00:12:05,360 --> 00:12:12,080
some data to the characteristic<font color="#CCCCCC"> and</font>

217
00:12:08,450 --> 00:12:15,770
another<font color="#E5E5E5"> interesting property about ble</font>

218
00:12:12,080 --> 00:12:19,130
<font color="#E5E5E5">is that it is possible</font><font color="#CCCCCC"> to get</font><font color="#E5E5E5"> a</font>

219
00:12:15,770 --> 00:12:21,860
peripheral<font color="#E5E5E5"> in this case the lock to push</font>

220
00:12:19,130 --> 00:12:24,080
data<font color="#CCCCCC"> to the app this is done</font><font color="#E5E5E5"> through the</font>

221
00:12:21,860 --> 00:12:27,830
notify property of the characteristic

222
00:12:24,080 --> 00:12:30,830
<font color="#E5E5E5">and it can be</font><font color="#CCCCCC"> enabled by the</font><font color="#E5E5E5"> set notify</font>

223
00:12:27,830 --> 00:12:34,040
value method<font color="#E5E5E5"> and</font><font color="#CCCCCC"> captured</font><font color="#E5E5E5"> data that's</font>

224
00:12:30,830 --> 00:12:37,220
coming back through that push message<font color="#CCCCCC"> we</font>

225
00:12:34,040 --> 00:12:45,170
can then trace<font color="#CCCCCC"> the</font><font color="#E5E5E5"> update methods of the</font>

226
00:12:37,220 --> 00:12:49,130
<font color="#CCCCCC">CDE</font><font color="#E5E5E5"> peripheral delegate class so after a</font>

227
00:12:45,170 --> 00:12:51,500
lot of reversing<font color="#E5E5E5"> of the proxying of</font><font color="#CCCCCC"> HDB</font>

228
00:12:49,130 --> 00:12:53,600
traffic and recording of ble reads and

229
00:12:51,500 --> 00:12:55,640
writes<font color="#CCCCCC"> i've come up</font><font color="#E5E5E5"> with the</font><font color="#CCCCCC"> following</font>

230
00:12:53,600 --> 00:12:59,360
process<font color="#E5E5E5"> to unlock the bicycle lock that</font>

231
00:12:55,640 --> 00:13:02,360
I bought from China<font color="#E5E5E5"> if s scan a QR code</font>

232
00:12:59,360 --> 00:13:06,200
<font color="#E5E5E5">from the lock the app will get a lock</font>

233
00:13:02,360 --> 00:13:09,560
key from<font color="#E5E5E5"> the</font><font color="#CCCCCC"> server server responds with</font>

234
00:13:06,200 --> 00:13:13,149
<font color="#E5E5E5">a lock key that makes a request to the</font>

235
00:13:09,560 --> 00:13:15,439
<font color="#E5E5E5">lock for an encrypted token</font>

236
00:13:13,149 --> 00:13:21,050
<font color="#CCCCCC">Lock response we have</font><font color="#E5E5E5"> the encrypted</font>

237
00:13:15,440 --> 00:13:24,350
token<font color="#CCCCCC"> at</font><font color="#E5E5E5"> the clips the clips the token</font>

238
00:13:21,050 --> 00:13:27,829
with the key from<font color="#CCCCCC"> the server</font><font color="#E5E5E5"> and</font><font color="#CCCCCC"> send</font>

239
00:13:24,350 --> 00:13:30,170
<font color="#E5E5E5">another right request to unlock lock so</font>

240
00:13:27,830 --> 00:13:32,690
this is a challenge and response process

241
00:13:30,170 --> 00:13:34,969
where the lock will provide<font color="#CCCCCC"> a token and</font>

242
00:13:32,690 --> 00:13:36,920
<font color="#E5E5E5">if you have the</font><font color="#CCCCCC"> corresponding key you'll</font>

243
00:13:34,970 --> 00:13:40,660
be<font color="#CCCCCC"> able to</font><font color="#E5E5E5"> decrypt the token and send</font>

244
00:13:36,920 --> 00:13:40,660
yourself<font color="#E5E5E5"> back to LA to get it to a lock</font>

245
00:13:41,709 --> 00:13:46,699
by the way if it wasn't already<font color="#E5E5E5"> clear</font>

246
00:13:44,360 --> 00:13:50,839
<font color="#E5E5E5">the security</font><font color="#CCCCCC"> of this lock</font><font color="#E5E5E5"> and the</font>

247
00:13:46,700 --> 00:13:52,820
company making<font color="#E5E5E5"> Islam is horrible</font><font color="#CCCCCC"> I can</font>

248
00:13:50,839 --> 00:13:55,880
retrieve any lock key from<font color="#E5E5E5"> the server by</font>

249
00:13:52,820 --> 00:13:57,860
incrementing the lock ID and the company

250
00:13:55,880 --> 00:14:01,910
<font color="#E5E5E5">doesn't only make bicycle locks it makes</font>

251
00:13:57,860 --> 00:14:08,300
her locks and locks and all sorts of

252
00:14:01,910 --> 00:14:12,410
other kinds<font color="#E5E5E5"> of locks so let's try to get</font>

253
00:14:08,300 --> 00:14:15,109
this working<font color="#E5E5E5"> in available now we already</font>

254
00:14:12,410 --> 00:14:18,490
<font color="#E5E5E5">know how such a lot could work and the</font>

255
00:14:15,110 --> 00:14:20,720
steps needed to understand how it<font color="#E5E5E5"> works</font>

256
00:14:18,490 --> 00:14:22,910
<font color="#CCCCCC">what methods hook what kind of</font>

257
00:14:20,720 --> 00:14:26,420
operations<font color="#CCCCCC"> the and the lock could</font>

258
00:14:22,910 --> 00:14:28,870
perform how does it compare to<font color="#E5E5E5"> an actual</font>

259
00:14:26,420 --> 00:14:33,500
lock use by the bike sharing companies

260
00:14:28,870 --> 00:14:35,450
for the<font color="#E5E5E5"> most part the hardware is pretty</font>

261
00:14:33,500 --> 00:14:38,329
<font color="#E5E5E5">much the same someone did a YouTube</font>

262
00:14:35,450 --> 00:14:39,950
<font color="#E5E5E5">video teardown</font><font color="#CCCCCC"> of the open</font><font color="#E5E5E5"> lock</font><font color="#CCCCCC"> and as</font>

263
00:14:38,329 --> 00:14:42,109
we<font color="#E5E5E5"> can</font><font color="#CCCCCC"> see here there's only a single</font>

264
00:14:39,950 --> 00:14:45,950
<font color="#E5E5E5">cell battery on this this is</font><font color="#CCCCCC"> the</font>

265
00:14:42,110 --> 00:14:50,510
<font color="#E5E5E5">physical look and there's a Texas</font>

266
00:14:45,950 --> 00:14:57,860
<font color="#CCCCCC">Instruments cc2 541 SOC chip which</font>

267
00:14:50,510 --> 00:15:00,529
controls the<font color="#CCCCCC"> motor so now let's figure</font>

268
00:14:57,860 --> 00:15:05,600
out the<font color="#E5E5E5"> services and characteristics</font><font color="#CCCCCC"> uu</font>

269
00:15:00,529 --> 00:15:09,800
IDs<font color="#CCCCCC"> that could be of interest we know</font>

270
00:15:05,600 --> 00:15:11,630
that now<font color="#E5E5E5"> we know that these are</font><font color="#CCCCCC"> the</font>

271
00:15:09,800 --> 00:15:13,819
characteristics of<font color="#CCCCCC"> interests</font><font color="#E5E5E5"> but</font>

272
00:15:11,630 --> 00:15:19,189
<font color="#CCCCCC">unwilling show which</font>

273
00:15:13,820 --> 00:15:21,080
is responsible for<font color="#CCCCCC"> what</font><font color="#E5E5E5"> we need to trace</font>

274
00:15:19,190 --> 00:15:22,550
the<font color="#E5E5E5"> flow of the app to identify which</font>

275
00:15:21,080 --> 00:15:25,730
characteristics<font color="#E5E5E5"> was used and most</font>

276
00:15:22,550 --> 00:15:30,229
communicated with<font color="#E5E5E5"> as it turns out the</font>

277
00:15:25,730 --> 00:15:34,190
<font color="#CCCCCC">ffff six characteristic is the one of</font>

278
00:15:30,230 --> 00:15:36,140
most interests to guide you<font color="#CCCCCC"> through</font><font color="#E5E5E5"> the</font>

279
00:15:34,190 --> 00:15:38,690
<font color="#E5E5E5">next couple</font><font color="#CCCCCC"> of slides what I've done is</font>

280
00:15:36,140 --> 00:15:43,610
to lay out<font color="#E5E5E5"> the entire process here to</font>

281
00:15:38,690 --> 00:15:47,600
show you how<font color="#CCCCCC"> the local</font><font color="#E5E5E5"> ox so same thing</font>

282
00:15:43,610 --> 00:15:49,280
<font color="#CCCCCC">firstly scan QR code that checks</font><font color="#E5E5E5"> the</font>

283
00:15:47,600 --> 00:15:53,150
lock status<font color="#E5E5E5"> with</font><font color="#CCCCCC"> the server and also</font>

284
00:15:49,280 --> 00:15:56,180
<font color="#E5E5E5">sends it your coordinates the app</font>

285
00:15:53,150 --> 00:15:59,420
responds with the<font color="#E5E5E5"> lock status and if</font>

286
00:15:56,180 --> 00:16:04,729
<font color="#CCCCCC">okay the app</font><font color="#E5E5E5"> will then proceed to</font>

287
00:15:59,420 --> 00:16:09,729
request a token from<font color="#E5E5E5"> the lock within the</font>

288
00:16:04,730 --> 00:16:09,730
app<font color="#E5E5E5"> and HTTP requests made</font><font color="#CCCCCC"> to the server</font>

289
00:16:10,030 --> 00:16:17,089
<font color="#CCCCCC">this is known as</font><font color="#E5E5E5"> a key</font><font color="#CCCCCC"> sauce so then the</font>

290
00:16:15,620 --> 00:16:20,840
app uses the key sauce to request an

291
00:16:17,090 --> 00:16:24,080
unlock key from<font color="#E5E5E5"> the server server</font>

292
00:16:20,840 --> 00:16:27,680
replies with an unlock key and the app

293
00:16:24,080 --> 00:16:32,360
uses that unlock key swell on the bike

294
00:16:27,680 --> 00:16:36,050
<font color="#CCCCCC">so similar to the lock that I bought off</font>

295
00:16:32,360 --> 00:16:39,260
<font color="#CCCCCC">pow-pow</font><font color="#E5E5E5"> it appears</font><font color="#CCCCCC"> to have</font><font color="#E5E5E5"> some sort of</font>

296
00:16:36,050 --> 00:16:41,890
<font color="#E5E5E5">challenge and response mechanism let's</font>

297
00:16:39,260 --> 00:16:45,500
go through<font color="#CCCCCC"> it in a little more detail</font>

298
00:16:41,890 --> 00:16:49,340
scanning QR code provides the app of the

299
00:16:45,500 --> 00:16:52,430
<font color="#E5E5E5">ID number of the lock to unlock scene in</font>

300
00:16:49,340 --> 00:16:55,760
point<font color="#E5E5E5"> one above the QR code is basically</font>

301
00:16:52,430 --> 00:16:59,510
<font color="#E5E5E5">the URL of the</font><font color="#CCCCCC"> bike company with the</font>

302
00:16:55,760 --> 00:17:02,960
<font color="#CCCCCC">back ID again</font><font color="#E5E5E5"> assuming</font><font color="#CCCCCC"> you use the uber</font>

303
00:16:59,510 --> 00:17:04,939
<font color="#E5E5E5">app to scan code the next</font><font color="#CCCCCC"> requests is</font>

304
00:17:02,960 --> 00:17:07,459
then made to<font color="#E5E5E5"> the solved with the</font><font color="#CCCCCC"> lock ID</font>

305
00:17:04,939 --> 00:17:12,770
and the current coordinates of where the

306
00:17:07,459 --> 00:17:15,800
lock is<font color="#CCCCCC"> Kent server</font><font color="#E5E5E5"> responds to</font><font color="#CCCCCC"> this</font>

307
00:17:12,770 --> 00:17:18,589
data check with whether lock is faulty

308
00:17:15,800 --> 00:17:21,198
<font color="#E5E5E5">or not based on reports</font><font color="#CCCCCC"> from other users</font>

309
00:17:18,589 --> 00:17:23,560
<font color="#E5E5E5">if it's not the app will proceed to the</font>

310
00:17:21,199 --> 00:17:23,560
<font color="#E5E5E5">next step</font>

311
00:17:23,890 --> 00:17:29,480
here the requests a key<font color="#E5E5E5"> sauce from</font><font color="#CCCCCC"> the</font>

312
00:17:27,169 --> 00:17:32,120
lock<font color="#E5E5E5"> and this can be a little confusing</font>

313
00:17:29,480 --> 00:17:35,299
<font color="#E5E5E5">so let me explain as I mentioned earlier</font>

314
00:17:32,120 --> 00:17:37,399
it's possible for a peripheral<font color="#CCCCCC"> device to</font>

315
00:17:35,299 --> 00:17:41,929
send push notifications<font color="#CCCCCC"> also known as</font>

316
00:17:37,400 --> 00:17:42,529
notify<font color="#E5E5E5"> in ble back to the app so</font><font color="#CCCCCC"> as</font>

317
00:17:41,929 --> 00:17:45,409
shown here

318
00:17:42,529 --> 00:17:49,549
the app is setting the<font color="#CCCCCC"> modify notify</font>

319
00:17:45,409 --> 00:17:54,580
flag in the<font color="#E5E5E5"> ff6 characteristic said</font>

320
00:17:49,549 --> 00:17:57,470
notify value<font color="#CCCCCC"> 1</font><font color="#E5E5E5"> mix the</font><font color="#CCCCCC"> absence requests</font>

321
00:17:54,580 --> 00:18:02,389
for the key source to do to<font color="#E5E5E5"> lock by</font>

322
00:17:57,470 --> 00:18:05,179
performing<font color="#E5E5E5"> a ble right the bottom</font><font color="#CCCCCC"> one</font>

323
00:18:02,390 --> 00:18:07,669
here is a dump<font color="#E5E5E5"> of the ble right and the</font>

324
00:18:05,179 --> 00:18:11,600
memory location<font color="#E5E5E5"> and shows</font><font color="#CCCCCC"> that the write</font>

325
00:18:07,669 --> 00:18:15,559
command<font color="#CCCCCC"> is in the form of 67 7400</font><font color="#E5E5E5"> 81 81</font>

326
00:18:11,600 --> 00:18:20,059
<font color="#E5E5E5">and it is being sent to the same ffff 6</font>

327
00:18:15,559 --> 00:18:21,740
characteristic so now<font color="#CCCCCC"> that</font><font color="#E5E5E5"> waits and if</font>

328
00:18:20,059 --> 00:18:24,168
the command sent was correct<font color="#E5E5E5"> and</font>

329
00:18:21,740 --> 00:18:26,210
accepted by<font color="#CCCCCC"> the lock the lock will</font>

330
00:18:24,169 --> 00:18:33,289
respond with a notification<font color="#E5E5E5"> containing</font>

331
00:18:26,210 --> 00:18:35,390
<font color="#E5E5E5">the key sauce here we see the</font>

332
00:18:33,289 --> 00:18:37,879
notification response from the lock

333
00:18:35,390 --> 00:18:40,820
through<font color="#E5E5E5"> the update value for</font>

334
00:18:37,880 --> 00:18:43,159
characteristic<font color="#E5E5E5"> method and within the</font>

335
00:18:40,820 --> 00:18:48,289
response data<font color="#E5E5E5"> the app picks out the key</font>

336
00:18:43,159 --> 00:18:50,210
<font color="#E5E5E5">sauce as shown highlighted with what the</font>

337
00:18:48,289 --> 00:18:52,549
<font color="#E5E5E5">rest of the data means</font><font color="#CCCCCC"> I have no idea</font>

338
00:18:50,210 --> 00:18:54,919
<font color="#CCCCCC">and don't really</font><font color="#E5E5E5"> need to know</font><font color="#CCCCCC"> because</font>

339
00:18:52,549 --> 00:18:56,330
<font color="#E5E5E5">every time this transaction happens the</font>

340
00:18:54,919 --> 00:18:58,460
key sauce is always taken from the same

341
00:18:56,330 --> 00:19:04,428
string location<font color="#E5E5E5"> the 9th to the 12th is</font>

342
00:18:58,460 --> 00:19:06,409
the<font color="#CCCCCC"> key sauce is then sent to</font><font color="#E5E5E5"> the</font><font color="#CCCCCC"> server</font>

343
00:19:04,429 --> 00:19:09,470
through<font color="#E5E5E5"> the a</font><font color="#CCCCCC"> low-pass</font><font color="#E5E5E5"> API and assuming</font>

344
00:19:06,409 --> 00:19:15,380
no errors<font color="#CCCCCC"> the server then responds with</font>

345
00:19:09,470 --> 00:19:21,020
a pair<font color="#CCCCCC"> of keys so now</font><font color="#E5E5E5"> it got keys how</font>

346
00:19:15,380 --> 00:19:24,200
are they<font color="#E5E5E5"> used mix and unlock message is</font>

347
00:19:21,020 --> 00:19:27,590
constructed<font color="#E5E5E5"> and sent to the</font><font color="#CCCCCC"> ffff</font><font color="#E5E5E5"> 6</font>

348
00:19:24,200 --> 00:19:31,970
characteristic in two parts as you can

349
00:19:27,590 --> 00:19:34,100
see the<font color="#CCCCCC"> two value messages again below</font>

350
00:19:31,970 --> 00:19:35,309
is the<font color="#E5E5E5"> dump of what the actual</font><font color="#CCCCCC"> message</font>

351
00:19:34,100 --> 00:19:38,759
is

352
00:19:35,309 --> 00:19:42,480
and it basically kind<font color="#E5E5E5"> of looks similar</font>

353
00:19:38,759 --> 00:19:44,669
<font color="#E5E5E5">to the messages that I try to be playing</font>

354
00:19:42,480 --> 00:19:47,759
earlier from the<font color="#CCCCCC"> wireshark capture which</font>

355
00:19:44,669 --> 00:19:49,440
didn't work<font color="#CCCCCC"> so I</font><font color="#E5E5E5"> dug a little deeper to</font>

356
00:19:47,759 --> 00:19:51,029
find<font color="#E5E5E5"> out how the unlock message is</font>

357
00:19:49,440 --> 00:19:58,139
constructed and try to piece together

358
00:19:51,029 --> 00:20:00,330
what each of the values<font color="#E5E5E5"> minute after</font>

359
00:19:58,139 --> 00:20:04,110
<font color="#E5E5E5">looking at numerous unlocked messages I</font>

360
00:20:00,330 --> 00:20:07,830
found the following the in the first

361
00:20:04,110 --> 00:20:10,289
<font color="#E5E5E5">message the first</font><font color="#CCCCCC"> two</font><font color="#E5E5E5"> bytes are always</font>

362
00:20:07,830 --> 00:20:14,809
static<font color="#CCCCCC"> throughout all messages</font><font color="#E5E5E5"> sent from</font>

363
00:20:10,289 --> 00:20:18,330
<font color="#E5E5E5">the app to</font><font color="#CCCCCC"> the lock the next byte is</font>

364
00:20:14,809 --> 00:20:23,610
also static and I presume to be<font color="#E5E5E5"> the</font>

365
00:20:18,330 --> 00:20:26,539
length of<font color="#E5E5E5"> the message subsequently the</font>

366
00:20:23,610 --> 00:20:29,908
next byte could be the unlock command

367
00:20:26,539 --> 00:20:35,610
followed<font color="#CCCCCC"> by the key index</font><font color="#E5E5E5"> provided by</font>

368
00:20:29,909 --> 00:20:38,789
the<font color="#E5E5E5"> server and</font><font color="#CCCCCC"> then links subsequent six</font>

369
00:20:35,610 --> 00:20:42,149
bytes<font color="#CCCCCC"> static again</font><font color="#E5E5E5"> no idea what they</font>

370
00:20:38,789 --> 00:20:45,410
mean<font color="#E5E5E5"> doesn't matter and for the</font><font color="#CCCCCC"> final</font>

371
00:20:42,149 --> 00:20:47,539
five bytes it's the date and<font color="#E5E5E5"> timestamp</font>

372
00:20:45,410 --> 00:20:51,059
[Music]

373
00:20:47,539 --> 00:20:51,929
message<font color="#E5E5E5"> to contains the key from the</font>

374
00:20:51,059 --> 00:20:54,330
<font color="#E5E5E5">server</font>

375
00:20:51,929 --> 00:20:56,429
however this key has been<font color="#E5E5E5"> truncated to</font>

376
00:20:54,330 --> 00:21:01,139
<font color="#CCCCCC">toe fights again why this</font><font color="#E5E5E5"> have been done</font>

377
00:20:56,429 --> 00:21:02,850
<font color="#E5E5E5">I have no idea</font><font color="#CCCCCC"> last</font><font color="#E5E5E5"> byte is a checksum</font>

378
00:21:01,139 --> 00:21:05,519
for<font color="#E5E5E5"> the entire message</font><font color="#CCCCCC"> and this</font><font color="#E5E5E5"> is done</font>

379
00:21:02,850 --> 00:21:12,330
<font color="#CCCCCC">by performing a</font><font color="#E5E5E5"> XOR</font><font color="#CCCCCC"> of each byte across</font>

380
00:21:05,519 --> 00:21:16,710
both<font color="#CCCCCC"> messages so I had to jump</font><font color="#E5E5E5"> through</font><font color="#CCCCCC"> a</font>

381
00:21:12,330 --> 00:21:19,320
lot<font color="#CCCCCC"> of Hoops on my</font><font color="#E5E5E5"> journey and the first</font>

382
00:21:16,710 --> 00:21:20,789
was trying to understand what messages

383
00:21:19,320 --> 00:21:23,428
was being sent from<font color="#E5E5E5"> the app to the</font>

384
00:21:20,789 --> 00:21:26,009
server<font color="#E5E5E5"> as you can see here the messages</font>

385
00:21:23,429 --> 00:21:27,629
<font color="#E5E5E5">look to be encrypted why the programmers</font>

386
00:21:26,009 --> 00:21:30,539
would encrypt messages sent to<font color="#E5E5E5"> the</font>

387
00:21:27,629 --> 00:21:32,428
server<font color="#E5E5E5"> is beyond me and basically</font>

388
00:21:30,539 --> 00:21:33,679
they're just<font color="#CCCCCC"> wasting their</font><font color="#E5E5E5"> time</font><font color="#CCCCCC"> and my</font>

389
00:21:32,429 --> 00:21:38,039
time

390
00:21:33,679 --> 00:21:40,950
so if<font color="#CCCCCC"> Reta</font><font color="#E5E5E5"> it's easy to hook the right</font>

391
00:21:38,039 --> 00:21:43,080
<font color="#E5E5E5">methods and I found the messages</font><font color="#CCCCCC"> when</font>

392
00:21:40,950 --> 00:21:45,389
encrypted using AES<font color="#E5E5E5"> using a combination</font>

393
00:21:43,080 --> 00:21:46,720
of a static string and version<font color="#CCCCCC"> number of</font>

394
00:21:45,389 --> 00:21:51,689
<font color="#E5E5E5">the application</font>

395
00:21:46,720 --> 00:21:51,690
provided in the HTTP header

396
00:21:54,840 --> 00:22:00,850
okay so encryption<font color="#E5E5E5"> kill but if you</font>

397
00:21:58,270 --> 00:22:03,940
<font color="#CCCCCC">notice</font><font color="#E5E5E5"> that there's a string tag to the</font>

398
00:22:00,850 --> 00:22:07,809
back of the message sent to the<font color="#E5E5E5"> server</font>

399
00:22:03,940 --> 00:22:09,580
<font color="#CCCCCC">what the heck</font><font color="#E5E5E5"> is that again the</font>

400
00:22:07,809 --> 00:22:12,340
developers implemented another form of

401
00:22:09,580 --> 00:22:16,059
<font color="#E5E5E5">integrity check for some unknown reason</font>

402
00:22:12,340 --> 00:22:17,439
to make my life harder<font color="#E5E5E5"> with further</font>

403
00:22:16,059 --> 00:22:21,360
assistance<font color="#E5E5E5"> from Frieda I was found that</font>

404
00:22:17,440 --> 00:22:26,590
the string is basically a sha-1 some of

405
00:22:21,360 --> 00:22:28,658
the following values<font color="#E5E5E5"> the message to be</font>

406
00:22:26,590 --> 00:22:32,010
<font color="#E5E5E5">sent to the server it's like the string</font>

407
00:22:28,659 --> 00:22:32,010
and the application version

408
00:22:32,340 --> 00:22:38,379
now you must wondering you must be

409
00:22:35,320 --> 00:22:44,760
wondering how users get charged<font color="#E5E5E5"> after</font>

410
00:22:38,380 --> 00:22:48,190
<font color="#CCCCCC">the bike is unlocked the app sends a</font>

411
00:22:44,760 --> 00:22:54,340
status<font color="#E5E5E5"> message to the server</font><font color="#CCCCCC"> to inform</font>

412
00:22:48,190 --> 00:22:57,940
it<font color="#E5E5E5"> it has been</font><font color="#CCCCCC"> a lot then it</font><font color="#E5E5E5"> starts a</font>

413
00:22:54,340 --> 00:23:01,780
timer on the server when<font color="#E5E5E5"> I finish with</font>

414
00:22:57,940 --> 00:23:04,030
the bike again the app sends<font color="#CCCCCC"> the lock</font>

415
00:23:01,780 --> 00:23:06,480
<font color="#CCCCCC">status</font><font color="#E5E5E5"> and the server stops the time so</font>

416
00:23:04,030 --> 00:23:09,100
you can see<font color="#E5E5E5"> why I'm going with</font><font color="#CCCCCC"> this</font>

417
00:23:06,480 --> 00:23:13,299
lastly the server will build a<font color="#E5E5E5"> user</font>

418
00:23:09,100 --> 00:23:16,740
account<font color="#E5E5E5"> accordingly so if I write my own</font>

419
00:23:13,299 --> 00:23:20,080
app to perform the unlock and stop

420
00:23:16,740 --> 00:23:20,890
sending the server any information<font color="#E5E5E5"> after</font>

421
00:23:20,080 --> 00:23:23,710
I'm<font color="#CCCCCC"> locked in</font><font color="#E5E5E5"> the</font><font color="#CCCCCC"> bike</font>

422
00:23:20,890 --> 00:23:25,360
I get free<font color="#E5E5E5"> rights my account is not</font>

423
00:23:23,710 --> 00:23:32,950
charged<font color="#E5E5E5"> so that doesn't know</font><font color="#CCCCCC"> why fine</font>

424
00:23:25,360 --> 00:23:36,240
lock the bike so finally<font color="#E5E5E5"> after jumping</font>

425
00:23:32,950 --> 00:23:38,140
through<font color="#E5E5E5"> the ridiculous hoops</font><font color="#CCCCCC"> and</font>

426
00:23:36,240 --> 00:23:40,059
understanding how<font color="#E5E5E5"> ble communication</font>

427
00:23:38,140 --> 00:23:42,780
works how<font color="#CCCCCC"> to</font><font color="#E5E5E5"> unlock</font><font color="#CCCCCC"> command is formed</font><font color="#E5E5E5"> I</font>

428
00:23:40,059 --> 00:23:42,780
<font color="#CCCCCC">build my own key</font>

429
00:23:48,580 --> 00:23:52,840
it's less traumatic without sound

430
00:24:14,770 --> 00:24:19,210
okay I'm not<font color="#CCCCCC"> sure we heard that</font><font color="#E5E5E5"> but yeah</font>

431
00:24:23,620 --> 00:24:29,570
okay<font color="#CCCCCC"> uh as you've no doubt not this</font>

432
00:24:26,809 --> 00:24:33,350
opening the lock depends on a<font color="#E5E5E5"> connection</font>

433
00:24:29,570 --> 00:24:36,980
to the server<font color="#CCCCCC"> how then can</font><font color="#E5E5E5"> you get it to</font>

434
00:24:33,350 --> 00:24:40,939
unlock<font color="#E5E5E5"> offline since</font><font color="#CCCCCC"> oh by</font><font color="#E5E5E5"> has recently</font>

435
00:24:36,980 --> 00:24:43,730
gone bankrupt<font color="#CCCCCC"> somebody dismantled a lot</font>

436
00:24:40,940 --> 00:24:48,130
from the<font color="#CCCCCC"> pipe retrieved the chip</font><font color="#E5E5E5"> and</font>

437
00:24:43,730 --> 00:24:50,659
sent it over to<font color="#E5E5E5"> me so my solution was to</font>

438
00:24:48,130 --> 00:24:52,900
my<font color="#E5E5E5"> solution was to try</font><font color="#CCCCCC"> and get a dump of</font>

439
00:24:50,659 --> 00:24:57,289
<font color="#E5E5E5">the</font><font color="#CCCCCC"> firmware to</font><font color="#E5E5E5"> figure that out</font>

440
00:24:52,900 --> 00:24:59,900
unfortunately the without fuse was set

441
00:24:57,289 --> 00:25:02,299
on<font color="#E5E5E5"> the TI chip and wasn't really</font>

442
00:24:59,900 --> 00:25:04,460
<font color="#E5E5E5">possible for me to dump the firmware if</font>

443
00:25:02,299 --> 00:25:07,370
anyone knows other methods of extracting

444
00:25:04,460 --> 00:25:13,130
from<font color="#E5E5E5"> where</font><font color="#CCCCCC"> from this</font><font color="#E5E5E5"> pH if I like to</font>

445
00:25:07,370 --> 00:25:15,709
hear<font color="#CCCCCC"> from</font><font color="#E5E5E5"> you however I've recently been</font>

446
00:25:13,130 --> 00:25:18,700
in touch with<font color="#E5E5E5"> a security researcher from</font>

447
00:25:15,710 --> 00:25:21,590
Switzerland after<font color="#CCCCCC"> I submitted my CFP and</font>

448
00:25:18,700 --> 00:25:24,409
<font color="#E5E5E5">earlier this month because of the</font>

449
00:25:21,590 --> 00:25:26,090
bankruptcy<font color="#CCCCCC"> he managed to get</font><font color="#E5E5E5"> a whole</font>

450
00:25:24,409 --> 00:25:26,860
<font color="#CCCCCC">bunch of locks</font><font color="#E5E5E5"> and had some fun</font><font color="#CCCCCC"> with</font>

451
00:25:26,090 --> 00:25:30,649
<font color="#E5E5E5">them</font>

452
00:25:26,860 --> 00:25:33,729
last week he figured<font color="#CCCCCC"> that there is a</font>

453
00:25:30,650 --> 00:25:37,130
possibility<font color="#E5E5E5"> of unlocking them offline</font><font color="#CCCCCC"> I</font>

454
00:25:33,730 --> 00:25:39,679
won't<font color="#E5E5E5"> reveal more</font><font color="#CCCCCC"> yes it is his research</font>

455
00:25:37,130 --> 00:25:41,330
and for him<font color="#E5E5E5"> to share with the world but</font>

456
00:25:39,679 --> 00:25:50,000
it<font color="#E5E5E5"> is an interesting implementation</font>

457
00:25:41,330 --> 00:25:53,178
floor<font color="#CCCCCC"> ok</font><font color="#E5E5E5"> relatively</font><font color="#CCCCCC"> easy to unlock the</font>

458
00:25:50,000 --> 00:25:55,549
<font color="#E5E5E5">bike from one back</font><font color="#CCCCCC"> shine</font><font color="#E5E5E5"> company should</font>

459
00:25:53,179 --> 00:26:00,710
<font color="#CCCCCC">be relatively</font><font color="#E5E5E5"> easy to</font><font color="#CCCCCC"> do it for another</font>

460
00:25:55,549 --> 00:26:03,530
no same<font color="#E5E5E5"> thing start off by finding the</font>

461
00:26:00,710 --> 00:26:05,419
services and<font color="#E5E5E5"> characteristics</font><font color="#CCCCCC"> UUID</font><font color="#E5E5E5"> that</font>

462
00:26:03,530 --> 00:26:08,059
could be of<font color="#E5E5E5"> interest</font><font color="#CCCCCC"> looks to be a lot</font>

463
00:26:05,419 --> 00:26:11,030
simpler here<font color="#CCCCCC"> two characteristics and it</font>

464
00:26:08,059 --> 00:26:15,710
obvious which we need to<font color="#CCCCCC"> write</font><font color="#E5E5E5"> to to</font>

465
00:26:11,030 --> 00:26:18,289
unlock the bike for more bike<font color="#E5E5E5"> the</font>

466
00:26:15,710 --> 00:26:19,990
process in unlocking<font color="#E5E5E5"> the lock is much</font>

467
00:26:18,289 --> 00:26:23,399
simpler

468
00:26:19,990 --> 00:26:27,220
same as before<font color="#CCCCCC"> you scan the QR code</font><font color="#E5E5E5"> and</font>

469
00:26:23,399 --> 00:26:30,279
get a back ID that checks the<font color="#E5E5E5"> lock</font>

470
00:26:27,220 --> 00:26:32,649
status<font color="#CCCCCC"> with the server and</font><font color="#E5E5E5"> sends your</font>

471
00:26:30,279 --> 00:26:36,820
coordinates<font color="#E5E5E5"> server responds with</font><font color="#CCCCCC"> the</font>

472
00:26:32,649 --> 00:26:39,369
lock status<font color="#E5E5E5"> however this time if the</font><font color="#CCCCCC"> log</font>

473
00:26:36,820 --> 00:26:42,960
<font color="#E5E5E5">is in good condition</font><font color="#CCCCCC"> the server will</font>

474
00:26:39,369 --> 00:26:47,110
automatically send along the unlock key

475
00:26:42,960 --> 00:26:49,840
the app then uses<font color="#CCCCCC"> the unlock key to</font>

476
00:26:47,110 --> 00:26:54,549
unlock block<font color="#E5E5E5"> so no challenge response</font>

477
00:26:49,840 --> 00:26:56,439
<font color="#E5E5E5">this time just a direct unlock as before</font>

478
00:26:54,549 --> 00:26:57,600
let's<font color="#E5E5E5"> go through that in a little bit</font>

479
00:26:56,440 --> 00:27:02,049
more detail

480
00:26:57,600 --> 00:27:03,908
similar to Oh Mike<font color="#E5E5E5"> after the back is</font>

481
00:27:02,049 --> 00:27:09,668
unlock a lock status<font color="#E5E5E5"> is sent to the</font>

482
00:27:03,909 --> 00:27:12,429
server<font color="#CCCCCC"> time as tax</font><font color="#E5E5E5"> users finish absence</font>

483
00:27:09,669 --> 00:27:17,200
<font color="#E5E5E5">the lock status back to the server</font><font color="#CCCCCC"> timer</font>

484
00:27:12,429 --> 00:27:18,700
ends user<font color="#E5E5E5"> count is built and since we've</font>

485
00:27:17,200 --> 00:27:20,830
cut off messages after<font color="#CCCCCC"> unlocking the</font>

486
00:27:18,700 --> 00:27:28,179
bike time<font color="#E5E5E5"> on the server never really</font>

487
00:27:20,830 --> 00:27:29,889
starts<font color="#CCCCCC"> okay I encountered various crazy</font>

488
00:27:28,179 --> 00:27:34,929
<font color="#E5E5E5">integrity checks implemented by the</font>

489
00:27:29,889 --> 00:27:38,039
developers in the HTTP messages<font color="#E5E5E5"> for the</font>

490
00:27:34,929 --> 00:27:42,309
mobile<font color="#E5E5E5"> app there's a sign parameter and</font>

491
00:27:38,039 --> 00:27:47,350
there's<font color="#CCCCCC"> an IP data parameter</font><font color="#E5E5E5"> how it is</font>

492
00:27:42,309 --> 00:27:50,490
form what are<font color="#CCCCCC"> these in this case they</font>

493
00:27:47,350 --> 00:27:54,279
have<font color="#E5E5E5"> used RSA encryption to encrypt the</font>

494
00:27:50,490 --> 00:27:57,460
user ID string with the date/time<font color="#E5E5E5"> stem</font>

495
00:27:54,279 --> 00:27:59,970
and the output of<font color="#CCCCCC"> that is then used in</font><font color="#E5E5E5"> a</font>

496
00:27:57,460 --> 00:28:04,029
message sent to the<font color="#CCCCCC"> server</font>

497
00:27:59,970 --> 00:28:07,779
the sign parameter<font color="#E5E5E5"> is basically a</font><font color="#CCCCCC"> md5</font>

498
00:28:04,029 --> 00:28:13,899
hash<font color="#CCCCCC"> of data</font><font color="#E5E5E5"> then</font><font color="#CCCCCC"> died a data packet</font>

499
00:28:07,779 --> 00:28:17,590
<font color="#E5E5E5">that's being sent to the</font><font color="#CCCCCC"> server so again</font>

500
00:28:13,899 --> 00:28:20,199
the<font color="#E5E5E5"> process starts out the same</font><font color="#CCCCCC"> the user</font>

501
00:28:17,590 --> 00:28:24,209
<font color="#E5E5E5">scans the QR code and within the QR code</font>

502
00:28:20,200 --> 00:28:24,210
is a<font color="#E5E5E5"> URL with the back</font><font color="#CCCCCC"> edge</font><font color="#E5E5E5"> e at the end</font>

503
00:28:25,400 --> 00:28:31,190
assuming you've used the mobile<font color="#E5E5E5"> app to</font>

504
00:28:28,400 --> 00:28:32,720
scan<font color="#E5E5E5"> the</font><font color="#CCCCCC"> QR code</font><font color="#E5E5E5"> the request is made</font><font color="#CCCCCC"> to</font>

505
00:28:31,190 --> 00:28:39,050
the<font color="#E5E5E5"> server with the log ID and</font>

506
00:28:32,720 --> 00:28:40,720
coordinates of where it was scanned as

507
00:28:39,050 --> 00:28:44,240
<font color="#E5E5E5">mentioned before the difference is here</font>

508
00:28:40,720 --> 00:28:45,830
the<font color="#E5E5E5"> application server will respond with</font>

509
00:28:44,240 --> 00:28:47,800
<font color="#E5E5E5">a faulty message if the log has</font><font color="#CCCCCC"> been</font>

510
00:28:45,830 --> 00:28:50,510
reported faulty by<font color="#CCCCCC"> a number of users or</font>

511
00:28:47,800 --> 00:28:53,919
<font color="#E5E5E5">it will respond immediately with the</font>

512
00:28:50,510 --> 00:28:57,650
anarchy<font color="#E5E5E5"> if the lock is in good condition</font>

513
00:28:53,920 --> 00:28:59,360
<font color="#CCCCCC">this differs from mobile in that it</font>

514
00:28:57,650 --> 00:29:04,100
doesn't<font color="#CCCCCC"> require</font><font color="#E5E5E5"> a challenge from the</font>

515
00:28:59,360 --> 00:29:06,979
<font color="#E5E5E5">lock so what happens with the key from</font>

516
00:29:04,100 --> 00:29:09,169
<font color="#CCCCCC">the server</font><font color="#E5E5E5"> firstly according to trace</font>

517
00:29:06,980 --> 00:29:12,830
the app tells<font color="#E5E5E5"> the lock to send it in</font>

518
00:29:09,170 --> 00:29:16,220
notification by setting the set<font color="#E5E5E5"> notify</font>

519
00:29:12,830 --> 00:29:23,179
value to<font color="#E5E5E5"> 1 on both characteristics the</font>

520
00:29:16,220 --> 00:29:26,960
fe0<font color="#CCCCCC"> and fe1 characteristics the app then</font>

521
00:29:23,180 --> 00:29:30,280
bricks up the key into 3 9<font color="#CCCCCC"> bite pieces</font>

522
00:29:26,960 --> 00:29:33,320
appends a<font color="#CCCCCC"> 2 byte header</font><font color="#E5E5E5"> to each and then</font>

523
00:29:30,280 --> 00:29:41,170
writes it to<font color="#CCCCCC"> the lock via bluetooth</font><font color="#E5E5E5"> and</font>

524
00:29:33,320 --> 00:29:43,760
it unlocks<font color="#CCCCCC"> to make it a little clearer</font>

525
00:29:41,170 --> 00:29:47,360
<font color="#E5E5E5">the key response from the server is</font>

526
00:29:43,760 --> 00:29:51,410
broken<font color="#E5E5E5"> into 3 9</font><font color="#CCCCCC"> bite pieces and an</font>

527
00:29:47,360 --> 00:29:54,709
incremental header is appended and

528
00:29:51,410 --> 00:29:57,830
written to<font color="#E5E5E5"> the lock and it unlocks</font>

529
00:29:54,710 --> 00:30:01,190
<font color="#E5E5E5">straightforward and simple in testing</font>

530
00:29:57,830 --> 00:30:04,399
it's not really that<font color="#CCCCCC"> simple</font><font color="#E5E5E5"> because it</font>

531
00:30:01,190 --> 00:30:08,810
seemed the lock had some way<font color="#CCCCCC"> of keeping</font>

532
00:30:04,400 --> 00:30:10,760
<font color="#E5E5E5">track of time because every key received</font>

533
00:30:08,810 --> 00:30:13,669
from the server for<font color="#E5E5E5"> the same lock is</font>

534
00:30:10,760 --> 00:30:15,620
always different<font color="#E5E5E5"> additionally if there</font>

535
00:30:13,670 --> 00:30:23,390
is a delay<font color="#CCCCCC"> in sending the key to the</font>

536
00:30:15,620 --> 00:30:27,399
lock it will not work<font color="#CCCCCC"> so again after all</font>

537
00:30:23,390 --> 00:30:27,400
<font color="#E5E5E5">that trouble</font><font color="#CCCCCC"> modify my app and</font>

538
00:30:38,310 --> 00:30:45,000
so this time<font color="#E5E5E5"> around</font><font color="#CCCCCC"> I only</font><font color="#E5E5E5"> programmed</font>

539
00:30:42,580 --> 00:30:54,790
this specific<font color="#CCCCCC"> back</font><font color="#E5E5E5"> ID into my app to</font>

540
00:30:45,000 --> 00:30:56,830
<font color="#CCCCCC">save me any trouble in some way there</font>

541
00:30:54,790 --> 00:30:58,960
were two types of lock schemes across

542
00:30:56,830 --> 00:31:02,860
the three locks<font color="#E5E5E5"> that I faced the first</font>

543
00:30:58,960 --> 00:31:05,350
<font color="#E5E5E5">was a challenge response scheme where</font>

544
00:31:02,860 --> 00:31:08,439
the challenge was requested from the

545
00:31:05,350 --> 00:31:11,919
<font color="#E5E5E5">lock</font><font color="#CCCCCC"> this data is then sent to the</font>

546
00:31:08,440 --> 00:31:15,160
server<font color="#E5E5E5"> to process or details process on</font>

547
00:31:11,920 --> 00:31:19,420
<font color="#CCCCCC">client-side output from this processing</font>

548
00:31:15,160 --> 00:31:21,580
was then used to unlock<font color="#E5E5E5"> the lock the</font>

549
00:31:19,420 --> 00:31:23,740
<font color="#E5E5E5">other type was a direct and lock of the</font>

550
00:31:21,580 --> 00:31:31,540
lock based on a key provided<font color="#E5E5E5"> by the</font>

551
00:31:23,740 --> 00:31:33,910
<font color="#E5E5E5">server so when I started I had</font><font color="#CCCCCC"> no idea</font>

552
00:31:31,540 --> 00:31:35,790
<font color="#E5E5E5">how BRE what and how one would begin</font>

553
00:31:33,910 --> 00:31:39,430
looking at ble devices

554
00:31:35,790 --> 00:31:43,120
there was no process<font color="#E5E5E5"> or one that I was</font>

555
00:31:39,430 --> 00:31:47,610
aware of<font color="#E5E5E5"> when I started on how to look</font>

556
00:31:43,120 --> 00:31:51,520
at<font color="#E5E5E5"> BRE stuff</font><font color="#CCCCCC"> I hope given the following</font>

557
00:31:47,610 --> 00:31:54,550
<font color="#E5E5E5">the beatable process anyone who has</font>

558
00:31:51,520 --> 00:31:57,910
wanted<font color="#CCCCCC"> to start breaking ble devices</font>

559
00:31:54,550 --> 00:32:02,139
would have an easier time as with any

560
00:31:57,910 --> 00:32:05,050
project<font color="#CCCCCC"> first</font><font color="#E5E5E5"> we need to innovate our</font>

561
00:32:02,140 --> 00:32:09,160
tax office<font color="#E5E5E5"> and I found this to be easily</font>

562
00:32:05,050 --> 00:32:10,780
done with Blair as shown previously<font color="#E5E5E5"> we</font>

563
00:32:09,160 --> 00:32:13,450
can use Blair to innovate<font color="#CCCCCC"> the</font>

564
00:32:10,780 --> 00:32:16,030
characteristics<font color="#E5E5E5"> and services of any ble</font>

565
00:32:13,450 --> 00:32:20,320
device and understand what we<font color="#E5E5E5"> can</font>

566
00:32:16,030 --> 00:32:22,930
<font color="#CCCCCC">communicate with then we find out if</font><font color="#E5E5E5"> the</font>

567
00:32:20,320 --> 00:32:25,000
app does send notification<font color="#E5E5E5"> sorry if the</font>

568
00:32:22,930 --> 00:32:29,140
device does send notifications to<font color="#CCCCCC"> the</font>

569
00:32:25,000 --> 00:32:33,220
app if so we enable notifications by

570
00:32:29,140 --> 00:32:33,640
setting the set<font color="#CCCCCC"> modify value lastly we</font>

571
00:32:33,220 --> 00:32:35,920
Frida

572
00:32:33,640 --> 00:32:38,140
we hope the appropriate read and write

573
00:32:35,920 --> 00:32:39,980
methods to figure out what messages are

574
00:32:38,140 --> 00:32:44,450
<font color="#CCCCCC">being read to</font>

575
00:32:39,980 --> 00:32:48,540
went from<font color="#E5E5E5"> and written to the ble device</font>

576
00:32:44,450 --> 00:32:50,940
and we also hope the<font color="#E5E5E5"> update methods to</font>

577
00:32:48,540 --> 00:32:53,070
find out what<font color="#E5E5E5"> notifications if any are</font>

578
00:32:50,940 --> 00:32:57,870
being sent from<font color="#CCCCCC"> the peripheral to the</font>

579
00:32:53,070 --> 00:32:58,800
<font color="#E5E5E5">central device</font><font color="#CCCCCC"> I didn't make use of any</font>

580
00:32:57,870 --> 00:33:04,110
<font color="#E5E5E5">special hardware</font>

581
00:32:58,800 --> 00:33:06,389
<font color="#CCCCCC">no but tooth one no custom hardware or</font>

582
00:33:04,110 --> 00:33:09,120
<font color="#E5E5E5">develop any men</font><font color="#CCCCCC"> in the middling app I</font>

583
00:33:06,390 --> 00:33:12,840
used a<font color="#E5E5E5"> five dollar bluetooth dongle</font><font color="#CCCCCC"> so</font>

584
00:33:09,120 --> 00:33:14,729
anyway the ble device<font color="#E5E5E5"> and my iPhone for</font>

585
00:33:12,840 --> 00:33:15,959
the mobile app<font color="#CCCCCC"> we</font><font color="#E5E5E5"> frida for</font>

586
00:33:14,730 --> 00:33:20,490
understanding the communications between

587
00:33:15,960 --> 00:33:25,940
<font color="#E5E5E5">the app and</font><font color="#CCCCCC"> a lock hopefully anyone can</font>

588
00:33:20,490 --> 00:33:30,780
do this<font color="#CCCCCC"> as</font><font color="#E5E5E5"> well thank you for listening</font>

589
00:33:25,940 --> 00:33:33,210
thank you very much dancing and<font color="#E5E5E5"> happily</font>

590
00:33:30,780 --> 00:33:37,740
<font color="#CCCCCC">we have time for</font><font color="#E5E5E5"> a Q&A any questions</font>

591
00:33:33,210 --> 00:33:39,210
from<font color="#CCCCCC"> the floor or as usual we'll do it</font>

592
00:33:37,740 --> 00:33:41,280
<font color="#CCCCCC">offstage thank you</font>

593
00:33:39,210 --> 00:33:43,170
well this gives<font color="#E5E5E5"> us some</font><font color="#CCCCCC"> time then thanks</font>

594
00:33:41,280 --> 00:33:44,940
again<font color="#E5E5E5"> Vincent this gives us</font><font color="#CCCCCC"> some time to</font>

595
00:33:43,170 --> 00:33:47,280
set up<font color="#CCCCCC"> for the</font><font color="#E5E5E5"> next speaker before</font><font color="#CCCCCC"> we</font>

596
00:33:44,940 --> 00:33:47,820
start which will be the<font color="#E5E5E5"> next speakers</font>

597
00:33:47,280 --> 00:33:51,000
<font color="#CCCCCC">taco</font>

598
00:33:47,820 --> 00:33:54,389
start at 11:30<font color="#E5E5E5"> so we've got a couple of</font>

599
00:33:51,000 --> 00:33:56,580
<font color="#CCCCCC">up minutes</font><font color="#E5E5E5"> you've got 25 minutes</font><font color="#CCCCCC"> so we</font>

600
00:33:54,390 --> 00:33:59,010
<font color="#E5E5E5">can have</font><font color="#CCCCCC"> more coffee oh you have a</font>

601
00:33:56,580 --> 00:34:01,199
question<font color="#CCCCCC"> all</font><font color="#E5E5E5"> right well just give me a</font>

602
00:33:59,010 --> 00:34:07,140
second Vincent hang on<font color="#E5E5E5"> one</font><font color="#CCCCCC"> question from</font>

603
00:34:01,200 --> 00:34:08,970
<font color="#E5E5E5">the floor Thanks hi I'm curious since</font>

604
00:34:07,140 --> 00:34:11,670
<font color="#E5E5E5">you've been through a process of looking</font>

605
00:34:08,969 --> 00:34:15,060
<font color="#E5E5E5">into the security of backlogs if you</font>

606
00:34:11,670 --> 00:34:19,550
were to set up a bicycle<font color="#E5E5E5"> company and how</font>

607
00:34:15,060 --> 00:34:19,549
would<font color="#E5E5E5"> you implement the security or why</font>

608
00:34:20,130 --> 00:34:24,900
[Laughter]

609
00:34:22,820 --> 00:34:27,210
<font color="#E5E5E5">okay that's a</font><font color="#CCCCCC"> very good</font><font color="#E5E5E5"> question because</font>

610
00:34:24,900 --> 00:34:31,850
before<font color="#E5E5E5"> looking at mobile and</font><font color="#CCCCCC"> oh by I</font>

611
00:34:27,210 --> 00:34:36,060
looked at<font color="#E5E5E5"> oval and what they've</font><font color="#CCCCCC"> done</font><font color="#E5E5E5"> is</font>

612
00:34:31,850 --> 00:34:37,560
before sending you the unlock key they

613
00:34:36,060 --> 00:34:40,040
have already started to<font color="#E5E5E5"> deduct money</font>

614
00:34:37,560 --> 00:34:44,850
from your<font color="#CCCCCC"> account</font>

615
00:34:40,040 --> 00:34:46,469
so I guess the simple way is to<font color="#E5E5E5"> first</font>

616
00:34:44,850 --> 00:34:50,339
take money<font color="#E5E5E5"> from the user and then give</font>

617
00:34:46,469 --> 00:34:53,609
them the<font color="#CCCCCC"> key to unlock one way that</font>

618
00:34:50,340 --> 00:34:59,280
could<font color="#CCCCCC"> be</font><font color="#E5E5E5"> done unfortunately I have not</font>

619
00:34:53,610 --> 00:35:02,160
seen so many locks out there which which

620
00:34:59,280 --> 00:35:04,470
have been developed<font color="#E5E5E5"> securely so I can't</font>

621
00:35:02,160 --> 00:35:07,850
really comment<font color="#E5E5E5"> on what a secure</font>

622
00:35:04,470 --> 00:35:07,850
development process would<font color="#CCCCCC"> look like</font>

623
00:35:08,090 --> 00:35:18,000
thank you<font color="#E5E5E5"> any</font><font color="#CCCCCC"> other questions yes dude</font>

624
00:35:15,690 --> 00:35:20,730
none<font color="#E5E5E5"> of the bike locks that you've</font>

625
00:35:18,000 --> 00:35:25,170
looked into<font color="#E5E5E5"> communicate directly with</font>

626
00:35:20,730 --> 00:35:27,990
<font color="#E5E5E5">the service like through GSM</font><font color="#CCCCCC"> oh no I'm</font>

627
00:35:25,170 --> 00:35:33,710
not but I've heard<font color="#CCCCCC"> from a</font><font color="#E5E5E5"> friend of mine</font>

628
00:35:27,990 --> 00:35:37,709
<font color="#CCCCCC">that there's apparently</font><font color="#E5E5E5"> locks</font><font color="#CCCCCC"> that</font><font color="#E5E5E5"> do</font>

629
00:35:33,710 --> 00:35:40,130
they have<font color="#E5E5E5"> GSM cards in them which can</font>

630
00:35:37,710 --> 00:35:44,370
provide GPS and communicate<font color="#E5E5E5"> directly</font>

631
00:35:40,130 --> 00:35:47,100
they're also smart<font color="#CCCCCC"> bike sharing</font>

632
00:35:44,370 --> 00:35:49,380
<font color="#E5E5E5">companies those motor scooters in San</font>

633
00:35:47,100 --> 00:35:54,240
Francisco being developed by a company

634
00:35:49,380 --> 00:35:59,580
<font color="#CCCCCC">that basically circumvents the entire</font>

635
00:35:54,240 --> 00:36:02,910
user unlock process so<font color="#CCCCCC"> there are new</font>

636
00:35:59,580 --> 00:36:04,980
locks being developed<font color="#E5E5E5"> that way there</font>

637
00:36:02,910 --> 00:36:06,779
should<font color="#CCCCCC"> be other interesting things that</font>

638
00:36:04,980 --> 00:36:09,570
<font color="#E5E5E5">we can find from there but</font><font color="#CCCCCC"> so far in</font>

639
00:36:06,780 --> 00:36:15,540
Singapore<font color="#CCCCCC"> I have not seen that use thank</font>

640
00:36:09,570 --> 00:36:17,850
you any<font color="#CCCCCC"> other</font><font color="#E5E5E5"> questions all right</font>

641
00:36:15,540 --> 00:36:21,080
<font color="#CCCCCC">no well another round</font><font color="#E5E5E5"> of applause</font><font color="#CCCCCC"> for</font>

642
00:36:17,850 --> 00:36:21,080
<font color="#E5E5E5">Vincent thank you</font>

643
00:36:22,150 --> 00:36:24,210
<font color="#CCCCCC">you</font>

