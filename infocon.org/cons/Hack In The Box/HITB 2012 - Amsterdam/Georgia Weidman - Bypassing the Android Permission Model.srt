1
00:00:01,000 --> 00:00:08,000
the yo

2
00:00:08,280 --> 00:00:10,580
thanks anybody else sure

3
00:00:10,580 --> 00:00:14,530
plus and managing all the rest you have
to put up with what I'm gonna say

4
00:00:14,530 --> 00:00:15,809
afterwards

5
00:00:15,809 --> 00:00:21,030
but here's the real I'm

6
00:00:21,030 --> 00:00:24,650
good to my European debut

7
00:00:24,650 --> 00:00:27,920
across the hall from

8
00:00:27,920 --> 00:00:31,400
dropping be a iPhone

9
00:00:31,400 --> 00:00:34,950
your day and there will be no other day
the most talkative one there's one every

10
00:00:34,950 --> 00:00:38,570
day they came up with last night so I
was walking around Amsterdam with some

11
00:00:38,570 --> 00:00:38,980
other

12
00:00:38,980 --> 00:00:43,710
speakers then we saw this weird by is on
the side of the building that kept like

13
00:00:43,710 --> 00:00:45,039
moving around

14
00:00:45,039 --> 00:00:48,570
and we can figure out what it was that
of course we googled it the find out

15
00:00:48,570 --> 00:00:49,659
what it was a myth

16
00:00:49,659 --> 00:00:54,690
it actually like runs the subway it
talks to you film ears on the ground

17
00:00:54,690 --> 00:00:59,089
to tell whether the subway is like some
kirdar cuz this used to be a lake

18
00:00:59,089 --> 00:01:03,359
for something like dollars the
Netherlands used to be water and Mary

19
00:01:03,359 --> 00:01:04,159
claimed it

20
00:01:04,159 --> 00:01:07,360
so theoretically at any time the

21
00:01:07,360 --> 00:01:11,790
so wake you dislike think into the same
and then it would all be over so there's

22
00:01:11,790 --> 00:01:13,719
this device the checks to see if it's

23
00:01:13,719 --> 00:01:17,009
sunk a little bit so my other day

24
00:01:17,009 --> 00:01:22,530
how you can shut down the subway is he
wrote a cold chisel and drag up the mir

25
00:01:22,530 --> 00:01:26,259
might move it up like an intentional
make the subway completely freak out i

26
00:01:26,259 --> 00:01:27,670
think im it'll stop

27
00:01:27,670 --> 00:01:31,719
so you can stop public transportation in
Amsterdam with this every day that I

28
00:01:31,719 --> 00:01:32,579
destruct

29
00:01:32,579 --> 00:01:37,320
and that's my only a day the rest a bit
we're just gonna talk about boreal

30
00:01:37,320 --> 00:01:43,930
Android stuff tho

31
00:01:43,930 --> 00:01:47,479
really nobody want to be more come on
I'm

32
00:01:47,479 --> 00:01:51,590
look hopeful this ball is we are in
Amsterdam ladies and gentlemen

33
00:01:51,590 --> 00:01:56,539
alright well I'm Georgia

34
00:01:56,539 --> 00:02:01,479
bring talk about Android an I have a
little company hard-boiled security that

35
00:02:01,479 --> 00:02:03,009
though some security thing

36
00:02:03,009 --> 00:02:07,270
if you need security things done come
get a business card after the talk and

37
00:02:07,270 --> 00:02:07,899
we will

38
00:02:07,899 --> 00:02:12,260
do some security things for you so

39
00:02:12,260 --> 00:02:16,430
first of the first thing I have to do
when I do any research

40
00:02:16,430 --> 00:02:20,879
is completely discredit everything I do
and say it's completely not worth it

41
00:02:20,879 --> 00:02:25,550
because we're going to talk about
bypassing the Android permission model

42
00:02:25,550 --> 00:02:29,409
and I'm gonna show you that you don't
have to bypass it at all that the

43
00:02:29,409 --> 00:02:32,930
permission all of this so completely
flaw there's not even any point in

44
00:02:32,930 --> 00:02:33,959
bypassing it

45
00:02:33,959 --> 00:02:38,930
so I'm gonna show you an at I can tell
you what it is but I'm gonna read its

46
00:02:38,930 --> 00:02:41,310
permissions only get to guess what it is

47
00:02:41,310 --> 00:02:45,650
and its permissions are kinda scary so I
was gonna read it right off my phone

48
00:02:45,650 --> 00:02:46,519
actually

49
00:02:46,519 --> 00:02:51,379
RA so the permission for this app

50
00:02:51,379 --> 00:02:57,769
password install are the following: it
what access to your personal information

51
00:02:57,769 --> 00:03:01,760
in wants to read my contact data 13 see
everyone I have

52
00:03:01,760 --> 00:03:05,310
stored in there including my work on
taxes doesn't just include the phone

53
00:03:05,310 --> 00:03:08,260
book it'll include all of your email
settings as well

54
00:03:08,260 --> 00:03:12,060
to be at the sink with your work
contacts it can see all them

55
00:03:12,060 --> 00:03:15,909
to your email addresses phone numbers
names company affiliation

56
00:03:15,909 --> 00:03:20,060
any data that's actually stored on the
phone ignore the right this information

57
00:03:20,060 --> 00:03:21,450
so for instance here

58
00:03:21,450 --> 00:03:24,939
boss it could overwrite with its own
email address so then

59
00:03:24,939 --> 00:03:28,530
all your emails to your boss with for
instance your

60
00:03:28,530 --> 00:03:32,750
reports in them you know the new version
have your PIN test report for company

61
00:03:32,750 --> 00:03:33,950
ABC is

62
00:03:33,950 --> 00:03:37,920
now going to someone else that's not a
problem

63
00:03:37,920 --> 00:03:42,829
now it also once this thing called
services that cost you money

64
00:03:42,829 --> 00:03:46,989
generally that tipped me off it it might
be a little bit scary if it's gonna cost

65
00:03:46,989 --> 00:03:47,780
me money

66
00:03:47,780 --> 00:03:51,340
it won't be listened as a mess messages
under that

67
00:03:51,340 --> 00:03:55,659
heading so I won't be able to send text
messages it can still send them if I'm

68
00:03:55,659 --> 00:03:56,819
in Amsterdam

69
00:03:56,819 --> 00:04:00,659
and it's gonna cost me 10 since the text
message

70
00:04:00,659 --> 00:04:04,670
I got a very nice text message from my
phone provider that said you've already

71
00:04:04,670 --> 00:04:08,689
spent fifty dollars that I had only been
here for a couple hours sir

72
00:04:08,689 --> 00:04:13,319
year I should stop playing with my day
is so much when I'm roaming

73
00:04:13,319 --> 00:04:17,290
but Dickinson text messages on my behalf
it can also

74
00:04:17,290 --> 00:04:20,900
send them when I'm in Amsterdam a
concern them to 900 numbers that cost

75
00:04:20,900 --> 00:04:21,780
more money

76
00:04:21,780 --> 00:04:25,370
again from them wherever it wants and
they won't show up in my sent folder so

77
00:04:25,370 --> 00:04:27,870
I have no idea that they were sent at
all

78
00:04:27,870 --> 00:04:31,639
but also want access to my GPS location

79
00:04:31,639 --> 00:04:34,889
so when I got lost the other day and I
turned on my GPS

80
00:04:34,889 --> 00:04:39,449
any app on my phone as for this could
now see that I am in fact in Amsterdam

81
00:04:39,449 --> 00:04:39,789
in

82
00:04:39,789 --> 00:04:43,080
not at home so good time to rob my house
for it on

83
00:04:43,080 --> 00:04:48,310
not there and my phone is it once access
to my messages

84
00:04:48,310 --> 00:04:53,930
it wants to edit as the rest so read my
text messages change them

85
00:04:53,930 --> 00:04:57,270
it also want to be able to receive them
and all lit up with Android if you have

86
00:04:57,270 --> 00:05:00,110
the permission to receive SMS you can
receive them

87
00:05:00,110 --> 00:05:03,490
before the actual text message app
doesn't

88
00:05:03,490 --> 00:05:07,430
so you can keep users from ever seeing
their text messages at all

89
00:05:07,430 --> 00:05:11,729
is a good way to run a botnet I think if
you're at all familiar with my work

90
00:05:11,729 --> 00:05:15,569
that's my big day is the SMS botnet so

91
00:05:15,569 --> 00:05:19,419
good way to run a botnet just intercept
peoples text messages

92
00:05:19,419 --> 00:05:22,819
and they gave you explicit permission to
do so so you're not even doing anything

93
00:05:22,819 --> 00:05:25,130
wrong

94
00:05:25,130 --> 00:05:29,759
it also wants access to my account it
can act is an account of indicators

95
00:05:29,759 --> 00:05:32,919
Oregon law in the in the other count I
have on here so

96
00:05:32,919 --> 00:05:36,110
who is this an Android it has my gmail
of course but

97
00:05:36,110 --> 00:05:40,069
anything else I have one here like for
instance Twitter I love me some Twitter

98
00:05:40,069 --> 00:05:45,060
so it can log onto where for a it can
also manage those accounts so

99
00:05:45,060 --> 00:05:49,509
theoretically a kid actually locked me
outta my county could change my password

100
00:05:49,509 --> 00:05:53,970
and make it so that only the phone can
get on my Twitter ever again and that

101
00:05:53,970 --> 00:05:56,910
would make me really sad I don't know
about you but

102
00:05:56,910 --> 00:06:00,660
I think I would just die if I lost
access to my Twitter

103
00:06:00,660 --> 00:06:04,400
it wants to be able to modify and delete
USB storage content

104
00:06:04,400 --> 00:06:08,740
so it can read anything from the SD card
and they can delete it for me

105
00:06:08,740 --> 00:06:11,910
that might be a good thing I don't know
if you guys ever hear

106
00:06:11,910 --> 00:06:15,849
so much as we in america like to take
pictures of ourselves being drunk and

107
00:06:15,849 --> 00:06:19,020
stupid our phones and then post them
online

108
00:06:19,020 --> 00:06:22,130
theoretically if a nap there actually is
a startup

109
00:06:22,130 --> 00:06:26,069
in a California right now that the whole
idea of the app is

110
00:06:26,069 --> 00:06:29,660
they're gonna delete your pictures for
you like after an hour

111
00:06:29,660 --> 00:06:32,900
so there are no is incriminating
pictures on your phone so that might

112
00:06:32,900 --> 00:06:34,190
actually be a good thing

113
00:06:34,190 --> 00:06:38,139
that that one permission right there
that will delete incriminating pictures

114
00:06:38,139 --> 00:06:40,530
are you doing stupid things in Amsterdam

115
00:06:40,530 --> 00:06:47,460
Lake drinking on stage okay

116
00:06:47,460 --> 00:06:50,630
let's see it wants to make phone calls

117
00:06:50,630 --> 00:06:54,660
it wants to read the phone state and I
didn't hit the phone state my identity

118
00:06:54,660 --> 00:06:57,690
that's one that users like what does
that even mean

119
00:06:57,690 --> 00:07:01,610
but that actually is the personal
identification number it wants to read

120
00:07:01,610 --> 00:07:02,860
your IMEI

121
00:07:02,860 --> 00:07:06,000
so it's a unique number earphone

122
00:07:06,000 --> 00:07:10,819
and a lot a developer issues that as
away the uniquely identify you with the

123
00:07:10,819 --> 00:07:11,789
server

124
00:07:11,789 --> 00:07:15,250
which you could think I've as uniquely
identify you based on your credit card

125
00:07:15,250 --> 00:07:15,990
number

126
00:07:15,990 --> 00:07:19,270
that sounds like such a great idea
doesn't it

127
00:07:19,270 --> 00:07:22,780
we don't want that going back and forth
to a server but yet that's the cool

128
00:07:22,780 --> 00:07:24,470
thing to do with Android so

129
00:07:24,470 --> 00:07:28,740
a lot about abs asked for that and
theoretically none of them should

130
00:07:28,740 --> 00:07:32,190
it wants to prevent my phone from
sleeping if any of you have

131
00:07:32,190 --> 00:07:35,870
and wrote you can see why keeping the
phone from sleeping might be a bad thing

132
00:07:35,870 --> 00:07:37,789
it runs down your battery in

133
00:07:37,789 --> 00:07:42,710
better is God in Andhra it they want to
write my sync settings

134
00:07:42,710 --> 00:07:48,099
so next time I plug it into a computer I
might have a little surprise coming

135
00:07:48,099 --> 00:07:51,979
and then the final one it once network
communication it wants to be able to

136
00:07:51,979 --> 00:07:53,919
talk to the internet

137
00:07:53,919 --> 00:07:56,919
anybody wanna guess what at this is

138
00:07:56,919 --> 00:08:01,370
Facebook yes may I introduce you

139
00:08:01,370 --> 00:08:07,490
to be absolutely most popular Android
download apps all-time Facebook for

140
00:08:07,490 --> 00:08:09,710
Android

141
00:08:09,710 --> 00:08:13,770
yet that's a lot of remission CR
Facebook for ever

142
00:08:13,770 --> 00:08:17,530
I was in college when Facebook first
came out yet have a college like dot EDU

143
00:08:17,530 --> 00:08:18,960
email address

144
00:08:18,960 --> 00:08:23,770
I love from Facebook but you know my
facebook on my computer

145
00:08:23,770 --> 00:08:27,940
it has one of those permissions ability
to talk to the internet

146
00:08:27,940 --> 00:08:31,090
none of the other words and we're it
works great and people love it

147
00:08:31,090 --> 00:08:36,870
and they dismayed billion the dollar's
so why do they have all these

148
00:08:36,870 --> 00:08:40,250
I don't know actually I do know I
figured out why

149
00:08:40,250 --> 00:08:43,750
since I've done so much Android
development lately and I've watched my

150
00:08:43,750 --> 00:08:47,470
abs just fall over and die randomly and
I can't figure out why

151
00:08:47,470 --> 00:08:51,240
nothing comes up in a debugging settings
why it's falling over

152
00:08:51,240 --> 00:08:54,830
go to stackoverflow but they give me the
source code that looks just like my

153
00:08:54,830 --> 00:08:55,370
answer

154
00:08:55,370 --> 00:08:59,440
must work greatest actor overflow no
problems there

155
00:08:59,440 --> 00:09:02,740
and it just falls over I figured it out

156
00:09:02,740 --> 00:09:05,760
it's good I didn't have the permission

157
00:09:05,760 --> 00:09:08,960
it just dies because if you don't have
the permission you can't use the

158
00:09:08,960 --> 00:09:10,240
functionality

159
00:09:10,240 --> 00:09:13,700
so developers are just asking for all
the permissions

160
00:09:13,700 --> 00:09:17,370
so they don't forget later and then they
forget to take them out because Facebook

161
00:09:17,370 --> 00:09:17,690
doesn't

162
00:09:17,690 --> 00:09:21,640
actually use happier these I read the
source code

163
00:09:21,640 --> 00:09:25,200
I would know

164
00:09:25,200 --> 00:09:28,630
so naturally having seen as I thought

165
00:09:28,630 --> 00:09:33,090
how hard would it be for me as not
necessarily a very good developer

166
00:09:33,090 --> 00:09:36,370
certainly haven't had much experience in
Android yet

167
00:09:36,370 --> 00:09:40,600
how hard would it be for me given that
users are willing to accept these

168
00:09:40,600 --> 00:09:44,360
permissions they accept them on Facebook
they accept them on any other app

169
00:09:44,360 --> 00:09:47,370
if I am put out an application that ass
for

170
00:09:47,370 --> 00:09:50,980
allotted for missions i can assume that
users will accept them

171
00:09:50,980 --> 00:09:54,970
how hard is it for me at: could ways to
abuse this

172
00:09:54,970 --> 00:10:01,970
so naturally I wrote an app to see so
we're gonna look at old emma

173
00:10:19,199 --> 00:10:22,790
RA so I've got my android and I've got
my iphone here

174
00:10:22,790 --> 00:10:28,379
and somehow lost my laser pointer so I
wrote an app called Hello Android

175
00:10:28,379 --> 00:10:33,230
not a very sophisticated name was gonna
install it off the SD card

176
00:10:33,230 --> 00:10:37,829
in our place with 30 on their what stop

177
00:10:37,829 --> 00:10:41,449
okay so it once 3 permissions a lot less

178
00:10:41,449 --> 00:10:45,629
than Facebook it wanted the ability to
read your contacts

179
00:10:45,629 --> 00:10:49,720
read that IMEI and it wants to be able
to send SMS

180
00:10:49,720 --> 00:10:53,160
so put up a screen that says hi
basically I just exploited the hell

181
00:10:53,160 --> 00:10:53,939
outta view

182
00:10:53,939 --> 00:10:58,189
but of course a bad developer wouldn't
have to put up the screen at all they

183
00:10:58,189 --> 00:10:59,350
would just put up

184
00:10:59,350 --> 00:11:02,499
the a game or something and this would
happen in the background

185
00:11:02,499 --> 00:11:07,740
I go to my sent folder and I see that I
upset No SMS's I have no indication that

186
00:11:07,740 --> 00:11:08,480
anything

187
00:11:08,480 --> 00:11:12,199
has happened here but if I go to my
iPhone

188
00:11:12,199 --> 00:11:16,499
I see that I have sent the IMEI number
my personal identification number

189
00:11:16,499 --> 00:11:20,309
worth as bad as much to an attacker the
credit cards about fitness

190
00:11:20,309 --> 00:11:23,879
10 cents so basically nothing but if you
have millions of them

191
00:11:23,879 --> 00:11:28,199
you see how this as up how malware
writers actually make money

192
00:11:28,199 --> 00:11:32,199
is a mystery to me they make a lot more
money in an idea

193
00:11:32,199 --> 00:11:36,309
it's probably best that I don't find out
till I don't turn to the dark said

194
00:11:36,309 --> 00:11:39,759
but anyhow so we just exploited all of
those

195
00:11:39,759 --> 00:11:43,600
permissions the ability to send SMS we
did it in the background where the user

196
00:11:43,600 --> 00:11:44,410
couldn't see it

197
00:11:44,410 --> 00:11:47,829
it wasn't in the Sent folder no
indication it happened the only

198
00:11:47,829 --> 00:11:50,800
indication with that screen I put up
that says I did it

199
00:11:50,800 --> 00:11:55,230
which of course the user will not see
that with the real evil application this

200
00:11:55,230 --> 00:11:56,980
will this go on in the background

201
00:11:56,980 --> 00:12:00,149
third stole your IMEI Senate to someone
else

202
00:12:00,149 --> 00:12:03,929
and also put up the last person you
talked to you based on your contacts

203
00:12:03,929 --> 00:12:07,149
thurgood tell who the last person you
talked to was

204
00:12:07,149 --> 00:12:11,949
you can also read all them and turn them
off if I dad for network communication I

205
00:12:11,949 --> 00:12:13,449
kids in this up to a server

206
00:12:13,449 --> 00:12:17,259
so the moral of the story is that you
really really

207
00:12:17,259 --> 00:12:20,449
easy through right and right now where
without exploiting it

208
00:12:20,449 --> 00:12:24,170
at all just given the amount for
missions that users are willing to

209
00:12:24,170 --> 00:12:24,990
accept

210
00:12:24,990 --> 00:12:28,379
you're able to completely exploit them
in any way you want

211
00:12:28,379 --> 00:12:33,129
so I basically just undermined the whole
rested the presentation

212
00:12:33,129 --> 00:12:36,620
this research never needed to be done
because you candace after the

213
00:12:36,620 --> 00:12:40,000
permissions and exploit them that way so
there's no reason you have to steal

214
00:12:40,000 --> 00:12:42,110
permission there's no reason to you have
to

215
00:12:42,110 --> 00:12:46,189
route their phone you can just do this
but now we're going to talk about it

216
00:12:46,189 --> 00:12:46,759
anyways

217
00:12:46,759 --> 00:12:51,750
market are you mister the giving away a
alcohol

218
00:12:51,750 --> 00:12:56,120
would you like some tequila a

219
00:12:56,120 --> 00:13:01,679
we've been to Columbia this is good I'll
call comparatively to what they feed you

220
00:13:01,679 --> 00:13:02,149
there

221
00:13:02,149 --> 00:13:06,649
a at

222
00:13:06,649 --> 00:13:10,350
yeah I could be ended

223
00:13:10,350 --> 00:13:17,350
yeah okay if there's any left you never
know r et

224
00:13:17,579 --> 00:13:21,470
so basically what happened here as a
rundown on I asked for three for

225
00:13:21,470 --> 00:13:23,299
missions read IMEI

226
00:13:23,299 --> 00:13:27,709
which comes up a lot a lot of at ass for
this they should not know abt should

227
00:13:27,709 --> 00:13:30,509
ever ask for this guy is the only reason
to ask for it

228
00:13:30,509 --> 00:13:35,639
is uniquely identify you on their server
based on your IMEI which is

229
00:13:35,639 --> 00:13:38,769
like uniquely identify you based on your
credit card number

230
00:13:38,769 --> 00:13:42,189
we don't stand for that and secure
kidding that's bad

231
00:13:42,189 --> 00:13:46,199
but we allow it in android read your
contacts

232
00:13:46,199 --> 00:13:50,709
and send SMS and we exploited every
single one of these we stole your IMEI

233
00:13:50,709 --> 00:13:52,939
we saw last person you talked to

234
00:13:52,939 --> 00:13:56,949
and we SMS the IMEI to ourself all in
the background

235
00:13:56,949 --> 00:14:00,899
which brings us to the next topic

236
00:14:00,899 --> 00:14:04,699
a lot of the malware in the world root
your Android

237
00:14:04,699 --> 00:14:08,660
a lot of the not now where in the world
richer and road to

238
00:14:08,660 --> 00:14:12,059
we wanted to read it we want complete
control over our phones

239
00:14:12,059 --> 00:14:18,139
we buy the device we get control over it
not so much necessary with Android as it

240
00:14:18,139 --> 00:14:19,199
is with iPhone

241
00:14:19,199 --> 00:14:22,879
basically if you want to do anything
with your iPhone you got the rooted

242
00:14:22,879 --> 00:14:26,799
but he'd probably be over there in the
other room if you're interested in that

243
00:14:26,799 --> 00:14:28,350
because they're showing absent

244
00:14:28,350 --> 00:14:32,439
right now at the same time as my talk
the thank you all for coming

245
00:14:32,439 --> 00:14:37,789
the leader

246
00:14:37,789 --> 00:14:40,850
to have the prevalent routing programs

247
00:14:40,850 --> 00:14:45,149
super one click still goes on they
update regularly if

248
00:14:45,149 --> 00:14:48,309
it does like the most recent versions of
Android

249
00:14:48,309 --> 00:14:52,329
the back in the day and still for a lot
of phones cuz you're not getting updates

250
00:14:52,329 --> 00:14:53,699
cuz Google does it

251
00:14:53,699 --> 00:14:58,509
update your carriers do not z4 mod was
the

252
00:14:58,509 --> 00:15:02,329
routing the solution for up to I Android
2.2

253
00:15:02,329 --> 00:15:06,419
which sadly still works for a lot of
Android users

254
00:15:06,419 --> 00:15:09,439
I've looked at the source go to both
these I'm going to talk about

255
00:15:09,439 --> 00:15:14,529
evil exploitation for routing and
neither one of these

256
00:15:14,529 --> 00:15:18,660
exploit you evil E they give you your
superuser permissions and then they're

257
00:15:18,660 --> 00:15:20,289
done and they go away

258
00:15:20,289 --> 00:15:24,720
so do not come out over thinking that
these two absolutely evil they're not

259
00:15:24,720 --> 00:15:28,029
and I use them regularly but we are
going to look at

260
00:15:28,029 --> 00:15:32,000
some evil ideas for rooting Android

261
00:15:32,000 --> 00:15:37,750
anybody remember this guy droid dream
made a huge media splash because

262
00:15:37,750 --> 00:15:41,350
researchers like me and you had been
saying for a long time you know anybody

263
00:15:41,350 --> 00:15:43,240
can put anything they want

264
00:15:43,240 --> 00:15:47,449
in the official Google Marketplace so
it's really only a matter of time before

265
00:15:47,449 --> 00:15:49,980
something evil shows up there

266
00:15:49,980 --> 00:15:53,639
and of course there is a no no that'll
never happen you'll never get now where

267
00:15:53,639 --> 00:15:55,600
the Google Marketplace

268
00:15:55,600 --> 00:15:59,379
and then draw a dream showed up the
first

269
00:15:59,379 --> 00:16:02,399
known outbreak in the Google Marketplace

270
00:16:02,399 --> 00:16:06,949
and it rooted your phone still your
information and that all sorts of crazy

271
00:16:06,949 --> 00:16:08,410
evil

272
00:16:08,410 --> 00:16:11,579
and it was just sitting right there in
the Google Market Place waiting for you

273
00:16:11,579 --> 00:16:12,730
to download

274
00:16:12,730 --> 00:16:17,129
whereas every previous outbreak had been
in some third party market that

275
00:16:17,129 --> 00:16:20,730
had allotted Chinese characters in it
and really if you downloaded it you

276
00:16:20,730 --> 00:16:22,209
kinda deserve their a

277
00:16:22,209 --> 00:16:26,709
I mean you couldn't even read what is
said but this looks normal

278
00:16:26,709 --> 00:16:29,870
this was inside the official store that
all

279
00:16:29,870 --> 00:16:35,730
end users were basically paying to use
by buying an Android device

280
00:16:35,730 --> 00:16:39,459
so they had some reason to believe that
this would be specific place for them to

281
00:16:39,459 --> 00:16:41,480
find applications

282
00:16:41,480 --> 00:16:45,669
but because there's absolutely no over
say up all these applications there's

283
00:16:45,669 --> 00:16:48,240
million Dublin this would take time this
would take

284
00:16:48,240 --> 00:16:51,819
effort n you know iPhone users always
complain that

285
00:16:51,819 --> 00:16:55,000
it take so long to get updates into the
store

286
00:16:55,000 --> 00:16:59,069
or get your absent the first place in
the store the idea that things go into

287
00:16:59,069 --> 00:17:01,579
Google store automatically

288
00:17:01,579 --> 00:17:06,020
was awesome in people loved it but then
stopped like this started to happen

289
00:17:06,020 --> 00:17:09,389
but now of course if you get droid
renounced into the old

290
00:17:09,389 --> 00:17:13,909
lookout or any other anti-virus program
will flag it and say this is Troy dream

291
00:17:13,909 --> 00:17:15,899
you do not want to installous

292
00:17:15,899 --> 00:17:19,260
but of course at the time when this
first came to light this was not the

293
00:17:19,260 --> 00:17:19,889
case

294
00:17:19,889 --> 00:17:24,569
it just look like a normal application

295
00:17:24,569 --> 00:17:29,010
what should get tips from people of is
how few permissions Troy dream

296
00:17:29,010 --> 00:17:34,179
actually has four comparatively it'd
normal applications we just look at a

297
00:17:34,179 --> 00:17:39,309
a normal non-religious application
Facebook that wanted this long long list

298
00:17:39,309 --> 00:17:41,090
permissions droid dream

299
00:17:41,090 --> 00:17:45,679
actually at only asked for four which
might have chips and people often

300
00:17:45,679 --> 00:17:49,000
something was up here but you'd never
find an app that only ask her for

301
00:17:49,000 --> 00:17:49,820
permission

302
00:17:49,820 --> 00:17:54,330
never they always have like kinnard 12
scary lookin banks

303
00:17:54,330 --> 00:17:57,490
so wanted access to the Internet normal
one there

304
00:17:57,490 --> 00:18:00,720
Absalon access to the Internet that
doesn't scare me

305
00:18:00,720 --> 00:18:04,330
it wanted to read the phones day 8 2010
the IMEI

306
00:18:04,330 --> 00:18:07,330
said that bad but it's prevalent

307
00:18:07,330 --> 00:18:11,020
alive at ask for it so wouldn't if
anybody of anything list

308
00:18:11,020 --> 00:18:14,340
wrong here basically it's probably
checking in

309
00:18:14,340 --> 00:18:17,809
to the server using the IMEI is uniquely
identify you

310
00:18:17,809 --> 00:18:21,450
a lot of the Droid dream variants were
game so this would be how you check in

311
00:18:21,450 --> 00:18:22,919
your scores

312
00:18:22,919 --> 00:18:26,039
this is normal for Android definitely
not a good idea

313
00:18:26,039 --> 00:18:29,840
but it happens and then the other two
don't want it won't be able to change

314
00:18:29,840 --> 00:18:33,070
the wifi state: an access the wifi
state:

315
00:18:33,070 --> 00:18:36,100
so theoretically I just wanted to be
able to make sure you were

316
00:18:36,100 --> 00:18:40,850
on the wifi before it sent thing said
while this app's really looking out for

317
00:18:40,850 --> 00:18:44,399
me it doesn't wanna run up data charges
for me it's only going to check in

318
00:18:44,399 --> 00:18:49,030
when is on the wifi know that's actually
not what I was doing it all

319
00:18:49,030 --> 00:18:52,309
wanted the root users actually requires
you to

320
00:18:52,309 --> 00:18:56,629
change the wifi state like basically
toggled on/off before the shell hits

321
00:18:56,629 --> 00:18:59,700
who I was actually malicious but looking
at those

322
00:18:59,700 --> 00:19:02,710
but doesn't look that scary compared to
lead the most laps

323
00:19:02,710 --> 00:19:06,559
I just looking at that list a
permissions as an Android researcher

324
00:19:06,559 --> 00:19:07,700
would think

325
00:19:07,700 --> 00:19:11,549
that's a really small amout a permission
coverage

326
00:19:11,549 --> 00:19:15,629
that's not really that scary at all
compared to most aP's

327
00:19:15,629 --> 00:19:19,010
but this was actually one of the
scariest ap civil law

328
00:19:19,010 --> 00:19:24,340
so how does this actually work basically
when you download a droid dream use of

329
00:19:24,340 --> 00:19:25,649
something like this

330
00:19:25,649 --> 00:19:29,179
there were many variants a bit some of
them were

331
00:19:29,179 --> 00:19:32,700
for instance like adult dating site
third I'll videos

332
00:19:32,700 --> 00:19:36,200
bridge some people say I should use that
as the demo but

333
00:19:36,200 --> 00:19:39,470
we're actually looking at one called
bowling time with justice you play

334
00:19:39,470 --> 00:19:41,020
bowling on your phone

335
00:19:41,020 --> 00:19:44,580
and try and knock down all pens free
morning

336
00:19:44,580 --> 00:19:51,200
comparatively to be adult sides of
course

337
00:19:51,200 --> 00:19:55,450
I had to keel mmm but in the background

338
00:19:55,450 --> 00:19:59,790
behind no love this with where all the
evil happened

339
00:19:59,790 --> 00:20:03,840
basically Wenger a dream would start it
copied a bunch of normal

340
00:20:03,840 --> 00:20:08,720
absolute this that even had nice ads you
see their dads up there in a

341
00:20:08,720 --> 00:20:12,619
abt with add those are never scary
because they're paying their dues to

342
00:20:12,619 --> 00:20:14,540
advertisers

343
00:20:14,540 --> 00:20:19,940
but it would start the regular abt in
the foreground so would call it to start

344
00:20:19,940 --> 00:20:23,409
just base wish to illustrate up source
code from the original app

345
00:20:23,409 --> 00:20:27,419
send it off to make it appear on your
phone and then do evil things in the

346
00:20:27,419 --> 00:20:28,240
background

347
00:20:28,240 --> 00:20:31,919
so users will be none the wiser that
this was any different than the original

348
00:20:31,919 --> 00:20:34,260
app

349
00:20:34,260 --> 00:20:37,970
and then it would reach you in the
background you had downloaded anything

350
00:20:37,970 --> 00:20:40,720
and told her it just did

351
00:20:40,720 --> 00:20:44,760
upon install when it started it
automatically tried

352
00:20:44,760 --> 00:20:48,549
to root exploits which at the time were
on Patch

353
00:20:48,549 --> 00:20:52,619
on all the phones by the time joy dream
hit the

354
00:20:52,619 --> 00:20:56,460
hit the news area these had been updated

355
00:20:56,460 --> 00:21:00,919
on official Google phones but most burns
had not had a push out to them yet so

356
00:21:00,919 --> 00:21:05,059
this would basically no day for the
entire time after a dream

357
00:21:05,059 --> 00:21:09,309
so basically if you installed the Droid
dream abt you were going to get hit by

358
00:21:09,309 --> 00:21:10,629
10 this cuz it

359
00:21:10,629 --> 00:21:15,090
not only tried one but it tried to and
these were the same ones that

360
00:21:15,090 --> 00:21:19,129
the routing applications were also
trying oddly enough

361
00:21:19,129 --> 00:21:23,070
I look at the source code after a dream
I looked at the source code of the four

362
00:21:23,070 --> 00:21:27,549
Mod and I'm pretty sure Troy dream
basically just copy the source good

363
00:21:27,549 --> 00:21:31,590
is it even got the same variable names
though the source code was out there

364
00:21:31,590 --> 00:21:34,629
the jury dream writers copied it put it
in there happen

365
00:21:34,629 --> 00:21:38,290
went on their merry way with it there

366
00:21:38,290 --> 00:21:43,580
so it happens I guess so what your dream
did after I treated you if one of those

367
00:21:43,580 --> 00:21:45,119
two

368
00:21:45,119 --> 00:21:49,580
rude actually working again they were
basically it is for most burned

369
00:21:49,580 --> 00:21:53,830
even up until the end his people hadn't
been updated their not had patches push

370
00:21:53,830 --> 00:21:55,899
to them but I'll hit the media

371
00:21:55,899 --> 00:22:00,010
unless you were at that point a Nexus
One because I was the only one out then

372
00:22:00,010 --> 00:22:03,540
the less your Nexus One you're in
trouble through the entirety

373
00:22:03,540 --> 00:22:07,549
Avenger dream time on the market place

374
00:22:07,549 --> 00:22:12,149
so every did your phone again superuser
permissions a kid right to the entire

375
00:22:12,149 --> 00:22:12,929
disk

376
00:22:12,929 --> 00:22:16,149
including the system partition which is
where

377
00:22:16,149 --> 00:22:20,700
abs that are installed at like the base
install

378
00:22:20,700 --> 00:22:24,429
by your carriers are and theoretically
no one else should be able to right

379
00:22:24,429 --> 00:22:27,809
there but of course if you're if you're
right where we want

380
00:22:27,809 --> 00:22:30,859
and it installed packages as system

381
00:22:30,859 --> 00:22:35,450
and at that point the permission model
completely broke down

382
00:22:35,450 --> 00:22:38,990
there are provisions that you can ask
for a system

383
00:22:38,990 --> 00:22:42,530
that you would not even dream love is a
developer you can do anything you want

384
00:22:42,530 --> 00:22:46,100
their you have complete control over the
phone

385
00:22:46,100 --> 00:22:50,909
and now drawing dream has that as well
so it has access to everything at once

386
00:22:50,909 --> 00:22:54,799
it stole your personal information Iran
up your phone bill send it out to add

387
00:22:54,799 --> 00:22:56,250
C&C server

388
00:22:56,250 --> 00:23:01,230
so it's only had access to every
permission available

389
00:23:01,230 --> 00:23:05,540
that's really your fan permission all
gone

390
00:23:05,540 --> 00:23:10,119
which brings us back to these guys again
I've read the source go to both the is

391
00:23:10,119 --> 00:23:12,159
non evil they give your super

392
00:23:12,159 --> 00:23:15,799
user and then they go away but

393
00:23:15,799 --> 00:23:20,389
say for instance you're looking for z4
modern you spell it with 2 O's and you

394
00:23:20,389 --> 00:23:22,690
end up with a website that has something
that

395
00:23:22,690 --> 00:23:26,990
looks a lot like this knowing it can get
the source code so I can pretend to be

396
00:23:26,990 --> 00:23:28,350
this

397
00:23:28,350 --> 00:23:32,299
but it isn't it actually it does retire
for good you come out if it was super

398
00:23:32,299 --> 00:23:35,990
user permissions are you the user happy
you got what you wanted

399
00:23:35,990 --> 00:23:39,580
but what happened in the background you
have no idea because it's all gonna go

400
00:23:39,580 --> 00:23:42,359
on behind the scenes

401
00:23:42,359 --> 00:23:45,669
saw me to show a demo of something you
might wanna do

402
00:23:45,669 --> 00:23:48,889
I fear it's somebody's phone if you were
malicious

403
00:23:48,889 --> 00:23:53,299
attacker this is headline on my old

404
00:23:53,299 --> 00:24:00,299
stories /a evil things you can do to
phones

405
00:24:00,520 --> 00:24:05,649
so I have three phones and you can hear
me talking we're what has happened

406
00:24:05,649 --> 00:24:08,830
my screen this when all up in there

407
00:24:08,830 --> 00:24:13,270
okay let's go back

408
00:24:13,270 --> 00:24:18,010
go where max are so complicated

409
00:24:18,010 --> 00:24:25,010
don't use Mac is killer had been there
has just emerged here

410
00:24:27,010 --> 00:24:31,530
alright so you can tell this is an all
their demo because it they or their

411
00:24:31,530 --> 00:24:33,710
firms we have 3G ones here

412
00:24:33,710 --> 00:24:37,580
the one that still it up as the attacker
the one in the middle is a victim who

413
00:24:37,580 --> 00:24:39,740
has been maliciously rooted and the one

414
00:24:39,740 --> 00:24:43,539
on the far left for you guys

415
00:24:43,539 --> 00:24:47,210
is just a friend if that person who's in
their contact list

416
00:24:47,210 --> 00:24:51,980
so what I is the evil person want to do
is I'm going to send an SMS message

417
00:24:51,980 --> 00:24:55,730
to the phone in the middle to the one
that has been maliciously rooted

418
00:24:55,730 --> 00:24:59,139
it says bought and then it says spam it
has a number and

419
00:24:59,139 --> 00:25:02,840
has a message that doesn't really mean
much to anyone but

420
00:25:02,840 --> 00:25:06,770
it mean something to the program on the
other end that is now

421
00:25:06,770 --> 00:25:11,429
going to be able to intercept your
messages an act on them so this will

422
00:25:11,429 --> 00:25:15,210
is actually just code to talk to the
third in the middle

423
00:25:15,210 --> 00:25:19,270
so I said a text message the phone in
the middle we know our text messages

424
00:25:19,270 --> 00:25:19,780
work

425
00:25:19,780 --> 00:25:23,940
it shows up on the middle phone they see
this nonsense about pots and they go on

426
00:25:23,940 --> 00:25:25,460
with their life

427
00:25:25,460 --> 00:25:29,480
but what we actually saw happen is the
phone on the far left

428
00:25:29,480 --> 00:25:33,740
is the one actually got the message and
the message it got

429
00:25:33,740 --> 00:25:36,740
does not say bought spam and Loblaw it
said

430
00:25:36,740 --> 00:25:39,740
it just says hello hello

431
00:25:39,740 --> 00:25:42,950
and it says it came from someone named
slave but

432
00:25:42,950 --> 00:25:46,899
which obviously the fake name no I don't
have anyone in their furnace

433
00:25:46,899 --> 00:25:50,289
slave bought but that's actually the
middle phone

434
00:25:50,289 --> 00:25:54,379
prove that I'm not all making this up i
dis in the message hello

435
00:25:54,379 --> 00:26:00,309
a normal message to the middle phone
again

436
00:26:00,309 --> 00:26:04,690
and this time it shows up normally on a
metal fan

437
00:26:04,690 --> 00:26:07,960
so basically what you've done here is

438
00:26:07,960 --> 00:26:11,720
the phone in the middle has sent a text
message that they don't know about

439
00:26:11,720 --> 00:26:16,119
to the phone on the far left they also
receive the message they don't know

440
00:26:16,119 --> 00:26:18,679
about this but spam message

441
00:26:18,679 --> 00:26:22,440
and because we redid their phone and
gain access the system level we were

442
00:26:22,440 --> 00:26:23,840
able to do that

443
00:26:23,840 --> 00:26:27,000
without requiring any permissions
whatsoever

444
00:26:27,000 --> 00:26:30,149
so now is basically made them a member
of a botnet

445
00:26:30,149 --> 00:26:34,070
what would be interesting as we grapple
their contacts in the message that does

446
00:26:34,070 --> 00:26:37,369
not say hello hello it says something
like look at the school pictures from

447
00:26:37,369 --> 00:26:39,049
last night with the link in it

448
00:26:39,049 --> 00:26:43,389
the link pop their browser exploit that
with the known exploit and make them

449
00:26:43,389 --> 00:26:46,649
part of the botnet as well

450
00:26:46,649 --> 00:26:50,379
so that's why

451
00:26:50,379 --> 00:26:56,970
routing can sometimes be evil

452
00:26:56,970 --> 00:27:00,780
so how does actually worked in this case
is once again for root access

453
00:27:00,780 --> 00:27:05,740
I A had access to good the entire
filesystem not just the application

454
00:27:05,740 --> 00:27:06,580
layer

455
00:27:06,580 --> 00:27:11,159
says basically what it looks like when
you're talking to

456
00:27:11,159 --> 00:27:15,770
the modem from the application layer you
have your space on top which is where

457
00:27:15,770 --> 00:27:16,970
abs are

458
00:27:16,970 --> 00:27:20,299
since some like at the base like Kurt a
level

459
00:27:20,299 --> 00:27:23,509
modem drivers and then the modem itself
the hardware

460
00:27:23,509 --> 00:27:27,110
so when you receive a message it comes
up here through the murder and the

461
00:27:27,110 --> 00:27:30,899
drivers finally hit the application when
you send one likewise starts at

462
00:27:30,899 --> 00:27:32,299
application layer

463
00:27:32,299 --> 00:27:35,580
go through the driver's finally hit the
modem

464
00:27:35,580 --> 00:27:38,940
so after rated their phone I basically
installed

465
00:27:38,940 --> 00:27:42,690
the bilevel him there at the current
level

466
00:27:42,690 --> 00:27:46,100
because I have access to that now when
you get root access on somebody's phone

467
00:27:46,100 --> 00:27:48,070
you have access to everything tho

468
00:27:48,070 --> 00:27:51,220
including kernel level so I would
basically just

469
00:27:51,220 --> 00:27:54,289
intercept messages coming in an hour

470
00:27:54,289 --> 00:27:59,149
and this would be platform dependent you
actually have to be a lot of a specific

471
00:27:59,149 --> 00:28:00,250
hardware

472
00:28:00,250 --> 00:28:03,539
which at the time as you saw these which
he once those were the only

473
00:28:03,539 --> 00:28:06,820
Android phones at the time now there's a
zillion album

474
00:28:06,820 --> 00:28:10,860
this is a lot harder to do doing stuff
at the application layer is probably

475
00:28:10,860 --> 00:28:12,940
better for malware writers

476
00:28:12,940 --> 00:28:16,169
but if you can write this for the
specific platform

477
00:28:16,169 --> 00:28:19,340
this sort of thing will never be
detected by anti virus causes too low

478
00:28:19,340 --> 00:28:21,480
level it's in the kernel

479
00:28:21,480 --> 00:28:26,149
and everybody who ever root your phone
every piece of software you ever go to

480
00:28:26,149 --> 00:28:32,120
and say please give me root privileges
could do something like this

481
00:28:32,120 --> 00:28:36,639
so basically the other caviar is that

482
00:28:36,639 --> 00:28:42,110
SMS in all is basically year traffic
over the GSM or CDMA modem

483
00:28:42,110 --> 00:28:46,090
is completely unencrypted a disturbance
in cryptid with the session key in

484
00:28:46,090 --> 00:28:49,549
transit based on whether your 2g 3G 4G

485
00:28:49,549 --> 00:28:53,639
but by the time he had your phone it's
not encrypt it anymore

486
00:28:53,639 --> 00:28:58,350
nobody whose malware on your phone has
to gain access your private keys or

487
00:28:58,350 --> 00:29:00,740
anything it's all this going to be
encoded

488
00:29:00,740 --> 00:29:04,629
this is what your text messages look
like you can break it down into what it

489
00:29:04,629 --> 00:29:05,460
actually

490
00:29:05,460 --> 00:29:08,519
says you have the sender number

491
00:29:08,519 --> 00:29:13,029
which is just the two digits flipped
like if you can very quickly flip those

492
00:29:13,029 --> 00:29:17,110
two digits back out you can get my phone
number and you can call me

493
00:29:17,110 --> 00:29:21,169
obviously I don't have an effort the end
but and then the message here is the

494
00:29:21,169 --> 00:29:23,350
7-bit GSM uncoated

495
00:29:23,350 --> 00:29:26,409
which there's tutorials about how to do
this on the internet

496
00:29:26,409 --> 00:29:30,179
and there's good debt it to get it back
out I wrote one

497
00:29:30,179 --> 00:29:34,559
there's one on my website if you
actually teach beginning programming

498
00:29:34,559 --> 00:29:38,610
this would be a really cool exercise to
like get SMS messages you know everybody

499
00:29:38,610 --> 00:29:39,100
gets

500
00:29:39,100 --> 00:29:43,419
the packets and they break down with the
packets a but doing like GSM packet I

501
00:29:43,419 --> 00:29:43,950
think

502
00:29:43,950 --> 00:29:47,200
would get more computer science students
because kids today are obsessed with

503
00:29:47,200 --> 00:29:49,610
their phones really admit it's true

504
00:29:49,610 --> 00:29:52,730
so this vehicle exercise

505
00:29:52,730 --> 00:29:56,840
by you can tell what everything in this
is with no keys whatsoever you don't

506
00:29:56,840 --> 00:29:58,600
have to do any encryption

507
00:29:58,600 --> 00:30:02,519
so if you're on the phone somewhere if
got access to everything

508
00:30:02,519 --> 00:30:06,370
without encryption at all

509
00:30:06,370 --> 00:30:09,950
so basically how this would work it
would receive all the messages

510
00:30:09,950 --> 00:30:13,090
everything that comes into the phone
through the motor middle C

511
00:30:13,090 --> 00:30:16,570
cuz that's below application layer Soto
intercepted

512
00:30:16,570 --> 00:30:20,980
first if it's an SMS message ill decode
the user data

513
00:30:20,980 --> 00:30:25,059
if is not an SMS messages to send it
straight up the application layer

514
00:30:25,059 --> 00:30:28,139
we want users to store get there same
information

515
00:30:28,139 --> 00:30:31,700
so if it is but as a mess little decode
it

516
00:30:31,700 --> 00:30:35,480
it'll check and see if it has by key in
my case that was just bought with the

517
00:30:35,480 --> 00:30:36,159
colon

518
00:30:36,159 --> 00:30:40,769
not a very good cayugas than anyone
could piggyback on your but net net the

519
00:30:40,769 --> 00:30:41,809
last thing you want

520
00:30:41,809 --> 00:30:46,769
ASM our writers to have other people
steal all your hard work in use it to do

521
00:30:46,769 --> 00:30:49,990
their bidding answer viewers nobody
wants that

522
00:30:49,990 --> 00:30:53,889
but if it does indeed have the Botkier
to perform functionality for you for

523
00:30:53,889 --> 00:30:55,700
instance I told it to spam

524
00:30:55,700 --> 00:30:59,950
which it new based on its programming
meant send an SMS message

525
00:30:59,950 --> 00:31:03,179
to someone else with this data so

526
00:31:03,179 --> 00:31:06,749
this straight up C code a minute down
there the bottom in the Android

527
00:31:06,749 --> 00:31:10,049
it's just you don't have to know
anything about

528
00:31:10,049 --> 00:31:13,309
content providers are intense it's just
straight up

529
00:31:13,309 --> 00:31:17,559
see colonel so if you as an hour writer
have written anything for Linux

530
00:31:17,559 --> 00:31:22,360
you can write for this quite easily so
easy transition into working on cell

531
00:31:22,360 --> 00:31:24,490
phones

532
00:31:24,490 --> 00:31:27,590
the medications for these root level
attacks

533
00:31:27,590 --> 00:31:31,580
users need to update their phones we
always tell users they need to update

534
00:31:31,580 --> 00:31:34,600
I never thought I'd say anything nice
about Microsoft

535
00:31:34,600 --> 00:31:38,590
first Tuesday of every month I know that
my

536
00:31:38,590 --> 00:31:42,870
when does business sheen's are going to
update and they get the latest patches

537
00:31:42,870 --> 00:31:46,870
and it's good and it's restarted in the
morning and I've lost all my data that I

538
00:31:46,870 --> 00:31:48,299
forgot to save

539
00:31:48,299 --> 00:31:53,720
but at least I have my updates not so
much with my android phone

540
00:31:53,720 --> 00:31:58,299
I used to complain that and heard with
the best for updating that used to be

541
00:31:58,299 --> 00:32:02,259
you had a plug in your iPhone to the
computer in order to get your updates

542
00:32:02,259 --> 00:32:06,129
say with the BlackBerry now but for
those push over the air as well

543
00:32:06,129 --> 00:32:10,539
third caught up with Android there but
all the iPhones get the updates for US

544
00:32:10,539 --> 00:32:11,999
at the same time

545
00:32:11,999 --> 00:32:15,120
you get your updates you get your
updates for blackberry you don't get

546
00:32:15,120 --> 00:32:16,629
your updates for

547
00:32:16,629 --> 00:32:21,190
and red Google phones get their update
so if you have a Nexus One Nexus

548
00:32:21,190 --> 00:32:25,330
Esther Galaxy Nexus when Google puts
those out

549
00:32:25,330 --> 00:32:28,529
you're getting pretty fast so come over
the air to you will you install this

550
00:32:28,529 --> 00:32:32,129
update luger route you'll say no because
you don't want to lose your route until

551
00:32:32,129 --> 00:32:33,960
somebody is read the newest one

552
00:32:33,960 --> 00:32:37,580
admit it's true know nobody wants to
admit it

553
00:32:37,580 --> 00:32:44,370
no care you guys should drink more than
you did mitt

554
00:32:44,370 --> 00:32:49,499
however everyone else who is not a good
Google platform

555
00:32:49,499 --> 00:32:52,899
it takes a while for you get your
updates you might have noticed this you

556
00:32:52,899 --> 00:32:53,450
see

557
00:32:53,450 --> 00:32:56,590
it happen with droid dream it happens
every time there's an attack

558
00:32:56,590 --> 00:32:59,940
we don't have our updates yet why do we
not have our updates

559
00:32:59,940 --> 00:33:03,490
well they have to take the Google
firmware they have to port it to their

560
00:33:03,490 --> 00:33:07,179
specific platform make sure all their
default install app sir

561
00:33:07,179 --> 00:33:11,019
still work and finally push it out here
this can take

562
00:33:11,019 --> 00:33:16,629
six months those who take a year in some
cases may never happen

563
00:33:16,629 --> 00:33:20,950
like my moms friends get this idea like
so your daughters a an Android hacker

564
00:33:20,950 --> 00:33:25,740
can she root my phone for like 50 back
since I got to start a company why not

565
00:33:25,740 --> 00:33:28,769
apparently there's these web sites that
charge like hundreds and hundreds of

566
00:33:28,769 --> 00:33:33,070
dollars through your phone seriously
these people are making bank on this

567
00:33:33,070 --> 00:33:36,080
but you know I get somebody phone and I
know it's going to be the most up to

568
00:33:36,080 --> 00:33:38,779
date version this is going to be hard
negative light

569
00:33:38,779 --> 00:33:42,940
Android 2.1 five minutes later okay done

570
00:33:42,940 --> 00:33:47,860
people never get there updates at all
like the G one never went past 1.6

571
00:33:47,860 --> 00:33:51,580
any exploit after that anybody who has
ag1

572
00:33:51,580 --> 00:33:54,590
vulnerable older platforms you

573
00:33:54,590 --> 00:33:58,309
you get people who never got past 2.0
2.1

574
00:33:58,309 --> 00:34:02,320
nobody updates to the latest version and
they're vulnerable to everything after

575
00:34:02,320 --> 00:34:03,519
that

576
00:34:03,519 --> 00:34:08,339
and that sucks is we can't really fix
that if they're not

577
00:34:08,339 --> 00:34:12,819
the updates are not available to them we
cannot shake our fears at them and say

578
00:34:12,819 --> 00:34:16,399
you must update your phones you are
vulnerable because you didn't update if

579
00:34:16,399 --> 00:34:19,379
the updates are not even available to
these people they have to buy another

580
00:34:19,379 --> 00:34:21,299
five hundred dollar fernand

581
00:34:21,299 --> 00:34:25,619
pay a two year contract I'm not sure how
did is here in the EU but in america are

582
00:34:25,619 --> 00:34:25,990
you

583
00:34:25,990 --> 00:34:30,089
you buy a two-year contract and then you
get the phone

584
00:34:30,089 --> 00:34:34,850
and so you have to be with the carrier
for two years girls pay a fine and you

585
00:34:34,850 --> 00:34:37,600
still have to pay a lot of money is to
buy a new phone

586
00:34:37,600 --> 00:34:41,850
is a really big deal in america and you
know you can't really blame people for

587
00:34:41,850 --> 00:34:43,270
staying with the old one

588
00:34:43,270 --> 00:34:48,720
but they can update it so this needs to
be fixed

589
00:34:48,720 --> 00:34:52,929
so far we fought throughout evil Android
guy with horns

590
00:34:52,929 --> 00:34:55,990
evil application the wants to hurt you

591
00:34:55,990 --> 00:34:59,150
and is malicious and when you download
it

592
00:34:59,150 --> 00:35:03,230
it's going to exploit you in some way
but now we're gonna switch gears and

593
00:35:03,230 --> 00:35:04,520
talk about this guy

594
00:35:04,520 --> 00:35:08,310
normal Android not scary at all Android
is awesome

595
00:35:08,310 --> 00:35:13,430
I pick on Android a lot in this talk but
Android is my favorite platform by far

596
00:35:13,430 --> 00:35:18,359
I often say I want their the the iPhone
across the room and as developer idea

597
00:35:18,359 --> 00:35:20,029
it's hard to develop for it

598
00:35:20,029 --> 00:35:24,430
for the iPhone it's easy to develop for
Android they make it very simple for

599
00:35:24,430 --> 00:35:27,549
programmers to do lots of cool
functionality

600
00:35:27,549 --> 00:35:32,069
so a lot of people in developing for
Android and with that comes the caveat

601
00:35:32,069 --> 00:35:32,830
kiss

602
00:35:32,830 --> 00:35:37,180
endurance got some new things in it that
if you're secure developer

603
00:35:37,180 --> 00:35:40,299
you thought a lot about how to stop
buffer overflows

604
00:35:40,299 --> 00:35:43,700
sequel injections things you use to now
you've got

605
00:35:43,700 --> 00:35:48,830
content providers and activities and
services an intense

606
00:35:48,830 --> 00:35:53,150
you're not used to these feeder new
these are things that might have some

607
00:35:53,150 --> 00:35:56,210
security caveats we're just not use to
as

608
00:35:56,210 --> 00:35:59,350
a secure developers as the security
community that

609
00:35:59,350 --> 00:36:02,619
or just open and we're not sure how to
deal with it

610
00:36:02,619 --> 00:36:07,130
which is a lot of what you run into its
people who just don't know

611
00:36:07,130 --> 00:36:10,690
because its new stuff so first off

612
00:36:10,690 --> 00:36:14,130
the simple stuff the stuff we should be
thinking about

613
00:36:14,130 --> 00:36:18,450
Android storage Android App Store cool
because

614
00:36:18,450 --> 00:36:21,759
every application hasn't own user ID
this is a

615
00:36:21,759 --> 00:36:25,270
Linux model an edge read only by default

616
00:36:25,270 --> 00:36:28,390
the only person who can see your data is
you

617
00:36:28,390 --> 00:36:32,390
as you're the only one that with that
unique user ID other applications on the

618
00:36:32,390 --> 00:36:33,020
phone

619
00:36:33,020 --> 00:36:37,730
cannot see it the problem comes in when
you want to share it

620
00:36:37,730 --> 00:36:41,720
of course a good place to store things
is the SD card

621
00:36:41,720 --> 00:36:45,150
we store all our pictures in our music
some things there there when people

622
00:36:45,150 --> 00:36:48,160
switch phones they can still have that
with them

623
00:36:48,160 --> 00:36:52,160
there's a problem with the SD card the
it be fed

624
00:36:52,160 --> 00:36:55,330
if anyone familiar with the Fed its

625
00:36:55,330 --> 00:36:58,480
read-only no its not read-only

626
00:36:58,480 --> 00:37:02,150
not anymore it's world readable so
anyone

627
00:37:02,150 --> 00:37:06,190
can see anything you put their any app

628
00:37:06,190 --> 00:37:09,740
and if you still stored on the internal
storage

629
00:37:09,740 --> 00:37:14,089
and you want to share it with someone
else naturally the idea go steal it does

630
00:37:14,089 --> 00:37:18,940
make it world readable no one will know
the file name who cares

631
00:37:18,940 --> 00:37:22,500
not so much

632
00:37:22,500 --> 00:37:26,970
so naturally saying the stuff I thought
how hard would actually be to steal data

633
00:37:26,970 --> 00:37:29,020
from another application

634
00:37:29,020 --> 00:37:33,810
so I wrote one

635
00:37:33,810 --> 00:37:36,900
bed storage alright

636
00:37:36,900 --> 00:37:40,049
so it got more up-to-date Android
platform

637
00:37:40,049 --> 00:37:43,430
and iPhone and

638
00:37:43,430 --> 00:37:46,950
we're going to look at two applications
for going to look at one that stores

639
00:37:46,950 --> 00:37:47,730
data

640
00:37:47,730 --> 00:37:51,520
in a secure manner and we're going to
look at another application that

641
00:37:51,520 --> 00:37:54,609
steals that data

642
00:37:54,609 --> 00:37:59,119
so you may not be aware this but after
you install applications you can still

643
00:37:59,119 --> 00:38:03,160
see all the permissions they ask for if
you go to Settings

644
00:38:03,160 --> 00:38:06,900
you think that you to see it upon
installing you say yes and that's that

645
00:38:06,900 --> 00:38:10,410
you're stuck with it but you could
actually see it all

646
00:38:10,410 --> 00:38:15,200
so on going to look at an app called bad
file save

647
00:38:15,200 --> 00:38:18,480
which no one would ever installed course
but

648
00:38:18,480 --> 00:38:24,049
they want to modify and only USB storage
content so they can write to the SD card

649
00:38:24,049 --> 00:38:28,770
and they want to read the phone state
identity if they want that IMEI number

650
00:38:28,770 --> 00:38:32,420
so you might be able to see where this
is going they wanna read it

651
00:38:32,420 --> 00:38:36,170
and they wanna read it somewhere this
world readable all the time

652
00:38:36,170 --> 00:38:39,930
that's sounds like a recipe for disaster

653
00:38:39,930 --> 00:38:43,560
so that I have another application bad
send the file

654
00:38:43,560 --> 00:38:47,869
but it is not asked for access to the
IMEI number so it should in no way ever

655
00:38:47,869 --> 00:38:52,670
be able to access it and certainly not
be able to send it to another phone

656
00:38:52,670 --> 00:38:56,670
but as for the ability to send SMS
messages so again you I see where this

657
00:38:56,670 --> 00:38:57,450
is going

658
00:38:57,450 --> 00:39:00,850
this should not be able to access the
IMEI but it does

659
00:39:00,850 --> 00:39:07,049
have the ability to send SMS so I wonder
what's going to happen when I call it

660
00:39:07,049 --> 00:39:12,150
let's see what happens

661
00:39:12,150 --> 00:39:16,819
so I call beds in file says hello
Android I am an evil act pick you have

662
00:39:16,819 --> 00:39:18,960
any abt it once here or

663
00:39:18,960 --> 00:39:22,720
no girly at all I could be this to
service in the background

664
00:39:22,720 --> 00:39:26,359
and I see that my imei has been since
the iPhone

665
00:39:26,359 --> 00:39:31,609
so data it should not have had access to
it was able to access

666
00:39:31,609 --> 00:39:38,609
so rather straightforward example here

667
00:39:42,759 --> 00:39:46,619
so basically our green guys are good
application

668
00:39:46,619 --> 00:39:50,589
it stored at sensitive data on the SD
card this need not be the IMEI this be

669
00:39:50,589 --> 00:39:54,310
user names and passwords encryption key
than anything else

670
00:39:54,310 --> 00:39:58,960
that we might want to keep others from
seeing not just on the SD card storing

671
00:39:58,960 --> 00:40:01,100
it world readable

672
00:40:01,100 --> 00:40:05,650
inside over the actual Android storage
work the same way as long as you have

673
00:40:05,650 --> 00:40:06,650
the file name

674
00:40:06,650 --> 00:40:11,900
you can then access it SD card is world
readable so since we started their

675
00:40:11,900 --> 00:40:18,369
were able to see it incomes are bad guy
with the evil horns

676
00:40:18,369 --> 00:40:24,350
I can only get one left early you for
the horns okay

677
00:40:24,350 --> 00:40:29,160
who discovers how the data stored find
out that is stored on the SD card

678
00:40:29,160 --> 00:40:34,009
anybody can read the SD card we don't
ask have to ask for permission we saw

679
00:40:34,009 --> 00:40:38,049
in the demo that it only asked for SMS
lynne asked for permission said reader

680
00:40:38,049 --> 00:40:39,970
SD card where the other one

681
00:40:39,970 --> 00:40:43,859
as for right the SD card anyone by
default read

682
00:40:43,859 --> 00:40:47,520
from the SD card so anyone can see your
pictures from last night

683
00:40:47,520 --> 00:40:51,460
any app on your phone just sayin maybe
you want that at that

684
00:40:51,460 --> 00:40:55,660
though it's them who knows and then send
it to the attacker

685
00:40:55,660 --> 00:40:59,529
the SMS which it asked for that
permission so it has that ability to do

686
00:40:59,529 --> 00:41:00,250
so

687
00:41:00,250 --> 00:41:04,170
not doing anything evil there it has the
ability to read anything from the st.

688
00:41:04,170 --> 00:41:04,819
heard

689
00:41:04,819 --> 00:41:08,009
has the ability to send SMS so

690
00:41:08,009 --> 00:41:12,369
technically this didn't actually exploit
you

691
00:41:12,369 --> 00:41:17,619
good examples everybody hates it when
you see a good example in your talk

692
00:41:17,619 --> 00:41:22,650
but these are really short ones just to
illustrate how easy this is

693
00:41:22,650 --> 00:41:27,040
so this is everything in bed File Save

694
00:41:27,040 --> 00:41:31,489
it basically just read the IMEI which
only takes a couple lives and you can

695
00:41:31,489 --> 00:41:33,970
look up on Stack Overflow how to do it

696
00:41:33,970 --> 00:41:37,430
something interesting about Android
issue you want to exploit the Android

697
00:41:37,430 --> 00:41:42,509
really just google online how do you say
to someone's IMEI if your cell via text

698
00:41:42,509 --> 00:41:43,259
message

699
00:41:43,259 --> 00:41:46,609
and this code examples will show you
exactly how to do that you don't even

700
00:41:46,609 --> 00:41:47,589
need to

701
00:41:47,589 --> 00:41:50,970
is not exploitation you asked for the
permissions

702
00:41:50,970 --> 00:41:55,500
this isn't evil it whole areas really
the stuff you can find on the internet

703
00:41:55,500 --> 00:41:58,730
that all even if you don't even know how
to code in Java

704
00:41:58,730 --> 00:42:04,020
will show you how to do this and then it
stores it to the SD card

705
00:42:04,020 --> 00:42:07,730
in a file called IMEI string file name:

706
00:42:07,730 --> 00:42:11,319
that's not a very good file name with
that pretty much says exactly what's in

707
00:42:11,319 --> 00:42:13,040
there

708
00:42:13,040 --> 00:42:17,810
and then bad then file knowing that it's
called IMEI

709
00:42:17,810 --> 00:42:21,529
read from the SD card which is the
default permission cuz it's not

710
00:42:21,529 --> 00:42:22,440
considered

711
00:42:22,440 --> 00:42:26,830
scary and then reads what's in that file

712
00:42:26,830 --> 00:42:31,640
and send it the SMS sent it has that
permission I can do so

713
00:42:31,640 --> 00:42:37,690
so he descended SMS as a former baseband
programmer who wrote kernel code to send

714
00:42:37,690 --> 00:42:42,029
SMS is being able to do itttt three
lines right here is really awesome

715
00:42:42,029 --> 00:42:46,060
so that's that but wait

716
00:42:46,060 --> 00:42:49,710
we relied on one little caveat here we
knew

717
00:42:49,710 --> 00:42:53,730
what the file name was how did we know
that how do we know what they were

718
00:42:53,730 --> 00:42:55,410
storing their

719
00:42:55,410 --> 00:42:59,029
and what it was called it's actually
quite simple

720
00:42:59,029 --> 00:43:03,480
using open source tools to basically get
the source code I have an Android app

721
00:43:03,480 --> 00:43:07,750
there's talks on Mike reversing Android
absolute do a lot better job the nurse

722
00:43:07,750 --> 00:43:08,210
but

723
00:43:08,210 --> 00:43:11,380
it is for the like basics to get the
source code out

724
00:43:11,380 --> 00:43:15,830
and review it you can do it just with
these three tools here

725
00:43:15,830 --> 00:43:19,549
you on zip the AP K and use it or

726
00:43:19,549 --> 00:43:22,869
a free tool that on Google Code called
Dexter Jr

727
00:43:22,869 --> 00:43:29,650
that will reverse it back to source code
from the compiled Java cared

728
00:43:29,650 --> 00:43:33,299
and then open it up in a tool called JD
go eat

729
00:43:33,299 --> 00:43:38,180
which will show you the source code the
slides are online to buy SlideShare

730
00:43:38,180 --> 00:43:39,380
flies here not there

731
00:43:39,380 --> 00:43:43,200
fleischer to fight led and there's

732
00:43:43,200 --> 00:43:47,549
a a link to the white paper describes
all this it takes him our sample and

733
00:43:47,549 --> 00:43:48,850
shows all this in

734
00:43:48,850 --> 00:43:53,069
reversing them our and looking at what
it's doing so if you're interested in

735
00:43:53,069 --> 00:43:55,739
our reversing this would be a good place
to start

736
00:43:55,739 --> 00:43:58,880
with this paper

737
00:43:58,880 --> 00:44:02,020
for instance this is Facebook I said
that I read the source code to Facebook

738
00:44:02,020 --> 00:44:04,150
this is how

739
00:44:04,150 --> 00:44:07,819
very big gap there there's a lot of
things

740
00:44:07,819 --> 00:44:12,450
and then this is Troy dream you don't do
this very well but

741
00:44:12,450 --> 00:44:16,989
there's some nonsense here so the caveat
is this isn't 100 percent perfect

742
00:44:16,989 --> 00:44:20,160
sometimes I get that wrong but there are

743
00:44:20,160 --> 00:44:24,339
more sophisticated ways reversing
Android but just to get the basics

744
00:44:24,339 --> 00:44:28,199
you can do this in like a minute and a
half in get basically the entire source

745
00:44:28,199 --> 00:44:29,089
good

746
00:44:29,089 --> 00:44:33,040
bike if you can see it is his rage
against the cage up there which

747
00:44:33,040 --> 00:44:37,630
generally gives me an idea that over
exactly what this is doing

748
00:44:37,630 --> 00:44:40,870
and that it wants to go to System
/bin/sh

749
00:44:40,870 --> 00:44:45,960
and run that so I mean just from even
though this is not 100 percent correct

750
00:44:45,960 --> 00:44:49,670
just looking at this like a minute and a
half after I downloaded I can

751
00:44:49,670 --> 00:44:55,029
generally get the idea want use the rage
in the cage exploit and then run it

752
00:44:55,029 --> 00:45:00,880
and then we get something wrong the
third while true if I is less than 0

753
00:45:00,880 --> 00:45:04,380
wild through again and then return and
then do some other stuff but of course

754
00:45:04,380 --> 00:45:07,469
after we've returned we won't ever do
any other stuff

755
00:45:07,469 --> 00:45:12,449
so I sit there and think what is this
this is really weird code I've ever seen

756
00:45:12,449 --> 00:45:15,719
anything like this before and then my
mom walks by

757
00:45:15,719 --> 00:45:19,080
and she's like well you're Decompiler
sucks

758
00:45:19,080 --> 00:45:23,910
and that solves my problem of what this
means my Decompiler was not completely

759
00:45:23,910 --> 00:45:25,870
100 percent correct

760
00:45:25,870 --> 00:45:29,239
but it did give me the just a bit and
I've never come into

761
00:45:29,239 --> 00:45:32,299
a time where wouldn't give me like file
names and such

762
00:45:32,299 --> 00:45:38,799
so this will definitely get you what you
need for this sort of attack

763
00:45:38,799 --> 00:45:42,040
the mitigation for storing things
incorrectly

764
00:45:42,040 --> 00:45:45,290
just or things correctly you have a
really good

765
00:45:45,290 --> 00:45:50,890
model here is thought you can store
things securely cuz you only have

766
00:45:50,890 --> 00:45:54,880
your User ID and no one else can see
about you the don't store things on the

767
00:45:54,880 --> 00:45:55,859
SD card

768
00:45:55,859 --> 00:46:00,520
at-bat we don't like that don't storm in
the source code is as we saw

769
00:46:00,520 --> 00:46:05,410
we might get those strings back again
and don't store them world readable

770
00:46:05,410 --> 00:46:08,799
you can store them if you wanna share
them with others you can

771
00:46:08,799 --> 00:46:13,290
share user ID or you can store them in a
single light do with

772
00:46:13,290 --> 00:46:18,029
and share it but don't share the news
with this is bad

773
00:46:18,029 --> 00:46:21,489
so than the last and most interesting I
think

774
00:46:21,489 --> 00:46:25,620
Android interfaces if anyone ever done
any Android programming

775
00:46:25,620 --> 00:46:29,390
what are the reasons and reduce so often
for instance

776
00:46:29,390 --> 00:46:32,790
if you want to talk to the camera and
take a picture you don't have to do all

777
00:46:32,790 --> 00:46:36,000
the underlying programming to talk to
the camera you want to talk to the

778
00:46:36,000 --> 00:46:36,830
camera at all

779
00:46:36,830 --> 00:46:39,980
all you have to do is called the open
interfaces

780
00:46:39,980 --> 00:46:44,020
for the camera app until it please take
a picture for me and please return it to

781
00:46:44,020 --> 00:46:47,699
me and it nicely doesn't give you back
your application

782
00:46:47,699 --> 00:46:51,380
and you can go on with your life so you
don't have to do any camera programming

783
00:46:51,380 --> 00:46:52,620
whatsoever

784
00:46:52,620 --> 00:46:56,839
Twitter hacked as an example that you
take a picture and then it says the ones

785
00:46:56,839 --> 00:46:59,759
in the Facebook you want to send it to
Twitter

786
00:46:59,759 --> 00:47:03,429
and then a descendant of nicely for
years so I've developer

787
00:47:03,429 --> 00:47:06,630
that's awesome as a security
professional

788
00:47:06,630 --> 00:47:10,710
that sucks because all these open
interfaces

789
00:47:10,710 --> 00:47:15,190
may allow you to actually steal
permissions

790
00:47:15,190 --> 00:47:21,150
so naturally I rude an app to do this

791
00:47:21,150 --> 00:47:25,859
bed Interfit

792
00:47:25,859 --> 00:47:30,630
so we have our to phone to get our
Android or iPhone and I believe at the

793
00:47:30,630 --> 00:47:34,750
beginning of this I X postulate about
what's going on but no already picked up

794
00:47:34,750 --> 00:47:36,020
the phone

795
00:47:36,020 --> 00:47:39,710
so I go to settings again

796
00:47:39,710 --> 00:47:43,739
and I'm gonna look at the permission
from a jobs

797
00:47:43,739 --> 00:47:49,160
your abs

798
00:47:49,160 --> 00:47:53,600
Ivan at called SMS broadcaster which if
you're familiar with Android in

799
00:47:53,600 --> 00:47:56,790
broadcast receiver which listens for
intense

800
00:47:56,790 --> 00:48:00,109
with your messages between applications
it says

801
00:48:00,109 --> 00:48:03,509
want services that cost you money it
wants to send SMS's

802
00:48:03,509 --> 00:48:08,660
that is only permission they have an app
called SMS intent which has absolutely

803
00:48:08,660 --> 00:48:11,109
no permissions whatsoever

804
00:48:11,109 --> 00:48:16,710
it should not be able to send SMS's or
do really anything else

805
00:48:16,710 --> 00:48:21,670
like all SMS intent know what I see
appear that call the SMS broadcast

806
00:48:21,670 --> 00:48:23,310
receiver

807
00:48:23,310 --> 00:48:26,989
which naturally is an activity instead
of a broadcast receiver if you're

808
00:48:26,989 --> 00:48:30,140
familiar with this a broadcast receiver
has no UI

809
00:48:30,140 --> 00:48:33,540
but admitted activities you could see
what actually happened he called the

810
00:48:33,540 --> 00:48:35,190
other application

811
00:48:35,190 --> 00:48:38,850
and made it perform functionality put up
for you I

812
00:48:38,850 --> 00:48:43,210
it need not in a malicious scenario it
would not there would be no UI

813
00:48:43,210 --> 00:48:47,380
no indication that this actually
happened but what happened is it called

814
00:48:47,380 --> 00:48:50,100
the other application

815
00:48:50,100 --> 00:48:53,660
come over to my iPhone I see that it
sent me a text message

816
00:48:53,660 --> 00:48:56,890
so the acted actually clicked on with
SMS in 10

817
00:48:56,890 --> 00:49:01,750
no permissions I never clicked on SMS
broadcast receiver I never called it

818
00:49:01,750 --> 00:49:05,969
so I just sent an SMS without the
permission to do so

819
00:49:05,969 --> 00:49:10,390
by using another application and I see
I'm about to turn red over here

820
00:49:10,390 --> 00:49:16,310
so it better continue

821
00:49:16,310 --> 00:49:20,140
so basically are good application

822
00:49:20,140 --> 00:49:23,190
when it's called it's an SMS so

823
00:49:23,190 --> 00:49:26,319
why this would happen is for instance at
the game

824
00:49:26,319 --> 00:49:29,929
and it once did like check in your
scores this would be

825
00:49:29,929 --> 00:49:33,390
one activity year broadcast receiver
service 01

826
00:49:33,390 --> 00:49:36,679
component have an application that sends
an SMS

827
00:49:36,679 --> 00:49:40,040
for instance with your scores the net so
it would naturally assume it only its

828
00:49:40,040 --> 00:49:42,219
own application would ever call this

829
00:49:42,219 --> 00:49:45,710
the only I don't export it so the only
way to call it would be to know its name

830
00:49:45,710 --> 00:49:47,480
know it's packaged a.m.

831
00:49:47,480 --> 00:49:52,109
and no its at actual interface name so
SMS broadcaster

832
00:49:52,109 --> 00:49:56,069
it would have to know that and there's
no way we could do that right as we can

833
00:49:56,069 --> 00:49:57,140
get the source code

834
00:49:57,140 --> 00:50:01,109
the absolute no way we could know the
name with it not at all

835
00:50:01,109 --> 00:50:04,219
right now so basically the caller

836
00:50:04,219 --> 00:50:09,739
tell that to send an SMS and we assume
it is only gonna come from the same apt

837
00:50:09,739 --> 00:50:14,150
so this is normal nothing bad here it's
going singer scores of when it gets the

838
00:50:14,150 --> 00:50:15,250
correct intent

839
00:50:15,250 --> 00:50:20,580
or message from another component
telling it to send it

840
00:50:20,580 --> 00:50:24,290
incomes are evil app with the horns and
it

841
00:50:24,290 --> 00:50:27,540
cause broadcasters fear and tell the

842
00:50:27,540 --> 00:50:31,109
the number to send the message to you
and the message to send

843
00:50:31,109 --> 00:50:38,109
and this has the ability to send an SMS
message without the actual permission

844
00:50:38,679 --> 00:50:43,199
code examples real quick so as the most
broadcast receiver

845
00:50:43,199 --> 00:50:48,060
basically when it's called it has
default values

846
00:50:48,060 --> 00:50:51,650
but it it gets the intent which is the
message and you can store additional

847
00:50:51,650 --> 00:50:53,529
data on the message

848
00:50:53,529 --> 00:50:56,909
so it books for two specific keys
message in number

849
00:50:56,909 --> 00:51:01,040
pretty easy here than message you want
to send the number you wanna send it to

850
00:51:01,040 --> 00:51:05,069
it looks for those if the intended gets
doesn't have those big it's a weird

851
00:51:05,069 --> 00:51:05,870
intent

852
00:51:05,870 --> 00:51:09,790
it just so the default so it won't crash

853
00:51:09,790 --> 00:51:13,969
but it looks for those if they're there
naturally cuz we can reverse this we can

854
00:51:13,969 --> 00:51:14,960
see this code

855
00:51:14,960 --> 00:51:18,900
we know we need to send an intent with
two key is message

856
00:51:18,900 --> 00:51:22,630
a number and the data we wanted to
actually spend

857
00:51:22,630 --> 00:51:26,250
and where we wanted to send it in
message in number

858
00:51:26,250 --> 00:51:30,750
so we can then formulate the intent we
know where to send it to

859
00:51:30,750 --> 00:51:34,620
the package is higher appear in the
screenshot the didn't make it but

860
00:51:34,620 --> 00:51:38,420
we need the package when in the name so
the class name

861
00:51:38,420 --> 00:51:41,940
and the package it then and then how to
make the intent

862
00:51:41,940 --> 00:51:46,830
and we've got everything we need to make
this do our bidding

863
00:51:46,830 --> 00:51:50,609
so an SMS intent we do just that we
created in 10

864
00:51:50,609 --> 00:51:54,279
so a message to send to another
component on a Android

865
00:51:54,279 --> 00:51:59,520
we tell it the package we tell it the
name of the actual activity or broadcast

866
00:51:59,520 --> 00:52:00,880
receiver or service

867
00:52:00,880 --> 00:52:05,089
or any interface we want as long as we
can call it by name

868
00:52:05,089 --> 00:52:08,109
it doesn't matter if it's exported to us

869
00:52:08,109 --> 00:52:11,480
we can actually this call it we give it

870
00:52:11,480 --> 00:52:16,199
the strings we wanted to send we wanted
to said a message that says test test

871
00:52:16,199 --> 00:52:19,469
which could be anything and the number
we want to send it to

872
00:52:19,469 --> 00:52:23,620
we put those X-ers into the intent
giving them the key is that we found in

873
00:52:23,620 --> 00:52:24,969
a previous source good

874
00:52:24,969 --> 00:52:28,170
number in message and within the intent
of

875
00:52:28,170 --> 00:52:32,830
and it will call the other one so to
call is a mess broadcast receiver

876
00:52:32,830 --> 00:52:36,940
which one it's called this in the text
message no user interaction required it

877
00:52:36,940 --> 00:52:39,449
just doesn't if you get the correct in
10

878
00:52:39,449 --> 00:52:44,290
which do the source code we were able to
see how to do that

879
00:52:44,290 --> 00:52:49,080
so medications for this basically don't
have your dangerous functionality

880
00:52:49,080 --> 00:52:52,120
anything you have to ask for permission
for is considered

881
00:52:52,120 --> 00:52:56,969
dangers functionality on Android so
don't have a just directly available

882
00:52:56,969 --> 00:53:00,779
for instance an easy way to deal with
this issue just have users have to click

883
00:53:00,779 --> 00:53:01,670
OK

884
00:53:01,670 --> 00:53:05,630
the forces of their scores have it like
put up a toaster little message box it

885
00:53:05,630 --> 00:53:06,580
says

886
00:53:06,580 --> 00:53:10,339
can I send your source for the server
you have to click OK or cancel

887
00:53:10,339 --> 00:53:15,429
and so then when as a mess intent called
SMS broadcast receiver it would put up

888
00:53:15,429 --> 00:53:18,299
that message and users be like I didn't
play the game

889
00:53:18,299 --> 00:53:21,440
they probably click OK anyway admit it
they probably would

890
00:53:21,440 --> 00:53:24,859
but at least it would give him some hope
on

891
00:53:24,859 --> 00:53:28,880
another thing you can do is there's
actually a little-known tag an Android

892
00:53:28,880 --> 00:53:30,659
called require permission

893
00:53:30,659 --> 00:53:35,239
which you can put in your XML and for
when you have to you have to declare

894
00:53:35,239 --> 00:53:38,850
your their faces so all your activities
and services in such

895
00:53:38,850 --> 00:53:42,880
you have to clear them in your manifest
and when you do that you candace

896
00:53:42,880 --> 00:53:46,819
years they require permission so we
could hear say require permission

897
00:53:46,819 --> 00:53:50,509
send SMS and then when any other
application

898
00:53:50,509 --> 00:53:53,969
or any other interface even inside
that's a map

899
00:53:53,969 --> 00:53:57,029
has asked for calling this

900
00:53:57,029 --> 00:54:01,460
this interface it'll check to make sure
they have that permission to send SMS

901
00:54:01,460 --> 00:54:06,049
and when they don't with your case with
SMS intent who had no provision

902
00:54:06,049 --> 00:54:10,839
they don't have the ability to send it
it'll just say no and it won't work

903
00:54:10,839 --> 00:54:16,120
Hurley anybody uses that and the reason
for that i think is mainly because

904
00:54:16,120 --> 00:54:20,759
one obviously developers don't think
about secure development day this one

905
00:54:20,759 --> 00:54:25,409
cool fireworks and stuff to make people
dollar their abs

906
00:54:25,409 --> 00:54:30,909
and also the problem is Google itself if
you've ever looked up how to

907
00:54:30,909 --> 00:54:34,659
do Android programming you'll see it
shows you lots of nice

908
00:54:34,659 --> 00:54:38,739
demonstrations and tutorials it starts
out with hello world just like everybody

909
00:54:38,739 --> 00:54:40,580
else does and you

910
00:54:40,580 --> 00:54:44,060
do hello world many make something
called the notepad application

911
00:54:44,060 --> 00:54:48,210
but in none of those tutorials does it
ever actually ask you

912
00:54:48,210 --> 00:54:52,130
to look at the security page which is
all out there tonight security page that

913
00:54:52,130 --> 00:54:55,009
talks about all of this that we thought
about

914
00:54:55,009 --> 00:54:58,420
but new developers they don't ever see
that

915
00:54:58,420 --> 00:55:03,540
so this is how you contact me and now I
will take questions

916
00:55:03,540 --> 00:55:08,549
any questions from the audience anybody
Walmart keillor this thing is not empty

917
00:55:08,549 --> 00:55:11,819
you know you want to now really

918
00:55:11,819 --> 00:55:13,089
no questions no nothing

