1
00:00:04,140 --> 00:00:07,740
hi everyone and welcome to the dev

2
00:00:07,740 --> 00:00:10,860
secots track I'm Denise worth the Dunn a

3
00:00:10,860 --> 00:00:13,019
volunteer in the OAS community and

4
00:00:13,019 --> 00:00:15,420
currently owas Dublin chapter lead in

5
00:00:15,420 --> 00:00:16,260
Ireland

6
00:00:16,260 --> 00:00:18,600
I'll be moderating this today's session

7
00:00:18,600 --> 00:00:21,240
during the next 45 minutes you'll be

8
00:00:21,240 --> 00:00:24,000
listening to Bjorn kivanich present all

9
00:00:24,000 --> 00:00:27,300
about the OAS Jew shop project which is

10
00:00:27,300 --> 00:00:30,000
an interactive insecure web application

11
00:00:30,000 --> 00:00:31,619
training environment

12
00:00:31,619 --> 00:00:33,899
for any questions you may have please

13
00:00:33,899 --> 00:00:36,600
submit them during the session in the Q

14
00:00:36,600 --> 00:00:39,180
a tab just to the right of this video on

15
00:00:39,180 --> 00:00:41,700
the Hoover platform I'll then be asking

16
00:00:41,700 --> 00:00:43,800
Bjorn your questions in the last 10

17
00:00:43,800 --> 00:00:45,420
minutes of the session

18
00:00:45,420 --> 00:00:47,760
please note that the chash function in

19
00:00:47,760 --> 00:00:49,739
Zoom is actually disabled for attendees

20
00:00:49,739 --> 00:00:52,620
but you can leave comments and chat

21
00:00:52,620 --> 00:00:55,800
using the chat tab in the Hoover app or

22
00:00:55,800 --> 00:00:56,699
online

23
00:00:56,699 --> 00:01:00,239
so just to introduce Bjorn this Bjorn is

24
00:01:00,239 --> 00:01:02,579
currently an I.T project group leading

25
00:01:02,579 --> 00:01:05,519
Eagle responsible for application

26
00:01:05,519 --> 00:01:07,979
security he's very passionate about

27
00:01:07,979 --> 00:01:10,320
security and application security which

28
00:01:10,320 --> 00:01:12,360
is really evident through his volunteer

29
00:01:12,360 --> 00:01:15,119
work but oh wasp where he is an O wasp

30
00:01:15,119 --> 00:01:16,979
life member chair on the oauth

31
00:01:16,979 --> 00:01:19,979
commission oh well stupid shop project

32
00:01:19,979 --> 00:01:22,680
leader and co-chapter leader for the OAS

33
00:01:22,680 --> 00:01:25,020
Germany chapter so with that I'm going

34
00:01:25,020 --> 00:01:27,119
to hand you over to Bjorn

35
00:01:27,119 --> 00:01:29,759
thank you very much yeah I'm a busy

36
00:01:29,759 --> 00:01:31,680
always be so to say

37
00:01:31,680 --> 00:01:35,520
so I will start sharing my screen please

38
00:01:35,520 --> 00:01:38,220
tell me if it works

39
00:01:38,220 --> 00:01:40,619
does okay perfect

40
00:01:40,619 --> 00:01:43,200
so yeah welcome everyone to this uh

41
00:01:43,200 --> 00:01:45,479
introduction session about the owas Jew

42
00:01:45,479 --> 00:01:46,439
shop

43
00:01:46,439 --> 00:01:49,200
um I will start from the beginning for

44
00:01:49,200 --> 00:01:50,759
those who've never heard about Jew shop

45
00:01:50,759 --> 00:01:52,619
before and who have might have never

46
00:01:52,619 --> 00:01:55,500
seen it before but I will go in in more

47
00:01:55,500 --> 00:01:59,280
detail only uh for some into some let's

48
00:01:59,280 --> 00:02:01,619
say of some of the newer topics that we

49
00:02:01,619 --> 00:02:04,500
just recently added so even if you had

50
00:02:04,500 --> 00:02:06,840
like a few years ago maybe an intro

51
00:02:06,840 --> 00:02:08,520
session to do shop there should be still

52
00:02:08,520 --> 00:02:10,679
something interesting in this for you so

53
00:02:10,679 --> 00:02:12,500
we are currently at version

54
00:02:12,500 --> 00:02:15,660
14.0.1 with tools shop because we take

55
00:02:15,660 --> 00:02:17,760
semantic versioning very seriously so

56
00:02:17,760 --> 00:02:19,860
whenever something breaking changes in

57
00:02:19,860 --> 00:02:21,540
the application we actually

58
00:02:21,540 --> 00:02:24,480
put uh increment the the actual major

59
00:02:24,480 --> 00:02:26,879
version of the of the platform

60
00:02:26,879 --> 00:02:29,520
so let's start so the tagline of two

61
00:02:29,520 --> 00:02:31,379
shop is it's probably the most modern

62
00:02:31,379 --> 00:02:33,300
and sophisticated insecure web

63
00:02:33,300 --> 00:02:37,140
application although it's by now in its

64
00:02:37,140 --> 00:02:40,739
eighth year so it's not that new anymore

65
00:02:40,739 --> 00:02:43,500
but we keep it up to date and so I'm I

66
00:02:43,500 --> 00:02:46,080
hope that the modern most modern uh

67
00:02:46,080 --> 00:02:49,080
taglines still applies and I would guess

68
00:02:49,080 --> 00:02:51,540
so most sophisticated definitely applies

69
00:02:51,540 --> 00:02:54,300
and you will see why when I'm uh when

70
00:02:54,300 --> 00:02:56,940
you during the presentation

71
00:02:56,940 --> 00:02:58,140
so

72
00:02:58,140 --> 00:02:59,099
um

73
00:02:59,099 --> 00:03:01,739
here are some customer testimonials that

74
00:03:01,739 --> 00:03:04,379
I actually collected over the years

75
00:03:04,379 --> 00:03:06,660
none of these are fake so the links to

76
00:03:06,660 --> 00:03:08,160
all of the original tweets and

77
00:03:08,160 --> 00:03:09,840
everything you can actually find there

78
00:03:09,840 --> 00:03:12,959
so it's uh it has been called the most

79
00:03:12,959 --> 00:03:15,959
trustworthy online shop out there might

80
00:03:15,959 --> 00:03:18,420
be a kind of ironic statement here the

81
00:03:18,420 --> 00:03:19,500
best Juice Shop on the whole internet

82
00:03:19,500 --> 00:03:22,620
that's very that's very kind

83
00:03:22,620 --> 00:03:24,300
um it's actually the most bug-free

84
00:03:24,300 --> 00:03:26,159
vulnerable application in existence

85
00:03:26,159 --> 00:03:30,180
because we actually care about our code

86
00:03:30,180 --> 00:03:32,519
base and try to make sure that the

87
00:03:32,519 --> 00:03:34,739
application itself actually works the

88
00:03:34,739 --> 00:03:36,420
way it should be but it's still

89
00:03:36,420 --> 00:03:38,340
massively vulnerable of course

90
00:03:38,340 --> 00:03:40,680
yeah first it makes you laugh really

91
00:03:40,680 --> 00:03:42,599
hard then it makes you cry when you

92
00:03:42,599 --> 00:03:44,519
actually see what uh what happens behind

93
00:03:44,519 --> 00:03:46,140
the scenes and what actual technical

94
00:03:46,140 --> 00:03:49,440
issues and security issues are in it and

95
00:03:49,440 --> 00:03:52,019
uh the wife of one colleague actually

96
00:03:52,019 --> 00:03:54,120
complained when she saw that this

97
00:03:54,120 --> 00:03:55,860
actually has nothing really to do with

98
00:03:55,860 --> 00:03:59,340
juice and she was kind of sad about that

99
00:03:59,340 --> 00:04:01,620
so starting

100
00:04:01,620 --> 00:04:04,680
with the first demo this is what I

101
00:04:04,680 --> 00:04:06,840
always like to do show you what the Jew

102
00:04:06,840 --> 00:04:10,500
shop actually can uh can do and what you

103
00:04:10,500 --> 00:04:12,480
can what you can use it for because it's

104
00:04:12,480 --> 00:04:15,120
an actual e-commerce application where

105
00:04:15,120 --> 00:04:17,699
you can purchase surprise juice and

106
00:04:17,699 --> 00:04:19,560
Associated products

107
00:04:19,560 --> 00:04:21,899
so when you start the Juice Shop this

108
00:04:21,899 --> 00:04:23,520
instance here is running locally on my

109
00:04:23,520 --> 00:04:24,960
computer at the moment

110
00:04:24,960 --> 00:04:27,540
you basically get this

111
00:04:27,540 --> 00:04:30,300
this overview here products that you can

112
00:04:30,300 --> 00:04:32,580
that you can actually buy

113
00:04:32,580 --> 00:04:34,500
um so let's see what what does it have

114
00:04:34,500 --> 00:04:36,720
it also has this lovely cookie Banner

115
00:04:36,720 --> 00:04:39,360
well I will I will leave that

116
00:04:39,360 --> 00:04:42,060
open for a bit uh so let's show a few

117
00:04:42,060 --> 00:04:45,000
more products here so as you can see

118
00:04:45,000 --> 00:04:46,979
there's all kinds of different different

119
00:04:46,979 --> 00:04:49,860
juice you can actually buy for example

120
00:04:49,860 --> 00:04:54,180
some lemon juice okay very nice but also

121
00:04:54,180 --> 00:04:57,900
some some merchandise products for

122
00:04:57,900 --> 00:05:01,020
example there's co-stars with the Juice

123
00:05:01,020 --> 00:05:03,720
Shop wallpaper background unfortunately

124
00:05:03,720 --> 00:05:05,880
those are sold out at the moment

125
00:05:05,880 --> 00:05:09,540
or there's I don't know for example or

126
00:05:09,540 --> 00:05:12,840
one of our favorites uh actual temporary

127
00:05:12,840 --> 00:05:15,540
tattoos which you can really purchase if

128
00:05:15,540 --> 00:05:17,460
you want and those have even been

129
00:05:17,460 --> 00:05:20,400
reviewed by someone who's who seems to

130
00:05:20,400 --> 00:05:22,560
be really into tattoos

131
00:05:22,560 --> 00:05:24,180
so you can see there's lots of stuff

132
00:05:24,180 --> 00:05:25,560
here

133
00:05:25,560 --> 00:05:28,139
um so I'm

134
00:05:28,139 --> 00:05:29,940
I'm already logged in from a previous

135
00:05:29,940 --> 00:05:32,280
session it seems so let's log out now

136
00:05:32,280 --> 00:05:33,840
you can see I cannot put anything into

137
00:05:33,840 --> 00:05:36,000
my shopping basket but of course that's

138
00:05:36,000 --> 00:05:37,560
what I actually want to do right I want

139
00:05:37,560 --> 00:05:40,800
to do the happy path shopping tour so I

140
00:05:40,800 --> 00:05:44,220
have to log in when I'm a new user I

141
00:05:44,220 --> 00:05:46,259
actually would have to register right

142
00:05:46,259 --> 00:05:48,000
classic

143
00:05:48,000 --> 00:05:52,560
uh way of doing this I will for to not

144
00:05:52,560 --> 00:05:55,199
spend too much time with this part of

145
00:05:55,199 --> 00:05:57,180
the of the presentation I will just use

146
00:05:57,180 --> 00:06:00,539
our our demo user

147
00:06:00,539 --> 00:06:03,120
so log in

148
00:06:03,120 --> 00:06:04,560
and

149
00:06:04,560 --> 00:06:06,479
now you can see I'm logged in with the

150
00:06:06,479 --> 00:06:07,919
demo account and now I will just

151
00:06:07,919 --> 00:06:10,320
purchase some stuff like for example a

152
00:06:10,320 --> 00:06:11,639
little bit of

153
00:06:11,639 --> 00:06:15,900
apple juice maybe also some lemon juice

154
00:06:15,900 --> 00:06:18,919
and I might actually want one of these

155
00:06:18,919 --> 00:06:21,900
melon bikes which look really cool it's

156
00:06:21,900 --> 00:06:24,060
expensive but it looks great

157
00:06:24,060 --> 00:06:28,620
so now I'm going to my shopping basket

158
00:06:28,620 --> 00:06:31,139
so I can decide okay I want a little bit

159
00:06:31,139 --> 00:06:33,660
more lemon juice maybe even more apple

160
00:06:33,660 --> 00:06:35,639
juice so let's increase those a little

161
00:06:35,639 --> 00:06:37,860
bit and maybe this mountain bike is a

162
00:06:37,860 --> 00:06:40,020
little bit too expensive for me so I

163
00:06:40,020 --> 00:06:42,360
will just throw it out of the card again

164
00:06:42,360 --> 00:06:45,780
and we'll proceed to checkout

165
00:06:45,780 --> 00:06:48,180
as the demo user I already have an

166
00:06:48,180 --> 00:06:49,620
address

167
00:06:49,620 --> 00:06:53,840
so let's just use that one

168
00:06:54,240 --> 00:06:56,940
um I can choose the delivery speed so

169
00:06:56,940 --> 00:06:58,919
yeah it's only juice so I'm fine with

170
00:06:58,919 --> 00:07:00,900
standard delivery so it's free but it

171
00:07:00,900 --> 00:07:02,699
might take actually five days to reach

172
00:07:02,699 --> 00:07:05,759
me let's continue and now I have to

173
00:07:05,759 --> 00:07:08,160
obviously pay so I could either use my

174
00:07:08,160 --> 00:07:10,319
already registered credit card or I can

175
00:07:10,319 --> 00:07:11,880
use my

176
00:07:11,880 --> 00:07:15,060
um in-store digital wallet right because

177
00:07:15,060 --> 00:07:17,600
I have 200

178
00:07:17,600 --> 00:07:21,060
credits whatever currency this is uh on

179
00:07:21,060 --> 00:07:23,340
my on my wallet so let's use that to

180
00:07:23,340 --> 00:07:25,380
actually pay

181
00:07:25,380 --> 00:07:27,780
I will not get any bonus points okay

182
00:07:27,780 --> 00:07:30,080
that's sad but

183
00:07:30,080 --> 00:07:33,900
now I have completed my purchase uh I'll

184
00:07:33,900 --> 00:07:35,699
get some confirmation here I actually

185
00:07:35,699 --> 00:07:39,300
can if I want to see the

186
00:07:39,300 --> 00:07:42,479
actual invoice which is generated as a

187
00:07:42,479 --> 00:07:44,819
PDF you can download it

188
00:07:44,819 --> 00:07:48,180
store it print it whatever I like and I

189
00:07:48,180 --> 00:07:49,800
can already even go to the order

190
00:07:49,800 --> 00:07:52,520
tracking page here and see when my

191
00:07:52,520 --> 00:07:54,660
delivery will arrive right so it's

192
00:07:54,660 --> 00:07:56,220
currently as you can see it's still in

193
00:07:56,220 --> 00:07:57,539
the warehouse five days away from my

194
00:07:57,539 --> 00:07:58,319
home

195
00:07:58,319 --> 00:07:59,819
lovely

196
00:07:59,819 --> 00:08:02,160
so this is obviously the main Juice Shop

197
00:08:02,160 --> 00:08:04,199
use case because we want to sell you

198
00:08:04,199 --> 00:08:05,639
stuff and

199
00:08:05,639 --> 00:08:07,319
want to make money from that of course

200
00:08:07,319 --> 00:08:09,539
there's some side use cases

201
00:08:09,539 --> 00:08:12,599
as well so for example we are always

202
00:08:12,599 --> 00:08:14,880
happy to receive customer feedback right

203
00:08:14,880 --> 00:08:17,280
so if you just want to give us some some

204
00:08:17,280 --> 00:08:19,740
credit for what we are doing great or

205
00:08:19,740 --> 00:08:21,479
maybe even not so great you can you can

206
00:08:21,479 --> 00:08:23,639
you can do that you have to solve a

207
00:08:23,639 --> 00:08:25,340
really complicated capture to actually

208
00:08:25,340 --> 00:08:28,020
submit it because we don't want to get

209
00:08:28,020 --> 00:08:30,240
spammed too much if you're not so happy

210
00:08:30,240 --> 00:08:32,940
you can of course also complain you can

211
00:08:32,940 --> 00:08:35,940
even upload your invoice with the order

212
00:08:35,940 --> 00:08:39,299
that the complaint is about

213
00:08:39,299 --> 00:08:41,880
so we are not so happy to receive those

214
00:08:41,880 --> 00:08:44,520
but yeah we take them anyway

215
00:08:44,520 --> 00:08:46,740
if you have a question you can ask our

216
00:08:46,740 --> 00:08:51,120
friendly uh support chatbot so

217
00:08:51,120 --> 00:08:54,899
um my name is beyond

218
00:08:54,899 --> 00:08:57,660
hi juicy

219
00:08:57,660 --> 00:09:00,300
okay so I can ask juicy all kinds of

220
00:09:00,300 --> 00:09:04,500
questions so for example how much is

221
00:09:04,500 --> 00:09:06,720
apple juice

222
00:09:06,720 --> 00:09:08,880
see maybe juicy knows

223
00:09:08,880 --> 00:09:11,459
ah Joseph tells me now how much apple

224
00:09:11,459 --> 00:09:13,200
juice costs but also how much lemon

225
00:09:13,200 --> 00:09:15,779
juice and apple pumice cost okay well it

226
00:09:15,779 --> 00:09:18,839
didn't get that product exactly so I can

227
00:09:18,839 --> 00:09:21,300
also for example ask juicy some other

228
00:09:21,300 --> 00:09:23,399
questions but this is actually part of

229
00:09:23,399 --> 00:09:25,620
the hacking experience already and I

230
00:09:25,620 --> 00:09:27,420
don't want to spoil too much

231
00:09:27,420 --> 00:09:29,220
there's a photo wall where you can

232
00:09:29,220 --> 00:09:33,839
upload your favorite photos from your

233
00:09:33,839 --> 00:09:36,600
XP with products that you purchased at

234
00:09:36,600 --> 00:09:38,640
the jewel shop for example

235
00:09:38,640 --> 00:09:40,740
there's an about us page where you can

236
00:09:40,740 --> 00:09:42,839
read everything about the exciting

237
00:09:42,839 --> 00:09:45,480
history of the Jew SHOP Company you can

238
00:09:45,480 --> 00:09:47,760
also find all our social media links etc

239
00:09:47,760 --> 00:09:51,380
etc you can even become a deluxe member

240
00:09:51,380 --> 00:09:53,279
for the

241
00:09:53,279 --> 00:09:56,339
for the amount of only 49

242
00:09:56,339 --> 00:09:59,519
whatever currency

243
00:09:59,519 --> 00:10:02,459
um to for one year then you actually get

244
00:10:02,459 --> 00:10:04,620
free fast delivery for example

245
00:10:04,620 --> 00:10:06,480
and other benefits

246
00:10:06,480 --> 00:10:08,640
and in your account there's even more

247
00:10:08,640 --> 00:10:10,140
features right so you can get to your

248
00:10:10,140 --> 00:10:11,580
order history you can change your

249
00:10:11,580 --> 00:10:13,440
addresses you can read our privacy

250
00:10:13,440 --> 00:10:16,320
policy you can even if you if you want

251
00:10:16,320 --> 00:10:17,940
you can even set up two-factor

252
00:10:17,940 --> 00:10:19,080
Authentication

253
00:10:19,080 --> 00:10:21,540
right so and I guess nothing bad would

254
00:10:21,540 --> 00:10:24,540
ever happen from me showing this uh QR

255
00:10:24,540 --> 00:10:27,779
code on on the screen and having that

256
00:10:27,779 --> 00:10:29,640
actually recorded somewhere so you can

257
00:10:29,640 --> 00:10:30,959
see there's lots of stuff you can

258
00:10:30,959 --> 00:10:31,740
actually

259
00:10:31,740 --> 00:10:34,860
do with this application

260
00:10:34,860 --> 00:10:37,740
so that was the the actual happy path

261
00:10:37,740 --> 00:10:40,140
right so if you just want to play around

262
00:10:40,140 --> 00:10:41,880
with a web shop this is actually what

263
00:10:41,880 --> 00:10:43,019
you want to do

264
00:10:43,019 --> 00:10:44,940
and you might not have noticed that

265
00:10:44,940 --> 00:10:47,100
there was actually nothing going wrong

266
00:10:47,100 --> 00:10:48,899
here right and nothing really looked

267
00:10:48,899 --> 00:10:51,720
that suspicious or was broken so it's

268
00:10:51,720 --> 00:10:53,339
actually working the only thing that

269
00:10:53,339 --> 00:10:54,720
doesn't work is you will not get

270
00:10:54,720 --> 00:10:57,120
whatever you order because there's no

271
00:10:57,120 --> 00:11:00,180
real company behind this I'll send you

272
00:11:00,180 --> 00:11:01,380
the stuff

273
00:11:01,380 --> 00:11:03,660
but everything else that works quite

274
00:11:03,660 --> 00:11:05,880
nicely

275
00:11:05,880 --> 00:11:09,180
so of course as Denise already mentioned

276
00:11:09,180 --> 00:11:11,399
this is actually a training environment

277
00:11:11,399 --> 00:11:15,019
for uh for web application

278
00:11:15,019 --> 00:11:18,779
uh vulnerabilities and uh

279
00:11:18,779 --> 00:11:20,940
General problems with with secure design

280
00:11:20,940 --> 00:11:23,100
and everything so the Juice Shop

281
00:11:23,100 --> 00:11:25,740
contains a number of 100 hacking

282
00:11:25,740 --> 00:11:27,959
challenges from all kinds of categories

283
00:11:27,959 --> 00:11:29,880
from technical stuff like cross-site

284
00:11:29,880 --> 00:11:32,040
scripting SQL injection that kind of

285
00:11:32,040 --> 00:11:34,320
thing but also

286
00:11:34,320 --> 00:11:37,800
wrong usage of cryptography

287
00:11:37,800 --> 00:11:39,720
um the the inability to prevent

288
00:11:39,720 --> 00:11:43,200
automation attacks and complete Security

289
00:11:43,200 --> 00:11:46,079
design disasters also using integral

290
00:11:46,079 --> 00:11:48,060
components so basically you find

291
00:11:48,060 --> 00:11:49,860
everything in the Drew shop that you

292
00:11:49,860 --> 00:11:51,959
will find on the OAS top 10

293
00:11:51,959 --> 00:11:54,180
not only the current one but also the

294
00:11:54,180 --> 00:11:55,440
one from the

295
00:11:55,440 --> 00:11:57,240
let's say I would I would almost say

296
00:11:57,240 --> 00:11:59,160
like from the beginning of the awards

297
00:11:59,160 --> 00:12:01,380
top 10 everything that you found ever

298
00:12:01,380 --> 00:12:03,360
had on that list is probably already in

299
00:12:03,360 --> 00:12:05,899
the true shot

300
00:12:07,200 --> 00:12:10,079
um these 100 hacking challenges or

301
00:12:10,079 --> 00:12:12,480
exercises are ranked into six levels of

302
00:12:12,480 --> 00:12:14,220
difficulty so starting from beginner

303
00:12:14,220 --> 00:12:16,860
friendly ones with one star going all

304
00:12:16,860 --> 00:12:20,040
the way up to six stars so as a beginner

305
00:12:20,040 --> 00:12:22,740
you should find enough things to do but

306
00:12:22,740 --> 00:12:25,140
also as a as a security expert there are

307
00:12:25,140 --> 00:12:29,480
some tough nuts to actually crack in

308
00:12:29,640 --> 00:12:31,860
and when you actually hack the Juice

309
00:12:31,860 --> 00:12:33,000
Shop

310
00:12:33,000 --> 00:12:35,339
um the Jew shop will notice when you

311
00:12:35,339 --> 00:12:39,300
succeed in one of the 100 challenges and

312
00:12:39,300 --> 00:12:40,980
will tell you so and collect your

313
00:12:40,980 --> 00:12:44,459
progress or save your progress on our

314
00:12:44,459 --> 00:12:45,959
scoreboard

315
00:12:45,959 --> 00:12:49,079
and actually finding the scoreboard

316
00:12:49,079 --> 00:12:51,959
is usually the first challenge that

317
00:12:51,959 --> 00:12:53,459
people have to solve

318
00:12:53,459 --> 00:12:56,639
and uh you might have noticed I didn't

319
00:12:56,639 --> 00:12:58,560
close this

320
00:12:58,560 --> 00:13:01,800
um this welcome Banner let me go to the

321
00:13:01,800 --> 00:13:04,579
starting page here

322
00:13:04,680 --> 00:13:07,920
I didn't close this Banner because I

323
00:13:07,920 --> 00:13:09,420
actually wanted to click on this button

324
00:13:09,420 --> 00:13:11,639
right so I would like to get some help

325
00:13:11,639 --> 00:13:13,980
to actually get started with the real

326
00:13:13,980 --> 00:13:15,959
use case of Medusa

327
00:13:15,959 --> 00:13:19,440
when I do that I will now see this

328
00:13:19,440 --> 00:13:22,440
let's in a bit this friendly little bot

329
00:13:22,440 --> 00:13:24,779
here with the face mask for safety

330
00:13:24,779 --> 00:13:26,279
reasons

331
00:13:26,279 --> 00:13:28,560
um that will give me some advice what I

332
00:13:28,560 --> 00:13:31,620
actually need to do right and it tells

333
00:13:31,620 --> 00:13:33,180
me okay first thing I need to do is

334
00:13:33,180 --> 00:13:35,760
finding finding this robot

335
00:13:35,760 --> 00:13:38,160
okay so there are no links directly

336
00:13:38,160 --> 00:13:40,740
leading to the scoreboard unfortunately

337
00:13:40,740 --> 00:13:42,959
so okay so now it tells me I could

338
00:13:42,959 --> 00:13:45,480
either just try guessing the URL

339
00:13:45,480 --> 00:13:48,959
uh-huh or let's see

340
00:13:48,959 --> 00:13:51,240
double click to proceed or I could try

341
00:13:51,240 --> 00:13:54,060
to find out something more about

342
00:13:54,060 --> 00:13:55,019
um

343
00:13:55,019 --> 00:13:57,839
the available pages in The Drew shop in

344
00:13:57,839 --> 00:13:59,880
the development tools of my browser so

345
00:13:59,880 --> 00:14:02,820
that's a nice nice hint actually so

346
00:14:02,820 --> 00:14:04,980
let's see

347
00:14:04,980 --> 00:14:06,540
um and now it tells me okay please try

348
00:14:06,540 --> 00:14:09,180
it try that out so I would try to do it

349
00:14:09,180 --> 00:14:11,639
with the dev tools

350
00:14:11,639 --> 00:14:15,360
so let's see where do I find the source

351
00:14:15,360 --> 00:14:17,880
code of this application in my browser

352
00:14:17,880 --> 00:14:20,519
so it's probably here in the source tab

353
00:14:20,519 --> 00:14:23,579
and you can see this is actually the

354
00:14:23,579 --> 00:14:26,700
index HTML page and that only has like

355
00:14:26,700 --> 00:14:28,500
30 lines

356
00:14:28,500 --> 00:14:30,899
so this must be some really

357
00:14:30,899 --> 00:14:32,940
sophisticated application or there are

358
00:14:32,940 --> 00:14:35,519
some really long lines if that if this

359
00:14:35,519 --> 00:14:37,440
whole application functionality fits

360
00:14:37,440 --> 00:14:40,699
into this short index HTML well actually

361
00:14:40,699 --> 00:14:43,980
the the real source code of course lives

362
00:14:43,980 --> 00:14:46,800
in JavaScript files these here right so

363
00:14:46,800 --> 00:14:49,699
runtime pulley fields

364
00:14:49,699 --> 00:14:52,320
main.js so

365
00:14:52,320 --> 00:14:53,579
let's see

366
00:14:53,579 --> 00:14:56,820
so the main.js is actually the the real

367
00:14:56,820 --> 00:14:58,380
client-side code

368
00:14:58,380 --> 00:15:01,500
and it's all in a single line with

369
00:15:01,500 --> 00:15:05,220
almost 400 000 characters so this is not

370
00:15:05,220 --> 00:15:08,220
really easy to read but luckily

371
00:15:08,220 --> 00:15:09,959
Chrome comes with a pretty print

372
00:15:09,959 --> 00:15:11,579
function

373
00:15:11,579 --> 00:15:14,699
so now I'm actually having like 14 000

374
00:15:14,699 --> 00:15:15,720
something

375
00:15:15,720 --> 00:15:18,060
lines of JavaScript which I can go

376
00:15:18,060 --> 00:15:19,199
through

377
00:15:19,199 --> 00:15:22,380
so let's see I will

378
00:15:22,380 --> 00:15:26,100
just do this little trick here searching

379
00:15:26,100 --> 00:15:28,019
for score

380
00:15:28,019 --> 00:15:30,779
and it finds a few hits which don't

381
00:15:30,779 --> 00:15:33,800
really help me that much let's see

382
00:15:33,800 --> 00:15:36,360
scoreboard challenge

383
00:15:36,360 --> 00:15:39,120
app scoreboard title score

384
00:15:39,120 --> 00:15:41,519
ah this looks good

385
00:15:41,519 --> 00:15:44,220
paths right here's a list of paths the

386
00:15:44,220 --> 00:15:46,320
application knows and there's a path

387
00:15:46,320 --> 00:15:48,420
scoreboard being mentioned

388
00:15:48,420 --> 00:15:50,339
Okay so

389
00:15:50,339 --> 00:15:53,100
I'm happy to try that

390
00:15:53,100 --> 00:15:57,240
just go to scoreboard

391
00:15:58,680 --> 00:16:02,459
and yeah that did it right so now I

392
00:16:02,459 --> 00:16:04,139
actually found the scoreboard of the Jew

393
00:16:04,139 --> 00:16:05,339
shop

394
00:16:05,339 --> 00:16:08,639
uh juicy congratulates me

395
00:16:08,639 --> 00:16:11,040
you can close this now I get a

396
00:16:11,040 --> 00:16:13,199
notification here on the top

397
00:16:13,199 --> 00:16:15,480
that I actually solved the challenge and

398
00:16:15,480 --> 00:16:17,880
I already

399
00:16:17,880 --> 00:16:21,560
see here in

400
00:16:22,800 --> 00:16:25,139
that I actually solved this challenge

401
00:16:25,139 --> 00:16:27,300
successfully right and here you can now

402
00:16:27,300 --> 00:16:29,100
also see that there's lots of other

403
00:16:29,100 --> 00:16:30,779
challenges available

404
00:16:30,779 --> 00:16:33,300
in the application

405
00:16:33,300 --> 00:16:35,519
and you can filter in any way you like

406
00:16:35,519 --> 00:16:37,800
right so you can exclude solve

407
00:16:37,800 --> 00:16:39,360
challenges you can

408
00:16:39,360 --> 00:16:42,779
for example only show the easy ones or

409
00:16:42,779 --> 00:16:45,540
whatever or just maybe Focus only on

410
00:16:45,540 --> 00:16:47,160
process scripting so it's basically

411
00:16:47,160 --> 00:16:50,660
filterable in any way you like

412
00:16:51,300 --> 00:16:53,040
so that's

413
00:16:53,040 --> 00:16:56,940
the basic functionality

414
00:16:56,940 --> 00:16:57,839
um

415
00:16:57,839 --> 00:17:00,480
maybe just for fun maybe we can do one

416
00:17:00,480 --> 00:17:02,820
more actual hacking challenge so let's

417
00:17:02,820 --> 00:17:05,819
see let's pick something that is it

418
00:17:05,819 --> 00:17:07,679
shouldn't be too hard like let's take a

419
00:17:07,679 --> 00:17:09,000
look at the available cross-eyed

420
00:17:09,000 --> 00:17:10,919
scripting challenges here

421
00:17:10,919 --> 00:17:13,199
you can see there's quite a lot easier

422
00:17:13,199 --> 00:17:15,299
ones and harder ones let's see I think

423
00:17:15,299 --> 00:17:16,919
there's even a six star Crosshair

424
00:17:16,919 --> 00:17:18,480
scripting challenge we will not try that

425
00:17:18,480 --> 00:17:20,880
one because that would take longer than

426
00:17:20,880 --> 00:17:22,740
an hour

427
00:17:22,740 --> 00:17:25,260
but let's go with one of the one Stars

428
00:17:25,260 --> 00:17:27,660
here for example Dom xss

429
00:17:27,660 --> 00:17:30,720
perform a domics as a tech with

430
00:17:30,720 --> 00:17:32,760
this payload okay I will copy this

431
00:17:32,760 --> 00:17:34,260
payload already

432
00:17:34,260 --> 00:17:38,160
and now in the I basically have two

433
00:17:38,160 --> 00:17:40,500
um options right so I can just try it on

434
00:17:40,500 --> 00:17:43,440
my own or I could again

435
00:17:43,440 --> 00:17:45,600
launch one of these tutorial scripts and

436
00:17:45,600 --> 00:17:49,020
then the little bot would again help me

437
00:17:49,020 --> 00:17:51,299
um to actually solve this right but in

438
00:17:51,299 --> 00:17:52,440
this case

439
00:17:52,440 --> 00:17:54,480
I think we don't need that because one

440
00:17:54,480 --> 00:17:56,700
of the most classic places for

441
00:17:56,700 --> 00:17:59,100
cross-site scripting issues is search

442
00:17:59,100 --> 00:18:02,039
functionality right so

443
00:18:02,039 --> 00:18:04,799
when I'm searching for orange

444
00:18:04,799 --> 00:18:06,480
I find everything that's related to

445
00:18:06,480 --> 00:18:09,120
oranges okay that's good but I also get

446
00:18:09,120 --> 00:18:10,559
this

447
00:18:10,559 --> 00:18:11,340
um

448
00:18:11,340 --> 00:18:13,679
the search string on the top here right

449
00:18:13,679 --> 00:18:16,620
so and I could not see what happens if I

450
00:18:16,620 --> 00:18:18,299
play around with the search string a

451
00:18:18,299 --> 00:18:20,760
little bit like for example

452
00:18:20,760 --> 00:18:24,120
doing something crazy like adding some

453
00:18:24,120 --> 00:18:26,280
HTML around it and you can see this

454
00:18:26,280 --> 00:18:28,080
already had some had some influence

455
00:18:28,080 --> 00:18:31,440
right so let's see what happens if I add

456
00:18:31,440 --> 00:18:33,840
a horizontal line I actually see the

457
00:18:33,840 --> 00:18:36,179
horizontal line right so it seems that

458
00:18:36,179 --> 00:18:38,160
the input here on the top is not

459
00:18:38,160 --> 00:18:40,320
properly encoded when it's being put

460
00:18:40,320 --> 00:18:43,799
into the HTML so it actually just does

461
00:18:43,799 --> 00:18:46,919
what I tell it to do and that might also

462
00:18:46,919 --> 00:18:48,179
include

463
00:18:48,179 --> 00:18:50,820
JavaScript so I will use the payload

464
00:18:50,820 --> 00:18:52,260
from that I copied from the scoreboard

465
00:18:52,260 --> 00:18:54,600
in this case which should now give us a

466
00:18:54,600 --> 00:18:57,120
little alert box alert box

467
00:18:57,120 --> 00:18:59,220
and when I submit this you can see

468
00:18:59,220 --> 00:19:00,840
here's the alert

469
00:19:00,840 --> 00:19:03,500
I can close this now and I will get

470
00:19:03,500 --> 00:19:06,360
confetti again and this notification

471
00:19:06,360 --> 00:19:08,520
here on the top right and if I now go

472
00:19:08,520 --> 00:19:10,559
back to the scoreboard

473
00:19:10,559 --> 00:19:12,720
you will see

474
00:19:12,720 --> 00:19:15,120
that I actually solved this challenge

475
00:19:15,120 --> 00:19:17,940
right so that's that's basically it so

476
00:19:17,940 --> 00:19:21,240
and you can do that for the remaining uh

477
00:19:21,240 --> 00:19:25,140
18 uh 98

478
00:19:25,200 --> 00:19:27,480
um hacking challenges on your own now if

479
00:19:27,480 --> 00:19:28,919
you if you want

480
00:19:28,919 --> 00:19:31,140
but there's of course more to be found

481
00:19:31,140 --> 00:19:32,640
in the two shots more things you can do

482
00:19:32,640 --> 00:19:35,400
with it you could start the Drew shop in

483
00:19:35,400 --> 00:19:38,100
our so-called tutorial mode

484
00:19:38,100 --> 00:19:39,960
so here it will

485
00:19:39,960 --> 00:19:44,580
only show you the challenges which are

486
00:19:44,580 --> 00:19:47,820
which have this kind of uh helper bot

487
00:19:47,820 --> 00:19:51,000
tutorial right where this little little

488
00:19:51,000 --> 00:19:53,100
um or a little juicy bot actually tells

489
00:19:53,100 --> 00:19:54,360
you what to do

490
00:19:54,360 --> 00:19:57,419
it gives you some hints it will first

491
00:19:57,419 --> 00:19:59,580
only give you the one star challenges so

492
00:19:59,580 --> 00:20:01,320
you basically have four tasks you can

493
00:20:01,320 --> 00:20:03,120
you can complete and once you completed

494
00:20:03,120 --> 00:20:05,400
these four it will basically unlock the

495
00:20:05,400 --> 00:20:07,860
two star challenges with tutorials and

496
00:20:07,860 --> 00:20:10,679
so on up to the three star ones

497
00:20:10,679 --> 00:20:12,960
and so and only when you have solved all

498
00:20:12,960 --> 00:20:14,580
the tutorial challenges it will then

499
00:20:14,580 --> 00:20:16,620
unlock the entire scoreboard right and

500
00:20:16,620 --> 00:20:19,980
you can basically continue in in open

501
00:20:19,980 --> 00:20:21,960
world mode so to say and just do

502
00:20:21,960 --> 00:20:24,000
whatever you like this can be quite

503
00:20:24,000 --> 00:20:26,460
useful when you know that you have a

504
00:20:26,460 --> 00:20:29,039
a group of students for example and they

505
00:20:29,039 --> 00:20:31,080
have no previous experience with this

506
00:20:31,080 --> 00:20:33,840
and you'd want to prevent that they just

507
00:20:33,840 --> 00:20:36,539
start doing something crazy with

508
00:20:36,539 --> 00:20:38,640
challenges you they might not be

509
00:20:38,640 --> 00:20:41,160
prepared for yet right so this is a very

510
00:20:41,160 --> 00:20:44,340
nice beginner friendly feature

511
00:20:44,340 --> 00:20:48,600
we also have something to help you as a

512
00:20:48,600 --> 00:20:50,160
trainer for example or especially as a

513
00:20:50,160 --> 00:20:53,820
trainer or teacher to find out if your

514
00:20:53,820 --> 00:20:56,760
your the users are actually seriously

515
00:20:56,760 --> 00:20:58,260
trying or if they are just copying

516
00:20:58,260 --> 00:21:00,179
solutions from the Internet or just

517
00:21:00,179 --> 00:21:02,820
cheating with some tools and scripting

518
00:21:02,820 --> 00:21:04,620
things

519
00:21:04,620 --> 00:21:07,080
so behind the scenes the scoreboard is

520
00:21:07,080 --> 00:21:09,120
measuring how long it takes

521
00:21:09,120 --> 00:21:12,120
a user to actually solve a challenge so

522
00:21:12,120 --> 00:21:15,960
we have some estimated real minimum time

523
00:21:15,960 --> 00:21:18,840
that we expect a challenge to uh to be

524
00:21:18,840 --> 00:21:20,820
solved in and if you are under that time

525
00:21:20,820 --> 00:21:24,000
then you get a cheat score assigned

526
00:21:24,000 --> 00:21:26,700
right and then it will basically

527
00:21:26,700 --> 00:21:27,900
calculate

528
00:21:27,900 --> 00:21:30,600
overall challenges How likely it is that

529
00:21:30,600 --> 00:21:32,700
the user actually treated

530
00:21:32,700 --> 00:21:35,159
that is quite nice this is absolutely

531
00:21:35,159 --> 00:21:38,480
invisible to the to the actual user so

532
00:21:38,480 --> 00:21:41,039
unless you look at the you look at the

533
00:21:41,039 --> 00:21:43,740
console so here in in this case on my

534
00:21:43,740 --> 00:21:47,280
local computer here right so for the for

535
00:21:47,280 --> 00:21:50,280
the first scoreboard challenge it

536
00:21:50,280 --> 00:21:53,460
actually tells me it took 53 minutes

537
00:21:53,460 --> 00:21:56,039
since I started the server

538
00:21:56,039 --> 00:21:59,520
okay so zero Squad zero cheating points

539
00:21:59,520 --> 00:22:01,380
for this cross-site scripting challenge

540
00:22:01,380 --> 00:22:03,419
that I did afterwards the time

541
00:22:03,419 --> 00:22:05,100
difference was three minutes between

542
00:22:05,100 --> 00:22:06,780
finding the scoreboard and actually

543
00:22:06,780 --> 00:22:08,720
successfully exploiting the xss

544
00:22:08,720 --> 00:22:11,039
expectation is it takes at least one

545
00:22:11,039 --> 00:22:14,100
minute so if I would have done this in

546
00:22:14,100 --> 00:22:16,320
like five seconds I would now get a

547
00:22:16,320 --> 00:22:18,659
certain score for cheating aside right

548
00:22:18,659 --> 00:22:20,700
and this is actually how it's how it's

549
00:22:20,700 --> 00:22:23,340
how it's done and these um this

550
00:22:23,340 --> 00:22:25,740
information is also available

551
00:22:25,740 --> 00:22:28,440
um to to other systems via some web hook

552
00:22:28,440 --> 00:22:32,419
that I will I will explain later foreign

553
00:22:33,679 --> 00:22:36,419
so we also have one feature that is

554
00:22:36,419 --> 00:22:39,419
still quite new which is called coding

555
00:22:39,419 --> 00:22:41,520
challenges so whenever you solved a

556
00:22:41,520 --> 00:22:43,380
hacking challenge like we just did with

557
00:22:43,380 --> 00:22:45,720
the cross-eyed scripting for example you

558
00:22:45,720 --> 00:22:48,000
can try to for some of the challenges

559
00:22:48,000 --> 00:22:50,159
there's a subsequent coding challenge

560
00:22:50,159 --> 00:22:52,740
available where you can't where you

561
00:22:52,740 --> 00:22:54,659
should try to find out why this problem

562
00:22:54,659 --> 00:22:56,580
actually exists

563
00:22:56,580 --> 00:22:58,740
and this is something which I would also

564
00:22:58,740 --> 00:23:01,080
like to show you and let's

565
00:23:01,080 --> 00:23:05,400
pick as the example our just solved

566
00:23:05,400 --> 00:23:07,860
domics as a tag right on the search

567
00:23:07,860 --> 00:23:09,240
field

568
00:23:09,240 --> 00:23:12,780
so if you click this button here

569
00:23:12,780 --> 00:23:17,400
it will open up the the coding challenge

570
00:23:17,400 --> 00:23:18,960
um screen

571
00:23:18,960 --> 00:23:21,299
and the first thing you have to do is

572
00:23:21,299 --> 00:23:24,840
actually find the line or multiple lines

573
00:23:24,840 --> 00:23:26,780
which are responsible

574
00:23:26,780 --> 00:23:31,340
for this for this vulnerability

575
00:23:32,400 --> 00:23:35,220
so let's go through this so there's some

576
00:23:35,220 --> 00:23:37,919
filter table functionality here that

577
00:23:37,919 --> 00:23:41,159
takes some parameter from the query

578
00:23:41,159 --> 00:23:44,039
and if that query parameter exists it

579
00:23:44,039 --> 00:23:46,440
will trim it okay it will put it to

580
00:23:46,440 --> 00:23:50,520
lower case it will save it in a in a

581
00:23:50,520 --> 00:23:52,980
field called search value

582
00:23:52,980 --> 00:23:56,460
and it will then do some stuff with it

583
00:23:56,460 --> 00:23:59,580
and that's almost it right so this seems

584
00:23:59,580 --> 00:24:02,400
to be what happens on the client side to

585
00:24:02,400 --> 00:24:04,140
actually filter the search result so

586
00:24:04,140 --> 00:24:05,520
this is not nothing happening on the

587
00:24:05,520 --> 00:24:07,320
server but on the client

588
00:24:07,320 --> 00:24:11,460
so my guess is that this line looks a

589
00:24:11,460 --> 00:24:14,960
little bit wrong right so bypassing

590
00:24:14,960 --> 00:24:18,900
security and trusting HTML sounds

591
00:24:18,900 --> 00:24:21,419
exactly like like the thing that causes

592
00:24:21,419 --> 00:24:22,679
this problem

593
00:24:22,679 --> 00:24:25,980
but just for fun let's pretend I have no

594
00:24:25,980 --> 00:24:28,380
idea and I really think that trimming

595
00:24:28,380 --> 00:24:30,000
might actually be the worst thing you

596
00:24:30,000 --> 00:24:32,039
could actually do here so let's select

597
00:24:32,039 --> 00:24:34,500
line four and submit this

598
00:24:34,500 --> 00:24:36,480
and it will now tell me that this was

599
00:24:36,480 --> 00:24:37,860
wrong

600
00:24:37,860 --> 00:24:40,020
okay so maybe it's not trimming maybe

601
00:24:40,020 --> 00:24:41,700
it's uh

602
00:24:41,700 --> 00:24:43,740
actually getting this parameter in the

603
00:24:43,740 --> 00:24:46,260
first place so let's select this one and

604
00:24:46,260 --> 00:24:48,900
I submit this again and now because I

605
00:24:48,900 --> 00:24:51,539
submitted two wrong answers in a row I

606
00:24:51,539 --> 00:24:55,320
get a little hint telling me okay maybe

607
00:24:55,320 --> 00:24:58,860
maybe you should look into uh into this

608
00:24:58,860 --> 00:25:01,260
okay yeah but I'm sure I mean it really

609
00:25:01,260 --> 00:25:03,659
must be this maybe it's maybe it's these

610
00:25:03,659 --> 00:25:06,059
three lines in total let's submit this

611
00:25:06,059 --> 00:25:08,520
again right and now I get another hint

612
00:25:08,520 --> 00:25:11,280
and typically we have like up to three

613
00:25:11,280 --> 00:25:13,620
hints and if you still don't have it

614
00:25:13,620 --> 00:25:15,900
right then you will just get uh being

615
00:25:15,900 --> 00:25:18,720
you will just be told what line exactly

616
00:25:18,720 --> 00:25:20,520
it is so you that you'll never really

617
00:25:20,520 --> 00:25:22,919
get completely stuck

618
00:25:22,919 --> 00:25:24,960
um but of course I know that this line 6

619
00:25:24,960 --> 00:25:27,140
is the problem here so let's select it

620
00:25:27,140 --> 00:25:29,220
submit it

621
00:25:29,220 --> 00:25:31,679
I get confetti again and I'm now in the

622
00:25:31,679 --> 00:25:33,480
second stage of the coding challenge

623
00:25:33,480 --> 00:25:36,360
which is actually finding a proper fix

624
00:25:36,360 --> 00:25:38,400
for the problem

625
00:25:38,400 --> 00:25:41,580
so here the application is offering me

626
00:25:41,580 --> 00:25:43,620
four possible fixes

627
00:25:43,620 --> 00:25:45,539
and it will give me this

628
00:25:45,539 --> 00:25:48,539
nice diff overview here of the code

629
00:25:48,539 --> 00:25:50,400
difference right so here the

630
00:25:50,400 --> 00:25:53,100
recommendation is in the first fix okay

631
00:25:53,100 --> 00:25:55,679
remove this line and instead use

632
00:25:55,679 --> 00:26:00,000
security trust resource instead of HTML

633
00:26:00,000 --> 00:26:03,840
okay so let's check line two

634
00:26:03,840 --> 00:26:07,919
here it says just use the value as it is

635
00:26:07,919 --> 00:26:10,440
okay that looks boring but now let's

636
00:26:10,440 --> 00:26:12,600
check the other options

637
00:26:12,600 --> 00:26:15,020
trusting scripts instead

638
00:26:15,020 --> 00:26:17,600
and number four

639
00:26:17,600 --> 00:26:21,120
trusting Styles instead okay trusting

640
00:26:21,120 --> 00:26:23,700
style that doesn't seem to make sense

641
00:26:23,700 --> 00:26:26,820
maybe trusting scripts that that looks

642
00:26:26,820 --> 00:26:29,820
reasonable if I want I could also just

643
00:26:29,820 --> 00:26:32,520
remove the noise of the original code

644
00:26:32,520 --> 00:26:34,440
around this right by just showing the

645
00:26:34,440 --> 00:26:37,260
change lines or I could use this side by

646
00:26:37,260 --> 00:26:39,659
side comparison right it's a matter of

647
00:26:39,659 --> 00:26:40,559
taste

648
00:26:40,559 --> 00:26:43,919
so let's pick this solution knowing that

649
00:26:43,919 --> 00:26:46,260
it's of course this is wrong and

650
00:26:46,260 --> 00:26:47,940
submitting it

651
00:26:47,940 --> 00:26:50,460
and Jew shop will now explain to me why

652
00:26:50,460 --> 00:26:52,860
this is of course not a fix for that

653
00:26:52,860 --> 00:26:56,820
actual problem right so it has really no

654
00:26:56,820 --> 00:26:58,919
benefit

655
00:26:58,919 --> 00:27:01,740
um to actually do this so

656
00:27:01,740 --> 00:27:04,559
um maybe this would actually fix the

657
00:27:04,559 --> 00:27:05,880
problem

658
00:27:05,880 --> 00:27:09,059
or some problems with uh but only by

659
00:27:09,059 --> 00:27:12,600
coincidence this is not really a fix

660
00:27:12,600 --> 00:27:15,240
the obvious real fix was of course

661
00:27:15,240 --> 00:27:17,940
number two which just removes this crazy

662
00:27:17,940 --> 00:27:21,179
bypass of security right so you just use

663
00:27:21,179 --> 00:27:24,720
the parameter as is because in the case

664
00:27:24,720 --> 00:27:26,340
of this application

665
00:27:26,340 --> 00:27:28,740
the framework being used which is

666
00:27:28,740 --> 00:27:31,980
angular will do encoding

667
00:27:31,980 --> 00:27:33,419
by default

668
00:27:33,419 --> 00:27:35,940
so here you basically have to what what

669
00:27:35,940 --> 00:27:37,799
we are doing here is we are turning off

670
00:27:37,799 --> 00:27:41,820
the encoding on purpose right and of

671
00:27:41,820 --> 00:27:43,620
course then the recommendation is

672
00:27:43,620 --> 00:27:45,779
guys don't do that

673
00:27:45,779 --> 00:27:47,700
for other Frameworks that might be

674
00:27:47,700 --> 00:27:49,020
different right so they might might not

675
00:27:49,020 --> 00:27:51,299
encode by default and you would instead

676
00:27:51,299 --> 00:27:54,360
have to do a manual encoding yourself

677
00:27:54,360 --> 00:27:55,860
but luckily angular is quite

678
00:27:55,860 --> 00:27:58,500
sophisticated and is giving you proper

679
00:27:58,500 --> 00:28:00,360
secure defaults for this

680
00:28:00,360 --> 00:28:02,520
so let's submit this

681
00:28:02,520 --> 00:28:05,100
I get confetti again and I also get a

682
00:28:05,100 --> 00:28:07,440
little explanation why this was the

683
00:28:07,440 --> 00:28:10,080
right answer right and that's basically

684
00:28:10,080 --> 00:28:12,059
the coding challenge part

685
00:28:12,059 --> 00:28:13,980
for both the coding and the hacking

686
00:28:13,980 --> 00:28:15,720
challenges I can provide feedback with

687
00:28:15,720 --> 00:28:19,980
these uh thumbs up thumbs down buttons

688
00:28:19,980 --> 00:28:21,840
um which basically will send you to a

689
00:28:21,840 --> 00:28:24,240
Google form and you can basically just

690
00:28:24,240 --> 00:28:27,299
leave a comment if you if you want what

691
00:28:27,299 --> 00:28:30,500
you liked or what you didn't like

692
00:28:30,840 --> 00:28:32,640
so that's

693
00:28:32,640 --> 00:28:35,580
the coding challenges

694
00:28:35,580 --> 00:28:37,860
um Jew shop can do even more than than

695
00:28:37,860 --> 00:28:40,620
all that you can also use two shop in

696
00:28:40,620 --> 00:28:42,720
capture the flag events of course you

697
00:28:42,720 --> 00:28:45,779
could just use it as it is but we

698
00:28:45,779 --> 00:28:48,740
actually have a quite nice

699
00:28:48,840 --> 00:28:50,760
um configuration change that you can

700
00:28:50,760 --> 00:28:54,059
make that will make Juice Shop emit flag

701
00:28:54,059 --> 00:28:56,940
codes whenever you saw the challenge

702
00:28:56,940 --> 00:28:59,279
and you can then copy that and could

703
00:28:59,279 --> 00:29:01,380
paste that into a central

704
00:29:01,380 --> 00:29:04,140
um scoring server now the question is

705
00:29:04,140 --> 00:29:06,539
okay how how do I get these flag codes

706
00:29:06,539 --> 00:29:08,580
into my scoring server do I have to

707
00:29:08,580 --> 00:29:12,059
manually set up everything in my um in

708
00:29:12,059 --> 00:29:13,799
my score server system

709
00:29:13,799 --> 00:29:16,380
luckily you don't

710
00:29:16,380 --> 00:29:19,500
because we support

711
00:29:19,500 --> 00:29:20,940
um

712
00:29:20,940 --> 00:29:23,159
three different score servers more or

713
00:29:23,159 --> 00:29:24,840
less out of the box

714
00:29:24,840 --> 00:29:28,679
and you can quite easily set them up

715
00:29:28,679 --> 00:29:30,539
so

716
00:29:30,539 --> 00:29:32,340
I will show that in a minute how that

717
00:29:32,340 --> 00:29:33,480
actually works

718
00:29:33,480 --> 00:29:35,820
another nice thing is you can of course

719
00:29:35,820 --> 00:29:39,179
host an entire CTF event centrally but

720
00:29:39,179 --> 00:29:41,580
if you're doing just some just for fun

721
00:29:41,580 --> 00:29:42,720
event

722
00:29:42,720 --> 00:29:44,940
people could even use dualshop locally

723
00:29:44,940 --> 00:29:48,059
on their computer and participate in a

724
00:29:48,059 --> 00:29:50,940
in an online hosted CTF as long as they

725
00:29:50,940 --> 00:29:53,940
use the correct key on the score so that

726
00:29:53,940 --> 00:29:56,039
is used by the score server to to

727
00:29:56,039 --> 00:29:58,799
generate these flag codes

728
00:29:58,799 --> 00:30:00,659
so then you can basically even have

729
00:30:00,659 --> 00:30:02,940
decentralized ctfs of course you should

730
00:30:02,940 --> 00:30:04,740
never do that for prize money or

731
00:30:04,740 --> 00:30:06,240
anything right because then people can

732
00:30:06,240 --> 00:30:08,279
just cheat of course

733
00:30:08,279 --> 00:30:09,860
foreign

734
00:30:09,860 --> 00:30:13,080
to actually set up a CTF you can use our

735
00:30:13,080 --> 00:30:17,460
CDF extension which supports ctfd the by

736
00:30:17,460 --> 00:30:20,039
now I would say uh really out of date

737
00:30:20,039 --> 00:30:22,620
Facebook CTF server it's I think it's

738
00:30:22,620 --> 00:30:24,899
archived even already on on GitHub but

739
00:30:24,899 --> 00:30:26,220
it still works

740
00:30:26,220 --> 00:30:29,700
and also root the Box

741
00:30:29,700 --> 00:30:32,659
so basically you just install a little

742
00:30:32,659 --> 00:30:35,760
npm module on your on your computer or

743
00:30:35,760 --> 00:30:38,640
you use the corresponding Docker image

744
00:30:38,640 --> 00:30:41,100
and when you run this you basically get

745
00:30:41,100 --> 00:30:43,200
a little command line tool where you

746
00:30:43,200 --> 00:30:44,480
have to answer a couple of questions

747
00:30:44,480 --> 00:30:47,520
what framework do you want to use where

748
00:30:47,520 --> 00:30:49,860
is the application hosted where we can

749
00:30:49,860 --> 00:30:52,200
find actually the challenges what key to

750
00:30:52,200 --> 00:30:53,460
use Etc

751
00:30:53,460 --> 00:30:55,380
you can also choose if you want people

752
00:30:55,380 --> 00:30:57,840
to pay for hints on the score server or

753
00:30:57,840 --> 00:30:59,520
not or if they should get no hints at

754
00:30:59,520 --> 00:31:02,700
all or hints for free

755
00:31:02,700 --> 00:31:07,200
and then you will get a kind of a data

756
00:31:07,200 --> 00:31:10,140
dump being generated by this tool that

757
00:31:10,140 --> 00:31:12,179
you can then just import into the

758
00:31:12,179 --> 00:31:13,980
corresponding score server so our

759
00:31:13,980 --> 00:31:17,220
recommendation is ctfd version I think

760
00:31:17,220 --> 00:31:18,779
three or four at the moment so version

761
00:31:18,779 --> 00:31:20,940
two the screenshot here is a little bit

762
00:31:20,940 --> 00:31:23,820
older Android box right so you just

763
00:31:23,820 --> 00:31:25,380
import it and

764
00:31:25,380 --> 00:31:28,380
then you basically get get a working CTF

765
00:31:28,380 --> 00:31:31,860
setup you can also run this tool in a

766
00:31:31,860 --> 00:31:34,320
headless mode if you were

767
00:31:34,320 --> 00:31:36,899
and in the end what you get

768
00:31:36,899 --> 00:31:39,419
is a completely populated CTF

769
00:31:39,419 --> 00:31:42,720
environment with all the 100 challenges

770
00:31:42,720 --> 00:31:45,659
with proper scores being assigned so the

771
00:31:45,659 --> 00:31:47,159
one star challenges bring you less

772
00:31:47,159 --> 00:31:49,080
points than the five or six star

773
00:31:49,080 --> 00:31:50,460
challenges right

774
00:31:50,460 --> 00:31:52,740
um hints also cost more for the more

775
00:31:52,740 --> 00:31:54,840
difficult ones so if you read our

776
00:31:54,840 --> 00:31:58,020
documentation for this CTF setup

777
00:31:58,020 --> 00:31:59,700
um

778
00:31:59,700 --> 00:32:02,039
um this is really in the the actual time

779
00:32:02,039 --> 00:32:03,779
for for setting this up is really just

780
00:32:03,779 --> 00:32:06,240
installing the server running this tool

781
00:32:06,240 --> 00:32:08,100
and then it's like five minutes for

782
00:32:08,100 --> 00:32:10,140
importing and setting the

783
00:32:10,140 --> 00:32:12,299
uh doing some

784
00:32:12,299 --> 00:32:14,340
clicking through the user interface of

785
00:32:14,340 --> 00:32:16,260
the um of the score server and that's it

786
00:32:16,260 --> 00:32:17,700
right and then you have a completely

787
00:32:17,700 --> 00:32:21,080
working CDF setup

788
00:32:22,500 --> 00:32:25,500
some other support that we have for

789
00:32:25,500 --> 00:32:27,899
especially for trainings but it can also

790
00:32:27,899 --> 00:32:30,299
be nicely used for ctfs of course

791
00:32:30,299 --> 00:32:32,940
is the multi-duzer platform which is a

792
00:32:32,940 --> 00:32:34,760
third-party project

793
00:32:34,760 --> 00:32:39,360
and this allows you to host to spawn and

794
00:32:39,360 --> 00:32:40,200
host

795
00:32:40,200 --> 00:32:44,700
um lots of lots of Juice Shop instances

796
00:32:44,700 --> 00:32:48,299
on a kubernetes cluster

797
00:32:48,299 --> 00:32:50,520
so basically

798
00:32:50,520 --> 00:32:52,500
the setup looks like this

799
00:32:52,500 --> 00:32:55,380
so you have this kubernetes cluster here

800
00:32:55,380 --> 00:32:58,620
and when a person comes to the

801
00:32:58,620 --> 00:33:02,279
to the entry point which is a

802
00:33:02,279 --> 00:33:04,679
basically the UI on top of a custom

803
00:33:04,679 --> 00:33:07,679
built load balancer

804
00:33:07,679 --> 00:33:10,200
you will you have the chance to to

805
00:33:10,200 --> 00:33:12,659
choose a team name and when you do then

806
00:33:12,659 --> 00:33:15,419
you will get your own instance and the

807
00:33:15,419 --> 00:33:16,860
juice balancer will always when you

808
00:33:16,860 --> 00:33:18,899
revisit and send you back to your own

809
00:33:18,899 --> 00:33:20,220
instance

810
00:33:20,220 --> 00:33:22,679
you also get a code to actually

811
00:33:22,679 --> 00:33:25,320
um have a second person sign up for the

812
00:33:25,320 --> 00:33:28,940
same team right and you can have yeah

813
00:33:28,940 --> 00:33:31,799
almost any number of Jew shop instances

814
00:33:31,799 --> 00:33:33,480
as much as your kubernetes cluster

815
00:33:33,480 --> 00:33:35,820
basically can manage right

816
00:33:35,820 --> 00:33:38,039
so I'm doing for example

817
00:33:38,039 --> 00:33:41,519
next week a full week online training

818
00:33:41,519 --> 00:33:46,080
for um for like 50 something people in

819
00:33:46,080 --> 00:33:48,299
in my company and then we basically use

820
00:33:48,299 --> 00:33:50,340
multi-tools so far to actually give

821
00:33:50,340 --> 00:33:53,340
everyone a Jew shop instance

822
00:33:53,340 --> 00:33:56,340
that's very convenient and yeah very

823
00:33:56,340 --> 00:33:58,919
very nice way to just quickly set up a

824
00:33:58,919 --> 00:34:00,419
complete training environment for

825
00:34:00,419 --> 00:34:02,960
multiple people

826
00:34:03,559 --> 00:34:06,480
some other features

827
00:34:06,480 --> 00:34:08,820
um you can if you want completely

828
00:34:08,820 --> 00:34:10,918
Rebrand the do shop

829
00:34:10,918 --> 00:34:14,040
so you can make it look like it would

830
00:34:14,040 --> 00:34:17,339
belong to your own company for example

831
00:34:17,339 --> 00:34:18,899
so let me quickly show you how that

832
00:34:18,899 --> 00:34:20,099
looks like

833
00:34:20,099 --> 00:34:22,320
so if you'll let's go to the starting

834
00:34:22,320 --> 00:34:25,320
page here so now we are on the default

835
00:34:25,320 --> 00:34:28,379
to shop theme right keep that in mind

836
00:34:28,379 --> 00:34:31,020
while I

837
00:34:31,020 --> 00:34:35,040
kill the server and

838
00:34:35,040 --> 00:34:37,980
start it again with a

839
00:34:37,980 --> 00:34:39,859
custom

840
00:34:39,859 --> 00:34:42,300
custom t

841
00:34:42,300 --> 00:34:45,540
from Mozilla in this case

842
00:34:45,540 --> 00:34:49,219
so now the two shop will start

843
00:34:51,540 --> 00:34:53,639
and what it does behind the scenes

844
00:34:53,639 --> 00:34:55,500
always also in the default configuration

845
00:34:55,500 --> 00:34:57,599
it will check if your configuration is

846
00:34:57,599 --> 00:34:58,920
correct if you're running it on the

847
00:34:58,920 --> 00:35:00,240
right um

848
00:35:00,240 --> 00:35:03,599
uh JavaScript node.js versions if your

849
00:35:03,599 --> 00:35:06,180
configuration is is fine if all the

850
00:35:06,180 --> 00:35:08,220
expected files are there and then all

851
00:35:08,220 --> 00:35:11,220
that if the port is free Etc

852
00:35:11,220 --> 00:35:16,079
so now I have on my localhost port 3000

853
00:35:16,079 --> 00:35:19,440
The Juice Shop just restarted

854
00:35:19,440 --> 00:35:21,300
and because I didn't refresh my window

855
00:35:21,300 --> 00:35:22,500
yet here

856
00:35:22,500 --> 00:35:24,720
um it still looks like the default theme

857
00:35:24,720 --> 00:35:26,339
right but one other thing you just

858
00:35:26,339 --> 00:35:27,960
noticed

859
00:35:27,960 --> 00:35:30,240
um during the restart the Juice Shop has

860
00:35:30,240 --> 00:35:32,460
restored all my hacking progress from

861
00:35:32,460 --> 00:35:34,560
some cookies

862
00:35:34,560 --> 00:35:36,359
um that's why you actually see these two

863
00:35:36,359 --> 00:35:39,119
green pop-ups again right this is also

864
00:35:39,119 --> 00:35:40,800
very convenient if you do shop crashes

865
00:35:40,800 --> 00:35:42,900
you just restart it and then everything

866
00:35:42,900 --> 00:35:45,420
will be back right as long as you save

867
00:35:45,420 --> 00:35:46,560
cookies

868
00:35:46,560 --> 00:35:49,079
so let's close these and now I just

869
00:35:49,079 --> 00:35:50,940
refresh

870
00:35:50,940 --> 00:35:54,420
and you will see a lot of things

871
00:35:54,420 --> 00:35:56,040
actually changed

872
00:35:56,040 --> 00:35:58,980
the colors changed the products changed

873
00:35:58,980 --> 00:36:01,200
even the cooking banner down here

874
00:36:01,200 --> 00:36:02,760
changed right

875
00:36:02,760 --> 00:36:04,460
and

876
00:36:04,460 --> 00:36:07,560
also for example I think here in the

877
00:36:07,560 --> 00:36:10,320
support chat I think also the image here

878
00:36:10,320 --> 00:36:11,820
for the

879
00:36:11,820 --> 00:36:13,800
for the chatbot changed

880
00:36:13,800 --> 00:36:18,480
if I go to the about us page for example

881
00:36:18,480 --> 00:36:21,060
it now only has the Mozilla Twitter

882
00:36:21,060 --> 00:36:23,280
account there's no more Facebook Reddit

883
00:36:23,280 --> 00:36:25,560
Etc right so

884
00:36:25,560 --> 00:36:28,079
um so basically you can completely

885
00:36:28,079 --> 00:36:29,520
customize the Drew shop and the most

886
00:36:29,520 --> 00:36:31,380
impressive thing I think is that you can

887
00:36:31,380 --> 00:36:33,660
completely change the inventory right so

888
00:36:33,660 --> 00:36:38,040
there's uh now except for this one

889
00:36:38,040 --> 00:36:40,320
um that you might remember right this 3D

890
00:36:40,320 --> 00:36:41,880
printing of the Jew shop logo everything

891
00:36:41,880 --> 00:36:45,180
is now Mozilla themed

892
00:36:45,180 --> 00:36:46,560
and

893
00:36:46,560 --> 00:36:48,540
this is actually quite nice and you can

894
00:36:48,540 --> 00:36:51,180
do that for uh for your own company if

895
00:36:51,180 --> 00:36:53,339
you like or for your University or

896
00:36:53,339 --> 00:36:56,099
whatever some organization and it's

897
00:36:56,099 --> 00:36:57,599
quite well documented how it should

898
00:36:57,599 --> 00:37:00,359
actually do this just to show you

899
00:37:00,359 --> 00:37:01,980
um

900
00:37:01,980 --> 00:37:04,920
how sophisticated the customization

901
00:37:04,920 --> 00:37:07,079
actually works I actually created a

902
00:37:07,079 --> 00:37:09,480
different configuration for my for my

903
00:37:09,480 --> 00:37:10,980
company

904
00:37:10,980 --> 00:37:13,020
the company I work for but I didn't

905
00:37:13,020 --> 00:37:15,060
update that for quite a while

906
00:37:15,060 --> 00:37:18,180
so if I use that the Jew shop will not

907
00:37:18,180 --> 00:37:20,940
start it will instead emit some warnings

908
00:37:20,940 --> 00:37:23,640
about errors in the configuration right

909
00:37:23,640 --> 00:37:26,280
and it will also tell me where I find

910
00:37:26,280 --> 00:37:29,160
information how to actually fix this

911
00:37:29,160 --> 00:37:31,380
so it's actually quite

912
00:37:31,380 --> 00:37:33,660
quite user friendly I would say so let's

913
00:37:33,660 --> 00:37:36,180
start it again in the default setup

914
00:37:36,180 --> 00:37:39,420
and go back to the slides

915
00:37:39,420 --> 00:37:40,800
so this is actually how the

916
00:37:40,800 --> 00:37:42,240
configuration looks like behind the

917
00:37:42,240 --> 00:37:44,520
scenes so everything is part of one big

918
00:37:44,520 --> 00:37:47,220
yaml file where you where we have the

919
00:37:47,220 --> 00:37:49,320
the name of the application the logo

920
00:37:49,320 --> 00:37:51,240
locations

921
00:37:51,240 --> 00:37:53,460
um the color theme

922
00:37:53,460 --> 00:37:55,800
all kinds of things right

923
00:37:55,800 --> 00:37:58,740
the the social URLs Etc so it's all

924
00:37:58,740 --> 00:38:02,460
customizable via one one file even down

925
00:38:02,460 --> 00:38:05,460
to the inventory of the actual shop so

926
00:38:05,460 --> 00:38:07,859
you can Define all your products

927
00:38:07,859 --> 00:38:10,079
um there if you like

928
00:38:10,079 --> 00:38:12,619
foreign

929
00:38:12,619 --> 00:38:15,540
so that was basically the

930
00:38:15,540 --> 00:38:19,560
the actual front end uh or the user

931
00:38:19,560 --> 00:38:22,560
perspective of the dualshop

932
00:38:22,560 --> 00:38:24,780
um all that I wanted to show now just a

933
00:38:24,780 --> 00:38:26,579
little bit of background um on the on

934
00:38:26,579 --> 00:38:29,339
the things behind the scenes so the Jew

935
00:38:29,339 --> 00:38:31,020
shop is as I mentioned already it's an

936
00:38:31,020 --> 00:38:32,940
angular application

937
00:38:32,940 --> 00:38:36,720
using angular 13 at the moment

938
00:38:36,720 --> 00:38:39,359
um uses material design for the for the

939
00:38:39,359 --> 00:38:42,359
look and feel in the back end we have a

940
00:38:42,359 --> 00:38:44,960
node.js server we're using Express

941
00:38:44,960 --> 00:38:48,980
and we use a very simple lightweight

942
00:38:48,980 --> 00:38:52,500
database with sqlite which is connected

943
00:38:52,500 --> 00:38:55,619
to by our um by a

944
00:38:55,619 --> 00:38:59,280
object relational mapping tool called

945
00:38:59,280 --> 00:39:00,960
sqlize

946
00:39:00,960 --> 00:39:05,040
and uh yeah basically that's the main

947
00:39:05,040 --> 00:39:07,500
that's the main components right there's

948
00:39:07,500 --> 00:39:09,900
also a nosql DB which is just running in

949
00:39:09,900 --> 00:39:12,660
memory so it's this whole application is

950
00:39:12,660 --> 00:39:15,240
really so lightweight that you can just

951
00:39:15,240 --> 00:39:18,060
host it in a single Docker container

952
00:39:18,060 --> 00:39:20,099
so there's no Docker compose where you

953
00:39:20,099 --> 00:39:21,900
have to spawn the database here and

954
00:39:21,900 --> 00:39:23,460
another database there and then some

955
00:39:23,460 --> 00:39:25,380
load balances and then you have like

956
00:39:25,380 --> 00:39:27,960
already like five containers running

957
00:39:27,960 --> 00:39:29,280
um to actually have one Juice Shop

958
00:39:29,280 --> 00:39:32,900
instance it's all in one

959
00:39:34,680 --> 00:39:36,540
and it's really really easy to install

960
00:39:36,540 --> 00:39:38,700
right you can either do it the way that

961
00:39:38,700 --> 00:39:39,599
I did

962
00:39:39,599 --> 00:39:42,480
I'm just having the local installation

963
00:39:42,480 --> 00:39:46,380
just I'm I'm here in my uh in my GitHub

964
00:39:46,380 --> 00:39:49,920
uh I just cloned the repo

965
00:39:49,920 --> 00:39:53,400
and uh just did an npm install and npm

966
00:39:53,400 --> 00:39:55,140
start and then basically the Juice Shop

967
00:39:55,140 --> 00:39:57,420
was up that's that's one way to actually

968
00:39:57,420 --> 00:40:00,180
do this you can also use our Docker

969
00:40:00,180 --> 00:40:03,540
image or you if you you like vagrant we

970
00:40:03,540 --> 00:40:05,400
also have a vagrant file to actually

971
00:40:05,400 --> 00:40:07,380
respond to shop quickly

972
00:40:07,380 --> 00:40:12,180
you can also use Heroku quite nicely

973
00:40:12,180 --> 00:40:16,619
for that you only need to go to the

974
00:40:16,619 --> 00:40:19,619
um to the Juice Shop

975
00:40:19,619 --> 00:40:23,940
to the Juice Shop Repository

976
00:40:23,940 --> 00:40:25,920
and

977
00:40:25,920 --> 00:40:27,960
scroll down to the

978
00:40:27,960 --> 00:40:29,940
setup and here you find the button

979
00:40:29,940 --> 00:40:32,400
deployed to a Roku if you click on that

980
00:40:32,400 --> 00:40:34,260
button you will be if you're already

981
00:40:34,260 --> 00:40:36,300
logged into it okay it will just send

982
00:40:36,300 --> 00:40:38,280
you to a setup screen

983
00:40:38,280 --> 00:40:40,380
and like two minutes later you have your

984
00:40:40,380 --> 00:40:42,720
running running instance if you are not

985
00:40:42,720 --> 00:40:44,460
registered at Heroku yet you need to

986
00:40:44,460 --> 00:40:45,960
sign up for an account but then it's

987
00:40:45,960 --> 00:40:48,000
still it's more or less

988
00:40:48,000 --> 00:40:50,579
register sign in Click

989
00:40:50,579 --> 00:40:52,980
running instance done right so it

990
00:40:52,980 --> 00:40:55,680
doesn't get any easier than that but

991
00:40:55,680 --> 00:40:57,359
then of course it's Cloud hosted and if

992
00:40:57,359 --> 00:40:58,920
you want to if you prefer to have it

993
00:40:58,920 --> 00:41:01,020
locally of course you should more look

994
00:41:01,020 --> 00:41:04,200
into the node.js OR Docker hosting

995
00:41:04,200 --> 00:41:06,599
you can also do it with uh right with

996
00:41:06,599 --> 00:41:08,460
Azure Amazon the web services Google

997
00:41:08,460 --> 00:41:10,560
Cloud whatever so it's it basically runs

998
00:41:10,560 --> 00:41:12,300
everywhere especially because if you're

999
00:41:12,300 --> 00:41:14,160
using the docker image then yeah

1000
00:41:14,160 --> 00:41:15,900
everywhere where Docker runs you can

1001
00:41:15,900 --> 00:41:18,740
make the two-shop Run

1002
00:41:18,960 --> 00:41:23,040
Jew shop also has a multi-language

1003
00:41:23,040 --> 00:41:25,200
support for lots of languages actually

1004
00:41:25,200 --> 00:41:28,680
and we didn't look into this

1005
00:41:28,680 --> 00:41:29,820
um

1006
00:41:29,820 --> 00:41:33,540
really but I can show you that

1007
00:41:33,540 --> 00:41:36,960
so if I refresh again oh I didn't start

1008
00:41:36,960 --> 00:41:39,740
the server right

1009
00:41:49,800 --> 00:41:53,000
let's see

1010
00:41:59,359 --> 00:42:02,700
should be back up right

1011
00:42:02,700 --> 00:42:05,598
there we go

1012
00:42:07,859 --> 00:42:10,380
okay there it is again

1013
00:42:10,380 --> 00:42:13,560
um here let's close that Banner now you

1014
00:42:13,560 --> 00:42:16,380
can see here in the top right bar you

1015
00:42:16,380 --> 00:42:17,820
can basically select any language you

1016
00:42:17,820 --> 00:42:19,980
like the little

1017
00:42:19,980 --> 00:42:23,220
thermometer here indicates how how

1018
00:42:23,220 --> 00:42:25,140
complete the translations are

1019
00:42:25,140 --> 00:42:28,380
so for example if I switch to German

1020
00:42:28,380 --> 00:42:30,599
it will now some things will now

1021
00:42:30,599 --> 00:42:33,900
immediately be translated right

1022
00:42:33,900 --> 00:42:35,940
um some other things which came from the

1023
00:42:35,940 --> 00:42:39,119
database are not but if I refresh the

1024
00:42:39,119 --> 00:42:42,300
um the screen you will see that even

1025
00:42:42,300 --> 00:42:45,300
the product names are now in German

1026
00:42:45,300 --> 00:42:48,660
right so not all languages have this

1027
00:42:48,660 --> 00:42:52,920
completeness for German it's 100 because

1028
00:42:52,920 --> 00:42:55,140
I natively speak German so I always do

1029
00:42:55,140 --> 00:42:57,780
that translation along the way but we

1030
00:42:57,780 --> 00:43:01,099
also have some other languages

1031
00:43:01,260 --> 00:43:03,480
where we have a very high translation

1032
00:43:03,480 --> 00:43:06,000
rate and for some we have quite a good

1033
00:43:06,000 --> 00:43:08,099
one and for some we have ah just a

1034
00:43:08,099 --> 00:43:10,680
little bit so if you would like to help

1035
00:43:10,680 --> 00:43:13,020
with the translation in the Jew shop we

1036
00:43:13,020 --> 00:43:15,960
use actually crowd into to do this and

1037
00:43:15,960 --> 00:43:17,280
that's yeah

1038
00:43:17,280 --> 00:43:20,839
we always appreciate help there

1039
00:43:21,480 --> 00:43:24,180
um also on the technical side we have a

1040
00:43:24,180 --> 00:43:26,760
testing pyramid where we have some unit

1041
00:43:26,760 --> 00:43:28,859
tests or quite a few unit tests with

1042
00:43:28,859 --> 00:43:30,960
different Frameworks

1043
00:43:30,960 --> 00:43:34,740
running we have API tests uh that

1044
00:43:34,740 --> 00:43:38,099
actually uh verify the the integration

1045
00:43:38,099 --> 00:43:40,260
layer API layer of the dualshop and we

1046
00:43:40,260 --> 00:43:41,819
have end-to-end tests which we are

1047
00:43:41,819 --> 00:43:44,040
currently rewriting in a Google summer

1048
00:43:44,040 --> 00:43:45,780
of code project

1049
00:43:45,780 --> 00:43:48,060
from protractor into Cyprus

1050
00:43:48,060 --> 00:43:50,220
and these tests are quite nice because

1051
00:43:50,220 --> 00:43:52,440
they actually don't test the

1052
00:43:52,440 --> 00:43:54,420
functionality of the Jew shop the

1053
00:43:54,420 --> 00:43:55,800
shopping experience but they actually

1054
00:43:55,800 --> 00:43:57,720
test the challenges so they actually

1055
00:43:57,720 --> 00:44:00,240
automate the exploits and then see if

1056
00:44:00,240 --> 00:44:02,880
the scoreboard turned green for the for

1057
00:44:02,880 --> 00:44:04,619
each particular challenge

1058
00:44:04,619 --> 00:44:06,180
and by that we know when someone

1059
00:44:06,180 --> 00:44:08,579
accidentally breaks a challenge with a

1060
00:44:08,579 --> 00:44:11,000
code change

1061
00:44:11,400 --> 00:44:14,220
on the build side we're using quite a

1062
00:44:14,220 --> 00:44:17,220
lot our biggest tool at the moment is uh

1063
00:44:17,220 --> 00:44:19,440
GitHub actions of course behind the

1064
00:44:19,440 --> 00:44:21,200
scenes everything from the whole node

1065
00:44:21,200 --> 00:44:24,839
ecosystem is coming as well we have some

1066
00:44:24,839 --> 00:44:27,420
uh some tests and some tools being put

1067
00:44:27,420 --> 00:44:29,460
on top like code climate for example for

1068
00:44:29,460 --> 00:44:32,460
quality and code coverage analysis

1069
00:44:32,460 --> 00:44:33,180
um

1070
00:44:33,180 --> 00:44:34,560
we're also running some security

1071
00:44:34,560 --> 00:44:37,319
pipelines on gitlab just for fun and we

1072
00:44:37,319 --> 00:44:41,460
even trigger automated over slab scans

1073
00:44:41,460 --> 00:44:42,240
um

1074
00:44:42,240 --> 00:44:45,420
on the repository on the on the juice

1075
00:44:45,420 --> 00:44:47,760
shops demo instance like every week I

1076
00:44:47,760 --> 00:44:48,720
think

1077
00:44:48,720 --> 00:44:50,880
and we have set a lot of These Warnings

1078
00:44:50,880 --> 00:44:52,680
to ignore because we actually want those

1079
00:44:52,680 --> 00:44:54,240
vulnerabilities which you normally

1080
00:44:54,240 --> 00:44:56,598
shouldn't

1081
00:44:57,780 --> 00:44:59,579
you can integrate the Jew shop with

1082
00:44:59,579 --> 00:45:01,140
other tools

1083
00:45:01,140 --> 00:45:01,680
um

1084
00:45:01,680 --> 00:45:04,020
for example we do and I mentioned that

1085
00:45:04,020 --> 00:45:06,240
before we have a web hook that is

1086
00:45:06,240 --> 00:45:09,119
triggered or that that you can consume

1087
00:45:09,119 --> 00:45:11,579
whenever a challenge is solved

1088
00:45:11,579 --> 00:45:14,339
so this emits the challenge name

1089
00:45:14,339 --> 00:45:17,040
um these the the assumed cheat score for

1090
00:45:17,040 --> 00:45:18,720
the challenge but also in total for that

1091
00:45:18,720 --> 00:45:19,920
user

1092
00:45:19,920 --> 00:45:23,160
and um so you could basically in some

1093
00:45:23,160 --> 00:45:24,900
Central I don't know learning management

1094
00:45:24,900 --> 00:45:26,700
system or something you could record

1095
00:45:26,700 --> 00:45:27,900
this

1096
00:45:27,900 --> 00:45:28,980
um

1097
00:45:28,980 --> 00:45:31,260
um multi-juices in the latest version I

1098
00:45:31,260 --> 00:45:33,660
think I think it's based on this I I

1099
00:45:33,660 --> 00:45:36,780
suppose to actually notice if someone

1100
00:45:36,780 --> 00:45:38,819
um solved the challenge as well so

1101
00:45:38,819 --> 00:45:40,920
that's uh yeah that's that's a nice

1102
00:45:40,920 --> 00:45:42,359
technical integration that you can

1103
00:45:42,359 --> 00:45:45,540
actually can actually use

1104
00:45:45,540 --> 00:45:48,839
you can also use a template that we

1105
00:45:48,839 --> 00:45:50,700
provide for a grafana dashboard where

1106
00:45:50,700 --> 00:45:52,380
you can then monitor a Jew shop instance

1107
00:45:52,380 --> 00:45:54,839
that's just to show you that real quick

1108
00:45:54,839 --> 00:45:56,460
because we are

1109
00:45:56,460 --> 00:46:00,980
almost running out of time here

1110
00:46:01,200 --> 00:46:02,700
um

1111
00:46:02,700 --> 00:46:05,940
this is the grafana dashboard

1112
00:46:05,940 --> 00:46:08,819
from the last I think seven days for the

1113
00:46:08,819 --> 00:46:10,560
Jew shops demo instance which I'm

1114
00:46:10,560 --> 00:46:13,380
hosting on Heroku and you can see how

1115
00:46:13,380 --> 00:46:15,660
many challenges have been solved you can

1116
00:46:15,660 --> 00:46:19,380
even see the uh the overall cheat score

1117
00:46:19,380 --> 00:46:21,660
and you see that it went up and down a

1118
00:46:21,660 --> 00:46:23,700
little bit but you can also find some

1119
00:46:23,700 --> 00:46:25,200
technical information about the request

1120
00:46:25,200 --> 00:46:27,839
happening Etc so this is all coming as a

1121
00:46:27,839 --> 00:46:29,819
template that you can just install on

1122
00:46:29,819 --> 00:46:31,859
your

1123
00:46:31,859 --> 00:46:34,800
um wherever you want in my case this

1124
00:46:34,800 --> 00:46:36,900
grafana

1125
00:46:36,900 --> 00:46:40,380
dashboard and the the promeifi server to

1126
00:46:40,380 --> 00:46:41,819
actually collect the metrics is running

1127
00:46:41,819 --> 00:46:47,240
on a Raspberry Pi 24 7 under my disk so

1128
00:46:48,960 --> 00:46:50,940
okay

1129
00:46:50,940 --> 00:46:54,060
good so we will not go through these um

1130
00:46:54,060 --> 00:46:56,760
FAQs here but you can find this

1131
00:46:56,760 --> 00:47:00,839
presentation online and also if you want

1132
00:47:00,839 --> 00:47:03,119
to find out more about more details

1133
00:47:03,119 --> 00:47:06,480
about aspects of tool shop there's one

1134
00:47:06,480 --> 00:47:09,119
really good resource which I can

1135
00:47:09,119 --> 00:47:13,640
highly recommend and that is our

1136
00:47:14,160 --> 00:47:17,339
owning over two shop ebook

1137
00:47:17,339 --> 00:47:20,280
which you can just go through online you

1138
00:47:20,280 --> 00:47:22,260
can also download it from from lean Pub

1139
00:47:22,260 --> 00:47:23,819
if you want

1140
00:47:23,819 --> 00:47:25,740
um and here you find everything right

1141
00:47:25,740 --> 00:47:27,200
from

1142
00:47:27,200 --> 00:47:30,359
the basics to I don't know for example

1143
00:47:30,359 --> 00:47:33,300
here and complete instruction guide how

1144
00:47:33,300 --> 00:47:35,940
to host a CTF with DualShock with

1145
00:47:35,940 --> 00:47:38,099
most of the images you already saw with

1146
00:47:38,099 --> 00:47:40,560
instructions for each of the supported

1147
00:47:40,560 --> 00:47:42,000
Frameworks how to import everything

1148
00:47:42,000 --> 00:47:44,160
there

1149
00:47:44,160 --> 00:47:45,900
um you also find a complete guide on

1150
00:47:45,900 --> 00:47:48,480
customization for example right so where

1151
00:47:48,480 --> 00:47:50,640
we explain all the configuration values

1152
00:47:50,640 --> 00:47:52,859
so it should be really

1153
00:47:52,859 --> 00:47:55,260
um if you if you like reading then

1154
00:47:55,260 --> 00:47:57,119
afterwards you should be able to just

1155
00:47:57,119 --> 00:47:59,640
set up your complete own Juice Shop

1156
00:47:59,640 --> 00:48:02,579
theme with not too many issues right

1157
00:48:02,579 --> 00:48:06,359
then there's uh hints and even full

1158
00:48:06,359 --> 00:48:07,980
solutions for all the hacking challenges

1159
00:48:07,980 --> 00:48:10,440
inside this book and uh yeah so it's

1160
00:48:10,440 --> 00:48:12,300
it's a very complete documentation I

1161
00:48:12,300 --> 00:48:14,540
would say

1162
00:48:14,760 --> 00:48:17,060
foreign

1163
00:48:17,540 --> 00:48:20,880
wanted to skip that okay so last actual

1164
00:48:20,880 --> 00:48:23,460
content slide this is actually my

1165
00:48:23,460 --> 00:48:25,200
personal favorite slide of every

1166
00:48:25,200 --> 00:48:28,500
presentation it's our success pyramid so

1167
00:48:28,500 --> 00:48:31,319
the Jew shop across over the eight years

1168
00:48:31,319 --> 00:48:34,440
of its existence had uh 84 contributors

1169
00:48:34,440 --> 00:48:37,680
in total it's an OS Flagship project for

1170
00:48:37,680 --> 00:48:40,680
since 2016 actually

1171
00:48:40,680 --> 00:48:43,680
um we even have an open source security

1172
00:48:43,680 --> 00:48:46,859
Foundation gold medal right because we

1173
00:48:46,859 --> 00:48:49,020
are such a great and secure application

1174
00:48:49,020 --> 00:48:51,900
now the medal is actually for the

1175
00:48:51,900 --> 00:48:54,000
for the more technical part right and

1176
00:48:54,000 --> 00:48:56,940
for the um for the for our

1177
00:48:56,940 --> 00:48:59,760
um how the way how we set up our GitHub

1178
00:48:59,760 --> 00:49:02,160
and how we manage pull requests and do

1179
00:49:02,160 --> 00:49:04,560
continuous integration all that so of

1180
00:49:04,560 --> 00:49:06,780
course this does not uh take into

1181
00:49:06,780 --> 00:49:08,520
account the intended vulnerabilities

1182
00:49:08,520 --> 00:49:10,380
then it would probably not be a gold

1183
00:49:10,380 --> 00:49:11,640
medal

1184
00:49:11,640 --> 00:49:13,319
for an open source project I think we

1185
00:49:13,319 --> 00:49:15,060
have quite a nice test coverage although

1186
00:49:15,060 --> 00:49:17,880
it was higher some years ago and we

1187
00:49:17,880 --> 00:49:20,460
tried to get back there and as you can

1188
00:49:20,460 --> 00:49:22,200
also see it's used quite a bit with

1189
00:49:22,200 --> 00:49:25,500
almost 7000 GitHub Stars uh quite a few

1190
00:49:25,500 --> 00:49:28,920
downloads in GitHub and also sourceforge

1191
00:49:28,920 --> 00:49:31,859
and the most crazy number uh in this

1192
00:49:31,859 --> 00:49:34,800
whole list here is the total of 48

1193
00:49:34,800 --> 00:49:36,839
million times the docker image has been

1194
00:49:36,839 --> 00:49:39,000
pulled

1195
00:49:39,000 --> 00:49:42,359
on the project roadmap as I mentioned

1196
00:49:42,359 --> 00:49:45,480
um our change from protractor to Cyprus

1197
00:49:45,480 --> 00:49:47,700
for the end-to-end test I would actually

1198
00:49:47,700 --> 00:49:50,040
like to get the code coverage or the

1199
00:49:50,040 --> 00:49:52,920
test coverage back to 90 and we would

1200
00:49:52,920 --> 00:49:56,220
like to actually migrate our ebook to a

1201
00:49:56,220 --> 00:49:58,980
more modern format because the current

1202
00:49:58,980 --> 00:50:02,220
one doesn't get any support anymore

1203
00:50:02,220 --> 00:50:04,020
that's basically it if you're interested

1204
00:50:04,020 --> 00:50:05,640
in the project

1205
00:50:05,640 --> 00:50:09,480
um here are the most important links uh

1206
00:50:09,480 --> 00:50:11,280
I guess because it's always it should be

1207
00:50:11,280 --> 00:50:13,920
obvious everything is open source either

1208
00:50:13,920 --> 00:50:16,800
MIT or Creative Commons license if

1209
00:50:16,800 --> 00:50:18,119
you're interested in some additional

1210
00:50:18,119 --> 00:50:20,819
nice things which I published I have a

1211
00:50:20,819 --> 00:50:23,339
complete I.T security lecture for two

1212
00:50:23,339 --> 00:50:25,920
semesters on GitHub which is an open

1213
00:50:25,920 --> 00:50:29,640
active open educational resource

1214
00:50:29,640 --> 00:50:31,980
um and uh in the second semester

1215
00:50:31,980 --> 00:50:33,300
basically

1216
00:50:33,300 --> 00:50:34,920
um you can you can find a completely

1217
00:50:34,920 --> 00:50:38,099
prepared training for uh for web

1218
00:50:38,099 --> 00:50:41,280
security using the Juice Shop as a as an

1219
00:50:41,280 --> 00:50:43,500
exercise environment

1220
00:50:43,500 --> 00:50:44,880
that's it

1221
00:50:44,880 --> 00:50:46,859
one minute over time

1222
00:50:46,859 --> 00:50:49,759
that's okay

1223
00:50:49,859 --> 00:50:51,780
thank you so happy to take any questions

1224
00:50:51,780 --> 00:50:55,200
I do have a few here so I will read out

1225
00:50:55,200 --> 00:50:56,940
some of the questions that we've

1226
00:50:56,940 --> 00:50:58,740
received from some of the audience so

1227
00:50:58,740 --> 00:51:01,380
thanks very much for that it was really

1228
00:51:01,380 --> 00:51:04,079
interesting and the first question we

1229
00:51:04,079 --> 00:51:07,260
have is do you have ambition to enhance

1230
00:51:07,260 --> 00:51:10,380
you shop or to prepare separate project

1231
00:51:10,380 --> 00:51:13,200
more orientated to secure development

1232
00:51:13,200 --> 00:51:15,839
like coding challenges for multiple

1233
00:51:15,839 --> 00:51:18,359
coding languages Etc

1234
00:51:18,359 --> 00:51:19,640
foreign

1235
00:51:19,640 --> 00:51:22,980
okay short answer no because this this

1236
00:51:22,980 --> 00:51:25,319
would just not be this is this is just

1237
00:51:25,319 --> 00:51:28,140
Way Beyond the scope right so our coding

1238
00:51:28,140 --> 00:51:30,300
challenges the way they actually work I

1239
00:51:30,300 --> 00:51:32,760
didn't explain that they actually pull

1240
00:51:32,760 --> 00:51:36,240
the the real code from the server and

1241
00:51:36,240 --> 00:51:38,099
display that in the in the first screen

1242
00:51:38,099 --> 00:51:39,599
where you have to select the the broken

1243
00:51:39,599 --> 00:51:41,520
line right

1244
00:51:41,520 --> 00:51:43,920
the only thing that is hard coded for

1245
00:51:43,920 --> 00:51:46,980
these challenges is the selection of

1246
00:51:46,980 --> 00:51:49,680
um of fixed files right so the possible

1247
00:51:49,680 --> 00:51:51,319
fixes

1248
00:51:51,319 --> 00:51:53,880
everything else the broken part is

1249
00:51:53,880 --> 00:51:55,559
completely coming from the actual source

1250
00:51:55,559 --> 00:51:58,859
code and um offering that in different

1251
00:51:58,859 --> 00:52:00,000
languages

1252
00:52:00,000 --> 00:52:02,760
it would even be it would be decoupled

1253
00:52:02,760 --> 00:52:04,800
from the real application right so if I

1254
00:52:04,800 --> 00:52:07,559
if I'm if I'm using a JavaScript

1255
00:52:07,559 --> 00:52:08,940
application

1256
00:52:08,940 --> 00:52:11,160
and then I'm getting a python coding

1257
00:52:11,160 --> 00:52:12,720
challenge there's no real

1258
00:52:12,720 --> 00:52:15,059
it would be really hard to find to make

1259
00:52:15,059 --> 00:52:17,520
the translate that was very well and

1260
00:52:17,520 --> 00:52:19,559
keep the connection

1261
00:52:19,559 --> 00:52:21,540
so no that's that's not in scope for

1262
00:52:21,540 --> 00:52:23,099
True shot great

1263
00:52:23,099 --> 00:52:25,500
thank you for that and then in similar

1264
00:52:25,500 --> 00:52:27,599
vein we have another question here

1265
00:52:27,599 --> 00:52:30,480
saying is do shop finished or do you

1266
00:52:30,480 --> 00:52:33,000
always add new challenges or features

1267
00:52:33,000 --> 00:52:35,180
Etc

1268
00:52:35,280 --> 00:52:37,260
um

1269
00:52:37,260 --> 00:52:40,200
actually when the when the latest or was

1270
00:52:40,200 --> 00:52:43,380
top 10 was released the 2021 Edition

1271
00:52:43,380 --> 00:52:46,380
which came end of last year I checked if

1272
00:52:46,380 --> 00:52:48,660
I needed to add any new challenges to

1273
00:52:48,660 --> 00:52:51,480
actually still fulfill my promise of

1274
00:52:51,480 --> 00:52:53,940
having everything on the OS top 10. and

1275
00:52:53,940 --> 00:52:55,440
in this case I didn't have to add

1276
00:52:55,440 --> 00:52:58,020
anything because we already had the

1277
00:52:58,020 --> 00:53:00,660
things that came into the OS top 10

1278
00:53:00,660 --> 00:53:02,040
right

1279
00:53:02,040 --> 00:53:03,540
um that might change of course then we

1280
00:53:03,540 --> 00:53:07,020
will definitely add add those and we we

1281
00:53:07,020 --> 00:53:08,040
um

1282
00:53:08,040 --> 00:53:10,140
yeah we also have some sometimes on

1283
00:53:10,140 --> 00:53:12,000
GitHub some nice ideas for new

1284
00:53:12,000 --> 00:53:13,440
challenges

1285
00:53:13,440 --> 00:53:15,000
um I'm even at the point where I would

1286
00:53:15,000 --> 00:53:16,859
actually like to retire some of the

1287
00:53:16,859 --> 00:53:18,240
challenges because

1288
00:53:18,240 --> 00:53:19,680
um when you use the Jew shop you will

1289
00:53:19,680 --> 00:53:21,300
see some of the um some of the

1290
00:53:21,300 --> 00:53:23,339
challenges are serious vulnerabilities

1291
00:53:23,339 --> 00:53:26,760
others are more just for fun

1292
00:53:26,760 --> 00:53:27,480
um

1293
00:53:27,480 --> 00:53:30,059
and some of those uh yeah let's say

1294
00:53:30,059 --> 00:53:32,880
they're a little bit outdated by now and

1295
00:53:32,880 --> 00:53:35,220
could use could could use a replacement

1296
00:53:35,220 --> 00:53:38,400
but I don't want to get below the 100

1297
00:53:38,400 --> 00:53:40,920
number the number of 100 challenges in

1298
00:53:40,920 --> 00:53:42,839
total so whenever we would want to

1299
00:53:42,839 --> 00:53:44,400
remove something we brought we would

1300
00:53:44,400 --> 00:53:47,220
first have to add something new

1301
00:53:47,220 --> 00:53:50,099
yeah just one example we always dreamed

1302
00:53:50,099 --> 00:53:52,920
of having some uh some some challenges

1303
00:53:52,920 --> 00:53:54,660
around uh

1304
00:53:54,660 --> 00:53:57,540
um graph databases like uh taking uh

1305
00:53:57,540 --> 00:54:01,079
graphql instead of having SQL injection

1306
00:54:01,079 --> 00:54:03,480
um but so far for example we have had no

1307
00:54:03,480 --> 00:54:05,700
good idea how to actually Implement that

1308
00:54:05,700 --> 00:54:07,920
we're always happy to take just

1309
00:54:07,920 --> 00:54:10,200
challenge ideas or even implementation

1310
00:54:10,200 --> 00:54:12,540
proposals

1311
00:54:12,540 --> 00:54:15,119
that's great so whoever is listening if

1312
00:54:15,119 --> 00:54:17,460
you have any ideas or proposals please

1313
00:54:17,460 --> 00:54:20,579
do broken forward Bjorn and then another

1314
00:54:20,579 --> 00:54:22,800
question that has just come in is what

1315
00:54:22,800 --> 00:54:26,460
do you test for using OAS zap are you

1316
00:54:26,460 --> 00:54:28,500
testing whether the challenges can be

1317
00:54:28,500 --> 00:54:30,420
found by your wasps

1318
00:54:30,420 --> 00:54:34,319
now um our our zap test that we have set

1319
00:54:34,319 --> 00:54:36,599
up is just using the zap Baseline scan

1320
00:54:36,599 --> 00:54:40,500
so it's basically a prepared

1321
00:54:40,500 --> 00:54:43,440
GitHub action from the zap team that we

1322
00:54:43,440 --> 00:54:46,140
just run and we just pointed to the demo

1323
00:54:46,140 --> 00:54:47,220
instance

1324
00:54:47,220 --> 00:54:49,380
um and it will just do some I think it's

1325
00:54:49,380 --> 00:54:53,280
a two minute time boxed very limited uh

1326
00:54:53,280 --> 00:54:57,300
scan it will only find a few things

1327
00:54:57,300 --> 00:54:59,339
because most of the Jew shop problems

1328
00:54:59,339 --> 00:55:02,099
are hidden very deep in the

1329
00:55:02,099 --> 00:55:03,599
functionality

1330
00:55:03,599 --> 00:55:06,599
so it is quite hard to actually test the

1331
00:55:06,599 --> 00:55:08,760
Jew shop with some fully automated tools

1332
00:55:08,760 --> 00:55:11,280
so it's it's it's already hard enough

1333
00:55:11,280 --> 00:55:13,440
for for a person sitting in front of it

1334
00:55:13,440 --> 00:55:16,440
and trying to find everything even with

1335
00:55:16,440 --> 00:55:17,520
tools

1336
00:55:17,520 --> 00:55:19,859
but just point and shoot with some some

1337
00:55:19,859 --> 00:55:21,780
tool no matter if it's zap or any other

1338
00:55:21,780 --> 00:55:23,819
scanner so far

1339
00:55:23,819 --> 00:55:27,900
there were no no convincing results from

1340
00:55:27,900 --> 00:55:30,599
fully automated scans onto shop actually

1341
00:55:30,599 --> 00:55:32,700
so that's why we also have not included

1342
00:55:32,700 --> 00:55:34,020
something like this in our own build

1343
00:55:34,020 --> 00:55:35,819
pipeline because that's

1344
00:55:35,819 --> 00:55:38,339
we just would would get the let's say

1345
00:55:38,339 --> 00:55:41,040
the lowest hanging fruits but even the

1346
00:55:41,040 --> 00:55:44,099
medium difficulty things would not

1347
00:55:44,099 --> 00:55:46,260
would not really show up in most cases

1348
00:55:46,260 --> 00:55:49,800
yeah okay now that makes sense and then

1349
00:55:49,800 --> 00:55:52,440
I guess another question is so it has

1350
00:55:52,440 --> 00:55:55,200
been first the project has been ongoing

1351
00:55:55,200 --> 00:55:57,599
for the last eight years as you said at

1352
00:55:57,599 --> 00:56:00,599
the start of the presentation and how

1353
00:56:00,599 --> 00:56:02,640
has it evolved

1354
00:56:02,640 --> 00:56:04,500
okay so what's the difference between

1355
00:56:04,500 --> 00:56:06,240
them and now

1356
00:56:06,240 --> 00:56:08,700
yeah um if you want if you want to try

1357
00:56:08,700 --> 00:56:10,800
it out you could also still find the old

1358
00:56:10,800 --> 00:56:12,599
source code and you could make it still

1359
00:56:12,599 --> 00:56:15,059
run on a very old node.js version so

1360
00:56:15,059 --> 00:56:18,480
when do shop started it was an angularjs

1361
00:56:18,480 --> 00:56:22,920
front end so angular 1. X version and

1362
00:56:22,920 --> 00:56:25,680
when uh angular actually

1363
00:56:25,680 --> 00:56:26,579
um

1364
00:56:26,579 --> 00:56:29,339
jump to the version two it was a

1365
00:56:29,339 --> 00:56:31,800
complete rewrite so we actually had to

1366
00:56:31,800 --> 00:56:35,160
do a complete rewrite of the front end

1367
00:56:35,160 --> 00:56:38,040
back then we also used um Twitter's

1368
00:56:38,040 --> 00:56:40,200
bootstrap framework for the for the UI

1369
00:56:40,200 --> 00:56:44,220
part for the for the screens right

1370
00:56:44,220 --> 00:56:46,260
um and we replaced that then later on

1371
00:56:46,260 --> 00:56:47,220
with

1372
00:56:47,220 --> 00:56:49,260
um with material design

1373
00:56:49,260 --> 00:56:51,800
um or angular material

1374
00:56:51,800 --> 00:56:53,940
in the back end I think we are actually

1375
00:56:53,940 --> 00:56:57,119
quite stable we replaced our our

1376
00:56:57,119 --> 00:57:00,300
automated rest endpoint generators like

1377
00:57:00,300 --> 00:57:02,040
three times I think

1378
00:57:02,040 --> 00:57:04,260
but for example with the sqlite database

1379
00:57:04,260 --> 00:57:07,920
we remain stable since the beginning we

1380
00:57:07,920 --> 00:57:11,099
have expressed we had in there since

1381
00:57:11,099 --> 00:57:14,160
since the project actually started

1382
00:57:14,160 --> 00:57:17,400
um yeah so we replace whatever is needed

1383
00:57:17,400 --> 00:57:18,960
to actually stay current

1384
00:57:18,960 --> 00:57:22,020
if now for example uh Google would

1385
00:57:22,020 --> 00:57:24,839
decide to completely ditch angular and

1386
00:57:24,839 --> 00:57:26,579
uh come up with some completely

1387
00:57:26,579 --> 00:57:28,980
different UI framework

1388
00:57:28,980 --> 00:57:31,619
I'm not 100 sure if I really wanted to

1389
00:57:31,619 --> 00:57:34,260
do a migration of that because that

1390
00:57:34,260 --> 00:57:36,119
would mean we throw away half of the

1391
00:57:36,119 --> 00:57:38,400
code base and kind of start from scratch

1392
00:57:38,400 --> 00:57:39,359
again

1393
00:57:39,359 --> 00:57:41,880
but yeah other than that we try to stay

1394
00:57:41,880 --> 00:57:43,380
current as much as possible as you can

1395
00:57:43,380 --> 00:57:46,920
even see with our attempt to to now uh

1396
00:57:46,920 --> 00:57:49,020
change the testing framework right

1397
00:57:49,020 --> 00:57:51,000
because the the old one is not supported

1398
00:57:51,000 --> 00:57:53,460
any longer and so we we actually try to

1399
00:57:53,460 --> 00:57:55,559
catch up and that's been working quite

1400
00:57:55,559 --> 00:57:57,119
quite well so far

1401
00:57:57,119 --> 00:57:59,819
okay excellent and then I guess the last

1402
00:57:59,819 --> 00:58:01,980
question before we

1403
00:58:01,980 --> 00:58:04,380
um wrap up the session is how did you

1404
00:58:04,380 --> 00:58:07,619
come up with the concept for do shop

1405
00:58:07,619 --> 00:58:08,940
okay

1406
00:58:08,940 --> 00:58:11,520
um basically I'm doing uh web security

1407
00:58:11,520 --> 00:58:14,819
trainings in my company for

1408
00:58:14,819 --> 00:58:18,780
uh like 13 years or something already

1409
00:58:18,780 --> 00:58:22,319
and at the beginning I used existing

1410
00:58:22,319 --> 00:58:25,020
broken web applications for example the

1411
00:58:25,020 --> 00:58:26,760
good old budget store

1412
00:58:26,760 --> 00:58:29,400
by Simon Bennett's right so more or less

1413
00:58:29,400 --> 00:58:32,640
the demo application for overspap that I

1414
00:58:32,640 --> 00:58:35,579
did use for for online for in-house

1415
00:58:35,579 --> 00:58:39,119
trainings of course that only has like a

1416
00:58:39,119 --> 00:58:40,319
little bit more than a handful or a

1417
00:58:40,319 --> 00:58:42,900
dozen of security issues so quite

1418
00:58:42,900 --> 00:58:44,520
limited

1419
00:58:44,520 --> 00:58:46,680
um we also used some other third-party

1420
00:58:46,680 --> 00:58:49,160
vulnerable apps but none were really

1421
00:58:49,160 --> 00:58:51,420
complete right

1422
00:58:51,420 --> 00:58:53,460
um so that

1423
00:58:53,460 --> 00:58:55,920
either they had a very limited scope and

1424
00:58:55,920 --> 00:58:57,540
you couldn't really show all kinds of

1425
00:58:57,540 --> 00:59:00,540
things with them and or they they were

1426
00:59:00,540 --> 00:59:02,280
like third party and you hadn't access

1427
00:59:02,280 --> 00:59:04,260
to the source code and that also felt

1428
00:59:04,260 --> 00:59:06,299
kind of wrong that's why I basically

1429
00:59:06,299 --> 00:59:08,640
came up to to write um

1430
00:59:08,640 --> 00:59:11,520
my own vulnerable application for my

1431
00:59:11,520 --> 00:59:14,040
trainings and I think we the first

1432
00:59:14,040 --> 00:59:16,020
version already hit like 20 something

1433
00:59:16,020 --> 00:59:19,140
challenges built in and then it just uh

1434
00:59:19,140 --> 00:59:21,420
grew and grew and grew into

1435
00:59:21,420 --> 00:59:24,180
um into what it is now

1436
00:59:24,180 --> 00:59:26,280
but the main reason in the beginning was

1437
00:59:26,280 --> 00:59:28,079
really just for my own for my own

1438
00:59:28,079 --> 00:59:30,420
trainings and Jew shop existed already

1439
00:59:30,420 --> 00:59:33,359
for one year one and a half year I think

1440
00:59:33,359 --> 00:59:35,099
around about before it actually became

1441
00:59:35,099 --> 00:59:36,540
an OS Project

1442
00:59:36,540 --> 00:59:38,400
so it came to always as a finished

1443
00:59:38,400 --> 00:59:41,220
project kind of but when it when it came

1444
00:59:41,220 --> 00:59:44,579
to obas it really grew uh quite a bit

1445
00:59:44,579 --> 00:59:47,940
more and got a lot more contributors so

1446
00:59:47,940 --> 00:59:50,880
that's great and thank you so much for

1447
00:59:50,880 --> 00:59:54,240
the talk today so I think that's a wrap

1448
00:59:54,240 --> 00:59:56,940
um it was great listening to you and

1449
00:59:56,940 --> 00:59:59,700
hopefully we'll see you again sometime

1450
00:59:59,700 --> 01:00:01,920
thank you that's a pleasure

1451
01:00:01,920 --> 01:00:06,020
thank you have a great day you too

