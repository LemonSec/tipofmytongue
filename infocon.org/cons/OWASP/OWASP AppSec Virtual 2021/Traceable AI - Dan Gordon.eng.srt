1
00:00:01,420 --> 00:00:05,120
[Music]

2
00:00:05,120 --> 00:00:06,240
all right

3
00:00:06,240 --> 00:00:08,720
so uh as you mentioned thank you uh for

4
00:00:08,720 --> 00:00:10,800
having me here and as you mentioned uh

5
00:00:10,800 --> 00:00:12,960
with traceableai um

6
00:00:12,960 --> 00:00:14,400
and

7
00:00:14,400 --> 00:00:16,480
yes i've done quite a few bits of things

8
00:00:16,480 --> 00:00:18,560
around development and security uh

9
00:00:18,560 --> 00:00:20,080
product management for several devops

10
00:00:20,080 --> 00:00:22,960
tools um helped get

11
00:00:22,960 --> 00:00:26,400
put good lab on the map recently uh and

12
00:00:26,400 --> 00:00:28,160
with all my work in

13
00:00:28,160 --> 00:00:30,240
devops it's become clear over time as

14
00:00:30,240 --> 00:00:32,640
devops has gotten more or adopted that

15
00:00:32,640 --> 00:00:34,480
we really need to evolve and this is not

16
00:00:34,480 --> 00:00:36,719
news to anybody here that security has

17
00:00:36,719 --> 00:00:39,360
got to be a key piece of this now that's

18
00:00:39,360 --> 00:00:41,040
security is wide right there's a lot of

19
00:00:41,040 --> 00:00:42,640
different places and things that we can

20
00:00:42,640 --> 00:00:44,719
look at even if we say application

21
00:00:44,719 --> 00:00:47,280
security i want to kind of focus in on

22
00:00:47,280 --> 00:00:50,719
as the title says api security now why

23
00:00:50,719 --> 00:00:53,199
is that uh because

24
00:00:53,199 --> 00:00:54,960
there's a new application landscape out

25
00:00:54,960 --> 00:00:57,760
there and is driven by apis uh so we're

26
00:00:57,760 --> 00:00:58,480
gonna

27
00:00:58,480 --> 00:01:00,160
take in the next 20 minutes to look at

28
00:01:00,160 --> 00:01:02,079
what's changing uh and the kind of

29
00:01:02,079 --> 00:01:03,680
things that we need to be thinking about

30
00:01:03,680 --> 00:01:06,400
with regards to that

31
00:01:06,400 --> 00:01:07,280
so

32
00:01:07,280 --> 00:01:09,360
again i i probably don't need to say

33
00:01:09,360 --> 00:01:11,680
this to anybody uh who's on these calls

34
00:01:11,680 --> 00:01:14,240
watching this but it's pretty well known

35
00:01:14,240 --> 00:01:16,159
uh that modern applications are driven

36
00:01:16,159 --> 00:01:18,799
by apis uh they're at the heart of

37
00:01:18,799 --> 00:01:20,880
innovation we see articles constantly

38
00:01:20,880 --> 00:01:24,080
about this we hear about this uh

39
00:01:24,080 --> 00:01:26,240
you know the um they're they're allowing

40
00:01:26,240 --> 00:01:28,960
us to go from the monolithic world to

41
00:01:28,960 --> 00:01:31,840
this flexible dynamic ever-changing

42
00:01:31,840 --> 00:01:34,880
solution made up of microservices uh

43
00:01:34,880 --> 00:01:37,600
that we can change pieces of the system

44
00:01:37,600 --> 00:01:40,400
at a time uh and have resilience

45
00:01:40,400 --> 00:01:42,240
and have new features added without

46
00:01:42,240 --> 00:01:44,960
disrupting everything else and so the

47
00:01:44,960 --> 00:01:47,200
innovation the speed that we've all been

48
00:01:47,200 --> 00:01:48,640
pushing for that business has been

49
00:01:48,640 --> 00:01:50,640
pushing for has been answered with these

50
00:01:50,640 --> 00:01:52,560
new technologies

51
00:01:52,560 --> 00:01:55,200
and the glue that binds them together is

52
00:01:55,200 --> 00:01:57,360
apis

53
00:01:57,360 --> 00:01:58,960
so

54
00:01:58,960 --> 00:02:00,719
they power the modern economy i think

55
00:02:00,719 --> 00:02:02,560
there's no question there um you know

56
00:02:02,560 --> 00:02:05,040
just a couple examples here of some of

57
00:02:05,040 --> 00:02:07,680
some of the huge microservices based uh

58
00:02:07,680 --> 00:02:08,800
cloud-based

59
00:02:08,800 --> 00:02:11,840
cloud-based cloud-native

60
00:02:11,840 --> 00:02:12,959
major

61
00:02:12,959 --> 00:02:14,160
solutions out there that have been

62
00:02:14,160 --> 00:02:15,680
successful

63
00:02:15,680 --> 00:02:18,319
we all know this

64
00:02:18,319 --> 00:02:21,280
but not everybody else does and so

65
00:02:21,280 --> 00:02:24,080
development has seen the value and has

66
00:02:24,080 --> 00:02:27,920
adopted apis voraciously but in general

67
00:02:27,920 --> 00:02:31,120
security has yet to catch up

68
00:02:31,120 --> 00:02:33,519
uh we talk about it um and and there's

69
00:02:33,519 --> 00:02:36,080
definitely work being done but apis is

70
00:02:36,080 --> 00:02:37,760
still kind of in its infancy with

71
00:02:37,760 --> 00:02:39,280
respect to what we're doing from a

72
00:02:39,280 --> 00:02:42,319
security perspective

73
00:02:42,959 --> 00:02:45,840
so the current state of security in most

74
00:02:45,840 --> 00:02:48,800
uh solutions is out of date it's solving

75
00:02:48,800 --> 00:02:49,519
for

76
00:02:49,519 --> 00:02:51,920
uh for a world of the web clients of

77
00:02:51,920 --> 00:02:55,519
http uh as the main protocol um in a

78
00:02:55,519 --> 00:02:57,519
different time when signatures were

79
00:02:57,519 --> 00:02:59,760
enough to catch the problem and to

80
00:02:59,760 --> 00:03:02,640
remediate it or block it

81
00:03:02,640 --> 00:03:03,440
and

82
00:03:03,440 --> 00:03:05,840
you know

83
00:03:05,920 --> 00:03:08,159
problems like cross-site scripting sql

84
00:03:08,159 --> 00:03:10,000
injections remote file inclusion these

85
00:03:10,000 --> 00:03:12,080
types of problems uh they played just

86
00:03:12,080 --> 00:03:14,959
then um we've gotten a lot better at

87
00:03:14,959 --> 00:03:16,159
blocking those and catching those but

88
00:03:16,159 --> 00:03:18,400
they are still challenges today

89
00:03:18,400 --> 00:03:20,080
but that's not the world we operate in

90
00:03:20,080 --> 00:03:21,840
anymore

91
00:03:21,840 --> 00:03:23,040
so

92
00:03:23,040 --> 00:03:26,000
in the new cloud native microservices

93
00:03:26,000 --> 00:03:27,040
based

94
00:03:27,040 --> 00:03:30,080
api driven application architectures

95
00:03:30,080 --> 00:03:31,840
we've got tens or potentially hundreds

96
00:03:31,840 --> 00:03:34,159
of microservices that are now talking

97
00:03:34,159 --> 00:03:38,080
together uh each of those potentially uh

98
00:03:38,080 --> 00:03:39,120
with

99
00:03:39,120 --> 00:03:42,080
its own set of apis right and each of

100
00:03:42,080 --> 00:03:43,519
those apis

101
00:03:43,519 --> 00:03:46,319
is has its own business logic and is

102
00:03:46,319 --> 00:03:48,799
written by different people potentially

103
00:03:48,799 --> 00:03:51,200
uh who implemented who knows what level

104
00:03:51,200 --> 00:03:53,360
of security so really what's happening

105
00:03:53,360 --> 00:03:56,319
is we've opened up a new attack surface

106
00:03:56,319 --> 00:03:58,720
and it's a rich one and these legacy

107
00:03:58,720 --> 00:04:00,640
solutions like glass and grasps they

108
00:04:00,640 --> 00:04:01,680
don't really

109
00:04:01,680 --> 00:04:03,680
understand the api layer they're looking

110
00:04:03,680 --> 00:04:05,439
at signatures and there's some work that

111
00:04:05,439 --> 00:04:06,560
they can do

112
00:04:06,560 --> 00:04:08,239
but they don't really have the logic of

113
00:04:08,239 --> 00:04:09,920
what's happening the business logic the

114
00:04:09,920 --> 00:04:12,640
user tracking that's necessary to find

115
00:04:12,640 --> 00:04:14,400
and catch the kinds of attacks that we

116
00:04:14,400 --> 00:04:15,280
see

117
00:04:15,280 --> 00:04:17,680
are becoming much much more common uh

118
00:04:17,680 --> 00:04:19,358
including the business logic attacks

119
00:04:19,358 --> 00:04:22,160
like ebola uh excessive data exposure

120
00:04:22,160 --> 00:04:24,080
mass assignment these are

121
00:04:24,080 --> 00:04:25,600
folks on this call being this being an o

122
00:04:25,600 --> 00:04:27,199
wasp the conference are probably

123
00:04:27,199 --> 00:04:29,520
familiar with the owasp top ten or what

124
00:04:29,520 --> 00:04:32,080
i like to say the olaf's web top ten um

125
00:04:32,080 --> 00:04:34,479
and there's been out since 2019 an olaus

126
00:04:34,479 --> 00:04:37,280
api top 10 list focusing just on the

127
00:04:37,280 --> 00:04:39,120
specific api

128
00:04:39,120 --> 00:04:40,240
type

129
00:04:40,240 --> 00:04:42,320
vulnerabilities that we find the top 10

130
00:04:42,320 --> 00:04:45,360
most common uh and these are these and

131
00:04:45,360 --> 00:04:46,560
more are the types of things that we

132
00:04:46,560 --> 00:04:48,720
need to really be thinking about how are

133
00:04:48,720 --> 00:04:50,160
we going to protect ourselves against

134
00:04:50,160 --> 00:04:51,520
those

135
00:04:51,520 --> 00:04:53,040
and to tackle these

136
00:04:53,040 --> 00:04:55,360
what i'm saying here is that it's not

137
00:04:55,360 --> 00:04:57,680
enough just to see a piece of the puzzle

138
00:04:57,680 --> 00:04:58,560
uh

139
00:04:58,560 --> 00:05:00,240
it you know in the previous talk we

140
00:05:00,240 --> 00:05:02,000
talked about how the bad guys are using

141
00:05:02,000 --> 00:05:03,440
ai more

142
00:05:03,440 --> 00:05:04,960
this is very true

143
00:05:04,960 --> 00:05:06,639
they're able to go through large amounts

144
00:05:06,639 --> 00:05:08,479
of data and hit large

145
00:05:08,479 --> 00:05:11,039
attack surfaces very efficiently we need

146
00:05:11,039 --> 00:05:12,639
to be able to do the same but what's

147
00:05:12,639 --> 00:05:13,440
more

148
00:05:13,440 --> 00:05:15,120
because the complexity of how we

149
00:05:15,120 --> 00:05:17,039
communicate between all of the pieces of

150
00:05:17,039 --> 00:05:18,160
our system

151
00:05:18,160 --> 00:05:21,039
has gone up we need to also have new

152
00:05:21,039 --> 00:05:24,400
tools to help us better stay on top of

153
00:05:24,400 --> 00:05:26,880
the security of our systems um the tools

154
00:05:26,880 --> 00:05:28,720
that need user tracking as i mentioned

155
00:05:28,720 --> 00:05:31,680
earlier in deeper application context

156
00:05:31,680 --> 00:05:33,759
and here's the thing right we didn't

157
00:05:33,759 --> 00:05:35,280
just get new attack surfaces into

158
00:05:35,280 --> 00:05:37,039
attacks but there's all sorts of new

159
00:05:37,039 --> 00:05:39,039
challenge other types of challenges

160
00:05:39,039 --> 00:05:41,680
complexities with how we work with apis

161
00:05:41,680 --> 00:05:44,000
how we manage them uh and how we

162
00:05:44,000 --> 00:05:46,160
troubleshoot apis you know there's some

163
00:05:46,160 --> 00:05:48,720
great uh api management solutions out

164
00:05:48,720 --> 00:05:51,680
there that have pioneered making that

165
00:05:51,680 --> 00:05:52,880
better

166
00:05:52,880 --> 00:05:54,880
and there's there's solutions like api

167
00:05:54,880 --> 00:05:56,639
gateways that are also great for helping

168
00:05:56,639 --> 00:05:58,160
us to make sure we're authenticating and

169
00:05:58,160 --> 00:06:00,960
rate limiting and whatnot um but we also

170
00:06:00,960 --> 00:06:03,120
have this new challenge of api

171
00:06:03,120 --> 00:06:04,479
proliferation

172
00:06:04,479 --> 00:06:05,520
right

173
00:06:05,520 --> 00:06:07,680
got it got a microservice needed to get

174
00:06:07,680 --> 00:06:09,840
access or give access create an api

175
00:06:09,840 --> 00:06:12,319
right we get shadow apis things that

176
00:06:12,319 --> 00:06:14,240
have been retired or older versions or

177
00:06:14,240 --> 00:06:15,840
older systems that are sitting out there

178
00:06:15,840 --> 00:06:18,720
that are vulnerable um external exposure

179
00:06:18,720 --> 00:06:20,319
when we didn't expect it maybe it

180
00:06:20,319 --> 00:06:21,840
started as an internal and then it

181
00:06:21,840 --> 00:06:24,400
became an external and so it had less

182
00:06:24,400 --> 00:06:26,479
authorization on it

183
00:06:26,479 --> 00:06:28,479
the data exposure is higher because

184
00:06:28,479 --> 00:06:31,360
these apis are now actually talking

185
00:06:31,360 --> 00:06:33,280
more directly to each other

186
00:06:33,280 --> 00:06:36,240
more directly access accessible to uh to

187
00:06:36,240 --> 00:06:38,160
our data right and so now data

188
00:06:38,160 --> 00:06:39,680
exfiltration and data exposure is

189
00:06:39,680 --> 00:06:42,800
becoming a bigger challenge um and so

190
00:06:42,800 --> 00:06:44,800
the context the business logic and these

191
00:06:44,800 --> 00:06:46,880
apis how they are pretty pretty raw to

192
00:06:46,880 --> 00:06:49,680
the business uh logic and so there's a

193
00:06:49,680 --> 00:06:51,520
lot of room for making simple mistakes

194
00:06:51,520 --> 00:06:53,680
that can have big repercussions and then

195
00:06:53,680 --> 00:06:54,960
troubleshooting because we're in the

196
00:06:54,960 --> 00:06:57,039
cloud space and we have services talking

197
00:06:57,039 --> 00:06:59,360
across so many different systems uh

198
00:06:59,360 --> 00:07:02,319
troubleshooting becomes a challenge

199
00:07:02,319 --> 00:07:03,120
so

200
00:07:03,120 --> 00:07:04,560
if you look at the headlines in the last

201
00:07:04,560 --> 00:07:06,160
several years

202
00:07:06,160 --> 00:07:08,479
you can see that companies like apple

203
00:07:08,479 --> 00:07:09,919
and t-mobile

204
00:07:09,919 --> 00:07:11,919
multiple times unfortunately uber

205
00:07:11,919 --> 00:07:13,840
twitter facebook shopify starbucks you

206
00:07:13,840 --> 00:07:16,080
can name all of the big companies

207
00:07:16,080 --> 00:07:18,160
they've at some point recently been

208
00:07:18,160 --> 00:07:21,280
burnt by an api related attack

209
00:07:21,280 --> 00:07:23,199
here's a quote that that blows my mind

210
00:07:23,199 --> 00:07:25,599
right this is from security magazine

211
00:07:25,599 --> 00:07:26,880
last year

212
00:07:26,880 --> 00:07:30,160
91 of organizations had an api security

213
00:07:30,160 --> 00:07:32,080
incident well last year so this is from

214
00:07:32,080 --> 00:07:33,919
february 21.

215
00:07:33,919 --> 00:07:36,639
that blizzard 91

216
00:07:36,639 --> 00:07:40,960
had some sort of api security incident

217
00:07:40,960 --> 00:07:42,960
that should that that should

218
00:07:42,960 --> 00:07:45,120
be taken to heart here right we know

219
00:07:45,120 --> 00:07:47,039
what the new battleground is we need to

220
00:07:47,039 --> 00:07:48,879
make sure that we're still protecting

221
00:07:48,879 --> 00:07:50,560
all the other battlegrounds but we also

222
00:07:50,560 --> 00:07:52,479
need to make sure that we're taking care

223
00:07:52,479 --> 00:07:55,199
of the new attack surface

224
00:07:55,199 --> 00:07:56,560
you know and i'll bet these companies

225
00:07:56,560 --> 00:07:58,160
had laughs harassed and they have

226
00:07:58,160 --> 00:08:00,879
sophisticated security teams

227
00:08:00,879 --> 00:08:02,639
you know

228
00:08:02,639 --> 00:08:04,160
you know gartner

229
00:08:04,160 --> 00:08:06,479
predicted that by 2022

230
00:08:06,479 --> 00:08:08,319
that apis would be the most frequent

231
00:08:08,319 --> 00:08:09,919
attack factor for

232
00:08:09,919 --> 00:08:12,080
data breaches all right and so we have

233
00:08:12,080 --> 00:08:14,000
two different pieces of data telling us

234
00:08:14,000 --> 00:08:15,680
actually many more that are now listed

235
00:08:15,680 --> 00:08:17,919
here telling us the same thing so

236
00:08:17,919 --> 00:08:19,599
why is this happening how is this

237
00:08:19,599 --> 00:08:20,960
happening

238
00:08:20,960 --> 00:08:23,120
so we'll start really simple right

239
00:08:23,120 --> 00:08:25,759
apis are great for attackers it's really

240
00:08:25,759 --> 00:08:28,080
that simple right there's a large attack

241
00:08:28,080 --> 00:08:29,759
surface you know a single service can

242
00:08:29,759 --> 00:08:30,720
have

243
00:08:30,720 --> 00:08:32,799
tens hundreds of apis

244
00:08:32,799 --> 00:08:33,599
um

245
00:08:33,599 --> 00:08:35,120
they're they're

246
00:08:35,120 --> 00:08:37,360
intent on over sharing because we want

247
00:08:37,360 --> 00:08:39,599
people to use their service

248
00:08:39,599 --> 00:08:42,080
and the the the way that they're often

249
00:08:42,080 --> 00:08:44,480
written and what the languages uh

250
00:08:44,480 --> 00:08:46,399
help us to do is to be efficient as

251
00:08:46,399 --> 00:08:48,320
programmers what does that mean that

252
00:08:48,320 --> 00:08:50,480
might mean that i send you an entire

253
00:08:50,480 --> 00:08:52,640
json object with all of my customer all

254
00:08:52,640 --> 00:08:55,200
of my users data and let you parse it

255
00:08:55,200 --> 00:08:56,800
out because it's really easy to just

256
00:08:56,800 --> 00:08:58,720
send the whole json right

257
00:08:58,720 --> 00:09:00,800
but that may not be the right thing and

258
00:09:00,800 --> 00:09:02,480
then the other piece about apis is it's

259
00:09:02,480 --> 00:09:04,880
it's they're predictable right common

260
00:09:04,880 --> 00:09:07,279
protocols like rest tell us how we

261
00:09:07,279 --> 00:09:08,640
should structure

262
00:09:08,640 --> 00:09:11,040
uh our api calls we can go in an

263
00:09:11,040 --> 00:09:13,120
attacker can go in and make some pretty

264
00:09:13,120 --> 00:09:14,720
good guesses on

265
00:09:14,720 --> 00:09:16,240
what they're going to find

266
00:09:16,240 --> 00:09:18,399
and what they can poke at

267
00:09:18,399 --> 00:09:19,519
and so

268
00:09:19,519 --> 00:09:22,480
that is a part of the problem

269
00:09:22,480 --> 00:09:24,080
now we've done many attempts to solve

270
00:09:24,080 --> 00:09:26,080
for api security to use

271
00:09:26,080 --> 00:09:28,160
tools that we have to help us with api

272
00:09:28,160 --> 00:09:30,320
security things like

273
00:09:30,320 --> 00:09:32,640
like doing static

274
00:09:32,640 --> 00:09:34,320
application security testing and dynamic

275
00:09:34,320 --> 00:09:37,440
security testing and those those are

276
00:09:37,440 --> 00:09:38,880
those are good all of these tools are

277
00:09:38,880 --> 00:09:41,040
important but they're not enough by

278
00:09:41,040 --> 00:09:42,160
themselves

279
00:09:42,160 --> 00:09:44,320
uh because things like sas are looking

280
00:09:44,320 --> 00:09:46,160
uh you know at the static code they

281
00:09:46,160 --> 00:09:48,640
can't see what's happening and and das

282
00:09:48,640 --> 00:09:49,920
even though it can see the running the

283
00:09:49,920 --> 00:09:52,160
runtime behavior it doesn't understand

284
00:09:52,160 --> 00:09:54,399
what the runtime behavior should be

285
00:09:54,399 --> 00:09:56,959
and it's reliant on developer generated

286
00:09:56,959 --> 00:09:58,800
documentation that quickly goes out of

287
00:09:58,800 --> 00:10:01,200
uh gets stale or goes out of date

288
00:10:01,200 --> 00:10:04,240
things like bug bounty and pen testing

289
00:10:04,240 --> 00:10:05,920
absolutely important to do

290
00:10:05,920 --> 00:10:07,519
they don't happen frequently enough and

291
00:10:07,519 --> 00:10:09,360
unfortunately they're not usually

292
00:10:09,360 --> 00:10:11,120
comprehensive enough now they catch edge

293
00:10:11,120 --> 00:10:13,200
cases which is important

294
00:10:13,200 --> 00:10:15,600
but it's not enough by itself

295
00:10:15,600 --> 00:10:18,320
api gateways i mentioned earlier great

296
00:10:18,320 --> 00:10:20,240
for doing api management they're not

297
00:10:20,240 --> 00:10:22,320
really built for security they can do

298
00:10:22,320 --> 00:10:24,240
things like rate limiting

299
00:10:24,240 --> 00:10:26,160
but they lack the user

300
00:10:26,160 --> 00:10:28,320
behavior the business logic of what's

301
00:10:28,320 --> 00:10:30,959
happening with the apis

302
00:10:30,959 --> 00:10:33,519
and wax and raspberry mentioned also

303
00:10:33,519 --> 00:10:34,959
earlier those are signature based

304
00:10:34,959 --> 00:10:37,680
typically uh and they

305
00:10:37,680 --> 00:10:39,120
maintain they require a lot of

306
00:10:39,120 --> 00:10:40,480
maintenance to keep those signatures up

307
00:10:40,480 --> 00:10:43,040
to date as well as adjusted for the

308
00:10:43,040 --> 00:10:45,120
business object of oh actually they

309
00:10:45,120 --> 00:10:47,120
can't even see the business logic but as

310
00:10:47,120 --> 00:10:48,959
well as adjusting the signatures so they

311
00:10:48,959 --> 00:10:50,480
match the changes in the applications

312
00:10:50,480 --> 00:10:52,079
which are changing more and more

313
00:10:52,079 --> 00:10:53,680
frequently

314
00:10:53,680 --> 00:10:56,079
so important solutions to have but not

315
00:10:56,079 --> 00:10:58,399
enough by themselves

316
00:10:58,399 --> 00:10:59,920
so listing a little bit deeper and kind

317
00:10:59,920 --> 00:11:01,360
of get an inside look i'm like what are

318
00:11:01,360 --> 00:11:03,920
we talking about why why is it different

319
00:11:03,920 --> 00:11:04,880
so

320
00:11:04,880 --> 00:11:06,480
we're not talking about any real

321
00:11:06,480 --> 00:11:07,760
companies here

322
00:11:07,760 --> 00:11:08,720
um

323
00:11:08,720 --> 00:11:11,360
so we have a a company that deals in

324
00:11:11,360 --> 00:11:14,560
automobiles and we'll call them goober

325
00:11:14,560 --> 00:11:16,959
and they had an api data breach

326
00:11:16,959 --> 00:11:19,040
now

327
00:11:19,040 --> 00:11:20,720
what's supposed to happen

328
00:11:20,720 --> 00:11:24,560
in this situation is a new driver that

329
00:11:24,560 --> 00:11:26,880
is joining on a referral can go to a

330
00:11:26,880 --> 00:11:28,399
particular api

331
00:11:28,399 --> 00:11:29,920
and they will get back they want to say

332
00:11:29,920 --> 00:11:31,519
i want to sign up and they'll get back a

333
00:11:31,519 --> 00:11:33,440
user id

334
00:11:33,440 --> 00:11:35,680
now that's generated by the system now

335
00:11:35,680 --> 00:11:38,000
the system is expecting

336
00:11:38,000 --> 00:11:39,760
that

337
00:11:39,760 --> 00:11:41,920
that client is going to now take that id

338
00:11:41,920 --> 00:11:43,760
and make the request back give me the

339
00:11:43,760 --> 00:11:45,519
user object that you've now filled with

340
00:11:45,519 --> 00:11:47,839
all of the data that i've sent you

341
00:11:47,839 --> 00:11:49,200
okay

342
00:11:49,200 --> 00:11:51,120
that's what's supposed to happen one two

343
00:11:51,120 --> 00:11:53,040
three four five

344
00:11:53,040 --> 00:11:55,920
in the attack scenario the attacker will

345
00:11:55,920 --> 00:11:57,600
first authenticate so they are

346
00:11:57,600 --> 00:11:59,680
authenticated to the system

347
00:11:59,680 --> 00:12:02,160
and they will send a properly formed api

348
00:12:02,160 --> 00:12:04,639
call back to the system but they'll ask

349
00:12:04,639 --> 00:12:08,240
for someone else's id 56789 in this case

350
00:12:08,240 --> 00:12:09,760
now if there's a mistake in the

351
00:12:09,760 --> 00:12:12,639
authorization maybe it wasn't written in

352
00:12:12,639 --> 00:12:14,880
uh maybe something is broken

353
00:12:14,880 --> 00:12:16,880
then that api will turn around and say

354
00:12:16,880 --> 00:12:19,680
yep you are authenticated here is the

355
00:12:19,680 --> 00:12:23,519
data object for this user 56789

356
00:12:23,519 --> 00:12:24,639
now

357
00:12:24,639 --> 00:12:25,920
there's two things going on here

358
00:12:25,920 --> 00:12:28,320
actually

359
00:12:28,320 --> 00:12:29,519
what happened

360
00:12:29,519 --> 00:12:33,120
the attacker got access to private data

361
00:12:33,120 --> 00:12:34,880
that are in the in the record that was

362
00:12:34,880 --> 00:12:35,920
sent back

363
00:12:35,920 --> 00:12:37,760
they got authentication tokens which are

364
00:12:37,760 --> 00:12:39,839
also in the record and they were able to

365
00:12:39,839 --> 00:12:41,760
do a full account takeover

366
00:12:41,760 --> 00:12:44,959
would have been is all theoretical now

367
00:12:44,959 --> 00:12:46,880
the two vulnerabilities very common

368
00:12:46,880 --> 00:12:49,040
broken object level authorization

369
00:12:49,040 --> 00:12:51,120
whereas as i described earlier the

370
00:12:51,120 --> 00:12:53,600
person was authenticated the user but

371
00:12:53,600 --> 00:12:55,680
they were not authorized to see somebody

372
00:12:55,680 --> 00:12:57,680
else's record but that authorization

373
00:12:57,680 --> 00:13:00,480
check wasn't done so the object was sent

374
00:13:00,480 --> 00:13:01,279
that

375
00:13:01,279 --> 00:13:03,440
paired with and often commonly with

376
00:13:03,440 --> 00:13:05,920
excessive data exposure now here's where

377
00:13:05,920 --> 00:13:07,839
the api responded with the full json

378
00:13:07,839 --> 00:13:09,360
object for that user with all the

379
00:13:09,360 --> 00:13:11,279
details expecting the client will do the

380
00:13:11,279 --> 00:13:13,360
proper thing and filter out just the

381
00:13:13,360 --> 00:13:15,279
data that it needs and ignore all of the

382
00:13:15,279 --> 00:13:16,560
other data

383
00:13:16,560 --> 00:13:18,959
well it was private data there and the

384
00:13:18,959 --> 00:13:22,399
client was rogue so access

385
00:13:22,399 --> 00:13:23,839
and so this

386
00:13:23,839 --> 00:13:26,320
is an illustration of of some of the

387
00:13:26,320 --> 00:13:28,560
challenges right those are properly

388
00:13:28,560 --> 00:13:31,440
formed api calls they look fine no

389
00:13:31,440 --> 00:13:33,760
problem right um

390
00:13:33,760 --> 00:13:36,320
but it took a system that

391
00:13:36,320 --> 00:13:38,079
or would take a system that could

392
00:13:38,079 --> 00:13:40,720
understand what is the intent what is

393
00:13:40,720 --> 00:13:44,079
the user uh the usual user behavior what

394
00:13:44,079 --> 00:13:47,920
is the usual api behavior uh that if we

395
00:13:47,920 --> 00:13:51,360
see for example an id coming back

396
00:13:51,360 --> 00:13:53,279
into the system that is not the id that

397
00:13:53,279 --> 00:13:56,639
was originally requested um and so

398
00:13:56,639 --> 00:13:58,320
these are things that

399
00:13:58,320 --> 00:14:00,800
many current solutions cannot catch

400
00:14:00,800 --> 00:14:02,800
because they are not built to catch them

401
00:14:02,800 --> 00:14:04,240
so really a new generation of

402
00:14:04,240 --> 00:14:06,800
application architectures has broadened

403
00:14:06,800 --> 00:14:08,880
this new level of attacks

404
00:14:08,880 --> 00:14:09,600
and

405
00:14:09,600 --> 00:14:11,199
you know you may be thinking ah come on

406
00:14:11,199 --> 00:14:12,959
dude people aren't doing this right and

407
00:14:12,959 --> 00:14:15,920
no people developers and folks that are

408
00:14:15,920 --> 00:14:17,680
creating these systems they're not

409
00:14:17,680 --> 00:14:20,160
creating these problems on purpose

410
00:14:20,160 --> 00:14:22,720
right things have gotten more complex we

411
00:14:22,720 --> 00:14:25,199
don't have all the tools to help us

412
00:14:25,199 --> 00:14:27,839
um you may hear things like uh it's an

413
00:14:27,839 --> 00:14:29,760
api from amazon so it's secure right

414
00:14:29,760 --> 00:14:32,959
i'll just use it uh the ipi api sorry

415
00:14:32,959 --> 00:14:35,120
works but i need to modify it right now

416
00:14:35,120 --> 00:14:36,959
in ship so quick little change there

417
00:14:36,959 --> 00:14:39,040
because it's in ours but uh or you know

418
00:14:39,040 --> 00:14:40,880
i'll document that later and then you

419
00:14:40,880 --> 00:14:43,279
know somebody else doesn't doesn't get

420
00:14:43,279 --> 00:14:44,959
what they expect

421
00:14:44,959 --> 00:14:47,120
um you know i need to make a quick api

422
00:14:47,120 --> 00:14:49,199
without designing it don't have time you

423
00:14:49,199 --> 00:14:50,720
know that's where we can make mistakes

424
00:14:50,720 --> 00:14:53,120
like not off the authorizing properly

425
00:14:53,120 --> 00:14:55,920
this is an internal api so i don't need

426
00:14:55,920 --> 00:14:57,600
to do as much checking

427
00:14:57,600 --> 00:15:00,240
right true until it becomes an external

428
00:15:00,240 --> 00:15:02,240
facing api which can happen like that

429
00:15:02,240 --> 00:15:04,000
without realizing it unless something is

430
00:15:04,000 --> 00:15:05,360
watching for that

431
00:15:05,360 --> 00:15:09,120
um and this api gateway uh already

432
00:15:09,120 --> 00:15:11,040
authenticated them right so i don't need

433
00:15:11,040 --> 00:15:12,720
to worry about that as developer because

434
00:15:12,720 --> 00:15:14,880
somebody else is doing that work

435
00:15:14,880 --> 00:15:17,279
better make sure that's true um so these

436
00:15:17,279 --> 00:15:18,880
are kind of some common things that can

437
00:15:18,880 --> 00:15:21,519
lead to these types of issues becoming

438
00:15:21,519 --> 00:15:23,440
prevalent which they are

439
00:15:23,440 --> 00:15:26,240
um and really what this comes to is uh

440
00:15:26,240 --> 00:15:27,360
you know

441
00:15:27,360 --> 00:15:29,360
we've gone through several application

442
00:15:29,360 --> 00:15:31,680
security generations and and uh the

443
00:15:31,680 --> 00:15:34,399
tools keep advancing and really uh what

444
00:15:34,399 --> 00:15:36,639
i'm saying here is that we we we're at

445
00:15:36,639 --> 00:15:37,839
the point where we need the next

446
00:15:37,839 --> 00:15:40,079
generation of tools

447
00:15:40,079 --> 00:15:43,040
the the solutions that need to be api

448
00:15:43,040 --> 00:15:44,000
centric

449
00:15:44,000 --> 00:15:46,480
because they need to understand the api

450
00:15:46,480 --> 00:15:50,000
inventory which ones are more risky

451
00:15:50,000 --> 00:15:51,759
which ones are being changed which ones

452
00:15:51,759 --> 00:15:53,199
are new

453
00:15:53,199 --> 00:15:56,160
and uh and and what's being introduced

454
00:15:56,160 --> 00:15:58,000
versus not which one's flipping external

455
00:15:58,000 --> 00:16:01,519
versus internal um

456
00:16:01,600 --> 00:16:03,519
we need to have uh learning solutions

457
00:16:03,519 --> 00:16:06,399
again previous um uh presenter was

458
00:16:06,399 --> 00:16:09,120
talking about this right uh

459
00:16:09,120 --> 00:16:11,040
from the perspective of the bad guys are

460
00:16:11,040 --> 00:16:13,600
using ai too so they're moving fast yes

461
00:16:13,600 --> 00:16:15,120
that is also true

462
00:16:15,120 --> 00:16:16,480
but even

463
00:16:16,480 --> 00:16:18,160
just looking at the speed with which

464
00:16:18,160 --> 00:16:20,079
we're now developing right with which

465
00:16:20,079 --> 00:16:22,000
we've been unlocked to move because of

466
00:16:22,000 --> 00:16:24,720
microservices and because of apis and

467
00:16:24,720 --> 00:16:27,120
because of devsecops and devops and

468
00:16:27,120 --> 00:16:30,079
whatnot right we are moving faster

469
00:16:30,079 --> 00:16:31,920
applications are changing faster the

470
00:16:31,920 --> 00:16:34,160
apis enable pieces of the application to

471
00:16:34,160 --> 00:16:36,399
change at the same time and the attacks

472
00:16:36,399 --> 00:16:38,639
are changing too quickly for a

473
00:16:38,639 --> 00:16:40,720
rule-based system to keep up which means

474
00:16:40,720 --> 00:16:42,800
you need ai to help

475
00:16:42,800 --> 00:16:43,759
um

476
00:16:43,759 --> 00:16:45,040
you know this

477
00:16:45,040 --> 00:16:46,880
we need a system that has an

478
00:16:46,880 --> 00:16:48,480
understanding of the data flow and the

479
00:16:48,480 --> 00:16:50,959
risk of that data flow because we're not

480
00:16:50,959 --> 00:16:53,040
anymore just sending data from one's

481
00:16:53,040 --> 00:16:54,560
trusted server to another now it's

482
00:16:54,560 --> 00:16:56,079
handing off from microservice to

483
00:16:56,079 --> 00:16:57,839
microservice and getting changed along

484
00:16:57,839 --> 00:16:59,440
the way and

485
00:16:59,440 --> 00:17:01,279
we don't know necessarily the security

486
00:17:01,279 --> 00:17:03,199
of all the downline services unless you

487
00:17:03,199 --> 00:17:05,439
can track it and you can understand the

488
00:17:05,439 --> 00:17:07,599
flow of that data and see when it goes

489
00:17:07,599 --> 00:17:09,919
external or see when it gets handed to a

490
00:17:09,919 --> 00:17:12,640
questionable or risky api

491
00:17:12,640 --> 00:17:15,760
right and it needs to protect and adapt

492
00:17:15,760 --> 00:17:18,400
this tool at the speed of devops because

493
00:17:18,400 --> 00:17:20,799
that's how fast we're moving now um you

494
00:17:20,799 --> 00:17:22,640
know if we're going to have devsecops

495
00:17:22,640 --> 00:17:25,439
and security needs to be able to

496
00:17:25,439 --> 00:17:28,240
adapt as quickly as as new changes are

497
00:17:28,240 --> 00:17:29,360
coming out

498
00:17:29,360 --> 00:17:31,200
um and then there's

499
00:17:31,200 --> 00:17:33,440
last but certainly not least is it needs

500
00:17:33,440 --> 00:17:35,440
to have holistic visibility

501
00:17:35,440 --> 00:17:36,559
and we're going to talk about that a

502
00:17:36,559 --> 00:17:39,679
little bit next why holistic visibility

503
00:17:39,679 --> 00:17:42,320
well the application context is key the

504
00:17:42,320 --> 00:17:45,600
user behavior is key how the apis behave

505
00:17:45,600 --> 00:17:48,880
over time is key uh and so that's you

506
00:17:48,880 --> 00:17:50,720
know an important part of holistic

507
00:17:50,720 --> 00:17:52,559
visibility so i'll switch gears here and

508
00:17:52,559 --> 00:17:55,120
talk for just a second i yeah to pay

509
00:17:55,120 --> 00:17:57,039
this off because it was in the abstract

510
00:17:57,039 --> 00:17:58,840
um you

511
00:17:58,840 --> 00:18:02,080
know deeper we can see the more we can

512
00:18:02,080 --> 00:18:03,280
understand

513
00:18:03,280 --> 00:18:05,120
and the better we can then therefore

514
00:18:05,120 --> 00:18:07,120
protect so if you think about a colonial

515
00:18:07,120 --> 00:18:09,039
doctor a doctor of you know the old

516
00:18:09,039 --> 00:18:11,200
olden days they did external

517
00:18:11,200 --> 00:18:13,280
examinations you know hit the knee look

518
00:18:13,280 --> 00:18:15,600
at the person feel the temperature it's

519
00:18:15,600 --> 00:18:17,679
all external and they did the best they

520
00:18:17,679 --> 00:18:20,720
could with the tools that they had to

521
00:18:20,720 --> 00:18:24,720
diagnose and try and help people okay

522
00:18:24,720 --> 00:18:27,360
but modern medicine knows this as well

523
00:18:27,360 --> 00:18:29,120
that that

524
00:18:29,120 --> 00:18:31,520
the deeper that we can see the more we

525
00:18:31,520 --> 00:18:32,960
can understand and the better we can

526
00:18:32,960 --> 00:18:35,039
protect or heal in this case

527
00:18:35,039 --> 00:18:36,240
and that's why we have tools like

528
00:18:36,240 --> 00:18:39,360
ultrasounds and cat scans and mris

529
00:18:39,360 --> 00:18:42,080
so we can see what's going on inside to

530
00:18:42,080 --> 00:18:44,799
understand and heal better

531
00:18:44,799 --> 00:18:46,240
so what does this look like for an

532
00:18:46,240 --> 00:18:48,240
application

533
00:18:48,240 --> 00:18:51,120
for an application

534
00:18:52,080 --> 00:18:54,160
if we think about it externally we might

535
00:18:54,160 --> 00:18:56,640
have things like uh if we sit on the

536
00:18:56,640 --> 00:19:00,160
outside and watch um the traffic uh we

537
00:19:00,160 --> 00:19:01,919
might have an understanding of like what

538
00:19:01,919 --> 00:19:04,240
devices or who's contacting the identity

539
00:19:04,240 --> 00:19:06,080
like in this case the ip address and

540
00:19:06,080 --> 00:19:08,480
that'll give us a view

541
00:19:08,480 --> 00:19:10,000
you know we will be able to see the edge

542
00:19:10,000 --> 00:19:14,400
api activity the api edge calls

543
00:19:14,400 --> 00:19:15,280
and

544
00:19:15,280 --> 00:19:16,640
the

545
00:19:16,640 --> 00:19:18,480
services the data that's actually going

546
00:19:18,480 --> 00:19:20,720
to external uh services are coming in

547
00:19:20,720 --> 00:19:22,240
from external services will have that

548
00:19:22,240 --> 00:19:24,480
visibility

549
00:19:24,480 --> 00:19:25,520
but now

550
00:19:25,520 --> 00:19:27,520
if we add the internal view

551
00:19:27,520 --> 00:19:30,320
and we extend our visibility

552
00:19:30,320 --> 00:19:32,080
we have roles and permissions we start

553
00:19:32,080 --> 00:19:33,760
understanding more who is supposed to be

554
00:19:33,760 --> 00:19:35,280
able to do what

555
00:19:35,280 --> 00:19:37,760
for example maybe i can send to that api

556
00:19:37,760 --> 00:19:39,440
somebody else's address because i'm an

557
00:19:39,440 --> 00:19:42,480
admin right

558
00:19:42,480 --> 00:19:43,440
we get

559
00:19:43,440 --> 00:19:45,440
better

560
00:19:45,440 --> 00:19:48,320
visibility to the internal api calls and

561
00:19:48,320 --> 00:19:49,840
the sequence of api calls so we can

562
00:19:49,840 --> 00:19:52,240
understand from the user all the way to

563
00:19:52,240 --> 00:19:54,080
the data and back actually what's

564
00:19:54,080 --> 00:19:57,039
happening we can trace the conversation

565
00:19:57,039 --> 00:19:59,039
and we can see where data leaks we can

566
00:19:59,039 --> 00:20:00,720
see where there's a problem

567
00:20:00,720 --> 00:20:03,600
and so data gives us you know seeing

568
00:20:03,600 --> 00:20:06,640
internal view gives us that access

569
00:20:06,640 --> 00:20:08,960
to the internal data flow

570
00:20:08,960 --> 00:20:10,559
and to understanding what happens

571
00:20:10,559 --> 00:20:12,799
between our internal services as well so

572
00:20:12,799 --> 00:20:14,799
we get a more holistic picture and then

573
00:20:14,799 --> 00:20:15,760
finally

574
00:20:15,760 --> 00:20:18,480
being at the code level gives us the

575
00:20:18,480 --> 00:20:20,159
ability to understand the parameters and

576
00:20:20,159 --> 00:20:21,520
how they're being used how they're

577
00:20:21,520 --> 00:20:23,679
changing what's common for them

578
00:20:23,679 --> 00:20:25,360
what is the request response data and

579
00:20:25,360 --> 00:20:27,120
the errors and the latency

580
00:20:27,120 --> 00:20:29,760
that each of them is experiencing so we

581
00:20:29,760 --> 00:20:32,960
get more ability with deeper visibility

582
00:20:32,960 --> 00:20:35,840
to protect

583
00:20:36,559 --> 00:20:39,440
and this is a lot of data so that's

584
00:20:39,440 --> 00:20:42,240
where the ai comes in because this data

585
00:20:42,240 --> 00:20:45,200
should be fed into a security focused ai

586
00:20:45,200 --> 00:20:48,400
and that security focused ai can then

587
00:20:48,400 --> 00:20:49,760
look at all of the data from these

588
00:20:49,760 --> 00:20:52,159
different distributed tracing points

589
00:20:52,159 --> 00:20:54,000
and start

590
00:20:54,000 --> 00:20:56,000
and bringing internal and external

591
00:20:56,000 --> 00:20:57,919
factors together and start getting a

592
00:20:57,919 --> 00:21:00,080
sense of how the api should behave how

593
00:21:00,080 --> 00:21:02,240
the code should behave what's normal

594
00:21:02,240 --> 00:21:04,480
user behavior for this application

595
00:21:04,480 --> 00:21:06,480
what's the risk of the different apis in

596
00:21:06,480 --> 00:21:09,280
the system what's the data behavior what

597
00:21:09,280 --> 00:21:10,720
do we expect that to do what does it

598
00:21:10,720 --> 00:21:12,799
look like typically and which users

599
00:21:12,799 --> 00:21:14,240
quite frankly

600
00:21:14,240 --> 00:21:16,559
should we trust because we're watching

601
00:21:16,559 --> 00:21:20,000
the users right and if we do that

602
00:21:20,000 --> 00:21:22,799
then we have the ability to do all sorts

603
00:21:22,799 --> 00:21:25,120
of protection that's beyond what we can

604
00:21:25,120 --> 00:21:27,840
do if we just are looking at signatures

605
00:21:27,840 --> 00:21:29,760
or if we just have a partial view of

606
00:21:29,760 --> 00:21:32,400
what's happening

607
00:21:34,000 --> 00:21:34,880
so

608
00:21:34,880 --> 00:21:37,520
is this useful for multiple teams yes it

609
00:21:37,520 --> 00:21:39,679
is

610
00:21:39,760 --> 00:21:42,400
many teams with specific needs one team

611
00:21:42,400 --> 00:21:46,000
with specific needs devsec and ops

612
00:21:46,000 --> 00:21:48,000
you know the developer can get better

613
00:21:48,000 --> 00:21:49,280
troubleshooting and find out when

614
00:21:49,280 --> 00:21:51,280
they're going to have risky apis before

615
00:21:51,280 --> 00:21:52,559
they release them

616
00:21:52,559 --> 00:21:55,360
security can keep on top of the changes

617
00:21:55,360 --> 00:21:57,200
and do deep forensics and threat hunting

618
00:21:57,200 --> 00:21:59,679
with the data that gets collected

619
00:21:59,679 --> 00:22:01,360
and ops of course is going to be looking

620
00:22:01,360 --> 00:22:04,320
at performance and management of

621
00:22:04,320 --> 00:22:05,760
compliance checking and auditing and

622
00:22:05,760 --> 00:22:07,440
what on troubleshooting and root cause

623
00:22:07,440 --> 00:22:09,679
analysis and so the more holistic data

624
00:22:09,679 --> 00:22:12,400
we have the better we can protect and

625
00:22:12,400 --> 00:22:14,400
secure our systems especially when it

626
00:22:14,400 --> 00:22:17,440
comes to apis

627
00:22:17,520 --> 00:22:19,280
so again dan gordon um i'm with

628
00:22:19,280 --> 00:22:21,600
traceboyi um

629
00:22:21,600 --> 00:22:23,120
if you want to see a demo check out

630
00:22:23,120 --> 00:22:24,720
chuckle what we've got and sign up you

631
00:22:24,720 --> 00:22:26,400
can get a cool shirt like i happen to be

632
00:22:26,400 --> 00:22:28,000
wearing one um

633
00:22:28,000 --> 00:22:30,000
and uh and or contact me my

634
00:22:30,000 --> 00:22:32,000
information's there i'd love to

635
00:22:32,000 --> 00:22:34,400
talk to you more about it uh and i think

636
00:22:34,400 --> 00:22:35,520
with that i'll

637
00:22:35,520 --> 00:22:39,039
switch over to today

