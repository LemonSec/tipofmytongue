1
00:00:01,140 --> 00:00:05,739
[Music]

2
00:00:07,759 --> 00:00:11,840
so hi everyone and and welcome to the oh

3
00:00:11,840 --> 00:00:12,799
wasp

4
00:00:12,799 --> 00:00:14,799
20th anniversary can't believe it's been

5
00:00:14,799 --> 00:00:17,920
20 years i have obviously not been

6
00:00:17,920 --> 00:00:21,199
around for all of that um i am veronica

7
00:00:21,199 --> 00:00:22,880
otherwise known as bee

8
00:00:22,880 --> 00:00:25,039
the community more knows me as v

9
00:00:25,039 --> 00:00:27,519
and i'm probably that cyborg that is

10
00:00:27,519 --> 00:00:29,760
obsessed with logs

11
00:00:29,760 --> 00:00:32,000
so who am i some of you might not know

12
00:00:32,000 --> 00:00:34,480
me currently i'm an assistant professor

13
00:00:34,480 --> 00:00:36,559
at north university in very cold in

14
00:00:36,559 --> 00:00:37,920
chile norway

15
00:00:37,920 --> 00:00:41,120
i'm also a director at efir labs dealing

16
00:00:41,120 --> 00:00:43,040
specifically with instant response so

17
00:00:43,040 --> 00:00:45,200
when the building kind of burns that's

18
00:00:45,200 --> 00:00:46,879
when i normally come in and try and put

19
00:00:46,879 --> 00:00:49,920
up fires i'm also a security engineer

20
00:00:49,920 --> 00:00:51,760
working with developers with medical

21
00:00:51,760 --> 00:00:53,199
devices

22
00:00:53,199 --> 00:00:56,239
i am a self-professed cyborg and yes ask

23
00:00:56,239 --> 00:00:58,000
me about that in slack and i'll tell you

24
00:00:58,000 --> 00:01:01,359
the story i'm a goon for defcon i also

25
00:01:01,359 --> 00:01:05,360
have a very baby oh wasp project um so i

26
00:01:05,360 --> 00:01:07,439
associate myself with the tags hacker

27
00:01:07,439 --> 00:01:09,760
builder protector for indicator

28
00:01:09,760 --> 00:01:12,560
uh and also the quote that i write may

29
00:01:12,560 --> 00:01:15,280
or may not explode we don't know yet

30
00:01:15,280 --> 00:01:17,600
it's always a possibility

31
00:01:17,600 --> 00:01:20,320
so today i want to take you on a journey

32
00:01:20,320 --> 00:01:23,200
through logs and why i feel that they

33
00:01:23,200 --> 00:01:25,119
are important

34
00:01:25,119 --> 00:01:28,479
um i have been an incident responder for

35
00:01:28,479 --> 00:01:31,200
approximately 12 years i have dealt with

36
00:01:31,200 --> 00:01:33,600
anything from ransomware sensitive data

37
00:01:33,600 --> 00:01:34,880
disclosure

38
00:01:34,880 --> 00:01:36,880
most of the gnarly things that you see

39
00:01:36,880 --> 00:01:39,040
on the owasp top 10

40
00:01:39,040 --> 00:01:40,640
and always

41
00:01:40,640 --> 00:01:42,880
found myself sitting with my hands in my

42
00:01:42,880 --> 00:01:45,280
hair going i wish i had better logs or

43
00:01:45,280 --> 00:01:47,920
you know if i had this event in the logs

44
00:01:47,920 --> 00:01:50,159
we'd have the smoking gun

45
00:01:50,159 --> 00:01:52,640
or i wish i didn't have these verbose

46
00:01:52,640 --> 00:01:53,450
logs

47
00:01:53,450 --> 00:01:54,640
[Music]

48
00:01:54,640 --> 00:01:57,040
and i kind of sat and scratched my head

49
00:01:57,040 --> 00:01:59,040
and thought well how do i make this

50
00:01:59,040 --> 00:02:00,880
better how do i

51
00:02:00,880 --> 00:02:03,360
make my job at the end of the day

52
00:02:03,360 --> 00:02:05,439
wielding my black magic bringing

53
00:02:05,439 --> 00:02:07,200
evidence from nothing or doing root

54
00:02:07,200 --> 00:02:09,199
cause analysis

55
00:02:09,199 --> 00:02:11,360
how do i fix that

56
00:02:11,360 --> 00:02:13,760
and it always i have a saying if nothing

57
00:02:13,760 --> 00:02:15,920
goes right you push left

58
00:02:15,920 --> 00:02:18,000
so i started thinking well surely

59
00:02:18,000 --> 00:02:19,360
there's something that we can do in

60
00:02:19,360 --> 00:02:21,599
development or how we build the software

61
00:02:21,599 --> 00:02:23,520
a whole wee bit built the architecture

62
00:02:23,520 --> 00:02:25,440
of the systems

63
00:02:25,440 --> 00:02:27,680
and i kind of realized that this purple

64
00:02:27,680 --> 00:02:30,000
teamer was out of her depth she didn't

65
00:02:30,000 --> 00:02:32,640
understand the first thing about it at

66
00:02:32,640 --> 00:02:33,840
all

67
00:02:33,840 --> 00:02:36,560
so early on i realized that yeah i was

68
00:02:36,560 --> 00:02:38,800
pretty you know understood the dfir

69
00:02:38,800 --> 00:02:41,440
process i knew where the evidence was i

70
00:02:41,440 --> 00:02:43,840
knew how the logs should look

71
00:02:43,840 --> 00:02:45,760
but i didn't always think like an

72
00:02:45,760 --> 00:02:47,440
attacker and

73
00:02:47,440 --> 00:02:49,599
understand the attack process now the

74
00:02:49,599 --> 00:02:52,239
raid team is the team that always wins

75
00:02:52,239 --> 00:02:55,120
they only need to get in once um and we

76
00:02:55,120 --> 00:02:57,280
have our blue teamers in this

77
00:02:57,280 --> 00:02:59,120
world that i'm gonna paint today that

78
00:02:59,120 --> 00:03:01,680
defends uh they are the ones that have

79
00:03:01,680 --> 00:03:03,360
to keep read out

80
00:03:03,360 --> 00:03:05,599
and then we have the amazing green team

81
00:03:05,599 --> 00:03:07,760
the builders the one that actually is

82
00:03:07,760 --> 00:03:10,159
able to build you know amazing things

83
00:03:10,159 --> 00:03:12,080
from nothing

84
00:03:12,080 --> 00:03:14,800
but i thought to myself well this full

85
00:03:14,800 --> 00:03:17,599
circle made me better at my job

86
00:03:17,599 --> 00:03:20,720
so how can i take what i've learned over

87
00:03:20,720 --> 00:03:23,519
the years and pass it along

88
00:03:23,519 --> 00:03:26,560
i first had to do some research

89
00:03:26,560 --> 00:03:28,879
now my research took me through very

90
00:03:28,879 --> 00:03:30,080
many

91
00:03:30,080 --> 00:03:33,200
rabbit holes bad information

92
00:03:33,200 --> 00:03:35,280
i started learning that there's a lot

93
00:03:35,280 --> 00:03:36,879
more that goes into building

94
00:03:36,879 --> 00:03:39,680
applications building medical devices

95
00:03:39,680 --> 00:03:42,080
manufacturing engineering

96
00:03:42,080 --> 00:03:44,560
debugging fault finding

97
00:03:44,560 --> 00:03:46,959
and i soon realized that if i wanted

98
00:03:46,959 --> 00:03:50,080
better logs i need to influence those

99
00:03:50,080 --> 00:03:51,840
that build them

100
00:03:51,840 --> 00:03:54,319
to think like an attacker

101
00:03:54,319 --> 00:03:56,720
to defend like a blue teamer

102
00:03:56,720 --> 00:03:59,360
to investigate like a green teamer and

103
00:03:59,360 --> 00:04:01,040
be the best

104
00:04:01,040 --> 00:04:02,959
investigate like a purple teamer and be

105
00:04:02,959 --> 00:04:06,959
the best version of green they can be

106
00:04:06,959 --> 00:04:09,920
a friend recommended a set of books that

107
00:04:09,920 --> 00:04:12,000
i think you all know which is the

108
00:04:12,000 --> 00:04:14,879
unicorn project and the phoenix project

109
00:04:14,879 --> 00:04:17,040
and it painted a very familiar way you

110
00:04:17,040 --> 00:04:20,320
know familiar wool that i was part of

111
00:04:20,320 --> 00:04:22,720
being on the operation side of things

112
00:04:22,720 --> 00:04:24,880
always pointing the finger kind of being

113
00:04:24,880 --> 00:04:26,960
you know the bully with the stick well

114
00:04:26,960 --> 00:04:29,919
why didn't you build it more secure

115
00:04:29,919 --> 00:04:32,960
and this kind of showed me that there

116
00:04:32,960 --> 00:04:34,800
are so many processes i didn't

117
00:04:34,800 --> 00:04:36,240
understand

118
00:04:36,240 --> 00:04:38,560
but what stuck with me from these two

119
00:04:38,560 --> 00:04:41,600
books where the five philosophies

120
00:04:41,600 --> 00:04:43,600
they were fairly simple philosophies but

121
00:04:43,600 --> 00:04:47,199
they were well thought out

122
00:04:48,080 --> 00:04:51,199
and these philosophies is what birthed

123
00:04:51,199 --> 00:04:53,759
the five philosophies or the five basic

124
00:04:53,759 --> 00:04:55,520
things when it comes to application

125
00:04:55,520 --> 00:04:57,040
logging that you

126
00:04:57,040 --> 00:04:59,600
should do you should consider

127
00:04:59,600 --> 00:05:03,919
and couldn't inevitably lead to better

128
00:05:03,919 --> 00:05:06,000
forensically ready

129
00:05:06,000 --> 00:05:07,199
logs

130
00:05:07,199 --> 00:05:09,919
now the book describes philosophy one as

131
00:05:09,919 --> 00:05:13,120
locality and simplicity

132
00:05:13,120 --> 00:05:15,199
and sometimes the you know

133
00:05:15,199 --> 00:05:17,280
i find logs that

134
00:05:17,280 --> 00:05:19,919
are very very difficult or not they're

135
00:05:19,919 --> 00:05:22,479
very complex they're not simple so from

136
00:05:22,479 --> 00:05:24,320
philosophy one i took the word

137
00:05:24,320 --> 00:05:27,199
simplicity going back to basics going

138
00:05:27,199 --> 00:05:29,039
back to doing things

139
00:05:29,039 --> 00:05:30,800
um right

140
00:05:30,800 --> 00:05:34,400
from the start but keeping it simple

141
00:05:34,400 --> 00:05:37,919
philosophy two was the ideal of focus

142
00:05:37,919 --> 00:05:39,759
flow and joy

143
00:05:39,759 --> 00:05:42,240
i started interviewing development teams

144
00:05:42,240 --> 00:05:44,639
and developers in particular and asking

145
00:05:44,639 --> 00:05:46,320
them how do you feel about your

146
00:05:46,320 --> 00:05:48,160
application logs

147
00:05:48,160 --> 00:05:51,280
what became glaringly obvious is that

148
00:05:51,280 --> 00:05:52,400
they only

149
00:05:52,400 --> 00:05:54,479
really use their logs when they wanted

150
00:05:54,479 --> 00:05:57,680
to determine why something's not working

151
00:05:57,680 --> 00:06:01,280
so the process of debugging

152
00:06:01,280 --> 00:06:03,360
some of them would say that our logs are

153
00:06:03,360 --> 00:06:06,560
so convoluted and complex i don't really

154
00:06:06,560 --> 00:06:09,280
understand but there's this one guy or

155
00:06:09,280 --> 00:06:11,759
this one lady on our team that

156
00:06:11,759 --> 00:06:15,039
understands our logs

157
00:06:16,000 --> 00:06:17,919
so from here i took

158
00:06:17,919 --> 00:06:22,160
the focus the flow and the joy

159
00:06:22,160 --> 00:06:24,560
as a takeaway there

160
00:06:24,560 --> 00:06:27,039
philosophy three in the books cover

161
00:06:27,039 --> 00:06:29,520
improvement of daily work

162
00:06:29,520 --> 00:06:32,479
so constant improvement we should strive

163
00:06:32,479 --> 00:06:34,720
to be better every day we should strive

164
00:06:34,720 --> 00:06:37,199
to learn every day

165
00:06:37,199 --> 00:06:39,280
and that was a very important thing for

166
00:06:39,280 --> 00:06:42,240
me so the continuous evolvement

167
00:06:42,240 --> 00:06:44,080
which is something that applications

168
00:06:44,080 --> 00:06:46,880
does on a regular basis

169
00:06:46,880 --> 00:06:49,120
philosophy 4 is probably the one that

170
00:06:49,120 --> 00:06:50,880
stood out the most for me being an

171
00:06:50,880 --> 00:06:52,720
incident response

172
00:06:52,720 --> 00:06:54,160
and that is

173
00:06:54,160 --> 00:06:57,199
the psychological safety

174
00:06:57,199 --> 00:06:59,280
now when there is a breach on a mobile

175
00:06:59,280 --> 00:07:01,520
application or in a big organization and

176
00:07:01,520 --> 00:07:03,759
incident response comes in

177
00:07:03,759 --> 00:07:06,160
one of the things that we do as we close

178
00:07:06,160 --> 00:07:09,280
out a scene as a root cause analysis it

179
00:07:09,280 --> 00:07:11,680
is a framed conversation of what did we

180
00:07:11,680 --> 00:07:13,360
do wrong

181
00:07:13,360 --> 00:07:15,520
what do we need to improve and how did

182
00:07:15,520 --> 00:07:18,720
we handle the incident

183
00:07:18,720 --> 00:07:21,599
now i've also realized that much in the

184
00:07:21,599 --> 00:07:24,560
community there is the shame about being

185
00:07:24,560 --> 00:07:26,240
breached your organization's been

186
00:07:26,240 --> 00:07:28,319
breached there's a vulnerability on your

187
00:07:28,319 --> 00:07:31,039
mobile application but that is kind of

188
00:07:31,039 --> 00:07:33,360
to be expected

189
00:07:33,360 --> 00:07:36,160
however where i'm more concerned of is

190
00:07:36,160 --> 00:07:37,680
not the fact that you've been hacked

191
00:07:37,680 --> 00:07:39,599
let's face it we've all been there done

192
00:07:39,599 --> 00:07:42,720
it hidden it under the carpet

193
00:07:42,720 --> 00:07:44,720
but why not acknowledge it and say you

194
00:07:44,720 --> 00:07:46,319
know what we're going to learn from the

195
00:07:46,319 --> 00:07:48,400
process but there is really

196
00:07:48,400 --> 00:07:50,720
psychological safety

197
00:07:50,720 --> 00:07:53,280
for a team to admit that we can do

198
00:07:53,280 --> 00:07:54,800
better

199
00:07:54,800 --> 00:07:59,199
now philosophy 5 is the customer focus

200
00:07:59,199 --> 00:08:02,639
so yes we want more secure devices we

201
00:08:02,639 --> 00:08:06,080
want more secure applications but

202
00:08:06,080 --> 00:08:08,960
is that the functional component or are

203
00:08:08,960 --> 00:08:09,680
we

204
00:08:09,680 --> 00:08:11,599
busy building something for a client

205
00:08:11,599 --> 00:08:14,160
whether it be a patient to use

206
00:08:14,160 --> 00:08:16,400
whether it being a normal user to use on

207
00:08:16,400 --> 00:08:19,280
their mobile phone

208
00:08:19,280 --> 00:08:22,160
it needs to be custom orientated we can

209
00:08:22,160 --> 00:08:24,479
spend years going around trying to make

210
00:08:24,479 --> 00:08:26,639
something as secure as possible

211
00:08:26,639 --> 00:08:29,280
and it might never get to market

212
00:08:29,280 --> 00:08:31,440
now these five philosophies brought

213
00:08:31,440 --> 00:08:33,519
about by gene kim and this book is

214
00:08:33,519 --> 00:08:35,839
something that i have been living by for

215
00:08:35,839 --> 00:08:38,640
the last year

216
00:08:38,640 --> 00:08:40,399
has given me inspiration

217
00:08:40,399 --> 00:08:43,360
to create the five logging philosophies

218
00:08:43,360 --> 00:08:46,000
now i did not develop these on my own i

219
00:08:46,000 --> 00:08:49,680
had amazing amazing developers um from

220
00:08:49,680 --> 00:08:51,440
various organizations that have given

221
00:08:51,440 --> 00:08:54,399
input to these

222
00:08:54,399 --> 00:08:56,560
so what that i would like to introduce

223
00:08:56,560 --> 00:08:58,800
was to my from an incident response

224
00:08:58,800 --> 00:09:01,120
perspective a security perspective as

225
00:09:01,120 --> 00:09:03,120
well as someone that is

226
00:09:03,120 --> 00:09:05,839
really carrying development at heart

227
00:09:05,839 --> 00:09:07,680
what my five

228
00:09:07,680 --> 00:09:09,920
simple philosophies are

229
00:09:09,920 --> 00:09:12,800
philosophy one again as we discussed it

230
00:09:12,800 --> 00:09:14,959
is keep it simple

231
00:09:14,959 --> 00:09:18,240
keep it clean and detailed enough

232
00:09:18,240 --> 00:09:21,279
now always i get the argument but we

233
00:09:21,279 --> 00:09:24,000
need the information to debug

234
00:09:24,000 --> 00:09:27,440
and i agree we need information to debug

235
00:09:27,440 --> 00:09:30,560
but there are options to have a debug

236
00:09:30,560 --> 00:09:33,600
log that potentially could be encrypted

237
00:09:33,600 --> 00:09:35,839
that doesn't necessarily have to be in

238
00:09:35,839 --> 00:09:39,040
plain text or accessible

239
00:09:39,040 --> 00:09:42,000
but keep it simple keep it clean and

240
00:09:42,000 --> 00:09:44,720
have just enough detail

241
00:09:44,720 --> 00:09:47,040
there's been countless times that i've

242
00:09:47,040 --> 00:09:49,279
gone through log analysis whether during

243
00:09:49,279 --> 00:09:51,519
a breach or during this project that

244
00:09:51,519 --> 00:09:52,880
i've been running

245
00:09:52,880 --> 00:09:56,000
where i find app keys and secrets that

246
00:09:56,000 --> 00:09:59,279
i've found their way into logs

247
00:09:59,279 --> 00:10:02,160
i've seen print bodies containing

248
00:10:02,160 --> 00:10:04,720
information that potentially is

249
00:10:04,720 --> 00:10:06,480
sensitive

250
00:10:06,480 --> 00:10:09,200
i have a simple rule in life is that

251
00:10:09,200 --> 00:10:12,240
whatever you put in your application log

252
00:10:12,240 --> 00:10:14,320
you should consider to be public

253
00:10:14,320 --> 00:10:16,640
knowledge

254
00:10:16,640 --> 00:10:17,440
now

255
00:10:17,440 --> 00:10:21,040
keeping it clean is meaning

256
00:10:21,040 --> 00:10:23,560
that when you produce code it

257
00:10:23,560 --> 00:10:27,279
automatically runs into your logs

258
00:10:27,279 --> 00:10:30,079
and we should be doing log maintenance

259
00:10:30,079 --> 00:10:32,560
but i'll get to that in just a little

260
00:10:32,560 --> 00:10:33,760
bit

261
00:10:33,760 --> 00:10:36,560
now philosophy 2 is one of my favorite

262
00:10:36,560 --> 00:10:37,600
ones

263
00:10:37,600 --> 00:10:40,079
now it says keep it tagged create

264
00:10:40,079 --> 00:10:42,480
metadata and use it

265
00:10:42,480 --> 00:10:45,519
so what do i mean with keep it tagged

266
00:10:45,519 --> 00:10:47,279
well again you're going to hear a lot

267
00:10:47,279 --> 00:10:49,920
about sensitive data disclosure in this

268
00:10:49,920 --> 00:10:52,240
talk because it always

269
00:10:52,240 --> 00:10:54,560
happens within the logs

270
00:10:54,560 --> 00:10:57,200
we don't really know what information is

271
00:10:57,200 --> 00:10:59,360
in our logs because we don't check them

272
00:10:59,360 --> 00:11:01,760
proactively

273
00:11:01,760 --> 00:11:04,079
apple does an amazing thing in their

274
00:11:04,079 --> 00:11:06,240
logger that they use

275
00:11:06,240 --> 00:11:08,240
where they date a tag

276
00:11:08,240 --> 00:11:11,120
so if they have certain strings like

277
00:11:11,120 --> 00:11:13,760
phi health information

278
00:11:13,760 --> 00:11:16,399
personal identifiable information

279
00:11:16,399 --> 00:11:18,959
app keys and secrets they tag it

280
00:11:18,959 --> 00:11:20,800
appropriately

281
00:11:20,800 --> 00:11:23,440
within the code they then build in the

282
00:11:23,440 --> 00:11:26,640
controls to dictate what happens with

283
00:11:26,640 --> 00:11:29,120
that information

284
00:11:29,120 --> 00:11:31,279
now that is one way to deal with

285
00:11:31,279 --> 00:11:34,000
accidental disclosure

286
00:11:34,000 --> 00:11:36,560
how often have you sat and then you get

287
00:11:36,560 --> 00:11:39,040
called in ironically over christmas

288
00:11:39,040 --> 00:11:39,839
saying

289
00:11:39,839 --> 00:11:41,760
you know we've got information that has

290
00:11:41,760 --> 00:11:43,360
been leaked

291
00:11:43,360 --> 00:11:46,000
in logs for me it's been the last 12

292
00:11:46,000 --> 00:11:47,839
years almost every christmas or new

293
00:11:47,839 --> 00:11:49,920
year's

294
00:11:49,920 --> 00:11:52,160
now metadata in digital forensics and

295
00:11:52,160 --> 00:11:54,560
incident response is fairly an important

296
00:11:54,560 --> 00:11:58,399
component it's information about a file

297
00:11:58,399 --> 00:12:00,480
but more so than that it's information

298
00:12:00,480 --> 00:12:02,079
about a process

299
00:12:02,079 --> 00:12:04,800
it's information about your workflow

300
00:12:04,800 --> 00:12:07,680
now in terms of why we like seeing that

301
00:12:07,680 --> 00:12:11,120
information is we are able to identify

302
00:12:11,120 --> 00:12:14,079
what the normal process should be

303
00:12:14,079 --> 00:12:16,560
metadata also tells us more about the

304
00:12:16,560 --> 00:12:18,320
process that's ongoing in your

305
00:12:18,320 --> 00:12:20,399
application

306
00:12:20,399 --> 00:12:23,519
so create the metadata and use it and

307
00:12:23,519 --> 00:12:26,160
tag your sensitive data so that you can

308
00:12:26,160 --> 00:12:28,800
build in the appropriate controls to

309
00:12:28,800 --> 00:12:31,519
deal with them

310
00:12:31,760 --> 00:12:34,079
now philosophy three is keep it cleaned

311
00:12:34,079 --> 00:12:36,079
and focused now it's obviously the

312
00:12:36,079 --> 00:12:38,160
second time that i've said cleaned and

313
00:12:38,160 --> 00:12:41,120
i've mentioned focused before

314
00:12:41,120 --> 00:12:44,160
we all know the dreaded thing called

315
00:12:44,160 --> 00:12:47,040
technical debt it is that one component

316
00:12:47,040 --> 00:12:48,639
that you don't want to deal with you

317
00:12:48,639 --> 00:12:50,639
pretend doesn't exist and you hope

318
00:12:50,639 --> 00:12:52,720
someone else will deal with

319
00:12:52,720 --> 00:12:56,959
well logging debt is a real problem

320
00:12:56,959 --> 00:13:00,079
we run in sprint cycles where we update

321
00:13:00,079 --> 00:13:01,360
code

322
00:13:01,360 --> 00:13:04,399
but as our application grows evolves and

323
00:13:04,399 --> 00:13:07,120
change do we make sure that legacy

324
00:13:07,120 --> 00:13:10,880
information isn't still within logs

325
00:13:10,880 --> 00:13:13,120
we've had instances where the logs have

326
00:13:13,120 --> 00:13:16,399
become verbose become difficult to read

327
00:13:16,399 --> 00:13:19,680
and just convoluted in general

328
00:13:19,680 --> 00:13:22,000
and identified that it was a legacy

329
00:13:22,000 --> 00:13:25,120
component that was you know doing 64 to

330
00:13:25,120 --> 00:13:26,639
80 lines

331
00:13:26,639 --> 00:13:28,880
of events per

332
00:13:28,880 --> 00:13:31,120
time that it triggers

333
00:13:31,120 --> 00:13:33,920
and that takes up space but more so than

334
00:13:33,920 --> 00:13:36,240
that sometimes we deal with an instance

335
00:13:36,240 --> 00:13:39,040
where we do first in first out because

336
00:13:39,040 --> 00:13:42,560
data constraints is a real problem

337
00:13:42,560 --> 00:13:46,480
well what if your logs are so so verbose

338
00:13:46,480 --> 00:13:48,480
that you are overriding

339
00:13:48,480 --> 00:13:49,839
overwriting

340
00:13:49,839 --> 00:13:53,120
relevant information or events

341
00:13:53,120 --> 00:13:55,120
that have taken place that could have

342
00:13:55,120 --> 00:13:59,360
triggered in a security situation

343
00:14:00,560 --> 00:14:03,920
keep it clean keep it focused one way

344
00:14:03,920 --> 00:14:06,720
that we do this a lot in this project is

345
00:14:06,720 --> 00:14:10,560
by actually having a set percentage set

346
00:14:10,560 --> 00:14:13,040
to working on the logs every sprint

347
00:14:13,040 --> 00:14:15,519
cycle we do one thing on the backlog

348
00:14:15,519 --> 00:14:17,040
with logs

349
00:14:17,040 --> 00:14:19,199
we deal with one problem at a time and

350
00:14:19,199 --> 00:14:21,440
within a year you see your whole logs

351
00:14:21,440 --> 00:14:24,160
transform

352
00:14:24,160 --> 00:14:27,519
philosophy 4 is my favorite one and i

353
00:14:27,519 --> 00:14:29,440
think i've said that about every one but

354
00:14:29,440 --> 00:14:31,120
assume at some point you will be

355
00:14:31,120 --> 00:14:34,160
compromised and log accordingly

356
00:14:34,160 --> 00:14:36,079
and this is where the workflow approach

357
00:14:36,079 --> 00:14:37,440
comes in

358
00:14:37,440 --> 00:14:39,519
there is nothing nicer for an incident

359
00:14:39,519 --> 00:14:41,600
responder or developer that's trying to

360
00:14:41,600 --> 00:14:43,600
debug something that's gone wrong if

361
00:14:43,600 --> 00:14:45,440
they can see the sequence of the

362
00:14:45,440 --> 00:14:47,600
workflow

363
00:14:47,600 --> 00:14:51,199
now when we see that deviation happen

364
00:14:51,199 --> 00:14:53,600
we know that something's gone wrong

365
00:14:53,600 --> 00:14:55,760
the sans institute has a very good

366
00:14:55,760 --> 00:15:00,480
saying called no normal to no evil

367
00:15:00,480 --> 00:15:02,560
so you need to understand what your

368
00:15:02,560 --> 00:15:04,959
normal natural workflow should be and

369
00:15:04,959 --> 00:15:07,279
any deviations from that in the log

370
00:15:07,279 --> 00:15:08,639
should indicate that something's

371
00:15:08,639 --> 00:15:10,000
happened

372
00:15:10,000 --> 00:15:12,079
one thing that i don't often see in

373
00:15:12,079 --> 00:15:14,399
mobile application logs is the first you

374
00:15:14,399 --> 00:15:16,480
know the ability to tell that someone's

375
00:15:16,480 --> 00:15:18,560
tampered with the logs

376
00:15:18,560 --> 00:15:21,199
we do get something called log injection

377
00:15:21,199 --> 00:15:24,320
attacks or where events are overwritten

378
00:15:24,320 --> 00:15:26,399
or logs are scrubbed

379
00:15:26,399 --> 00:15:28,800
if logs are scrubbed and we you know the

380
00:15:28,800 --> 00:15:30,959
indication of an empty log tells us

381
00:15:30,959 --> 00:15:32,480
something's gone wrong

382
00:15:32,480 --> 00:15:34,560
but it doesn't tell us the extent of

383
00:15:34,560 --> 00:15:36,480
what's gone wrong

384
00:15:36,480 --> 00:15:38,880
now there are some operating systems

385
00:15:38,880 --> 00:15:41,279
that employ a very good way of

386
00:15:41,279 --> 00:15:43,759
triggering different events if the logs

387
00:15:43,759 --> 00:15:45,680
have been cleaned

388
00:15:45,680 --> 00:15:48,240
so thinking about

389
00:15:48,240 --> 00:15:51,040
how you will be compromised or where you

390
00:15:51,040 --> 00:15:52,639
are vulnerable

391
00:15:52,639 --> 00:15:54,880
allows you to develop robust logging

392
00:15:54,880 --> 00:15:57,040
around a component that is potentially

393
00:15:57,040 --> 00:15:58,079
flawed

394
00:15:58,079 --> 00:16:01,199
if you for example know that you can

395
00:16:01,199 --> 00:16:03,759
suffer from bluetooth like events

396
00:16:03,759 --> 00:16:05,279
or attacks

397
00:16:05,279 --> 00:16:07,600
why not log around that and make it

398
00:16:07,600 --> 00:16:10,079
robust so that you have events to

399
00:16:10,079 --> 00:16:12,959
monitor that it's taken place

400
00:16:12,959 --> 00:16:15,279
it's all about thinking what potentially

401
00:16:15,279 --> 00:16:17,199
can give you a clue

402
00:16:17,199 --> 00:16:18,959
that someone's misbehaving on your

403
00:16:18,959 --> 00:16:21,519
application

404
00:16:21,519 --> 00:16:24,639
now philosophy five for me is one of

405
00:16:24,639 --> 00:16:25,759
those

406
00:16:25,759 --> 00:16:28,079
that when i discuss this with developers

407
00:16:28,079 --> 00:16:29,680
it's not one that's considered and this

408
00:16:29,680 --> 00:16:31,199
is specifically

409
00:16:31,199 --> 00:16:33,440
where your application runs on someone

410
00:16:33,440 --> 00:16:36,240
else's device so consider who has access

411
00:16:36,240 --> 00:16:37,360
to logs

412
00:16:37,360 --> 00:16:39,040
how they are stored and how they are

413
00:16:39,040 --> 00:16:41,040
transported

414
00:16:41,040 --> 00:16:42,800
now in digital forensics and incident

415
00:16:42,800 --> 00:16:44,560
response we talk about the la carte

416
00:16:44,560 --> 00:16:47,040
process we say that if two things come

417
00:16:47,040 --> 00:16:49,199
into connection with each other trace

418
00:16:49,199 --> 00:16:51,839
evidence left behind

419
00:16:51,839 --> 00:16:54,320
but i also say that we should consider

420
00:16:54,320 --> 00:16:57,680
that our application runs on

421
00:16:57,680 --> 00:17:00,800
a device that's behind enemy lines

422
00:17:00,800 --> 00:17:03,199
so we need to have ways to

423
00:17:03,199 --> 00:17:05,199
check the integrity of the contents of

424
00:17:05,199 --> 00:17:06,559
the logs

425
00:17:06,559 --> 00:17:09,919
we need to ensure that the information

426
00:17:09,919 --> 00:17:13,280
in perhaps a deeper debug level log that

427
00:17:13,280 --> 00:17:16,079
contains more sensitive natures perhaps

428
00:17:16,079 --> 00:17:18,079
encrypted

429
00:17:18,079 --> 00:17:21,599
and i know ios runs in its own sandbox

430
00:17:21,599 --> 00:17:23,199
environment and there are different

431
00:17:23,199 --> 00:17:25,439
things that you can do but consider this

432
00:17:25,439 --> 00:17:27,439
in digital forensics

433
00:17:27,439 --> 00:17:30,799
we take physical acquisitions of devices

434
00:17:30,799 --> 00:17:33,600
to access that information so it doesn't

435
00:17:33,600 --> 00:17:35,440
necessarily mean that it's that it's

436
00:17:35,440 --> 00:17:36,640
safe

437
00:17:36,640 --> 00:17:39,120
so you need to consider that your

438
00:17:39,120 --> 00:17:41,200
application is running on a device that

439
00:17:41,200 --> 00:17:44,559
is potentially hostile

440
00:17:44,640 --> 00:17:46,960
i want to reiterate that all

441
00:17:46,960 --> 00:17:49,360
roads lead to the logs and i'm going to

442
00:17:49,360 --> 00:17:51,200
pose a question that i want you to think

443
00:17:51,200 --> 00:17:52,880
about and i am going to give you the

444
00:17:52,880 --> 00:17:55,039
answer here

445
00:17:55,039 --> 00:17:57,679
we all do incident response

446
00:17:57,679 --> 00:17:59,360
whether you blue team

447
00:17:59,360 --> 00:18:01,360
whether you rate team whether they're

448
00:18:01,360 --> 00:18:03,360
euphorical team or green team

449
00:18:03,360 --> 00:18:06,080
we do incident response we all look at

450
00:18:06,080 --> 00:18:08,960
the logs from different perspectives

451
00:18:08,960 --> 00:18:11,120
the red team for example will look at

452
00:18:11,120 --> 00:18:13,360
their logs or logs that they've obtained

453
00:18:13,360 --> 00:18:15,440
to see how much information they can

454
00:18:15,440 --> 00:18:17,360
gather about how you were how your

455
00:18:17,360 --> 00:18:19,520
application works how it authenticates

456
00:18:19,520 --> 00:18:21,600
how they could potentially coming in

457
00:18:21,600 --> 00:18:24,160
it's it's low hanging fruit

458
00:18:24,160 --> 00:18:26,320
then you get blue team that look at logs

459
00:18:26,320 --> 00:18:28,400
to you know tell them that something's

460
00:18:28,400 --> 00:18:30,080
gone wrong or that something's busy

461
00:18:30,080 --> 00:18:31,600
going wrong

462
00:18:31,600 --> 00:18:33,520
we have our amazing green team that

463
00:18:33,520 --> 00:18:35,840
looks at logs to find why something's

464
00:18:35,840 --> 00:18:37,679
not working

465
00:18:37,679 --> 00:18:39,840
and purple team when we do incident

466
00:18:39,840 --> 00:18:42,720
response it means that red has broken in

467
00:18:42,720 --> 00:18:45,120
blue's been unable to stop them

468
00:18:45,120 --> 00:18:47,840
and something has gone wrong but that is

469
00:18:47,840 --> 00:18:51,280
a little too late to fix anything we

470
00:18:51,280 --> 00:18:53,679
simply can advise on what to do better

471
00:18:53,679 --> 00:18:55,360
in future

472
00:18:55,360 --> 00:18:58,000
so we all do incident response

473
00:18:58,000 --> 00:19:00,000
whether it's field investigations

474
00:19:00,000 --> 00:19:02,240
whether it's reconnaissance whether it's

475
00:19:02,240 --> 00:19:03,679
defending

476
00:19:03,679 --> 00:19:05,760
it is just the perspective of what we

477
00:19:05,760 --> 00:19:10,160
need to get from the logs that differ

478
00:19:10,160 --> 00:19:12,720
no talk would be um

479
00:19:12,720 --> 00:19:15,200
worthwhile without some very wise words

480
00:19:15,200 --> 00:19:17,360
and not necessarily from me

481
00:19:17,360 --> 00:19:19,280
uncle bob who you all should know if you

482
00:19:19,280 --> 00:19:21,760
don't google him writes amazing books he

483
00:19:21,760 --> 00:19:24,080
gives amazing talks but he says be kind

484
00:19:24,080 --> 00:19:27,280
to your future self when writing code

485
00:19:27,280 --> 00:19:30,080
i take it a little bit further be kind

486
00:19:30,080 --> 00:19:33,120
to your future for indicator inevitably

487
00:19:33,120 --> 00:19:35,679
we will be reading your logs

488
00:19:35,679 --> 00:19:37,280
make them

489
00:19:37,280 --> 00:19:39,679
you know easily understandable make us

490
00:19:39,679 --> 00:19:41,840
understand your workflow

491
00:19:41,840 --> 00:19:45,760
have a standard have a structure

492
00:19:46,400 --> 00:19:48,880
what i can tell you is your logs tell me

493
00:19:48,880 --> 00:19:53,799
a lot about your code and your team

494
00:19:54,160 --> 00:19:56,799
if you only take away one paragraph

495
00:19:56,799 --> 00:19:59,039
today it should be your logs should be

496
00:19:59,039 --> 00:20:00,160
simple

497
00:20:00,160 --> 00:20:03,280
structured which is super important

498
00:20:03,280 --> 00:20:06,000
they should contain also enough

499
00:20:06,000 --> 00:20:08,320
information without disclosing any of

500
00:20:08,320 --> 00:20:10,480
your sensitive data

501
00:20:10,480 --> 00:20:13,039
often accidental information disclosure

502
00:20:13,039 --> 00:20:15,120
happens within the logs and that

503
00:20:15,120 --> 00:20:17,200
actually potentially opens you to future

504
00:20:17,200 --> 00:20:19,360
breaches

505
00:20:19,360 --> 00:20:21,919
now those are the five philosophies

506
00:20:21,919 --> 00:20:24,000
but where do they fit in

507
00:20:24,000 --> 00:20:26,320
there is an owasp project called the

508
00:20:26,320 --> 00:20:28,880
secure logging benchmark meaning that

509
00:20:28,880 --> 00:20:30,480
there is a

510
00:20:30,480 --> 00:20:33,760
spreadsheet that is based upon security

511
00:20:33,760 --> 00:20:36,159
controls translated into events that

512
00:20:36,159 --> 00:20:39,039
include debugging privacy

513
00:20:39,039 --> 00:20:41,200
now it's very much in its infancy but

514
00:20:41,200 --> 00:20:43,760
it's looking to standardize our approach

515
00:20:43,760 --> 00:20:45,120
to logging

516
00:20:45,120 --> 00:20:48,880
our terminology that we use even our log

517
00:20:48,880 --> 00:20:50,640
levels one of the things that i've

518
00:20:50,640 --> 00:20:52,480
noticed speaking to different teams

519
00:20:52,480 --> 00:20:53,840
within

520
00:20:53,840 --> 00:20:55,919
the same organization is our

521
00:20:55,919 --> 00:20:59,120
understanding of the log levels differ

522
00:20:59,120 --> 00:21:00,960
and what they mean and what they should

523
00:21:00,960 --> 00:21:03,200
be assigned to

524
00:21:03,200 --> 00:21:05,919
introducing event categories within your

525
00:21:05,919 --> 00:21:08,799
logs is a very easy way for you to

526
00:21:08,799 --> 00:21:11,960
identify whether a component of code is

527
00:21:11,960 --> 00:21:15,760
misbehaving or giving errors an example

528
00:21:15,760 --> 00:21:18,159
of this is on logs that we've made those

529
00:21:18,159 --> 00:21:20,559
changes with we saw an influx of

530
00:21:20,559 --> 00:21:22,720
specific things happening across a

531
00:21:22,720 --> 00:21:25,600
certain category that category was

532
00:21:25,600 --> 00:21:28,240
linked to a specific portion of code

533
00:21:28,240 --> 00:21:30,720
and they were easily able to follow the

534
00:21:30,720 --> 00:21:33,280
steps back and find where the problem

535
00:21:33,280 --> 00:21:34,480
was

536
00:21:34,480 --> 00:21:36,640
as well as this project helps you deal

537
00:21:36,640 --> 00:21:39,039
with classification of data

538
00:21:39,039 --> 00:21:41,440
so a standard understanding of what's

539
00:21:41,440 --> 00:21:43,600
private sensitive

540
00:21:43,600 --> 00:21:45,679
what should be confidential and what are

541
00:21:45,679 --> 00:21:48,559
some ways you can deal with them

542
00:21:48,559 --> 00:21:50,559
it helps you with the structure to your

543
00:21:50,559 --> 00:21:52,159
logs

544
00:21:52,159 --> 00:21:54,480
it also helps you with the content

545
00:21:54,480 --> 00:21:56,080
and identifying where you've got

546
00:21:56,080 --> 00:21:59,760
weaknesses so that you can fix it

547
00:21:59,760 --> 00:22:02,000
event writing is something that should

548
00:22:02,000 --> 00:22:04,240
be happening right in the beginning i

549
00:22:04,240 --> 00:22:06,400
always say logging should be a feature

550
00:22:06,400 --> 00:22:09,120
not a byproduct of code

551
00:22:09,120 --> 00:22:11,760
but this project aims to actually help

552
00:22:11,760 --> 00:22:14,320
you build in forensic readiness the

553
00:22:14,320 --> 00:22:17,200
ability to detect and the ability to

554
00:22:17,200 --> 00:22:18,799
investigate

555
00:22:18,799 --> 00:22:20,880
it also gives you some plans on dealing

556
00:22:20,880 --> 00:22:22,720
with log hygiene

557
00:22:22,720 --> 00:22:24,720
soon i will be publishing two weeks

558
00:22:24,720 --> 00:22:26,880
worth of training material specifically

559
00:22:26,880 --> 00:22:28,320
that you can take and you can have in

560
00:22:28,320 --> 00:22:29,919
your organization

561
00:22:29,919 --> 00:22:32,799
as well as a guide to help you

562
00:22:32,799 --> 00:22:35,360
apply these principles within your

563
00:22:35,360 --> 00:22:37,840
development framework

564
00:22:37,840 --> 00:22:39,280
now

565
00:22:39,280 --> 00:22:41,440
if you feel very much overwhelmed with

566
00:22:41,440 --> 00:22:44,640
logging and you really need help

567
00:22:44,640 --> 00:22:47,520
i also offer my time free of charge to

568
00:22:47,520 --> 00:22:49,760
teams to help them become passionate

569
00:22:49,760 --> 00:22:51,679
about logs

570
00:22:51,679 --> 00:22:54,400
i love logs you should love vlogs and

571
00:22:54,400 --> 00:22:57,120
they should become your friend

572
00:22:57,120 --> 00:22:59,760
if you want to have a read more about

573
00:22:59,760 --> 00:23:01,760
what we are doing on the project get

574
00:23:01,760 --> 00:23:03,440
involved

575
00:23:03,440 --> 00:23:06,320
please feel free to either hit me up on

576
00:23:06,320 --> 00:23:07,760
twitter

577
00:23:07,760 --> 00:23:09,039
find me

578
00:23:09,039 --> 00:23:11,600
on the os project page

579
00:23:11,600 --> 00:23:13,919
and join me in building an army of

580
00:23:13,919 --> 00:23:16,559
forensic coding ninjas so that we can

581
00:23:16,559 --> 00:23:21,639
have better logs to do incident response

582
00:23:22,799 --> 00:23:24,879
you

