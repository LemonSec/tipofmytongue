1
00:00:01,410 --> 00:00:06,030
[Music]

2
00:00:08,559 --> 00:00:10,960
excellent all right hello everybody i

3
00:00:10,960 --> 00:00:13,679
hope that we're doing great um i know

4
00:00:13,679 --> 00:00:16,560
it's probably been 19 hours or so people

5
00:00:16,560 --> 00:00:20,160
watching talks so far so

6
00:00:20,160 --> 00:00:22,560
um hey so i'm cole i've already had a

7
00:00:22,560 --> 00:00:24,640
bit of an intro i also recently started

8
00:00:24,640 --> 00:00:26,400
my own company but we're not here to

9
00:00:26,400 --> 00:00:28,080
talk about that we're here to talk about

10
00:00:28,080 --> 00:00:29,679
some fun stuff

11
00:00:29,679 --> 00:00:32,000
basics right so

12
00:00:32,000 --> 00:00:36,079
why talk on basics it's so awesome right

13
00:00:36,079 --> 00:00:38,239
i i figured that we have like

14
00:00:38,239 --> 00:00:40,640
probably a thousand talks beforehand

15
00:00:40,640 --> 00:00:43,280
they're all focused on really technical

16
00:00:43,280 --> 00:00:47,200
topics whether it's flagship um

17
00:00:47,200 --> 00:00:50,000
things or artificial intelligence or

18
00:00:50,000 --> 00:00:52,160
developer education

19
00:00:52,160 --> 00:00:54,160
heaps of geniuses before me have talked

20
00:00:54,160 --> 00:00:55,680
about lots of stuff and i know it's late

21
00:00:55,680 --> 00:00:57,199
in the day for all you folk in the u.s

22
00:00:57,199 --> 00:00:58,640
so i thought we'd

23
00:00:58,640 --> 00:01:00,879
cover something a little bit easier

24
00:01:00,879 --> 00:01:03,760
let's go to the basics right so

25
00:01:03,760 --> 00:01:06,640
you know you remember the days when

26
00:01:06,640 --> 00:01:08,479
you're told that computer science is

27
00:01:08,479 --> 00:01:10,880
where you do science but you kind of got

28
00:01:10,880 --> 00:01:13,200
computers it's like nothing like this at

29
00:01:13,200 --> 00:01:14,560
all

30
00:01:14,560 --> 00:01:16,960
we sit there we learn the good things we

31
00:01:16,960 --> 00:01:18,159
smile

32
00:01:18,159 --> 00:01:19,920
we giggle to each other

33
00:01:19,920 --> 00:01:22,159
afterwards we head over to the pub after

34
00:01:22,159 --> 00:01:24,640
like two hours of hard riveting lectures

35
00:01:24,640 --> 00:01:27,280
about algorithmic complexity play some

36
00:01:27,280 --> 00:01:29,280
beer pong and then uh

37
00:01:29,280 --> 00:01:31,280
i think um that's that's like my

38
00:01:31,280 --> 00:01:33,920
recollection of what university kind of

39
00:01:33,920 --> 00:01:34,720
was

40
00:01:34,720 --> 00:01:36,960
but it's probably more like this

41
00:01:36,960 --> 00:01:40,000
actually and i think

42
00:01:40,000 --> 00:01:42,399
you know i was coding beautiful menus

43
00:01:42,399 --> 00:01:44,880
like this to to help us

44
00:01:44,880 --> 00:01:47,200
um achieve our assignment goals right

45
00:01:47,200 --> 00:01:48,240
and

46
00:01:48,240 --> 00:01:50,479
like it could have just as easily

47
00:01:50,479 --> 00:01:52,560
have been blocked out

48
00:01:52,560 --> 00:01:55,280
by this but i'm sure that we've all been

49
00:01:55,280 --> 00:01:57,200
in this situation before right where

50
00:01:57,200 --> 00:01:59,759
we've all been coding if menu equals one

51
00:01:59,759 --> 00:02:04,240
if item equals one if value equals pizza

52
00:02:04,240 --> 00:02:06,960
terrible terrible code

53
00:02:06,960 --> 00:02:09,598
so what i want to cover this talk is

54
00:02:09,598 --> 00:02:12,000
literally basics so very simple things

55
00:02:12,000 --> 00:02:13,440
stuff that you want to learn very early

56
00:02:13,440 --> 00:02:16,080
on in your careers

57
00:02:16,080 --> 00:02:17,120
because

58
00:02:17,120 --> 00:02:18,720
doing your basics well

59
00:02:18,720 --> 00:02:21,840
leads to more secure code

60
00:02:21,840 --> 00:02:24,319
going to give a shout out to uh reddit

61
00:02:24,319 --> 00:02:26,800
the subreddit bad code because i found

62
00:02:26,800 --> 00:02:29,280
lots of great examples there so i hope

63
00:02:29,280 --> 00:02:31,599
you're gonna have a bit of fun here

64
00:02:31,599 --> 00:02:33,519
all right so first thing we need to do

65
00:02:33,519 --> 00:02:36,879
is have clarity

66
00:02:36,879 --> 00:02:40,480
high dive into frozen waves of the past

67
00:02:40,480 --> 00:02:43,840
comes back to life

68
00:02:43,840 --> 00:02:46,319
so unless it's it's pretty clear

69
00:02:46,319 --> 00:02:48,879
i can't sing right that was clear but

70
00:02:48,879 --> 00:02:50,879
you know it's not clear this code i

71
00:02:50,879 --> 00:02:53,040
don't know what's going on here

72
00:02:53,040 --> 00:02:54,720
oh this like

73
00:02:54,720 --> 00:02:56,879
what what is this chess chess game i

74
00:02:56,879 --> 00:02:58,480
think

75
00:02:58,480 --> 00:03:01,920
and then you get stuff like this it's uh

76
00:03:01,920 --> 00:03:05,360
absolutely amazing right but also

77
00:03:05,360 --> 00:03:07,760
completely inscrutable if your code is

78
00:03:07,760 --> 00:03:10,239
inscrutable you cannot assess its

79
00:03:10,239 --> 00:03:12,560
security posture by looking at it sure

80
00:03:12,560 --> 00:03:14,640
you can run automated tools to attack it

81
00:03:14,640 --> 00:03:15,440
but

82
00:03:15,440 --> 00:03:17,440
i think a lot of bugs are more easily

83
00:03:17,440 --> 00:03:18,800
found by just looking at the code of

84
00:03:18,800 --> 00:03:21,040
talking of engineers right

85
00:03:21,040 --> 00:03:24,239
and inscrutable code is everywhere it's

86
00:03:24,239 --> 00:03:26,400
all over the place if you worked in any

87
00:03:26,400 --> 00:03:29,280
bank or telco or even modern tech

88
00:03:29,280 --> 00:03:31,360
companies you'll come across weird yoda

89
00:03:31,360 --> 00:03:32,720
expressions of things that no one

90
00:03:32,720 --> 00:03:34,480
understands right

91
00:03:34,480 --> 00:03:36,959
like look at this this is a regular

92
00:03:36,959 --> 00:03:38,080
expression

93
00:03:38,080 --> 00:03:40,319
we love those input validation it's

94
00:03:40,319 --> 00:03:43,120
great so um i think i see an at symbol

95
00:03:43,120 --> 00:03:44,480
in there

96
00:03:44,480 --> 00:03:46,319
i hope you do i i don't understand the

97
00:03:46,319 --> 00:03:48,239
rest of it it's it's a bit too complex

98
00:03:48,239 --> 00:03:49,440
to me

99
00:03:49,440 --> 00:03:52,000
um this one's for an ip address who knew

100
00:03:52,000 --> 00:03:52,959
that

101
00:03:52,959 --> 00:03:56,879
it could be so bloody complicated right

102
00:03:56,879 --> 00:03:58,799
i i feel like i have no idea what i'm

103
00:03:58,799 --> 00:04:00,720
doing when i'm dealing with irregular

104
00:04:00,720 --> 00:04:02,319
expressions that are so crazy

105
00:04:02,319 --> 00:04:04,239
complicated

106
00:04:04,239 --> 00:04:06,319
and i'm not alone like i found this on

107
00:04:06,319 --> 00:04:08,080
the bad code reddit so this fella here

108
00:04:08,080 --> 00:04:10,720
says this puts commas into a number

109
00:04:10,720 --> 00:04:14,480
example 1000 goes to 1000 with commas in

110
00:04:14,480 --> 00:04:17,759
it and his and his next line says

111
00:04:17,759 --> 00:04:19,839
i pulled this from stack overflow and i

112
00:04:19,839 --> 00:04:23,198
have no idea how it works

113
00:04:24,320 --> 00:04:25,520
this is why

114
00:04:25,520 --> 00:04:27,360
i prefer to use expressions that are a

115
00:04:27,360 --> 00:04:28,960
lot clearer

116
00:04:28,960 --> 00:04:30,720
so if it's inscrutable you don't

117
00:04:30,720 --> 00:04:32,960
understand what's necessarily going on

118
00:04:32,960 --> 00:04:35,440
so in this case we have postcodes in

119
00:04:35,440 --> 00:04:37,840
australia i don't know because this is a

120
00:04:37,840 --> 00:04:39,360
global audience but postcodes in

121
00:04:39,360 --> 00:04:42,400
australia usually have just four numbers

122
00:04:42,400 --> 00:04:43,759
and that's it right

123
00:04:43,759 --> 00:04:45,919
so for me i prefer to use the top

124
00:04:45,919 --> 00:04:48,400
expression even if the bottom expression

125
00:04:48,400 --> 00:04:50,639
is technically correct because i at

126
00:04:50,639 --> 00:04:52,479
least understand what's going on in the

127
00:04:52,479 --> 00:04:55,039
top one

128
00:04:55,440 --> 00:04:58,080
but there's plenty of other areas where

129
00:04:58,080 --> 00:04:59,600
clarity

130
00:04:59,600 --> 00:05:01,520
is key

131
00:05:01,520 --> 00:05:04,800
like naming conventions hey

132
00:05:04,800 --> 00:05:07,600
position position position public entity

133
00:05:07,600 --> 00:05:10,479
position dot position position equals

134
00:05:10,479 --> 00:05:11,520
position

135
00:05:11,520 --> 00:05:13,758
um

136
00:05:13,840 --> 00:05:16,639
come on guys what is this oh

137
00:05:16,639 --> 00:05:18,639
the line that the one line that does

138
00:05:18,639 --> 00:05:20,800
everything you know the one line the

139
00:05:20,800 --> 00:05:23,600
rule of all and in the darkness buying

140
00:05:23,600 --> 00:05:26,000
or that one method that does literally

141
00:05:26,000 --> 00:05:27,759
everything as well

142
00:05:27,759 --> 00:05:31,039
yeah that guy so look uh lesson number

143
00:05:31,039 --> 00:05:32,880
one

144
00:05:32,880 --> 00:05:36,639
is that clear code is easy to understand

145
00:05:36,639 --> 00:05:40,880
all right it's easy to change

146
00:05:40,880 --> 00:05:43,360
and it's easier to scrutinize

147
00:05:43,360 --> 00:05:44,960
all of which are really important for

148
00:05:44,960 --> 00:05:46,880
doing a security review

149
00:05:46,880 --> 00:05:49,600
if you don't know what's going on

150
00:05:49,600 --> 00:05:52,800
or you're afraid to make a change to it

151
00:05:52,800 --> 00:05:54,720
what's the point of doing the assessment

152
00:05:54,720 --> 00:05:56,080
right so

153
00:05:56,080 --> 00:05:57,919
i'm not saying like

154
00:05:57,919 --> 00:06:00,800
go crazy with being super explicit

155
00:06:00,800 --> 00:06:02,800
there's a difference between clarity and

156
00:06:02,800 --> 00:06:04,880
being explicit you know just like put a

157
00:06:04,880 --> 00:06:07,520
thousand burrs or uh

158
00:06:07,520 --> 00:06:10,080
overly comment everything available on

159
00:06:10,080 --> 00:06:10,880
earth

160
00:06:10,880 --> 00:06:11,680
so

161
00:06:11,680 --> 00:06:14,880
this is a 101 course right

162
00:06:14,880 --> 00:06:19,960
so let's move on to our next constructs

163
00:06:21,919 --> 00:06:25,840
iteration and selection

164
00:06:25,840 --> 00:06:27,840
so uh there was a talk just before me

165
00:06:27,840 --> 00:06:29,919
about ai i figured that this is a good

166
00:06:29,919 --> 00:06:31,919
representation of it

167
00:06:31,919 --> 00:06:33,600
okay joke time over

168
00:06:33,600 --> 00:06:34,800
all right so

169
00:06:34,800 --> 00:06:37,280
programs like to iterate

170
00:06:37,280 --> 00:06:39,759
it means doing something over and over

171
00:06:39,759 --> 00:06:41,199
and over again

172
00:06:41,199 --> 00:06:44,240
the definition of insanity i guess

173
00:06:44,240 --> 00:06:46,319
um as security folk we want to kind of

174
00:06:46,319 --> 00:06:49,199
control how often we do something right

175
00:06:49,199 --> 00:06:51,280
so it can come in the form of like

176
00:06:51,280 --> 00:06:54,240
having our code loop endlessly iterating

177
00:06:54,240 --> 00:06:55,840
until oh

178
00:06:55,840 --> 00:06:57,520
it just stops working

179
00:06:57,520 --> 00:06:59,440
or it can come in the form of recursion

180
00:06:59,440 --> 00:07:00,560
like we see on the right with the

181
00:07:00,560 --> 00:07:02,479
billion laughs attack

182
00:07:02,479 --> 00:07:04,240
main thing is that

183
00:07:04,240 --> 00:07:06,639
oh i guess we also want to some we

184
00:07:06,639 --> 00:07:08,160
sometimes let our applications have a

185
00:07:08,160 --> 00:07:10,479
little bit too much um

186
00:07:10,479 --> 00:07:13,520
data coming through from users

187
00:07:13,520 --> 00:07:14,880
so we don't want them to get overwhelmed

188
00:07:14,880 --> 00:07:16,720
either

189
00:07:16,720 --> 00:07:18,319
so recognizing when your program is

190
00:07:18,319 --> 00:07:19,599
exhausted

191
00:07:19,599 --> 00:07:21,759
whether it's been running indefinitely

192
00:07:21,759 --> 00:07:24,080
or it's expanding a dodgy xml file or

193
00:07:24,080 --> 00:07:25,440
you just haven't been rate limiting

194
00:07:25,440 --> 00:07:27,919
users from sending packets your way

195
00:07:27,919 --> 00:07:29,520
got to make sure to pay attention to

196
00:07:29,520 --> 00:07:32,000
that stuff it's easy to just iterate

197
00:07:32,000 --> 00:07:33,520
forever and not really have a way to

198
00:07:33,520 --> 00:07:35,599
stop the program from executing and then

199
00:07:35,599 --> 00:07:39,120
that will cause a denial of service

200
00:07:39,120 --> 00:07:40,639
now we got uh

201
00:07:40,639 --> 00:07:42,400
selection

202
00:07:42,400 --> 00:07:46,080
yeah if else if else switch catch all

203
00:07:46,080 --> 00:07:47,680
those fun

204
00:07:47,680 --> 00:07:50,240
keywords

205
00:07:50,319 --> 00:07:52,720
so sometimes programs can

206
00:07:52,720 --> 00:07:55,680
appear quite linear so

207
00:07:55,680 --> 00:07:58,240
you go to the blue switch palace and go

208
00:07:58,240 --> 00:08:00,000
straight down and you're done with the

209
00:08:00,000 --> 00:08:01,919
forest of illusion

210
00:08:01,919 --> 00:08:02,879
but

211
00:08:02,879 --> 00:08:05,759
like what appears linear often has a lot

212
00:08:05,759 --> 00:08:07,759
of extra complexity or paths that are

213
00:08:07,759 --> 00:08:10,479
available that you might not immediately

214
00:08:10,479 --> 00:08:12,639
be aware of from your first glance at a

215
00:08:12,639 --> 00:08:15,520
program right

216
00:08:16,560 --> 00:08:19,520
so if statements are a fantastic place

217
00:08:19,520 --> 00:08:22,560
for bugs to hide they're innocuous

218
00:08:22,560 --> 00:08:24,720
everyone uses them and they're usually

219
00:08:24,720 --> 00:08:27,440
okay so

220
00:08:27,440 --> 00:08:29,520
like in this situation this is for a

221
00:08:29,520 --> 00:08:33,519
relatively recent hack it's a corsair

222
00:08:33,519 --> 00:08:35,839
does anyone anyone can you see the

223
00:08:35,839 --> 00:08:37,200
problem

224
00:08:37,200 --> 00:08:38,839
with this source code

225
00:08:38,839 --> 00:08:41,599
here i'll give you a moment to have a

226
00:08:41,599 --> 00:08:42,590
little bit of a look

227
00:08:42,590 --> 00:08:50,880
[Music]

228
00:08:50,880 --> 00:08:52,880
all right thumb up

229
00:08:52,880 --> 00:08:55,440
do you see the red arrows yeah so um

230
00:08:55,440 --> 00:08:57,440
besides the code being a little bit

231
00:08:57,440 --> 00:08:58,959
inscrutable because really there are

232
00:08:58,959 --> 00:09:00,880
five methods for authentication up top

233
00:09:00,880 --> 00:09:03,360
what's going on there so um they fail

234
00:09:03,360 --> 00:09:05,440
open with an else statement and that's

235
00:09:05,440 --> 00:09:07,839
something that's very easy to miss

236
00:09:07,839 --> 00:09:10,320
because static analysis tools don't have

237
00:09:10,320 --> 00:09:13,440
context so

238
00:09:13,440 --> 00:09:15,120
this one is

239
00:09:15,120 --> 00:09:16,720
another

240
00:09:16,720 --> 00:09:18,399
derp

241
00:09:18,399 --> 00:09:20,240
from a fortnight ago actually not too

242
00:09:20,240 --> 00:09:22,959
long ago so it's uh we checked to see if

243
00:09:22,959 --> 00:09:25,120
we have an authorization header first

244
00:09:25,120 --> 00:09:26,080
right

245
00:09:26,080 --> 00:09:27,920
well let's let's just let's just say

246
00:09:27,920 --> 00:09:29,760
that we don't have an authorization

247
00:09:29,760 --> 00:09:30,959
header we're going to ignore all the

248
00:09:30,959 --> 00:09:33,600
code at the top don't worry about that

249
00:09:33,600 --> 00:09:36,160
and then we end up down this path here

250
00:09:36,160 --> 00:09:37,680
so we check it out and then we have a

251
00:09:37,680 --> 00:09:40,240
statement about whether the handlers or

252
00:09:40,240 --> 00:09:41,760
failed before we actually go in there or

253
00:09:41,760 --> 00:09:44,640
return an error code right

254
00:09:44,640 --> 00:09:46,240
well i mean if you look at the

255
00:09:46,240 --> 00:09:49,120
constructor yeah computer science 101

256
00:09:49,120 --> 00:09:50,959
constructors

257
00:09:50,959 --> 00:09:53,839
it shows that the off failed

258
00:09:53,839 --> 00:09:56,880
variable is instantiated to false by

259
00:09:56,880 --> 00:09:58,080
default

260
00:09:58,080 --> 00:10:00,720
so we go back to that code

261
00:10:00,720 --> 00:10:02,720
yep that doesn't happen so what are we

262
00:10:02,720 --> 00:10:04,720
left with

263
00:10:04,720 --> 00:10:06,800
uh yeah just that process authorized

264
00:10:06,800 --> 00:10:09,279
meth message which is a

265
00:10:09,279 --> 00:10:11,200
also known as the oh my god

266
00:10:11,200 --> 00:10:14,160
vulnerability about two weeks back so

267
00:10:14,160 --> 00:10:16,079
about some

268
00:10:16,079 --> 00:10:18,160
management interfaces in azure might

269
00:10:18,160 --> 00:10:20,959
have heard of that so

270
00:10:20,959 --> 00:10:23,920
um it's why i'm a fan of structuring

271
00:10:23,920 --> 00:10:26,640
code in this way instead front loading

272
00:10:26,640 --> 00:10:28,240
your error states to the beginning of

273
00:10:28,240 --> 00:10:29,360
the method

274
00:10:29,360 --> 00:10:31,680
if it you know it's quite clear

275
00:10:31,680 --> 00:10:33,120
about

276
00:10:33,120 --> 00:10:34,480
what your requirements are for

277
00:10:34,480 --> 00:10:36,240
validation for authentication for

278
00:10:36,240 --> 00:10:39,040
authorization at the very top and as

279
00:10:39,040 --> 00:10:41,279
long as you sequence them correctly

280
00:10:41,279 --> 00:10:43,839
on a per method basis it's hard to make

281
00:10:43,839 --> 00:10:45,920
mistakes like we saw in the previous

282
00:10:45,920 --> 00:10:48,240
slide

283
00:10:49,040 --> 00:10:50,160
and you're

284
00:10:50,160 --> 00:10:51,920
much less likely to write code that's

285
00:10:51,920 --> 00:10:54,160
crazy like this

286
00:10:54,160 --> 00:10:55,360
um

287
00:10:55,360 --> 00:10:56,399
quick talk

288
00:10:56,399 --> 00:10:58,800
so there are lots and lots of basics in

289
00:10:58,800 --> 00:11:01,040
the world

290
00:11:01,040 --> 00:11:03,519
you already know to probably look at

291
00:11:03,519 --> 00:11:04,720
variables now see how they're

292
00:11:04,720 --> 00:11:07,120
constructed and what they can contain

293
00:11:07,120 --> 00:11:08,880
you can look at things like trophies and

294
00:11:08,880 --> 00:11:10,160
javascript

295
00:11:10,160 --> 00:11:11,600
you can look at like short circuit in

296
00:11:11,600 --> 00:11:13,279
conditions as well

297
00:11:13,279 --> 00:11:15,600
i can't cover everything in 25 minutes

298
00:11:15,600 --> 00:11:16,880
and i know you're all probably a little

299
00:11:16,880 --> 00:11:18,959
bit tired after watching such a long

300
00:11:18,959 --> 00:11:21,200
conference so

301
00:11:21,200 --> 00:11:23,200
let's let's sum up

302
00:11:23,200 --> 00:11:24,320
clear code

303
00:11:24,320 --> 00:11:26,320
is easy to understand

304
00:11:26,320 --> 00:11:27,440
if you know how to program program's

305
00:11:27,440 --> 00:11:29,120
intentions are you're starting from a

306
00:11:29,120 --> 00:11:31,839
great baseline for security

307
00:11:31,839 --> 00:11:33,920
if the code is brittle and hard to

308
00:11:33,920 --> 00:11:35,040
change

309
00:11:35,040 --> 00:11:37,120
how can you fix any security defects

310
00:11:37,120 --> 00:11:39,279
right clear code is reliable and you can

311
00:11:39,279 --> 00:11:42,160
make changes and see how they work

312
00:11:42,160 --> 00:11:43,760
and you want to have code that you can

313
00:11:43,760 --> 00:11:45,680
screw nice as much as i love the

314
00:11:45,680 --> 00:11:48,560
obfuscated c code contest i don't like

315
00:11:48,560 --> 00:11:50,399
trying to review that kind of stuff it's

316
00:11:50,399 --> 00:11:53,040
not fun hurts my brain a tiny tiny brain

317
00:11:53,040 --> 00:11:55,440
not a galaxy one so

318
00:11:55,440 --> 00:11:57,760
and yeah basically any efforts to

319
00:11:57,760 --> 00:12:00,000
scrutinize code that's been deliberately

320
00:12:00,000 --> 00:12:01,440
obfuscated

321
00:12:01,440 --> 00:12:03,839
are really time intensive

322
00:12:03,839 --> 00:12:07,519
so try to make it easy to read

323
00:12:07,519 --> 00:12:10,320
so your basic constructs matter as well

324
00:12:10,320 --> 00:12:13,360
don't just glance over if statements

325
00:12:13,360 --> 00:12:14,560
for loops

326
00:12:14,560 --> 00:12:17,839
while switch try catch

327
00:12:17,839 --> 00:12:20,240
all of those present opportunities to

328
00:12:20,240 --> 00:12:22,839
create business logic

329
00:12:22,839 --> 00:12:25,040
flaws right

330
00:12:25,040 --> 00:12:28,000
so anyway um happy 20th anniversary i

331
00:12:28,000 --> 00:12:30,560
was i'm cole cornford quick fun talk

332
00:12:30,560 --> 00:12:32,560
lighthearted easy i hope you've been

333
00:12:32,560 --> 00:12:34,880
having fun with back to basics

334
00:12:34,880 --> 00:12:38,200
class dismissed

