1
00:00:01,570 --> 00:00:06,209
[Music]

2
00:00:08,160 --> 00:00:10,719
so welcome to this session about the

3
00:00:10,719 --> 00:00:14,000
owasp juice shop um as i said i will i

4
00:00:14,000 --> 00:00:15,839
will start with some facts about the do

5
00:00:15,839 --> 00:00:17,680
shop that you will that will definitely

6
00:00:17,680 --> 00:00:19,840
surprise you and this is of course not

7
00:00:19,840 --> 00:00:22,480
clickbait uh if you have participated in

8
00:00:22,480 --> 00:00:24,160
a previous

9
00:00:24,160 --> 00:00:26,160
talk or video have watched a video about

10
00:00:26,160 --> 00:00:28,480
the basics of truth shop then now is the

11
00:00:28,480 --> 00:00:31,519
best time to get a five-minute break to

12
00:00:31,519 --> 00:00:33,040
make a nice fruit smoothie or get a

13
00:00:33,040 --> 00:00:35,680
coffee or something similar so because i

14
00:00:35,680 --> 00:00:37,760
will show some basics

15
00:00:37,760 --> 00:00:38,800
this is

16
00:00:38,800 --> 00:00:41,520
the ova's juice shop when you started i

17
00:00:41,520 --> 00:00:43,760
already prepared a little bit by by

18
00:00:43,760 --> 00:00:45,600
already logging in so we don't take too

19
00:00:45,600 --> 00:00:48,640
much time here as you can see it's a

20
00:00:48,640 --> 00:00:50,239
it's an e-commerce application where you

21
00:00:50,239 --> 00:00:52,640
can buy fruit-related stuff or

22
00:00:52,640 --> 00:00:54,960
juice-related stuff and also some other

23
00:00:54,960 --> 00:00:57,039
things so you could for example

24
00:00:57,039 --> 00:00:59,199
just search for i don't know orange

25
00:00:59,199 --> 00:01:01,600
maybe because i'm interested in buying

26
00:01:01,600 --> 00:01:03,520
some orange juice putting that into my

27
00:01:03,520 --> 00:01:05,280
basket here

28
00:01:05,280 --> 00:01:09,520
uh i could also let's see

29
00:01:09,520 --> 00:01:12,720
look for o wasp related things so i

30
00:01:12,720 --> 00:01:14,479
could actually get my

31
00:01:14,479 --> 00:01:16,720
anniversary ticket from here

32
00:01:16,720 --> 00:01:19,280
unfortunately no more face masks i can

33
00:01:19,280 --> 00:01:22,240
get a hoodie maybe right so let's let's

34
00:01:22,240 --> 00:01:23,360
see

35
00:01:23,360 --> 00:01:26,799
i will now go to my shopping basket and

36
00:01:26,799 --> 00:01:28,799
i have a very very

37
00:01:28,799 --> 00:01:31,600
perfect rounding system in in the in the

38
00:01:31,600 --> 00:01:33,200
price calculation here

39
00:01:33,200 --> 00:01:35,759
so i will check out this now

40
00:01:35,759 --> 00:01:38,479
pick my shipping address

41
00:01:38,479 --> 00:01:40,560
pick a delivery speed so i really want

42
00:01:40,560 --> 00:01:42,479
that hoodie very fast so one day

43
00:01:42,479 --> 00:01:44,799
delivery it is

44
00:01:44,799 --> 00:01:46,640
continue

45
00:01:46,640 --> 00:01:47,840
um

46
00:01:47,840 --> 00:01:50,640
adding a new card now i use my existing

47
00:01:50,640 --> 00:01:53,200
my existing credit card that that i

48
00:01:53,200 --> 00:01:56,479
already saved so let's use this one

49
00:01:56,479 --> 00:01:58,479
place your order and pay

50
00:01:58,479 --> 00:02:00,159
here we go

51
00:02:00,159 --> 00:02:01,200
looks good

52
00:02:01,200 --> 00:02:04,320
and i even get a link to a tracking page

53
00:02:04,320 --> 00:02:06,320
already where i can see how far my order

54
00:02:06,320 --> 00:02:07,200
is

55
00:02:07,200 --> 00:02:09,520
isn't that great right so that's that's

56
00:02:09,520 --> 00:02:11,760
basically the main use case of the juice

57
00:02:11,760 --> 00:02:13,520
shop so you can buy stuff of course you

58
00:02:13,520 --> 00:02:15,599
will never get it but on the good hand

59
00:02:15,599 --> 00:02:17,040
on the other hand you also don't really

60
00:02:17,040 --> 00:02:19,040
have to pay for stuff so it's it's it's

61
00:02:19,040 --> 00:02:20,640
a it's a playground e-commerce

62
00:02:20,640 --> 00:02:21,760
application

63
00:02:21,760 --> 00:02:23,280
it also has tons of other

64
00:02:23,280 --> 00:02:25,840
functionalities but we will not go into

65
00:02:25,840 --> 00:02:27,120
those today

66
00:02:27,120 --> 00:02:28,239
the

67
00:02:28,239 --> 00:02:30,400
interesting most interesting part of the

68
00:02:30,400 --> 00:02:32,720
drew shop of course is that it's more

69
00:02:32,720 --> 00:02:34,720
than just a web shop right it's a it's a

70
00:02:34,720 --> 00:02:36,480
vulnerable web application

71
00:02:36,480 --> 00:02:39,360
with a total of 100 different hacking

72
00:02:39,360 --> 00:02:41,360
exercises or what we call them

73
00:02:41,360 --> 00:02:42,879
challenges that you that you actually

74
00:02:42,879 --> 00:02:45,599
have to solve and when you successfully

75
00:02:45,599 --> 00:02:47,040
do that

76
00:02:47,040 --> 00:02:49,040
your your progress will be tracked on

77
00:02:49,040 --> 00:02:51,440
our internal scoreboard actually finding

78
00:02:51,440 --> 00:02:53,760
the scoreboard is the first challenge

79
00:02:53,760 --> 00:02:55,760
that users normally have to solve but we

80
00:02:55,760 --> 00:02:56,560
will

81
00:02:56,560 --> 00:03:00,400
skip this part and dive directly into it

82
00:03:00,400 --> 00:03:02,560
so you can see here different types

83
00:03:02,560 --> 00:03:04,480
different different challenges

84
00:03:04,480 --> 00:03:06,319
grouped by different categories and you

85
00:03:06,319 --> 00:03:08,560
can see that i already solved a few of

86
00:03:08,560 --> 00:03:09,440
them

87
00:03:09,440 --> 00:03:10,239
um

88
00:03:10,239 --> 00:03:12,720
we will we will now try to do a little

89
00:03:12,720 --> 00:03:14,959
bit of process scripting right that that

90
00:03:14,959 --> 00:03:16,959
shouldn't take too long so perform a dom

91
00:03:16,959 --> 00:03:18,640
based xss

92
00:03:18,640 --> 00:03:21,120
you can click on this little icon here

93
00:03:21,120 --> 00:03:23,680
to start a tutorial that will help you

94
00:03:23,680 --> 00:03:26,080
to solve this challenge so then our

95
00:03:26,080 --> 00:03:26,879
little

96
00:03:26,879 --> 00:03:30,480
um our little helper bot shows up

97
00:03:30,480 --> 00:03:32,959
and will give us a some a few hints what

98
00:03:32,959 --> 00:03:35,360
we should do actually so and he tells me

99
00:03:35,360 --> 00:03:37,519
to actually type in oh asp in the search

100
00:03:37,519 --> 00:03:39,200
bar so let's do that

101
00:03:39,200 --> 00:03:40,799
hit enter

102
00:03:40,799 --> 00:03:41,760
okay

103
00:03:41,760 --> 00:03:43,760
see always relate this product related

104
00:03:43,760 --> 00:03:46,080
products now perfect

105
00:03:46,080 --> 00:03:48,480
so and the search term is shown over

106
00:03:48,480 --> 00:03:51,760
here yeah that's true i see that

107
00:03:51,760 --> 00:03:53,519
so now we will try some cross-set

108
00:03:53,519 --> 00:03:54,640
scripting

109
00:03:54,640 --> 00:03:58,159
and the bot now says okay please type

110
00:03:58,159 --> 00:03:59,439
h1

111
00:03:59,439 --> 00:04:02,400
or wasp hit enter

112
00:04:02,400 --> 00:04:04,799
and as you can see now the page looks a

113
00:04:04,799 --> 00:04:06,640
little bit broken right

114
00:04:06,640 --> 00:04:09,200
so that's that's not good so

115
00:04:09,200 --> 00:04:10,799
it now gives me the hint that i could

116
00:04:10,799 --> 00:04:12,560
actually investigate in the in the

117
00:04:12,560 --> 00:04:15,360
source code of the of the dom tree

118
00:04:15,360 --> 00:04:18,160
basically what happened here but

119
00:04:18,160 --> 00:04:20,160
you probably already know that

120
00:04:20,160 --> 00:04:23,120
this h1 tag was not properly uh encoded

121
00:04:23,120 --> 00:04:25,520
or escaped and that means we can do some

122
00:04:25,520 --> 00:04:26,840
cross-site scripting

123
00:04:26,840 --> 00:04:28,720
too so

124
00:04:28,720 --> 00:04:32,320
the bot now says okay you can try this

125
00:04:32,320 --> 00:04:34,800
this little

126
00:04:34,800 --> 00:04:37,280
attack here with the script tag and it

127
00:04:37,280 --> 00:04:40,080
seems i copied a bit too much

128
00:04:40,080 --> 00:04:41,120
okay

129
00:04:41,120 --> 00:04:42,960
let's go

130
00:04:42,960 --> 00:04:44,479
and nothing happened

131
00:04:44,479 --> 00:04:46,800
not too bad

132
00:04:46,800 --> 00:04:49,120
but there's other payloads to try for

133
00:04:49,120 --> 00:04:51,919
example this one

134
00:04:52,320 --> 00:04:56,199
let's pick this one instead

135
00:04:56,320 --> 00:04:58,320
and

136
00:04:58,320 --> 00:05:01,759
boom here we go cross-site scripting

137
00:05:01,759 --> 00:05:04,000
seems to work right and you can see it

138
00:05:04,000 --> 00:05:06,560
shoots confetti and it gives me now a

139
00:05:06,560 --> 00:05:08,800
notification also here at the top that i

140
00:05:08,800 --> 00:05:10,080
successfully solved one of the

141
00:05:10,080 --> 00:05:11,120
challenges

142
00:05:11,120 --> 00:05:13,360
the little bot congratulates me

143
00:05:13,360 --> 00:05:16,000
and yeah basically that's

144
00:05:16,000 --> 00:05:18,720
that's one of the ways to actually get

145
00:05:18,720 --> 00:05:20,880
known to the jew shop and to try it out

146
00:05:20,880 --> 00:05:23,120
if you are not familiar with it yet um

147
00:05:23,120 --> 00:05:24,639
use these little

148
00:05:24,639 --> 00:05:26,240
helpful hints

149
00:05:26,240 --> 00:05:28,160
helpful scripts that actually guide you

150
00:05:28,160 --> 00:05:30,320
through some of our easier challenges

151
00:05:30,320 --> 00:05:32,560
and on the scoreboard we will now notice

152
00:05:32,560 --> 00:05:35,039
that this domex's s challenge is mark

153
00:05:35,039 --> 00:05:36,240
assault

154
00:05:36,240 --> 00:05:37,280
okay

155
00:05:37,280 --> 00:05:39,759
so

156
00:05:39,759 --> 00:05:41,600
now the topic of the day the actual

157
00:05:41,600 --> 00:05:45,039
topic it's coding challenges

158
00:05:45,039 --> 00:05:46,800
because we have something

159
00:05:46,800 --> 00:05:50,240
brand new available in the drew shop

160
00:05:50,240 --> 00:05:52,880
when you solved a challenge um one of

161
00:05:52,880 --> 00:05:56,319
the hacking exercises basically then

162
00:05:56,319 --> 00:05:59,280
if this kind of button is exists then it

163
00:05:59,280 --> 00:06:01,759
will be enabled right you can see that

164
00:06:01,759 --> 00:06:03,680
for many other challenges there's a

165
00:06:03,680 --> 00:06:05,280
disabled button here

166
00:06:05,280 --> 00:06:08,799
and if i click on this button

167
00:06:09,120 --> 00:06:11,600
it will give me a completely different

168
00:06:11,600 --> 00:06:14,479
kind of exercise after loading the

169
00:06:14,479 --> 00:06:17,039
responsible the corresponding code

170
00:06:17,039 --> 00:06:19,440
so what i'm seeing here now is the

171
00:06:19,440 --> 00:06:22,080
source code that is responsible for this

172
00:06:22,080 --> 00:06:24,160
cross-site scripting vulnerability and

173
00:06:24,160 --> 00:06:26,479
this is not some fake static example

174
00:06:26,479 --> 00:06:29,280
that we um that we put somewhere this is

175
00:06:29,280 --> 00:06:31,600
the actual source code from the juice

176
00:06:31,600 --> 00:06:33,360
shop itself right so we are using a

177
00:06:33,360 --> 00:06:35,440
pretty sophisticated uh

178
00:06:35,440 --> 00:06:38,880
mechanism of marking the actual code uh

179
00:06:38,880 --> 00:06:42,000
putting markers in it and then um when

180
00:06:42,000 --> 00:06:43,759
you open up this kind of coding

181
00:06:43,759 --> 00:06:46,080
challenge then it will basically go and

182
00:06:46,080 --> 00:06:49,039
load exactly the right code code snippet

183
00:06:49,039 --> 00:06:50,960
it will even remove

184
00:06:50,960 --> 00:06:53,599
lines from the code which might spoiler

185
00:06:53,599 --> 00:06:55,759
too much right because in this in the

186
00:06:55,759 --> 00:06:57,440
actual code in the drew shop there's of

187
00:06:57,440 --> 00:06:59,919
course some stuff running that validates

188
00:06:59,919 --> 00:07:01,440
if you successfully exploited the

189
00:07:01,440 --> 00:07:02,960
hacking challenge right to give you the

190
00:07:02,960 --> 00:07:04,800
notification and and

191
00:07:04,800 --> 00:07:06,880
increase your score basically this is

192
00:07:06,880 --> 00:07:08,080
all removed

193
00:07:08,080 --> 00:07:08,960
so

194
00:07:08,960 --> 00:07:11,280
from the user now basically has the task

195
00:07:11,280 --> 00:07:12,720
to

196
00:07:12,720 --> 00:07:14,080
find the

197
00:07:14,080 --> 00:07:16,240
right the line of code or multiple lines

198
00:07:16,240 --> 00:07:18,240
of code which are responsible for this

199
00:07:18,240 --> 00:07:21,120
uh process scripting vulnerability

200
00:07:21,120 --> 00:07:22,000
so

201
00:07:22,000 --> 00:07:23,840
uh let's see i could i could try out

202
00:07:23,840 --> 00:07:26,800
maybe maybe i'm guessing that this data

203
00:07:26,800 --> 00:07:28,080
filter here

204
00:07:28,080 --> 00:07:30,880
that's that's probably an issue

205
00:07:30,880 --> 00:07:33,440
but it's not right so

206
00:07:33,440 --> 00:07:35,280
that that wasn't right

207
00:07:35,280 --> 00:07:37,680
well if i look a little bit closer

208
00:07:37,680 --> 00:07:38,479
i mean

209
00:07:38,479 --> 00:07:40,639
this one is pretty pretty

210
00:07:40,639 --> 00:07:42,720
obvious right so there's

211
00:07:42,720 --> 00:07:45,520
some call to a bypass security trust

212
00:07:45,520 --> 00:07:47,919
html function

213
00:07:47,919 --> 00:07:50,400
maybe that is responsible for this whole

214
00:07:50,400 --> 00:07:52,400
for this whole xss disaster so let's

215
00:07:52,400 --> 00:07:55,120
submit this one

216
00:07:55,919 --> 00:07:58,400
and there's confetti again and we

217
00:07:58,400 --> 00:08:00,319
basically solve successfully solve the

218
00:08:00,319 --> 00:08:03,039
first half of this

219
00:08:03,039 --> 00:08:05,120
of this exercise

220
00:08:05,120 --> 00:08:06,080
so

221
00:08:06,080 --> 00:08:08,000
now the second the second part of the

222
00:08:08,000 --> 00:08:10,720
coding challenges begins and that is

223
00:08:10,720 --> 00:08:12,960
trying to find a proper fix for the

224
00:08:12,960 --> 00:08:14,240
problem

225
00:08:14,240 --> 00:08:17,840
and for that we are using um a code diff

226
00:08:17,840 --> 00:08:20,720
view where we basically um show the

227
00:08:20,720 --> 00:08:23,199
original code but with the changes that

228
00:08:23,199 --> 00:08:25,280
we think might be the correct fixes and

229
00:08:25,280 --> 00:08:26,400
we offer

230
00:08:26,400 --> 00:08:28,319
different fix options for you to choose

231
00:08:28,319 --> 00:08:29,520
from

232
00:08:29,520 --> 00:08:30,240
so

233
00:08:30,240 --> 00:08:32,000
you can you can also choose if you want

234
00:08:32,000 --> 00:08:33,599
to see this

235
00:08:33,599 --> 00:08:35,760
line by line by line or you can also

236
00:08:35,760 --> 00:08:38,799
switch to a side-by-side comparison

237
00:08:38,799 --> 00:08:40,320
the screen is often not wide enough for

238
00:08:40,320 --> 00:08:42,719
that so by default it's line by line if

239
00:08:42,719 --> 00:08:44,320
it's very long code snippets you can

240
00:08:44,320 --> 00:08:46,640
also reduce the overall length by just

241
00:08:46,640 --> 00:08:48,560
limiting it to the responsible lines

242
00:08:48,560 --> 00:08:50,160
here if you want

243
00:08:50,160 --> 00:08:51,760
so

244
00:08:51,760 --> 00:08:53,120
let's see

245
00:08:53,120 --> 00:08:55,519
first fix option that is offered replace

246
00:08:55,519 --> 00:08:58,080
trust html with trustscript

247
00:08:58,080 --> 00:09:00,720
that sounds great

248
00:09:00,720 --> 00:09:04,399
second option that it presents to us is

249
00:09:04,399 --> 00:09:08,080
replace it with truststyle

250
00:09:08,080 --> 00:09:10,640
third one

251
00:09:12,720 --> 00:09:14,320
trust resource

252
00:09:14,320 --> 00:09:15,600
[Music]

253
00:09:15,600 --> 00:09:18,080
and the last one is

254
00:09:18,080 --> 00:09:20,080
don't do that at all

255
00:09:20,080 --> 00:09:22,399
and just use the query parameter as it

256
00:09:22,399 --> 00:09:23,839
is

257
00:09:23,839 --> 00:09:26,399
okay so maybe maybe i'm guessing again

258
00:09:26,399 --> 00:09:27,760
okay this this might be the right

259
00:09:27,760 --> 00:09:30,959
solution here so going with this trust

260
00:09:30,959 --> 00:09:32,240
script

261
00:09:32,240 --> 00:09:34,399
unfortunately it's not

262
00:09:34,399 --> 00:09:37,200
okay well never mind

263
00:09:37,200 --> 00:09:38,560
let's

264
00:09:38,560 --> 00:09:41,600
pick the obvious solution which is

265
00:09:41,600 --> 00:09:43,760
not playing around with bypassing

266
00:09:43,760 --> 00:09:46,399
security in angular right so let's

267
00:09:46,399 --> 00:09:48,320
submit this one

268
00:09:48,320 --> 00:09:50,800
and we successfully solved the challenge

269
00:09:50,800 --> 00:09:52,959
we get confetti again and now if we

270
00:09:52,959 --> 00:09:54,399
close this

271
00:09:54,399 --> 00:09:57,040
we get this little um button over here

272
00:09:57,040 --> 00:09:58,959
marked in green we can we can launch it

273
00:09:58,959 --> 00:10:01,360
again and take a look again if uh if we

274
00:10:01,360 --> 00:10:02,560
want but

275
00:10:02,560 --> 00:10:04,720
this this coding challenge is now

276
00:10:04,720 --> 00:10:06,480
formally solved

277
00:10:06,480 --> 00:10:08,959
you can also um only solve the first

278
00:10:08,959 --> 00:10:11,279
half and do the the rest later right for

279
00:10:11,279 --> 00:10:14,079
example if i if i'm starting the coding

280
00:10:14,079 --> 00:10:16,240
challenge for the login admin challenge

281
00:10:16,240 --> 00:10:18,480
with which is about a sql injection

282
00:10:18,480 --> 00:10:20,320
issue

283
00:10:20,320 --> 00:10:22,480
then after loading the snippet which

284
00:10:22,480 --> 00:10:24,399
takes a moment

285
00:10:24,399 --> 00:10:26,240
and if i go through

286
00:10:26,240 --> 00:10:28,560
this really care really carefully i

287
00:10:28,560 --> 00:10:31,600
might notice that we have some

288
00:10:31,600 --> 00:10:32,720
sql

289
00:10:32,720 --> 00:10:35,680
query being uh concatenated with

290
00:10:35,680 --> 00:10:38,320
parameters from the request here that

291
00:10:38,320 --> 00:10:40,800
doesn't look so secure

292
00:10:40,800 --> 00:10:43,600
so let's see probably that's the

293
00:10:43,600 --> 00:10:45,040
evil

294
00:10:45,040 --> 00:10:47,279
line of code

295
00:10:47,279 --> 00:10:49,040
if i submit this

296
00:10:49,040 --> 00:10:51,600
right i can now close my

297
00:10:51,600 --> 00:10:53,600
my window here and it will tell me that

298
00:10:53,600 --> 00:10:55,920
i solved half the coding challenge

299
00:10:55,920 --> 00:10:57,519
already

300
00:10:57,519 --> 00:10:58,959
right so

301
00:10:58,959 --> 00:11:00,959
that's that's basically

302
00:11:00,959 --> 00:11:02,079
what we

303
00:11:02,079 --> 00:11:03,040
uh

304
00:11:03,040 --> 00:11:05,040
what we added and there's at the moment

305
00:11:05,040 --> 00:11:08,720
i think it's 20 for 24 out of the 100

306
00:11:08,720 --> 00:11:10,480
hacking challenges there's coding

307
00:11:10,480 --> 00:11:13,360
challenges available so let me just

308
00:11:13,360 --> 00:11:15,600
for completeness sake show the entire

309
00:11:15,600 --> 00:11:17,360
list of all the

310
00:11:17,360 --> 00:11:19,839
challenges the jew shop currently has

311
00:11:19,839 --> 00:11:22,399
right which is 100 and you can see quite

312
00:11:22,399 --> 00:11:24,640
a few of these grayed out

313
00:11:24,640 --> 00:11:28,160
coding challenge buttons here

314
00:11:28,160 --> 00:11:29,920
so

315
00:11:29,920 --> 00:11:32,240
how did this actually

316
00:11:32,240 --> 00:11:34,399
come

317
00:11:34,399 --> 00:11:36,640
come to life this feature

318
00:11:36,640 --> 00:11:38,320
this was our google summer of code

319
00:11:38,320 --> 00:11:39,600
project

320
00:11:39,600 --> 00:11:40,800
of this year

321
00:11:40,800 --> 00:11:43,200
and i us our student basically

322
00:11:43,200 --> 00:11:45,040
implemented the whole thing

323
00:11:45,040 --> 00:11:47,200
with some assistance from uh from

324
00:11:47,200 --> 00:11:49,279
yannick and myself as mentors where

325
00:11:49,279 --> 00:11:51,279
yannick actually did a lot more work

326
00:11:51,279 --> 00:11:52,800
than i did because he had pair

327
00:11:52,800 --> 00:11:54,399
programming sessions with ayas and

328
00:11:54,399 --> 00:11:56,000
everything

329
00:11:56,000 --> 00:11:58,320
quite several times and

330
00:11:58,320 --> 00:12:00,480
i have to say this is a google summer of

331
00:12:00,480 --> 00:12:02,000
code and simon mentioned that before

332
00:12:02,000 --> 00:12:04,079
that is really a fantastic way of

333
00:12:04,079 --> 00:12:05,920
getting new features into open source

334
00:12:05,920 --> 00:12:07,200
projects so

335
00:12:07,200 --> 00:12:08,880
we will definitely continue

336
00:12:08,880 --> 00:12:10,800
participating in that

337
00:12:10,800 --> 00:12:15,040
if we if if we if we can so

338
00:12:15,040 --> 00:12:16,800
fireworks for

339
00:12:16,800 --> 00:12:18,480
ios and

340
00:12:18,480 --> 00:12:19,360
the

341
00:12:19,360 --> 00:12:22,839
mentors of this lovely

342
00:12:22,839 --> 00:12:24,800
project good

343
00:12:24,800 --> 00:12:27,600
so let's talk about a few

344
00:12:27,600 --> 00:12:29,760
future enhancements

345
00:12:29,760 --> 00:12:33,600
that um that we plan for this whole

346
00:12:33,600 --> 00:12:36,639
coding challenge feature

347
00:12:37,680 --> 00:12:39,760
first of all we want to

348
00:12:39,760 --> 00:12:42,079
add a separate

349
00:12:42,079 --> 00:12:44,480
uh let's say progress bar or maybe a pie

350
00:12:44,480 --> 00:12:46,079
chart or doughnut chart or something

351
00:12:46,079 --> 00:12:49,519
like that to show how many of the coding

352
00:12:49,519 --> 00:12:52,480
challenges you actually solved right so

353
00:12:52,480 --> 00:12:54,320
the the scoreboard of the do shop is

354
00:12:54,320 --> 00:12:57,600
already quite crowded you could say um

355
00:12:57,600 --> 00:12:59,120
so

356
00:12:59,120 --> 00:13:02,079
i mean adding adding a separate progress

357
00:13:02,079 --> 00:13:02,880
bar

358
00:13:02,880 --> 00:13:04,959
maybe up here or somewhere where there's

359
00:13:04,959 --> 00:13:06,560
some empty room left

360
00:13:06,560 --> 00:13:08,639
that's probably fine at some point i

361
00:13:08,639 --> 00:13:10,880
think we we will have to do a redesign

362
00:13:10,880 --> 00:13:12,240
of the scoreboard

363
00:13:12,240 --> 00:13:14,399
especially because it's also having some

364
00:13:14,399 --> 00:13:16,480
performances for performance issues by

365
00:13:16,480 --> 00:13:18,160
now

366
00:13:18,160 --> 00:13:19,760
but yeah i think it's important to

367
00:13:19,760 --> 00:13:21,360
actually show how many of the coding

368
00:13:21,360 --> 00:13:23,440
challenges you you did so that's that's

369
00:13:23,440 --> 00:13:25,040
a very basic enhancements that

370
00:13:25,040 --> 00:13:28,079
enhancement that we want to make

371
00:13:28,079 --> 00:13:30,240
i showed you already that we have this

372
00:13:30,240 --> 00:13:32,639
nice tutorial mechanism that will guide

373
00:13:32,639 --> 00:13:34,639
you with some

374
00:13:34,639 --> 00:13:36,800
quite rather easy to write scripts

375
00:13:36,800 --> 00:13:38,560
through uh through certain hacking

376
00:13:38,560 --> 00:13:42,079
challenges and we plan to also have such

377
00:13:42,079 --> 00:13:44,639
a tutorial script for the coding

378
00:13:44,639 --> 00:13:46,720
challenges like

379
00:13:46,720 --> 00:13:48,560
either for example if you if you

380
00:13:48,560 --> 00:13:50,959
launched the first coding snip coding

381
00:13:50,959 --> 00:13:53,519
challenge ever then uh maybe it will

382
00:13:53,519 --> 00:13:55,760
automatically give you some assistance

383
00:13:55,760 --> 00:13:57,760
or maybe there will be some button where

384
00:13:57,760 --> 00:14:00,399
you can uh can basically

385
00:14:00,399 --> 00:14:02,880
decide to launch it in the in assisted

386
00:14:02,880 --> 00:14:05,600
mode where the um where this little bot

387
00:14:05,600 --> 00:14:07,760
actually helps you to understand okay

388
00:14:07,760 --> 00:14:09,519
what do i have to do here on the find it

389
00:14:09,519 --> 00:14:11,519
screen with selecting the line of code

390
00:14:11,519 --> 00:14:14,480
and then next selecting the fix etc so i

391
00:14:14,480 --> 00:14:16,639
guess it's a pretty pretty good way to

392
00:14:16,639 --> 00:14:18,399
actually uh help

393
00:14:18,399 --> 00:14:19,839
help people use it if they're not

394
00:14:19,839 --> 00:14:23,279
familiar to the jew shop already

395
00:14:24,399 --> 00:14:26,880
another thing we plan to do is actually

396
00:14:26,880 --> 00:14:30,000
calculating the accuracy um with the

397
00:14:30,000 --> 00:14:31,680
which the users actually solve these

398
00:14:31,680 --> 00:14:33,760
coding challenges

399
00:14:33,760 --> 00:14:35,120
so um

400
00:14:35,120 --> 00:14:36,399
that that's something that is not

401
00:14:36,399 --> 00:14:38,000
possible with the hacking challenges

402
00:14:38,000 --> 00:14:40,320
actually um because they are very

403
00:14:40,320 --> 00:14:42,160
specific in their in their victory

404
00:14:42,160 --> 00:14:44,399
condition right so you cannot really

405
00:14:44,399 --> 00:14:47,199
distinguish failed attempts from correct

406
00:14:47,199 --> 00:14:48,399
attempts

407
00:14:48,399 --> 00:14:50,880
but with the coding challenges you can

408
00:14:50,880 --> 00:14:53,120
because you are submitting a few lines

409
00:14:53,120 --> 00:14:54,880
of code that you selected for the first

410
00:14:54,880 --> 00:14:56,959
part and you are submitting a fix that

411
00:14:56,959 --> 00:14:59,199
you think is right for the second part

412
00:14:59,199 --> 00:15:01,360
so we can basically just count

413
00:15:01,360 --> 00:15:03,680
how many attempts the user made before

414
00:15:03,680 --> 00:15:06,240
they actually hit hit the right option

415
00:15:06,240 --> 00:15:07,839
right and

416
00:15:07,839 --> 00:15:10,399
this might actually help to distinguish

417
00:15:10,399 --> 00:15:13,040
users who really take some time and do

418
00:15:13,040 --> 00:15:15,279
these exercises carefully and others who

419
00:15:15,279 --> 00:15:17,360
might just click around and just submit

420
00:15:17,360 --> 00:15:18,880
uh stuff

421
00:15:18,880 --> 00:15:21,279
without really looking into it

422
00:15:21,279 --> 00:15:23,839
currently i'm not planning to show this

423
00:15:23,839 --> 00:15:26,399
statistics of accuracy on the scoreboard

424
00:15:26,399 --> 00:15:28,160
because it's not so interesting for the

425
00:15:28,160 --> 00:15:30,079
users themselves and it would be

426
00:15:30,079 --> 00:15:31,759
actually quite hard for us to persist

427
00:15:31,759 --> 00:15:35,120
properly because of our data model for

428
00:15:35,120 --> 00:15:36,880
the challenge progress

429
00:15:36,880 --> 00:15:38,480
but this might be an interesting

430
00:15:38,480 --> 00:15:40,959
information for the um

431
00:15:40,959 --> 00:15:45,680
for example in the training or um or

432
00:15:46,000 --> 00:15:47,839
i don't know university lecture setup

433
00:15:47,839 --> 00:15:50,560
right so if if the if the trainer or if

434
00:15:50,560 --> 00:15:51,680
the

435
00:15:51,680 --> 00:15:53,839
the professor actually gets some

436
00:15:53,839 --> 00:15:56,480
feedback from the students or

437
00:15:56,480 --> 00:15:58,079
participants

438
00:15:58,079 --> 00:16:00,079
if they are just clicking around or if

439
00:16:00,079 --> 00:16:01,519
they are actually taking taking the

440
00:16:01,519 --> 00:16:04,560
exercises seriously

441
00:16:04,959 --> 00:16:07,920
which is why we plan to submit this kind

442
00:16:07,920 --> 00:16:11,440
of accuracy information um to our

443
00:16:11,440 --> 00:16:13,040
solution webhook

444
00:16:13,040 --> 00:16:15,360
um the the current solution webhook that

445
00:16:15,360 --> 00:16:17,279
the drusha pass looks like this uh the

446
00:16:17,279 --> 00:16:18,959
payload looks like this

447
00:16:18,959 --> 00:16:21,199
and it will be triggered when you solve

448
00:16:21,199 --> 00:16:22,800
one of the hacking challenges for the

449
00:16:22,800 --> 00:16:24,720
coding challenges there's no trigger yet

450
00:16:24,720 --> 00:16:27,199
but we would actually want to add that

451
00:16:27,199 --> 00:16:28,639
um

452
00:16:28,639 --> 00:16:30,399
the idea here is this is something that

453
00:16:30,399 --> 00:16:32,720
the juice shop server can send to an

454
00:16:32,720 --> 00:16:34,880
arbitrary web hook that you can define

455
00:16:34,880 --> 00:16:37,040
and that could be your own

456
00:16:37,040 --> 00:16:38,880
some implementation you have to actually

457
00:16:38,880 --> 00:16:41,040
do some statistics and maybe draw a

458
00:16:41,040 --> 00:16:43,120
dashboard of progress of your entire

459
00:16:43,120 --> 00:16:45,120
student class for example

460
00:16:45,120 --> 00:16:47,120
and we would like to have the same for

461
00:16:47,120 --> 00:16:49,440
the coding challenges and then on top

462
00:16:49,440 --> 00:16:52,399
with this accuracy information so that

463
00:16:52,399 --> 00:16:54,560
you can basically distinguish

464
00:16:54,560 --> 00:16:57,759
trial and error users and and serious uh

465
00:16:57,759 --> 00:16:59,600
serious people who try to actually

466
00:16:59,600 --> 00:17:01,279
understand what's going on in the code

467
00:17:01,279 --> 00:17:03,360
there

468
00:17:03,360 --> 00:17:05,039
um

469
00:17:05,039 --> 00:17:07,599
another thing that we already have for

470
00:17:07,599 --> 00:17:10,000
the hacking challenges is a

471
00:17:10,000 --> 00:17:12,640
pretty straightforward sheet detection

472
00:17:12,640 --> 00:17:16,079
that basically measures the time between

473
00:17:16,079 --> 00:17:18,640
uh how long it took for you to solve one

474
00:17:18,640 --> 00:17:20,240
challenge after the next aft after the

475
00:17:20,240 --> 00:17:22,480
previous one you solved right so and

476
00:17:22,480 --> 00:17:25,039
depending on the difficulty rating and

477
00:17:25,039 --> 00:17:27,280
some other criteria like challenges

478
00:17:27,280 --> 00:17:29,280
which are directly connected or might be

479
00:17:29,280 --> 00:17:31,520
solved together um

480
00:17:31,520 --> 00:17:34,080
because they are linked in some way

481
00:17:34,080 --> 00:17:37,120
um the jew shop will basically calculate

482
00:17:37,120 --> 00:17:40,559
similar to a spam score a value between

483
00:17:40,559 --> 00:17:43,440
one zero and one to actually rate if it

484
00:17:43,440 --> 00:17:45,520
thinks you cheated

485
00:17:45,520 --> 00:17:46,799
with the hacking

486
00:17:46,799 --> 00:17:48,240
exercise right

487
00:17:48,240 --> 00:17:50,640
and we could have something um similar

488
00:17:50,640 --> 00:17:52,960
with the with the coding challenges so

489
00:17:52,960 --> 00:17:55,600
if you are basically submitting

490
00:17:55,600 --> 00:17:58,080
attempts at such a speed that it's quite

491
00:17:58,080 --> 00:18:00,320
obviously script then we could actually

492
00:18:00,320 --> 00:18:03,360
rape this also as as a likely cheat

493
00:18:03,360 --> 00:18:04,720
attempt right

494
00:18:04,720 --> 00:18:06,799
again this is something that the the

495
00:18:06,799 --> 00:18:10,559
users themselves do not see

496
00:18:10,559 --> 00:18:12,480
this is only happening

497
00:18:12,480 --> 00:18:14,400
this is only visible on on the back end

498
00:18:14,400 --> 00:18:17,120
of the jew shop and it can also be like

499
00:18:17,120 --> 00:18:18,559
you saw here

500
00:18:18,559 --> 00:18:20,799
it can also be submitted to the to the

501
00:18:20,799 --> 00:18:23,440
solution webhook so again a trainer

502
00:18:23,440 --> 00:18:25,760
might have some some idea

503
00:18:25,760 --> 00:18:28,000
using this information

504
00:18:28,000 --> 00:18:30,640
if there are students who are were just

505
00:18:30,640 --> 00:18:32,400
messing around or if they are actually

506
00:18:32,400 --> 00:18:35,840
seriously trying to learn something

507
00:18:36,160 --> 00:18:36,960
and

508
00:18:36,960 --> 00:18:38,799
then we have two other feature

509
00:18:38,799 --> 00:18:41,200
enhancements possible for the challenges

510
00:18:41,200 --> 00:18:43,760
for the coding challenges themselves

511
00:18:43,760 --> 00:18:44,480
so

512
00:18:44,480 --> 00:18:46,880
when you when you submit the wrong line

513
00:18:46,880 --> 00:18:49,200
of code when you um when you when you

514
00:18:49,200 --> 00:18:50,799
try to find

515
00:18:50,799 --> 00:18:53,280
the vulnerable place if it's a long code

516
00:18:53,280 --> 00:18:55,600
snippet

517
00:18:55,600 --> 00:18:57,280
that might actually be quite difficult

518
00:18:57,280 --> 00:18:59,120
and there are some challenges right now

519
00:18:59,120 --> 00:19:00,720
where you have to select multiple lines

520
00:19:00,720 --> 00:19:02,480
and that makes it even more difficult to

521
00:19:02,480 --> 00:19:04,480
actually find the exact

522
00:19:04,480 --> 00:19:07,760
right uh lines that we uh want you to

523
00:19:07,760 --> 00:19:09,120
select right

524
00:19:09,120 --> 00:19:13,120
so the idea is to to add some some hints

525
00:19:13,120 --> 00:19:15,600
so after you submitted a wrong line you

526
00:19:15,600 --> 00:19:17,600
might actually get a little hint shown

527
00:19:17,600 --> 00:19:19,440
that tries to help you out and here you

528
00:19:19,440 --> 00:19:21,679
can see some draft hints which which i

529
00:19:21,679 --> 00:19:24,320
which i created for for this local xss

530
00:19:24,320 --> 00:19:26,400
or this dom xss challenge that we just

531
00:19:26,400 --> 00:19:28,240
saw right which we just did with the

532
00:19:28,240 --> 00:19:30,880
with the um cross-site scripting and

533
00:19:30,880 --> 00:19:33,280
for example this last hint right

534
00:19:33,280 --> 00:19:35,760
with hey where do the developers fiddle

535
00:19:35,760 --> 00:19:37,520
with angular's built-in security model

536
00:19:37,520 --> 00:19:40,160
then this is a pretty pretty direct

537
00:19:40,160 --> 00:19:42,640
indication of okay maybe it's about this

538
00:19:42,640 --> 00:19:46,320
bypass security trust.html function call

539
00:19:46,320 --> 00:19:48,400
so this

540
00:19:48,400 --> 00:19:50,799
if we add some feature like this

541
00:19:50,799 --> 00:19:52,880
that might also be something that you

542
00:19:52,880 --> 00:19:55,200
can then configure for the juice shop if

543
00:19:55,200 --> 00:19:57,600
it if it uses the hints or if it doesn't

544
00:19:57,600 --> 00:20:01,120
show them because maybe depending on

545
00:20:01,120 --> 00:20:03,760
on your uh your setup if it's a i don't

546
00:20:03,760 --> 00:20:06,480
know if it's a ctf for example maybe you

547
00:20:06,480 --> 00:20:08,960
don't want to give these hints out

548
00:20:08,960 --> 00:20:10,640
to people and they should actually find

549
00:20:10,640 --> 00:20:12,960
out on their own completely so that that

550
00:20:12,960 --> 00:20:14,880
would probably be something that you can

551
00:20:14,880 --> 00:20:17,280
can fine-tune if you want these hints or

552
00:20:17,280 --> 00:20:18,400
not

553
00:20:18,400 --> 00:20:21,520
and similarly in the fixed phase of the

554
00:20:21,520 --> 00:20:23,120
challenge

555
00:20:23,120 --> 00:20:26,159
we could after you submitted a fix

556
00:20:26,159 --> 00:20:28,000
we could give some feedback on the

557
00:20:28,000 --> 00:20:30,640
selection right for the wrong

558
00:20:30,640 --> 00:20:31,679
fixes

559
00:20:31,679 --> 00:20:33,760
we could actually do something like tell

560
00:20:33,760 --> 00:20:36,480
you why this is maybe not a not a proper

561
00:20:36,480 --> 00:20:37,840
proper solution

562
00:20:37,840 --> 00:20:41,360
right for example uh for these bypass

563
00:20:41,360 --> 00:20:43,919
security trust

564
00:20:43,919 --> 00:20:46,240
options which are which don't make much

565
00:20:46,240 --> 00:20:47,360
sense

566
00:20:47,360 --> 00:20:49,919
we would actually tell uh tell the user

567
00:20:49,919 --> 00:20:50,799
hey

568
00:20:50,799 --> 00:20:53,520
this is this is just changing the scope

569
00:20:53,520 --> 00:20:55,919
of the sanitization but it will probably

570
00:20:55,919 --> 00:20:58,559
not do any any uh

571
00:20:58,559 --> 00:21:01,360
not help against the actual

572
00:21:01,360 --> 00:21:03,280
cross-site scripting vulnerability and

573
00:21:03,280 --> 00:21:05,200
then for the correct solution

574
00:21:05,200 --> 00:21:07,760
we could then add kind of an explanation

575
00:21:07,760 --> 00:21:09,600
why this is the best way to actually

576
00:21:09,600 --> 00:21:11,120
solve this right and then maybe even

577
00:21:11,120 --> 00:21:13,120
have some link to some more

578
00:21:13,120 --> 00:21:14,960
information about

579
00:21:14,960 --> 00:21:17,200
dominic's sss or or depending on the

580
00:21:17,200 --> 00:21:19,440
vulnerability um

581
00:21:19,440 --> 00:21:21,120
yeah some some other additional

582
00:21:21,120 --> 00:21:23,039
resources

583
00:21:23,039 --> 00:21:25,360
so basically juice shop is evolving a

584
00:21:25,360 --> 00:21:26,799
bit into a more

585
00:21:26,799 --> 00:21:28,320
uh

586
00:21:28,320 --> 00:21:30,400
more almost into a learning platform

587
00:21:30,400 --> 00:21:32,240
than just a vulnerable application which

588
00:21:32,240 --> 00:21:35,120
you can play around with

589
00:21:35,120 --> 00:21:36,799
so

590
00:21:36,799 --> 00:21:39,520
looking at the time seems still good uh

591
00:21:39,520 --> 00:21:41,679
yeah my timer that started automatically

592
00:21:41,679 --> 00:21:43,760
with the slide deck says i have six

593
00:21:43,760 --> 00:21:46,080
minutes left which is great because i

594
00:21:46,080 --> 00:21:48,799
have one last slide

595
00:21:48,799 --> 00:21:50,799
which is my personal favorite in all

596
00:21:50,799 --> 00:21:53,120
presentations that's the drew shop

597
00:21:53,120 --> 00:21:55,039
success pyramid

598
00:21:55,039 --> 00:21:57,360
which shows a few interesting stats

599
00:21:57,360 --> 00:21:58,720
about the project

600
00:21:58,720 --> 00:22:00,799
so over time we had 80 contributors

601
00:22:00,799 --> 00:22:02,480
already which is

602
00:22:02,480 --> 00:22:05,840
really impressive uh i think

603
00:22:05,840 --> 00:22:09,039
dewshop is a flagship project and

604
00:22:09,039 --> 00:22:12,400
yeah we are we are pretty we are trying

605
00:22:12,400 --> 00:22:14,480
to do our best to

606
00:22:14,480 --> 00:22:17,120
to have good code quality good test

607
00:22:17,120 --> 00:22:20,000
coverage and uh also good security to be

608
00:22:20,000 --> 00:22:20,960
honest

609
00:22:20,960 --> 00:22:22,640
that which is why we have a core

610
00:22:22,640 --> 00:22:24,480
infrastructure initiative

611
00:22:24,480 --> 00:22:27,520
best practices medal in gold which is

612
00:22:27,520 --> 00:22:28,960
quite amazing

613
00:22:28,960 --> 00:22:30,640
and i heard i i

614
00:22:30,640 --> 00:22:32,799
i was told that it wasn't an easy

615
00:22:32,799 --> 00:22:35,120
decision for them to actually give us

616
00:22:35,120 --> 00:22:37,120
the the gold medal because

617
00:22:37,120 --> 00:22:38,480
normally they

618
00:22:38,480 --> 00:22:40,799
rate they they grade only

619
00:22:40,799 --> 00:22:42,720
actually secure

620
00:22:42,720 --> 00:22:45,039
open source projects with this

621
00:22:45,039 --> 00:22:47,039
but um i was

622
00:22:47,039 --> 00:22:48,880
it seems i was able to convince them

623
00:22:48,880 --> 00:22:50,640
that all the

624
00:22:50,640 --> 00:22:52,559
intentional vulnerabilities of the jew

625
00:22:52,559 --> 00:22:54,400
shop don't count for this for this

626
00:22:54,400 --> 00:22:57,120
assessment right

627
00:22:57,120 --> 00:22:59,919
so and the most interesting part here in

628
00:22:59,919 --> 00:23:02,240
the in the statistics of course is our

629
00:23:02,240 --> 00:23:03,520
downloads

630
00:23:03,520 --> 00:23:06,240
so we also have a have a nice statistics

631
00:23:06,240 --> 00:23:09,200
website by now but you as you can see do

632
00:23:09,200 --> 00:23:11,120
shop has been downloaded

633
00:23:11,120 --> 00:23:14,080
93 000 times from github

634
00:23:14,080 --> 00:23:16,080
30 000 times still from sourceforge

635
00:23:16,080 --> 00:23:17,760
where we mirror to

636
00:23:17,760 --> 00:23:22,159
and incredible 33 million times from

637
00:23:22,159 --> 00:23:23,679
from docker

638
00:23:23,679 --> 00:23:26,960
i was told that contains some accidental

639
00:23:26,960 --> 00:23:28,880
image pulse but

640
00:23:28,880 --> 00:23:30,240
that that number is still quite

641
00:23:30,240 --> 00:23:31,280
impressive

642
00:23:31,280 --> 00:23:33,919
so i even if it's just 10

643
00:23:33,919 --> 00:23:36,320
which is actual users and the rest is

644
00:23:36,320 --> 00:23:38,240
just accidental

645
00:23:38,240 --> 00:23:40,480
traffic on the internet i'm still fine

646
00:23:40,480 --> 00:23:42,880
with it

647
00:23:43,679 --> 00:23:44,480
so

648
00:23:44,480 --> 00:23:47,360
yeah like you were told before there's a

649
00:23:47,360 --> 00:23:49,840
slack channel dedicated to the flagship

650
00:23:49,840 --> 00:23:52,320
projects which you can use for the q a

651
00:23:52,320 --> 00:23:53,679
after the session

652
00:23:53,679 --> 00:23:56,480
i will be there for 30 minutes and

653
00:23:56,480 --> 00:24:00,400
answer any questions you might have

