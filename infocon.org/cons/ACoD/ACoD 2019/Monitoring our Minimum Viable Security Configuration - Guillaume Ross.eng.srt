1
00:00:00,030 --> 00:00:03,809
<font color="#E5E5E5">all right thanks everyone for showing up</font>

2
00:00:01,709 --> 00:00:06,990
to my talk which<font color="#CCCCCC"> is about</font><font color="#E5E5E5"> monitoring our</font>

3
00:00:03,810 --> 00:00:09,870
minimum viable security on<font color="#E5E5E5"> Windows with</font>

4
00:00:06,990 --> 00:00:12,750
<font color="#E5E5E5">OS query which is</font><font color="#CCCCCC"> a topic that we</font><font color="#E5E5E5"> don't</font>

5
00:00:09,870 --> 00:00:15,030
<font color="#E5E5E5">discuss too often on the windows side so</font>

6
00:00:12,750 --> 00:00:16,680
my name<font color="#E5E5E5"> is Guillaume</font><font color="#CCCCCC"> I've been doing</font>

7
00:00:15,030 --> 00:00:19,230
some blue team and<font color="#E5E5E5"> Windows stuff for a</font>

8
00:00:16,680 --> 00:00:21,600
very<font color="#CCCCCC"> very</font><font color="#E5E5E5"> long time now</font><font color="#CCCCCC"> I love</font><font color="#E5E5E5"> always</font>

9
00:00:19,230 --> 00:00:22,859
query<font color="#E5E5E5"> and I have this</font><font color="#CCCCCC"> Windows background</font>

10
00:00:21,600 --> 00:00:24,779
so I want to<font color="#E5E5E5"> use it</font><font color="#CCCCCC"> more on Windows</font>

11
00:00:22,859 --> 00:00:26,730
because<font color="#E5E5E5"> of that and I work at optics</font>

12
00:00:24,779 --> 00:00:28,320
where<font color="#E5E5E5"> we do oh s query at scale which</font><font color="#CCCCCC"> is</font>

13
00:00:26,730 --> 00:00:30,810
it's not<font color="#CCCCCC"> a coincidence I work</font><font color="#E5E5E5"> there</font>

14
00:00:28,320 --> 00:00:33,059
<font color="#E5E5E5">because I love</font><font color="#CCCCCC"> OS query</font><font color="#E5E5E5"> so this is a</font>

15
00:00:30,810 --> 00:00:36,269
<font color="#CCCCCC">follow-up</font><font color="#E5E5E5"> to the</font><font color="#CCCCCC"> ops talk I did last</font>

16
00:00:33,059 --> 00:00:38,309
year<font color="#CCCCCC"> before we get</font><font color="#E5E5E5"> started yesterday</font>

17
00:00:36,270 --> 00:00:41,070
<font color="#CCCCCC">Gaudi was saying that dropping f-bombs</font>

18
00:00:38,309 --> 00:00:42,709
at the conference was<font color="#CCCCCC"> ok</font><font color="#E5E5E5"> and it just</font>

19
00:00:41,070 --> 00:00:45,360
reminded<font color="#CCCCCC"> me of the Canadian government</font>

20
00:00:42,710 --> 00:00:47,430
<font color="#CCCCCC">deciding</font><font color="#E5E5E5"> that it's not vulgar to do it</font>

21
00:00:45,360 --> 00:00:49,079
during a French<font color="#E5E5E5"> broadcast which I</font>

22
00:00:47,430 --> 00:00:51,329
<font color="#E5E5E5">thought was a pretty cool way of bending</font>

23
00:00:49,079 --> 00:00:54,390
<font color="#CCCCCC">the rules so what did</font><font color="#E5E5E5"> we talk about last</font>

24
00:00:51,329 --> 00:00:56,280
<font color="#E5E5E5">year we didn't talk about Brooklyn</font>

25
00:00:54,390 --> 00:00:58,680
<font color="#E5E5E5">barbecue</font><font color="#CCCCCC"> which was the stupidest thing I</font>

26
00:00:56,280 --> 00:01:00,449
read all year we talked about<font color="#CCCCCC"> reducing</font>

27
00:00:58,680 --> 00:01:03,449
the effectiveness of attacks without

28
00:01:00,449 --> 00:01:07,350
impacting user experience<font color="#CCCCCC"> on Windows</font><font color="#E5E5E5"> so</font>

29
00:01:03,449 --> 00:01:09,240
I have a<font color="#CCCCCC"> 1-minute summary of it you</font><font color="#E5E5E5"> take</font>

30
00:01:07,350 --> 00:01:11,039
a guide like the<font color="#CCCCCC"> CIS benchmark it's like</font>

31
00:01:09,240 --> 00:01:12,689
a thousand pages<font color="#E5E5E5"> a lot of the things in</font>

32
00:01:11,040 --> 00:01:14,460
there<font color="#CCCCCC"> are good but there's also a lot of</font>

33
00:01:12,689 --> 00:01:15,869
stuff in there<font color="#CCCCCC"> that's nice to have but</font>

34
00:01:14,460 --> 00:01:18,089
doesn't really have anything<font color="#E5E5E5"> to do with</font>

35
00:01:15,869 --> 00:01:21,479
<font color="#E5E5E5">the attacks you see day</font><font color="#CCCCCC"> to day so we</font>

36
00:01:18,090 --> 00:01:23,790
picked close to<font color="#E5E5E5"> 10 settings</font><font color="#CCCCCC"> push</font><font color="#E5E5E5"> those</font>

37
00:01:21,479 --> 00:01:26,310
settings<font color="#E5E5E5"> to a few hundred</font><font color="#CCCCCC"> or thousand</font>

38
00:01:23,790 --> 00:01:28,799
machines<font color="#E5E5E5"> used by interns and</font><font color="#CCCCCC"> at risk</font>

39
00:01:26,310 --> 00:01:31,350
users and we<font color="#E5E5E5"> realize a 78 percent</font>

40
00:01:28,799 --> 00:01:33,060
reduction in like up the shelf<font color="#E5E5E5"> malware</font>

41
00:01:31,350 --> 00:01:34,919
and just noise that gets<font color="#E5E5E5"> created for the</font>

42
00:01:33,060 --> 00:01:36,960
for the<font color="#CCCCCC"> socks so I thought that was</font>

43
00:01:34,920 --> 00:01:38,970
<font color="#E5E5E5">really significant with only a few</font>

44
00:01:36,960 --> 00:01:40,829
settings<font color="#E5E5E5"> so if you weren't</font><font color="#CCCCCC"> there you</font>

45
00:01:38,970 --> 00:01:44,100
just say<font color="#E5E5E5"> 44</font><font color="#CCCCCC"> minutes because it was a</font>

46
00:01:40,829 --> 00:01:45,658
pretty detailed talk but<font color="#CCCCCC"> true</font><font color="#E5E5E5"> this one</font>

47
00:01:44,100 --> 00:01:47,759
I'll show<font color="#E5E5E5"> the actual settings we were</font>

48
00:01:45,659 --> 00:01:50,939
talking<font color="#E5E5E5"> about so how do we track our</font>

49
00:01:47,759 --> 00:01:52,439
<font color="#E5E5E5">progress we knew what we had to do but</font>

50
00:01:50,939 --> 00:01:53,820
tracking<font color="#E5E5E5"> it is a different story</font>

51
00:01:52,439 --> 00:01:54,898
<font color="#E5E5E5">especially if you work in an</font><font color="#CCCCCC"> enterprise</font>

52
00:01:53,820 --> 00:01:57,839
<font color="#CCCCCC">environment</font><font color="#E5E5E5"> that's God</font>

53
00:01:54,899 --> 00:01:59,700
you know<font color="#E5E5E5"> 32 different business units all</font>

54
00:01:57,840 --> 00:02:02,189
running different software management

55
00:01:59,700 --> 00:02:03,869
<font color="#CCCCCC">Suites and all of that</font><font color="#E5E5E5"> so first I</font>

56
00:02:02,189 --> 00:02:06,148
figured we should<font color="#E5E5E5"> make a list of the</font>

57
00:02:03,869 --> 00:02:07,649
things<font color="#E5E5E5"> that we wanted to fix so the</font>

58
00:02:06,149 --> 00:02:09,270
first big one was lateral movement

59
00:02:07,649 --> 00:02:11,250
there's so many so many companies<font color="#E5E5E5"> got</font>

60
00:02:09,270 --> 00:02:12,150
<font color="#E5E5E5">wide by ransomware a few years ago and</font>

61
00:02:11,250 --> 00:02:13,950
it's<font color="#CCCCCC"> still a problem</font>

62
00:02:12,150 --> 00:02:15,810
so what's lateral movement

63
00:02:13,950 --> 00:02:17,429
it's a combination<font color="#E5E5E5"> it's a problem</font>

64
00:02:15,810 --> 00:02:19,739
<font color="#CCCCCC">created by a combination of network</font>

65
00:02:17,430 --> 00:02:21,360
access<font color="#CCCCCC"> to</font><font color="#E5E5E5"> these</font><font color="#CCCCCC"> machines</font><font color="#E5E5E5"> and credentials</font>

66
00:02:19,739 --> 00:02:24,239
<font color="#E5E5E5">right so there's a few things there</font><font color="#CCCCCC"> that</font>

67
00:02:21,360 --> 00:02:26,130
<font color="#E5E5E5">we</font><font color="#CCCCCC"> needed</font><font color="#E5E5E5"> to fix macros downloaded from</font>

68
00:02:24,239 --> 00:02:28,319
the<font color="#CCCCCC"> internet still</font><font color="#E5E5E5"> a big thing actually</font>

69
00:02:26,130 --> 00:02:31,530
<font color="#CCCCCC">pretty easy</font><font color="#E5E5E5"> to fix on</font><font color="#CCCCCC"> Windows with the</font>

70
00:02:28,319 --> 00:02:33,269
office<font color="#E5E5E5"> 2016 now and a dual browser setup</font>

71
00:02:31,530 --> 00:02:35,610
so I'll give some<font color="#E5E5E5"> more</font><font color="#CCCCCC"> details around</font>

72
00:02:33,270 --> 00:02:39,090
the<font color="#E5E5E5"> dual browser thing later so the</font>

73
00:02:35,610 --> 00:02:41,640
first thing lateral movement<font color="#CCCCCC"> I think in</font>

74
00:02:39,090 --> 00:02:43,349
most<font color="#CCCCCC"> environments</font><font color="#E5E5E5"> there's no reason why</font>

75
00:02:41,640 --> 00:02:45,480
your workstation<font color="#CCCCCC"> should be accepting</font>

76
00:02:43,349 --> 00:02:47,399
traffic<font color="#E5E5E5"> from another</font><font color="#CCCCCC"> workstation on port</font>

77
00:02:45,480 --> 00:02:49,920
445 right so last<font color="#E5E5E5"> year pretty much</font>

78
00:02:47,400 --> 00:02:51,390
<font color="#E5E5E5">everyone agreed with that</font><font color="#CCCCCC"> and you</font>

79
00:02:49,920 --> 00:02:53,130
<font color="#E5E5E5">typically have some systems may</font><font color="#CCCCCC"> be you</font>

80
00:02:51,390 --> 00:02:55,500
have<font color="#E5E5E5"> SCCM something that's pushing</font>

81
00:02:53,130 --> 00:02:57,030
software to your workstations<font color="#CCCCCC"> that needs</font>

82
00:02:55,500 --> 00:02:58,739
to<font color="#E5E5E5"> be able to connect using those</font>

83
00:02:57,030 --> 00:03:00,540
protocols<font color="#CCCCCC"> but you should</font><font color="#E5E5E5"> have a pretty</font>

84
00:02:58,739 --> 00:03:04,530
<font color="#CCCCCC">good idea of what the</font><font color="#E5E5E5"> address space</font><font color="#CCCCCC"> that</font>

85
00:03:00,540 --> 00:03:09,149
<font color="#CCCCCC">should be</font><font color="#E5E5E5"> coming from so assuming 10.0</font>

86
00:03:04,530 --> 00:03:11,010
<font color="#E5E5E5">99 0/24 is my management zone obviously</font>

87
00:03:09,150 --> 00:03:12,330
<font color="#CCCCCC">it's probably way more complicated</font><font color="#E5E5E5"> in a</font>

88
00:03:11,010 --> 00:03:14,640
real<font color="#CCCCCC"> environment but</font><font color="#E5E5E5"> that's just for my</font>

89
00:03:12,330 --> 00:03:16,440
VM<font color="#CCCCCC"> I figured what do I do with oh s</font>

90
00:03:14,640 --> 00:03:18,149
query to be sure that I'm protected

91
00:03:16,440 --> 00:03:21,180
against lateral<font color="#E5E5E5"> movement at the network</font>

92
00:03:18,150 --> 00:03:22,859
layer<font color="#E5E5E5"> so the issues I had were that a</font>

93
00:03:21,180 --> 00:03:25,079
<font color="#CCCCCC">West query doesn't</font><font color="#E5E5E5"> have a table for the</font>

94
00:03:22,859 --> 00:03:27,090
<font color="#CCCCCC">Windows Firewall it would be much easier</font>

95
00:03:25,079 --> 00:03:30,120
to<font color="#E5E5E5"> do that with IP tables or the</font>

96
00:03:27,090 --> 00:03:31,590
<font color="#E5E5E5">application layer</font><font color="#CCCCCC"> firewalls on Mac not</font>

97
00:03:30,120 --> 00:03:33,810
everyone<font color="#E5E5E5"> uses Windows Firewall</font><font color="#CCCCCC"> right</font>

98
00:03:31,590 --> 00:03:35,549
like most of you probably have<font color="#E5E5E5"> some kind</font>

99
00:03:33,810 --> 00:03:37,109
of AV vendor that<font color="#E5E5E5"> also has fire all</font>

100
00:03:35,549 --> 00:03:39,150
features in there gets complicated

101
00:03:37,109 --> 00:03:40,920
<font color="#E5E5E5">pretty quickly and the windows firewall</font>

102
00:03:39,150 --> 00:03:42,359
has all these<font color="#E5E5E5"> different profiles right</font>

103
00:03:40,920 --> 00:03:43,980
<font color="#E5E5E5">like are you on the domain in are you at</font>

104
00:03:42,359 --> 00:03:46,079
a<font color="#E5E5E5"> Starbucks</font><font color="#CCCCCC"> whatever so it's different</font>

105
00:03:43,980 --> 00:03:48,179
<font color="#E5E5E5">so it's pretty hard to understand what</font>

106
00:03:46,079 --> 00:03:49,739
<font color="#E5E5E5">the rules are so I figured I</font><font color="#CCCCCC"> had two</font>

107
00:03:48,180 --> 00:03:51,060
options<font color="#CCCCCC"> I can read the rules to see if</font>

108
00:03:49,739 --> 00:03:54,570
they're appropriate<font color="#CCCCCC"> or I can just</font>

109
00:03:51,060 --> 00:03:58,200
monitor<font color="#E5E5E5"> for</font><font color="#CCCCCC"> any inbound</font><font color="#E5E5E5"> traffic so to</font>

110
00:03:54,570 --> 00:03:59,670
read the rules<font color="#E5E5E5"> the great thing about</font><font color="#CCCCCC"> os</font>

111
00:03:58,200 --> 00:04:01,560
query on<font color="#E5E5E5"> Windows is it can read the</font>

112
00:03:59,670 --> 00:04:03,988
<font color="#CCCCCC">Windows</font><font color="#E5E5E5"> registry ok so we're gonna have</font>

113
00:04:01,560 --> 00:04:05,819
a lot of<font color="#E5E5E5"> examples</font><font color="#CCCCCC"> here this is pretty</font>

114
00:04:03,989 --> 00:04:07,170
<font color="#CCCCCC">much a real query except for the</font><font color="#E5E5E5"> blah</font>

115
00:04:05,819 --> 00:04:10,429
blah portion in the<font color="#E5E5E5"> middle because</font><font color="#CCCCCC"> it's</font>

116
00:04:07,170 --> 00:04:13,170
like 62 pages wide<font color="#E5E5E5"> yeah windows registry</font>

117
00:04:10,430 --> 00:04:14,639
<font color="#CCCCCC">but</font><font color="#E5E5E5"> the problem is when we read that it</font>

118
00:04:13,170 --> 00:04:16,798
looks<font color="#E5E5E5"> like this right like it's this big</font>

119
00:04:14,639 --> 00:04:19,620
<font color="#CCCCCC">mess of</font><font color="#E5E5E5"> like pipe delimited and there's</font>

120
00:04:16,798 --> 00:04:22,108
so many<font color="#E5E5E5"> fields so do I</font><font color="#CCCCCC"> really want</font><font color="#E5E5E5"> to</font>

121
00:04:19,620 --> 00:04:25,289
try and<font color="#E5E5E5"> understand what that means no</font>

122
00:04:22,108 --> 00:04:27,390
probably<font color="#E5E5E5"> not</font><font color="#CCCCCC"> so I figured a way</font><font color="#E5E5E5"> more</font>

123
00:04:25,289 --> 00:04:27,840
lazy or efficient approach<font color="#E5E5E5"> would just be</font>

124
00:04:27,390 --> 00:04:30,150
to

125
00:04:27,840 --> 00:04:31,679
right<font color="#CCCCCC"> windows is so noisy when people</font>

126
00:04:30,150 --> 00:04:33,419
are browsing like<font color="#CCCCCC"> might network places</font>

127
00:04:31,680 --> 00:04:35,040
and all of that<font color="#CCCCCC"> I don't even need to</font>

128
00:04:33,419 --> 00:04:37,139
check that<font color="#E5E5E5"> the firewall is configured</font>

129
00:04:35,040 --> 00:04:38,610
<font color="#CCCCCC">properly I just need to check if anyone</font>

130
00:04:37,139 --> 00:04:40,650
<font color="#E5E5E5">is connecting to it that I'm</font><font color="#CCCCCC"> not</font>

131
00:04:38,610 --> 00:04:42,600
expecting the advantage from that<font color="#E5E5E5"> means</font>

132
00:04:40,650 --> 00:04:45,179
it worked in every<font color="#E5E5E5"> business unit</font><font color="#CCCCCC"> that I</font>

133
00:04:42,600 --> 00:04:49,440
had that<font color="#E5E5E5"> all use</font><font color="#CCCCCC"> different software</font>

134
00:04:45,180 --> 00:04:51,870
firewall<font color="#E5E5E5"> stacks so there is a process</font>

135
00:04:49,440 --> 00:04:54,570
<font color="#E5E5E5">open sockets table on OS query which</font>

136
00:04:51,870 --> 00:04:56,520
lets you see<font color="#E5E5E5"> what sockets are open so</font>

137
00:04:54,570 --> 00:04:58,530
it's<font color="#E5E5E5"> actually extremely easy to create a</font>

138
00:04:56,520 --> 00:05:00,450
query<font color="#CCCCCC"> that is</font><font color="#E5E5E5"> looking for anything</font>

139
00:04:58,530 --> 00:05:03,359
<font color="#E5E5E5">that's not your localhost</font><font color="#CCCCCC"> or your</font>

140
00:05:00,450 --> 00:05:06,510
expected management<font color="#CCCCCC"> subnet connecting to</font>

141
00:05:03,360 --> 00:05:09,450
port 445 so if I ran<font color="#E5E5E5"> that I would get</font>

142
00:05:06,510 --> 00:05:12,360
this<font color="#E5E5E5"> and I would know that</font><font color="#CCCCCC"> my address</font>

143
00:05:09,450 --> 00:05:14,760
ending with<font color="#E5E5E5"> 15</font><font color="#CCCCCC"> received the connection</font>

144
00:05:12,360 --> 00:05:16,620
from the one ending with<font color="#CCCCCC"> 4 which is not</font>

145
00:05:14,760 --> 00:05:18,780
<font color="#CCCCCC">whitelisted so now I know I have a</font>

146
00:05:16,620 --> 00:05:20,010
lateral<font color="#E5E5E5"> movement problem</font><font color="#CCCCCC"> it doesn't</font><font color="#E5E5E5"> make</font>

147
00:05:18,780 --> 00:05:24,239
<font color="#E5E5E5">any sense</font><font color="#CCCCCC"> that</font><font color="#E5E5E5"> these two workstations</font>

148
00:05:20,010 --> 00:05:25,650
<font color="#E5E5E5">would see each other</font><font color="#CCCCCC"> on port</font><font color="#E5E5E5"> 445 so it's</font>

149
00:05:24,240 --> 00:05:27,570
a pretty short talk so I can't go<font color="#CCCCCC"> over</font>

150
00:05:25,650 --> 00:05:29,400
all the<font color="#CCCCCC"> basics of OS query but you'd</font>

151
00:05:27,570 --> 00:05:31,680
want to<font color="#E5E5E5"> take that data and query it</font>

152
00:05:29,400 --> 00:05:33,450
every few<font color="#CCCCCC"> minutes or so and send that to</font>

153
00:05:31,680 --> 00:05:36,150
<font color="#E5E5E5">somewhere where you can just monitor</font>

154
00:05:33,450 --> 00:05:37,590
<font color="#E5E5E5">that all the time and once you've done</font>

155
00:05:36,150 --> 00:05:40,919
<font color="#CCCCCC">that might as well</font><font color="#E5E5E5"> do</font><font color="#CCCCCC"> it for a remote</font>

156
00:05:37,590 --> 00:05:42,150
desktop<font color="#E5E5E5"> when</font><font color="#CCCCCC"> RM</font><font color="#E5E5E5"> even SSH on different</font>

157
00:05:40,919 --> 00:05:44,490
operating<font color="#E5E5E5"> systems this is gonna be the</font>

158
00:05:42,150 --> 00:05:46,109
<font color="#E5E5E5">same case right you probably don't want</font>

159
00:05:44,490 --> 00:05:48,840
the<font color="#E5E5E5"> person</font><font color="#CCCCCC"> working right next to you to</font>

160
00:05:46,110 --> 00:05:50,039
be<font color="#CCCCCC"> SS aging into</font><font color="#E5E5E5"> your Mac well that same</font>

161
00:05:48,840 --> 00:05:51,719
<font color="#E5E5E5">query is gonna work</font><font color="#CCCCCC"> you just changed the</font>

162
00:05:50,039 --> 00:05:54,000
<font color="#E5E5E5">ports</font><font color="#CCCCCC"> and it's gonna</font><font color="#E5E5E5"> work on Mac</font><font color="#CCCCCC"> and</font>

163
00:05:51,720 --> 00:05:56,070
Linux as<font color="#CCCCCC"> well and same thing for remote</font>

164
00:05:54,000 --> 00:05:58,650
desktop<font color="#E5E5E5"> so that takes care</font><font color="#CCCCCC"> of the</font>

165
00:05:56,070 --> 00:06:00,450
network access then last year<font color="#E5E5E5"> we</font>

166
00:05:58,650 --> 00:06:03,330
discussed<font color="#CCCCCC"> elapsed free tool by Microsoft</font>

167
00:06:00,450 --> 00:06:05,159
<font color="#E5E5E5">just</font><font color="#CCCCCC"> to randomize</font><font color="#E5E5E5"> local accounts on</font>

168
00:06:03,330 --> 00:06:06,599
Windows it works really<font color="#E5E5E5"> well but you</font>

169
00:06:05,160 --> 00:06:07,950
<font color="#E5E5E5">want to be tracking that it's actually</font>

170
00:06:06,600 --> 00:06:10,050
been deployed<font color="#CCCCCC"> in all</font><font color="#E5E5E5"> these environments</font>

171
00:06:07,950 --> 00:06:12,960
<font color="#E5E5E5">where you may not have so much control</font>

172
00:06:10,050 --> 00:06:14,789
so again<font color="#E5E5E5"> Windows registry</font><font color="#CCCCCC"> all the</font>

173
00:06:12,960 --> 00:06:16,830
<font color="#E5E5E5">settings are in there so you probably</font>

174
00:06:14,789 --> 00:06:19,050
will<font color="#CCCCCC"> want to</font><font color="#E5E5E5"> monitor the settings that</font>

175
00:06:16,830 --> 00:06:20,430
control<font color="#E5E5E5"> is it enabled with the length of</font>

176
00:06:19,050 --> 00:06:23,250
the local administrator password going

177
00:06:20,430 --> 00:06:26,000
to be how often<font color="#E5E5E5"> you get they get rotated</font>

178
00:06:23,250 --> 00:06:29,250
<font color="#CCCCCC">so that's another really</font><font color="#E5E5E5"> easy example</font>

179
00:06:26,000 --> 00:06:31,169
you just<font color="#CCCCCC"> query</font><font color="#E5E5E5"> that path in the registry</font>

180
00:06:29,250 --> 00:06:33,930
<font color="#CCCCCC">and I'm gonna put the slides right after</font>

181
00:06:31,169 --> 00:06:36,409
so<font color="#CCCCCC"> you can even copy paste they should</font>

182
00:06:33,930 --> 00:06:38,430
all be<font color="#E5E5E5"> working queries and you get this</font>

183
00:06:36,409 --> 00:06:41,099
you get a table<font color="#E5E5E5"> that tells you exactly</font>

184
00:06:38,430 --> 00:06:41,700
<font color="#E5E5E5">the values that go with each one</font><font color="#CCCCCC"> of</font>

185
00:06:41,099 --> 00:06:44,159
these so

186
00:06:41,700 --> 00:06:46,020
doing that with<font color="#E5E5E5"> something like</font><font color="#CCCCCC"> WMI for</font>

187
00:06:44,160 --> 00:06:47,640
example like all the data is<font color="#CCCCCC"> accessible</font>

188
00:06:46,020 --> 00:06:49,229
<font color="#E5E5E5">but the great thing</font><font color="#CCCCCC"> with OS query is you</font>

189
00:06:47,640 --> 00:06:51,659
just<font color="#E5E5E5"> schedule it and it runs over and</font>

190
00:06:49,230 --> 00:06:54,750
over<font color="#E5E5E5"> and it's super high performance</font>

191
00:06:51,660 --> 00:06:56,070
<font color="#E5E5E5">which means that it's actually less</font>

192
00:06:54,750 --> 00:06:57,630
dangerous to<font color="#E5E5E5"> deploy it and a lot</font><font color="#CCCCCC"> of</font>

193
00:06:56,070 --> 00:06:59,909
other<font color="#E5E5E5"> solutions</font><font color="#CCCCCC"> so now we know how lapse</font>

194
00:06:57,630 --> 00:07:01,710
is configured<font color="#CCCCCC"> in a real world</font>

195
00:06:59,910 --> 00:07:03,480
environment<font color="#CCCCCC"> you would have two options</font>

196
00:07:01,710 --> 00:07:05,669
<font color="#E5E5E5">either you query that and you send it to</font>

197
00:07:03,480 --> 00:07:08,100
a<font color="#E5E5E5"> central database where you monitor or</font>

198
00:07:05,670 --> 00:07:10,170
you may want to tweak that rule to say

199
00:07:08,100 --> 00:07:12,810
<font color="#CCCCCC">ok I know like</font><font color="#E5E5E5"> my password should</font><font color="#CCCCCC"> be way</font>

200
00:07:10,170 --> 00:07:15,270
more<font color="#CCCCCC"> than</font><font color="#E5E5E5"> 14 character long so I want to</font>

201
00:07:12,810 --> 00:07:20,130
<font color="#E5E5E5">get results only if it's like less</font><font color="#CCCCCC"> than</font>

202
00:07:15,270 --> 00:07:21,900
32 or whatever<font color="#E5E5E5"> which you would do like</font>

203
00:07:20,130 --> 00:07:25,230
this<font color="#E5E5E5"> right so for example this would</font>

204
00:07:21,900 --> 00:07:28,320
only<font color="#CCCCCC"> return something</font><font color="#E5E5E5"> if the password</font>

205
00:07:25,230 --> 00:07:29,310
<font color="#E5E5E5">value was set to 31 days or more so I</font>

206
00:07:28,320 --> 00:07:30,659
<font color="#E5E5E5">would know if I'm not getting any</font>

207
00:07:29,310 --> 00:07:33,960
results<font color="#CCCCCC"> from a machine</font><font color="#E5E5E5"> well the</font>

208
00:07:30,660 --> 00:07:37,410
passwords<font color="#E5E5E5"> not expire often enough or</font>

209
00:07:33,960 --> 00:07:38,849
they<font color="#E5E5E5"> get that backwards now that we</font>

210
00:07:37,410 --> 00:07:41,520
<font color="#E5E5E5">fixed the passwords we want to know is</font>

211
00:07:38,850 --> 00:07:44,010
<font color="#CCCCCC">that actually</font><font color="#E5E5E5"> working fine so there's a</font>

212
00:07:41,520 --> 00:07:45,750
<font color="#E5E5E5">Windows Event stable in OS query</font><font color="#CCCCCC"> I don't</font>

213
00:07:44,010 --> 00:07:48,080
have<font color="#E5E5E5"> time to get into the</font><font color="#CCCCCC"> hole events</font>

214
00:07:45,750 --> 00:07:50,760
thing it's actually<font color="#E5E5E5"> pretty interesting</font>

215
00:07:48,080 --> 00:07:52,650
<font color="#CCCCCC">all you need</font><font color="#E5E5E5"> to know before</font><font color="#CCCCCC"> you</font><font color="#E5E5E5"> start</font>

216
00:07:50,760 --> 00:07:54,599
<font color="#E5E5E5">digging is that it lets you specify the</font>

217
00:07:52,650 --> 00:07:57,179
events<font color="#E5E5E5"> you want to</font><font color="#CCCCCC"> centralise right so</font>

218
00:07:54,600 --> 00:07:58,890
no one wants<font color="#CCCCCC"> to</font><font color="#E5E5E5"> do like full every</font>

219
00:07:57,180 --> 00:08:00,570
<font color="#CCCCCC">endpoint to</font><font color="#E5E5E5"> the sim right well I guess</font>

220
00:07:58,890 --> 00:08:03,690
<font color="#CCCCCC">your sim vendor probably wants</font><font color="#E5E5E5"> you to do</font>

221
00:08:00,570 --> 00:08:05,580
<font color="#E5E5E5">that but you can make</font><font color="#CCCCCC"> a</font><font color="#E5E5E5"> really specific</font>

222
00:08:03,690 --> 00:08:07,620
<font color="#E5E5E5">list of events that you</font><font color="#CCCCCC"> want to grab</font>

223
00:08:05,580 --> 00:08:10,409
<font color="#E5E5E5">with</font><font color="#CCCCCC"> OS query</font><font color="#E5E5E5"> and send there so in my</font>

224
00:08:07,620 --> 00:08:12,810
case<font color="#E5E5E5"> here event</font><font color="#CCCCCC"> 47 24 would</font><font color="#E5E5E5"> indicate</font>

225
00:08:10,410 --> 00:08:18,480
that<font color="#E5E5E5"> the local admin account was reset</font>

226
00:08:12,810 --> 00:08:19,680
by by<font color="#CCCCCC"> laps properly and juju or JT is</font>

227
00:08:18,480 --> 00:08:21,060
someone I used to<font color="#CCCCCC"> work with</font><font color="#E5E5E5"> he's got a</font>

228
00:08:19,680 --> 00:08:23,430
bunch of ansible packages for

229
00:08:21,060 --> 00:08:25,470
configuring<font color="#E5E5E5"> things like sis</font><font color="#CCCCCC"> Mon and</font><font color="#E5E5E5"> OS</font>

230
00:08:23,430 --> 00:08:27,600
query on Windows which sometimes it's

231
00:08:25,470 --> 00:08:29,130
<font color="#E5E5E5">pretty hard</font><font color="#CCCCCC"> to get</font><font color="#E5E5E5"> ahold of so you can</font>

232
00:08:27,600 --> 00:08:32,640
<font color="#E5E5E5">check in there we have a great list of</font>

233
00:08:29,130 --> 00:08:36,000
events<font color="#E5E5E5"> to to monitor so we fixed the</font>

234
00:08:32,640 --> 00:08:37,740
network<font color="#E5E5E5"> we fixed the local administrator</font>

235
00:08:36,000 --> 00:08:39,659
password<font color="#E5E5E5"> the next thing we should be</font>

236
00:08:37,740 --> 00:08:42,840
<font color="#E5E5E5">worried about and it's probably pretty</font>

237
00:08:39,659 --> 00:08:44,520
small<font color="#E5E5E5"> but one</font><font color="#CCCCCC"> of the big</font><font color="#E5E5E5"> issues with</font>

238
00:08:42,840 --> 00:08:46,020
ransomware<font color="#CCCCCC"> and lateral movement is just</font>

239
00:08:44,520 --> 00:08:47,880
<font color="#CCCCCC">the</font><font color="#E5E5E5"> amount of credentials that we have</font>

240
00:08:46,020 --> 00:08:49,380
in memory<font color="#E5E5E5"> on systems everywhere right</font>

241
00:08:47,880 --> 00:08:51,870
like everyone's got<font color="#E5E5E5"> the</font><font color="#CCCCCC"> workstation</font>

242
00:08:49,380 --> 00:08:53,400
there's service accounts IT is pushing a

243
00:08:51,870 --> 00:08:54,790
package there's an account with a lot<font color="#E5E5E5"> of</font>

244
00:08:53,400 --> 00:08:57,790
<font color="#E5E5E5">privileges</font>

245
00:08:54,790 --> 00:08:58,930
so<font color="#E5E5E5"> there is a logon</font><font color="#CCCCCC"> session stable on OS</font>

246
00:08:57,790 --> 00:09:00,969
query and it works<font color="#E5E5E5"> really well</font><font color="#CCCCCC"> on</font>

247
00:08:58,930 --> 00:09:03,130
<font color="#CCCCCC">Windows so what it lets you</font><font color="#E5E5E5"> do is see</font>

248
00:09:00,970 --> 00:09:06,940
what sessions are live<font color="#E5E5E5"> when you run it</font>

249
00:09:03,130 --> 00:09:09,670
<font color="#E5E5E5">which</font><font color="#CCCCCC"> ok so here I have a column for</font>

250
00:09:06,940 --> 00:09:11,110
users what domain<font color="#E5E5E5"> they're in what what</font>

251
00:09:09,670 --> 00:09:15,849
domain controller that<font color="#E5E5E5"> came from and all</font>

252
00:09:11,110 --> 00:09:17,890
that which that's interesting but last

253
00:09:15,850 --> 00:09:20,680
year we talked about restricting<font color="#E5E5E5"> service</font>

254
00:09:17,890 --> 00:09:23,290
accounts so<font color="#E5E5E5"> that humans could only</font><font color="#CCCCCC"> login</font>

255
00:09:20,680 --> 00:09:25,239
in an interactive<font color="#E5E5E5"> manner and services</font>

256
00:09:23,290 --> 00:09:26,910
could never do so<font color="#E5E5E5"> right so you're a</font>

257
00:09:25,240 --> 00:09:30,100
<font color="#E5E5E5">computer you don't log into an</font>

258
00:09:26,910 --> 00:09:31,780
<font color="#E5E5E5">interactive interface</font><font color="#CCCCCC"> and vice-versa</font><font color="#E5E5E5"> so</font>

259
00:09:30,100 --> 00:09:33,280
if you have a naming convention<font color="#CCCCCC"> for</font><font color="#E5E5E5"> that</font>

260
00:09:31,780 --> 00:09:35,380
for example<font color="#CCCCCC"> if your service accounts</font>

261
00:09:33,280 --> 00:09:38,260
<font color="#E5E5E5">start with like SVC underscore and</font>

262
00:09:35,380 --> 00:09:39,760
<font color="#E5E5E5">you're highly privileged</font><font color="#CCCCCC"> account</font><font color="#E5E5E5"> start</font>

263
00:09:38,260 --> 00:09:41,740
with with<font color="#E5E5E5"> something else</font><font color="#CCCCCC"> you can</font>

264
00:09:39,760 --> 00:09:45,400
leverage<font color="#CCCCCC"> that with that table really</font>

265
00:09:41,740 --> 00:09:47,710
quickly<font color="#E5E5E5"> if you</font><font color="#CCCCCC"> don't have that actually</font>

266
00:09:45,400 --> 00:09:49,660
<font color="#CCCCCC">Justins</font><font color="#E5E5E5"> turbo talk from a few minutes</font>

267
00:09:47,710 --> 00:09:51,520
<font color="#CCCCCC">ago</font><font color="#E5E5E5"> I don't</font><font color="#CCCCCC"> know if he's here</font><font color="#E5E5E5"> dumping</font>

268
00:09:49,660 --> 00:09:53,680
all your your Active Directory stuff to

269
00:09:51,520 --> 00:09:55,689
the same database<font color="#E5E5E5"> where</font><font color="#CCCCCC"> you will send</font>

270
00:09:53,680 --> 00:09:58,089
your<font color="#E5E5E5"> OS query results would</font><font color="#CCCCCC"> be really</font>

271
00:09:55,690 --> 00:10:01,180
interesting because<font color="#E5E5E5"> then we have</font><font color="#CCCCCC"> a</font>

272
00:09:58,090 --> 00:10:03,370
column called logon<font color="#E5E5E5"> type and it tells us</font>

273
00:10:01,180 --> 00:10:06,160
exactly<font color="#E5E5E5"> which session is interactive or</font>

274
00:10:03,370 --> 00:10:07,750
not so if we combine<font color="#CCCCCC"> that with what we</font>

275
00:10:06,160 --> 00:10:11,050
just<font color="#E5E5E5"> said which is</font><font color="#CCCCCC"> okay my service</font>

276
00:10:07,750 --> 00:10:13,420
accounts start with SVC underscore<font color="#CCCCCC"> I can</font>

277
00:10:11,050 --> 00:10:18,219
create a query<font color="#E5E5E5"> reading the UPN the</font>

278
00:10:13,420 --> 00:10:20,800
domain name where the<font color="#E5E5E5"> account starts</font>

279
00:10:18,220 --> 00:10:22,960
with SVC underscore and the logon<font color="#E5E5E5"> type</font>

280
00:10:20,800 --> 00:10:24,939
is interactive<font color="#CCCCCC"> so if I run that on all</font>

281
00:10:22,960 --> 00:10:26,410
of<font color="#CCCCCC"> my machines I will instantly have a</font>

282
00:10:24,940 --> 00:10:28,390
list of<font color="#E5E5E5"> accounts that are not service</font>

283
00:10:26,410 --> 00:10:30,219
accounts that are service accounts<font color="#E5E5E5"> and</font>

284
00:10:28,390 --> 00:10:31,930
that are logged in interactively<font color="#E5E5E5"> and</font>

285
00:10:30,220 --> 00:10:33,760
then you<font color="#E5E5E5"> probably just do the other way</font>

286
00:10:31,930 --> 00:10:36,040
around<font color="#CCCCCC"> right like anything logged in as</font>

287
00:10:33,760 --> 00:10:38,950
a service<font color="#E5E5E5"> that doesn't start with with</font>

288
00:10:36,040 --> 00:10:43,569
SVC<font color="#E5E5E5"> so now we know what our credential</font>

289
00:10:38,950 --> 00:10:44,890
exposure is so<font color="#CCCCCC"> another issue that's</font>

290
00:10:43,570 --> 00:10:46,630
pretty common<font color="#E5E5E5"> depending on the</font>

291
00:10:44,890 --> 00:10:48,880
environment you you work in people try

292
00:10:46,630 --> 00:10:52,000
<font color="#E5E5E5">to get local admin privileges in any way</font>

293
00:10:48,880 --> 00:10:53,890
<font color="#CCCCCC">that they can</font><font color="#E5E5E5"> so this is an interesting</font>

294
00:10:52,000 --> 00:10:56,950
<font color="#CCCCCC">example because</font><font color="#E5E5E5"> it's gonna allow us</font><font color="#CCCCCC"> to</font>

295
00:10:53,890 --> 00:10:59,350
use wildcards<font color="#E5E5E5"> in OS query</font><font color="#CCCCCC"> queries so</font>

296
00:10:56,950 --> 00:11:02,110
sticky keys basically the trick is for

297
00:10:59,350 --> 00:11:03,850
those<font color="#E5E5E5"> that have never</font><font color="#CCCCCC"> done</font><font color="#E5E5E5"> before</font><font color="#CCCCCC"> sticky</font>

298
00:11:02,110 --> 00:11:05,470
keys is<font color="#CCCCCC"> a accessibility option in</font>

299
00:11:03,850 --> 00:11:08,350
Windows<font color="#E5E5E5"> that lets you use the keyboard</font>

300
00:11:05,470 --> 00:11:08,889
<font color="#CCCCCC">instead of a mouse right so don't be a</font>

301
00:11:08,350 --> 00:11:10,720
dick<font color="#CCCCCC"> don't</font>

302
00:11:08,889 --> 00:11:12,279
<font color="#CCCCCC">sable</font><font color="#E5E5E5"> it if people need it you need an</font>

303
00:11:10,720 --> 00:11:15,009
option for<font color="#CCCCCC"> people that</font><font color="#E5E5E5"> really need it</font>

304
00:11:12,279 --> 00:11:16,929
that being said by default<font color="#CCCCCC"> it points to</font>

305
00:11:15,009 --> 00:11:18,609
an executable<font color="#E5E5E5"> and sometimes the</font>

306
00:11:16,929 --> 00:11:20,470
permissions on that executable<font color="#E5E5E5"> or the</font>

307
00:11:18,609 --> 00:11:22,779
registry key that points to it are weak

308
00:11:20,470 --> 00:11:25,809
<font color="#E5E5E5">and people just replace sticky keys with</font>

309
00:11:22,779 --> 00:11:27,939
cmd.exe for example so<font color="#CCCCCC"> Remote Desktop to</font>

310
00:11:25,809 --> 00:11:32,230
<font color="#E5E5E5">a machine</font><font color="#CCCCCC"> hit shift 5 times</font><font color="#E5E5E5"> and</font><font color="#CCCCCC"> instead</font>

311
00:11:27,939 --> 00:11:33,879
of<font color="#E5E5E5"> sticky keys you get a shell so</font><font color="#CCCCCC"> you</font>

312
00:11:32,230 --> 00:11:34,509
can disable sticky keys for users<font color="#CCCCCC"> that</font>

313
00:11:33,879 --> 00:11:37,869
<font color="#E5E5E5">don't need it</font>

314
00:11:34,509 --> 00:11:39,790
there's GPOs for that and all<font color="#E5E5E5"> that the</font>

315
00:11:37,869 --> 00:11:44,019
value you're<font color="#CCCCCC"> looking for in the registry</font>

316
00:11:39,790 --> 00:11:47,139
is 506 which means it<font color="#E5E5E5"> is disabled</font><font color="#CCCCCC"> now</font>

317
00:11:44,019 --> 00:11:50,410
<font color="#CCCCCC">the thing is the Windows registry for</font>

318
00:11:47,139 --> 00:11:52,779
user settings<font color="#E5E5E5"> is like the current person</font>

319
00:11:50,410 --> 00:11:55,358
logged in is H key current user

320
00:11:52,779 --> 00:11:57,040
right but on a<font color="#E5E5E5"> workstation you may have</font>

321
00:11:55,359 --> 00:11:59,619
you<font color="#CCCCCC"> know 15</font><font color="#E5E5E5"> different users that logged</font>

322
00:11:57,040 --> 00:12:01,269
in at any<font color="#CCCCCC"> point so the trick here is you</font>

323
00:11:59,619 --> 00:12:03,069
<font color="#E5E5E5">need to map that back to a user right</font>

324
00:12:01,269 --> 00:12:04,660
like it's a setting that's<font color="#CCCCCC"> per user</font><font color="#E5E5E5"> on</font>

325
00:12:03,069 --> 00:12:07,449
top of having<font color="#E5E5E5"> the</font><font color="#CCCCCC"> system level setting</font>

326
00:12:04,660 --> 00:12:09,790
so in OS<font color="#CCCCCC"> query and I don't</font><font color="#E5E5E5"> know this</font>

327
00:12:07,449 --> 00:12:12,459
pointer<font color="#E5E5E5"> works here</font><font color="#CCCCCC"> yeh through you can</font>

328
00:12:09,790 --> 00:12:13,449
use a<font color="#CCCCCC"> % here as a wild-card</font>

329
00:12:12,459 --> 00:12:15,128
so what<font color="#E5E5E5"> it's going to do is it's going</font>

330
00:12:13,449 --> 00:12:17,679
to go through<font color="#E5E5E5"> all the different registry</font>

331
00:12:15,129 --> 00:12:20,739
hives that<font color="#E5E5E5"> you have to look for keys</font>

332
00:12:17,679 --> 00:12:21,189
that look<font color="#E5E5E5"> like that which is a good</font>

333
00:12:20,739 --> 00:12:23,679
<font color="#E5E5E5">start</font>

334
00:12:21,189 --> 00:12:26,139
now we get that<font color="#CCCCCC"> ok so 5</font><font color="#E5E5E5"> 10 which</font><font color="#CCCCCC"> is not</font>

335
00:12:23,679 --> 00:12:27,910
the<font color="#E5E5E5"> value I want and then I have the</font>

336
00:12:26,139 --> 00:12:30,040
registry pad but that<font color="#E5E5E5"> doesn't really</font>

337
00:12:27,910 --> 00:12:34,029
tell<font color="#CCCCCC"> me</font><font color="#E5E5E5"> who these users are right like</font>

338
00:12:30,040 --> 00:12:35,498
you have the<font color="#E5E5E5"> windows sit in there the</font>

339
00:12:34,029 --> 00:12:37,569
windows people<font color="#E5E5E5"> will recognize the the</font>

340
00:12:35,499 --> 00:12:39,790
<font color="#E5E5E5">first the first few and then the last</font>

341
00:12:37,569 --> 00:12:42,189
<font color="#E5E5E5">line is the test account that I had</font>

342
00:12:39,790 --> 00:12:43,449
created<font color="#E5E5E5"> so corporate environments you</font>

343
00:12:42,189 --> 00:12:44,860
want to know what account<font color="#E5E5E5"> doesn't have</font>

344
00:12:43,449 --> 00:12:47,889
the right rules applied to it you can't

345
00:12:44,860 --> 00:12:50,230
just<font color="#E5E5E5"> get a list of SIDS especially since</font>

346
00:12:47,889 --> 00:12:51,999
you're<font color="#E5E5E5"> looking at local registry here</font>

347
00:12:50,230 --> 00:12:54,970
<font color="#E5E5E5">and you need to map that to Active</font>

348
00:12:51,999 --> 00:12:57,339
Directory<font color="#CCCCCC"> so this is when it starts</font>

349
00:12:54,970 --> 00:12:59,860
getting fun<font color="#E5E5E5"> so if you're familiar with</font>

350
00:12:57,339 --> 00:13:02,889
you know SQL operations or anything like

351
00:12:59,860 --> 00:13:04,419
<font color="#E5E5E5">that even regular expressions you'll see</font>

352
00:13:02,889 --> 00:13:07,029
<font color="#E5E5E5">exactly what I'm trying</font><font color="#CCCCCC"> to do</font><font color="#E5E5E5"> here which</font>

353
00:13:04,419 --> 00:13:09,850
is<font color="#E5E5E5"> OS query lets you split a column</font><font color="#CCCCCC"> base</font>

354
00:13:07,029 --> 00:13:11,019
on a<font color="#E5E5E5"> specific pattern</font><font color="#CCCCCC"> right so it's</font>

355
00:13:09,850 --> 00:13:13,179
<font color="#E5E5E5">window so there's back slashes</font>

356
00:13:11,019 --> 00:13:15,129
everywhere right if we go back<font color="#CCCCCC"> to the</font>

357
00:13:13,179 --> 00:13:17,169
previous<font color="#CCCCCC"> one</font><font color="#E5E5E5"> what we really want is</font>

358
00:13:15,129 --> 00:13:20,799
what's after the first<font color="#CCCCCC"> backslash and</font>

359
00:13:17,169 --> 00:13:22,329
before the second backslash<font color="#E5E5E5"> that's it so</font>

360
00:13:20,799 --> 00:13:22,720
I'm going to<font color="#E5E5E5"> select my</font><font color="#CCCCCC"> user name</font><font color="#E5E5E5"> I'm</font>

361
00:13:22,329 --> 00:13:24,758
<font color="#E5E5E5">going to</font>

362
00:13:22,720 --> 00:13:28,360
<font color="#CCCCCC">like my data and</font><font color="#E5E5E5"> then I'm going</font><font color="#CCCCCC"> to split</font>

363
00:13:24,759 --> 00:13:30,850
the<font color="#E5E5E5"> Pat column where there's a backslash</font>

364
00:13:28,360 --> 00:13:32,649
and I want the first<font color="#E5E5E5"> value after the</font>

365
00:13:30,850 --> 00:13:36,779
<font color="#E5E5E5">first backslash and I'm gonna call</font><font color="#CCCCCC"> that</font>

366
00:13:32,649 --> 00:13:39,819
column<font color="#CCCCCC"> read u UUID for registry UUID</font>

367
00:13:36,779 --> 00:13:42,009
from a<font color="#E5E5E5"> sub query</font><font color="#CCCCCC"> which is the query I</font>

368
00:13:39,819 --> 00:13:44,439
was showing<font color="#CCCCCC"> before</font><font color="#E5E5E5"> and then what do you</font>

369
00:13:42,009 --> 00:13:46,029
do<font color="#E5E5E5"> you join</font><font color="#CCCCCC"> that to the</font><font color="#E5E5E5"> users table in</font>

370
00:13:44,439 --> 00:13:48,459
OS query which has a bunch<font color="#CCCCCC"> of</font>

371
00:13:46,029 --> 00:13:50,860
<font color="#E5E5E5">information about your</font><font color="#CCCCCC"> users including</font>

372
00:13:48,459 --> 00:13:53,589
the actual<font color="#CCCCCC"> UUID which on Windows is</font><font color="#E5E5E5"> the</font>

373
00:13:50,860 --> 00:13:56,050
<font color="#CCCCCC">SID so we now have a way of mapping</font><font color="#E5E5E5"> this</font>

374
00:13:53,589 --> 00:13:58,389
registry query this<font color="#CCCCCC"> registry setting</font><font color="#E5E5E5"> to</font>

375
00:13:56,050 --> 00:14:01,508
an<font color="#E5E5E5"> actual user so here we see the actual</font>

376
00:13:58,389 --> 00:14:03,040
users names and through there's a bunch

377
00:14:01,509 --> 00:14:05,110
of other fields<font color="#E5E5E5"> so you could</font><font color="#CCCCCC"> even map</font>

378
00:14:03,040 --> 00:14:07,329
that back<font color="#CCCCCC"> to like UPN and</font><font color="#E5E5E5"> all of that</font>

379
00:14:05,110 --> 00:14:09,790
<font color="#CCCCCC">and you could get a nice</font><font color="#E5E5E5"> list of actual</font>

380
00:14:07,329 --> 00:14:11,949
<font color="#E5E5E5">end users not configured properly on</font>

381
00:14:09,790 --> 00:14:14,800
specific<font color="#CCCCCC"> hosts right because the way</font>

382
00:14:11,949 --> 00:14:16,240
<font color="#E5E5E5">GPIOs work</font><font color="#CCCCCC"> in loopback processing</font><font color="#E5E5E5"> maybe</font>

383
00:14:14,800 --> 00:14:18,099
you're logged<font color="#E5E5E5"> in to your Windows laptop</font>

384
00:14:16,240 --> 00:14:19,959
<font color="#E5E5E5">everything is fine but maybe when you're</font>

385
00:14:18,100 --> 00:14:23,980
doing<font color="#E5E5E5"> terminal services somewhere else</font>

386
00:14:19,959 --> 00:14:26,079
<font color="#CCCCCC">it's</font><font color="#E5E5E5"> not so with that you'll know so the</font>

387
00:14:23,980 --> 00:14:30,250
next point<font color="#E5E5E5"> we had was a Microsoft Office</font>

388
00:14:26,079 --> 00:14:34,120
<font color="#E5E5E5">so Microsoft Office 2016 has a setting I</font>

389
00:14:30,250 --> 00:14:36,759
believe they ported it back to<font color="#E5E5E5"> 2013</font><font color="#CCCCCC"> in</font>

390
00:14:34,120 --> 00:14:38,470
<font color="#CCCCCC">an update called blocked</font><font color="#E5E5E5"> content from</font>

391
00:14:36,759 --> 00:14:40,269
<font color="#CCCCCC">internet</font><font color="#E5E5E5"> right so you want that to</font><font color="#CCCCCC"> be</font>

392
00:14:38,470 --> 00:14:42,009
there and be<font color="#E5E5E5"> set to one right you don't</font>

393
00:14:40,269 --> 00:14:43,269
want to be prompting users<font color="#E5E5E5"> to execute</font>

394
00:14:42,009 --> 00:14:45,699
macros on things that<font color="#E5E5E5"> come</font><font color="#CCCCCC"> from</font><font color="#E5E5E5"> the</font>

395
00:14:43,269 --> 00:14:48,069
<font color="#E5E5E5">internet because they want to open the</font>

396
00:14:45,699 --> 00:14:49,479
<font color="#E5E5E5">file so of course they'll run a macro</font><font color="#CCCCCC"> so</font>

397
00:14:48,069 --> 00:14:52,000
every file<font color="#CCCCCC"> that gets</font><font color="#E5E5E5"> downloaded or</font>

398
00:14:49,480 --> 00:14:53,949
through<font color="#E5E5E5"> like Outlook or your</font><font color="#CCCCCC"> browser</font><font color="#E5E5E5"> is</font>

399
00:14:52,000 --> 00:14:56,559
gonna get metadata on it and then

400
00:14:53,949 --> 00:14:58,508
<font color="#CCCCCC">Outlook won't run it now again it's</font>

401
00:14:56,559 --> 00:15:00,219
typically by user most people configure

402
00:14:58,509 --> 00:15:02,379
office by users or some settings that

403
00:15:00,220 --> 00:15:04,509
<font color="#E5E5E5">are at the computer level and on top of</font>

404
00:15:02,379 --> 00:15:06,699
<font color="#CCCCCC">that office does it per app right so</font>

405
00:15:04,509 --> 00:15:08,350
<font color="#E5E5E5">Excel has all of its settings word as</font>

406
00:15:06,699 --> 00:15:11,709
all these<font color="#CCCCCC"> its settings and it can</font><font color="#E5E5E5"> get</font>

407
00:15:08,350 --> 00:15:18,009
into a pretty<font color="#E5E5E5"> big mess pretty quickly</font><font color="#CCCCCC"> so</font>

408
00:15:11,709 --> 00:15:20,258
<font color="#E5E5E5">I'm gonna</font><font color="#CCCCCC"> zoom on that alright so</font><font color="#E5E5E5"> we</font>

409
00:15:18,009 --> 00:15:22,180
<font color="#E5E5E5">already knew we had to</font><font color="#CCCCCC"> use a wild card</font>

410
00:15:20,259 --> 00:15:24,490
to<font color="#CCCCCC"> match the users right so it's</font><font color="#E5E5E5"> the</font>

411
00:15:22,180 --> 00:15:31,630
same same<font color="#CCCCCC"> thing we have a users sit</font>

412
00:15:24,490 --> 00:15:33,610
right here what<font color="#E5E5E5"> you want to do is where</font>

413
00:15:31,630 --> 00:15:34,929
you see word right<font color="#CCCCCC"> there is just replace</font>

414
00:15:33,610 --> 00:15:36,579
<font color="#E5E5E5">the second wild</font><font color="#CCCCCC"> card you can actually</font>

415
00:15:34,929 --> 00:15:39,309
have multiple wild cards<font color="#E5E5E5"> in this</font>

416
00:15:36,579 --> 00:15:41,109
same OS query command<font color="#E5E5E5"> that works really</font>

417
00:15:39,309 --> 00:15:42,910
well<font color="#CCCCCC"> if you're</font><font color="#E5E5E5"> trying it with the</font>

418
00:15:41,110 --> 00:15:45,309
<font color="#E5E5E5">interactive version of</font><font color="#CCCCCC"> a West query and</font>

419
00:15:42,910 --> 00:15:47,170
you're getting<font color="#E5E5E5"> like weird errors and</font>

420
00:15:45,309 --> 00:15:48,790
you're not<font color="#E5E5E5"> able to execute it there is</font>

421
00:15:47,170 --> 00:15:51,128
<font color="#E5E5E5">currently a bug in the West query</font><font color="#CCCCCC"> adjust</font>

422
00:15:48,790 --> 00:15:52,540
the interactive version<font color="#E5E5E5"> the query works</font>

423
00:15:51,129 --> 00:15:56,009
once and then you have to quit<font color="#E5E5E5"> and</font>

424
00:15:52,540 --> 00:15:56,009
restart but it's gonna get<font color="#CCCCCC"> fixed soon</font>

425
00:16:01,910 --> 00:16:06,110
<font color="#E5E5E5">all right so we now monitor our office</font>

426
00:16:04,760 --> 00:16:07,970
environment for the right the right

427
00:16:06,110 --> 00:16:09,860
setting for<font color="#CCCCCC"> all the</font><font color="#E5E5E5"> users for all the</font>

428
00:16:07,970 --> 00:16:12,050
different apps<font color="#E5E5E5"> so the next one is the</font>

429
00:16:09,860 --> 00:16:14,630
multi browser<font color="#E5E5E5"> deployment or dual browser</font>

430
00:16:12,050 --> 00:16:16,640
deployment so one of<font color="#E5E5E5"> the things that's</font>

431
00:16:14,630 --> 00:16:19,040
the most<font color="#E5E5E5"> valuable in Windows</font><font color="#CCCCCC"> 10</font><font color="#E5E5E5"> in terms</font>

432
00:16:16,640 --> 00:16:21,890
<font color="#E5E5E5">of security</font><font color="#CCCCCC"> I</font><font color="#E5E5E5"> think is the fact that you</font>

433
00:16:19,040 --> 00:16:25,339
can<font color="#E5E5E5"> use tools made for compatibility</font>

434
00:16:21,890 --> 00:16:26,750
<font color="#CCCCCC">reasons</font><font color="#E5E5E5"> for security so edge is not</font>

435
00:16:25,340 --> 00:16:28,250
compatible with<font color="#E5E5E5"> a bunch of you</font><font color="#CCCCCC"> know</font>

436
00:16:26,750 --> 00:16:29,720
corporate<font color="#E5E5E5"> websites you probably have</font>

437
00:16:28,250 --> 00:16:30,920
like some kind<font color="#CCCCCC"> of terrible security or</font>

438
00:16:29,720 --> 00:16:34,220
<font color="#CCCCCC">we're nesting that</font><font color="#E5E5E5"> only works in</font>

439
00:16:30,920 --> 00:16:37,959
Internet Explorer<font color="#CCCCCC"> or whatever kind of</font>

440
00:16:34,220 --> 00:16:39,890
<font color="#E5E5E5">ironic but Microsoft has put</font>

441
00:16:37,960 --> 00:16:43,370
compatibility tools that we can leverage

442
00:16:39,890 --> 00:16:45,230
there so what we want to<font color="#E5E5E5"> do here is when</font>

443
00:16:43,370 --> 00:16:47,000
people<font color="#E5E5E5"> open up a browser</font><font color="#CCCCCC"> if they type</font>

444
00:16:45,230 --> 00:16:48,170
google.com<font color="#E5E5E5"> and they're in Internet</font>

445
00:16:47,000 --> 00:16:50,810
Explorer you want to be<font color="#E5E5E5"> shutting that</font>

446
00:16:48,170 --> 00:16:52,040
down sending them to edge and if they're

447
00:16:50,810 --> 00:16:55,579
in edge and they're trying to go to

448
00:16:52,040 --> 00:16:56,839
terrible security or an S<font color="#CCCCCC"> corp</font><font color="#E5E5E5"> you want</font>

449
00:16:55,580 --> 00:16:59,180
to be<font color="#E5E5E5"> sending them to Internet Explorer</font>

450
00:16:56,840 --> 00:17:01,580
so it works and you<font color="#E5E5E5"> probably want to be</font>

451
00:16:59,180 --> 00:17:02,660
deploying<font color="#CCCCCC"> Chrome and an ad blocker at</font>

452
00:17:01,580 --> 00:17:04,760
the same time that's<font color="#E5E5E5"> actually</font><font color="#CCCCCC"> pretty</font>

453
00:17:02,660 --> 00:17:06,230
<font color="#E5E5E5">funny because last year I was saying</font>

454
00:17:04,760 --> 00:17:08,660
<font color="#E5E5E5">chrome is</font><font color="#CCCCCC"> going to start blocking</font><font color="#E5E5E5"> ads</font>

455
00:17:06,230 --> 00:17:10,339
soon so<font color="#E5E5E5"> maybe we won't need that anymore</font>

456
00:17:08,660 --> 00:17:11,930
turns out we still do<font color="#E5E5E5"> and now there's a</font>

457
00:17:10,339 --> 00:17:13,069
bunch<font color="#E5E5E5"> of changes</font><font color="#CCCCCC"> coming</font><font color="#E5E5E5"> up so I</font><font color="#CCCCCC"> don't</font>

458
00:17:11,930 --> 00:17:15,380
know what's gonna<font color="#E5E5E5"> happen with some of</font>

459
00:17:13,069 --> 00:17:18,889
these<font color="#E5E5E5"> extensions so I guess we'll see</font>

460
00:17:15,380 --> 00:17:20,750
<font color="#CCCCCC">next year</font><font color="#E5E5E5"> so yeah so sometimes</font><font color="#CCCCCC"> I call it</font>

461
00:17:18,890 --> 00:17:22,459
a dual browser strategy but<font color="#E5E5E5"> it requires</font>

462
00:17:20,750 --> 00:17:24,140
like three or<font color="#E5E5E5"> four I just figure have</font>

463
00:17:22,459 --> 00:17:26,209
more browsers make sure they're

464
00:17:24,140 --> 00:17:27,949
configured<font color="#CCCCCC"> properly</font><font color="#E5E5E5"> and then use a tool</font>

465
00:17:26,209 --> 00:17:31,660
that's<font color="#E5E5E5"> cross-platform like</font><font color="#CCCCCC"> iOS query</font><font color="#E5E5E5"> to</font>

466
00:17:27,949 --> 00:17:37,280
ensure<font color="#CCCCCC"> that it's done everywhere</font><font color="#E5E5E5"> so</font>

467
00:17:31,660 --> 00:17:40,310
you'll query again using a<font color="#E5E5E5"> wild card for</font>

468
00:17:37,280 --> 00:17:41,990
a configuration item<font color="#E5E5E5"> called site list so</font>

469
00:17:40,310 --> 00:17:43,790
Microsoft lets you create an XML they

470
00:17:41,990 --> 00:17:46,010
have tools for<font color="#CCCCCC"> that that list is</font>

471
00:17:43,790 --> 00:17:48,530
basically<font color="#E5E5E5"> the whitelist of sites that</font>

472
00:17:46,010 --> 00:17:50,900
should be opened in Internet Explorer

473
00:17:48,530 --> 00:17:52,670
<font color="#E5E5E5">why do we</font><font color="#CCCCCC"> need a</font><font color="#E5E5E5"> wild</font><font color="#CCCCCC"> card there</font><font color="#E5E5E5"> well</font>

474
00:17:50,900 --> 00:17:54,020
because edge<font color="#E5E5E5"> needs to be configured</font><font color="#CCCCCC"> for</font>

475
00:17:52,670 --> 00:17:56,570
it and Internet Explorer needs to be

476
00:17:54,020 --> 00:17:58,790
configured<font color="#CCCCCC"> for it so you'll run that</font>

477
00:17:56,570 --> 00:18:02,000
query<font color="#E5E5E5"> and if you don't get</font><font color="#CCCCCC"> two</font><font color="#E5E5E5"> results</font>

478
00:17:58,790 --> 00:18:03,590
for every<font color="#E5E5E5"> workstation in this case it</font>

479
00:18:02,000 --> 00:18:06,080
was configured by<font color="#CCCCCC"> workstation</font><font color="#E5E5E5"> and not by</font>

480
00:18:03,590 --> 00:18:07,790
user you know you have something<font color="#CCCCCC"> wrong</font>

481
00:18:06,080 --> 00:18:09,230
so basically Internet Explorer<font color="#E5E5E5"> won't</font>

482
00:18:07,790 --> 00:18:11,629
know where<font color="#CCCCCC"> to get the list and it's</font>

483
00:18:09,230 --> 00:18:13,310
<font color="#E5E5E5">going</font><font color="#CCCCCC"> to allow people to pretty</font><font color="#E5E5E5"> much do</font>

484
00:18:11,630 --> 00:18:14,730
whatever you want so<font color="#CCCCCC"> once the list is</font>

485
00:18:13,310 --> 00:18:17,159
configured

486
00:18:14,730 --> 00:18:19,440
the next thing you<font color="#CCCCCC"> need to</font><font color="#E5E5E5"> check is</font><font color="#CCCCCC"> that</font>

487
00:18:17,160 --> 00:18:21,780
restrict<font color="#E5E5E5"> ie is enabled</font><font color="#CCCCCC"> because that's</font>

488
00:18:19,440 --> 00:18:24,030
the bit that<font color="#E5E5E5"> makes it</font><font color="#CCCCCC"> kickoff to edge</font>

489
00:18:21,780 --> 00:18:25,170
whenever<font color="#E5E5E5"> something is not in the list so</font>

490
00:18:24,030 --> 00:18:26,790
as soon<font color="#E5E5E5"> as you do that and it's pretty</font>

491
00:18:25,170 --> 00:18:28,500
it's actually pretty smooth you just

492
00:18:26,790 --> 00:18:30,149
type in a URL and<font color="#E5E5E5"> you get kicked to</font><font color="#CCCCCC"> the</font>

493
00:18:28,500 --> 00:18:34,590
other one so<font color="#CCCCCC"> you want to be monitoring</font>

494
00:18:30,150 --> 00:18:36,330
<font color="#E5E5E5">for</font><font color="#CCCCCC"> that restrict I and then</font><font color="#E5E5E5"> you know</font><font color="#CCCCCC"> we</font>

495
00:18:34,590 --> 00:18:38,070
did like<font color="#E5E5E5"> all the users</font><font color="#CCCCCC"> and mapping and</font>

496
00:18:36,330 --> 00:18:39,330
<font color="#E5E5E5">joining so we have some some really easy</font>

497
00:18:38,070 --> 00:18:41,399
<font color="#E5E5E5">stuff that you should do at the same</font>

498
00:18:39,330 --> 00:18:45,750
time right<font color="#CCCCCC"> Chrome for</font><font color="#E5E5E5"> business is it</font>

499
00:18:41,400 --> 00:18:47,790
installed<font color="#CCCCCC"> this</font><font color="#E5E5E5"> is a really basic sample</font>

500
00:18:45,750 --> 00:18:49,410
<font color="#E5E5E5">for doing it interactively you probably</font>

501
00:18:47,790 --> 00:18:50,430
want to<font color="#E5E5E5"> be</font><font color="#CCCCCC"> actually sending</font><font color="#E5E5E5"> the list of</font>

502
00:18:49,410 --> 00:18:53,310
everything<font color="#E5E5E5"> that's installed to your</font>

503
00:18:50,430 --> 00:18:54,660
central repository<font color="#CCCCCC"> and there's the</font>

504
00:18:53,310 --> 00:18:57,480
publisher info in<font color="#E5E5E5"> there that you can use</font>

505
00:18:54,660 --> 00:18:59,960
<font color="#E5E5E5">make sure it's a legit version so that's</font>

506
00:18:57,480 --> 00:19:02,820
pretty simple<font color="#E5E5E5"> straightforward query and</font>

507
00:18:59,960 --> 00:19:05,400
then we have<font color="#E5E5E5"> Chrome extensions which is</font>

508
00:19:02,820 --> 00:19:07,950
my last sample here which are also

509
00:19:05,400 --> 00:19:11,910
configured by user<font color="#E5E5E5"> so using what we've</font>

510
00:19:07,950 --> 00:19:14,730
<font color="#CCCCCC">just learned before we can map to our</font>

511
00:19:11,910 --> 00:19:16,380
users table<font color="#CCCCCC"> the</font><font color="#E5E5E5"> Chrome extensions table</font>

512
00:19:14,730 --> 00:19:18,810
and then we can know<font color="#CCCCCC"> exactly what user</font>

513
00:19:16,380 --> 00:19:21,030
does or doesn't have an<font color="#CCCCCC"> ad blocker</font>

514
00:19:18,810 --> 00:19:22,889
<font color="#E5E5E5">install and I've said it many</font><font color="#CCCCCC"> times I</font>

515
00:19:21,030 --> 00:19:25,350
believe<font color="#CCCCCC"> that ad blockers are a more</font>

516
00:19:22,890 --> 00:19:27,090
valuable security tool than a lot<font color="#CCCCCC"> of</font>

517
00:19:25,350 --> 00:19:29,100
other actual<font color="#E5E5E5"> security tools out there</font>

518
00:19:27,090 --> 00:19:30,419
<font color="#E5E5E5">and now you can</font><font color="#CCCCCC"> really be sure that no</font>

519
00:19:29,100 --> 00:19:32,179
matter what machine<font color="#E5E5E5"> they're logged</font><font color="#CCCCCC"> into</font>

520
00:19:30,420 --> 00:19:34,380
<font color="#CCCCCC">that they're equally protected because</font>

521
00:19:32,180 --> 00:19:36,450
<font color="#CCCCCC">the</font><font color="#E5E5E5"> people</font><font color="#CCCCCC"> that do it</font>

522
00:19:34,380 --> 00:19:39,060
deploy ad blocking and all<font color="#CCCCCC"> that pretty</font>

523
00:19:36,450 --> 00:19:40,680
often forget to<font color="#E5E5E5"> do</font><font color="#CCCCCC"> it on shared</font>

524
00:19:39,060 --> 00:19:43,770
environments right like Citrix servers

525
00:19:40,680 --> 00:19:45,510
and<font color="#E5E5E5"> terminal servers just</font><font color="#CCCCCC"> due to</font><font color="#E5E5E5"> the way</font>

526
00:19:43,770 --> 00:19:48,270
they push configurations there so now

527
00:19:45,510 --> 00:19:49,530
you'll be<font color="#E5E5E5"> able to track that</font><font color="#CCCCCC"> and it's</font>

528
00:19:48,270 --> 00:19:52,710
gonna look like<font color="#CCCCCC"> that so my user is</font>

529
00:19:49,530 --> 00:19:53,970
called<font color="#CCCCCC"> G UID</font><font color="#E5E5E5"> thousand one I have you</font>

530
00:19:52,710 --> 00:19:55,980
block origin if that's what you're

531
00:19:53,970 --> 00:19:58,950
expecting then great

532
00:19:55,980 --> 00:20:00,240
there it is<font color="#E5E5E5"> of course I would highly</font>

533
00:19:58,950 --> 00:20:02,250
encourage<font color="#E5E5E5"> that</font><font color="#CCCCCC"> you get the entire</font>

534
00:20:00,240 --> 00:20:04,350
inventory<font color="#E5E5E5"> of all your Chrome extensions</font>

535
00:20:02,250 --> 00:20:06,240
and you can also check out<font color="#CCCCCC"> chrome</font>

536
00:20:04,350 --> 00:20:09,899
<font color="#CCCCCC">unwanted</font><font color="#E5E5E5"> Chrome extensions which is a</font>

537
00:20:06,240 --> 00:20:12,330
nice list<font color="#E5E5E5"> of bad extensions created by</font>

538
00:20:09,900 --> 00:20:16,440
Nick Anderson at<font color="#E5E5E5"> Facebook in the OS</font>

539
00:20:12,330 --> 00:20:17,730
query project so now that you've seen

540
00:20:16,440 --> 00:20:20,220
<font color="#CCCCCC">that OS query is actually really</font>

541
00:20:17,730 --> 00:20:22,740
<font color="#CCCCCC">powerful on Windows</font><font color="#E5E5E5"> it's not just a tool</font>

542
00:20:20,220 --> 00:20:24,960
<font color="#E5E5E5">for</font><font color="#CCCCCC"> Mac and Linux</font><font color="#E5E5E5"> what you should be</font>

543
00:20:22,740 --> 00:20:28,500
looking<font color="#E5E5E5"> at is</font><font color="#CCCCCC"> what do we really</font><font color="#E5E5E5"> need to</font>

544
00:20:24,960 --> 00:20:30,090
get for configuration tracking we

545
00:20:28,500 --> 00:20:32,990
we already<font color="#CCCCCC"> know</font><font color="#E5E5E5"> a</font><font color="#CCCCCC"> wesker</font><font color="#E5E5E5"> is great for</font>

546
00:20:30,090 --> 00:20:34,918
for hunting<font color="#E5E5E5"> right so</font><font color="#CCCCCC"> Eric had a talk on</font>

547
00:20:32,990 --> 00:20:36,120
<font color="#CCCCCC">open-source tools for hunting yesterday</font>

548
00:20:34,919 --> 00:20:37,740
<font color="#E5E5E5">and</font><font color="#CCCCCC"> he showed some really great examples</font>

549
00:20:36,120 --> 00:20:39,209
<font color="#CCCCCC">right</font><font color="#E5E5E5"> like monitoring different</font>

550
00:20:37,740 --> 00:20:41,130
processes<font color="#E5E5E5"> and all of that but we can</font>

551
00:20:39,210 --> 00:20:43,770
also<font color="#E5E5E5"> use it</font><font color="#CCCCCC"> to track our secure</font>

552
00:20:41,130 --> 00:20:45,210
configurations<font color="#CCCCCC"> and personally I feel</font>

553
00:20:43,770 --> 00:20:47,460
<font color="#E5E5E5">like a lot of configuration</font><font color="#CCCCCC"> management</font>

554
00:20:45,210 --> 00:20:49,020
<font color="#E5E5E5">software is overly complicated with OS</font>

555
00:20:47,460 --> 00:20:50,970
query it's actually really<font color="#CCCCCC"> really simple</font>

556
00:20:49,020 --> 00:20:55,470
<font color="#CCCCCC">you send the</font><font color="#E5E5E5"> data to a nice repo and</font>

557
00:20:50,970 --> 00:20:58,470
there you are<font color="#CCCCCC"> use real-time</font><font color="#E5E5E5"> queries when</font>

558
00:20:55,470 --> 00:21:00,990
you're doing hunting or to confirm that

559
00:20:58,470 --> 00:21:03,059
<font color="#E5E5E5">a specific configuration value was what</font>

560
00:21:00,990 --> 00:21:04,770
you expected<font color="#CCCCCC"> that it</font><font color="#E5E5E5"> should be at the</font>

561
00:21:03,059 --> 00:21:06,690
time<font color="#E5E5E5"> of</font><font color="#CCCCCC"> the incident so for example we</font>

562
00:21:04,770 --> 00:21:08,070
said we want<font color="#E5E5E5"> to block execution of</font>

563
00:21:06,690 --> 00:21:10,710
macros on files downloaded from the

564
00:21:08,070 --> 00:21:13,530
internet<font color="#CCCCCC"> if you check that value</font><font color="#E5E5E5"> pretty</font>

565
00:21:10,710 --> 00:21:14,820
often<font color="#E5E5E5"> and you keep that data at some</font>

566
00:21:13,530 --> 00:21:16,110
<font color="#E5E5E5">point someone's gonna get owned they're</font>

567
00:21:14,820 --> 00:21:17,720
gonna have some<font color="#CCCCCC"> malware that you think</font>

568
00:21:16,110 --> 00:21:20,250
came in through an office document

569
00:21:17,720 --> 00:21:22,880
<font color="#E5E5E5">you'll be able to right away go back in</font>

570
00:21:20,250 --> 00:21:25,470
time<font color="#E5E5E5"> and see would the macro have been</font>

571
00:21:22,880 --> 00:21:26,880
prompting<font color="#CCCCCC"> to execute or was it</font>

572
00:21:25,470 --> 00:21:28,770
completely blocked<font color="#E5E5E5"> and then if it was</font>

573
00:21:26,880 --> 00:21:30,510
<font color="#E5E5E5">completely blocked then maybe someone</font>

574
00:21:28,770 --> 00:21:32,850
using a vulnerability<font color="#E5E5E5"> in</font><font color="#CCCCCC"> the</font><font color="#E5E5E5"> in office</font>

575
00:21:30,510 --> 00:21:35,760
or the entry path was completely

576
00:21:32,850 --> 00:21:38,309
<font color="#E5E5E5">different so and then I highly encourage</font>

577
00:21:35,760 --> 00:21:40,440
you<font color="#E5E5E5"> to watch</font><font color="#CCCCCC"> Eric's talk from</font><font color="#E5E5E5"> last</font><font color="#CCCCCC"> year</font>

578
00:21:38,309 --> 00:21:42,178
and<font color="#E5E5E5"> Greylock just because the way you</font>

579
00:21:40,440 --> 00:21:43,710
can send<font color="#E5E5E5"> data</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> something like</font><font color="#CCCCCC"> Greylock</font>

580
00:21:42,179 --> 00:21:45,690
if you want to roll<font color="#CCCCCC"> your</font><font color="#E5E5E5"> own no escrow</font>

581
00:21:43,710 --> 00:21:47,190
solution<font color="#CCCCCC"> I think it was</font><font color="#E5E5E5"> really well done</font>

582
00:21:45,690 --> 00:21:48,960
<font color="#E5E5E5">as well</font><font color="#CCCCCC"> as his slides from yesterday</font>

583
00:21:47,190 --> 00:21:52,140
because<font color="#E5E5E5"> he had a lot of</font><font color="#CCCCCC"> os query windows</font>

584
00:21:48,960 --> 00:21:54,169
content<font color="#E5E5E5"> as well so does anyone have</font><font color="#CCCCCC"> any</font>

585
00:21:52,140 --> 00:21:54,169
questions

586
00:21:55,429 --> 00:22:00,780
Wow

587
00:21:58,070 --> 00:22:03,600
<font color="#E5E5E5">all</font><font color="#CCCCCC"> right thank you very</font><font color="#E5E5E5"> much if there's</font>

588
00:22:00,780 --> 00:22:06,600
anything you can ping me<font color="#CCCCCC"> on ACOD slack</font>

589
00:22:03,600 --> 00:22:10,040
or anywhere<font color="#CCCCCC"> else</font><font color="#E5E5E5"> and I'll be happy to</font>

590
00:22:06,600 --> 00:22:13,819
<font color="#E5E5E5">help you with some some queries</font>

591
00:22:10,040 --> 00:22:13,819
[Applause]

