1
00:00:01,700 --> 00:00:16,869
[Music]

2
00:00:11,050 --> 00:00:20,170
<font color="#CCCCCC">you have been here on stage before you</font>

3
00:00:16,869 --> 00:00:23,110
successfully tempered with the weed you

4
00:00:20,170 --> 00:00:27,099
successfully<font color="#CCCCCC"> temper</font><font color="#E5E5E5"> with the ps3 and get</font>

5
00:00:23,110 --> 00:00:29,619
some legal challenges over there some

6
00:00:27,099 --> 00:00:31,630
unfounded legal<font color="#E5E5E5"> challenges yes and then</font>

7
00:00:29,619 --> 00:00:34,930
<font color="#E5E5E5">you fucked an excuse my French over here</font>

8
00:00:31,630 --> 00:00:39,820
by the way that is number<font color="#CCCCCC"> 8021</font><font color="#E5E5E5"> to get</font>

9
00:00:34,930 --> 00:00:42,190
the<font color="#CCCCCC"> plan selection</font><font color="#E5E5E5"> on the</font><font color="#CCCCCC"> bacp</font><font color="#E5E5E5"> phone so</font>

10
00:00:39,820 --> 00:00:47,320
you fucked with the wheat<font color="#E5E5E5"> you as well</font>

11
00:00:42,190 --> 00:00:48,160
and well console hacking 2016<font color="#CCCCCC"> yet here</font>

12
00:00:47,320 --> 00:00:50,440
we go

13
00:00:48,160 --> 00:00:51,968
so<font color="#CCCCCC"> i'm a lazy guys I haven't turned on</font>

14
00:00:50,440 --> 00:00:56,019
my computer yet for the<font color="#CCCCCC"> slide so let me</font>

15
00:00:51,969 --> 00:00:58,149
do that<font color="#CCCCCC"> hopefully</font><font color="#E5E5E5"> this will work</font>

16
00:00:56,019 --> 00:01:00,940
so my computer is a little bit special

17
00:00:58,149 --> 00:01:08,710
it runs a lot of<font color="#E5E5E5"> open source software it</font>

18
00:01:00,940 --> 00:01:12,610
<font color="#E5E5E5">runs</font><font color="#CCCCCC"> a freebsd</font>

19
00:01:08,710 --> 00:01:16,509
<font color="#E5E5E5">it runs even has things like openssl in</font>

20
00:01:12,610 --> 00:01:19,210
<font color="#E5E5E5">there and engine X and</font><font color="#CCCCCC"> Cairo I think and</font>

21
00:01:16,510 --> 00:01:21,670
<font color="#CCCCCC">with kids it was a</font><font color="#E5E5E5"> lot of interesting</font>

22
00:01:19,210 --> 00:01:24,220
<font color="#CCCCCC">open-source software</font><font color="#E5E5E5"> but we all know</font>

23
00:01:21,670 --> 00:01:25,300
that<font color="#CCCCCC"> bsd is dying</font><font color="#E5E5E5"> so we can</font><font color="#CCCCCC"> become</font>

24
00:01:24,220 --> 00:01:29,020
something a little bit more interesting

25
00:01:25,300 --> 00:01:29,800
and hopefully give a presentation about

26
00:01:29,020 --> 00:01:36,640
it

27
00:01:29,800 --> 00:01:40,000
let's see if this works<font color="#CCCCCC"> to</font><font color="#E5E5E5"> start</font><font color="#CCCCCC"> black</font>

28
00:01:36,640 --> 00:01:41,860
<font color="#E5E5E5">screen you know</font><font color="#CCCCCC"> I think</font><font color="#E5E5E5"> it's not</font><font color="#CCCCCC"> syncing</font>

29
00:01:40,000 --> 00:01:52,909
<font color="#CCCCCC">to disk and file system shutting down</font>

30
00:01:41,860 --> 00:02:00,880
there we go

31
00:01:52,909 --> 00:02:03,189
<font color="#CCCCCC">and yes I</font><font color="#E5E5E5"> run gentoo linux</font>

32
00:02:00,880 --> 00:02:09,639
<font color="#E5E5E5">this is the does Wi-Fi work moment</font>

33
00:02:03,189 --> 00:02:12,190
hopefully<font color="#E5E5E5"> and TP</font><font color="#CCCCCC"> ya know</font><font color="#E5E5E5"> ntp failed well</font>

34
00:02:09,639 --> 00:02:17,140
that's a bit annoying but<font color="#E5E5E5"> it's</font><font color="#CCCCCC"> the worse</font>

35
00:02:12,190 --> 00:02:19,000
hello

36
00:02:17,140 --> 00:02:21,518
<font color="#E5E5E5">yeah it takes a bit to boot it doesn't</font>

37
00:02:19,000 --> 00:02:23,380
run system do you know so it's it's it's

38
00:02:21,519 --> 00:02:32,830
saying<font color="#E5E5E5"> it's a tiny bit slower</font><font color="#CCCCCC"> it's</font>

39
00:02:23,380 --> 00:02:35,440
saying<font color="#CCCCCC"> where yall because the just my</font>

40
00:02:32,830 --> 00:02:37,269
controller work moments<font color="#CCCCCC"> bluetooth and</font>

41
00:02:35,440 --> 00:02:44,590
the<font color="#CCCCCC"> inside</font><font color="#E5E5E5"> one</font>

42
00:02:37,269 --> 00:02:52,569
<font color="#CCCCCC">ok it does</font><font color="#E5E5E5"> alright so let's get started</font>

43
00:02:44,590 --> 00:02:54,489
so this is console hacking<font color="#E5E5E5"> 2016 ps4</font>

44
00:02:52,569 --> 00:02:56,679
<font color="#CCCCCC">pcmasterrace I apologize for the</font>

45
00:02:54,489 --> 00:02:58,780
horrible<font color="#CCCCCC"> Nazi joke in the</font><font color="#E5E5E5"> subtitle it's</font>

46
00:02:56,680 --> 00:03:01,750
<font color="#CCCCCC">already think so</font><font color="#E5E5E5"> yeah</font>

47
00:02:58,780 --> 00:03:03,640
<font color="#E5E5E5">pcmasterrace why well</font><font color="#CCCCCC"> ps4 is it a</font><font color="#E5E5E5"> pc is</font>

48
00:03:01,750 --> 00:03:06,310
that not a<font color="#CCCCCC"> pc</font><font color="#E5E5E5"> but before we get started</font>

49
00:03:03,640 --> 00:03:08,350
<font color="#E5E5E5">I would like to dedicate this talk to my</font>

50
00:03:06,310 --> 00:03:10,390
good friend<font color="#CCCCCC"> Ben buyer we all knew is</font>

51
00:03:08,350 --> 00:03:11,980
<font color="#CCCCCC">pushing</font><font color="#E5E5E5"> unfortunately he passed away in</font>

52
00:03:10,390 --> 00:03:13,869
degree of this year and he was a great

53
00:03:11,980 --> 00:03:15,910
hacker he came to multiple<font color="#CCCCCC"> Congress's</font>

54
00:03:13,870 --> 00:03:17,290
<font color="#CCCCCC">one of the nicest people I've ever met</font>

55
00:03:15,910 --> 00:03:19,329
<font color="#CCCCCC">i'm sure some of you have met him would</font>

56
00:03:17,290 --> 00:03:29,319
agree with that and if it weren't for

57
00:03:19,329 --> 00:03:34,239
him I wouldn't be here so thank<font color="#E5E5E5"> you</font>

58
00:03:29,319 --> 00:03:36,159
<font color="#E5E5E5">alright so the ps4</font><font color="#CCCCCC"> and PC is that not a</font>

59
00:03:34,239 --> 00:03:38,799
pc well it's a little bit different from

60
00:03:36,159 --> 00:03:42,489
previous<font color="#CCCCCC"> consoles</font><font color="#E5E5E5"> it has 86 it's an x86</font>

61
00:03:38,799 --> 00:03:44,799
<font color="#CCCCCC">CPU it runs</font><font color="#E5E5E5"> freebsd runs</font><font color="#CCCCCC"> WebKit it</font>

62
00:03:42,489 --> 00:03:46,780
doesn't have a hypervisor<font color="#E5E5E5"> unfortunately</font>

63
00:03:44,799 --> 00:03:48,430
<font color="#E5E5E5">then again the</font><font color="#CCCCCC"> piece we had</font><font color="#E5E5E5"> a hypervisor</font>

64
00:03:46,780 --> 00:03:51,010
and it was useless so<font color="#E5E5E5"> we go</font>

65
00:03:48,430 --> 00:03:52,389
and so this is different from the ps3

66
00:03:51,010 --> 00:03:53,920
<font color="#E5E5E5">but it's not completely different it</font>

67
00:03:52,389 --> 00:03:55,269
does have a security processor that you

68
00:03:53,920 --> 00:03:59,108
can just ignore<font color="#E5E5E5"> because it doesn't</font>

69
00:03:55,269 --> 00:04:01,359
really to cure anything<font color="#E5E5E5"> so that's good</font>

70
00:03:59,109 --> 00:04:02,590
<font color="#E5E5E5">alright so how to own a ps4 well you</font>

71
00:04:01,359 --> 00:04:05,109
<font color="#E5E5E5">write a</font><font color="#CCCCCC"> WebKit expert and you</font><font color="#E5E5E5"> write a</font>

72
00:04:02,590 --> 00:04:08,230
freebie<font color="#CCCCCC"> is</font><font color="#E5E5E5"> the exploit duh right and</font>

73
00:04:05,109 --> 00:04:10,090
everything runs<font color="#CCCCCC"> WebKit and</font><font color="#E5E5E5"> previously is</font>

74
00:04:08,230 --> 00:04:11,709
not exactly<font color="#CCCCCC"> it's</font><font color="#E5E5E5"> more secure OS in the</font>

75
00:04:10,090 --> 00:04:13,269
world<font color="#E5E5E5"> especially</font><font color="#CCCCCC"> not with Sony</font>

76
00:04:11,709 --> 00:04:15,040
<font color="#CCCCCC">customization so this is you know this</font>

77
00:04:13,269 --> 00:04:16,899
is completely boring stuff like what's

78
00:04:15,040 --> 00:04:18,159
the point of talking<font color="#E5E5E5"> about</font><font color="#CCCCCC"> WebKit</font><font color="#E5E5E5"> and</font>

79
00:04:16,899 --> 00:04:20,228
<font color="#CCCCCC">freebies the experts</font>

80
00:04:18,160 --> 00:04:21,849
instead<font color="#CCCCCC"> this talk is going to be about</font>

81
00:04:20,228 --> 00:04:23,680
something a little bit different

82
00:04:21,849 --> 00:04:25,659
first of all<font color="#E5E5E5"> after</font><font color="#CCCCCC"> you are</font><font color="#E5E5E5"> an exploit</font>

83
00:04:23,680 --> 00:04:26,560
well<font color="#CCCCCC"> you know step 3 something</font><font color="#E5E5E5"> set for</font>

84
00:04:25,660 --> 00:04:29,199
profit

85
00:04:26,560 --> 00:04:30,820
what is this about and not only that

86
00:04:29,199 --> 00:04:32,380
<font color="#CCCCCC">though before you write</font><font color="#E5E5E5"> an exploit you</font>

87
00:04:30,820 --> 00:04:34,599
you<font color="#E5E5E5"> don't you want to have the code</font>

88
00:04:32,380 --> 00:04:36,759
you're trying to exploit and with

89
00:04:34,599 --> 00:04:38,860
<font color="#CCCCCC">weapons</font><font color="#E5E5E5"> and</font><font color="#CCCCCC"> freebsd you kinda do but not</font>

90
00:04:36,759 --> 00:04:40,270
the build they<font color="#CCCCCC"> use</font><font color="#E5E5E5"> as customized and</font>

91
00:04:38,860 --> 00:04:42,130
it's annoying to write<font color="#E5E5E5"> an exploit if you</font>

92
00:04:40,270 --> 00:04:43,210
don't have no access to the binary so

93
00:04:42,130 --> 00:04:45,820
how do you get the<font color="#E5E5E5"> binary in the first</font>

94
00:04:43,210 --> 00:04:48,190
place<font color="#CCCCCC"> how</font><font color="#E5E5E5"> you have the code that's an</font>

95
00:04:45,820 --> 00:04:50,889
interesting step<font color="#E5E5E5"> so let's get started</font>

96
00:04:48,190 --> 00:04:51,520
with<font color="#E5E5E5"> step</font><font color="#CCCCCC"> 0</font><font color="#E5E5E5"> black</font><font color="#CCCCCC"> box construction the</font>

97
00:04:50,889 --> 00:04:54,250
fun way

98
00:04:51,520 --> 00:04:54,969
a long time<font color="#CCCCCC"> ago in a hackerspace</font><font color="#E5E5E5"> far far</font>

99
00:04:54,250 --> 00:04:57,669
away

100
00:04:54,970 --> 00:05:00,639
<font color="#CCCCCC">favorite all got together after</font><font color="#E5E5E5"> 31 c 3</font>

101
00:04:57,669 --> 00:05:02,258
and we looked at the ps4 motherboard and

102
00:05:00,639 --> 00:05:03,759
this is what we saw so there's<font color="#CCCCCC"> a nail</font>

103
00:05:02,259 --> 00:05:05,800
<font color="#CCCCCC">your southridge</font><font color="#E5E5E5"> that's a code name by</font>

104
00:05:03,759 --> 00:05:08,590
the way then there's a<font color="#CCCCCC"> Liverpool apu</font>

105
00:05:05,800 --> 00:05:11,800
<font color="#E5E5E5">which is the main processor it's a GPU</font>

106
00:05:08,590 --> 00:05:13,780
and<font color="#CCCCCC"> the cpu which is done</font><font color="#E5E5E5"> by AMD and add</font>

107
00:05:11,800 --> 00:05:15,280
some ram<font color="#E5E5E5"> and then you know the sounds</font>

108
00:05:13,780 --> 00:05:17,440
which connects to a bunch of random crap

109
00:05:15,280 --> 00:05:18,698
like<font color="#E5E5E5"> the USB ports</font><font color="#CCCCCC"> hardest which is USB</font>

110
00:05:17,440 --> 00:05:20,889
for some inexplicable reason the

111
00:05:18,699 --> 00:05:22,780
internal disk on the ps4 is USB<font color="#CCCCCC"> like</font>

112
00:05:20,889 --> 00:05:25,479
it's<font color="#E5E5E5"> a</font><font color="#CCCCCC"> two USB and then two years</font><font color="#E5E5E5"> beyond</font>

113
00:05:22,780 --> 00:05:29,198
the southridge even though<font color="#E5E5E5"> it has</font><font color="#CCCCCC"> SATA</font>

114
00:05:25,479 --> 00:05:30,520
like what the blu-ray<font color="#CCCCCC"> drive sata</font><font color="#E5E5E5"> the</font>

115
00:05:29,199 --> 00:05:32,770
Wi-Fi<font color="#CCCCCC"> Bluetooth</font><font color="#E5E5E5"> as the eye on the</font>

116
00:05:30,520 --> 00:05:34,139
<font color="#CCCCCC">internet is GM</font><font color="#E5E5E5"> III okay how do we attack</font>

117
00:05:32,770 --> 00:05:37,770
this well

118
00:05:34,139 --> 00:05:40,349
<font color="#CCCCCC">ddr1 to</font><font color="#E5E5E5"> stop but</font><font color="#CCCCCC"> oh I have a screensaver</font>

119
00:05:37,770 --> 00:05:41,969
apparently that's great

120
00:05:40,349 --> 00:05:44,729
<font color="#CCCCCC">I thought I killed that let</font><font color="#E5E5E5"> me kill all</font>

121
00:05:41,969 --> 00:05:48,150
<font color="#CCCCCC">the experience</font><font color="#E5E5E5"> a</font><font color="#CCCCCC"> ver</font><font color="#E5E5E5"> real quick</font>

122
00:05:44,729 --> 00:05:54,419
something<font color="#E5E5E5"> had to fail</font><font color="#CCCCCC"> it always does</font>

123
00:05:48,150 --> 00:05:57,628
<font color="#CCCCCC">I mean of course I can ssh into my ps4</font>

124
00:05:54,419 --> 00:06:00,180
<font color="#CCCCCC">right so there you ok just wanna fix</font>

125
00:05:57,629 --> 00:06:01,830
that<font color="#CCCCCC"> anyway so</font><font color="#E5E5E5"> yeah which one of these</font>

126
00:06:00,180 --> 00:06:04,110
interfaces<font color="#CCCCCC"> to your attack</font>

127
00:06:01,830 --> 00:06:05,909
well you know<font color="#CCCCCC"> us be sanitized</font><font color="#E5E5E5"> the</font><font color="#CCCCCC"> IGM</font>

128
00:06:04,110 --> 00:06:07,740
<font color="#CCCCCC">III that's</font><font color="#E5E5E5"> the you know the</font><font color="#CCCCCC"> wrong</font>

129
00:06:05,909 --> 00:06:10,139
<font color="#CCCCCC">internet interface by the way all these</font>

130
00:06:07,740 --> 00:06:11,849
<font color="#E5E5E5">are</font><font color="#CCCCCC"> TV you control</font><font color="#E5E5E5"> the</font><font color="#CCCCCC"> cpu issues</font>

131
00:06:10,139 --> 00:06:14,789
commands and the<font color="#E5E5E5"> devices reply devices</font>

132
00:06:11,849 --> 00:06:16,169
can't really do anything<font color="#CCCCCC"> so you can big</font>

133
00:06:14,789 --> 00:06:18,210
<font color="#CCCCCC">break the memory or anything like that</font>

134
00:06:16,169 --> 00:06:19,799
you can exploit<font color="#CCCCCC"> USB if you find</font><font color="#E5E5E5"> a bug in</font>

135
00:06:18,210 --> 00:06:23,969
the USB driver but we're back to the<font color="#CCCCCC"> NOC</font>

136
00:06:19,800 --> 00:06:25,080
code<font color="#E5E5E5"> issue so ddr5 at</font><font color="#CCCCCC"> that'd be great we</font>

137
00:06:23,969 --> 00:06:26,699
<font color="#CCCCCC">could just write to our memory and</font>

138
00:06:25,080 --> 00:06:28,349
basically on the entire thing<font color="#E5E5E5"> but it's a</font>

139
00:06:26,699 --> 00:06:29,729
very high speed<font color="#E5E5E5"> but it's definitely</font>

140
00:06:28,349 --> 00:06:30,449
exploitable<font color="#E5E5E5"> if you're making a secure</font>

141
00:06:29,729 --> 00:06:32,969
system

142
00:06:30,449 --> 00:06:34,620
don't assume<font color="#E5E5E5"> we</font><font color="#CCCCCC"> can own ddr5 because we</font>

143
00:06:32,969 --> 00:06:36,539
will<font color="#CCCCCC"> but</font><font color="#E5E5E5"> it's not the path of least</font>

144
00:06:34,620 --> 00:06:38,580
resistance<font color="#CCCCCC"> so</font><font color="#E5E5E5"> we're not going to do that</font>

145
00:06:36,539 --> 00:06:40,349
<font color="#CCCCCC">however</font><font color="#E5E5E5"> there's a thing called</font><font color="#CCCCCC"> pci</font>

146
00:06:38,580 --> 00:06:41,550
<font color="#CCCCCC">express in the middle there that's</font>

147
00:06:40,349 --> 00:06:44,339
interesting

148
00:06:41,550 --> 00:06:45,449
<font color="#CCCCCC">pci is a very fun for hacking even</font>

149
00:06:44,339 --> 00:06:47,339
though it might seem intimidating

150
00:06:45,449 --> 00:06:48,839
because<font color="#CCCCCC"> it's</font><font color="#E5E5E5"> bus mastering that means</font>

151
00:06:47,339 --> 00:06:50,879
you can<font color="#CCCCCC"> dma</font><font color="#E5E5E5"> to memory</font>

152
00:06:48,839 --> 00:06:52,349
it's complicated<font color="#CCCCCC"> and</font><font color="#E5E5E5"> complicated things</font>

153
00:06:50,879 --> 00:06:55,649
are hard to implement properly

154
00:06:52,349 --> 00:06:57,659
its robust<font color="#E5E5E5"> people think that pc is this</font>

155
00:06:55,649 --> 00:06:59,490
<font color="#E5E5E5">voodoo</font><font color="#CCCCCC"> high-speed no no it's not it's I</font>

156
00:06:57,659 --> 00:07:01,080
speed<font color="#E5E5E5"> but you don't need like</font><font color="#CCCCCC"> matched</font>

157
00:06:59,490 --> 00:07:03,060
<font color="#CCCCCC">races to make it work it will run over</font>

158
00:07:01,080 --> 00:07:05,580
wet string like you can Hotwire<font color="#CCCCCC"> pcie</font>

159
00:07:03,060 --> 00:07:07,169
with pieces of wire and it will work at

160
00:07:05,580 --> 00:07:09,330
<font color="#CCCCCC">least short distances anyway I believe</font>

161
00:07:07,169 --> 00:07:12,688
<font color="#E5E5E5">me it's not as bad as you think it's</font>

162
00:07:09,330 --> 00:07:14,639
<font color="#CCCCCC">delay</font><font color="#E5E5E5"> tolerant</font><font color="#CCCCCC"> so you can take your time</font>

163
00:07:12,689 --> 00:07:16,620
to reply<font color="#E5E5E5"> and the</font><font color="#CCCCCC"> drivers or fail</font><font color="#E5E5E5"> because</font>

164
00:07:14,639 --> 00:07:17,819
nobody writes a<font color="#CCCCCC"> pcie driver assuming the</font>

165
00:07:16,620 --> 00:07:19,649
<font color="#CCCCCC">device is evil even though of course</font>

166
00:07:17,819 --> 00:07:22,289
everybody should because devices can and

167
00:07:19,649 --> 00:07:25,199
will be evil<font color="#E5E5E5"> but nobody does that</font>

168
00:07:22,289 --> 00:07:28,050
so what can we do<font color="#CCCCCC"> well we</font><font color="#E5E5E5"> have a</font><font color="#CCCCCC"> pci you</font>

169
00:07:25,199 --> 00:07:30,270
<font color="#CCCCCC">think it's cut the lines and plug in the</font>

170
00:07:28,050 --> 00:07:31,680
<font color="#E5E5E5">south which to the motherboard</font><font color="#CCCCCC"> to pc</font>

171
00:07:30,270 --> 00:07:33,479
motherboard that<font color="#CCCCCC"> we stick on the side so</font>

172
00:07:31,680 --> 00:07:36,419
now the<font color="#CCCCCC"> southridge</font><font color="#E5E5E5"> is a pci card for us</font>

173
00:07:33,479 --> 00:07:38,909
and<font color="#CCCCCC"> reflect</font><font color="#E5E5E5"> the APU to an</font><font color="#CCCCCC"> fpga board</font>

174
00:07:36,419 --> 00:07:40,859
which then can pretend to be a<font color="#E5E5E5"> pci</font>

175
00:07:38,909 --> 00:07:43,589
device<font color="#CCCCCC"> so we can man in the middle this</font>

176
00:07:40,860 --> 00:07:44,819
<font color="#E5E5E5">pci bus and it's now x</font><font color="#CCCCCC"> 1 with a friend</font>

177
00:07:43,589 --> 00:07:46,050
<font color="#E5E5E5">for because you know it's easier that</font>

178
00:07:44,819 --> 00:07:46,940
way but it will negotiate

179
00:07:46,050 --> 00:07:48,920
that's fine

180
00:07:46,940 --> 00:07:51,890
so how do we<font color="#CCCCCC"> connect the motherboard</font><font color="#E5E5E5"> and</font>

181
00:07:48,920 --> 00:07:53,180
the<font color="#CCCCCC"> fpga this of course many ways</font><font color="#E5E5E5"> of</font>

182
00:07:51,890 --> 00:07:54,919
doing this<font color="#E5E5E5"> but how many</font><font color="#CCCCCC"> of you</font><font color="#E5E5E5"> have done</font>

183
00:07:53,180 --> 00:07:57,110
<font color="#E5E5E5">any hardware hacking even or do we know</font>

184
00:07:54,920 --> 00:07:59,660
anything<font color="#CCCCCC"> like that</font><font color="#E5E5E5"> raise your hand</font>

185
00:07:57,110 --> 00:08:02,300
I think that's about a third to a half

186
00:07:59,660 --> 00:08:03,980
or something like that at least<font color="#CCCCCC"> and when</font>

187
00:08:02,300 --> 00:08:05,930
you<font color="#E5E5E5"> had some hardware you melt some</font>

188
00:08:03,980 --> 00:08:07,700
hardware<font color="#E5E5E5"> after you blinking LED what is</font>

189
00:08:05,930 --> 00:08:12,440
the first interface used to talk to your

190
00:08:07,700 --> 00:08:16,920
hardware<font color="#E5E5E5"> serial port so we run</font><font color="#CCCCCC"> pcie</font><font color="#E5E5E5"> over</font>

191
00:08:12,440 --> 00:08:21,340
<font color="#CCCCCC">RS 232 150 labaad witches pcie</font>

192
00:08:16,920 --> 00:08:23,590
[Applause]

193
00:08:21,340 --> 00:08:28,239
<font color="#CCCCCC">I said</font><font color="#E5E5E5"> it was too late all right so it</font>

194
00:08:23,590 --> 00:08:29,560
makes<font color="#CCCCCC"> us</font><font color="#E5E5E5"> pcie 2.0</font><font color="#CCCCCC"> 2x and eventually</font>

195
00:08:28,240 --> 00:08:31,630
there was a<font color="#CCCCCC"> gigabit ethernet port on the</font>

196
00:08:29,560 --> 00:08:34,120
<font color="#CCCCCC">fpga so</font><font color="#E5E5E5"> i upgraded to that but</font><font color="#CCCCCC"> i finally</font>

197
00:08:31,630 --> 00:08:36,880
<font color="#E5E5E5">got around to doing it in one direction</font>

198
00:08:34,120 --> 00:08:38,589
<font color="#CCCCCC">so now it's</font><font color="#E5E5E5"> pcie 2.0</font><font color="#CCCCCC"> two in one</font>

199
00:08:36,880 --> 00:08:40,240
direction and point point in the other

200
00:08:38,589 --> 00:08:41,800
direction which<font color="#CCCCCC"> has</font><font color="#E5E5E5"> to make this one of</font>

201
00:08:40,240 --> 00:08:45,040
the most<font color="#E5E5E5"> asymmetric buses in the world</font>

202
00:08:41,799 --> 00:08:46,930
but it works like<font color="#CCCCCC"> believe me</font><font color="#E5E5E5"> this is</font>

203
00:08:45,040 --> 00:08:48,400
hilarious you can run<font color="#CCCCCC"> pcie over cereal</font>

204
00:08:46,930 --> 00:08:51,939
<font color="#CCCCCC">and also we were asking</font><font color="#E5E5E5"> coding so have</font>

205
00:08:48,400 --> 00:08:52,990
<font color="#CCCCCC">to bed with</font><font color="#E5E5E5"> no it's fine it's fine it's</font>

206
00:08:51,940 --> 00:08:55,180
fine

207
00:08:52,990 --> 00:08:57,460
so<font color="#CCCCCC"> pci you want</font><font color="#E5E5E5"> it's a reliable</font>

208
00:08:55,180 --> 00:08:59,380
<font color="#CCCCCC">packet-switched Network</font><font color="#E5E5E5"> it uses thinkin</font>

209
00:08:57,460 --> 00:09:01,330
<font color="#E5E5E5">/</font><font color="#CCCCCC"> transaction</font><font color="#E5E5E5"> layer packets which are</font>

210
00:08:59,380 --> 00:09:03,790
basically just<font color="#E5E5E5"> packets to send</font><font color="#CCCCCC"> and</font><font color="#E5E5E5"> it</font>

211
00:09:01,330 --> 00:09:05,230
can be<font color="#CCCCCC"> no</font><font color="#E5E5E5"> memory</font><font color="#CCCCCC"> memory right I'll</font><font color="#E5E5E5"> read</font>

212
00:09:03,790 --> 00:09:06,910
<font color="#CCCCCC">your right configuration read</font>

213
00:09:05,230 --> 00:09:08,529
configuration right<font color="#CCCCCC"> it can be a message</font>

214
00:09:06,910 --> 00:09:11,410
signal to interrupt which is a way of

215
00:09:08,529 --> 00:09:13,930
saying hey listen to me by writing to an

216
00:09:11,410 --> 00:09:15,010
address in memory<font color="#E5E5E5"> because we can write</font>

217
00:09:13,930 --> 00:09:17,079
the<font color="#CCCCCC"> thing</font><font color="#E5E5E5"> so why not right for</font>

218
00:09:15,010 --> 00:09:20,080
interrupts<font color="#E5E5E5"> it has legacy interrupts</font>

219
00:09:17,080 --> 00:09:22,570
which are basically the<font color="#E5E5E5"> emulating the</font>

220
00:09:20,080 --> 00:09:23,860
old set this<font color="#CCCCCC"> veteran</font><font color="#E5E5E5"> no wire low for</font>

221
00:09:22,570 --> 00:09:26,410
<font color="#E5E5E5">interrupting</font><font color="#CCCCCC"> high</font><font color="#E5E5E5"> for</font><font color="#CCCCCC"> no interrupt thing</font>

222
00:09:23,860 --> 00:09:27,820
<font color="#CCCCCC">you</font><font color="#E5E5E5"> can</font><font color="#CCCCCC"> tunnel that</font><font color="#E5E5E5"> over</font><font color="#CCCCCC"> pcie</font><font color="#E5E5E5"> and has</font>

223
00:09:26,410 --> 00:09:29,529
completions which are basically the

224
00:09:27,820 --> 00:09:31,240
reply so if you read a value from memory

225
00:09:29,529 --> 00:09:32,950
the completion is what you get back with

226
00:09:31,240 --> 00:09:35,440
the value<font color="#CCCCCC"> tried to read</font>

227
00:09:32,950 --> 00:09:37,240
<font color="#E5E5E5">ok so</font><font color="#CCCCCC"> it's bc i</font><font color="#E5E5E5"> right so</font><font color="#CCCCCC"> we just</font><font color="#E5E5E5"> go</font><font color="#CCCCCC"> wide</font>

228
00:09:35,440 --> 00:09:38,830
with DNA we can just read<font color="#CCCCCC"> our memory dr.</font>

229
00:09:37,240 --> 00:09:41,950
<font color="#CCCCCC">Cornel hey</font><font color="#E5E5E5"> it's awesome right</font>

230
00:09:38,830 --> 00:09:45,279
except there's an<font color="#CCCCCC"> iommu and the APU</font><font color="#E5E5E5"> but</font>

231
00:09:41,950 --> 00:09:47,290
for the removal<font color="#E5E5E5"> you know</font><font color="#CCCCCC"> protect devices</font>

232
00:09:45,279 --> 00:09:49,330
<font color="#CCCCCC">will</font><font color="#E5E5E5"> only let you access what memory is</font>

233
00:09:47,290 --> 00:09:50,920
mapped to your device so that you know

234
00:09:49,330 --> 00:09:52,330
that<font color="#E5E5E5"> host has to allow you to read and</font>

235
00:09:50,920 --> 00:09:53,709
write<font color="#CCCCCC"> the</font><font color="#E5E5E5"> memory but just because</font>

236
00:09:52,330 --> 00:09:56,170
there's an<font color="#CCCCCC"> IMU</font><font color="#E5E5E5"> doesn't mean that</font><font color="#CCCCCC"> it's</font>

237
00:09:53,709 --> 00:09:58,989
<font color="#CCCCCC">only</font><font color="#E5E5E5"> use it properly so here's some</font>

238
00:09:56,170 --> 00:10:00,310
<font color="#E5E5E5">pseudocode and you know it has a buffer</font>

239
00:09:58,990 --> 00:10:01,630
on the stack it says<font color="#E5E5E5"> please read from</font>

240
00:10:00,310 --> 00:10:02,410
flash<font color="#E5E5E5"> to this buffer with the correct</font>

241
00:10:01,630 --> 00:10:03,610
length

242
00:10:02,410 --> 00:10:07,390
can anyone see the problem with this

243
00:10:03,610 --> 00:10:10,150
code well it<font color="#CCCCCC"> Maps the buffer and that</font>

244
00:10:07,390 --> 00:10:12,790
reads and<font color="#CCCCCC"> I maps the buffer but</font><font color="#E5E5E5"> i only</font>

245
00:10:10,150 --> 00:10:15,430
use<font color="#E5E5E5"> don't just map</font><font color="#CCCCCC"> bite through the bite</font>

246
00:10:12,790 --> 00:10:18,279
<font color="#E5E5E5">bar the back pages and pages</font><font color="#CCCCCC"> or 64k on</font>

247
00:10:15,430 --> 00:10:20,469
<font color="#E5E5E5">the ps4</font><font color="#CCCCCC"> sosoni is just mapped 64k of its</font>

248
00:10:18,279 --> 00:10:22,089
back to the device so we can just do a

249
00:10:20,470 --> 00:10:26,350
straight<font color="#E5E5E5"> into the stack basically whole</font>

250
00:10:22,089 --> 00:10:27,850
stack and<font color="#E5E5E5"> take over so now we get code</font>

251
00:10:26,350 --> 00:10:29,589
execution freebsd kernel<font color="#CCCCCC"> damn</font><font color="#E5E5E5"> been</font>

252
00:10:27,850 --> 00:10:30,520
<font color="#E5E5E5">working and</font><font color="#CCCCCC"> I always let's</font><font color="#E5E5E5"> dump just</font>

253
00:10:29,589 --> 00:10:35,110
from

254
00:10:30,520 --> 00:10:36,310
<font color="#CCCCCC">mapping the flash ok that's step 0</font><font color="#E5E5E5"> so we</font>

255
00:10:35,110 --> 00:10:37,900
have the code but this is not you know

256
00:10:36,310 --> 00:10:39,369
that that's not the<font color="#CCCCCC"> ps4 that we did this</font>

257
00:10:37,900 --> 00:10:42,100
<font color="#E5E5E5">on</font><font color="#CCCCCC"> it's not you it's a giant mess of</font>

258
00:10:39,370 --> 00:10:43,390
wires someone here knows about that you

259
00:10:42,100 --> 00:10:45,490
know flying<font color="#CCCCCC"> or face</font><font color="#E5E5E5"> but</font><font color="#CCCCCC"> we don't</font><font color="#E5E5E5"> make a</font>

260
00:10:43,390 --> 00:10:48,430
nice exploit<font color="#E5E5E5"> we've done that because</font>

261
00:10:45,490 --> 00:10:49,900
they said but get<font color="#CCCCCC"> freebsd whatever</font><font color="#E5E5E5"> what</font>

262
00:10:48,430 --> 00:10:52,329
comes<font color="#E5E5E5"> after that</font>

263
00:10:49,900 --> 00:10:55,240
<font color="#CCCCCC">ok we want to do something of course</font>

264
00:10:52,330 --> 00:10:57,490
<font color="#CCCCCC">we'll</font><font color="#E5E5E5"> run</font><font color="#CCCCCC"> the next door</font><font color="#E5E5E5"> and how do you</font>

265
00:10:55,240 --> 00:10:59,290
go from<font color="#E5E5E5"> freebsd to</font><font color="#CCCCCC"> linux it's</font><font color="#E5E5E5"> not a</font>

266
00:10:57,490 --> 00:11:02,950
<font color="#E5E5E5">trivial process</font><font color="#CCCCCC"> will use something that</font>

267
00:10:59,290 --> 00:11:05,079
we call<font color="#CCCCCC"> piecework exsec so how does this</font>

268
00:11:02,950 --> 00:11:06,940
work it's you know<font color="#CCCCCC"> that simple right</font><font color="#E5E5E5"> you</font>

269
00:11:05,080 --> 00:11:11,050
just<font color="#CCCCCC"> want to</font><font color="#E5E5E5"> run the next just jump to</font>

270
00:11:06,940 --> 00:11:12,280
<font color="#CCCCCC">linux</font><font color="#E5E5E5"> right way kind of you need to load</font>

271
00:11:11,050 --> 00:11:13,959
the next into<font color="#CCCCCC"> containers</font><font color="#E5E5E5"> physical</font><font color="#CCCCCC"> RAM</font>

272
00:11:12,280 --> 00:11:15,610
<font color="#E5E5E5">setup parameters shutdown freebsd</font>

273
00:11:13,960 --> 00:11:17,410
<font color="#CCCCCC">cleanly hold secondary cpus make you</font>

274
00:11:15,610 --> 00:11:18,640
<font color="#E5E5E5">page</font><font color="#CCCCCC"> table this table but a</font><font color="#E5E5E5"> lot of</font>

275
00:11:17,410 --> 00:11:19,750
<font color="#CCCCCC">random</font><font color="#E5E5E5"> things</font><font color="#CCCCCC"> i'm not</font><font color="#E5E5E5"> going to bore you</font>

276
00:11:18,640 --> 00:11:21,370
with all this crap because you can read

277
00:11:19,750 --> 00:11:23,170
the code<font color="#E5E5E5"> but there's a lot of like</font>

278
00:11:21,370 --> 00:11:24,970
iteration<font color="#CCCCCC"> in getting this to work</font>

279
00:11:23,170 --> 00:11:26,680
<font color="#E5E5E5">that's</font><font color="#CCCCCC"> assume that you do all this</font>

280
00:11:24,970 --> 00:11:29,110
magical<font color="#CCCCCC"> cleanup and you get linux and do</font>

281
00:11:26,680 --> 00:11:31,270
a nice<font color="#E5E5E5"> state and you can you know jump</font>

282
00:11:29,110 --> 00:11:33,970
linux ok now we<font color="#E5E5E5"> jump</font><font color="#CCCCCC"> when it's</font><font color="#E5E5E5"> right</font>

283
00:11:31,270 --> 00:11:35,170
<font color="#E5E5E5">it's cool yeah</font><font color="#CCCCCC"> okay you can technically</font>

284
00:11:33,970 --> 00:11:39,760
<font color="#E5E5E5">jump</font><font color="#CCCCCC"> to linux and</font><font color="#E5E5E5"> it will technically</font>

285
00:11:35,170 --> 00:11:42,219
run for a little bit<font color="#CCCCCC"> yeah they're</font><font color="#E5E5E5"> gonna</font>

286
00:11:39,760 --> 00:11:43,540
<font color="#E5E5E5">stop and you're not</font><font color="#CCCCCC"> getting</font><font color="#E5E5E5"> cereal or</font>

287
00:11:42,220 --> 00:11:46,180
any<font color="#E5E5E5"> video or anything</font>

288
00:11:43,540 --> 00:11:50,800
well what's going on here<font color="#CCCCCC"> ok let's talk</font>

289
00:11:46,180 --> 00:11:52,750
about<font color="#E5E5E5"> hardware what</font><font color="#CCCCCC"> is x86x64</font><font color="#E5E5E5"> mediocre</font>

290
00:11:50,800 --> 00:11:55,300
instruction set architecture by<font color="#CCCCCC"> Intel</font>

291
00:11:52,750 --> 00:11:58,030
<font color="#CCCCCC">it's okay</font><font color="#E5E5E5"> i guess</font><font color="#CCCCCC"> since it's not great</font>

292
00:11:55,300 --> 00:12:02,920
so<font color="#CCCCCC"> we're here for is definitely</font><font color="#E5E5E5"> x86x64</font>

293
00:11:58,030 --> 00:12:04,569
<font color="#E5E5E5">what is a</font><font color="#CCCCCC"> pc ah pc is a horrible</font>

294
00:12:02,920 --> 00:12:06,760
horrible thing built upon piles and

295
00:12:04,570 --> 00:12:08,200
piles of legacy crap<font color="#CCCCCC"> making back to</font>

296
00:12:06,760 --> 00:12:11,560
nineteen<font color="#E5E5E5"> eighty one and ps4 is</font>

297
00:12:08,200 --> 00:12:13,390
definitely not a<font color="#E5E5E5"> pc then again that's</font>

298
00:12:11,560 --> 00:12:16,390
practically<font color="#CCCCCC"> sony level partner fail so</font>

299
00:12:13,390 --> 00:12:19,930
it could be but it's not<font color="#CCCCCC"> okay so what's</font>

300
00:12:16,390 --> 00:12:22,060
going on well<font color="#E5E5E5"> a</font><font color="#CCCCCC"> pc a legacy pc basically</font>

301
00:12:19,930 --> 00:12:26,020
has a<font color="#E5E5E5"> 8259 programmable interrupt</font>

302
00:12:22,060 --> 00:12:27,849
controller<font color="#E5E5E5"> 50 gram</font><font color="#CCCCCC"> of interval timer aur</font>

303
00:12:26,020 --> 00:12:30,460
<font color="#CCCCCC">jo three fate</font><font color="#E5E5E5"> which is the standard</font>

304
00:12:27,850 --> 00:12:32,860
dress for a<font color="#E5E5E5"> serial port has a</font><font color="#CCCCCC"> ps2</font>

305
00:12:30,460 --> 00:12:34,360
keyboard<font color="#E5E5E5"> controller</font><font color="#CCCCCC"> may be</font><font color="#E5E5E5"> 42 as an RTC</font>

306
00:12:32,860 --> 00:12:36,820
a<font color="#CCCCCC"> real-time clock with the CMOS</font><font color="#E5E5E5"> and</font>

307
00:12:34,360 --> 00:12:39,250
everyone knows<font color="#CCCCCC"> he must</font><font color="#E5E5E5"> write</font><font color="#CCCCCC"> MP 4068</font><font color="#E5E5E5"> 18</font>

308
00:12:36,820 --> 00:12:40,330
is the<font color="#CCCCCC"> tip number for that and is a bus</font>

309
00:12:39,250 --> 00:12:41,710
even<font color="#CCCCCC"> if you think you don't have a nice</font>

310
00:12:40,330 --> 00:12:43,260
<font color="#CCCCCC">saves your computer has</font><font color="#E5E5E5"> an ISA</font><font color="#CCCCCC"> bus</font>

311
00:12:41,710 --> 00:12:45,870
<font color="#E5E5E5">inside the</font><font color="#CCCCCC"> cells which</font><font color="#E5E5E5"> somewhere</font>

312
00:12:43,260 --> 00:12:49,020
<font color="#CCCCCC">and has vga the</font><font color="#E5E5E5"> ps4 doesn't have any of</font>

313
00:12:45,870 --> 00:12:50,910
these things<font color="#E5E5E5"> so what do we do</font>

314
00:12:49,020 --> 00:12:53,340
well<font color="#CCCCCC"> ok let's look a little bit of what</font>

315
00:12:50,910 --> 00:12:55,589
have a pc works and how<font color="#CCCCCC"> a ps4 works is a</font>

316
00:12:53,340 --> 00:12:57,900
general<font color="#E5E5E5"> simple</font><font color="#CCCCCC"> pc system there's an APU</font>

317
00:12:55,590 --> 00:13:00,180
<font color="#CCCCCC">ornamental core</font><font color="#E5E5E5"> cpu with the southridge</font>

318
00:12:57,900 --> 00:13:01,560
<font color="#CCCCCC">you</font><font color="#E5E5E5"> know</font><font color="#CCCCCC"> it was a pc hmph</font>

319
00:13:00,180 --> 00:13:03,660
<font color="#E5E5E5">there's an interface that is basically</font>

320
00:13:01,560 --> 00:13:06,479
<font color="#CCCCCC">pcie though into custody MI and</font><font color="#E5E5E5"> then</font>

321
00:13:03,660 --> 00:13:08,550
because it<font color="#E5E5E5"> Umi whatever ddr3 around a</font>

322
00:13:06,480 --> 00:13:10,380
bunch of<font color="#CCCCCC"> roses and sat whatever peaceful</font>

323
00:13:08,550 --> 00:13:11,760
kinda looks like that night<font color="#E5E5E5"> so you think</font>

324
00:13:10,380 --> 00:13:14,580
it<font color="#E5E5E5"> can't be that yet</font>

325
00:13:11,760 --> 00:13:16,080
what's so hard about this<font color="#E5E5E5"> you know</font><font color="#CCCCCC"> it is</font>

326
00:13:14,580 --> 00:13:17,880
all the crap<font color="#E5E5E5"> i mentioned earlier is in</font>

327
00:13:16,080 --> 00:13:19,770
the<font color="#CCCCCC"> South Region pc right</font><font color="#E5E5E5"> so you know</font>

328
00:13:17,880 --> 00:13:23,460
<font color="#CCCCCC">this was a South Bridge right right</font>

329
00:13:19,770 --> 00:13:26,699
right so<font color="#E5E5E5"> the</font><font color="#CCCCCC"> savage</font><font color="#E5E5E5"> the</font><font color="#CCCCCC"> agency Standard</font>

330
00:13:23,460 --> 00:13:28,950
fch<font color="#E5E5E5"> implements into legacy from</font><font color="#CCCCCC"> 1981</font><font color="#E5E5E5"> the</font>

331
00:13:26,700 --> 00:13:30,960
<font color="#CCCCCC">Marvel</font><font color="#E5E5E5"> aiolia Marvel is the maker of the</font>

332
00:13:28,950 --> 00:13:33,750
<font color="#E5E5E5">ps4</font><font color="#CCCCCC"> southridge insurance until they can</font>

333
00:13:30,960 --> 00:13:36,510
<font color="#CCCCCC">see from</font><font color="#E5E5E5"> 2002</font><font color="#CCCCCC"> what does</font><font color="#E5E5E5"> that mean</font>

334
00:13:33,750 --> 00:13:39,780
<font color="#CCCCCC">haha thats southbridge that's a Marvel</font>

335
00:13:36,510 --> 00:13:41,040
<font color="#CCCCCC">armada</font><font color="#E5E5E5"> SOC</font><font color="#CCCCCC"> so it's</font><font color="#E5E5E5"> not actually</font><font color="#CCCCCC"> a</font>

336
00:13:39,780 --> 00:13:43,770
<font color="#CCCCCC">southbridge</font><font color="#E5E5E5"> it was never south which</font>

337
00:13:41,040 --> 00:13:44,459
<font color="#E5E5E5">it's an</font><font color="#CCCCCC"> arm</font><font color="#E5E5E5"> system-on-a-chip cpu with</font>

338
00:13:43,770 --> 00:13:45,930
everything

339
00:13:44,460 --> 00:13:47,940
<font color="#CCCCCC">it's</font><font color="#E5E5E5"> a</font><font color="#CCCCCC"> descendant from Intel strong arm</font>

340
00:13:45,930 --> 00:13:49,380
<font color="#CCCCCC">or</font><font color="#E5E5E5"> exhale</font><font color="#CCCCCC"> it has a bunch of peripherals</font>

341
00:13:47,940 --> 00:13:51,240
and what they did is<font color="#CCCCCC"> like a pci bridge</font>

342
00:13:49,380 --> 00:13:53,790
on the side and said hey x86 you cannot

343
00:13:51,240 --> 00:13:55,710
use all my<font color="#CCCCCC"> arm</font><font color="#E5E5E5"> shit so it exposes off</font>

344
00:13:53,790 --> 00:13:57,000
<font color="#E5E5E5">its</font><font color="#CCCCCC"> on preference to the x86 it</font><font color="#E5E5E5"> they</font>

345
00:13:55,710 --> 00:14:00,150
added<font color="#CCCCCC"> some</font><font color="#E5E5E5"> something really needed for</font>

346
00:13:57,000 --> 00:14:02,880
<font color="#CCCCCC">PCs and capacitor</font><font color="#E5E5E5"> on</font><font color="#CCCCCC"> ram why do they do</font>

347
00:14:00,150 --> 00:14:04,410
this well it also<font color="#E5E5E5"> runs</font><font color="#CCCCCC"> 3b is the arm in</font>

348
00:14:02,880 --> 00:14:05,910
standby mode<font color="#E5E5E5"> and that's how they do the</font>

349
00:14:04,410 --> 00:14:07,410
whole download updates in the background

350
00:14:05,910 --> 00:14:09,240
get content mean update whatever<font color="#CCCCCC"> other</font>

351
00:14:07,410 --> 00:14:11,280
<font color="#E5E5E5">crap is because they have a separate</font><font color="#CCCCCC"> us</font>

352
00:14:09,240 --> 00:14:11,790
<font color="#E5E5E5">on a separate ship running in standby</font>

353
00:14:11,280 --> 00:14:13,829
mode

354
00:14:11,790 --> 00:14:15,449
<font color="#CCCCCC">okay that's</font><font color="#E5E5E5"> great but it's also batshit</font>

355
00:14:13,830 --> 00:14:20,550
insane

356
00:14:15,450 --> 00:14:22,110
<font color="#CCCCCC">yeah</font><font color="#E5E5E5"> so quick recap this is what a pci</font>

357
00:14:20,550 --> 00:14:23,699
bus number looks like it has<font color="#CCCCCC"> a real</font>

358
00:14:22,110 --> 00:14:25,620
device<font color="#E5E5E5"> number so has a bus number which</font>

359
00:14:23,700 --> 00:14:27,390
is a<font color="#CCCCCC"> bits a device number which is</font><font color="#E5E5E5"> five</font>

360
00:14:25,620 --> 00:14:29,160
bits and the function number which is

361
00:14:27,390 --> 00:14:31,590
<font color="#E5E5E5">three bits so you</font><font color="#CCCCCC"> for seeing us and spc</font>

362
00:14:29,160 --> 00:14:33,150
<font color="#CCCCCC">I if you ever</font><font color="#E5E5E5"> not done that this is what</font>

363
00:14:31,590 --> 00:14:35,700
a regular<font color="#E5E5E5"> south which looks like so it</font>

364
00:14:33,150 --> 00:14:37,620
has a USB controller<font color="#CCCCCC"> pci you know I say</font>

365
00:14:35,700 --> 00:14:39,510
bridges<font color="#E5E5E5"> that whatever</font><font color="#CCCCCC"> and</font><font color="#E5E5E5"> has a bunch of</font>

366
00:14:37,620 --> 00:14:41,610
devices so<font color="#E5E5E5"> one south which pretends to</font>

367
00:14:39,510 --> 00:14:43,110
be multiple devices<font color="#E5E5E5"> because you</font><font color="#CCCCCC"> only</font>

368
00:14:41,610 --> 00:14:44,610
have<font color="#E5E5E5"> three bits for a function number so</font>

369
00:14:43,110 --> 00:14:47,250
you can only have<font color="#E5E5E5"> up to eight functions</font>

370
00:14:44,610 --> 00:14:49,260
in one device so that you know<font color="#CCCCCC"> until</font>

371
00:14:47,250 --> 00:14:50,490
<font color="#E5E5E5">such as well</font><font color="#CCCCCC"> I'm device 14 16 18 when</font>

372
00:14:49,260 --> 00:14:54,000
<font color="#CCCCCC">we're just a bunch of devices and you</font>

373
00:14:50,490 --> 00:14:56,430
can talk to all of them<font color="#E5E5E5"> if</font><font color="#CCCCCC"> us pci</font><font color="#E5E5E5"> on</font><font color="#CCCCCC"> of</font>

374
00:14:54,000 --> 00:14:59,820
roughly<font color="#E5E5E5"> unpatched linux kernel on the</font>

375
00:14:56,430 --> 00:15:01,620
ps4<font color="#E5E5E5"> you get something like this</font><font color="#CCCCCC"> so the</font>

376
00:14:59,820 --> 00:15:03,210
<font color="#CCCCCC">aeolian first of all clones itself into</font>

377
00:15:01,620 --> 00:15:05,250
every<font color="#CCCCCC"> pcie device because they were too</font>

378
00:15:03,210 --> 00:15:07,800
lazy to do this device equals my number

379
00:15:05,250 --> 00:15:09,030
then reply otherwise don't reply<font color="#CCCCCC"> now</font>

380
00:15:07,800 --> 00:15:11,969
they just<font color="#E5E5E5"> said</font><font color="#CCCCCC"> i'll just</font><font color="#E5E5E5"> write every</font>

381
00:15:09,030 --> 00:15:13,530
single pci device that might vary so

382
00:15:11,970 --> 00:15:16,140
<font color="#CCCCCC">that exceeds the southridge</font><font color="#E5E5E5"> you know</font>

383
00:15:13,530 --> 00:15:17,579
like 31 different times<font color="#E5E5E5"> which is kind of</font>

384
00:15:16,140 --> 00:15:19,650
annoying because<font color="#CCCCCC"> it's</font><font color="#E5E5E5"> very confused when</font>

385
00:15:17,580 --> 00:15:22,260
<font color="#CCCCCC">disease</font><font color="#E5E5E5"> 31 clones of the same</font><font color="#CCCCCC"> sandwich</font>

386
00:15:19,650 --> 00:15:24,660
and then it has<font color="#CCCCCC"> eight functions</font><font color="#E5E5E5"> acpi</font>

387
00:15:22,260 --> 00:15:27,840
<font color="#CCCCCC">ethernet sometimes emc pci-express ok</font>

388
00:15:24,660 --> 00:15:29,250
<font color="#CCCCCC">aight functions for all three bits</font><font color="#E5E5E5"> turns</font>

389
00:15:27,840 --> 00:15:31,290
<font color="#E5E5E5">out</font><font color="#CCCCCC"> eight functions are not enough for</font>

390
00:15:29,250 --> 00:15:33,660
everybody<font color="#CCCCCC"> went to number four pci</font>

391
00:15:31,290 --> 00:15:35,189
<font color="#CCCCCC">express</font><font color="#E5E5E5"> glue has a bridge config and</font><font color="#CCCCCC"> as</font>

392
00:15:33,660 --> 00:15:37,110
<font color="#E5E5E5">I interrupt controller IC</font><font color="#CCCCCC"> we'll talk</font>

393
00:15:35,190 --> 00:15:38,880
about that later<font color="#E5E5E5"> expect timers flash</font>

394
00:15:37,110 --> 00:15:40,590
controller RTC<font color="#E5E5E5"> timers to serial</font><font color="#CCCCCC"> port</font>

395
00:15:38,880 --> 00:15:46,710
<font color="#CCCCCC">side skirts see all this</font><font color="#E5E5E5"> matched into</font>

396
00:15:40,590 --> 00:15:48,120
one single pci device so then excessive

397
00:15:46,710 --> 00:15:51,540
minimum system requirements to run on

398
00:15:48,120 --> 00:15:54,570
anything you need a timer interrupts and

399
00:15:51,540 --> 00:15:55,920
you need<font color="#CCCCCC"> to</font><font color="#E5E5E5"> console</font><font color="#CCCCCC"> the ps4 has</font><font color="#E5E5E5"> no</font><font color="#CCCCCC"> pity</font>

400
00:15:54,570 --> 00:15:57,900
<font color="#E5E5E5">no</font><font color="#CCCCCC"> pic no standard serial</font><font color="#E5E5E5"> so now the</font>

401
00:15:55,920 --> 00:15:59,790
standard pc stuff is going to work here

402
00:15:57,900 --> 00:16:03,840
the board has test points for any 250

403
00:15:59,790 --> 00:16:05,339
<font color="#E5E5E5">standard</font><font color="#CCCCCC"> serial</font><font color="#E5E5E5"> in a different place so</font>

404
00:16:03,840 --> 00:16:07,080
we want<font color="#E5E5E5"> the message over that ok fine</font>

405
00:16:05,340 --> 00:16:08,610
<font color="#CCCCCC">linux has early</font><font color="#E5E5E5"> con which we can point</font>

406
00:16:07,080 --> 00:16:10,590
to a serial port and say please send all

407
00:16:08,610 --> 00:16:11,640
your message here very early because<font color="#CCCCCC"> I</font>

408
00:16:10,590 --> 00:16:13,920
really want to see what's going on

409
00:16:11,640 --> 00:16:16,140
<font color="#CCCCCC">doesn't need</font><font color="#E5E5E5"> our</font><font color="#CCCCCC"> cues</font><font color="#E5E5E5"> you said control</font>

410
00:16:13,920 --> 00:16:17,969
<font color="#E5E5E5">because your</font><font color="#CCCCCC"> day 252</font><font color="#E5E5E5"> the type the</font>

411
00:16:16,140 --> 00:16:19,949
address<font color="#E5E5E5"> the speed and you'll see it says</font>

412
00:16:17,970 --> 00:16:21,210
the<font color="#CCCCCC"> 3200 instead of other than 15 killer</font>

413
00:16:19,950 --> 00:16:23,640
bod<font color="#CCCCCC"> that's</font><font color="#E5E5E5"> because the clock is</font>

414
00:16:21,210 --> 00:16:25,300
different<font color="#E5E5E5"> so you</font><font color="#CCCCCC"> said 3200 but it really</font>

415
00:16:23,640 --> 00:16:27,519
<font color="#E5E5E5">been</font><font color="#CCCCCC"> 215k</font>

416
00:16:25,300 --> 00:16:28,930
<font color="#CCCCCC">and I guess</font><font color="#E5E5E5"> you the message that</font>

417
00:16:27,519 --> 00:16:30,490
actually gets you know the next<font color="#CCCCCC"> putting</font>

418
00:16:28,930 --> 00:16:32,050
<font color="#E5E5E5">on</font><font color="#CCCCCC"> compressing</font><font color="#E5E5E5"> whatever</font><font color="#CCCCCC"> that's that's</font>

419
00:16:30,490 --> 00:16:34,750
pretty<font color="#CCCCCC"> good</font>

420
00:16:32,050 --> 00:16:36,849
<font color="#CCCCCC">ok we need</font><font color="#E5E5E5"> a timer because it's</font>

421
00:16:34,750 --> 00:16:38,980
finalized everything explodes<font color="#CCCCCC"> supports</font>

422
00:16:36,850 --> 00:16:40,360
the<font color="#E5E5E5"> tsc which is a built-in cpu to time</font>

423
00:16:38,980 --> 00:16:43,000
which is super nice and super<font color="#E5E5E5"> fun the</font>

424
00:16:40,360 --> 00:16:44,470
<font color="#CCCCCC">peaceful</font><font color="#E5E5E5"> has that but</font><font color="#CCCCCC"> let me stress the</font>

425
00:16:43,000 --> 00:16:46,209
calibrated against the legacy timer

426
00:16:44,470 --> 00:16:50,350
which on the ps4 doesn't exist so that's

427
00:16:46,209 --> 00:16:53,018
fail<font color="#E5E5E5"> so again the piece</font><font color="#CCCCCC"> for really is</font>

428
00:16:50,350 --> 00:16:54,519
not a<font color="#CCCCCC"> pc so what we need to do here is</font>

429
00:16:53,019 --> 00:16:56,920
<font color="#CCCCCC">defining you some architecture because</font>

430
00:16:54,519 --> 00:16:59,290
<font color="#CCCCCC">big</font><font color="#E5E5E5"> supports this concept say is it's</font>

431
00:16:56,920 --> 00:17:01,540
not<font color="#E5E5E5"> a</font><font color="#CCCCCC"> pc is</font><font color="#E5E5E5"> a ps4 the bootloader tells</font>

432
00:16:59,290 --> 00:17:03,099
<font color="#CCCCCC">onyx hey this is a ps4 and then</font><font color="#E5E5E5"> the</font>

433
00:17:01,540 --> 00:17:04,569
<font color="#CCCCCC">excess okay</font><font color="#E5E5E5"> I'm not gonna do the</font>

434
00:17:03,100 --> 00:17:07,000
<font color="#CCCCCC">old-time</font><font color="#E5E5E5"> calibration</font><font color="#CCCCCC"> I'm</font><font color="#E5E5E5"> going to do it</font>

435
00:17:04,569 --> 00:17:08,619
for<font color="#E5E5E5"> the ps4 which has a special code</font>

436
00:17:07,000 --> 00:17:10,689
that we wrote that<font color="#CCCCCC"> collaborates against</font>

437
00:17:08,619 --> 00:17:12,369
the ps4 timer and disables the legacy

438
00:17:10,689 --> 00:17:13,809
<font color="#CCCCCC">crap ok so now this is not PC</font><font color="#E5E5E5"> this is</font>

439
00:17:12,369 --> 00:17:18,790
officially not a pc anymore

440
00:17:13,809 --> 00:17:20,740
<font color="#CCCCCC">ok and we</font><font color="#E5E5E5"> talked about</font><font color="#CCCCCC"> acpi</font><font color="#E5E5E5"> you might</font>

441
00:17:18,790 --> 00:17:22,359
know<font color="#E5E5E5"> a</font><font color="#CCCCCC"> CPI for</font><font color="#E5E5E5"> all</font><font color="#CCCCCC"> its horribleness and</font>

442
00:17:20,740 --> 00:17:24,459
it's even less and<font color="#E5E5E5"> less</font><font color="#CCCCCC"> microsoft eNOS</font>

443
00:17:22,359 --> 00:17:26,948
<font color="#E5E5E5">but acpi most people associate with</font>

444
00:17:24,459 --> 00:17:29,800
suspense and<font color="#CCCCCC"> defend a hybrid night it's</font>

445
00:17:26,949 --> 00:17:32,050
not just power it has other stuff too so

446
00:17:29,800 --> 00:17:35,139
we need<font color="#E5E5E5"> a</font><font color="#CCCCCC"> CPI</font><font color="#E5E5E5"> for</font><font color="#CCCCCC"> pc i can fake for the</font>

447
00:17:32,050 --> 00:17:36,370
<font color="#CCCCCC">iommu for the</font><font color="#E5E5E5"> cpu frequency the ps4 of</font>

448
00:17:35,140 --> 00:17:38,679
course has broken<font color="#CCCCCC"> actually</font><font color="#E5E5E5"> tables</font>

449
00:17:36,370 --> 00:17:42,639
because of course it would be so<font color="#E5E5E5"> we</font><font color="#CCCCCC"> fix</font>

450
00:17:38,679 --> 00:17:44,080
<font color="#CCCCCC">the MPS</font><font color="#E5E5E5"> work</font><font color="#CCCCCC"> exok ok now interest we</font>

451
00:17:42,640 --> 00:17:46,870
have<font color="#E5E5E5"> timers</font><font color="#CCCCCC"> have cereal we fix some</font>

452
00:17:44,080 --> 00:17:48,159
stuff<font color="#CCCCCC"> the</font><font color="#E5E5E5"> ps4 just</font><font color="#CCCCCC"> messaged</font><font color="#E5E5E5"> signaled</font>

453
00:17:46,870 --> 00:17:49,479
interrupts which is what<font color="#CCCCCC"> i said the non</font>

454
00:17:48,160 --> 00:17:51,340
<font color="#E5E5E5">legacy</font><font color="#CCCCCC"> the nice new thing where you just</font>

455
00:17:49,480 --> 00:17:52,720
write<font color="#CCCCCC"> a</font><font color="#E5E5E5"> value and what you do is you</font>

456
00:17:51,340 --> 00:17:54,250
tell the device when you wanna interrupt

457
00:17:52,720 --> 00:17:56,890
please<font color="#E5E5E5"> write this value to this address</font>

458
00:17:54,250 --> 00:17:58,419
<font color="#E5E5E5">the</font><font color="#CCCCCC"> divide does that and the cpu</font>

459
00:17:56,890 --> 00:17:59,830
<font color="#CCCCCC">interrupt controllers sees</font><font color="#E5E5E5"> that right</font>

460
00:17:58,419 --> 00:18:01,300
<font color="#CCCCCC">now so this is an interrupt and then</font>

461
00:17:59,830 --> 00:18:04,240
just fires<font color="#CCCCCC"> of that interrupt into the</font>

462
00:18:01,300 --> 00:18:06,790
<font color="#CCCCCC">cpu</font><font color="#E5E5E5"> that's great</font><font color="#CCCCCC"> is</font><font color="#E5E5E5"> super</font><font color="#CCCCCC"> you know super</font>

463
00:18:04,240 --> 00:18:07,960
fast and very efficient and the value

464
00:18:06,790 --> 00:18:11,260
directly tells the<font color="#CCCCCC"> cpu</font><font color="#E5E5E5"> that's the</font>

465
00:18:07,960 --> 00:18:12,520
intervention we have to<font color="#E5E5E5"> go to</font><font color="#CCCCCC"> okay let's</font>

466
00:18:11,260 --> 00:18:13,780
see that's<font color="#CCCCCC"> the standard on the side</font><font color="#E5E5E5"> way</font>

467
00:18:12,520 --> 00:18:17,290
that your computer just<font color="#CCCCCC"> emphasize that</font>

468
00:18:13,780 --> 00:18:18,850
way<font color="#CCCCCC"> this is how the ps4 does msi</font><font color="#E5E5E5"> the</font>

469
00:18:17,290 --> 00:18:21,879
<font color="#CCCCCC">aioli</font><font color="#E5E5E5"> ignores the</font><font color="#CCCCCC"> advice I can take</font>

470
00:18:18,850 --> 00:18:24,399
registers and the<font color="#E5E5E5"> center location</font>

471
00:18:21,880 --> 00:18:26,050
<font color="#E5E5E5">instead it has its own</font><font color="#CCCCCC"> my controller all</font>

472
00:18:24,400 --> 00:18:29,440
<font color="#CCCCCC">started the function for which is that</font>

473
00:18:26,050 --> 00:18:31,418
glue device<font color="#CCCCCC"> ya blue</font><font color="#E5E5E5"> each function gets</font>

474
00:18:29,440 --> 00:18:33,160
shared address in memory<font color="#E5E5E5"> to write</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> and</font>

475
00:18:31,419 --> 00:18:34,540
the top<font color="#E5E5E5"> twenty seven bits of data and</font>

476
00:18:33,160 --> 00:18:36,400
every sub function because you<font color="#E5E5E5"> can't a</font>

477
00:18:34,540 --> 00:18:37,760
lot of things<font color="#E5E5E5"> into one place only gets</font>

478
00:18:36,400 --> 00:18:39,920
the different<font color="#CCCCCC"> five bits</font>

479
00:18:37,760 --> 00:18:42,110
<font color="#E5E5E5">and</font><font color="#CCCCCC"> Oliver sighs</font><font color="#E5E5E5"> originates</font><font color="#CCCCCC"> in functions</font>

480
00:18:39,920 --> 00:18:43,310
<font color="#E5E5E5">for so like this device has</font><font color="#CCCCCC"> to fire</font>

481
00:18:42,110 --> 00:18:46,429
interrupt<font color="#CCCCCC"> then it goes to</font><font color="#E5E5E5"> here and then</font>

482
00:18:43,310 --> 00:18:47,750
that device<font color="#CCCCCC"> was an interrupt</font><font color="#E5E5E5"> like what</font>

483
00:18:46,430 --> 00:18:49,160
this is all<font color="#CCCCCC"> matching what the hell is</font>

484
00:18:47,750 --> 00:18:52,490
going on<font color="#CCCCCC"> i can seriously this is really</font>

485
00:18:49,160 --> 00:18:55,640
fucked up<font color="#E5E5E5"> and</font><font color="#CCCCCC"> the</font><font color="#E5E5E5"> guys are missing in</font>

486
00:18:52,490 --> 00:18:58,040
the front there<font color="#E5E5E5"> but yeah so</font><font color="#CCCCCC"> yeah driver</font>

487
00:18:55,640 --> 00:19:00,260
<font color="#E5E5E5">hell now the devices are interdependent</font>

488
00:18:58,040 --> 00:19:02,090
and the<font color="#CCCCCC"> architecture location is not</font>

489
00:19:00,260 --> 00:19:04,190
sequential<font color="#CCCCCC"> that's not gonna work</font><font color="#E5E5E5"> and</font>

490
00:19:02,090 --> 00:19:06,980
need to modify the drivers and like this

491
00:19:04,190 --> 00:19:09,050
is really painful to develop<font color="#E5E5E5"> for so what</font>

492
00:19:06,980 --> 00:19:10,610
we ended up doing is a<font color="#CCCCCC"> record driver</font>

493
00:19:09,050 --> 00:19:13,159
that implements an<font color="#CCCCCC"> interface</font><font color="#E5E5E5"> controller</font>

494
00:19:10,610 --> 00:19:14,810
for this thing and<font color="#E5E5E5"> then we have to make</font>

495
00:19:13,160 --> 00:19:16,220
sure that loads first before the device

496
00:19:14,810 --> 00:19:18,409
<font color="#E5E5E5">drivers so that</font><font color="#CCCCCC"> linux has a mechanism</font>

497
00:19:16,220 --> 00:19:20,120
for that<font color="#E5E5E5"> we</font><font color="#CCCCCC"> have</font><font color="#E5E5E5"> to patch drivers</font><font color="#CCCCCC"> some</font>

498
00:19:18,410 --> 00:19:21,650
<font color="#E5E5E5">drivers we</font><font color="#CCCCCC"> patch</font><font color="#E5E5E5"> to use these interrupts</font>

499
00:19:20,120 --> 00:19:22,550
and drivers<font color="#CCCCCC"> we</font><font color="#E5E5E5"> wrapped around to use</font>

500
00:19:21,650 --> 00:19:24,170
these<font color="#CCCCCC"> interrupt</font>

501
00:19:22,550 --> 00:19:26,060
unfortunately because of the top bit

502
00:19:24,170 --> 00:19:27,410
thing everything<font color="#E5E5E5"> has to share one</font>

503
00:19:26,060 --> 00:19:30,500
<font color="#E5E5E5">interrupt within a function</font>

504
00:19:27,410 --> 00:19:32,360
<font color="#E5E5E5">thankfully we can fix that with</font><font color="#CCCCCC"> a RM you</font>

505
00:19:30,500 --> 00:19:33,800
because<font color="#E5E5E5"> it can redirect interrupt so you</font>

506
00:19:32,360 --> 00:19:37,040
can say<font color="#CCCCCC"> our internet number 0 goes to</font>

507
00:19:33,800 --> 00:19:39,919
<font color="#CCCCCC">hear one goes to here</font><font color="#E5E5E5"> to</font><font color="#CCCCCC"> see here so the</font>

508
00:19:37,040 --> 00:19:41,750
<font color="#CCCCCC">that's because</font><font color="#E5E5E5"> consecutive right 0 1 2 3</font>

509
00:19:39,920 --> 00:19:45,770
<font color="#E5E5E5">4 5 is obviously going to have the same</font>

510
00:19:41,750 --> 00:19:48,230
<font color="#E5E5E5">top bits but we have to fix the</font><font color="#CCCCCC"> actual</font>

511
00:19:45,770 --> 00:19:49,790
<font color="#CCCCCC">table for that because it's broken</font><font color="#E5E5E5"> but</font>

512
00:19:48,230 --> 00:19:53,150
this does work so this gets interrupted

513
00:19:49,790 --> 00:19:54,500
<font color="#E5E5E5">that function and their individual so</font>

514
00:19:53,150 --> 00:19:57,140
let's look at the<font color="#E5E5E5"> checklist we have</font>

515
00:19:54,500 --> 00:19:58,970
<font color="#E5E5E5">interrupts timers</font><font color="#CCCCCC"> cereal</font><font color="#E5E5E5"> late cereal</font>

516
00:19:57,140 --> 00:20:01,010
with interrupts<font color="#CCCCCC"> we get some user space</font>

517
00:19:58,970 --> 00:20:03,140
we can<font color="#CCCCCC"> you know that</font><font color="#E5E5E5"> stash some user</font>

518
00:20:01,010 --> 00:20:04,550
<font color="#E5E5E5">space and</font><font color="#CCCCCC"> wineries</font><font color="#E5E5E5"> into the</font><font color="#CCCCCC"> kernel</font><font color="#E5E5E5"> and</font>

519
00:20:03,140 --> 00:20:06,050
<font color="#E5E5E5">it will boot and you can get a console</font>

520
00:20:04,550 --> 00:20:09,110
but you<font color="#CCCCCC"> get a console and he took</font><font color="#E5E5E5"> my</font>

521
00:20:06,050 --> 00:20:13,220
<font color="#E5E5E5">writing commands and it sometimes bags</font>

522
00:20:09,110 --> 00:20:15,439
<font color="#CCCCCC">okay</font><font color="#E5E5E5"> what's going on there</font><font color="#CCCCCC"> so it</font><font color="#E5E5E5"> turns</font>

523
00:20:13,220 --> 00:20:18,260
out that<font color="#E5E5E5"> freebsd masks interrupts with</font>

524
00:20:15,440 --> 00:20:20,420
<font color="#CCCCCC">an AMD proprietary register set</font><font color="#E5E5E5"> we have</font>

525
00:20:18,260 --> 00:20:22,490
<font color="#E5E5E5">to clean</font><font color="#CCCCCC"> that</font><font color="#E5E5E5"> up to and that fixes</font>

526
00:20:20,420 --> 00:20:24,350
<font color="#E5E5E5">cereal and all the other interrupts this</font>

527
00:20:22,490 --> 00:20:25,940
took ages to find<font color="#E5E5E5"> it's like</font><font color="#CCCCCC"> white deck</font>

528
00:20:24,350 --> 00:20:29,419
<font color="#CCCCCC">interruptions user or sometimes</font><font color="#E5E5E5"> don't</font>

529
00:20:25,940 --> 00:20:33,350
<font color="#CCCCCC">write</font><font color="#E5E5E5"> yeah</font><font color="#CCCCCC"> i entered dumping register</font>

530
00:20:29,420 --> 00:20:34,280
<font color="#CCCCCC">sets and I saw</font><font color="#E5E5E5"> this</font><font color="#CCCCCC"> FF here and not FF</font>

531
00:20:33,350 --> 00:20:37,370
what's<font color="#E5E5E5"> that</font>

532
00:20:34,280 --> 00:20:38,870
but yet<font color="#E5E5E5"> backtracking through the stack</font>

533
00:20:37,370 --> 00:20:41,479
to find this was really annoying

534
00:20:38,870 --> 00:20:44,540
<font color="#E5E5E5">alright so we have the basics we have</font>

535
00:20:41,480 --> 00:20:46,610
like a core platform we can<font color="#E5E5E5"> you know run</font>

536
00:20:44,540 --> 00:20:49,010
<font color="#E5E5E5">linux on</font><font color="#CCCCCC"> even though don't don't do</font>

537
00:20:46,610 --> 00:20:51,500
anything<font color="#E5E5E5"> interesting</font><font color="#CCCCCC"> that</font><font color="#E5E5E5"> drivers</font>

538
00:20:49,010 --> 00:20:54,470
<font color="#E5E5E5">so we have USB</font><font color="#CCCCCC"> HD I which has</font><font color="#E5E5E5"> three</font>

539
00:20:51,500 --> 00:20:56,270
controllers in one device again<font color="#E5E5E5"> just you</font>

540
00:20:54,470 --> 00:20:59,210
know<font color="#CCCCCC"> let's make it in saying we have</font>

541
00:20:56,270 --> 00:21:00,800
<font color="#CCCCCC">sdhc</font><font color="#E5E5E5"> I that's a</font><font color="#CCCCCC"> sdio for the Wi-Fi and</font>

542
00:20:59,210 --> 00:21:03,290
<font color="#E5E5E5">Bluetooth needs a non-standard</font><font color="#CCCCCC"> configure</font>

543
00:21:00,800 --> 00:21:05,030
<font color="#E5E5E5">its quirks</font><font color="#CCCCCC"> ethernet needs more hacks</font>

544
00:21:03,290 --> 00:21:06,260
<font color="#CCCCCC">it's still partially broken it only runs</font>

545
00:21:05,030 --> 00:21:07,760
<font color="#E5E5E5">a gigabit speeds if you plug in a</font>

546
00:21:06,260 --> 00:21:09,140
hundred<font color="#CCCCCC"> megabytes which</font><font color="#E5E5E5"> it</font><font color="#CCCCCC"> just doesn't</font>

547
00:21:07,760 --> 00:21:12,440
<font color="#CCCCCC">send</font><font color="#E5E5E5"> any data not sure why</font>

548
00:21:09,140 --> 00:21:14,120
and then all<font color="#E5E5E5"> of this works fine in</font><font color="#CCCCCC"> X 4.4</font>

549
00:21:12,440 --> 00:21:16,040
and then just<font color="#CCCCCC"> the three days ago I</font><font color="#E5E5E5"> think</font>

550
00:21:14,120 --> 00:21:18,199
<font color="#CCCCCC">I tried to rebase 14.9 and so</font><font color="#E5E5E5"> we have</font>

551
00:21:16,040 --> 00:21:20,030
the latest and the greatest<font color="#CCCCCC"> and</font>

552
00:21:18,200 --> 00:21:21,290
everything failed and<font color="#CCCCCC"> DNA didn't work</font>

553
00:21:20,030 --> 00:21:22,700
and all the drivers<font color="#CCCCCC"> are just throwing</font>

554
00:21:21,290 --> 00:21:25,909
their hands up in the air and what's

555
00:21:22,700 --> 00:21:30,500
going on here<font color="#CCCCCC"> earlier strikes back</font>

556
00:21:25,910 --> 00:21:32,330
so that's what you know the<font color="#CCCCCC"> new video</font>

557
00:21:30,500 --> 00:21:33,710
<font color="#CCCCCC">looks like normally so you have</font><font color="#E5E5E5"> it again</font>

558
00:21:32,330 --> 00:21:35,510
it's an<font color="#CCCCCC"> arm stock it's really not a</font>

559
00:21:33,710 --> 00:21:37,760
device it's like its own little system

560
00:21:35,510 --> 00:21:39,680
but it<font color="#CCCCCC"> maps it's</font><font color="#E5E5E5"> low</font><font color="#CCCCCC"> two gigabytes of</font>

561
00:21:37,760 --> 00:21:42,140
the address space to memory on the<font color="#E5E5E5"> pc</font>

562
00:21:39,680 --> 00:21:43,520
and<font color="#CCCCCC"> then the</font><font color="#E5E5E5"> pc has a window into its</font>

563
00:21:42,140 --> 00:21:46,730
registers that you can use to control

564
00:21:43,520 --> 00:21:48,139
those devices so the pc can kind of play

565
00:21:46,730 --> 00:21:49,190
with the devices<font color="#E5E5E5"> and the DNA to the same</font>

566
00:21:48,140 --> 00:21:51,890
address and that<font color="#E5E5E5"> works great because</font>

567
00:21:49,190 --> 00:21:54,230
<font color="#CCCCCC">it's wrapped in</font><font color="#E5E5E5"> the same place and then</font>

568
00:21:51,890 --> 00:21:56,690
has<font color="#E5E5E5"> its own</font><font color="#CCCCCC"> ram</font><font color="#E5E5E5"> you know</font><font color="#CCCCCC"> it's hard drive</font>

569
00:21:54,230 --> 00:21:58,670
space<font color="#CCCCCC"> this works fine</font><font color="#E5E5E5"> but now we had an</font>

570
00:21:56,690 --> 00:22:01,370
IOM you because<font color="#E5E5E5"> we needed it for the</font>

571
00:21:58,670 --> 00:22:02,900
interrupts and the<font color="#E5E5E5"> IMU inserts its own</font>

572
00:22:01,370 --> 00:22:04,159
address space in between and says<font color="#E5E5E5"> okay</font>

573
00:22:02,900 --> 00:22:05,690
you can map anything to anything you

574
00:22:04,160 --> 00:22:07,400
want it's great you know<font color="#E5E5E5"> it's a page</font>

575
00:22:05,690 --> 00:22:10,340
table we can say this address goes to

576
00:22:07,400 --> 00:22:12,320
that address<font color="#CCCCCC"> linux 4.4 did this it would</font>

577
00:22:10,340 --> 00:22:15,050
find some<font color="#CCCCCC"> addresses</font><font color="#E5E5E5"> at the bottom of the</font>

578
00:22:12,320 --> 00:22:17,000
<font color="#CCCCCC">mu-space a new page one goes to this</font>

579
00:22:15,050 --> 00:22:19,070
page<font color="#E5E5E5"> to</font><font color="#CCCCCC"> go to that page 3 goes to that</font>

580
00:22:17,000 --> 00:22:22,220
and say<font color="#CCCCCC"> device you can now write to</font>

581
00:22:19,070 --> 00:22:24,350
these pages and<font color="#E5E5E5"> they go to this place in</font>

582
00:22:22,220 --> 00:22:26,060
the<font color="#CCCCCC"> HIV</font><font color="#E5E5E5"> six now it's fine</font>

583
00:22:24,350 --> 00:22:28,699
it turns out the next<font color="#E5E5E5"> 4.9 or somewhere</font>

584
00:22:26,060 --> 00:22:30,830
between 4.4 and 4.9<font color="#E5E5E5"> it started doing</font>

585
00:22:28,700 --> 00:22:33,980
this it would map pages from the top of

586
00:22:30,830 --> 00:22:35,899
the<font color="#CCCCCC"> IMU</font><font color="#E5E5E5"> address space and that's fine</font>

587
00:22:33,980 --> 00:22:37,550
for<font color="#E5E5E5"> the</font><font color="#CCCCCC"> IMU but it's not in the window</font>

588
00:22:35,900 --> 00:22:40,250
in the<font color="#CCCCCC"> earlier so now that you know you</font>

589
00:22:37,550 --> 00:22:41,899
say even<font color="#E5E5E5"> a</font><font color="#CCCCCC"> dma to address f.e something</font>

590
00:22:40,250 --> 00:22:44,510
something something and instead of DNA

591
00:22:41,900 --> 00:22:46,580
into the<font color="#CCCCCC"> ramen look pc</font><font color="#E5E5E5"> a dms the</font><font color="#CCCCCC"> ram</font><font color="#E5E5E5"> on</font>

592
00:22:44,510 --> 00:22:50,360
the area which<font color="#E5E5E5"> is not</font><font color="#CCCCCC"> going to work</font>

593
00:22:46,580 --> 00:22:53,510
so<font color="#E5E5E5"> yeah it effectively the</font><font color="#CCCCCC"> aeolian</font>

594
00:22:50,360 --> 00:22:55,280
implements 31 bit<font color="#CCCCCC"> dma not 32-bit dma</font>

595
00:22:53,510 --> 00:22:58,340
because only the bottom half is<font color="#E5E5E5"> usable</font>

596
00:22:55,280 --> 00:22:59,450
<font color="#CCCCCC">it's like wine it's</font><font color="#E5E5E5"> this is all really</font>

597
00:22:58,340 --> 00:23:01,790
fucked up guys

598
00:22:59,450 --> 00:23:02,700
<font color="#E5E5E5">hey seriously and this is</font><font color="#CCCCCC"> littered all</font>

599
00:23:01,790 --> 00:23:04,920
over the<font color="#E5E5E5"> clinic</font>

600
00:23:02,700 --> 00:23:08,040
<font color="#CCCCCC">notice</font><font color="#E5E5E5"> needed more patches and it works</font>

601
00:23:04,920 --> 00:23:11,760
<font color="#CCCCCC">but yeah</font><font color="#E5E5E5"> a painful</font>

602
00:23:08,040 --> 00:23:13,139
<font color="#CCCCCC">ok</font><font color="#E5E5E5"> devices they are devices work now for</font>

603
00:23:11,760 --> 00:23:14,790
something completely different

604
00:23:13,140 --> 00:23:18,720
<font color="#E5E5E5">you can tell me who this character is</font>

605
00:23:14,790 --> 00:23:20,460
<font color="#CCCCCC">that's a</font><font color="#E5E5E5"> start from space battleship</font>

606
00:23:18,720 --> 00:23:23,340
yamato and apparently that's the code

607
00:23:20,460 --> 00:23:24,570
name for the ps4 graphics chip or at

608
00:23:23,340 --> 00:23:25,889
<font color="#E5E5E5">least that's one of the code names</font>

609
00:23:24,570 --> 00:23:27,540
because<font color="#E5E5E5"> they don't seem to be able to</font>

610
00:23:25,890 --> 00:23:29,910
agree on<font color="#E5E5E5"> bike with</font><font color="#CCCCCC"> the coatings Arabic</font>

611
00:23:27,540 --> 00:23:31,980
<font color="#E5E5E5">it's got</font><font color="#CCCCCC"> liverpool</font><font color="#E5E5E5"> in some places and</font>

612
00:23:29,910 --> 00:23:34,290
<font color="#E5E5E5">start trying other places and baby</font><font color="#CCCCCC"> j in</font>

613
00:23:31,980 --> 00:23:36,060
other places and we think<font color="#CCCCCC"> Sony cause</font><font color="#E5E5E5"> it</font>

614
00:23:34,290 --> 00:23:38,129
<font color="#E5E5E5">starts</font><font color="#CCCCCC"> here and dandy calls at Liverpool</font>

615
00:23:36,060 --> 00:23:39,600
but we're not sure we're<font color="#CCCCCC"> calling it</font><font color="#E5E5E5"> the</font>

616
00:23:38,130 --> 00:23:44,160
<font color="#CCCCCC">poll everywhere just to avoid confusion</font>

617
00:23:39,600 --> 00:23:47,040
<font color="#E5E5E5">but yeah okay what's this GPU about well</font>

618
00:23:44,160 --> 00:23:50,310
it's an AMD<font color="#CCCCCC"> Sea Islands</font><font color="#E5E5E5"> generation GPU</font>

619
00:23:47,040 --> 00:23:51,960
<font color="#CCCCCC">dispelled CI instead of si because this</font>

620
00:23:50,310 --> 00:23:53,129
was taken

621
00:23:51,960 --> 00:23:55,230
it's similar<font color="#E5E5E5"> to other chips in the</font>

622
00:23:53,130 --> 00:23:58,200
generation so you know<font color="#E5E5E5"> at least it's not</font>

623
00:23:55,230 --> 00:23:59,400
a<font color="#E5E5E5"> batshit crazy new thing but it does</font>

624
00:23:58,200 --> 00:24:00,720
have<font color="#CCCCCC"> quirks</font><font color="#E5E5E5"> and customizations and</font>

625
00:23:59,400 --> 00:24:02,520
oddities and things that don't work

626
00:24:00,720 --> 00:24:03,960
<font color="#E5E5E5">because we took</font><font color="#CCCCCC"> bonaire which is another</font>

627
00:24:02,520 --> 00:24:05,160
GPU that is already supported by<font color="#E5E5E5"> the</font>

628
00:24:03,960 --> 00:24:06,930
next<font color="#CCCCCC"> and that</font><font color="#E5E5E5"> generation and just going</font>

629
00:24:05,160 --> 00:24:09,030
<font color="#E5E5E5">to add</font><font color="#CCCCCC"> a new chip and said okay do</font>

630
00:24:06,930 --> 00:24:13,320
<font color="#E5E5E5">ordinary stuff and change things and</font>

631
00:24:09,030 --> 00:24:15,480
hopefully<font color="#E5E5E5"> adapted to the ps4 so</font><font color="#CCCCCC"> hacking</font>

632
00:24:13,320 --> 00:24:16,649
<font color="#CCCCCC">imd</font><font color="#E5E5E5"> drivers</font><font color="#CCCCCC"> okay well</font><font color="#E5E5E5"> they're open</font>

633
00:24:15,480 --> 00:24:18,840
source but<font color="#CCCCCC"> Andy does not publish</font>

634
00:24:16,650 --> 00:24:20,910
<font color="#CCCCCC">register docs they publish 3d shader and</font>

635
00:24:18,840 --> 00:24:22,620
command<font color="#CCCCCC"> q documentation so you get like</font>

636
00:24:20,910 --> 00:24:24,660
all the user space 3d rendering commands

637
00:24:22,620 --> 00:24:26,219
that's documented<font color="#E5E5E5"> but they don't publish</font>

638
00:24:24,660 --> 00:24:27,630
all the<font color="#E5E5E5"> colonel</font><font color="#CCCCCC"> hardware register</font>

639
00:24:26,220 --> 00:24:29,100
documentation<font color="#CCCCCC"> that's</font><font color="#E5E5E5"> what you really</font>

640
00:24:27,630 --> 00:24:31,230
want for hacking on drivers so<font color="#E5E5E5"> that's</font>

641
00:24:29,100 --> 00:24:32,669
annoying and<font color="#E5E5E5"> you're thinking the code is</font>

642
00:24:31,230 --> 00:24:34,800
the documentation righteous read the

643
00:24:32,670 --> 00:24:37,020
<font color="#CCCCCC">linux drivers that's that's great</font>

644
00:24:34,800 --> 00:24:40,080
well yeah but they're incomplete and

645
00:24:37,020 --> 00:24:41,520
they have magic numbers and it's you

646
00:24:40,080 --> 00:24:43,409
know you don't know if you need to write

647
00:24:41,520 --> 00:24:45,480
a new register that's not there and<font color="#CCCCCC"> its</font>

648
00:24:43,410 --> 00:24:47,490
really<font color="#E5E5E5"> sucks to try to write a GPU</font>

649
00:24:45,480 --> 00:24:49,770
driver by reading other GPU drivers with

650
00:24:47,490 --> 00:24:50,970
no<font color="#CCCCCC"> docs</font><font color="#E5E5E5"> so what do we do</font><font color="#CCCCCC"> where hackers</font>

651
00:24:49,770 --> 00:24:52,560
<font color="#E5E5E5">right</font><font color="#CCCCCC"> google every time you need</font>

652
00:24:50,970 --> 00:24:54,210
information hopefully<font color="#CCCCCC"> google will find</font>

653
00:24:52,560 --> 00:24:56,460
<font color="#CCCCCC">it because google knows everything and</font>

654
00:24:54,210 --> 00:24:56,730
anything<font color="#CCCCCC"> but you can find the money</font><font color="#E5E5E5"> you</font>

655
00:24:56,460 --> 00:24:59,400
know

656
00:24:56,730 --> 00:25:00,870
for more go<font color="#E5E5E5"> dump somewhere that's great</font>

657
00:24:59,400 --> 00:25:04,980
one of the things we found is we<font color="#CCCCCC"> googled</font>

658
00:25:00,870 --> 00:25:08,310
this little string<font color="#CCCCCC"> are 8xx</font><font color="#E5E5E5"> GPU</font><font color="#CCCCCC"> in</font><font color="#E5E5E5"> quotes</font>

659
00:25:04,980 --> 00:25:10,560
and<font color="#E5E5E5"> you get</font><font color="#CCCCCC"> nine results and the second</font>

660
00:25:08,310 --> 00:25:14,210
result is this place it's a<font color="#E5E5E5"> silicon kit</font>

661
00:25:10,560 --> 00:25:15,560
<font color="#E5E5E5">talking with that</font><font color="#CCCCCC"> ok it's an xml file</font>

662
00:25:14,210 --> 00:25:17,720
<font color="#E5E5E5">and if we look at that it looks like</font>

663
00:25:15,560 --> 00:25:19,790
<font color="#E5E5E5">it's an</font><font color="#CCCCCC"> xml file that contains the dump</font>

664
00:25:17,720 --> 00:25:23,240
<font color="#CCCCCC">of the</font><font color="#E5E5E5"> Bonaire GPU</font><font color="#CCCCCC"> register</font>

665
00:25:19,790 --> 00:25:25,010
documentation but<font color="#E5E5E5"> it's like broken</font><font color="#CCCCCC"> xml</font>

666
00:25:23,240 --> 00:25:27,500
and it's incomplete that stops at one

667
00:25:25,010 --> 00:25:30,320
point but<font color="#E5E5E5"> like look at what's what's</font>

668
00:25:27,500 --> 00:25:32,450
this doing here and why<font color="#CCCCCC"> it like what is</font>

669
00:25:30,320 --> 00:25:33,740
this<font color="#CCCCCC"> where this come</font><font color="#E5E5E5"> from right so let's</font>

670
00:25:32,450 --> 00:25:34,910
<font color="#E5E5E5">dig a little deeper ok Google what do</font>

671
00:25:33,740 --> 00:25:36,800
you know about this website

672
00:25:34,910 --> 00:25:38,300
well there's some random things like

673
00:25:36,800 --> 00:25:40,850
what the hell<font color="#CCCCCC"> no</font><font color="#E5E5E5"> that</font><font color="#CCCCCC"> takes the end what</font>

674
00:25:38,300 --> 00:25:44,389
the hell yes<font color="#CCCCCC"> dot txt</font><font color="#E5E5E5"> and some excel</font>

675
00:25:40,850 --> 00:25:47,179
files<font color="#CCCCCC"> necessary XL like XML South sheets</font>

676
00:25:44,390 --> 00:25:49,400
and then there's a thing<font color="#CCCCCC"> in the one</font>

677
00:25:47,180 --> 00:25:52,100
they're called<font color="#CCCCCC"> rai</font><font color="#E5E5E5"> dot grammar</font><font color="#CCCCCC"> dot for</font>

678
00:25:49,400 --> 00:25:54,770
<font color="#CCCCCC">that</font><font color="#E5E5E5"> txt</font><font color="#CCCCCC"> mi wonder what that is and</font><font color="#E5E5E5"> it</font>

679
00:25:52,100 --> 00:25:57,439
<font color="#E5E5E5">looks like it's a grammar you know the</font>

680
00:25:54,770 --> 00:26:00,470
end of the<font color="#E5E5E5"> notation description for a</font>

681
00:25:57,440 --> 00:26:03,140
<font color="#E5E5E5">that they syntax of some kind of</font>

682
00:26:00,470 --> 00:26:04,250
<font color="#E5E5E5">register documentation file in its it</font>

683
00:26:03,140 --> 00:26:07,040
just looks like a name the<font color="#E5E5E5"> internal</font>

684
00:26:04,250 --> 00:26:10,430
<font color="#E5E5E5">format</font><font color="#CCCCCC"> but from this website</font>

685
00:26:07,040 --> 00:26:13,550
<font color="#CCCCCC">ok so we have these two urls /</font>

686
00:26:10,430 --> 00:26:17,420
<font color="#E5E5E5">pragmatics</font><font color="#CCCCCC"> lesbo-ner to xml and</font><font color="#E5E5E5"> /</font><font color="#CCCCCC"> rai /r</font>

687
00:26:13,550 --> 00:26:19,340
<font color="#CCCCCC">I the grammar that 460</font><font color="#E5E5E5"> let's try</font>

688
00:26:17,420 --> 00:26:23,180
something about maybe<font color="#CCCCCC"> pragmatic</font><font color="#E5E5E5"> such</font>

689
00:26:19,340 --> 00:26:28,290
<font color="#CCCCCC">bonaire rai NASA 44 ok</font><font color="#E5E5E5"> pragmatics</font><font color="#CCCCCC"> srei</font>

690
00:26:23,180 --> 00:26:33,430
such<font color="#CCCCCC"> manera de re i</font><font color="#E5E5E5"> ah bingo</font>

691
00:26:28,290 --> 00:26:37,149
[Applause]

692
00:26:33,430 --> 00:26:39,280
<font color="#CCCCCC">so this is a full bar almost four</font>

693
00:26:37,150 --> 00:26:41,170
<font color="#CCCCCC">bonaire</font><font color="#E5E5E5"> register documentation with like</font>

694
00:26:39,280 --> 00:26:43,360
full<font color="#CCCCCC"> register field descriptions</font>

695
00:26:41,170 --> 00:26:44,800
<font color="#E5E5E5">breakdowns all the addresses</font>

696
00:26:43,360 --> 00:26:46,330
it's not<font color="#E5E5E5"> a hundred percent but the vast</font>

697
00:26:44,800 --> 00:26:49,270
majority<font color="#CCCCCC"> this seems to be</font><font color="#E5E5E5"> a</font><font color="#CCCCCC"> india</font>

698
00:26:46,330 --> 00:26:50,830
internal stuff and<font color="#CCCCCC"> I look this guy up</font>

699
00:26:49,270 --> 00:26:52,540
and<font color="#CCCCCC"> if you</font><font color="#E5E5E5"> work today and at some point</font>

700
00:26:50,830 --> 00:26:55,419
so<font color="#E5E5E5"> uh huh</font>

701
00:26:52,540 --> 00:26:56,770
<font color="#E5E5E5">but yeah this is really really helpful</font>

702
00:26:55,420 --> 00:27:00,220
because now you know what everything

703
00:26:56,770 --> 00:27:01,540
means and debug registers and yeah so I

704
00:27:00,220 --> 00:27:03,520
wrote a<font color="#E5E5E5"> walking partner for this</font>

705
00:27:01,540 --> 00:27:05,260
<font color="#CCCCCC">formatting</font><font color="#E5E5E5"> of the</font><font color="#CCCCCC"> xml if there was ever</font>

706
00:27:03,520 --> 00:27:06,879
<font color="#CCCCCC">any writing of xml parser sound like</font>

707
00:27:05,260 --> 00:27:07,540
<font color="#E5E5E5">convert this thing to xml but it was all</font>

708
00:27:06,880 --> 00:27:09,370
broken

709
00:27:07,540 --> 00:27:11,649
<font color="#CCCCCC">well he</font><font color="#E5E5E5"> was writing PHP by the way that</font>

710
00:27:09,370 --> 00:27:13,840
<font color="#E5E5E5">we go so I wrote a working</font><font color="#CCCCCC"> running</font>

711
00:27:11,650 --> 00:27:15,460
<font color="#CCCCCC">Python</font><font color="#E5E5E5"> and you can dump it and then you</font>

712
00:27:13,840 --> 00:27:16,750
can see you know what each register

713
00:27:15,460 --> 00:27:19,120
means and<font color="#CCCCCC"> i'll</font><font color="#E5E5E5"> tell you all the options</font>

714
00:27:16,750 --> 00:27:20,920
<font color="#E5E5E5">you can take a</font><font color="#CCCCCC"> register dump and map it</font>

715
00:27:19,120 --> 00:27:22,959
to the<font color="#E5E5E5"> you know better documented</font>

716
00:27:20,920 --> 00:27:25,390
<font color="#CCCCCC">weekend</font><font color="#E5E5E5"> if dumps you can generate</font>

717
00:27:22,960 --> 00:27:27,340
defines<font color="#CCCCCC"> it's very useful for AMD GPUs</font>

718
00:27:25,390 --> 00:27:29,470
and this girl speaking applies to a lot

719
00:27:27,340 --> 00:27:31,480
of AMD GPUs like they share a lot of

720
00:27:29,470 --> 00:27:34,570
registers so this is useful for anyone

721
00:27:31,480 --> 00:27:36,160
<font color="#E5E5E5">having an AMD GPU stuff over</font><font color="#CCCCCC"> 4,000</font>

722
00:27:34,570 --> 00:27:38,470
registers are documented in the just in

723
00:27:36,160 --> 00:27:41,980
the main<font color="#CCCCCC"> cpu</font><font color="#E5E5E5"> address space alone</font>

724
00:27:38,470 --> 00:27:45,790
<font color="#E5E5E5">that's great</font><font color="#CCCCCC"> ok so we have some docs how</font>

725
00:27:41,980 --> 00:27:48,490
do<font color="#E5E5E5"> we get to a frame buffer so if you</font>

726
00:27:45,790 --> 00:27:50,290
are you know the<font color="#CCCCCC"> history as a team</font><font color="#E5E5E5"> is</font>

727
00:27:48,490 --> 00:27:52,060
easy right the GPU has hdmi and if you

728
00:27:50,290 --> 00:27:53,649
carry the GPU information you actually

729
00:27:52,060 --> 00:27:55,510
get that<font color="#E5E5E5"> it has an hdmi port and a</font>

730
00:27:53,650 --> 00:27:56,920
<font color="#CCCCCC">displayport ok maybe</font><font color="#E5E5E5"> it's unconnected</font>

731
00:27:55,510 --> 00:27:59,170
<font color="#CCCCCC">that's fine right</font>

732
00:27:56,920 --> 00:28:01,660
<font color="#CCCCCC">ah but if you actually</font><font color="#E5E5E5"> ask the GPU it</font>

733
00:27:59,170 --> 00:28:03,100
tells you<font color="#CCCCCC"> hdmi is not connected display</font>

734
00:28:01,660 --> 00:28:07,750
<font color="#E5E5E5">port is connected</font>

735
00:28:03,100 --> 00:28:09,939
<font color="#CCCCCC">okay yeah they have an external HD my</font>

736
00:28:07,750 --> 00:28:11,740
encoder from displayport to hdmi<font color="#E5E5E5"> because</font>

737
00:28:09,940 --> 00:28:13,120
just putting a wire from<font color="#E5E5E5"> A to B is too</font>

738
00:28:11,740 --> 00:28:14,530
difficult because this is<font color="#CCCCCC"> so nice so</font>

739
00:28:13,120 --> 00:28:18,860
let's put a chip that converts from

740
00:28:14,530 --> 00:28:25,870
<font color="#CCCCCC">vertical</font><font color="#E5E5E5"> a tubercle be</font>

741
00:28:18,860 --> 00:28:30,159
<font color="#CCCCCC">yeah yeah yeah yeah yeah</font>

742
00:28:25,870 --> 00:28:32,110
<font color="#CCCCCC">and ok</font><font color="#E5E5E5"> it's</font><font color="#CCCCCC"> a it's yeah the panasonic</font>

743
00:28:30,160 --> 00:28:34,210
<font color="#E5E5E5">displayport to hdmi bridge not</font>

744
00:28:32,110 --> 00:28:35,649
documented by the way requires convicted

745
00:28:34,210 --> 00:28:37,809
work<font color="#E5E5E5"> that's why doesn't just work even</font>

746
00:28:35,650 --> 00:28:38,980
<font color="#E5E5E5">though some bridges do and you think</font>

747
00:28:37,809 --> 00:28:40,930
<font color="#CCCCCC">okay it's hooked up to the GPU</font><font color="#E5E5E5"> is</font>

748
00:28:38,980 --> 00:28:43,030
<font color="#CCCCCC">courtesy</font><font color="#E5E5E5"> bus</font><font color="#CCCCCC"> can be</font><font color="#E5E5E5"> used half in the</font>

749
00:28:40,930 --> 00:28:44,800
past use these bridges<font color="#E5E5E5"> and not this one</font>

750
00:28:43,030 --> 00:28:46,450
particularly but other<font color="#CCCCCC"> and ecards have</font>

751
00:28:44,800 --> 00:28:48,100
had various ships that they<font color="#E5E5E5"> stuck in</font>

752
00:28:46,450 --> 00:28:49,360
front and the<font color="#E5E5E5"> code has support for</font>

753
00:28:48,100 --> 00:28:51,040
talking to them through the GPU<font color="#CCCCCC"> i</font>

754
00:28:49,360 --> 00:28:52,240
<font color="#CCCCCC">squared C interface right right that's</font>

755
00:28:51,040 --> 00:28:56,770
easy

756
00:28:52,240 --> 00:28:58,570
yeah you wish<font color="#CCCCCC"> the</font><font color="#E5E5E5"> sony</font><font color="#CCCCCC"> enter icc</font><font color="#E5E5E5"> so</font>

757
00:28:56,770 --> 00:29:00,490
remember the<font color="#CCCCCC"> ICC thing in the early yet</font>

758
00:28:58,570 --> 00:29:02,590
<font color="#E5E5E5">it's an RPC protocol used to send</font>

759
00:29:00,490 --> 00:29:04,330
commands to an MCU that is somewhere

760
00:29:02,590 --> 00:29:06,100
else on the motherboard<font color="#CCCCCC"> it's a</font><font color="#E5E5E5"> message</font>

761
00:29:04,330 --> 00:29:08,740
<font color="#E5E5E5">box system so you write some message to</font>

762
00:29:06,100 --> 00:29:10,000
a memory place and then<font color="#CCCCCC"> you tell hey</font>

763
00:29:08,740 --> 00:29:11,770
read this message and<font color="#E5E5E5"> write a message</font>

764
00:29:10,000 --> 00:29:14,590
back and it tells<font color="#E5E5E5"> you</font><font color="#CCCCCC"> that's a reply</font>

765
00:29:11,770 --> 00:29:16,990
you have<font color="#E5E5E5"> to</font><font color="#CCCCCC"> be a oviya</font><font color="#E5E5E5"> not</font><font color="#CCCCCC"> the GPU</font><font color="#E5E5E5"> use</font>

766
00:29:14,590 --> 00:29:19,209
it for things like power button the<font color="#CCCCCC"> LED</font>

767
00:29:16,990 --> 00:29:21,340
<font color="#CCCCCC">is turn</font><font color="#E5E5E5"> the power on and off and also</font>

768
00:29:19,210 --> 00:29:23,230
the<font color="#E5E5E5"> hdmi</font><font color="#CCCCCC"> cord r</font><font color="#E5E5E5"> squared</font><font color="#CCCCCC"> C</font><font color="#E5E5E5"> so now we have</font>

769
00:29:21,340 --> 00:29:25,510
a dependency<font color="#E5E5E5"> from the GPU driver to the</font>

770
00:29:23,230 --> 00:29:26,559
aioli driver and two different<font color="#CCCCCC"> pci</font>

771
00:29:25,510 --> 00:29:29,830
<font color="#CCCCCC">device into different sexy</font>

772
00:29:26,559 --> 00:29:31,720
yeah and ok again<font color="#CCCCCC"> icc but</font><font color="#E5E5E5"> if I</font><font color="#CCCCCC"> scored</font>

773
00:29:29,830 --> 00:29:33,040
see it you know<font color="#CCCCCC"> i speak</font><font color="#E5E5E5"> with</font><font color="#CCCCCC"> see is a</font>

774
00:29:31,720 --> 00:29:34,270
<font color="#E5E5E5">simple</font><font color="#CCCCCC"> phone</font><font color="#E5E5E5"> call you read</font><font color="#CCCCCC"> the register</font>

775
00:29:33,040 --> 00:29:35,770
you<font color="#E5E5E5"> write a register</font>

776
00:29:34,270 --> 00:29:38,170
that's all you need<font color="#E5E5E5"> it's super simple</font>

777
00:29:35,770 --> 00:29:39,639
<font color="#CCCCCC">right</font><font color="#E5E5E5"> right now let's make a bytecode</font>

778
00:29:38,170 --> 00:29:41,140
<font color="#E5E5E5">talking scripting engine to issue i</font>

779
00:29:39,640 --> 00:29:44,590
<font color="#E5E5E5">squared</font><font color="#CCCCCC"> C</font><font color="#E5E5E5"> commands and delays and bit</font>

780
00:29:41,140 --> 00:29:46,330
masking and everything and why<font color="#CCCCCC"> Sony why</font>

781
00:29:44,590 --> 00:29:48,428
like why would you do this well because

782
00:29:46,330 --> 00:29:50,470
<font color="#CCCCCC">i</font><font color="#E5E5E5"> see so slow that if you actually</font><font color="#CCCCCC"> try</font>

783
00:29:48,429 --> 00:29:52,750
<font color="#CCCCCC">to</font><font color="#E5E5E5"> do one read and went right at a time</font>

784
00:29:50,470 --> 00:29:58,960
<font color="#E5E5E5">it takes two seconds to bring up hdmi</font>

785
00:29:52,750 --> 00:30:02,440
<font color="#CCCCCC">yeah</font>

786
00:29:58,960 --> 00:30:03,309
<font color="#CCCCCC">I don't even know at this point I I have</font>

787
00:30:02,440 --> 00:30:06,159
no idea

788
00:30:03,309 --> 00:30:09,549
<font color="#CCCCCC">ok and by the way</font><font color="#E5E5E5"> this thing has</font>

789
00:30:06,159 --> 00:30:11,740
commands where you can send scripts in

790
00:30:09,549 --> 00:30:13,330
<font color="#E5E5E5">the script to be run when certain events</font>

791
00:30:11,740 --> 00:30:14,590
happen so<font color="#E5E5E5"> your</font><font color="#CCCCCC"> dawg</font><font color="#E5E5E5"> i</font><font color="#CCCCCC"> herd</font><font color="#E5E5E5"> you</font><font color="#CCCCCC"> liek</font>

792
00:30:13,330 --> 00:30:16,418
<font color="#CCCCCC">scripts i put script in your</font><font color="#E5E5E5"> script</font><font color="#CCCCCC"> so</font>

793
00:30:14,590 --> 00:30:18,309
you can<font color="#CCCCCC"> i squared c</font><font color="#E5E5E5"> y squared</font><font color="#CCCCCC"> C let's</font>

794
00:30:16,419 --> 00:30:18,789
<font color="#CCCCCC">just go even deeper</font><font color="#E5E5E5"> at this point right</font>

795
00:30:18,309 --> 00:30:26,440
<font color="#CCCCCC">cuz</font>

796
00:30:18,789 --> 00:30:28,690
<font color="#CCCCCC">yeah</font><font color="#E5E5E5"> yeah yeah yeah</font><font color="#CCCCCC"> okay we brought some</font>

797
00:30:26,440 --> 00:30:30,190
code for this you need more hacks<font color="#E5E5E5"> it</font>

798
00:30:28,690 --> 00:30:32,919
needs all<font color="#CCCCCC"> the support means</font><font color="#E5E5E5"> up</font><font color="#CCCCCC"> the next</font>

799
00:30:30,190 --> 00:30:34,419
<font color="#CCCCCC">race to downscale</font><font color="#E5E5E5"> doesn't work memory</font>

800
00:30:32,919 --> 00:30:36,279
<font color="#CCCCCC">ground with</font><font color="#E5E5E5"> calculation is broken</font>

801
00:30:34,419 --> 00:30:37,390
mouse cursor sizes from the previous<font color="#CCCCCC"> TPU</font>

802
00:30:36,279 --> 00:30:40,210
generation for some reason<font color="#CCCCCC"> because</font><font color="#E5E5E5"> they</font>

803
00:30:37,390 --> 00:30:41,770
forgot to update that<font color="#E5E5E5"> so wait all this</font>

804
00:30:40,210 --> 00:30:43,059
crap<font color="#E5E5E5"> you get a frame buffer but</font>

805
00:30:41,770 --> 00:30:45,639
<font color="#CCCCCC">excellent</font><font color="#E5E5E5"> start</font>

806
00:30:43,059 --> 00:30:47,320
<font color="#E5E5E5">ah well it turns out that</font><font color="#CCCCCC"> appears for</font>

807
00:30:45,640 --> 00:30:49,299
<font color="#E5E5E5">use as a unified memory architecture so</font>

808
00:30:47,320 --> 00:30:52,960
it has a single memory pool that is

809
00:30:49,299 --> 00:30:55,360
shared between the x86 and the GPU and

810
00:30:52,960 --> 00:30:57,370
games<font color="#E5E5E5"> protection memory and say a GPU</font>

811
00:30:55,360 --> 00:31:00,070
<font color="#E5E5E5">render this and</font><font color="#CCCCCC"> I was great</font><font color="#E5E5E5"> and this</font>

812
00:30:57,370 --> 00:31:01,870
makes a lot of sense and their driver

813
00:31:00,070 --> 00:31:04,210
uses this to the fullest extent

814
00:31:01,870 --> 00:31:07,570
so there's<font color="#CCCCCC"> a</font><font color="#E5E5E5"> vram you know the legacy</font>

815
00:31:04,210 --> 00:31:09,010
<font color="#CCCCCC">like a</font><font color="#E5E5E5"> GPU</font><font color="#CCCCCC"> side of separate</font><font color="#E5E5E5"> vram and all</font>

816
00:31:07,570 --> 00:31:12,129
these<font color="#E5E5E5"> integrated chipsets can emulate</font>

817
00:31:09,010 --> 00:31:13,029
<font color="#CCCCCC">vram</font><font color="#E5E5E5"> using a</font><font color="#CCCCCC"> type</font><font color="#E5E5E5"> of system memory and</font>

818
00:31:12,130 --> 00:31:15,190
you can use to configure that in the

819
00:31:13,029 --> 00:31:17,529
<font color="#E5E5E5">bios if you have a</font><font color="#CCCCCC"> PC that does this and</font>

820
00:31:15,190 --> 00:31:19,809
<font color="#E5E5E5">you're set to 60 16 megabytes which is</font>

821
00:31:17,529 --> 00:31:22,270
actually the lowest possible setting and

822
00:31:19,809 --> 00:31:24,370
<font color="#CCCCCC">yes 60 minutes is not enough to Pat like</font>

823
00:31:22,270 --> 00:31:26,049
<font color="#E5E5E5">have more than one full HD frame</font><font color="#CCCCCC"> buffers</font>

824
00:31:24,370 --> 00:31:28,658
<font color="#E5E5E5">obviously</font><font color="#CCCCCC"> that's gonna explode index</font>

825
00:31:26,049 --> 00:31:29,799
pretty badly<font color="#E5E5E5"> so what we do is we</font>

826
00:31:28,659 --> 00:31:31,299
actually reconfigure the memory

827
00:31:29,799 --> 00:31:34,120
controller<font color="#E5E5E5"> in the system to give</font><font color="#CCCCCC"> one</font>

828
00:31:31,299 --> 00:31:36,340
gigabyte of<font color="#CCCCCC"> RAM to the vram and we did</font>

829
00:31:34,120 --> 00:31:37,779
<font color="#CCCCCC">any case the KX so it's basically doing</font>

830
00:31:36,340 --> 00:31:39,639
like bio see things that were

831
00:31:37,779 --> 00:31:42,880
<font color="#E5E5E5">reconfiguring the</font><font color="#CCCCCC"> northridge at this</font>

832
00:31:39,640 --> 00:31:44,320
point to make this work<font color="#E5E5E5"> but it works and</font>

833
00:31:42,880 --> 00:31:47,440
<font color="#E5E5E5">with this we can get extra start because</font>

834
00:31:44,320 --> 00:31:50,350
<font color="#CCCCCC">I can allocate</font><font color="#E5E5E5"> its frame buffer but</font><font color="#CCCCCC"> ok 3</font>

835
00:31:47,440 --> 00:31:54,250
<font color="#CCCCCC">d-time</font><font color="#E5E5E5"> right</font><font color="#CCCCCC"> yeah GPU acceleration</font>

836
00:31:50,350 --> 00:31:57,129
doesn't quite work yet<font color="#E5E5E5"> so we got the</font>

837
00:31:54,250 --> 00:31:59,590
<font color="#E5E5E5">least you know</font><font color="#CCCCCC"> X but let's talk a bit</font>

838
00:31:57,130 --> 00:32:01,539
about the radeon GPU<font color="#CCCCCC"> for</font><font color="#E5E5E5"> for a second so</font>

839
00:31:59,590 --> 00:32:03,668
when you want to draw something<font color="#CCCCCC"> on the</font>

840
00:32:01,539 --> 00:32:05,379
GPU<font color="#E5E5E5"> you send a command</font><font color="#CCCCCC"> you do this by</font>

841
00:32:03,669 --> 00:32:07,330
putting it into a ring which is really

842
00:32:05,380 --> 00:32:09,549
just a<font color="#E5E5E5"> structure memory that</font><font color="#CCCCCC"> is</font><font color="#E5E5E5"> a trance</font>

843
00:32:07,330 --> 00:32:11,590
and<font color="#E5E5E5"> it goes it wraps around right so</font>

844
00:32:09,549 --> 00:32:12,429
that way you can<font color="#E5E5E5"> do things</font><font color="#CCCCCC"> to be done in</font>

845
00:32:11,590 --> 00:32:14,499
<font color="#CCCCCC">the GPU</font><font color="#E5E5E5"> and</font>

846
00:32:12,429 --> 00:32:16,899
it does it on its own and<font color="#E5E5E5"> we can go and</font>

847
00:32:14,499 --> 00:32:19,299
do other things<font color="#CCCCCC"> that the graphics ring</font>

848
00:32:16,899 --> 00:32:21,189
for drawing a computer ring for<font color="#CCCCCC"> gpgpu</font>

849
00:32:19,299 --> 00:32:23,799
<font color="#E5E5E5">and a</font><font color="#CCCCCC"> dma</font><font color="#E5E5E5"> ring for copying things around</font>

850
00:32:21,190 --> 00:32:26,259
the commands are processed by the GPU

851
00:32:23,799 --> 00:32:30,249
command processor which is really a

852
00:32:26,259 --> 00:32:32,740
bunch of different CPUs inside the GPU

853
00:32:30,249 --> 00:32:34,509
<font color="#CCCCCC">they're called</font><font color="#E5E5E5"> f32 and they run a</font>

854
00:32:32,740 --> 00:32:36,999
proprietary<font color="#E5E5E5"> AMD microcode so this is a</font>

855
00:32:34,509 --> 00:32:38,740
custom architecture also the<font color="#E5E5E5"> Rings can</font>

856
00:32:36,999 --> 00:32:40,570
call out to bring back<font color="#E5E5E5"> to</font><font color="#CCCCCC"> IBS which are</font>

857
00:32:38,740 --> 00:32:42,850
<font color="#E5E5E5">indirect buffer so you can say basically</font>

858
00:32:40,570 --> 00:32:45,850
call this piece of memory do this stuff

859
00:32:42,850 --> 00:32:47,289
<font color="#CCCCCC">their return</font><font color="#E5E5E5"> back to the ring and that's</font>

860
00:32:45,850 --> 00:32:49,090
actually how the user space thing<font color="#E5E5E5"> does</font>

861
00:32:47,289 --> 00:32:50,440
<font color="#CCCCCC">things so you</font><font color="#E5E5E5"> know this is draw this</font>

862
00:32:49,090 --> 00:32:52,389
stuff and it<font color="#CCCCCC"> tells the</font><font color="#E5E5E5"> colonel</font><font color="#CCCCCC"> hey</font><font color="#E5E5E5"> draw</font>

863
00:32:50,440 --> 00:32:53,259
<font color="#CCCCCC">the stuff</font><font color="#E5E5E5"> and the Colonel's</font><font color="#CCCCCC"> the</font><font color="#E5E5E5"> GPU jump</font>

864
00:32:52,389 --> 00:32:57,428
to that stuff

865
00:32:53,259 --> 00:32:59,139
read it come back<font color="#CCCCCC"> keep doing stuff</font><font color="#E5E5E5"> this</font>

866
00:32:57,429 --> 00:33:00,999
<font color="#E5E5E5">is basically how much</font><font color="#CCCCCC"> he used work but</font>

867
00:32:59,139 --> 00:33:04,029
<font color="#CCCCCC">radeon specifically works like</font><font color="#E5E5E5"> you know</font>

868
00:33:00,999 --> 00:33:06,309
no but this<font color="#E5E5E5"> is</font><font color="#CCCCCC"> 32</font><font color="#E5E5E5"> stuff</font><font color="#CCCCCC"> okay</font>

869
00:33:04,029 --> 00:33:08,619
the driver<font color="#E5E5E5"> complaints ring 0 test failed</font>

870
00:33:06,309 --> 00:33:11,049
<font color="#E5E5E5">to create test them so these</font><font color="#CCCCCC"> you</font><font color="#E5E5E5"> know it</font>

871
00:33:08,619 --> 00:33:12,399
<font color="#E5E5E5">has nice diagnostic and how did the test</font>

872
00:33:11,049 --> 00:33:13,779
work it's<font color="#E5E5E5"> really easy it right to</font>

873
00:33:12,399 --> 00:33:15,699
register with<font color="#E5E5E5"> the value and then it</font>

874
00:33:13,779 --> 00:33:17,169
tells the GPU<font color="#E5E5E5"> with</font><font color="#CCCCCC"> a command</font><font color="#E5E5E5"> please</font>

875
00:33:15,700 --> 00:33:19,450
<font color="#E5E5E5">write this other value to the register</font>

876
00:33:17,169 --> 00:33:21,309
<font color="#E5E5E5">runs it and then check to see if the</font>

877
00:33:19,450 --> 00:33:25,539
register was actually written with<font color="#E5E5E5"> the</font>

878
00:33:21,309 --> 00:33:26,619
new value<font color="#E5E5E5"> so the right doesn't happen</font><font color="#CCCCCC"> it</font>

879
00:33:25,539 --> 00:33:29,559
<font color="#E5E5E5">never gets there</font>

880
00:33:26,619 --> 00:33:31,059
<font color="#CCCCCC">thankfully texts that are ifile earlier</font>

881
00:33:29,559 --> 00:33:32,529
we found<font color="#E5E5E5"> some debug registers that tell</font>

882
00:33:31,059 --> 00:33:34,360
you exactly what's going on inside the

883
00:33:32,529 --> 00:33:37,450
GPU and it shows the command processor

884
00:33:34,360 --> 00:33:40,330
is stuck waiting for data in the ring so

885
00:33:37,450 --> 00:33:44,499
it needs more data after<font color="#CCCCCC"> a not command</font>

886
00:33:40,330 --> 00:33:46,629
yeah<font color="#E5E5E5"> not</font><font color="#CCCCCC"> this hard</font><font color="#E5E5E5"> let's go stalling so</font>

887
00:33:44,499 --> 00:33:49,330
<font color="#E5E5E5">packet headers and</font><font color="#CCCCCC"> just</font><font color="#E5E5E5"> do you think has</font>

888
00:33:46,629 --> 00:33:50,199
a size that<font color="#CCCCCC"> size- to whoever thought</font>

889
00:33:49,330 --> 00:33:52,658
that was a good idea

890
00:33:50,200 --> 00:33:55,869
so a two-word packet has a size of<font color="#E5E5E5"> 0</font>

891
00:33:52,659 --> 00:33:59,230
<font color="#E5E5E5">then AMD implemented a</font><font color="#CCCCCC"> one</font><font color="#E5E5E5"> board packet</font>

892
00:33:55,869 --> 00:34:01,330
with the size of minus<font color="#CCCCCC"> one and old</font>

893
00:33:59,230 --> 00:34:03,220
firmware doesn't support that and think

894
00:34:01,330 --> 00:34:04,539
so<font color="#E5E5E5"> it's three FF so</font><font color="#CCCCCC"> I'm</font><font color="#E5E5E5"> just gonna wait</font>

895
00:34:03,220 --> 00:34:06,009
for a shitload of code in the buffer

896
00:34:04,539 --> 00:34:08,679
right

897
00:34:06,009 --> 00:34:10,240
it turns out that<font color="#CCCCCC"> Hawaii which is</font>

898
00:34:08,679 --> 00:34:12,609
another GPU and the same jen has the

899
00:34:10,239 --> 00:34:13,928
same problem with old firmware<font color="#E5E5E5"> so they</font>

900
00:34:12,609 --> 00:34:15,909
use a different not<font color="#CCCCCC"> packets</font><font color="#E5E5E5"> so there</font><font color="#CCCCCC"> was</font>

901
00:34:13,929 --> 00:34:17,530
an<font color="#E5E5E5"> exception and driver for this and we</font>

902
00:34:15,909 --> 00:34:20,200
<font color="#E5E5E5">have to add our that but again getting</font>

903
00:34:17,530 --> 00:34:21,590
to this point<font color="#CCCCCC"> many many many hours of</font>

904
00:34:20,199 --> 00:34:27,169
<font color="#CCCCCC">head-banging</font>

905
00:34:21,590 --> 00:34:28,190
<font color="#CCCCCC">yeah okay</font><font color="#E5E5E5"> we fix that</font><font color="#CCCCCC"> now it says reign</font>

906
00:34:27,170 --> 00:34:29,750
three<font color="#E5E5E5"> tests failed</font>

907
00:34:28,190 --> 00:34:31,340
<font color="#E5E5E5">that's the sdma ring that's for copying</font>

908
00:34:29,750 --> 00:34:33,739
things in memory and it works in the

909
00:34:31,340 --> 00:34:35,330
same way<font color="#CCCCCC"> it puts a value and ram tells</font>

910
00:34:33,739 --> 00:34:38,449
the<font color="#CCCCCC"> sdma engine</font><font color="#E5E5E5"> hey</font><font color="#CCCCCC"> write a</font><font color="#E5E5E5"> different</font>

911
00:34:35,330 --> 00:34:40,549
value and checks<font color="#CCCCCC"> this</font><font color="#E5E5E5"> time we see the</font>

912
00:34:38,449 --> 00:34:41,960
right happens but<font color="#E5E5E5"> it</font><font color="#CCCCCC"> by zero instead</font><font color="#E5E5E5"> of</font>

913
00:34:40,550 --> 00:34:45,560
the<font color="#CCCCCC"> Dead Sea for whatever</font>

914
00:34:41,960 --> 00:34:47,750
<font color="#CCCCCC">ok so i tried this I put to write</font>

915
00:34:45,560 --> 00:34:50,299
commands in the ring<font color="#E5E5E5"> saying right to one</font>

916
00:34:47,750 --> 00:34:52,550
place went to a different place and<font color="#E5E5E5"> this</font>

917
00:34:50,300 --> 00:34:54,830
time if<font color="#CCCCCC"> I saw what it did is it wrote 12</font>

918
00:34:52,550 --> 00:34:57,950
the first destination and<font color="#CCCCCC"> 02 the second</font>

919
00:34:54,830 --> 00:34:59,180
destination<font color="#CCCCCC"> again okay it's</font><font color="#E5E5E5"> supposed to</font>

920
00:34:57,950 --> 00:35:01,129
write deadbeef which is what you see

921
00:34:59,180 --> 00:35:04,669
there it says you know<font color="#E5E5E5"> that beef is that</font>

922
00:35:01,130 --> 00:35:08,210
word with the value it writes<font color="#E5E5E5"> one</font>

923
00:35:04,670 --> 00:35:11,210
well there's one there<font color="#CCCCCC"> that wasn't there</font>

924
00:35:08,210 --> 00:35:13,100
before<font color="#E5E5E5"> those errands panting right so</font>

925
00:35:11,210 --> 00:35:15,620
yeah<font color="#E5E5E5"> turns out they have it off by for</font>

926
00:35:13,100 --> 00:35:18,140
error<font color="#E5E5E5"> and</font><font color="#CCCCCC"> their sdma</font><font color="#E5E5E5"> command</font><font color="#CCCCCC"> parser and</font>

927
00:35:15,620 --> 00:35:20,240
<font color="#E5E5E5">it reads from</font><font color="#CCCCCC"> four boards later than it</font>

928
00:35:18,140 --> 00:35:24,950
should

929
00:35:20,240 --> 00:35:26,750
again this took many hours of<font color="#CCCCCC"> pet dying</font>

930
00:35:24,950 --> 00:35:33,799
<font color="#E5E5E5">and</font><font color="#CCCCCC"> there's</font><font color="#E5E5E5"> like randomly try to</font>

931
00:35:26,750 --> 00:35:35,630
<font color="#E5E5E5">commands 0111</font><font color="#CCCCCC"> yeah</font><font color="#E5E5E5"> so it leads to work</font>

932
00:35:33,800 --> 00:35:37,820
<font color="#E5E5E5">for words too late but only and</font><font color="#CCCCCC"> bring</font>

933
00:35:35,630 --> 00:35:39,080
buffers<font color="#E5E5E5"> indirect buffers</font><font color="#CCCCCC"> work fine</font>

934
00:35:37,820 --> 00:35:40,940
that's<font color="#E5E5E5"> good because those come from user</font>

935
00:35:39,080 --> 00:35:42,380
space so we have to work with those<font color="#E5E5E5"> we</font>

936
00:35:40,940 --> 00:35:43,790
can work around this<font color="#E5E5E5"> is</font><font color="#CCCCCC"> it's only used</font>

937
00:35:42,380 --> 00:35:45,140
<font color="#E5E5E5">in two places in the colonel by using</font><font color="#CCCCCC"> a</font>

938
00:35:43,790 --> 00:35:47,750
<font color="#E5E5E5">fill command instead of a write command</font>

939
00:35:45,140 --> 00:35:51,589
<font color="#E5E5E5">that works fine again</font><font color="#CCCCCC"> like how</font><font color="#E5E5E5"> do they</font>

940
00:35:47,750 --> 00:35:53,240
<font color="#E5E5E5">even make these mistakes</font><font color="#CCCCCC"> okay</font><font color="#E5E5E5"> but still</font>

941
00:35:51,590 --> 00:35:54,710
the<font color="#CCCCCC"> GPU</font><font color="#E5E5E5"> doesn't work the ring test pass</font>

942
00:35:53,240 --> 00:35:56,779
<font color="#E5E5E5">but if you try to draw</font><font color="#CCCCCC"> a</font><font color="#E5E5E5"> bunch of page</font>

943
00:35:54,710 --> 00:35:58,850
faults and<font color="#E5E5E5"> it turns out what happens is</font>

944
00:35:56,780 --> 00:36:02,420
that on the<font color="#CCCCCC"> ps4</font><font color="#E5E5E5"> you can try to pair the</font>

945
00:35:58,850 --> 00:36:04,759
page table registers from actual

946
00:36:02,420 --> 00:36:06,350
<font color="#CCCCCC">commands in the GPU itself you can</font><font color="#E5E5E5"> write</font>

947
00:36:04,760 --> 00:36:08,240
to them from the<font color="#E5E5E5"> cpu directly you can</font>

948
00:36:06,350 --> 00:36:10,549
<font color="#E5E5E5">say just</font><font color="#CCCCCC"> write memory memory register</font>

949
00:36:08,240 --> 00:36:12,410
right<font color="#CCCCCC"> and I alright they</font><font color="#E5E5E5"> can tell that</font>

950
00:36:10,550 --> 00:36:15,260
you please write to the page table

951
00:36:12,410 --> 00:36:17,089
register<font color="#E5E5E5"> this so the page</font><font color="#CCCCCC"> that</font><font color="#E5E5E5"> was not</font>

952
00:36:15,260 --> 00:36:17,960
<font color="#E5E5E5">work that you</font><font color="#CCCCCC"> can't see any</font><font color="#E5E5E5"> memory so</font>

953
00:36:17,090 --> 00:36:20,390
<font color="#CCCCCC">everything is broken</font>

954
00:36:17,960 --> 00:36:22,820
<font color="#CCCCCC">let's use this previously doesn't use</font>

955
00:36:20,390 --> 00:36:24,500
direct rights<font color="#E5E5E5"> and we think this is maybe</font>

956
00:36:22,820 --> 00:36:26,660
<font color="#CCCCCC">a firewall somewhere in the Liverpool</font>

957
00:36:24,500 --> 00:36:28,970
some kind of security<font color="#E5E5E5"> thing they added</font>

958
00:36:26,660 --> 00:36:31,970
<font color="#E5E5E5">we can directly write from the cpu but</font>

959
00:36:28,970 --> 00:36:33,529
it's like breaks the regular<font color="#E5E5E5"> like it's</font>

960
00:36:31,970 --> 00:36:35,270
not a synchronous<font color="#E5E5E5"> anymore so this could</font>

961
00:36:33,530 --> 00:36:37,400
break things<font color="#CCCCCC"> that's</font><font color="#E5E5E5"> really hockey</font>

962
00:36:35,270 --> 00:36:38,990
<font color="#E5E5E5">solution</font><font color="#CCCCCC"> i would really like to fix this</font>

963
00:36:37,400 --> 00:36:40,370
<font color="#E5E5E5">and</font><font color="#CCCCCC"> I'm</font><font color="#E5E5E5"> thinking maybe</font><font color="#CCCCCC"> the firewall is</font>

964
00:36:38,990 --> 00:36:42,169
the firmware right<font color="#E5E5E5"> but its proprietary</font>

965
00:36:40,370 --> 00:36:44,420
<font color="#CCCCCC">undocumented</font><font color="#E5E5E5"> from where</font>

966
00:36:42,170 --> 00:36:46,790
so let's look at that<font color="#CCCCCC"> firmware it's a</font>

967
00:36:44,420 --> 00:36:49,430
thing it<font color="#E5E5E5"> means microcode</font><font color="#CCCCCC"> write a</font><font color="#E5E5E5"> CP</font>

968
00:36:46,790 --> 00:36:50,870
thing<font color="#CCCCCC"> its undocumented but we take the</font>

969
00:36:49,430 --> 00:36:51,680
<font color="#CCCCCC">blocks</font><font color="#E5E5E5"> out of freebsd</font><font color="#CCCCCC"> that's great</font>

970
00:36:50,870 --> 00:36:55,700
because we don't have to ship them

971
00:36:51,680 --> 00:36:58,520
<font color="#CCCCCC">that's a deeper into those blops</font><font color="#E5E5E5"> so how</font>

972
00:36:55,700 --> 00:37:00,770
do you<font color="#E5E5E5"> reverse engineer unknown</font><font color="#CCCCCC"> cpu</font>

973
00:36:58,520 --> 00:37:02,630
architecture<font color="#CCCCCC"> is really</font><font color="#E5E5E5"> easy</font><font color="#CCCCCC"> running the</font>

974
00:37:00,770 --> 00:37:04,220
structure and see what<font color="#CCCCCC"> i did</font><font color="#E5E5E5"> and</font><font color="#CCCCCC"> then</font>

975
00:37:02,630 --> 00:37:06,230
just keep doing that

976
00:37:04,220 --> 00:37:07,609
thankfully we can upload custom firmware

977
00:37:06,230 --> 00:37:08,900
so it's actually<font color="#E5E5E5"> really easy just</font><font color="#CCCCCC"> had</font>

978
00:37:07,610 --> 00:37:10,130
<font color="#E5E5E5">like a two instruction from her that</font>

979
00:37:08,900 --> 00:37:12,110
does something and then<font color="#E5E5E5"> writes a</font>

980
00:37:10,130 --> 00:37:13,220
registered to a memory location<font color="#E5E5E5"> and</font>

981
00:37:12,110 --> 00:37:14,540
that's actually really easy to find if

982
00:37:13,220 --> 00:37:15,950
you just that first like<font color="#CCCCCC"> right the</font>

983
00:37:14,540 --> 00:37:18,110
memory instruction is really easy to

984
00:37:15,950 --> 00:37:19,549
find<font color="#CCCCCC"> the</font><font color="#E5E5E5"> binary because you see like GPU</font>

985
00:37:18,110 --> 00:37:22,160
<font color="#E5E5E5">register offsets that stand out a bit</font>

986
00:37:19,550 --> 00:37:24,740
<font color="#CCCCCC">and</font><font color="#E5E5E5"> the in one column so long story</font>

987
00:37:22,160 --> 00:37:27,049
short we wrote<font color="#CCCCCC"> that 32</font><font color="#E5E5E5"> this which is</font><font color="#CCCCCC"> the</font>

988
00:37:24,740 --> 00:37:29,509
<font color="#CCCCCC">center</font><font color="#E5E5E5"> for the proprietary AMD f32</font>

989
00:37:27,050 --> 00:37:30,800
<font color="#E5E5E5">microcode i shamelessly stole the</font>

990
00:37:29,510 --> 00:37:32,180
<font color="#CCCCCC">instruction syntax remark</font><font color="#E5E5E5"> so you may</font>

991
00:37:30,800 --> 00:37:34,610
recognize that<font color="#E5E5E5"> if</font><font color="#CCCCCC"> you're used to</font><font color="#E5E5E5"> arm</font>

992
00:37:32,180 --> 00:37:36,080
assembly and this is not complete but<font color="#E5E5E5"> it</font>

993
00:37:34,610 --> 00:37:39,200
<font color="#E5E5E5">can disassemble every single instruction</font>

994
00:37:36,080 --> 00:37:40,759
and all the firmware in<font color="#CCCCCC"> Liverpool 4pm DC</font>

995
00:37:39,200 --> 00:37:43,460
<font color="#CCCCCC">mgc and RLC</font><font color="#E5E5E5"> which are five different</font>

996
00:37:40,760 --> 00:37:44,870
blocks in the GPU<font color="#E5E5E5"> as far as</font><font color="#CCCCCC"> i know this</font>

997
00:37:43,460 --> 00:37:46,490
has<font color="#E5E5E5"> never been done before</font><font color="#CCCCCC"> all</font><font color="#E5E5E5"> the</font>

998
00:37:44,870 --> 00:37:47,900
<font color="#CCCCCC">firmware</font><font color="#E5E5E5"> was like you know who do black</font>

999
00:37:46,490 --> 00:37:50,299
magic thing that's been shipped not even

1000
00:37:47,900 --> 00:37:54,650
the<font color="#CCCCCC"> 9am the</font><font color="#E5E5E5"> kernel developers know</font>

1001
00:37:50,300 --> 00:38:00,320
anything<font color="#E5E5E5"> about this</font>

1002
00:37:54,650 --> 00:38:01,400
<font color="#CCCCCC">and you</font><font color="#E5E5E5"> can disassemble the desktop</font><font color="#CCCCCC"> GPU</font>

1003
00:38:00,320 --> 00:38:03,860
stop<font color="#E5E5E5"> two so this could be good for</font>

1004
00:38:01,400 --> 00:38:07,880
debugging strange<font color="#CCCCCC"> debut shenanigans</font><font color="#E5E5E5"> and</font>

1005
00:38:03,860 --> 00:38:09,950
<font color="#CCCCCC">in on ps4 stuff right alas</font><font color="#E5E5E5"> it's not in</font>

1006
00:38:07,880 --> 00:38:12,500
the firmware<font color="#CCCCCC"> it</font><font color="#E5E5E5"> seems to be locked in</font>

1007
00:38:09,950 --> 00:38:14,029
<font color="#CCCCCC">hardware i found the bug register that</font>

1008
00:38:12,500 --> 00:38:15,410
actually says there's an access

1009
00:38:14,030 --> 00:38:16,730
violation in the bus when you try to

1010
00:38:15,410 --> 00:38:20,180
write this thing and<font color="#CCCCCC"> I tried a bunch of</font>

1011
00:38:16,730 --> 00:38:22,490
workarounds and<font color="#CCCCCC"> I</font><font color="#E5E5E5"> even bought an AMD</font><font color="#CCCCCC"> apu</font>

1012
00:38:20,180 --> 00:38:24,470
system<font color="#E5E5E5"> desktop</font><font color="#CCCCCC"> dumped all the registers</font>

1013
00:38:22,490 --> 00:38:26,779
<font color="#CCCCCC">dip them against the 1i had on the next</font>

1014
00:38:24,470 --> 00:38:28,430
and tried<font color="#CCCCCC"> accepting every single value</font>

1015
00:38:26,780 --> 00:38:30,830
from the other GPU and hoping<font color="#CCCCCC"> I</font><font color="#E5E5E5"> find</font>

1016
00:38:28,430 --> 00:38:32,629
some magic<font color="#CCCCCC"> bit</font><font color="#E5E5E5"> somewhere but no they</font>

1017
00:38:30,830 --> 00:38:34,160
probably have a setting for this

1018
00:38:32,630 --> 00:38:36,980
somewhere but you know it's a sea of

1019
00:38:34,160 --> 00:38:39,200
<font color="#E5E5E5">ones and</font><font color="#CCCCCC"> zeros</font><font color="#E5E5E5"> good luck finding it</font>

1020
00:38:36,980 --> 00:38:40,580
it does work with the<font color="#CCCCCC"> cpu</font><font color="#E5E5E5"> right</font><font color="#CCCCCC"> work</font>

1021
00:38:39,200 --> 00:38:42,680
around though so

1022
00:38:40,580 --> 00:38:43,970
<font color="#CCCCCC">hey</font><font color="#E5E5E5"> at least we get 3d and it's actually</font>

1023
00:38:42,680 --> 00:38:47,419
pretty stable so if there's a race

1024
00:38:43,970 --> 00:38:49,609
condition<font color="#E5E5E5"> I'm not really seeing it so</font>

1025
00:38:47,420 --> 00:38:51,920
<font color="#CCCCCC">checklist what works what doesn't work</font>

1026
00:38:49,610 --> 00:38:54,200
we have<font color="#E5E5E5"> interrupts and timers the core</font>

1027
00:38:51,920 --> 00:38:55,970
thing you need to run any<font color="#E5E5E5"> us we have a</font>

1028
00:38:54,200 --> 00:38:57,649
serial port<font color="#CCCCCC"> we can shut down the system</font>

1029
00:38:55,970 --> 00:38:59,779
<font color="#CCCCCC">and reboot and you think that's funny</font>

1030
00:38:57,650 --> 00:39:01,190
but actually<font color="#E5E5E5"> goes to</font><font color="#CCCCCC"> icc so again need</font>

1031
00:38:59,780 --> 00:39:02,630
some interesting code they're actually

1032
00:39:01,190 --> 00:39:05,330
just implemented that<font color="#CCCCCC"> what</font><font color="#E5E5E5"> four hours</font>

1033
00:39:02,630 --> 00:39:08,960
<font color="#E5E5E5">ago because that your point the</font><font color="#CCCCCC"> plugs</font>

1034
00:39:05,330 --> 00:39:11,330
<font color="#CCCCCC">and hold the power button works</font><font color="#E5E5E5"> USB</font>

1035
00:39:08,960 --> 00:39:14,120
works<font color="#CCCCCC"> there's a funny story with</font><font color="#E5E5E5"> USB</font><font color="#CCCCCC"> as</font>

1036
00:39:11,330 --> 00:39:15,380
it<font color="#CCCCCC"> is not to work and we know said fix</font>

1037
00:39:14,120 --> 00:39:17,900
it later they<font color="#E5E5E5"> seem to be special code</font>

1038
00:39:15,380 --> 00:39:19,490
missing and then someone<font color="#CCCCCC"> pulled</font><font color="#E5E5E5"> the</font><font color="#CCCCCC"> repo</font>

1039
00:39:17,900 --> 00:39:21,170
from<font color="#E5E5E5"> the USB not working branch and</font>

1040
00:39:19,490 --> 00:39:23,390
<font color="#E5E5E5">tested</font><font color="#CCCCCC"> and</font><font color="#E5E5E5"> it's working</font>

1041
00:39:21,170 --> 00:39:25,100
<font color="#CCCCCC">mhm it seems we</font><font color="#E5E5E5"> fix it by accident by</font>

1042
00:39:23,390 --> 00:39:26,930
changing something else

1043
00:39:25,100 --> 00:39:28,730
the<font color="#CCCCCC"> hard-disk</font><font color="#E5E5E5"> works which is real USB</font>

1044
00:39:26,930 --> 00:39:30,140
<font color="#CCCCCC">blu-ray works i brought</font><font color="#E5E5E5"> the</font><font color="#CCCCCC"> driver for</font>

1045
00:39:28,730 --> 00:39:32,450
that also<font color="#CCCCCC"> four hours ago three hours</font><font color="#E5E5E5"> ago</font>

1046
00:39:30,140 --> 00:39:33,740
<font color="#E5E5E5">now</font><font color="#CCCCCC"> and something</font><font color="#E5E5E5"> that and it</font><font color="#CCCCCC"> it</font><font color="#E5E5E5"> spent</font>

1047
00:39:32,450 --> 00:39:35,149
<font color="#E5E5E5">20 minutes looking for someone in the</font>

1048
00:39:33,740 --> 00:39:37,819
<font color="#CCCCCC">hack</font><font color="#E5E5E5"> center that had a DVD I could stick</font>

1049
00:39:35,150 --> 00:39:41,480
into<font color="#E5E5E5"> try</font><font color="#CCCCCC"> apparent from the</font><font color="#E5E5E5"> past</font><font color="#CCCCCC"> if is</font>

1050
00:39:37,820 --> 00:39:43,340
<font color="#E5E5E5">for</font><font color="#CCCCCC"> dvds so</font><font color="#E5E5E5"> yeah</font><font color="#CCCCCC"> now but it does work so</font>

1051
00:39:41,480 --> 00:39:46,160
<font color="#CCCCCC">that's</font><font color="#E5E5E5"> good Wi-Fi</font><font color="#CCCCCC"> and bluetooth works</font>

1052
00:39:43,340 --> 00:39:48,500
<font color="#CCCCCC">booth ethernet works except only a</font>

1053
00:39:46,160 --> 00:39:50,750
gigabit speeds<font color="#CCCCCC"> bring fireworks hdmi</font>

1054
00:39:48,500 --> 00:39:54,980
works<font color="#CCCCCC"> its current hard-coded to 1080p so</font>

1055
00:39:50,750 --> 00:39:56,870
<font color="#E5E5E5">yeah it does work</font><font color="#CCCCCC"> we can</font><font color="#E5E5E5"> fix that by</font><font color="#CCCCCC"> me</font>

1056
00:39:54,980 --> 00:39:59,450
improving the encoder<font color="#E5E5E5"> implementation</font>

1057
00:39:56,870 --> 00:40:02,089
<font color="#E5E5E5">three works with the ugly</font><font color="#CCCCCC"> you know</font>

1058
00:39:59,450 --> 00:40:04,399
register right hack<font color="#E5E5E5"> and speed of audio</font>

1059
00:40:02,090 --> 00:40:06,740
works<font color="#CCCCCC"> so that's</font><font color="#E5E5E5"> good</font>

1060
00:40:04,400 --> 00:40:08,280
<font color="#E5E5E5">hdmi audio doesn't work mostly because i</font>

1061
00:40:06,740 --> 00:40:10,500
only got audio grossly working

1062
00:40:08,280 --> 00:40:12,960
<font color="#E5E5E5">in general recently and</font><font color="#CCCCCC"> i haven't had a</font>

1063
00:40:10,500 --> 00:40:15,780
chance to program the encoder<font color="#E5E5E5"> to support</font>

1064
00:40:12,960 --> 00:40:17,250
the audio stuff yet again<font color="#E5E5E5"> or</font><font color="#CCCCCC"> you more</font>

1065
00:40:15,780 --> 00:40:18,390
annoying<font color="#CCCCCC"> hacks there and the real-time</font>

1066
00:40:17,250 --> 00:40:20,970
clock doesn't work and if you think<font color="#CCCCCC"> that</font>

1067
00:40:18,390 --> 00:40:23,040
<font color="#E5E5E5">simple well the clock like</font><font color="#CCCCCC"> devices</font>

1068
00:40:20,970 --> 00:40:24,689
simple<font color="#E5E5E5"> but ever since the</font><font color="#CCCCCC"> playstation 2</font>

1069
00:40:23,040 --> 00:40:26,550
the way sony has implemented<font color="#CCCCCC"> real-time</font>

1070
00:40:24,690 --> 00:40:27,900
clock says that instead of reading<font color="#E5E5E5"> and</font>

1071
00:40:26,550 --> 00:40:29,160
writing you know the time on the clock

1072
00:40:27,900 --> 00:40:29,850
which is what you think is<font color="#E5E5E5"> the normal</font>

1073
00:40:29,160 --> 00:40:31,410
<font color="#E5E5E5">thing to do</font>

1074
00:40:29,850 --> 00:40:33,270
<font color="#E5E5E5">they never</font><font color="#CCCCCC"> write</font><font color="#E5E5E5"> the time on the clock</font>

1075
00:40:31,410 --> 00:40:35,759
<font color="#CCCCCC">instead</font><font color="#E5E5E5"> they store</font><font color="#CCCCCC"> and offset from the</font>

1076
00:40:33,270 --> 00:40:38,640
clock to the real time in like some kind

1077
00:40:35,760 --> 00:40:41,610
of storage location and there's a giant

1078
00:40:38,640 --> 00:40:43,620
mess of you know<font color="#E5E5E5"> registry it's called</font>

1079
00:40:41,610 --> 00:40:44,610
<font color="#CCCCCC">and the the ps4 and I don't</font><font color="#E5E5E5"> even know</font>

1080
00:40:43,620 --> 00:40:45,750
<font color="#E5E5E5">where it's stored it might be on the</font>

1081
00:40:44,610 --> 00:40:47,700
hard drive might be encrypted so

1082
00:40:45,750 --> 00:40:49,350
basically getting<font color="#E5E5E5"> the</font><font color="#CCCCCC"> real time clock to</font>

1083
00:40:47,700 --> 00:40:50,879
actually show the right time involves a

1084
00:40:49,350 --> 00:40:53,580
pile of nonsense that<font color="#E5E5E5"> haven't had a</font>

1085
00:40:50,880 --> 00:40:54,960
chance to look at yet but<font color="#CCCCCC"> having to be</font>

1086
00:40:53,580 --> 00:40:57,299
right so<font color="#E5E5E5"> it's good enough</font>

1087
00:40:54,960 --> 00:40:59,310
<font color="#CCCCCC">alright oh and we have blinking lights</font>

1088
00:40:57,300 --> 00:41:00,960
important<font color="#CCCCCC"> you know the probably do some</font>

1089
00:40:59,310 --> 00:41:02,940
interesting things<font color="#CCCCCC"> you're on the next so</font>

1090
00:41:00,960 --> 00:41:08,430
<font color="#CCCCCC">that's good</font>

1091
00:41:02,940 --> 00:41:10,950
so the code<font color="#E5E5E5"> we can get the ps4 ksi code</font>

1092
00:41:08,430 --> 00:41:12,569
on our github page that has the<font color="#CCCCCC"> KX</font>

1093
00:41:10,950 --> 00:41:15,210
<font color="#CCCCCC">second hardware configuration and the</font>

1094
00:41:12,570 --> 00:41:17,070
bootloader<font color="#CCCCCC"> linux stuff</font><font color="#E5E5E5"> you can get a</font>

1095
00:41:15,210 --> 00:41:20,550
<font color="#E5E5E5">feel for the next branch which is the</font>

1096
00:41:17,070 --> 00:41:23,220
work of the<font color="#E5E5E5"> kernel based on 4.9 which is</font>

1097
00:41:20,550 --> 00:41:24,450
the<font color="#E5E5E5"> latest public version</font><font color="#CCCCCC"> i think you</font>

1098
00:41:23,220 --> 00:41:26,279
can get<font color="#E5E5E5"> our</font><font color="#CCCCCC"> radio on patches which are</font>

1099
00:41:24,450 --> 00:41:27,660
<font color="#CCCCCC">three i think really tiny patches for</font>

1100
00:41:26,280 --> 00:41:29,940
userspace library is just to support

1101
00:41:27,660 --> 00:41:32,640
this new<font color="#E5E5E5"> chip really supposed</font><font color="#CCCCCC"> to have</font>

1102
00:41:29,940 --> 00:41:34,560
the<font color="#E5E5E5"> knob thing and a couple commands and</font>

1103
00:41:32,640 --> 00:41:36,990
the<font color="#CCCCCC"> rai and</font><font color="#E5E5E5"> after</font><font color="#CCCCCC"> we do this</font><font color="#E5E5E5"> thing</font><font color="#CCCCCC"> I</font>

1104
00:41:34,560 --> 00:41:40,080
mentioned you can get<font color="#CCCCCC"> radeon tools at</font>

1105
00:41:36,990 --> 00:41:42,029
<font color="#E5E5E5">that to get</font><font color="#CCCCCC"> a reply just</font><font color="#E5E5E5"> push that right</font>

1106
00:41:40,080 --> 00:41:43,170
before<font color="#CCCCCC"> this talk</font><font color="#E5E5E5"> so</font><font color="#CCCCCC"> you're</font><font color="#E5E5E5"> interested</font>

1107
00:41:42,030 --> 00:41:45,360
<font color="#CCCCCC">there you go and if you're going to</font><font color="#E5E5E5"> the</font>

1108
00:41:43,170 --> 00:41:46,500
<font color="#CCCCCC">rai file well that</font><font color="#E5E5E5"> you know you want to</font>

1109
00:41:45,360 --> 00:41:47,820
do you want to run before the guys at

1110
00:41:46,500 --> 00:41:50,280
the website<font color="#CCCCCC"> realize</font><font color="#E5E5E5"> that we take that</font>

1111
00:41:47,820 --> 00:41:53,790
down<font color="#CCCCCC"> but</font><font color="#E5E5E5"> i'm sure the</font><font color="#CCCCCC"> internet wayback</font>

1112
00:41:50,280 --> 00:41:57,180
<font color="#CCCCCC">machine has it somewhere so</font><font color="#E5E5E5"> yeah okay</font>

1113
00:41:53,790 --> 00:42:00,270
well that's everything for the story of

1114
00:41:57,180 --> 00:42:02,370
how you got<font color="#CCCCCC"> linux running on the ps4 and</font>

1115
00:42:00,270 --> 00:42:17,100
you know you can reach us at that

1116
00:42:02,370 --> 00:42:21,750
website or<font color="#E5E5E5"> failure</font><font color="#CCCCCC"> for and Twitter</font>

1117
00:42:17,100 --> 00:42:23,940
<font color="#CCCCCC">so I hope that wasn't too fast sorry I</font>

1118
00:42:21,750 --> 00:42:25,320
<font color="#E5E5E5">tried to rush through my like 89 slides</font>

1119
00:42:23,940 --> 00:42:27,690
a little bit because<font color="#CCCCCC"> i really wanted to</font>

1120
00:42:25,320 --> 00:42:30,420
do a demo and<font color="#CCCCCC"> then get this kind of is</font>

1121
00:42:27,690 --> 00:42:31,500
the demo right<font color="#E5E5E5"> but we can try something</font>

1122
00:42:30,420 --> 00:42:35,790
else

1123
00:42:31,500 --> 00:42:40,080
so maybe I can shut the sir<font color="#E5E5E5"> so</font><font color="#CCCCCC"> I can</font><font color="#E5E5E5"> if</font>

1124
00:42:35,790 --> 00:42:41,370
<font color="#E5E5E5">I came with my controller and this is</font>

1125
00:42:40,080 --> 00:42:42,210
really not meant<font color="#E5E5E5"> as a mouse that's not</font>

1126
00:42:41,370 --> 00:42:47,040
right button

1127
00:42:42,210 --> 00:42:49,530
come on<font color="#CCCCCC"> the</font><font color="#E5E5E5"> yeah</font><font color="#CCCCCC"> i think it is a</font><font color="#E5E5E5"> close</font>

1128
00:42:47,040 --> 00:42:50,850
<font color="#E5E5E5">close maybe</font><font color="#CCCCCC"> yes so we have this little</font>

1129
00:42:49,530 --> 00:42:52,650
icon here<font color="#CCCCCC"> wonder what happens if it</font>

1130
00:42:50,850 --> 00:42:54,240
works we have internet access

1131
00:42:52,650 --> 00:42:55,950
hopefully Wi-Fi works actually just

1132
00:42:54,240 --> 00:42:58,830
check real quick

1133
00:42:55,950 --> 00:43:04,049
<font color="#CCCCCC">does</font><font color="#E5E5E5"> it get this could work really about</font>

1134
00:42:58,830 --> 00:43:05,460
if we don't<font color="#E5E5E5"> and</font><font color="#CCCCCC"> pink 8 Update</font><font color="#E5E5E5"> right</font><font color="#CCCCCC"> yeah</font>

1135
00:43:04,050 --> 00:43:11,100
we have internet access<font color="#CCCCCC"> ok Wi-Fi works</font>

1136
00:43:05,460 --> 00:43:12,720
<font color="#CCCCCC">okay</font><font color="#E5E5E5"> whatever happens we click that it</font>

1137
00:43:11,100 --> 00:43:16,299
takes<font color="#CCCCCC"> a while</font><font color="#E5E5E5"> to</font><font color="#CCCCCC"> load this this is not</font>

1138
00:43:12,720 --> 00:43:24,390
optimized for

1139
00:43:16,300 --> 00:43:26,609
[Applause]

1140
00:43:24,390 --> 00:43:32,519
<font color="#E5E5E5">so the</font><font color="#CCCCCC"> the CPUs on this thing a little</font>

1141
00:43:26,609 --> 00:43:43,710
bit slow but hey you know<font color="#E5E5E5"> it works and</font>

1142
00:43:32,519 --> 00:43:46,288
now it's a real game console

1143
00:43:43,710 --> 00:43:50,609
this is a

1144
00:43:46,289 --> 00:43:52,169
<font color="#CCCCCC">there we go okay so yeah I think</font><font color="#E5E5E5"> we can</font>

1145
00:43:50,609 --> 00:43:54,719
probably take some Q&A because this is a

1146
00:43:52,169 --> 00:44:00,660
little bit slow to load but<font color="#E5E5E5"> we can try a</font>

1147
00:43:54,719 --> 00:44:02,910
game<font color="#E5E5E5"> maybe</font><font color="#CCCCCC"> where you</font><font color="#E5E5E5"> are for Q&A and</font>

1148
00:44:00,660 --> 00:44:05,339
think there will be some questions<font color="#CCCCCC"> so</font>

1149
00:44:02,910 --> 00:44:10,558
<font color="#E5E5E5">shall we start with one from the</font>

1150
00:44:05,339 --> 00:44:14,578
internet<font color="#CCCCCC"> as they</font><font color="#E5E5E5"> just</font><font color="#CCCCCC"> thinking</font><font color="#E5E5E5"> okay</font><font color="#CCCCCC"> um</font>

1151
00:44:10,559 --> 00:44:16,499
<font color="#E5E5E5">the attendant wants to know if well most</font>

1152
00:44:14,579 --> 00:44:18,900
of your research will be published<font color="#CCCCCC"> or</font><font color="#E5E5E5"> if</font>

1153
00:44:16,499 --> 00:44:20,609
<font color="#CCCCCC">stucco interstate private about all of</font>

1154
00:44:18,900 --> 00:44:22,140
this i mean like the publishing is

1155
00:44:20,609 --> 00:44:23,819
basically the code which<font color="#E5E5E5"> and you know</font>

1156
00:44:22,140 --> 00:44:25,949
the<font color="#CCCCCC"> explosion i just gave I said</font>

1157
00:44:23,819 --> 00:44:27,900
<font color="#E5E5E5">everything's on github so all the</font>

1158
00:44:25,949 --> 00:44:29,999
drivers we wrote all the<font color="#E5E5E5"> you know</font><font color="#CCCCCC"> i mean</font>

1159
00:44:27,900 --> 00:44:32,009
<font color="#CCCCCC">in</font><font color="#E5E5E5"> that case I guess also the</font><font color="#CCCCCC"> suspect is</font>

1160
00:44:29,999 --> 00:44:33,598
the code<font color="#E5E5E5"> if you really want to i could</font>

1161
00:44:32,009 --> 00:44:34,169
write<font color="#CCCCCC"> on wiki pages on this but roughly</font>

1162
00:44:33,599 --> 00:44:35,219
speaking

1163
00:44:34,169 --> 00:44:37,859
you know what's in the<font color="#E5E5E5"> drivers is what</font>

1164
00:44:35,219 --> 00:44:39,390
we found out the really interesting<font color="#E5E5E5"> but</font>

1165
00:44:37,859 --> 00:44:42,179
<font color="#CCCCCC">i think is that there's 32 stuff from</font>

1166
00:44:39,390 --> 00:44:45,058
the from the AMD<font color="#E5E5E5"> GPU stuff and that we</font>

1167
00:44:42,179 --> 00:44:46,559
have<font color="#CCCCCC"> read before but after</font><font color="#E5E5E5"> the if you</font>

1168
00:44:45,059 --> 00:44:48,809
have any<font color="#E5E5E5"> you know general questions on</font>

1169
00:44:46,559 --> 00:44:51,989
in particular device or any details

1170
00:44:48,809 --> 00:44:54,150
<font color="#CCCCCC">free to</font><font color="#E5E5E5"> ask</font><font color="#CCCCCC"> I don't know</font><font color="#E5E5E5"> you know again</font>

1171
00:44:51,989 --> 00:44:55,289
<font color="#E5E5E5">it would be nice if we wrote a bunch of</font>

1172
00:44:54,150 --> 00:44:57,179
<font color="#CCCCCC">doctors everything that is not really</font><font color="#E5E5E5"> a</font>

1173
00:44:55,289 --> 00:44:58,769
matter of not wanting to write them<font color="#CCCCCC"> and</font>

1174
00:44:57,179 --> 00:45:00,869
<font color="#CCCCCC">see no</font><font color="#E5E5E5"> lazy engineers not running to</font>

1175
00:44:58,769 --> 00:45:02,279
<font color="#E5E5E5">write documentation but the code is at</font>

1176
00:45:00,869 --> 00:45:06,569
least you know things<font color="#CCCCCC"> haven't yet i</font><font color="#E5E5E5"> was</font>

1177
00:45:02,279 --> 00:45:08,489
very clean so okay so<font color="#E5E5E5"> someone is piling</font>

1178
00:45:06,569 --> 00:45:10,650
up on<font color="#CCCCCC"> four guys if you have questions</font>

1179
00:45:08,489 --> 00:45:11,880
<font color="#CCCCCC">you see the the microphones over here</font>

1180
00:45:10,650 --> 00:45:16,469
just pile up over there<font color="#CCCCCC"> and I'm</font><font color="#E5E5E5"> gonna</font>

1181
00:45:11,880 --> 00:45:19,499
want<font color="#CCCCCC"> for please just the small question</font>

1182
00:45:16,469 --> 00:45:24,509
<font color="#E5E5E5">how likely is it that you</font><font color="#CCCCCC"> upstream some</font>

1183
00:45:19,499 --> 00:45:26,640
of that stuff because<font color="#E5E5E5"> I mean so there's</font>

1184
00:45:24,509 --> 00:45:27,749
two<font color="#E5E5E5"> sites</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> that one side is that we</font>

1185
00:45:26,640 --> 00:45:29,999
need to actually get together<font color="#CCCCCC"> an</font>

1186
00:45:27,749 --> 00:45:33,868
<font color="#E5E5E5">upstream at the code</font><font color="#CCCCCC"> some of it has</font>

1187
00:45:29,999 --> 00:45:37,140
horrible hack some of it isn't too bad

1188
00:45:33,869 --> 00:45:38,999
so yeah we want to upstream it we have

1189
00:45:37,140 --> 00:45:41,729
to sit down and actually do it<font color="#CCCCCC"> i think</font>

1190
00:45:38,999 --> 00:45:43,078
<font color="#E5E5E5">most of the lake</font><font color="#CCCCCC"> custom x86 space</font>

1191
00:45:41,729 --> 00:45:45,299
<font color="#E5E5E5">machine stuff</font><font color="#CCCCCC"> in the colonel is doable</font>

1192
00:45:43,079 --> 00:45:46,799
<font color="#CCCCCC">the drivers are probably doable some</font>

1193
00:45:45,299 --> 00:45:49,349
people might scream at the interrupt

1194
00:45:46,799 --> 00:45:50,609
<font color="#CCCCCC">acts</font><font color="#E5E5E5"> but it's probably up not terrible</font>

1195
00:45:49,349 --> 00:45:52,589
and if they have a better way of doing

1196
00:45:50,609 --> 00:45:55,558
them<font color="#E5E5E5"> all years the other</font><font color="#CCCCCC"> Colonel deaths</font>

1197
00:45:52,589 --> 00:45:57,900
<font color="#E5E5E5">the radio stuff is</font><font color="#CCCCCC"> Right fishy because</font>

1198
00:45:55,559 --> 00:45:59,320
of the encoder thing that is like<font color="#E5E5E5"> really</font>

1199
00:45:57,900 --> 00:46:03,490
<font color="#CCCCCC">non-standard</font>

1200
00:45:59,320 --> 00:46:05,530
and also<font color="#E5E5E5"> understandably AMD GPU driver</font>

1201
00:46:03,490 --> 00:46:06,790
developers<font color="#E5E5E5"> that</font><font color="#CCCCCC"> work for A&E</font><font color="#E5E5E5"> may want to</font>

1202
00:46:05,530 --> 00:46:07,990
have nothing to do with this and in fact

1203
00:46:06,790 --> 00:46:12,190
<font color="#CCCCCC">i know for a fact that at least one of</font>

1204
00:46:07,990 --> 00:46:14,529
them doesn't but we can<font color="#CCCCCC"> I mean they they</font>

1205
00:46:12,190 --> 00:46:16,420
can't really stop<font color="#E5E5E5"> us us from upstream</font>

1206
00:46:14,530 --> 00:46:18,310
thing and things into the<font color="#E5E5E5"> external right</font>

1207
00:46:16,420 --> 00:46:19,510
so<font color="#CCCCCC"> I think as long as you know</font><font color="#E5E5E5"> we got to</font>

1208
00:46:18,310 --> 00:46:24,400
<font color="#E5E5E5">come to a state where it's doable</font><font color="#CCCCCC"> it's</font>

1209
00:46:19,510 --> 00:46:26,500
<font color="#CCCCCC">is fine but most likely i think i think</font>

1210
00:46:24,400 --> 00:46:28,900
most likely the non GPU stuff<font color="#E5E5E5"> will go in</font>

1211
00:46:26,500 --> 00:46:29,980
first if we have a chance to do that<font color="#CCCCCC"> and</font>

1212
00:46:28,900 --> 00:46:31,390
<font color="#E5E5E5">of</font><font color="#CCCCCC"> course if you want to drive streaming</font>

1213
00:46:29,980 --> 00:46:35,230
it<font color="#E5E5E5"> you know go ahead</font><font color="#CCCCCC"> its</font><font color="#E5E5E5"> top</font><font color="#CCCCCC"> and</font><font color="#E5E5E5"> shorts</font>

1214
00:46:31,390 --> 00:46:39,069
right so over<font color="#CCCCCC"> to microphone one please</font>

1215
00:46:35,230 --> 00:46:41,140
<font color="#CCCCCC">hi</font><font color="#E5E5E5"> first day I think I</font><font color="#CCCCCC"> I should employee</font>

1216
00:46:39,070 --> 00:46:45,220
<font color="#E5E5E5">to try and find</font><font color="#CCCCCC"> travel Hudson and</font>

1217
00:46:41,140 --> 00:46:48,580
control him into using your<font color="#CCCCCC"> freebsd k</font>

1218
00:46:45,220 --> 00:46:51,220
exact implementation in heads<font color="#E5E5E5"> instead of</font>

1219
00:46:48,580 --> 00:46:55,299
having<font color="#E5E5E5"> to run all of</font><font color="#CCCCCC"> linux in it as a</font>

1220
00:46:51,220 --> 00:46:57,759
joke but my real question is if the

1221
00:46:55,300 --> 00:46:59,290
reason you used<font color="#CCCCCC"> gentoo</font><font color="#E5E5E5"> was because</font>

1222
00:46:57,760 --> 00:47:04,510
system deals yet another hurdle<font color="#E5E5E5"> and</font>

1223
00:46:59,290 --> 00:47:06,100
getting this<font color="#E5E5E5"> to run where</font><font color="#CCCCCC"> I</font><font color="#E5E5E5"> residue on</font>

1224
00:47:04,510 --> 00:47:07,540
my<font color="#E5E5E5"> main machine that runs</font><font color="#CCCCCC"> on 21</font><font color="#E5E5E5"> most of</font>

1225
00:47:06,100 --> 00:47:09,190
the machines<font color="#CCCCCC"> I care about</font>

1226
00:47:07,540 --> 00:47:11,680
<font color="#CCCCCC">I</font><font color="#E5E5E5"> do on our</font><font color="#CCCCCC"> channel for the others and</font>

1227
00:47:09,190 --> 00:47:14,170
<font color="#CCCCCC">then a little systemd</font><font color="#E5E5E5"> but the reason why</font>

1228
00:47:11,680 --> 00:47:16,569
<font color="#E5E5E5">runs into his first</font><font color="#CCCCCC"> is</font><font color="#E5E5E5"> why</font><font color="#CCCCCC"> i</font><font color="#E5E5E5"> like and</font>

1229
00:47:14,170 --> 00:47:18,370
use and second it's super easy to use

1230
00:47:16,570 --> 00:47:19,990
patches<font color="#CCCCCC"> onto</font><font color="#E5E5E5"> you get those things we've</font>

1231
00:47:18,370 --> 00:47:21,130
<font color="#E5E5E5">got to get</font><font color="#CCCCCC"> up which are just</font><font color="#E5E5E5"> files it's</font>

1232
00:47:19,990 --> 00:47:22,720
not really a<font color="#CCCCCC"> replica these</font><font color="#E5E5E5"> are so easy</font>

1233
00:47:21,130 --> 00:47:24,430
<font color="#E5E5E5">it's not worth</font><font color="#CCCCCC"> throwing everything just</font>

1234
00:47:22,720 --> 00:47:26,410
<font color="#E5E5E5">get those</font><font color="#CCCCCC"> five sticking NetSupport</font><font color="#E5E5E5"> touch</font>

1235
00:47:24,430 --> 00:47:28,270
<font color="#CCCCCC">patches you have a little hook to</font><font color="#E5E5E5"> catch</font>

1236
00:47:26,410 --> 00:47:31,420
<font color="#CCCCCC">and that's all you need so it's really</font>

1237
00:47:28,270 --> 00:47:31,990
<font color="#CCCCCC">to</font><font color="#E5E5E5"> patch</font><font color="#CCCCCC"> that is indented that's one of</font>

1238
00:47:31,420 --> 00:47:33,280
the main reasons

1239
00:47:31,990 --> 00:47:36,939
[Music]

1240
00:47:33,280 --> 00:47:40,690
yes

1241
00:47:36,940 --> 00:47:43,990
number three please and will there<font color="#E5E5E5"> be</font>

1242
00:47:40,690 --> 00:47:47,230
new exploits new way to boot linux on

1243
00:47:43,990 --> 00:47:50,589
ps3 with<font color="#E5E5E5"> mother firmwares are because</font>

1244
00:47:47,230 --> 00:47:52,630
<font color="#CCCCCC">the</font><font color="#E5E5E5"> finding one with</font><font color="#CCCCCC"> humor 176 is really</font>

1245
00:47:50,590 --> 00:47:58,360
rare<font color="#CCCCCC"> know what that was 45</font>

1246
00:47:52,630 --> 00:48:00,550
<font color="#CCCCCC">ahh not</font><font color="#E5E5E5"> again</font><font color="#CCCCCC"> our goal</font><font color="#E5E5E5"> is to focus on</font>

1247
00:47:58,360 --> 00:48:02,590
the ideas of the story of the pre<font color="#CCCCCC"> expert</font>

1248
00:48:00,550 --> 00:48:04,000
<font color="#E5E5E5">thing is</font><font color="#CCCCCC"> i think</font><font color="#E5E5E5"> that's good</font><font color="#CCCCCC"> like packer</font>

1249
00:48:02,590 --> 00:48:05,010
<font color="#E5E5E5">story good knowledge to try</font><font color="#CCCCCC"> two</font>

1250
00:48:04,000 --> 00:48:06,720
platforms

1251
00:48:05,010 --> 00:48:07,830
and the next thing we're working on the

1252
00:48:06,720 --> 00:48:09,209
reason why we don't want to publish the

1253
00:48:07,830 --> 00:48:11,340
<font color="#E5E5E5">exploit or really get involved in the</font>

1254
00:48:09,210 --> 00:48:12,450
<font color="#E5E5E5">whole</font><font color="#CCCCCC"> exploit seen is that</font><font color="#E5E5E5"> there's a lot</font>

1255
00:48:11,340 --> 00:48:15,150
of drama

1256
00:48:12,450 --> 00:48:17,490
it's not like it's not rocket science in

1257
00:48:15,150 --> 00:48:19,350
that it's like super custom code this is

1258
00:48:17,490 --> 00:48:21,450
what can<font color="#E5E5E5"> freebsd it's actually not that</font>

1259
00:48:19,350 --> 00:48:23,279
hard<font color="#E5E5E5"> and we know for a fact that several</font>

1260
00:48:21,450 --> 00:48:25,859
people have<font color="#E5E5E5"> reproduced this on various</font>

1261
00:48:23,280 --> 00:48:28,680
from words<font color="#E5E5E5"> so like there's no need for</font>

1262
00:48:25,860 --> 00:48:30,480
us to be the<font color="#E5E5E5"> exploit provider and we</font>

1263
00:48:28,680 --> 00:48:33,270
don't want to get into that because it's

1264
00:48:30,480 --> 00:48:37,290
a giant<font color="#E5E5E5"> drama fest as we all know anyway</font>

1265
00:48:33,270 --> 00:48:40,290
so please take your DIY<font color="#E5E5E5"> at</font><font color="#CCCCCC"> this time</font>

1266
00:48:37,290 --> 00:48:43,680
<font color="#CCCCCC">ok thanks and what is the internet</font>

1267
00:48:40,290 --> 00:48:46,500
<font color="#E5E5E5">saying</font><font color="#CCCCCC"> testing ok</font><font color="#E5E5E5"> but the internet wants</font>

1268
00:48:43,680 --> 00:48:47,910
to know if you ever had fun with the<font color="#CCCCCC"> PSD</font>

1269
00:48:46,500 --> 00:48:50,490
on the second processor

1270
00:48:47,910 --> 00:48:52,080
<font color="#E5E5E5">oh that's a very good question and</font><font color="#CCCCCC"> I</font>

1271
00:48:50,490 --> 00:48:54,450
<font color="#E5E5E5">myself haven't</font><font color="#CCCCCC"> I don't know if anyone</font>

1272
00:48:52,080 --> 00:48:56,100
else has looked at it briefly<font color="#CCCCCC"> one of the</font>

1273
00:48:54,450 --> 00:48:58,620
<font color="#E5E5E5">commands for rebooting will boot that</font>

1274
00:48:56,100 --> 00:49:01,950
<font color="#CCCCCC">cpu into</font><font color="#E5E5E5"> freebsd and there's probably</font>

1275
00:48:58,620 --> 00:49:06,390
fun to be had there but we haven't

1276
00:49:01,950 --> 00:49:10,830
really looked into it and over<font color="#E5E5E5"> 25</font><font color="#CCCCCC"> please</font>

1277
00:49:06,390 --> 00:49:13,529
<font color="#CCCCCC">I was wondering if any of that stuff</font>

1278
00:49:10,830 --> 00:49:15,750
fast applicable to the<font color="#CCCCCC"> ps4</font><font color="#E5E5E5"> of we are</font>

1279
00:49:13,530 --> 00:49:20,850
additional<font color="#E5E5E5"> efforts called the new one</font>

1280
00:49:15,750 --> 00:49:23,130
<font color="#CCCCCC">certainly never tested again the sony</font>

1281
00:49:20,850 --> 00:49:24,210
brought up on you<font color="#CCCCCC"> is born other</font><font color="#E5E5E5"> probably</font>

1282
00:49:23,130 --> 00:49:26,670
<font color="#CCCCCC">mean the ps4</font><font color="#E5E5E5"> problem</font>

1283
00:49:24,210 --> 00:49:27,630
yes yeah so<font color="#CCCCCC"> linux boots on the pro we</font>

1284
00:49:26,670 --> 00:49:29,520
got that far

1285
00:49:27,630 --> 00:49:30,900
<font color="#CCCCCC">GPU</font><font color="#E5E5E5"> is broken so we would like to get</font>

1286
00:49:29,520 --> 00:49:32,910
<font color="#E5E5E5">this</font><font color="#CCCCCC"> ported to the Pro and</font><font color="#E5E5E5"> also working</font>

1287
00:49:30,900 --> 00:49:34,800
<font color="#CCCCCC">it's basically an incremental update so</font>

1288
00:49:32,910 --> 00:49:36,149
it's not that hard but the<font color="#CCCCCC"> jeep</font><font color="#E5E5E5"> you</font><font color="#CCCCCC"> need</font>

1289
00:49:34,800 --> 00:49:36,840
<font color="#E5E5E5">a new job definition</font><font color="#CCCCCC"> you trip all</font><font color="#E5E5E5"> that</font>

1290
00:49:36,150 --> 00:49:38,790
stuff

1291
00:49:36,840 --> 00:49:41,130
<font color="#E5E5E5">yeah</font><font color="#CCCCCC"> I get a lot</font><font color="#E5E5E5"> of fun</font><font color="#CCCCCC"> seeing frame</font>

1292
00:49:38,790 --> 00:49:43,160
<font color="#CCCCCC">around yeah yeah yeahs</font><font color="#E5E5E5"> as you can see</font>

1293
00:49:41,130 --> 00:49:50,960
the 3d works and

1294
00:49:43,160 --> 00:49:53,210
<font color="#CCCCCC">ok</font><font color="#E5E5E5"> go</font><font color="#CCCCCC"> you will hear a bus the bus down</font>

1295
00:49:50,960 --> 00:49:55,100
<font color="#CCCCCC">just got to look up and down in this</font>

1296
00:49:53,210 --> 00:49:56,570
game and<font color="#CCCCCC"> pinball and mental</font><font color="#E5E5E5"> wellness</font>

1297
00:49:55,100 --> 00:49:59,509
<font color="#E5E5E5">back to top</font>

1298
00:49:56,570 --> 00:50:00,740
<font color="#E5E5E5">there's a friend</font><font color="#CCCCCC"> yeah</font><font color="#E5E5E5"> well and number</font>

1299
00:49:59,510 --> 00:50:04,190
three please

1300
00:50:00,740 --> 00:50:07,069
<font color="#CCCCCC">two out I want to ask you if you want to</font>

1301
00:50:04,190 --> 00:50:11,750
put this<font color="#CCCCCC"> writer and patches to the new</font>

1302
00:50:07,070 --> 00:50:15,080
AMD GPU cpu<font color="#CCCCCC"> and GPU driver because i am</font>

1303
00:50:11,750 --> 00:50:17,000
<font color="#E5E5E5">the</font><font color="#CCCCCC"> now supports</font><font color="#E5E5E5"> the</font><font color="#CCCCCC"> Solomon Islands a</font>

1304
00:50:15,080 --> 00:50:18,950
que pues<font color="#CCCCCC"> yes</font><font color="#E5E5E5"> that's a very good question</font>

1305
00:50:17,000 --> 00:50:21,290
actually the first attempt we made

1306
00:50:18,950 --> 00:50:22,669
<font color="#E5E5E5">writing this driver</font><font color="#CCCCCC"> with AMD GPU</font><font color="#E5E5E5"> and at</font>

1307
00:50:21,290 --> 00:50:25,040
the time it wasn't working at all and<font color="#CCCCCC"> i</font>

1308
00:50:22,670 --> 00:50:27,200
<font color="#E5E5E5">was a bit concerned about its freshness</font>

1309
00:50:25,040 --> 00:50:29,509
at the time and it was<font color="#CCCCCC"> experimenting</font>

1310
00:50:27,200 --> 00:50:31,490
supporting<font color="#CCCCCC"> this DP generation i'm</font><font color="#E5E5E5"> told</font>

1311
00:50:29,510 --> 00:50:33,950
<font color="#E5E5E5">it's</font><font color="#CCCCCC"> by</font><font color="#E5E5E5"> it should work so</font><font color="#CCCCCC"> i would like</font>

1312
00:50:31,490 --> 00:50:35,359
<font color="#E5E5E5">to put this you know moved</font><font color="#CCCCCC"> away to</font><font color="#E5E5E5"> you</font>

1313
00:50:33,950 --> 00:50:37,250
<font color="#CCCCCC">if</font><font color="#E5E5E5"> you're not</font><font color="#CCCCCC"> that we have a</font><font color="#E5E5E5"> you know</font>

1314
00:50:35,360 --> 00:50:38,840
working<font color="#E5E5E5"> implementation and we got the</font>

1315
00:50:37,250 --> 00:50:40,520
<font color="#CCCCCC">cleanup code much</font><font color="#E5E5E5"> better</font><font color="#CCCCCC"> we know where</font>

1316
00:50:38,840 --> 00:50:42,200
all the<font color="#CCCCCC"> nets are I want</font><font color="#E5E5E5"> to try again</font>

1317
00:50:40,520 --> 00:50:44,060
with<font color="#E5E5E5"> AMD</font><font color="#CCCCCC"> GPU and</font><font color="#E5E5E5"> see that works that's a</font>

1318
00:50:42,200 --> 00:50:45,770
very good question because the<font color="#CCCCCC"> you</font><font color="#E5E5E5"> know</font>

1319
00:50:44,060 --> 00:50:47,779
<font color="#CCCCCC">your gen-mai to require the driver</font><font color="#E5E5E5"> may</font>

1320
00:50:45,770 --> 00:50:49,040
<font color="#E5E5E5">be so yeah thank you</font>

1321
00:50:47,780 --> 00:50:50,960
well then<font color="#E5E5E5"> i'm</font><font color="#CCCCCC"> going to guess we asked</font>

1322
00:50:49,040 --> 00:50:54,710
the internet again<font color="#CCCCCC"> okay</font>

1323
00:50:50,960 --> 00:50:56,750
<font color="#E5E5E5">the</font><font color="#CCCCCC"> internet asks</font><font color="#E5E5E5"> are states that a</font><font color="#CCCCCC"> gyro</font>

1324
00:50:54,710 --> 00:51:00,530
about a year ago<font color="#CCCCCC"> you argued with someone</font>

1325
00:50:56,750 --> 00:51:02,660
on<font color="#CCCCCC"> Twitter that the ps4 wasn't a pc and</font>

1326
00:51:00,530 --> 00:51:05,330
now you're saying it kind of is not

1327
00:51:02,660 --> 00:51:08,270
something and<font color="#CCCCCC"> what</font><font color="#E5E5E5"> about that</font>

1328
00:51:05,330 --> 00:51:09,830
so again it's the<font color="#CCCCCC"> main</font><font color="#E5E5E5"> reason</font><font color="#CCCCCC"> for</font><font color="#E5E5E5"> saying</font>

1329
00:51:08,270 --> 00:51:11,330
it's not a<font color="#CCCCCC"> pc is that it's not it's not</font>

1330
00:51:09,830 --> 00:51:13,670
a piece it's not<font color="#E5E5E5"> an IBM personal</font>

1331
00:51:11,330 --> 00:51:17,390
computer compatible device<font color="#CCCCCC"> it's an x86</font>

1332
00:51:13,670 --> 00:51:18,860
<font color="#E5E5E5">device that happens to you know be</font>

1333
00:51:17,390 --> 00:51:20,029
structured roughly like<font color="#CCCCCC"> it</font>

1334
00:51:18,860 --> 00:51:21,290
current<font color="#CCCCCC"> pc but if you look at the</font>

1335
00:51:20,030 --> 00:51:22,160
details so many things are completely

1336
00:51:21,290 --> 00:51:23,660
different

1337
00:51:22,160 --> 00:51:25,970
it really<font color="#E5E5E5"> isn't a</font><font color="#CCCCCC"> pc-like on</font><font color="#E5E5E5"> the next</font><font color="#CCCCCC"> I</font>

1338
00:51:23,660 --> 00:51:29,120
had to define<font color="#CCCCCC"> you know some parts</font><font color="#E5E5E5"> ps4</font>

1339
00:51:25,970 --> 00:51:29,990
<font color="#E5E5E5">it's actually six but it's not a</font><font color="#CCCCCC"> pc and</font>

1340
00:51:29,120 --> 00:51:31,700
that's actually very important

1341
00:51:29,990 --> 00:51:33,020
distinction because there's a lot of you

1342
00:51:31,700 --> 00:51:34,759
know things you've never heard of that

1343
00:51:33,020 --> 00:51:36,920
<font color="#CCCCCC">are x86 whatnot pcs like for example</font>

1344
00:51:34,760 --> 00:51:43,160
<font color="#E5E5E5">there's a high chance your monitor at</font>

1345
00:51:36,920 --> 00:51:44,600
home<font color="#CCCCCC"> has an 81 860 unit</font><font color="#E5E5E5"> so yeah so</font>

1346
00:51:43,160 --> 00:51:46,399
<font color="#E5E5E5">nobody's</font><font color="#CCCCCC"> pulling at the microphones</font>

1347
00:51:44,600 --> 00:51:47,440
<font color="#E5E5E5">anymore</font><font color="#CCCCCC"> stay one last question from the</font>

1348
00:51:46,400 --> 00:51:54,100
<font color="#E5E5E5">internet</font>

1349
00:51:47,440 --> 00:52:00,580
yes<font color="#E5E5E5"> service and arm the question is</font><font color="#CCCCCC"> 122</font>

1350
00:51:54,100 --> 00:52:03,580
<font color="#E5E5E5">if there was any description needed</font><font color="#CCCCCC"> no</font>

1351
00:52:00,580 --> 00:52:06,160
<font color="#CCCCCC">so this is purely you know you</font><font color="#E5E5E5"> exploit</font>

1352
00:52:03,580 --> 00:52:08,440
<font color="#CCCCCC">WebKit you get user mode</font><font color="#E5E5E5"> you exploit the</font>

1353
00:52:06,160 --> 00:52:08,890
<font color="#E5E5E5">colonel you got</font><font color="#CCCCCC"> current node we jump</font>

1354
00:52:08,440 --> 00:52:10,780
clinic

1355
00:52:08,890 --> 00:52:12,520
there's no security like there's nothing

1356
00:52:10,780 --> 00:52:14,350
like stopping you from doing<font color="#CCCCCC"> other stuff</font>

1357
00:52:12,520 --> 00:52:15,460
<font color="#CCCCCC">that they said the sandbox and freebsd</font>

1358
00:52:14,350 --> 00:52:19,450
but obviously you<font color="#E5E5E5"> exploit around the</font>

1359
00:52:15,460 --> 00:52:20,650
sandbox<font color="#E5E5E5"> like there's nothing</font><font color="#CCCCCC"> there</font>

1360
00:52:19,450 --> 00:52:22,180
<font color="#E5E5E5">there's no hypervisor there's no</font>

1361
00:52:20,650 --> 00:52:23,230
monitoring there's nothing like saying

1362
00:52:22,180 --> 00:52:26,319
all this<font color="#CCCCCC"> code should not be running</font>

1363
00:52:23,230 --> 00:52:27,520
<font color="#E5E5E5">there's no like integrity checking</font><font color="#CCCCCC"> you</font>

1364
00:52:26,320 --> 00:52:29,380
know they have a security architecture

1365
00:52:27,520 --> 00:52:33,520
but<font color="#E5E5E5"> as</font><font color="#CCCCCC"> this tradition for sony</font><font color="#E5E5E5"> you can</font>

1366
00:52:29,380 --> 00:52:40,630
just walk around it<font color="#E5E5E5"> so yeah the on the</font>

1367
00:52:33,520 --> 00:52:43,000
<font color="#E5E5E5">the ps3 was notable for the fact that</font>

1368
00:52:40,630 --> 00:52:44,380
the<font color="#CCCCCC"> piece</font><font color="#E5E5E5"> jailbreak which is a USB is</font>

1369
00:52:43,000 --> 00:52:48,790
effectively piracy device that was

1370
00:52:44,380 --> 00:52:50,830
released by someone that<font color="#CCCCCC"> basically</font><font color="#E5E5E5"> use</font>

1371
00:52:48,790 --> 00:52:52,240
the USB<font color="#E5E5E5"> expert in the</font><font color="#CCCCCC"> colonel and only</font>

1372
00:52:50,830 --> 00:52:53,799
use<font color="#CCCCCC"> we</font><font color="#E5E5E5"> expert in the</font><font color="#CCCCCC"> colonel to</font>

1373
00:52:52,240 --> 00:52:55,479
<font color="#CCCCCC">effective enable piracy so when you</font><font color="#E5E5E5"> have</font>

1374
00:52:53,800 --> 00:52:57,160
<font color="#CCCCCC">like a stack of security and you break</font>

1375
00:52:55,480 --> 00:52:58,870
one thing and you get piracy<font color="#CCCCCC"> that's a</font>

1376
00:52:57,160 --> 00:53:00,069
fail<font color="#CCCCCC"> this</font><font color="#E5E5E5"> is basically the same idea</font>

1377
00:52:58,870 --> 00:53:03,940
except<font color="#CCCCCC"> i have no idea what you need to</font>

1378
00:53:00,070 --> 00:53:04,810
<font color="#CCCCCC">do</font><font color="#E5E5E5"> piracy and</font><font color="#CCCCCC"> I</font><font color="#E5E5E5"> don't care but</font><font color="#CCCCCC"> yeah</font><font color="#E5E5E5"> and</font>

1379
00:53:03,940 --> 00:53:10,750
<font color="#E5E5E5">so he doesn't really know how</font><font color="#CCCCCC"> to</font>

1380
00:53:04,810 --> 00:53:12,009
<font color="#CCCCCC">architect</font><font color="#E5E5E5"> security systems</font><font color="#CCCCCC"> at all</font><font color="#E5E5E5"> right</font>

1381
00:53:10,750 --> 00:53:12,770
thank you<font color="#E5E5E5"> very much we go that's your</font>

1382
00:53:12,010 --> 00:53:21,410
<font color="#E5E5E5">clothes</font>

1383
00:53:12,770 --> 00:53:48,500
[Applause]

1384
00:53:21,410 --> 00:53:48,500
[Music]

