1
00:00:21,300 --> 00:00:24,199
I thank you all for coming

2
00:00:24,199 --> 00:00:26,340
it is fun to be able to get this

3
00:00:26,340 --> 00:00:28,380
application in front of people and not

4
00:00:28,380 --> 00:00:31,380
screen so you know I really appreciate

5
00:00:31,380 --> 00:00:33,180
you folks being here

6
00:00:33,180 --> 00:00:35,340
um my goal with this talk is to make

7
00:00:35,340 --> 00:00:37,200
this interaction because number one

8
00:00:37,200 --> 00:00:39,120
otherwise everyone jumping jacks because

9
00:00:39,120 --> 00:00:40,500
I know most of you in the audience are

10
00:00:40,500 --> 00:00:41,879
like holy crap it's really freaking cool

11
00:00:41,879 --> 00:00:46,218
money and I'm the person going oh

12
00:00:51,600 --> 00:00:53,820
all right

13
00:00:53,820 --> 00:00:56,039
so this is a little bit about me I won't

14
00:00:56,039 --> 00:00:58,199
spend a lot of time I do a lot of things

15
00:00:58,199 --> 00:01:00,239
I have some degrees I do a lot of

16
00:01:00,239 --> 00:01:01,920
conferences

17
00:01:01,920 --> 00:01:03,239
um you know if you've got questions

18
00:01:03,239 --> 00:01:05,700
about me or whatever the important thing

19
00:01:05,700 --> 00:01:08,060
on the slide

20
00:01:08,520 --> 00:01:11,760
that is my uh adopting squash and we'll

21
00:01:11,760 --> 00:01:13,619
follow through his name is flush that is

22
00:01:13,619 --> 00:01:15,000
the most important thing

23
00:01:15,000 --> 00:01:17,420
because

24
00:01:18,920 --> 00:01:21,020
stop

25
00:01:21,020 --> 00:01:24,180
oh no

26
00:01:24,180 --> 00:01:26,540
okay

27
00:01:27,320 --> 00:01:29,840
all right

28
00:01:29,840 --> 00:01:32,040
all right so this is what we're going to

29
00:01:32,040 --> 00:01:33,659
talk about today

30
00:01:33,659 --> 00:01:35,759
um how many of you first of all know a

31
00:01:35,759 --> 00:01:37,560
whole lot about email attribution and

32
00:01:37,560 --> 00:01:39,240
how it all works

33
00:01:39,240 --> 00:01:40,799
all right so you're probably gonna be

34
00:01:40,799 --> 00:01:42,600
bored eventually I'll add a little

35
00:01:42,600 --> 00:01:44,100
something to make you done already now

36
00:01:44,100 --> 00:01:45,960
and for the rest of you some of you

37
00:01:45,960 --> 00:01:48,119
going like a little maybe you'll pick

38
00:01:48,119 --> 00:01:50,579
something up you didn't already know

39
00:01:50,579 --> 00:01:51,960
um but we'll start with a little bit of

40
00:01:51,960 --> 00:01:53,880
history of email because a lot of folks

41
00:01:53,880 --> 00:01:56,520
can do email and do security

42
00:01:56,520 --> 00:01:58,740
you don't know about the history of

43
00:01:58,740 --> 00:02:01,140
email and therefore why we have a

44
00:02:01,140 --> 00:02:02,159
problem

45
00:02:02,159 --> 00:02:03,960
we have and I find it's instructive to

46
00:02:03,960 --> 00:02:05,939
have a little piece of that history to

47
00:02:05,939 --> 00:02:08,459
understand that

48
00:02:08,459 --> 00:02:09,660
um we're going to talk in particular

49
00:02:09,660 --> 00:02:11,160
about something called the envelope

50
00:02:11,160 --> 00:02:13,200
versus the header how many of you have

51
00:02:13,200 --> 00:02:14,819
heard and had or he knows

52
00:02:14,819 --> 00:02:17,520
how they both do yeah okay how many of

53
00:02:17,520 --> 00:02:19,260
you know the difference between the

54
00:02:19,260 --> 00:02:21,420
envelope and the head and articulate

55
00:02:21,420 --> 00:02:23,840
that to me

56
00:02:23,840 --> 00:02:26,099
so that's why we're going to talk about

57
00:02:26,099 --> 00:02:28,440
them right because your users don't know

58
00:02:28,440 --> 00:02:31,260
that either and so when you're trying to

59
00:02:31,260 --> 00:02:33,720
understand did this message originate in

60
00:02:33,720 --> 00:02:35,040
the place that you think it might have

61
00:02:35,040 --> 00:02:36,900
originated it's really handy to

62
00:02:36,900 --> 00:02:38,760
understand how those pieces are built

63
00:02:38,760 --> 00:02:40,920
and why they're different

64
00:02:40,920 --> 00:02:42,900
so we'll talk a little bit about client

65
00:02:42,900 --> 00:02:44,760
server communication which is where

66
00:02:44,760 --> 00:02:46,800
we'll see some of that in action and

67
00:02:46,800 --> 00:02:48,239
then we'll finally get to moving ahead

68
00:02:48,239 --> 00:02:51,420
of our message an actual piece of

69
00:02:51,420 --> 00:02:52,860
garbage message that we got at the

70
00:02:52,860 --> 00:02:54,599
University and we'll walk through some

71
00:02:54,599 --> 00:02:56,459
of the Hub and we'll look at how you

72
00:02:56,459 --> 00:02:58,140
read a header and like what some of the

73
00:02:58,140 --> 00:03:00,599
information out of it we'll talk about

74
00:03:00,599 --> 00:03:02,459
finding those headers because sometimes

75
00:03:02,459 --> 00:03:03,900
that's a challenge

76
00:03:03,900 --> 00:03:05,519
um and then how do you report this stuff

77
00:03:05,519 --> 00:03:07,739
right so you know something specific you

78
00:03:07,739 --> 00:03:09,300
know it's scary you know it's bad but

79
00:03:09,300 --> 00:03:12,000
how are you doing it because most of us

80
00:03:12,000 --> 00:03:14,159
go away it was bad to leave it awesome

81
00:03:14,159 --> 00:03:17,340
and then it just keeps coming now I will

82
00:03:17,340 --> 00:03:20,400
tell you obviously if you recorded this

83
00:03:20,400 --> 00:03:22,980
does not guarantee the bad is stopped

84
00:03:22,980 --> 00:03:25,140
but I can also tell you that somebody

85
00:03:25,140 --> 00:03:27,379
who does report a lot of this stuff

86
00:03:27,379 --> 00:03:30,959
legitimate agencies milk in fact

87
00:03:30,959 --> 00:03:33,360
do something about it um I I

88
00:03:33,360 --> 00:03:35,220
particularly like to invite other

89
00:03:35,220 --> 00:03:36,959
universities you know hey you actually

90
00:03:36,959 --> 00:03:39,360
have a compromise account and they're

91
00:03:39,360 --> 00:03:41,700
usually really really cool and likewise

92
00:03:41,700 --> 00:03:43,260
let us know

93
00:03:43,260 --> 00:03:45,379
um and we get notifications all the time

94
00:03:45,379 --> 00:03:49,080
that you know oh you have some person

95
00:03:49,080 --> 00:03:50,879
sending garbage and that was one of the

96
00:03:50,879 --> 00:03:53,220
things I have to figure out

97
00:03:53,220 --> 00:03:56,000
so again that's

98
00:03:56,280 --> 00:04:00,599
what we have here is this fun soft uh

99
00:04:00,599 --> 00:04:03,540
fun image oh we lost

100
00:04:03,540 --> 00:04:05,819
and there it goes well hopefully it will

101
00:04:05,819 --> 00:04:09,859
come back like it did before uh

102
00:04:12,780 --> 00:04:15,180
that's the fun image of birds yes well

103
00:04:15,180 --> 00:04:16,620
I'll talk a little bit about the history

104
00:04:16,620 --> 00:04:18,899
uh while we're waiting for that image to

105
00:04:18,899 --> 00:04:20,639
hopefully return

106
00:04:20,639 --> 00:04:23,840
to see what happens here

107
00:04:25,560 --> 00:04:29,300
because my slide actually advanced

108
00:04:31,740 --> 00:04:36,300
all right cool so um so what you can see

109
00:04:36,300 --> 00:04:38,280
in that if you look very carefully in

110
00:04:38,280 --> 00:04:40,919
that little box in the top right you see

111
00:04:40,919 --> 00:04:43,139
a picture from 1969 and this is kind of

112
00:04:43,139 --> 00:04:45,540
the beginning of you know collaborative

113
00:04:45,540 --> 00:04:48,120
Computing where you see the first email

114
00:04:48,120 --> 00:04:51,240
box in MIT it was an application that

115
00:04:51,240 --> 00:04:53,820
sat on one machine and users that shared

116
00:04:53,820 --> 00:04:55,440
the machine could share messages between

117
00:04:55,440 --> 00:04:57,540
each other so it did not work like email

118
00:04:57,540 --> 00:04:58,979
that we think of today because it didn't

119
00:04:58,979 --> 00:05:01,500
go anywhere it just was like Hey person

120
00:05:01,500 --> 00:05:05,160
on machine uh I did this thing and you

121
00:05:05,160 --> 00:05:06,600
should probably know that we saw

122
00:05:06,600 --> 00:05:09,360
whatever blah blah blah so that's kind

123
00:05:09,360 --> 00:05:11,400
of the the background behind that so you

124
00:05:11,400 --> 00:05:12,360
can only view it on the same computer

125
00:05:12,360 --> 00:05:14,880
fast forward a few years and we get to

126
00:05:14,880 --> 00:05:17,040
something called arpanet now the history

127
00:05:17,040 --> 00:05:19,080
of arpanet is really the history of the

128
00:05:19,080 --> 00:05:20,880
internet and the whole point of arpanet

129
00:05:20,880 --> 00:05:23,699
was that you had four colleges that all

130
00:05:23,699 --> 00:05:27,380
had mainframes and those mainframes

131
00:05:27,380 --> 00:05:31,199
needed some way to have a backup for

132
00:05:31,199 --> 00:05:32,100
each other

133
00:05:32,100 --> 00:05:35,039
and if you read certain pieces of

134
00:05:35,039 --> 00:05:36,840
documentation it will tell you it was

135
00:05:36,840 --> 00:05:38,759
because of the war and they were worried

136
00:05:38,759 --> 00:05:40,919
about if stuffing it that's not really

137
00:05:40,919 --> 00:05:43,500
true they really just wanted a backup

138
00:05:43,500 --> 00:05:45,900
system so if one failed they can

139
00:05:45,900 --> 00:05:47,639
continue research on the other I mean it

140
00:05:47,639 --> 00:05:50,820
was really research driven despite some

141
00:05:50,820 --> 00:05:53,639
of the worst stuff you hear so that's

142
00:05:53,639 --> 00:05:55,320
that's really where we see the first

143
00:05:55,320 --> 00:05:57,479
instance of email that looks anything

144
00:05:57,479 --> 00:06:00,120
like we have today except of course it

145
00:06:00,120 --> 00:06:01,860
was restricted to arpanet so it was only

146
00:06:01,860 --> 00:06:04,740
those few little pieces

147
00:06:04,740 --> 00:06:06,900
um then if you fast forward a couple

148
00:06:06,900 --> 00:06:09,060
more years then we get much closer to

149
00:06:09,060 --> 00:06:11,940
what we think of today with email so you

150
00:06:11,940 --> 00:06:13,919
know and it's used again for internal

151
00:06:13,919 --> 00:06:16,139
Communications Within These arpanet

152
00:06:16,139 --> 00:06:18,539
nodes which were all colleges all doing

153
00:06:18,539 --> 00:06:20,820
research and you can see as this

154
00:06:20,820 --> 00:06:23,160
explodes there's more and more nodes so

155
00:06:23,160 --> 00:06:24,660
this is really kind of a history both of

156
00:06:24,660 --> 00:06:26,880
email and the internet

157
00:06:26,880 --> 00:06:29,340
um the current RFC the request for

158
00:06:29,340 --> 00:06:30,720
comment for those of you not familiar

159
00:06:30,720 --> 00:06:35,699
with rfcs is 53.21 and it's about

160
00:06:35,699 --> 00:06:38,220
SMTP the simple mail transfer protocol

161
00:06:38,220 --> 00:06:41,520
and that's what dictates this is how

162
00:06:41,520 --> 00:06:43,500
mail messages get sent from here to

163
00:06:43,500 --> 00:06:44,880
there

164
00:06:44,880 --> 00:06:48,780
it came out a long time ago and the most

165
00:06:48,780 --> 00:06:51,120
recent one was in 2008 they added some

166
00:06:51,120 --> 00:06:52,680
additions

167
00:06:52,680 --> 00:06:57,360
um the in 2015 7504 added this the D

168
00:06:57,360 --> 00:06:58,979
mark and D Kim and all that stuff that

169
00:06:58,979 --> 00:07:01,199
we'll talk about later so this goes back

170
00:07:01,199 --> 00:07:03,900
a long long while if you're super duper

171
00:07:03,900 --> 00:07:05,520
geepy and you really want to understand

172
00:07:05,520 --> 00:07:07,199
more nuts and bolts that's where you

173
00:07:07,199 --> 00:07:09,780
would go and look at it

174
00:07:09,780 --> 00:07:11,280
all right

175
00:07:11,280 --> 00:07:13,800
I don't think it likes my graphic

176
00:07:13,800 --> 00:07:15,600
I think it doesn't like the the image

177
00:07:15,600 --> 00:07:17,940
the next image

178
00:07:17,940 --> 00:07:20,340
yeah it doesn't like that

179
00:07:20,340 --> 00:07:22,680
it's it's skipping

180
00:07:22,680 --> 00:07:25,580
it's skipping pictures

181
00:07:28,259 --> 00:07:30,479
all right so the images you can't see

182
00:07:30,479 --> 00:07:33,080
here is burning fire

183
00:07:33,080 --> 00:07:37,620
and what it says is uh the burning

184
00:07:37,620 --> 00:07:40,319
question right which is where did this

185
00:07:40,319 --> 00:07:42,180
message originate that's really what

186
00:07:42,180 --> 00:07:44,220
what you can't see because for whatever

187
00:07:44,220 --> 00:07:45,960
reason it doesn't want to show you that

188
00:07:45,960 --> 00:07:50,239
so we'll skip ahead to the next slide

189
00:07:50,340 --> 00:07:52,800
and hopefully it will just go there uh

190
00:07:52,800 --> 00:07:54,900
and then we'll get to DNS there we go

191
00:07:54,900 --> 00:07:57,360
DNS used an email so how many of you

192
00:07:57,360 --> 00:07:59,280
know about DNS and sort of the basics of

193
00:07:59,280 --> 00:08:00,539
DNS

194
00:08:00,539 --> 00:08:03,060
most of you okay how many of you know

195
00:08:03,060 --> 00:08:05,099
how this works in email

196
00:08:05,099 --> 00:08:07,800
probably less of you okay

197
00:08:07,800 --> 00:08:09,000
so

198
00:08:09,000 --> 00:08:12,060
the important bit here is that it's

199
00:08:12,060 --> 00:08:13,860
still doing number to name translation

200
00:08:13,860 --> 00:08:15,180
this is what we're basically all

201
00:08:15,180 --> 00:08:17,460
familiar with the piece that email adds

202
00:08:17,460 --> 00:08:20,639
are these MX records and MX records are

203
00:08:20,639 --> 00:08:22,860
essentially what say hey I have email

204
00:08:22,860 --> 00:08:24,919
for this domain

205
00:08:24,919 --> 00:08:27,539
what are the addresses of the mail

206
00:08:27,539 --> 00:08:28,680
servers that

207
00:08:28,680 --> 00:08:30,840
you're that you use to send mail and

208
00:08:30,840 --> 00:08:33,899
receive mail and so DNS spits that

209
00:08:33,899 --> 00:08:36,059
information back and that's very handy

210
00:08:36,059 --> 00:08:39,779
now as I you know mention

211
00:08:39,779 --> 00:08:42,899
um the a records are going to be the IP

212
00:08:42,899 --> 00:08:44,820
associated with the host so here's how

213
00:08:44,820 --> 00:08:47,100
this works

214
00:08:47,100 --> 00:08:49,740
so it says I want to send something to

215
00:08:49,740 --> 00:08:52,440
user at example.com it's going to look

216
00:08:52,440 --> 00:08:55,200
for the NS record once it knows this is

217
00:08:55,200 --> 00:08:56,940
the information about the domain it's

218
00:08:56,940 --> 00:08:58,800
going to query and say well what MX

219
00:08:58,800 --> 00:09:01,980
records where's the mail server and if

220
00:09:01,980 --> 00:09:05,459
it has one it's going to return it and

221
00:09:05,459 --> 00:09:07,320
if there isn't and this is sort of an

222
00:09:07,320 --> 00:09:09,600
interesting little tidbit let's say your

223
00:09:09,600 --> 00:09:11,040
company doesn't have an MX record

224
00:09:11,040 --> 00:09:12,779
because they've been using an a record

225
00:09:12,779 --> 00:09:14,580
all these years because it will default

226
00:09:14,580 --> 00:09:16,980
to whatever your default IP address is

227
00:09:16,980 --> 00:09:19,800
in that a record and it will say

228
00:09:19,800 --> 00:09:21,899
I'll just send it there if there's no MX

229
00:09:21,899 --> 00:09:24,420
record so there's some weird routing

230
00:09:24,420 --> 00:09:25,800
things that go on just because this is

231
00:09:25,800 --> 00:09:28,819
the way it was designed

232
00:09:28,980 --> 00:09:31,920
all right this is the problem

233
00:09:31,920 --> 00:09:34,860
and this is less of a problem in the U.S

234
00:09:34,860 --> 00:09:36,540
especially today than it was many many

235
00:09:36,540 --> 00:09:37,860
years ago

236
00:09:37,860 --> 00:09:39,360
but how many of you are familiar with

237
00:09:39,360 --> 00:09:41,820
this concept of the open relay

238
00:09:41,820 --> 00:09:43,740
at least a good number of you so for

239
00:09:43,740 --> 00:09:45,180
those of you who aren't familiar with

240
00:09:45,180 --> 00:09:46,800
this open relay

241
00:09:46,800 --> 00:09:48,720
the problem is that your mail servers

242
00:09:48,720 --> 00:09:50,279
are not just randomly supposed to accept

243
00:09:50,279 --> 00:09:52,200
messages from anyone anywhere because

244
00:09:52,200 --> 00:09:54,600
that's bad and then shuttle them along

245
00:09:54,600 --> 00:09:57,060
somewhere else but we still see open

246
00:09:57,060 --> 00:10:00,120
relays and when there are open relays

247
00:10:00,120 --> 00:10:03,180
they will in fact accept messages from

248
00:10:03,180 --> 00:10:05,000
anyone to anywhere and they don't care

249
00:10:05,000 --> 00:10:08,040
this little block here of dots is what

250
00:10:08,040 --> 00:10:11,519
they should restrict to it should only

251
00:10:11,519 --> 00:10:14,820
be local IP addresses local mailboxes

252
00:10:14,820 --> 00:10:19,260
meaning within that domain

253
00:10:19,440 --> 00:10:21,120
um or one of these other

254
00:10:21,120 --> 00:10:23,880
permutations

255
00:10:23,880 --> 00:10:25,740
all right so here's where we get to the

256
00:10:25,740 --> 00:10:27,420
envelope versus header thing and we're

257
00:10:27,420 --> 00:10:29,160
going to see why this matters when I

258
00:10:29,160 --> 00:10:31,680
show you a conversation between the

259
00:10:31,680 --> 00:10:33,660
client and the server and I mentioned

260
00:10:33,660 --> 00:10:37,380
SMTP and esmtp which really it's just a

261
00:10:37,380 --> 00:10:39,899
a newer version of SMTP but it basically

262
00:10:39,899 --> 00:10:42,420
works the same way so the difference

263
00:10:42,420 --> 00:10:45,000
between the envelope and the headers

264
00:10:45,000 --> 00:10:48,480
is that the envelope is generated as the

265
00:10:48,480 --> 00:10:51,000
message is generated if you do this at a

266
00:10:51,000 --> 00:10:53,820
command line you can actually see this

267
00:10:53,820 --> 00:10:56,100
if you do not do this at a command line

268
00:10:56,100 --> 00:10:58,800
unless you're running Wireshark you will

269
00:10:58,800 --> 00:11:01,560
never ever ever see the envelope but

270
00:11:01,560 --> 00:11:03,600
people confuse the term envelope because

271
00:11:03,600 --> 00:11:06,720
they think U.S Postal Service with

272
00:11:06,720 --> 00:11:09,660
headers and envelope they sort of cross

273
00:11:09,660 --> 00:11:11,040
this information

274
00:11:11,040 --> 00:11:12,899
we're going to see in a minute why this

275
00:11:12,899 --> 00:11:14,760
matters so

276
00:11:14,760 --> 00:11:16,320
part of that creation is going to

277
00:11:16,320 --> 00:11:18,899
contain all of this info the send the

278
00:11:18,899 --> 00:11:21,480
from and the receipt to

279
00:11:21,480 --> 00:11:23,339
and that's what the servers are going to

280
00:11:23,339 --> 00:11:25,140
use to Route the message

281
00:11:25,140 --> 00:11:26,880
it doesn't matter whether it's

282
00:11:26,880 --> 00:11:29,399
legitimate or not legitimate it's just

283
00:11:29,399 --> 00:11:31,200
going to use that information around the

284
00:11:31,200 --> 00:11:33,060
message keep that in mind

285
00:11:33,060 --> 00:11:37,140
so again users can't see this now it is

286
00:11:37,140 --> 00:11:39,959
incredibly easy to mess with

287
00:11:39,959 --> 00:11:42,120
I was taught literally how to do this at

288
00:11:42,120 --> 00:11:44,459
a command line and you can send mail so

289
00:11:44,459 --> 00:11:46,220
it looks from anyone from anywhere right

290
00:11:46,220 --> 00:11:48,839
we many of us know this not everybody

291
00:11:48,839 --> 00:11:51,660
knows this and they don't unnecessarily

292
00:11:51,660 --> 00:11:54,480
understand why that's the case and this

293
00:11:54,480 --> 00:11:55,500
is the case

294
00:11:55,500 --> 00:11:57,899
and so there are now clients you can buy

295
00:11:57,899 --> 00:12:00,240
that will just let you do this but

296
00:12:00,240 --> 00:12:01,800
people who are only using those clients

297
00:12:01,800 --> 00:12:04,500
have never seen how this actually works

298
00:12:04,500 --> 00:12:06,839
they don't necessarily understand what

299
00:12:06,839 --> 00:12:08,220
they're doing when they're sending

300
00:12:08,220 --> 00:12:10,380
fraudulent email right did you have a

301
00:12:10,380 --> 00:12:12,500
question

302
00:12:13,260 --> 00:12:15,060
yes

303
00:12:15,060 --> 00:12:16,260
yes

304
00:12:16,260 --> 00:12:17,940
and when I when I say from the command

305
00:12:17,940 --> 00:12:19,140
line that's exactly what I'm talking

306
00:12:19,140 --> 00:12:21,420
about yep absolutely is there another

307
00:12:21,420 --> 00:12:23,640
comment question

308
00:12:23,640 --> 00:12:26,399
okay so yes exactly that's exactly what

309
00:12:26,399 --> 00:12:28,260
I'm talking about the header on the

310
00:12:28,260 --> 00:12:30,600
other hand is the thing that if you open

311
00:12:30,600 --> 00:12:33,839
the client and you dig into you can find

312
00:12:33,839 --> 00:12:36,360
and that is what gets written as the

313
00:12:36,360 --> 00:12:38,459
message gets forwarded along from server

314
00:12:38,459 --> 00:12:41,160
to server by the time it starts down

315
00:12:41,160 --> 00:12:43,980
this path all of this is gone

316
00:12:43,980 --> 00:12:46,560
you don't see this so unless you're

317
00:12:46,560 --> 00:12:48,959
doing it a telnet on that command line

318
00:12:48,959 --> 00:12:51,120
or you're watching Wireshark you will

319
00:12:51,120 --> 00:12:53,220
never see the envelope

320
00:12:53,220 --> 00:12:55,500
so headers

321
00:12:55,500 --> 00:12:58,320
are more difficult to forge because

322
00:12:58,320 --> 00:12:59,760
they're moving from machine to machine

323
00:12:59,760 --> 00:13:01,980
it's not impossible but it's a little

324
00:13:01,980 --> 00:13:04,139
more challenging envelope is super easy

325
00:13:04,139 --> 00:13:05,940
to forge

326
00:13:05,940 --> 00:13:08,220
so I love to refer to this as the

327
00:13:08,220 --> 00:13:10,440
dubious from field when I'm teaching end

328
00:13:10,440 --> 00:13:13,860
users I use this all the time and it

329
00:13:13,860 --> 00:13:17,399
usually helps them remember like oh this

330
00:13:17,399 --> 00:13:19,320
is like weird and I should probably

331
00:13:19,320 --> 00:13:21,600
remember when I see from it may not

332
00:13:21,600 --> 00:13:25,260
actually be from who it says it's from

333
00:13:25,260 --> 00:13:27,120
so this is what I was talking about with

334
00:13:27,120 --> 00:13:29,040
the conversation

335
00:13:29,040 --> 00:13:29,880
um

336
00:13:29,880 --> 00:13:33,000
it starts out on the left hand side and

337
00:13:33,000 --> 00:13:34,680
goes to the right hand side the left

338
00:13:34,680 --> 00:13:38,880
hand side here and I'm I have a a tool

339
00:13:38,880 --> 00:13:40,440
that actually lets me highlight some of

340
00:13:40,440 --> 00:13:42,779
this but I have a feeling this projector

341
00:13:42,779 --> 00:13:44,339
doesn't like it so I'm not going to try

342
00:13:44,339 --> 00:13:46,440
to use it so I'm going to point and if

343
00:13:46,440 --> 00:13:48,839
you have questions just ask so on this

344
00:13:48,839 --> 00:13:51,959
top left we say I have a message for

345
00:13:51,959 --> 00:13:53,820
somebody at a particular domain

346
00:13:53,820 --> 00:13:57,779
and so the first thing we see is h e l o

347
00:13:57,779 --> 00:14:00,240
so for those of you who didn't get the E

348
00:14:00,240 --> 00:14:02,760
hello joke there are two ways you can

349
00:14:02,760 --> 00:14:05,220
say hello to a mail server one is hello

350
00:14:05,220 --> 00:14:08,399
h e l o and the other is e flow it it

351
00:14:08,399 --> 00:14:10,260
again it's just sort of an updated

352
00:14:10,260 --> 00:14:13,200
version of that same conversation that's

353
00:14:13,200 --> 00:14:15,959
where the e flow comes from so then the

354
00:14:15,959 --> 00:14:18,060
server is going to answer and say hey I

355
00:14:18,060 --> 00:14:20,700
can send mail for that domain cool

356
00:14:20,700 --> 00:14:22,079
here are some

357
00:14:22,079 --> 00:14:23,880
MX records right because we talked about

358
00:14:23,880 --> 00:14:25,079
how that works

359
00:14:25,079 --> 00:14:27,240
then it's going to send the message now

360
00:14:27,240 --> 00:14:28,380
this is what I was talking about with

361
00:14:28,380 --> 00:14:30,540
the envelope so we have the mail from

362
00:14:30,540 --> 00:14:33,180
this is the address because that's what

363
00:14:33,180 --> 00:14:35,760
you've told it and they say okay who's

364
00:14:35,760 --> 00:14:39,420
it for well it's sending to this example

365
00:14:39,420 --> 00:14:42,180
all right what's the message now

366
00:14:42,180 --> 00:14:44,519
in the the data box now I didn't create

367
00:14:44,519 --> 00:14:46,380
this image but note the little box that

368
00:14:46,380 --> 00:14:48,660
I did create which says the data portion

369
00:14:48,660 --> 00:14:51,180
of the message will usually contain two

370
00:14:51,180 --> 00:14:52,740
from and date

371
00:14:52,740 --> 00:14:55,019
what do you think your end user is

372
00:14:55,019 --> 00:14:57,420
seeing when they see two from and date

373
00:14:57,420 --> 00:15:00,260
in a message

374
00:15:02,300 --> 00:15:05,339
right but but but what are they seeing

375
00:15:05,339 --> 00:15:09,139
as far as what part of the mail message

376
00:15:09,920 --> 00:15:12,420
they're not seeing the headers they're

377
00:15:12,420 --> 00:15:15,720
seeing the data portion and that my

378
00:15:15,720 --> 00:15:18,060
friend is exactly why this is a problem

379
00:15:18,060 --> 00:15:21,300
because you can put anything you want

380
00:15:21,300 --> 00:15:23,519
in here

381
00:15:23,519 --> 00:15:26,399
anything at all

382
00:15:26,399 --> 00:15:30,060
so the end user is only seeing that data

383
00:15:30,060 --> 00:15:32,040
portion they're not seeing the headers

384
00:15:32,040 --> 00:15:34,560
they never saw the envelope the server

385
00:15:34,560 --> 00:15:37,620
saw the envelope and if the server isn't

386
00:15:37,620 --> 00:15:39,240
stopped from sending a message because

387
00:15:39,240 --> 00:15:41,160
there aren't some rules saying I can't

388
00:15:41,160 --> 00:15:43,500
accept messages for this domain

389
00:15:43,500 --> 00:15:46,199
it will send it it doesn't care who you

390
00:15:46,199 --> 00:15:50,880
are because it's allowed to send so this

391
00:15:50,880 --> 00:15:53,459
is the fraudulent piece that attackers

392
00:15:53,459 --> 00:15:56,100
are effectively using to get at end

393
00:15:56,100 --> 00:15:58,459
users

394
00:15:58,560 --> 00:16:00,240
and most people don't necessarily

395
00:16:00,240 --> 00:16:02,639
understand that piece

396
00:16:02,639 --> 00:16:04,019
so

397
00:16:04,019 --> 00:16:06,300
here's all message all right I got it

398
00:16:06,300 --> 00:16:09,480
quit goodbye so you know for those of

399
00:16:09,480 --> 00:16:11,940
you who've not sat down at Port 25 tell

400
00:16:11,940 --> 00:16:13,680
netting in and doing this a command line

401
00:16:13,680 --> 00:16:15,899
This is the conversation going on when

402
00:16:15,899 --> 00:16:17,940
you open your outlook client or your

403
00:16:17,940 --> 00:16:20,100
Gmail client or whatever and those two

404
00:16:20,100 --> 00:16:22,079
things are talking and you're sending

405
00:16:22,079 --> 00:16:25,019
mail and there's lots of ways to to you

406
00:16:25,019 --> 00:16:27,360
know subvert that

407
00:16:27,360 --> 00:16:30,899
so here is an actual message

408
00:16:30,899 --> 00:16:33,480
that we had at the University and we get

409
00:16:33,480 --> 00:16:37,139
these things all the time these are

410
00:16:37,139 --> 00:16:39,180
employment scams

411
00:16:39,180 --> 00:16:41,100
tell your friends tell your family tell

412
00:16:41,100 --> 00:16:42,779
your cousins tell your aunts tell your

413
00:16:42,779 --> 00:16:44,100
uncles

414
00:16:44,100 --> 00:16:46,560
tell everybody you know employment scams

415
00:16:46,560 --> 00:16:48,839
are a thing and watch out for them

416
00:16:48,839 --> 00:16:52,320
because we see it at all ages in all job

417
00:16:52,320 --> 00:16:54,779
types it doesn't matter

418
00:16:54,779 --> 00:16:57,120
and I've

419
00:16:57,120 --> 00:16:59,519
erased who it looks like it's from but

420
00:16:59,519 --> 00:17:00,779
what domain does it look like it's

421
00:17:00,779 --> 00:17:03,320
coming from

422
00:17:04,339 --> 00:17:06,540
buffalo.edu and I work at the University

423
00:17:06,540 --> 00:17:08,760
of Buffalo that's our domain

424
00:17:08,760 --> 00:17:10,380
so the minute somebody sees it they

425
00:17:10,380 --> 00:17:12,000
think it's coming from somebody at our

426
00:17:12,000 --> 00:17:15,359
University and how is it signed

427
00:17:15,359 --> 00:17:16,980
oh it's signed by somebody who

428
00:17:16,980 --> 00:17:19,020
supposedly works at the University of

429
00:17:19,020 --> 00:17:21,359
Buffalo I'm offering you this job and if

430
00:17:21,359 --> 00:17:23,220
you look up this individual in our

431
00:17:23,220 --> 00:17:25,740
directory there is a person with that

432
00:17:25,740 --> 00:17:28,380
name who does work at the University who

433
00:17:28,380 --> 00:17:30,179
is a research analyst

434
00:17:30,179 --> 00:17:31,679
so the attackers have done their

435
00:17:31,679 --> 00:17:34,980
homework they have figured out who the

436
00:17:34,980 --> 00:17:37,919
person is they can emulate and

437
00:17:37,919 --> 00:17:41,400
kids are desperate for jobs and they

438
00:17:41,400 --> 00:17:43,860
will just respond

439
00:17:43,860 --> 00:17:46,860
now anybody from Buffalo might take a

440
00:17:46,860 --> 00:17:48,360
look at that

441
00:17:48,360 --> 00:17:50,820
that the content of that message and go

442
00:17:50,820 --> 00:17:53,700
774 is not a Buffalo area code

443
00:17:53,700 --> 00:17:55,860
okay but in this day and age we can have

444
00:17:55,860 --> 00:17:58,020
phones from anywhere so they might just

445
00:17:58,020 --> 00:17:59,340
blow that off

446
00:17:59,340 --> 00:18:02,160
but this is really really really common

447
00:18:02,160 --> 00:18:04,200
now what are those what else is weird

448
00:18:04,200 --> 00:18:05,640
about this message if you're really

449
00:18:05,640 --> 00:18:08,179
looking at it

450
00:18:08,480 --> 00:18:12,179
they're applied to right okay so this

451
00:18:12,179 --> 00:18:14,760
scammer was stupid

452
00:18:14,760 --> 00:18:17,760
because where does the reply to come

453
00:18:17,760 --> 00:18:19,860
from

454
00:18:19,860 --> 00:18:22,559
well but but but how does it get in this

455
00:18:22,559 --> 00:18:23,700
message

456
00:18:23,700 --> 00:18:26,460
they put it there who

457
00:18:26,460 --> 00:18:28,919
right they actually put that in the

458
00:18:28,919 --> 00:18:31,260
message themselves in the data portion

459
00:18:31,260 --> 00:18:35,160
you don't see that that's not a thing so

460
00:18:35,160 --> 00:18:36,840
the only reason that you see that is

461
00:18:36,840 --> 00:18:39,799
because they did that

462
00:18:43,200 --> 00:18:45,919
mm-hmm

463
00:18:46,559 --> 00:18:49,340
correct

464
00:18:52,520 --> 00:18:55,799
but the smart attacker can set the reply

465
00:18:55,799 --> 00:18:59,640
to without it being shown in the message

466
00:18:59,640 --> 00:19:02,100
and that's usually a smart attacker

467
00:19:02,100 --> 00:19:04,380
won't actually put the reply to but when

468
00:19:04,380 --> 00:19:08,240
you hit reply to it will in fact do that

469
00:19:10,380 --> 00:19:12,000
yeah

470
00:19:12,000 --> 00:19:14,660
mm-hmm

471
00:19:17,460 --> 00:19:19,020
right

472
00:19:19,020 --> 00:19:21,120
it has to it has to be somebody who will

473
00:19:21,120 --> 00:19:24,020
answer legitimately

474
00:19:31,140 --> 00:19:33,900
well but what happens typically is that

475
00:19:33,900 --> 00:19:36,299
the person will answer as it's it's the

476
00:19:36,299 --> 00:19:38,340
that actor who's answering the phone as

477
00:19:38,340 --> 00:19:40,679
if they're this person

478
00:19:40,679 --> 00:19:43,220
yep

479
00:19:50,760 --> 00:19:53,539
ah

480
00:19:54,960 --> 00:19:56,960
a

481
00:19:58,020 --> 00:20:00,120
all right so

482
00:20:00,120 --> 00:20:01,260
um so what we're going to see we're

483
00:20:01,260 --> 00:20:02,580
going to take a look at the actual

484
00:20:02,580 --> 00:20:05,039
header of this message but I want to

485
00:20:05,039 --> 00:20:06,240
talk a little bit about how we're going

486
00:20:06,240 --> 00:20:09,179
to read that first I I I've given this

487
00:20:09,179 --> 00:20:11,580
talk before and I put this slide and the

488
00:20:11,580 --> 00:20:13,799
next slide I keep switching which order

489
00:20:13,799 --> 00:20:15,960
they're in but people seem to prefer

490
00:20:15,960 --> 00:20:17,400
having the here's what we're going to

491
00:20:17,400 --> 00:20:18,840
see and then we look at the slide with

492
00:20:18,840 --> 00:20:20,820
the header so we'll go back and forth as

493
00:20:20,820 --> 00:20:22,919
we sort of need to but here are the

494
00:20:22,919 --> 00:20:24,600
things you're going to look for in that

495
00:20:24,600 --> 00:20:28,020
header so remember that the headers

496
00:20:28,020 --> 00:20:30,299
appended every time the mail goes from

497
00:20:30,299 --> 00:20:32,220
one server to another so every hop

498
00:20:32,220 --> 00:20:34,679
you're going to see a new line the

499
00:20:34,679 --> 00:20:36,960
really important thing to remember is

500
00:20:36,960 --> 00:20:38,820
that you read email headers from the

501
00:20:38,820 --> 00:20:40,919
bottom up you don't read them from the

502
00:20:40,919 --> 00:20:43,200
top down we're not used to that now

503
00:20:43,200 --> 00:20:45,000
there are some male clients who will

504
00:20:45,000 --> 00:20:47,580
append email headers in the wrong order

505
00:20:47,580 --> 00:20:49,799
which is really annoying for those of us

506
00:20:49,799 --> 00:20:51,900
who've been doing this a long time so

507
00:20:51,900 --> 00:20:53,760
just be aware of that you need to pay

508
00:20:53,760 --> 00:20:57,240
attention to time and date stamps I mean

509
00:20:57,240 --> 00:20:59,160
you need to anyway because that can tell

510
00:20:59,160 --> 00:21:01,320
us some stuff about what's going on but

511
00:21:01,320 --> 00:21:03,419
just make sure that you that

512
00:21:03,419 --> 00:21:05,700
in general you're reading from bottom up

513
00:21:05,700 --> 00:21:07,440
and that is in fact what you should be

514
00:21:07,440 --> 00:21:09,360
doing so I always say read from bottom

515
00:21:09,360 --> 00:21:11,340
off like a sloth because your sloth is

516
00:21:11,340 --> 00:21:13,260
hanging upside down and reading from the

517
00:21:13,260 --> 00:21:15,539
bottom up okay so you're going to start

518
00:21:15,539 --> 00:21:17,580
it looking for the very first received

519
00:21:17,580 --> 00:21:19,140
from so what we're going to do we're

520
00:21:19,140 --> 00:21:20,400
going to look at that message header

521
00:21:20,400 --> 00:21:21,539
we're going to go to the bottom and

522
00:21:21,539 --> 00:21:23,460
we'll just scroll our eyes up until we

523
00:21:23,460 --> 00:21:25,740
see that first received from now

524
00:21:25,740 --> 00:21:28,080
sometimes there's a received from that's

525
00:21:28,080 --> 00:21:30,059
like a non-routable address and then you

526
00:21:30,059 --> 00:21:31,679
kind of have to look for the next one up

527
00:21:31,679 --> 00:21:33,720
from that the actual first legitimate

528
00:21:33,720 --> 00:21:35,340
one but basically it's the first

529
00:21:35,340 --> 00:21:37,500
received from that's where the message

530
00:21:37,500 --> 00:21:40,080
originated now this has gotten more

531
00:21:40,080 --> 00:21:42,840
complicated in the sense that now with

532
00:21:42,840 --> 00:21:43,860
like

533
00:21:43,860 --> 00:21:47,039
Office 365 mail and Gmail and some of

534
00:21:47,039 --> 00:21:48,960
these things that you know you have all

535
00:21:48,960 --> 00:21:51,299
these different companies they're using

536
00:21:51,299 --> 00:21:53,580
it it's hard to tell is this legitimate

537
00:21:53,580 --> 00:21:55,380
what you can tell is okay this came

538
00:21:55,380 --> 00:21:57,120
through Gmail and then you have to go

539
00:21:57,120 --> 00:21:58,860
back and do some searching to say does

540
00:21:58,860 --> 00:22:01,320
this company use Gmail and usually you

541
00:22:01,320 --> 00:22:03,240
can dig that out but it can be a pain in

542
00:22:03,240 --> 00:22:05,820
the butt so um we're going to look for

543
00:22:05,820 --> 00:22:08,100
inconsistencies we're gonna we're gonna

544
00:22:08,100 --> 00:22:10,200
check if there's an embedded URL does it

545
00:22:10,200 --> 00:22:12,059
match the domain like does it make sense

546
00:22:12,059 --> 00:22:14,100
if I'm sending this and it appears to

547
00:22:14,100 --> 00:22:16,559
come from Buffalo edu and it talks about

548
00:22:16,559 --> 00:22:19,860
Buffalo edu things is the link for you

549
00:22:19,860 --> 00:22:22,140
know some other really weird domain

550
00:22:22,140 --> 00:22:24,179
because certainly we see that again we

551
00:22:24,179 --> 00:22:26,159
talked about the time stamps make sure

552
00:22:26,159 --> 00:22:29,520
you check um offsets because if it goes

553
00:22:29,520 --> 00:22:31,080
through different mail servers that are

554
00:22:31,080 --> 00:22:33,120
configured either mail servers on

555
00:22:33,120 --> 00:22:34,980
different time zones or mail servers

556
00:22:34,980 --> 00:22:36,539
have been configured differently that

557
00:22:36,539 --> 00:22:37,980
can screw you up if you're looking at

558
00:22:37,980 --> 00:22:39,240
the details here

559
00:22:39,240 --> 00:22:41,820
and don't forget about the element of

560
00:22:41,820 --> 00:22:44,340
human verification so talk to the person

561
00:22:44,340 --> 00:22:47,159
that you're trying to verify this for if

562
00:22:47,159 --> 00:22:48,720
you have questions they can be really

563
00:22:48,720 --> 00:22:51,000
useful so let's look at this header and

564
00:22:51,000 --> 00:22:53,100
again I I wanted to be able to use my

565
00:22:53,100 --> 00:22:55,080
tool to highlight this

566
00:22:55,080 --> 00:22:56,760
um but I did put this in notepad plus

567
00:22:56,760 --> 00:22:58,559
plus so I'm hoping if nothing else you

568
00:22:58,559 --> 00:22:59,940
can see the little numbers along the

569
00:22:59,940 --> 00:23:02,460
side they're tiny but

570
00:23:02,460 --> 00:23:04,440
um so if you look at the very bottom

571
00:23:04,440 --> 00:23:09,000
like 43 through 49 that is going to be

572
00:23:09,000 --> 00:23:10,740
you know basically some of your data

573
00:23:10,740 --> 00:23:11,520
stuff

574
00:23:11,520 --> 00:23:14,159
but if you look up at 41 and I actually

575
00:23:14,159 --> 00:23:17,220
have my little cursor there you'll see a

576
00:23:17,220 --> 00:23:18,539
received from

577
00:23:18,539 --> 00:23:20,640
do we see that can we see I know it's

578
00:23:20,640 --> 00:23:23,580
tiny but you can see it okay

579
00:23:23,580 --> 00:23:25,620
because like I said this this what this

580
00:23:25,620 --> 00:23:27,539
is supposed to do is make a nice bubble

581
00:23:27,539 --> 00:23:30,120
so you can I can highlight that but it

582
00:23:30,120 --> 00:23:31,559
you know

583
00:23:31,559 --> 00:23:33,780
technology so much fun

584
00:23:33,780 --> 00:23:35,760
um

585
00:23:35,760 --> 00:23:37,679
yeah sure I use a pointer that'd be

586
00:23:37,679 --> 00:23:39,799
great

587
00:23:46,559 --> 00:23:47,880
all right

588
00:23:47,880 --> 00:23:51,120
let's see we're getting

589
00:23:51,120 --> 00:23:53,220
there we go so this is what I'm talking

590
00:23:53,220 --> 00:23:55,820
about right here see this guy

591
00:23:55,820 --> 00:24:01,260
16116 109 12. in this port

592
00:24:01,260 --> 00:24:03,720
so that's kind of weird what does this

593
00:24:03,720 --> 00:24:06,020
say

594
00:24:07,500 --> 00:24:09,539
not not the envelope part sorry I'm

595
00:24:09,539 --> 00:24:12,440
right above that

596
00:24:13,080 --> 00:24:16,260
website welcome.com

597
00:24:16,260 --> 00:24:17,700
what the heck does that have to do with

598
00:24:17,700 --> 00:24:20,539
Buffalo edu anything

599
00:24:20,539 --> 00:24:22,799
probably not

600
00:24:22,799 --> 00:24:25,860
this is another like tricky bit right so

601
00:24:25,860 --> 00:24:28,200
that it can be the case the third party

602
00:24:28,200 --> 00:24:30,179
mailers are used by an entity so you

603
00:24:30,179 --> 00:24:31,919
have to keep that in mind but in this

604
00:24:31,919 --> 00:24:34,020
particular case this website welcome

605
00:24:34,020 --> 00:24:36,600
thing is something that allows relaying

606
00:24:36,600 --> 00:24:39,000
and we see this all the time so there's

607
00:24:39,000 --> 00:24:40,559
certain domains you'll start to if you

608
00:24:40,559 --> 00:24:42,780
do this often enough where you'll go oh

609
00:24:42,780 --> 00:24:46,020
I know what this is this is garbage

610
00:24:46,020 --> 00:24:48,179
and their abuse folks are actually

611
00:24:48,179 --> 00:24:50,039
pretty good about receipt like I can

612
00:24:50,039 --> 00:24:52,020
email abuse at and we'll talk about that

613
00:24:52,020 --> 00:24:54,059
in a second so I mean this is really

614
00:24:54,059 --> 00:24:57,539
what we're looking for we're looking for

615
00:24:57,539 --> 00:24:59,340
hmm

616
00:24:59,340 --> 00:25:03,199
it doesn't want to give me the DOT

617
00:25:03,240 --> 00:25:06,120
there we go so we looked for this first

618
00:25:06,120 --> 00:25:07,559
receive from

619
00:25:07,559 --> 00:25:11,960
and then it moves on from received from

620
00:25:12,299 --> 00:25:13,580
and then

621
00:25:13,580 --> 00:25:18,059
it's within their sort of universe right

622
00:25:18,059 --> 00:25:20,640
and it's received by their Gateway

623
00:25:20,640 --> 00:25:22,740
and then eventually we see it received

624
00:25:22,740 --> 00:25:25,679
by MX2 which was one of our MX servers

625
00:25:25,679 --> 00:25:29,159
or MX records on our mail servers we had

626
00:25:29,159 --> 00:25:30,900
the University of Buffalo has always had

627
00:25:30,900 --> 00:25:33,120
very complicated email and so for a long

628
00:25:33,120 --> 00:25:34,679
time we had what were called Edge mail

629
00:25:34,679 --> 00:25:36,320
servers because we had multiple email

630
00:25:36,320 --> 00:25:39,779
services within the university so what

631
00:25:39,779 --> 00:25:41,700
would happen is email would arrive at

632
00:25:41,700 --> 00:25:44,159
these Edge servers and that they would

633
00:25:44,159 --> 00:25:46,559
know oh this person's mailbox is here

634
00:25:46,559 --> 00:25:49,380
this person's mailbox is here so in our

635
00:25:49,380 --> 00:25:53,039
case when you see the the MX2

636
00:25:53,039 --> 00:25:55,559
um that's really what why can't I get

637
00:25:55,559 --> 00:25:57,918
this stuff

638
00:25:58,679 --> 00:26:00,480
want to

639
00:26:00,480 --> 00:26:02,520
there it is okay

640
00:26:02,520 --> 00:26:05,159
um so when you see MX2 that's why

641
00:26:05,159 --> 00:26:08,279
because those are our mail exchangers

642
00:26:08,279 --> 00:26:10,380
um and so and and you'll see these weird

643
00:26:10,380 --> 00:26:12,720
references to Google right here that's

644
00:26:12,720 --> 00:26:15,720
because one of the things we accept mail

645
00:26:15,720 --> 00:26:18,960
from so Google com

646
00:26:18,960 --> 00:26:21,960
is Gmail our students are on Gmail

647
00:26:21,960 --> 00:26:25,440
so this message was sent to a student

648
00:26:25,440 --> 00:26:28,260
and that's if we're going from where it

649
00:26:28,260 --> 00:26:29,880
started to where it's going it's

650
00:26:29,880 --> 00:26:32,580
accepted by our MX server and then it's

651
00:26:32,580 --> 00:26:34,620
relay to Google because our students are

652
00:26:34,620 --> 00:26:37,140
in the Gmail universe so that you know

653
00:26:37,140 --> 00:26:39,059
this is the basic idea and you just work

654
00:26:39,059 --> 00:26:41,220
your way up from one layer to the next

655
00:26:41,220 --> 00:26:43,799
and it can be very confusing only

656
00:26:43,799 --> 00:26:45,840
because there's sometimes a lot of extra

657
00:26:45,840 --> 00:26:48,179
garbage you sometimes will see a lot of

658
00:26:48,179 --> 00:26:50,220
references in this particular one we

659
00:26:50,220 --> 00:26:52,799
don't see a lot of information about SPF

660
00:26:52,799 --> 00:26:55,320
or dchem dmarc which we'll talk about in

661
00:26:55,320 --> 00:26:57,360
a minute there can be information that

662
00:26:57,360 --> 00:26:58,980
can be useful and sometimes not useful

663
00:26:58,980 --> 00:27:01,260
depending on on what we're talking about

664
00:27:01,260 --> 00:27:04,980
so um any questions on any of this so

665
00:27:04,980 --> 00:27:08,720
far with the header specifically

666
00:27:14,700 --> 00:27:17,640
I I have in the sense that I can pull

667
00:27:17,640 --> 00:27:20,580
the header quickly to look at the Header

668
00:27:20,580 --> 00:27:23,400
information but that Microsoft but the

669
00:27:23,400 --> 00:27:26,700
analyzer tool does not always tell me

670
00:27:26,700 --> 00:27:29,279
what I need to know it'll show me the

671
00:27:29,279 --> 00:27:32,880
headers very quickly but uh the analyzer

672
00:27:32,880 --> 00:27:34,919
will not necessarily tell me where the

673
00:27:34,919 --> 00:27:37,200
mail actually originated it sometimes

674
00:27:37,200 --> 00:27:38,760
will tell me that it came from one of

675
00:27:38,760 --> 00:27:40,860
our users when it didn't if I look at

676
00:27:40,860 --> 00:27:43,080
the headers I can tell that

677
00:27:43,080 --> 00:27:46,799
so it's not foolproof

678
00:27:46,799 --> 00:27:49,740
so I don't find it like I find it useful

679
00:27:49,740 --> 00:27:51,840
in terms of pulling it up and looking at

680
00:27:51,840 --> 00:27:54,559
what it says

681
00:27:56,340 --> 00:27:59,600
other questions yes

682
00:28:08,580 --> 00:28:10,140
so the first thing I'm going to look for

683
00:28:10,140 --> 00:28:13,140
is I need to understand my own you know

684
00:28:13,140 --> 00:28:16,440
universities mail systems so if I know

685
00:28:16,440 --> 00:28:18,240
that we don't send mail through website

686
00:28:18,240 --> 00:28:20,460
welcome that's the first tip off this

687
00:28:20,460 --> 00:28:22,860
did not originate at UB because we don't

688
00:28:22,860 --> 00:28:25,799
use that service at all for anything

689
00:28:25,799 --> 00:28:29,100
um we now are a Microsoft 365 shop and

690
00:28:29,100 --> 00:28:31,380
so what that header will show me

691
00:28:31,380 --> 00:28:33,120
initially if it came from us is it's

692
00:28:33,120 --> 00:28:34,140
going to show like it's coming from

693
00:28:34,140 --> 00:28:36,120
outlook.com

694
00:28:36,120 --> 00:28:37,919
um but there are some other tells that

695
00:28:37,919 --> 00:28:39,900
will tell me whether or not it really

696
00:28:39,900 --> 00:28:41,279
came from us and then I can

697
00:28:41,279 --> 00:28:44,279
cross-reference with the the Microsoft

698
00:28:44,279 --> 00:28:46,559
tools to be absolutely sure it routed

699
00:28:46,559 --> 00:28:49,860
through us because it's it's

700
00:28:49,860 --> 00:28:52,860
the tools can be very very useful they

701
00:28:52,860 --> 00:28:55,260
can also be misleading so it just

702
00:28:55,260 --> 00:28:57,360
depends on on how well you know your

703
00:28:57,360 --> 00:28:58,919
environment but that is without a doubt

704
00:28:58,919 --> 00:29:01,260
the very first thing I would look for is

705
00:29:01,260 --> 00:29:04,260
if I expect the message did it come from

706
00:29:04,260 --> 00:29:05,820
where I would expect it did it come from

707
00:29:05,820 --> 00:29:07,860
our domain if we're a Google shop did it

708
00:29:07,860 --> 00:29:09,960
come from Google and and that's where it

709
00:29:09,960 --> 00:29:11,460
gets tricky so if it comes from

710
00:29:11,460 --> 00:29:13,740
outlook.com

711
00:29:13,740 --> 00:29:16,679
but somebody is spoofing one of our

712
00:29:16,679 --> 00:29:19,559
users and also using outlook.com how do

713
00:29:19,559 --> 00:29:21,419
I know whether it actually came from us

714
00:29:21,419 --> 00:29:22,919
right and that's where you have to look

715
00:29:22,919 --> 00:29:25,320
at the the in-house tools to kind of

716
00:29:25,320 --> 00:29:27,659
tell the the actual routing of that

717
00:29:27,659 --> 00:29:30,299
message did it route through our server

718
00:29:30,299 --> 00:29:32,039
or not and it's sometimes easy and

719
00:29:32,039 --> 00:29:34,879
sometimes not unique

720
00:29:35,399 --> 00:29:37,860
yes

721
00:29:37,860 --> 00:29:39,240
how would I what get a view like this

722
00:29:39,240 --> 00:29:40,740
we're going to talk about that's a great

723
00:29:40,740 --> 00:29:41,940
question we're going to talk about that

724
00:29:41,940 --> 00:29:43,799
in a second any other questions about

725
00:29:43,799 --> 00:29:46,020
this so far

726
00:29:46,020 --> 00:29:47,760
okay cool

727
00:29:47,760 --> 00:29:50,279
moving on

728
00:29:50,279 --> 00:29:52,620
I don't think I have any more

729
00:29:52,620 --> 00:29:56,000
fancy pictures so

730
00:29:56,760 --> 00:29:58,080
there we go

731
00:29:58,080 --> 00:29:59,700
so this is the beginning of the answer

732
00:29:59,700 --> 00:30:02,640
to the question you just asked so when

733
00:30:02,640 --> 00:30:04,200
you're going to report the Badness you

734
00:30:04,200 --> 00:30:06,779
need to know what domain the Badness is

735
00:30:06,779 --> 00:30:08,279
coming from that's going to be the first

736
00:30:08,279 --> 00:30:10,080
thing you're going to do sometimes you

737
00:30:10,080 --> 00:30:12,179
can just send it to email to abuse at

738
00:30:12,179 --> 00:30:14,700
domain that used to be like the default

739
00:30:14,700 --> 00:30:17,460
thing everybody did that is not always

740
00:30:17,460 --> 00:30:20,640
the case now so um now you have to do a

741
00:30:20,640 --> 00:30:23,100
you have to research that so you have to

742
00:30:23,100 --> 00:30:25,380
go to different tools it used to in the

743
00:30:25,380 --> 00:30:27,480
old days we have to use we used to have

744
00:30:27,480 --> 00:30:32,039
to manually do a who is uh nslookup and

745
00:30:32,039 --> 00:30:34,320
find out all this stuff now there are

746
00:30:34,320 --> 00:30:35,580
some pretty awesome tools that will give

747
00:30:35,580 --> 00:30:37,140
you all of that information right away

748
00:30:37,140 --> 00:30:38,640
and we'll talk about what some of those

749
00:30:38,640 --> 00:30:42,059
are some providers have special forms so

750
00:30:42,059 --> 00:30:43,440
if there's something coming from Gmail

751
00:30:43,440 --> 00:30:46,020
that's Badness they actually have this

752
00:30:46,020 --> 00:30:48,899
abuse form that you can click on and

753
00:30:48,899 --> 00:30:50,039
they want

754
00:30:50,039 --> 00:30:52,620
you know a contact information from you

755
00:30:52,620 --> 00:30:54,659
they want the email address that's being

756
00:30:54,659 --> 00:30:56,880
used they want the full headers the

757
00:30:56,880 --> 00:30:58,860
content of the message so they want a

758
00:30:58,860 --> 00:30:59,880
bunch of stuff

759
00:30:59,880 --> 00:31:01,679
I never hear anything back from Google

760
00:31:01,679 --> 00:31:03,899
but I also very seldom see the same

761
00:31:03,899 --> 00:31:06,360
address used and it is whack-a-mole to a

762
00:31:06,360 --> 00:31:09,419
certain degree but still it does you

763
00:31:09,419 --> 00:31:12,539
know take them down AWS has a similar

764
00:31:12,539 --> 00:31:15,539
abuse form that you have to fill out

765
00:31:15,539 --> 00:31:18,720
so if you look up the domain and you

766
00:31:18,720 --> 00:31:20,279
find out that all the information is

767
00:31:20,279 --> 00:31:23,399
redacted because gdpr is now a thing

768
00:31:23,399 --> 00:31:25,260
when we used to be able to do what's

769
00:31:25,260 --> 00:31:27,240
called a who is and we'd look up the

770
00:31:27,240 --> 00:31:28,860
domain it would give us the contact

771
00:31:28,860 --> 00:31:31,620
information who to report abuse to and

772
00:31:31,620 --> 00:31:33,299
that was super helpful because we could

773
00:31:33,299 --> 00:31:36,299
tell them hey stop sending us crack you

774
00:31:36,299 --> 00:31:38,039
have an account that's compromised or

775
00:31:38,039 --> 00:31:40,080
your service is wide open to the

776
00:31:40,080 --> 00:31:41,460
universe and it shouldn't be or whatever

777
00:31:41,460 --> 00:31:43,559
right well you could tell them well now

778
00:31:43,559 --> 00:31:46,559
with gdpr all you see is redacted for

779
00:31:46,559 --> 00:31:48,960
privacy who's seen that

780
00:31:48,960 --> 00:31:51,659
some of you how annoying is that

781
00:31:51,659 --> 00:31:54,360
oh my goodness it is hella annoying so

782
00:31:54,360 --> 00:31:56,520
how do you get around that well it's not

783
00:31:56,520 --> 00:31:57,960
easy

784
00:31:57,960 --> 00:31:59,820
um sometimes you can do some historical

785
00:31:59,820 --> 00:32:01,440
looking back if it hasn't changed

786
00:32:01,440 --> 00:32:03,179
radically you can use old data you can

787
00:32:03,179 --> 00:32:04,260
use

788
00:32:04,260 --> 00:32:07,260
um so there are different sources that

789
00:32:07,260 --> 00:32:09,419
can tell you uh

790
00:32:09,419 --> 00:32:12,720
like different domains or IPS historical

791
00:32:12,720 --> 00:32:14,760
information that they got before the

792
00:32:14,760 --> 00:32:16,860
gdpr stuff was in there sometimes you

793
00:32:16,860 --> 00:32:18,600
could do some Googling you can find out

794
00:32:18,600 --> 00:32:19,620
you know

795
00:32:19,620 --> 00:32:22,559
on occasion if it's especially what I

796
00:32:22,559 --> 00:32:25,200
find with like a K-12 School District I

797
00:32:25,200 --> 00:32:26,880
will find the email address of their it

798
00:32:26,880 --> 00:32:29,100
people and I will send it to them

799
00:32:29,100 --> 00:32:30,720
directly and I will say I think you have

800
00:32:30,720 --> 00:32:32,760
a problem and more often than not I get

801
00:32:32,760 --> 00:32:33,899
an email back saying oh my goodness

802
00:32:33,899 --> 00:32:36,120
thank you so much we didn't know

803
00:32:36,120 --> 00:32:38,100
so sometimes it does require a little

804
00:32:38,100 --> 00:32:40,459
digging

805
00:32:46,980 --> 00:32:49,679
yep so there are some domains Alibaba

806
00:32:49,679 --> 00:32:51,000
they don't care

807
00:32:51,000 --> 00:32:53,480
um I don't typically report Russian

808
00:32:53,480 --> 00:32:55,980
addresses because Russia does not care

809
00:32:55,980 --> 00:32:58,559
it is very rare and you kind of don't

810
00:32:58,559 --> 00:32:59,700
even want them to know that you're

811
00:32:59,700 --> 00:33:01,260
paying attention so you know

812
00:33:01,260 --> 00:33:02,580
unfortunately there are some you just

813
00:33:02,580 --> 00:33:05,039
there's just nothing you can do with but

814
00:33:05,039 --> 00:33:06,600
there are some that are really really

815
00:33:06,600 --> 00:33:09,179
good about it and you can report bad

816
00:33:09,179 --> 00:33:12,539
URLs within the message in the same way

817
00:33:12,539 --> 00:33:15,120
so if you have a phishing message and I

818
00:33:15,120 --> 00:33:17,940
do this all the time we just had and I

819
00:33:17,940 --> 00:33:19,860
really I should have screened screen

820
00:33:19,860 --> 00:33:21,419
screenshot this

821
00:33:21,419 --> 00:33:24,539
somebody created a website

822
00:33:24,539 --> 00:33:26,760
that mimicked what what should have

823
00:33:26,760 --> 00:33:29,299
looked like a University at Buffalo

824
00:33:29,299 --> 00:33:32,519
webpage that had all of the top people

825
00:33:32,519 --> 00:33:35,460
in our Central I.T infrastructure their

826
00:33:35,460 --> 00:33:39,000
photographs their names their titles and

827
00:33:39,000 --> 00:33:41,460
it claimed that you know we sold Bitcoin

828
00:33:41,460 --> 00:33:43,679
and and here's some Financial investment

829
00:33:43,679 --> 00:33:45,899
thing that you should do and it was

830
00:33:45,899 --> 00:33:47,940
really convincing and it used our logos

831
00:33:47,940 --> 00:33:49,620
and it was phenomenal

832
00:33:49,620 --> 00:33:53,159
and thankfully it was on namecheap

833
00:33:53,159 --> 00:33:55,679
and with namecheap if you tweeted them

834
00:33:55,679 --> 00:33:58,559
they will make it go away

835
00:33:58,559 --> 00:34:01,860
uh and and I heart malware is the one

836
00:34:01,860 --> 00:34:04,440
who told me that so I you know if you

837
00:34:04,440 --> 00:34:06,179
don't already follow him he's amazing he

838
00:34:06,179 --> 00:34:07,919
does a lot of work in the business email

839
00:34:07,919 --> 00:34:10,199
compromise space and he's got some

840
00:34:10,199 --> 00:34:13,020
fabulous tips uh so anytime I have one

841
00:34:13,020 --> 00:34:15,239
of these that I I'm trying to get taken

842
00:34:15,239 --> 00:34:17,040
down ASAP and I'm like hey do you know

843
00:34:17,040 --> 00:34:18,899
anybody and so sometimes it's all about

844
00:34:18,899 --> 00:34:20,399
who you know and it can be really really

845
00:34:20,399 --> 00:34:21,780
helpful

846
00:34:21,780 --> 00:34:23,399
um you can also submit URLs to

847
00:34:23,399 --> 00:34:24,780
virustotal that's another way to get

848
00:34:24,780 --> 00:34:27,060
that stuff taken down but I've I've been

849
00:34:27,060 --> 00:34:28,679
fairly successful

850
00:34:28,679 --> 00:34:30,659
um like Google is terrible about taking

851
00:34:30,659 --> 00:34:32,699
down forms like they they just forget it

852
00:34:32,699 --> 00:34:34,800
like you can submit it they eventually

853
00:34:34,800 --> 00:34:36,418
get around to it they're not quick about

854
00:34:36,418 --> 00:34:38,820
it but it's the same process you just

855
00:34:38,820 --> 00:34:40,080
submit it to them

856
00:34:40,080 --> 00:34:44,359
so any questions on the Badness

857
00:34:46,440 --> 00:34:48,719
so I promise you some additional email

858
00:34:48,719 --> 00:34:51,418
Concepts so there these rfcs were

859
00:34:51,418 --> 00:34:52,679
written

860
00:34:52,679 --> 00:34:54,899
um there were some new additions to the

861
00:34:54,899 --> 00:34:59,540
rfcs that came out as I said in uh in

862
00:34:59,540 --> 00:35:03,720
2015 I think and um email by default now

863
00:35:03,720 --> 00:35:05,160
you remember that conversation between

864
00:35:05,160 --> 00:35:06,960
the mail server and the client that I

865
00:35:06,960 --> 00:35:08,099
showed you

866
00:35:08,099 --> 00:35:09,780
where in there was there anything about

867
00:35:09,780 --> 00:35:12,000
security

868
00:35:12,000 --> 00:35:14,040
there wasn't right

869
00:35:14,040 --> 00:35:16,500
because if you read the original RFC and

870
00:35:16,500 --> 00:35:18,359
you saw the history of how email started

871
00:35:18,359 --> 00:35:20,640
there was no reason for there to be

872
00:35:20,640 --> 00:35:22,020
security

873
00:35:22,020 --> 00:35:23,940
which is the whole point of me showing

874
00:35:23,940 --> 00:35:25,500
you some of that history is to

875
00:35:25,500 --> 00:35:26,820
understand look

876
00:35:26,820 --> 00:35:29,640
none of that matters none of that

877
00:35:29,640 --> 00:35:31,440
matters

878
00:35:31,440 --> 00:35:33,300
because

879
00:35:33,300 --> 00:35:35,880
at the end of the day email was just

880
00:35:35,880 --> 00:35:37,440
supposed to be a way for me to send a

881
00:35:37,440 --> 00:35:39,599
little bit of text from me to you and

882
00:35:39,599 --> 00:35:42,540
you to me and that was it and now it's

883
00:35:42,540 --> 00:35:45,300
used worldwide for business purposes and

884
00:35:45,300 --> 00:35:47,280
all kinds of other transactions

885
00:35:47,280 --> 00:35:49,380
but they didn't think about that when it

886
00:35:49,380 --> 00:35:51,720
was all being created they thought we're

887
00:35:51,720 --> 00:35:53,640
gonna back up some servers that are

888
00:35:53,640 --> 00:35:55,260
going to do some research and we're

889
00:35:55,260 --> 00:35:57,599
gonna like leave messages for each other

890
00:35:57,599 --> 00:35:59,280
so

891
00:35:59,280 --> 00:36:01,380
it occurred to some folks

892
00:36:01,380 --> 00:36:03,300
you know fast forward maybe we needed

893
00:36:03,300 --> 00:36:06,900
some better ways to secure mail so they

894
00:36:06,900 --> 00:36:09,599
these things are add-ons is what I will

895
00:36:09,599 --> 00:36:10,740
tell you

896
00:36:10,740 --> 00:36:12,960
um it is not this stuff's not turned on

897
00:36:12,960 --> 00:36:15,960
by default it's not just there it can be

898
00:36:15,960 --> 00:36:18,119
a royal pain in the butt to implement

899
00:36:18,119 --> 00:36:20,579
some of it more than others so we'll go

900
00:36:20,579 --> 00:36:22,020
through this I'm not like I said I'm not

901
00:36:22,020 --> 00:36:23,700
going to spend a ton of time on it so

902
00:36:23,700 --> 00:36:25,859
SPF records they're just going to

903
00:36:25,859 --> 00:36:27,480
validate that like where it's coming

904
00:36:27,480 --> 00:36:29,579
from that IP address and the domain

905
00:36:29,579 --> 00:36:31,619
owner are the same and so therefore it

906
00:36:31,619 --> 00:36:33,720
should come but you can put in an SPF

907
00:36:33,720 --> 00:36:36,660
record that doesn't reject anything

908
00:36:36,660 --> 00:36:40,020
and the SPF records can be accepted or

909
00:36:40,020 --> 00:36:41,520
rejected at the other end they don't

910
00:36:41,520 --> 00:36:44,460
care so you at the other end you can't

911
00:36:44,460 --> 00:36:47,280
control that so like right now we have

912
00:36:47,280 --> 00:36:49,020
SPF records in place because we had

913
00:36:49,020 --> 00:36:51,060
other places that were rejecting mail

914
00:36:51,060 --> 00:36:53,460
because we did not have one at all

915
00:36:53,460 --> 00:36:56,160
so that's become a thing

916
00:36:56,160 --> 00:36:57,480
but

917
00:36:57,480 --> 00:36:59,700
again they could do that anyway they

918
00:36:59,700 --> 00:37:01,260
could just be like well you have one and

919
00:37:01,260 --> 00:37:03,000
it's not configured in the way we want

920
00:37:03,000 --> 00:37:04,200
it to so we're still going to reject

921
00:37:04,200 --> 00:37:05,880
your email

922
00:37:05,880 --> 00:37:08,760
so D Kim takes it to another level it

923
00:37:08,760 --> 00:37:11,280
adds this digital signature which says

924
00:37:11,280 --> 00:37:12,900
it really supposedly came from who it

925
00:37:12,900 --> 00:37:13,980
came from

926
00:37:13,980 --> 00:37:16,079
and dmarc is essentially the two being

927
00:37:16,079 --> 00:37:18,180
married together and is supposed to

928
00:37:18,180 --> 00:37:21,119
provide this real verification what you

929
00:37:21,119 --> 00:37:22,859
will see in the headers is you will see

930
00:37:22,859 --> 00:37:24,839
references to these things and sometimes

931
00:37:24,839 --> 00:37:26,880
you will see that the authentication

932
00:37:26,880 --> 00:37:28,859
worked or it didn't or it was required

933
00:37:28,859 --> 00:37:31,920
or it wasn't and that all depends on

934
00:37:31,920 --> 00:37:33,720
your configuration and the other ends

935
00:37:33,720 --> 00:37:35,700
configuration and who accepts what and

936
00:37:35,700 --> 00:37:37,560
it's not perfect

937
00:37:37,560 --> 00:37:39,839
and so what I tend to tell people is

938
00:37:39,839 --> 00:37:42,300
there is no such thing as true secure

939
00:37:42,300 --> 00:37:45,119
email there just isn't the minute you

940
00:37:45,119 --> 00:37:47,040
send it from here to there there's a

941
00:37:47,040 --> 00:37:49,339
risk

942
00:37:49,380 --> 00:37:51,839
um but in reality there are some better

943
00:37:51,839 --> 00:37:55,020
ways to secure email one of them is is

944
00:37:55,020 --> 00:37:58,500
simply encryption and um you know but

945
00:37:58,500 --> 00:38:00,720
generally speaking these what these

946
00:38:00,720 --> 00:38:02,339
tools are going to help with is they're

947
00:38:02,339 --> 00:38:04,619
going to prevent things like spoofing

948
00:38:04,619 --> 00:38:07,020
so they can be really helpful but if you

949
00:38:07,020 --> 00:38:09,660
have a lot of third-party mailers this

950
00:38:09,660 --> 00:38:10,920
can be a real nightmare to implement

951
00:38:10,920 --> 00:38:13,079
we're actually right in that process now

952
00:38:13,079 --> 00:38:14,760
at the University

953
00:38:14,760 --> 00:38:16,320
um and there are also some limitations

954
00:38:16,320 --> 00:38:20,460
in terms of sub domains and yeah so any

955
00:38:20,460 --> 00:38:22,320
questions on this

956
00:38:22,320 --> 00:38:23,940
okay

957
00:38:23,940 --> 00:38:26,220
so here are the tools I mentioned I'm

958
00:38:26,220 --> 00:38:28,079
hoping these screenshots will show up

959
00:38:28,079 --> 00:38:30,000
they're not super complicated but we'll

960
00:38:30,000 --> 00:38:31,200
see

961
00:38:31,200 --> 00:38:33,420
um so domain dossier is the main place

962
00:38:33,420 --> 00:38:35,820
that I really like because it gives some

963
00:38:35,820 --> 00:38:37,740
great information all the stuff that us

964
00:38:37,740 --> 00:38:40,680
old fogies used to go and do by hand the

965
00:38:40,680 --> 00:38:42,720
NS look up and the you know who owns the

966
00:38:42,720 --> 00:38:44,820
IP address who owns the domain what

967
00:38:44,820 --> 00:38:47,040
information can we have about who to who

968
00:38:47,040 --> 00:38:49,380
to let know about all of this a lot of

969
00:38:49,380 --> 00:38:51,900
that can be found with domain dossier MX

970
00:38:51,900 --> 00:38:53,880
toolbox can give you stuff about the

971
00:38:53,880 --> 00:38:56,760
headers and the MX records cyber Chef

972
00:38:56,760 --> 00:38:58,200
can be really handy if you're looking at

973
00:38:58,200 --> 00:39:00,359
like you've got some kind of weird email

974
00:39:00,359 --> 00:39:03,240
that has some kind of encoded crap in it

975
00:39:03,240 --> 00:39:04,980
and you're like ooh tell me about this

976
00:39:04,980 --> 00:39:07,380
encoding it does some magic decoding

977
00:39:07,380 --> 00:39:09,540
which is pretty amazing and the message

978
00:39:09,540 --> 00:39:11,760
header analyzer you know does some basic

979
00:39:11,760 --> 00:39:14,520
header analysis but as I mentioned

980
00:39:14,520 --> 00:39:16,680
headers are weird and sometimes clients

981
00:39:16,680 --> 00:39:18,599
do things upside down and backwards so

982
00:39:18,599 --> 00:39:20,339
be aware that when you feed this stuff

983
00:39:20,339 --> 00:39:22,800
into a header analyzer it may not be as

984
00:39:22,800 --> 00:39:24,599
helpful as you think it's going to be so

985
00:39:24,599 --> 00:39:26,820
I find it's not better to use these it's

986
00:39:26,820 --> 00:39:28,320
better to use my eyes and go line by

987
00:39:28,320 --> 00:39:29,640
line if I have to

988
00:39:29,640 --> 00:39:32,099
so oh good so this is domain dossier

989
00:39:32,099 --> 00:39:33,480
this is essentially I mean it keeps

990
00:39:33,480 --> 00:39:35,220
going but this gives you just kind of a

991
00:39:35,220 --> 00:39:37,380
basic sense of what you're looking at so

992
00:39:37,380 --> 00:39:39,599
you can see in this particular case

993
00:39:39,599 --> 00:39:41,520
it doesn't find any particular domain

994
00:39:41,520 --> 00:39:43,260
that's associated with that IP but it

995
00:39:43,260 --> 00:39:44,280
still can give you all kinds of

996
00:39:44,280 --> 00:39:48,000
information about who owns it so hmm uh

997
00:39:48,000 --> 00:39:50,460
if you look and see after neck

998
00:39:50,460 --> 00:39:53,520
that's not the US so that's definitely

999
00:39:53,520 --> 00:39:55,200
not us

1000
00:39:55,200 --> 00:39:58,140
um and not something we're likely to use

1001
00:39:58,140 --> 00:40:00,359
so this is MX toolbox if you look

1002
00:40:00,359 --> 00:40:01,680
carefully you can see there are a bunch

1003
00:40:01,680 --> 00:40:04,079
of different lookups it can do it can

1004
00:40:04,079 --> 00:40:05,760
tell you some dmarc stuff it can tell

1005
00:40:05,760 --> 00:40:07,740
you if the information is on a blacklist

1006
00:40:07,740 --> 00:40:11,720
so it can be this can be kind of Handy

1007
00:40:13,440 --> 00:40:14,940
yeah if you're diagnosing you're a mail

1008
00:40:14,940 --> 00:40:15,839
server and you're trying to figure out

1009
00:40:15,839 --> 00:40:18,060
why stuff isn't flowing yeah that can be

1010
00:40:18,060 --> 00:40:20,460
really handy too this is cyber Chef

1011
00:40:20,460 --> 00:40:22,680
what's again what's fun about cyber Chef

1012
00:40:22,680 --> 00:40:23,820
is you can

1013
00:40:23,820 --> 00:40:25,260
um you can't see the all the little

1014
00:40:25,260 --> 00:40:27,359
boxes it's they're sort of grayed out

1015
00:40:27,359 --> 00:40:30,119
but you put the input is is whatever

1016
00:40:30,119 --> 00:40:34,859
text you want to decrypt and then uh you

1017
00:40:34,859 --> 00:40:37,200
recipe you put like from base64 because

1018
00:40:37,200 --> 00:40:38,700
a lot of stuff's basically where you

1019
00:40:38,700 --> 00:40:40,200
just click and drag over whatever it is

1020
00:40:40,200 --> 00:40:42,960
you want it to use and it'll give you

1021
00:40:42,960 --> 00:40:45,240
the output so if you're trying to If

1022
00:40:45,240 --> 00:40:46,200
you're looking at some sort of

1023
00:40:46,200 --> 00:40:48,180
gobbledygook in a message and you need

1024
00:40:48,180 --> 00:40:49,619
to try to decode it this is one of the

1025
00:40:49,619 --> 00:40:51,180
tools that I use when I'm looking at

1026
00:40:51,180 --> 00:40:53,579
like weird phishing messages and in some

1027
00:40:53,579 --> 00:40:56,880
cases right even in the address of URL

1028
00:40:56,880 --> 00:40:58,440
Um this can be really handy if you're

1029
00:40:58,440 --> 00:41:00,720
trying to sort of dig in further

1030
00:41:00,720 --> 00:41:02,640
and this is a message analyzer where

1031
00:41:02,640 --> 00:41:03,960
you're literally going to copy and paste

1032
00:41:03,960 --> 00:41:06,540
in the headers uh click analyze and it's

1033
00:41:06,540 --> 00:41:09,060
going to tell you some stuff and it can

1034
00:41:09,060 --> 00:41:10,440
be useful but sometimes it gets it

1035
00:41:10,440 --> 00:41:12,900
backwards and it misses things and you

1036
00:41:12,900 --> 00:41:14,400
know but again if you're not used to

1037
00:41:14,400 --> 00:41:15,900
looking at headers and you need a place

1038
00:41:15,900 --> 00:41:19,820
to start it's not a bad place to start

1039
00:41:19,920 --> 00:41:23,700
so I like this quote and I'll end with

1040
00:41:23,700 --> 00:41:25,500
this quote and then a couple minutes for

1041
00:41:25,500 --> 00:41:26,700
questions

1042
00:41:26,700 --> 00:41:29,480
I started in this field doing

1043
00:41:29,480 --> 00:41:31,560
workstation and server support a long

1044
00:41:31,560 --> 00:41:34,079
time ago but my Origins were actually in

1045
00:41:34,079 --> 00:41:35,520
the music industry

1046
00:41:35,520 --> 00:41:38,640
so you know I may not have gone where I

1047
00:41:38,640 --> 00:41:40,560
was originally intending to go but

1048
00:41:40,560 --> 00:41:42,720
ultimately I think I wound up exactly

1049
00:41:42,720 --> 00:41:45,180
where I needed to be and with that any

1050
00:41:45,180 --> 00:41:47,419
questions

1051
00:41:48,480 --> 00:41:54,739
[Applause]

1052
00:41:58,280 --> 00:42:01,880
thank you yes

1053
00:42:02,099 --> 00:42:03,780
so I wanted to work in record companies

1054
00:42:03,780 --> 00:42:05,420
which I actually did for a couple years

1055
00:42:05,420 --> 00:42:07,500
I worked for a polygram group

1056
00:42:07,500 --> 00:42:09,900
distribution and I worked for a little

1057
00:42:09,900 --> 00:42:12,240
Indie label called critique records and

1058
00:42:12,240 --> 00:42:14,339
it was fun and I enjoyed it but I

1059
00:42:14,339 --> 00:42:15,960
ultimately decided I had morals and

1060
00:42:15,960 --> 00:42:18,240
ethics that kept me from continuing in

1061
00:42:18,240 --> 00:42:19,220
that field

1062
00:42:19,220 --> 00:42:22,619
and I ran a record store for a while and

1063
00:42:22,619 --> 00:42:24,900
when the record store closed I had to

1064
00:42:24,900 --> 00:42:26,579
find a new line of work

1065
00:42:26,579 --> 00:42:28,859
uh and to make a very long story short I

1066
00:42:28,859 --> 00:42:30,240
had a friend who said you know you

1067
00:42:30,240 --> 00:42:31,619
should go into Tech and I said what do I

1068
00:42:31,619 --> 00:42:32,880
know about tech and he's like you know

1069
00:42:32,880 --> 00:42:35,839
more than you realize and uh

1070
00:42:35,839 --> 00:42:40,079
26 years later I guess here I am so

1071
00:42:40,079 --> 00:42:42,920
any other questions

1072
00:42:47,040 --> 00:42:49,640
is there what

1073
00:42:50,160 --> 00:42:52,200
is there any danger in replying to any

1074
00:42:52,200 --> 00:42:54,119
email sure of course there is because

1075
00:42:54,119 --> 00:42:55,320
you don't know who's at the other end

1076
00:42:55,320 --> 00:42:56,760
right

1077
00:42:56,760 --> 00:42:58,800
um you know there are people who like to

1078
00:42:58,800 --> 00:43:00,480
to screw with attackers it sounds like

1079
00:43:00,480 --> 00:43:03,619
that's something you might like doing

1080
00:43:04,920 --> 00:43:07,440
um what I will tell you is you you don't

1081
00:43:07,440 --> 00:43:09,599
know who's on the other end

1082
00:43:09,599 --> 00:43:11,520
um unless you really know what you're

1083
00:43:11,520 --> 00:43:14,339
doing it's probably not a good idea to

1084
00:43:14,339 --> 00:43:17,760
antagonize attackers uh you know I have

1085
00:43:17,760 --> 00:43:19,200
friends that do this like when phone

1086
00:43:19,200 --> 00:43:20,640
solicitors call and they're just like

1087
00:43:20,640 --> 00:43:22,859
I'm gonna get them you know and I always

1088
00:43:22,859 --> 00:43:24,480
think that's great but they might know

1089
00:43:24,480 --> 00:43:26,700
where you live now and maybe that's not

1090
00:43:26,700 --> 00:43:31,520
a good idea so yes question

1091
00:43:36,540 --> 00:43:39,720
yeah it's legitimate

1092
00:43:39,720 --> 00:43:41,940
yeah yep you're confirming that address

1093
00:43:41,940 --> 00:43:44,579
exactly and and you know I get asked all

1094
00:43:44,579 --> 00:43:46,920
the time about unsubscribe that's

1095
00:43:46,920 --> 00:43:48,960
another thing too right like if it's a

1096
00:43:48,960 --> 00:43:50,220
legit company

1097
00:43:50,220 --> 00:43:51,900
because you've been to black hat and

1098
00:43:51,900 --> 00:43:54,839
you've gotten your badge and if you

1099
00:43:54,839 --> 00:43:57,660
unsubscribe that's probably okay because

1100
00:43:57,660 --> 00:44:00,060
you know but if it's just like some Fly

1101
00:44:00,060 --> 00:44:01,920
by Night you've never heard of kind of

1102
00:44:01,920 --> 00:44:04,200
scammy thing I would not be hitting

1103
00:44:04,200 --> 00:44:05,880
unsubscribe because you don't know

1104
00:44:05,880 --> 00:44:07,680
what's going on there

1105
00:44:07,680 --> 00:44:08,880
so

1106
00:44:08,880 --> 00:44:11,960
any other questions

1107
00:44:14,640 --> 00:44:16,920
all right well I will be around for the

1108
00:44:16,920 --> 00:44:18,119
rest of the conference so again thank

1109
00:44:18,119 --> 00:44:21,440
you so very much for coming

1110
00:44:22,570 --> 00:44:25,280
[Applause]

