1
00:00:00,650 --> 00:00:05,370
<font color="#E5E5E5">all right so if you want to follow</font><font color="#CCCCCC"> along</font>

2
00:00:03,060 --> 00:00:11,460
<font color="#CCCCCC">the slides I post the slides on Twitter</font>

3
00:00:05,370 --> 00:00:14,879
<font color="#CCCCCC">I tweeted at st. Conn I'll post more</font>

4
00:00:11,460 --> 00:00:18,060
slides<font color="#E5E5E5"> this</font><font color="#CCCCCC"> is a training that me and</font>

5
00:00:14,880 --> 00:00:19,560
<font color="#CCCCCC">gray Ronan put together for a different</font>

6
00:00:18,060 --> 00:00:21,390
<font color="#E5E5E5">different conferences so you're getting</font>

7
00:00:19,560 --> 00:00:25,590
the<font color="#E5E5E5"> first four</font><font color="#CCCCCC"> hours</font><font color="#E5E5E5"> the other four</font>

8
00:00:21,390 --> 00:00:27,779
hours are<font color="#E5E5E5"> about</font><font color="#CCCCCC"> empire so you can go</font>

9
00:00:25,590 --> 00:00:30,300
<font color="#E5E5E5">through</font><font color="#CCCCCC"> that stuff</font><font color="#E5E5E5"> too if you want but</font>

10
00:00:27,779 --> 00:00:32,610
this stuff's<font color="#E5E5E5"> kind of like the basic</font><font color="#CCCCCC"> pen</font>

11
00:00:30,300 --> 00:00:34,980
<font color="#CCCCCC">testing stuff so if</font><font color="#E5E5E5"> you're experienced</font>

12
00:00:32,610 --> 00:00:37,739
pen tester there's really nothing new in

13
00:00:34,980 --> 00:00:40,260
here so I mean<font color="#E5E5E5"> if</font><font color="#CCCCCC"> you got other cool</font>

14
00:00:37,739 --> 00:00:43,290
things to look<font color="#E5E5E5"> at or go to this is a</font>

15
00:00:40,260 --> 00:00:45,930
really<font color="#E5E5E5"> introductory course focused on</font>

16
00:00:43,290 --> 00:00:47,430
beginners so if you have advanced<font color="#E5E5E5"> pen</font>

17
00:00:45,930 --> 00:00:49,440
<font color="#E5E5E5">testing skills you're probably gonna be</font>

18
00:00:47,430 --> 00:00:51,120
<font color="#CCCCCC">really bored</font><font color="#E5E5E5"> so I'm just letting you</font>

19
00:00:49,440 --> 00:00:52,500
<font color="#CCCCCC">know now</font><font color="#E5E5E5"> so if you want</font><font color="#CCCCCC"> to make but you</font>

20
00:00:51,120 --> 00:00:58,010
<font color="#E5E5E5">know different</font><font color="#CCCCCC"> decisions on where you're</font>

21
00:00:52,500 --> 00:01:06,030
at<font color="#CCCCCC"> please do so so everybody good</font>

22
00:00:58,010 --> 00:01:07,920
everyone feeling<font color="#E5E5E5"> good</font><font color="#CCCCCC"> Cole again blah</font>

23
00:01:06,030 --> 00:01:10,830
I'm not responsible<font color="#E5E5E5"> for anything dumb</font>

24
00:01:07,920 --> 00:01:12,780
you do you learn<font color="#CCCCCC"> this</font><font color="#E5E5E5"> stuff at your own</font>

25
00:01:10,830 --> 00:01:15,509
risk if you use this to do something

26
00:01:12,780 --> 00:01:17,220
illegal<font color="#E5E5E5"> installing malware or something</font>

27
00:01:15,509 --> 00:01:19,259
without<font color="#CCCCCC"> someone's permission on someone</font>

28
00:01:17,220 --> 00:01:21,509
else's software is illegal<font color="#E5E5E5"> that's what</font>

29
00:01:19,259 --> 00:01:23,549
we're gonna talk about doing but we're

30
00:01:21,509 --> 00:01:26,490
doing<font color="#E5E5E5"> it</font><font color="#CCCCCC"> to systems we own instead of</font>

31
00:01:23,549 --> 00:01:30,930
systems we<font color="#E5E5E5"> don't own again I'm not a</font>

32
00:01:26,490 --> 00:01:34,640
lawyer<font color="#CCCCCC"> I don't play one on TV</font><font color="#E5E5E5"> so I can't</font>

33
00:01:30,930 --> 00:01:34,640
<font color="#CCCCCC">answer any</font><font color="#E5E5E5"> questions about legal stuff</font>

34
00:01:35,030 --> 00:01:38,880
<font color="#CCCCCC">basically I'm just</font><font color="#E5E5E5"> kind of assuming you</font>

35
00:01:37,170 --> 00:01:40,650
have some<font color="#CCCCCC"> basic understanding of Linux</font>

36
00:01:38,880 --> 00:01:42,720
and<font color="#CCCCCC"> Windows commands I'm not gonna</font><font color="#E5E5E5"> go</font>

37
00:01:40,650 --> 00:01:45,390
into<font color="#CCCCCC"> too much</font><font color="#E5E5E5"> depth with a lot of</font><font color="#CCCCCC"> this</font>

38
00:01:42,720 --> 00:01:48,869
stuff we're<font color="#E5E5E5"> just gonna be playing</font><font color="#CCCCCC"> around</font>

39
00:01:45,390 --> 00:01:51,210
with netcat<font color="#CCCCCC"> Metasploit and doing some</font>

40
00:01:48,869 --> 00:01:53,340
<font color="#E5E5E5">backdooring stuff with backdoor</font><font color="#CCCCCC"> Factory</font>

41
00:01:51,210 --> 00:01:55,140
and talking about<font color="#E5E5E5"> some web shells and</font>

42
00:01:53,340 --> 00:01:59,040
<font color="#CCCCCC">things like that so it's a very easy</font>

43
00:01:55,140 --> 00:02:01,229
<font color="#E5E5E5">broad overview a lot of this stuff is</font>

44
00:01:59,040 --> 00:02:03,030
easily detectable<font color="#E5E5E5"> we're gonna fight with</font>

45
00:02:01,229 --> 00:02:04,500
Windows Defender cuz we're going to turn

46
00:02:03,030 --> 00:02:07,950
<font color="#E5E5E5">it off and then somehow it's</font><font color="#CCCCCC"> gonna</font><font color="#E5E5E5"> get</font>

47
00:02:04,500 --> 00:02:09,899
turned<font color="#E5E5E5"> back</font><font color="#CCCCCC"> on although</font><font color="#E5E5E5"> this stuff used</font>

48
00:02:07,950 --> 00:02:11,489
to work really<font color="#E5E5E5"> well but eventually the</font>

49
00:02:09,899 --> 00:02:12,830
antivirus has figured out<font color="#E5E5E5"> how</font><font color="#CCCCCC"> did it</font>

50
00:02:11,489 --> 00:02:15,860
attack<font color="#E5E5E5"> the</font>

51
00:02:12,830 --> 00:02:17,780
techniques and the the guy that<font color="#CCCCCC"> was</font>

52
00:02:15,860 --> 00:02:19,100
doing the<font color="#CCCCCC"> back door</font><font color="#E5E5E5"> factory decided I've</font>

53
00:02:17,780 --> 00:02:20,930
got more important things to do it's

54
00:02:19,100 --> 00:02:23,329
<font color="#CCCCCC">like I could</font><font color="#E5E5E5"> rewrite it</font><font color="#CCCCCC"> to bypass</font><font color="#E5E5E5"> AV</font>

55
00:02:20,930 --> 00:02:25,040
again and keep going<font color="#E5E5E5"> back</font><font color="#CCCCCC"> and forth but</font>

56
00:02:23,330 --> 00:02:28,600
<font color="#CCCCCC">he just</font><font color="#E5E5E5"> decided that this time</font><font color="#CCCCCC"> was</font>

57
00:02:25,040 --> 00:02:32,600
better<font color="#E5E5E5"> spent somewhere else so cool</font>

58
00:02:28,600 --> 00:02:36,470
<font color="#E5E5E5">again like I said this does not teach</font>

59
00:02:32,600 --> 00:02:40,570
you how to<font color="#E5E5E5"> be stealthy just this we're</font>

60
00:02:36,470 --> 00:02:40,570
just<font color="#CCCCCC"> gonna go over how to be dangerous</font>

61
00:02:41,710 --> 00:02:47,030
so for the<font color="#CCCCCC"> vm's</font><font color="#E5E5E5"> for the class the the</font>

62
00:02:44,990 --> 00:02:51,190
<font color="#E5E5E5">passwords route the default pass was</font>

63
00:02:47,030 --> 00:02:53,420
gonna be<font color="#E5E5E5"> st. con 2018 on both images</font>

64
00:02:51,190 --> 00:02:55,160
<font color="#CCCCCC">i'll lowercase I</font><font color="#E5E5E5"> should have done an</font>

65
00:02:53,420 --> 00:03:00,890
<font color="#E5E5E5">uppercase so it would match the Wi-Fi</font>

66
00:02:55,160 --> 00:03:03,470
password<font color="#CCCCCC"> before we start up the VMS I'm</font>

67
00:03:00,890 --> 00:03:04,339
just going to<font color="#E5E5E5"> go</font><font color="#CCCCCC"> over my setup</font><font color="#E5E5E5"> I you</font>

68
00:03:03,470 --> 00:03:06,050
want<font color="#E5E5E5"> to make sure</font><font color="#CCCCCC"> that you're not</font>

69
00:03:04,340 --> 00:03:08,420
bridging the<font color="#CCCCCC"> with especially the</font><font color="#E5E5E5"> windows</font>

70
00:03:06,050 --> 00:03:10,250
VM<font color="#E5E5E5"> on the wireless network just so</font>

71
00:03:08,420 --> 00:03:11,750
because we're going<font color="#E5E5E5"> to</font><font color="#CCCCCC"> be putting like</font>

72
00:03:10,250 --> 00:03:13,280
neck hat and other stuff in it<font color="#CCCCCC"> and so</font>

73
00:03:11,750 --> 00:03:15,950
someone your neighbor could come in<font color="#E5E5E5"> and</font>

74
00:03:13,280 --> 00:03:18,019
try<font color="#CCCCCC"> and connect to</font><font color="#E5E5E5"> your system if the</font>

75
00:03:15,950 --> 00:03:26,480
wireless<font color="#E5E5E5"> network allows peer connections</font>

76
00:03:18,019 --> 00:03:28,910
<font color="#E5E5E5">and do stuff oh yeah all of</font><font color="#CCCCCC"> these slides</font>

77
00:03:26,480 --> 00:03:33,829
are on<font color="#E5E5E5"> Google slide deck on so if you go</font>

78
00:03:28,910 --> 00:03:38,359
to Twitter<font color="#CCCCCC"> nemeth 801</font><font color="#E5E5E5"> on Twitter you can</font>

79
00:03:33,830 --> 00:03:39,860
get the slides there<font color="#E5E5E5"> alright so we're</font>

80
00:03:38,360 --> 00:03:43,790
<font color="#E5E5E5">going to go over</font><font color="#CCCCCC"> the setup</font><font color="#E5E5E5"> of the VMS</font>

81
00:03:39,860 --> 00:03:46,220
first<font color="#CCCCCC"> basically</font><font color="#E5E5E5"> we're going to go into</font>

82
00:03:43,790 --> 00:03:48,500
<font color="#E5E5E5">VirtualBox manage the file we're</font><font color="#CCCCCC"> going</font>

83
00:03:46,220 --> 00:03:51,230
to<font color="#E5E5E5"> set up a host network manager then</font>

84
00:03:48,500 --> 00:03:52,550
click and<font color="#E5E5E5"> create a DHCP server for that</font>

85
00:03:51,230 --> 00:03:54,768
<font color="#E5E5E5">network so</font><font color="#CCCCCC"> we're</font><font color="#E5E5E5"> going</font><font color="#CCCCCC"> to create kind of</font>

86
00:03:52,550 --> 00:03:55,880
<font color="#E5E5E5">an internal network to play around with</font>

87
00:03:54,769 --> 00:03:58,790
it's not going to be accessible<font color="#E5E5E5"> to</font>

88
00:03:55,880 --> 00:04:01,670
<font color="#E5E5E5">Internet like I said we don't want to</font>

89
00:03:58,790 --> 00:04:02,750
<font color="#E5E5E5">bridge the the guest VMs over because of</font>

90
00:04:01,670 --> 00:04:04,369
the vulnerabilities we're gonna be

91
00:04:02,750 --> 00:04:07,640
<font color="#E5E5E5">playing</font><font color="#CCCCCC"> with but we do want to have the</font>

92
00:04:04,370 --> 00:04:12,440
<font color="#CCCCCC">Kali</font><font color="#E5E5E5"> box to have internet access and so</font>

93
00:04:07,640 --> 00:04:16,070
we can download stuff so kind of here's

94
00:04:12,440 --> 00:04:18,108
my<font color="#E5E5E5"> setup in host network manager and</font>

95
00:04:16,070 --> 00:04:20,358
does anyone want me<font color="#CCCCCC"> to like walk through</font>

96
00:04:18,108 --> 00:04:21,738
this you guys<font color="#E5E5E5"> get this or you want more</font>

97
00:04:20,358 --> 00:04:24,370
do you<font color="#E5E5E5"> want more detail on how</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> set up</font>

98
00:04:21,738 --> 00:04:24,369
<font color="#E5E5E5">VirtualBox</font>

99
00:04:25,060 --> 00:04:29,760
<font color="#E5E5E5">yes no maybe okay</font>

100
00:04:36,940 --> 00:04:41,800
<font color="#CCCCCC">I'm using the</font><font color="#E5E5E5"> five yeah I've</font><font color="#CCCCCC"> just got</font>

101
00:04:39,790 --> 00:04:42,990
<font color="#E5E5E5">multiple networks here basically I'm</font>

102
00:04:41,800 --> 00:04:45,010
just<font color="#CCCCCC"> creating my own isolated</font>

103
00:04:42,990 --> 00:04:47,290
<font color="#E5E5E5">environment for these two virtual</font>

104
00:04:45,010 --> 00:04:49,390
<font color="#E5E5E5">machines</font><font color="#CCCCCC"> and then I'm gonna</font><font color="#E5E5E5"> assign the</font>

105
00:04:47,290 --> 00:04:53,320
host adapters to<font color="#E5E5E5"> that isolated</font><font color="#CCCCCC"> network</font>

106
00:04:49,390 --> 00:04:54,669
and I and if I want the networking

107
00:04:53,320 --> 00:04:56,500
<font color="#CCCCCC">interface to get</font><font color="#E5E5E5"> an IP address</font>

108
00:04:54,670 --> 00:04:59,710
<font color="#E5E5E5">automatically through DHCP I have to</font>

109
00:04:56,500 --> 00:05:00,730
tell VirtualBox to do DHCP requests on

110
00:04:59,710 --> 00:05:03,640
that so I don't<font color="#E5E5E5"> have</font><font color="#CCCCCC"> to go through</font><font color="#E5E5E5"> and</font>

111
00:05:00,730 --> 00:05:05,650
configure<font color="#E5E5E5"> all my IP addresses this saves</font>

112
00:05:03,640 --> 00:05:14,800
a<font color="#CCCCCC"> little bit of time</font><font color="#E5E5E5"> there that make</font>

113
00:05:05,650 --> 00:05:20,650
<font color="#E5E5E5">sense</font><font color="#CCCCCC"> okay actually you know what I will</font>

114
00:05:14,800 --> 00:05:24,940
<font color="#E5E5E5">just go</font><font color="#CCCCCC"> through this so if we go over</font>

115
00:05:20,650 --> 00:05:27,460
<font color="#CCCCCC">here</font><font color="#E5E5E5"> to host network manager this is</font>

116
00:05:24,940 --> 00:05:28,780
where all<font color="#CCCCCC"> my</font><font color="#E5E5E5"> networks are by default you</font>

117
00:05:27,460 --> 00:05:30,789
<font color="#E5E5E5">you're going</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> need to probably create</font>

118
00:05:28,780 --> 00:05:34,750
a network and then assign<font color="#CCCCCC"> it basically</font>

119
00:05:30,790 --> 00:05:38,730
just assign a DHCP network to it then in

120
00:05:34,750 --> 00:05:38,730
here<font color="#E5E5E5"> on the settings</font>

121
00:05:39,330 --> 00:05:54,400
<font color="#E5E5E5">loads we're gonna add for my</font><font color="#CCCCCC"> Windows box</font>

122
00:05:50,910 --> 00:05:58,780
under networking<font color="#E5E5E5"> I only have one adapter</font>

123
00:05:54,400 --> 00:06:00,099
<font color="#CCCCCC">Abba this is a</font><font color="#E5E5E5"> host-only adapter we can</font>

124
00:05:58,780 --> 00:06:02,219
go<font color="#E5E5E5"> through</font><font color="#CCCCCC"> here and</font><font color="#E5E5E5"> add</font><font color="#CCCCCC"> it to an</font>

125
00:06:00,100 --> 00:06:04,600
<font color="#E5E5E5">internal network or an added network and</font>

126
00:06:02,220 --> 00:06:09,780
then I'm going<font color="#E5E5E5"> to tell</font><font color="#CCCCCC"> it which network</font>

127
00:06:04,600 --> 00:06:09,780
to go to host only<font color="#E5E5E5"> Ethernet adapter for</font>

128
00:06:11,190 --> 00:06:18,370
and then if I look here on<font color="#CCCCCC"> my</font><font color="#E5E5E5"> host</font>

129
00:06:15,580 --> 00:06:22,210
management<font color="#CCCCCC"> network I know that the</font><font color="#E5E5E5"> four</font>

130
00:06:18,370 --> 00:06:25,330
is gonna<font color="#E5E5E5"> be on the</font><font color="#CCCCCC"> 192 168</font><font color="#E5E5E5"> 56.1</font><font color="#CCCCCC"> network</font>

131
00:06:22,210 --> 00:06:27,520
<font color="#CCCCCC">I just need to make sure that both</font>

132
00:06:25,330 --> 00:06:33,219
machines are<font color="#CCCCCC"> on the same network on the</font>

133
00:06:27,520 --> 00:06:37,120
same host only<font color="#E5E5E5"> Ethernet adapter so if</font>

134
00:06:33,220 --> 00:06:38,740
with these with my<font color="#E5E5E5"> Kali</font><font color="#CCCCCC"> Box</font><font color="#E5E5E5"> I've got the</font>

135
00:06:37,120 --> 00:06:40,630
first adapter it's just gonna be NAT

136
00:06:38,740 --> 00:06:43,630
<font color="#CCCCCC">'add to my warehouse Center</font><font color="#E5E5E5"> interface</font>

137
00:06:40,630 --> 00:06:45,400
<font color="#E5E5E5">and the second adapters I'm adding so it</font>

138
00:06:43,630 --> 00:06:48,900
can<font color="#CCCCCC"> communicate with the Windows box so</font>

139
00:06:45,400 --> 00:06:48,900
it's in an isolated<font color="#CCCCCC"> environment</font>

140
00:06:49,520 --> 00:06:57,590
so I have two adapters<font color="#E5E5E5"> here and if I</font>

141
00:06:55,400 --> 00:06:59,210
didn't if I didn't set the DHCP again if

142
00:06:57,590 --> 00:07:01,159
I didn't set the DHCP on the networking

143
00:06:59,210 --> 00:07:02,419
host<font color="#E5E5E5"> then when the machines came up</font>

144
00:07:01,160 --> 00:07:12,380
they'd<font color="#CCCCCC"> have to go through and manually</font>

145
00:07:02,419 --> 00:07:17,270
set the<font color="#E5E5E5"> IP addresses</font><font color="#CCCCCC"> so yeah I'm sending</font>

146
00:07:12,380 --> 00:07:20,360
it<font color="#E5E5E5"> to four on</font><font color="#CCCCCC"> the</font><font color="#E5E5E5"> second machine so I</font>

147
00:07:17,270 --> 00:07:22,609
mean<font color="#E5E5E5"> that's</font><font color="#CCCCCC"> basically the</font><font color="#E5E5E5"> setup</font><font color="#CCCCCC"> so at</font>

148
00:07:20,360 --> 00:07:24,139
this point what<font color="#CCCCCC"> the scenario that</font><font color="#E5E5E5"> I'm</font>

149
00:07:22,610 --> 00:07:26,960
kind<font color="#CCCCCC"> of focusing</font><font color="#E5E5E5"> this training on is</font>

150
00:07:24,139 --> 00:07:28,639
let's<font color="#E5E5E5"> say your</font><font color="#CCCCCC"> friend your coworker</font>

151
00:07:26,960 --> 00:07:32,840
somebody leaves their computer

152
00:07:28,639 --> 00:07:34,430
unattended<font color="#CCCCCC"> how fast can I do</font><font color="#E5E5E5"> something</font>

153
00:07:32,840 --> 00:07:36,888
how fast<font color="#CCCCCC"> can I get</font><font color="#E5E5E5"> a</font><font color="#CCCCCC"> backdoor on there</font>

154
00:07:34,430 --> 00:07:39,710
what's the best way to do this and<font color="#E5E5E5"> like</font>

155
00:07:36,889 --> 00:07:42,500
how could<font color="#E5E5E5"> I do this</font><font color="#CCCCCC"> if I didn't</font><font color="#E5E5E5"> have</font>

156
00:07:39,710 --> 00:07:44,539
<font color="#E5E5E5">anything available to me like like what</font>

157
00:07:42,500 --> 00:07:46,460
would<font color="#E5E5E5"> I need to set up beforehand to be</font>

158
00:07:44,539 --> 00:07:47,419
<font color="#CCCCCC">able</font><font color="#E5E5E5"> to kind of do stuff so</font><font color="#CCCCCC"> we're going</font>

159
00:07:46,460 --> 00:07:52,190
<font color="#E5E5E5">to kind of go through the different</font>

160
00:07:47,419 --> 00:07:53,990
<font color="#E5E5E5">scenarios</font><font color="#CCCCCC"> where we can basically put</font>

161
00:07:52,190 --> 00:07:56,060
something on someone's<font color="#CCCCCC"> computer by just</font>

162
00:07:53,990 --> 00:07:58,820
typing<font color="#E5E5E5"> a bunch of stuff and this kind of</font>

163
00:07:56,060 --> 00:07:59,870
came for me because<font color="#E5E5E5"> people you know when</font>

164
00:07:58,820 --> 00:08:00,979
I<font color="#E5E5E5"> started</font><font color="#CCCCCC"> out doing this stuff people</font>

165
00:07:59,870 --> 00:08:02,300
<font color="#CCCCCC">were like oh you're gonna if you touch</font>

166
00:08:00,979 --> 00:08:04,520
my computer you're<font color="#E5E5E5"> gonna break it</font><font color="#CCCCCC"> you're</font>

167
00:08:02,300 --> 00:08:06,139
gonna hack it and<font color="#CCCCCC"> I was like</font><font color="#E5E5E5"> people</font>

168
00:08:04,520 --> 00:08:08,299
already think<font color="#CCCCCC"> I have that</font><font color="#E5E5E5"> power maybe I</font>

169
00:08:06,139 --> 00:08:13,009
might should just figure out<font color="#E5E5E5"> how</font><font color="#CCCCCC"> to do</font>

170
00:08:08,300 --> 00:08:16,419
it right it's already<font color="#E5E5E5"> afraid of me</font><font color="#CCCCCC"> might</font>

171
00:08:13,009 --> 00:08:19,699
as<font color="#E5E5E5"> well give them a reason to be right</font>

172
00:08:16,419 --> 00:08:21,109
so I mean the old you know when it how

173
00:08:19,699 --> 00:08:22,880
this starts out<font color="#E5E5E5"> and so on these are</font>

174
00:08:21,110 --> 00:08:25,130
<font color="#CCCCCC">computer unlocked and of course you</font>

175
00:08:22,880 --> 00:08:26,469
<font color="#CCCCCC">David Hasselhoff them</font><font color="#E5E5E5"> this is lean</font>

176
00:08:25,130 --> 00:08:28,789
actually did this<font color="#E5E5E5"> to me</font>

177
00:08:26,469 --> 00:08:32,679
this is<font color="#E5E5E5"> this is a picture</font><font color="#CCCCCC"> that leaned</font>

178
00:08:28,789 --> 00:08:35,299
foot I've kept the<font color="#E5E5E5"> screenshot forever</font>

179
00:08:32,679 --> 00:08:37,789
but yeah I left my computer<font color="#E5E5E5"> unlocked and</font>

180
00:08:35,299 --> 00:08:39,859
Kevin came by and<font color="#CCCCCC"> David</font><font color="#E5E5E5"> Hasselhoff me</font>

181
00:08:37,789 --> 00:08:41,569
I'm like<font color="#E5E5E5"> great I'm like how can I take</font>

182
00:08:39,860 --> 00:08:42,800
this one step<font color="#CCCCCC"> further for</font><font color="#E5E5E5"> when he</font>

183
00:08:41,570 --> 00:08:51,079
<font color="#E5E5E5">forgets because I know that's gonna</font>

184
00:08:42,799 --> 00:08:52,339
<font color="#CCCCCC">happen anyway yeah</font><font color="#E5E5E5"> memes funny so yeah I</font>

185
00:08:51,079 --> 00:08:55,250
<font color="#E5E5E5">don't always leave my computer unlocked</font>

186
00:08:52,339 --> 00:09:00,800
<font color="#CCCCCC">what I want I do my slack says gay</font>

187
00:08:55,250 --> 00:09:03,959
turtle and Reese neck<font color="#E5E5E5"> all right</font>

188
00:09:00,800 --> 00:09:04,920
so the first<font color="#E5E5E5"> scenario on the first</font><font color="#CCCCCC"> lap</font>

189
00:09:03,959 --> 00:09:07,369
we're<font color="#E5E5E5"> going to do is we're just going</font><font color="#CCCCCC"> to</font>

190
00:09:04,920 --> 00:09:10,229
go<font color="#CCCCCC"> through and set</font><font color="#E5E5E5"> up netcat listener</font>

191
00:09:07,370 --> 00:09:12,690
<font color="#E5E5E5">net</font><font color="#CCCCCC"> cats kind of like the hello world of</font>

192
00:09:10,230 --> 00:09:15,870
backdooring<font color="#CCCCCC"> it's kind of the</font><font color="#E5E5E5"> the easiest</font>

193
00:09:12,690 --> 00:09:18,779
tool to use<font color="#CCCCCC"> and</font><font color="#E5E5E5"> set up but the</font><font color="#CCCCCC"> problem</font>

194
00:09:15,870 --> 00:09:19,949
is is it's really<font color="#CCCCCC"> easy to learn on</font><font color="#E5E5E5"> start</font>

195
00:09:18,779 --> 00:09:21,600
<font color="#E5E5E5">with but it doesn't give you a lot</font><font color="#CCCCCC"> of</font>

196
00:09:19,949 --> 00:09:26,790
advanced features<font color="#CCCCCC"> and it's actually</font><font color="#E5E5E5"> kind</font>

197
00:09:21,600 --> 00:09:28,019
of<font color="#E5E5E5"> hard to manage long</font><font color="#CCCCCC"> turn so one</font><font color="#E5E5E5"> thing</font>

198
00:09:26,790 --> 00:09:29,610
<font color="#CCCCCC">we</font><font color="#E5E5E5"> need</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> be aware of like when we're</font>

199
00:09:28,019 --> 00:09:32,699
sitting<font color="#CCCCCC"> up for backdoors we are either</font>

200
00:09:29,610 --> 00:09:35,940
going<font color="#CCCCCC"> to dial back</font><font color="#E5E5E5"> on the machine</font><font color="#CCCCCC"> to our</font>

201
00:09:32,699 --> 00:09:37,800
CNC<font color="#E5E5E5"> machine or we're going to dial in to</font>

202
00:09:35,940 --> 00:09:39,389
that machine<font color="#CCCCCC"> so that and that</font><font color="#E5E5E5"> each one</font>

203
00:09:37,800 --> 00:09:43,560
<font color="#CCCCCC">of these kind of has their own scenario</font>

204
00:09:39,389 --> 00:09:44,970
so if if the machines on the<font color="#CCCCCC"> network</font><font color="#E5E5E5"> and</font>

205
00:09:43,560 --> 00:09:46,349
<font color="#E5E5E5">we're on the same subnet or we have</font>

206
00:09:44,970 --> 00:09:48,149
access<font color="#CCCCCC"> to it there's no firewall between</font>

207
00:09:46,350 --> 00:09:50,910
it we can set up<font color="#CCCCCC"> a listener on that</font>

208
00:09:48,149 --> 00:09:53,970
<font color="#CCCCCC">machine and connect to it if it's</font><font color="#E5E5E5"> behind</font>

209
00:09:50,910 --> 00:09:56,610
a firewall usually we want to have the

210
00:09:53,970 --> 00:09:58,800
listener dial back into our CNC machine

211
00:09:56,610 --> 00:10:00,389
<font color="#E5E5E5">and so what would be</font><font color="#CCCCCC"> the reason</font><font color="#E5E5E5"> that's</font>

212
00:09:58,800 --> 00:10:05,849
<font color="#CCCCCC">usually the better option and why is</font>

213
00:10:00,389 --> 00:10:08,009
that<font color="#E5E5E5"> well the the reason is is you know</font>

214
00:10:05,850 --> 00:10:09,540
<font color="#E5E5E5">people put a</font><font color="#CCCCCC"> lot of rules on their</font>

215
00:10:08,009 --> 00:10:12,329
inbound firewall to<font color="#CCCCCC"> prevent things from</font>

216
00:10:09,540 --> 00:10:14,880
<font color="#CCCCCC">coming in</font><font color="#E5E5E5"> people are really</font><font color="#CCCCCC"> whacks on</font>

217
00:10:12,329 --> 00:10:17,939
what they let out<font color="#E5E5E5"> right so if you can</font>

218
00:10:14,880 --> 00:10:21,300
configure your<font color="#CCCCCC"> backdoor to run on</font><font color="#E5E5E5"> port</font>

219
00:10:17,939 --> 00:10:23,750
443<font color="#E5E5E5"> port 53 and make it look like DNS</font>

220
00:10:21,300 --> 00:10:25,889
traffic make it look like web traffic

221
00:10:23,750 --> 00:10:26,970
<font color="#E5E5E5">make it look like something</font><font color="#CCCCCC"> that's</font>

222
00:10:25,889 --> 00:10:29,100
already happening

223
00:10:26,970 --> 00:10:31,500
you can even<font color="#E5E5E5"> there's stuff out</font><font color="#CCCCCC"> there</font>

224
00:10:29,100 --> 00:10:33,120
<font color="#CCCCCC">where they've written backdoors where</font>

225
00:10:31,500 --> 00:10:34,829
they basically<font color="#CCCCCC"> just transport all the</font>

226
00:10:33,120 --> 00:10:37,290
<font color="#E5E5E5">communications through Dropbox or</font>

227
00:10:34,829 --> 00:10:40,290
something<font color="#E5E5E5"> like that so you know when</font>

228
00:10:37,290 --> 00:10:41,819
they try to<font color="#CCCCCC"> get to layer 7 inspection it</font>

229
00:10:40,290 --> 00:10:43,469
gets harder and harder because<font color="#E5E5E5"> they're</font>

230
00:10:41,819 --> 00:10:47,040
<font color="#CCCCCC">going to bury themselves deeper and</font>

231
00:10:43,470 --> 00:10:49,800
deeper into normal user<font color="#CCCCCC"> traffic but for</font>

232
00:10:47,040 --> 00:10:51,870
<font color="#E5E5E5">this for this class we're basically just</font>

233
00:10:49,800 --> 00:10:53,609
going<font color="#E5E5E5"> to be talking about connecting</font><font color="#CCCCCC"> to</font>

234
00:10:51,870 --> 00:10:54,899
ports and dialing<font color="#E5E5E5"> back and we're</font><font color="#CCCCCC"> not</font>

235
00:10:53,610 --> 00:11:00,380
<font color="#E5E5E5">going to get into the very specific</font>

236
00:10:54,899 --> 00:11:03,509
protocol hiding stuff when it comes to

237
00:11:00,380 --> 00:11:05,100
hacking<font color="#E5E5E5"> and offensive computing there's</font>

238
00:11:03,509 --> 00:11:06,750
really only three<font color="#CCCCCC"> things you can</font><font color="#E5E5E5"> do</font>

239
00:11:05,100 --> 00:11:09,600
<font color="#E5E5E5">right there's three goals of a hacker</font>

240
00:11:06,750 --> 00:11:11,819
I'm either going<font color="#E5E5E5"> to</font><font color="#CCCCCC"> compromised a system</font>

241
00:11:09,600 --> 00:11:13,540
which<font color="#E5E5E5"> is I mean ideally that's what</font>

242
00:11:11,819 --> 00:11:14,920
everybody<font color="#E5E5E5"> that's what you know everyone</font>

243
00:11:13,540 --> 00:11:16,360
wants to do they want to own the system

244
00:11:14,920 --> 00:11:19,439
<font color="#E5E5E5">they want to control it right we want</font>

245
00:11:16,360 --> 00:11:21,730
that remote code execution vulnerability

246
00:11:19,440 --> 00:11:23,500
<font color="#CCCCCC">if we can't get that then we're always</font>

247
00:11:21,730 --> 00:11:26,259
looking for<font color="#E5E5E5"> daily</font><font color="#CCCCCC"> leakage</font><font color="#E5E5E5"> like what data</font>

248
00:11:23,500 --> 00:11:29,889
<font color="#E5E5E5">can</font><font color="#CCCCCC"> we glean off of systems what can we</font>

249
00:11:26,259 --> 00:11:32,130
steal like heartbleed was bad<font color="#E5E5E5"> not</font>

250
00:11:29,889 --> 00:11:34,509
<font color="#E5E5E5">because it was a remote code execution</font>

251
00:11:32,130 --> 00:11:37,000
vulnerability<font color="#E5E5E5"> but it was bad</font><font color="#CCCCCC"> because it</font>

252
00:11:34,509 --> 00:11:38,709
was a data leakage<font color="#E5E5E5"> vulnerability that</font>

253
00:11:37,000 --> 00:11:41,199
allowed<font color="#E5E5E5"> you to get access to other</font>

254
00:11:38,709 --> 00:11:43,119
systems like<font color="#CCCCCC"> you</font><font color="#E5E5E5"> could pull memory the</font>

255
00:11:41,199 --> 00:11:45,310
the heartbleed vulnerability allowed you

256
00:11:43,120 --> 00:11:46,240
<font color="#E5E5E5">to pull memory off of the web server so</font>

257
00:11:45,310 --> 00:11:47,649
if someone was logged in with their

258
00:11:46,240 --> 00:11:49,389
credentials you could get their session

259
00:11:47,649 --> 00:11:52,870
data their cookies you could use it<font color="#CCCCCC"> for</font>

260
00:11:49,389 --> 00:11:54,790
further X<font color="#E5E5E5"> data you could use</font><font color="#CCCCCC"> that to</font>

261
00:11:52,870 --> 00:11:57,279
further penetrate systems and I still

262
00:11:54,790 --> 00:11:59,860
know people<font color="#E5E5E5"> that</font><font color="#CCCCCC"> have accounts that</font><font color="#E5E5E5"> they</font>

263
00:11:57,279 --> 00:12:01,660
pulled off random websites<font color="#E5E5E5"> for without</font>

264
00:11:59,860 --> 00:12:03,720
that vulnerability<font color="#E5E5E5"> because they pulled</font>

265
00:12:01,660 --> 00:12:06,550
all the data out of<font color="#E5E5E5"> the web server and</font>

266
00:12:03,720 --> 00:12:08,850
<font color="#CCCCCC">then</font><font color="#E5E5E5"> finally the</font><font color="#CCCCCC"> last the last</font><font color="#E5E5E5"> straw</font><font color="#CCCCCC"> of</font>

267
00:12:06,550 --> 00:12:12,250
a hacker<font color="#E5E5E5"> is always a denial of service</font>

268
00:12:08,850 --> 00:12:14,649
<font color="#E5E5E5">so that's like that's and these the</font>

269
00:12:12,250 --> 00:12:15,880
denial of services<font color="#E5E5E5"> can</font><font color="#CCCCCC"> be be damaging</font>

270
00:12:14,649 --> 00:12:17,680
<font color="#CCCCCC">but they're not as fun right because</font>

271
00:12:15,880 --> 00:12:21,189
you're basically<font color="#CCCCCC"> just stopping someone</font>

272
00:12:17,680 --> 00:12:22,239
from<font color="#E5E5E5"> using</font><font color="#CCCCCC"> something and basically when</font>

273
00:12:21,190 --> 00:12:28,389
you're talking<font color="#E5E5E5"> about hacking those are</font>

274
00:12:22,240 --> 00:12:30,040
the three things that<font color="#E5E5E5"> you</font><font color="#CCCCCC"> can do for the</font>

275
00:12:28,389 --> 00:12:32,139
prep<font color="#CCCCCC"> work for netcat it's not</font>

276
00:12:30,040 --> 00:12:33,730
full-featured and you'll want more

277
00:12:32,139 --> 00:12:35,819
capability so if<font color="#CCCCCC"> netcat is basically</font>

278
00:12:33,730 --> 00:12:37,569
<font color="#E5E5E5">just</font><font color="#CCCCCC"> going</font><font color="#E5E5E5"> to get you command shell and</font>

279
00:12:35,819 --> 00:12:39,160
if you're going<font color="#CCCCCC"> to do anything</font><font color="#E5E5E5"> with</font>

280
00:12:37,569 --> 00:12:41,800
<font color="#E5E5E5">Windows command shell you kind of need</font>

281
00:12:39,160 --> 00:12:43,510
to<font color="#CCCCCC"> have</font><font color="#E5E5E5"> W</font><font color="#CCCCCC"> git or some kind of file</font>

282
00:12:41,800 --> 00:12:45,849
editor or some way of<font color="#E5E5E5"> controlling</font><font color="#CCCCCC"> the</font>

283
00:12:43,510 --> 00:12:47,350
system afterwards so<font color="#E5E5E5"> netcat just gets</font>

284
00:12:45,850 --> 00:12:49,750
you into the<font color="#E5E5E5"> system it doesn't give you</font>

285
00:12:47,350 --> 00:12:51,730
a full-featured<font color="#E5E5E5"> command the control</font>

286
00:12:49,750 --> 00:12:57,760
system like meta toreador will<font color="#CCCCCC"> which</font>

287
00:12:51,730 --> 00:12:59,380
<font color="#CCCCCC">we'll play</font><font color="#E5E5E5"> with later for this lab I'm</font>

288
00:12:57,760 --> 00:13:02,019
just setting up a<font color="#E5E5E5"> local web</font><font color="#CCCCCC"> server on</font><font color="#E5E5E5"> my</font>

289
00:12:59,380 --> 00:13:04,120
<font color="#E5E5E5">box so in this scenario if you wanted to</font>

290
00:13:02,019 --> 00:13:05,889
have a netcat backdoor you<font color="#E5E5E5"> basically you</font>

291
00:13:04,120 --> 00:13:10,060
set up your<font color="#E5E5E5"> web server when you have</font>

292
00:13:05,889 --> 00:13:12,639
your<font color="#CCCCCC"> net cat exe and all your packages</font>

293
00:13:10,060 --> 00:13:14,800
<font color="#CCCCCC">and then you would want to put in</font><font color="#E5E5E5"> maybe</font>

294
00:13:12,639 --> 00:13:17,350
like<font color="#CCCCCC"> a</font><font color="#E5E5E5"> Windows install script on that</font>

295
00:13:14,800 --> 00:13:18,819
web server<font color="#E5E5E5"> and so that way when you're</font>

296
00:13:17,350 --> 00:13:20,740
attacking someone and suddenly<font color="#CCCCCC"> it's</font><font color="#E5E5E5"> our</font>

297
00:13:18,819 --> 00:13:22,959
computer<font color="#E5E5E5"> unlock you basically go to the</font>

298
00:13:20,740 --> 00:13:25,689
<font color="#E5E5E5">website download the script execute the</font>

299
00:13:22,959 --> 00:13:26,619
<font color="#E5E5E5">script and walk away that point you've</font>

300
00:13:25,689 --> 00:13:29,319
set up<font color="#E5E5E5"> a very</font>

301
00:13:26,620 --> 00:13:31,110
quick<font color="#E5E5E5"> easy compromise on the system and</font>

302
00:13:29,320 --> 00:13:33,580
<font color="#CCCCCC">kind of giving yourself that way of</font>

303
00:13:31,110 --> 00:13:35,260
bringing<font color="#E5E5E5"> a system you know getting</font>

304
00:13:33,580 --> 00:13:37,240
<font color="#E5E5E5">access</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> a system and</font><font color="#CCCCCC"> not</font><font color="#E5E5E5"> having</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> be</font>

305
00:13:35,260 --> 00:13:40,480
physically<font color="#CCCCCC"> there</font><font color="#E5E5E5"> other than maybe a</font>

306
00:13:37,240 --> 00:13:42,820
<font color="#E5E5E5">minute or two that's how you would kind</font>

307
00:13:40,480 --> 00:13:45,310
of do a netcat backdoor<font color="#CCCCCC"> where you can</font>

308
00:13:42,820 --> 00:13:46,720
have<font color="#CCCCCC"> or you set up a stuff but the</font>

309
00:13:45,310 --> 00:13:51,939
<font color="#E5E5E5">problem is is this is</font><font color="#CCCCCC"> very easy to</font>

310
00:13:46,720 --> 00:13:54,190
<font color="#E5E5E5">detect as well so additionally with with</font>

311
00:13:51,940 --> 00:13:55,720
the netcat backdoor you<font color="#CCCCCC"> any executable</font>

312
00:13:54,190 --> 00:13:57,580
<font color="#E5E5E5">that</font><font color="#CCCCCC"> you download needs to be portable</font>

313
00:13:55,720 --> 00:13:59,110
<font color="#CCCCCC">so it</font><font color="#E5E5E5"> shouldn't have any</font><font color="#CCCCCC"> installation</font>

314
00:13:57,580 --> 00:14:00,730
dependencies it shouldn't have any

315
00:13:59,110 --> 00:14:02,320
operating system dependencies other than

316
00:14:00,730 --> 00:14:03,730
that<font color="#CCCCCC"> was already</font><font color="#E5E5E5"> previously installed to</font>

317
00:14:02,320 --> 00:14:05,890
<font color="#CCCCCC">you make sure you test whatever</font><font color="#E5E5E5"> you're</font>

318
00:14:03,730 --> 00:14:07,060
using<font color="#CCCCCC"> you don't want to</font><font color="#E5E5E5"> install stuff on</font>

319
00:14:05,890 --> 00:14:09,090
the software<font color="#E5E5E5"> because that's a dead</font>

320
00:14:07,060 --> 00:14:09,089
giveaway

321
00:14:09,660 --> 00:14:14,620
<font color="#CCCCCC">so basically with this</font><font color="#E5E5E5"> I'm just using</font>

322
00:14:11,980 --> 00:14:16,720
<font color="#CCCCCC">GBM which is portable W get and netcat</font>

323
00:14:14,620 --> 00:14:20,800
so that I can get access<font color="#E5E5E5"> to the</font>

324
00:14:16,720 --> 00:14:24,100
operating<font color="#E5E5E5"> system</font><font color="#CCCCCC"> so this</font><font color="#E5E5E5"> is the hello</font>

325
00:14:20,800 --> 00:14:25,599
world command of backdoors and netcat<font color="#E5E5E5"> if</font>

326
00:14:24,100 --> 00:14:27,880
you run<font color="#E5E5E5"> this executable on your Windows</font>

327
00:14:25,600 --> 00:14:31,120
machine it's going<font color="#CCCCCC"> to set netcat to</font>

328
00:14:27,880 --> 00:14:32,980
listen on port 449 and<font color="#E5E5E5"> then any TCP</font>

329
00:14:31,120 --> 00:14:35,230
connection that comes<font color="#CCCCCC"> into</font><font color="#E5E5E5"> the system is</font>

330
00:14:32,980 --> 00:14:37,030
going<font color="#CCCCCC"> to execute a command prompt and</font>

331
00:14:35,230 --> 00:14:38,890
return<font color="#E5E5E5"> that command prompt to the TCP</font>

332
00:14:37,030 --> 00:14:40,930
<font color="#E5E5E5">session so you can connect to this using</font>

333
00:14:38,890 --> 00:14:42,910
telnet<font color="#E5E5E5"> or another netcat or whatever and</font>

334
00:14:40,930 --> 00:14:45,280
execute commands on<font color="#CCCCCC"> the system well</font>

335
00:14:42,910 --> 00:14:51,910
<font color="#E5E5E5">whatever privileges of the user who</font>

336
00:14:45,280 --> 00:14:54,040
<font color="#E5E5E5">executed the netcat instance</font><font color="#CCCCCC"> this is a</font>

337
00:14:51,910 --> 00:14:56,020
the batch command<font color="#CCCCCC"> so this is kind of</font>

338
00:14:54,040 --> 00:14:57,579
like<font color="#CCCCCC"> an install script</font><font color="#E5E5E5"> where it goes</font>

339
00:14:56,020 --> 00:15:00,790
<font color="#E5E5E5">through so you have to make sure</font><font color="#CCCCCC"> that</font>

340
00:14:57,580 --> 00:15:05,200
you enable<font color="#E5E5E5"> the firewall rule allow the</font>

341
00:15:00,790 --> 00:15:07,270
the<font color="#CCCCCC"> roll allowed to pass through which</font>

342
00:15:05,200 --> 00:15:10,300
you can<font color="#CCCCCC"> do with the advanced firewall in</font>

343
00:15:07,270 --> 00:15:14,170
the SH command and I and you want to

344
00:15:10,300 --> 00:15:17,109
allow UDP for netcat and then allow the

345
00:15:14,170 --> 00:15:21,670
the netcat system and so<font color="#CCCCCC"> usually</font><font color="#E5E5E5"> I push</font>

346
00:15:17,110 --> 00:15:27,280
netcat to the<font color="#E5E5E5"> system 32 directory</font><font color="#CCCCCC"> just</font>

347
00:15:21,670 --> 00:15:29,589
so it's off this is<font color="#E5E5E5"> just for reference</font>

348
00:15:27,280 --> 00:15:31,390
this<font color="#E5E5E5"> is just a bunch of commands</font><font color="#CCCCCC"> Windows</font>

349
00:15:29,590 --> 00:15:34,240
commands<font color="#E5E5E5"> and a Linux version just so you</font>

350
00:15:31,390 --> 00:15:36,130
can do stuff<font color="#CCCCCC"> once you've got your</font>

351
00:15:34,240 --> 00:15:38,160
<font color="#E5E5E5">backdoor installed</font><font color="#CCCCCC"> you use that for</font>

352
00:15:36,130 --> 00:15:38,160
reference

353
00:15:39,430 --> 00:15:46,899
you want to make<font color="#CCCCCC"> sure you've got netcat</font>

354
00:15:41,800 --> 00:15:49,359
in<font color="#E5E5E5"> your</font><font color="#CCCCCC"> path</font><font color="#E5E5E5"> your command path so that</font>

355
00:15:46,899 --> 00:15:51,940
you can execute it properly<font color="#E5E5E5"> do other</font>

356
00:15:49,360 --> 00:15:54,100
stuff<font color="#E5E5E5"> everybody understands what the</font>

357
00:15:51,940 --> 00:15:56,320
path is right just<font color="#E5E5E5"> this the folders that</font>

358
00:15:54,100 --> 00:15:57,399
<font color="#E5E5E5">we type of command in it's going to be</font>

359
00:15:56,320 --> 00:15:59,920
these<font color="#E5E5E5"> are the folders</font><font color="#CCCCCC"> that will looks</font>

360
00:15:57,399 --> 00:16:05,080
for so this is just<font color="#E5E5E5"> information for</font>

361
00:15:59,920 --> 00:16:07,270
getting the netcat<font color="#E5E5E5"> so again here's</font>

362
00:16:05,080 --> 00:16:10,320
here's another<font color="#E5E5E5"> vbscript if you want to</font>

363
00:16:07,270 --> 00:16:12,850
use a<font color="#E5E5E5"> BB script to</font><font color="#CCCCCC"> set up your backdoor</font>

364
00:16:10,320 --> 00:16:15,250
<font color="#CCCCCC">powershell</font><font color="#E5E5E5"> you can run commands like</font>

365
00:16:12,850 --> 00:16:17,620
<font color="#E5E5E5">this so however you</font><font color="#CCCCCC"> want to set up</font><font color="#E5E5E5"> your</font>

366
00:16:15,250 --> 00:16:20,170
script to have netcat download netcat

367
00:16:17,620 --> 00:16:22,270
run it and<font color="#E5E5E5"> install it on your</font><font color="#CCCCCC"> system and</font>

368
00:16:20,170 --> 00:16:24,729
<font color="#CCCCCC">so here here's the</font><font color="#E5E5E5"> what it basically</font>

369
00:16:22,270 --> 00:16:27,010
<font color="#E5E5E5">looks like so</font><font color="#CCCCCC"> i'm using netcat</font><font color="#E5E5E5"> from my</font>

370
00:16:24,730 --> 00:16:30,760
<font color="#CCCCCC">kali image</font><font color="#E5E5E5"> to connect to a</font><font color="#CCCCCC"> windows</font>

371
00:16:27,010 --> 00:16:33,040
<font color="#CCCCCC">server</font><font color="#E5E5E5"> once</font><font color="#CCCCCC"> i've connected i</font><font color="#E5E5E5"> can execute</font>

372
00:16:30,760 --> 00:16:34,930
<font color="#E5E5E5">commands maybe start up</font><font color="#CCCCCC"> notepad and then</font>

373
00:16:33,040 --> 00:16:38,890
<font color="#E5E5E5">they'll</font><font color="#CCCCCC"> show up notepad on</font><font color="#E5E5E5"> the person</font>

374
00:16:34,930 --> 00:16:41,079
system<font color="#E5E5E5"> and you can mess with them and</font>

375
00:16:38,890 --> 00:16:42,850
then<font color="#E5E5E5"> I use so here is basically</font><font color="#CCCCCC"> I'm just</font>

376
00:16:41,080 --> 00:16:44,500
<font color="#CCCCCC">using</font><font color="#E5E5E5"> processing Explorer so we can kind</font>

377
00:16:42,850 --> 00:16:48,010
of see how this works we see<font color="#CCCCCC"> that net</font>

378
00:16:44,500 --> 00:16:50,830
cats running<font color="#E5E5E5"> in the background here make</font>

379
00:16:48,010 --> 00:16:52,779
sure<font color="#CCCCCC"> everything is</font><font color="#E5E5E5"> working and then TCP</font>

380
00:16:50,830 --> 00:16:54,190
<font color="#E5E5E5">view to verify it so it's in our way you</font>

381
00:16:52,779 --> 00:16:55,570
can kind of detect this<font color="#CCCCCC"> is someone's</font>

382
00:16:54,190 --> 00:16:57,820
installed in<font color="#E5E5E5"> that</font><font color="#CCCCCC"> cats</font><font color="#E5E5E5"> looking through</font>

383
00:16:55,570 --> 00:17:03,100
here<font color="#E5E5E5"> it's like</font><font color="#CCCCCC"> ISO installed in that cat</font>

384
00:16:57,820 --> 00:17:06,160
<font color="#E5E5E5">and get rid of it delete it batch</font>

385
00:17:03,100 --> 00:17:08,050
commands again<font color="#CCCCCC"> PowerShell this will</font>

386
00:17:06,160 --> 00:17:09,880
<font color="#E5E5E5">basically if you run PowerShell</font><font color="#CCCCCC"> if</font>

387
00:17:08,050 --> 00:17:11,079
<font color="#E5E5E5">windows style hidden it'll run</font>

388
00:17:09,880 --> 00:17:13,329
everything<font color="#E5E5E5"> in the background so they</font>

389
00:17:11,079 --> 00:17:14,649
don't see that you know iconic how many

390
00:17:13,329 --> 00:17:16,178
people have<font color="#E5E5E5"> been out there and</font><font color="#CCCCCC"> I don't</font>

391
00:17:14,650 --> 00:17:18,250
<font color="#CCCCCC">think it happens is much more</font><font color="#E5E5E5"> but when</font>

392
00:17:16,179 --> 00:17:20,199
<font color="#CCCCCC">you see</font><font color="#E5E5E5"> that you see that command shell</font>

393
00:17:18,250 --> 00:17:21,699
open and it's just you know it's running

394
00:17:20,199 --> 00:17:25,689
<font color="#CCCCCC">and doing</font><font color="#E5E5E5"> stuff and you're</font><font color="#CCCCCC"> like yeah</font>

395
00:17:21,699 --> 00:17:27,490
that's<font color="#E5E5E5"> a virus right</font><font color="#CCCCCC"> you see that that</font>

396
00:17:25,689 --> 00:17:29,320
black prompt<font color="#E5E5E5"> you're running a program</font>

397
00:17:27,490 --> 00:17:30,730
you<font color="#E5E5E5"> see the black prompt coming like</font>

398
00:17:29,320 --> 00:17:32,919
yeah this whatever is happening<font color="#CCCCCC"> I know</font>

399
00:17:30,730 --> 00:17:35,170
it's not good<font color="#CCCCCC"> so you want to make sure</font>

400
00:17:32,920 --> 00:17:37,780
<font color="#E5E5E5">you get rid of that trying at</font><font color="#CCCCCC"> least to</font>

401
00:17:35,170 --> 00:17:41,230
try<font color="#E5E5E5"> and make it not as obvious that</font>

402
00:17:37,780 --> 00:17:43,360
<font color="#CCCCCC">something terrible</font><font color="#E5E5E5"> is going on again</font>

403
00:17:41,230 --> 00:17:44,740
shutdown command some<font color="#E5E5E5"> sometimes when you</font>

404
00:17:43,360 --> 00:17:47,379
when you're<font color="#E5E5E5"> doing persistence you might</font>

405
00:17:44,740 --> 00:17:48,730
want to have to reboot the system<font color="#E5E5E5"> to get</font>

406
00:17:47,380 --> 00:17:51,400
other things<font color="#E5E5E5"> that you've got installed</font>

407
00:17:48,730 --> 00:17:52,900
working stuff like that so it's good<font color="#CCCCCC"> to</font>

408
00:17:51,400 --> 00:17:55,990
kind<font color="#E5E5E5"> of be familiar with the shut</font>

409
00:17:52,900 --> 00:17:57,310
command and windows<font color="#E5E5E5"> also</font><font color="#CCCCCC"> if you want</font><font color="#E5E5E5"> to</font>

410
00:17:55,990 --> 00:17:58,750
play around<font color="#E5E5E5"> with</font><font color="#CCCCCC"> the firewall when</font>

411
00:17:57,310 --> 00:18:00,280
you've got<font color="#CCCCCC"> access to</font><font color="#E5E5E5"> the</font><font color="#CCCCCC"> Machine</font><font color="#E5E5E5"> you</font>

412
00:17:58,750 --> 00:18:02,560
want<font color="#E5E5E5"> to execute commands the best way to</font>

413
00:18:00,280 --> 00:18:04,300
do<font color="#E5E5E5"> to do this stuff is through the</font>

414
00:18:02,560 --> 00:18:06,940
commands<font color="#E5E5E5"> and</font><font color="#CCCCCC"> go through the windows</font><font color="#E5E5E5"> API</font>

415
00:18:04,300 --> 00:18:10,930
<font color="#E5E5E5">is instead of trying</font><font color="#CCCCCC"> to use programmatic</font>

416
00:18:06,940 --> 00:18:13,600
things<font color="#E5E5E5"> that might</font><font color="#CCCCCC"> go wrong another way</font>

417
00:18:10,930 --> 00:18:15,400
<font color="#E5E5E5">to kind of hide your</font><font color="#CCCCCC"> backdoor</font><font color="#E5E5E5"> on an</font>

418
00:18:13,600 --> 00:18:19,270
operating<font color="#CCCCCC"> system is to</font><font color="#E5E5E5"> schedule it with</font>

419
00:18:15,400 --> 00:18:21,160
an<font color="#CCCCCC"> Act command at command processes so</font>

420
00:18:19,270 --> 00:18:22,450
if you like if you got netcat installed

421
00:18:21,160 --> 00:18:23,980
and you want it<font color="#E5E5E5"> to run maybe a certain</font>

422
00:18:22,450 --> 00:18:25,930
time or<font color="#E5E5E5"> you know someone's going through</font>

423
00:18:23,980 --> 00:18:28,060
and killing it or it's done you want to

424
00:18:25,930 --> 00:18:29,410
<font color="#E5E5E5">Restall you put in</font><font color="#CCCCCC"> a command</font><font color="#E5E5E5"> now think</font>

425
00:18:28,060 --> 00:18:30,970
<font color="#E5E5E5">about</font><font color="#CCCCCC"> a command is the</font><font color="#E5E5E5"> only</font><font color="#CCCCCC"> C</font><font color="#E5E5E5"> act</font>

426
00:18:29,410 --> 00:18:32,710
commands if you check for<font color="#CCCCCC"> at commands</font>

427
00:18:30,970 --> 00:18:36,190
<font color="#E5E5E5">how many people have checked the</font>

428
00:18:32,710 --> 00:18:39,040
operating system for<font color="#E5E5E5"> at commands all</font>

429
00:18:36,190 --> 00:18:40,480
right so you can have a command run in

430
00:18:39,040 --> 00:18:42,220
there and<font color="#CCCCCC"> it's kind of hidden</font><font color="#E5E5E5"> and</font>

431
00:18:40,480 --> 00:18:44,620
there's no real GUI and there's no real

432
00:18:42,220 --> 00:18:46,270
way<font color="#CCCCCC"> of</font><font color="#E5E5E5"> like just checking that to see if</font>

433
00:18:44,620 --> 00:18:50,350
there's something<font color="#E5E5E5"> weird going on so it's</font>

434
00:18:46,270 --> 00:18:51,610
kind of a place to<font color="#CCCCCC"> hide stuff I mean you</font>

435
00:18:50,350 --> 00:18:53,889
can schedule<font color="#E5E5E5"> it with the task scheduler</font>

436
00:18:51,610 --> 00:18:55,240
<font color="#E5E5E5">but there's a lot</font><font color="#CCCCCC"> more chance to</font><font color="#E5E5E5"> someone</font>

437
00:18:53,890 --> 00:18:56,860
go in there and notice the<font color="#E5E5E5"> task</font><font color="#CCCCCC"> I'm</font><font color="#E5E5E5"> like</font>

438
00:18:55,240 --> 00:18:59,350
what is<font color="#E5E5E5"> this weird task that's scheduled</font>

439
00:18:56,860 --> 00:19:02,070
to run at 3<font color="#E5E5E5"> p.m. every</font><font color="#CCCCCC"> day when we go</font>

440
00:18:59,350 --> 00:19:02,070
<font color="#E5E5E5">ahead and delete that</font>

441
00:19:13,929 --> 00:19:20,419
so you're<font color="#CCCCCC"> asking if I was when I run in</font>

442
00:19:19,039 --> 00:19:25,340
the at command am i generating and other

443
00:19:20,419 --> 00:19:27,169
at command<font color="#CCCCCC"> I suppose you could do that</font><font color="#E5E5E5"> I</font>

444
00:19:25,340 --> 00:19:28,580
<font color="#E5E5E5">don't see the real there would be a</font>

445
00:19:27,169 --> 00:19:29,809
whole benefit because<font color="#E5E5E5"> like if I look at</font>

446
00:19:28,580 --> 00:19:32,178
my<font color="#E5E5E5"> AK</font><font color="#CCCCCC"> hands</font><font color="#E5E5E5"> I'm going to</font><font color="#CCCCCC"> see Q a</font>

447
00:19:29,809 --> 00:19:33,830
commands<font color="#CCCCCC"> maybe if I have</font><font color="#E5E5E5"> a AK man that</font>

448
00:19:32,179 --> 00:19:35,450
creates another<font color="#E5E5E5"> command that might not</font>

449
00:19:33,830 --> 00:19:38,779
get deleted<font color="#E5E5E5"> if it made it</font><font color="#CCCCCC"> look like a</font>

450
00:19:35,450 --> 00:19:40,370
system at command but for the<font color="#CCCCCC"> most part</font>

451
00:19:38,779 --> 00:19:45,980
there should really be nothing in there

452
00:19:40,370 --> 00:19:49,219
in your<font color="#CCCCCC"> act commands</font><font color="#E5E5E5"> so so to answer</font>

453
00:19:45,980 --> 00:19:50,990
your<font color="#E5E5E5"> question</font><font color="#CCCCCC"> I am NOT but</font><font color="#E5E5E5"> basically</font>

454
00:19:49,220 --> 00:19:53,779
with with my at with<font color="#E5E5E5"> that commands you</font>

455
00:19:50,990 --> 00:19:55,309
can<font color="#CCCCCC"> go through and just set like the you</font>

456
00:19:53,779 --> 00:19:56,690
know<font color="#E5E5E5"> have</font><font color="#CCCCCC"> it run</font><font color="#E5E5E5"> every day said it wrote</font>

457
00:19:55,309 --> 00:20:07,820
<font color="#E5E5E5">at a date and it's kind of like I said</font>

458
00:19:56,690 --> 00:20:13,390
<font color="#CCCCCC">it's hidden</font><font color="#E5E5E5"> from the system yeah it's</font>

459
00:20:07,820 --> 00:20:13,389
pretty powerful<font color="#CCCCCC"> as</font><font color="#E5E5E5"> it's fun to play with</font>

460
00:20:17,409 --> 00:20:21,950
<font color="#CCCCCC">also</font><font color="#E5E5E5"> too if you want to try and hide</font>

461
00:20:20,149 --> 00:20:25,879
<font color="#E5E5E5">your tracks you want to make sure that</font>

462
00:20:21,950 --> 00:20:27,200
you<font color="#E5E5E5"> so when you get more advanced stuff</font>

463
00:20:25,880 --> 00:20:30,020
like when<font color="#E5E5E5"> you write if you're gonna</font>

464
00:20:27,200 --> 00:20:33,200
write custom malware<font color="#CCCCCC"> you're you</font><font color="#E5E5E5"> really</font>

465
00:20:30,020 --> 00:20:34,789
don't want<font color="#CCCCCC"> to leave a trace you want to</font>

466
00:20:33,200 --> 00:20:36,620
leave everything<font color="#E5E5E5"> remove so one thing you</font>

467
00:20:34,789 --> 00:20:38,450
can do if you<font color="#CCCCCC"> want to</font><font color="#E5E5E5"> just purge stuff</font>

468
00:20:36,620 --> 00:20:41,539
from is make sure<font color="#E5E5E5"> you're using s delete</font>

469
00:20:38,450 --> 00:20:43,520
or using something<font color="#CCCCCC"> that does kind of</font><font color="#E5E5E5"> a</font>

470
00:20:41,539 --> 00:20:45,169
file level removal instead of just<font color="#E5E5E5"> a</font>

471
00:20:43,520 --> 00:20:47,389
soft delete so<font color="#E5E5E5"> we can go back in here</font>

472
00:20:45,169 --> 00:20:49,669
<font color="#E5E5E5">and see what</font><font color="#CCCCCC"> type of whatever you're</font>

473
00:20:47,390 --> 00:20:51,950
doing because the the biggest<font color="#E5E5E5"> problem</font>

474
00:20:49,669 --> 00:20:54,529
with<font color="#E5E5E5"> cyber war weapons is it's just data</font>

475
00:20:51,950 --> 00:20:56,330
right<font color="#E5E5E5"> so once you once you've written</font>

476
00:20:54,529 --> 00:20:58,850
this really cool awesome script to

477
00:20:56,330 --> 00:20:59,990
attack<font color="#E5E5E5"> someone they get that script they</font>

478
00:20:58,850 --> 00:21:03,668
figure<font color="#CCCCCC"> out</font><font color="#E5E5E5"> how to use</font><font color="#CCCCCC"> it</font><font color="#E5E5E5"> then they're</font>

479
00:20:59,990 --> 00:21:05,390
<font color="#E5E5E5">gonna use it back against you so you</font>

480
00:21:03,669 --> 00:21:09,080
<font color="#E5E5E5">eventually you</font><font color="#CCCCCC"> want</font><font color="#E5E5E5"> to get to the point</font>

481
00:21:05,390 --> 00:21:10,700
<font color="#E5E5E5">where you purge and you're quiet and</font>

482
00:21:09,080 --> 00:21:13,129
<font color="#E5E5E5">that's what the more more professional</font>

483
00:21:10,700 --> 00:21:14,720
pen testers try to do is leave no trace

484
00:21:13,130 --> 00:21:16,610
like they get in<font color="#E5E5E5"> your system they stay</font>

485
00:21:14,720 --> 00:21:18,919
in memory<font color="#E5E5E5"> they do everything and then</font>

486
00:21:16,610 --> 00:21:20,299
they just they delete themselves<font color="#CCCCCC"> and</font>

487
00:21:18,919 --> 00:21:23,240
there's nothing there left<font color="#E5E5E5"> to</font>

488
00:21:20,299 --> 00:21:24,650
investigate against

489
00:21:23,240 --> 00:21:27,860
<font color="#CCCCCC">all right so the</font><font color="#E5E5E5"> first lab but we're</font>

490
00:21:24,650 --> 00:21:30,980
gonna do is<font color="#CCCCCC"> just installing netcat shell</font>

491
00:21:27,860 --> 00:21:36,889
on a VM and connecting to<font color="#CCCCCC"> it using</font><font color="#E5E5E5"> Kali</font>

492
00:21:30,980 --> 00:21:39,559
<font color="#E5E5E5">and he's in Kali and window so I'll</font>

493
00:21:36,890 --> 00:21:41,830
<font color="#E5E5E5">switch the VMS anybody have any</font>

494
00:21:39,559 --> 00:21:46,330
questions<font color="#E5E5E5"> so far</font>

495
00:21:41,830 --> 00:21:48,350
<font color="#E5E5E5">no good all</font><font color="#CCCCCC"> of this stuff makes sense</font>

496
00:21:46,330 --> 00:21:53,678
<font color="#CCCCCC">there's anything you want to</font><font color="#E5E5E5"> go over</font>

497
00:21:48,350 --> 00:21:53,678
<font color="#CCCCCC">again okay</font>

498
00:22:02,390 --> 00:22:06,529
so this is<font color="#E5E5E5"> another thing to be aware</font><font color="#CCCCCC"> of</font>

499
00:22:03,830 --> 00:22:08,000
<font color="#E5E5E5">of the security warning so on this</font>

500
00:22:06,529 --> 00:22:11,179
<font color="#E5E5E5">machine I was previously playing around</font>

501
00:22:08,000 --> 00:22:12,710
<font color="#E5E5E5">if neck hat and so using some of the</font>

502
00:22:11,179 --> 00:22:14,779
techniques provided by offensive

503
00:22:12,710 --> 00:22:16,039
<font color="#CCCCCC">security they say hey you can use</font>

504
00:22:14,779 --> 00:22:18,380
meterpreter or whatever to<font color="#E5E5E5"> make a</font>

505
00:22:16,039 --> 00:22:21,289
persistent<font color="#CCCCCC"> back door so nut cat was</font>

506
00:22:18,380 --> 00:22:24,019
scheduled<font color="#CCCCCC"> to</font><font color="#E5E5E5"> start to boot on startup</font>

507
00:22:21,289 --> 00:22:26,419
<font color="#E5E5E5">but because it's not a verified</font>

508
00:22:24,019 --> 00:22:28,820
published<font color="#E5E5E5"> trusted binary windows like</font>

509
00:22:26,419 --> 00:22:31,010
hey do you really want to<font color="#E5E5E5"> run this and</font>

510
00:22:28,820 --> 00:22:34,010
<font color="#E5E5E5">obviously</font><font color="#CCCCCC"> not</font><font color="#E5E5E5"> I mean if I'm as the user</font>

511
00:22:31,010 --> 00:22:37,580
no I wouldn't<font color="#CCCCCC"> right so you want to make</font>

512
00:22:34,010 --> 00:22:38,658
sure that you on your victims computer<font color="#CCCCCC"> -</font>

513
00:22:37,580 --> 00:22:41,210
you wanna<font color="#E5E5E5"> make sure</font><font color="#CCCCCC"> that</font><font color="#E5E5E5"> you would</font>

514
00:22:38,659 --> 00:22:44,230
<font color="#E5E5E5">either disable this</font><font color="#CCCCCC"> or figure out</font><font color="#E5E5E5"> some</font>

515
00:22:41,210 --> 00:22:44,230
way<font color="#CCCCCC"> to get past</font><font color="#E5E5E5"> it</font>

516
00:23:14,830 --> 00:23:26,230
does anyone have able<font color="#E5E5E5"> to transfer any of</font>

517
00:23:17,050 --> 00:23:26,950
the<font color="#CCCCCC"> PM's or getting</font><font color="#E5E5E5"> things set up yeah</font>

518
00:23:26,230 --> 00:23:31,420
<font color="#E5E5E5">let's</font>

519
00:23:26,950 --> 00:23:34,740
I ordered<font color="#E5E5E5"> a 64-bit USB drives and Amazon</font>

520
00:23:31,420 --> 00:23:36,850
just delivered them so they're at my

521
00:23:34,740 --> 00:23:38,530
like yeah they're<font color="#E5E5E5"> not coming in time so</font>

522
00:23:36,850 --> 00:23:40,480
I ran<font color="#CCCCCC"> to Best Buy and</font><font color="#E5E5E5"> got a bunch of</font>

523
00:23:38,530 --> 00:23:52,180
<font color="#CCCCCC">those mini USB they had and they only</font>

524
00:23:40,480 --> 00:23:55,990
had 32 gig<font color="#CCCCCC"> ok great ok so here on the VM</font>

525
00:23:52,180 --> 00:24:00,820
<font color="#CCCCCC">I have my netcat script and go take</font><font color="#E5E5E5"> a</font>

526
00:23:55,990 --> 00:24:03,070
look at it if notepad this<font color="#E5E5E5"> is a</font>

527
00:24:00,820 --> 00:24:06,850
<font color="#E5E5E5">PowerShell script</font><font color="#CCCCCC"> I can just sit here</font>

528
00:24:03,070 --> 00:24:10,659
<font color="#CCCCCC">and run I'm gonna you know I've</font><font color="#E5E5E5"> put</font>

529
00:24:06,850 --> 00:24:13,179
<font color="#E5E5E5">Windows netcat in</font><font color="#CCCCCC"> or I putting a cat in</font>

530
00:24:10,660 --> 00:24:25,330
<font color="#E5E5E5">the Windows</font><font color="#CCCCCC"> System directory and go</font>

531
00:24:13,180 --> 00:24:30,610
ahead and run<font color="#CCCCCC"> it yeah if you follow</font>

532
00:24:25,330 --> 00:24:32,710
through<font color="#E5E5E5"> so</font><font color="#CCCCCC"> we'll go back to that</font><font color="#E5E5E5"> oh yeah</font>

533
00:24:30,610 --> 00:24:35,310
<font color="#E5E5E5">so the question</font><font color="#CCCCCC"> was is are the</font>

534
00:24:32,710 --> 00:24:38,740
<font color="#E5E5E5">directions for the lab in the PowerPoint</font>

535
00:24:35,310 --> 00:24:42,220
<font color="#E5E5E5">yes but it's not a step-by-step so</font>

536
00:24:38,740 --> 00:24:46,650
basically if<font color="#E5E5E5"> you go back through here</font><font color="#CCCCCC"> we</font>

537
00:24:42,220 --> 00:24:48,970
can go<font color="#CCCCCC"> through and</font><font color="#E5E5E5"> look at the commands</font>

538
00:24:46,650 --> 00:24:51,280
<font color="#CCCCCC">so basically we</font><font color="#E5E5E5"> want to make</font><font color="#CCCCCC"> sure that</font>

539
00:24:48,970 --> 00:24:54,730
we've started<font color="#CCCCCC"> Apache because we're going</font>

540
00:24:51,280 --> 00:24:58,649
<font color="#E5E5E5">to download netcat from Apache copy it</font>

541
00:24:54,730 --> 00:25:01,360
to<font color="#E5E5E5"> Windows 32 and then we'll execute the</font>

542
00:24:58,650 --> 00:25:03,400
script<font color="#E5E5E5"> and so here's the commands that's</font>

543
00:25:01,360 --> 00:25:06,070
rant<font color="#CCCCCC"> that we're gonna run and the</font>

544
00:25:03,400 --> 00:25:07,360
breakdown<font color="#E5E5E5"> of the command and then these</font>

545
00:25:06,070 --> 00:25:10,720
are<font color="#E5E5E5"> all</font><font color="#CCCCCC"> the different scripts you guys</font>

546
00:25:07,360 --> 00:25:12,490
can play<font color="#E5E5E5"> with so it's kind of its kind</font>

547
00:25:10,720 --> 00:25:15,180
of a choose-your-own-adventure here a

548
00:25:12,490 --> 00:25:17,350
little bit but<font color="#CCCCCC"> I'm</font><font color="#E5E5E5"> gonna walk through it</font>

549
00:25:15,180 --> 00:25:19,510
<font color="#CCCCCC">but</font><font color="#E5E5E5"> that's a good point</font>

550
00:25:17,350 --> 00:25:21,909
<font color="#CCCCCC">I I will add more slides where I provide</font>

551
00:25:19,510 --> 00:25:23,170
<font color="#E5E5E5">like a step by</font><font color="#CCCCCC"> step scenario through it</font>

552
00:25:21,910 --> 00:25:25,350
so<font color="#E5E5E5"> you guys</font><font color="#CCCCCC"> can play</font><font color="#E5E5E5"> around with it</font>

553
00:25:23,170 --> 00:25:25,350
later

554
00:25:30,870 --> 00:25:43,030
okay so let's<font color="#CCCCCC"> just verify</font><font color="#E5E5E5"> connectivity</font>

555
00:25:36,270 --> 00:25:44,320
<font color="#E5E5E5">I'm on dot</font><font color="#CCCCCC"> three on that machine and on</font>

556
00:25:43,030 --> 00:25:57,190
this machine

557
00:25:44,320 --> 00:25:58,929
<font color="#E5E5E5">I am dot four so I'm going to ping yeah</font>

558
00:25:57,190 --> 00:26:00,790
I've<font color="#E5E5E5"> got communication so basically I'm</font>

559
00:25:58,930 --> 00:26:03,640
just gonna verify<font color="#CCCCCC"> am</font><font color="#E5E5E5"> I on the same</font>

560
00:26:00,790 --> 00:26:07,360
network is it all internal<font color="#E5E5E5"> can</font><font color="#CCCCCC"> I ping</font>

561
00:26:03,640 --> 00:26:23,280
the<font color="#E5E5E5"> Internet</font><font color="#CCCCCC"> should</font><font color="#E5E5E5"> it be able to</font><font color="#CCCCCC"> from</font>

562
00:26:07,360 --> 00:26:33,580
<font color="#E5E5E5">this box good</font><font color="#CCCCCC"> okay so on</font>

563
00:26:23,280 --> 00:26:44,700
<font color="#E5E5E5">Kelly box camping the Internet but I was</font>

564
00:26:33,580 --> 00:26:44,699
<font color="#CCCCCC">able to</font><font color="#E5E5E5"> ping all right</font>

565
00:26:50,659 --> 00:26:58,580
<font color="#E5E5E5">okay we're good there so on this to get</font>

566
00:26:54,320 --> 00:26:59,678
internet<font color="#CCCCCC"> access I just need to</font><font color="#E5E5E5"> DHCP my</font>

567
00:26:58,580 --> 00:27:02,289
<font color="#CCCCCC">East</font><font color="#E5E5E5"> zero</font>

568
00:26:59,679 --> 00:27:05,259
so right now<font color="#CCCCCC"> I've CC my East</font><font color="#E5E5E5"> zero</font>

569
00:27:02,289 --> 00:27:08,389
<font color="#E5E5E5">interface does not have internet</font><font color="#CCCCCC"> access</font>

570
00:27:05,259 --> 00:27:11,029
<font color="#CCCCCC">so I'm just gonna do a DHCP client Eve</font>

571
00:27:08,389 --> 00:27:15,320
<font color="#E5E5E5">zero and that should give me</font><font color="#CCCCCC"> an IP</font>

572
00:27:11,029 --> 00:27:17,570
address<font color="#E5E5E5"> on</font><font color="#CCCCCC"> that interface and so I have</font>

573
00:27:15,320 --> 00:27:23,139
a 2:15 and so now I should<font color="#CCCCCC"> be</font><font color="#E5E5E5"> able</font><font color="#CCCCCC"> to</font>

574
00:27:17,570 --> 00:27:26,139
get that<font color="#CCCCCC"> out to Google</font><font color="#E5E5E5"> I do whatever yep</font>

575
00:27:23,139 --> 00:27:26,139
<font color="#E5E5E5">okay</font>

576
00:27:36,350 --> 00:27:48,510
<font color="#E5E5E5">Pachi to start so I'm going to start my</font>

577
00:27:40,020 --> 00:27:57,059
web<font color="#E5E5E5"> server and then on my Windows</font>

578
00:27:48,510 --> 00:28:02,610
machine<font color="#E5E5E5"> I'm going to go to the IP</font>

579
00:27:57,059 --> 00:28:04,820
address all<font color="#E5E5E5"> right that's my web server</font>

580
00:28:02,610 --> 00:28:07,408
and<font color="#E5E5E5"> then I'm going to pull down</font><font color="#CCCCCC"> netcat</font>

581
00:28:04,820 --> 00:28:09,530
<font color="#E5E5E5">so</font><font color="#CCCCCC"> basically the the</font><font color="#E5E5E5"> scenario you</font><font color="#CCCCCC"> want</font>

582
00:28:07,409 --> 00:28:13,200
to play with<font color="#E5E5E5"> is we just want to</font><font color="#CCCCCC"> practice</font>

583
00:28:09,530 --> 00:28:15,120
doing<font color="#CCCCCC"> it manually you know downloading</font>

584
00:28:13,200 --> 00:28:17,669
that<font color="#E5E5E5"> cat getting installed getting all</font>

585
00:28:15,120 --> 00:28:19,199
the pieces<font color="#E5E5E5"> in</font><font color="#CCCCCC"> place and then building</font>

586
00:28:17,669 --> 00:28:20,789
<font color="#E5E5E5">you know basically the next</font><font color="#CCCCCC"> step beyond</font>

587
00:28:19,200 --> 00:28:22,200
<font color="#E5E5E5">that just building a script the problem</font>

588
00:28:20,789 --> 00:28:25,890
with scripts is they're<font color="#E5E5E5"> great if they</font>

589
00:28:22,200 --> 00:28:27,570
work right<font color="#E5E5E5"> but if they don't work then</font>

590
00:28:25,890 --> 00:28:29,549
you've got to you know<font color="#E5E5E5"> either got to</font>

591
00:28:27,570 --> 00:28:31,049
<font color="#CCCCCC">finish putting it in there or finish</font>

592
00:28:29,549 --> 00:28:32,370
<font color="#E5E5E5">getting deleted and if you've got like</font>

593
00:28:31,049 --> 00:28:34,559
let's say the time between<font color="#E5E5E5"> someone's</font>

594
00:28:32,370 --> 00:28:36,689
going to<font color="#CCCCCC"> they're there the bathroom on a</font>

595
00:28:34,559 --> 00:28:38,280
break<font color="#CCCCCC"> and coming back so you</font><font color="#E5E5E5"> want to</font>

596
00:28:36,690 --> 00:28:41,280
practice<font color="#E5E5E5"> may be going through</font><font color="#CCCCCC"> this step</font>

597
00:28:38,280 --> 00:28:43,440
a little<font color="#CCCCCC"> bit you</font><font color="#E5E5E5"> know getting your</font>

598
00:28:41,280 --> 00:28:44,730
script working getting<font color="#E5E5E5"> the netcat</font>

599
00:28:43,440 --> 00:28:46,500
installed getting it and put in<font color="#E5E5E5"> place</font>

600
00:28:44,730 --> 00:28:47,600
and getting<font color="#E5E5E5"> it</font><font color="#CCCCCC"> running and then walking</font>

601
00:28:46,500 --> 00:28:51,270
<font color="#E5E5E5">away with it</font>

602
00:28:47,600 --> 00:28:54,030
so we have<font color="#CCCCCC"> netcat downloaded</font><font color="#E5E5E5"> it's going</font>

603
00:28:51,270 --> 00:29:05,179
to go into my downloads<font color="#CCCCCC"> I'm going to</font>

604
00:28:54,030 --> 00:29:05,178
copy it<font color="#CCCCCC"> go to windows</font><font color="#E5E5E5"> paste it into here</font>

605
00:29:05,210 --> 00:29:15,000
and then I'm done there<font color="#CCCCCC"> and then I just</font>

606
00:29:08,970 --> 00:29:20,610
<font color="#CCCCCC">delete it</font><font color="#E5E5E5"> here and I go in here delete</font>

607
00:29:15,000 --> 00:29:22,169
<font color="#CCCCCC">it again</font><font color="#E5E5E5"> so that's pretty fast right</font><font color="#CCCCCC"> so</font>

608
00:29:20,610 --> 00:29:23,820
I've<font color="#E5E5E5"> got it installed next thing is just</font>

609
00:29:22,169 --> 00:29:25,919
executing my script so I can store<font color="#CCCCCC"> my</font>

610
00:29:23,820 --> 00:29:27,330
<font color="#E5E5E5">script on the web server</font><font color="#CCCCCC"> I pulled my</font>

611
00:29:25,919 --> 00:29:29,250
sister grip<font color="#E5E5E5"> down I either put it in a</font>

612
00:29:27,330 --> 00:29:32,850
place where<font color="#CCCCCC"> I can copy and paste it and</font>

613
00:29:29,250 --> 00:29:35,240
run it<font color="#E5E5E5"> or just execute the PowerShell</font>

614
00:29:32,850 --> 00:29:35,240
script

615
00:29:41,810 --> 00:29:45,110
changing<font color="#E5E5E5"> hands</font>

616
00:29:50,130 --> 00:29:53,090
see if that

617
00:30:13,200 --> 00:30:25,200
so if that did<font color="#E5E5E5"> not put</font><font color="#CCCCCC"> that cat in the</font>

618
00:30:15,960 --> 00:30:29,960
back<font color="#E5E5E5"> okay so yeah on this script it's</font>

619
00:30:25,200 --> 00:30:37,830
doing kind<font color="#E5E5E5"> of the whole download I</font>

620
00:30:29,960 --> 00:30:39,420
change this yeah so what this scripts

621
00:30:37,830 --> 00:30:42,270
supposed to do is<font color="#E5E5E5"> just basically go</font>

622
00:30:39,420 --> 00:30:45,060
through<font color="#E5E5E5"> and download that cat move it to</font>

623
00:30:42,270 --> 00:30:46,710
Windows<font color="#E5E5E5"> CE and move it to the path but</font>

624
00:30:45,060 --> 00:30:48,960
because of the<font color="#E5E5E5"> permissions it's probably</font>

625
00:30:46,710 --> 00:30:51,870
going<font color="#CCCCCC"> to fail</font><font color="#E5E5E5"> so if you run it as</font>

626
00:30:48,960 --> 00:30:54,890
administrator it should go<font color="#E5E5E5"> through but</font>

627
00:30:51,870 --> 00:30:57,330
<font color="#E5E5E5">let's just run this part real quick</font>

628
00:30:54,890 --> 00:31:00,210
problem with<font color="#E5E5E5"> this stuff is</font><font color="#CCCCCC"> Windows</font>

629
00:30:57,330 --> 00:31:02,610
changes things<font color="#CCCCCC"> so something that</font><font color="#E5E5E5"> worked</font>

630
00:31:00,210 --> 00:31:04,650
<font color="#CCCCCC">four</font><font color="#E5E5E5"> months ago doesn't work now</font>

631
00:31:02,610 --> 00:31:06,750
<font color="#E5E5E5">something that</font><font color="#CCCCCC"> works the past usually</font>

632
00:31:04,650 --> 00:31:08,010
you kind<font color="#CCCCCC"> of have to refresh</font><font color="#E5E5E5"> this so it's</font>

633
00:31:06,750 --> 00:31:14,280
really<font color="#E5E5E5"> good to</font><font color="#CCCCCC"> kind of go through</font><font color="#E5E5E5"> it</font>

634
00:31:08,010 --> 00:31:16,140
over<font color="#CCCCCC"> and over</font><font color="#E5E5E5"> again if you want to</font>

635
00:31:14,280 --> 00:31:19,970
automate<font color="#CCCCCC"> the process</font><font color="#E5E5E5"> sometimes it's just</font>

636
00:31:16,140 --> 00:31:19,970
easier<font color="#CCCCCC"> to do it manually</font>

637
00:31:49,440 --> 00:31:52,400
let's try this

638
00:32:34,820 --> 00:32:39,820
let's try the vbscript<font color="#CCCCCC"> I think that</font>

639
00:32:36,980 --> 00:32:39,820
usually<font color="#CCCCCC"> works better</font>

640
00:33:23,500 --> 00:33:27,450
<font color="#E5E5E5">no no netcat still</font>

641
00:33:29,500 --> 00:33:41,220
Oh<font color="#E5E5E5"> run as administrator'</font>

642
00:34:05,200 --> 00:34:07,950
mind

643
00:34:22,199 --> 00:34:34,560
<font color="#E5E5E5">okay let's try register so this is the</font>

644
00:34:32,040 --> 00:34:37,050
<font color="#E5E5E5">the going back</font><font color="#CCCCCC"> to slides here this is</font>

645
00:34:34,560 --> 00:34:39,418
the register<font color="#CCCCCC"> add command</font><font color="#E5E5E5"> that I put in</font>

646
00:34:37,050 --> 00:34:41,490
previously when I was testing this that

647
00:34:39,418 --> 00:34:44,819
<font color="#E5E5E5">basically when it boots up its going to</font>

648
00:34:41,489 --> 00:34:47,250
<font color="#E5E5E5">start neck hat so I'm just gonna run</font>

649
00:34:44,820 --> 00:34:58,890
<font color="#E5E5E5">this manually but if we were to go</font>

650
00:34:47,250 --> 00:35:01,310
<font color="#CCCCCC">through and run these commands have</font><font color="#E5E5E5"> to</font>

651
00:34:58,890 --> 00:35:01,310
run it as administrator

652
00:35:06,210 --> 00:35:10,250
start CMD

653
00:35:12,300 --> 00:35:20,460
run as administrator'<font color="#E5E5E5"> yes that goes</font>

654
00:35:18,930 --> 00:35:23,899
<font color="#E5E5E5">through and updates it so you have the</font>

655
00:35:20,460 --> 00:35:23,900
commands all ready to go there

656
00:35:31,370 --> 00:35:45,140
see if the copy command still works out

657
00:35:40,170 --> 00:35:45,140
number<font color="#CCCCCC"> X</font><font color="#E5E5E5"> copy</font>

658
00:35:49,530 --> 00:35:56,520
oh yeah I have to<font color="#E5E5E5"> be in the</font><font color="#CCCCCC"> Downloads</font>

659
00:35:51,570 --> 00:35:58,920
folder<font color="#E5E5E5"> that is why but you can run that</font>

660
00:35:56,520 --> 00:36:01,230
command<font color="#CCCCCC"> basically</font><font color="#E5E5E5"> if you have the full</font>

661
00:35:58,920 --> 00:36:07,680
path thing in there<font color="#E5E5E5"> you can have</font><font color="#CCCCCC"> it copy</font>

662
00:36:01,230 --> 00:36:09,480
over that will set up the<font color="#CCCCCC"> reg and then</font>

663
00:36:07,680 --> 00:36:14,580
you go through<font color="#CCCCCC"> and run the firewall</font>

664
00:36:09,480 --> 00:36:17,720
commands<font color="#E5E5E5"> let's try this one again this</font>

665
00:36:14,580 --> 00:36:17,720
one should<font color="#E5E5E5"> work</font>

666
00:36:25,940 --> 00:36:28,960
have<font color="#E5E5E5"> something</font>

667
00:36:40,450 --> 00:36:44,970
anyway<font color="#E5E5E5"> we can go over that a little bit</font>

668
00:36:43,330 --> 00:36:47,950
<font color="#E5E5E5">later we'll just move on for right</font><font color="#CCCCCC"> now</font>

669
00:36:44,970 --> 00:36:49,540
<font color="#E5E5E5">so I'm just</font><font color="#CCCCCC"> gonna run</font><font color="#E5E5E5"> netcat from a</font>

670
00:36:47,950 --> 00:36:52,089
<font color="#E5E5E5">terminal to start with and this is</font><font color="#CCCCCC"> how I</font>

671
00:36:49,540 --> 00:36:55,630
kind<font color="#E5E5E5"> of recommend starting well this is</font>

672
00:36:52,090 --> 00:36:58,660
where we<font color="#CCCCCC"> should</font><font color="#E5E5E5"> have started so I'm just</font>

673
00:36:55,630 --> 00:37:11,310
going<font color="#E5E5E5"> to go to the path where netcat is</font>

674
00:36:58,660 --> 00:37:11,310
located<font color="#CCCCCC"> Windows correctly</font>

675
00:37:16,800 --> 00:37:22,210
again we have this Windows Defender

676
00:37:19,300 --> 00:37:24,250
<font color="#CCCCCC">pop-up so I'm going to</font><font color="#E5E5E5"> talk</font><font color="#CCCCCC"> about a</font>

677
00:37:22,210 --> 00:37:25,270
little<font color="#CCCCCC"> bit</font><font color="#E5E5E5"> about just just disabling it</font>

678
00:37:24,250 --> 00:37:27,010
while you're playing with<font color="#E5E5E5"> it</font>

679
00:37:25,270 --> 00:37:29,230
but you can kind<font color="#CCCCCC"> of see like</font><font color="#E5E5E5"> all these</font>

680
00:37:27,010 --> 00:37:30,490
security controls and things<font color="#CCCCCC"> that</font><font color="#E5E5E5"> kind</font>

681
00:37:29,230 --> 00:37:33,700
of<font color="#E5E5E5"> get in your</font><font color="#CCCCCC"> way of doing this</font>

682
00:37:30,490 --> 00:37:35,080
<font color="#CCCCCC">backdooring stuff so we have netcat</font><font color="#E5E5E5"> set</font>

683
00:37:33,700 --> 00:37:37,180
<font color="#E5E5E5">up we're going to say yeah listen</font><font color="#CCCCCC"> on</font>

684
00:37:35,080 --> 00:37:40,870
everything<font color="#E5E5E5"> I'm gonna set up</font><font color="#CCCCCC"> the listener</font>

685
00:37:37,180 --> 00:37:52,210
tell it to run command<font color="#E5E5E5"> verify that it's</font>

686
00:37:40,870 --> 00:37:57,069
<font color="#E5E5E5">running so we have proc</font><font color="#CCCCCC"> c'mon so we can</font>

687
00:37:52,210 --> 00:37:59,740
see the<font color="#CCCCCC"> process and then we see right</font>

688
00:37:57,070 --> 00:38:02,110
here<font color="#CCCCCC"> so here's our net</font><font color="#E5E5E5"> compare that cat</font>

689
00:37:59,740 --> 00:38:13,680
command<font color="#CCCCCC"> and then let's just connect to</font>

690
00:38:02,110 --> 00:38:13,680
<font color="#CCCCCC">it through Oh switch VMs Callie</font>

691
00:38:31,170 --> 00:38:35,790
and so we can see there now I've got

692
00:38:33,300 --> 00:38:38,850
<font color="#CCCCCC">access to the Windows machine through</font>

693
00:38:35,790 --> 00:38:41,670
netcat<font color="#CCCCCC"> through a back door we've</font><font color="#E5E5E5"> kind of</font>

694
00:38:38,850 --> 00:38:43,110
seen<font color="#CCCCCC"> I thought about making</font><font color="#E5E5E5"> you know I</font>

695
00:38:41,670 --> 00:38:44,580
should<font color="#E5E5E5"> probably make this</font><font color="#CCCCCC"> streamline but</font>

696
00:38:43,110 --> 00:38:47,630
<font color="#E5E5E5">I kind of</font><font color="#CCCCCC"> I really</font><font color="#E5E5E5"> guys want you guys to</font>

697
00:38:44,580 --> 00:38:50,970
know all the things<font color="#E5E5E5"> that can go</font><font color="#CCCCCC"> wrong</font>

698
00:38:47,630 --> 00:38:56,250
because<font color="#E5E5E5"> that</font><font color="#CCCCCC"> way you'll be</font><font color="#E5E5E5"> more</font><font color="#CCCCCC"> prepared</font>

699
00:38:50,970 --> 00:38:57,629
<font color="#CCCCCC">for them so basically the the netcat we</font>

700
00:38:56,250 --> 00:39:02,790
have in<font color="#E5E5E5"> that cat listener you know I can</font>

701
00:38:57,630 --> 00:39:05,060
do a dr<font color="#CCCCCC"> /p e get the files who am i</font><font color="#E5E5E5"> if</font>

702
00:39:02,790 --> 00:39:12,090
i've got<font color="#E5E5E5"> w get installed on there</font><font color="#CCCCCC"> i</font>

703
00:39:05,060 --> 00:39:14,460
think is in downloads<font color="#E5E5E5"> shells are very</font>

704
00:39:12,090 --> 00:39:16,260
<font color="#CCCCCC">different from terminals like you have</font>

705
00:39:14,460 --> 00:39:18,150
tab in terminals you have all<font color="#E5E5E5"> these</font>

706
00:39:16,260 --> 00:39:20,730
features<font color="#E5E5E5"> built in when you have a really</font>

707
00:39:18,150 --> 00:39:22,410
<font color="#E5E5E5">primitive shell you lose all of that so</font>

708
00:39:20,730 --> 00:39:26,670
it<font color="#E5E5E5"> can get a little bit weird when</font>

709
00:39:22,410 --> 00:39:28,680
you're trying<font color="#E5E5E5"> to find stuff so if you</font>

710
00:39:26,670 --> 00:39:30,300
don't know the pathing directly off the

711
00:39:28,680 --> 00:39:32,850
<font color="#E5E5E5">top of</font><font color="#CCCCCC"> your</font><font color="#E5E5E5"> head</font><font color="#CCCCCC"> you got</font><font color="#E5E5E5"> to type it in</font>

712
00:39:30,300 --> 00:39:36,540
<font color="#CCCCCC">it</font><font color="#E5E5E5"> won't it won't tab out and do all</font>

713
00:39:32,850 --> 00:39:40,830
<font color="#CCCCCC">this</font><font color="#E5E5E5"> special stuff for</font><font color="#CCCCCC"> you</font><font color="#E5E5E5"> but</font><font color="#CCCCCC"> let's</font>

714
00:39:36,540 --> 00:39:42,690
just drop<font color="#CCCCCC"> w get over there and</font><font color="#E5E5E5"> then we</font>

715
00:39:40,830 --> 00:39:46,730
could you<font color="#CCCCCC"> know down if we wanted to now</font>

716
00:39:42,690 --> 00:39:46,730
we could download<font color="#E5E5E5"> and install more stuff</font>

717
00:39:51,900 --> 00:40:10,529
see this computer so there's when<font color="#CCCCCC"> W get</font>

718
00:39:59,339 --> 00:40:10,529
copy that over I'll<font color="#E5E5E5"> just dump it in here</font>

719
00:40:23,780 --> 00:40:26,380
<font color="#E5E5E5">yeah</font>

720
00:40:28,900 --> 00:40:38,390
yeah<font color="#E5E5E5"> now I got my W command so I could W</font>

721
00:40:31,970 --> 00:40:40,220
get whatever so if I<font color="#E5E5E5"> had more</font>

722
00:40:38,390 --> 00:40:42,589
executables I won't<font color="#CCCCCC"> install more things</font>

723
00:40:40,220 --> 00:40:45,368
I<font color="#CCCCCC"> want to stall I can</font><font color="#E5E5E5"> W get them install</font>

724
00:40:42,589 --> 00:40:49,150
them<font color="#E5E5E5"> get more things installed</font><font color="#CCCCCC"> whatever</font>

725
00:40:45,369 --> 00:40:53,170
so<font color="#CCCCCC"> that's kind of the basics of netcat</font>

726
00:40:49,150 --> 00:40:53,170
<font color="#CCCCCC">anybody you have any questions on that</font>

727
00:40:53,319 --> 00:40:57,759
<font color="#E5E5E5">yep move on</font>

728
00:41:04,680 --> 00:41:06,740
you

729
00:41:16,110 --> 00:41:21,540
<font color="#E5E5E5">okay</font><font color="#CCCCCC"> so the</font><font color="#E5E5E5"> next thing we're gonna do</font><font color="#CCCCCC"> is</font>

730
00:41:19,440 --> 00:41:23,700
we're<font color="#E5E5E5"> gonna play around with</font><font color="#CCCCCC"> menace play</font>

731
00:41:21,540 --> 00:41:26,820
and use meterpreter<font color="#CCCCCC"> you can see that</font>

732
00:41:23,700 --> 00:41:29,310
meterpreter is a lot less awkward<font color="#CCCCCC"> but</font>

733
00:41:26,820 --> 00:41:32,730
again it's gonna get hit by Windows

734
00:41:29,310 --> 00:41:35,670
Defender<font color="#E5E5E5"> so one thing to keep in mind</font>

735
00:41:32,730 --> 00:41:37,650
<font color="#E5E5E5">when we're talking about exploits and</font>

736
00:41:35,670 --> 00:41:39,930
payloads like the vulnerability<font color="#E5E5E5"> is the</font>

737
00:41:37,650 --> 00:41:41,940
path<font color="#E5E5E5"> the vulnerability is how I'm going</font>

738
00:41:39,930 --> 00:41:44,520
to<font color="#E5E5E5"> get into your system</font><font color="#CCCCCC"> the exploit is</font>

739
00:41:41,940 --> 00:41:47,340
<font color="#E5E5E5">how the tools</font><font color="#CCCCCC"> or the</font><font color="#E5E5E5"> technique that's</font>

740
00:41:44,520 --> 00:41:49,740
going<font color="#CCCCCC"> to allow me to leverage the</font>

741
00:41:47,340 --> 00:41:52,080
vulnerability<font color="#CCCCCC"> and then the payload is</font>

742
00:41:49,740 --> 00:41:54,689
what I'm<font color="#CCCCCC"> gonna</font><font color="#E5E5E5"> do once I've gotten into</font>

743
00:41:52,080 --> 00:41:56,580
<font color="#CCCCCC">some sort of executable pass and so that</font>

744
00:41:54,690 --> 00:41:58,410
these<font color="#E5E5E5"> are really important terminologies</font>

745
00:41:56,580 --> 00:41:59,790
when it comes to you<font color="#E5E5E5"> and when I was</font>

746
00:41:58,410 --> 00:42:01,830
younger<font color="#E5E5E5"> this</font><font color="#CCCCCC"> is</font><font color="#E5E5E5"> something that</font><font color="#CCCCCC"> really</font>

747
00:41:59,790 --> 00:42:03,750
<font color="#E5E5E5">kind of was I felt like everyone just</font>

748
00:42:01,830 --> 00:42:05,880
<font color="#E5E5E5">assumed you knew so I always</font><font color="#CCCCCC"> try to</font><font color="#E5E5E5"> make</font>

749
00:42:03,750 --> 00:42:07,410
<font color="#CCCCCC">sure everyone understands this that</font><font color="#E5E5E5"> the</font>

750
00:42:05,880 --> 00:42:09,000
<font color="#E5E5E5">vulnerabilities just like have the path</font>

751
00:42:07,410 --> 00:42:11,399
like how am I going<font color="#E5E5E5"> to get in there and</font>

752
00:42:09,000 --> 00:42:21,870
then the exploit is<font color="#E5E5E5"> how technically how</font>

753
00:42:11,400 --> 00:42:24,450
I'm going to<font color="#E5E5E5"> leverage that path oh yeah</font>

754
00:42:21,870 --> 00:42:31,190
the link<font color="#CCCCCC"> oh do i only</font><font color="#E5E5E5"> share I only sure</font>

755
00:42:24,450 --> 00:42:35,359
<font color="#E5E5E5">shared the one didn't I let me go down</font>

756
00:42:31,190 --> 00:42:35,360
see<font color="#CCCCCC"> if I can</font><font color="#E5E5E5"> share the whole folder</font>

757
00:42:35,600 --> 00:42:39,049
<font color="#CCCCCC">that's my bad</font>

758
00:43:12,500 --> 00:43:17,140
<font color="#E5E5E5">all right yep that should be there now</font>

759
00:43:17,530 --> 00:43:24,680
<font color="#E5E5E5">be able to get to it okay yeah</font><font color="#CCCCCC"> the</font>

760
00:43:21,680 --> 00:43:26,649
question<font color="#E5E5E5"> is can I share that I made a</font>

761
00:43:24,680 --> 00:43:29,649
<font color="#E5E5E5">mistake who she's not sharing the whole</font>

762
00:43:26,650 --> 00:43:29,650
<font color="#E5E5E5">lab</font>

763
00:43:37,730 --> 00:43:45,560
so in<font color="#E5E5E5"> this module we are going</font><font color="#CCCCCC"> to do a</font>

764
00:43:42,740 --> 00:43:48,080
so with netcat we dialed<font color="#CCCCCC"> into the</font><font color="#E5E5E5"> system</font>

765
00:43:45,560 --> 00:43:49,610
<font color="#CCCCCC">are we connected in with</font><font color="#E5E5E5"> our TCP</font>

766
00:43:48,080 --> 00:43:51,259
connection with<font color="#CCCCCC"> Metasploit and minute</font>

767
00:43:49,610 --> 00:43:53,840
repeater we're going to do a reverse

768
00:43:51,260 --> 00:43:56,330
<font color="#CCCCCC">shell and have it call back to a multi</font>

769
00:43:53,840 --> 00:43:57,950
handler into a listener so that we can

770
00:43:56,330 --> 00:44:01,040
have once we<font color="#CCCCCC"> get the executable in the</font>

771
00:43:57,950 --> 00:44:03,290
machine it'll come<font color="#CCCCCC"> back</font><font color="#E5E5E5"> and let us</font><font color="#CCCCCC"> know</font>

772
00:44:01,040 --> 00:44:09,770
that<font color="#CCCCCC"> the</font><font color="#E5E5E5"> system's been attacked or</font>

773
00:44:03,290 --> 00:44:11,930
compromised so using<font color="#E5E5E5"> Metasploit</font><font color="#CCCCCC"> we're</font>

774
00:44:09,770 --> 00:44:14,150
gonna set up a multi small<font color="#E5E5E5"> T listener</font>

775
00:44:11,930 --> 00:44:15,890
<font color="#E5E5E5">when</font><font color="#CCCCCC"> you start MSS console</font><font color="#E5E5E5"> and we're</font>

776
00:44:14,150 --> 00:44:20,480
going<font color="#E5E5E5"> to update the multi spike console</font>

777
00:44:15,890 --> 00:44:24,020
using<font color="#CCCCCC"> MS update no no don't do that</font>

778
00:44:20,480 --> 00:44:26,540
<font color="#E5E5E5">right now</font><font color="#CCCCCC"> because it takes forever the</font>

779
00:44:24,020 --> 00:44:30,950
old way was using emesis<font color="#E5E5E5"> to see yeah</font>

780
00:44:26,540 --> 00:44:33,560
don't use the console<font color="#CCCCCC"> use emesis update</font>

781
00:44:30,950 --> 00:44:35,629
<font color="#CCCCCC">I remember one of the other either</font><font color="#E5E5E5"> do it</font>

782
00:44:33,560 --> 00:44:38,960
or don't I'll double check<font color="#CCCCCC"> again I</font><font color="#E5E5E5"> can</font>

783
00:44:35,630 --> 00:44:41,660
remember<font color="#E5E5E5"> from my notes but anyway we're</font>

784
00:44:38,960 --> 00:44:44,420
going to set the<font color="#E5E5E5"> Pioneer binary payloads</font>

785
00:44:41,660 --> 00:44:48,290
<font color="#CCCCCC">and basically how we're going</font><font color="#E5E5E5"> to do for</font>

786
00:44:44,420 --> 00:44:50,750
our<font color="#CCCCCC"> backdoor is we</font><font color="#E5E5E5"> needed to find what</font>

787
00:44:48,290 --> 00:44:53,390
the local hosted is and the<font color="#E5E5E5"> ports we're</font>

788
00:44:50,750 --> 00:44:55,700
gonna say where is it<font color="#E5E5E5"> going to dial back</font>

789
00:44:53,390 --> 00:45:00,200
<font color="#CCCCCC">to and what port is it going to dial</font>

790
00:44:55,700 --> 00:45:02,480
back<font color="#CCCCCC"> to you on the machine and then</font>

791
00:45:00,200 --> 00:45:05,839
here's just<font color="#CCCCCC"> some links</font><font color="#E5E5E5"> on more for more</font>

792
00:45:02,480 --> 00:45:08,630
information on how<font color="#CCCCCC"> to</font><font color="#E5E5E5"> use MSS</font><font color="#CCCCCC"> Benham so</font>

793
00:45:05,840 --> 00:45:10,550
we're gonna use MSF venom this this

794
00:45:08,630 --> 00:45:12,230
stuff<font color="#E5E5E5"> used to work really well but</font>

795
00:45:10,550 --> 00:45:14,900
anything pretty much produced from this

796
00:45:12,230 --> 00:45:16,880
is<font color="#E5E5E5"> going to hit off on</font><font color="#CCCCCC"> a V</font><font color="#E5E5E5"> but we can</font>

797
00:45:14,900 --> 00:45:20,090
use this to<font color="#E5E5E5"> kind of get our feet wet and</font>

798
00:45:16,880 --> 00:45:26,510
get<font color="#CCCCCC"> familiar with I'm doing a malicious</font>

799
00:45:20,090 --> 00:45:27,500
binary so in<font color="#CCCCCC"> Metasploit we're gonna go</font>

800
00:45:26,510 --> 00:45:29,870
through and<font color="#E5E5E5"> I'm</font><font color="#CCCCCC"> going to say I want</font>

801
00:45:27,500 --> 00:45:30,830
<font color="#E5E5E5">meterpreter shell with a reverse</font><font color="#CCCCCC"> TCP</font>

802
00:45:29,870 --> 00:45:33,890
connection so we're<font color="#E5E5E5"> going to use</font>

803
00:45:30,830 --> 00:45:35,270
meterpreter as our our malware<font color="#E5E5E5"> that</font>

804
00:45:33,890 --> 00:45:38,240
we're<font color="#E5E5E5"> going to install and then we're</font>

805
00:45:35,270 --> 00:45:41,180
<font color="#E5E5E5">going to</font><font color="#CCCCCC"> use the reverse TCP connection</font>

806
00:45:38,240 --> 00:45:43,669
<font color="#E5E5E5">setup to have it come back</font><font color="#CCCCCC"> and die</font><font color="#E5E5E5"> up so</font>

807
00:45:41,180 --> 00:45:46,640
we're using<font color="#E5E5E5"> MSM venom to generate the</font>

808
00:45:43,670 --> 00:45:48,650
binary<font color="#E5E5E5"> on the port and then we're</font>

809
00:45:46,640 --> 00:45:50,529
creating the executable called David

810
00:45:48,650 --> 00:45:53,329
Hasselhoff<font color="#E5E5E5"> Exe</font>

811
00:45:50,529 --> 00:45:55,910
after you create<font color="#CCCCCC"> the executable you do</font>

812
00:45:53,329 --> 00:45:57,740
the file temp<font color="#CCCCCC"> david hasselhoff taxi just</font>

813
00:45:55,910 --> 00:46:01,779
<font color="#CCCCCC">to make sure yes it is a you know</font>

814
00:45:57,740 --> 00:46:04,129
<font color="#CCCCCC">thirty-two binary executable we put our</font>

815
00:46:01,779 --> 00:46:06,440
Hasselhoff dot exe on our web server

816
00:46:04,130 --> 00:46:09,440
somewhere<font color="#E5E5E5"> it's accessible and then once</font>

817
00:46:06,440 --> 00:46:10,940
we want to go and<font color="#CCCCCC"> access it someone</font>

818
00:46:09,440 --> 00:46:13,369
leaves their computer<font color="#CCCCCC"> unlocks we go to</font>

819
00:46:10,940 --> 00:46:15,799
their computer<font color="#E5E5E5"> we go to the AFC download</font>

820
00:46:13,369 --> 00:46:17,359
it and run<font color="#CCCCCC"> it makes</font><font color="#E5E5E5"> things a lot</font><font color="#CCCCCC"> easier</font>

821
00:46:15,799 --> 00:46:18,440
<font color="#E5E5E5">than using all the scripts and</font>

822
00:46:17,359 --> 00:46:23,299
everything that we were<font color="#CCCCCC"> doing</font><font color="#E5E5E5"> with neck</font>

823
00:46:18,440 --> 00:46:27,019
hat so for<font color="#E5E5E5"> this lab</font><font color="#CCCCCC"> to work</font><font color="#E5E5E5"> you have to</font>

824
00:46:23,299 --> 00:46:29,240
<font color="#CCCCCC">turn</font><font color="#E5E5E5"> off</font><font color="#CCCCCC"> Windows Defender</font><font color="#E5E5E5"> and</font><font color="#CCCCCC"> make sure</font>

825
00:46:27,019 --> 00:46:31,669
it<font color="#E5E5E5"> stays off windows likes to just flip</font>

826
00:46:29,240 --> 00:46:34,819
it back on<font color="#E5E5E5"> especially</font><font color="#CCCCCC"> if you reboot or</font>

827
00:46:31,670 --> 00:46:36,109
do something<font color="#E5E5E5"> change stuff I swear I've</font>

828
00:46:34,819 --> 00:46:38,839
turned<font color="#E5E5E5"> this</font><font color="#CCCCCC"> thing off a million times</font>

829
00:46:36,109 --> 00:46:41,630
and somehow<font color="#E5E5E5"> it finds itself back on so</font>

830
00:46:38,839 --> 00:46:43,220
anyway we can W get our<font color="#E5E5E5"> David Hasselhoff</font>

831
00:46:41,630 --> 00:46:44,569
dot exe or download it<font color="#E5E5E5"> for the web</font>

832
00:46:43,220 --> 00:46:47,990
browser or<font color="#CCCCCC"> however</font><font color="#E5E5E5"> we want to</font><font color="#CCCCCC"> get it</font>

833
00:46:44,569 --> 00:46:51,079
<font color="#E5E5E5">installed on our system then we're going</font>

834
00:46:47,990 --> 00:46:52,490
to<font color="#E5E5E5"> set up our multi handler in MSF</font>

835
00:46:51,079 --> 00:46:55,279
console so we're going<font color="#E5E5E5"> to use exploit</font>

836
00:46:52,490 --> 00:46:57,709
multi handler set our payload to<font color="#E5E5E5"> Windows</font>

837
00:46:55,279 --> 00:47:03,890
shell reverse TCP which is<font color="#E5E5E5"> basically is</font>

838
00:46:57,710 --> 00:47:06,920
<font color="#CCCCCC">telling the MSF console to listen on a</font>

839
00:47:03,890 --> 00:47:09,558
TCP<font color="#E5E5E5"> port and then we just tell it which</font>

840
00:47:06,920 --> 00:47:13,519
which ports at which IP address to

841
00:47:09,559 --> 00:47:15,440
listen to you<font color="#CCCCCC"> and which port and so once</font>

842
00:47:13,519 --> 00:47:18,740
you got the binary executed we can then

843
00:47:15,440 --> 00:47:21,500
see it running<font color="#CCCCCC"> across pross process</font>

844
00:47:18,740 --> 00:47:23,779
monitor<font color="#E5E5E5"> a process Explorer here we see</font>

845
00:47:21,500 --> 00:47:25,490
it running<font color="#E5E5E5"> in the</font><font color="#CCCCCC"> background</font><font color="#E5E5E5"> so</font><font color="#CCCCCC"> that's</font>

846
00:47:23,779 --> 00:47:27,619
kind of<font color="#CCCCCC"> why</font><font color="#E5E5E5"> you can see like oh there's</font>

847
00:47:25,490 --> 00:47:29,269
something malicious<font color="#E5E5E5"> and then we see the</font>

848
00:47:27,619 --> 00:47:29,720
description<font color="#E5E5E5"> of patchy bench command</font>

849
00:47:29,269 --> 00:47:31,669
lying

850
00:47:29,720 --> 00:47:32,930
<font color="#E5E5E5">that's another description of maybe</font>

851
00:47:31,670 --> 00:47:35,380
there's<font color="#E5E5E5"> something weird going on with</font>

852
00:47:32,930 --> 00:47:35,379
<font color="#E5E5E5">this binary</font>

853
00:47:39,360 --> 00:47:43,620
so when you're in the multi handler you

854
00:47:41,730 --> 00:47:46,200
can use show options I'll show you<font color="#E5E5E5"> all</font>

855
00:47:43,620 --> 00:47:50,190
the<font color="#CCCCCC"> the parameters</font><font color="#E5E5E5"> and everything</font><font color="#CCCCCC"> that's</font>

856
00:47:46,200 --> 00:47:53,939
available to you for<font color="#E5E5E5"> that module</font><font color="#CCCCCC"> and</font>

857
00:47:50,190 --> 00:47:55,890
then we can set exit on<font color="#E5E5E5"> session faults</font>

858
00:47:53,940 --> 00:47:59,520
that way we can switch between<font color="#E5E5E5"> sessions</font>

859
00:47:55,890 --> 00:48:01,529
and move around<font color="#CCCCCC"> on the multi handler so</font>

860
00:47:59,520 --> 00:48:03,120
that's important so like if you<font color="#E5E5E5"> have</font>

861
00:48:01,530 --> 00:48:04,860
<font color="#E5E5E5">multiple shells coming back to your</font>

862
00:48:03,120 --> 00:48:06,450
multi handler you want to say exit on

863
00:48:04,860 --> 00:48:08,100
session<font color="#E5E5E5"> fault so that</font><font color="#CCCCCC"> when</font><font color="#E5E5E5"> you like move</font>

864
00:48:06,450 --> 00:48:10,500
between<font color="#E5E5E5"> sessions or leave sessions or</font>

865
00:48:08,100 --> 00:48:19,950
close it<font color="#CCCCCC"> it'll keep</font><font color="#E5E5E5"> the multi handler</font>

866
00:48:10,500 --> 00:48:21,900
running in the background<font color="#CCCCCC"> and then you</font>

867
00:48:19,950 --> 00:48:23,640
can once you've gone back<font color="#CCCCCC"> on your</font>

868
00:48:21,900 --> 00:48:24,810
sessions you can<font color="#E5E5E5"> type sessions it'll</font>

869
00:48:23,640 --> 00:48:27,420
tell you all<font color="#CCCCCC"> the ones you have available</font>

870
00:48:24,810 --> 00:48:35,730
<font color="#E5E5E5">to you you can do sessions - I</font><font color="#CCCCCC"> to</font>

871
00:48:27,420 --> 00:48:40,230
connect<font color="#E5E5E5"> back</font><font color="#CCCCCC"> alright</font><font color="#E5E5E5"> so the next lab we</font>

872
00:48:35,730 --> 00:48:42,110
are<font color="#E5E5E5"> going to run meterpreter and set up</font>

873
00:48:40,230 --> 00:48:44,330
a multi session handler

874
00:48:42,110 --> 00:48:47,780
anybody have any questions<font color="#CCCCCC"> on</font><font color="#E5E5E5"> this</font>

875
00:48:44,330 --> 00:48:47,779
pretty easy stuff

876
00:49:02,560 --> 00:49:06,600
<font color="#CCCCCC">okay so I mean</font><font color="#E5E5E5"> hangs it out of here</font>

877
00:49:16,290 --> 00:49:32,779
so here is my<font color="#CCCCCC"> MSS</font><font color="#E5E5E5"> msf venom command and</font>

878
00:49:27,320 --> 00:49:35,580
I'm going<font color="#E5E5E5"> to generate my Hasselhoff Exe</font>

879
00:49:32,780 --> 00:49:39,570
so I'm specifying the IP address<font color="#E5E5E5"> of</font><font color="#CCCCCC"> my</font>

880
00:49:35,580 --> 00:49:42,500
<font color="#CCCCCC">cali box here the porch</font><font color="#E5E5E5"> and it's dumping</font>

881
00:49:39,570 --> 00:49:42,500
<font color="#CCCCCC">it to the EXCI</font>

882
00:50:01,490 --> 00:50:07,509
so there is our David Hasselhoff<font color="#E5E5E5"> exe</font>

883
00:50:09,640 --> 00:50:13,839
<font color="#CCCCCC">setup and let's copy that</font><font color="#E5E5E5"> over</font>

884
00:50:19,220 --> 00:50:26,649
to our directory there so I'm going to

885
00:50:23,300 --> 00:50:26,650
start<font color="#E5E5E5"> MSF console</font>

886
00:50:42,640 --> 00:50:49,290
takes forever<font color="#CCCCCC"> loading all the</font><font color="#E5E5E5"> goodness</font>

887
00:50:56,490 --> 00:51:00,560
so we're<font color="#CCCCCC"> going to use multi hand use</font>

888
00:50:58,890 --> 00:51:04,020
<font color="#CCCCCC">x-play multi handler</font>

889
00:51:00,560 --> 00:51:06,119
set payload<font color="#E5E5E5"> windows shell reverse</font><font color="#CCCCCC"> TCP</font>

890
00:51:04,020 --> 00:51:07,950
<font color="#E5E5E5">and so if you if you want to figure</font><font color="#CCCCCC"> out</font>

891
00:51:06,119 --> 00:51:12,720
these payloads you can kind of tab out

892
00:51:07,950 --> 00:51:21,450
from them if it lets me I might<font color="#CCCCCC"> have</font>

893
00:51:12,720 --> 00:51:24,330
broke it<font color="#E5E5E5"> yeah so showing me that there's</font>

894
00:51:21,450 --> 00:51:25,500
214 so like if<font color="#E5E5E5"> I like if I want to</font>

895
00:51:24,330 --> 00:51:28,680
figure<font color="#CCCCCC"> out what the payloads are I could</font>

896
00:51:25,500 --> 00:51:30,300
type like I want<font color="#E5E5E5"> Windows and</font><font color="#CCCCCC"> it says</font>

897
00:51:28,680 --> 00:51:31,890
here's a bunch of<font color="#E5E5E5"> you</font><font color="#CCCCCC"> know different</font>

898
00:51:30,300 --> 00:51:33,480
types<font color="#E5E5E5"> of payloads you can go through and</font>

899
00:51:31,890 --> 00:51:35,009
<font color="#CCCCCC">look at them and then like google them</font>

900
00:51:33,480 --> 00:51:37,680
and<font color="#E5E5E5"> figure out how they work if you want</font>

901
00:51:35,010 --> 00:51:42,750
if you're interested in<font color="#E5E5E5"> them if you</font>

902
00:51:37,680 --> 00:51:47,609
wanted<font color="#E5E5E5"> Linux stuff and there's modules</font>

903
00:51:42,750 --> 00:51:50,970
in here<font color="#CCCCCC"> to Metasploit uses the</font>

904
00:51:47,609 --> 00:51:53,940
terminology kind of exploit payload<font color="#E5E5E5"> rot</font>

905
00:51:50,970 --> 00:51:55,759
you know run but when modules it gets a

906
00:51:53,940 --> 00:51:58,410
<font color="#E5E5E5">little confusing because like the the</font>

907
00:51:55,760 --> 00:51:59,760
<font color="#CCCCCC">the nomenclature doesn't really match up</font>

908
00:51:58,410 --> 00:52:01,529
to an<font color="#E5E5E5"> exploit if you're running a mods</font>

909
00:51:59,760 --> 00:52:03,089
<font color="#E5E5E5">like the multi handler you're not really</font>

910
00:52:01,530 --> 00:52:04,380
exploit<font color="#E5E5E5"> anything you're</font><font color="#CCCCCC"> just starting a</font>

911
00:52:03,089 --> 00:52:05,820
listener<font color="#E5E5E5"> and you're not really you</font><font color="#CCCCCC"> don't</font>

912
00:52:04,380 --> 00:52:07,859
<font color="#E5E5E5">really have</font><font color="#CCCCCC"> a payload</font><font color="#E5E5E5"> because you've</font>

913
00:52:05,820 --> 00:52:09,000
already delivered your payload but<font color="#E5E5E5"> by</font>

914
00:52:07,859 --> 00:52:12,299
<font color="#E5E5E5">setting your payload you're saying I'm</font>

915
00:52:09,000 --> 00:52:14,220
<font color="#E5E5E5">just expecting</font><font color="#CCCCCC"> reverse</font><font color="#E5E5E5"> shell so you kind</font>

916
00:52:12,300 --> 00:52:16,380
of got<font color="#CCCCCC"> to realize that they're</font><font color="#E5E5E5"> they're</font>

917
00:52:14,220 --> 00:52:19,549
just<font color="#E5E5E5"> commands that are mapped to certain</font>

918
00:52:16,380 --> 00:52:24,150
functionality more so than they are<font color="#CCCCCC"> like</font>

919
00:52:19,550 --> 00:52:30,660
<font color="#E5E5E5">directly interpreted okay use multi</font>

920
00:52:24,150 --> 00:52:35,220
<font color="#E5E5E5">handler set payload and then let's do</font>

921
00:52:30,660 --> 00:52:37,580
the yeah see<font color="#E5E5E5"> this let me see if I can</font>

922
00:52:35,220 --> 00:52:37,580
make this bigger

923
00:52:49,200 --> 00:52:55,129
that easier to see<font color="#E5E5E5"> options</font>

924
00:53:08,960 --> 00:53:11,020
you

925
00:53:11,810 --> 00:53:16,910
<font color="#E5E5E5">okay so if you do the show options</font><font color="#CCCCCC"> will</font>

926
00:53:15,260 --> 00:53:19,660
<font color="#CCCCCC">basically show you all</font><font color="#E5E5E5"> the things you</font>

927
00:53:16,910 --> 00:53:23,149
need<font color="#E5E5E5"> to</font><font color="#CCCCCC"> set to get</font><font color="#E5E5E5"> the process working</font>

928
00:53:19,660 --> 00:53:26,839
we're gonna set the<font color="#CCCCCC"> l host on this 2r</font>

929
00:53:23,150 --> 00:53:31,400
which<font color="#CCCCCC"> is</font><font color="#E5E5E5"> the local</font><font color="#CCCCCC"> host</font><font color="#E5E5E5"> our IP</font><font color="#CCCCCC"> address</font>

930
00:53:26,840 --> 00:53:37,340
of<font color="#CCCCCC"> 191 685 56.3</font><font color="#E5E5E5"> off the</font><font color="#CCCCCC"> cally box</font><font color="#E5E5E5"> and</font>

931
00:53:31,400 --> 00:53:39,230
then<font color="#E5E5E5"> I'm going to set the local port so</font>

932
00:53:37,340 --> 00:53:41,240
this is the port that<font color="#E5E5E5"> we defined in the</font>

933
00:53:39,230 --> 00:53:45,200
exploit that<font color="#CCCCCC"> we wrote</font><font color="#E5E5E5"> for the David</font>

934
00:53:41,240 --> 00:53:49,160
Hasselhoff<font color="#E5E5E5"> Exe</font><font color="#CCCCCC"> we're saying you know hey</font>

935
00:53:45,200 --> 00:53:50,870
dial back<font color="#E5E5E5"> to 191 68 56.3 connect to port</font>

936
00:53:49,160 --> 00:53:53,060
<font color="#CCCCCC">77 so I'm telling them all to handler</font>

937
00:53:50,870 --> 00:53:57,740
<font color="#E5E5E5">listen on this IP address listen on this</font>

938
00:53:53,060 --> 00:54:04,910
port<font color="#E5E5E5"> we hit run we've started our</font>

939
00:53:57,740 --> 00:54:08,740
session or started our listener and then

940
00:54:04,910 --> 00:54:08,740
we can go<font color="#E5E5E5"> to our</font><font color="#CCCCCC"> Windows box</font>

941
00:54:16,089 --> 00:54:19,319
open up<font color="#CCCCCC"> browser</font>

942
00:54:49,500 --> 00:55:01,430
<font color="#E5E5E5">David hassle pick them easier name spell</font>

943
00:54:55,730 --> 00:55:01,430
or enable directory transversal

944
00:55:16,080 --> 00:55:19,130
<font color="#E5E5E5">where she did</font>

945
00:55:22,480 --> 00:55:32,099
<font color="#E5E5E5">I'm</font><font color="#CCCCCC"> sure yeah there we go</font>

946
00:55:33,970 --> 00:55:39,200
so yeah see<font color="#CCCCCC"> I download it</font><font color="#E5E5E5"> as soon as</font><font color="#CCCCCC"> I</font>

947
00:55:37,549 --> 00:55:49,009
<font color="#CCCCCC">downloaded Windows defenders</font><font color="#E5E5E5"> like this</font>

948
00:55:39,200 --> 00:55:52,180
is a<font color="#E5E5E5"> virus I'm deleting it so we're just</font>

949
00:55:49,009 --> 00:55:52,180
<font color="#CCCCCC">going to go ahead</font><font color="#E5E5E5"> and turn</font><font color="#CCCCCC"> that off</font>

950
00:56:08,600 --> 00:56:13,270
turn off off

951
00:56:15,240 --> 00:56:19,250
and see if<font color="#CCCCCC"> they'll let us</font><font color="#E5E5E5"> download it</font>

952
00:56:17,099 --> 00:56:19,250
now

953
00:56:26,849 --> 00:56:29,839
<font color="#CCCCCC">handled again</font>

954
00:56:42,950 --> 00:56:47,259
try and get<font color="#E5E5E5"> it with W get</font>

955
00:56:55,890 --> 00:56:57,950
you

956
00:57:21,120 --> 00:57:25,940
so I'm just going<font color="#E5E5E5"> to delete these</font>

957
00:57:22,560 --> 00:57:25,940
previous binaries

958
00:58:02,670 --> 00:58:07,050
yeah it does<font color="#CCCCCC"> that's what I want</font>

959
00:58:07,560 --> 00:58:11,710
operation did not complete<font color="#E5E5E5"> successfully</font>

960
00:58:09,880 --> 00:58:15,040
because the file contains a virus<font color="#E5E5E5"> or</font>

961
00:58:11,710 --> 00:58:18,460
potentially and I swear I didn't update

962
00:58:15,040 --> 00:58:20,830
<font color="#CCCCCC">this machine it's not</font><font color="#E5E5E5"> a thing everywhere</font>

963
00:58:18,460 --> 00:58:22,420
<font color="#CCCCCC">Windows a good thing is they're always</font>

964
00:58:20,830 --> 00:58:26,230
installing new stuff

965
00:58:22,420 --> 00:58:29,820
I swear<font color="#CCCCCC"> cuz like I tried this and I</font>

966
00:58:26,230 --> 00:58:29,820
didn't update<font color="#E5E5E5"> it but oh well</font>

967
00:58:41,510 --> 00:58:47,440
<font color="#E5E5E5">try making</font><font color="#CCCCCC"> a new one try it</font><font color="#E5E5E5"> with a</font>

968
00:58:45,020 --> 00:58:47,440
<font color="#CCCCCC">different</font><font color="#E5E5E5"> name</font>

969
00:59:02,180 --> 00:59:04,779
<font color="#E5E5E5">tough</font>

970
00:59:05,350 --> 00:59:12,549
wonder if it's probably registered it

971
00:59:50,109 --> 00:59:54,569
crazy<font color="#CCCCCC"> all right let's try that again</font>

972
01:00:08,440 --> 01:00:11,440
she

973
01:00:43,500 --> 01:00:49,619
<font color="#CCCCCC">real-time protection okay this is where</font>

974
01:00:46,830 --> 01:00:55,080
<font color="#E5E5E5">we knew it ago so you got a Windows</font>

975
01:00:49,619 --> 01:00:56,490
Defender<font color="#E5E5E5"> security</font><font color="#CCCCCC"> Center we go here</font><font color="#E5E5E5"> and</font>

976
01:00:55,080 --> 01:00:58,380
we<font color="#E5E5E5"> go to virus the threat protection</font>

977
01:00:56,490 --> 01:01:02,479
<font color="#E5E5E5">settings and we want to disable</font>

978
01:00:58,380 --> 01:01:05,700
<font color="#E5E5E5">real-time protection you turn that off</font>

979
01:01:02,480 --> 01:01:13,880
<font color="#E5E5E5">then we should be able to do the magic</font>

980
01:01:05,700 --> 01:01:13,879
of downloading it perfect

981
01:01:18,560 --> 01:01:22,240
and it looks<font color="#CCCCCC"> like it ran</font>

982
01:01:36,839 --> 01:01:41,630
come on<font color="#E5E5E5"> David are you</font><font color="#CCCCCC"> here</font>

983
01:01:45,490 --> 01:01:53,618
not seeing it Oh<font color="#E5E5E5"> perfect okay yep it is</font>

984
01:01:51,310 --> 01:01:56,740
running so we have it running<font color="#E5E5E5"> in the</font>

985
01:01:53,619 --> 01:01:57,440
background<font color="#E5E5E5"> there and then let's go back</font>

986
01:01:56,740 --> 01:02:00,499
<font color="#CCCCCC">to</font><font color="#E5E5E5"> Kali</font>

987
01:01:57,440 --> 01:02:00,499
[Music]

988
01:02:08,030 --> 01:02:19,540
and we have<font color="#CCCCCC"> a river show and now we are</font>

989
01:02:16,220 --> 01:02:22,040
in<font color="#CCCCCC"> Mediterra</font>

990
01:02:19,540 --> 01:02:24,680
basically yeah we got the<font color="#CCCCCC"> EXCI we</font>

991
01:02:22,040 --> 01:02:26,360
disabled Windows Defender<font color="#CCCCCC"> when we were</font>

992
01:02:24,680 --> 01:02:28,279
able<font color="#CCCCCC"> to once</font><font color="#E5E5E5"> we disabled Windows</font>

993
01:02:26,360 --> 01:02:30,500
Defender we were able<font color="#E5E5E5"> to get the reverse</font>

994
01:02:28,280 --> 01:02:32,090
shell working and now we have a<font color="#CCCCCC"> backdoor</font>

995
01:02:30,500 --> 01:02:34,390
in the system and we<font color="#CCCCCC"> have a more with</font>

996
01:02:32,090 --> 01:02:38,000
meterpreter<font color="#E5E5E5"> we have a more powerful</font>

997
01:02:34,390 --> 01:02:40,730
piece of<font color="#CCCCCC"> malware to run and with</font><font color="#E5E5E5"> this</font>

998
01:02:38,000 --> 01:02:44,990
you<font color="#E5E5E5"> can upload and download files from a</font>

999
01:02:40,730 --> 01:02:53,930
system a lot easier<font color="#CCCCCC"> I think you even get</font>

1000
01:02:44,990 --> 01:02:59,439
tab complete<font color="#E5E5E5"> nope so let's say I wanted</font>

1001
01:02:53,930 --> 01:02:59,440
<font color="#CCCCCC">to pull down</font><font color="#E5E5E5"> this password Tex Tex file</font>

1002
01:03:07,330 --> 01:03:13,090
download password text

1003
01:03:20,900 --> 01:03:25,809
source<font color="#E5E5E5"> destination</font>

1004
01:03:49,140 --> 01:03:58,259
don't you give it<font color="#CCCCCC"> the full path that's</font>

1005
01:03:51,090 --> 01:04:00,600
annoying<font color="#E5E5E5"> no passwords it's it's amazing</font>

1006
01:03:58,260 --> 01:04:03,030
how you see get to you know being able

1007
01:04:00,600 --> 01:04:04,290
to up command and rerun stuff or history

1008
01:04:03,030 --> 01:04:09,830
all<font color="#CCCCCC"> that stuff</font><font color="#E5E5E5"> and then when you don't</font>

1009
01:04:04,290 --> 01:04:29,509
<font color="#E5E5E5">have it your brain just breaks</font><font color="#CCCCCC"> download</font>

1010
01:04:09,830 --> 01:04:29,509
<font color="#E5E5E5">David passwords text</font><font color="#CCCCCC"> down</font><font color="#E5E5E5"> load passwords</font>

1011
01:04:32,720 --> 01:04:35,959
thank you

1012
01:04:49,859 --> 01:04:58,390
<font color="#E5E5E5">all right we'll go back to the slides</font>

1013
01:04:53,339 --> 01:04:59,380
anyway<font color="#CCCCCC"> the next the the next module is</font>

1014
01:04:58,390 --> 01:05:01,950
we're going<font color="#E5E5E5"> to be working more with</font>

1015
01:04:59,380 --> 01:05:01,950
meterpreter

1016
01:05:22,260 --> 01:05:29,369
<font color="#CCCCCC">and</font><font color="#E5E5E5"> now did I I think I did the show</font>

1017
01:05:24,960 --> 01:05:32,490
wrong ha I probably did a reverse TCP

1018
01:05:29,369 --> 01:05:37,200
shell<font color="#E5E5E5"> not a</font><font color="#CCCCCC"> mature Pradesh l</font><font color="#E5E5E5"> that</font><font color="#CCCCCC"> was on</font>

1019
01:05:32,490 --> 01:05:39,689
<font color="#E5E5E5">the sides right so you can get kind of</font>

1020
01:05:37,200 --> 01:05:42,080
like the<font color="#CCCCCC"> the netcat basic functionality</font>

1021
01:05:39,690 --> 01:05:44,460
<font color="#E5E5E5">with a reverse shell by just running the</font>

1022
01:05:42,080 --> 01:05:46,049
<font color="#CCCCCC">Metasploit</font><font color="#E5E5E5"> has the</font><font color="#CCCCCC"> built-in module just</font>

1023
01:05:44,460 --> 01:05:48,720
<font color="#E5E5E5">gives you a command shell if you want</font>

1024
01:05:46,050 --> 01:05:55,320
something a little<font color="#E5E5E5"> bit more</font><font color="#CCCCCC"> simple than</font>

1025
01:05:48,720 --> 01:05:58,740
<font color="#CCCCCC">meterpreter yeah here here I reuse the</font>

1026
01:05:55,320 --> 01:06:07,340
reverse<font color="#E5E5E5"> TCP show</font><font color="#CCCCCC"> I think in this next</font>

1027
01:05:58,740 --> 01:06:07,339
step we're<font color="#E5E5E5"> going to</font><font color="#CCCCCC"> use mature prefer</font>

1028
01:06:09,410 --> 01:06:18,259
<font color="#E5E5E5">that was a mature Pradesh oh whatever</font>

1029
01:06:36,580 --> 01:06:41,360
so once you've got a meterpreter shell

1030
01:06:39,100 --> 01:06:42,799
<font color="#E5E5E5">on the system and you've got it dialed</font>

1031
01:06:41,360 --> 01:06:45,710
back you should see them interpreter

1032
01:06:42,800 --> 01:06:47,570
prompt which that dropped me<font color="#CCCCCC"> down to a</font>

1033
01:06:45,710 --> 01:06:48,770
command prompt so we'll take<font color="#E5E5E5"> a look at</font>

1034
01:06:47,570 --> 01:06:51,920
that in a minute<font color="#E5E5E5"> wants to go through</font><font color="#CCCCCC"> the</font>

1035
01:06:48,770 --> 01:06:53,540
<font color="#CCCCCC">slides you can run the get system</font>

1036
01:06:51,920 --> 01:06:55,790
command and from<font color="#CCCCCC"> that</font><font color="#E5E5E5"> will get you</font>

1037
01:06:53,540 --> 01:07:01,279
information on<font color="#CCCCCC"> what the</font><font color="#E5E5E5"> system is</font><font color="#CCCCCC"> and</font>

1038
01:06:55,790 --> 01:07:03,890
<font color="#CCCCCC">how it works here's</font><font color="#E5E5E5"> kind of the example</font>

1039
01:07:01,280 --> 01:07:05,720
<font color="#E5E5E5">it kind of gives you an idea</font><font color="#CCCCCC"> of what</font>

1040
01:07:03,890 --> 01:07:07,339
type<font color="#E5E5E5"> of privilege escalation you could</font>

1041
01:07:05,720 --> 01:07:09,259
do<font color="#E5E5E5"> because you're going to be stuck at</font>

1042
01:07:07,340 --> 01:07:10,880
<font color="#CCCCCC">whatever privileges you have of the</font>

1043
01:07:09,260 --> 01:07:14,000
executable on the machine as<font color="#E5E5E5"> it's</font>

1044
01:07:10,880 --> 01:07:15,890
running<font color="#E5E5E5"> and so the get system will kind</font>

1045
01:07:14,000 --> 01:07:19,630
of tell<font color="#E5E5E5"> you like hey maybe we can</font>

1046
01:07:15,890 --> 01:07:24,819
interpret it if we can get to higher

1047
01:07:19,630 --> 01:07:24,820
execution by module<font color="#CCCCCC"> 3</font>

1048
01:07:47,410 --> 01:07:54,759
so let's go ahead<font color="#E5E5E5"> and take a look at</font>

1049
01:07:51,390 --> 01:07:56,109
meterpreter basics<font color="#E5E5E5"> so for</font><font color="#CCCCCC"> this module</font>

1050
01:07:54,759 --> 01:07:57,640
<font color="#CCCCCC">we're going</font><font color="#E5E5E5"> to jump out of the slides</font>

1051
01:07:56,109 --> 01:08:00,279
and<font color="#E5E5E5"> kind of go look at offensive</font>

1052
01:07:57,640 --> 01:08:02,049
<font color="#CCCCCC">security a lot</font><font color="#E5E5E5"> of this stuff if you want</font>

1053
01:08:00,279 --> 01:08:05,700
to try<font color="#E5E5E5"> it out for yourself a lot of</font><font color="#CCCCCC"> it's</font>

1054
01:08:02,049 --> 01:08:08,380
just<font color="#E5E5E5"> basically going through the</font>

1055
01:08:05,700 --> 01:08:11,470
offensive security<font color="#CCCCCC"> Metasploit unleashed</font>

1056
01:08:08,380 --> 01:08:16,420
training<font color="#CCCCCC"> I mean it</font><font color="#E5E5E5"> gives you kind of a</font>

1057
01:08:11,470 --> 01:08:18,278
<font color="#E5E5E5">overview so we'll go</font><font color="#CCCCCC"> through this so</font><font color="#E5E5E5"> we</font>

1058
01:08:16,420 --> 01:08:19,839
<font color="#E5E5E5">have the help command</font><font color="#CCCCCC"> both mature</font><font color="#E5E5E5"> Peter</font>

1059
01:08:18,279 --> 01:08:28,690
and let's go<font color="#E5E5E5"> back to our Kali Linux</font>

1060
01:08:19,839 --> 01:08:34,620
image<font color="#E5E5E5"> and see why that gave me a reverse</font>

1061
01:08:28,689 --> 01:08:34,620
<font color="#CCCCCC">shell let's try it again</font>

1062
01:08:54,049 --> 01:09:02,809
gave me a<font color="#CCCCCC"> Risha okay I am going</font><font color="#E5E5E5"> to</font>

1063
01:09:00,649 --> 01:09:05,318
rebuild<font color="#E5E5E5"> the binary because I did</font>

1064
01:09:02,809 --> 01:09:05,319
<font color="#E5E5E5">something wrong</font>

1065
01:09:14,670 --> 01:09:18,180
<font color="#CCCCCC">TripIt</font><font color="#E5E5E5"> area rivers</font>

1066
01:09:24,519 --> 01:09:28,319
yeah I<font color="#E5E5E5"> probably just pulled</font>

1067
01:09:38,118 --> 01:09:41,348
let's try this one

1068
01:10:15,330 --> 01:10:21,350
<font color="#E5E5E5">name that test</font>

1069
01:10:18,840 --> 01:10:21,350
Exe

1070
01:10:52,070 --> 01:10:57,509
<font color="#CCCCCC">start at us</font><font color="#E5E5E5"> console get the multi</font>

1071
01:10:55,079 --> 01:11:02,429
handler working again see if we can get

1072
01:10:57,510 --> 01:11:03,869
into<font color="#CCCCCC"> amateur Pater's show you know</font><font color="#E5E5E5"> a</font>

1073
01:11:02,429 --> 01:11:07,369
<font color="#E5E5E5">well that's going let's talk about the</font>

1074
01:11:03,869 --> 01:11:09,179
mature<font color="#CCCCCC"> Peter commands so we have</font><font color="#E5E5E5"> help</font>

1075
01:11:07,369 --> 01:11:10,400
<font color="#E5E5E5">basically you know shows you all the</font>

1076
01:11:09,179 --> 01:11:14,460
<font color="#E5E5E5">commands you</font><font color="#CCCCCC"> can run background</font>

1077
01:11:10,400 --> 01:11:16,619
background allows you to background<font color="#E5E5E5"> your</font>

1078
01:11:14,460 --> 01:11:21,000
current meterpreter session and then go

1079
01:11:16,619 --> 01:11:25,558
back<font color="#CCCCCC"> down into your</font><font color="#E5E5E5"> multi handler on</font>

1080
01:11:21,000 --> 01:11:28,849
<font color="#CCCCCC">Kali</font><font color="#E5E5E5"> cat will let you cat out files you</font>

1081
01:11:25,559 --> 01:11:30,929
can<font color="#E5E5E5"> take a look</font><font color="#CCCCCC"> at files look at the</font>

1082
01:11:28,849 --> 01:11:36,289
present working directory<font color="#E5E5E5"> that you're</font>

1083
01:11:30,929 --> 01:11:39,420
working in<font color="#E5E5E5"> clear</font><font color="#CCCCCC"> evie</font><font color="#E5E5E5"> with meterpreter</font>

1084
01:11:36,289 --> 01:11:41,009
<font color="#E5E5E5">it will clear all of the application</font>

1085
01:11:39,420 --> 01:11:43,099
logs clear all the settings<font color="#CCCCCC"> and</font>

1086
01:11:41,010 --> 01:11:43,099
everything

1087
01:11:43,769 --> 01:11:49,500
download<font color="#CCCCCC"> we've tried playing around with</font>

1088
01:11:46,050 --> 01:11:53,090
that<font color="#E5E5E5"> wonder if the prompt is different</font>

1089
01:11:49,500 --> 01:11:57,329
because it did have<font color="#CCCCCC"> that</font><font color="#E5E5E5"> download edit</font>

1090
01:11:53,090 --> 01:11:58,980
<font color="#E5E5E5">we can edit files like so as you can see</font>

1091
01:11:57,329 --> 01:12:00,690
like<font color="#CCCCCC"> a meterpreter like</font><font color="#E5E5E5"> I didn't have to</font>

1092
01:11:58,980 --> 01:12:01,739
<font color="#E5E5E5">have them I didn't have</font><font color="#CCCCCC"> to have</font><font color="#E5E5E5"> W get I</font>

1093
01:12:00,690 --> 01:12:04,949
<font color="#E5E5E5">don't have to have all this</font><font color="#CCCCCC"> stuff I just</font>

1094
01:12:01,739 --> 01:12:06,539
<font color="#E5E5E5">have this one one piece of malware this</font>

1095
01:12:04,949 --> 01:12:09,598
package is all ready<font color="#E5E5E5"> to go it's in a</font>

1096
01:12:06,539 --> 01:12:11,579
binary and then with interpreter if<font color="#E5E5E5"> I</font>

1097
01:12:09,599 --> 01:12:16,110
wanted<font color="#E5E5E5"> to execute a command shell I can</font>

1098
01:12:11,579 --> 01:12:17,549
do that<font color="#E5E5E5"> get the you a tidy dump ashes if</font>

1099
01:12:16,110 --> 01:12:20,130
you wanted to dump the system hashes and

1100
01:12:17,550 --> 01:12:22,429
<font color="#E5E5E5">see if you can try and crack them</font><font color="#CCCCCC"> I'm</font>

1101
01:12:20,130 --> 01:12:28,590
you<font color="#E5E5E5"> can use an</font><font color="#CCCCCC"> interpreter to dump that</font>

1102
01:12:22,429 --> 01:12:29,969
<font color="#E5E5E5">I'll time IP config directory LS and so</font>

1103
01:12:28,590 --> 01:12:31,289
this this command is really cool the

1104
01:12:29,969 --> 01:12:34,440
<font color="#CCCCCC">migrate command so</font><font color="#E5E5E5"> you can</font><font color="#CCCCCC"> actually</font>

1105
01:12:31,289 --> 01:12:36,480
migrate<font color="#E5E5E5"> from your David Hasselhoff</font><font color="#CCCCCC"> Exe</font>

1106
01:12:34,440 --> 01:12:38,489
into other<font color="#E5E5E5"> dll's</font>

1107
01:12:36,480 --> 01:12:42,178
so at this point<font color="#E5E5E5"> you've kind of you can</font>

1108
01:12:38,489 --> 01:12:44,009
jump off of<font color="#E5E5E5"> your your you know jump</font>

1109
01:12:42,179 --> 01:12:45,329
<font color="#E5E5E5">point where you built with your</font><font color="#CCCCCC"> X exe</font>

1110
01:12:44,010 --> 01:12:48,349
and<font color="#E5E5E5"> get into other systems using</font>

1111
01:12:45,329 --> 01:12:53,849
meterpreter<font color="#E5E5E5"> so if we were in proc Mon</font>

1112
01:12:48,349 --> 01:12:58,260
here<font color="#E5E5E5"> and someone were to kill that David</font>

1113
01:12:53,849 --> 01:13:03,510
Hasselhoff<font color="#CCCCCC"> Exe which I think is broken</font>

1114
01:12:58,260 --> 01:13:05,130
<font color="#E5E5E5">right</font><font color="#CCCCCC"> now</font><font color="#E5E5E5"> yep</font><font color="#CCCCCC"> you can migrate the other</font>

1115
01:13:03,510 --> 01:13:05,369
systems and so they're<font color="#E5E5E5"> not dependent on</font>

1116
01:13:05,130 --> 01:13:08,010
<font color="#E5E5E5">that</font>

1117
01:13:05,369 --> 01:13:09,719
on you can migrate using that command

1118
01:13:08,010 --> 01:13:11,489
<font color="#E5E5E5">it's really easy to</font><font color="#CCCCCC"> just get</font><font color="#E5E5E5"> into other</font>

1119
01:13:09,719 --> 01:13:14,639
processes as long as they have the same

1120
01:13:11,489 --> 01:13:17,059
<font color="#CCCCCC">runtime</font><font color="#E5E5E5"> user access as the user that's</font>

1121
01:13:14,639 --> 01:13:17,060
<font color="#E5E5E5">running</font>

1122
01:13:26,199 --> 01:13:31,928
<font color="#CCCCCC">Multi Handler set port</font>

1123
01:13:34,650 --> 01:13:45,870
<font color="#CCCCCC">mm-hmm yeah so there and in the pelo</font>

1124
01:13:44,340 --> 01:13:59,760
<font color="#CCCCCC">let's</font><font color="#E5E5E5"> just take a look at the payload so</font>

1125
01:13:45,870 --> 01:14:10,290
if I go to set payloads<font color="#E5E5E5"> freezes a lot so</font>

1126
01:13:59,760 --> 01:14:11,610
let's go to go read the documentation so

1127
01:14:10,290 --> 01:14:21,720
there's all kinds of payloads that<font color="#E5E5E5"> you</font>

1128
01:14:11,610 --> 01:14:24,150
can set one of them is a so one of<font color="#E5E5E5"> them</font>

1129
01:14:21,720 --> 01:14:26,640
is just<font color="#E5E5E5"> like a basic</font><font color="#CCCCCC"> TCP reverse shell</font>

1130
01:14:24,150 --> 01:14:28,500
that just gives you a command<font color="#E5E5E5"> prompt so</font>

1131
01:14:26,640 --> 01:14:30,420
that's that's one reverse shell that you

1132
01:14:28,500 --> 01:14:32,490
<font color="#E5E5E5">can put in there is a binary payload</font>

1133
01:14:30,420 --> 01:14:34,320
<font color="#E5E5E5">another one that you</font><font color="#CCCCCC"> can put in there is</font>

1134
01:14:32,490 --> 01:14:36,179
the actual meterpreter and I think I

1135
01:14:34,320 --> 01:14:37,769
might<font color="#CCCCCC"> have copied the wrong one and</font><font color="#E5E5E5"> put</font>

1136
01:14:36,180 --> 01:14:43,500
<font color="#E5E5E5">the command prompt instead of</font>

1137
01:14:37,770 --> 01:14:46,670
<font color="#CCCCCC">meterpreter</font><font color="#E5E5E5"> but we'll see</font><font color="#CCCCCC"> that</font><font color="#E5E5E5"> make</font>

1138
01:14:43,500 --> 01:14:46,670
sense answer your question

1139
01:15:22,059 --> 01:15:24,119
you

1140
01:15:46,470 --> 01:15:57,160
<font color="#E5E5E5">okay some reason swear why did it start</font>

1141
01:15:51,760 --> 01:15:59,140
on<font color="#E5E5E5"> the wrong IP address so that's why</font>

1142
01:15:57,160 --> 01:16:01,360
you want to<font color="#CCCCCC"> specify</font><font color="#E5E5E5"> the IP address and</font>

1143
01:15:59,140 --> 01:16:06,930
port<font color="#E5E5E5"> because it'll pick the</font><font color="#CCCCCC"> defaults as</font>

1144
01:16:01,360 --> 01:16:06,929
<font color="#E5E5E5">not and see if that bounced</font><font color="#CCCCCC"> over</font>

1145
01:16:19,010 --> 01:16:22,960
try the Hasselhoff again

1146
01:16:31,270 --> 01:16:33,330
you

1147
01:16:39,910 --> 01:16:45,360
<font color="#E5E5E5">all right yeah okay so there's</font><font color="#CCCCCC"> the</font>

1148
01:16:42,790 --> 01:16:45,360
meterpreter shell

1149
01:16:55,310 --> 01:17:01,800
present working directory<font color="#CCCCCC"> so now we're</font>

1150
01:17:00,030 --> 01:17:05,670
in miniature pretory can go<font color="#E5E5E5"> around and</font>

1151
01:17:01,800 --> 01:17:06,840
play<font color="#CCCCCC"> with some of these</font><font color="#E5E5E5"> commands so I</font>

1152
01:17:05,670 --> 01:17:09,320
guess I did it right<font color="#CCCCCC"> I don't know</font><font color="#E5E5E5"> what I</font>

1153
01:17:06,840 --> 01:17:09,320
was doing before

1154
01:17:37,870 --> 01:17:44,650
yeah<font color="#E5E5E5"> okay so that command you just type</font>

1155
01:17:42,070 --> 01:17:46,210
download download the file<font color="#E5E5E5"> we can look</font>

1156
01:17:44,650 --> 01:17:51,910
at the the<font color="#CCCCCC"> file that</font><font color="#E5E5E5"> was on the other</font>

1157
01:17:46,210 --> 01:17:57,070
system so we<font color="#E5E5E5"> have this</font><font color="#CCCCCC"> password file</font>

1158
01:17:51,910 --> 01:17:59,710
you know passwords I heart David<font color="#E5E5E5"> we can</font>

1159
01:17:57,070 --> 01:18:05,259
<font color="#E5E5E5">look at it I'm just going to open up</font>

1160
01:17:59,710 --> 01:18:09,000
<font color="#E5E5E5">another terminal and then there's our</font>

1161
01:18:05,260 --> 01:18:09,000
password file<font color="#CCCCCC"> I heart David</font>

1162
01:18:18,810 --> 01:18:22,320
you can go through and search for

1163
01:18:20,520 --> 01:18:25,410
<font color="#CCCCCC">document</font><font color="#E5E5E5"> so if you wanted to search for</font>

1164
01:18:22,320 --> 01:18:27,120
<font color="#E5E5E5">specific you know interesting files like</font>

1165
01:18:25,410 --> 01:18:28,950
<font color="#E5E5E5">five password files or anything like</font>

1166
01:18:27,120 --> 01:18:32,030
<font color="#E5E5E5">that you can start a shell you can</font>

1167
01:18:28,950 --> 01:18:41,190
<font color="#E5E5E5">upload stuff you can take webcam</font>

1168
01:18:32,030 --> 01:18:43,969
<font color="#E5E5E5">pictures it's all kinds</font><font color="#CCCCCC"> of cool stuff</font>

1169
01:18:41,190 --> 01:18:43,969
<font color="#E5E5E5">you can do</font>

1170
01:18:45,560 --> 01:18:56,750
yeah there's no webcam but take pictures

1171
01:18:51,930 --> 01:18:56,750
of people see what's going on

1172
01:19:16,249 --> 01:19:26,539
so let's see if we can migrate<font color="#E5E5E5"> to a</font>

1173
01:19:18,590 --> 01:19:30,800
different executable so I will start so

1174
01:19:26,539 --> 01:19:41,440
we have a notepad<font color="#CCCCCC"> open good we will find</font>

1175
01:19:30,800 --> 01:19:41,440
the notepad<font color="#E5E5E5"> process maybe</font>

1176
01:19:49,960 --> 01:20:00,730
<font color="#E5E5E5">all right so we have no pad notepad plus</font>

1177
01:19:51,970 --> 01:20:08,010
plus so<font color="#CCCCCC"> migrate so</font><font color="#E5E5E5"> we have the pad we</font>

1178
01:20:00,730 --> 01:20:08,009
wanted<font color="#CCCCCC"> migrate</font><font color="#E5E5E5"> to three</font><font color="#CCCCCC"> nine zero four</font>

1179
01:20:10,440 --> 01:20:21,419
okay cool

1180
01:20:12,040 --> 01:20:28,440
so I am no<font color="#CCCCCC"> longer in the</font><font color="#E5E5E5"> Hasselhoff</font><font color="#CCCCCC"> ex</font>

1181
01:20:21,420 --> 01:20:28,440
<font color="#CCCCCC">exe I think it's still running</font>

1182
01:20:41,610 --> 01:20:56,910
it flows so<font color="#CCCCCC"> must have clothes so anyway</font>

1183
01:20:46,260 --> 01:21:02,130
as<font color="#E5E5E5"> long as I keep this process open this</font>

1184
01:20:56,910 --> 01:21:09,590
<font color="#CCCCCC">exe notepad I close it I should lose</font><font color="#E5E5E5"> my</font>

1185
01:21:02,130 --> 01:21:12,300
shell<font color="#E5E5E5"> I'm still in there</font>

1186
01:21:09,590 --> 01:21:20,910
<font color="#CCCCCC">we</font><font color="#E5E5E5"> got a notepad or no pulse yeah</font><font color="#CCCCCC"> nope</font>

1187
01:21:12,300 --> 01:21:22,890
<font color="#CCCCCC">it was close we went</font><font color="#E5E5E5"> from seven seven</font>

1188
01:21:20,910 --> 01:21:29,430
zero four<font color="#CCCCCC"> three nine zero</font><font color="#E5E5E5"> four no</font><font color="#CCCCCC"> pad is</font>

1189
01:21:22,890 --> 01:21:31,890
still running<font color="#CCCCCC"> just</font><font color="#E5E5E5"> this process it's one</font>

1190
01:21:29,430 --> 01:21:49,580
of<font color="#E5E5E5"> these</font><font color="#CCCCCC"> so</font><font color="#E5E5E5"> I'm gonna close</font><font color="#CCCCCC"> that cause</font>

1191
01:21:31,890 --> 01:21:49,580
that<font color="#CCCCCC"> I should lose my shell</font><font color="#E5E5E5"> no am I</font>

1192
01:22:19,679 --> 01:22:26,929
get you on<font color="#CCCCCC"> the house that's</font>

1193
01:22:31,179 --> 01:22:44,769
<font color="#CCCCCC">these are</font><font color="#E5E5E5"> my hatbox told me before</font>

1194
01:22:40,239 --> 01:22:48,098
earlier when<font color="#E5E5E5"> i migrated</font><font color="#CCCCCC"> i'm</font><font color="#E5E5E5"> three</font><font color="#CCCCCC"> 9:04</font>

1195
01:22:44,769 --> 01:22:50,760
so we should<font color="#E5E5E5"> be able to find that on</font><font color="#CCCCCC"> the</font>

1196
01:22:48,099 --> 01:22:50,760
windows box

1197
01:23:15,130 --> 01:23:18,880
anyway you guys gonna<font color="#E5E5E5"> get the point</font>

1198
01:23:17,170 --> 01:23:21,280
<font color="#E5E5E5">right</font><font color="#CCCCCC"> so I migrated in a different</font>

1199
01:23:18,880 --> 01:23:24,369
process we can<font color="#E5E5E5"> see that the David</font>

1200
01:23:21,280 --> 01:23:26,949
<font color="#E5E5E5">Hasselhoff execute is is gone</font><font color="#CCCCCC"> I'm in</font>

1201
01:23:24,369 --> 01:23:28,929
<font color="#E5E5E5">just a different</font><font color="#CCCCCC"> system at the process</font>

1202
01:23:26,949 --> 01:23:31,839
whatever<font color="#CCCCCC"> I</font><font color="#E5E5E5"> migrated to you dies I'm</font>

1203
01:23:28,929 --> 01:23:32,949
going to lose my<font color="#CCCCCC"> connection</font><font color="#E5E5E5"> for</font><font color="#CCCCCC"> some</font>

1204
01:23:31,840 --> 01:23:37,030
reason I<font color="#E5E5E5"> thought I migrated it's a</font>

1205
01:23:32,949 --> 01:23:42,909
<font color="#CCCCCC">notepad but</font><font color="#E5E5E5"> I guess I didn't</font><font color="#CCCCCC"> see if I</font>

1206
01:23:37,030 --> 01:23:46,900
can migrate<font color="#E5E5E5"> to Firefox could</font><font color="#CCCCCC"> I migrated</font>

1207
01:23:42,909 --> 01:23:50,909
to<font color="#E5E5E5"> SCV host yes but it usually</font><font color="#CCCCCC"> requires</font>

1208
01:23:46,900 --> 01:23:50,909
a privilege escalation we could try<font color="#E5E5E5"> it</font>

1209
01:23:52,560 --> 01:23:57,670
that's<font color="#E5E5E5"> a good one so one</font><font color="#CCCCCC"> of the</font><font color="#E5E5E5"> reasons</font>

1210
01:23:55,360 --> 01:23:59,559
why you<font color="#E5E5E5"> want to migrate</font><font color="#CCCCCC"> to SCV host is</font>

1211
01:23:57,670 --> 01:24:02,380
because<font color="#CCCCCC"> STV</font><font color="#E5E5E5"> hosts spawns a lot of</font>

1212
01:23:59,560 --> 01:24:03,880
processes<font color="#E5E5E5"> and it's loading and doing all</font>

1213
01:24:02,380 --> 01:24:05,949
the stuff<font color="#CCCCCC"> and it's kind of a place where</font>

1214
01:24:03,880 --> 01:24:10,270
to hide and no one's<font color="#E5E5E5"> going to mess with</font>

1215
01:24:05,949 --> 01:24:11,619
stuff yeah<font color="#E5E5E5"> it's always</font><font color="#CCCCCC"> open there's</font>

1216
01:24:10,270 --> 01:24:17,800
always a bunch of<font color="#E5E5E5"> them open and you</font>

1217
01:24:11,619 --> 01:24:26,949
never know what's going<font color="#CCCCCC"> on with it</font><font color="#E5E5E5"> so</font>

1218
01:24:17,800 --> 01:24:29,770
let's try migrating yeah so I<font color="#CCCCCC"> don't</font><font color="#E5E5E5"> have</font>

1219
01:24:26,949 --> 01:24:31,598
the privileges if I was running<font color="#CCCCCC"> as</font>

1220
01:24:29,770 --> 01:24:33,820
higher-level privileges or system

1221
01:24:31,599 --> 01:24:36,340
privileges then I can get in<font color="#E5E5E5"> this novice</font>

1222
01:24:33,820 --> 01:24:41,469
host<font color="#E5E5E5"> but with our service host without</font>

1223
01:24:36,340 --> 01:24:43,719
<font color="#E5E5E5">that I can't</font><font color="#CCCCCC"> so I can only go I can only</font>

1224
01:24:41,469 --> 01:24:51,400
migrate<font color="#CCCCCC"> at this level</font><font color="#E5E5E5"> to any process</font>

1225
01:24:43,719 --> 01:24:54,630
<font color="#CCCCCC">that the user has open Google crash</font>

1226
01:24:51,400 --> 01:24:54,629
handler looks<font color="#E5E5E5"> like a good one</font>

1227
01:25:01,989 --> 01:25:07,540
yeah so the question<font color="#CCCCCC"> was</font><font color="#E5E5E5"> the you the</font>

1228
01:25:05,860 --> 01:25:11,200
<font color="#E5E5E5">exploit</font><font color="#CCCCCC"> that I run determines the user</font>

1229
01:25:07,540 --> 01:25:13,450
level the<font color="#CCCCCC"> the</font><font color="#E5E5E5"> person or the account that</font>

1230
01:25:11,200 --> 01:25:15,519
runs the executable determines the

1231
01:25:13,450 --> 01:25:18,460
permission level<font color="#E5E5E5"> so because this is a</font>

1232
01:25:15,520 --> 01:25:18,790
user that<font color="#CCCCCC"> ran it I don't</font><font color="#E5E5E5"> have access</font><font color="#CCCCCC"> to</font>

1233
01:25:18,460 --> 01:25:23,739
it

1234
01:25:18,790 --> 01:25:25,930
let's try<font color="#E5E5E5"> I'm gonna exit close it and</font><font color="#CCCCCC"> if</font>

1235
01:25:23,739 --> 01:25:28,739
I ran it as administrator I should have

1236
01:25:25,930 --> 01:25:28,739
more<font color="#CCCCCC"> privileges</font>

1237
01:25:44,539 --> 01:25:51,889
but I don't I<font color="#CCCCCC"> think at this point I can</font>

1238
01:25:46,730 --> 01:25:54,320
<font color="#E5E5E5">get to system from the admin I'll try</font>

1239
01:25:51,889 --> 01:25:57,440
<font color="#E5E5E5">but I think</font><font color="#CCCCCC"> I have to go from admin to</font>

1240
01:25:54,320 --> 01:25:59,619
system then -<font color="#E5E5E5"> Ava's house or service</font>

1241
01:25:57,440 --> 01:25:59,619
house

1242
01:26:24,860 --> 01:26:26,920
you

1243
01:26:53,720 --> 01:26:57,730
[Music]

1244
01:26:55,030 --> 01:27:04,420
<font color="#E5E5E5">okay so yeah there's a million of them</font>

1245
01:26:57,730 --> 01:27:11,509
get youíd<font color="#CCCCCC"> let's see if my migrate to</font>

1246
01:27:04,420 --> 01:27:14,450
<font color="#CCCCCC">7:04 might do it okay</font><font color="#E5E5E5"> tell ya</font><font color="#CCCCCC"> see I ran</font>

1247
01:27:11,510 --> 01:27:17,260
<font color="#CCCCCC">his admin</font><font color="#E5E5E5"> I was able</font><font color="#CCCCCC"> to migrate</font><font color="#E5E5E5"> to that</font>

1248
01:27:14,450 --> 01:27:21,460
<font color="#CCCCCC">and at that point I'm pretty</font><font color="#E5E5E5"> much</font>

1249
01:27:17,260 --> 01:27:23,930
invisible to the system<font color="#E5E5E5"> or anybody</font>

1250
01:27:21,460 --> 01:27:25,460
<font color="#E5E5E5">unless you</font><font color="#CCCCCC"> really go through with a</font>

1251
01:27:23,930 --> 01:27:27,980
fine-tooth comb the biggest give the

1252
01:27:25,460 --> 01:27:30,350
<font color="#E5E5E5">biggest giveaway on this is the fact</font>

1253
01:27:27,980 --> 01:27:32,990
<font color="#CCCCCC">that you're going to see this</font><font color="#E5E5E5"> a CV host</font>

1254
01:27:30,350 --> 01:27:40,310
with a TCP connection<font color="#CCCCCC"> back to some</font>

1255
01:27:32,990 --> 01:27:47,510
strange IP address but other<font color="#E5E5E5"> than that</font>

1256
01:27:40,310 --> 01:27:51,440
it's pretty<font color="#E5E5E5"> just stuck in there if we go</font>

1257
01:27:47,510 --> 01:27:56,090
here<font color="#E5E5E5"> to the set of</font><font color="#CCCCCC"> the offensive</font>

1258
01:27:51,440 --> 01:28:00,139
security<font color="#E5E5E5"> and we go down to post</font><font color="#CCCCCC"> model</font>

1259
01:27:56,090 --> 01:28:03,400
module reference<font color="#E5E5E5"> we'll talk a little bit</font>

1260
01:28:00,140 --> 01:28:03,400
<font color="#CCCCCC">about persistence</font>

1261
01:28:23,219 --> 01:28:35,079
maintaining access<font color="#E5E5E5"> persistent backdoors</font>

1262
01:28:27,340 --> 01:28:37,719
meterpreter service so let's<font color="#CCCCCC"> take a look</font>

1263
01:28:35,079 --> 01:28:39,518
<font color="#E5E5E5">at persistence here so basically</font><font color="#CCCCCC"> what's</font>

1264
01:28:37,719 --> 01:28:41,499
going<font color="#CCCCCC"> to happen if the user reboots</font>

1265
01:28:39,519 --> 01:28:43,090
their system or turns it off we're gonna

1266
01:28:41,499 --> 01:28:45,190
lose<font color="#CCCCCC"> our meterpreter shell when we have</font>

1267
01:28:43,090 --> 01:28:47,440
to get the shell back<font color="#E5E5E5"> so there's no</font>

1268
01:28:45,190 --> 01:28:50,678
amount of persistence there so we can

1269
01:28:47,440 --> 01:28:52,119
use meterpreter to set<font color="#E5E5E5"> persistence which</font>

1270
01:28:50,679 --> 01:28:55,780
you can<font color="#E5E5E5"> have it set up like</font><font color="#CCCCCC"> a</font><font color="#E5E5E5"> net cat</font>

1271
01:28:52,119 --> 01:29:08,768
shell<font color="#E5E5E5"> or have it install and run</font>

1272
01:28:55,780 --> 01:29:11,499
persistently every time it boots<font color="#CCCCCC"> yes</font>

1273
01:29:08,769 --> 01:29:14,260
<font color="#E5E5E5">there's probably a way</font><font color="#CCCCCC"> to do that if you</font>

1274
01:29:11,499 --> 01:29:16,030
can get if<font color="#E5E5E5"> you can get some way to get</font>

1275
01:29:14,260 --> 01:29:17,619
<font color="#E5E5E5">the program to execute with higher</font>

1276
01:29:16,030 --> 01:29:19,599
privileges so if there's somewhere in

1277
01:29:17,619 --> 01:29:22,690
the startup command<font color="#E5E5E5"> that you can specify</font>

1278
01:29:19,599 --> 01:29:25,239
<font color="#CCCCCC">I think that's pretty</font><font color="#E5E5E5"> much locked down I</font>

1279
01:29:22,690 --> 01:29:26,530
haven't<font color="#E5E5E5"> played with</font><font color="#CCCCCC"> it a whole bunch</font><font color="#E5E5E5"> but</font>

1280
01:29:25,239 --> 01:29:27,820
in the startup commands if you can

1281
01:29:26,530 --> 01:29:28,929
figure out where to<font color="#E5E5E5"> put it</font>

1282
01:29:27,820 --> 01:29:32,130
so we'll<font color="#E5E5E5"> talk a little bit</font><font color="#CCCCCC"> about</font>

1283
01:29:28,929 --> 01:29:34,809
<font color="#E5E5E5">privilege escalation the next module</font><font color="#CCCCCC"> but</font>

1284
01:29:32,130 --> 01:29:36,429
<font color="#CCCCCC">basically you if you can</font><font color="#E5E5E5"> find some way</font>

1285
01:29:34,809 --> 01:29:38,320
<font color="#CCCCCC">to get the system to</font><font color="#E5E5E5"> execute it with</font>

1286
01:29:36,429 --> 01:29:40,570
higher privileges either as the<font color="#E5E5E5"> admin</font>

1287
01:29:38,320 --> 01:29:43,058
user or<font color="#CCCCCC"> the system user then you'll get</font>

1288
01:29:40,570 --> 01:29:45,159
meterpreter at a root level<font color="#CCCCCC"> if you have</font>

1289
01:29:43,059 --> 01:29:46,690
<font color="#CCCCCC">it executing and most of the stuff you</font>

1290
01:29:45,159 --> 01:29:48,789
<font color="#CCCCCC">can</font><font color="#E5E5E5"> do as a user is going to be at the</font>

1291
01:29:46,690 --> 01:29:51,959
user level<font color="#CCCCCC"> unless it asks you to type in</font>

1292
01:29:48,789 --> 01:29:51,959
<font color="#E5E5E5">a</font><font color="#CCCCCC"> pass or something like that</font>

1293
01:30:13,179 --> 01:30:15,239
you

1294
01:30:35,300 --> 01:30:41,900
so here in this<font color="#CCCCCC"> example</font><font color="#E5E5E5"> from</font><font color="#CCCCCC"> of</font>

1295
01:30:39,410 --> 01:30:43,670
offensive security<font color="#CCCCCC"> they're going to do</font>

1296
01:30:41,900 --> 01:30:47,990
the run persistence module and they're

1297
01:30:43,670 --> 01:30:50,420
going to say<font color="#CCCCCC"> I want to have the</font>

1298
01:30:47,990 --> 01:30:55,519
meterpreter dial back<font color="#E5E5E5"> to</font><font color="#CCCCCC"> my multi</font>

1299
01:30:50,420 --> 01:30:58,250
handler<font color="#E5E5E5"> every every five seconds</font><font color="#CCCCCC"> on port</font>

1300
01:30:55,520 --> 01:30:59,870
<font color="#CCCCCC">four first three</font><font color="#E5E5E5"> to this IP address</font><font color="#CCCCCC"> so</font>

1301
01:30:58,250 --> 01:31:03,580
this is some way way you can get the

1302
01:30:59,870 --> 01:31:03,580
meterpreter shell back into the system

1303
01:31:03,940 --> 01:31:12,769
<font color="#E5E5E5">through these commands here go through</font>

1304
01:31:10,100 --> 01:31:15,430
<font color="#E5E5E5">and test it so I'm going</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> skip over</font>

1305
01:31:12,770 --> 01:31:15,430
<font color="#CCCCCC">that for now</font>

1306
01:31:26,239 --> 01:31:30,339
talk about<font color="#E5E5E5"> privilege escalation</font>

1307
01:31:32,139 --> 01:31:37,190
basically privilege escalation is

1308
01:31:34,460 --> 01:31:40,550
finding some way<font color="#E5E5E5"> of exploiting the</font>

1309
01:31:37,190 --> 01:31:42,710
system<font color="#E5E5E5"> so that</font><font color="#CCCCCC"> we</font><font color="#E5E5E5"> can get root</font><font color="#CCCCCC"> level or</font>

1310
01:31:40,550 --> 01:31:44,780
administrative level privileges and<font color="#E5E5E5"> then</font>

1311
01:31:42,710 --> 01:31:51,889
get<font color="#E5E5E5"> access to the full</font><font color="#CCCCCC"> system and own</font>

1312
01:31:44,780 --> 01:31:54,650
the<font color="#E5E5E5"> system as</font><font color="#CCCCCC"> an administrator there are</font>

1313
01:31:51,889 --> 01:31:57,289
modules<font color="#CCCCCC"> and Metasploit to do</font><font color="#E5E5E5"> this you</font>

1314
01:31:54,650 --> 01:32:01,070
can go through and<font color="#E5E5E5"> find UAC modules and</font>

1315
01:31:57,289 --> 01:32:04,059
go through them<font color="#CCCCCC"> we'll go through here</font>

1316
01:32:01,070 --> 01:32:04,058
<font color="#CCCCCC">and take a look at this one</font>

1317
01:32:10,210 --> 01:32:15,910
so let's try the UAC bypass<font color="#CCCCCC"> I don't know</font>

1318
01:32:14,050 --> 01:32:21,030
let's see we're<font color="#E5E5E5"> already at root on here</font>

1319
01:32:15,910 --> 01:32:21,030
so I'm<font color="#CCCCCC"> gonna</font><font color="#E5E5E5"> leave this run</font>

1320
01:32:52,540 --> 01:33:04,530
so we will type use<font color="#CCCCCC"> windows local bypass</font>

1321
01:32:58,050 --> 01:33:04,530
use exploit<font color="#E5E5E5"> windows</font>

1322
01:33:12,190 --> 01:33:15,299
<font color="#CCCCCC">windows logo</font>

1323
01:33:56,270 --> 01:34:00,740
so yeah the easy way<font color="#E5E5E5"> to do privilege</font>

1324
01:33:58,460 --> 01:34:03,170
<font color="#E5E5E5">escalation in the past was to just do</font>

1325
01:34:00,740 --> 01:34:05,179
get system<font color="#CCCCCC"> and</font><font color="#E5E5E5"> basically what that tries</font>

1326
01:34:03,170 --> 01:34:06,560
<font color="#CCCCCC">to do is if you're running as admin you</font>

1327
01:34:05,180 --> 01:34:10,090
<font color="#CCCCCC">can type git system and it'll</font><font color="#E5E5E5"> move you</font>

1328
01:34:06,560 --> 01:34:12,500
<font color="#E5E5E5">from the admin user to the system user</font>

1329
01:34:10,090 --> 01:34:14,180
which the<font color="#E5E5E5"> system users really where you</font>

1330
01:34:12,500 --> 01:34:17,710
want to be<font color="#E5E5E5"> because it has the least</font>

1331
01:34:14,180 --> 01:34:17,710
amount<font color="#E5E5E5"> of restriction</font>

1332
01:34:26,640 --> 01:34:34,380
windows<font color="#E5E5E5"> okay so I yeah I got to do this</font>

1333
01:34:32,580 --> 01:34:36,990
<font color="#E5E5E5">in</font><font color="#CCCCCC"> Metasploit that was my problem I was</font>

1334
01:34:34,380 --> 01:34:41,430
doing it an interpreter<font color="#E5E5E5"> so I'm gonna</font>

1335
01:34:36,990 --> 01:34:43,290
<font color="#E5E5E5">type background</font><font color="#CCCCCC"> and so that's gonna drop</font>

1336
01:34:41,430 --> 01:34:45,440
my shell so my<font color="#E5E5E5"> shell</font><font color="#CCCCCC"> is still going</font><font color="#E5E5E5"> so</font>

1337
01:34:43,290 --> 01:34:47,880
if I do<font color="#CCCCCC"> sessions - I</font>

1338
01:34:45,440 --> 01:34:56,339
it'll should show me our sessions that's

1339
01:34:47,880 --> 01:34:58,410
always how I I just<font color="#CCCCCC"> type sessions</font><font color="#E5E5E5"> yeah</font>

1340
01:34:56,340 --> 01:34:59,880
type sessions<font color="#CCCCCC"> that'll tell me all my</font>

1341
01:34:58,410 --> 01:35:03,450
different sessions<font color="#CCCCCC"> if I sneeze sessions</font>

1342
01:34:59,880 --> 01:35:06,120
- I then the number that'll<font color="#E5E5E5"> take me back</font>

1343
01:35:03,450 --> 01:35:14,929
so I can<font color="#E5E5E5"> go</font><font color="#CCCCCC"> out of background and I'm</font>

1344
01:35:06,120 --> 01:35:14,930
back<font color="#CCCCCC"> at Metasploit</font><font color="#E5E5E5"> so let's try using</font>

1345
01:35:15,620 --> 01:35:35,970
<font color="#CCCCCC">this UAC bypass so use exploit windows</font>

1346
01:35:25,070 --> 01:35:42,929
local bypass UAC there we go we're gonna

1347
01:35:35,970 --> 01:35:45,590
do set session<font color="#CCCCCC"> three</font><font color="#E5E5E5"> because that's what</font>

1348
01:35:42,930 --> 01:35:45,590
<font color="#CCCCCC">our session is</font>

1349
01:35:51,409 --> 01:35:54,879
and then just exploit it

1350
01:36:10,329 --> 01:36:16,440
<font color="#E5E5E5">yep so</font><font color="#CCCCCC"> it's not vulnerable</font><font color="#E5E5E5"> that's hard</font>

1351
01:36:21,550 --> 01:36:27,610
so<font color="#CCCCCC"> you could</font><font color="#E5E5E5"> try the bypass injection</font>

1352
01:36:24,670 --> 01:36:29,920
all kinds of stuff<font color="#CCCCCC"> here here's a bunch</font>

1353
01:36:27,610 --> 01:36:32,469
<font color="#E5E5E5">of other stuff</font><font color="#CCCCCC"> you guys can try</font><font color="#E5E5E5"> it's</font>

1354
01:36:29,920 --> 01:36:38,290
<font color="#E5E5E5">pretty good</font><font color="#CCCCCC"> tutorial just for getting</font>

1355
01:36:32,470 --> 01:36:43,990
<font color="#CCCCCC">your feet wet on here</font><font color="#E5E5E5"> another way you</font>

1356
01:36:38,290 --> 01:36:47,140
can try is<font color="#E5E5E5"> using the this escalation</font>

1357
01:36:43,990 --> 01:36:48,880
method and so basically<font color="#CCCCCC"> Windows services</font>

1358
01:36:47,140 --> 01:36:51,430
are a good way to gain the<font color="#CCCCCC"> extra</font>

1359
01:36:48,880 --> 01:36:53,230
privilege because sometimes the

1360
01:36:51,430 --> 01:36:55,150
privilege the when someone will set up a

1361
01:36:53,230 --> 01:36:57,190
Windows service<font color="#CCCCCC"> they'll give it just</font>

1362
01:36:55,150 --> 01:37:00,160
full access<font color="#E5E5E5"> so if you can find</font><font color="#CCCCCC"> a</font>

1363
01:36:57,190 --> 01:37:02,980
vulnerable service and then inject your

1364
01:37:00,160 --> 01:37:05,080
exe in there or get get some executable

1365
01:37:02,980 --> 01:37:07,120
in there you can<font color="#E5E5E5"> use that to leverage to</font>

1366
01:37:05,080 --> 01:37:08,800
get to a system user when they restart

1367
01:37:07,120 --> 01:37:11,200
or start the services so if they reboot

1368
01:37:08,800 --> 01:37:14,020
or something<font color="#E5E5E5"> the service comes up it</font>

1369
01:37:11,200 --> 01:37:16,269
will execute the binary so going back<font color="#E5E5E5"> to</font>

1370
01:37:14,020 --> 01:37:18,910
<font color="#CCCCCC">the startup process if you</font><font color="#E5E5E5"> can find a</font>

1371
01:37:16,270 --> 01:37:21,310
service that<font color="#CCCCCC"> has admin privileges you</font>

1372
01:37:18,910 --> 01:37:23,830
<font color="#E5E5E5">can insert your exe into the command</font>

1373
01:37:21,310 --> 01:37:27,000
path there get it to run your program

1374
01:37:23,830 --> 01:37:30,040
instead of the service<font color="#E5E5E5"> and get</font>

1375
01:37:27,000 --> 01:37:32,230
privileges so there's a whole<font color="#E5E5E5"> Lab here</font>

1376
01:37:30,040 --> 01:37:33,940
it takes<font color="#CCCCCC"> you know kind of wild to</font><font color="#E5E5E5"> set up</font>

1377
01:37:32,230 --> 01:37:39,400
and get going<font color="#CCCCCC"> and</font><font color="#E5E5E5"> test but something you</font>

1378
01:37:33,940 --> 01:37:43,240
<font color="#E5E5E5">guys can try</font><font color="#CCCCCC"> later</font><font color="#E5E5E5"> so that covers module</font>

1379
01:37:39,400 --> 01:37:44,769
<font color="#CCCCCC">4</font><font color="#E5E5E5"> next we're</font><font color="#CCCCCC"> gonna go into we're gonna</font>

1380
01:37:43,240 --> 01:37:46,450
talk a little bit about web shells so

1381
01:37:44,770 --> 01:37:48,910
I'm<font color="#CCCCCC"> gonna</font><font color="#E5E5E5"> take</font><font color="#CCCCCC"> a</font><font color="#E5E5E5"> little bit of break if</font>

1382
01:37:46,450 --> 01:37:51,010
you guys want<font color="#E5E5E5"> to go to water or move</font>

1383
01:37:48,910 --> 01:37:54,580
around<font color="#CCCCCC"> I think it's good to</font><font color="#E5E5E5"> take</font><font color="#CCCCCC"> breaks</font>

1384
01:37:51,010 --> 01:37:58,570
so I'm gonna do the<font color="#E5E5E5"> same there any</font>

1385
01:37:54,580 --> 01:38:00,850
questions right now<font color="#CCCCCC"> I know this</font><font color="#E5E5E5"> is a lot</font>

1386
01:37:58,570 --> 01:38:06,009
<font color="#CCCCCC">to</font><font color="#E5E5E5"> kind of I ingest there's a lot of</font>

1387
01:38:00,850 --> 01:38:08,250
gotchas to it<font color="#E5E5E5"> too</font><font color="#CCCCCC"> ok we will take a</font>

1388
01:38:06,010 --> 01:38:08,250
break

