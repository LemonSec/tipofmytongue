1
00:00:06,440 --> 00:00:11,790
<font color="#E5E5E5">all right welcome</font><font color="#CCCCCC"> to see surf 101 my</font>

2
00:00:10,440 --> 00:00:13,700
name is<font color="#CCCCCC"> Erin</font><font color="#E5E5E5"> Bishop I'm a principal</font>

3
00:00:11,790 --> 00:00:16,079
penetration tester at securitymetrics

4
00:00:13,700 --> 00:00:19,169
<font color="#CCCCCC">I've been a penetration tester for about</font>

5
00:00:16,079 --> 00:00:21,959
six years<font color="#CCCCCC"> before that I was a developer</font>

6
00:00:19,170 --> 00:00:23,730
<font color="#E5E5E5">for a couple</font><font color="#CCCCCC"> years and I did</font><font color="#E5E5E5"> DevOps and</font>

7
00:00:21,960 --> 00:00:25,859
<font color="#E5E5E5">IT type stuff for a couple</font><font color="#CCCCCC"> years before</font>

8
00:00:23,730 --> 00:00:27,960
<font color="#E5E5E5">that as well so I've been involved in</font>

9
00:00:25,859 --> 00:00:31,250
<font color="#E5E5E5">the security realm for a little over a</font>

10
00:00:27,960 --> 00:00:33,809
<font color="#CCCCCC">decade now and one</font><font color="#E5E5E5"> of the issues that</font>

11
00:00:31,250 --> 00:00:36,420
I've come<font color="#CCCCCC"> across pretty frequently</font><font color="#E5E5E5"> is</font>

12
00:00:33,809 --> 00:00:39,269
cross-site request forgery<font color="#CCCCCC"> also known by</font>

13
00:00:36,420 --> 00:00:42,510
<font color="#E5E5E5">its acronym see Cerf</font><font color="#CCCCCC"> some people also</font>

14
00:00:39,270 --> 00:00:44,850
<font color="#CCCCCC">call it</font><font color="#E5E5E5"> xsrf doesn't roll off the tongue</font>

15
00:00:42,510 --> 00:00:48,120
quite as well<font color="#E5E5E5"> as see Cerf other people</font>

16
00:00:44,850 --> 00:00:49,710
refer to<font color="#E5E5E5"> it as session writing</font><font color="#CCCCCC"> so if</font>

17
00:00:48,120 --> 00:00:52,440
you're here hopefully<font color="#E5E5E5"> you're here to</font>

18
00:00:49,710 --> 00:00:53,640
learn about<font color="#CCCCCC"> C surf or you're</font><font color="#E5E5E5"> here</font>

19
00:00:52,440 --> 00:00:55,829
because<font color="#E5E5E5"> you wanted to be closer to the</font>

20
00:00:53,640 --> 00:00:57,840
lunch lines out<font color="#CCCCCC"> here just write out</font>

21
00:00:55,829 --> 00:00:59,250
<font color="#E5E5E5">these doors</font><font color="#CCCCCC"> to the side</font><font color="#E5E5E5"> we're going</font>

22
00:00:57,840 --> 00:01:00,600
<font color="#E5E5E5">right up</font><font color="#CCCCCC"> to lunchtime I'm going to try</font>

23
00:00:59,250 --> 00:01:02,489
and<font color="#E5E5E5"> get out a minute or two early so you</font>

24
00:01:00,600 --> 00:01:05,880
<font color="#CCCCCC">can just first ones in line they're</font>

25
00:01:02,489 --> 00:01:07,979
right out there<font color="#E5E5E5"> so let's go</font><font color="#CCCCCC"> ahead</font><font color="#E5E5E5"> and</font>

26
00:01:05,880 --> 00:01:11,810
just dive right<font color="#CCCCCC"> into</font><font color="#E5E5E5"> cross-site request</font>

27
00:01:07,979 --> 00:01:14,760
forgery<font color="#CCCCCC"> and what it actually is so</font>

28
00:01:11,810 --> 00:01:17,100
<font color="#CCCCCC">generally people</font><font color="#E5E5E5"> go to OWASP for</font>

29
00:01:14,760 --> 00:01:18,720
definitions and to learn a little<font color="#CCCCCC"> bit</font>

30
00:01:17,100 --> 00:01:20,939
more<font color="#CCCCCC"> about vulnerabilities but</font><font color="#E5E5E5"> a lot</font><font color="#CCCCCC"> of</font>

31
00:01:18,720 --> 00:01:23,070
<font color="#CCCCCC">people even</font><font color="#E5E5E5"> after reading a wasp's</font>

32
00:01:20,939 --> 00:01:25,289
definition of what cross-site request

33
00:01:23,070 --> 00:01:28,429
forgery is aren't entirely<font color="#E5E5E5"> sure of</font>

34
00:01:25,290 --> 00:01:30,570
what's going<font color="#E5E5E5"> on it's kind of hard to</font>

35
00:01:28,430 --> 00:01:32,070
really<font color="#E5E5E5"> explain</font><font color="#CCCCCC"> it I've tried a</font><font color="#E5E5E5"> few times</font>

36
00:01:30,570 --> 00:01:34,619
<font color="#E5E5E5">but the best that I've been able to come</font>

37
00:01:32,070 --> 00:01:36,570
<font color="#E5E5E5">up</font><font color="#CCCCCC"> with is its you're essentially</font>

38
00:01:34,619 --> 00:01:39,470
tricking<font color="#E5E5E5"> a user into performing an</font>

39
00:01:36,570 --> 00:01:42,419
action<font color="#E5E5E5"> they didn't intend to perform</font>

40
00:01:39,470 --> 00:01:45,960
<font color="#CCCCCC">doesn't involve anything complex don't</font>

41
00:01:42,420 --> 00:01:47,009
need to have any<font color="#E5E5E5"> special privileges or</font>

42
00:01:45,960 --> 00:01:48,750
access you don't<font color="#E5E5E5"> need to have</font>

43
00:01:47,009 --> 00:01:50,729
<font color="#CCCCCC">man-in-the-middle</font><font color="#E5E5E5"> or anything</font><font color="#CCCCCC"> you</font><font color="#E5E5E5"> just</font>

44
00:01:48,750 --> 00:01:53,310
get a user to<font color="#CCCCCC"> perform an action they</font>

45
00:01:50,729 --> 00:01:55,890
didn't intend to<font color="#E5E5E5"> perform</font><font color="#CCCCCC"> so we're gonna</font>

46
00:01:53,310 --> 00:01:57,360
go ahead use this way I've found to kind

47
00:01:55,890 --> 00:02:00,060
of grasp it is to actually<font color="#E5E5E5"> take a look</font>

48
00:01:57,360 --> 00:02:02,460
<font color="#E5E5E5">at what is</font><font color="#CCCCCC"> actually going on</font><font color="#E5E5E5"> in a sea</font>

49
00:02:00,060 --> 00:02:05,579
surface so we're<font color="#E5E5E5"> gonna follow our</font>

50
00:02:02,460 --> 00:02:08,848
fictitious user Bob<font color="#E5E5E5"> here</font><font color="#CCCCCC"> it's happy to</font>

51
00:02:05,579 --> 00:02:12,540
be volunteer wouldn't you<font color="#E5E5E5"> guys</font><font color="#CCCCCC"> see what</font>

52
00:02:08,848 --> 00:02:14,350
will take<font color="#E5E5E5"> place in a typical</font><font color="#CCCCCC"> Caesar</font>

53
00:02:12,540 --> 00:02:17,269
<font color="#CCCCCC">attack</font>

54
00:02:14,350 --> 00:02:20,930
so here<font color="#E5E5E5"> we're taking</font><font color="#CCCCCC"> a look at Bob's</font>

55
00:02:17,270 --> 00:02:22,820
desk huh<font color="#E5E5E5"> he's got just a couple</font><font color="#CCCCCC"> browsers</font>

56
00:02:20,930 --> 00:02:25,220
window windows open<font color="#E5E5E5"> Bob that's the thing</font>

57
00:02:22,820 --> 00:02:27,380
for<font color="#E5E5E5"> unicorns here then over</font><font color="#CCCCCC"> here on the</font>

58
00:02:25,220 --> 00:02:30,650
right<font color="#E5E5E5"> this is</font><font color="#CCCCCC"> a tool that's not as burp</font>

59
00:02:27,380 --> 00:02:33,019
<font color="#E5E5E5">we commonly use it as pen testers maybe</font>

60
00:02:30,650 --> 00:02:35,180
some developers may use it as well<font color="#E5E5E5"> I'm</font>

61
00:02:33,020 --> 00:02:37,370
using it just<font color="#E5E5E5"> as</font><font color="#CCCCCC"> a proxy to capture the</font>

62
00:02:35,180 --> 00:02:39,680
requests that<font color="#E5E5E5"> are coming</font><font color="#CCCCCC"> from Bob's</font>

63
00:02:37,370 --> 00:02:40,520
<font color="#CCCCCC">browser</font><font color="#E5E5E5"> it's not going to D be doing</font>

64
00:02:39,680 --> 00:02:42,590
<font color="#E5E5E5">anything special</font>

65
00:02:40,520 --> 00:02:44,870
it's just<font color="#E5E5E5"> capturing every request the</font>

66
00:02:42,590 --> 00:02:48,620
Bob's browser sends out<font color="#E5E5E5"> so we can see</font>

67
00:02:44,870 --> 00:02:54,980
what Bob is<font color="#E5E5E5"> actually doing so Bob goes</font>

68
00:02:48,620 --> 00:02:57,400
ahead<font color="#E5E5E5"> and comes to this site and not</font>

69
00:02:54,980 --> 00:02:57,399
<font color="#CCCCCC">that site</font>

70
00:03:05,700 --> 00:03:11,160
it's known as<font color="#CCCCCC"> burp or the burp suite you</font>

71
00:03:08,670 --> 00:03:14,010
can<font color="#E5E5E5"> find whether their web site is port</font>

72
00:03:11,160 --> 00:03:15,510
<font color="#CCCCCC">swagger dot-com</font>

73
00:03:14,010 --> 00:03:19,459
they have a free<font color="#E5E5E5"> community</font><font color="#CCCCCC"> edition if</font>

74
00:03:15,510 --> 00:03:23,070
<font color="#E5E5E5">you want to check it out yourself and so</font>

75
00:03:19,460 --> 00:03:24,570
well up<font color="#CCCCCC"> here comes to save</font><font color="#E5E5E5"> calm and fair</font>

76
00:03:23,070 --> 00:03:26,790
<font color="#E5E5E5">warning if you're trying to follow along</font>

77
00:03:24,570 --> 00:03:30,000
on your<font color="#E5E5E5"> laptop</font><font color="#CCCCCC"> safe calm is owned by</font>

78
00:03:26,790 --> 00:03:31,679
<font color="#CCCCCC">somebody so it's not this isn't</font><font color="#E5E5E5"> actually</font>

79
00:03:30,000 --> 00:03:32,910
safe calm<font color="#E5E5E5"> you start playing around on</font>

80
00:03:31,680 --> 00:03:35,040
safe calm<font color="#CCCCCC"> you</font><font color="#E5E5E5"> probably don't have</font>

81
00:03:32,910 --> 00:03:37,049
permission to they might get mad<font color="#E5E5E5"> so</font>

82
00:03:35,040 --> 00:03:39,450
don't try<font color="#CCCCCC"> and follow along</font><font color="#E5E5E5"> with</font><font color="#CCCCCC"> safe</font>

83
00:03:37,050 --> 00:03:43,020
calm or the other side that<font color="#E5E5E5"> will come up</font>

84
00:03:39,450 --> 00:03:45,630
<font color="#E5E5E5">not equal calm so this instance Bobbio</font>

85
00:03:43,020 --> 00:03:50,850
safe calm just<font color="#CCCCCC"> his username</font><font color="#E5E5E5"> and password</font>

86
00:03:45,630 --> 00:03:53,459
and logged in and<font color="#E5E5E5"> it brings us to Bob's</font>

87
00:03:50,850 --> 00:03:55,019
little profile here maybe Bob had an

88
00:03:53,459 --> 00:03:56,520
<font color="#E5E5E5">awesome</font><font color="#CCCCCC"> night playing for at night</font>

89
00:03:55,020 --> 00:03:58,560
feeling really good about himself<font color="#E5E5E5"> and</font>

90
00:03:56,520 --> 00:04:02,760
just<font color="#CCCCCC"> Stoke and</font><font color="#E5E5E5"> decides to go ahead and</font>

91
00:03:58,560 --> 00:04:05,040
change<font color="#CCCCCC"> his name to King Bob</font><font color="#E5E5E5"> so it</font>

92
00:04:02,760 --> 00:04:06,840
changes the<font color="#CCCCCC"> names King Bob and</font><font color="#E5E5E5"> everybody</font>

93
00:04:05,040 --> 00:04:10,650
knows<font color="#CCCCCC"> that you know he's</font><font color="#E5E5E5"> feeling awesome</font>

94
00:04:06,840 --> 00:04:13,110
<font color="#E5E5E5">it's had a great day</font><font color="#CCCCCC"> that's all you can</font>

95
00:04:10,650 --> 00:04:15,989
really<font color="#E5E5E5"> do if we check over</font><font color="#CCCCCC"> here with</font>

96
00:04:13,110 --> 00:04:19,650
<font color="#CCCCCC">Bert we can see the request</font><font color="#E5E5E5"> Bob sent</font><font color="#CCCCCC"> was</font>

97
00:04:15,989 --> 00:04:22,260
just a simple post request to<font color="#E5E5E5"> safecom it</font>

98
00:04:19,649 --> 00:04:25,650
contained in the body<font color="#E5E5E5"> of the request his</font>

99
00:04:22,260 --> 00:04:27,419
new name which was<font color="#CCCCCC"> King Bob and so Bob</font>

100
00:04:25,650 --> 00:04:30,150
<font color="#E5E5E5">feeling really good about himself goes</font>

101
00:04:27,419 --> 00:04:31,770
down to one<font color="#E5E5E5"> of his favorite sites just</font>

102
00:04:30,150 --> 00:04:33,150
<font color="#E5E5E5">to get a</font><font color="#CCCCCC"> little</font><font color="#E5E5E5"> background music or</font>

103
00:04:31,770 --> 00:04:35,270
<font color="#E5E5E5">something going</font><font color="#CCCCCC"> in</font><font color="#E5E5E5"> the background the</font>

104
00:04:33,150 --> 00:04:39,299
you know distract him if he gets<font color="#E5E5E5"> kind of</font>

105
00:04:35,270 --> 00:04:42,419
locked and thought so he<font color="#E5E5E5"> goes</font><font color="#CCCCCC"> to his</font>

106
00:04:39,300 --> 00:04:45,030
favorite site not<font color="#E5E5E5"> evil calm which as we</font>

107
00:04:42,419 --> 00:04:48,299
see ends up changing his<font color="#E5E5E5"> name up top to</font>

108
00:04:45,030 --> 00:04:52,830
see<font color="#CCCCCC"> Cerf it just starts up his favorite</font>

109
00:04:48,300 --> 00:04:57,570
little<font color="#E5E5E5"> bit video to distract him so we</font>

110
00:04:52,830 --> 00:04:59,669
also check back over here on in<font color="#E5E5E5"> birpur</font><font color="#CCCCCC"> I</font>

111
00:04:57,570 --> 00:05:01,770
<font color="#E5E5E5">mean see Bob went to not evil calm and</font>

112
00:04:59,669 --> 00:05:04,409
then right after<font color="#CCCCCC"> that there was a</font>

113
00:05:01,770 --> 00:05:07,080
<font color="#CCCCCC">request from Bob's browser to that</font>

114
00:05:04,410 --> 00:05:12,960
profile page<font color="#E5E5E5"> the changes name to see</font>

115
00:05:07,080 --> 00:05:15,659
<font color="#CCCCCC">surf so that is the most simple form of</font>

116
00:05:12,960 --> 00:05:17,739
a sea serpent AK<font color="#E5E5E5"> will step</font><font color="#CCCCCC"> back and</font>

117
00:05:15,660 --> 00:05:21,280
actually<font color="#E5E5E5"> look</font>

118
00:05:17,740 --> 00:05:23,669
happened<font color="#CCCCCC"> so if we</font><font color="#E5E5E5"> walk through what</font>

119
00:05:21,280 --> 00:05:28,030
happened in<font color="#E5E5E5"> this attack we</font><font color="#CCCCCC"> have Bob here</font>

120
00:05:23,669 --> 00:05:30,479
that went and visited<font color="#CCCCCC"> safecom so he</font>

121
00:05:28,030 --> 00:05:32,739
logged<font color="#E5E5E5"> into safe calm and safe calm</font>

122
00:05:30,479 --> 00:05:37,240
<font color="#CCCCCC">recognize his username and password</font><font color="#E5E5E5"> and</font>

123
00:05:32,740 --> 00:05:40,090
set a cookie<font color="#E5E5E5"> so identify Bob session so</font>

124
00:05:37,240 --> 00:05:42,280
Bob's browser<font color="#E5E5E5"> had that cookie and stored</font>

125
00:05:40,090 --> 00:05:46,289
it<font color="#E5E5E5"> and so all future requests for safe</font>

126
00:05:42,280 --> 00:05:50,349
<font color="#E5E5E5">calm would include that session cookie</font>

127
00:05:46,289 --> 00:05:52,930
so afterwards<font color="#CCCCCC"> Bob then</font><font color="#E5E5E5"> visited not evil</font>

128
00:05:50,349 --> 00:05:55,870
calm and hidden<font color="#E5E5E5"> on the page of not evil</font>

129
00:05:52,930 --> 00:05:58,300
calm was a malicious script that

130
00:05:55,870 --> 00:06:00,490
<font color="#CCCCCC">whenever a user visited not evil calm</font>

131
00:05:58,300 --> 00:06:04,569
<font color="#E5E5E5">that script would execute and</font><font color="#CCCCCC"> that</font>

132
00:06:00,490 --> 00:06:07,090
script was<font color="#E5E5E5"> just a simple request to</font>

133
00:06:04,569 --> 00:06:10,840
<font color="#E5E5E5">change that to change the</font><font color="#CCCCCC"> username of</font>

134
00:06:07,090 --> 00:06:14,440
whoever visited not evil calm so in

135
00:06:10,840 --> 00:06:17,229
Bob's case<font color="#CCCCCC"> he visited it the script</font>

136
00:06:14,440 --> 00:06:19,389
executed and it resulted in a post

137
00:06:17,229 --> 00:06:23,440
request<font color="#CCCCCC"> to change</font><font color="#E5E5E5"> his</font><font color="#CCCCCC"> name to</font><font color="#E5E5E5"> see surf</font>

138
00:06:19,389 --> 00:06:26,889
and then as part<font color="#E5E5E5"> of it being a or for it</font>

139
00:06:23,440 --> 00:06:29,770
to<font color="#CCCCCC"> be a sea surface AK</font><font color="#E5E5E5"> and included</font><font color="#CCCCCC"> Bob</font>

140
00:06:26,889 --> 00:06:32,139
session cookie<font color="#E5E5E5"> because</font><font color="#CCCCCC"> Bob's browser</font>

141
00:06:29,770 --> 00:06:34,900
it's just the nature of the browser<font color="#E5E5E5"> to</font>

142
00:06:32,139 --> 00:06:37,960
include the cookies<font color="#E5E5E5"> that</font><font color="#CCCCCC"> are associated</font>

143
00:06:34,900 --> 00:06:40,719
with a domain that<font color="#CCCCCC"> it has stored so</font><font color="#E5E5E5"> I</font>

144
00:06:37,960 --> 00:06:42,008
want you to<font color="#E5E5E5"> stop and</font><font color="#CCCCCC"> think for it about</font>

145
00:06:40,719 --> 00:06:45,990
the<font color="#E5E5E5"> functionality that your site</font>

146
00:06:42,009 --> 00:06:49,599
performs<font color="#CCCCCC"> maybe you don't do much besides</font>

147
00:06:45,990 --> 00:06:51,639
<font color="#E5E5E5">handling user names maybe passwords it's</font>

148
00:06:49,599 --> 00:06:53,319
something more<font color="#CCCCCC"> serious like you know</font>

149
00:06:51,639 --> 00:06:56,199
banking institution or some<font color="#CCCCCC"> more some</font>

150
00:06:53,319 --> 00:06:58,870
<font color="#E5E5E5">other sort of financial institution</font><font color="#CCCCCC"> if</font>

151
00:06:56,199 --> 00:07:00,940
these requests aren't protected<font color="#E5E5E5"> they can</font>

152
00:06:58,870 --> 00:07:03,550
be exploited<font color="#E5E5E5"> using a sea surface type</font>

153
00:07:00,940 --> 00:07:06,009
attack<font color="#E5E5E5"> and users can unintentionally</font>

154
00:07:03,550 --> 00:07:08,620
perform these actions which<font color="#CCCCCC"> maybe they</font>

155
00:07:06,009 --> 00:07:11,080
transfer money maybe they<font color="#E5E5E5"> change their</font>

156
00:07:08,620 --> 00:07:14,080
password some instances<font color="#E5E5E5"> that I have come</font>

157
00:07:11,080 --> 00:07:17,229
across<font color="#CCCCCC"> there's one instance</font><font color="#E5E5E5"> of a company</font>

158
00:07:14,080 --> 00:07:19,389
<font color="#CCCCCC">that was testing where they handled bill</font>

159
00:07:17,229 --> 00:07:21,310
<font color="#CCCCCC">Pitt like bills</font><font color="#E5E5E5"> you could pay your</font>

160
00:07:19,389 --> 00:07:24,669
<font color="#CCCCCC">different utility bills I think they</font>

161
00:07:21,310 --> 00:07:27,490
handled<font color="#E5E5E5"> credit card bills as well</font><font color="#CCCCCC"> but</font>

162
00:07:24,669 --> 00:07:30,370
there was an<font color="#CCCCCC"> option that</font><font color="#E5E5E5"> their agents in</font>

163
00:07:27,490 --> 00:07:31,630
the company could just approve or verify

164
00:07:30,370 --> 00:07:33,460
that a bill was paid

165
00:07:31,630 --> 00:07:37,750
and it was<font color="#CCCCCC"> vulnerable</font><font color="#E5E5E5"> to sea surf so any</font>

166
00:07:33,460 --> 00:07:39,489
user<font color="#CCCCCC"> that they could be tricked into</font>

167
00:07:37,750 --> 00:07:41,770
verifying<font color="#CCCCCC"> that another user or that a</font>

168
00:07:39,490 --> 00:07:44,650
<font color="#CCCCCC">user's bill had been paid</font><font color="#E5E5E5"> even</font><font color="#CCCCCC"> if it</font>

169
00:07:41,770 --> 00:07:46,030
hadn't been paid<font color="#E5E5E5"> so free</font><font color="#CCCCCC"> Bill's one of</font>

170
00:07:44,650 --> 00:07:48,219
my<font color="#CCCCCC"> colleagues discovered</font><font color="#E5E5E5"> an instance</font>

171
00:07:46,030 --> 00:07:50,739
where<font color="#CCCCCC"> this for a</font><font color="#E5E5E5"> day care type facility</font>

172
00:07:48,220 --> 00:07:52,870
where<font color="#E5E5E5"> you could change the pin that was</font>

173
00:07:50,740 --> 00:07:53,140
necessary<font color="#E5E5E5"> to check out kids from</font><font color="#CCCCCC"> day</font>

174
00:07:52,870 --> 00:07:55,600
<font color="#CCCCCC">care</font>

175
00:07:53,140 --> 00:07:58,710
<font color="#E5E5E5">which is kind of a scary possible attack</font>

176
00:07:55,600 --> 00:08:01,240
to possibly take other people's<font color="#E5E5E5"> kids</font>

177
00:07:58,710 --> 00:08:04,390
<font color="#CCCCCC">another</font><font color="#E5E5E5"> attack that</font><font color="#CCCCCC"> I came across I</font>

178
00:08:01,240 --> 00:08:07,030
thought was pretty nice or handy was a

179
00:08:04,390 --> 00:08:10,210
pizza<font color="#CCCCCC"> delivery place and it was kind of</font>

180
00:08:07,030 --> 00:08:12,760
a multi-stage sea surf<font color="#E5E5E5"> because it</font>

181
00:08:10,210 --> 00:08:14,680
changed the delivery address<font color="#CCCCCC"> and then</font>

182
00:08:12,760 --> 00:08:16,780
submit an order<font color="#E5E5E5"> and so I had it set up</font>

183
00:08:14,680 --> 00:08:18,940
<font color="#CCCCCC">and</font><font color="#E5E5E5"> if anybody visited my site it submit</font>

184
00:08:16,780 --> 00:08:21,609
an order<font color="#E5E5E5"> to the site and I'd get free</font>

185
00:08:18,940 --> 00:08:23,830
cheesy bread and Mountain<font color="#CCCCCC"> Dew and would</font>

186
00:08:21,610 --> 00:08:26,350
<font color="#E5E5E5">have been pretty awesome but</font><font color="#CCCCCC"> not a</font>

187
00:08:23,830 --> 00:08:32,679
<font color="#E5E5E5">malicious person so didn't actually pay</font>

188
00:08:26,350 --> 00:08:36,159
<font color="#CCCCCC">off for</font><font color="#E5E5E5"> me at all now see surf isn't a</font>

189
00:08:32,679 --> 00:08:38,228
new attack it's been around<font color="#E5E5E5"> essentially</font>

190
00:08:36,159 --> 00:08:41,860
since the dawn of<font color="#E5E5E5"> the internet back when</font>

191
00:08:38,229 --> 00:08:46,180
geo city sites ruled the web and there

192
00:08:41,860 --> 00:08:49,900
wasn't<font color="#E5E5E5"> anything cool to really look at a</font>

193
00:08:46,180 --> 00:08:52,599
notable example that you know<font color="#E5E5E5"> has</font><font color="#CCCCCC"> taken</font>

194
00:08:49,900 --> 00:08:55,209
place<font color="#E5E5E5"> is known as the goat worm</font><font color="#CCCCCC"> it kind</font>

195
00:08:52,600 --> 00:08:57,480
of took place on Twitter<font color="#E5E5E5"> platform that</font>

196
00:08:55,210 --> 00:08:59,710
many of you may<font color="#CCCCCC"> be familiar with I</font>

197
00:08:57,480 --> 00:09:02,590
personally<font color="#CCCCCC"> don't use</font><font color="#E5E5E5"> Twitter</font><font color="#CCCCCC"> never saw</font>

198
00:08:59,710 --> 00:09:04,510
<font color="#E5E5E5">the need but there's</font><font color="#CCCCCC"> a notable attack</font>

199
00:09:02,590 --> 00:09:07,090
the goat worm it took<font color="#E5E5E5"> place on Twitter</font>

200
00:09:04,510 --> 00:09:09,280
<font color="#E5E5E5">and so what happened was there's an</font>

201
00:09:07,090 --> 00:09:13,060
initial user<font color="#E5E5E5"> that sent out</font><font color="#CCCCCC"> a malicious</font>

202
00:09:09,280 --> 00:09:16,060
link they sent<font color="#E5E5E5"> out a tweet that</font><font color="#CCCCCC"> said I</font>

203
00:09:13,060 --> 00:09:18,099
<font color="#CCCCCC">love</font><font color="#E5E5E5"> to perform explicit acts with goats</font>

204
00:09:16,060 --> 00:09:20,410
<font color="#E5E5E5">and then they sent out a malicious link</font>

205
00:09:18,100 --> 00:09:21,940
<font color="#E5E5E5">and they tweeted it out</font><font color="#CCCCCC"> so any of their</font>

206
00:09:20,410 --> 00:09:23,290
followers<font color="#E5E5E5"> that click the</font><font color="#CCCCCC"> link to see</font>

207
00:09:21,940 --> 00:09:26,500
what<font color="#CCCCCC"> was</font><font color="#E5E5E5"> going on</font>

208
00:09:23,290 --> 00:09:29,589
with this tweet would also be victims<font color="#CCCCCC"> of</font>

209
00:09:26,500 --> 00:09:36,960
this teaser for tech and so because of

210
00:09:29,590 --> 00:09:36,960
<font color="#E5E5E5">it they sent out the link and then</font>

211
00:09:38,480 --> 00:09:42,540
<font color="#CCCCCC">they went</font><font color="#E5E5E5"> out to their followers and</font>

212
00:09:40,920 --> 00:09:45,149
their followers when they clicked on it

213
00:09:42,540 --> 00:09:55,740
they then tweeted<font color="#E5E5E5"> out the same link to</font>

214
00:09:45,149 --> 00:09:57,180
their users<font color="#E5E5E5"> or their followers</font><font color="#CCCCCC"> and then</font>

215
00:09:55,740 --> 00:10:00,779
they clicked on<font color="#CCCCCC"> the</font><font color="#E5E5E5"> link and spread</font><font color="#CCCCCC"> to</font>

216
00:09:57,180 --> 00:10:04,109
<font color="#E5E5E5">their followers</font><font color="#CCCCCC"> and in roughly two or</font>

217
00:10:00,779 --> 00:10:07,410
three days it had spread through 70,000

218
00:10:04,110 --> 00:10:08,759
plus users of Twitter<font color="#CCCCCC"> just</font><font color="#E5E5E5"> victims of</font>

219
00:10:07,410 --> 00:10:10,589
the sea surface<font color="#E5E5E5"> act where everybody was</font>

220
00:10:08,759 --> 00:10:13,379
tweeting out that they loved<font color="#E5E5E5"> to perform</font>

221
00:10:10,589 --> 00:10:14,519
explicit acts with goats<font color="#E5E5E5"> and then a link</font>

222
00:10:13,379 --> 00:10:15,809
for everybody else to click and just

223
00:10:14,519 --> 00:10:19,079
<font color="#E5E5E5">kept spreading and spreading and</font>

224
00:10:15,809 --> 00:10:21,899
spreading<font color="#E5E5E5"> and because of attack like</font>

225
00:10:19,079 --> 00:10:25,969
this attack wasn't very malicious maybe

226
00:10:21,899 --> 00:10:25,970
kind<font color="#E5E5E5"> of annoying didn't perform any</font>

227
00:10:26,120 --> 00:10:33,059
terribly damaging activity nobody's

228
00:10:29,579 --> 00:10:35,579
nobody<font color="#E5E5E5"> lost any financial data or</font>

229
00:10:33,059 --> 00:10:38,009
<font color="#CCCCCC">anything it just</font><font color="#E5E5E5"> was a malicious link in</font>

230
00:10:35,579 --> 00:10:40,829
users without<font color="#E5E5E5"> knowing it</font><font color="#CCCCCC"> perform</font><font color="#E5E5E5"> the</font>

231
00:10:38,009 --> 00:10:43,949
action of tweeting out the link<font color="#CCCCCC"> in Bob's</font>

232
00:10:40,829 --> 00:10:46,649
case<font color="#E5E5E5"> user names changed also not very</font>

233
00:10:43,949 --> 00:10:48,959
<font color="#E5E5E5">malicious but there are malicious</font>

234
00:10:46,649 --> 00:10:54,559
instances out there which<font color="#E5E5E5"> is why for a</font>

235
00:10:48,959 --> 00:10:56,699
long time<font color="#CCCCCC"> see surf topped list in wasp</font>

236
00:10:54,559 --> 00:11:00,899
<font color="#E5E5E5">it originally made its</font><font color="#CCCCCC"> appearance in</font>

237
00:10:56,699 --> 00:11:02,969
2007 and it was number five on<font color="#E5E5E5"> the OWASP</font>

238
00:11:00,899 --> 00:11:06,990
top 10 list<font color="#E5E5E5"> held the position of number</font>

239
00:11:02,970 --> 00:11:09,360
<font color="#CCCCCC">5</font><font color="#E5E5E5"> also</font><font color="#CCCCCC"> in 2010 2013 it dropped a little</font>

240
00:11:06,990 --> 00:11:13,860
<font color="#E5E5E5">bit and then most recently a wasp</font>

241
00:11:09,360 --> 00:11:14,249
decided to remove<font color="#E5E5E5"> Caesar from its top</font><font color="#CCCCCC"> 10</font>

242
00:11:13,860 --> 00:11:17,220
list

243
00:11:14,249 --> 00:11:19,079
what's<font color="#E5E5E5"> with its</font><font color="#CCCCCC"> justification being that</font>

244
00:11:17,220 --> 00:11:22,529
<font color="#E5E5E5">because</font><font color="#CCCCCC"> a</font><font color="#E5E5E5"> modern frameworks</font><font color="#CCCCCC"> see surf</font>

245
00:11:19,079 --> 00:11:24,420
isn't as prevalent<font color="#E5E5E5"> of an issue</font><font color="#CCCCCC"> the wasp</font>

246
00:11:22,529 --> 00:11:27,329
community said that they're only seeing

247
00:11:24,420 --> 00:11:31,679
<font color="#E5E5E5">it maybe</font><font color="#CCCCCC"> 5%</font><font color="#E5E5E5"> of web applications that</font>

248
00:11:27,329 --> 00:11:33,239
they're<font color="#E5E5E5"> testing or examining I disagree</font>

249
00:11:31,679 --> 00:11:36,899
with<font color="#CCCCCC"> that most</font><font color="#E5E5E5"> of my colleagues</font><font color="#CCCCCC"> would as</font>

250
00:11:33,240 --> 00:11:38,910
well<font color="#E5E5E5"> ICC ICC surfing about 50% of the</font>

251
00:11:36,899 --> 00:11:41,459
web applications<font color="#E5E5E5"> that I test and the</font>

252
00:11:38,910 --> 00:11:43,050
ones that<font color="#E5E5E5"> don't that aren't boner</font><font color="#CCCCCC"> about</font>

253
00:11:41,459 --> 00:11:44,550
<font color="#CCCCCC">sea surf are generally ones we've tested</font>

254
00:11:43,050 --> 00:11:46,290
in the<font color="#E5E5E5"> past and we flagged him for it</font>

255
00:11:44,550 --> 00:11:48,750
<font color="#E5E5E5">and told them hey you guys need to fix</font>

256
00:11:46,290 --> 00:11:52,010
this<font color="#E5E5E5"> this</font><font color="#CCCCCC"> is an issue I see a lot of</font>

257
00:11:48,750 --> 00:11:53,440
<font color="#E5E5E5">instances</font><font color="#CCCCCC"> of people</font><font color="#E5E5E5"> that might assume</font>

258
00:11:52,010 --> 00:11:55,730
<font color="#E5E5E5">they're safe</font><font color="#CCCCCC"> in some way shape or form</font>

259
00:11:53,440 --> 00:11:57,170
<font color="#CCCCCC">but they're not they haven't actually</font>

260
00:11:55,730 --> 00:12:00,200
<font color="#E5E5E5">taken the steps necessary to protect</font>

261
00:11:57,170 --> 00:12:03,319
<font color="#E5E5E5">themselves protecting</font><font color="#CCCCCC"> yourself from</font><font color="#E5E5E5"> sea</font>

262
00:12:00,200 --> 00:12:04,820
surf it's a fairly simple activity<font color="#E5E5E5"> we're</font>

263
00:12:03,320 --> 00:12:07,070
going<font color="#CCCCCC"> to take a look at</font><font color="#E5E5E5"> that to show you</font>

264
00:12:04,820 --> 00:12:10,460
just how easy<font color="#CCCCCC"> it might be and we're</font>

265
00:12:07,070 --> 00:12:12,560
going<font color="#E5E5E5"> to go back to a scenario with our</font>

266
00:12:10,460 --> 00:12:14,060
buddy Bob here and these<font color="#E5E5E5"> are the steps</font>

267
00:12:12,560 --> 00:12:17,510
<font color="#CCCCCC">that we kind</font><font color="#E5E5E5"> of already went through</font>

268
00:12:14,060 --> 00:12:20,959
<font color="#E5E5E5">with Bob visiting not evil calm and that</font>

269
00:12:17,510 --> 00:12:23,930
malicious page<font color="#E5E5E5"> or the</font><font color="#CCCCCC"> mostess script</font>

270
00:12:20,960 --> 00:12:31,100
being rendered<font color="#E5E5E5"> so let's pop back</font><font color="#CCCCCC"> over to</font>

271
00:12:23,930 --> 00:12:32,989
our<font color="#E5E5E5"> buddy Bob so Bob</font>

272
00:12:31,100 --> 00:12:35,060
maybe he<font color="#E5E5E5"> got annoyed because he couldn't</font>

273
00:12:32,990 --> 00:12:36,380
<font color="#E5E5E5">keep</font><font color="#CCCCCC"> his</font><font color="#E5E5E5"> username King Bob and it kept</font>

274
00:12:35,060 --> 00:12:38,780
<font color="#CCCCCC">changing whenever he would try and</font><font color="#E5E5E5"> go</font>

275
00:12:36,380 --> 00:12:39,620
check out his cool unicorn video down

276
00:12:38,780 --> 00:12:41,360
<font color="#CCCCCC">there</font>

277
00:12:39,620 --> 00:12:43,130
told the developers something funny<font color="#E5E5E5"> was</font>

278
00:12:41,360 --> 00:12:45,520
<font color="#CCCCCC">going on so the developers looked into</font>

279
00:12:43,130 --> 00:12:48,650
it<font color="#E5E5E5"> identified it as</font><font color="#CCCCCC"> sea surf and</font>

280
00:12:45,520 --> 00:12:50,180
implemented a fix<font color="#E5E5E5"> they updated their</font>

281
00:12:48,650 --> 00:12:50,569
site and<font color="#E5E5E5"> they told all the users about</font>

282
00:12:50,180 --> 00:12:57,199
it

283
00:12:50,570 --> 00:13:00,860
so now<font color="#CCCCCC"> Bob those logs into the site</font>

284
00:12:57,200 --> 00:13:02,240
again<font color="#E5E5E5"> everything</font><font color="#CCCCCC"> se stays the same</font><font color="#E5E5E5"> no</font>

285
00:13:00,860 --> 00:13:04,730
<font color="#CCCCCC">difference for Bob</font>

286
00:13:02,240 --> 00:13:06,500
the only<font color="#CCCCCC"> things</font><font color="#E5E5E5"> different is yes it's</font>

287
00:13:04,730 --> 00:13:09,590
nice<font color="#E5E5E5"> new banner that says sites now</font>

288
00:13:06,500 --> 00:13:14,330
equipped<font color="#E5E5E5"> with C surf protection so</font><font color="#CCCCCC"> Bob</font>

289
00:13:09,590 --> 00:13:16,960
changes his<font color="#CCCCCC"> username</font><font color="#E5E5E5"> to King Bob and</font>

290
00:13:14,330 --> 00:13:21,260
once<font color="#E5E5E5"> again goes back to start up his</font>

291
00:13:16,960 --> 00:13:24,050
cool<font color="#E5E5E5"> unicorn video so it kicks it off</font>

292
00:13:21,260 --> 00:13:26,240
and as usually<font color="#E5E5E5"> I'm stays the same it</font>

293
00:13:24,050 --> 00:13:30,170
doesn't change<font color="#E5E5E5"> this time the attack was</font>

294
00:13:26,240 --> 00:13:32,060
foiled<font color="#E5E5E5"> but if we look at the requests</font>

295
00:13:30,170 --> 00:13:35,150
<font color="#E5E5E5">that were sent once again Bob went to</font>

296
00:13:32,060 --> 00:13:38,869
not evil<font color="#CCCCCC"> comm</font><font color="#E5E5E5"> and Bob's browsers then</font>

297
00:13:35,150 --> 00:13:42,530
attempted<font color="#CCCCCC"> to make a post to safecom that</font>

298
00:13:38,870 --> 00:13:44,570
had the body of<font color="#E5E5E5"> C surf</font><font color="#CCCCCC"> the difference</font>

299
00:13:42,530 --> 00:13:46,850
<font color="#E5E5E5">here being at this time the server</font>

300
00:13:44,570 --> 00:13:49,460
responded and said<font color="#E5E5E5"> it was an invalid</font><font color="#CCCCCC"> C</font>

301
00:13:46,850 --> 00:13:50,930
surf token and if we look at<font color="#E5E5E5"> the</font><font color="#CCCCCC"> request</font>

302
00:13:49,460 --> 00:13:55,130
that Bob sent to actually change his

303
00:13:50,930 --> 00:13:57,800
<font color="#CCCCCC">username this time Bob sent the request</font>

304
00:13:55,130 --> 00:13:58,520
<font color="#E5E5E5">with his username and then included in</font>

305
00:13:57,800 --> 00:14:00,349
<font color="#CCCCCC">the</font><font color="#E5E5E5"> request</font>

306
00:13:58,520 --> 00:14:03,560
there's a giant token it's<font color="#E5E5E5"> a randomly</font>

307
00:14:00,350 --> 00:14:05,180
<font color="#E5E5E5">generated string that would be next to</font>

308
00:14:03,560 --> 00:14:07,699
<font color="#CCCCCC">impossible</font><font color="#E5E5E5"> to</font>

309
00:14:05,180 --> 00:14:08,989
try and<font color="#CCCCCC"> brute-force it then</font><font color="#E5E5E5"> reasonable</font>

310
00:14:07,700 --> 00:14:11,060
<font color="#E5E5E5">amount of time</font>

311
00:14:08,990 --> 00:14:22,310
<font color="#CCCCCC">they'd identified that</font><font color="#E5E5E5"> Bob intended to</font>

312
00:14:11,060 --> 00:14:23,750
perform<font color="#E5E5E5"> that request so that token</font><font color="#CCCCCC"> I</font><font color="#E5E5E5"> see</font>

313
00:14:22,310 --> 00:14:26,150
<font color="#CCCCCC">Cerf talking to get sent a lot of</font><font color="#E5E5E5"> times</font>

314
00:14:23,750 --> 00:14:29,150
<font color="#CCCCCC">it's referred to as a synchronizer token</font>

315
00:14:26,150 --> 00:14:31,760
token being unique per session<font color="#E5E5E5"> so every</font>

316
00:14:29,150 --> 00:14:33,980
time Bob logs in he receives a new<font color="#E5E5E5"> see</font>

317
00:14:31,760 --> 00:14:35,540
certain and ideally sessions are kept

318
00:14:33,980 --> 00:14:37,760
<font color="#E5E5E5">short enough or they expire soon enough</font>

319
00:14:35,540 --> 00:14:39,589
that<font color="#E5E5E5"> that token doesn't persist for an</font>

320
00:14:37,760 --> 00:14:42,110
extended period<font color="#E5E5E5"> of time</font><font color="#CCCCCC"> I'm reducing the</font>

321
00:14:39,590 --> 00:14:44,270
window for<font color="#CCCCCC"> a possible brute-force that's</font>

322
00:14:42,110 --> 00:14:46,790
a large value<font color="#CCCCCC"> and most importantly if</font>

323
00:14:44,270 --> 00:14:49,670
the token isn't valid<font color="#E5E5E5"> or if it's not</font>

324
00:14:46,790 --> 00:14:51,160
<font color="#CCCCCC">included then it's just rejected</font><font color="#E5E5E5"> I've</font>

325
00:14:49,670 --> 00:14:53,449
seen it<font color="#CCCCCC"> a</font><font color="#E5E5E5"> lot</font><font color="#CCCCCC"> of times where people</font>

326
00:14:51,160 --> 00:14:55,459
<font color="#E5E5E5">assume hey we're including a</font><font color="#CCCCCC"> see sort</font>

327
00:14:53,450 --> 00:14:57,620
<font color="#CCCCCC">oaken in our</font><font color="#E5E5E5"> request or say from</font><font color="#CCCCCC"> see</font>

328
00:14:55,460 --> 00:14:59,540
<font color="#CCCCCC">Cerf right</font><font color="#E5E5E5"> but if you remove the token</font>

329
00:14:57,620 --> 00:15:02,150
<font color="#E5E5E5">their quest still succeeds they're not</font>

330
00:14:59,540 --> 00:15:04,160
actually validating that<font color="#CCCCCC"> it's a real</font>

331
00:15:02,150 --> 00:15:06,770
token on the server so it's not

332
00:15:04,160 --> 00:15:08,360
providing<font color="#CCCCCC"> any protection it's just some</font>

333
00:15:06,770 --> 00:15:11,449
<font color="#CCCCCC">arbitrary parameter that's</font><font color="#E5E5E5"> including the</font>

334
00:15:08,360 --> 00:15:13,430
<font color="#E5E5E5">requests and</font><font color="#CCCCCC"> needs</font><font color="#E5E5E5"> to</font><font color="#CCCCCC"> be verified on the</font>

335
00:15:11,450 --> 00:15:15,920
server side<font color="#CCCCCC"> that that was</font><font color="#E5E5E5"> the correct</font>

336
00:15:13,430 --> 00:15:19,719
<font color="#E5E5E5">token that was included that Bob</font><font color="#CCCCCC"> did</font>

337
00:15:15,920 --> 00:15:24,079
intend<font color="#E5E5E5"> to make that request another</font>

338
00:15:19,720 --> 00:15:26,660
possible futuristic protection there's a

339
00:15:24,080 --> 00:15:29,390
new there's<font color="#E5E5E5"> a same site attribute that</font>

340
00:15:26,660 --> 00:15:33,650
<font color="#E5E5E5">is available for cookies it's not widely</font>

341
00:15:29,390 --> 00:15:35,330
supported<font color="#E5E5E5"> doesn't protect provide full</font>

342
00:15:33,650 --> 00:15:39,860
<font color="#CCCCCC">coverage yet I</font><font color="#E5E5E5"> think it provides</font><font color="#CCCCCC"> about</font>

343
00:15:35,330 --> 00:15:43,190
<font color="#CCCCCC">70% coverage</font><font color="#E5E5E5"> that somewhere down the</font>

344
00:15:39,860 --> 00:15:44,990
road<font color="#E5E5E5"> it may be the way to protect users</font>

345
00:15:43,190 --> 00:15:46,790
<font color="#E5E5E5">against Caesar attacks so may be</font>

346
00:15:44,990 --> 00:15:48,950
<font color="#E5E5E5">worthwhile to enable it now if you're</font>

347
00:15:46,790 --> 00:15:51,020
not current if you don't currently have

348
00:15:48,950 --> 00:15:52,880
<font color="#E5E5E5">it enabled but I want to rely on it as</font>

349
00:15:51,020 --> 00:15:57,100
<font color="#CCCCCC">your sole means receive serv protection</font>

350
00:15:52,880 --> 00:15:59,570
<font color="#E5E5E5">if we look at the route the example that</font>

351
00:15:57,100 --> 00:16:03,980
we've been<font color="#E5E5E5"> following</font><font color="#CCCCCC"> there buddy Bob</font>

352
00:15:59,570 --> 00:16:06,470
here<font color="#CCCCCC"> the session cookie that bob has</font><font color="#E5E5E5"> and</font>

353
00:16:03,980 --> 00:16:08,690
actually uses has the same site cookie

354
00:16:06,470 --> 00:16:11,330
or same site attribute applied<font color="#E5E5E5"> to his</font>

355
00:16:08,690 --> 00:16:14,000
cookies my version<font color="#CCCCCC"> of Firefox I'm using</font>

356
00:16:11,330 --> 00:16:15,590
doesn't recognize that attribute

357
00:16:14,000 --> 00:16:17,990
it's just ignored so it's<font color="#E5E5E5"> not providing</font>

358
00:16:15,590 --> 00:16:18,800
any form<font color="#E5E5E5"> of protection somewhere down</font>

359
00:16:17,990 --> 00:16:23,300
the road

360
00:16:18,800 --> 00:16:26,149
maybe that<font color="#E5E5E5"> will</font><font color="#CCCCCC"> be the way to</font><font color="#E5E5E5"> protect</font>

361
00:16:23,300 --> 00:16:29,149
against Caesar attacks<font color="#CCCCCC"> but</font><font color="#E5E5E5"> right now</font>

362
00:16:26,149 --> 00:16:33,170
<font color="#E5E5E5">including</font><font color="#CCCCCC"> something</font><font color="#E5E5E5"> like a token</font><font color="#CCCCCC"> in</font>

363
00:16:29,149 --> 00:16:35,600
requests is an easy surefire way to

364
00:16:33,170 --> 00:16:38,360
<font color="#E5E5E5">protect you and</font><font color="#CCCCCC"> see</font><font color="#E5E5E5"> Caesar attacks other</font>

365
00:16:35,600 --> 00:16:40,069
<font color="#E5E5E5">options</font><font color="#CCCCCC"> I mean that's a nice passive way</font>

366
00:16:38,360 --> 00:16:41,239
<font color="#E5E5E5">your users don't even realize that's</font>

367
00:16:40,069 --> 00:16:43,729
<font color="#E5E5E5">going on it's just happening in the</font>

368
00:16:41,239 --> 00:16:45,559
<font color="#CCCCCC">background</font><font color="#E5E5E5"> if it's a more sensitive</font>

369
00:16:43,730 --> 00:16:50,660
request<font color="#E5E5E5"> you can use something</font><font color="#CCCCCC"> that's a</font>

370
00:16:45,559 --> 00:16:53,389
little more<font color="#E5E5E5"> active such as like a</font>

371
00:16:50,660 --> 00:17:03,110
CAPTCHA or having the user<font color="#E5E5E5"> re-enter</font>

372
00:16:53,389 --> 00:17:04,730
their password yeah so those are really

373
00:17:03,110 --> 00:17:06,679
<font color="#E5E5E5">your two options for Caesar protections</font>

374
00:17:04,730 --> 00:17:08,720
<font color="#CCCCCC">they're a passive method such as</font>

375
00:17:06,679 --> 00:17:11,539
including<font color="#CCCCCC"> a/c sort Oken or maybe a</font>

376
00:17:08,720 --> 00:17:14,360
header with a unique token side of it or

377
00:17:11,539 --> 00:17:16,129
you can go with<font color="#E5E5E5"> active protection or you</font>

378
00:17:14,359 --> 00:17:17,629
having the user interact with the

379
00:17:16,130 --> 00:17:19,449
website<font color="#CCCCCC"> either</font><font color="#E5E5E5"> by answering their</font>

380
00:17:17,630 --> 00:17:22,730
password or by<font color="#E5E5E5"> filling out a CAPTCHA</font>

381
00:17:19,449 --> 00:17:24,679
something that would identify that<font color="#CCCCCC"> that</font>

382
00:17:22,730 --> 00:17:33,440
user is actually intending to perform

383
00:17:24,679 --> 00:17:35,090
<font color="#E5E5E5">the action that's taking place so those</font>

384
00:17:33,440 --> 00:17:37,760
methods of<font color="#CCCCCC"> C surf protection have been</font>

385
00:17:35,090 --> 00:17:39,980
known<font color="#E5E5E5"> for</font><font color="#CCCCCC"> years and years and years</font><font color="#E5E5E5"> all</font>

386
00:17:37,760 --> 00:17:43,010
the way back to earliest paper I found

387
00:17:39,980 --> 00:17:45,649
<font color="#CCCCCC">about C</font><font color="#E5E5E5"> surfer tax was back in 2003</font>

388
00:17:43,010 --> 00:17:48,529
<font color="#CCCCCC">they're referring</font><font color="#E5E5E5"> to</font><font color="#CCCCCC"> a session</font><font color="#E5E5E5"> writing</font>

389
00:17:45,649 --> 00:17:50,570
in<font color="#E5E5E5"> that paper but their recommended</font>

390
00:17:48,529 --> 00:17:54,740
practice was<font color="#CCCCCC"> to include a token to</font>

391
00:17:50,570 --> 00:17:56,178
<font color="#E5E5E5">protect requests so with modern</font>

392
00:17:54,740 --> 00:17:58,880
applications that we've moving<font color="#E5E5E5"> towards</font>

393
00:17:56,179 --> 00:18:02,450
single page applications which primarily

394
00:17:58,880 --> 00:18:05,600
use JSON<font color="#E5E5E5"> to pass around application</font>

395
00:18:02,450 --> 00:18:09,409
related data and so a lot<font color="#CCCCCC"> of developers</font>

396
00:18:05,600 --> 00:18:15,590
have had<font color="#E5E5E5"> a false sense of security</font>

397
00:18:09,409 --> 00:18:17,559
<font color="#E5E5E5">because using JSON provides false</font>

398
00:18:15,590 --> 00:18:22,270
protection<font color="#E5E5E5"> I guess you could call</font><font color="#CCCCCC"> it</font>

399
00:18:17,559 --> 00:18:22,270
I'll show you what I mean<font color="#CCCCCC"> here</font>

400
00:18:28,610 --> 00:18:36,979
so in this example we're going<font color="#E5E5E5"> to say</font>

401
00:18:31,920 --> 00:18:36,980
<font color="#CCCCCC">Bob developers decided to update to use</font>

402
00:18:37,670 --> 00:18:43,320
you know a newer<font color="#E5E5E5"> modern framework maybe</font>

403
00:18:40,200 --> 00:18:45,630
they're<font color="#E5E5E5"> using node</font><font color="#CCCCCC"> express or angular</font><font color="#E5E5E5"> or</font>

404
00:18:43,320 --> 00:18:47,639
something like<font color="#E5E5E5"> that JavaScript type</font>

405
00:18:45,630 --> 00:18:52,410
framework<font color="#E5E5E5"> that is primarily using</font><font color="#CCCCCC"> json</font>

406
00:18:47,640 --> 00:18:55,140
pass around<font color="#E5E5E5"> application related data so</font>

407
00:18:52,410 --> 00:18:57,630
when<font color="#CCCCCC"> Bob deal is to</font><font color="#E5E5E5"> log</font><font color="#CCCCCC"> into the</font>

408
00:18:55,140 --> 00:19:00,120
application or change<font color="#E5E5E5"> his password</font><font color="#CCCCCC"> we</font>

409
00:18:57,630 --> 00:19:03,630
see a nice little JSON object that's

410
00:19:00,120 --> 00:19:07,320
passed<font color="#CCCCCC"> instead of just a</font><font color="#E5E5E5"> typical name</font>

411
00:19:03,630 --> 00:19:09,210
equals it's<font color="#CCCCCC"> no</font><font color="#E5E5E5"> JSON and so when our</font>

412
00:19:07,320 --> 00:19:13,800
attacker tries to<font color="#CCCCCC"> mimic that</font><font color="#E5E5E5"> behavior</font>

413
00:19:09,210 --> 00:19:17,580
<font color="#CCCCCC">and send JSON his request is blocked</font><font color="#E5E5E5"> and</font>

414
00:19:13,800 --> 00:19:19,500
<font color="#E5E5E5">he gets an options request as a</font><font color="#CCCCCC"> his the</font>

415
00:19:17,580 --> 00:19:21,600
browser sends<font color="#CCCCCC"> an options and the request</font>

416
00:19:19,500 --> 00:19:26,790
<font color="#E5E5E5">just dies there so see Cerf didn't take</font>

417
00:19:21,600 --> 00:19:29,040
place so what<font color="#E5E5E5"> I've seen a lot</font><font color="#CCCCCC"> of</font>

418
00:19:26,790 --> 00:19:31,409
developers assume that since<font color="#E5E5E5"> that's</font>

419
00:19:29,040 --> 00:19:34,770
taking place<font color="#E5E5E5"> they're now safe from C</font>

420
00:19:31,410 --> 00:19:36,350
surf attacks and their mind<font color="#CCCCCC"> mitigated</font>

421
00:19:34,770 --> 00:19:39,000
it's not going<font color="#E5E5E5"> forward it's just</font>

422
00:19:36,350 --> 00:19:42,230
stopping at that<font color="#E5E5E5"> options request or not</font>

423
00:19:39,000 --> 00:19:46,380
<font color="#E5E5E5">allowing credentials to be sent so</font>

424
00:19:42,230 --> 00:19:46,890
they're safe no problems<font color="#E5E5E5"> you take a look</font>

425
00:19:46,380 --> 00:19:51,300
at it

426
00:19:46,890 --> 00:19:53,670
<font color="#E5E5E5">box</font><font color="#CCCCCC"> requests he sends the JSON not</font>

427
00:19:51,300 --> 00:19:56,419
<font color="#CCCCCC">evil.com</font><font color="#E5E5E5"> tries to</font><font color="#CCCCCC"> mimic that</font><font color="#E5E5E5"> behavior by</font>

428
00:19:53,670 --> 00:19:58,920
sending the JSON and<font color="#E5E5E5"> the credentials</font>

429
00:19:56,420 --> 00:20:02,250
which results in Bob's browser sending

430
00:19:58,920 --> 00:20:06,840
an options<font color="#E5E5E5"> it just dies there</font><font color="#CCCCCC"> it doesn't</font>

431
00:20:02,250 --> 00:20:09,420
continue any further<font color="#CCCCCC"> problem being that</font>

432
00:20:06,840 --> 00:20:10,679
<font color="#E5E5E5">options request is being triggered by</font><font color="#CCCCCC"> a</font>

433
00:20:09,420 --> 00:20:13,500
specification<font color="#E5E5E5"> that came out a few years</font>

434
00:20:10,680 --> 00:20:16,770
ago<font color="#E5E5E5"> notice that's known as cross-origin</font>

435
00:20:13,500 --> 00:20:18,840
resource sharing<font color="#E5E5E5"> or since we love</font>

436
00:20:16,770 --> 00:20:22,379
acronyms<font color="#E5E5E5"> it's commonly</font><font color="#CCCCCC"> referred to as</font>

437
00:20:18,840 --> 00:20:24,990
<font color="#CCCCCC">CORS CORS was the specification that</font>

438
00:20:22,380 --> 00:20:27,300
kind of spelled out how websites<font color="#E5E5E5"> should</font>

439
00:20:24,990 --> 00:20:32,400
share data amongst each<font color="#E5E5E5"> other or make</font>

440
00:20:27,300 --> 00:20:36,180
resources<font color="#E5E5E5"> available and cores said that</font>

441
00:20:32,400 --> 00:20:37,170
non simple requests require a<font color="#E5E5E5"> pre-flight</font>

442
00:20:36,180 --> 00:20:41,180
that's what

443
00:20:37,170 --> 00:20:44,400
options<font color="#CCCCCC"> request was it was a pre-flight</font>

444
00:20:41,180 --> 00:20:46,590
that it was<font color="#E5E5E5"> spelt out by the core</font>

445
00:20:44,400 --> 00:20:48,480
specification<font color="#E5E5E5"> essentially</font><font color="#CCCCCC"> bob's browser</font>

446
00:20:46,590 --> 00:20:51,929
was<font color="#CCCCCC"> checking</font><font color="#E5E5E5"> to see if the website</font>

447
00:20:48,480 --> 00:20:55,160
<font color="#E5E5E5">supported the request to send</font><font color="#CCCCCC"> a JSON</font>

448
00:20:51,930 --> 00:20:58,830
<font color="#CCCCCC">that was initiated by an external</font><font color="#E5E5E5"> site</font>

449
00:20:55,160 --> 00:21:00,270
so simple requests<font color="#CCCCCC"> those are a lot</font>

450
00:20:58,830 --> 00:21:03,030
<font color="#CCCCCC">easier</font><font color="#E5E5E5"> to define than trying to define</font>

451
00:21:00,270 --> 00:21:05,300
all the various ways<font color="#CCCCCC"> that</font><font color="#E5E5E5"> a request is</font>

452
00:21:03,030 --> 00:21:07,860
non simple<font color="#CCCCCC"> you can think of</font><font color="#E5E5E5"> it as just</font>

453
00:21:05,300 --> 00:21:10,139
<font color="#E5E5E5">the ordinary requests that have been</font>

454
00:21:07,860 --> 00:21:12,360
<font color="#E5E5E5">around on the internet for forever</font>

455
00:21:10,140 --> 00:21:14,850
<font color="#CCCCCC">that's</font><font color="#E5E5E5"> just a</font><font color="#CCCCCC"> git or a post with a</font>

456
00:21:12,360 --> 00:21:17,669
standard essentially the<font color="#E5E5E5"> standard HTML</font>

457
00:21:14,850 --> 00:21:19,230
form being submitted<font color="#E5E5E5"> to a page so if you</font>

458
00:21:17,670 --> 00:21:21,390
want to just get an image<font color="#E5E5E5"> from a site</font>

459
00:21:19,230 --> 00:21:24,690
<font color="#E5E5E5">it's a simple request</font><font color="#CCCCCC"> if you want to</font>

460
00:21:21,390 --> 00:21:25,760
post HTML form to a site<font color="#E5E5E5"> that's a simple</font>

461
00:21:24,690 --> 00:21:29,310
request

462
00:21:25,760 --> 00:21:32,000
so all those new requests<font color="#E5E5E5"> that are</font>

463
00:21:29,310 --> 00:21:36,210
sending JSON aren't considered simple

464
00:21:32,000 --> 00:21:39,090
HTML forms<font color="#E5E5E5"> don't support JSON and so</font>

465
00:21:36,210 --> 00:21:42,990
they trigger that<font color="#E5E5E5"> pre-flight</font><font color="#CCCCCC"> anytime</font>

466
00:21:39,090 --> 00:21:46,350
that you're<font color="#E5E5E5"> trying to pass JSON as the</font>

467
00:21:42,990 --> 00:21:48,420
body of<font color="#E5E5E5"> a request so that led to that</font>

468
00:21:46,350 --> 00:21:50,760
false sense of security<font color="#E5E5E5"> because</font><font color="#CCCCCC"> they're</font>

469
00:21:48,420 --> 00:21:53,310
using JSON<font color="#E5E5E5"> so it's going to trigger that</font>

470
00:21:50,760 --> 00:22:01,860
course<font color="#E5E5E5"> pre-flight</font><font color="#CCCCCC"> and</font><font color="#E5E5E5"> they're gonna be</font>

471
00:21:53,310 --> 00:22:05,159
protected<font color="#CCCCCC"> promise cores is not a</font>

472
00:22:01,860 --> 00:22:06,899
security specification any added

473
00:22:05,160 --> 00:22:10,920
security that may have come<font color="#CCCCCC"> about</font>

474
00:22:06,900 --> 00:22:12,510
because<font color="#E5E5E5"> of course was incidental</font><font color="#CCCCCC"> they</font>

475
00:22:10,920 --> 00:22:15,510
spell out<font color="#CCCCCC"> in the specification itself</font>

476
00:22:12,510 --> 00:22:17,670
<font color="#E5E5E5">the</font><font color="#CCCCCC"> requests still need to be protected</font>

477
00:22:15,510 --> 00:22:20,610
from<font color="#CCCCCC"> cease or for tax because it doesn't</font>

478
00:22:17,670 --> 00:22:23,610
provide<font color="#E5E5E5"> any protection from</font><font color="#CCCCCC"> attacks it's</font>

479
00:22:20,610 --> 00:22:29,310
just a specification for<font color="#E5E5E5"> exchanging</font><font color="#CCCCCC"> data</font>

480
00:22:23,610 --> 00:22:32,360
between sites<font color="#E5E5E5"> so if we take a look if we</font>

481
00:22:29,310 --> 00:22:32,360
jump<font color="#CCCCCC"> back to</font><font color="#E5E5E5"> our buddy Bob</font>

482
00:22:35,759 --> 00:22:42,879
and we're still<font color="#CCCCCC"> on the site</font><font color="#E5E5E5"> the site</font>

483
00:22:40,899 --> 00:22:45,189
<font color="#E5E5E5">that the developers upgraded to that</font>

484
00:22:42,879 --> 00:22:49,209
<font color="#CCCCCC">they're passing</font><font color="#E5E5E5"> JSON</font><font color="#CCCCCC"> as a body but our</font>

485
00:22:45,190 --> 00:22:50,889
attacker<font color="#CCCCCC"> down a little</font><font color="#E5E5E5"> bit or did a</font>

486
00:22:49,210 --> 00:22:51,279
little research and<font color="#E5E5E5"> wizened up a little</font>

487
00:22:50,889 --> 00:22:54,820
bit

488
00:22:51,279 --> 00:23:03,220
found a way to exploit the site as a

489
00:22:54,820 --> 00:23:07,178
whole<font color="#CCCCCC"> so he redid his site and got a new</font>

490
00:23:03,220 --> 00:23:09,159
cool pop<font color="#E5E5E5"> flying through space</font><font color="#CCCCCC"> we can see</font>

491
00:23:07,179 --> 00:23:10,690
that the tax still succeeded<font color="#E5E5E5"> and Bob's</font>

492
00:23:09,159 --> 00:23:13,389
<font color="#E5E5E5">name this time was changed to see surf</font>

493
00:23:10,690 --> 00:23:16,419
JSON<font color="#E5E5E5"> if we look at what happened in</font>

494
00:23:13,389 --> 00:23:20,019
Bob's browser is a lot more<font color="#CCCCCC"> involved and</font>

495
00:23:16,419 --> 00:23:22,590
that<font color="#CCCCCC"> Bob</font><font color="#E5E5E5"> visited not evil</font><font color="#CCCCCC"> calm I</font><font color="#E5E5E5"> kind of</font>

496
00:23:20,019 --> 00:23:26,889
sent him through a series<font color="#CCCCCC"> of requests</font>

497
00:23:22,590 --> 00:23:29,769
<font color="#E5E5E5">that ultimately ended with Bob once</font>

498
00:23:26,889 --> 00:23:32,379
again submitting data to change<font color="#E5E5E5"> his name</font>

499
00:23:29,769 --> 00:23:34,419
<font color="#CCCCCC">once again that's the essentially the</font>

500
00:23:32,379 --> 00:23:37,178
premise<font color="#E5E5E5"> of a</font><font color="#CCCCCC"> sea surfer</font><font color="#E5E5E5"> tech this is</font><font color="#CCCCCC"> Bob</font>

501
00:23:34,419 --> 00:23:39,869
performing these actions<font color="#CCCCCC"> it boils down</font>

502
00:23:37,179 --> 00:23:41,619
to<font color="#E5E5E5"> something I read</font><font color="#CCCCCC"> in a book long ago</font>

503
00:23:39,869 --> 00:23:43,809
<font color="#E5E5E5">somebody</font><font color="#CCCCCC"> made the statement that</font>

504
00:23:41,619 --> 00:23:46,029
computers are inherently<font color="#CCCCCC"> stupid they do</font>

505
00:23:43,809 --> 00:23:49,480
<font color="#E5E5E5">exactly what they're told</font><font color="#CCCCCC"> and</font><font color="#E5E5E5"> so in this</font>

506
00:23:46,029 --> 00:23:51,730
case<font color="#E5E5E5"> the</font><font color="#CCCCCC"> not evil comm is telling Bob's</font>

507
00:23:49,480 --> 00:23:53,679
browser<font color="#E5E5E5"> to perform this request and</font>

508
00:23:51,730 --> 00:23:55,210
Bob's browser is just performing the

509
00:23:53,679 --> 00:23:58,840
request<font color="#E5E5E5"> because that's how the internet</font>

510
00:23:55,210 --> 00:24:00,610
<font color="#CCCCCC">works define you know a request</font><font color="#E5E5E5"> that's</font>

511
00:23:58,840 --> 00:24:03,279
made whether it's a<font color="#CCCCCC"> get or a post and</font>

512
00:24:00,610 --> 00:24:05,678
the browser makes the request<font color="#E5E5E5"> issues the</font>

513
00:24:03,279 --> 00:24:07,330
<font color="#CCCCCC">request they don't they're not</font><font color="#E5E5E5"> smart</font>

514
00:24:05,679 --> 00:24:08,529
they don't think<font color="#CCCCCC"> about what they're</font>

515
00:24:07,330 --> 00:24:10,559
<font color="#CCCCCC">actually doing they're just do what they</font>

516
00:24:08,529 --> 00:24:13,269
told<font color="#E5E5E5"> what they're told</font>

517
00:24:10,559 --> 00:24:15,158
so if we step through<font color="#CCCCCC"> what</font><font color="#E5E5E5"> actually</font>

518
00:24:13,269 --> 00:24:17,320
happened in<font color="#E5E5E5"> that request and how the</font>

519
00:24:15,159 --> 00:24:21,070
<font color="#E5E5E5">cores pre-flight was just completely</font>

520
00:24:17,320 --> 00:24:22,779
ignored or bypassed<font color="#CCCCCC"> we can see</font><font color="#E5E5E5"> that's a</font>

521
00:24:21,070 --> 00:24:25,499
<font color="#E5E5E5">little bit more involved but you're</font>

522
00:24:22,779 --> 00:24:27,970
still vulnerable if you're using JSON as

523
00:24:25,499 --> 00:24:30,700
the body of<font color="#CCCCCC"> your request for</font><font color="#E5E5E5"> the body of</font>

524
00:24:27,970 --> 00:24:33,999
<font color="#CCCCCC">your request</font><font color="#E5E5E5"> so we look back</font><font color="#CCCCCC"> to just the</font>

525
00:24:30,700 --> 00:24:36,999
<font color="#CCCCCC">standard no bob setup that we've had all</font>

526
00:24:33,999 --> 00:24:37,570
blogs into safe calm safe calm sets

527
00:24:36,999 --> 00:24:40,929
cookie

528
00:24:37,570 --> 00:24:42,509
<font color="#CCCCCC">bob goes to not</font><font color="#E5E5E5"> evil calm now not evil</font>

529
00:24:40,929 --> 00:24:46,019
calm<font color="#E5E5E5"> there's a couple different</font><font color="#CCCCCC"> options</font>

530
00:24:42,509 --> 00:24:48,220
you<font color="#E5E5E5"> can either have</font><font color="#CCCCCC"> you know JavaScript</font>

531
00:24:46,019 --> 00:24:49,720
<font color="#E5E5E5">or a script set up</font>

532
00:24:48,220 --> 00:24:52,000
it creates an embedded object<font color="#CCCCCC"> an</font>

533
00:24:49,720 --> 00:24:53,710
embedded flash object<font color="#E5E5E5"> that goes onto the</font>

534
00:24:52,000 --> 00:24:56,950
page<font color="#E5E5E5"> or if you want to be a little bit</font>

535
00:24:53,710 --> 00:24:59,200
more malicious<font color="#E5E5E5"> or sneaky in base64</font>

536
00:24:56,950 --> 00:25:01,419
encode an embedded<font color="#CCCCCC"> object and stick</font><font color="#E5E5E5"> it</font>

537
00:24:59,200 --> 00:25:06,100
on<font color="#CCCCCC"> the page so when Bob</font><font color="#E5E5E5"> browse this to</font>

538
00:25:01,419 --> 00:25:10,330
that page<font color="#CCCCCC"> once</font><font color="#E5E5E5"> again or</font><font color="#CCCCCC"> Bob browsers to</font>

539
00:25:06,100 --> 00:25:13,178
that page<font color="#E5E5E5"> and that script is executed in</font>

540
00:25:10,330 --> 00:25:15,460
this<font color="#E5E5E5"> case Bob's browser now tries to</font>

541
00:25:13,179 --> 00:25:20,100
<font color="#CCCCCC">access the object that's</font><font color="#E5E5E5"> on not evil</font>

542
00:25:15,460 --> 00:25:22,299
<font color="#CCCCCC">comm</font><font color="#E5E5E5"> it's this flash object test SWF and</font>

543
00:25:20,100 --> 00:25:24,610
<font color="#E5E5E5">there's a couple parameters</font><font color="#CCCCCC"> they're</font>

544
00:25:22,299 --> 00:25:25,929
being sent to<font color="#E5E5E5"> this flash object such as</font>

545
00:25:24,610 --> 00:25:28,240
<font color="#E5E5E5">the end</font><font color="#CCCCCC"> point that</font><font color="#E5E5E5"> were</font><font color="#CCCCCC"> ultimately</font>

546
00:25:25,929 --> 00:25:30,519
targeting<font color="#E5E5E5"> what type of requests were</font>

547
00:25:28,240 --> 00:25:33,639
going for<font color="#E5E5E5"> this in this instance we're</font>

548
00:25:30,519 --> 00:25:39,220
doing a post<font color="#E5E5E5"> what the content type is or</font>

549
00:25:33,639 --> 00:25:41,559
exploiting a JSON request and then the

550
00:25:39,220 --> 00:25:44,889
actual<font color="#E5E5E5"> data and then we have this</font>

551
00:25:41,559 --> 00:25:46,600
redirect URL down here and both this

552
00:25:44,889 --> 00:25:50,889
flash object and this redirect object

553
00:25:46,600 --> 00:25:55,178
reside on<font color="#E5E5E5"> inaudible comm and so this</font>

554
00:25:50,889 --> 00:25:56,918
flash object then redirects Bob to<font color="#E5E5E5"> the</font>

555
00:25:55,179 --> 00:25:59,919
redirect or sends Bob<font color="#E5E5E5"> to the redirect</font>

556
00:25:56,919 --> 00:26:02,549
page and the redirect<font color="#E5E5E5"> page</font><font color="#CCCCCC"> takes a</font>

557
00:25:59,919 --> 00:26:04,840
<font color="#E5E5E5">little bit</font><font color="#CCCCCC"> information as the endpoint</font>

558
00:26:02,549 --> 00:26:08,379
<font color="#CCCCCC">but</font><font color="#E5E5E5"> if we look at the request that Bob's</font>

559
00:26:04,840 --> 00:26:09,759
barrels are actually sent the content

560
00:26:08,379 --> 00:26:11,949
type has been<font color="#E5E5E5"> changed to application</font>

561
00:26:09,759 --> 00:26:16,000
JSON because<font color="#E5E5E5"> flash has the capability of</font>

562
00:26:11,950 --> 00:26:20,080
crafting raw HTTP requests<font color="#CCCCCC"> and</font><font color="#E5E5E5"> the body</font>

563
00:26:16,000 --> 00:26:22,720
of<font color="#E5E5E5"> the request there's the actual body</font>

564
00:26:20,080 --> 00:26:25,418
that's going<font color="#E5E5E5"> to be sent this JSON object</font>

565
00:26:22,720 --> 00:26:28,029
with the name that's being changed<font color="#E5E5E5"> so</font>

566
00:26:25,419 --> 00:26:31,659
this redirect page is literally one line

567
00:26:28,029 --> 00:26:33,519
of PHP<font color="#E5E5E5"> all it does is it takes the</font>

568
00:26:31,659 --> 00:26:39,720
endpoint that's provided as a parameter

569
00:26:33,519 --> 00:26:39,720
<font color="#E5E5E5">and does a 307 redirect to</font><font color="#CCCCCC"> that endpoint</font>

570
00:26:41,279 --> 00:26:47,230
so we hit<font color="#CCCCCC"> the 307 redirect with</font><font color="#E5E5E5"> the new</font>

571
00:26:45,580 --> 00:26:52,629
location<font color="#CCCCCC"> that was being</font><font color="#E5E5E5"> that was</font>

572
00:26:47,230 --> 00:26:55,029
provided as<font color="#E5E5E5"> the endpoint there and then</font>

573
00:26:52,629 --> 00:26:58,689
we get the<font color="#E5E5E5"> ultimate or the final request</font>

574
00:26:55,029 --> 00:27:02,050
being sent which is a post<font color="#E5E5E5"> to safecom to</font>

575
00:26:58,690 --> 00:27:04,810
the user<font color="#E5E5E5"> endpoint with the actual</font><font color="#CCCCCC"> JSON</font>

576
00:27:02,050 --> 00:27:07,120
body<font color="#E5E5E5"> and the content type being JSON and</font>

577
00:27:04,810 --> 00:27:11,530
since it's coming<font color="#E5E5E5"> from Bob's browser</font><font color="#CCCCCC"> it</font>

578
00:27:07,120 --> 00:27:14,199
includes<font color="#CCCCCC"> Bob's session for safecom so it</font>

579
00:27:11,530 --> 00:27:16,330
was kind of<font color="#E5E5E5"> a hairy mess to make that</font>

580
00:27:14,200 --> 00:27:20,470
way or to<font color="#E5E5E5"> get around to do that</font><font color="#CCCCCC"> see</font><font color="#E5E5E5"> surf</font>

581
00:27:16,330 --> 00:27:22,540
attack<font color="#E5E5E5"> but it bypasses</font><font color="#CCCCCC"> that course</font>

582
00:27:20,470 --> 00:27:25,360
<font color="#E5E5E5">pre-flight makes it so that</font><font color="#CCCCCC"> the</font><font color="#E5E5E5"> request</font>

583
00:27:22,540 --> 00:27:26,680
will succeed and it's structured exactly

584
00:27:25,360 --> 00:27:36,010
how it's supposed<font color="#CCCCCC"> to</font><font color="#E5E5E5"> be to be accepted</font>

585
00:27:26,680 --> 00:27:39,370
by the vulnerable site so<font color="#E5E5E5"> main reason</font>

586
00:27:36,010 --> 00:27:41,260
<font color="#CCCCCC">flash was used is flash they came up</font>

587
00:27:39,370 --> 00:27:44,590
<font color="#CCCCCC">with what's referred to as</font><font color="#E5E5E5"> the flash</font>

588
00:27:41,260 --> 00:27:46,870
<font color="#CCCCCC">cross domain</font><font color="#E5E5E5"> policy and they put that</font>

589
00:27:44,590 --> 00:27:49,929
<font color="#CCCCCC">out several years ago and as before Wars</font>

590
00:27:46,870 --> 00:27:52,750
came about and<font color="#CCCCCC"> the</font><font color="#E5E5E5"> 307 was was used</font>

591
00:27:49,930 --> 00:27:55,030
<font color="#CCCCCC">because it maintains</font><font color="#E5E5E5"> the structure of</font>

592
00:27:52,750 --> 00:27:56,770
the<font color="#E5E5E5"> request that came in when it</font>

593
00:27:55,030 --> 00:27:59,560
redirects it<font color="#E5E5E5"> or if you use like</font><font color="#CCCCCC"> a 302</font>

594
00:27:56,770 --> 00:28:01,570
<font color="#E5E5E5">it's gonna do a get initially and so it</font>

595
00:27:59,560 --> 00:28:07,629
won't<font color="#CCCCCC"> do</font><font color="#E5E5E5"> posts I'll just change whatever</font>

596
00:28:01,570 --> 00:28:09,970
<font color="#E5E5E5">request came in</font><font color="#CCCCCC"> to be a</font><font color="#E5E5E5"> get and so once</font>

597
00:28:07,630 --> 00:28:12,160
again<font color="#E5E5E5"> active and passive protections do</font>

598
00:28:09,970 --> 00:28:13,210
work so we go back<font color="#E5E5E5"> and we look here</font>

599
00:28:12,160 --> 00:28:14,160
<font color="#E5E5E5">we'll take a look at that real quick</font><font color="#CCCCCC"> so</font>

600
00:28:13,210 --> 00:28:19,090
<font color="#E5E5E5">we're</font><font color="#CCCCCC"> running out of time</font>

601
00:28:14,160 --> 00:28:24,070
<font color="#E5E5E5">Bob's browsers</font><font color="#CCCCCC"> are the Bob's developers</font>

602
00:28:19,090 --> 00:28:29,199
once again<font color="#E5E5E5"> update their website</font><font color="#CCCCCC"> so Bob</font>

603
00:28:24,070 --> 00:28:31,330
logs back in goes back to not<font color="#CCCCCC"> evil</font><font color="#E5E5E5"> calm</font>

604
00:28:29,200 --> 00:28:33,190
there's a whole series the whole series

605
00:28:31,330 --> 00:28:35,620
of requests again and Bob's<font color="#CCCCCC"> username</font>

606
00:28:33,190 --> 00:28:42,360
<font color="#E5E5E5">doesn't get changed</font><font color="#CCCCCC"> the main difference</font>

607
00:28:35,620 --> 00:28:42,360
being that when<font color="#E5E5E5"> Bob issues a request</font>

608
00:28:42,450 --> 00:28:48,640
<font color="#E5E5E5">there's now a seesaw header that's being</font>

609
00:28:45,700 --> 00:28:50,760
sent<font color="#CCCCCC"> with all the</font><font color="#E5E5E5"> Bob's requests so</font>

610
00:28:48,640 --> 00:28:52,960
maybe the developers<font color="#E5E5E5"> decided to</font><font color="#CCCCCC"> maintain</font>

611
00:28:50,760 --> 00:28:54,040
the integrity of the object that<font color="#CCCCCC"> was</font>

612
00:28:52,960 --> 00:28:56,680
<font color="#E5E5E5">being passed around so they</font><font color="#CCCCCC"> didn't</font><font color="#E5E5E5"> want</font>

613
00:28:54,040 --> 00:29:00,280
<font color="#E5E5E5">to include it as a parameter and</font><font color="#CCCCCC"> the</font>

614
00:28:56,680 --> 00:29:02,620
object so they passed it as a header<font color="#E5E5E5"> but</font>

615
00:29:00,280 --> 00:29:04,870
<font color="#E5E5E5">once again</font><font color="#CCCCCC"> the</font><font color="#E5E5E5"> token protected the</font>

616
00:29:02,620 --> 00:29:06,639
request<font color="#E5E5E5"> because the attacker doesn't</font>

617
00:29:04,870 --> 00:29:08,889
know<font color="#E5E5E5"> what that token is they have no way</font>

618
00:29:06,640 --> 00:29:11,620
<font color="#E5E5E5">to retrieve</font><font color="#CCCCCC"> that token and include it in</font>

619
00:29:08,890 --> 00:29:15,410
their requests<font color="#E5E5E5"> and so their requests</font>

620
00:29:11,620 --> 00:29:17,120
fail<font color="#CCCCCC"> they send their requests</font>

621
00:29:15,410 --> 00:29:19,280
initiating<font color="#CCCCCC"> from the attacker there's no</font>

622
00:29:17,120 --> 00:29:23,810
token so they<font color="#CCCCCC"> fail</font><font color="#E5E5E5"> with an invalid</font>

623
00:29:19,280 --> 00:29:25,610
<font color="#CCCCCC">Caesar Cokin so some</font><font color="#E5E5E5"> final thoughts for</font>

624
00:29:23,810 --> 00:29:34,639
<font color="#CCCCCC">you guys I'll just put these up</font><font color="#E5E5E5"> really</font>

625
00:29:25,610 --> 00:29:36,320
quick here nope<font color="#E5E5E5"> too quick so</font><font color="#CCCCCC"> every state</font>

626
00:29:34,640 --> 00:29:38,900
changing<font color="#CCCCCC"> request on</font><font color="#E5E5E5"> the application</font>

627
00:29:36,320 --> 00:29:41,600
should be<font color="#E5E5E5"> protected</font><font color="#CCCCCC"> or should have some</font>

628
00:29:38,900 --> 00:29:44,690
form of<font color="#E5E5E5"> see certain whether it be active</font>

629
00:29:41,600 --> 00:29:46,669
for sensitive actions such as you<font color="#E5E5E5"> know</font>

630
00:29:44,690 --> 00:29:49,570
transferring money things of that nature

631
00:29:46,670 --> 00:29:52,930
<font color="#E5E5E5">or passive just including a token or a</font>

632
00:29:49,570 --> 00:29:55,340
header with every<font color="#E5E5E5"> request at a sent</font><font color="#CCCCCC"> a</font>

633
00:29:52,930 --> 00:29:57,950
lot<font color="#E5E5E5"> of frameworks</font><font color="#CCCCCC"> out there doing quote</font>

634
00:29:55,340 --> 00:30:01,480
<font color="#E5E5E5">includes some</font><font color="#CCCCCC"> form of C</font><font color="#E5E5E5"> surf</font><font color="#CCCCCC"> retention</font>

635
00:29:57,950 --> 00:30:04,610
but<font color="#E5E5E5"> all too often I</font><font color="#CCCCCC"> see developers that</font>

636
00:30:01,480 --> 00:30:07,010
just forget something as simple as<font color="#CCCCCC"> just</font>

637
00:30:04,610 --> 00:30:09,439
turning<font color="#E5E5E5"> C surf protection on in a config</font>

638
00:30:07,010 --> 00:30:10,640
file so they're not actually taking

639
00:30:09,440 --> 00:30:16,340
<font color="#E5E5E5">advantage of the protection that is</font>

640
00:30:10,640 --> 00:30:18,350
provided<font color="#E5E5E5"> so</font><font color="#CCCCCC"> leave you with</font><font color="#E5E5E5"> the links if</font>

641
00:30:16,340 --> 00:30:19,370
<font color="#CCCCCC">you want to learn more</font><font color="#E5E5E5"> and</font><font color="#CCCCCC"> go</font><font color="#E5E5E5"> look up</font>

642
00:30:18,350 --> 00:30:21,050
stuff there

643
00:30:19,370 --> 00:30:22,520
otherwise I'll be<font color="#E5E5E5"> hanging around</font><font color="#CCCCCC"> for</font><font color="#E5E5E5"> a</font>

644
00:30:21,050 --> 00:30:25,250
little<font color="#E5E5E5"> bit</font><font color="#CCCCCC"> you're welcome</font><font color="#E5E5E5"> to come ask me</font>

645
00:30:22,520 --> 00:30:29,260
questions and go<font color="#E5E5E5"> ahead and run off to</font>

646
00:30:25,250 --> 00:30:29,260
lunch thanks for coming

647
00:30:29,410 --> 00:30:32,539
[Applause]

648
00:30:35,149 --> 00:30:37,209
you

