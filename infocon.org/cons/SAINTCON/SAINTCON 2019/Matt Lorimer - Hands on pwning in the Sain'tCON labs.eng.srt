1
00:00:00,060 --> 00:00:11,849
maybe do you hear me oh my gosh so we

2
00:00:07,770 --> 00:00:13,950
won't welcome Matt Bomer up here he runs

3
00:00:11,849 --> 00:00:15,870
our hacker labs downstairs with a lot of

4
00:00:13,950 --> 00:00:17,400
the community events that we do we're

5
00:00:15,870 --> 00:00:20,279
very grateful to have him and super

6
00:00:17,400 --> 00:00:21,810
excited for him to be here and one of

7
00:00:20,279 --> 00:00:23,670
the great things about this is Matt of

8
00:00:21,810 --> 00:00:25,529
course made a joke saying I need lots of

9
00:00:23,670 --> 00:00:28,830
chocolate milk so he got two gallons of

10
00:00:25,529 --> 00:00:32,238
chocolate milk and I don't have a fridge

11
00:00:28,830 --> 00:00:36,149
for him so he's either got to drink it

12
00:00:32,238 --> 00:00:37,980
or let it go bad so there are a few cups

13
00:00:36,149 --> 00:00:39,840
up here and I did check with building

14
00:00:37,980 --> 00:00:44,250
management they're cool with us drinking

15
00:00:39,840 --> 00:00:48,239
chocolate milk so I'm not gonna know a

16
00:00:44,250 --> 00:00:49,680
few how close to you Matt he's getting

17
00:00:48,239 --> 00:00:50,968
this video up so I'm gonna turn it over

18
00:00:49,680 --> 00:00:52,890
to Matt here and we're already gonna

19
00:00:50,969 --> 00:00:59,129
give him a hand let's get warm wealthy

20
00:00:52,890 --> 00:01:01,109
for Matt so I'm serious when I say two

21
00:00:59,129 --> 00:01:03,839
hours two gallons of milk to have two

22
00:01:01,109 --> 00:01:05,189
gallon challenges I have this thing if

23
00:01:03,840 --> 00:01:08,790
there's chocolate milk I drink it

24
00:01:05,188 --> 00:01:10,470
whether I should or shouldn't so we

25
00:01:08,790 --> 00:01:12,390
might get 45 minutes in and the fill of

26
00:01:10,470 --> 00:01:13,950
the first gallon kicks in and then then

27
00:01:12,390 --> 00:01:24,659
we have a brief intermission while I

28
00:01:13,950 --> 00:01:26,909
take care of it if you guys have not yet

29
00:01:24,659 --> 00:01:28,320
done it you should all go to the hackers

30
00:01:26,909 --> 00:01:30,960
challenge board the hackers challenged

31
00:01:28,320 --> 00:01:32,610
org site and create an account is there

32
00:01:30,960 --> 00:01:37,860
anybody that does not have an account

33
00:01:32,610 --> 00:01:42,689
there yet okay let me I'm gonna mirror

34
00:01:37,860 --> 00:01:44,549
my displays and hope this works

35
00:01:42,689 --> 00:01:48,479
did you guys get your video splitter

36
00:01:44,549 --> 00:01:52,140
we're happier when I was in here at ten

37
00:01:48,479 --> 00:01:53,429
the video didn't do everything and okay

38
00:01:52,140 --> 00:02:01,790
and you're recording and we're

39
00:01:53,430 --> 00:02:01,790
broadcasting and alright alright I

40
00:02:01,820 --> 00:02:07,048
really need to close some things because

41
00:02:04,380 --> 00:02:09,500
too many people owe me too many return

42
00:02:07,049 --> 00:02:09,500
favors

43
00:02:11,510 --> 00:02:23,700
I'm killing anything that might do a

44
00:02:15,120 --> 00:02:27,030
pop-up okay let's come here I'm going to

45
00:02:23,700 --> 00:02:29,700
do a quick introduction I'll run through

46
00:02:27,030 --> 00:02:31,770
and this really is going to be by

47
00:02:29,700 --> 00:02:33,510
workshop this is literally a workshop we

48
00:02:31,770 --> 00:02:34,860
are going to work together we're going

49
00:02:33,510 --> 00:02:37,410
to have fun and we're going to do things

50
00:02:34,860 --> 00:02:39,180
with each other so that means I help you

51
00:02:37,410 --> 00:02:44,370
you help me and everyone comes out

52
00:02:39,180 --> 00:02:49,050
learning learning something let me start

53
00:02:44,370 --> 00:02:50,820
my slides really quick well you guys are

54
00:02:49,050 --> 00:02:52,380
going through and getting those again if

55
00:02:50,820 --> 00:02:53,989
you're late you need to get an account

56
00:02:52,380 --> 00:02:59,220
on the hackers challenge board game

57
00:02:53,989 --> 00:03:01,140
because the labs do have they have their

58
00:02:59,220 --> 00:03:04,769
own leader board on hackers challenge

59
00:03:01,140 --> 00:03:06,329
and turns out we have hundreds of

60
00:03:04,769 --> 00:03:08,459
dollars worth of prizes and only like

61
00:03:06,330 --> 00:03:09,930
three people competing so your chances

62
00:03:08,459 --> 00:03:14,310
of getting these hundreds of dollars

63
00:03:09,930 --> 00:03:15,780
worth of prizes is very high let's go

64
00:03:14,310 --> 00:03:17,670
ahead and get started this is the hands

65
00:03:15,780 --> 00:03:20,310
on putting the sink on labs if make sure

66
00:03:17,670 --> 00:03:21,809
you're in the right spot a little

67
00:03:20,310 --> 00:03:24,510
background a little bit about me and who

68
00:03:21,810 --> 00:03:26,370
I am I'm zodiac I been on the committee

69
00:03:24,510 --> 00:03:28,798
for I don't actually remember how many

70
00:03:26,370 --> 00:03:32,850
years somewhere between four and six or

71
00:03:28,799 --> 00:03:36,720
seven I like Chris said I do the

72
00:03:32,850 --> 00:03:39,510
community stuff downstairs I've been a

73
00:03:36,720 --> 00:03:41,880
while since I've talked or presented but

74
00:03:39,510 --> 00:03:43,679
I'm here I put a got my got a bike up

75
00:03:41,880 --> 00:03:45,690
here because I would way rather be up in

76
00:03:43,680 --> 00:03:49,170
the mountains riding a bike instead of

77
00:03:45,690 --> 00:03:50,400
being inside being responsible I guess

78
00:03:49,170 --> 00:03:53,100
I'm kind of settling for being inside

79
00:03:50,400 --> 00:03:54,720
and somewhat responsible I like to ride

80
00:03:53,100 --> 00:03:56,459
bike because I'm a sucker for hot

81
00:03:54,720 --> 00:03:59,940
chocolate and donuts and chocolate milk

82
00:03:56,459 --> 00:04:02,400
I put on this slide I had to clarify we

83
00:03:59,940 --> 00:04:06,329
are in Provo but true ice-cream does not

84
00:04:02,400 --> 00:04:08,070
come from Provo they are secondary you

85
00:04:06,329 --> 00:04:09,989
want real ice-cream go to Logan and get

86
00:04:08,070 --> 00:04:16,260
Aggie ice cream and I highly recommend

87
00:04:09,989 --> 00:04:17,820
the Aggie blue mint as my I have facts

88
00:04:16,260 --> 00:04:20,010
to back this up this isn't just a

89
00:04:17,820 --> 00:04:21,478
personal preference if you look at the

90
00:04:20,010 --> 00:04:24,420
programs the dairy but the Dairy

91
00:04:21,478 --> 00:04:26,490
Sciences programs from USU dairy sign

92
00:04:24,420 --> 00:04:27,960
this program we had a so far who went on

93
00:04:26,490 --> 00:04:29,700
to form farce ice cream

94
00:04:27,960 --> 00:04:31,590
and I forgot his first name but the snow

95
00:04:29,700 --> 00:04:34,320
grove guy he also was a USU Dairy

96
00:04:31,590 --> 00:04:36,570
Sciences product I have not heard of any

97
00:04:34,320 --> 00:04:43,320
BYU Dairy Sciences product so I went on

98
00:04:36,570 --> 00:04:46,080
to do anything with their lives so there

99
00:04:43,320 --> 00:04:49,680
there's facts to back my my preferences

100
00:04:46,080 --> 00:04:52,200
here I do some red teaming here that's

101
00:04:49,680 --> 00:04:53,700
the next bit Here I am my job that's one

102
00:04:52,200 --> 00:04:57,539
of my responsibilities is to help with a

103
00:04:53,700 --> 00:04:59,370
statewide higher ed red team thing to go

104
00:04:57,540 --> 00:05:01,110
around to do security audits and pin

105
00:04:59,370 --> 00:05:03,660
tests about their various institutions I

106
00:05:01,110 --> 00:05:05,340
also do security operations and Incident

107
00:05:03,660 --> 00:05:08,700
Response at Utah State University that's

108
00:05:05,340 --> 00:05:10,380
why I've got the USU bit there st. kind

109
00:05:08,700 --> 00:05:13,920
of been on load on the committee forever

110
00:05:10,380 --> 00:05:16,320
last year Pope and I got talking at

111
00:05:13,920 --> 00:05:18,150
b-sides and he came up with the idea and

112
00:05:16,320 --> 00:05:21,570
we decided to kick off and go at DC for

113
00:05:18,150 --> 00:05:22,799
35 if you're in Logan I highly recommend

114
00:05:21,570 --> 00:05:25,290
you come first Thursday of every month

115
00:05:22,800 --> 00:05:27,090
if you're in Southern Utah and you still

116
00:05:25,290 --> 00:05:28,410
have a 435 zip code you probably should

117
00:05:27,090 --> 00:05:30,770
act it faster because we got it

118
00:05:28,410 --> 00:05:33,360
registered with Def Con and it's ours

119
00:05:30,770 --> 00:05:37,140
but we will allow subchapters where ever

120
00:05:33,360 --> 00:05:39,480
you want to have them so anyway that's

121
00:05:37,140 --> 00:05:42,780
me that's what we're doing you should

122
00:05:39,480 --> 00:05:44,430
all have credentials from the hackers

123
00:05:42,780 --> 00:05:45,570
challenge boards anyone still trying to

124
00:05:44,430 --> 00:05:49,260
get into hackers challenge get

125
00:05:45,570 --> 00:05:56,880
credentials do you need help or do any

126
00:05:49,260 --> 00:05:58,800
time so would make sure that you do use

127
00:05:56,880 --> 00:06:01,250
the email address you registered for the

128
00:05:58,800 --> 00:06:01,250
con with

129
00:06:15,260 --> 00:06:21,690
might Elden am I gonna get the big board

130
00:06:17,760 --> 00:06:25,530
instead of the regular board make sure

131
00:06:21,690 --> 00:06:28,460
you go to WWE challenge org and not just

132
00:06:25,530 --> 00:06:30,869
hikers challenge you get cert errors

133
00:06:28,460 --> 00:06:36,090
there are no subject alt names on that

134
00:06:30,870 --> 00:06:37,530
circa parently if you go up here to game

135
00:06:36,090 --> 00:06:41,159
boards you can see the sink on Labs

136
00:06:37,530 --> 00:06:48,539
board and this is what we're gonna work

137
00:06:41,160 --> 00:06:50,820
on a little bit here yeah so inside of

138
00:06:48,539 --> 00:06:56,039
the game board we are going to work on

139
00:06:50,820 --> 00:06:57,479
this Linux two column and we're

140
00:06:56,039 --> 00:06:58,949
literally going to walk together

141
00:06:57,479 --> 00:07:00,120
together we're gonna sit down we're

142
00:06:58,949 --> 00:07:01,800
gonna talk about serious about this

143
00:07:00,120 --> 00:07:04,620
charcoal milk if you want some it's up

144
00:07:01,800 --> 00:07:07,699
here I am not really doing the two

145
00:07:04,620 --> 00:07:12,750
gallon challenge as fun as that sounds

146
00:07:07,699 --> 00:07:17,010
I'm out I will take some but someone

147
00:07:12,750 --> 00:07:21,330
else needs to take some to you so we're

148
00:07:17,010 --> 00:07:22,950
gonna really go through and just work on

149
00:07:21,330 --> 00:07:24,719
these hackers challenge together so the

150
00:07:22,950 --> 00:07:28,010
first step we need to do is we need to

151
00:07:24,720 --> 00:07:31,020
come in here and request credentials

152
00:07:28,010 --> 00:07:38,430
Alton did you add the 1 through 100 into

153
00:07:31,020 --> 00:07:41,870
the pool can I use one you know don't

154
00:07:38,430 --> 00:07:45,180
add one that sort of thing

155
00:07:41,870 --> 00:07:46,889
alright I am going to cheat and use the

156
00:07:45,180 --> 00:07:50,820
backdoor in but I will also show you

157
00:07:46,889 --> 00:07:55,289
guys how to get in the right way if you

158
00:07:50,820 --> 00:07:56,729
go to bit dot lie / hack slab or bitly

159
00:07:55,289 --> 00:08:04,050
or however that you say that I don't

160
00:07:56,729 --> 00:08:06,510
know bitly / hack slab it will direct

161
00:08:04,050 --> 00:08:09,690
you to an Apache guacamole login page to

162
00:08:06,510 --> 00:08:12,330
which you should have credentials does

163
00:08:09,690 --> 00:08:13,979
everyone have credentials from the game

164
00:08:12,330 --> 00:08:17,870
board did you see that here on the game

165
00:08:13,979 --> 00:08:17,870
board the request credentials

166
00:08:25,100 --> 00:08:36,260
oh sorry I'm glad someone's paying

167
00:08:35,690 --> 00:08:38,810
attention

168
00:08:36,260 --> 00:08:50,810
I usually go in the wrong way because

169
00:08:38,809 --> 00:08:56,209
it's easier for me shouldn't no just put

170
00:08:50,810 --> 00:08:57,680
Zev lag for your Twitter handle I wonder

171
00:08:56,210 --> 00:08:59,660
if he's doing any filtering on this

172
00:08:57,680 --> 00:09:01,430
that'd be an interesting you know that

173
00:08:59,660 --> 00:09:03,170
idea did not come from me I've no idea

174
00:09:01,430 --> 00:09:04,010
where that came from don't don't do it

175
00:09:03,170 --> 00:09:08,900
that's a bad idea

176
00:09:04,010 --> 00:09:15,020
he shouldn't know so once you get your

177
00:09:08,900 --> 00:09:17,329
request credentials we have fewer than

178
00:09:15,020 --> 00:09:17,750
75 people in here right kind of looks

179
00:09:17,330 --> 00:09:21,790
that way

180
00:09:17,750 --> 00:09:21,790
good all right

181
00:09:30,230 --> 00:09:35,230
and then we're going to Linux - for 100

182
00:09:53,390 --> 00:09:58,699
and when you get in you should get into

183
00:09:56,390 --> 00:10:01,130
a when you come over this Apache

184
00:09:58,700 --> 00:10:03,589
guacamole you log in with a username and

185
00:10:01,130 --> 00:10:05,450
password lab zero zero whatever it's an

186
00:10:03,589 --> 00:10:28,370
email I should check does that email

187
00:10:05,450 --> 00:10:35,240
those but creds to you passwords in the

188
00:10:28,370 --> 00:10:41,570
element about what you say oh that's a

189
00:10:35,240 --> 00:10:44,390
feature this is your version or 0.5 of

190
00:10:41,570 --> 00:10:45,529
your challenge for that if you can

191
00:10:44,390 --> 00:10:52,040
figure out how to get your credentials

192
00:10:45,529 --> 00:10:53,300
then you're good to go if you can figure

193
00:10:52,040 --> 00:10:55,689
out how to get those credentials and

194
00:10:53,300 --> 00:10:55,689
you're good to go

195
00:11:09,489 --> 00:11:14,079
don't do that because that could be bad

196
00:11:21,220 --> 00:11:33,289
bit dot lie / hacks lab are you on the

197
00:11:31,029 --> 00:11:36,739
so you go over here to game boards

198
00:11:33,289 --> 00:11:39,939
Sinkin labs and then this request

199
00:11:36,739 --> 00:11:39,939
credentials is that where you are

200
00:11:57,390 --> 00:12:05,730
did that finish provisioning its have a

201
00:11:59,160 --> 00:12:09,740
new password 401 okay I'm going to

202
00:12:05,730 --> 00:12:09,740
unshare my screen with you for a minute

203
00:12:17,820 --> 00:12:27,330
give me two seconds to get some

204
00:12:20,620 --> 00:12:27,330
information keep this

205
00:12:38,470 --> 00:12:41,470
thirty-eight

206
00:12:55,580 --> 00:12:59,620
sorry for the technical difficulties

207
00:12:57,350 --> 00:12:59,620
here

208
00:13:18,000 --> 00:13:40,210
and yeah krome it works in Firefox

209
00:13:20,560 --> 00:13:43,650
that's doing weird things okay all right

210
00:13:40,210 --> 00:13:43,650
now let me share this again

211
00:13:53,010 --> 00:14:03,960
and we're back

212
00:13:57,779 --> 00:14:06,250
no wait for it okay then we're back

213
00:14:03,960 --> 00:14:08,350
alright once you log in is everyone at

214
00:14:06,250 --> 00:14:09,730
this page with guacamole you've made it

215
00:14:08,350 --> 00:14:11,800
this far let me let me

216
00:14:09,730 --> 00:14:24,700
let's inverse who has not made it this

217
00:14:11,800 --> 00:14:34,300
far do you need time or help I'm gonna

218
00:14:24,700 --> 00:14:43,990
type it in here you guys I'll read that

219
00:14:34,300 --> 00:14:47,699
I can't make it any bigger so so who

220
00:14:43,990 --> 00:14:47,700
needs help getting to that point in

221
00:14:52,730 --> 00:14:55,370
all right give everyone's your second

222
00:14:54,080 --> 00:14:58,070
longer if you're not there raise your

223
00:14:55,370 --> 00:15:01,820
head real quick hey we'll give everyone

224
00:14:58,070 --> 00:15:03,620
just a second longer if your neighbor

225
00:15:01,820 --> 00:15:07,120
needs help and you know how to solve it

226
00:15:03,620 --> 00:15:07,120
reach over and help them a little bit

227
00:15:28,030 --> 00:15:38,290
once we're in here go ahead and launch

228
00:15:30,370 --> 00:15:41,050
the VNC session all right this is the

229
00:15:38,290 --> 00:15:43,599
st. Conn Labs you have a cally box

230
00:15:41,050 --> 00:15:46,109
everyone has their very own cally box

231
00:15:43,600 --> 00:15:48,010
and everyone has their own their own

232
00:15:46,110 --> 00:15:50,380
segmented and private network that

233
00:15:48,010 --> 00:15:52,090
you're going to attack on that means you

234
00:15:50,380 --> 00:15:53,770
have your own target machines you can't

235
00:15:52,090 --> 00:15:55,270
break your neighbors target machine you

236
00:15:53,770 --> 00:15:59,770
can't cause any problems to them you

237
00:15:55,270 --> 00:16:01,210
have your own island right here and so

238
00:15:59,770 --> 00:16:02,680
whatever island you're in

239
00:16:01,210 --> 00:16:06,040
that's your lab zero zero one or

240
00:16:02,680 --> 00:16:12,459
whatever or lab you're in you'll look on

241
00:16:06,040 --> 00:16:16,360
this box and you'll see that there are

242
00:16:12,460 --> 00:16:17,980
two interfaces zero and Heath 1/8 zero

243
00:16:16,360 --> 00:16:19,390
is the management interface please

244
00:16:17,980 --> 00:16:23,020
please please don't do anything stupid

245
00:16:19,390 --> 00:16:25,840
on there like serious don't do anything

246
00:16:23,020 --> 00:16:27,670
on that interface if we find out you're

247
00:16:25,840 --> 00:16:32,080
doing it you might get kicked banned

248
00:16:27,670 --> 00:16:34,780
forever eath 1 is your interface for

249
00:16:32,080 --> 00:16:36,880
attacking do you have a static address

250
00:16:34,780 --> 00:16:38,949
and other device other things will come

251
00:16:36,880 --> 00:16:40,689
and go you'll notice from your little

252
00:16:38,950 --> 00:16:43,300
readme that pops up right there you can

253
00:16:40,690 --> 00:16:46,360
run this lab command if you do lab - I

254
00:16:43,300 --> 00:16:50,109
for info it tells me that right now I

255
00:16:46,360 --> 00:16:52,870
have the lab Linux - provisioned there

256
00:16:50,110 --> 00:16:55,240
are 4 labs available if I choose a

257
00:16:52,870 --> 00:16:57,520
different lab besides Linux with - it

258
00:16:55,240 --> 00:17:02,080
will destroy Linux - and provision a new

259
00:16:57,520 --> 00:17:05,920
one if I come in here I do a lab - s-f

260
00:17:02,080 --> 00:17:08,500
Linux - it will blow away the current

261
00:17:05,920 --> 00:17:10,300
Linux - that I've got and provision a

262
00:17:08,500 --> 00:17:13,740
brand new one so if I've done something

263
00:17:10,300 --> 00:17:16,359
to mess up my target if I've broken the

264
00:17:13,740 --> 00:17:19,120
system that I'm attacking in some way

265
00:17:16,359 --> 00:17:24,040
shape or form this will blow away the

266
00:17:19,119 --> 00:17:25,689
broken bits and bring in fixed bits and

267
00:17:24,040 --> 00:17:27,069
you can switch between them you'll

268
00:17:25,690 --> 00:17:31,180
notice that everything changes when we

269
00:17:27,069 --> 00:17:34,629
do it so everyone here go ahead and do

270
00:17:31,180 --> 00:17:36,880
just lab or lab space Linux - and get

271
00:17:34,630 --> 00:17:38,380
that Linux - lab provision for your

272
00:17:36,880 --> 00:17:40,669
environment

273
00:17:38,380 --> 00:17:42,590
by the way if you're curious about how

274
00:17:40,669 --> 00:17:45,200
all this works and what makes this magic

275
00:17:42,590 --> 00:17:46,658
juju how everyone gets their own island

276
00:17:45,200 --> 00:17:49,309
and how you can provision things

277
00:17:46,659 --> 00:17:51,679
tomorrow I'm doing a talk about what

278
00:17:49,309 --> 00:17:53,658
drives these labs to make them function

279
00:17:51,679 --> 00:17:56,210
like this so that you can get this

280
00:17:53,659 --> 00:17:58,280
functionality out there we're not really

281
00:17:56,210 --> 00:17:59,419
going to talk much about that well we're

282
00:17:58,280 --> 00:18:03,559
not going talk about that at all today

283
00:17:59,419 --> 00:18:05,419
so it'll take please allow one to two

284
00:18:03,559 --> 00:18:07,520
minutes for all the VMS to boot it has

285
00:18:05,419 --> 00:18:09,919
now provision to VMs empowered them on

286
00:18:07,520 --> 00:18:12,770
their booting up right now and it

287
00:18:09,919 --> 00:18:14,960
usually takes about 20 seconds but we'll

288
00:18:12,770 --> 00:18:16,908
give it a minute or two is everybody

289
00:18:14,960 --> 00:18:18,530
provisioning late raise your hand if you

290
00:18:16,909 --> 00:18:23,409
have not yet started provisioning Linux

291
00:18:18,530 --> 00:18:30,889
- are you close do you need more help

292
00:18:23,409 --> 00:18:33,860
raise your hand if you want help I can

293
00:18:30,890 --> 00:18:39,620
go around to help - it's just a mic

294
00:18:33,860 --> 00:18:42,610
range work good or we the whole room so

295
00:18:39,620 --> 00:18:42,610
who needs help

296
00:19:18,050 --> 00:19:20,110
you

297
00:19:57,180 --> 00:20:03,310
so I had somebody asking how do we copy

298
00:20:00,340 --> 00:20:04,929
if you hit ctrl alt shift you'll see a

299
00:20:03,310 --> 00:20:07,960
menu pop up on the left side of your

300
00:20:04,930 --> 00:20:14,110
screen and that has a shared clipboard

301
00:20:07,960 --> 00:20:16,120
window for copying and pasting all right

302
00:20:14,110 --> 00:20:19,379
I think most people are in are close so

303
00:20:16,120 --> 00:20:19,379
we're gonna go for it a little bit

304
00:20:27,480 --> 00:20:34,600
here's all know how many characters on

305
00:20:29,590 --> 00:20:35,830
my password now think so we're just

306
00:20:34,600 --> 00:20:39,429
gonna go through this and walk through

307
00:20:35,830 --> 00:20:40,810
it like any old pin test so any pin test

308
00:20:39,430 --> 00:20:42,400
you get there the first thing you do you

309
00:20:40,810 --> 00:20:43,929
need to work on recon you need to figure

310
00:20:42,400 --> 00:20:47,050
out what's out there what can you attack

311
00:20:43,930 --> 00:20:49,390
what can you get data from right so you

312
00:20:47,050 --> 00:20:55,300
know what interface you're on so let's

313
00:20:49,390 --> 00:20:58,450
look at the interface I see that my IP

314
00:20:55,300 --> 00:21:01,990
address is 10.40 dot 0 dot 254 and it's

315
00:20:58,450 --> 00:21:03,040
a slash 24 network so the first thing

316
00:21:01,990 --> 00:21:05,380
you're gonna do to figure out what's out

317
00:21:03,040 --> 00:21:07,030
there is you're going to run a scan and

318
00:21:05,380 --> 00:21:08,470
I'm gonna sneeze oh hold on just a

319
00:21:07,030 --> 00:21:11,340
second I don't want to sneeze into the

320
00:21:08,470 --> 00:21:11,340
mic because I'll be ugly

321
00:21:13,890 --> 00:21:22,390
all right maybe we're good so we're

322
00:21:20,710 --> 00:21:27,040
going to just do an in map scan of this

323
00:21:22,390 --> 00:21:28,750
whole network when I do in in map for

324
00:21:27,040 --> 00:21:31,870
the first time if I want to go quick and

325
00:21:28,750 --> 00:21:33,640
lazy I love this top port option I'll

326
00:21:31,870 --> 00:21:37,149
just go through and say show me what are

327
00:21:33,640 --> 00:21:45,130
the top 100 ports and then put in the

328
00:21:37,150 --> 00:21:48,660
address range so what I'm doing here

329
00:21:45,130 --> 00:21:48,660
I'm actually an add one more option

330
00:21:51,420 --> 00:21:54,030
so if you guys are familiar with in map

331
00:21:52,710 --> 00:21:56,220
this should look pretty familiar to you

332
00:21:54,030 --> 00:21:58,710
what I'm doing is I'm saying don't do a

333
00:21:56,220 --> 00:22:00,300
pink sweet don't don't verify with ICMP

334
00:21:58,710 --> 00:22:03,540
if the host is up or not that's what the

335
00:22:00,300 --> 00:22:06,270
capital P 0 means the top ports 100

336
00:22:03,540 --> 00:22:09,810
means scan for the 100 most commonly

337
00:22:06,270 --> 00:22:13,800
used ports and then I give it an address

338
00:22:09,810 --> 00:22:16,310
range and it's going to scan 256

339
00:22:13,800 --> 00:22:18,180
addresses and come back really quick and

340
00:22:16,310 --> 00:22:21,450
so now we get a look at what's

341
00:22:18,180 --> 00:22:24,390
interesting in this list of ports so I

342
00:22:21,450 --> 00:22:26,460
see SSH is there SSH is mildly

343
00:22:24,390 --> 00:22:29,970
interesting but I'm not it takes a

344
00:22:26,460 --> 00:22:32,160
little bit of work I see SSH is here I

345
00:22:29,970 --> 00:22:33,480
see RPC is here I see Postgres and so

346
00:22:32,160 --> 00:22:34,710
there's several places where we can

347
00:22:33,480 --> 00:22:36,360
start hitting this we could start

348
00:22:34,710 --> 00:22:39,860
spraying credentials we could start

349
00:22:36,360 --> 00:22:42,300
trying some other things but I see NFS I

350
00:22:39,860 --> 00:22:43,590
happen to know the guy who made these do

351
00:22:42,300 --> 00:22:53,010
you if you need to still need help raise

352
00:22:43,590 --> 00:22:54,360
your hand so I know the guy that made

353
00:22:53,010 --> 00:22:56,520
these so let's go ahead and start with

354
00:22:54,360 --> 00:22:58,889
this the other thing I want to show you

355
00:22:56,520 --> 00:23:02,340
guys really quick these this game board

356
00:22:58,890 --> 00:23:05,670
is it gives you direction it helps you

357
00:23:02,340 --> 00:23:07,649
get going so right here they are mostly

358
00:23:05,670 --> 00:23:09,450
in order so you start we're in the Linux

359
00:23:07,650 --> 00:23:11,370
to lab if you want to be in the Linux

360
00:23:09,450 --> 00:23:12,690
one harder the credit or a container lab

361
00:23:11,370 --> 00:23:17,909
or recon or wherever you're going to be

362
00:23:12,690 --> 00:23:19,880
go to Linux one lab 100 let's share see

363
00:23:17,910 --> 00:23:24,240
if anyone's willing to share with you

364
00:23:19,880 --> 00:23:28,380
well I happen to know that NFS is a

365
00:23:24,240 --> 00:23:30,330
great way great way to share files so

366
00:23:28,380 --> 00:23:32,940
the the hackers challenge board is

367
00:23:30,330 --> 00:23:36,000
completely full of hints and suggestions

368
00:23:32,940 --> 00:23:41,520
and light encouragement for you to get

369
00:23:36,000 --> 00:23:44,700
going in these directions so let's come

370
00:23:41,520 --> 00:23:54,320
over here and look at what this what is

371
00:23:44,700 --> 00:23:54,320
shared with NFS I need fewer tabs

372
00:23:58,600 --> 00:24:02,959
so before we can mount it we need to

373
00:24:00,860 --> 00:24:05,990
know what shares are presented from them

374
00:24:02,960 --> 00:24:08,930
and I always forget the command so again

375
00:24:05,990 --> 00:24:10,430
Google is your friend it's been like at

376
00:24:08,930 --> 00:24:14,360
least two hours since I walked through

377
00:24:10,430 --> 00:24:17,270
these on my own so I forgot 90% of it

378
00:24:14,360 --> 00:24:18,740
I apologized that most a lot of this was

379
00:24:17,270 --> 00:24:19,879
done early in the morning because I was

380
00:24:18,740 --> 00:24:22,210
trying to get it done ready for

381
00:24:19,880 --> 00:24:22,210
everybody

382
00:24:36,240 --> 00:24:42,330
show mount is what I'm looking for so

383
00:24:39,240 --> 00:24:45,779
let's come in here and run the show

384
00:24:42,330 --> 00:24:47,340
mount command and this is exactly how I

385
00:24:45,779 --> 00:24:49,320
expect everyone to solve these

386
00:24:47,340 --> 00:24:50,820
challenges I don't expect anyone to know

387
00:24:49,320 --> 00:24:52,559
all the answers that's why Google's

388
00:24:50,820 --> 00:24:55,080
there like we're literally going to walk

389
00:24:52,559 --> 00:24:58,279
through these together so let's do show

390
00:24:55,080 --> 00:25:06,210
mount and see what we can find on this

391
00:24:58,279 --> 00:25:10,519
so that's here on 10.40 0.5 looks like

392
00:25:06,210 --> 00:25:10,519
I've got slash serve slash NFS

393
00:25:36,910 --> 00:25:44,890
and lo and behold they have terrible NFS

394
00:25:40,480 --> 00:25:46,150
permissions totally just let me does

395
00:25:44,890 --> 00:25:49,600
anybody know how that FS works are you

396
00:25:46,150 --> 00:25:52,810
guys familiar with this NFS is the Linux

397
00:25:49,600 --> 00:25:55,659
version of Windows Microsoft SMB file

398
00:25:52,810 --> 00:25:57,250
sharing permissions on NFS are handled a

399
00:25:55,660 --> 00:25:59,170
little bit differently you have you give

400
00:25:57,250 --> 00:26:01,000
out permissions based on IP address

401
00:25:59,170 --> 00:26:05,110
rather than giving out permissions based

402
00:26:01,000 --> 00:26:07,270
on user name and then it uses the Linux

403
00:26:05,110 --> 00:26:09,639
file system permission to grant or

404
00:26:07,270 --> 00:26:14,230
restrict access access based on user ID

405
00:26:09,640 --> 00:26:16,300
of the user there so this just let me go

406
00:26:14,230 --> 00:26:19,480
and mount that so this means I can

407
00:26:16,300 --> 00:26:24,940
totally look at some random share that

408
00:26:19,480 --> 00:26:27,430
is somebody secret if you guys aren't

409
00:26:24,940 --> 00:26:30,340
familiar this lab is it's clearly all

410
00:26:27,430 --> 00:26:31,780
Linux but we'll be using a lot of Linux

411
00:26:30,340 --> 00:26:34,090
command line if you don't know how to do

412
00:26:31,780 --> 00:26:38,170
this that's why we're doing it together

413
00:26:34,090 --> 00:26:40,810
to help you figure these bits out the

414
00:26:38,170 --> 00:26:44,380
mount you command here the T is saying

415
00:26:40,810 --> 00:26:46,210
mount is filesystem type as NFS I give

416
00:26:44,380 --> 00:26:47,620
it the target IP address and then I put

417
00:26:46,210 --> 00:26:50,050
a colon and then I do the target

418
00:26:47,620 --> 00:26:52,959
directory that's the part I got back up

419
00:26:50,050 --> 00:26:55,450
here for the show mount show mount

420
00:26:52,960 --> 00:26:57,490
Explorer 10.40 da 0.5 tells me our

421
00:26:55,450 --> 00:26:59,770
export list tells me that these two

422
00:26:57,490 --> 00:27:02,020
exports are that this one export is

423
00:26:59,770 --> 00:27:04,750
available on that server and it also

424
00:27:02,020 --> 00:27:11,730
tells me that it is available to what

425
00:27:04,750 --> 00:27:11,730
address ranges can mount that export

426
00:27:20,420 --> 00:27:37,880
should I make this bigger okay on this

427
00:27:32,180 --> 00:27:39,770
on this random open file share you see

428
00:27:37,880 --> 00:27:44,560
that we have we have already found the

429
00:27:39,770 --> 00:27:49,190
first flag for this Linux - hacker lab

430
00:27:44,560 --> 00:27:52,820
challenge here these keys you can take

431
00:27:49,190 --> 00:27:57,770
them back right over here and plug them

432
00:27:52,820 --> 00:27:59,629
into the game board and submit recruit

433
00:27:57,770 --> 00:28:02,060
I'm gonna walk you through how to do

434
00:27:59,630 --> 00:28:07,780
this and leave it as an exercise to you

435
00:28:02,060 --> 00:28:10,010
to submit the flags on your own so

436
00:28:07,780 --> 00:28:11,420
usually these flags are helpful like

437
00:28:10,010 --> 00:28:12,650
this they give you things like don't

438
00:28:11,420 --> 00:28:16,070
trust your neighbors because they're

439
00:28:12,650 --> 00:28:18,230
probably not good actors also just

440
00:28:16,070 --> 00:28:19,820
because you're sitting at a port next to

441
00:28:18,230 --> 00:28:21,860
me on the network doesn't mean that I

442
00:28:19,820 --> 00:28:26,500
actually know you or want to share any

443
00:28:21,860 --> 00:28:28,280
information with you so this is why

444
00:28:26,500 --> 00:28:31,520
authenticated shares are much better

445
00:28:28,280 --> 00:28:33,170
strategy so we've got that the readme

446
00:28:31,520 --> 00:28:35,840
had that information about the first

447
00:28:33,170 --> 00:28:40,490
flag but let's find a little bit about

448
00:28:35,840 --> 00:28:48,020
this deploy script let's see what

449
00:28:40,490 --> 00:28:49,640
exactly it looks like huh so you have to

450
00:28:48,020 --> 00:28:51,560
be a little bit familiar with bash on

451
00:28:49,640 --> 00:28:53,180
Linux to get to understand this but it

452
00:28:51,560 --> 00:28:54,879
should be pretty familiar pretty easy to

453
00:28:53,180 --> 00:28:59,290
decipher if you play with programming

454
00:28:54,880 --> 00:29:01,610
looks like we're adding a user or

455
00:28:59,290 --> 00:29:03,800
echoing the user and password to the

456
00:29:01,610 --> 00:29:06,649
change password program so that means

457
00:29:03,800 --> 00:29:10,850
this script will create this username

458
00:29:06,650 --> 00:29:14,810
with this password and we're adding that

459
00:29:10,850 --> 00:29:19,300
user to the pseudo group or we're adding

460
00:29:14,810 --> 00:29:21,830
a pseudo so let's keep coming through

461
00:29:19,300 --> 00:29:23,270
setting up some public keys for ssh

462
00:29:21,830 --> 00:29:25,220
authentication you guys all familiar

463
00:29:23,270 --> 00:29:28,879
with ssh public or public key

464
00:29:25,220 --> 00:29:31,580
authentication so ssh has a way that i

465
00:29:28,880 --> 00:29:33,670
can pre generate a key and i i generate

466
00:29:31,580 --> 00:29:35,560
my key and then i sign it

467
00:29:33,670 --> 00:29:37,630
I can share my public key with anyone

468
00:29:35,560 --> 00:29:40,000
and they can use that public key to

469
00:29:37,630 --> 00:29:42,370
communicate with me and so if I tried a

470
00:29:40,000 --> 00:29:44,020
lot entik eight and they have my public

471
00:29:42,370 --> 00:29:45,879
key and they're authorized keys file

472
00:29:44,020 --> 00:29:47,290
then I can connect to their server

473
00:29:45,880 --> 00:29:49,390
without a password

474
00:29:47,290 --> 00:29:51,040
assuming my SSH key doesn't have a

475
00:29:49,390 --> 00:29:53,910
passphrase on it which is another option

476
00:29:51,040 --> 00:29:53,909
you can do for security

477
00:30:03,440 --> 00:30:10,580
okay so we're setting up SSH keys we're

478
00:30:06,789 --> 00:30:14,210
reconfiguring how SSH this SSA etsy SSH

479
00:30:10,580 --> 00:30:16,340
SSH Dee is your SSH server configuration

480
00:30:14,210 --> 00:30:17,870
file so we're changing a little bit some

481
00:30:16,340 --> 00:30:20,178
of the default parameters we are

482
00:30:17,870 --> 00:30:21,949
permitting root login yes that means we

483
00:30:20,179 --> 00:30:24,769
can do password based logins with root

484
00:30:21,950 --> 00:30:26,840
that's a good thing well that's for our

485
00:30:24,769 --> 00:30:28,250
perspective that's a good thing for your

486
00:30:26,840 --> 00:30:35,080
real servers this is a bad thing you

487
00:30:28,250 --> 00:30:35,080
shouldn't do this this is not good so

488
00:30:35,679 --> 00:30:41,350
we're changing it we're commenting out

489
00:30:38,029 --> 00:30:41,350
the one says they can't authenticate

490
00:30:42,519 --> 00:30:48,820
okay keep coming down

491
00:30:44,840 --> 00:30:52,789
setting up fail to ban which is a

492
00:30:48,820 --> 00:30:56,240
firewalling and blacklisting service ufw

493
00:30:52,789 --> 00:31:00,230
is a firewall firewall service tell it

494
00:30:56,240 --> 00:31:02,029
it's all done in reboot so hmm in this

495
00:31:00,230 --> 00:31:08,360
file anything seem interesting you want

496
00:31:02,029 --> 00:31:11,840
to try and use now I have passwords we

497
00:31:08,360 --> 00:31:13,939
come back out here I have SSH servers as

498
00:31:11,840 --> 00:31:15,620
you recall up here I'm gonna run that

499
00:31:13,940 --> 00:31:18,940
nmap scan again but I'm gonna change my

500
00:31:15,620 --> 00:31:18,939
options just a little bit

501
00:31:25,350 --> 00:31:30,279
so I'm adding this Oh a to the in map if

502
00:31:28,779 --> 00:31:33,669
you're not familiar what that does is

503
00:31:30,279 --> 00:31:35,110
that says output to a file a means all

504
00:31:33,669 --> 00:31:37,990
formats so if you look in my home

505
00:31:35,110 --> 00:31:40,570
directory or actually oops if you look

506
00:31:37,990 --> 00:31:45,100
in the mount directory on that NFS file

507
00:31:40,570 --> 00:31:48,250
share which I probably shouldn't write

508
00:31:45,100 --> 00:31:50,980
it to you so I'll put it here you'll see

509
00:31:48,250 --> 00:31:52,960
files that are all start with scan so I

510
00:31:50,980 --> 00:31:54,940
have scanned G in map which stands for

511
00:31:52,960 --> 00:31:57,429
grep bubble in map meaning I can search

512
00:31:54,940 --> 00:31:59,289
it with grep I have scanned I in map

513
00:31:57,429 --> 00:32:01,539
which is just this exact output right

514
00:31:59,289 --> 00:32:04,440
here and then I have scanned out XML

515
00:32:01,539 --> 00:32:06,610
which is the same data but an XML format

516
00:32:04,440 --> 00:32:08,049
this is kind of handy because now I

517
00:32:06,610 --> 00:32:09,189
don't have to run n map every time I

518
00:32:08,049 --> 00:32:11,519
want to go back and say hey wait a

519
00:32:09,190 --> 00:32:14,379
minute what's going on with this service

520
00:32:11,519 --> 00:32:21,190
grep is a really handy Linux tool to

521
00:32:14,379 --> 00:32:23,918
find what's in a file so if I take this

522
00:32:21,190 --> 00:32:28,539
grippa belen map file and say where's

523
00:32:23,919 --> 00:32:31,539
port 22 open I can see that 22 is open

524
00:32:28,539 --> 00:32:42,360
on three servers but this one should

525
00:32:31,539 --> 00:32:42,360
look familiar right yes

526
00:32:42,860 --> 00:32:52,399
Oh give me two seconds to finish this

527
00:32:50,120 --> 00:32:57,320
train thought so you'll notice that this

528
00:32:52,399 --> 00:32:59,779
SSH that's open here is actually me if

529
00:32:57,320 --> 00:33:01,850
you really want to attack yourself you

530
00:32:59,779 --> 00:33:03,289
can but remember that these tools don't

531
00:33:01,850 --> 00:33:06,260
just show the targets they show

532
00:33:03,289 --> 00:33:09,379
everything this is applicable if you are

533
00:33:06,260 --> 00:33:11,929
trying to get reconnaissance and

534
00:33:09,380 --> 00:33:14,149
information about a specific target you

535
00:33:11,929 --> 00:33:16,519
can scan everybody out there and hit 20

536
00:33:14,149 --> 00:33:18,320
targets and be hitting systems that are

537
00:33:16,519 --> 00:33:20,059
out of scope if you're doing on auditor

538
00:33:18,320 --> 00:33:24,139
a pen test you could be hitting systems

539
00:33:20,059 --> 00:33:26,570
that you or your clients don't own so be

540
00:33:24,139 --> 00:33:27,949
very careful about what the scope you're

541
00:33:26,570 --> 00:33:30,710
scanning and make sure that you're

542
00:33:27,950 --> 00:33:32,539
hitting the correct systems

543
00:33:30,710 --> 00:33:37,580
that's the reminder there at the in map

544
00:33:32,539 --> 00:33:39,889
command it's the same as before the p0

545
00:33:37,580 --> 00:33:42,320
is don't do a ping suite no ICMP checks

546
00:33:39,889 --> 00:33:48,010
top ports it's the top one 100 most

547
00:33:42,320 --> 00:33:50,750
common ports the target IP address range

548
00:33:48,010 --> 00:33:53,870
IP address masking if you're familiar

549
00:33:50,750 --> 00:33:57,169
with that the slash 24 means this

550
00:33:53,870 --> 00:34:02,449
unwilling scan 10.40 dot 0 and then this

551
00:33:57,169 --> 00:34:04,730
one will be 0 through 255 and that's

552
00:34:02,450 --> 00:34:06,230
what the this last 24 just says scan

553
00:34:04,730 --> 00:34:09,168
that's what that means it scan that

554
00:34:06,230 --> 00:34:11,109
whole range the Oh a is the output all

555
00:34:09,168 --> 00:34:16,668
and the scan is the base

556
00:34:11,109 --> 00:34:20,949
so let's come back up here and we've got

557
00:34:16,668 --> 00:34:20,949
these three hosts with SSH

558
00:34:27,290 --> 00:34:35,819
the user is L user and the password is

559
00:34:30,569 --> 00:34:39,000
unsent lunchroom figure lunchroom

560
00:34:35,819 --> 00:34:48,149
five-figure sorry so let's just see what

561
00:34:39,000 --> 00:34:52,440
we can do with these what what was the

562
00:34:48,149 --> 00:35:06,980
point of it or what was the command that

563
00:34:52,440 --> 00:35:06,980
was this oh I didn't hear right here

564
00:35:09,349 --> 00:35:12,470
come on

565
00:35:20,540 --> 00:35:31,290
okay so this SS HL user I'm going to

566
00:35:24,510 --> 00:35:45,690
come grab the password again the address

567
00:35:31,290 --> 00:35:48,750
is our 10.40 0.4 in about five and I'm

568
00:35:45,690 --> 00:35:53,250
just using these usernames and passwords

569
00:35:48,750 --> 00:35:55,079
from that deployment script remember but

570
00:35:53,250 --> 00:35:56,640
by the way if you have questions it

571
00:35:55,079 --> 00:36:00,059
doesn't make sense if I'm going too slow

572
00:35:56,640 --> 00:36:01,470
too fast this is the point of the

573
00:36:00,059 --> 00:36:02,880
workshop is to work with you and have

574
00:36:01,470 --> 00:36:06,480
you give me feedback and tell me what to

575
00:36:02,880 --> 00:36:08,309
do so I will go as far as we can in the

576
00:36:06,480 --> 00:36:11,010
two hours and if that means I spent all

577
00:36:08,309 --> 00:36:12,599
the time explaining how to do it I don't

578
00:36:11,010 --> 00:36:14,910
know how many guys came to my CTF talk

579
00:36:12,599 --> 00:36:18,329
this morning but the whole point of CTF

580
00:36:14,910 --> 00:36:20,279
is participate to learn not participate

581
00:36:18,329 --> 00:36:22,980
to win that's my personal viewpoint on

582
00:36:20,280 --> 00:36:24,720
these I made these to teach you not to

583
00:36:22,980 --> 00:36:26,369
get you points so if you don't

584
00:36:24,720 --> 00:36:32,569
understand it then we're doing it wrong

585
00:36:26,369 --> 00:36:39,359
so let's work on it together can I what

586
00:36:32,569 --> 00:36:41,369
slow down okay no that's good I forget

587
00:36:39,359 --> 00:36:43,500
that I all of my tricks and shortcuts

588
00:36:41,369 --> 00:36:44,819
everyone else doesn't do if you want

589
00:36:43,500 --> 00:36:46,230
tips and tricks I can tell you some of

590
00:36:44,819 --> 00:36:49,619
the things I'm doing that make my life

591
00:36:46,230 --> 00:36:51,390
happier for instance Linux has the

592
00:36:49,619 --> 00:36:55,710
greatest single greatest feature in the

593
00:36:51,390 --> 00:36:59,129
entire world which is you'll notice that

594
00:36:55,710 --> 00:37:00,799
when I want to do something so like for

595
00:36:59,130 --> 00:37:02,970
example this password right here I

596
00:37:00,799 --> 00:37:05,009
double click on the password and it's

597
00:37:02,970 --> 00:37:07,740
all highlighted and Linux has two

598
00:37:05,010 --> 00:37:09,660
clipboards I can right now hit ctrl

599
00:37:07,740 --> 00:37:11,970
shift or ctrl C and copy this little

600
00:37:09,660 --> 00:37:15,029
ctrl shift C in the terminal and copy

601
00:37:11,970 --> 00:37:17,939
this or I can just use the highlights or

602
00:37:15,030 --> 00:37:20,880
copy buffer and so right now if I want

603
00:37:17,940 --> 00:37:23,339
to type that into here if I middle click

604
00:37:20,880 --> 00:37:25,890
I have now just typed whatever is

605
00:37:23,339 --> 00:37:30,720
highlighted is typed in their password

606
00:37:25,890 --> 00:37:32,160
box is a bad time to do that I'll show

607
00:37:30,720 --> 00:37:33,209
you here so I can just double click on

608
00:37:32,160 --> 00:37:35,399
this

609
00:37:33,210 --> 00:37:38,580
kernel version and then if I middle

610
00:37:35,400 --> 00:37:42,300
click it'll type whatever I have

611
00:37:38,580 --> 00:37:45,290
highlighted no copy and paste needed

612
00:37:42,300 --> 00:37:47,910
just middle click of what's highlighted

613
00:37:45,290 --> 00:37:50,310
super handy you'll notice also that as

614
00:37:47,910 --> 00:37:57,600
I'm doing commands a lot of times I'll

615
00:37:50,310 --> 00:38:05,330
use my ctrl R which does this reverse

616
00:37:57,600 --> 00:38:05,330
search and that's a good way to find

617
00:38:12,180 --> 00:38:15,480
I like slowing down cuz it gives me a

618
00:38:14,100 --> 00:38:16,560
chance to eat the ice cream I brought in

619
00:38:15,480 --> 00:38:23,220
here that I was gonna eat before I

620
00:38:16,560 --> 00:38:28,770
started but I was too late okay so is

621
00:38:23,220 --> 00:38:30,060
everybody in the Linux box now did you

622
00:38:28,770 --> 00:38:33,360
get the in effect were you here when we

623
00:38:30,060 --> 00:38:37,350
did the NFS server so you're on the NFS

624
00:38:33,360 --> 00:38:48,120
melt right did you so did you run the

625
00:38:37,350 --> 00:38:55,380
mount command if you run D F minus H do

626
00:38:48,120 --> 00:39:01,049
you have /mnt still mounted I'm sure who

627
00:38:55,380 --> 00:39:13,710
I'm talking to over here who's looking

628
00:39:01,050 --> 00:39:17,900
for the password so so when you run DF

629
00:39:13,710 --> 00:39:22,290
do you still have that NFS share mounted

630
00:39:17,900 --> 00:39:27,680
we good here all right and then if you

631
00:39:22,290 --> 00:39:31,710
look on this /mnt LS is list files

632
00:39:27,680 --> 00:39:33,089
you'll see this deploy dot sh and you'll

633
00:39:31,710 --> 00:39:34,560
see the other files that I accidentally

634
00:39:33,090 --> 00:39:36,060
created there that you don't have but I

635
00:39:34,560 --> 00:39:40,640
do it's okay if yours looks a little bit

636
00:39:36,060 --> 00:39:43,290
different cat is a way to just say

637
00:39:40,640 --> 00:39:45,810
whatever is in this file type it out to

638
00:39:43,290 --> 00:39:49,050
the screen or a little bit easier for us

639
00:39:45,810 --> 00:39:52,610
here is head I just want to see the top

640
00:39:49,050 --> 00:39:52,610
of the file and see the head of the file

641
00:39:58,900 --> 00:40:05,070
so here's that username and password do

642
00:40:02,020 --> 00:40:05,070
you guys all have the password now

643
00:40:25,770 --> 00:40:33,060
again that the reverse search that I'm

644
00:40:29,580 --> 00:40:34,880
using here if you just hit ctrl R it'll

645
00:40:33,060 --> 00:40:37,259
put you in this reverse search mode and

646
00:40:34,880 --> 00:40:39,930
you start typing whatever command you

647
00:40:37,260 --> 00:40:41,910
want like I did ctrl R and typed SSH and

648
00:40:39,930 --> 00:40:44,759
it searches all the commands I've typed

649
00:40:41,910 --> 00:40:55,560
before for ones that include SSH

650
00:40:44,760 --> 00:40:58,440
somewhere in them oh no and so are we

651
00:40:55,560 --> 00:40:59,850
all ready to go into the box anyone

652
00:40:58,440 --> 00:41:04,410
needs a second more to get the password

653
00:40:59,850 --> 00:41:09,360
or the mount or anything you guys making

654
00:41:04,410 --> 00:41:16,230
progress you need time or help time okay

655
00:41:09,360 --> 00:41:18,540
oh that's a really good point if you

656
00:41:16,230 --> 00:41:20,030
want to sync this clipboard with your

657
00:41:18,540 --> 00:41:23,940
local computer

658
00:41:20,030 --> 00:41:26,820
if you hit ctrl alt shift in guacamole

659
00:41:23,940 --> 00:41:29,910
you get this handy little menu that pops

660
00:41:26,820 --> 00:41:31,950
up on the side ctrl alt and shift at the

661
00:41:29,910 --> 00:41:36,330
same time you'll notice that this now

662
00:41:31,950 --> 00:41:39,509
has what my clipboard inside of the

663
00:41:36,330 --> 00:41:42,060
guacamole box is on this clipboard and I

664
00:41:39,510 --> 00:41:43,650
can take this now and copy this into my

665
00:41:42,060 --> 00:41:45,630
local system and this is how you sync

666
00:41:43,650 --> 00:41:49,070
the clipboard between the guacamole

667
00:41:45,630 --> 00:41:49,070
client and your local device

668
00:42:06,110 --> 00:42:16,340
which part so that's just show I just

669
00:42:13,550 --> 00:42:20,060
shown how it worked here but the ctrl

670
00:42:16,340 --> 00:42:21,710
alt shift it's a little bit wonky and

671
00:42:20,060 --> 00:42:24,500
that it's not a smooth transition from

672
00:42:21,710 --> 00:42:26,240
one to the other but it's possible which

673
00:42:24,500 --> 00:42:27,740
is really handy with some of these keys

674
00:42:26,240 --> 00:42:33,109
that will be or flex we'll be getting

675
00:42:27,740 --> 00:42:34,370
through the labs or you guys how is

676
00:42:33,110 --> 00:42:35,720
everyone in here how many of you are

677
00:42:34,370 --> 00:42:39,529
familiar with Callie and have done

678
00:42:35,720 --> 00:42:41,180
things like this before how many of you

679
00:42:39,530 --> 00:42:43,070
this is your first time doing any sort

680
00:42:41,180 --> 00:42:50,330
of a pen testing red teaming type of

681
00:42:43,070 --> 00:42:52,130
thing great I love it please please

682
00:42:50,330 --> 00:42:56,140
don't be afraid to ask me to slow down

683
00:42:52,130 --> 00:42:58,220
because I get I feel like I'm going I

684
00:42:56,140 --> 00:43:00,049
don't know what the right pace is so

685
00:42:58,220 --> 00:43:02,870
help me find it and communicate whether

686
00:43:00,050 --> 00:43:04,610
I'm going too fast or too slow when you

687
00:43:02,870 --> 00:43:13,580
have this guacamole menu up if you hit

688
00:43:04,610 --> 00:43:18,410
ctrl alt shift again it'll go away all

689
00:43:13,580 --> 00:43:23,740
right so let's go into let's go into

690
00:43:18,410 --> 00:43:23,740
this other box

691
00:43:28,920 --> 00:43:36,540
so you'll see here I got another flag so

692
00:43:34,590 --> 00:43:38,280
let's let's compare this to where we're

693
00:43:36,540 --> 00:43:43,680
at over here back with the game board

694
00:43:38,280 --> 00:43:46,080
again this hopefully helps you guys get

695
00:43:43,680 --> 00:43:48,500
your own skill set on how to be more

696
00:43:46,080 --> 00:43:48,500
successful

697
00:43:50,000 --> 00:44:04,380
so this sounded like a good idea this

698
00:43:56,280 --> 00:44:08,250
ice-cream it wasn't convenient Lee it

699
00:44:04,380 --> 00:44:15,480
came with an ice bag though alright so

700
00:44:08,250 --> 00:44:17,100
we did the let's share set me up Scottie

701
00:44:15,480 --> 00:44:19,470
this was one of the other ones that you

702
00:44:17,100 --> 00:44:21,830
found where you found some credentials

703
00:44:19,470 --> 00:44:21,830
right

704
00:44:29,900 --> 00:44:31,960
you

705
00:44:33,790 --> 00:44:39,100
this next one is under the doormat and

706
00:44:36,630 --> 00:44:41,670
I'm making sure I don't get these

707
00:44:39,100 --> 00:44:47,410
confused

708
00:44:41,670 --> 00:44:52,660
hey Eldon under the doormat is the one

709
00:44:47,410 --> 00:44:55,379
that I talked about before right where

710
00:44:52,660 --> 00:44:55,379
you leave your keys

711
00:45:00,050 --> 00:45:09,190
no is that l2 okay okay okay that's what

712
00:45:07,970 --> 00:45:12,890
I was thinking

713
00:45:09,190 --> 00:45:15,890
all right so these are a little bit

714
00:45:12,890 --> 00:45:17,600
they're mildly obscure clues on purpose

715
00:45:15,890 --> 00:45:19,040
to not literally tell you what to type

716
00:45:17,600 --> 00:45:20,870
and do on the hackers challenge board

717
00:45:19,040 --> 00:45:23,509
but they should lead you in the right

718
00:45:20,870 --> 00:45:26,420
direction and that's the idea but if you

719
00:45:23,510 --> 00:45:27,530
ever look at these clues and think what

720
00:45:26,420 --> 00:45:33,590
in the world are you people talking

721
00:45:27,530 --> 00:45:36,260
about excuse me this is why we're set up

722
00:45:33,590 --> 00:45:39,410
downstairs in the in the community area

723
00:45:36,260 --> 00:45:41,240
there is a table for these labs and

724
00:45:39,410 --> 00:45:43,759
we're happy to help you give you more

725
00:45:41,240 --> 00:45:45,830
clues give you answer questions or go on

726
00:45:43,760 --> 00:45:47,570
to slack and st. comms is everybody in

727
00:45:45,830 --> 00:45:50,840
the st. comm slack if you're not there

728
00:45:47,570 --> 00:46:00,110
raise your hand do you know about the

729
00:45:50,840 --> 00:46:02,360
st. comm slack st. coms like that if you

730
00:46:00,110 --> 00:46:04,760
go to that website you it is an easy

731
00:46:02,360 --> 00:46:07,010
auto join slack channel anyone's welcome

732
00:46:04,760 --> 00:46:13,130
to get in there once you're in the slack

733
00:46:07,010 --> 00:46:14,870
Channel you can then talk to people I am

734
00:46:13,130 --> 00:46:16,850
NOT going to watch my slack because all

735
00:46:14,870 --> 00:46:18,710
the direct messages will pop up and some

736
00:46:16,850 --> 00:46:23,210
of them will probably be appropriate and

737
00:46:18,710 --> 00:46:24,680
some of them I don't know about turns

738
00:46:23,210 --> 00:46:26,150
out when you do that to other people in

739
00:46:24,680 --> 00:46:28,040
their presentations they're looking for

740
00:46:26,150 --> 00:46:31,360
excuses to pay you back so I don't dare

741
00:46:28,040 --> 00:46:33,500
launch - show you what it looks like

742
00:46:31,360 --> 00:46:39,560
anyway if you go to st. Comstock slack

743
00:46:33,500 --> 00:46:44,900
comm there is a channel that is there's

744
00:46:39,560 --> 00:46:52,910
an underscore or - oh it's renamed from

745
00:46:44,900 --> 00:46:59,150
hacker to st. st. Labs last year I think

746
00:46:52,910 --> 00:47:02,000
it was hacker labs and we reap you know

747
00:46:59,150 --> 00:47:05,020
I don't care go to st. labs in this

748
00:47:02,000 --> 00:47:07,730
channel or in this slack instance

749
00:47:05,020 --> 00:47:09,410
there's me Eldon Scottie and a couple

750
00:47:07,730 --> 00:47:11,720
other guys to help create the challenges

751
00:47:09,410 --> 00:47:14,569
by the way this is Eldon and I'm the one

752
00:47:11,720 --> 00:47:16,730
talking but a crap-ton of the work was

753
00:47:14,570 --> 00:47:20,570
done by Eldon so if you like the labs

754
00:47:16,730 --> 00:47:22,730
tell Eldon you appreciate what he did it

755
00:47:20,570 --> 00:47:25,870
was no small feat and no small amount of

756
00:47:22,730 --> 00:47:25,870
time that he put in to do this

757
00:47:35,250 --> 00:47:40,560
what's that oh I would love to help get

758
00:47:39,210 --> 00:47:48,240
your passwords can I sit down for a

759
00:47:40,560 --> 00:47:51,810
little while at your computer so the key

760
00:47:48,240 --> 00:47:54,779
or the hint for this next one is it's

761
00:47:51,810 --> 00:47:56,340
called under the doormat and so the idea

762
00:47:54,780 --> 00:47:58,140
is think about what kinds of things you

763
00:47:56,340 --> 00:48:00,840
put under doormats we're trying to get

764
00:47:58,140 --> 00:48:03,868
access to things we put keys under

765
00:48:00,840 --> 00:48:06,630
doormats if you're not sure of where to

766
00:48:03,869 --> 00:48:08,460
go with this then think a little bit of

767
00:48:06,630 --> 00:48:11,369
start going through the thought process

768
00:48:08,460 --> 00:48:13,349
of keys and doormats and access well you

769
00:48:11,369 --> 00:48:17,310
heard me talk a minute ago about SSH and

770
00:48:13,349 --> 00:48:22,590
how you can have SSH keys right so let's

771
00:48:17,310 --> 00:48:25,080
come in here and Linux everything is all

772
00:48:22,590 --> 00:48:26,130
config files are all configurations are

773
00:48:25,080 --> 00:48:27,840
stored in the file windows has a

774
00:48:26,130 --> 00:48:30,869
registry and it's all in there and it's

775
00:48:27,840 --> 00:48:36,450
kind of crazy in Linux everything's a

776
00:48:30,869 --> 00:48:39,150
file the file system has you have so

777
00:48:36,450 --> 00:48:40,950
there's your LS is your directory

778
00:48:39,150 --> 00:48:43,920
command it says show me the contents of

779
00:48:40,950 --> 00:48:45,960
this file and if you look it says that

780
00:48:43,920 --> 00:48:50,869
there are no files on this or on this

781
00:48:45,960 --> 00:48:50,869
device when i type LS but there is a

782
00:48:51,800 --> 00:48:58,770
what linux does is it will any file that

783
00:48:56,190 --> 00:49:01,680
starts with a period is a hidden file

784
00:48:58,770 --> 00:49:03,420
and it's hidden pretty terribly but it's

785
00:49:01,680 --> 00:49:06,779
it basically that just means it doesn't

786
00:49:03,420 --> 00:49:09,380
show up when you run LS normally but you

787
00:49:06,780 --> 00:49:12,300
see we've got this SSH

788
00:49:09,380 --> 00:49:14,670
directory this is where the current

789
00:49:12,300 --> 00:49:19,140
users direct SSH information is stored

790
00:49:14,670 --> 00:49:23,010
and you'll see that I have ID RS RSA

791
00:49:19,140 --> 00:49:25,650
rdid RSA Pub this is those keys I was

792
00:49:23,010 --> 00:49:30,330
talking about this is this ID RSA is my

793
00:49:25,650 --> 00:49:32,400
private key this pub is my public key if

794
00:49:30,330 --> 00:49:35,250
you're sharing these with someone to get

795
00:49:32,400 --> 00:49:38,700
access to their system do not give them

796
00:49:35,250 --> 00:49:40,560
your private key no-one ever ever ever

797
00:49:38,700 --> 00:49:42,240
needs a private key that is your

798
00:49:40,560 --> 00:49:45,410
password to get into the remote systems

799
00:49:42,240 --> 00:49:45,410
if you're doing key based authentication

800
00:49:46,580 --> 00:49:51,140
and then you see this known host file

801
00:49:49,010 --> 00:49:53,420
what SSH does is as you connect to

802
00:49:51,140 --> 00:49:57,170
different devices it stores a hash of

803
00:49:53,420 --> 00:49:59,210
that remote devices signing key so that

804
00:49:57,170 --> 00:50:01,100
you can verify the authenticity so this

805
00:49:59,210 --> 00:50:03,710
way this file is used to prevent

806
00:50:01,100 --> 00:50:05,540
man-in-the-middle attacks if I'm talking

807
00:50:03,710 --> 00:50:07,340
to your device and all of a sudden the

808
00:50:05,540 --> 00:50:10,369
key changes to something else then I

809
00:50:07,340 --> 00:50:12,260
know that I'm not really talking to you

810
00:50:10,369 --> 00:50:16,070
because the keys not the same servers

811
00:50:12,260 --> 00:50:17,420
don't generally change SSH keys so let's

812
00:50:16,070 --> 00:50:19,790
look at this and see if we can find

813
00:50:17,420 --> 00:50:24,200
anything there also is this little trick

814
00:50:19,790 --> 00:50:25,820
that will make this anyway you look at

815
00:50:24,200 --> 00:50:28,910
this and you get really hopeful thinking

816
00:50:25,820 --> 00:50:32,240
oh this is all of the SSH keys it says

817
00:50:28,910 --> 00:50:35,180
this is exactly the SSH key the problem

818
00:50:32,240 --> 00:50:37,850
is by default Linux now hashes the known

819
00:50:35,180 --> 00:50:39,230
as the known host key to obfuscate it to

820
00:50:37,850 --> 00:50:40,970
prevent people from doing what we were

821
00:50:39,230 --> 00:50:45,619
just trying to do and say what host have

822
00:50:40,970 --> 00:50:50,439
you connected to but conveniently we

823
00:50:45,619 --> 00:50:56,410
know from our ports can backup here

824
00:50:50,440 --> 00:51:01,359
we're currently on 4 which had SSH open

825
00:50:56,410 --> 00:51:01,359
but it looks like five has SSH open too

826
00:51:02,590 --> 00:51:11,020
and we have to guess what user it is

827
00:51:06,170 --> 00:51:11,020
generally that's the wrong clip board

828
00:51:12,550 --> 00:51:19,310
generally by default SSH does not allow

829
00:51:16,450 --> 00:51:21,980
route based login except with the key

830
00:51:19,310 --> 00:51:29,150
so let's first try the user and see if

831
00:51:21,980 --> 00:51:32,570
that goes and it turns out that if I use

832
00:51:29,150 --> 00:51:34,550
the same username to get in that that I

833
00:51:32,570 --> 00:51:36,830
logged into that I found through the

834
00:51:34,550 --> 00:51:45,440
deployment script I can still log in

835
00:51:36,830 --> 00:51:48,609
let's see if we can do it let's we can

836
00:51:45,440 --> 00:51:48,609
try route and see if that works

837
00:51:49,600 --> 00:51:54,020
do you guys understand what I just did

838
00:51:51,740 --> 00:51:57,890
to get out to get into there does that

839
00:51:54,020 --> 00:52:00,420
make sense or is this crazy juju that

840
00:51:57,890 --> 00:52:09,598
so route ass is asking me for a password

841
00:52:00,420 --> 00:52:14,579
is it the key is not working is everyone

842
00:52:09,599 --> 00:52:24,750
now on linux to server have you made it

843
00:52:14,579 --> 00:52:26,819
this far don't be afraid to raise your

844
00:52:24,750 --> 00:52:30,470
hand and say you need help like this

845
00:52:26,819 --> 00:52:32,940
really is a time for us to help you

846
00:52:30,470 --> 00:52:36,029
after this we're just gonna let you free

847
00:52:32,940 --> 00:52:37,020
and say go have fun in the labs the

848
00:52:36,030 --> 00:52:38,760
other thing that you may have missed

849
00:52:37,020 --> 00:52:41,220
from my CTF talk this morning is I

850
00:52:38,760 --> 00:52:42,990
talked about how in order to be

851
00:52:41,220 --> 00:52:44,700
successful with things like this you

852
00:52:42,990 --> 00:52:48,390
need to not be afraid to ask for help

853
00:52:44,700 --> 00:52:50,819
you need to walk up and say hey I don't

854
00:52:48,390 --> 00:52:53,730
know you my name is Matt can you help me

855
00:52:50,819 --> 00:52:56,670
with this or sit down in the hacker labs

856
00:52:53,730 --> 00:52:59,010
and the couches down there or and in

857
00:52:56,670 --> 00:53:01,460
that hacker lounge sorry on the couches

858
00:52:59,010 --> 00:53:03,480
and while you're in the in that area

859
00:53:01,460 --> 00:53:05,609
listen to people and be like hey I'm

860
00:53:03,480 --> 00:53:07,980
about to start that challenge - or jump

861
00:53:05,609 --> 00:53:11,279
on slack and say hey I'm gonna start

862
00:53:07,980 --> 00:53:14,450
Linux - for 200 who's ready to start

863
00:53:11,280 --> 00:53:16,859
that that can want to work on it with me

864
00:53:14,450 --> 00:53:19,970
so work together as we're doing these

865
00:53:16,859 --> 00:53:19,970
what's your

866
00:54:06,450 --> 00:54:10,919
okay how many people are waiting for

867
00:54:08,619 --> 00:54:10,920
help

868
00:54:13,070 --> 00:54:18,460
if you're caught up and willing to help

869
00:54:16,610 --> 00:54:21,050
the guy next to you then let's do that

870
00:54:18,460 --> 00:54:23,590
wherever we can just to keep it flowing

871
00:54:21,050 --> 00:54:23,590
a little bit

872
00:54:50,760 --> 00:55:10,200
all right if you are not yet on the

873
00:54:55,300 --> 00:55:10,200
server raise your hand all right

874
00:55:15,930 --> 00:55:23,470
so we now have another flag to submit to

875
00:55:18,880 --> 00:55:25,660
that game board let's come back over

876
00:55:23,470 --> 00:55:29,919
here and look at the game board and see

877
00:55:25,660 --> 00:55:31,569
what things look like so we did the

878
00:55:29,920 --> 00:55:34,930
under the doormat that's they left the

879
00:55:31,570 --> 00:55:38,880
key for us under the doormat next one is

880
00:55:34,930 --> 00:55:43,140
needle in a haystack let's needle

881
00:55:38,880 --> 00:55:46,420
next one is needle in a haystack so

882
00:55:43,140 --> 00:55:48,190
depends on the description is depends on

883
00:55:46,420 --> 00:55:52,840
under the doormat so we have to be on

884
00:55:48,190 --> 00:55:54,070
the Linux 2 server right so we have to

885
00:55:52,840 --> 00:55:55,660
be a sensation to it because we had to

886
00:55:54,070 --> 00:56:02,950
use that key to get on there but now we

887
00:55:55,660 --> 00:56:09,730
need a needle in a haystack so what are

888
00:56:02,950 --> 00:56:10,930
we looking for again we need flags this

889
00:56:09,730 --> 00:56:13,120
is one of the things that we're trying

890
00:56:10,930 --> 00:56:15,520
the purpose of the all of these labs is

891
00:56:13,120 --> 00:56:17,020
to show you how to think like an

892
00:56:15,520 --> 00:56:20,440
attacker how to think like a miscreant

893
00:56:17,020 --> 00:56:22,300
how to seek out and find valuable

894
00:56:20,440 --> 00:56:26,380
information data targets and other

895
00:56:22,300 --> 00:56:27,730
things so this needle in a haystack you

896
00:56:26,380 --> 00:56:30,000
want to see what you can find that looks

897
00:56:27,730 --> 00:56:30,000
interesting

898
00:56:38,779 --> 00:56:51,779
so we're going to I'm what I'm doing

899
00:56:49,170 --> 00:56:55,410
here is I'm saying find on the root

900
00:56:51,779 --> 00:56:58,859
filesystem search every file there is

901
00:56:55,410 --> 00:57:02,190
everywhere and then I want to look at

902
00:56:58,859 --> 00:57:05,009
the output of that file ignore case - I

903
00:57:02,190 --> 00:57:07,829
make it a case insensitive search and I

904
00:57:05,009 --> 00:57:09,660
want to search for the word flag this

905
00:57:07,829 --> 00:57:11,999
tells me if there's anything named flag

906
00:57:09,660 --> 00:57:15,779
if I were actually a miscreant this

907
00:57:11,999 --> 00:57:20,759
might be fine star SSN star this might

908
00:57:15,779 --> 00:57:23,039
be find there are there are a couple

909
00:57:20,759 --> 00:57:25,650
other syntax things that find star s SN

910
00:57:23,039 --> 00:57:27,720
star was a different syntax for it but

911
00:57:25,650 --> 00:57:34,039
it in this way would be fine slash pipe

912
00:57:27,720 --> 00:57:39,569
grep - is in pipe grep - I credit card

913
00:57:34,039 --> 00:57:41,220
pipe grep - I pass words because this is

914
00:57:39,569 --> 00:57:44,519
a game and we're looking for flags let's

915
00:57:41,220 --> 00:57:45,930
search for flags you'll see that a lot

916
00:57:44,519 --> 00:57:49,049
of these things aired out and said

917
00:57:45,930 --> 00:57:51,859
permission denied on the file system I

918
00:57:49,049 --> 00:57:54,269
don't have access to everything there

919
00:57:51,859 --> 00:57:56,549
because I'm just a user I'm not route

920
00:57:54,269 --> 00:57:58,769
and some things like the proc file

921
00:57:56,549 --> 00:58:01,559
system and Linux literally everything is

922
00:57:58,769 --> 00:58:04,618
a file your video card is a file your

923
00:58:01,559 --> 00:58:06,930
sound card is a file your hard drive is

924
00:58:04,619 --> 00:58:09,630
a file there are special files that are

925
00:58:06,930 --> 00:58:14,308
handled in special ways but I can look

926
00:58:09,630 --> 00:58:16,349
at processes running on the system they

927
00:58:14,309 --> 00:58:19,170
have a file entry in your file system

928
00:58:16,349 --> 00:58:22,319
and so find it does weird things on some

929
00:58:19,170 --> 00:58:24,269
of these /proc slash cysts some of the

930
00:58:22,319 --> 00:58:26,640
systems that have the weird Linux files

931
00:58:24,269 --> 00:58:28,169
on them so you'll get some awful like

932
00:58:26,640 --> 00:58:31,319
this often that looks a little bit wonky

933
00:58:28,170 --> 00:58:37,650
it doesn't make sense to clean up my

934
00:58:31,319 --> 00:58:41,279
output I'm going to do that's what I

935
00:58:37,650 --> 00:58:42,329
meant to you I'm gonna get rid shouldn't

936
00:58:41,279 --> 00:58:46,920
that work

937
00:58:42,329 --> 00:58:51,959
oh thank you I was like wait a minute

938
00:58:46,920 --> 00:58:53,729
this should clean out my input this is

939
00:58:51,959 --> 00:58:57,709
another Linux trick that you it's

940
00:58:53,729 --> 00:59:00,178
totally unnecessary I'm just doing it to

941
00:58:57,709 --> 00:59:08,759
clean up the output so that it's easier

942
00:59:00,179 --> 00:59:10,920
to read so I did this just so you know

943
00:59:08,759 --> 00:59:14,069
and it doesn't confuse you too much

944
00:59:10,920 --> 00:59:15,630
dev Noll is a special file on this on

945
00:59:14,069 --> 00:59:16,319
Linux that says whatever comes here just

946
00:59:15,630 --> 00:59:19,170
throw it away

947
00:59:16,319 --> 00:59:21,779
I don't care any data that gets into

948
00:59:19,170 --> 00:59:25,439
this file I don't want and just delete

949
00:59:21,779 --> 00:59:29,249
the data immediately drop it and this to

950
00:59:25,439 --> 00:59:34,949
four or two greater than less than

951
00:59:29,249 --> 00:59:36,479
greater than greater than that says

952
00:59:34,949 --> 00:59:40,319
Linux has different outputs it does

953
00:59:36,479 --> 00:59:44,899
standard out standard error standard in

954
00:59:40,319 --> 00:59:48,089
and standard out as one standard out

955
00:59:44,900 --> 00:59:50,369
standard error is - I'm saying take

956
00:59:48,089 --> 00:59:52,469
standard error and that greater than

957
00:59:50,369 --> 00:59:54,029
redirects it to death Knoll so if it's

958
00:59:52,469 --> 00:59:55,939
an error message just throw it away and

959
00:59:54,029 --> 00:59:58,140
I don't even want to see it it existed

960
00:59:55,939 --> 01:00:01,890
it's kind of a nice trick for things

961
00:59:58,140 --> 01:00:04,578
like that I thought this one was named

962
01:00:01,890 --> 01:00:04,578
flag girls Oh

963
01:00:11,620 --> 01:00:21,049
this is better so the first step was to

964
01:00:17,680 --> 01:00:23,899
see if we had a file name like that we

965
01:00:21,050 --> 01:00:26,710
found no files these these files here

966
01:00:23,900 --> 01:00:29,000
are normal flight or normal files that

967
01:00:26,710 --> 01:00:32,750
don't look too interesting because they

968
01:00:29,000 --> 01:00:34,160
just exist within the file system you

969
01:00:32,750 --> 01:00:35,870
may not know that until you've actually

970
01:00:34,160 --> 01:00:39,710
been had experience and exposure

971
01:00:35,870 --> 01:00:41,150
Twinings but for the sake of time and to

972
01:00:39,710 --> 01:00:43,220
keep from going down rabbit holes and

973
01:00:41,150 --> 01:00:46,700
getting distracted there's nothing

974
01:00:43,220 --> 01:00:48,470
exciting in this output so next we want

975
01:00:46,700 --> 01:00:50,149
to look inside a files and see the

976
01:00:48,470 --> 01:00:52,100
content of files and see if anything

977
01:00:50,150 --> 01:00:55,490
happens to have the word flag in the

978
01:00:52,100 --> 01:00:58,029
file this is going to be bigger so I am

979
01:00:55,490 --> 01:00:58,029
going to

980
01:01:11,480 --> 01:01:16,740
I'm I am seeding your data here to

981
01:01:15,000 --> 01:01:22,109
simplify the search and keep you from

982
01:01:16,740 --> 01:01:24,359
having to search it's not very big it's

983
01:01:22,109 --> 01:01:30,450
only two gigabytes but rather than

984
01:01:24,359 --> 01:01:34,170
searching two gigabytes of data I'm

985
01:01:30,450 --> 01:01:39,270
going to seed your search with a root

986
01:01:34,170 --> 01:01:42,470
directory of etc' and I've got the same

987
01:01:39,270 --> 01:01:42,470
problem as before Oh

988
01:01:46,430 --> 01:01:53,640
so I again is ignore case R is recursive

989
01:01:50,430 --> 01:02:02,868
going to sub directories but I'm getting

990
01:01:53,640 --> 01:02:07,618
permission denied again all right I

991
01:02:02,869 --> 01:02:12,299
found the word flag a couple of times in

992
01:02:07,619 --> 01:02:18,029
here most of these look ok a farmer a

993
01:02:12,299 --> 01:02:21,390
farmer grub user ad/hd parm message of

994
01:02:18,029 --> 01:02:30,240
the day ok I think we've seen that one

995
01:02:21,390 --> 01:02:36,868
though we've seen that one st. Kong 2019

996
01:02:30,240 --> 01:02:40,879
readme because I did the - I you'll see

997
01:02:36,869 --> 01:02:44,039
that I my search was for lowercase flag

998
01:02:40,880 --> 01:02:46,700
but it found an uppercase flag because

999
01:02:44,039 --> 01:02:50,339
of again the lowercase I heard the - I

1000
01:02:46,700 --> 01:02:52,589
so we found the next flag here this is

1001
01:02:50,339 --> 01:02:54,750
showing you that as the miscreant as

1002
01:02:52,589 --> 01:02:57,900
you're in this attitude the first thing

1003
01:02:54,750 --> 01:02:59,460
you do then we as defenders as blue team

1004
01:02:57,900 --> 01:03:02,400
as really get excited and be like we

1005
01:02:59,460 --> 01:03:05,940
need to protect domain admin I need to

1006
01:03:02,400 --> 01:03:08,069
protect this system here as a miscreant

1007
01:03:05,940 --> 01:03:09,630
I don't care all if I get domain admin

1008
01:03:08,069 --> 01:03:13,799
domain admin it's the easy button so I

1009
01:03:09,630 --> 01:03:16,020
want it but honestly if I can find some

1010
01:03:13,799 --> 01:03:18,809
secretary that has an export of all of

1011
01:03:16,020 --> 01:03:20,920
the of last year's w-2 forms which I

1012
01:03:18,809 --> 01:03:22,900
found

1013
01:03:20,920 --> 01:03:24,070
that's way better than domain admin to

1014
01:03:22,900 --> 01:03:26,950
me because I have social security

1015
01:03:24,070 --> 01:03:29,110
numbers addresses birthdays I have

1016
01:03:26,950 --> 01:03:33,370
everything I need to sell identities

1017
01:03:29,110 --> 01:03:36,880
online they care about data we as

1018
01:03:33,370 --> 01:03:38,980
defenders care about systems and this is

1019
01:03:36,880 --> 01:03:41,620
to help you remember and remind you a

1020
01:03:38,980 --> 01:03:46,600
little bit to focus on the cysts are on

1021
01:03:41,620 --> 01:03:47,950
the data not on the systems so we've got

1022
01:03:46,600 --> 01:03:57,540
our next flag so let's come back over

1023
01:03:47,950 --> 01:04:00,040
here okay

1024
01:03:57,540 --> 01:04:01,779
depends on set me up Scottie so again

1025
01:04:00,040 --> 01:04:05,980
that's telling us we're already on on

1026
01:04:01,780 --> 01:04:13,180
the server we want to be there anybody

1027
01:04:05,980 --> 01:04:16,020
know what pseudo is or pseudo oh you're

1028
01:04:13,180 --> 01:04:19,870
right that was the setup script sorry

1029
01:04:16,020 --> 01:04:22,960
Elton's paying attention I'm not super

1030
01:04:19,870 --> 01:04:25,120
user do is a command on on on Linux

1031
01:04:22,960 --> 01:04:26,590
where everyone's familiar on Windows you

1032
01:04:25,120 --> 01:04:28,600
get to pop up would you like to run this

1033
01:04:26,590 --> 01:04:31,630
application as an administrator yes or

1034
01:04:28,600 --> 01:04:33,430
no pseudo is the same thing but you have

1035
01:04:31,630 --> 01:04:35,980
to say it before you run the application

1036
01:04:33,430 --> 01:04:38,470
you have to say run that application as

1037
01:04:35,980 --> 01:04:40,180
somebody else generally that somebody

1038
01:04:38,470 --> 01:04:43,990
else is root as the administrator

1039
01:04:40,180 --> 01:04:47,319
account so this is saying something's

1040
01:04:43,990 --> 01:04:49,209
going on probably with pseudo and on the

1041
01:04:47,320 --> 01:05:01,720
clients machine so let's go back to the

1042
01:04:49,210 --> 01:05:03,910
client machine and so pseudo is the

1043
01:05:01,720 --> 01:05:09,060
command it looks like the super su for

1044
01:05:03,910 --> 01:05:11,109
super user do with pseudo you can do - L

1045
01:05:09,060 --> 01:05:13,930
you can run a whole bunch of different

1046
01:05:11,110 --> 01:05:15,820
commands with pseudo the default is when

1047
01:05:13,930 --> 01:05:18,520
you install Ubuntu and most operating

1048
01:05:15,820 --> 01:05:20,860
systems they just put all of the users

1049
01:05:18,520 --> 01:05:23,170
in the pseudo group and all users can

1050
01:05:20,860 --> 01:05:24,850
run all commands as root they just have

1051
01:05:23,170 --> 01:05:28,210
to give their own personal password

1052
01:05:24,850 --> 01:05:29,740
first and that you give your own

1053
01:05:28,210 --> 01:05:31,180
password to make sure that like if I get

1054
01:05:29,740 --> 01:05:32,950
up and walk away from my computer and

1055
01:05:31,180 --> 01:05:34,598
you sit down at it and you were you sue

1056
01:05:32,950 --> 01:05:36,038
do you can't do anything

1057
01:05:34,599 --> 01:05:44,529
because if one more layer you have to my

1058
01:05:36,039 --> 01:05:46,329
password but let's do - L it I'm it

1059
01:05:44,529 --> 01:05:51,759
shouldn't matter where I'm at it's the

1060
01:05:46,329 --> 01:05:55,599
same and it tells me user L user which

1061
01:05:51,759 --> 01:06:01,720
is me may run the following commands on

1062
01:05:55,599 --> 01:06:03,640
Linux - client and how many guys paid

1063
01:06:01,720 --> 01:06:08,558
attention to news and heard about su -

1064
01:06:03,640 --> 01:06:10,479
last week in the news you'll notice it

1065
01:06:08,559 --> 01:06:12,400
was really played up and I was pretty

1066
01:06:10,479 --> 01:06:14,589
sensational about it for a while if

1067
01:06:12,400 --> 01:06:16,239
you're familiar with sudo and you look

1068
01:06:14,589 --> 01:06:20,589
at this you'll notice this is a pretty

1069
01:06:16,239 --> 01:06:22,180
stupid configuration for studio suit is

1070
01:06:20,589 --> 01:06:25,420
really cryptic and doesn't make a ton of

1071
01:06:22,180 --> 01:06:29,009
sense this says all users can run the

1072
01:06:25,420 --> 01:06:31,930
programs as anyone other than root

1073
01:06:29,009 --> 01:06:34,960
without a password but we've restricted

1074
01:06:31,930 --> 01:06:42,249
it to bin bash here sorry all users can

1075
01:06:34,960 --> 01:06:51,299
run programs not as root bigger and bash

1076
01:06:42,249 --> 01:06:51,299
oh oh sorry

1077
01:06:55,160 --> 01:07:01,049
so we can be we can be anyone other than

1078
01:06:58,740 --> 01:07:04,529
root as the short version and we can run

1079
01:07:01,049 --> 01:07:11,609
bash the vulnerability that came out

1080
01:07:04,530 --> 01:07:16,650
last week percent it's a type of percent

1081
01:07:11,609 --> 01:07:19,440
and pound - EU pound - one there is a

1082
01:07:16,650 --> 01:07:31,109
buffer rewrap rap what do you call that

1083
01:07:19,440 --> 01:07:33,599
it's not an overflow what's uh if I tell

1084
01:07:31,109 --> 01:07:36,720
it that I am a user - 1 so in Linux all

1085
01:07:33,599 --> 01:07:40,349
users have a user ID and all of the user

1086
01:07:36,720 --> 01:07:42,750
IDs are positive but if I have a weird

1087
01:07:40,349 --> 01:07:44,940
configuration and I tell it I'm minus 1

1088
01:07:42,750 --> 01:07:48,660
and I want to run this command that they

1089
01:07:44,940 --> 01:07:51,900
told me I could run then it does the

1090
01:07:48,660 --> 01:07:58,368
magic boot and says hey look you're

1091
01:07:51,900 --> 01:07:58,369
actually minus 1 overflows 2-0 raps to 0

1092
01:08:02,299 --> 01:08:13,430
which then makes me route so you look

1093
01:08:07,380 --> 01:08:13,430
here and I can do Who am I I am route

1094
01:08:15,679 --> 01:08:19,290
because of the way this works in the

1095
01:08:17,729 --> 01:08:28,108
directory it drops us out and how that

1096
01:08:19,290 --> 01:08:30,870
part goes so now we can get in here and

1097
01:08:28,109 --> 01:08:38,460
we get the route the flag for becoming

1098
01:08:30,870 --> 01:08:41,429
route on the system aren't we going the

1099
01:08:38,460 --> 01:08:44,189
right pace are we good faster slower

1100
01:08:41,429 --> 01:08:45,600
good ok are you guys learning anything

1101
01:08:44,189 --> 01:08:47,120
or are you just following along and

1102
01:08:45,600 --> 01:08:49,290
doing the same thing

1103
01:08:47,120 --> 01:08:51,269
are you get are you getting points or

1104
01:08:49,290 --> 01:08:53,069
understanding because if you're just

1105
01:08:51,270 --> 01:08:56,040
getting points let's ask questions and

1106
01:08:53,069 --> 01:08:58,819
get you understanding - let's make it as

1107
01:08:56,040 --> 01:08:58,819
useful as we can

1108
01:09:06,408 --> 01:09:23,818
what command does your command look like

1109
01:09:10,349 --> 01:09:25,469
this which what do you mean that is the

1110
01:09:23,819 --> 01:09:27,299
buffer overflow that they came out with

1111
01:09:25,469 --> 01:09:29,368
what pseudo so you have to have this

1112
01:09:27,299 --> 01:09:32,549
really obscure weird connection of all

1113
01:09:29,368 --> 01:09:38,278
that you run commands as anybody except

1114
01:09:32,549 --> 01:09:40,170
for route and then with this command you

1115
01:09:38,279 --> 01:09:46,039
can obscure it and get so you can run it

1116
01:09:40,170 --> 01:09:49,408
as route also yes

1117
01:09:46,038 --> 01:09:52,528
so the exploit sounds really really

1118
01:09:49,408 --> 01:09:54,480
scary until you realize just how obscure

1119
01:09:52,529 --> 01:09:57,929
and like I have never in my life seen a

1120
01:09:54,480 --> 01:09:59,489
Linux box set up this way I'm sure

1121
01:09:57,929 --> 01:10:02,130
somebody well clearly somebody has it

1122
01:09:59,489 --> 01:10:03,659
because they found it but it's obscure

1123
01:10:02,130 --> 01:10:06,230
enough that it sat there for decades and

1124
01:10:03,659 --> 01:10:06,230
no one caught it

1125
01:10:38,969 --> 01:10:44,750
functionally is to say that we're saying

1126
01:10:41,820 --> 01:10:44,750
user number

1127
01:11:07,090 --> 01:11:11,900
all right so as you guys all come in

1128
01:11:09,170 --> 01:11:15,140
here and see the flag in here become

1129
01:11:11,900 --> 01:11:20,629
rout with sudo cut that flag dot our

1130
01:11:15,140 --> 01:11:30,800
/root slash flag come back here to the

1131
01:11:20,630 --> 01:11:33,470
game board how do you say sequel so

1132
01:11:30,800 --> 01:11:37,700
remember we had a sequel server on the

1133
01:11:33,470 --> 01:11:42,940
other box right so we know something

1134
01:11:37,700 --> 01:11:42,940
somewhere is running sequel that was

1135
01:11:52,650 --> 01:12:01,599
how did I do which one control shift T

1136
01:11:58,620 --> 01:12:11,380
and now I just have its tab terminal up

1137
01:12:01,600 --> 01:12:14,380
top and this way I can bounce between

1138
01:12:11,380 --> 01:12:19,480
them so I know that we're running a post

1139
01:12:14,380 --> 01:12:23,020
grass database on 40.5 so that's

1140
01:12:19,480 --> 01:12:24,669
probably where I'm going to attack but

1141
01:12:23,020 --> 01:12:28,090
we can think a little bit about how are

1142
01:12:24,670 --> 01:12:30,330
we going to pivot from there most of

1143
01:12:28,090 --> 01:12:32,770
these labs if you think they're not

1144
01:12:30,330 --> 01:12:34,630
always but for a large part they're

1145
01:12:32,770 --> 01:12:35,890
built sequentially they're bit they're

1146
01:12:34,630 --> 01:12:38,620
built to start at the beginning and go

1147
01:12:35,890 --> 01:12:41,280
through it so let's see if we can find

1148
01:12:38,620 --> 01:12:41,280
anything

1149
01:12:53,190 --> 01:13:02,120
which one I okay

1150
01:13:06,229 --> 01:13:18,559
this is one that I was bringing other

1151
01:13:10,409 --> 01:13:18,558
fires all right

1152
01:13:21,329 --> 01:13:26,469
so you'll look here how do you find

1153
01:13:24,969 --> 01:13:31,989
history I remember now where we're going

1154
01:13:26,469 --> 01:13:32,949
with this so I showed you the control

1155
01:13:31,989 --> 01:13:35,409
our command right

1156
01:13:32,949 --> 01:13:38,019
how I can search through my history and

1157
01:13:35,409 --> 01:13:40,558
I can look at things I've done this data

1158
01:13:38,020 --> 01:13:42,820
is stored in this bash history file

1159
01:13:40,559 --> 01:13:45,159
thing is it doesn't just store what I've

1160
01:13:42,820 --> 01:13:47,230
done through this session and SSH it it

1161
01:13:45,159 --> 01:13:50,920
shows stores what I've done through all

1162
01:13:47,230 --> 01:13:52,269
sessions on this system sometimes you

1163
01:13:50,920 --> 01:13:54,070
get concurrency issues if you have

1164
01:13:52,270 --> 01:13:55,719
multiple sessions open but generally

1165
01:13:54,070 --> 01:14:03,179
this has every command you've run on

1166
01:13:55,719 --> 01:14:05,710
that box I'm one right way right ok so

1167
01:14:03,179 --> 01:14:07,000
you can also run the history command

1168
01:14:05,710 --> 01:14:09,670
like this to see everything that was

1169
01:14:07,000 --> 01:14:11,199
ever run there and you can see the

1170
01:14:09,670 --> 01:14:13,780
things I've done here's the studio I

1171
01:14:11,199 --> 01:14:18,280
used to escalate here's SSH going into

1172
01:14:13,780 --> 01:14:20,079
the other box looking at some things but

1173
01:14:18,280 --> 01:14:24,460
looks like my history the start of my

1174
01:14:20,079 --> 01:14:28,299
history is pretty interesting I have

1175
01:14:24,460 --> 01:14:31,050
done I've run Postgres from here and it

1176
01:14:28,300 --> 01:14:34,329
looks like somebody put the password

1177
01:14:31,050 --> 01:14:37,270
right in front of me and I have a

1178
01:14:34,329 --> 01:14:39,040
database name too so let's just try that

1179
01:14:37,270 --> 01:14:43,030
exact same thing let's see what happens

1180
01:14:39,040 --> 01:14:45,340
I can copy and paste what's here or

1181
01:14:43,030 --> 01:14:46,840
another Linux shortcut here you notice

1182
01:14:45,340 --> 01:14:49,780
how there's a number before all of these

1183
01:14:46,840 --> 01:14:52,630
commands on the side so there's six

1184
01:14:49,780 --> 01:14:55,079
seven eight nine I can do ctrl R and

1185
01:14:52,630 --> 01:14:57,849
search my history for this P SQL command

1186
01:14:55,079 --> 01:15:00,759
or another thing I can do is I can put

1187
01:14:57,849 --> 01:15:02,920
exclamation point and then the number at

1188
01:15:00,760 --> 01:15:05,530
the beginning of the command so I do

1189
01:15:02,920 --> 01:15:08,920
exclamation and up one and that runs

1190
01:15:05,530 --> 01:15:10,389
command one in my history you'll see it

1191
01:15:08,920 --> 01:15:13,059
typed out the command it's running right

1192
01:15:10,389 --> 01:15:14,469
here it ran it and I am now connected to

1193
01:15:13,059 --> 01:15:16,119
the database server over there because

1194
01:15:14,469 --> 01:15:21,929
it was a valid commanded when it was run

1195
01:15:16,119 --> 01:15:25,469
before back here

1196
01:15:21,929 --> 01:15:29,659
in the in the if you just type CD all by

1197
01:15:25,469 --> 01:15:29,659
itself it will go to your home directory

1198
01:15:33,860 --> 01:15:43,409
yeah okay so that we rel user at Linux

1199
01:15:40,379 --> 01:15:45,090
to client you do CD and you'll go to the

1200
01:15:43,409 --> 01:15:46,978
root directory you'll notice the bash

1201
01:15:45,090 --> 01:15:48,419
history or anywhere you're at you can

1202
01:15:46,979 --> 01:15:49,679
just type history you don't have to be

1203
01:15:48,419 --> 01:15:53,070
in the root directory to get this output

1204
01:15:49,679 --> 01:15:58,260
and we know that we want command number

1205
01:15:53,070 --> 01:16:07,379
one command number one drops us off in

1206
01:15:58,260 --> 01:16:16,260
Postgres this is where my Postgres my

1207
01:16:07,379 --> 01:16:24,090
database food was terrible so in here we

1208
01:16:16,260 --> 01:16:27,229
have data and extra credit and this is

1209
01:16:24,090 --> 01:16:31,709
like the extent of my sequel skills so

1210
01:16:27,229 --> 01:16:33,449
be generous I see that there's two two

1211
01:16:31,709 --> 01:16:34,559
tables in here and I just want to see

1212
01:16:33,449 --> 01:16:36,478
what information I can get out of these

1213
01:16:34,559 --> 01:16:39,269
tables so I want to select everything

1214
01:16:36,479 --> 01:16:44,399
and that just says grab all the data

1215
01:16:39,269 --> 01:16:47,369
from the table sweet there's another

1216
01:16:44,399 --> 01:16:51,139
flag while we're here there's another

1217
01:16:47,369 --> 01:16:51,139
table let's see what we can do right

1218
01:16:57,949 --> 01:17:04,969
dang it

1219
01:17:00,409 --> 01:17:04,969
now the two-for-one let's keep going

1220
01:17:08,389 --> 01:17:17,329
so now I am on the sequel server yeah

1221
01:17:19,610 --> 01:17:35,969
what which one okay so the slash D is

1222
01:17:27,570 --> 01:17:37,799
what I did first to get the description

1223
01:17:35,969 --> 01:17:39,409
of the of the database to see what's

1224
01:17:37,800 --> 01:17:44,389
there

1225
01:17:39,409 --> 01:17:44,388
sorry I said slash having a back slash

1226
01:17:45,409 --> 01:17:51,449
we got the data we could get out of

1227
01:17:47,579 --> 01:17:54,449
there we've done sudo right so this next

1228
01:17:51,449 --> 01:17:56,610
one says sue do you make me a sandwich

1229
01:17:54,449 --> 01:17:59,219
well let's see we've already runs to do

1230
01:17:56,610 --> 01:18:02,219
it on this box is there sudo on another

1231
01:17:59,219 --> 01:18:04,460
box we can get over to the other system

1232
01:18:02,219 --> 01:18:04,460
right

1233
01:18:10,610 --> 01:18:22,540
I need to get the password again so I

1234
01:18:18,860 --> 01:18:22,540
can login to the other side

1235
01:18:26,280 --> 01:18:37,740
Oh oh yeah yeah you're right you're

1236
01:18:33,720 --> 01:18:41,490
right again we're doing anything less to

1237
01:18:37,740 --> 01:18:46,110
do the best thing is to do a sudo - L

1238
01:18:41,490 --> 01:18:47,929
what can I do list the commands anybody

1239
01:18:46,110 --> 01:18:53,219
here familiar with them

1240
01:18:47,930 --> 01:18:55,380
aka the Hotel California of Linux the

1241
01:18:53,220 --> 01:18:56,880
everyone gets into vim and if you've

1242
01:18:55,380 --> 01:18:58,140
never been in there you're gonna hate it

1243
01:18:56,880 --> 01:19:03,300
you're gonna swear you need to know

1244
01:18:58,140 --> 01:19:04,710
escape : q you probably want to write

1245
01:19:03,300 --> 01:19:12,680
that down if you've never used them

1246
01:19:04,710 --> 01:19:12,680
escape : q what's that or x

1247
01:19:16,469 --> 01:19:20,199
if you don't know how to exit you

1248
01:19:18,940 --> 01:19:23,589
definitely don't want that

1249
01:19:20,199 --> 01:19:25,809
so vim is a text editor that is command

1250
01:19:23,590 --> 01:19:27,969
line based and once you get over the

1251
01:19:25,810 --> 01:19:29,949
learning curve you will never use

1252
01:19:27,969 --> 01:19:31,300
another editor again without swearing at

1253
01:19:29,949 --> 01:19:33,790
it and being pissed that it doesn't work

1254
01:19:31,300 --> 01:19:36,010
like vim does but until you get over

1255
01:19:33,790 --> 01:19:37,690
that learning curve you swear it vim for

1256
01:19:36,010 --> 01:19:41,050
working like nothing else in the entire

1257
01:19:37,690 --> 01:19:47,530
world unless you're an eMac user in

1258
01:19:41,050 --> 01:19:50,739
which case the doors back there so looks

1259
01:19:47,530 --> 01:19:54,370
like on this box I can run not vim but

1260
01:19:50,739 --> 01:19:58,629
VI as anybody so let's try this route

1261
01:19:54,370 --> 01:20:05,739
right I'm just going to grab this whole

1262
01:19:58,630 --> 01:20:07,239
command from that sudo - L and this is

1263
01:20:05,739 --> 01:20:11,070
something that you might do because your

1264
01:20:07,239 --> 01:20:14,980
database your DBA wants to get access to

1265
01:20:11,070 --> 01:20:16,540
update a configuration file or a web guy

1266
01:20:14,980 --> 01:20:19,059
wants to be able to edit your Apache

1267
01:20:16,540 --> 01:20:26,350
comm for your engine XCOM for whatever

1268
01:20:19,060 --> 01:20:32,290
file you've got which which user and

1269
01:20:26,350 --> 01:20:39,930
host are you on what is your okay so you

1270
01:20:32,290 --> 01:20:39,930
need to do ctrl R SSH and then hit enter

1271
01:20:43,280 --> 01:20:52,980
although they'll tell pew because I'm

1272
01:20:45,150 --> 01:20:57,000
confused now oh yeah so here I'm going

1273
01:20:52,980 --> 01:20:58,678
to run VI as route that's what remember

1274
01:20:57,000 --> 01:21:03,270
we talked about us to do does things as

1275
01:20:58,679 --> 01:21:05,130
different users so this lets me come in

1276
01:21:03,270 --> 01:21:06,540
here and edit this file this is

1277
01:21:05,130 --> 01:21:08,310
something that's pretty common you'll

1278
01:21:06,540 --> 01:21:16,370
have database users and other people do

1279
01:21:08,310 --> 01:21:16,370
this problem is but what's going on yeah

1280
01:21:17,330 --> 01:21:27,739
which server are you on did you write

1281
01:21:24,360 --> 01:21:30,809
the whole so you can only run one

1282
01:21:27,739 --> 01:21:34,589
command as route you have to have the

1283
01:21:30,810 --> 01:21:36,500
whole user bin VI Etsy sync on 20:19

1284
01:21:34,590 --> 01:21:40,790
kampf

1285
01:21:36,500 --> 01:21:44,540
if I change and I do VI Etsy sync on

1286
01:21:40,790 --> 01:21:46,400
20:19 you'll notice that it doesn't work

1287
01:21:44,540 --> 01:21:48,929
okay

1288
01:21:46,400 --> 01:21:50,699
so suit is kind of cool in that you can

1289
01:21:48,929 --> 01:21:53,280
specify you can only run this command

1290
01:21:50,699 --> 01:21:54,750
with this argument which is cool and you

1291
01:21:53,280 --> 01:21:56,580
think you're pretty secure right because

1292
01:21:54,750 --> 01:22:04,230
you can't edit any file I'm not just

1293
01:21:56,580 --> 01:22:05,370
giving you the editor right so your DBA

1294
01:22:04,230 --> 01:22:08,129
gets in here and edits your

1295
01:22:05,370 --> 01:22:11,059
configuration file let's come over here

1296
01:22:08,130 --> 01:22:11,060
find your flag

1297
01:22:16,010 --> 01:22:26,670
and let's say King me so while we're in

1298
01:22:22,740 --> 01:22:28,860
while we're in VI let's remember who

1299
01:22:26,670 --> 01:22:32,430
owns the process that's running VI right

1300
01:22:28,860 --> 01:22:36,000
now route this is the this

1301
01:22:32,430 --> 01:22:38,430
administrative process if only I could

1302
01:22:36,000 --> 01:22:46,730
make VI do something other than edit

1303
01:22:38,430 --> 01:22:46,730
files someone's played this game before

1304
01:22:49,790 --> 01:23:01,230
come on you have to remember not only

1305
01:22:59,850 --> 01:23:02,760
you're giving them access to that

1306
01:23:01,230 --> 01:23:07,259
program you're giving them access to

1307
01:23:02,760 --> 01:23:10,140
anything that program can do and so I

1308
01:23:07,260 --> 01:23:12,360
just used this text editor to become

1309
01:23:10,140 --> 01:23:14,880
route and get a full interactive

1310
01:23:12,360 --> 01:23:17,630
everything I want route share shell on

1311
01:23:14,880 --> 01:23:17,630
the system what's that

1312
01:23:28,940 --> 01:23:35,879
so inside of route you do a :

1313
01:23:32,840 --> 01:23:39,360
sorry inside event VI of M you do a

1314
01:23:35,880 --> 01:23:42,270
colon : is the command interface for VI

1315
01:23:39,360 --> 01:23:44,130
it's how you do searches it's how you do

1316
01:23:42,270 --> 01:23:46,500
replaces you can do a lot of things you

1317
01:23:44,130 --> 01:23:48,540
can set to get rid of the stupid Mouse

1318
01:23:46,500 --> 01:23:53,510
mode that they've changed VI to use

1319
01:23:48,540 --> 01:23:55,830
because someone's a sadistic moron if

1320
01:23:53,510 --> 01:23:57,270
you know what I'm talking about you

1321
01:23:55,830 --> 01:23:58,830
totally know what I'm talking about and

1322
01:23:57,270 --> 01:24:00,360
you also hate whoever made this choice

1323
01:23:58,830 --> 01:24:02,809
is that true does anyone know what I

1324
01:24:00,360 --> 01:24:02,809
mean by this

1325
01:24:12,170 --> 01:24:17,700
good to hear he so he said if you hear

1326
01:24:14,880 --> 01:24:20,310
that he said most plugins and/or most

1327
01:24:17,700 --> 01:24:21,750
editors have a vim plug-in or a vim mode

1328
01:24:20,310 --> 01:24:23,550
that you can put it in and gute use of

1329
01:24:21,750 --> 01:24:34,080
the Google Studio One it's particularly

1330
01:24:23,550 --> 01:24:36,000
nice a visual of es code one I'm I'm a

1331
01:24:34,080 --> 01:24:37,800
little bit ashamed and shocked to admit

1332
01:24:36,000 --> 01:24:41,240
how much I like the s code on Linux

1333
01:24:37,800 --> 01:24:45,030
don't let that get too far out there but

1334
01:24:41,240 --> 01:24:46,710
it's much better i I I started using it

1335
01:24:45,030 --> 01:24:48,210
to prove someone how bad it would be and

1336
01:24:46,710 --> 01:24:52,470
how much I would hate it and then I

1337
01:24:48,210 --> 01:24:56,730
didn't have any hate to share and I was

1338
01:24:52,470 --> 01:25:01,370
pleasantly surprised so once you're in

1339
01:24:56,730 --> 01:25:01,370
here you do the bin bash

1340
01:25:04,719 --> 01:25:12,369
and there you get to get that last flag

1341
01:25:08,489 --> 01:25:15,308
you have now totally walked through to

1342
01:25:12,369 --> 01:25:18,039
complete Linux servers all based on Miss

1343
01:25:15,309 --> 01:25:19,989
configuration you got full

1344
01:25:18,039 --> 01:25:22,630
administrative access and two Linux

1345
01:25:19,989 --> 01:25:24,669
servers in actual configuration errors

1346
01:25:22,630 --> 01:25:27,280
that I have well with the exception of

1347
01:25:24,670 --> 01:25:29,110
the sudo bug from last week actual

1348
01:25:27,280 --> 01:25:31,150
configuration error errors that I have

1349
01:25:29,110 --> 01:25:35,199
seen on production systems in my

1350
01:25:31,150 --> 01:25:36,909
environment or someone else's these are

1351
01:25:35,199 --> 01:25:39,129
things that we need to watch out for and

1352
01:25:36,909 --> 01:25:41,499
do and the whole point of these labs is

1353
01:25:39,130 --> 01:25:45,179
to do that to teach you these things to

1354
01:25:41,499 --> 01:25:47,650
say it's not always out-of-date systems

1355
01:25:45,179 --> 01:25:49,090
one of the one of the labs has some

1356
01:25:47,650 --> 01:25:50,679
out-of-date systems and it shows you how

1357
01:25:49,090 --> 01:25:52,679
fun you can have some of the out-of-date

1358
01:25:50,679 --> 01:25:56,199
plugins if people aren't running patches

1359
01:25:52,679 --> 01:26:01,449
but really security is not I run patches

1360
01:25:56,199 --> 01:26:05,219
I'm safe security is ayran patches and

1361
01:26:01,449 --> 01:26:07,690
to have a secure configuration and I

1362
01:26:05,219 --> 01:26:09,249
audit my configurations to validate that

1363
01:26:07,690 --> 01:26:11,379
all the systems are in compliance with

1364
01:26:09,249 --> 01:26:13,780
my configuration and I have endpoint

1365
01:26:11,380 --> 01:26:16,719
response or input EDR or some sort of

1366
01:26:13,780 --> 01:26:18,639
endpoint protection to monitor that and

1367
01:26:16,719 --> 01:26:22,420
I audit my logs and I've watched my

1368
01:26:18,639 --> 01:26:24,340
traffic and I security is layers and if

1369
01:26:22,420 --> 01:26:28,030
you're only doing one piece of it you're

1370
01:26:24,340 --> 01:26:30,610
not doing all of security and so I hope

1371
01:26:28,030 --> 01:26:32,920
that you guys can come in here and learn

1372
01:26:30,610 --> 01:26:34,869
more about these things we've totally

1373
01:26:32,920 --> 01:26:39,820
cleared out that whole column and the

1374
01:26:34,869 --> 01:26:48,308
game board I think you guys have all

1375
01:26:39,820 --> 01:26:51,130
done all of Linux - now you guys all

1376
01:26:48,309 --> 01:26:52,960
should probably be reasonably close and

1377
01:26:51,130 --> 01:26:54,940
reasonably high on the leaderboard that

1378
01:26:52,960 --> 01:26:58,900
means you're all reasonably close to

1379
01:26:54,940 --> 01:27:02,799
some fun prizes I would encourage you to

1380
01:26:58,900 --> 01:27:03,969
keep working on these keep going all

1381
01:27:02,800 --> 01:27:05,469
that I was going to do is make it

1382
01:27:03,969 --> 01:27:07,119
through that Linux two column so we've

1383
01:27:05,469 --> 01:27:09,460
covered everything I wanted to in here

1384
01:27:07,119 --> 01:27:10,749
do you guys have more questions more

1385
01:27:09,460 --> 01:27:13,019
things you want to talk about what do

1386
01:27:10,749 --> 01:27:13,019
you want to

1387
01:27:14,309 --> 01:27:24,400
what's that yes oh sorry it can be

1388
01:27:23,230 --> 01:27:25,989
anywhere you can play this from your

1389
01:27:24,400 --> 01:27:32,860
hotel you can play this from your home

1390
01:27:25,989 --> 01:27:35,879
oh I see what you're saying I

1391
01:27:32,860 --> 01:27:35,880
misunderstood the question

1392
01:27:37,079 --> 01:27:46,869
yes containers is downstairs with Victor

1393
01:27:44,469 --> 01:27:49,179
via from open west if you know who he is

1394
01:27:46,869 --> 01:27:51,190
he and his he and Corbin are doing a

1395
01:27:49,179 --> 01:27:52,840
container security thing that you do

1396
01:27:51,190 --> 01:27:56,860
have to be physically present downstairs

1397
01:27:52,840 --> 01:28:05,949
for wireless is an SSID that is

1398
01:27:56,860 --> 01:28:09,489
broadcast downstairs Sheva any other

1399
01:28:05,949 --> 01:28:11,169
questions comments thoughts you've

1400
01:28:09,489 --> 01:28:12,400
rolled through the first lab I showed

1401
01:28:11,170 --> 01:28:14,260
you at the very beginning if you just

1402
01:28:12,400 --> 01:28:16,780
hit control D a few times you can back

1403
01:28:14,260 --> 01:28:24,040
out of where you're at control D is the

1404
01:28:16,780 --> 01:28:25,570
same as Exeter quit it's in the file so

1405
01:28:24,040 --> 01:28:27,340
in it we have to peel back all the

1406
01:28:25,570 --> 01:28:30,340
layers and get all the way back to the

1407
01:28:27,340 --> 01:28:31,030
callee box once we're back to the Kelly

1408
01:28:30,340 --> 01:28:33,250
box

1409
01:28:31,030 --> 01:28:35,500
remember it's lab - I to get the

1410
01:28:33,250 --> 01:28:39,309
information about where we're at if you

1411
01:28:35,500 --> 01:28:44,650
want to do another one go ahead and hit

1412
01:28:39,309 --> 01:28:46,420
Linux one and you'll notice now that

1413
01:28:44,650 --> 01:28:48,308
everything I had before is blown away

1414
01:28:46,420 --> 01:28:50,440
all the virtual machines are gone and

1415
01:28:48,309 --> 01:28:52,059
there are new virtual machines in their

1416
01:28:50,440 --> 01:28:53,230
place if I run in map again I get

1417
01:28:52,059 --> 01:28:58,030
completely different results because

1418
01:28:53,230 --> 01:28:59,739
it's new target machines if you are a

1419
01:28:58,030 --> 01:29:01,929
little bit more on the beginner side I

1420
01:28:59,739 --> 01:29:06,428
would recommend you not go to Linux one

1421
01:29:01,929 --> 01:29:07,960
next Linux one is totally doable and you

1422
01:29:06,429 --> 01:29:09,550
can find all the information but it is a

1423
01:29:07,960 --> 01:29:10,119
little bit more of an advanced to some

1424
01:29:09,550 --> 01:29:13,210
of the other ones

1425
01:29:10,119 --> 01:29:15,219
the Recon one for next is a great one to

1426
01:29:13,210 --> 01:29:17,170
do it really just walks you through a

1427
01:29:15,219 --> 01:29:19,030
lot of ways to get recon and say what

1428
01:29:17,170 --> 01:29:21,130
services are there and what data can get

1429
01:29:19,030 --> 01:29:22,809
can I get out of these services you

1430
01:29:21,130 --> 01:29:26,050
don't do as much compromising of the

1431
01:29:22,809 --> 01:29:26,480
remote system you do more gathering data

1432
01:29:26,050 --> 01:29:36,410
from

1433
01:29:26,480 --> 01:29:37,940
from exposed services this 81 don't do

1434
01:29:36,410 --> 01:29:40,400
that one because we need to finish a

1435
01:29:37,940 --> 01:29:42,259
little bit on it you can do the first

1436
01:29:40,400 --> 01:29:45,440
few steps but the last steps aren't

1437
01:29:42,260 --> 01:29:48,320
working yet so wait an hour and then do

1438
01:29:45,440 --> 01:29:51,019
81 and this 81 is pretty similar to

1439
01:29:48,320 --> 01:29:52,969
Linux to Linux - it's just walking

1440
01:29:51,020 --> 01:29:58,520
through a Windows client in Windows

1441
01:29:52,970 --> 01:30:01,490
Server and again that's a 20-19 server

1442
01:29:58,520 --> 01:30:04,910
and at Windows 10 client both fully

1443
01:30:01,490 --> 01:30:06,410
patched fully up to date but you can

1444
01:30:04,910 --> 01:30:10,490
still walk right through them and get

1445
01:30:06,410 --> 01:30:14,630
straight to domain admin walked being a

1446
01:30:10,490 --> 01:30:17,540
relative term I guess that one's not

1447
01:30:14,630 --> 01:30:19,610
ready we have to fix a bug in it you can

1448
01:30:17,540 --> 01:30:24,019
get on to the client box but you can't

1449
01:30:19,610 --> 01:30:25,460
get into Active Directory yet we'll put

1450
01:30:24,020 --> 01:30:31,610
it out and slack when that's ready to go

1451
01:30:25,460 --> 01:30:34,340
100 percent let's have a question there

1452
01:30:31,610 --> 01:30:35,900
are prizes for so this is a this game

1453
01:30:34,340 --> 01:30:38,240
board is just like the regular hackers

1454
01:30:35,900 --> 01:30:43,820
challenge game board and there are

1455
01:30:38,240 --> 01:30:45,290
leaders of the game board so right here

1456
01:30:43,820 --> 01:30:48,440
you can see who's doing what and where

1457
01:30:45,290 --> 01:30:50,870
their overall game ranking data beam is

1458
01:30:48,440 --> 01:30:54,019
Bret huntzinger he's currently in lead

1459
01:30:50,870 --> 01:30:56,360
is this on the stack-on or whatever are

1460
01:30:54,020 --> 01:31:00,650
you in here I talked to him like a

1461
01:30:56,360 --> 01:31:02,660
little bit yesterday anyway you guys are

1462
01:31:00,650 --> 01:31:04,219
probably all I'm guessing you're all

1463
01:31:02,660 --> 01:31:08,330
these eight 50s and eight hundred right

1464
01:31:04,220 --> 01:31:14,960
here and you're totally within striking

1465
01:31:08,330 --> 01:31:17,750
distance you're six puzzles behind the

1466
01:31:14,960 --> 01:31:19,850
peat the first place person and that's

1467
01:31:17,750 --> 01:31:21,170
just the Recon one the Recon is roughly

1468
01:31:19,850 --> 01:31:24,170
the same difficulty is the one you just

1469
01:31:21,170 --> 01:31:27,320
did the Linux - so you guys are not far

1470
01:31:24,170 --> 01:31:28,670
out of lead so you have chance you have

1471
01:31:27,320 --> 01:31:31,670
a good chance if you put some time into

1472
01:31:28,670 --> 01:31:35,420
this and the prizes are I don't actually

1473
01:31:31,670 --> 01:31:36,860
remember one of them about prizes for

1474
01:31:35,420 --> 01:31:38,360
three different things and I'm worried

1475
01:31:36,860 --> 01:31:39,889
if I tell you which prizes we should get

1476
01:31:38,360 --> 01:31:43,490
mad at me because you're like no you

1477
01:31:39,890 --> 01:31:44,960
so that was because I you know the

1478
01:31:43,490 --> 01:31:48,889
prizes are good they're all things I

1479
01:31:44,960 --> 01:31:50,390
wanted to own first price first-place

1480
01:31:48,890 --> 01:31:52,010
prize is like a hundred and thirty

1481
01:31:50,390 --> 01:31:54,110
dollars one hundred forty dollar range

1482
01:31:52,010 --> 01:31:57,950
second place second places like they go

1483
01:31:54,110 --> 01:31:59,210
down from there but there you're not

1484
01:31:57,950 --> 01:32:04,519
winning the lottery but you go home

1485
01:31:59,210 --> 01:32:06,050
happy so keep working on this get your

1486
01:32:04,520 --> 01:32:09,350
friends to do it work together

1487
01:32:06,050 --> 01:32:11,510
I still say even if the most important

1488
01:32:09,350 --> 01:32:12,950
thing is not the prize it is finding the

1489
01:32:11,510 --> 01:32:14,930
guy next to you and say hey let's just

1490
01:32:12,950 --> 01:32:17,990
go back and work on these together you

1491
01:32:14,930 --> 01:32:19,130
seem you know you and I are skill sets

1492
01:32:17,990 --> 01:32:20,420
complement each other let's work

1493
01:32:19,130 --> 01:32:24,470
together and figure these out and get

1494
01:32:20,420 --> 01:32:26,960
going I think for me personally I think

1495
01:32:24,470 --> 01:32:29,570
that the biggest sell of the con is the

1496
01:32:26,960 --> 01:32:31,340
connections you make and the best way to

1497
01:32:29,570 --> 01:32:33,410
make connections is to go hole up in

1498
01:32:31,340 --> 01:32:34,640
some corner with somebody and put your

1499
01:32:33,410 --> 01:32:36,080
heads together and fight through

1500
01:32:34,640 --> 01:32:37,820
something that neither one of you really

1501
01:32:36,080 --> 01:32:39,350
understands but between the two of you

1502
01:32:37,820 --> 01:32:42,170
and Google or the four of you and Google

1503
01:32:39,350 --> 01:32:44,120
or however big your group is you figure

1504
01:32:42,170 --> 01:32:45,800
it out and you get through it and I've

1505
01:32:44,120 --> 01:32:47,210
developed some great friendships doing

1506
01:32:45,800 --> 01:32:49,220
things like this and I highly recommend

1507
01:32:47,210 --> 01:32:51,770
you do the same thing like it's it's an

1508
01:32:49,220 --> 01:32:54,430
awesome thing to do so other questions

1509
01:32:51,770 --> 01:32:54,430
comments thoughts

1510
01:32:57,699 --> 01:33:05,898
yeah we will take we absolutely give

1511
01:33:02,959 --> 01:33:09,169
hints if you're lost come talk to the

1512
01:33:05,899 --> 01:33:12,309
come talk to us downstairs and the st.

1513
01:33:09,169 --> 01:33:17,389
Conn labs or or talk to us on slack or

1514
01:33:12,309 --> 01:33:19,159
however you can get ahold of us and it's

1515
01:33:17,389 --> 01:33:20,269
just that it's like we said I was saying

1516
01:33:19,159 --> 01:33:22,518
about Zev like today in my presentation

1517
01:33:20,269 --> 01:33:24,379
the whole reason we do this is to teach

1518
01:33:22,519 --> 01:33:27,260
people we want to see people learn and

1519
01:33:24,379 --> 01:33:29,030
grow and laughing at you does not help

1520
01:33:27,260 --> 01:33:32,329
you learn or grow it just helps you get

1521
01:33:29,030 --> 01:33:34,009
pissed so when you're stuck that means

1522
01:33:32,329 --> 01:33:35,749
we're not doing it right so tell us and

1523
01:33:34,010 --> 01:33:37,129
we would love to fix that for you and

1524
01:33:35,749 --> 01:33:42,019
help you grow and help you figure these

1525
01:33:37,129 --> 01:33:43,369
things out all right no other questions

1526
01:33:42,019 --> 01:33:45,890
thanks for coming everybody I hope you

1527
01:33:43,369 --> 01:33:49,299
learned something I hope you had fun

1528
01:33:45,890 --> 01:33:49,299
[Applause]

