1
00:00:00,000 --> 00:00:04,280
what's up everybody how we doing today

2
00:00:05,100 --> 00:00:07,379
it's kind of weird I'm usually like a

3
00:00:07,379 --> 00:00:09,540
last talk at Saint Khan so kind of in

4
00:00:09,540 --> 00:00:10,920
the middle of the afternoon a little bit

5
00:00:10,920 --> 00:00:12,660
after lunch everybody gets some good

6
00:00:12,660 --> 00:00:15,179
food and it's ready for this y'all ready

7
00:00:15,179 --> 00:00:16,740
for this

8
00:00:16,740 --> 00:00:18,660
oh I don't know if I am we'll see how it

9
00:00:18,660 --> 00:00:19,560
goes

10
00:00:19,560 --> 00:00:22,080
how's it going everybody

11
00:00:22,080 --> 00:00:24,300
I am we'll go ahead and get started I

12
00:00:24,300 --> 00:00:26,580
hope everyone's ready uh I am Mike

13
00:00:26,580 --> 00:00:29,220
Spicer also uh Dark Matter on the

14
00:00:29,220 --> 00:00:32,098
twitters I'm a security senior engineer

15
00:00:32,098 --> 00:00:34,860
uh for a company called secure Yeti uh

16
00:00:34,860 --> 00:00:36,420
you might know me from a few of my

17
00:00:36,420 --> 00:00:38,880
previous projects in the past like the

18
00:00:38,880 --> 00:00:42,000
Wi-Fi Cactus the Wi-Fi Kraken a little

19
00:00:42,000 --> 00:00:44,879
tool I wrote called decaffeinator

20
00:00:44,879 --> 00:00:46,739
um I have a little storage company a

21
00:00:46,739 --> 00:00:48,360
little side project working on with my

22
00:00:48,360 --> 00:00:49,920
friend called Apex storage where we're

23
00:00:49,920 --> 00:00:54,059
making pcie 4 and pci5 Hardware uh me

24
00:00:54,059 --> 00:00:55,620
and my friend kataro we have the

25
00:00:55,620 --> 00:00:57,300
wireless show that we do every

26
00:00:57,300 --> 00:01:00,539
Tuesday night every now and then uh just

27
00:01:00,539 --> 00:01:03,539
talk about Wireless stuff uh that's also

28
00:01:03,539 --> 00:01:05,280
on the YouTubes um I like mountain

29
00:01:05,280 --> 00:01:08,100
biking running all those snowboarding oh

30
00:01:08,100 --> 00:01:10,380
and of course Pokemon go I feel like

31
00:01:10,380 --> 00:01:12,720
that's one thing that got me really into

32
00:01:12,720 --> 00:01:15,780
uh collecting Wireless and doing things

33
00:01:15,780 --> 00:01:18,600
is playing Pokemon Right Wireless got to

34
00:01:18,600 --> 00:01:20,759
catch all the wireless Pokemons you got

35
00:01:20,759 --> 00:01:23,040
to catch all the Pokemons so anyways if

36
00:01:23,040 --> 00:01:24,540
you want to play some Pokemon and do

37
00:01:24,540 --> 00:01:25,799
some raids we've got some pretty cool

38
00:01:25,799 --> 00:01:27,600
stuff happening Pokemon go

39
00:01:27,600 --> 00:01:30,299
but that's not why you're here is it

40
00:01:30,299 --> 00:01:32,939
all right today I kind of have a

41
00:01:32,939 --> 00:01:35,040
different take on things and normally

42
00:01:35,040 --> 00:01:37,200
I'm I'm the wireless guy I've been known

43
00:01:37,200 --> 00:01:39,180
as a one-trick pony here there just talk

44
00:01:39,180 --> 00:01:41,579
about Wi-Fi and whatnot today I thought

45
00:01:41,579 --> 00:01:43,140
it would be fun to talk to you about

46
00:01:43,140 --> 00:01:46,020
kind of uh my

47
00:01:46,020 --> 00:01:48,360
um journey through pen testing through

48
00:01:48,360 --> 00:01:50,460
the last year but also like make it an

49
00:01:50,460 --> 00:01:52,320
introduction so that it can be expanded

50
00:01:52,320 --> 00:01:54,780
for everyone so mostly what I want to

51
00:01:54,780 --> 00:01:56,460
talk about today is give you a quick

52
00:01:56,460 --> 00:01:59,700
introduction and to what my take is on

53
00:01:59,700 --> 00:02:02,640
what pen testing and offsec is useful

54
00:02:02,640 --> 00:02:05,040
skills that you should have and I want

55
00:02:05,040 --> 00:02:07,160
to talk about kind of the hacker mindset

56
00:02:07,160 --> 00:02:09,179
identifying targets figure out those

57
00:02:09,179 --> 00:02:11,520
vulnerabilities the approach that I

58
00:02:11,520 --> 00:02:14,160
usually take when I'm on an engagement I

59
00:02:14,160 --> 00:02:16,200
want to then dive into like scanning in

60
00:02:16,200 --> 00:02:18,000
depth and I want to do some demos and

61
00:02:18,000 --> 00:02:19,560
show you some of the tools that I want

62
00:02:19,560 --> 00:02:21,720
to use or that I like to use we'll talk

63
00:02:21,720 --> 00:02:24,000
about some of the attacks in depth and

64
00:02:24,000 --> 00:02:25,620
then we'll get into some post

65
00:02:25,620 --> 00:02:28,440
exploitation and finally you can't have

66
00:02:28,440 --> 00:02:29,879
a talk like this without mentioning

67
00:02:29,879 --> 00:02:33,120
printers right because printers for I

68
00:02:33,120 --> 00:02:35,099
don't know why they keep staying around

69
00:02:35,099 --> 00:02:37,260
they are always around us so we might

70
00:02:37,260 --> 00:02:39,120
wrap up with a few fun stories about

71
00:02:39,120 --> 00:02:42,000
printers since I didn't want to bring a

72
00:02:42,000 --> 00:02:43,680
printer with me I figure maybe next year

73
00:02:43,680 --> 00:02:45,480
that'll be my project put a printer on

74
00:02:45,480 --> 00:02:48,120
my back and then finally we'll close out

75
00:02:48,120 --> 00:02:51,300
uh talking about some defense mechanisms

76
00:02:51,300 --> 00:02:53,280
and we'll go from there if we have time

77
00:02:53,280 --> 00:02:55,140
this might be a little bit like Jason's

78
00:02:55,140 --> 00:02:57,300
this morning where it's like if we have

79
00:02:57,300 --> 00:02:59,280
time we'll get to the defense Parts if

80
00:02:59,280 --> 00:03:03,360
not it's cool we're all offensive today

81
00:03:03,360 --> 00:03:06,360
introduction here to offsex so to me

82
00:03:06,360 --> 00:03:09,239
what offsec is is it's hacking breaking

83
00:03:09,239 --> 00:03:11,580
stuff getting rude abusing permissions

84
00:03:11,580 --> 00:03:14,340
getting that malware in on those systems

85
00:03:14,340 --> 00:03:16,140
being able to make things do what

86
00:03:16,140 --> 00:03:18,060
they're not supposed to make things do

87
00:03:18,060 --> 00:03:20,340
what potentially the group policy was

88
00:03:20,340 --> 00:03:24,360
forgot to set to do uh also when you

89
00:03:24,360 --> 00:03:26,159
you're doing these things sometimes your

90
00:03:26,159 --> 00:03:29,580
root and uh you know like there's the

91
00:03:29,580 --> 00:03:32,720
the the the phrase that Defcon DF uh

92
00:03:32,720 --> 00:03:36,659
dfiu I almost dfiu the phrase uh don't

93
00:03:36,659 --> 00:03:38,159
mess it up

94
00:03:38,159 --> 00:03:40,680
um and uh or do I don't care I'm not

95
00:03:40,680 --> 00:03:42,299
your dad I'm not the one responsible for

96
00:03:42,299 --> 00:03:43,920
the systems you're going to be doing so

97
00:03:43,920 --> 00:03:46,019
uh some of the backgrounds that I think

98
00:03:46,019 --> 00:03:48,480
have really helped me get where I am and

99
00:03:48,480 --> 00:03:50,459
be able to do the type of engagements

100
00:03:50,459 --> 00:03:52,739
and things that I do is probably number

101
00:03:52,739 --> 00:03:54,239
one having like a really strong

102
00:03:54,239 --> 00:03:56,159
networking background so a little bit

103
00:03:56,159 --> 00:03:58,019
about my background I did

104
00:03:58,019 --> 00:04:00,540
um I did a wireless internet company uh

105
00:04:00,540 --> 00:04:02,519
down in little Southern Utah for a while

106
00:04:02,519 --> 00:04:04,440
some years years ago and that gave me

107
00:04:04,440 --> 00:04:07,080
like a really good background in

108
00:04:07,080 --> 00:04:09,060
networking like there's nothing better

109
00:04:09,060 --> 00:04:11,040
than having customers call you in the

110
00:04:11,040 --> 00:04:12,780
middle of the morning or middle of the

111
00:04:12,780 --> 00:04:15,180
night because they can't get on their

112
00:04:15,180 --> 00:04:16,738
YouTubes or they can't get onto their

113
00:04:16,738 --> 00:04:19,500
streaming media and you start learning

114
00:04:19,500 --> 00:04:21,600
how networking can break really fast and

115
00:04:21,600 --> 00:04:22,860
when things are broken you figure out

116
00:04:22,860 --> 00:04:24,660
how to fix it so I think having a

117
00:04:24,660 --> 00:04:25,979
fundamental understanding of network

118
00:04:25,979 --> 00:04:28,979
allows you the to understanding to how

119
00:04:28,979 --> 00:04:31,800
you can fix it from there I think

120
00:04:31,800 --> 00:04:34,160
another huge important thing because

121
00:04:34,160 --> 00:04:36,620
ninety percent of the corporate world

122
00:04:36,620 --> 00:04:41,220
runs on Windows uh and so just by

123
00:04:41,220 --> 00:04:43,860
default learning active directory is

124
00:04:43,860 --> 00:04:46,680
going to really Empower you because

125
00:04:46,680 --> 00:04:47,880
that's the environments you're going to

126
00:04:47,880 --> 00:04:50,280
be hacking in on all the engagements

127
00:04:50,280 --> 00:04:52,919
that I've done this year so far I think

128
00:04:52,919 --> 00:04:56,400
only two or three out of like 30 have

129
00:04:56,400 --> 00:04:58,919
actually had anything that wasn't active

130
00:04:58,919 --> 00:05:01,680
directory and those systems were usually

131
00:05:01,680 --> 00:05:04,800
like on their own networks are segmented

132
00:05:04,800 --> 00:05:06,080
off or

133
00:05:06,080 --> 00:05:08,820
or there's there's Cloud servers so

134
00:05:08,820 --> 00:05:09,540
whenever you're dealing with

135
00:05:09,540 --> 00:05:11,460
workstations in office environments

136
00:05:11,460 --> 00:05:13,020
things like that's usually active

137
00:05:13,020 --> 00:05:14,820
directory which gets us to the next part

138
00:05:14,820 --> 00:05:17,460
if it's on the internet and it's serving

139
00:05:17,460 --> 00:05:20,940
things 90 of the cloud actually is Linux

140
00:05:20,940 --> 00:05:23,220
computers so another really important

141
00:05:23,220 --> 00:05:25,320
thing to learn is get yourself some

142
00:05:25,320 --> 00:05:28,620
Linux Unix uh freebsds and things like

143
00:05:28,620 --> 00:05:30,660
that get some of that knowledge in it so

144
00:05:30,660 --> 00:05:32,759
that way when you're approaching all

145
00:05:32,759 --> 00:05:35,100
these different pieces of equipment uh

146
00:05:35,100 --> 00:05:37,020
and even doing Cloud you're really

147
00:05:37,020 --> 00:05:39,060
comfortable in that environment next up

148
00:05:39,060 --> 00:05:40,919
I would say definitely get you some

149
00:05:40,919 --> 00:05:42,960
programming chops so my background is in

150
00:05:42,960 --> 00:05:44,340
computer science I graduated from

151
00:05:44,340 --> 00:05:48,300
Southern Utah University go T-Birds uh

152
00:05:48,300 --> 00:05:50,880
and uh with computer science degrees

153
00:05:50,880 --> 00:05:52,800
definitely helped me because you can go

154
00:05:52,800 --> 00:05:54,300
through and you can do burp and you can

155
00:05:54,300 --> 00:05:56,639
click things one at a time but when you

156
00:05:56,639 --> 00:05:59,280
have a Target list of a thousand hosts

157
00:05:59,280 --> 00:06:01,320
I'm not clicking web pages for a

158
00:06:01,320 --> 00:06:03,120
thousand hosts I want to script that I

159
00:06:03,120 --> 00:06:04,680
wanted to be able to be repeatable I

160
00:06:04,680 --> 00:06:07,560
want things to happen uh all at once and

161
00:06:07,560 --> 00:06:10,440
also I found by writing my own tools it

162
00:06:10,440 --> 00:06:11,940
actually will help me be faster so I

163
00:06:11,940 --> 00:06:13,080
would say pick up a language like

164
00:06:13,080 --> 00:06:15,660
program like python rather

165
00:06:15,660 --> 00:06:17,460
um it would be my recommendation for a

166
00:06:17,460 --> 00:06:19,380
language to start or hey I guess

167
00:06:19,380 --> 00:06:21,660
everyone's in go in security now so go

168
00:06:21,660 --> 00:06:23,699
jump on the Go Bus I haven't started

169
00:06:23,699 --> 00:06:25,139
learning go yet and if you want to get

170
00:06:25,139 --> 00:06:27,360
really serious go learn rust because

171
00:06:27,360 --> 00:06:29,400
apparently that's the new hotness that

172
00:06:29,400 --> 00:06:31,440
is going to be in the Linux is in the

173
00:06:31,440 --> 00:06:34,979
Linux kernel now so uh go rust

174
00:06:34,979 --> 00:06:37,139
uh and then hack tools just becoming

175
00:06:37,139 --> 00:06:40,380
familiar with hack tools 99 of my job is

176
00:06:40,380 --> 00:06:42,180
interacting with different hack tools

177
00:06:42,180 --> 00:06:43,560
which you're going to see today because

178
00:06:43,560 --> 00:06:45,600
this is going to be a talk that's more

179
00:06:45,600 --> 00:06:47,699
of a smorgasbord of different tools and

180
00:06:47,699 --> 00:06:50,100
techniques that uh um that I go through

181
00:06:50,100 --> 00:06:52,620
and things that I do and finally you got

182
00:06:52,620 --> 00:06:55,139
to be an expert with Microsoft Office or

183
00:06:55,139 --> 00:06:57,900
Google Docs or LibreOffice whichever one

184
00:06:57,900 --> 00:06:59,639
but you got to be proficient with the

185
00:06:59,639 --> 00:07:02,160
word processor why because nobody's

186
00:07:02,160 --> 00:07:04,080
paying you unless you write a report

187
00:07:04,080 --> 00:07:06,660
explaining what you did so like make

188
00:07:06,660 --> 00:07:08,340
sure you got your reports your

189
00:07:08,340 --> 00:07:10,860
Powerpoints and sometimes Excel so you

190
00:07:10,860 --> 00:07:13,500
can make cool graphs and pivot tables so

191
00:07:13,500 --> 00:07:16,319
then people will uh understand what you

192
00:07:16,319 --> 00:07:17,940
actually did to their Network

193
00:07:17,940 --> 00:07:20,220
all right time to think like a hacker

194
00:07:20,220 --> 00:07:24,020
how many of us in here are hackers

195
00:07:24,599 --> 00:07:26,940
what all of you raise your hands we're

196
00:07:26,940 --> 00:07:28,740
all hackers we can all be hackers

197
00:07:28,740 --> 00:07:29,639
everything

198
00:07:29,639 --> 00:07:32,220
every scene of us it's a mindset it's

199
00:07:32,220 --> 00:07:34,020
it's who it's who we are it's the way we

200
00:07:34,020 --> 00:07:36,660
approach things it's not just we're

201
00:07:36,660 --> 00:07:38,400
breaking into a system or we're we're

202
00:07:38,400 --> 00:07:40,560
doing something it's about thinking and

203
00:07:40,560 --> 00:07:42,300
being more Curious and looking at

204
00:07:42,300 --> 00:07:44,819
systems a way that

205
00:07:44,819 --> 00:07:47,280
not it's not based off of its normal

206
00:07:47,280 --> 00:07:49,500
intended use

207
00:07:49,500 --> 00:07:51,780
another thing to think about too is

208
00:07:51,780 --> 00:07:54,180
there's so much available out in the

209
00:07:54,180 --> 00:07:55,800
world that's passive and freely

210
00:07:55,800 --> 00:07:58,139
available to us and we'll jump into some

211
00:07:58,139 --> 00:08:00,479
examples here in a minute

212
00:08:00,479 --> 00:08:02,520
um there's so much available free

213
00:08:02,520 --> 00:08:03,960
information out there and we just have

214
00:08:03,960 --> 00:08:05,460
to figure out how do we collect the

215
00:08:05,460 --> 00:08:08,699
connect these dots also verify things

216
00:08:08,699 --> 00:08:11,160
don't just trust do you think that the

217
00:08:11,160 --> 00:08:12,960
firewall is set up right and it's like

218
00:08:12,960 --> 00:08:15,780
yeah the rules are in there but are the

219
00:08:15,780 --> 00:08:17,639
rules really doing what you think they

220
00:08:17,639 --> 00:08:20,160
do have you actually tested them also

221
00:08:20,160 --> 00:08:21,599
one thing that I've found over this last

222
00:08:21,599 --> 00:08:23,099
year that's been really important is

223
00:08:23,099 --> 00:08:25,199
trusting my instincts when I look at a

224
00:08:25,199 --> 00:08:26,819
web application when I'm doing like a

225
00:08:26,819 --> 00:08:28,560
web app pen test and I feel like there

226
00:08:28,560 --> 00:08:30,539
might be a vulnerability odds are

227
00:08:30,539 --> 00:08:31,919
there's something there there's

228
00:08:31,919 --> 00:08:33,179
something there's a reason that's

229
00:08:33,179 --> 00:08:35,159
triggering why I might want to dig

230
00:08:35,159 --> 00:08:36,958
deeper on something so trust your

231
00:08:36,958 --> 00:08:39,120
instincts because odds are there's

232
00:08:39,120 --> 00:08:40,740
something somebody has forgotten about

233
00:08:40,740 --> 00:08:43,140
that you may be able to find

234
00:08:43,140 --> 00:08:44,520
all right I'm gonna give you a quick

235
00:08:44,520 --> 00:08:46,080
rundown on the approach and then we're

236
00:08:46,080 --> 00:08:47,459
gonna dive into these things a little

237
00:08:47,459 --> 00:08:49,320
bit deeper

238
00:08:49,320 --> 00:08:51,060
um so number one the first thing I like

239
00:08:51,060 --> 00:08:53,339
to do is Recon so I usually try to

240
00:08:53,339 --> 00:08:55,860
approach a Target completely passively

241
00:08:55,860 --> 00:08:58,080
how can I find out about that Target

242
00:08:58,080 --> 00:09:00,300
without them ever knowing I've done

243
00:09:00,300 --> 00:09:02,700
anything to them so this like I had

244
00:09:02,700 --> 00:09:05,779
mentioned Showdown this includes shoden

245
00:09:05,779 --> 00:09:08,880
archive.org uh using other social media

246
00:09:08,880 --> 00:09:11,040
websites you know LinkedIn uh Jason

247
00:09:11,040 --> 00:09:12,899
showed a perfect example of Instagram

248
00:09:12,899 --> 00:09:15,120
people posting up pictures of buildings

249
00:09:15,120 --> 00:09:17,640
things like that what sort of Recon can

250
00:09:17,640 --> 00:09:20,040
you get without actually interacting

251
00:09:20,040 --> 00:09:22,140
with the servers or the targets that are

252
00:09:22,140 --> 00:09:24,120
in scope that's what I like to do first

253
00:09:24,120 --> 00:09:25,860
gather that piece of information and

254
00:09:25,860 --> 00:09:27,120
then from there I'll use that

255
00:09:27,120 --> 00:09:29,820
information to do very targeted active

256
00:09:29,820 --> 00:09:33,060
uh uh active attacks from that point so

257
00:09:33,060 --> 00:09:34,800
for example example we'll look for

258
00:09:34,800 --> 00:09:36,180
vulnerability scans we'll look for

259
00:09:36,180 --> 00:09:38,160
Banner grabs and we'll start interacting

260
00:09:38,160 --> 00:09:39,959
with web pages depending on the type of

261
00:09:39,959 --> 00:09:42,420
Engagement it is next up is exploits

262
00:09:42,420 --> 00:09:44,220
this is where you taken your information

263
00:09:44,220 --> 00:09:45,959
that you've gotten from your active face

264
00:09:45,959 --> 00:09:48,360
figure out what things will likely

265
00:09:48,360 --> 00:09:50,339
succeed what things that you can throw

266
00:09:50,339 --> 00:09:52,320
at them and just start throwing things

267
00:09:52,320 --> 00:09:54,540
and hopefully your payloads stick and

268
00:09:54,540 --> 00:09:56,700
you can get a foothold because the next

269
00:09:56,700 --> 00:09:59,279
step is to persist you got to be able to

270
00:09:59,279 --> 00:10:01,920
persist in an environment if you don't

271
00:10:01,920 --> 00:10:04,980
then it's you're not going to be able to

272
00:10:04,980 --> 00:10:07,140
get as far so for example I recently was

273
00:10:07,140 --> 00:10:09,120
on engagement where I ran into a

274
00:10:09,120 --> 00:10:11,820
situation where they had Eternal blue

275
00:10:11,820 --> 00:10:14,160
was able to get in was able to get

276
00:10:14,160 --> 00:10:16,620
through the machine and then I got a

277
00:10:16,620 --> 00:10:19,019
shell and then the shell quit and it

278
00:10:19,019 --> 00:10:20,640
just died for no reason I'm like is it

279
00:10:20,640 --> 00:10:22,860
my internet is it this long story long

280
00:10:22,860 --> 00:10:25,140
turns out they had a very Advanced xdr

281
00:10:25,140 --> 00:10:27,060
solution that finally caught on that I

282
00:10:27,060 --> 00:10:28,740
had got to it so let me do all the bad

283
00:10:28,740 --> 00:10:30,360
things but then as soon as I try to go

284
00:10:30,360 --> 00:10:33,720
even better it cut me off so that was

285
00:10:33,720 --> 00:10:36,660
highly frustrating uh and it completely

286
00:10:36,660 --> 00:10:38,339
destroyed my ability to do further

287
00:10:38,339 --> 00:10:40,500
damage inside the network so uh

288
00:10:40,500 --> 00:10:43,080
persisting is extremely important also

289
00:10:43,080 --> 00:10:45,060
you got to get the data out having

290
00:10:45,060 --> 00:10:46,680
screenshots that you were able to do

291
00:10:46,680 --> 00:10:48,480
something is one thing but you gotta

292
00:10:48,480 --> 00:10:50,100
also pull the data out so you got to

293
00:10:50,100 --> 00:10:52,320
have some sort of exfiltration all right

294
00:10:52,320 --> 00:10:54,180
so let's talk a little bit here about

295
00:10:54,180 --> 00:10:57,360
scanning in depth

296
00:10:57,360 --> 00:11:01,459
water water is good

297
00:11:02,459 --> 00:11:04,500
with the passive

298
00:11:04,500 --> 00:11:06,600
uh with the passive oh that thing

299
00:11:06,600 --> 00:11:08,880
doesn't sit good with the passive uh

300
00:11:08,880 --> 00:11:10,980
opens or open source intelligence what I

301
00:11:10,980 --> 00:11:13,019
usually like to do is quietly observe

302
00:11:13,019 --> 00:11:15,360
like like I'm watching from afar

303
00:11:15,360 --> 00:11:17,700
figuring out what's going on so I want

304
00:11:17,700 --> 00:11:19,260
to show you a couple examples of what

305
00:11:19,260 --> 00:11:21,720
that could look like and today our

306
00:11:21,720 --> 00:11:23,160
Target

307
00:11:23,160 --> 00:11:27,140
is going to be Saint Khan

308
00:11:27,180 --> 00:11:30,180
and because I'm super effective at this

309
00:11:30,180 --> 00:11:32,279
I have already made some really dope

310
00:11:32,279 --> 00:11:34,079
links for some of my favorite things to

311
00:11:34,079 --> 00:11:37,079
do so the first thing we might need to

312
00:11:37,079 --> 00:11:39,899
zoom this in just a skosh here I don't

313
00:11:39,899 --> 00:11:41,459
know if you see what I did there in the

314
00:11:41,459 --> 00:11:44,959
URL but if you go to web.archive.org web

315
00:11:44,959 --> 00:11:48,600
slash and Then star slash URL and Then

316
00:11:48,600 --> 00:11:51,000
star what it's going to do is it's going

317
00:11:51,000 --> 00:11:54,720
to show us the entire cache directory of

318
00:11:54,720 --> 00:11:56,700
all of the things and pages that this

319
00:11:56,700 --> 00:11:59,700
website has had so

320
00:11:59,700 --> 00:12:01,680
there might be something hiding that

321
00:12:01,680 --> 00:12:04,140
somebody had left on the website up for

322
00:12:04,140 --> 00:12:06,000
a few days or something way back machine

323
00:12:06,000 --> 00:12:09,000
may have crawled it also side note go

324
00:12:09,000 --> 00:12:11,880
get the Wayback machine uh uh plug-in

325
00:12:11,880 --> 00:12:14,519
and make sure your targets uh are

326
00:12:14,519 --> 00:12:16,740
actively being crawled so that that way

327
00:12:16,740 --> 00:12:18,660
you know we can we can always make sure

328
00:12:18,660 --> 00:12:20,820
check year after year uh the different

329
00:12:20,820 --> 00:12:22,079
things that are happening on the website

330
00:12:22,079 --> 00:12:23,519
so

331
00:12:23,519 --> 00:12:26,339
by doing this we can get a very thorough

332
00:12:26,339 --> 00:12:28,620
layout of all of the pages and links and

333
00:12:28,620 --> 00:12:30,240
things that are happening on Arc from

334
00:12:30,240 --> 00:12:32,220
archive.org that gives us a really good

335
00:12:32,220 --> 00:12:33,839
insight into where we could start

336
00:12:33,839 --> 00:12:35,880
attacking one thing that can happen too

337
00:12:35,880 --> 00:12:38,339
is people will forget about things and

338
00:12:38,339 --> 00:12:40,380
they'll leave old versions of parts of

339
00:12:40,380 --> 00:12:42,240
websites up so you might even be able to

340
00:12:42,240 --> 00:12:45,360
find old vulnerabilities that you didn't

341
00:12:45,360 --> 00:12:47,820
know were there from just browsing and

342
00:12:47,820 --> 00:12:49,380
crawling the main website you go to

343
00:12:49,380 --> 00:12:51,420
archive.org and it turns out they've

344
00:12:51,420 --> 00:12:54,300
left something up here like an example

345
00:12:54,300 --> 00:12:56,880
would be I think I saw somewhere in here

346
00:12:56,880 --> 00:12:59,660
when I was just messing around yeah like

347
00:12:59,660 --> 00:13:02,459
granted this is this is Saint Khan and

348
00:13:02,459 --> 00:13:04,860
and they keep an archive of all of the

349
00:13:04,860 --> 00:13:06,360
pages but let's say they had

350
00:13:06,360 --> 00:13:08,880
accidentally left a registration page up

351
00:13:08,880 --> 00:13:10,980
we could look at that old registration

352
00:13:10,980 --> 00:13:13,200
page then cross-reference it and see if

353
00:13:13,200 --> 00:13:15,480
there's any sort of uh vulnerabilities

354
00:13:15,480 --> 00:13:18,420
or functions that could be used there so

355
00:13:18,420 --> 00:13:22,500
a little fun little tool tool tool for

356
00:13:22,500 --> 00:13:25,200
you to to go after after the next one

357
00:13:25,200 --> 00:13:27,959
that I like is showdown of course

358
00:13:27,959 --> 00:13:31,139
I thought I had my Showdown open

359
00:13:31,139 --> 00:13:33,360
apparently I closed it anyways Showdown

360
00:13:33,360 --> 00:13:37,320
Io if

361
00:13:37,440 --> 00:13:39,839
if you don't have a user for Showdown

362
00:13:39,839 --> 00:13:41,880
it's you get quite a bit of queries for

363
00:13:41,880 --> 00:13:43,380
free there's a lot of fun stuff you can

364
00:13:43,380 --> 00:13:46,740
do with shoden so like for example uh

365
00:13:46,740 --> 00:13:48,899
there's a number of like

366
00:13:48,899 --> 00:13:49,920
um

367
00:13:49,920 --> 00:13:52,079
we can go explore and we can look at

368
00:13:52,079 --> 00:13:54,360
like popular tags we can look at like

369
00:13:54,360 --> 00:13:57,420
webcams and like we can just quickly

370
00:13:57,420 --> 00:14:01,380
find I like to always look at the uh

371
00:14:01,380 --> 00:14:03,779
let's just see what some some of the

372
00:14:03,779 --> 00:14:06,800
available webcams are

373
00:14:06,860 --> 00:14:09,720
no results found

374
00:14:09,720 --> 00:14:12,120
so

375
00:14:12,120 --> 00:14:14,459
I thought I had a thing up anyways but

376
00:14:14,459 --> 00:14:16,260
this is what I like to get to so we can

377
00:14:16,260 --> 00:14:18,899
look at where these are where are these

378
00:14:18,899 --> 00:14:20,459
different links are coming from where

379
00:14:20,459 --> 00:14:22,800
these ones oh I know what I did see I

380
00:14:22,800 --> 00:14:24,959
knew this is going to be a problem I

381
00:14:24,959 --> 00:14:27,500
added

382
00:14:28,200 --> 00:14:32,279
I added a tab for it getting ahead of

383
00:14:32,279 --> 00:14:35,820
myself sweet uh and so yeah so

384
00:14:35,820 --> 00:14:38,480
somebody's all probably already

385
00:14:38,480 --> 00:14:41,639
crawled and gone through the pieces of

386
00:14:41,639 --> 00:14:44,339
information that you might need so this

387
00:14:44,339 --> 00:14:46,560
specific example shows all these cameras

388
00:14:46,560 --> 00:14:49,440
uh that are publicly accessible and you

389
00:14:49,440 --> 00:14:50,880
know maybe it's benign it's not the big

390
00:14:50,880 --> 00:14:52,740
of a deal but sometimes people leave

391
00:14:52,740 --> 00:14:54,300
information out on the internet that

392
00:14:54,300 --> 00:14:55,680
shouldn't there's been a number of

393
00:14:55,680 --> 00:14:57,779
really fun Twitter accounts I'm trying

394
00:14:57,779 --> 00:14:59,339
to remember I can't think of who they

395
00:14:59,339 --> 00:15:00,899
are but there's a number of people that

396
00:15:00,899 --> 00:15:03,420
are just like show dance spelunkers that

397
00:15:03,420 --> 00:15:05,279
just sit on Showdown all day long and

398
00:15:05,279 --> 00:15:06,720
look for interesting things and then

399
00:15:06,720 --> 00:15:08,820
they they're like why is this connected

400
00:15:08,820 --> 00:15:10,860
to the internet why why is this wide

401
00:15:10,860 --> 00:15:13,500
open to the internet I remember when uh

402
00:15:13,500 --> 00:15:15,360
the Eternal blue vulnerability first

403
00:15:15,360 --> 00:15:18,000
came out Showdown was a treasure Trove

404
00:15:18,000 --> 00:15:19,920
for script kitties for people finding

405
00:15:19,920 --> 00:15:23,040
those uh misconfigured systems that were

406
00:15:23,040 --> 00:15:24,899
directly connected to the internet also

407
00:15:24,899 --> 00:15:26,519
it gives you a really solid starting

408
00:15:26,519 --> 00:15:28,680
point for your Target so you can go

409
00:15:28,680 --> 00:15:30,360
ahead and enter your IP address of

410
00:15:30,360 --> 00:15:33,600
whatever your your IP or IP range and

411
00:15:33,600 --> 00:15:36,000
you can get a really good idea and they

412
00:15:36,000 --> 00:15:37,740
have some historical data too so you

413
00:15:37,740 --> 00:15:40,079
again you can see what some of the

414
00:15:40,079 --> 00:15:43,380
things that have been uh been active

415
00:15:43,380 --> 00:15:45,120
what sort of ports might have been

416
00:15:45,120 --> 00:15:47,459
opened uh that you might be able to

417
00:15:47,459 --> 00:15:49,620
still reach or that may have gotten shut

418
00:15:49,620 --> 00:15:51,480
down or misconfigured or maybe they just

419
00:15:51,480 --> 00:15:53,519
it's a server that gets or a computer

420
00:15:53,519 --> 00:15:55,680
that gets turned off every night like or

421
00:15:55,680 --> 00:15:58,199
every day something happens so I would

422
00:15:58,199 --> 00:15:59,880
always start with Showdown and check

423
00:15:59,880 --> 00:16:01,440
that

424
00:16:01,440 --> 00:16:03,360
um yeah here's the the archive.org

425
00:16:03,360 --> 00:16:04,860
there's the see I knew there was

426
00:16:04,860 --> 00:16:06,540
something about a registration it was in

427
00:16:06,540 --> 00:16:09,300
my brain I just took the screenshots uh

428
00:16:09,300 --> 00:16:11,940
anyways so yeah so the archive.org stuff

429
00:16:11,940 --> 00:16:13,860
that can be really interesting uh

430
00:16:13,860 --> 00:16:15,720
especially when you can look way back

431
00:16:15,720 --> 00:16:17,399
into a company's history that when maybe

432
00:16:17,399 --> 00:16:19,920
they didn't have their webs uh their web

433
00:16:19,920 --> 00:16:22,800
site as secured as they should

434
00:16:22,800 --> 00:16:25,740
another one that I absolutely love and

435
00:16:25,740 --> 00:16:27,540
I'm a huge proponent of and have the

436
00:16:27,540 --> 00:16:31,199
jacket on today wiggle.net uh any any

437
00:16:31,199 --> 00:16:34,680
War drivers Among Us any War drivers a

438
00:16:34,680 --> 00:16:37,139
few of you a few of you okay so what

439
00:16:37,139 --> 00:16:39,300
everyone needs to do is first if you

440
00:16:39,300 --> 00:16:41,459
don't have an Android phone go buy a 50

441
00:16:41,459 --> 00:16:44,459
or 70 dollar Samsung S7 or S9 on eBay

442
00:16:44,459 --> 00:16:47,220
then download wiggle.net on it it

443
00:16:47,220 --> 00:16:48,720
doesn't work on Apple that's why I'm

444
00:16:48,720 --> 00:16:50,040
saying you have to have an Android phone

445
00:16:50,040 --> 00:16:52,139
and then what you can do is once you

446
00:16:52,139 --> 00:16:53,459
have it open you can just start

447
00:16:53,459 --> 00:16:55,199
collecting Wi-Fi and then you score

448
00:16:55,199 --> 00:16:57,360
points and get on a leaderboard and then

449
00:16:57,360 --> 00:17:00,240
you can beat me and then you can go on

450
00:17:00,240 --> 00:17:03,540
Twitter about beating me and then it's

451
00:17:03,540 --> 00:17:07,679
and it's not hard apparently uh so what

452
00:17:07,679 --> 00:17:10,559
wiggle is is wiggle is is a collection

453
00:17:10,559 --> 00:17:13,740
of wireless networks that people have

454
00:17:13,740 --> 00:17:15,540
net stumbled from all over the world

455
00:17:15,540 --> 00:17:18,480
over Defcon there was what was it 20

456
00:17:18,480 --> 00:17:21,119
million I think new networks that were

457
00:17:21,119 --> 00:17:23,220
discovered uh during the time frame

458
00:17:23,220 --> 00:17:24,660
around there there was a worldwide war

459
00:17:24,660 --> 00:17:26,880
Drive uh competition so a lot of people

460
00:17:26,880 --> 00:17:28,620
got together scanned these wireless

461
00:17:28,620 --> 00:17:31,320
networks and what you can do with that

462
00:17:31,320 --> 00:17:33,679
is

463
00:17:33,679 --> 00:17:36,179
we're going to come into here so over

464
00:17:36,179 --> 00:17:38,220
here I've been running one of my most

465
00:17:38,220 --> 00:17:40,220
favorite softwares of all time called

466
00:17:40,220 --> 00:17:42,960
Kismet or yeah Kismet

467
00:17:42,960 --> 00:17:45,539
if I can push the right buttons here so

468
00:17:45,539 --> 00:17:47,700
Kismet I'm throwing a lot of things out

469
00:17:47,700 --> 00:17:49,200
here if you've seen any of my previous

470
00:17:49,200 --> 00:17:51,000
talks I've talked a lot about Kismet

471
00:17:51,000 --> 00:17:54,780
Kismet is a wireless analysis tool so

472
00:17:54,780 --> 00:17:56,100
what it allows us to do is it's

473
00:17:56,100 --> 00:17:57,960
capturing the Wi-Fi right now so I just

474
00:17:57,960 --> 00:18:00,000
have a laptop sitting up here with the

475
00:18:00,000 --> 00:18:02,039
wireless adapter attached to it and I'm

476
00:18:02,039 --> 00:18:04,559
just Gathering Wi-Fi and so I'm

477
00:18:04,559 --> 00:18:06,900
specifically looking at like some

478
00:18:06,900 --> 00:18:10,020
sankcon Wi-Fi uh let's see let's look at

479
00:18:10,020 --> 00:18:11,760
some of the ssids that if people have

480
00:18:11,760 --> 00:18:14,960
been beaconing while I've been capturing

481
00:18:14,960 --> 00:18:18,480
uh we'll just I feel like bike fan that

482
00:18:18,480 --> 00:18:20,400
one should be a fun one let's go we're

483
00:18:20,400 --> 00:18:22,679
gonna go to wiggle now so what's

484
00:18:22,679 --> 00:18:25,200
happened is somebody's device has

485
00:18:25,200 --> 00:18:27,480
beaconed out at some point and said bike

486
00:18:27,480 --> 00:18:30,179
fan and what I'm going to do is I'm

487
00:18:30,179 --> 00:18:32,160
going to because that's kind of a little

488
00:18:32,160 --> 00:18:34,020
bit of a unique one if that's your

489
00:18:34,020 --> 00:18:35,700
network I'm sorry I mean you're the one

490
00:18:35,700 --> 00:18:38,880
that beaconed it so uh not my fault

491
00:18:38,880 --> 00:18:41,520
we're just gonna go ahead and just come

492
00:18:41,520 --> 00:18:43,260
to wiggle we're going to search search

493
00:18:43,260 --> 00:18:46,100
the map here

494
00:18:48,600 --> 00:18:50,580
and we're going to search for just the

495
00:18:50,580 --> 00:18:53,880
SSID called bike actually let's just do

496
00:18:53,880 --> 00:18:56,220
a basic search because that'll make it

497
00:18:56,220 --> 00:18:58,679
easier we're going to do bike fam was

498
00:18:58,679 --> 00:19:02,400
that what it was I do believe so bike

499
00:19:02,400 --> 00:19:05,960
fam just like Oh No E no e on that one

500
00:19:05,960 --> 00:19:09,120
even better so the more unique the SSID

501
00:19:09,120 --> 00:19:11,580
the easier it is to uh

502
00:19:11,580 --> 00:19:13,799
to try to find let's see if anybody's

503
00:19:13,799 --> 00:19:16,400
wiggled it

504
00:19:18,000 --> 00:19:19,980
maybe we'll go to the advanced search

505
00:19:19,980 --> 00:19:21,660
here we might have to choose another one

506
00:19:21,660 --> 00:19:24,660
this is this is all on the Fly who knows

507
00:19:24,660 --> 00:19:26,940
what we're gonna find

508
00:19:26,940 --> 00:19:29,340
looks like bike fam is not let's try

509
00:19:29,340 --> 00:19:31,380
with the E and see if we can find

510
00:19:31,380 --> 00:19:33,299
something there if not we'll do Saint

511
00:19:33,299 --> 00:19:34,919
con because I know that one's there

512
00:19:34,919 --> 00:19:37,380
there we go hey look we found some bike

513
00:19:37,380 --> 00:19:39,960
fam I wonder if any of these are close

514
00:19:39,960 --> 00:19:42,059
to us it looks like

515
00:19:42,059 --> 00:19:45,720
the most recent one was 2020 and look at

516
00:19:45,720 --> 00:19:47,940
there it was actually in Draper I'm not

517
00:19:47,940 --> 00:19:49,320
going to zoom in too much because this

518
00:19:49,320 --> 00:19:52,440
could probably be somebody's house

519
00:19:52,440 --> 00:19:55,740
um the the uh was that was beaconing so

520
00:19:55,740 --> 00:19:57,539
somebody literally just beaconed out

521
00:19:57,539 --> 00:19:59,880
from their phone I collected that with

522
00:19:59,880 --> 00:20:01,500
my laptop now and then I'm

523
00:20:01,500 --> 00:20:03,539
cross-referencing it with all these

524
00:20:03,539 --> 00:20:06,179
people who have just War driven and it

525
00:20:06,179 --> 00:20:07,740
may have been me because I've driven a

526
00:20:07,740 --> 00:20:09,059
little bit around Salt Lake it had been

527
00:20:09,059 --> 00:20:11,400
conf it might have been my friend Kim it

528
00:20:11,400 --> 00:20:12,720
might have been any one of us that was

529
00:20:12,720 --> 00:20:14,880
the one that actually gathered it but as

530
00:20:14,880 --> 00:20:16,320
you can see we're combining these

531
00:20:16,320 --> 00:20:18,240
multiple data sources to get some

532
00:20:18,240 --> 00:20:20,160
intelligence on it so let's say you're

533
00:20:20,160 --> 00:20:23,220
on an engagement and you know the SSID

534
00:20:23,220 --> 00:20:25,020
of the engagement you can go to Wiggle

535
00:20:25,020 --> 00:20:26,940
you can look at the physical layout you

536
00:20:26,940 --> 00:20:28,620
can look at what the wireless networks

537
00:20:28,620 --> 00:20:30,539
look like because odds are there's

538
00:20:30,539 --> 00:20:32,400
probably been somebody

539
00:20:32,400 --> 00:20:34,740
that stumbled the wireless network

540
00:20:34,740 --> 00:20:37,440
somewhere so I just I'm zooming out here

541
00:20:37,440 --> 00:20:39,360
to give you an idea of how many networks

542
00:20:39,360 --> 00:20:41,720
that have been stumbled around the US

543
00:20:41,720 --> 00:20:44,460
and it's not just in the US it's

544
00:20:44,460 --> 00:20:47,580
actually worldwide so

545
00:20:47,580 --> 00:20:49,200
um yeah

546
00:20:49,200 --> 00:20:51,419
so go wiggle go get involved with war

547
00:20:51,419 --> 00:20:53,880
driving it's fun it's super helpful for

548
00:20:53,880 --> 00:20:55,740
people like me for the cross referencing

549
00:20:55,740 --> 00:20:57,360
it could be helpful for you for

550
00:20:57,360 --> 00:20:58,799
cross-referencing finding out what your

551
00:20:58,799 --> 00:21:00,720
things is can also give you a good

552
00:21:00,720 --> 00:21:04,440
justification for uh using very generic

553
00:21:04,440 --> 00:21:06,960
um Wireless SS IDs like FBI surveillance

554
00:21:06,960 --> 00:21:10,460
fan because there's millions of those

555
00:21:11,280 --> 00:21:14,760
uh so that's wiggle

556
00:21:14,760 --> 00:21:16,440
it's a great starting place for doing

557
00:21:16,440 --> 00:21:17,940
assessments especially a wireless

558
00:21:17,940 --> 00:21:19,620
assessment if you're going to go through

559
00:21:19,620 --> 00:21:21,840
and do some pen testing gives you an

560
00:21:21,840 --> 00:21:24,059
idea of networks uh and also what the

561
00:21:24,059 --> 00:21:25,679
capabilities are too one thing I kind of

562
00:21:25,679 --> 00:21:28,140
glossed over uh let me just jump back

563
00:21:28,140 --> 00:21:30,960
one screen here when we did this bike

564
00:21:30,960 --> 00:21:32,580
fan we can also see what the wireless

565
00:21:32,580 --> 00:21:35,039
security is uh

566
00:21:35,039 --> 00:21:39,419
um go go gadget load so like for example

567
00:21:39,419 --> 00:21:42,120
if it's WPA2 we already know that we

568
00:21:42,120 --> 00:21:43,500
could probably D auth we might be able

569
00:21:43,500 --> 00:21:45,840
to get a handshake and we could then try

570
00:21:45,840 --> 00:21:47,580
to crack it so I'm already ready to go

571
00:21:47,580 --> 00:21:49,679
with what I could do to attack that

572
00:21:49,679 --> 00:21:51,299
Network and I haven't even stepped foot

573
00:21:51,299 --> 00:21:53,039
I haven't done anything other than

574
00:21:53,039 --> 00:21:55,740
passively collected data passively

575
00:21:55,740 --> 00:21:58,320
scanned gone to a website and you have

576
00:21:58,320 --> 00:21:59,640
no idea that I've just done this

577
00:21:59,640 --> 00:22:02,780
reconnaissance on you

578
00:22:03,299 --> 00:22:04,919
um let's see anything else about wiggle

579
00:22:04,919 --> 00:22:07,679
it's awesome go use wiggle go use Kismet

580
00:22:07,679 --> 00:22:10,440
freaking Wireless tools are amazing and

581
00:22:10,440 --> 00:22:12,840
super helpful hey I kind of combined

582
00:22:12,840 --> 00:22:14,340
these two man I'm kind of all over the

583
00:22:14,340 --> 00:22:15,900
place with this they're all see here's

584
00:22:15,900 --> 00:22:17,460
the thing about when you're doing these

585
00:22:17,460 --> 00:22:19,559
types of things all these tools can

586
00:22:19,559 --> 00:22:21,419
overlap a lot of these tools can overlap

587
00:22:21,419 --> 00:22:24,360
so yeah so it's I kind of already talked

588
00:22:24,360 --> 00:22:26,400
about this the visualization is amazing

589
00:22:26,400 --> 00:22:28,679
in kismat we'll jump back into the

590
00:22:28,679 --> 00:22:30,900
kismets really fast one thing that I

591
00:22:30,900 --> 00:22:33,299
want to really just drive home is we're

592
00:22:33,299 --> 00:22:35,220
going to look at Saint con for example

593
00:22:35,220 --> 00:22:36,780
and we're going to come back to Kismet

594
00:22:36,780 --> 00:22:38,280
in a second because we're going to talk

595
00:22:38,280 --> 00:22:39,480
a little bit more when we get into

596
00:22:39,480 --> 00:22:41,760
active things so one thing that I can

597
00:22:41,760 --> 00:22:44,220
look at is I can click on this sync con

598
00:22:44,220 --> 00:22:47,640
wireless network and it has 17 clients

599
00:22:47,640 --> 00:22:49,320
connected to it well who are those 17

600
00:22:49,320 --> 00:22:50,700
clients

601
00:22:50,700 --> 00:22:53,039
they're right there so I can see who

602
00:22:53,039 --> 00:22:54,600
those clients are we can look at those

603
00:22:54,600 --> 00:22:57,059
details I can then look and see what

604
00:22:57,059 --> 00:22:59,039
other networks they've they've connected

605
00:22:59,039 --> 00:23:01,679
to uh what other access points they

606
00:23:01,679 --> 00:23:03,360
connect to how much data they're pushing

607
00:23:03,360 --> 00:23:06,720
so it's not just a security tool it's

608
00:23:06,720 --> 00:23:09,360
also full of network visualization tools

609
00:23:09,360 --> 00:23:10,919
so I've got really good insight into

610
00:23:10,919 --> 00:23:12,179
what's happening in the wireless around

611
00:23:12,179 --> 00:23:15,780
us right now so again super helpful for

612
00:23:15,780 --> 00:23:17,700
things we're doing and again it's

613
00:23:17,700 --> 00:23:19,020
completely passive I haven't done

614
00:23:19,020 --> 00:23:21,120
anything active one other note with

615
00:23:21,120 --> 00:23:23,880
Kismet since we're in here and I see it

616
00:23:23,880 --> 00:23:26,400
popping up this red means that we've

617
00:23:26,400 --> 00:23:28,559
captured a handshake so that means that

618
00:23:28,559 --> 00:23:31,200
somebody while I've been talking has

619
00:23:31,200 --> 00:23:33,600
connected to the to the same and we all

620
00:23:33,600 --> 00:23:35,580
know what the password is syncon 2022

621
00:23:35,580 --> 00:23:37,200
right it's a shared password whatever

622
00:23:37,200 --> 00:23:39,659
it's not a big of a deal but I didn't

623
00:23:39,659 --> 00:23:40,980
have to do anything to capture the

624
00:23:40,980 --> 00:23:43,020
handshakes so now I can click download

625
00:23:43,020 --> 00:23:45,480
pcap I've now downloaded the pcapp file

626
00:23:45,480 --> 00:23:47,640
I can then push that over into hashcat

627
00:23:47,640 --> 00:23:49,500
and I can start cracking that network if

628
00:23:49,500 --> 00:23:51,000
I didn't know what it is with without

629
00:23:51,000 --> 00:23:53,460
even doing a single attack all I had to

630
00:23:53,460 --> 00:23:54,840
do is just be in the environment and

631
00:23:54,840 --> 00:23:56,580
watch somebody connect to the access

632
00:23:56,580 --> 00:23:59,280
point so that's why everyone needs to

633
00:23:59,280 --> 00:24:02,280
switch to wpa3 so because if you have

634
00:24:02,280 --> 00:24:05,940
wpa3 it's way harder and it's a not

635
00:24:05,940 --> 00:24:08,520
passive it's not possible to passively

636
00:24:08,520 --> 00:24:11,159
collect enough information to perform an

637
00:24:11,159 --> 00:24:13,020
attack at this point

638
00:24:13,020 --> 00:24:14,580
you never know because these things

639
00:24:14,580 --> 00:24:17,039
change rather rapidly all right let's

640
00:24:17,039 --> 00:24:18,840
move on everyone having fun so far are

641
00:24:18,840 --> 00:24:22,620
we doing good yeah all right cool

642
00:24:22,620 --> 00:24:25,500
now let's talk about active we're

643
00:24:25,500 --> 00:24:27,179
getting a little active now we gotta we

644
00:24:27,179 --> 00:24:29,520
gotta get active within map who likes

645
00:24:29,520 --> 00:24:31,200
nmap

646
00:24:31,200 --> 00:24:32,880
that's what I'm talking about yeah

647
00:24:32,880 --> 00:24:35,039
everybody is anyone in here smarter than

648
00:24:35,039 --> 00:24:37,080
map than me because I couldn't get my

649
00:24:37,080 --> 00:24:38,640
script function to work on one of my

650
00:24:38,640 --> 00:24:40,380
things I think it's just the Box on end

651
00:24:40,380 --> 00:24:42,659
mapping

652
00:24:42,659 --> 00:24:45,600
anyways so with nmap

653
00:24:45,600 --> 00:24:48,179
it's like the best scanning tool Network

654
00:24:48,179 --> 00:24:50,400
scanning tool ever

655
00:24:50,400 --> 00:24:52,320
when I first started running the

656
00:24:52,320 --> 00:24:54,179
internet company years and years ago I

657
00:24:54,179 --> 00:24:56,340
was using nmap as a way to be able to

658
00:24:56,340 --> 00:24:59,159
map out what clients were connected and

659
00:24:59,159 --> 00:25:01,980
to see if any of my customers had

660
00:25:01,980 --> 00:25:04,740
plugged things in incorrectly or uh were

661
00:25:04,740 --> 00:25:07,559
getting past the NAT and so that like

662
00:25:07,559 --> 00:25:09,120
that was my introduction and so I

663
00:25:09,120 --> 00:25:11,340
thought it was just a networking tool

664
00:25:11,340 --> 00:25:13,620
that you just used because that's what

665
00:25:13,620 --> 00:25:15,000
you that's how you find out about your

666
00:25:15,000 --> 00:25:17,280
network is you nmap it so it turns out

667
00:25:17,280 --> 00:25:20,100
started working at a company and I

668
00:25:20,100 --> 00:25:22,440
started doing all my nmap things to scan

669
00:25:22,440 --> 00:25:24,059
things and they're like hey I don't know

670
00:25:24,059 --> 00:25:25,140
what you're doing but you're doing some

671
00:25:25,140 --> 00:25:27,059
aggressive things on the network and I'm

672
00:25:27,059 --> 00:25:29,400
like what do you mean they're sending

673
00:25:29,400 --> 00:25:31,020
out a lot of packets and a lot of data

674
00:25:31,020 --> 00:25:32,760
I'm like yeah I was just trying to map

675
00:25:32,760 --> 00:25:34,679
out the devices to see where they are

676
00:25:34,679 --> 00:25:38,340
like we don't like that stop oh

677
00:25:38,340 --> 00:25:40,620
so what you're saying is scanners are

678
00:25:40,620 --> 00:25:43,500
scary got it okay let's uh let's

679
00:25:43,500 --> 00:25:46,919
let's work on that uh on the screen here

680
00:25:46,919 --> 00:25:49,559
I've got a couple of my favorite uh mmap

681
00:25:49,559 --> 00:25:51,419
commands

682
00:25:51,419 --> 00:25:52,980
um one of the problems with running nmap

683
00:25:52,980 --> 00:25:54,779
I do some live demos of it you know it

684
00:25:54,779 --> 00:25:56,760
takes a minute to run uh to come back

685
00:25:56,760 --> 00:25:59,700
with some info uh hey why don't we start

686
00:25:59,700 --> 00:26:01,980
one while I'm talking because that'll be

687
00:26:01,980 --> 00:26:03,240
interesting

688
00:26:03,240 --> 00:26:06,059
jump over to the virtual machine the

689
00:26:06,059 --> 00:26:07,980
Cali virtual machine and we're going to

690
00:26:07,980 --> 00:26:10,080
go ahead and do we'll just do just a

691
00:26:10,080 --> 00:26:11,940
standard end map

692
00:26:11,940 --> 00:26:14,820
and we'll do SS

693
00:26:14,820 --> 00:26:18,539
10 276 101. we're just mostly just doing

694
00:26:18,539 --> 00:26:20,340
this a sanity check just to make sure

695
00:26:20,340 --> 00:26:23,100
the box is still up

696
00:26:23,100 --> 00:26:25,020
oh and one of my favorite things to do

697
00:26:25,020 --> 00:26:28,020
is be able to do Port ranges like this

698
00:26:28,020 --> 00:26:30,960
and always use the open command oh gotta

699
00:26:30,960 --> 00:26:33,860
run it as root

700
00:26:35,820 --> 00:26:37,380
of course the password's Cali come on

701
00:26:37,380 --> 00:26:38,700
who changes their Cali box password

702
00:26:38,700 --> 00:26:41,580
anyone anyone anyone

703
00:26:41,580 --> 00:26:43,440
still free you can have a free virtual

704
00:26:43,440 --> 00:26:46,340
machine Kelly box

705
00:26:46,440 --> 00:26:49,260
this so anyways so yeah so we've got

706
00:26:49,260 --> 00:26:50,880
this is going to take like two minutes

707
00:26:50,880 --> 00:26:52,260
so we'll just let it run in the

708
00:26:52,260 --> 00:26:55,200
background while we get on with things

709
00:26:55,200 --> 00:27:00,720
and gotta do that okay so uh the SS is

710
00:27:00,720 --> 00:27:03,000
for a syn scan so it does some specialty

711
00:27:03,000 --> 00:27:04,440
where it's going out and it's like hey

712
00:27:04,440 --> 00:27:05,940
are you open are you open and sometimes

713
00:27:05,940 --> 00:27:07,679
you can find some extra ports that way

714
00:27:07,679 --> 00:27:09,720
SV is going to look for that version do

715
00:27:09,720 --> 00:27:11,279
that Banner grab

716
00:27:11,279 --> 00:27:15,720
um and then P 1 to 6500 536 because nmap

717
00:27:15,720 --> 00:27:18,240
by default doesn't scan all the ports so

718
00:27:18,240 --> 00:27:20,460
I see you out there you're putting your

719
00:27:20,460 --> 00:27:23,100
stuff on Port 8888

720
00:27:23,100 --> 00:27:25,200
that way I can't find it well guess what

721
00:27:25,200 --> 00:27:26,820
with that command I can I can now

722
00:27:26,820 --> 00:27:28,919
actually I think it is one of the ones

723
00:27:28,919 --> 00:27:30,659
that's included in the default nmap

724
00:27:30,659 --> 00:27:32,220
anyways you can Define your own custom

725
00:27:32,220 --> 00:27:34,320
Port range because sometimes it makes

726
00:27:34,320 --> 00:27:36,779
sense to scan the entire machine

727
00:27:36,779 --> 00:27:38,880
um but the more ports you add the longer

728
00:27:38,880 --> 00:27:39,960
it takes

729
00:27:39,960 --> 00:27:42,720
um also I forgot to add the T command

730
00:27:42,720 --> 00:27:45,179
the capital T command which is for the

731
00:27:45,179 --> 00:27:46,740
aggressiveness if you want to set your

732
00:27:46,740 --> 00:27:48,840
aggressive level if you want to be more

733
00:27:48,840 --> 00:27:51,120
polite to the machine send more requests

734
00:27:51,120 --> 00:27:54,059
faster uh in my opinion I always just

735
00:27:54,059 --> 00:27:56,039
keep it at a four or a five I just go

736
00:27:56,039 --> 00:27:58,559
pretty hard with it because when you're

737
00:27:58,559 --> 00:28:00,779
out running nmap they're going to catch

738
00:28:00,779 --> 00:28:02,159
you pretty much all the time I haven't

739
00:28:02,159 --> 00:28:04,500
seen a case where uh somebody that has a

740
00:28:04,500 --> 00:28:06,900
properly set up system to see you doing

741
00:28:06,900 --> 00:28:09,720
Port scans isn't going to catch you by

742
00:28:09,720 --> 00:28:12,360
running t-1 and waiting six hours for

743
00:28:12,360 --> 00:28:14,539
your scan to come back

744
00:28:14,539 --> 00:28:17,940
uh on the on this the technically the

745
00:28:17,940 --> 00:28:19,799
third line the first one is just the

746
00:28:19,799 --> 00:28:22,080
base information the third line uh what

747
00:28:22,080 --> 00:28:24,080
I'm doing on that one with the dash P um

748
00:28:24,080 --> 00:28:27,539
specifying the 3389 port uh who knows

749
00:28:27,539 --> 00:28:29,940
what that Port is

750
00:28:29,940 --> 00:28:33,120
RDP our favorite right we love the RDP

751
00:28:33,120 --> 00:28:35,820
capital P lowercase n that's going to go

752
00:28:35,820 --> 00:28:38,100
ahead and uh skip the Ping make sure

753
00:28:38,100 --> 00:28:39,900
what it does typically is it looks to

754
00:28:39,900 --> 00:28:41,400
see if the host is online before it does

755
00:28:41,400 --> 00:28:43,919
port scan well a lot of uh networks will

756
00:28:43,919 --> 00:28:47,159
filter icmp requests and so the dash p

757
00:28:47,159 --> 00:28:49,500
and uh goes ahead and says scan the

758
00:28:49,500 --> 00:28:51,539
ports anyways I like to always include

759
00:28:51,539 --> 00:28:54,120
that Dash open it's actually dash dash

760
00:28:54,120 --> 00:28:57,000
open uh that was a typo so tack tack

761
00:28:57,000 --> 00:28:59,340
open uh I like to always include that so

762
00:28:59,340 --> 00:29:00,900
then I'm always getting results back

763
00:29:00,900 --> 00:29:02,820
that are the open ports because I don't

764
00:29:02,820 --> 00:29:04,200
really care if it's filtered or closed

765
00:29:04,200 --> 00:29:06,419
because that just means I can't do

766
00:29:06,419 --> 00:29:08,820
business with those ports uh and then

767
00:29:08,820 --> 00:29:10,799
the next command is my most favorite

768
00:29:10,799 --> 00:29:13,080
command I have really only know what the

769
00:29:13,080 --> 00:29:15,960
v's mean in that uh it means verbose

770
00:29:15,960 --> 00:29:18,120
verbose verbose and basically what's

771
00:29:18,120 --> 00:29:20,580
happening is that's going to Output to

772
00:29:20,580 --> 00:29:24,899
an XML file and then the xslt proc is

773
00:29:24,899 --> 00:29:26,940
going to take that XML file that was

774
00:29:26,940 --> 00:29:29,340
created and turn it into an HTML web

775
00:29:29,340 --> 00:29:31,500
page so this is nice because when you're

776
00:29:31,500 --> 00:29:33,179
doing nmap scans you can go ahead and

777
00:29:33,179 --> 00:29:34,860
have it in a nice web page and then you

778
00:29:34,860 --> 00:29:36,299
can copy and paste that out into a

779
00:29:36,299 --> 00:29:38,159
report and so sometimes it just makes

780
00:29:38,159 --> 00:29:40,080
life easy so if you're finding yourself

781
00:29:40,080 --> 00:29:43,020
needing HTML from your nmap scans go

782
00:29:43,020 --> 00:29:45,299
ahead and jot down that middle one then

783
00:29:45,299 --> 00:29:48,120
the script command nmap isn't just a

784
00:29:48,120 --> 00:29:50,700
port scanner it is a full scripting and

785
00:29:50,700 --> 00:29:53,100
vulnerability scanning engine

786
00:29:53,100 --> 00:29:54,840
um I'll talk about more of that on the

787
00:29:54,840 --> 00:29:56,399
next page and you're not getting a live

788
00:29:56,399 --> 00:29:57,600
demo of that because I definitely

789
00:29:57,600 --> 00:29:58,740
couldn't get it working with the lab

790
00:29:58,740 --> 00:30:01,140
environment that I'm using uh and um

791
00:30:01,140 --> 00:30:02,580
yeah on the bottom that's just an

792
00:30:02,580 --> 00:30:04,500
example implementation of using that

793
00:30:04,500 --> 00:30:05,940
script

794
00:30:05,940 --> 00:30:08,700
here's just a list of the scripts that I

795
00:30:08,700 --> 00:30:11,039
searched that had SMB in the title so

796
00:30:11,039 --> 00:30:13,140
these are a number of different things

797
00:30:13,140 --> 00:30:14,880
that you can use within nmap you haven't

798
00:30:14,880 --> 00:30:18,299
left the nmap tool and you can do SMB

799
00:30:18,299 --> 00:30:20,279
enumeration so you could look for work

800
00:30:20,279 --> 00:30:22,620
groups you could look for shares that

801
00:30:22,620 --> 00:30:24,720
are available you could look for domain

802
00:30:24,720 --> 00:30:27,299
information you could do all sorts of

803
00:30:27,299 --> 00:30:28,919
things including even vulnerability

804
00:30:28,919 --> 00:30:33,600
scanning like there's the MS ms17010

805
00:30:33,779 --> 00:30:35,159
Eternal blue vulnerability that's built

806
00:30:35,159 --> 00:30:36,899
into nmap too so let's say you want to

807
00:30:36,899 --> 00:30:38,159
scan your network and see if you have

808
00:30:38,159 --> 00:30:39,960
any of those devices on it you can do

809
00:30:39,960 --> 00:30:42,779
that as well so it's it's it it really

810
00:30:42,779 --> 00:30:46,919
is just an incredible tool and like I'm

811
00:30:46,919 --> 00:30:48,659
sure there's entire books that have been

812
00:30:48,659 --> 00:30:51,000
written on its functionality and I

813
00:30:51,000 --> 00:30:54,559
haven't gotten past the man page

814
00:30:54,559 --> 00:30:56,700
and uh obviously when we're talking

815
00:30:56,700 --> 00:30:58,440
about scanners and stuff oh real quick

816
00:30:58,440 --> 00:30:59,700
let's just jump back and see if it

817
00:30:59,700 --> 00:31:02,159
finished yay it finished so look on this

818
00:31:02,159 --> 00:31:03,899
little Network that I've got here oh a

819
00:31:03,899 --> 00:31:05,820
side note for the demos and stuff that

820
00:31:05,820 --> 00:31:08,340
I'm using today I'm using try hack me if

821
00:31:08,340 --> 00:31:11,159
anybody uh needs to like upgrade their

822
00:31:11,159 --> 00:31:13,860
security skills try hack me is dope

823
00:31:13,860 --> 00:31:15,720
they're not a sponsor but oh my gosh

824
00:31:15,720 --> 00:31:17,640
they are freaking awesome would love to

825
00:31:17,640 --> 00:31:19,140
work with try hack me if anyone out

826
00:31:19,140 --> 00:31:22,260
there in camera land does try Acme stuff

827
00:31:22,260 --> 00:31:24,000
anyways uh try hack means really cool

828
00:31:24,000 --> 00:31:25,860
there's a really cool lab environments

829
00:31:25,860 --> 00:31:28,500
it's all Capture the Flag based uh it's

830
00:31:28,500 --> 00:31:30,960
an amazing learning platform it's like

831
00:31:30,960 --> 00:31:33,240
ten dollars a month for the premium so

832
00:31:33,240 --> 00:31:35,399
freaking cheap and you can spin up VMS

833
00:31:35,399 --> 00:31:37,260
they have all the tutorials to get

834
00:31:37,260 --> 00:31:38,880
connected so anyways I'm using try hack

835
00:31:38,880 --> 00:31:43,500
me's um active directory uh lab uh pen

836
00:31:43,500 --> 00:31:46,320
test lab for uh for my demos today just

837
00:31:46,320 --> 00:31:49,500
because setting up Labs is hard and I

838
00:31:49,500 --> 00:31:51,299
wanted to get straight to the hacking so

839
00:31:51,299 --> 00:31:53,640
uh that's where we're at so anyways we

840
00:31:53,640 --> 00:31:55,020
come through and we're are looking at

841
00:31:55,020 --> 00:31:56,220
the different ports that are open on

842
00:31:56,220 --> 00:31:59,100
these machines this machine here is a

843
00:31:59,100 --> 00:32:02,959
active or is our domain control

844
00:32:33,419 --> 00:32:35,960
all right

845
00:32:37,500 --> 00:32:39,919
hello hello hello hello hello

846
00:32:39,919 --> 00:32:43,159
test123 test test test test test test

847
00:32:43,159 --> 00:32:46,620
hello hello check one two three little

848
00:32:46,620 --> 00:32:47,520
bit

849
00:32:47,520 --> 00:32:49,380
audio audio can you hear me in the back

850
00:32:49,380 --> 00:32:51,179
are we good thumbs up all right cool

851
00:32:51,179 --> 00:32:53,520
okay this is gonna be interesting I feel

852
00:32:53,520 --> 00:32:54,840
like I feel like I'm about to do some

853
00:32:54,840 --> 00:32:57,360
karaoke up here all right if we start

854
00:32:57,360 --> 00:33:00,000
anybody want to turn a song on well

855
00:33:00,000 --> 00:33:02,279
vanilla no thank you that one's too hard

856
00:33:02,279 --> 00:33:05,880
I've tried it it's terrible

857
00:33:05,880 --> 00:33:08,220
all right so a talk like this can't be

858
00:33:08,220 --> 00:33:10,020
complete without commercial scanners

859
00:33:10,020 --> 00:33:12,240
because odds are if you're a pen tester

860
00:33:12,240 --> 00:33:13,440
you're working for a company the company

861
00:33:13,440 --> 00:33:16,200
has money the money is being spent

862
00:33:16,200 --> 00:33:18,840
hopefully on awesome tools and those

863
00:33:18,840 --> 00:33:21,120
tools actually are pretty decent they're

864
00:33:21,120 --> 00:33:23,640
really helpful uh so like for example

865
00:33:23,640 --> 00:33:25,860
nessus by tenable

866
00:33:25,860 --> 00:33:28,860
um or tenable scanner is uh pretty handy

867
00:33:28,860 --> 00:33:30,299
pretty nice to have

868
00:33:30,299 --> 00:33:32,100
um so you basically put in your target

869
00:33:32,100 --> 00:33:33,539
range you put in your information there

870
00:33:33,539 --> 00:33:35,279
it's going to go through do a port scan

871
00:33:35,279 --> 00:33:37,260
uh and then it's going to go through and

872
00:33:37,260 --> 00:33:38,820
depending on what type of scan you put

873
00:33:38,820 --> 00:33:42,000
in place it will allow you to then

874
00:33:42,000 --> 00:33:45,419
um uh do a vulnerability scan too on

875
00:33:45,419 --> 00:33:47,700
devices and even in some cases it might

876
00:33:47,700 --> 00:33:50,820
do some light payload executions and try

877
00:33:50,820 --> 00:33:53,340
to do it tries to drop some sweet code

878
00:33:53,340 --> 00:33:55,820
to get you some shells uh

879
00:33:55,820 --> 00:33:58,440
basically with my experience with nessus

880
00:33:58,440 --> 00:34:01,559
has been I use it as kind of my nmap

881
00:34:01,559 --> 00:34:03,960
after nmap I'll usually use nessus and

882
00:34:03,960 --> 00:34:05,760
nmap kind of interchangeably I'll

883
00:34:05,760 --> 00:34:07,860
validate results that I see in nessus

884
00:34:07,860 --> 00:34:09,960
and throw them into nmap to make sure

885
00:34:09,960 --> 00:34:12,659
that the host recognition is correct and

886
00:34:12,659 --> 00:34:14,699
try to just make sure and validate

887
00:34:14,699 --> 00:34:17,040
things back and forth between the two

888
00:34:17,040 --> 00:34:18,480
just so that way I have the most

889
00:34:18,480 --> 00:34:20,119
accurate information that I can get

890
00:34:20,119 --> 00:34:22,139
koalas don't have a lot of experience

891
00:34:22,139 --> 00:34:24,780
with qualis I do know that their focus

892
00:34:24,780 --> 00:34:26,940
is a lot with compliance it's used a lot

893
00:34:26,940 --> 00:34:28,260
in the compliance realm so there's

894
00:34:28,260 --> 00:34:30,239
already pre-built scripts and scan

895
00:34:30,239 --> 00:34:33,899
canned things to handle some of the

896
00:34:33,899 --> 00:34:36,659
compliance things out there and finally

897
00:34:36,659 --> 00:34:38,580
there's core impact that I've had some

898
00:34:38,580 --> 00:34:42,000
experience with and so one of their

899
00:34:42,000 --> 00:34:43,440
things that I've talked to their sales

900
00:34:43,440 --> 00:34:45,239
people about is they're like it's

901
00:34:45,239 --> 00:34:47,480
literally a replacement for a pen tester

902
00:34:47,480 --> 00:34:50,280
and you know what I don't know if it

903
00:34:50,280 --> 00:34:53,339
really is uh I put it to pull out on

904
00:34:53,339 --> 00:34:55,500
Twitter like three or four months ago at

905
00:34:55,500 --> 00:34:57,540
asking if anyone has actually seen it

906
00:34:57,540 --> 00:35:00,540
successfully pop a shell before and

907
00:35:00,540 --> 00:35:03,359
everyone in my Twitter poll said no so

908
00:35:03,359 --> 00:35:04,500
and you know what they say about

909
00:35:04,500 --> 00:35:06,839
information on the internet it is 100

910
00:35:06,839 --> 00:35:09,740
accurate

911
00:35:10,079 --> 00:35:11,940
so anyways yeah so I don't have any

912
00:35:11,940 --> 00:35:13,079
screenshots or anything with that

913
00:35:13,079 --> 00:35:15,960
because I like to uh oh

914
00:35:15,960 --> 00:35:17,400
yeah I'll switch back to that because

915
00:35:17,400 --> 00:35:19,500
I'll be using I'll be typing in stuff

916
00:35:19,500 --> 00:35:22,440
here pause hold please talks amongst

917
00:35:22,440 --> 00:35:25,400
yourselves for a second

918
00:35:38,339 --> 00:35:42,060
okay let's check hey all right we good

919
00:35:42,060 --> 00:35:44,339
everybody good too loud too soft all

920
00:35:44,339 --> 00:35:45,420
right

921
00:35:45,420 --> 00:35:46,140
um

922
00:35:46,140 --> 00:35:48,660
yeah so if you have the tools use them

923
00:35:48,660 --> 00:35:50,040
learn them use them they're they're

924
00:35:50,040 --> 00:35:51,359
great tools they've got built-in

925
00:35:51,359 --> 00:35:54,720
reporting uh and but me myself I usually

926
00:35:54,720 --> 00:35:57,180
am in like a budget crunch when I'm

927
00:35:57,180 --> 00:35:59,700
doing these projects or uh sometimes I

928
00:35:59,700 --> 00:36:01,500
just don't trust the tools because again

929
00:36:01,500 --> 00:36:04,020
that trust verify thing right I want to

930
00:36:04,020 --> 00:36:05,280
make sure that the information that I'm

931
00:36:05,280 --> 00:36:07,200
getting is accurate because one thing

932
00:36:07,200 --> 00:36:08,940
that I know about all of these tools

933
00:36:08,940 --> 00:36:11,160
across the board is a high number of

934
00:36:11,160 --> 00:36:13,440
false positives right uh because they're

935
00:36:13,440 --> 00:36:15,359
looking for specific behavior they're

936
00:36:15,359 --> 00:36:17,460
looking for specific things and it's

937
00:36:17,460 --> 00:36:19,619
very easy to check off a number of those

938
00:36:19,619 --> 00:36:22,020
boxes that say yes this is that behavior

939
00:36:22,020 --> 00:36:24,119
and then it turns out

940
00:36:24,119 --> 00:36:26,280
it's poodle and you can't do anything

941
00:36:26,280 --> 00:36:27,900
with it

942
00:36:27,900 --> 00:36:29,460
so

943
00:36:29,460 --> 00:36:31,500
all right let's talk about some attacks

944
00:36:31,500 --> 00:36:34,500
in depth so these are the these are the

945
00:36:34,500 --> 00:36:36,540
areas of the attacks in depth that we'll

946
00:36:36,540 --> 00:36:37,980
cover today

947
00:36:37,980 --> 00:36:40,140
got about 24 minutes to get left let's

948
00:36:40,140 --> 00:36:43,460
see if we can burn through these

949
00:36:45,480 --> 00:36:47,579
so Microsoft active directory so

950
00:36:47,579 --> 00:36:49,500
basically these are like the key tools

951
00:36:49,500 --> 00:36:51,780
that I've been like using frequently

952
00:36:51,780 --> 00:36:54,240
recently that have just been like my

953
00:36:54,240 --> 00:36:56,640
go-to's for everything that I'm doing so

954
00:36:56,640 --> 00:36:59,220
in Microsoft active directory land it's

955
00:36:59,220 --> 00:37:02,880
responder crack Mac except a crack map

956
00:37:02,880 --> 00:37:07,140
except and Metasploit uh over in the web

957
00:37:07,140 --> 00:37:10,260
land for doing web engagement stuff it's

958
00:37:10,260 --> 00:37:13,020
burp and I put go fuzzer and Dr Buster

959
00:37:13,020 --> 00:37:14,400
because the tool that I'm using is

960
00:37:14,400 --> 00:37:18,180
actually called ffuf uh it's actually

961
00:37:18,180 --> 00:37:20,880
built on top of go fuzzer and then in

962
00:37:20,880 --> 00:37:23,160
some cases I just use like Chrome's Dev

963
00:37:23,160 --> 00:37:25,740
tools and have been like had a lot of

964
00:37:25,740 --> 00:37:27,720
success with that uh and then other

965
00:37:27,720 --> 00:37:29,400
stuff is Wireless we're going to talk

966
00:37:29,400 --> 00:37:31,380
about some Wireless attacks in here and

967
00:37:31,380 --> 00:37:33,240
then finally the last attack is you

968
00:37:33,240 --> 00:37:35,220
gotta attack those hashes with hashcat

969
00:37:35,220 --> 00:37:37,280
uh be able to get those yummy yummy

970
00:37:37,280 --> 00:37:39,839
hashes cracked

971
00:37:39,839 --> 00:37:42,000
so let's talk about responder so

972
00:37:42,000 --> 00:37:44,400
responder is a tool it's been around for

973
00:37:44,400 --> 00:37:46,800
ages I feel like the first responder

974
00:37:46,800 --> 00:37:48,720
talk I saw was like a Defcon in like

975
00:37:48,720 --> 00:37:52,079
2012 or 2013 maybe even before that

976
00:37:52,079 --> 00:37:54,540
um but it just still works it literally

977
00:37:54,540 --> 00:37:57,000
still works basically what's happening

978
00:37:57,000 --> 00:37:58,740
is is whenever you're on a network

979
00:37:58,740 --> 00:38:01,980
there's a lot of different ways on a uh

980
00:38:01,980 --> 00:38:03,480
Microsoft active directory Network

981
00:38:03,480 --> 00:38:05,880
there's a lot of different ways that a

982
00:38:05,880 --> 00:38:08,579
computer is trying to get access to a

983
00:38:08,579 --> 00:38:10,980
resource right and so what it's doing is

984
00:38:10,980 --> 00:38:12,540
it's going to say hey are you this

985
00:38:12,540 --> 00:38:14,520
resource are you this resource and

986
00:38:14,520 --> 00:38:15,960
depending on the configuration of the

987
00:38:15,960 --> 00:38:17,760
network if they have it incorrectly

988
00:38:17,760 --> 00:38:20,520
configured or if they're using mdns or

989
00:38:20,520 --> 00:38:22,800
if they've got llmr enabled or if

990
00:38:22,800 --> 00:38:24,720
they're using uh different versions of

991
00:38:24,720 --> 00:38:26,640
SMB what's going to happen is that

992
00:38:26,640 --> 00:38:28,140
information may even be put on

993
00:38:28,140 --> 00:38:30,060
broadcasts and sent out to the entire

994
00:38:30,060 --> 00:38:32,339
network for a request for name

995
00:38:32,339 --> 00:38:34,500
resolution what's going to happen with

996
00:38:34,500 --> 00:38:36,839
responder is it's going to say hey I am

997
00:38:36,839 --> 00:38:38,880
exactly who you're looking for you are

998
00:38:38,880 --> 00:38:41,339
the right place come come to me and I

999
00:38:41,339 --> 00:38:42,599
don't care even what credentials you

1000
00:38:42,599 --> 00:38:43,740
send me because I'm going to give you

1001
00:38:43,740 --> 00:38:45,300
everything you want

1002
00:38:45,300 --> 00:38:48,599
and so basically you end up with a

1003
00:38:48,599 --> 00:38:51,240
situation where you're just start

1004
00:38:51,240 --> 00:38:53,520
collecting hashes from computers because

1005
00:38:53,520 --> 00:38:55,440
they have to authenticate so through

1006
00:38:55,440 --> 00:38:56,940
that process there's a multi-level

1007
00:38:56,940 --> 00:38:59,040
handshake that's happening and in that

1008
00:38:59,040 --> 00:39:00,720
handshake process one of it is it's

1009
00:39:00,720 --> 00:39:02,700
going to send tokens to you so it used

1010
00:39:02,700 --> 00:39:04,440
to be back in the day back in the golden

1011
00:39:04,440 --> 00:39:09,060
days in 2017 2016 2018 uh people would

1012
00:39:09,060 --> 00:39:10,920
have their networks configured with SMB

1013
00:39:10,920 --> 00:39:14,880
version one or ntl mv1 rather and that

1014
00:39:14,880 --> 00:39:17,040
was golden why because we could do this

1015
00:39:17,040 --> 00:39:18,900
beautiful thing called pass the hash so

1016
00:39:18,900 --> 00:39:20,940
we could collect the hash we could take

1017
00:39:20,940 --> 00:39:22,920
it we could just say let me log in as

1018
00:39:22,920 --> 00:39:24,960
remote desktop over here just using the

1019
00:39:24,960 --> 00:39:27,180
hash and the remote desktop server was

1020
00:39:27,180 --> 00:39:29,400
like yeah that's awesome that's good

1021
00:39:29,400 --> 00:39:31,200
enough for me I don't need passwords I

1022
00:39:31,200 --> 00:39:32,400
don't need anything I just need your

1023
00:39:32,400 --> 00:39:34,859
hash so then there Microsoft's like oh

1024
00:39:34,859 --> 00:39:37,460
that's bad oh that's bad

1025
00:39:37,460 --> 00:39:39,660
you can capture some info on the wire

1026
00:39:39,660 --> 00:39:41,520
and turn it around and send it oh that's

1027
00:39:41,520 --> 00:39:45,240
bad so then they implemented ntlmv2 and

1028
00:39:45,240 --> 00:39:46,859
night it's pretty standard I don't think

1029
00:39:46,859 --> 00:39:49,980
I think I've seen one Windows 7 this

1030
00:39:49,980 --> 00:39:52,859
year one or two Windows 7 computers on

1031
00:39:52,859 --> 00:39:56,579
networks that still had ntl mv1 that I

1032
00:39:56,579 --> 00:39:58,020
was able to successfully pass the hash

1033
00:39:58,020 --> 00:40:00,300
on uh other than that the like the vast

1034
00:40:00,300 --> 00:40:03,000
majority is ntl mv2 so what's happening

1035
00:40:03,000 --> 00:40:04,980
now is it's like oh we're sending you a

1036
00:40:04,980 --> 00:40:07,020
beefier version of this hash so now you

1037
00:40:07,020 --> 00:40:09,660
can't get in and it's like wow that

1038
00:40:09,660 --> 00:40:11,820
sucks now I got to go to Hash to take it

1039
00:40:11,820 --> 00:40:14,339
over to hashcat man what's this

1040
00:40:14,339 --> 00:40:17,280
company's name what season is it who's

1041
00:40:17,280 --> 00:40:19,440
who's their favorite sports team what's

1042
00:40:19,440 --> 00:40:22,920
the local University's Sports mascot ah

1043
00:40:22,920 --> 00:40:25,020
dang it it's so hard to crack passwords

1044
00:40:25,020 --> 00:40:27,599
right and so then from that point able

1045
00:40:27,599 --> 00:40:29,400
to get in and be able to get cracks and

1046
00:40:29,400 --> 00:40:30,540
passwords

1047
00:40:30,540 --> 00:40:32,579
um on average I'd say this year I've

1048
00:40:32,579 --> 00:40:35,579
been doing about 20 to 25 percent of

1049
00:40:35,579 --> 00:40:36,900
user bases that I've been able to

1050
00:40:36,900 --> 00:40:40,320
capture crack passwords from ntlm V2

1051
00:40:40,320 --> 00:40:42,300
hashes why because people are using

1052
00:40:42,300 --> 00:40:43,740
predictable words they're using things

1053
00:40:43,740 --> 00:40:46,380
that are guessable

1054
00:40:46,380 --> 00:40:47,300
um

1055
00:40:47,300 --> 00:40:50,579
okay so real quick I wanted to jump over

1056
00:40:50,579 --> 00:40:53,220
here and just give you a show of

1057
00:40:53,220 --> 00:40:54,660
responder

1058
00:40:54,660 --> 00:41:00,000
so let's see oh screensaver

1059
00:41:00,000 --> 00:41:02,880
oh come on Callie you're killing me

1060
00:41:02,880 --> 00:41:06,200
Smalls you're killing me

1061
00:41:08,040 --> 00:41:11,540
come on come on

1062
00:41:11,540 --> 00:41:16,320
of course so the one thing too so with

1063
00:41:16,320 --> 00:41:18,000
responder running in the

1064
00:41:18,000 --> 00:41:19,920
I was gonna run it in the background but

1065
00:41:19,920 --> 00:41:21,480
apparently my

1066
00:41:21,480 --> 00:41:24,119
box is sleeping oh it's actually

1067
00:41:24,119 --> 00:41:25,320
rebooting

1068
00:41:25,320 --> 00:41:26,520
that's

1069
00:41:26,520 --> 00:41:29,119
great

1070
00:41:30,839 --> 00:41:35,119
cheese did you really

1071
00:41:36,119 --> 00:41:39,300
hey don't worry there's a tool for this

1072
00:41:39,300 --> 00:41:44,160
restore snapshot yay

1073
00:41:44,720 --> 00:41:46,980
uh so

1074
00:41:46,980 --> 00:41:48,420
while we get this back up and going

1075
00:41:48,420 --> 00:41:50,040
we'll restore this snapshot and we'll

1076
00:41:50,040 --> 00:41:53,040
get back here uh the next tool but first

1077
00:41:53,040 --> 00:41:55,440
I want to talk about the in the next

1078
00:41:55,440 --> 00:41:59,000
active attack is uh crack Mac except

1079
00:41:59,000 --> 00:42:02,579
crack map exact man that is hard to say

1080
00:42:02,579 --> 00:42:04,859
I'm just gonna call it CME for short uh

1081
00:42:04,859 --> 00:42:06,240
how many of you have heard of crack map

1082
00:42:06,240 --> 00:42:07,619
exact

1083
00:42:07,619 --> 00:42:09,720
oh my goodness there's only like three

1084
00:42:09,720 --> 00:42:13,079
of you okay so how many of you work on

1085
00:42:13,079 --> 00:42:15,480
networks that have active directory

1086
00:42:15,480 --> 00:42:17,099
okay that's the vast majority of you

1087
00:42:17,099 --> 00:42:19,740
okay your homework is to go around track

1088
00:42:19,740 --> 00:42:22,140
map on your work Network when you get

1089
00:42:22,140 --> 00:42:24,379
home

1090
00:42:26,359 --> 00:42:29,640
it's gonna be amazing okay but first

1091
00:42:29,640 --> 00:42:31,500
make sure you know what your your

1092
00:42:31,500 --> 00:42:35,220
company's password policy is or uh or in

1093
00:42:35,220 --> 00:42:36,359
your pen testing you also want to make

1094
00:42:36,359 --> 00:42:37,740
sure you know what the password policy

1095
00:42:37,740 --> 00:42:44,060
is why because CME is a devastating tool

1096
00:42:44,060 --> 00:42:48,359
it can do so many things it is the

1097
00:42:48,359 --> 00:42:51,119
amalgamation of about 20 other tools

1098
00:42:51,119 --> 00:42:54,420
built into one so what is it you ask it

1099
00:42:54,420 --> 00:42:57,180
is a volume scanner uh it can do it can

1100
00:42:57,180 --> 00:42:59,460
look for zero login you got no pack

1101
00:42:59,460 --> 00:43:02,579
could do a Pettit potom uh you've got

1102
00:43:02,579 --> 00:43:05,040
the SMB protocol stuff it can do it can

1103
00:43:05,040 --> 00:43:06,900
do full enumeration it could do password

1104
00:43:06,900 --> 00:43:09,240
spring it can do spidering you can do

1105
00:43:09,240 --> 00:43:12,060
command execution you can do ldap stuff

1106
00:43:12,060 --> 00:43:13,920
it can do kerberosting it can do

1107
00:43:13,920 --> 00:43:16,680
authentication it can do uh there's like

1108
00:43:16,680 --> 00:43:17,880
10 other things you can do with that

1109
00:43:17,880 --> 00:43:19,800
winrm you can do all sorts of

1110
00:43:19,800 --> 00:43:21,780
authentication spring command execution

1111
00:43:21,780 --> 00:43:24,420
and a winrm it also has support for

1112
00:43:24,420 --> 00:43:26,579
Microsoft SQL Server so you can interact

1113
00:43:26,579 --> 00:43:29,520
with an SQL Server uh because here's the

1114
00:43:29,520 --> 00:43:30,780
thing in active directory environments

1115
00:43:30,780 --> 00:43:32,119
when you get credits for something

1116
00:43:32,119 --> 00:43:34,680
resources are shared right and so

1117
00:43:34,680 --> 00:43:37,079
resources if you get a developer's

1118
00:43:37,079 --> 00:43:38,880
password developer has access to the

1119
00:43:38,880 --> 00:43:40,260
domain they also have access to the

1120
00:43:40,260 --> 00:43:42,540
Michael C Microsoft SQL Server it's like

1121
00:43:42,540 --> 00:43:44,640
oh my gosh we can now attack hack both

1122
00:43:44,640 --> 00:43:46,980
of those things also it has some SSH

1123
00:43:46,980 --> 00:43:49,800
stuff and of course it has a remote

1124
00:43:49,800 --> 00:43:52,079
desktop protocol stuff into it so crack

1125
00:43:52,079 --> 00:43:56,280
map is an insane tool that just is full

1126
00:43:56,280 --> 00:43:58,980
of all sorts of fun things

1127
00:43:58,980 --> 00:44:01,200
um here's some of the typical usages so

1128
00:44:01,200 --> 00:44:04,260
it starts with CME uh also depending on

1129
00:44:04,260 --> 00:44:05,640
how you install it you might have to use

1130
00:44:05,640 --> 00:44:09,839
the crack map exec the full word for me

1131
00:44:09,839 --> 00:44:12,000
I always Alias it to CME just because I

1132
00:44:12,000 --> 00:44:14,460
hate typing so much then you've got your

1133
00:44:14,460 --> 00:44:16,380
type that's the type of attack we talked

1134
00:44:16,380 --> 00:44:18,960
about for the protocols over here it's

1135
00:44:18,960 --> 00:44:24,180
going to be s b mssql RDP ldap winrm and

1136
00:44:24,180 --> 00:44:25,440
then from there it's going to have your

1137
00:44:25,440 --> 00:44:27,780
IP or hosts and one thing that's amazing

1138
00:44:27,780 --> 00:44:29,280
about this tool is if you look through

1139
00:44:29,280 --> 00:44:30,720
some of the examples that I'm posting

1140
00:44:30,720 --> 00:44:31,740
here

1141
00:44:31,740 --> 00:44:34,260
you can see you can pass it a text file

1142
00:44:34,260 --> 00:44:36,020
of

1143
00:44:36,020 --> 00:44:41,400
targets users and passwords so like you

1144
00:44:41,400 --> 00:44:43,200
literally could just load this with all

1145
00:44:43,200 --> 00:44:45,359
sorts of goodness and just go crazy

1146
00:44:45,359 --> 00:44:47,040
after it

1147
00:44:47,040 --> 00:44:50,520
um and the let's see the second command

1148
00:44:50,520 --> 00:44:53,400
down the dash pass policy that's the

1149
00:44:53,400 --> 00:44:54,839
first command I always run on a network

1150
00:44:54,839 --> 00:44:56,460
so that way I can understand what the

1151
00:44:56,460 --> 00:44:57,720
password policy is because when you

1152
00:44:57,720 --> 00:44:58,920
start password spraying when you start

1153
00:44:58,920 --> 00:45:00,420
doing stuff the last thing you want to

1154
00:45:00,420 --> 00:45:02,700
do is get locked out uh locked out of

1155
00:45:02,700 --> 00:45:04,760
your systems

1156
00:45:04,760 --> 00:45:07,940
all righty let's see if we are back up

1157
00:45:07,940 --> 00:45:12,060
hey what do you know

1158
00:45:12,060 --> 00:45:15,900
save the day through snapshots whoever

1159
00:45:15,900 --> 00:45:18,780
came up with snapshots is brilliant let

1160
00:45:18,780 --> 00:45:21,660
me get my VPN reconnected here's how

1161
00:45:21,660 --> 00:45:23,640
easy just a real quick plug for try hack

1162
00:45:23,640 --> 00:45:26,339
me again this is just me being Fanboy of

1163
00:45:26,339 --> 00:45:28,680
try hack me here's how easy it is to use

1164
00:45:28,680 --> 00:45:31,319
try hack me you already download the VPN

1165
00:45:31,319 --> 00:45:35,099
profile just right just do openvpn uh

1166
00:45:35,099 --> 00:45:37,020
and then your openvpn profile you

1167
00:45:37,020 --> 00:45:40,020
download and just like that

1168
00:45:40,020 --> 00:45:44,240
you are connected let's verify

1169
00:45:45,800 --> 00:45:48,420
10.200.72.101 I think it was

1170
00:45:48,420 --> 00:45:50,819
I'm gonna have to cheat my brain is not

1171
00:45:50,819 --> 00:45:53,359
remembering

1172
00:45:56,240 --> 00:46:02,040
76. oh I was so close so close 76 and

1173
00:46:02,040 --> 00:46:04,440
yep we're back up and going okay so

1174
00:46:04,440 --> 00:46:06,180
while we're up and going I'm just gonna

1175
00:46:06,180 --> 00:46:08,400
go here and start responder and let's

1176
00:46:08,400 --> 00:46:12,359
see if we can get uh some uh if we can

1177
00:46:12,359 --> 00:46:14,460
get some hashes in the meantime

1178
00:46:14,460 --> 00:46:16,920
also is this screen too small do you

1179
00:46:16,920 --> 00:46:20,240
want me to make it a little bit larger

1180
00:46:20,400 --> 00:46:23,280
I heard it yeah I've I had a I had a

1181
00:46:23,280 --> 00:46:26,839
sneaking suspicion as such

1182
00:46:27,839 --> 00:46:29,819
I always say whenever I'm presenting I'm

1183
00:46:29,819 --> 00:46:32,520
going to grab a

1184
00:46:32,520 --> 00:46:35,359
a mouse

1185
00:46:35,760 --> 00:46:37,619
yeah that would be way too easy I hear

1186
00:46:37,619 --> 00:46:39,300
you with your shortcut keys okay so

1187
00:46:39,300 --> 00:46:41,520
basically what's happened is uh to run

1188
00:46:41,520 --> 00:46:44,280
responder uh I know we've jumped over

1189
00:46:44,280 --> 00:46:47,220
this in a couple of slides here uh right

1190
00:46:47,220 --> 00:46:50,099
here it comes default with Cali and the

1191
00:46:50,099 --> 00:46:52,079
default one runs pretty well there is

1192
00:46:52,079 --> 00:46:53,579
some advantages of using some of the

1193
00:46:53,579 --> 00:46:55,920
other the newer versions so you just run

1194
00:46:55,920 --> 00:46:58,380
it responder Dash I at zero and you have

1195
00:46:58,380 --> 00:46:59,819
to run it as root and the reason is

1196
00:46:59,819 --> 00:47:02,520
because it runs in promiscuous mode so

1197
00:47:02,520 --> 00:47:04,440
that it can capture all those packets to

1198
00:47:04,440 --> 00:47:06,240
see if anybody's listening and then

1199
00:47:06,240 --> 00:47:08,220
there's a couple of different parts to

1200
00:47:08,220 --> 00:47:10,859
this so it's doing poisoners on llm and

1201
00:47:10,859 --> 00:47:13,380
R so basically anytime there's an lmnr

1202
00:47:13,380 --> 00:47:14,880
packet that's being sent on the network

1203
00:47:14,880 --> 00:47:17,280
it's going to respond to that we've got

1204
00:47:17,280 --> 00:47:20,400
ND NBT NS which is going to be broadcast

1205
00:47:20,400 --> 00:47:23,339
we've got ndms we also have domains so

1206
00:47:23,339 --> 00:47:26,160
if there's a DNS so if there's any DNS

1207
00:47:26,160 --> 00:47:27,599
requests that gets sent it's going to

1208
00:47:27,599 --> 00:47:29,700
try to poison those as well and I don't

1209
00:47:29,700 --> 00:47:32,640
have DHCP enabled this also has an HTTP

1210
00:47:32,640 --> 00:47:34,200
server so let's say they actually

1211
00:47:34,200 --> 00:47:37,440
navigate to my IP address or my domain

1212
00:47:37,440 --> 00:47:39,960
name that I'm passing to them that I'm

1213
00:47:39,960 --> 00:47:41,760
poisoning they'll be prompted with a

1214
00:47:41,760 --> 00:47:43,560
website that allows that that says hey

1215
00:47:43,560 --> 00:47:44,760
you're trying to authenticate on the

1216
00:47:44,760 --> 00:47:45,960
network type in your username and

1217
00:47:45,960 --> 00:47:49,020
password and so there's another way oh

1218
00:47:49,020 --> 00:47:51,300
side note this year I learned a valuable

1219
00:47:51,300 --> 00:47:54,599
lesson to this wpad proxy uh it turns

1220
00:47:54,599 --> 00:47:57,300
out one of the the engagements that a

1221
00:47:57,300 --> 00:47:58,859
friend of mine was on that I was helping

1222
00:47:58,859 --> 00:48:01,380
with uh actually accidentally had the

1223
00:48:01,380 --> 00:48:04,819
wpad proxy enabled and their uh

1224
00:48:04,819 --> 00:48:08,339
organization use wpad for everything and

1225
00:48:08,339 --> 00:48:09,960
so it actually had poisoned and

1226
00:48:09,960 --> 00:48:12,260
misconfigured the entire network

1227
00:48:12,260 --> 00:48:16,260
So Pro tip don't run all the tools all

1228
00:48:16,260 --> 00:48:17,760
at the same time because it can go bad

1229
00:48:17,760 --> 00:48:19,619
and the other thing too is with

1230
00:48:19,619 --> 00:48:21,180
responder is I wouldn't recommend just

1231
00:48:21,180 --> 00:48:22,680
leaving it on and letting it sit

1232
00:48:22,680 --> 00:48:25,260
overnight uh be very targeted with it

1233
00:48:25,260 --> 00:48:27,180
because it is poisoning it is man in the

1234
00:48:27,180 --> 00:48:29,040
middling it is injecting it could cause

1235
00:48:29,040 --> 00:48:31,319
some issues uh with network and

1236
00:48:31,319 --> 00:48:32,579
infrastructure so we haven't captured

1237
00:48:32,579 --> 00:48:34,200
any hashes yet I don't anticipate any

1238
00:48:34,200 --> 00:48:35,339
hashes I should have brought this up

1239
00:48:35,339 --> 00:48:38,099
sooner so I apologize for that in the

1240
00:48:38,099 --> 00:48:39,720
meantime though let's get to some crack

1241
00:48:39,720 --> 00:48:42,420
Mac crack see me I'm just gonna call it

1242
00:48:42,420 --> 00:48:44,880
CME I'm just I'm done talking until I

1243
00:48:44,880 --> 00:48:47,400
say CME

1244
00:48:47,400 --> 00:48:51,240
and I have some fun little

1245
00:48:51,240 --> 00:48:52,740
cheat sheets over here it's all about

1246
00:48:52,740 --> 00:48:54,720
the cheat sheets y'all okay so this

1247
00:48:54,720 --> 00:48:55,980
first example that I'm going to give you

1248
00:48:55,980 --> 00:48:58,140
is what we're doing what I'm doing with

1249
00:48:58,140 --> 00:49:01,500
it is we'll paste that in here so I

1250
00:49:01,500 --> 00:49:04,260
already have a list of the SMB hosts so

1251
00:49:04,260 --> 00:49:06,060
I've already done my nmap scan we did

1252
00:49:06,060 --> 00:49:08,099
that nmap scan we crashed we don't have

1253
00:49:08,099 --> 00:49:10,380
it anymore so basically I'm nmap

1254
00:49:10,380 --> 00:49:11,640
scanning and I'm going through and I'm

1255
00:49:11,640 --> 00:49:14,099
looking at all the hosts uh and I'm

1256
00:49:14,099 --> 00:49:16,740
going to attack those hosts now and I'm

1257
00:49:16,740 --> 00:49:18,420
going to attack those and I'm gonna

1258
00:49:18,420 --> 00:49:19,920
cheat because I know the passwords

1259
00:49:19,920 --> 00:49:22,140
changed me one two three uh and so we're

1260
00:49:22,140 --> 00:49:23,640
just gonna launch this attack and see

1261
00:49:23,640 --> 00:49:25,200
what happens against the host so what's

1262
00:49:25,200 --> 00:49:27,000
happening now is the tool is actually

1263
00:49:27,000 --> 00:49:28,980
spidering out to every single one of the

1264
00:49:28,980 --> 00:49:30,839
hosts in that host file and it's going

1265
00:49:30,839 --> 00:49:33,060
taking each username and it's attempting

1266
00:49:33,060 --> 00:49:34,980
to log in on each one of those machines

1267
00:49:34,980 --> 00:49:37,200
that it detects so this is a situation

1268
00:49:37,200 --> 00:49:38,880
where if I didn't know the passwords

1269
00:49:38,880 --> 00:49:41,280
change me one two three for a specific

1270
00:49:41,280 --> 00:49:42,660
user

1271
00:49:42,660 --> 00:49:44,520
um I could put a password list in there

1272
00:49:44,520 --> 00:49:46,260
and this is that password spring so I

1273
00:49:46,260 --> 00:49:48,660
could start again this is a very noisy

1274
00:49:48,660 --> 00:49:50,160
attack that's why I said go ahead and do

1275
00:49:50,160 --> 00:49:52,500
it in your in your environment I'm sure

1276
00:49:52,500 --> 00:49:54,839
even if you work in the sock I'm sure it

1277
00:49:54,839 --> 00:49:57,660
would be funny to like

1278
00:49:57,660 --> 00:50:00,540
mess with the guy sitting next to you so

1279
00:50:00,540 --> 00:50:01,859
yeah and then we get this really cool

1280
00:50:01,859 --> 00:50:04,079
feedback here it tells us what the

1281
00:50:04,079 --> 00:50:06,180
attacks are which hosts it are has the

1282
00:50:06,180 --> 00:50:07,440
resolved

1283
00:50:07,440 --> 00:50:09,359
um SMB name the work group name or the

1284
00:50:09,359 --> 00:50:11,220
domain name of the device and right

1285
00:50:11,220 --> 00:50:12,839
there we just got a plus sign that means

1286
00:50:12,839 --> 00:50:14,700
we got a positive hit on Holly Powell

1287
00:50:14,700 --> 00:50:16,380
sorry Holly Powell you should change

1288
00:50:16,380 --> 00:50:18,800
your password

1289
00:50:19,680 --> 00:50:22,020
so now that we got that man where does

1290
00:50:22,020 --> 00:50:24,000
the time go okay now that we got that

1291
00:50:24,000 --> 00:50:26,099
we're gonna kind of skip ahead a little

1292
00:50:26,099 --> 00:50:28,280
bit

1293
00:50:30,619 --> 00:50:33,359
push the right buttons here

1294
00:50:33,359 --> 00:50:36,480
uh we did some crack map uh oh we can do

1295
00:50:36,480 --> 00:50:38,700
let's do this real quick we'll come back

1296
00:50:38,700 --> 00:50:40,319
to crack map because we already

1297
00:50:40,319 --> 00:50:41,579
explained we found a username password

1298
00:50:41,579 --> 00:50:42,960
that works and so we're gonna steal the

1299
00:50:42,960 --> 00:50:45,000
goods but first we just got distracted

1300
00:50:45,000 --> 00:50:47,819
with an internal blue setup uh on the

1301
00:50:47,819 --> 00:50:49,020
network there's a computer that has

1302
00:50:49,020 --> 00:50:51,059
Eternal blue and because I'm a genius I

1303
00:50:51,059 --> 00:50:53,400
have a video of me exploiting an eternal

1304
00:50:53,400 --> 00:50:55,500
blue system as opposed to trying to do

1305
00:50:55,500 --> 00:50:57,420
it real because has anyone exploited

1306
00:50:57,420 --> 00:51:01,319
Eternal blue it's like 10 success rate

1307
00:51:01,319 --> 00:51:03,119
like under the best case scenarios

1308
00:51:03,119 --> 00:51:04,800
because it crashed it can crash the host

1309
00:51:04,800 --> 00:51:06,960
it can do all sorts of fun things so

1310
00:51:06,960 --> 00:51:08,819
this is Metasploit Metasploit another

1311
00:51:08,819 --> 00:51:11,940
module that's uh or application a

1312
00:51:11,940 --> 00:51:13,680
toolkit that's super powerful that

1313
00:51:13,680 --> 00:51:15,420
allows you to have

1314
00:51:15,420 --> 00:51:17,220
um just all sorts of payloads and attack

1315
00:51:17,220 --> 00:51:19,380
and this specific example I could only

1316
00:51:19,380 --> 00:51:22,500
get the Powershell uh the the Powershell

1317
00:51:22,500 --> 00:51:24,660
one to work so we can see this is the

1318
00:51:24,660 --> 00:51:26,760
configuration options we've got the host

1319
00:51:26,760 --> 00:51:29,000
is

1320
00:51:29,180 --> 00:51:31,500
10.10.99.122 and now it's sending the

1321
00:51:31,500 --> 00:51:33,839
payload and it's trying to attack it and

1322
00:51:33,839 --> 00:51:35,760
this type of attack that it's using is

1323
00:51:35,760 --> 00:51:37,859
for the payload it's actually opening up

1324
00:51:37,859 --> 00:51:41,700
a remote uh shell on that server so I

1325
00:51:41,700 --> 00:51:43,140
couldn't get the reverse shell to work

1326
00:51:43,140 --> 00:51:44,760
normally let's say it was behind a

1327
00:51:44,760 --> 00:51:46,920
network or something uh you wouldn't be

1328
00:51:46,920 --> 00:51:49,200
able to uh connect back in you'd need a

1329
00:51:49,200 --> 00:51:50,880
reverse shell to come back to your see

1330
00:51:50,880 --> 00:51:52,559
your command and control server or

1331
00:51:52,559 --> 00:51:54,720
something like that but in this example

1332
00:51:54,720 --> 00:51:56,040
here

1333
00:51:56,040 --> 00:51:58,980
um basically now I'm connected in and I

1334
00:51:58,980 --> 00:52:02,400
am the the system NT Authority system so

1335
00:52:02,400 --> 00:52:04,980
once you're once your system there's a

1336
00:52:04,980 --> 00:52:06,420
lot of things you can do you can add

1337
00:52:06,420 --> 00:52:07,740
yourself to the local administrator

1338
00:52:07,740 --> 00:52:10,020
group you could probably RDP into that

1339
00:52:10,020 --> 00:52:11,700
system now we could use that as a pivot

1340
00:52:11,700 --> 00:52:13,740
point to something else and then work on

1341
00:52:13,740 --> 00:52:16,680
trying to get uh domain admin so just

1342
00:52:16,680 --> 00:52:17,819
wanted to have a huge plug for

1343
00:52:17,819 --> 00:52:20,220
Metasploit metasploy it's been fun

1344
00:52:20,220 --> 00:52:23,339
um go learn Metasploit uh there's

1345
00:52:23,339 --> 00:52:26,160
there's a lot of value in doing that and

1346
00:52:26,160 --> 00:52:27,900
this is one of the this is one of the

1347
00:52:27,900 --> 00:52:29,819
challenges for try hack me so go to jump

1348
00:52:29,819 --> 00:52:31,619
into try hack me go to the Metasploit

1349
00:52:31,619 --> 00:52:33,119
modules and you can go through those and

1350
00:52:33,119 --> 00:52:34,800
you can learn all the fun things that

1351
00:52:34,800 --> 00:52:36,180
there are to do in the metasplay let's

1352
00:52:36,180 --> 00:52:37,319
play you can actually use it as a

1353
00:52:37,319 --> 00:52:38,819
scanner you can use it as exploitation

1354
00:52:38,819 --> 00:52:41,520
you could use it as uh like your command

1355
00:52:41,520 --> 00:52:43,619
and control there's a lot of power

1356
00:52:43,619 --> 00:52:45,540
that's in that this is just a super

1357
00:52:45,540 --> 00:52:48,839
quick gloss over on the Metasploit

1358
00:52:48,839 --> 00:52:51,599
uh web at app hacking when we're doing

1359
00:52:51,599 --> 00:52:55,140
some web app uh for our web apps

1360
00:52:55,140 --> 00:52:58,220
you got to have burp burp is the go-to

1361
00:52:58,220 --> 00:53:01,380
again we're attacking Saint con because

1362
00:53:01,380 --> 00:53:03,059
uh why not one thing that was

1363
00:53:03,059 --> 00:53:04,440
interesting as I was kind of preparing

1364
00:53:04,440 --> 00:53:06,240
some info I I don't know if you can make

1365
00:53:06,240 --> 00:53:08,400
this bigger maybe your control shift

1366
00:53:08,400 --> 00:53:10,020
will work on this one nope it doesn't

1367
00:53:10,020 --> 00:53:13,380
doesn't work uh one thing that I was

1368
00:53:13,380 --> 00:53:17,099
looking at here is I found because the

1369
00:53:17,099 --> 00:53:18,900
conference is sold out we found out it

1370
00:53:18,900 --> 00:53:21,180
was sold out but there's this transfer

1371
00:53:21,180 --> 00:53:23,220
page and then there was another page too

1372
00:53:23,220 --> 00:53:25,500
uh that I thought was pretty interesting

1373
00:53:25,500 --> 00:53:28,020
it's a put me on a list page and there

1374
00:53:28,020 --> 00:53:30,300
isn't a captcha so you can send it to

1375
00:53:30,300 --> 00:53:34,079
repeater in proxy or in a um in burp you

1376
00:53:34,079 --> 00:53:35,819
just right click Send a repeater it just

1377
00:53:35,819 --> 00:53:37,380
takes the exact command that you have

1378
00:53:37,380 --> 00:53:39,660
sends it into the repeater and now we

1379
00:53:39,660 --> 00:53:42,480
can just make a big list for Troy to go

1380
00:53:42,480 --> 00:53:44,520
look at her Seth I guess somebody to

1381
00:53:44,520 --> 00:53:49,079
look at so it's me hi let's put hi Seth

1382
00:53:49,079 --> 00:53:52,920
in here and see if anyone hi

1383
00:53:52,920 --> 00:53:56,460
see if see if they look at that list

1384
00:53:56,460 --> 00:53:58,859
uh let's see man you know what we could

1385
00:53:58,859 --> 00:54:00,540
turn this class this into a Hands-On

1386
00:54:00,540 --> 00:54:03,680
training course couldn't we

1387
00:54:03,960 --> 00:54:06,059
let's see where is this one so we talked

1388
00:54:06,059 --> 00:54:09,300
about burp oh fuzzing uh how many of us

1389
00:54:09,300 --> 00:54:10,859
have been here have done web fuzzing

1390
00:54:10,859 --> 00:54:13,260
anyone did some web fuzzing only a few

1391
00:54:13,260 --> 00:54:15,180
of you okay I gotta show you fuzz real

1392
00:54:15,180 --> 00:54:16,980
quick I think I've got the command

1393
00:54:16,980 --> 00:54:20,400
already queued up so basically what it

1394
00:54:20,400 --> 00:54:22,400
is

1395
00:54:22,400 --> 00:54:25,140
websites don't tell you what pages they

1396
00:54:25,140 --> 00:54:26,760
have

1397
00:54:26,760 --> 00:54:29,880
uh let's see fuzz effus here it is

1398
00:54:29,880 --> 00:54:31,920
websites don't tell you what pages they

1399
00:54:31,920 --> 00:54:34,440
have and that can be a problem and

1400
00:54:34,440 --> 00:54:35,880
sometimes there can be some additional

1401
00:54:35,880 --> 00:54:38,099
information on websites that are in

1402
00:54:38,099 --> 00:54:40,079
pages that you can't see or you can't

1403
00:54:40,079 --> 00:54:42,900
access so what this tool does is in the

1404
00:54:42,900 --> 00:54:44,819
command line down on the down at the

1405
00:54:44,819 --> 00:54:47,520
bottom here uh we're using a word file

1406
00:54:47,520 --> 00:54:51,720
of common uh fuzzing fuzzed words to

1407
00:54:51,720 --> 00:54:53,339
look for them and I'm it's going to

1408
00:54:53,339 --> 00:54:55,440
replace the word fuzz so I'm just going

1409
00:54:55,440 --> 00:54:57,240
to go ahead and launch this I don't know

1410
00:54:57,240 --> 00:54:59,760
why I ran that as sudo uh and so

1411
00:54:59,760 --> 00:55:01,920
basically there's all these 302 Pages

1412
00:55:01,920 --> 00:55:04,319
all these redirect pages that it found

1413
00:55:04,319 --> 00:55:07,859
so these are not not potentially not in

1414
00:55:07,859 --> 00:55:10,559
the the in the site map or anything like

1415
00:55:10,559 --> 00:55:12,660
that but these are sites that we found

1416
00:55:12,660 --> 00:55:15,660
or the pages inside of this website and

1417
00:55:15,660 --> 00:55:17,160
sometimes you can stumble across

1418
00:55:17,160 --> 00:55:19,559
interesting Pages like shtml let's go

1419
00:55:19,559 --> 00:55:20,880
see what that page is that looks

1420
00:55:20,880 --> 00:55:23,119
interesting

1421
00:55:23,119 --> 00:55:26,220
syncon slash sh that's actually how I

1422
00:55:26,220 --> 00:55:27,420
found this transfer page I didn't even

1423
00:55:27,420 --> 00:55:30,420
know you could transfer your uh

1424
00:55:30,420 --> 00:55:31,800
I didn't even know you could transfer

1425
00:55:31,800 --> 00:55:33,599
your registration

1426
00:55:33,599 --> 00:55:36,839
so did I get it right s h

1427
00:55:36,839 --> 00:55:40,079
s h t and L yeah

1428
00:55:40,079 --> 00:55:42,900
not found

1429
00:55:42,900 --> 00:55:46,619
and that's how I found the

1430
00:55:46,619 --> 00:55:49,079
um let's see what was it one of the

1431
00:55:49,079 --> 00:55:51,619
other pages

1432
00:55:52,859 --> 00:55:55,500
set maybe I think it might be mad at me

1433
00:55:55,500 --> 00:55:56,359
now

1434
00:55:56,359 --> 00:55:58,980
St Khan's like you are attacking our

1435
00:55:58,980 --> 00:56:00,720
website you are blocked we're giving you

1436
00:56:00,720 --> 00:56:02,400
all the three oh I know what I did it's

1437
00:56:02,400 --> 00:56:03,960
302 redirecting because I didn't use

1438
00:56:03,960 --> 00:56:06,420
https I know it that's what's wrong okay

1439
00:56:06,420 --> 00:56:08,880
now let's see let's find one real quick

1440
00:56:08,880 --> 00:56:10,740
transfer see there's the transfer that's

1441
00:56:10,740 --> 00:56:12,900
how I found the transfer page ooh Dev

1442
00:56:12,900 --> 00:56:17,000
sounds fun let's see what Dev is

1443
00:56:17,460 --> 00:56:19,980
oh that's on the register page not on

1444
00:56:19,980 --> 00:56:22,400
the main sync cam page

1445
00:56:22,400 --> 00:56:26,180
red Dev

1446
00:56:26,880 --> 00:56:28,740
oh maybe it was on this one oh yeah yeah

1447
00:56:28,740 --> 00:56:31,500
so oopsies I may have just found the dev

1448
00:56:31,500 --> 00:56:33,800
screen

1449
00:56:35,240 --> 00:56:38,839
oopsie star Seth

1450
00:56:38,839 --> 00:56:42,119
uh okay moving on

1451
00:56:42,119 --> 00:56:45,540
that's a fuzzer uh Wireless we already

1452
00:56:45,540 --> 00:56:47,040
talked about Wireless so there's some

1453
00:56:47,040 --> 00:56:48,180
fun attacks you can do with wireless

1454
00:56:48,180 --> 00:56:50,819
aircrack is is the bomb with that your

1455
00:56:50,819 --> 00:56:52,079
basically the goal is capture those

1456
00:56:52,079 --> 00:56:53,760
handshakes crack those handshakes what's

1457
00:56:53,760 --> 00:56:55,559
everyone gonna do when they get home

1458
00:56:55,559 --> 00:56:58,140
besides the crack map stuff

1459
00:56:58,140 --> 00:57:01,980
give you a hint wpa3 wp3 uh and then

1460
00:57:01,980 --> 00:57:03,660
hashcat we only got a few minutes left

1461
00:57:03,660 --> 00:57:05,099
here real quick just want to go over

1462
00:57:05,099 --> 00:57:06,839
some of my favorite commands in hashcat

1463
00:57:06,839 --> 00:57:08,760
uh you got the dictionary attacks

1464
00:57:08,760 --> 00:57:11,280
obviously uh if you're using Cali it's

1465
00:57:11,280 --> 00:57:13,260
built in uh the rocky word list there's

1466
00:57:13,260 --> 00:57:14,400
a whole bunch of word lists already

1467
00:57:14,400 --> 00:57:16,200
built in that they download for you if

1468
00:57:16,200 --> 00:57:17,880
you go to GitHub and search word list

1469
00:57:17,880 --> 00:57:19,920
people have huge treasure troves a

1470
00:57:19,920 --> 00:57:21,839
password word lists uh that are really

1471
00:57:21,839 --> 00:57:22,619
good

1472
00:57:22,619 --> 00:57:24,300
um and then I like doing mask attacks

1473
00:57:24,300 --> 00:57:27,900
that's the attack A3 uh and basically

1474
00:57:27,900 --> 00:57:30,240
you set up what that is the example

1475
00:57:30,240 --> 00:57:32,420
there the AAA is all characters

1476
00:57:32,420 --> 00:57:35,460
including non-printable ones but you

1477
00:57:35,460 --> 00:57:38,940
could do L for lowercase uh you could do

1478
00:57:38,940 --> 00:57:42,240
um n is n yeah I think it's n for

1479
00:57:42,240 --> 00:57:44,520
numbers and so you can do kind of an

1480
00:57:44,520 --> 00:57:46,440
arrangement so you're not brute forcing

1481
00:57:46,440 --> 00:57:49,140
uh passwords based off of the entire

1482
00:57:49,140 --> 00:57:50,460
character set the whole idea with

1483
00:57:50,460 --> 00:57:52,559
hashcat is how do we reduce the number

1484
00:57:52,559 --> 00:57:54,780
of cracking attempts that we're doing uh

1485
00:57:54,780 --> 00:57:55,800
and then

1486
00:57:55,800 --> 00:57:57,359
um the bottom one is my most favorite

1487
00:57:57,359 --> 00:57:59,160
thing take a dick missionary that you've

1488
00:57:59,160 --> 00:58:01,200
got and sometimes people will change

1489
00:58:01,200 --> 00:58:03,420
things up and do lead speak so what this

1490
00:58:03,420 --> 00:58:06,240
does is this takes an existing

1491
00:58:06,240 --> 00:58:08,160
dictionary and transforms it in this

1492
00:58:08,160 --> 00:58:10,319
case all of the characters to lead speak

1493
00:58:10,319 --> 00:58:12,599
and does the permutations of lead speak

1494
00:58:12,599 --> 00:58:14,280
too so I've been able to find a number

1495
00:58:14,280 --> 00:58:16,680
of passwords because I've heard a lot of

1496
00:58:16,680 --> 00:58:20,099
examples of uh people giving advice on

1497
00:58:20,099 --> 00:58:22,020
password security by just replacing

1498
00:58:22,020 --> 00:58:23,819
letters with numbers but then they still

1499
00:58:23,819 --> 00:58:25,440
use like a six or eight character long

1500
00:58:25,440 --> 00:58:27,599
password and so it's like I can find it

1501
00:58:27,599 --> 00:58:29,700
with leadspeak because that's that's

1502
00:58:29,700 --> 00:58:31,920
what that process is

1503
00:58:31,920 --> 00:58:34,200
um and uh yeah come talk to me

1504
00:58:34,200 --> 00:58:36,780
afterwards if you like uh if you like uh

1505
00:58:36,780 --> 00:58:38,579
hashcad or any of the things I've talked

1506
00:58:38,579 --> 00:58:40,440
about feel free to come talk to me uh so

1507
00:58:40,440 --> 00:58:42,720
for post post exploitation uh we got

1508
00:58:42,720 --> 00:58:44,460
crack map I'm gonna try to jump over to

1509
00:58:44,460 --> 00:58:46,140
crack map here in two seconds so I can

1510
00:58:46,140 --> 00:58:47,760
show you one of the spider things with

1511
00:58:47,760 --> 00:58:51,119
it SSH I would say be super proficient

1512
00:58:51,119 --> 00:58:52,680
in SSH because you can get around

1513
00:58:52,680 --> 00:58:55,380
networks get around firewalls work

1514
00:58:55,380 --> 00:58:57,540
around like very restricted environments

1515
00:58:57,540 --> 00:59:00,839
if you you can SSH into a host the tac-d

1516
00:59:00,839 --> 00:59:02,819
is the dynamic so then that you can use

1517
00:59:02,819 --> 00:59:04,440
it as like a proxy and access everything

1518
00:59:04,440 --> 00:59:05,839
inside of a network

1519
00:59:05,839 --> 00:59:09,720
the the L is for like local listening or

1520
00:59:09,720 --> 00:59:11,819
you can basically like port forward get

1521
00:59:11,819 --> 00:59:13,500
access to stuff inside the local network

1522
00:59:13,500 --> 00:59:15,599
the two examples there you can get it on

1523
00:59:15,599 --> 00:59:17,880
the localhost that you're sshing into or

1524
00:59:17,880 --> 00:59:19,799
any device that's connected to it you

1525
00:59:19,799 --> 00:59:22,319
can also do a reverse SSH where in this

1526
00:59:22,319 --> 00:59:24,000
instance let's say you want to bring a

1527
00:59:24,000 --> 00:59:26,040
service that's behind a firewall out to

1528
00:59:26,040 --> 00:59:28,079
the public internet so sometimes I'll do

1529
00:59:28,079 --> 00:59:30,720
this and then do a reverse SSH and then

1530
00:59:30,720 --> 00:59:32,220
I can be able to access some service

1531
00:59:32,220 --> 00:59:34,200
maybe a database or something or a web

1532
00:59:34,200 --> 00:59:37,380
server from like an AWS instance that's

1533
00:59:37,380 --> 00:59:39,960
in behind a firewall so go get yourself

1534
00:59:39,960 --> 00:59:43,500
some SSH action SSH is the bomb there's

1535
00:59:43,500 --> 00:59:46,440
some other tools too like MiMi cats lsas

1536
00:59:46,440 --> 00:59:48,960
dumps Shadow files getting in there and

1537
00:59:48,960 --> 00:59:50,220
then the other thing too is you want to

1538
00:59:50,220 --> 00:59:51,599
just go back and go back to your

1539
00:59:51,599 --> 00:59:53,520
scanning because once you have new creds

1540
00:59:53,520 --> 00:59:55,859
you might be able to get access to some

1541
00:59:55,859 --> 00:59:57,420
of the other stuff unfortunately it

1542
00:59:57,420 --> 00:59:59,040
looks like we're run out of time here

1543
00:59:59,040 --> 01:00:01,920
and we've got to get cut off sorry about

1544
01:00:01,920 --> 01:00:04,140
that but the quick story of the printer

1545
01:00:04,140 --> 01:00:06,839
is is printers or computers right and a

1546
01:00:06,839 --> 01:00:08,280
lot of times they're super vulnerable

1547
01:00:08,280 --> 01:00:09,480
there's this thing called the printer

1548
01:00:09,480 --> 01:00:11,700
exploitation framework go check it out

1549
01:00:11,700 --> 01:00:13,380
printer exploitation framework is really

1550
01:00:13,380 --> 01:00:15,660
neat there's a lot of modules to be able

1551
01:00:15,660 --> 01:00:18,119
to hack and hijack printers one thing

1552
01:00:18,119 --> 01:00:19,980
you can do with printers especially if

1553
01:00:19,980 --> 01:00:25,020
they've used the PLJ pjl PLJ a lot of

1554
01:00:25,020 --> 01:00:26,640
times they they're insecure on that

1555
01:00:26,640 --> 01:00:28,559
front you can use them to Stage files it

1556
01:00:28,559 --> 01:00:30,059
becomes a file server for you you can

1557
01:00:30,059 --> 01:00:33,180
pivot through a printer and the other

1558
01:00:33,180 --> 01:00:36,059
thing too is it turns out nessus can

1559
01:00:36,059 --> 01:00:37,859
cause thousands of pages to print out

1560
01:00:37,859 --> 01:00:40,619
too like one character at a time found

1561
01:00:40,619 --> 01:00:42,720
that out

1562
01:00:42,720 --> 01:00:46,440
uh okay so I'm so sorry I'm gonna take

1563
01:00:46,440 --> 01:00:47,760
one minute and talk about the defenses

1564
01:00:47,760 --> 01:00:49,740
so uh what is the number one defense if

1565
01:00:49,740 --> 01:00:51,000
you're on Windows updates you're

1566
01:00:51,000 --> 01:00:52,980
stopping me a lot of the times uh

1567
01:00:52,980 --> 01:00:55,920
disable Legacy protocols like llmnr and

1568
01:00:55,920 --> 01:00:58,020
enforce SMB signing if you do those

1569
01:00:58,020 --> 01:00:59,760
three things that's gonna stop like 90

1570
01:00:59,760 --> 01:01:01,680
of what the things I talked about in

1571
01:01:01,680 --> 01:01:04,619
this presentation uh isolating your

1572
01:01:04,619 --> 01:01:06,480
stuff so that way if you do get jacked

1573
01:01:06,480 --> 01:01:08,880
they're not getting full compromise uh

1574
01:01:08,880 --> 01:01:10,440
use least privileged models so that you

1575
01:01:10,440 --> 01:01:12,059
make sure that when an account does get

1576
01:01:12,059 --> 01:01:14,339
compromised I I had some instances where

1577
01:01:14,339 --> 01:01:17,099
I was able to get into user accounts and

1578
01:01:17,099 --> 01:01:19,079
was on the network and I couldn't do

1579
01:01:19,079 --> 01:01:20,760
anything else with it I couldn't get

1580
01:01:20,760 --> 01:01:22,740
anywhere else so been there and had

1581
01:01:22,740 --> 01:01:24,839
those types of problems and endpoint

1582
01:01:24,839 --> 01:01:27,059
protection Works kind of like I share

1583
01:01:27,059 --> 01:01:30,059
the example of the uh the the xdr

1584
01:01:30,059 --> 01:01:33,180
endpoint that stopped my um I was able

1585
01:01:33,180 --> 01:01:34,740
to exploit Eternal blue but I wasn't

1586
01:01:34,740 --> 01:01:36,480
able to do anything with it my shell got

1587
01:01:36,480 --> 01:01:39,839
killed so with that I ran through it

1588
01:01:39,839 --> 01:01:41,160
quite quickly you can come find me

1589
01:01:41,160 --> 01:01:42,660
afterwards we can talk more about crack

1590
01:01:42,660 --> 01:01:44,400
map it's my most favorite tool of this

1591
01:01:44,400 --> 01:01:46,500
year and with that I thank you and

1592
01:01:46,500 --> 01:01:48,000
appreciate your time

1593
01:01:48,000 --> 01:01:56,260
[Applause]

