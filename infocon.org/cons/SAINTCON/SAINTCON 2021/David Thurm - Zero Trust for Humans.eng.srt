1
00:00:00,080 --> 00:00:02,000
i'm dave therm go by therm too many

2
00:00:02,000 --> 00:00:03,840
dave's in the world so i work for

3
00:00:03,840 --> 00:00:06,960
central federal services we are a

4
00:00:06,960 --> 00:00:09,360
billion dollar company that

5
00:00:09,360 --> 00:00:10,880
provides

6
00:00:10,880 --> 00:00:12,320
information security and other

7
00:00:12,320 --> 00:00:13,679
consulting services to the federal

8
00:00:13,679 --> 00:00:14,559
government

9
00:00:14,559 --> 00:00:15,759
dod

10
00:00:15,759 --> 00:00:17,039
any government agent you can think of

11
00:00:17,039 --> 00:00:20,560
where we have buddy somebody in there

12
00:00:20,560 --> 00:00:22,480
i primarily do

13
00:00:22,480 --> 00:00:24,800
all cloud stuff for them i've been on

14
00:00:24,800 --> 00:00:27,439
multiple projects they're cloud offering

15
00:00:27,439 --> 00:00:28,960
i'm actually auditing the cloud for

16
00:00:28,960 --> 00:00:30,480
federal agency right now

17
00:00:30,480 --> 00:00:32,960
and deploying piv or anybody in the

18
00:00:32,960 --> 00:00:34,880
military have cac cards

19
00:00:34,880 --> 00:00:36,160
those are the things that i'm actually

20
00:00:36,160 --> 00:00:37,840
deploying for everybody for

21
00:00:37,840 --> 00:00:39,520
authentication

22
00:00:39,520 --> 00:00:41,840
my history is i used to work at uvsc on

23
00:00:41,840 --> 00:00:43,120
the help desk

24
00:00:43,120 --> 00:00:44,399
some of you out there were on the help

25
00:00:44,399 --> 00:00:45,680
desk with me

26
00:00:45,680 --> 00:00:47,680
different days i've worked at the uen

27
00:00:47,680 --> 00:00:49,200
knock

28
00:00:49,200 --> 00:00:51,039
where i met troy jesup

29
00:00:51,039 --> 00:00:52,480
u of unoc

30
00:00:52,480 --> 00:00:54,879
i built the illini cloud which was a

31
00:00:54,879 --> 00:00:56,320
k-12 cloud

32
00:00:56,320 --> 00:00:58,640
we had about i don't know probably 10

33
00:00:58,640 --> 00:01:00,559
states that were involved with us

34
00:01:00,559 --> 00:01:02,719
we had about 10 million student records

35
00:01:02,719 --> 00:01:04,959
and essentially we were giving away

36
00:01:04,959 --> 00:01:07,600
compute power for like 250 bucks a year

37
00:01:07,600 --> 00:01:10,400
to a school district so it was super low

38
00:01:10,400 --> 00:01:11,600
cost

39
00:01:11,600 --> 00:01:14,799
aimed toward helping schools

40
00:01:14,799 --> 00:01:17,600
it has since been defunct due to

41
00:01:17,600 --> 00:01:19,360
other reasons i don't care known and

42
00:01:19,360 --> 00:01:20,960
mobile but

43
00:01:20,960 --> 00:01:23,360
i also help out in illinois k-12 my

44
00:01:23,360 --> 00:01:25,119
local school district if their guys go

45
00:01:25,119 --> 00:01:27,920
out of town i become the on-call guy

46
00:01:27,920 --> 00:01:29,520
i still like giving back to education

47
00:01:29,520 --> 00:01:31,920
because i feel bad for all of those guys

48
00:01:31,920 --> 00:01:35,439
so wherever i can help i try to so

49
00:01:35,439 --> 00:01:37,680
back in like 2000 i became friends with

50
00:01:37,680 --> 00:01:41,040
troy jesup as he was helping me with

51
00:01:41,040 --> 00:01:41,920
some

52
00:01:41,920 --> 00:01:43,680
some firewall stuff we had the pixes

53
00:01:43,680 --> 00:01:46,560
back in the day we worked on the first

54
00:01:46,560 --> 00:01:48,320
firewall deployment

55
00:01:48,320 --> 00:01:50,000
ford state view talks everybody was just

56
00:01:50,000 --> 00:01:52,560
using rackles or absolutely nothing

57
00:01:52,560 --> 00:01:54,799
that's when you all had public ips

58
00:01:54,799 --> 00:01:56,799
addresses all over the internet

59
00:01:56,799 --> 00:01:58,640
uh which was a good time for hackers

60
00:01:58,640 --> 00:02:01,040
back then

61
00:02:01,360 --> 00:02:02,079
so

62
00:02:02,079 --> 00:02:04,640
just as a disclaimer all my opinions are

63
00:02:04,640 --> 00:02:06,840
my own not my

64
00:02:06,840 --> 00:02:10,000
employers oop

65
00:02:10,000 --> 00:02:12,080
what did i do there we go

66
00:02:12,080 --> 00:02:14,000
okay so i went to defcon

67
00:02:14,000 --> 00:02:16,560
a long time ago i was a kid and this guy

68
00:02:16,560 --> 00:02:18,720
gets up there and gave the worst

69
00:02:18,720 --> 00:02:20,800
presentation i've ever seen in my life

70
00:02:20,800 --> 00:02:22,239
so ever since then i'm like you know

71
00:02:22,239 --> 00:02:24,080
what i'm going to tell people

72
00:02:24,080 --> 00:02:26,720
exactly what i'm going to cover

73
00:02:26,720 --> 00:02:28,800
and how it's going to be so that they

74
00:02:28,800 --> 00:02:30,319
can choose to leave or not whenever you

75
00:02:30,319 --> 00:02:32,720
want or you'll be like oh this part is

76
00:02:32,720 --> 00:02:33,760
boring

77
00:02:33,760 --> 00:02:35,440
but hey i'm interested in network

78
00:02:35,440 --> 00:02:36,640
overlays

79
00:02:36,640 --> 00:02:38,480
or something like that or you can just

80
00:02:38,480 --> 00:02:40,879
laugh at my failures which we'll have

81
00:02:40,879 --> 00:02:42,720
quite a few in here

82
00:02:42,720 --> 00:02:45,040
the slides are definitely out of date

83
00:02:45,040 --> 00:02:48,720
and i really did finish them up today

84
00:02:48,720 --> 00:02:50,000
a lot of things have changed and i'll

85
00:02:50,000 --> 00:02:51,519
point that out

86
00:02:51,519 --> 00:02:53,680
because if anyone works in the cloud

87
00:02:53,680 --> 00:02:56,000
something's always always being released

88
00:02:56,000 --> 00:02:57,920
they're making modifications

89
00:02:57,920 --> 00:03:00,640
and all four clouds that i work in are

90
00:03:00,640 --> 00:03:02,319
all scrambling trying to take that

91
00:03:02,319 --> 00:03:04,319
leader spot

92
00:03:04,319 --> 00:03:08,319
right now i'm in oracle cloud gcp aws

93
00:03:08,319 --> 00:03:09,760
azure

94
00:03:09,760 --> 00:03:11,440
and i worked for a private company that

95
00:03:11,440 --> 00:03:12,480
was in

96
00:03:12,480 --> 00:03:14,560
alibaba if you guys have ever worked in

97
00:03:14,560 --> 00:03:17,519
alibaba it is very interesting

98
00:03:17,519 --> 00:03:19,120
uh some of the documentation is

99
00:03:19,120 --> 00:03:21,840
literally aws documentation where they

100
00:03:21,840 --> 00:03:23,599
found and replaced

101
00:03:23,599 --> 00:03:26,720
alibaba for aws

102
00:03:27,519 --> 00:03:28,879
okay i did not know where to put this

103
00:03:28,879 --> 00:03:30,239
slide but i want you guys to have this

104
00:03:30,239 --> 00:03:33,200
this is like this is how i learn things

105
00:03:33,200 --> 00:03:35,680
i try to i go home and i build my lab so

106
00:03:35,680 --> 00:03:37,680
i don't look stupid at work that's my

107
00:03:37,680 --> 00:03:40,080
philosophy is cover up my stupidity as

108
00:03:40,080 --> 00:03:42,000
soon as i can

109
00:03:42,000 --> 00:03:43,599
octa developer

110
00:03:43,599 --> 00:03:45,519
you can get an octa developer account

111
00:03:45,519 --> 00:03:46,480
for free

112
00:03:46,480 --> 00:03:48,640
you have to google search octa developer

113
00:03:48,640 --> 00:03:49,760
though

114
00:03:49,760 --> 00:03:50,560
and

115
00:03:50,560 --> 00:03:52,159
because i want to learn these things but

116
00:03:52,159 --> 00:03:53,840
i can't afford them

117
00:03:53,840 --> 00:03:55,680
i'm not rich and can't afford like

118
00:03:55,680 --> 00:03:56,959
octa's probably like five thousand

119
00:03:56,959 --> 00:03:58,799
dollars a month to get in the door

120
00:03:58,799 --> 00:04:00,799
you can run it on unlimited users if i

121
00:04:00,799 --> 00:04:01,920
recall

122
00:04:01,920 --> 00:04:05,599
and it's a great directory service mfa

123
00:04:05,599 --> 00:04:07,519
conditional access solution

124
00:04:07,519 --> 00:04:09,200
and it's a lot simpler than the other

125
00:04:09,200 --> 00:04:10,560
ones that we're going to cover i'm going

126
00:04:10,560 --> 00:04:12,640
to cover this primarily and

127
00:04:12,640 --> 00:04:17,040
azure aws i have it's been about

128
00:04:17,040 --> 00:04:18,798
six months and i've been engineering in

129
00:04:18,798 --> 00:04:20,560
aws so i forgot a bunch of stuff i was

130
00:04:20,560 --> 00:04:23,199
writing slides so i'm not gonna it's

131
00:04:23,199 --> 00:04:24,479
gonna be more azure because that's what

132
00:04:24,479 --> 00:04:26,800
i was more familiar with

133
00:04:26,800 --> 00:04:29,759
so gcp google cloud platform is probably

134
00:04:29,759 --> 00:04:31,440
one of my favorites

135
00:04:31,440 --> 00:04:34,160
it's pretty simple for me to understand

136
00:04:34,160 --> 00:04:36,400
um of the ones i think it's the easiest

137
00:04:36,400 --> 00:04:37,759
for me at least

138
00:04:37,759 --> 00:04:39,919
they have the 300 a month uh credits i

139
00:04:39,919 --> 00:04:41,759
think it lasts for a year you get 300

140
00:04:41,759 --> 00:04:44,639
dollars a month or 300 for the year

141
00:04:44,639 --> 00:04:46,720
make sure you turn your stuff off

142
00:04:46,720 --> 00:04:48,560
i had a 700

143
00:04:48,560 --> 00:04:50,880
uh cloud call a bill one month i had to

144
00:04:50,880 --> 00:04:52,720
hide from my wife

145
00:04:52,720 --> 00:04:56,400
and try to avoid those situations

146
00:04:56,400 --> 00:04:59,199
adbs has their free tier

147
00:04:59,199 --> 00:05:01,680
which is you know their t2 their low

148
00:05:01,680 --> 00:05:02,880
instances if you just want to screw

149
00:05:02,880 --> 00:05:05,199
around

150
00:05:05,360 --> 00:05:07,039
github okay

151
00:05:07,039 --> 00:05:10,639
i worked on a devsecops team at sap

152
00:05:10,639 --> 00:05:12,479
and i'm not a programmer

153
00:05:12,479 --> 00:05:14,639
i learned so much from these guys and

154
00:05:14,639 --> 00:05:16,320
one of the coolest things is i put

155
00:05:16,320 --> 00:05:18,000
everything in github now

156
00:05:18,000 --> 00:05:20,720
i create my documentation i write it in

157
00:05:20,720 --> 00:05:21,840
markdown

158
00:05:21,840 --> 00:05:24,080
and i store it out there so anyone that

159
00:05:24,080 --> 00:05:27,039
wants to see something like how i did um

160
00:05:27,039 --> 00:05:28,960
let me see an example uh whenever i get

161
00:05:28,960 --> 00:05:30,800
on board into an organization

162
00:05:30,800 --> 00:05:32,479
i go to the github or the git lab

163
00:05:32,479 --> 00:05:33,919
depending on if it's on-prem or not how

164
00:05:33,919 --> 00:05:35,360
you're doing things

165
00:05:35,360 --> 00:05:37,199
and i create all my onboarding stuff

166
00:05:37,199 --> 00:05:39,039
everything i needed to onboard

167
00:05:39,039 --> 00:05:40,720
so the next guy that comes along i'm

168
00:05:40,720 --> 00:05:42,160
like hey man here's the documentation

169
00:05:42,160 --> 00:05:44,320
for onboarding bam here's everything you

170
00:05:44,320 --> 00:05:45,360
need to know

171
00:05:45,360 --> 00:05:47,039
and then when i forgot what it was i

172
00:05:47,039 --> 00:05:50,000
needed i can always go back and get it

173
00:05:50,000 --> 00:05:53,440
so if you guys aren't in github learn it

174
00:05:53,440 --> 00:05:55,440
if you're having troubles adapting to it

175
00:05:55,440 --> 00:05:57,120
because you're a developer

176
00:05:57,120 --> 00:05:59,520
and it's new just force yourself to do

177
00:05:59,520 --> 00:06:00,240
it

178
00:06:00,240 --> 00:06:02,160
it is amazingly cool

179
00:06:02,160 --> 00:06:05,120
uh clam av i see climate v everywhere on

180
00:06:05,120 --> 00:06:06,400
linux systems

181
00:06:06,400 --> 00:06:07,520
it's a requirement in the federal

182
00:06:07,520 --> 00:06:09,520
government that you run a v and clam

183
00:06:09,520 --> 00:06:10,800
tends to be it

184
00:06:10,800 --> 00:06:13,280
uh security onions another free one

185
00:06:13,280 --> 00:06:14,720
splunk

186
00:06:14,720 --> 00:06:18,160
we pay splunk guys a buttload of money

187
00:06:18,160 --> 00:06:20,400
and if you're good at splunk

188
00:06:20,400 --> 00:06:23,840
you you cash checks man so you can get a

189
00:06:23,840 --> 00:06:26,400
free i don't know how much it is per day

190
00:06:26,400 --> 00:06:28,479
but you can get a test environment for

191
00:06:28,479 --> 00:06:30,720
free that gives you like 500 meg or

192
00:06:30,720 --> 00:06:32,560
something like that which is plenty for

193
00:06:32,560 --> 00:06:35,440
your home lab take a bunch of the exams

194
00:06:35,440 --> 00:06:37,280
some of them are free they have free

195
00:06:37,280 --> 00:06:39,280
courses for veterans

196
00:06:39,280 --> 00:06:42,639
a huge fan of splunk if i can afford it

197
00:06:42,639 --> 00:06:44,880
if you guys haven't heard of terraform

198
00:06:44,880 --> 00:06:46,479
it is beautiful

199
00:06:46,479 --> 00:06:48,720
this if you're a network guy or a

200
00:06:48,720 --> 00:06:50,000
security guy and you want to get into

201
00:06:50,000 --> 00:06:52,240
cloud and you're like yes the world is

202
00:06:52,240 --> 00:06:55,520
changing learn terraform

203
00:06:55,520 --> 00:06:58,160
it is the way i automatically deploy

204
00:06:58,160 --> 00:06:59,840
cloud instances

205
00:06:59,840 --> 00:07:03,759
storage users compute load bouncers

206
00:07:03,759 --> 00:07:06,800
every thing is deployed in a script

207
00:07:06,800 --> 00:07:08,639
and it just goes and then when i'm done

208
00:07:08,639 --> 00:07:09,919
doing whatever it is i'm screwing around

209
00:07:09,919 --> 00:07:10,720
with

210
00:07:10,720 --> 00:07:13,039
i just destroy it and it gets rid of all

211
00:07:13,039 --> 00:07:14,960
those resources for me

212
00:07:14,960 --> 00:07:16,639
it's free

213
00:07:16,639 --> 00:07:19,039
there is a commercial version which i'm

214
00:07:19,039 --> 00:07:20,639
going to detail on but we'll kind of

215
00:07:20,639 --> 00:07:22,160
skip that you guys got questions about

216
00:07:22,160 --> 00:07:23,360
the difference i can hook up with that

217
00:07:23,360 --> 00:07:24,720
later but

218
00:07:24,720 --> 00:07:26,560
the not free stuff

219
00:07:26,560 --> 00:07:29,520
i have a palo alto pa200 at home

220
00:07:29,520 --> 00:07:32,720
which i scored for like 800 dollars

221
00:07:32,720 --> 00:07:35,360
you get the lab edition you can pick up

222
00:07:35,360 --> 00:07:37,440
a virtual lab license that runs on esx

223
00:07:37,440 --> 00:07:39,840
for 150 bucks

224
00:07:39,840 --> 00:07:43,039
msdn accounts c4 could buy you one

225
00:07:43,039 --> 00:07:46,160
but it comes with azure credits as well

226
00:07:46,160 --> 00:07:48,080
cloud guru if you guys have heard cloud

227
00:07:48,080 --> 00:07:49,039
guru

228
00:07:49,039 --> 00:07:51,199
it is the best cloud training i've ever

229
00:07:51,199 --> 00:07:52,319
done

230
00:07:52,319 --> 00:07:54,000
bryce coons hooked me up with it years

231
00:07:54,000 --> 00:07:55,280
ago

232
00:07:55,280 --> 00:07:56,960
and it's beautiful you want it certified

233
00:07:56,960 --> 00:07:58,400
in something it has

234
00:07:58,400 --> 00:08:00,319
hands-on labs that you do

235
00:08:00,319 --> 00:08:01,919
and it has virtual machines you can test

236
00:08:01,919 --> 00:08:03,599
on you just spin one up you don't have

237
00:08:03,599 --> 00:08:05,680
to pay for the vm runs for four hours

238
00:08:05,680 --> 00:08:07,360
and kills itself

239
00:08:07,360 --> 00:08:09,680
and then vmug advantage is the esx for

240
00:08:09,680 --> 00:08:12,000
vmware you get all of vmware tools for

241
00:08:12,000 --> 00:08:13,599
200 bucks a year

242
00:08:13,599 --> 00:08:15,280
i do that every year just because i

243
00:08:15,280 --> 00:08:17,360
never know when i want to test something

244
00:08:17,360 --> 00:08:19,919
all right oh the best part your children

245
00:08:19,919 --> 00:08:21,680
get no sla

246
00:08:21,680 --> 00:08:24,319
my network at home is my lab network and

247
00:08:24,319 --> 00:08:25,680
when the kids get mad cause i've taken

248
00:08:25,680 --> 00:08:27,520
down the internet because i'm switching

249
00:08:27,520 --> 00:08:29,680
between my fortinet firewall and my

250
00:08:29,680 --> 00:08:30,720
cisco

251
00:08:30,720 --> 00:08:33,839
that's they just have to deal with that

252
00:08:33,839 --> 00:08:36,000
and they do ping me really fast wanting

253
00:08:36,000 --> 00:08:37,760
to know what's going on

254
00:08:37,760 --> 00:08:39,679
all right since a lot of this is going

255
00:08:39,679 --> 00:08:40,719
to be

256
00:08:40,719 --> 00:08:42,320
around government just because that's

257
00:08:42,320 --> 00:08:44,320
where my brain is

258
00:08:44,320 --> 00:08:45,360
uh

259
00:08:45,360 --> 00:08:47,839
this is where all the big the

260
00:08:47,839 --> 00:08:50,480
zero trust hotness has come from

261
00:08:50,480 --> 00:08:51,680
it's

262
00:08:51,680 --> 00:08:54,800
the obama obama rum president

263
00:08:54,800 --> 00:08:56,399
biden released this national cyber

264
00:08:56,399 --> 00:08:58,880
security executive order that pretty

265
00:08:58,880 --> 00:09:01,440
much told us we all had x amount of time

266
00:09:01,440 --> 00:09:03,040
to come up with a plan

267
00:09:03,040 --> 00:09:04,480
and then they said he had x amount of

268
00:09:04,480 --> 00:09:06,640
time to deploy zero trust throughout the

269
00:09:06,640 --> 00:09:09,839
entire federal government

270
00:09:10,240 --> 00:09:11,680
and i was building this

271
00:09:11,680 --> 00:09:13,680
these slides i was like oh colonial

272
00:09:13,680 --> 00:09:15,920
pipeline was on may 7th

273
00:09:15,920 --> 00:09:17,839
and then a couple days later we get the

274
00:09:17,839 --> 00:09:19,680
executive order

275
00:09:19,680 --> 00:09:23,839
definitely something may be there

276
00:09:25,600 --> 00:09:27,120
all right

277
00:09:27,120 --> 00:09:29,279
this is probably the most true meme i

278
00:09:29,279 --> 00:09:31,839
have in here

279
00:09:32,560 --> 00:09:34,399
so let's go over the mindset of zero

280
00:09:34,399 --> 00:09:35,519
trust

281
00:09:35,519 --> 00:09:37,040
mitigate unauthorized privileged

282
00:09:37,040 --> 00:09:38,160
escalation

283
00:09:38,160 --> 00:09:40,240
we don't want somebody to get on a box

284
00:09:40,240 --> 00:09:42,160
escalate their privilege and then bounce

285
00:09:42,160 --> 00:09:43,600
somewhere else

286
00:09:43,600 --> 00:09:45,440
our goal is to limit that

287
00:09:45,440 --> 00:09:48,959
so we also want to build out a hierarchy

288
00:09:48,959 --> 00:09:52,640
of say

289
00:09:52,720 --> 00:09:53,839
some

290
00:09:53,839 --> 00:09:56,000
some compute some resources we have a

291
00:09:56,000 --> 00:09:57,760
more sensitive to others active

292
00:09:57,760 --> 00:09:59,839
directories like the holy grail

293
00:09:59,839 --> 00:10:02,000
you got your network devices these are

294
00:10:02,000 --> 00:10:05,279
things we want to separate and segment

295
00:10:05,279 --> 00:10:07,920
off and protect them from abuse and

296
00:10:07,920 --> 00:10:09,519
people getting into them and then we

297
00:10:09,519 --> 00:10:11,279
also want to finely tune

298
00:10:11,279 --> 00:10:13,760
who talks to what do my users need to

299
00:10:13,760 --> 00:10:16,079
talk to my dns server yeah

300
00:10:16,079 --> 00:10:17,440
but do they need to talk to it on port

301
00:10:17,440 --> 00:10:19,120
22 no

302
00:10:19,120 --> 00:10:23,120
they get port 53 udp they don't need tcp

303
00:10:23,120 --> 00:10:25,360
because they're not doing zone transfers

304
00:10:25,360 --> 00:10:26,160
so

305
00:10:26,160 --> 00:10:28,399
finally restricting all the

306
00:10:28,399 --> 00:10:31,839
servers down in services as far as we

307
00:10:31,839 --> 00:10:35,279
assume breach of other components

308
00:10:35,279 --> 00:10:36,399
this is the hardest thing you guys are

309
00:10:36,399 --> 00:10:38,160
going to have to overcome

310
00:10:38,160 --> 00:10:40,320
is how do i secure one part of my

311
00:10:40,320 --> 00:10:41,360
network

312
00:10:41,360 --> 00:10:43,839
when i don't trust the other part

313
00:10:43,839 --> 00:10:46,480
how do i migrate to securely when i

314
00:10:46,480 --> 00:10:49,040
don't know if somebody's compromised

315
00:10:49,040 --> 00:10:50,800
big thing is we're just going to lower

316
00:10:50,800 --> 00:10:52,720
or lessen the attack surface

317
00:10:52,720 --> 00:10:55,040
the tax versus the user and the attack

318
00:10:55,040 --> 00:10:58,000
surface on the server itself

319
00:10:58,000 --> 00:10:59,839
explicit validation of trust everybody's

320
00:10:59,839 --> 00:11:02,240
going to be verified any action is going

321
00:11:02,240 --> 00:11:04,640
to be tied to me

322
00:11:04,640 --> 00:11:07,279
or my device or both it's tying the

323
00:11:07,279 --> 00:11:09,680
action to a person now

324
00:11:09,680 --> 00:11:11,440
least privilege which we're all familiar

325
00:11:11,440 --> 00:11:13,200
with we don't want everybody having

326
00:11:13,200 --> 00:11:15,120
access to

327
00:11:15,120 --> 00:11:16,560
we have stuff they shouldn't have access

328
00:11:16,560 --> 00:11:17,440
to

329
00:11:17,440 --> 00:11:19,279
and then to force out the security

330
00:11:19,279 --> 00:11:22,240
policy through your entire organization

331
00:11:22,240 --> 00:11:24,160
is another tough one but it's

332
00:11:24,160 --> 00:11:25,839
standardization

333
00:11:25,839 --> 00:11:27,360
and making sure everybody plays by the

334
00:11:27,360 --> 00:11:29,839
same rules

335
00:11:32,640 --> 00:11:33,440
okay

336
00:11:33,440 --> 00:11:34,800
first thing we do is we're going to

337
00:11:34,800 --> 00:11:37,440
identify what's valuable to us

338
00:11:37,440 --> 00:11:41,519
what do we protect pii which is common

339
00:11:41,519 --> 00:11:43,279
i put classified data here but when i

340
00:11:43,279 --> 00:11:44,640
did my review with my buddies we did

341
00:11:44,640 --> 00:11:47,680
sensitive data so class 5 data for me is

342
00:11:47,680 --> 00:11:49,920
anything that has a data classification

343
00:11:49,920 --> 00:11:53,399
as secret top secret

344
00:11:53,399 --> 00:11:55,279
compartmentalized

345
00:11:55,279 --> 00:11:57,680
it could be sensitive

346
00:11:57,680 --> 00:11:59,200
internal use only not for public

347
00:11:59,200 --> 00:12:01,680
consumption those are classifications

348
00:12:01,680 --> 00:12:04,560
the reputation organization

349
00:12:04,560 --> 00:12:06,240
if you are a bank and you get hacked and

350
00:12:06,240 --> 00:12:08,000
that gets out that pretty damages your

351
00:12:08,000 --> 00:12:09,760
reputation

352
00:12:09,760 --> 00:12:11,600
and then also if your data gets

353
00:12:11,600 --> 00:12:14,000
compromised it also damages all of your

354
00:12:14,000 --> 00:12:15,600
customers as well

355
00:12:15,600 --> 00:12:18,000
because they are tied to you especially

356
00:12:18,000 --> 00:12:19,120
if you're one of those organizations

357
00:12:19,120 --> 00:12:21,040
doing like sas offering and you get

358
00:12:21,040 --> 00:12:23,279
compromised and your customers use it

359
00:12:23,279 --> 00:12:25,680
you've lost all of their data

360
00:12:25,680 --> 00:12:27,600
a big part behind

361
00:12:27,600 --> 00:12:30,240
xero trust is credential protection

362
00:12:30,240 --> 00:12:32,880
it's assuming somebody's credentials

363
00:12:32,880 --> 00:12:35,040
have been compromised and if they are

364
00:12:35,040 --> 00:12:37,519
how do we mitigate the risk or add

365
00:12:37,519 --> 00:12:40,800
further security onto that

366
00:12:40,800 --> 00:12:42,560
so going through this list we have

367
00:12:42,560 --> 00:12:44,959
identified what's most valuable

368
00:12:44,959 --> 00:12:47,120
uh i pick one of the exact stories i got

369
00:12:47,120 --> 00:12:48,720
says social security numbers when i

370
00:12:48,720 --> 00:12:51,760
worked at i assume this has changed uvs

371
00:12:51,760 --> 00:12:53,760
found all the students social security

372
00:12:53,760 --> 00:12:56,160
numbers names birth dates on a database

373
00:12:56,160 --> 00:12:58,480
in the auto lab

374
00:12:58,480 --> 00:13:00,480
don't ask me why it was there but it was

375
00:13:00,480 --> 00:13:02,240
there so i guess knowing where your

376
00:13:02,240 --> 00:13:03,519
stuff is

377
00:13:03,519 --> 00:13:06,560
is pretty kind of important directory

378
00:13:06,560 --> 00:13:08,399
services once people have access to your

379
00:13:08,399 --> 00:13:10,240
directory services you're pretty much

380
00:13:10,240 --> 00:13:11,600
toast

381
00:13:11,600 --> 00:13:13,279
network layer you guys saw the facebook

382
00:13:13,279 --> 00:13:14,560
outage

383
00:13:14,560 --> 00:13:15,920
what would have been like if it was a

384
00:13:15,920 --> 00:13:17,600
miscreant that actually got in and took

385
00:13:17,600 --> 00:13:19,760
those route tables down

386
00:13:19,760 --> 00:13:21,200
they would have a lot harder time

387
00:13:21,200 --> 00:13:23,279
finding out what the problem was

388
00:13:23,279 --> 00:13:24,320
because they wouldn't know where to

389
00:13:24,320 --> 00:13:25,760
start and they couldn't even get into

390
00:13:25,760 --> 00:13:27,200
their doors because their doors were all

391
00:13:27,200 --> 00:13:28,560
network connected

392
00:13:28,560 --> 00:13:31,519
so they put all their eggs in one basket

393
00:13:31,519 --> 00:13:34,079
scada systems which is like your door

394
00:13:34,079 --> 00:13:36,800
system which should have been separated

395
00:13:36,800 --> 00:13:39,120
or your ac units these are kind of

396
00:13:39,120 --> 00:13:41,440
important things like the oil pipeline i

397
00:13:41,440 --> 00:13:42,800
mentioned

398
00:13:42,800 --> 00:13:45,360
i'm 99 sure they did not compromise the

399
00:13:45,360 --> 00:13:48,399
scada system they only compromised

400
00:13:48,399 --> 00:13:50,560
the billing system

401
00:13:50,560 --> 00:13:52,160
so they were still oil they just didn't

402
00:13:52,160 --> 00:13:54,079
want to sell it to anybody because they

403
00:13:54,079 --> 00:13:56,399
couldn't go back to pen and paper

404
00:13:56,399 --> 00:13:58,240
i often think about cloud console how do

405
00:13:58,240 --> 00:14:01,360
i protect my cloud cloud console or my

406
00:14:01,360 --> 00:14:03,279
api access

407
00:14:03,279 --> 00:14:04,720
platform security tools what happens if

408
00:14:04,720 --> 00:14:07,120
somebody gets a hold of your nessus

409
00:14:07,120 --> 00:14:08,240
scans

410
00:14:08,240 --> 00:14:10,320
and they're able to pull all of your

411
00:14:10,320 --> 00:14:12,800
records why do a port scan when you pull

412
00:14:12,800 --> 00:14:15,040
all this stuff from straight from nessus

413
00:14:15,040 --> 00:14:17,440
pki infrastructure i'll talk about this

414
00:14:17,440 --> 00:14:20,480
more i've spent a lot of time in pki

415
00:14:20,480 --> 00:14:22,399
it scares the crap out of me if you do

416
00:14:22,399 --> 00:14:24,560
not secure that and build it right

417
00:14:24,560 --> 00:14:27,040
it's bad news

418
00:14:27,040 --> 00:14:28,560
external partners

419
00:14:28,560 --> 00:14:30,480
uh any of you guys connect to from like

420
00:14:30,480 --> 00:14:32,720
weighing links to partners or have these

421
00:14:32,720 --> 00:14:34,399
back doors for

422
00:14:34,399 --> 00:14:37,440
for people i've seen them everywhere

423
00:14:37,440 --> 00:14:39,519
i got to know where my data flows and do

424
00:14:39,519 --> 00:14:42,000
i trust my neighbor or do i need to do

425
00:14:42,000 --> 00:14:43,360
more inspection

426
00:14:43,360 --> 00:14:45,199
dlp inspection or threat inspection on

427
00:14:45,199 --> 00:14:47,519
those

428
00:14:54,079 --> 00:14:55,600
here is

429
00:14:55,600 --> 00:14:58,880
the old what is now old school microsoft

430
00:14:58,880 --> 00:15:01,440
recommendation for deploying

431
00:15:01,440 --> 00:15:03,519
this is their red forest

432
00:15:03,519 --> 00:15:05,600
uh they call it enhanced security admin

433
00:15:05,600 --> 00:15:07,519
environment i think it's called

434
00:15:07,519 --> 00:15:09,440
essentially to you have three user

435
00:15:09,440 --> 00:15:10,800
accounts

436
00:15:10,800 --> 00:15:12,079
everything's broken up into three so

437
00:15:12,079 --> 00:15:14,240
three admin accounts

438
00:15:14,240 --> 00:15:16,160
tier zero has the most security you're

439
00:15:16,160 --> 00:15:18,000
gonna have your piv your multi-factor

440
00:15:18,000 --> 00:15:19,680
authentication you're gonna go through

441
00:15:19,680 --> 00:15:21,920
all these extra steps if your tier one

442
00:15:21,920 --> 00:15:23,680
is just working on your servers you're

443
00:15:23,680 --> 00:15:24,839
probably gonna do

444
00:15:24,839 --> 00:15:28,079
mfa and regular creds

445
00:15:28,079 --> 00:15:30,399
and your tier 0 is just normal users

446
00:15:30,399 --> 00:15:33,759
you're logging in from a user computer

447
00:15:33,759 --> 00:15:36,079
do you trust that computer if i'm doing

448
00:15:36,079 --> 00:15:38,160
help desk oh heck no

449
00:15:38,160 --> 00:15:39,759
how many of you guys put key loggers on

450
00:15:39,759 --> 00:15:41,120
your high school computers when you were

451
00:15:41,120 --> 00:15:42,160
in high school

452
00:15:42,160 --> 00:15:44,399
to pull the admin password yeah i know

453
00:15:44,399 --> 00:15:46,000
one of you in particular became a domain

454
00:15:46,000 --> 00:15:47,279
admin once

455
00:15:47,279 --> 00:15:48,720
doing that and when a question by the

456
00:15:48,720 --> 00:15:50,639
principal he says who says that i don't

457
00:15:50,639 --> 00:15:53,839
who says i got domain admin

458
00:15:53,839 --> 00:15:56,079
some identity services

459
00:15:56,079 --> 00:15:59,120
octa is pretty popular uh duo i didn't

460
00:15:59,120 --> 00:16:00,880
throw them out here that was the easiest

461
00:16:00,880 --> 00:16:03,199
one for me to get into it's free

462
00:16:03,199 --> 00:16:04,480
i think it's 30 bucks a month if you

463
00:16:04,480 --> 00:16:05,920
just wanted

464
00:16:05,920 --> 00:16:07,360
basic support

465
00:16:07,360 --> 00:16:09,360
key cloak is the red hat directory

466
00:16:09,360 --> 00:16:11,120
services they're like really tight

467
00:16:11,120 --> 00:16:12,639
together

468
00:16:12,639 --> 00:16:13,759
they're in the federal government

469
00:16:13,759 --> 00:16:15,759
everywhere probably because that red hat

470
00:16:15,759 --> 00:16:18,160
relationship abs has their directory

471
00:16:18,160 --> 00:16:20,560
service and azure

472
00:16:20,560 --> 00:16:23,839
and azure like a lot of the cloud stuff

473
00:16:23,839 --> 00:16:26,079
is it's not free like they give you a

474
00:16:26,079 --> 00:16:27,839
little bit a little taste

475
00:16:27,839 --> 00:16:28,959
and then everything else that you

476
00:16:28,959 --> 00:16:30,399
actually want like security features

477
00:16:30,399 --> 00:16:32,560
they're going to charge you for it

478
00:16:32,560 --> 00:16:34,880
one thing i want to bring up is how 80

479
00:16:34,880 --> 00:16:37,040
is not secure out of the box

480
00:16:37,040 --> 00:16:39,440
i've had many incidences of

481
00:16:39,440 --> 00:16:41,680
people went to azure id did a hybrid

482
00:16:41,680 --> 00:16:44,800
join and they never secured azure id

483
00:16:44,800 --> 00:16:46,160
and then they get compromised they get

484
00:16:46,160 --> 00:16:47,600
compromised bad

485
00:16:47,600 --> 00:16:49,279
because once you're into a.d

486
00:16:49,279 --> 00:16:51,360
if it's not configured correctly they

487
00:16:51,360 --> 00:16:54,000
just run rampant throughout your network

488
00:16:54,000 --> 00:16:55,360
they remember this ever everybody

489
00:16:55,360 --> 00:16:57,600
remembers the solarwinds exploit well

490
00:16:57,600 --> 00:16:59,360
there is

491
00:16:59,360 --> 00:17:02,480
the exploit was trivial

492
00:17:02,480 --> 00:17:04,640
if you talk to crowdstrike if you can

493
00:17:04,640 --> 00:17:06,400
get them to i don't know if it's public

494
00:17:06,400 --> 00:17:08,480
or if it's classified but they did this

495
00:17:08,480 --> 00:17:10,160
walk through for us

496
00:17:10,160 --> 00:17:12,720
that was amazing that showed us exactly

497
00:17:12,720 --> 00:17:15,199
how it all worked and it was it was

498
00:17:15,199 --> 00:17:16,640
horribly easy

499
00:17:16,640 --> 00:17:20,079
and it put the fear in me pretty bad

500
00:17:20,079 --> 00:17:22,559
here's some so ldap

501
00:17:22,559 --> 00:17:23,679
how many guys are still running

502
00:17:23,679 --> 00:17:25,679
unencrypted ldap

503
00:17:25,679 --> 00:17:27,119
and how many of you know how much a pain

504
00:17:27,119 --> 00:17:29,200
it is to actually get it to encrypt and

505
00:17:29,200 --> 00:17:31,760
get the whole thing working super big

506
00:17:31,760 --> 00:17:35,200
pain it's like encrypting syslogs

507
00:17:35,200 --> 00:17:36,960
super pain to do to get it set up but

508
00:17:36,960 --> 00:17:38,480
once you've done that you now have

509
00:17:38,480 --> 00:17:40,160
encrypted syslogs a lot of what we do

510
00:17:40,160 --> 00:17:41,120
now

511
00:17:41,120 --> 00:17:41,919
is

512
00:17:41,919 --> 00:17:44,400
people will send syslogs across the

513
00:17:44,400 --> 00:17:46,799
internet to a cloud sas provider like

514
00:17:46,799 --> 00:17:48,880
splunk has their cloud

515
00:17:48,880 --> 00:17:51,440
do you want those going raw open in the

516
00:17:51,440 --> 00:17:53,679
wild

517
00:17:53,679 --> 00:17:57,520
then the relay attacks key cloak

518
00:17:57,520 --> 00:17:58,799
there was

519
00:17:58,799 --> 00:18:00,880
this it's just i see it around i'm not

520
00:18:00,880 --> 00:18:02,320
real familiar with it

521
00:18:02,320 --> 00:18:03,919
it's open source so it doesn't have the

522
00:18:03,919 --> 00:18:05,600
same

523
00:18:05,600 --> 00:18:10,240
love as the other ones get and then octa

524
00:18:11,120 --> 00:18:12,720
okay so i'm going to go through here for

525
00:18:12,720 --> 00:18:15,440
octa here's some of our choices so they

526
00:18:15,440 --> 00:18:17,679
have their threat insight

527
00:18:17,679 --> 00:18:20,720
when we're doing a conditional access

528
00:18:20,720 --> 00:18:22,000
they're going to look at some things

529
00:18:22,000 --> 00:18:23,760
they're going to look at

530
00:18:23,760 --> 00:18:26,160
where am i coming from is this normal

531
00:18:26,160 --> 00:18:27,679
behavior

532
00:18:27,679 --> 00:18:29,600
am i coming from

533
00:18:29,600 --> 00:18:31,440
a foreign country

534
00:18:31,440 --> 00:18:34,559
if i traveled between one country and

535
00:18:34,559 --> 00:18:36,960
another country more than 600 kilometers

536
00:18:36,960 --> 00:18:39,120
an hour that's actually the setting i

537
00:18:39,120 --> 00:18:41,840
think in octa as you can set how far

538
00:18:41,840 --> 00:18:43,280
time travel is

539
00:18:43,280 --> 00:18:45,360
so if a user's over here and then also

540
00:18:45,360 --> 00:18:47,120
they log in over here physically

541
00:18:47,120 --> 00:18:49,919
impossible you automatically get flagged

542
00:18:49,919 --> 00:18:53,280
to add the behaviors here

543
00:18:53,280 --> 00:18:56,720
they are pretty sweet you just

544
00:18:56,720 --> 00:18:57,840
easy

545
00:18:57,840 --> 00:19:01,520
drop down menus choose what device

546
00:19:02,080 --> 00:19:04,160
country blocking

547
00:19:04,160 --> 00:19:05,600
you can figure out how many countries to

548
00:19:05,600 --> 00:19:06,880
block

549
00:19:06,880 --> 00:19:09,039
i think that a net scope

550
00:19:09,039 --> 00:19:10,720
i want to say they had like 30 countries

551
00:19:10,720 --> 00:19:13,440
they blocked out of the box

552
00:19:13,440 --> 00:19:15,200
i pretty much block anything that i

553
00:19:15,200 --> 00:19:16,720
don't do business with there's no need

554
00:19:16,720 --> 00:19:18,720
for me to have it

555
00:19:18,720 --> 00:19:20,799
so azure azure conditional access is

556
00:19:20,799 --> 00:19:23,440
based on if time based so users can only

557
00:19:23,440 --> 00:19:26,000
log into certain times where you're at

558
00:19:26,000 --> 00:19:28,320
device compliance intune so

559
00:19:28,320 --> 00:19:30,160
part of conditional access is it ties

560
00:19:30,160 --> 00:19:32,080
into your workstation is this

561
00:19:32,080 --> 00:19:34,960
workstation joined to the network

562
00:19:34,960 --> 00:19:37,280
is this uh

563
00:19:37,280 --> 00:19:38,720
uh what are some other things you can

564
00:19:38,720 --> 00:19:40,160
test on all sorts of things on the

565
00:19:40,160 --> 00:19:42,799
device side it's kind of like knack

566
00:19:42,799 --> 00:19:44,559
for conditional access network access

567
00:19:44,559 --> 00:19:47,039
control for conditional access

568
00:19:47,039 --> 00:19:48,960
mfa for admin roles

569
00:19:48,960 --> 00:19:51,280
and management tasks and it can you can

570
00:19:51,280 --> 00:19:53,679
select what role gets what

571
00:19:53,679 --> 00:19:56,320
security measure for login

572
00:19:56,320 --> 00:20:00,080
and then risk space login

573
00:20:00,720 --> 00:20:02,000
and these are the screens if you're in

574
00:20:02,000 --> 00:20:04,799
azure just search conditional access

575
00:20:04,799 --> 00:20:07,120
and we'll pop up these screens that i

576
00:20:07,120 --> 00:20:08,880
kind of have here to the right

577
00:20:08,880 --> 00:20:10,720
and they'll show you who to grant access

578
00:20:10,720 --> 00:20:14,080
on who's approved

579
00:20:14,080 --> 00:20:15,679
is the device compliant so if you want

580
00:20:15,679 --> 00:20:17,840
windows defender which is a requirement

581
00:20:17,840 --> 00:20:20,080
of azure conditional access if you want

582
00:20:20,080 --> 00:20:21,520
the advanced features

583
00:20:21,520 --> 00:20:22,960
it will actually check to make sure your

584
00:20:22,960 --> 00:20:25,120
av is up to date and your patches are

585
00:20:25,120 --> 00:20:28,399
done and all of those things

586
00:20:28,880 --> 00:20:30,159
you can base different rules on

587
00:20:30,159 --> 00:20:31,679
different applications

588
00:20:31,679 --> 00:20:33,360
sign in risk

589
00:20:33,360 --> 00:20:35,520
pretty straightforward

590
00:20:35,520 --> 00:20:38,159
all right here's my good slide

591
00:20:38,159 --> 00:20:39,919
i found a bunch of

592
00:20:39,919 --> 00:20:41,280
slides out in like what microsoft's

593
00:20:41,280 --> 00:20:42,960
website they're just way too confusing

594
00:20:42,960 --> 00:20:45,360
for me so over here on the left side you

595
00:20:45,360 --> 00:20:47,280
have your workstation users you got your

596
00:20:47,280 --> 00:20:50,320
devices and you got tweak tweak folks

597
00:20:50,320 --> 00:20:52,559
so tweek is the bad guy he's somewhere

598
00:20:52,559 --> 00:20:53,919
in the room probably

599
00:20:53,919 --> 00:20:56,400
but he is a miscreant whatever we call

600
00:20:56,400 --> 00:20:58,320
bad guys now

601
00:20:58,320 --> 00:20:59,840
and first thing he does is he gets

602
00:20:59,840 --> 00:21:01,919
conditional access it's going to ask the

603
00:21:01,919 --> 00:21:04,720
workstation are you a valid workstation

604
00:21:04,720 --> 00:21:07,440
are you domain joined okay

605
00:21:07,440 --> 00:21:09,120
who are you

606
00:21:09,120 --> 00:21:11,120
are you using tablet or if you're a bad

607
00:21:11,120 --> 00:21:14,400
person if you're coming from an evil ip

608
00:21:14,400 --> 00:21:15,520
so once it goes through conditional

609
00:21:15,520 --> 00:21:17,840
access it hits evil ips and says oh

610
00:21:17,840 --> 00:21:20,000
tweak you're coming from romania

611
00:21:20,000 --> 00:21:22,400
i'm just going to block you you're done

612
00:21:22,400 --> 00:21:25,039
anything from that's a bad ip address

613
00:21:25,039 --> 00:21:26,799
bad geography

614
00:21:26,799 --> 00:21:29,760
low hanging fruit it gets rid of

615
00:21:29,760 --> 00:21:31,360
and then i have the voodoo slide so

616
00:21:31,360 --> 00:21:32,799
every vendor that does conditional

617
00:21:32,799 --> 00:21:35,039
access has their voodoo it's their

618
00:21:35,039 --> 00:21:36,880
little magic twist on thread

619
00:21:36,880 --> 00:21:39,760
intelligence that it goes off of

620
00:21:39,760 --> 00:21:40,720
and

621
00:21:40,720 --> 00:21:42,880
oh you match this threat intel

622
00:21:42,880 --> 00:21:45,600
and it's high risk they just kill your

623
00:21:45,600 --> 00:21:47,520
condition but if you're a known location

624
00:21:47,520 --> 00:21:48,720
you're known

625
00:21:48,720 --> 00:21:49,840
user

626
00:21:49,840 --> 00:21:51,520
and it fits up with your username so

627
00:21:51,520 --> 00:21:53,360
it's your standard user name

628
00:21:53,360 --> 00:21:54,640
and you're trusted it's just going to

629
00:21:54,640 --> 00:21:57,200
send you to ad there's less friction to

630
00:21:57,200 --> 00:22:00,880
log in the more triggers you put off

631
00:22:00,880 --> 00:22:04,080
it will scale and say oh you came from

632
00:22:04,080 --> 00:22:05,919
somewhere you don't only log into i'm

633
00:22:05,919 --> 00:22:08,000
going to make you do mfa

634
00:22:08,000 --> 00:22:09,760
or it's going to say hey

635
00:22:09,760 --> 00:22:11,360
you're domain admin you're logging as a

636
00:22:11,360 --> 00:22:13,840
domain admin from a known ip which i'm

637
00:22:13,840 --> 00:22:16,640
cool with known location your device is

638
00:22:16,640 --> 00:22:17,840
up to date

639
00:22:17,840 --> 00:22:19,679
you're an admin though you're getting a

640
00:22:19,679 --> 00:22:20,480
piv

641
00:22:20,480 --> 00:22:21,840
you're getting a ui key with a

642
00:22:21,840 --> 00:22:25,799
certificate on it for authentication

643
00:22:26,480 --> 00:22:28,320
so i use ui keys in the federal

644
00:22:28,320 --> 00:22:30,960
government we use cards it's like

645
00:22:30,960 --> 00:22:32,799
something card access system oh yeah i

646
00:22:32,799 --> 00:22:35,440
wrote down i'm smart common access card

647
00:22:35,440 --> 00:22:36,720
if you're in the military you guys all

648
00:22:36,720 --> 00:22:39,120
have one to get on base

649
00:22:39,120 --> 00:22:41,840
um

650
00:22:43,440 --> 00:22:45,600
here's a trick that i used on a project

651
00:22:45,600 --> 00:22:48,960
i had i wanted to do piv authentication

652
00:22:48,960 --> 00:22:50,640
for an entity

653
00:22:50,640 --> 00:22:52,400
and i wanted to do it simple because i

654
00:22:52,400 --> 00:22:55,280
didn't have a lot of time and that was

655
00:22:55,280 --> 00:22:57,760
pretty much my main motivating factor so

656
00:22:57,760 --> 00:22:59,440
i spun up this linux

657
00:22:59,440 --> 00:23:01,760
box there's red hat box running apache

658
00:23:01,760 --> 00:23:03,840
with mod security and i set up as a

659
00:23:03,840 --> 00:23:06,720
reverse proxy

660
00:23:07,120 --> 00:23:09,120
i was then able

661
00:23:09,120 --> 00:23:12,320
to configure it to prompt for pivs

662
00:23:12,320 --> 00:23:15,840
so the certificate on the yubikey

663
00:23:15,840 --> 00:23:18,240
if somebody tries going to this url

664
00:23:18,240 --> 00:23:20,960
which machine dns lookups

665
00:23:20,960 --> 00:23:23,760
it and you don't have a a cac or a

666
00:23:23,760 --> 00:23:25,679
yubikey in it just gives you an error

667
00:23:25,679 --> 00:23:27,760
page like not found

668
00:23:27,760 --> 00:23:29,840
but if you do have one it checks the

669
00:23:29,840 --> 00:23:30,799
cert

670
00:23:30,799 --> 00:23:32,159
because the piv

671
00:23:32,159 --> 00:23:34,400
presents the certificate

672
00:23:34,400 --> 00:23:36,480
then you're prompted for a pin

673
00:23:36,480 --> 00:23:38,000
type in your pin that's tied to your

674
00:23:38,000 --> 00:23:40,080
yubikey that only you know and then

675
00:23:40,080 --> 00:23:42,159
you're redirected to the internal server

676
00:23:42,159 --> 00:23:43,520
where then you're prompted for the

677
00:23:43,520 --> 00:23:45,200
application login

678
00:23:45,200 --> 00:23:46,559
so if you wanted to get nessa's

679
00:23:46,559 --> 00:23:49,039
credentials or have nessus behind a piv

680
00:23:49,039 --> 00:23:51,440
authentication this is a super sweet way

681
00:23:51,440 --> 00:23:54,640
to integrate it into any web app

682
00:23:54,640 --> 00:23:57,039
low effort to

683
00:23:57,039 --> 00:23:58,000
to do

684
00:23:58,000 --> 00:23:59,840
once you've done it the first time first

685
00:23:59,840 --> 00:24:01,600
time stocks but the other times i've

686
00:24:01,600 --> 00:24:04,080
done it a lot easier

687
00:24:04,080 --> 00:24:05,600
uh yubikey

688
00:24:05,600 --> 00:24:07,760
huge fan if you're going to buy one buy

689
00:24:07,760 --> 00:24:10,240
the fips 141 because there may be an

690
00:24:10,240 --> 00:24:11,600
instance where you have to be fixed

691
00:24:11,600 --> 00:24:15,600
140-2 compliant

692
00:24:15,600 --> 00:24:16,559
so

693
00:24:16,559 --> 00:24:18,320
just buy those they're like 60 bucks or

694
00:24:18,320 --> 00:24:19,440
something

695
00:24:19,440 --> 00:24:20,400
um

696
00:24:20,400 --> 00:24:22,559
one slide so i want to show you how easy

697
00:24:22,559 --> 00:24:25,840
this is on the card authentication tab

698
00:24:25,840 --> 00:24:27,600
so you run the manager on your machine

699
00:24:27,600 --> 00:24:29,600
you click card authentication you

700
00:24:29,600 --> 00:24:32,640
generate yourself a certificate a csr

701
00:24:32,640 --> 00:24:33,520
uh

702
00:24:33,520 --> 00:24:34,559
you then you go over to your active

703
00:24:34,559 --> 00:24:37,360
directory box

704
00:24:41,120 --> 00:24:41,919
and

705
00:24:41,919 --> 00:24:43,440
on your ad box if you have a certificate

706
00:24:43,440 --> 00:24:46,080
authority i just did the uh the ad one

707
00:24:46,080 --> 00:24:48,480
because i'd done it recently

708
00:24:48,480 --> 00:24:51,600
you just do your csr you have a template

709
00:24:51,600 --> 00:24:54,320
yubikey has great instructions for this

710
00:24:54,320 --> 00:24:56,400
so you have your template you run your

711
00:24:56,400 --> 00:24:58,240
csr like here the i even put the

712
00:24:58,240 --> 00:25:00,640
commands in the bottom line after i

713
00:25:00,640 --> 00:25:02,080
created my ubc

714
00:25:02,080 --> 00:25:03,200
template

715
00:25:03,200 --> 00:25:05,360
i do the csr then it jumps dumps me out

716
00:25:05,360 --> 00:25:07,360
a certificate and i install that

717
00:25:07,360 --> 00:25:09,919
certificate onto my yubikey

718
00:25:09,919 --> 00:25:12,159
i left a warning because i really wanted

719
00:25:12,159 --> 00:25:15,279
to get ecc'd work elliptic curve

720
00:25:15,279 --> 00:25:16,080
but

721
00:25:16,080 --> 00:25:17,919
i ran into some problems

722
00:25:17,919 --> 00:25:19,520
it's not really supported out there by a

723
00:25:19,520 --> 00:25:20,720
lot of things

724
00:25:20,720 --> 00:25:22,720
and it kept being a hindrance and some

725
00:25:22,720 --> 00:25:24,159
of the things i wanted to do

726
00:25:24,159 --> 00:25:25,760
i also discovered that chrome doesn't

727
00:25:25,760 --> 00:25:26,880
support

728
00:25:26,880 --> 00:25:28,480
512

729
00:25:28,480 --> 00:25:30,799
and i think it supports just 256 now

730
00:25:30,799 --> 00:25:33,039
because they said in theory

731
00:25:33,039 --> 00:25:35,440
it wasn't worth the additional time

732
00:25:35,440 --> 00:25:38,559
to compute like the 384 the 512 key

733
00:25:38,559 --> 00:25:39,919
because nobody can crack it unless

734
00:25:39,919 --> 00:25:43,840
you're rolling a quantum computer

735
00:25:46,080 --> 00:25:47,520
this is something you guys probably all

736
00:25:47,520 --> 00:25:48,320
face

737
00:25:48,320 --> 00:25:50,320
i'm assuming that probably half of you

738
00:25:50,320 --> 00:25:51,760
are this strong

739
00:25:51,760 --> 00:25:54,799
hard outer shell with a soft gooey

740
00:25:54,799 --> 00:25:58,960
marshmallow center on your networks

741
00:26:00,080 --> 00:26:02,320
so we're going to cover how to

742
00:26:02,320 --> 00:26:03,520
how to cover those with micro

743
00:26:03,520 --> 00:26:05,760
segmentation

744
00:26:05,760 --> 00:26:08,799
i'm making good time it's good

745
00:26:08,799 --> 00:26:10,080
so if you've worked in the cloud you've

746
00:26:10,080 --> 00:26:12,320
got network security groups

747
00:26:12,320 --> 00:26:14,320
and i cannot remember what aws calls

748
00:26:14,320 --> 00:26:15,679
them

749
00:26:15,679 --> 00:26:17,600
uh essentially they're apples they're

750
00:26:17,600 --> 00:26:19,600
layered through axles they are not

751
00:26:19,600 --> 00:26:21,279
stateful

752
00:26:21,279 --> 00:26:23,279
they just do in this case the first one

753
00:26:23,279 --> 00:26:26,000
i have i'm allowing somebody from this

754
00:26:26,000 --> 00:26:29,679
ip address go to anything on rdp

755
00:26:29,679 --> 00:26:32,320
it's a slash 32 so it's a window

756
00:26:32,320 --> 00:26:36,000
mini rule and it will allow it

757
00:26:36,000 --> 00:26:38,080
this is probably what everybody uses

758
00:26:38,080 --> 00:26:39,039
today

759
00:26:39,039 --> 00:26:41,600
90 of you and your system admins are

760
00:26:41,600 --> 00:26:43,440
doing it because it's easy

761
00:26:43,440 --> 00:26:44,960
they don't know any better and i can

762
00:26:44,960 --> 00:26:47,039
deploy a box in five minutes

763
00:26:47,039 --> 00:26:49,840
and the firewalling in azure or aws to

764
00:26:49,840 --> 00:26:51,200
buy one native

765
00:26:51,200 --> 00:26:53,440
is probably

766
00:26:53,440 --> 00:26:55,440
it's i don't remember

767
00:26:55,440 --> 00:26:57,440
several hundred dollars a month

768
00:26:57,440 --> 00:27:00,400
i think to get an azure firewall

769
00:27:00,400 --> 00:27:02,640
always before you deploy something

770
00:27:02,640 --> 00:27:04,240
check the price

771
00:27:04,240 --> 00:27:06,799
or you'll be like me and

772
00:27:06,799 --> 00:27:11,360
i did make a 400 dollar mistake once

773
00:27:11,840 --> 00:27:12,880
what i'm going to show you guys in the

774
00:27:12,880 --> 00:27:14,480
next couple slides is actually how we

775
00:27:14,480 --> 00:27:17,679
deploy a next-gen firewall in the cloud

776
00:27:17,679 --> 00:27:20,559
which is not

777
00:27:20,559 --> 00:27:22,159
the cl the firewalls that are provided

778
00:27:22,159 --> 00:27:23,279
today

779
00:27:23,279 --> 00:27:26,159
by the cloud services i know azure is

780
00:27:26,159 --> 00:27:28,399
talking about something like they kind

781
00:27:28,399 --> 00:27:30,480
of have their next gen thing going

782
00:27:30,480 --> 00:27:32,640
but it is so buggy

783
00:27:32,640 --> 00:27:34,960
uh it drove me insane

784
00:27:34,960 --> 00:27:36,880
and when i'm running four clouds do i

785
00:27:36,880 --> 00:27:39,120
want my sock to run four different

786
00:27:39,120 --> 00:27:40,640
firewalls

787
00:27:40,640 --> 00:27:43,360
so what i've pushed for is

788
00:27:43,360 --> 00:27:44,960
standardizing on a platform whether it

789
00:27:44,960 --> 00:27:47,440
be paolo or fortinet or

790
00:27:47,440 --> 00:27:51,120
all depends on what your price point is

791
00:27:51,440 --> 00:27:54,080
so with with the

792
00:27:54,080 --> 00:27:56,799
layer 7 firewalling we're actually tying

793
00:27:56,799 --> 00:27:57,679
it

794
00:27:57,679 --> 00:28:00,399
to every user by using that app id which

795
00:28:00,399 --> 00:28:02,880
is palo alto term that ties every user

796
00:28:02,880 --> 00:28:04,080
connection

797
00:28:04,080 --> 00:28:06,000
to

798
00:28:06,000 --> 00:28:07,840
the active directory

799
00:28:07,840 --> 00:28:10,080
i get their rights and i can set policy

800
00:28:10,080 --> 00:28:12,080
in my firewall that says

801
00:28:12,080 --> 00:28:14,399
okay dave can get to

802
00:28:14,399 --> 00:28:16,320
this list or this group of people can

803
00:28:16,320 --> 00:28:18,000
get to this device

804
00:28:18,000 --> 00:28:19,919
those are tightly tied in

805
00:28:19,919 --> 00:28:23,600
i can block on the usual tcp udp ports

806
00:28:23,600 --> 00:28:25,360
and here's the tricky part that was not

807
00:28:25,360 --> 00:28:28,960
available until recently simplified

808
00:28:28,960 --> 00:28:31,679
aws just recently released the ability

809
00:28:31,679 --> 00:28:34,320
to protect east-west traffic but

810
00:28:34,320 --> 00:28:37,200
primarily you're only track protecting

811
00:28:37,200 --> 00:28:39,120
north-south traffic leaving your network

812
00:28:39,120 --> 00:28:41,200
with firewalls that's the way they all

813
00:28:41,200 --> 00:28:43,360
pretty much exist in the cloud

814
00:28:43,360 --> 00:28:44,880
and it is kind of a pain but i'm going

815
00:28:44,880 --> 00:28:46,399
to show you guys how to do it

816
00:28:46,399 --> 00:28:48,159
uh on how to get

817
00:28:48,159 --> 00:28:50,960
all your east west because i don't want

818
00:28:50,960 --> 00:28:52,480
all my stuff talking to each other i

819
00:28:52,480 --> 00:28:54,399
don't want my web servers talking to my

820
00:28:54,399 --> 00:28:56,080
you know database servers i shouldn't

821
00:28:56,080 --> 00:28:58,559
talk to or my sys servers any of those

822
00:28:58,559 --> 00:29:00,799
things

823
00:29:00,799 --> 00:29:02,320
all right hopefully you guys see this so

824
00:29:02,320 --> 00:29:03,520
this is another one

825
00:29:03,520 --> 00:29:04,640
this is the gotcha this is how i

826
00:29:04,640 --> 00:29:06,640
deployed uh palo alto

827
00:29:06,640 --> 00:29:08,720
and it took me forever and about four

828
00:29:08,720 --> 00:29:10,840
phone calls with

829
00:29:10,840 --> 00:29:13,440
microsoft who in the end once i figured

830
00:29:13,440 --> 00:29:14,799
it out they're like oh yeah that sounds

831
00:29:14,799 --> 00:29:16,320
like it will work

832
00:29:16,320 --> 00:29:19,120
because i want to protect east west

833
00:29:19,120 --> 00:29:21,360
so i've split up these v-nets

834
00:29:21,360 --> 00:29:22,960
there's three of them there on the left

835
00:29:22,960 --> 00:29:24,159
and they have their network security

836
00:29:24,159 --> 00:29:25,520
gateway which is their layer three

837
00:29:25,520 --> 00:29:26,480
apples

838
00:29:26,480 --> 00:29:28,000
they have a vrf which i don't know if

839
00:29:28,000 --> 00:29:29,760
there's a vrf they call it a

840
00:29:29,760 --> 00:29:31,919
user-defined route

841
00:29:31,919 --> 00:29:34,480
which is pretty much saying static route

842
00:29:34,480 --> 00:29:36,159
because if you don't have static routes

843
00:29:36,159 --> 00:29:38,880
in here and you're not confining

844
00:29:38,880 --> 00:29:40,880
uh network security groups to a static

845
00:29:40,880 --> 00:29:41,760
route

846
00:29:41,760 --> 00:29:43,200
they can talk to everybody they hit the

847
00:29:43,200 --> 00:29:44,480
global pool

848
00:29:44,480 --> 00:29:45,760
and they can talk to all everything

849
00:29:45,760 --> 00:29:47,120
east-west

850
00:29:47,120 --> 00:29:48,880
so the linchpin of this to forcing your

851
00:29:48,880 --> 00:29:50,880
traffic through a firewall is

852
00:29:50,880 --> 00:29:52,960
user-defined routes had to figure that

853
00:29:52,960 --> 00:29:55,279
one out

854
00:29:55,279 --> 00:29:58,080
so i add my routes for my my virtual

855
00:29:58,080 --> 00:29:59,120
networks

856
00:29:59,120 --> 00:30:01,600
and i do a default route

857
00:30:01,600 --> 00:30:03,679
to the transit network

858
00:30:03,679 --> 00:30:05,120
you have to have a transit network which

859
00:30:05,120 --> 00:30:06,559
is going to be your

860
00:30:06,559 --> 00:30:10,399
inside of your firewall interface

861
00:30:10,399 --> 00:30:12,960
so i point everything default that way

862
00:30:12,960 --> 00:30:14,640
and then once they hit there i create

863
00:30:14,640 --> 00:30:18,080
another route that defaults everything

864
00:30:18,080 --> 00:30:19,600
to the inside interface the next

865
00:30:19,600 --> 00:30:23,080
generation firewall

866
00:30:25,039 --> 00:30:27,120
and here's the gotcha that burned me for

867
00:30:27,120 --> 00:30:28,480
like a week

868
00:30:28,480 --> 00:30:30,240
for user to find routes i wish i would

869
00:30:30,240 --> 00:30:31,600
put a slide in here for you guys if i

870
00:30:31,600 --> 00:30:32,399
didn't

871
00:30:32,399 --> 00:30:33,840
you go into the compute part of the

872
00:30:33,840 --> 00:30:34,960
firewall

873
00:30:34,960 --> 00:30:36,240
and you look at the network connection

874
00:30:36,240 --> 00:30:37,840
the network interfaces

875
00:30:37,840 --> 00:30:39,840
there is a drop down in network

876
00:30:39,840 --> 00:30:42,960
interfaces to add the user-defined route

877
00:30:42,960 --> 00:30:45,279
to that network interface

878
00:30:45,279 --> 00:30:47,039
there's no real documentation out there

879
00:30:47,039 --> 00:30:48,320
for it

880
00:30:48,320 --> 00:30:51,840
but once you do that then that puts

881
00:30:51,840 --> 00:30:54,320
i would say that vrf that interface in

882
00:30:54,320 --> 00:30:55,520
the vrf

883
00:30:55,520 --> 00:30:58,080
so everybody can get to it

884
00:30:58,080 --> 00:30:59,679
and the other gotcha i got from my guys

885
00:30:59,679 --> 00:31:00,799
the other day they called me and they're

886
00:31:00,799 --> 00:31:01,519
like

887
00:31:01,519 --> 00:31:03,039
i can't get my firewall working was

888
00:31:03,039 --> 00:31:05,840
another group well he had set on the

889
00:31:05,840 --> 00:31:07,519
outside interface

890
00:31:07,519 --> 00:31:08,640
what ip address do you put on the

891
00:31:08,640 --> 00:31:10,720
outside interface it's always the public

892
00:31:10,720 --> 00:31:12,399
ip right

893
00:31:12,399 --> 00:31:14,480
not in the cloud it's not

894
00:31:14,480 --> 00:31:17,200
because we forget that you're nadded

895
00:31:17,200 --> 00:31:19,360
by aws and azure

896
00:31:19,360 --> 00:31:21,760
so you put the inside the private ip

897
00:31:21,760 --> 00:31:22,960
address

898
00:31:22,960 --> 00:31:25,200
that azure is giving you tied to their

899
00:31:25,200 --> 00:31:26,640
public ip

900
00:31:26,640 --> 00:31:28,320
that is the ip address that goes on your

901
00:31:28,320 --> 00:31:30,399
external interface

902
00:31:30,399 --> 00:31:33,200
does not make sense to us network guys

903
00:31:33,200 --> 00:31:35,120
but that is a gotcha that burned me as

904
00:31:35,120 --> 00:31:37,360
well

905
00:31:38,559 --> 00:31:40,559
and if you want to do it in redundancy

906
00:31:40,559 --> 00:31:43,039
pairs you just do load balancers in

907
00:31:43,039 --> 00:31:44,559
front

908
00:31:44,559 --> 00:31:48,080
of how it between firewalls

909
00:31:49,600 --> 00:31:51,200
network overlays i don't know if you

910
00:31:51,200 --> 00:31:53,039
guys are familiar with these

911
00:31:53,039 --> 00:31:55,840
i am annoyed at all the network

912
00:31:55,840 --> 00:31:58,559
differences between all the clouds

913
00:31:58,559 --> 00:31:59,279
i

914
00:31:59,279 --> 00:32:00,720
don't like security groups i don't like

915
00:32:00,720 --> 00:32:02,240
how they do

916
00:32:02,240 --> 00:32:05,279
routing there's a lot i don't like

917
00:32:05,279 --> 00:32:07,279
illumio is a commercial product i

918
00:32:07,279 --> 00:32:09,120
haven't on my next slide it's will give

919
00:32:09,120 --> 00:32:10,960
better pictures but

920
00:32:10,960 --> 00:32:14,240
essentially you go into your server you

921
00:32:14,240 --> 00:32:16,720
run a powershell script that installs

922
00:32:16,720 --> 00:32:19,039
this agent on your machine

923
00:32:19,039 --> 00:32:20,799
and that agent phones home to a central

924
00:32:20,799 --> 00:32:21,840
server

925
00:32:21,840 --> 00:32:24,320
from that central server you say

926
00:32:24,320 --> 00:32:27,679
dns servers can only talk on port

927
00:32:27,679 --> 00:32:30,240
uh web servers can only talk in port 80

928
00:32:30,240 --> 00:32:32,640
and if you have it in like listen mode

929
00:32:32,640 --> 00:32:34,480
it will show all the communication on

930
00:32:34,480 --> 00:32:35,519
your network

931
00:32:35,519 --> 00:32:37,600
so who's talking to who what they're

932
00:32:37,600 --> 00:32:38,720
saying

933
00:32:38,720 --> 00:32:41,120
and it also gives the ability to do one

934
00:32:41,120 --> 00:32:44,480
check mark ipsec tunnel between devices

935
00:32:44,480 --> 00:32:46,320
i can ipsec from my dns server to my

936
00:32:46,320 --> 00:32:47,760
users

937
00:32:47,760 --> 00:32:50,320
instant encryption

938
00:32:50,320 --> 00:32:52,320
slack released

939
00:32:52,320 --> 00:32:54,320
for their internal use this on their

940
00:32:54,320 --> 00:32:55,919
github this is the one we've been

941
00:32:55,919 --> 00:32:58,640
messing with is nebula it's open source

942
00:32:58,640 --> 00:33:01,039
it's not as pretty

943
00:33:01,039 --> 00:33:03,039
our fault our drawback with it is the

944
00:33:03,039 --> 00:33:04,159
golang

945
00:33:04,159 --> 00:33:06,399
does not support fedramp high

946
00:33:06,399 --> 00:33:08,240
encryption so i can't use it for stuff

947
00:33:08,240 --> 00:33:10,880
i'm using but it's pretty cool to mess

948
00:33:10,880 --> 00:33:12,159
with you could even set up private

949
00:33:12,159 --> 00:33:14,080
networks between you and your friend's

950
00:33:14,080 --> 00:33:16,960
house with this tool

951
00:33:16,960 --> 00:33:18,799
internet is something real similar i

952
00:33:18,799 --> 00:33:20,240
have the least experience with this but

953
00:33:20,240 --> 00:33:23,120
it's essentially nebula with wire guard

954
00:33:23,120 --> 00:33:24,720
which does support the higher

955
00:33:24,720 --> 00:33:26,559
encryptions

956
00:33:26,559 --> 00:33:28,080
and here may be a better picture i don't

957
00:33:28,080 --> 00:33:31,039
know if you guys can see it from there

958
00:33:31,039 --> 00:33:34,559
you assign with illumio you put

959
00:33:34,559 --> 00:33:36,000
like machines or machines that go

960
00:33:36,000 --> 00:33:39,039
together in their own box and only these

961
00:33:39,039 --> 00:33:41,200
can talk to each other and this group of

962
00:33:41,200 --> 00:33:43,039
machines can only talk to them if you

963
00:33:43,039 --> 00:33:44,799
want to go micro segmentation in an

964
00:33:44,799 --> 00:33:46,000
afternoon

965
00:33:46,000 --> 00:33:47,679
use this tool

966
00:33:47,679 --> 00:33:48,640
it

967
00:33:48,640 --> 00:33:50,320
you just set up rules and it's

968
00:33:50,320 --> 00:33:53,120
completely done but it is essentially

969
00:33:53,120 --> 00:33:55,279
your software firewall on your machine

970
00:33:55,279 --> 00:33:58,960
whether it's windows firewall ip tables

971
00:33:58,960 --> 00:34:00,799
i think the firewall d

972
00:34:00,799 --> 00:34:03,679
is probably what it's now

973
00:34:05,039 --> 00:34:08,399
uh in xero trust

974
00:34:08,399 --> 00:34:10,000
let's do it easy let's not kill

975
00:34:10,000 --> 00:34:11,280
ourselves

976
00:34:11,280 --> 00:34:13,359
let's default every can to secure

977
00:34:13,359 --> 00:34:14,800
protocols

978
00:34:14,800 --> 00:34:17,520
if i can ssl it let's sell it

979
00:34:17,520 --> 00:34:20,000
if i can encrypt ldap let's just do that

980
00:34:20,000 --> 00:34:21,760
these are the easy low hanging fruit

981
00:34:21,760 --> 00:34:23,119
that we can do

982
00:34:23,119 --> 00:34:24,960
ssh i still see telnet on people's

983
00:34:24,960 --> 00:34:26,079
networks

984
00:34:26,079 --> 00:34:27,839
still exist

985
00:34:27,839 --> 00:34:29,918
i think two years ago i spoke about dns

986
00:34:29,918 --> 00:34:31,440
over https

987
00:34:31,440 --> 00:34:33,040
i assume everybody's familiar with it by

988
00:34:33,040 --> 00:34:35,040
now where it's encrypting your dns

989
00:34:35,040 --> 00:34:36,719
request so if i

990
00:34:36,719 --> 00:34:38,800
encrypt my dns request

991
00:34:38,800 --> 00:34:40,159
that goes to

992
00:34:40,159 --> 00:34:42,239
pornhub or something

993
00:34:42,239 --> 00:34:44,960
notice my return is going to be a cdn

994
00:34:44,960 --> 00:34:46,560
well my uh

995
00:34:46,560 --> 00:34:50,000
my firewall that blocks adult material

996
00:34:50,000 --> 00:34:51,839
doesn't realize what that is because

997
00:34:51,839 --> 00:34:54,480
it's just giving me a cdn ip

998
00:34:54,480 --> 00:34:57,119
so it's an immediate bypass firefox

999
00:34:57,119 --> 00:34:58,240
released

1000
00:34:58,240 --> 00:35:00,880
uh h

1001
00:35:00,880 --> 00:35:03,520
dns or https as default

1002
00:35:03,520 --> 00:35:05,839
and everybody went into panic because at

1003
00:35:05,839 --> 00:35:07,359
that point we found that everybody could

1004
00:35:07,359 --> 00:35:10,640
bypass my filtering my blue coats and

1005
00:35:10,640 --> 00:35:12,560
all of that and even support within

1006
00:35:12,560 --> 00:35:14,000
those systems

1007
00:35:14,000 --> 00:35:17,599
was not really supported a long time ago

1008
00:35:17,599 --> 00:35:20,560
it is still kind of a black hole

1009
00:35:20,560 --> 00:35:23,359
alternatively dns over tls

1010
00:35:23,359 --> 00:35:26,560
i see a ton of open

1011
00:35:26,560 --> 00:35:29,520
dns communication not dns database

1012
00:35:29,520 --> 00:35:31,839
communication that is not encrypted

1013
00:35:31,839 --> 00:35:34,720
by default my sysadmins or dates admins

1014
00:35:34,720 --> 00:35:36,800
are not enabling that

1015
00:35:36,800 --> 00:35:38,880
and it i believe it's just one little

1016
00:35:38,880 --> 00:35:41,440
checkbox

1017
00:35:43,680 --> 00:35:47,119
oh man i'm killing this i'm fast

1018
00:35:47,119 --> 00:35:49,040
so there's no more silos i want

1019
00:35:49,040 --> 00:35:49,920
everybody to know you're really not

1020
00:35:49,920 --> 00:35:51,760
alone we're getting rid of silos

1021
00:35:51,760 --> 00:35:54,160
security people have always been outside

1022
00:35:54,160 --> 00:35:56,160
we got to work our way inside to the

1023
00:35:56,160 --> 00:35:58,560
people actually do the work and work

1024
00:35:58,560 --> 00:36:01,599
with them to get on board

1025
00:36:01,599 --> 00:36:03,359
be active in the community

1026
00:36:03,359 --> 00:36:04,880
my work we have

1027
00:36:04,880 --> 00:36:07,359
communities and what we call domains

1028
00:36:07,359 --> 00:36:08,800
so every two weeks somebody gives a

1029
00:36:08,800 --> 00:36:10,560
presentation like this

1030
00:36:10,560 --> 00:36:12,880
to refresh ourselves and we have subject

1031
00:36:12,880 --> 00:36:13,760
matter

1032
00:36:13,760 --> 00:36:15,040
experts come in for different groups

1033
00:36:15,040 --> 00:36:16,800
throughout the organization

1034
00:36:16,800 --> 00:36:18,880
um huge things security means mentor

1035
00:36:18,880 --> 00:36:20,240
somebody

1036
00:36:20,240 --> 00:36:21,119
if you've got somebody in the

1037
00:36:21,119 --> 00:36:22,240
organization who's interested in

1038
00:36:22,240 --> 00:36:24,240
security on the help desk like troy

1039
00:36:24,240 --> 00:36:26,560
found me on the help desk evsc

1040
00:36:26,560 --> 00:36:28,240
mentor that person

1041
00:36:28,240 --> 00:36:29,680
and bring them up and train them in the

1042
00:36:29,680 --> 00:36:31,200
way

1043
00:36:31,200 --> 00:36:33,520
and your system engineers need help they

1044
00:36:33,520 --> 00:36:34,640
want help

1045
00:36:34,640 --> 00:36:36,000
they may not always ask for it because

1046
00:36:36,000 --> 00:36:38,000
they tend to be pretty busy but reach

1047
00:36:38,000 --> 00:36:40,400
out to them and offer to

1048
00:36:40,400 --> 00:36:43,359
aid them in securing their stuff because

1049
00:36:43,359 --> 00:36:45,839
security guys tend to be the expert of

1050
00:36:45,839 --> 00:36:48,640
storage servers network because we have

1051
00:36:48,640 --> 00:36:50,480
to know it all we have to know at least

1052
00:36:50,480 --> 00:36:52,880
a little bit about everything and it

1053
00:36:52,880 --> 00:36:55,119
should be easy for us to ramp up on

1054
00:36:55,119 --> 00:36:58,000
specializing in securing ldap and become

1055
00:36:58,000 --> 00:36:59,200
the experts in that and reach out to

1056
00:36:59,200 --> 00:37:01,440
systems guys and say hey i got time on

1057
00:37:01,440 --> 00:37:03,839
friday do you want to go through this

1058
00:37:03,839 --> 00:37:05,920
and we'll just get you deployed securely

1059
00:37:05,920 --> 00:37:07,520
working with them rather than assigning

1060
00:37:07,520 --> 00:37:09,040
them a ticket it's probably going to

1061
00:37:09,040 --> 00:37:11,839
have better results

1062
00:37:12,240 --> 00:37:15,040
my dig my thing for the company

1063
00:37:15,040 --> 00:37:16,400
we're hiring

1064
00:37:16,400 --> 00:37:18,079
we got a three billion dollar initiative

1065
00:37:18,079 --> 00:37:19,599
for cloud first

1066
00:37:19,599 --> 00:37:21,680
and that is b with a b

1067
00:37:21,680 --> 00:37:22,800
billion

1068
00:37:22,800 --> 00:37:24,000
we have two six hundred twenty four

1069
00:37:24,000 --> 00:37:26,720
thousand employees worldwide

1070
00:37:26,720 --> 00:37:28,640
i work on a team my department i think

1071
00:37:28,640 --> 00:37:29,760
we have

1072
00:37:29,760 --> 00:37:32,960
or my group is probably eleven thousand

1073
00:37:32,960 --> 00:37:35,040
uh i did some search on the other day to

1074
00:37:35,040 --> 00:37:36,800
see how many job openings i had

1075
00:37:36,800 --> 00:37:40,240
throughout the whole world i got 14 578

1076
00:37:40,240 --> 00:37:42,720
that responded to information security

1077
00:37:42,720 --> 00:37:45,598
as a description

1078
00:37:46,079 --> 00:37:47,839
i have some stuff we got a little bit of

1079
00:37:47,839 --> 00:37:49,359
time

1080
00:37:49,359 --> 00:37:51,520
i threw this at the end

1081
00:37:51,520 --> 00:37:53,520
let me see if i put these in order

1082
00:37:53,520 --> 00:37:55,280
you guys uh i didn't just throw these in

1083
00:37:55,280 --> 00:37:56,880
i knew i'd run short

1084
00:37:56,880 --> 00:37:58,880
privileged access workstations i got

1085
00:37:58,880 --> 00:38:00,480
some time we'll cover this

1086
00:38:00,480 --> 00:38:01,599
uh

1087
00:38:01,599 --> 00:38:02,720
this is the biggest thing i have to push

1088
00:38:02,720 --> 00:38:06,240
in the cloud i do not want

1089
00:38:06,240 --> 00:38:09,200
somebody logging in from their work pc

1090
00:38:09,200 --> 00:38:11,920
into anything in the cloud that is even

1091
00:38:11,920 --> 00:38:13,119
remotely

1092
00:38:13,119 --> 00:38:15,119
uh sensitive

1093
00:38:15,119 --> 00:38:16,320
i don't know what malware they got in

1094
00:38:16,320 --> 00:38:18,240
their box they are the weakest of the

1095
00:38:18,240 --> 00:38:20,240
link is the people as we've found

1096
00:38:20,240 --> 00:38:23,440
through all the fishing that we run into

1097
00:38:23,440 --> 00:38:25,680
with privileged work privilege access

1098
00:38:25,680 --> 00:38:27,760
workstations we use uh

1099
00:38:27,760 --> 00:38:31,200
aws workspaces azure has like a remote

1100
00:38:31,200 --> 00:38:33,839
desktop solution or something they use

1101
00:38:33,839 --> 00:38:35,680
but imagine a machine you log into the

1102
00:38:35,680 --> 00:38:38,320
cloud of vdi that is yours it has your

1103
00:38:38,320 --> 00:38:39,760
putty settings

1104
00:38:39,760 --> 00:38:40,720
it has

1105
00:38:40,720 --> 00:38:42,880
a request piv for you to authenticate to

1106
00:38:42,880 --> 00:38:44,000
the machine

1107
00:38:44,000 --> 00:38:46,160
this is how we were able to do it we log

1108
00:38:46,160 --> 00:38:48,400
into your boxes so she's a personalized

1109
00:38:48,400 --> 00:38:50,480
bastion host

1110
00:38:50,480 --> 00:38:52,400
um

1111
00:38:52,400 --> 00:38:54,640
all privileged accounts

1112
00:38:54,640 --> 00:38:56,880
or privileged accounts and privileged

1113
00:38:56,880 --> 00:38:58,800
servers can only be accessed through

1114
00:38:58,800 --> 00:39:01,040
these boxes we have

1115
00:39:01,040 --> 00:39:03,839
a workspace box for

1116
00:39:03,839 --> 00:39:06,079
domain controllers and one for regular

1117
00:39:06,079 --> 00:39:07,200
servers

1118
00:39:07,200 --> 00:39:08,320
and

1119
00:39:08,320 --> 00:39:09,920
so you got the separation you're not

1120
00:39:09,920 --> 00:39:11,920
using the same box on two different

1121
00:39:11,920 --> 00:39:13,200
layers

1122
00:39:13,200 --> 00:39:14,800
biggest thing about this is it reduces

1123
00:39:14,800 --> 00:39:17,680
the attack surface

1124
00:39:17,680 --> 00:39:20,320
if we expo limit

1125
00:39:20,320 --> 00:39:22,640
the stuff that can get on that inbox

1126
00:39:22,640 --> 00:39:24,079
to adjust these boxes and these boxes

1127
00:39:24,079 --> 00:39:26,000
are locked down tight they have zero

1128
00:39:26,000 --> 00:39:27,839
internet access they get all their

1129
00:39:27,839 --> 00:39:29,599
updates from our internal

1130
00:39:29,599 --> 00:39:31,920
repos

1131
00:39:31,920 --> 00:39:34,000
there's no web browsing

1132
00:39:34,000 --> 00:39:36,160
pretty much it's a dumb box like

1133
00:39:36,160 --> 00:39:38,560
bastion hosts are supposed to be

1134
00:39:38,560 --> 00:39:40,320
and so far i've not seen spotify

1135
00:39:40,320 --> 00:39:43,119
installed on one like i have on a jump

1136
00:39:43,119 --> 00:39:45,440
box

1137
00:39:45,599 --> 00:39:46,480
oh

1138
00:39:46,480 --> 00:39:47,920
azure ad

1139
00:39:47,920 --> 00:39:49,680
everything costs money guys

1140
00:39:49,680 --> 00:39:51,440
if you want any of their advanced stuff

1141
00:39:51,440 --> 00:39:52,560
any of their privileged identity

1142
00:39:52,560 --> 00:39:54,000
management their pim

1143
00:39:54,000 --> 00:39:56,640
their one-time passwords you got to pay

1144
00:39:56,640 --> 00:39:58,160
nine bucks a month

1145
00:39:58,160 --> 00:39:59,440
kind of the deal

1146
00:39:59,440 --> 00:40:00,640
uh

1147
00:40:00,640 --> 00:40:03,680
risk events valuation leather logging

1148
00:40:03,680 --> 00:40:05,200
and to get that

1149
00:40:05,200 --> 00:40:07,680
secret sauce or that voodoo you the

1150
00:40:07,680 --> 00:40:09,359
risk-based conditional access you have

1151
00:40:09,359 --> 00:40:11,920
to pay for that

1152
00:40:12,000 --> 00:40:14,800
and those are my things

1153
00:40:14,800 --> 00:40:17,040
um i think i had one here here's my

1154
00:40:17,040 --> 00:40:19,760
example of privilege access this is how

1155
00:40:19,760 --> 00:40:22,079
i designed out how to handle

1156
00:40:22,079 --> 00:40:24,640
access to nessus where i have my

1157
00:40:24,640 --> 00:40:26,800
security engineer he goes through an

1158
00:40:26,800 --> 00:40:28,480
external firewall this is my early

1159
00:40:28,480 --> 00:40:30,400
design

1160
00:40:30,400 --> 00:40:31,280
and

1161
00:40:31,280 --> 00:40:32,720
through the open vpn because we're

1162
00:40:32,720 --> 00:40:35,040
originally having everybody do open vpns

1163
00:40:35,040 --> 00:40:36,640
from that vpn

1164
00:40:36,640 --> 00:40:39,119
to get into nasus you would be prompted

1165
00:40:39,119 --> 00:40:42,079
for your piv your hardware token

1166
00:40:42,079 --> 00:40:43,359
and then from the hardware throw can

1167
00:40:43,359 --> 00:40:45,760
there be a firewall rule allowing

1168
00:40:45,760 --> 00:40:48,880
that privileged access workstation only

1169
00:40:48,880 --> 00:40:51,359
allowed to the ness's front end because

1170
00:40:51,359 --> 00:40:53,680
i don't want that paw there's no reason

1171
00:40:53,680 --> 00:40:55,119
for it to get to

1172
00:40:55,119 --> 00:40:57,040
the back end of nessus the database that

1173
00:40:57,040 --> 00:40:57,839
has

1174
00:40:57,839 --> 00:41:00,400
all of your information in it so using a

1175
00:41:00,400 --> 00:41:04,000
layer 7 firewall i was blocking that

1176
00:41:04,000 --> 00:41:05,599
so the only communication was between

1177
00:41:05,599 --> 00:41:07,599
nessus and its back end through a

1178
00:41:07,599 --> 00:41:09,280
different policy

1179
00:41:09,280 --> 00:41:13,440
and i limited the paw only to port 443

1180
00:41:13,440 --> 00:41:15,520
on the front end and they would get two

1181
00:41:15,520 --> 00:41:17,520
prompts they would get their piv and

1182
00:41:17,520 --> 00:41:19,119
they would get their

1183
00:41:19,119 --> 00:41:22,800
login to nessa specifically

1184
00:41:22,800 --> 00:41:24,319
we could change that but for something

1185
00:41:24,319 --> 00:41:26,079
like this i would have it the tightest

1186
00:41:26,079 --> 00:41:28,880
security i had

1187
00:41:29,119 --> 00:41:32,079
and those are kind of my extra slides

1188
00:41:32,079 --> 00:41:35,200
got any questions for me

1189
00:41:35,200 --> 00:41:38,560
is it overwhelming yeah

1190
00:41:46,240 --> 00:41:49,359
it is automation of docker deployments

1191
00:41:49,359 --> 00:41:51,920
so if i want to deploy like 26 docker

1192
00:41:51,920 --> 00:41:53,200
containers

1193
00:41:53,200 --> 00:41:55,680
terraform will i create my script i tell

1194
00:41:55,680 --> 00:41:57,359
it how to create them i set all the

1195
00:41:57,359 --> 00:41:59,200
parameters that docker needs

1196
00:41:59,200 --> 00:42:01,119
the ami

1197
00:42:01,119 --> 00:42:04,079
all of that stuff the api creds

1198
00:42:04,079 --> 00:42:05,359
and i hit

1199
00:42:05,359 --> 00:42:06,319
run

1200
00:42:06,319 --> 00:42:08,800
and it will deploy all 26

1201
00:42:08,800 --> 00:42:10,319
and it will have it to do its thing and

1202
00:42:10,319 --> 00:42:11,680
then it will shut down

1203
00:42:11,680 --> 00:42:12,800
and

1204
00:42:12,800 --> 00:42:15,760
kill all those because for me docker is

1205
00:42:15,760 --> 00:42:19,280
for what i use it for is short-term use

1206
00:42:19,280 --> 00:42:21,200
i want something and i just want to do a

1207
00:42:21,200 --> 00:42:23,599
dirty task real fast that's what i use

1208
00:42:23,599 --> 00:42:25,680
docker for i don't ever use it for like

1209
00:42:25,680 --> 00:42:26,960
sustained

1210
00:42:26,960 --> 00:42:28,720
applications although a lot of people

1211
00:42:28,720 --> 00:42:30,480
use it for web servers which i think is

1212
00:42:30,480 --> 00:42:32,160
probably pretty solid but they kill

1213
00:42:32,160 --> 00:42:34,079
those web servers every

1214
00:42:34,079 --> 00:42:35,760
you know hour or whatever and rebuild

1215
00:42:35,760 --> 00:42:37,920
them

1216
00:42:41,280 --> 00:42:44,680
anybody else

1217
00:42:45,599 --> 00:42:47,920
all right i'll let you guys go oh wait

1218
00:42:47,920 --> 00:42:50,640
in the back sorry

1219
00:42:52,000 --> 00:42:56,240
i use oil because my face gets dry

1220
00:42:56,240 --> 00:42:57,040
and

1221
00:42:57,040 --> 00:42:58,640
yeah i got this stuff that keeps it from

1222
00:42:58,640 --> 00:43:00,880
going frizzy

1223
00:43:00,880 --> 00:43:02,560
beard shampoo is where it's at guys and

1224
00:43:02,560 --> 00:43:04,000
conditioner

1225
00:43:04,000 --> 00:43:05,359
make sure if you can't grow a big beard

1226
00:43:05,359 --> 00:43:07,920
starts itching condition it

1227
00:43:07,920 --> 00:43:09,760
that'll fix your problems

1228
00:43:09,760 --> 00:43:13,640
thanks i appreciate it

