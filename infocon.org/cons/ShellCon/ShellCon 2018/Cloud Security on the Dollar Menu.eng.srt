1
00:00:00,000 --> 00:00:05,730
this is called security on the dollar

2
00:00:03,360 --> 00:00:07,259
menu with our nel Manila our nel is a

3
00:00:05,730 --> 00:00:08,340
separate security architect every team a

4
00:00:07,259 --> 00:00:09,420
technology solutions

5
00:00:08,340 --> 00:00:10,980
Arnel has more than nine years of

6
00:00:09,420 --> 00:00:12,629
experience in the information technology

7
00:00:10,980 --> 00:00:14,130
and cybersecurity industry with an

8
00:00:12,630 --> 00:00:16,049
emphasis on developing strategic

9
00:00:14,130 --> 00:00:17,160
security solutions for highly regulated

10
00:00:16,049 --> 00:00:19,289
financial services and healthcare

11
00:00:17,160 --> 00:00:22,470
organizations please welcome our another

12
00:00:19,289 --> 00:00:24,840
shock on 2018 thanks everyone

13
00:00:22,470 --> 00:00:26,519
so in a morning kind of going pretty

14
00:00:24,840 --> 00:00:29,189
good they start serving drinks out there

15
00:00:26,519 --> 00:00:31,198
as I told some of you already I had the

16
00:00:29,189 --> 00:00:34,200
luxury of being treated to a few of them

17
00:00:31,199 --> 00:00:37,230
so as time goes on if I get a little

18
00:00:34,200 --> 00:00:38,670
wheezy or certain giggling you know what

19
00:00:37,230 --> 00:00:40,110
that's all about so yeah so cloud

20
00:00:38,670 --> 00:00:42,570
security on a dollar menu what does that

21
00:00:40,110 --> 00:00:44,129
mean so what that basically means is

22
00:00:42,570 --> 00:00:45,629
there's hundreds of tools out there all

23
00:00:44,129 --> 00:00:47,218
the way from enterprise grade to open

24
00:00:45,629 --> 00:00:48,570
source that you can use to kind of

25
00:00:47,219 --> 00:00:50,489
secure and lock down your cloud now

26
00:00:48,570 --> 00:00:52,649
obviously with that said you know they

27
00:00:50,489 --> 00:00:54,059
they range in price and cost right so a

28
00:00:52,649 --> 00:00:55,170
lot of times especially if you're just

29
00:00:54,059 --> 00:00:57,480
experimenting and you want to kind of

30
00:00:55,170 --> 00:00:58,829
get a baseline going you may not need or

31
00:00:57,480 --> 00:01:01,440
want one of the really high end

32
00:00:58,829 --> 00:01:03,149
enterprise tools that can go up four

33
00:01:01,440 --> 00:01:04,949
thousand dollars a month to hundreds of

34
00:01:03,149 --> 00:01:06,600
thousand dollars a year depending on the

35
00:01:04,949 --> 00:01:07,740
use case I mean going from like Sims up

36
00:01:06,600 --> 00:01:08,880
in there when you get Splunk or

37
00:01:07,740 --> 00:01:10,830
logarithm

38
00:01:08,880 --> 00:01:12,240
that's another things that they're very

39
00:01:10,830 --> 00:01:13,950
handy and useful but we're not going to

40
00:01:12,240 --> 00:01:15,210
address those today because we want to

41
00:01:13,950 --> 00:01:16,470
really make sure that we hit a good

42
00:01:15,210 --> 00:01:19,229
baseline off of what you can utilize

43
00:01:16,470 --> 00:01:22,009
that's open source and included for a

44
00:01:19,229 --> 00:01:27,090
little small fee with AWS

45
00:01:22,009 --> 00:01:28,950
so today's agenda introductions we'll go

46
00:01:27,090 --> 00:01:31,140
over what Richy make technology solution

47
00:01:28,950 --> 00:01:32,909
is and what what we do if you've

48
00:01:31,140 --> 00:01:34,829
familiar with AWS security model I

49
00:01:32,909 --> 00:01:37,170
apologize for those who aren't familiar

50
00:01:34,829 --> 00:01:39,529
with it it's just the kind of streamline

51
00:01:37,170 --> 00:01:41,670
and you'll see it again in the future so

52
00:01:39,530 --> 00:01:44,009
then other than that we're gonna dive

53
00:01:41,670 --> 00:01:45,540
into what really drives this

54
00:01:44,009 --> 00:01:50,040
conversation and that can be you know

55
00:01:45,540 --> 00:01:51,780
breaches public loss of reputation and

56
00:01:50,040 --> 00:01:53,100
then also state laws it can also be

57
00:01:51,780 --> 00:01:54,899
compliant reasons everything like that

58
00:01:53,100 --> 00:01:56,100
so what we're really going to focus on

59
00:01:54,899 --> 00:01:57,479
on this presentation are some of the

60
00:01:56,100 --> 00:02:00,030
state laws that are coming out that this

61
00:01:57,479 --> 00:02:01,170
could impact AWS workloads and then

62
00:02:00,030 --> 00:02:02,729
after I'm done going over all that

63
00:02:01,170 --> 00:02:04,619
boring stuff we'll dive in a little bit

64
00:02:02,729 --> 00:02:06,060
into the fun part where I'll show you

65
00:02:04,619 --> 00:02:07,860
some good tools that you can use that

66
00:02:06,060 --> 00:02:09,840
are on github they're open source so to

67
00:02:07,860 --> 00:02:11,190
do some basic recon or some publicly

68
00:02:09,840 --> 00:02:13,410
available sites you just need to account

69
00:02:11,190 --> 00:02:14,040
to sign up to use and after all that

70
00:02:13,410 --> 00:02:15,959
stuff when I show you

71
00:02:14,040 --> 00:02:17,159
to find all this stuff okay I found all

72
00:02:15,959 --> 00:02:18,989
these things in these issues now how do

73
00:02:17,159 --> 00:02:20,909
I lock it down and I'll go over some use

74
00:02:18,989 --> 00:02:24,230
cases and ways to kind of harden your

75
00:02:20,909 --> 00:02:26,459
AWS environment so a little bit about me

76
00:02:24,230 --> 00:02:28,530
excellent introduction born from Jared

77
00:02:26,459 --> 00:02:32,069
there you know I kind of started off as

78
00:02:28,530 --> 00:02:34,319
a sysadmin a helpdesk guy

79
00:02:32,069 --> 00:02:35,640
network engineer and as times always

80
00:02:34,319 --> 00:02:37,170
gone on I kind of had like this question

81
00:02:35,640 --> 00:02:38,548
the back of my head of cool I got all

82
00:02:37,170 --> 00:02:40,768
this stuff working but how do I secure

83
00:02:38,549 --> 00:02:42,120
it right and so my boss is n1 God and

84
00:02:40,769 --> 00:02:43,980
Kylian annoyed with me and said well

85
00:02:42,120 --> 00:02:45,629
just go into security already get over

86
00:02:43,980 --> 00:02:47,488
get over with this stop trying to you

87
00:02:45,629 --> 00:02:49,500
know run the show and cause problems so

88
00:02:47,489 --> 00:02:51,269
start off as a sysadmin just handling

89
00:02:49,500 --> 00:02:54,540
tickets you know sending them off to

90
00:02:51,269 --> 00:02:55,680
analysts to go do deeper dives and

91
00:02:54,540 --> 00:02:57,090
always want to be like okay well what's

92
00:02:55,680 --> 00:02:58,260
the next level on there so through the

93
00:02:57,090 --> 00:03:00,180
course of events you know I moved up

94
00:02:58,260 --> 00:03:01,200
from analyst to an engineer to

95
00:03:00,180 --> 00:03:03,239
eventually where I am now as an

96
00:03:01,200 --> 00:03:04,980
architect I've worked in small medium

97
00:03:03,239 --> 00:03:06,659
sized businesses anywhere from 10 guys

98
00:03:04,980 --> 00:03:07,918
out of shop for the entire company all

99
00:03:06,659 --> 00:03:09,720
the way up to huge international

100
00:03:07,919 --> 00:03:11,639
conglomerates is of 80,000 employees or

101
00:03:09,720 --> 00:03:12,930
more I'd have to say that my favorite

102
00:03:11,639 --> 00:03:14,519
sweet spot is the small and medium-sized

103
00:03:12,930 --> 00:03:16,560
businesses because you can still buy

104
00:03:14,519 --> 00:03:17,760
cool tech or you utilize open source

105
00:03:16,560 --> 00:03:19,709
technologies but you can make a big

106
00:03:17,760 --> 00:03:20,578
impact real quick if you needed to you

107
00:03:19,709 --> 00:03:23,250
don't have to go through all the red

108
00:03:20,579 --> 00:03:25,709
tape and things that a lot of times the

109
00:03:23,250 --> 00:03:28,319
big corporations have I think it took

110
00:03:25,709 --> 00:03:30,359
three months for a VM to get spun up for

111
00:03:28,319 --> 00:03:33,720
me at a place in was not very happy

112
00:03:30,359 --> 00:03:35,819
about that so that's why small media is

113
00:03:33,720 --> 00:03:38,940
my favorite spot so about Richie made

114
00:03:35,819 --> 00:03:41,069
technology solutions so we offer a big

115
00:03:38,940 --> 00:03:42,299
breadth of service offerings depending

116
00:03:41,069 --> 00:03:45,510
on who our clients are and what their

117
00:03:42,299 --> 00:03:47,579
needs are so we both have two real

118
00:03:45,510 --> 00:03:49,918
high-level categories that funnels down

119
00:03:47,579 --> 00:03:51,000
to first one is the VC so offering or

120
00:03:49,919 --> 00:03:52,799
we're basically your virtual security

121
00:03:51,000 --> 00:03:54,659
team we have teams of architects and

122
00:03:52,799 --> 00:03:56,489
engineers and analysts all throughout

123
00:03:54,659 --> 00:03:58,290
the country coast-to-coast

124
00:03:56,489 --> 00:04:00,359
so you get to utilize us from there then

125
00:03:58,290 --> 00:04:03,000
we also have a VCI OSI which is a lot of

126
00:04:00,359 --> 00:04:04,560
sis admins and sis engineers all the way

127
00:04:03,000 --> 00:04:06,299
down to help desk across the nation as

128
00:04:04,560 --> 00:04:09,090
well so depending on what you need if

129
00:04:06,299 --> 00:04:10,439
it's GRC one of our employees they

130
00:04:09,090 --> 00:04:12,870
actually built the GRC program for

131
00:04:10,439 --> 00:04:14,939
Walmart so he's very very confident

132
00:04:12,870 --> 00:04:16,409
knows his stuff you basically subscribe

133
00:04:14,939 --> 00:04:18,449
to our service as a monthly fee

134
00:04:16,409 --> 00:04:20,159
we established workloads and what you

135
00:04:18,449 --> 00:04:21,389
need to do the help gauge that's not

136
00:04:20,159 --> 00:04:23,400
like a flat rate you know and then it's

137
00:04:21,389 --> 00:04:24,889
all the cart well if you just want to

138
00:04:23,400 --> 00:04:26,210
point engagement to come in and

139
00:04:24,889 --> 00:04:28,280
security assessment or a vulnerability

140
00:04:26,210 --> 00:04:33,349
test or penetration test we can do all

141
00:04:28,280 --> 00:04:36,049
that stuff so here's the infamous slide

142
00:04:33,349 --> 00:04:38,569
that everyone has seen so basically they

143
00:04:36,050 --> 00:04:39,740
break it down to two items right so

144
00:04:38,569 --> 00:04:41,419
there's the security in the cloud

145
00:04:39,740 --> 00:04:42,800
basically Amazon says anything you stick

146
00:04:41,419 --> 00:04:45,020
in our environment you're responsible

147
00:04:42,800 --> 00:04:45,830
for so if you make a buck and you throw

148
00:04:45,020 --> 00:04:47,539
files up there that's your

149
00:04:45,830 --> 00:04:49,520
responsibility if you spin up an ec2 and

150
00:04:47,539 --> 00:04:50,960
since even if it's off of a an ami

151
00:04:49,520 --> 00:04:52,580
you're still responsible for that

152
00:04:50,960 --> 00:04:53,900
resource they're not going to go in and

153
00:04:52,580 --> 00:04:54,650
patch and harden and do all these other

154
00:04:53,900 --> 00:04:57,409
things for you that's your

155
00:04:54,650 --> 00:04:59,448
responsibility underneath all that stuff

156
00:04:57,409 --> 00:05:01,550
is AWS they're basically responsible for

157
00:04:59,449 --> 00:05:02,629
the bare metal it gets a little bit

158
00:05:01,550 --> 00:05:06,439
interesting when you're talking about

159
00:05:02,629 --> 00:05:08,419
DynamoDB DB or Amazon RT BETT RDS where

160
00:05:06,439 --> 00:05:11,779
they're basically managing the databases

161
00:05:08,419 --> 00:05:13,938
for you from an Operations perspective

162
00:05:11,779 --> 00:05:15,139
right they want to make sure that H a is

163
00:05:13,939 --> 00:05:16,909
doing good they wanna make sure that

164
00:05:15,139 --> 00:05:18,289
everything is updated on the backend

165
00:05:16,909 --> 00:05:19,849
you've just got to worry about what

166
00:05:18,289 --> 00:05:21,349
you're putting into their databases

167
00:05:19,849 --> 00:05:22,998
right and if you're encrypting it in

168
00:05:21,349 --> 00:05:28,789
securing in and have proper iam roles

169
00:05:22,999 --> 00:05:31,699
and everything like that so right here

170
00:05:28,789 --> 00:05:33,349
is the AWS leader board for incidents so

171
00:05:31,699 --> 00:05:34,669
everyone's familiar with uber kind of

172
00:05:33,349 --> 00:05:36,409
what happened there fifty-seven million

173
00:05:34,669 --> 00:05:38,599
customer records and driver records

174
00:05:36,409 --> 00:05:41,449
compromised that's no good

175
00:05:38,599 --> 00:05:44,029
Time Warner Cable came up next with four

176
00:05:41,449 --> 00:05:45,349
million and the last one github I really

177
00:05:44,029 --> 00:05:47,240
want to throw that one on github because

178
00:05:45,349 --> 00:05:49,550
kind of like with AWS shared security

179
00:05:47,240 --> 00:05:52,129
model github is not responsible for what

180
00:05:49,550 --> 00:05:55,669
you put in github right so it's just the

181
00:05:52,129 --> 00:05:58,610
platform they use so but it's still you

182
00:05:55,669 --> 00:05:59,330
know an area that needs focus on so the

183
00:05:58,610 --> 00:06:01,360
first one here

184
00:05:59,330 --> 00:06:04,039
uber everyone's familiar with it

185
00:06:01,360 --> 00:06:06,229
basically they found their credentials

186
00:06:04,039 --> 00:06:07,789
in github and then after that they

187
00:06:06,229 --> 00:06:08,870
logged on with those credentials and

188
00:06:07,789 --> 00:06:10,969
started downloading stuff out of their

189
00:06:08,870 --> 00:06:13,610
buckets right and then to add on top of

190
00:06:10,969 --> 00:06:15,020
the hat they tried to keep the hacker

191
00:06:13,610 --> 00:06:17,659
silent by giving them a hundred thousand

192
00:06:15,020 --> 00:06:19,609
dollars so it's like no not only do we

193
00:06:17,659 --> 00:06:22,099
not implement security controls not only

194
00:06:19,610 --> 00:06:24,289
did we not fix the problem beforehand or

195
00:06:22,099 --> 00:06:25,639
afterwards and we tried to sweep it

196
00:06:24,289 --> 00:06:28,370
under the rug and pay him off to be

197
00:06:25,639 --> 00:06:30,050
quiet so with all that being said you

198
00:06:28,370 --> 00:06:32,449
know it's a little late you know got a

199
00:06:30,050 --> 00:06:33,979
guy to do this stuff beforehand so some

200
00:06:32,449 --> 00:06:35,389
of the stuff we'll talk about later will

201
00:06:33,979 --> 00:06:38,849
kind of outline on where they should

202
00:06:35,389 --> 00:06:41,099
have made some changes next one is

203
00:06:38,849 --> 00:06:43,520
Warner so buckets holy buckets don't

204
00:06:41,099 --> 00:06:45,990
hold water everyone knows that phrase

205
00:06:43,520 --> 00:06:47,128
meaning if you put a bucket and stuff up

206
00:06:45,990 --> 00:06:48,749
in the cloud you gotta make sure you

207
00:06:47,129 --> 00:06:51,809
have proper ACLs tightened down you have

208
00:06:48,749 --> 00:06:53,189
proper I am roles access list and don't

209
00:06:51,809 --> 00:06:55,860
make it publicly available if you don't

210
00:06:53,189 --> 00:06:57,959
want it to and so what happened what

211
00:06:55,860 --> 00:07:00,199
Time Warner is they basically found MAC

212
00:06:57,959 --> 00:07:02,459
addresses for PCs the count information

213
00:07:00,199 --> 00:07:04,529
and not only that but they had like some

214
00:07:02,459 --> 00:07:06,779
old databases and stuff up in the cloud

215
00:07:04,529 --> 00:07:08,939
that had code with credentials in it to

216
00:07:06,779 --> 00:07:10,800
their internal system so again don't

217
00:07:08,939 --> 00:07:12,479
hard-code your credentials into your

218
00:07:10,800 --> 00:07:13,919
stuff all right

219
00:07:12,479 --> 00:07:16,769
I don't think anything else needs to be

220
00:07:13,919 --> 00:07:19,438
said about that so breaches

221
00:07:16,769 --> 00:07:21,869
so basically breaches here's a diagram

222
00:07:19,439 --> 00:07:23,339
of the states all the yellow ones mean

223
00:07:21,869 --> 00:07:24,869
that they only care about breach

224
00:07:23,339 --> 00:07:27,029
notifications if it's electronic data

225
00:07:24,869 --> 00:07:29,429
only meaning if there's some papers that

226
00:07:27,029 --> 00:07:30,659
get lost they don't care about it even

227
00:07:29,429 --> 00:07:32,599
if it's you know an entire warehouse

228
00:07:30,659 --> 00:07:34,769
full of client data that's all paper

229
00:07:32,599 --> 00:07:37,469
they don't care it just only has to be

230
00:07:34,769 --> 00:07:38,759
electric data now all the other other

231
00:07:37,469 --> 00:07:42,119
colors the green there that means is

232
00:07:38,759 --> 00:07:43,680
electronic or tangible I kind of don't

233
00:07:42,119 --> 00:07:45,389
like everyone moving to electronic only

234
00:07:43,680 --> 00:07:47,159
because I still find value in physical

235
00:07:45,389 --> 00:07:48,689
data especially if you're ever doing any

236
00:07:47,159 --> 00:07:51,269
sweeps or you're doing any kind of like

237
00:07:48,689 --> 00:07:52,919
pin testing or site surveillance you can

238
00:07:51,269 --> 00:07:55,559
find a lot of stuff in people's trash I

239
00:07:52,919 --> 00:07:56,969
mean I don't don't like to admit to that

240
00:07:55,559 --> 00:07:58,229
but you can go find business cards you

241
00:07:56,969 --> 00:08:00,779
can find medical records I worked at a

242
00:07:58,229 --> 00:08:02,279
place where they were dumping all the

243
00:08:00,779 --> 00:08:04,050
medical records into a normal garbage

244
00:08:02,279 --> 00:08:05,249
bin underneath the desk after they were

245
00:08:04,050 --> 00:08:06,930
done printing and saying this stuff off

246
00:08:05,249 --> 00:08:08,519
well the cleaning crew came in that

247
00:08:06,930 --> 00:08:10,110
night they loaded up everything into

248
00:08:08,519 --> 00:08:12,360
their buck into their big you know

249
00:08:10,110 --> 00:08:14,009
larger dump dumpsters then they had the

250
00:08:12,360 --> 00:08:15,659
will that across the parking lot to dump

251
00:08:14,009 --> 00:08:17,490
that into the bigger dumpster right well

252
00:08:15,659 --> 00:08:20,339
it was a windy night and what ended up

253
00:08:17,490 --> 00:08:22,229
happening is the wind got hold of it all

254
00:08:20,339 --> 00:08:24,059
the medical records and data got spilt

255
00:08:22,229 --> 00:08:25,740
out and blew all over the place right so

256
00:08:24,059 --> 00:08:27,659
yeah of course that's a small isolated

257
00:08:25,740 --> 00:08:29,159
incident but I think where this is

258
00:08:27,659 --> 00:08:30,509
heading that means that people aren't

259
00:08:29,159 --> 00:08:32,188
necessarily going to care about physical

260
00:08:30,509 --> 00:08:37,019
security Oh tangible data as much as

261
00:08:32,188 --> 00:08:39,059
they should and then from there here's

262
00:08:37,019 --> 00:08:42,328
breach notification harm threshold so

263
00:08:39,059 --> 00:08:43,978
yellow means yes green means no so what

264
00:08:42,328 --> 00:08:45,540
that means harm threshold that's

265
00:08:43,979 --> 00:08:47,040
basically saying they're gonna do an

266
00:08:45,540 --> 00:08:48,809
initial investigation and they're gonna

267
00:08:47,040 --> 00:08:51,209
see is there gonna be substantial harm

268
00:08:48,809 --> 00:08:52,649
to the residents or people impacted if

269
00:08:51,209 --> 00:08:55,008
there's not going to be any substantial

270
00:08:52,649 --> 00:08:57,930
then you don't need to do a breach so

271
00:08:55,009 --> 00:09:00,300
the states that have the areas you know

272
00:08:57,930 --> 00:09:02,399
so California if you have any breach at

273
00:09:00,300 --> 00:09:03,959
all it doesn't doesn't matter if you're

274
00:09:02,399 --> 00:09:05,160
going to have an impact to the residents

275
00:09:03,959 --> 00:09:07,079
or not you have to do a breach

276
00:09:05,160 --> 00:09:08,610
notification and this is a lot of the

277
00:09:07,079 --> 00:09:10,769
driving factors behind hardening and

278
00:09:08,610 --> 00:09:12,209
securing your controls is because no one

279
00:09:10,769 --> 00:09:15,149
wants their face on the news of saying

280
00:09:12,209 --> 00:09:16,679
hey this XYZ company lost all this data

281
00:09:15,149 --> 00:09:20,100
and here's what's going on right it

282
00:09:16,679 --> 00:09:23,100
hurts revenue at heart share it's it's

283
00:09:20,100 --> 00:09:24,269
bad news so here's specifically

284
00:09:23,100 --> 00:09:26,369
California

285
00:09:24,269 --> 00:09:28,889
breach laws they just signed this into

286
00:09:26,369 --> 00:09:31,619
June the CCPA or is everyone familiar

287
00:09:28,889 --> 00:09:35,009
with the CCPA basically what that that's

288
00:09:31,619 --> 00:09:36,929
that does is you can sue a company if

289
00:09:35,009 --> 00:09:38,189
they lose your stuff that's what it

290
00:09:36,929 --> 00:09:39,809
boils down to so this goes into effect

291
00:09:38,189 --> 00:09:41,910
January of 2020

292
00:09:39,809 --> 00:09:43,050
so giving company some time to make sure

293
00:09:41,910 --> 00:09:44,759
they write the ship and they harden

294
00:09:43,050 --> 00:09:46,258
their controls and everything however

295
00:09:44,759 --> 00:09:47,579
you know that's something you got to go

296
00:09:46,259 --> 00:09:49,230
out there and say you know if we if we

297
00:09:47,579 --> 00:09:50,609
don't lock down our PII or sensitive

298
00:09:49,230 --> 00:09:51,839
data or whatever could impact your

299
00:09:50,610 --> 00:09:55,110
clients whatever your secret sauce is

300
00:09:51,839 --> 00:09:56,399
they can come back and sue us per person

301
00:09:55,110 --> 00:09:58,620
and then they come in in this big

302
00:09:56,399 --> 00:10:00,300
litigious battle not not counting just

303
00:09:58,620 --> 00:10:02,339
the penalties you're gonna have to go

304
00:10:00,300 --> 00:10:04,319
through but all the man-hours loss of

305
00:10:02,339 --> 00:10:05,639
having to go through dig up logs it's

306
00:10:04,319 --> 00:10:09,300
just a nightmare no one wants to go

307
00:10:05,639 --> 00:10:11,459
don't get into so definitely make sure

308
00:10:09,300 --> 00:10:14,128
you have a mature cybersecurity program

309
00:10:11,459 --> 00:10:15,599
some other state focuses so those of you

310
00:10:14,129 --> 00:10:17,370
are a little bit more national across

311
00:10:15,600 --> 00:10:19,439
the way we're starting to recognize a

312
00:10:17,370 --> 00:10:21,149
shift where more and more states are now

313
00:10:19,439 --> 00:10:23,219
hopping on board realizing hey you know

314
00:10:21,149 --> 00:10:24,600
after the big breaches and everything we

315
00:10:23,220 --> 00:10:26,429
need a really sharpen our rules and laws

316
00:10:24,600 --> 00:10:28,980
because we're way behind the curve here

317
00:10:26,429 --> 00:10:31,040
and so Arizona basically kind of dumped

318
00:10:28,980 --> 00:10:33,300
in there and added a little bit more

319
00:10:31,040 --> 00:10:36,629
data on there they kind of basically

320
00:10:33,300 --> 00:10:38,099
expand on what PII is so that it better

321
00:10:36,629 --> 00:10:41,519
guides people on how they need to

322
00:10:38,100 --> 00:10:43,740
control things and then on top of that

323
00:10:41,519 --> 00:10:45,600
you can do civil penalties ten thousand

324
00:10:43,740 --> 00:10:47,339
to five hundred thousand per incident so

325
00:10:45,600 --> 00:10:49,199
that's not per breach so let's say you

326
00:10:47,339 --> 00:10:50,579
had one breach but there was several

327
00:10:49,199 --> 00:10:52,769
incidents inside that breach like let's

328
00:10:50,579 --> 00:10:54,540
say you didn't have MFA on a privileged

329
00:10:52,769 --> 00:10:56,970
account that's an incident let's say you

330
00:10:54,540 --> 00:10:58,319
had publicly available buckets and other

331
00:10:56,970 --> 00:11:00,240
information that's another incident and

332
00:10:58,319 --> 00:11:01,740
so as you can see as time kind of goes

333
00:11:00,240 --> 00:11:02,790
on there's ten thousand five hundred

334
00:11:01,740 --> 00:11:04,379
thousand dollars so you can just add up

335
00:11:02,790 --> 00:11:05,819
quickly depending on who's looking at

336
00:11:04,379 --> 00:11:09,720
the case and what's going on

337
00:11:05,820 --> 00:11:12,120
so Colorado House bill basically along

338
00:11:09,720 --> 00:11:14,070
the lines of Arizona they added more

339
00:11:12,120 --> 00:11:15,930
details because as being cybersecurity

340
00:11:14,070 --> 00:11:17,790
professionals we need details we need to

341
00:11:15,930 --> 00:11:19,319
know what we need to control we need to

342
00:11:17,790 --> 00:11:21,959
know what our bounds and our rules of

343
00:11:19,320 --> 00:11:23,340
operations reciting and that's kind of

344
00:11:21,960 --> 00:11:24,750
tough with laws because a lot of time

345
00:11:23,340 --> 00:11:26,970
they're open to interpretation so it

346
00:11:24,750 --> 00:11:28,380
makes a little bit harder right so what

347
00:11:26,970 --> 00:11:30,750
the Colorado House bill is they kind of

348
00:11:28,380 --> 00:11:32,460
dove in there and they kind of clarified

349
00:11:30,750 --> 00:11:34,650
a lot of that stuff to kind of better

350
00:11:32,460 --> 00:11:37,290
point us in into a right direction and

351
00:11:34,650 --> 00:11:38,610
then not only that you know then we'll

352
00:11:37,290 --> 00:11:40,380
make sure it's reasonable so they look

353
00:11:38,610 --> 00:11:42,300
at the size of your organization look

354
00:11:40,380 --> 00:11:43,950
how you're handling the data obviously

355
00:11:42,300 --> 00:11:45,540
if you're making a few million dollars a

356
00:11:43,950 --> 00:11:47,310
year in total revenue they're not going

357
00:11:45,540 --> 00:11:49,500
to go ask you to go purchase a huge tool

358
00:11:47,310 --> 00:11:53,969
and an entire security team because it's

359
00:11:49,500 --> 00:11:56,640
it's not reasonable at that point Ohio

360
00:11:53,970 --> 00:11:58,650
on the flip side of that basically said

361
00:11:56,640 --> 00:12:00,569
we're going to add on to the safe harbor

362
00:11:58,650 --> 00:12:02,360
rule and what that means is if you're

363
00:12:00,570 --> 00:12:04,830
following an industry standard like PCI

364
00:12:02,360 --> 00:12:07,190
ISO NIST anything that's reckon lis

365
00:12:04,830 --> 00:12:10,830
recognized FFIEC for federal financial

366
00:12:07,190 --> 00:12:13,410
companies you'll protect it at that

367
00:12:10,830 --> 00:12:15,300
point you came in your PCI compliant the

368
00:12:13,410 --> 00:12:17,550
hacker or whatever was just that good I

369
00:12:15,300 --> 00:12:18,599
mean you can't you can't really solve

370
00:12:17,550 --> 00:12:20,010
that if you're like man I did the

371
00:12:18,600 --> 00:12:22,890
baselines I can't foresee everything

372
00:12:20,010 --> 00:12:24,270
that's why we all have jobs right if we

373
00:12:22,890 --> 00:12:27,930
knew what the hackers and attackers were

374
00:12:24,270 --> 00:12:29,579
gonna do we wouldn't be here and then to

375
00:12:27,930 --> 00:12:31,410
kind of add on to that a little bit you

376
00:12:29,580 --> 00:12:33,180
know they say reasonable a lot in the

377
00:12:31,410 --> 00:12:34,680
state laws and we've spoken to a few

378
00:12:33,180 --> 00:12:37,979
attorneys and say well help us out you

379
00:12:34,680 --> 00:12:39,209
know what is reasonable you know where

380
00:12:37,980 --> 00:12:40,890
do you guys go from is it just that

381
00:12:39,210 --> 00:12:42,720
person's own interpretation on what they

382
00:12:40,890 --> 00:12:44,010
think is reasonable and the kind of

383
00:12:42,720 --> 00:12:45,630
common response we've gotten back from

384
00:12:44,010 --> 00:12:47,970
that is the state of New York or at

385
00:12:45,630 --> 00:12:50,400
least New York DFS 500 and that

386
00:12:47,970 --> 00:12:52,110
basically I like it if you're actually

387
00:12:50,400 --> 00:12:53,699
going and you read the law it breaks out

388
00:12:52,110 --> 00:12:55,170
okay you need to have a cybersecurity

389
00:12:53,700 --> 00:12:57,210
program and what that cybersecurity

390
00:12:55,170 --> 00:13:00,120
program entails is you need to have a

391
00:12:57,210 --> 00:13:02,130
c-level a CE so that can steer this can

392
00:13:00,120 --> 00:13:04,140
have drive in the community or in the in

393
00:13:02,130 --> 00:13:06,060
the the organization because if you just

394
00:13:04,140 --> 00:13:07,620
have a security engineer he can't go up

395
00:13:06,060 --> 00:13:08,790
to the CIO and say hey you need to do

396
00:13:07,620 --> 00:13:11,070
this you know you need someone who has

397
00:13:08,790 --> 00:13:12,900
the weight to throw around right and

398
00:13:11,070 --> 00:13:14,850
then from that you know you need to have

399
00:13:12,900 --> 00:13:17,880
vulnerability testing you need to have a

400
00:13:14,850 --> 00:13:19,400
full-on program that we typically see

401
00:13:17,880 --> 00:13:22,070
you know do you have logging an audit

402
00:13:19,400 --> 00:13:23,510
going on do you track your BC PDR are

403
00:13:22,070 --> 00:13:25,490
you doing incident response you know

404
00:13:23,510 --> 00:13:26,630
what tools are using you have a Navy you

405
00:13:25,490 --> 00:13:28,070
know the list kind of goes on it so

406
00:13:26,630 --> 00:13:30,260
that's really good to have that in there

407
00:13:28,070 --> 00:13:31,940
but they also allow you to they realize

408
00:13:30,260 --> 00:13:33,620
not everyone can afford an entire

409
00:13:31,940 --> 00:13:35,690
security team and all the tools along

410
00:13:33,620 --> 00:13:37,280
with it so they allow you to basically

411
00:13:35,690 --> 00:13:38,990
subscribe to a third party which is

412
00:13:37,280 --> 00:13:40,939
known as a virtual sea so what Richie

413
00:13:38,990 --> 00:13:43,040
May and a bunch of other vendors do is

414
00:13:40,940 --> 00:13:45,470
we allow you to basically time share the

415
00:13:43,040 --> 00:13:47,660
security team and spread it apart around

416
00:13:45,470 --> 00:13:50,180
the nation right so you may not need a

417
00:13:47,660 --> 00:13:51,650
guy or a few people 40 80 hours a week

418
00:13:50,180 --> 00:13:52,790
constantly working on your stuff you may

419
00:13:51,650 --> 00:13:54,530
not be that big or have that much work

420
00:13:52,790 --> 00:13:56,000
so it doesn't really make sense to

421
00:13:54,530 --> 00:13:58,040
invest in that kind of people where you

422
00:13:56,000 --> 00:13:59,180
can just you know outsource that and

423
00:13:58,040 --> 00:14:03,050
have them come in and work on the

424
00:13:59,180 --> 00:14:05,150
projects you need to be done so now that

425
00:14:03,050 --> 00:14:06,410
we're kind of done with all the the

426
00:14:05,150 --> 00:14:07,760
background there will kind of get it

427
00:14:06,410 --> 00:14:09,709
dive into a little bit of fun stuff here

428
00:14:07,760 --> 00:14:11,180
so here's some basic recon all this

429
00:14:09,710 --> 00:14:14,870
stuff keep in mind it's all open source

430
00:14:11,180 --> 00:14:16,010
or its included inside of AWS so you can

431
00:14:14,870 --> 00:14:18,470
just go out there get it for a real

432
00:14:16,010 --> 00:14:20,569
minimal fee one one little asterisk so I

433
00:14:18,470 --> 00:14:22,490
will say everyone knows AWS is a utility

434
00:14:20,570 --> 00:14:24,380
service so if you turn on cloud trail

435
00:14:22,490 --> 00:14:26,090
cloud watch and you properly don't set

436
00:14:24,380 --> 00:14:28,640
it up right your bill can be a lot of

437
00:14:26,090 --> 00:14:29,870
money if you are sending terabytes of

438
00:14:28,640 --> 00:14:31,760
logs all over the place and you don't

439
00:14:29,870 --> 00:14:33,590
have it properly configured so even

440
00:14:31,760 --> 00:14:35,060
though it says minimal fee make sure you

441
00:14:33,590 --> 00:14:36,620
have some alerts and you really know

442
00:14:35,060 --> 00:14:39,020
what you're doing otherwise you can get

443
00:14:36,620 --> 00:14:40,880
real expensive real quick so this first

444
00:14:39,020 --> 00:14:43,189
one is actually just a website showdown

445
00:14:40,880 --> 00:14:44,720
that IO we're likely use plug in the IP

446
00:14:43,190 --> 00:14:46,520
address it'll go out there and scan

447
00:14:44,720 --> 00:14:48,170
things so this is kind of like a crawl

448
00:14:46,520 --> 00:14:49,880
for anything connected to the Internet

449
00:14:48,170 --> 00:14:51,439
and now you know Google they look at

450
00:14:49,880 --> 00:14:52,790
content and what's on there well this is

451
00:14:51,440 --> 00:14:55,370
different it's actually looking at what

452
00:14:52,790 --> 00:14:57,020
is that device right so for right here

453
00:14:55,370 --> 00:14:59,210
you throw that in there right it came up

454
00:14:57,020 --> 00:15:00,770
with gun broker com world's largest

455
00:14:59,210 --> 00:15:02,720
online marketplace for firearms and

456
00:15:00,770 --> 00:15:04,880
outdoors you can see there the name it's

457
00:15:02,720 --> 00:15:07,580
on Amazon it's on an ec2 instance and

458
00:15:04,880 --> 00:15:09,200
it's in u.s. West right cool so I know

459
00:15:07,580 --> 00:15:10,580
they're running Amazon right then you

460
00:15:09,200 --> 00:15:12,200
can kind of dive in a little bit more

461
00:15:10,580 --> 00:15:14,750
and you can see oh not only that but

462
00:15:12,200 --> 00:15:17,840
it's an Apache web server and it has PHP

463
00:15:14,750 --> 00:15:19,310
installed on it that's cool you kind of

464
00:15:17,840 --> 00:15:21,860
kind down oh with Windows seven and

465
00:15:19,310 --> 00:15:23,420
eight hmm Windows 10 is gonna go

466
00:15:21,860 --> 00:15:25,280
end-of-life soon I wonder why those are

467
00:15:23,420 --> 00:15:26,810
publicly accessible that doesn't make

468
00:15:25,280 --> 00:15:28,490
sense right so you can identify soft

469
00:15:26,810 --> 00:15:29,510
targets and then not only that you can

470
00:15:28,490 --> 00:15:31,010
kind of dive in a little bit more and

471
00:15:29,510 --> 00:15:32,750
you can look at all the SSL all the

472
00:15:31,010 --> 00:15:34,970
certs that were on there OTO

473
00:15:32,750 --> 00:15:36,440
version dot one well that's broke so now

474
00:15:34,970 --> 00:15:37,970
I have all these soft targets by just

475
00:15:36,440 --> 00:15:41,690
going to this website and find this

476
00:15:37,970 --> 00:15:44,450
information out right so another ones

477
00:15:41,690 --> 00:15:45,890
prefer to github side of the house the

478
00:15:44,450 --> 00:15:48,050
very top one get robbed that's very

479
00:15:45,890 --> 00:15:49,730
similar to show down and everything

480
00:15:48,050 --> 00:15:51,439
except it's specialized to github what

481
00:15:49,730 --> 00:15:53,690
that's going to do is that's going to go

482
00:15:51,440 --> 00:15:55,160
out and it's gonna download any

483
00:15:53,690 --> 00:15:56,240
repositories that are out there bring

484
00:15:55,160 --> 00:15:57,860
them locally and it's gonna either ate

485
00:15:56,240 --> 00:15:59,030
through them it's gonna use reg X it's

486
00:15:57,860 --> 00:16:00,770
gonna use keywords and it's gonna look

487
00:15:59,030 --> 00:16:02,689
for anything that's potentially PII or

488
00:16:00,770 --> 00:16:04,699
passwords and information and it's a

489
00:16:02,690 --> 00:16:06,470
nice beautiful web UI where you can open

490
00:16:04,700 --> 00:16:09,170
it up and you can search and look

491
00:16:06,470 --> 00:16:11,240
through things so on there in the notes

492
00:16:09,170 --> 00:16:12,890
they say hey if you find anything be be

493
00:16:11,240 --> 00:16:15,110
a good Samaritan and report it and tell

494
00:16:12,890 --> 00:16:16,699
them to take it down right now we're

495
00:16:15,110 --> 00:16:18,380
good guys the bad guys aren't gonna do

496
00:16:16,700 --> 00:16:20,330
that right there I got your stuff I got

497
00:16:18,380 --> 00:16:22,090
your AWS keys I'm gonna go log on to

498
00:16:20,330 --> 00:16:26,540
your environment and now I own it right

499
00:16:22,090 --> 00:16:28,190
get secrets is another familiar one and

500
00:16:26,540 --> 00:16:29,900
another tool here this one these are all

501
00:16:28,190 --> 00:16:31,220
specifically for buckets I mean I

502
00:16:29,900 --> 00:16:35,000
couldn't fit them all on the slide

503
00:16:31,220 --> 00:16:36,770
that's how many open-source bucket

504
00:16:35,000 --> 00:16:38,060
finding tools there are I mean you could

505
00:16:36,770 --> 00:16:40,730
go google them the list goes on and on

506
00:16:38,060 --> 00:16:42,589
and on one thing with this though is

507
00:16:40,730 --> 00:16:44,240
know your source a lot of these they

508
00:16:42,589 --> 00:16:46,790
haven't been modified or edited in years

509
00:16:44,240 --> 00:16:48,170
so you know you can give it a shot to

510
00:16:46,790 --> 00:16:50,360
use in your own environments make sure

511
00:16:48,170 --> 00:16:51,709
your buckets are locked down but you

512
00:16:50,360 --> 00:16:53,600
know just kind of keep that in mind if

513
00:16:51,710 --> 00:16:55,339
it's been a few years they could change

514
00:16:53,600 --> 00:16:57,320
out because amazon did expand the

515
00:16:55,339 --> 00:16:58,730
resource names to a longer name because

516
00:16:57,320 --> 00:17:00,950
they're kind of running out pretty quick

517
00:16:58,730 --> 00:17:02,630
so you know if one of those was very

518
00:17:00,950 --> 00:17:04,339
specific on how they identify resource

519
00:17:02,630 --> 00:17:06,020
names you might need to edit the code a

520
00:17:04,339 --> 00:17:09,198
little bit so I can expand that and look

521
00:17:06,020 --> 00:17:11,060
correctly here's have anacs-- Crean shot

522
00:17:09,199 --> 00:17:13,400
from the very first one right here is

523
00:17:11,060 --> 00:17:15,260
just an upload of a word list looking at

524
00:17:13,400 --> 00:17:16,850
those buckets the very first two they're

525
00:17:15,260 --> 00:17:18,560
locked down you can't list you can't do

526
00:17:16,849 --> 00:17:20,480
anything it's just dead in the water the

527
00:17:18,560 --> 00:17:21,679
the number two bucket there you can

528
00:17:20,480 --> 00:17:23,959
actually list so you can actually see

529
00:17:21,680 --> 00:17:25,880
what's inside of there breaks down a

530
00:17:23,959 --> 00:17:28,100
little bit more to where okay now I can

531
00:17:25,880 --> 00:17:30,110
see I can also write to that bucket well

532
00:17:28,099 --> 00:17:32,000
that's not good I can upload in download

533
00:17:30,110 --> 00:17:34,070
and see what's all going on in there the

534
00:17:32,000 --> 00:17:36,650
very number for I can actually see the

535
00:17:34,070 --> 00:17:37,970
ACL so now maybe I can see that there's

536
00:17:36,650 --> 00:17:39,620
an account on there that has specific

537
00:17:37,970 --> 00:17:41,060
access to this bucket that can give me a

538
00:17:39,620 --> 00:17:43,280
pivot point or somewhere else to go and

539
00:17:41,060 --> 00:17:45,080
to attack from you can list and you can

540
00:17:43,280 --> 00:17:46,160
write as well and then the very last one

541
00:17:45,080 --> 00:17:47,720
you can

542
00:17:46,160 --> 00:17:50,570
your own ACL you can modify it you

543
00:17:47,720 --> 00:17:52,340
basically own the bucket now not good so

544
00:17:50,570 --> 00:17:54,889
never have your ACLs on your buckets to

545
00:17:52,340 --> 00:17:57,639
public no know why you'd want to do that

546
00:17:54,890 --> 00:18:00,500
because by default it's no

547
00:17:57,640 --> 00:18:02,720
here's another tool on that list too

548
00:18:00,500 --> 00:18:04,760
so kind of similar thing you upload a

549
00:18:02,720 --> 00:18:06,380
word list it goes through there it

550
00:18:04,760 --> 00:18:07,760
prints out the ACLs if it was able to

551
00:18:06,380 --> 00:18:09,200
read it or not the only difference is

552
00:18:07,760 --> 00:18:11,390
this one actually adds on who currently

553
00:18:09,200 --> 00:18:12,860
owns those buckets so that could be your

554
00:18:11,390 --> 00:18:14,870
target right okay now I'm scrolling

555
00:18:12,860 --> 00:18:16,820
through and I know that you know Keith

556
00:18:14,870 --> 00:18:18,889
over Keith is he owns this bucket now

557
00:18:16,820 --> 00:18:20,360
I'm gonna possibly target Keith and see

558
00:18:18,890 --> 00:18:21,680
how I can get his information and then

559
00:18:20,360 --> 00:18:24,830
if you all the way down to the bottom

560
00:18:21,680 --> 00:18:27,620
all users full control for that it's

561
00:18:24,830 --> 00:18:29,689
either Alex Alvarez or something but

562
00:18:27,620 --> 00:18:31,159
that that bucket now anyone who can hit

563
00:18:29,690 --> 00:18:35,690
it can own own that bucket to change the

564
00:18:31,160 --> 00:18:37,520
ACLs and run off and on that here's some

565
00:18:35,690 --> 00:18:41,510
other tools on here that you can

566
00:18:37,520 --> 00:18:44,930
basically do some scoping and some recon

567
00:18:41,510 --> 00:18:46,760
on there seriously Google github find

568
00:18:44,930 --> 00:18:49,250
out any kind of Amazon tools the list

569
00:18:46,760 --> 00:18:50,300
goes on and on and on just make sure you

570
00:18:49,250 --> 00:18:52,010
read the notes and kind of say what

571
00:18:50,300 --> 00:18:53,690
needs to be done some of these you do

572
00:18:52,010 --> 00:18:55,670
need to spin up an ec2 instance and

573
00:18:53,690 --> 00:18:58,430
install the tool on other ones it's just

574
00:18:55,670 --> 00:18:59,990
you know you get the Amazon CLM CLI on

575
00:18:58,430 --> 00:19:01,940
your box or you have a Linux box that

576
00:18:59,990 --> 00:19:05,900
you can run it on and go from there on

577
00:19:01,940 --> 00:19:07,940
the last link there it kind of stretches

578
00:19:05,900 --> 00:19:09,710
into the next phase a little bit which I

579
00:19:07,940 --> 00:19:11,750
really like it's an arsenal of tools so

580
00:19:09,710 --> 00:19:14,000
that's both defensive tools and

581
00:19:11,750 --> 00:19:16,580
offensive tools so on there there's an

582
00:19:14,000 --> 00:19:18,950
open-source penetration toolkit for four

583
00:19:16,580 --> 00:19:20,899
there from the defensive side it

584
00:19:18,950 --> 00:19:23,120
basically can map out your entire AWS

585
00:19:20,900 --> 00:19:25,070
environment right so if you have 15 V

586
00:19:23,120 --> 00:19:26,780
pcs and I'll see ec2 instances all

587
00:19:25,070 --> 00:19:27,980
across these different regions and and

588
00:19:26,780 --> 00:19:29,720
everything unless you had someone who is

589
00:19:27,980 --> 00:19:30,980
documenting things which let's be honest

590
00:19:29,720 --> 00:19:32,720
who really sits down and documents

591
00:19:30,980 --> 00:19:33,890
things all the time you know you'll have

592
00:19:32,720 --> 00:19:35,390
this tool that will go out there and

593
00:19:33,890 --> 00:19:37,700
automatically scan and discover and

594
00:19:35,390 --> 00:19:39,200
it'll build out a cool graphical

595
00:19:37,700 --> 00:19:41,330
interface for you so that you don't have

596
00:19:39,200 --> 00:19:43,520
to go do it manually and it can update

597
00:19:41,330 --> 00:19:45,290
and everything from there not only that

598
00:19:43,520 --> 00:19:46,760
is a lot of tools that can sit there and

599
00:19:45,290 --> 00:19:48,379
they can look at your actual ec2

600
00:19:46,760 --> 00:19:50,390
instances and the roles and who has

601
00:19:48,380 --> 00:19:52,190
access to them and kind of print out a

602
00:19:50,390 --> 00:19:54,290
lot of that stuff so inside of there

603
00:19:52,190 --> 00:19:56,660
almost ran with the Netflix I actually

604
00:19:54,290 --> 00:19:58,129
have a tool called a security monkey so

605
00:19:56,660 --> 00:19:59,420
if you've you heard of chaos monkey

606
00:19:58,130 --> 00:19:59,870
might be a little familiar with that

607
00:19:59,420 --> 00:20:01,700
they also

608
00:19:59,870 --> 00:20:03,050
drafted a security monkey tool so that

609
00:20:01,700 --> 00:20:05,300
one kind of acts a little bit like the

610
00:20:03,050 --> 00:20:06,620
AWS is trusted advisor except it's open

611
00:20:05,300 --> 00:20:08,899
source and free instead of having to pay

612
00:20:06,620 --> 00:20:11,179
the premium in business for support to

613
00:20:08,900 --> 00:20:13,340
get the trust model and with that it'll

614
00:20:11,180 --> 00:20:14,570
look at your your iam role so look at

615
00:20:13,340 --> 00:20:15,559
your security group so look at your

616
00:20:14,570 --> 00:20:18,350
rules

617
00:20:15,559 --> 00:20:19,670
anything that might not been used in a

618
00:20:18,350 --> 00:20:21,500
while so not only does it do a one-time

619
00:20:19,670 --> 00:20:22,820
snapshot it'll continuously look at it

620
00:20:21,500 --> 00:20:24,710
and if they can see that this role

621
00:20:22,820 --> 00:20:25,820
hasn't been used in 30 days or whatever

622
00:20:24,710 --> 00:20:26,930
your threshold is you can have it

623
00:20:25,820 --> 00:20:29,659
automatically go in there and delete

624
00:20:26,930 --> 00:20:34,520
that rule or role or whatever you decide

625
00:20:29,660 --> 00:20:35,690
so a very very cool tool and kind of

626
00:20:34,520 --> 00:20:38,179
transition us in a little bit of

627
00:20:35,690 --> 00:20:39,740
hardening AWS so now that you can

628
00:20:38,179 --> 00:20:41,510
realize you getting just Google and find

629
00:20:39,740 --> 00:20:44,000
out all these different ways to discover

630
00:20:41,510 --> 00:20:46,400
buckets and Amazon resources and see

631
00:20:44,000 --> 00:20:49,940
people's websites and everything how do

632
00:20:46,400 --> 00:20:52,340
we protect ourselves right so right here

633
00:20:49,940 --> 00:20:54,830
is kind of the root of AWS right it's

634
00:20:52,340 --> 00:20:56,809
the I am roles this here defines what

635
00:20:54,830 --> 00:20:58,699
resources and users can do what inside

636
00:20:56,809 --> 00:21:00,710
your environment so you really need to

637
00:20:58,700 --> 00:21:02,480
make sure at the very base foundation

638
00:21:00,710 --> 00:21:04,250
you have this lockdown because no matter

639
00:21:02,480 --> 00:21:05,450
what else you do within your services

640
00:21:04,250 --> 00:21:06,830
and hardening and encrypting your

641
00:21:05,450 --> 00:21:08,780
buckets and having proper security

642
00:21:06,830 --> 00:21:10,370
groups and everything all of that can be

643
00:21:08,780 --> 00:21:13,160
overridden if you don't follow these

644
00:21:10,370 --> 00:21:15,350
basic controls so basically the first

645
00:21:13,160 --> 00:21:17,360
one you know after you spin up your AWS

646
00:21:15,350 --> 00:21:18,199
account you get your root account what

647
00:21:17,360 --> 00:21:20,149
you want to do from there is basically

648
00:21:18,200 --> 00:21:21,950
create your I am real users and never

649
00:21:20,150 --> 00:21:23,780
use a root account ever again like that

650
00:21:21,950 --> 00:21:26,150
needs to go away that she that your root

651
00:21:23,780 --> 00:21:28,850
account should only be used in very very

652
00:21:26,150 --> 00:21:30,110
specific cases whereas for example if

653
00:21:28,850 --> 00:21:32,059
you want to do vulnerability scanning

654
00:21:30,110 --> 00:21:34,820
inside your AWS environment you actually

655
00:21:32,059 --> 00:21:36,230
have to notify Amazon that you're going

656
00:21:34,820 --> 00:21:38,540
to do that because they're gonna see

657
00:21:36,230 --> 00:21:40,640
you're scanning all this stuff like sure

658
00:21:38,540 --> 00:21:42,320
they can't see into your assets but they

659
00:21:40,640 --> 00:21:44,360
can see the pipes and controls in

660
00:21:42,320 --> 00:21:47,540
between those and they can see one ec2

661
00:21:44,360 --> 00:21:49,100
instance or whatever IP address seeing

662
00:21:47,540 --> 00:21:50,510
here scanning and enumerate all your

663
00:21:49,100 --> 00:21:52,100
ports doing in maps and all that stuff

664
00:21:50,510 --> 00:21:53,840
and then that can alert them they'll

665
00:21:52,100 --> 00:21:56,030
come hit you up like hey we see this

666
00:21:53,840 --> 00:21:57,949
activity is your account compromised so

667
00:21:56,030 --> 00:22:00,440
to kind of you know let the guards know

668
00:21:57,950 --> 00:22:02,630
hey you know I'm gonna do vulnerability

669
00:22:00,440 --> 00:22:04,429
scanning but it's coming from this one

670
00:22:02,630 --> 00:22:05,809
IP address so it's expect if it comes

671
00:22:04,429 --> 00:22:08,090
from a different IP address let me know

672
00:22:05,809 --> 00:22:09,379
and so that's those are kind of things

673
00:22:08,090 --> 00:22:11,570
that route account should be used for

674
00:22:09,380 --> 00:22:12,440
other than that you never really want to

675
00:22:11,570 --> 00:22:13,669
go on there you don't want to sit there

676
00:22:12,440 --> 00:22:14,660
and create ec2 instance

677
00:22:13,670 --> 00:22:15,950
off the rubric count you don't want to

678
00:22:14,660 --> 00:22:19,940
modify your buckets or anything like

679
00:22:15,950 --> 00:22:21,830
that from there it's real similar to

680
00:22:19,940 --> 00:22:24,080
traditional Active Directory and user

681
00:22:21,830 --> 00:22:26,240
best practices right you want to create

682
00:22:24,080 --> 00:22:27,439
groups that perform certain job

683
00:22:26,240 --> 00:22:29,360
functions and then you want to subscribe

684
00:22:27,440 --> 00:22:31,520
those users that do those jobs functions

685
00:22:29,360 --> 00:22:32,840
to those roles you know you don't wanna

686
00:22:31,520 --> 00:22:34,730
say here create a user and be like okay

687
00:22:32,840 --> 00:22:36,409
Bob's gonna do this stuff and then off

688
00:22:34,730 --> 00:22:39,050
you go and individually assigned Bob all

689
00:22:36,410 --> 00:22:40,370
the stuff he needs to do it makes it

690
00:22:39,050 --> 00:22:41,750
hard to manage and then you get lost in

691
00:22:40,370 --> 00:22:43,040
the weeds and everything from there one

692
00:22:41,750 --> 00:22:45,470
thing that is interesting in here is

693
00:22:43,040 --> 00:22:47,000
when you're creating policies AWS does

694
00:22:45,470 --> 00:22:48,260
have their defaults so typically when

695
00:22:47,000 --> 00:22:50,990
you see defaults you think that's bad I

696
00:22:48,260 --> 00:22:52,400
don't want to do it in this case if you

697
00:22:50,990 --> 00:22:53,780
have a they have their default cloud

698
00:22:52,400 --> 00:22:54,980
watch role and depending on what kind of

699
00:22:53,780 --> 00:22:57,350
cloud watch things you need to be done

700
00:22:54,980 --> 00:22:59,570
they have a default policy for you you

701
00:22:57,350 --> 00:23:01,280
want to use AWS default policies and

702
00:22:59,570 --> 00:23:02,480
when you can because they're constantly

703
00:23:01,280 --> 00:23:03,770
changing they're constantly updating

704
00:23:02,480 --> 00:23:05,300
services there's other dependencies

705
00:23:03,770 --> 00:23:07,370
going on and if they update something

706
00:23:05,300 --> 00:23:09,200
and you create a custom policy your role

707
00:23:07,370 --> 00:23:10,909
or rule might not work anymore so in

708
00:23:09,200 --> 00:23:14,510
order to prevent that from happening

709
00:23:10,910 --> 00:23:16,730
it's good to use their default policies

710
00:23:14,510 --> 00:23:19,400
in that case obviously don't share your

711
00:23:16,730 --> 00:23:21,590
access keys I think I've said that about

712
00:23:19,400 --> 00:23:24,290
five times whether it be with another

713
00:23:21,590 --> 00:23:24,620
person or putting it in github don't do

714
00:23:24,290 --> 00:23:26,540
that

715
00:23:24,620 --> 00:23:28,070
and then obviously rotating your

716
00:23:26,540 --> 00:23:30,020
credentials that's pretty common and

717
00:23:28,070 --> 00:23:31,939
well make sure you take care of that and

718
00:23:30,020 --> 00:23:34,850
then monitoring the activity in your AWS

719
00:23:31,940 --> 00:23:36,110
account right so define monitoring well

720
00:23:34,850 --> 00:23:37,189
it depends on what resources you're

721
00:23:36,110 --> 00:23:38,270
doing what accounts are doing and

722
00:23:37,190 --> 00:23:39,710
everything from there so you want to

723
00:23:38,270 --> 00:23:42,050
make sure that you properly lock all

724
00:23:39,710 --> 00:23:44,810
that stuff down at the bottom of the

725
00:23:42,050 --> 00:23:46,490
page here is a link that basically I got

726
00:23:44,810 --> 00:23:48,110
all these best practices from you can

727
00:23:46,490 --> 00:23:50,330
click on it you can dive into there they

728
00:23:48,110 --> 00:23:52,219
give examples they go a lot deeper into

729
00:23:50,330 --> 00:23:53,389
all those go and then for those of you

730
00:23:52,220 --> 00:23:58,340
who don't like reading they do have a

731
00:23:53,390 --> 00:24:01,310
video for you cool so first one let's

732
00:23:58,340 --> 00:24:02,060
kind of stuff step into okay well I kind

733
00:24:01,310 --> 00:24:03,950
of know what I need you for

734
00:24:02,060 --> 00:24:06,350
I am roles how to go from there how do I

735
00:24:03,950 --> 00:24:09,050
part in my buckets or secure those so

736
00:24:06,350 --> 00:24:10,520
for this example you know it's basically

737
00:24:09,050 --> 00:24:12,260
we want to restrict the buckets access

738
00:24:10,520 --> 00:24:14,240
you want to look at the ACLs you want to

739
00:24:12,260 --> 00:24:16,070
look at the roles and then you you want

740
00:24:14,240 --> 00:24:18,200
to step down to basically restrict it

741
00:24:16,070 --> 00:24:20,330
and doing other kinds of best practices

742
00:24:18,200 --> 00:24:22,250
for example you can actually go in and

743
00:24:20,330 --> 00:24:23,659
turn on multi-factor delete so that

744
00:24:22,250 --> 00:24:25,370
means that if a file is going to be

745
00:24:23,660 --> 00:24:27,440
deleted they actually have to be

746
00:24:25,370 --> 00:24:30,469
authenticated to AWS through mmm

747
00:24:27,440 --> 00:24:31,399
so that way you know it's just an extra

748
00:24:30,470 --> 00:24:32,750
layer of protection then you can also

749
00:24:31,399 --> 00:24:36,110
turn on versioning and other things like

750
00:24:32,750 --> 00:24:38,690
that more importantly what this is is

751
00:24:36,110 --> 00:24:40,039
monitoring your s3 resources so you have

752
00:24:38,690 --> 00:24:41,929
all these buckets and you maybe you have

753
00:24:40,039 --> 00:24:43,460
some ec2 instances that are pushing

754
00:24:41,929 --> 00:24:45,559
backups to your buckets or maybe you

755
00:24:43,460 --> 00:24:47,629
have a website that's calling certain

756
00:24:45,559 --> 00:24:49,129
images in s3 and all that stuff well we

757
00:24:47,629 --> 00:24:51,110
need to know what's doing what where and

758
00:24:49,129 --> 00:24:52,759
so that's where monitoring comes in to

759
00:24:51,110 --> 00:24:56,539
them basically after that you use

760
00:24:52,759 --> 00:24:59,899
encryption so encrypt your files so

761
00:24:56,539 --> 00:25:01,070
here's the first bucket policy example

762
00:24:59,899 --> 00:25:02,899
so basically how you get here if you

763
00:25:01,070 --> 00:25:05,990
click on the bucket you go to properties

764
00:25:02,899 --> 00:25:07,610
click on the ACL and this is what they

765
00:25:05,990 --> 00:25:10,039
kind of look like so the first one like

766
00:25:07,610 --> 00:25:12,019
let's say we want only one specific IP

767
00:25:10,039 --> 00:25:14,899
address to access this bucket however

768
00:25:12,019 --> 00:25:17,450
you can see underneath actions its s3 :

769
00:25:14,899 --> 00:25:19,969
asterisks that means that IP address has

770
00:25:17,450 --> 00:25:22,220
full control over that bucket so you can

771
00:25:19,970 --> 00:25:24,019
specify a range of IP addresses except

772
00:25:22,220 --> 00:25:27,409
for that one guy whose dot 188 because I

773
00:25:24,019 --> 00:25:29,000
don't like him or you can do whatever

774
00:25:27,409 --> 00:25:31,370
else you want on there so that condition

775
00:25:29,000 --> 00:25:33,110
at the bottom of it really defines the

776
00:25:31,370 --> 00:25:35,658
condition on who can access what above

777
00:25:33,110 --> 00:25:37,340
that so the resource aren't the action

778
00:25:35,659 --> 00:25:40,639
and all that kind of good stuff and

779
00:25:37,340 --> 00:25:43,639
let's say on the right there you want to

780
00:25:40,639 --> 00:25:44,779
like an example before I have this s3

781
00:25:43,639 --> 00:25:48,139
bucket that's hosting all my images

782
00:25:44,779 --> 00:25:52,220
right well I only want this website from

783
00:25:48,139 --> 00:25:53,330
this URL to only read my my images I

784
00:25:52,220 --> 00:25:54,649
don't want it to be able to write

785
00:25:53,330 --> 00:25:55,820
anything to that bucket I don't want to

786
00:25:54,649 --> 00:25:57,350
be able to do anything else all I wanted

787
00:25:55,820 --> 00:25:59,720
to do is be able to read and then that

788
00:25:57,350 --> 00:26:01,039
point it can only go from there you can

789
00:25:59,720 --> 00:26:02,870
also add other conditions off to there

790
00:26:01,039 --> 00:26:05,539
so let's say not only do I want this IP

791
00:26:02,870 --> 00:26:08,178
address or this website to access this

792
00:26:05,539 --> 00:26:09,919
it has to be this specific resource name

793
00:26:08,179 --> 00:26:11,750
it has to be a specific secret key or

794
00:26:09,919 --> 00:26:14,149
user on there so you can add more

795
00:26:11,750 --> 00:26:15,919
conditions onto there that better fits

796
00:26:14,149 --> 00:26:17,360
fits your use case scenario and

797
00:26:15,919 --> 00:26:19,429
obviously at least privilege and lock it

798
00:26:17,360 --> 00:26:23,418
down to only what's necessary for it to

799
00:26:19,429 --> 00:26:25,399
work and then uh

800
00:26:23,419 --> 00:26:26,899
for this example we'll say okay I want

801
00:26:25,399 --> 00:26:28,549
to get an email notification of whenever

802
00:26:26,899 --> 00:26:30,379
something gets created or deleted in my

803
00:26:28,549 --> 00:26:32,899
buckets that can be completed in three

804
00:26:30,379 --> 00:26:34,399
pretty quick steps might take 15-20

805
00:26:32,899 --> 00:26:36,500
minutes to get set up basically you have

806
00:26:34,399 --> 00:26:40,989
to create an SNS topic then you have to

807
00:26:36,500 --> 00:26:40,990
Babel you give s3 access to that SM

