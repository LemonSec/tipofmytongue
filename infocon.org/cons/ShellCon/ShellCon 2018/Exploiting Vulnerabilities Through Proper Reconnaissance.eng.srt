1
00:00:00,030 --> 00:00:03,300
everybody thank you for coming this is

2
00:00:01,890 --> 00:00:05,160
exploiting vulnerabilities through

3
00:00:03,300 --> 00:00:07,350
proper reconnaissance with been sneaking

4
00:00:05,160 --> 00:00:09,690
Porter by today Ben works as the hacker

5
00:00:07,350 --> 00:00:11,340
operations lead hacker one number one

6
00:00:09,690 --> 00:00:12,000
most popular one common table and as a

7
00:00:11,340 --> 00:00:13,950
hacker by night

8
00:00:12,000 --> 00:00:15,780
prior to joining hacker one has helped

9
00:00:13,950 --> 00:00:17,640
identify can exploit over 500 security

10
00:00:15,780 --> 00:00:22,430
vulnerabilities across there's a lot of

11
00:00:17,640 --> 00:00:22,430
patience for companies such as Yahoo I

12
00:00:46,730 --> 00:00:59,480
also founded a company amazed IQ A's

13
00:01:01,070 --> 00:01:04,730
it started by Clemens please go ahead

14
00:01:03,410 --> 00:01:10,009
and check us out it's like running for

15
00:01:04,730 --> 00:01:13,730
home so for today I'm going to talk

16
00:01:10,010 --> 00:01:16,750
about recon you guys what am I talking

17
00:01:13,730 --> 00:01:16,750
last three are I'm sorry

18
00:01:19,250 --> 00:01:23,030
but I'm looking a little bit quicker

19
00:01:21,229 --> 00:01:26,360
because I have more mature than

20
00:01:23,030 --> 00:01:27,860
unexpected your pets so if I show stuff

21
00:01:26,360 --> 00:01:33,229
that's one day you want to know it will

22
00:01:27,860 --> 00:01:40,970
all be on my social media so if you want

23
00:01:33,229 --> 00:01:42,350
to get a hold of talk about has a

24
00:01:40,970 --> 00:01:46,750
discovery on discovery

25
00:01:42,350 --> 00:01:46,750
I will talk about the automation and

26
00:01:49,000 --> 00:01:53,659
number one wedding paper from you so far

27
00:01:51,380 --> 00:01:56,060
this year so we'll talk about time in

28
00:01:53,659 --> 00:02:00,310
some of the examples and then I'll show

29
00:01:56,060 --> 00:02:00,310
actual examples a program that works on

30
00:02:00,550 --> 00:02:04,420
so why do I do but Barney

31
00:02:06,040 --> 00:02:09,129
[Music]

32
00:02:09,149 --> 00:02:18,910
my talks and networking part of it and

33
00:02:16,840 --> 00:02:22,330
I'm not kidding when I say I can Korea

34
00:02:18,910 --> 00:02:24,750
was one percent of my parties I got my

35
00:02:22,330 --> 00:02:24,750
first job

36
00:02:25,560 --> 00:02:30,610
Lulu I'm just big buck Rockies and

37
00:02:28,000 --> 00:02:32,930
putting it above and then I take my

38
00:02:30,610 --> 00:02:40,319
shots there

39
00:02:32,930 --> 00:02:43,950
yeah I move on to other things so how is

40
00:02:40,319 --> 00:02:45,839
like the competition part you see we are

41
00:02:43,950 --> 00:02:48,599
going there to that field we try to get

42
00:02:45,840 --> 00:02:54,959
to the top 10 so we battle me for 11 or

43
00:02:48,599 --> 00:03:03,420
12 o'clock that's also another big part

44
00:02:54,959 --> 00:03:07,470
of doing the competition part I also

45
00:03:03,420 --> 00:03:09,089
like to make is a very passionate it's a

46
00:03:07,470 --> 00:03:11,280
great way to do it it takes a while to

47
00:03:09,090 --> 00:03:13,670
the best of your time but if you put in

48
00:03:11,280 --> 00:03:13,670
some effort

49
00:03:16,220 --> 00:03:19,220
yes

50
00:03:21,790 --> 00:03:27,310
so we gon be fine idea military's

51
00:03:24,879 --> 00:03:30,370
English what you try to seek out and see

52
00:03:27,310 --> 00:03:32,530
what period is only what's happening in

53
00:03:30,370 --> 00:03:34,150
those areas and it's kind of the same

54
00:03:32,530 --> 00:03:35,590
when you're doing it at bug but you kind

55
00:03:34,150 --> 00:03:37,930
of want to understand what is going on

56
00:03:35,590 --> 00:03:41,709
with an application I was at busting

57
00:03:37,930 --> 00:03:44,920
data where all that possible entry

58
00:03:41,709 --> 00:03:47,260
points so they're pointing to the post

59
00:03:44,920 --> 00:03:49,470
whatever that is you want to get all

60
00:03:47,260 --> 00:03:49,470
that information

61
00:03:51,510 --> 00:03:55,959
a lot of it needs to be there in this

62
00:03:53,739 --> 00:03:58,420
process it's very you always repeating

63
00:03:55,959 --> 00:04:08,859
the same command over over she will talk

64
00:03:58,420 --> 00:04:10,720
about times and again what I think that

65
00:04:08,859 --> 00:04:12,940
I've seen some of the hikers say example

66
00:04:10,720 --> 00:04:15,129
now season two from two years ago but

67
00:04:12,940 --> 00:04:17,380
some of us have more time to be on the

68
00:04:15,129 --> 00:04:19,370
national hockey but you don't have to do

69
00:04:17,380 --> 00:04:21,320
that it just be a

70
00:04:19,370 --> 00:04:23,470
the Recon in Spain something I would

71
00:04:21,320 --> 00:04:23,469
like

72
00:04:25,560 --> 00:04:32,610
so this is pretty much the guy that I

73
00:04:28,540 --> 00:04:32,610
use for recon also

74
00:04:53,260 --> 00:04:56,380
[Music]

75
00:06:07,470 --> 00:06:11,260
and random characters emitters in there

76
00:06:10,150 --> 00:06:14,109
but you can't find those with a

77
00:06:11,260 --> 00:06:16,780
dictionary word right so what do you do

78
00:06:14,110 --> 00:06:18,460
I rely on certificate transparency if

79
00:06:16,780 --> 00:06:20,020
something matters to an organization

80
00:06:18,460 --> 00:06:22,289
they're going to get it a certificate

81
00:06:20,020 --> 00:06:24,760
that's what it does so what do you do

82
00:06:22,290 --> 00:06:25,870
there are tools out there this is one

83
00:06:24,760 --> 00:06:29,469
that I've talked to in the past is

84
00:06:25,870 --> 00:06:31,720
census census is pretty much scanning

85
00:06:29,470 --> 00:06:33,160
employing certificates from every IPR

86
00:06:31,720 --> 00:06:35,620
just out in the world and we're indexing

87
00:06:33,160 --> 00:06:36,790
yet you can do some filtering it's

88
00:06:35,620 --> 00:06:39,550
pretty cool I don't rely on the

89
00:06:36,790 --> 00:06:40,720
filtering on census as much but I rely

90
00:06:39,550 --> 00:06:42,280
on it to find some really cool

91
00:06:40,720 --> 00:06:45,280
subdomains like the ones from snapchat

92
00:06:42,280 --> 00:06:49,119
if you can't see that the subdomain on

93
00:06:45,280 --> 00:06:51,070
there is pretty much snapchat payment

94
00:06:49,120 --> 00:06:53,860
gateway I don't have snapchat in my

95
00:06:51,070 --> 00:06:55,030
dictionary the words that I use so this

96
00:06:53,860 --> 00:06:58,380
would have been very hard for me to find

97
00:06:55,030 --> 00:07:02,049
if it wasn't for a search or experiencee

98
00:06:58,380 --> 00:07:04,750
tool but there's also other tools like

99
00:07:02,050 --> 00:07:06,430
show them this is the another tool you

100
00:07:04,750 --> 00:07:09,310
can use same thing they pretty much scan

101
00:07:06,430 --> 00:07:11,440
the entire web their ports Canada in

102
00:07:09,310 --> 00:07:12,940
dust a lot of things but the best part

103
00:07:11,440 --> 00:07:14,530
about it is how I can filter through

104
00:07:12,940 --> 00:07:16,330
different things right so if I want to

105
00:07:14,530 --> 00:07:17,739
look at specific hostname

106
00:07:16,330 --> 00:07:19,450
I can do that by giving it a hostname

107
00:07:17,740 --> 00:07:20,890
value if I want to go after the

108
00:07:19,450 --> 00:07:22,599
organization with that just there web

109
00:07:20,890 --> 00:07:24,669
and I wanted to go after all the IP

110
00:07:22,600 --> 00:07:27,340
spaces I could do an organization I

111
00:07:24,670 --> 00:07:31,570
could combine all of those I can go

112
00:07:27,340 --> 00:07:33,549
after an organization a separate product

113
00:07:31,570 --> 00:07:35,260
like Tomcat or I can look by title

114
00:07:33,550 --> 00:07:38,110
looking for login pages admin pages

115
00:07:35,260 --> 00:07:40,060
whatever that is and again

116
00:07:38,110 --> 00:07:41,650
Shawna has its own values if you go to

117
00:07:40,060 --> 00:07:42,910
college I finally get a free show then

118
00:07:41,650 --> 00:07:46,090
and some of my friends are going to

119
00:07:42,910 --> 00:07:47,440
school for the wrong reasons oh yeah so

120
00:07:46,090 --> 00:07:49,780
you can get a free account it's 40 bucks

121
00:07:47,440 --> 00:07:50,889
to get it and it's honestly worth every

122
00:07:49,780 --> 00:07:52,748
penny and if you

123
00:07:50,889 --> 00:07:54,580
this actively pays off for itself forty

124
00:07:52,749 --> 00:07:58,060
bucks isn't any a lot of money but their

125
00:07:54,580 --> 00:07:59,830
investment is pretty well there's also a

126
00:07:58,060 --> 00:08:01,569
third spotter I absolutely love using

127
00:07:59,830 --> 00:08:03,340
search spotter because I don't I like to

128
00:08:01,569 --> 00:08:05,469
live in the console sometimes and don't

129
00:08:03,340 --> 00:08:08,580
have to tap out of it so it's search

130
00:08:05,469 --> 00:08:10,870
water you just do a curl to their site

131
00:08:08,580 --> 00:08:13,060
the image right there is what it gives

132
00:08:10,870 --> 00:08:15,550
you when you just hit their API but you

133
00:08:13,060 --> 00:08:17,590
can also use a little bit of JQ and some

134
00:08:15,550 --> 00:08:18,909
setting and you can get all the values

135
00:08:17,590 --> 00:08:20,739
on the right so I'll show the code for

136
00:08:18,909 --> 00:08:23,560
this and a little bit doing the

137
00:08:20,740 --> 00:08:26,349
automation phase there's also certain SH

138
00:08:23,560 --> 00:08:29,259
the best part about cert SH is the fact

139
00:08:26,349 --> 00:08:30,909
that you can actually use a wild card so

140
00:08:29,259 --> 00:08:33,010
if I wanted to look for every domain

141
00:08:30,909 --> 00:08:36,069
that uber owns for example if I wanted

142
00:08:33,010 --> 00:08:37,838
to go and look for uber ComNet org all

143
00:08:36,070 --> 00:08:40,060
those different extensions you can do

144
00:08:37,839 --> 00:08:42,339
that so for the image on the left I did

145
00:08:40,059 --> 00:08:45,489
I wrote hacker one sorry it's supposed

146
00:08:42,339 --> 00:08:46,630
to be snapchat I look for snapchat and

147
00:08:45,490 --> 00:08:48,579
everything that you know I wanted to

148
00:08:46,630 --> 00:08:51,579
drop the absorptive snapchat don't

149
00:08:48,579 --> 00:08:54,250
whatever second c-calm pizza the

150
00:08:51,579 --> 00:08:57,729
properties different other domains I

151
00:08:54,250 --> 00:08:59,260
think it also do hit their API again you

152
00:08:57,730 --> 00:09:01,779
just have to give it an and output

153
00:08:59,260 --> 00:09:03,490
equals JSON and that kind of gives you a

154
00:09:01,779 --> 00:09:05,500
whole lot of lists and you can see for

155
00:09:03,490 --> 00:09:08,829
just this source itself you gave me 136

156
00:09:05,500 --> 00:09:11,470
unique domains on Facebook it's about

157
00:09:08,829 --> 00:09:14,589
three pages if you have your entire page

158
00:09:11,470 --> 00:09:15,970
maximized that's another source I use

159
00:09:14,589 --> 00:09:18,459
certain estates for different things so

160
00:09:15,970 --> 00:09:20,079
I don't rely on one if I'm pulling

161
00:09:18,459 --> 00:09:22,149
subdomains for certificate transparency

162
00:09:20,079 --> 00:09:24,099
search engines I'm hitting every single

163
00:09:22,149 --> 00:09:25,570
one of them besides showing and census

164
00:09:24,100 --> 00:09:27,910
because they thought it's a good idea to

165
00:09:25,570 --> 00:09:31,360
charge people after you hit a certain

166
00:09:27,910 --> 00:09:33,430
limit so we're boycotting that Oh a cent

167
00:09:31,360 --> 00:09:35,260
so the search transparency thing is kind

168
00:09:33,430 --> 00:09:36,670
of Oh scent but the same time there's

169
00:09:35,260 --> 00:09:39,640
other ways you can gather information

170
00:09:36,670 --> 00:09:41,310
about your target so Erin and looking at

171
00:09:39,640 --> 00:09:44,019
the accusations are the next part for me

172
00:09:41,310 --> 00:09:46,839
so I go on Erin I'm sorry acquisitions

173
00:09:44,019 --> 00:09:48,279
first so you can go to crunchbase you

174
00:09:46,839 --> 00:09:49,779
can actually type in the company's name

175
00:09:48,279 --> 00:09:51,720
and see all the acquisitions they own

176
00:09:49,779 --> 00:09:56,110
this is great for a company like Google

177
00:09:51,720 --> 00:09:57,459
Facebook Yahoo sometimes that have did

178
00:09:56,110 --> 00:09:58,899
you tell you pretty much hey everything

179
00:09:57,459 --> 00:10:01,119
we own is in our scope of our bug bounty

180
00:09:58,899 --> 00:10:02,500
program you can go hack on em as long as

181
00:10:01,120 --> 00:10:03,220
it's been six months or more that we

182
00:10:02,500 --> 00:10:04,450
have acquired

183
00:10:03,220 --> 00:10:06,700
you're more than welcome to go find bugs

184
00:10:04,450 --> 00:10:08,140
on it so you can do this you do this

185
00:10:06,700 --> 00:10:11,230
part you get all the rest of the domains

186
00:10:08,140 --> 00:10:12,970
you go back to the slides from the asset

187
00:10:11,230 --> 00:10:15,310
discoveries are the same thing but you

188
00:10:12,970 --> 00:10:16,900
also look at IP addresses this is when

189
00:10:15,310 --> 00:10:18,130
things get a better this is when things

190
00:10:16,900 --> 00:10:20,170
get a little bit more interesting

191
00:10:18,130 --> 00:10:22,660
because not only some of these companies

192
00:10:20,170 --> 00:10:24,280
are using domains to host things they'll

193
00:10:22,660 --> 00:10:25,839
also have IPs I don't have a host name

194
00:10:24,280 --> 00:10:27,189
assigned to them so what you want to do

195
00:10:25,840 --> 00:10:29,350
is you want to find all of those so when

196
00:10:27,190 --> 00:10:30,700
you go to Aaron you type in for Yahoo it

197
00:10:29,350 --> 00:10:33,580
brings up the customer and it tells your

198
00:10:30,700 --> 00:10:35,230
organization we click on the org it

199
00:10:33,580 --> 00:10:37,360
gives you information about the company

200
00:10:35,230 --> 00:10:39,160
itself you click on the related networks

201
00:10:37,360 --> 00:10:40,930
on the relate networks give you the

202
00:10:39,160 --> 00:10:42,430
range of all the IP addresses which

203
00:10:40,930 --> 00:10:45,209
makes it easy for us we'd have to look

204
00:10:42,430 --> 00:10:47,469
for different sources to find this right

205
00:10:45,210 --> 00:10:49,390
you can also get out on Showdown you can

206
00:10:47,470 --> 00:10:50,770
just go in and type in Oregon's Yahoo or

207
00:10:49,390 --> 00:10:51,850
you can actually just get an IP range

208
00:10:50,770 --> 00:10:54,460
and it gives you the results that they

209
00:10:51,850 --> 00:10:56,050
have in the database but you have to

210
00:10:54,460 --> 00:10:57,670
remember showdown and census aren't

211
00:10:56,050 --> 00:10:59,079
doing this constantly they're doing it

212
00:10:57,670 --> 00:11:01,209
every couple of weeks of a couple of

213
00:10:59,080 --> 00:11:03,130
months so the data could be old that IP

214
00:11:01,210 --> 00:11:04,390
adjust that was on Amazon may have been

215
00:11:03,130 --> 00:11:06,370
assigned from Yahoo to some random

216
00:11:04,390 --> 00:11:07,660
company I've never heard of so keep that

217
00:11:06,370 --> 00:11:09,850
in mind when you're doing the certain

218
00:11:07,660 --> 00:11:11,410
all these different engines after going

219
00:11:09,850 --> 00:11:12,970
to the source of itself and finding

220
00:11:11,410 --> 00:11:14,920
airing the actual IP edges that they own

221
00:11:12,970 --> 00:11:15,520
makes it a little bit easier they're not

222
00:11:14,920 --> 00:11:16,810
going anywhere

223
00:11:15,520 --> 00:11:19,960
just have to end map him and start

224
00:11:16,810 --> 00:11:21,400
pulling information from it so content

225
00:11:19,960 --> 00:11:24,280
discovery is where I spend a lot of my

226
00:11:21,400 --> 00:11:26,110
time the content discovery idea is

227
00:11:24,280 --> 00:11:28,600
pretty much to do you you want to get a

228
00:11:26,110 --> 00:11:30,310
visual image of what the application

229
00:11:28,600 --> 00:11:32,290
looks like you want to do a port scan

230
00:11:30,310 --> 00:11:34,660
you can you more than welcome to scan

231
00:11:32,290 --> 00:11:36,579
every 65,000 port out there or you can

232
00:11:34,660 --> 00:11:37,780
just do some on the common ports that

233
00:11:36,580 --> 00:11:39,100
you have collected as you have done your

234
00:11:37,780 --> 00:11:41,500
work on different programs or different

235
00:11:39,100 --> 00:11:43,600
companies and then you also want to do a

236
00:11:41,500 --> 00:11:45,630
good force with directory and files and

237
00:11:43,600 --> 00:11:48,280
then you want to do some JavaScript

238
00:11:45,630 --> 00:11:50,830
which is kind of messy but we'll we made

239
00:11:48,280 --> 00:11:52,270
it a little bit easier this year so

240
00:11:50,830 --> 00:11:54,750
again I talked about port scanning your

241
00:11:52,270 --> 00:11:57,160
screen shot I usually do port 80 and 443

242
00:11:54,750 --> 00:11:58,780
don't ask me why but some companies like

243
00:11:57,160 --> 00:12:01,060
to serve different content on different

244
00:11:58,780 --> 00:12:02,740
ports so for that reason I'm taking a

245
00:12:01,060 --> 00:12:04,270
screen shot and I want to make sure I'm

246
00:12:02,740 --> 00:12:05,770
not missing anything you can add the

247
00:12:04,270 --> 00:12:07,510
ports eight four four three eighty

248
00:12:05,770 --> 00:12:09,939
eighty seven four four three three

249
00:12:07,510 --> 00:12:11,350
thousand whatever you want to do but by

250
00:12:09,940 --> 00:12:13,350
default because I want to do this really

251
00:12:11,350 --> 00:12:15,240
really fast I'm trying to do

252
00:12:13,350 --> 00:12:17,269
if something piques my interest then I

253
00:12:15,240 --> 00:12:20,639
will go and do more and dig into it more

254
00:12:17,269 --> 00:12:22,440
so again we look for those those are the

255
00:12:20,639 --> 00:12:24,480
IP starters are the port numbers I

256
00:12:22,440 --> 00:12:26,339
usually look for it's about 20 I'm gonna

257
00:12:24,480 --> 00:12:28,500
say and then I also use the web

258
00:12:26,339 --> 00:12:30,360
screenshot now PI you give it a list and

259
00:12:28,500 --> 00:12:31,560
it pretty much takes a screenshot really

260
00:12:30,360 --> 00:12:34,139
really quickly for you and puts them in

261
00:12:31,560 --> 00:12:36,599
a folder and then I also use our

262
00:12:34,139 --> 00:12:38,399
directory file would force all those on

263
00:12:36,600 --> 00:12:39,959
the right are really good tools I just

264
00:12:38,399 --> 00:12:43,079
use their search just because it's in

265
00:12:39,959 --> 00:12:45,599
Python it's easier it's maintained it's

266
00:12:43,079 --> 00:12:46,800
just been the easiest one to use and it

267
00:12:45,600 --> 00:12:48,870
has a lot of different options so I will

268
00:12:46,800 --> 00:12:50,959
check it out for sure if hours to go and

269
00:12:48,870 --> 00:12:54,329
look for their equipment for some tools

270
00:12:50,959 --> 00:12:56,250
also robot that CXC does the job for you

271
00:12:54,329 --> 00:12:57,449
sometimes I found admin folders and some

272
00:12:56,250 --> 00:12:59,310
companies that they wanted to hide it

273
00:12:57,449 --> 00:13:01,560
from people from you're not getting

274
00:12:59,310 --> 00:13:03,989
indexed but they just flat-out put it on

275
00:13:01,560 --> 00:13:05,878
the robots.txt and there was no

276
00:13:03,990 --> 00:13:07,079
authentication sometimes so check that

277
00:13:05,879 --> 00:13:10,920
out sometimes it might give you some

278
00:13:07,079 --> 00:13:12,388
information and save you some time so I

279
00:13:10,920 --> 00:13:15,029
always also one of the things that I do

280
00:13:12,389 --> 00:13:17,880
is I keep all the archives of my scans I

281
00:13:15,029 --> 00:13:20,490
think I have like 30,000 scans on my box

282
00:13:17,880 --> 00:13:22,740
just sitting this is just from the past

283
00:13:20,490 --> 00:13:24,180
year of scanning stuff there is I do

284
00:13:22,740 --> 00:13:25,410
that is first of all you want to the

285
00:13:24,180 --> 00:13:26,758
differences between the two times you

286
00:13:25,410 --> 00:13:29,219
scan the property there's something you

287
00:13:26,759 --> 00:13:30,959
get launched or also the other thing is

288
00:13:29,220 --> 00:13:34,920
what if you find a vulnerable endpoint

289
00:13:30,959 --> 00:13:36,660
on company a but using a software as a

290
00:13:34,920 --> 00:13:38,370
known phone that you missed on other

291
00:13:36,660 --> 00:13:40,259
targets that you've been hacking on last

292
00:13:38,370 --> 00:13:42,060
year so we're doing that I can just go

293
00:13:40,259 --> 00:13:44,279
and start gripping through things so for

294
00:13:42,060 --> 00:13:46,439
example I come across a jmx console I

295
00:13:44,279 --> 00:13:48,149
went oh well I wonder if there's more

296
00:13:46,439 --> 00:13:50,639
instance at that J mix console or the

297
00:13:48,149 --> 00:13:52,529
Tomcat instance we're on the same target

298
00:13:50,639 --> 00:13:55,649
that I have missed so for the first time

299
00:13:52,529 --> 00:13:56,970
it said 172 I called so I did a

300
00:13:55,649 --> 00:13:59,519
little bit better I went back in Sakai

301
00:13:56,970 --> 00:14:01,290
just to manager HTML I see how many

302
00:13:59,519 --> 00:14:02,420
others came out as 401 how many of them

303
00:14:01,290 --> 00:14:04,740
actually required you to have the

304
00:14:02,420 --> 00:14:07,079
authentication and that gave me a better

305
00:14:04,740 --> 00:14:08,759
result nine out of those nine I was like

306
00:14:07,079 --> 00:14:11,399
I was able to exploit three of them with

307
00:14:08,759 --> 00:14:12,990
admin admin and I got a four 1rc pretty

308
00:14:11,399 --> 00:14:14,699
much at that point so you want to keep

309
00:14:12,990 --> 00:14:16,199
your archives it helps believe me I know

310
00:14:14,699 --> 00:14:18,628
it takes a lot of space pay the five

311
00:14:16,199 --> 00:14:20,550
dollars a month from whatever cloud

312
00:14:18,629 --> 00:14:21,899
company you use the five dollars is well

313
00:14:20,550 --> 00:14:23,939
worth it to keep all that data

314
00:14:21,899 --> 00:14:25,230
get rid of it as dude making more and

315
00:14:23,939 --> 00:14:25,880
more so if you have you know four scans

316
00:14:25,230 --> 00:14:27,380
maybe get

317
00:14:25,880 --> 00:14:29,270
two of them dollar from three two years

318
00:14:27,380 --> 00:14:33,410
ago that point might be worth getting

319
00:14:29,270 --> 00:14:34,670
rid of something so automation is this

320
00:14:33,410 --> 00:14:36,469
is what I had an aha moment

321
00:14:34,670 --> 00:14:38,180
it's like aha I'm doing something wrong

322
00:14:36,470 --> 00:14:39,650
taking time spending a lot of time on

323
00:14:38,180 --> 00:14:41,479
doing all these recon things I'm

324
00:14:39,650 --> 00:14:43,340
constantly typing the same commands over

325
00:14:41,480 --> 00:14:46,240
and over and over and I'm pretty much

326
00:14:43,340 --> 00:14:51,470
driving myself crazy what do I do

327
00:14:46,240 --> 00:14:53,330
so the first one is Amazon so Amazon has

328
00:14:51,470 --> 00:14:57,140
been on the tech news for a very long

329
00:14:53,330 --> 00:14:58,100
time at the s3 bucket thing Amazon's s2

330
00:14:57,140 --> 00:15:00,500
block a survey on the news you have

331
00:14:58,100 --> 00:15:01,940
heard companies like I think Verizon was

332
00:15:00,500 --> 00:15:04,970
one of them the US government was

333
00:15:01,940 --> 00:15:08,510
another one just leaving s3 buckets open

334
00:15:04,970 --> 00:15:11,000
or the access controls were not properly

335
00:15:08,510 --> 00:15:13,610
done so as hackers what do you do you go

336
00:15:11,000 --> 00:15:15,410
find subdomains or properties that are

337
00:15:13,610 --> 00:15:17,120
pointing to an s3 bucket and you check

338
00:15:15,410 --> 00:15:19,219
out and see if those you have read or

339
00:15:17,120 --> 00:15:21,050
write access right so you can do that

340
00:15:19,220 --> 00:15:22,580
manually by going to github or just

341
00:15:21,050 --> 00:15:24,380
doing it on google you put in the site

342
00:15:22,580 --> 00:15:26,000
being as 3 de Armas on Comm

343
00:15:24,380 --> 00:15:28,280
and then you put in URL as a company

344
00:15:26,000 --> 00:15:29,510
name you find all those right but what

345
00:15:28,280 --> 00:15:32,750
if you want to find more and the ones

346
00:15:29,510 --> 00:15:34,189
that haven't been indexed on if you want

347
00:15:32,750 --> 00:15:36,860
to find stuff that hasn't been indexed

348
00:15:34,190 --> 00:15:38,600
on Google like github right I've looked

349
00:15:36,860 --> 00:15:40,520
for those too I find different results

350
00:15:38,600 --> 00:15:42,110
you start tolling a little bit so you go

351
00:15:40,520 --> 00:15:43,910
back to the old-school brute-forcing

352
00:15:42,110 --> 00:15:44,990
it's kind of boring I since I said

353
00:15:43,910 --> 00:15:46,760
earlier but it gives you different

354
00:15:44,990 --> 00:15:48,380
results so the one on the left side is a

355
00:15:46,760 --> 00:15:51,350
tool that I rode with a friend of mine

356
00:15:48,380 --> 00:15:54,170
called lazy s3 it's in Ruby what it does

357
00:15:51,350 --> 00:15:56,210
is we give it a to list and it's

358
00:15:54,170 --> 00:15:57,890
constantly putting the the two keywords

359
00:15:56,210 --> 00:15:59,750
around the company name so if the

360
00:15:57,890 --> 00:16:03,920
company name is site comm it's doing dev

361
00:15:59,750 --> 00:16:05,930
no / - site - dashboard and then

362
00:16:03,920 --> 00:16:07,400
flipping it putting the the word at the

363
00:16:05,930 --> 00:16:08,660
end and it's just doing a different all

364
00:16:07,400 --> 00:16:10,610
these different combinations to find

365
00:16:08,660 --> 00:16:12,050
different results that one doesn't work

366
00:16:10,610 --> 00:16:13,550
there's also another tool it's the same

367
00:16:12,050 --> 00:16:16,130
thing it's a little bit faster cuz it's

368
00:16:13,550 --> 00:16:17,959
in bash my coworker Tom actually wrote

369
00:16:16,130 --> 00:16:20,150
this pretty much the same thing and type

370
00:16:17,960 --> 00:16:22,640
in backup he's having test comments you

371
00:16:20,150 --> 00:16:24,890
can backup - test test - backup test up

372
00:16:22,640 --> 00:16:27,140
backup test outside calm all these

373
00:16:24,890 --> 00:16:28,610
different things they can find so that's

374
00:16:27,140 --> 00:16:30,410
one of the ways to do in your home

375
00:16:28,610 --> 00:16:31,700
automation is finding tools that other

376
00:16:30,410 --> 00:16:35,689
people have already ran or writing your

377
00:16:31,700 --> 00:16:37,070
own search spotter same thing I talked

378
00:16:35,690 --> 00:16:38,020
about this earlier to have a really

379
00:16:37,070 --> 00:16:41,440
great

380
00:16:38,020 --> 00:16:43,150
really really good API so why not build

381
00:16:41,440 --> 00:16:46,240
our tools around this entire thing it's

382
00:16:43,150 --> 00:16:49,000
giving you a list of all these different

383
00:16:46,240 --> 00:16:50,650
domains line by line pretty clean way so

384
00:16:49,000 --> 00:16:52,390
why not perform different tests on every

385
00:16:50,650 --> 00:16:54,250
single one of these domains as you're

386
00:16:52,390 --> 00:16:55,270
asleep so you go to bed at 9:00 p.m. you

387
00:16:54,250 --> 00:16:58,330
wake up at 9:00 a.m.

388
00:16:55,270 --> 00:17:02,819
you've scanned about 400 posts right so

389
00:16:58,330 --> 00:17:05,319
this is how I hit the search spotter API

390
00:17:02,820 --> 00:17:07,630
so you just hit it you give it the URL

391
00:17:05,319 --> 00:17:09,339
that you want and you get the values for

392
00:17:07,630 --> 00:17:11,440
each domain you pass it to JQ you clean

393
00:17:09,339 --> 00:17:12,099
up the JSON you pass it to set you clean

394
00:17:11,440 --> 00:17:13,510
it up completely

395
00:17:12,099 --> 00:17:15,129
all that crap that's around that it's

396
00:17:13,510 --> 00:17:17,349
gone it goes up the list on the right

397
00:17:15,130 --> 00:17:20,140
but what's next is what makes it more

398
00:17:17,349 --> 00:17:23,649
fun now you say hey I read all those

399
00:17:20,140 --> 00:17:25,630
files I wrote all those domains into the

400
00:17:23,650 --> 00:17:27,370
domain comm or ever see yahoo.com for

401
00:17:25,630 --> 00:17:29,920
example now I want you to open up

402
00:17:27,369 --> 00:17:31,360
yahoo.com which is a text file on this

403
00:17:29,920 --> 00:17:33,940
folder and I want you to write a

404
00:17:31,360 --> 00:17:36,879
directory search on every single lines

405
00:17:33,940 --> 00:17:38,560
of those of that file even better is

406
00:17:36,880 --> 00:17:40,240
when you're doing a screenshot of it so

407
00:17:38,560 --> 00:17:42,070
you don't have to one by one go to these

408
00:17:40,240 --> 00:17:43,420
websites and see what they're hosting

409
00:17:42,070 --> 00:17:44,679
some of them may not even be hosting

410
00:17:43,420 --> 00:17:47,200
anything it could be just an index file

411
00:17:44,680 --> 00:17:49,270
Expedia Apache index file has nothing on

412
00:17:47,200 --> 00:17:50,980
it right so based on your experience you

413
00:17:49,270 --> 00:17:53,080
can realize some patterns maybe this is

414
00:17:50,980 --> 00:17:54,520
a dip that has an Apache index but it

415
00:17:53,080 --> 00:17:56,970
might be some test folder that folder

416
00:17:54,520 --> 00:17:59,260
behind it and you can dig into a deeper

417
00:17:56,970 --> 00:18:01,540
the game changes when you do all three

418
00:17:59,260 --> 00:18:03,040
at once so you make another alias you

419
00:18:01,540 --> 00:18:05,050
say hey call those three hundred Elisa's

420
00:18:03,040 --> 00:18:06,970
that I made earlier and do these three

421
00:18:05,050 --> 00:18:10,330
things so this was like the very first

422
00:18:06,970 --> 00:18:13,600
version of me just being lazy is what it

423
00:18:10,330 --> 00:18:16,270
is so I wrote this tool called lazy

424
00:18:13,600 --> 00:18:18,669
recon it's not just this it does more

425
00:18:16,270 --> 00:18:20,410
than just four aliases but the majority

426
00:18:18,670 --> 00:18:22,930
of it is in map directory brute force

427
00:18:20,410 --> 00:18:25,180
catalyst of subdomains and give me as

428
00:18:22,930 --> 00:18:26,830
much data as I can so you can go on

429
00:18:25,180 --> 00:18:28,620
github it's open source do you want to

430
00:18:26,830 --> 00:18:31,179
welcome to grab the base version you can

431
00:18:28,620 --> 00:18:32,709
start by sending me requests if you want

432
00:18:31,180 --> 00:18:34,930
to keep in mind you want to maintain it

433
00:18:32,710 --> 00:18:37,450
with me but yeah that's a lot of cool

434
00:18:34,930 --> 00:18:39,970
things so for example for this one I'm

435
00:18:37,450 --> 00:18:42,580
just doing a lazy week on on a company

436
00:18:39,970 --> 00:18:44,020
for nest con which is owned by Google so

437
00:18:42,580 --> 00:18:46,389
it's pretty much hitting it different

438
00:18:44,020 --> 00:18:48,879
about 15 different sources and it's

439
00:18:46,390 --> 00:18:50,490
pulling out every sub domain then it's

440
00:18:48,880 --> 00:18:52,800
writing it to a text and

441
00:18:50,490 --> 00:18:54,510
looking up how many of those hosts are

442
00:18:52,800 --> 00:18:56,520
actually reachable so how many of these

443
00:18:54,510 --> 00:18:58,770
domains are found are actually still up

444
00:18:56,520 --> 00:19:01,110
or pointing to something and once it

445
00:18:58,770 --> 00:19:02,879
does that it starts to do a screenshot

446
00:19:01,110 --> 00:19:04,699
for this one I couldn't do a demo I

447
00:19:02,880 --> 00:19:07,380
picked a long target because that's

448
00:19:04,700 --> 00:19:09,210
73,000 URL so screenshot at that point

449
00:19:07,380 --> 00:19:11,760
command C was my option and just take a

450
00:19:09,210 --> 00:19:15,780
screenshot of it but imagine if you know

451
00:19:11,760 --> 00:19:18,059
I would have to do 773 thousand times of

452
00:19:15,780 --> 00:19:22,050
doing directory search screenshotting

453
00:19:18,059 --> 00:19:23,580
and and map I think five or six domains

454
00:19:22,050 --> 00:19:27,379
in I would probably give up there's a

455
00:19:23,580 --> 00:19:27,379
lot of different domains you go through

456
00:19:27,800 --> 00:19:32,340
report for you and it's all written in

457
00:19:30,210 --> 00:19:34,830
bash none of this is on anything fun

458
00:19:32,340 --> 00:19:38,010
it's just purely bash it writes an HTML

459
00:19:34,830 --> 00:19:39,240
report for you and it does some other

460
00:19:38,010 --> 00:19:40,620
commands you know it gives you some

461
00:19:39,240 --> 00:19:42,750
information about the host where is it

462
00:19:40,620 --> 00:19:43,979
pointing to I do a lot of finger

463
00:19:42,750 --> 00:19:45,990
printing so if I want to find a

464
00:19:43,980 --> 00:19:47,610
particular application I rely on my

465
00:19:45,990 --> 00:19:50,070
Corolla command that I made to this host

466
00:19:47,610 --> 00:19:52,979
it grabs the headers it's all index on

467
00:19:50,070 --> 00:19:55,110
the bottom part of the image where I

468
00:19:52,980 --> 00:19:57,210
could just look for example if if a bug

469
00:19:55,110 --> 00:19:59,120
comes out for jira for Atlassian I want

470
00:19:57,210 --> 00:20:01,500
to export every single Atlassian

471
00:19:59,120 --> 00:20:02,820
instance that I've found I can just go

472
00:20:01,500 --> 00:20:05,910
through all my reports and look for that

473
00:20:02,820 --> 00:20:07,590
JIRA or whatever tool that I'm using or

474
00:20:05,910 --> 00:20:12,240
exploiting and look for that specific

475
00:20:07,590 --> 00:20:14,520
Heather digital dumpster-diving I am a

476
00:20:12,240 --> 00:20:16,440
pro at it I have been spending a lot of

477
00:20:14,520 --> 00:20:17,879
time what an I should but at the end of

478
00:20:16,440 --> 00:20:20,790
the day it makes my job a little bit

479
00:20:17,880 --> 00:20:22,559
easier so again I talked about this last

480
00:20:20,790 --> 00:20:26,700
year you look for lead credentials user

481
00:20:22,559 --> 00:20:28,559
names passwords API keys headers you see

482
00:20:26,700 --> 00:20:30,780
a pattern you just keep on looking and

483
00:20:28,559 --> 00:20:32,760
you keep digging more and more we can

484
00:20:30,780 --> 00:20:34,620
use tools I don't use tools because of

485
00:20:32,760 --> 00:20:37,170
the fact that even though I may find an

486
00:20:34,620 --> 00:20:38,399
empty password parameter if I go above

487
00:20:37,170 --> 00:20:39,690
or beyond that code that had the

488
00:20:38,400 --> 00:20:41,040
password I could find different end

489
00:20:39,690 --> 00:20:42,690
points I could find different domains

490
00:20:41,040 --> 00:20:43,740
things that a tool would and probably

491
00:20:42,690 --> 00:20:46,440
highlight for me because they're just

492
00:20:43,740 --> 00:20:48,690
looking for those password key or all

493
00:20:46,440 --> 00:20:50,820
these secret keys I want to ignore using

494
00:20:48,690 --> 00:20:52,890
trolls but it helps if you don't want

495
00:20:50,820 --> 00:20:54,629
you can run a tool to look for API keys

496
00:20:52,890 --> 00:20:56,100
and all those different credentials and

497
00:20:54,630 --> 00:20:57,360
also do your manual work if you want to

498
00:20:56,100 --> 00:20:58,840
look for different subdomains and

499
00:20:57,360 --> 00:21:00,459
applications

500
00:20:58,840 --> 00:21:02,428
so some of the key words that I use on

501
00:21:00,460 --> 00:21:04,419
the right and then I use different

502
00:21:02,429 --> 00:21:08,110
depending on what the website does or

503
00:21:04,419 --> 00:21:11,710
how it looks I use different keywords on

504
00:21:08,110 --> 00:21:12,939
the left so dev site calm and so on so I

505
00:21:11,710 --> 00:21:14,590
got 10 minutes the next one is

506
00:21:12,940 --> 00:21:16,419
archive.org if you haven't watched mr.

507
00:21:14,590 --> 00:21:17,709
robot you should this is an episode when

508
00:21:16,419 --> 00:21:21,009
they talk about how they caught someone

509
00:21:17,710 --> 00:21:22,360
using the archive.org wayback machine we

510
00:21:21,009 --> 00:21:24,700
do the same thing as a haiku you go to

511
00:21:22,360 --> 00:21:26,740
the site you put in the site's name it

512
00:21:24,700 --> 00:21:28,240
pulls out a version of that site from

513
00:21:26,740 --> 00:21:29,409
years and years ago you go through it

514
00:21:28,240 --> 00:21:31,840
you go how to jump through all the

515
00:21:29,409 --> 00:21:33,159
JavaScript files you find all the old

516
00:21:31,840 --> 00:21:34,928
end points that they have been hosting

517
00:21:33,159 --> 00:21:36,759
and some of those end points haven't

518
00:21:34,929 --> 00:21:38,710
been deleted someone developed it it's

519
00:21:36,759 --> 00:21:39,999
been sitting there now three years later

520
00:21:38,710 --> 00:21:42,279
there's a sequel I and there you find

521
00:21:39,999 --> 00:21:43,360
that you can exploit yourself there's a

522
00:21:42,279 --> 00:21:45,909
tool out there that we wrote it's called

523
00:21:43,360 --> 00:21:47,619
j/s parser what Jays parser does is you

524
00:21:45,909 --> 00:21:48,850
give it a list of JavaScript files it

525
00:21:47,619 --> 00:21:51,428
just highlights all the end points for

526
00:21:48,850 --> 00:21:52,600
you should have to go deep through all

527
00:21:51,429 --> 00:21:54,700
the JavaScript files and start looking

528
00:21:52,600 --> 00:21:56,469
for for yourself you can just use a tool

529
00:21:54,700 --> 00:21:58,210
I saved you a lot of time because

530
00:21:56,470 --> 00:22:01,450
javascript is not the nicest language

531
00:21:58,210 --> 00:22:03,519
out there you can also go to Trello a

532
00:22:01,450 --> 00:22:04,840
lot of companies love putting stuff on

533
00:22:03,519 --> 00:22:07,690
Trello including their ftp password

534
00:22:04,840 --> 00:22:09,189
their pin number for GoDaddy my sequel

535
00:22:07,690 --> 00:22:11,350
password whatever else you want to look

536
00:22:09,190 --> 00:22:12,850
for just go to Joe calm and you can look

537
00:22:11,350 --> 00:22:15,539
for it FTP or you can just put the

538
00:22:12,850 --> 00:22:19,840
organization name and see what comes up

539
00:22:15,539 --> 00:22:21,908
so example this is where I'm going to

540
00:22:19,840 --> 00:22:23,649
already get to before this is over so I

541
00:22:21,909 --> 00:22:25,779
talked about transparency the search

542
00:22:23,649 --> 00:22:28,389
transparency right this is just simply

543
00:22:25,779 --> 00:22:29,830
me looking for a company's name and on

544
00:22:28,389 --> 00:22:31,658
shodhan and giving it the port of

545
00:22:29,830 --> 00:22:33,730
default port number for rabbitmq and

546
00:22:31,659 --> 00:22:35,980
then trying admin admin so that works

547
00:22:33,730 --> 00:22:36,940
and the second one is just going and

548
00:22:35,980 --> 00:22:39,490
looking for Jenkins

549
00:22:36,940 --> 00:22:40,480
so I put I want to define every instance

550
00:22:39,490 --> 00:22:43,179
of the title being

551
00:22:40,480 --> 00:22:47,080
dashboard Jenkins on the organization

552
00:22:43,179 --> 00:22:48,639
name host comm which is a company so

553
00:22:47,080 --> 00:22:50,408
that also worked there was also no off

554
00:22:48,639 --> 00:22:51,668
because they thought because of the fact

555
00:22:50,409 --> 00:22:53,980
that the domain isn't accessible

556
00:22:51,669 --> 00:22:55,809
directly I can just set the IP address

557
00:22:53,980 --> 00:22:57,840
and give it a host name and just

558
00:22:55,809 --> 00:23:00,610
retrieve data from it that was a fun one

559
00:22:57,840 --> 00:23:02,199
there's also so there's also there's an

560
00:23:00,610 --> 00:23:03,519
entire article that I wrote about this

561
00:23:02,200 --> 00:23:05,559
you can go to my blog and can read the

562
00:23:03,519 --> 00:23:08,250
whole thing but at the end of the day

563
00:23:05,559 --> 00:23:10,029
don't leave your Jenkins instances open

564
00:23:08,250 --> 00:23:11,080
hackers are active

565
00:23:10,029 --> 00:23:13,450
looking foreign and that's how a lot of

566
00:23:11,080 --> 00:23:14,918
companies are getting owned so

567
00:23:13,450 --> 00:23:17,139
discovering endpoints this was something

568
00:23:14,919 --> 00:23:19,419
that we found on here be me calm that's

569
00:23:17,139 --> 00:23:21,189
actually published on our blog so this

570
00:23:19,419 --> 00:23:23,469
is why we wrote J s parser at one point

571
00:23:21,190 --> 00:23:25,419
we had a road and we're like okay we

572
00:23:23,469 --> 00:23:27,429
can't find any more bugs on Airbnb but

573
00:23:25,419 --> 00:23:29,499
just testing the app itself how do we

574
00:23:27,429 --> 00:23:32,349
stay ahead of the game so we wrote this

575
00:23:29,499 --> 00:23:33,429
little tool we gave it this javascript

576
00:23:32,349 --> 00:23:36,189
file that popped up on one of their

577
00:23:33,429 --> 00:23:37,899
pages we saw the endpoints air SMS

578
00:23:36,190 --> 00:23:39,969
notification and air push notification

579
00:23:37,899 --> 00:23:41,529
we had no clue what it did we hit it a

580
00:23:39,969 --> 00:23:43,509
couple of different times the good thing

581
00:23:41,529 --> 00:23:44,559
about it was the API gave you errors of

582
00:23:43,509 --> 00:23:46,929
like hey you're doing something wrong

583
00:23:44,559 --> 00:23:48,249
you need this parameter so we actually

584
00:23:46,929 --> 00:23:49,960
fuzz it a little bit there was some

585
00:23:48,249 --> 00:23:52,059
limitations you're sending an SMS you

586
00:23:49,960 --> 00:23:53,349
know you did throttle it versus if we do

587
00:23:52,059 --> 00:23:55,059
a push notification to your phone

588
00:23:53,349 --> 00:23:57,549
there's no limits so it was easier to

589
00:23:55,059 --> 00:23:58,509
exploit that but what ended up doing was

590
00:23:57,549 --> 00:24:00,309
we figured out what the post request

591
00:23:58,509 --> 00:24:03,129
looked like we started numerating the

592
00:24:00,309 --> 00:24:04,570
object ID in the user ID and we ended up

593
00:24:03,129 --> 00:24:06,549
getting all the templates for it because

594
00:24:04,570 --> 00:24:07,989
it was giving us the errors and we had

595
00:24:06,549 --> 00:24:09,759
every single one of them until we're

596
00:24:07,989 --> 00:24:11,080
able to send ourselves a notification so

597
00:24:09,759 --> 00:24:12,309
instead of just enumerating stuff we

598
00:24:11,080 --> 00:24:14,259
said okay let's just solve or send

599
00:24:12,309 --> 00:24:17,080
ourselves a new object ID to our user ID

600
00:24:14,259 --> 00:24:19,509
title it test and give it the body test

601
00:24:17,080 --> 00:24:21,489
that worked so now let's try and see if

602
00:24:19,509 --> 00:24:23,649
we can change that user ID and get some

603
00:24:21,489 --> 00:24:26,799
other user IDs push notification that

604
00:24:23,649 --> 00:24:29,109
also worked so we were able to just give

605
00:24:26,799 --> 00:24:30,849
it a different ID using our user ID

606
00:24:29,109 --> 00:24:33,460
giving different object ID and it was

607
00:24:30,849 --> 00:24:35,259
sending us a push notification because

608
00:24:33,460 --> 00:24:37,539
they were not checking if that user ID

609
00:24:35,259 --> 00:24:38,529
owned this object right so those are

610
00:24:37,539 --> 00:24:40,210
things that can do to stay out of the

611
00:24:38,529 --> 00:24:41,589
game when we exploit it this and we

612
00:24:40,210 --> 00:24:43,809
asked Airbnb about hey did you know

613
00:24:41,589 --> 00:24:44,918
about this they also weren't aware that

614
00:24:43,809 --> 00:24:46,869
there was a notice that there was a new

615
00:24:44,919 --> 00:24:48,129
end point going out that was because we

616
00:24:46,869 --> 00:24:49,269
were actively monitoring all their

617
00:24:48,129 --> 00:24:50,619
JavaScript files and pulling out

618
00:24:49,269 --> 00:24:52,389
endpoints that they may have even not

619
00:24:50,619 --> 00:24:55,839
known about it yet that was Justin's

620
00:24:52,389 --> 00:24:57,789
going into development the next one is

621
00:24:55,839 --> 00:25:00,639
doing a dumpster-diving thing on github

622
00:24:57,789 --> 00:25:02,289
so I find an umbrella company so you

623
00:25:00,639 --> 00:25:04,209
know example Google owns nest so I

624
00:25:02,289 --> 00:25:05,789
looked up Google and nest together and

625
00:25:04,210 --> 00:25:08,109
then I find this really weird

626
00:25:05,789 --> 00:25:09,580
FTP thing that has you know something

627
00:25:08,109 --> 00:25:12,189
you know provided they were using some

628
00:25:09,580 --> 00:25:13,869
user name and then some password that

629
00:25:12,190 --> 00:25:15,639
actually got me access to this giant

630
00:25:13,869 --> 00:25:17,559
company's FTP server that was hosting

631
00:25:15,639 --> 00:25:21,508
all their backups and that resulted in

632
00:25:17,559 --> 00:25:21,509
10k that was a week before Christmas

633
00:25:21,640 --> 00:25:26,350
so Christmas was really fun down here I

634
00:25:24,670 --> 00:25:29,200
thought that was a week after Christmas

635
00:25:26,350 --> 00:25:31,120
whoa sorry but yeah it was a really fun

636
00:25:29,200 --> 00:25:34,690
Christmas and when I got paid I think I

637
00:25:31,120 --> 00:25:36,850
was swimming very loudly the next one is

638
00:25:34,690 --> 00:25:39,850
this is happening a lot you just look

639
00:25:36,850 --> 00:25:41,620
for FTP and site comm different from you

640
00:25:39,850 --> 00:25:44,709
can change those parameter names like

641
00:25:41,620 --> 00:25:48,389
FTP SFTP SSH root whatever you want to

642
00:25:44,710 --> 00:25:48,390
look for and it just keeps on happening

643
00:25:48,690 --> 00:25:52,750
we talked about the s3 bucket things

644
00:25:51,340 --> 00:25:54,459
this was actually reported to us on

645
00:25:52,750 --> 00:25:56,650
haiku one is publicly available you can

646
00:25:54,460 --> 00:25:58,419
go read it online on hacker one complex

647
00:25:56,650 --> 00:26:00,190
activity but pretty much they found that

648
00:25:58,419 --> 00:26:02,110
s3 bucket that was owned by us they went

649
00:26:00,190 --> 00:26:04,390
to Amazon with this CLI documentation

650
00:26:02,110 --> 00:26:05,979
and used the CLI just to see if I can

651
00:26:04,390 --> 00:26:07,270
list the bucket that worked then they

652
00:26:05,980 --> 00:26:08,950
did the same thing with writing they

653
00:26:07,270 --> 00:26:10,600
were also able to write to it so if

654
00:26:08,950 --> 00:26:12,130
you're doing these things quickly and

655
00:26:10,600 --> 00:26:13,240
fast enough you with the first to find

656
00:26:12,130 --> 00:26:15,720
them and you can get boundaries like

657
00:26:13,240 --> 00:26:17,830
this one this one was worth $2,500

658
00:26:15,720 --> 00:26:19,990
though supplement take over there's

659
00:26:17,830 --> 00:26:21,129
times when engineers make s3 buckets it

660
00:26:19,990 --> 00:26:22,630
forget to point it to the place where

661
00:26:21,130 --> 00:26:24,460
it's supposed to be pointing to you

662
00:26:22,630 --> 00:26:26,169
catch those you go to amazon.com and you

663
00:26:24,460 --> 00:26:27,640
grab it and you claim it and now you can

664
00:26:26,169 --> 00:26:30,340
do whatever you want on there XSS

665
00:26:27,640 --> 00:26:32,830
fishing whatever that is this is what

666
00:26:30,340 --> 00:26:34,840
probably my most favorite bug so this is

667
00:26:32,830 --> 00:26:36,879
the whole package how do you do all

668
00:26:34,840 --> 00:26:38,290
these things that I've been going really

669
00:26:36,880 --> 00:26:40,780
fast about how do you put them all

670
00:26:38,290 --> 00:26:42,010
together so I find this asset it's

671
00:26:40,780 --> 00:26:45,070
something something that they have the

672
00:26:42,010 --> 00:26:47,980
target comm I find an endpoint that's

673
00:26:45,070 --> 00:26:49,090
internal my interest piqued so I

674
00:26:47,980 --> 00:26:50,679
couldn't find a lot of documentation

675
00:26:49,090 --> 00:26:52,570
online obvious it is supposed to be for

676
00:26:50,679 --> 00:26:54,700
their company so what do I do I go on

677
00:26:52,570 --> 00:26:56,379
github and I just plug in the domain and

678
00:26:54,700 --> 00:26:59,110
I find this little piece of information

679
00:26:56,380 --> 00:27:02,290
it tells me hey there's a cos folder we

680
00:26:59,110 --> 00:27:05,379
v1 dashboard internal login and this is

681
00:27:02,290 --> 00:27:09,010
what the boat is looking for so use that

682
00:27:05,380 --> 00:27:10,990
information and I find another employer

683
00:27:09,010 --> 00:27:12,610
of this company who had delete the same

684
00:27:10,990 --> 00:27:16,630
information but what they forgot to

685
00:27:12,610 --> 00:27:18,129
redact from it was a hazard so the

686
00:27:16,630 --> 00:27:20,169
header says preferred authentication in

687
00:27:18,130 --> 00:27:22,000
Subic internal and then the next of the

688
00:27:20,169 --> 00:27:24,580
internal thing has an auth token so you

689
00:27:22,000 --> 00:27:25,929
didn't have a login for it all you had

690
00:27:24,580 --> 00:27:28,360
to do was add these two headers to the

691
00:27:25,929 --> 00:27:30,010
request and you can actually reset

692
00:27:28,360 --> 00:27:31,330
someone's machine on there so he gaves

693
00:27:30,010 --> 00:27:32,800
me as you guys can't really see it but

694
00:27:31,330 --> 00:27:33,730
in this corner when next to the root it

695
00:27:32,800 --> 00:27:37,120
says okay

696
00:27:33,730 --> 00:27:40,360
when I had a reset reboot end point and

697
00:27:37,120 --> 00:27:41,860
I ended up hitting I found an end point

698
00:27:40,360 --> 00:27:43,479
through the JavaScript files I pretty

699
00:27:41,860 --> 00:27:45,610
much went to the index for the internal

700
00:27:43,480 --> 00:27:46,929
folder it was a login page I pulled a

701
00:27:45,610 --> 00:27:49,330
JavaScript files and look for more

702
00:27:46,929 --> 00:27:51,399
endpoints and one of them was internal

703
00:27:49,330 --> 00:27:54,189
something something that actually

704
00:27:51,399 --> 00:27:55,570
allowed me to hit an internal accounts

705
00:27:54,190 --> 00:27:57,279
they gave me a list of all that held up

706
00:27:55,570 --> 00:27:59,110
user names that I could use to brute

707
00:27:57,279 --> 00:28:00,940
force and probably escalate my work so

708
00:27:59,110 --> 00:28:05,289
that also resulted in a pretty nice

709
00:28:00,940 --> 00:28:06,309
bounty of $5,000 yeah so this was I'm

710
00:28:05,289 --> 00:28:08,470
glad that I was actually going to get

711
00:28:06,309 --> 00:28:10,840
this done in 30 minutes again I'm Ben

712
00:28:08,470 --> 00:28:12,940
you can reach me on Twitter on Anna home

713
00:28:10,840 --> 00:28:15,428
sick you can check out all of our

714
00:28:12,940 --> 00:28:17,019
directory how could all the programs on

715
00:28:15,429 --> 00:28:18,399
how could one a directory you want to

716
00:28:17,019 --> 00:28:21,429
email me you can email me on either one

717
00:28:18,399 --> 00:28:23,110
of those addresses we're also hiring so

718
00:28:21,429 --> 00:28:24,880
if you looking for a cool company to

719
00:28:23,110 --> 00:28:28,240
work for you can go to Haku 1.com slash

720
00:28:24,880 --> 00:28:29,590
careers I'm also doing a training an app

721
00:28:28,240 --> 00:28:31,330
stack USA so if you're going to be down

722
00:28:29,590 --> 00:28:32,980
in San Jose if you can't afford to go to

723
00:28:31,330 --> 00:28:34,269
San Jose I'm doing a full-blown training

724
00:28:32,980 --> 00:28:39,100
on everything like there's three days

725
00:28:34,269 --> 00:28:41,110
from recon to exploitation and this is

726
00:28:39,100 --> 00:28:42,549
all the tools that I've shown you guys I

727
00:28:41,110 --> 00:28:44,559
have pretty much used some of our

728
00:28:42,549 --> 00:28:46,750
written by myself some are running with

729
00:28:44,559 --> 00:28:49,210
other people and a big thank you for you

730
00:28:46,750 --> 00:28:51,909
guys the enemy talk to presenters here

731
00:28:49,210 --> 00:28:54,309
and their organizers also some friends I

732
00:28:51,909 --> 00:28:56,320
had Tom dev IT security John Luke

733
00:28:54,309 --> 00:28:57,970
Smeagol your beret McHale who have

734
00:28:56,320 --> 00:29:00,178
helped me put some of these slides

735
00:28:57,970 --> 00:29:00,179
together

736
00:29:05,440 --> 00:29:09,409
we do have two minutes so if you guys

737
00:29:08,239 --> 00:29:16,609
have any questions I'll be more than

738
00:29:09,409 --> 00:29:18,049
happy to answer yes I like to spend a

739
00:29:16,609 --> 00:29:21,199
lot of waste a lot of time doing stuff

740
00:29:18,049 --> 00:29:23,719
manually yeah so a lot of the lazy s3 is

741
00:29:21,200 --> 00:29:25,519
the base version that I use I built a

742
00:29:23,719 --> 00:29:27,049
little bit on top of it but majority of

743
00:29:25,519 --> 00:29:28,999
people aren't focused on I mean for me

744
00:29:27,049 --> 00:29:30,649
at least I'm not focused on making this

745
00:29:28,999 --> 00:29:31,999
better I'm more focused on adding stuff

746
00:29:30,649 --> 00:29:34,039
to my dictionary or the world is on I'm

747
00:29:31,999 --> 00:29:35,809
using so if I find interesting endpoints

748
00:29:34,039 --> 00:29:38,239
on github I'm mainly going and adding it

749
00:29:35,809 --> 00:29:39,799
to my directory brute force list so I

750
00:29:38,239 --> 00:29:42,830
can so I won't miss in the next target

751
00:29:39,799 --> 00:29:47,589
right any other questions

752
00:29:42,830 --> 00:29:47,589
oh thank you

753
00:29:50,670 --> 00:29:53,739
[Applause]

