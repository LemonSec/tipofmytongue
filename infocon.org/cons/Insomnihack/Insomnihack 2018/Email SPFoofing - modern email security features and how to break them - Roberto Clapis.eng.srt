1
00:00:08,400 --> 00:00:19,050
<font color="#E5E5E5">oh thank you for coming at the last hole</font>

2
00:00:15,660 --> 00:00:20,640
cover the last day<font color="#E5E5E5"> and I'm gonna be</font>

3
00:00:19,050 --> 00:00:27,509
<font color="#E5E5E5">talking about emails today because</font>

4
00:00:20,640 --> 00:00:29,880
<font color="#E5E5E5">that's something</font><font color="#CCCCCC"> new and</font><font color="#E5E5E5"> who I am I am a</font>

5
00:00:27,509 --> 00:00:31,470
security<font color="#CCCCCC"> engineer at secure Network</font>

6
00:00:29,880 --> 00:00:33,950
which is a<font color="#E5E5E5"> penetration testing and</font>

7
00:00:31,470 --> 00:00:37,410
security assessment firm in Italy Milan

8
00:00:33,950 --> 00:00:39,780
<font color="#CCCCCC">we do all sort of stuff but what I do in</font>

9
00:00:37,410 --> 00:00:44,160
my free<font color="#CCCCCC"> time is</font><font color="#E5E5E5"> mostly programming and</font>

10
00:00:39,780 --> 00:00:46,859
being a geek<font color="#CCCCCC"> I do whatever</font><font color="#E5E5E5"> happens that</font>

11
00:00:44,160 --> 00:00:52,050
to interest me and I code stuff and I

12
00:00:46,859 --> 00:00:54,600
try<font color="#CCCCCC"> to solve problems so once I had to</font>

13
00:00:52,050 --> 00:00:56,608
<font color="#CCCCCC">deal with</font><font color="#E5E5E5"> emails</font><font color="#CCCCCC"> I got a phishing email</font>

14
00:00:54,600 --> 00:01:00,870
a likely phishing one and I was

15
00:00:56,609 --> 00:01:04,199
wondering is this authentic<font color="#CCCCCC"> who is using</font>

16
00:01:00,870 --> 00:01:07,890
who has used emails<font color="#E5E5E5"> in last week in this</font>

17
00:01:04,199 --> 00:01:15,690
room<font color="#CCCCCC"> okay I see is still something</font>

18
00:01:07,890 --> 00:01:18,960
<font color="#CCCCCC">mainstream so who likes</font><font color="#E5E5E5"> emails okay</font>

19
00:01:15,690 --> 00:01:22,440
<font color="#E5E5E5">that's cool so that's something</font><font color="#CCCCCC"> we all</font>

20
00:01:18,960 --> 00:01:26,550
hate and that's something<font color="#E5E5E5"> that we can't</font>

21
00:01:22,440 --> 00:01:29,820
get<font color="#E5E5E5"> rid</font><font color="#CCCCCC"> of and if you start digging into</font>

22
00:01:26,550 --> 00:01:33,509
emails what you discover is just it's

23
00:01:29,820 --> 00:01:35,820
all<font color="#E5E5E5"> text whatever you do you forwarding</font>

24
00:01:33,510 --> 00:01:37,590
email you reply to an email<font color="#CCCCCC"> you do every</font>

25
00:01:35,820 --> 00:01:41,580
kind<font color="#E5E5E5"> of stuff with an email that's just</font>

26
00:01:37,590 --> 00:01:44,040
text as HTTP is just<font color="#E5E5E5"> text email is the</font>

27
00:01:41,580 --> 00:01:45,990
very same<font color="#E5E5E5"> thing here you can find I mean</font>

28
00:01:44,040 --> 00:01:49,620
<font color="#E5E5E5">an email that</font><font color="#CCCCCC"> I got</font><font color="#E5E5E5"> last week from</font><font color="#CCCCCC"> the</font>

29
00:01:45,990 --> 00:01:53,100
<font color="#CCCCCC">organizers of the conference you see</font>

30
00:01:49,620 --> 00:01:56,550
delivered<font color="#CCCCCC"> to header a return path header</font>

31
00:01:53,100 --> 00:01:59,640
a from header and the content<font color="#CCCCCC"> an email</font>

32
00:01:56,550 --> 00:02:01,979
<font color="#E5E5E5">I've cut a lot of stuff</font><font color="#CCCCCC"> because every</font>

33
00:01:59,640 --> 00:02:03,870
time you try to send a<font color="#E5E5E5"> one word email</font>

34
00:02:01,980 --> 00:02:06,870
<font color="#E5E5E5">you're probably gonna be sending about</font>

35
00:02:03,870 --> 00:02:10,440
the two<font color="#E5E5E5"> kilobytes amount of text just to</font>

36
00:02:06,870 --> 00:02:15,450
say hello<font color="#E5E5E5"> so I started looking into it</font>

37
00:02:10,440 --> 00:02:18,689
and I noticed<font color="#E5E5E5"> with stuff because if you</font>

38
00:02:15,450 --> 00:02:20,518
get<font color="#E5E5E5"> fishing you should try to analyze</font>

39
00:02:18,689 --> 00:02:21,930
everything<font color="#E5E5E5"> and if you</font><font color="#CCCCCC"> have a kilobyte</font><font color="#E5E5E5"> of</font>

40
00:02:20,519 --> 00:02:25,409
headers

41
00:02:21,930 --> 00:02:27,569
that's not gonna be<font color="#CCCCCC"> easy so in 2018</font>

42
00:02:25,409 --> 00:02:29,970
I was wondering how can<font color="#CCCCCC"> I get through</font>

43
00:02:27,569 --> 00:02:32,760
all<font color="#CCCCCC"> these headers</font><font color="#E5E5E5"> so I</font><font color="#CCCCCC"> wondering how is</font>

44
00:02:29,970 --> 00:02:34,319
this still<font color="#E5E5E5"> a thing</font><font color="#CCCCCC"> I</font><font color="#E5E5E5"> mean it's been a</font>

45
00:02:32,760 --> 00:02:36,750
long time since<font color="#E5E5E5"> emails have</font><font color="#CCCCCC"> been out</font>

46
00:02:34,319 --> 00:02:38,970
there<font color="#E5E5E5"> like 40 years</font><font color="#CCCCCC"> and we are</font><font color="#E5E5E5"> still</font>

47
00:02:36,750 --> 00:02:42,420
<font color="#E5E5E5">wondering is this authentic</font><font color="#CCCCCC"> is this</font>

48
00:02:38,970 --> 00:02:44,209
fishing every time you connect to a web

49
00:02:42,420 --> 00:02:47,970
server<font color="#E5E5E5"> every time you connect to a</font>

50
00:02:44,209 --> 00:02:50,069
service that<font color="#CCCCCC"> uses HTTPS</font><font color="#E5E5E5"> you're sure</font>

51
00:02:47,970 --> 00:02:52,019
you're positive that's<font color="#CCCCCC"> authentic because</font>

52
00:02:50,069 --> 00:02:54,089
<font color="#CCCCCC">your browser does that for you</font>

53
00:02:52,019 --> 00:02:56,220
but when you get an<font color="#CCCCCC"> email which may</font>

54
00:02:54,090 --> 00:02:59,989
contain<font color="#E5E5E5"> your passwords which may ask you</font>

55
00:02:56,220 --> 00:03:03,150
<font color="#E5E5E5">to authenticate on your</font><font color="#CCCCCC"> banks</font><font color="#E5E5E5"> so every</font>

56
00:02:59,989 --> 00:03:05,459
kind of tiny bit of<font color="#E5E5E5"> your personal data</font>

57
00:03:03,150 --> 00:03:08,489
<font color="#CCCCCC">sooner or later will go through an email</font>

58
00:03:05,459 --> 00:03:10,829
for<font color="#CCCCCC"> that we don't have anything I mean</font>

59
00:03:08,489 --> 00:03:14,129
we have stuff but I'll show you<font color="#E5E5E5"> that's</font>

60
00:03:10,829 --> 00:03:16,079
not very good<font color="#CCCCCC"> so phishing the first</font>

61
00:03:14,129 --> 00:03:18,030
thing<font color="#CCCCCC"> that</font><font color="#E5E5E5"> tried</font><font color="#CCCCCC"> to tackle down was</font>

62
00:03:16,079 --> 00:03:20,819
fishing<font color="#E5E5E5"> because when we do penetration</font>

63
00:03:18,030 --> 00:03:23,970
<font color="#CCCCCC">test one of the things we try to do is</font>

64
00:03:20,819 --> 00:03:26,310
to get<font color="#E5E5E5"> into the company and to get</font>

65
00:03:23,970 --> 00:03:28,680
inside<font color="#CCCCCC"> the network you</font><font color="#E5E5E5"> can look for</font>

66
00:03:26,310 --> 00:03:33,599
vulnerabilities<font color="#CCCCCC"> that's what we usually</font>

67
00:03:28,680 --> 00:03:37,470
do you can<font color="#E5E5E5"> look for easy access to the</font>

68
00:03:33,599 --> 00:03:41,849
internal<font color="#CCCCCC"> network through exposed guest</font>

69
00:03:37,470 --> 00:03:44,370
Wi-Fi<font color="#E5E5E5"> networks or Ethernet ports but the</font>

70
00:03:41,849 --> 00:03:46,379
easier way is just to<font color="#E5E5E5"> send an email to</font>

71
00:03:44,370 --> 00:03:49,319
the whole<font color="#E5E5E5"> company and just let them</font>

72
00:03:46,379 --> 00:03:53,280
click on your executable in<font color="#E5E5E5"> your in so</font>

73
00:03:49,319 --> 00:03:57,388
we try<font color="#E5E5E5"> to do that and sometimes we get</font>

74
00:03:53,280 --> 00:04:00,959
bounced by a mechanism<font color="#CCCCCC"> that</font><font color="#E5E5E5"> is there to</font>

75
00:03:57,389 --> 00:04:03,359
prevent that SPF is the first mechanism

76
00:04:00,959 --> 00:04:06,120
<font color="#E5E5E5">I'm going to talk</font><font color="#CCCCCC"> about</font><font color="#E5E5E5"> today is one</font><font color="#CCCCCC"> of</font>

77
00:04:03,359 --> 00:04:09,030
the many that<font color="#E5E5E5"> are broken</font><font color="#CCCCCC"> so that's a</font>

78
00:04:06,120 --> 00:04:11,010
spoiler<font color="#E5E5E5"> there</font><font color="#CCCCCC"> when you send an email</font>

79
00:04:09,030 --> 00:04:12,989
what happens is that<font color="#E5E5E5"> you don't actually</font>

80
00:04:11,010 --> 00:04:15,269
send an email<font color="#E5E5E5"> you ask your email</font>

81
00:04:12,989 --> 00:04:17,220
provider service to send<font color="#E5E5E5"> an email for</font>

82
00:04:15,269 --> 00:04:19,940
you<font color="#E5E5E5"> so you send your email to the server</font>

83
00:04:17,220 --> 00:04:23,460
<font color="#E5E5E5">the server then is gonna contact the</font>

84
00:04:19,940 --> 00:04:25,979
<font color="#E5E5E5">destinations</font><font color="#CCCCCC"> server which is then</font><font color="#E5E5E5"> going</font>

85
00:04:23,460 --> 00:04:29,940
<font color="#CCCCCC">to check if the original</font><font color="#E5E5E5"> server is</font>

86
00:04:25,979 --> 00:04:31,469
authentic and then<font color="#E5E5E5"> only</font><font color="#CCCCCC"> after that is</font>

87
00:04:29,940 --> 00:04:34,980
<font color="#E5E5E5">going to save the</font><font color="#CCCCCC"> email on the server</font>

88
00:04:31,469 --> 00:04:36,930
after<font color="#CCCCCC"> that you need the other end</font>

89
00:04:34,980 --> 00:04:39,960
<font color="#E5E5E5">of the conversation to connect to his</font>

90
00:04:36,930 --> 00:04:42,330
server<font color="#E5E5E5"> fetch the emails and that's how</font>

91
00:04:39,960 --> 00:04:46,640
you connect this<font color="#CCCCCC"> way emails are not that</font>

92
00:04:42,330 --> 00:04:49,560
fast<font color="#CCCCCC"> they're not chat</font><font color="#E5E5E5"> so this part is</font>

93
00:04:46,640 --> 00:04:52,020
<font color="#E5E5E5">crucial and that's one what I'm talking</font>

94
00:04:49,560 --> 00:04:54,960
about<font color="#E5E5E5"> today the part where the receiving</font>

95
00:04:52,020 --> 00:04:57,780
<font color="#CCCCCC">server</font><font color="#E5E5E5"> tries to understand if the email</font>

96
00:04:54,960 --> 00:04:59,520
is authentic<font color="#E5E5E5"> because what they get is</font>

97
00:04:57,780 --> 00:05:03,510
just<font color="#E5E5E5"> a connection from an outsider</font>

98
00:04:59,520 --> 00:05:05,700
IP address an<font color="#E5E5E5"> email a valid email and I</font>

99
00:05:03,510 --> 00:05:08,520
mean syntactically valid<font color="#E5E5E5"> email and they</font>

100
00:05:05,700 --> 00:05:12,510
have to understand what's going<font color="#CCCCCC"> on what</font>

101
00:05:08,520 --> 00:05:18,060
does what happens for SPF is that the

102
00:05:12,510 --> 00:05:21,060
<font color="#E5E5E5">return path header is checked</font><font color="#CCCCCC"> what how</font>

103
00:05:18,060 --> 00:05:24,450
they do that is<font color="#CCCCCC"> that they connect to the</font>

104
00:05:21,060 --> 00:05:28,190
DNS service is set up on the server and

105
00:05:24,450 --> 00:05:31,170
they ask for<font color="#E5E5E5"> the txt and SPF records</font>

106
00:05:28,190 --> 00:05:32,969
<font color="#CCCCCC">those</font><font color="#E5E5E5"> records are have to</font><font color="#CCCCCC"> be there</font>

107
00:05:31,170 --> 00:05:36,600
<font color="#E5E5E5">otherwise</font><font color="#CCCCCC"> there is no checks performed</font>

108
00:05:32,970 --> 00:05:38,100
<font color="#E5E5E5">and every email is assumed to be safe if</font>

109
00:05:36,600 --> 00:05:41,400
those<font color="#CCCCCC"> records are there they are</font>

110
00:05:38,100 --> 00:05:44,300
validated against the return path<font color="#CCCCCC"> header</font>

111
00:05:41,400 --> 00:05:48,090
<font color="#E5E5E5">this is important because</font><font color="#CCCCCC"> that header</font>

112
00:05:44,300 --> 00:05:50,730
shouldn't be forged to avoid spam the

113
00:05:48,090 --> 00:05:57,960
way it works<font color="#E5E5E5"> this is</font><font color="#CCCCCC"> a string for a</font>

114
00:05:50,730 --> 00:06:01,350
valid SPF record and what it says is the

115
00:05:57,960 --> 00:06:06,000
<font color="#CCCCCC">version of SPF which is</font><font color="#E5E5E5"> one a stands</font><font color="#CCCCCC"> for</font>

116
00:06:01,350 --> 00:06:08,820
the server that resource for the domain

117
00:06:06,000 --> 00:06:11,760
is allowed to<font color="#E5E5E5"> send emails so for example</font>

118
00:06:08,820 --> 00:06:14,820
if you receive<font color="#E5E5E5"> an email from</font><font color="#CCCCCC"> food comm</font>

119
00:06:11,760 --> 00:06:17,940
and<font color="#E5E5E5"> the IP address is the same</font><font color="#CCCCCC"> of food</font>

120
00:06:14,820 --> 00:06:21,960
<font color="#CCCCCC">com that email is authentic then there</font>

121
00:06:17,940 --> 00:06:24,210
is IP<font color="#CCCCCC"> four and that's</font><font color="#E5E5E5"> the whole subnet</font>

122
00:06:21,960 --> 00:06:26,909
<font color="#E5E5E5">the whole subnet</font><font color="#CCCCCC"> is allowed to send</font>

123
00:06:24,210 --> 00:06:29,159
emails and that's the very<font color="#CCCCCC"> same thing</font>

124
00:06:26,910 --> 00:06:31,650
they just authenticate you by your IP

125
00:06:29,160 --> 00:06:35,270
address<font color="#CCCCCC"> in this case is not</font><font color="#E5E5E5"> a domain is</font>

126
00:06:31,650 --> 00:06:37,979
just<font color="#CCCCCC"> an IP then there is an include call</font>

127
00:06:35,270 --> 00:06:40,530
this is very common don't think this<font color="#E5E5E5"> is</font>

128
00:06:37,980 --> 00:06:43,470
unusual<font color="#CCCCCC"> every email address</font><font color="#E5E5E5"> that relies</font>

129
00:06:40,530 --> 00:06:47,309
on external<font color="#E5E5E5"> services or on Gmail or on</font>

130
00:06:43,470 --> 00:06:48,129
<font color="#E5E5E5">Outlook</font><font color="#CCCCCC"> those haven't include include is</font>

131
00:06:47,310 --> 00:06:51,610
<font color="#E5E5E5">the same</font>

132
00:06:48,129 --> 00:06:54,249
<font color="#CCCCCC">as shown</font><font color="#E5E5E5"> you up</font><font color="#CCCCCC"> until</font><font color="#E5E5E5"> now</font><font color="#CCCCCC"> but</font><font color="#E5E5E5"> performed</font>

133
00:06:51,610 --> 00:06:56,919
<font color="#E5E5E5">on a recursive</font><font color="#CCCCCC"> call so it starts</font>

134
00:06:54,249 --> 00:07:00,099
resolving the SPF record for the other

135
00:06:56,919 --> 00:07:03,909
<font color="#E5E5E5">domain and it goes on</font><font color="#CCCCCC"> and on for at</font>

136
00:07:00,099 --> 00:07:06,669
least<font color="#CCCCCC"> 10 steps then after 10 steps of</font>

137
00:07:03,909 --> 00:07:09,159
recursive<font color="#CCCCCC"> calls the server</font><font color="#E5E5E5"> is allowed</font><font color="#CCCCCC"> to</font>

138
00:07:06,669 --> 00:07:12,489
just give<font color="#E5E5E5"> up and assume the email is</font>

139
00:07:09,159 --> 00:07:16,389
authentic so be careful because<font color="#E5E5E5"> they</font>

140
00:07:12,489 --> 00:07:19,508
include<font color="#CCCCCC"> coal can include other</font><font color="#E5E5E5"> include</font>

141
00:07:16,389 --> 00:07:23,439
calls<font color="#E5E5E5"> so this can escalate pretty</font>

142
00:07:19,509 --> 00:07:25,860
quickly and they're executing executed

143
00:07:23,439 --> 00:07:28,419
in<font color="#E5E5E5"> order so in this case they include</font>

144
00:07:25,860 --> 00:07:31,779
<font color="#E5E5E5">state when is the last to be executed</font>

145
00:07:28,419 --> 00:07:34,599
then there is a - all which means<font color="#E5E5E5"> if you</font>

146
00:07:31,779 --> 00:07:37,919
got to this point<font color="#E5E5E5"> you can think of it as</font>

147
00:07:34,599 --> 00:07:41,490
<font color="#CCCCCC">an IP table rule</font><font color="#E5E5E5"> if you go to this point</font>

148
00:07:37,919 --> 00:07:43,990
we it means that nothing<font color="#E5E5E5"> has passed</font>

149
00:07:41,490 --> 00:07:47,050
reject everything<font color="#E5E5E5"> they - stands for</font>

150
00:07:43,990 --> 00:07:52,209
reject<font color="#E5E5E5"> if you got here just just assume</font>

151
00:07:47,050 --> 00:07:56,019
is bad this<font color="#CCCCCC"> is one of the effects</font><font color="#E5E5E5"> this</font>

152
00:07:52,209 --> 00:07:58,089
<font color="#E5E5E5">is this was</font><font color="#CCCCCC"> among the bunch of text that</font>

153
00:07:56,019 --> 00:08:01,809
<font color="#CCCCCC">wasn't the</font><font color="#E5E5E5"> original email that I've</font>

154
00:07:58,089 --> 00:08:04,779
shown you<font color="#E5E5E5"> in the first slide</font><font color="#CCCCCC"> one of the</font>

155
00:08:01,809 --> 00:08:06,939
headers had received SPF which is a

156
00:08:04,779 --> 00:08:10,659
custom header that<font color="#E5E5E5"> Google added to</font><font color="#CCCCCC"> get</font>

157
00:08:06,939 --> 00:08:15,099
into Gmail<font color="#E5E5E5"> pass domain of Michael at</font>

158
00:08:10,659 --> 00:08:17,529
<font color="#CCCCCC">skirt dot CH designates</font><font color="#E5E5E5"> that</font><font color="#CCCCCC"> as a</font>

159
00:08:15,099 --> 00:08:20,378
permitted<font color="#E5E5E5"> sender which means Gmail got</font>

160
00:08:17,529 --> 00:08:22,509
an email<font color="#E5E5E5"> realize it came from an IP</font>

161
00:08:20,379 --> 00:08:24,429
address<font color="#CCCCCC"> resolve the</font><font color="#E5E5E5"> SPF record</font>

162
00:08:22,509 --> 00:08:26,589
recursively<font color="#E5E5E5"> three times and then</font>

163
00:08:24,429 --> 00:08:31,688
<font color="#E5E5E5">realized that ap IP address was allowed</font>

164
00:08:26,589 --> 00:08:34,870
<font color="#E5E5E5">to these incredibly huge black rectangle</font>

165
00:08:31,689 --> 00:08:38,319
that<font color="#E5E5E5"> you see there is me trying to do</font>

166
00:08:34,870 --> 00:08:40,899
that<font color="#E5E5E5"> by hand the comments I typed are on</font>

167
00:08:38,318 --> 00:08:43,389
the left and that's<font color="#E5E5E5"> not easy</font><font color="#CCCCCC"> to do by</font>

168
00:08:40,899 --> 00:08:45,250
hand<font color="#E5E5E5"> if you want to check manually why</font>

169
00:08:43,389 --> 00:08:48,220
an email fail the check or pass the

170
00:08:45,250 --> 00:08:51,279
check<font color="#E5E5E5"> because how</font><font color="#CCCCCC"> many</font><font color="#E5E5E5"> of you have seen</font>

171
00:08:48,220 --> 00:08:55,329
an a message like Thunderbird things

172
00:08:51,279 --> 00:08:58,300
<font color="#E5E5E5">this email might be a scam when you see</font>

173
00:08:55,329 --> 00:09:01,900
that message<font color="#E5E5E5"> what I think every time is</font>

174
00:08:58,300 --> 00:09:03,880
and how does Thunderbird knows if

175
00:09:01,900 --> 00:09:06,040
these is a scam email<font color="#E5E5E5"> that's not</font>

176
00:09:03,880 --> 00:09:10,210
<font color="#E5E5E5">something you can guess unless</font><font color="#CCCCCC"> you do</font>

177
00:09:06,040 --> 00:09:12,550
<font color="#CCCCCC">that by</font><font color="#E5E5E5"> hand which is not nice go to</font>

178
00:09:10,210 --> 00:09:14,230
this point and then I thought<font color="#E5E5E5"> okay my</font>

179
00:09:12,550 --> 00:09:16,810
original phishing email<font color="#E5E5E5"> passed</font>

180
00:09:14,230 --> 00:09:19,140
everything<font color="#CCCCCC"> it was correct up to this</font>

181
00:09:16,810 --> 00:09:22,869
point and then I stopped and<font color="#E5E5E5"> I</font><font color="#CCCCCC"> thought</font>

182
00:09:19,140 --> 00:09:25,540
<font color="#E5E5E5">yeah but it's validating the return path</font>

183
00:09:22,870 --> 00:09:30,280
header what's that for

184
00:09:25,540 --> 00:09:31,089
was that<font color="#E5E5E5"> useful turns out nothing it's</font>

185
00:09:30,280 --> 00:09:34,660
completely useless

186
00:09:31,090 --> 00:09:38,140
so SPF was made to avoid<font color="#E5E5E5"> spam not</font>

187
00:09:34,660 --> 00:09:40,709
fishing<font color="#E5E5E5"> so it prevents people from</font>

188
00:09:38,140 --> 00:09:43,510
sending email that have a return path

189
00:09:40,710 --> 00:09:45,580
for an address<font color="#CCCCCC"> that you want to spam</font><font color="#E5E5E5"> so</font>

190
00:09:43,510 --> 00:09:49,060
if you're<font color="#E5E5E5"> not attacking you can't Forge</font>

191
00:09:45,580 --> 00:09:52,300
<font color="#E5E5E5">that header but on the client on the</font>

192
00:09:49,060 --> 00:09:54,339
email client<font color="#E5E5E5"> what the final</font><font color="#CCCCCC"> destination</font>

193
00:09:52,300 --> 00:09:58,329
point<font color="#E5E5E5"> will see is not the return path</font>

194
00:09:54,340 --> 00:10:00,460
header is the from header<font color="#E5E5E5"> so the from</font>

195
00:09:58,330 --> 00:10:02,740
header is what you see in<font color="#E5E5E5"> your email</font>

196
00:10:00,460 --> 00:10:06,970
client which means SPF completely fails

197
00:10:02,740 --> 00:10:09,820
at<font color="#E5E5E5"> protecting you from phishing</font><font color="#CCCCCC"> and this</font>

198
00:10:06,970 --> 00:10:12,910
is an example of this attack<font color="#CCCCCC"> this</font><font color="#E5E5E5"> works</font>

199
00:10:09,820 --> 00:10:15,490
on any email provided provider<font color="#E5E5E5"> I tried</font>

200
00:10:12,910 --> 00:10:18,160
<font color="#E5E5E5">to with Outlook and Gmail it works so</font>

201
00:10:15,490 --> 00:10:22,150
you have a target you send it to in this

202
00:10:18,160 --> 00:10:24,760
case<font color="#CCCCCC"> Gmail the return path is correct</font><font color="#E5E5E5"> I</font>

203
00:10:22,150 --> 00:10:27,579
was sending it<font color="#E5E5E5"> from my work email so the</font>

204
00:10:24,760 --> 00:10:30,569
SPF record checked and passed so I was

205
00:10:27,580 --> 00:10:33,340
<font color="#E5E5E5">allowed to probably is the from header</font>

206
00:10:30,570 --> 00:10:35,680
was from doing that in that case didn't

207
00:10:33,340 --> 00:10:39,250
even exist<font color="#E5E5E5"> but you can put any header</font>

208
00:10:35,680 --> 00:10:41,260
there and my gmail<font color="#CCCCCC"> account that was</font>

209
00:10:39,250 --> 00:10:44,290
owned by me<font color="#E5E5E5"> my gmail account didn't</font>

210
00:10:41,260 --> 00:10:49,540
flinch<font color="#CCCCCC"> it was just an authentic email</font>

211
00:10:44,290 --> 00:10:53,199
for him which was bad enough<font color="#CCCCCC"> then I</font>

212
00:10:49,540 --> 00:10:56,290
realized what if it fails<font color="#CCCCCC"> so what</font>

213
00:10:53,200 --> 00:10:59,080
happens what should happen<font color="#CCCCCC"> if an SPF</font>

214
00:10:56,290 --> 00:11:00,939
check fails<font color="#E5E5E5"> so I went to the</font><font color="#CCCCCC"> eruv see</font>

215
00:10:59,080 --> 00:11:03,490
something that I<font color="#E5E5E5"> don't usually do but</font>

216
00:11:00,940 --> 00:11:05,620
<font color="#CCCCCC">some times you are left only with that</font>

217
00:11:03,490 --> 00:11:07,990
<font color="#E5E5E5">so I read through the</font><font color="#CCCCCC"> whole SPF paper</font>

218
00:11:05,620 --> 00:11:11,890
and there is<font color="#E5E5E5"> nothing about it there is</font>

219
00:11:07,990 --> 00:11:13,510
no policy<font color="#E5E5E5"> if an SPF</font><font color="#CCCCCC"> check fails you are</font>

220
00:11:11,890 --> 00:11:15,000
left with yourself so if you're

221
00:11:13,510 --> 00:11:17,400
implementing our

222
00:11:15,000 --> 00:11:19,530
<font color="#CCCCCC">male</font><font color="#E5E5E5"> server you have to decide two</font>

223
00:11:17,400 --> 00:11:21,209
things<font color="#E5E5E5"> and if there is any developer in</font>

224
00:11:19,530 --> 00:11:25,410
his room they can<font color="#E5E5E5"> understand why these</font>

225
00:11:21,210 --> 00:11:27,810
<font color="#E5E5E5">went bad really fast</font><font color="#CCCCCC"> two</font><font color="#E5E5E5"> things either</font>

226
00:11:25,410 --> 00:11:32,430
drop the email so your server<font color="#E5E5E5"> doesn't</font>

227
00:11:27,810 --> 00:11:34,880
work<font color="#E5E5E5"> in many cases or</font><font color="#CCCCCC"> you keep it what</font>

228
00:11:32,430 --> 00:11:37,410
do you think happened<font color="#E5E5E5"> there</font>

229
00:11:34,880 --> 00:11:42,780
everyone was keeping every email<font color="#E5E5E5"> so SPF</font>

230
00:11:37,410 --> 00:11:45,390
<font color="#CCCCCC">basically did nothing so</font><font color="#E5E5E5"> they decided</font><font color="#CCCCCC"> to</font>

231
00:11:42,780 --> 00:11:48,390
make a new<font color="#CCCCCC"> standard</font><font color="#E5E5E5"> because we</font><font color="#CCCCCC"> already</font>

232
00:11:45,390 --> 00:11:50,370
had<font color="#E5E5E5"> one so why not change it because</font>

233
00:11:48,390 --> 00:11:54,270
they<font color="#E5E5E5"> created a new standard which was</font>

234
00:11:50,370 --> 00:11:58,200
<font color="#CCCCCC">Demark Demark didn't invent anything new</font>

235
00:11:54,270 --> 00:11:59,910
<font color="#E5E5E5">they just upgraded</font><font color="#CCCCCC"> SPF and DKIM</font><font color="#E5E5E5"> which is</font>

236
00:11:58,200 --> 00:12:02,640
another<font color="#CCCCCC"> method that i'm not going to</font>

237
00:11:59,910 --> 00:12:07,350
<font color="#E5E5E5">explain</font><font color="#CCCCCC"> today but i'm</font><font color="#E5E5E5"> gonna talk about</font>

238
00:12:02,640 --> 00:12:10,920
<font color="#E5E5E5">for a while now</font><font color="#CCCCCC"> Demark</font><font color="#E5E5E5"> what what it does</font>

239
00:12:07,350 --> 00:12:14,670
basically is just checking<font color="#E5E5E5"> the SPF</font>

240
00:12:10,920 --> 00:12:19,380
record in a more thorough way and the

241
00:12:14,670 --> 00:12:23,719
<font color="#CCCCCC">DKIM record</font><font color="#E5E5E5"> in a more precise way</font><font color="#CCCCCC"> DKIM</font>

242
00:12:19,380 --> 00:12:27,750
is a signature<font color="#CCCCCC"> these provides a</font>

243
00:12:23,720 --> 00:12:32,190
cryptographic algorithm to validate<font color="#E5E5E5"> it</font>

244
00:12:27,750 --> 00:12:32,880
and<font color="#E5E5E5"> sign your emails which works pretty</font>

245
00:12:32,190 --> 00:12:34,710
good

246
00:12:32,880 --> 00:12:38,070
if you don't want your<font color="#E5E5E5"> email to get</font>

247
00:12:34,710 --> 00:12:41,160
<font color="#CCCCCC">anywhere because</font><font color="#E5E5E5"> if you forward an email</font>

248
00:12:38,070 --> 00:12:43,280
if you relay an email if you have<font color="#CCCCCC"> an</font>

249
00:12:41,160 --> 00:12:45,630
anti-virus<font color="#E5E5E5"> checking your email or</font>

250
00:12:43,280 --> 00:12:47,850
<font color="#E5E5E5">whatever if there is someone breathing</font>

251
00:12:45,630 --> 00:12:50,210
<font color="#E5E5E5">on the email server while you send your</font>

252
00:12:47,850 --> 00:12:54,450
<font color="#E5E5E5">email that's probably gonna fail so this</font>

253
00:12:50,210 --> 00:12:57,000
gives a ton of false<font color="#E5E5E5"> negatives and</font>

254
00:12:54,450 --> 00:13:00,089
that's why it's almost<font color="#E5E5E5"> never used and</font>

255
00:12:57,000 --> 00:13:02,880
even when it is<font color="#E5E5E5"> used it fails so many</font>

256
00:13:00,089 --> 00:13:05,160
times that<font color="#E5E5E5"> in the</font><font color="#CCCCCC"> Demark record that I'm</font>

257
00:13:02,880 --> 00:13:08,040
gonna explain in a second<font color="#E5E5E5"> it's just</font>

258
00:13:05,160 --> 00:13:10,740
<font color="#CCCCCC">written</font><font color="#E5E5E5"> okay if that fails</font><font color="#CCCCCC"> just keep</font>

259
00:13:08,040 --> 00:13:13,319
going and<font color="#CCCCCC"> just report</font><font color="#E5E5E5"> it to me</font><font color="#CCCCCC"> because I</font>

260
00:13:10,740 --> 00:13:14,850
have no<font color="#CCCCCC"> idea why that's</font><font color="#E5E5E5"> failing</font><font color="#CCCCCC"> so this</font>

261
00:13:13,320 --> 00:13:17,330
is hard to implement<font color="#E5E5E5"> and there's a paper</font>

262
00:13:14,850 --> 00:13:20,070
that<font color="#CCCCCC"> are</font><font color="#E5E5E5"> linked in the slide on why and</font>

263
00:13:17,330 --> 00:13:24,600
SPF we've already seen that<font color="#E5E5E5"> so how is</font>

264
00:13:20,070 --> 00:13:27,800
<font color="#E5E5E5">that operated the from</font><font color="#CCCCCC"> address is</font>

265
00:13:24,600 --> 00:13:30,739
checked<font color="#E5E5E5"> so</font><font color="#CCCCCC"> yay they got that</font>

266
00:13:27,800 --> 00:13:33,349
and also<font color="#CCCCCC"> Demark allows the developers</font>

267
00:13:30,739 --> 00:13:36,110
<font color="#E5E5E5">and</font><font color="#CCCCCC"> the see sadness</font><font color="#E5E5E5"> to tell what to do</font>

268
00:13:33,350 --> 00:13:38,569
if an SPF<font color="#E5E5E5"> record is failing</font><font color="#CCCCCC"> so if you're</font>

269
00:13:36,110 --> 00:13:40,790
<font color="#CCCCCC">just doing</font><font color="#E5E5E5"> an email campaign</font><font color="#CCCCCC"> you don't</font>

270
00:13:38,569 --> 00:13:42,679
care if your SPF record fails because

271
00:13:40,790 --> 00:13:45,769
<font color="#E5E5E5">you're not going to carry any important</font>

272
00:13:42,679 --> 00:13:48,019
<font color="#CCCCCC">information</font><font color="#E5E5E5"> so you want just for example</font>

273
00:13:45,769 --> 00:13:51,829
to set up your<font color="#CCCCCC"> Demark record to say</font><font color="#E5E5E5"> okay</font>

274
00:13:48,019 --> 00:13:53,869
<font color="#E5E5E5">if it fails</font><font color="#CCCCCC"> just keep going</font><font color="#E5E5E5"> might be an</font>

275
00:13:51,829 --> 00:13:55,549
acceptable<font color="#E5E5E5"> solution</font><font color="#CCCCCC"> just report it</font><font color="#E5E5E5"> to me</font>

276
00:13:53,869 --> 00:13:58,189
so I can detect<font color="#E5E5E5"> if someone is</font><font color="#CCCCCC"> phishing</font>

277
00:13:55,549 --> 00:13:59,959
on my name in an earlier case if there

278
00:13:58,189 --> 00:14:03,290
is private information going through

279
00:13:59,959 --> 00:14:07,429
email<font color="#E5E5E5"> you might want your democra</font><font color="#CCCCCC"> mark</font>

280
00:14:03,290 --> 00:14:10,819
record to say<font color="#CCCCCC"> delete the email warn me</font>

281
00:14:07,429 --> 00:14:13,790
<font color="#E5E5E5">and warn the postmaster so they can take</font>

282
00:14:10,819 --> 00:14:15,829
<font color="#CCCCCC">action for</font><font color="#E5E5E5"> example when you receive an</font>

283
00:14:13,790 --> 00:14:17,959
email saying<font color="#E5E5E5"> there is someone fishing in</font>

284
00:14:15,829 --> 00:14:19,579
our name please don't<font color="#CCCCCC"> leak don't click</font>

285
00:14:17,959 --> 00:14:22,790
on<font color="#E5E5E5"> the link in the</font><font color="#CCCCCC"> emails that's</font>

286
00:14:19,579 --> 00:14:24,378
probably how they were warned about<font color="#E5E5E5"> it</font>

287
00:14:22,790 --> 00:14:27,259
because some<font color="#CCCCCC"> demarks</font>

288
00:14:24,379 --> 00:14:30,529
record failed so they<font color="#CCCCCC"> got warned and so</font>

289
00:14:27,259 --> 00:14:32,299
that it can react or their data is<font color="#E5E5E5"> being</font>

290
00:14:30,529 --> 00:14:37,009
leaked everywhere so that's<font color="#E5E5E5"> another way</font>

291
00:14:32,299 --> 00:14:43,790
<font color="#CCCCCC">to detect it</font><font color="#E5E5E5"> this is a demur crackered</font>

292
00:14:37,009 --> 00:14:47,899
<font color="#E5E5E5">and it's fairly easier than SPF</font><font color="#CCCCCC"> if you</font>

293
00:14:43,790 --> 00:14:49,759
want to stay<font color="#E5E5E5"> easy and keep it fine</font><font color="#CCCCCC"> but</font>

294
00:14:47,899 --> 00:14:53,720
if you<font color="#E5E5E5"> want to make some complex stuff</font>

295
00:14:49,759 --> 00:14:56,119
<font color="#E5E5E5">can get really really complex this isn't</font>

296
00:14:53,720 --> 00:14:58,600
a fairly simple example this<font color="#E5E5E5"> has the</font>

297
00:14:56,119 --> 00:15:02,829
version<font color="#E5E5E5"> of the mark this is mandatory</font>

298
00:14:58,600 --> 00:15:07,850
<font color="#CCCCCC">reject</font><font color="#E5E5E5"> if any of the checks failed and</font>

299
00:15:02,829 --> 00:15:11,269
send an email to<font color="#E5E5E5"> these to this account</font>

300
00:15:07,850 --> 00:15:14,149
when<font color="#CCCCCC"> a fail happens this</font><font color="#E5E5E5"> is one of</font><font color="#CCCCCC"> the</font>

301
00:15:11,269 --> 00:15:16,220
reasons why<font color="#CCCCCC"> DKIM</font><font color="#E5E5E5"> is not used because</font>

302
00:15:14,149 --> 00:15:18,379
otherwise the postmaster the poor

303
00:15:16,220 --> 00:15:21,949
postmaster is<font color="#E5E5E5"> gonna get a ton of email</font>

304
00:15:18,379 --> 00:15:23,899
saying<font color="#CCCCCC"> DKIM has failed for no</font><font color="#E5E5E5"> reason so</font>

305
00:15:21,949 --> 00:15:27,949
this is almost<font color="#E5E5E5"> only used when SPF is</font>

306
00:15:23,899 --> 00:15:30,350
present<font color="#CCCCCC"> this is very important</font><font color="#E5E5E5"> and</font>

307
00:15:27,949 --> 00:15:33,979
important because<font color="#CCCCCC"> Demark allows you to</font>

308
00:15:30,350 --> 00:15:35,959
have<font color="#CCCCCC"> visibility on</font><font color="#E5E5E5"> what's going wrong</font><font color="#CCCCCC"> so</font>

309
00:15:33,980 --> 00:15:38,139
if you're setting<font color="#E5E5E5"> up an email you want</font>

310
00:15:35,959 --> 00:15:41,059
your<font color="#CCCCCC"> D Marc</font><font color="#E5E5E5"> record to be there and</font>

311
00:15:38,139 --> 00:15:41,590
without the<font color="#E5E5E5"> D mark record not only SPF</font>

312
00:15:41,059 --> 00:15:44,579
is

313
00:15:41,590 --> 00:15:47,500
and effective as I shown<font color="#CCCCCC"> you before but</font>

314
00:15:44,580 --> 00:15:50,890
without<font color="#CCCCCC"> demur</font><font color="#E5E5E5"> you can't know what's</font>

315
00:15:47,500 --> 00:15:54,910
going on<font color="#E5E5E5"> and if you've seen the Tolkien</font>

316
00:15:50,890 --> 00:15:56,949
<font color="#E5E5E5">sack DevOps earlier in this conference</font>

317
00:15:54,910 --> 00:15:59,319
you probably remember how important it

318
00:15:56,950 --> 00:16:01,770
is to detect<font color="#E5E5E5"> intrusion as soon as</font>

319
00:15:59,320 --> 00:16:03,970
possible

320
00:16:01,770 --> 00:16:07,530
this<font color="#E5E5E5"> is the result of everything</font>

321
00:16:03,970 --> 00:16:11,830
<font color="#E5E5E5">together this is the original</font><font color="#CCCCCC"> email says</font>

322
00:16:07,530 --> 00:16:14,670
dkm<font color="#E5E5E5"> pass SPF pass</font><font color="#CCCCCC"> Demark pass this</font>

323
00:16:11,830 --> 00:16:18,760
wasn't<font color="#E5E5E5"> there so dkm passed because</font><font color="#CCCCCC"> I</font>

324
00:16:14,670 --> 00:16:20,920
just<font color="#E5E5E5"> what</font><font color="#CCCCCC"> SPF passed</font><font color="#E5E5E5"> and it was correct</font>

325
00:16:18,760 --> 00:16:24,640
as<font color="#E5E5E5"> I've shown you before and</font><font color="#CCCCCC"> Demark</font>

326
00:16:20,920 --> 00:16:27,069
passed<font color="#E5E5E5"> so we're okay we're good and up</font>

327
00:16:24,640 --> 00:16:33,189
to this<font color="#E5E5E5"> point no</font><font color="#CCCCCC"> one</font><font color="#E5E5E5"> can break anything</font>

328
00:16:27,070 --> 00:16:35,710
<font color="#E5E5E5">in our email right wrong and at this</font>

329
00:16:33,190 --> 00:16:37,420
point<font color="#E5E5E5"> I started thinking okay I got the</font>

330
00:16:35,710 --> 00:16:41,440
phishing email<font color="#CCCCCC"> I detected that was a</font>

331
00:16:37,420 --> 00:16:47,050
phishing<font color="#E5E5E5"> there was good except it wasn't</font>

332
00:16:41,440 --> 00:16:50,410
<font color="#CCCCCC">because</font><font color="#E5E5E5"> SPF was invented in 2003 where</font>

333
00:16:47,050 --> 00:16:55,359
cloud wasn't even googled<font color="#E5E5E5"> as a ward</font>

334
00:16:50,410 --> 00:16:58,660
<font color="#E5E5E5">except for</font><font color="#CCCCCC"> google images of clouds so it</font>

335
00:16:55,360 --> 00:17:02,680
was<font color="#E5E5E5"> proposing 2003 and I made that this</font>

336
00:16:58,660 --> 00:17:09,879
<font color="#CCCCCC">heroism</font><font color="#E5E5E5"> bold and it became an RFC in</font>

337
00:17:02,680 --> 00:17:11,500
2014 after<font color="#E5E5E5"> a quite while so what happens</font>

338
00:17:09,880 --> 00:17:14,470
when<font color="#E5E5E5"> people started</font><font color="#CCCCCC"> moving to the cloud</font>

339
00:17:11,500 --> 00:17:16,780
so they took<font color="#CCCCCC"> year old</font><font color="#E5E5E5"> they took their</font>

340
00:17:14,470 --> 00:17:18,459
old<font color="#CCCCCC"> English server servers and they</font>

341
00:17:16,780 --> 00:17:19,660
moved<font color="#E5E5E5"> it</font><font color="#CCCCCC"> to a cloud appliance because</font>

342
00:17:18,459 --> 00:17:23,700
they didn't want<font color="#E5E5E5"> to maintain the</font>

343
00:17:19,660 --> 00:17:27,850
hardware anymore what happened<font color="#CCCCCC"> is the</font>

344
00:17:23,700 --> 00:17:30,450
most cloud providers share the same<font color="#E5E5E5"> IP</font>

345
00:17:27,849 --> 00:17:34,379
address the same<font color="#E5E5E5"> external IP address</font>

346
00:17:30,450 --> 00:17:38,020
which means that<font color="#CCCCCC"> you are left</font><font color="#E5E5E5"> with not</font>

347
00:17:34,380 --> 00:17:40,960
much of a choice<font color="#E5E5E5"> you have to add the</font>

348
00:17:38,020 --> 00:17:46,240
email<font color="#E5E5E5"> that IP</font><font color="#CCCCCC"> address</font><font color="#E5E5E5"> as a valid IP</font>

349
00:17:40,960 --> 00:17:49,210
<font color="#E5E5E5">address for</font><font color="#CCCCCC"> your mails which means that</font>

350
00:17:46,240 --> 00:17:52,180
<font color="#E5E5E5">anyone else in</font><font color="#CCCCCC"> your subnet</font><font color="#E5E5E5"> can send</font>

351
00:17:49,210 --> 00:17:54,100
email in your<font color="#CCCCCC"> name</font><font color="#E5E5E5"> even if they just</font>

352
00:17:52,180 --> 00:17:55,600
bought an appliance for<font color="#E5E5E5"> the same cloud</font>

353
00:17:54,100 --> 00:17:58,280
provider

354
00:17:55,600 --> 00:18:00,830
if you're thinking how do<font color="#E5E5E5"> I solve that</font><font color="#CCCCCC"> I</font>

355
00:17:58,280 --> 00:18:02,540
have a solution<font color="#CCCCCC"> but later in this light</font>

356
00:18:00,830 --> 00:18:02,810
<font color="#E5E5E5">otherwise you're gonna stop listening</font><font color="#CCCCCC"> to</font>

357
00:18:02,540 --> 00:18:07,580
me

358
00:18:02,810 --> 00:18:11,120
so what I did was trying to resolve some

359
00:18:07,580 --> 00:18:15,260
<font color="#E5E5E5">SPF records for my email in my company</font>

360
00:18:11,120 --> 00:18:16,610
which is<font color="#CCCCCC"> based</font><font color="#E5E5E5"> on office 365</font><font color="#CCCCCC"> after</font>

361
00:18:15,260 --> 00:18:19,190
digging for a while

362
00:18:16,610 --> 00:18:21,620
I got an astonishing<font color="#CCCCCC"> number of</font><font color="#E5E5E5"> valid IP</font>

363
00:18:19,190 --> 00:18:23,420
address to send<font color="#CCCCCC"> emails from Outlook</font>

364
00:18:21,620 --> 00:18:26,600
because they have a lot of replication

365
00:18:23,420 --> 00:18:31,340
<font color="#E5E5E5">one for</font><font color="#CCCCCC"> each country for Europe is just</font>

366
00:18:26,600 --> 00:18:33,679
<font color="#E5E5E5">like just Europe is 40 subnets that can</font>

367
00:18:31,340 --> 00:18:36,169
send email<font color="#E5E5E5"> because</font><font color="#CCCCCC"> they don't want their</font>

368
00:18:33,680 --> 00:18:38,240
email services to go down of<font color="#E5E5E5"> course so</font>

369
00:18:36,170 --> 00:18:41,870
they have to add every<font color="#E5E5E5"> external IP</font>

370
00:18:38,240 --> 00:18:43,640
address as a valid one which means it is

371
00:18:41,870 --> 00:18:46,659
<font color="#E5E5E5">almost impossible to</font><font color="#CCCCCC"> keep track of</font><font color="#E5E5E5"> all</font>

372
00:18:43,640 --> 00:18:51,050
their exchange servers around the world

373
00:18:46,660 --> 00:18:52,880
moreover it all relies<font color="#E5E5E5"> on ipv4 because</font>

374
00:18:51,050 --> 00:18:54,980
they want their email to<font color="#CCCCCC"> get to the</font>

375
00:18:52,880 --> 00:18:57,370
target<font color="#CCCCCC"> they can't</font><font color="#E5E5E5"> use ipv6 because no</font>

376
00:18:54,980 --> 00:19:01,220
one uses it<font color="#CCCCCC"> so they need</font><font color="#E5E5E5"> to reuse</font>

377
00:18:57,370 --> 00:19:04,100
addresses from<font color="#E5E5E5"> Asia</font><font color="#CCCCCC"> to Outlook to a lot</font>

378
00:19:01,220 --> 00:19:07,070
<font color="#E5E5E5">of services in Microsoft f2 here</font><font color="#CCCCCC"> I reuse</font>

379
00:19:04,100 --> 00:19:12,649
IP addresses as Google does as anyone

380
00:19:07,070 --> 00:19:15,320
else does<font color="#CCCCCC"> so of those incredible number</font>

381
00:19:12,650 --> 00:19:18,710
<font color="#CCCCCC">of IP addresses I found out that 30 of</font>

382
00:19:15,320 --> 00:19:20,750
them were in the usual external IP

383
00:19:18,710 --> 00:19:23,210
addresses<font color="#CCCCCC"> range so</font><font color="#E5E5E5"> I was</font><font color="#CCCCCC"> able to get an</font>

384
00:19:20,750 --> 00:19:26,390
appliance in Asia in<font color="#CCCCCC"> the European server</font>

385
00:19:23,210 --> 00:19:29,720
in a u.s. zone and I was<font color="#CCCCCC"> able to send</font>

386
00:19:26,390 --> 00:19:32,360
valid emails<font color="#E5E5E5"> valid emails with a valid</font>

387
00:19:29,720 --> 00:19:37,360
SPF record<font color="#E5E5E5"> in the name</font><font color="#CCCCCC"> of any company</font>

388
00:19:32,360 --> 00:19:40,760
using Outlook online which<font color="#CCCCCC"> means they</font>

389
00:19:37,360 --> 00:19:42,740
screwed up pretty bad<font color="#E5E5E5"> and that likely</font>

390
00:19:40,760 --> 00:19:45,860
<font color="#E5E5E5">the Microsoft Security Response Center</font>

391
00:19:42,740 --> 00:19:48,290
team<font color="#E5E5E5"> reacted pretty fast</font><font color="#CCCCCC"> in to in</font><font color="#E5E5E5"> 12</font>

392
00:19:45,860 --> 00:19:51,830
days they were<font color="#CCCCCC"> able to move those IP</font>

393
00:19:48,290 --> 00:19:54,110
addresses<font color="#CCCCCC"> away from Asia and get back</font>

394
00:19:51,830 --> 00:19:55,040
the<font color="#CCCCCC"> control of their emails</font><font color="#E5E5E5"> so this is a</font>

395
00:19:54,110 --> 00:20:00,560
<font color="#E5E5E5">scheme of</font><font color="#CCCCCC"> the attack</font>

396
00:19:55,040 --> 00:20:02,149
<font color="#E5E5E5">I got a subscription or anyone else can</font>

397
00:20:00,560 --> 00:20:04,040
<font color="#E5E5E5">get a subscription for</font><font color="#CCCCCC"> the</font><font color="#E5E5E5"> same cloud</font>

398
00:20:02,150 --> 00:20:05,630
provider or<font color="#CCCCCC"> the target which is</font><font color="#E5E5E5"> not</font>

399
00:20:04,040 --> 00:20:07,550
usually that<font color="#E5E5E5"> hard</font><font color="#CCCCCC"> because you only have</font>

400
00:20:05,630 --> 00:20:09,320
to pay<font color="#CCCCCC"> for that</font><font color="#E5E5E5"> and then there is the</font>

401
00:20:07,550 --> 00:20:11,928
victim service that is relying

402
00:20:09,320 --> 00:20:16,009
the IP<font color="#E5E5E5"> address to be trusted and the</font>

403
00:20:11,929 --> 00:20:20,029
victim client<font color="#E5E5E5"> can't possibly know</font><font color="#CCCCCC"> if</font>

404
00:20:16,009 --> 00:20:21,070
they mail email<font color="#E5E5E5"> is authentic that's bad</font>

405
00:20:20,029 --> 00:20:24,230
<font color="#E5E5E5">enough</font>

406
00:20:21,070 --> 00:20:27,408
if you don't consider<font color="#CCCCCC"> that I was that</font>

407
00:20:24,230 --> 00:20:30,169
that's mean<font color="#CCCCCC"> and a hacker suit I was</font>

408
00:20:27,409 --> 00:20:33,139
<font color="#E5E5E5">sending email in the name of anyone else</font>

409
00:20:30,169 --> 00:20:35,450
<font color="#E5E5E5">in the water was using Outlook also my</font>

410
00:20:33,139 --> 00:20:39,500
company which is pretty bad<font color="#CCCCCC"> since we do</font>

411
00:20:35,450 --> 00:20:42,139
security<font color="#E5E5E5"> so after that they kind of</font>

412
00:20:39,500 --> 00:20:45,379
fixed it they moved away<font color="#E5E5E5"> the shared IP</font>

413
00:20:42,139 --> 00:20:48,918
address and<font color="#CCCCCC"> our clients to which their</font>

414
00:20:45,379 --> 00:20:51,620
we reported that their problem started

415
00:20:48,919 --> 00:20:55,460
using<font color="#CCCCCC"> a sign IP address they asked their</font>

416
00:20:51,620 --> 00:20:58,250
cloud providers to use<font color="#E5E5E5"> the IP only for</font>

417
00:20:55,460 --> 00:21:00,470
them<font color="#E5E5E5"> and if they didn't they change the</font>

418
00:20:58,250 --> 00:21:02,690
cloud provider so this this was a big

419
00:21:00,470 --> 00:21:04,490
issue<font color="#E5E5E5"> for some of our clients which had</font>

420
00:21:02,690 --> 00:21:07,399
to rely on emails<font color="#E5E5E5"> because you know</font>

421
00:21:04,490 --> 00:21:11,600
emails<font color="#CCCCCC"> are important too since everyone</font>

422
00:21:07,399 --> 00:21:16,250
here uses them so some of<font color="#E5E5E5"> them</font><font color="#CCCCCC"> even left</font>

423
00:21:11,600 --> 00:21:18,408
the cloud and then at this point<font color="#E5E5E5"> some</font>

424
00:21:16,250 --> 00:21:19,970
might ask<font color="#CCCCCC"> ok but I already don't use the</font>

425
00:21:18,409 --> 00:21:24,950
<font color="#E5E5E5">cloud I don't like it is</font><font color="#CCCCCC"> just someone</font>

426
00:21:19,970 --> 00:21:28,519
else's computer<font color="#E5E5E5"> yeah but if you use</font>

427
00:21:24,950 --> 00:21:31,009
email campaigns for example MailChimp

428
00:21:28,519 --> 00:21:34,309
<font color="#CCCCCC">spark</font><font color="#E5E5E5"> toast and a lot of</font><font color="#CCCCCC"> other</font><font color="#E5E5E5"> services</font>

429
00:21:31,009 --> 00:21:37,669
<font color="#CCCCCC">like that</font><font color="#E5E5E5"> do you really think they don't</font>

430
00:21:34,309 --> 00:21:40,820
use the cloud<font color="#E5E5E5"> because if that's the</font><font color="#CCCCCC"> case</font>

431
00:21:37,669 --> 00:21:43,100
<font color="#CCCCCC">that</font><font color="#E5E5E5"> you're wrong so I was</font><font color="#CCCCCC"> able to</font>

432
00:21:40,820 --> 00:21:46,189
replicate<font color="#E5E5E5"> the very same attack that I</font>

433
00:21:43,100 --> 00:21:50,480
described<font color="#E5E5E5"> before but with a slight</font>

434
00:21:46,190 --> 00:21:53,419
change<font color="#E5E5E5"> so those were not on the cloud</font>

435
00:21:50,480 --> 00:21:55,460
the victim service was on their IP

436
00:21:53,419 --> 00:21:58,879
address maybe<font color="#E5E5E5"> their home address</font><font color="#CCCCCC"> and the</font>

437
00:21:55,460 --> 00:22:04,700
server was under their desk but they

438
00:21:58,879 --> 00:22:09,080
included in the SPF record MailChimp<font color="#CCCCCC"> I</font>

439
00:22:04,700 --> 00:22:11,389
think it was which uses AWS so I got an

440
00:22:09,080 --> 00:22:14,330
AWS subscription ID retried<font color="#CCCCCC"> a</font><font color="#E5E5E5"> couple of</font>

441
00:22:11,389 --> 00:22:16,580
times until<font color="#E5E5E5"> I got the same external IP</font>

442
00:22:14,330 --> 00:22:20,149
address of one of<font color="#E5E5E5"> the</font><font color="#CCCCCC"> three addresses</font>

443
00:22:16,580 --> 00:22:21,359
that the mail campaign service could get

444
00:22:20,149 --> 00:22:25,109
at

445
00:22:21,359 --> 00:22:26,789
in how many<font color="#E5E5E5"> of you have tried</font><font color="#CCCCCC"> to</font>

446
00:22:25,109 --> 00:22:33,658
configure<font color="#E5E5E5"> something to run on the cloud</font>

447
00:22:26,789 --> 00:22:38,279
on<font color="#CCCCCC"> IE WS c GP or asia okay not many</font><font color="#E5E5E5"> but</font>

448
00:22:33,659 --> 00:22:40,559
someone unless you explicitly<font color="#CCCCCC"> asked for</font>

449
00:22:38,279 --> 00:22:45,269
an<font color="#E5E5E5"> external IP address you're given one</font>

450
00:22:40,559 --> 00:22:49,009
<font color="#E5E5E5">at random and if you get that then you</font>

451
00:22:45,269 --> 00:22:51,570
<font color="#E5E5E5">have basically two choices using a nut</font>

452
00:22:49,009 --> 00:22:55,769
so you<font color="#E5E5E5"> shared</font><font color="#CCCCCC"> that IP address</font><font color="#E5E5E5"> with</font>

453
00:22:51,570 --> 00:22:59,489
someone else<font color="#E5E5E5"> or pay a lot more and you</font>

454
00:22:55,769 --> 00:23:02,820
<font color="#E5E5E5">don't want your manager to ask you why</font>

455
00:22:59,489 --> 00:23:04,710
are we paying five times more for the

456
00:23:02,820 --> 00:23:07,428
same service and that's why<font color="#E5E5E5"> people</font>

457
00:23:04,710 --> 00:23:10,549
<font color="#CCCCCC">usually share</font><font color="#E5E5E5"> external IP address and</font>

458
00:23:07,429 --> 00:23:16,679
that's what happens<font color="#CCCCCC"> for mail campaigns</font>

459
00:23:10,549 --> 00:23:19,049
<font color="#E5E5E5">so</font><font color="#CCCCCC"> many campaigns</font><font color="#E5E5E5"> used those three</font>

460
00:23:16,679 --> 00:23:22,109
services mainly<font color="#E5E5E5"> also I saw one on</font>

461
00:23:19,049 --> 00:23:24,179
Rackspace well that was a corner case

462
00:23:22,109 --> 00:23:29,309
because Rackspace usually assign you an

463
00:23:24,179 --> 00:23:31,950
IP<font color="#CCCCCC"> address</font><font color="#E5E5E5"> and so they included anyone</font>

464
00:23:29,309 --> 00:23:34,739
in there not and in some cases even in

465
00:23:31,950 --> 00:23:37,559
their whole region<font color="#E5E5E5"> so since they didn't</font>

466
00:23:34,739 --> 00:23:38,940
want<font color="#E5E5E5"> to check if every time they reboot</font>

467
00:23:37,559 --> 00:23:42,330
he did they change<font color="#CCCCCC"> the external IP</font>

468
00:23:38,940 --> 00:23:44,879
address they included<font color="#E5E5E5"> the whole range of</font>

469
00:23:42,330 --> 00:23:47,279
the cloud provider<font color="#E5E5E5"> which makes sense</font>

470
00:23:44,879 --> 00:23:50,070
<font color="#E5E5E5">because if</font><font color="#CCCCCC"> you are mail campaign service</font>

471
00:23:47,279 --> 00:23:51,809
<font color="#CCCCCC">your one you want your email</font><font color="#E5E5E5"> to get</font>

472
00:23:50,070 --> 00:23:53,789
there<font color="#E5E5E5"> that's what you do your business</font>

473
00:23:51,809 --> 00:24:00,599
<font color="#E5E5E5">is sending emails you don't want them to</font>

474
00:23:53,789 --> 00:24:03,840
fail a check so I try to<font color="#E5E5E5"> find some</font>

475
00:24:00,599 --> 00:24:05,849
solutions one if is of course don't<font color="#E5E5E5"> use</font>

476
00:24:03,840 --> 00:24:09,509
anything that<font color="#CCCCCC"> says</font><font color="#E5E5E5"> IP address which is</font>

477
00:24:05,849 --> 00:24:11,428
easy<font color="#E5E5E5"> in 2018 I mean not that</font><font color="#CCCCCC"> easy but</font>

478
00:24:09,509 --> 00:24:14,479
you<font color="#E5E5E5"> can make everything from</font><font color="#CCCCCC"> scratch or</font>

479
00:24:11,429 --> 00:24:16,649
use different<font color="#E5E5E5"> domains so you can have</font>

480
00:24:14,479 --> 00:24:19,049
one domain for<font color="#E5E5E5"> your company one</font>

481
00:24:16,649 --> 00:24:22,199
subdomain that<font color="#E5E5E5"> is only used for ads and</font>

482
00:24:19,049 --> 00:24:26,549
that<font color="#E5E5E5"> can include whatever SPF record</font><font color="#CCCCCC"> you</font>

483
00:24:22,200 --> 00:24:28,649
<font color="#E5E5E5">want and an important one</font><font color="#CCCCCC"> that is just</font>

484
00:24:26,549 --> 00:24:31,080
<font color="#CCCCCC">your domain</font><font color="#E5E5E5"> which doesn't include</font>

485
00:24:28,649 --> 00:24:35,539
<font color="#E5E5E5">anything except your IP the one you can</font>

486
00:24:31,080 --> 00:24:35,539
trust<font color="#CCCCCC"> and</font><font color="#E5E5E5"> that only one</font>

487
00:24:35,880 --> 00:24:43,980
I got to this whole point<font color="#E5E5E5"> and I kept</font>

488
00:24:40,500 --> 00:24:46,110
digging and<font color="#E5E5E5"> then</font><font color="#CCCCCC"> I finally</font><font color="#E5E5E5"> stopped here</font>

489
00:24:43,980 --> 00:24:48,150
and I thought<font color="#E5E5E5"> okay with the</font>

490
00:24:46,110 --> 00:24:50,790
technological<font color="#CCCCCC"> means we have now</font><font color="#E5E5E5"> that's</font>

491
00:24:48,150 --> 00:24:53,250
the<font color="#E5E5E5"> only potential solution first</font>

492
00:24:50,790 --> 00:24:57,059
<font color="#CCCCCC">sysadmin</font><font color="#E5E5E5"> because I was trying to suggest</font>

493
00:24:53,250 --> 00:24:58,440
<font color="#E5E5E5">to my clients</font><font color="#CCCCCC"> how to fix the problem but</font>

494
00:24:57,059 --> 00:25:03,418
then I stopped for<font color="#E5E5E5"> a second and I</font>

495
00:24:58,440 --> 00:25:06,000
realized<font color="#E5E5E5"> okay but how do I check if the</font>

496
00:25:03,419 --> 00:25:09,750
<font color="#CCCCCC">original email</font><font color="#E5E5E5"> I received was actually</font>

497
00:25:06,000 --> 00:25:12,390
<font color="#E5E5E5">fishing how can i as a user as any how</font>

498
00:25:09,750 --> 00:25:18,360
can any of you check if an email<font color="#E5E5E5"> they</font>

499
00:25:12,390 --> 00:25:20,010
got is authentic<font color="#E5E5E5"> and you know after 40</font>

500
00:25:18,360 --> 00:25:22,229
years of<font color="#E5E5E5"> emails</font><font color="#CCCCCC"> you would</font><font color="#E5E5E5"> expect</font>

501
00:25:20,010 --> 00:25:24,900
<font color="#CCCCCC">something better</font><font color="#E5E5E5"> because HTTP has been</font>

502
00:25:22,230 --> 00:25:27,000
out<font color="#CCCCCC"> there for a shorter amount of time</font>

503
00:25:24,900 --> 00:25:28,950
<font color="#E5E5E5">DNS has been out</font><font color="#CCCCCC"> there for a short</font>

504
00:25:27,000 --> 00:25:31,040
<font color="#E5E5E5">amount of time yeah we have ways to</font>

505
00:25:28,950 --> 00:25:37,260
<font color="#CCCCCC">authenticate</font><font color="#E5E5E5"> those things</font>

506
00:25:31,040 --> 00:25:39,629
ARP we don't but it's<font color="#E5E5E5"> okay I think so</font>

507
00:25:37,260 --> 00:25:40,980
you can always authenticate your mail

508
00:25:39,630 --> 00:25:44,940
server when you're<font color="#E5E5E5"> sending an</font><font color="#CCCCCC"> email</font>

509
00:25:40,980 --> 00:25:46,770
which<font color="#E5E5E5"> you don't really care</font><font color="#CCCCCC"> that</font><font color="#E5E5E5"> much in</font>

510
00:25:44,940 --> 00:25:49,890
<font color="#E5E5E5">many cases because you're just sending</font>

511
00:25:46,770 --> 00:25:51,929
and most of the time is<font color="#CCCCCC"> just pump I'm</font>

512
00:25:49,890 --> 00:25:56,190
not saying you do you do spam your

513
00:25:51,929 --> 00:25:59,490
colleagues but<font color="#E5E5E5"> I do so after 40 years of</font>

514
00:25:56,190 --> 00:26:03,630
email<font color="#CCCCCC"> I was expecting a solution but I</font>

515
00:25:59,490 --> 00:26:06,750
didn't find<font color="#E5E5E5"> one</font><font color="#CCCCCC"> I wasn't able to find</font>

516
00:26:03,630 --> 00:26:09,530
any valid solution the originals like

517
00:26:06,750 --> 00:26:12,299
when I show you<font color="#E5E5E5"> when I shown you those</font>

518
00:26:09,530 --> 00:26:15,629
this bunch of commands<font color="#CCCCCC"> that I gave to</font>

519
00:26:12,299 --> 00:26:17,720
<font color="#CCCCCC">validate an email by hand it's the</font><font color="#E5E5E5"> best</font>

520
00:26:15,630 --> 00:26:22,200
way that I<font color="#CCCCCC"> could</font><font color="#E5E5E5"> have currently found</font>

521
00:26:17,720 --> 00:26:25,320
<font color="#E5E5E5">except for you know actually reading the</font>

522
00:26:22,200 --> 00:26:28,860
source of the<font color="#CCCCCC"> email trying</font><font color="#E5E5E5"> to understand</font>

523
00:26:25,320 --> 00:26:31,139
what's going<font color="#CCCCCC"> on thinking</font><font color="#E5E5E5"> if anyone in</font>

524
00:26:28,860 --> 00:26:34,110
the<font color="#E5E5E5"> world had means to know that much</font>

525
00:26:31,140 --> 00:26:36,600
about<font color="#E5E5E5"> me because spearfishing</font><font color="#CCCCCC"> can be</font><font color="#E5E5E5"> a</font>

526
00:26:34,110 --> 00:26:39,510
<font color="#CCCCCC">really precise so if you take</font><font color="#E5E5E5"> away all</font>

527
00:26:36,600 --> 00:26:42,629
<font color="#E5E5E5">the social skills</font><font color="#CCCCCC"> that</font><font color="#E5E5E5"> one might have</font>

528
00:26:39,510 --> 00:26:44,070
<font color="#E5E5E5">and</font><font color="#CCCCCC"> you want to tell users okay you</font>

529
00:26:42,630 --> 00:26:45,350
<font color="#E5E5E5">should do these to check if an email is</font>

530
00:26:44,070 --> 00:26:48,109
authentic

531
00:26:45,350 --> 00:26:50,968
there isn't much they can do

532
00:26:48,109 --> 00:26:52,830
one of the things that<font color="#E5E5E5"> I can do is read</font>

533
00:26:50,969 --> 00:26:55,259
the sources<font color="#E5E5E5"> of the email of course if</font>

534
00:26:52,830 --> 00:26:56,939
there is an HTML<font color="#E5E5E5"> link that points to</font>

535
00:26:55,259 --> 00:26:59,340
something<font color="#CCCCCC"> that is</font><font color="#E5E5E5"> not what is shown in</font>

536
00:26:56,940 --> 00:27:04,139
the link<font color="#E5E5E5"> that's easy to detect</font>

537
00:26:59,340 --> 00:27:09,478
but then the suicide<font color="#CCCCCC"> P address</font><font color="#E5E5E5"> as I said</font>

538
00:27:04,139 --> 00:27:12,840
<font color="#E5E5E5">earlier email campaign providers they</font>

539
00:27:09,479 --> 00:27:15,359
use the cloud but let's stop for<font color="#E5E5E5"> a</font>

540
00:27:12,840 --> 00:27:17,580
second you get a new email<font color="#E5E5E5"> that really</font>

541
00:27:15,359 --> 00:27:21,918
looks like fishing but it has passed the

542
00:27:17,580 --> 00:27:25,320
<font color="#CCCCCC">SPF checks so you want to know okay how</font>

543
00:27:21,919 --> 00:27:28,200
how likely is the how likely it is that

544
00:27:25,320 --> 00:27:31,529
<font color="#E5E5E5">this is</font><font color="#CCCCCC"> phishing so you read</font><font color="#E5E5E5"> the source</font>

545
00:27:28,200 --> 00:27:34,589
IP<font color="#CCCCCC"> address and</font><font color="#E5E5E5"> you look at SPF record if</font>

546
00:27:31,529 --> 00:27:37,289
there is the original IP address the one

547
00:27:34,589 --> 00:27:40,289
they added so if you remember<font color="#CCCCCC"> in the</font>

548
00:27:37,289 --> 00:27:43,830
original SPF record<font color="#E5E5E5"> there was one IP</font>

549
00:27:40,289 --> 00:27:45,599
<font color="#E5E5E5">address or the exact IP address of the</font>

550
00:27:43,830 --> 00:27:49,830
domain<font color="#E5E5E5"> in that case you are pretty safe</font>

551
00:27:45,599 --> 00:27:52,229
<font color="#E5E5E5">because that's hard to spoof but if the</font>

552
00:27:49,830 --> 00:27:54,299
personal email<font color="#CCCCCC"> you just got that tells</font>

553
00:27:52,229 --> 00:27:57,450
you<font color="#CCCCCC"> that you have won a lot of</font><font color="#E5E5E5"> money and</font>

554
00:27:54,299 --> 00:28:00,658
you have absolutely<font color="#CCCCCC"> have to click on the</font>

555
00:27:57,450 --> 00:28:02,909
link to<font color="#E5E5E5"> get it if you want to check if</font>

556
00:28:00,659 --> 00:28:06,119
that<font color="#E5E5E5"> is original and you see it comes</font>

557
00:28:02,909 --> 00:28:08,609
not<font color="#E5E5E5"> from the original IP address but</font>

558
00:28:06,119 --> 00:28:13,799
from an IP address<font color="#E5E5E5"> that comes from a</font>

559
00:28:08,609 --> 00:28:16,769
spark post<font color="#CCCCCC"> range of</font><font color="#E5E5E5"> IPs that that is</font>

560
00:28:13,799 --> 00:28:20,519
<font color="#E5E5E5">specious because you just got a personal</font>

561
00:28:16,769 --> 00:28:23,179
email from a personal<font color="#E5E5E5"> email address in</font>

562
00:28:20,519 --> 00:28:28,499
the range of a<font color="#CCCCCC"> mailing</font><font color="#E5E5E5"> campaign service</font>

563
00:28:23,179 --> 00:28:32,519
that's one thing<font color="#E5E5E5"> you</font><font color="#CCCCCC"> can do and one</font><font color="#E5E5E5"> of</font>

564
00:28:28,499 --> 00:28:34,349
the only ones<font color="#E5E5E5"> you</font><font color="#CCCCCC"> can do but if they</font>

565
00:28:32,519 --> 00:28:36,929
don't use my campaigning system and you

566
00:28:34,349 --> 00:28:39,149
just see an<font color="#E5E5E5"> IP address</font><font color="#CCCCCC"> there</font><font color="#E5E5E5"> is one big</font>

567
00:28:36,929 --> 00:28:42,629
surprise<font color="#E5E5E5"> in the next slide</font><font color="#CCCCCC"> get ready</font>

568
00:28:39,149 --> 00:28:44,369
because<font color="#E5E5E5"> there I didn't ever thought in</font>

569
00:28:42,629 --> 00:28:50,149
my life I would title a slide like that

570
00:28:44,369 --> 00:28:54,259
<font color="#CCCCCC">but he's being Bing I'm sorry I'm just</font>

571
00:28:50,149 --> 00:28:54,258
<font color="#CCCCCC">putting a lot of</font><font color="#E5E5E5"> crap on Microsoft today</font>

572
00:28:54,710 --> 00:29:00,300
being is<font color="#CCCCCC"> not that good of a search</font>

573
00:28:57,930 --> 00:29:02,700
<font color="#E5E5E5">engine unless you want</font><font color="#CCCCCC"> to see what</font>

574
00:29:00,300 --> 00:29:07,200
services<font color="#CCCCCC"> are hosted</font><font color="#E5E5E5"> on a particular IP</font>

575
00:29:02,700 --> 00:29:09,840
address<font color="#CCCCCC"> the IP keyword</font><font color="#E5E5E5"> only works on</font>

576
00:29:07,200 --> 00:29:14,430
being doesn't<font color="#E5E5E5"> work on</font><font color="#CCCCCC"> Google or</font>

577
00:29:09,840 --> 00:29:15,870
<font color="#CCCCCC">DuckDuckGo</font><font color="#E5E5E5"> so that's pretty nice if you</font>

578
00:29:14,430 --> 00:29:18,870
want to see if someone<font color="#E5E5E5"> is</font><font color="#CCCCCC"> sharing their</font>

579
00:29:15,870 --> 00:29:20,639
<font color="#CCCCCC">IP address with any</font><font color="#E5E5E5"> anyone else because</font>

580
00:29:18,870 --> 00:29:23,189
if they have<font color="#E5E5E5"> their website on the same</font>

581
00:29:20,640 --> 00:29:27,120
address of them their mail server<font color="#E5E5E5"> you</font>

582
00:29:23,190 --> 00:29:31,020
can<font color="#CCCCCC"> Bing it up and see if it's shared</font>

583
00:29:27,120 --> 00:29:32,850
among other people<font color="#CCCCCC"> so you Bing</font><font color="#E5E5E5"> you see</font>

584
00:29:31,020 --> 00:29:34,650
you<font color="#CCCCCC"> put the IP address there and you see</font>

585
00:29:32,850 --> 00:29:38,129
for example<font color="#E5E5E5"> six different home pages</font>

586
00:29:34,650 --> 00:29:41,640
from six different firms or services

587
00:29:38,130 --> 00:29:43,250
this<font color="#E5E5E5"> is a pretty nice giveaway that</font>

588
00:29:41,640 --> 00:29:46,440
they're<font color="#E5E5E5"> sharing their IP address</font>

589
00:29:43,250 --> 00:29:47,970
morover<font color="#E5E5E5"> that's one good way</font><font color="#CCCCCC"> to know if</font>

590
00:29:46,440 --> 00:29:50,250
someone has been breached because

591
00:29:47,970 --> 00:29:52,560
<font color="#E5E5E5">usually if that's the case and many</font>

592
00:29:50,250 --> 00:29:58,230
people shared that much their external

593
00:29:52,560 --> 00:30:01,139
IP address<font color="#CCCCCC"> if Sun has been owned by an</font>

594
00:29:58,230 --> 00:30:04,400
hacker<font color="#E5E5E5"> they can usually do a lot</font><font color="#CCCCCC"> of</font>

595
00:30:01,140 --> 00:30:11,000
<font color="#CCCCCC">movement</font><font color="#E5E5E5"> and own the other service too</font>

596
00:30:04,400 --> 00:30:14,070
so that's that's<font color="#E5E5E5"> it that's the</font><font color="#CCCCCC"> whole</font>

597
00:30:11,000 --> 00:30:19,800
<font color="#E5E5E5">drill down of</font><font color="#CCCCCC"> everything that have dug</font>

598
00:30:14,070 --> 00:30:22,439
on SPF<font color="#E5E5E5"> and</font><font color="#CCCCCC"> Demark</font><font color="#E5E5E5"> and before I end this</font>

599
00:30:19,800 --> 00:30:29,399
<font color="#CCCCCC">up I would like</font><font color="#E5E5E5"> to tell you one more</font>

600
00:30:22,440 --> 00:30:32,880
thing<font color="#CCCCCC"> I never</font><font color="#E5E5E5"> have I never ever liked</font>

601
00:30:29,400 --> 00:30:35,760
emails<font color="#CCCCCC"> I would like</font><font color="#E5E5E5"> to find a solution</font>

602
00:30:32,880 --> 00:30:39,390
<font color="#CCCCCC">to code</font><font color="#E5E5E5"> the solution may be applying for</font>

603
00:30:35,760 --> 00:30:43,190
<font color="#E5E5E5">anything for dovecot or any open source</font>

604
00:30:39,390 --> 00:30:47,100
mail server exchange<font color="#CCCCCC"> even and I have a</font>

605
00:30:43,190 --> 00:30:49,830
lot of<font color="#E5E5E5"> ideas that</font><font color="#CCCCCC"> we can we could</font>

606
00:30:47,100 --> 00:30:52,830
implant<font color="#E5E5E5"> or we could propose as a</font>

607
00:30:49,830 --> 00:30:55,530
standard<font color="#CCCCCC"> to solve this</font><font color="#E5E5E5"> issue because in</font>

608
00:30:52,830 --> 00:31:00,300
my opinion<font color="#E5E5E5"> there is</font><font color="#CCCCCC"> no good solution</font><font color="#E5E5E5"> yet</font>

609
00:30:55,530 --> 00:31:04,290
<font color="#CCCCCC">I mean how is this a</font><font color="#E5E5E5"> good solution</font><font color="#CCCCCC"> how</font>

610
00:31:00,300 --> 00:31:06,570
is this a good solution<font color="#CCCCCC"> I would really</font>

611
00:31:04,290 --> 00:31:07,409
like<font color="#CCCCCC"> us as a community to</font><font color="#E5E5E5"> try and find a</font>

612
00:31:06,570 --> 00:31:10,610
<font color="#E5E5E5">way to</font>

613
00:31:07,410 --> 00:31:13,680
not<font color="#E5E5E5"> us because</font><font color="#CCCCCC"> we're</font><font color="#E5E5E5"> usually good</font><font color="#CCCCCC"> I mean</font>

614
00:31:10,610 --> 00:31:15,659
we are technical people<font color="#E5E5E5"> and if we are</font>

615
00:31:13,680 --> 00:31:18,000
not<font color="#E5E5E5"> we are probably here because</font><font color="#CCCCCC"> we know</font>

616
00:31:15,660 --> 00:31:20,220
what security<font color="#E5E5E5"> is we are not protecting</font>

617
00:31:18,000 --> 00:31:21,810
just<font color="#CCCCCC"> ourself I</font><font color="#E5E5E5"> mean it's pretty easy for</font>

618
00:31:20,220 --> 00:31:24,810
us<font color="#CCCCCC"> to detect phishing just by reading</font>

619
00:31:21,810 --> 00:31:28,050
<font color="#E5E5E5">through a text but what if we want</font><font color="#CCCCCC"> to</font>

620
00:31:24,810 --> 00:31:28,860
<font color="#E5E5E5">protect our parents or our nephews our</font>

621
00:31:28,050 --> 00:31:31,649
small nephews

622
00:31:28,860 --> 00:31:33,959
or anyone else in our services<font color="#CCCCCC"> that we</font>

623
00:31:31,650 --> 00:31:36,090
would<font color="#E5E5E5"> like to</font><font color="#CCCCCC"> get the authentic stuff</font>

624
00:31:33,960 --> 00:31:38,010
and not<font color="#CCCCCC"> the bad stuff we should really</font>

625
00:31:36,090 --> 00:31:39,659
<font color="#CCCCCC">think about it because emails</font><font color="#E5E5E5"> are there</font>

626
00:31:38,010 --> 00:31:41,700
<font color="#E5E5E5">we are stuck with</font><font color="#CCCCCC"> them we don't</font><font color="#E5E5E5"> like</font>

627
00:31:39,660 --> 00:31:43,680
<font color="#E5E5E5">them we there's not there's not much we</font>

628
00:31:41,700 --> 00:31:45,900
can<font color="#E5E5E5"> do about</font><font color="#CCCCCC"> it</font><font color="#E5E5E5"> we are stuck with them</font>

629
00:31:43,680 --> 00:31:51,540
and we<font color="#CCCCCC"> should try to fix</font><font color="#E5E5E5"> what</font><font color="#CCCCCC"> we have</font>

630
00:31:45,900 --> 00:31:53,220
and that's it that's<font color="#E5E5E5"> on us</font><font color="#CCCCCC"> I mean on the</font>

631
00:31:51,540 --> 00:31:56,850
security community<font color="#CCCCCC"> if we haven't</font><font color="#E5E5E5"> found</font><font color="#CCCCCC"> a</font>

632
00:31:53,220 --> 00:31:58,980
solution<font color="#CCCCCC"> for this yet I mean</font><font color="#E5E5E5"> we have 27</font>

633
00:31:56,850 --> 00:32:00,929
different<font color="#E5E5E5"> in</font><font color="#CCCCCC"> film implementation of smtp</font>

634
00:31:58,980 --> 00:32:04,470
on the server side but we have<font color="#E5E5E5"> no ways</font>

635
00:32:00,930 --> 00:32:07,800
to check<font color="#E5E5E5"> it we should at</font><font color="#CCCCCC"> least if you</font>

636
00:32:04,470 --> 00:32:10,410
<font color="#E5E5E5">have the means</font><font color="#CCCCCC"> to try and</font><font color="#E5E5E5"> find a better</font>

637
00:32:07,800 --> 00:32:14,210
solution<font color="#E5E5E5"> this would be a good time</font><font color="#CCCCCC"> i</font>

638
00:32:10,410 --> 00:32:17,269
mean it's only being 40 years thank<font color="#E5E5E5"> you</font>

639
00:32:14,210 --> 00:32:17,269
[Music]

640
00:32:21,660 --> 00:32:30,310
so I don't know if there's some

641
00:32:23,950 --> 00:32:39,670
<font color="#CCCCCC">questions any question is fine</font>

642
00:32:30,310 --> 00:32:42,750
I mean don't be afraid so you can sign

643
00:32:39,670 --> 00:32:46,030
email digitally<font color="#E5E5E5"> what's your view</font><font color="#CCCCCC"> on that</font>

644
00:32:42,750 --> 00:32:49,380
<font color="#CCCCCC">you could sign an</font><font color="#E5E5E5"> email digitally and</font>

645
00:32:46,030 --> 00:32:54,639
that's part of what the<font color="#CCCCCC"> dkim does</font>

646
00:32:49,380 --> 00:32:58,420
<font color="#E5E5E5">probably is for example the key that is</font>

647
00:32:54,640 --> 00:33:01,810
out there<font color="#E5E5E5"> to sign your public key needs</font>

648
00:32:58,420 --> 00:33:04,200
<font color="#E5E5E5">to be distributed somehow so the way</font>

649
00:33:01,810 --> 00:33:07,000
it's currently done<font color="#E5E5E5"> is via DNS and</font>

650
00:33:04,200 --> 00:33:10,750
that's one way because<font color="#E5E5E5"> also SPF relies</font>

651
00:33:07,000 --> 00:33:13,900
on that probably is<font color="#E5E5E5"> the</font><font color="#CCCCCC"> DNS has a cache</font>

652
00:33:10,750 --> 00:33:17,020
<font color="#E5E5E5">and sometimes a pretty long one there</font>

653
00:33:13,900 --> 00:33:19,600
are<font color="#E5E5E5"> no means to revoke</font><font color="#CCCCCC"> it</font><font color="#E5E5E5"> the keys okay</font>

654
00:33:17,020 --> 00:33:22,330
<font color="#CCCCCC">because</font><font color="#E5E5E5"> there is no upper</font><font color="#CCCCCC"> authority</font>

655
00:33:19,600 --> 00:33:25,570
there is now no one above as above DNS

656
00:33:22,330 --> 00:33:26,770
<font color="#E5E5E5">so if the key is compromised</font><font color="#CCCCCC"> you're</font>

657
00:33:25,570 --> 00:33:30,159
relying on something<font color="#E5E5E5"> that is</font>

658
00:33:26,770 --> 00:33:32,830
compromising you cannot take back<font color="#E5E5E5"> also</font>

659
00:33:30,160 --> 00:33:36,250
if you sign an email and then that email

660
00:33:32,830 --> 00:33:38,830
gets relayed<font color="#CCCCCC"> to Ana</font><font color="#E5E5E5"> from another cell</font>

661
00:33:36,250 --> 00:33:41,760
server<font color="#E5E5E5"> or you have a replication</font><font color="#CCCCCC"> all</font>

662
00:33:38,830 --> 00:33:44,320
your<font color="#E5E5E5"> servers have to share the same key</font>

663
00:33:41,760 --> 00:33:49,720
which is<font color="#CCCCCC"> mmm</font>

664
00:33:44,320 --> 00:33:52,750
how can<font color="#CCCCCC"> you put</font><font color="#E5E5E5"> it dangerous so yeah</font>

665
00:33:49,720 --> 00:33:56,560
that's how<font color="#CCCCCC"> dkim works but it has been</font>

666
00:33:52,750 --> 00:33:59,820
proven wrong<font color="#CCCCCC"> huge amount of times we</font>

667
00:33:56,560 --> 00:34:02,770
could use<font color="#CCCCCC"> PKI as we do for browsers</font>

668
00:33:59,820 --> 00:34:04,780
currently but we have to rebuild a

669
00:34:02,770 --> 00:34:07,920
public key public infrastructure for

670
00:34:04,780 --> 00:34:10,120
email<font color="#E5E5E5"> which would probably take a while</font>

671
00:34:07,920 --> 00:34:16,380
I'm<font color="#E5E5E5"> not saying that's a bad solution is</font>

672
00:34:10,120 --> 00:34:21,040
<font color="#CCCCCC">just not ready we are</font><font color="#E5E5E5"> not ready for</font><font color="#CCCCCC"> that</font>

673
00:34:16,380 --> 00:34:23,310
does anyone has a question<font color="#E5E5E5"> on anything</font>

674
00:34:21,040 --> 00:34:23,310
<font color="#E5E5E5">else</font>

675
00:34:28,730 --> 00:34:39,320
<font color="#E5E5E5">okay well thank you thank you for coming</font>

676
00:34:33,850 --> 00:34:39,319
[Applause]

