1
00:00:07,250 --> 00:00:10,619
[Music]

2
00:00:12,430 --> 00:00:19,789
please<font color="#E5E5E5"> thank you so much thank you thank</font>

3
00:00:15,020 --> 00:00:22,880
<font color="#CCCCCC">you thank</font><font color="#E5E5E5"> you that was a very good</font><font color="#CCCCCC"> job</font>

4
00:00:19,789 --> 00:00:25,220
<font color="#E5E5E5">on my last name thank you okay guys so</font>

5
00:00:22,880 --> 00:00:27,259
let's<font color="#CCCCCC"> move forward uh</font><font color="#E5E5E5"> welcome with my</font>

6
00:00:25,220 --> 00:00:30,710
presentation<font color="#CCCCCC"> leader prediction API and</font>

7
00:00:27,260 --> 00:00:33,559
<font color="#E5E5E5">the prediction</font><font color="#CCCCCC"> API ng it's a talk about</font>

8
00:00:30,710 --> 00:00:35,120
<font color="#E5E5E5">the crypto platform in Windows</font><font color="#CCCCCC"> there was</font>

9
00:00:33,559 --> 00:00:37,190
a couple<font color="#E5E5E5"> of things that you</font><font color="#CCCCCC"> guys should</font>

10
00:00:35,120 --> 00:00:39,440
<font color="#E5E5E5">know about and</font><font color="#CCCCCC"> that is</font><font color="#E5E5E5"> something that we</font>

11
00:00:37,190 --> 00:00:42,649
<font color="#E5E5E5">would like to that is something</font><font color="#CCCCCC"> that we</font>

12
00:00:39,440 --> 00:00:44,930
<font color="#E5E5E5">would like to well do the deep dive into</font>

13
00:00:42,649 --> 00:00:48,620
details<font color="#CCCCCC"> um a couple of</font><font color="#E5E5E5"> words</font><font color="#CCCCCC"> about</font>

14
00:00:44,930 --> 00:00:52,790
myself<font color="#CCCCCC"> as you see Pollard a</font><font color="#E5E5E5"> and what I</font>

15
00:00:48,620 --> 00:00:55,010
do I'm<font color="#CCCCCC"> the CEO of secure and</font><font color="#E5E5E5"> we've got a</font>

16
00:00:52,790 --> 00:00:57,440
pretty<font color="#E5E5E5"> nice team spread</font><font color="#CCCCCC"> it across four</font>

17
00:00:55,010 --> 00:00:59,660
locations<font color="#CCCCCC"> New York Dubai Switzerland and</font>

18
00:00:57,440 --> 00:01:02,140
Poland<font color="#CCCCCC"> I'm polish originally and that's</font>

19
00:00:59,660 --> 00:01:05,360
where I technically leave on Saturdays

20
00:01:02,140 --> 00:01:08,479
<font color="#E5E5E5">but a couple of couple of words to</font>

21
00:01:05,360 --> 00:01:10,789
mention as well<font color="#CCCCCC"> I do</font><font color="#E5E5E5"> perform the</font>

22
00:01:08,479 --> 00:01:13,030
<font color="#E5E5E5">penetration test at our customer sites</font>

23
00:01:10,790 --> 00:01:18,049
being<font color="#CCCCCC"> also</font><font color="#E5E5E5"> CEO which is kind of funny</font>

24
00:01:13,030 --> 00:01:20,659
<font color="#E5E5E5">it's it's tough but I try to manage the</font>

25
00:01:18,049 --> 00:01:23,390
team of a 36 people<font color="#E5E5E5"> we grown a little</font>

26
00:01:20,659 --> 00:01:25,640
<font color="#CCCCCC">bit from the</font><font color="#E5E5E5"> last two years in</font><font color="#CCCCCC"> cyber</font>

27
00:01:23,390 --> 00:01:27,560
<font color="#CCCCCC">security if it's about my background</font><font color="#E5E5E5"> as</font>

28
00:01:25,640 --> 00:01:30,320
well<font color="#CCCCCC"> I do have access to</font><font color="#E5E5E5"> the source</font><font color="#CCCCCC"> code</font>

29
00:01:27,560 --> 00:01:31,850
of<font color="#E5E5E5"> Windows though this part it's not</font>

30
00:01:30,320 --> 00:01:34,908
covered by the access to the source code

31
00:01:31,850 --> 00:01:38,929
<font color="#CCCCCC">yeah so I do have like</font><font color="#E5E5E5"> two 99.999</font>

32
00:01:34,909 --> 00:01:40,580
percent<font color="#CCCCCC"> and eventually that</font><font color="#E5E5E5"> remaining</font>

33
00:01:38,930 --> 00:01:44,509
part it's something<font color="#E5E5E5"> that is worth</font><font color="#CCCCCC"> to</font>

34
00:01:40,580 --> 00:01:46,908
have<font color="#E5E5E5"> a look at regarding the</font><font color="#CCCCCC"> security so</font>

35
00:01:44,509 --> 00:01:48,040
I also happen to speak at the different

36
00:01:46,909 --> 00:01:50,560
types of conferences

37
00:01:48,040 --> 00:01:53,180
<font color="#E5E5E5">also a black</font><font color="#CCCCCC"> hat for example or</font>

38
00:01:50,560 --> 00:01:56,329
Microsoft ignite<font color="#E5E5E5"> so all of those but</font>

39
00:01:53,180 --> 00:01:58,280
they<font color="#CCCCCC"> always show one simple thing it's a</font>

40
00:01:56,329 --> 00:01:59,899
<font color="#CCCCCC">very nice</font><font color="#E5E5E5"> opportunity to share and</font>

41
00:01:58,280 --> 00:02:01,820
hopefully you<font color="#E5E5E5"> will receive this</font>

42
00:01:59,900 --> 00:02:03,740
presentation the same way I'm happy<font color="#E5E5E5"> to</font>

43
00:02:01,820 --> 00:02:05,689
explain everything that<font color="#E5E5E5"> is</font><font color="#CCCCCC"> Alder</font><font color="#E5E5E5"> and</font>

44
00:02:03,740 --> 00:02:06,770
encrypted<font color="#E5E5E5"> in Windows if you will have</font>

45
00:02:05,689 --> 00:02:08,568
<font color="#E5E5E5">any questions let me know</font>

46
00:02:06,770 --> 00:02:11,540
now just to<font color="#E5E5E5"> give you</font><font color="#CCCCCC"> the background</font>

47
00:02:08,568 --> 00:02:15,708
about the subject because<font color="#E5E5E5"> why data</font>

48
00:02:11,540 --> 00:02:18,650
protection API<font color="#E5E5E5"> well basically in 2010 on</font>

49
00:02:15,709 --> 00:02:22,310
<font color="#CCCCCC">blackhat jean-michel and a Lieberstein</font>

50
00:02:18,650 --> 00:02:24,140
they do present<font color="#CCCCCC"> at apip I pick tool to</font>

51
00:02:22,310 --> 00:02:27,319
do a little bit around<font color="#CCCCCC"> API data</font>

52
00:02:24,140 --> 00:02:29,149
prediction API and since 2010 nothing

53
00:02:27,319 --> 00:02:30,290
really happened<font color="#CCCCCC"> yes so or I</font><font color="#E5E5E5"> don't want</font>

54
00:02:29,150 --> 00:02:31,879
to say nothing<font color="#CCCCCC"> big</font><font color="#E5E5E5"> because maybe that</font>

55
00:02:30,290 --> 00:02:34,280
<font color="#CCCCCC">something happened</font><font color="#E5E5E5"> nothing really that</font>

56
00:02:31,879 --> 00:02:37,159
much significant that could show us how

57
00:02:34,280 --> 00:02:40,220
cryptography in<font color="#E5E5E5"> Windows works and what's</font>

58
00:02:37,159 --> 00:02:43,780
the flow behind<font color="#E5E5E5"> it yeah now whenever</font><font color="#CCCCCC"> we</font>

59
00:02:40,220 --> 00:02:46,879
<font color="#CCCCCC">are thinking about</font><font color="#E5E5E5"> the whole story of</font>

60
00:02:43,780 --> 00:02:48,980
how<font color="#E5E5E5"> data protection API</font><font color="#CCCCCC"> involved and so</font>

61
00:02:46,879 --> 00:02:52,129
on<font color="#E5E5E5"> that's the platform</font><font color="#CCCCCC"> that has been</font>

62
00:02:48,980 --> 00:02:55,040
there<font color="#CCCCCC"> for quite</font><font color="#E5E5E5"> a while but the new</font>

63
00:02:52,129 --> 00:02:59,690
crypto<font color="#CCCCCC"> ing has been introduced within</font>

64
00:02:55,040 --> 00:03:01,730
<font color="#E5E5E5">the Windows Server 2012 r2 and 8.1 but</font>

65
00:02:59,690 --> 00:03:03,709
that's something<font color="#E5E5E5"> that I would also like</font>

66
00:03:01,730 --> 00:03:06,260
<font color="#E5E5E5">to talk about in a separate part of</font><font color="#CCCCCC"> the</font>

67
00:03:03,709 --> 00:03:08,090
presentation<font color="#CCCCCC"> yeah so this</font><font color="#E5E5E5"> is what gives</font>

68
00:03:06,260 --> 00:03:10,730
<font color="#E5E5E5">you the</font><font color="#CCCCCC"> background</font><font color="#E5E5E5"> why the subject is</font>

69
00:03:08,090 --> 00:03:12,920
out there why it's important because<font color="#E5E5E5"> you</font>

70
00:03:10,730 --> 00:03:15,619
need<font color="#E5E5E5"> to know how your secrets are or are</font>

71
00:03:12,920 --> 00:03:18,349
not protected that's for sure and the

72
00:03:15,620 --> 00:03:21,439
second thing is that<font color="#E5E5E5"> within the data</font>

73
00:03:18,349 --> 00:03:23,060
protection<font color="#E5E5E5"> API our team spent over two</font>

74
00:03:21,439 --> 00:03:25,730
years<font color="#E5E5E5"> reverse engineering the whole</font>

75
00:03:23,060 --> 00:03:27,799
platform<font color="#E5E5E5"> and we managed and eventually</font>

76
00:03:25,730 --> 00:03:30,018
all<font color="#CCCCCC"> of the tools and</font><font color="#E5E5E5"> everything that we</font>

77
00:03:27,799 --> 00:03:33,109
<font color="#CCCCCC">can't be sure so hopefully you will find</font>

78
00:03:30,019 --> 00:03:36,500
<font color="#CCCCCC">it useful as well so before we start</font><font color="#E5E5E5"> a</font>

79
00:03:33,109 --> 00:03:38,900
little<font color="#E5E5E5"> story if you don't mind related</font>

80
00:03:36,500 --> 00:03:40,940
with the data<font color="#E5E5E5"> protection API research</font><font color="#CCCCCC"> I</font>

81
00:03:38,900 --> 00:03:42,949
like to<font color="#CCCCCC"> travel to different types of</font>

82
00:03:40,940 --> 00:03:46,159
<font color="#E5E5E5">locations in the world</font><font color="#CCCCCC"> when there</font><font color="#E5E5E5"> is no</font>

83
00:03:42,949 --> 00:03:49,579
mobile range<font color="#E5E5E5"> that's that's quite rare to</font>

84
00:03:46,159 --> 00:03:51,590
spot but things like Siberia<font color="#E5E5E5"> things like</font>

85
00:03:49,579 --> 00:03:54,310
Alaska somewhere out there<font color="#E5E5E5"> and so on</font>

86
00:03:51,590 --> 00:03:57,650
these<font color="#CCCCCC"> are</font><font color="#E5E5E5"> the places</font><font color="#CCCCCC"> that</font><font color="#E5E5E5"> are basically</font>

87
00:03:54,310 --> 00:03:59,959
worth having a<font color="#CCCCCC"> look at and when I was in</font>

88
00:03:57,650 --> 00:04:01,609
<font color="#E5E5E5">Siberia</font><font color="#CCCCCC"> I was ordering a breakfast</font>

89
00:03:59,959 --> 00:04:03,799
pretty much every<font color="#CCCCCC"> day in some different</font>

90
00:04:01,609 --> 00:04:06,680
<font color="#E5E5E5">places and so</font><font color="#CCCCCC"> on and every single time I</font>

91
00:04:03,799 --> 00:04:08,569
was asking for<font color="#E5E5E5"> like scrambled eggs</font><font color="#CCCCCC"> I was</font>

92
00:04:06,680 --> 00:04:10,310
getting an<font color="#E5E5E5"> omelet or when I was asking</font>

93
00:04:08,569 --> 00:04:11,780
<font color="#CCCCCC">for a sausage then they were like</font><font color="#E5E5E5"> giving</font>

94
00:04:10,310 --> 00:04:15,049
me scrambled eggs<font color="#E5E5E5"> so I was literally</font>

95
00:04:11,780 --> 00:04:19,548
<font color="#E5E5E5">never ever having anything that I wanted</font>

96
00:04:15,049 --> 00:04:21,829
as a meal like<font color="#E5E5E5"> why but okay like why</font>

97
00:04:19,548 --> 00:04:24,799
doesn't<font color="#E5E5E5"> exist over here so I was like</font>

98
00:04:21,829 --> 00:04:27,680
<font color="#CCCCCC">okay</font><font color="#E5E5E5"> I open up the menu another time I'm</font>

99
00:04:24,800 --> 00:04:29,889
like<font color="#CCCCCC"> you already</font><font color="#E5E5E5"> disappointed and I</font>

100
00:04:27,680 --> 00:04:32,180
check out and there is a cheese sandwich

101
00:04:29,889 --> 00:04:34,009
<font color="#CCCCCC">I'm like perfect</font>

102
00:04:32,180 --> 00:04:40,610
<font color="#E5E5E5">how wrong can you go over cheese</font>

103
00:04:34,009 --> 00:04:44,539
sandwich so I got this<font color="#E5E5E5"> yeah and I'm like</font>

104
00:04:40,610 --> 00:04:46,370
<font color="#E5E5E5">oh my god</font><font color="#CCCCCC"> that</font><font color="#E5E5E5"> is pretty nice sandwich</font>

105
00:04:44,539 --> 00:04:48,860
<font color="#E5E5E5">can I please have a ketchup and do you</font>

106
00:04:46,370 --> 00:04:50,780
have a microwave<font color="#E5E5E5"> yeah</font><font color="#CCCCCC"> then it's a great</font>

107
00:04:48,860 --> 00:04:53,060
sandwich<font color="#CCCCCC"> so what I'm</font><font color="#E5E5E5"> saying is</font><font color="#CCCCCC"> that</font>

108
00:04:50,780 --> 00:04:56,030
having<font color="#E5E5E5"> this in mind</font><font color="#CCCCCC"> it's kind of</font>

109
00:04:53,060 --> 00:04:58,030
interesting<font color="#E5E5E5"> to get into one simple</font>

110
00:04:56,030 --> 00:05:00,830
conclusion that in cryptography

111
00:04:58,030 --> 00:05:03,109
<font color="#CCCCCC">definitely we need to search for quite a</font>

112
00:05:00,830 --> 00:05:05,300
long<font color="#E5E5E5"> time around what's going</font><font color="#CCCCCC"> on but</font>

113
00:05:03,110 --> 00:05:06,979
there is always a hope<font color="#E5E5E5"> always always</font>

114
00:05:05,300 --> 00:05:08,930
hope that<font color="#CCCCCC"> you're gonna get what you want</font>

115
00:05:06,979 --> 00:05:10,699
<font color="#E5E5E5">and I was pretty much</font><font color="#CCCCCC"> holding this hope</font>

116
00:05:08,930 --> 00:05:13,070
on my vacation<font color="#E5E5E5"> but that never came</font>

117
00:05:10,699 --> 00:05:14,660
<font color="#CCCCCC">actually but</font><font color="#E5E5E5"> in cryptography finally</font>

118
00:05:13,070 --> 00:05:16,849
you're gonna<font color="#E5E5E5"> get somewhere</font><font color="#CCCCCC"> and that's my</font>

119
00:05:14,660 --> 00:05:18,349
point<font color="#CCCCCC"> you need to</font><font color="#E5E5E5"> spend a lot of time on</font>

120
00:05:16,849 --> 00:05:20,719
the research but eventually<font color="#E5E5E5"> you're gonna</font>

121
00:05:18,349 --> 00:05:22,550
get somewhere so whenever we are

122
00:05:20,720 --> 00:05:26,240
<font color="#E5E5E5">thinking about the algorithms that</font><font color="#CCCCCC"> are</font>

123
00:05:22,550 --> 00:05:27,620
out<font color="#CCCCCC"> there for the</font><font color="#E5E5E5"> cryptography well</font>

124
00:05:26,240 --> 00:05:29,930
there are a couple<font color="#CCCCCC"> of ones that</font><font color="#E5E5E5"> we need</font>

125
00:05:27,620 --> 00:05:31,910
to know and<font color="#CCCCCC"> that's their</font><font color="#E5E5E5"> prediction API</font>

126
00:05:29,930 --> 00:05:37,729
is leveraging and these are<font color="#E5E5E5"> things like</font>

127
00:05:31,910 --> 00:05:39,409
<font color="#E5E5E5">a</font><font color="#CCCCCC"> s 256 cbc is</font><font color="#E5E5E5"> 256 CCM etc that's for a</font>

128
00:05:37,729 --> 00:05:41,990
particularly BitLocker but for data

129
00:05:39,409 --> 00:05:44,539
prediction<font color="#E5E5E5"> API blobs we are using GCM</font>

130
00:05:41,990 --> 00:05:46,159
<font color="#E5E5E5">yes and that is</font><font color="#CCCCCC"> something that we're</font>

131
00:05:44,539 --> 00:05:47,719
<font color="#E5E5E5">gonna be focusing on there's also</font>

132
00:05:46,159 --> 00:05:49,219
<font color="#CCCCCC">aracite being used for</font><font color="#E5E5E5"> the keys</font>

133
00:05:47,720 --> 00:05:51,229
protection<font color="#CCCCCC"> but within the data</font>

134
00:05:49,220 --> 00:05:53,449
protection<font color="#CCCCCC"> api and gee it's a little bit</font>

135
00:05:51,229 --> 00:05:54,830
different<font color="#CCCCCC"> story</font><font color="#E5E5E5"> because</font><font color="#CCCCCC"> you are using a</font>

136
00:05:53,449 --> 00:05:56,419
little<font color="#E5E5E5"> bit different algorithms but this</font>

137
00:05:54,830 --> 00:05:59,780
is<font color="#E5E5E5"> something that</font><font color="#CCCCCC"> I will</font><font color="#E5E5E5"> mention in the</font>

138
00:05:56,419 --> 00:06:01,880
moment of how does it work<font color="#E5E5E5"> so let me</font>

139
00:05:59,780 --> 00:06:04,119
cover at the<font color="#E5E5E5"> very beginning what that</font>

140
00:06:01,880 --> 00:06:06,229
what<font color="#E5E5E5"> the data</font><font color="#CCCCCC"> protection API is in</font>

141
00:06:04,120 --> 00:06:09,770
<font color="#CCCCCC">details</font><font color="#E5E5E5"> and then we're gonna get of</font>

142
00:06:06,229 --> 00:06:12,229
<font color="#CCCCCC">course into techie part</font><font color="#E5E5E5"> so</font><font color="#CCCCCC"> um classic</font>

143
00:06:09,770 --> 00:06:15,049
data protection<font color="#E5E5E5"> API as we</font><font color="#CCCCCC"> describe it is</font>

144
00:06:12,229 --> 00:06:17,539
the one that is used as a crypto

145
00:06:15,050 --> 00:06:20,000
platform of in Windows and very oftenly

146
00:06:17,539 --> 00:06:22,580
in order to encrypt data<font color="#CCCCCC"> it leverages</font>

147
00:06:20,000 --> 00:06:25,250
three things<font color="#CCCCCC"> password the data</font><font color="#E5E5E5"> blob and</font>

148
00:06:22,580 --> 00:06:27,320
the<font color="#E5E5E5"> entropy so why we're talking about</font>

149
00:06:25,250 --> 00:06:28,130
<font color="#E5E5E5">that because every single time within</font>

150
00:06:27,320 --> 00:06:30,169
the application

151
00:06:28,130 --> 00:06:32,810
what if<font color="#E5E5E5"> it's Internet Explorer edge or</font>

152
00:06:30,169 --> 00:06:34,460
whatever Firefox Chrome you are about to

153
00:06:32,810 --> 00:06:36,470
<font color="#E5E5E5">encrypt something and save somewhere</font>

154
00:06:34,460 --> 00:06:38,900
that needs to<font color="#E5E5E5"> happen in a certain</font><font color="#CCCCCC"> way</font>

155
00:06:36,470 --> 00:06:41,330
<font color="#E5E5E5">and you got pretty much two choices</font>

156
00:06:38,900 --> 00:06:43,609
<font color="#CCCCCC">what are you coded</font><font color="#E5E5E5"> by yourself and save</font>

157
00:06:41,330 --> 00:06:46,039
<font color="#E5E5E5">it in</font><font color="#CCCCCC"> your own way</font><font color="#E5E5E5"> and is this a good</font>

158
00:06:43,610 --> 00:06:48,080
way maybe<font color="#E5E5E5"> it's the best way who knows</font>

159
00:06:46,039 --> 00:06:50,869
or you choose the<font color="#E5E5E5"> windows way and</font>

160
00:06:48,080 --> 00:06:52,998
windows<font color="#CCCCCC"> ways isn't that bad but that's</font>

161
00:06:50,869 --> 00:06:54,589
<font color="#E5E5E5">why we are here to listen to all of</font><font color="#CCCCCC"> the</font>

162
00:06:52,999 --> 00:06:57,559
different<font color="#E5E5E5"> types of pros and cons of</font>

163
00:06:54,589 --> 00:07:00,499
what's<font color="#E5E5E5"> going on um so let</font><font color="#CCCCCC"> me have a look</font>

164
00:06:57,559 --> 00:07:03,649
into into more details<font color="#E5E5E5"> so they got</font>

165
00:07:00,499 --> 00:07:06,469
prediction API<font color="#E5E5E5"> itself as the way as we</font>

166
00:07:03,649 --> 00:07:08,300
have it in Windows<font color="#E5E5E5"> in a basic form it's</font>

167
00:07:06,469 --> 00:07:10,099
quite interesting<font color="#E5E5E5"> because every single</font>

168
00:07:08,300 --> 00:07:12,979
<font color="#CCCCCC">time you store some kind of a secret</font>

169
00:07:10,099 --> 00:07:14,930
<font color="#CCCCCC">let's call it this way like password</font><font color="#E5E5E5"> to</font>

170
00:07:12,979 --> 00:07:17,779
Facebook<font color="#E5E5E5"> in a browser then that</font>

171
00:07:14,930 --> 00:07:19,969
particular<font color="#E5E5E5"> secret it's stored as the</font>

172
00:07:17,779 --> 00:07:23,360
browser could save it but it's encrypted

173
00:07:19,969 --> 00:07:26,449
<font color="#CCCCCC">in a way how</font><font color="#E5E5E5"> Windows would do it relying</font>

174
00:07:23,360 --> 00:07:28,849
on your password<font color="#CCCCCC"> or technically</font><font color="#E5E5E5"> relying</font>

175
00:07:26,449 --> 00:07:30,289
on your passwords hash now I'm<font color="#E5E5E5"> saying</font>

176
00:07:28,849 --> 00:07:31,159
this in a very straightforward way<font color="#CCCCCC"> of</font>

177
00:07:30,289 --> 00:07:33,318
course there<font color="#E5E5E5"> are many more details</font>

178
00:07:31,159 --> 00:07:34,879
<font color="#E5E5E5">behind at which we are digging into but</font>

179
00:07:33,319 --> 00:07:37,069
that's just<font color="#E5E5E5"> for the simple introduction</font>

180
00:07:34,879 --> 00:07:40,520
<font color="#CCCCCC">so the stronger</font><font color="#E5E5E5"> your password is in</font>

181
00:07:37,069 --> 00:07:43,430
<font color="#E5E5E5">general the more protected your secret</font>

182
00:07:40,520 --> 00:07:45,020
is gonna be we could<font color="#E5E5E5"> be</font><font color="#CCCCCC"> thinking ok what</font>

183
00:07:43,430 --> 00:07:47,029
about<font color="#E5E5E5"> the offline access yeah well</font>

184
00:07:45,020 --> 00:07:49,039
<font color="#E5E5E5">that's the beautiful part</font><font color="#CCCCCC"> of that if you</font>

185
00:07:47,029 --> 00:07:51,558
don't use for<font color="#CCCCCC"> example hibernation and</font>

186
00:07:49,039 --> 00:07:53,930
you have or you have an<font color="#E5E5E5"> encrypted</font><font color="#CCCCCC"> drive</font>

187
00:07:51,559 --> 00:07:55,999
then basically<font color="#E5E5E5"> you are not able to get</font>

188
00:07:53,930 --> 00:07:58,520
<font color="#CCCCCC">access to</font><font color="#E5E5E5"> or extract the credentials and</font>

189
00:07:55,999 --> 00:08:01,669
get<font color="#CCCCCC"> access to a particular particular</font>

190
00:07:58,520 --> 00:08:04,099
<font color="#E5E5E5">secrets now just a</font><font color="#CCCCCC"> little bit of an</font>

191
00:08:01,669 --> 00:08:06,438
explanation if you don't mind<font color="#E5E5E5"> and I'm</font>

192
00:08:04,099 --> 00:08:07,969
really bad at painting so forgive me

193
00:08:06,439 --> 00:08:10,279
this but<font color="#E5E5E5"> it would be fantastic to</font>

194
00:08:07,969 --> 00:08:12,439
explain<font color="#E5E5E5"> it in a very very details of</font>

195
00:08:10,279 --> 00:08:14,569
what's going<font color="#E5E5E5"> on</font><font color="#CCCCCC"> now we said</font><font color="#E5E5E5"> that the</font>

196
00:08:12,439 --> 00:08:16,849
password or secret relies on our

197
00:08:14,569 --> 00:08:20,149
<font color="#E5E5E5">passwords hash now that's definitely</font>

198
00:08:16,849 --> 00:08:22,128
<font color="#E5E5E5">true</font><font color="#CCCCCC"> but that</font><font color="#E5E5E5"> differs</font><font color="#CCCCCC"> from</font><font color="#E5E5E5"> the local</font>

199
00:08:20,149 --> 00:08:23,809
user perspective<font color="#CCCCCC"> and the domain user</font>

200
00:08:22,129 --> 00:08:25,519
perspective<font color="#E5E5E5"> and that is something that</font>

201
00:08:23,809 --> 00:08:28,580
<font color="#E5E5E5">we need</font><font color="#CCCCCC"> to look at so we've got to here</font>

202
00:08:25,519 --> 00:08:30,469
<font color="#E5E5E5">a local user and here we've got a domain</font>

203
00:08:28,580 --> 00:08:32,510
user<font color="#E5E5E5"> yeah so these are these</font><font color="#CCCCCC"> two things</font>

204
00:08:30,469 --> 00:08:35,838
<font color="#E5E5E5">now whenever we</font><font color="#CCCCCC"> are thinking about</font>

205
00:08:32,510 --> 00:08:38,990
secret and secret<font color="#E5E5E5"> yeah that is something</font>

206
00:08:35,839 --> 00:08:41,180
<font color="#E5E5E5">that</font><font color="#CCCCCC"> is</font><font color="#E5E5E5"> protected in a different</font><font color="#CCCCCC"> ways so</font>

207
00:08:38,990 --> 00:08:43,940
for the local user what happens we<font color="#CCCCCC"> have</font>

208
00:08:41,179 --> 00:08:46,550
of<font color="#CCCCCC"> course in a some database and divorce</font>

209
00:08:43,940 --> 00:08:48,639
so hashes<font color="#E5E5E5"> of the</font><font color="#CCCCCC"> user's password but</font>

210
00:08:46,550 --> 00:08:50,870
what is happening<font color="#CCCCCC"> is that</font><font color="#E5E5E5"> we have a file</font>

211
00:08:48,639 --> 00:08:53,990
particular file<font color="#E5E5E5"> and that file</font><font color="#CCCCCC"> is called</font>

212
00:08:50,870 --> 00:08:56,389
<font color="#E5E5E5">master key container and master key</font>

213
00:08:53,990 --> 00:08:59,600
container has key and<font color="#CCCCCC"> that particular</font>

214
00:08:56,389 --> 00:09:02,330
key is used to encrypt<font color="#E5E5E5"> that secret</font>

215
00:08:59,600 --> 00:09:05,030
so question is how<font color="#CCCCCC"> is the key</font><font color="#E5E5E5"> in the</font>

216
00:09:02,330 --> 00:09:06,830
master key container protected<font color="#E5E5E5"> and for</font>

217
00:09:05,030 --> 00:09:10,339
the<font color="#E5E5E5"> local user that's nothing about the</font>

218
00:09:06,830 --> 00:09:12,020
schwa<font color="#CCCCCC"> one yeah</font><font color="#E5E5E5"> why like that quite</font>

219
00:09:10,340 --> 00:09:13,700
logical because<font color="#E5E5E5"> if it's not prone to</font>

220
00:09:12,020 --> 00:09:15,410
offline access<font color="#E5E5E5"> if I</font><font color="#CCCCCC"> managed to get</font>

221
00:09:13,700 --> 00:09:17,240
access<font color="#E5E5E5"> to the some</font><font color="#CCCCCC"> database</font><font color="#E5E5E5"> and I just</font>

222
00:09:15,410 --> 00:09:19,370
have<font color="#E5E5E5"> MD for which I have</font><font color="#CCCCCC"> to crack and</font>

223
00:09:17,240 --> 00:09:21,200
then I calculate<font color="#E5E5E5"> sha-1 and then I'm able</font>

224
00:09:19,370 --> 00:09:22,910
to get<font color="#CCCCCC"> access to the</font><font color="#E5E5E5"> secret so that's</font>

225
00:09:21,200 --> 00:09:25,250
how it's happening<font color="#E5E5E5"> so what we can get</font>

226
00:09:22,910 --> 00:09:27,650
into conclusion about that<font color="#E5E5E5"> well we could</font>

227
00:09:25,250 --> 00:09:29,690
say here that<font color="#E5E5E5"> our local secrets for the</font>

228
00:09:27,650 --> 00:09:32,150
local users are as secure as our

229
00:09:29,690 --> 00:09:33,380
password is<font color="#E5E5E5"> as simple as this yeah let's</font>

230
00:09:32,150 --> 00:09:36,050
<font color="#CCCCCC">leave this</font><font color="#E5E5E5"> this is actually quite easy</font>

231
00:09:33,380 --> 00:09:37,970
<font color="#CCCCCC">so another part</font><font color="#E5E5E5"> it's the domain user and</font>

232
00:09:36,050 --> 00:09:41,270
that's<font color="#E5E5E5"> cool so we have over here a</font>

233
00:09:37,970 --> 00:09:43,310
master key container as<font color="#CCCCCC"> well</font><font color="#E5E5E5"> and within</font>

234
00:09:41,270 --> 00:09:47,120
<font color="#E5E5E5">the domain user we have two ways of</font>

235
00:09:43,310 --> 00:09:49,550
storing the<font color="#E5E5E5"> confirmation of the identity</font>

236
00:09:47,120 --> 00:09:52,220
so to say one thing<font color="#CCCCCC"> is going</font><font color="#E5E5E5"> to be</font><font color="#CCCCCC"> MD</font>

237
00:09:49,550 --> 00:09:53,959
<font color="#E5E5E5">for which we in anti deal</font><font color="#CCCCCC"> stores</font><font color="#E5E5E5"> it on</font>

238
00:09:52,220 --> 00:09:55,490
the domain controller<font color="#E5E5E5"> but another one</font>

239
00:09:53,960 --> 00:10:00,050
it's<font color="#CCCCCC"> going to</font><font color="#E5E5E5"> be something</font><font color="#CCCCCC"> that</font><font color="#E5E5E5"> is</font>

240
00:09:55,490 --> 00:10:02,840
called<font color="#CCCCCC"> MS</font><font color="#E5E5E5"> DCC</font><font color="#CCCCCC"> too and that</font><font color="#E5E5E5"> is a value</font>

241
00:10:00,050 --> 00:10:04,579
<font color="#E5E5E5">that we extract from the registry of the</font>

242
00:10:02,840 --> 00:10:07,130
local<font color="#CCCCCC"> machine and that is something that</font>

243
00:10:04,580 --> 00:10:08,540
we popularly call<font color="#CCCCCC"> cash credentials but</font>

244
00:10:07,130 --> 00:10:10,010
these are not credentials<font color="#E5E5E5"> they have they</font>

245
00:10:08,540 --> 00:10:11,540
haven't<font color="#CCCCCC"> been even standing and extra</font>

246
00:10:10,010 --> 00:10:14,569
credentials this is just a pre

247
00:10:11,540 --> 00:10:16,579
calculated value that we when we provide

248
00:10:14,570 --> 00:10:18,560
<font color="#E5E5E5">a username and password there is a</font>

249
00:10:16,580 --> 00:10:21,110
function calculated<font color="#E5E5E5"> on the</font><font color="#CCCCCC"> top of that</font>

250
00:10:18,560 --> 00:10:23,449
and we compare with this<font color="#E5E5E5"> value</font><font color="#CCCCCC"> that is</font>

251
00:10:21,110 --> 00:10:26,120
<font color="#CCCCCC">only</font><font color="#E5E5E5"> registry yeah so quite easy and</font>

252
00:10:23,450 --> 00:10:29,360
based on that we are able<font color="#E5E5E5"> to log on yeah</font>

253
00:10:26,120 --> 00:10:31,460
<font color="#E5E5E5">so um yeah so that depends on this or on</font>

254
00:10:29,360 --> 00:10:34,280
that<font color="#E5E5E5"> so what is the beautiful part of</font>

255
00:10:31,460 --> 00:10:36,980
here that our<font color="#E5E5E5"> logon depends on the</font>

256
00:10:34,280 --> 00:10:39,050
<font color="#E5E5E5">probability on the password if it's</font>

257
00:10:36,980 --> 00:10:40,760
correct<font color="#E5E5E5"> or not</font><font color="#CCCCCC"> and on the top</font><font color="#E5E5E5"> of that</font>

258
00:10:39,050 --> 00:10:42,979
we've<font color="#CCCCCC"> got certain</font><font color="#E5E5E5"> type of</font><font color="#CCCCCC"> value it's not</font>

259
00:10:40,760 --> 00:10:45,350
<font color="#E5E5E5">this value by the way that the</font><font color="#CCCCCC"> crips or</font>

260
00:10:42,980 --> 00:10:47,480
encrypt<font color="#E5E5E5"> that key is the value that</font><font color="#CCCCCC"> is</font>

261
00:10:45,350 --> 00:10:49,430
just used for confirmation with encrypts

262
00:10:47,480 --> 00:10:51,920
<font color="#E5E5E5">our</font><font color="#CCCCCC"> decrypts effectively at the very end</font>

263
00:10:49,430 --> 00:10:55,069
it's nothing but over here<font color="#E5E5E5"> and as a</font>

264
00:10:51,920 --> 00:10:57,110
difference<font color="#E5E5E5"> MD for like for the local we</font>

265
00:10:55,070 --> 00:10:59,180
had to swap on for this<font color="#E5E5E5"> guy we have MD</font>

266
00:10:57,110 --> 00:11:02,480
for<font color="#E5E5E5"> why like that because we have an</font>

267
00:10:59,180 --> 00:11:05,660
assurance that MD for never appears in

268
00:11:02,480 --> 00:11:07,400
<font color="#CCCCCC">the computer when</font><font color="#E5E5E5"> the user logs on of</font>

269
00:11:05,660 --> 00:11:08,959
course<font color="#CCCCCC"> we're not</font><font color="#E5E5E5"> talking me</font><font color="#CCCCCC"> mcus</font>

270
00:11:07,400 --> 00:11:10,880
extracting from<font color="#CCCCCC"> credit from</font><font color="#E5E5E5"> the memory</font>

271
00:11:08,960 --> 00:11:12,440
and<font color="#CCCCCC"> they all the</font><font color="#E5E5E5"> credentials like that</font>

272
00:11:10,880 --> 00:11:13,250
<font color="#E5E5E5">and we're not talking over here about</font>

273
00:11:12,440 --> 00:11:15,290
<font color="#E5E5E5">the</font>

274
00:11:13,250 --> 00:11:17,750
<font color="#E5E5E5">while we're talking</font><font color="#CCCCCC"> about saving it</font>

275
00:11:15,290 --> 00:11:19,819
somewhere in<font color="#E5E5E5"> the form of a text</font><font color="#CCCCCC"> that we</font>

276
00:11:17,750 --> 00:11:23,060
are able<font color="#CCCCCC"> to</font><font color="#E5E5E5"> get access to and</font><font color="#CCCCCC"> that is</font>

277
00:11:19,820 --> 00:11:26,240
beautiful<font color="#CCCCCC"> because that md4 not</font><font color="#E5E5E5"> being</font>

278
00:11:23,060 --> 00:11:29,569
anywhere on the<font color="#CCCCCC"> user's or servers</font><font color="#E5E5E5"> area</font>

279
00:11:26,240 --> 00:11:32,270
is used to<font color="#E5E5E5"> technically and well in this</font>

280
00:11:29,570 --> 00:11:34,580
case encrypt the key<font color="#E5E5E5"> master key</font><font color="#CCCCCC"> to</font>

281
00:11:32,270 --> 00:11:36,770
encrypt the secret<font color="#E5E5E5"> yeah so this</font><font color="#CCCCCC"> is the</font>

282
00:11:34,580 --> 00:11:39,320
<font color="#E5E5E5">flow so in every users profile</font>

283
00:11:36,770 --> 00:11:41,870
we've got<font color="#E5E5E5"> master key containers and</font>

284
00:11:39,320 --> 00:11:44,840
these containers<font color="#E5E5E5"> contain keys that</font>

285
00:11:41,870 --> 00:11:46,610
encrypt our secrets<font color="#E5E5E5"> yet to recap now</font>

286
00:11:44,840 --> 00:11:49,150
<font color="#CCCCCC">situation is getting a little</font><font color="#E5E5E5"> bit more</font>

287
00:11:46,610 --> 00:11:51,980
<font color="#E5E5E5">complex</font><font color="#CCCCCC"> if we look at the details</font><font color="#E5E5E5"> of</font>

288
00:11:49,150 --> 00:11:56,500
this master key container so what is

289
00:11:51,980 --> 00:12:02,330
inside so we could be<font color="#E5E5E5"> thinking hmm so if</font>

290
00:11:56,500 --> 00:12:07,940
just<font color="#E5E5E5"> a fault if I'm using the live ID to</font>

291
00:12:02,330 --> 00:12:09,740
<font color="#E5E5E5">sign into Windows where is my</font><font color="#CCCCCC"> harsh okay</font>

292
00:12:07,940 --> 00:12:12,080
<font color="#E5E5E5">just</font><font color="#CCCCCC"> a fault</font><font color="#E5E5E5"> I'm not answering his</font>

293
00:12:09,740 --> 00:12:16,400
question now yeah<font color="#E5E5E5"> but where is my heart</font>

294
00:12:12,080 --> 00:12:19,160
so if we rely on a<font color="#CCCCCC"> password harsh then</font>

295
00:12:16,400 --> 00:12:20,630
in such<font color="#CCCCCC"> a</font><font color="#E5E5E5"> in such a case we know that</font>

296
00:12:19,160 --> 00:12:22,069
<font color="#CCCCCC">passwords hash will be the one to</font>

297
00:12:20,630 --> 00:12:25,010
decrypt<font color="#E5E5E5"> these keys to</font><font color="#CCCCCC"> get access to</font>

298
00:12:22,070 --> 00:12:28,400
secrets<font color="#E5E5E5"> so if we do store that in the</font>

299
00:12:25,010 --> 00:12:30,770
cloud<font color="#E5E5E5"> question will be</font><font color="#CCCCCC"> it who is able</font><font color="#E5E5E5"> to</font>

300
00:12:28,400 --> 00:12:32,329
<font color="#E5E5E5">get</font><font color="#CCCCCC"> access to</font><font color="#E5E5E5"> the secret and again I'm</font>

301
00:12:30,770 --> 00:12:35,770
not answering<font color="#CCCCCC"> that because it's a very</font>

302
00:12:32,330 --> 00:12:39,320
dangerous question<font color="#CCCCCC"> but then following</font><font color="#E5E5E5"> up</font>

303
00:12:35,770 --> 00:12:41,060
<font color="#E5E5E5">who else then is there any other party</font>

304
00:12:39,320 --> 00:12:43,580
<font color="#E5E5E5">that is able to get access to our</font>

305
00:12:41,060 --> 00:12:47,270
secrets<font color="#E5E5E5"> this way</font><font color="#CCCCCC"> an</font><font color="#E5E5E5"> answer is yes it is</font>

306
00:12:43,580 --> 00:12:50,390
and this<font color="#CCCCCC"> is the party number</font><font color="#E5E5E5"> three that</font>

307
00:12:47,270 --> 00:12:52,760
is a very interesting<font color="#E5E5E5"> key key that is</font>

308
00:12:50,390 --> 00:12:55,550
<font color="#CCCCCC">used to</font><font color="#E5E5E5"> encrypt but it's only in</font><font color="#CCCCCC"> the</font>

309
00:12:52,760 --> 00:12:57,650
domain the master keys of the users that

310
00:12:55,550 --> 00:13:00,109
<font color="#CCCCCC">are encrypted with a password hash</font><font color="#E5E5E5"> there</font>

311
00:12:57,650 --> 00:13:03,260
is<font color="#E5E5E5"> always a second copy of it stored in</font>

312
00:13:00,110 --> 00:13:07,970
<font color="#E5E5E5">Windows that is actually encrypted with</font>

313
00:13:03,260 --> 00:13:10,189
the public key of<font color="#CCCCCC"> the domain</font><font color="#E5E5E5"> and you</font>

314
00:13:07,970 --> 00:13:11,960
might not heard<font color="#E5E5E5"> of that because it's a</font>

315
00:13:10,190 --> 00:13:14,060
<font color="#E5E5E5">kind of a like we were working on it</font>

316
00:13:11,960 --> 00:13:15,050
maybe you<font color="#E5E5E5"> already seen like we were when</font>

317
00:13:14,060 --> 00:13:16,489
we<font color="#CCCCCC"> were</font><font color="#E5E5E5"> covered like having</font>

318
00:13:15,050 --> 00:13:19,040
<font color="#CCCCCC">conversations about</font><font color="#E5E5E5"> that interesting</font>

319
00:13:16,490 --> 00:13:21,800
type of<font color="#E5E5E5"> data but</font><font color="#CCCCCC"> that is</font><font color="#E5E5E5"> something that</font>

320
00:13:19,040 --> 00:13:23,660
<font color="#E5E5E5">you can find out in every users profile</font>

321
00:13:21,800 --> 00:13:26,839
<font color="#E5E5E5">within the domain and that's little not</font>

322
00:13:23,660 --> 00:13:27,160
cool<font color="#E5E5E5"> so let me share</font><font color="#CCCCCC"> with you a little</font>

323
00:13:26,839 --> 00:13:30,639
<font color="#E5E5E5">bit</font>

324
00:13:27,160 --> 00:13:32,170
of<font color="#E5E5E5"> a presentation of how and where these</font>

325
00:13:30,639 --> 00:13:34,990
keys<font color="#CCCCCC"> are stored and we're going to</font><font color="#E5E5E5"> be</font>

326
00:13:32,170 --> 00:13:37,779
discussing<font color="#E5E5E5"> that in details</font><font color="#CCCCCC"> so here we go</font>

327
00:13:34,990 --> 00:13:41,410
<font color="#E5E5E5">so this is basically a workstation with</font>

328
00:13:37,779 --> 00:13:43,720
<font color="#E5E5E5">from</font><font color="#CCCCCC"> Freddy and over here we've got</font>

329
00:13:41,410 --> 00:13:47,469
<font color="#CCCCCC">something that is called</font><font color="#E5E5E5"> BK secure and</font>

330
00:13:43,720 --> 00:13:49,870
that<font color="#E5E5E5"> BK secure as</font><font color="#CCCCCC"> you see it's</font><font color="#E5E5E5"> something</font>

331
00:13:47,470 --> 00:13:51,850
that well it's secure<font color="#E5E5E5"> because it's just</font>

332
00:13:49,870 --> 00:13:54,639
<font color="#E5E5E5">my company name but that is something</font>

333
00:13:51,850 --> 00:13:58,149
<font color="#E5E5E5">that is actually a</font><font color="#CCCCCC"> public key</font><font color="#E5E5E5"> of</font><font color="#CCCCCC"> the</font>

334
00:13:54,639 --> 00:14:03,220
whole domain<font color="#CCCCCC"> now every user has the same</font>

335
00:13:58,149 --> 00:14:07,000
key what's the question<font color="#E5E5E5"> that should come</font>

336
00:14:03,220 --> 00:14:08,800
next<font color="#E5E5E5"> where's the private</font><font color="#CCCCCC"> one right who</font>

337
00:14:07,000 --> 00:14:10,930
has access to the<font color="#E5E5E5"> private one because it</font>

338
00:14:08,800 --> 00:14:12,519
looks like<font color="#E5E5E5"> this guy</font><font color="#CCCCCC"> and that even looks</font>

339
00:14:10,930 --> 00:14:14,920
like<font color="#E5E5E5"> I will show you this guy is</font>

340
00:14:12,519 --> 00:14:16,089
encrypting our secrets everything<font color="#E5E5E5"> like</font>

341
00:14:14,920 --> 00:14:18,910
your<font color="#E5E5E5"> private keys</font>

342
00:14:16,089 --> 00:14:20,319
<font color="#E5E5E5">for the certificates your whatever</font>

343
00:14:18,910 --> 00:14:24,879
passwords if you<font color="#E5E5E5"> store them on the</font>

344
00:14:20,319 --> 00:14:27,759
chrome<font color="#E5E5E5"> edge Firefox same story anything</font>

345
00:14:24,879 --> 00:14:29,139
like password for<font color="#E5E5E5"> oh look anything</font><font color="#CCCCCC"> that</font>

346
00:14:27,759 --> 00:14:30,759
is actually leveraging data<font color="#E5E5E5"> protection</font>

347
00:14:29,139 --> 00:14:31,180
API<font color="#E5E5E5"> and I'm not saying it's a bad bad</font>

348
00:14:30,759 --> 00:14:32,949
form

349
00:14:31,180 --> 00:14:35,349
we just need to be<font color="#E5E5E5"> absolutely aware of</font>

350
00:14:32,949 --> 00:14:37,870
how<font color="#E5E5E5"> it works for example keep us it's a</font>

351
00:14:35,350 --> 00:14:40,269
good<font color="#CCCCCC"> example</font><font color="#E5E5E5"> here so if you rely on keep</font>

352
00:14:37,870 --> 00:14:41,980
us on single sign-on for<font color="#CCCCCC"> windows then</font>

353
00:14:40,269 --> 00:14:43,810
this is<font color="#E5E5E5"> really much what we are getting</font>

354
00:14:41,980 --> 00:14:46,120
over<font color="#E5E5E5"> here that most of course will come</font>

355
00:14:43,810 --> 00:14:48,069
in a moment<font color="#E5E5E5"> so let's move</font><font color="#CCCCCC"> forward</font><font color="#E5E5E5"> so</font>

356
00:14:46,120 --> 00:14:51,880
this<font color="#E5E5E5"> is basically where they are they</font>

357
00:14:48,069 --> 00:14:54,399
are within the<font color="#CCCCCC"> C users username update a</font>

358
00:14:51,880 --> 00:14:56,829
roaming<font color="#E5E5E5"> Microsoft protect and seat of</font>

359
00:14:54,399 --> 00:14:58,180
<font color="#CCCCCC">the user and whole list</font><font color="#E5E5E5"> over</font><font color="#CCCCCC"> here you've</font>

360
00:14:56,829 --> 00:15:00,489
got<font color="#CCCCCC"> about</font><font color="#E5E5E5"> if you want to do as someone a</font>

361
00:14:58,180 --> 00:15:02,529
bad joke deleting this<font color="#E5E5E5"> folder would be</font><font color="#CCCCCC"> a</font>

362
00:15:00,490 --> 00:15:03,790
definitely<font color="#E5E5E5"> a horrible joke because then</font>

363
00:15:02,529 --> 00:15:06,670
this person will<font color="#CCCCCC"> not be</font><font color="#E5E5E5"> able to get</font>

364
00:15:03,790 --> 00:15:09,579
<font color="#CCCCCC">access</font><font color="#E5E5E5"> to any types of</font><font color="#CCCCCC"> secrets</font><font color="#E5E5E5"> that this</font>

365
00:15:06,670 --> 00:15:12,729
person has stored pretty funny<font color="#E5E5E5"> anyway so</font>

366
00:15:09,579 --> 00:15:14,258
let's move<font color="#CCCCCC"> forward</font><font color="#E5E5E5"> so whenever we</font><font color="#CCCCCC"> are</font>

367
00:15:12,730 --> 00:15:16,149
thinking<font color="#CCCCCC"> about this classic data</font>

368
00:15:14,259 --> 00:15:17,980
protection API<font color="#E5E5E5"> secrets this is a little</font>

369
00:15:16,149 --> 00:15:19,630
bit of<font color="#CCCCCC"> assignment I sum</font><font color="#E5E5E5"> up I know it's</font>

370
00:15:17,980 --> 00:15:21,699
not<font color="#CCCCCC"> very unfortunate color but let me</font>

371
00:15:19,630 --> 00:15:24,250
enlarge it a little bit and it's gonna

372
00:15:21,699 --> 00:15:26,349
be it's gonna<font color="#E5E5E5"> be clear here we go so</font>

373
00:15:24,250 --> 00:15:28,269
data prediction API classic so you can

374
00:15:26,350 --> 00:15:31,389
see that we<font color="#CCCCCC"> are here relying</font><font color="#E5E5E5"> empty for</font>

375
00:15:28,269 --> 00:15:33,910
so on and<font color="#E5E5E5"> eventually it depends of</font>

376
00:15:31,389 --> 00:15:36,040
<font color="#CCCCCC">course how the</font><font color="#E5E5E5"> path goes but there is</font>

377
00:15:33,910 --> 00:15:38,680
could be<font color="#CCCCCC"> a</font><font color="#E5E5E5"> moment where we</font><font color="#CCCCCC"> are relying</font>

378
00:15:36,040 --> 00:15:39,630
on the cache<font color="#CCCCCC"> logon data now</font><font color="#E5E5E5"> second type</font>

379
00:15:38,680 --> 00:15:41,219
of<font color="#E5E5E5"> secret and</font>

380
00:15:39,630 --> 00:15:43,770
is<font color="#E5E5E5"> actually quite interesting</font><font color="#CCCCCC"> thing to</font>

381
00:15:41,220 --> 00:15:47,010
spot it's related with is something<font color="#CCCCCC"> that</font>

382
00:15:43,770 --> 00:15:48,930
we call a credit<font color="#E5E5E5"> history and within the</font>

383
00:15:47,010 --> 00:15:50,790
credit<font color="#CCCCCC"> he's this</font><font color="#E5E5E5"> is another file</font><font color="#CCCCCC"> that is</font>

384
00:15:48,930 --> 00:15:52,739
within the same area<font color="#CCCCCC"> that is nothing</font>

385
00:15:50,790 --> 00:15:54,089
<font color="#E5E5E5">about the</font><font color="#CCCCCC"> history of</font><font color="#E5E5E5"> our credentials</font><font color="#CCCCCC"> if</font>

386
00:15:52,740 --> 00:15:55,440
you ever wondered<font color="#CCCCCC"> how could</font><font color="#E5E5E5"> it be</font><font color="#CCCCCC"> that</font>

387
00:15:54,090 --> 00:15:57,450
when<font color="#E5E5E5"> I set up within the group policy</font>

388
00:15:55,440 --> 00:15:59,280
<font color="#E5E5E5">that I shouldn't repeat the same</font>

389
00:15:57,450 --> 00:16:01,230
password for<font color="#E5E5E5"> the next</font><font color="#CCCCCC"> twenty times or</font>

390
00:15:59,280 --> 00:16:03,060
something<font color="#E5E5E5"> obviously that must be stored</font>

391
00:16:01,230 --> 00:16:04,830
somewhere<font color="#E5E5E5"> and that is actually stored</font>

392
00:16:03,060 --> 00:16:07,410
within the credit his file<font color="#E5E5E5"> on every</font>

393
00:16:04,830 --> 00:16:10,230
users profile that file is<font color="#CCCCCC"> decrypt bull</font>

394
00:16:07,410 --> 00:16:12,449
with your users<font color="#CCCCCC"> password hash yes so the</font>

395
00:16:10,230 --> 00:16:14,310
moment<font color="#CCCCCC"> you change</font><font color="#E5E5E5"> it basically you are</font>

396
00:16:12,450 --> 00:16:16,680
able<font color="#CCCCCC"> to see like</font><font color="#E5E5E5"> oh is there any harsh</font>

397
00:16:14,310 --> 00:16:19,199
<font color="#E5E5E5">that looks similarly and and at that</font>

398
00:16:16,680 --> 00:16:22,260
moment<font color="#CCCCCC"> um something</font><font color="#E5E5E5"> something to mention</font>

399
00:16:19,200 --> 00:16:25,350
<font color="#E5E5E5">so let's guys see of how we are able to</font>

400
00:16:22,260 --> 00:16:27,600
<font color="#E5E5E5">get access to this secret in the wealth</font>

401
00:16:25,350 --> 00:16:29,700
operating systems way but before<font color="#CCCCCC"> we get</font>

402
00:16:27,600 --> 00:16:31,920
that a couple<font color="#CCCCCC"> of a couple of words for</font>

403
00:16:29,700 --> 00:16:34,980
the introduction yes so<font color="#CCCCCC"> cash logins</font>

404
00:16:31,920 --> 00:16:36,870
basically why I'm gonna leverage this<font color="#E5E5E5"> I</font>

405
00:16:34,980 --> 00:16:39,930
would like<font color="#E5E5E5"> to show you one thing that</font>

406
00:16:36,870 --> 00:16:41,910
I'm gonna technically perform the

407
00:16:39,930 --> 00:16:44,430
following operation<font color="#E5E5E5"> I've got a user user</font>

408
00:16:41,910 --> 00:16:46,469
has stored the password in<font color="#CCCCCC"> Chrome</font><font color="#E5E5E5"> when I</font>

409
00:16:44,430 --> 00:16:47,969
log on as a user<font color="#E5E5E5"> I'm able to</font><font color="#CCCCCC"> see this</font>

410
00:16:46,470 --> 00:16:50,460
password<font color="#E5E5E5"> not a biggie by the way</font>

411
00:16:47,970 --> 00:16:52,950
<font color="#E5E5E5">off-site comment any other application</font>

412
00:16:50,460 --> 00:16:55,050
can see that<font color="#E5E5E5"> too so if you</font><font color="#CCCCCC"> save</font><font color="#E5E5E5"> password</font>

413
00:16:52,950 --> 00:16:56,700
in<font color="#E5E5E5"> Chrome or I'm just</font><font color="#CCCCCC"> giving Chrome as</font>

414
00:16:55,050 --> 00:16:58,740
an<font color="#E5E5E5"> example of course then any other</font>

415
00:16:56,700 --> 00:17:01,110
portable apps or whatever whatever

416
00:16:58,740 --> 00:17:02,850
<font color="#CCCCCC">literally</font><font color="#E5E5E5"> whatever you're gonna use will</font>

417
00:17:01,110 --> 00:17:04,230
<font color="#E5E5E5">be able to read your password</font><font color="#CCCCCC"> to of</font>

418
00:17:02,850 --> 00:17:06,089
<font color="#E5E5E5">course I'm not</font><font color="#CCCCCC"> saying that apps are</font>

419
00:17:04,230 --> 00:17:09,720
doing<font color="#E5E5E5"> this but they can without any</font>

420
00:17:06,089 --> 00:17:12,480
<font color="#E5E5E5">problem since</font><font color="#CCCCCC"> they run as you so just</font>

421
00:17:09,720 --> 00:17:15,569
don't do that<font color="#E5E5E5"> that's my conclusion but</font>

422
00:17:12,480 --> 00:17:17,459
in general what's the point is that I'm

423
00:17:15,569 --> 00:17:19,560
gonna leverage<font color="#E5E5E5"> cache</font><font color="#CCCCCC"> logon data I'm</font>

424
00:17:17,459 --> 00:17:21,420
<font color="#E5E5E5">gonna disconnect myself</font><font color="#CCCCCC"> from the network</font>

425
00:17:19,560 --> 00:17:23,429
<font color="#E5E5E5">and then I'm gonna update the cache</font>

426
00:17:21,420 --> 00:17:25,589
logon data to show you that I'm logging

427
00:17:23,430 --> 00:17:27,420
<font color="#E5E5E5">on with a different password so that you</font>

428
00:17:25,589 --> 00:17:29,700
can see that data<font color="#CCCCCC"> prediction API is</font>

429
00:17:27,420 --> 00:17:32,490
actually<font color="#E5E5E5"> in this particular case prone</font>

430
00:17:29,700 --> 00:17:33,930
to password change and<font color="#E5E5E5"> I'm</font><font color="#CCCCCC"> will</font><font color="#E5E5E5"> not be</font>

431
00:17:32,490 --> 00:17:36,060
<font color="#E5E5E5">able to get access to the user secrets</font>

432
00:17:33,930 --> 00:17:38,370
and then later<font color="#CCCCCC"> will try to get access to</font>

433
00:17:36,060 --> 00:17:41,250
<font color="#E5E5E5">those secrets now if you wondered ever</font>

434
00:17:38,370 --> 00:17:43,949
<font color="#E5E5E5">if the cache</font><font color="#CCCCCC"> logon data is safe</font>

435
00:17:41,250 --> 00:17:45,960
mechanism<font color="#E5E5E5"> or not just a few words in the</font>

436
00:17:43,950 --> 00:17:49,350
<font color="#CCCCCC">windows</font><font color="#E5E5E5"> XP it was already quite nice</font>

437
00:17:45,960 --> 00:17:51,840
<font color="#E5E5E5">though it was relying and that value was</font>

438
00:17:49,350 --> 00:17:52,919
called<font color="#CCCCCC"> DCC</font><font color="#E5E5E5"> one it was relying on</font><font color="#CCCCCC"> the md</font>

439
00:17:51,840 --> 00:17:55,409
<font color="#CCCCCC">4 of the</font>

440
00:17:52,920 --> 00:17:56,970
<font color="#E5E5E5">user name and users passwords hash</font><font color="#CCCCCC"> join</font>

441
00:17:55,410 --> 00:17:59,340
<font color="#E5E5E5">together and on the top of that we</font>

442
00:17:56,970 --> 00:18:01,860
calculate the<font color="#CCCCCC"> hash</font><font color="#E5E5E5"> though with and since</font>

443
00:17:59,340 --> 00:18:04,139
<font color="#E5E5E5">Windows Vista there's a couple of</font>

444
00:18:01,860 --> 00:18:06,060
changes that were introduced<font color="#E5E5E5"> we we call</font>

445
00:18:04,140 --> 00:18:08,070
this value<font color="#E5E5E5"> MSD</font><font color="#CCCCCC"> cc2 as I already</font>

446
00:18:06,060 --> 00:18:10,830
<font color="#CCCCCC">mentioned this is a result</font><font color="#E5E5E5"> of the</font>

447
00:18:08,070 --> 00:18:12,810
function pbkdf2<font color="#CCCCCC"> which is originally used</font>

448
00:18:10,830 --> 00:18:15,149
<font color="#CCCCCC">for things like key pass LastPass vault</font>

449
00:18:12,810 --> 00:18:17,370
<font color="#E5E5E5">etc</font><font color="#CCCCCC"> yeah it's a pretty</font><font color="#E5E5E5"> nice function</font>

450
00:18:15,150 --> 00:18:19,590
that is<font color="#CCCCCC"> used</font><font color="#E5E5E5"> for encrypting things yeah</font>

451
00:18:17,370 --> 00:18:21,540
<font color="#CCCCCC">now whenever</font><font color="#E5E5E5"> we are thinking about</font>

452
00:18:19,590 --> 00:18:23,129
cracking<font color="#E5E5E5"> that of</font><font color="#CCCCCC"> course</font><font color="#E5E5E5"> it's crackable</font>

453
00:18:21,540 --> 00:18:25,800
<font color="#E5E5E5">it's just gonna take a long time</font><font color="#CCCCCC"> and</font>

454
00:18:23,130 --> 00:18:28,640
that's<font color="#E5E5E5"> the strength</font><font color="#CCCCCC"> of that solution so</font>

455
00:18:25,800 --> 00:18:31,860
let's begin<font color="#E5E5E5"> into a little bit of a</font>

456
00:18:28,640 --> 00:18:35,460
situation<font color="#E5E5E5"> where we're gonna be of course</font>

457
00:18:31,860 --> 00:18:38,580
analyzing<font color="#E5E5E5"> the cache local data so um let</font>

458
00:18:35,460 --> 00:18:40,530
me<font color="#CCCCCC"> see let</font><font color="#E5E5E5"> me see</font><font color="#CCCCCC"> here we go so first of</font>

459
00:18:38,580 --> 00:18:43,199
<font color="#E5E5E5">all well we've got our</font><font color="#CCCCCC"> user's machine</font>

460
00:18:40,530 --> 00:18:45,120
<font color="#CCCCCC">and I'm</font><font color="#E5E5E5"> switching to the virtual machine</font>

461
00:18:43,200 --> 00:18:48,000
right now<font color="#CCCCCC"> so that's this</font><font color="#E5E5E5"> guy basically</font>

462
00:18:45,120 --> 00:18:50,729
<font color="#CCCCCC">um well let's just go over here</font><font color="#E5E5E5"> I'm</font>

463
00:18:48,000 --> 00:18:54,480
gonna go to<font color="#CCCCCC"> that</font><font color="#E5E5E5"> area</font>

464
00:18:50,730 --> 00:18:57,270
let's go to the C key tools and let's

465
00:18:54,480 --> 00:19:00,720
get<font color="#E5E5E5"> into the of course oh no no let's go</font>

466
00:18:57,270 --> 00:19:02,400
to<font color="#E5E5E5"> the</font><font color="#CCCCCC"> chrome pass here we go and what</font>

467
00:19:00,720 --> 00:19:04,980
we see<font color="#CCCCCC"> over</font><font color="#E5E5E5"> here is the following</font><font color="#CCCCCC"> yeah</font>

468
00:19:02,400 --> 00:19:08,370
<font color="#E5E5E5">so here we can see</font><font color="#CCCCCC"> that it's just</font><font color="#E5E5E5"> like</font>

469
00:19:04,980 --> 00:19:10,710
<font color="#E5E5E5">an</font><font color="#CCCCCC"> ears of news news of tool which is a</font>

470
00:19:08,370 --> 00:19:12,149
<font color="#CCCCCC">crompus free to</font><font color="#E5E5E5"> of course</font><font color="#CCCCCC"> and you are</font>

471
00:19:10,710 --> 00:19:14,670
<font color="#CCCCCC">able to see that</font><font color="#E5E5E5"> the</font><font color="#CCCCCC"> users stored its</font>

472
00:19:12,150 --> 00:19:17,040
password<font color="#CCCCCC"> not a biggie</font><font color="#E5E5E5"> I mean that's</font>

473
00:19:14,670 --> 00:19:19,560
obvious I would say now question is<font color="#E5E5E5"> how</font>

474
00:19:17,040 --> 00:19:21,750
can<font color="#CCCCCC"> we get access to that while having</font>

475
00:19:19,560 --> 00:19:25,440
<font color="#CCCCCC">only access to the encrypted</font><font color="#E5E5E5"> blob of</font>

476
00:19:21,750 --> 00:19:27,690
that particular browser<font color="#E5E5E5"> so let's see so</font>

477
00:19:25,440 --> 00:19:29,460
what I<font color="#E5E5E5"> will do and I'm gonna use this</font>

478
00:19:27,690 --> 00:19:31,830
offline I'm gonna do it<font color="#E5E5E5"> offline for</font><font color="#CCCCCC"> the</font>

479
00:19:29,460 --> 00:19:33,360
clearer picture<font color="#CCCCCC"> for the presentation to</font>

480
00:19:31,830 --> 00:19:35,550
make<font color="#E5E5E5"> sure everything everything is all</font>

481
00:19:33,360 --> 00:19:36,679
clear and<font color="#E5E5E5"> so on so I'm gonna well</font>

482
00:19:35,550 --> 00:19:39,090
technically

483
00:19:36,680 --> 00:19:42,090
let's just move forward<font color="#E5E5E5"> we start this</font>

484
00:19:39,090 --> 00:19:45,270
box<font color="#E5E5E5"> and I'm gonna get into the old</font>

485
00:19:42,090 --> 00:19:48,770
<font color="#CCCCCC">cd/dvd that's gonna</font><font color="#E5E5E5"> take a small</font><font color="#CCCCCC"> moment</font>

486
00:19:45,270 --> 00:19:51,990
<font color="#E5E5E5">and on the top of</font><font color="#CCCCCC"> that I will change</font>

487
00:19:48,770 --> 00:19:54,389
<font color="#E5E5E5">here we go change the cache logon data</font>

488
00:19:51,990 --> 00:19:57,900
<font color="#E5E5E5">I'm gonna use for that purpose</font><font color="#CCCCCC"> me me</font>

489
00:19:54,390 --> 00:19:59,730
<font color="#E5E5E5">cuts with our module for our</font><font color="#CCCCCC"> changing</font>

490
00:19:57,900 --> 00:20:00,810
cache<font color="#CCCCCC"> locum data I don't want to say</font>

491
00:19:59,730 --> 00:20:02,130
cache credentials because<font color="#E5E5E5"> they're not</font>

492
00:20:00,810 --> 00:20:04,860
credentials

493
00:20:02,130 --> 00:20:08,400
at the end<font color="#E5E5E5"> okay so let's go to the</font>

494
00:20:04,860 --> 00:20:11,668
repair mode<font color="#E5E5E5"> fantastic troubleshoot and</font>

495
00:20:08,400 --> 00:20:14,400
then we go<font color="#E5E5E5"> Advanced Options and to the</font>

496
00:20:11,669 --> 00:20:16,500
very advanced command prompt<font color="#E5E5E5"> okay and</font>

497
00:20:14,400 --> 00:20:19,410
then basically<font color="#E5E5E5"> let me just change a</font>

498
00:20:16,500 --> 00:20:21,210
<font color="#CCCCCC">little</font><font color="#E5E5E5"> bit of a font because yeah that's</font>

499
00:20:19,410 --> 00:20:23,460
unfortunately<font color="#E5E5E5"> I have no impact for that</font>

500
00:20:21,210 --> 00:20:26,429
but I<font color="#E5E5E5"> think something like this will do</font>

501
00:20:23,460 --> 00:20:28,919
<font color="#E5E5E5">okay so here we go</font><font color="#CCCCCC"> let's go to the D</font>

502
00:20:26,429 --> 00:20:30,870
<font color="#E5E5E5">Drive and</font><font color="#CCCCCC"> CQ tools and now we're gonna</font>

503
00:20:28,919 --> 00:20:32,850
change the<font color="#E5E5E5"> cache</font><font color="#CCCCCC"> logon data so that I</font>

504
00:20:30,870 --> 00:20:33,959
can log on<font color="#E5E5E5"> with the change password so</font>

505
00:20:32,850 --> 00:20:37,289
<font color="#CCCCCC">that you</font><font color="#E5E5E5"> will see that that password</font>

506
00:20:33,960 --> 00:20:39,799
will not be visible<font color="#E5E5E5"> anymore yeah okay so</font>

507
00:20:37,289 --> 00:20:42,360
let's go<font color="#E5E5E5"> into Q is secure</font><font color="#CCCCCC"> edition and</font>

508
00:20:39,799 --> 00:20:44,340
<font color="#CCCCCC">Mimi cuts here we go</font>

509
00:20:42,360 --> 00:20:49,049
and then basically<font color="#E5E5E5"> we're gonna do our</font>

510
00:20:44,340 --> 00:20:54,059
<font color="#E5E5E5">LSI dump cache and then we're gonna do D</font>

511
00:20:49,049 --> 00:20:55,970
a windows system32<font color="#E5E5E5"> convict I have to tie</font>

512
00:20:54,059 --> 00:20:57,928
<font color="#CCCCCC">its iPad unfortunately</font><font color="#E5E5E5"> and then system</font>

513
00:20:55,970 --> 00:21:00,960
because this is a place where the boot

514
00:20:57,929 --> 00:21:03,720
key is and boot key pretty much any type

515
00:21:00,960 --> 00:21:05,370
<font color="#CCCCCC">of a system secret it's the one</font><font color="#E5E5E5"> that is</font>

516
00:21:03,720 --> 00:21:10,620
actually<font color="#E5E5E5"> encrypting it and now we're</font>

517
00:21:05,370 --> 00:21:13,408
<font color="#E5E5E5">gonna do</font><font color="#CCCCCC"> D a windows system32 config and</font>

518
00:21:10,620 --> 00:21:16,739
<font color="#E5E5E5">then security and this is the place</font>

519
00:21:13,409 --> 00:21:20,309
where<font color="#E5E5E5"> the cache</font><font color="#CCCCCC"> logon data is /qe to</font>

520
00:21:16,740 --> 00:21:22,320
<font color="#E5E5E5">have it</font><font color="#CCCCCC"> I think we are all set so</font><font color="#E5E5E5"> that</font>

521
00:21:20,309 --> 00:21:24,990
is positive we<font color="#E5E5E5"> have just</font><font color="#CCCCCC"> over written</font>

522
00:21:22,320 --> 00:21:27,059
<font color="#CCCCCC">cache</font><font color="#E5E5E5"> local data and the very next</font><font color="#CCCCCC"> step</font>

523
00:21:24,990 --> 00:21:29,190
that<font color="#E5E5E5"> we're gonna do I let me allow</font><font color="#CCCCCC"> or</font>

524
00:21:27,059 --> 00:21:30,960
doing it<font color="#E5E5E5"> now we will at that certain</font>

525
00:21:29,190 --> 00:21:34,919
<font color="#E5E5E5">moment and I will do it on my</font><font color="#CCCCCC"> site</font>

526
00:21:30,960 --> 00:21:37,710
<font color="#E5E5E5">change the network to technically not</font>

527
00:21:34,919 --> 00:21:39,419
connected and so that we<font color="#E5E5E5"> can we are</font><font color="#CCCCCC"> able</font>

528
00:21:37,710 --> 00:21:40,470
to<font color="#CCCCCC"> log on with the cache local data</font><font color="#E5E5E5"> okay</font>

529
00:21:39,419 --> 00:21:42,150
fine<font color="#E5E5E5"> yeah</font>

530
00:21:40,470 --> 00:21:44,909
so this one is disconnected from<font color="#E5E5E5"> the</font>

531
00:21:42,150 --> 00:21:46,620
network<font color="#CCCCCC"> fine continue and then we can</font>

532
00:21:44,909 --> 00:21:48,000
move on<font color="#E5E5E5"> now we're gonna see if</font><font color="#CCCCCC"> we are</font>

533
00:21:46,620 --> 00:21:50,250
<font color="#E5E5E5">able</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> get</font><font color="#CCCCCC"> access to the secrets or not</font>

534
00:21:48,000 --> 00:21:51,720
<font color="#E5E5E5">yeah and eventually who is able</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> get</font>

535
00:21:50,250 --> 00:21:54,960
access<font color="#CCCCCC"> to those</font><font color="#E5E5E5"> yeah</font>

536
00:21:51,720 --> 00:21:57,780
so this is this<font color="#CCCCCC"> is um this is a</font><font color="#E5E5E5"> little</font>

537
00:21:54,960 --> 00:21:59,940
bit of a setup<font color="#CCCCCC"> okay</font>

538
00:21:57,780 --> 00:22:00,960
it's the reboot is pretty fast so there

539
00:21:59,940 --> 00:22:01,830
shouldn't be a problem about<font color="#E5E5E5"> this</font>

540
00:22:00,960 --> 00:22:04,320
<font color="#E5E5E5">perfect</font>

541
00:22:01,830 --> 00:22:05,879
I would like to log on to<font color="#E5E5E5"> this box with</font>

542
00:22:04,320 --> 00:22:07,740
<font color="#E5E5E5">the password that</font><font color="#CCCCCC"> I used before which is</font>

543
00:22:05,880 --> 00:22:10,200
a<font color="#CCCCCC"> PS swz ready</font>

544
00:22:07,740 --> 00:22:11,690
yeah and that doesn't<font color="#E5E5E5"> work but this time</font>

545
00:22:10,200 --> 00:22:15,030
we're gonna<font color="#E5E5E5"> type</font><font color="#CCCCCC"> mimikatz</font>

546
00:22:11,690 --> 00:22:15,779
yeah why not and I'm logging on with

547
00:22:15,030 --> 00:22:17,759
their over

548
00:22:15,779 --> 00:22:19,889
written<font color="#E5E5E5"> cash local data this is a domain</font>

549
00:22:17,759 --> 00:22:22,769
<font color="#CCCCCC">user</font><font color="#E5E5E5"> that's not that much</font><font color="#CCCCCC"> of a big thing</font>

550
00:22:19,889 --> 00:22:24,869
<font color="#CCCCCC">as long</font><font color="#E5E5E5"> as we know how the cash logon</font>

551
00:22:22,769 --> 00:22:26,820
data algorithm works<font color="#CCCCCC"> so we are able to</font>

552
00:22:24,869 --> 00:22:29,849
<font color="#CCCCCC">progenitor our value cracking it</font><font color="#E5E5E5"> not</font>

553
00:22:26,820 --> 00:22:32,129
<font color="#E5E5E5">really</font><font color="#CCCCCC"> over writing always</font><font color="#E5E5E5"> yeah</font><font color="#CCCCCC"> okay so</font>

554
00:22:29,849 --> 00:22:35,759
we've got<font color="#E5E5E5"> this now let's have a look at</font>

555
00:22:32,129 --> 00:22:38,998
what we<font color="#E5E5E5"> got with</font><font color="#CCCCCC"> the chrome pass and etc</font>

556
00:22:35,759 --> 00:22:40,889
<font color="#E5E5E5">yeah so</font><font color="#CCCCCC"> um question is of course</font><font color="#E5E5E5"> what's</font>

557
00:22:38,999 --> 00:22:42,989
happening<font color="#E5E5E5"> so now we</font><font color="#CCCCCC"> are trying to</font>

558
00:22:40,889 --> 00:22:44,998
decrypt with the current users passwords

559
00:22:42,989 --> 00:22:47,070
hash all the different types of master

560
00:22:44,999 --> 00:22:49,229
keys that<font color="#E5E5E5"> are out there</font><font color="#CCCCCC"> and trying</font>

561
00:22:47,070 --> 00:22:50,789
trying trying and at the end it will

562
00:22:49,229 --> 00:22:53,129
tell<font color="#CCCCCC"> us that unfortunately it's not able</font>

563
00:22:50,789 --> 00:22:55,408
to to do that and that's<font color="#E5E5E5"> quite</font>

564
00:22:53,129 --> 00:22:57,089
interesting<font color="#E5E5E5"> situation as we see because</font>

565
00:22:55,409 --> 00:23:00,599
<font color="#E5E5E5">that proves the point that it's not</font>

566
00:22:57,089 --> 00:23:02,609
<font color="#CCCCCC">prone to offline access</font><font color="#E5E5E5"> and when someone</font>

567
00:23:00,599 --> 00:23:04,289
<font color="#E5E5E5">is trying to reset our password</font><font color="#CCCCCC"> this</font>

568
00:23:02,609 --> 00:23:07,199
person<font color="#E5E5E5"> will be able access to logon but</font>

569
00:23:04,289 --> 00:23:09,119
not<font color="#E5E5E5"> accessing our secrets fine</font>

570
00:23:07,200 --> 00:23:10,499
let's<font color="#CCCCCC"> dig in into the problem</font><font color="#E5E5E5"> otherwise</font>

571
00:23:09,119 --> 00:23:13,889
you wouldn't<font color="#CCCCCC"> be here I wouldn't</font><font color="#E5E5E5"> be here</font>

572
00:23:10,499 --> 00:23:16,289
<font color="#CCCCCC">iam so the problem looks like</font><font color="#E5E5E5"> this</font><font color="#CCCCCC"> data</font>

573
00:23:13,889 --> 00:23:20,428
protection<font color="#E5E5E5"> API with the</font><font color="#CCCCCC"> active directory</font>

574
00:23:16,289 --> 00:23:23,759
<font color="#CCCCCC">works</font><font color="#E5E5E5"> in a way that technically there</font><font color="#CCCCCC"> is</font>

575
00:23:20,429 --> 00:23:26,399
a this very specific public key<font color="#E5E5E5"> and of</font>

576
00:23:23,759 --> 00:23:28,830
course it's there by the reason yes<font color="#E5E5E5"> so</font>

577
00:23:26,399 --> 00:23:30,718
that<font color="#CCCCCC"> particular public key can be used</font>

578
00:23:28,830 --> 00:23:32,908
by several<font color="#E5E5E5"> types of operations by the</font>

579
00:23:30,719 --> 00:23:35,519
<font color="#E5E5E5">domain controller but in general that</font>

580
00:23:32,909 --> 00:23:36,839
decryption technique by the private key

581
00:23:35,519 --> 00:23:39,089
that<font color="#E5E5E5"> is in the memory of the domain</font>

582
00:23:36,839 --> 00:23:41,549
controller looks in a following<font color="#CCCCCC"> way</font><font color="#E5E5E5"> so</font>

583
00:23:39,089 --> 00:23:44,609
the client makes an RPC call to the

584
00:23:41,549 --> 00:23:46,589
domain<font color="#E5E5E5"> and then basically what</font><font color="#CCCCCC"> domain</font>

585
00:23:44,609 --> 00:23:48,989
does domain controller does it returns

586
00:23:46,589 --> 00:23:50,729
the decrypted master key<font color="#CCCCCC"> which</font><font color="#E5E5E5"> client</font>

587
00:23:48,989 --> 00:23:53,099
can<font color="#CCCCCC"> use to decrypt</font><font color="#E5E5E5"> all the different</font>

588
00:23:50,729 --> 00:23:54,299
types of<font color="#CCCCCC"> Secrets</font><font color="#E5E5E5"> we can do it online but</font>

589
00:23:53,099 --> 00:23:55,918
we can do<font color="#E5E5E5"> it also offline</font>

590
00:23:54,299 --> 00:23:57,929
I think offline is more juicy<font color="#E5E5E5"> because</font>

591
00:23:55,919 --> 00:23:59,159
<font color="#CCCCCC">you are</font><font color="#E5E5E5"> dealing with real data not some</font>

592
00:23:57,929 --> 00:24:01,229
kind of a software that<font color="#E5E5E5"> is running</font><font color="#CCCCCC"> in</font><font color="#E5E5E5"> a</font>

593
00:23:59,159 --> 00:24:04,589
<font color="#CCCCCC">bag so we're gonna</font><font color="#E5E5E5"> actually do that</font>

594
00:24:01,229 --> 00:24:08,700
offline<font color="#CCCCCC"> yeah so what is the situation</font>

595
00:24:04,589 --> 00:24:10,529
<font color="#CCCCCC">that in the domain controller</font><font color="#E5E5E5"> and if we</font>

596
00:24:08,700 --> 00:24:13,649
have a<font color="#E5E5E5"> look at the right side we do have</font>

597
00:24:10,529 --> 00:24:15,509
<font color="#CCCCCC">over</font><font color="#E5E5E5"> here well</font><font color="#CCCCCC"> elseís who obviously has</font>

598
00:24:13,649 --> 00:24:17,758
access to<font color="#CCCCCC"> this particular secret but</font>

599
00:24:15,509 --> 00:24:19,409
<font color="#E5E5E5">else's has the possibility to decrypt</font>

600
00:24:17,759 --> 00:24:22,409
<font color="#E5E5E5">the key that is stored in an encrypted</font>

601
00:24:19,409 --> 00:24:24,179
form<font color="#CCCCCC"> in</font><font color="#E5E5E5"> ant ideas of</font><font color="#CCCCCC"> did</font><font color="#E5E5E5"> and we've been</font>

602
00:24:22,409 --> 00:24:27,450
<font color="#CCCCCC">searching for quite a long like where</font>

603
00:24:24,179 --> 00:24:29,690
<font color="#E5E5E5">this key could be and etc but every type</font>

604
00:24:27,450 --> 00:24:32,149
of<font color="#E5E5E5"> a key and also they had protection</font>

605
00:24:29,690 --> 00:24:34,250
<font color="#CCCCCC">the eye blob has</font><font color="#E5E5E5"> its own pattern so we</font>

606
00:24:32,149 --> 00:24:37,639
found it<font color="#CCCCCC"> and that one is</font><font color="#E5E5E5"> called of</font>

607
00:24:34,250 --> 00:24:40,240
course<font color="#CCCCCC"> a</font><font color="#E5E5E5"> G dollar</font><font color="#CCCCCC"> backup key</font><font color="#E5E5E5"> and then it</font>

608
00:24:37,639 --> 00:24:42,918
has an<font color="#E5E5E5"> identifier this preferred</font>

609
00:24:40,240 --> 00:24:44,720
specifies<font color="#CCCCCC"> as an identifier</font><font color="#E5E5E5"> so that's the</font>

610
00:24:42,919 --> 00:24:46,429
one that<font color="#E5E5E5"> is</font><font color="#CCCCCC"> currently used</font><font color="#E5E5E5"> there can be</font>

611
00:24:44,720 --> 00:24:49,009
many but that's the one<font color="#E5E5E5"> that is</font><font color="#CCCCCC"> actually</font>

612
00:24:46,429 --> 00:24:52,399
<font color="#CCCCCC">currently</font><font color="#E5E5E5"> used so let's have a look</font>

613
00:24:49,009 --> 00:24:54,470
father<font color="#E5E5E5"> of how we can extract it from the</font>

614
00:24:52,399 --> 00:24:56,750
<font color="#E5E5E5">domain controller and we could be</font>

615
00:24:54,470 --> 00:24:58,639
thinking<font color="#CCCCCC"> okay what about</font><font color="#E5E5E5"> like hackers</font>

616
00:24:56,750 --> 00:24:59,720
like could they be like domain admins<font color="#CCCCCC"> to</font>

617
00:24:58,639 --> 00:25:02,178
do it<font color="#E5E5E5"> well</font>

618
00:24:59,720 --> 00:25:03,950
yes<font color="#E5E5E5"> but I'm not saying that we have to</font>

619
00:25:02,179 --> 00:25:06,230
be within the<font color="#CCCCCC"> attacker domain admin I'm</font>

620
00:25:03,950 --> 00:25:08,899
saying that if you have a bad domain

621
00:25:06,230 --> 00:25:10,340
admin that maybe nobody monitors<font color="#E5E5E5"> that</font>

622
00:25:08,899 --> 00:25:12,379
<font color="#E5E5E5">will be definitely a person that is able</font>

623
00:25:10,340 --> 00:25:14,539
to<font color="#E5E5E5"> get access</font><font color="#CCCCCC"> to every single secret</font><font color="#E5E5E5"> of</font>

624
00:25:12,379 --> 00:25:17,269
every person within<font color="#E5E5E5"> the organization and</font>

625
00:25:14,539 --> 00:25:19,549
that's more<font color="#E5E5E5"> of my point here okay</font>

626
00:25:17,269 --> 00:25:22,009
so let's have a look<font color="#E5E5E5"> first of all what</font>

627
00:25:19,549 --> 00:25:24,980
we would do<font color="#CCCCCC"> we're gonna extract that</font>

628
00:25:22,009 --> 00:25:27,620
particular key<font color="#E5E5E5"> from</font><font color="#CCCCCC"> the memory</font><font color="#E5E5E5"> yeah and</font>

629
00:25:24,980 --> 00:25:32,059
for that purpose<font color="#CCCCCC"> we wrote the tool</font><font color="#E5E5E5"> and</font>

630
00:25:27,620 --> 00:25:34,549
this one is called<font color="#E5E5E5"> a CQ</font><font color="#CCCCCC"> else's secrets</font>

631
00:25:32,059 --> 00:25:37,279
<font color="#CCCCCC">dumper</font><font color="#E5E5E5"> and secure else's</font><font color="#CCCCCC"> secret lumper</font>

632
00:25:34,549 --> 00:25:39,830
has one<font color="#E5E5E5"> parameter called file and</font><font color="#CCCCCC"> that</font>

633
00:25:37,279 --> 00:25:43,070
particular file<font color="#E5E5E5"> so parameter file let's</font>

634
00:25:39,830 --> 00:25:46,309
do it<font color="#CCCCCC"> and we're gonna do export</font><font color="#E5E5E5"> that pfx</font>

635
00:25:43,070 --> 00:25:47,990
<font color="#CCCCCC">we'll just give here</font><font color="#E5E5E5"> typo we'll just</font>

636
00:25:46,309 --> 00:25:50,029
give her<font color="#E5E5E5"> a not give here and I'm in a</font>

637
00:25:47,990 --> 00:25:54,919
name<font color="#E5E5E5"> of the file and that's pretty much</font>

638
00:25:50,029 --> 00:25:59,149
<font color="#E5E5E5">it so that exported pfx has a certain</font>

639
00:25:54,919 --> 00:26:01,220
type<font color="#CCCCCC"> of identifier and that particular</font>

640
00:25:59,149 --> 00:26:03,080
identifier<font color="#E5E5E5"> that</font><font color="#CCCCCC"> is displayed</font><font color="#E5E5E5"> on the</font>

641
00:26:01,220 --> 00:26:05,509
screen as you see is the<font color="#CCCCCC"> one that is</font>

642
00:26:03,080 --> 00:26:07,580
preferred from<font color="#CCCCCC"> ad so this is also what</font>

643
00:26:05,509 --> 00:26:08,840
you<font color="#E5E5E5"> will find in the entity so did as a</font>

644
00:26:07,580 --> 00:26:11,629
preferred key so that's the one<font color="#CCCCCC"> who's</font>

645
00:26:08,840 --> 00:26:14,389
currently<font color="#E5E5E5"> used so if we do import this</font>

646
00:26:11,629 --> 00:26:17,750
<font color="#E5E5E5">guy that's quite interesting</font><font color="#CCCCCC"> password</font><font color="#E5E5E5"> is</font>

647
00:26:14,389 --> 00:26:22,789
small letters<font color="#E5E5E5"> secure dong dong dong</font>

648
00:26:17,750 --> 00:26:25,789
<font color="#E5E5E5">thank you cert MGR dot C let's do it and</font>

649
00:26:22,789 --> 00:26:28,570
if we go to<font color="#E5E5E5"> the personal then you see</font>

650
00:26:25,789 --> 00:26:31,220
this<font color="#E5E5E5"> very</font><font color="#CCCCCC"> interesting type of</font><font color="#E5E5E5"> a</font>

651
00:26:28,570 --> 00:26:35,120
certificate that<font color="#CCCCCC"> if we have a closer</font>

652
00:26:31,220 --> 00:26:37,490
look<font color="#E5E5E5"> at what's that yes then basically</font>

653
00:26:35,120 --> 00:26:39,649
<font color="#E5E5E5">um</font><font color="#CCCCCC"> you can tell that it's a very</font>

654
00:26:37,490 --> 00:26:43,399
interesting certificate that has like

655
00:26:39,649 --> 00:26:46,998
empty - empty<font color="#E5E5E5"> by and it's</font>

656
00:26:43,399 --> 00:26:48,949
already invalid<font color="#E5E5E5"> that's not cool why not</font>

657
00:26:46,999 --> 00:26:51,259
well do you have any impact on<font color="#CCCCCC"> that</font>

658
00:26:48,950 --> 00:26:53,210
<font color="#E5E5E5">answer</font><font color="#CCCCCC"> is no so if you generated</font><font color="#E5E5E5"> your</font>

659
00:26:51,259 --> 00:26:56,239
domain<font color="#CCCCCC"> if</font><font color="#E5E5E5"> you set up</font><font color="#CCCCCC"> your</font><font color="#E5E5E5"> domain like in</font>

660
00:26:53,210 --> 00:26:58,429
2008 or something<font color="#E5E5E5"> this is the time when</font>

661
00:26:56,239 --> 00:27:01,909
this was<font color="#E5E5E5"> valid</font><font color="#CCCCCC"> for one year</font><font color="#E5E5E5"> up to 2009</font>

662
00:26:58,429 --> 00:27:04,099
<font color="#E5E5E5">and that's it yes we've been to Redmond</font>

663
00:27:01,909 --> 00:27:05,779
in our team we've got<font color="#CCCCCC"> a group</font><font color="#E5E5E5"> of MVPs we</font>

664
00:27:04,099 --> 00:27:07,729
travel there<font color="#CCCCCC"> and regularly</font><font color="#E5E5E5"> literally and</font>

665
00:27:05,779 --> 00:27:11,299
<font color="#CCCCCC">that is not something that</font><font color="#E5E5E5"> is about to</font>

666
00:27:07,729 --> 00:27:13,759
<font color="#CCCCCC">be changed shortly yeah so you like</font><font color="#E5E5E5"> it</font>

667
00:27:11,299 --> 00:27:17,179
or not<font color="#E5E5E5"> you have to live with</font><font color="#CCCCCC"> this</font><font color="#E5E5E5"> so if</font>

668
00:27:13,759 --> 00:27:18,979
we have a<font color="#E5E5E5"> look at more details then we</font>

669
00:27:17,179 --> 00:27:21,559
can see over<font color="#CCCCCC"> here that is actually</font>

670
00:27:18,979 --> 00:27:24,139
<font color="#E5E5E5">leveraging as well</font><font color="#CCCCCC"> schwa 1 not everybody</font>

671
00:27:21,559 --> 00:27:25,639
will be<font color="#CCCCCC"> happy probably</font><font color="#E5E5E5"> about that but in</font>

672
00:27:24,139 --> 00:27:29,209
this area<font color="#CCCCCC"> I</font><font color="#E5E5E5"> can tell you that it's</font><font color="#CCCCCC"> not</font>

673
00:27:25,639 --> 00:27:30,830
that<font color="#CCCCCC"> bad could be worse so this one can</font>

674
00:27:29,210 --> 00:27:33,080
be<font color="#CCCCCC"> forgiven at some point</font><font color="#E5E5E5"> unless you've</font>

675
00:27:30,830 --> 00:27:35,658
<font color="#E5E5E5">got some other standards but this is</font><font color="#CCCCCC"> or</font>

676
00:27:33,080 --> 00:27:37,849
of<font color="#CCCCCC"> course a certificate</font><font color="#E5E5E5"> that we all have</font>

677
00:27:35,659 --> 00:27:40,669
and that private<font color="#E5E5E5"> key that we have just</font>

678
00:27:37,849 --> 00:27:44,178
exported it will be the one to decrypt

679
00:27:40,669 --> 00:27:47,210
<font color="#CCCCCC">of course that particular value that was</font>

680
00:27:44,179 --> 00:27:47,719
<font color="#E5E5E5">on the client</font><font color="#CCCCCC"> site</font><font color="#E5E5E5"> of here yes so let's</font>

681
00:27:47,210 --> 00:27:50,029
work<font color="#E5E5E5"> on</font><font color="#CCCCCC"> that</font>

682
00:27:47,719 --> 00:27:51,679
<font color="#E5E5E5">so how that's gonna work</font><font color="#CCCCCC"> well that's</font>

683
00:27:50,029 --> 00:27:53,839
gonna<font color="#E5E5E5"> work in the following way we need</font>

684
00:27:51,679 --> 00:27:56,570
to<font color="#E5E5E5"> open</font><font color="#CCCCCC"> up the console</font><font color="#E5E5E5"> as a regular user</font>

685
00:27:53,839 --> 00:27:59,059
<font color="#CCCCCC">and we need to find out the</font><font color="#E5E5E5"> master key</font>

686
00:27:56,570 --> 00:28:01,908
<font color="#CCCCCC">that is corresponding</font><font color="#E5E5E5"> to</font><font color="#CCCCCC"> that secret</font>

687
00:27:59,059 --> 00:28:04,009
<font color="#CCCCCC">with the password of</font><font color="#E5E5E5"> Chrome how do we do</font>

688
00:28:01,909 --> 00:28:05,629
<font color="#CCCCCC">that</font><font color="#E5E5E5"> well I will explain it verbally</font>

689
00:28:04,009 --> 00:28:08,509
<font color="#CCCCCC">because otherwise it's gonna take some</font>

690
00:28:05,629 --> 00:28:11,809
time<font color="#CCCCCC"> we've got a tool it's called</font>

691
00:28:08,509 --> 00:28:14,149
seek UDP IP I blob searcher<font color="#E5E5E5"> you take it</font>

692
00:28:11,809 --> 00:28:15,678
and you run<font color="#CCCCCC"> it on</font><font color="#E5E5E5"> a certain</font><font color="#CCCCCC"> folder</font><font color="#E5E5E5"> you</font>

693
00:28:14,149 --> 00:28:17,899
can<font color="#E5E5E5"> run it on a whole C Drive by the way</font>

694
00:28:15,679 --> 00:28:19,820
is<font color="#E5E5E5"> very interesting activity to see how</font>

695
00:28:17,899 --> 00:28:23,689
<font color="#E5E5E5">many secrets you've got in your windows</font>

696
00:28:19,820 --> 00:28:25,908
<font color="#E5E5E5">and</font><font color="#CCCCCC"> it lists</font><font color="#E5E5E5"> us blobs and if at least</font>

697
00:28:23,690 --> 00:28:27,679
sub sub lists a blob from the<font color="#E5E5E5"> chrome</font>

698
00:28:25,909 --> 00:28:29,659
folder in<font color="#E5E5E5"> a user's profile I mean</font>

699
00:28:27,679 --> 00:28:31,849
obviously that's<font color="#CCCCCC"> the place you take</font><font color="#E5E5E5"> that</font>

700
00:28:29,659 --> 00:28:34,129
blob<font color="#E5E5E5"> you drop it</font><font color="#CCCCCC"> into some kind of a hex</font>

701
00:28:31,849 --> 00:28:35,869
editor<font color="#CCCCCC"> and at the</font><font color="#E5E5E5"> very beginning not</font>

702
00:28:34,129 --> 00:28:37,939
that very beginning<font color="#CCCCCC"> but a little</font><font color="#E5E5E5"> bit</font>

703
00:28:35,869 --> 00:28:40,428
<font color="#E5E5E5">further down</font><font color="#CCCCCC"> you'll be able to see the</font>

704
00:28:37,940 --> 00:28:42,229
identifier of the master key this<font color="#E5E5E5"> is how</font>

705
00:28:40,429 --> 00:28:44,809
you do<font color="#CCCCCC"> it</font><font color="#E5E5E5"> so that's really</font><font color="#CCCCCC"> the only</font><font color="#E5E5E5"> way</font>

706
00:28:42,229 --> 00:28:47,239
that<font color="#E5E5E5"> we found out so I already know</font>

707
00:28:44,809 --> 00:28:49,820
which one that<font color="#E5E5E5"> would be but let's have a</font>

708
00:28:47,239 --> 00:28:52,369
<font color="#E5E5E5">look at the four different</font><font color="#CCCCCC"> steps</font><font color="#E5E5E5"> so</font><font color="#CCCCCC"> that</font>

709
00:28:49,820 --> 00:28:53,928
<font color="#E5E5E5">particular secret it's supposed to be</font>

710
00:28:52,369 --> 00:28:56,720
decrypted<font color="#E5E5E5"> with this private key on the</font>

711
00:28:53,929 --> 00:28:59,419
<font color="#E5E5E5">DC's memory encrypted with</font>

712
00:28:56,720 --> 00:29:01,309
my current<font color="#E5E5E5"> password hush</font><font color="#CCCCCC"> all right</font><font color="#E5E5E5"> why</font>

713
00:28:59,419 --> 00:29:04,159
like<font color="#CCCCCC"> that</font><font color="#E5E5E5"> because data protection API</font>

714
00:29:01,309 --> 00:29:05,210
cannot understand the clear text data<font color="#CCCCCC"> so</font>

715
00:29:04,159 --> 00:29:07,610
I have to encrypt it

716
00:29:05,210 --> 00:29:09,380
additionally so the data<font color="#E5E5E5"> protection</font><font color="#CCCCCC"> ID I</font>

717
00:29:07,610 --> 00:29:11,149
says oh<font color="#E5E5E5"> that's my</font><font color="#CCCCCC"> user's password heart</font>

718
00:29:09,380 --> 00:29:13,730
let me grab<font color="#E5E5E5"> it</font><font color="#CCCCCC"> oh okay this is how it's</font>

719
00:29:11,150 --> 00:29:15,440
how the secret<font color="#E5E5E5"> looks like so let's get</font>

720
00:29:13,730 --> 00:29:17,270
into that flow mmm

721
00:29:15,440 --> 00:29:20,630
so we're gonna get into<font color="#CCCCCC"> secret tools</font>

722
00:29:17,270 --> 00:29:22,460
data protection API and over here<font color="#E5E5E5"> first</font>

723
00:29:20,630 --> 00:29:25,580
of all what we will need<font color="#E5E5E5"> to do we will</font>

724
00:29:22,460 --> 00:29:28,010
<font color="#E5E5E5">need to</font><font color="#CCCCCC"> generate</font><font color="#E5E5E5"> the hash of the current</font>

725
00:29:25,580 --> 00:29:29,809
password<font color="#CCCCCC"> all right</font><font color="#E5E5E5"> that's going to be</font>

726
00:29:28,010 --> 00:29:33,530
used<font color="#CCCCCC"> for the encryption so my current</font>

727
00:29:29,809 --> 00:29:35,840
<font color="#CCCCCC">password is me me cons</font><font color="#E5E5E5"> and user it's not</font>

728
00:29:33,530 --> 00:29:37,970
<font color="#E5E5E5">prone to the username</font><font color="#CCCCCC"> but our tool</font>

729
00:29:35,840 --> 00:29:41,389
requires that and that is the<font color="#CCCCCC"> current</font>

730
00:29:37,970 --> 00:29:43,039
<font color="#E5E5E5">password hash</font><font color="#CCCCCC"> okay</font><font color="#E5E5E5"> md4 perfect so this</font>

731
00:29:41,390 --> 00:29:45,799
is the first parameter<font color="#E5E5E5"> that we will need</font>

732
00:29:43,039 --> 00:29:48,289
<font color="#CCCCCC">another</font><font color="#E5E5E5"> one</font><font color="#CCCCCC"> we're gonna use over here</font><font color="#E5E5E5"> a</font>

733
00:29:45,799 --> 00:29:50,690
tool as another tool that tool actually

734
00:29:48,289 --> 00:29:52,850
consists of a 41 different<font color="#E5E5E5"> little tiny</font>

735
00:29:50,690 --> 00:29:54,559
tools that we've<font color="#E5E5E5"> been</font><font color="#CCCCCC"> working</font><font color="#E5E5E5"> on but</font>

736
00:29:52,850 --> 00:29:57,230
<font color="#E5E5E5">it's very simple to be used right</font><font color="#CCCCCC"> now it</font>

737
00:29:54,559 --> 00:30:00,080
leverages three parameters one it's the

738
00:29:57,230 --> 00:30:02,480
<font color="#E5E5E5">pfx check we have</font><font color="#CCCCCC"> this second new</font>

739
00:30:00,080 --> 00:30:04,610
password hash check we<font color="#CCCCCC"> have this another</font>

740
00:30:02,480 --> 00:30:07,070
one is the master<font color="#E5E5E5"> key that we will need</font>

741
00:30:04,610 --> 00:30:08,959
<font color="#E5E5E5">to</font><font color="#CCCCCC"> use to decrypt it</font><font color="#E5E5E5"> and that's</font><font color="#CCCCCC"> that one</font>

742
00:30:07,070 --> 00:30:11,720
we don't<font color="#E5E5E5"> have yet but that is</font><font color="#CCCCCC"> quite easy</font>

743
00:30:08,960 --> 00:30:13,130
<font color="#CCCCCC">so we're gonna do</font><font color="#E5E5E5"> it like this master</font>

744
00:30:11,720 --> 00:30:17,210
<font color="#CCCCCC">key ad</font><font color="#E5E5E5"> here we go</font>

745
00:30:13,130 --> 00:30:18,770
then we're gonna do new hash and<font color="#E5E5E5"> I'm</font>

746
00:30:17,210 --> 00:30:20,270
<font color="#E5E5E5">gonna just put in what I've got it</font>

747
00:30:18,770 --> 00:30:22,820
<font color="#E5E5E5">doesn't have to be in the order</font><font color="#CCCCCC"> P</font>

748
00:30:20,270 --> 00:30:25,280
<font color="#CCCCCC">effects another one and I have over here</font>

749
00:30:22,820 --> 00:30:27,080
and<font color="#E5E5E5"> that</font><font color="#CCCCCC"> pfx</font><font color="#E5E5E5"> and then we've got file and</font>

750
00:30:25,280 --> 00:30:29,330
that file I<font color="#E5E5E5"> will need to grab from</font><font color="#CCCCCC"> the</font>

751
00:30:27,080 --> 00:30:31,699
<font color="#CCCCCC">user's profile yeah</font><font color="#E5E5E5"> so let's see where</font>

752
00:30:29,330 --> 00:30:36,379
that that<font color="#E5E5E5"> stuff's gonna be I'm gonna</font>

753
00:30:31,700 --> 00:30:39,610
technically do<font color="#CCCCCC"> % up data %</font><font color="#E5E5E5"> here we go</font>

754
00:30:36,380 --> 00:30:43,400
<font color="#CCCCCC">and then we're going to go to Microsoft</font>

755
00:30:39,610 --> 00:30:46,520
<font color="#CCCCCC">Project</font><font color="#E5E5E5"> and</font><font color="#CCCCCC"> of course we're</font><font color="#E5E5E5"> gonna get</font>

756
00:30:43,400 --> 00:30:49,039
into<font color="#E5E5E5"> city of the user bring it on and</font>

757
00:30:46,520 --> 00:30:51,590
then we're gonna find out our key<font color="#E5E5E5"> yeah</font>

758
00:30:49,039 --> 00:30:53,720
so our<font color="#E5E5E5"> key</font><font color="#CCCCCC"> or should</font><font color="#E5E5E5"> be somewhere let's</font>

759
00:30:51,590 --> 00:30:55,760
just go pitch down pitch down here we go

760
00:30:53,720 --> 00:30:57,770
that will be this one<font color="#CCCCCC"> I have it marked</font>

761
00:30:55,760 --> 00:31:00,879
<font color="#E5E5E5">as you see by the other key and I'm</font>

762
00:30:57,770 --> 00:31:05,600
gonna shift<font color="#CCCCCC"> right click copy as</font><font color="#E5E5E5"> path</font>

763
00:31:00,880 --> 00:31:09,510
<font color="#E5E5E5">click and we have it here</font><font color="#CCCCCC"> file paste so</font>

764
00:31:05,600 --> 00:31:13,230
what happens is that<font color="#E5E5E5"> this generates and</font>

765
00:31:09,510 --> 00:31:16,020
another new type of<font color="#CCCCCC"> aqui</font><font color="#E5E5E5"> let me just go</font>

766
00:31:13,230 --> 00:31:18,150
to<font color="#CCCCCC"> the bottom</font><font color="#E5E5E5"> this one ad modified and</font>

767
00:31:16,020 --> 00:31:20,100
this is<font color="#E5E5E5"> something that we're gonna we</font>

768
00:31:18,150 --> 00:31:22,560
gonna rename yes<font color="#E5E5E5"> but before we do that</font>

769
00:31:20,100 --> 00:31:30,179
that<font color="#E5E5E5"> guy needs to</font><font color="#CCCCCC"> be gone so let</font><font color="#E5E5E5"> me just</font>

770
00:31:22,560 --> 00:31:31,950
rename it<font color="#CCCCCC"> good</font><font color="#E5E5E5"> here we go yeah we can</font>

771
00:31:30,180 --> 00:31:33,660
leave it this way<font color="#CCCCCC"> and</font><font color="#E5E5E5"> that got ad</font>

772
00:31:31,950 --> 00:31:39,540
modified<font color="#CCCCCC"> let's just do that</font>

773
00:31:33,660 --> 00:31:42,270
<font color="#E5E5E5">rename here we go</font><font color="#CCCCCC"> okay fine</font>

774
00:31:39,540 --> 00:31:44,520
yep what's gonna<font color="#E5E5E5"> happen over here</font><font color="#CCCCCC"> is</font>

775
00:31:42,270 --> 00:31:47,460
that I will need to change here an

776
00:31:44,520 --> 00:31:50,430
attribute for<font color="#CCCCCC"> the system and hidden yeah</font>

777
00:31:47,460 --> 00:31:54,930
that is basically<font color="#E5E5E5"> the flow so let's just</font>

778
00:31:50,430 --> 00:31:57,480
copy<font color="#E5E5E5"> that paste</font><font color="#CCCCCC"> enter and for now on</font>

779
00:31:54,930 --> 00:32:00,780
<font color="#E5E5E5">we're able hopefully hopefully</font><font color="#CCCCCC"> I'll just</font>

780
00:31:57,480 --> 00:32:02,970
<font color="#CCCCCC">f5</font><font color="#E5E5E5"> yep to see the password</font><font color="#CCCCCC"> of that</font>

781
00:32:00,780 --> 00:32:07,560
particular user<font color="#E5E5E5"> yeah so what just</font>

782
00:32:02,970 --> 00:32:09,540
happened to explain is that<font color="#E5E5E5"> we have by</font>

783
00:32:07,560 --> 00:32:11,159
extracting<font color="#CCCCCC"> some information from the</font>

784
00:32:09,540 --> 00:32:12,750
<font color="#CCCCCC">Active Directory which is</font><font color="#E5E5E5"> the private</font>

785
00:32:11,160 --> 00:32:14,700
key corresponding to that public key

786
00:32:12,750 --> 00:32:17,190
that encrypts everybody's<font color="#CCCCCC"> secrets within</font>

787
00:32:14,700 --> 00:32:19,830
the domain<font color="#E5E5E5"> managed to decrypt a secret</font>

788
00:32:17,190 --> 00:32:24,150
of the user was a conclusion conclusion

789
00:32:19,830 --> 00:32:27,060
is that<font color="#E5E5E5"> a for the local users our</font>

790
00:32:24,150 --> 00:32:30,120
secrets are as<font color="#E5E5E5"> protected as our password</font>

791
00:32:27,060 --> 00:32:32,280
strength is for the domain users<font color="#E5E5E5"> our</font>

792
00:32:30,120 --> 00:32:37,189
secrets<font color="#E5E5E5"> are protected as our password</font>

793
00:32:32,280 --> 00:32:41,160
strength is and as our domain admin is

794
00:32:37,190 --> 00:32:43,140
so to say<font color="#CCCCCC"> which means if you</font><font color="#E5E5E5"> have access</font>

795
00:32:41,160 --> 00:32:45,240
<font color="#CCCCCC">to the domain</font><font color="#E5E5E5"> admins accounts you have</font><font color="#CCCCCC"> a</font>

796
00:32:43,140 --> 00:32:46,470
power and we all know<font color="#E5E5E5"> that but yet</font>

797
00:32:45,240 --> 00:32:49,560
<font color="#E5E5E5">that's just another reason</font><font color="#CCCCCC"> for</font>

798
00:32:46,470 --> 00:32:52,500
<font color="#E5E5E5">protecting a pretty nice server type and</font>

799
00:32:49,560 --> 00:32:55,350
<font color="#CCCCCC">the second</font><font color="#E5E5E5"> thing is that domain admins</font>

800
00:32:52,500 --> 00:32:56,490
in<font color="#E5E5E5"> general we all know that they should</font>

801
00:32:55,350 --> 00:32:58,740
<font color="#E5E5E5">be logging on only to the domain</font>

802
00:32:56,490 --> 00:33:00,990
controllers if there should<font color="#E5E5E5"> be in</font>

803
00:32:58,740 --> 00:33:03,780
general<font color="#CCCCCC"> out there</font><font color="#E5E5E5"> maybe they should</font><font color="#CCCCCC"> be</font>

804
00:33:00,990 --> 00:33:05,160
<font color="#E5E5E5">basically just password generated stored</font>

805
00:33:03,780 --> 00:33:07,500
in a safe<font color="#E5E5E5"> somewhere and nobody really</font>

806
00:33:05,160 --> 00:33:09,030
leverages these accounts<font color="#E5E5E5"> and if it's</font>

807
00:33:07,500 --> 00:33:11,910
about the domain controllers backup and

808
00:33:09,030 --> 00:33:14,550
access<font color="#E5E5E5"> to the offline data of the domain</font>

809
00:33:11,910 --> 00:33:19,020
controller<font color="#CCCCCC"> and TDS did and that's not</font>

810
00:33:14,550 --> 00:33:21,600
cool<font color="#E5E5E5"> is accessible by the boot key which</font>

811
00:33:19,020 --> 00:33:22,800
is in a system hive<font color="#E5E5E5"> so basically if you</font>

812
00:33:21,600 --> 00:33:25,919
<font color="#E5E5E5">want</font><font color="#CCCCCC"> to decrypt</font><font color="#E5E5E5"> the</font><font color="#CCCCCC"> high</font>

813
00:33:22,800 --> 00:33:28,110
of all<font color="#CCCCCC"> of</font><font color="#E5E5E5"> the users from the domain then</font>

814
00:33:25,920 --> 00:33:29,820
<font color="#CCCCCC">you</font><font color="#E5E5E5"> can still do</font><font color="#CCCCCC"> it by of course</font><font color="#E5E5E5"> having</font>

815
00:33:28,110 --> 00:33:32,159
an offline access to the<font color="#CCCCCC"> domain</font><font color="#E5E5E5"> and this</font>

816
00:33:29,820 --> 00:33:34,260
<font color="#E5E5E5">will be also possible</font><font color="#CCCCCC"> to the Crypt is</font>

817
00:33:32,160 --> 00:33:36,780
<font color="#CCCCCC">backup private key that I was showing</font>

818
00:33:34,260 --> 00:33:38,340
<font color="#E5E5E5">during the presentation</font><font color="#CCCCCC"> so how the main</font>

819
00:33:36,780 --> 00:33:39,810
controllers protection<font color="#E5E5E5"> should look like</font>

820
00:33:38,340 --> 00:33:41,850
<font color="#CCCCCC">there are a</font><font color="#E5E5E5"> couple of things to be</font>

821
00:33:39,810 --> 00:33:44,669
<font color="#E5E5E5">applied offline protection that's</font>

822
00:33:41,850 --> 00:33:46,649
definitely<font color="#E5E5E5"> F must controlling of who is</font>

823
00:33:44,670 --> 00:33:48,360
<font color="#E5E5E5">logging on and what</font><font color="#CCCCCC"> kind of users do you</font>

824
00:33:46,650 --> 00:33:50,130
have operating in your<font color="#E5E5E5"> infrastructure in</font>

825
00:33:48,360 --> 00:33:52,620
general code execution prevention

826
00:33:50,130 --> 00:33:55,650
preventing performing the memory dump

827
00:33:52,620 --> 00:33:58,739
<font color="#E5E5E5">etc and these are the three major steps</font>

828
00:33:55,650 --> 00:34:01,350
that<font color="#E5E5E5"> will hopefully keep</font><font color="#CCCCCC"> your domain</font>

829
00:33:58,740 --> 00:34:05,130
controller untouched<font color="#CCCCCC"> so that</font><font color="#E5E5E5"> nobody is</font>

830
00:34:01,350 --> 00:34:08,250
able<font color="#E5E5E5"> to extract</font><font color="#CCCCCC"> that</font><font color="#E5E5E5"> kind of a data</font><font color="#CCCCCC"> cool</font>

831
00:34:05,130 --> 00:34:11,370
so with this positive accent let's move

832
00:34:08,250 --> 00:34:12,418
to the<font color="#E5E5E5"> next part which</font><font color="#CCCCCC"> is can we go like</font>

833
00:34:11,370 --> 00:34:14,009
farther than that

834
00:34:12,418 --> 00:34:16,980
can we do a<font color="#E5E5E5"> little bit of a bigger</font>

835
00:34:14,010 --> 00:34:18,300
<font color="#E5E5E5">massacre yes of course and I will</font>

836
00:34:16,980 --> 00:34:21,659
<font color="#E5E5E5">explain as well how we are able to</font>

837
00:34:18,300 --> 00:34:24,300
secure<font color="#CCCCCC"> from that yeah so what else can</font>

838
00:34:21,659 --> 00:34:27,090
we<font color="#E5E5E5"> extract so to say while we have these</font>

839
00:34:24,300 --> 00:34:29,159
kind of accesses well yeah we could say

840
00:34:27,090 --> 00:34:30,840
like everything<font color="#CCCCCC"> that is really encrypted</font>

841
00:34:29,159 --> 00:34:33,000
this way<font color="#E5E5E5"> yes</font><font color="#CCCCCC"> but I would</font><font color="#E5E5E5"> like to show</font>

842
00:34:30,840 --> 00:34:35,550
<font color="#E5E5E5">you this</font><font color="#CCCCCC"> okay</font><font color="#E5E5E5"> so that's gonna</font><font color="#CCCCCC"> be</font><font color="#E5E5E5"> the</font>

843
00:34:33,000 --> 00:34:38,668
flow<font color="#E5E5E5"> so that's another machine</font><font color="#CCCCCC"> that I</font>

844
00:34:35,550 --> 00:34:42,179
have when I found out<font color="#E5E5E5"> that</font><font color="#CCCCCC"> the user</font>

845
00:34:38,668 --> 00:34:44,040
basically has a possibility<font color="#E5E5E5"> hasip has a</font>

846
00:34:42,179 --> 00:34:45,929
<font color="#E5E5E5">key possum and I would like to</font><font color="#CCCCCC"> get</font>

847
00:34:44,040 --> 00:34:47,429
access<font color="#E5E5E5"> to the keepers of the user yeah</font>

848
00:34:45,929 --> 00:34:49,770
how can<font color="#CCCCCC"> we do that</font>

849
00:34:47,429 --> 00:34:51,899
well if the user is<font color="#E5E5E5"> just protecting keep</font>

850
00:34:49,770 --> 00:34:54,929
us with a password<font color="#E5E5E5"> which I believe most</font>

851
00:34:51,899 --> 00:34:56,399
<font color="#E5E5E5">of you do then well you can torture</font><font color="#CCCCCC"> a</font>

852
00:34:54,929 --> 00:34:58,650
person that would<font color="#CCCCCC"> be</font><font color="#E5E5E5"> pretty</font><font color="#CCCCCC"> much</font><font color="#E5E5E5"> the</font>

853
00:34:56,399 --> 00:35:00,210
<font color="#E5E5E5">only way I</font><font color="#CCCCCC"> would</font><font color="#E5E5E5"> leave but it in the</font>

854
00:34:58,650 --> 00:35:02,730
other case if the user is actually

855
00:35:00,210 --> 00:35:04,620
relying on a single<font color="#CCCCCC"> sign-on for</font><font color="#E5E5E5"> Windows</font>

856
00:35:02,730 --> 00:35:06,510
then that's a<font color="#E5E5E5"> good message for you</font>

857
00:35:04,620 --> 00:35:08,640
because<font color="#E5E5E5"> then you were like great then</font>

858
00:35:06,510 --> 00:35:10,710
data protection API comes to place<font color="#E5E5E5"> just</font>

859
00:35:08,640 --> 00:35:13,470
another secret<font color="#CCCCCC"> let's</font><font color="#E5E5E5"> move forward</font><font color="#CCCCCC"> so</font>

860
00:35:10,710 --> 00:35:16,440
what I have over<font color="#CCCCCC"> here is I do have</font><font color="#E5E5E5"> over</font>

861
00:35:13,470 --> 00:35:18,480
<font color="#E5E5E5">here the C Q base that's the data base</font>

862
00:35:16,440 --> 00:35:19,920
<font color="#CCCCCC">of the user</font><font color="#E5E5E5"> what I will do</font><font color="#CCCCCC"> over here I</font>

863
00:35:18,480 --> 00:35:22,110
will<font color="#CCCCCC"> type the password that I will type</font>

864
00:35:19,920 --> 00:35:24,750
in later<font color="#E5E5E5"> so</font><font color="#CCCCCC"> that you see</font><font color="#E5E5E5"> that right now</font>

865
00:35:22,110 --> 00:35:26,460
<font color="#CCCCCC">it doesn't</font><font color="#E5E5E5"> work it's a secure</font><font color="#CCCCCC"> small</font>

866
00:35:24,750 --> 00:35:29,490
letters enter and as you see I'm not

867
00:35:26,460 --> 00:35:32,220
<font color="#E5E5E5">getting</font><font color="#CCCCCC"> access to</font><font color="#E5E5E5"> it but what I've got</font>

868
00:35:29,490 --> 00:35:34,470
<font color="#E5E5E5">access</font><font color="#CCCCCC"> to it's the master keys of the</font>

869
00:35:32,220 --> 00:35:36,000
users<font color="#CCCCCC"> that I'm able</font><font color="#E5E5E5"> to decrypt because I</font>

870
00:35:34,470 --> 00:35:37,859
have this<font color="#E5E5E5"> pfx</font><font color="#CCCCCC"> I already</font>

871
00:35:36,000 --> 00:35:40,230
this operation<font color="#E5E5E5"> so now I'm gonna shorten</font>

872
00:35:37,860 --> 00:35:42,090
<font color="#E5E5E5">it a little bit and what I'm gonna do</font>

873
00:35:40,230 --> 00:35:44,940
I'm<font color="#E5E5E5"> gonna sort as you see that doesn't</font>

874
00:35:42,090 --> 00:35:47,430
<font color="#CCCCCC">work</font><font color="#E5E5E5"> I'm gonna take this master key in a</font>

875
00:35:44,940 --> 00:35:49,620
<font color="#E5E5E5">clear text of the user so this is the</font>

876
00:35:47,430 --> 00:35:52,080
one and I will work on the<font color="#CCCCCC"> key pass</font>

877
00:35:49,620 --> 00:35:55,190
database now keep a database<font color="#E5E5E5"> works in a</font>

878
00:35:52,080 --> 00:35:59,100
following way yeah so here we've<font color="#CCCCCC"> got</font>

879
00:35:55,190 --> 00:36:02,160
well as you see um let me<font color="#CCCCCC"> check not the</font>

880
00:35:59,100 --> 00:36:04,650
<font color="#E5E5E5">backup no no sorry not my fault my fault</font>

881
00:36:02,160 --> 00:36:07,290
<font color="#CCCCCC">let me show this to you again so that we</font>

882
00:36:04,650 --> 00:36:09,450
<font color="#E5E5E5">got it</font><font color="#CCCCCC"> I just want to use</font><font color="#E5E5E5"> this folder</font><font color="#CCCCCC"> as</font>

883
00:36:07,290 --> 00:36:10,860
you see that's the<font color="#CCCCCC"> same it's the same</font>

884
00:36:09,450 --> 00:36:12,870
type of a file<font color="#CCCCCC"> oh here we go that's</font>

885
00:36:10,860 --> 00:36:15,570
<font color="#CCCCCC">better</font><font color="#E5E5E5"> so over here we've got a</font>

886
00:36:12,870 --> 00:36:18,870
protected user key bin and that's the

887
00:36:15,570 --> 00:36:21,360
pure data protection<font color="#E5E5E5"> API blob so that</font>

888
00:36:18,870 --> 00:36:23,400
blob is decrypted by the master key<font color="#CCCCCC"> that</font>

889
00:36:21,360 --> 00:36:25,680
I have that blob will give me the key

890
00:36:23,400 --> 00:36:27,810
and<font color="#E5E5E5"> that key</font><font color="#CCCCCC"> we'll be able</font><font color="#E5E5E5"> to</font><font color="#CCCCCC"> get</font><font color="#E5E5E5"> access</font>

891
00:36:25,680 --> 00:36:29,580
<font color="#E5E5E5">to that database that's how it works</font><font color="#CCCCCC"> for</font>

892
00:36:27,810 --> 00:36:31,440
keep us<font color="#E5E5E5"> that's how it works for LastPass</font>

893
00:36:29,580 --> 00:36:34,529
<font color="#E5E5E5">and any other type of a credential</font>

894
00:36:31,440 --> 00:36:38,280
manager<font color="#E5E5E5"> type of a solution so what we're</font>

895
00:36:34,530 --> 00:36:41,910
gonna do now let's<font color="#E5E5E5"> get into analysis or</font>

896
00:36:38,280 --> 00:36:44,340
<font color="#CCCCCC">eventually we got</font><font color="#E5E5E5"> also tools</font><font color="#CCCCCC"> and within</font>

897
00:36:41,910 --> 00:36:46,170
our tools<font color="#E5E5E5"> we're gonna be using two tools</font>

898
00:36:44,340 --> 00:36:48,420
over<font color="#CCCCCC"> here for real one's gonna be there</font>

899
00:36:46,170 --> 00:36:51,600
and we have<font color="#CCCCCC"> a</font><font color="#E5E5E5"> horrible name so sorry</font>

900
00:36:48,420 --> 00:36:55,020
about this<font color="#E5E5E5"> CQ</font><font color="#CCCCCC"> DPA</font><font color="#E5E5E5"> API</font><font color="#CCCCCC"> whatever KeePass</font>

901
00:36:51,600 --> 00:36:57,810
DB<font color="#CCCCCC"> Decrypter</font><font color="#E5E5E5"> yeah and the CQ DPI API</font>

902
00:36:55,020 --> 00:37:00,870
blog<font color="#CCCCCC"> Decrypter so these two I'm gonna</font>

903
00:36:57,810 --> 00:37:03,420
<font color="#E5E5E5">use the first one first to the crypt</font>

904
00:37:00,870 --> 00:37:06,330
<font color="#E5E5E5">that a protected user</font><font color="#CCCCCC"> keep in file that</font>

905
00:37:03,420 --> 00:37:08,910
keep us leverages but first before I

906
00:37:06,330 --> 00:37:10,890
need<font color="#CCCCCC"> to do that</font><font color="#E5E5E5"> that file itself</font><font color="#CCCCCC"> it's</font>

907
00:37:08,910 --> 00:37:12,750
not only<font color="#E5E5E5"> encrypted with my master key</font>

908
00:37:10,890 --> 00:37:14,609
<font color="#E5E5E5">it's also a craven encrypted with the</font>

909
00:37:12,750 --> 00:37:16,530
entropy<font color="#E5E5E5"> remember at the very beginning</font>

910
00:37:14,610 --> 00:37:18,690
we said that the prediction API classic

911
00:37:16,530 --> 00:37:21,150
sometimes can use entropy entropy is

912
00:37:18,690 --> 00:37:22,890
<font color="#CCCCCC">really</font><font color="#E5E5E5"> funny if you</font><font color="#CCCCCC"> have access to the</font>

913
00:37:21,150 --> 00:37:25,230
machine<font color="#E5E5E5"> because</font><font color="#CCCCCC"> entropy is saved</font><font color="#E5E5E5"> always</font>

914
00:37:22,890 --> 00:37:28,170
<font color="#E5E5E5">in a form or never clear text for this</font>

915
00:37:25,230 --> 00:37:30,660
kind of solutions<font color="#E5E5E5"> so whether I like read</font>

916
00:37:28,170 --> 00:37:34,020
it from the<font color="#E5E5E5"> tool from registry etc then</font>

917
00:37:30,660 --> 00:37:35,910
I mean it makes things complex<font color="#CCCCCC"> but only</font>

918
00:37:34,020 --> 00:37:38,670
if<font color="#CCCCCC"> you're dealing with a pure data</font><font color="#E5E5E5"> but</font>

919
00:37:35,910 --> 00:37:41,399
if you have a context<font color="#CCCCCC"> it's just not a</font>

920
00:37:38,670 --> 00:37:44,280
complexity<font color="#CCCCCC"> over here so let's</font><font color="#E5E5E5"> just move</font>

921
00:37:41,400 --> 00:37:47,240
<font color="#CCCCCC">forward so we're gonna do C Q and just</font>

922
00:37:44,280 --> 00:37:49,070
enter here we go CQ data prediction API

923
00:37:47,240 --> 00:37:51,649
<font color="#CCCCCC">that meters</font>

924
00:37:49,070 --> 00:37:53,870
this<font color="#E5E5E5"> okay better later prediction API</font>

925
00:37:51,650 --> 00:37:56,720
<font color="#E5E5E5">blob the krypter that takes us a</font>

926
00:37:53,870 --> 00:37:58,910
parameter<font color="#E5E5E5"> master key</font><font color="#CCCCCC"> I have that entropy</font>

927
00:37:56,720 --> 00:38:01,939
<font color="#E5E5E5">I don't have that and blob</font><font color="#CCCCCC"> I have that</font>

928
00:37:58,910 --> 00:38:04,580
okay so let's get the entropy first<font color="#CCCCCC"> CQ</font>

929
00:38:01,940 --> 00:38:07,340
<font color="#E5E5E5">and that's another tool keep</font><font color="#CCCCCC"> our</font><font color="#E5E5E5"> CV</font>

930
00:38:04,580 --> 00:38:09,410
<font color="#CCCCCC">decrypter and this gives us an entropy</font>

931
00:38:07,340 --> 00:38:11,600
over here yes this is an entropy of keep

932
00:38:09,410 --> 00:38:14,450
us<font color="#E5E5E5"> fine</font><font color="#CCCCCC"> so what I</font><font color="#E5E5E5"> can do</font>

933
00:38:11,600 --> 00:38:17,390
CQ<font color="#E5E5E5"> data prediction API blob the krypter</font>

934
00:38:14,450 --> 00:38:20,000
master and<font color="#CCCCCC"> i have it</font><font color="#E5E5E5"> because</font><font color="#CCCCCC"> i already</font>

935
00:38:17,390 --> 00:38:27,109
<font color="#E5E5E5">copied that fantastic</font>

936
00:38:20,000 --> 00:38:33,830
then entropy<font color="#E5E5E5"> mm-hmm okay let me take</font>

937
00:38:27,110 --> 00:38:36,890
this<font color="#E5E5E5"> enter fine and we're gonna specify</font>

938
00:38:33,830 --> 00:38:40,279
over here<font color="#E5E5E5"> another part which</font><font color="#CCCCCC"> is of</font>

939
00:38:36,890 --> 00:38:43,700
<font color="#E5E5E5">course</font><font color="#CCCCCC"> the blob pian and our blob is in</font>

940
00:38:40,280 --> 00:38:47,690
the<font color="#CCCCCC"> c analysis and the protected user</font>

941
00:38:43,700 --> 00:38:50,290
cuban fine<font color="#E5E5E5"> yep great</font><font color="#CCCCCC"> so what happened is</font>

942
00:38:47,690 --> 00:38:53,750
that we have right now that decrypted

943
00:38:50,290 --> 00:38:56,779
the key that<font color="#E5E5E5"> is</font><font color="#CCCCCC"> used</font><font color="#E5E5E5"> to encrypt their</font>

944
00:38:53,750 --> 00:39:00,050
<font color="#CCCCCC">keep us database yeah</font><font color="#E5E5E5"> so here we go the</font>

945
00:38:56,780 --> 00:39:01,880
<font color="#E5E5E5">next stage</font><font color="#CCCCCC"> at the very last</font><font color="#E5E5E5"> stage is to</font>

946
00:39:00,050 --> 00:39:04,550
seek you<font color="#E5E5E5"> and then we're gonna do</font><font color="#CCCCCC"> that</font>

947
00:39:01,880 --> 00:39:06,530
<font color="#CCCCCC">our keep us DB decrypter and that takes</font>

948
00:39:04,550 --> 00:39:08,600
two parameters<font color="#E5E5E5"> key which we already have</font>

949
00:39:06,530 --> 00:39:10,190
<font color="#E5E5E5">and the file which we</font><font color="#CCCCCC"> already have</font>

950
00:39:08,600 --> 00:39:13,160
<font color="#E5E5E5">because it's our key</font><font color="#CCCCCC"> past database yeah</font>

951
00:39:10,190 --> 00:39:16,130
so let's move<font color="#CCCCCC"> forward</font><font color="#E5E5E5"> okay</font><font color="#CCCCCC"> four key and</font>

952
00:39:13,160 --> 00:39:18,080
then paste and then we've got file<font color="#E5E5E5"> and</font>

953
00:39:16,130 --> 00:39:21,500
then we're gonna do<font color="#CCCCCC"> see analysis and</font>

954
00:39:18,080 --> 00:39:24,680
this<font color="#E5E5E5"> is our CQ base</font><font color="#CCCCCC"> one k DB x perfect</font>

955
00:39:21,500 --> 00:39:26,830
<font color="#E5E5E5">that changed it to secure base one so</font>

956
00:39:24,680 --> 00:39:31,190
let's have a look of<font color="#E5E5E5"> what we got and</font>

957
00:39:26,830 --> 00:39:34,220
we've got the CQ base enter so it opens

958
00:39:31,190 --> 00:39:36,350
up<font color="#E5E5E5"> that if</font><font color="#CCCCCC"> i try</font><font color="#E5E5E5"> to type the</font><font color="#CCCCCC"> password</font>

959
00:39:34,220 --> 00:39:38,450
secure again because<font color="#CCCCCC"> our</font><font color="#E5E5E5"> we were</font>

960
00:39:36,350 --> 00:39:40,970
encrypted then<font color="#E5E5E5"> basically</font><font color="#CCCCCC"> were</font><font color="#E5E5E5"> able to</font>

961
00:39:38,450 --> 00:39:43,970
<font color="#E5E5E5">get access</font><font color="#CCCCCC"> to the key pass yeah so this</font>

962
00:39:40,970 --> 00:39:45,609
<font color="#CCCCCC">is</font><font color="#E5E5E5"> the power of having the full data</font>

963
00:39:43,970 --> 00:39:48,109
prediction API platform

964
00:39:45,610 --> 00:39:50,930
<font color="#E5E5E5">reverse-engineered any type of a secret</font>

965
00:39:48,110 --> 00:39:53,360
really<font color="#E5E5E5"> that you save that is saved by</font>

966
00:39:50,930 --> 00:39:55,879
using<font color="#E5E5E5"> the</font><font color="#CCCCCC"> windows</font><font color="#E5E5E5"> platform is pretty</font>

967
00:39:53,360 --> 00:39:58,250
much the<font color="#E5E5E5"> crypt able this way by</font>

968
00:39:55,880 --> 00:39:59,780
especially by the domain<font color="#E5E5E5"> admin now we</font>

969
00:39:58,250 --> 00:40:02,900
could<font color="#CCCCCC"> just play even more</font>

970
00:39:59,780 --> 00:40:06,230
so technically if we do have this

971
00:40:02,900 --> 00:40:09,230
particular<font color="#E5E5E5"> master key which we had in</font>

972
00:40:06,230 --> 00:40:11,240
<font color="#CCCCCC">the textile over</font><font color="#E5E5E5"> here then we could get</font>

973
00:40:09,230 --> 00:40:14,360
access<font color="#E5E5E5"> to this one we could get access</font>

974
00:40:11,240 --> 00:40:16,430
<font color="#CCCCCC">to</font><font color="#E5E5E5"> well all of</font><font color="#CCCCCC"> this type of</font><font color="#E5E5E5"> secrets</font><font color="#CCCCCC"> I</font>

975
00:40:14,360 --> 00:40:18,920
have<font color="#CCCCCC"> for you just another example just</font>

976
00:40:16,430 --> 00:40:21,109
<font color="#CCCCCC">to</font><font color="#E5E5E5"> give</font><font color="#CCCCCC"> you the</font><font color="#E5E5E5"> background that is it's</font>

977
00:40:18,920 --> 00:40:24,800
<font color="#E5E5E5">working for the</font><font color="#CCCCCC"> Remote Desktop</font>

978
00:40:21,110 --> 00:40:27,530
<font color="#E5E5E5">connections</font><font color="#CCCCCC"> part and if we get</font><font color="#E5E5E5"> into</font>

979
00:40:24,800 --> 00:40:30,950
tools<font color="#E5E5E5"> then I read</font><font color="#CCCCCC"> over here another</font><font color="#E5E5E5"> one</font>

980
00:40:27,530 --> 00:40:34,730
which is<font color="#E5E5E5"> related with</font><font color="#CCCCCC"> that our DC so the</font>

981
00:40:30,950 --> 00:40:37,609
or LDP or<font color="#E5E5E5"> a DC for the massive blob</font>

982
00:40:34,730 --> 00:40:39,860
<font color="#E5E5E5">files yes so let's just get into</font><font color="#CCCCCC"> the</font><font color="#E5E5E5"> air</font>

983
00:40:37,610 --> 00:40:42,020
<font color="#E5E5E5">DC here we go this</font><font color="#CCCCCC"> is</font><font color="#E5E5E5"> this one and it</font>

984
00:40:39,860 --> 00:40:44,900
takes file and master<font color="#E5E5E5"> so not a big</font><font color="#CCCCCC"> deal</font>

985
00:40:42,020 --> 00:40:47,450
<font color="#CCCCCC">we can technically use that master and</font>

986
00:40:44,900 --> 00:40:49,460
then we specify<font color="#CCCCCC"> that we paste it and</font>

987
00:40:47,450 --> 00:40:53,390
then<font color="#CCCCCC"> we do file as well and then we do</font>

988
00:40:49,460 --> 00:40:56,990
see analysis here we go<font color="#CCCCCC"> and then we</font>

989
00:40:53,390 --> 00:41:00,049
specify of course our secure connections

990
00:40:56,990 --> 00:41:01,700
<font color="#E5E5E5">and then these connections are they can</font>

991
00:41:00,050 --> 00:41:04,250
take and contain say it username and

992
00:41:01,700 --> 00:41:06,410
password<font color="#E5E5E5"> so</font><font color="#CCCCCC"> if you do use already</font><font color="#E5E5E5"> see a</font>

993
00:41:04,250 --> 00:41:08,270
connection manager yes then<font color="#E5E5E5"> basically</font>

994
00:41:06,410 --> 00:41:11,540
<font color="#CCCCCC">all these passwords they are the</font><font color="#E5E5E5"> cryptid</font>

995
00:41:08,270 --> 00:41:13,970
<font color="#E5E5E5">will just know that yeah</font><font color="#CCCCCC"> okay so this is</font>

996
00:41:11,540 --> 00:41:16,009
<font color="#CCCCCC">this is this part yeah</font><font color="#E5E5E5"> now question is</font>

997
00:41:13,970 --> 00:41:20,089
is<font color="#E5E5E5"> there any other place where the data</font>

998
00:41:16,010 --> 00:41:22,130
protection<font color="#CCCCCC"> API works</font><font color="#E5E5E5"> of course we've got</font>

999
00:41:20,090 --> 00:41:24,320
users related data protection<font color="#E5E5E5"> API</font>

1000
00:41:22,130 --> 00:41:27,380
classic<font color="#E5E5E5"> but we've got also system ones</font>

1001
00:41:24,320 --> 00:41:29,590
and that's<font color="#E5E5E5"> cool system meaning every</font>

1002
00:41:27,380 --> 00:41:32,690
single thing that you<font color="#E5E5E5"> save within them</font>

1003
00:41:29,590 --> 00:41:35,300
<font color="#E5E5E5">operating system as a secret is the</font>

1004
00:41:32,690 --> 00:41:38,240
corruptible<font color="#E5E5E5"> by yourself and it's also</font>

1005
00:41:35,300 --> 00:41:40,100
<font color="#CCCCCC">prom this time to offer an access so if</font>

1006
00:41:38,240 --> 00:41:42,020
you have<font color="#E5E5E5"> access</font><font color="#CCCCCC"> to the disk so to say</font>

1007
00:41:40,100 --> 00:41:43,640
<font color="#E5E5E5">then you</font><font color="#CCCCCC"> are</font><font color="#E5E5E5"> able to decrypt all these</font>

1008
00:41:42,020 --> 00:41:45,320
different types of values<font color="#CCCCCC"> and there are</font>

1009
00:41:43,640 --> 00:41:47,779
so<font color="#E5E5E5"> many places where the data prediction</font>

1010
00:41:45,320 --> 00:41:49,580
API system is actually<font color="#E5E5E5"> working</font><font color="#CCCCCC"> let me</font>

1011
00:41:47,780 --> 00:41:53,420
show you how you<font color="#CCCCCC"> are able</font><font color="#E5E5E5"> to leverage</font>

1012
00:41:49,580 --> 00:41:56,569
that<font color="#E5E5E5"> by for</font><font color="#CCCCCC"> example getting</font><font color="#E5E5E5"> into such a</font>

1013
00:41:53,420 --> 00:41:57,980
simple thing<font color="#CCCCCC"> like let's say I is</font><font color="#E5E5E5"> yeah so</font>

1014
00:41:56,570 --> 00:42:00,710
that's gonna<font color="#CCCCCC"> be</font><font color="#E5E5E5"> that that's gonna be</font><font color="#CCCCCC"> the</font>

1015
00:41:57,980 --> 00:42:03,620
<font color="#E5E5E5">flow so what we're gonna do this time so</font>

1016
00:42:00,710 --> 00:42:05,750
what I have and I'm gonna let's just<font color="#CCCCCC"> get</font>

1017
00:42:03,620 --> 00:42:08,060
into the full screen<font color="#E5E5E5"> what I have over</font>

1018
00:42:05,750 --> 00:42:10,310
<font color="#CCCCCC">here</font><font color="#E5E5E5"> it's the script that I'm gonna use</font>

1019
00:42:08,060 --> 00:42:13,070
in a second<font color="#E5E5E5"> that is allowing</font><font color="#CCCCCC"> me to</font>

1020
00:42:10,310 --> 00:42:13,610
<font color="#E5E5E5">extract the value from the registry that</font>

1021
00:42:13,070 --> 00:42:16,580
<font color="#E5E5E5">I</font>

1022
00:42:13,610 --> 00:42:19,040
uses it for the<font color="#E5E5E5"> centralized certificate</font>

1023
00:42:16,580 --> 00:42:23,240
store but first complex<font color="#E5E5E5"> is missing yes</font>

1024
00:42:19,040 --> 00:42:27,380
<font color="#E5E5E5">so let's</font><font color="#CCCCCC"> begin so within the eye is what</font>

1025
00:42:23,240 --> 00:42:29,479
<font color="#E5E5E5">is nice is that since is</font><font color="#CCCCCC"> eight</font><font color="#E5E5E5"> what</font><font color="#CCCCCC"> you</font>

1026
00:42:27,380 --> 00:42:31,790
<font color="#E5E5E5">got</font><font color="#CCCCCC"> it's the possibility to configure</font>

1027
00:42:29,480 --> 00:42:33,980
centralized certificates yeah these guys

1028
00:42:31,790 --> 00:42:37,550
now centralized certificates are quite

1029
00:42:33,980 --> 00:42:39,950
cool<font color="#E5E5E5"> because you are able</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> well update</font>

1030
00:42:37,550 --> 00:42:41,570
<font color="#CCCCCC">all the PF</font><font color="#E5E5E5"> X's with enough one central</font>

1031
00:42:39,950 --> 00:42:43,160
<font color="#CCCCCC">location and then you</font><font color="#E5E5E5"> don't need</font><font color="#CCCCCC"> to</font>

1032
00:42:41,570 --> 00:42:44,600
import<font color="#E5E5E5"> them in a personal container of</font>

1033
00:42:43,160 --> 00:42:46,520
the server<font color="#E5E5E5"> there are pros and</font><font color="#CCCCCC"> cons for</font>

1034
00:42:44,600 --> 00:42:49,100
<font color="#CCCCCC">that don't</font><font color="#E5E5E5"> get me wrong</font><font color="#CCCCCC"> one of the</font>

1035
00:42:46,520 --> 00:42:51,170
things that are not that cool<font color="#E5E5E5"> is that</font><font color="#CCCCCC"> if</font>

1036
00:42:49,100 --> 00:42:53,900
you do configure those so I'll edit

1037
00:42:51,170 --> 00:42:56,240
feature settings<font color="#E5E5E5"> you probably already</font>

1038
00:42:53,900 --> 00:42:58,520
noticed<font color="#CCCCCC"> that</font><font color="#E5E5E5"> I didn't select any of</font>

1039
00:42:56,240 --> 00:43:02,000
<font color="#E5E5E5">those certificates on the left in the</font>

1040
00:42:58,520 --> 00:43:03,920
<font color="#CCCCCC">left top</font><font color="#E5E5E5"> corner</font><font color="#CCCCCC"> I didn't and I here you</font>

1041
00:43:02,000 --> 00:43:05,690
<font color="#CCCCCC">have here in the bottom the possibility</font>

1042
00:43:03,920 --> 00:43:08,720
to configure the password<font color="#E5E5E5"> for the</font>

1043
00:43:05,690 --> 00:43:10,510
private key<font color="#E5E5E5"> what does it mean what's the</font>

1044
00:43:08,720 --> 00:43:14,000
<font color="#E5E5E5">problem</font>

1045
00:43:10,510 --> 00:43:16,160
the password<font color="#E5E5E5"> is the same yeah that's the</font>

1046
00:43:14,000 --> 00:43:19,310
<font color="#CCCCCC">thing</font><font color="#E5E5E5"> so you could be like a way where</font>

1047
00:43:16,160 --> 00:43:21,410
we wait<font color="#E5E5E5"> I have like 100 HTTP</font><font color="#CCCCCC"> web sites</font>

1048
00:43:19,310 --> 00:43:23,750
<font color="#CCCCCC">does</font><font color="#E5E5E5"> it mean that all of these PF X's</font>

1049
00:43:21,410 --> 00:43:27,069
have to have the same<font color="#E5E5E5"> password yes so</font>

1050
00:43:23,750 --> 00:43:29,360
you choose<font color="#CCCCCC"> okay no comments on</font><font color="#E5E5E5"> that so</font>

1051
00:43:27,070 --> 00:43:31,100
what I'm gonna do<font color="#CCCCCC"> I'm gonna</font><font color="#E5E5E5"> update</font><font color="#CCCCCC"> the</font>

1052
00:43:29,360 --> 00:43:33,470
password<font color="#CCCCCC"> whatever</font><font color="#E5E5E5"> so I'm just gonna</font>

1053
00:43:31,100 --> 00:43:36,319
specify<font color="#E5E5E5"> some kind of a password that</font><font color="#CCCCCC"> and</font>

1054
00:43:33,470 --> 00:43:38,029
that's<font color="#E5E5E5"> really dodgy in</font><font color="#CCCCCC"> eius I love is</font>

1055
00:43:36,320 --> 00:43:38,660
don't<font color="#E5E5E5"> get me wrong I</font><font color="#CCCCCC"> really do</font><font color="#E5E5E5"> but that</font>

1056
00:43:38,030 --> 00:43:41,480
thing<font color="#CCCCCC"> is weird</font>

1057
00:43:38,660 --> 00:43:42,980
<font color="#CCCCCC">ayuh settings in a</font><font color="#E5E5E5"> configuration files</font>

1058
00:43:41,480 --> 00:43:45,260
<font color="#CCCCCC">yeah</font><font color="#E5E5E5"> it</font><font color="#CCCCCC"> used</font><font color="#E5E5E5"> to be like that</font>

1059
00:43:42,980 --> 00:43:46,550
<font color="#E5E5E5">historically you've got right</font><font color="#CCCCCC"> now</font>

1060
00:43:45,260 --> 00:43:49,100
application<font color="#CCCCCC"> was config you've got web</font>

1061
00:43:46,550 --> 00:43:50,780
config you've got machine config etc

1062
00:43:49,100 --> 00:43:53,660
such a conflict conflict coming<font color="#CCCCCC"> but then</font>

1063
00:43:50,780 --> 00:43:57,830
<font color="#E5E5E5">suddenly this value actually goes to</font>

1064
00:43:53,660 --> 00:44:00,170
registry<font color="#E5E5E5"> so I don't know why but this is</font>

1065
00:43:57,830 --> 00:44:02,569
how it is so<font color="#E5E5E5"> okay</font><font color="#CCCCCC"> that value has been</font>

1066
00:44:00,170 --> 00:44:04,970
updated<font color="#CCCCCC"> now question is</font><font color="#E5E5E5"> how can</font><font color="#CCCCCC"> we</font>

1067
00:44:02,570 --> 00:44:07,730
leverage this so that value<font color="#E5E5E5"> of in the</font>

1068
00:44:04,970 --> 00:44:10,459
registry is actually within<font color="#E5E5E5"> the</font><font color="#CCCCCC"> local</font>

1069
00:44:07,730 --> 00:44:13,490
machine so we can<font color="#CCCCCC"> read get there get get</font>

1070
00:44:10,460 --> 00:44:15,890
particularly there so we can get<font color="#E5E5E5"> into</font>

1071
00:44:13,490 --> 00:44:17,959
the local machine<font color="#E5E5E5"> of course</font><font color="#CCCCCC"> and we can</font>

1072
00:44:15,890 --> 00:44:22,779
get into software<font color="#E5E5E5"> and then we can get</font>

1073
00:44:17,960 --> 00:44:26,030
into Microsoft and we can get<font color="#CCCCCC"> into</font><font color="#E5E5E5"> I is</font>

1074
00:44:22,780 --> 00:44:27,440
here we go<font color="#CCCCCC"> and we can get into central</font>

1075
00:44:26,030 --> 00:44:29,990
search provider

1076
00:44:27,440 --> 00:44:31,970
<font color="#E5E5E5">basically what you will see think yes is</font>

1077
00:44:29,990 --> 00:44:33,709
<font color="#E5E5E5">that they are the values that we</font><font color="#CCCCCC"> are</font>

1078
00:44:31,970 --> 00:44:35,118
looking<font color="#CCCCCC"> for these</font><font color="#E5E5E5"> are</font><font color="#CCCCCC"> the ones</font>

1079
00:44:33,710 --> 00:44:38,180
<font color="#E5E5E5">especially the one second</font><font color="#CCCCCC"> from the</font>

1080
00:44:35,119 --> 00:44:40,579
bottom<font color="#CCCCCC"> it says private key password</font><font color="#E5E5E5"> nice</font>

1081
00:44:38,180 --> 00:44:42,950
looks like base64 smells like base64

1082
00:44:40,579 --> 00:44:44,630
it's not a base64 well it is but

1083
00:44:42,950 --> 00:44:46,788
underneath<font color="#E5E5E5"> there is a key that is</font>

1084
00:44:44,630 --> 00:44:49,339
<font color="#E5E5E5">encrypted and they chose this way to</font>

1085
00:44:46,789 --> 00:44:51,109
save it<font color="#E5E5E5"> because place 64 is absolutely</font>

1086
00:44:49,339 --> 00:44:53,690
smooth if it's about processing it

1087
00:44:51,109 --> 00:44:55,190
through<font color="#CCCCCC"> different</font><font color="#E5E5E5"> types of tools yeah so</font>

1088
00:44:53,690 --> 00:44:56,990
what are we gonna do we're<font color="#E5E5E5"> gonna take</font>

1089
00:44:55,190 --> 00:45:00,470
this value<font color="#CCCCCC"> and we'll try</font><font color="#E5E5E5"> to decrypt it</font>

1090
00:44:56,990 --> 00:45:04,038
now<font color="#E5E5E5"> we've what keys and how well if we</font>

1091
00:45:00,470 --> 00:45:06,618
do look at<font color="#E5E5E5"> the</font><font color="#CCCCCC"> architecture of the iis</font>

1092
00:45:04,039 --> 00:45:10,160
and<font color="#E5E5E5"> let me technically get into that</font>

1093
00:45:06,619 --> 00:45:13,460
area<font color="#CCCCCC"> for the moment then it's</font><font color="#E5E5E5"> quite</font>

1094
00:45:10,160 --> 00:45:15,440
clear who know where the<font color="#E5E5E5"> password is so</font>

1095
00:45:13,460 --> 00:45:17,119
we've got user mode<font color="#CCCCCC"> and kernel mode</font>

1096
00:45:15,440 --> 00:45:20,349
putting this in a very schematic<font color="#E5E5E5"> way</font>

1097
00:45:17,119 --> 00:45:23,420
<font color="#E5E5E5">HTTP dot sis and we've got svchost.exe</font>

1098
00:45:20,349 --> 00:45:25,250
host<font color="#E5E5E5"> consists of two services</font><font color="#CCCCCC"> world wide</font>

1099
00:45:23,420 --> 00:45:27,440
web publishing service and<font color="#CCCCCC"> windows</font>

1100
00:45:25,250 --> 00:45:29,270
process activation service both<font color="#E5E5E5"> of them</font>

1101
00:45:27,440 --> 00:45:31,280
they run a<font color="#CCCCCC"> sloka system</font><font color="#E5E5E5"> I mean it's just</font>

1102
00:45:29,270 --> 00:45:32,900
a one instant of s-video<font color="#CCCCCC"> that runs a</font>

1103
00:45:31,280 --> 00:45:34,609
<font color="#CCCCCC">local system</font><font color="#E5E5E5"> and any type of</font>

1104
00:45:32,900 --> 00:45:36,349
<font color="#E5E5E5">configuration</font><font color="#CCCCCC"> like for example in this</font>

1105
00:45:34,609 --> 00:45:39,650
<font color="#E5E5E5">case application host config file is</font>

1106
00:45:36,349 --> 00:45:41,180
read by that guy and<font color="#CCCCCC"> we're not storing</font>

1107
00:45:39,650 --> 00:45:43,369
<font color="#CCCCCC">that password</font><font color="#E5E5E5"> in the clear text as you</font>

1108
00:45:41,180 --> 00:45:47,598
see so if<font color="#E5E5E5"> that guy reads it this guy</font>

1109
00:45:43,369 --> 00:45:49,640
<font color="#E5E5E5">needs to also have keys to decrypt it so</font>

1110
00:45:47,599 --> 00:45:51,589
who do<font color="#CCCCCC"> we need to talk to in order to</font>

1111
00:45:49,640 --> 00:45:54,230
<font color="#E5E5E5">fetch that type of</font><font color="#CCCCCC"> information address</font>

1112
00:45:51,589 --> 00:45:56,538
<font color="#CCCCCC">local system and local</font><font color="#E5E5E5"> systems profile</font>

1113
00:45:54,230 --> 00:45:58,369
<font color="#E5E5E5">now is as I already mentioned is a</font>

1114
00:45:56,539 --> 00:46:01,460
little weird<font color="#E5E5E5"> so we could go to the local</font>

1115
00:45:58,369 --> 00:46:03,920
systems profile<font color="#E5E5E5"> or we could ask is and</font>

1116
00:46:01,460 --> 00:46:06,140
say hey give me the keys from the

1117
00:46:03,920 --> 00:46:08,180
container<font color="#E5E5E5"> that you manage it's a little</font>

1118
00:46:06,140 --> 00:46:09,529
virtual saying because<font color="#E5E5E5"> for real I mean</font>

1119
00:46:08,180 --> 00:46:11,930
you can go to the<font color="#CCCCCC"> folder and grab them</font>

1120
00:46:09,529 --> 00:46:13,609
<font color="#E5E5E5">from there but it's more</font><font color="#CCCCCC"> romantic to</font><font color="#E5E5E5"> do</font>

1121
00:46:11,930 --> 00:46:16,549
it this way so why don't<font color="#CCCCCC"> we just do it</font>

1122
00:46:13,609 --> 00:46:18,920
this way<font color="#E5E5E5"> so here we go we've</font><font color="#CCCCCC"> got of</font>

1123
00:46:16,549 --> 00:46:20,750
course<font color="#E5E5E5"> that credentials or whatever the</font>

1124
00:46:18,920 --> 00:46:22,099
<font color="#CCCCCC">worlds secret loaded and we</font><font color="#E5E5E5"> are</font>

1125
00:46:20,750 --> 00:46:24,380
leveraging<font color="#E5E5E5"> that within the worker</font>

1126
00:46:22,099 --> 00:46:27,200
<font color="#CCCCCC">brothers file</font><font color="#E5E5E5"> so it has to know it</font>

1127
00:46:24,380 --> 00:46:29,359
<font color="#E5E5E5">that's the flow now</font><font color="#CCCCCC"> I</font><font color="#E5E5E5"> is just</font><font color="#CCCCCC"> to give</font>

1128
00:46:27,200 --> 00:46:30,980
you<font color="#CCCCCC"> the background</font><font color="#E5E5E5"> uses lots of</font>

1129
00:46:29,359 --> 00:46:32,690
different<font color="#E5E5E5"> types of</font><font color="#CCCCCC"> providers especially</font>

1130
00:46:30,980 --> 00:46:35,089
<font color="#CCCCCC">within the IAS then there are a couple</font>

1131
00:46:32,690 --> 00:46:37,369
of new<font color="#CCCCCC"> ones yeah so the new ones is the</font>

1132
00:46:35,089 --> 00:46:39,799
<font color="#E5E5E5">is Windows activation service only CNG</font>

1133
00:46:37,369 --> 00:46:40,880
provider and I a CNG provider<font color="#CCCCCC"> and there</font>

1134
00:46:39,799 --> 00:46:42,920
are also a couple<font color="#E5E5E5"> of other ones</font>

1135
00:46:40,880 --> 00:46:45,140
you can use<font color="#CCCCCC"> so these</font><font color="#E5E5E5"> are the providers</font>

1136
00:46:42,920 --> 00:46:46,940
that<font color="#CCCCCC"> you as a</font><font color="#E5E5E5"> developer</font><font color="#CCCCCC"> ask</font><font color="#E5E5E5"> in order to</font>

1137
00:46:45,140 --> 00:46:50,690
<font color="#E5E5E5">perform for you some cryptographic in</font>

1138
00:46:46,940 --> 00:46:52,940
<font color="#E5E5E5">for operation</font><font color="#CCCCCC"> let's begin</font><font color="#E5E5E5"> into how we</font>

1139
00:46:50,690 --> 00:46:55,010
are<font color="#E5E5E5"> able to export import those keys and</font>

1140
00:46:52,940 --> 00:46:58,250
how we are<font color="#CCCCCC"> able to leverage those keys</font>

1141
00:46:55,010 --> 00:47:01,070
<font color="#E5E5E5">in order to decrypt of course all that</font>

1142
00:46:58,250 --> 00:47:03,440
type of<font color="#E5E5E5"> a content lovely so let's do</font>

1143
00:47:01,070 --> 00:47:06,200
that<font color="#E5E5E5"> in</font><font color="#CCCCCC"> order to</font><font color="#E5E5E5"> be able to get</font><font color="#CCCCCC"> access</font>

1144
00:47:03,440 --> 00:47:08,450
to the is keys<font color="#E5E5E5"> there is a very weird</font>

1145
00:47:06,200 --> 00:47:11,330
<font color="#CCCCCC">tool which is building in</font><font color="#E5E5E5"> Windows by the</font>

1146
00:47:08,450 --> 00:47:14,660
way which<font color="#CCCCCC"> is</font><font color="#E5E5E5"> worth having a look at and</font>

1147
00:47:11,330 --> 00:47:18,440
this<font color="#CCCCCC"> is basically windows system32 inot</font>

1148
00:47:14,660 --> 00:47:22,250
<font color="#CCCCCC">sov</font><font color="#E5E5E5"> and we've got over here no sorry my</font>

1149
00:47:18,440 --> 00:47:24,890
mistake<font color="#E5E5E5"> not in this place microsoft.net</font>

1150
00:47:22,250 --> 00:47:25,400
<font color="#E5E5E5">here we go anniversary is gonna be in a</font>

1151
00:47:24,890 --> 00:47:27,799
second

1152
00:47:25,400 --> 00:47:32,510
we've got microsoft.net<font color="#E5E5E5"> then we specify</font>

1153
00:47:27,800 --> 00:47:34,490
<font color="#E5E5E5">of course the framework framework 64</font>

1154
00:47:32,510 --> 00:47:36,800
then we<font color="#CCCCCC"> specify the version of</font><font color="#E5E5E5"> the</font>

1155
00:47:34,490 --> 00:47:39,339
framework<font color="#CCCCCC"> bring it</font><font color="#E5E5E5"> on and there's this</font>

1156
00:47:36,800 --> 00:47:42,680
is where the soul is this is asp net

1157
00:47:39,340 --> 00:47:46,070
underscore<font color="#E5E5E5"> rec is</font><font color="#CCCCCC"> some of you may</font>

1158
00:47:42,680 --> 00:47:49,060
already<font color="#E5E5E5"> know it but</font><font color="#CCCCCC"> it has the option</font><font color="#E5E5E5"> it</font>

1159
00:47:46,070 --> 00:47:52,460
<font color="#E5E5E5">has many options actually to allow us to</font>

1160
00:47:49,060 --> 00:47:54,410
<font color="#E5E5E5">not only</font><font color="#CCCCCC"> install asp.net which is</font>

1161
00:47:52,460 --> 00:47:56,690
commonly used<font color="#E5E5E5"> by developers but from the</font>

1162
00:47:54,410 --> 00:47:59,000
IT perspective<font color="#E5E5E5"> it has a possibility to</font>

1163
00:47:56,690 --> 00:48:01,190
encrypt some configuration sections work

1164
00:47:59,000 --> 00:48:03,410
on the keys<font color="#CCCCCC"> etc it's a pretty good tool</font>

1165
00:48:01,190 --> 00:48:05,630
one of the mistakes by<font color="#E5E5E5"> the way when we</font>

1166
00:48:03,410 --> 00:48:07,480
<font color="#E5E5E5">were migrating the server</font><font color="#CCCCCC"> what we see of</font>

1167
00:48:05,630 --> 00:48:09,860
the<font color="#E5E5E5"> customer sites is to forget</font><font color="#CCCCCC"> about</font>

1168
00:48:07,480 --> 00:48:11,330
<font color="#E5E5E5">extracting the keys and then we have to</font>

1169
00:48:09,860 --> 00:48:13,850
<font color="#E5E5E5">re-enter</font><font color="#CCCCCC"> these passwords again</font><font color="#E5E5E5"> no you</font>

1170
00:48:11,330 --> 00:48:15,500
don't if you take the keys with you now

1171
00:48:13,850 --> 00:48:17,150
how do we<font color="#E5E5E5"> work on the keys we have to</font>

1172
00:48:15,500 --> 00:48:18,710
export<font color="#CCCCCC"> them to</font><font color="#E5E5E5"> be able to work on them</font>

1173
00:48:17,150 --> 00:48:20,330
yeah so let's do that

1174
00:48:18,710 --> 00:48:22,910
for that purpose<font color="#CCCCCC"> we're gonna use the</font>

1175
00:48:20,330 --> 00:48:26,420
option<font color="#CCCCCC"> px</font><font color="#E5E5E5"> let me enlarge it again so</font>

1176
00:48:22,910 --> 00:48:29,390
there is this second from<font color="#CCCCCC"> the top and it</font>

1177
00:48:26,420 --> 00:48:30,620
says export an error<font color="#E5E5E5"> see keeper and to</font>

1178
00:48:29,390 --> 00:48:34,009
the XML<font color="#E5E5E5"> bla bla bla</font>

1179
00:48:30,620 --> 00:48:36,740
- pry for the private keys<font color="#E5E5E5"> fantastic</font>

1180
00:48:34,010 --> 00:48:39,890
<font color="#CCCCCC">let's do that and we're gonna of course</font>

1181
00:48:36,740 --> 00:48:41,660
<font color="#CCCCCC">use that that particular set</font><font color="#E5E5E5"> up here and</font>

1182
00:48:39,890 --> 00:48:43,850
<font color="#CCCCCC">we have to specify the container and the</font>

1183
00:48:41,660 --> 00:48:46,160
file what is<font color="#CCCCCC"> the container</font><font color="#E5E5E5"> that's this</font>

1184
00:48:43,850 --> 00:48:50,810
virtual part of the is that<font color="#CCCCCC"> is romantic</font>

1185
00:48:46,160 --> 00:48:53,710
<font color="#CCCCCC">and we do it this way so we specify</font><font color="#E5E5E5"> is</font>

1186
00:48:50,810 --> 00:48:54,930
peanut<font color="#E5E5E5"> requires and then we do</font><font color="#CCCCCC"> P acts</font>

1187
00:48:53,710 --> 00:48:56,700
then with

1188
00:48:54,930 --> 00:49:01,589
<font color="#E5E5E5">to find</font><font color="#CCCCCC"> the</font><font color="#E5E5E5"> container and the container</font>

1189
00:48:56,700 --> 00:49:03,328
is called<font color="#CCCCCC"> AI</font><font color="#E5E5E5"> is was key is Windows</font>

1190
00:49:01,589 --> 00:49:04,650
activation service key<font color="#CCCCCC"> well that's kind</font>

1191
00:49:03,329 --> 00:49:06,569
of funny because it kind of proves<font color="#E5E5E5"> that</font>

1192
00:49:04,650 --> 00:49:08,099
some people are<font color="#CCCCCC"> hungry</font><font color="#E5E5E5"> because Windows</font>

1193
00:49:06,569 --> 00:49:09,569
activation service there is<font color="#CCCCCC"> no such a</font>

1194
00:49:08,099 --> 00:49:12,599
thing<font color="#CCCCCC"> there's</font><font color="#E5E5E5"> a Windows</font><font color="#CCCCCC"> protis</font>

1195
00:49:09,569 --> 00:49:14,880
activation service<font color="#E5E5E5"> but P is missing</font><font color="#CCCCCC"> so</font>

1196
00:49:12,599 --> 00:49:18,030
if you just<font color="#E5E5E5"> need to again live with that</font>

1197
00:49:14,880 --> 00:49:20,190
fact<font color="#E5E5E5"> in the registry it has a shortcut</font>

1198
00:49:18,030 --> 00:49:22,920
<font color="#CCCCCC">Wis but for real it's called Windows</font>

1199
00:49:20,190 --> 00:49:27,300
process activation service<font color="#CCCCCC"> okay so we've</font>

1200
00:49:22,920 --> 00:49:31,740
got<font color="#E5E5E5"> this now we're gonna do C test m dot</font>

1201
00:49:27,300 --> 00:49:34,290
<font color="#E5E5E5">XML like this and as we see we managed</font>

1202
00:49:31,740 --> 00:49:37,649
to get<font color="#CCCCCC"> access to</font><font color="#E5E5E5"> that part yeah so</font>

1203
00:49:34,290 --> 00:49:40,259
<font color="#E5E5E5">succeeded fantastic and we got a</font><font color="#CCCCCC"> see</font>

1204
00:49:37,650 --> 00:49:42,119
<font color="#CCCCCC">test XML great great so these keys are</font>

1205
00:49:40,260 --> 00:49:43,260
<font color="#E5E5E5">there now what we're gonna do we're</font>

1206
00:49:42,119 --> 00:49:46,530
<font color="#CCCCCC">gonna leverage</font><font color="#E5E5E5"> these keys</font>

1207
00:49:43,260 --> 00:49:48,960
yeah within our<font color="#CCCCCC"> PowerShell script</font><font color="#E5E5E5"> when</font>

1208
00:49:46,530 --> 00:49:50,849
we've<font color="#E5E5E5"> got first of all we load it second</font>

1209
00:49:48,960 --> 00:49:53,339
we<font color="#E5E5E5"> do specify what kind of provider is</font>

1210
00:49:50,849 --> 00:49:55,260
used my knee is<font color="#E5E5E5"> and for that area there</font>

1211
00:49:53,339 --> 00:49:58,020
is an heiress<font color="#E5E5E5"> a crypto service provider</font>

1212
00:49:55,260 --> 00:50:01,619
used and then of course<font color="#E5E5E5"> we leverage</font><font color="#CCCCCC"> that</font>

1213
00:49:58,020 --> 00:50:04,470
by our by our key and now we read the

1214
00:50:01,619 --> 00:50:08,849
value from<font color="#CCCCCC"> the registry</font><font color="#E5E5E5"> so this is this</font>

1215
00:50:04,470 --> 00:50:10,770
<font color="#E5E5E5">is the flow second we do eventually use</font>

1216
00:50:08,849 --> 00:50:13,260
it and save<font color="#E5E5E5"> it within the bind re and</font>

1217
00:50:10,770 --> 00:50:15,119
another part if you are interested<font color="#CCCCCC"> we</font>

1218
00:50:13,260 --> 00:50:18,150
<font color="#E5E5E5">can display that how it looks like after</font>

1219
00:50:15,119 --> 00:50:23,010
the<font color="#E5E5E5"> decryption after after base64 so to</font>

1220
00:50:18,150 --> 00:50:24,569
say and it looks like<font color="#CCCCCC"> Far</font><font color="#E5E5E5"> East but but</font>

1221
00:50:23,010 --> 00:50:28,680
it's not it's<font color="#CCCCCC"> just an encoding of course</font>

1222
00:50:24,569 --> 00:50:31,799
and if we move forward<font color="#E5E5E5"> what we will need</font>

1223
00:50:28,680 --> 00:50:34,440
to do is<font color="#E5E5E5"> this and I can tell you that is</font>

1224
00:50:31,799 --> 00:50:36,210
a<font color="#E5E5E5"> little bit of a joke because this is</font>

1225
00:50:34,440 --> 00:50:38,640
why I show the sandwich at the very

1226
00:50:36,210 --> 00:50:41,819
<font color="#E5E5E5">beginning yes how do you know that</font>

1227
00:50:38,640 --> 00:50:44,460
<font color="#E5E5E5">you're supposed to revert</font><font color="#CCCCCC"> it you don't I</font>

1228
00:50:41,819 --> 00:50:47,250
we didn't -<font color="#CCCCCC"> and we were</font><font color="#E5E5E5"> fighting like</font>

1229
00:50:44,460 --> 00:50:49,319
for it<font color="#E5E5E5"> and then this one happening but</font>

1230
00:50:47,250 --> 00:50:52,200
<font color="#E5E5E5">unfortunately there is a one thing that</font>

1231
00:50:49,319 --> 00:50:54,869
differs Windows<font color="#E5E5E5"> from Linux is that there</font>

1232
00:50:52,200 --> 00:50:56,910
is no standard on saving data<font color="#CCCCCC"> where I</font>

1233
00:50:54,869 --> 00:50:58,680
use little-endian or big-endian<font color="#E5E5E5"> like</font>

1234
00:50:56,910 --> 00:51:00,899
from left to right right<font color="#CCCCCC"> to left</font><font color="#E5E5E5"> or</font>

1235
00:50:58,680 --> 00:51:03,990
<font color="#E5E5E5">whatever I mean it really depends on the</font>

1236
00:51:00,900 --> 00:51:04,950
who is<font color="#E5E5E5"> writing</font><font color="#CCCCCC"> that piece of</font><font color="#E5E5E5"> code so if</font>

1237
00:51:03,990 --> 00:51:06,868
you are performing<font color="#E5E5E5"> the reverse</font>

1238
00:51:04,950 --> 00:51:08,580
<font color="#E5E5E5">engineering</font><font color="#CCCCCC"> and crypto in Windows and</font>

1239
00:51:06,869 --> 00:51:10,680
you have like 20<font color="#CCCCCC"> levels to power</font>

1240
00:51:08,580 --> 00:51:12,060
and each of<font color="#CCCCCC"> those needs to be</font><font color="#E5E5E5"> checked</font>

1241
00:51:10,680 --> 00:51:14,790
<font color="#E5E5E5">from right to left and left to right</font>

1242
00:51:12,060 --> 00:51:16,710
etc maybe not that<font color="#E5E5E5"> blindly but sometimes</font>

1243
00:51:14,790 --> 00:51:18,660
you just don't<font color="#E5E5E5"> know so you have to do</font>

1244
00:51:16,710 --> 00:51:20,160
that then it's a little<font color="#CCCCCC"> bit of a freaky</font>

1245
00:51:18,660 --> 00:51:22,710
situation<font color="#E5E5E5"> so in this particular</font>

1246
00:51:20,160 --> 00:51:25,170
<font color="#E5E5E5">situation</font><font color="#CCCCCC"> that is</font><font color="#E5E5E5"> the point that yep</font>

1247
00:51:22,710 --> 00:51:27,630
<font color="#E5E5E5">this time someone decided to write it</font>

1248
00:51:25,170 --> 00:51:30,510
this way yeah<font color="#E5E5E5"> because</font><font color="#CCCCCC"> what it was Friday</font>

1249
00:51:27,630 --> 00:51:33,810
<font color="#E5E5E5">yeah so here we go we have</font><font color="#CCCCCC"> to revert it</font>

1250
00:51:30,510 --> 00:51:35,730
<font color="#CCCCCC">and of</font><font color="#E5E5E5"> course at the very end</font><font color="#CCCCCC"> we are</font>

1251
00:51:33,810 --> 00:51:39,690
<font color="#E5E5E5">trying to</font><font color="#CCCCCC"> leverage the data protection</font>

1252
00:51:35,730 --> 00:51:41,600
<font color="#E5E5E5">API so once and since we have of</font><font color="#CCCCCC"> course</font>

1253
00:51:39,690 --> 00:51:45,780
<font color="#E5E5E5">all the type of information over here</font>

1254
00:51:41,600 --> 00:51:48,450
<font color="#E5E5E5">that it's these keys etc then basically</font>

1255
00:51:45,780 --> 00:51:50,840
as you see we<font color="#CCCCCC"> are able to get</font><font color="#E5E5E5"> access</font>

1256
00:51:48,450 --> 00:51:53,009
<font color="#E5E5E5">this password yeah so this is stored</font>

1257
00:51:50,840 --> 00:51:54,780
<font color="#E5E5E5">basically in the registry in the</font>

1258
00:51:53,010 --> 00:51:57,560
encrypted<font color="#E5E5E5"> form and encrypted by the</font>

1259
00:51:54,780 --> 00:51:59,850
master keys<font color="#E5E5E5"> of a system local system and</font>

1260
00:51:57,560 --> 00:52:01,620
because you<font color="#CCCCCC"> have access to keys over</font>

1261
00:51:59,850 --> 00:52:03,870
local<font color="#E5E5E5"> system you</font><font color="#CCCCCC"> are</font><font color="#E5E5E5"> able to get access</font>

1262
00:52:01,620 --> 00:52:05,970
<font color="#E5E5E5">to those</font><font color="#CCCCCC"> now who encrypts by away keys</font>

1263
00:52:03,870 --> 00:52:07,350
of a local system<font color="#E5E5E5"> that's a question</font><font color="#CCCCCC"> and</font>

1264
00:52:05,970 --> 00:52:10,410
this<font color="#CCCCCC"> is</font><font color="#E5E5E5"> something</font><font color="#CCCCCC"> that I would like to</font>

1265
00:52:07,350 --> 00:52:13,470
sum up if you don't<font color="#CCCCCC"> mind for the system</font>

1266
00:52:10,410 --> 00:52:15,540
a part<font color="#E5E5E5"> of the data protection API and</font>

1267
00:52:13,470 --> 00:52:18,629
who has<font color="#E5E5E5"> access to those answer is very</font>

1268
00:52:15,540 --> 00:52:21,750
straightforward<font color="#CCCCCC"> yep</font><font color="#E5E5E5"> all of the data</font>

1269
00:52:18,630 --> 00:52:24,420
<font color="#E5E5E5">protection</font><font color="#CCCCCC"> API system part is encrypted</font>

1270
00:52:21,750 --> 00:52:26,790
<font color="#CCCCCC">and it depends</font><font color="#E5E5E5"> on the boot key</font><font color="#CCCCCC"> wood key</font>

1271
00:52:24,420 --> 00:52:29,700
is like a<font color="#E5E5E5"> growl</font><font color="#CCCCCC"> to everything system</font>

1272
00:52:26,790 --> 00:52:32,009
<font color="#CCCCCC">related and that would key the crypts</font>

1273
00:52:29,700 --> 00:52:34,379
something that we call a<font color="#CCCCCC"> machine</font><font color="#E5E5E5"> ACC</font>

1274
00:52:32,010 --> 00:52:37,530
that's the blue part in a bottom mash

1275
00:52:34,380 --> 00:52:40,320
<font color="#E5E5E5">and ACC it's nothing but a local systems</font>

1276
00:52:37,530 --> 00:52:41,970
password which is the<font color="#CCCCCC"> same as the</font>

1277
00:52:40,320 --> 00:52:43,680
<font color="#E5E5E5">machine account password so when the</font>

1278
00:52:41,970 --> 00:52:45,660
computer logs<font color="#E5E5E5"> on</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> the domain it</font><font color="#CCCCCC"> locks</font>

1279
00:52:43,680 --> 00:52:47,460
<font color="#E5E5E5">on of the computer name</font><font color="#CCCCCC"> and the password</font>

1280
00:52:45,660 --> 00:52:51,089
of<font color="#E5E5E5"> the local system which is its own</font>

1281
00:52:47,460 --> 00:52:52,560
password yeah<font color="#E5E5E5"> so that password since you</font>

1282
00:52:51,090 --> 00:52:54,690
have<font color="#E5E5E5"> access to it you</font><font color="#CCCCCC"> are able to</font>

1283
00:52:52,560 --> 00:52:56,310
<font color="#E5E5E5">leverage to decrypt all the different</font>

1284
00:52:54,690 --> 00:52:57,930
types of master keys that are stored

1285
00:52:56,310 --> 00:52:59,070
within the profile<font color="#E5E5E5"> of the local system</font>

1286
00:52:57,930 --> 00:53:02,700
what's the conclusion

1287
00:52:59,070 --> 00:53:05,610
every system<font color="#E5E5E5"> secrets</font><font color="#CCCCCC"> it's yours very</font>

1288
00:53:02,700 --> 00:53:07,859
easily online<font color="#E5E5E5"> offline however you want</font>

1289
00:53:05,610 --> 00:53:10,500
so<font color="#CCCCCC"> just be aware that</font><font color="#E5E5E5"> every</font><font color="#CCCCCC"> single</font><font color="#E5E5E5"> thing</font>

1290
00:53:07,860 --> 00:53:14,360
<font color="#CCCCCC">you store as a password</font><font color="#E5E5E5"> it's out there</font>

1291
00:53:10,500 --> 00:53:16,970
<font color="#E5E5E5">to be decrypted</font><font color="#CCCCCC"> and there is of course</font>

1292
00:53:14,360 --> 00:53:19,830
<font color="#E5E5E5">TDE encryption within the sequel server</font>

1293
00:53:16,970 --> 00:53:20,980
and this is<font color="#E5E5E5"> something that we reverse</font>

1294
00:53:19,830 --> 00:53:22,839
<font color="#CCCCCC">engineered</font>

1295
00:53:20,980 --> 00:53:25,630
maybe maybe next year<font color="#CCCCCC"> we</font><font color="#E5E5E5"> will see each</font>

1296
00:53:22,839 --> 00:53:26,770
<font color="#E5E5E5">other over here and who knows maybe you</font>

1297
00:53:25,630 --> 00:53:29,230
would<font color="#E5E5E5"> like to listen more about the</font>

1298
00:53:26,770 --> 00:53:31,060
sequel server data encryption<font color="#CCCCCC"> we have</font>

1299
00:53:29,230 --> 00:53:32,859
fully<font color="#CCCCCC"> reverse-engineer debt and it also</font>

1300
00:53:31,060 --> 00:53:36,130
relies<font color="#E5E5E5"> on a data prediction API not a</font>

1301
00:53:32,859 --> 00:53:39,609
biggie<font color="#CCCCCC"> and</font><font color="#E5E5E5"> anything really that</font><font color="#CCCCCC"> is a</font>

1302
00:53:36,130 --> 00:53:42,220
<font color="#E5E5E5">system secret is to be if you of course</font>

1303
00:53:39,609 --> 00:53:45,940
have<font color="#E5E5E5"> access to that particular box now</font>

1304
00:53:42,220 --> 00:53:48,368
<font color="#E5E5E5">summing it up as far was</font><font color="#CCCCCC"> to summarize</font><font color="#E5E5E5"> so</font>

1305
00:53:45,940 --> 00:53:50,770
this green and the purple hopefully and

1306
00:53:48,369 --> 00:53:54,010
the black area<font color="#CCCCCC"> this these are the other</font>

1307
00:53:50,770 --> 00:53:55,839
secrets of data<font color="#E5E5E5"> prediction API system so</font>

1308
00:53:54,010 --> 00:53:57,880
some database<font color="#E5E5E5"> entities</font><font color="#CCCCCC"> does</font><font color="#E5E5E5"> it that's</font>

1309
00:53:55,839 --> 00:53:59,140
clear we already discussed that as long

1310
00:53:57,880 --> 00:54:01,180
<font color="#CCCCCC">as</font><font color="#E5E5E5"> you</font><font color="#CCCCCC"> get a boot key which is in a</font>

1311
00:53:59,140 --> 00:54:04,629
system hive in<font color="#E5E5E5"> the registry you're able</font>

1312
00:54:01,180 --> 00:54:06,279
<font color="#CCCCCC">to decrypt those and also</font><font color="#E5E5E5"> LSA</font><font color="#CCCCCC"> secrets</font>

1313
00:54:04,630 --> 00:54:08,859
this<font color="#E5E5E5"> is a service accounts password</font>

1314
00:54:06,280 --> 00:54:11,950
<font color="#E5E5E5">quite easy if you haven't seen it before</font>

1315
00:54:08,859 --> 00:54:13,509
<font color="#CCCCCC">out</font><font color="#E5E5E5"> if this is too easy to show this</font>

1316
00:54:11,950 --> 00:54:15,520
<font color="#E5E5E5">conference I'm sorry you have to</font><font color="#CCCCCC"> check</font>

1317
00:54:13,510 --> 00:54:18,040
out<font color="#E5E5E5"> the</font><font color="#CCCCCC"> blog</font><font color="#E5E5E5"> there's a video if you type</font>

1318
00:54:15,520 --> 00:54:20,040
a service<font color="#E5E5E5"> in my blog then there's a</font>

1319
00:54:18,040 --> 00:54:22,900
video how I'm doing this easy part<font color="#CCCCCC"> now</font>

1320
00:54:20,040 --> 00:54:25,290
<font color="#CCCCCC">cache logon data it's out</font><font color="#E5E5E5"> there as well</font>

1321
00:54:22,900 --> 00:54:28,089
<font color="#CCCCCC">ok</font><font color="#E5E5E5"> guys so what's next</font>

1322
00:54:25,290 --> 00:54:30,609
closely closely<font color="#E5E5E5"> we're getting to a very</font>

1323
00:54:28,089 --> 00:54:35,078
<font color="#CCCCCC">interesting scenario which is related</font>

1324
00:54:30,609 --> 00:54:37,720
with the<font color="#E5E5E5"> encryption of the</font><font color="#CCCCCC"> PF</font><font color="#E5E5E5"> X's</font><font color="#CCCCCC"> PF X</font>

1325
00:54:35,079 --> 00:54:40,060
<font color="#CCCCCC">Files</font><font color="#E5E5E5"> and that is a new shade on the</font>

1326
00:54:37,720 --> 00:54:42,189
data protection<font color="#E5E5E5"> API which is a data</font>

1327
00:54:40,060 --> 00:54:44,200
prediction API<font color="#E5E5E5"> and G so a new generation</font>

1328
00:54:42,190 --> 00:54:47,890
<font color="#CCCCCC">the one that has been introduced in</font>

1329
00:54:44,200 --> 00:54:48,640
Windows 8.1<font color="#E5E5E5"> 2012 r2 is it</font><font color="#CCCCCC"> used all over</font>

1330
00:54:47,890 --> 00:54:51,220
<font color="#CCCCCC">the place</font>

1331
00:54:48,640 --> 00:54:52,900
no no no just<font color="#CCCCCC"> for a couple of</font><font color="#E5E5E5"> things so</font>

1332
00:54:51,220 --> 00:54:54,549
we still use both of<font color="#E5E5E5"> them and data</font>

1333
00:54:52,900 --> 00:54:56,770
protection<font color="#CCCCCC"> a big</font><font color="#E5E5E5"> classic is actually the</font>

1334
00:54:54,550 --> 00:54:58,000
number<font color="#CCCCCC"> one</font><font color="#E5E5E5"> the</font><font color="#CCCCCC"> energy we use</font><font color="#E5E5E5"> in the</font>

1335
00:54:56,770 --> 00:55:01,119
major<font color="#E5E5E5"> three areas</font>

1336
00:54:58,000 --> 00:55:02,740
BitLocker<font color="#E5E5E5"> DP API and G protected</font><font color="#CCCCCC"> Drive</font>

1337
00:55:01,119 --> 00:55:07,180
which we already managed to<font color="#CCCCCC"> get access</font>

1338
00:55:02,740 --> 00:55:09,279
<font color="#CCCCCC">to</font><font color="#E5E5E5"> seed protected</font><font color="#CCCCCC"> pfx</font><font color="#E5E5E5"> files which</font><font color="#CCCCCC"> is a</font>

1339
00:55:07,180 --> 00:55:12,310
fantastic<font color="#CCCCCC"> feature because passwords</font>

1340
00:55:09,280 --> 00:55:14,140
perfect for<font color="#CCCCCC"> for PF X's I think someone</font>

1341
00:55:12,310 --> 00:55:16,480
<font color="#E5E5E5">should go to hell</font><font color="#CCCCCC"> for that because</font><font color="#E5E5E5"> like</font>

1342
00:55:14,140 --> 00:55:19,210
how do you manage passwords for pfx

1343
00:55:16,480 --> 00:55:21,099
files<font color="#CCCCCC"> there's so many of them yes for</font>

1344
00:55:19,210 --> 00:55:23,230
<font color="#E5E5E5">different areas</font><font color="#CCCCCC"> so finally we are able</font>

1345
00:55:21,099 --> 00:55:24,490
to<font color="#E5E5E5"> sit protect them great this one I</font>

1346
00:55:23,230 --> 00:55:27,520
will<font color="#CCCCCC"> show you how</font><font color="#E5E5E5"> to get access to that</font>

1347
00:55:24,490 --> 00:55:30,129
and also asp net core by developers<font color="#CCCCCC"> IAM</font>

1348
00:55:27,520 --> 00:55:33,790
so what you see right<font color="#E5E5E5"> now</font><font color="#CCCCCC"> on the</font><font color="#E5E5E5"> screen</font>

1349
00:55:30,130 --> 00:55:34,560
is the ASN format is an blob of the<font color="#CCCCCC"> PF X</font>

1350
00:55:33,790 --> 00:55:37,920
file

1351
00:55:34,560 --> 00:55:39,810
that is sit protected now if you drop<font color="#CCCCCC"> it</font>

1352
00:55:37,920 --> 00:55:42,330
into<font color="#E5E5E5"> any type of an editor this</font><font color="#CCCCCC"> is an</font>

1353
00:55:39,810 --> 00:55:44,640
<font color="#CCCCCC">ASN editor</font><font color="#E5E5E5"> simply speaking you will be</font>

1354
00:55:42,330 --> 00:55:46,740
able<font color="#E5E5E5"> to see that not</font><font color="#CCCCCC"> only we are able</font><font color="#E5E5E5"> to</font>

1355
00:55:44,640 --> 00:55:48,839
see the blobs<font color="#E5E5E5"> but we are also able to</font>

1356
00:55:46,740 --> 00:55:51,359
<font color="#E5E5E5">see the seeds of the user and it's not</font>

1357
00:55:48,840 --> 00:55:53,220
just<font color="#CCCCCC"> City that we rely on</font><font color="#E5E5E5"> no no we rely</font>

1358
00:55:51,360 --> 00:55:54,960
on a couple<font color="#E5E5E5"> of more things but this</font><font color="#CCCCCC"> is</font>

1359
00:55:53,220 --> 00:55:57,870
something<font color="#E5E5E5"> to be shown</font><font color="#CCCCCC"> during the</font>

1360
00:55:54,960 --> 00:56:01,290
demonstration<font color="#E5E5E5"> so let me do that part so</font>

1361
00:55:57,870 --> 00:56:04,049
whenever we are thinking about seed

1362
00:56:01,290 --> 00:56:07,080
protected pfx files<font color="#E5E5E5"> I'm gonna leverage</font>

1363
00:56:04,050 --> 00:56:09,510
<font color="#E5E5E5">for death purpose windows 8.1 of course</font>

1364
00:56:07,080 --> 00:56:12,600
<font color="#E5E5E5">why not</font><font color="#CCCCCC"> and I'm gonna</font><font color="#E5E5E5"> log on ask the</font>

1365
00:56:09,510 --> 00:56:15,150
<font color="#E5E5E5">user</font><font color="#CCCCCC"> yeah it could be Freddy perfect so</font>

1366
00:56:12,600 --> 00:56:18,000
what's happening over<font color="#CCCCCC"> here is I've got a</font>

1367
00:56:15,150 --> 00:56:20,760
certain<font color="#CCCCCC"> type of certificate</font><font color="#E5E5E5"> and I can do</font>

1368
00:56:18,000 --> 00:56:24,900
technically<font color="#E5E5E5"> export so let's just do that</font>

1369
00:56:20,760 --> 00:56:27,090
<font color="#E5E5E5">next</font><font color="#CCCCCC"> no sorry sorry we have to</font><font color="#E5E5E5"> export it</font>

1370
00:56:24,900 --> 00:56:31,310
with<font color="#E5E5E5"> the private key obviously by the</font>

1371
00:56:27,090 --> 00:56:34,500
<font color="#E5E5E5">way it has to be made as exportable and</font>

1372
00:56:31,310 --> 00:56:37,440
well what to say<font color="#E5E5E5"> at that</font><font color="#CCCCCC"> certain</font><font color="#E5E5E5"> moment</font>

1373
00:56:34,500 --> 00:56:38,790
<font color="#E5E5E5">you can also extract the not exportable</font>

1374
00:56:37,440 --> 00:56:40,740
private key from<font color="#E5E5E5"> the memory</font><font color="#CCCCCC"> this is a</font>

1375
00:56:38,790 --> 00:56:42,930
<font color="#E5E5E5">subject for another presentation</font><font color="#CCCCCC"> yeah so</font>

1376
00:56:40,740 --> 00:56:44,399
here what we<font color="#E5E5E5"> will do we will specify</font>

1377
00:56:42,930 --> 00:56:48,390
that<font color="#E5E5E5"> we would like to give access to</font>

1378
00:56:44,400 --> 00:56:51,830
<font color="#E5E5E5">bleah and next</font><font color="#CCCCCC"> let's</font><font color="#E5E5E5"> move forward and</font>

1379
00:56:48,390 --> 00:56:54,390
<font color="#CCCCCC">we're gonna save it</font><font color="#E5E5E5"> as a</font><font color="#CCCCCC"> Blee</font>

1380
00:56:51,830 --> 00:56:56,910
<font color="#E5E5E5">certificate yeah so this will be the</font>

1381
00:56:54,390 --> 00:56:58,650
file<font color="#CCCCCC"> that</font><font color="#E5E5E5"> we got over here</font><font color="#CCCCCC"> ok fine yes</font>

1382
00:56:56,910 --> 00:57:01,549
so we have<font color="#E5E5E5"> targeted that to that</font>

1383
00:56:58,650 --> 00:57:05,610
<font color="#E5E5E5">particular user</font><font color="#CCCCCC"> ok now if I open</font><font color="#E5E5E5"> this up</font>

1384
00:57:01,550 --> 00:57:08,670
next<font color="#E5E5E5"> next that shows</font><font color="#CCCCCC"> me this</font><font color="#E5E5E5"> kind of</font>

1385
00:57:05,610 --> 00:57:10,290
like string here yeah and this<font color="#E5E5E5"> is</font>

1386
00:57:08,670 --> 00:57:13,800
something<font color="#CCCCCC"> that I</font><font color="#E5E5E5"> would like</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> show you</font>

1387
00:57:10,290 --> 00:57:15,870
how we<font color="#CCCCCC"> are eventually</font><font color="#E5E5E5"> able</font><font color="#CCCCCC"> to get access</font>

1388
00:57:13,800 --> 00:57:19,440
<font color="#E5E5E5">to this particular data</font><font color="#CCCCCC"> yeah</font><font color="#E5E5E5"> so let's</font>

1389
00:57:15,870 --> 00:57:23,310
see very<font color="#E5E5E5"> quickly at how</font><font color="#CCCCCC"> that particular</font>

1390
00:57:19,440 --> 00:57:26,460
<font color="#CCCCCC">pfx</font><font color="#E5E5E5"> can be accessed</font><font color="#CCCCCC"> by our our files and</font>

1391
00:57:23,310 --> 00:57:28,560
for<font color="#E5E5E5"> that purpose I'm copying this file</font>

1392
00:57:26,460 --> 00:57:30,990
out<font color="#CCCCCC"> so</font><font color="#E5E5E5"> this there is this</font><font color="#CCCCCC"> Lee</font>

1393
00:57:28,560 --> 00:57:33,060
certificate<font color="#CCCCCC"> on my box</font><font color="#E5E5E5"> and I'm going to</font>

1394
00:57:30,990 --> 00:57:35,069
use the local tools to leverage this

1395
00:57:33,060 --> 00:57:37,620
particular part what we will need to

1396
00:57:35,070 --> 00:57:40,770
grant for the accessing<font color="#CCCCCC"> desk particular</font>

1397
00:57:37,620 --> 00:57:43,859
pfx<font color="#E5E5E5"> it's the boot key from the DC and</font>

1398
00:57:40,770 --> 00:57:47,930
the boot key from<font color="#CCCCCC"> the DC I'm able to</font>

1399
00:57:43,860 --> 00:57:49,220
<font color="#E5E5E5">extract by using a simple</font><font color="#CCCCCC"> tool</font>

1400
00:57:47,930 --> 00:57:50,960
either way I mean<font color="#CCCCCC"> you can just</font><font color="#E5E5E5"> grab it</font>

1401
00:57:49,220 --> 00:57:53,629
<font color="#E5E5E5">by any type</font><font color="#CCCCCC"> of a tool but we wrote</font><font color="#E5E5E5"> a</font>

1402
00:57:50,960 --> 00:57:54,470
tool<font color="#E5E5E5"> for that which is</font><font color="#CCCCCC"> called</font><font color="#E5E5E5"> a CQ data</font>

1403
00:57:53,630 --> 00:57:56,900
protection<font color="#CCCCCC"> ape</font>

1404
00:57:54,470 --> 00:57:58,819
CQ<font color="#CCCCCC"> CQ secret dumper so let</font><font color="#E5E5E5"> me just mark</font>

1405
00:57:56,900 --> 00:58:01,040
this guy<font color="#E5E5E5"> here we go</font>

1406
00:57:58,820 --> 00:58:04,340
I'm gonna copy this and<font color="#E5E5E5"> I'm gonna put it</font>

1407
00:58:01,040 --> 00:58:08,000
into<font color="#E5E5E5"> notepad on my site so</font><font color="#CCCCCC"> this one goes</font>

1408
00:58:04,340 --> 00:58:09,680
<font color="#E5E5E5">out and we are</font><font color="#CCCCCC"> ready</font><font color="#E5E5E5"> to rock with</font><font color="#CCCCCC"> that</font>

1409
00:58:08,000 --> 00:58:12,680
getting access<font color="#CCCCCC"> to this</font><font color="#E5E5E5"> particular file</font>

1410
00:58:09,680 --> 00:58:15,710
<font color="#E5E5E5">yeah</font><font color="#CCCCCC"> so let me</font><font color="#E5E5E5"> just bring this up to the</font>

1411
00:58:12,680 --> 00:58:19,669
field and<font color="#CCCCCC"> we have it so console needs</font><font color="#E5E5E5"> to</font>

1412
00:58:15,710 --> 00:58:26,060
be running fantastic<font color="#CCCCCC"> and that works this</font>

1413
00:58:19,670 --> 00:58:29,390
way yes<font color="#E5E5E5"> so data protection API leverages</font>

1414
00:58:26,060 --> 00:58:31,009
the<font color="#CCCCCC"> kts keys Kerberos</font><font color="#E5E5E5"> keys these are</font>

1415
00:58:29,390 --> 00:58:34,040
generated<font color="#E5E5E5"> at the first moment you</font>

1416
00:58:31,010 --> 00:58:35,570
leverage data protection API and G for

1417
00:58:34,040 --> 00:58:37,850
example<font color="#E5E5E5"> group managed service accounts</font>

1418
00:58:35,570 --> 00:58:40,340
as well<font color="#E5E5E5"> so first of all in order to be</font>

1419
00:58:37,850 --> 00:58:42,890
able to<font color="#E5E5E5"> do that we have to that get</font>

1420
00:58:40,340 --> 00:58:45,200
these keys<font color="#E5E5E5"> and this is to be done by</font>

1421
00:58:42,890 --> 00:58:48,379
<font color="#CCCCCC">leveraging one of our tools</font><font color="#E5E5E5"> and let me</font>

1422
00:58:45,200 --> 00:58:58,100
<font color="#E5E5E5">just show you I have</font><font color="#CCCCCC"> it already here I</font>

1423
00:58:48,380 --> 00:59:00,410
will just<font color="#E5E5E5"> type it</font><font color="#CCCCCC"> dear</font><font color="#E5E5E5"> NTDs and yes here</font>

1424
00:58:58,100 --> 00:59:03,890
<font color="#E5E5E5">we go and that's gonna be our</font><font color="#CCCCCC"> Decrypter</font>

1425
00:59:00,410 --> 00:59:06,170
yes so<font color="#E5E5E5"> CQ ante the</font><font color="#CCCCCC"> s Decrypter which</font>

1426
00:59:03,890 --> 00:59:09,410
takes parameters<font color="#E5E5E5"> so one of them is</font><font color="#CCCCCC"> a</font>

1427
00:59:06,170 --> 00:59:12,680
boot key and another one it's the file

1428
00:59:09,410 --> 00:59:15,350
and which is the<font color="#E5E5E5"> entity so did it and</font>

1429
00:59:12,680 --> 00:59:19,129
the<font color="#E5E5E5"> KD s key and so we're almost done</font><font color="#CCCCCC"> so</font>

1430
00:59:15,350 --> 00:59:22,549
<font color="#CCCCCC">we've got</font><font color="#E5E5E5"> entities</font><font color="#CCCCCC"> decrypter boot key</font>

1431
00:59:19,130 --> 00:59:26,900
and then<font color="#E5E5E5"> we paste it let me</font><font color="#CCCCCC"> just do it</font>

1432
00:59:22,550 --> 00:59:29,590
country<font color="#E5E5E5"> a</font><font color="#CCCCCC"> ctrl C fine fine here</font><font color="#E5E5E5"> we go</font>

1433
00:59:26,900 --> 00:59:34,100
then we do file which is<font color="#E5E5E5"> NTDs dot did</font>

1434
00:59:29,590 --> 00:59:38,690
out file which is<font color="#CCCCCC"> harshest dot txt</font><font color="#E5E5E5"> PF X</font>

1435
00:59:34,100 --> 00:59:44,000
which<font color="#E5E5E5"> is X dot P effects and KD s root</font>

1436
00:59:38,690 --> 00:59:46,340
key which is KD s dot bin<font color="#E5E5E5"> enter</font><font color="#CCCCCC"> ok and</font>

1437
00:59:44,000 --> 00:59:49,010
after the<font color="#E5E5E5"> moment so this</font><font color="#CCCCCC"> particular key</font>

1438
00:59:46,340 --> 00:59:50,900
is the one that<font color="#E5E5E5"> we are</font><font color="#CCCCCC"> leveraging to</font>

1439
00:59:49,010 --> 00:59:53,120
decrypt<font color="#E5E5E5"> the P effects file or</font><font color="#CCCCCC"> not the</font>

1440
00:59:50,900 --> 00:59:56,360
whole not actually we will need<font color="#E5E5E5"> this</font>

1441
00:59:53,120 --> 01:00:00,049
bigger part here we go<font color="#E5E5E5"> and let's get</font>

1442
00:59:56,360 --> 01:00:01,349
<font color="#CCCCCC">into the decryption</font><font color="#E5E5E5"> so this is the last</font>

1443
01:00:00,050 --> 01:00:03,559
operation

1444
01:00:01,349 --> 01:00:07,499
perfect<font color="#CCCCCC"> where we're gonna leverage them</font>

1445
01:00:03,559 --> 01:00:10,410
<font color="#CCCCCC">see</font><font color="#E5E5E5"> qdp</font><font color="#CCCCCC"> api and so on pfx Decrypter</font>

1446
01:00:07,499 --> 01:00:12,868
which takes<font color="#CCCCCC"> pfx</font><font color="#E5E5E5"> and the master key and</font>

1447
01:00:10,410 --> 01:00:15,959
we have both so let's just rerun it and

1448
01:00:12,869 --> 01:00:19,319
we specify over here<font color="#CCCCCC"> pfx</font><font color="#E5E5E5"> and this was</font>

1449
01:00:15,959 --> 01:00:24,660
our<font color="#CCCCCC"> lis certificate and then we specify</font>

1450
01:00:19,319 --> 01:00:27,288
over here<font color="#E5E5E5"> the master which is</font><font color="#CCCCCC"> of</font><font color="#E5E5E5"> course</font>

1451
01:00:24,660 --> 01:00:30,199
<font color="#E5E5E5">the copy of the key that we made and</font>

1452
01:00:27,289 --> 01:00:32,999
<font color="#E5E5E5">it's you see it says successfully</font>

1453
01:00:30,199 --> 01:00:36,059
<font color="#E5E5E5">decrypted the password which starts</font><font color="#CCCCCC"> with</font>

1454
01:00:32,999 --> 01:00:36,930
<font color="#E5E5E5">what is this like C</font><font color="#CCCCCC"> T and s</font>

1455
01:00:36,059 --> 01:00:39,779
<font color="#CCCCCC">something-something</font>

1456
01:00:36,930 --> 01:00:41,609
and if we<font color="#E5E5E5"> compare that with the machine</font>

1457
01:00:39,779 --> 01:00:43,619
<font color="#E5E5E5">that was out</font><font color="#CCCCCC"> there just to show</font><font color="#E5E5E5"> you that</font>

1458
01:00:41,609 --> 01:00:46,769
<font color="#CCCCCC">it's actually the same one</font><font color="#E5E5E5"> then</font>

1459
01:00:43,619 --> 01:00:48,809
<font color="#E5E5E5">basically we can learn this and then</font>

1460
01:00:46,769 --> 01:00:50,578
this<font color="#E5E5E5"> is the same password at the very</font>

1461
01:00:48,809 --> 01:00:53,699
beginning that<font color="#CCCCCC"> we had so this is how you</font>

1462
01:00:50,579 --> 01:00:57,119
get<font color="#E5E5E5"> access to the pfx files that are</font>

1463
01:00:53,699 --> 01:00:59,910
these<font color="#CCCCCC"> are prediction</font><font color="#E5E5E5"> API encrypted okay</font>

1464
01:00:57,119 --> 01:01:03,449
guys<font color="#CCCCCC"> so woohoo</font>

1465
01:00:59,910 --> 01:01:05,940
this is the toolkit yes<font color="#CCCCCC"> it's even</font><font color="#E5E5E5"> more</font>

1466
01:01:03,449 --> 01:01:07,949
in progress right<font color="#CCCCCC"> now you will find more</font>

1467
01:01:05,940 --> 01:01:10,799
<font color="#CCCCCC">information about the tools etc</font><font color="#E5E5E5"> on our</font>

1468
01:01:07,949 --> 01:01:12,269
block which is<font color="#E5E5E5"> secure academy.com</font><font color="#CCCCCC"> you</font>

1469
01:01:10,799 --> 01:01:15,359
have it in a bottom<font color="#E5E5E5"> this is our</font>

1470
01:01:12,269 --> 01:01:17,459
educational part and there's also a quiz

1471
01:01:15,359 --> 01:01:19,558
if you want to challenge<font color="#E5E5E5"> our team on</font>

1472
01:01:17,459 --> 01:01:22,198
security<font color="#E5E5E5"> it's no registration nothing</font>

1473
01:01:19,559 --> 01:01:25,199
just pure fun<font color="#CCCCCC"> and at the very</font><font color="#E5E5E5"> end just</font>

1474
01:01:22,199 --> 01:01:27,690
<font color="#E5E5E5">to sum up your data prediction API your</font>

1475
01:01:25,199 --> 01:01:30,269
secrets are<font color="#CCCCCC"> are</font><font color="#E5E5E5"> safe as your password</font><font color="#CCCCCC"> is</font>

1476
01:01:27,690 --> 01:01:32,910
as your domain<font color="#E5E5E5"> admin is what in the case</font>

1477
01:01:30,269 --> 01:01:37,379
of a data prediction API system is as

1478
01:01:32,910 --> 01:01:38,910
safe as your computer disk is and when

1479
01:01:37,380 --> 01:01:40,949
during<font color="#E5E5E5"> this presentation</font><font color="#CCCCCC"> what you</font>

1480
01:01:38,910 --> 01:01:43,828
learned are different scopes

1481
01:01:40,949 --> 01:01:46,289
<font color="#E5E5E5">of how windows secrets are protected</font>

1482
01:01:43,829 --> 01:01:47,489
<font color="#E5E5E5">it's not a bad mechanism as you see it's</font>

1483
01:01:46,289 --> 01:01:49,499
<font color="#E5E5E5">just relies on a couple</font><font color="#CCCCCC"> of components</font>

1484
01:01:47,489 --> 01:01:51,089
<font color="#E5E5E5">which we need</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> be aware of now you</font>

1485
01:01:49,499 --> 01:01:53,488
make a<font color="#E5E5E5"> decision if you would like to</font>

1486
01:01:51,089 --> 01:01:56,160
share<font color="#E5E5E5"> that secrets with Windows domain</font>

1487
01:01:53,489 --> 01:01:58,440
admin etc on the<font color="#E5E5E5"> standalone computer as</font>

1488
01:01:56,160 --> 01:02:00,299
I already mentioned is as safe as your

1489
01:01:58,440 --> 01:02:02,459
password<font color="#E5E5E5"> is so if your computer it's not</font>

1490
01:02:00,299 --> 01:02:04,650
a member<font color="#E5E5E5"> on the domain it's not that bad</font>

1491
01:02:02,459 --> 01:02:07,259
hopefully you enjoy<font color="#CCCCCC"> the presentation if</font>

1492
01:02:04,650 --> 01:02:10,229
you<font color="#E5E5E5"> have more</font><font color="#CCCCCC"> questions please of course</font>

1493
01:02:07,259 --> 01:02:13,140
feel free to contact<font color="#CCCCCC"> myself or</font><font color="#E5E5E5"> our team</font>

1494
01:02:10,229 --> 01:02:15,450
and thank you so<font color="#E5E5E5"> much once again for</font>

1495
01:02:13,140 --> 01:02:17,609
coming<font color="#CCCCCC"> and hopefully see you</font><font color="#E5E5E5"> here</font>

1496
01:02:15,450 --> 01:02:19,290
for questions<font color="#E5E5E5"> or for the next part iam</font>

1497
01:02:17,609 --> 01:02:23,360
<font color="#E5E5E5">thank you so much</font>

1498
01:02:19,290 --> 01:02:23,360
[Applause]

