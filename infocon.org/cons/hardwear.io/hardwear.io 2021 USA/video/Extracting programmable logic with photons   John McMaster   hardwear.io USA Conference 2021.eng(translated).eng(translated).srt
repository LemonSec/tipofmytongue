1
00:00:03,410 --> 00:00:05,200
[Music]

2
00:00:05,200 --> 00:00:06,770
[Applause]

3
00:00:06,770 --> 00:00:08,029
[Music]

4
00:00:08,029 --> 00:00:11,179
[Applause]

5
00:00:12,880 --> 00:00:13,679
next talk

6
00:00:13,679 --> 00:00:17,359
uh it's extracting programmable logic

7
00:00:17,359 --> 00:00:19,840
with photons by john mcmaster i would

8
00:00:19,840 --> 00:00:22,240
let him talk and explain more about his

9
00:00:22,240 --> 00:00:24,960
uh title but uh let me quickly do a

10
00:00:24,960 --> 00:00:25,279
quick

11
00:00:25,279 --> 00:00:27,599
introduction to him uh john is a

12
00:00:27,599 --> 00:00:29,119
hardware security expert

13
00:00:29,119 --> 00:00:31,279
based out of santa clara the home of

14
00:00:31,279 --> 00:00:33,360
hardwood auto usa edition

15
00:00:33,360 --> 00:00:35,520
uh i normally like to introduce john

16
00:00:35,520 --> 00:00:37,760
about his hobbies and not about his work

17
00:00:37,760 --> 00:00:40,399
because uh he does that on twitter a lot

18
00:00:40,399 --> 00:00:40,960
uh

19
00:00:40,960 --> 00:00:42,960
but uh let me give you guys some more

20
00:00:42,960 --> 00:00:44,239
insights uh

21
00:00:44,239 --> 00:00:47,280
on john uh he has an army of bomb

22
00:00:47,280 --> 00:00:49,280
disposable robots

23
00:00:49,280 --> 00:00:51,280
and voicing your concerns as they grow

24
00:00:51,280 --> 00:00:53,520
in the number and strength

25
00:00:53,520 --> 00:00:55,440
uh john you may want to show them at the

26
00:00:55,440 --> 00:00:57,360
end uh or whenever

27
00:00:57,360 --> 00:00:59,520
uh one of them also has an electrical

28
00:00:59,520 --> 00:01:01,120
connection to a shotgun

29
00:01:01,120 --> 00:01:03,760
i do not know why you have that but okay

30
00:01:03,760 --> 00:01:05,119
um

31
00:01:05,119 --> 00:01:07,680
another fun fact about john he was part

32
00:01:07,680 --> 00:01:09,280
of launching a satellite

33
00:01:09,280 --> 00:01:12,960
uh in uh sriharikota

34
00:01:12,960 --> 00:01:15,200
which he signed it with a special marker

35
00:01:15,200 --> 00:01:17,280
in the clean room before launch

36
00:01:17,280 --> 00:01:18,479
i do not know what you were doing in the

37
00:01:18,479 --> 00:01:20,400
clean room john but

38
00:01:20,400 --> 00:01:23,840
one day somebody will find it out

39
00:01:23,840 --> 00:01:26,799
all right john thank you so much for

40
00:01:26,799 --> 00:01:27,680
coming uh

41
00:01:27,680 --> 00:01:29,600
and i think you can start your

42
00:01:29,600 --> 00:01:31,520
presentation

43
00:01:31,520 --> 00:01:32,799
sure thing well thank you very much for

44
00:01:32,799 --> 00:01:34,560
that warm introduction uh

45
00:01:34,560 --> 00:01:36,799
yeah uh bomb disposal robots they're

46
00:01:36,799 --> 00:01:38,479
growing in number and uh

47
00:01:38,479 --> 00:01:40,479
hopefully i'll get to do a presentation

48
00:01:40,479 --> 00:01:42,000
at some point before they take over the

49
00:01:42,000 --> 00:01:43,280
world on those

50
00:01:43,280 --> 00:01:45,360
all right let me uh let me get a screen

51
00:01:45,360 --> 00:01:46,880
share up here

52
00:01:46,880 --> 00:01:50,000
and uh hopefully you can see this

53
00:01:50,000 --> 00:01:52,560
and i'm gonna go to presenter view and

54
00:01:52,560 --> 00:01:54,320
uh hello and welcome uh just please

55
00:01:54,320 --> 00:01:55,840
confirm you can hear me you can see the

56
00:01:55,840 --> 00:01:56,640
screen

57
00:01:56,640 --> 00:01:59,040
and if that's absolutely good great well

58
00:01:59,040 --> 00:02:00,479
thank you very much let's get started

59
00:02:00,479 --> 00:02:01,360
then

60
00:02:01,360 --> 00:02:04,159
all right so uh i gave a talk a few

61
00:02:04,159 --> 00:02:04,960
years ago

62
00:02:04,960 --> 00:02:07,520
talking about how uh when computer chips

63
00:02:07,520 --> 00:02:08,318
operate

64
00:02:08,318 --> 00:02:11,200
you know ics they give off some infrared

65
00:02:11,200 --> 00:02:12,239
emissions

66
00:02:12,239 --> 00:02:14,640
as the circuit is operating and

67
00:02:14,640 --> 00:02:16,560
basically these are at around

68
00:02:16,560 --> 00:02:19,440
1100 nanometers and the cool thing is

69
00:02:19,440 --> 00:02:20,959
these are related to how much

70
00:02:20,959 --> 00:02:23,760
current is flowing through the chip and

71
00:02:23,760 --> 00:02:26,000
so if you activate some circuitry for

72
00:02:26,000 --> 00:02:26,879
example

73
00:02:26,879 --> 00:02:29,440
that is related to an adc you can

74
00:02:29,440 --> 00:02:30,560
actually

75
00:02:30,560 --> 00:02:33,280
optically see the adc lighting up on the

76
00:02:33,280 --> 00:02:33,840
chip

77
00:02:33,840 --> 00:02:36,319
and this can be used to actually figure

78
00:02:36,319 --> 00:02:37,680
out how the circuits work

79
00:02:37,680 --> 00:02:41,840
to some degree and i explored this

80
00:02:41,840 --> 00:02:43,680
in the previous talk by taking a

81
00:02:43,680 --> 00:02:45,680
relatively low cost camera this camera

82
00:02:45,680 --> 00:02:46,400
was about

83
00:02:46,400 --> 00:02:50,480
500 on aliexpress and it's called a back

84
00:02:50,480 --> 00:02:53,440
illuminated cmos camera and i made some

85
00:02:53,440 --> 00:02:55,519
very small tweaks to it to work a little

86
00:02:55,519 --> 00:02:57,519
bit better for this purpose

87
00:02:57,519 --> 00:02:59,760
notably most cameras have something

88
00:02:59,760 --> 00:03:00,879
called an ir

89
00:03:00,879 --> 00:03:03,519
blocking filter that is infrared light

90
00:03:03,519 --> 00:03:04,080
blocking

91
00:03:04,080 --> 00:03:07,120
filter because you know 1100 nanometers

92
00:03:07,120 --> 00:03:08,800
is kind of the wavelength that's that's

93
00:03:08,800 --> 00:03:11,120
kind of called shortwave infrared

94
00:03:11,120 --> 00:03:12,159
roughly

95
00:03:12,159 --> 00:03:14,879
and most cameras will actually filter

96
00:03:14,879 --> 00:03:16,800
out the light from this intentionally

97
00:03:16,800 --> 00:03:18,560
because mostly you want to see what your

98
00:03:18,560 --> 00:03:20,480
eyeballs can see you know not what

99
00:03:20,480 --> 00:03:22,640
silicon happens to be good at seeing

100
00:03:22,640 --> 00:03:24,480
so they'll block this out with an ir

101
00:03:24,480 --> 00:03:26,159
block filter but i

102
00:03:26,159 --> 00:03:28,239
wanted to see that so i removed the

103
00:03:28,239 --> 00:03:29,440
original filter

104
00:03:29,440 --> 00:03:31,599
and instead installed that black filter

105
00:03:31,599 --> 00:03:33,440
at the right which is called an ir

106
00:03:33,440 --> 00:03:35,920
pass filter and that looks opaque to you

107
00:03:35,920 --> 00:03:37,760
you know you can't really see through it

108
00:03:37,760 --> 00:03:40,239
but that filter can see in this kind of

109
00:03:40,239 --> 00:03:42,239
1100 nanometer range

110
00:03:42,239 --> 00:03:44,560
that i want to see and that allows me to

111
00:03:44,560 --> 00:03:46,239
take things out like you know light

112
00:03:46,239 --> 00:03:48,159
going through you know the windows in

113
00:03:48,159 --> 00:03:50,159
the room or you know overhead how

114
00:03:50,159 --> 00:03:52,080
uh you know fluorescent lights you know

115
00:03:52,080 --> 00:03:53,280
kind of stuff like that

116
00:03:53,280 --> 00:03:56,080
i'm able to just narrow down to just the

117
00:03:56,080 --> 00:03:58,159
signals that i want to see from the chip

118
00:03:58,159 --> 00:04:00,319
which is really important because not a

119
00:04:00,319 --> 00:04:02,000
lot of light comes off the chip as

120
00:04:02,000 --> 00:04:02,959
you're doing this

121
00:04:02,959 --> 00:04:05,680
so you really need to narrow down to

122
00:04:05,680 --> 00:04:06,799
just the right signals

123
00:04:06,799 --> 00:04:08,319
if you actually want to get above the

124
00:04:08,319 --> 00:04:10,159
noise floor okay

125
00:04:10,159 --> 00:04:12,400
with that in mind um i guess i'll also

126
00:04:12,400 --> 00:04:13,280
add real quick

127
00:04:13,280 --> 00:04:15,599
that this is an example of what was in

128
00:04:15,599 --> 00:04:16,880
the previous talk

129
00:04:16,880 --> 00:04:21,040
and uh so here's an example where i was

130
00:04:21,040 --> 00:04:24,160
giving external inputs to this chip via

131
00:04:24,160 --> 00:04:25,600
some logic pins

132
00:04:25,600 --> 00:04:27,919
and i was observing how the emissions

133
00:04:27,919 --> 00:04:29,680
changed on the chip

134
00:04:29,680 --> 00:04:32,800
so for example you can see that

135
00:04:32,800 --> 00:04:35,600
we had two inputs input one and input

136
00:04:35,600 --> 00:04:36,479
two

137
00:04:36,479 --> 00:04:39,520
and as i had both of them low

138
00:04:39,520 --> 00:04:41,759
or one of them low it had one specific

139
00:04:41,759 --> 00:04:42,800
logic state

140
00:04:42,800 --> 00:04:46,240
but as soon as i put both inputs high uh

141
00:04:46,240 --> 00:04:48,880
the the logic states changed and that

142
00:04:48,880 --> 00:04:51,199
kind of indicates like an and gate type

143
00:04:51,199 --> 00:04:52,320
relationship

144
00:04:52,320 --> 00:04:55,360
or in this case a two input nand gate

145
00:04:55,360 --> 00:04:57,040
and if you want some more details on

146
00:04:57,040 --> 00:04:58,720
exactly how that worked

147
00:04:58,720 --> 00:05:00,880
i refer you to the previous talk but

148
00:05:00,880 --> 00:05:02,000
just want to give a little bit of

149
00:05:02,000 --> 00:05:02,880
background here

150
00:05:02,880 --> 00:05:04,639
about some of the concepts i was playing

151
00:05:04,639 --> 00:05:06,240
with before okay

152
00:05:06,240 --> 00:05:09,039
with that in mind you know this was kind

153
00:05:09,039 --> 00:05:09,280
of

154
00:05:09,280 --> 00:05:10,720
a little bit interesting to me you know

155
00:05:10,720 --> 00:05:12,160
it was a little bit toy to see

156
00:05:12,160 --> 00:05:13,680
especially what i could push

157
00:05:13,680 --> 00:05:15,919
in the hobbyist space but it was still a

158
00:05:15,919 --> 00:05:17,199
little bit theoretical

159
00:05:17,199 --> 00:05:19,440
a little bit abstract i was dealing with

160
00:05:19,440 --> 00:05:20,960
you know kind of these little

161
00:05:20,960 --> 00:05:23,280
puzzles of logic it felt more like a

162
00:05:23,280 --> 00:05:24,320
sudoku

163
00:05:24,320 --> 00:05:25,919
than you know trying to trying to like

164
00:05:25,919 --> 00:05:27,600
crack the enigma code

165
00:05:27,600 --> 00:05:29,840
and so there was a question of like hey

166
00:05:29,840 --> 00:05:31,440
this is a fun toy

167
00:05:31,440 --> 00:05:33,199
but you know are there some more kind of

168
00:05:33,199 --> 00:05:36,000
fun real world applications of this

169
00:05:36,000 --> 00:05:38,160
and another thing that also came to mind

170
00:05:38,160 --> 00:05:40,320
is the the obvious choice for a lot of

171
00:05:40,320 --> 00:05:41,440
people that deal

172
00:05:41,440 --> 00:05:43,199
with this sort of uh color like side

173
00:05:43,199 --> 00:05:44,880
channel analysis you know where you're

174
00:05:44,880 --> 00:05:46,880
you're you're operating a system and

175
00:05:46,880 --> 00:05:48,160
you're looking to see

176
00:05:48,160 --> 00:05:50,400
what other signals might be given off by

177
00:05:50,400 --> 00:05:52,400
it a lot of people's default answer is

178
00:05:52,400 --> 00:05:53,360
cryptography and

179
00:05:53,360 --> 00:05:54,800
in fact there's a lot that you can do

180
00:05:54,800 --> 00:05:56,560
with this uh if you

181
00:05:56,560 --> 00:05:59,280
start looking at s boxes for example uh

182
00:05:59,280 --> 00:06:00,880
on a chip you know there's a lot of

183
00:06:00,880 --> 00:06:01,520
people like

184
00:06:01,520 --> 00:06:03,600
nidos for example i think did some great

185
00:06:03,600 --> 00:06:04,560
papers on that

186
00:06:04,560 --> 00:06:06,880
you know where he's correlating uh these

187
00:06:06,880 --> 00:06:08,319
emissions you can crap

188
00:06:08,319 --> 00:06:10,560
crack a cryptographic system based off

189
00:06:10,560 --> 00:06:12,479
that but i wanted to see if i could do

190
00:06:12,479 --> 00:06:14,479
something a little bit different

191
00:06:14,479 --> 00:06:17,520
and here is uh where we enter

192
00:06:17,520 --> 00:06:20,400
a project that i was working on and

193
00:06:20,400 --> 00:06:21,600
thinking about

194
00:06:21,600 --> 00:06:23,919
different ways that i could solve it so

195
00:06:23,919 --> 00:06:25,680
let's talk about what that project is

196
00:06:25,680 --> 00:06:27,759
and then we'll circle around to how you

197
00:06:27,759 --> 00:06:30,160
know the overarching talk theme fits in

198
00:06:30,160 --> 00:06:32,080
this is something called a track star

199
00:06:32,080 --> 00:06:34,080
128 which is a crazy

200
00:06:34,080 --> 00:06:36,319
peripheral to me it basically is like

201
00:06:36,319 --> 00:06:38,240
hey you bought a pc but you wish you had

202
00:06:38,240 --> 00:06:39,199
an apple too

203
00:06:39,199 --> 00:06:41,199
i've got news for you just stick this

204
00:06:41,199 --> 00:06:43,039
card in your pc and now you've got an

205
00:06:43,039 --> 00:06:44,000
apple too

206
00:06:44,000 --> 00:06:45,520
i don't know how that works out from a

207
00:06:45,520 --> 00:06:47,120
licensing perspective i don't know if

208
00:06:47,120 --> 00:06:47,680
everyone

209
00:06:47,680 --> 00:06:49,199
everyone was suing everyone when this

210
00:06:49,199 --> 00:06:50,960
type of stuff happened but

211
00:06:50,960 --> 00:06:53,120
lo and behold this was something on the

212
00:06:53,120 --> 00:06:54,720
the market you could buy

213
00:06:54,720 --> 00:06:56,479
and you get an apple too even though you

214
00:06:56,479 --> 00:06:59,199
had a pc and uh kind of nifty little

215
00:06:59,199 --> 00:07:00,000
device

216
00:07:00,000 --> 00:07:01,919
and people have fond memories of this

217
00:07:01,919 --> 00:07:04,240
device and some people just for fun

218
00:07:04,240 --> 00:07:06,000
you know they wanted to understand how

219
00:07:06,000 --> 00:07:08,400
it works and the good news is a lot of

220
00:07:08,400 --> 00:07:09,199
it is just

221
00:07:09,199 --> 00:07:11,840
in these uh these eproms on there these

222
00:07:11,840 --> 00:07:13,120
you know they have the firmware you know

223
00:07:13,120 --> 00:07:14,639
that running i guess some micro

224
00:07:14,639 --> 00:07:16,400
controllers on there i haven't looked at

225
00:07:16,400 --> 00:07:18,160
that bit as carefully

226
00:07:18,160 --> 00:07:20,000
but the problem is there's a lot of

227
00:07:20,000 --> 00:07:21,599
programmable logic on this

228
00:07:21,599 --> 00:07:24,160
as well so if you want to understand

229
00:07:24,160 --> 00:07:25,599
kind of how all the signals

230
00:07:25,599 --> 00:07:29,039
routed together to tie this into one big

231
00:07:29,039 --> 00:07:30,240
unified device

232
00:07:30,240 --> 00:07:32,319
you also need to understand what are in

233
00:07:32,319 --> 00:07:33,840
those logic chips

234
00:07:33,840 --> 00:07:36,160
unfortunately those logic chips were

235
00:07:36,160 --> 00:07:38,160
protected so that you couldn't get

236
00:07:38,160 --> 00:07:41,680
the data out of them directly and

237
00:07:41,680 --> 00:07:44,319
uh what i'm going to show then is three

238
00:07:44,319 --> 00:07:45,199
different ways

239
00:07:45,199 --> 00:07:47,680
to get the data out of those chips uh

240
00:07:47,680 --> 00:07:49,120
just to show a lot of different ways

241
00:07:49,120 --> 00:07:50,879
that you can approach a problem

242
00:07:50,879 --> 00:07:52,960
okay let's start with a little

243
00:07:52,960 --> 00:07:54,639
background on these as

244
00:07:54,639 --> 00:07:56,400
everyone who's ever talked to me knows i

245
00:07:56,400 --> 00:07:58,000
basically decap everything

246
00:07:58,000 --> 00:08:00,560
that comes my way you know one time joe

247
00:08:00,560 --> 00:08:01,599
grant came over

248
00:08:01,599 --> 00:08:03,680
for a picnic basically with his family

249
00:08:03,680 --> 00:08:05,360
and i think his wife was afraid that i

250
00:08:05,360 --> 00:08:06,879
was gonna like decap his kids or

251
00:08:06,879 --> 00:08:08,000
something like that because

252
00:08:08,000 --> 00:08:09,520
you know she she like made him like

253
00:08:09,520 --> 00:08:11,039
scout the property before they were

254
00:08:11,039 --> 00:08:12,400
released to like make sure everything

255
00:08:12,400 --> 00:08:13,199
was safe

256
00:08:13,199 --> 00:08:16,080
but anyways uh here is uh here's one of

257
00:08:16,080 --> 00:08:18,879
these programmable logic chips on the uh

258
00:08:18,879 --> 00:08:21,599
on the uh the pal uh sorry the track

259
00:08:21,599 --> 00:08:22,160
star

260
00:08:22,160 --> 00:08:24,879
uh there's the pal 16 r8 which is going

261
00:08:24,879 --> 00:08:26,800
to be the focus of this talk

262
00:08:26,800 --> 00:08:29,199
and this is a so-called registered logic

263
00:08:29,199 --> 00:08:30,000
device

264
00:08:30,000 --> 00:08:31,759
and that means that you have some logic

265
00:08:31,759 --> 00:08:34,000
signals that come into this device

266
00:08:34,000 --> 00:08:35,760
it goes through like some and and or

267
00:08:35,760 --> 00:08:37,599
gates they're kind of programmable

268
00:08:37,599 --> 00:08:39,039
in a similar way that you might have an

269
00:08:39,039 --> 00:08:40,799
fpga that is programmable but

270
00:08:40,799 --> 00:08:42,958
this is like a much simpler version and

271
00:08:42,958 --> 00:08:45,360
then they go to some output registers

272
00:08:45,360 --> 00:08:47,040
which are directly connected to the

273
00:08:47,040 --> 00:08:47,839
outputs

274
00:08:47,839 --> 00:08:51,519
they also have a so-called pal 16 l8

275
00:08:51,519 --> 00:08:53,839
instead of r and that one doesn't have

276
00:08:53,839 --> 00:08:56,000
the registers so it's very simple

277
00:08:56,000 --> 00:08:58,560
you know input signal in output signal

278
00:08:58,560 --> 00:08:59,120
out

279
00:08:59,120 --> 00:09:02,320
and not a lot of state in between and

280
00:09:02,320 --> 00:09:03,760
uh let me just check something real

281
00:09:03,760 --> 00:09:06,080
quick um and just for reference there

282
00:09:06,080 --> 00:09:06,480
are

283
00:09:06,480 --> 00:09:09,839
seven of the pal 16 l8 and one of the

284
00:09:09,839 --> 00:09:11,440
pal 16 r8

285
00:09:11,440 --> 00:09:13,519
just if you're curious and i don't know

286
00:09:13,519 --> 00:09:15,279
if you can see my mouse pointer here i

287
00:09:15,279 --> 00:09:16,320
hope you can

288
00:09:16,320 --> 00:09:19,279
uh because that will be useful later but

289
00:09:19,279 --> 00:09:19,920
uh

290
00:09:19,920 --> 00:09:22,880
there is the center area here which has

291
00:09:22,880 --> 00:09:25,200
basically the actual logic

292
00:09:25,200 --> 00:09:27,200
with the fuses that get programmed into

293
00:09:27,200 --> 00:09:28,959
this part and uh

294
00:09:28,959 --> 00:09:31,680
let's talk about that a little bit more

295
00:09:31,680 --> 00:09:32,160
now

296
00:09:32,160 --> 00:09:34,080
and what are some of the options for

297
00:09:34,080 --> 00:09:36,160
getting the programmed fuses out of this

298
00:09:36,160 --> 00:09:38,080
part

299
00:09:38,080 --> 00:09:39,839
the first thing is in the most simple

300
00:09:39,839 --> 00:09:41,440
and this is what basically is the de

301
00:09:41,440 --> 00:09:42,959
facto standard today

302
00:09:42,959 --> 00:09:45,519
you know if for example on these l parts

303
00:09:45,519 --> 00:09:46,240
which are just

304
00:09:46,240 --> 00:09:48,800
simple inputs there's a lookup table and

305
00:09:48,800 --> 00:09:50,000
there's an output

306
00:09:50,000 --> 00:09:52,320
if you just enumerate all of the

307
00:09:52,320 --> 00:09:54,240
different inputs you're going to get all

308
00:09:54,240 --> 00:09:55,120
the outputs

309
00:09:55,120 --> 00:09:58,320
there's no state it's very easy to to

310
00:09:58,320 --> 00:09:58,800
just

311
00:09:58,800 --> 00:10:01,360
brute force all the inputs get all the

312
00:10:01,360 --> 00:10:02,160
outputs

313
00:10:02,160 --> 00:10:03,440
and then you can make an equivalent

314
00:10:03,440 --> 00:10:05,120
device you're not going to get the

315
00:10:05,120 --> 00:10:07,120
original programming file

316
00:10:07,120 --> 00:10:08,800
sometimes there's uh you know equivalent

317
00:10:08,800 --> 00:10:10,480
logic that you can do

318
00:10:10,480 --> 00:10:13,360
um but uh you'll get something that's

319
00:10:13,360 --> 00:10:14,800
functional equivalent and for a lot of

320
00:10:14,800 --> 00:10:16,320
people that's good enough

321
00:10:16,320 --> 00:10:18,800
and the device on the left for example

322
00:10:18,800 --> 00:10:19,440
which is called

323
00:10:19,440 --> 00:10:21,680
read pal is is a really great project

324
00:10:21,680 --> 00:10:22,720
for doing this

325
00:10:22,720 --> 00:10:24,880
and what this does is it converts the

326
00:10:24,880 --> 00:10:26,320
pin out basically

327
00:10:26,320 --> 00:10:29,279
of these devices to a more conventional

328
00:10:29,279 --> 00:10:30,399
eeprom pin out

329
00:10:30,399 --> 00:10:32,720
which basically any device programmer is

330
00:10:32,720 --> 00:10:33,839
going to support

331
00:10:33,839 --> 00:10:35,760
and this means that for very minimal

332
00:10:35,760 --> 00:10:37,279
simple hardware that you can easily

333
00:10:37,279 --> 00:10:38,240
breadboard up

334
00:10:38,240 --> 00:10:40,320
and some very easily accessible

335
00:10:40,320 --> 00:10:41,600
off-the-shelf hardware

336
00:10:41,600 --> 00:10:43,279
you're going to be able to do this brute

337
00:10:43,279 --> 00:10:45,279
force readout on one of these devices

338
00:10:45,279 --> 00:10:47,200
trivially

339
00:10:47,200 --> 00:10:49,680
an upgrade to this a good example though

340
00:10:49,680 --> 00:10:51,519
is the do pal project which you can see

341
00:10:51,519 --> 00:10:52,959
the pcb at the right

342
00:10:52,959 --> 00:10:55,440
and the innovation on this project is

343
00:10:55,440 --> 00:10:57,519
there are these registers inside this

344
00:10:57,519 --> 00:10:58,240
device

345
00:10:58,240 --> 00:11:00,160
and although you can get the state of

346
00:11:00,160 --> 00:11:01,360
the registers

347
00:11:01,360 --> 00:11:02,480
because they're directly connected to

348
00:11:02,480 --> 00:11:04,399
the output pin if you want to get

349
00:11:04,399 --> 00:11:06,320
all of the states of the device you need

350
00:11:06,320 --> 00:11:07,440
to iteratively

351
00:11:07,440 --> 00:11:09,600
go through all of the states and get all

352
00:11:09,600 --> 00:11:11,200
of the input permutations

353
00:11:11,200 --> 00:11:12,720
that generate all of the output

354
00:11:12,720 --> 00:11:15,519
permutations for every known register

355
00:11:15,519 --> 00:11:16,320
state

356
00:11:16,320 --> 00:11:18,320
and so what do pal does is it starts

357
00:11:18,320 --> 00:11:20,160
with the entry state

358
00:11:20,160 --> 00:11:23,040
and says hey could i flip any registers

359
00:11:23,040 --> 00:11:24,079
and if it does

360
00:11:24,079 --> 00:11:25,839
it kind of remembers how to get to those

361
00:11:25,839 --> 00:11:27,200
registered states

362
00:11:27,200 --> 00:11:28,959
and iteratively figures out every

363
00:11:28,959 --> 00:11:31,360
possible state that the device can go in

364
00:11:31,360 --> 00:11:33,760
really cool but the complexity of the

365
00:11:33,760 --> 00:11:35,040
pcb on the right

366
00:11:35,040 --> 00:11:36,880
is an order of magnitude more complex

367
00:11:36,880 --> 00:11:38,720
than the pcb on the left

368
00:11:38,720 --> 00:11:41,440
and so one thing that i played with a

369
00:11:41,440 --> 00:11:43,200
little bit just as an aside

370
00:11:43,200 --> 00:11:46,720
was i also took the tl 866 programmer

371
00:11:46,720 --> 00:11:48,480
which is very popular and i maintained

372
00:11:48,480 --> 00:11:50,480
some open source firmware for

373
00:11:50,480 --> 00:11:53,279
and i created open uh sorry there's open

374
00:11:53,279 --> 00:11:55,839
tl86 which is the open source firmware

375
00:11:55,839 --> 00:11:56,240
and

376
00:11:56,240 --> 00:11:58,800
then there was a modification called pal

377
00:11:58,800 --> 00:12:00,000
866

378
00:12:00,000 --> 00:12:02,880
was which was basically a port of do pal

379
00:12:02,880 --> 00:12:04,480
to the tl866

380
00:12:04,480 --> 00:12:06,240
and the idea was that you tried to get

381
00:12:06,240 --> 00:12:08,079
the the best of both worlds

382
00:12:08,079 --> 00:12:10,240
where it was off the shelf hardware that

383
00:12:10,240 --> 00:12:12,160
could also run this more complex

384
00:12:12,160 --> 00:12:14,720
algorithm and that may be a talk uh that

385
00:12:14,720 --> 00:12:15,760
i'll give in the future

386
00:12:15,760 --> 00:12:17,200
um because that's still a little bit of

387
00:12:17,200 --> 00:12:19,040
a work in progress anyway

388
00:12:19,040 --> 00:12:20,480
the problem with all these methods

389
00:12:20,480 --> 00:12:21,920
though is that you get equivalent

390
00:12:21,920 --> 00:12:23,680
firmware not the original

391
00:12:23,680 --> 00:12:25,519
and part of this kind of preservation

392
00:12:25,519 --> 00:12:27,360
effort people were also really

393
00:12:27,360 --> 00:12:29,600
interested hey can you actually get the

394
00:12:29,600 --> 00:12:31,200
exact original firmware

395
00:12:31,200 --> 00:12:33,279
so these are 100 you know replacement

396
00:12:33,279 --> 00:12:35,040
parts no question about it

397
00:12:35,040 --> 00:12:36,720
and that gave me some motivation to dig

398
00:12:36,720 --> 00:12:38,399
a little bit deeper

399
00:12:38,399 --> 00:12:40,720
and uh as some of you may know i like to

400
00:12:40,720 --> 00:12:42,480
do a lot with mask roms i've done a few

401
00:12:42,480 --> 00:12:44,000
talks of them on the past

402
00:12:44,000 --> 00:12:46,160
and there's a question are these fuses

403
00:12:46,160 --> 00:12:47,920
that you physically burn on a part

404
00:12:47,920 --> 00:12:49,440
you know just like an electrical fuse

405
00:12:49,440 --> 00:12:51,600
you you pass some current through it

406
00:12:51,600 --> 00:12:54,160
uh the the metal blows out could you see

407
00:12:54,160 --> 00:12:55,680
that under a microscope you know if it's

408
00:12:55,680 --> 00:12:57,040
making a physical change

409
00:12:57,040 --> 00:12:59,200
you should be able to and lo and behold

410
00:12:59,200 --> 00:13:00,399
if you look below

411
00:13:00,399 --> 00:13:02,240
you can see that i have eight fuses

412
00:13:02,240 --> 00:13:03,680
there those are those little

413
00:13:03,680 --> 00:13:06,480
um you know hourglass shaped areas the

414
00:13:06,480 --> 00:13:07,519
upper left one

415
00:13:07,519 --> 00:13:09,920
has been burned and the lower right one

416
00:13:09,920 --> 00:13:10,880
has been burned

417
00:13:10,880 --> 00:13:13,279
but the other six there are still intact

418
00:13:13,279 --> 00:13:14,000
so

419
00:13:14,000 --> 00:13:16,000
we don't exactly know from this image

420
00:13:16,000 --> 00:13:18,160
what is a one and what is a zero

421
00:13:18,160 --> 00:13:20,399
but by just looking at a blank part for

422
00:13:20,399 --> 00:13:21,200
example

423
00:13:21,200 --> 00:13:23,040
we can even figure out you know oh you

424
00:13:23,040 --> 00:13:25,040
know all zeros is a blank part

425
00:13:25,040 --> 00:13:26,639
so you know if we have that shiny

426
00:13:26,639 --> 00:13:29,440
hourglass fuse there that's a zero

427
00:13:29,440 --> 00:13:31,519
great so so we know that we can see the

428
00:13:31,519 --> 00:13:34,160
fuses but how do we figure out where

429
00:13:34,160 --> 00:13:36,480
each individual fuse is located on the

430
00:13:36,480 --> 00:13:37,440
die

431
00:13:37,440 --> 00:13:40,959
and um one nice thing about this as well

432
00:13:40,959 --> 00:13:43,760
is there is a lot of existing tooling

433
00:13:43,760 --> 00:13:44,959
out there so

434
00:13:44,959 --> 00:13:47,279
for example there's a tool called rompar

435
00:13:47,279 --> 00:13:49,279
that's able to do some computer vision

436
00:13:49,279 --> 00:13:51,600
on memory layouts like this and it

437
00:13:51,600 --> 00:13:52,959
should be able to without someone you

438
00:13:52,959 --> 00:13:54,959
know typing on a keyboard one zero one

439
00:13:54,959 --> 00:13:56,079
zero one zero

440
00:13:56,079 --> 00:13:58,160
uh convert this into what i call a bit

441
00:13:58,160 --> 00:14:00,480
matrix which is like a text file that

442
00:14:00,480 --> 00:14:02,480
says zero one zero one zero

443
00:14:02,480 --> 00:14:05,440
and uh so we can also work a lot of this

444
00:14:05,440 --> 00:14:07,440
into our existing workflows

445
00:14:07,440 --> 00:14:08,880
even though i haven't seen a lot of

446
00:14:08,880 --> 00:14:10,720
people specifically uh

447
00:14:10,720 --> 00:14:13,199
reading out fuses under microscopes but

448
00:14:13,199 --> 00:14:14,160
i digress

449
00:14:14,160 --> 00:14:15,920
uh let's go back to this bigger problem

450
00:14:15,920 --> 00:14:17,600
is how do we know what the memory layout

451
00:14:17,600 --> 00:14:18,560
for this is

452
00:14:18,560 --> 00:14:19,920
uh because if we had say a

453
00:14:19,920 --> 00:14:22,320
microcontroller we might be able to make

454
00:14:22,320 --> 00:14:23,360
some guesses

455
00:14:23,360 --> 00:14:25,040
by disassembling some firmware

456
00:14:25,040 --> 00:14:26,639
repeatedly and

457
00:14:26,639 --> 00:14:28,320
uh maybe at some point you know the

458
00:14:28,320 --> 00:14:30,560
disassembly made sense and we go oh

459
00:14:30,560 --> 00:14:32,240
you know that's a valid main function

460
00:14:32,240 --> 00:14:33,600
great we're done

461
00:14:33,600 --> 00:14:35,360
but when it's logic it's a little bit

462
00:14:35,360 --> 00:14:36,639
more complicated

463
00:14:36,639 --> 00:14:39,040
you know maybe uh maybe we form an

464
00:14:39,040 --> 00:14:41,199
invalid logic circuit so we say okay

465
00:14:41,199 --> 00:14:42,000
this isn't right

466
00:14:42,000 --> 00:14:43,600
but it's a little bit more abstract it's

467
00:14:43,600 --> 00:14:45,279
a little more generic so a little bit

468
00:14:45,279 --> 00:14:47,360
hard to figure out

469
00:14:47,360 --> 00:14:48,880
and this is where i started thinking

470
00:14:48,880 --> 00:14:50,480
back to some of the work i'd done

471
00:14:50,480 --> 00:14:51,440
previously

472
00:14:51,440 --> 00:14:54,399
with the uh the chip admissions work and

473
00:14:54,399 --> 00:14:56,160
i said hey you know something

474
00:14:56,160 --> 00:14:58,720
i bet even though i can't see it i bet a

475
00:14:58,720 --> 00:15:00,480
lot of light gets put off when you blow

476
00:15:00,480 --> 00:15:01,440
these fuses

477
00:15:01,440 --> 00:15:03,040
you know either they're heating up and

478
00:15:03,040 --> 00:15:04,800
maybe there's a spark something like

479
00:15:04,800 --> 00:15:05,360
that

480
00:15:05,360 --> 00:15:08,720
and sure enough i took uh some exposures

481
00:15:08,720 --> 00:15:10,160
while blowing some fuses

482
00:15:10,160 --> 00:15:12,000
under that emissions microscope from

483
00:15:12,000 --> 00:15:14,320
earlier the one that i'm able to capture

484
00:15:14,320 --> 00:15:16,160
the infrared light on a chip

485
00:15:16,160 --> 00:15:19,199
and here's an example where i blew

486
00:15:19,199 --> 00:15:21,680
three fuses out of four in this area and

487
00:15:21,680 --> 00:15:23,680
you can see those little explosions on

488
00:15:23,680 --> 00:15:25,120
the left have been captured

489
00:15:25,120 --> 00:15:28,000
and resulted in the the layout at the

490
00:15:28,000 --> 00:15:28,480
right

491
00:15:28,480 --> 00:15:30,639
where we see three blown fuses now and

492
00:15:30,639 --> 00:15:32,240
one unblown fuse

493
00:15:32,240 --> 00:15:35,440
so great this is a proof of concept uh

494
00:15:35,440 --> 00:15:38,880
if i'm able to see a fuse why not blow

495
00:15:38,880 --> 00:15:41,920
one fuse at a time take like a time

496
00:15:41,920 --> 00:15:43,839
lapse so like blow and fuse take a

497
00:15:43,839 --> 00:15:45,839
picture blow and fuse take a picture

498
00:15:45,839 --> 00:15:48,160
and if i do this enough it should give

499
00:15:48,160 --> 00:15:50,240
me enough information to very quickly

500
00:15:50,240 --> 00:15:51,440
figure out the entire

501
00:15:51,440 --> 00:15:53,440
memory layout of the device because i

502
00:15:53,440 --> 00:15:55,600
have basically literally a picture

503
00:15:55,600 --> 00:15:58,959
that says oh this fuse is here okay

504
00:15:58,959 --> 00:16:00,240
let's take a look at what that would

505
00:16:00,240 --> 00:16:02,160
look like

506
00:16:02,160 --> 00:16:05,279
the biggest problem with this though is

507
00:16:05,279 --> 00:16:08,000
there's a lot of like very proprietary

508
00:16:08,000 --> 00:16:09,920
software that i'm using to like program

509
00:16:09,920 --> 00:16:10,720
this

510
00:16:10,720 --> 00:16:12,880
uh you know kind of weird camera stuff i

511
00:16:12,880 --> 00:16:13,759
needed a way

512
00:16:13,759 --> 00:16:16,000
to to tie all of this together from the

513
00:16:16,000 --> 00:16:17,120
automation side

514
00:16:17,120 --> 00:16:19,120
and what i decided to do with that was

515
00:16:19,120 --> 00:16:21,040
use something called auto hotkey

516
00:16:21,040 --> 00:16:23,279
which is like the best worst programming

517
00:16:23,279 --> 00:16:24,639
language out there

518
00:16:24,639 --> 00:16:26,639
in that it does some really amazing

519
00:16:26,639 --> 00:16:29,040
things it's just that you uh when you

520
00:16:29,040 --> 00:16:30,160
use it you're like

521
00:16:30,160 --> 00:16:32,720
oh man i wish version two would come out

522
00:16:32,720 --> 00:16:34,399
and they were working on version two but

523
00:16:34,399 --> 00:16:36,320
for some reason it never got released

524
00:16:36,320 --> 00:16:39,360
um so you know such a ghost

525
00:16:39,360 --> 00:16:41,519
but uh i was able to get things working

526
00:16:41,519 --> 00:16:43,360
and i was able to write basically the

527
00:16:43,360 --> 00:16:43,920
minimum

528
00:16:43,920 --> 00:16:46,720
amount of autohotkey code that would

529
00:16:46,720 --> 00:16:47,440
drive

530
00:16:47,440 --> 00:16:50,320
the pro the proprietary programming gui

531
00:16:50,320 --> 00:16:50,959
and

532
00:16:50,959 --> 00:16:53,120
uh i was able to basically control that

533
00:16:53,120 --> 00:16:54,079
over a socket

534
00:16:54,079 --> 00:16:56,800
from some python code and this allowed

535
00:16:56,800 --> 00:16:58,639
me to coordinate at the end of the day

536
00:16:58,639 --> 00:17:00,399
allowing me to coordinate some python

537
00:17:00,399 --> 00:17:02,959
code that was burning fuses in the chip

538
00:17:02,959 --> 00:17:04,319
one fuse at a time

539
00:17:04,319 --> 00:17:05,919
and then there was a camera that was

540
00:17:05,919 --> 00:17:07,520
taking pictures and i could

541
00:17:07,520 --> 00:17:10,640
correlate the pictures uh to the

542
00:17:10,640 --> 00:17:12,079
the fuse burning so at the end of the

543
00:17:12,079 --> 00:17:14,000
day i got some directories that

544
00:17:14,000 --> 00:17:15,199
basically said hey

545
00:17:15,199 --> 00:17:16,799
here's an image of this fuse burning

546
00:17:16,799 --> 00:17:18,720
here's an image of this fuse burning

547
00:17:18,720 --> 00:17:20,480
and under the hood this was all pretty

548
00:17:20,480 --> 00:17:22,720
janky but it seemed to work out in the

549
00:17:22,720 --> 00:17:23,760
end

550
00:17:23,760 --> 00:17:26,319
um here's kind of what this looks like

551
00:17:26,319 --> 00:17:27,679
this is another project that gives you

552
00:17:27,679 --> 00:17:28,480
an idea

553
00:17:28,480 --> 00:17:30,400
you can see like literally a script is

554
00:17:30,400 --> 00:17:32,320
like typing keys and like

555
00:17:32,320 --> 00:17:34,799
toggling the mouse and stuff like that

556
00:17:34,799 --> 00:17:35,760
but um

557
00:17:35,760 --> 00:17:37,600
yeah kind of kind of fun to watch your

558
00:17:37,600 --> 00:17:39,520
computer looks a little possessed

559
00:17:39,520 --> 00:17:43,120
but uh gets the job done all right

560
00:17:43,120 --> 00:17:44,400
oops let's see if we can get to the next

561
00:17:44,400 --> 00:17:46,559
slide here all right

562
00:17:46,559 --> 00:17:48,240
let's uh let's actually see then what

563
00:17:48,240 --> 00:17:50,000
was the collected data like

564
00:17:50,000 --> 00:17:52,720
and what i'm going to show you here is i

565
00:17:52,720 --> 00:17:54,160
thought the best way to do this was

566
00:17:54,160 --> 00:17:55,440
basically to burn

567
00:17:55,440 --> 00:17:58,559
two fuses from the current word and then

568
00:17:58,559 --> 00:18:01,440
one fuse from the previous word and what

569
00:18:01,440 --> 00:18:02,559
that allowed you to do

570
00:18:02,559 --> 00:18:05,280
was very easily see where are we at now

571
00:18:05,280 --> 00:18:06,080
and where

572
00:18:06,080 --> 00:18:08,160
where were we at previously so you could

573
00:18:08,160 --> 00:18:10,080
very easily visually see

574
00:18:10,080 --> 00:18:11,679
how we're progressing through the memory

575
00:18:11,679 --> 00:18:13,200
layout on the device

576
00:18:13,200 --> 00:18:15,200
so let's check this out so you see we

577
00:18:15,200 --> 00:18:16,240
start at the right

578
00:18:16,240 --> 00:18:18,640
we kind of sweep right and left and this

579
00:18:18,640 --> 00:18:20,400
is a very this is a relatively similar

580
00:18:20,400 --> 00:18:21,360
layout pattern

581
00:18:21,360 --> 00:18:22,960
that we've seen in other sort of mask

582
00:18:22,960 --> 00:18:24,400
rom parts uh

583
00:18:24,400 --> 00:18:27,280
just decoders uh just kind of happen to

584
00:18:27,280 --> 00:18:28,799
work out like this i'll show this

585
00:18:28,799 --> 00:18:30,640
show this one more time so this is great

586
00:18:30,640 --> 00:18:32,240
so with this data now

587
00:18:32,240 --> 00:18:35,039
what i do is i know that like hey word

588
00:18:35,039 --> 00:18:36,720
zero starts at the right

589
00:18:36,720 --> 00:18:39,120
it it does this kind of sweeping you

590
00:18:39,120 --> 00:18:40,320
know right left

591
00:18:40,320 --> 00:18:43,039
left right pattern and i can take this

592
00:18:43,039 --> 00:18:45,440
and put this order into a python script

593
00:18:45,440 --> 00:18:47,679
to to take this uh so-called 2d bit

594
00:18:47,679 --> 00:18:48,799
matrix

595
00:18:48,799 --> 00:18:50,880
and uh and get the memory layout from

596
00:18:50,880 --> 00:18:52,400
that the second part though

597
00:18:52,400 --> 00:18:55,280
is this is interword so that is we know

598
00:18:55,280 --> 00:18:57,039
each like you know word zero is at the

599
00:18:57,039 --> 00:18:57,520
right

600
00:18:57,520 --> 00:18:59,760
and then you know word ones next to it

601
00:18:59,760 --> 00:19:01,280
uh so we know where the

602
00:19:01,280 --> 00:19:03,760
words entirely are but we also need to

603
00:19:03,760 --> 00:19:05,520
know the order within a word

604
00:19:05,520 --> 00:19:06,880
so we're just going to repeat this

605
00:19:06,880 --> 00:19:08,640
process and

606
00:19:08,640 --> 00:19:11,360
just bit below one bit within a word at

607
00:19:11,360 --> 00:19:12,080
a time

608
00:19:12,080 --> 00:19:14,480
this order is a lot more complicated i

609
00:19:14,480 --> 00:19:16,799
don't know why this one skips around so

610
00:19:16,799 --> 00:19:17,840
much

611
00:19:17,840 --> 00:19:19,039
i don't know if this is some sort of

612
00:19:19,039 --> 00:19:21,760
logic optimization or just weird

613
00:19:21,760 --> 00:19:24,480
uh data formats that the tools have to

614
00:19:24,480 --> 00:19:25,440
deal with

615
00:19:25,440 --> 00:19:27,520
but alas this is something i can put

616
00:19:27,520 --> 00:19:29,840
pretty easily into a lookup table

617
00:19:29,840 --> 00:19:31,440
and so now we have the full memory

618
00:19:31,440 --> 00:19:34,480
layout at this point great

619
00:19:34,480 --> 00:19:38,640
okay moving on at this point we have

620
00:19:38,640 --> 00:19:41,360
a lot of data that theoretically if we

621
00:19:41,360 --> 00:19:43,039
were to capture it from this microscope

622
00:19:43,039 --> 00:19:43,840
convert it

623
00:19:43,840 --> 00:19:45,280
we have a script that would convert it

624
00:19:45,280 --> 00:19:47,120
into a programming file

625
00:19:47,120 --> 00:19:49,840
um but i also wanted a way to know if

626
00:19:49,840 --> 00:19:50,240
the

627
00:19:50,240 --> 00:19:52,720
output firmware was valid and the way

628
00:19:52,720 --> 00:19:54,480
that i was approaching that

629
00:19:54,480 --> 00:19:57,520
uh was to take this this uh this palp

630
00:19:57,520 --> 00:19:59,840
adapter that we had earlier

631
00:19:59,840 --> 00:20:02,400
and use that to basically create some

632
00:20:02,400 --> 00:20:04,000
test waveforms from it

633
00:20:04,000 --> 00:20:05,919
because we're basically sweeping a bunch

634
00:20:05,919 --> 00:20:07,919
of inputs we get some outputs

635
00:20:07,919 --> 00:20:11,039
and uh basically generate some verilog

636
00:20:11,039 --> 00:20:12,159
test benches

637
00:20:12,159 --> 00:20:14,000
and if everything matches up there we

638
00:20:14,000 --> 00:20:15,360
know we've extracted everything

639
00:20:15,360 --> 00:20:16,640
correctly

640
00:20:16,640 --> 00:20:19,440
uh so here's kind of the steps that i'm

641
00:20:19,440 --> 00:20:20,000
discussing

642
00:20:20,000 --> 00:20:22,880
here and uh just kind of summaries so

643
00:20:22,880 --> 00:20:23,280
collect

644
00:20:23,280 --> 00:20:25,840
test vectors using that adapter decap a

645
00:20:25,840 --> 00:20:27,520
part so you can see the bits

646
00:20:27,520 --> 00:20:30,080
photograph them convert the photographs

647
00:20:30,080 --> 00:20:32,000
into more of an abstract digital

648
00:20:32,000 --> 00:20:33,520
representation

649
00:20:33,520 --> 00:20:35,840
then uh use the python scripts that i

650
00:20:35,840 --> 00:20:37,280
made to convert them into

651
00:20:37,280 --> 00:20:39,120
uh jed is like a standard programming

652
00:20:39,120 --> 00:20:40,559
format uh

653
00:20:40,559 --> 00:20:42,720
name for example has then has some tools

654
00:20:42,720 --> 00:20:44,320
to convert these jet files

655
00:20:44,320 --> 00:20:46,640
into verilog and in theory i could

656
00:20:46,640 --> 00:20:47,360
simulate

657
00:20:47,360 --> 00:20:49,200
the verilog with the test vectors from

658
00:20:49,200 --> 00:20:51,360
earlier except there's a problem i

659
00:20:51,360 --> 00:20:53,440
threw all this together and nothing

660
00:20:53,440 --> 00:20:55,840
really lined up i did some debugging

661
00:20:55,840 --> 00:20:58,799
i think the issue is with step six and i

662
00:20:58,799 --> 00:21:00,159
was trying to get some help to solve

663
00:21:00,159 --> 00:21:02,480
some of the issues there

664
00:21:02,480 --> 00:21:04,159
and i'd like to go back to this at some

665
00:21:04,159 --> 00:21:05,520
point but

666
00:21:05,520 --> 00:21:07,120
in parallel to this i was working

667
00:21:07,120 --> 00:21:09,600
another angle and i got this other angle

668
00:21:09,600 --> 00:21:10,159
to work

669
00:21:10,159 --> 00:21:11,520
remember i said i was going to try this

670
00:21:11,520 --> 00:21:13,360
three ways we've done this two ways so

671
00:21:13,360 --> 00:21:14,080
far

672
00:21:14,080 --> 00:21:17,200
we we used it the brute force extraction

673
00:21:17,200 --> 00:21:19,679
now we've photographed it and extracted

674
00:21:19,679 --> 00:21:20,240
it

675
00:21:20,240 --> 00:21:22,159
um but there's another technique that if

676
00:21:22,159 --> 00:21:24,240
we already kept the chip we can go a bit

677
00:21:24,240 --> 00:21:24,880
further

678
00:21:24,880 --> 00:21:26,559
so this kind of got pushed by the side

679
00:21:26,559 --> 00:21:28,000
although this was also still very

680
00:21:28,000 --> 00:21:29,200
interesting

681
00:21:29,200 --> 00:21:32,400
and i started thinking more if we can

682
00:21:32,400 --> 00:21:35,200
use this microscope to locate fuses why

683
00:21:35,200 --> 00:21:37,039
bother with the data fuses when we can

684
00:21:37,039 --> 00:21:39,120
just locate the security fuses

685
00:21:39,120 --> 00:21:41,600
uh because if i have the security fuses

686
00:21:41,600 --> 00:21:42,400
in theory

687
00:21:42,400 --> 00:21:44,320
i can microprobe in there and actually

688
00:21:44,320 --> 00:21:46,159
just force the chip

689
00:21:46,159 --> 00:21:48,159
unprotected directly and then we don't

690
00:21:48,159 --> 00:21:50,080
have to do any of this microscope you

691
00:21:50,080 --> 00:21:51,039
know photograph

692
00:21:51,039 --> 00:21:52,960
now this hand conversion now this python

693
00:21:52,960 --> 00:21:55,440
script we just put a little bitty needle

694
00:21:55,440 --> 00:21:57,280
on just the right part of the chip

695
00:21:57,280 --> 00:21:59,760
and it just said oh read out all the

696
00:21:59,760 --> 00:22:00,960
data you want

697
00:22:00,960 --> 00:22:03,360
and at that point you know it's just

698
00:22:03,360 --> 00:22:04,400
simple easy

699
00:22:04,400 --> 00:22:07,679
you know life is good and we move on

700
00:22:07,679 --> 00:22:10,080
so let's give this a try and so i had a

701
00:22:10,080 --> 00:22:11,520
camera view kind of like this

702
00:22:11,520 --> 00:22:13,520
on the infrared microscope and i said

703
00:22:13,520 --> 00:22:15,039
let's take a picture let's burn the

704
00:22:15,039 --> 00:22:16,400
security fuses

705
00:22:16,400 --> 00:22:19,280
and i should be like basically there but

706
00:22:19,280 --> 00:22:20,159
i did that

707
00:22:20,159 --> 00:22:22,880
and nothing showed up i so i thought

708
00:22:22,880 --> 00:22:23,280
well

709
00:22:23,280 --> 00:22:24,720
maybe they knew that someone was going

710
00:22:24,720 --> 00:22:26,320
to try to do this probing

711
00:22:26,320 --> 00:22:28,720
maybe they hid the fuses like if you put

712
00:22:28,720 --> 00:22:31,039
a metal layer over these fuses

713
00:22:31,039 --> 00:22:33,760
maybe you wouldn't see them so i looked

714
00:22:33,760 --> 00:22:35,039
around the chip a little bit i was

715
00:22:35,039 --> 00:22:36,559
trying to figure out if they were hidden

716
00:22:36,559 --> 00:22:38,559
i didn't see anything i looked even a

717
00:22:38,559 --> 00:22:41,600
little bit more outside of this area

718
00:22:41,600 --> 00:22:42,799
but then i was looking through

719
00:22:42,799 --> 00:22:45,039
documentation i found this data sheet

720
00:22:45,039 --> 00:22:47,200
and had this very interesting note it

721
00:22:47,200 --> 00:22:49,520
basically said it had this esd caution

722
00:22:49,520 --> 00:22:50,080
note

723
00:22:50,080 --> 00:22:52,159
and it said that pins are directly

724
00:22:52,159 --> 00:22:54,159
connected to the security fuses

725
00:22:54,159 --> 00:22:56,799
and i said wow you know the fuses aren't

726
00:22:56,799 --> 00:22:58,480
in that main logic area that i thought

727
00:22:58,480 --> 00:22:59,039
they were

728
00:22:59,039 --> 00:23:01,120
they're probably in the broader area of

729
00:23:01,120 --> 00:23:02,240
the chip so

730
00:23:02,240 --> 00:23:04,960
let's try taking a picture again of the

731
00:23:04,960 --> 00:23:06,320
security fuses burning

732
00:23:06,320 --> 00:23:08,640
under this infrared microscope but let's

733
00:23:08,640 --> 00:23:10,960
zoom out so we can see the entire chip

734
00:23:10,960 --> 00:23:13,120
and then i bet they're going to show up

735
00:23:13,120 --> 00:23:15,360
and i did that and lo and behold so

736
00:23:15,360 --> 00:23:16,720
here's the left that's under the

737
00:23:16,720 --> 00:23:19,039
infrared microscope in kind of a

738
00:23:19,039 --> 00:23:21,200
test mode so i can see the chip and then

739
00:23:21,200 --> 00:23:22,400
i darkened it

740
00:23:22,400 --> 00:23:24,000
and i took a picture on the right where

741
00:23:24,000 --> 00:23:25,760
the security fuse is blowing

742
00:23:25,760 --> 00:23:27,679
and yeah you can see there's two very

743
00:23:27,679 --> 00:23:29,679
bright areas and those are the security

744
00:23:29,679 --> 00:23:30,880
fuses great

745
00:23:30,880 --> 00:23:33,520
so the theory is sound it's just that i

746
00:23:33,520 --> 00:23:35,200
wasn't looking at the right part of the

747
00:23:35,200 --> 00:23:35,679
chip

748
00:23:35,679 --> 00:23:37,600
i'll also point out you can see a few

749
00:23:37,600 --> 00:23:39,679
other lit up areas of the chip

750
00:23:39,679 --> 00:23:41,919
but these are just like bias voltages

751
00:23:41,919 --> 00:23:43,440
and kind of stuff like that

752
00:23:43,440 --> 00:23:45,039
some of the analog parts of the chip

753
00:23:45,039 --> 00:23:46,480
they're not securely related

754
00:23:46,480 --> 00:23:48,640
we only care about the two very strong

755
00:23:48,640 --> 00:23:50,159
signals at the bottom

756
00:23:50,159 --> 00:23:53,120
great um the next thing i thought is

757
00:23:53,120 --> 00:23:53,679
okay

758
00:23:53,679 --> 00:23:55,279
now that we know where the security fuse

759
00:23:55,279 --> 00:23:57,520
is i wonder if i burned it under the

760
00:23:57,520 --> 00:23:59,200
microscope we actually could just see it

761
00:23:59,200 --> 00:23:59,840
blowing

762
00:23:59,840 --> 00:24:02,000
you know just under your average day

763
00:24:02,000 --> 00:24:03,760
metallurgical microscope it's really

764
00:24:03,760 --> 00:24:04,400
tiny

765
00:24:04,400 --> 00:24:06,559
but it's it's this area right here so

766
00:24:06,559 --> 00:24:07,760
i'm going to play this video maybe i'll

767
00:24:07,760 --> 00:24:08,640
play it twice just

768
00:24:08,640 --> 00:24:10,799
keep an eye there and you should see the

769
00:24:10,799 --> 00:24:12,559
security fuse blowing

770
00:24:12,559 --> 00:24:15,360
uh so we'll do this once and boo you see

771
00:24:15,360 --> 00:24:16,559
it went black

772
00:24:16,559 --> 00:24:18,240
and so that was a security fuse so

773
00:24:18,240 --> 00:24:20,159
that's that's kind of fun

774
00:24:20,159 --> 00:24:22,799
okay and here's a close-up of it now you

775
00:24:22,799 --> 00:24:23,679
can see

776
00:24:23,679 --> 00:24:26,400
uh just for for curiosity that little

777
00:24:26,400 --> 00:24:27,039
area there

778
00:24:27,039 --> 00:24:28,960
and we're gonna focus on this now and

779
00:24:28,960 --> 00:24:31,520
can we microprobe that security fuse

780
00:24:31,520 --> 00:24:34,000
than to to just directly extract this

781
00:24:34,000 --> 00:24:35,760
part using the normal programming

782
00:24:35,760 --> 00:24:37,120
interface

783
00:24:37,120 --> 00:24:39,360
and basically the way that this works is

784
00:24:39,360 --> 00:24:40,400
we're first going to use something

785
00:24:40,400 --> 00:24:42,080
called a laser probe station

786
00:24:42,080 --> 00:24:44,880
which has a very high power laser it

787
00:24:44,880 --> 00:24:47,520
shoots a massive laser blast at a chip

788
00:24:47,520 --> 00:24:49,840
and it imparts so much energy that it

789
00:24:49,840 --> 00:24:52,080
blows off some of the protective

790
00:24:52,080 --> 00:24:54,159
glass onto the top of the chip and

791
00:24:54,159 --> 00:24:55,600
exposes the metal blow

792
00:24:55,600 --> 00:24:57,679
and if you provide just the right amount

793
00:24:57,679 --> 00:24:59,760
of energy it'll blow out the glass

794
00:24:59,760 --> 00:25:02,000
without destroying all the chip below so

795
00:25:02,000 --> 00:25:02,799
it's a very

796
00:25:02,799 --> 00:25:04,720
fine hammer that you have to you have to

797
00:25:04,720 --> 00:25:06,640
get some practice to learn how to do it

798
00:25:06,640 --> 00:25:08,400
but once we've got some holes in the top

799
00:25:08,400 --> 00:25:10,400
of the chip we can take some little tiny

800
00:25:10,400 --> 00:25:12,000
needles in there and force

801
00:25:12,000 --> 00:25:15,039
the values to deprotect it um

802
00:25:15,039 --> 00:25:17,039
i thought that maybe the best thing to

803
00:25:17,039 --> 00:25:19,279
do after getting some holes in there

804
00:25:19,279 --> 00:25:21,120
uh which i'll talk about in a second

805
00:25:21,120 --> 00:25:23,120
would be to basically

806
00:25:23,120 --> 00:25:24,960
put an oscilloscope on there to just

807
00:25:24,960 --> 00:25:26,480
collect a little more data

808
00:25:26,480 --> 00:25:28,720
before i start probing around too much

809
00:25:28,720 --> 00:25:30,559
and yeah i just used some agilent

810
00:25:30,559 --> 00:25:32,159
oscilloscope that i had

811
00:25:32,159 --> 00:25:34,880
and um the hope is that we would see

812
00:25:34,880 --> 00:25:35,840
that these were just

813
00:25:35,840 --> 00:25:38,000
at you know either like 5 volts and 0

814
00:25:38,000 --> 00:25:39,760
volts you know something simple that i

815
00:25:39,760 --> 00:25:40,559
could feed in

816
00:25:40,559 --> 00:25:42,480
with an external power supply but the

817
00:25:42,480 --> 00:25:44,799
oscilloscope would conver confirm this

818
00:25:44,799 --> 00:25:47,279
and um some people talk about using like

819
00:25:47,279 --> 00:25:48,720
active probes and all this really

820
00:25:48,720 --> 00:25:49,919
expensive stuff

821
00:25:49,919 --> 00:25:51,440
my thought was this chip's pretty old

822
00:25:51,440 --> 00:25:53,120
the transistors are pretty big

823
00:25:53,120 --> 00:25:55,360
as a lot of power flowing through things

824
00:25:55,360 --> 00:25:57,679
i just basically hooked up banana plugs

825
00:25:57,679 --> 00:25:58,960
to the oscilloscope

826
00:25:58,960 --> 00:26:00,960
nothing fancy but i'm once again

827
00:26:00,960 --> 00:26:02,880
emphasized i'm probing not on a circuit

828
00:26:02,880 --> 00:26:05,600
board but the actual traces on the ic

829
00:26:05,600 --> 00:26:08,240
okay and uh this is my favorite part

830
00:26:08,240 --> 00:26:08,880
this is like

831
00:26:08,880 --> 00:26:10,880
wrath of god for like you know little

832
00:26:10,880 --> 00:26:13,039
chips so that's basically the targeting

833
00:26:13,039 --> 00:26:13,440
uh

834
00:26:13,440 --> 00:26:15,600
laser that's on the ship right now and

835
00:26:15,600 --> 00:26:17,440
we're gonna blow a hole in that section

836
00:26:17,440 --> 00:26:18,559
so we can

837
00:26:18,559 --> 00:26:20,720
uh you know probe into it and if we wait

838
00:26:20,720 --> 00:26:22,240
a second

839
00:26:22,240 --> 00:26:26,080
uh we should go boom and so you see that

840
00:26:26,080 --> 00:26:26,720
suddenly

841
00:26:26,720 --> 00:26:28,559
it had this transition we've just

842
00:26:28,559 --> 00:26:30,400
knocked a hole in there so

843
00:26:30,400 --> 00:26:32,240
so now you can see this area looks a

844
00:26:32,240 --> 00:26:34,320
little shinier than it was before

845
00:26:34,320 --> 00:26:36,799
and that's because we've taken the the

846
00:26:36,799 --> 00:26:39,279
uh the protective glass that was over it

847
00:26:39,279 --> 00:26:41,200
and now we have bare exposed metal that

848
00:26:41,200 --> 00:26:43,520
we can stick a needle in so great

849
00:26:43,520 --> 00:26:46,960
all right next slide and this is kind of

850
00:26:46,960 --> 00:26:48,240
what this looks like

851
00:26:48,240 --> 00:26:50,799
uh because we have two sides of the fuse

852
00:26:50,799 --> 00:26:53,200
i set up two micro positioners

853
00:26:53,200 --> 00:26:55,200
and you can see that they're basically

854
00:26:55,200 --> 00:26:56,880
these little knobs here allow you to

855
00:26:56,880 --> 00:26:59,039
move on say like the z-axis here

856
00:26:59,039 --> 00:27:01,120
x and y here and then you can't see it

857
00:27:01,120 --> 00:27:02,799
but there's little itty-bitty tidy

858
00:27:02,799 --> 00:27:03,360
needles

859
00:27:03,360 --> 00:27:06,320
over here uh the laser is on top of here

860
00:27:06,320 --> 00:27:08,320
it's a little bit out of field of view

861
00:27:08,320 --> 00:27:11,440
and uh the chip has been secured uh for

862
00:27:11,440 --> 00:27:12,960
viewing under the microscope here

863
00:27:12,960 --> 00:27:14,880
with a few test signals coming out over

864
00:27:14,880 --> 00:27:16,320
here so

865
00:27:16,320 --> 00:27:18,960
here's another view of it for the first

866
00:27:18,960 --> 00:27:19,360
shot

867
00:27:19,360 --> 00:27:20,960
i think i was just powering up to make

868
00:27:20,960 --> 00:27:22,960
sure everything worked but to actually

869
00:27:22,960 --> 00:27:24,640
run the programmer through it which is

870
00:27:24,640 --> 00:27:25,679
this little big

871
00:27:25,679 --> 00:27:27,840
big thing over here uh i need to be able

872
00:27:27,840 --> 00:27:29,360
to supply test vectors

873
00:27:29,360 --> 00:27:30,880
it's worth mentioning also that there

874
00:27:30,880 --> 00:27:32,960
are some more compact programmers that i

875
00:27:32,960 --> 00:27:34,000
can use

876
00:27:34,000 --> 00:27:36,640
uh that aren't as enormous as this one

877
00:27:36,640 --> 00:27:38,640
but this one from bp microsystems is

878
00:27:38,640 --> 00:27:40,000
very high quality

879
00:27:40,000 --> 00:27:42,399
it does things like measure like hey is

880
00:27:42,399 --> 00:27:44,480
the part drawing too much power

881
00:27:44,480 --> 00:27:47,039
if so do an emergency shutdown and this

882
00:27:47,039 --> 00:27:48,720
is really useful because we're

883
00:27:48,720 --> 00:27:50,159
you know we might do things like you

884
00:27:50,159 --> 00:27:52,159
know short signals together internal the

885
00:27:52,159 --> 00:27:53,039
ic

886
00:27:53,039 --> 00:27:55,520
this is going to save our bacon if uh

887
00:27:55,520 --> 00:27:56,320
you know

888
00:27:56,320 --> 00:27:59,279
we do some oopsie and uh it won't

889
00:27:59,279 --> 00:28:00,320
destroy the chip

890
00:28:00,320 --> 00:28:02,080
which might happen if we used a lower

891
00:28:02,080 --> 00:28:05,039
end programmer so just a side note there

892
00:28:05,039 --> 00:28:06,720
but normally you'd stick this chip in a

893
00:28:06,720 --> 00:28:08,640
socket over here i've basically just put

894
00:28:08,640 --> 00:28:10,720
an extension cable on the socket

895
00:28:10,720 --> 00:28:13,360
all right uh with that in mind i did an

896
00:28:13,360 --> 00:28:14,240
oopsie

897
00:28:14,240 --> 00:28:16,559
i got a little bit aggressive before i

898
00:28:16,559 --> 00:28:18,720
started trying to actually put some of

899
00:28:18,720 --> 00:28:20,240
the oscilloscope on to collect better

900
00:28:20,240 --> 00:28:20,960
data

901
00:28:20,960 --> 00:28:22,480
i thought that maybe i could just get

902
00:28:22,480 --> 00:28:24,320
away with putting some current limited

903
00:28:24,320 --> 00:28:25,120
like five volt

904
00:28:25,120 --> 00:28:27,520
zero full signal and maybe the security

905
00:28:27,520 --> 00:28:29,279
would just we just bypass and i would be

906
00:28:29,279 --> 00:28:30,080
done

907
00:28:30,080 --> 00:28:33,039
but this actually blew up the uh the

908
00:28:33,039 --> 00:28:34,559
little micro probes which was quite

909
00:28:34,559 --> 00:28:36,240
surprising to me because

910
00:28:36,240 --> 00:28:38,159
uh they're actually made of tungsten i

911
00:28:38,159 --> 00:28:39,520
didn't get a good shot of this but there

912
00:28:39,520 --> 00:28:41,760
was like a chunk of needle just sticking

913
00:28:41,760 --> 00:28:42,640
out of the dye

914
00:28:42,640 --> 00:28:44,720
that had been like welded on and it fell

915
00:28:44,720 --> 00:28:46,640
off before i got a pick good picture

916
00:28:46,640 --> 00:28:48,720
yeah i just sprayed stuff everywhere and

917
00:28:48,720 --> 00:28:50,159
this didn't quite work

918
00:28:50,159 --> 00:28:52,559
um but uh fortunately this was just a

919
00:28:52,559 --> 00:28:53,279
test chip

920
00:28:53,279 --> 00:28:57,120
and so plenty of replacements uh

921
00:28:57,120 --> 00:28:59,200
here here's what more proper probing

922
00:28:59,200 --> 00:29:00,880
looks like so you're going to see

923
00:29:00,880 --> 00:29:02,799
me putting a needle down this is the one

924
00:29:02,799 --> 00:29:04,720
that we just cut that hole in

925
00:29:04,720 --> 00:29:07,039
and uh you see it just got lowered down

926
00:29:07,039 --> 00:29:08,640
you see a little bit of shadow

927
00:29:08,640 --> 00:29:11,760
and then as i apply pressure you know it

928
00:29:11,760 --> 00:29:12,960
you can see a little bit better the

929
00:29:12,960 --> 00:29:14,720
needle over here and that's what it's

930
00:29:14,720 --> 00:29:15,679
supposed to look like

931
00:29:15,679 --> 00:29:17,679
none of this explosion on contact stuff

932
00:29:17,679 --> 00:29:19,520
which unfortunately i didn't get a video

933
00:29:19,520 --> 00:29:21,440
of but was quite entertaining

934
00:29:21,440 --> 00:29:25,200
all right moving on um

935
00:29:25,200 --> 00:29:27,200
we put this on this uh we i should say

936
00:29:27,200 --> 00:29:28,880
we uh there's a fellow at this point

937
00:29:28,880 --> 00:29:30,240
who's helping a little bit named

938
00:29:30,240 --> 00:29:32,399
ethan wright uh who's helping me collect

939
00:29:32,399 --> 00:29:33,919
a little bit of data here

940
00:29:33,919 --> 00:29:37,200
and um what happened then at this point

941
00:29:37,200 --> 00:29:40,080
was uh i was expecting during

942
00:29:40,080 --> 00:29:41,440
programming to see either like

943
00:29:41,440 --> 00:29:43,520
zero volts or five volts but instead

944
00:29:43,520 --> 00:29:45,039
there was this kind of complex

945
00:29:45,039 --> 00:29:47,279
a square wave pattern and this might

946
00:29:47,279 --> 00:29:48,799
have been related to why things kind of

947
00:29:48,799 --> 00:29:50,159
blew up before

948
00:29:50,159 --> 00:29:52,000
is because i was expecting just constant

949
00:29:52,000 --> 00:29:53,679
voltage so i tried to

950
00:29:53,679 --> 00:29:56,159
supply constant voltage uh but we're

951
00:29:56,159 --> 00:29:58,320
actually seeing this drive waveform

952
00:29:58,320 --> 00:30:01,200
and i saw different levels depending on

953
00:30:01,200 --> 00:30:02,960
the side you're at

954
00:30:02,960 --> 00:30:04,559
i tried to do some things like putting

955
00:30:04,559 --> 00:30:06,320
maybe 12 volts on one side

956
00:30:06,320 --> 00:30:08,240
maybe maybe i didn't put enough power or

957
00:30:08,240 --> 00:30:10,240
the right i tried a few things

958
00:30:10,240 --> 00:30:13,200
nothing was really working so at long

959
00:30:13,200 --> 00:30:14,880
last i said you know what

960
00:30:14,880 --> 00:30:17,520
let's just take the simple approach and

961
00:30:17,520 --> 00:30:18,000
um

962
00:30:18,000 --> 00:30:20,480
again here you can see some some when i

963
00:30:20,480 --> 00:30:22,159
tried to put power in it just

964
00:30:22,159 --> 00:30:24,960
the programmer just flipped out um yeah

965
00:30:24,960 --> 00:30:26,320
so the simple approach is you know what

966
00:30:26,320 --> 00:30:28,159
i've got two micro probes

967
00:30:28,159 --> 00:30:31,039
let's just put them both down and we'll

968
00:30:31,039 --> 00:30:32,640
just short it externally

969
00:30:32,640 --> 00:30:34,159
and there was this theory although

970
00:30:34,159 --> 00:30:35,840
there's two security fuses that each

971
00:30:35,840 --> 00:30:37,919
fuse secured half of the data

972
00:30:37,919 --> 00:30:40,480
and uh lo and behold this worked so this

973
00:30:40,480 --> 00:30:42,240
uh this bit of text at the right that

974
00:30:42,240 --> 00:30:43,679
you're probably straining your eyes to

975
00:30:43,679 --> 00:30:44,720
take a look at

976
00:30:44,720 --> 00:30:46,720
um that's showing that i put just a

977
00:30:46,720 --> 00:30:49,039
counting pattern as a test part

978
00:30:49,039 --> 00:30:52,559
inside here and that just shows that the

979
00:30:52,559 --> 00:30:53,120
the top

980
00:30:53,120 --> 00:30:54,880
became unprotected when we did this and

981
00:30:54,880 --> 00:30:56,640
i was able to read it out the bottom

982
00:30:56,640 --> 00:30:56,960
half

983
00:30:56,960 --> 00:30:59,360
is still protected but all we need to do

984
00:30:59,360 --> 00:31:00,240
then is just

985
00:31:00,240 --> 00:31:03,039
microprobe half of the device read out

986
00:31:03,039 --> 00:31:03,760
the memory

987
00:31:03,760 --> 00:31:05,679
and then we can go to the other side of

988
00:31:05,679 --> 00:31:07,039
the device and

989
00:31:07,039 --> 00:31:09,039
repeat the process combine the two

990
00:31:09,039 --> 00:31:10,240
programming files

991
00:31:10,240 --> 00:31:11,840
and then we get the full firmware out of

992
00:31:11,840 --> 00:31:13,600
the device and this is ultimately how

993
00:31:13,600 --> 00:31:15,039
the project was completed

994
00:31:15,039 --> 00:31:17,360
because this was a very like it produces

995
00:31:17,360 --> 00:31:18,399
the original

996
00:31:18,399 --> 00:31:20,399
i don't know a bitstream jet file for

997
00:31:20,399 --> 00:31:22,799
the device we got all of the data it was

998
00:31:22,799 --> 00:31:24,640
relatively quick to do this

999
00:31:24,640 --> 00:31:26,559
and so it had a lot of nice properties

1000
00:31:26,559 --> 00:31:28,320
as long as you have that laser probe

1001
00:31:28,320 --> 00:31:28,799
station

1002
00:31:28,799 --> 00:31:30,720
in your in your bedroom basically which

1003
00:31:30,720 --> 00:31:32,240
uh well i do but

1004
00:31:32,240 --> 00:31:34,640
your mileage your mileage may uh vary

1005
00:31:34,640 --> 00:31:36,640
there uh but using the tools you have

1006
00:31:36,640 --> 00:31:37,760
available

1007
00:31:37,760 --> 00:31:40,559
um i think we have we're almost out of

1008
00:31:40,559 --> 00:31:42,320
time i'm just gonna gloss over this real

1009
00:31:42,320 --> 00:31:42,960
quick

1010
00:31:42,960 --> 00:31:45,600
you have 10 minutes more so don't worry

1011
00:31:45,600 --> 00:31:46,159
yeah

1012
00:31:46,159 --> 00:31:47,760
it's time i'll just gloss over this

1013
00:31:47,760 --> 00:31:49,440
because at least leave some time for

1014
00:31:49,440 --> 00:31:50,399
questions

1015
00:31:50,399 --> 00:31:55,519
was that you're on mute i'm on mute

1016
00:31:55,519 --> 00:32:00,640
um john we cannot hear you

1017
00:32:00,640 --> 00:32:05,440
okay i i can hear john

1018
00:32:05,440 --> 00:32:08,960
you can hear me hear me yeah okay

1019
00:32:08,960 --> 00:32:12,240
yeah maybe that's it okay

1020
00:32:12,240 --> 00:32:13,919
uh let's see if i can get back to there

1021
00:32:13,919 --> 00:32:15,600
then i was just saying you have 10

1022
00:32:15,600 --> 00:32:16,960
minutes almost so

1023
00:32:16,960 --> 00:32:18,960
don't worry yeah yeah so let me let me

1024
00:32:18,960 --> 00:32:20,640
just go over this this briefly

1025
00:32:20,640 --> 00:32:23,360
um so in the last uh infrared talk i

1026
00:32:23,360 --> 00:32:24,720
mentioned that i was looking at higher

1027
00:32:24,720 --> 00:32:26,159
sensitivity cameras

1028
00:32:26,159 --> 00:32:28,399
i found this fancy in-gas camera which

1029
00:32:28,399 --> 00:32:29,200
is a very

1030
00:32:29,200 --> 00:32:33,519
sensitive to infrared light uh but it um

1031
00:32:33,519 --> 00:32:35,760
it basically has such short exposure

1032
00:32:35,760 --> 00:32:37,519
time due to some practical

1033
00:32:37,519 --> 00:32:40,080
kind of industry uh standards that it

1034
00:32:40,080 --> 00:32:41,360
wasn't really that useful

1035
00:32:41,360 --> 00:32:43,600
like i could do like 50 milliseconds max

1036
00:32:43,600 --> 00:32:45,760
exposure and i need a lot longer to do

1037
00:32:45,760 --> 00:32:46,799
practical things

1038
00:32:46,799 --> 00:32:48,799
uh by comparison some of the shots i

1039
00:32:48,799 --> 00:32:50,240
used in a previous talk

1040
00:32:50,240 --> 00:32:53,519
were 15 seconds long uh with with a more

1041
00:32:53,519 --> 00:32:55,519
off-the-shelf camera so

1042
00:32:55,519 --> 00:32:57,600
huge gap there and the better

1043
00:32:57,600 --> 00:32:58,960
sensitivity this camera

1044
00:32:58,960 --> 00:33:02,080
didn't outweigh the low exposure time um

1045
00:33:02,080 --> 00:33:04,640
i also was able to get a camera on loan

1046
00:33:04,640 --> 00:33:05,840
from a friend

1047
00:33:05,840 --> 00:33:09,120
uh from when tesla and uh this is

1048
00:33:09,120 --> 00:33:11,360
basically like a cooled camera that goes

1049
00:33:11,360 --> 00:33:12,159
to negative

1050
00:33:12,159 --> 00:33:15,519
70 degrees centigrade and although it's

1051
00:33:15,519 --> 00:33:17,919
not as sensitive as the previous camera

1052
00:33:17,919 --> 00:33:20,640
i can i get such low noise and i can do

1053
00:33:20,640 --> 00:33:22,000
such long exposures

1054
00:33:22,000 --> 00:33:23,440
there really opened up a lot of

1055
00:33:23,440 --> 00:33:25,200
possibilities i

1056
00:33:25,200 --> 00:33:28,399
mounted this on a kind of a low-cost cnc

1057
00:33:28,399 --> 00:33:29,840
machines i think these things are called

1058
00:33:29,840 --> 00:33:33,279
like 30 80 ones or something like that

1059
00:33:33,279 --> 00:33:34,799
like you find them on amazon it's like a

1060
00:33:34,799 --> 00:33:37,279
very common type of cnc machine

1061
00:33:37,279 --> 00:33:39,120
due to the sheer size of this camera

1062
00:33:39,120 --> 00:33:40,799
which i'm not sure is entirely apparent

1063
00:33:40,799 --> 00:33:41,679
or not

1064
00:33:41,679 --> 00:33:43,600
in these images though like here's a

1065
00:33:43,600 --> 00:33:45,600
motor for comparison and you can see

1066
00:33:45,600 --> 00:33:47,679
part of the camera here so it's quite

1067
00:33:47,679 --> 00:33:48,960
physically large

1068
00:33:48,960 --> 00:33:51,039
i did have to use a heavier duty version

1069
00:33:51,039 --> 00:33:53,279
of this with kind of an aluminum frame

1070
00:33:53,279 --> 00:33:55,200
which is on the high end of these but

1071
00:33:55,200 --> 00:33:56,960
anyways mounted all of this in a nice

1072
00:33:56,960 --> 00:33:58,799
enclosure

1073
00:33:58,799 --> 00:34:00,799
and started running a few other

1074
00:34:00,799 --> 00:34:02,399
experiments

1075
00:34:02,399 --> 00:34:04,240
notably here for example i was

1076
00:34:04,240 --> 00:34:06,480
programming some eeprom and i could

1077
00:34:06,480 --> 00:34:07,039
actually

1078
00:34:07,039 --> 00:34:09,599
see the the eeprom being selected as it

1079
00:34:09,599 --> 00:34:10,639
was being programmed

1080
00:34:10,639 --> 00:34:12,399
so here on the right for example we have

1081
00:34:12,399 --> 00:34:14,079
a partial exposure

1082
00:34:14,079 --> 00:34:16,639
where it didn't finish programming yet

1083
00:34:16,639 --> 00:34:17,520
and

1084
00:34:17,520 --> 00:34:19,440
you can see the memory cycling through

1085
00:34:19,440 --> 00:34:21,359
so i was hoping to try to

1086
00:34:21,359 --> 00:34:24,000
extend this to take a look at like some

1087
00:34:24,000 --> 00:34:26,159
security fuses that were eprom based

1088
00:34:26,159 --> 00:34:28,320
to see if those would just pop right out

1089
00:34:28,320 --> 00:34:29,280
and um

1090
00:34:29,280 --> 00:34:30,879
more or less ran out of time there

1091
00:34:30,879 --> 00:34:32,800
although that would not be hard to do

1092
00:34:32,800 --> 00:34:34,560
this additional step i had some

1093
00:34:34,560 --> 00:34:35,918
chips that were decapped and they

1094
00:34:35,918 --> 00:34:38,560
basically had died during storage so

1095
00:34:38,560 --> 00:34:40,320
i needed to get some new chips to test

1096
00:34:40,320 --> 00:34:41,839
with um

1097
00:34:41,839 --> 00:34:43,359
i also would really like to take a look

1098
00:34:43,359 --> 00:34:45,040
at some things like anti-fuses

1099
00:34:45,040 --> 00:34:47,040
you know for example i've had a lot of

1100
00:34:47,040 --> 00:34:48,159
people are interested

1101
00:34:48,159 --> 00:34:50,079
in uh preserving some firmware for these

1102
00:34:50,079 --> 00:34:51,599
octal fpgas

1103
00:34:51,599 --> 00:34:53,520
and i i think this technique might be

1104
00:34:53,520 --> 00:34:56,079
really valuable to locate those fuses

1105
00:34:56,079 --> 00:34:58,000
and the other thing is especially if i

1106
00:34:58,000 --> 00:34:59,599
find a few parts that i need to connect

1107
00:34:59,599 --> 00:35:00,960
a lot of things on

1108
00:35:00,960 --> 00:35:03,680
instead of using micro probes i want to

1109
00:35:03,680 --> 00:35:05,680
explode some i'm going to call low cost

1110
00:35:05,680 --> 00:35:08,320
fib edits where i can do things like

1111
00:35:08,320 --> 00:35:10,079
maybe use a sputter coder

1112
00:35:10,079 --> 00:35:12,160
or silver epoxy to start bridging

1113
00:35:12,160 --> 00:35:13,839
connections together

1114
00:35:13,839 --> 00:35:15,359
so hopefully you get some research there

1115
00:35:15,359 --> 00:35:17,119
in the near future

1116
00:35:17,119 --> 00:35:18,800
uh with that i want to give some special

1117
00:35:18,800 --> 00:35:20,800
thanks to ethan wright who helped

1118
00:35:20,800 --> 00:35:22,079
with some of the lab work at the end

1119
00:35:22,079 --> 00:35:23,839
there as previously mentioned

1120
00:35:23,839 --> 00:35:25,920
uh bailey for lending me that camera

1121
00:35:25,920 --> 00:35:27,920
that allowed me to do some of those

1122
00:35:27,920 --> 00:35:30,160
eeprom emission tests and stuff like

1123
00:35:30,160 --> 00:35:32,560
that and finally brandon cobb who was

1124
00:35:32,560 --> 00:35:33,440
the original

1125
00:35:33,440 --> 00:35:35,280
inspiration for this project uh he's

1126
00:35:35,280 --> 00:35:36,640
interested in track stars

1127
00:35:36,640 --> 00:35:38,960
and uh funded uh some of the samples and

1128
00:35:38,960 --> 00:35:40,560
stuff for this project

1129
00:35:40,560 --> 00:35:43,200
um so with that uh thanks for listening

1130
00:35:43,200 --> 00:35:44,800
here's a few links to a few of the

1131
00:35:44,800 --> 00:35:45,920
projects here

1132
00:35:45,920 --> 00:35:47,760
and uh we've got a few minutes left uh

1133
00:35:47,760 --> 00:35:49,040
please let me know you have any

1134
00:35:49,040 --> 00:35:52,400
questions and hope you enjoyed

1135
00:35:53,440 --> 00:35:56,480
all right all right thanks john that was

1136
00:35:56,480 --> 00:35:57,119
amazing

1137
00:35:57,119 --> 00:36:00,960
detailed presentation uh i

1138
00:36:00,960 --> 00:36:02,480
friends do you have any questions please

1139
00:36:02,480 --> 00:36:04,400
send them across via the chat

1140
00:36:04,400 --> 00:36:06,400
uh because the next session is going to

1141
00:36:06,400 --> 00:36:07,599
be the breakout room

1142
00:36:07,599 --> 00:36:10,079
with the sponsor and the coffee break so

1143
00:36:10,079 --> 00:36:10,880
we have

1144
00:36:10,880 --> 00:36:12,560
almost five to ten minutes we can take

1145
00:36:12,560 --> 00:36:14,800
questions with john over here

1146
00:36:14,800 --> 00:36:16,560
uh john there's one question let me read

1147
00:36:16,560 --> 00:36:18,000
it out for you

1148
00:36:18,000 --> 00:36:19,880
uh what is your process for

1149
00:36:19,880 --> 00:36:21,359
decapitulation

1150
00:36:21,359 --> 00:36:25,040
and how do you photograph the dies

1151
00:36:25,040 --> 00:36:27,280
uh how do i decap and photograph the

1152
00:36:27,280 --> 00:36:28,400
chips well uh

1153
00:36:28,400 --> 00:36:30,880
it depends on the type of chip the most

1154
00:36:30,880 --> 00:36:31,599
common are

1155
00:36:31,599 --> 00:36:34,240
epoxy chip i start by buying the

1156
00:36:34,240 --> 00:36:36,320
sketchiest nitric acid that i could find

1157
00:36:36,320 --> 00:36:37,119
online

1158
00:36:37,119 --> 00:36:39,920
and then that shows up uh and then and

1159
00:36:39,920 --> 00:36:40,880
then from there

1160
00:36:40,880 --> 00:36:44,240
uh is this a fuming nitric acid uh i use

1161
00:36:44,240 --> 00:36:45,520
that on hot plate

1162
00:36:45,520 --> 00:36:48,720
uh to take off the layers of epoxy and

1163
00:36:48,720 --> 00:36:50,960
that exposes the chip and you have to do

1164
00:36:50,960 --> 00:36:52,800
very short exposures

1165
00:36:52,800 --> 00:36:54,560
otherwise the nitric acid will also

1166
00:36:54,560 --> 00:36:56,640
damage the chip and then i

1167
00:36:56,640 --> 00:36:58,800
take a microscope which i specially

1168
00:36:58,800 --> 00:37:00,560
modified with some

1169
00:37:00,560 --> 00:37:02,560
motors so that i could pan around and

1170
00:37:02,560 --> 00:37:04,320
get high resolution images

1171
00:37:04,320 --> 00:37:06,240
and uh yeah that's able to take a lot of

1172
00:37:06,240 --> 00:37:08,320
photographs stitch it together with

1173
00:37:08,320 --> 00:37:11,440
huggin basically using modified tools

1174
00:37:11,440 --> 00:37:14,640
and then use programs like say rompar if

1175
00:37:14,640 --> 00:37:16,240
i want to actually get the bits off of

1176
00:37:16,240 --> 00:37:16,960
it

1177
00:37:16,960 --> 00:37:19,359
after that so hopefully that answers

1178
00:37:19,359 --> 00:37:20,000
your question

1179
00:37:20,000 --> 00:37:22,160
i direct you to siliconpro.org i think

1180
00:37:22,160 --> 00:37:23,119
i've got the

1181
00:37:23,119 --> 00:37:25,760
t-shirt on uh if you if you want some

1182
00:37:25,760 --> 00:37:26,320
more

1183
00:37:26,320 --> 00:37:30,320
uh information on decapping and whatnot

1184
00:37:31,040 --> 00:37:35,119
so all right friends any more questions

1185
00:37:35,119 --> 00:37:36,960
for john

1186
00:37:36,960 --> 00:37:39,680
let's give them a minute yup there's

1187
00:37:39,680 --> 00:37:41,119
another one

1188
00:37:41,119 --> 00:37:43,359
here we go um yeah can you please give

1189
00:37:43,359 --> 00:37:45,760
some more details about the laser setup

1190
00:37:45,760 --> 00:37:47,760
uh used to expose the metal before

1191
00:37:47,760 --> 00:37:48,800
probing yeah

1192
00:37:48,800 --> 00:37:50,720
that's actually a whole tangent for me

1193
00:37:50,720 --> 00:37:52,320
uh that's something called

1194
00:37:52,320 --> 00:37:56,880
a uh easy laze and uh the story there

1195
00:37:56,880 --> 00:38:00,079
is it's something called an nd yag laser

1196
00:38:00,079 --> 00:38:03,119
uh basically a flash lamp puts a massive

1197
00:38:03,119 --> 00:38:05,200
amount of energy into a laser rod

1198
00:38:05,200 --> 00:38:07,920
something called a q-switch basically is

1199
00:38:07,920 --> 00:38:09,680
like an optical transistor

1200
00:38:09,680 --> 00:38:11,440
and it just shoots out a massive blast

1201
00:38:11,440 --> 00:38:14,079
of energy and i have some special

1202
00:38:14,079 --> 00:38:14,640
shutters

1203
00:38:14,640 --> 00:38:16,480
that allow me to tune the the output

1204
00:38:16,480 --> 00:38:18,800
power as well as the size of the beam

1205
00:38:18,800 --> 00:38:22,079
and i basically practice on an area of

1206
00:38:22,079 --> 00:38:24,240
the chip that's non-critical first or

1207
00:38:24,240 --> 00:38:26,560
ideally a test chip as well and i

1208
00:38:26,560 --> 00:38:28,880
basically gradually increase the energy

1209
00:38:28,880 --> 00:38:31,359
output from this laser until it just

1210
00:38:31,359 --> 00:38:32,800
blasts through

1211
00:38:32,800 --> 00:38:36,000
uh the chip without damaging it and

1212
00:38:36,000 --> 00:38:38,720
um uh yeah that's kind of the high level

1213
00:38:38,720 --> 00:38:40,240
overview

1214
00:38:40,240 --> 00:38:42,079
it mounts to typically a mitutoyo

1215
00:38:42,079 --> 00:38:44,079
microscope you theoretically could mount

1216
00:38:44,079 --> 00:38:44,640
it to

1217
00:38:44,640 --> 00:38:47,200
a different microscope but it might blow

1218
00:38:47,200 --> 00:38:48,800
holes through your optics so you know

1219
00:38:48,800 --> 00:38:50,160
just be a little bit careful there

1220
00:38:50,160 --> 00:38:52,400
i think this was very carefully designed

1221
00:38:52,400 --> 00:38:53,440
so that it never

1222
00:38:53,440 --> 00:38:55,599
focused too much on your microscope and

1223
00:38:55,599 --> 00:38:56,960
just kind of blew it up

1224
00:38:56,960 --> 00:38:58,320
um don't know if that answers your

1225
00:38:58,320 --> 00:38:59,520
question hopefully that gives you a

1226
00:38:59,520 --> 00:39:00,560
little a little more

1227
00:39:00,560 --> 00:39:03,119
detail uh what is the smallest feature

1228
00:39:03,119 --> 00:39:05,040
size you have experimented with

1229
00:39:05,040 --> 00:39:07,839
i would probably say that for

1230
00:39:07,839 --> 00:39:09,599
microprobing at least if that's your

1231
00:39:09,599 --> 00:39:10,640
question

1232
00:39:10,640 --> 00:39:13,119
that i'm limited to about one micrometer

1233
00:39:13,119 --> 00:39:14,640
just based on a lot of the equipment i

1234
00:39:14,640 --> 00:39:16,480
have it kind of tops out around there

1235
00:39:16,480 --> 00:39:19,200
that's both the micro positioners i have

1236
00:39:19,200 --> 00:39:21,599
the laser

1237
00:39:21,599 --> 00:39:24,079
in terms of reverse engineering chips i

1238
00:39:24,079 --> 00:39:25,200
actually just got a

1239
00:39:25,200 --> 00:39:27,040
much more powerful scanning electron

1240
00:39:27,040 --> 00:39:29,280
microscope traditionally i was limited

1241
00:39:29,280 --> 00:39:31,599
by my optical microscope that could do

1242
00:39:31,599 --> 00:39:33,359
i'm going to call it 150 nanometer

1243
00:39:33,359 --> 00:39:34,880
resolution but

1244
00:39:34,880 --> 00:39:36,720
even if you can resolve to that power

1245
00:39:36,720 --> 00:39:38,240
it's quite ugly you really want

1246
00:39:38,240 --> 00:39:39,280
something better

1247
00:39:39,280 --> 00:39:41,520
my old electron microscope was 30

1248
00:39:41,520 --> 00:39:42,480
nanometers

1249
00:39:42,480 --> 00:39:44,480
which is a lot better but still not

1250
00:39:44,480 --> 00:39:47,200
quite good the new electron microscope

1251
00:39:47,200 --> 00:39:50,000
is three nanometer resolution and

1252
00:39:50,000 --> 00:39:50,560
because

1253
00:39:50,560 --> 00:39:52,880
you know uh for for image densities both

1254
00:39:52,880 --> 00:39:53,680
x and y

1255
00:39:53,680 --> 00:39:55,599
you have kind of a squared relationship

1256
00:39:55,599 --> 00:39:57,200
with resolution increase

1257
00:39:57,200 --> 00:39:58,960
so even the old sem which was 30

1258
00:39:58,960 --> 00:40:00,960
nanometers to the new one which is three

1259
00:40:00,960 --> 00:40:02,640
you're talking about a hundred times

1260
00:40:02,640 --> 00:40:04,160
increase in image detail

1261
00:40:04,160 --> 00:40:05,520
that i'm effectively going to get by

1262
00:40:05,520 --> 00:40:07,839
this new setup so anyways hope that

1263
00:40:07,839 --> 00:40:09,280
answers that question

1264
00:40:09,280 --> 00:40:11,839
i think we're about out of time here um

1265
00:40:11,839 --> 00:40:14,480
unless there's something else to add

1266
00:40:14,480 --> 00:40:16,079
we can take one last question from

1267
00:40:16,079 --> 00:40:17,839
anybody who would like to talk

1268
00:40:17,839 --> 00:40:21,119
uh to john

1269
00:40:22,880 --> 00:40:25,119
all right well you can always uh hit me

1270
00:40:25,119 --> 00:40:26,000
up on twitter

1271
00:40:26,000 --> 00:40:28,400
if you if you want to chat with me uh i

1272
00:40:28,400 --> 00:40:29,359
think there's no

1273
00:40:29,359 --> 00:40:32,160
breakout session i think as well uh

1274
00:40:32,160 --> 00:40:34,000
there is no breakout session for this

1275
00:40:34,000 --> 00:40:35,839
talk because we have the coffee break

1276
00:40:35,839 --> 00:40:37,040
and the breakout room

1277
00:40:37,040 --> 00:40:39,359
with uh nvidia but maybe john you want

1278
00:40:39,359 --> 00:40:40,960
to join that breakout room and talk

1279
00:40:40,960 --> 00:40:44,560
uh over there with some um

1280
00:40:44,560 --> 00:40:46,160
so how do i get to the breakout room

1281
00:40:46,160 --> 00:40:47,920
yeah uh so

1282
00:40:47,920 --> 00:40:51,119
let me announce it uh

1283
00:40:51,119 --> 00:40:54,480
yeah and and hopefully uh john you could

1284
00:40:54,480 --> 00:40:55,280
also bring

1285
00:40:55,280 --> 00:40:58,560
your uh bomb disposal army

1286
00:40:58,560 --> 00:41:00,720
in the breakout room to share it with

1287
00:41:00,720 --> 00:41:02,880
everybody if you haven't i like it

1288
00:41:02,880 --> 00:41:04,880
all right thank you everyone thank you

1289
00:41:04,880 --> 00:41:17,359
john it was amazing to have you again

