1
00:00:02,899 --> 00:00:05,759
okay so welcome

2
00:00:05,759 --> 00:00:09,019
my name is Nicola I'm from Switzerland

3
00:00:09,019 --> 00:00:12,000
uh in my day job I'm doing embedded

4
00:00:12,000 --> 00:00:15,059
devices security analysis so it's mostly

5
00:00:15,059 --> 00:00:15,920
about

6
00:00:15,920 --> 00:00:18,840
software and Hardware evaluations site

7
00:00:18,840 --> 00:00:21,480
Channel analysis fault injection all

8
00:00:21,480 --> 00:00:22,980
this kind of stuff

9
00:00:22,980 --> 00:00:26,039
and by night I'm basically doing the

10
00:00:26,039 --> 00:00:29,580
same but with way less money and trying

11
00:00:29,580 --> 00:00:32,040
to find ways to

12
00:00:32,040 --> 00:00:36,000
yeah find new ways to

13
00:00:36,000 --> 00:00:38,880
do side channels or Hardware evaluations

14
00:00:38,880 --> 00:00:41,899
but with less money

15
00:00:43,920 --> 00:00:47,219
okay hello uh

16
00:00:47,219 --> 00:00:51,260
so I worked mainly on embedded hardware

17
00:00:51,260 --> 00:00:56,219
and I most specialized hot stuff on

18
00:00:56,219 --> 00:00:58,079
embedded hcmware

19
00:00:58,079 --> 00:01:00,360
and there are

20
00:01:00,360 --> 00:01:04,319
uh I have developed different open

21
00:01:04,319 --> 00:01:05,519
source

22
00:01:05,519 --> 00:01:10,260
tools like airspy for example I I don't

23
00:01:10,260 --> 00:01:12,900
I have done the conception of all the

24
00:01:12,900 --> 00:01:16,380
Aspire and see you after me on the

25
00:01:16,380 --> 00:01:18,619
hardware side and on the firmware side

26
00:01:18,619 --> 00:01:23,939
on also us tools so every uh on firmware

27
00:01:23,939 --> 00:01:25,860
everything is open source

28
00:01:25,860 --> 00:01:30,500
and also iterables V1 with e-line FC

29
00:01:30,500 --> 00:01:35,159
which is open source software

30
00:01:35,159 --> 00:01:39,600
and uh and the new one is USB 3.

31
00:01:39,600 --> 00:01:43,680
and also the hardware will present you

32
00:01:43,680 --> 00:01:46,280
today

33
00:01:46,979 --> 00:01:49,380
so um

34
00:01:49,380 --> 00:01:51,060
let's start

35
00:01:51,060 --> 00:01:53,280
so what is EMC

36
00:01:53,280 --> 00:01:57,180
it's electromagnetic compatibility

37
00:01:57,180 --> 00:01:59,640
so it's ability of electrical equipment

38
00:01:59,640 --> 00:02:02,640
and systems function accessibility in

39
00:02:02,640 --> 00:02:05,579
their electromagnetic environment

40
00:02:05,579 --> 00:02:10,500
so device under test your duty we have

41
00:02:10,500 --> 00:02:12,900
normally in case of electromagnetic

42
00:02:12,900 --> 00:02:15,720
interference Emi

43
00:02:15,720 --> 00:02:19,800
so does the duty generate Emi

44
00:02:19,800 --> 00:02:22,020
it's a question

45
00:02:22,020 --> 00:02:23,879
so it's mandatory for commercial

46
00:02:23,879 --> 00:02:26,879
projects

47
00:02:27,060 --> 00:02:30,720
so let's see different types of Emi

48
00:02:30,720 --> 00:02:31,980
being

49
00:02:31,980 --> 00:02:34,920
so we have

50
00:02:34,920 --> 00:02:36,900
we have both

51
00:02:36,900 --> 00:02:40,620
different ones so we have radiative we

52
00:02:40,620 --> 00:02:43,019
will see another slide it's mainly

53
00:02:43,019 --> 00:02:44,760
antenna

54
00:02:44,760 --> 00:02:47,700
we have adjective cooking

55
00:02:47,700 --> 00:02:51,380
and we have conductive capacity

56
00:02:51,380 --> 00:02:52,500
[Music]

57
00:02:52,500 --> 00:02:55,400
so radiative

58
00:02:55,680 --> 00:02:58,440
when an unwanted seniors transferred

59
00:02:58,440 --> 00:03:01,680
from two Sigma to victims equipment by

60
00:03:01,680 --> 00:03:04,800
rather radiation from space

61
00:03:04,800 --> 00:03:06,720
so

62
00:03:06,720 --> 00:03:09,660
adjective coupling is the source

63
00:03:09,660 --> 00:03:11,879
scientific team are cooked by magnetic

64
00:03:11,879 --> 00:03:13,319
field

65
00:03:13,319 --> 00:03:15,599
you can see there

66
00:03:15,599 --> 00:03:18,900
so conducted hooping it's what we will

67
00:03:18,900 --> 00:03:21,300
see today in details

68
00:03:21,300 --> 00:03:23,879
it's the purpose of the talk

69
00:03:23,879 --> 00:03:26,040
uh it's where there is a conjunction

70
00:03:26,040 --> 00:03:29,760
group along with the senior can travel

71
00:03:29,760 --> 00:03:33,300
this may be a long parallel cables or

72
00:03:33,300 --> 00:03:35,640
other interconnection wires

73
00:03:35,640 --> 00:03:39,000
and the condition may be in one of two

74
00:03:39,000 --> 00:03:40,680
modes

75
00:03:40,680 --> 00:03:43,019
so we'll see that after

76
00:03:43,019 --> 00:03:44,880
and then capacitive

77
00:03:44,880 --> 00:03:47,960
[Music]

78
00:03:50,239 --> 00:03:54,480
so let's see type of CME link radiative

79
00:03:54,480 --> 00:03:58,080
so we'll focus on that

80
00:03:58,080 --> 00:04:00,959
like you you see there is some initial

81
00:04:00,959 --> 00:04:04,200
props which are well known tech box for

82
00:04:04,200 --> 00:04:07,920
example which I'll use the often

83
00:04:07,920 --> 00:04:11,220
for EMC analysis

84
00:04:11,220 --> 00:04:14,340
so the purpose is to capture radiatory

85
00:04:14,340 --> 00:04:17,279
Dimension measurement from less than one

86
00:04:17,279 --> 00:04:19,918
Mega sub to 6 gigahertz

87
00:04:19,918 --> 00:04:24,060
and it include a pre-amplifier

88
00:04:24,060 --> 00:04:26,820
so this type of probe can be used with

89
00:04:26,820 --> 00:04:30,540
an osteoscope or Spectrum analyzer

90
00:04:30,540 --> 00:04:33,259
foreign

91
00:04:37,160 --> 00:04:41,460
for for tests so it's providerative

92
00:04:41,460 --> 00:04:45,180
again it's Ultra wideband antenna a lot

93
00:04:45,180 --> 00:04:48,360
periodic antenna like this one

94
00:04:48,360 --> 00:04:53,580
so the aim is to have very big range of

95
00:04:53,580 --> 00:04:54,840
test

96
00:04:54,840 --> 00:04:58,680
for another there are 400 megahertz up

97
00:04:58,680 --> 00:05:02,580
to six gigahertz from Aeros space with

98
00:05:02,580 --> 00:05:06,000
the gain which is the third DPI

99
00:05:06,000 --> 00:05:10,080
and this one which is more portable

100
00:05:10,080 --> 00:05:13,740
it's about the same range with again a

101
00:05:13,740 --> 00:05:17,220
bit better so it's very good on Shield

102
00:05:17,220 --> 00:05:21,259
to test the Emi

103
00:05:23,520 --> 00:05:27,600
so our Absolution and why we are here

104
00:05:27,600 --> 00:05:29,300
today

105
00:05:29,300 --> 00:05:33,120
then and you emission can already be

106
00:05:33,120 --> 00:05:37,699
used to perform sub Channel analysis

107
00:05:37,699 --> 00:05:41,039
do the same

108
00:05:41,039 --> 00:05:43,500
couldn't find any reference in academic

109
00:05:43,500 --> 00:05:47,039
papers usually a bad sign

110
00:05:47,039 --> 00:05:52,159
so only one way to find out testing

111
00:05:53,880 --> 00:05:59,060
so let's see if Emi coupling routine

112
00:05:59,639 --> 00:06:03,660
so what we have is the power supply

113
00:06:03,660 --> 00:06:07,160
with the power cable connected to the

114
00:06:07,160 --> 00:06:11,520
duot the best standard test also known

115
00:06:11,520 --> 00:06:14,520
as equipment underest

116
00:06:14,520 --> 00:06:17,460
so what we have basically just this

117
00:06:17,460 --> 00:06:19,139
table

118
00:06:19,139 --> 00:06:22,500
what we will add is a capacitor which is

119
00:06:22,500 --> 00:06:24,539
a DC block

120
00:06:24,539 --> 00:06:28,940
and an EMC analyzer

121
00:06:31,919 --> 00:06:35,639
so what happened in that case uh as the

122
00:06:35,639 --> 00:06:37,819
poorer Supply

123
00:06:37,819 --> 00:06:41,300
the impedance is unknown

124
00:06:41,300 --> 00:06:44,880
so if flow impedance we will have low

125
00:06:44,880 --> 00:06:48,720
voltage so it's not good and if we have

126
00:06:48,720 --> 00:06:51,120
high impedance we will have high voltage

127
00:06:51,120 --> 00:06:52,259
there

128
00:06:52,259 --> 00:06:55,380
and the DC coupling

129
00:06:55,380 --> 00:07:00,360
is here to filter a DC current to just

130
00:07:00,360 --> 00:07:03,360
have alternative current there from few

131
00:07:03,360 --> 00:07:08,100
kilos to more than 200 megahertz

132
00:07:08,100 --> 00:07:09,120
okay

133
00:07:09,120 --> 00:07:12,360
so they are the issue is here with this

134
00:07:12,360 --> 00:07:14,039
schematic

135
00:07:14,039 --> 00:07:17,960
so let's see how to improve that

136
00:07:18,660 --> 00:07:21,720
to improve that we will use

137
00:07:21,720 --> 00:07:25,440
something we you probably don't know

138
00:07:25,440 --> 00:07:27,900
because it's very specific it's a

139
00:07:27,900 --> 00:07:30,479
license so the license is a line

140
00:07:30,479 --> 00:07:33,060
impedance stabilization Network

141
00:07:33,060 --> 00:07:37,620
it's many use for EMC testing so what it

142
00:07:37,620 --> 00:07:40,860
does it's it does a low pass fighter for

143
00:07:40,860 --> 00:07:43,860
in our example it has cut off frequency

144
00:07:43,860 --> 00:07:47,699
of two hundred and fifty Hertz

145
00:07:47,699 --> 00:07:51,660
to to let's pass only the DC in fact as

146
00:07:51,660 --> 00:07:54,840
we want to filter any noise from the

147
00:07:54,840 --> 00:07:57,180
power supply

148
00:07:57,180 --> 00:07:59,220
so it's typically placed between the

149
00:07:59,220 --> 00:08:01,560
power source and the supply terminals of

150
00:08:01,560 --> 00:08:04,259
the device under test

151
00:08:04,259 --> 00:08:07,560
used in EMC testing like

152
00:08:07,560 --> 00:08:10,740
so you provide the well-defined areas

153
00:08:10,740 --> 00:08:14,160
impedance to the dut what we want is to

154
00:08:14,160 --> 00:08:17,520
match it to 50 ohm impedance

155
00:08:17,520 --> 00:08:21,180
so y550 home impedance is to have the

156
00:08:21,180 --> 00:08:24,360
lowest dose maximum power transfer in a

157
00:08:24,360 --> 00:08:26,099
RF radio frequency

158
00:08:26,099 --> 00:08:29,039
capture it with a natural scrub or a

159
00:08:29,039 --> 00:08:31,020
spectrumanizer

160
00:08:31,020 --> 00:08:33,419
today we will see only oscilloscope

161
00:08:33,419 --> 00:08:36,539
because fix normalizer is not very

162
00:08:36,539 --> 00:08:39,719
useful for Section analysis

163
00:08:39,719 --> 00:08:40,799
not

164
00:08:40,799 --> 00:08:44,339
so it's also do filtering on power

165
00:08:44,339 --> 00:08:47,760
supply nodes to remove it from the

166
00:08:47,760 --> 00:08:52,080
measurement so we see basic schematic

167
00:08:52,080 --> 00:08:54,180
we have cover shoes it enters the

168
00:08:54,180 --> 00:08:55,080
license

169
00:08:55,080 --> 00:08:58,019
then it goes to the device in the test

170
00:08:58,019 --> 00:09:00,779
to pull out the device and then we have

171
00:09:00,779 --> 00:09:03,260
connected noise

172
00:09:03,260 --> 00:09:07,920
insights which come back to DC block and

173
00:09:07,920 --> 00:09:10,080
we have a spectrum manager or an

174
00:09:10,080 --> 00:09:12,680
oscilloscope

175
00:09:13,940 --> 00:09:17,940
so let's see what is the license so the

176
00:09:17,940 --> 00:09:20,040
license like explained before

177
00:09:20,040 --> 00:09:22,380
hello to have a

178
00:09:22,380 --> 00:09:23,399
um

179
00:09:23,399 --> 00:09:26,040
a 50 ohm ampedance

180
00:09:26,040 --> 00:09:27,720
uh

181
00:09:27,720 --> 00:09:31,260
over more than 100 megahertz but even at

182
00:09:31,260 --> 00:09:36,000
2 megahertz we have 50 ohm we see after

183
00:09:36,000 --> 00:09:38,880
the objective of the aim is to have an

184
00:09:38,880 --> 00:09:42,720
exceed 200 megahertz from to do the side

185
00:09:42,720 --> 00:09:46,500
channel uh analysis sectional attack

186
00:09:46,500 --> 00:09:49,200
uh on the duty

187
00:09:49,200 --> 00:09:52,080
so there we see the power cable there

188
00:09:52,080 --> 00:09:55,560
there is it represents the filters and

189
00:09:55,560 --> 00:09:59,940
there we have the the inductors in fact

190
00:09:59,940 --> 00:10:04,320
too much to 50 ohm

191
00:10:04,320 --> 00:10:08,420
and there are the EMC analyzer

192
00:10:11,040 --> 00:10:14,880
so an important point with the license

193
00:10:14,880 --> 00:10:18,360
it's a boot a big warning about the PS2

194
00:10:18,360 --> 00:10:21,360
it's an oil supply unit because of

195
00:10:21,360 --> 00:10:24,779
transient voltage when you pour on a

196
00:10:24,779 --> 00:10:27,660
power off your your power supply you

197
00:10:27,660 --> 00:10:30,899
have a transient which go directly and

198
00:10:30,899 --> 00:10:32,100
pass through

199
00:10:32,100 --> 00:10:35,820
so DC block and will destroy your

200
00:10:35,820 --> 00:10:37,980
spectrum analyzer

201
00:10:37,980 --> 00:10:40,920
so it's very important point

202
00:10:40,920 --> 00:10:44,279
to check or to avoid that as uh it's

203
00:10:44,279 --> 00:10:48,240
quite expensive Hardware

204
00:10:49,980 --> 00:10:51,120
so

205
00:10:51,120 --> 00:10:55,680
to show you how to protect again about

206
00:10:55,680 --> 00:10:58,920
that in a standard lesson

207
00:10:58,920 --> 00:11:03,000
so we add a transient content limiter

208
00:11:03,000 --> 00:11:06,660
meter example like miniature feeds they

209
00:11:06,660 --> 00:11:09,360
are very good ones with ancestral loss

210
00:11:09,360 --> 00:11:13,860
zero DB and it act as a limiter to place

211
00:11:13,860 --> 00:11:16,519
stress

212
00:11:17,040 --> 00:11:20,880
10 or more it's like dbm it's to protect

213
00:11:20,880 --> 00:11:24,959
the vmc analyzer then we can add a

214
00:11:24,959 --> 00:11:27,860
pre-selector which we want to filter

215
00:11:27,860 --> 00:11:31,019
remove unwanted frequency

216
00:11:31,019 --> 00:11:33,000
for analysis

217
00:11:33,000 --> 00:11:35,820
and there we can also add a preemptive

218
00:11:35,820 --> 00:11:39,600
amplifier to recover the signal loss

219
00:11:39,600 --> 00:11:42,000
because of the pre-selector and

220
00:11:42,000 --> 00:11:44,940
potential is low signals

221
00:11:44,940 --> 00:11:47,160
and then at the end we have the EMC

222
00:11:47,160 --> 00:11:49,699
analyzer

223
00:11:52,860 --> 00:11:57,480
so let's present commercial license

224
00:11:57,480 --> 00:12:02,339
are quite costly about 400 Euro the

225
00:12:02,339 --> 00:12:06,000
well-known one which is DC Swami uh

226
00:12:06,000 --> 00:12:08,579
Micron realizing a thick box this

227
00:12:08,579 --> 00:12:09,600
license

228
00:12:09,600 --> 00:12:13,560
so to have a full license dual to have

229
00:12:13,560 --> 00:12:14,820
both

230
00:12:14,820 --> 00:12:18,480
side plus centimeters we will see after

231
00:12:18,480 --> 00:12:21,420
a while to a boss

232
00:12:21,420 --> 00:12:24,300
uh we need two box like that so it's

233
00:12:24,300 --> 00:12:27,720
about 500 USD

234
00:12:27,720 --> 00:12:29,640
so uh

235
00:12:29,640 --> 00:12:32,880
let's build our own

236
00:12:32,880 --> 00:12:35,459
it's one way or I have built and it's

237
00:12:35,459 --> 00:12:38,760
Open Source Hardware and

238
00:12:38,760 --> 00:12:41,339
there with the filter

239
00:12:41,339 --> 00:12:44,160
so it's just equivalent

240
00:12:44,160 --> 00:12:45,959
to the tech box one with smoke

241
00:12:45,959 --> 00:12:48,120
protection effect

242
00:12:48,120 --> 00:12:52,579
and then there you have also a

243
00:12:53,779 --> 00:12:59,899
foreign to lower the the poor

244
00:13:02,040 --> 00:13:05,579
for license for side Channel analysis

245
00:13:05,579 --> 00:13:06,959
so

246
00:13:06,959 --> 00:13:10,019
license usually have a tenure authors to

247
00:13:10,019 --> 00:13:12,660
avoid damaging measurement tools my

248
00:13:12,660 --> 00:13:14,839
dampen the signal

249
00:13:14,839 --> 00:13:19,079
standardizing output is 50 ohm matched

250
00:13:19,079 --> 00:13:23,279
so cannot choose to cup with 50 ohm

251
00:13:23,279 --> 00:13:24,380
determination

252
00:13:24,380 --> 00:13:27,420
requires a transient limiter to avoid

253
00:13:27,420 --> 00:13:30,420
potential damage permanent damage to the

254
00:13:30,420 --> 00:13:32,519
oscilloscope input

255
00:13:32,519 --> 00:13:35,160
so let's use an 50 home impedance

256
00:13:35,160 --> 00:13:38,339
adapter to connect to a seroscope one

257
00:13:38,339 --> 00:13:40,800
Mega ohm input

258
00:13:40,800 --> 00:13:43,680
for example so logos to oscilloscope

259
00:13:43,680 --> 00:13:48,019
which don't have 15 inputs

260
00:13:48,019 --> 00:13:50,120
so what's the solution

261
00:13:50,120 --> 00:13:51,720
[Music]

262
00:13:51,720 --> 00:13:53,880
the solution is to remove the attenuator

263
00:13:53,880 --> 00:13:56,399
and add input protection

264
00:13:56,399 --> 00:14:01,519
we will be using an oscilloscope anyways

265
00:14:02,880 --> 00:14:05,279
so let's see the conception of the

266
00:14:05,279 --> 00:14:09,480
civilizer for such Channel analysis so

267
00:14:09,480 --> 00:14:12,300
we will see the simulation of the low

268
00:14:12,300 --> 00:14:15,120
pass filters and the five Micron

269
00:14:15,120 --> 00:14:19,200
re-endectors using qcs Studio which is a

270
00:14:19,200 --> 00:14:20,339
freeware

271
00:14:20,339 --> 00:14:23,339
4.3.1

272
00:14:23,339 --> 00:14:26,040
so there we we see a very basic

273
00:14:26,040 --> 00:14:27,180
simulation

274
00:14:27,180 --> 00:14:29,940
with a filter with the capacitor there

275
00:14:29,940 --> 00:14:33,959
with a smaller damping resistor of 1 ohm

276
00:14:33,959 --> 00:14:36,500
and there we will add another

277
00:14:36,500 --> 00:14:39,779
capacitor to filter other frequency

278
00:14:39,779 --> 00:14:43,740
to 2.2 micro farad with a very small

279
00:14:43,740 --> 00:14:46,019
resistor

280
00:14:46,019 --> 00:14:51,720
and then again another capacitor

281
00:14:53,180 --> 00:14:56,519
and there so like the core of the

282
00:14:56,519 --> 00:15:00,480
license is the inductor which is a about

283
00:15:00,480 --> 00:15:03,560
five micro only

284
00:15:04,440 --> 00:15:07,800
so so there you can see the

285
00:15:07,800 --> 00:15:12,480
the different steps and the frequency is

286
00:15:12,480 --> 00:15:15,779
and and it's the frequency response

287
00:15:15,779 --> 00:15:18,199
because

288
00:15:18,199 --> 00:15:22,620
invisible so we start at zero because

289
00:15:22,620 --> 00:15:24,720
it's it's DC

290
00:15:24,720 --> 00:15:28,199
so we want all the power to power the

291
00:15:28,199 --> 00:15:31,019
directory and then we want to filter at

292
00:15:31,019 --> 00:15:35,519
maximum all the frequency which are the

293
00:15:35,519 --> 00:15:38,459
uh we don't want

294
00:15:38,459 --> 00:15:42,240
uh any uh any perturbation from the

295
00:15:42,240 --> 00:15:46,800
power supply so we try to to to to take

296
00:15:46,800 --> 00:15:49,680
this curve at lowest as possible with

297
00:15:49,680 --> 00:15:52,519
those filters

298
00:15:56,720 --> 00:15:59,760
so we will continue with the healthy

299
00:15:59,760 --> 00:16:00,680
spice

300
00:16:00,680 --> 00:16:03,660
wire change the tool it's also open

301
00:16:03,660 --> 00:16:05,699
source tool no not a pencils but

302
00:16:05,699 --> 00:16:08,699
features on the analog device

303
00:16:08,699 --> 00:16:13,620
uh it's just because in fact we can do a

304
00:16:13,620 --> 00:16:17,100
better simulation with some characterize

305
00:16:17,100 --> 00:16:19,740
the injector for example

306
00:16:19,740 --> 00:16:23,339
there so it's a bit better for the for

307
00:16:23,339 --> 00:16:26,060
the simulation

308
00:16:26,459 --> 00:16:28,980
you see the curve is practically the

309
00:16:28,980 --> 00:16:32,459
same as before so we see the effect of

310
00:16:32,459 --> 00:16:34,199
the inductor there

311
00:16:34,199 --> 00:16:38,160
at 100 megahertz

312
00:16:39,959 --> 00:16:42,680
so let's see the different

313
00:16:42,680 --> 00:16:47,040
uh effect on the low pass filter on the

314
00:16:47,040 --> 00:16:51,540
input for example if we just add a 22

315
00:16:51,540 --> 00:16:55,139
microfarad capacitor very basic filter

316
00:16:55,139 --> 00:16:59,940
we see uh we see it's about minus 30

317
00:16:59,940 --> 00:17:01,759
decibel

318
00:17:01,759 --> 00:17:05,880
attenuation at the from 10 kilowatts

319
00:17:05,880 --> 00:17:07,199
okay

320
00:17:07,199 --> 00:17:08,780
with this curve

321
00:17:08,780 --> 00:17:10,140
[Music]

322
00:17:10,140 --> 00:17:15,000
so it's not uh it's not very deep so we

323
00:17:15,000 --> 00:17:18,119
add another one there

324
00:17:18,119 --> 00:17:23,400
we add in fact uh two dot two two point

325
00:17:23,400 --> 00:17:25,040
two uh Microsoft

326
00:17:25,040 --> 00:17:29,460
capacitor and we see how it improves uh

327
00:17:29,460 --> 00:17:32,520
the the frequency response to to the

328
00:17:32,520 --> 00:17:37,200
insertion lost up to a minus 80 DB it's

329
00:17:37,200 --> 00:17:40,679
simulation we will see after it's not

330
00:17:40,679 --> 00:17:44,580
the reality but we have an ID and if we

331
00:17:44,580 --> 00:17:48,360
had uh also the inductor we see also an

332
00:17:48,360 --> 00:17:51,000
effect on the filtering which appear

333
00:17:51,000 --> 00:17:53,580
about at one megahertz because the

334
00:17:53,580 --> 00:17:56,640
indictor also act like a filter

335
00:17:56,640 --> 00:18:00,260
and not only impedance

336
00:18:00,260 --> 00:18:03,780
impedance adjustment to have 50 ohm but

337
00:18:03,780 --> 00:18:06,360
it acts also as a filter

338
00:18:06,360 --> 00:18:08,400
the

339
00:18:08,400 --> 00:18:11,760
and then I have also had a very big

340
00:18:11,760 --> 00:18:16,080
capacitor one 1000 micro farad and we

341
00:18:16,080 --> 00:18:19,679
see the effect even on the very low

342
00:18:19,679 --> 00:18:21,419
frequency

343
00:18:21,419 --> 00:18:26,640
which we get we gain about 30 DB

344
00:18:26,640 --> 00:18:33,500
CBP the 20 to about 20 DB until uh

345
00:18:33,500 --> 00:18:36,840
just before one megahertz so it could be

346
00:18:36,840 --> 00:18:39,419
also a very good Improvement depending

347
00:18:39,419 --> 00:18:41,460
on your power supply to add such

348
00:18:41,460 --> 00:18:43,260
capacitor

349
00:18:43,260 --> 00:18:46,160
as input

350
00:18:49,200 --> 00:18:51,660
so let's continue the conception of the

351
00:18:51,660 --> 00:18:53,179
digitalizer

352
00:18:53,179 --> 00:18:58,620
we will use keycard as I said I use only

353
00:18:58,620 --> 00:19:03,439
open source tools for everything

354
00:19:03,480 --> 00:19:07,260
so like we have seen before we have a 22

355
00:19:07,260 --> 00:19:10,280
micro forward with the resistor

356
00:19:10,280 --> 00:19:11,960
is

357
00:19:11,960 --> 00:19:15,179
2.24 forward capacity to answer

358
00:19:15,179 --> 00:19:18,179
we have to it act as a low pass filter

359
00:19:18,179 --> 00:19:22,860
with a cutoff frequency of C2 uh 240

360
00:19:22,860 --> 00:19:25,799
hertz about the very accurate its

361
00:19:25,799 --> 00:19:28,559
simulation and there we have five

362
00:19:28,559 --> 00:19:31,879
accurate and vector

363
00:19:33,980 --> 00:19:38,760
and each one is 1.1 required to have

364
00:19:38,760 --> 00:19:42,379
about 5 Micron V at the end

365
00:19:42,559 --> 00:19:47,160
and there we have the DC block

366
00:19:47,160 --> 00:19:49,500
so

367
00:19:49,500 --> 00:19:51,960
you see on that side also

368
00:19:51,960 --> 00:19:53,760
this block

369
00:19:53,760 --> 00:19:56,580
and there there is the protection

370
00:19:56,580 --> 00:19:59,039
so there is a different protection

371
00:19:59,039 --> 00:20:03,720
uh on HF plus and HF units in fact this

372
00:20:03,720 --> 00:20:05,039
schematic

373
00:20:05,039 --> 00:20:08,100
I show just one part but there is

374
00:20:08,100 --> 00:20:11,400
exactly the same on the news but that

375
00:20:11,400 --> 00:20:13,740
gut Plus

376
00:20:13,740 --> 00:20:16,380
but every month it's it's exactly a

377
00:20:16,380 --> 00:20:19,620
clone of this one for the other part

378
00:20:19,620 --> 00:20:22,320
so we have very strong protection to

379
00:20:22,320 --> 00:20:26,480
protect your uh your expensive

380
00:20:26,480 --> 00:20:29,880
oscilloscope or spectrometer to be

381
00:20:29,880 --> 00:20:34,020
connected on hfps there so we start with

382
00:20:34,020 --> 00:20:35,820
the gdt

383
00:20:35,820 --> 00:20:40,260
which is a gas discharge tab it's mainly

384
00:20:40,260 --> 00:20:43,140
for lighting disturbance so it's a very

385
00:20:43,140 --> 00:20:45,840
strong to avoid the lightning

386
00:20:45,840 --> 00:20:49,400
disturbance up to five kilometer and

387
00:20:49,400 --> 00:20:52,320
65 volts

388
00:20:52,320 --> 00:20:56,039
start to to protect when you have such

389
00:20:56,039 --> 00:21:00,360
condition in fact the the strike goes

390
00:21:00,360 --> 00:21:02,760
directly inside the gas

391
00:21:02,760 --> 00:21:08,179
which avoid to damage the pressure the

392
00:21:08,179 --> 00:21:11,820
spectralizer or alsoiloscope there so

393
00:21:11,820 --> 00:21:13,740
after that step

394
00:21:13,740 --> 00:21:16,880
it protect also other sensitive

395
00:21:16,880 --> 00:21:20,160
protection that's why it's the first

396
00:21:20,160 --> 00:21:24,179
we have DAV 99 it's high speed

397
00:21:24,179 --> 00:21:27,900
well known because it's very good to use

398
00:21:27,900 --> 00:21:31,980
a limiter and to clamp the signal we

399
00:21:31,980 --> 00:21:36,059
have an input to two volt Peak

400
00:21:36,059 --> 00:21:38,780
and then after this one we have another

401
00:21:38,780 --> 00:21:40,919
ESD protection

402
00:21:40,919 --> 00:21:45,559
for transient World voltage suppression

403
00:21:45,720 --> 00:21:48,419
so like that you are fully protected

404
00:21:48,419 --> 00:21:53,039
and you will never exceed to the peak on

405
00:21:53,039 --> 00:21:54,600
the input of your serial Square

406
00:21:54,600 --> 00:21:57,299
perspective analyzer I will show you

407
00:21:57,299 --> 00:21:59,930
after uh in practice

408
00:21:59,930 --> 00:22:01,260
[Music]

409
00:22:01,260 --> 00:22:04,860
so yes uh all those have been tested

410
00:22:04,860 --> 00:22:07,860
with the signal generator and a tour

411
00:22:07,860 --> 00:22:11,460
supplier 40 volt we switch on switch

412
00:22:11,460 --> 00:22:14,940
also in practice to to show it's a very

413
00:22:14,940 --> 00:22:17,539
effective

414
00:22:20,940 --> 00:22:24,240
okay so we we will see the conception of

415
00:22:24,240 --> 00:22:27,799
of the PCB and the applicat

416
00:22:27,799 --> 00:22:31,640
6. so what the main

417
00:22:31,640 --> 00:22:37,620
uh in fact the what we will focus is to

418
00:22:37,620 --> 00:22:41,940
have an impedance of 50 ohm on the path

419
00:22:41,940 --> 00:22:45,000
there it's like I told you it's the same

420
00:22:45,000 --> 00:22:47,640
path there and there it's for plus there

421
00:22:47,640 --> 00:22:49,020
is formulas

422
00:22:49,020 --> 00:22:51,480
voltage there you have to replace you

423
00:22:51,480 --> 00:22:54,179
which is connected there it's a earth

424
00:22:54,179 --> 00:22:55,919
ground

425
00:22:55,919 --> 00:22:58,080
okay

426
00:22:58,080 --> 00:23:04,500
and we we try to match this PCD with uh

427
00:23:04,500 --> 00:23:07,559
we search on PCB to Kit which is a free

428
00:23:07,559 --> 00:23:10,200
tool or so which allows you to to

429
00:23:10,200 --> 00:23:12,360
compute the ampli dance to have 50 ohm

430
00:23:12,360 --> 00:23:15,720
so you can uh it comes you can compute

431
00:23:15,720 --> 00:23:19,200
the conductor wise it's the whites of

432
00:23:19,200 --> 00:23:21,960
the convector there and there

433
00:23:21,960 --> 00:23:25,380
depending on the paths this pass

434
00:23:25,380 --> 00:23:27,780
or this past one is because the

435
00:23:27,780 --> 00:23:30,600
spectrometer is there you connect

436
00:23:30,600 --> 00:23:34,039
or plus ominous

437
00:23:35,220 --> 00:23:38,880
so at the end you have a box like that

438
00:23:38,880 --> 00:23:41,640
so uh

439
00:23:41,640 --> 00:23:44,280
you can connect your your seroscope

440
00:23:44,280 --> 00:23:46,460
there on one of these four

441
00:23:46,460 --> 00:23:47,700
[Music]

442
00:23:47,700 --> 00:23:50,220
and you are you have a warranty to have

443
00:23:50,220 --> 00:23:54,299
a 10 dbm limiter there to don't even if

444
00:23:54,299 --> 00:23:57,918
you have stronger first

445
00:24:00,799 --> 00:24:04,340
10 dbm

446
00:24:05,760 --> 00:24:08,580
so let's do some measurement with the

447
00:24:08,580 --> 00:24:10,220
standard

448
00:24:10,220 --> 00:24:14,340
cspr25 it's a standard for EMC on

449
00:24:14,340 --> 00:24:17,520
Automotive so we check we are compliant

450
00:24:17,520 --> 00:24:20,100
with the standard

451
00:24:20,100 --> 00:24:24,120
we can check that with VNA it's a very

452
00:24:24,120 --> 00:24:25,980
expensive device it's a vector Network

453
00:24:25,980 --> 00:24:29,400
analyzer that I have in my lab

454
00:24:29,400 --> 00:24:32,340
so it's HP I will show you after it's

455
00:24:32,340 --> 00:24:35,820
funny old school Hardware

456
00:24:35,820 --> 00:24:39,600
and we see we match perfectly the curve

457
00:24:39,600 --> 00:24:43,919
from 100 kilowatts up to 100 megahertz

458
00:24:43,919 --> 00:24:48,120
even if we go uh IR in fact that from

459
00:24:48,120 --> 00:24:49,919
the standard it's not required to go

460
00:24:49,919 --> 00:24:52,679
higher and this is on pedance is is

461
00:24:52,679 --> 00:24:55,080
exactly in the middle

462
00:24:55,080 --> 00:24:58,340
the measurements

463
00:24:59,760 --> 00:25:03,000
okay so I will just see with the vnas

464
00:25:03,000 --> 00:25:07,620
the different measurements isolation

465
00:25:09,260 --> 00:25:12,059
up to one gigahertz

466
00:25:12,059 --> 00:25:16,340
that's even six gigahertz so

467
00:25:19,020 --> 00:25:21,600
and there we see the measurement

468
00:25:21,600 --> 00:25:23,640
insertion bandwidths and cut off

469
00:25:23,640 --> 00:25:25,020
frequency

470
00:25:25,020 --> 00:25:29,460
between the dut and the HF proofs there

471
00:25:29,460 --> 00:25:31,380
it's where you will do the measurements

472
00:25:31,380 --> 00:25:33,600
so duty is your device understood

473
00:25:33,600 --> 00:25:36,600
without test and there is where you will

474
00:25:36,600 --> 00:25:39,380
connect your oscilloscope

475
00:25:39,380 --> 00:25:43,200
so there uh we see it's a very

476
00:25:43,200 --> 00:25:45,679
uh we have about

477
00:25:45,679 --> 00:25:48,720
400 megahertz bandwides so it's

478
00:25:48,720 --> 00:25:51,960
interesting to do side channel to

479
00:25:51,960 --> 00:25:56,520
frequency uh more or less than 400

480
00:25:56,520 --> 00:25:57,440
megahertz

481
00:25:57,440 --> 00:25:59,640
[Music]

482
00:25:59,640 --> 00:26:01,140
and then the

483
00:26:01,140 --> 00:26:04,559
air we it's a shack of the limiter clamp

484
00:26:04,559 --> 00:26:08,640
which is a very important point to avoid

485
00:26:08,640 --> 00:26:09,600
the

486
00:26:09,600 --> 00:26:13,200
uh to to burn your oscilloscope input or

487
00:26:13,200 --> 00:26:16,020
spectronizer like we see there I put a

488
00:26:16,020 --> 00:26:18,419
signal of default big peak

489
00:26:18,419 --> 00:26:21,960
and there we limit it it limits so

490
00:26:21,960 --> 00:26:23,700
signal has output

491
00:26:23,700 --> 00:26:27,779
which is a to uh less than two volt

492
00:26:27,779 --> 00:26:32,059
speed Peak so we're about to end them

493
00:26:34,679 --> 00:26:39,679
so let's see the measurement setup

494
00:26:40,140 --> 00:26:43,020
okay so now that we have a device for

495
00:26:43,020 --> 00:26:45,480
measurements how does it work or how do

496
00:26:45,480 --> 00:26:49,620
you make it work in a setup

497
00:26:49,620 --> 00:26:52,740
the there's a standard CIS error 25

498
00:26:52,740 --> 00:26:55,860
which is unfortunately not free you can

499
00:26:55,860 --> 00:26:59,279
still find some versions of this

500
00:26:59,279 --> 00:27:01,260
documentation using Google

501
00:27:01,260 --> 00:27:04,200
but you can also find this documentation

502
00:27:04,200 --> 00:27:07,679
for other reasons in the in the user

503
00:27:07,679 --> 00:27:09,659
manuals of those listens they give you

504
00:27:09,659 --> 00:27:12,120
information about how to use those

505
00:27:12,120 --> 00:27:15,539
and it usually looks like this so what

506
00:27:15,539 --> 00:27:19,380
you have to do is it

507
00:27:19,380 --> 00:27:23,159
yeah yeah so you have your power source

508
00:27:23,159 --> 00:27:25,860
you have your two lessons connected on

509
00:27:25,860 --> 00:27:29,520
the VCC and ground lines and then you

510
00:27:29,520 --> 00:27:31,799
have your device that you want to test

511
00:27:31,799 --> 00:27:34,919
so what is really important is the

512
00:27:34,919 --> 00:27:38,159
length of the cables so here it's uh it

513
00:27:38,159 --> 00:27:41,279
has to be less than 20 centimeters

514
00:27:41,279 --> 00:27:43,919
the device has to be at least five

515
00:27:43,919 --> 00:27:46,919
centimeters above what they call the

516
00:27:46,919 --> 00:27:49,880
ground plane which is a conductive uh

517
00:27:49,880 --> 00:27:52,860
material directly connected to Earth

518
00:27:52,860 --> 00:27:56,279
that way it will remove some of the

519
00:27:56,279 --> 00:27:59,640
parasitic noise that you might have in

520
00:27:59,640 --> 00:28:01,799
your lab

521
00:28:01,799 --> 00:28:05,460
so I did more or less the same so I took

522
00:28:05,460 --> 00:28:09,240
an stm32 I removed all the decoupling

523
00:28:09,240 --> 00:28:11,400
capacitors the things that you usually

524
00:28:11,400 --> 00:28:12,900
do when you want to do such Channel

525
00:28:12,900 --> 00:28:14,220
analysis

526
00:28:14,220 --> 00:28:17,760
I installed the listen on both lines I

527
00:28:17,760 --> 00:28:21,240
used my personal oscilloscope to get the

528
00:28:21,240 --> 00:28:22,380
choices

529
00:28:22,380 --> 00:28:24,600
connect the ground plane connect to

530
00:28:24,600 --> 00:28:27,779
Earth make new cables because mine were

531
00:28:27,779 --> 00:28:31,200
too long and then just connect a USB to

532
00:28:31,200 --> 00:28:35,580
uarts to my PC on the duty and here you

533
00:28:35,580 --> 00:28:36,659
might see

534
00:28:36,659 --> 00:28:39,840
there is a problem because when you are

535
00:28:39,840 --> 00:28:43,440
connecting your uart to the duty this EQ

536
00:28:43,440 --> 00:28:46,740
you are bringing noise from your PC to

537
00:28:46,740 --> 00:28:49,020
the device which is not good

538
00:28:49,020 --> 00:28:53,279
so what I did first was to use

539
00:28:53,279 --> 00:28:56,100
optocouplers which is basically a way to

540
00:28:56,100 --> 00:28:58,620
transfer signals without an electrical

541
00:28:58,620 --> 00:29:01,260
connection between the dut and my PC

542
00:29:01,260 --> 00:29:04,679
and then I used a digital isolators the

543
00:29:04,679 --> 00:29:07,799
chips that basically do the same but way

544
00:29:07,799 --> 00:29:10,100
faster

545
00:29:10,100 --> 00:29:12,600
as an example this is a direct

546
00:29:12,600 --> 00:29:14,760
connection so the device is off it's

547
00:29:14,760 --> 00:29:17,700
just the Pure Noise of my measurement

548
00:29:17,700 --> 00:29:20,399
setup so with a direct connection with

549
00:29:20,399 --> 00:29:22,980
my PC it looks like this with the

550
00:29:22,980 --> 00:29:25,799
isolator sorry with the isolator it's

551
00:29:25,799 --> 00:29:28,020
already way less

552
00:29:28,020 --> 00:29:30,059
and if I connect the ground plane it's

553
00:29:30,059 --> 00:29:32,520
even less so you already see an

554
00:29:32,520 --> 00:29:35,399
improvement of your uh quality of the

555
00:29:35,399 --> 00:29:40,879
signals using this kind of setups

556
00:29:42,140 --> 00:29:45,600
is looking like this so you have

557
00:29:45,600 --> 00:29:48,120
[Music]

558
00:29:48,120 --> 00:29:51,120
listened here my duties

559
00:29:51,120 --> 00:29:55,140
this is the isolator this is my USB to

560
00:29:55,140 --> 00:29:56,520
uart connection

561
00:29:56,520 --> 00:29:58,799
and you don't see it but this cable goes

562
00:29:58,799 --> 00:30:01,760
to my oscilloscope

563
00:30:02,460 --> 00:30:05,580
on the software side I use the software

564
00:30:05,580 --> 00:30:07,460
sm4 implementation

565
00:30:07,460 --> 00:30:10,080
you will see that tomorrow we have

566
00:30:10,080 --> 00:30:12,179
another talk with a

567
00:30:12,179 --> 00:30:15,840
somebody else about sm4 it's not that

568
00:30:15,840 --> 00:30:19,080
I'm lazy but let's say if I could do two

569
00:30:19,080 --> 00:30:22,820
uh setup I said uh two measurements uh

570
00:30:22,820 --> 00:30:25,500
one measurement for two talks it's even

571
00:30:25,500 --> 00:30:30,659
better so if I'm running uh the capture

572
00:30:30,659 --> 00:30:32,279
I have this kind of signal on my

573
00:30:32,279 --> 00:30:36,659
oscilloscope and if you count if you

574
00:30:36,659 --> 00:30:40,320
count you have 32 fix which corresponds

575
00:30:40,320 --> 00:30:43,500
to the 32 rounds of sm4 so it looks like

576
00:30:43,500 --> 00:30:45,720
we have something to work with from the

577
00:30:45,720 --> 00:30:47,940
side Channel point of view

578
00:30:47,940 --> 00:30:52,260
okay the next question is okay we have

579
00:30:52,260 --> 00:30:55,140
some signal that's good but how is the

580
00:30:55,140 --> 00:30:57,480
signal better than a simple shunt

581
00:30:57,480 --> 00:30:59,340
resistor the thing that you usually do

582
00:30:59,340 --> 00:31:03,000
with simple power analysis

583
00:31:03,000 --> 00:31:05,880
so what I did is gets the exams the

584
00:31:05,880 --> 00:31:08,640
exact same setup but instead of the

585
00:31:08,640 --> 00:31:11,399
listen I just put a small one ohm eraser

586
00:31:11,399 --> 00:31:14,580
resistor on the line and did the same

587
00:31:14,580 --> 00:31:15,659
capture

588
00:31:15,659 --> 00:31:19,580
so as a reminder this is with the listen

589
00:31:19,580 --> 00:31:22,440
you can see the vertical resolution is 5

590
00:31:22,440 --> 00:31:24,960
millivolts per Division and with the 1

591
00:31:24,960 --> 00:31:27,840
ohm resistor

592
00:31:27,840 --> 00:31:29,460
not that good

593
00:31:29,460 --> 00:31:32,399
you can see that now I had to zoom on

594
00:31:32,399 --> 00:31:34,559
the vertical scale to have a better

595
00:31:34,559 --> 00:31:37,039
signal

596
00:31:37,860 --> 00:31:40,860
during a correlation power analysis on

597
00:31:40,860 --> 00:31:44,399
the sm4 what I did is I took 5 000

598
00:31:44,399 --> 00:31:47,460
choices both with the listen and with

599
00:31:47,460 --> 00:31:49,500
the shunt resistor

600
00:31:49,500 --> 00:31:52,919
so those traces will feed into the

601
00:31:52,919 --> 00:31:55,620
script that we will present tomorrow to

602
00:31:55,620 --> 00:31:58,320
find out if we can recover the key using

603
00:31:58,320 --> 00:32:01,740
this horror analysis and turns out that

604
00:32:01,740 --> 00:32:04,260
with the lesson you can see that there

605
00:32:04,260 --> 00:32:06,380
is

606
00:32:06,380 --> 00:32:09,539
there is a small Peak here which

607
00:32:09,539 --> 00:32:13,220
corresponds to one key byte

608
00:32:13,220 --> 00:32:17,340
of one gigabyte in the first round and

609
00:32:17,340 --> 00:32:21,600
it's correct but on the uh shunt

610
00:32:21,600 --> 00:32:25,320
resistor you don't see that small Peak

611
00:32:25,320 --> 00:32:27,600
that means that I was not able to

612
00:32:27,600 --> 00:32:30,899
recover a part of the key using this

613
00:32:30,899 --> 00:32:34,200
information if you have more more

614
00:32:34,200 --> 00:32:37,559
choices to work but with only 5000

615
00:32:37,559 --> 00:32:40,140
traces on the list you can at least get

616
00:32:40,140 --> 00:32:43,080
three out of four bytes of the key which

617
00:32:43,080 --> 00:32:45,600
is already good but with the shunt I had

618
00:32:45,600 --> 00:32:48,320
no correlation

619
00:32:49,020 --> 00:32:51,659
so it looks like the dynamic range with

620
00:32:51,659 --> 00:32:52,860
the listen

621
00:32:52,860 --> 00:32:55,980
is a bit better and it allows to recover

622
00:32:55,980 --> 00:32:59,580
the key but this was let's say the ideal

623
00:32:59,580 --> 00:33:02,700
setup I removed all the capacitors it's

624
00:33:02,700 --> 00:33:05,360
an old microcontrollers it leaks a lot

625
00:33:05,360 --> 00:33:09,059
so maybe with more recent chips and with

626
00:33:09,059 --> 00:33:12,419
more difficult uh parameters it will not

627
00:33:12,419 --> 00:33:15,600
work as good

628
00:33:15,600 --> 00:33:19,440
so I did the another setup which looks

629
00:33:19,440 --> 00:33:21,720
quite the same the only difference is

630
00:33:21,720 --> 00:33:24,960
that I used an esp32 dev kit and this

631
00:33:24,960 --> 00:33:27,299
time I did not remove any capacitances

632
00:33:27,299 --> 00:33:28,380
or nothing

633
00:33:28,380 --> 00:33:32,580
it was just the out of the box placed on

634
00:33:32,580 --> 00:33:34,019
my setup

635
00:33:34,019 --> 00:33:36,179
used a different firmware this time I

636
00:33:36,179 --> 00:33:38,279
used a software as

637
00:33:38,279 --> 00:33:42,299
a more common and all the rest is

638
00:33:42,299 --> 00:33:44,760
exactly the same the listen or the one

639
00:33:44,760 --> 00:33:46,559
ohm shunt resistor

640
00:33:46,559 --> 00:33:48,720
I had to use the one ohm resistor

641
00:33:48,720 --> 00:33:51,120
because if because if I tried with a

642
00:33:51,120 --> 00:33:54,240
larger one I use the 10 Ohm resistor and

643
00:33:54,240 --> 00:33:56,700
unfortunately the grown-up detection of

644
00:33:56,700 --> 00:33:58,860
the asp32 was triggering so the device

645
00:33:58,860 --> 00:34:02,340
was rooting her every time

646
00:34:02,340 --> 00:34:04,639
foreign

647
00:34:08,820 --> 00:34:12,060
so what I did is I took 50

648
00:34:12,060 --> 00:34:13,739
000 traces

649
00:34:13,739 --> 00:34:16,918
for every choices it's an average of a

650
00:34:16,918 --> 00:34:20,040
thousand time calculating the as so it's

651
00:34:20,040 --> 00:34:24,839
a so it's more 50 million Acquisitions

652
00:34:24,839 --> 00:34:28,440
that were averaged to get those traces

653
00:34:28,440 --> 00:34:31,800
every time it's the random plain text I

654
00:34:31,800 --> 00:34:34,760
did no synchronization and of course

655
00:34:34,760 --> 00:34:38,339
using the CPA it works perfectly fine so

656
00:34:38,339 --> 00:34:41,639
you can see it as a peak here for this

657
00:34:41,639 --> 00:34:45,300
byte of the key that means it works so

658
00:34:45,300 --> 00:34:46,800
here on the left

659
00:34:46,800 --> 00:34:50,399
the graph represents the time and the

660
00:34:50,399 --> 00:34:52,800
correlation value for specific device

661
00:34:52,800 --> 00:34:55,379
that you want to recover

662
00:34:55,379 --> 00:34:58,980
on the right what you have is

663
00:34:58,980 --> 00:35:00,000
um

664
00:35:00,000 --> 00:35:02,460
for every key candidate

665
00:35:02,460 --> 00:35:05,300
the correlation value

666
00:35:05,300 --> 00:35:08,700
on based on the number of traces on the

667
00:35:08,700 --> 00:35:11,700
x-axis so the more choices you have the

668
00:35:11,700 --> 00:35:13,980
more correlation you will have so the

669
00:35:13,980 --> 00:35:15,900
more confidence that it's the correct

670
00:35:15,900 --> 00:35:18,859
key byte you will

671
00:35:19,460 --> 00:35:23,099
so to compare both looks

672
00:35:23,099 --> 00:35:25,140
quite the same so you can see you can

673
00:35:25,140 --> 00:35:27,420
get the key byte it works perfectly fine

674
00:35:27,420 --> 00:35:30,839
you can already see that uh on the shunt

675
00:35:30,839 --> 00:35:33,300
resistor here this

676
00:35:33,300 --> 00:35:36,300
which is the correct key is a bit higher

677
00:35:36,300 --> 00:35:40,320
than the others compared to the lazy

678
00:35:40,320 --> 00:35:41,880
so now

679
00:35:41,880 --> 00:35:44,160
how do we compare this

680
00:35:44,160 --> 00:35:46,800
unfortunately I didn't find any way to

681
00:35:46,800 --> 00:35:50,760
correctly compare two Trace sets or

682
00:35:50,760 --> 00:35:53,339
techniques to to discover this

683
00:35:53,339 --> 00:35:57,060
so what I did is a simple signal to

684
00:35:57,060 --> 00:36:01,020
noise ratio so what I'm using is for a

685
00:36:01,020 --> 00:36:03,900
specific number of choices I will take

686
00:36:03,900 --> 00:36:07,200
the correlation value for the right one

687
00:36:07,200 --> 00:36:12,060
over the mean of all the others this

688
00:36:12,060 --> 00:36:14,040
will give me a number basically how much

689
00:36:14,040 --> 00:36:18,619
the correct key rises above the rest

690
00:36:18,660 --> 00:36:20,700
and to compare this

691
00:36:20,700 --> 00:36:23,760
I did all those measurements of the 50

692
00:36:23,760 --> 00:36:27,180
million choices times the listen times

693
00:36:27,180 --> 00:36:30,720
the resistors so now your stethoscope

694
00:36:30,720 --> 00:36:33,000
was working quite hard

695
00:36:33,000 --> 00:36:35,700
and to compare this you have the listen

696
00:36:35,700 --> 00:36:40,800
in blue and the Chance in kind of orange

697
00:36:40,800 --> 00:36:44,040
I don't know so you can see on the top

698
00:36:44,040 --> 00:36:47,220
one it's the best case I had so the

699
00:36:47,220 --> 00:36:51,480
shunt is gives a better uh distinguish

700
00:36:51,480 --> 00:36:54,780
this yeah distinguish for the key

701
00:36:54,780 --> 00:36:57,900
on the traces over the reason but most

702
00:36:57,900 --> 00:37:00,420
of the trade of the traces or the key

703
00:37:00,420 --> 00:37:03,540
bytes were mostly the same so this is an

704
00:37:03,540 --> 00:37:07,020
enchant in those cases are mostly

705
00:37:07,020 --> 00:37:09,500
equivalent

706
00:37:09,859 --> 00:37:13,500
just as a comparison I did an fft on the

707
00:37:13,500 --> 00:37:16,260
signal for both the listen and the

708
00:37:16,260 --> 00:37:19,140
chance so you can see that the listen is

709
00:37:19,140 --> 00:37:21,900
uh

710
00:37:21,900 --> 00:37:25,320
brings back a Hit List signal than the

711
00:37:25,320 --> 00:37:28,079
shunts but at least it still works so

712
00:37:28,079 --> 00:37:30,500
that's good

713
00:37:31,740 --> 00:37:36,180
as we mentioned earlier the listing

714
00:37:36,180 --> 00:37:38,339
provides the measurement ports both on

715
00:37:38,339 --> 00:37:42,060
the VCC and the gnd lines

716
00:37:42,060 --> 00:37:46,320
so I did again Acquisitions of 5 50

717
00:37:46,320 --> 00:37:48,660
million traces with the random plain

718
00:37:48,660 --> 00:37:50,220
text just to see if there was a

719
00:37:50,220 --> 00:37:52,440
difference between the grounds and the

720
00:37:52,440 --> 00:37:55,200
VCC lines for the side Channel

721
00:37:55,200 --> 00:37:56,880
and of course I did the same with the

722
00:37:56,880 --> 00:37:59,760
resistors so that's again 50 million

723
00:37:59,760 --> 00:38:01,560
choices more

724
00:38:01,560 --> 00:38:05,400
and you can see that on the listen at

725
00:38:05,400 --> 00:38:09,540
least you have a better chance of

726
00:38:09,540 --> 00:38:13,079
getting the key bytes in some cases but

727
00:38:13,079 --> 00:38:17,720
most of the time it's barely the same

728
00:38:18,140 --> 00:38:21,240
compare the same with the shunt resistor

729
00:38:21,240 --> 00:38:24,060
the main difference here is that for the

730
00:38:24,060 --> 00:38:27,480
shunt resistor the voltage that you read

731
00:38:27,480 --> 00:38:31,380
is around zero so it's easier for for

732
00:38:31,380 --> 00:38:34,020
you to to retrieve the signal but if you

733
00:38:34,020 --> 00:38:36,119
place the resistor on the VCC line you

734
00:38:36,119 --> 00:38:38,460
still have your DC voltage

735
00:38:38,460 --> 00:38:42,540
so I had what I did is I enabled the AC

736
00:38:42,540 --> 00:38:45,540
coupling on my oscilloscope so that

737
00:38:45,540 --> 00:38:48,000
could explain why the signal is not that

738
00:38:48,000 --> 00:38:50,300
great

739
00:38:51,380 --> 00:38:55,560
another thing that we can do is with the

740
00:38:55,560 --> 00:38:58,800
both the VCC and the ground lines we can

741
00:38:58,800 --> 00:39:01,140
calculate differential the difference

742
00:39:01,140 --> 00:39:03,359
between the two signals and maybe this

743
00:39:03,359 --> 00:39:05,700
will give us more information

744
00:39:05,700 --> 00:39:09,000
so there are different things to the

745
00:39:09,000 --> 00:39:11,640
different circuits to separate the

746
00:39:11,640 --> 00:39:16,259
common and the differential signals

747
00:39:16,859 --> 00:39:18,119
and

748
00:39:18,119 --> 00:39:21,079
unfortunately the signal gets quite uh

749
00:39:21,079 --> 00:39:23,460
lowered that's because it's only a

750
00:39:23,460 --> 00:39:26,400
passive separator so it's not that good

751
00:39:26,400 --> 00:39:29,839
from the test I did

752
00:39:30,119 --> 00:39:32,700
on the common mode you I couldn't see

753
00:39:32,700 --> 00:39:36,480
any correlation for the encryption or

754
00:39:36,480 --> 00:39:37,440
the key

755
00:39:37,440 --> 00:39:40,320
but for the differential mode I had some

756
00:39:40,320 --> 00:39:42,720
kind of encryption I did not do as many

757
00:39:42,720 --> 00:39:46,220
traces but at least that's another

758
00:39:46,220 --> 00:39:50,660
potential use of the listen

759
00:39:54,740 --> 00:39:57,920
so in conclusion

760
00:39:57,920 --> 00:40:01,980
like we see license provides a different

761
00:40:01,980 --> 00:40:04,079
way of acquiring side Channel

762
00:40:04,079 --> 00:40:05,640
information

763
00:40:05,640 --> 00:40:08,880
so in practice similar performance as a

764
00:40:08,880 --> 00:40:10,500
shunt resistor

765
00:40:10,500 --> 00:40:13,260
of course the lower inline resistance

766
00:40:13,260 --> 00:40:17,700
because it's like zero ohm license so

767
00:40:17,700 --> 00:40:21,240
there is no effect on the duty like you

768
00:40:21,240 --> 00:40:23,640
could have visitation resistor

769
00:40:23,640 --> 00:40:26,540
and it could be useful for specific

770
00:40:26,540 --> 00:40:29,820
targets because it's not known adhesive

771
00:40:29,820 --> 00:40:31,940
and easier to

772
00:40:31,940 --> 00:40:35,460
to set up on the side you you don't need

773
00:40:35,460 --> 00:40:39,440
to solder a register or things like that

774
00:40:39,440 --> 00:40:43,740
and the signal is already AC couplet

775
00:40:43,740 --> 00:40:46,680
and the major is made on both line so

776
00:40:46,680 --> 00:40:49,380
you have the plus and the minus minus is

777
00:40:49,380 --> 00:40:51,420
a is ground on this case but you can

778
00:40:51,420 --> 00:40:54,960
have a power supply with negative

779
00:40:54,960 --> 00:40:57,960
voltage also

780
00:40:57,960 --> 00:41:01,200
an EMC testing method of G hello

781
00:41:01,200 --> 00:41:04,500
dominance CR quality by diminishing the

782
00:41:04,500 --> 00:41:06,680
noise

783
00:41:08,839 --> 00:41:13,260
so for a hardware IO we have done a

784
00:41:13,260 --> 00:41:15,720
specific limited edition of this

785
00:41:15,720 --> 00:41:19,320
Hardware the last one specialized for

786
00:41:19,320 --> 00:41:22,619
sectional but it works also fine as a

787
00:41:22,619 --> 00:41:26,300
standard license it's a

788
00:41:26,300 --> 00:41:30,839
fully characterized this Vector Network

789
00:41:30,839 --> 00:41:32,760
analyzer

790
00:41:32,760 --> 00:41:36,000
for example I have some bonus

791
00:41:36,000 --> 00:41:37,619
when you see

792
00:41:37,619 --> 00:41:39,920
when we show or we must use the

793
00:41:39,920 --> 00:41:43,800
different the impedance of the reasons

794
00:41:43,800 --> 00:41:45,900
exception loss

795
00:41:45,900 --> 00:41:48,839
we see the section loss is what you will

796
00:41:48,839 --> 00:41:52,220
lose when you measure the the

797
00:41:52,220 --> 00:41:57,599
duty uh a signal in fact the leakage of

798
00:41:57,599 --> 00:42:03,320
the HH blues or it's HF or LF

799
00:42:03,359 --> 00:42:05,598
foreign

800
00:42:16,619 --> 00:42:19,619
Tes

801
00:42:24,060 --> 00:42:28,320
even even more in fact this is smaller

802
00:42:28,320 --> 00:42:30,200
yeah

803
00:42:30,200 --> 00:42:34,140
it can go in fact the limitation is my

804
00:42:34,140 --> 00:42:37,859
test setup there as a banana plug is not

805
00:42:37,859 --> 00:42:42,780
the best to have a good signal but it's

806
00:42:42,780 --> 00:42:44,579
only way to measure

807
00:42:44,579 --> 00:42:47,579
foreign

808
00:42:51,810 --> 00:42:55,400
[Music]

809
00:43:13,980 --> 00:43:16,760
thank you guys

