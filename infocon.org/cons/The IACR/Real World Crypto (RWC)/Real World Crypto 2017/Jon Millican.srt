1
00:00:00,000 --> 00:00:06,720
so hi I'm John from Facebook's London

2
00:00:04,140 --> 00:00:09,139
security team where I work on some

3
00:00:06,720 --> 00:00:11,428
privacy preserving products and

4
00:00:09,139 --> 00:00:14,250
primarily end-to-end encryption and

5
00:00:11,429 --> 00:00:17,310
messenger so this is<font color="#CCCCCC"> something that</font><font color="#E5E5E5"> we</font>

6
00:00:14,250 --> 00:00:20,070
built and launched in july twenty

7
00:00:17,310 --> 00:00:23,038
sixteen when we call it a secret

8
00:00:20,070 --> 00:00:25,500
conversations which enables you to talk

9
00:00:23,039 --> 00:00:28,289
and to end encrypted between one device

10
00:00:25,500 --> 00:00:29,970
of yours and then one of the recipient

11
00:00:28,289 --> 00:00:33,329
of these messages<font color="#E5E5E5"> with optional</font>

12
00:00:29,970 --> 00:00:34,860
ephemerality as well so in this talk I'm

13
00:00:33,329 --> 00:00:36,680
going to give<font color="#E5E5E5"> a bit of an overview of</font>

14
00:00:34,860 --> 00:00:41,070
why this feature looks the way it does

15
00:00:36,680 --> 00:00:44,840
and then take a look<font color="#E5E5E5"> at d4 look into</font>

16
00:00:41,070 --> 00:00:48,030
some of the cryptography that we chose

17
00:00:44,840 --> 00:00:50,579
so to first explain this discussion

18
00:00:48,030 --> 00:00:53,809
let's<font color="#E5E5E5"> start with a high level model of</font>

19
00:00:50,579 --> 00:00:56,340
how regular message conversations work

20
00:00:53,809 --> 00:00:58,949
so first and foremost messenger is

21
00:00:56,340 --> 00:01:00,750
indexed by your facebook account so as

22
00:00:58,949 --> 00:01:03,510
opposed to many messaging systems where

23
00:01:00,750 --> 00:01:05,610
you might be talking to essentially a

24
00:01:03,510 --> 00:01:08,970
phone number<font color="#CCCCCC"> with facebook you're</font>

25
00:01:05,610 --> 00:01:12,600
talking to an identity a name a profile

26
00:01:08,970 --> 00:01:15,530
picture a friend graph and this is my

27
00:01:12,600 --> 00:01:18,439
identity that the<font color="#E5E5E5"> cloud-based</font><font color="#CCCCCC"> its</font>

28
00:01:15,530 --> 00:01:20,759
administered by<font color="#CCCCCC"> Facebook essentially and</font>

29
00:01:18,439 --> 00:01:23,548
it's accessible across all of your

30
00:01:20,759 --> 00:01:26,009
devices you<font color="#CCCCCC"> can log on anywhere to</font>

31
00:01:23,549 --> 00:01:28,439
<font color="#E5E5E5">access messenger from your smartphone</font>

32
00:01:26,009 --> 00:01:31,259
your laptop your friends laptops and

33
00:01:28,439 --> 00:01:34,320
internet cafes and aisle seat your phone

34
00:01:31,259 --> 00:01:38,040
and you'll have all<font color="#E5E5E5"> of your message</font>

35
00:01:34,320 --> 00:01:40,258
history available so a totally valid use

36
00:01:38,040 --> 00:01:41,820
case is you've forgotten your computer

37
00:01:40,259 --> 00:01:45,180
and you log on your friends you want to

38
00:01:41,820 --> 00:01:46,710
check<font color="#E5E5E5"> your messages which leads me to</font>

39
00:01:45,180 --> 00:01:50,490
<font color="#E5E5E5">the final point of this model where</font>

40
00:01:46,710 --> 00:01:52,169
devices can be shared between people so

41
00:01:50,490 --> 00:01:56,130
this is particularly notable with web

42
00:01:52,170 --> 00:01:57,329
browsers but also our mobile apps say in

43
00:01:56,130 --> 00:02:01,380
<font color="#CCCCCC">Android you're able to switch between</font>

44
00:01:57,329 --> 00:02:03,689
different users<font color="#CCCCCC"> too so is that's the</font>

45
00:02:01,380 --> 00:02:06,479
sort of overall model of how messenger

46
00:02:03,689 --> 00:02:09,720
tempted to look let's<font color="#E5E5E5"> look at what an e</font>

47
00:02:06,479 --> 00:02:12,090
<font color="#CCCCCC">2e messenger would typically offer so</font>

48
00:02:09,720 --> 00:02:13,440
first and foremost<font color="#E5E5E5"> you wouldn't really</font>

49
00:02:12,090 --> 00:02:16,500
be easier way

50
00:02:13,440 --> 00:02:20,880
the provider could read your<font color="#E5E5E5"> messages it</font>

51
00:02:16,500 --> 00:02:23,400
would completely defeat the object<font color="#CCCCCC"> you</font>

52
00:02:20,880 --> 00:02:25,680
ideally want perfect<font color="#E5E5E5"> forward secrecy</font><font color="#CCCCCC"> to</font>

53
00:02:23,400 --> 00:02:27,750
make sure cause if your keys are

54
00:02:25,680 --> 00:02:30,360
compromised at some point or your

55
00:02:27,750 --> 00:02:33,210
overall device state that's early

56
00:02:30,360 --> 00:02:35,630
earlier messages don't bleak ideally

57
00:02:33,210 --> 00:02:40,970
you'd also have future secrecy so that

58
00:02:35,630 --> 00:02:43,829
you can be safe post compromised as well

59
00:02:40,970 --> 00:02:47,010
you want to be able to verify that the

60
00:02:43,830 --> 00:02:49,860
person you're talking to truly is who

61
00:02:47,010 --> 00:02:51,780
you<font color="#CCCCCC"> think they are it's not that much</font>

62
00:02:49,860 --> 00:02:53,310
use<font color="#E5E5E5"> having an encrypted connection to</font>

63
00:02:51,780 --> 00:02:58,890
someone if you don't know who the other

64
00:02:53,310 --> 00:03:01,230
endpoint is and then a slightly subtler

65
00:02:58,890 --> 00:03:04,350
point is that you want to<font color="#E5E5E5"> make sure if</font>

66
00:03:01,230 --> 00:03:06,030
your device is shared that only the

67
00:03:04,350 --> 00:03:08,130
person using the device at the<font color="#E5E5E5"> time or</font>

68
00:03:06,030 --> 00:03:10,320
the person who's mentally using the

69
00:03:08,130 --> 00:03:12,120
device at<font color="#CCCCCC"> the time this messages are</font>

70
00:03:10,320 --> 00:03:13,579
available and anyone else who may have

71
00:03:12,120 --> 00:03:15,840
used that device at some other point

72
00:03:13,580 --> 00:03:20,520
dead of their messages still remain

73
00:03:15,840 --> 00:03:23,040
secure so with<font color="#E5E5E5"> this sort of list of</font>

74
00:03:20,520 --> 00:03:25,410
prerequisites or what we'd want from any

75
00:03:23,040 --> 00:03:27,060
<font color="#E5E5E5">to rewrapped how would we expect it to</font>

76
00:03:25,410 --> 00:03:30,420
look<font color="#E5E5E5"> let's just sort of slightly higher</font>

77
00:03:27,060 --> 00:03:33,300
level well to<font color="#CCCCCC"> start with you've got to</font>

78
00:03:30,420 --> 00:03:35,160
have a well-defined set of endpoints if

79
00:03:33,300 --> 00:03:36,660
you're messaging someone you eat away

80
00:03:35,160 --> 00:03:41,070
you've got to know which<font color="#CCCCCC"> keys you're</font>

81
00:03:36,660 --> 00:03:44,190
encrypting<font color="#E5E5E5"> to you've got</font><font color="#CCCCCC"> to have some</font>

82
00:03:41,070 --> 00:03:46,890
level of consistency in identity<font color="#E5E5E5"> so that</font>

83
00:03:44,190 --> 00:03:48,570
you know that<font color="#CCCCCC"> say if you</font><font color="#E5E5E5"> check someone's</font>

84
00:03:46,890 --> 00:03:50,279
key yesterday you're still messaging the

85
00:03:48,570 --> 00:03:57,150
same person<font color="#E5E5E5"> if it's constantly changing</font>

86
00:03:50,280 --> 00:03:59,610
the<font color="#E5E5E5"> maps not as useful because again you</font>

87
00:03:57,150 --> 00:04:01,440
could just<font color="#E5E5E5"> be swapped out and talking to</font>

88
00:03:59,610 --> 00:04:06,150
some completely<font color="#E5E5E5"> different man in the</font>

89
00:04:01,440 --> 00:04:08,070
<font color="#E5E5E5">middle you're not going to be able to</font>

90
00:04:06,150 --> 00:04:12,709
have message history in a reliable

91
00:04:08,070 --> 00:04:15,420
manner so if you switch to<font color="#CCCCCC"> a new device</font>

92
00:04:12,709 --> 00:04:16,980
we we couldn't find any way to really

93
00:04:15,420 --> 00:04:19,649
<font color="#E5E5E5">marry this with perfect forward secrecy</font>

94
00:04:16,980 --> 00:04:22,230
and still have reliably have your

95
00:04:19,649 --> 00:04:24,810
message history available

96
00:04:22,230 --> 00:04:27,420
and this<font color="#E5E5E5"> all sort of goes without saying</font>

97
00:04:24,810 --> 00:04:30,770
but you your<font color="#CCCCCC"> client needs to be able</font><font color="#E5E5E5"> to</font>

98
00:04:27,420 --> 00:04:34,140
encrypt and store<font color="#E5E5E5"> crypto</font><font color="#CCCCCC"> state</font><font color="#E5E5E5"> and and</font>

99
00:04:30,770 --> 00:04:36,390
messaging data so this excludes for

100
00:04:34,140 --> 00:04:41,400
example some basic browsers without

101
00:04:36,390 --> 00:04:44,460
<font color="#E5E5E5">JavaScript support and finally because</font>

102
00:04:41,400 --> 00:04:46,739
<font color="#E5E5E5">you might have shared devices you're</font>

103
00:04:44,460 --> 00:04:50,280
going to<font color="#E5E5E5"> need some mechanism by which to</font>

104
00:04:46,740 --> 00:04:53,130
protect the data from Wanda accounts

105
00:04:50,280 --> 00:04:56,190
from another account on on<font color="#E5E5E5"> a on a shared</font>

106
00:04:53,130 --> 00:04:58,260
device so r abunch of apps out there

107
00:04:56,190 --> 00:05:00,780
which already<font color="#E5E5E5"> fit this model whatsapp</font>

108
00:04:58,260 --> 00:05:05,060
signal and viber are some of the most

109
00:05:00,780 --> 00:05:07,140
<font color="#CCCCCC">obvious ones LOL also</font><font color="#E5E5E5"> pretty close and</font>

110
00:05:05,060 --> 00:05:09,510
notably these are all indexed by your

111
00:05:07,140 --> 00:05:11,550
phone<font color="#E5E5E5"> number so this already provides</font>

112
00:05:09,510 --> 00:05:14,490
that well defined set of n points that

113
00:05:11,550 --> 00:05:16,790
you<font color="#E5E5E5"> need they do have some sort of model</font>

114
00:05:14,490 --> 00:05:21,510
of secondary device each of them but

115
00:05:16,790 --> 00:05:24,060
they're somehow it<font color="#E5E5E5"> all they all share</font>

116
00:05:21,510 --> 00:05:25,830
the same identity still so this

117
00:05:24,060 --> 00:05:28,650
consistently verifiable identity isn't

118
00:05:25,830 --> 00:05:30,900
broken and you've still got message

119
00:05:28,650 --> 00:05:34,859
history not being<font color="#E5E5E5"> available when you use</font>

120
00:05:30,900 --> 00:05:36,929
<font color="#E5E5E5">a new device then also these clients are</font>

121
00:05:34,860 --> 00:05:39,960
all apps provided by the vendor so they

122
00:05:36,930 --> 00:05:42,030
can make sure that this binary has the

123
00:05:39,960 --> 00:05:46,020
necessary crypto the necessary storage

124
00:05:42,030 --> 00:05:47,940
capabilities in but messenger really

125
00:05:46,020 --> 00:05:50,039
doesn't fit this model at all the

126
00:05:47,940 --> 00:05:52,380
endpoints will constantly change still

127
00:05:50,040 --> 00:05:53,670
have full message history we've got

128
00:05:52,380 --> 00:05:55,230
messaging over a number of<font color="#CCCCCC"> services</font>

129
00:05:53,670 --> 00:05:57,780
including ones which don't support

130
00:05:55,230 --> 00:06:01,800
javascript on our mobile basic mobile

131
00:05:57,780 --> 00:06:05,099
sites so as we want<font color="#E5E5E5"> to ask end-to-end</font>

132
00:06:01,800 --> 00:06:07,320
<font color="#E5E5E5">encryption one option is to try and do</font>

133
00:06:05,100 --> 00:06:08,850
<font color="#E5E5E5">this by default and in doing so totally</font>

134
00:06:07,320 --> 00:06:10,830
change the<font color="#CCCCCC"> product to actually remove a</font>

135
00:06:08,850 --> 00:06:13,140
bunch of features that<font color="#E5E5E5"> people use</font>

136
00:06:10,830 --> 00:06:17,039
messenger for a lot of<font color="#CCCCCC"> the</font><font color="#E5E5E5"> things that</font>

137
00:06:13,140 --> 00:06:19,380
people rely on or we<font color="#E5E5E5"> can build it as an</font>

138
00:06:17,040 --> 00:06:23,900
optional mode and not force people to

139
00:06:19,380 --> 00:06:28,120
use it and this is<font color="#CCCCCC"> of course what we did</font>

140
00:06:23,900 --> 00:06:30,890
so<font color="#E5E5E5"> this is the model for messenger and</font>

141
00:06:28,120 --> 00:06:31,730
how we<font color="#E5E5E5"> were</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> take this forward let's</font>

142
00:06:30,890 --> 00:06:34,430
take a look<font color="#E5E5E5"> at some of the high-level</font>

143
00:06:31,730 --> 00:06:38,150
choices there were still many degrees of

144
00:06:34,430 --> 00:06:39,410
freedom in how this can look so from the

145
00:06:38,150 --> 00:06:42,500
start we wanted to<font color="#CCCCCC"> use off-the-shelf</font>

146
00:06:39,410 --> 00:06:45,230
crypto we didn't want<font color="#CCCCCC"> to</font><font color="#E5E5E5"> roll our own</font>

147
00:06:42,500 --> 00:06:46,730
where we could avoid<font color="#E5E5E5"> it and there is a</font>

148
00:06:45,230 --> 00:06:48,770
small<font color="#CCCCCC"> aspect in the message ranking</font>

149
00:06:46,730 --> 00:06:51,740
which is slightly novel and I'll cover

150
00:06:48,770 --> 00:06:55,940
<font color="#E5E5E5">that later but in general we were using</font>

151
00:06:51,740 --> 00:06:57,650
off-the-shelf tools one of the earlier

152
00:06:55,940 --> 00:06:59,810
decisions we made would had<font color="#CCCCCC"> to make with</font>

153
00:06:57,650 --> 00:07:04,789
how<font color="#CCCCCC"> many devices could be in any given</font>

154
00:06:59,810 --> 00:07:06,470
threat so we knew<font color="#E5E5E5"> from the start that it</font>

155
00:07:04,790 --> 00:07:08,180
would have to be a subset of devices for

156
00:07:06,470 --> 00:07:09,650
messenger because there are always<font color="#E5E5E5"> some</font>

157
00:07:08,180 --> 00:07:12,440
particularly the<font color="#E5E5E5"> no JavaScript version</font>

158
00:07:09,650 --> 00:07:17,000
which won't have access to<font color="#E5E5E5"> secret</font>

159
00:07:12,440 --> 00:07:19,930
conversations so we had to<font color="#CCCCCC"> have some</font>

160
00:07:17,000 --> 00:07:23,030
sort of device management model

161
00:07:19,930 --> 00:07:26,060
multi-device in this world would be

162
00:07:23,030 --> 00:07:28,039
somewhat complex to come up<font color="#CCCCCC"> with and</font>

163
00:07:26,060 --> 00:07:30,680
potentially it more difficult for a user

164
00:07:28,040 --> 00:07:33,980
to understand so we ended up<font color="#CCCCCC"> just saying</font>

165
00:07:30,680 --> 00:07:36,919
each<font color="#CCCCCC"> threads has one device per person</font>

166
00:07:33,980 --> 00:07:40,790
in very simple<font color="#E5E5E5"> to understand what's</font>

167
00:07:36,919 --> 00:07:43,669
going on and also somewhat simplifies

168
00:07:40,790 --> 00:07:46,010
the engineering as in general the

169
00:07:43,669 --> 00:07:48,919
multi-device protocols that we could use

170
00:07:46,010 --> 00:07:50,750
<font color="#E5E5E5">wood bootstrap offer</font><font color="#CCCCCC"> one to one protocol</font>

171
00:07:48,919 --> 00:07:54,250
so we'd<font color="#CCCCCC"> have to have created this one to</font>

172
00:07:50,750 --> 00:07:54,250
one version in the<font color="#E5E5E5"> first place</font>

173
00:07:56,490 --> 00:08:07,449
so with one device per thread per person

174
00:08:02,789 --> 00:08:09,099
the next option is well is<font color="#CCCCCC"> that your</font>

175
00:08:07,449 --> 00:08:10,840
only device that you can use for all

176
00:08:09,099 --> 00:08:12,729
secret conversations or can you actually

177
00:08:10,840 --> 00:08:15,068
use different devices for different

178
00:08:12,729 --> 00:08:17,500
threads and we did actually experiment

179
00:08:15,069 --> 00:08:19,979
with the latter model a bit but this

180
00:08:17,500 --> 00:08:22,120
this ended<font color="#E5E5E5"> up adding extra complications</font>

181
00:08:19,979 --> 00:08:23,590
started to get this well defined set of

182
00:08:22,120 --> 00:08:25,780
endpoints you know actually had to have

183
00:08:23,590 --> 00:08:29,198
a symmetric<font color="#E5E5E5"> set up sorry not not</font>

184
00:08:25,780 --> 00:08:30,940
symmetric synchronous so I actually send

185
00:08:29,199 --> 00:08:33,070
a request from my device which<font color="#CCCCCC"> define</font>

186
00:08:30,940 --> 00:08:34,269
<font color="#E5E5E5">well defined which device i'm using but</font>

187
00:08:33,070 --> 00:08:38,200
<font color="#E5E5E5">i don't know what you are until you</font>

188
00:08:34,269 --> 00:08:40,510
respond so this was a far less good user

189
00:08:38,200 --> 00:08:44,229
experience and<font color="#E5E5E5"> so we ended up going with</font>

190
00:08:40,510 --> 00:08:46,390
the<font color="#E5E5E5"> single device</font><font color="#CCCCCC"> per account with</font>

191
00:08:44,229 --> 00:08:47,860
meaning your model is really simple

192
00:08:46,390 --> 00:08:50,350
particularly with<font color="#CCCCCC"> the previous point</font>

193
00:08:47,860 --> 00:08:53,230
that any device that you can use the

194
00:08:50,350 --> 00:08:54,100
secret conversations as the<font color="#E5E5E5"> only ones</font>

195
00:08:53,230 --> 00:08:56,620
that you can use for secret

196
00:08:54,100 --> 00:08:57,910
conversations you know exactly who<font color="#E5E5E5"> your</font>

197
00:08:56,620 --> 00:09:03,790
messaging you know exactly where your

198
00:08:57,910 --> 00:09:05,199
messages<font color="#CCCCCC"> are going then finally we had</font>

199
00:09:03,790 --> 00:09:08,709
to<font color="#E5E5E5"> decide which services were going to</font>

200
00:09:05,200 --> 00:09:12,670
<font color="#CCCCCC">supports here we just</font><font color="#E5E5E5"> went for our main</font>

201
00:09:08,709 --> 00:09:15,010
apt so iOS and Android web presents a

202
00:09:12,670 --> 00:09:17,170
number of challenges not least trust in

203
00:09:15,010 --> 00:09:18,579
the JavaScript photography and we didn't

204
00:09:17,170 --> 00:09:22,660
want<font color="#CCCCCC"> to address this in the initial</font>

205
00:09:18,579 --> 00:09:24,910
version so that's what we enter<font color="#CCCCCC"> built</font>

206
00:09:22,660 --> 00:09:28,390
let's take<font color="#CCCCCC"> a look into</font><font color="#E5E5E5"> some of the</font>

207
00:09:24,910 --> 00:09:30,130
deeper specifics of the<font color="#CCCCCC"> quick tech so</font>

208
00:09:28,390 --> 00:09:32,260
the first main<font color="#CCCCCC"> decision was what's</font>

209
00:09:30,130 --> 00:09:33,730
end-to-end protocol should we use<font color="#E5E5E5"> and we</font>

210
00:09:32,260 --> 00:09:36,010
quickly settled on the signal protocol

211
00:09:33,730 --> 00:09:37,890
here or the axolotl ratchet at the time

212
00:09:36,010 --> 00:09:39,880
that we started designing this and

213
00:09:37,890 --> 00:09:42,930
pretty<font color="#E5E5E5"> much because it was the best in</font>

214
00:09:39,880 --> 00:09:46,750
class what's ups using signal of course

215
00:09:42,930 --> 00:09:48,609
Google a low a fiber I think with their

216
00:09:46,750 --> 00:09:50,649
own implementation so it's pretty much

217
00:09:48,610 --> 00:09:52,269
<font color="#E5E5E5">an industry standard I won't go too</font>

218
00:09:50,649 --> 00:09:55,510
deeply into this as I think there are

219
00:09:52,269 --> 00:09:58,620
<font color="#E5E5E5">two talks on this protocol later on but</font>

220
00:09:55,510 --> 00:09:58,620
suffice to say it's<font color="#E5E5E5"> really good</font>

221
00:09:58,649 --> 00:10:04,079
another feature that we wanted<font color="#E5E5E5"> to</font>

222
00:10:00,300 --> 00:10:05,579
support with geese reporting so we care

223
00:10:04,079 --> 00:10:08,248
a lot about people feeling safe on

224
00:10:05,579 --> 00:10:10,498
facebook meaning that having an ability

225
00:10:08,249 --> 00:10:12,860
<font color="#CCCCCC">to address abusive behavior</font><font color="#E5E5E5"> in some</font>

226
00:10:10,499 --> 00:10:15,749
degrees is important for us to maintain

227
00:10:12,860 --> 00:10:17,490
so in an end-to-end encrypted model this

228
00:10:15,749 --> 00:10:18,749
<font color="#E5E5E5">is much more limited</font><font color="#CCCCCC"> to compare</font><font color="#E5E5E5"> the</font>

229
00:10:17,490 --> 00:10:21,749
channel so we do<font color="#CCCCCC"> have the plain text</font>

230
00:10:18,749 --> 00:10:23,160
available but we did want people to at

231
00:10:21,749 --> 00:10:27,209
least be able to<font color="#E5E5E5"> report these messages</font>

232
00:10:23,160 --> 00:10:29,910
to us now I<font color="#E5E5E5"> easily you could have a</font>

233
00:10:27,209 --> 00:10:31,258
simple model<font color="#E5E5E5"> where when Alice sends</font>

234
00:10:29,910 --> 00:10:33,149
something to Bob over the encrypted

235
00:10:31,259 --> 00:10:38,129
<font color="#E5E5E5">Channel in this diagram denoted by the</font>

236
00:10:33,149 --> 00:10:39,779
the green channel and Bob<font color="#CCCCCC"> cylinders to</font>

237
00:10:38,129 --> 00:10:42,149
Facebook saying this is what Alice spent

238
00:10:39,779 --> 00:10:44,749
making but the problem<font color="#CCCCCC"> here is we've no</font>

239
00:10:42,149 --> 00:10:47,910
way of<font color="#CCCCCC"> verifying that Bob's being honest</font>

240
00:10:44,749 --> 00:10:49,050
because because<font color="#E5E5E5"> we're</font><font color="#CCCCCC"> not stuck</font>

241
00:10:47,910 --> 00:10:52,110
permanently storing the ciphertext

242
00:10:49,050 --> 00:10:54,149
<font color="#CCCCCC">server side and just during</font><font color="#E5E5E5"> the delivery</font>

243
00:10:52,110 --> 00:10:58,350
process and we didn't want Bob to have

244
00:10:54,149 --> 00:10:59,579
to store this either so<font color="#E5E5E5"> he ends up</font>

245
00:10:58,350 --> 00:11:01,110
building a mechanism that<font color="#E5E5E5"> we called</font>

246
00:10:59,579 --> 00:11:02,939
message ranking which allows us to

247
00:11:01,110 --> 00:11:05,399
verify that messages truly were sent

248
00:11:02,939 --> 00:11:07,139
over our infrastructure as claimed<font color="#E5E5E5"> but</font>

249
00:11:05,399 --> 00:11:11,550
without leaking the message contents to

250
00:11:07,139 --> 00:11:13,499
us unless they are explicitly reporting

251
00:11:11,550 --> 00:11:16,589
and without us having to store anything

252
00:11:13,499 --> 00:11:17,850
about this server side so<font color="#E5E5E5"> I'll cover</font>

253
00:11:16,589 --> 00:11:21,120
this more deeply in the<font color="#E5E5E5"> next few slides</font>

254
00:11:17,850 --> 00:11:23,730
if this diagram isn't particularly clear

255
00:11:21,120 --> 00:11:27,170
but so at a high level you've got alice

256
00:11:23,730 --> 00:11:29,730
is adding an<font color="#CCCCCC"> HVAC over her contents over</font>

257
00:11:27,170 --> 00:11:32,189
her plain text to be sent up to face

258
00:11:29,730 --> 00:11:35,759
book and<font color="#E5E5E5"> then we add our own HVAC on top</font>

259
00:11:32,189 --> 00:11:40,439
of this so that when Bob Bob reports it

260
00:11:35,759 --> 00:11:45,509
we have enough data to verify that the

261
00:11:40,439 --> 00:11:49,290
plain text that he sent is matches what

262
00:11:45,509 --> 00:11:50,999
<font color="#CCCCCC">alice sent him because the h mac and we</font>

263
00:11:49,290 --> 00:11:53,219
can verify<font color="#E5E5E5"> that that H max truly was</font>

264
00:11:50,999 --> 00:11:58,180
accurate because<font color="#CCCCCC"> of</font><font color="#E5E5E5"> the one that we</font>

265
00:11:53,220 --> 00:12:00,190
<font color="#CCCCCC">added so</font>

266
00:11:58,180 --> 00:12:02,829
Alice has to send a message<font color="#CCCCCC"> just</font><font color="#E5E5E5"> call</font>

267
00:12:00,190 --> 00:12:04,810
this<font color="#CCCCCC"> M and she generates a random</font><font color="#E5E5E5"> nan</font>

268
00:12:02,830 --> 00:12:07,800
and appends this to the message or

269
00:12:04,810 --> 00:12:10,089
contains it within the message structure

270
00:12:07,800 --> 00:12:11,050
she doesn't generate some<font color="#E5E5E5"> H</font><font color="#CCCCCC"> Mac over</font>

271
00:12:10,089 --> 00:12:14,350
this which we're going to call the

272
00:12:11,050 --> 00:12:19,000
franking tag keyed with this random

273
00:12:14,350 --> 00:12:20,279
<font color="#CCCCCC">nantes then encrypts the structure</font>

274
00:12:19,000 --> 00:12:23,140
containing the message<font color="#E5E5E5"> and the nonce</font>

275
00:12:20,279 --> 00:12:24,730
using live signal and sends up to

276
00:12:23,140 --> 00:12:26,920
<font color="#E5E5E5">Facebook I want to send this</font><font color="#CCCCCC"> message to</font>

277
00:12:24,730 --> 00:12:31,029
Bob here's<font color="#E5E5E5"> the franking tag and here's</font>

278
00:12:26,920 --> 00:12:32,589
the<font color="#E5E5E5"> ciphertext on our end we compute</font>

279
00:12:31,029 --> 00:12:35,320
what we call the authentication tag

280
00:12:32,589 --> 00:12:37,750
which is an HVAC over this franking tag

281
00:12:35,320 --> 00:12:40,680
combined with some basic metadata so

282
00:12:37,750 --> 00:12:43,870
went from Alice to Bob at this time<font color="#E5E5E5"> and</font>

283
00:12:40,680 --> 00:12:46,479
then we forward all of this to Bob and

284
00:12:43,870 --> 00:12:48,910
so that it came from<font color="#E5E5E5"> alice is</font><font color="#CCCCCC"> alice's</font>

285
00:12:46,480 --> 00:12:50,820
franking tag is our authentication tag

286
00:12:48,910 --> 00:12:53,709
and here's the actual slide the text on

287
00:12:50,820 --> 00:12:56,470
both sides ignores the authentication

288
00:12:53,709 --> 00:12:57,969
tag because this is meaningless to him

289
00:12:56,470 --> 00:13:01,089
that he doesn't<font color="#E5E5E5"> have facebook sweet</font>

290
00:12:57,970 --> 00:13:03,130
cupcake but having decrypted the size of

291
00:13:01,089 --> 00:13:05,589
text from alice is able to verify that

292
00:13:03,130 --> 00:13:07,689
Alice was honest with the franking tag

293
00:13:05,589 --> 00:13:10,360
<font color="#E5E5E5">because he has both the plain text and</font>

294
00:13:07,690 --> 00:13:13,360
the secret<font color="#CCCCCC"> north then this verification</font>

295
00:13:10,360 --> 00:13:16,750
ensures that the authentication tags

296
00:13:13,360 --> 00:13:18,820
that Facebook has sent is<font color="#E5E5E5"> computed over</font>

297
00:13:16,750 --> 00:13:20,800
the correct data because he knows<font color="#CCCCCC"> that</font>

298
00:13:18,820 --> 00:13:24,279
Alice was honest in her initial ranking

299
00:13:20,800 --> 00:13:27,490
<font color="#E5E5E5">tag so fob then wants to report the</font>

300
00:13:24,279 --> 00:13:32,200
message he just<font color="#E5E5E5"> needs to send the</font>

301
00:13:27,490 --> 00:13:34,839
plaintext up with the original nonce the

302
00:13:32,200 --> 00:13:38,650
timestamp the fact it came from Alice

303
00:13:34,839 --> 00:13:42,520
and then this authentication tag which

304
00:13:38,650 --> 00:13:45,670
we can receive from this<font color="#E5E5E5"> we can</font>

305
00:13:42,520 --> 00:13:47,439
recompute the franking tag and then we

306
00:13:45,670 --> 00:13:49,420
compute the authentication tag verify

307
00:13:47,440 --> 00:13:51,940
<font color="#CCCCCC">that it was correct and then we've now</font>

308
00:13:49,420 --> 00:13:53,920
proved that it truly was<font color="#CCCCCC"> sent from</font><font color="#E5E5E5"> Alice</font>

309
00:13:51,940 --> 00:13:55,630
to Bob at the same<font color="#CCCCCC"> time that we thought</font>

310
00:13:53,920 --> 00:13:57,939
and it's got a similar level of

311
00:13:55,630 --> 00:14:00,880
assurance on this as with any normal

312
00:13:57,940 --> 00:14:04,140
message sensitive a messenger in plain

313
00:14:00,880 --> 00:14:04,140
text in our regular mode

314
00:14:04,579 --> 00:14:10,309
so next we have<font color="#E5E5E5"> a</font><font color="#CCCCCC"> mechanism to send</font>

315
00:14:07,399 --> 00:14:12,649
attachments we use the separate data

316
00:14:10,309 --> 00:14:14,589
store for attachment data rather than<font color="#E5E5E5"> in</font>

317
00:14:12,649 --> 00:14:17,299
<font color="#E5E5E5">lining this within</font><font color="#CCCCCC"> the signal protocol</font>

318
00:14:14,589 --> 00:14:19,189
as this better suited the messaging

319
00:14:17,299 --> 00:14:24,529
transport that<font color="#E5E5E5"> we're using and gave</font>

320
00:14:19,189 --> 00:14:25,998
<font color="#E5E5E5">shorter latency so here's a diagram of</font>

321
00:14:24,529 --> 00:14:29,079
<font color="#CCCCCC">how this works and the next slide will</font>

322
00:14:25,999 --> 00:14:31,309
again cover this slightly more clearly

323
00:14:29,079 --> 00:14:33,709
but<font color="#E5E5E5"> you're generating a random key</font>

324
00:14:31,309 --> 00:14:36,350
alongside the other the image you're

325
00:14:33,709 --> 00:14:38,809
encrypting it using the concealed

326
00:14:36,350 --> 00:14:41,209
library if you're on<font color="#CCCCCC"> android or real</font>

327
00:14:38,809 --> 00:14:44,209
implementation of the same protocol if

328
00:14:41,209 --> 00:14:46,339
you're an ILS then dislike the text is

329
00:14:44,209 --> 00:14:49,339
<font color="#CCCCCC">being uploaded to facebook store for 30</font>

330
00:14:46,339 --> 00:14:51,199
days in our<font color="#CCCCCC"> back-end</font><font color="#E5E5E5"> and</font><font color="#CCCCCC"> facebook</font>

331
00:14:49,339 --> 00:14:54,589
returns to us an ID in authentication

332
00:14:51,199 --> 00:14:56,449
string for us to download it later<font color="#E5E5E5"> on we</font>

333
00:14:54,589 --> 00:15:00,290
also then include in the message<font color="#CCCCCC"> packet</font>

334
00:14:56,449 --> 00:15:02,689
this key that d-cups the message<font color="#E5E5E5"> check</font>

335
00:15:00,290 --> 00:15:05,360
some of the<font color="#E5E5E5"> cipher text and potentially</font>

336
00:15:02,689 --> 00:15:11,449
a thumbnail of<font color="#CCCCCC"> the image to improve the</font>

337
00:15:05,360 --> 00:15:13,850
<font color="#E5E5E5">ux on the initials delivery so here's it</font>

338
00:15:11,449 --> 00:15:15,769
laid out think i pretty much covered

339
00:15:13,850 --> 00:15:21,199
covered that so<font color="#CCCCCC"> i'll just leave that</font><font color="#E5E5E5"> for</font>

340
00:15:15,769 --> 00:15:23,059
a sec and<font color="#E5E5E5"> i'd note here that this</font>

341
00:15:21,199 --> 00:15:25,128
authentication string alongside the ID

342
00:15:23,059 --> 00:15:27,579
is just there to prevent people from

343
00:15:25,129 --> 00:15:30,589
scraping through the attachment ID space

344
00:15:27,579 --> 00:15:32,419
so they can't<font color="#CCCCCC"> just iterate over it until</font>

345
00:15:30,589 --> 00:15:34,699
they find remnants like the text to

346
00:15:32,419 --> 00:15:37,549
download which should be meaningless to

347
00:15:34,699 --> 00:15:41,929
them because they're<font color="#E5E5E5"> ciphertext but we</font>

348
00:15:37,549 --> 00:15:43,610
wanted to<font color="#E5E5E5"> avoid us anyway and so the</font>

349
00:15:41,929 --> 00:15:46,910
<font color="#CCCCCC">receive past hair is fairly simple</font>

350
00:15:43,610 --> 00:15:50,480
you've decrypt your<font color="#CCCCCC"> cipher text giving</font>

351
00:15:46,910 --> 00:15:52,449
you the thumbnail the key the idea of

352
00:15:50,480 --> 00:15:55,610
authentication string in the checksum

353
00:15:52,449 --> 00:15:58,639
you display this thumbnail you download

354
00:15:55,610 --> 00:16:02,470
the ciphertext check the checksum

355
00:15:58,639 --> 00:16:02,470
decrypt set display it

356
00:16:03,529 --> 00:16:09,500
so<font color="#E5E5E5"> finally we wanted to address this</font>

357
00:16:06,810 --> 00:16:12,089
shared device issue that we have and

358
00:16:09,500 --> 00:16:14,160
protect the on device secret

359
00:16:12,089 --> 00:16:18,389
conversations database when you might<font color="#E5E5E5"> be</font>

360
00:16:14,160 --> 00:16:20,639
logged out that this is partly because

361
00:16:18,389 --> 00:16:23,130
good practice for sensitive data being

362
00:16:20,639 --> 00:16:28,920
stored but largely motivated motivated

363
00:16:23,130 --> 00:16:30,600
by the shared device model so to isolate

364
00:16:28,920 --> 00:16:33,870
data between years as we simply provide

365
00:16:30,600 --> 00:16:37,500
and we provide a king from facebook at

366
00:16:33,870 --> 00:16:39,269
the point of log end and then we store

367
00:16:37,500 --> 00:16:43,260
<font color="#E5E5E5">all of our secret conversations database</font>

368
00:16:39,269 --> 00:16:44,850
for a given user under that key<font color="#CCCCCC"> and then</font>

369
00:16:43,260 --> 00:16:46,620
as<font color="#CCCCCC"> soon as you log out it's wiped from</font>

370
00:16:44,850 --> 00:16:50,850
memory on the phone so you<font color="#E5E5E5"> don't</font><font color="#CCCCCC"> have</font>

371
00:16:46,620 --> 00:16:54,180
<font color="#E5E5E5">access to it anymore looks roughly like</font>

372
00:16:50,850 --> 00:16:56,850
this each originating a layer of

373
00:16:54,180 --> 00:16:58,638
encryption so you've got a storage<font color="#E5E5E5"> key</font>

374
00:16:56,850 --> 00:17:02,130
on the device which is encrypted by this

375
00:16:58,639 --> 00:17:05,579
server provided key from facebook that

376
00:17:02,130 --> 00:17:07,829
stores first your private keys so your

377
00:17:05,579 --> 00:17:12,000
<font color="#E5E5E5">new personal identity key</font><font color="#CCCCCC"> or find creaky</font>

378
00:17:07,829 --> 00:17:14,220
etc and also your thread storage keys

379
00:17:12,000 --> 00:17:16,709
each thread being encrypted under a

380
00:17:14,220 --> 00:17:19,350
separate key which then contains the

381
00:17:16,709 --> 00:17:24,299
messaging data and the session<font color="#E5E5E5"> keys for</font>

382
00:17:19,349 --> 00:17:26,969
that thread so that's the product<font color="#CCCCCC"> 'let's</font>

383
00:17:24,299 --> 00:17:28,710
and why it looks as it does let's finish

384
00:17:26,970 --> 00:17:32,190
up<font color="#E5E5E5"> with just some of the challenges</font>

385
00:17:28,710 --> 00:17:34,080
we're looking into and hoping to get

386
00:17:32,190 --> 00:17:37,130
good solutions for and future in which

387
00:17:34,080 --> 00:17:39,990
this community may have some thoughts on

388
00:17:37,130 --> 00:17:42,419
so a<font color="#E5E5E5"> huge one here is that of actually</font>

389
00:17:39,990 --> 00:17:43,890
authenticating your<font color="#CCCCCC"> pairs we wanted to</font>

390
00:17:42,419 --> 00:17:46,290
be able to provide<font color="#E5E5E5"> some simple model</font>

391
00:17:43,890 --> 00:17:48,660
whereby you can trust the person you're

392
00:17:46,290 --> 00:17:52,909
talking to you truly is who they claim

393
00:17:48,660 --> 00:17:56,400
to be this is our<font color="#CCCCCC"> current pollution it's</font>

394
00:17:52,910 --> 00:17:57,900
probably<font color="#CCCCCC"> a fairly familiar types of</font>

395
00:17:56,400 --> 00:18:00,570
screens and most people so you can just

396
00:17:57,900 --> 00:18:03,330
<font color="#E5E5E5">compare your public identity</font><font color="#CCCCCC"> Keys people</font>

397
00:18:00,570 --> 00:18:08,159
but we're fully aware that<font color="#E5E5E5"> the vast</font>

398
00:18:03,330 --> 00:18:09,629
majority of people<font color="#E5E5E5"> won't do this so we</font>

399
00:18:08,160 --> 00:18:12,360
want Alice to really be able<font color="#E5E5E5"> to verify</font>

400
00:18:09,630 --> 00:18:14,130
she's truly talking to Bob without this

401
00:18:12,360 --> 00:18:15,629
having specialist knowledge without

402
00:18:14,130 --> 00:18:17,510
knowing<font color="#CCCCCC"> that you need to go check your</font>

403
00:18:15,630 --> 00:18:20,720
keys without<font color="#E5E5E5"> having a sort of</font>

404
00:18:17,510 --> 00:18:22,760
any certificate authority and ideally

405
00:18:20,720 --> 00:18:24,590
come up with this sort of<font color="#CCCCCC"> view axis</font>

406
00:18:22,760 --> 00:18:27,950
browsers have sort<font color="#E5E5E5"> of perfected well</font>

407
00:18:24,590 --> 00:18:30,040
maybe<font color="#E5E5E5"> not perfected yet</font><font color="#CCCCCC"> put browsers are</font>

408
00:18:27,950 --> 00:18:32,720
doing<font color="#CCCCCC"> pretty well on with TLS and</font>

409
00:18:30,040 --> 00:18:39,950
requires very little knowledge from the

410
00:18:32,720 --> 00:18:42,620
<font color="#E5E5E5">actual user next we would like</font><font color="#CCCCCC"> to extend</font>

411
00:18:39,950 --> 00:18:44,810
feature beyond a single device<font color="#E5E5E5"> per</font>

412
00:18:42,620 --> 00:18:47,989
account to model to support<font color="#CCCCCC"> multiple</font>

413
00:18:44,810 --> 00:18:52,720
devices<font color="#E5E5E5"> and to better reflect how</font>

414
00:18:47,990 --> 00:18:56,330
regular messenger is used by many people

415
00:18:52,720 --> 00:18:58,670
so our current model is really quite

416
00:18:56,330 --> 00:19:01,490
simple<font color="#E5E5E5"> and very easy to understand this</font>

417
00:18:58,670 --> 00:19:03,680
is your secret conversations device this

418
00:19:01,490 --> 00:19:05,540
is your identity case you can<font color="#E5E5E5"> message</font>

419
00:19:03,680 --> 00:19:07,820
someone else's designated device

420
00:19:05,540 --> 00:19:10,340
compared with their identity key and you

421
00:19:07,820 --> 00:19:13,100
know exactly<font color="#E5E5E5"> where the channel for these</font>

422
00:19:10,340 --> 00:19:15,560
<font color="#CCCCCC">messages but we'd like to remove this</font>

423
00:19:13,100 --> 00:19:18,230
restriction there are engineering

424
00:19:15,560 --> 00:19:23,120
challenges there but<font color="#E5E5E5"> ultimately we had</font>

425
00:19:18,230 --> 00:19:25,370
some higher-level UX concerns so we've

426
00:19:23,120 --> 00:19:28,550
got to manage how devices get enrolled

427
00:19:25,370 --> 00:19:30,830
for your accounts how they then get such

428
00:19:28,550 --> 00:19:32,180
as going to be<font color="#E5E5E5"> different roles whether</font>

429
00:19:30,830 --> 00:19:34,669
this disenrollment can happen

430
00:19:32,180 --> 00:19:36,400
automatically at some points and how

431
00:19:34,670 --> 00:19:38,660
<font color="#E5E5E5">that will affect the overall experience</font>

432
00:19:36,400 --> 00:19:41,240
because of course you don't want these

433
00:19:38,660 --> 00:19:43,880
<font color="#E5E5E5">people again have</font><font color="#CCCCCC"> to understand how all</font>

434
00:19:41,240 --> 00:19:45,620
the crypto works and real license so

435
00:19:43,880 --> 00:19:48,520
they shouldn't have<font color="#E5E5E5"> to know that they</font>

436
00:19:45,620 --> 00:19:52,159
need<font color="#CCCCCC"> to disenroll advice at some point</font>

437
00:19:48,520 --> 00:19:53,510
and also once you're dealing<font color="#CCCCCC"> with</font>

438
00:19:52,160 --> 00:19:55,880
multiple devices it makes the

439
00:19:53,510 --> 00:19:57,890
authentication problem trickier so

440
00:19:55,880 --> 00:20:00,230
you're no longer<font color="#E5E5E5"> verifying a single key</font>

441
00:19:57,890 --> 00:20:02,270
but you could verifying a collection of

442
00:20:00,230 --> 00:20:03,800
keys for a given account and a

443
00:20:02,270 --> 00:20:07,220
collection which is more likely to

444
00:20:03,800 --> 00:20:10,310
change more frequently so common option

445
00:20:07,220 --> 00:20:12,560
used in<font color="#CCCCCC"> multi</font><font color="#E5E5E5"> party chat such as with</font>

446
00:20:10,310 --> 00:20:14,690
whatsapp<font color="#E5E5E5"> is signal is conversation codes</font>

447
00:20:12,560 --> 00:20:17,240
provides<font color="#CCCCCC"> a fingerprint over all</font>

448
00:20:14,690 --> 00:20:19,400
participants<font color="#CCCCCC"> of the threat but in our</font>

449
00:20:17,240 --> 00:20:22,640
case we feel it's<font color="#E5E5E5"> not quite that simple</font>

450
00:20:19,400 --> 00:20:24,890
<font color="#E5E5E5">as that relies on you knowing that</font><font color="#CCCCCC"> you</font>

451
00:20:22,640 --> 00:20:27,850
<font color="#CCCCCC">have</font><font color="#E5E5E5"> all all of</font><font color="#CCCCCC"> the</font><font color="#E5E5E5"> devices within the</font>

452
00:20:24,890 --> 00:20:29,960
threat so when you when<font color="#E5E5E5"> you're comparing</font>

453
00:20:27,850 --> 00:20:31,580
this is this phone number

454
00:20:29,960 --> 00:20:33,950
<font color="#CCCCCC">is this phone number and this one and</font>

455
00:20:31,580 --> 00:20:35,870
<font color="#E5E5E5">between them we know that</font><font color="#CCCCCC"> there are</font>

456
00:20:33,950 --> 00:20:37,669
three devices in this threat and we can

457
00:20:35,870 --> 00:20:41,799
see all three hours sharing the same key

458
00:20:37,669 --> 00:20:44,960
you know that's okay but for us<font color="#E5E5E5"> if</font>

459
00:20:41,799 --> 00:20:46,668
you're unlikely to have a large number

460
00:20:44,960 --> 00:20:50,149
of all of your devices in the same place

461
00:20:46,669 --> 00:20:53,120
at once verifying that you share the

462
00:20:50,149 --> 00:20:54,709
same key isn't sufficient as you don't

463
00:20:53,120 --> 00:20:56,870
know how many other people<font color="#E5E5E5"> out there</font>

464
00:20:54,710 --> 00:21:02,350
share the same key as<font color="#CCCCCC"> you what</font><font color="#E5E5E5"> people</font>

465
00:20:56,870 --> 00:21:06,350
devices sorry so it's<font color="#E5E5E5"> probably</font><font color="#CCCCCC"> not the</font>

466
00:21:02,350 --> 00:21:09,529
complete solution for us<font color="#CCCCCC"> then finally</font>

467
00:21:06,350 --> 00:21:11,029
<font color="#E5E5E5">I've said that we didn't want to address</font>

468
00:21:09,529 --> 00:21:14,710
this initially but we would eventually

469
00:21:11,029 --> 00:21:16,970
<font color="#E5E5E5">like to add web support now this</font>

470
00:21:14,710 --> 00:21:19,520
<font color="#E5E5E5">commands the multi-device concerned</font>

471
00:21:16,970 --> 00:21:21,140
significantly as with web sessions

472
00:21:19,520 --> 00:21:23,450
you're more likely to<font color="#E5E5E5"> have many more</font><font color="#CCCCCC"> of</font>

473
00:21:21,140 --> 00:21:25,640
them<font color="#E5E5E5"> over</font><font color="#CCCCCC"> time you're much more likely</font>

474
00:21:23,450 --> 00:21:28,250
to<font color="#CCCCCC"> they'd be logging in incognito mode</font>

475
00:21:25,640 --> 00:21:30,620
in your browser in very frequently as

476
00:21:28,250 --> 00:21:32,149
opposed to logging in on your phone once

477
00:21:30,620 --> 00:21:35,479
and leaving it there until you get a new

478
00:21:32,149 --> 00:21:38,469
phone<font color="#CCCCCC"> so this means there'll be a lot</font>

479
00:21:35,480 --> 00:21:40,399
more many more keys on any device its

480
00:21:38,470 --> 00:21:42,110
risks potentially scaling issues

481
00:21:40,399 --> 00:21:45,949
particularly with clients<font color="#E5E5E5"> lies</font>

482
00:21:42,110 --> 00:21:48,049
computation and then<font color="#E5E5E5"> combines this</font>

483
00:21:45,950 --> 00:21:51,380
problem<font color="#CCCCCC"> of well how do we disenroll</font>

484
00:21:48,049 --> 00:21:53,240
these devices particularly given that

485
00:21:51,380 --> 00:21:54,950
with lots of<font color="#CCCCCC"> things single-use browsing</font>

486
00:21:53,240 --> 00:21:56,990
sessions there's a risk of forward

487
00:21:54,950 --> 00:21:58,909
secrecy that suddenly you're creating a

488
00:21:56,990 --> 00:22:00,890
lot<font color="#CCCCCC"> of states out there which</font><font color="#E5E5E5"> are key</font>

489
00:21:58,909 --> 00:22:06,559
needs to be capable<font color="#CCCCCC"> of decrypting all</font>

490
00:22:00,890 --> 00:22:10,700
future conversations until until that

491
00:22:06,559 --> 00:22:13,610
devices disenrolled and then finally<font color="#E5E5E5"> we</font>

492
00:22:10,700 --> 00:22:16,820
have to<font color="#E5E5E5"> overcome the general trust</font>

493
00:22:13,610 --> 00:22:19,959
issues with<font color="#E5E5E5"> JavaScript crypto being</font>

494
00:22:16,820 --> 00:22:22,340
provided by a remote provider and

495
00:22:19,960 --> 00:22:25,279
potentially changed every web request

496
00:22:22,340 --> 00:22:29,449
and how<font color="#CCCCCC"> can you trust this code is</font>

497
00:22:25,279 --> 00:22:32,600
actually correct and it's unsolved

498
00:22:29,450 --> 00:22:34,789
problems as<font color="#CCCCCC"> far as I'm aware this is</font>

499
00:22:32,600 --> 00:22:36,649
fundamentally different from our mobile

500
00:22:34,789 --> 00:22:38,779
apps where we're actually serving a

501
00:22:36,649 --> 00:22:41,059
<font color="#E5E5E5">binary through a third party and you've</font>

502
00:22:38,779 --> 00:22:42,470
got<font color="#E5E5E5"> a pretty good</font><font color="#CCCCCC"> idea</font><font color="#E5E5E5"> that you're</font>

503
00:22:41,059 --> 00:22:42,840
seeing<font color="#E5E5E5"> the same binary that everyone</font>

504
00:22:42,470 --> 00:22:47,150
else

505
00:22:42,840 --> 00:22:49,830
world is so it's a big difference there

506
00:22:47,150 --> 00:22:52,830
that's all I've<font color="#CCCCCC"> got thanks very</font><font color="#E5E5E5"> much for</font>

507
00:22:49,830 --> 00:22:55,310
listening and not sure if<font color="#E5E5E5"> I have time</font>

508
00:22:52,830 --> 00:22:55,310
for questions

509
00:23:00,350 --> 00:23:07,129
we can<font color="#E5E5E5"> take one of the questions is</font>

510
00:23:02,330 --> 00:23:10,250
great so the internet encryption is

511
00:23:07,130 --> 00:23:13,070
protecting against wire clicking it

512
00:23:10,250 --> 00:23:15,950
doesn't protect against civilians which

513
00:23:13,070 --> 00:23:19,039
is like who is talking to whom so if

514
00:23:15,950 --> 00:23:22,220
Facebook doesn't add a internet

515
00:23:19,039 --> 00:23:25,250
encryption right people then know<font color="#CCCCCC"> that</font>

516
00:23:22,220 --> 00:23:27,950
it's<font color="#CCCCCC"> not good to say to talk to</font>

517
00:23:25,250 --> 00:23:31,010
journalists over<font color="#E5E5E5"> Facebook so they will</font>

518
00:23:27,950 --> 00:23:34,100
self-censor and instead<font color="#CCCCCC"> will use signal</font>

519
00:23:31,010 --> 00:23:36,110
that doesn't collect metadata as we know

520
00:23:34,100 --> 00:23:39,860
from<font color="#E5E5E5"> the documents from</font><font color="#CCCCCC"> the court right</font>

521
00:23:36,110 --> 00:23:43,158
so maybe why grant you border<font color="#CCCCCC"> and aiding</font>

522
00:23:39,860 --> 00:23:49,090
a<font color="#E5E5E5"> end-to-end like I mean honestly it</font>

523
00:23:43,159 --> 00:23:51,950
will just people won't get in trouble so

524
00:23:49,090 --> 00:23:55,840
yes as a result protecting metadata

525
00:23:51,950 --> 00:23:59,600
wasn't really part of viable model it's

526
00:23:55,840 --> 00:24:01,399
very<font color="#E5E5E5"> difficult to achieve within in our</font>

527
00:23:59,600 --> 00:24:03,230
world and we get a lot of benefits from

528
00:24:01,400 --> 00:24:07,970
from it for<font color="#CCCCCC"> example being able to</font>

529
00:24:03,230 --> 00:24:11,330
perform better spam protection in

530
00:24:07,970 --> 00:24:12,650
<font color="#E5E5E5">general yes if you're if you're trying</font>

531
00:24:11,330 --> 00:24:16,520
<font color="#E5E5E5">to protect your metadata from your</font>

532
00:24:12,650 --> 00:24:18,679
provider then this perhaps may not be

533
00:24:16,520 --> 00:24:20,030
what you're trying to use what you need

534
00:24:18,679 --> 00:24:22,190
to use<font color="#E5E5E5"> but we wanted to provide</font>

535
00:24:20,030 --> 00:24:23,330
something which it at<font color="#E5E5E5"> least can protect</font>

536
00:24:22,190 --> 00:24:25,909
your content which<font color="#CCCCCC"> is what we were</font>

537
00:24:23,330 --> 00:24:28,908
really focused on and provide this to as

538
00:24:25,909 --> 00:24:30,590
many people as we can and so with this

539
00:24:28,909 --> 00:24:32,750
update we were able<font color="#E5E5E5"> to ship end-to-end</font>

540
00:24:30,590 --> 00:24:34,158
encryption as an option to a billion

541
00:24:32,750 --> 00:24:37,789
<font color="#E5E5E5">people without them having to do</font>

542
00:24:34,159 --> 00:24:39,590
anything which yes<font color="#E5E5E5"> doesn't protect our</font>

543
00:24:37,789 --> 00:24:45,530
metadata but does give them significant

544
00:24:39,590 --> 00:24:48,668
increase in messaging security I had a

545
00:24:45,530 --> 00:24:52,940
question about the web or the storage

546
00:24:48,669 --> 00:24:54,620
encryption it looked<font color="#E5E5E5"> like the key was to</font>

547
00:24:52,940 --> 00:24:59,059
encrypt the storage was provided by

548
00:24:54,620 --> 00:25:01,760
<font color="#E5E5E5">Facebook is that is that are you able to</font>

549
00:24:59,059 --> 00:25:03,980
<font color="#E5E5E5">be compelled</font><font color="#CCCCCC"> to decrypt the storage on</font>

550
00:25:01,760 --> 00:25:07,879
the device then or I guess<font color="#CCCCCC"> I'm not clear</font>

551
00:25:03,980 --> 00:25:09,770
on mon why why this choice<font color="#CCCCCC"> is made so</font>

552
00:25:07,880 --> 00:25:12,070
I'm probably<font color="#E5E5E5"> not the best person to</font>

553
00:25:09,770 --> 00:25:14,080
answer policy questions as I and

554
00:25:12,070 --> 00:25:19,510
I just largely<font color="#E5E5E5"> can't handle the</font>

555
00:25:14,080 --> 00:25:22,960
technical side of things so<font color="#CCCCCC"> if there</font>

556
00:25:19,510 --> 00:25:25,270
were a<font color="#E5E5E5"> physical device then like it</font>

557
00:25:22,960 --> 00:25:30,750
would be<font color="#E5E5E5"> possible for facebook to access</font>

558
00:25:25,270 --> 00:25:33,460
<font color="#CCCCCC">that storage key but in general</font><font color="#E5E5E5"> this is</font>

559
00:25:30,750 --> 00:25:37,300
this attack this is to prevent the

560
00:25:33,460 --> 00:25:38,890
attack where you have a device which you

561
00:25:37,300 --> 00:25:42,760
<font color="#E5E5E5">know someone else has been using but</font>

562
00:25:38,890 --> 00:25:45,520
they're logged as of now and you as

563
00:25:42,760 --> 00:25:47,620
someone without access to that storage

564
00:25:45,520 --> 00:25:51,730
<font color="#CCCCCC">case</font><font color="#E5E5E5"> I want to read</font><font color="#CCCCCC"> that those</font><font color="#E5E5E5"> messages</font>

565
00:25:47,620 --> 00:25:53,260
and so it's to protect I<font color="#CCCCCC"> guess</font><font color="#E5E5E5"> it's to</font>

566
00:25:51,730 --> 00:25:56,380
protect against other people accessing

567
00:25:53,260 --> 00:25:58,360
your physical device and to raise the

568
00:25:56,380 --> 00:25:59,830
bar I mean I get that I was just

569
00:25:58,360 --> 00:26:01,959
wondering if<font color="#E5E5E5"> there was a usability or</font>

570
00:25:59,830 --> 00:26:06,129
some other reason for that controlled

571
00:26:01,960 --> 00:26:08,440
wiki by Facebook and now it was it was

572
00:26:06,130 --> 00:26:12,100
just just to raise<font color="#E5E5E5"> the bar when when</font>

573
00:26:08,440 --> 00:26:13,690
switching devices I thank you for<font color="#E5E5E5"> this</font>

574
00:26:12,100 --> 00:26:16,240
presentation and thank you for rolling

575
00:26:13,690 --> 00:26:17,590
this out I really<font color="#CCCCCC"> doesn't solve all the</font>

576
00:26:16,240 --> 00:26:18,970
problems but I'm happy to see it being

577
00:26:17,590 --> 00:26:22,060
pushed into the real world at least<font color="#E5E5E5"> we</font>

578
00:26:18,970 --> 00:26:23,320
can raise<font color="#CCCCCC"> the bar and leave you with</font>

579
00:26:22,060 --> 00:26:25,690
some<font color="#E5E5E5"> data that you can that you</font><font color="#CCCCCC"> don't</font>

580
00:26:23,320 --> 00:26:27,429
have immediate access to if you want to

581
00:26:25,690 --> 00:26:29,200
try to solve this i<font color="#E5E5E5"> recommend thinking</font>

582
00:26:27,430 --> 00:26:30,550
about mixing the<font color="#CCCCCC"> users password into</font>

583
00:26:29,200 --> 00:26:32,530
this i'm assuming you don't store clear

584
00:26:30,550 --> 00:26:34,180
text of the<font color="#E5E5E5"> users password it connects</font>

585
00:26:32,530 --> 00:26:35,830
the<font color="#E5E5E5"> users password into the account key</font>

586
00:26:34,180 --> 00:26:37,420
then you can potentially protect this

587
00:26:35,830 --> 00:26:42,850
against both<font color="#CCCCCC"> your being able to recover</font>

588
00:26:37,420 --> 00:26:45,460
and everyone else and yes that that that

589
00:26:42,850 --> 00:26:46,810
could work aside from case to say

590
00:26:45,460 --> 00:26:50,440
account recovery<font color="#E5E5E5"> less than when I've</font>

591
00:26:46,810 --> 00:26:52,179
actually lost access to that password so

592
00:26:50,440 --> 00:26:54,490
right so<font color="#CCCCCC"> if you're doing this as an</font>

593
00:26:52,180 --> 00:26:56,170
optional opt-in thing you can say hey if

594
00:26:54,490 --> 00:26:58,420
you<font color="#E5E5E5"> want us to be unable</font><font color="#CCCCCC"> to have access</font>

595
00:26:56,170 --> 00:27:00,010
<font color="#CCCCCC">to this check this extra box during</font><font color="#E5E5E5"> you</font>

596
00:26:58,420 --> 00:27:03,700
<font color="#E5E5E5">opt-in this is just an option for you</font>

597
00:27:00,010 --> 00:27:07,210
thank you<font color="#E5E5E5"> thank you is it quick if they</font>

598
00:27:03,700 --> 00:27:09,760
were hot sure it's<font color="#E5E5E5"> just one last point</font>

599
00:27:07,210 --> 00:27:11,170
about making us work on the web I work

600
00:27:09,760 --> 00:27:13,750
on firefox I'm very keen<font color="#E5E5E5"> to have this</font>

601
00:27:11,170 --> 00:27:15,820
work on the web hello give any thoughts

602
00:27:13,750 --> 00:27:17,740
on things we could do to<font color="#E5E5E5"> make the web</font>

603
00:27:15,820 --> 00:27:19,460
more friendly to this stuff things we

604
00:27:17,740 --> 00:27:21,159
could add to the browser to

605
00:27:19,460 --> 00:27:23,750
make it more amenable to the sourcing

606
00:27:21,159 --> 00:27:25,220
that sounds like<font color="#E5E5E5"> probably a slightly</font>

607
00:27:23,750 --> 00:27:27,110
longer point when you have time for but

608
00:27:25,220 --> 00:27:30,409
should we talk<font color="#E5E5E5"> obviously exactly yep</font>

609
00:27:27,110 --> 00:27:32,270
great<font color="#E5E5E5"> I think we're a little rhyme so</font>

610
00:27:30,409 --> 00:27:35,559
<font color="#E5E5E5">John thank you very much this is the</font>

611
00:27:32,270 --> 00:27:35,559
great time thank you

