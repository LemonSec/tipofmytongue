1
00:00:01,069 --> 00:00:04,910
I don't have<font color="#E5E5E5"> to introduce myself</font>

2
00:00:02,929 --> 00:00:07,490
probably<font color="#CCCCCC"> I will</font><font color="#E5E5E5"> be the chair of the</font>

3
00:00:04,910 --> 00:00:13,910
<font color="#E5E5E5">strike for today and it's my pleasure to</font>

4
00:00:07,490 --> 00:00:18,680
announce<font color="#CCCCCC"> Shaba will be</font><font color="#E5E5E5"> talk</font><font color="#CCCCCC"> on getting</font>

5
00:00:13,910 --> 00:00:23,090
wood with<font color="#CCCCCC"> b9f saw reps from say</font><font color="#E5E5E5"> Apple</font>

6
00:00:18,680 --> 00:00:28,340
<font color="#CCCCCC">Walt</font><font color="#E5E5E5"> and this one came quite early in</font>

7
00:00:23,090 --> 00:00:31,520
<font color="#E5E5E5">the in the CFP</font><font color="#CCCCCC"> and the program committee</font>

8
00:00:28,340 --> 00:00:35,239
<font color="#E5E5E5">which consists of members of E and</font><font color="#CCCCCC"> W and</font>

9
00:00:31,520 --> 00:00:37,579
some external persons at times<font color="#E5E5E5"> pretty</font>

10
00:00:35,239 --> 00:00:40,099
<font color="#E5E5E5">much immediately jumped on it it had</font><font color="#CCCCCC"> -</font>

11
00:00:37,579 --> 00:00:42,440
we have a scale<font color="#E5E5E5"> from one to</font><font color="#CCCCCC"> five with</font>

12
00:00:40,100 --> 00:00:43,219
<font color="#E5E5E5">five being the best writing</font><font color="#CCCCCC"> got all</font><font color="#E5E5E5"> all</font>

13
00:00:42,440 --> 00:00:46,370
fives

14
00:00:43,219 --> 00:00:48,710
so we accepted<font color="#CCCCCC"> that talk</font><font color="#E5E5E5"> very early but</font>

15
00:00:46,370 --> 00:00:51,828
then it turned out there might have been

16
00:00:48,710 --> 00:00:53,989
factors which could have prevented the

17
00:00:51,829 --> 00:01:02,359
<font color="#E5E5E5">talk from happen so I'm very happy you</font>

18
00:00:53,989 --> 00:01:06,370
were here<font color="#E5E5E5"> java stage</font><font color="#CCCCCC"> is yours thank you</font>

19
00:01:02,359 --> 00:01:09,500
very<font color="#E5E5E5"> much</font><font color="#CCCCCC"> I'm</font><font color="#E5E5E5"> really</font><font color="#CCCCCC"> excited to be here</font>

20
00:01:06,370 --> 00:01:13,000
<font color="#E5E5E5">this is</font><font color="#CCCCCC"> my</font><font color="#E5E5E5"> first time being in</font><font color="#CCCCCC"> troopers</font>

21
00:01:09,500 --> 00:01:15,890
boat as a speaker and as an attendee<font color="#CCCCCC"> I</font>

22
00:01:13,000 --> 00:01:19,160
really love the conference and the city

23
00:01:15,890 --> 00:01:21,260
I'm here with my family<font color="#E5E5E5"> and we did some</font>

24
00:01:19,160 --> 00:01:24,580
sightseeing<font color="#E5E5E5"> in the past couple of days</font>

25
00:01:21,260 --> 00:01:28,220
and<font color="#CCCCCC"> it's a really nice</font><font color="#E5E5E5"> place as well so</font>

26
00:01:24,580 --> 00:01:31,580
my talk is<font color="#E5E5E5"> about</font><font color="#CCCCCC"> cutting roots with</font>

27
00:01:28,220 --> 00:01:34,670
benign App Store apps so basically it's

28
00:01:31,580 --> 00:01:40,100
about a<font color="#E5E5E5"> privilege escalation issue I</font>

29
00:01:34,670 --> 00:01:43,730
found in<font color="#CCCCCC"> Mac OS a couple of words about</font>

30
00:01:40,100 --> 00:01:47,089
myself<font color="#CCCCCC"> I'm currently working in a red</font>

31
00:01:43,730 --> 00:01:50,470
team<font color="#E5E5E5"> in our company before that I was</font>

32
00:01:47,090 --> 00:01:54,980
working<font color="#E5E5E5"> as a blue team</font><font color="#CCCCCC"> er for five</font><font color="#E5E5E5"> years</font>

33
00:01:50,470 --> 00:01:58,880
<font color="#CCCCCC">I maintain a kennel</font><font color="#E5E5E5"> exploitation Python</font>

34
00:01:54,980 --> 00:02:02,479
toolkit<font color="#CCCCCC"> it's on my github I have a wife</font>

35
00:01:58,880 --> 00:02:05,449
and two<font color="#E5E5E5"> small kids and they are with</font><font color="#CCCCCC"> me</font>

36
00:02:02,479 --> 00:02:10,280
<font color="#CCCCCC">here and I do have lots of hiking and</font>

37
00:02:05,450 --> 00:02:13,790
yoga<font color="#CCCCCC"> and this kind of stuff</font><font color="#E5E5E5"> so</font><font color="#CCCCCC"> to the</font>

38
00:02:10,280 --> 00:02:14,600
talk<font color="#E5E5E5"> this talk</font><font color="#CCCCCC"> is not</font><font color="#E5E5E5"> just about</font><font color="#CCCCCC"> the</font>

39
00:02:13,790 --> 00:02:18,650
actual

40
00:02:14,600 --> 00:02:20,840
just<font color="#E5E5E5"> collation issue on itself but</font>

41
00:02:18,650 --> 00:02:23,480
<font color="#E5E5E5">basically my goal was</font><font color="#CCCCCC"> to show the entire</font>

42
00:02:20,840 --> 00:02:27,800
<font color="#E5E5E5">process how did I</font><font color="#CCCCCC"> vent</font><font color="#E5E5E5"> from finding the</font>

43
00:02:23,480 --> 00:02:30,369
bug<font color="#CCCCCC"> talk</font><font color="#E5E5E5"> about my mistakes my failures</font>

44
00:02:27,800 --> 00:02:34,010
what didn't<font color="#E5E5E5"> work out what did work out</font>

45
00:02:30,370 --> 00:02:37,960
<font color="#E5E5E5">where did I give up actually during the</font>

46
00:02:34,010 --> 00:02:41,840
<font color="#E5E5E5">process and and kind of show the entire</font>

47
00:02:37,960 --> 00:02:45,620
stuff because<font color="#E5E5E5"> originally my goal goal</font>

48
00:02:41,840 --> 00:02:48,470
wasn't to find<font color="#E5E5E5"> previous collation issues</font>

49
00:02:45,620 --> 00:02:51,040
in<font color="#CCCCCC"> mac OS I just started</font><font color="#E5E5E5"> out by</font><font color="#CCCCCC"> looking</font>

50
00:02:48,470 --> 00:02:54,410
for<font color="#CCCCCC"> Dilip hijacking issues in a</font>

51
00:02:51,040 --> 00:02:57,799
particular<font color="#E5E5E5"> application</font><font color="#CCCCCC"> so as for</font><font color="#E5E5E5"> the</font>

52
00:02:54,410 --> 00:03:01,280
<font color="#E5E5E5">agenda</font><font color="#CCCCCC"> I will do a</font><font color="#E5E5E5"> quick recap on Dilip</font>

53
00:02:57,800 --> 00:03:03,830
hijacking<font color="#E5E5E5"> on Mac OS then I will talk</font>

54
00:03:01,280 --> 00:03:08,660
about<font color="#E5E5E5"> how to subvert the installation</font>

55
00:03:03,830 --> 00:03:12,170
process in Mac OS then how to develop an

56
00:03:08,660 --> 00:03:15,530
app to<font color="#E5E5E5"> the App Store</font><font color="#CCCCCC"> that's</font><font color="#E5E5E5"> kind of</font>

57
00:03:12,170 --> 00:03:17,739
quite interesting<font color="#CCCCCC"> then</font><font color="#E5E5E5"> I will talk</font><font color="#CCCCCC"> about</font>

58
00:03:15,530 --> 00:03:21,280
the privilege<font color="#E5E5E5"> escalation on</font><font color="#CCCCCC"> High Sierra</font>

59
00:03:17,740 --> 00:03:24,970
<font color="#CCCCCC">then I will talk about how to modify</font>

60
00:03:21,280 --> 00:03:28,000
installers package files<font color="#E5E5E5"> how we can</font>

61
00:03:24,970 --> 00:03:30,430
capture and redistribute<font color="#CCCCCC"> with paid apps</font>

62
00:03:28,000 --> 00:03:33,470
from the App Store<font color="#CCCCCC"> and</font><font color="#E5E5E5"> some</font>

63
00:03:30,430 --> 00:03:36,950
recommendation and some ideas<font color="#CCCCCC"> for future</font>

64
00:03:33,470 --> 00:03:40,550
<font color="#E5E5E5">research which I didn't have time to to</font>

65
00:03:36,950 --> 00:03:42,339
deal<font color="#E5E5E5"> with so in the beginning</font><font color="#CCCCCC"> as I said</font>

66
00:03:40,550 --> 00:03:45,380
I<font color="#E5E5E5"> started with</font><font color="#CCCCCC"> looking for</font><font color="#E5E5E5"> Dilip</font>

67
00:03:42,340 --> 00:03:49,030
hijacking issues<font color="#E5E5E5"> in an extra Navy</font>

68
00:03:45,380 --> 00:03:53,540
product<font color="#E5E5E5"> I actually didn't found any but</font>

69
00:03:49,030 --> 00:03:57,050
<font color="#E5E5E5">that started the whole</font><font color="#CCCCCC"> process so Dilip</font>

70
00:03:53,540 --> 00:04:01,340
hijacking<font color="#CCCCCC"> what</font><font color="#E5E5E5"> that is basically</font><font color="#CCCCCC"> like</font>

71
00:03:57,050 --> 00:04:04,630
DLL<font color="#E5E5E5"> hijacking on</font><font color="#CCCCCC"> Windows Patrick model</font>

72
00:04:01,340 --> 00:04:08,390
gave<font color="#E5E5E5"> a talk about</font><font color="#CCCCCC"> it</font><font color="#E5E5E5"> on blackhat a</font>

73
00:04:04,630 --> 00:04:10,730
couple of years ago and so I<font color="#E5E5E5"> will just</font>

74
00:04:08,390 --> 00:04:15,799
<font color="#CCCCCC">to a brief</font><font color="#E5E5E5"> summary</font><font color="#CCCCCC"> of that</font><font color="#E5E5E5"> so all the</font>

75
00:04:10,730 --> 00:04:18,620
credits for goes<font color="#E5E5E5"> to him for the his work</font>

76
00:04:15,800 --> 00:04:21,020
<font color="#E5E5E5">so there are two main</font><font color="#CCCCCC"> types of dilip</font>

77
00:04:18,620 --> 00:04:24,500
hijacking on<font color="#CCCCCC"> Mac</font><font color="#E5E5E5"> OS one of them is Vic</font>

78
00:04:21,019 --> 00:04:27,530
loading of<font color="#E5E5E5"> the</font><font color="#CCCCCC"> lips</font><font color="#E5E5E5"> basically there is</font>

79
00:04:24,500 --> 00:04:30,590
<font color="#E5E5E5">this LC load</font><font color="#CCCCCC"> we Dilip</font>

80
00:04:27,530 --> 00:04:34,369
function<font color="#E5E5E5"> basically</font><font color="#CCCCCC"> it says that try to</font>

81
00:04:30,590 --> 00:04:36,320
load<font color="#E5E5E5"> the</font><font color="#CCCCCC"> dilip to the application and</font><font color="#E5E5E5"> if</font>

82
00:04:34,370 --> 00:04:39,590
it's<font color="#E5E5E5"> not</font><font color="#CCCCCC"> there then it's</font><font color="#E5E5E5"> not important</font>

83
00:04:36,320 --> 00:04:43,250
<font color="#CCCCCC">the application</font><font color="#E5E5E5"> can still run</font><font color="#CCCCCC"> so</font>

84
00:04:39,590 --> 00:04:46,280
basically the<font color="#CCCCCC"> idea</font><font color="#E5E5E5"> is that you look for</font>

85
00:04:43,250 --> 00:04:48,950
application that uses this function try

86
00:04:46,280 --> 00:04:51,440
to do the<font color="#CCCCCC"> dilip</font><font color="#E5E5E5"> that is actually not</font>

87
00:04:48,950 --> 00:04:53,060
there and to exploit<font color="#E5E5E5"> it is you actually</font>

88
00:04:51,440 --> 00:04:58,010
<font color="#E5E5E5">put</font><font color="#CCCCCC"> your own</font>

89
00:04:53,060 --> 00:05:01,180
<font color="#CCCCCC">Dileep on that place and load it the</font>

90
00:04:58,010 --> 00:05:06,560
<font color="#CCCCCC">other one is the</font><font color="#E5E5E5"> round part dependent</font>

91
00:05:01,180 --> 00:05:09,320
<font color="#CCCCCC">dilip basically there is a function on</font>

92
00:05:06,560 --> 00:05:11,000
the loader to<font color="#CCCCCC"> load these airport</font>

93
00:05:09,320 --> 00:05:15,080
dependent<font color="#CCCCCC"> the lips</font>

94
00:05:11,000 --> 00:05:19,430
these are<font color="#CCCCCC"> believes that their location</font>

95
00:05:15,080 --> 00:05:22,909
is not known at compile time<font color="#E5E5E5"> so there is</font>

96
00:05:19,430 --> 00:05:26,150
a an airport variable that<font color="#E5E5E5"> the loader</font>

97
00:05:22,910 --> 00:05:30,470
can<font color="#E5E5E5"> go and see and</font><font color="#CCCCCC"> try to find that</font>

98
00:05:26,150 --> 00:05:33,950
deliver and it will do a sequential

99
00:05:30,470 --> 00:05:36,500
<font color="#E5E5E5">search and the first</font><font color="#CCCCCC"> defined it will be</font>

100
00:05:33,950 --> 00:05:41,419
<font color="#CCCCCC">loaded</font><font color="#E5E5E5"> so it's basically a</font><font color="#CCCCCC"> little bit</font>

101
00:05:36,500 --> 00:05:44,210
like search order hijacking on<font color="#CCCCCC"> windows</font>

102
00:05:41,419 --> 00:05:49,280
<font color="#E5E5E5">so basically what you</font><font color="#CCCCCC"> can do monitor or</font>

103
00:05:44,210 --> 00:05:52,549
look<font color="#CCCCCC"> for those air parts variable inside</font>

104
00:05:49,280 --> 00:05:55,760
<font color="#E5E5E5">an</font><font color="#CCCCCC"> application</font><font color="#E5E5E5"> and if you find the part</font>

105
00:05:52,550 --> 00:05:57,860
that<font color="#CCCCCC"> doesn't exist but</font><font color="#E5E5E5"> it's earlier in</font>

106
00:05:55,760 --> 00:06:04,729
the sequence<font color="#CCCCCC"> you put your delete there</font>

107
00:05:57,860 --> 00:06:07,310
and and that's it<font color="#E5E5E5"> it will be loaded so</font>

108
00:06:04,729 --> 00:06:10,969
how do you find winner applications

109
00:06:07,310 --> 00:06:13,940
well Patrick made a tool it's<font color="#CCCCCC"> called the</font>

110
00:06:10,970 --> 00:06:16,370
<font color="#CCCCCC">dilip</font><font color="#E5E5E5"> hijack scanner</font><font color="#CCCCCC"> at DHS you can</font>

111
00:06:13,940 --> 00:06:17,660
download it run it and it will<font color="#E5E5E5"> show you</font>

112
00:06:16,370 --> 00:06:22,640
<font color="#CCCCCC">all the applications</font><font color="#E5E5E5"> that are vulnerable</font>

113
00:06:17,660 --> 00:06:24,140
<font color="#E5E5E5">that's super</font><font color="#CCCCCC"> easy and basically for</font>

114
00:06:22,640 --> 00:06:28,219
exploitation<font color="#E5E5E5"> itself</font>

115
00:06:24,140 --> 00:06:32,330
<font color="#E5E5E5">he wrote a Python tool that can</font>

116
00:06:28,220 --> 00:06:35,690
construct<font color="#E5E5E5"> or fix your</font><font color="#CCCCCC"> dilip to work with</font>

117
00:06:32,330 --> 00:06:39,800
hijacking<font color="#E5E5E5"> so this is something very very</font>

118
00:06:35,690 --> 00:06:41,110
easy for for the<font color="#E5E5E5"> air path dependent</font>

119
00:06:39,800 --> 00:06:45,050
<font color="#E5E5E5">ellipse</font><font color="#CCCCCC"> you can</font>

120
00:06:41,110 --> 00:06:48,169
start<font color="#CCCCCC"> Bosch or terminal and</font><font color="#E5E5E5"> you can set</font>

121
00:06:45,050 --> 00:06:53,270
this<font color="#E5E5E5"> delete print airports</font><font color="#CCCCCC"> worry about</font>

122
00:06:48,169 --> 00:06:55,188
<font color="#CCCCCC">one</font><font color="#E5E5E5"> to</font><font color="#CCCCCC"> one start your application</font><font color="#E5E5E5"> and it</font>

123
00:06:53,270 --> 00:06:58,639
will<font color="#E5E5E5"> print you if</font><font color="#CCCCCC"> it's failed</font><font color="#E5E5E5"> to</font><font color="#CCCCCC"> load</font>

124
00:06:55,189 --> 00:07:01,580
<font color="#E5E5E5">that particular believe or not and if</font>

125
00:06:58,639 --> 00:07:03,439
there is a failure of loading and then

126
00:07:01,580 --> 00:07:05,378
you can it basically<font color="#E5E5E5"> means</font><font color="#CCCCCC"> that</font><font color="#E5E5E5"> there is</font>

127
00:07:03,439 --> 00:07:08,959
<font color="#CCCCCC">a vulnerability</font><font color="#E5E5E5"> in that</font><font color="#CCCCCC"> application and</font>

128
00:07:05,379 --> 00:07:14,779
you can<font color="#CCCCCC"> put your deliv there so that's</font>

129
00:07:08,959 --> 00:07:19,339
kind of the manual process<font color="#CCCCCC"> so how do we</font>

130
00:07:14,779 --> 00:07:20,869
exploit it<font color="#E5E5E5"> you create your own code you</font>

131
00:07:19,339 --> 00:07:22,819
can just<font color="#CCCCCC"> create a C code with a</font>

132
00:07:20,869 --> 00:07:24,019
constructor<font color="#CCCCCC"> and put there whatever</font><font color="#E5E5E5"> you</font>

133
00:07:22,819 --> 00:07:30,349
want

134
00:07:24,019 --> 00:07:32,719
basically you compile<font color="#CCCCCC"> it</font><font color="#E5E5E5"> and fix it the</font>

135
00:07:30,349 --> 00:07:35,688
<font color="#CCCCCC">dilip has to export the same functions</font>

136
00:07:32,719 --> 00:07:37,490
as<font color="#E5E5E5"> the original one additionally you</font>

137
00:07:35,689 --> 00:07:40,639
don't want the application<font color="#E5E5E5"> to</font><font color="#CCCCCC"> be broken</font>

138
00:07:37,490 --> 00:07:43,309
<font color="#E5E5E5">so you want your malicious delivered</font>

139
00:07:40,639 --> 00:07:46,189
back to<font color="#E5E5E5"> the original one and it has to</font>

140
00:07:43,309 --> 00:07:49,189
<font color="#E5E5E5">be the same</font><font color="#CCCCCC"> version</font><font color="#E5E5E5"> of</font><font color="#CCCCCC"> dilip than the</font>

141
00:07:46,189 --> 00:07:52,579
original one<font color="#CCCCCC"> so these have to be fixed</font>

142
00:07:49,189 --> 00:07:56,979
<font color="#CCCCCC">again Patrick made a Python script</font><font color="#E5E5E5"> to do</font>

143
00:07:52,579 --> 00:07:56,979
all of this work<font color="#E5E5E5"> so it's pretty easy and</font>

144
00:07:57,309 --> 00:08:12,469
so just<font color="#E5E5E5"> a quick demo how this work so if</font>

145
00:08:04,909 --> 00:08:17,300
<font color="#CCCCCC">I okay this is seen properly</font><font color="#E5E5E5"> so I</font><font color="#CCCCCC"> set</font>

146
00:08:12,469 --> 00:08:20,029
this variable<font color="#CCCCCC"> to</font><font color="#E5E5E5"> one and there is dark</font>

147
00:08:17,300 --> 00:08:24,229
quite a few<font color="#CCCCCC"> dilip vulnerabilities in in</font>

148
00:08:20,029 --> 00:08:30,379
<font color="#E5E5E5">many application one of them is</font><font color="#CCCCCC"> xcode is</font>

149
00:08:24,229 --> 00:08:32,958
full of it so in xcode there is the LED

150
00:08:30,379 --> 00:08:39,560
<font color="#CCCCCC">b we started and we can see that air</font>

151
00:08:32,958 --> 00:08:45,170
part<font color="#E5E5E5"> really expanding this library</font><font color="#CCCCCC"> so we</font>

152
00:08:39,559 --> 00:08:52,329
<font color="#CCCCCC">can just exceed already be I have</font>

153
00:08:45,170 --> 00:08:52,329
already<font color="#E5E5E5"> see if I prepared so I can just</font>

154
00:08:52,490 --> 00:09:09,649
compile it then using Patrick's<font color="#CCCCCC"> tool to</font>

155
00:09:03,070 --> 00:09:16,550
fix the<font color="#CCCCCC"> dilip so now we have this</font>

156
00:09:09,649 --> 00:09:23,029
malicious<font color="#CCCCCC"> led be we we need to create a</font>

157
00:09:16,550 --> 00:09:25,910
folder where this<font color="#CCCCCC"> oh</font><font color="#E5E5E5"> I already</font><font color="#CCCCCC"> created</font>

158
00:09:23,029 --> 00:09:32,410
yesterday<font color="#CCCCCC"> the folder and basically</font><font color="#E5E5E5"> then</font>

159
00:09:25,910 --> 00:09:38,060
copy the<font color="#CCCCCC"> led B file into that folder and</font>

160
00:09:32,410 --> 00:09:40,370
<font color="#E5E5E5">then we can run</font><font color="#CCCCCC"> ll DB again and it says</font>

161
00:09:38,060 --> 00:09:44,300
<font color="#E5E5E5">hello</font><font color="#CCCCCC"> world and the C file I compiled</font>

162
00:09:40,370 --> 00:09:53,720
was basically<font color="#CCCCCC"> just printf hello world so</font>

163
00:09:44,300 --> 00:09:55,930
easy as that<font color="#CCCCCC"> so again this is where I</font>

164
00:09:53,720 --> 00:09:58,220
started and then<font color="#CCCCCC"> I run into a problem</font>

165
00:09:55,930 --> 00:10:00,439
<font color="#E5E5E5">actually</font><font color="#CCCCCC"> before that so there are other</font>

166
00:09:58,220 --> 00:10:03,830
<font color="#E5E5E5">cases if you run these ths tool on</font><font color="#CCCCCC"> your</font>

167
00:10:00,440 --> 00:10:05,779
Mac you<font color="#CCCCCC"> will find plenty</font><font color="#E5E5E5"> of those for</font>

168
00:10:03,830 --> 00:10:07,730
example<font color="#CCCCCC"> Microsoft Office has a have a</font>

169
00:10:05,779 --> 00:10:10,370
couple of them I sent it<font color="#E5E5E5"> to Microsoft</font>

170
00:10:07,730 --> 00:10:13,490
<font color="#CCCCCC">and</font><font color="#E5E5E5"> they said oh you actually need</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> be</font>

171
00:10:10,370 --> 00:10:16,370
root to utilize<font color="#E5E5E5"> this vulnerability so</font>

172
00:10:13,490 --> 00:10:18,380
this is not<font color="#CCCCCC"> a</font><font color="#E5E5E5"> security bug I understand</font>

173
00:10:16,370 --> 00:10:22,040
why they say it but I don't<font color="#E5E5E5"> necessarily</font>

174
00:10:18,380 --> 00:10:25,580
<font color="#E5E5E5">agree</font><font color="#CCCCCC"> over had an</font><font color="#E5E5E5"> issue they said they</font>

175
00:10:22,040 --> 00:10:29,599
<font color="#E5E5E5">will fix it</font><font color="#CCCCCC"> but</font><font color="#E5E5E5"> going and there are</font>

176
00:10:25,580 --> 00:10:31,570
others like Xcode but there is this

177
00:10:29,600 --> 00:10:34,550
<font color="#CCCCCC">privilege problem that you will require</font>

178
00:10:31,570 --> 00:10:36,529
to<font color="#CCCCCC"> have root to actually utilize this</font>

179
00:10:34,550 --> 00:10:42,310
vulnerability<font color="#CCCCCC"> and if you check the</font>

180
00:10:36,529 --> 00:10:45,050
<font color="#E5E5E5">application folder in OS X or or Mac OS</font>

181
00:10:42,310 --> 00:10:48,380
most of the applications are owned by

182
00:10:45,050 --> 00:10:50,569
root so in order<font color="#E5E5E5"> to place</font><font color="#CCCCCC"> Dileep there</font>

183
00:10:48,380 --> 00:10:54,020
you have to be<font color="#CCCCCC"> root and if you are</font>

184
00:10:50,570 --> 00:10:57,589
already root then<font color="#E5E5E5"> okay you can use the</font>

185
00:10:54,020 --> 00:11:01,790
<font color="#E5E5E5">Lib hijacking but is it really that a</font>

186
00:10:57,589 --> 00:11:03,950
big<font color="#E5E5E5"> deal or not so it kind of annoyed me</font>

187
00:11:01,790 --> 00:11:05,870
and there<font color="#E5E5E5"> are a couple</font><font color="#CCCCCC"> of application</font>

188
00:11:03,950 --> 00:11:08,360
which are not owned by

189
00:11:05,870 --> 00:11:12,529
<font color="#CCCCCC">rude they are owned by</font><font color="#E5E5E5"> the actual user</font>

190
00:11:08,360 --> 00:11:15,260
<font color="#E5E5E5">and we are talking</font><font color="#CCCCCC"> about</font><font color="#E5E5E5"> an admin user</font>

191
00:11:12,529 --> 00:11:20,140
here not<font color="#E5E5E5"> I think</font><font color="#CCCCCC"> most of the people</font>

192
00:11:15,260 --> 00:11:23,450
regular usually<font color="#E5E5E5"> are admin on their Mac</font>

193
00:11:20,140 --> 00:11:27,680
<font color="#E5E5E5">and I was wondering okay how</font><font color="#CCCCCC"> do I end up</font>

194
00:11:23,450 --> 00:11:30,080
<font color="#CCCCCC">there then what are the cases</font><font color="#E5E5E5"> when the</font>

195
00:11:27,680 --> 00:11:32,180
application is owned<font color="#E5E5E5"> by root and what</font>

196
00:11:30,080 --> 00:11:35,570
are the cases<font color="#E5E5E5"> and the application is</font>

197
00:11:32,180 --> 00:11:36,920
<font color="#E5E5E5">owned by</font><font color="#CCCCCC"> the actual user so the first</font>

198
00:11:35,570 --> 00:11:39,020
case if there is an app store

199
00:11:36,920 --> 00:11:41,360
<font color="#E5E5E5">application</font><font color="#CCCCCC"> and it's got installed on</font>

200
00:11:39,020 --> 00:11:43,730
your system<font color="#E5E5E5"> it will be owned</font><font color="#CCCCCC"> by root</font>

201
00:11:41,360 --> 00:11:48,470
because the<font color="#CCCCCC"> installer is running a suit</font>

202
00:11:43,730 --> 00:11:52,070
and so the entire directory structure

203
00:11:48,470 --> 00:11:54,260
will be<font color="#E5E5E5"> created as</font><font color="#CCCCCC"> the root the second</font>

204
00:11:52,070 --> 00:11:56,839
case when you download the package or

205
00:11:54,260 --> 00:11:59,180
you have a package like like Microsoft

206
00:11:56,839 --> 00:12:02,660
Office<font color="#E5E5E5"> and you</font><font color="#CCCCCC"> install it or VMware</font>

207
00:11:59,180 --> 00:12:05,959
<font color="#E5E5E5">fusion or or you name it usually you</font>

208
00:12:02,660 --> 00:12:07,760
require to enter your credentials to

209
00:12:05,960 --> 00:12:11,570
elevate privileges so it can be

210
00:12:07,760 --> 00:12:14,050
installed<font color="#CCCCCC"> as those we run as root again</font>

211
00:12:11,570 --> 00:12:19,520
the application<font color="#CCCCCC"> will be</font><font color="#E5E5E5"> owned</font><font color="#CCCCCC"> by root</font>

212
00:12:14,050 --> 00:12:22,390
and the last<font color="#E5E5E5"> item is when the when you</font>

213
00:12:19,520 --> 00:12:26,390
basically<font color="#CCCCCC"> drag and drop an application</font>

214
00:12:22,390 --> 00:12:30,350
from a dmg file or somewhere then it's

215
00:12:26,390 --> 00:12:36,830
really<font color="#E5E5E5"> copied by your ID so you will own</font>

216
00:12:30,350 --> 00:12:39,550
that application<font color="#CCCCCC"> so it annoyed me that</font>

217
00:12:36,830 --> 00:12:43,130
<font color="#E5E5E5">you have to be rude</font><font color="#CCCCCC"> to place their lips</font>

218
00:12:39,550 --> 00:12:45,260
into<font color="#CCCCCC"> this</font><font color="#E5E5E5"> application and I started to</font>

219
00:12:43,130 --> 00:12:48,709
wonder can can i bypass it can<font color="#CCCCCC"> I place</font>

220
00:12:45,260 --> 00:12:51,620
<font color="#CCCCCC">their</font><font color="#E5E5E5"> Dileep files without being rude</font>

221
00:12:48,709 --> 00:12:55,779
and the answer is yes and<font color="#E5E5E5"> valid if it</font>

222
00:12:51,620 --> 00:12:55,779
<font color="#E5E5E5">always</font><font color="#CCCCCC"> no I wouldn't</font><font color="#E5E5E5"> be here today</font>

223
00:12:56,410 --> 00:13:01,120
so before I start<font color="#CCCCCC"> the details couple of</font>

224
00:12:59,150 --> 00:13:06,260
tools you can use for<font color="#E5E5E5"> monitoring</font>

225
00:13:01,120 --> 00:13:09,589
processes and<font color="#E5E5E5"> find possible issues</font><font color="#CCCCCC"> one</font>

226
00:13:06,260 --> 00:13:11,480
of them is<font color="#E5E5E5"> fire I'm</font><font color="#CCCCCC"> unit</font><font color="#E5E5E5"> or app it's a</font>

227
00:13:09,589 --> 00:13:17,930
free<font color="#CCCCCC"> tool you can download it from their</font>

228
00:13:11,480 --> 00:13:19,459
website<font color="#CCCCCC"> it's it's kind of the this</font>

229
00:13:17,930 --> 00:13:23,059
antennas<font color="#E5E5E5"> prop one</font>

230
00:13:19,459 --> 00:13:26,149
or<font color="#CCCCCC"> Micah's not exactly but with similar</font>

231
00:13:23,059 --> 00:13:30,860
<font color="#E5E5E5">you will have process</font><font color="#CCCCCC"> Network and file</font>

232
00:13:26,149 --> 00:13:36,170
events<font color="#CCCCCC"> it's pretty good you can</font><font color="#E5E5E5"> save the</font>

233
00:13:30,860 --> 00:13:40,100
results you<font color="#E5E5E5"> can open them it it was</font><font color="#CCCCCC"> okay</font>

234
00:13:36,170 --> 00:13:44,569
I had a few items that I didn't actually

235
00:13:40,100 --> 00:13:46,249
found in<font color="#E5E5E5"> the event list</font><font color="#CCCCCC"> like</font><font color="#E5E5E5"> when you</font>

236
00:13:44,569 --> 00:13:49,040
install an application from the<font color="#E5E5E5"> App</font>

237
00:13:46,249 --> 00:13:51,589
<font color="#E5E5E5">Store</font><font color="#CCCCCC"> I didn't found</font><font color="#E5E5E5"> the events that</font>

238
00:13:49,040 --> 00:13:54,589
when the actual<font color="#E5E5E5"> app is written to the</font>

239
00:13:51,589 --> 00:13:57,709
<font color="#E5E5E5">slash application folder and maybe it</font>

240
00:13:54,589 --> 00:14:00,619
was<font color="#CCCCCC"> just me</font><font color="#E5E5E5"> not finding it or maybe it</font>

241
00:13:57,709 --> 00:14:02,258
wasn't there at all<font color="#E5E5E5"> but yeah I</font><font color="#CCCCCC"> don't</font>

242
00:14:00,619 --> 00:14:05,600
know but<font color="#CCCCCC"> it</font><font color="#E5E5E5"> still it's still a great</font>

243
00:14:02,259 --> 00:14:09,100
tool to use<font color="#CCCCCC"> next one</font>

244
00:14:05,600 --> 00:14:12,290
<font color="#CCCCCC">objective-c again</font><font color="#E5E5E5"> Patrick father he does</font>

245
00:14:09,100 --> 00:14:15,379
quite much of tools he did an<font color="#E5E5E5"> open</font>

246
00:14:12,290 --> 00:14:20,300
<font color="#CCCCCC">source process monitoring library</font><font color="#E5E5E5"> for</font>

247
00:14:15,379 --> 00:14:22,309
<font color="#E5E5E5">Mac OS that's what proc info and he made</font>

248
00:14:20,300 --> 00:14:26,719
an<font color="#E5E5E5"> example</font><font color="#CCCCCC"> too for that that's</font><font color="#E5E5E5"> talking</font>

249
00:14:22,309 --> 00:14:30,549
for example<font color="#CCCCCC"> and it will log you process</font>

250
00:14:26,720 --> 00:14:34,519
IDs<font color="#CCCCCC"> arguments signature info user</font>

251
00:14:30,549 --> 00:14:37,459
information<font color="#E5E5E5"> file attributes so basically</font>

252
00:14:34,519 --> 00:14:39,980
you can see all the details on the<font color="#E5E5E5"> crate</font>

253
00:14:37,459 --> 00:14:44,059
on the screen<font color="#E5E5E5"> so this will log every</font>

254
00:14:39,980 --> 00:14:47,379
process or start and exit event and<font color="#E5E5E5"> it's</font>

255
00:14:44,059 --> 00:14:50,509
really<font color="#E5E5E5"> good</font><font color="#CCCCCC"> to monitor process execution</font>

256
00:14:47,379 --> 00:14:54,649
<font color="#E5E5E5">it will list parents and and everything</font>

257
00:14:50,509 --> 00:14:58,749
<font color="#E5E5E5">and then but that's only for process</font>

258
00:14:54,649 --> 00:15:03,139
execution<font color="#E5E5E5"> FS usage is file system event</font>

259
00:14:58,749 --> 00:15:07,549
that's basically file events this is

260
00:15:03,139 --> 00:15:10,790
extremely detailed<font color="#CCCCCC"> it's much more detail</font>

261
00:15:07,549 --> 00:15:14,689
<font color="#E5E5E5">than I would</font><font color="#CCCCCC"> like</font><font color="#E5E5E5"> it</font><font color="#CCCCCC"> to be so</font><font color="#E5E5E5"> you do you</font>

262
00:15:10,790 --> 00:15:17,149
need<font color="#E5E5E5"> to do</font><font color="#CCCCCC"> plenty of</font><font color="#E5E5E5"> filtering when you</font>

263
00:15:14,689 --> 00:15:21,410
when you actually do this FSU<font color="#CCCCCC"> G's</font>

264
00:15:17,149 --> 00:15:25,279
<font color="#E5E5E5">because just this just gives a whole lot</font>

265
00:15:21,410 --> 00:15:27,620
<font color="#CCCCCC">of information</font><font color="#E5E5E5"> if you don't filter it</font>

266
00:15:25,279 --> 00:15:30,660
there is no way you you scroll it

267
00:15:27,620 --> 00:15:36,750
through war or coins you<font color="#E5E5E5"> me Tina</font>

268
00:15:30,660 --> 00:15:39,780
you know in a good<font color="#E5E5E5"> way</font><font color="#CCCCCC"> so we have a</font>

269
00:15:36,750 --> 00:15:42,860
couple<font color="#CCCCCC"> of</font><font color="#E5E5E5"> cases</font><font color="#CCCCCC"> so the first one is</font><font color="#E5E5E5"> how</font>

270
00:15:39,780 --> 00:15:47,760
<font color="#E5E5E5">to bypass root permissions in case of</font>

271
00:15:42,860 --> 00:15:49,740
Apple Store application<font color="#CCCCCC"> how we can</font>

272
00:15:47,760 --> 00:15:55,319
<font color="#CCCCCC">subvert the</font><font color="#E5E5E5"> the actual installation</font>

273
00:15:49,740 --> 00:15:57,690
process<font color="#CCCCCC"> so how</font><font color="#E5E5E5"> you can drop any file</font><font color="#CCCCCC"> in</font>

274
00:15:55,320 --> 00:16:03,210
the application folder<font color="#E5E5E5"> without being</font>

275
00:15:57,690 --> 00:16:07,500
rude<font color="#CCCCCC"> so first check the folder structure</font>

276
00:16:03,210 --> 00:16:10,260
<font color="#E5E5E5">the actual application so a dot app so</font>

277
00:16:07,500 --> 00:16:12,570
an<font color="#CCCCCC"> application which ends</font><font color="#E5E5E5"> for dot app is</font>

278
00:16:10,260 --> 00:16:14,939
not a file it's<font color="#CCCCCC"> its actual folder</font><font color="#E5E5E5"> so</font>

279
00:16:12,570 --> 00:16:20,750
it's it's<font color="#E5E5E5"> like a sort of package but</font>

280
00:16:14,940 --> 00:16:23,910
it's a folder containing<font color="#CCCCCC"> resources</font><font color="#E5E5E5"> like</font>

281
00:16:20,750 --> 00:16:25,890
think of an installation<font color="#CCCCCC"> directly on on</font>

282
00:16:23,910 --> 00:16:30,689
<font color="#CCCCCC">Windows so it will contain all the</font>

283
00:16:25,890 --> 00:16:34,319
executables<font color="#CCCCCC"> resources Delibes</font><font color="#E5E5E5"> and the</font>

284
00:16:30,690 --> 00:16:38,310
<font color="#CCCCCC">plist files and most of the things that</font>

285
00:16:34,320 --> 00:16:41,820
the application is require so just

286
00:16:38,310 --> 00:16:46,140
explore it<font color="#E5E5E5"> and record</font><font color="#CCCCCC"> whether</font><font color="#E5E5E5"> you want</font>

287
00:16:41,820 --> 00:16:50,820
<font color="#E5E5E5">to drop</font><font color="#CCCCCC"> your actual file then delete so</font>

288
00:16:46,140 --> 00:16:53,819
if you go to<font color="#CCCCCC"> launchpad</font><font color="#E5E5E5"> you can delete an</font>

289
00:16:50,820 --> 00:16:56,880
app store<font color="#E5E5E5"> app as a regular user</font><font color="#CCCCCC"> you</font>

290
00:16:53,820 --> 00:17:00,750
<font color="#E5E5E5">don't need to elevate your privileges</font>

291
00:16:56,880 --> 00:17:03,480
you<font color="#E5E5E5"> you just hold it down sales delete</font>

292
00:17:00,750 --> 00:17:05,790
and it will<font color="#CCCCCC"> be deleted again</font><font color="#E5E5E5"> even if the</font>

293
00:17:03,480 --> 00:17:09,720
application<font color="#CCCCCC"> if the</font><font color="#E5E5E5"> application is owned</font>

294
00:17:05,790 --> 00:17:13,319
<font color="#CCCCCC">by root</font><font color="#E5E5E5"> you can still delete an app</font>

295
00:17:09,720 --> 00:17:18,360
store app that way so again<font color="#E5E5E5"> you</font><font color="#CCCCCC"> are</font>

296
00:17:13,319 --> 00:17:20,970
still<font color="#E5E5E5"> running as a normal user then you</font>

297
00:17:18,359 --> 00:17:23,819
<font color="#CCCCCC">go to the application folder and you</font>

298
00:17:20,970 --> 00:17:26,850
recreate the application folder

299
00:17:23,819 --> 00:17:31,080
structure<font color="#CCCCCC"> because you have write access</font>

300
00:17:26,849 --> 00:17:34,800
to<font color="#CCCCCC"> the slash Applications folder</font><font color="#E5E5E5"> and and</font>

301
00:17:31,080 --> 00:17:36,870
you drop there your file and then you go

302
00:17:34,800 --> 00:17:38,960
<font color="#E5E5E5">to the</font><font color="#CCCCCC"> App Store and</font><font color="#E5E5E5"> reinstall your</font>

303
00:17:36,870 --> 00:17:41,669
<font color="#CCCCCC">application</font><font color="#E5E5E5"> and it will install nicely</font>

304
00:17:38,960 --> 00:17:45,000
into the folders actually you already

305
00:17:41,670 --> 00:17:48,210
<font color="#E5E5E5">created and yeah</font>

306
00:17:45,000 --> 00:17:50,250
you pretty much<font color="#E5E5E5"> place any file into the</font>

307
00:17:48,210 --> 00:17:52,170
application folder you want<font color="#E5E5E5"> it you</font><font color="#CCCCCC"> just</font>

308
00:17:50,250 --> 00:17:55,530
<font color="#E5E5E5">need to delete the app recreate the</font>

309
00:17:52,170 --> 00:18:00,360
folders<font color="#E5E5E5"> reinstall it and and then it's</font>

310
00:17:55,530 --> 00:18:02,610
<font color="#CCCCCC">there so this</font><font color="#E5E5E5"> works to date actually</font>

311
00:18:00,360 --> 00:18:06,300
<font color="#CCCCCC">Apple said that they consider it</font><font color="#E5E5E5"> the</font>

312
00:18:02,610 --> 00:18:13,889
future<font color="#E5E5E5"> security enhancement to fix it</font>

313
00:18:06,300 --> 00:18:16,830
<font color="#CCCCCC">and so for me having</font><font color="#E5E5E5"> right access to</font><font color="#CCCCCC"> the</font>

314
00:18:13,890 --> 00:18:19,920
Applications folder<font color="#CCCCCC"> it's kind</font><font color="#E5E5E5"> of having</font>

315
00:18:16,830 --> 00:18:25,679
right access<font color="#CCCCCC"> to program files in Windows</font>

316
00:18:19,920 --> 00:18:29,010
<font color="#CCCCCC">but in Windows admin users do have write</font>

317
00:18:25,680 --> 00:18:33,020
access to to<font color="#CCCCCC"> program files</font><font color="#E5E5E5"> if they run</font>

318
00:18:29,010 --> 00:18:36,210
in high integrity mode but going from

319
00:18:33,020 --> 00:18:38,910
admin medium integrity to admin high

320
00:18:36,210 --> 00:18:42,540
integrity is<font color="#E5E5E5"> not a secondary not a</font>

321
00:18:38,910 --> 00:18:44,940
security boundary in Windows while in

322
00:18:42,540 --> 00:18:48,210
Mecca<font color="#E5E5E5"> was going from admin</font><font color="#CCCCCC"> to root is a</font>

323
00:18:44,940 --> 00:18:52,410
secondary<font color="#E5E5E5"> security boundary so there is</font>

324
00:18:48,210 --> 00:18:55,230
a<font color="#E5E5E5"> big difference</font><font color="#CCCCCC"> here and I don't</font><font color="#E5E5E5"> really</font>

325
00:18:52,410 --> 00:18:56,730
<font color="#E5E5E5">know why regular user needs to have</font>

326
00:18:55,230 --> 00:18:59,670
<font color="#CCCCCC">bright access</font><font color="#E5E5E5"> to the applications</font>

327
00:18:56,730 --> 00:19:01,980
<font color="#E5E5E5">further because</font><font color="#CCCCCC"> every user has their</font><font color="#E5E5E5"> own</font>

328
00:18:59,670 --> 00:19:05,490
applications further under the user

329
00:19:01,980 --> 00:19:07,290
directory but still you<font color="#CCCCCC"> have it so</font><font color="#E5E5E5"> you</font>

330
00:19:05,490 --> 00:19:07,940
can create<font color="#E5E5E5"> there and usually huge</font>

331
00:19:07,290 --> 00:19:09,750
<font color="#CCCCCC">drag-and-drop</font>

332
00:19:07,940 --> 00:19:11,700
application you<font color="#CCCCCC"> would drag</font><font color="#E5E5E5"> and drop</font>

333
00:19:09,750 --> 00:19:14,900
those into<font color="#E5E5E5"> the Applications folder and</font>

334
00:19:11,700 --> 00:19:24,630
<font color="#E5E5E5">not to your own users application folder</font>

335
00:19:14,900 --> 00:19:28,140
<font color="#CCCCCC">so just how it</font><font color="#E5E5E5"> works</font><font color="#CCCCCC"> I will pick up</font><font color="#E5E5E5"> this</font>

336
00:19:24,630 --> 00:19:37,980
app because<font color="#CCCCCC"> this will come back later</font>

337
00:19:28,140 --> 00:19:42,570
it's the crontab<font color="#E5E5E5"> creator</font><font color="#CCCCCC"> right now it's</font>

338
00:19:37,980 --> 00:19:46,490
empty<font color="#CCCCCC"> I can go</font><font color="#E5E5E5"> on and it's</font><font color="#CCCCCC"> just the</font>

339
00:19:42,570 --> 00:19:50,399
contents and and they directly are stuff

340
00:19:46,490 --> 00:19:53,340
so again I'm just<font color="#CCCCCC"> running as a regular</font>

341
00:19:50,400 --> 00:19:57,740
<font color="#E5E5E5">user</font><font color="#CCCCCC"> I can delete it</font>

342
00:19:53,340 --> 00:20:00,740
so there are<font color="#E5E5E5"> no issues with that</font>

343
00:19:57,740 --> 00:20:00,740
actually

344
00:20:11,600 --> 00:20:23,360
so I can just create the folder<font color="#E5E5E5"> and</font><font color="#CCCCCC"> I'd</font>

345
00:20:17,030 --> 00:20:25,960
<font color="#CCCCCC">know and then I can go back to the App</font>

346
00:20:23,360 --> 00:20:25,959
<font color="#CCCCCC">Store and</font>

347
00:20:36,219 --> 00:20:43,399
download it<font color="#CCCCCC"> again</font>

348
00:20:37,849 --> 00:20:46,899
and I have my text<font color="#E5E5E5"> fighter and again as</font>

349
00:20:43,399 --> 00:20:52,508
as my regular<font color="#E5E5E5"> user and then the rest is</font>

350
00:20:46,899 --> 00:20:52,508
placed there by the by the<font color="#E5E5E5"> Installer so</font>

351
00:20:57,340 --> 00:21:06,199
so this verse to date so I<font color="#CCCCCC"> don't need to</font>

352
00:21:03,409 --> 00:21:10,820
<font color="#CCCCCC">be rude</font><font color="#E5E5E5"> to do the lip hijacking for F</font>

353
00:21:06,200 --> 00:21:13,399
stirrups<font color="#E5E5E5"> and then it hit</font><font color="#CCCCCC"> me and I don't</font>

354
00:21:10,820 --> 00:21:15,830
know how and<font color="#CCCCCC"> but I wonder can</font><font color="#E5E5E5"> I do</font>

355
00:21:13,399 --> 00:21:19,908
something<font color="#CCCCCC"> else</font><font color="#E5E5E5"> with this</font><font color="#CCCCCC"> okay</font><font color="#E5E5E5"> I can drop</font>

356
00:21:15,830 --> 00:21:23,478
their files but what about<font color="#CCCCCC"> symlinks I</font>

357
00:21:19,909 --> 00:21:27,200
can create symlinks what will happen to

358
00:21:23,479 --> 00:21:28,399
those so the<font color="#E5E5E5"> discovery was that siblings</font>

359
00:21:27,200 --> 00:21:32,269
are being followed

360
00:21:28,399 --> 00:21:34,939
so the<font color="#E5E5E5"> Installer runs his route and it</font>

361
00:21:32,269 --> 00:21:38,690
will follow symlinks whenever it<font color="#E5E5E5"> moves</font>

362
00:21:34,940 --> 00:21:44,269
fire to the application folder so if you

363
00:21:38,690 --> 00:21:47,659
create<font color="#CCCCCC"> a sim link inside the</font><font color="#E5E5E5"> your app to</font>

364
00:21:44,269 --> 00:21:50,749
<font color="#CCCCCC">be installed app folder</font><font color="#E5E5E5"> like for the</font>

365
00:21:47,659 --> 00:21:54,289
contents or for the<font color="#E5E5E5"> Mac OS folder or for</font>

366
00:21:50,749 --> 00:21:56,749
something basic<font color="#CCCCCC"> to to another</font><font color="#E5E5E5"> folder</font>

367
00:21:54,289 --> 00:22:01,219
<font color="#E5E5E5">pointing somewhere in the system and</font>

368
00:21:56,749 --> 00:22:04,369
<font color="#E5E5E5">basically you can redirect the rights to</font>

369
00:22:01,219 --> 00:22:07,580
that folder so<font color="#E5E5E5"> you</font><font color="#CCCCCC"> can drop any file</font>

370
00:22:04,369 --> 00:22:11,689
from the<font color="#CCCCCC"> app store</font><font color="#E5E5E5"> to a location you</font>

371
00:22:07,580 --> 00:22:15,080
<font color="#E5E5E5">want and not everywhere</font><font color="#CCCCCC"> but on</font><font color="#E5E5E5"> most</font>

372
00:22:11,690 --> 00:22:17,469
places<font color="#E5E5E5"> so how do you do that again you</font>

373
00:22:15,080 --> 00:22:20,629
go and record the folder structure

374
00:22:17,469 --> 00:22:25,580
delete the app you recreate the folders

375
00:22:20,629 --> 00:22:30,259
<font color="#CCCCCC">you create a sim link for</font><font color="#E5E5E5"> example so on</font>

376
00:22:25,580 --> 00:22:33,619
the any app<font color="#E5E5E5"> contents</font><font color="#CCCCCC"> Mac OS</font><font color="#E5E5E5"> that's the</font>

377
00:22:30,259 --> 00:22:37,219
<font color="#E5E5E5">folder containing the actual</font><font color="#CCCCCC"> mekka file</font>

378
00:22:33,619 --> 00:22:40,820
the actual binary for the for the

379
00:22:37,219 --> 00:22:45,859
application itself you reinstall the app

380
00:22:40,820 --> 00:22:49,678
and yeah<font color="#E5E5E5"> the file that inside the Mac OS</font>

381
00:22:45,859 --> 00:22:55,399
folder so<font color="#CCCCCC"> your Mac or bye</font>

382
00:22:49,679 --> 00:22:55,399
in this example we go to the opt folder

383
00:22:56,539 --> 00:23:03,330
so what we cannot do and I spent hours

384
00:23:00,749 --> 00:23:07,019
playing<font color="#CCCCCC"> with this</font><font color="#E5E5E5"> because I was</font><font color="#CCCCCC"> ok</font>

385
00:23:03,330 --> 00:23:10,789
that's nice<font color="#CCCCCC"> if I can</font><font color="#E5E5E5"> drop files anywhere</font>

386
00:23:07,019 --> 00:23:12,990
or almost<font color="#E5E5E5"> anywhere on the file systems</font>

387
00:23:10,789 --> 00:23:17,519
<font color="#CCCCCC">hopefully I can</font><font color="#E5E5E5"> use it for</font><font color="#CCCCCC"> producer</font>

388
00:23:12,990 --> 00:23:21,509
escalation as it will come later<font color="#CCCCCC"> but it</font>

389
00:23:17,519 --> 00:23:24,690
will still<font color="#E5E5E5"> had a constraint of the</font>

390
00:23:21,509 --> 00:23:26,700
filename<font color="#E5E5E5"> will be defining that comes</font>

391
00:23:24,690 --> 00:23:29,549
from the AppStore<font color="#E5E5E5"> so I cannot modify the</font>

392
00:23:26,700 --> 00:23:33,360
file name<font color="#E5E5E5"> so one thing I cannot do is I</font>

393
00:23:29,549 --> 00:23:35,789
cannot write to<font color="#E5E5E5"> zip protected places</font><font color="#CCCCCC"> so</font>

394
00:23:33,360 --> 00:23:38,969
like the slash system is protected<font color="#CCCCCC"> by</font>

395
00:23:35,789 --> 00:23:40,679
zip if you have turned it on<font color="#CCCCCC"> even if you</font>

396
00:23:38,970 --> 00:23:45,690
are<font color="#CCCCCC"> root you cannot write to those</font>

397
00:23:40,679 --> 00:23:49,019
places<font color="#E5E5E5"> and you cannot overwrite files</font>

398
00:23:45,690 --> 00:23:53,100
you want with<font color="#CCCCCC"> the</font><font color="#E5E5E5"> victor</font><font color="#CCCCCC"> with the name</font>

399
00:23:49,019 --> 00:23:56,100
you want because what I wanted<font color="#CCCCCC"> okay.i</font><font color="#E5E5E5"> I</font>

400
00:23:53,100 --> 00:23:58,699
want to overwrite a file on my system

401
00:23:56,100 --> 00:24:01,498
which usually runs his route on<font color="#E5E5E5"> boot up</font>

402
00:23:58,700 --> 00:24:04,019
<font color="#CCCCCC">heat</font><font color="#E5E5E5"> a fire from the</font><font color="#CCCCCC"> app store but</font><font color="#E5E5E5"> their</font>

403
00:24:01,499 --> 00:24:06,389
name usually<font color="#CCCCCC"> doesn't match</font><font color="#E5E5E5"> so I wanted</font>

404
00:24:04,019 --> 00:24:10,679
to overwrite that file with the name I

405
00:24:06,389 --> 00:24:12,479
<font color="#E5E5E5">want but didn't work so I started to</font>

406
00:24:10,679 --> 00:24:17,369
actually<font color="#CCCCCC"> experiment and look</font><font color="#E5E5E5"> into how</font>

407
00:24:12,480 --> 00:24:20,190
the move<font color="#E5E5E5"> happens so if you from follow</font>

408
00:24:17,369 --> 00:24:24,749
from up to bottom<font color="#CCCCCC"> so</font><font color="#E5E5E5"> let's create a file</font>

409
00:24:20,190 --> 00:24:27,240
called<font color="#CCCCCC"> a</font><font color="#E5E5E5"> put some content into</font><font color="#CCCCCC"> it</font><font color="#E5E5E5"> then</font>

410
00:24:24,749 --> 00:24:31,139
let's create<font color="#E5E5E5"> a sim</font><font color="#CCCCCC"> link to that file</font>

411
00:24:27,240 --> 00:24:33,480
called B if we<font color="#CCCCCC"> list it</font><font color="#E5E5E5"> we can see that</font>

412
00:24:31,139 --> 00:24:37,830
we have the file a and we have<font color="#CCCCCC"> a symlink</font>

413
00:24:33,480 --> 00:24:41,039
<font color="#E5E5E5">be pointing to a now if we print out the</font>

414
00:24:37,830 --> 00:24:45,928
contents<font color="#CCCCCC"> of B that's as it</font><font color="#E5E5E5"> points to a</font>

415
00:24:41,039 --> 00:24:49,820
it will print it<font color="#E5E5E5"> out then if I write any</font>

416
00:24:45,929 --> 00:24:53,580
<font color="#E5E5E5">content</font><font color="#CCCCCC"> into B that will be written to a</font>

417
00:24:49,820 --> 00:24:59,539
but then I have a third file called C

418
00:24:53,580 --> 00:25:00,730
and what I want to do is overwrite a

419
00:24:59,539 --> 00:25:08,379
with

420
00:25:00,730 --> 00:25:13,540
see with the name<font color="#E5E5E5"> a and that doesn't</font>

421
00:25:08,380 --> 00:25:15,450
work if I try to move<font color="#E5E5E5"> C into B what will</font>

422
00:25:13,540 --> 00:25:19,928
happen

423
00:25:15,450 --> 00:25:20,350
Silvia become B and the same link is

424
00:25:19,929 --> 00:25:26,010
gone

425
00:25:20,350 --> 00:25:29,949
so I cannot overwrite a specifically<font color="#E5E5E5"> I</font>

426
00:25:26,010 --> 00:25:36,340
spent<font color="#E5E5E5"> hours with this and and it</font><font color="#CCCCCC"> just</font>

427
00:25:29,950 --> 00:25:42,580
<font color="#E5E5E5">doesn't work so</font><font color="#CCCCCC"> I cannot overwrite files</font>

428
00:25:36,340 --> 00:25:45,668
with custom names I want so still can I

429
00:25:42,580 --> 00:25:49,629
get<font color="#E5E5E5"> root if if I can drop files anywhere</font>

430
00:25:45,669 --> 00:25:53,020
<font color="#CCCCCC">yes so I had a couple of previous</font>

431
00:25:49,630 --> 00:25:54,669
collation ideas for<font color="#E5E5E5"> example find an</font>

432
00:25:53,020 --> 00:25:58,120
<font color="#CCCCCC">application in</font><font color="#E5E5E5"> the App Store</font><font color="#CCCCCC"> that has</font>

433
00:25:54,669 --> 00:26:01,480
the same name<font color="#E5E5E5"> the</font><font color="#CCCCCC"> trances root on your</font>

434
00:25:58,120 --> 00:26:06,489
<font color="#CCCCCC">system drop it there</font><font color="#E5E5E5"> override that file</font>

435
00:26:01,480 --> 00:26:10,570
and it will execute as root<font color="#E5E5E5"> I didn't</font>

436
00:26:06,490 --> 00:26:13,270
found any to be fair I didn't look<font color="#E5E5E5"> for</font>

437
00:26:10,570 --> 00:26:16,090
too much<font color="#CCCCCC"> I think the likelihood</font><font color="#E5E5E5"> to find</font>

438
00:26:13,270 --> 00:26:20,200
a good app that will be good for<font color="#CCCCCC"> you is</font>

439
00:26:16,090 --> 00:26:22,840
<font color="#CCCCCC">very low what's the other idea I had you</font>

440
00:26:20,200 --> 00:26:25,480
have the crontab folders and if you can

441
00:26:22,840 --> 00:26:28,780
place that<font color="#CCCCCC"> a file that has the name root</font>

442
00:26:25,480 --> 00:26:31,950
and if it's a proper<font color="#CCCCCC"> current</font><font color="#E5E5E5"> cron job</font>

443
00:26:28,780 --> 00:26:35,740
file<font color="#CCCCCC"> then it will be</font><font color="#E5E5E5"> executed as root</font>

444
00:26:31,950 --> 00:26:39,010
now there are probably<font color="#CCCCCC"> no such files in</font>

445
00:26:35,740 --> 00:26:44,169
the absorb actually Xcode has a couple

446
00:26:39,010 --> 00:26:47,980
<font color="#E5E5E5">of files</font><font color="#CCCCCC"> cron job cron job files but</font>

447
00:26:44,169 --> 00:26:52,059
they the name<font color="#E5E5E5"> wasn't</font><font color="#CCCCCC"> true and the</font>

448
00:26:47,980 --> 00:26:53,950
contents wasn't good for me<font color="#CCCCCC"> so if there</font>

449
00:26:52,059 --> 00:26:56,950
is<font color="#E5E5E5"> no such fine in the App Store</font><font color="#CCCCCC"> then</font>

450
00:26:53,950 --> 00:27:00,640
let's just create<font color="#CCCCCC"> your</font><font color="#E5E5E5"> own app with the</font>

451
00:26:56,950 --> 00:27:03,309
file you want or addition you can write

452
00:27:00,640 --> 00:27:06,370
a malicious dilib drop it<font color="#CCCCCC"> somewhere and</font>

453
00:27:03,309 --> 00:27:08,770
hopefully<font color="#E5E5E5"> it will be</font><font color="#CCCCCC"> loaded by an</font>

454
00:27:06,370 --> 00:27:13,090
<font color="#CCCCCC">application</font><font color="#E5E5E5"> that running as root so at</font>

455
00:27:08,770 --> 00:27:14,110
this point<font color="#E5E5E5"> I came a bit lazy to be</font>

456
00:27:13,090 --> 00:27:17,580
honest

457
00:27:14,110 --> 00:27:21,610
I'm not doing because to prove the idea

458
00:27:17,580 --> 00:27:24,309
<font color="#E5E5E5">properly</font><font color="#CCCCCC"> I had to develop an application</font>

459
00:27:21,610 --> 00:27:27,850
<font color="#E5E5E5">for the</font><font color="#CCCCCC"> app store</font><font color="#E5E5E5"> and I never quoted</font>

460
00:27:24,309 --> 00:27:32,070
<font color="#E5E5E5">either in</font><font color="#CCCCCC"> objective-c</font><font color="#E5E5E5"> weaved</font><font color="#CCCCCC"> I don't</font>

461
00:27:27,850 --> 00:27:35,439
didn't have a developer ID nothing and

462
00:27:32,070 --> 00:27:36,039
usually I do it in in work and<font color="#E5E5E5"> not in my</font>

463
00:27:35,440 --> 00:27:40,720
free time

464
00:27:36,039 --> 00:27:44,529
and it's<font color="#CCCCCC"> ok</font><font color="#E5E5E5"> I'll talk</font><font color="#CCCCCC"> I</font><font color="#E5E5E5"> will</font><font color="#CCCCCC"> just the</font>

465
00:27:40,720 --> 00:27:47,409
report<font color="#E5E5E5"> way Apple and I sent it and they</font>

466
00:27:44,529 --> 00:27:49,510
came back<font color="#E5E5E5"> and say hey I read our vetting</font>

467
00:27:47,409 --> 00:27:53,679
process will spot any malicious<font color="#E5E5E5"> act and</font>

468
00:27:49,510 --> 00:27:55,389
I was<font color="#E5E5E5"> thinking</font><font color="#CCCCCC"> okay it's it's</font><font color="#E5E5E5"> not that</font>

469
00:27:53,679 --> 00:27:58,899
it's it's<font color="#E5E5E5"> not about</font><font color="#CCCCCC"> the app being</font>

470
00:27:55,389 --> 00:28:01,870
malicious<font color="#CCCCCC"> it's you utilizing</font><font color="#E5E5E5"> the app in</font>

471
00:27:58,899 --> 00:28:03,939
a malicious way<font color="#E5E5E5"> and it's probably me</font>

472
00:28:01,870 --> 00:28:06,939
didn't explain them properly what's the

473
00:28:03,940 --> 00:28:09,510
what was the issue but I took a deep

474
00:28:06,940 --> 00:28:13,059
breath and<font color="#E5E5E5"> decide okay</font><font color="#CCCCCC"> I will</font><font color="#E5E5E5"> try harder</font>

475
00:28:09,510 --> 00:28:16,000
<font color="#CCCCCC">any offensive circuit offense here</font><font color="#E5E5E5"> yeah</font>

476
00:28:13,059 --> 00:28:18,158
I<font color="#E5E5E5"> decided okay I will go down the rabbit</font>

477
00:28:16,000 --> 00:28:24,240
hole<font color="#E5E5E5"> further and I will start</font><font color="#CCCCCC"> developing</font>

478
00:28:18,159 --> 00:28:27,519
an app now<font color="#E5E5E5"> planning so again I I have no</font>

479
00:28:24,240 --> 00:28:30,460
developer experience that you at all

480
00:28:27,519 --> 00:28:32,200
<font color="#CCCCCC">that say I can do some scripts and but</font>

481
00:28:30,460 --> 00:28:35,350
I'm not<font color="#E5E5E5"> a developer</font><font color="#CCCCCC"> especially not for</font>

482
00:28:32,200 --> 00:28:38,019
my<font color="#E5E5E5"> class but my diet okay the easiest</font>

483
00:28:35,350 --> 00:28:41,379
<font color="#E5E5E5">way probably is going</font><font color="#CCCCCC"> to beat with doing</font>

484
00:28:38,019 --> 00:28:43,899
a<font color="#CCCCCC"> cron job</font><font color="#E5E5E5"> file but I had to have a</font>

485
00:28:41,380 --> 00:28:47,710
valid<font color="#CCCCCC"> reason to</font><font color="#E5E5E5"> have an app in the App</font>

486
00:28:43,899 --> 00:28:49,658
<font color="#CCCCCC">Store with the file for me so I came up</font>

487
00:28:47,710 --> 00:28:53,380
with<font color="#CCCCCC"> the idea okay I will do a crontab</font>

488
00:28:49,659 --> 00:28:56,529
editor for the<font color="#E5E5E5"> App Store actually there</font>

489
00:28:53,380 --> 00:28:57,880
are only<font color="#E5E5E5"> one</font><font color="#CCCCCC"> or two doing this</font><font color="#E5E5E5"> and my</font>

490
00:28:56,529 --> 00:29:02,590
one is free

491
00:28:57,880 --> 00:29:07,510
the other two are paid<font color="#CCCCCC"> so actually it's</font>

492
00:29:02,590 --> 00:29:09,250
it's useful app<font color="#CCCCCC"> but I I checked a couple</font>

493
00:29:07,510 --> 00:29:10,899
of weeks ago<font color="#E5E5E5"> and I realized that</font>

494
00:29:09,250 --> 00:29:14,580
<font color="#CCCCCC">actually people</font><font color="#E5E5E5"> from around the world</font>

495
00:29:10,899 --> 00:29:18,879
are downloading that application<font color="#CCCCCC"> so yes</font>

496
00:29:14,580 --> 00:29:21,460
<font color="#CCCCCC">I</font><font color="#E5E5E5"> need</font><font color="#CCCCCC"> I had to</font><font color="#E5E5E5"> have a developer ID so I</font>

497
00:29:18,880 --> 00:29:24,480
went and<font color="#E5E5E5"> paid for that and when I had to</font>

498
00:29:21,460 --> 00:29:27,760
<font color="#CCCCCC">choose between Swift and</font><font color="#E5E5E5"> objective-c so</font>

499
00:29:24,480 --> 00:29:30,340
this syntax in objective-c so

500
00:29:27,760 --> 00:29:34,930
this is an object<font color="#CCCCCC"> and this is its</font>

501
00:29:30,340 --> 00:29:37,689
function<font color="#CCCCCC"> and I just didn't it just</font>

502
00:29:34,930 --> 00:29:41,140
<font color="#CCCCCC">freaked them out</font><font color="#E5E5E5"> that's not</font><font color="#CCCCCC"> for me Swift</font>

503
00:29:37,690 --> 00:29:45,490
is much more like<font color="#CCCCCC"> see</font><font color="#E5E5E5"> so I just okay I</font>

504
00:29:41,140 --> 00:29:50,800
will go learn Swift and I took<font color="#E5E5E5"> a CBT for</font>

505
00:29:45,490 --> 00:29:53,260
<font color="#CCCCCC">our CBT and and learn the basics of</font>

506
00:29:50,800 --> 00:29:57,250
Swift<font color="#E5E5E5"> which was more than</font><font color="#CCCCCC"> enough</font><font color="#E5E5E5"> to</font>

507
00:29:53,260 --> 00:30:00,520
actually<font color="#E5E5E5"> create a GUI application so a</font>

508
00:29:57,250 --> 00:30:03,340
so pushing<font color="#CCCCCC"> app store that's actually</font>

509
00:30:00,520 --> 00:30:06,120
fairly<font color="#E5E5E5"> easy</font><font color="#CCCCCC"> so first you create</font><font color="#E5E5E5"> a bundle</font>

510
00:30:03,340 --> 00:30:10,470
ID at<font color="#E5E5E5"> App Store</font><font color="#CCCCCC"> Connect which is</font><font color="#E5E5E5"> the</font>

511
00:30:06,120 --> 00:30:14,830
<font color="#CCCCCC">calm</font><font color="#E5E5E5"> your company that your app name</font>

512
00:30:10,470 --> 00:30:17,980
whatever<font color="#E5E5E5"> then you it is here then you go</font>

513
00:30:14,830 --> 00:30:21,820
and create an app referring to the

514
00:30:17,980 --> 00:30:25,530
bundle ID populated details you upload

515
00:30:21,820 --> 00:30:29,409
your app from Xcode directly and submit

516
00:30:25,530 --> 00:30:33,310
that's pretty surprisingly pretty easy

517
00:30:29,410 --> 00:30:37,600
to do<font color="#CCCCCC"> now there is the time issue one</font>

518
00:30:33,310 --> 00:30:40,780
<font color="#CCCCCC">mistake</font><font color="#E5E5E5"> was</font><font color="#CCCCCC"> Tim like 24 hours if you</font>

519
00:30:37,600 --> 00:30:43,360
ever<font color="#E5E5E5"> try to</font><font color="#CCCCCC"> develop and</font><font color="#E5E5E5"> exploit or or do</font>

520
00:30:40,780 --> 00:30:45,550
fixing you know you load like the

521
00:30:43,360 --> 00:30:47,580
debugger you<font color="#E5E5E5"> make your mistake okay no</font>

522
00:30:45,550 --> 00:30:50,830
problem<font color="#E5E5E5"> I will restart exploit the</font>

523
00:30:47,580 --> 00:30:54,310
debugger fix my stuff<font color="#E5E5E5"> now doing this</font>

524
00:30:50,830 --> 00:30:57,970
here<font color="#CCCCCC"> it usually</font><font color="#E5E5E5"> it cost you like one day</font>

525
00:30:54,310 --> 00:31:01,960
of waiting<font color="#E5E5E5"> time which is super annoying</font>

526
00:30:57,970 --> 00:31:05,400
<font color="#CCCCCC">when you are close to the</font><font color="#E5E5E5"> closes it we</font>

527
00:31:01,960 --> 00:31:09,880
all go so in my case<font color="#E5E5E5"> I did my first push</font>

528
00:31:05,400 --> 00:31:13,480
and waited 24 hours or 12 hours it can

529
00:31:09,880 --> 00:31:17,380
<font color="#E5E5E5">be</font><font color="#CCCCCC"> anytime between 12 hours to 48 hours</font>

530
00:31:13,480 --> 00:31:21,070
I was lucky going usually closer to the

531
00:31:17,380 --> 00:31:23,140
12 hours<font color="#CCCCCC"> timeframe and they rejected</font><font color="#E5E5E5"> it</font>

532
00:31:21,070 --> 00:31:25,540
and they said<font color="#CCCCCC"> okay you don't properly</font>

533
00:31:23,140 --> 00:31:27,670
<font color="#E5E5E5">close the</font><font color="#CCCCCC"> application when you close the</font>

534
00:31:25,540 --> 00:31:32,590
X and there is no way to<font color="#E5E5E5"> bring back</font><font color="#CCCCCC"> the</font>

535
00:31:27,670 --> 00:31:35,170
window this doesn't conform with<font color="#CCCCCC"> the App</font>

536
00:31:32,590 --> 00:31:38,860
Store<font color="#E5E5E5"> guidelines so fix that that's</font>

537
00:31:35,170 --> 00:31:41,560
<font color="#E5E5E5">actually one line fix</font><font color="#CCCCCC"> I fixed it</font>

538
00:31:38,860 --> 00:31:44,050
it got<font color="#E5E5E5"> a waited again 24 hours</font>

539
00:31:41,560 --> 00:31:44,710
got approved<font color="#E5E5E5"> and then I realized that</font>

540
00:31:44,050 --> 00:31:47,980
<font color="#CCCCCC">okay</font>

541
00:31:44,710 --> 00:31:49,050
this<font color="#E5E5E5"> privilege escalation issue doesn't</font>

542
00:31:47,980 --> 00:31:52,150
work on<font color="#E5E5E5"> behalf</font>

543
00:31:49,050 --> 00:31:54,190
okay no problem<font color="#CCCCCC"> I have a</font><font color="#E5E5E5"> high sierra</font><font color="#CCCCCC"> vm</font>

544
00:31:52,150 --> 00:31:58,060
<font color="#CCCCCC">i will</font><font color="#E5E5E5"> load</font><font color="#CCCCCC"> that up there and</font><font color="#E5E5E5"> we run it</font>

545
00:31:54,190 --> 00:32:00,280
<font color="#CCCCCC">and then i'd try to install it</font><font color="#E5E5E5"> on a high</font>

546
00:31:58,060 --> 00:32:03,419
sierra and it turned out that<font color="#E5E5E5"> i compiled</font>

547
00:32:00,280 --> 00:32:06,430
my application<font color="#CCCCCC"> for a minimum refire</font>

548
00:32:03,420 --> 00:32:07,240
requirement for mojave<font color="#E5E5E5"> so i couldn't try</font>

549
00:32:06,430 --> 00:32:09,970
it again

550
00:32:07,240 --> 00:32:13,390
it just setting in xcode what is the

551
00:32:09,970 --> 00:32:17,650
minimum was required<font color="#CCCCCC"> compile</font><font color="#E5E5E5"> it again</font>

552
00:32:13,390 --> 00:32:23,380
<font color="#E5E5E5">waited 24 hours it got approved</font><font color="#CCCCCC"> and yeah</font>

553
00:32:17,650 --> 00:32:26,940
it worked<font color="#E5E5E5"> this</font><font color="#CCCCCC"> is the application I</font><font color="#E5E5E5"> took</font>

554
00:32:23,380 --> 00:32:30,000
this design for from a crontab website

555
00:32:26,940 --> 00:32:35,380
yeah so you can actually create a

556
00:32:30,000 --> 00:32:39,190
crontab<font color="#CCCCCC"> v</font><font color="#E5E5E5"> it it so how it works</font><font color="#CCCCCC"> this</font>

557
00:32:35,380 --> 00:32:43,450
<font color="#CCCCCC">application</font><font color="#E5E5E5"> has a has eight examples for</font>

558
00:32:39,190 --> 00:32:47,020
chrome tabs for<font color="#E5E5E5"> the users</font><font color="#CCCCCC"> one of them is</font>

559
00:32:43,450 --> 00:32:50,050
called<font color="#CCCCCC"> route and the contents of the</font>

560
00:32:47,020 --> 00:32:53,430
route will basically run this every

561
00:32:50,050 --> 00:32:56,020
<font color="#CCCCCC">minute</font><font color="#E5E5E5"> this backup</font><font color="#CCCCCC"> apps shell script as</font>

562
00:32:53,430 --> 00:32:57,700
you have write access to<font color="#CCCCCC"> the</font>

563
00:32:56,020 --> 00:33:00,160
<font color="#CCCCCC">Applications folder</font><font color="#E5E5E5"> you can place that</font>

564
00:32:57,700 --> 00:33:02,260
that script<font color="#E5E5E5"> and it has eight more</font>

565
00:33:00,160 --> 00:33:09,690
examples<font color="#CCCCCC"> under different name like Joan</font>

566
00:33:02,260 --> 00:33:12,970
Mike whatever you<font color="#E5E5E5"> create the app and</font>

567
00:33:09,690 --> 00:33:17,320
<font color="#E5E5E5">basically all these example files are</font>

568
00:33:12,970 --> 00:33:19,720
inside<font color="#E5E5E5"> the resources folder</font><font color="#CCCCCC"> I could</font>

569
00:33:17,320 --> 00:33:21,429
place these examples as an<font color="#E5E5E5"> embedded</font>

570
00:33:19,720 --> 00:33:24,490
string but then it wouldn't<font color="#CCCCCC"> work so</font><font color="#E5E5E5"> I</font>

571
00:33:21,430 --> 00:33:26,860
actually<font color="#E5E5E5"> place the real files in the you</font>

572
00:33:24,490 --> 00:33:31,360
install the application<font color="#CCCCCC"> you create a</font>

573
00:33:26,860 --> 00:33:34,510
strip file and yeah you have<font color="#CCCCCC"> like I put</font>

574
00:33:31,360 --> 00:33:37,389
simply run terminal in<font color="#E5E5E5"> the backup</font><font color="#CCCCCC"> apps</font>

575
00:33:34,510 --> 00:33:40,060
<font color="#E5E5E5">share script you give it executable</font>

576
00:33:37,390 --> 00:33:42,750
privileges<font color="#E5E5E5"> and then you have a terminal</font>

577
00:33:40,060 --> 00:33:42,750
<font color="#E5E5E5">running as root</font>

578
00:33:55,620 --> 00:33:58,969
I have it<font color="#E5E5E5"> all this</font>

579
00:34:05,600 --> 00:34:20,089
so this is recorded from on<font color="#E5E5E5"> on High</font>

580
00:34:10,429 --> 00:34:21,859
Sierra so this is the application<font color="#CCCCCC"> you</font>

581
00:34:20,089 --> 00:34:25,339
can see that there<font color="#CCCCCC"> is a version</font><font color="#E5E5E5"> 101</font>

582
00:34:21,859 --> 00:34:29,168
<font color="#E5E5E5">because</font><font color="#CCCCCC"> I had to do a fix for run it on</font>

583
00:34:25,339 --> 00:34:31,699
<font color="#E5E5E5">high</font><font color="#CCCCCC"> Sierra on the application folder</font>

584
00:34:29,168 --> 00:34:37,460
<font color="#E5E5E5">you can</font><font color="#CCCCCC"> see that there is</font><font color="#E5E5E5"> no crontab</font>

585
00:34:31,699 --> 00:34:42,949
<font color="#E5E5E5">creator application right</font><font color="#CCCCCC"> now</font><font color="#E5E5E5"> and I'm</font>

586
00:34:37,460 --> 00:34:50,929
<font color="#CCCCCC">running as as my regular user so I will</font>

587
00:34:42,949 --> 00:34:56,509
create the<font color="#CCCCCC"> folder and then we go into</font>

588
00:34:50,929 --> 00:34:58,990
<font color="#E5E5E5">and create the</font><font color="#CCCCCC"> other folders so usually</font>

589
00:34:56,510 --> 00:35:06,109
all<font color="#E5E5E5"> the other stuff are in</font><font color="#CCCCCC"> the</font><font color="#E5E5E5"> contents</font>

590
00:34:58,990 --> 00:35:09,500
<font color="#CCCCCC">first and then the</font><font color="#E5E5E5"> the resources folder</font>

591
00:35:06,109 --> 00:35:10,540
is inside the contents<font color="#E5E5E5"> so we create a</font>

592
00:35:09,500 --> 00:35:15,700
<font color="#CCCCCC">symlink</font>

593
00:35:10,540 --> 00:35:15,700
to the cron job water

594
00:35:20,720 --> 00:35:24,500
so that's<font color="#E5E5E5"> there</font>

595
00:35:31,440 --> 00:35:36,310
and there is I'm I'm listing the

596
00:35:34,089 --> 00:35:39,328
<font color="#E5E5E5">contents of the crontab folder and</font>

597
00:35:36,310 --> 00:35:43,020
actually to list it you need to<font color="#E5E5E5"> be</font><font color="#CCCCCC"> root</font>

598
00:35:39,329 --> 00:35:52,200
just<font color="#CCCCCC"> to</font><font color="#E5E5E5"> show that that that it's empty</font>

599
00:35:43,020 --> 00:36:02,829
<font color="#E5E5E5">right now and then we go and install the</font>

600
00:35:52,200 --> 00:36:06,460
application let me so if<font color="#E5E5E5"> you install an</font>

601
00:36:02,829 --> 00:36:09,730
application<font color="#E5E5E5"> usually if you didn't buy it</font>

602
00:36:06,460 --> 00:36:12,760
before<font color="#E5E5E5"> even</font><font color="#CCCCCC"> if it's free so you can see</font>

603
00:36:09,730 --> 00:36:16,510
that all the<font color="#E5E5E5"> modify all those</font><font color="#CCCCCC"> eight</font>

604
00:36:12,760 --> 00:36:21,180
files<font color="#E5E5E5"> and some other junk is</font><font color="#CCCCCC"> dropped to</font>

605
00:36:16,510 --> 00:36:21,180
the crunch of<font color="#CCCCCC"> four</font>

606
00:36:28,510 --> 00:36:33,390
and<font color="#E5E5E5"> we list what inside</font><font color="#CCCCCC"> route</font>

607
00:36:43,490 --> 00:36:52,250
let me forward it<font color="#E5E5E5"> okay so in the</font>

608
00:36:49,400 --> 00:36:57,230
meantime it<font color="#E5E5E5"> this happens so basically</font>

609
00:36:52,250 --> 00:36:59,330
here I create the dish a script<font color="#E5E5E5"> so when</font>

610
00:36:57,230 --> 00:37:02,330
you first buy an application you need to

611
00:36:59,330 --> 00:37:03,020
enter your<font color="#E5E5E5"> Apple ID to buy it</font><font color="#CCCCCC"> even</font><font color="#E5E5E5"> if</font>

612
00:37:02,330 --> 00:37:07,490
it's free

613
00:37:03,020 --> 00:37:12,890
unless you<font color="#E5E5E5"> click Save credential for</font>

614
00:37:07,490 --> 00:37:15,350
free applications so if if you want to

615
00:37:12,890 --> 00:37:18,589
<font color="#CCCCCC">execute this attack remotely on a</font>

616
00:37:15,350 --> 00:37:25,370
computer it will not<font color="#E5E5E5"> work</font><font color="#CCCCCC"> if the user</font>

617
00:37:18,590 --> 00:37:28,730
doesn't<font color="#CCCCCC"> have</font><font color="#E5E5E5"> the didn't select</font><font color="#CCCCCC"> you save</font>

618
00:37:25,370 --> 00:37:31,040
<font color="#CCCCCC">Maya predict financials for for free</font>

619
00:37:28,730 --> 00:37:32,780
applications because in order<font color="#CCCCCC"> to</font><font color="#E5E5E5"> install</font>

620
00:37:31,040 --> 00:37:36,830
<font color="#E5E5E5">even a free</font><font color="#CCCCCC"> application you need to</font>

621
00:37:32,780 --> 00:37:39,980
enter and<font color="#CCCCCC"> apply D so basically the</font>

622
00:37:36,830 --> 00:37:45,560
<font color="#E5E5E5">script file is created and right now we</font>

623
00:37:39,980 --> 00:37:50,690
<font color="#E5E5E5">are waiting for</font><font color="#CCCCCC"> Crone to to execute it</font>

624
00:37:45,560 --> 00:37:55,580
as it runs on<font color="#E5E5E5"> every minute it will start</font>

625
00:37:50,690 --> 00:37:59,800
it when the clock<font color="#CCCCCC"> flips to 17 I should</font>

626
00:37:55,580 --> 00:38:06,290
probably play<font color="#CCCCCC"> some drummers in the</font>

627
00:37:59,800 --> 00:38:09,740
individuals<font color="#E5E5E5"> but it should pop up in a</font>

628
00:38:06,290 --> 00:38:13,870
<font color="#E5E5E5">couple of seconds and yeah and as you</font>

629
00:38:09,740 --> 00:38:13,870
can see<font color="#E5E5E5"> it runs as root</font>

630
00:38:13,970 --> 00:38:19,629
[Applause]

631
00:38:27,390 --> 00:38:34,720
so this<font color="#CCCCCC"> doesn't work on Mahara</font>

632
00:38:30,190 --> 00:38:39,760
<font color="#E5E5E5">and I cannot go into the details of the</font>

633
00:38:34,720 --> 00:38:43,359
of the fix because it wasn't<font color="#E5E5E5"> fixed in a</font>

634
00:38:39,760 --> 00:38:46,090
way<font color="#CCCCCC"> I wanted to</font><font color="#E5E5E5"> so there is a let's say</font>

635
00:38:43,360 --> 00:38:51,100
bypass for it<font color="#E5E5E5"> which is still being</font>

636
00:38:46,090 --> 00:38:53,740
worked<font color="#E5E5E5"> by</font><font color="#CCCCCC"> Apple but</font><font color="#E5E5E5"> okay so these were</font>

637
00:38:51,100 --> 00:38:54,569
were App Store apps and with a little

638
00:38:53,740 --> 00:38:58,000
<font color="#CCCCCC">ice</font>

639
00:38:54,570 --> 00:38:59,650
escalation as<font color="#E5E5E5"> a side effect</font><font color="#CCCCCC"> but I wanted</font>

640
00:38:58,000 --> 00:39:01,900
to bypass route for their permission

641
00:38:59,650 --> 00:39:06,700
<font color="#E5E5E5">also for the other files for package</font>

642
00:39:01,900 --> 00:39:09,480
files which are<font color="#CCCCCC"> US owned</font><font color="#E5E5E5"> as root so it's</font>

643
00:39:06,700 --> 00:39:13,960
basically about<font color="#E5E5E5"> infecting a package wise</font>

644
00:39:09,480 --> 00:39:15,790
package file which is maybe<font color="#CCCCCC"> not really a</font>

645
00:39:13,960 --> 00:39:18,880
bypass because<font color="#E5E5E5"> the user still</font>

646
00:39:15,790 --> 00:39:22,990
authenticates when he executes the the

647
00:39:18,880 --> 00:39:25,300
package files<font color="#E5E5E5"> and if you embed any new</font>

648
00:39:22,990 --> 00:39:28,500
file in a package file you break<font color="#CCCCCC"> it</font>

649
00:39:25,300 --> 00:39:32,500
signatures and gatekeeper<font color="#CCCCCC"> will</font><font color="#E5E5E5"> block it</font>

650
00:39:28,500 --> 00:39:33,730
<font color="#E5E5E5">by default</font><font color="#CCCCCC"> and you need a way to infect</font>

651
00:39:32,500 --> 00:39:39,550
a package by maybe a<font color="#CCCCCC"> man-in-the-middle</font>

652
00:39:33,730 --> 00:39:42,610
<font color="#CCCCCC">or something if</font><font color="#E5E5E5"> you add interestingly</font>

653
00:39:39,550 --> 00:39:45,160
for me if you add a file to<font color="#CCCCCC"> an</font>

654
00:39:42,610 --> 00:39:47,560
<font color="#CCCCCC">application</font><font color="#E5E5E5"> to the app folder it doesn't</font>

655
00:39:45,160 --> 00:39:49,690
<font color="#CCCCCC">break its signature</font><font color="#E5E5E5"> because the</font>

656
00:39:47,560 --> 00:39:52,360
<font color="#E5E5E5">signature is working based on the on</font>

657
00:39:49,690 --> 00:39:54,820
file<font color="#CCCCCC"> lévesque or the macro file and the</font>

658
00:39:52,360 --> 00:40:00,370
delete files are signed<font color="#E5E5E5"> not the entire</font>

659
00:39:54,820 --> 00:40:03,700
bundle<font color="#E5E5E5"> so how do you</font><font color="#CCCCCC"> infect an installer</font>

660
00:40:00,370 --> 00:40:06,240
<font color="#E5E5E5">you</font><font color="#CCCCCC"> grab a package</font><font color="#E5E5E5"> file you can grab an</font>

661
00:40:03,700 --> 00:40:11,740
app store package or whatever you want

662
00:40:06,240 --> 00:40:16,439
<font color="#E5E5E5">there is</font><font color="#CCCCCC"> a</font><font color="#E5E5E5"> tool</font><font color="#CCCCCC"> to grab package files</font>

663
00:40:11,740 --> 00:40:20,520
from the<font color="#CCCCCC"> app store you unpack it</font><font color="#E5E5E5"> you</font>

664
00:40:16,440 --> 00:40:23,830
become so Mac OS is a nice<font color="#E5E5E5"> PKG util</font>

665
00:40:20,520 --> 00:40:26,410
<font color="#E5E5E5">utility to deal to handle package files</font>

666
00:40:23,830 --> 00:40:29,920
you<font color="#E5E5E5"> will compress the payload which is</font>

667
00:40:26,410 --> 00:40:31,450
the app folder basically you embed<font color="#CCCCCC"> your</font>

668
00:40:29,920 --> 00:40:35,529
file

669
00:40:31,450 --> 00:40:39,240
you<font color="#E5E5E5"> will recompress the payload</font><font color="#CCCCCC"> you</font>

670
00:40:35,529 --> 00:40:44,529
clean up stuff<font color="#E5E5E5"> and you will repackage</font>

671
00:40:39,240 --> 00:40:48,689
<font color="#E5E5E5">the entire package and just</font><font color="#CCCCCC"> to show</font><font color="#E5E5E5"> how</font>

672
00:40:44,529 --> 00:40:48,690
it's it's pretty

673
00:40:54,980 --> 00:41:02,030
so I have a package file here it's

674
00:40:57,530 --> 00:41:03,490
called parcel I<font color="#CCCCCC"> grabbed it from the from</font>

675
00:41:02,030 --> 00:41:05,480
the<font color="#E5E5E5"> App Store nothing against this</font>

676
00:41:03,490 --> 00:41:08,930
<font color="#E5E5E5">application I just picked it up from</font>

677
00:41:05,480 --> 00:41:12,440
<font color="#E5E5E5">normally it can be anything and I</font>

678
00:41:08,930 --> 00:41:18,919
created a script<font color="#CCCCCC"> a</font><font color="#E5E5E5"> Python script</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> add</font>

679
00:41:12,440 --> 00:41:22,160
a file to<font color="#CCCCCC"> it</font><font color="#E5E5E5"> so instead of running all</font>

680
00:41:18,920 --> 00:41:29,390
these commands manually<font color="#E5E5E5"> it's it's easier</font>

681
00:41:22,160 --> 00:41:32,060
this way<font color="#E5E5E5"> so I want to in fact the the</font>

682
00:41:29,390 --> 00:41:38,690
parcel up and I want to embed this<font color="#CCCCCC"> high</font>

683
00:41:32,060 --> 00:41:43,480
dot txt<font color="#E5E5E5"> it creates</font><font color="#CCCCCC"> I have an</font><font color="#E5E5E5"> infected</font>

684
00:41:38,690 --> 00:41:43,480
package and<font color="#E5E5E5"> just</font>

685
00:41:49,340 --> 00:41:53,950
so if I<font color="#E5E5E5"> install the normal</font><font color="#CCCCCC"> application</font>

686
00:42:02,280 --> 00:42:10,950
so it was the application<font color="#CCCCCC"> and it's</font>

687
00:42:05,390 --> 00:42:16,560
<font color="#CCCCCC">Parcells and yeah that's</font><font color="#E5E5E5"> how this is</font>

688
00:42:10,950 --> 00:42:26,120
<font color="#CCCCCC">just the</font><font color="#E5E5E5"> level regular app so we delete</font>

689
00:42:16,560 --> 00:42:26,120
this and install the infected one

690
00:42:36,180 --> 00:42:46,448
so it's again<font color="#E5E5E5"> there and you have this</font>

691
00:42:40,660 --> 00:42:50,319
high but<font color="#E5E5E5"> txt embedded so this is a way</font>

692
00:42:46,449 --> 00:42:55,140
to let's say bypass<font color="#E5E5E5"> the root folder</font>

693
00:42:50,319 --> 00:42:55,140
permission for<font color="#E5E5E5"> package files</font>

694
00:43:01,700 --> 00:43:09,930
so another<font color="#CCCCCC"> thing I run into</font><font color="#E5E5E5"> so there is</font>

695
00:43:06,480 --> 00:43:11,730
a script to grab a package<font color="#E5E5E5"> for advice</font>

696
00:43:09,930 --> 00:43:13,680
from<font color="#CCCCCC"> the</font><font color="#E5E5E5"> air store because every every</font>

697
00:43:11,730 --> 00:43:16,350
<font color="#E5E5E5">application that store comes down as a</font>

698
00:43:13,680 --> 00:43:21,629
package<font color="#E5E5E5"> but it will be installed by the</font>

699
00:43:16,350 --> 00:43:25,350
<font color="#CCCCCC">biden's installer application</font><font color="#E5E5E5"> and and</font>

700
00:43:21,630 --> 00:43:29,100
you don't<font color="#E5E5E5"> see all these prompts</font><font color="#CCCCCC"> it's a</font>

701
00:43:25,350 --> 00:43:32,060
free tool<font color="#CCCCCC"> it's App Store extract that's</font>

702
00:43:29,100 --> 00:43:36,930
<font color="#E5E5E5">the name you can download it from github</font>

703
00:43:32,060 --> 00:43:40,200
<font color="#CCCCCC">and what I found is if you grab a</font>

704
00:43:36,930 --> 00:43:42,600
<font color="#E5E5E5">package from the</font><font color="#CCCCCC"> App Store and take that</font>

705
00:43:40,200 --> 00:43:44,939
<font color="#CCCCCC">package</font><font color="#E5E5E5"> take it to another system</font><font color="#CCCCCC"> you</font>

706
00:43:42,600 --> 00:43:48,839
can<font color="#E5E5E5"> just install</font><font color="#CCCCCC"> it so</font><font color="#E5E5E5"> even if it's a</font>

707
00:43:44,940 --> 00:43:53,340
paid application and you grab the

708
00:43:48,840 --> 00:43:54,990
package<font color="#E5E5E5"> put it on a torrent site or</font>

709
00:43:53,340 --> 00:43:57,480
whatever<font color="#E5E5E5"> people can download it and</font>

710
00:43:54,990 --> 00:43:59,910
actually<font color="#E5E5E5"> use that</font><font color="#CCCCCC"> package file and and</font>

711
00:43:57,480 --> 00:44:04,260
run that application probably<font color="#E5E5E5"> in-app</font>

712
00:43:59,910 --> 00:44:08,790
purchases will not work<font color="#E5E5E5"> and what I see</font>

713
00:44:04,260 --> 00:44:11,550
that there is<font color="#CCCCCC"> really no verification</font><font color="#E5E5E5"> if</font>

714
00:44:08,790 --> 00:44:14,190
you in the<font color="#E5E5E5"> Installer or in the</font>

715
00:44:11,550 --> 00:44:16,530
application<font color="#E5E5E5"> itself that you actually</font>

716
00:44:14,190 --> 00:44:18,360
<font color="#CCCCCC">purchase</font><font color="#E5E5E5"> that application or not</font><font color="#CCCCCC"> Apple</font>

717
00:44:16,530 --> 00:44:20,930
said that there<font color="#E5E5E5"> is some guidance for</font>

718
00:44:18,360 --> 00:44:24,180
developers to<font color="#CCCCCC"> do this check</font><font color="#E5E5E5"> actually but</font>

719
00:44:20,930 --> 00:44:27,029
as I so probably not many of them<font color="#CCCCCC"> doing</font>

720
00:44:24,180 --> 00:44:30,120
that<font color="#CCCCCC"> and</font><font color="#E5E5E5"> obviously you will not get the</font>

721
00:44:27,030 --> 00:44:34,260
App Store updates<font color="#E5E5E5"> for that application</font>

722
00:44:30,120 --> 00:44:37,799
but still it's it's an easy way to

723
00:44:34,260 --> 00:44:40,190
redistribute<font color="#E5E5E5"> these apps obviously before</font>

724
00:44:37,800 --> 00:44:45,450
<font color="#CCCCCC">you that</font><font color="#E5E5E5"> is</font><font color="#CCCCCC"> rooted</font><font color="#E5E5E5"> you need to buy it</font>

725
00:44:40,190 --> 00:44:50,820
<font color="#CCCCCC">but</font><font color="#E5E5E5"> then it works after it so some</font>

726
00:44:45,450 --> 00:44:54,359
closing thoughts<font color="#CCCCCC"> my recommendation</font><font color="#E5E5E5"> for</font>

727
00:44:50,820 --> 00:44:56,640
<font color="#CCCCCC">for Apple or or for</font><font color="#E5E5E5"> the fixes so I think</font>

728
00:44:54,360 --> 00:45:01,020
that<font color="#E5E5E5"> installer shouldn't follow symlinks</font>

729
00:44:56,640 --> 00:45:04,970
at all<font color="#E5E5E5"> and should stop if</font><font color="#CCCCCC"> the folder</font><font color="#E5E5E5"> is</font>

730
00:45:01,020 --> 00:45:08,820
already<font color="#CCCCCC"> existing</font><font color="#E5E5E5"> and</font><font color="#CCCCCC"> they shouldn't have</font>

731
00:45:04,970 --> 00:45:11,649
access<font color="#CCCCCC"> to sensitive location and this is</font>

732
00:45:08,820 --> 00:45:15,370
what's being done in<font color="#CCCCCC"> more</font>

733
00:45:11,650 --> 00:45:17,680
or I think<font color="#CCCCCC"> the perfect</font><font color="#E5E5E5"> fix would</font><font color="#CCCCCC"> be if</font>

734
00:45:15,370 --> 00:45:20,529
when you install an application and that

735
00:45:17,680 --> 00:45:24,060
<font color="#CCCCCC">application</font><font color="#E5E5E5"> further is</font><font color="#CCCCCC"> already there and</font>

736
00:45:20,530 --> 00:45:27,010
it's not owned by<font color="#E5E5E5"> root but by the user</font>

737
00:45:24,060 --> 00:45:29,799
<font color="#E5E5E5">then the installer should just exit and</font>

738
00:45:27,010 --> 00:45:30,670
and<font color="#E5E5E5"> die and the application shouldn't be</font>

739
00:45:29,800 --> 00:45:34,080
installed at all

740
00:45:30,670 --> 00:45:38,680
so that would prevent all of<font color="#CCCCCC"> the issues</font>

741
00:45:34,080 --> 00:45:41,049
<font color="#E5E5E5">presented here in my</font><font color="#CCCCCC"> opinion and I think</font>

742
00:45:38,680 --> 00:45:44,500
the<font color="#CCCCCC"> application container or</font><font color="#E5E5E5"> the folder</font>

743
00:45:41,050 --> 00:45:49,300
<font color="#E5E5E5">the app folder should be verified for</font>

744
00:45:44,500 --> 00:45:52,780
number of<font color="#E5E5E5"> files</font><font color="#CCCCCC"> I think that as I know</font>

745
00:45:49,300 --> 00:45:57,450
that's<font color="#E5E5E5"> pretty much fixed so there is no</font>

746
00:45:52,780 --> 00:46:01,060
data content on<font color="#CCCCCC"> that</font><font color="#E5E5E5"> in that</font><font color="#CCCCCC"> folder and</font>

747
00:45:57,450 --> 00:46:04,120
<font color="#E5E5E5">there is there are plenty of abuses for</font>

748
00:46:01,060 --> 00:46:06,279
dropping the error malicious dilib<font color="#E5E5E5"> or</font><font color="#CCCCCC"> or</font>

749
00:46:04,120 --> 00:46:10,259
any malicious file or embedding your

750
00:46:06,280 --> 00:46:13,180
custom stuff in there if the app folder

751
00:46:10,260 --> 00:46:17,590
<font color="#E5E5E5">would know how many file it should have</font>

752
00:46:13,180 --> 00:46:22,210
like let's say<font color="#E5E5E5"> 30</font><font color="#CCCCCC"> then if it would be</font>

753
00:46:17,590 --> 00:46:26,020
verified and on every exit<font color="#CCCCCC"> that so</font><font color="#E5E5E5"> that</font>

754
00:46:22,210 --> 00:46:28,240
would<font color="#E5E5E5"> solve other issues as well</font><font color="#CCCCCC"> and for</font>

755
00:46:26,020 --> 00:46:32,350
some for paid apps they should<font color="#E5E5E5"> only run</font>

756
00:46:28,240 --> 00:46:35,140
if so<font color="#E5E5E5"> applications should verify</font>

757
00:46:32,350 --> 00:46:40,240
themselves if the user actually<font color="#CCCCCC"> purge</font>

758
00:46:35,140 --> 00:46:42,819
purchase that application<font color="#CCCCCC"> or not but</font>

759
00:46:40,240 --> 00:46:48,250
there is I have a research<font color="#E5E5E5"> idea which I</font>

760
00:46:42,820 --> 00:46:51,580
didn't<font color="#E5E5E5"> have time for</font><font color="#CCCCCC"> so as we see</font><font color="#E5E5E5"> before</font>

761
00:46:48,250 --> 00:46:54,210
if you go to launch<font color="#CCCCCC"> pod</font><font color="#E5E5E5"> you can delete</font>

762
00:46:51,580 --> 00:46:57,850
<font color="#CCCCCC">app store installed applications without</font>

763
00:46:54,210 --> 00:47:01,360
<font color="#CCCCCC">authentication and those</font><font color="#E5E5E5"> applications</font>

764
00:46:57,850 --> 00:47:05,110
are owned<font color="#E5E5E5"> by root but you run launch</font>

765
00:47:01,360 --> 00:47:10,300
pods or you give commands<font color="#E5E5E5"> to launch pod</font>

766
00:47:05,110 --> 00:47:13,840
<font color="#E5E5E5">as</font><font color="#CCCCCC"> a regular users so potentially there</font>

767
00:47:10,300 --> 00:47:17,070
is an issue<font color="#E5E5E5"> a user deleting a folder</font>

768
00:47:13,840 --> 00:47:19,930
which<font color="#CCCCCC"> is owned by</font><font color="#E5E5E5"> root but I don't know</font>

769
00:47:17,070 --> 00:47:22,540
how<font color="#E5E5E5"> launch pod</font>

770
00:47:19,930 --> 00:47:24,819
knows which application is<font color="#E5E5E5"> App Store</font>

771
00:47:22,540 --> 00:47:33,550
installed and which are not

772
00:47:24,820 --> 00:47:35,920
cause if you go there<font color="#E5E5E5"> and I hold it down</font>

773
00:47:33,550 --> 00:47:38,320
<font color="#CCCCCC">you see that I cannot remove all of them</font>

774
00:47:35,920 --> 00:47:43,350
just those that<font color="#CCCCCC"> are coming from the</font>

775
00:47:38,320 --> 00:47:47,160
<font color="#CCCCCC">AppStore</font><font color="#E5E5E5"> so there should</font><font color="#CCCCCC"> be some</font>

776
00:47:43,350 --> 00:47:50,920
database that stores this information

777
00:47:47,160 --> 00:47:52,899
<font color="#E5E5E5">but I don't know where it is and and I</font>

778
00:47:50,920 --> 00:47:54,820
don't<font color="#E5E5E5"> know if the user has rights to</font>

779
00:47:52,900 --> 00:47:58,870
edit<font color="#E5E5E5"> the database if the user have</font>

780
00:47:54,820 --> 00:48:02,530
rights to<font color="#CCCCCC"> edit it then then</font><font color="#E5E5E5"> you</font><font color="#CCCCCC"> have a</font>

781
00:47:58,870 --> 00:48:05,350
privileges<font color="#E5E5E5"> issue</font><font color="#CCCCCC"> if not then it's fine I</font>

782
00:48:02,530 --> 00:48:10,570
found that the actual<font color="#E5E5E5"> layout for</font>

783
00:48:05,350 --> 00:48:17,020
<font color="#CCCCCC">launchpad can be found here</font><font color="#E5E5E5"> on this link</font>

784
00:48:10,570 --> 00:48:19,840
and<font color="#CCCCCC"> it's</font><font color="#E5E5E5"> user editable but there is this</font>

785
00:48:17,020 --> 00:48:22,210
is only layout information<font color="#CCCCCC"> so it's a</font>

786
00:48:19,840 --> 00:48:24,310
<font color="#E5E5E5">sequel</font><font color="#CCCCCC"> I'd database and I haven't found</font>

787
00:48:22,210 --> 00:48:27,340
<font color="#E5E5E5">any tables which is actually contains</font>

788
00:48:24,310 --> 00:48:30,009
information about<font color="#E5E5E5"> file location or if it</font>

789
00:48:27,340 --> 00:48:32,020
<font color="#E5E5E5">came</font><font color="#CCCCCC"> from</font><font color="#E5E5E5"> the App</font><font color="#CCCCCC"> Store or</font><font color="#E5E5E5"> whatever or</font>

790
00:48:30,010 --> 00:48:37,540
<font color="#CCCCCC">maybe it's there it just</font><font color="#E5E5E5"> me didn't found</font>

791
00:48:32,020 --> 00:48:44,890
it so that was or thank<font color="#E5E5E5"> you</font>

792
00:48:37,540 --> 00:48:44,890
[Applause]

793
00:48:45,550 --> 00:48:52,240
we have time for<font color="#E5E5E5"> some questions if</font><font color="#CCCCCC"> there</font>

794
00:48:48,280 --> 00:49:00,160
are any<font color="#E5E5E5"> Kyoto</font>

795
00:48:52,240 --> 00:49:02,379
I'm<font color="#E5E5E5"> going</font><font color="#CCCCCC"> to the mic hello</font><font color="#E5E5E5"> thank you for</font>

796
00:49:00,160 --> 00:49:03,940
<font color="#E5E5E5">us a presentation</font><font color="#CCCCCC"> a simple question</font>

797
00:49:02,380 --> 00:49:06,849
about<font color="#E5E5E5"> the package that</font><font color="#CCCCCC"> you modify at the</font>

798
00:49:03,940 --> 00:49:11,109
end<font color="#E5E5E5"> the password one I think this one is</font>

799
00:49:06,849 --> 00:49:14,260
been in sign<font color="#E5E5E5"> of I did</font><font color="#CCCCCC"> app developer</font>

800
00:49:11,109 --> 00:49:15,520
behind<font color="#CCCCCC"> this package or not no so the</font>

801
00:49:14,260 --> 00:49:17,770
application<font color="#E5E5E5"> is not</font><font color="#CCCCCC"> as saw the new</font>

802
00:49:15,520 --> 00:49:20,589
package<font color="#CCCCCC"> I create it's not signed the</font>

803
00:49:17,770 --> 00:49:23,200
<font color="#CCCCCC">previous ones that you used the</font><font color="#E5E5E5"> previous</font>

804
00:49:20,589 --> 00:49:27,220
one no no so the past<font color="#CCCCCC"> third ones that</font>

805
00:49:23,200 --> 00:49:28,990
you modify its sign on that<font color="#E5E5E5"> sign not not</font>

806
00:49:27,220 --> 00:49:30,879
<font color="#E5E5E5">the external package but there is an</font>

807
00:49:28,990 --> 00:49:32,950
embedded package and I believe that<font color="#E5E5E5"> is</font>

808
00:49:30,880 --> 00:49:34,960
signed<font color="#CCCCCC"> so what if you use this embedded</font>

809
00:49:32,950 --> 00:49:37,598
package<font color="#CCCCCC"> at this sign</font><font color="#E5E5E5"> when you reveal it</font>

810
00:49:34,960 --> 00:49:40,270
you<font color="#E5E5E5"> can add this</font><font color="#CCCCCC"> signature</font><font color="#E5E5E5"> and the new</font>

811
00:49:37,599 --> 00:49:41,770
package you know to you yeah you<font color="#E5E5E5"> can use</font>

812
00:49:40,270 --> 00:49:44,619
the<font color="#E5E5E5"> package as the old version of the</font>

813
00:49:41,770 --> 00:49:47,440
<font color="#E5E5E5">package manager from Apple and</font><font color="#CCCCCC"> you can</font>

814
00:49:44,619 --> 00:49:48,970
add<font color="#E5E5E5"> your own package and specify I would</font>

815
00:49:47,440 --> 00:49:52,359
like to use<font color="#E5E5E5"> these kind of signatures</font>

816
00:49:48,970 --> 00:49:53,799
from this<font color="#CCCCCC"> up developers one of the</font>

817
00:49:52,359 --> 00:49:55,390
tricks<font color="#E5E5E5"> that you can do so you</font><font color="#CCCCCC"> can</font>

818
00:49:53,800 --> 00:49:58,450
already<font color="#E5E5E5"> read yours but you can also</font>

819
00:49:55,390 --> 00:50:00,670
specify<font color="#E5E5E5"> I instead to rebuild without</font>

820
00:49:58,450 --> 00:50:03,399
signing<font color="#E5E5E5"> you can say oh and by</font><font color="#CCCCCC"> the way I</font>

821
00:50:00,670 --> 00:50:07,180
would<font color="#E5E5E5"> like to to use this app developer</font>

822
00:50:03,400 --> 00:50:10,890
<font color="#E5E5E5">from the previous package okay</font><font color="#CCCCCC"> we can</font>

823
00:50:07,180 --> 00:50:10,890
talk about<font color="#E5E5E5"> that</font><font color="#CCCCCC"> later okay thank you</font>

824
00:50:10,980 --> 00:50:25,030
any more questions over there<font color="#CCCCCC"> thanks for</font>

825
00:50:20,470 --> 00:50:27,310
<font color="#CCCCCC">the talk so have you encountered in the</font>

826
00:50:25,030 --> 00:50:30,910
communication with Apple as you filed

827
00:50:27,310 --> 00:50:33,430
<font color="#E5E5E5">that to Apple</font><font color="#CCCCCC"> about the notary system</font>

828
00:50:30,910 --> 00:50:37,750
that they are<font color="#E5E5E5"> inventing or not inventing</font>

829
00:50:33,430 --> 00:50:39,040
that<font color="#E5E5E5"> they switch on pretty soon what is</font>

830
00:50:37,750 --> 00:50:42,970
the feedback from Apple on<font color="#CCCCCC"> the</font>

831
00:50:39,040 --> 00:50:46,329
notarizing<font color="#E5E5E5"> all installers you are aware</font>

832
00:50:42,970 --> 00:50:50,078
of<font color="#CCCCCC"> that now Apple has a program that</font>

833
00:50:46,329 --> 00:50:52,240
soon could<font color="#E5E5E5"> be any any time in the next</font>

834
00:50:50,079 --> 00:50:54,140
<font color="#E5E5E5">few months and weeks and that they</font>

835
00:50:52,240 --> 00:50:56,598
require that<font color="#CCCCCC"> that</font>

836
00:50:54,140 --> 00:50:59,558
default installers have to be notarized

837
00:50:56,599 --> 00:51:02,930
so there's another mechanism<font color="#CCCCCC"> of</font><font color="#E5E5E5"> Apple of</font>

838
00:50:59,559 --> 00:51:04,940
<font color="#E5E5E5">checking where the source of a package</font>

839
00:51:02,930 --> 00:51:08,450
is coming<font color="#E5E5E5"> from so</font><font color="#CCCCCC"> and</font><font color="#E5E5E5"> this should</font>

840
00:51:04,940 --> 00:51:12,170
prevent such things<font color="#E5E5E5"> I think they're</font>

841
00:51:08,450 --> 00:51:15,250
<font color="#CCCCCC">still yeah</font><font color="#E5E5E5"> ways to surround that but</font>

842
00:51:12,170 --> 00:51:18,740
however so<font color="#CCCCCC"> but at least would have</font>

843
00:51:15,250 --> 00:51:19,519
hinted you to that future<font color="#E5E5E5"> mechanism they</font>

844
00:51:18,740 --> 00:51:23,359
will build in

845
00:51:19,519 --> 00:51:26,269
no actually it's<font color="#CCCCCC"> very</font><font color="#E5E5E5"> hard to</font>

846
00:51:23,359 --> 00:51:28,700
communicate<font color="#E5E5E5"> it</font><font color="#CCCCCC"> ever in my experience so</font>

847
00:51:26,269 --> 00:51:33,769
compared<font color="#CCCCCC"> to my so Microsoft has a very</font>

848
00:51:28,700 --> 00:51:35,328
mature<font color="#E5E5E5"> program for reporting security</font>

849
00:51:33,769 --> 00:51:39,189
issues and<font color="#E5E5E5"> they</font><font color="#CCCCCC"> are</font><font color="#E5E5E5"> very fast and</font>

850
00:51:35,329 --> 00:51:41,690
responsive<font color="#E5E5E5"> sending anything to Apple</font>

851
00:51:39,190 --> 00:51:45,170
usually you<font color="#E5E5E5"> get a notification yet</font><font color="#CCCCCC"> that</font>

852
00:51:41,690 --> 00:51:47,480
we recorded it but then they usually

853
00:51:45,170 --> 00:51:50,539
don't send you any updates<font color="#E5E5E5"> until you ask</font>

854
00:51:47,480 --> 00:51:54,589
them about<font color="#CCCCCC"> the status and even if you</font>

855
00:51:50,539 --> 00:51:57,049
ask them then it can take like<font color="#E5E5E5"> two</font><font color="#CCCCCC"> weeks</font>

856
00:51:54,589 --> 00:52:00,349
before<font color="#E5E5E5"> you get any answer and they are</font>

857
00:51:57,049 --> 00:52:07,309
usually<font color="#E5E5E5"> very short and don't provide you</font>

858
00:52:00,349 --> 00:52:09,349
with too much<font color="#E5E5E5"> information so</font><font color="#CCCCCC"> I what</font><font color="#E5E5E5"> so</font>

859
00:52:07,309 --> 00:52:11,329
the issue<font color="#CCCCCC"> which I had with</font><font color="#E5E5E5"> two</font><font color="#CCCCCC"> persons</font>

860
00:52:09,349 --> 00:52:13,490
initially even<font color="#E5E5E5"> I submitted this talk I</font>

861
00:52:11,329 --> 00:52:18,829
was still in the process of<font color="#E5E5E5"> dealing with</font>

862
00:52:13,490 --> 00:52:22,640
Apple as closure and and I had very<font color="#CCCCCC"> hard</font>

863
00:52:18,829 --> 00:52:25,279
times getting like an authorization from

864
00:52:22,640 --> 00:52:27,980
them for presenting this it took me like

865
00:52:25,279 --> 00:52:31,759
two or three<font color="#E5E5E5"> months just to get that and</font>

866
00:52:27,980 --> 00:52:37,160
I I literally<font color="#CCCCCC"> send them like emails for</font>

867
00:52:31,759 --> 00:52:40,759
weeks and with no response so with that

868
00:52:37,160 --> 00:52:43,220
in<font color="#CCCCCC"> mind they they didn't even get me</font>

869
00:52:40,759 --> 00:52:46,730
back if they had anything in mind how<font color="#E5E5E5"> to</font>

870
00:52:43,220 --> 00:52:49,609
fix things<font color="#E5E5E5"> and even they didn't tell me</font>

871
00:52:46,730 --> 00:52:53,420
<font color="#E5E5E5">they didn't</font><font color="#CCCCCC"> told me how they fix the</font>

872
00:52:49,609 --> 00:52:56,210
<font color="#E5E5E5">issue in Mojave</font><font color="#CCCCCC"> I just realized that it</font>

873
00:52:53,420 --> 00:53:00,140
<font color="#E5E5E5">doesn't work and and I actually spent</font>

874
00:52:56,210 --> 00:53:07,250
time a few<font color="#E5E5E5"> weeks ago to to check what's</font>

875
00:53:00,140 --> 00:53:11,129
the fix<font color="#E5E5E5"> what is the fixed early so</font>

876
00:53:07,250 --> 00:53:13,030
unfortunately<font color="#CCCCCC"> no which they would thanks</font>

877
00:53:11,130 --> 00:53:15,629
again<font color="#E5E5E5"> trouble</font>

878
00:53:13,030 --> 00:53:15,629
[Applause]

