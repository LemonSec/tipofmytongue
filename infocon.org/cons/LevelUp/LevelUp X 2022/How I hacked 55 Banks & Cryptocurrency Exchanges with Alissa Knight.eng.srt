1
00:00:00,000 --> 00:00:01,839
hey what's up everyone alyssa knight

2
00:00:01,839 --> 00:00:04,799
here i am so grateful to be this year's

3
00:00:04,799 --> 00:00:07,200
keynote speaker at bug crowds level up

4
00:00:07,200 --> 00:00:09,360
conference i want to thank bug crowd for

5
00:00:09,360 --> 00:00:11,120
allowing me to speak on my recent

6
00:00:11,120 --> 00:00:14,559
research scorched earth how i hacked 55

7
00:00:14,559 --> 00:00:16,239
banks in cryptocurrency exchanges

8
00:00:16,239 --> 00:00:18,800
through their apis so without further

9
00:00:18,800 --> 00:00:22,240
ado let's get started

10
00:00:24,000 --> 00:00:25,920
i'd like to start my presentations out

11
00:00:25,920 --> 00:00:28,880
with this quote if i were to advise a

12
00:00:28,880 --> 00:00:30,400
hostile nation state

13
00:00:30,400 --> 00:00:32,640
on how to take down the u.s financial

14
00:00:32,640 --> 00:00:34,399
system i would tell them to start with

15
00:00:34,399 --> 00:00:35,840
the apis first

16
00:00:35,840 --> 00:00:37,920
our financial services infrastructure is

17
00:00:37,920 --> 00:00:41,920
a carefully woven fabric of apis that

18
00:00:41,920 --> 00:00:43,760
are allowing financial services and

19
00:00:43,760 --> 00:00:45,840
fintech companies all to talk to each

20
00:00:45,840 --> 00:00:46,640
other

21
00:00:46,640 --> 00:00:50,000
apis are ubiquitous occur across every

22
00:00:50,000 --> 00:00:51,840
industry not just financial services but

23
00:00:51,840 --> 00:00:54,719
also healthcare and even passenger

24
00:00:54,719 --> 00:00:56,960
transport vehicles yeah pretty much

25
00:00:56,960 --> 00:01:00,079
every car made after 2001 communicates

26
00:01:00,079 --> 00:01:01,760
with an api so if you think you're not

27
00:01:01,760 --> 00:01:02,960
impervious to being hacked because

28
00:01:02,960 --> 00:01:04,879
you're not driving around in tesla think

29
00:01:04,879 --> 00:01:05,760
again

30
00:01:05,760 --> 00:01:07,360
anyway so

31
00:01:07,360 --> 00:01:11,439
this quote really just underscores

32
00:01:11,439 --> 00:01:14,240
the threat that we are all facing today

33
00:01:14,240 --> 00:01:16,720
no matter what the sector is we've moved

34
00:01:16,720 --> 00:01:18,400
away from this world of monolithic

35
00:01:18,400 --> 00:01:21,119
applications to apis where applications

36
00:01:21,119 --> 00:01:23,119
are talking applications and devices to

37
00:01:23,119 --> 00:01:26,320
applications all being powered and

38
00:01:26,320 --> 00:01:28,400
plumped through apis

39
00:01:28,400 --> 00:01:30,000
apas have pretty much become the

40
00:01:30,000 --> 00:01:32,479
plumbing for our entire world we strong

41
00:01:32,479 --> 00:01:34,079
people cyberspace is the ultimate

42
00:01:34,079 --> 00:01:35,680
equalizer

43
00:01:35,680 --> 00:01:38,799
i don't have the resources the money or

44
00:01:38,799 --> 00:01:41,840
the military superiority of the united

45
00:01:41,840 --> 00:01:44,240
states for example yet

46
00:01:44,240 --> 00:01:46,399
just being able to target and breach

47
00:01:46,399 --> 00:01:48,560
apis i have the ability to take down

48
00:01:48,560 --> 00:01:50,640
major critical infrastructure simply

49
00:01:50,640 --> 00:01:53,200
because these apis are unprotected and

50
00:01:53,200 --> 00:01:54,720
this research that i'm going to be

51
00:01:54,720 --> 00:01:57,759
presenting to you today underscores how

52
00:01:57,759 --> 00:01:59,759
serious of a problem it can be when

53
00:01:59,759 --> 00:02:01,119
things like

54
00:02:01,119 --> 00:02:04,000
our financial system is not properly

55
00:02:04,000 --> 00:02:06,960
hardened with api security solutions

56
00:02:06,960 --> 00:02:08,800
so i'm for those of you who don't know

57
00:02:08,800 --> 00:02:10,639
who i am and if this is our first time

58
00:02:10,639 --> 00:02:12,560
being introduced it's nice to meet you

59
00:02:12,560 --> 00:02:14,000
i'm melissa knight i'm going to talk a

60
00:02:14,000 --> 00:02:15,280
little bit about who i am in my

61
00:02:15,280 --> 00:02:18,160
background what the heck apis are i'm

62
00:02:18,160 --> 00:02:19,440
going to talk a little bit more about

63
00:02:19,440 --> 00:02:22,319
this research uh the summary of findings

64
00:02:22,319 --> 00:02:24,160
so screenshots and evidence in case

65
00:02:24,160 --> 00:02:26,000
you're thinking you know what alyssa

66
00:02:26,000 --> 00:02:27,840
this sounds too crazy there's no way you

67
00:02:27,840 --> 00:02:28,800
did this

68
00:02:28,800 --> 00:02:31,200
i'll be presenting evidence today and

69
00:02:31,200 --> 00:02:33,120
what i learned from robbing these banks

70
00:02:33,120 --> 00:02:35,200
from the comfort of my own home

71
00:02:35,200 --> 00:02:36,640
and then i'm going to close this

72
00:02:36,640 --> 00:02:39,040
presentation with and ask me anything an

73
00:02:39,040 --> 00:02:40,560
opportunity for you to pretty much ask

74
00:02:40,560 --> 00:02:42,160
me any question you want

75
00:02:42,160 --> 00:02:45,280
all right so who am i uh i was arrested

76
00:02:45,280 --> 00:02:46,640
for a hacking government network when i

77
00:02:46,640 --> 00:02:48,239
was 17. i like to say that i'm a

78
00:02:48,239 --> 00:02:49,840
recovering hacker

79
00:02:49,840 --> 00:02:51,440
when the charges were subsequently

80
00:02:51,440 --> 00:02:53,200
dropped i began working for the us

81
00:02:53,200 --> 00:02:55,440
intelligence community in cyber warfare

82
00:02:55,440 --> 00:02:57,200
i'm a recovering hacker recovering

83
00:02:57,200 --> 00:02:59,360
entrepreneur recovering perfectionist if

84
00:02:59,360 --> 00:03:01,760
you will um and an adversarial content

85
00:03:01,760 --> 00:03:03,440
creator now you're probably wondering

86
00:03:03,440 --> 00:03:05,519
okay alyssa what the heck is adversarial

87
00:03:05,519 --> 00:03:08,319
content so i turned i coined this term

88
00:03:08,319 --> 00:03:10,800
back in 2019

89
00:03:10,800 --> 00:03:13,200
when i started creating white papers

90
00:03:13,200 --> 00:03:15,440
that demonstrated the efficacy of cyber

91
00:03:15,440 --> 00:03:17,760
security products by hacking something i

92
00:03:17,760 --> 00:03:20,640
believe that csos and we just in general

93
00:03:20,640 --> 00:03:22,560
security engineers are sick and tired of

94
00:03:22,560 --> 00:03:25,840
the typical marketing fodder of cyber

95
00:03:25,840 --> 00:03:28,480
security vendors of their features and

96
00:03:28,480 --> 00:03:30,799
their capabilities and their machine

97
00:03:30,799 --> 00:03:33,280
learning and i i wanted to create a

98
00:03:33,280 --> 00:03:35,920
different kind of content so i started a

99
00:03:35,920 --> 00:03:38,319
company called night inc that basically

100
00:03:38,319 --> 00:03:41,120
disrupted cyber security marketing

101
00:03:41,120 --> 00:03:44,560
in general by creating these new form of

102
00:03:44,560 --> 00:03:46,640
white papers that

103
00:03:46,640 --> 00:03:48,159
tells the story through the lens of the

104
00:03:48,159 --> 00:03:50,560
adversary so what i do is i hack a

105
00:03:50,560 --> 00:03:52,720
network and then show how the company's

106
00:03:52,720 --> 00:03:54,799
product would have prevented it and if

107
00:03:54,799 --> 00:03:57,599
it didn't prevent it uh so this is a

108
00:03:57,599 --> 00:04:00,400
concept i i coined as adversarial

109
00:04:00,400 --> 00:04:03,200
content i am a published author i can i

110
00:04:03,200 --> 00:04:04,640
published the first book on hacking

111
00:04:04,640 --> 00:04:07,200
connected cars in 2019 under wiley now

112
00:04:07,200 --> 00:04:08,720
i'm working on a new book on hacking

113
00:04:08,720 --> 00:04:10,400
apis

114
00:04:10,400 --> 00:04:12,239
and that will be coming out sometime

115
00:04:12,239 --> 00:04:14,159
this year under our own publishing

116
00:04:14,159 --> 00:04:16,238
company night publishing

117
00:04:16,238 --> 00:04:19,279
uh okay so my experience in hacking apis

118
00:04:19,279 --> 00:04:21,519
goes back quite a bit i first started

119
00:04:21,519 --> 00:04:23,759
out hacking 30 financial services mobile

120
00:04:23,759 --> 00:04:26,479
apps um and fintech mobile apps back in

121
00:04:26,479 --> 00:04:28,400
2019

122
00:04:28,400 --> 00:04:31,360
and then i hacked 30 m health apps

123
00:04:31,360 --> 00:04:35,040
don't ask me what's within 30 app thing

124
00:04:35,040 --> 00:04:37,440
i don't know i i ended up just starting

125
00:04:37,440 --> 00:04:40,080
out with 30 and it just kind of became a

126
00:04:40,080 --> 00:04:42,560
theme so sticking to that thematic

127
00:04:42,560 --> 00:04:45,520
expression i i stayed with 30. um so

128
00:04:45,520 --> 00:04:47,600
then i went on to hacking 30 ml health

129
00:04:47,600 --> 00:04:49,199
apps and apis giving me access to

130
00:04:49,199 --> 00:04:51,280
millions of patient records showing how

131
00:04:51,280 --> 00:04:53,840
vulnerable this mhealth api

132
00:04:53,840 --> 00:04:55,360
infrastructure is

133
00:04:55,360 --> 00:04:57,360
in this pandemic that we're living in

134
00:04:57,360 --> 00:04:58,880
now

135
00:04:58,880 --> 00:05:02,479
um in 2021 i also published research on

136
00:05:02,479 --> 00:05:03,520
hacking

137
00:05:03,520 --> 00:05:05,919
law enforcement vehicles remotely

138
00:05:05,919 --> 00:05:08,479
through apis actually demonstrating how

139
00:05:08,479 --> 00:05:10,800
i could lock and unlock the doors and

140
00:05:10,800 --> 00:05:12,479
start and stop the engine of course with

141
00:05:12,479 --> 00:05:14,240
the law enforcement vehicle that is

142
00:05:14,240 --> 00:05:16,240
incredibly dangerous

143
00:05:16,240 --> 00:05:18,560
and then shortly later

144
00:05:18,560 --> 00:05:21,440
began hacking fire apis in the

145
00:05:21,440 --> 00:05:23,039
healthcare sector fast healthcare

146
00:05:23,039 --> 00:05:25,360
interoperability and resources

147
00:05:25,360 --> 00:05:28,240
this came out of 21st century

148
00:05:28,240 --> 00:05:30,960
cures act as a mandate

149
00:05:30,960 --> 00:05:33,919
by capitol hill and lawmakers to make

150
00:05:33,919 --> 00:05:35,919
healthcare payers and healthcare

151
00:05:35,919 --> 00:05:37,120
providers

152
00:05:37,120 --> 00:05:39,680
provide our patient data through fire

153
00:05:39,680 --> 00:05:41,840
apis um

154
00:05:41,840 --> 00:05:44,560
and uh that report was called playing

155
00:05:44,560 --> 00:05:46,800
with fire uh you can download that

156
00:05:46,800 --> 00:05:49,199
report as well and i'm also a cyber

157
00:05:49,199 --> 00:05:50,639
security filmmaker and you're probably

158
00:05:50,639 --> 00:05:52,560
thinking alyssa oh my god you're doing

159
00:05:52,560 --> 00:05:54,080
all these things what the heck what's

160
00:05:54,080 --> 00:05:57,120
with this filmmaker thing so

161
00:05:57,120 --> 00:05:58,960
building on the success of our

162
00:05:58,960 --> 00:06:01,840
adversarial content in written form in

163
00:06:01,840 --> 00:06:04,160
written experience we wanted to create

164
00:06:04,160 --> 00:06:07,600
visual experience so my wife and i male

165
00:06:07,600 --> 00:06:11,199
formed night studios and now we are

166
00:06:11,199 --> 00:06:14,560
creating cinematic films for cyber

167
00:06:14,560 --> 00:06:17,120
security vendors uh demonstrating the

168
00:06:17,120 --> 00:06:20,080
efficacy of their product in a story arc

169
00:06:20,080 --> 00:06:22,960
so we are now filming in hollywood uh

170
00:06:22,960 --> 00:06:24,720
and in las vegas

171
00:06:24,720 --> 00:06:27,120
cinematic short films basically bringing

172
00:06:27,120 --> 00:06:28,960
industrial light and magic to cyber

173
00:06:28,960 --> 00:06:31,759
security and our new film is going to be

174
00:06:31,759 --> 00:06:35,360
premiering at amc movie theaters at rsa

175
00:06:35,360 --> 00:06:37,680
in june so we're super excited about

176
00:06:37,680 --> 00:06:40,160
that all right so let's move on what

177
00:06:40,160 --> 00:06:42,880
exactly is an api right you're probably

178
00:06:42,880 --> 00:06:44,560
thinking okay alyssa i don't understand

179
00:06:44,560 --> 00:06:46,720
what is appy well you know when i walked

180
00:06:46,720 --> 00:06:48,160
into this i really actually couldn't

181
00:06:48,160 --> 00:06:50,720
spell api um i had to learn along the

182
00:06:50,720 --> 00:06:52,880
way like my other vulnerability research

183
00:06:52,880 --> 00:06:54,560
but basically the best way to describe

184
00:06:54,560 --> 00:06:56,720
apis is it basically is glue that allows

185
00:06:56,720 --> 00:07:00,080
applications to talk to one another um

186
00:07:00,080 --> 00:07:01,759
let's say for example in the analogy of

187
00:07:01,759 --> 00:07:03,680
a restaurant we're all going to have

188
00:07:03,680 --> 00:07:05,919
something to eat we look at the menus we

189
00:07:05,919 --> 00:07:07,520
decide what we're going to order we

190
00:07:07,520 --> 00:07:09,599
place that order with the waiter and the

191
00:07:09,599 --> 00:07:11,680
waiter brings that order to the backend

192
00:07:11,680 --> 00:07:12,720
kitchen

193
00:07:12,720 --> 00:07:15,759
where the chef is going to cook it and

194
00:07:15,759 --> 00:07:18,240
then hopefully deliver back our food

195
00:07:18,240 --> 00:07:20,800
where we can eat it this is a great

196
00:07:20,800 --> 00:07:24,160
analogy of an api consumer uh talking to

197
00:07:24,160 --> 00:07:27,520
an api and that api requests the data

198
00:07:27,520 --> 00:07:29,280
from the backend servers and delivers it

199
00:07:29,280 --> 00:07:31,759
back to us as the apa consumer this

200
00:07:31,759 --> 00:07:33,759
could be a mobile app it could be a car

201
00:07:33,759 --> 00:07:34,800
it could be

202
00:07:34,800 --> 00:07:37,520
anything so that's an api so about the

203
00:07:37,520 --> 00:07:38,960
research uh

204
00:07:38,960 --> 00:07:39,919
this

205
00:07:39,919 --> 00:07:43,440
i deviated from the 30 app history i had

206
00:07:43,440 --> 00:07:46,720
uh but uh this was 55 apps uh made up of

207
00:07:46,720 --> 00:07:49,440
banks neo banks cryptocurrency exchanges

208
00:07:49,440 --> 00:07:50,879
i wanted to go after all financial

209
00:07:50,879 --> 00:07:53,520
services and fintech no victim was

210
00:07:53,520 --> 00:07:54,720
spared

211
00:07:54,720 --> 00:07:56,560
many of the apis were deployed behind

212
00:07:56,560 --> 00:07:59,360
web application firewalls shame on you

213
00:07:59,360 --> 00:08:01,919
stop doing that i get that apis speak

214
00:08:01,919 --> 00:08:04,160
the http protocol but don't secure them

215
00:08:04,160 --> 00:08:05,919
like you would a web server

216
00:08:05,919 --> 00:08:07,680
you need an api threat management

217
00:08:07,680 --> 00:08:10,000
solution and this research is proving

218
00:08:10,000 --> 00:08:12,560
why you do and why waffs fail

219
00:08:12,560 --> 00:08:14,720
a majority of the apis that i was able

220
00:08:14,720 --> 00:08:16,240
to breach in working with financial

221
00:08:16,240 --> 00:08:17,759
services companies were actually

222
00:08:17,759 --> 00:08:20,560
protected behind wafs and why do wafs

223
00:08:20,560 --> 00:08:23,520
suck for securing apis because of the

224
00:08:23,520 --> 00:08:24,960
fact that they don't understand business

225
00:08:24,960 --> 00:08:26,720
logic they don't understand if i'm

226
00:08:26,720 --> 00:08:28,960
logged in as a listen knight why am i

227
00:08:28,960 --> 00:08:32,080
requesting the data of carl matson

228
00:08:32,080 --> 00:08:34,240
that is an authorization vulnerability

229
00:08:34,240 --> 00:08:36,399
i'm authenticated but i'm not authorized

230
00:08:36,399 --> 00:08:37,760
to request

231
00:08:37,760 --> 00:08:40,399
a wire transfer from carl's account

232
00:08:40,399 --> 00:08:43,599
uh or any of his financial information

233
00:08:43,599 --> 00:08:45,440
uh none of the apis i tested had

234
00:08:45,440 --> 00:08:47,920
undergone pen testing i i don't know

235
00:08:47,920 --> 00:08:50,560
what the what the deal is here uh i

236
00:08:50,560 --> 00:08:53,279
think you know in in my conversations

237
00:08:53,279 --> 00:08:54,959
with organizations basically it came

238
00:08:54,959 --> 00:08:57,839
down to we were doing our required

239
00:08:57,839 --> 00:09:00,240
annual pen testing we didn't have any

240
00:09:00,240 --> 00:09:02,800
apis in development and we didn't want

241
00:09:02,800 --> 00:09:05,360
them going after production apis they

242
00:09:05,360 --> 00:09:06,880
are talking to

243
00:09:06,880 --> 00:09:10,160
venmo or you know um these other p2p

244
00:09:10,160 --> 00:09:12,560
payment services or this fintech or this

245
00:09:12,560 --> 00:09:14,240
been served and

246
00:09:14,240 --> 00:09:16,640
they didn't want to risk it going down

247
00:09:16,640 --> 00:09:18,959
so the apis were left out of scope

248
00:09:18,959 --> 00:09:21,360
i know i every organization of course is

249
00:09:21,360 --> 00:09:23,600
different in their in their reasoning um

250
00:09:23,600 --> 00:09:24,320
but

251
00:09:24,320 --> 00:09:26,080
whatever the reason is it's not a good

252
00:09:26,080 --> 00:09:28,399
reason

253
00:09:29,600 --> 00:09:31,839
okay so maybe you're thinking

254
00:09:31,839 --> 00:09:33,360
oh alyssa

255
00:09:33,360 --> 00:09:35,040
these were community banks these were

256
00:09:35,040 --> 00:09:36,560
small banks that didn't have a cyber

257
00:09:36,560 --> 00:09:38,480
security budget of course you were able

258
00:09:38,480 --> 00:09:42,640
to hack all these things um no

259
00:09:42,800 --> 00:09:44,399
i wanted to provide some demographic

260
00:09:44,399 --> 00:09:46,399
information to all of you on my targets

261
00:09:46,399 --> 00:09:48,720
here in the sampling the headquarters

262
00:09:48,720 --> 00:09:51,519
for the banks and credit unions were 19

263
00:09:51,519 --> 00:09:54,480
in the united states um you know four of

264
00:09:54,480 --> 00:09:55,839
them had over a hundred thousand

265
00:09:55,839 --> 00:09:58,320
employees five of them had over 50 000

266
00:09:58,320 --> 00:10:00,959
employees assets under management 11 had

267
00:10:00,959 --> 00:10:03,519
over 100 billion in assets four of them

268
00:10:03,519 --> 00:10:06,000
had over one trillion in assets and

269
00:10:06,000 --> 00:10:08,000
account holders you're talking about

270
00:10:08,000 --> 00:10:10,240
three of the targets having over 11

271
00:10:10,240 --> 00:10:12,880
million uh account holders two of them

272
00:10:12,880 --> 00:10:15,279
had over 50 million account holders

273
00:10:15,279 --> 00:10:17,600
so the demographics for the targets were

274
00:10:17,600 --> 00:10:19,440
all over the board it wasn't a small

275
00:10:19,440 --> 00:10:21,519
company problem versus a big company

276
00:10:21,519 --> 00:10:25,360
problem it's an all of us problem

277
00:10:25,360 --> 00:10:26,880
the neobanks those of you who don't know

278
00:10:26,880 --> 00:10:28,800
what a neobank is it's basically digital

279
00:10:28,800 --> 00:10:30,880
bank it's got no brick and mortar

280
00:10:30,880 --> 00:10:34,000
branches uh it's it's the branchless

281
00:10:34,000 --> 00:10:35,519
bank um

282
00:10:35,519 --> 00:10:38,480
headquarters 17 three were in the uk one

283
00:10:38,480 --> 00:10:39,839
was in canada

284
00:10:39,839 --> 00:10:42,160
uh number of employees you know these

285
00:10:42,160 --> 00:10:44,000
were all over the board some of them had

286
00:10:44,000 --> 00:10:46,399
over a hundred to 500 employees

287
00:10:46,399 --> 00:10:48,720
assets under management some had over 5

288
00:10:48,720 --> 00:10:50,800
billion to 10 billion in assets i mean

289
00:10:50,800 --> 00:10:52,800
these were not small companies these

290
00:10:52,800 --> 00:10:55,360
were medium to large size organizations

291
00:10:55,360 --> 00:10:57,360
some had over 1 million to 10 million

292
00:10:57,360 --> 00:10:59,920
account holders uh the cryptocurrency

293
00:10:59,920 --> 00:11:02,160
exchanges five were in the us one in the

294
00:11:02,160 --> 00:11:04,640
uk three in asia crypto under management

295
00:11:04,640 --> 00:11:07,279
between one and one billion um account

296
00:11:07,279 --> 00:11:10,000
holders between 1.1 billion and 10

297
00:11:10,000 --> 00:11:11,120
billion and

298
00:11:11,120 --> 00:11:13,279
held by customers assets under

299
00:11:13,279 --> 00:11:14,399
management

300
00:11:14,399 --> 00:11:16,720
over 10 billion you know these are large

301
00:11:16,720 --> 00:11:18,640
organizations right

302
00:11:18,640 --> 00:11:21,120
okay so you're probably thinking alyssa

303
00:11:21,120 --> 00:11:23,279
this all sounds amazing get to the meat

304
00:11:23,279 --> 00:11:25,200
of the sandwich all right here it is are

305
00:11:25,200 --> 00:11:26,839
you sitting down are you ready for this

306
00:11:26,839 --> 00:11:29,680
okay uh i was able to actually move

307
00:11:29,680 --> 00:11:32,240
money in and out of accounts using these

308
00:11:32,240 --> 00:11:34,800
vulnerabilities um a majority of the

309
00:11:34,800 --> 00:11:36,240
vulnerabilities were what are called

310
00:11:36,240 --> 00:11:38,399
broken object level authorization or

311
00:11:38,399 --> 00:11:41,040
bola and we will talk about that shortly

312
00:11:41,040 --> 00:11:42,880
but i just want you to know that as long

313
00:11:42,880 --> 00:11:44,959
as i knew the account number and we all

314
00:11:44,959 --> 00:11:46,720
know this isn't top secret right it's

315
00:11:46,720 --> 00:11:49,440
printed at the bottom of checks um you

316
00:11:49,440 --> 00:11:50,399
know

317
00:11:50,399 --> 00:11:52,639
goodness uh

318
00:11:52,639 --> 00:11:53,519
if you

319
00:11:53,519 --> 00:11:55,120
walk into a branch and open an account

320
00:11:55,120 --> 00:11:56,399
you get an account number then you can

321
00:11:56,399 --> 00:11:59,040
cycle through all the other numbers uh

322
00:11:59,040 --> 00:12:00,959
because now that you've got the syntax

323
00:12:00,959 --> 00:12:03,360
all right able to change visa debit pin

324
00:12:03,360 --> 00:12:05,760
codes of any bank customer if i knew the

325
00:12:05,760 --> 00:12:07,920
debit card number of any customer and of

326
00:12:07,920 --> 00:12:09,200
course i could cycle through them as

327
00:12:09,200 --> 00:12:12,160
long as i had one um i could change the

328
00:12:12,160 --> 00:12:15,040
pin code of any of the customers debit

329
00:12:15,040 --> 00:12:17,519
cards uh two most common vulnerabilities

330
00:12:17,519 --> 00:12:21,440
were api 1 2019 like i said bola and api

331
00:12:21,440 --> 00:12:23,920
2 2019 or broken authentication

332
00:12:23,920 --> 00:12:26,560
coincidentally osp api security top 10

333
00:12:26,560 --> 00:12:28,480
number one and number two

334
00:12:28,480 --> 00:12:32,480
54 of the 55 mobile apps that i reverse

335
00:12:32,480 --> 00:12:34,800
engineered contain hard-coded keys and

336
00:12:34,800 --> 00:12:36,839
tokens as well as usernames and

337
00:12:36,839 --> 00:12:40,480
passwords shame shame stop doing that uh

338
00:12:40,480 --> 00:12:43,440
it is very easy to extract an android

339
00:12:43,440 --> 00:12:45,200
app off of an android device throw it

340
00:12:45,200 --> 00:12:46,720
into something like mobile security

341
00:12:46,720 --> 00:12:48,880
framework and search for hard-coded keys

342
00:12:48,880 --> 00:12:51,120
and tokens and other api secrets stop

343
00:12:51,120 --> 00:12:53,279
doing it i get that you have to do it

344
00:12:53,279 --> 00:12:55,040
but at least make it hard for me by

345
00:12:55,040 --> 00:12:57,279
obfuscating the code

346
00:12:57,279 --> 00:12:59,040
all of the apps all of them were

347
00:12:59,040 --> 00:13:00,240
vulnerable to women in the middle

348
00:13:00,240 --> 00:13:01,760
attacks or what i like called with them

349
00:13:01,760 --> 00:13:04,399
um or as many of you previously referred

350
00:13:04,399 --> 00:13:05,760
to it as man in the middle of text but

351
00:13:05,760 --> 00:13:07,760
basically i was sitting

352
00:13:07,760 --> 00:13:10,320
in the communication session between the

353
00:13:10,320 --> 00:13:13,040
uh api client like the mobile app or the

354
00:13:13,040 --> 00:13:16,079
web app and then the backend apis sent

355
00:13:16,079 --> 00:13:19,120
ssl tls certificates in both directions

356
00:13:19,120 --> 00:13:20,959
and they thought they were communicating

357
00:13:20,959 --> 00:13:22,880
with the other end it was really me and

358
00:13:22,880 --> 00:13:24,240
i was able to decrypt the traffic and

359
00:13:24,240 --> 00:13:26,160
learn how the api worked

360
00:13:26,160 --> 00:13:27,120
all right

361
00:13:27,120 --> 00:13:30,079
the actual architecture of the attack

362
00:13:30,079 --> 00:13:32,560
again this was me sitting in the middle

363
00:13:32,560 --> 00:13:34,959
um postman if you're in the audience i

364
00:13:34,959 --> 00:13:36,880
love your tool call me i would love to

365
00:13:36,880 --> 00:13:39,760
create content for you but um basically

366
00:13:39,760 --> 00:13:41,600
ran the financial services mobile app on

367
00:13:41,600 --> 00:13:44,079
my mobile phone uh that communicated

368
00:13:44,079 --> 00:13:46,000
with my laptop which was running either

369
00:13:46,000 --> 00:13:48,320
burp suite these days i'm using more

370
00:13:48,320 --> 00:13:50,639
burp suite previously i would use minim

371
00:13:50,639 --> 00:13:54,160
proxy and postman and then i would copy

372
00:13:54,160 --> 00:13:56,880
and paste uh the captured packet in its

373
00:13:56,880 --> 00:13:59,600
header fields into postman send it to

374
00:13:59,600 --> 00:14:01,600
the api and i'd be on my way off to the

375
00:14:01,600 --> 00:14:05,199
races but i'm more lazy these days so uh

376
00:14:05,199 --> 00:14:07,519
if i what i love about burp suite is i

377
00:14:07,519 --> 00:14:09,839
can stay within the tool and i can just

378
00:14:09,839 --> 00:14:12,000
use whatever module in it whether it's

379
00:14:12,000 --> 00:14:14,320
proxy or replay

380
00:14:14,320 --> 00:14:17,120
whatever um and also mob sf like i

381
00:14:17,120 --> 00:14:19,120
mentioned before for static and dynamic

382
00:14:19,120 --> 00:14:22,079
code analysis it's a great tool download

383
00:14:22,079 --> 00:14:25,279
it from github it's free uh it's it's

384
00:14:25,279 --> 00:14:28,079
it's very powerful all right so you're

385
00:14:28,079 --> 00:14:30,720
probably thinking okay alyssa ebola

386
00:14:30,720 --> 00:14:33,199
ebola no not the disease that will kill

387
00:14:33,199 --> 00:14:36,480
you um bola bola stands for broken

388
00:14:36,480 --> 00:14:38,720
object level authorization the i came up

389
00:14:38,720 --> 00:14:40,720
with this analogy it made sense in my

390
00:14:40,720 --> 00:14:42,320
head maybe it doesn't make sense in

391
00:14:42,320 --> 00:14:44,240
yours but this is how i like to explain

392
00:14:44,240 --> 00:14:46,240
it let's say carl drives up in a

393
00:14:46,240 --> 00:14:47,519
lamborghini

394
00:14:47,519 --> 00:14:50,880
to a valet and i'm like i want that

395
00:14:50,880 --> 00:14:53,519
lamborghini i want to steal it so i

396
00:14:53,519 --> 00:14:56,160
drive up behind carl in my day woo or my

397
00:14:56,160 --> 00:14:57,120
hyundai

398
00:14:57,120 --> 00:14:58,160
not that there's anything wrong with

399
00:14:58,160 --> 00:15:00,880
hyundai um but i drive up in my hyundai

400
00:15:00,880 --> 00:15:03,040
and i see that carl gets the number 18

401
00:15:03,040 --> 00:15:05,920
from the valet uh i drive up behind him

402
00:15:05,920 --> 00:15:08,160
and then the valet gives me number 17. i

403
00:15:08,160 --> 00:15:10,639
walk off um and then i use a sharpie to

404
00:15:10,639 --> 00:15:12,399
change the seven two and eight and then

405
00:15:12,399 --> 00:15:13,680
i come back

406
00:15:13,680 --> 00:15:16,560
valet a different valet i hopefully wait

407
00:15:16,560 --> 00:15:18,880
wait some time um come back to valet

408
00:15:18,880 --> 00:15:21,040
with the ticket and then drive off uh

409
00:15:21,040 --> 00:15:22,880
with carl's lamborghini

410
00:15:22,880 --> 00:15:24,800
because he didn't actually

411
00:15:24,800 --> 00:15:27,120
authorize me to drive away with his

412
00:15:27,120 --> 00:15:29,040
lamborghini um it's the difference

413
00:15:29,040 --> 00:15:31,120
between authentication and authorization

414
00:15:31,120 --> 00:15:32,639
that's the best analogy i can come up

415
00:15:32,639 --> 00:15:35,519
with uh basically you're authenticated

416
00:15:35,519 --> 00:15:38,000
you're allowed to pick up a car because

417
00:15:38,000 --> 00:15:39,920
you have the valet ticket but you're not

418
00:15:39,920 --> 00:15:41,199
authorized to drive away with someone

419
00:15:41,199 --> 00:15:43,519
else's car same thing with an api i'm

420
00:15:43,519 --> 00:15:45,440
authenticated i'm allowed to talk to the

421
00:15:45,440 --> 00:15:48,800
api but i'm not authorized to

422
00:15:48,800 --> 00:15:51,040
be able to wire money out of an account

423
00:15:51,040 --> 00:15:53,360
that doesn't belong to me or request

424
00:15:53,360 --> 00:15:54,959
information on the account holder from

425
00:15:54,959 --> 00:15:58,160
the apis when it's not my account okay

426
00:15:58,160 --> 00:15:59,519
that's paula

427
00:15:59,519 --> 00:16:01,360
all right so you're probably thinking

428
00:16:01,360 --> 00:16:03,440
alyssa i don't believe you there's no

429
00:16:03,440 --> 00:16:05,120
way this was possible well here's

430
00:16:05,120 --> 00:16:07,839
screenshots um so these are screenshots

431
00:16:07,839 --> 00:16:11,040
of the you the uh api keys and tokens

432
00:16:11,040 --> 00:16:13,519
that i found hard-coded in the apps you

433
00:16:13,519 --> 00:16:15,120
guys will guys and girls will notice

434
00:16:15,120 --> 00:16:18,320
firebase um but there's some lovely uh

435
00:16:18,320 --> 00:16:20,160
juicy firebase stuff in there as well as

436
00:16:20,160 --> 00:16:21,839
some other keys and tokens and believe

437
00:16:21,839 --> 00:16:24,000
it or not usernames and passwords as

438
00:16:24,000 --> 00:16:28,480
well as credentials for aws

439
00:16:28,480 --> 00:16:30,399
these are some other screenshots i was

440
00:16:30,399 --> 00:16:31,839
trying to figure out how to copy

441
00:16:31,839 --> 00:16:34,160
thousands of keys into a powerpoint i

442
00:16:34,160 --> 00:16:35,440
thought the best way was just take

443
00:16:35,440 --> 00:16:37,600
screenshots of my spreadsheets you get

444
00:16:37,600 --> 00:16:39,680
the picture all right

445
00:16:39,680 --> 00:16:42,880
uh this is a screen capture of minim

446
00:16:42,880 --> 00:16:46,399
proxy the way i used to do things um but

447
00:16:46,399 --> 00:16:49,279
here you can see the decrypted um

448
00:16:49,279 --> 00:16:51,360
actual body of the api request where

449
00:16:51,360 --> 00:16:53,680
i've got the card number the card type

450
00:16:53,680 --> 00:16:55,839
um the unique identifier the name on the

451
00:16:55,839 --> 00:16:59,279
card so this is basically um the pin

452
00:16:59,279 --> 00:17:01,199
information for the card as well as the

453
00:17:01,199 --> 00:17:02,880
member account number

454
00:17:02,880 --> 00:17:04,559
and then me just recreating it in

455
00:17:04,559 --> 00:17:06,400
postman again i love you postman thank

456
00:17:06,400 --> 00:17:09,039
you for your product um and then uh all

457
00:17:09,039 --> 00:17:11,839
the data and information uh that i could

458
00:17:11,839 --> 00:17:14,480
send the backend apis here allowing me

459
00:17:14,480 --> 00:17:16,559
to then just change the pin code to

460
00:17:16,559 --> 00:17:20,319
something else and you can see a success

461
00:17:20,319 --> 00:17:22,400
here where i was able to specify a

462
00:17:22,400 --> 00:17:24,640
completely different card number account

463
00:17:24,640 --> 00:17:26,240
number

464
00:17:26,240 --> 00:17:28,559
change pin codes and

465
00:17:28,559 --> 00:17:29,919
of course move money in and out of

466
00:17:29,919 --> 00:17:33,039
accounts um so in this one i know it

467
00:17:33,039 --> 00:17:34,400
makes absolutely no sense because it's

468
00:17:34,400 --> 00:17:36,080
not blurred no this is not your monitor

469
00:17:36,080 --> 00:17:38,480
it is not your eyes it's me this is real

470
00:17:38,480 --> 00:17:40,000
customer data i didn't want to

471
00:17:40,000 --> 00:17:42,720
potentially compromise that so i blurred

472
00:17:42,720 --> 00:17:44,559
all of it but as you can see here this

473
00:17:44,559 --> 00:17:46,400
is clear this is not an error message

474
00:17:46,400 --> 00:17:48,880
it's clear that this is um actually the

475
00:17:48,880 --> 00:17:51,360
api sending data back to me this was

476
00:17:51,360 --> 00:17:53,120
full account details on the account

477
00:17:53,120 --> 00:17:55,440
holder everything that the bank had on

478
00:17:55,440 --> 00:17:56,799
the account holder i was able to pull

479
00:17:56,799 --> 00:17:58,320
out

480
00:17:58,320 --> 00:18:00,799
all right so what did i learn from

481
00:18:00,799 --> 00:18:03,200
robbing 55 banks from the comfort of my

482
00:18:03,200 --> 00:18:06,160
living room um despite it being 2021

483
00:18:06,160 --> 00:18:08,559
developers are still not authorizing

484
00:18:08,559 --> 00:18:10,960
authenticated api requests

485
00:18:10,960 --> 00:18:12,960
you need to authenticate and authorize

486
00:18:12,960 --> 00:18:14,960
and again this was systemic it's pretty

487
00:18:14,960 --> 00:18:17,520
much found in every api i've ever tested

488
00:18:17,520 --> 00:18:19,600
organization organizations are also not

489
00:18:19,600 --> 00:18:21,360
maintaining asset catalogs a lot of the

490
00:18:21,360 --> 00:18:22,880
banks didn't know

491
00:18:22,880 --> 00:18:24,799
uh that those specific apis i was

492
00:18:24,799 --> 00:18:27,520
hitting were still out there you cannot

493
00:18:27,520 --> 00:18:30,160
protect what you don't know you have all

494
00:18:30,160 --> 00:18:32,799
right that's very important to know um

495
00:18:32,799 --> 00:18:34,559
find an api security solution that will

496
00:18:34,559 --> 00:18:37,120
let you catalog your existing apis and

497
00:18:37,120 --> 00:18:38,720
we'll notify you of new apis coming

498
00:18:38,720 --> 00:18:41,440
online as a cso myself

499
00:18:41,440 --> 00:18:43,919
for a bank i can tell you that one of

500
00:18:43,919 --> 00:18:46,080
the biggest complaints and issues that i

501
00:18:46,080 --> 00:18:49,360
had were the developers just throwing

502
00:18:49,360 --> 00:18:52,080
new apis up into aws or azure and me not

503
00:18:52,080 --> 00:18:55,039
knowing about it shadow api problem

504
00:18:55,039 --> 00:18:58,320
right so context and security was

505
00:18:58,320 --> 00:19:00,559
another issue again organizations are

506
00:19:00,559 --> 00:19:02,960
using wafs was looking for things like

507
00:19:02,960 --> 00:19:05,840
sql injection things you can build rules

508
00:19:05,840 --> 00:19:09,200
around uh whereas api security solutions

509
00:19:09,200 --> 00:19:11,840
uh we'll be able to detect logic attacks

510
00:19:11,840 --> 00:19:14,559
uh like the ones i discussed like bola

511
00:19:14,559 --> 00:19:16,480
many companies are actually transferring

512
00:19:16,480 --> 00:19:18,160
their risk okay hopefully you're all

513
00:19:18,160 --> 00:19:20,160
still sitting down this is the part

514
00:19:20,160 --> 00:19:21,600
where you're gonna be able to hear a pin

515
00:19:21,600 --> 00:19:24,240
drop yes one of the banks that i had

516
00:19:24,240 --> 00:19:26,240
actually hacked outsourced the

517
00:19:26,240 --> 00:19:28,240
development of their apis in their

518
00:19:28,240 --> 00:19:29,440
mobile app

519
00:19:29,440 --> 00:19:32,640
to a third party in that third party

520
00:19:32,640 --> 00:19:34,799
rinsed and reused that vulnerable code

521
00:19:34,799 --> 00:19:39,120
and it affected 300 other banks

522
00:19:39,120 --> 00:19:41,840
oh yeah that happened um

523
00:19:41,840 --> 00:19:44,080
i was on very long phone calls with the

524
00:19:44,080 --> 00:19:46,400
ceo so the companies

525
00:19:46,400 --> 00:19:49,039
it was a mess

526
00:19:49,039 --> 00:19:51,679
if you're going to outsource

527
00:19:51,679 --> 00:19:54,080
do not just ask for a copy of their sock

528
00:19:54,080 --> 00:19:56,320
to type to report and call it a day and

529
00:19:56,320 --> 00:19:58,799
say they're secure stop asking for just

530
00:19:58,799 --> 00:19:59,919
their iso choice of does one

531
00:19:59,919 --> 00:20:01,440
certification when you're talking about

532
00:20:01,440 --> 00:20:04,960
apis and how the criticality of what

533
00:20:04,960 --> 00:20:06,960
they're creating for you you need to

534
00:20:06,960 --> 00:20:09,520
demand that pen testing be done

535
00:20:09,520 --> 00:20:12,480
you need you need to trust but verify

536
00:20:12,480 --> 00:20:14,720
um you just don't want to transfer that

537
00:20:14,720 --> 00:20:17,440
kind of risk if your apis are breached

538
00:20:17,440 --> 00:20:19,520
whose logo is going to be in the news

539
00:20:19,520 --> 00:20:20,960
it's not going to be the company you

540
00:20:20,960 --> 00:20:22,720
outsource the development to it's going

541
00:20:22,720 --> 00:20:25,360
to be yours right

542
00:20:25,360 --> 00:20:27,039
no pen testing

543
00:20:27,039 --> 00:20:28,880
guys and girls you got to do pen testing

544
00:20:28,880 --> 00:20:31,120
you know i don't know why epas are not

545
00:20:31,120 --> 00:20:32,799
being deployed into development

546
00:20:32,799 --> 00:20:34,559
environments before they go into

547
00:20:34,559 --> 00:20:36,320
production i don't understand how it's

548
00:20:36,320 --> 00:20:38,799
2022 and we're still deploying straight

549
00:20:38,799 --> 00:20:41,520
into production have if you need to have

550
00:20:41,520 --> 00:20:43,039
a mere setup of your production

551
00:20:43,039 --> 00:20:45,360
environment for pen testers to hack it's

552
00:20:45,360 --> 00:20:46,720
plain and simple

553
00:20:46,720 --> 00:20:50,000
and that's it you survived this keynote

554
00:20:50,000 --> 00:20:51,440
so i hope

555
00:20:51,440 --> 00:20:54,559
all of you have an amazing conference

556
00:20:54,559 --> 00:20:56,799
have a great time and this is your

557
00:20:56,799 --> 00:20:58,960
opportunity to ask me anything and one

558
00:20:58,960 --> 00:21:00,559
of the last things i'll leave you with

559
00:21:00,559 --> 00:21:02,240
is if you're trying to figure out gosh i

560
00:21:02,240 --> 00:21:03,919
really like that alyssa knight how do i

561
00:21:03,919 --> 00:21:06,080
support her um

562
00:21:06,080 --> 00:21:08,480
subscribe to my youtube channel watch my

563
00:21:08,480 --> 00:21:10,799
videos as cyber security influencers

564
00:21:10,799 --> 00:21:12,720
which by the way did not exist 22 years

565
00:21:12,720 --> 00:21:14,480
ago um

566
00:21:14,480 --> 00:21:16,000
you know the the best way you can

567
00:21:16,000 --> 00:21:18,480
support us is to watch and read our

568
00:21:18,480 --> 00:21:22,080
content and re-share it subscribe to our

569
00:21:22,080 --> 00:21:24,640
channels follow us on twitter and

570
00:21:24,640 --> 00:21:27,760
linkedin and uh talk to me reach out and

571
00:21:27,760 --> 00:21:29,280
talk to me say hi

572
00:21:29,280 --> 00:21:31,280
and uh happy to answer any questions

573
00:21:31,280 --> 00:21:33,600
that you have but uh

574
00:21:33,600 --> 00:21:35,039
thank you very much for your time and i

575
00:21:35,039 --> 00:21:36,720
want to thank bug crowd for inviting me

576
00:21:36,720 --> 00:21:38,159
to be the keynote speaker for this

577
00:21:38,159 --> 00:21:41,039
conference and uh i appreciate all of

578
00:21:41,039 --> 00:21:42,240
you and i've got some fans in the

579
00:21:42,240 --> 00:21:44,320
audience i love you i love all of you

580
00:21:44,320 --> 00:21:48,559
take care of yourselves and each other

