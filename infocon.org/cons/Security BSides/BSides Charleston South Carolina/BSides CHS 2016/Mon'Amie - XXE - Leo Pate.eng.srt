1
00:00:16,560 --> 00:00:21,900
hi<font color="#E5E5E5"> guys so today I'm going to be talking</font>

2
00:00:18,240 --> 00:00:25,829
about<font color="#E5E5E5"> xxe and what it is and give you</font>

3
00:00:21,900 --> 00:00:27,390
<font color="#CCCCCC">guys some demos and stuff but first let</font>

4
00:00:25,829 --> 00:00:28,439
me just<font color="#CCCCCC"> back up real quick so i didn't</font>

5
00:00:27,390 --> 00:00:30,599
know that<font color="#E5E5E5"> this lighting was gonna look</font>

6
00:00:28,439 --> 00:00:35,519
<font color="#E5E5E5">like this so i couldn't pick more worse</font>

7
00:00:30,599 --> 00:00:37,320
colors so<font color="#E5E5E5"> i'm gonna do could a pic</font>

8
00:00:35,519 --> 00:00:40,589
purple as<font color="#E5E5E5"> i was liquor at purple or</font>

9
00:00:37,320 --> 00:00:42,449
orange um so a little bit about me i'm a

10
00:00:40,589 --> 00:00:46,050
college of charleston grad and i just

11
00:00:42,449 --> 00:00:47,460
graduated like six months ago<font color="#E5E5E5"> i'm a</font>

12
00:00:46,050 --> 00:00:50,369
cyber operations officer in a South

13
00:00:47,460 --> 00:00:51,750
Carolina National Guard<font color="#E5E5E5"> I'm also in my</font>

14
00:00:50,369 --> 00:00:54,000
civilian job<font color="#E5E5E5"> I'm a network security</font>

15
00:00:51,750 --> 00:00:55,920
analyst at spawar and I'm also a

16
00:00:54,000 --> 00:00:58,470
technical mentor program coordinator for

17
00:00:55,920 --> 00:01:00,530
node st which is a local nonprofit here

18
00:00:58,470 --> 00:01:02,460
in Charleston that specializes in

19
00:01:00,530 --> 00:01:06,540
technology<font color="#E5E5E5"> cyber security and business</font>

20
00:01:02,460 --> 00:01:07,920
entrepreneurship so you know what I look

21
00:01:06,540 --> 00:01:09,450
like I'm stand in front<font color="#E5E5E5"> of you but this</font>

22
00:01:07,920 --> 00:01:11,939
is me as Claude the<font color="#E5E5E5"> cougar when got his</font>

23
00:01:09,450 --> 00:01:14,670
ring like a year ago<font color="#E5E5E5"> and I've like</font>

24
00:01:11,939 --> 00:01:16,919
scooted my butt across the stage that's

25
00:01:14,670 --> 00:01:19,350
the Philly theater a little fun fact

26
00:01:16,920 --> 00:01:21,649
about me alright so the agenda so today

27
00:01:19,350 --> 00:01:25,350
we're going to cover what is XX XX e

28
00:01:21,649 --> 00:01:28,289
we're<font color="#E5E5E5"> going to understand what x XX e is</font>

29
00:01:25,350 --> 00:01:30,869
you have to know what xml and d tds are

30
00:01:28,289 --> 00:01:33,299
and what uses it along<font color="#E5E5E5"> with that we're</font>

31
00:01:30,869 --> 00:01:35,850
going<font color="#E5E5E5"> to</font><font color="#CCCCCC"> i picked a specific file format</font>

32
00:01:33,299 --> 00:01:38,729
because there's there's many that<font color="#E5E5E5"> you</font>

33
00:01:35,850 --> 00:01:41,609
can choose from so one that<font color="#CCCCCC"> i picked was</font>

34
00:01:38,729 --> 00:01:43,259
from open office or office open xml

35
00:01:41,609 --> 00:01:48,960
format which is<font color="#E5E5E5"> essentially just docx</font>

36
00:01:43,259 --> 00:01:52,920
and<font color="#E5E5E5"> powerpoint ex and ex-l x SLX</font>

37
00:01:48,960 --> 00:01:54,990
spreadsheets<font color="#E5E5E5"> how we</font><font color="#CCCCCC"> can use an open off</font>

38
00:01:52,920 --> 00:01:56,999
this format file to deliver an xml

39
00:01:54,990 --> 00:02:01,020
payload with that<font color="#E5E5E5"> i'm going to show you</font>

40
00:01:56,999 --> 00:02:04,009
a breakdown of the docx file a demo of

41
00:02:01,020 --> 00:02:10,740
will<font color="#CCCCCC"> I'm gonna butcher his name but</font><font color="#E5E5E5"> will</font>

42
00:02:04,009 --> 00:02:13,230
van the dancers a xml tool so as we as

43
00:02:10,740 --> 00:02:14,790
we see<font color="#E5E5E5"> this is a tool that this</font>

44
00:02:13,230 --> 00:02:19,140
gentleman made at demoed at black hat

45
00:02:14,790 --> 00:02:23,569
USA on 2015 that pretty<font color="#E5E5E5"> much takes a lot</font>

46
00:02:19,140 --> 00:02:28,079
of the tediousness tedious work out of

47
00:02:23,569 --> 00:02:29,000
injecting these malicious malicious

48
00:02:28,080 --> 00:02:30,740
entities in

49
00:02:29,000 --> 00:02:33,110
these file formats and kind of<font color="#E5E5E5"> stream</font>

50
00:02:30,740 --> 00:02:37,280
Liza's little bit I'm an almost going<font color="#E5E5E5"> to</font>

51
00:02:33,110 --> 00:02:40,880
<font color="#E5E5E5">do a simple demo of what xxe is and show</font>

52
00:02:37,280 --> 00:02:44,510
how it can be exploited so um a full

53
00:02:40,880 --> 00:02:47,209
disclosure is it's my first talk for one

54
00:02:44,510 --> 00:02:49,160
and then two<font color="#E5E5E5"> I am by no means an expert</font>

55
00:02:47,209 --> 00:02:52,820
at this so this<font color="#CCCCCC"> is something that I've</font>

56
00:02:49,160 --> 00:02:56,120
<font color="#CCCCCC">been I came across</font><font color="#E5E5E5"> this topic last last</font>

57
00:02:52,820 --> 00:02:58,220
year<font color="#E5E5E5"> when I was a senior here and needed</font>

58
00:02:56,120 --> 00:03:00,290
<font color="#CCCCCC">to have a senior research paper kind of</font>

59
00:02:58,220 --> 00:03:03,170
and I was point in the right<font color="#E5E5E5"> direction</font>

60
00:03:00,290 --> 00:03:05,570
kind of this is applies to the topic

61
00:03:03,170 --> 00:03:07,488
that I was studying at<font color="#E5E5E5"> the time and I</font>

62
00:03:05,570 --> 00:03:11,329
<font color="#CCCCCC">just</font><font color="#E5E5E5"> found it pretty interesting that</font>

63
00:03:07,489 --> 00:03:15,200
it's really simple um it's pretty<font color="#CCCCCC"> high</font>

64
00:03:11,330 --> 00:03:18,500
vulnerable and it's like really easy to

65
00:03:15,200 --> 00:03:20,630
do and understand so with that we're

66
00:03:18,500 --> 00:03:23,480
going<font color="#CCCCCC"> to go into</font><font color="#E5E5E5"> what is actually</font><font color="#CCCCCC"> a xxe</font>

67
00:03:20,630 --> 00:03:26,780
so it's from hola<font color="#E5E5E5"> so this is straight</font>

68
00:03:23,480 --> 00:03:30,440
from<font color="#CCCCCC"> owasp website it's an xml external</font>

69
00:03:26,780 --> 00:03:32,450
entity attack is a type of attack again

70
00:03:30,440 --> 00:03:35,870
it's an application that parses<font color="#CCCCCC"> XML</font>

71
00:03:32,450 --> 00:03:39,109
input so when you're inputting a file

72
00:03:35,870 --> 00:03:40,730
that is XML base the thing that's

73
00:03:39,110 --> 00:03:42,709
parsing it going through it line by line

74
00:03:40,730 --> 00:03:46,238
to kind of piece it together to see what

75
00:03:42,709 --> 00:03:48,920
actual file is a reconstructed um that's

76
00:03:46,239 --> 00:03:50,780
that's what is an attack against this

77
00:03:48,920 --> 00:03:52,600
attacker is<font color="#CCCCCC"> when I XML input</font><font color="#E5E5E5"> containing</font>

78
00:03:50,780 --> 00:03:55,010
<font color="#E5E5E5">a reference to an external entity is</font>

79
00:03:52,600 --> 00:03:56,420
processed by<font color="#CCCCCC"> a weekly configurate XML</font>

80
00:03:55,010 --> 00:04:01,280
processor so you can kind of think of it

81
00:03:56,420 --> 00:04:04,250
like an HTML has a CSS stylesheet that

82
00:04:01,280 --> 00:04:07,010
it's not<font color="#E5E5E5"> you can't put it in in a HTML</font>

83
00:04:04,250 --> 00:04:11,180
code but it's an external thing that it

84
00:04:07,010 --> 00:04:12,679
refers to so normally<font color="#E5E5E5"> we would cross a</font>

85
00:04:11,180 --> 00:04:15,590
payload that when executed will do

86
00:04:12,680 --> 00:04:18,140
various hacker things so<font color="#E5E5E5"> you could do</font>

87
00:04:15,590 --> 00:04:20,478
enumeration of your internal network for

88
00:04:18,140 --> 00:04:22,789
instance you can also do remote code

89
00:04:20,478 --> 00:04:26,080
execution you do lateral movements and

90
00:04:22,790 --> 00:04:28,940
you can do directory<font color="#E5E5E5"> um traversals so</font>

91
00:04:26,080 --> 00:04:30,770
these aren't all the things they can do

92
00:04:28,940 --> 00:04:33,650
but these are<font color="#CCCCCC"> some possibilities it</font>

93
00:04:30,770 --> 00:04:35,780
could do um xxe is usually caused by

94
00:04:33,650 --> 00:04:38,060
name properly configure an XML parser

95
00:04:35,780 --> 00:04:42,320
and by<font color="#CCCCCC"> improperly configured</font><font color="#E5E5E5"> means that</font>

96
00:04:38,060 --> 00:04:46,040
the the external entity

97
00:04:42,320 --> 00:04:47,240
a portion<font color="#E5E5E5"> is turned on by default and a</font>

98
00:04:46,040 --> 00:04:50,960
lot<font color="#CCCCCC"> of</font><font color="#E5E5E5"> different programming languages</font>

99
00:04:47,240 --> 00:04:52,160
it is in fact<font color="#E5E5E5"> turned home by default so</font>

100
00:04:50,960 --> 00:04:53,390
this parser is normally through a file

101
00:04:52,160 --> 00:04:55,400
upload feature in a web site<font color="#E5E5E5"> or</font>

102
00:04:53,390 --> 00:04:59,150
<font color="#E5E5E5">application the demo that I'm going to</font>

103
00:04:55,400 --> 00:05:02,659
<font color="#E5E5E5">be using today is a open source business</font>

104
00:04:59,150 --> 00:05:05,659
Facebook called EXO platform as brand

105
00:05:02,660 --> 00:05:09,830
locally and it's going<font color="#E5E5E5"> to show how it</font>

106
00:05:05,660 --> 00:05:12,830
can actually be exploited using that so

107
00:05:09,830 --> 00:05:16,010
the<font color="#E5E5E5"> next part is bug bounties</font><font color="#CCCCCC"> alright so</font>

108
00:05:12,830 --> 00:05:19,400
this is a pretty pretty hot topic and

109
00:05:16,010 --> 00:05:21,080
it's pretty<font color="#E5E5E5"> easy to find and in bug</font>

110
00:05:19,400 --> 00:05:22,310
bounties so the<font color="#E5E5E5"> first 10 know if you can</font>

111
00:05:21,080 --> 00:05:24,169
read<font color="#E5E5E5"> it but the first one says how I</font>

112
00:05:22,310 --> 00:05:27,890
found a remote code execution flaw

113
00:05:24,170 --> 00:05:29,630
affecting<font color="#E5E5E5"> Facebook servers in 2013 this</font>

114
00:05:27,890 --> 00:05:31,460
guy was awarded<font color="#CCCCCC"> thirty three thousand</font>

115
00:05:29,630 --> 00:05:36,409
dollars from facebook for finding this

116
00:05:31,460 --> 00:05:38,539
vulnerability like swamp<font color="#E5E5E5"> or mobility the</font>

117
00:05:36,410 --> 00:05:42,020
next one was how<font color="#CCCCCC"> i hacked facebook with</font>

118
00:05:38,540 --> 00:05:44,300
the word document back in 2014 he was

119
00:05:42,020 --> 00:05:46,310
awarded<font color="#E5E5E5"> sixty five</font><font color="#CCCCCC"> hundred dollars the</font>

120
00:05:44,300 --> 00:05:49,490
next one was how we got read access on

121
00:05:46,310 --> 00:05:51,560
google's production servers was awarded

122
00:05:49,490 --> 00:05:55,360
ten thousand dollars from facebook and

123
00:05:51,560 --> 00:05:59,210
then<font color="#E5E5E5"> very recently</font><font color="#CCCCCC"> this year there</font><font color="#E5E5E5"> was a</font>

124
00:05:55,360 --> 00:06:01,720
special<font color="#E5E5E5"> type of</font><font color="#CCCCCC"> xse attack on uber which</font>

125
00:05:59,210 --> 00:06:04,849
26 domains were were hacked through

126
00:06:01,720 --> 00:06:07,460
responsible disclosure uber gave<font color="#E5E5E5"> him</font>

127
00:06:04,850 --> 00:06:13,190
like five<font color="#CCCCCC"> hundred dollars so that's like</font>

128
00:06:07,460 --> 00:06:16,520
<font color="#E5E5E5">a huge like gap difference so what is</font>

129
00:06:13,190 --> 00:06:19,400
xml so<font color="#CCCCCC"> XML stands for extensible markup</font>

130
00:06:16,520 --> 00:06:22,549
language is derived from a much bigger

131
00:06:19,400 --> 00:06:24,909
beefier language called a standard

132
00:06:22,550 --> 00:06:27,620
generalized markup language the

133
00:06:24,910 --> 00:06:28,880
international center for divining<font color="#CCCCCC"> marca</font>

134
00:06:27,620 --> 00:06:31,550
to describe the structure of different

135
00:06:28,880 --> 00:06:34,130
types of electronic documents<font color="#E5E5E5"> its</font>

136
00:06:31,550 --> 00:06:36,830
software and hardware independent it is

137
00:06:34,130 --> 00:06:39,530
also extremely lightweight so it takes

138
00:06:36,830 --> 00:06:41,840
the goodness of sgml and being how

139
00:06:39,530 --> 00:06:44,330
flexible it is and strips out the pieces

140
00:06:41,840 --> 00:06:46,820
that<font color="#CCCCCC"> don't it doesn't really need that</font>

141
00:06:44,330 --> 00:06:49,430
kind of<font color="#E5E5E5"> don't need to use for your type</font>

142
00:06:46,820 --> 00:06:52,849
of<font color="#E5E5E5"> type of coding or whatever you're</font>

143
00:06:49,430 --> 00:06:55,120
using and just tains the nuts and bolts

144
00:06:52,850 --> 00:06:57,160
um so one key thing

145
00:06:55,120 --> 00:06:59,530
to pay attention<font color="#E5E5E5"> to is</font><font color="#CCCCCC"> that</font><font color="#E5E5E5"> XML just</font>

146
00:06:57,160 --> 00:07:01,900
holds data it requires another program

147
00:06:59,530 --> 00:07:05,289
to take<font color="#E5E5E5"> that data in to transfer display</font>

148
00:07:01,900 --> 00:07:07,960
it<font color="#CCCCCC"> and or to store it so you'll see that</font>

149
00:07:05,290 --> 00:07:10,570
it looks<font color="#E5E5E5"> exactly like HTML a little bit</font>

150
00:07:07,960 --> 00:07:13,599
but hTML is used to display data but the

151
00:07:10,570 --> 00:07:15,430
emphasis is on how it looks whereas XML

152
00:07:13,600 --> 00:07:18,550
<font color="#CCCCCC">is used to store data for the emphasis</font>

153
00:07:15,430 --> 00:07:23,979
is on what the data actually is inside

154
00:07:18,550 --> 00:07:26,440
right so taking a<font color="#CCCCCC"> look at</font><font color="#E5E5E5"> some stuff</font>

155
00:07:23,979 --> 00:07:28,570
what uses xml so like I said before

156
00:07:26,440 --> 00:07:31,539
microsoft office products so documents

157
00:07:28,570 --> 00:07:33,340
PowerPoint spreadsheets and then apple

158
00:07:31,539 --> 00:07:37,419
iwork products as well so the pages

159
00:07:33,340 --> 00:07:43,060
keynote and numbers libre office open

160
00:07:37,419 --> 00:07:47,859
office um special SVG images the vector

161
00:07:43,060 --> 00:07:51,930
images there's actually an XHTML and<font color="#E5E5E5"> XSL</font>

162
00:07:47,860 --> 00:07:55,150
which is the xml version of HTML and CSS

163
00:07:51,930 --> 00:07:57,940
and you have html5 which is becoming<font color="#CCCCCC"> the</font>

164
00:07:55,150 --> 00:08:03,599
new standard that is built directly from

165
00:07:57,940 --> 00:08:06,160
a XHTML RSS and atom feeds are also

166
00:08:03,599 --> 00:08:08,800
xml-based as well as soap for web

167
00:08:06,160 --> 00:08:10,450
services there<font color="#E5E5E5"> are many many more that</font>

168
00:08:08,800 --> 00:08:15,250
are also xml-based for these are the

169
00:08:10,450 --> 00:08:16,810
ones that are most commonly used so to

170
00:08:15,250 --> 00:08:19,419
understand XML there's two

171
00:08:16,810 --> 00:08:21,340
classifications to it so xml files must

172
00:08:19,419 --> 00:08:25,030
be there either well-formed or they're

173
00:08:21,340 --> 00:08:28,388
valid if they are valid then they're

174
00:08:25,030 --> 00:08:29,888
also well-formed so the<font color="#E5E5E5"> the rules for</font>

175
00:08:28,389 --> 00:08:33,580
well-formed is they must have<font color="#E5E5E5"> a root</font>

176
00:08:29,889 --> 00:08:37,390
element there must<font color="#E5E5E5"> be a thing that this</font>

177
00:08:33,580 --> 00:08:40,959
whole<font color="#E5E5E5"> xml file is</font><font color="#CCCCCC"> on it must</font><font color="#E5E5E5"> have a</font>

178
00:08:37,390 --> 00:08:42,309
<font color="#CCCCCC">closing tag soon start and close tags</font>

179
00:08:40,958 --> 00:08:45,099
are case sensitive<font color="#E5E5E5"> and they must match</font>

180
00:08:42,309 --> 00:08:49,000
they must be properly nested and all

181
00:08:45,100 --> 00:08:50,290
attribute values must be quoted but it

182
00:08:49,000 --> 00:08:52,300
<font color="#E5E5E5">doesn't require a document type</font>

183
00:08:50,290 --> 00:08:54,189
definition which we're going to cover in

184
00:08:52,300 --> 00:08:57,400
a couple other<font color="#E5E5E5"> sides what that actually</font>

185
00:08:54,190 --> 00:09:00,850
is so<font color="#E5E5E5"> essentially if you say that your</font>

186
00:08:57,400 --> 00:09:04,150
<font color="#CCCCCC">xml document is well-formed then it just</font>

187
00:09:00,850 --> 00:09:04,640
follows correct syntax put out by you

188
00:09:04,150 --> 00:09:06,860
know the

189
00:09:04,640 --> 00:09:10,610
standards from the people<font color="#E5E5E5"> that set for</font>

190
00:09:06,860 --> 00:09:12,470
standards um then if it's valid<font color="#E5E5E5"> Dennis</font>

191
00:09:10,610 --> 00:09:14,120
the rules used to determine if<font color="#E5E5E5"> it is</font>

192
00:09:12,470 --> 00:09:16,220
Valis the term about a DTD that is

193
00:09:14,120 --> 00:09:19,160
declared so<font color="#E5E5E5"> it you could think of</font><font color="#CCCCCC"> a DTD</font>

194
00:09:16,220 --> 00:09:21,350
is essentially it has to follow the same

195
00:09:19,160 --> 00:09:23,209
syntax but then it has another set of

196
00:09:21,350 --> 00:09:26,480
rules laid on top of<font color="#E5E5E5"> it that it must</font>

197
00:09:23,210 --> 00:09:29,720
also follow there are thousands of<font color="#E5E5E5"> D tds</font>

198
00:09:26,480 --> 00:09:32,750
out that is either proprietary or open

199
00:09:29,720 --> 00:09:35,180
sores that people can use<font color="#E5E5E5"> but because X</font>

200
00:09:32,750 --> 00:09:37,460
because XML is<font color="#E5E5E5"> so flexible you can</font>

201
00:09:35,180 --> 00:09:41,150
actually<font color="#E5E5E5"> write your own it's a little</font>

202
00:09:37,460 --> 00:09:42,920
<font color="#E5E5E5">bit more advanced but it's you know it's</font>

203
00:09:41,150 --> 00:09:46,189
pretty<font color="#E5E5E5"> cool that you can actually write</font>

204
00:09:42,920 --> 00:09:48,500
your own stuff for these<font color="#E5E5E5"> things I think</font>

205
00:09:46,190 --> 00:09:51,260
there<font color="#E5E5E5"> was something that on that came up</font>

206
00:09:48,500 --> 00:09:54,650
when i worked at<font color="#CCCCCC"> setaria came up in</font>

207
00:09:51,260 --> 00:09:57,170
conversation that there was this guy on

208
00:09:54,650 --> 00:10:00,439
github that may had his coffee pot and

209
00:09:57,170 --> 00:10:02,209
had<font color="#CCCCCC"> all these automated things that he</font>

210
00:10:00,440 --> 00:10:04,880
essentially automated his entire life so

211
00:10:02,210 --> 00:10:07,130
if he didn't<font color="#E5E5E5"> come to work by you know if</font>

212
00:10:04,880 --> 00:10:09,140
he didn't<font color="#CCCCCC"> badge in by 9am</font><font color="#E5E5E5"> it</font>

213
00:10:07,130 --> 00:10:11,689
automatically shot out an email to his

214
00:10:09,140 --> 00:10:14,900
boss and hey<font color="#CCCCCC"> i'm stuck</font><font color="#E5E5E5"> in traffic</font><font color="#CCCCCC"> i'm on</font>

215
00:10:11,690 --> 00:10:17,780
the way uh-huh if he had it he also had

216
00:10:14,900 --> 00:10:21,260
a coded downs like to the exact second

217
00:10:17,780 --> 00:10:23,270
that he could start is script and by the

218
00:10:21,260 --> 00:10:25,040
time<font color="#E5E5E5"> he got up from his desk to the</font>

219
00:10:23,270 --> 00:10:27,140
<font color="#CCCCCC">coffeepot</font><font color="#E5E5E5"> his coffee is already brewed</font>

220
00:10:25,040 --> 00:10:30,829
and ready for him<font color="#E5E5E5"> to like just turn</font>

221
00:10:27,140 --> 00:10:34,460
around a wall back so<font color="#CCCCCC"> XML is that is</font>

222
00:10:30,830 --> 00:10:36,590
that language that you can use for all

223
00:10:34,460 --> 00:10:40,010
these different things<font color="#E5E5E5"> because you're</font>

224
00:10:36,590 --> 00:10:41,990
actually writing the language itself so

225
00:10:40,010 --> 00:10:45,230
that your hardware and<font color="#E5E5E5"> software can read</font>

226
00:10:41,990 --> 00:10:46,850
it in<font color="#E5E5E5"> all</font><font color="#CCCCCC"> right so this is a well-formed</font>

227
00:10:45,230 --> 00:10:48,770
classification example you kind of can't

228
00:10:46,850 --> 00:10:51,740
read it but it starts<font color="#E5E5E5"> up at the top is</font>

229
00:10:48,770 --> 00:10:55,340
you defined xml version 1 point 0 and

230
00:10:51,740 --> 00:10:58,190
then right um we're above it says will

231
00:10:55,340 --> 00:11:01,580
muschamp is says note so<font color="#E5E5E5"> you're I'm</font>

232
00:10:58,190 --> 00:11:04,160
<font color="#E5E5E5">establishing a note it's going to will</font>

233
00:11:01,580 --> 00:11:06,860
from the head Ball Coach nice burger

234
00:11:04,160 --> 00:11:09,230
with a heading of reminder<font color="#E5E5E5"> and it said</font>

235
00:11:06,860 --> 00:11:11,540
you had one job guy and that's because

236
00:11:09,230 --> 00:11:14,000
<font color="#CCCCCC">carolina lost a day it did say it was</font>

237
00:11:11,540 --> 00:11:15,490
great to be a<font color="#CCCCCC"> Gamecock and i had a super</font>

238
00:11:14,000 --> 00:11:17,580
cool photo<font color="#CCCCCC"> Muschamp do</font>

239
00:11:15,490 --> 00:11:19,930
this but they might<font color="#E5E5E5"> have to take it down</font>

240
00:11:17,580 --> 00:11:23,410
because it today is not a good day<font color="#CCCCCC"> to be</font>

241
00:11:19,930 --> 00:11:25,870
a game card so this is<font color="#E5E5E5"> well-formed right</font>

242
00:11:23,410 --> 00:11:29,560
so we have<font color="#E5E5E5"> it we have</font><font color="#CCCCCC"> open</font><font color="#E5E5E5"> and closing</font>

243
00:11:25,870 --> 00:11:33,160
tags for pretty much everything we<font color="#CCCCCC"> got</font>

244
00:11:29,560 --> 00:11:36,099
one full entity that is describing

245
00:11:33,160 --> 00:11:40,329
exactly what it is<font color="#E5E5E5"> the note we got</font><font color="#CCCCCC"> to</font>

246
00:11:36,100 --> 00:11:42,640
from heading and the body as well as

247
00:11:40,330 --> 00:11:45,120
<font color="#E5E5E5">properly nested so so this would pass</font>

248
00:11:42,640 --> 00:11:47,980
well form this would just would clear

249
00:11:45,120 --> 00:11:51,670
mini parsers right and it would actually

250
00:11:47,980 --> 00:11:53,860
compile as well<font color="#E5E5E5"> alright so next we have</font>

251
00:11:51,670 --> 00:11:55,390
a valid classification example in

252
00:11:53,860 --> 00:11:58,779
there's actually there's actually three

253
00:11:55,390 --> 00:12:00,760
of these but<font color="#E5E5E5"> I only put two up</font><font color="#CCCCCC"> here and</font>

254
00:11:58,779 --> 00:12:03,910
<font color="#E5E5E5">I'll explain in a minute so the first</font>

255
00:12:00,760 --> 00:12:05,350
<font color="#E5E5E5">part on public is a</font><font color="#CCCCCC"> has</font><font color="#E5E5E5"> pretty much</font><font color="#CCCCCC"> the</font>

256
00:12:03,910 --> 00:12:07,810
exact same thing the<font color="#E5E5E5"> only difference is</font>

257
00:12:05,350 --> 00:12:14,110
is that it now has a doctype so a

258
00:12:07,810 --> 00:12:17,589
doctype is for for the<font color="#E5E5E5"> for excuse me for</font>

259
00:12:14,110 --> 00:12:19,180
<font color="#E5E5E5">a public is it contains four fields so</font>

260
00:12:17,589 --> 00:12:22,000
the first field is whether to DTD is

261
00:12:19,180 --> 00:12:26,079
formally standardized meaning that was

262
00:12:22,000 --> 00:12:29,649
is was it standardized by an

263
00:12:26,079 --> 00:12:34,089
organization right so for<font color="#CCCCCC"> for here we</font>

264
00:12:29,649 --> 00:12:37,450
have w3c um which is the world not the

265
00:12:34,089 --> 00:12:39,790
robot<font color="#E5E5E5"> web consortium I believe they're</font>

266
00:12:37,450 --> 00:12:43,029
not a standardized like they're<font color="#E5E5E5"> not</font>

267
00:12:39,790 --> 00:12:46,300
allowed to standardize things in in this

268
00:12:43,029 --> 00:12:49,079
regard however they are<font color="#E5E5E5"> able to create</font>

269
00:12:46,300 --> 00:12:52,500
so that's<font color="#CCCCCC"> just what that sign if it's a</font>

270
00:12:49,079 --> 00:12:54,760
negative equals yes plus equals no

271
00:12:52,500 --> 00:12:56,829
second field is the name of the owner

272
00:12:54,760 --> 00:13:02,500
who is responsible for<font color="#E5E5E5"> maintaining the</font>

273
00:12:56,829 --> 00:13:04,149
the DTD so here w3c all right the third

274
00:13:02,500 --> 00:13:08,339
field is what type of document is being

275
00:13:04,149 --> 00:13:12,670
described so for here<font color="#E5E5E5"> I put DTD note um</font>

276
00:13:08,339 --> 00:13:14,800
note 1.0 this is a fake DTD so<font color="#CCCCCC"> I</font><font color="#E5E5E5"> can</font>

277
00:13:12,670 --> 00:13:16,000
<font color="#E5E5E5">make it apply to this it's not like if</font>

278
00:13:14,800 --> 00:13:18,880
you try to google that you're not<font color="#E5E5E5"> going</font>

279
00:13:16,000 --> 00:13:21,760
to find it but for demonstration

280
00:13:18,880 --> 00:13:23,949
purposes is what it is and then the

281
00:13:21,760 --> 00:13:25,760
force field<font color="#E5E5E5"> is the</font><font color="#CCCCCC"> language I mean so</font>

282
00:13:23,949 --> 00:13:30,199
it's<font color="#E5E5E5"> the en</font>

283
00:13:25,760 --> 00:13:33,530
<font color="#E5E5E5">Ian you I can't even read</font><font color="#CCCCCC"> then and then</font>

284
00:13:30,200 --> 00:13:38,410
<font color="#CCCCCC">we have the the actual URL link going</font>

285
00:13:33,530 --> 00:13:41,300
straight to to find the DTD so when when

286
00:13:38,410 --> 00:13:42,980
this<font color="#E5E5E5"> XML file where it was to get parsed</font>

287
00:13:41,300 --> 00:13:45,469
starts at the top and works its way to

288
00:13:42,980 --> 00:13:46,970
the bottom it'll<font color="#E5E5E5"> see doc type it knows</font>

289
00:13:45,470 --> 00:13:48,890
exactly<font color="#E5E5E5"> where it needs to go to get it</font>

290
00:13:46,970 --> 00:13:52,460
it's got the URL and it'll go out and

291
00:13:48,890 --> 00:13:54,410
grab it<font color="#E5E5E5"> look at this file skin parse it</font>

292
00:13:52,460 --> 00:13:56,600
see what it's supposed to do and say<font color="#CCCCCC"> ok</font>

293
00:13:54,410 --> 00:13:58,610
I now understand how to interpret<font color="#E5E5E5"> the</font>

294
00:13:56,600 --> 00:14:00,980
rest of this document<font color="#CCCCCC"> or the</font><font color="#E5E5E5"> rest of</font>

295
00:13:58,610 --> 00:14:04,150
this file that was uploaded let me

296
00:14:00,980 --> 00:14:07,160
continue with it so the<font color="#E5E5E5"> next one is a</font>

297
00:14:04,150 --> 00:14:09,560
private it's essentially the exact same

298
00:14:07,160 --> 00:14:13,459
thing the only difference is is that

299
00:14:09,560 --> 00:14:18,170
it's local to that machine right so here

300
00:14:13,460 --> 00:14:21,260
<font color="#CCCCCC">we have doc type um note so the it's</font>

301
00:14:18,170 --> 00:14:24,709
normally the the second part<font color="#CCCCCC"> after doc</font>

302
00:14:21,260 --> 00:14:27,200
type is<font color="#CCCCCC"> the tag is the first tag that is</font>

303
00:14:24,710 --> 00:14:28,640
accompanying the entire document so in

304
00:14:27,200 --> 00:14:32,620
this case<font color="#E5E5E5"> because we're writing it knows</font>

305
00:14:28,640 --> 00:14:36,410
is actually the name of its note um

306
00:14:32,620 --> 00:14:38,960
system means that<font color="#E5E5E5"> its private and then</font>

307
00:14:36,410 --> 00:14:41,839
<font color="#E5E5E5">note DTD is a location</font><font color="#CCCCCC"> of where it's</font>

308
00:14:38,960 --> 00:14:44,780
located at so this means that it would

309
00:14:41,840 --> 00:14:47,210
be in<font color="#E5E5E5"> the local directory um if I wanted</font>

310
00:14:44,780 --> 00:14:50,630
<font color="#E5E5E5">to put in if I wanted to point it to a</font>

311
00:14:47,210 --> 00:14:52,460
specific file server folder website

312
00:14:50,630 --> 00:14:55,820
whatever the case may be that's where it

313
00:14:52,460 --> 00:14:59,780
would go<font color="#CCCCCC"> alright so this is what</font>

314
00:14:55,820 --> 00:15:01,700
actually<font color="#E5E5E5"> look like um so the X in</font><font color="#CCCCCC"> the</font>

315
00:14:59,780 --> 00:15:05,930
xml code<font color="#CCCCCC"> I can make it look</font><font color="#E5E5E5"> exactly like</font>

316
00:15:01,700 --> 00:15:10,010
this<font color="#E5E5E5"> um it's the Seas for upset cuz</font>

317
00:15:05,930 --> 00:15:13,579
didn't do well<font color="#E5E5E5"> in there so this leads me</font>

318
00:15:10,010 --> 00:15:17,240
into the<font color="#E5E5E5"> OpenOffice format um so out of</font>

319
00:15:13,580 --> 00:15:18,680
all of them this<font color="#CCCCCC"> is the one that's kind</font>

320
00:15:17,240 --> 00:15:21,380
of to me it's the easiest<font color="#E5E5E5"> to understand</font>

321
00:15:18,680 --> 00:15:23,030
kind<font color="#E5E5E5"> of grass and kind of see so a</font>

322
00:15:21,380 --> 00:15:24,800
little background on a prior 2003

323
00:15:23,030 --> 00:15:27,500
microsoft office is file format was

324
00:15:24,800 --> 00:15:29,870
binary based right<font color="#E5E5E5"> it was it was good</font>

325
00:15:27,500 --> 00:15:32,780
for this it was good for what it<font color="#CCCCCC"> did at</font>

326
00:15:29,870 --> 00:15:36,620
the time but then as technology advances

327
00:15:32,780 --> 00:15:39,240
we need something<font color="#E5E5E5"> more flexible so these</font>

328
00:15:36,620 --> 00:15:43,890
types of files were designated with

329
00:15:39,240 --> 00:15:46,140
the doc give XLS<font color="#CCCCCC"> and the ppt right so in</font>

330
00:15:43,890 --> 00:15:48,839
2003 microsoft introduced a new new

331
00:15:46,140 --> 00:15:50,819
format based on XML alongside their

332
00:15:48,839 --> 00:15:54,330
binary<font color="#E5E5E5"> based formats called the office</font>

333
00:15:50,820 --> 00:15:57,300
open XML file format these are the same

334
00:15:54,330 --> 00:16:01,920
things except<font color="#E5E5E5"> they're annotated with the</font>

335
00:15:57,300 --> 00:16:04,109
ex there as Microsoft smart and then

336
00:16:01,920 --> 00:16:05,849
this new format allows<font color="#CCCCCC"> Office documents</font>

337
00:16:04,110 --> 00:16:09,540
<font color="#E5E5E5">we use with any application that uses</font>

338
00:16:05,850 --> 00:16:14,700
xml hints then they open office right so

339
00:16:09,540 --> 00:16:17,219
what's really<font color="#E5E5E5"> cool i'll get to that in a</font>

340
00:16:14,700 --> 00:16:18,630
minute so the breakdown so a docx file

341
00:16:17,220 --> 00:16:20,700
is nothing more<font color="#CCCCCC"> than a dot zip file</font>

342
00:16:18,630 --> 00:16:22,860
that's all<font color="#E5E5E5"> it is it's just a zip file</font>

343
00:16:20,700 --> 00:16:26,339
with a whole<font color="#CCCCCC"> bunch of xml files in it</font>

344
00:16:22,860 --> 00:16:28,459
and with folders that howls those um you

345
00:16:26,339 --> 00:16:34,080
can think<font color="#E5E5E5"> of them as buckets that is</font>

346
00:16:28,459 --> 00:16:36,869
split splits to xml file apart<font color="#CCCCCC"> um so</font>

347
00:16:34,080 --> 00:16:42,750
with that it also includes<font color="#CCCCCC"> images and</font>

348
00:16:36,870 --> 00:16:45,170
includes um<font color="#CCCCCC"> sounds music videos right so</font>

349
00:16:42,750 --> 00:16:48,630
it breaks it down which we will<font color="#CCCCCC"> see here</font>

350
00:16:45,170 --> 00:16:50,130
shortly so what's important understand

351
00:16:48,630 --> 00:16:53,189
is that the file structure itself

352
00:16:50,130 --> 00:16:55,800
doesn't matter the relationship<font color="#CCCCCC"> of the</font>

353
00:16:53,190 --> 00:16:58,620
individual files that is defined within

354
00:16:55,800 --> 00:16:59,880
the docx that make up the docx file does

355
00:16:58,620 --> 00:17:01,980
matter so I know it's<font color="#CCCCCC"> pretty confusing</font>

356
00:16:59,880 --> 00:17:03,270
it was confusing to me and not writing

357
00:17:01,980 --> 00:17:05,339
when I was writing it and I<font color="#E5E5E5"> was trying</font>

358
00:17:03,270 --> 00:17:07,079
<font color="#CCCCCC">to think of a way that I can make</font><font color="#E5E5E5"> that</font>

359
00:17:05,339 --> 00:17:08,520
simpler and the<font color="#E5E5E5"> only way I could come</font><font color="#CCCCCC"> up</font>

360
00:17:07,079 --> 00:17:10,889
with<font color="#CCCCCC"> is actually showing you so</font><font color="#E5E5E5"> that's</font>

361
00:17:08,520 --> 00:17:14,459
why I included it um so you can rename

362
00:17:10,890 --> 00:17:18,990
and rearrange any part of an<font color="#CCCCCC"> XML file so</font>

363
00:17:14,459 --> 00:17:20,370
if you have um if you're let's say you

364
00:17:18,990 --> 00:17:22,679
you have a<font color="#CCCCCC"> business and you have a</font>

365
00:17:20,369 --> 00:17:23,790
thousand documents and then your company

366
00:17:22,679 --> 00:17:25,199
says<font color="#E5E5E5"> all right we're going through a new</font>

367
00:17:23,790 --> 00:17:29,340
rebranding phase we're going to change

368
00:17:25,199 --> 00:17:32,730
out our logo in the binary form you

369
00:17:29,340 --> 00:17:35,820
would<font color="#E5E5E5"> have to go in and open each</font>

370
00:17:32,730 --> 00:17:38,190
document and change the logo whereas<font color="#E5E5E5"> XML</font>

371
00:17:35,820 --> 00:17:40,439
you can<font color="#CCCCCC"> actually do like a batch portion</font>

372
00:17:38,190 --> 00:17:42,420
of it and say I want you<font color="#E5E5E5"> to navigate to</font>

373
00:17:40,440 --> 00:17:44,820
this folder with this file name and<font color="#E5E5E5"> I</font>

374
00:17:42,420 --> 00:17:47,700
want you to replace<font color="#CCCCCC"> it with this file</font>

375
00:17:44,820 --> 00:17:50,100
and all of all the all the document

376
00:17:47,700 --> 00:17:51,480
files in this folder start

377
00:17:50,100 --> 00:17:53,490
I would<font color="#E5E5E5"> run through and do it all for</font>

378
00:17:51,480 --> 00:17:56,850
you that's where the power of XML comes

379
00:17:53,490 --> 00:17:59,070
into play because it doesn't it's it's

380
00:17:56,850 --> 00:18:01,139
it breaks it down to a level that you

381
00:17:59,070 --> 00:18:08,780
<font color="#E5E5E5">can pick apart the things that you don't</font>

382
00:18:01,140 --> 00:18:11,490
<font color="#E5E5E5">need so with that this is how</font><font color="#CCCCCC"> um typical</font>

383
00:18:08,780 --> 00:18:13,350
openoffice format files are broken down

384
00:18:11,490 --> 00:18:16,770
so<font color="#CCCCCC"> you got document properties which is</font>

385
00:18:13,350 --> 00:18:19,049
essentially<font color="#E5E5E5"> your your metadata this is</font>

386
00:18:16,770 --> 00:18:21,450
the author the<font color="#CCCCCC"> date it was last modified</font>

387
00:18:19,049 --> 00:18:24,139
<font color="#CCCCCC">date of this class opened and you have</font>

388
00:18:21,450 --> 00:18:27,990
any custom defined xml so this might<font color="#CCCCCC"> be</font>

389
00:18:24,140 --> 00:18:30,750
<font color="#CCCCCC">xmls xml code a specific to that file</font>

390
00:18:27,990 --> 00:18:33,090
format you got any<font color="#E5E5E5"> bedded code or macros</font>

391
00:18:30,750 --> 00:18:34,890
this will show<font color="#CCCCCC"> up here and you might</font>

392
00:18:33,090 --> 00:18:36,299
have word markup language spreadsheet

393
00:18:34,890 --> 00:18:39,150
markup language<font color="#CCCCCC"> PowerPoint markup</font>

394
00:18:36,299 --> 00:18:42,059
language cetera we'll be there any

395
00:18:39,150 --> 00:18:44,340
charts so if you a lot of the you can

396
00:18:42,059 --> 00:18:47,220
add a lot<font color="#E5E5E5"> of smart charts or charge you</font>

397
00:18:44,340 --> 00:18:49,260
just created in my chrysanthemums you

398
00:18:47,220 --> 00:18:50,370
can put those in there as well<font color="#CCCCCC"> as images</font>

399
00:18:49,260 --> 00:18:52,620
video and sound files and we talked

400
00:18:50,370 --> 00:18:55,289
about<font color="#CCCCCC"> earlier and the comments so the</font>

401
00:18:52,620 --> 00:18:58,408
comments and the markup language so<font color="#E5E5E5"> you</font>

402
00:18:55,289 --> 00:19:00,960
have like editing or<font color="#CCCCCC"> Word documents you</font>

403
00:18:58,409 --> 00:19:04,409
can it'll track<font color="#CCCCCC"> oh I</font><font color="#E5E5E5"> deleted this word</font>

404
00:19:00,960 --> 00:19:07,169
and<font color="#E5E5E5"> add it this word instead all right</font>

405
00:19:04,409 --> 00:19:10,230
so an OpenOffice format breakdown

406
00:19:07,169 --> 00:19:13,549
there's essentially three core folders

407
00:19:10,230 --> 00:19:17,520
depending<font color="#CCCCCC"> on what you include into your</font>

408
00:19:13,549 --> 00:19:20,280
into your file to your in this case our

409
00:19:17,520 --> 00:19:21,539
word document depends on what folders

410
00:19:20,280 --> 00:19:22,860
are going to be there and<font color="#E5E5E5"> how big your</font>

411
00:19:21,539 --> 00:19:24,960
file is going to be obviously<font color="#E5E5E5"> the more</font>

412
00:19:22,860 --> 00:19:27,840
things you add to it<font color="#E5E5E5"> longer your</font>

413
00:19:24,960 --> 00:19:28,950
document is the bigger your more<font color="#CCCCCC"> XML</font>

414
00:19:27,840 --> 00:19:33,059
files and<font color="#CCCCCC"> the more</font><font color="#E5E5E5"> things you're going</font>

415
00:19:28,950 --> 00:19:35,220
<font color="#E5E5E5">to have in it so the the top one is the</font>

416
00:19:33,059 --> 00:19:38,220
relationship folder and remember the

417
00:19:35,220 --> 00:19:40,980
relationship portion is the is is the

418
00:19:38,220 --> 00:19:44,789
key so it's what ties everything

419
00:19:40,980 --> 00:19:46,590
together right so it contains a dot rels

420
00:19:44,789 --> 00:19:48,780
file that defines root relationships

421
00:19:46,590 --> 00:19:51,629
within the package package being the

422
00:19:48,780 --> 00:19:53,760
docx file itself it's the first<font color="#E5E5E5"> place</font>

423
00:19:51,630 --> 00:19:55,980
<font color="#E5E5E5">that parses and you should look at when</font>

424
00:19:53,760 --> 00:20:00,900
parsing through file<font color="#CCCCCC"> all right so</font><font color="#E5E5E5"> I say</font>

425
00:19:55,980 --> 00:20:02,119
<font color="#E5E5E5">that because this is where most</font><font color="#CCCCCC"> xxc</font><font color="#E5E5E5"> code</font>

426
00:20:00,900 --> 00:20:04,549
is going to be implement

427
00:20:02,119 --> 00:20:05,569
is in a relationship file because it's

428
00:20:04,549 --> 00:20:08,749
not<font color="#E5E5E5"> only the first thing</font><font color="#CCCCCC"> that gets</font>

429
00:20:05,569 --> 00:20:10,428
looked at when it's being parse the next

430
00:20:08,749 --> 00:20:11,929
thing is the application<font color="#E5E5E5"> name folder it</font>

431
00:20:10,429 --> 00:20:14,599
contains the<font color="#E5E5E5"> XML files and folders that</font>

432
00:20:11,929 --> 00:20:17,899
contain other relevant XML and media

433
00:20:14,599 --> 00:20:20,769
files used within the docx and then a

434
00:20:17,899 --> 00:20:25,069
dot props folder which is<font color="#E5E5E5"> the</font><font color="#CCCCCC"> meb</font><font color="#E5E5E5"> data</font>

435
00:20:20,769 --> 00:20:27,979
right so now we're going<font color="#E5E5E5"> to go into the</font>

436
00:20:25,069 --> 00:20:29,779
demo phase so we have a docx demo<font color="#E5E5E5"> and</font>

437
00:20:27,979 --> 00:20:32,779
explanation about it so you guys<font color="#E5E5E5"> can</font>

438
00:20:29,779 --> 00:20:35,089
<font color="#CCCCCC">kind of see it on then we</font><font color="#E5E5E5"> have a</font>

439
00:20:32,779 --> 00:20:36,889
demonstration of<font color="#E5E5E5"> this tool some funny</font>

440
00:20:35,089 --> 00:20:45,469
stories that go along with it and then

441
00:20:36,889 --> 00:20:47,829
the x-bow leading xxe demo guys cannot

442
00:20:45,469 --> 00:20:47,829
see them

443
00:20:52,150 --> 00:20:56,250
so<font color="#E5E5E5"> I'm Bruce Wayne xubuntu box today</font>

444
00:20:56,520 --> 00:21:01,080
come Batman guys well i'm a huge nerd

445
00:21:01,410 --> 00:21:10,450
<font color="#CCCCCC">all right so this is</font><font color="#E5E5E5"> just some we're</font>

446
00:21:04,960 --> 00:21:13,180
gonna open<font color="#E5E5E5"> this up so this is</font><font color="#CCCCCC"> just some</font>

447
00:21:10,450 --> 00:21:15,130
newsletter that<font color="#E5E5E5"> i found on the</font><font color="#CCCCCC"> googles</font>

448
00:21:13,180 --> 00:21:16,900
last night I literally type in

449
00:21:15,130 --> 00:21:18,880
newsletter is some<font color="#E5E5E5"> Google door its kind</font>

450
00:21:16,900 --> 00:21:23,710
docx and this is the first one<font color="#CCCCCC"> that came</font>

451
00:21:18,880 --> 00:21:25,000
up<font color="#E5E5E5"> so um they now due to state funding</font>

452
00:21:23,710 --> 00:21:28,000
<font color="#CCCCCC">on common core</font><font color="#E5E5E5"> standards we now have</font>

453
00:21:25,000 --> 00:21:29,770
almost 200 Chromebooks it's cool anyways

454
00:21:28,000 --> 00:21:32,140
I thought this was<font color="#E5E5E5"> a good one because it</font>

455
00:21:29,770 --> 00:21:34,900
has multiple colors that has multiple

456
00:21:32,140 --> 00:21:38,260
shapes it has many different pictures

457
00:21:34,900 --> 00:21:40,870
and it's got links and all types of

458
00:21:38,260 --> 00:21:46,000
goodness right so this is<font color="#E5E5E5"> essentially a</font>

459
00:21:40,870 --> 00:21:50,429
docx file so it's really cool about<font color="#E5E5E5"> this</font>

460
00:21:46,000 --> 00:21:55,270
docx file is that you can go in and

461
00:21:50,430 --> 00:21:58,540
rename<font color="#CCCCCC"> it and</font><font color="#E5E5E5"> it's change it to that's</font>

462
00:21:55,270 --> 00:22:02,040
<font color="#E5E5E5">it and if change is now zip and then</font>

463
00:21:58,540 --> 00:22:02,040
from<font color="#CCCCCC"> there you can extract it</font>

464
00:22:04,890 --> 00:22:13,740
so we'll extract it and then we now have

465
00:22:10,770 --> 00:22:16,590
we now see the folders and files that

466
00:22:13,740 --> 00:22:19,140
make up this docx file right so we have

467
00:22:16,590 --> 00:22:21,570
<font color="#CCCCCC">the relationship file so because this</font>

468
00:22:19,140 --> 00:22:24,390
file is so important that if this file

469
00:22:21,570 --> 00:22:28,560
is damaged in any way the whole document

470
00:22:24,390 --> 00:22:32,550
becomes unreadable<font color="#CCCCCC"> our that's the wrong</font>

471
00:22:28,560 --> 00:22:34,470
terminology the software<font color="#CCCCCC"> that is parsing</font>

472
00:22:32,550 --> 00:22:37,649
it<font color="#CCCCCC"> we're looking at</font><font color="#E5E5E5"> it can't determine</font>

473
00:22:34,470 --> 00:22:40,170
can't read it we can read it if we open

474
00:22:37,650 --> 00:22:41,520
these individual files but the<font color="#E5E5E5"> Dom the</font>

475
00:22:40,170 --> 00:22:43,140
software itself can't read in and

476
00:22:41,520 --> 00:22:45,300
possibly the hardware that's interpreted

477
00:22:43,140 --> 00:22:46,440
as well so they hide it by default<font color="#CCCCCC"> so</font>

478
00:22:45,300 --> 00:22:52,080
we'll just<font color="#CCCCCC"> go in and show hidden files</font>

479
00:22:46,440 --> 00:22:55,860
and this plant peekaboo there it is so

480
00:22:52,080 --> 00:22:58,110
we open it up um this<font color="#E5E5E5"> essentially what</font>

481
00:22:55,860 --> 00:23:00,959
it looks like so xml version<font color="#CCCCCC"> 1 it's got</font>

482
00:22:58,110 --> 00:23:02,939
a type of encoding then it's got the

483
00:23:00,960 --> 00:23:06,240
relationships that<font color="#E5E5E5"> it's going with so</font>

484
00:23:02,940 --> 00:23:09,150
it's pointing to<font color="#E5E5E5"> um these schemas is</font>

485
00:23:06,240 --> 00:23:12,600
pointing to these are and this is

486
00:23:09,150 --> 00:23:14,550
essentially<font color="#E5E5E5"> just standard just standard</font>

487
00:23:12,600 --> 00:23:18,120
relationships and schemas saying if you

488
00:23:14,550 --> 00:23:19,680
see if you see this<font color="#E5E5E5"> is this is</font>

489
00:23:18,120 --> 00:23:23,729
essentially<font color="#CCCCCC"> what the docx file will look</font>

490
00:23:19,680 --> 00:23:27,560
like right these are the rules<font color="#E5E5E5"> that is</font>

491
00:23:23,730 --> 00:23:27,560
governing this document

492
00:23:30,580 --> 00:23:36,840
<font color="#E5E5E5">to open a docx the document properties</font>

493
00:23:39,149 --> 00:23:44,260
pretty much the same thing<font color="#E5E5E5"> we're seeing</font>

494
00:23:41,350 --> 00:23:46,539
the name is a template so this was made

495
00:23:44,260 --> 00:23:49,000
from a template called newsletter we're

496
00:23:46,539 --> 00:23:51,460
seeing<font color="#E5E5E5"> that it's a total two pages at</font>

497
00:23:49,000 --> 00:23:53,830
seven or 69 words it was made for

498
00:23:51,460 --> 00:23:59,640
microsoft office word at Stan paragraphs

499
00:23:53,830 --> 00:24:02,649
36 lines so forth and so forth right

500
00:23:59,640 --> 00:24:06,010
this is where you're<font color="#E5E5E5"> going to see all</font>

501
00:24:02,649 --> 00:24:07,479
this cool little when college students

502
00:24:06,010 --> 00:24:11,710
writing papers and they're like it's got

503
00:24:07,480 --> 00:24:14,909
to be<font color="#CCCCCC"> 5,000 words right I'm 4947 hey</font>

504
00:24:11,710 --> 00:24:16,630
what little sentence can<font color="#CCCCCC"> i add in here</font>

505
00:24:14,909 --> 00:24:19,360
this is where it's pulling that

506
00:24:16,630 --> 00:24:23,100
information<font color="#E5E5E5"> from pretty much the same</font>

507
00:24:19,360 --> 00:24:25,629
thing<font color="#E5E5E5"> so we're here we are in the core</font>

508
00:24:23,100 --> 00:24:28,209
<font color="#CCCCCC">XML files over</font><font color="#E5E5E5"> seeing that the last time</font>

509
00:24:25,630 --> 00:24:35,590
it was modified class day was printed

510
00:24:28,210 --> 00:24:37,690
which was a 2014 source stuff so but so

511
00:24:35,590 --> 00:24:40,418
from there we actually have and then we

512
00:24:37,690 --> 00:24:41,679
have custom xml so this<font color="#E5E5E5"> is actually that</font>

513
00:24:40,419 --> 00:24:44,740
custom set was talking about and you'll

514
00:24:41,679 --> 00:24:46,779
see a relationship<font color="#CCCCCC"> as we continue to go</font>

515
00:24:44,740 --> 00:24:48,250
down so as you<font color="#E5E5E5"> drill down into you're</font>

516
00:24:46,779 --> 00:24:50,740
going to have a relationship if<font color="#E5E5E5"> it needs</font>

517
00:24:48,250 --> 00:24:56,590
to to specify how things are tied

518
00:24:50,740 --> 00:24:58,990
together so this will be the<font color="#E5E5E5"> application</font>

519
00:24:56,590 --> 00:25:01,149
<font color="#E5E5E5">specific right here so because we're</font>

520
00:24:58,990 --> 00:25:03,909
<font color="#CCCCCC">doing the docx file its it's</font><font color="#E5E5E5"> going to be</font>

521
00:25:01,149 --> 00:25:06,189
word and then this<font color="#CCCCCC"> is where your core</font>

522
00:25:03,909 --> 00:25:08,169
file is<font color="#CCCCCC"> going to be alright so these are</font>

523
00:25:06,190 --> 00:25:09,250
your if you have in notes is where

524
00:25:08,169 --> 00:25:12,190
they're going to be your headers and

525
00:25:09,250 --> 00:25:15,419
footers your if you have numbering or

526
00:25:12,190 --> 00:25:17,799
bullets and styles and themes and a

527
00:25:15,419 --> 00:25:20,559
media right so it actually breaks your

528
00:25:17,799 --> 00:25:22,658
pictures down so because<font color="#CCCCCC"> you have this</font>

529
00:25:20,559 --> 00:25:26,110
file directory let's say I don't<font color="#E5E5E5"> like</font>

530
00:25:22,659 --> 00:25:28,269
<font color="#E5E5E5">this paw print I want a cat print</font>

531
00:25:26,110 --> 00:25:30,699
instead and I want this photo you<font color="#CCCCCC"> can</font>

532
00:25:28,269 --> 00:25:33,820
implement that right you could say get

533
00:25:30,700 --> 00:25:37,870
rid of image 1 dot PNG put image<font color="#E5E5E5"> 5 dot</font>

534
00:25:33,820 --> 00:25:41,250
PNG in its place and then go go forward

535
00:25:37,870 --> 00:25:44,290
that way right so to document doc<font color="#CCCCCC"> X</font>

536
00:25:41,250 --> 00:25:46,910
document xml

537
00:25:44,290 --> 00:25:49,580
it's gonna<font color="#E5E5E5"> be huge there's a lot</font><font color="#CCCCCC"> of</font>

538
00:25:46,910 --> 00:25:51,320
stuff in it um but this is essentially

539
00:25:49,580 --> 00:25:54,949
where you have your texts your your

540
00:25:51,320 --> 00:25:59,090
headings your titles your your your body

541
00:25:54,950 --> 00:26:02,110
you pretty<font color="#E5E5E5"> much the meat of your of your</font>

542
00:25:59,090 --> 00:26:08,360
<font color="#E5E5E5">document this is where it's going to be</font>

543
00:26:02,110 --> 00:26:14,570
so essentially a breakdown of a doc docx

544
00:26:08,360 --> 00:26:16,909
file right so now as you can see that

545
00:26:14,570 --> 00:26:18,980
that took a lot of work to go<font color="#E5E5E5"> into that</font>

546
00:26:16,910 --> 00:26:21,620
folder and then<font color="#CCCCCC"> to I have to click on</font>

547
00:26:18,980 --> 00:26:23,180
the xml file and then i<font color="#CCCCCC"> have to</font><font color="#E5E5E5"> like</font>

548
00:26:21,620 --> 00:26:25,280
tight my stuff into it it's pretty

549
00:26:23,180 --> 00:26:28,370
tedious so what do we do<font color="#E5E5E5"> when we find</font>

550
00:26:25,280 --> 00:26:32,240
things like<font color="#E5E5E5"> that he scripted right so</font>

551
00:26:28,370 --> 00:26:33,979
that's<font color="#CCCCCC"> exactly</font><font color="#E5E5E5"> what um will did and his</font>

552
00:26:32,240 --> 00:26:35,420
code is<font color="#CCCCCC"> on github so at the end of</font><font color="#E5E5E5"> my</font>

553
00:26:33,980 --> 00:26:37,640
slides I'll make<font color="#E5E5E5"> sure my slides are</font>

554
00:26:35,420 --> 00:26:40,700
available again there are references

555
00:26:37,640 --> 00:26:42,740
that<font color="#E5E5E5"> I used for building this um his is</font>

556
00:26:40,700 --> 00:26:44,660
most definitely in there so has a lot of

557
00:26:42,740 --> 00:26:46,250
good good solid information if you're

558
00:26:44,660 --> 00:26:51,080
finding out you're more interested about

559
00:26:46,250 --> 00:26:54,290
this topic later so I<font color="#E5E5E5"> found out last</font>

560
00:26:51,080 --> 00:27:00,260
night that will actually released a

561
00:26:54,290 --> 00:27:03,139
version two of his tool that the id10t

562
00:27:00,260 --> 00:27:04,879
error set in at like<font color="#E5E5E5"> two-thirty this</font>

563
00:27:03,140 --> 00:27:08,000
morning and<font color="#E5E5E5"> I could not figure it out</font>

564
00:27:04,880 --> 00:27:12,770
why<font color="#E5E5E5"> I why I couldn't get it to work</font>

565
00:27:08,000 --> 00:27:15,980
couldn't<font color="#E5E5E5"> get it to work um so after any</font>

566
00:27:12,770 --> 00:27:18,410
cups of coffee and some push-ups I was

567
00:27:15,980 --> 00:27:21,320
like okay cool we're going to it's on

568
00:27:18,410 --> 00:27:22,820
github so does commits<font color="#E5E5E5"> I can just go</font>

569
00:27:21,320 --> 00:27:26,330
<font color="#CCCCCC">back roll it back and find it that way</font>

570
00:27:22,820 --> 00:27:28,730
um but I didn't<font color="#E5E5E5"> want to demo it for you</font>

571
00:27:26,330 --> 00:27:34,399
<font color="#CCCCCC">guys and kind</font><font color="#E5E5E5"> of show you a little bit</font>

572
00:27:28,730 --> 00:27:36,980
about it<font color="#E5E5E5"> so um essentially it's you can</font>

573
00:27:34,400 --> 00:27:40,160
create<font color="#E5E5E5"> a file right so you say what file</font>

574
00:27:36,980 --> 00:27:42,410
type you want and in the payload type so

575
00:27:40,160 --> 00:27:45,860
for for our instance we're going to do a

576
00:27:42,410 --> 00:27:49,310
remote DTD public check um connect that

577
00:27:45,860 --> 00:27:52,189
protocol you can do HTTP you go<font color="#CCCCCC"> fer you</font>

578
00:27:49,310 --> 00:27:54,260
do mail to file ftp whatever you're

579
00:27:52,190 --> 00:27:55,070
trying to<font color="#E5E5E5"> exploit that you wanted to</font><font color="#CCCCCC"> eat</font>

580
00:27:54,260 --> 00:27:59,000
<font color="#E5E5E5">it</font>

581
00:27:55,070 --> 00:28:01,789
back to UM the hostname and IP address

582
00:27:59,000 --> 00:28:05,649
and/or port that you're wanting<font color="#E5E5E5"> it to</font>

583
00:28:01,789 --> 00:28:10,809
connect back to write on the<font color="#E5E5E5"> file to</font>

584
00:28:05,649 --> 00:28:14,899
exfiltrate so if you're doing a blind

585
00:28:10,809 --> 00:28:17,509
openoffice<font color="#CCCCCC"> xxe portion you're saying i</font>

586
00:28:14,899 --> 00:28:19,969
want to find this file but<font color="#E5E5E5"> i don't</font><font color="#CCCCCC"> know</font>

587
00:28:17,509 --> 00:28:21,950
where this file is that's essentially

588
00:28:19,970 --> 00:28:23,960
where you would kind of put that a

589
00:28:21,950 --> 00:28:26,029
little bit so the<font color="#CCCCCC"> standard that what</font>

590
00:28:23,960 --> 00:28:28,399
most people do to kind of do a proof of

591
00:28:26,029 --> 00:28:30,889
concept is<font color="#E5E5E5"> the etsy / password file on</font>

592
00:28:28,399 --> 00:28:34,039
the linux box um the description of a

593
00:28:30,889 --> 00:28:38,928
file then you can specify a specific<font color="#CCCCCC"> XML</font>

594
00:28:34,039 --> 00:28:40,490
for your file format or you can if you

595
00:28:38,929 --> 00:28:42,200
already have a file that you want to<font color="#CCCCCC"> use</font>

596
00:28:40,490 --> 00:28:45,379
you can<font color="#E5E5E5"> actually just plug it in there</font>

597
00:28:42,200 --> 00:28:47,929
and<font color="#E5E5E5"> it'll inject the code in itself hit</font>

598
00:28:45,379 --> 00:28:51,439
build it downloaded straight to your box

599
00:28:47,929 --> 00:28:54,409
and<font color="#E5E5E5"> now you have your many of your docx</font>

600
00:28:51,440 --> 00:28:56,629
file she can use for the life of me I

601
00:28:54,409 --> 00:29:00,049
cannot figure out how to get it<font color="#CCCCCC"> to work</font>

602
00:28:56,629 --> 00:29:01,399
I couldn't and and it I wanted<font color="#E5E5E5"> to</font><font color="#CCCCCC"> use</font>

603
00:29:00,049 --> 00:29:04,580
this tool to demonstrate how awesome it

604
00:29:01,399 --> 00:29:06,979
was so I didn't just want to copy and

605
00:29:04,580 --> 00:29:10,039
paste it in there so I went<font color="#E5E5E5"> back</font><font color="#CCCCCC"> to his</font>

606
00:29:06,980 --> 00:29:14,809
<font color="#E5E5E5">first version and um because I knew that</font>

607
00:29:10,039 --> 00:29:16,340
worked so<font color="#E5E5E5"> his first version is not as</font>

608
00:29:14,809 --> 00:29:21,039
pretty but it's most definitely

609
00:29:16,340 --> 00:29:27,399
effective it's essentially a ruby script

610
00:29:21,039 --> 00:29:27,399
so if you<font color="#E5E5E5"> guys can</font>

611
00:29:28,750 --> 00:29:32,410
need is a<font color="#CCCCCC"> little bit bigger</font>

612
00:29:36,240 --> 00:29:44,040
you guys seen that<font color="#E5E5E5"> all right cool all</font>

613
00:29:39,120 --> 00:29:46,649
right so um download from github last

614
00:29:44,040 --> 00:29:50,730
night<font color="#CCCCCC"> awesome so it's Ruby um and it's a</font>

615
00:29:46,650 --> 00:29:53,490
ruby file tak be is the flag meaning

616
00:29:50,730 --> 00:29:55,050
<font color="#E5E5E5">that you're going to build a file tak f</font>

617
00:29:53,490 --> 00:29:59,400
means that you're<font color="#E5E5E5"> going to force these</font>

618
00:29:55,050 --> 00:30:01,919
changes into the<font color="#E5E5E5"> file and then the dot</font>

619
00:29:59,400 --> 00:30:03,540
are the samples and in the sample<font color="#E5E5E5"> doc um</font>

620
00:30:01,920 --> 00:30:06,330
this is where you could either upload

621
00:30:03,540 --> 00:30:09,210
your own arm but Wells tool already has

622
00:30:06,330 --> 00:30:10,620
like blank examples of many different

623
00:30:09,210 --> 00:30:14,070
file types that<font color="#E5E5E5"> they could use that you</font>

624
00:30:10,620 --> 00:30:16,439
cannot just use that<font color="#E5E5E5"> instead so from</font>

625
00:30:14,070 --> 00:30:19,620
there I'm<font color="#CCCCCC"> going to ask what what kind of</font>

626
00:30:16,440 --> 00:30:24,050
kind of payload do you want um so for us

627
00:30:19,620 --> 00:30:26,729
we're going<font color="#E5E5E5"> to be doing a remote DTD and</font>

628
00:30:24,050 --> 00:30:34,260
then payload requires a connect back IP

629
00:30:26,730 --> 00:30:35,490
so I'm<font color="#E5E5E5"> doing it on my local box and then</font>

630
00:30:34,260 --> 00:30:38,910
appeal it requires a remote file to

631
00:30:35,490 --> 00:30:40,980
check for on your server right so excuse

632
00:30:38,910 --> 00:30:42,990
me so all<font color="#E5E5E5"> it's going to do is just go to</font>

633
00:30:40,980 --> 00:30:46,770
see if they could<font color="#CCCCCC"> find that excuse me</font>

634
00:30:42,990 --> 00:30:48,840
that that file in it if it finds it

635
00:30:46,770 --> 00:30:51,090
she's<font color="#E5E5E5"> going to shoot back whatever was</font>

636
00:30:48,840 --> 00:30:53,040
in that file<font color="#CCCCCC"> alright so I don't have</font>

637
00:30:51,090 --> 00:30:56,370
anything for it I was trying really<font color="#E5E5E5"> hard</font>

638
00:30:53,040 --> 00:30:59,550
to do the etsy / password because i

639
00:30:56,370 --> 00:31:01,080
thought i'd be pretty pretty awesome um

640
00:30:59,550 --> 00:31:03,690
a little bit more<font color="#E5E5E5"> time I could have</font>

641
00:31:01,080 --> 00:31:07,139
figured it out but so for here we're

642
00:31:03,690 --> 00:31:08,250
just going to do payload ETD um and then

643
00:31:07,140 --> 00:31:10,980
it's going to ask where do you want to

644
00:31:08,250 --> 00:31:12,390
put<font color="#E5E5E5"> it at right so right up here this is</font>

645
00:31:10,980 --> 00:31:16,160
<font color="#CCCCCC">a doctype that it automatically</font>

646
00:31:12,390 --> 00:31:16,160
generated for us where my mouse is

647
00:31:20,039 --> 00:31:28,950
hot corners so right here<font color="#CCCCCC"> I have</font><font color="#E5E5E5"> dot</font>

648
00:31:24,029 --> 00:31:31,080
<font color="#E5E5E5">type root AG public um Oh</font><font color="#CCCCCC"> xml x is een</font>

649
00:31:28,950 --> 00:31:32,879
and it's<font color="#E5E5E5"> going to call back here and</font>

650
00:31:31,080 --> 00:31:34,279
it's going<font color="#E5E5E5"> to look for this so this is</font>

651
00:31:32,879 --> 00:31:38,639
actually what it's going to put in

652
00:31:34,279 --> 00:31:41,549
inject into the stock X file um from

653
00:31:38,639 --> 00:31:42,840
there you can insert in all files you

654
00:31:41,549 --> 00:31:45,418
can insert in all files in<font color="#E5E5E5"> the same</font>

655
00:31:42,840 --> 00:31:49,109
excel file and create an entity canary

656
00:31:45,419 --> 00:31:50,940
um what we're going to look<font color="#CCCCCC"> for is the</font>

657
00:31:49,109 --> 00:31:52,918
actual relationships because I know for

658
00:31:50,940 --> 00:31:54,539
a fact that the parser is going to find

659
00:31:52,919 --> 00:31:58,739
it<font color="#CCCCCC"> and it's</font><font color="#E5E5E5"> going to go through it</font><font color="#CCCCCC"> all</font>

660
00:31:54,539 --> 00:32:01,529
<font color="#E5E5E5">right so pick that it creates it and</font>

661
00:31:58,739 --> 00:32:07,529
we're<font color="#E5E5E5"> done we now have an awesome</font>

662
00:32:01,529 --> 00:32:10,909
awesome folder our awesome docx file now

663
00:32:07,529 --> 00:32:10,909
we're going to be leet haxor with

664
00:32:16,930 --> 00:32:23,980
and then here is our output file<font color="#E5E5E5"> all</font>

665
00:32:19,360 --> 00:32:28,179
<font color="#E5E5E5">right awesome so from here now that</font><font color="#CCCCCC"> we</font>

666
00:32:23,980 --> 00:32:34,210
has is now that we have this file do a

667
00:32:28,180 --> 00:32:39,820
little concept a little bit we're not

668
00:32:34,210 --> 00:32:42,580
<font color="#E5E5E5">going to upload it so um so</font><font color="#CCCCCC"> this is a</font>

669
00:32:39,820 --> 00:32:44,320
this<font color="#CCCCCC"> is like</font><font color="#E5E5E5"> I said before this is EXO</font>

670
00:32:42,580 --> 00:32:48,399
platform<font color="#E5E5E5"> it's kind of used for like</font>

671
00:32:44,320 --> 00:32:51,460
internals an internal facebook it allows

672
00:32:48,400 --> 00:32:54,220
you to share files obviously upload

673
00:32:51,460 --> 00:32:58,090
files but also allows you to comment and

674
00:32:54,220 --> 00:32:59,440
see photos and do all the cool project

675
00:32:58,090 --> 00:33:01,780
management collaboration type stuff

676
00:32:59,440 --> 00:33:04,180
right so<font color="#E5E5E5"> this is one of their older</font>

677
00:33:01,780 --> 00:33:13,690
editions this is version 3.5 point<font color="#CCCCCC"> 5 I</font>

678
00:33:04,180 --> 00:33:16,900
<font color="#E5E5E5">think their</font><font color="#CCCCCC"> own 4.2 maybe 4.3 sounds</font>

679
00:33:13,690 --> 00:33:22,630
we're waiting for<font color="#E5E5E5"> this as you guys</font>

680
00:33:16,900 --> 00:33:26,730
didn't day so far dt d stands for

681
00:33:22,630 --> 00:33:30,390
document type declaration<font color="#CCCCCC"> i believe</font>

682
00:33:26,730 --> 00:33:30,390
description here it is

683
00:33:31,910 --> 00:33:34,660
<font color="#CCCCCC">there we go</font>

684
00:33:43,330 --> 00:33:48,159
yes<font color="#E5E5E5"> so just so you guys can</font><font color="#CCCCCC"> see so</font>

685
00:33:46,540 --> 00:33:50,200
essentially what i set up here I don't

686
00:33:48,160 --> 00:33:53,740
explain this I'm sorry I just set up a

687
00:33:50,200 --> 00:33:56,500
simple HTTP listener that<font color="#E5E5E5"> saying listen</font>

688
00:33:53,740 --> 00:34:00,910
is listen for any traffic on<font color="#E5E5E5"> this port</font>

689
00:33:56,500 --> 00:34:02,650
and just output whatever it is it's a

690
00:34:00,910 --> 00:34:09,190
simple web server that<font color="#CCCCCC"> allows me</font><font color="#E5E5E5"> to spin</font>

691
00:34:02,650 --> 00:34:12,970
it up real quick so it's uploading we

692
00:34:09,190 --> 00:34:14,409
get save and we're getting<font color="#CCCCCC"> four four</font>

693
00:34:12,969 --> 00:34:16,149
messages back we're getting<font color="#E5E5E5"> four or four</font>

694
00:34:14,409 --> 00:34:17,469
messages back because payload ETD

695
00:34:16,150 --> 00:34:20,290
doesn't<font color="#CCCCCC"> do this on the server at this</font>

696
00:34:17,469 --> 00:34:24,459
time but this<font color="#E5E5E5"> is</font><font color="#CCCCCC"> an indicator this is a</font>

697
00:34:20,290 --> 00:34:27,310
<font color="#E5E5E5">huge indicator that this um this server</font>

698
00:34:24,460 --> 00:34:29,760
is vulnerable to xxe so you know right

699
00:34:27,310 --> 00:34:33,400
off the<font color="#E5E5E5"> RIP that this is something</font><font color="#CCCCCC"> that</font>

700
00:34:29,760 --> 00:34:35,590
can<font color="#CCCCCC"> be exploited now the level that you</font>

701
00:34:33,400 --> 00:34:40,030
<font color="#E5E5E5">want to go into it is totally up to you</font>

702
00:34:35,590 --> 00:34:41,530
but<font color="#CCCCCC"> um</font><font color="#E5E5E5"> you can do more more things and</font>

703
00:34:40,030 --> 00:34:44,230
what's really what's really awesome

704
00:34:41,530 --> 00:34:45,640
about this from from an attacker

705
00:34:44,230 --> 00:34:47,560
standpoint was really awesome about<font color="#E5E5E5"> this</font>

706
00:34:45,639 --> 00:34:49,449
is that<font color="#E5E5E5"> there's still</font><font color="#CCCCCC"> a lot of</font><font color="#E5E5E5"> surface</font>

707
00:34:47,560 --> 00:34:51,909
areas that haven't been touched yet that

708
00:34:49,449 --> 00:34:55,929
people haven't really messed with or

709
00:34:51,909 --> 00:34:58,629
tinkered with yet so this allows um it's

710
00:34:55,929 --> 00:35:01,629
kind of lols little exploration it's

711
00:34:58,630 --> 00:35:03,820
also kind of kind of a good and bad

712
00:35:01,630 --> 00:35:07,240
thing is the<font color="#CCCCCC"> fact that many parsers are</font>

713
00:35:03,820 --> 00:35:11,260
written in like all the languages from

714
00:35:07,240 --> 00:35:15,040
go to PHP to<font color="#E5E5E5"> Python the job to Ruby so</font>

715
00:35:11,260 --> 00:35:19,180
they're all they're all susceptible to

716
00:35:15,040 --> 00:35:21,690
this type of thing um so from a defense

717
00:35:19,180 --> 00:35:29,350
side um like I said<font color="#E5E5E5"> in the beginning</font>

718
00:35:21,690 --> 00:35:33,280
this this um this XX e is a I'm going to

719
00:35:29,350 --> 00:35:35,410
strap it XX e is something that can be

720
00:35:33,280 --> 00:35:37,990
<font color="#E5E5E5">easily defended against the easiest way</font>

721
00:35:35,410 --> 00:35:40,779
to do it is to just turn off allowing

722
00:35:37,990 --> 00:35:44,470
external entities in your font and

723
00:35:40,780 --> 00:35:45,880
you're uploading<font color="#E5E5E5"> of your documents if</font>

724
00:35:44,470 --> 00:35:49,750
you see an external entity<font color="#CCCCCC"> you don't</font>

725
00:35:45,880 --> 00:35:52,120
allow it that could be pros and cons

726
00:35:49,750 --> 00:35:54,300
based on your<font color="#CCCCCC"> company's or your</font>

727
00:35:52,120 --> 00:35:56,200
organization's requirements but um

728
00:35:54,300 --> 00:35:58,300
that's that's a

729
00:35:56,200 --> 00:36:00,220
that's a huge recommendation and it's

730
00:35:58,300 --> 00:36:02,230
simple<font color="#E5E5E5"> it's not only like one line like</font>

731
00:36:00,220 --> 00:36:09,430
if it's true turn it to false if it's

732
00:36:02,230 --> 00:36:18,670
yes put it to no no restart so um<font color="#E5E5E5"> so</font>

733
00:36:09,430 --> 00:36:22,890
that's essentially I sexy so anybody

734
00:36:18,670 --> 00:36:22,890
have any questions or<font color="#CCCCCC"> comments yes sir</font>

735
00:36:25,680 --> 00:36:31,598
yes on I apologize yet so the name of

736
00:36:28,510 --> 00:36:38,050
the tool is XML at sexxxy and there's a

737
00:36:31,599 --> 00:36:41,290
link in the references page right here

738
00:36:38,050 --> 00:36:43,420
is essentially on this um on this domain

739
00:36:41,290 --> 00:36:45,310
so just type in this right here and

740
00:36:43,420 --> 00:36:49,390
you'll pull up the github page and<font color="#CCCCCC"> it'll</font>

741
00:36:45,310 --> 00:36:56,140
have<font color="#CCCCCC"> stuff</font><font color="#E5E5E5"> on there as far as what is</font>

742
00:36:49,390 --> 00:36:58,598
actually you know what that's a that's a

743
00:36:56,140 --> 00:37:00,879
very good question let me let me

744
00:36:58,599 --> 00:37:03,300
actually show you what what it what it

745
00:37:00,880 --> 00:37:03,300
injected

746
00:37:40,930 --> 00:37:54,578
so what it see can't do<font color="#E5E5E5"> it so what it</font>

747
00:37:51,579 --> 00:37:59,079
actually injected was this right here so

748
00:37:54,579 --> 00:38:02,950
the doctype root tag public Oh xml so

749
00:37:59,079 --> 00:38:05,140
this is<font color="#CCCCCC"> our actual um malicious code</font>

750
00:38:02,950 --> 00:38:09,069
that it's<font color="#E5E5E5"> going to parse so so when it</font>

751
00:38:05,140 --> 00:38:11,558
hits it it's saying um so root tag is

752
00:38:09,069 --> 00:38:13,079
pretty much<font color="#CCCCCC"> a catch-all so if you</font><font color="#E5E5E5"> don't</font>

753
00:38:11,559 --> 00:38:15,730
know what it<font color="#CCCCCC"> is you just save root tag</font>

754
00:38:13,079 --> 00:38:18,609
so it knows to go to exactly what it<font color="#CCCCCC"> is</font>

755
00:38:15,730 --> 00:38:23,339
to to the actual root tag um maybe I

756
00:38:18,609 --> 00:38:26,980
public then this right here is

757
00:38:23,339 --> 00:38:28,328
essentially the 00<font color="#E5E5E5"> XML so that's saying</font>

758
00:38:26,980 --> 00:38:33,130
that we're going<font color="#E5E5E5"> to we're going to</font>

759
00:38:28,329 --> 00:38:36,280
exploit using using this this this tool

760
00:38:33,130 --> 00:38:39,190
essentially in it HTTP this is our

761
00:38:36,280 --> 00:38:40,210
actual address this is our<font color="#E5E5E5"> callback so</font>

762
00:38:39,190 --> 00:38:43,300
this is<font color="#E5E5E5"> where we're going to send</font>

763
00:38:40,210 --> 00:38:45,700
whatever we find um back to and then

764
00:38:43,300 --> 00:38:48,040
payload<font color="#CCCCCC"> DTD is</font><font color="#E5E5E5"> the file that we were</font>

765
00:38:45,700 --> 00:38:50,589
looking<font color="#CCCCCC"> for</font><font color="#E5E5E5"> in the very beginning so</font>

766
00:38:48,040 --> 00:38:53,980
this is<font color="#CCCCCC"> where you would put the etsy /</font>

767
00:38:50,589 --> 00:38:56,710
password or if you knew if you knew for

768
00:38:53,980 --> 00:39:03,250
certain that there was a particular file

769
00:38:56,710 --> 00:39:06,369
um on on a on this server<font color="#E5E5E5"> right um that</font>

770
00:39:03,250 --> 00:39:10,319
answer your question yes nice anybody

771
00:39:06,369 --> 00:39:10,319
have any other questions yes sir

772
00:39:20,890 --> 00:39:24,900
is this just like to defend against

773
00:39:30,000 --> 00:39:36,910
I'm just<font color="#E5E5E5"> saying</font>

774
00:39:32,920 --> 00:39:39,640
yes so from from what I've read and I'm

775
00:39:36,910 --> 00:39:47,200
still<font color="#CCCCCC"> doing research on</font><font color="#E5E5E5"> this as well so</font>

776
00:39:39,640 --> 00:39:50,529
from what I've read it it seems<font color="#E5E5E5"> like me</font>

777
00:39:47,200 --> 00:39:52,359
back oh when<font color="#E5E5E5"> I spoke about when I spoke</font>

778
00:39:50,530 --> 00:39:54,280
earlier where you<font color="#CCCCCC"> had the two</font>

779
00:39:52,360 --> 00:39:56,140
classifications if they were valid or

780
00:39:54,280 --> 00:39:58,870
well-formed I said there were three

781
00:39:56,140 --> 00:40:02,740
types of wealth outage you can do both

782
00:39:58,870 --> 00:40:06,790
of those were external entities you can

783
00:40:02,740 --> 00:40:10,180
<font color="#CCCCCC">actually write your own DTD in that</font>

784
00:40:06,790 --> 00:40:12,370
actual<font color="#E5E5E5"> xml file so it's not calling out</font>

785
00:40:10,180 --> 00:40:14,440
to to anything it's actually<font color="#CCCCCC"> like</font>

786
00:40:12,370 --> 00:40:16,870
<font color="#E5E5E5">referring to itself like it's already</font>

787
00:40:14,440 --> 00:40:19,480
pre-loaded right so it parses from top

788
00:40:16,870 --> 00:40:22,089
to bottom so it'll see that and say<font color="#E5E5E5"> okay</font>

789
00:40:19,480 --> 00:40:24,100
I now<font color="#E5E5E5"> know how to read this doctype got</font>

790
00:40:22,090 --> 00:40:27,610
it boom<font color="#E5E5E5"> and then just just keep it</font>

791
00:40:24,100 --> 00:40:30,279
moving all the way through from what

792
00:40:27,610 --> 00:40:34,420
<font color="#E5E5E5">I've read just not allowing external</font>

793
00:40:30,280 --> 00:40:37,600
entities along the way<font color="#CCCCCC"> just just turning</font>

794
00:40:34,420 --> 00:40:39,340
it off right and then from<font color="#CCCCCC"> there</font><font color="#E5E5E5"> your</font>

795
00:40:37,600 --> 00:40:41,680
development could come in and say this

796
00:40:39,340 --> 00:40:44,080
was detected this<font color="#E5E5E5"> is what you know this</font>

797
00:40:41,680 --> 00:40:45,430
is<font color="#E5E5E5"> what we're looking for whatever your</font>

798
00:40:44,080 --> 00:40:48,580
error message should be financed your

799
00:40:45,430 --> 00:40:52,859
question yeah thanks<font color="#E5E5E5"> goodbye any other</font>

800
00:40:48,580 --> 00:40:52,860
questions comments yes sir

801
00:40:53,180 --> 00:41:00,950
external that<font color="#E5E5E5"> allowed the doc txt to</font>

802
00:40:57,390 --> 00:41:00,950
exploit fishing

803
00:41:01,460 --> 00:41:04,460
containing

804
00:41:07,339 --> 00:41:29,520
the entire yeah yeah and if<font color="#E5E5E5"> you're and</font>

805
00:41:28,020 --> 00:41:32,369
again if your filters aren't set up

806
00:41:29,520 --> 00:41:37,079
properly you know that it's zipped says

807
00:41:32,369 --> 00:41:39,329
a zip file anyways it depending on I

808
00:41:37,079 --> 00:41:41,040
guess the level and the depth that<font color="#E5E5E5"> your</font>

809
00:41:39,329 --> 00:41:43,010
that your filters are actually doing

810
00:41:41,040 --> 00:41:46,680
these these inspection of these files

811
00:41:43,010 --> 00:41:48,780
you're right it could get past I<font color="#CCCCCC"> dunno</font>

812
00:41:46,680 --> 00:41:49,859
<font color="#E5E5E5">there's research going on now talking</font>

813
00:41:48,780 --> 00:41:53,790
about<font color="#E5E5E5"> exactly what you're</font><font color="#CCCCCC"> talking about</font>

814
00:41:49,859 --> 00:41:55,770
<font color="#CCCCCC">JavaScript and looking at how JavaScript</font>

815
00:41:53,790 --> 00:41:58,380
parses it and how<font color="#E5E5E5"> you could use</font>

816
00:41:55,770 --> 00:42:04,160
<font color="#CCCCCC">JavaScript along with embedding it into</font>

817
00:41:58,380 --> 00:42:04,160
these documents that do<font color="#E5E5E5"> x XE that way</font>

818
00:42:05,359 --> 00:42:09,150
answer your question<font color="#E5E5E5"> comments concern</font>

819
00:42:07,890 --> 00:42:17,700
yeah

820
00:42:09,150 --> 00:42:20,760
anybody have anything else yes sir yeah

821
00:42:17,700 --> 00:42:23,879
so the fine thing with adobe is that its

822
00:42:20,760 --> 00:42:28,799
proprietary so it does use<font color="#CCCCCC"> XML but its</font>

823
00:42:23,880 --> 00:42:30,480
proprietary so it it's not as open out

824
00:42:28,799 --> 00:42:32,250
there I<font color="#CCCCCC"> dunno there's stuff on it but I</font>

825
00:42:30,480 --> 00:42:37,380
<font color="#CCCCCC">haven't like really done a deep-dive</font>

826
00:42:32,250 --> 00:42:39,029
into it yeah so I've<font color="#E5E5E5"> come to learn and</font>

827
00:42:37,380 --> 00:42:41,010
technology in<font color="#E5E5E5"> the many years</font><font color="#CCCCCC"> I've been</font>

828
00:42:39,029 --> 00:42:43,829
doing it there's always a way there's

829
00:42:41,010 --> 00:42:46,079
always<font color="#CCCCCC"> a way it's</font><font color="#E5E5E5"> just time effort money</font>

830
00:42:43,829 --> 00:42:48,359
and energy you<font color="#CCCCCC"> know you're going</font><font color="#E5E5E5"> to find</font>

831
00:42:46,079 --> 00:42:52,140
a way to accomplish whatever it is<font color="#E5E5E5"> that</font>

832
00:42:48,359 --> 00:42:55,140
you're<font color="#E5E5E5"> trying to do um but no so doc I</font>

833
00:42:52,140 --> 00:42:56,910
saw are cool they're awesome but if

834
00:42:55,140 --> 00:42:59,400
you're<font color="#E5E5E5"> sending you're not going to send</font>

835
00:42:56,910 --> 00:43:01,589
<font color="#E5E5E5">a docx file to a client you know if it's</font>

836
00:42:59,400 --> 00:43:06,240
a final<font color="#E5E5E5"> report you're going to send a</font>

837
00:43:01,589 --> 00:43:08,578
PDF or something similar<font color="#CCCCCC"> so PDFs are one</font>

838
00:43:06,240 --> 00:43:10,859
of the along with<font color="#CCCCCC"> Office documents are</font>

839
00:43:08,579 --> 00:43:12,270
one of the ones that you<font color="#CCCCCC"> know from from</font>

840
00:43:10,859 --> 00:43:15,569
what I've seen and what I've experienced

841
00:43:12,270 --> 00:43:16,529
<font color="#CCCCCC">that are the ones that are</font><font color="#E5E5E5"> getting</font><font color="#CCCCCC"> you</font>

842
00:43:15,569 --> 00:43:20,609
know people don't really<font color="#E5E5E5"> think about</font>

843
00:43:16,529 --> 00:43:22,020
just like macros inside or a document so

844
00:43:20,609 --> 00:43:24,150
yeah so that's most deadly something on

845
00:43:22,020 --> 00:43:28,410
my list that I really want<font color="#E5E5E5"> to learn</font><font color="#CCCCCC"> more</font>

846
00:43:24,150 --> 00:43:31,520
about and dig into any other questions

847
00:43:28,410 --> 00:43:31,520
anything else

848
00:43:32,530 --> 00:43:37,350
well that's all I have so thank you

