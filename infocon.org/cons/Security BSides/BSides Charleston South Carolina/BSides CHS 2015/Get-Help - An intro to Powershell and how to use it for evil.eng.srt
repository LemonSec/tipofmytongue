1
00:00:17,850 --> 00:00:24,010
all right everybody<font color="#E5E5E5"> this is</font><font color="#CCCCCC"> good help</font>

2
00:00:21,640 --> 00:00:28,270
and<font color="#CCCCCC"> ensure to PowerShell and how to use</font>

3
00:00:24,010 --> 00:00:30,670
<font color="#E5E5E5">it for evil my name is</font><font color="#CCCCCC"> Jared eight I'm a</font>

4
00:00:28,270 --> 00:00:34,300
security engineer with the<font color="#E5E5E5"> Charlotte</font>

5
00:00:30,670 --> 00:00:36,220
team with Gotham digital science<font color="#CCCCCC"> before</font>

6
00:00:34,300 --> 00:00:40,239
<font color="#E5E5E5">that I was a sysadmin for a long time</font>

7
00:00:36,220 --> 00:00:42,010
<font color="#CCCCCC">primarily</font><font color="#E5E5E5"> focused on</font><font color="#CCCCCC"> Windows</font><font color="#E5E5E5"> but being a</font>

8
00:00:40,239 --> 00:00:44,500
sysadmin<font color="#E5E5E5"> that kind of covers anything</font>

9
00:00:42,010 --> 00:00:45,849
with blinky lights on it<font color="#E5E5E5"> so it</font>

10
00:00:44,500 --> 00:00:51,519
<font color="#CCCCCC">definitely got</font><font color="#E5E5E5"> my hands on all sorts of</font>

11
00:00:45,850 --> 00:00:54,070
stuff for fun<font color="#E5E5E5"> I develop web apps and</font>

12
00:00:51,520 --> 00:00:55,870
just<font color="#E5E5E5"> stuff like that never been a</font>

13
00:00:54,070 --> 00:00:58,780
<font color="#CCCCCC">professional developer but it's fun</font><font color="#E5E5E5"> to</font>

14
00:00:55,870 --> 00:01:01,540
screw around<font color="#CCCCCC"> with</font><font color="#E5E5E5"> and if you do the</font>

15
00:00:58,780 --> 00:01:07,090
<font color="#E5E5E5">Twitter thing I'm at charity and I</font>

16
00:01:01,540 --> 00:01:09,009
retweet interesting<font color="#CCCCCC"> people so what I</font>

17
00:01:07,090 --> 00:01:13,240
wanted to do with this<font color="#E5E5E5"> with this</font>

18
00:01:09,009 --> 00:01:16,659
presentation is kind of give an<font color="#E5E5E5"> overview</font>

19
00:01:13,240 --> 00:01:19,149
<font color="#CCCCCC">of how easy it is to</font><font color="#E5E5E5"> get into PowerShell</font>

20
00:01:16,659 --> 00:01:20,799
<font color="#E5E5E5">I've been an advocate for PowerShell</font>

21
00:01:19,149 --> 00:01:22,240
pretty much since it came<font color="#E5E5E5"> out I think</font>

22
00:01:20,799 --> 00:01:24,460
<font color="#CCCCCC">it's definitely one of the</font><font color="#E5E5E5"> coolest</font>

23
00:01:22,240 --> 00:01:28,210
things that Microsoft has going<font color="#E5E5E5"> on right</font>

24
00:01:24,460 --> 00:01:32,710
now<font color="#CCCCCC"> both from a sysadmin perspective and</font>

25
00:01:28,210 --> 00:01:34,658
from a<font color="#E5E5E5"> offensive perspective this</font>

26
00:01:32,710 --> 00:01:37,600
presentation isn't<font color="#E5E5E5"> going to be terribly</font>

27
00:01:34,659 --> 00:01:39,850
in-depth<font color="#CCCCCC"> I don't expect anybody to leave</font>

28
00:01:37,600 --> 00:01:42,100
here and like become a<font color="#E5E5E5"> PowerShell master</font>

29
00:01:39,850 --> 00:01:44,740
more just want to get the point across

30
00:01:42,100 --> 00:01:47,048
<font color="#E5E5E5">how approachable and easy to use the</font>

31
00:01:44,740 --> 00:01:49,630
languages<font color="#CCCCCC"> I also want to showcase</font><font color="#E5E5E5"> some</font>

32
00:01:47,049 --> 00:01:51,639
of<font color="#E5E5E5"> the really cool</font><font color="#CCCCCC"> stuff going</font><font color="#E5E5E5"> on as far</font>

33
00:01:49,630 --> 00:01:53,408
<font color="#CCCCCC">as offensive security</font><font color="#E5E5E5"> goes there's a lot</font>

34
00:01:51,639 --> 00:01:54,990
of really cool frameworks and stuff out

35
00:01:53,409 --> 00:01:58,960
there

36
00:01:54,990 --> 00:02:01,589
as I<font color="#E5E5E5"> kind of hinted at before</font><font color="#CCCCCC"> we're</font>

37
00:01:58,960 --> 00:02:03,910
gonna<font color="#E5E5E5"> be talking about developer stuff</font>

38
00:02:01,590 --> 00:02:06,760
<font color="#E5E5E5">scripting and variables and stuff like</font>

39
00:02:03,910 --> 00:02:09,009
that and I am NOT a developer<font color="#CCCCCC"> I have no</font>

40
00:02:06,760 --> 00:02:13,420
idea what I'm talking<font color="#CCCCCC"> about so you</font>

41
00:02:09,009 --> 00:02:17,440
<font color="#E5E5E5">picked the right presentation</font><font color="#CCCCCC"> I'm</font>

42
00:02:13,420 --> 00:02:19,959
entirely self-taught<font color="#E5E5E5"> so I get terms</font>

43
00:02:17,440 --> 00:02:23,020
mixed up I may not be entirely<font color="#E5E5E5"> accurate</font>

44
00:02:19,960 --> 00:02:24,400
in how I'm describing stuff works for an

45
00:02:23,020 --> 00:02:24,910
entry level<font color="#CCCCCC"> course it's gonna be</font><font color="#E5E5E5"> fine</font>

46
00:02:24,400 --> 00:02:27,760
though

47
00:02:24,910 --> 00:02:31,060
everything I've what<font color="#E5E5E5"> I've taught myself</font>

48
00:02:27,760 --> 00:02:34,000
has at least worked for me<font color="#CCCCCC"> so vocabulary</font>

49
00:02:31,060 --> 00:02:35,290
<font color="#E5E5E5">may be off you may get into PowerShell</font>

50
00:02:34,000 --> 00:02:36,700
<font color="#CCCCCC">and a</font><font color="#E5E5E5"> couple years down the road be like</font>

51
00:02:35,290 --> 00:02:38,049
<font color="#CCCCCC">god that Jarrod kid had no idea what he</font>

52
00:02:36,700 --> 00:02:39,970
was<font color="#E5E5E5"> talking</font><font color="#CCCCCC"> about</font><font color="#E5E5E5"> that's fine I just</font>

53
00:02:38,050 --> 00:02:46,240
<font color="#CCCCCC">need you to</font><font color="#E5E5E5"> pretend I know what I'm</font>

54
00:02:39,970 --> 00:02:47,410
talking about<font color="#CCCCCC"> right now so the reason I</font>

55
00:02:46,240 --> 00:02:51,160
think PowerShell is important especially

56
00:02:47,410 --> 00:02:53,530
<font color="#E5E5E5">for information security standpoint for</font>

57
00:02:51,160 --> 00:02:56,520
red teamers PowerShell is this

58
00:02:53,530 --> 00:03:00,010
incredibly powerful<font color="#CCCCCC"> object-oriented</font>

59
00:02:56,520 --> 00:03:03,100
language that's part of<font color="#CCCCCC"> Windows</font><font color="#E5E5E5"> from</font>

60
00:03:00,010 --> 00:03:06,700
<font color="#CCCCCC">Windows 7 on up so it gives you access</font>

61
00:03:03,100 --> 00:03:10,359
to<font color="#E5E5E5"> the</font><font color="#CCCCCC"> entire</font><font color="#E5E5E5"> dotnet framework it gives</font>

62
00:03:06,700 --> 00:03:13,480
you access to<font color="#CCCCCC"> WMI</font><font color="#E5E5E5"> and it's incredibly</font>

63
00:03:10,360 --> 00:03:16,570
easy to use<font color="#E5E5E5"> the other great thing about</font>

64
00:03:13,480 --> 00:03:19,510
it is the blue team's the<font color="#E5E5E5"> Incident</font>

65
00:03:16,570 --> 00:03:21,760
<font color="#E5E5E5">Response Teams aren't looking out for</font>

66
00:03:19,510 --> 00:03:26,230
PowerShell and<font color="#E5E5E5"> it's actually really hard</font>

67
00:03:21,760 --> 00:03:29,019
<font color="#CCCCCC">to log and monitor</font><font color="#E5E5E5"> PowerShell up</font><font color="#CCCCCC"> in - it</font>

68
00:03:26,230 --> 00:03:32,940
wasn't until<font color="#E5E5E5"> Windows 10 that logging of</font>

69
00:03:29,019 --> 00:03:36,100
PowerShell<font color="#E5E5E5"> events really became a thing</font>

70
00:03:32,940 --> 00:03:40,209
for blue<font color="#E5E5E5"> team's it's important because</font>

71
00:03:36,100 --> 00:03:42,609
it is what actual bad guys<font color="#E5E5E5"> are using for</font>

72
00:03:40,209 --> 00:03:45,970
their nefarious<font color="#E5E5E5"> deeds there have been a</font>

73
00:03:42,610 --> 00:03:49,030
<font color="#CCCCCC">couple instances</font><font color="#E5E5E5"> recently where apts</font>

74
00:03:45,970 --> 00:03:53,739
have used PowerShell<font color="#CCCCCC"> to execute</font><font color="#E5E5E5"> code on</font>

75
00:03:49,030 --> 00:03:55,720
their BOTS<font color="#CCCCCC"> deep panda</font><font color="#E5E5E5"> was a group that</font>

76
00:03:53,739 --> 00:03:58,660
<font color="#CCCCCC">was attacking national think tanks or</font>

77
00:03:55,720 --> 00:03:59,709
national<font color="#CCCCCC"> security think tanks and what</font>

78
00:03:58,660 --> 00:04:02,230
they were doing<font color="#CCCCCC"> they were using</font>

79
00:03:59,709 --> 00:04:03,069
scheduled tasks that would<font color="#E5E5E5"> execute power</font>

80
00:04:02,230 --> 00:04:06,129
shell

81
00:04:03,069 --> 00:04:09,540
you download and run<font color="#E5E5E5"> remote access tools</font>

82
00:04:06,129 --> 00:04:13,719
and stuff like that more<font color="#CCCCCC"> interesting Li</font>

83
00:04:09,540 --> 00:04:15,578
<font color="#CCCCCC">apt</font><font color="#E5E5E5"> 29 what they were doing they had</font><font color="#CCCCCC"> AC</font>

84
00:04:13,719 --> 00:04:19,870
<font color="#CCCCCC">to</font><font color="#E5E5E5"> network command and control network</font>

85
00:04:15,579 --> 00:04:21,340
that was all through Twitter DMS<font color="#E5E5E5"> so</font>

86
00:04:19,870 --> 00:04:23,949
<font color="#E5E5E5">there</font><font color="#CCCCCC"> are bots would check into these</font>

87
00:04:21,339 --> 00:04:25,900
accounts<font color="#CCCCCC"> get the DMS and execute the</font>

88
00:04:23,949 --> 00:04:31,949
<font color="#CCCCCC">PowerShell that was being sent the</font>

89
00:04:25,900 --> 00:04:34,900
direct messages over<font color="#E5E5E5"> Twitter with</font>

90
00:04:31,949 --> 00:04:36,849
getting<font color="#CCCCCC"> started in PowerShell</font><font color="#E5E5E5"> I'm</font>

91
00:04:34,900 --> 00:04:39,580
<font color="#E5E5E5">assuming a lot of people here have</font>

92
00:04:36,849 --> 00:04:42,669
scripting knowledge this is gonna be

93
00:04:39,580 --> 00:04:45,729
just<font color="#E5E5E5"> old hat for</font><font color="#CCCCCC"> you but I</font><font color="#E5E5E5"> do want to</font>

94
00:04:42,669 --> 00:04:49,240
kind<font color="#CCCCCC"> of get us all in the same</font><font color="#E5E5E5"> page</font><font color="#CCCCCC"> for</font>

95
00:04:45,729 --> 00:04:51,150
<font color="#CCCCCC">the</font><font color="#E5E5E5"> purposes</font><font color="#CCCCCC"> of this talk</font><font color="#E5E5E5"> when we talk</font>

96
00:04:49,240 --> 00:04:54,280
about<font color="#E5E5E5"> strings</font><font color="#CCCCCC"> we're talking about</font>

97
00:04:51,150 --> 00:04:56,859
<font color="#E5E5E5">characters that ultimately you're</font><font color="#CCCCCC"> going</font>

98
00:04:54,280 --> 00:04:58,750
to be printing<font color="#CCCCCC"> out two screen strings</font>

99
00:04:56,860 --> 00:05:01,060
<font color="#E5E5E5">are just</font><font color="#CCCCCC"> chunks of text</font><font color="#E5E5E5"> they can</font><font color="#CCCCCC"> be</font>

100
00:04:58,750 --> 00:05:02,470
letters or numbers but it's when<font color="#E5E5E5"> you</font>

101
00:05:01,060 --> 00:05:05,830
think<font color="#CCCCCC"> straying think I'm gonna be</font>

102
00:05:02,470 --> 00:05:07,270
printing<font color="#E5E5E5"> this out to screen</font><font color="#CCCCCC"> integers are</font>

103
00:05:05,830 --> 00:05:10,409
just like you<font color="#E5E5E5"> learned in math there are</font>

104
00:05:07,270 --> 00:05:12,190
numbers<font color="#CCCCCC"> in the context</font><font color="#E5E5E5"> of this talk it's</font>

105
00:05:10,409 --> 00:05:16,599
numbers you're<font color="#CCCCCC"> going to be doing math</font>

106
00:05:12,190 --> 00:05:18,099
with you can have numbers that<font color="#E5E5E5"> are</font>

107
00:05:16,599 --> 00:05:20,110
strings you can<font color="#E5E5E5"> convert those to</font>

108
00:05:18,099 --> 00:05:22,060
integers and that's all well and<font color="#CCCCCC"> good</font>

109
00:05:20,110 --> 00:05:23,889
it's outside the<font color="#E5E5E5"> scope of really what I</font>

110
00:05:22,060 --> 00:05:26,380
want<font color="#E5E5E5"> to cover here</font><font color="#CCCCCC"> today</font><font color="#E5E5E5"> for</font><font color="#CCCCCC"> our</font>

111
00:05:23,889 --> 00:05:28,389
purposes<font color="#E5E5E5"> integers mean math strings main</font>

112
00:05:26,380 --> 00:05:30,729
printing disagree

113
00:05:28,389 --> 00:05:32,919
you also have<font color="#E5E5E5"> boolean x'</font><font color="#CCCCCC"> when we start</font>

114
00:05:30,729 --> 00:05:34,780
talking about logic<font color="#CCCCCC"> boolean just means</font>

115
00:05:32,919 --> 00:05:37,419
is this true or<font color="#E5E5E5"> false it's kind of a</font>

116
00:05:34,780 --> 00:05:40,210
unique value in a scripting<font color="#CCCCCC"> language</font>

117
00:05:37,419 --> 00:05:42,669
that<font color="#CCCCCC"> you</font><font color="#E5E5E5"> use for logic and a variable is</font>

118
00:05:40,210 --> 00:05:47,020
just<font color="#CCCCCC"> way to</font><font color="#E5E5E5"> reference data throughout</font>

119
00:05:42,669 --> 00:05:48,580
your script or program<font color="#E5E5E5"> an example of</font>

120
00:05:47,020 --> 00:05:51,070
<font color="#E5E5E5">that is if you have a script</font><font color="#CCCCCC"> that is</font>

121
00:05:48,580 --> 00:05:52,810
going to print a<font color="#CCCCCC"> message to screen and</font>

122
00:05:51,070 --> 00:05:55,000
it's<font color="#CCCCCC"> gonna</font><font color="#E5E5E5"> generate the</font><font color="#CCCCCC"> content of that</font>

123
00:05:52,810 --> 00:05:57,340
message based off what happens within

124
00:05:55,000 --> 00:05:59,050
<font color="#E5E5E5">the script you're gonna sign whatever</font>

125
00:05:57,340 --> 00:06:00,609
<font color="#E5E5E5">you want printed to screen in a variable</font>

126
00:05:59,050 --> 00:06:01,870
<font color="#E5E5E5">throughout the script and then at the</font>

127
00:06:00,610 --> 00:06:03,750
<font color="#CCCCCC">end of</font><font color="#E5E5E5"> your script just have a single</font>

128
00:06:01,870 --> 00:06:09,600
<font color="#E5E5E5">line that prints whatever the contents</font>

129
00:06:03,750 --> 00:06:11,940
variable is so objects are kind<font color="#E5E5E5"> of an</font>

130
00:06:09,600 --> 00:06:14,100
abstract<font color="#E5E5E5"> concept</font><font color="#CCCCCC"> and it's not</font><font color="#E5E5E5"> something</font>

131
00:06:11,940 --> 00:06:16,380
I<font color="#E5E5E5"> really felt comfortable with until I</font>

132
00:06:14,100 --> 00:06:18,630
played<font color="#E5E5E5"> around with them</font><font color="#CCCCCC"> for a while</font><font color="#E5E5E5"> the</font>

133
00:06:16,380 --> 00:06:21,810
way I look at an<font color="#E5E5E5"> object is it's a type</font>

134
00:06:18,630 --> 00:06:25,500
of<font color="#CCCCCC"> something and being a type of</font>

135
00:06:21,810 --> 00:06:28,920
something<font color="#E5E5E5"> it inherits properties and</font>

136
00:06:25,500 --> 00:06:30,720
methods that<font color="#E5E5E5"> are relevant to</font><font color="#CCCCCC"> its type</font><font color="#E5E5E5"> so</font>

137
00:06:28,920 --> 00:06:33,690
a good example<font color="#E5E5E5"> of that is taking the</font>

138
00:06:30,720 --> 00:06:35,640
<font color="#E5E5E5">taking</font><font color="#CCCCCC"> a string</font><font color="#E5E5E5"> right</font><font color="#CCCCCC"> a string</font><font color="#E5E5E5"> is an</font>

139
00:06:33,690 --> 00:06:38,730
object in<font color="#CCCCCC"> PowerShell</font><font color="#E5E5E5"> and it has</font>

140
00:06:35,640 --> 00:06:40,680
properties for<font color="#CCCCCC"> lengths</font><font color="#E5E5E5"> where you can we</font>

141
00:06:38,730 --> 00:06:43,140
<font color="#E5E5E5">have a variable here variable string we</font>

142
00:06:40,680 --> 00:06:44,820
call the length property<font color="#E5E5E5"> it tells us</font><font color="#CCCCCC"> a</font>

143
00:06:43,140 --> 00:06:47,969
there's four characters in this string

144
00:06:44,820 --> 00:06:50,790
it<font color="#CCCCCC"> also has a method</font><font color="#E5E5E5"> called</font><font color="#CCCCCC"> two upper</font>

145
00:06:47,970 --> 00:06:54,090
which<font color="#E5E5E5"> will capitalize all the letters in</font>

146
00:06:50,790 --> 00:06:56,520
<font color="#CCCCCC">that string as</font><font color="#E5E5E5"> you get into</font><font color="#CCCCCC"> more</font>

147
00:06:54,090 --> 00:06:57,810
advanced things in<font color="#E5E5E5"> PowerShell really</font>

148
00:06:56,520 --> 00:07:00,780
everything's an object

149
00:06:57,810 --> 00:07:03,090
so one thing<font color="#E5E5E5"> you deal with a lot at</font>

150
00:07:00,780 --> 00:07:05,909
<font color="#E5E5E5">least on the sysadmin side is</font><font color="#CCCCCC"> a tee user</font>

151
00:07:03,090 --> 00:07:08,909
objects<font color="#CCCCCC"> I need to use your</font><font color="#E5E5E5"> object is</font>

152
00:07:05,910 --> 00:07:11,490
<font color="#E5E5E5">gonna have properties for first name</font>

153
00:07:08,910 --> 00:07:13,740
last name<font color="#CCCCCC"> user name stuff like that</font>

154
00:07:11,490 --> 00:07:15,600
it's gonna have methods to<font color="#E5E5E5"> change the</font>

155
00:07:13,740 --> 00:07:19,770
<font color="#CCCCCC">user's password</font><font color="#E5E5E5"> or maybe add them to a</font>

156
00:07:15,600 --> 00:07:22,440
<font color="#CCCCCC">group objects are really</font><font color="#E5E5E5"> part of what</font>

157
00:07:19,770 --> 00:07:23,760
makes powershell so great because<font color="#CCCCCC"> it</font>

158
00:07:22,440 --> 00:07:25,430
lets you<font color="#CCCCCC"> interact with</font><font color="#E5E5E5"> things</font><font color="#CCCCCC"> real</font>

159
00:07:23,760 --> 00:07:29,940
easily

160
00:07:25,430 --> 00:07:31,740
arrays are just a list<font color="#E5E5E5"> of objects</font><font color="#CCCCCC"> it</font><font color="#E5E5E5"> can</font>

161
00:07:29,940 --> 00:07:34,050
be anything to<font color="#E5E5E5"> be strings</font><font color="#CCCCCC"> numbers it</font>

162
00:07:31,740 --> 00:07:36,000
<font color="#CCCCCC">could</font><font color="#E5E5E5"> be any combination</font><font color="#CCCCCC"> of objects but</font>

163
00:07:34,050 --> 00:07:40,169
<font color="#CCCCCC">basically it's just</font><font color="#E5E5E5"> objects separated</font><font color="#CCCCCC"> by</font>

164
00:07:36,000 --> 00:07:42,360
commas<font color="#CCCCCC"> in this case we have a</font><font color="#E5E5E5"> variable</font>

165
00:07:40,169 --> 00:07:43,799
<font color="#E5E5E5">list</font><font color="#CCCCCC"> we're assigning an array of</font><font color="#E5E5E5"> the</font>

166
00:07:42,360 --> 00:07:46,320
words<font color="#CCCCCC"> one two and three</font>

167
00:07:43,800 --> 00:07:49,350
<font color="#E5E5E5">to it</font><font color="#CCCCCC"> one of</font><font color="#E5E5E5"> the cool</font><font color="#CCCCCC"> things about</font>

168
00:07:46,320 --> 00:07:53,130
arrays is you can reference<font color="#CCCCCC"> any object</font>

169
00:07:49,350 --> 00:07:54,540
in that array using<font color="#E5E5E5"> its index and we're</font>

170
00:07:53,130 --> 00:07:58,050
doing<font color="#E5E5E5"> that</font><font color="#CCCCCC"> here for the last few</font><font color="#E5E5E5"> lines</font>

171
00:07:54,540 --> 00:07:59,610
by calling a bracket<font color="#E5E5E5"> 0 bracket that's</font>

172
00:07:58,050 --> 00:08:02,100
gonna give<font color="#CCCCCC"> us the</font><font color="#E5E5E5"> first item in the</font>

173
00:07:59,610 --> 00:08:04,620
array in this case bracket<font color="#CCCCCC"> 2 bracket</font>

174
00:08:02,100 --> 00:08:07,400
gives us the last item<font color="#CCCCCC"> so if your index</font>

175
00:08:04,620 --> 00:08:07,400
starts at 0

176
00:08:07,480 --> 00:08:14,000
<font color="#E5E5E5">hmm considering the</font><font color="#CCCCCC"> PowerShell</font><font color="#E5E5E5"> intro</font>

177
00:08:10,970 --> 00:08:17,240
here<font color="#E5E5E5"> everything we've talked about so</font>

178
00:08:14,000 --> 00:08:18,800
far is real general scripting<font color="#E5E5E5"> stuff with</font>

179
00:08:17,240 --> 00:08:20,750
PowerShell<font color="#CCCCCC"> one of the really cool things</font>

180
00:08:18,800 --> 00:08:23,419
about it<font color="#CCCCCC"> is it has what it calls</font>

181
00:08:20,750 --> 00:08:25,130
commandlets<font color="#E5E5E5"> and they're just essentially</font>

182
00:08:23,419 --> 00:08:27,080
tiny little programs<font color="#CCCCCC"> you use to interact</font>

183
00:08:25,130 --> 00:08:28,430
<font color="#CCCCCC">with</font><font color="#E5E5E5"> stuff it's gonna be the majority of</font>

184
00:08:27,080 --> 00:08:32,270
the stuff<font color="#E5E5E5"> you do in PowerShell you're</font>

185
00:08:28,430 --> 00:08:35,049
gonna be running commandlets<font color="#CCCCCC"> what's neat</font>

186
00:08:32,270 --> 00:08:40,179
about it<font color="#E5E5E5"> they've established this</font>

187
00:08:35,049 --> 00:08:42,348
methodology<font color="#CCCCCC"> or this ya methodology where</font>

188
00:08:40,179 --> 00:08:45,829
all your<font color="#CCCCCC"> commandments are gonna be an</font>

189
00:08:42,349 --> 00:08:47,960
<font color="#CCCCCC">overt noun format so</font><font color="#E5E5E5"> that makes</font>

190
00:08:45,830 --> 00:08:49,790
<font color="#E5E5E5">PowerShell a very verbose language but</font>

191
00:08:47,960 --> 00:08:51,650
it also makes it<font color="#E5E5E5"> very readable and very</font>

192
00:08:49,790 --> 00:08:54,079
easy to figure out<font color="#E5E5E5"> what you're</font><font color="#CCCCCC"> doing or</font>

193
00:08:51,650 --> 00:08:56,839
what<font color="#E5E5E5"> you're trying</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> do it makes it</font>

194
00:08:54,080 --> 00:08:58,670
intuitive as well so one of the<font color="#E5E5E5"> examples</font>

195
00:08:56,839 --> 00:09:01,220
I have<font color="#E5E5E5"> up on</font><font color="#CCCCCC"> screen</font><font color="#E5E5E5"> here is a set</font>

196
00:08:58,670 --> 00:09:03,079
clipboard so<font color="#E5E5E5"> you can call set clipboard</font>

197
00:09:01,220 --> 00:09:05,420
<font color="#CCCCCC">you give it a</font><font color="#E5E5E5"> string it's going to send</font>

198
00:09:03,080 --> 00:09:07,100
that<font color="#E5E5E5"> string</font><font color="#CCCCCC"> to your clipboard if you</font>

199
00:09:05,420 --> 00:09:09,290
want to get the contents of clipboard

200
00:09:07,100 --> 00:09:11,990
<font color="#E5E5E5">it's probably get - clipboard and that's</font>

201
00:09:09,290 --> 00:09:14,209
<font color="#E5E5E5">gonna return whatever is in stored in</font>

202
00:09:11,990 --> 00:09:15,589
the clipboard<font color="#E5E5E5"> once you get the variable</font>

203
00:09:14,210 --> 00:09:16,600
sound once you learn the objects<font color="#E5E5E5"> or</font>

204
00:09:15,589 --> 00:09:18,920
whatever you're interacting with

205
00:09:16,600 --> 00:09:20,630
PowerShell becomes a pretty intuitive

206
00:09:18,920 --> 00:09:25,069
language<font color="#E5E5E5"> to work around</font><font color="#CCCCCC"> with it's a</font>

207
00:09:20,630 --> 00:09:27,140
great<font color="#CCCCCC"> beginners language some of</font><font color="#E5E5E5"> the</font>

208
00:09:25,070 --> 00:09:29,870
cool<font color="#E5E5E5"> things about PowerShell being a</font>

209
00:09:27,140 --> 00:09:31,819
modern language<font color="#E5E5E5"> is everything's to have</font>

210
00:09:29,870 --> 00:09:34,160
complete<font color="#CCCCCC"> Abul so that includes</font>

211
00:09:31,820 --> 00:09:36,589
commandlets<font color="#CCCCCC"> that includes the parameters</font>

212
00:09:34,160 --> 00:09:38,569
<font color="#E5E5E5">of the commandlets</font><font color="#CCCCCC"> and in some cases</font>

213
00:09:36,589 --> 00:09:40,910
actually includes<font color="#E5E5E5"> the parameter values</font>

214
00:09:38,570 --> 00:09:41,570
that that<font color="#E5E5E5"> command</font><font color="#CCCCCC"> let takes</font><font color="#E5E5E5"> if there are</font>

215
00:09:40,910 --> 00:09:44,329
predefined

216
00:09:41,570 --> 00:09:47,390
the other cool thing is<font color="#E5E5E5"> PowerShell</font>

217
00:09:44,330 --> 00:09:51,620
includes a ISE<font color="#E5E5E5"> by default</font><font color="#CCCCCC"> which is</font><font color="#E5E5E5"> just</font>

218
00:09:47,390 --> 00:09:53,480
a IDE<font color="#E5E5E5"> for working with PowerShell it</font>

219
00:09:51,620 --> 00:09:55,130
inherits some of the<font color="#CCCCCC"> Visual Studio</font>

220
00:09:53,480 --> 00:09:56,089
coolness so that includes like

221
00:09:55,130 --> 00:09:57,890
<font color="#CCCCCC">intellisense</font>

222
00:09:56,089 --> 00:10:01,040
if you're familiar with<font color="#E5E5E5"> that it's a very</font>

223
00:09:57,890 --> 00:10:04,550
powerful<font color="#E5E5E5"> autocomplete functionality</font><font color="#CCCCCC"> and</font>

224
00:10:01,040 --> 00:10:06,680
it also has a<font color="#CCCCCC"> sidebar that will list</font>

225
00:10:04,550 --> 00:10:09,439
every command lit that's on the computer

226
00:10:06,680 --> 00:10:11,300
<font color="#CCCCCC">that</font><font color="#E5E5E5"> you're working on and</font><font color="#CCCCCC"> you can drill</font>

227
00:10:09,440 --> 00:10:12,890
in through that<font color="#E5E5E5"> sidebar and it will tell</font>

228
00:10:11,300 --> 00:10:14,780
you<font color="#CCCCCC"> all of</font><font color="#E5E5E5"> the parameters that that</font>

229
00:10:12,890 --> 00:10:16,370
command<font color="#E5E5E5"> lit takes so real easy to</font>

230
00:10:14,780 --> 00:10:19,470
<font color="#CCCCCC">explore around</font><font color="#E5E5E5"> get a feel</font><font color="#CCCCCC"> for what</font>

231
00:10:16,370 --> 00:10:21,740
you're trying<font color="#CCCCCC"> to do you can also see</font>

232
00:10:19,470 --> 00:10:23,759
in the main<font color="#E5E5E5"> window on the left here</font><font color="#CCCCCC"> so</font>

233
00:10:21,740 --> 00:10:26,910
<font color="#CCCCCC">what I've done here is I've gotten a</font>

234
00:10:23,759 --> 00:10:30,449
directory object<font color="#E5E5E5"> by just basically doing</font>

235
00:10:26,910 --> 00:10:32,910
a drawer<font color="#E5E5E5"> see and</font><font color="#CCCCCC"> Intelli sense is</font>

236
00:10:30,449 --> 00:10:34,258
telling<font color="#E5E5E5"> me every gives me a list of</font>

237
00:10:32,910 --> 00:10:36,269
every<font color="#E5E5E5"> property and method that's</font>

238
00:10:34,259 --> 00:10:39,209
associated with that<font color="#E5E5E5"> directory object</font>

239
00:10:36,269 --> 00:10:43,860
just<font color="#E5E5E5"> by working with the variable so</font>

240
00:10:39,209 --> 00:10:45,899
pretty<font color="#E5E5E5"> cool stuff I can't talk for</font>

241
00:10:43,860 --> 00:10:55,290
PowerShell straight for an hour<font color="#CCCCCC"> so</font>

242
00:10:45,899 --> 00:10:57,689
here's the bunny yes yeah<font color="#E5E5E5"> there there</font>

243
00:10:55,290 --> 00:11:02,040
will be regular bunnies and<font color="#E5E5E5"> some puppies</font>

244
00:10:57,689 --> 00:11:03,389
<font color="#E5E5E5">towards the end</font><font color="#CCCCCC"> so great we know the</font>

245
00:11:02,040 --> 00:11:04,769
basics of working with<font color="#E5E5E5"> PowerShell we</font>

246
00:11:03,389 --> 00:11:07,110
know the basics of what<font color="#E5E5E5"> we're actually</font>

247
00:11:04,769 --> 00:11:10,949
working<font color="#E5E5E5"> with our</font><font color="#CCCCCC"> Springs</font><font color="#E5E5E5"> object stuff</font>

248
00:11:07,110 --> 00:11:12,660
like that<font color="#E5E5E5"> making it do stuff the most</font>

249
00:11:10,949 --> 00:11:14,550
<font color="#E5E5E5">basic thing you're gonna do is a for</font>

250
00:11:12,660 --> 00:11:16,399
<font color="#CCCCCC">loop</font><font color="#E5E5E5"> in PowerShell</font>

251
00:11:14,550 --> 00:11:18,899
<font color="#E5E5E5">really straightforward to</font><font color="#CCCCCC"> uses for each</font>

252
00:11:16,399 --> 00:11:21,660
<font color="#E5E5E5">so in the example here we have</font><font color="#CCCCCC"> an array</font>

253
00:11:18,899 --> 00:11:23,759
<font color="#CCCCCC">of</font><font color="#E5E5E5"> the words</font><font color="#CCCCCC"> one two</font><font color="#E5E5E5"> and</font><font color="#CCCCCC"> three</font><font color="#E5E5E5"> we're</font>

254
00:11:21,660 --> 00:11:25,769
assigning that to the<font color="#E5E5E5"> variable list and</font>

255
00:11:23,759 --> 00:11:27,930
then we're calling a for each item in

256
00:11:25,769 --> 00:11:30,449
list<font color="#CCCCCC"> and we're gonna</font><font color="#E5E5E5"> run a chunk of code</font>

257
00:11:27,930 --> 00:11:33,839
in this<font color="#E5E5E5"> case</font><font color="#CCCCCC"> it's just</font><font color="#E5E5E5"> print out an</font>

258
00:11:30,449 --> 00:11:35,160
asterisk<font color="#E5E5E5"> and whatever the</font><font color="#CCCCCC"> item is so you</font>

259
00:11:33,839 --> 00:11:36,209
can see on the in the output<font color="#E5E5E5"> on</font><font color="#CCCCCC"> the</font>

260
00:11:35,160 --> 00:11:37,019
<font color="#CCCCCC">right-hand side they're real</font>

261
00:11:36,209 --> 00:11:42,268
<font color="#CCCCCC">straightforward</font>

262
00:11:37,019 --> 00:11:45,240
Astra's<font color="#CCCCCC"> why Naspers 2 etc</font><font color="#E5E5E5"> a more</font>

263
00:11:42,269 --> 00:11:47,730
practical<font color="#E5E5E5"> example of this is taking what</font>

264
00:11:45,240 --> 00:11:51,870
<font color="#E5E5E5">was shown in</font><font color="#CCCCCC"> the ioc earlier we're gonna</font>

265
00:11:47,730 --> 00:11:54,420
get we're going to<font color="#E5E5E5"> get an array of all</font>

266
00:11:51,870 --> 00:11:56,730
<font color="#CCCCCC">of the file system</font><font color="#E5E5E5"> objects on the root</font>

267
00:11:54,420 --> 00:12:01,139
of c and we do that with get child item

268
00:11:56,730 --> 00:12:03,870
<font color="#E5E5E5">and actually if you run dirt or LS in</font>

269
00:12:01,139 --> 00:12:04,949
<font color="#E5E5E5">powershell those are both aliases for</font><font color="#CCCCCC"> a</font>

270
00:12:03,870 --> 00:12:06,839
get child item

271
00:12:04,949 --> 00:12:08,519
what's cool about get child item as i

272
00:12:06,839 --> 00:12:10,559
mentioned is it actually instead<font color="#E5E5E5"> of just</font>

273
00:12:08,519 --> 00:12:13,230
<font color="#CCCCCC">giving you a list of me and</font><font color="#E5E5E5"> like a</font>

274
00:12:10,559 --> 00:12:16,350
<font color="#CCCCCC">plaintext</font><font color="#E5E5E5"> list of what's on me drive</font><font color="#CCCCCC"> it</font>

275
00:12:13,230 --> 00:12:17,370
actually returns<font color="#E5E5E5"> an array</font><font color="#CCCCCC"> of objects</font><font color="#E5E5E5"> so</font>

276
00:12:16,350 --> 00:12:18,629
we're<font color="#E5E5E5"> going</font><font color="#CCCCCC"> to take that array of</font>

277
00:12:17,370 --> 00:12:21,629
objects we assign<font color="#CCCCCC"> it to the variable</font>

278
00:12:18,629 --> 00:12:24,780
ders<font color="#E5E5E5"> and we iterate through and we say</font>

279
00:12:21,629 --> 00:12:27,150
<font color="#CCCCCC">ok for each dirt in the ders array</font>

280
00:12:24,780 --> 00:12:29,579
we're going to write out<font color="#E5E5E5"> the full name</font>

281
00:12:27,150 --> 00:12:33,930
which is just the path<font color="#E5E5E5"> we write out a</font>

282
00:12:29,580 --> 00:12:36,630
separator<font color="#CCCCCC"> the directory object has a</font>

283
00:12:33,930 --> 00:12:40,290
method<font color="#CCCCCC"> called</font><font color="#E5E5E5"> get access control which</font>

284
00:12:36,630 --> 00:12:41,939
returns an access control<font color="#CCCCCC"> list</font><font color="#E5E5E5"> we run</font>

285
00:12:40,290 --> 00:12:45,750
<font color="#E5E5E5">that we assign</font><font color="#CCCCCC"> it to the variable</font><font color="#E5E5E5"> ACL</font>

286
00:12:41,940 --> 00:12:48,180
and then we take<font color="#CCCCCC"> that ACL object and it</font>

287
00:12:45,750 --> 00:12:50,960
has a property of access to<font color="#CCCCCC"> string which</font>

288
00:12:48,180 --> 00:12:53,400
gets us our NTFS permissions as a string

289
00:12:50,960 --> 00:12:55,880
<font color="#E5E5E5">we print that</font><font color="#CCCCCC"> out we print out a blank</font>

290
00:12:53,400 --> 00:12:59,160
<font color="#E5E5E5">line and we go back</font><font color="#CCCCCC"> through our</font><font color="#E5E5E5"> for loop</font>

291
00:12:55,880 --> 00:13:00,930
<font color="#E5E5E5">the output for this looks like this you</font>

292
00:12:59,160 --> 00:13:07,439
<font color="#E5E5E5">get your path for</font><font color="#CCCCCC"> the directory a</font>

293
00:13:00,930 --> 00:13:09,479
separator and the NTFS permissions so

294
00:13:07,440 --> 00:13:11,580
for loops are<font color="#E5E5E5"> great but they're done and</font>

295
00:13:09,480 --> 00:13:13,080
we can use smarter things with

296
00:13:11,580 --> 00:13:15,810
programming that's why we have

297
00:13:13,080 --> 00:13:17,400
<font color="#E5E5E5">programming when we</font><font color="#CCCCCC"> talked about logic</font>

298
00:13:15,810 --> 00:13:21,180
<font color="#E5E5E5">and scripting or programming it really</font>

299
00:13:17,400 --> 00:13:22,680
amounts<font color="#CCCCCC"> to if something is</font><font color="#E5E5E5"> true do X the</font>

300
00:13:21,180 --> 00:13:25,109
way we figure out is<font color="#E5E5E5"> something is true</font>

301
00:13:22,680 --> 00:13:27,750
as we compare it to<font color="#E5E5E5"> whatever we want to</font>

302
00:13:25,110 --> 00:13:30,240
compare<font color="#CCCCCC"> it to with</font><font color="#E5E5E5"> PowerShell you</font>

303
00:13:27,750 --> 00:13:32,010
compare things with - and then<font color="#E5E5E5"> two</font>

304
00:13:30,240 --> 00:13:33,330
letter acronyms<font color="#CCCCCC"> it's a little bit</font>

305
00:13:32,010 --> 00:13:35,939
<font color="#E5E5E5">different than maybe Python or Ruby</font>

306
00:13:33,330 --> 00:13:39,930
where<font color="#E5E5E5"> you used to bang equals</font><font color="#CCCCCC"> and stuff</font>

307
00:13:35,940 --> 00:13:41,580
<font color="#E5E5E5">like that</font><font color="#CCCCCC"> this I used the</font><font color="#E5E5E5"> two letter</font>

308
00:13:39,930 --> 00:13:43,410
acronyms<font color="#E5E5E5"> in bash scripting before I</font>

309
00:13:41,580 --> 00:13:46,980
don't<font color="#CCCCCC"> know if it has further history</font>

310
00:13:43,410 --> 00:13:48,660
<font color="#E5E5E5">than that there's a lot of Linux</font>

311
00:13:46,980 --> 00:13:51,930
references through PowerShell it's kind

312
00:13:48,660 --> 00:13:54,600
of cool<font color="#CCCCCC"> they actually have aliases now</font>

313
00:13:51,930 --> 00:13:56,310
for<font color="#CCCCCC"> W get and curl built-in to</font><font color="#E5E5E5"> you</font>

314
00:13:54,600 --> 00:14:00,630
<font color="#CCCCCC">powershell that just call a get web</font>

315
00:13:56,310 --> 00:14:04,380
requests<font color="#E5E5E5"> which is kind of cool so the</font>

316
00:14:00,630 --> 00:14:06,839
most<font color="#E5E5E5"> basic</font><font color="#CCCCCC"> form</font><font color="#E5E5E5"> of a logic statement is</font>

317
00:14:04,380 --> 00:14:08,460
just<font color="#CCCCCC"> an if-else statement so in the</font>

318
00:14:06,839 --> 00:14:10,410
example here<font color="#E5E5E5"> we're</font><font color="#CCCCCC"> taking a list of</font>

319
00:14:08,460 --> 00:14:13,020
numbers<font color="#CCCCCC"> an array of numbers</font><font color="#E5E5E5"> the integers</font>

320
00:14:10,410 --> 00:14:15,150
<font color="#CCCCCC">1 through 10 and we're iterating through</font>

321
00:14:13,020 --> 00:14:17,460
<font color="#E5E5E5">with a for</font><font color="#CCCCCC"> loop we're getting each</font>

322
00:14:15,150 --> 00:14:19,860
number out<font color="#CCCCCC"> of that array we're checking</font>

323
00:14:17,460 --> 00:14:22,500
<font color="#E5E5E5">to see if he number equals</font><font color="#CCCCCC"> 4</font><font color="#E5E5E5"> if it does</font>

324
00:14:19,860 --> 00:14:25,530
we write that<font color="#E5E5E5"> out so this number is</font><font color="#CCCCCC"> for</font>

325
00:14:22,500 --> 00:14:26,400
<font color="#CCCCCC">LS we write out that it's not 4</font><font color="#E5E5E5"> on the</font>

326
00:14:25,530 --> 00:14:27,660
output on

327
00:14:26,400 --> 00:14:32,279
inside you<font color="#E5E5E5"> can see</font><font color="#CCCCCC"> counter what that</font>

328
00:14:27,660 --> 00:14:34,230
<font color="#CCCCCC">looks like</font><font color="#E5E5E5"> when it runs the last thing</font>

329
00:14:32,279 --> 00:14:36,510
about logic that<font color="#E5E5E5"> I want to cover is a</font>

330
00:14:34,230 --> 00:14:38,100
while loop<font color="#CCCCCC"> and really a while loop just</font>

331
00:14:36,510 --> 00:14:40,560
says you know<font color="#E5E5E5"> you're comparing something</font>

332
00:14:38,100 --> 00:14:42,180
<font color="#E5E5E5">as long as that evaluates to true it's</font>

333
00:14:40,560 --> 00:14:44,310
<font color="#CCCCCC">gonna keep running whatever</font><font color="#E5E5E5"> that block</font>

334
00:14:42,180 --> 00:14:46,620
of code<font color="#CCCCCC"> is and it's gonna run</font><font color="#E5E5E5"> that block</font>

335
00:14:44,310 --> 00:14:48,359
of code<font color="#E5E5E5"> over</font><font color="#CCCCCC"> and</font><font color="#E5E5E5"> over again each time</font>

336
00:14:46,620 --> 00:14:50,940
<font color="#E5E5E5">comparing what's in the while loop to</font>

337
00:14:48,360 --> 00:14:52,920
make<font color="#E5E5E5"> sure that it's still true so in our</font>

338
00:14:50,940 --> 00:14:56,040
example here<font color="#E5E5E5"> we're taking</font><font color="#CCCCCC"> the variable</font><font color="#E5E5E5"> I</font>

339
00:14:52,920 --> 00:14:57,719
we're assigning that<font color="#E5E5E5"> an integer of 1 and</font>

340
00:14:56,040 --> 00:15:00,240
then we're checking to see<font color="#CCCCCC"> that while I</font>

341
00:14:57,720 --> 00:15:02,730
is<font color="#E5E5E5"> less than or equal</font><font color="#CCCCCC"> to the number 4</font>

342
00:15:00,240 --> 00:15:04,110
we're gonna run this block<font color="#CCCCCC"> of code real</font>

343
00:15:02,730 --> 00:15:07,470
straightforward<font color="#E5E5E5"> it prints out</font><font color="#CCCCCC"> the</font>

344
00:15:04,110 --> 00:15:10,560
whatever<font color="#CCCCCC"> the contents of ir is and then</font>

345
00:15:07,470 --> 00:15:11,640
increments i up by<font color="#E5E5E5"> 1 so our output on</font>

346
00:15:10,560 --> 00:15:19,589
the<font color="#CCCCCC"> right-hand</font><font color="#E5E5E5"> side there is just</font>

347
00:15:11,640 --> 00:15:21,420
numbers 1 2 3<font color="#CCCCCC"> and 4 so knowing what we</font>

348
00:15:19,589 --> 00:15:22,890
work with in<font color="#E5E5E5"> powershell or objects or</font>

349
00:15:21,420 --> 00:15:25,589
strings are variables knowing how to

350
00:15:22,890 --> 00:15:28,800
logic stuff out<font color="#E5E5E5"> you can literally do</font>

351
00:15:25,589 --> 00:15:30,600
<font color="#CCCCCC">anything</font><font color="#E5E5E5"> in</font><font color="#CCCCCC"> PowerShell</font><font color="#E5E5E5"> now the first</font><font color="#CCCCCC"> six</font>

352
00:15:28,800 --> 00:15:32,969
to<font color="#E5E5E5"> eight months that I was scripting in</font>

353
00:15:30,600 --> 00:15:36,150
PowerShell<font color="#E5E5E5"> everything I wrote was just a</font>

354
00:15:32,970 --> 00:15:39,930
really glorified<font color="#E5E5E5"> very long if-else</font>

355
00:15:36,150 --> 00:15:40,740
statement<font color="#E5E5E5"> basically it</font><font color="#CCCCCC"> wasn't efficient</font>

356
00:15:39,930 --> 00:15:43,079
it wasn't pretty

357
00:15:40,740 --> 00:15:45,209
<font color="#E5E5E5">anybody who had any experience with</font>

358
00:15:43,080 --> 00:15:48,150
scripting would have like throttled me

359
00:15:45,209 --> 00:15:49,560
but the scripts got their jobs done<font color="#CCCCCC"> and</font>

360
00:15:48,150 --> 00:15:52,529
<font color="#E5E5E5">that's really kind</font><font color="#CCCCCC"> of all that matters</font>

361
00:15:49,560 --> 00:15:54,839
<font color="#CCCCCC">when</font><font color="#E5E5E5"> you're starting out to figure out</font>

362
00:15:52,529 --> 00:15:56,790
how to use PowerShell<font color="#E5E5E5"> and how to use</font>

363
00:15:54,839 --> 00:15:58,260
what's available to you there<font color="#CCCCCC"> are three</font>

364
00:15:56,790 --> 00:16:02,099
<font color="#E5E5E5">things that I typically</font><font color="#CCCCCC"> find myself</font>

365
00:15:58,260 --> 00:16:04,560
using<font color="#E5E5E5"> the first command</font><font color="#CCCCCC"> late-- is</font><font color="#E5E5E5"> git</font>

366
00:16:02,100 --> 00:16:06,209
command<font color="#E5E5E5"> and that</font><font color="#CCCCCC"> just lets you search</font>

367
00:16:04,560 --> 00:16:09,930
all the command lights and all<font color="#CCCCCC"> the</font>

368
00:16:06,209 --> 00:16:11,130
<font color="#E5E5E5">programs in your path</font><font color="#CCCCCC"> for a string so in</font>

369
00:16:09,930 --> 00:16:12,270
the example here<font color="#E5E5E5"> we're searching</font><font color="#CCCCCC"> for</font>

370
00:16:11,130 --> 00:16:14,790
anything that ends<font color="#E5E5E5"> with</font><font color="#CCCCCC"> the word</font>

371
00:16:12,270 --> 00:16:18,779
clipboard<font color="#E5E5E5"> so that's</font><font color="#CCCCCC"> going to get</font><font color="#E5E5E5"> us get</font>

372
00:16:14,790 --> 00:16:21,449
clipboard<font color="#CCCCCC"> SEC clipboard etc the help</font>

373
00:16:18,779 --> 00:16:23,430
<font color="#CCCCCC">system in PowerShell you access it</font>

374
00:16:21,450 --> 00:16:27,720
through get helped<font color="#E5E5E5"> or</font><font color="#CCCCCC"> there's</font><font color="#E5E5E5"> an alias</font>

375
00:16:23,430 --> 00:16:30,209
<font color="#CCCCCC">for man again Linux throw back the help</font>

376
00:16:27,720 --> 00:16:32,760
<font color="#CCCCCC">system is surprisingly</font><font color="#E5E5E5"> well written it's</font>

377
00:16:30,209 --> 00:16:35,010
obviously written<font color="#E5E5E5"> by people</font><font color="#CCCCCC"> that have</font>

378
00:16:32,760 --> 00:16:37,319
used these commandlets practically and

379
00:16:35,010 --> 00:16:38,970
one of the cool<font color="#CCCCCC"> things about get help is</font>

380
00:16:37,320 --> 00:16:41,880
the example

381
00:16:38,970 --> 00:16:43,500
parameter<font color="#E5E5E5"> that</font><font color="#CCCCCC"> you can</font><font color="#E5E5E5"> throw</font><font color="#CCCCCC"> in so in a</font>

382
00:16:41,880 --> 00:16:45,720
case here we're doing<font color="#E5E5E5"> to get help right</font>

383
00:16:43,500 --> 00:16:47,790
host - examples<font color="#E5E5E5"> and it's gonna print out</font>

384
00:16:45,720 --> 00:16:49,980
I think when I ran<font color="#E5E5E5"> into is four or five</font>

385
00:16:47,790 --> 00:16:52,890
<font color="#CCCCCC">examples of how to</font><font color="#E5E5E5"> print stuff to screen</font>

386
00:16:49,980 --> 00:16:55,470
<font color="#E5E5E5">so just</font><font color="#CCCCCC"> really</font><font color="#E5E5E5"> a lot</font><font color="#CCCCCC"> of great examples</font>

387
00:16:52,890 --> 00:16:58,800
<font color="#E5E5E5">one that I use all the time is get date</font>

388
00:16:55,470 --> 00:17:01,500
<font color="#CCCCCC">I can never remember</font><font color="#E5E5E5"> how I the</font>

389
00:16:58,800 --> 00:17:05,250
formatting works for a get date there's

390
00:17:01,500 --> 00:17:07,589
I think<font color="#CCCCCC"> eleven examples in the help</font>

391
00:17:05,250 --> 00:17:09,089
command<font color="#E5E5E5"> and usually one of those is</font>

392
00:17:07,589 --> 00:17:12,569
exactly the formatting<font color="#E5E5E5"> that I'm looking</font>

393
00:17:09,089 --> 00:17:16,349
<font color="#CCCCCC">for the last thing that's really</font><font color="#E5E5E5"> helpful</font>

394
00:17:12,569 --> 00:17:18,510
is get member what get member does is

395
00:17:16,349 --> 00:17:20,879
you<font color="#CCCCCC"> can send an object to get member and</font>

396
00:17:18,510 --> 00:17:22,740
it will give you a list of<font color="#E5E5E5"> all the</font>

397
00:17:20,880 --> 00:17:26,010
<font color="#E5E5E5">properties and</font><font color="#CCCCCC"> methods that that object</font>

398
00:17:22,740 --> 00:17:29,430
<font color="#CCCCCC">has you do that by just taking the</font>

399
00:17:26,010 --> 00:17:30,750
object and piping it<font color="#CCCCCC"> to get member so</font>

400
00:17:29,430 --> 00:17:32,910
the output for<font color="#CCCCCC"> that looks something like</font>

401
00:17:30,750 --> 00:17:35,490
this we're<font color="#E5E5E5"> taking our directory object</font>

402
00:17:32,910 --> 00:17:38,610
<font color="#E5E5E5">from before piping that to get member</font>

403
00:17:35,490 --> 00:17:40,170
and it returns a long list of methods

404
00:17:38,610 --> 00:17:42,860
and properties<font color="#CCCCCC"> that are associated</font><font color="#E5E5E5"> with</font>

405
00:17:40,170 --> 00:17:42,860
<font color="#CCCCCC">that object</font>

406
00:17:45,070 --> 00:17:49,980
<font color="#CCCCCC">I love this one</font>

407
00:17:50,220 --> 00:17:56,390
bunnies are<font color="#E5E5E5"> jerks I own a bunny he is a</font>

408
00:17:54,180 --> 00:17:56,390
jerk

409
00:17:57,420 --> 00:18:01,690
<font color="#CCCCCC">all</font><font color="#E5E5E5"> right so let's start</font><font color="#CCCCCC"> putting all</font>

410
00:18:00,070 --> 00:18:05,110
<font color="#E5E5E5">this together and</font><font color="#CCCCCC"> actually do something</font>

411
00:18:01,690 --> 00:18:07,030
<font color="#E5E5E5">practical</font><font color="#CCCCCC"> what I want to do is we're</font>

412
00:18:05,110 --> 00:18:09,459
going<font color="#CCCCCC"> to take</font><font color="#E5E5E5"> the script from before</font>

413
00:18:07,030 --> 00:18:10,870
we've got the NTFS permissions and we're

414
00:18:09,460 --> 00:18:13,870
gonna make<font color="#CCCCCC"> it a bit more intelligent</font><font color="#E5E5E5"> a</font>

415
00:18:10,870 --> 00:18:16,959
bit more useful<font color="#CCCCCC"> we start out basically</font>

416
00:18:13,870 --> 00:18:19,260
<font color="#E5E5E5">the same we</font><font color="#CCCCCC"> go we call</font><font color="#E5E5E5"> get child item</font>

417
00:18:16,960 --> 00:18:22,180
get an array of<font color="#E5E5E5"> file system objects</font>

418
00:18:19,260 --> 00:18:25,690
<font color="#E5E5E5">return that</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> the variable ders</font><font color="#CCCCCC"> and</font>

419
00:18:22,180 --> 00:18:27,940
then we go<font color="#E5E5E5"> into a for each loop where we</font>

420
00:18:25,690 --> 00:18:28,990
<font color="#E5E5E5">start to change things though is the</font>

421
00:18:27,940 --> 00:18:31,900
first<font color="#E5E5E5"> thing we're going to do is we're</font>

422
00:18:28,990 --> 00:18:33,730
gonna declare an<font color="#E5E5E5"> eye very</font><font color="#CCCCCC"> bowl because I</font>

423
00:18:31,900 --> 00:18:38,710
like the letter<font color="#CCCCCC"> AI we're</font><font color="#E5E5E5"> gonna call</font><font color="#CCCCCC"> that</font>

424
00:18:33,730 --> 00:18:42,160
<font color="#CCCCCC">0 now before what we did when we</font><font color="#E5E5E5"> got our</font>

425
00:18:38,710 --> 00:18:45,220
ACL is we called access to<font color="#CCCCCC"> string and</font>

426
00:18:42,160 --> 00:18:48,430
<font color="#CCCCCC">that just returned a chunk</font><font color="#E5E5E5"> of text</font><font color="#CCCCCC"> that</font>

427
00:18:45,220 --> 00:18:50,260
was the NTFS permissions<font color="#E5E5E5"> and we could</font>

428
00:18:48,430 --> 00:18:53,200
chop that up and we can get what we're

429
00:18:50,260 --> 00:18:55,629
<font color="#CCCCCC">looking for probably sure to mention</font>

430
00:18:53,200 --> 00:18:57,760
<font color="#E5E5E5">what I want to do here</font><font color="#CCCCCC"> is I</font><font color="#E5E5E5"> want</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> find</font>

431
00:18:55,630 --> 00:19:00,970
permissions that<font color="#E5E5E5"> apply to the everyone</font>

432
00:18:57,760 --> 00:19:03,129
<font color="#E5E5E5">group and we can do that with access to</font>

433
00:19:00,970 --> 00:19:05,500
<font color="#CCCCCC">string we can</font><font color="#E5E5E5"> there's definitely screen</font>

434
00:19:03,130 --> 00:19:08,080
manipulation in PowerShell<font color="#E5E5E5"> we can do</font>

435
00:19:05,500 --> 00:19:10,840
things easier and<font color="#E5E5E5"> more efficiently the</font>

436
00:19:08,080 --> 00:19:16,480
way we're<font color="#CCCCCC"> going to do this is the ACL</font>

437
00:19:10,840 --> 00:19:19,300
object<font color="#E5E5E5"> also has an access property that</font>

438
00:19:16,480 --> 00:19:22,390
access property is an array of access

439
00:19:19,300 --> 00:19:23,379
<font color="#E5E5E5">control entry objects so what we're</font>

440
00:19:22,390 --> 00:19:25,840
<font color="#E5E5E5">gonna do is we're going to take that I</font>

441
00:19:23,380 --> 00:19:28,480
variable and we're going to<font color="#E5E5E5"> call through</font>

442
00:19:25,840 --> 00:19:31,179
<font color="#E5E5E5">the index of that access property list</font>

443
00:19:28,480 --> 00:19:34,420
and start<font color="#CCCCCC"> working</font><font color="#E5E5E5"> with the access</font>

444
00:19:31,180 --> 00:19:36,670
control entries by themselves so we do

445
00:19:34,420 --> 00:19:38,650
that<font color="#E5E5E5"> with our while loop we check hey as</font>

446
00:19:36,670 --> 00:19:40,900
long<font color="#CCCCCC"> as</font><font color="#E5E5E5"> you know I'm gonna call access</font>

447
00:19:38,650 --> 00:19:42,340
<font color="#E5E5E5">bracket 0 bracket as long as we start</font>

448
00:19:40,900 --> 00:19:44,200
incrementing through that and it doesn't

449
00:19:42,340 --> 00:19:46,270
<font color="#E5E5E5">return a null or you know just</font><font color="#CCCCCC"> nothing</font>

450
00:19:44,200 --> 00:19:49,690
<font color="#CCCCCC">this while</font><font color="#E5E5E5"> loop is gonna be true and</font>

451
00:19:46,270 --> 00:19:51,670
it's gonna run<font color="#CCCCCC"> its</font><font color="#E5E5E5"> code into the while</font>

452
00:19:49,690 --> 00:19:53,740
loop we know we have an access control

453
00:19:51,670 --> 00:19:56,530
<font color="#E5E5E5">entry we assign</font><font color="#CCCCCC"> that to the variable AC</font>

454
00:19:53,740 --> 00:19:59,020
<font color="#CCCCCC">E</font><font color="#E5E5E5"> and what I did putting this together</font>

455
00:19:56,530 --> 00:20:00,550
it was used to get member to figure out

456
00:19:59,020 --> 00:20:03,340
kind of what<font color="#CCCCCC"> I was looking for and how</font>

457
00:20:00,550 --> 00:20:05,350
it can<font color="#E5E5E5"> work with this AC</font><font color="#CCCCCC"> II object</font><font color="#E5E5E5"> so I</font>

458
00:20:03,340 --> 00:20:07,439
found out you<font color="#CCCCCC"> know I need to</font><font color="#E5E5E5"> find out</font>

459
00:20:05,350 --> 00:20:09,110
who these permissions apply to<font color="#E5E5E5"> and</font>

460
00:20:07,440 --> 00:20:13,580
to find out what<font color="#E5E5E5"> those permissions are</font>

461
00:20:09,110 --> 00:20:16,350
the identity<font color="#E5E5E5"> reference parameter is the</font>

462
00:20:13,580 --> 00:20:19,470
parameter in that<font color="#E5E5E5"> AC</font><font color="#CCCCCC"> e that tells us who</font>

463
00:20:16,350 --> 00:20:21,480
this AC e applies to so we're able<font color="#E5E5E5"> to do</font>

464
00:20:19,470 --> 00:20:22,950
an if statement<font color="#E5E5E5"> if that identity</font>

465
00:20:21,480 --> 00:20:25,909
reference parameter contains word

466
00:20:22,950 --> 00:20:28,559
<font color="#CCCCCC">everyone</font><font color="#E5E5E5"> we</font><font color="#CCCCCC"> want</font><font color="#E5E5E5"> to do something</font><font color="#CCCCCC"> with it</font>

467
00:20:25,909 --> 00:20:31,200
<font color="#E5E5E5">we go back we write out</font><font color="#CCCCCC"> the full path</font>

468
00:20:28,559 --> 00:20:34,080
our separator and<font color="#E5E5E5"> then</font><font color="#CCCCCC"> we</font><font color="#E5E5E5"> write out just</font>

469
00:20:31,200 --> 00:20:36,509
<font color="#E5E5E5">simply the the identity reference who</font>

470
00:20:34,080 --> 00:20:38,519
<font color="#E5E5E5">this AC e applies to you</font><font color="#CCCCCC"> and we write</font>

471
00:20:36,509 --> 00:20:40,049
out<font color="#E5E5E5"> the file system rights which using</font>

472
00:20:38,519 --> 00:20:41,879
<font color="#E5E5E5">get member and playing</font><font color="#CCCCCC"> around a bit we</font>

473
00:20:40,049 --> 00:20:45,629
<font color="#E5E5E5">figured out that's how we find out what</font>

474
00:20:41,879 --> 00:20:48,059
the permissions are in that<font color="#E5E5E5"> AC e we</font>

475
00:20:45,629 --> 00:20:49,350
<font color="#E5E5E5">increment up by one and we go back into</font>

476
00:20:48,059 --> 00:20:54,570
our while loop and<font color="#E5E5E5"> keep iterating</font>

477
00:20:49,350 --> 00:20:58,559
through that array of<font color="#E5E5E5"> AC es the full</font>

478
00:20:54,570 --> 00:21:00,029
code looks<font color="#E5E5E5"> like this 19 lines and to go</font>

479
00:20:58,559 --> 00:21:02,840
<font color="#E5E5E5">through real quickly again</font><font color="#CCCCCC"> you know we</font>

480
00:21:00,029 --> 00:21:06,600
get our directories we iterate through

481
00:21:02,840 --> 00:21:09,090
we get<font color="#E5E5E5"> the ACL from that directory and</font>

482
00:21:06,600 --> 00:21:12,240
<font color="#CCCCCC">then we start going through its access</font>

483
00:21:09,090 --> 00:21:13,799
control entries in<font color="#E5E5E5"> that while loop we</font>

484
00:21:12,240 --> 00:21:16,440
keep iterating through the access

485
00:21:13,799 --> 00:21:18,629
control entries mmm

486
00:21:16,440 --> 00:21:21,600
once we're out of<font color="#E5E5E5"> access control entries</font>

487
00:21:18,629 --> 00:21:23,789
<font color="#E5E5E5">we're back into our for loop and we</font><font color="#CCCCCC"> move</font>

488
00:21:21,600 --> 00:21:27,330
on to the next directory and continue

489
00:21:23,789 --> 00:21:29,070
the process<font color="#CCCCCC"> so again this time the</font>

490
00:21:27,330 --> 00:21:32,158
output<font color="#CCCCCC"> we're just</font><font color="#E5E5E5"> looking for anything</font>

491
00:21:29,070 --> 00:21:35,039
that<font color="#E5E5E5"> contains</font><font color="#CCCCCC"> every one</font><font color="#E5E5E5"> and on running</font>

492
00:21:32,159 --> 00:21:38,429
this on my laptop<font color="#CCCCCC"> we got back users</font>

493
00:21:35,039 --> 00:21:40,950
which<font color="#CCCCCC"> is expected and sandbox which</font>

494
00:21:38,429 --> 00:21:43,080
apparently sandbox<font color="#E5E5E5"> e wants everyone</font><font color="#CCCCCC"> to</font>

495
00:21:40,950 --> 00:21:47,360
<font color="#E5E5E5">have full</font><font color="#CCCCCC"> access to</font><font color="#E5E5E5"> that</font><font color="#CCCCCC"> folder</font><font color="#E5E5E5"> which</font>

496
00:21:43,080 --> 00:21:47,360
confuses<font color="#E5E5E5"> me and has since been fixed</font>

497
00:21:48,150 --> 00:21:52,680
<font color="#E5E5E5">all right so some</font><font color="#CCCCCC"> of the unique things</font>

498
00:21:51,420 --> 00:21:56,430
<font color="#CCCCCC">about PowerShell that make it pretty</font>

499
00:21:52,680 --> 00:21:59,130
cool<font color="#CCCCCC"> there is</font><font color="#E5E5E5"> the concept of PS drives</font>

500
00:21:56,430 --> 00:22:01,860
<font color="#E5E5E5">and what a PS</font><font color="#CCCCCC"> Drive is is it's kind of</font>

501
00:21:59,130 --> 00:22:04,050
<font color="#E5E5E5">like a</font><font color="#CCCCCC"> virtual file system</font><font color="#E5E5E5"> so any</font>

502
00:22:01,860 --> 00:22:06,090
<font color="#E5E5E5">example here we're actually working</font>

503
00:22:04,050 --> 00:22:08,159
<font color="#E5E5E5">through the registry as if it was a file</font>

504
00:22:06,090 --> 00:22:12,179
<font color="#CCCCCC">system</font><font color="#E5E5E5"> we just change directory into</font>

505
00:22:08,160 --> 00:22:15,030
<font color="#CCCCCC">hecu</font><font color="#E5E5E5"> so HD current users</font><font color="#CCCCCC"> and then from</font>

506
00:22:12,180 --> 00:22:19,140
there we can<font color="#E5E5E5"> switch between keys and we</font>

507
00:22:15,030 --> 00:22:20,730
can also start creating objects<font color="#CCCCCC"> one of</font>

508
00:22:19,140 --> 00:22:23,870
the cool commandlets that comes<font color="#E5E5E5"> into</font>

509
00:22:20,730 --> 00:22:28,470
<font color="#E5E5E5">play is a test path which you feed it a</font>

510
00:22:23,870 --> 00:22:30,209
path either with any PS<font color="#CCCCCC"> Drive supported</font>

511
00:22:28,470 --> 00:22:32,310
<font color="#E5E5E5">things so it could be a file system UNC</font>

512
00:22:30,210 --> 00:22:35,730
<font color="#E5E5E5">registry it will check</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> see</font><font color="#CCCCCC"> if that</font>

513
00:22:32,310 --> 00:22:37,620
<font color="#CCCCCC">path exists and return true</font><font color="#E5E5E5"> or false so</font>

514
00:22:35,730 --> 00:22:40,500
in this example we check to see<font color="#CCCCCC"> if we</font>

515
00:22:37,620 --> 00:22:42,120
have a key for<font color="#E5E5E5"> a b-side CHS we don't so</font>

516
00:22:40,500 --> 00:22:44,550
we go<font color="#CCCCCC"> ahead and</font><font color="#E5E5E5"> create it with new item</font>

517
00:22:42,120 --> 00:22:49,139
and<font color="#E5E5E5"> then we create a value in</font><font color="#CCCCCC"> that</font>

518
00:22:44,550 --> 00:22:51,480
registry key<font color="#CCCCCC"> of demo with the</font><font color="#E5E5E5"> value of</font>

519
00:22:49,140 --> 00:22:56,610
<font color="#CCCCCC">tex</font><font color="#E5E5E5"> goes here because I ran</font><font color="#CCCCCC"> out of</font>

520
00:22:51,480 --> 00:22:58,500
original things to do there one of the

521
00:22:56,610 --> 00:23:01,290
nice<font color="#CCCCCC"> things about</font><font color="#E5E5E5"> PowerShell being a</font>

522
00:22:58,500 --> 00:23:06,390
modern language<font color="#E5E5E5"> is its network aware so</font>

523
00:23:01,290 --> 00:23:09,030
UNC paths work natively<font color="#CCCCCC"> and a lot of the</font>

524
00:23:06,390 --> 00:23:12,380
commandlets<font color="#E5E5E5"> especially those provided</font><font color="#CCCCCC"> by</font>

525
00:23:09,030 --> 00:23:15,180
Microsoft<font color="#CCCCCC"> will work on remote computers</font>

526
00:23:12,380 --> 00:23:17,130
so in the example<font color="#CCCCCC"> of the stop service</font>

527
00:23:15,180 --> 00:23:19,650
command<font color="#CCCCCC"> lit</font><font color="#E5E5E5"> what we're doing here is</font>

528
00:23:17,130 --> 00:23:22,620
we're stopping<font color="#E5E5E5"> the spooler service on a</font>

529
00:23:19,650 --> 00:23:23,930
remote PC<font color="#E5E5E5"> that will come into</font><font color="#CCCCCC"> play when</font>

530
00:23:22,620 --> 00:23:26,100
<font color="#E5E5E5">we</font><font color="#CCCCCC"> talk about frame workers</font>

531
00:23:23,930 --> 00:23:29,130
the other cool thing is it integrates

532
00:23:26,100 --> 00:23:31,980
<font color="#CCCCCC">with windows</font><font color="#E5E5E5"> RM which is windows remote</font>

533
00:23:29,130 --> 00:23:35,160
<font color="#CCCCCC">management service that lets us do</font><font color="#E5E5E5"> two</font>

534
00:23:31,980 --> 00:23:37,050
pretty cool things<font color="#E5E5E5"> one is we can do a we</font>

535
00:23:35,160 --> 00:23:40,620
can run the<font color="#CCCCCC"> entropy s session</font><font color="#E5E5E5"> command</font>

536
00:23:37,050 --> 00:23:42,899
which is<font color="#E5E5E5"> kind of like SSH but PowerShell</font>

537
00:23:40,620 --> 00:23:46,709
<font color="#E5E5E5">until PowerShell actually gets proper</font>

538
00:23:42,900 --> 00:23:48,780
SSH which<font color="#CCCCCC"> is</font><font color="#E5E5E5"> coming by using the entropy</font>

539
00:23:46,710 --> 00:23:52,830
s session command you actually drop into

540
00:23:48,780 --> 00:23:54,720
a PowerShell prompt on a remote PC you

541
00:23:52,830 --> 00:23:56,730
can<font color="#E5E5E5"> also do invoke command and invoke</font>

542
00:23:54,720 --> 00:23:59,190
expression which are both ways to

543
00:23:56,730 --> 00:24:07,260
execute just raw PowerShell code

544
00:23:59,190 --> 00:24:09,360
on a remote PC so when I put<font color="#CCCCCC"> this</font>

545
00:24:07,260 --> 00:24:10,440
together<font color="#CCCCCC"> I didn't realize until after</font>

546
00:24:09,360 --> 00:24:14,959
I'd kind of<font color="#E5E5E5"> looked at the slides a</font>

547
00:24:10,440 --> 00:24:17,880
couple times<font color="#CCCCCC"> that well thank you sir</font>

548
00:24:14,960 --> 00:24:26,970
<font color="#CCCCCC">that puppy</font><font color="#E5E5E5"> break is a terrible terrible</font>

549
00:24:17,880 --> 00:24:33,960
pun for this gift all right so now the

550
00:24:26,970 --> 00:24:36,720
fun stuff<font color="#E5E5E5"> there is an incredible amount</font>

551
00:24:33,960 --> 00:24:40,580
of talent in the offensive<font color="#CCCCCC"> security like</font>

552
00:24:36,720 --> 00:24:44,400
<font color="#E5E5E5">PowerShell community</font><font color="#CCCCCC"> there really is</font>

553
00:24:40,580 --> 00:24:46,379
<font color="#E5E5E5">frameworks and modules for any stage of</font>

554
00:24:44,400 --> 00:24:51,350
a pen test or<font color="#CCCCCC"> engagement that</font><font color="#E5E5E5"> you want</font>

555
00:24:46,380 --> 00:24:53,850
to do recon data exfiltration<font color="#E5E5E5"> backdoors</font>

556
00:24:51,350 --> 00:24:57,750
<font color="#CCCCCC">there's been an incredible amount of</font>

557
00:24:53,850 --> 00:25:00,389
<font color="#CCCCCC">work done</font><font color="#E5E5E5"> and what's cool</font><font color="#CCCCCC"> is there a lot</font>

558
00:24:57,750 --> 00:25:02,070
<font color="#E5E5E5">of the standout members and the people</font>

559
00:25:00,390 --> 00:25:04,200
<font color="#CCCCCC">kind of driving</font><font color="#E5E5E5"> all this</font><font color="#CCCCCC"> they have a</font>

560
00:25:02,070 --> 00:25:06,960
very mature methodology<font color="#E5E5E5"> to how they</font>

561
00:25:04,200 --> 00:25:10,230
<font color="#E5E5E5">approach pen testing and this has led</font><font color="#CCCCCC"> to</font>

562
00:25:06,960 --> 00:25:10,770
a big<font color="#E5E5E5"> focus on</font><font color="#CCCCCC"> in-memory attacks</font><font color="#E5E5E5"> with</font>

563
00:25:10,230 --> 00:25:13,920
PowerShell

564
00:25:10,770 --> 00:25:17,520
a lot of the PowerShell code<font color="#E5E5E5"> we work</font>

565
00:25:13,920 --> 00:25:20,670
with offensively<font color="#E5E5E5"> doesn't touch desk</font><font color="#CCCCCC"> it</font>

566
00:25:17,520 --> 00:25:22,680
runs entirely in memory so it is a lot

567
00:25:20,670 --> 00:25:25,260
less<font color="#CCCCCC"> likely to trip baby it's a lot</font>

568
00:25:22,680 --> 00:25:27,110
<font color="#E5E5E5">harder to</font><font color="#CCCCCC"> track down</font><font color="#E5E5E5"> and makes our jobs</font>

569
00:25:25,260 --> 00:25:29,820
<font color="#E5E5E5">pretty great</font>

570
00:25:27,110 --> 00:25:30,360
using a framework in<font color="#E5E5E5"> PowerShell is</font>

571
00:25:29,820 --> 00:25:33,419
really easy

572
00:25:30,360 --> 00:25:35,280
basically there<font color="#CCCCCC"> are modules so what you</font>

573
00:25:33,420 --> 00:25:37,080
do is you clone down the repo that

574
00:25:35,280 --> 00:25:39,480
you're trying to<font color="#E5E5E5"> use and you run the</font>

575
00:25:37,080 --> 00:25:41,040
import module<font color="#E5E5E5"> command a lot of times you</font>

576
00:25:39,480 --> 00:25:43,680
can point import module<font color="#E5E5E5"> it just the</font>

577
00:25:41,040 --> 00:25:46,580
folder<font color="#E5E5E5"> of the repo sometimes you have to</font>

578
00:25:43,680 --> 00:25:48,840
point it<font color="#E5E5E5"> out at</font><font color="#CCCCCC"> ps1 file or PSM</font><font color="#E5E5E5"> one file</font>

579
00:25:46,580 --> 00:25:50,699
<font color="#E5E5E5">that's kind of just</font><font color="#CCCCCC"> trial and</font><font color="#E5E5E5"> error</font><font color="#CCCCCC"> to</font>

580
00:25:48,840 --> 00:25:53,809
figure<font color="#E5E5E5"> out what works for whatever</font>

581
00:25:50,700 --> 00:25:55,940
<font color="#CCCCCC">framework you're working with</font>

582
00:25:53,809 --> 00:25:57,729
so the first frame we're<font color="#CCCCCC"> going</font><font color="#E5E5E5"> to talk</font>

583
00:25:55,940 --> 00:26:01,969
<font color="#E5E5E5">about is a framework by a manifestation</font>

584
00:25:57,729 --> 00:26:03,979
<font color="#E5E5E5">called</font><font color="#CCCCCC"> power sploit</font><font color="#E5E5E5"> and it has a lot of</font>

585
00:26:01,969 --> 00:26:05,960
<font color="#CCCCCC">modules a lot of great stuff</font><font color="#E5E5E5"> to</font><font color="#CCCCCC"> use in</font>

586
00:26:03,979 --> 00:26:08,299
it<font color="#CCCCCC"> two of the things</font><font color="#E5E5E5"> that are relatively</font>

587
00:26:05,960 --> 00:26:11,479
unique to it<font color="#CCCCCC"> are its ability</font><font color="#E5E5E5"> to modify</font>

588
00:26:08,299 --> 00:26:14,509
scripts<font color="#E5E5E5"> so you can take a</font><font color="#CCCCCC"> powershell</font>

589
00:26:11,479 --> 00:26:18,619
script<font color="#E5E5E5"> that you've written and pipe it</font>

590
00:26:14,509 --> 00:26:22,099
through his framework<font color="#CCCCCC"> and it will either</font>

591
00:26:18,619 --> 00:26:24,678
in code<font color="#E5E5E5"> or encrypt</font><font color="#CCCCCC"> the script</font><font color="#E5E5E5"> and kind</font>

592
00:26:22,099 --> 00:26:26,928
<font color="#CCCCCC">of</font><font color="#E5E5E5"> hide it from plain sight</font><font color="#CCCCCC"> I</font>

593
00:26:24,679 --> 00:26:29,419
specifically am NOT going to<font color="#E5E5E5"> use the</font>

594
00:26:26,929 --> 00:26:32,059
word ops<font color="#E5E5E5"> cue faint</font><font color="#CCCCCC"> I think that's how</font>

595
00:26:29,419 --> 00:26:34,669
you<font color="#CCCCCC"> pronounce it but yeah it's pretty</font>

596
00:26:32,059 --> 00:26:39,408
<font color="#CCCCCC">handy the other cool thing about it</font><font color="#E5E5E5"> is</font>

597
00:26:34,669 --> 00:26:42,440
<font color="#E5E5E5">it has a mayhem module and that's a real</font>

598
00:26:39,409 --> 00:26:44,210
rare thing to see<font color="#CCCCCC"> in a framework is just</font>

599
00:26:42,440 --> 00:26:47,359
a module for a hey<font color="#CCCCCC"> let's up</font>

600
00:26:44,210 --> 00:26:50,570
<font color="#E5E5E5">and I really really appreciate that he</font>

601
00:26:47,359 --> 00:26:51,379
has that so some of<font color="#E5E5E5"> the things they</font>

602
00:26:50,570 --> 00:26:54,710
definitely<font color="#E5E5E5"> would highlight in</font>

603
00:26:51,379 --> 00:26:57,049
<font color="#E5E5E5">powersploit are there he has a</font><font color="#CCCCCC"> invoke</font>

604
00:26:54,710 --> 00:26:59,929
ninja copy command lit and what invoke

605
00:26:57,049 --> 00:27:03,320
ninja copy does is it<font color="#E5E5E5"> gets around file</font>

606
00:26:59,929 --> 00:27:05,359
system locks and ACLs<font color="#E5E5E5"> the way it does</font>

607
00:27:03,320 --> 00:27:07,639
this<font color="#CCCCCC"> is actually reads the raw volume</font>

608
00:27:05,359 --> 00:27:10,279
data from the hard drive<font color="#E5E5E5"> and then</font>

609
00:27:07,639 --> 00:27:12,799
recreates the NTFS structures to make

610
00:27:10,279 --> 00:27:15,289
those files<font color="#CCCCCC"> we're gonna be using that</font><font color="#E5E5E5"> in</font>

611
00:27:12,799 --> 00:27:17,809
a demo later<font color="#E5E5E5"> to good</font><font color="#CCCCCC"> effect</font>

612
00:27:15,289 --> 00:27:20,179
the other great thing<font color="#CCCCCC"> that has is</font>

613
00:27:17,809 --> 00:27:22,580
invoking in the<font color="#E5E5E5"> cats if you're not</font>

614
00:27:20,179 --> 00:27:26,659
familiar with mimic cats<font color="#E5E5E5"> it's a tool</font>

615
00:27:22,580 --> 00:27:29,509
that<font color="#CCCCCC"> will dump credentials from memory</font>

616
00:27:26,659 --> 00:27:32,089
on a Windows box<font color="#E5E5E5"> so it looks out for</font>

617
00:27:29,509 --> 00:27:35,299
<font color="#CCCCCC">else ass and a couple other processes</font>

618
00:27:32,089 --> 00:27:38,570
<font color="#E5E5E5">and we'll get just in I've been</font><font color="#CCCCCC"> to</font>

619
00:27:35,299 --> 00:27:40,969
<font color="#E5E5E5">Windows 8 or</font><font color="#CCCCCC"> 8.1 it gets plaintext</font>

620
00:27:38,570 --> 00:27:42,710
credentials just from memory<font color="#CCCCCC"> there's</font>

621
00:27:40,969 --> 00:27:45,440
ways<font color="#CCCCCC"> you can make</font><font color="#E5E5E5"> it work and 8.1 as</font>

622
00:27:42,710 --> 00:27:49,700
well<font color="#CCCCCC"> the cool</font><font color="#E5E5E5"> thing about invoke</font>

623
00:27:45,440 --> 00:27:51,589
mimikatz<font color="#CCCCCC"> is it runs in memory itself so</font>

624
00:27:49,700 --> 00:27:53,299
from<font color="#E5E5E5"> your computer that you're working</font>

625
00:27:51,589 --> 00:27:55,609
<font color="#E5E5E5">off of you just point it at a remote</font>

626
00:27:53,299 --> 00:27:56,509
computer and it will<font color="#E5E5E5"> bring back you know</font>

627
00:27:55,609 --> 00:27:59,799
<font color="#E5E5E5">password</font>

628
00:27:56,509 --> 00:28:02,209
credentials<font color="#CCCCCC"> from that remote computer</font>

629
00:27:59,799 --> 00:28:04,639
<font color="#CCCCCC">the mayhem module</font><font color="#E5E5E5"> that convention is</font>

630
00:28:02,209 --> 00:28:06,739
really great<font color="#E5E5E5"> one of</font><font color="#CCCCCC"> the</font><font color="#E5E5E5"> cool</font><font color="#CCCCCC"> things</font>

631
00:28:04,639 --> 00:28:09,079
about is has the set Master Boot Record

632
00:28:06,739 --> 00:28:11,089
<font color="#CCCCCC">command lit</font><font color="#E5E5E5"> which just lets you</font>

633
00:28:09,079 --> 00:28:17,418
overwrite the MBR with whatever<font color="#E5E5E5"> string</font>

634
00:28:11,089 --> 00:28:19,099
<font color="#E5E5E5">you want</font><font color="#CCCCCC"> to put power tools which is now</font>

635
00:28:17,419 --> 00:28:22,849
part<font color="#CCCCCC"> of</font><font color="#E5E5E5"> the Empire framework it's not</font>

636
00:28:19,099 --> 00:28:26,239
part of<font color="#E5E5E5"> bale anymore</font><font color="#CCCCCC"> power tools is</font>

637
00:28:22,849 --> 00:28:28,639
started by a sixth<font color="#E5E5E5"> up in Hanoi</font><font color="#CCCCCC"> and it</font>

638
00:28:26,239 --> 00:28:32,169
has a lot of<font color="#E5E5E5"> great stuff</font><font color="#CCCCCC"> they're really</font>

639
00:28:28,639 --> 00:28:37,458
focused on massive engagements<font color="#CCCCCC"> so</font>

640
00:28:32,169 --> 00:28:40,969
<font color="#CCCCCC">there's a lot of code that</font><font color="#E5E5E5"> is focused on</font>

641
00:28:37,459 --> 00:28:44,719
multi-threaded attacks<font color="#CCCCCC"> there's also a</font>

642
00:28:40,969 --> 00:28:46,159
lot<font color="#CCCCCC"> of</font><font color="#E5E5E5"> network awareness code so Power</font>

643
00:28:44,719 --> 00:28:47,079
View is their module for network

644
00:28:46,159 --> 00:28:49,729
awareness

645
00:28:47,079 --> 00:28:51,859
what's cool about Power View is it has

646
00:28:49,729 --> 00:28:55,429
several commandlets that let you do user

647
00:28:51,859 --> 00:28:58,339
hunting<font color="#CCCCCC"> what that means is you'll run</font>

648
00:28:55,429 --> 00:29:00,619
user hunter and it will find who the

649
00:28:58,339 --> 00:29:03,168
domain admin accounts are on the network

650
00:29:00,619 --> 00:29:04,519
<font color="#CCCCCC">and</font><font color="#E5E5E5"> then find where they are logged in</font>

651
00:29:03,169 --> 00:29:08,109
<font color="#E5E5E5">on the network so you can start</font>

652
00:29:04,519 --> 00:29:08,109
attacking their<font color="#CCCCCC"> pcs directly</font>

653
00:29:08,539 --> 00:29:14,479
the other cool thing is the<font color="#CCCCCC"> pew pewpew</font>

654
00:29:11,209 --> 00:29:18,369
<font color="#E5E5E5">module which besides</font><font color="#CCCCCC"> being a great name</font>

655
00:29:14,479 --> 00:29:21,139
for a<font color="#CCCCCC"> module it focuses on</font>

656
00:29:18,369 --> 00:29:23,809
multi-threaded attacks or command

657
00:29:21,139 --> 00:29:26,569
execution<font color="#CCCCCC"> it includes a module for</font>

658
00:29:23,809 --> 00:29:28,489
invoke mass mimic<font color="#E5E5E5"> ATS which takes the</font>

659
00:29:26,569 --> 00:29:30,469
invoke mimikatz from<font color="#CCCCCC"> power sploit</font><font color="#E5E5E5"> and</font>

660
00:29:28,489 --> 00:29:31,789
runs it against everything<font color="#E5E5E5"> on the</font>

661
00:29:30,469 --> 00:29:33,349
network and<font color="#CCCCCC"> just starts grabbing</font>

662
00:29:31,789 --> 00:29:36,319
credentials<font color="#CCCCCC"> from whatever it can</font>

663
00:29:33,349 --> 00:29:37,489
<font color="#CCCCCC">possibly reach out to</font><font color="#E5E5E5"> technically it's</font>

664
00:29:36,319 --> 00:29:39,440
really<font color="#CCCCCC"> interesting because the way it</font>

665
00:29:37,489 --> 00:29:41,059
does this is they end up these the

666
00:29:39,440 --> 00:29:44,629
multi-threading which is kind<font color="#E5E5E5"> of native</font>

667
00:29:41,059 --> 00:29:47,029
in<font color="#E5E5E5"> PowerShell but they spin up a HTTP</font>

668
00:29:44,629 --> 00:29:48,379
server<font color="#CCCCCC"> in PowerShell and</font><font color="#E5E5E5"> that's how</font>

669
00:29:47,029 --> 00:29:50,299
they're actually<font color="#E5E5E5"> receiving all the</font>

670
00:29:48,379 --> 00:29:54,198
requests back which is a really<font color="#CCCCCC"> cool</font>

671
00:29:50,299 --> 00:29:57,379
<font color="#E5E5E5">approach the last project I want to talk</font>

672
00:29:54,199 --> 00:29:59,809
about is me<font color="#E5E5E5"> shank which is a</font><font color="#CCCCCC"> Misha is a</font>

673
00:29:57,379 --> 00:30:03,708
huge project<font color="#CCCCCC"> if you just obviously</font>

674
00:29:59,809 --> 00:30:05,299
<font color="#E5E5E5">enjoys creating random awesomeness</font><font color="#CCCCCC"> and</font>

675
00:30:03,709 --> 00:30:07,849
it's<font color="#E5E5E5"> actively developed there's a lot of</font>

676
00:30:05,299 --> 00:30:10,339
stuff going<font color="#E5E5E5"> on with</font><font color="#CCCCCC"> it the two things I</font>

677
00:30:07,849 --> 00:30:13,279
want to<font color="#CCCCCC"> focus</font><font color="#E5E5E5"> on here is the</font><font color="#CCCCCC"> client</font>

678
00:30:10,339 --> 00:30:16,940
<font color="#CCCCCC">module which allows you to</font><font color="#E5E5E5"> easily inject</font>

679
00:30:13,279 --> 00:30:19,729
PowerShell into<font color="#E5E5E5"> Word</font><font color="#CCCCCC"> docs</font><font color="#E5E5E5"> or CHM files</font>

680
00:30:16,940 --> 00:30:21,349
stuff like that<font color="#CCCCCC"> what's</font><font color="#E5E5E5"> cool about that</font>

681
00:30:19,729 --> 00:30:23,329
basically<font color="#CCCCCC"> it</font><font color="#E5E5E5"> would create a macro at</font>

682
00:30:21,349 --> 00:30:25,129
least an office<font color="#E5E5E5"> Docs</font><font color="#CCCCCC"> that will go out</font>

683
00:30:23,329 --> 00:30:27,678
and<font color="#E5E5E5"> either execute the</font><font color="#CCCCCC"> PowerShell you</font>

684
00:30:25,129 --> 00:30:30,769
give it or<font color="#E5E5E5"> download a</font><font color="#CCCCCC"> ps1</font><font color="#E5E5E5"> file from the</font>

685
00:30:27,679 --> 00:30:32,269
internet<font color="#CCCCCC"> and execute that it</font><font color="#E5E5E5"> also has</font>

686
00:30:30,769 --> 00:30:33,399
some<font color="#E5E5E5"> really unique approaches to</font>

687
00:30:32,269 --> 00:30:37,190
<font color="#E5E5E5">backdoors</font>

688
00:30:33,399 --> 00:30:40,968
the first<font color="#CCCCCC"> factor I want to talk about is</font>

689
00:30:37,190 --> 00:30:44,239
the DNS<font color="#E5E5E5"> text pwnage backdoor what that</font>

690
00:30:40,969 --> 00:30:46,129
does is<font color="#CCCCCC"> you point</font><font color="#E5E5E5"> it</font><font color="#CCCCCC"> to a domain</font><font color="#E5E5E5"> and it</font>

691
00:30:44,239 --> 00:30:48,649
will query<font color="#E5E5E5"> that domain for text records</font>

692
00:30:46,129 --> 00:30:51,918
and treat those text records as

693
00:30:48,649 --> 00:30:54,279
executable<font color="#CCCCCC"> powershell the other great</font>

694
00:30:51,919 --> 00:30:59,809
<font color="#CCCCCC">thing is Gupt backdoor</font>

695
00:30:54,279 --> 00:31:03,440
what Gupt backdoor does is it looks for

696
00:30:59,809 --> 00:31:06,019
<font color="#E5E5E5">wireless</font><font color="#CCCCCC"> networks that</font><font color="#E5E5E5"> are available to</font>

697
00:31:03,440 --> 00:31:07,039
the<font color="#E5E5E5"> PC it doesn't connect to them but it</font>

698
00:31:06,019 --> 00:31:09,409
checks<font color="#E5E5E5"> the SID</font>

699
00:31:07,039 --> 00:31:11,839
and if the first<font color="#E5E5E5"> four</font><font color="#CCCCCC"> characters of</font><font color="#E5E5E5"> that</font>

700
00:31:09,409 --> 00:31:14,839
said match a magic string<font color="#E5E5E5"> that you</font>

701
00:31:11,839 --> 00:31:17,690
define like a password<font color="#CCCCCC"> it then checks</font>

702
00:31:14,839 --> 00:31:20,299
<font color="#E5E5E5">the fifth character of the SID if the</font>

703
00:31:17,690 --> 00:31:22,099
fifth<font color="#CCCCCC"> character thus it is a C it treats</font>

704
00:31:20,299 --> 00:31:24,799
the rest of that<font color="#CCCCCC"> sid as powershell and</font>

705
00:31:22,099 --> 00:31:28,309
just<font color="#CCCCCC"> execute it it's a fifth character</font>

706
00:31:24,799 --> 00:31:31,249
if that's<font color="#CCCCCC"> sid is a u</font><font color="#E5E5E5"> it treats the rest</font>

707
00:31:28,309 --> 00:31:33,649
of that sid as a<font color="#CCCCCC"> google short URL and</font>

708
00:31:31,249 --> 00:31:35,209
goes out<font color="#CCCCCC"> and downloads the ps1 file or</font>

709
00:31:33,649 --> 00:31:39,199
<font color="#E5E5E5">whatever it's pointed to and executes</font>

710
00:31:35,209 --> 00:31:41,479
<font color="#E5E5E5">that</font><font color="#CCCCCC"> as</font><font color="#E5E5E5"> powershell that is totally off</font>

711
00:31:39,200 --> 00:31:44,559
the<font color="#E5E5E5"> wall and I love the devious bastard</font>

712
00:31:41,479 --> 00:31:44,559
that came up with<font color="#E5E5E5"> that</font>

713
00:31:44,910 --> 00:31:55,650
so why do a quick demo here<font color="#E5E5E5"> that</font>

714
00:31:48,570 --> 00:31:58,740
<font color="#E5E5E5">hopefully will</font><font color="#CCCCCC"> work with that</font><font color="#E5E5E5"> issue all</font>

715
00:31:55,650 --> 00:32:06,680
<font color="#E5E5E5">right so in this example we've</font>

716
00:31:58,740 --> 00:32:09,810
compromised<font color="#E5E5E5"> a help desk user account</font><font color="#CCCCCC"> and</font>

717
00:32:06,680 --> 00:32:12,840
like a lot<font color="#E5E5E5"> of corporate environments the</font>

718
00:32:09,810 --> 00:32:14,909
help desk<font color="#E5E5E5"> has admin rights on laptops</font>

719
00:32:12,840 --> 00:32:17,159
<font color="#E5E5E5">and desktops and stuff like that</font>

720
00:32:14,910 --> 00:32:19,500
but they don't<font color="#E5E5E5"> have access to</font><font color="#CCCCCC"> the</font>

721
00:32:17,160 --> 00:32:21,720
servers<font color="#CCCCCC"> and what</font><font color="#E5E5E5"> I want to do is I want</font>

722
00:32:19,500 --> 00:32:24,630
<font color="#CCCCCC">to get the Active</font><font color="#E5E5E5"> Directory database and</font>

723
00:32:21,720 --> 00:32:27,630
get<font color="#E5E5E5"> that off</font><font color="#CCCCCC"> network so I can crack it</font>

724
00:32:24,630 --> 00:32:30,030
and<font color="#E5E5E5"> do my thing</font><font color="#CCCCCC"> so the first thing I</font>

725
00:32:27,630 --> 00:32:34,740
want<font color="#E5E5E5"> to do is find myself</font><font color="#CCCCCC"> an admin so</font>

726
00:32:30,030 --> 00:32:39,200
what we're<font color="#E5E5E5"> gonna do here is import power</font>

727
00:32:34,740 --> 00:32:39,200
tools<font color="#CCCCCC"> power view module</font>

728
00:32:44,509 --> 00:32:48,459
<font color="#E5E5E5">I'm really nervous in</font><font color="#CCCCCC"> the spill my beer</font>

729
00:32:59,050 --> 00:33:07,240
<font color="#E5E5E5">okay and we're gonna run invoke user</font>

730
00:33:01,990 --> 00:33:09,550
<font color="#CCCCCC">hunter all right</font>

731
00:33:07,240 --> 00:33:10,720
so that found our domain admin his

732
00:33:09,550 --> 00:33:17,500
<font color="#CCCCCC">username is mr. radmann</font>

733
00:33:10,720 --> 00:33:19,840
he's logged into demo client<font color="#CCCCCC"> too</font><font color="#E5E5E5"> so we</font>

734
00:33:17,500 --> 00:33:22,060
want to run<font color="#CCCCCC"> maquettes against him</font><font color="#E5E5E5"> this</font>

735
00:33:19,840 --> 00:33:26,889
<font color="#E5E5E5">environment uses Windows 7 so we're in</font>

736
00:33:22,060 --> 00:33:31,320
luck there<font color="#E5E5E5"> to use mimic cats that's in</font>

737
00:33:26,890 --> 00:33:31,320
the<font color="#CCCCCC"> powersploit</font><font color="#E5E5E5"> repos</font>

738
00:33:35,740 --> 00:33:42,299
so Windows<font color="#E5E5E5"> Defender Windows 10 Windows</font>

739
00:33:39,580 --> 00:33:45,029
Defender<font color="#E5E5E5"> on Windows 10 does detect</font>

740
00:33:42,299 --> 00:33:48,190
invoke mimikatz as a malicious file

741
00:33:45,029 --> 00:33:50,110
there<font color="#E5E5E5"> are ways to get around that we</font>

742
00:33:48,190 --> 00:33:53,580
talked<font color="#E5E5E5"> about that when it's not</font><font color="#CCCCCC"> being</font>

743
00:33:50,110 --> 00:34:00,729
recorded<font color="#CCCCCC"> but it's fine</font><font color="#E5E5E5"> for our purposes</font>

744
00:33:53,580 --> 00:34:05,340
<font color="#E5E5E5">and though commitment cats and we're</font>

745
00:34:00,730 --> 00:34:05,340
gonna point that to demo right

746
00:34:13,460 --> 00:34:23,050
sweet

747
00:34:16,199 --> 00:34:25,239
all right so we<font color="#CCCCCC"> have passwords all right</font>

748
00:34:23,050 --> 00:34:28,419
so<font color="#E5E5E5"> user name is</font><font color="#CCCCCC"> mr. admin password is</font>

749
00:34:25,239 --> 00:34:33,729
god complex<font color="#CCCCCC"> and what we're gonna do is</font>

750
00:34:28,418 --> 00:34:36,210
start<font color="#CCCCCC"> a new PowerShell window as the</font>

751
00:34:33,730 --> 00:34:36,210
admin

752
00:34:39,168 --> 00:34:42,638
<font color="#CCCCCC">so</font><font color="#E5E5E5"> mr. had</font>

753
00:34:45,639 --> 00:34:48,179
go

754
00:34:52,510 --> 00:34:57,220
<font color="#E5E5E5">all right so we have</font><font color="#CCCCCC"> domain</font><font color="#E5E5E5"> admin rights</font>

755
00:34:54,730 --> 00:34:59,500
we<font color="#CCCCCC"> need to get our Active Directory</font>

756
00:34:57,220 --> 00:35:01,990
database<font color="#CCCCCC"> so first thing</font><font color="#E5E5E5"> we need to do is</font>

757
00:34:59,500 --> 00:35:04,420
figure out what<font color="#CCCCCC"> our DCs are</font><font color="#E5E5E5"> there are</font>

758
00:35:01,990 --> 00:35:06,459
any<font color="#CCCCCC"> number of ways to do</font><font color="#E5E5E5"> this because</font>

759
00:35:04,420 --> 00:35:09,060
<font color="#E5E5E5">this is a</font><font color="#CCCCCC"> powershell talk</font><font color="#E5E5E5"> we</font><font color="#CCCCCC"> are</font><font color="#E5E5E5"> going</font>

760
00:35:06,460 --> 00:35:09,060
to use PowerShell

761
00:35:10,350 --> 00:35:19,618
<font color="#CCCCCC">part of</font><font color="#E5E5E5"> tower view under power tools is</font>

762
00:35:14,380 --> 00:35:25,930
a lot of ad enumeration sort of stuff

763
00:35:19,619 --> 00:35:31,060
<font color="#CCCCCC">and one of</font><font color="#E5E5E5"> those things is get a domain</font>

764
00:35:25,930 --> 00:35:34,089
<font color="#CCCCCC">controller</font><font color="#E5E5E5"> so this</font><font color="#CCCCCC"> tells us what</font><font color="#E5E5E5"> our</font>

765
00:35:31,060 --> 00:35:40,450
<font color="#E5E5E5">domain</font><font color="#CCCCCC"> is what the DC's running what its</font>

766
00:35:34,090 --> 00:35:42,280
roles are and what its host name is so

767
00:35:40,450 --> 00:35:44,919
we're<font color="#E5E5E5"> going to use now to get that</font><font color="#CCCCCC"> ad</font>

768
00:35:42,280 --> 00:35:48,210
database we're gonna use invoke ninja

769
00:35:44,920 --> 00:35:48,210
copy from<font color="#CCCCCC"> powersploit</font>

770
00:35:48,420 --> 00:35:52,140
clear this<font color="#E5E5E5"> out for you guys</font>

771
00:35:59,410 --> 00:36:02,368
yes yes

772
00:36:02,890 --> 00:36:07,089
<font color="#CCCCCC">all right so invoke ninja copy</font><font color="#E5E5E5"> we need</font>

773
00:36:05,440 --> 00:36:10,180
to specify the path<font color="#CCCCCC"> that we're trying to</font>

774
00:36:07,090 --> 00:36:15,520
<font color="#E5E5E5">copy which in this case is C windows and</font>

775
00:36:10,180 --> 00:36:17,710
GDS<font color="#CCCCCC"> and</font><font color="#E5E5E5"> TD did we want to</font><font color="#CCCCCC"> specify what</font>

776
00:36:15,520 --> 00:36:20,950
computer we're<font color="#CCCCCC"> copying it from which in</font>

777
00:36:17,710 --> 00:36:23,160
this case is demo<font color="#E5E5E5"> D Co one and we need</font>

778
00:36:20,950 --> 00:36:25,750
specify where we want to<font color="#E5E5E5"> copy files to</font>

779
00:36:23,160 --> 00:36:28,500
for ease of<font color="#CCCCCC"> use we're just</font><font color="#E5E5E5"> going to copy</font>

780
00:36:25,750 --> 00:36:28,500
it to<font color="#E5E5E5"> our repos</font>

781
00:36:33,230 --> 00:36:36,010
<font color="#E5E5E5">whoa now</font>

782
00:36:36,210 --> 00:36:39,140
that's<font color="#CCCCCC"> entrap</font>

783
00:36:59,440 --> 00:37:01,980
yeah

784
00:37:07,609 --> 00:37:14,440
let's try that<font color="#CCCCCC"> again</font>

785
00:37:09,830 --> 00:37:14,440
local destination and<font color="#E5E5E5"> c3po</font>

786
00:37:23,980 --> 00:37:28,769
I wonder if<font color="#E5E5E5"> it was trekking on the</font>

787
00:37:25,390 --> 00:37:28,769
<font color="#CCCCCC">Capitol</font><font color="#E5E5E5"> NTDs in that path</font>

788
00:37:30,000 --> 00:37:34,529
weird

789
00:37:32,069 --> 00:37:36,599
this is gonna take a second<font color="#CCCCCC"> because</font><font color="#E5E5E5"> like</font>

790
00:37:34,529 --> 00:37:39,029
I<font color="#E5E5E5"> said it's actually reading raw volume</font>

791
00:37:36,599 --> 00:37:42,469
data and kind<font color="#E5E5E5"> of restructuring that back</font>

792
00:37:39,029 --> 00:37:42,469
<font color="#E5E5E5">into NTFS stuff</font>

793
00:37:49,110 --> 00:37:53,650
cool

794
00:37:51,579 --> 00:37:56,019
<font color="#E5E5E5">all right so we</font><font color="#CCCCCC"> have our Active</font>

795
00:37:53,650 --> 00:37:58,660
Directory database<font color="#E5E5E5"> downloaded we can</font>

796
00:37:56,019 --> 00:38:00,038
exfiltrate that using<font color="#E5E5E5"> either some of</font><font color="#CCCCCC"> the</font>

797
00:37:58,660 --> 00:38:01,989
<font color="#E5E5E5">tools that we have</font><font color="#CCCCCC"> available</font><font color="#E5E5E5"> to</font><font color="#CCCCCC"> us</font>

798
00:38:00,039 --> 00:38:04,319
through this<font color="#E5E5E5"> through the frameworks or</font>

799
00:38:01,989 --> 00:38:07,539
<font color="#CCCCCC">we</font><font color="#E5E5E5"> just copy it to a USB key if the</font>

800
00:38:04,319 --> 00:38:09,339
<font color="#E5E5E5">organisation lets us do that</font><font color="#CCCCCC"> one</font><font color="#E5E5E5"> thing I</font>

801
00:38:07,539 --> 00:38:11,559
<font color="#E5E5E5">want to do for this demo because I never</font>

802
00:38:09,339 --> 00:38:15,369
get to do<font color="#CCCCCC"> this in real life</font><font color="#E5E5E5"> is</font><font color="#CCCCCC"> wreck</font>

803
00:38:11,559 --> 00:38:18,479
this bars so we're gonna start a

804
00:38:15,369 --> 00:38:18,479
<font color="#E5E5E5">administrative prompt</font>

805
00:38:24,559 --> 00:38:28,480
and we're gonna<font color="#CCCCCC"> employ a power splurge</font>

806
00:38:41,010 --> 00:38:47,480
and we're gonna set the Master Boot

807
00:38:42,780 --> 00:38:47,480
Record to like the hacks or

808
00:38:49,530 --> 00:38:53,840
yes I do<font color="#CCCCCC"> want to screw up my computer</font>

809
00:39:10,540 --> 00:39:13,380
come on

810
00:39:21,160 --> 00:39:23,190
<font color="#E5E5E5">ah</font>

811
00:39:27,780 --> 00:39:30,960
<font color="#E5E5E5">all right</font>

812
00:39:36,950 --> 00:39:42,410
so the last<font color="#E5E5E5"> framework I wanted to talk</font>

813
00:39:40,310 --> 00:39:47,290
<font color="#CCCCCC">about</font><font color="#E5E5E5"> today is a framework</font><font color="#CCCCCC"> called</font><font color="#E5E5E5"> Empire</font>

814
00:39:42,410 --> 00:39:51,640
and Empire is an amazing piece of<font color="#CCCCCC"> work</font>

815
00:39:47,290 --> 00:39:54,500
it was debuted at<font color="#CCCCCC"> the most recent</font>

816
00:39:51,640 --> 00:39:59,839
<font color="#CCCCCC">besides def con</font><font color="#E5E5E5"> or blackhat one of the</font>

817
00:39:54,500 --> 00:40:02,780
three<font color="#E5E5E5"> and basically</font><font color="#CCCCCC"> Empire is a complete</font>

818
00:39:59,840 --> 00:40:05,810
<font color="#E5E5E5">PowerShell post exploitation remote</font>

819
00:40:02,780 --> 00:40:08,860
access kit<font color="#CCCCCC"> it's kind of like meterpreter</font>

820
00:40:05,810 --> 00:40:12,049
<font color="#E5E5E5">but entirely written in</font><font color="#CCCCCC"> PowerShell</font><font color="#E5E5E5"> and</font>

821
00:40:08,860 --> 00:40:15,460
includes a lot of<font color="#E5E5E5"> the modules and tools</font>

822
00:40:12,050 --> 00:40:21,020
that I covered today and then some

823
00:40:15,460 --> 00:40:23,500
what's great about it<font color="#E5E5E5"> is</font><font color="#CCCCCC"> its they have a</font>

824
00:40:21,020 --> 00:40:26,390
strong focus on cryptographically secure

825
00:40:23,500 --> 00:40:30,860
communications they have a strong focus

826
00:40:26,390 --> 00:40:32,870
on<font color="#E5E5E5"> unique memory footprints so when you</font>

827
00:40:30,860 --> 00:40:34,940
<font color="#E5E5E5">set up Empire</font>

828
00:40:32,870 --> 00:40:37,970
it's a client-server model<font color="#E5E5E5"> like you'd</font>

829
00:40:34,940 --> 00:40:40,570
expect<font color="#CCCCCC"> you need a Linux box</font><font color="#E5E5E5"> you clone</font>

830
00:40:37,970 --> 00:40:43,459
the Empire repo run the config scripts

831
00:40:40,570 --> 00:40:45,710
<font color="#CCCCCC">when you do the</font><font color="#E5E5E5"> Installer when you run</font>

832
00:40:43,460 --> 00:40:48,260
those configuration scripts<font color="#CCCCCC"> one of the</font>

833
00:40:45,710 --> 00:40:52,040
things it does<font color="#E5E5E5"> is it</font><font color="#CCCCCC"> generates like a 32</font>

834
00:40:48,260 --> 00:40:55,520
or 64 character string and it<font color="#E5E5E5"> uses</font><font color="#CCCCCC"> that</font>

835
00:40:52,040 --> 00:40:58,610
to encrypt all<font color="#CCCCCC"> of the payloads that</font><font color="#E5E5E5"> you</font>

836
00:40:55,520 --> 00:41:00,080
generate so in<font color="#E5E5E5"> theory every version of</font>

837
00:40:58,610 --> 00:41:02,570
<font color="#E5E5E5">Empire is going to generate different</font>

838
00:41:00,080 --> 00:41:02,870
<font color="#E5E5E5">code so it's incredibly hard to track</font>

839
00:41:02,570 --> 00:41:08,600
down

840
00:41:02,870 --> 00:41:10,339
like signatures for it<font color="#CCCCCC"> as the server to</font>

841
00:41:08,600 --> 00:41:13,549
get<font color="#E5E5E5"> it up and</font><font color="#CCCCCC"> running you need to</font><font color="#E5E5E5"> set up</font>

842
00:41:10,340 --> 00:41:17,450
<font color="#CCCCCC">endpoints</font><font color="#E5E5E5"> which are just HTTP listeners</font>

843
00:41:13,550 --> 00:41:18,980
basically and then it features you

844
00:41:17,450 --> 00:41:20,660
generate the launchers which are just

845
00:41:18,980 --> 00:41:23,300
PowerShell code<font color="#E5E5E5"> that you run on</font><font color="#CCCCCC"> the</font>

846
00:41:20,660 --> 00:41:25,640
remote client<font color="#E5E5E5"> it has a couple</font><font color="#CCCCCC"> ways to</font><font color="#E5E5E5"> do</font>

847
00:41:23,300 --> 00:41:27,050
this including a ducky script<font color="#E5E5E5"> so if you</font>

848
00:41:25,640 --> 00:41:30,170
have a rubber ducky<font color="#E5E5E5"> will just generate</font>

849
00:41:27,050 --> 00:41:32,660
<font color="#CCCCCC">the native ducky script for that run</font><font color="#E5E5E5"> the</font>

850
00:41:30,170 --> 00:41:35,600
code on the remote boxes and receive

851
00:41:32,660 --> 00:41:38,690
shells<font color="#CCCCCC"> one of the cool things about it</font>

852
00:41:35,600 --> 00:41:40,580
is<font color="#E5E5E5"> it's a phone home architecture so</font>

853
00:41:38,690 --> 00:41:43,640
instead of having a persistent

854
00:41:40,580 --> 00:41:46,180
connection<font color="#CCCCCC"> back to the</font><font color="#E5E5E5"> server</font><font color="#CCCCCC"> the</font>

855
00:41:43,640 --> 00:41:48,490
clients phone home<font color="#E5E5E5"> ad whatever</font>

856
00:41:46,180 --> 00:41:50,950
interval you specified usually<font color="#CCCCCC"> 510</font>

857
00:41:48,490 --> 00:41:54,069
seconds<font color="#E5E5E5"> so from a network</font><font color="#CCCCCC"> perspective</font>

858
00:41:50,950 --> 00:41:57,009
you just<font color="#E5E5E5"> see an outbound HTTP connection</font>

859
00:41:54,070 --> 00:42:03,820
every<font color="#CCCCCC"> 5-10 seconds it's incredibly hard</font>

860
00:41:57,010 --> 00:42:06,010
to<font color="#E5E5E5"> track down and really cool stuff so</font>

861
00:42:03,820 --> 00:42:10,060
one thing I want<font color="#E5E5E5"> to cover again before</font>

862
00:42:06,010 --> 00:42:13,780
for a wrap up here if you're in blue

863
00:42:10,060 --> 00:42:15,310
<font color="#CCCCCC">team's</font><font color="#E5E5E5"> PowerShell isn't just an</font>

864
00:42:13,780 --> 00:42:17,050
offensive tool there's a lot of really

865
00:42:15,310 --> 00:42:20,440
cool<font color="#E5E5E5"> stuff in the data forensics</font>

866
00:42:17,050 --> 00:42:24,280
<font color="#CCCCCC">Incident Response areas that have been</font>

867
00:42:20,440 --> 00:42:26,380
built in<font color="#E5E5E5"> PowerShell</font><font color="#CCCCCC"> wanted to stand out</font>

868
00:42:24,280 --> 00:42:28,540
<font color="#CCCCCC">a couple of the standout frameworks</font>

869
00:42:26,380 --> 00:42:31,300
<font color="#E5E5E5">pause SEC framework is really</font><font color="#CCCCCC"> cool</font>

870
00:42:28,540 --> 00:42:33,640
because it's a custom<font color="#E5E5E5"> PowerShell console</font>

871
00:42:31,300 --> 00:42:34,990
built for instant response and data

872
00:42:33,640 --> 00:42:38,580
<font color="#E5E5E5">forensics</font>

873
00:42:34,990 --> 00:42:41,799
I was written by dude named<font color="#CCCCCC"> Ben Tenn and</font>

874
00:42:38,580 --> 00:42:43,990
<font color="#E5E5E5">he wrote it for his internal teams that</font>

875
00:42:41,800 --> 00:42:45,610
he was working<font color="#CCCCCC"> with</font><font color="#E5E5E5"> to make PowerShell</font>

876
00:42:43,990 --> 00:42:47,850
more accessible and easier to<font color="#E5E5E5"> use</font><font color="#CCCCCC"> for</font>

877
00:42:45,610 --> 00:42:49,960
<font color="#E5E5E5">some of</font><font color="#CCCCCC"> the newer folks on the team</font>

878
00:42:47,850 --> 00:42:52,420
<font color="#E5E5E5">another great site</font><font color="#CCCCCC"> to check out is</font>

879
00:42:49,960 --> 00:42:55,570
<font color="#E5E5E5">invoke - IR which is a PowerShell</font>

880
00:42:52,420 --> 00:42:58,930
focused collection of projects run by

881
00:42:55,570 --> 00:43:00,970
Jared Addison<font color="#E5E5E5"> I believe is his name</font>

882
00:42:58,930 --> 00:43:03,430
<font color="#CCCCCC">- the</font><font color="#E5E5E5"> standout projects there are power</font>

883
00:43:00,970 --> 00:43:06,910
forensics<font color="#E5E5E5"> which focuses</font><font color="#CCCCCC"> on data</font>

884
00:43:03,430 --> 00:43:11,049
forensics<font color="#E5E5E5"> and</font><font color="#CCCCCC"> uproot which is an IDs</font>

885
00:43:06,910 --> 00:43:13,420
written purely<font color="#E5E5E5"> in PowerShell the last</font>

886
00:43:11,050 --> 00:43:15,310
framework that I've heard a lot<font color="#CCCCCC"> about</font><font color="#E5E5E5"> in</font>

887
00:43:13,420 --> 00:43:18,400
instant response I unfortunately<font color="#CCCCCC"> haven't</font>

888
00:43:15,310 --> 00:43:20,860
played with<font color="#CCCCCC"> it much is</font><font color="#E5E5E5"> concept and that</font>

889
00:43:18,400 --> 00:43:23,080
focuses largely on information gathering

890
00:43:20,860 --> 00:43:24,760
<font color="#E5E5E5">and baselining so reading event</font><font color="#CCCCCC"> logs</font>

891
00:43:23,080 --> 00:43:29,490
<font color="#E5E5E5">figuring out what you have</font><font color="#CCCCCC"> out there say</font>

892
00:43:24,760 --> 00:43:33,070
<font color="#CCCCCC">enough</font><font color="#E5E5E5"> baselines</font><font color="#CCCCCC"> all very cool stuff so</font>

893
00:43:29,490 --> 00:43:35,020
<font color="#CCCCCC">like</font><font color="#E5E5E5"> I said I</font><font color="#CCCCCC"> don't expect anybody to</font>

894
00:43:33,070 --> 00:43:37,720
leave here being a<font color="#CCCCCC"> PowerShell</font><font color="#E5E5E5"> expert I</font>

895
00:43:35,020 --> 00:43:40,180
hopefully<font color="#E5E5E5"> if at least let you know how</font>

896
00:43:37,720 --> 00:43:41,859
easy<font color="#CCCCCC"> it</font><font color="#E5E5E5"> is to start that path if you</font>

897
00:43:40,180 --> 00:43:44,710
want to take<font color="#E5E5E5"> things from here</font><font color="#CCCCCC"> Microsoft</font>

898
00:43:41,860 --> 00:43:47,710
has<font color="#E5E5E5"> a great site</font><font color="#CCCCCC"> there</font><font color="#E5E5E5"> Microsoft Virtual</font>

899
00:43:44,710 --> 00:43:49,780
Academy<font color="#E5E5E5"> which really if you want to</font>

900
00:43:47,710 --> 00:43:52,810
learn any<font color="#E5E5E5"> Microsoft technology they have</font>

901
00:43:49,780 --> 00:43:53,660
like hours<font color="#CCCCCC"> and hours of</font><font color="#E5E5E5"> CBT and stuff</font>

902
00:43:52,810 --> 00:43:55,400
like that

903
00:43:53,660 --> 00:43:58,520
<font color="#CCCCCC">there a lot of great stuff with</font>

904
00:43:55,400 --> 00:44:00,530
<font color="#E5E5E5">PowerShell</font><font color="#CCCCCC"> up on that site</font><font color="#E5E5E5"> learn</font>

905
00:43:58,520 --> 00:44:02,210
<font color="#E5E5E5">PowerShell</font><font color="#CCCCCC"> and month lunches is a book</font>

906
00:44:00,530 --> 00:44:04,670
<font color="#CCCCCC">that I've seen recommended a lot</font><font color="#E5E5E5"> I</font>

907
00:44:02,210 --> 00:44:06,200
haven't<font color="#CCCCCC"> read it personally</font><font color="#E5E5E5"> the way</font><font color="#CCCCCC"> I</font>

908
00:44:04,670 --> 00:44:08,180
learned PowerShell is just really

909
00:44:06,200 --> 00:44:10,430
through Google<font color="#E5E5E5"> I would find stuff that</font><font color="#CCCCCC"> I</font>

910
00:44:08,180 --> 00:44:13,399
wanted<font color="#E5E5E5"> to play</font><font color="#CCCCCC"> with or</font><font color="#E5E5E5"> find stuff that I</font>

911
00:44:10,430 --> 00:44:14,930
wanted<font color="#E5E5E5"> to do and just</font><font color="#CCCCCC"> poked around at it</font>

912
00:44:13,400 --> 00:44:17,030
and so I kind of<font color="#E5E5E5"> figured out what I</font>

913
00:44:14,930 --> 00:44:18,500
wanted to do I find<font color="#E5E5E5"> that's really one of</font>

914
00:44:17,030 --> 00:44:22,039
the best ways to<font color="#E5E5E5"> pick up any real new</font>

915
00:44:18,500 --> 00:44:25,069
programming language<font color="#CCCCCC"> it's incredibly</font>

916
00:44:22,039 --> 00:44:28,520
easy to<font color="#E5E5E5"> spin up a lab and play with this</font>

917
00:44:25,069 --> 00:44:31,099
<font color="#E5E5E5">stuff the lab I used for</font><font color="#CCCCCC"> my demo here is</font>

918
00:44:28,520 --> 00:44:33,650
three servers three BMS<font color="#E5E5E5"> it's Windows</font>

919
00:44:31,099 --> 00:44:35,539
2012<font color="#E5E5E5"> box a Windows</font><font color="#CCCCCC"> seven box in a</font>

920
00:44:33,650 --> 00:44:38,650
Windows 10 box<font color="#E5E5E5"> and I'm all running the</font>

921
00:44:35,539 --> 00:44:41,180
eval licenses<font color="#CCCCCC"> for that</font>

922
00:44:38,650 --> 00:44:45,730
well that is totally<font color="#E5E5E5"> not what I meant to</font>

923
00:44:41,180 --> 00:44:45,730
do let's try<font color="#E5E5E5"> that again</font>

924
00:44:50,330 --> 00:44:55,109
so I<font color="#E5E5E5"> definitely want to highlight the</font>

925
00:44:53,609 --> 00:44:56,160
people that wrote all<font color="#E5E5E5"> those cool</font>

926
00:44:55,109 --> 00:44:58,170
frameworks<font color="#E5E5E5"> they're the guys</font><font color="#CCCCCC"> they're</font>

927
00:44:56,160 --> 00:44:59,430
<font color="#CCCCCC">actually doing really interesting stuff</font>

928
00:44:58,170 --> 00:45:01,400
with<font color="#CCCCCC"> PowerShell as opposed to</font><font color="#E5E5E5"> just</font>

929
00:44:59,430 --> 00:45:04,190
<font color="#CCCCCC">telling</font><font color="#E5E5E5"> you how</font><font color="#CCCCCC"> to use it</font>

930
00:45:01,400 --> 00:45:07,230
sixth<font color="#E5E5E5"> of harm droid enigma all</font>

931
00:45:04,190 --> 00:45:09,420
contributed<font color="#CCCCCC"> to the Empire project which</font>

932
00:45:07,230 --> 00:45:12,570
I can't tell you how much I appreciate

933
00:45:09,420 --> 00:45:15,030
and love that manifestation is with

934
00:45:12,570 --> 00:45:19,109
<font color="#E5E5E5">power sploit</font><font color="#CCCCCC"> Nick calm it it does me</font>

935
00:45:15,030 --> 00:45:21,630
<font color="#CCCCCC">Sean oriini</font><font color="#E5E5E5"> Shang</font><font color="#CCCCCC"> Jared</font><font color="#E5E5E5"> Carson is with</font>

936
00:45:19,109 --> 00:45:24,119
invoke IR and<font color="#CCCCCC"> Benton did the posh tech</font>

937
00:45:21,630 --> 00:45:25,530
framework<font color="#E5E5E5"> all these guys are really</font>

938
00:45:24,119 --> 00:45:28,530
<font color="#E5E5E5">great people to follow if you're</font>

939
00:45:25,530 --> 00:45:33,599
interested in<font color="#E5E5E5"> PowerShell</font><font color="#CCCCCC"> in the</font><font color="#E5E5E5"> info SEC</font>

940
00:45:28,530 --> 00:45:35,970
community<font color="#CCCCCC"> so wrapping</font><font color="#E5E5E5"> up we have any</font>

941
00:45:33,599 --> 00:45:38,330
questions<font color="#CCCCCC"> I have a</font><font color="#E5E5E5"> couple minutes I can</font>

942
00:45:35,970 --> 00:45:38,330
answer those

943
00:45:54,730 --> 00:46:00,760
yeah so it depends on the level of

944
00:45:58,990 --> 00:46:03,129
attack I think<font color="#CCCCCC"> as to how</font><font color="#E5E5E5"> much success</font>

945
00:46:00,760 --> 00:46:05,890
<font color="#E5E5E5">you would have with</font><font color="#CCCCCC"> sis Mon one of the</font>

946
00:46:03,130 --> 00:46:09,070
cool<font color="#CCCCCC"> things that</font><font color="#E5E5E5"> I didn't talk</font><font color="#CCCCCC"> about but</font>

947
00:46:05,890 --> 00:46:12,250
so when you<font color="#E5E5E5"> PowerShell is not PowerShell</font>

948
00:46:09,070 --> 00:46:13,960
<font color="#E5E5E5">dot exe PowerShell is actually just a</font>

949
00:46:12,250 --> 00:46:17,770
<font color="#CCCCCC">DLL that's part of the windows</font>

950
00:46:13,960 --> 00:46:20,589
management<font color="#E5E5E5"> framework and so Empire and a</font>

951
00:46:17,770 --> 00:46:23,470
lot<font color="#E5E5E5"> of these guys just take that DLL and</font>

952
00:46:20,589 --> 00:46:24,400
<font color="#E5E5E5">inject it into another process</font><font color="#CCCCCC"> so it's</font>

953
00:46:23,470 --> 00:46:25,899
not<font color="#E5E5E5"> even that you're looking for</font>

954
00:46:24,400 --> 00:46:27,490
PowerShell that<font color="#CCCCCC"> exe like you actually</font>

955
00:46:25,900 --> 00:46:38,349
<font color="#CCCCCC">have to</font><font color="#E5E5E5"> look at what the allows are</font>

956
00:46:27,490 --> 00:46:40,839
loaded I think you would<font color="#E5E5E5"> have to look</font>

957
00:46:38,349 --> 00:46:50,079
for<font color="#E5E5E5"> it a different way but I I break</font>

958
00:46:40,839 --> 00:46:59,020
<font color="#E5E5E5">things</font><font color="#CCCCCC"> down</font><font color="#E5E5E5"> try to fix yeah exactly</font>

959
00:46:50,079 --> 00:47:00,700
<font color="#CCCCCC">exactly yes yeah</font><font color="#E5E5E5"> yeah and my</font>

960
00:46:59,020 --> 00:47:04,089
understanding<font color="#E5E5E5"> from a blue team</font>

961
00:47:00,700 --> 00:47:07,000
<font color="#CCCCCC">perspective</font><font color="#E5E5E5"> is that</font><font color="#CCCCCC"> it's</font><font color="#E5E5E5"> really</font><font color="#CCCCCC"> hard to</font>

962
00:47:04,089 --> 00:47:08,710
right now at least to figure out you

963
00:47:07,000 --> 00:47:10,390
know without getting real deep<font color="#E5E5E5"> into like</font>

964
00:47:08,710 --> 00:47:13,359
memory forensics and stuff<font color="#E5E5E5"> like that</font>

965
00:47:10,390 --> 00:47:18,460
kind<font color="#E5E5E5"> of what PowerShell is doing when</font>

966
00:47:13,359 --> 00:47:20,828
it's not<font color="#E5E5E5"> doing its normal thing cool</font><font color="#CCCCCC"> all</font>

967
00:47:18,460 --> 00:47:23,589
<font color="#E5E5E5">right well I like say if you're on</font>

968
00:47:20,829 --> 00:47:25,599
<font color="#E5E5E5">twitter</font><font color="#CCCCCC"> i</font><font color="#E5E5E5"> am</font><font color="#CCCCCC"> at</font><font color="#E5E5E5"> jared hate if you are in</font>

969
00:47:23,589 --> 00:47:27,910
the<font color="#CCCCCC"> charlotte area me and a bunch</font><font color="#E5E5E5"> of</font>

970
00:47:25,599 --> 00:47:29,710
<font color="#E5E5E5">friends get together regularly</font><font color="#CCCCCC"> charlotte</font>

971
00:47:27,910 --> 00:47:32,410
hackers<font color="#E5E5E5"> and we just meet up</font><font color="#CCCCCC"> and drink</font>

972
00:47:29,710 --> 00:47:34,780
beer and<font color="#CCCCCC"> talk about hacking and if you</font>

973
00:47:32,410 --> 00:47:36,549
are on the<font color="#E5E5E5"> job</font><font color="#CCCCCC"> market</font><font color="#E5E5E5"> gotham digital</font>

974
00:47:34,780 --> 00:47:39,220
<font color="#CCCCCC">sciences</font><font color="#E5E5E5"> hiring and we do a lot of</font>

975
00:47:36,550 --> 00:47:42,270
really really cool<font color="#E5E5E5"> stuff so</font><font color="#CCCCCC"> check us</font><font color="#E5E5E5"> out</font>

976
00:47:39,220 --> 00:47:42,270
thanks guys

