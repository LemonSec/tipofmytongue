1
00:00:15,839 --> 00:00:19,440
everybody it's time to uh go for the

2
00:00:19,440 --> 00:00:22,500
next uh uh talk about before that I have

3
00:00:22,500 --> 00:00:24,300
more uh

4
00:00:24,300 --> 00:00:27,840
or another prize to give away so

5
00:00:27,840 --> 00:00:29,519
um

6
00:00:29,519 --> 00:00:32,399
yeah Mo prizes and this time I'm gonna

7
00:00:32,399 --> 00:00:35,219
enlist will to take out

8
00:00:35,219 --> 00:00:39,899
a ticket I think we need to get a bigger

9
00:00:39,899 --> 00:00:41,330
so okay

10
00:00:41,330 --> 00:00:43,160
[Music]

11
00:00:43,160 --> 00:00:45,360
wait what are we giving away this time

12
00:00:45,360 --> 00:00:48,899
oh yes good good question oh this

13
00:00:48,899 --> 00:00:50,940
question uh this time we are going to be

14
00:00:50,940 --> 00:00:53,579
giving away a one-year hack the box

15
00:00:53,579 --> 00:00:56,160
subscription

16
00:00:56,160 --> 00:00:58,500
because thank you for reminding me to

17
00:00:58,500 --> 00:01:00,719
actually say what we

18
00:01:00,719 --> 00:01:02,960
what we were giving away

19
00:01:02,960 --> 00:01:04,860
all right

20
00:01:04,860 --> 00:01:08,400
who has lucky number

21
00:01:08,400 --> 00:01:12,020
two three three eight two four six

22
00:01:12,020 --> 00:01:13,860
this guy

23
00:01:13,860 --> 00:01:15,380
this guy

24
00:01:15,380 --> 00:01:19,220
[Applause]

25
00:01:19,220 --> 00:01:22,580
get your email

26
00:01:26,460 --> 00:01:29,100
um so real quick before our next

27
00:01:29,100 --> 00:01:32,460
presentation I have been asked to

28
00:01:32,460 --> 00:01:34,619
um make sure that if any of you ask a

29
00:01:34,619 --> 00:01:35,939
question please speak up a little bit we

30
00:01:35,939 --> 00:01:39,000
do have some people who are um checking

31
00:01:39,000 --> 00:01:42,299
in virtually and I want to hear your

32
00:01:42,299 --> 00:01:45,000
wonderful questions about horses and

33
00:01:45,000 --> 00:01:47,479
ducks and so on and so forth

34
00:01:47,479 --> 00:01:51,060
all right anyways uh our next presenter

35
00:01:51,060 --> 00:01:53,100
is nathanielquist he's a principal

36
00:01:53,100 --> 00:01:55,860
researcher at unit 42 in prismacloud his

37
00:01:55,860 --> 00:01:57,659
talk is titled shining a light into

38
00:01:57,659 --> 00:02:01,220
container cluster visibility

39
00:02:01,430 --> 00:02:07,619
[Applause]

40
00:02:07,619 --> 00:02:09,780
awesome hello it is so good to see

41
00:02:09,780 --> 00:02:12,000
people's faces it's awesome this is the

42
00:02:12,000 --> 00:02:14,819
my first conference in three years since

43
00:02:14,819 --> 00:02:17,160
before everything happened so

44
00:02:17,160 --> 00:02:17,819
um

45
00:02:17,819 --> 00:02:19,680
I'm glad you're all here

46
00:02:19,680 --> 00:02:21,420
um some familiar faces very happy to see

47
00:02:21,420 --> 00:02:23,340
some of you others not so much and I'm

48
00:02:23,340 --> 00:02:25,140
kidding

49
00:02:25,140 --> 00:02:28,519
all right so um

50
00:02:29,280 --> 00:02:30,480
a little bit about container security

51
00:02:30,480 --> 00:02:32,580
and visibility on it so I just kind of

52
00:02:32,580 --> 00:02:34,620
want to just kind of pull the audience a

53
00:02:34,620 --> 00:02:35,700
little bit

54
00:02:35,700 --> 00:02:37,379
um who's using containers either Docker

55
00:02:37,379 --> 00:02:39,239
kubernetes right now

56
00:02:39,239 --> 00:02:41,040
awesome who thinks that we have awesome

57
00:02:41,040 --> 00:02:44,099
visibility into containers right now

58
00:02:44,099 --> 00:02:47,280
okay awesome next question who's used

59
00:02:47,280 --> 00:02:49,379
service meshes

60
00:02:49,379 --> 00:02:51,540
few hands all right cool

61
00:02:51,540 --> 00:02:54,239
um so uh I I left this relatively kind

62
00:02:54,239 --> 00:02:56,580
of high level there's a few things we

63
00:02:56,580 --> 00:02:58,379
can drill down into I'm always open for

64
00:02:58,379 --> 00:02:59,879
questions

65
00:02:59,879 --> 00:03:03,319
um and with that we'll just get started

66
00:03:03,360 --> 00:03:05,220
um my Beard's gotten smaller I'm trying

67
00:03:05,220 --> 00:03:06,360
to be a little bit more professional

68
00:03:06,360 --> 00:03:08,280
these days I guess I don't know why I

69
00:03:08,280 --> 00:03:09,599
should just let it grow back and say who

70
00:03:09,599 --> 00:03:10,739
cares

71
00:03:10,739 --> 00:03:12,840
um but my name is Nathaniel Quist

72
00:03:12,840 --> 00:03:15,360
um sometimes I go by the letter Q I've

73
00:03:15,360 --> 00:03:16,680
actually just recently been promoted I'm

74
00:03:16,680 --> 00:03:17,879
now a manager of the cloud threat

75
00:03:17,879 --> 00:03:21,780
intelligence team at under Prisma Cloud

76
00:03:21,780 --> 00:03:24,599
um we are super dotted line to cross

77
00:03:24,599 --> 00:03:26,580
with unit 42 so like well I'm I work

78
00:03:26,580 --> 00:03:28,800
very heavily with unit 42 and I work

79
00:03:28,800 --> 00:03:30,720
with them I'm actually prismacloud so

80
00:03:30,720 --> 00:03:32,220
it's a bigger umbrella that does all

81
00:03:32,220 --> 00:03:34,019
that stuff

82
00:03:34,019 --> 00:03:34,980
um

83
00:03:34,980 --> 00:03:37,440
but unit 42 is a lot of fun really enjoy

84
00:03:37,440 --> 00:03:38,879
working there a lot of very very smart

85
00:03:38,879 --> 00:03:40,200
people

86
00:03:40,200 --> 00:03:43,080
um so yeah a lot of fun

87
00:03:43,080 --> 00:03:45,480
um some things about me

88
00:03:45,480 --> 00:03:48,900
I like computers I like Cloud I like RC

89
00:03:48,900 --> 00:03:51,120
helicopters I really love RC helicopters

90
00:03:51,120 --> 00:03:52,860
they're a lot of fun

91
00:03:52,860 --> 00:03:54,360
um first time you go inverted and then

92
00:03:54,360 --> 00:03:55,680
you actually go up you're going down

93
00:03:55,680 --> 00:03:56,760
right to the ground and you break

94
00:03:56,760 --> 00:03:58,920
everything it's a lot of fun so

95
00:03:58,920 --> 00:04:00,420
so all right

96
00:04:00,420 --> 00:04:02,640
all right so uh all right

97
00:04:02,640 --> 00:04:04,799
a little bit of the agenda today we're

98
00:04:04,799 --> 00:04:05,580
going to be talking a little bit about

99
00:04:05,580 --> 00:04:07,799
the Dark Side of cloud we're going to

100
00:04:07,799 --> 00:04:09,060
talk a little about the challenges that

101
00:04:09,060 --> 00:04:10,799
we have with Cloud just kind of in

102
00:04:10,799 --> 00:04:13,319
general in the higher higher view we're

103
00:04:13,319 --> 00:04:15,239
going to specifically zero in on uh

104
00:04:15,239 --> 00:04:17,100
service meshes uh and then we're going

105
00:04:17,100 --> 00:04:18,418
to talk about a couple other tools that

106
00:04:18,418 --> 00:04:20,459
we can actually use to get a little bit

107
00:04:20,459 --> 00:04:23,040
more insight into how containers are

108
00:04:23,040 --> 00:04:24,419
operating

109
00:04:24,419 --> 00:04:25,979
so the fun side let's talk about the

110
00:04:25,979 --> 00:04:27,720
dark side of the cloud I thought about

111
00:04:27,720 --> 00:04:29,280
doing kind of like a Pink Floyd sort of

112
00:04:29,280 --> 00:04:30,720
thing with this just because it's

113
00:04:30,720 --> 00:04:32,220
similar and all that but I was just like

114
00:04:32,220 --> 00:04:33,900
ah we'll just stay with our actual dark

115
00:04:33,900 --> 00:04:36,479
clouds so all right so uh first off

116
00:04:36,479 --> 00:04:38,400
where are we just in terms of cloud

117
00:04:38,400 --> 00:04:41,520
security all right um from an Intel

118
00:04:41,520 --> 00:04:42,960
perspective uh what we're seeing is

119
00:04:42,960 --> 00:04:45,419
we're seeing a lot of identity misuse so

120
00:04:45,419 --> 00:04:47,520
um IAM identity access management within

121
00:04:47,520 --> 00:04:49,320
all of the clouds within hybrid clouds

122
00:04:49,320 --> 00:04:51,479
there's a lot of complexity that goes

123
00:04:51,479 --> 00:04:52,979
into these environments

124
00:04:52,979 --> 00:04:54,840
um so with that we have a lot of leaks

125
00:04:54,840 --> 00:04:57,300
as Greg alluded to uh in his very first

126
00:04:57,300 --> 00:04:59,100
uh keynote here

127
00:04:59,100 --> 00:05:01,500
um is it your very first keynote I think

128
00:05:01,500 --> 00:05:03,540
it's your very first one too right

129
00:05:03,540 --> 00:05:06,479
second one awesome third it's even

130
00:05:06,479 --> 00:05:08,040
better okay

131
00:05:08,040 --> 00:05:11,280
um fourth it's the seventh

132
00:05:11,280 --> 00:05:12,479
um all right so

133
00:05:12,479 --> 00:05:14,940
um identity is huge and it sold

134
00:05:14,940 --> 00:05:17,340
um readily it's easily compromisable

135
00:05:17,340 --> 00:05:18,419
um and so that's some of the reasons why

136
00:05:18,419 --> 00:05:19,440
we're going to be looking at some of

137
00:05:19,440 --> 00:05:21,120
this um some of these big attacks that

138
00:05:21,120 --> 00:05:23,160
we see um IBM

139
00:05:23,160 --> 00:05:25,139
um huge breach on clouds

140
00:05:25,139 --> 00:05:28,440
um you know hundreds uh it's like 120

141
00:05:28,440 --> 00:05:30,300
million uh different credentials are

142
00:05:30,300 --> 00:05:32,699
stolen and readily available for cloud

143
00:05:32,699 --> 00:05:34,800
environments it's it's insane mother of

144
00:05:34,800 --> 00:05:37,560
all leaks within Forbes um the one that

145
00:05:37,560 --> 00:05:39,060
I really kind of want to zero in on the

146
00:05:39,060 --> 00:05:41,580
most right here is in um solar winds the

147
00:05:41,580 --> 00:05:43,220
bottom right hand corner right here

148
00:05:43,220 --> 00:05:45,539
solarwinds goes under the radar a lot

149
00:05:45,539 --> 00:05:47,100
actually it durability doesn't because

150
00:05:47,100 --> 00:05:48,479
it's very huge and very large but when

151
00:05:48,479 --> 00:05:50,280
it comes to Cloud attack you know

152
00:05:50,280 --> 00:05:52,979
specifically it was a solar a supply

153
00:05:52,979 --> 00:05:55,220
chain attack but it was really a cloud

154
00:05:55,220 --> 00:05:57,960
issued aspect of solarwinds so

155
00:05:57,960 --> 00:05:59,820
solarwinds Orion which is their Cloud

156
00:05:59,820 --> 00:06:01,560
offering for

157
00:06:01,560 --> 00:06:03,139
um you know hybrid Cloud environments

158
00:06:03,139 --> 00:06:07,080
hybrid on-prem Cloud environments

159
00:06:07,080 --> 00:06:09,120
um and it's how they operate that over a

160
00:06:09,120 --> 00:06:11,160
larger structure and they were able to

161
00:06:11,160 --> 00:06:13,800
uh put a container an infected poison

162
00:06:13,800 --> 00:06:15,780
container into that supply chain make it

163
00:06:15,780 --> 00:06:16,979
part of the hot fix and that's how they

164
00:06:16,979 --> 00:06:18,960
gained access to not just

165
00:06:18,960 --> 00:06:20,340
um tens of thousands of organizations

166
00:06:20,340 --> 00:06:22,259
but 40 plus U.S government organizations

167
00:06:22,259 --> 00:06:24,840
as well including his U.S treasury

168
00:06:24,840 --> 00:06:26,340
um a number of different uh places on

169
00:06:26,340 --> 00:06:28,500
that so it's a very serious Tech and

170
00:06:28,500 --> 00:06:29,900
it's also

171
00:06:29,900 --> 00:06:32,639
apt-29 or nobelium

172
00:06:32,639 --> 00:06:35,759
um as as Microsoft is calling that

173
00:06:35,759 --> 00:06:37,979
um so very uh profound attack when it

174
00:06:37,979 --> 00:06:41,520
comes to Cloud attacks in general

175
00:06:41,520 --> 00:06:43,080
so some things that I want to look at

176
00:06:43,080 --> 00:06:45,060
these are I just pulled off of Docker

177
00:06:45,060 --> 00:06:47,520
Hub I actually pulled 50 of the very top

178
00:06:47,520 --> 00:06:49,919
most downloaded containers of all time

179
00:06:49,919 --> 00:06:51,900
right and then I compared these things

180
00:06:51,900 --> 00:06:53,639
across Showdown and I crossed it Acro

181
00:06:53,639 --> 00:06:55,979
compared that across uh um

182
00:06:55,979 --> 00:06:58,440
exploit DB so here's The Showdown

183
00:06:58,440 --> 00:07:01,979
attacks as you can see here um uh Alpine

184
00:07:01,979 --> 00:07:04,560
it's like in a crazy amount of downloads

185
00:07:04,560 --> 00:07:06,060
so just count some decimals here there's

186
00:07:06,060 --> 00:07:09,300
one two that's uh 7.8 billion downloads

187
00:07:09,300 --> 00:07:13,199
of Alpine it is the most used OS within

188
00:07:13,199 --> 00:07:14,460
Cloud operations

189
00:07:14,460 --> 00:07:17,639
okay then Ubuntu and then obviously uh

190
00:07:17,639 --> 00:07:19,979
you know nginx python BusyBox postgres

191
00:07:19,979 --> 00:07:22,800
redis shows up and it's uh 3.8 billion

192
00:07:22,800 --> 00:07:25,020
so it's pretty busy pretty common um

193
00:07:25,020 --> 00:07:27,060
sort of thing um within Showdown these

194
00:07:27,060 --> 00:07:29,099
are how many exposed

195
00:07:29,099 --> 00:07:31,380
um you know instances or products across

196
00:07:31,380 --> 00:07:33,180
all these environments uh obviously

197
00:07:33,180 --> 00:07:36,060
nginx tops the list by a lot um I used a

198
00:07:36,060 --> 00:07:39,180
a logarithmic scale on this one so um

199
00:07:39,180 --> 00:07:42,360
this is definitely in the 300 millions

200
00:07:42,360 --> 00:07:45,960
are that are are exposed

201
00:07:45,960 --> 00:07:47,819
um you know but you can see there's a

202
00:07:47,819 --> 00:07:50,099
lot of these uh particular uh instances

203
00:07:50,099 --> 00:07:51,300
that are exposed I was kind of

204
00:07:51,300 --> 00:07:53,160
interesting that memcache doesn't

205
00:07:53,160 --> 00:07:55,080
actually have any exposures maybe my

206
00:07:55,080 --> 00:07:57,419
Showdown search was off who knows but

207
00:07:57,419 --> 00:07:59,039
it's a it's pretty interesting

208
00:07:59,039 --> 00:08:00,660
um on this one so if we go over look at

209
00:08:00,660 --> 00:08:02,699
the exploits so these are how many are

210
00:08:02,699 --> 00:08:05,280
actually available to the cloud

211
00:08:05,280 --> 00:08:07,440
or to everybody if we look at exploits

212
00:08:07,440 --> 00:08:09,180
obviously WordPress is the biggest one

213
00:08:09,180 --> 00:08:10,860
has the most available exploits because

214
00:08:10,860 --> 00:08:12,240
that's awesome

215
00:08:12,240 --> 00:08:14,160
um as was it how many exploits are

216
00:08:14,160 --> 00:08:16,199
popped like 10 10 every five seconds or

217
00:08:16,199 --> 00:08:17,099
so

218
00:08:17,099 --> 00:08:18,960
um you know but there's some interesting

219
00:08:18,960 --> 00:08:21,300
ones in there httpd obviously used uh

220
00:08:21,300 --> 00:08:23,879
pretty heavily uh my sequel which is

221
00:08:23,879 --> 00:08:25,259
pretty easy so if we go back and we look

222
00:08:25,259 --> 00:08:27,599
at MySQL MySQL sitting there over uh

223
00:08:27,599 --> 00:08:29,699
just over a million exposed MySQL

224
00:08:29,699 --> 00:08:32,219
databases on any regular time in a

225
00:08:32,219 --> 00:08:34,320
regular basis and yet it's like the

226
00:08:34,320 --> 00:08:37,260
third most exploitable Cloud container

227
00:08:37,260 --> 00:08:39,120
that we have out there right now so kind

228
00:08:39,120 --> 00:08:41,159
of gives you a little bit of idea on

229
00:08:41,159 --> 00:08:42,958
that

230
00:08:42,958 --> 00:08:44,580
I love this graph because it looked to

231
00:08:44,580 --> 00:08:46,080
me it looks very pretty so what I did is

232
00:08:46,080 --> 00:08:47,519
I took all the exposures and I

233
00:08:47,519 --> 00:08:49,320
referenced and I cross referenced all of

234
00:08:49,320 --> 00:08:50,940
the different Cloud providers that are a

235
00:08:50,940 --> 00:08:52,440
part of this one and I'm just going to

236
00:08:52,440 --> 00:08:55,080
point uh to uh one of these particular

237
00:08:55,080 --> 00:08:56,640
things and I just kind of want you to

238
00:08:56,640 --> 00:08:58,920
see like which one that is

239
00:08:58,920 --> 00:09:02,820
right this one this one this one this

240
00:09:02,820 --> 00:09:06,600
one no which cloud provider is that

241
00:09:06,600 --> 00:09:09,000
digital oceans do we ever talk about

242
00:09:09,000 --> 00:09:11,519
digital ocean when it comes to x-fosed

243
00:09:11,519 --> 00:09:13,500
and exploitable databases on a regular

244
00:09:13,500 --> 00:09:15,360
basis attackers use it all the time sure

245
00:09:15,360 --> 00:09:17,399
I'll just set this up and we'll line

246
00:09:17,399 --> 00:09:18,959
we'll have payloads come from there

247
00:09:18,959 --> 00:09:20,580
we'll just use it as C2 infrastructure

248
00:09:20,580 --> 00:09:22,519
but how many people are actually using

249
00:09:22,519 --> 00:09:25,800
uh digitalocean as their their actual

250
00:09:25,800 --> 00:09:27,480
cloud provider and the biggest one on

251
00:09:27,480 --> 00:09:30,180
there believe it or not is Maria DB how

252
00:09:30,180 --> 00:09:33,060
much data is held in mariahdb on all of

253
00:09:33,060 --> 00:09:34,200
the cloud infrastructures so there's

254
00:09:34,200 --> 00:09:36,300
some interesting layouts and Footprints

255
00:09:36,300 --> 00:09:40,200
these are just 20 of the top 50

256
00:09:40,200 --> 00:09:43,200
um Cloud containers that most downloaded

257
00:09:43,200 --> 00:09:46,399
Cloud containers that are out there

258
00:09:46,680 --> 00:09:48,720
so I'm going to Pivot from that just

259
00:09:48,720 --> 00:09:50,220
that's the escape the scope that we're

260
00:09:50,220 --> 00:09:51,480
living in right now and I want to talk

261
00:09:51,480 --> 00:09:54,240
specific about Cloud threat actors Cloud

262
00:09:54,240 --> 00:09:56,100
threat actors is something that is very

263
00:09:56,100 --> 00:09:58,140
near and dear to my heart it's something

264
00:09:58,140 --> 00:10:00,540
that I want to Define specifically so we

265
00:10:00,540 --> 00:10:02,820
just created a cloud threat report from

266
00:10:02,820 --> 00:10:06,420
unit 42 myself and j-10 who is the other

267
00:10:06,420 --> 00:10:08,899
uh researcher for this

268
00:10:08,899 --> 00:10:11,160
we looked specifically at who's

269
00:10:11,160 --> 00:10:12,839
attacking Cloud environments and if we

270
00:10:12,839 --> 00:10:15,839
can quantify them or index them in some

271
00:10:15,839 --> 00:10:18,000
way in order to do this we had to kind

272
00:10:18,000 --> 00:10:19,620
of Define what a cloud thread actor is

273
00:10:19,620 --> 00:10:21,360
it's not a normal threat actor normal

274
00:10:21,360 --> 00:10:24,120
threat actor from nist

275
00:10:24,120 --> 00:10:27,180
um you know 800 150 says that it's a an

276
00:10:27,180 --> 00:10:28,980
individual or group that is compromising

277
00:10:28,980 --> 00:10:31,500
uh you know infrastructure that's not

278
00:10:31,500 --> 00:10:33,959
their own so well that works for cloud

279
00:10:33,959 --> 00:10:37,620
sure to be a cloud threat actor we do

280
00:10:37,620 --> 00:10:39,480
came up with this definition an

281
00:10:39,480 --> 00:10:41,160
individual or group posing a threat to

282
00:10:41,160 --> 00:10:42,959
organizations through directed and

283
00:10:42,959 --> 00:10:45,420
sustained access to their Cloud platform

284
00:10:45,420 --> 00:10:46,920
resources services

285
00:10:46,920 --> 00:10:49,440
or embedded metadata

286
00:10:49,440 --> 00:10:51,360
you can be a threat actor and

287
00:10:51,360 --> 00:10:53,040
tangentially compromised Cloud

288
00:10:53,040 --> 00:10:55,260
environments and cloud services doesn't

289
00:10:55,260 --> 00:10:56,579
mean you're necessarily targeting Cloud

290
00:10:56,579 --> 00:10:58,079
environments you just happen to spill

291
00:10:58,079 --> 00:11:00,360
over into Cloud environments so we

292
00:11:00,360 --> 00:11:01,560
wanted to look at what are the actors

293
00:11:01,560 --> 00:11:03,240
that are specifically zero Landing

294
00:11:03,240 --> 00:11:05,820
zeroing zero Wing in man that's a hard

295
00:11:05,820 --> 00:11:08,820
one zeroing in on cloud environments so

296
00:11:08,820 --> 00:11:10,140
this is what we came up with

297
00:11:10,140 --> 00:11:12,600
and we created the very first Cloud

298
00:11:12,600 --> 00:11:15,000
threader Cloud threat actor index now

299
00:11:15,000 --> 00:11:16,560
some of these there's only five on there

300
00:11:16,560 --> 00:11:17,940
right now and a lot of these you might

301
00:11:17,940 --> 00:11:20,459
realize that these people organizations

302
00:11:20,459 --> 00:11:22,260
are actual crypto miners at least that's

303
00:11:22,260 --> 00:11:23,880
where they started however there's

304
00:11:23,880 --> 00:11:26,459
something more interesting about how

305
00:11:26,459 --> 00:11:27,779
they operate if we want to look

306
00:11:27,779 --> 00:11:29,579
specifically at Team TNT which is the

307
00:11:29,579 --> 00:11:31,320
very top one we're calling them the

308
00:11:31,320 --> 00:11:34,260
Adept and this particular asset X you

309
00:11:34,260 --> 00:11:35,579
know standpoint

310
00:11:35,579 --> 00:11:37,200
they're considered to be one of the most

311
00:11:37,200 --> 00:11:38,760
sophisticated Cloud threat actors

312
00:11:38,760 --> 00:11:40,800
specifically for their Cloud enumeration

313
00:11:40,800 --> 00:11:42,180
techniques and their credential scraping

314
00:11:42,180 --> 00:11:44,399
capabilities they yeah it's all bash

315
00:11:44,399 --> 00:11:45,779
scripts and it's all very boring and

316
00:11:45,779 --> 00:11:47,040
it's very open source and it's like oh

317
00:11:47,040 --> 00:11:48,600
come on and they're supposedly retired

318
00:11:48,600 --> 00:11:51,300
we'll see how that how long that goes on

319
00:11:51,300 --> 00:11:53,579
um but uh their ability to compromise

320
00:11:53,579 --> 00:11:55,740
multiple Cloud environments not just

321
00:11:55,740 --> 00:11:59,880
Amazon uh not also Google

322
00:11:59,880 --> 00:12:01,140
um very very impressive in how they're

323
00:12:01,140 --> 00:12:02,160
doing that

324
00:12:02,160 --> 00:12:05,100
Watchdog is considered the thief they're

325
00:12:05,100 --> 00:12:07,079
very technically Adept coders they do a

326
00:12:07,079 --> 00:12:09,420
lot of go language however they like to

327
00:12:09,420 --> 00:12:10,800
steal things too so they use a lot of

328
00:12:10,800 --> 00:12:13,500
Team TNT access they'll use kinsing

329
00:12:13,500 --> 00:12:15,600
scripts as well just to kind of hide and

330
00:12:15,600 --> 00:12:19,500
mask their operations inside of those

331
00:12:19,500 --> 00:12:21,300
um can sing it's all about money they're

332
00:12:21,300 --> 00:12:23,640
also really good at Cloud uh credential

333
00:12:23,640 --> 00:12:24,660
scraping

334
00:12:24,660 --> 00:12:27,000
rock is an old time I've been around a

335
00:12:27,000 --> 00:12:28,500
long time like what they started out in

336
00:12:28,500 --> 00:12:30,060
like 2014

337
00:12:30,060 --> 00:12:31,620
um as a as a ransomware called iron

338
00:12:31,620 --> 00:12:33,480
ransomware um and they subsequently just

339
00:12:33,480 --> 00:12:34,620
kind of moved into Cloud they're still

340
00:12:34,620 --> 00:12:35,579
not very good when it comes to

341
00:12:35,579 --> 00:12:37,980
Containers they're sort of okay

342
00:12:37,980 --> 00:12:40,320
um but uh um they're really they're

343
00:12:40,320 --> 00:12:42,860
pretty good at just mass quantities of

344
00:12:42,860 --> 00:12:45,480
compromises and then 8220 which is spin

345
00:12:45,480 --> 00:12:46,860
off of the rock

346
00:12:46,860 --> 00:12:48,060
um they've returned they took a break

347
00:12:48,060 --> 00:12:49,079
for a while and they've come back and

348
00:12:49,079 --> 00:12:49,980
they've hit

349
00:12:49,980 --> 00:12:52,079
um pretty strong when it comes to

350
00:12:52,079 --> 00:12:54,240
um credential access and containers

351
00:12:54,240 --> 00:12:56,279
specifically

352
00:12:56,279 --> 00:12:57,779
so we kind of want to look at is we want

353
00:12:57,779 --> 00:12:59,519
to look at like the common tactics that

354
00:12:59,519 --> 00:13:01,139
these particular actors use across their

355
00:13:01,139 --> 00:13:04,100
environments um and we put these across

356
00:13:04,100 --> 00:13:07,019
miter attacks framework

357
00:13:07,019 --> 00:13:08,880
and we found that all of these

358
00:13:08,880 --> 00:13:10,560
particular techniques are common across

359
00:13:10,560 --> 00:13:11,639
every single one of these particular

360
00:13:11,639 --> 00:13:13,620
actor groups and lo and behold they're

361
00:13:13,620 --> 00:13:15,300
all identity focused every single one of

362
00:13:15,300 --> 00:13:17,040
them they're all looking for cloud

363
00:13:17,040 --> 00:13:20,459
accounts they're all looking uh for you

364
00:13:20,459 --> 00:13:22,260
know access tokens for sessionized

365
00:13:22,260 --> 00:13:24,420
application tokens if you look under the

366
00:13:24,420 --> 00:13:25,980
credential access they're looking for

367
00:13:25,980 --> 00:13:28,620
specifically private Keys Cloud metadata

368
00:13:28,620 --> 00:13:30,540
apis they'll just go into that C2 node

369
00:13:30,540 --> 00:13:31,860
and just do a metadata poll and well

370
00:13:31,860 --> 00:13:33,380
they have Cloud credits it's pretty fun

371
00:13:33,380 --> 00:13:35,700
and then they'll look uh pretty heavily

372
00:13:35,700 --> 00:13:38,279
on Discovery as well but they all have

373
00:13:38,279 --> 00:13:41,220
access to escape a host and they all

374
00:13:41,220 --> 00:13:44,180
have access to a container and uh

375
00:13:44,180 --> 00:13:46,440
resource Discovery so this kind of led

376
00:13:46,440 --> 00:13:48,180
me to this kind of idea it's like we

377
00:13:48,180 --> 00:13:49,500
haven't spent a lot of time talking

378
00:13:49,500 --> 00:13:52,019
about the actual techniques that cloud

379
00:13:52,019 --> 00:13:53,459
actors actually use against Cloud

380
00:13:53,459 --> 00:13:57,300
against compromise containers so that's

381
00:13:57,300 --> 00:13:58,500
kind of the essence for this particular

382
00:13:58,500 --> 00:14:00,360
talk

383
00:14:00,360 --> 00:14:01,860
um all of the unit 42 atoms all these

384
00:14:01,860 --> 00:14:03,420
particular access groups are part of a

385
00:14:03,420 --> 00:14:05,339
unit 42 atom um it's just kind of a

386
00:14:05,339 --> 00:14:06,540
common framework everybody's kind of

387
00:14:06,540 --> 00:14:09,360
familiar uh with six taxi formats and

388
00:14:09,360 --> 00:14:11,579
it's all Json encoded so it's easily

389
00:14:11,579 --> 00:14:13,260
decodable

390
00:14:13,260 --> 00:14:15,180
um build it right into your uh your

391
00:14:15,180 --> 00:14:17,160
particular security tools

392
00:14:17,160 --> 00:14:18,959
um and it's all free which is pretty

393
00:14:18,959 --> 00:14:20,940
awesome so please go download that um if

394
00:14:20,940 --> 00:14:23,040
you want links please let me know and

395
00:14:23,040 --> 00:14:26,339
we'll give you those those links

396
00:14:26,339 --> 00:14:28,980
so here's the challenge uh that we that

397
00:14:28,980 --> 00:14:31,200
I currently see within Cloud so here's

398
00:14:31,200 --> 00:14:32,880
the logic that I kind of want to go down

399
00:14:32,880 --> 00:14:35,339
there are a lot of containers used much

400
00:14:35,339 --> 00:14:38,100
more often in the industry uh you know

401
00:14:38,100 --> 00:14:39,959
we saw the top 20 list

402
00:14:39,959 --> 00:14:41,100
um there's only one of those containers

403
00:14:41,100 --> 00:14:44,279
that being redis is the only container

404
00:14:44,279 --> 00:14:46,920
targeted uh application that we know of

405
00:14:46,920 --> 00:14:48,899
right now currently uh for cloud

406
00:14:48,899 --> 00:14:51,120
environments redis is the only one that

407
00:14:51,120 --> 00:14:52,560
all five of those particular actors use

408
00:14:52,560 --> 00:14:53,820
on a regular basis the other ones they

409
00:14:53,820 --> 00:14:55,680
used and even make the list was Oracle

410
00:14:55,680 --> 00:14:59,100
weblogic I think think PHP

411
00:14:59,100 --> 00:15:01,680
um you know struts patchy struts those

412
00:15:01,680 --> 00:15:03,240
are all very common those are all used

413
00:15:03,240 --> 00:15:04,920
pretty much by all five of those

414
00:15:04,920 --> 00:15:07,500
particular actors however there's you

415
00:15:07,500 --> 00:15:09,839
know 19 others that are more downloaded

416
00:15:09,839 --> 00:15:11,339
and more exploitable than those five

417
00:15:11,339 --> 00:15:13,500
that I just mentioned so there's a whole

418
00:15:13,500 --> 00:15:15,420
bunch more that's out there

419
00:15:15,420 --> 00:15:17,760
there's a lot more exposed containers in

420
00:15:17,760 --> 00:15:19,260
our industry than I think we realized no

421
00:15:19,260 --> 00:15:20,639
one's really looking at digitalocean one

422
00:15:20,639 --> 00:15:21,899
because it's free and cheap and who

423
00:15:21,899 --> 00:15:23,220
cares

424
00:15:23,220 --> 00:15:25,199
um and because no corporations using

425
00:15:25,199 --> 00:15:26,760
it's all individual people right soda

426
00:15:26,760 --> 00:15:28,320
you know I know of a few organizations

427
00:15:28,320 --> 00:15:30,000
that actually do use digitalocean as

428
00:15:30,000 --> 00:15:32,220
part of their their actual production

429
00:15:32,220 --> 00:15:33,720
environment which

430
00:15:33,720 --> 00:15:35,820
I guess because it's cheap so um all

431
00:15:35,820 --> 00:15:36,779
right so

432
00:15:36,779 --> 00:15:39,060
um but my biggest thing is we are not

433
00:15:39,060 --> 00:15:41,160
seeing these Cloud threat actors

434
00:15:41,160 --> 00:15:43,019
specifically Target why aren't we seeing

435
00:15:43,019 --> 00:15:45,660
them Target WordPress you know are we

436
00:15:45,660 --> 00:15:46,860
just not seeing them we just don't have

437
00:15:46,860 --> 00:15:48,120
the visibility into their particular

438
00:15:48,120 --> 00:15:49,500
malware sets

439
00:15:49,500 --> 00:15:50,220
Etc

440
00:15:50,220 --> 00:15:51,899
so here's the the things that I think

441
00:15:51,899 --> 00:15:53,880
we're missing uh one is everything's

442
00:15:53,880 --> 00:15:55,620
fine don't worry about it we're all good

443
00:15:55,620 --> 00:15:57,779
uh don't don't don't care just don't

444
00:15:57,779 --> 00:15:59,760
even want to look at it another one is

445
00:15:59,760 --> 00:16:01,199
that the actors are just better at

446
00:16:01,199 --> 00:16:02,639
hiding their tracks they're just really

447
00:16:02,639 --> 00:16:03,899
good at

448
00:16:03,899 --> 00:16:05,820
skipping across everything we're not

449
00:16:05,820 --> 00:16:07,800
seeing things organizations also have

450
00:16:07,800 --> 00:16:09,240
very large gaping holes in their

451
00:16:09,240 --> 00:16:10,860
security perimeter in their Cloud

452
00:16:10,860 --> 00:16:12,959
environments I'm not going to go into a

453
00:16:12,959 --> 00:16:14,940
lot of this why I can say that that

454
00:16:14,940 --> 00:16:16,980
identity and access management the

455
00:16:16,980 --> 00:16:19,440
identity the specific roles behind

456
00:16:19,440 --> 00:16:21,300
identity and access permissions that

457
00:16:21,300 --> 00:16:23,940
organizations across the board we looked

458
00:16:23,940 --> 00:16:26,160
at over 200 different organizations 99

459
00:16:26,160 --> 00:16:31,079
of them 99 of IAM policies are overly

460
00:16:31,079 --> 00:16:32,579
permissive

461
00:16:32,579 --> 00:16:36,420
it's insane the number three most used

462
00:16:36,420 --> 00:16:39,060
IAM policy in all of the organizations

463
00:16:39,060 --> 00:16:41,519
right now is administrator access

464
00:16:41,519 --> 00:16:45,540
within AWS in Azure the number two most

465
00:16:45,540 --> 00:16:48,420
used identity role right you know IAM

466
00:16:48,420 --> 00:16:51,420
role is owner that's access to

467
00:16:51,420 --> 00:16:53,339
everything in the cloud

468
00:16:53,339 --> 00:16:55,680
what happens if that key is stolen or

469
00:16:55,680 --> 00:16:56,820
compromised

470
00:16:56,820 --> 00:16:58,620
oh it's secure you know it's in our

471
00:16:58,620 --> 00:17:00,300
GitHub and GitHub is Totally Secure

472
00:17:00,300 --> 00:17:02,279
right sure

473
00:17:02,279 --> 00:17:04,740
interesting yeah

474
00:17:04,740 --> 00:17:07,919
all right so my argument is that we

475
00:17:07,919 --> 00:17:10,199
don't have enough visibility in two

476
00:17:10,199 --> 00:17:13,020
containers specifically and if we do

477
00:17:13,020 --> 00:17:14,579
have the visibility into those

478
00:17:14,579 --> 00:17:16,679
containers we are not doing a very good

479
00:17:16,679 --> 00:17:18,959
job at offloading that data and

480
00:17:18,959 --> 00:17:22,319
analyzing it in any way and why is that

481
00:17:22,319 --> 00:17:23,939
all right so let's go to the Rosetta

482
00:17:23,939 --> 00:17:26,339
Stone for cloud tools just real quick

483
00:17:26,339 --> 00:17:28,079
let me go over a couple

484
00:17:28,079 --> 00:17:30,240
Cloud workload protection

485
00:17:30,240 --> 00:17:32,400
all right so it is the ability to see

486
00:17:32,400 --> 00:17:34,080
actual containers in their operatings in

487
00:17:34,080 --> 00:17:35,520
runtime right so you can actually see

488
00:17:35,520 --> 00:17:36,960
when a container stood up you can see

489
00:17:36,960 --> 00:17:38,039
the process is running you can see it's

490
00:17:38,039 --> 00:17:39,600
Network traffic you can see all that

491
00:17:39,600 --> 00:17:42,240
good endpoint detection stuff okay so

492
00:17:42,240 --> 00:17:45,000
let's say an attacker compromises the

493
00:17:45,000 --> 00:17:46,500
front end system let's say this is nginx

494
00:17:46,500 --> 00:17:48,419
because it's the most uh

495
00:17:48,419 --> 00:17:50,820
used one that's out there they're able

496
00:17:50,820 --> 00:17:52,440
to move laterally from any number of

497
00:17:52,440 --> 00:17:54,720
reasons either they go to

498
00:17:54,720 --> 00:17:57,000
um you know they they run do run C and

499
00:17:57,000 --> 00:17:58,799
they escape that and go up into the uh

500
00:17:58,799 --> 00:18:00,419
the host and they move over to whatever

501
00:18:00,419 --> 00:18:01,740
container they just move laterally

502
00:18:01,740 --> 00:18:03,720
follow the traffic into that back-end

503
00:18:03,720 --> 00:18:06,120
 database whatever it may be inside

504
00:18:06,120 --> 00:18:08,039
of that backend database not

505
00:18:08,039 --> 00:18:10,620
necessarily exposed to the public but

506
00:18:10,620 --> 00:18:12,000
most likely is as we saw with like

507
00:18:12,000 --> 00:18:14,640
mariahdb and stuff like that there's

508
00:18:14,640 --> 00:18:16,559
probably creds in there in some way or

509
00:18:16,559 --> 00:18:18,480
you got to the host and that host has

510
00:18:18,480 --> 00:18:21,240
creds available so we take that Dev key

511
00:18:21,240 --> 00:18:22,500
because most likely it's a developer

512
00:18:22,500 --> 00:18:23,940
engineer that actually just you know

513
00:18:23,940 --> 00:18:25,320
stood this up and they just have keys

514
00:18:25,320 --> 00:18:26,760
that are exposed in there just locked

515
00:18:26,760 --> 00:18:28,679
inside of that really nice you know dot

516
00:18:28,679 --> 00:18:31,559
AWS backslash you know configurations or

517
00:18:31,559 --> 00:18:33,660
credentials and they just take that key

518
00:18:33,660 --> 00:18:36,059
and then they can then if that IAM

519
00:18:36,059 --> 00:18:38,400
policy is compromised they can have

520
00:18:38,400 --> 00:18:39,480
access to everything that that

521
00:18:39,480 --> 00:18:42,720
particular IAM role does if

522
00:18:42,720 --> 00:18:44,760
administrator access is that I am keep

523
00:18:44,760 --> 00:18:48,000
which it most likely is or owner is that

524
00:18:48,000 --> 00:18:51,059
I am role like it most likely is

525
00:18:51,059 --> 00:18:52,799
um they have access to all this stuff

526
00:18:52,799 --> 00:18:55,260
but that's kind of where it stops that's

527
00:18:55,260 --> 00:18:57,660
all a cloud workload protection can give

528
00:18:57,660 --> 00:18:59,039
you

529
00:18:59,039 --> 00:19:00,960
it's only an endpoint monitor it can

530
00:19:00,960 --> 00:19:04,080
only see the containers right you cannot

531
00:19:04,080 --> 00:19:06,120
follow that IIM credential into that

532
00:19:06,120 --> 00:19:08,520
larger Cloud platform okay that's the

533
00:19:08,520 --> 00:19:11,100
end of cloud workload protection

534
00:19:11,100 --> 00:19:13,679
so let's look at what can look at that

535
00:19:13,679 --> 00:19:16,320
bigger picture the cspn the cloud

536
00:19:16,320 --> 00:19:18,860
security posture management tool this is

537
00:19:18,860 --> 00:19:21,539
GRC or governance regulence governance

538
00:19:21,539 --> 00:19:23,940
regulation and compliance uh for cloud

539
00:19:23,940 --> 00:19:26,700
environments it can see API connectivity

540
00:19:26,700 --> 00:19:28,980
you can see user logs in it can see

541
00:19:28,980 --> 00:19:31,080
hourly scannings of how uh your

542
00:19:31,080 --> 00:19:33,120
particular workloads are configured all

543
00:19:33,120 --> 00:19:34,559
of that good stuff you can also detect

544
00:19:34,559 --> 00:19:36,600
drift detection in a lot of aspects if

545
00:19:36,600 --> 00:19:38,460
something were to change in

546
00:19:38,460 --> 00:19:40,559
configuration from start to later on

547
00:19:40,559 --> 00:19:42,299
it'll detect those things which is great

548
00:19:42,299 --> 00:19:44,820
it also has the cool ability kind of

549
00:19:44,820 --> 00:19:46,500
mixes a little bit with uh Cloud

550
00:19:46,500 --> 00:19:48,600
identity Services where you can do IAM

551
00:19:48,600 --> 00:19:50,340
monitoring you can actually see users

552
00:19:50,340 --> 00:19:51,960
that are changing permissions you can

553
00:19:51,960 --> 00:19:53,700
see all of that sort of stock all in

554
00:19:53,700 --> 00:19:55,559
that one single dashboard so if you look

555
00:19:55,559 --> 00:19:58,380
at that look at that we can see uh AWS

556
00:19:58,380 --> 00:20:01,620
IAM sensitive activities by user that's

557
00:20:01,620 --> 00:20:03,720
great where did it come from we might be

558
00:20:03,720 --> 00:20:05,520
able to see a container but that's great

559
00:20:05,520 --> 00:20:06,840
we don't know what started it we don't

560
00:20:06,840 --> 00:20:08,280
know if there was malware on it we don't

561
00:20:08,280 --> 00:20:10,919
know if the lateral moved to get that we

562
00:20:10,919 --> 00:20:12,059
don't know any of that stuff behind it

563
00:20:12,059 --> 00:20:14,460
that's the end of cspm It's Too Tall

564
00:20:14,460 --> 00:20:15,660
right it doesn't see the granular

565
00:20:15,660 --> 00:20:17,700
aspects

566
00:20:17,700 --> 00:20:19,679
so it can't see workload behaviors it

567
00:20:19,679 --> 00:20:23,460
can see IAM configurations and behaviors

568
00:20:23,460 --> 00:20:25,440
so we're going to look at a couple other

569
00:20:25,440 --> 00:20:27,419
tools these are not necessarily ready

570
00:20:27,419 --> 00:20:29,160
for my import uh

571
00:20:29,160 --> 00:20:31,440
this particular talk right now but um

572
00:20:31,440 --> 00:20:33,780
they're important to know CCS which is

573
00:20:33,780 --> 00:20:35,700
cloud code security infrastructure is

574
00:20:35,700 --> 00:20:38,539
code scanning vulnerability fixes

575
00:20:38,539 --> 00:20:40,380
vulnerability scanning misconfiguration

576
00:20:40,380 --> 00:20:43,620
scanning real-time fixes obviously is a

577
00:20:43,620 --> 00:20:45,360
huge bonus you can scan infrastructure

578
00:20:45,360 --> 00:20:46,679
as code your terraform or cloud

579
00:20:46,679 --> 00:20:48,840
formation or whatever you have and it

580
00:20:48,840 --> 00:20:50,520
can it could fix it right away but it's

581
00:20:50,520 --> 00:20:52,020
like yeah go ahead and fix that awesome

582
00:20:52,020 --> 00:20:54,419
you know get rid of administrator access

583
00:20:54,419 --> 00:20:55,980
or this particular IAM role has access

584
00:20:55,980 --> 00:20:57,539
to every single thing in the cloud just

585
00:20:57,539 --> 00:20:59,280
that one specific thing

586
00:20:59,280 --> 00:21:01,140
least privilege

587
00:21:01,140 --> 00:21:02,880
um the cloud network security also very

588
00:21:02,880 --> 00:21:04,020
important being able to see that micro

589
00:21:04,020 --> 00:21:05,780
segmentation between cloud and your

590
00:21:05,780 --> 00:21:08,460
particular thing is very poignant to uh

591
00:21:08,460 --> 00:21:10,320
The Talk today we'll talk more about

592
00:21:10,320 --> 00:21:12,480
that uh and then the cloud identity

593
00:21:12,480 --> 00:21:15,419
security I am monitoring enforcement and

594
00:21:15,419 --> 00:21:18,000
cloud and all its applications so these

595
00:21:18,000 --> 00:21:19,799
are all parts of this larger tool called

596
00:21:19,799 --> 00:21:22,799
cnap which I heard a funny thing uh so

597
00:21:22,799 --> 00:21:24,299
it actually stands for cloud native

598
00:21:24,299 --> 00:21:26,820
application protection platform but I

599
00:21:26,820 --> 00:21:28,140
had this a funny little thing where it

600
00:21:28,140 --> 00:21:29,640
was like as taking a nap in a comfy

601
00:21:29,640 --> 00:21:31,200
cloud and I was like that's funny

602
00:21:31,200 --> 00:21:32,880
because it's seen him

603
00:21:32,880 --> 00:21:36,600
anyway all right so um it combines all

604
00:21:36,600 --> 00:21:38,400
of those C tools together so your

605
00:21:38,400 --> 00:21:41,039
network your identity um your code

606
00:21:41,039 --> 00:21:42,960
um you know workload protections and uh

607
00:21:42,960 --> 00:21:44,880
cspm all together into one unified

608
00:21:44,880 --> 00:21:46,679
dashboard or UI which is very helpful

609
00:21:46,679 --> 00:21:48,659
and it can help us do things that are

610
00:21:48,659 --> 00:21:50,340
really cool like we saw this example

611
00:21:50,340 --> 00:21:52,620
before with the cwp uh you have your

612
00:21:52,620 --> 00:21:54,059
front end you have that lateral movement

613
00:21:54,059 --> 00:21:55,740
over your database exploit the

614
00:21:55,740 --> 00:21:57,840
 database get that credential oh

615
00:21:57,840 --> 00:21:59,460
now we log into that particular Cloud

616
00:21:59,460 --> 00:22:01,140
environment guess what our cspm now can

617
00:22:01,140 --> 00:22:02,880
see that so that's the power and the

618
00:22:02,880 --> 00:22:05,159
beauty of a of a c now

619
00:22:05,159 --> 00:22:06,960
being able to take multiple tools and

620
00:22:06,960 --> 00:22:09,659
see that chain across events I would say

621
00:22:09,659 --> 00:22:12,179
that yeah it's a buzz tricky term and

622
00:22:12,179 --> 00:22:13,080
I'm trying to leave all the vendory

623
00:22:13,080 --> 00:22:14,280
things out of it because I can certainly

624
00:22:14,280 --> 00:22:17,880
talk about it but this is important for

625
00:22:17,880 --> 00:22:18,900
all people especially if you're working

626
00:22:18,900 --> 00:22:21,360
in cloud in any way get a cnap make sure

627
00:22:21,360 --> 00:22:23,400
you can see visibility from beginning to

628
00:22:23,400 --> 00:22:25,799
end as far left as you possibly can see

629
00:22:25,799 --> 00:22:27,600
in the dev process and in as far right

630
00:22:27,600 --> 00:22:30,799
as you can possibly see in runtime

631
00:22:31,020 --> 00:22:32,460
so now we're going to talk about service

632
00:22:32,460 --> 00:22:34,980
meshes

633
00:22:34,980 --> 00:22:35,940
um actually I want to stop just real

634
00:22:35,940 --> 00:22:37,440
quick any questions about any of that

635
00:22:37,440 --> 00:22:38,760
it's a lot of information

636
00:22:38,760 --> 00:22:40,679
we all make sense we're all happy yeah

637
00:22:40,679 --> 00:22:42,840
go ahead in the back go back a whole

638
00:22:42,840 --> 00:22:44,520
bunch in the beginning with some graphs

639
00:22:44,520 --> 00:22:46,620
why did you put star count as a

640
00:22:46,620 --> 00:22:48,780
drink on there

641
00:22:48,780 --> 00:22:51,380
star count

642
00:22:51,380 --> 00:22:53,400
The graft I was showing the most

643
00:22:53,400 --> 00:22:56,960
downloaded containers oh okay

644
00:22:57,539 --> 00:23:00,860
with the star count is oh okay so sure

645
00:23:00,860 --> 00:23:03,600
so all these uh were pulled specifically

646
00:23:03,600 --> 00:23:06,900
from GitHub okay uh star counts

647
00:23:06,900 --> 00:23:08,940
um specific environments actors will

648
00:23:08,940 --> 00:23:10,919
will uh you know malicious actors will

649
00:23:10,919 --> 00:23:13,400
actually try to you know

650
00:23:13,400 --> 00:23:15,900
impersonate a particular environment so

651
00:23:15,900 --> 00:23:17,580
using a star count as a basis for

652
00:23:17,580 --> 00:23:19,320
pulling down your your containers making

653
00:23:19,320 --> 00:23:21,299
sure that their industry reputable I

654
00:23:21,299 --> 00:23:23,520
guess you could say uh you know having a

655
00:23:23,520 --> 00:23:25,020
really high star count means it's most

656
00:23:25,020 --> 00:23:27,000
likely to be actually legitimate just a

657
00:23:27,000 --> 00:23:28,440
metric that you can use

658
00:23:28,440 --> 00:23:29,700
um I like to see which ones are the most

659
00:23:29,700 --> 00:23:31,200
popular that way which one people

660
00:23:31,200 --> 00:23:33,720
actually use while Alpine is like the

661
00:23:33,720 --> 00:23:36,240
number one most downloaded one

662
00:23:36,240 --> 00:23:38,700
um Ubuntu is the most favored by people

663
00:23:38,700 --> 00:23:42,960
right so just just as an example

664
00:23:42,960 --> 00:23:45,659
any other questions

665
00:23:45,659 --> 00:23:47,760
on scene apps we're all good with cnaps

666
00:23:47,760 --> 00:23:50,600
okay cool

667
00:23:53,360 --> 00:23:55,559
lots of animations why I love my

668
00:23:55,559 --> 00:23:57,900
animations all right so um service

669
00:23:57,900 --> 00:24:00,179
meshes what is a service mesh a service

670
00:24:00,179 --> 00:24:02,940
mesh provides reliability security and

671
00:24:02,940 --> 00:24:04,860
observability through and organization

672
00:24:04,860 --> 00:24:07,260
through the organization monitoring and

673
00:24:07,260 --> 00:24:08,940
securing of each micro Services

674
00:24:08,940 --> 00:24:10,980
basically how do you organize things how

675
00:24:10,980 --> 00:24:12,539
can you segment that thing and then how

676
00:24:12,539 --> 00:24:14,700
can you Monitor and traffic how much is

677
00:24:14,700 --> 00:24:17,820
going to that one particular container

678
00:24:17,820 --> 00:24:19,740
they do this all of them do this through

679
00:24:19,740 --> 00:24:22,020
some sort of sidecar what a sidecar is

680
00:24:22,020 --> 00:24:24,299
is a proxy that sits alongside that

681
00:24:24,299 --> 00:24:27,780
particular container and is able to The

682
00:24:27,780 --> 00:24:29,700
Container runs essentially on uh

683
00:24:29,700 --> 00:24:31,500
localhost every communication into and

684
00:24:31,500 --> 00:24:32,880
out of that particular container runs on

685
00:24:32,880 --> 00:24:35,400
localhost the sidecar is its Network

686
00:24:35,400 --> 00:24:37,980
Gateway across the environment that

687
00:24:37,980 --> 00:24:40,740
proxy connects together how about this

688
00:24:40,740 --> 00:24:42,500
this is better

689
00:24:42,500 --> 00:24:44,760
you can see Ingress traffic coming in

690
00:24:44,760 --> 00:24:46,559
here from the left it hits the pro it

691
00:24:46,559 --> 00:24:48,960
hits that proxy a right it goes into

692
00:24:48,960 --> 00:24:51,539
service a performs its function leaves

693
00:24:51,539 --> 00:24:54,299
service a goes over to proxy B for you

694
00:24:54,299 --> 00:24:56,220
know service B everything is monitored

695
00:24:56,220 --> 00:24:58,380
inside of that proxy that proxy allows

696
00:24:58,380 --> 00:24:59,640
us to do a lot of things that allows us

697
00:24:59,640 --> 00:25:01,559
to load balance traffic it allows us to

698
00:25:01,559 --> 00:25:03,360
do network monitoring on that particular

699
00:25:03,360 --> 00:25:05,280
set of traffic

700
00:25:05,280 --> 00:25:06,900
um I use the SD on this one on the

701
00:25:06,900 --> 00:25:08,400
bottom section so the control plane

702
00:25:08,400 --> 00:25:10,260
every service mesh has a control plane

703
00:25:10,260 --> 00:25:12,419
of some Port some sort uh this is just a

704
00:25:12,419 --> 00:25:14,640
cods uh they have a pile of Citadel in

705
00:25:14,640 --> 00:25:16,200
the galley we don't need to go through

706
00:25:16,200 --> 00:25:18,299
those for this but that's just how they

707
00:25:18,299 --> 00:25:19,799
control that particular proxy and how

708
00:25:19,799 --> 00:25:22,860
traffic moves through that system

709
00:25:22,860 --> 00:25:25,679
there are other security mesh players

710
00:25:25,679 --> 00:25:28,200
there's console istio and Linker D these

711
00:25:28,200 --> 00:25:30,240
are the top three most used console is

712
00:25:30,240 --> 00:25:31,740
the most widely used across

713
00:25:31,740 --> 00:25:33,779
organizations and I say widely used

714
00:25:33,779 --> 00:25:37,799
the organization HG insights

715
00:25:37,799 --> 00:25:39,679
found that

716
00:25:39,679 --> 00:25:42,360
5749 organizations actually use console

717
00:25:42,360 --> 00:25:44,039
out of all the organizations in the

718
00:25:44,039 --> 00:25:46,140
world we only have 5 000 that are using

719
00:25:46,140 --> 00:25:49,020
one particular service mesh istio has

720
00:25:49,020 --> 00:25:52,080
about 3591 91 organizations that are at

721
00:25:52,080 --> 00:25:53,460
least publicly you know stating they're

722
00:25:53,460 --> 00:25:55,559
using that particular mesh organization

723
00:25:55,559 --> 00:25:57,720
uh console was made by hashicorp

724
00:25:57,720 --> 00:25:59,700
hashicorp also did like terraform we're

725
00:25:59,700 --> 00:26:00,840
probably a fair mirror with that with

726
00:26:00,840 --> 00:26:02,940
our uh our systems they also do vault

727
00:26:02,940 --> 00:26:05,340
which is a really good secret container

728
00:26:05,340 --> 00:26:07,500
for your containers as you're moving

729
00:26:07,500 --> 00:26:08,400
through

730
00:26:08,400 --> 00:26:10,740
um I personally like istio it was uh

731
00:26:10,740 --> 00:26:13,500
kind of co-founded by IBM Google and red

732
00:26:13,500 --> 00:26:15,539
hat they all kind of work together to

733
00:26:15,539 --> 00:26:17,400
kind of make this particular system it's

734
00:26:17,400 --> 00:26:19,020
super Tinker friendly you can just

735
00:26:19,020 --> 00:26:20,760
Tinker around with it and do a lot of

736
00:26:20,760 --> 00:26:22,559
really cool things uh may not be super

737
00:26:22,559 --> 00:26:23,820
robust when it comes to development

738
00:26:23,820 --> 00:26:25,440
administrative accesses

739
00:26:25,440 --> 00:26:27,120
um but it's it's it's like like a

740
00:26:27,120 --> 00:26:29,460
console and it's a little bit more power

741
00:26:29,460 --> 00:26:32,039
featured than Linker D Linker D is super

742
00:26:32,039 --> 00:26:34,140
lightweight basically it's a proxy um

743
00:26:34,140 --> 00:26:35,520
that's what all it really allows you to

744
00:26:35,520 --> 00:26:36,840
do

745
00:26:36,840 --> 00:26:38,220
um but cool Cool Tools there's a few

746
00:26:38,220 --> 00:26:40,020
other ones that are out there

747
00:26:40,020 --> 00:26:41,340
as well

748
00:26:41,340 --> 00:26:42,779
um built into istio there's a number of

749
00:26:42,779 --> 00:26:44,400
monitoring programs

750
00:26:44,400 --> 00:26:46,020
um just a quick example uh kubernetes

751
00:26:46,020 --> 00:26:47,400
dashboard doesn't come with this Geo it

752
00:26:47,400 --> 00:26:48,419
actually comes with just kubernetes

753
00:26:48,419 --> 00:26:50,220
itself gives you the ability to see what

754
00:26:50,220 --> 00:26:53,640
your resources is CPU Ram utilization

755
00:26:53,640 --> 00:26:55,500
um all that fun stuff going down

756
00:26:55,500 --> 00:26:58,080
Prometheus is kind of a third party out

757
00:26:58,080 --> 00:27:00,419
of the box open source program it is

758
00:27:00,419 --> 00:27:02,640
basically the out of the box favorite

759
00:27:02,640 --> 00:27:05,400
for uh kubernetes monitoring we'll give

760
00:27:05,400 --> 00:27:07,740
some examples on that you can monitor

761
00:27:07,740 --> 00:27:10,140
lots of things as I'll show you rafana

762
00:27:10,140 --> 00:27:13,320
is like a UI interface for uh for

763
00:27:13,320 --> 00:27:15,360
Prometheus

764
00:27:15,360 --> 00:27:17,340
um gives you pretty pretty Graphics as

765
00:27:17,340 --> 00:27:20,400
we'll see in a second uh Cali Kai I

766
00:27:20,400 --> 00:27:21,960
think it's Cali would you agree that's

767
00:27:21,960 --> 00:27:25,380
Kelly I say it's Kelly okay what chiali

768
00:27:25,380 --> 00:27:28,380
I like key alley okay we'll do that

769
00:27:28,380 --> 00:27:30,120
um and likes I like Jagger Just because

770
00:27:30,120 --> 00:27:32,159
Mick Jagger but I think it's Jaeger but

771
00:27:32,159 --> 00:27:33,900
that's okay

772
00:27:33,900 --> 00:27:37,799
Jaeger Jagermeister

773
00:27:37,980 --> 00:27:40,679
all right let's do that um all right so

774
00:27:40,679 --> 00:27:42,419
uh Cali's really good for container

775
00:27:42,419 --> 00:27:43,559
management it's actually I think an

776
00:27:43,559 --> 00:27:45,779
undersold sort of system as I'll show

777
00:27:45,779 --> 00:27:47,700
why in a second um it does a lot of good

778
00:27:47,700 --> 00:27:49,559
things for security people

779
00:27:49,559 --> 00:27:51,960
um and then uh Jaeger is distributed

780
00:27:51,960 --> 00:27:54,299
tracing basically being able to see what

781
00:27:54,299 --> 00:27:55,679
one container how it's talking to

782
00:27:55,679 --> 00:27:57,179
another container for how long and how

783
00:27:57,179 --> 00:27:59,760
right so um we'll get into some of these

784
00:27:59,760 --> 00:28:01,320
more succinctly I'm not going to talk

785
00:28:01,320 --> 00:28:03,779
about uh kubernetes dashboard at all um

786
00:28:03,779 --> 00:28:05,820
so we'll focus mostly on Prometheus and

787
00:28:05,820 --> 00:28:07,679
the rest of them this is the basic

788
00:28:07,679 --> 00:28:09,299
structure for Prometheus

789
00:28:09,299 --> 00:28:11,820
um it's basically uh kind of like an

790
00:28:11,820 --> 00:28:12,600
Etsy

791
00:28:12,600 --> 00:28:16,020
Etsy SCD database stores everything from

792
00:28:16,020 --> 00:28:18,299
a container and then makes it uh

793
00:28:18,299 --> 00:28:20,760
queryable in some way some fashion you

794
00:28:20,760 --> 00:28:22,440
can pump everything over to grafana

795
00:28:22,440 --> 00:28:24,980
which is a palm ql

796
00:28:24,980 --> 00:28:27,539
visual dashboard query language for it

797
00:28:27,539 --> 00:28:29,700
you can do alerting through Prometheus

798
00:28:29,700 --> 00:28:31,200
if uh

799
00:28:31,200 --> 00:28:33,000
um you know CPUs got too high on a

800
00:28:33,000 --> 00:28:34,620
particular container or granulization

801
00:28:34,620 --> 00:28:37,620
was over over utilized Etc so it does a

802
00:28:37,620 --> 00:28:39,960
lot of really good things

803
00:28:39,960 --> 00:28:42,000
um its dashboard is super basic really

804
00:28:42,000 --> 00:28:43,080
basic

805
00:28:43,080 --> 00:28:44,580
um basically uh you have this little

806
00:28:44,580 --> 00:28:46,620
thing you can say which specific

807
00:28:46,620 --> 00:28:48,419
individual metric you actually want to

808
00:28:48,419 --> 00:28:51,240
uh you know look into and then you

809
00:28:51,240 --> 00:28:52,380
execute that and it'll give you those

810
00:28:52,380 --> 00:28:54,120
results of that particular metric

811
00:28:54,120 --> 00:28:55,860
um there are hundreds of these I thought

812
00:28:55,860 --> 00:28:57,120
about listing every single one of these

813
00:28:57,120 --> 00:28:58,140
things that I can track and I was like

814
00:28:58,140 --> 00:29:00,779
that's too much I don't want to do that

815
00:29:00,779 --> 00:29:01,799
um all of these things are all

816
00:29:01,799 --> 00:29:04,980
searchable within uh grafana grafana can

817
00:29:04,980 --> 00:29:06,299
look at the exact same thing so I was

818
00:29:06,299 --> 00:29:09,960
zeroed in on uh API server

819
00:29:09,960 --> 00:29:12,480
um uh watch events to Total on on the

820
00:29:12,480 --> 00:29:14,159
last screen these are the instances that

821
00:29:14,159 --> 00:29:15,960
it can see you can see that uh you know

822
00:29:15,960 --> 00:29:17,460
there's a specific internal IP

823
00:29:17,460 --> 00:29:18,960
Communications between which apps you're

824
00:29:18,960 --> 00:29:20,700
communicating with which apps this is

825
00:29:20,700 --> 00:29:22,860
all available within istio or whatever

826
00:29:22,860 --> 00:29:25,260
proxy you're using and it gives you this

827
00:29:25,260 --> 00:29:26,760
kind of insight into how communication

828
00:29:26,760 --> 00:29:29,039
or how containers are communicating with

829
00:29:29,039 --> 00:29:31,620
other containers in the environment

830
00:29:31,620 --> 00:29:33,299
cool little rafana we've all seek

831
00:29:33,299 --> 00:29:34,440
grafana so I don't need to go into that

832
00:29:34,440 --> 00:29:35,700
it just looks pretty it's what you put

833
00:29:35,700 --> 00:29:36,840
on when the sea level comes in and

834
00:29:36,840 --> 00:29:38,159
you're kind of like yeah I'm doing work

835
00:29:38,159 --> 00:29:42,000
see and uh and that

836
00:29:42,000 --> 00:29:43,740
but something's missing right I mean

837
00:29:43,740 --> 00:29:45,600
this is really good insight and really

838
00:29:45,600 --> 00:29:47,340
good uh information for you know

839
00:29:47,340 --> 00:29:49,320
managing and administrating these

840
00:29:49,320 --> 00:29:51,120
particular systems um but that's really

841
00:29:51,120 --> 00:29:53,279
all we kind of have we don't have any

842
00:29:53,279 --> 00:29:54,960
endpoint connectivity we want to see

843
00:29:54,960 --> 00:29:56,100
what processes are happening we don't

844
00:29:56,100 --> 00:29:57,360
see who's connecting with any of these

845
00:29:57,360 --> 00:29:58,980
particular systems from outside or or

846
00:29:58,980 --> 00:30:02,399
whatever they're doing so why not

847
00:30:02,399 --> 00:30:03,779
um here's Jaeger

848
00:30:03,779 --> 00:30:05,279
um very similar I could zoom in on this

849
00:30:05,279 --> 00:30:07,020
essentially it gives us uh kind of the

850
00:30:07,020 --> 00:30:08,580
same information this is what one

851
00:30:08,580 --> 00:30:09,840
container how one container is

852
00:30:09,840 --> 00:30:12,000
communicating with another container uh

853
00:30:12,000 --> 00:30:13,860
this particular container this is how uh

854
00:30:13,860 --> 00:30:15,120
Kai

855
00:30:15,120 --> 00:30:18,919
alley is that how you said it I like

856
00:30:18,919 --> 00:30:21,179
Italy is speaking with Prometheus um

857
00:30:21,179 --> 00:30:23,419
they had a one 1.2 millisecond

858
00:30:23,419 --> 00:30:26,760
communication span from which IP address

859
00:30:26,760 --> 00:30:27,960
they have their whole Header information

860
00:30:27,960 --> 00:30:29,640
we're getting close we're getting Header

861
00:30:29,640 --> 00:30:30,960
information we're getting some cookie

862
00:30:30,960 --> 00:30:33,179
information which was great but again

863
00:30:33,179 --> 00:30:34,740
it's just how containers are

864
00:30:34,740 --> 00:30:36,600
communicating with other containers if

865
00:30:36,600 --> 00:30:37,799
an attacker were to compromise a

866
00:30:37,799 --> 00:30:38,640
container and move into another

867
00:30:38,640 --> 00:30:40,679
container you could probably see that

868
00:30:40,679 --> 00:30:44,760
traffic in in Jager Maybe

869
00:30:44,760 --> 00:30:47,279
skin something's missing on these this

870
00:30:47,279 --> 00:30:50,640
is where uh key alley comes into it's a

871
00:30:50,640 --> 00:30:52,500
great tool for seeing how istio is

872
00:30:52,500 --> 00:30:55,260
working from a visual level this graph

873
00:30:55,260 --> 00:30:57,720
right here you can see each individual

874
00:30:57,720 --> 00:30:59,940
little graph this is just the the book

875
00:30:59,940 --> 00:31:01,460
info which is just a standard

876
00:31:01,460 --> 00:31:04,200
application that comes with istio just

877
00:31:04,200 --> 00:31:05,340
gives you a web page and you can

878
00:31:05,340 --> 00:31:06,600
interact with the web page and see how

879
00:31:06,600 --> 00:31:08,880
data moves through all of these little

880
00:31:08,880 --> 00:31:10,980
cool things are they're all animations

881
00:31:10,980 --> 00:31:12,120
so you can actually see like little

882
00:31:12,120 --> 00:31:13,860
packets moving around and it's really

883
00:31:13,860 --> 00:31:15,720
kind of interesting but the cool thing

884
00:31:15,720 --> 00:31:19,500
that that is or like Kylie Cali lets you

885
00:31:19,500 --> 00:31:21,480
see is the um that little there's a

886
00:31:21,480 --> 00:31:22,980
little lock you can see it like right

887
00:31:22,980 --> 00:31:24,960
there and right there every single one

888
00:31:24,960 --> 00:31:26,399
of these communication Pathways between

889
00:31:26,399 --> 00:31:30,360
all of these containers is TLS encrypted

890
00:31:30,360 --> 00:31:32,279
there's micro segmentation between every

891
00:31:32,279 --> 00:31:33,720
single little container going through

892
00:31:33,720 --> 00:31:35,159
there which is great right from a

893
00:31:35,159 --> 00:31:36,539
security perspective you can't just leak

894
00:31:36,539 --> 00:31:38,580
data really you know it's not going in

895
00:31:38,580 --> 00:31:40,559
in clear text it's all encrypted from

896
00:31:40,559 --> 00:31:42,419
container to container that's the beauty

897
00:31:42,419 --> 00:31:44,700
of a proxy that's the beauty of that

898
00:31:44,700 --> 00:31:47,039
sidecar technology be that istio or

899
00:31:47,039 --> 00:31:49,320
console or whatever you can you know

900
00:31:49,320 --> 00:31:50,340
encrypt all that and it's all

901
00:31:50,340 --> 00:31:51,659
customizable you can use default

902
00:31:51,659 --> 00:31:52,620
encryptions you can make your own

903
00:31:52,620 --> 00:31:54,539
decryptions you can use your own CA

904
00:31:54,539 --> 00:31:56,220
search you know you can do all the stuff

905
00:31:56,220 --> 00:31:58,440
that you want to use which is fantastic

906
00:31:58,440 --> 00:32:01,020
the cool thing that the the mesh allows

907
00:32:01,020 --> 00:32:03,320
you to do is able to see that traffic

908
00:32:03,320 --> 00:32:05,399
unencrypted because it's the it's the

909
00:32:05,399 --> 00:32:07,620
proxy that makes that happen it all that

910
00:32:07,620 --> 00:32:09,419
information comes out somehow and that's

911
00:32:09,419 --> 00:32:12,059
what we're trying to get to

912
00:32:12,059 --> 00:32:15,179
um so uh Kylie lets you do that and also

913
00:32:15,179 --> 00:32:16,740
we're getting really really close to

914
00:32:16,740 --> 00:32:17,940
actually being able to see communication

915
00:32:17,940 --> 00:32:19,980
so what I did is I um who's from my own

916
00:32:19,980 --> 00:32:22,799
little uh Firefox browser went and

917
00:32:22,799 --> 00:32:25,260
queried my you know book info system and

918
00:32:25,260 --> 00:32:27,000
I'm now actually able to see my user

919
00:32:27,000 --> 00:32:28,320
agent string I can actually now see

920
00:32:28,320 --> 00:32:29,760
who's connecting with this particular

921
00:32:29,760 --> 00:32:31,440
system I can see the cookie information

922
00:32:31,440 --> 00:32:33,899
I can see uh Trace IDs I can see

923
00:32:33,899 --> 00:32:35,460
anything that that particular app allows

924
00:32:35,460 --> 00:32:37,980
me to communicate including IP addresses

925
00:32:37,980 --> 00:32:39,779
including domains if that particular

926
00:32:39,779 --> 00:32:41,520
system is configured to do that with a

927
00:32:41,520 --> 00:32:43,260
particular application I can now see all

928
00:32:43,260 --> 00:32:44,880
that information and it's all stored

929
00:32:44,880 --> 00:32:46,260
within

930
00:32:46,260 --> 00:32:48,360
um Kylie which is it's a monitoring tool

931
00:32:48,360 --> 00:32:49,919
for administrators but we can use it as

932
00:32:49,919 --> 00:32:52,140
a security team to actually export that

933
00:32:52,140 --> 00:32:55,640
stuff which is pretty cool

934
00:32:55,679 --> 00:32:58,080
this is where this kind of comes in I I

935
00:32:58,080 --> 00:33:00,720
was like how do we actually make a a

936
00:33:00,720 --> 00:33:02,940
service mesh actual part of our security

937
00:33:02,940 --> 00:33:05,640
architecture and Industry this is a

938
00:33:05,640 --> 00:33:07,380
simple diagram you have uh what's that

939
00:33:07,380 --> 00:33:08,220
simple

940
00:33:08,220 --> 00:33:09,840
um but um you have Republican public

941
00:33:09,840 --> 00:33:11,580
internet here um it goes through your

942
00:33:11,580 --> 00:33:12,960
cloud service provider I don't care if

943
00:33:12,960 --> 00:33:15,120
that's AWS or G you know Google or

944
00:33:15,120 --> 00:33:17,700
whatever it goes through their internal

945
00:33:17,700 --> 00:33:19,200
gateways their internal load balancers

946
00:33:19,200 --> 00:33:20,700
before it gets to your system then it

947
00:33:20,700 --> 00:33:22,440
goes through your kubernetes system and

948
00:33:22,440 --> 00:33:23,760
then it goes into your Super Service

949
00:33:23,760 --> 00:33:26,820
mesh platform and that will include its

950
00:33:26,820 --> 00:33:29,880
own internal egress Gateway its own you

951
00:33:29,880 --> 00:33:31,559
know Ingress Gateway it'll have

952
00:33:31,559 --> 00:33:33,120
destination rules so you can actually

953
00:33:33,120 --> 00:33:35,279
dictate how you want destination to

954
00:33:35,279 --> 00:33:37,440
travel inside of your service mesh if

955
00:33:37,440 --> 00:33:39,779
you only want if you're let's say load

956
00:33:39,779 --> 00:33:41,399
balance this is the most common uh

957
00:33:41,399 --> 00:33:44,279
reference for service meshes and how

958
00:33:44,279 --> 00:33:46,260
they're used in the industry for devops

959
00:33:46,260 --> 00:33:49,200
people if you want to load balance a

960
00:33:49,200 --> 00:33:50,880
particular new application a new version

961
00:33:50,880 --> 00:33:52,440
of the front end system or something

962
00:33:52,440 --> 00:33:55,260
like that you will say I want 70 of the

963
00:33:55,260 --> 00:33:56,940
traffic to go go to my old system and I

964
00:33:56,940 --> 00:33:58,860
want 30 to go to my new system just to

965
00:33:58,860 --> 00:34:00,659
see if I can crash my new code right and

966
00:34:00,659 --> 00:34:01,980
just kind of load balance it that way

967
00:34:01,980 --> 00:34:03,240
you're not sending all traffic you're

968
00:34:03,240 --> 00:34:04,740
just kind of mirroring traffic off to

969
00:34:04,740 --> 00:34:06,120
see how much you can hit it with and

970
00:34:06,120 --> 00:34:09,599
break it how about we use that idea that

971
00:34:09,599 --> 00:34:12,000
Concepts to load balance traffic from

972
00:34:12,000 --> 00:34:14,099
our applications into security tools

973
00:34:14,099 --> 00:34:17,159
like cerakata or onion or Wireshark or

974
00:34:17,159 --> 00:34:19,619
elastic we save all information so

975
00:34:19,619 --> 00:34:22,320
that's what a if you can have an

976
00:34:22,320 --> 00:34:24,000
endpoint system have a proxy you can

977
00:34:24,000 --> 00:34:27,359
transmit all information via istio or

978
00:34:27,359 --> 00:34:29,339
console into whatever application you

979
00:34:29,339 --> 00:34:31,859
want all Network traffic so kind of a

980
00:34:31,859 --> 00:34:33,599
cool tap and it's built in and it's free

981
00:34:33,599 --> 00:34:35,699
and you don't do anything else

982
00:34:35,699 --> 00:34:37,560
pretty cool so here's istio load

983
00:34:37,560 --> 00:34:38,580
balancing

984
00:34:38,580 --> 00:34:40,619
first we have to make a Ser uh a quick

985
00:34:40,619 --> 00:34:43,199
little virtual service you can see here

986
00:34:43,199 --> 00:34:44,940
in the red box on top essentially what

987
00:34:44,940 --> 00:34:47,580
we're doing is we're designating uh all

988
00:34:47,580 --> 00:34:49,260
HTTP traffic

989
00:34:49,260 --> 00:34:51,719
that is destined for whatever prod

990
00:34:51,719 --> 00:34:53,580
application host whatever version we're

991
00:34:53,580 --> 00:34:54,599
using or in this case we're using

992
00:34:54,599 --> 00:34:57,780
version one and all traffic so 100 of

993
00:34:57,780 --> 00:35:00,359
all of that traffic is going to be moved

994
00:35:00,359 --> 00:35:03,540
uh can't you know we're specifying where

995
00:35:03,540 --> 00:35:05,760
it's going to be moved to to the

996
00:35:05,760 --> 00:35:07,920
particular prod application and to a

997
00:35:07,920 --> 00:35:09,240
security tool so what essentially we're

998
00:35:09,240 --> 00:35:11,640
doing is we're saying okay istio take

999
00:35:11,640 --> 00:35:13,200
all traffic that's coming in destined

1000
00:35:13,200 --> 00:35:15,720
for this particular endpoint and split

1001
00:35:15,720 --> 00:35:17,280
it off into two things into that

1002
00:35:17,280 --> 00:35:18,720
endpoint itself and then off into

1003
00:35:18,720 --> 00:35:21,599
whatever tool our security tool

1004
00:35:21,599 --> 00:35:23,280
then we actually have to make the

1005
00:35:23,280 --> 00:35:24,839
mirroring configuration again this is a

1006
00:35:24,839 --> 00:35:27,119
service a virtual service and we're

1007
00:35:27,119 --> 00:35:30,480
saying again all traffic from prod in V1

1008
00:35:30,480 --> 00:35:31,980
we're going to send that to security

1009
00:35:31,980 --> 00:35:34,380
tool and we're mirroring 100 of the

1010
00:35:34,380 --> 00:35:36,240
traffic that's as easy as it gets you

1011
00:35:36,240 --> 00:35:37,859
try to do that in AWS you have to use

1012
00:35:37,859 --> 00:35:39,240
port mirroring you can do one port and

1013
00:35:39,240 --> 00:35:40,920
it's insanely expensive I don't know

1014
00:35:40,920 --> 00:35:43,619
whoever has done AWS Port mirroring it

1015
00:35:43,619 --> 00:35:45,660
is like ridiculously expensive to do

1016
00:35:45,660 --> 00:35:47,760
that so you don't have to istio do it

1017
00:35:47,760 --> 00:35:50,000
for you

1018
00:35:50,099 --> 00:35:52,800
then you just feed that off into Splunk

1019
00:35:52,800 --> 00:35:55,020
look at that we've got all of our Header

1020
00:35:55,020 --> 00:35:56,880
information we've got IP addresses we've

1021
00:35:56,880 --> 00:35:58,619
got all that information now we have

1022
00:35:58,619 --> 00:36:01,079
where it's coming from ports is coming

1023
00:36:01,079 --> 00:36:03,900
over all that pretty amazing stuff

1024
00:36:03,900 --> 00:36:05,940
um just pipe it into whatever centrally

1025
00:36:05,940 --> 00:36:08,280
centralized information system you want

1026
00:36:08,280 --> 00:36:10,320
I think that's pretty cool it's a way to

1027
00:36:10,320 --> 00:36:11,940
really gain visibility into your Cloud

1028
00:36:11,940 --> 00:36:14,880
uh into your containers

1029
00:36:14,880 --> 00:36:16,740
but that's not the only two we have so

1030
00:36:16,740 --> 00:36:18,359
I'm going to leave service smash here a

1031
00:36:18,359 --> 00:36:19,380
little bit I'm going to look at other

1032
00:36:19,380 --> 00:36:22,320
tools that we can use

1033
00:36:22,320 --> 00:36:24,180
for something called ebpf anybody heard

1034
00:36:24,180 --> 00:36:27,540
of uh ebpf cool few of you what it what

1035
00:36:27,540 --> 00:36:29,520
it does is uh basically makes a Sandbox

1036
00:36:29,520 --> 00:36:32,040
for Linux binaries and it launches them

1037
00:36:32,040 --> 00:36:34,980
in its own OS kernel with that you can

1038
00:36:34,980 --> 00:36:36,540
see everything that is happening inside

1039
00:36:36,540 --> 00:36:38,640
of that particular container inside of

1040
00:36:38,640 --> 00:36:40,500
its own little uh kernel if you have his

1041
00:36:40,500 --> 00:36:41,700
own little tiny little sandbox you get

1042
00:36:41,700 --> 00:36:43,380
all the network information you get all

1043
00:36:43,380 --> 00:36:45,420
the runtime information out a particular

1044
00:36:45,420 --> 00:36:46,800
system you can see the kernels you can

1045
00:36:46,800 --> 00:36:49,320
see all the library calls you can see I

1046
00:36:49,320 --> 00:36:50,940
mean everything is happening on it and

1047
00:36:50,940 --> 00:36:52,560
how trace traceability and

1048
00:36:52,560 --> 00:36:54,240
serviceability here's a few different

1049
00:36:54,240 --> 00:36:56,220
tools Falco probably the most common

1050
00:36:56,220 --> 00:36:58,260
everybody knows about it

1051
00:36:58,260 --> 00:37:01,680
um Aqua my competitor Greg's competitor

1052
00:37:01,680 --> 00:37:03,480
they have really cool tools called Tracy

1053
00:37:03,480 --> 00:37:05,339
there's another one

1054
00:37:05,339 --> 00:37:07,440
um trafalgo I think is what it's called

1055
00:37:07,440 --> 00:37:10,380
and it's it's made by psyllium pretty

1056
00:37:10,380 --> 00:37:11,700
impressive

1057
00:37:11,700 --> 00:37:12,900
um so yeah there's a couple different

1058
00:37:12,900 --> 00:37:13,800
ones

1059
00:37:13,800 --> 00:37:16,020
a couple different applications again it

1060
00:37:16,020 --> 00:37:18,300
can do tracing profiling monitoring it

1061
00:37:18,300 --> 00:37:21,240
can run OS it can map fires basically

1062
00:37:21,240 --> 00:37:23,880
it's a really cool Trace program for for

1063
00:37:23,880 --> 00:37:25,980
containers or Linux environments you

1064
00:37:25,980 --> 00:37:27,839
just happen to run inside of uh

1065
00:37:27,839 --> 00:37:29,040
containers

1066
00:37:29,040 --> 00:37:29,880
um this doesn't really work

1067
00:37:29,880 --> 00:37:32,400
unfortunately for Windows systems but as

1068
00:37:32,400 --> 00:37:34,500
our recent reports have found is that

1069
00:37:34,500 --> 00:37:36,300
we're looking at like you know 86

1070
00:37:36,300 --> 00:37:37,740
percent of all of the cloud is running

1071
00:37:37,740 --> 00:37:39,960
under Linux so

1072
00:37:39,960 --> 00:37:43,200
Windows sorry Zach apologies but uh when

1073
00:37:43,200 --> 00:37:45,660
you know go away no

1074
00:37:45,660 --> 00:37:48,180
Linux is where it's at

1075
00:37:48,180 --> 00:37:49,859
um all right so ebpf is really cool so

1076
00:37:49,859 --> 00:37:50,940
the information that you can get out of

1077
00:37:50,940 --> 00:37:52,380
this I know um I should have like

1078
00:37:52,380 --> 00:37:54,599
highlighted specific things on here but

1079
00:37:54,599 --> 00:37:56,040
it's cool you get this nice little Json

1080
00:37:56,040 --> 00:37:57,540
format of all this really cool

1081
00:37:57,540 --> 00:37:59,520
information we're going to zero in on a

1082
00:37:59,520 --> 00:38:01,320
couple of those things you can see here

1083
00:38:01,320 --> 00:38:03,240
that uh look at this the origin is

1084
00:38:03,240 --> 00:38:04,680
running from a container

1085
00:38:04,680 --> 00:38:06,660
you actually put this on the host it can

1086
00:38:06,660 --> 00:38:07,859
see everything on the host and it can

1087
00:38:07,859 --> 00:38:09,180
see everything happening in every

1088
00:38:09,180 --> 00:38:11,820
container underneath that host here's

1089
00:38:11,820 --> 00:38:13,740
another example of that particular thing

1090
00:38:13,740 --> 00:38:15,240
cool things you can see uh which node

1091
00:38:15,240 --> 00:38:16,619
it's running on you can see that's

1092
00:38:16,619 --> 00:38:18,240
origin on this one is running host you

1093
00:38:18,240 --> 00:38:20,280
can see that that host is running PS the

1094
00:38:20,280 --> 00:38:22,320
PS command on that particular host

1095
00:38:22,320 --> 00:38:24,359
inside of the container you can see this

1096
00:38:24,359 --> 00:38:25,740
running busy box so that's pretty cool

1097
00:38:25,740 --> 00:38:27,180
now we can actually see which containers

1098
00:38:27,180 --> 00:38:29,460
are doing what uh in that environment

1099
00:38:29,460 --> 00:38:31,320
you also get the nice cool hash values

1100
00:38:31,320 --> 00:38:32,640
all that

1101
00:38:32,640 --> 00:38:34,980
cool thing is here again run that into

1102
00:38:34,980 --> 00:38:37,260
Splunk again you can use whatever tool

1103
00:38:37,260 --> 00:38:38,760
you want to use

1104
00:38:38,760 --> 00:38:41,460
um and uh you can see that everything

1105
00:38:41,460 --> 00:38:42,960
the container is actually using and you

1106
00:38:42,960 --> 00:38:44,160
can see everything the host is using

1107
00:38:44,160 --> 00:38:45,300
underneath that which commands are

1108
00:38:45,300 --> 00:38:47,820
wrenching those particular systems so uh

1109
00:38:47,820 --> 00:38:49,859
the hard part is just installing the

1110
00:38:49,859 --> 00:38:52,320
cbbf tool on your host and then making

1111
00:38:52,320 --> 00:38:55,820
it report back to your particular

1112
00:38:55,820 --> 00:38:57,720
interior I could talk more about that

1113
00:38:57,720 --> 00:38:58,980
we're having a really cool Honeypot

1114
00:38:58,980 --> 00:39:00,720
project that we're working on where we

1115
00:39:00,720 --> 00:39:02,940
go really deep into this and how to map

1116
00:39:02,940 --> 00:39:05,760
all this out but some cool stuff so you

1117
00:39:05,760 --> 00:39:06,780
have questions about how to make that

1118
00:39:06,780 --> 00:39:09,839
work hit me up after this

1119
00:39:09,839 --> 00:39:11,040
I'm gonna talk a little bit about

1120
00:39:11,040 --> 00:39:12,660
commercial tools I'm sorry I'm gonna

1121
00:39:12,660 --> 00:39:13,980
have to because there's some really cool

1122
00:39:13,980 --> 00:39:15,119
things that are out there and I really

1123
00:39:15,119 --> 00:39:16,079
want to highlight some of these things

1124
00:39:16,079 --> 00:39:17,880
this is Palo

1125
00:39:17,880 --> 00:39:19,800
um it's my company so it's just you know

1126
00:39:19,800 --> 00:39:22,200
shout out to my uh provider of my

1127
00:39:22,200 --> 00:39:23,280
paycheck

1128
00:39:23,280 --> 00:39:26,339
um but uh um wildfire threat

1129
00:39:26,339 --> 00:39:29,400
intelligence uh um feed is very very

1130
00:39:29,400 --> 00:39:32,220
impressive unit 42 curates it

1131
00:39:32,220 --> 00:39:34,740
um it's a very impressive uh tool really

1132
00:39:34,740 --> 00:39:36,660
good threat feed

1133
00:39:36,660 --> 00:39:38,820
um if you're using kind of a micro

1134
00:39:38,820 --> 00:39:42,000
segmentation technique like uh like a CN

1135
00:39:42,000 --> 00:39:44,160
series firewall or something I'll get to

1136
00:39:44,160 --> 00:39:46,260
in just a quick second

1137
00:39:46,260 --> 00:39:48,240
um if the Wildfire your thread Intel

1138
00:39:48,240 --> 00:39:49,859
feed feeds right into that that's the

1139
00:39:49,859 --> 00:39:50,700
point that I really want to make

1140
00:39:50,700 --> 00:39:52,500
whatever threat Intel feed you're using

1141
00:39:52,500 --> 00:39:53,700
whether you're using proof coins or

1142
00:39:53,700 --> 00:39:56,099
using whatever whatever containers or

1143
00:39:56,099 --> 00:39:57,900
whatever domains are are being monitored

1144
00:39:57,900 --> 00:39:59,940
by that you can pipe that directly into

1145
00:39:59,940 --> 00:40:04,020
your prod and into that prod host okay

1146
00:40:04,020 --> 00:40:06,359
so all your containers can start

1147
00:40:06,359 --> 00:40:07,920
blocking those domains those malicious

1148
00:40:07,920 --> 00:40:09,540
things right out of the gate pretty

1149
00:40:09,540 --> 00:40:10,980
amazing

1150
00:40:10,980 --> 00:40:13,260
big bonus if you're looking for just

1151
00:40:13,260 --> 00:40:14,880
micro segmentation if you just want to

1152
00:40:14,880 --> 00:40:16,740
go in line if you want to work with

1153
00:40:16,740 --> 00:40:19,140
istio or console or something of that

1154
00:40:19,140 --> 00:40:21,540
nature you can have your uh your

1155
00:40:21,540 --> 00:40:22,920
specific pod running whatever containers

1156
00:40:22,920 --> 00:40:24,359
you want to be running on that running

1157
00:40:24,359 --> 00:40:26,520
specific Services as it's going through

1158
00:40:26,520 --> 00:40:28,920
the proxy have your envelope Envoy proxy

1159
00:40:28,920 --> 00:40:31,619
send that to your particular

1160
00:40:31,619 --> 00:40:33,960
um you know Cloud monitoring agent

1161
00:40:33,960 --> 00:40:36,359
whatever that is in this case just for

1162
00:40:36,359 --> 00:40:39,240
Simplicity using uh compute just because

1163
00:40:39,240 --> 00:40:41,339
you can have compute start monitoring

1164
00:40:41,339 --> 00:40:43,260
those domains those hashes all that

1165
00:40:43,260 --> 00:40:45,300
stuff that's happening and then block

1166
00:40:45,300 --> 00:40:46,560
those things allow them to go through

1167
00:40:46,560 --> 00:40:48,900
redirect them do whatever you want as

1168
00:40:48,900 --> 00:40:49,800
they're moving on to their other

1169
00:40:49,800 --> 00:40:51,599
services across your environment

1170
00:40:51,599 --> 00:40:54,119
pretty cool stuff

1171
00:40:54,119 --> 00:40:56,820
so to recap

1172
00:40:56,820 --> 00:40:59,160
containers are targets as we can see I

1173
00:40:59,160 --> 00:41:01,140
mean there there are very big targets

1174
00:41:01,140 --> 00:41:02,760
there are big big actors that are

1175
00:41:02,760 --> 00:41:04,140
specifically targeting these

1176
00:41:04,140 --> 00:41:05,040
environments and I'm not even talking

1177
00:41:05,040 --> 00:41:06,960
about the big actors right I'm not

1178
00:41:06,960 --> 00:41:08,280
talking about

1179
00:41:08,280 --> 00:41:10,980
um you know apt-29 or 28 Cloud Duke

1180
00:41:10,980 --> 00:41:12,060
malware which is very impressive

1181
00:41:12,060 --> 00:41:15,000
targeting a lot of uh Azure space using

1182
00:41:15,000 --> 00:41:17,060
a lot of azure

1183
00:41:17,060 --> 00:41:19,260
storage blobs and things of nature in

1184
00:41:19,260 --> 00:41:20,940
order to host malware and go through

1185
00:41:20,940 --> 00:41:22,380
that or specifically targeting Google

1186
00:41:22,380 --> 00:41:23,640
creds

1187
00:41:23,640 --> 00:41:26,520
um there's a there's a a new Chinese

1188
00:41:26,520 --> 00:41:30,599
thing is no ap41 targeting specifically

1189
00:41:30,599 --> 00:41:33,599
um Google passwords and credentials um

1190
00:41:33,599 --> 00:41:34,859
so there's specific nation state actors

1191
00:41:34,859 --> 00:41:36,119
that are doing very specifically

1192
00:41:36,119 --> 00:41:39,060
targeted information not just the actors

1193
00:41:39,060 --> 00:41:40,260
groups that we're looking at with Team

1194
00:41:40,260 --> 00:41:42,660
TNT and and and Watchdog which is kind

1195
00:41:42,660 --> 00:41:44,280
of I mean let's be honest they really

1196
00:41:44,280 --> 00:41:45,540
are just kind of like I'll just take as

1197
00:41:45,540 --> 00:41:47,099
many credits as I want and you know I

1198
00:41:47,099 --> 00:41:48,359
don't care who I'm targeting I just want

1199
00:41:48,359 --> 00:41:49,740
information

1200
00:41:49,740 --> 00:41:50,880
um and then they sell it or whatever

1201
00:41:50,880 --> 00:41:52,680
they're doing with it but they're

1202
00:41:52,680 --> 00:41:54,780
gaining access to that cloud that top

1203
00:41:54,780 --> 00:41:57,500
level environment

1204
00:41:57,900 --> 00:42:00,780
there are full spectrum monitoring

1205
00:42:00,780 --> 00:42:02,099
capabilities inside of containers right

1206
00:42:02,099 --> 00:42:03,900
now be that kubernetes dashboards

1207
00:42:03,900 --> 00:42:06,540
Prometheus grafana Jager you can see

1208
00:42:06,540 --> 00:42:08,400
performance capabilities and metrics you

1209
00:42:08,400 --> 00:42:09,780
can be able to see Communications from

1210
00:42:09,780 --> 00:42:11,579
container to container which could be

1211
00:42:11,579 --> 00:42:13,020
helpful if they're lateral movement are

1212
00:42:13,020 --> 00:42:14,460
compromised

1213
00:42:14,460 --> 00:42:17,579
um Kylie is is really impressive and

1214
00:42:17,579 --> 00:42:19,020
it's starting to give you the at the the

1215
00:42:19,020 --> 00:42:20,880
ability to look at those access logs

1216
00:42:20,880 --> 00:42:22,380
within the kubernetes dashboard being

1217
00:42:22,380 --> 00:42:24,420
able to export those out to your

1218
00:42:24,420 --> 00:42:25,859
environment

1219
00:42:25,859 --> 00:42:27,839
um but the key thing that I want to take

1220
00:42:27,839 --> 00:42:30,720
away is that you need to send those logs

1221
00:42:30,720 --> 00:42:32,400
from your containers to some sort of

1222
00:42:32,400 --> 00:42:33,540
centralized environment that we can

1223
00:42:33,540 --> 00:42:34,980
actually start monitoring on because

1224
00:42:34,980 --> 00:42:38,880
we're not doing a super good job on that

1225
00:42:38,880 --> 00:42:42,060
service meshes is a very solid option

1226
00:42:42,060 --> 00:42:43,560
um you know the cool thing is it adds

1227
00:42:43,560 --> 00:42:44,579
encryption it has a lot of security

1228
00:42:44,579 --> 00:42:47,280
things as an organization it's not that

1229
00:42:47,280 --> 00:42:49,560
heavy it sounds complicated the lift is

1230
00:42:49,560 --> 00:42:51,359
actually pretty pretty simple if you

1231
00:42:51,359 --> 00:42:54,420
know how to read yaml you can you can do

1232
00:42:54,420 --> 00:42:56,940
it it's really it's really that hard

1233
00:42:56,940 --> 00:42:58,680
um but then please don't forget uh your

1234
00:42:58,680 --> 00:43:00,060
other cool tools that are out there your

1235
00:43:00,060 --> 00:43:02,160
ebpf tools your micro segmentation

1236
00:43:02,160 --> 00:43:04,260
things don't forget your vendors having

1237
00:43:04,260 --> 00:43:06,420
that cnap capability the ability to see

1238
00:43:06,420 --> 00:43:08,520
things from that container endpoint all

1239
00:43:08,520 --> 00:43:10,020
the way to that cloud platform from the

1240
00:43:10,020 --> 00:43:12,240
very very tippity top will allow you to

1241
00:43:12,240 --> 00:43:14,460
be able to see that migration of actors

1242
00:43:14,460 --> 00:43:17,280
moving from container to cloud back down

1243
00:43:17,280 --> 00:43:18,900
to whatever resource they're looking at

1244
00:43:18,900 --> 00:43:21,599
changing Keys you know like you know

1245
00:43:21,599 --> 00:43:23,160
there's

1246
00:43:23,160 --> 00:43:25,200
thousands of different apis so that they

1247
00:43:25,200 --> 00:43:26,819
could be accessing and if we're only

1248
00:43:26,819 --> 00:43:28,380
looking at containers you know we're

1249
00:43:28,380 --> 00:43:30,359
only going to see one aspect of it if

1250
00:43:30,359 --> 00:43:31,740
we're only looking at the top level

1251
00:43:31,740 --> 00:43:33,000
aspect we're not going to see any of the

1252
00:43:33,000 --> 00:43:36,300
initial compromise so

1253
00:43:36,300 --> 00:43:38,819
there we go so that's it that's uh

1254
00:43:38,819 --> 00:43:40,619
that's my uh my whole talk I think I'm

1255
00:43:40,619 --> 00:43:42,359
doing well on time actually

1256
00:43:42,359 --> 00:43:44,819
um so I think we have any questions uh

1257
00:43:44,819 --> 00:43:46,079
available

1258
00:43:46,079 --> 00:43:48,599
cloud cloud containers service meshes

1259
00:43:48,599 --> 00:43:51,660
anything like that go ahead so uh in

1260
00:43:51,660 --> 00:43:54,900
terms of like AWS API keys do you guys

1261
00:43:54,900 --> 00:43:56,700
have any visibility into like where you

1262
00:43:56,700 --> 00:43:59,040
think maybe those are being stolen from

1263
00:43:59,040 --> 00:44:01,859
or or would you venture a gas unlike any

1264
00:44:01,859 --> 00:44:04,200
Avenues where attackers are getting

1265
00:44:04,200 --> 00:44:06,420
access to those

1266
00:44:06,420 --> 00:44:09,060
um so uh just from the actor groups that

1267
00:44:09,060 --> 00:44:10,319
we've we've been able to see and this is

1268
00:44:10,319 --> 00:44:12,960
includes uh uh nobelium with solarwinds

1269
00:44:12,960 --> 00:44:14,819
is they compromised

1270
00:44:14,819 --> 00:44:17,400
they compromised uh either first start

1271
00:44:17,400 --> 00:44:19,980
with that uh GitHub sort of aspect you

1272
00:44:19,980 --> 00:44:22,440
know take those angles take social media

1273
00:44:22,440 --> 00:44:24,420
um your social Outlets

1274
00:44:24,420 --> 00:44:26,099
um there's a lot of there's always Keys

1275
00:44:26,099 --> 00:44:27,839
even though GitHub is really good about

1276
00:44:27,839 --> 00:44:29,579
like scraping credentials really fast it

1277
00:44:29,579 --> 00:44:30,900
usually takes them about an hour or so

1278
00:44:30,900 --> 00:44:32,819
uh to start

1279
00:44:32,819 --> 00:44:35,339
you know modifying those things

1280
00:44:35,339 --> 00:44:37,260
um so they're always there initial comp

1281
00:44:37,260 --> 00:44:38,280
like

1282
00:44:38,280 --> 00:44:40,020
they're there somewhere I mean it's

1283
00:44:40,020 --> 00:44:42,119
really easy shush uh shush kit is a

1284
00:44:42,119 --> 00:44:43,319
really easy tool that you just basically

1285
00:44:43,319 --> 00:44:45,119
just do an API token into GitHub and you

1286
00:44:45,119 --> 00:44:47,579
can find interesting things

1287
00:44:47,579 --> 00:44:50,640
um lots of Cool Tools in that aspect

1288
00:44:50,640 --> 00:44:53,880
um compromised uh Cloud instances is

1289
00:44:53,880 --> 00:44:56,160
always a really big easy Avenue to get

1290
00:44:56,160 --> 00:44:56,880
to

1291
00:44:56,880 --> 00:45:00,300
um Team TNT is an example Within

1292
00:45:00,300 --> 00:45:02,040
I mean it was just within a few days

1293
00:45:02,040 --> 00:45:04,800
they had over 9 000 you know compromised

1294
00:45:04,800 --> 00:45:07,020
Cloud endpoints and they do that

1295
00:45:07,020 --> 00:45:09,660
specifically by scanning compromising

1296
00:45:09,660 --> 00:45:11,520
gaining Cloud you know tools and they

1297
00:45:11,520 --> 00:45:12,900
sent their tools off they sent their

1298
00:45:12,900 --> 00:45:14,940
creds off to their C2 node you could log

1299
00:45:14,940 --> 00:45:16,740
into the C2 node using their own tool

1300
00:45:16,740 --> 00:45:18,300
and you can see how many and they had

1301
00:45:18,300 --> 00:45:20,760
thousands thousands of cloud identities

1302
00:45:20,760 --> 00:45:22,020
and accounts

1303
00:45:22,020 --> 00:45:23,760
um so we're really at a point right now

1304
00:45:23,760 --> 00:45:26,339
what's really basic that we're just

1305
00:45:26,339 --> 00:45:28,800
storing our credentials in dot AWS

1306
00:45:28,800 --> 00:45:32,280
backslash credentials doubt gcloud

1307
00:45:32,280 --> 00:45:35,099
backslash credentials most of the clouds

1308
00:45:35,099 --> 00:45:37,260
in Cloud exposed clouds instances are

1309
00:45:37,260 --> 00:45:39,780
just stored in those particular places

1310
00:45:39,780 --> 00:45:41,819
if they're not there just reach out to

1311
00:45:41,819 --> 00:45:44,760
metadata API pull down your credentials

1312
00:45:44,760 --> 00:45:47,099
um it's it's really easy go if you want

1313
00:45:47,099 --> 00:45:49,319
to try it go to your own ec2 instance go

1314
00:45:49,319 --> 00:45:52,040
to um

1315
00:45:52,760 --> 00:45:54,900
169.254.169.254 backslash metadata

1316
00:45:54,900 --> 00:45:56,460
backslash credentials look at that you

1317
00:45:56,460 --> 00:45:57,720
got your credential

1318
00:45:57,720 --> 00:45:59,400
um so it's pretty it's pretty it's

1319
00:45:59,400 --> 00:46:00,720
pretty straightforward

1320
00:46:00,720 --> 00:46:03,720
um so unfortunately um

1321
00:46:03,720 --> 00:46:05,220
there's a lot of opportunistic actors

1322
00:46:05,220 --> 00:46:06,720
right now and I kind of go through like

1323
00:46:06,720 --> 00:46:08,640
uh the the business email compromise

1324
00:46:08,640 --> 00:46:10,740
that Greg was talking about

1325
00:46:10,740 --> 00:46:12,660
um really easy to compromise a lot of

1326
00:46:12,660 --> 00:46:13,560
stuff

1327
00:46:13,560 --> 00:46:15,359
um very simply it's not really that hard

1328
00:46:15,359 --> 00:46:16,859
you can use you can just go ahead and go

1329
00:46:16,859 --> 00:46:18,000
to virus so we'll download somebody

1330
00:46:18,000 --> 00:46:20,460
else's script and use it it works um

1331
00:46:20,460 --> 00:46:22,140
it's pretty well just make your own

1332
00:46:22,140 --> 00:46:25,020
wallet and then off you go but uh um

1333
00:46:25,020 --> 00:46:26,700
crypto mining is it's on the decline

1334
00:46:26,700 --> 00:46:29,280
ransomware is picking back up so

1335
00:46:29,280 --> 00:46:30,960
um I'm just waiting for the actors to

1336
00:46:30,960 --> 00:46:31,980
actually start using something else

1337
00:46:31,980 --> 00:46:33,839
other than bash scripts actually start

1338
00:46:33,839 --> 00:46:35,400
using more golang use more Health

1339
00:46:35,400 --> 00:46:38,040
binaries to actually do their work which

1340
00:46:38,040 --> 00:46:39,599
it's it's it's starting it's gonna

1341
00:46:39,599 --> 00:46:41,780
happen

1342
00:46:42,300 --> 00:46:45,140
any other questions

1343
00:46:46,440 --> 00:46:49,140
what what would you like to see in terms

1344
00:46:49,140 --> 00:46:52,260
of functionality so that you have more

1345
00:46:52,260 --> 00:46:55,079
clear oversight of

1346
00:46:55,079 --> 00:46:57,180
the communications that that's occurring

1347
00:46:57,180 --> 00:46:59,640
like what what things do you think could

1348
00:46:59,640 --> 00:47:02,220
make that easier or what

1349
00:47:02,220 --> 00:47:06,300
open source communities might be okay so

1350
00:47:06,300 --> 00:47:09,020
um so repeating the question the the the

1351
00:47:09,020 --> 00:47:11,099
question is how can we make it easier to

1352
00:47:11,099 --> 00:47:13,260
communicate between cloud and security

1353
00:47:13,260 --> 00:47:15,720
tools I think kind of potentially it's

1354
00:47:15,720 --> 00:47:17,760
kind of your question

1355
00:47:17,760 --> 00:47:19,560
um how do you make things easier um I'm

1356
00:47:19,560 --> 00:47:21,240
not gonna like how it is complex and the

1357
00:47:21,240 --> 00:47:22,560
complexity

1358
00:47:22,560 --> 00:47:23,220
um

1359
00:47:23,220 --> 00:47:24,720
makes people some some people very

1360
00:47:24,720 --> 00:47:26,280
nervous about about doing things but

1361
00:47:26,280 --> 00:47:28,380
cloud is 64 of our internet right now

1362
00:47:28,380 --> 00:47:30,599
it's it's an amazing amount of of the

1363
00:47:30,599 --> 00:47:31,740
internet that we actually use on a

1364
00:47:31,740 --> 00:47:33,839
regular basis is cloud

1365
00:47:33,839 --> 00:47:36,240
um we're already there and so uh being

1366
00:47:36,240 --> 00:47:38,819
able to gain education visibility into

1367
00:47:38,819 --> 00:47:40,020
this that's why I hope this talk is a

1368
00:47:40,020 --> 00:47:41,040
little bit helpful because things like

1369
00:47:41,040 --> 00:47:42,960
service meshes are very helpful

1370
00:47:42,960 --> 00:47:44,339
um in organizing compromising these you

1371
00:47:44,339 --> 00:47:45,660
can only see that if you take all of

1372
00:47:45,660 --> 00:47:47,040
those tools together all these service

1373
00:47:47,040 --> 00:47:49,079
meshes together from One Source there's

1374
00:47:49,079 --> 00:47:51,119
basically 10 000 organizations in the

1375
00:47:51,119 --> 00:47:53,339
world that are using these tools and

1376
00:47:53,339 --> 00:47:54,480
they're very helpful they really help

1377
00:47:54,480 --> 00:47:56,400
security they help get the visibility

1378
00:47:56,400 --> 00:47:57,839
into tools so

1379
00:47:57,839 --> 00:47:59,520
um the education being aware of these

1380
00:47:59,520 --> 00:48:01,319
things Cloud actors are compromising

1381
00:48:01,319 --> 00:48:02,700
environments and they are making money

1382
00:48:02,700 --> 00:48:04,140
off of it and they are selling your

1383
00:48:04,140 --> 00:48:06,420
credentials for cloud environments and

1384
00:48:06,420 --> 00:48:08,640
most credentials are administrator

1385
00:48:08,640 --> 00:48:10,079
access which means your entire Cloud

1386
00:48:10,079 --> 00:48:12,660
infrastructure is probably compromised

1387
00:48:12,660 --> 00:48:15,180
um so it's that should be scary and I

1388
00:48:15,180 --> 00:48:16,800
want to be very clear if that should be

1389
00:48:16,800 --> 00:48:18,420
very secure because it scares me

1390
00:48:18,420 --> 00:48:19,680
um and I think that the cloud service

1391
00:48:19,680 --> 00:48:21,960
providers are doing a really good job of

1392
00:48:21,960 --> 00:48:23,579
I really do think that they are doing a

1393
00:48:23,579 --> 00:48:25,200
very good job of trying to educate

1394
00:48:25,200 --> 00:48:28,380
people and what that shared

1395
00:48:28,380 --> 00:48:30,540
responsibility Matrix is what are you

1396
00:48:30,540 --> 00:48:32,400
responsible for what are you what is the

1397
00:48:32,400 --> 00:48:33,619
cloud environment responsible for

1398
00:48:33,619 --> 00:48:37,079
essentially the cloud provider AWS gcp

1399
00:48:37,079 --> 00:48:39,660
Azure is responsible for giving you the

1400
00:48:39,660 --> 00:48:42,359
infrastructure full stop

1401
00:48:42,359 --> 00:48:44,520
you are responsible for IAM you are

1402
00:48:44,520 --> 00:48:46,200
responsible for how your applications

1403
00:48:46,200 --> 00:48:48,060
are configured Zach

1404
00:48:48,060 --> 00:48:51,119
up the compromised things you see like

1405
00:48:51,119 --> 00:48:52,619
can you gauge what percentage of them

1406
00:48:52,619 --> 00:48:54,359
are used directly by the actor who

1407
00:48:54,359 --> 00:48:56,339
compromised versus like the credentials

1408
00:48:56,339 --> 00:48:58,079
are sold or maybe both you know where

1409
00:48:58,079 --> 00:49:00,300
they're kind of double dipping

1410
00:49:00,300 --> 00:49:02,460
um so uh it kind of goes into the uh see

1411
00:49:02,460 --> 00:49:04,319
now visibility is a problem within Cloud

1412
00:49:04,319 --> 00:49:06,599
environments on being able to know that

1413
00:49:06,599 --> 00:49:09,000
um I will uh being able to see in the

1414
00:49:09,000 --> 00:49:10,380
cloud environment and know if a

1415
00:49:10,380 --> 00:49:12,180
credential was used by a specific person

1416
00:49:12,180 --> 00:49:15,240
that was boughten by somebody else or

1417
00:49:15,240 --> 00:49:16,440
not button that's terrible English

1418
00:49:16,440 --> 00:49:18,660
bought by somebody else

1419
00:49:18,660 --> 00:49:20,819
um I don't know if we can see that you

1420
00:49:20,819 --> 00:49:22,500
as an organization would have to have a

1421
00:49:22,500 --> 00:49:24,960
good record of where your identity

1422
00:49:24,960 --> 00:49:26,760
access management policies or your keys

1423
00:49:26,760 --> 00:49:28,560
or your access is coming from and then

1424
00:49:28,560 --> 00:49:30,300
notifying or flagging when something is

1425
00:49:30,300 --> 00:49:31,980
amiss using some sort of anomaly

1426
00:49:31,980 --> 00:49:33,839
detection that a cloud service provider

1427
00:49:33,839 --> 00:49:36,599
uh or that a cloud service posture

1428
00:49:36,599 --> 00:49:40,020
management cspm tool would help could

1429
00:49:40,020 --> 00:49:42,300
could give you insight into

1430
00:49:42,300 --> 00:49:43,079
um

1431
00:49:43,079 --> 00:49:46,740
of like say team TNT Watchdog uh Rock we

1432
00:49:46,740 --> 00:49:48,240
are able to see

1433
00:49:48,240 --> 00:49:50,579
um their tools when they do compromise

1434
00:49:50,579 --> 00:49:52,319
the cloud instance if they are then

1435
00:49:52,319 --> 00:49:54,480
subsequently accessing

1436
00:49:54,480 --> 00:49:56,280
um the larger Cloud environment team TNT

1437
00:49:56,280 --> 00:49:57,960
most certainly is

1438
00:49:57,960 --> 00:50:00,480
um rock we're not terribly sure yet

1439
00:50:00,480 --> 00:50:02,760
Watchdog following suit with Team TNT

1440
00:50:02,760 --> 00:50:04,800
probably is as well so um again

1441
00:50:04,800 --> 00:50:06,839
visibility is a problem again we need to

1442
00:50:06,839 --> 00:50:09,060
make this information more readily

1443
00:50:09,060 --> 00:50:11,180
available

1444
00:50:16,020 --> 00:50:18,119
um but since it

1445
00:50:18,119 --> 00:50:19,920
um if you're doing a service mesh and

1446
00:50:19,920 --> 00:50:21,780
you're able to actually see all the data

1447
00:50:21,780 --> 00:50:23,880
because of the TLs what are the

1448
00:50:23,880 --> 00:50:27,000
ramifications for uh PCI or HIPAA

1449
00:50:27,000 --> 00:50:28,859
compliance on the look access on the log

1450
00:50:28,859 --> 00:50:31,440
for audits good question so the question

1451
00:50:31,440 --> 00:50:33,839
being if you're using uh TLS for

1452
00:50:33,839 --> 00:50:35,700
communication between containers uh how

1453
00:50:35,700 --> 00:50:38,040
do you handle PCI for HIPAA or you know

1454
00:50:38,040 --> 00:50:40,200
compliance for HIPAA or PCI

1455
00:50:40,200 --> 00:50:41,640
um

1456
00:50:41,640 --> 00:50:43,380
inner communication I guess it depends

1457
00:50:43,380 --> 00:50:45,480
on how you uh you know you between you

1458
00:50:45,480 --> 00:50:47,520
and your uh your insurance provider for

1459
00:50:47,520 --> 00:50:49,559
your if it was compromised

1460
00:50:49,559 --> 00:50:50,819
um you are providing doing doing

1461
00:50:50,819 --> 00:50:52,920
diligence by providing encryption in

1462
00:50:52,920 --> 00:50:54,480
into end

1463
00:50:54,480 --> 00:50:56,880
um it is a matter of you recording that

1464
00:50:56,880 --> 00:50:58,920
communication or not um doing best

1465
00:50:58,920 --> 00:51:00,900
practices to say if something was

1466
00:51:00,900 --> 00:51:02,579
compromised how do you pull it down and

1467
00:51:02,579 --> 00:51:04,680
actually know that it was compromised

1468
00:51:04,680 --> 00:51:06,480
um again you have to be using a service

1469
00:51:06,480 --> 00:51:07,859
mesh to begin with

1470
00:51:07,859 --> 00:51:10,319
um that would probably be due diligence

1471
00:51:10,319 --> 00:51:12,300
um on your part

1472
00:51:12,300 --> 00:51:13,800
um but it would be it would it would

1473
00:51:13,800 --> 00:51:17,099
satisfy PCI and HIPAA by having Inc uh

1474
00:51:17,099 --> 00:51:19,800
communication

1475
00:51:19,800 --> 00:51:22,619
and the audit requirements are access to

1476
00:51:22,619 --> 00:51:25,619
the data which now require access to the

1477
00:51:25,619 --> 00:51:28,500
logs right so the logs are stored

1478
00:51:28,500 --> 00:51:30,359
kubernetes does store the logs in their

1479
00:51:30,359 --> 00:51:32,700
analysis logs format which is a which is

1480
00:51:32,700 --> 00:51:34,980
an SCD format

1481
00:51:34,980 --> 00:51:36,599
um

1482
00:51:36,599 --> 00:51:39,180
so it is there it is still it is stored

1483
00:51:39,180 --> 00:51:40,680
and you'll be able to prove that it

1484
00:51:40,680 --> 00:51:42,000
happened and then it was encrypted or

1485
00:51:42,000 --> 00:51:46,160
not encrypted kubernetes will hold back

1486
00:51:46,380 --> 00:51:50,000
or you can pull it off to a third party

1487
00:51:51,059 --> 00:51:54,800
we can maybe do one last question

1488
00:51:58,140 --> 00:52:00,000
cool cool awesome well thank you so much

1489
00:52:00,000 --> 00:52:01,220
for your time appreciate it

1490
00:52:01,220 --> 00:52:08,669
[Applause]

1491
00:52:10,579 --> 00:52:13,260
so we are about to break for lunch

1492
00:52:13,260 --> 00:52:14,400
um real quick

1493
00:52:14,400 --> 00:52:16,319
um before we forget again

1494
00:52:16,319 --> 00:52:18,900
um we we are donating a lot of proceeds

1495
00:52:18,900 --> 00:52:20,339
from today's conference to Silicon flat

1496
00:52:20,339 --> 00:52:21,420
irons if you're not familiar with them

1497
00:52:21,420 --> 00:52:22,980
they're a really cool organization kind

1498
00:52:22,980 --> 00:52:24,480
of based here actually if you're

1499
00:52:24,480 --> 00:52:26,520
wondering why we're in a law school of

1500
00:52:26,520 --> 00:52:27,480
all places

1501
00:52:27,480 --> 00:52:30,599
um it's because uh we got got some help

1502
00:52:30,599 --> 00:52:33,960
from them getting a great venue so um if

1503
00:52:33,960 --> 00:52:35,760
you get any of the swag upstairs or if

1504
00:52:35,760 --> 00:52:38,280
you see any of the various bits and

1505
00:52:38,280 --> 00:52:40,680
pieces of silicon flat irons stuff that

1506
00:52:40,680 --> 00:52:43,440
we spread about please consider

1507
00:52:43,440 --> 00:52:46,859
um donating through the uh PayPal QR

1508
00:52:46,859 --> 00:52:48,660
codes that we've spread out all over the

1509
00:52:48,660 --> 00:52:49,920
place

1510
00:52:49,920 --> 00:52:51,420
um but yeah anyways there's lunch

1511
00:52:51,420 --> 00:52:52,980
upstairs

1512
00:52:52,980 --> 00:52:54,359
um

1513
00:52:54,359 --> 00:52:56,940
but it's Nerfs that's it yeah it's Nerfs

1514
00:52:56,940 --> 00:52:58,559
snarf sandwiches

1515
00:52:58,559 --> 00:53:00,720
um anyways go nuts and we'll be back in

1516
00:53:00,720 --> 00:53:03,680
an hour thanks

