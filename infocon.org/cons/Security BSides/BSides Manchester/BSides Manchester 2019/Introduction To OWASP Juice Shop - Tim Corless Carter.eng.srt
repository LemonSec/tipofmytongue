1
00:00:02,160 --> 00:00:06,300
you

2
00:00:03,529 --> 00:00:07,950
everyone then my name is Tim Cole Carter

3
00:00:06,300 --> 00:00:11,280
and stay hopefully I'm going to give you

4
00:00:07,950 --> 00:00:12,780
any destruction into shop just before we

5
00:00:11,280 --> 00:00:16,680
dive in then a little bit about myself

6
00:00:12,780 --> 00:00:18,150
that's prime so in the corpse

7
00:00:16,680 --> 00:00:20,400
information secured with steam pain so

8
00:00:18,150 --> 00:00:21,990
in Manchester I spent the first part of

9
00:00:20,400 --> 00:00:24,089
my career working as a software engineer

10
00:00:21,990 --> 00:00:26,249
so doing kind of UNIX shell scripts you

11
00:00:24,089 --> 00:00:30,259
saw a bit of Java on C++

12
00:00:26,249 --> 00:00:30,259
until I finally saw the IR moved into

13
00:00:31,940 --> 00:00:40,289
I've done some instant response but most

14
00:00:36,660 --> 00:00:42,419
I would do in ability management say do

15
00:00:40,289 --> 00:00:43,590
what you love and univocally life and

16
00:00:42,420 --> 00:00:45,149
that's pretty true for me to be honest

17
00:00:43,590 --> 00:00:48,090
although I've got to say that because my

18
00:00:45,149 --> 00:00:51,930
boss is somewhat but generally you know

19
00:00:48,090 --> 00:00:54,120
I do enjoy what I do to make a living so

20
00:00:51,930 --> 00:00:56,399
this is my fourth piece at Manchester

21
00:00:54,120 --> 00:01:00,780
I've been every year since 2016 I've got

22
00:00:56,399 --> 00:01:02,280
stickers I'm up top I think a lots of

23
00:01:00,780 --> 00:01:03,780
stickers or something so if anyone's got

24
00:01:02,280 --> 00:01:05,280
a 20-17 stick and I like to give me a

25
00:01:03,780 --> 00:01:06,630
sound leave then please let me have a

26
00:01:05,280 --> 00:01:07,740
look outside but there isn't one so if

27
00:01:06,630 --> 00:01:12,449
anyone's got one then please do let me

28
00:01:07,740 --> 00:01:13,770
know so please go easy on me if you've

29
00:01:12,450 --> 00:01:22,080
got any fruits to throw anything then

30
00:01:13,770 --> 00:01:24,000
save it for tracks 1 & 2 look at me I'm

31
00:01:22,080 --> 00:01:24,870
a great the idea is more to say you know

32
00:01:24,000 --> 00:01:26,070
these are some of the sorts of things

33
00:01:24,870 --> 00:01:27,750
you might want to do if you want to go

34
00:01:26,070 --> 00:01:29,759
down the vulnerability of NSS to

35
00:01:27,750 --> 00:01:31,290
interrupt so remember when I do my own

36
00:01:29,760 --> 00:01:34,140
CP it was around about the time of

37
00:01:31,290 --> 00:01:35,820
b-sides 2016 now I'm attracting to a guy

38
00:01:34,140 --> 00:01:37,650
who already had his I got some good

39
00:01:35,820 --> 00:01:38,759
hints and tips and advice from him so by

40
00:01:37,650 --> 00:01:40,800
all means if any of you are currently

41
00:01:38,760 --> 00:01:42,630
studying for any of these or thinking

42
00:01:40,800 --> 00:01:44,369
about it have any questions or travel

43
00:01:42,630 --> 00:01:45,570
and you know feel free to grab me at

44
00:01:44,370 --> 00:01:49,290
some point for a day and asking

45
00:01:45,570 --> 00:01:51,479
questions of yourself where I am okay so

46
00:01:49,290 --> 00:01:54,030
this is an introduction then so just

47
00:01:51,480 --> 00:01:56,040
explain a wasp and juice apart so what

48
00:01:54,030 --> 00:01:58,860
are the open web application security

49
00:01:56,040 --> 00:02:00,720
project the state mission is to make the

50
00:01:58,860 --> 00:02:03,060
internet more secure so they do that

51
00:02:00,720 --> 00:02:05,070
through a number of ways for the OWASP

52
00:02:03,060 --> 00:02:07,080
top 10 which i've not got a slide on but

53
00:02:05,070 --> 00:02:09,209
it sort of ties in quite heavily with

54
00:02:07,080 --> 00:02:10,829
similar stuff you see in juice shop they

55
00:02:09,209 --> 00:02:12,540
also provide some tools so there's at

56
00:02:10,830 --> 00:02:14,210
attack proxy you can use for some other

57
00:02:12,540 --> 00:02:16,340
stuff about to do and book-balancing

58
00:02:14,210 --> 00:02:18,380
things like that and then specifically

59
00:02:16,340 --> 00:02:19,910
for any bug bounty hunters is a maths

60
00:02:18,380 --> 00:02:25,070
which is a really great tool that can

61
00:02:19,910 --> 00:02:26,390
make bug bounty a lot easier chapter so

62
00:02:25,070 --> 00:02:28,430
I went to every West Manchester event a

63
00:02:26,390 --> 00:02:29,690
couple weeks ago which was a secure code

64
00:02:28,430 --> 00:02:32,780
where we think oh it's by the BBC

65
00:02:29,690 --> 00:02:34,040
there's a really good night now so in

66
00:02:32,780 --> 00:02:36,110
terms of - shotgun

67
00:02:34,040 --> 00:02:37,850
so juice shop is an intentionally

68
00:02:36,110 --> 00:02:40,160
vulnerable web app so the idea is to

69
00:02:37,850 --> 00:02:41,960
sort of developers do of the ways where

70
00:02:40,160 --> 00:02:44,150
they going wrong and doing bad things

71
00:02:41,960 --> 00:02:46,070
you can also use it for sort of senior

72
00:02:44,150 --> 00:02:46,820
managers and stakeholders to show them

73
00:02:46,070 --> 00:02:48,079
the effects of some of the

74
00:02:46,820 --> 00:02:49,549
vulnerabilities you find in modern web

75
00:02:48,080 --> 00:02:52,790
apps and just how much access checking

76
00:02:49,550 --> 00:02:54,590
game if you're starting out then you can

77
00:02:52,790 --> 00:02:56,450
use an individually to test yourself

78
00:02:54,590 --> 00:02:57,770
against some of the challenges to see if

79
00:02:56,450 --> 00:02:59,600
you can hack them and learn basic new

80
00:02:57,770 --> 00:03:01,760
skills and then if you run it for a

81
00:02:59,600 --> 00:03:08,900
meet-up you can run in a capture fight

82
00:03:01,760 --> 00:03:10,820
mode before we in 2019 on the other

83
00:03:08,900 --> 00:03:13,520
disclaimer now I've got two disclaimers

84
00:03:10,820 --> 00:03:15,709
for you so number one is spoilers so

85
00:03:13,520 --> 00:03:17,090
that's just that you know it's an

86
00:03:15,710 --> 00:03:17,540
individual challenge you can do it

87
00:03:17,090 --> 00:03:19,160
yourself

88
00:03:17,540 --> 00:03:20,750
now when I'm doing stuff like that I

89
00:03:19,160 --> 00:03:24,790
don't like so half the answer spoil for

90
00:03:20,750 --> 00:03:24,790
me so I never read the walkthrough so if

91
00:03:29,770 --> 00:03:32,819
[Music]

92
00:03:39,100 --> 00:03:43,400
you don't do them on systems your own

93
00:03:41,390 --> 00:03:44,959
this recovering permission to test

94
00:03:43,400 --> 00:03:49,030
otherwise you might begin to visit from

95
00:03:44,960 --> 00:03:51,740
these guys on a Monday morning okay

96
00:03:49,030 --> 00:03:54,520
so it's plates I've got a live demo so

97
00:03:51,740 --> 00:04:03,850
I'm not about to make a fool of myself

98
00:03:54,520 --> 00:04:03,850
safe confirm of the end right

99
00:04:11,010 --> 00:04:16,060
so why is a VM ruining college so for

100
00:04:14,439 --> 00:04:17,560
anyone that might not be aware it's a

101
00:04:16,060 --> 00:04:19,570
version of Linux it contains pretty much

102
00:04:17,560 --> 00:04:20,798
every pen testing tool known to man it's

103
00:04:19,570 --> 00:04:21,940
going to use by pen testers on their

104
00:04:20,798 --> 00:04:23,948
engagements where they go and try and

105
00:04:21,940 --> 00:04:25,690
hack things I can use it for bug bounty

106
00:04:23,949 --> 00:04:31,150
or challenges like juice shop and if I

107
00:04:25,690 --> 00:04:32,860
like that so when you run it look quite

108
00:04:31,150 --> 00:04:37,599
like this you download it as a node.js

109
00:04:32,860 --> 00:04:40,479
application then you with NPM 3000 which

110
00:04:37,600 --> 00:04:42,400
can go visit it on there we go now

111
00:04:40,479 --> 00:04:43,599
whenever I'm hacking or doing any

112
00:04:42,400 --> 00:04:45,460
challenges like this I have various

113
00:04:43,600 --> 00:04:47,199
rules of thumb the first one is whenever

114
00:04:45,460 --> 00:04:48,849
I find a web application are a couple

115
00:04:47,199 --> 00:04:51,760
tool against it called herb and der

116
00:04:48,850 --> 00:04:54,780
search so if you verify over a couple

117
00:04:51,760 --> 00:04:54,780
terminal windows to do that

118
00:04:54,870 --> 00:05:01,620
another commands and I'll explain what

119
00:04:57,490 --> 00:05:04,120
these do the hell dot 0 dot 2.15 3000

120
00:05:01,620 --> 00:05:12,639
matter fact I always get a syntax wrong

121
00:05:04,120 --> 00:05:14,110
sort of bear with me so David search

122
00:05:12,639 --> 00:05:16,270
take a word license and try everything

123
00:05:14,110 --> 00:05:18,430
that word list against the first slash

124
00:05:16,270 --> 00:05:20,080
of the web application the idea is to

125
00:05:18,430 --> 00:05:21,669
find anyway the developer might have

126
00:05:20,080 --> 00:05:23,229
left any files lying around in the web

127
00:05:21,669 --> 00:05:24,820
directory or anything that generally

128
00:05:23,229 --> 00:05:26,320
just shouldn't be there now they're

129
00:05:24,820 --> 00:05:27,520
gonna take a little while to run so

130
00:05:26,320 --> 00:05:29,250
while they're running we're going to go

131
00:05:27,520 --> 00:05:32,380
and enumerate the web application

132
00:05:29,250 --> 00:05:33,699
so by enumerate it's just kind of a sake

133
00:05:32,380 --> 00:05:35,469
depends FC tool for just looking around

134
00:05:33,699 --> 00:05:36,430
try and understand it whenever you're

135
00:05:35,470 --> 00:05:37,750
doing anything like this you should

136
00:05:36,430 --> 00:05:38,979
always go and figure out how it works or

137
00:05:37,750 --> 00:05:40,660
JIT remotely and how it's supposed to

138
00:05:38,979 --> 00:05:42,010
work before you try and hack it because

139
00:05:40,660 --> 00:05:43,210
I think just if you know something's

140
00:05:42,010 --> 00:05:44,289
supposed to work then you can see what

141
00:05:43,210 --> 00:05:46,000
it's not working as expected

142
00:05:44,289 --> 00:05:49,539
and see if you can find anything any

143
00:05:46,000 --> 00:05:51,250
gaps any security issues so first

144
00:05:49,539 --> 00:05:54,280
content to shop works just like any

145
00:05:51,250 --> 00:05:56,050
other sort of normal website there's a

146
00:05:54,280 --> 00:05:58,719
list of products you can see if you

147
00:05:56,050 --> 00:05:59,949
click on one it tells you what the

148
00:05:58,720 --> 00:06:02,169
product is it gives his prize

149
00:05:59,949 --> 00:06:04,479
description and also some feedback so

150
00:06:02,169 --> 00:06:06,250
straight away my hockey fight sensitive

151
00:06:04,479 --> 00:06:08,440
thing because you can see that there's

152
00:06:06,250 --> 00:06:10,750
YouTube so I might wanna come back later

153
00:06:08,440 --> 00:06:12,789
and testify my SQL injection I'll cross

154
00:06:10,750 --> 00:06:14,110
my script in any of those the other

155
00:06:12,789 --> 00:06:15,099
thing that Springs out through that is

156
00:06:14,110 --> 00:06:17,110
you can see some of these left to

157
00:06:15,099 --> 00:06:18,520
comment but it looks like by leaving a

158
00:06:17,110 --> 00:06:20,409
comment they've left their username you

159
00:06:18,520 --> 00:06:21,430
can see it's an admin username so again

160
00:06:20,409 --> 00:06:22,780
you put that in the back for later

161
00:06:21,430 --> 00:06:24,520
because then you might be able to

162
00:06:22,780 --> 00:06:27,130
brute force rlogin is a I'll do

163
00:06:24,520 --> 00:06:28,570
something interesting with it so if it

164
00:06:27,130 --> 00:06:32,770
points up and have a look at a couple of

165
00:06:28,570 --> 00:06:36,849
others so again just a couple of little

166
00:06:32,770 --> 00:06:40,390
comments these are fairly similar euro

167
00:06:36,850 --> 00:06:42,390
fresh shot replicated and cool also in

168
00:06:40,390 --> 00:06:45,340
to shop so you've got a login page

169
00:06:42,390 --> 00:06:47,050
jubilee so you can go on a hog in manage

170
00:06:45,340 --> 00:06:50,880
your profile and track your orders and a

171
00:06:47,050 --> 00:06:53,530
lot of things there is a Contact Us page

172
00:06:50,880 --> 00:06:55,480
regularly you've got some a feedback so

173
00:06:53,530 --> 00:06:56,830
again lots of user input that again I'm

174
00:06:55,480 --> 00:06:59,230
thinking SQL injection cross-site

175
00:06:56,830 --> 00:07:01,330
scripting you can see there's a ratings

176
00:06:59,230 --> 00:07:02,500
mechanism so it's a CAPTCHA thing which

177
00:07:01,330 --> 00:07:05,080
is interesting we can go see if we

178
00:07:02,500 --> 00:07:06,669
bypass that later so the system then is

179
00:07:05,080 --> 00:07:08,140
capture setting here which isn't quite

180
00:07:06,669 --> 00:07:10,150
working at the moment and probably

181
00:07:08,140 --> 00:07:11,260
because we're running did the search in

182
00:07:10,150 --> 00:07:13,979
the background it's just hammering it's

183
00:07:11,260 --> 00:07:15,969
probably take you too much resources

184
00:07:13,980 --> 00:07:17,200
language if you up to I'm not going to

185
00:07:15,970 --> 00:07:21,580
do that except for development we ought

186
00:07:17,200 --> 00:07:24,520
to get back to our need to be so search

187
00:07:21,580 --> 00:07:26,409
bar notorious for common vulnerabilities

188
00:07:24,520 --> 00:07:28,060
like cross-site scripting tests and so

189
00:07:26,410 --> 00:07:30,490
SQL injection so I'm going to combat

190
00:07:28,060 --> 00:07:32,890
start and have a look later and then

191
00:07:30,490 --> 00:07:34,600
find about was page so the thing that

192
00:07:32,890 --> 00:07:37,210
springs are three votes that is it's

193
00:07:34,600 --> 00:07:38,440
just got a standard lasting sex so if

194
00:07:37,210 --> 00:07:39,760
the developer has been lazy enough to

195
00:07:38,440 --> 00:07:42,280
not report any proper comes in there

196
00:07:39,760 --> 00:07:44,080
what other corners have been cut the

197
00:07:42,280 --> 00:07:46,510
other interesting on this page is all

198
00:07:44,080 --> 00:07:47,890
this feedback here so you can see the

199
00:07:46,510 --> 00:07:49,960
steroids in the comments that sort of

200
00:07:47,890 --> 00:07:51,490
map spiked to contact us page so can i

201
00:07:49,960 --> 00:07:53,500
abused in any way to make something from

202
00:07:51,490 --> 00:07:57,669
the contact us page properly and do

203
00:07:53,500 --> 00:08:00,910
anything interesting that's just so you

204
00:07:57,669 --> 00:08:02,770
can call the project if you want to so

205
00:08:00,910 --> 00:08:06,850
with the web application you raise it

206
00:08:02,770 --> 00:08:08,140
more go back under search now on they

207
00:08:06,850 --> 00:08:11,130
are still running so what I'm going to

208
00:08:08,140 --> 00:08:15,940
do is I'm going to cancel them both

209
00:08:11,130 --> 00:08:19,469
they're with me Peter style I've got a

210
00:08:15,940 --> 00:08:21,729
coupon prepared earlier so for my notes

211
00:08:19,470 --> 00:08:22,930
on this is whatever you doing anything

212
00:08:21,729 --> 00:08:25,150
like this you should always take very

213
00:08:22,930 --> 00:08:26,770
detailed notes so I need to keep note

214
00:08:25,150 --> 00:08:28,659
where you can see in the top left there

215
00:08:26,770 --> 00:08:30,130
I've got sort of a methodology so I know

216
00:08:28,660 --> 00:08:31,510
what tools to run talking the final

217
00:08:30,130 --> 00:08:33,039
information it's

218
00:08:31,510 --> 00:08:34,689
if you're doing this as a pen test

219
00:08:33,039 --> 00:08:35,740
ultimately on you do pen stuff you're

220
00:08:34,690 --> 00:08:37,360
getting paid for the report at the end

221
00:08:35,740 --> 00:08:39,130
send y'all have I screenshots on

222
00:08:37,360 --> 00:08:40,210
methodology all this stuff stored if

223
00:08:39,130 --> 00:08:41,860
you're down for book balance the same

224
00:08:40,210 --> 00:08:43,900
thing you've got a report later to show

225
00:08:41,860 --> 00:08:45,430
people again if you're doing it for

226
00:08:43,900 --> 00:08:48,220
yourself you just remember how you've

227
00:08:45,430 --> 00:08:49,900
done it and you can see it later on so

228
00:08:48,220 --> 00:08:51,370
looking at Derb then the one that

229
00:08:49,900 --> 00:08:54,160
springs up from there is slash

230
00:08:51,370 --> 00:08:57,040
robots.txt so in case you're not aware

231
00:08:54,160 --> 00:08:58,780
robots.txt is a directory if you put in

232
00:08:57,040 --> 00:09:00,280
the web root of your directory to stop

233
00:08:58,780 --> 00:09:03,160
search engines like Google and Bing

234
00:09:00,280 --> 00:09:06,579
ultra Vista if Alta Vista still exists

235
00:09:03,160 --> 00:09:08,860
from indexing directories in your web

236
00:09:06,580 --> 00:09:10,390
application so I can manually go on

237
00:09:08,860 --> 00:09:13,810
ignore those two green things I'll

238
00:09:10,390 --> 00:09:16,180
explain or there are a minute this

239
00:09:13,810 --> 00:09:17,890
robots.txt and straight away you can see

240
00:09:16,180 --> 00:09:20,319
the developers disallowed you from

241
00:09:17,890 --> 00:09:21,760
visiting the FTP directory so you know

242
00:09:20,320 --> 00:09:23,920
that to me that's like a red rag to a

243
00:09:21,760 --> 00:09:30,550
bull the search engine from viewing it

244
00:09:23,920 --> 00:09:32,650
why so I'm gonna go on a visitor so

245
00:09:30,550 --> 00:09:33,939
there we go by visit a few directory you

246
00:09:32,650 --> 00:09:35,410
can see is left a bunch of stuff lying

247
00:09:33,940 --> 00:09:37,450
around and the one that immediately

248
00:09:35,410 --> 00:09:40,449
jumps out to me that is acquisitions to

249
00:09:37,450 --> 00:09:42,460
MD so MD is a markdown document format

250
00:09:40,450 --> 00:09:43,930
so it's kind of similar to HTML and it's

251
00:09:42,460 --> 00:09:45,730
a flat file and you specify various

252
00:09:43,930 --> 00:09:47,199
markup commands then when you open up

253
00:09:45,730 --> 00:09:49,120
open a web browser it sort of makes it

254
00:09:47,200 --> 00:10:00,550
pretty readable so if we have a look

255
00:09:49,120 --> 00:10:01,870
inside that top you can see it says this

256
00:10:00,550 --> 00:10:04,089
document is confidential doing on this

257
00:10:01,870 --> 00:10:05,230
route so it begs the question why I left

258
00:10:04,090 --> 00:10:07,420
it lying around in the web root

259
00:10:05,230 --> 00:10:09,670
directory so if you read into the

260
00:10:07,420 --> 00:10:10,900
document it says some stuff about we

261
00:10:09,670 --> 00:10:13,089
plan to require several competitors

262
00:10:10,900 --> 00:10:15,430
which I guess if this was a PLC is

263
00:10:13,090 --> 00:10:16,920
probably share price impacting so the

264
00:10:15,430 --> 00:10:21,609
entire infrastructure is getting sucked

265
00:10:16,920 --> 00:10:26,589
so if it's that one so nice things about

266
00:10:21,610 --> 00:10:30,100
you shop when I go back there don't let

267
00:10:26,590 --> 00:10:33,640
me down when this loads in a second

268
00:10:30,100 --> 00:10:34,900
you can see these green bars do pops up

269
00:10:33,640 --> 00:10:36,340
little notifications on you and

270
00:10:34,900 --> 00:10:38,140
yourselves a challenge so you can see if

271
00:10:36,340 --> 00:10:39,790
one is you have successfully access to

272
00:10:38,140 --> 00:10:42,340
confidential document which is taking an

273
00:10:39,790 --> 00:10:43,839
FTP directory the two from earlier right

274
00:10:42,340 --> 00:10:44,769
ignore them was because I'm running

275
00:10:43,840 --> 00:10:45,999
Durbin

276
00:10:44,769 --> 00:10:47,319
the background there's just a lot of

277
00:10:45,999 --> 00:10:48,339
generates and areas in the background

278
00:10:47,319 --> 00:10:54,009
and that we solved a couple other

279
00:10:48,339 --> 00:10:58,360
challenges by default okay so back to

280
00:10:54,009 --> 00:10:59,529
the output from Durbin searcher so if

281
00:10:58,360 --> 00:11:00,850
you have a good day search one that

282
00:10:59,529 --> 00:11:03,429
immediately springs out to me that it's

283
00:11:00,850 --> 00:11:06,189
a dot well-known security dot txt so

284
00:11:03,429 --> 00:11:07,929
similar to robots dot txt security stops

285
00:11:06,189 --> 00:11:14,559
exe is a fairly new thing in comparison

286
00:11:07,929 --> 00:11:16,029
so I can't sidebar people watching this

287
00:11:14,559 --> 00:11:17,709
is a fairly new thing in comparison the

288
00:11:16,029 --> 00:11:19,720
idea is to file security researchers

289
00:11:17,709 --> 00:11:21,160
wire to go if they find vulnerabilities

290
00:11:19,720 --> 00:11:22,929
so anything wrong with your web

291
00:11:21,160 --> 00:11:24,819
application you think that like an email

292
00:11:22,929 --> 00:11:26,379
address to say some details here and

293
00:11:24,819 --> 00:11:28,139
except in this case it's although it's

294
00:11:26,379 --> 00:11:33,819
notice of the presence this scoreboard

295
00:11:28,139 --> 00:11:40,689
so as before I'm going to copy that at

296
00:11:33,819 --> 00:11:43,779
the end for do shop now this one always

297
00:11:40,689 --> 00:11:48,998
I have no idea why so while we're in any

298
00:11:43,779 --> 00:11:53,170
questions this point I should say the

299
00:11:48,999 --> 00:11:54,399
paths to before walkthroughs before I

300
00:11:53,170 --> 00:11:55,719
came in here to have a quickly through

301
00:11:54,399 --> 00:11:56,939
the walkthrough just to make sure what

302
00:11:55,720 --> 00:11:59,439
the saying wasn't a load of rubbish

303
00:11:56,939 --> 00:12:01,089
actually the way they solve through two

304
00:11:59,439 --> 00:12:02,559
previous strategies they're confidential

305
00:12:01,089 --> 00:12:04,299
document and school world one is

306
00:12:02,559 --> 00:12:05,829
slightly different so they do it through

307
00:12:04,299 --> 00:12:08,619
reading through some JavaScript files

308
00:12:05,829 --> 00:12:10,748
I'm showing we're showing certain

309
00:12:08,619 --> 00:12:12,490
endpoints it does also say in the

310
00:12:10,749 --> 00:12:14,079
official guide though feel free to use

311
00:12:12,490 --> 00:12:15,490
County and I've read some other tools in

312
00:12:14,079 --> 00:12:18,040
that which I guess it's just what we've

313
00:12:15,490 --> 00:12:19,149
done and you know whatever works so

314
00:12:18,040 --> 00:12:20,769
again you can see you've got a nice

315
00:12:19,149 --> 00:12:22,269
little pop up no idea why it's done it

316
00:12:20,769 --> 00:12:24,850
twice just tell me I found the

317
00:12:22,269 --> 00:12:26,709
scoreboard page so the scoreboard page

318
00:12:24,850 --> 00:12:28,299
is where you come to find details of the

319
00:12:26,709 --> 00:12:30,368
rest of the challenges that exist in jus

320
00:12:28,299 --> 00:12:33,089
shop and you've got various levels

321
00:12:30,369 --> 00:12:34,240
ranging from trivial easy medium

322
00:12:33,089 --> 00:12:36,879
diabolical

323
00:12:34,240 --> 00:12:38,619
I think might be very helpful if you do

324
00:12:36,879 --> 00:12:40,360
get stuck you can hover over them and it

325
00:12:38,619 --> 00:12:42,100
gives you a bit then I decide there is a

326
00:12:40,360 --> 00:12:44,110
walk through the one that makes me off

327
00:12:42,100 --> 00:12:45,519
on here is find the carefully hidden

328
00:12:44,110 --> 00:12:47,199
score web page which is on the

329
00:12:45,519 --> 00:12:52,389
scoreboard page so I guess it's kind of

330
00:12:47,199 --> 00:12:55,419
like a recursive anything so the next

331
00:12:52,389 --> 00:12:58,020
one I want to show you I think it's one

332
00:12:55,419 --> 00:13:00,520
of the easy ones

333
00:12:58,020 --> 00:13:03,430
hey it's a login with the administrators

334
00:13:00,520 --> 00:13:08,140
account so I'm going to leave this tap

335
00:13:03,430 --> 00:13:12,969
open so I can refer back to it later and

336
00:13:08,140 --> 00:13:15,490
open a new tab sorry sorry did I

337
00:13:12,970 --> 00:13:17,920
enumeration there's a login page icon to

338
00:13:15,490 --> 00:13:19,930
the login page and we also saw we think

339
00:13:17,920 --> 00:13:32,410
we've got a valid user name so we had

340
00:13:19,930 --> 00:13:35,739
the admin that you siphoned sure try it

341
00:13:32,410 --> 00:13:38,020
doesn't work so what are the reasons

342
00:13:35,740 --> 00:13:39,520
sorry that was a bit awesome is they

343
00:13:38,020 --> 00:13:42,459
provide a bunch of resources they

344
00:13:39,520 --> 00:13:44,380
provide prevention sheets and evasion

345
00:13:42,459 --> 00:13:45,699
cheat sheets so there's an escalation

346
00:13:44,380 --> 00:13:48,310
teacher which contains all those

347
00:13:45,700 --> 00:13:49,630
vascular infection payloads so what we

348
00:13:48,310 --> 00:13:51,430
do now is going to take one straight

349
00:13:49,630 --> 00:13:52,330
from that playbook the idea of that by

350
00:13:51,430 --> 00:13:54,370
the way they're not encouraging people

351
00:13:52,330 --> 00:13:56,260
to act the idea of it is if they tell

352
00:13:54,370 --> 00:13:57,640
you how it worked then you've got a

353
00:13:56,260 --> 00:14:03,089
better chance of writing code to defend

354
00:13:57,640 --> 00:14:06,339
against it so by the way I should say

355
00:14:03,089 --> 00:14:07,870
another sequel and I guess it's just a

356
00:14:06,339 --> 00:14:09,700
personal preference thing so I always

357
00:14:07,870 --> 00:14:11,740
say SQL I except in one instance which

358
00:14:09,700 --> 00:14:36,970
is if you thought the film about the man

359
00:14:11,740 --> 00:14:42,130
that fixes databases was good just email

360
00:14:36,970 --> 00:14:44,020
me shop password is equal to whatever if

361
00:14:42,130 --> 00:14:46,270
that returns one then it seemed that

362
00:14:44,020 --> 00:14:48,189
survived again it's average user so let

363
00:14:46,270 --> 00:14:49,689
your login to the application so we're

364
00:14:48,190 --> 00:14:52,660
going to subvert our now fired in this

365
00:14:49,690 --> 00:14:54,760
SQL injection field so we've changed now

366
00:14:52,660 --> 00:14:56,589
to something like select staff we users

367
00:14:54,760 --> 00:15:00,100
where I mean who I user is equal to AB

368
00:14:56,589 --> 00:15:02,140
juice - showed up at the apostrophe two

369
00:15:00,100 --> 00:15:04,089
colors a username bit or one equals one

370
00:15:02,140 --> 00:15:06,189
so nice 11 in some sort of weird

371
00:15:04,089 --> 00:15:08,110
parallel dimension one way is equal one

372
00:15:06,190 --> 00:15:10,990
value eight so true

373
00:15:08,110 --> 00:15:12,130
and - - comments out the rest of it so

374
00:15:10,990 --> 00:15:14,130
at this point it doesn't matter what you

375
00:15:12,130 --> 00:15:15,670
specify for the password you can add

376
00:15:14,130 --> 00:15:17,500
supercalifragilistic so I don't show you

377
00:15:15,670 --> 00:15:19,540
what matter it's gonna log in because

378
00:15:17,500 --> 00:15:22,720
it's ignoring the rest of the query so

379
00:15:19,540 --> 00:15:24,130
if I hit login you can see it so if you

380
00:15:22,720 --> 00:15:27,370
successfully solve the challenge log in

381
00:15:24,130 --> 00:15:29,980
as the admin you can EE very in a second

382
00:15:27,370 --> 00:15:32,350
when it loads so I can go and see the

383
00:15:29,980 --> 00:15:34,030
admins profile now I can change their

384
00:15:32,350 --> 00:15:35,350
profile picture if you want to I could

385
00:15:34,030 --> 00:15:36,699
go on change password there's all sorts

386
00:15:35,350 --> 00:15:37,720
of stuff I could do I'm not going to do

387
00:15:36,700 --> 00:15:39,760
that because I'd mess up future

388
00:15:37,720 --> 00:15:44,440
challenges but it's there for you if you

389
00:15:39,760 --> 00:15:50,710
need to okay so the next one I wanna

390
00:15:44,440 --> 00:15:56,470
show you was there was a devastating

391
00:15:50,710 --> 00:15:59,650
zero stop feedback to the store you can

392
00:15:56,470 --> 00:16:03,570
give feedback and what I'm gonna do now

393
00:15:59,650 --> 00:16:03,569
so if I just type in the zero feedback

394
00:16:04,560 --> 00:16:14,800
if I get this wrong the correct answer

395
00:16:07,240 --> 00:16:18,340
so 8 minus 26000 so it's gonna be 60 is

396
00:16:14,800 --> 00:16:20,829
length so they won't like me because I'm

397
00:16:18,340 --> 00:16:22,720
not specified to start with rating so if

398
00:16:20,830 --> 00:16:24,610
I give a star rating then something

399
00:16:22,720 --> 00:16:28,630
becomes available but the task is to

400
00:16:24,610 --> 00:16:30,160
submit a 0 star feedback back to 0 it

401
00:16:28,630 --> 00:16:32,560
wrong at me I can move back to 1 I can

402
00:16:30,160 --> 00:16:39,520
be about 220 all at me if I hit submit

403
00:16:32,560 --> 00:16:42,520
wrong answer to capture if you refresh

404
00:16:39,520 --> 00:16:49,780
you get another country like 1 + 6 cents

405
00:16:42,520 --> 00:16:51,550
out 61 is that great 60 or 70 ok so

406
00:16:49,780 --> 00:16:52,990
again you know let me submit it because

407
00:16:51,550 --> 00:16:55,060
I'm not specified to start waiting

408
00:16:52,990 --> 00:16:58,540
so if I feel like generous and give them

409
00:16:55,060 --> 00:17:00,099
the 5 and hit submit you can see thank

410
00:16:58,540 --> 00:17:02,530
you for your feedback and your 5-star

411
00:17:00,100 --> 00:17:03,880
rating our mission was submit as a our

412
00:17:02,530 --> 00:17:07,839
feedback starts not going to cut it

413
00:17:03,880 --> 00:17:08,890
survive 12 an open fire book I used to

414
00:17:07,839 --> 00:17:10,419
be caught fire book I think it's called

415
00:17:08,890 --> 00:17:11,860
something else now but you know old

416
00:17:10,420 --> 00:17:14,290
habits die hard or whatever

417
00:17:11,859 --> 00:17:16,419
what a great teachers tool is I talked

418
00:17:14,290 --> 00:17:19,730
other networks up well might have to

419
00:17:16,420 --> 00:17:22,100
resubmit that so I can see it cool

420
00:17:19,730 --> 00:17:26,899
I might have to do another one just

421
00:17:22,099 --> 00:17:37,610
comes up enough 3 - 3 - 1 is going might

422
00:17:26,898 --> 00:17:39,049
as well I think so you can see that when

423
00:17:37,610 --> 00:17:39,979
I submitted this found the parameters

424
00:17:39,049 --> 00:17:41,779
you can see everything that I've

425
00:17:39,980 --> 00:17:44,179
submitted that sort of thing I can see

426
00:17:41,779 --> 00:17:46,039
it as a success so there's also another

427
00:17:44,179 --> 00:17:48,889
great tool in fight book called edit any

428
00:17:46,039 --> 00:17:51,710
reset so if I right-click and do edit in

429
00:17:48,889 --> 00:17:54,379
recent you can see it pops up a window

430
00:17:51,710 --> 00:17:56,059
where I can change the parameters and

431
00:17:54,380 --> 00:17:58,159
it's as simple as I give them the 5-star

432
00:17:56,059 --> 00:18:00,230
rates and that suffice I'm sorry in the

433
00:17:58,159 --> 00:18:03,700
waiver so if I change out the 5 to va0

434
00:18:00,230 --> 00:18:03,700
and hit submit

435
00:18:04,389 --> 00:18:08,559
let's go back to the top I'm a

436
00:18:06,289 --> 00:18:10,129
completely new way of felt sorry side

437
00:18:08,559 --> 00:18:11,870
part hit Send

438
00:18:10,130 --> 00:18:13,220
so you can see it tells me I've

439
00:18:11,870 --> 00:18:16,340
submitted a devastating feedback to

440
00:18:13,220 --> 00:18:19,429
score I can doubly verify that so if I

441
00:18:16,340 --> 00:18:20,539
click on this again I go to response you

442
00:18:19,429 --> 00:18:23,419
can see it's give me a response for

443
00:18:20,539 --> 00:18:25,070
success I'm true and then I can doubly

444
00:18:23,419 --> 00:18:32,570
verify that or Tripoli very far away

445
00:18:25,070 --> 00:18:35,178
from up see this is where it's gonna

446
00:18:32,570 --> 00:18:39,610
start not only you can see these are all

447
00:18:35,179 --> 00:18:41,899
the feedbacks and as a scroll along

448
00:18:39,610 --> 00:18:44,029
eventually so that's a 5-star last

449
00:18:41,899 --> 00:18:46,070
minute you've got one that's not that's

450
00:18:44,029 --> 00:18:48,950
a zero-star feedback that was submit

451
00:18:46,070 --> 00:18:54,158
really excellent

452
00:18:48,950 --> 00:18:54,159
so the next one wait to show you was a

453
00:18:54,429 --> 00:19:01,750
document object model inscription attack

454
00:18:57,110 --> 00:19:04,158
with particular cross-site scripting so

455
00:19:01,750 --> 00:19:05,539
the search bars a counter a prime

456
00:19:04,159 --> 00:19:08,029
location for things like cross site

457
00:19:05,539 --> 00:19:11,330
scripting are an SQL injection so if I

458
00:19:08,029 --> 00:19:14,029
just type in the search bar test and hit

459
00:19:11,330 --> 00:19:16,010
search you can see that what it's done

460
00:19:14,029 --> 00:19:17,899
is pretty much just spit out pretty much

461
00:19:16,010 --> 00:19:19,820
what I put in so again you can use

462
00:19:17,899 --> 00:19:22,250
Firebug or their fields whatever it's

463
00:19:19,820 --> 00:19:25,428
called there's a really great tool that

464
00:19:22,250 --> 00:19:27,409
way you can submit an element and if you

465
00:19:25,429 --> 00:19:29,059
click on that it tells you exactly as I

466
00:19:27,409 --> 00:19:31,700
element the bear is in the HTML if you

467
00:19:29,059 --> 00:19:33,379
can click it properly so there you go

468
00:19:31,700 --> 00:19:36,350
you can see that

469
00:19:33,380 --> 00:19:38,960
taken exactly as I needed to so I can do

470
00:19:36,350 --> 00:19:44,360
my test start by adding wrapping it in

471
00:19:38,960 --> 00:19:45,860
HTML and behind sex you can see I want

472
00:19:44,360 --> 00:19:47,540
to do that it's now underlined it and

473
00:19:45,860 --> 00:19:50,179
again in the HTML you can see it's got

474
00:19:47,540 --> 00:19:53,420
underlined so while I'm going to do is

475
00:19:50,180 --> 00:19:57,620
use JavaScript that it showed me so

476
00:19:53,420 --> 00:20:04,010
again these all verbs I'm going to take

477
00:19:57,620 --> 00:20:06,350
that and this time search for and you

478
00:20:04,010 --> 00:20:07,879
can see it scripts inbox and it's

479
00:20:06,350 --> 00:20:11,300
storming the background of successful

480
00:20:07,880 --> 00:20:13,010
yourself the challenge begins great

481
00:20:11,300 --> 00:20:16,940
what's after we world impact of that

482
00:20:13,010 --> 00:20:31,190
what can you do so my favorite as

483
00:20:16,940 --> 00:20:33,170
follows so the document dot cookie

484
00:20:31,190 --> 00:20:35,480
function on keyword however it's called

485
00:20:33,170 --> 00:20:37,640
in JavaScript it shows the value of all

486
00:20:35,480 --> 00:20:39,290
the cookies so I start page so if I hit

487
00:20:37,640 --> 00:20:43,610
enter it's telling me the value of the

488
00:20:39,290 --> 00:20:44,930
continue code cookie what you do is send

489
00:20:43,610 --> 00:20:47,810
that back to an attacking controlled

490
00:20:44,930 --> 00:20:50,210
server they would person's cookie value

491
00:20:47,810 --> 00:20:53,120
they do a cookie injection which is why

492
00:20:50,210 --> 00:20:54,260
you take that value cookie go and log in

493
00:20:53,120 --> 00:20:56,360
as empty your masquerading so

494
00:20:54,260 --> 00:20:58,610
effectively the interesting thing about

495
00:20:56,360 --> 00:21:02,000
this is if you look on the storage table

496
00:20:58,610 --> 00:21:03,740
does actually so you've got the i/o code

497
00:21:02,000 --> 00:21:05,600
io cookie sorry

498
00:21:03,740 --> 00:21:07,400
and the continue code cookie but it's

499
00:21:05,600 --> 00:21:09,409
only showing the value of one and the

500
00:21:07,400 --> 00:21:12,500
reason for that is I owe one has got

501
00:21:09,410 --> 00:21:14,540
HTTP all these sets are true so HTTP

502
00:21:12,500 --> 00:21:16,400
only it was introduced specifically to

503
00:21:14,540 --> 00:21:18,110
stop this sort of attack it means that

504
00:21:16,400 --> 00:21:20,450
stuff like JavaScript can access cookie

505
00:21:18,110 --> 00:21:22,280
values now if you were to see cross-site

506
00:21:20,450 --> 00:21:24,230
script in a pen test report or

507
00:21:22,280 --> 00:21:26,600
vulnerability scan usually to medium

508
00:21:24,230 --> 00:21:28,970
sometimes a high depended is if you'd

509
00:21:26,600 --> 00:21:31,040
see she's feeling a lack of hg3 honey

510
00:21:28,970 --> 00:21:32,720
and a pen test report is normally like

511
00:21:31,040 --> 00:21:34,129
although but what we've done there is

512
00:21:32,720 --> 00:21:36,110
combine the two together to give a

513
00:21:34,130 --> 00:21:37,250
different impact and it's a good example

514
00:21:36,110 --> 00:21:38,800
of why you can make vulnerabilities

515
00:21:37,250 --> 00:21:41,970
interacts to do cool stuff

516
00:21:38,800 --> 00:21:41,970
[Music]

517
00:21:44,140 --> 00:21:52,730
okay cool that's what I want to show you

518
00:21:47,120 --> 00:22:01,309
I think it's a game bear with me I'll

519
00:21:52,730 --> 00:22:02,900
find it it submits and our customer

520
00:22:01,309 --> 00:22:06,950
feedbacks within 10 seconds

521
00:22:02,900 --> 00:22:11,020
so I mean you see my dodgy maths well

522
00:22:06,950 --> 00:22:13,070
I've been to fill in so if I close these

523
00:22:11,020 --> 00:22:16,670
so one of the things I'm not showing you

524
00:22:13,070 --> 00:22:18,350
so far is a burp suite so it's a really

525
00:22:16,670 --> 00:22:20,000
great tool and the boat for you guys

526
00:22:18,350 --> 00:22:23,050
head says come talk to me it's awesome

527
00:22:20,000 --> 00:22:25,070
this has got a number of great features

528
00:22:23,050 --> 00:22:26,360
so I'm sure something other one is

529
00:22:25,070 --> 00:22:28,280
quickly just to show you so eight plus

530
00:22:26,360 --> 00:22:30,280
seven times ten is 87 I think I'm

531
00:22:28,280 --> 00:22:48,020
getting better

532
00:22:30,280 --> 00:22:50,750
no thank you so you can see in burp

533
00:22:48,020 --> 00:22:53,990
suite that this line is where you sent

534
00:22:50,750 --> 00:22:55,460
the feed but what's happened is why are

535
00:22:53,990 --> 00:22:57,350
you sending the feed back to crest costs

536
00:22:55,460 --> 00:22:58,940
so virtually acts as a proxy so it sees

537
00:22:57,350 --> 00:22:59,360
all the requests as they go from client

538
00:22:58,940 --> 00:23:04,179
to server

539
00:22:59,360 --> 00:23:07,280
one of the great tools inverted lupita

540
00:23:04,179 --> 00:23:08,840
send through pizza so this does exactly

541
00:23:07,280 --> 00:23:11,590
what it says on the thing it repeats

542
00:23:08,840 --> 00:23:19,220
squares so I'm actually just gonna do

543
00:23:11,590 --> 00:23:21,139
one two three four five six seven nine

544
00:23:19,220 --> 00:23:22,910
and there you go you can see the

545
00:23:21,140 --> 00:23:24,290
background to shop which pops up saying

546
00:23:22,910 --> 00:23:27,440
you've successfully solve the charge

547
00:23:24,290 --> 00:23:32,030
I can definitely verify that if I could

548
00:23:27,440 --> 00:23:40,370
see about was page what starts fail at

549
00:23:32,030 --> 00:23:41,899
the end it's gonna take a while to load

550
00:23:40,370 --> 00:23:44,780
I should say if you're interested in

551
00:23:41,900 --> 00:23:47,150
this sort of thing if these bikes are

552
00:23:44,780 --> 00:23:48,860
something interesting there is a CTF run

553
00:23:47,150 --> 00:23:50,720
alongside besides Manchester today you

554
00:23:48,860 --> 00:23:52,760
can find it on Twitter on phone defend

555
00:23:50,720 --> 00:23:54,650
so I myself you the guys from my team

556
00:23:52,760 --> 00:23:57,679
are taking part so the more the merrier

557
00:23:54,650 --> 00:23:58,970
we could see some other people on it we

558
00:23:57,679 --> 00:24:01,210
might even be Wed another moment I'm not

559
00:23:58,970 --> 00:24:01,210
sure

560
00:24:01,220 --> 00:24:10,970
so I can use your outputs and feedback

561
00:24:09,230 --> 00:24:16,030
so I think it's all so you can see where

562
00:24:10,970 --> 00:24:22,280
you - you've got one two three four five

563
00:24:16,030 --> 00:24:22,730
six seven eight nine ten and one for

564
00:24:22,280 --> 00:24:24,710
good luck

565
00:24:22,730 --> 00:24:26,300
so the one for good luck was the one I

566
00:24:24,710 --> 00:24:31,310
did just get into burp suite so I could

567
00:24:26,300 --> 00:24:35,440
run it through the repeats it up to show

568
00:24:31,310 --> 00:24:35,440
you so hopefully it's giving you a favor

569
00:24:35,470 --> 00:24:40,400
you can see from the scoreboard that you

570
00:24:39,500 --> 00:24:41,660
know there's a whole bunch of challenges

571
00:24:40,400 --> 00:24:42,230
in there there's something for everyone

572
00:24:41,660 --> 00:24:44,180
really

573
00:24:42,230 --> 00:24:46,070
so the easy and the trivial ones you

574
00:24:44,180 --> 00:24:47,180
know pretty much anyone can do with a

575
00:24:46,070 --> 00:24:47,510
little bit of learning a bit of trial

576
00:24:47,180 --> 00:24:50,300
and error

577
00:24:47,510 --> 00:24:53,300
the diabolical ones to be honest I

578
00:24:50,300 --> 00:24:55,430
bothered attempting that for everyone

579
00:24:53,300 --> 00:24:57,169
it's a really great tool you should

580
00:24:55,430 --> 00:24:58,970
definitely go and check it out how does

581
00:24:57,170 --> 00:25:01,190
that happen some questions afterwards if

582
00:24:58,970 --> 00:25:04,690
anyone has one book with that handle so

583
00:25:01,190 --> 00:25:04,690
thank you for listening and enjoy

584
00:25:05,150 --> 00:25:13,029
[Applause]

585
00:25:23,890 --> 00:25:35,210
go on don't go I said there's a Java

586
00:25:27,230 --> 00:25:38,210
version is also because they used to be

587
00:25:35,210 --> 00:25:39,350
one called I'm vulnerable web app tvw

588
00:25:38,210 --> 00:25:42,500
right how's that used to install

589
00:25:39,350 --> 00:25:44,120
there's no another the wasp one but you

590
00:25:42,500 --> 00:25:45,650
can find that I'm Metis fireball and

591
00:25:44,120 --> 00:25:48,260
that has literally got a charge for each

592
00:25:45,650 --> 00:25:49,430
of the our top tens is SQL injection

593
00:25:48,260 --> 00:25:51,290
this cross-site script and it is a

594
00:25:49,430 --> 00:25:52,550
cross-site request forgery there's all

595
00:25:51,290 --> 00:26:05,330
sorts and that's a really good one to

596
00:25:52,550 --> 00:26:12,320
start a cookie tease oh yeah yeah so

597
00:26:05,330 --> 00:26:18,290
what's going on that if that's okay I've

598
00:26:12,320 --> 00:26:20,419
got my sister is client-side validation

599
00:26:18,290 --> 00:26:21,590
so it's a little bit of JavaScript to

600
00:26:20,420 --> 00:26:22,790
make sure you've submitted something

601
00:26:21,590 --> 00:26:24,470
what it should be really doing this

602
00:26:22,790 --> 00:26:26,649
server-side validation so when you

603
00:26:24,470 --> 00:26:26,650
submit

604
00:26:29,980 --> 00:26:35,840
yeah there's nothing checking to say

605
00:26:33,740 --> 00:26:38,420
okay is actually fired capture and it

606
00:26:35,840 --> 00:26:40,340
should because JavaScript and kind side

607
00:26:38,420 --> 00:26:41,840
validation is really just to defeat you

608
00:26:40,340 --> 00:26:46,959
with things like Burke's really things

609
00:26:41,840 --> 00:26:46,959
like that feels nice that's why it works

610
00:26:49,390 --> 00:26:54,380
thank you

611
00:26:51,280 --> 00:26:54,379
[Applause]

