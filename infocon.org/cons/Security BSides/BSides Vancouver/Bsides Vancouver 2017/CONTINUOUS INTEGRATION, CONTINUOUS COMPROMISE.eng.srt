1
00:00:00,310 --> 00:00:18,369
[Music]

2
00:00:19,340 --> 00:00:24,240
<font color="#E5E5E5">all right there we go there</font><font color="#CCCCCC"> we go</font>

3
00:00:21,900 --> 00:00:28,290
all<font color="#E5E5E5"> right</font><font color="#CCCCCC"> oh I'm</font><font color="#E5E5E5"> excited to be here this</font>

4
00:00:24,240 --> 00:00:30,959
is my forest<font color="#E5E5E5"> Vancouver</font><font color="#CCCCCC"> B</font><font color="#E5E5E5"> side also</font>

5
00:00:28,290 --> 00:00:32,640
<font color="#CCCCCC">before</font><font color="#E5E5E5"> thank you for besides a second</font>

6
00:00:30,960 --> 00:00:34,530
<font color="#CCCCCC">I'm speaking</font><font color="#E5E5E5"> at it</font>

7
00:00:32,640 --> 00:00:36,870
so before I start<font color="#CCCCCC"> I'm</font><font color="#E5E5E5"> going to do an</font>

8
00:00:34,530 --> 00:00:38,850
outline<font color="#CCCCCC"> so if you're like getting coffee</font>

9
00:00:36,870 --> 00:00:42,419
or<font color="#E5E5E5"> whatever and you're like should I</font>

10
00:00:38,850 --> 00:00:44,330
ditch this talk if I<font color="#CCCCCC"> doubt so I'm going</font>

11
00:00:42,420 --> 00:00:48,360
<font color="#CCCCCC">to start by going</font><font color="#E5E5E5"> over what is</font>

12
00:00:44,330 --> 00:00:50,730
<font color="#CCCCCC">continuous</font><font color="#E5E5E5"> integration that's</font><font color="#CCCCCC"> what my</font>

13
00:00:48,360 --> 00:00:55,290
talk<font color="#E5E5E5"> is focusing on I'm going to go</font><font color="#CCCCCC"> over</font>

14
00:00:50,730 --> 00:00:57,150
some common<font color="#E5E5E5"> misconceptions</font><font color="#CCCCCC"> then from the</font>

15
00:00:55,290 --> 00:00:58,829
kind<font color="#E5E5E5"> of attacker side of things I'm</font>

16
00:00:57,150 --> 00:01:02,519
going<font color="#E5E5E5"> to talk</font><font color="#CCCCCC"> about the code execution</font>

17
00:00:58,829 --> 00:01:04,159
you can get through the CI system<font color="#CCCCCC"> I'm</font>

18
00:01:02,520 --> 00:01:06,720
<font color="#E5E5E5">going to talk about pivoting between</font>

19
00:01:04,159 --> 00:01:08,820
slaves and masters within<font color="#E5E5E5"> the CI system</font>

20
00:01:06,720 --> 00:01:15,270
<font color="#E5E5E5">and then finally</font><font color="#CCCCCC"> backdooring all the</font>

21
00:01:08,820 --> 00:01:18,149
bills so quick intro<font color="#CCCCCC"> to myself I'm</font>

22
00:01:15,270 --> 00:01:20,789
Wesley Weinberg<font color="#CCCCCC"> I used to work for a</font>

23
00:01:18,150 --> 00:01:24,150
Vancouver company called world tech they

24
00:01:20,790 --> 00:01:27,360
eventually got acquired<font color="#E5E5E5"> by GE</font><font color="#CCCCCC"> I then</font>

25
00:01:24,150 --> 00:01:30,450
went to<font color="#CCCCCC"> work for</font><font color="#E5E5E5"> a San Francisco</font><font color="#CCCCCC"> company</font>

26
00:01:27,360 --> 00:01:33,299
called<font color="#E5E5E5"> cynic and then just in last year</font>

27
00:01:30,450 --> 00:01:36,690
moved sell hopped the wall and went to

28
00:01:33,299 --> 00:01:39,299
work<font color="#CCCCCC"> for</font><font color="#E5E5E5"> Microsoft</font><font color="#CCCCCC"> so currently I'm a</font>

29
00:01:36,690 --> 00:01:42,060
member of the Microsoft Azure red team

30
00:01:39,299 --> 00:01:45,119
<font color="#E5E5E5">and so my focus is definitely on the</font>

31
00:01:42,060 --> 00:01:48,000
offensive side<font color="#CCCCCC"> of security but we</font><font color="#E5E5E5"> work</font>

32
00:01:45,119 --> 00:01:49,470
closely with the blue team<font color="#CCCCCC"> and purple</font>

33
00:01:48,000 --> 00:01:53,909
team and green team and<font color="#E5E5E5"> whatever colors</font>

34
00:01:49,470 --> 00:01:55,860
you got<font color="#E5E5E5"> because</font><font color="#CCCCCC"> offensive is really just</font>

35
00:01:53,909 --> 00:02:01,140
one piece of<font color="#E5E5E5"> your equation to get here</font>

36
00:01:55,860 --> 00:02:03,420
<font color="#E5E5E5">systems all secure</font><font color="#CCCCCC"> and this talk is just</font>

37
00:02:01,140 --> 00:02:06,450
<font color="#E5E5E5">kind of my own independent research no</font>

38
00:02:03,420 --> 00:02:07,970
no company is<font color="#E5E5E5"> behind it or anything like</font>

39
00:02:06,450 --> 00:02:10,590
that

40
00:02:07,970 --> 00:02:12,930
thought I'd tell like a fun story when I

41
00:02:10,590 --> 00:02:14,659
<font color="#E5E5E5">was looking at my intro slide here</font><font color="#CCCCCC"> I was</font>

42
00:02:12,930 --> 00:02:18,090
like<font color="#CCCCCC"> ah world</font><font color="#E5E5E5"> Tech so many good</font><font color="#CCCCCC"> memories</font>

43
00:02:14,659 --> 00:02:20,999
<font color="#E5E5E5">so at one point we</font><font color="#CCCCCC"> had we hired a</font><font color="#E5E5E5"> sales</font>

44
00:02:18,090 --> 00:02:23,689
<font color="#E5E5E5">engineer</font><font color="#CCCCCC"> and he</font><font color="#E5E5E5"> was going along things</font>

45
00:02:20,999 --> 00:02:23,689
are going good<font color="#E5E5E5"> and</font>

46
00:02:24,380 --> 00:02:30,150
he put together a slide for GE actually

47
00:02:28,890 --> 00:02:31,708
they were going to become<font color="#CCCCCC"> our customer</font>

48
00:02:30,150 --> 00:02:35,670
were a customer trying<font color="#E5E5E5"> to sell more</font>

49
00:02:31,709 --> 00:02:38,099
stuff<font color="#E5E5E5"> and he put</font><font color="#CCCCCC"> like a slide of current</font>

50
00:02:35,670 --> 00:02:40,679
customers put<font color="#CCCCCC"> ge up there to</font><font color="#E5E5E5"> be figured</font>

51
00:02:38,099 --> 00:02:42,660
<font color="#CCCCCC">you would see</font><font color="#E5E5E5"> it and like</font><font color="#CCCCCC"> liked it but</font>

52
00:02:40,680 --> 00:02:44,250
<font color="#CCCCCC">it turns</font><font color="#E5E5E5"> out</font><font color="#CCCCCC"> GE get super mad</font><font color="#E5E5E5"> when you</font>

53
00:02:42,660 --> 00:02:47,730
put their logo up without<font color="#CCCCCC"> asking them</font>

54
00:02:44,250 --> 00:02:48,989
and so then<font color="#CCCCCC"> Rotex like oh dude you</font>

55
00:02:47,730 --> 00:02:50,700
screwed<font color="#E5E5E5"> up we didn't tell you</font><font color="#CCCCCC"> but you</font>

56
00:02:48,989 --> 00:02:51,720
can't<font color="#E5E5E5"> put their logo</font><font color="#CCCCCC"> on and then they</font>

57
00:02:50,700 --> 00:02:55,369
told them you<font color="#E5E5E5"> can never speak</font><font color="#CCCCCC"> to</font>

58
00:02:51,720 --> 00:02:59,549
customers again<font color="#CCCCCC"> so the fun story</font>

59
00:02:55,370 --> 00:03:03,180
so here's some logos but<font color="#E5E5E5"> for real don't</font>

60
00:02:59,549 --> 00:03:05,370
<font color="#E5E5E5">like</font><font color="#CCCCCC"> complaint to ge</font><font color="#E5E5E5"> about that</font><font color="#CCCCCC"> okay so</font>

61
00:03:03,180 --> 00:03:08,010
to start<font color="#CCCCCC"> with I'm going to</font><font color="#E5E5E5"> go</font><font color="#CCCCCC"> over build</font>

62
00:03:05,370 --> 00:03:10,890
systems themselves<font color="#E5E5E5"> as kind of a history</font>

63
00:03:08,010 --> 00:03:13,319
before<font color="#E5E5E5"> we actually go on to continuous</font>

64
00:03:10,890 --> 00:03:16,798
integration systems this is<font color="#E5E5E5"> just my</font>

65
00:03:13,319 --> 00:03:18,929
unofficial history<font color="#CCCCCC"> how I see the world</font>

66
00:03:16,799 --> 00:03:21,000
<font color="#E5E5E5">so back in the day you had a code</font>

67
00:03:18,930 --> 00:03:23,459
repository<font color="#E5E5E5"> and you</font><font color="#CCCCCC"> had a build server</font>

68
00:03:21,000 --> 00:03:24,720
<font color="#E5E5E5">maybe even had like</font><font color="#CCCCCC"> a</font><font color="#E5E5E5"> few different</font>

69
00:03:23,459 --> 00:03:27,780
build servers if you had lots of

70
00:03:24,720 --> 00:03:30,660
products<font color="#E5E5E5"> and you would do more or less</font>

71
00:03:27,780 --> 00:03:32,280
<font color="#E5E5E5">iterative builds</font><font color="#CCCCCC"> you'd get code checked</font>

72
00:03:30,660 --> 00:03:34,859
in the thing would build your code

73
00:03:32,280 --> 00:03:36,780
eventually after<font color="#CCCCCC"> a few hours and if you</font>

74
00:03:34,859 --> 00:03:39,209
broke the build people<font color="#E5E5E5"> would be mad</font><font color="#CCCCCC"> cuz</font>

75
00:03:36,780 --> 00:03:40,859
<font color="#CCCCCC">bill took</font><font color="#E5E5E5"> a really long</font><font color="#CCCCCC"> time and then</font>

76
00:03:39,209 --> 00:03:42,959
after<font color="#E5E5E5"> your build was all done in</font><font color="#CCCCCC"> the</font>

77
00:03:40,859 --> 00:03:45,780
<font color="#CCCCCC">system</font><font color="#E5E5E5"> spat something out you could do</font>

78
00:03:42,959 --> 00:03:47,400
some testing<font color="#E5E5E5"> of that and file a bunch of</font>

79
00:03:45,780 --> 00:03:50,579
<font color="#E5E5E5">bugs for anything that you found and</font>

80
00:03:47,400 --> 00:03:51,989
kind<font color="#E5E5E5"> of iterate keep going</font><font color="#CCCCCC"> doing your</font>

81
00:03:50,579 --> 00:03:55,319
cool waterfall model because that's what

82
00:03:51,989 --> 00:03:57,440
you did<font color="#CCCCCC"> um but kind</font><font color="#E5E5E5"> of importantly at</font>

83
00:03:55,319 --> 00:03:59,578
<font color="#CCCCCC">the</font><font color="#E5E5E5"> end of the whole build cycle</font>

84
00:03:57,440 --> 00:04:01,980
<font color="#CCCCCC">deployment</font><font color="#E5E5E5"> would be done by someone</font><font color="#CCCCCC"> else</font>

85
00:03:59,579 --> 00:04:03,810
<font color="#CCCCCC">you as a</font><font color="#E5E5E5"> developer would it be really</font>

86
00:04:01,980 --> 00:04:06,298
strange if<font color="#CCCCCC"> you were the</font><font color="#E5E5E5"> one pushing code</font>

87
00:04:03,810 --> 00:04:07,829
onto<font color="#CCCCCC"> a server or packaging</font><font color="#E5E5E5"> and releasing</font>

88
00:04:06,299 --> 00:04:10,470
a<font color="#E5E5E5"> product to a customer</font><font color="#CCCCCC"> anything's like</font>

89
00:04:07,829 --> 00:04:12,930
that developers<font color="#E5E5E5"> kind of development and</font>

90
00:04:10,470 --> 00:04:16,488
other teams did server management

91
00:04:12,930 --> 00:04:16,489
<font color="#CCCCCC">deployment that</font><font color="#E5E5E5"> sort of thing</font>

92
00:04:16,918 --> 00:04:23,539
so then kind of going<font color="#E5E5E5"> back a little bit</font>

93
00:04:18,930 --> 00:04:26,130
further but tying<font color="#CCCCCC"> in to my talk the</font>

94
00:04:23,539 --> 00:04:28,830
history of build systems from hacking

95
00:04:26,130 --> 00:04:34,530
perspective really<font color="#E5E5E5"> ties into compilers</font>

96
00:04:28,830 --> 00:04:37,300
themselves so<font color="#CCCCCC"> back in the 70s</font><font color="#E5E5E5"> apparently</font>

97
00:04:34,530 --> 00:04:39,940
they had electricity and compilers

98
00:04:37,300 --> 00:04:42,340
and so some dudes<font color="#E5E5E5"> that works for the</font>

99
00:04:39,940 --> 00:04:47,410
Navy<font color="#CCCCCC"> came up with the theory basically</font>

100
00:04:42,340 --> 00:04:49,690
<font color="#E5E5E5">that at some point you have</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> trust the</font>

101
00:04:47,410 --> 00:04:51,280
start of<font color="#E5E5E5"> your chain of your software</font><font color="#CCCCCC"> and</font>

102
00:04:49,690 --> 00:04:53,590
<font color="#E5E5E5">to the start of your software chain</font>

103
00:04:51,280 --> 00:04:55,809
<font color="#E5E5E5">really is a compiler</font><font color="#CCCCCC"> itself if</font><font color="#E5E5E5"> you can't</font>

104
00:04:53,590 --> 00:04:57,758
trust your compiler then there's really

105
00:04:55,810 --> 00:04:59,830
nothing<font color="#CCCCCC"> that you can trust</font><font color="#E5E5E5"> because even</font>

106
00:04:57,759 --> 00:05:02,229
the compiler<font color="#E5E5E5"> to some extent gets</font>

107
00:04:59,830 --> 00:05:07,659
compiled by<font color="#E5E5E5"> itself to create new</font>

108
00:05:02,229 --> 00:05:09,900
<font color="#CCCCCC">versions later</font><font color="#E5E5E5"> on then in 1984</font><font color="#CCCCCC"> Ken</font>

109
00:05:07,660 --> 00:05:13,389
Thompson<font color="#CCCCCC"> from Bell Labs I think</font>

110
00:05:09,900 --> 00:05:14,919
published what was a popular paper<font color="#E5E5E5"> and</font>

111
00:05:13,389 --> 00:05:17,110
it's still<font color="#E5E5E5"> kind of a popular paper to</font>

112
00:05:14,919 --> 00:05:20,320
reference<font color="#E5E5E5"> called reflections on trusting</font>

113
00:05:17,110 --> 00:05:21,910
trust and he<font color="#CCCCCC"> basically kind</font><font color="#E5E5E5"> of just</font>

114
00:05:20,320 --> 00:05:24,789
detailed<font color="#E5E5E5"> that concept a little bit</font>

115
00:05:21,910 --> 00:05:27,849
<font color="#E5E5E5">further</font><font color="#CCCCCC"> and put it in a paper and</font><font color="#E5E5E5"> people</font>

116
00:05:24,789 --> 00:05:30,430
<font color="#CCCCCC">liked</font><font color="#E5E5E5"> papers and so the theory of these</font>

117
00:05:27,849 --> 00:05:32,020
attacks<font color="#E5E5E5"> really hasn't changed</font><font color="#CCCCCC"> since</font><font color="#E5E5E5"> 1974</font>

118
00:05:30,430 --> 00:05:34,780
<font color="#CCCCCC">84 depending which one you like to</font>

119
00:05:32,020 --> 00:05:36,909
reference<font color="#CCCCCC"> you</font><font color="#E5E5E5"> can still backdoor a</font>

120
00:05:34,780 --> 00:05:40,030
compiler and have it fact or<font color="#E5E5E5"> everything</font>

121
00:05:36,909 --> 00:05:43,300
it builds and kind<font color="#E5E5E5"> of</font><font color="#CCCCCC"> ruin</font><font color="#E5E5E5"> the chain of</font>

122
00:05:40,030 --> 00:05:44,799
<font color="#E5E5E5">trust that way but practically</font><font color="#CCCCCC"> speaking</font>

123
00:05:43,300 --> 00:05:47,349
there hasn't been a<font color="#E5E5E5"> lot of</font><font color="#CCCCCC"> real-world</font>

124
00:05:44,800 --> 00:05:52,240
attacks<font color="#E5E5E5"> using</font><font color="#CCCCCC"> this methodology you've</font>

125
00:05:47,349 --> 00:05:57,039
got way more email viruses<font color="#E5E5E5"> and things</font>

126
00:05:52,240 --> 00:05:59,169
like that<font color="#CCCCCC"> things</font><font color="#E5E5E5"> crawling websites than</font>

127
00:05:57,039 --> 00:06:02,740
you do people trying to come trying<font color="#E5E5E5"> to</font>

128
00:05:59,169 --> 00:06:08,139
target<font color="#E5E5E5"> compilers just because it doesn't</font>

129
00:06:02,740 --> 00:06:09,699
<font color="#E5E5E5">scale is easily necessarily moving on to</font>

130
00:06:08,139 --> 00:06:12,639
<font color="#E5E5E5">modern day though this all kind</font><font color="#CCCCCC"> of</font>

131
00:06:09,699 --> 00:06:15,639
starts to<font color="#CCCCCC"> change</font><font color="#E5E5E5"> so in modern day</font><font color="#CCCCCC"> we've</font>

132
00:06:12,639 --> 00:06:19,120
<font color="#E5E5E5">moved to the world of DevOps everyone's</font>

133
00:06:15,639 --> 00:06:20,620
doing DevOps<font color="#CCCCCC"> if you're here and</font><font color="#E5E5E5"> you're</font>

134
00:06:19,120 --> 00:06:23,370
not<font color="#CCCCCC"> doing</font><font color="#E5E5E5"> DevOps you're probably</font><font color="#CCCCCC"> also</font>

135
00:06:20,620 --> 00:06:25,539
<font color="#E5E5E5">not making</font><font color="#CCCCCC"> software or things like</font><font color="#E5E5E5"> that</font>

136
00:06:23,370 --> 00:06:28,870
<font color="#CCCCCC">so DevOps</font><font color="#E5E5E5"> comes with a bunch of</font>

137
00:06:25,539 --> 00:06:31,270
<font color="#E5E5E5">different components</font><font color="#CCCCCC"> in terms of build</font>

138
00:06:28,870 --> 00:06:33,580
systems at least<font color="#E5E5E5"> or build system pieces</font>

139
00:06:31,270 --> 00:06:34,210
so you've got<font color="#E5E5E5"> CI which is continuous</font>

140
00:06:33,580 --> 00:06:37,300
integration

141
00:06:34,210 --> 00:06:40,030
you've got CD which<font color="#CCCCCC"> is continuous</font>

142
00:06:37,300 --> 00:06:43,360
delivery<font color="#E5E5E5"> and kind of a variation</font><font color="#CCCCCC"> on that</font>

143
00:06:40,030 --> 00:06:44,710
<font color="#CCCCCC">is continuous deployment so</font><font color="#E5E5E5"> mostly</font>

144
00:06:43,360 --> 00:06:47,680
depending whether or not you've<font color="#CCCCCC"> got a</font>

145
00:06:44,710 --> 00:06:50,198
system that produces<font color="#CCCCCC"> the software</font>

146
00:06:47,680 --> 00:06:50,930
application<font color="#CCCCCC"> or whether you've got</font>

147
00:06:50,199 --> 00:06:53,090
something that

148
00:06:50,930 --> 00:06:56,150
<font color="#CCCCCC">droning on a server</font><font color="#E5E5E5"> like a website or</font>

149
00:06:53,090 --> 00:06:58,849
<font color="#E5E5E5">something like that</font><font color="#CCCCCC"> there's also</font><font color="#E5E5E5"> been a</font>

150
00:06:56,150 --> 00:07:01,609
<font color="#E5E5E5">lot</font><font color="#CCCCCC"> of components</font><font color="#E5E5E5"> around infrastructure</font>

151
00:06:58,850 --> 00:07:03,949
<font color="#E5E5E5">automation</font><font color="#CCCCCC"> so that your infrastructure</font>

152
00:07:01,610 --> 00:07:07,699
<font color="#E5E5E5">itself is part of your DevOps process</font>

153
00:07:03,949 --> 00:07:10,970
and<font color="#E5E5E5"> get deployed by software instead of</font>

154
00:07:07,699 --> 00:07:12,020
a human and kind of<font color="#E5E5E5"> to glue all that</font>

155
00:07:10,970 --> 00:07:13,550
<font color="#CCCCCC">together there's a</font><font color="#E5E5E5"> lot more</font>

156
00:07:12,020 --> 00:07:14,750
instrumentation for your code a lot more

157
00:07:13,550 --> 00:07:17,150
<font color="#E5E5E5">monitoring</font>

158
00:07:14,750 --> 00:07:22,070
there's fun trends like a/b testing and

159
00:07:17,150 --> 00:07:23,539
<font color="#E5E5E5">things like that</font><font color="#CCCCCC"> so when I</font><font color="#E5E5E5"> talk</font><font color="#CCCCCC"> to a few</font>

160
00:07:22,070 --> 00:07:25,659
<font color="#E5E5E5">people</font><font color="#CCCCCC"> and I said hey I'm going</font><font color="#E5E5E5"> to talk</font>

161
00:07:23,539 --> 00:07:27,710
about<font color="#E5E5E5"> continuous integration systems</font>

162
00:07:25,660 --> 00:07:30,380
<font color="#CCCCCC">these are like developers or other</font>

163
00:07:27,710 --> 00:07:32,989
people that<font color="#E5E5E5"> know about</font><font color="#CCCCCC"> these things</font><font color="#E5E5E5"> they</font>

164
00:07:30,380 --> 00:07:34,909
said<font color="#CCCCCC"> oh what looks like a CI system so I</font>

165
00:07:32,990 --> 00:07:36,410
figured I'd<font color="#E5E5E5"> put up some logos</font><font color="#CCCCCC"> because</font>

166
00:07:34,910 --> 00:07:38,120
<font color="#CCCCCC">when I tell someone</font><font color="#E5E5E5"> well you know like</font>

167
00:07:36,410 --> 00:07:42,169
Jenkins it's a it's<font color="#CCCCCC"> an integration</font>

168
00:07:38,120 --> 00:07:43,880
system they<font color="#E5E5E5"> say</font><font color="#CCCCCC"> oh like Jenkins okay so</font>

169
00:07:42,169 --> 00:07:45,620
I just<font color="#CCCCCC"> picked some of the popular ones</font>

170
00:07:43,880 --> 00:07:47,509
the ones that I recognize most<font color="#E5E5E5"> there's a</font>

171
00:07:45,620 --> 00:07:48,949
bunch that<font color="#E5E5E5"> aren't here and probably</font><font color="#CCCCCC"> a</font>

172
00:07:47,509 --> 00:07:50,650
<font color="#E5E5E5">whole bunch of startups in San Francisco</font>

173
00:07:48,949 --> 00:07:53,120
really sad they didn't make the slide

174
00:07:50,650 --> 00:07:54,880
<font color="#CCCCCC">but anyways</font><font color="#E5E5E5"> so you kind</font><font color="#CCCCCC"> of</font><font color="#E5E5E5"> got three</font>

175
00:07:53,120 --> 00:07:57,310
groups you get<font color="#E5E5E5"> continuous integration</font>

176
00:07:54,880 --> 00:08:00,320
<font color="#CCCCCC">and these often bleed over into</font>

177
00:07:57,310 --> 00:08:02,300
continuous deployment which awesome

178
00:08:00,320 --> 00:08:03,860
bleeds over into infrastructure

179
00:08:02,300 --> 00:08:06,680
automation<font color="#E5E5E5"> so a lot of</font><font color="#CCCCCC"> these can be used</font>

180
00:08:03,860 --> 00:08:13,280
in more<font color="#CCCCCC"> than</font><font color="#E5E5E5"> one category</font><font color="#CCCCCC"> but this is</font>

181
00:08:06,680 --> 00:08:15,139
the general grouping and kind<font color="#E5E5E5"> of to</font>

182
00:08:13,280 --> 00:08:17,448
illustrate<font color="#CCCCCC"> this</font><font color="#E5E5E5"> a little bit more</font><font color="#CCCCCC"> little</font>

183
00:08:15,139 --> 00:08:20,060
<font color="#CCCCCC">on</font><font color="#E5E5E5"> perspective</font><font color="#CCCCCC"> and I don't</font><font color="#E5E5E5"> think</font><font color="#CCCCCC"> you can</font>

184
00:08:17,449 --> 00:08:21,320
<font color="#CCCCCC">actually see this</font><font color="#E5E5E5"> got like projectors</font>

185
00:08:20,060 --> 00:08:24,139
everywhere but it's<font color="#E5E5E5"> still hard to see</font>

186
00:08:21,320 --> 00:08:25,639
<font color="#E5E5E5">but basically</font><font color="#CCCCCC"> the top line</font><font color="#E5E5E5"> is continuous</font>

187
00:08:24,139 --> 00:08:28,789
integration that's the start of<font color="#E5E5E5"> your</font>

188
00:08:25,639 --> 00:08:31,610
<font color="#CCCCCC">evolves process the next</font><font color="#E5E5E5"> line is</font>

189
00:08:28,789 --> 00:08:33,708
continuous delivery<font color="#E5E5E5"> and you'd</font><font color="#CCCCCC"> use this</font>

190
00:08:31,610 --> 00:08:35,270
<font color="#E5E5E5">if you've got a manual deployment</font>

191
00:08:33,708 --> 00:08:38,449
approval process or if you're making

192
00:08:35,270 --> 00:08:42,140
software<font color="#E5E5E5"> otherwise the next line down is</font>

193
00:08:38,450 --> 00:08:43,550
continuous deployment<font color="#E5E5E5"> and so at the</font>

194
00:08:42,140 --> 00:08:46,819
<font color="#E5E5E5">bottom it</font><font color="#CCCCCC"> shows you start</font><font color="#E5E5E5"> from source</font>

195
00:08:43,549 --> 00:08:50,359
control do a build<font color="#CCCCCC"> over</font><font color="#E5E5E5"> to staging and</font>

196
00:08:46,820 --> 00:08:52,010
then finally production and so I've got

197
00:08:50,360 --> 00:08:55,820
I've got<font color="#CCCCCC"> Clippy here to help us though</font>

198
00:08:52,010 --> 00:08:57,380
<font color="#E5E5E5">because there's going to be various</font>

199
00:08:55,820 --> 00:08:58,700
levels of people<font color="#CCCCCC"> in the</font><font color="#E5E5E5"> audience</font><font color="#CCCCCC"> some</font>

200
00:08:57,380 --> 00:09:00,230
people are going<font color="#E5E5E5"> to be like Wes I don't</font>

201
00:08:58,700 --> 00:09:01,730
care just give me some exploits<font color="#E5E5E5"> and</font>

202
00:09:00,230 --> 00:09:04,110
other people are<font color="#E5E5E5"> going to be like Wes</font>

203
00:09:01,730 --> 00:09:06,300
what's an exploit<font color="#E5E5E5"> I'm</font>

204
00:09:04,110 --> 00:09:08,040
than<font color="#E5E5E5"> management why do I care</font><font color="#CCCCCC"> so I'm</font>

205
00:09:06,300 --> 00:09:12,870
going to<font color="#E5E5E5"> try and cover</font><font color="#CCCCCC"> both so you don't</font>

206
00:09:08,040 --> 00:09:15,060
<font color="#E5E5E5">have to get two words</font><font color="#CCCCCC"> but</font><font color="#E5E5E5"> basically the</font>

207
00:09:12,870 --> 00:09:16,920
<font color="#CCCCCC">point for all of this so far is that</font><font color="#E5E5E5"> if</font>

208
00:09:15,060 --> 00:09:19,770
your company<font color="#CCCCCC"> makes software</font><font color="#E5E5E5"> or like</font>

209
00:09:16,920 --> 00:09:22,170
deploys websites or even<font color="#CCCCCC"> tries to secure</font>

210
00:09:19,770 --> 00:09:23,460
companies that do that<font color="#E5E5E5"> they're going to</font>

211
00:09:22,170 --> 00:09:27,089
be<font color="#E5E5E5"> doing DevOps and they're going to be</font>

212
00:09:23,460 --> 00:09:28,710
following a lot of this process<font color="#E5E5E5"> so</font>

213
00:09:27,090 --> 00:09:30,240
moving over<font color="#E5E5E5"> to an attackers perspective</font>

214
00:09:28,710 --> 00:09:32,430
<font color="#E5E5E5">what do they think of when</font><font color="#CCCCCC"> they see</font>

215
00:09:30,240 --> 00:09:33,840
devil<font color="#E5E5E5"> this</font><font color="#CCCCCC"> is what I think</font><font color="#E5E5E5"> of and I'm</font>

216
00:09:32,430 --> 00:09:36,150
going<font color="#CCCCCC"> to generalize that so this is</font><font color="#E5E5E5"> what</font>

217
00:09:33,840 --> 00:09:38,280
<font color="#CCCCCC">all the attackers think is so when you</font>

218
00:09:36,150 --> 00:09:42,180
<font color="#E5E5E5">hear that</font><font color="#CCCCCC"> people</font><font color="#E5E5E5"> are doing DevOps what I</font>

219
00:09:38,280 --> 00:09:43,860
think is people<font color="#CCCCCC"> love trends people just</font>

220
00:09:42,180 --> 00:09:44,939
like rush<font color="#E5E5E5"> into trends and do it because</font>

221
00:09:43,860 --> 00:09:47,010
everyone's doing it<font color="#E5E5E5"> they don't wanna get</font>

222
00:09:44,940 --> 00:09:48,270
left behind<font color="#E5E5E5"> and</font><font color="#CCCCCC"> actually for DevOps</font>

223
00:09:47,010 --> 00:09:50,730
that's a good thing if you're still

224
00:09:48,270 --> 00:09:51,990
doing<font color="#E5E5E5"> waterfall deployment and you're</font>

225
00:09:50,730 --> 00:09:53,820
ready<font color="#E5E5E5"> to</font><font color="#CCCCCC"> release</font><font color="#E5E5E5"> an expert in your</font>

226
00:09:51,990 --> 00:09:56,070
<font color="#E5E5E5">product and a couple</font><font color="#CCCCCC"> years you're</font>

227
00:09:53,820 --> 00:09:57,750
<font color="#CCCCCC">probably getting left in the dust</font><font color="#E5E5E5"> but</font>

228
00:09:56,070 --> 00:10:00,690
that doesn't mean<font color="#CCCCCC"> that you're doing it</font>

229
00:09:57,750 --> 00:10:03,270
securely<font color="#E5E5E5"> continuous integration</font>

230
00:10:00,690 --> 00:10:07,740
<font color="#CCCCCC">I think continuously compromised</font>

231
00:10:03,270 --> 00:10:08,970
compilers<font color="#E5E5E5"> continuous delivery</font><font color="#CCCCCC"> software</font>

232
00:10:07,740 --> 00:10:12,090
<font color="#CCCCCC">that you</font><font color="#E5E5E5"> can't trust right from</font><font color="#CCCCCC"> the</font>

233
00:10:08,970 --> 00:10:13,830
beginning<font color="#E5E5E5"> and continuous deployment this</font>

234
00:10:12,090 --> 00:10:16,290
<font color="#E5E5E5">is the one that I'm</font><font color="#CCCCCC"> probably</font><font color="#E5E5E5"> like really</font>

235
00:10:13,830 --> 00:10:20,910
<font color="#E5E5E5">excited about now instead</font><font color="#CCCCCC"> of me trying</font>

236
00:10:16,290 --> 00:10:23,010
<font color="#E5E5E5">to hack one server air engineer and give</font>

237
00:10:20,910 --> 00:10:25,079
it through a few servers<font color="#E5E5E5"> and then maybe</font>

238
00:10:23,010 --> 00:10:28,200
hack the next engineer<font color="#E5E5E5"> it's all just</font>

239
00:10:25,080 --> 00:10:30,030
automated through<font color="#E5E5E5"> software which leads</font>

240
00:10:28,200 --> 00:10:31,710
to<font color="#E5E5E5"> the next</font><font color="#CCCCCC"> point use</font><font color="#E5E5E5"> this one cool</font>

241
00:10:30,030 --> 00:10:35,610
trick to<font color="#E5E5E5"> backdoor all the servers at</font>

242
00:10:31,710 --> 00:10:37,470
<font color="#CCCCCC">once so DevOps</font><font color="#E5E5E5"> has allowed companies</font><font color="#CCCCCC"> to</font>

243
00:10:35,610 --> 00:10:41,330
move a lot faster<font color="#E5E5E5"> but it's given a lot</font>

244
00:10:37,470 --> 00:10:43,860
of<font color="#CCCCCC"> new cool opportunities for attackers</font>

245
00:10:41,330 --> 00:10:45,660
and so this really<font color="#CCCCCC"> looked</font><font color="#E5E5E5"> like a talk</font>

246
00:10:43,860 --> 00:10:48,570
<font color="#E5E5E5">about DevOps</font><font color="#CCCCCC"> but I have a</font><font color="#E5E5E5"> really hard</font>

247
00:10:45,660 --> 00:10:49,800
time<font color="#E5E5E5"> like talking</font><font color="#CCCCCC"> about DevOps and</font><font color="#E5E5E5"> not</font>

248
00:10:48,570 --> 00:10:52,530
making<font color="#E5E5E5"> fun of it when it comes to</font>

249
00:10:49,800 --> 00:10:56,370
security<font color="#CCCCCC"> so I</font><font color="#E5E5E5"> just throw these in this</font>

250
00:10:52,530 --> 00:10:57,930
is basically an illustration for people

251
00:10:56,370 --> 00:11:00,270
that like is illustrations more than

252
00:10:57,930 --> 00:11:02,819
words<font color="#E5E5E5"> of how DevOps and security work</font>

253
00:11:00,270 --> 00:11:04,949
together and then<font color="#E5E5E5"> we might have some</font>

254
00:11:02,820 --> 00:11:08,550
more<font color="#E5E5E5"> like management type people in here</font>

255
00:11:04,950 --> 00:11:11,190
or a more concrete<font color="#E5E5E5"> focused one so I've</font>

256
00:11:08,550 --> 00:11:13,620
got like<font color="#CCCCCC"> a pyramid of kind</font><font color="#E5E5E5"> of wide</font>

257
00:11:11,190 --> 00:11:17,410
DevOps<font color="#E5E5E5"> is a challenge like why this</font>

258
00:11:13,620 --> 00:11:20,970
<font color="#E5E5E5">picture</font><font color="#CCCCCC"> is so here's our pyramid</font>

259
00:11:17,410 --> 00:11:22,598
at the<font color="#E5E5E5"> bottom of our pyramid</font><font color="#CCCCCC"> we've got a</font>

260
00:11:20,970 --> 00:11:25,059
source code that's full of

261
00:11:22,599 --> 00:11:27,339
vulnerabilities and<font color="#E5E5E5"> Sullivan barely is</font>

262
00:11:25,059 --> 00:11:29,469
because the developers got<font color="#E5E5E5"> told build a</font>

263
00:11:27,339 --> 00:11:30,910
feature<font color="#CCCCCC"> they didn't</font><font color="#E5E5E5"> get told</font><font color="#CCCCCC"> make sure</font>

264
00:11:29,470 --> 00:11:32,739
<font color="#CCCCCC">you're this</font><font color="#E5E5E5"> feature is unhackable</font>

265
00:11:30,910 --> 00:11:34,389
they got told<font color="#E5E5E5"> build a feature that's</font>

266
00:11:32,739 --> 00:11:38,619
<font color="#E5E5E5">their job they did it and it's full of</font>

267
00:11:34,389 --> 00:11:41,069
<font color="#E5E5E5">all but that's</font><font color="#CCCCCC"> okay</font><font color="#E5E5E5"> cuz</font><font color="#CCCCCC"> well test it and</font>

268
00:11:38,619 --> 00:11:44,109
we'll test it in<font color="#E5E5E5"> production because</font>

269
00:11:41,069 --> 00:11:46,569
<font color="#E5E5E5">that's the most realistic system to test</font>

270
00:11:44,109 --> 00:11:49,449
<font color="#E5E5E5">it in and now that we've got this cool</font>

271
00:11:46,569 --> 00:11:51,279
<font color="#E5E5E5">a/b testing methodology we can just kind</font>

272
00:11:49,449 --> 00:11:53,709
of stage the<font color="#E5E5E5"> vulnerable code to maybe</font>

273
00:11:51,279 --> 00:11:57,369
one tenth<font color="#E5E5E5"> of our viewers and only</font>

274
00:11:53,709 --> 00:11:59,529
they'll be vulnerable<font color="#CCCCCC"> until</font><font color="#E5E5E5"> we notice on</font>

275
00:11:57,369 --> 00:12:01,869
top of that<font color="#E5E5E5"> we've</font><font color="#CCCCCC"> got to</font><font color="#E5E5E5"> put all</font><font color="#CCCCCC"> these</font>

276
00:11:59,529 --> 00:12:03,099
systems on the<font color="#CCCCCC"> internet</font><font color="#E5E5E5"> so you want to</font>

277
00:12:01,869 --> 00:12:04,479
be successful<font color="#CCCCCC"> you</font><font color="#E5E5E5"> gotta look at</font>

278
00:12:03,099 --> 00:12:06,309
<font color="#E5E5E5">successful companies and</font><font color="#CCCCCC"> what they're</font>

279
00:12:04,479 --> 00:12:08,079
<font color="#E5E5E5">doing so you take someone</font><font color="#CCCCCC"> like Google</font>

280
00:12:06,309 --> 00:12:09,728
they don't have a network boundary they

281
00:12:08,079 --> 00:12:11,409
just put everything on the<font color="#CCCCCC"> internet</font><font color="#E5E5E5"> so</font>

282
00:12:09,729 --> 00:12:12,939
if we need<font color="#CCCCCC"> to be successful</font><font color="#E5E5E5"> we should</font>

283
00:12:11,409 --> 00:12:15,429
probably put<font color="#E5E5E5"> all</font><font color="#CCCCCC"> our deficits DevOps</font>

284
00:12:12,939 --> 00:12:18,519
system<font color="#E5E5E5"> right on the</font><font color="#CCCCCC"> internet and then</font>

285
00:12:15,429 --> 00:12:21,039
finally we're going<font color="#CCCCCC"> to sprinkle some AWS</font>

286
00:12:18,519 --> 00:12:22,929
<font color="#E5E5E5">keys or SSH keys or other other secret</font>

287
00:12:21,039 --> 00:12:24,220
key material<font color="#CCCCCC"> kind</font><font color="#E5E5E5"> of like when you go to</font>

288
00:12:22,929 --> 00:12:26,139
<font color="#CCCCCC">Olive Garden</font><font color="#E5E5E5"> you get like cheese on your</font>

289
00:12:24,220 --> 00:12:27,249
salad<font color="#CCCCCC"> you just like see how</font><font color="#E5E5E5"> much they'll</font>

290
00:12:26,139 --> 00:12:29,799
put<font color="#E5E5E5"> on that's that's what you do with</font>

291
00:12:27,249 --> 00:12:33,809
<font color="#CCCCCC">the crisps</font><font color="#E5E5E5"> so that's our DevOps pyramid</font>

292
00:12:29,799 --> 00:12:36,999
of why it's hard to do<font color="#E5E5E5"> DevOps</font><font color="#CCCCCC"> security</font>

293
00:12:33,809 --> 00:12:39,669
all<font color="#E5E5E5"> right so of that pyramid we're</font>

294
00:12:36,999 --> 00:12:40,959
targeting CI systems<font color="#CCCCCC"> and the reason I</font>

295
00:12:39,669 --> 00:12:42,939
thought it'd make<font color="#E5E5E5"> a good talk is they're</font>

296
00:12:40,959 --> 00:12:45,758
<font color="#E5E5E5">kind of the start of the chain of trust</font>

297
00:12:42,939 --> 00:12:47,919
<font color="#CCCCCC">you can compromise</font><font color="#E5E5E5"> a deployment system</font>

298
00:12:45,759 --> 00:12:51,309
but deployment system just deploys

299
00:12:47,919 --> 00:12:53,529
whatever the CI<font color="#E5E5E5"> system</font><font color="#CCCCCC"> built your CI</font>

300
00:12:51,309 --> 00:12:54,939
system<font color="#E5E5E5"> typically involves a lot of test</font>

301
00:12:53,529 --> 00:12:56,499
automation<font color="#E5E5E5"> it's usually running your</font>

302
00:12:54,939 --> 00:12:59,199
unit tests and<font color="#CCCCCC"> things like that for</font><font color="#E5E5E5"> you</font>

303
00:12:56,499 --> 00:13:02,679
and in<font color="#E5E5E5"> kind of more advanced systems</font>

304
00:12:59,199 --> 00:13:04,478
usually<font color="#E5E5E5"> those do a whole kind</font><font color="#CCCCCC"> of build</font>

305
00:13:02,679 --> 00:13:07,149
<font color="#CCCCCC">in a staging environment there's often a</font>

306
00:13:04,479 --> 00:13:12,759
lot<font color="#CCCCCC"> of</font><font color="#E5E5E5"> creds involved that</font><font color="#CCCCCC"> gets</font><font color="#E5E5E5"> shared</font>

307
00:13:07,149 --> 00:13:15,339
<font color="#CCCCCC">over to other environments</font><font color="#E5E5E5"> if the CI</font>

308
00:13:12,759 --> 00:13:16,929
system<font color="#E5E5E5"> is instead</font><font color="#CCCCCC"> of flowing a website</font>

309
00:13:15,339 --> 00:13:19,269
or<font color="#E5E5E5"> something like that it's building a</font>

310
00:13:16,929 --> 00:13:21,309
<font color="#E5E5E5">software application</font><font color="#CCCCCC"> if there's any code</font>

311
00:13:19,269 --> 00:13:24,369
signing<font color="#E5E5E5"> often the code signing cert will</font>

312
00:13:21,309 --> 00:13:26,469
get<font color="#E5E5E5"> loaded into the CI system</font><font color="#CCCCCC"> sometimes</font>

313
00:13:24,369 --> 00:13:28,929
<font color="#CCCCCC">to</font><font color="#E5E5E5"> the CI systems are actually used as a</font>

314
00:13:26,470 --> 00:13:30,769
deployment system so you get<font color="#CCCCCC"> a</font>

315
00:13:28,929 --> 00:13:34,999
<font color="#CCCCCC">two-for-one</font><font color="#E5E5E5"> deal if you hack to see</font>

316
00:13:30,769 --> 00:13:37,309
I system and finally<font color="#CCCCCC"> kind</font><font color="#E5E5E5"> of like all</font>

317
00:13:34,999 --> 00:13:38,989
areas of DevOps<font color="#CCCCCC"> many of these systems</font>

318
00:13:37,309 --> 00:13:41,779
haven't had very much

319
00:13:38,989 --> 00:13:45,379
security review of the specific<font color="#CCCCCC"> software</font>

320
00:13:41,779 --> 00:13:47,899
itself<font color="#CCCCCC"> so I've been looking at random CI</font>

321
00:13:45,379 --> 00:13:50,329
<font color="#CCCCCC">systems</font><font color="#E5E5E5"> deployment systems</font><font color="#CCCCCC"> what have you</font>

322
00:13:47,899 --> 00:13:51,439
over the last<font color="#E5E5E5"> few years and every time I</font>

323
00:13:50,329 --> 00:13:53,929
look at<font color="#E5E5E5"> it</font><font color="#CCCCCC"> I find some new</font>

324
00:13:51,439 --> 00:13:55,069
vulnerabilities<font color="#CCCCCC"> which kind</font><font color="#E5E5E5"> of tells me</font>

325
00:13:53,929 --> 00:13:58,839
that no one's really<font color="#CCCCCC"> done</font><font color="#E5E5E5"> a heavy</font>

326
00:13:55,069 --> 00:13:58,839
<font color="#CCCCCC">security audit of any of these products</font>

327
00:13:59,170 --> 00:14:04,189
so the the systems I chose<font color="#E5E5E5"> I needed to</font>

328
00:14:02,509 --> 00:14:06,559
<font color="#E5E5E5">choose some systems for this talk I</font>

329
00:14:04,189 --> 00:14:08,839
didn't want to choose too many<font color="#CCCCCC"> but I</font>

330
00:14:06,559 --> 00:14:11,988
want to<font color="#E5E5E5"> get a kind of a sampling so I</font>

331
00:14:08,839 --> 00:14:13,910
went on Google<font color="#E5E5E5"> and I came across the top</font>

332
00:14:11,989 --> 00:14:16,279
<font color="#E5E5E5">eight continuous integration tools</font>

333
00:14:13,910 --> 00:14:19,238
<font color="#CCCCCC">looked like this</font><font color="#E5E5E5"> so that that screamed</font>

334
00:14:16,279 --> 00:14:21,739
<font color="#E5E5E5">like legitimate Gartner quality result</font>

335
00:14:19,239 --> 00:14:26,839
and so<font color="#CCCCCC"> jenkins and team</font><font color="#E5E5E5"> citi</font><font color="#CCCCCC"> were the</font>

336
00:14:21,739 --> 00:14:29,389
<font color="#E5E5E5">top two after that was</font><font color="#CCCCCC"> Travis CI but</font>

337
00:14:26,839 --> 00:14:31,299
that is kind<font color="#E5E5E5"> of continuous integration</font>

338
00:14:29,389 --> 00:14:34,309
as a service you<font color="#CCCCCC"> don't host it yourself</font>

339
00:14:31,299 --> 00:14:37,639
<font color="#CCCCCC">didn't really match</font><font color="#E5E5E5"> what I wanted and</font>

340
00:14:34,309 --> 00:14:39,230
then<font color="#E5E5E5"> next one was go CD</font><font color="#CCCCCC"> but that has</font>

341
00:14:37,639 --> 00:14:42,799
continuous deployment in its name I

342
00:14:39,230 --> 00:14:46,999
wanted CI<font color="#E5E5E5"> so then bamboo was</font><font color="#CCCCCC"> fifth so it</font>

343
00:14:42,799 --> 00:14:49,360
made the<font color="#CCCCCC"> list</font><font color="#E5E5E5"> and Jenkins is made by</font>

344
00:14:46,999 --> 00:14:55,519
<font color="#E5E5E5">someone</font><font color="#CCCCCC"> King City is made by JetBrains</font>

345
00:14:49,360 --> 00:14:57,619
<font color="#E5E5E5">bamboos made by Atlassian</font><font color="#CCCCCC"> ok</font><font color="#E5E5E5"> so that</font>

346
00:14:55,519 --> 00:14:59,509
pretty lengthy intro but I think you

347
00:14:57,619 --> 00:15:00,559
need need<font color="#CCCCCC"> to understand what all</font><font color="#E5E5E5"> these</font>

348
00:14:59,509 --> 00:15:04,990
systems<font color="#CCCCCC"> aren't where they fit in</font>

349
00:15:00,559 --> 00:15:08,689
understand why compromising them is good

350
00:15:04,990 --> 00:15:10,040
<font color="#E5E5E5">so the biggest</font><font color="#CCCCCC"> issue with CI systems and</font>

351
00:15:08,689 --> 00:15:11,509
really<font color="#E5E5E5"> like I could do this slide and</font>

352
00:15:10,040 --> 00:15:14,599
kind<font color="#E5E5E5"> of stop here and it would give</font><font color="#CCCCCC"> you</font>

353
00:15:11,509 --> 00:15:16,399
enough<font color="#CCCCCC"> to go on</font><font color="#E5E5E5"> to either</font><font color="#CCCCCC"> compromise or</font>

354
00:15:14,600 --> 00:15:18,769
spend a lot of time<font color="#E5E5E5"> trying to fix your</font>

355
00:15:16,399 --> 00:15:21,499
system and it's the fact<font color="#E5E5E5"> that they're</font>

356
00:15:18,769 --> 00:15:22,939
they're continuously<font color="#E5E5E5"> misconfigured you</font>

357
00:15:21,499 --> 00:15:24,619
generally don't even need any

358
00:15:22,939 --> 00:15:27,169
vulnerabilities in any of these<font color="#E5E5E5"> three</font>

359
00:15:24,619 --> 00:15:29,809
<font color="#E5E5E5">software packages to hack into one of</font>

360
00:15:27,169 --> 00:15:32,299
these<font color="#CCCCCC"> systems they're they're always</font>

361
00:15:29,809 --> 00:15:34,040
going<font color="#E5E5E5"> to be misconfigured and so I</font>

362
00:15:32,299 --> 00:15:35,629
thought a<font color="#CCCCCC"> little bit</font><font color="#E5E5E5"> about why every</font>

363
00:15:34,040 --> 00:15:38,089
<font color="#CCCCCC">time I come across</font><font color="#E5E5E5"> one of these</font><font color="#CCCCCC"> systems</font>

364
00:15:35,629 --> 00:15:39,769
it's misconfigured and it kind of ties

365
00:15:38,089 --> 00:15:42,740
<font color="#CCCCCC">to what the continuous integration</font>

366
00:15:39,769 --> 00:15:44,720
products have to<font color="#E5E5E5"> be so to be</font><font color="#CCCCCC"> successful</font>

367
00:15:42,740 --> 00:15:47,320
they've got to be highly configurable

368
00:15:44,720 --> 00:15:50,030
and adaptable when companies have

369
00:15:47,320 --> 00:15:51,830
development and build environments<font color="#CCCCCC"> there</font>

370
00:15:50,030 --> 00:15:54,079
<font color="#CCCCCC">are always these systems that</font><font color="#E5E5E5"> have</font>

371
00:15:51,830 --> 00:15:56,690
evolved over<font color="#E5E5E5"> time</font><font color="#CCCCCC"> they've got all kinds</font>

372
00:15:54,080 --> 00:15:59,360
of<font color="#E5E5E5"> things</font><font color="#CCCCCC"> Cluj together</font><font color="#E5E5E5"> the build works</font>

373
00:15:56,690 --> 00:16:01,520
but just<font color="#E5E5E5"> barely</font><font color="#CCCCCC"> and so to tie that then</font>

374
00:15:59,360 --> 00:16:03,350
into<font color="#CCCCCC"> a CI product the CI product has to</font>

375
00:16:01,520 --> 00:16:05,810
<font color="#E5E5E5">be very extensible has to be very</font>

376
00:16:03,350 --> 00:16:07,280
flexible<font color="#CCCCCC"> it has to be able</font><font color="#E5E5E5"> to match all</font>

377
00:16:05,810 --> 00:16:11,540
kinds<font color="#E5E5E5"> of create the environments</font><font color="#CCCCCC"> that</font>

378
00:16:07,280 --> 00:16:13,240
companies have the issue with<font color="#CCCCCC"> that or</font>

379
00:16:11,540 --> 00:16:16,819
the challenge with that is<font color="#CCCCCC"> that</font>

380
00:16:13,240 --> 00:16:19,250
complexity<font color="#E5E5E5"> and security are two offices</font>

381
00:16:16,820 --> 00:16:22,010
<font color="#CCCCCC">you can either have a system or a</font>

382
00:16:19,250 --> 00:16:25,340
function or communications protocol that

383
00:16:22,010 --> 00:16:30,740
is secure or you can have<font color="#CCCCCC"> one that's</font>

384
00:16:25,340 --> 00:16:32,330
<font color="#E5E5E5">complex as soon as it gets</font><font color="#CCCCCC"> any</font><font color="#E5E5E5"> level of</font>

385
00:16:30,740 --> 00:16:35,180
complexity<font color="#E5E5E5"> that's hard to understand</font>

386
00:16:32,330 --> 00:16:37,220
<font color="#E5E5E5">there starts to</font><font color="#CCCCCC"> be</font><font color="#E5E5E5"> mistakes made and</font>

387
00:16:35,180 --> 00:16:39,800
<font color="#E5E5E5">implementation and even the design</font>

388
00:16:37,220 --> 00:16:41,720
<font color="#E5E5E5">really people</font><font color="#CCCCCC"> stop to understand how it</font>

389
00:16:39,800 --> 00:16:48,670
works<font color="#CCCCCC"> so it's</font><font color="#E5E5E5"> very difficult to audit</font>

390
00:16:41,720 --> 00:16:51,350
<font color="#E5E5E5">for security</font><font color="#CCCCCC"> and as well go over</font><font color="#E5E5E5"> soon</font>

391
00:16:48,670 --> 00:16:53,569
<font color="#CCCCCC">for many of these continuous integration</font>

392
00:16:51,350 --> 00:16:56,420
systems<font color="#E5E5E5"> you're kind of at a disadvantage</font>

393
00:16:53,570 --> 00:16:59,150
<font color="#E5E5E5">from day one</font><font color="#CCCCCC"> when</font><font color="#E5E5E5"> you do a fresh install</font>

394
00:16:56,420 --> 00:17:03,829
a lot of the install default options

395
00:16:59,150 --> 00:17:05,720
<font color="#E5E5E5">actually pose either somewhat</font><font color="#CCCCCC"> of a</font>

396
00:17:03,830 --> 00:17:08,060
<font color="#CCCCCC">vulnerability</font><font color="#E5E5E5"> or leave your system</font>

397
00:17:05,720 --> 00:17:10,100
directly vulnerable this is actually

398
00:17:08,060 --> 00:17:12,829
kind of a<font color="#E5E5E5"> trend within like DevOps and</font>

399
00:17:10,099 --> 00:17:15,198
all the new software packages you got

400
00:17:12,829 --> 00:17:17,629
MongoDB or<font color="#E5E5E5"> whatever elasticsearch and</font>

401
00:17:15,199 --> 00:17:20,720
they all say well security<font color="#E5E5E5"> is up to the</font>

402
00:17:17,630 --> 00:17:24,439
user the implementer<font color="#E5E5E5"> out of the box none</font>

403
00:17:20,720 --> 00:17:26,689
of<font color="#CCCCCC"> that's turned on five</font><font color="#E5E5E5"> ten years</font><font color="#CCCCCC"> ago</font>

404
00:17:24,439 --> 00:17:29,450
that<font color="#CCCCCC"> used</font><font color="#E5E5E5"> to get you like</font><font color="#CCCCCC"> a CVG like Oh</font>

405
00:17:26,689 --> 00:17:32,300
install uses it will password just<font color="#CCCCCC"> login</font>

406
00:17:29,450 --> 00:17:33,950
<font color="#CCCCCC">with sa what could go wrong but</font><font color="#E5E5E5"> we're</font>

407
00:17:32,300 --> 00:17:37,520
kind<font color="#E5E5E5"> of swinging back that way</font><font color="#CCCCCC"> and so</font><font color="#E5E5E5"> CI</font>

408
00:17:33,950 --> 00:17:40,070
systems are no different<font color="#CCCCCC"> high level for</font>

409
00:17:37,520 --> 00:17:43,100
<font color="#E5E5E5">this this slide though if you just</font>

410
00:17:40,070 --> 00:17:46,100
<font color="#CCCCCC">wonder why does any of this matter your</font>

411
00:17:43,100 --> 00:17:48,439
company<font color="#E5E5E5"> has a CI system it's definitely</font>

412
00:17:46,100 --> 00:17:50,540
going to be misconfigured<font color="#CCCCCC"> let's hope</font>

413
00:17:48,440 --> 00:17:56,390
it's not<font color="#E5E5E5"> on the internet so you need to</font>

414
00:17:50,540 --> 00:17:57,920
like go and<font color="#E5E5E5"> find it okay so default</font>

415
00:17:56,390 --> 00:17:58,309
configurations is what I'll go through

416
00:17:57,920 --> 00:18:00,489
first

417
00:17:58,309 --> 00:18:04,700
so I installed<font color="#E5E5E5"> each of these CI systems</font>

418
00:18:00,489 --> 00:18:06,769
<font color="#CCCCCC">just a couple weeks ago fresh install</font>

419
00:18:04,700 --> 00:18:09,559
and took a<font color="#E5E5E5"> look at how does it give</font><font color="#CCCCCC"> you</font>

420
00:18:06,769 --> 00:18:12,440
<font color="#E5E5E5">its configuration so Jenkins which</font>

421
00:18:09,559 --> 00:18:13,820
previously was Hudson<font color="#E5E5E5"> is almost a decade</font>

422
00:18:12,440 --> 00:18:15,739
<font color="#CCCCCC">old it's actually a tool that's been</font>

423
00:18:13,820 --> 00:18:18,649
<font color="#CCCCCC">around for a really</font><font color="#E5E5E5"> long time</font>

424
00:18:15,739 --> 00:18:20,599
<font color="#E5E5E5">and when it first started out it wasn't</font>

425
00:18:18,649 --> 00:18:23,090
designed to<font color="#E5E5E5"> have really any security</font>

426
00:18:20,599 --> 00:18:25,489
functionality<font color="#E5E5E5"> the design for it was</font><font color="#CCCCCC"> you</font>

427
00:18:23,090 --> 00:18:26,570
have a trusted<font color="#CCCCCC"> network somewhere</font><font color="#E5E5E5"> ideally</font>

428
00:18:25,489 --> 00:18:28,789
that's<font color="#E5E5E5"> not even connected</font><font color="#CCCCCC"> to the</font>

429
00:18:26,570 --> 00:18:30,289
<font color="#E5E5E5">Internet you</font><font color="#CCCCCC"> do your source code</font>

430
00:18:28,789 --> 00:18:32,779
check-ins and your builds on this

431
00:18:30,289 --> 00:18:34,759
network<font color="#E5E5E5"> and if a</font><font color="#CCCCCC"> developer can get to</font>

432
00:18:32,779 --> 00:18:38,869
the network<font color="#CCCCCC"> then</font><font color="#E5E5E5"> you're</font><font color="#CCCCCC"> they're</font><font color="#E5E5E5"> assumed</font>

433
00:18:34,759 --> 00:18:40,669
trusted<font color="#E5E5E5"> over the last four years it's</font>

434
00:18:38,869 --> 00:18:42,709
<font color="#E5E5E5">become more and more of a mainstream</font>

435
00:18:40,669 --> 00:18:45,109
tool<font color="#E5E5E5"> and so people</font><font color="#CCCCCC"> are</font><font color="#E5E5E5"> starting to use</font>

436
00:18:42,710 --> 00:18:47,749
<font color="#CCCCCC">in all sorts of environments so the</font>

437
00:18:45,109 --> 00:18:50,330
Jenkins<font color="#E5E5E5"> team has been adding security</font>

438
00:18:47,749 --> 00:18:51,679
features and<font color="#CCCCCC"> actually in the last couple</font>

439
00:18:50,330 --> 00:18:54,589
<font color="#E5E5E5">years</font><font color="#CCCCCC"> that</font><font color="#E5E5E5"> made a lot</font><font color="#CCCCCC"> of security</font>

440
00:18:51,679 --> 00:18:56,299
<font color="#E5E5E5">improvements partly due to having a lot</font>

441
00:18:54,589 --> 00:19:00,349
of<font color="#E5E5E5"> security vulnerabilities</font><font color="#CCCCCC"> reported to</font>

442
00:18:56,299 --> 00:19:02,719
them that said if you<font color="#CCCCCC"> have an install</font>

443
00:19:00,349 --> 00:19:04,609
<font color="#E5E5E5">that you did maybe four</font><font color="#CCCCCC"> years ago</font>

444
00:19:02,719 --> 00:19:07,789
<font color="#E5E5E5">chances are it's using some of those</font>

445
00:19:04,609 --> 00:19:09,320
<font color="#CCCCCC">whole default config options</font><font color="#E5E5E5"> so even if</font>

446
00:19:07,789 --> 00:19:11,389
<font color="#E5E5E5">you've applied all</font><font color="#CCCCCC"> the latest</font><font color="#E5E5E5"> patches</font>

447
00:19:09,320 --> 00:19:16,549
your configuration itself<font color="#E5E5E5"> might be the</font>

448
00:19:11,389 --> 00:19:19,218
vulnerability<font color="#CCCCCC"> by</font><font color="#E5E5E5"> default the server</font>

449
00:19:16,549 --> 00:19:23,389
<font color="#E5E5E5">listens on port 8080</font><font color="#CCCCCC"> which isn't too</font>

450
00:19:19,219 --> 00:19:25,099
significant<font color="#E5E5E5"> it it's also not going to be</font>

451
00:19:23,389 --> 00:19:26,508
<font color="#CCCCCC">something super easy to search for just</font>

452
00:19:25,099 --> 00:19:29,658
don't<font color="#E5E5E5"> internet lots of stuff runs on</font>

453
00:19:26,509 --> 00:19:32,450
that<font color="#CCCCCC"> a fresh install forces a</font>

454
00:19:29,659 --> 00:19:34,009
<font color="#CCCCCC">user-defined</font><font color="#E5E5E5"> password otherwise</font><font color="#CCCCCC"> it</font>

455
00:19:32,450 --> 00:19:37,669
generates an admin password for you

456
00:19:34,009 --> 00:19:42,169
that's<font color="#E5E5E5"> pretty strong</font><font color="#CCCCCC"> by</font><font color="#E5E5E5"> default user</font>

457
00:19:37,669 --> 00:19:44,269
registration is disabled<font color="#E5E5E5"> but by</font><font color="#CCCCCC"> default</font>

458
00:19:42,169 --> 00:19:46,849
the authentication scheme that it

459
00:19:44,269 --> 00:19:49,609
chooses<font color="#CCCCCC"> is just that any user is full</font>

460
00:19:46,849 --> 00:19:51,769
admin so if you've done a fresh<font color="#E5E5E5"> install</font>

461
00:19:49,609 --> 00:19:53,718
and then just added five developers<font color="#E5E5E5"> to</font>

462
00:19:51,769 --> 00:19:57,499
this all five developers are<font color="#E5E5E5"> going to</font>

463
00:19:53,719 --> 00:20:00,440
have full<font color="#CCCCCC"> control of the system when</font>

464
00:19:57,499 --> 00:20:02,059
you're<font color="#E5E5E5"> doing install as</font><font color="#CCCCCC"> well there's two</font>

465
00:20:00,440 --> 00:20:04,489
options you're given one<font color="#E5E5E5"> is no plugins</font>

466
00:20:02,059 --> 00:20:06,830
<font color="#E5E5E5">another recommended option is</font><font color="#CCCCCC"> they</font>

467
00:20:04,489 --> 00:20:08,929
install a<font color="#E5E5E5"> bunch of plugins there's when</font>

468
00:20:06,830 --> 00:20:10,220
I did install<font color="#CCCCCC"> 66 plugins that it</font>

469
00:20:08,929 --> 00:20:12,050
recommends<font color="#E5E5E5"> you're probably going to want</font>

470
00:20:10,220 --> 00:20:15,620
and I'm going<font color="#CCCCCC"> to talk about</font>

471
00:20:12,050 --> 00:20:18,020
<font color="#E5E5E5">plugins briefly in a bit and then last</font>

472
00:20:15,620 --> 00:20:20,449
<font color="#E5E5E5">thing to note is that it installed the</font>

473
00:20:18,020 --> 00:20:22,940
build slave<font color="#CCCCCC"> right on to the bill master</font>

474
00:20:20,450 --> 00:20:24,610
server<font color="#E5E5E5"> in the default configuration</font><font color="#CCCCCC"> and</font>

475
00:20:22,940 --> 00:20:28,670
this<font color="#E5E5E5"> would be important as well later</font>

476
00:20:24,610 --> 00:20:31,280
when we go over<font color="#E5E5E5"> that side of things but</font>

477
00:20:28,670 --> 00:20:33,980
<font color="#E5E5E5">overall if you just did a default</font>

478
00:20:31,280 --> 00:20:35,420
installed in add<font color="#CCCCCC"> anymore</font><font color="#E5E5E5"> users</font><font color="#CCCCCC"> the</font>

479
00:20:33,980 --> 00:20:39,860
current configuration actually isn't<font color="#E5E5E5"> too</font>

480
00:20:35,420 --> 00:20:41,900
<font color="#E5E5E5">bad</font><font color="#CCCCCC"> it's</font><font color="#E5E5E5"> kind</font><font color="#CCCCCC"> of fun</font><font color="#E5E5E5"> to look at the</font>

481
00:20:39,860 --> 00:20:44,750
<font color="#E5E5E5">historical default config options that</font>

482
00:20:41,900 --> 00:20:47,360
used<font color="#E5E5E5"> to be there</font><font color="#CCCCCC"> so they used to have a</font>

483
00:20:44,750 --> 00:20:50,210
<font color="#E5E5E5">checkbox that said hey enable security</font>

484
00:20:47,360 --> 00:20:52,310
<font color="#E5E5E5">and this man enable any sort of a fennec</font>

485
00:20:50,210 --> 00:20:54,710
<font color="#E5E5E5">ation and</font><font color="#CCCCCC"> I'm</font><font color="#E5E5E5"> pretty</font><font color="#CCCCCC"> sure if I remember</font>

486
00:20:52,310 --> 00:20:57,500
<font color="#CCCCCC">right this just used to be by default</font>

487
00:20:54,710 --> 00:20:59,270
<font color="#CCCCCC">not check and then eventually they</font><font color="#E5E5E5"> did</font>

488
00:20:57,500 --> 00:21:05,030
made they made<font color="#CCCCCC"> this</font><font color="#E5E5E5"> default that is</font>

489
00:20:59,270 --> 00:21:08,060
<font color="#E5E5E5">checked another fun one is CSRF the</font>

490
00:21:05,030 --> 00:21:10,340
requirement<font color="#CCCCCC"> for that on any request</font><font color="#E5E5E5"> to</font>

491
00:21:08,060 --> 00:21:12,290
the web<font color="#E5E5E5"> interface</font><font color="#CCCCCC"> this</font><font color="#E5E5E5"> just used to be</font>

492
00:21:10,340 --> 00:21:14,149
something<font color="#CCCCCC"> they didn't support</font><font color="#E5E5E5"> and then</font>

493
00:21:12,290 --> 00:21:19,730
eventually they added it<font color="#CCCCCC"> in is optional</font>

494
00:21:14,150 --> 00:21:22,070
<font color="#CCCCCC">and now it's a full default and then the</font>

495
00:21:19,730 --> 00:21:24,170
last one is agent to master<font color="#CCCCCC"> control</font>

496
00:21:22,070 --> 00:21:26,629
which I'll<font color="#E5E5E5"> talk about briefly later as</font>

497
00:21:24,170 --> 00:21:29,060
well<font color="#E5E5E5"> but that</font><font color="#CCCCCC"> used</font><font color="#E5E5E5"> to never be there and</font>

498
00:21:26,630 --> 00:21:32,620
instead they just<font color="#E5E5E5"> documented an agent</font>

499
00:21:29,060 --> 00:21:32,620
has full control<font color="#CCCCCC"> over</font><font color="#E5E5E5"> the master</font>

500
00:21:32,810 --> 00:21:37,399
moving on to<font color="#CCCCCC"> teamcity so when you do a</font>

501
00:21:35,630 --> 00:21:44,300
fresh install the default server listens

502
00:21:37,400 --> 00:21:46,970
<font color="#E5E5E5">on port 8000 111 and when you do the</font>

503
00:21:44,300 --> 00:21:49,250
<font color="#CCCCCC">install</font><font color="#E5E5E5"> you're forced to</font><font color="#CCCCCC"> choose both</font><font color="#E5E5E5"> a</font>

504
00:21:46,970 --> 00:21:51,710
<font color="#CCCCCC">username for that mint user as well as a</font>

505
00:21:49,250 --> 00:21:55,580
<font color="#E5E5E5">password so it's kind of</font><font color="#CCCCCC"> up</font><font color="#E5E5E5"> to</font><font color="#CCCCCC"> the</font>

506
00:21:51,710 --> 00:21:57,890
installer how strong that<font color="#CCCCCC"> is a big issue</font>

507
00:21:55,580 --> 00:22:00,159
with<font color="#E5E5E5"> this system though is</font><font color="#CCCCCC"> that</font><font color="#E5E5E5"> user</font>

508
00:21:57,890 --> 00:22:02,450
registration is enabled by default<font color="#E5E5E5"> and</font>

509
00:22:00,160 --> 00:22:04,310
<font color="#CCCCCC">it's I</font><font color="#E5E5E5"> don't know if I'd</font><font color="#CCCCCC"> say</font><font color="#E5E5E5"> it's hidden</font>

510
00:22:02,450 --> 00:22:08,150
in the<font color="#E5E5E5"> configuration menu but you got to</font>

511
00:22:04,310 --> 00:22:10,399
go look for it to turn<font color="#E5E5E5"> it off other</font>

512
00:22:08,150 --> 00:22:13,760
interesting piece<font color="#CCCCCC"> of</font><font color="#E5E5E5"> this is that</font><font color="#CCCCCC"> by</font>

513
00:22:10,400 --> 00:22:18,080
default<font color="#CCCCCC"> all user accounts are put into</font>

514
00:22:13,760 --> 00:22:19,760
the group project developer which<font color="#E5E5E5"> chains</font>

515
00:22:18,080 --> 00:22:21,610
up the group levels which I'll talk a

516
00:22:19,760 --> 00:22:24,200
<font color="#E5E5E5">bit more about later</font>

517
00:22:21,610 --> 00:22:25,909
by default the build slaves use

518
00:22:24,200 --> 00:22:28,430
unidirectional communication

519
00:22:25,910 --> 00:22:33,290
and by default<font color="#E5E5E5"> there's one build slave</font>

520
00:22:28,430 --> 00:22:35,240
installed<font color="#E5E5E5"> onto the master server</font><font color="#CCCCCC"> next is</font>

521
00:22:33,290 --> 00:22:38,120
bamboo<font color="#E5E5E5"> this is the last of the three</font>

522
00:22:35,240 --> 00:22:41,300
<font color="#CCCCCC">that I looked at</font><font color="#E5E5E5"> so a default install of</font>

523
00:22:38,120 --> 00:22:42,560
this<font color="#E5E5E5"> listens on port 80 85 and I</font>

524
00:22:41,300 --> 00:22:43,970
mentioned all these port numbers<font color="#CCCCCC"> just</font>

525
00:22:42,560 --> 00:22:46,610
because if you're<font color="#E5E5E5"> on your network you go</font>

526
00:22:43,970 --> 00:22:48,980
looking<font color="#CCCCCC"> for</font><font color="#E5E5E5"> one of</font><font color="#CCCCCC"> these ports combine</font>

527
00:22:46,610 --> 00:22:50,510
<font color="#CCCCCC">that with the page title of bamboo or</font>

528
00:22:48,980 --> 00:22:53,000
<font color="#CCCCCC">teamcity or whatever it can</font><font color="#E5E5E5"> be a really</font>

529
00:22:50,510 --> 00:22:57,440
<font color="#E5E5E5">great way to just find what might be a</font>

530
00:22:53,000 --> 00:22:58,790
default install<font color="#E5E5E5"> with bamboo they're</font>

531
00:22:57,440 --> 00:23:01,370
forced<font color="#CCCCCC"> to choose</font><font color="#E5E5E5"> both a username and</font>

532
00:22:58,790 --> 00:23:04,159
<font color="#CCCCCC">password as well</font><font color="#E5E5E5"> just like</font><font color="#CCCCCC"> team city and</font>

533
00:23:01,370 --> 00:23:08,840
like team<font color="#E5E5E5"> city user registration is also</font>

534
00:23:04,160 --> 00:23:10,700
<font color="#E5E5E5">enabled by</font><font color="#CCCCCC"> default when you register in</font>

535
00:23:08,840 --> 00:23:13,760
your<font color="#E5E5E5"> user they're put into</font><font color="#CCCCCC"> the user</font><font color="#E5E5E5"> a</font>

536
00:23:10,700 --> 00:23:15,890
<font color="#CCCCCC">beer user group and that group really</font>

537
00:23:13,760 --> 00:23:19,370
<font color="#E5E5E5">only has view</font><font color="#CCCCCC"> access to the system so</font>

538
00:23:15,890 --> 00:23:21,910
it's pretty<font color="#CCCCCC"> limited but what is also</font>

539
00:23:19,370 --> 00:23:25,159
<font color="#E5E5E5">really interesting</font><font color="#CCCCCC"> is that</font><font color="#E5E5E5"> by default</font>

540
00:23:21,910 --> 00:23:25,850
<font color="#CCCCCC">you don't even</font><font color="#E5E5E5"> need</font><font color="#CCCCCC"> to log in</font><font color="#E5E5E5"> to get</font><font color="#CCCCCC"> Mew</font>

541
00:23:25,160 --> 00:23:28,400
permission

542
00:23:25,850 --> 00:23:30,919
so unattentive<font color="#CCCCCC"> kated users also</font><font color="#E5E5E5"> inherit</font>

543
00:23:28,400 --> 00:23:35,420
that view permission<font color="#E5E5E5"> I don't have a</font>

544
00:23:30,920 --> 00:23:37,550
<font color="#E5E5E5">bullet here for that but it's true by</font>

545
00:23:35,420 --> 00:23:40,640
default<font color="#CCCCCC"> there's only two groups bamboo</font>

546
00:23:37,550 --> 00:23:42,050
admin so similar to<font color="#E5E5E5"> Jenkins</font><font color="#CCCCCC"> if you add</font>

547
00:23:40,640 --> 00:23:44,150
five developers to your freshly

548
00:23:42,050 --> 00:23:46,010
<font color="#E5E5E5">installed bamboo server you're going</font><font color="#CCCCCC"> to</font>

549
00:23:44,150 --> 00:23:47,780
put them in the admin<font color="#E5E5E5"> group so that they</font>

550
00:23:46,010 --> 00:23:53,240
can actually do things but that gives

551
00:23:47,780 --> 00:23:55,370
<font color="#E5E5E5">them full control of the server another</font>

552
00:23:53,240 --> 00:23:57,560
another interesting option<font color="#CCCCCC"> that's</font>

553
00:23:55,370 --> 00:24:01,909
checked is resolved<font color="#E5E5E5"> artifact contents by</font>

554
00:23:57,560 --> 00:24:03,500
extension<font color="#E5E5E5"> so this this option</font><font color="#CCCCCC"> gives you</font>

555
00:24:01,910 --> 00:24:05,390
a hyperlink and<font color="#E5E5E5"> go read the help and it</font>

556
00:24:03,500 --> 00:24:07,250
says this would lead to cross-site

557
00:24:05,390 --> 00:24:09,980
scripting attacks if someone checks<font color="#E5E5E5"> in</font>

558
00:24:07,250 --> 00:24:13,880
say a web page and then makes that a

559
00:24:09,980 --> 00:24:16,100
build artifact<font color="#CCCCCC"> but that's a default and</font>

560
00:24:13,880 --> 00:24:19,700
this one<font color="#CCCCCC"> as well a build slave installed</font>

561
00:24:16,100 --> 00:24:21,530
<font color="#CCCCCC">onto the build master server</font><font color="#E5E5E5"> so I</font>

562
00:24:19,700 --> 00:24:24,230
mentioned<font color="#E5E5E5"> that</font><font color="#CCCCCC"> you</font><font color="#E5E5E5"> can go look on your</font>

563
00:24:21,530 --> 00:24:26,389
<font color="#E5E5E5">own</font><font color="#CCCCCC"> network for these ports but what</font>

564
00:24:24,230 --> 00:24:29,480
what often<font color="#E5E5E5"> happens and there was some</font>

565
00:24:26,390 --> 00:24:32,110
write-ups on this a<font color="#E5E5E5"> couple years</font><font color="#CCCCCC"> ago</font><font color="#E5E5E5"> and</font>

566
00:24:29,480 --> 00:24:35,600
<font color="#CCCCCC">people kind</font><font color="#E5E5E5"> of started to</font><font color="#CCCCCC"> go looking is</font>

567
00:24:32,110 --> 00:24:36,560
<font color="#CCCCCC">numbers stage 3 of</font><font color="#E5E5E5"> our DevOps pyramid</font>

568
00:24:35,600 --> 00:24:37,909
you don't want to have boundaries

569
00:24:36,560 --> 00:24:39,470
anymore<font color="#E5E5E5"> you don't want to have this on</font>

570
00:24:37,910 --> 00:24:41,360
<font color="#CCCCCC">your internal network</font>

571
00:24:39,470 --> 00:24:43,130
<font color="#CCCCCC">have you no teams around</font><font color="#E5E5E5"> the</font><font color="#CCCCCC"> world</font><font color="#E5E5E5"> all</font>

572
00:24:41,360 --> 00:24:46,850
accessing<font color="#E5E5E5"> your build server which you've</font>

573
00:24:43,130 --> 00:24:51,230
made<font color="#CCCCCC"> online so I went on showdown</font><font color="#E5E5E5"> and</font>

574
00:24:46,850 --> 00:24:54,799
<font color="#E5E5E5">search for port 8080 and the word</font>

575
00:24:51,230 --> 00:24:58,700
Jenkins<font color="#E5E5E5"> and that came back with just</font>

576
00:24:54,799 --> 00:25:00,230
<font color="#CCCCCC">under</font><font color="#E5E5E5"> 20,000 hosts online</font><font color="#CCCCCC"> I then did</font>

577
00:24:58,700 --> 00:25:02,750
like a few more<font color="#E5E5E5"> searches to make sure</font>

578
00:25:00,230 --> 00:25:04,309
they were<font color="#CCCCCC"> Jenkins</font><font color="#E5E5E5"> and then I put that</font>

579
00:25:02,750 --> 00:25:07,870
Jenkins needs to be in the<font color="#CCCCCC"> title because</font>

580
00:25:04,309 --> 00:25:11,360
<font color="#E5E5E5">it always is and that only ended up with</font>

581
00:25:07,870 --> 00:25:13,928
<font color="#CCCCCC">3,400 hosts online I then did a bunch</font>

582
00:25:11,360 --> 00:25:17,000
<font color="#CCCCCC">more queries and basically showed</font><font color="#E5E5E5"> end</font>

583
00:25:13,929 --> 00:25:19,220
<font color="#E5E5E5">100% flaky on how it does its searching</font>

584
00:25:17,000 --> 00:25:20,900
algorithms so<font color="#CCCCCC"> anytime</font><font color="#E5E5E5"> you see</font><font color="#CCCCCC"> a</font>

585
00:25:19,220 --> 00:25:22,520
presentation<font color="#E5E5E5"> and people are referencing</font>

586
00:25:20,900 --> 00:25:24,860
<font color="#CCCCCC">showdown the numbers are almost</font>

587
00:25:22,520 --> 00:25:28,010
<font color="#E5E5E5">definitely wrong because showed in</font><font color="#CCCCCC"> does</font>

588
00:25:24,860 --> 00:25:30,649
really<font color="#E5E5E5"> weird things with its search but</font>

589
00:25:28,010 --> 00:25:33,230
I didn't stop me<font color="#CCCCCC"> I kept on going next</font>

590
00:25:30,650 --> 00:25:36,830
<font color="#CCCCCC">was team city showdown doesn't know</font>

591
00:25:33,230 --> 00:25:39,770
about<font color="#E5E5E5"> for 8111</font>

592
00:25:36,830 --> 00:25:43,340
or at least acclaimed it<font color="#E5E5E5"> in but just</font>

593
00:25:39,770 --> 00:25:47,960
searching<font color="#E5E5E5"> on any port I found</font><font color="#CCCCCC"> 3200 hosts</font>

594
00:25:43,340 --> 00:25:50,389
<font color="#E5E5E5">and then</font><font color="#CCCCCC"> for last name bamboo</font><font color="#E5E5E5"> found a</font>

595
00:25:47,960 --> 00:25:52,580
grand total<font color="#CCCCCC"> of 2 so I guess it's</font><font color="#E5E5E5"> not</font>

596
00:25:50,390 --> 00:25:58,400
very<font color="#E5E5E5"> popular</font><font color="#CCCCCC"> or show them doesn't index</font>

597
00:25:52,580 --> 00:26:00,710
it well<font color="#E5E5E5"> or</font><font color="#CCCCCC"> maybe both but all of these</font>

598
00:25:58,400 --> 00:26:01,880
<font color="#CCCCCC">are not necessarily</font><font color="#E5E5E5"> going to be defaults</font>

599
00:26:00,710 --> 00:26:03,500
but I was<font color="#E5E5E5"> trying</font><font color="#CCCCCC"> to pair it</font><font color="#E5E5E5"> up with the</font>

600
00:26:01,880 --> 00:26:06,289
port to go with the theory of if you're

601
00:26:03,500 --> 00:26:07,370
still running<font color="#CCCCCC"> this on for 8080 maybe</font>

602
00:26:06,289 --> 00:26:11,450
you're<font color="#E5E5E5"> still using a</font><font color="#CCCCCC"> lot of</font><font color="#E5E5E5"> other</font>

603
00:26:07,370 --> 00:26:17,809
<font color="#E5E5E5">defaults</font><font color="#CCCCCC"> this leads to</font><font color="#E5E5E5"> kind</font><font color="#CCCCCC"> of a fun</font>

604
00:26:11,450 --> 00:26:20,570
story because I love fun stories<font color="#E5E5E5"> so you</font>

605
00:26:17,809 --> 00:26:24,168
find yourself<font color="#E5E5E5"> 14,000 Jenkins servers on</font>

606
00:26:20,570 --> 00:26:25,908
<font color="#CCCCCC">showdown</font><font color="#E5E5E5"> you think to yourself wouldn't</font>

607
00:26:24,169 --> 00:26:28,490
be fun to see which one of these<font color="#E5E5E5"> have</font>

608
00:26:25,909 --> 00:26:31,309
user registrations enabled build myself

609
00:26:28,490 --> 00:26:33,950
a new project<font color="#CCCCCC"> add</font><font color="#E5E5E5"> a build command send</font>

610
00:26:31,309 --> 00:26:37,190
myself a shell<font color="#CCCCCC"> route</font><font color="#E5E5E5"> the</font><font color="#CCCCCC"> whole company</font>

611
00:26:33,950 --> 00:26:39,799
<font color="#CCCCCC">I'll be a</font><font color="#E5E5E5"> great hacker but just because</font>

612
00:26:37,190 --> 00:26:41,480
<font color="#E5E5E5">you can doesn't mean that you should so</font>

613
00:26:39,799 --> 00:26:43,070
whoever in<font color="#CCCCCC"> the audience</font><font color="#E5E5E5"> there's at least</font>

614
00:26:41,480 --> 00:26:46,039
<font color="#E5E5E5">one person</font><font color="#CCCCCC"> I'm sure</font><font color="#E5E5E5"> he's like I'm gonna</font>

615
00:26:43,070 --> 00:26:50,299
<font color="#E5E5E5">pull some</font><font color="#CCCCCC"> Jenkin boxes right now</font>

616
00:26:46,039 --> 00:26:52,520
<font color="#CCCCCC">I was the story here is I</font><font color="#E5E5E5"> was doing a</font>

617
00:26:50,299 --> 00:26:53,360
pen test a couple<font color="#CCCCCC"> years ago privately</font>

618
00:26:52,520 --> 00:26:56,780
contracted

619
00:26:53,360 --> 00:26:58,070
company<font color="#CCCCCC"> it wanted us to look</font><font color="#E5E5E5"> at a number</font>

620
00:26:56,780 --> 00:27:01,760
<font color="#E5E5E5">of things including their external</font>

621
00:26:58,070 --> 00:27:06,080
<font color="#E5E5E5">footprint and I come</font><font color="#CCCCCC"> across</font><font color="#E5E5E5"> this Jenkins</font>

622
00:27:01,760 --> 00:27:07,750
<font color="#E5E5E5">server and then it was basically</font>

623
00:27:06,080 --> 00:27:11,570
configured so<font color="#CCCCCC"> that anyone could</font>

624
00:27:07,750 --> 00:27:14,299
authenticate<font color="#E5E5E5"> to it with their Google</font>

625
00:27:11,570 --> 00:27:16,549
<font color="#E5E5E5">account</font><font color="#CCCCCC"> so you would redirect</font><font color="#E5E5E5"> you to</font>

626
00:27:14,299 --> 00:27:19,280
<font color="#E5E5E5">Google you descent acade it</font><font color="#CCCCCC"> to it and</font>

627
00:27:16,549 --> 00:27:21,559
then it would create you a user account

628
00:27:19,280 --> 00:27:23,360
<font color="#E5E5E5">basically it wasn't white listing it was</font>

629
00:27:21,559 --> 00:27:26,600
just looking<font color="#CCCCCC"> for any</font><font color="#E5E5E5"> account drop you in</font>

630
00:27:23,360 --> 00:27:28,449
the<font color="#E5E5E5"> server so I'll go</font><font color="#CCCCCC"> ahead and do this</font>

631
00:27:26,600 --> 00:27:30,770
and<font color="#CCCCCC"> as</font><font color="#E5E5E5"> you can see</font><font color="#CCCCCC"> there in yellow I</font>

632
00:27:28,450 --> 00:27:33,830
blocked it<font color="#E5E5E5"> out but that</font><font color="#CCCCCC"> was</font><font color="#E5E5E5"> my account I</font>

633
00:27:30,770 --> 00:27:35,830
created<font color="#E5E5E5"> and hey cool that that</font><font color="#CCCCCC"> that's</font>

634
00:27:33,830 --> 00:27:38,330
neat it dropped me<font color="#E5E5E5"> into the server and</font>

635
00:27:35,830 --> 00:27:41,240
<font color="#CCCCCC">then</font><font color="#E5E5E5"> I saw there was</font><font color="#CCCCCC"> only</font><font color="#E5E5E5"> six other</font>

636
00:27:38,330 --> 00:27:43,220
users on or five other users on it so I

637
00:27:41,240 --> 00:27:44,780
took a quick<font color="#CCCCCC"> look through</font><font color="#E5E5E5"> them and three</font>

638
00:27:43,220 --> 00:27:48,799
<font color="#CCCCCC">of them</font><font color="#E5E5E5"> were employees and then I came</font>

639
00:27:44,780 --> 00:27:50,780
<font color="#CCCCCC">across this other one named SEC and</font><font color="#E5E5E5"> then</font>

640
00:27:48,799 --> 00:27:53,030
<font color="#E5E5E5">I see the name then and whatever it is</font>

641
00:27:50,780 --> 00:27:54,470
and<font color="#E5E5E5"> I'm like hey this name looks</font>

642
00:27:53,030 --> 00:27:56,629
familiar<font color="#E5E5E5"> so I punched in</font><font color="#CCCCCC"> Google and sure</font>

643
00:27:54,470 --> 00:27:59,510
enough<font color="#E5E5E5"> this</font><font color="#CCCCCC"> guy does bug bounty testing</font>

644
00:27:56,630 --> 00:28:01,400
all the time and I guess had just run<font color="#E5E5E5"> a</font>

645
00:27:59,510 --> 00:28:04,160
script<font color="#E5E5E5"> to find all the Jenkins servers</font>

646
00:28:01,400 --> 00:28:05,480
<font color="#CCCCCC">login to as</font><font color="#E5E5E5"> many as I can</font><font color="#CCCCCC"> or he was</font>

647
00:28:04,160 --> 00:28:06,860
doing it by hand I<font color="#E5E5E5"> don't know but he</font>

648
00:28:05,480 --> 00:28:10,100
<font color="#E5E5E5">ended up making himself an account on</font>

649
00:28:06,860 --> 00:28:13,250
<font color="#E5E5E5">this server</font><font color="#CCCCCC"> so I was like oh</font><font color="#E5E5E5"> that's not</font>

650
00:28:10,100 --> 00:28:14,000
cool<font color="#E5E5E5"> but then like I really like to</font>

651
00:28:13,250 --> 00:28:16,100
<font color="#E5E5E5">think of things</font><font color="#CCCCCC"> from the hacker</font>

652
00:28:14,000 --> 00:28:18,140
perspective and my perspective<font color="#E5E5E5"> then</font>

653
00:28:16,100 --> 00:28:19,549
would be well this company<font color="#E5E5E5"> didn't like</font>

654
00:28:18,140 --> 00:28:23,600
that they shouldn't<font color="#E5E5E5"> have been able</font><font color="#CCCCCC"> denne</font>

655
00:28:19,549 --> 00:28:27,080
one to just<font color="#CCCCCC"> login with Gmail so good for</font>

656
00:28:23,600 --> 00:28:29,120
him but you gotta you gotta kind<font color="#E5E5E5"> of like</font>

657
00:28:27,080 --> 00:28:31,270
take one more step back and consider

658
00:28:29,120 --> 00:28:33,889
what's really going to<font color="#E5E5E5"> happen</font><font color="#CCCCCC"> in reality</font>

659
00:28:31,270 --> 00:28:35,090
<font color="#E5E5E5">so it's really going to</font><font color="#CCCCCC"> happen is you're</font>

660
00:28:33,890 --> 00:28:36,710
going<font color="#E5E5E5"> to go</font><font color="#CCCCCC"> on Google you're</font><font color="#E5E5E5"> gonna find</font>

661
00:28:35,090 --> 00:28:38,178
<font color="#CCCCCC">someone</font><font color="#E5E5E5"> Jenkins server you're going to</font>

662
00:28:36,710 --> 00:28:39,650
log<font color="#E5E5E5"> into it</font><font color="#CCCCCC"> it's gonna</font><font color="#E5E5E5"> make</font><font color="#CCCCCC"> you an</font>

663
00:28:38,179 --> 00:28:43,360
account<font color="#CCCCCC"> I don't know why you'd use your</font>

664
00:28:39,650 --> 00:28:45,350
real<font color="#CCCCCC"> gmail account but he</font><font color="#E5E5E5"> did and then</font>

665
00:28:43,360 --> 00:28:47,570
you're going<font color="#E5E5E5"> to look around and be like</font>

666
00:28:45,350 --> 00:28:49,370
wow these guys are boned<font color="#E5E5E5"> this</font><font color="#CCCCCC"> servers</font>

667
00:28:47,570 --> 00:28:50,450
<font color="#CCCCCC">not</font><font color="#E5E5E5"> configured right at all</font><font color="#CCCCCC"> and</font><font color="#E5E5E5"> then</font>

668
00:28:49,370 --> 00:28:52,428
you're going<font color="#E5E5E5"> to move</font><font color="#CCCCCC"> on</font><font color="#E5E5E5"> to acting other</font>

669
00:28:50,450 --> 00:28:54,500
things<font color="#E5E5E5"> and then six</font><font color="#CCCCCC"> months is going</font><font color="#E5E5E5"> to</font>

670
00:28:52,429 --> 00:28:56,559
go by<font color="#E5E5E5"> someone's going to come</font><font color="#CCCCCC"> along and</font>

671
00:28:54,500 --> 00:28:58,790
they're going to ransomware this server

672
00:28:56,559 --> 00:29:02,000
they're going<font color="#E5E5E5"> to bring in</font><font color="#CCCCCC"> some top-notch</font>

673
00:28:58,790 --> 00:29:04,730
auditors from whatever<font color="#E5E5E5"> Incident Response</font>

674
00:29:02,000 --> 00:29:05,630
company you like<font color="#E5E5E5"> they're going to come</font>

675
00:29:04,730 --> 00:29:07,490
in they're<font color="#E5E5E5"> going to look in the user</font>

676
00:29:05,630 --> 00:29:09,740
list<font color="#E5E5E5"> they're going</font><font color="#CCCCCC"> to be like then</font>

677
00:29:07,490 --> 00:29:11,600
let me use my<font color="#E5E5E5"> threat intelligence ego</font>

678
00:29:09,740 --> 00:29:13,010
<font color="#CCCCCC">goal to punch the same in</font><font color="#E5E5E5"> they're going</font>

679
00:29:11,600 --> 00:29:14,689
to come<font color="#E5E5E5"> up with your name</font><font color="#CCCCCC"> they're going</font>

680
00:29:13,010 --> 00:29:15,860
<font color="#E5E5E5">to find your contact info</font><font color="#CCCCCC"> and</font><font color="#E5E5E5"> you're</font>

681
00:29:14,690 --> 00:29:18,230
going<font color="#E5E5E5"> to be trying to defend yourself</font>

682
00:29:15,860 --> 00:29:19,760
from<font color="#E5E5E5"> a</font><font color="#CCCCCC"> lawsuit as to</font><font color="#E5E5E5"> oh no I didn't</font>

683
00:29:18,230 --> 00:29:21,980
ransomware the server I just logged<font color="#E5E5E5"> in</font>

684
00:29:19,760 --> 00:29:24,590
and looked around<font color="#E5E5E5"> and it was cool so a</font>

685
00:29:21,980 --> 00:29:26,000
bit<font color="#E5E5E5"> of a tangent</font><font color="#CCCCCC"> but</font><font color="#E5E5E5"> fun story</font><font color="#CCCCCC"> find</font>

686
00:29:24,590 --> 00:29:27,260
<font color="#E5E5E5">people in the wild hacking other</font>

687
00:29:26,000 --> 00:29:30,260
companies that<font color="#CCCCCC"> they probably shouldn't</font>

688
00:29:27,260 --> 00:29:31,640
be and if you're going<font color="#E5E5E5"> to do that you</font>

689
00:29:30,260 --> 00:29:35,690
know go<font color="#CCCCCC"> through</font><font color="#E5E5E5"> six proxies and use a</font>

690
00:29:31,640 --> 00:29:38,240
different<font color="#CCCCCC"> name alright so what</font><font color="#E5E5E5"> are some</font>

691
00:29:35,690 --> 00:29:40,309
<font color="#E5E5E5">common misconceptions to look for so say</font>

692
00:29:38,240 --> 00:29:43,190
you've done<font color="#E5E5E5"> a default install but now</font>

693
00:29:40,309 --> 00:29:47,330
you've let your developer operations

694
00:29:43,190 --> 00:29:49,490
team<font color="#E5E5E5"> configure it a bit so there's still</font>

695
00:29:47,330 --> 00:29:53,360
<font color="#E5E5E5">a ton</font><font color="#CCCCCC"> of</font><font color="#E5E5E5"> stuff</font><font color="#CCCCCC"> that is going to go wrong</font>

696
00:29:49,490 --> 00:29:56,059
<font color="#CCCCCC">I just put together a list</font><font color="#E5E5E5"> of the most</font>

697
00:29:53,360 --> 00:29:59,990
common things<font color="#E5E5E5"> I've seen here but every</font>

698
00:29:56,059 --> 00:30:01,399
system<font color="#CCCCCC"> has its own set of issues</font><font color="#E5E5E5"> and all</font>

699
00:29:59,990 --> 00:30:03,710
you<font color="#CCCCCC"> really need to do is look through</font>

700
00:30:01,399 --> 00:30:05,860
<font color="#E5E5E5">what can be configured and every second</font>

701
00:30:03,710 --> 00:30:08,419
<font color="#CCCCCC">item will probably be configured wrong</font>

702
00:30:05,860 --> 00:30:11,299
the first day is user registration so

703
00:30:08,419 --> 00:30:12,860
some systems<font color="#E5E5E5"> take the theory</font><font color="#CCCCCC"> that will</font>

704
00:30:11,299 --> 00:30:15,559
let anyone register but they just have

705
00:30:12,860 --> 00:30:17,149
project viewing rights on pretty<font color="#E5E5E5"> much</font>

706
00:30:15,559 --> 00:30:18,710
all<font color="#CCCCCC"> of these systems even a low</font>

707
00:30:17,149 --> 00:30:20,779
permission user<font color="#E5E5E5"> ends up being a disaster</font>

708
00:30:18,710 --> 00:30:23,419
<font color="#CCCCCC">so</font><font color="#E5E5E5"> even as you can</font><font color="#CCCCCC"> just view</font><font color="#E5E5E5"> a project</font>

709
00:30:20,779 --> 00:30:26,090
you can often<font color="#E5E5E5"> view the build logs</font><font color="#CCCCCC"> and</font>

710
00:30:23,419 --> 00:30:27,950
<font color="#E5E5E5">often view the build</font><font color="#CCCCCC"> artifact</font><font color="#E5E5E5"> and you</font>

711
00:30:26,090 --> 00:30:30,428
can often<font color="#E5E5E5"> view the test artifacts and</font>

712
00:30:27,950 --> 00:30:33,020
one of those almost<font color="#E5E5E5"> always includes</font>

713
00:30:30,429 --> 00:30:36,200
credentials<font color="#E5E5E5"> for talking to the next</font>

714
00:30:33,020 --> 00:30:39,889
system<font color="#E5E5E5"> the systems now the CI</font><font color="#CCCCCC"> systems</font>

715
00:30:36,200 --> 00:30:42,409
<font color="#E5E5E5">now</font><font color="#CCCCCC"> at least the ones</font><font color="#E5E5E5"> I looked at here</font>

716
00:30:39,890 --> 00:30:44,210
have various scripts that<font color="#E5E5E5"> try and guess</font>

717
00:30:42,409 --> 00:30:48,200
where credential is<font color="#E5E5E5"> and output and mask</font>

718
00:30:44,210 --> 00:30:49,520
it<font color="#E5E5E5"> off for you</font><font color="#CCCCCC"> but it it's mostly</font><font color="#E5E5E5"> up to</font>

719
00:30:48,200 --> 00:30:51,559
the user to<font color="#CCCCCC"> configure that</font><font color="#E5E5E5"> feature</font>

720
00:30:49,520 --> 00:30:54,590
<font color="#E5E5E5">there's almost always creds that get</font>

721
00:30:51,559 --> 00:30:57,080
through<font color="#CCCCCC"> there's also going to</font><font color="#E5E5E5"> be</font><font color="#CCCCCC"> a lot</font>

722
00:30:54,590 --> 00:30:58,520
of good techniques that you can try with

723
00:30:57,080 --> 00:31:00,158
just viewing I'll go<font color="#CCCCCC"> over</font><font color="#E5E5E5"> some more than</font>

724
00:30:58,520 --> 00:31:03,049
later

725
00:31:00,159 --> 00:31:05,240
the next is anonymous<font color="#CCCCCC"> access and</font><font color="#E5E5E5"> this</font>

726
00:31:03,049 --> 00:31:06,799
kind<font color="#E5E5E5"> of follows with</font><font color="#CCCCCC"> the first one a lot</font>

727
00:31:05,240 --> 00:31:08,690
<font color="#E5E5E5">of companies take the approach of well</font>

728
00:31:06,799 --> 00:31:11,600
developers can<font color="#CCCCCC"> log in and trigger a</font>

729
00:31:08,690 --> 00:31:13,010
<font color="#E5E5E5">build but maybe their manager needs to</font>

730
00:31:11,600 --> 00:31:14,600
see it maybe everyone in the company

731
00:31:13,010 --> 00:31:17,600
<font color="#E5E5E5">needs to</font><font color="#CCCCCC"> kind of see the current status</font>

732
00:31:14,600 --> 00:31:19,820
so we'll make<font color="#E5E5E5"> that open</font><font color="#CCCCCC"> and same issue</font>

733
00:31:17,600 --> 00:31:23,139
<font color="#CCCCCC">you start to be able to</font><font color="#E5E5E5"> view artifacts</font>

734
00:31:19,820 --> 00:31:23,139
<font color="#E5E5E5">and logs and other item</font>

735
00:31:24,080 --> 00:31:27,980
the next one I think<font color="#E5E5E5"> is probably the</font>

736
00:31:25,400 --> 00:31:30,020
<font color="#CCCCCC">most common is that developers don't</font>

737
00:31:27,980 --> 00:31:33,320
<font color="#E5E5E5">just have</font><font color="#CCCCCC"> access to trigger a build</font>

738
00:31:30,020 --> 00:31:35,870
they have full access over at least a

739
00:31:33,320 --> 00:31:37,909
project within<font color="#E5E5E5"> the system and so talk a</font>

740
00:31:35,870 --> 00:31:40,370
little bit<font color="#E5E5E5"> later about how you go from</font>

741
00:31:37,910 --> 00:31:42,830
<font color="#E5E5E5">having access</font><font color="#CCCCCC"> to a project</font><font color="#E5E5E5"> having</font><font color="#CCCCCC"> full</font>

742
00:31:40,370 --> 00:31:44,418
<font color="#CCCCCC">control over the</font><font color="#E5E5E5"> CI system but the two</font>

743
00:31:42,830 --> 00:31:46,939
<font color="#CCCCCC">are basically the same</font><font color="#E5E5E5"> if</font><font color="#CCCCCC"> you have</font>

744
00:31:44,419 --> 00:31:52,820
project admin access<font color="#CCCCCC"> that's just as good</font>

745
00:31:46,940 --> 00:31:56,510
as full admin<font color="#CCCCCC"> access almost always kind</font>

746
00:31:52,820 --> 00:31:59,149
<font color="#E5E5E5">of tying in with</font><font color="#CCCCCC"> that larger</font><font color="#E5E5E5"> companies</font>

747
00:31:56,510 --> 00:32:00,379
<font color="#CCCCCC">even</font><font color="#E5E5E5"> smaller companies really often they</font>

748
00:31:59,150 --> 00:32:01,690
have more than<font color="#E5E5E5"> one</font><font color="#CCCCCC"> project on</font><font color="#E5E5E5"> the go</font>

749
00:32:00,380 --> 00:32:04,790
<font color="#E5E5E5">maybe you've got a software application</font>

750
00:32:01,690 --> 00:32:09,320
<font color="#E5E5E5">maybe you've got a website that your</font>

751
00:32:04,790 --> 00:32:13,580
software application uses and you also

752
00:32:09,320 --> 00:32:16,960
have say your own corporate<font color="#E5E5E5"> website all</font>

753
00:32:13,580 --> 00:32:19,280
getting built by your same CI system

754
00:32:16,960 --> 00:32:20,750
<font color="#E5E5E5">within</font><font color="#CCCCCC"> your</font><font color="#E5E5E5"> company you've got</font><font color="#CCCCCC"> different</font>

755
00:32:19,280 --> 00:32:22,340
teams<font color="#E5E5E5"> people wouldn't have access to</font>

756
00:32:20,750 --> 00:32:24,200
<font color="#CCCCCC">login</font><font color="#E5E5E5"> to one server compared to the</font>

757
00:32:22,340 --> 00:32:26,090
other<font color="#CCCCCC"> but you're all using the exact</font>

758
00:32:24,200 --> 00:32:30,200
same build environment<font color="#E5E5E5"> using the exact</font>

759
00:32:26,090 --> 00:32:33,230
same build<font color="#E5E5E5"> slaves</font><font color="#CCCCCC"> and it makes it</font><font color="#E5E5E5"> very</font>

760
00:32:30,200 --> 00:32:37,549
possible to<font color="#CCCCCC"> pivot from one person's</font>

761
00:32:33,230 --> 00:32:40,010
project to another<font color="#CCCCCC"> the</font><font color="#E5E5E5"> next thing and</font>

762
00:32:37,549 --> 00:32:41,900
this<font color="#E5E5E5"> is this is kind of a second piece</font>

763
00:32:40,010 --> 00:32:43,910
<font color="#E5E5E5">of what you do once you get access to</font>

764
00:32:41,900 --> 00:32:46,340
one<font color="#CCCCCC"> of these servers</font><font color="#E5E5E5"> almost always the</font>

765
00:32:43,910 --> 00:32:49,250
build systems have credentials<font color="#E5E5E5"> with tons</font>

766
00:32:46,340 --> 00:32:51,500
of access so<font color="#CCCCCC"> that might</font><font color="#E5E5E5"> be ss8</font>

767
00:32:49,250 --> 00:32:54,799
credentials<font color="#E5E5E5"> to push the deployment out</font>

768
00:32:51,500 --> 00:32:57,290
to a server that<font color="#E5E5E5"> you've that's hosting a</font>

769
00:32:54,799 --> 00:32:59,540
production or staging environment<font color="#CCCCCC"> it</font>

770
00:32:57,290 --> 00:33:01,760
might be an<font color="#CCCCCC"> ssh credential that just has</font>

771
00:32:59,540 --> 00:33:03,320
access<font color="#CCCCCC"> to every server because we don't</font>

772
00:33:01,760 --> 00:33:04,820
know in advance what<font color="#E5E5E5"> the build system</font><font color="#CCCCCC"> is</font>

773
00:33:03,320 --> 00:33:08,418
going<font color="#E5E5E5"> to build for so let's just cover</font>

774
00:33:04,820 --> 00:33:11,270
<font color="#CCCCCC">our bases there's</font><font color="#E5E5E5"> often things like AWS</font>

775
00:33:08,419 --> 00:33:14,299
<font color="#E5E5E5">keys</font><font color="#CCCCCC"> if you're doing hosting in the</font>

776
00:33:11,270 --> 00:33:16,280
cloud<font color="#CCCCCC"> it could be as your management key</font>

777
00:33:14,299 --> 00:33:21,139
it<font color="#E5E5E5"> could be whatever whatever</font><font color="#CCCCCC"> cloud</font>

778
00:33:16,280 --> 00:33:23,899
provider you<font color="#E5E5E5"> love and then in more</font>

779
00:33:21,140 --> 00:33:26,390
<font color="#E5E5E5">corporate environments let's say startup</font>

780
00:33:23,900 --> 00:33:28,850
and more bigger company I often see

781
00:33:26,390 --> 00:33:30,290
Active Directory accounts so<font color="#CCCCCC"> that the</font>

782
00:33:28,850 --> 00:33:31,939
build system can talk to various

783
00:33:30,290 --> 00:33:33,889
internal<font color="#E5E5E5"> corporate resources that it</font>

784
00:33:31,940 --> 00:33:34,440
needs these Active Directory accounts

785
00:33:33,890 --> 00:33:36,509
often

786
00:33:34,440 --> 00:33:40,490
have a lot<font color="#CCCCCC"> of access a lot more than a</font>

787
00:33:36,509 --> 00:33:44,700
normal<font color="#CCCCCC"> user</font><font color="#E5E5E5"> and then the last piece is</font>

788
00:33:40,490 --> 00:33:46,379
<font color="#E5E5E5">plugins to these systems</font><font color="#CCCCCC"> so I think of</font>

789
00:33:44,700 --> 00:33:49,200
CI systems like I think<font color="#CCCCCC"> of WordPress</font>

790
00:33:46,379 --> 00:33:51,629
<font color="#E5E5E5">like off the bat WordPress isn't great</font>

791
00:33:49,200 --> 00:33:53,370
people find hacks in it all the time<font color="#E5E5E5"> but</font>

792
00:33:51,629 --> 00:33:55,500
it's actually<font color="#CCCCCC"> not terrible</font>

793
00:33:53,370 --> 00:33:56,309
I wouldn't necessarily<font color="#CCCCCC"> expect to sit</font>

794
00:33:55,500 --> 00:33:58,139
<font color="#E5E5E5">down right now</font>

795
00:33:56,309 --> 00:33:59,700
download the<font color="#E5E5E5"> WordPress source code and</font>

796
00:33:58,139 --> 00:34:02,820
come up<font color="#E5E5E5"> with a</font><font color="#CCCCCC"> Volman</font><font color="#E5E5E5"> a couple hours</font>

797
00:33:59,700 --> 00:34:04,950
but the plug-ins for WordPress<font color="#CCCCCC"> they're a</font>

798
00:34:02,820 --> 00:34:06,090
<font color="#E5E5E5">disaster</font><font color="#CCCCCC"> and</font><font color="#E5E5E5"> I would expect to</font><font color="#CCCCCC"> find a</font>

799
00:34:04,950 --> 00:34:07,740
<font color="#CCCCCC">Volm in two hours</font>

800
00:34:06,090 --> 00:34:09,359
same kind<font color="#E5E5E5"> of thing</font><font color="#CCCCCC"> with the CI</font><font color="#E5E5E5"> system</font>

801
00:34:07,740 --> 00:34:11,210
they<font color="#E5E5E5"> had the plugins often haven't</font>

802
00:34:09,359 --> 00:34:13,379
received as much reviewer<font color="#E5E5E5"> as attention</font>

803
00:34:11,210 --> 00:34:14,490
<font color="#CCCCCC">but</font><font color="#E5E5E5"> they let a company get something</font>

804
00:34:13,379 --> 00:34:18,239
done<font color="#E5E5E5"> maybe they just need to integrate</font>

805
00:34:14,489 --> 00:34:20,069
to their Active Directory environment so

806
00:34:18,239 --> 00:34:22,949
someone wrote together some LDAP

807
00:34:20,069 --> 00:34:31,319
connector and it gets that job done<font color="#E5E5E5"> kind</font>

808
00:34:22,949 --> 00:34:33,089
of<font color="#E5E5E5"> all right so expanding on</font><font color="#CCCCCC"> that</font>

809
00:34:31,319 --> 00:34:36,629
previous<font color="#E5E5E5"> anair a little bit more so you</font>

810
00:34:33,089 --> 00:34:38,730
have read-only access<font color="#E5E5E5"> there's two great</font>

811
00:34:36,629 --> 00:34:41,159
things<font color="#E5E5E5"> that I'd always try the first is</font>

812
00:34:38,730 --> 00:34:42,119
list of the<font color="#E5E5E5"> users on the system chances</font>

813
00:34:41,159 --> 00:34:43,349
are there's going to be an account

814
00:34:42,119 --> 00:34:45,179
called test<font color="#E5E5E5"> or they're going to be</font>

815
00:34:43,349 --> 00:34:47,040
account called<font color="#E5E5E5"> dev</font><font color="#CCCCCC"> test they're going</font><font color="#E5E5E5"> to</font>

816
00:34:45,179 --> 00:34:49,139
be<font color="#E5E5E5"> count called build one build to</font><font color="#CCCCCC"> build</font>

817
00:34:47,040 --> 00:34:50,969
three and they probably have a super

818
00:34:49,139 --> 00:34:53,220
weak password so<font color="#E5E5E5"> you might not</font><font color="#CCCCCC"> have</font>

819
00:34:50,969 --> 00:34:54,689
known those<font color="#CCCCCC"> usernames</font><font color="#E5E5E5"> before but since</font>

820
00:34:53,219 --> 00:34:57,598
you have read<font color="#CCCCCC"> access you</font><font color="#E5E5E5"> can list those</font>

821
00:34:54,690 --> 00:34:59,250
<font color="#E5E5E5">out and potentially just take over those</font>

822
00:34:57,599 --> 00:35:02,520
accounts directly<font color="#CCCCCC"> I've had a lot of</font>

823
00:34:59,250 --> 00:35:05,700
success<font color="#E5E5E5"> with this one the next thing is</font>

824
00:35:02,520 --> 00:35:09,869
kind<font color="#E5E5E5"> of going back</font><font color="#CCCCCC"> to those plugins a</font>

825
00:35:05,700 --> 00:35:11,520
lot<font color="#E5E5E5"> of the systems let you generate API</font>

826
00:35:09,869 --> 00:35:14,849
or authentication keys to talk to other

827
00:35:11,520 --> 00:35:16,500
systems<font color="#E5E5E5"> and they often expose these to</font>

828
00:35:14,849 --> 00:35:17,940
<font color="#E5E5E5">anyone with Rita access because you need</font>

829
00:35:16,500 --> 00:35:21,540
to<font color="#E5E5E5"> know what key to pass to your</font>

830
00:35:17,940 --> 00:35:22,770
secondary system so sometimes this is

831
00:35:21,540 --> 00:35:25,319
<font color="#E5E5E5">done through a</font><font color="#CCCCCC"> plug-in sometimes it's</font>

832
00:35:22,770 --> 00:35:28,050
built right in<font color="#E5E5E5"> but often you can do</font>

833
00:35:25,319 --> 00:35:31,020
something like say hey show me the<font color="#E5E5E5"> API</font>

834
00:35:28,050 --> 00:35:33,060
key for<font color="#E5E5E5"> talking to the</font><font color="#CCCCCC"> see is rest API</font>

835
00:35:31,020 --> 00:35:34,890
<font color="#E5E5E5">and so even though you only have read</font>

836
00:35:33,060 --> 00:35:38,430
<font color="#CCCCCC">access you've now got an API key with</font>

837
00:35:34,890 --> 00:35:42,089
full access<font color="#E5E5E5"> so</font><font color="#CCCCCC"> the the Clippy notes on</font>

838
00:35:38,430 --> 00:35:44,460
this is you need to tell<font color="#E5E5E5"> your developers</font>

839
00:35:42,089 --> 00:35:46,078
a there's always<font color="#CCCCCC"> misconfigurations it's</font>

840
00:35:44,460 --> 00:35:47,880
awesome<font color="#CCCCCC"> guide besides he says they're</font>

841
00:35:46,079 --> 00:35:50,190
never configured right

842
00:35:47,880 --> 00:35:54,090
but further to<font color="#CCCCCC"> that</font><font color="#E5E5E5"> you need to get your</font>

843
00:35:50,190 --> 00:35:55,440
developers to check regularly<font color="#CCCCCC"> ci systems</font>

844
00:35:54,090 --> 00:35:57,780
don't generally start off super

845
00:35:55,440 --> 00:36:00,660
vulnerable<font color="#CCCCCC"> except</font><font color="#E5E5E5"> those default config</font>

846
00:35:57,780 --> 00:36:02,580
but they get<font color="#E5E5E5"> more vulnerable</font><font color="#CCCCCC"> over time</font>

847
00:36:00,660 --> 00:36:05,399
every every system generally<font color="#E5E5E5"> does the</font>

848
00:36:02,580 --> 00:36:07,590
more you add to and change<font color="#E5E5E5"> a</font><font color="#CCCCCC"> system the</font>

849
00:36:05,400 --> 00:36:10,980
more opportunity there<font color="#E5E5E5"> is for incorrect</font>

850
00:36:07,590 --> 00:36:14,250
configurations so monthly every two

851
00:36:10,980 --> 00:36:16,950
months<font color="#CCCCCC"> every six months I mean</font><font color="#E5E5E5"> yearly if</font>

852
00:36:14,250 --> 00:36:18,810
you have to but regularly review your

853
00:36:16,950 --> 00:36:20,399
configuration<font color="#E5E5E5"> because</font><font color="#CCCCCC"> it's going</font><font color="#E5E5E5"> to be</font>

854
00:36:18,810 --> 00:36:25,320
changing over<font color="#E5E5E5"> time and</font><font color="#CCCCCC"> it doesn't matter</font>

855
00:36:20,400 --> 00:36:27,390
<font color="#E5E5E5">that it was</font><font color="#CCCCCC"> secure three years ago</font><font color="#E5E5E5"> okay</font>

856
00:36:25,320 --> 00:36:31,530
so that's assume that we've got some

857
00:36:27,390 --> 00:36:34,410
sort<font color="#CCCCCC"> of access to a CI system each CI</font>

858
00:36:31,530 --> 00:36:35,970
system<font color="#E5E5E5"> takes credentials and it feels</font>

859
00:36:34,410 --> 00:36:37,500
<font color="#E5E5E5">like it</font><font color="#CCCCCC"> needs</font><font color="#E5E5E5"> to protect the credentials</font>

860
00:36:35,970 --> 00:36:40,200
<font color="#E5E5E5">you gave it so you gave it FTP server</font>

861
00:36:37,500 --> 00:36:44,370
credentials or your SSH key or<font color="#CCCCCC"> your a to</font>

862
00:36:40,200 --> 00:36:46,700
<font color="#E5E5E5">Bielski or something</font><font color="#CCCCCC"> now I thought</font><font color="#E5E5E5"> about</font>

863
00:36:44,370 --> 00:36:48,720
<font color="#E5E5E5">this a bit like big picture why even</font>

864
00:36:46,700 --> 00:36:50,640
protect these credentials<font color="#E5E5E5"> because</font>

865
00:36:48,720 --> 00:36:52,680
usually<font color="#E5E5E5"> in these</font><font color="#CCCCCC"> systems if you</font><font color="#E5E5E5"> have</font>

866
00:36:50,640 --> 00:36:54,900
<font color="#E5E5E5">permission</font><font color="#CCCCCC"> to read the stored credential</font>

867
00:36:52,680 --> 00:36:58,470
you've already got some level of admin

868
00:36:54,900 --> 00:37:00,210
access<font color="#E5E5E5"> which means you can probably just</font>

869
00:36:58,470 --> 00:37:02,069
tell it to<font color="#CCCCCC"> SSH to a server and</font><font color="#E5E5E5"> run</font>

870
00:37:00,210 --> 00:37:06,480
whatever command you want you don't even

871
00:37:02,070 --> 00:37:08,310
need the<font color="#CCCCCC"> key yourself but on the other</font>

872
00:37:06,480 --> 00:37:10,170
side<font color="#CCCCCC"> sometimes it's</font><font color="#E5E5E5"> just a whole lot</font>

873
00:37:08,310 --> 00:37:12,840
<font color="#CCCCCC">easier to collect</font><font color="#E5E5E5"> all the credentials</font>

874
00:37:10,170 --> 00:37:14,550
straight out of the credential file take

875
00:37:12,840 --> 00:37:16,560
them<font color="#E5E5E5"> offline and look through them not</font>

876
00:37:14,550 --> 00:37:23,220
leave any<font color="#E5E5E5"> more traces or interactions on</font>

877
00:37:16,560 --> 00:37:24,960
the CI server<font color="#E5E5E5"> so for whatever reason</font><font color="#CCCCCC"> I</font>

878
00:37:23,220 --> 00:37:26,939
basically the threat<font color="#CCCCCC"> model doesn't</font><font color="#E5E5E5"> make</font>

879
00:37:24,960 --> 00:37:28,710
a ton<font color="#CCCCCC"> of sense to me but everyone</font>

880
00:37:26,940 --> 00:37:31,590
doesn't<font color="#E5E5E5"> like credentials</font><font color="#CCCCCC"> and plaintext I</font>

881
00:37:28,710 --> 00:37:35,760
guess so what does Jenkins do so Jenkins

882
00:37:31,590 --> 00:37:38,880
<font color="#E5E5E5">used to up until some time</font><font color="#CCCCCC"> in 2014/15</font>

883
00:37:35,760 --> 00:37:41,220
have a master key<font color="#CCCCCC"> and have a secret key</font>

884
00:37:38,880 --> 00:37:42,720
<font color="#CCCCCC">I don't think it</font><font color="#E5E5E5"> was actually per</font>

885
00:37:41,220 --> 00:37:45,029
project<font color="#CCCCCC"> I think that was</font><font color="#E5E5E5"> just like a</font>

886
00:37:42,720 --> 00:37:48,120
thought at one<font color="#CCCCCC"> point in time</font><font color="#E5E5E5"> and then</font>

887
00:37:45,030 --> 00:37:49,200
they take a<font color="#E5E5E5"> sha-256 of one of them and</font>

888
00:37:48,120 --> 00:37:51,750
they transform the other one a little

889
00:37:49,200 --> 00:37:54,240
<font color="#E5E5E5">bit combine them together to get an aes</font>

890
00:37:51,750 --> 00:37:58,710
decryption key for the secrets<font color="#CCCCCC"> that are</font>

891
00:37:54,240 --> 00:38:01,709
stored in<font color="#CCCCCC"> their credentials XML file so</font>

892
00:37:58,710 --> 00:38:04,800
someone made a quick<font color="#CCCCCC"> Python</font><font color="#E5E5E5"> script</font>

893
00:38:01,710 --> 00:38:06,780
Tripta<font color="#CCCCCC"> you can also just use the script</font>

894
00:38:04,800 --> 00:38:09,630
console<font color="#E5E5E5"> within jaykins</font><font color="#CCCCCC"> to ask jenkins</font>

895
00:38:06,780 --> 00:38:11,070
itself to decrypt it for you<font color="#CCCCCC"> which is</font>

896
00:38:09,630 --> 00:38:14,430
<font color="#E5E5E5">super</font><font color="#CCCCCC"> handy once you have admin access</font>

897
00:38:11,070 --> 00:38:15,869
to Jenkins<font color="#CCCCCC"> I</font><font color="#E5E5E5"> wanted to double check</font><font color="#CCCCCC"> that</font>

898
00:38:14,430 --> 00:38:17,940
this all still<font color="#E5E5E5"> works and I took</font><font color="#CCCCCC"> a look</font>

899
00:38:15,869 --> 00:38:21,690
<font color="#E5E5E5">at it and they've definitely changed</font>

900
00:38:17,940 --> 00:38:24,440
some parts of this so I'm still figuring

901
00:38:21,690 --> 00:38:27,150
<font color="#E5E5E5">out a Python script</font><font color="#CCCCCC"> to do new decryption</font>

902
00:38:24,440 --> 00:38:29,490
<font color="#CCCCCC">but I'll get that sorted out</font><font color="#E5E5E5"> and I'll</font>

903
00:38:27,150 --> 00:38:30,930
post one<font color="#E5E5E5"> of those pretty soon because it</font>

904
00:38:29,490 --> 00:38:33,720
doesn't look<font color="#CCCCCC"> like</font><font color="#E5E5E5"> anyone's fathered to</font>

905
00:38:30,930 --> 00:38:35,399
reverse<font color="#CCCCCC"> engineer the new format</font><font color="#E5E5E5"> but</font>

906
00:38:33,720 --> 00:38:36,750
Jenkins still does helpfully take all

907
00:38:35,400 --> 00:38:38,940
the<font color="#CCCCCC"> credentials that you load</font><font color="#E5E5E5"> into it</font>

908
00:38:36,750 --> 00:38:40,680
and store them<font color="#E5E5E5"> into one file so once you</font>

909
00:38:38,940 --> 00:38:45,930
get file system access you can<font color="#E5E5E5"> just grab</font>

910
00:38:40,680 --> 00:38:47,069
that<font color="#CCCCCC"> for team</font><font color="#E5E5E5"> city</font><font color="#CCCCCC"> team city treats</font>

911
00:38:45,930 --> 00:38:48,629
credentials in two different ways

912
00:38:47,070 --> 00:38:51,390
depending<font color="#E5E5E5"> whether it's a string that</font>

913
00:38:48,630 --> 00:38:54,000
you've<font color="#CCCCCC"> entered or a file that you've</font>

914
00:38:51,390 --> 00:38:56,368
uploaded<font color="#E5E5E5"> so if you've upload an SSH</font><font color="#CCCCCC"> key</font>

915
00:38:54,000 --> 00:38:57,780
or<font color="#CCCCCC"> something like that</font><font color="#E5E5E5"> as a file it</font>

916
00:38:56,369 --> 00:39:00,089
doesn't do any sort<font color="#E5E5E5"> of encryption for</font>

917
00:38:57,780 --> 00:39:03,119
that<font color="#CCCCCC"> I don't know that that's</font>

918
00:39:00,089 --> 00:39:06,119
<font color="#CCCCCC">necessarily a vulnerability</font><font color="#E5E5E5"> but it makes</font>

919
00:39:03,119 --> 00:39:07,920
it<font color="#CCCCCC"> super easy</font><font color="#E5E5E5"> to just through their web</font>

920
00:39:06,119 --> 00:39:10,589
interface if you have project admin

921
00:39:07,920 --> 00:39:14,190
<font color="#CCCCCC">access</font><font color="#E5E5E5"> to click export a backup of this</font>

922
00:39:10,589 --> 00:39:16,109
project open up the zip file<font color="#E5E5E5"> and</font><font color="#CCCCCC"> you're</font>

923
00:39:14,190 --> 00:39:19,070
going<font color="#CCCCCC"> to have the unencrypted SSH keys</font>

924
00:39:16,109 --> 00:39:23,220
right<font color="#E5E5E5"> there credential strings though</font>

925
00:39:19,070 --> 00:39:25,050
<font color="#E5E5E5">are actually encrypted</font><font color="#CCCCCC"> and so what they</font>

926
00:39:23,220 --> 00:39:28,140
do is<font color="#CCCCCC"> that use</font><font color="#E5E5E5"> triple</font><font color="#CCCCCC"> death</font>

927
00:39:25,050 --> 00:39:29,430
I'm told is not as broken<font color="#E5E5E5"> as regular</font>

928
00:39:28,140 --> 00:39:32,819
desk<font color="#CCCCCC"> so</font><font color="#E5E5E5"> that doesn't really make sense</font>

929
00:39:29,430 --> 00:39:36,029
<font color="#CCCCCC">but</font><font color="#E5E5E5"> I don't</font><font color="#CCCCCC"> do crypto like real crypto I</font>

930
00:39:32,820 --> 00:39:37,830
just break it anyways<font color="#CCCCCC"> and then</font><font color="#E5E5E5"> that's</font>

931
00:39:36,030 --> 00:39:39,420
<font color="#E5E5E5">basics</font><font color="#CCCCCC"> t4</font><font color="#E5E5E5"> encoded so if you look in your</font>

932
00:39:37,830 --> 00:39:42,210
config<font color="#CCCCCC"> files you'll</font><font color="#E5E5E5"> see all these base</font>

933
00:39:39,420 --> 00:39:43,740
<font color="#E5E5E5">64 encoded strings they've got a little</font>

934
00:39:42,210 --> 00:39:47,700
header on him to kind<font color="#E5E5E5"> of flag that there</font>

935
00:39:43,740 --> 00:39:50,009
and encrypted basics before string so I

936
00:39:47,700 --> 00:39:51,960
took<font color="#E5E5E5"> a look through their software all</font>

937
00:39:50,010 --> 00:39:52,710
of<font color="#CCCCCC"> these systems are written in Java for</font>

938
00:39:51,960 --> 00:39:55,830
<font color="#E5E5E5">some reasons</font>

939
00:39:52,710 --> 00:39:58,140
<font color="#E5E5E5">Jenkins</font><font color="#CCCCCC"> teamcity and bamboo</font><font color="#E5E5E5"> which makes</font>

940
00:39:55,830 --> 00:40:00,690
it easy to<font color="#E5E5E5"> reverse engineer because they</font>

941
00:39:58,140 --> 00:40:02,609
didn't obfuscate<font color="#CCCCCC"> it at all and so I came</font>

942
00:40:00,690 --> 00:40:03,900
<font color="#E5E5E5">up with the decryption key here and I</font>

943
00:40:02,609 --> 00:40:05,069
made a Python script<font color="#CCCCCC"> to do the</font>

944
00:40:03,900 --> 00:40:07,200
<font color="#CCCCCC">decryption</font>

945
00:40:05,070 --> 00:40:08,820
<font color="#CCCCCC">I told teamcity about this a</font><font color="#E5E5E5"> couple</font>

946
00:40:07,200 --> 00:40:10,970
<font color="#CCCCCC">years ago said hey you know you</font><font color="#E5E5E5"> just</font>

947
00:40:08,820 --> 00:40:15,690
<font color="#CCCCCC">start coded a encryption key in your</font>

948
00:40:10,970 --> 00:40:18,109
application<font color="#E5E5E5"> that did and they said</font>

949
00:40:15,690 --> 00:40:20,609
they thought it was<font color="#E5E5E5"> not a problem</font>

950
00:40:18,109 --> 00:40:22,200
necessarily because you need admin

951
00:40:20,609 --> 00:40:24,270
<font color="#CCCCCC">access to get these files</font><font color="#E5E5E5"> in the first</font>

952
00:40:22,200 --> 00:40:26,848
place<font color="#CCCCCC"> so I don't necessarily disagree</font>

953
00:40:24,270 --> 00:40:28,859
with that<font color="#E5E5E5"> but</font><font color="#CCCCCC"> I asked</font><font color="#E5E5E5"> them like so is it</font>

954
00:40:26,849 --> 00:40:31,290
cool<font color="#CCCCCC"> if I post</font><font color="#E5E5E5"> this key and they said</font>

955
00:40:28,859 --> 00:40:33,950
yes<font color="#CCCCCC"> so</font><font color="#E5E5E5"> here we are a couple years later</font>

956
00:40:31,290 --> 00:40:33,950
<font color="#E5E5E5">got around to it</font>

957
00:40:35,430 --> 00:40:41,368
<font color="#E5E5E5">bamboo</font><font color="#CCCCCC"> takes credentials</font><font color="#E5E5E5"> and it stores</font>

958
00:40:39,119 --> 00:40:44,010
them<font color="#CCCCCC"> in its database store</font><font color="#E5E5E5"> them</font><font color="#CCCCCC"> on</font><font color="#E5E5E5"> the</font>

959
00:40:41,369 --> 00:40:45,240
<font color="#CCCCCC">file system necessarily although the</font>

960
00:40:44,010 --> 00:40:49,079
database might be on the file system

961
00:40:45,240 --> 00:40:52,790
depending how<font color="#E5E5E5"> you configured it</font><font color="#CCCCCC"> it takes</font>

962
00:40:49,079 --> 00:40:55,290
<font color="#E5E5E5">a similar approaches</font><font color="#CCCCCC"> teamcity it has</font>

963
00:40:52,790 --> 00:40:57,779
<font color="#CCCCCC">well kind of</font><font color="#E5E5E5"> like a bit of team</font><font color="#CCCCCC"> seeding</font>

964
00:40:55,290 --> 00:41:03,869
a bit of<font color="#E5E5E5"> Jenkins it</font><font color="#CCCCCC"> AAS encrypts</font><font color="#E5E5E5"> your</font>

965
00:40:57,780 --> 00:41:05,400
keys and it uses<font color="#E5E5E5"> a key file on disk that</font>

966
00:41:03,869 --> 00:41:08,849
<font color="#CCCCCC">I've got listed</font><font color="#E5E5E5"> oh</font><font color="#CCCCCC"> there cipher key</font>

967
00:41:05,400 --> 00:41:11,579
underscore<font color="#CCCCCC"> zero</font><font color="#E5E5E5"> and then it uses a key</font>

968
00:41:08,849 --> 00:41:13,829
that's in its database<font color="#CCCCCC"> it X ORS those</font>

969
00:41:11,579 --> 00:41:17,040
two keys<font color="#CCCCCC"> together</font><font color="#E5E5E5"> takes the IV from the</font>

970
00:41:13,829 --> 00:41:19,290
database and<font color="#E5E5E5"> then</font><font color="#CCCCCC"> can decrypt the secret</font>

971
00:41:17,040 --> 00:41:24,690
so I've got a script<font color="#CCCCCC"> for that</font><font color="#E5E5E5"> at the end</font>

972
00:41:19,290 --> 00:41:26,550
of my presentation as well<font color="#CCCCCC"> moving</font><font color="#E5E5E5"> on so</font>

973
00:41:24,690 --> 00:41:27,900
you've got all<font color="#CCCCCC"> the credentials that's</font>

974
00:41:26,550 --> 00:41:30,150
great

975
00:41:27,900 --> 00:41:32,819
kind of<font color="#E5E5E5"> backing</font><font color="#CCCCCC"> up a bit maybe you don't</font>

976
00:41:30,150 --> 00:41:34,829
have<font color="#E5E5E5"> full access into these systems how</font>

977
00:41:32,819 --> 00:41:37,109
are they<font color="#E5E5E5"> possibly configured how might</font>

978
00:41:34,829 --> 00:41:39,450
you be able<font color="#CCCCCC"> to</font><font color="#E5E5E5"> change that so Jenkins</font>

979
00:41:37,109 --> 00:41:42,720
has six different authorization schemes

980
00:41:39,450 --> 00:41:45,720
you can<font color="#CCCCCC"> use</font><font color="#E5E5E5"> because</font><font color="#CCCCCC"> these kind of like</font>

981
00:41:42,720 --> 00:41:47,419
follow from its legacy history so it has

982
00:41:45,720 --> 00:41:49,980
something<font color="#E5E5E5"> called anyone can do</font><font color="#CCCCCC"> anything</font>

983
00:41:47,420 --> 00:41:55,589
which I<font color="#E5E5E5"> just call no authentication</font>

984
00:41:49,980 --> 00:41:57,119
it has legacy mode which if you turn it

985
00:41:55,589 --> 00:41:59,520
on<font color="#E5E5E5"> gives you a whole bunch of additional</font>

986
00:41:57,119 --> 00:42:01,670
<font color="#CCCCCC">options but I assume none of them are</font>

987
00:41:59,520 --> 00:42:01,670
good

988
00:42:02,000 --> 00:42:08,160
it has anonymous users have read access

989
00:42:05,359 --> 00:42:11,520
<font color="#E5E5E5">so this means</font><font color="#CCCCCC"> that</font><font color="#E5E5E5"> you can have people</font>

990
00:42:08,160 --> 00:42:13,140
who<font color="#E5E5E5"> log in and have more access</font><font color="#CCCCCC"> but if</font>

991
00:42:11,520 --> 00:42:16,800
you don't log<font color="#CCCCCC"> in you can</font><font color="#E5E5E5"> still read</font>

992
00:42:13,140 --> 00:42:20,190
<font color="#E5E5E5">everything it has logged in users can do</font>

993
00:42:16,800 --> 00:42:22,170
<font color="#E5E5E5">everything this is</font><font color="#CCCCCC"> the</font><font color="#E5E5E5"> default</font><font color="#CCCCCC"> and then</font>

994
00:42:20,190 --> 00:42:25,730
it has two<font color="#CCCCCC"> options</font><font color="#E5E5E5"> majorek speed</font>

995
00:42:22,170 --> 00:42:28,770
security<font color="#CCCCCC"> and</font><font color="#E5E5E5"> project</font><font color="#CCCCCC"> based</font><font color="#E5E5E5"> security and</font>

996
00:42:25,730 --> 00:42:29,610
so both<font color="#CCCCCC"> of those if you look at the very</font>

997
00:42:28,770 --> 00:42:32,130
<font color="#CCCCCC">bottom of</font><font color="#E5E5E5"> the fly</font>

998
00:42:29,610 --> 00:42:33,720
if you kind<font color="#CCCCCC"> of squint your eyes you</font><font color="#E5E5E5"> can</font>

999
00:42:32,130 --> 00:42:36,240
see<font color="#E5E5E5"> there's like a bajillion</font><font color="#CCCCCC"> check boxes</font>

1000
00:42:33,720 --> 00:42:37,799
it it makes it<font color="#CCCCCC"> so</font><font color="#E5E5E5"> you can have super</font>

1001
00:42:36,240 --> 00:42:41,069
granular permission I<font color="#E5E5E5"> have per project</font>

1002
00:42:37,800 --> 00:42:43,920
<font color="#CCCCCC">or just to all of Jenkins in terms of</font>

1003
00:42:41,070 --> 00:42:48,540
what a user can do and it's<font color="#CCCCCC"> everything</font>

1004
00:42:43,920 --> 00:42:50,970
<font color="#CCCCCC">from like view build results - let's see</font>

1005
00:42:48,540 --> 00:42:55,290
here run scripts upload<font color="#E5E5E5"> plugins</font><font color="#CCCCCC"> and so</font>

1006
00:42:50,970 --> 00:42:56,490
on<font color="#E5E5E5"> so chances are when someone's setting</font>

1007
00:42:55,290 --> 00:42:58,950
<font color="#E5E5E5">this up they're</font><font color="#CCCCCC"> just going to</font><font color="#E5E5E5"> keep</font>

1008
00:42:56,490 --> 00:43:00,390
checking<font color="#CCCCCC"> boxes</font><font color="#E5E5E5"> until</font><font color="#CCCCCC"> the system</font><font color="#E5E5E5"> works as</font>

1009
00:42:58,950 --> 00:43:03,899
they were hoping<font color="#CCCCCC"> then they're going</font><font color="#E5E5E5"> to</font>

1010
00:43:00,390 --> 00:43:06,750
stop<font color="#CCCCCC"> that</font><font color="#E5E5E5"> might mean that you want to</font>

1011
00:43:03,900 --> 00:43:08,790
try and get that<font color="#E5E5E5"> view access see what</font>

1012
00:43:06,750 --> 00:43:11,190
users<font color="#CCCCCC"> have what permissions and if you</font>

1013
00:43:08,790 --> 00:43:15,450
find<font color="#E5E5E5"> someone with</font><font color="#CCCCCC"> a upload plugins</font>

1014
00:43:11,190 --> 00:43:18,060
checked<font color="#E5E5E5"> than your goal</font><font color="#CCCCCC"> the other thing</font>

1015
00:43:15,450 --> 00:43:19,290
to look<font color="#E5E5E5"> for is Jenkins is used pretty</font>

1016
00:43:18,060 --> 00:43:22,380
heavily with custom authentication

1017
00:43:19,290 --> 00:43:25,950
providers so<font color="#E5E5E5"> instead</font><font color="#CCCCCC"> of using one of</font>

1018
00:43:22,380 --> 00:43:30,510
<font color="#E5E5E5">those six you can</font><font color="#CCCCCC"> tie it</font><font color="#E5E5E5"> 200 or open ID</font>

1019
00:43:25,950 --> 00:43:32,819
or<font color="#E5E5E5"> whatever the challenge</font><font color="#CCCCCC"> with tying it</font>

1020
00:43:30,510 --> 00:43:35,280
to those is they<font color="#CCCCCC"> often don't</font><font color="#E5E5E5"> work with</font>

1021
00:43:32,820 --> 00:43:37,260
your matrix based security<font color="#E5E5E5"> so it's an</font>

1022
00:43:35,280 --> 00:43:42,270
all-or-nothing<font color="#CCCCCC"> once you login</font><font color="#E5E5E5"> is one of</font>

1023
00:43:37,260 --> 00:43:44,910
those then you just become admin team

1024
00:43:42,270 --> 00:43:46,740
<font color="#CCCCCC">City</font><font color="#E5E5E5"> has I think</font><font color="#CCCCCC"> probably actually</font><font color="#E5E5E5"> the</font>

1025
00:43:44,910 --> 00:43:48,990
easiest to understand permission<font color="#E5E5E5"> model</font>

1026
00:43:46,740 --> 00:43:52,189
they've got<font color="#E5E5E5"> four default levels or</font>

1027
00:43:48,990 --> 00:43:56,609
groups<font color="#E5E5E5"> viewer</font><font color="#CCCCCC"> project</font><font color="#E5E5E5"> you</font><font color="#CCCCCC"> ER developer</font>

1028
00:43:52,190 --> 00:44:00,050
<font color="#E5E5E5">or project admin and then a system admin</font>

1029
00:43:56,610 --> 00:44:00,050
category with control over<font color="#E5E5E5"> everything</font>

1030
00:44:00,950 --> 00:44:06,390
<font color="#E5E5E5">the one kind</font><font color="#CCCCCC"> of trick or thing that I</font>

1031
00:44:04,590 --> 00:44:08,250
think<font color="#CCCCCC"> people</font><font color="#E5E5E5"> miss or is easy to miss</font>

1032
00:44:06,390 --> 00:44:12,450
with<font color="#CCCCCC"> teamcity</font><font color="#E5E5E5"> is that your permissions</font>

1033
00:44:08,250 --> 00:44:14,460
groups can nest<font color="#E5E5E5"> so there's a global set</font>

1034
00:44:12,450 --> 00:44:16,529
of permission groups that every project

1035
00:44:14,460 --> 00:44:19,890
inherits and then per project

1036
00:44:16,530 --> 00:44:23,280
permissions so by default everyone's put

1037
00:44:19,890 --> 00:44:25,440
into the project developer group so<font color="#E5E5E5"> even</font>

1038
00:44:23,280 --> 00:44:27,810
if you then add a user later<font color="#CCCCCC"> pick a</font>

1039
00:44:25,440 --> 00:44:29,550
project<font color="#CCCCCC"> add them as a viewer they'll</font>

1040
00:44:27,810 --> 00:44:34,950
still have developer permission to that

1041
00:44:29,550 --> 00:44:36,720
group and<font color="#CCCCCC"> the the second kind of piece</font>

1042
00:44:34,950 --> 00:44:38,759
<font color="#E5E5E5">of all of this is each</font><font color="#CCCCCC"> of these groups</font>

1043
00:44:36,720 --> 00:44:41,100
can then be expanded<font color="#E5E5E5"> into a more</font>

1044
00:44:38,760 --> 00:44:42,780
granular set of permissions<font color="#E5E5E5"> so kind of</font>

1045
00:44:41,100 --> 00:44:43,170
<font color="#E5E5E5">like the Jenkins list of options at the</font>

1046
00:44:42,780 --> 00:44:46,710
ball

1047
00:44:43,170 --> 00:44:48,569
if a company has attempted to customize

1048
00:44:46,710 --> 00:44:50,489
this<font color="#E5E5E5"> a bit they might have run into the</font>

1049
00:44:48,569 --> 00:44:51,989
<font color="#E5E5E5">same</font><font color="#CCCCCC"> situation where they've given a</font>

1050
00:44:50,489 --> 00:44:56,369
little bit more permissions than<font color="#E5E5E5"> it's</font>

1051
00:44:51,989 --> 00:44:57,869
necessary<font color="#CCCCCC"> but even a</font><font color="#E5E5E5"> project developer</font>

1052
00:44:56,369 --> 00:44:59,670
which is kind<font color="#E5E5E5"> of the most basic</font>

1053
00:44:57,869 --> 00:45:02,900
<font color="#E5E5E5">permissions you can</font><font color="#CCCCCC"> give</font><font color="#E5E5E5"> your developer</font>

1054
00:44:59,670 --> 00:45:05,279
they can view<font color="#CCCCCC"> a project or start</font><font color="#E5E5E5"> a build</font>

1055
00:45:02,900 --> 00:45:08,249
<font color="#CCCCCC">when they start a build they can</font><font color="#E5E5E5"> supply</font>

1056
00:45:05,279 --> 00:45:10,799
parameters to that build one of the

1057
00:45:08,249 --> 00:45:12,480
parameters they can just supply<font color="#E5E5E5"> well one</font>

1058
00:45:10,799 --> 00:45:14,579
<font color="#E5E5E5">of but a set of the parameters they can</font>

1059
00:45:12,480 --> 00:45:17,789
<font color="#E5E5E5">supply is any of the environment</font>

1060
00:45:14,579 --> 00:45:20,400
variables<font color="#E5E5E5"> that the build slave is going</font>

1061
00:45:17,789 --> 00:45:23,670
to use so<font color="#E5E5E5"> they can supply a new path</font>

1062
00:45:20,400 --> 00:45:26,130
<font color="#E5E5E5">variable for example</font><font color="#CCCCCC"> and if they are</font>

1063
00:45:23,670 --> 00:45:29,249
otherwise able to log<font color="#CCCCCC"> in to that server</font>

1064
00:45:26,130 --> 00:45:31,829
<font color="#E5E5E5">they can just rewrite what something</font>

1065
00:45:29,249 --> 00:45:35,939
like<font color="#E5E5E5"> GCC gets pointed to and take over</font>

1066
00:45:31,829 --> 00:45:39,809
the permissions of<font color="#CCCCCC"> the build slave if</font>

1067
00:45:35,940 --> 00:45:41,160
<font color="#E5E5E5">you have project admin that basically is</font>

1068
00:45:39,809 --> 00:45:44,880
<font color="#E5E5E5">going to give you remote code execution</font>

1069
00:45:41,160 --> 00:45:46,499
on the<font color="#E5E5E5"> slaves</font><font color="#CCCCCC"> and like</font><font color="#E5E5E5"> I</font><font color="#CCCCCC"> mentioned</font>

1070
00:45:44,880 --> 00:45:48,450
<font color="#CCCCCC">earlier you can get</font><font color="#E5E5E5"> the project</font>

1071
00:45:46,499 --> 00:45:50,819
<font color="#E5E5E5">credential super easy straight through</font>

1072
00:45:48,450 --> 00:45:52,169
the web<font color="#CCCCCC"> interface</font><font color="#E5E5E5"> by just requesting a</font>

1073
00:45:50,819 --> 00:45:55,529
project back up so you<font color="#CCCCCC"> don't</font><font color="#E5E5E5"> necessarily</font>

1074
00:45:52,170 --> 00:45:57,749
<font color="#E5E5E5">need to compromise the whole build</font>

1075
00:45:55,529 --> 00:46:02,910
master<font color="#E5E5E5"> you can just take over that whole</font>

1076
00:45:57,749 --> 00:46:04,470
<font color="#CCCCCC">project and last is bamboo this one</font>

1077
00:46:02,910 --> 00:46:07,049
<font color="#E5E5E5">really didn't have very much</font><font color="#CCCCCC"> of a</font>

1078
00:46:04,470 --> 00:46:11,519
built-in<font color="#E5E5E5"> permission system</font><font color="#CCCCCC"> it looks</font><font color="#E5E5E5"> like</font>

1079
00:46:07,049 --> 00:46:13,739
it's<font color="#CCCCCC"> too defaults which is user that can</font>

1080
00:46:11,519 --> 00:46:17,669
<font color="#E5E5E5">only view can't actually do anything</font><font color="#CCCCCC"> or</font>

1081
00:46:13,739 --> 00:46:20,819
<font color="#E5E5E5">admin that has full control so I imagine</font>

1082
00:46:17,670 --> 00:46:22,349
<font color="#E5E5E5">that the</font><font color="#CCCCCC"> idea is that</font><font color="#E5E5E5"> you would then set</font>

1083
00:46:20,819 --> 00:46:24,930
up which permission level you actually

1084
00:46:22,349 --> 00:46:28,369
<font color="#CCCCCC">want and so there's</font><font color="#E5E5E5"> only four that you</font>

1085
00:46:24,930 --> 00:46:31,160
can<font color="#E5E5E5"> choose from access</font><font color="#CCCCCC"> to view stuff</font>

1086
00:46:28,369 --> 00:46:33,630
create a new plan which is a<font color="#CCCCCC"> project</font>

1087
00:46:31,160 --> 00:46:38,160
create a repository which is a source

1088
00:46:33,630 --> 00:46:40,380
code<font color="#E5E5E5"> repository</font><font color="#CCCCCC"> or admin so really the</font>

1089
00:46:38,160 --> 00:46:43,319
create plan or admin groups are going<font color="#E5E5E5"> to</font>

1090
00:46:40,380 --> 00:46:47,730
<font color="#CCCCCC">be</font><font color="#E5E5E5"> the two that let you actually get</font>

1091
00:46:43,319 --> 00:46:49,799
code running on the build slaves but<font color="#CCCCCC"> by</font>

1092
00:46:47,730 --> 00:46:54,350
default<font color="#E5E5E5"> everyone's just going to get</font>

1093
00:46:49,799 --> 00:46:56,810
made an admin in<font color="#CCCCCC"> that system</font>

1094
00:46:54,350 --> 00:46:58,670
so what's the<font color="#E5E5E5"> high level thought for all</font>

1095
00:46:56,810 --> 00:47:00,920
of these system permissions<font color="#CCCCCC"> a level</font>

1096
00:46:58,670 --> 00:47:02,900
thought is going<font color="#CCCCCC"> to take a lot of tuning</font>

1097
00:47:00,920 --> 00:47:04,670
with any of these to make<font color="#CCCCCC"> sure that</font>

1098
00:47:02,900 --> 00:47:06,710
you've made<font color="#CCCCCC"> the system usable for your</font>

1099
00:47:04,670 --> 00:47:08,870
developers so<font color="#E5E5E5"> that when they check in</font>

1100
00:47:06,710 --> 00:47:11,780
code<font color="#E5E5E5"> they</font><font color="#CCCCCC"> can run a one-off build or</font>

1101
00:47:08,870 --> 00:47:14,060
things<font color="#CCCCCC"> like that</font><font color="#E5E5E5"> but it's going to be</font>

1102
00:47:11,780 --> 00:47:16,850
pretty difficult to prevent<font color="#E5E5E5"> that</font>

1103
00:47:14,060 --> 00:47:19,640
developer from<font color="#E5E5E5"> more</font><font color="#CCCCCC"> or less</font><font color="#E5E5E5"> having</font>

1104
00:47:16,850 --> 00:47:22,009
effective admin permission because if

1105
00:47:19,640 --> 00:47:26,089
they can run custom code on a build

1106
00:47:22,010 --> 00:47:27,500
slave<font color="#E5E5E5"> as we'll talk</font><font color="#CCCCCC"> about next chances</font>

1107
00:47:26,090 --> 00:47:29,990
<font color="#E5E5E5">are they</font><font color="#CCCCCC"> can take over</font><font color="#E5E5E5"> the</font><font color="#CCCCCC"> master server</font>

1108
00:47:27,500 --> 00:47:32,570
<font color="#E5E5E5">as well so a solution</font><font color="#CCCCCC"> that you might</font>

1109
00:47:29,990 --> 00:47:34,520
want<font color="#CCCCCC"> to</font><font color="#E5E5E5"> look at is maybe your developers</font>

1110
00:47:32,570 --> 00:47:36,500
don't generally<font color="#E5E5E5"> need access to the CI</font>

1111
00:47:34,520 --> 00:47:38,870
system<font color="#E5E5E5"> maybe you've got a few build</font>

1112
00:47:36,500 --> 00:47:41,870
engineers or an engineering manager that

1113
00:47:38,870 --> 00:47:45,859
has access<font color="#E5E5E5"> to the</font><font color="#CCCCCC"> system depends</font><font color="#E5E5E5"> on</font><font color="#CCCCCC"> your</font>

1114
00:47:41,870 --> 00:47:47,330
company or<font color="#E5E5E5"> the second is that you</font>

1115
00:47:45,860 --> 00:47:50,180
<font color="#E5E5E5">probably at least want to segment your</font>

1116
00:47:47,330 --> 00:47:52,160
<font color="#E5E5E5">CI system so instead of adding every new</font>

1117
00:47:50,180 --> 00:47:53,390
<font color="#E5E5E5">project to the same system</font><font color="#CCCCCC"> if you've got</font>

1118
00:47:52,160 --> 00:47:55,600
two<font color="#E5E5E5"> teams</font><font color="#CCCCCC"> that work on different</font>

1119
00:47:53,390 --> 00:47:58,069
<font color="#E5E5E5">projects that shouldn't trust each other</font>

1120
00:47:55,600 --> 00:48:07,220
put those on two different<font color="#CCCCCC"> sets of CI</font>

1121
00:47:58,070 --> 00:48:11,690
servers<font color="#CCCCCC"> I got a quick note here</font><font color="#E5E5E5"> starting</font>

1122
00:48:07,220 --> 00:48:16,669
to run at a<font color="#CCCCCC"> time so basically as a quick</font>

1123
00:48:11,690 --> 00:48:18,050
example<font color="#CCCCCC"> Jenkins</font><font color="#E5E5E5"> had a bunch of plugins</font><font color="#CCCCCC"> I</font>

1124
00:48:16,670 --> 00:48:20,840
looked at one<font color="#CCCCCC"> of them I came across the</font>

1125
00:48:18,050 --> 00:48:22,280
server customers using<font color="#CCCCCC"> used the</font><font color="#E5E5E5"> Google</font>

1126
00:48:20,840 --> 00:48:24,530
authentication like I was mentioning

1127
00:48:22,280 --> 00:48:27,140
<font color="#E5E5E5">before but it was tied to their</font>

1128
00:48:24,530 --> 00:48:29,210
company's domain<font color="#CCCCCC"> I looked at the source</font>

1129
00:48:27,140 --> 00:48:30,680
<font color="#CCCCCC">code</font><font color="#E5E5E5"> for the plug-in looked at what was</font>

1130
00:48:29,210 --> 00:48:33,140
<font color="#CCCCCC">happening behind</font><font color="#E5E5E5"> the scenes and</font>

1131
00:48:30,680 --> 00:48:35,120
basically the plug-in developer<font color="#E5E5E5"> I'd miss</font>

1132
00:48:33,140 --> 00:48:38,270
understand how the OAuth<font color="#CCCCCC"> flow worked</font>

1133
00:48:35,120 --> 00:48:42,650
with Google<font color="#E5E5E5"> so you could intercept the</font>

1134
00:48:38,270 --> 00:48:44,030
login that was taking<font color="#CCCCCC"> place and instead</font>

1135
00:48:42,650 --> 00:48:45,860
<font color="#E5E5E5">of telling it to authenticate</font><font color="#CCCCCC"> to the</font>

1136
00:48:44,030 --> 00:48:49,040
<font color="#E5E5E5">customers domain you could pick any</font>

1137
00:48:45,860 --> 00:48:52,580
<font color="#E5E5E5">domain you want Google would say yeah</font>

1138
00:48:49,040 --> 00:48:54,680
<font color="#CCCCCC">wet zones you know test domain</font><font color="#E5E5E5"> com sure</font>

1139
00:48:52,580 --> 00:48:57,020
he's authenticated stat<font color="#E5E5E5"> I'll tell the</font>

1140
00:48:54,680 --> 00:48:58,759
server<font color="#E5E5E5"> yeah</font><font color="#CCCCCC"> Wes has authenticated the</font>

1141
00:48:57,020 --> 00:49:01,610
server assumes that<font color="#CCCCCC"> I sent a kid it's</font>

1142
00:48:58,760 --> 00:49:04,190
their domain not my own and then<font color="#E5E5E5"> lets me</font>

1143
00:49:01,610 --> 00:49:06,980
in<font color="#E5E5E5"> so this kind of vulnerability</font><font color="#CCCCCC"> is</font>

1144
00:49:04,190 --> 00:49:08,040
pretty typical I think for plugins to

1145
00:49:06,980 --> 00:49:10,500
any of these<font color="#E5E5E5"> systems not</font><font color="#CCCCCC"> too</font>

1146
00:49:08,040 --> 00:49:14,130
<font color="#E5E5E5">Jenkins so it's always worth considering</font>

1147
00:49:10,500 --> 00:49:15,330
the plugins<font color="#CCCCCC"> this</font><font color="#E5E5E5"> next slide I</font><font color="#CCCCCC"> think goes</font>

1148
00:49:14,130 --> 00:49:18,090
without saying but<font color="#E5E5E5"> it's worth</font>

1149
00:49:15,330 --> 00:49:21,150
highlighting<font color="#CCCCCC"> so the point of CI systems</font>

1150
00:49:18,090 --> 00:49:25,890
<font color="#E5E5E5">is to let administers administrators</font>

1151
00:49:21,150 --> 00:49:28,020
product administrators<font color="#CCCCCC"> configure the</font>

1152
00:49:25,890 --> 00:49:32,970
source code repository the build step

1153
00:49:28,020 --> 00:49:35,130
<font color="#CCCCCC">and then take</font><font color="#E5E5E5"> off a build</font><font color="#CCCCCC"> that basically</font>

1154
00:49:32,970 --> 00:49:37,859
means<font color="#E5E5E5"> the point of these systems is</font><font color="#CCCCCC"> to</font>

1155
00:49:35,130 --> 00:49:39,510
allow tasks to run<font color="#CCCCCC"> a command so in</font>

1156
00:49:37,860 --> 00:49:41,730
Jenkins<font color="#E5E5E5"> you had a build step called the</font>

1157
00:49:39,510 --> 00:49:44,100
execute shell and it lets you configure

1158
00:49:41,730 --> 00:49:46,500
what shell command to run<font color="#CCCCCC"> teamcity</font><font color="#E5E5E5"> and</font>

1159
00:49:44,100 --> 00:49:49,049
<font color="#CCCCCC">bamboo same kind</font><font color="#E5E5E5"> of thing if you want a</font>

1160
00:49:46,500 --> 00:49:51,720
remote shell<font color="#CCCCCC"> all you do is tell it run</font>

1161
00:49:49,050 --> 00:49:54,750
bash shell bash<font color="#E5E5E5"> to pipe me back a remote</font>

1162
00:49:51,720 --> 00:49:56,580
<font color="#E5E5E5">connection to my IP</font><font color="#CCCCCC"> import</font><font color="#E5E5E5"> and redirect</font>

1163
00:49:54,750 --> 00:49:59,330
input so now you've got<font color="#CCCCCC"> a remote bash</font>

1164
00:49:56,580 --> 00:50:02,160
shell if it's a<font color="#E5E5E5"> Windows built slave</font><font color="#CCCCCC"> I</font>

1165
00:49:59,330 --> 00:50:08,009
recommend some<font color="#CCCCCC"> PowerShell magic but same</font>

1166
00:50:02,160 --> 00:50:09,930
<font color="#CCCCCC">idea so</font><font color="#E5E5E5"> now you've</font><font color="#CCCCCC"> got code running</font><font color="#E5E5E5"> on</font>

1167
00:50:08,010 --> 00:50:13,020
<font color="#E5E5E5">your build slave what if you want to</font>

1168
00:50:09,930 --> 00:50:14,460
<font color="#E5E5E5">take over</font><font color="#CCCCCC"> the whole</font><font color="#E5E5E5"> system</font><font color="#CCCCCC"> I'm calling</font>

1169
00:50:13,020 --> 00:50:16,290
it build slave here each system<font color="#E5E5E5"> calls it</font>

1170
00:50:14,460 --> 00:50:19,860
something<font color="#E5E5E5"> different node or agent what</font>

1171
00:50:16,290 --> 00:50:21,330
have you I'm calling it slave because

1172
00:50:19,860 --> 00:50:24,840
that's fine for computers I think

1173
00:50:21,330 --> 00:50:26,610
<font color="#E5E5E5">probably</font><font color="#CCCCCC"> not for people</font><font color="#E5E5E5"> so if you can</font>

1174
00:50:24,840 --> 00:50:30,540
trigger a custom build you<font color="#CCCCCC"> can get code</font>

1175
00:50:26,610 --> 00:50:33,030
execution and<font color="#E5E5E5"> if</font><font color="#CCCCCC"> nothing else</font><font color="#E5E5E5"> say you</font>

1176
00:50:30,540 --> 00:50:34,650
can't<font color="#E5E5E5"> pivot back anything else that gets</font>

1177
00:50:33,030 --> 00:50:36,900
<font color="#E5E5E5">built on that slave you can now</font>

1178
00:50:34,650 --> 00:50:38,310
<font color="#E5E5E5">compromise or mess</font><font color="#CCCCCC"> with that might</font><font color="#E5E5E5"> be</font>

1179
00:50:36,900 --> 00:50:40,350
<font color="#E5E5E5">good</font><font color="#CCCCCC"> enough</font><font color="#E5E5E5"> depending on how they've</font>

1180
00:50:38,310 --> 00:50:44,670
architected where builds go to what

1181
00:50:40,350 --> 00:50:46,290
slaves in all the default configurations

1182
00:50:44,670 --> 00:50:48,150
you end up with a build slave running on

1183
00:50:46,290 --> 00:50:49,590
the build master and in the default

1184
00:50:48,150 --> 00:50:52,500
configuration<font color="#CCCCCC"> that's running is the same</font>

1185
00:50:49,590 --> 00:50:54,990
<font color="#CCCCCC">user as a build master so company has</font>

1186
00:50:52,500 --> 00:50:58,020
left this configuration<font color="#E5E5E5"> in place you can</font>

1187
00:50:54,990 --> 00:50:59,759
<font color="#E5E5E5">simply run code</font><font color="#CCCCCC"> on the slave that's on</font>

1188
00:50:58,020 --> 00:51:01,890
the<font color="#CCCCCC"> master and</font><font color="#E5E5E5"> take over the master</font>

1189
00:50:59,760 --> 00:51:04,260
if segmented you're still going to<font color="#CCCCCC"> need</font>

1190
00:51:01,890 --> 00:51:06,480
some<font color="#CCCCCC"> pass back don't</font><font color="#E5E5E5"> have a lot of notes</font>

1191
00:51:04,260 --> 00:51:07,860
<font color="#E5E5E5">on these but in Jenkins there's a bunch</font>

1192
00:51:06,480 --> 00:51:09,690
of<font color="#E5E5E5"> different protocols for different</font>

1193
00:51:07,860 --> 00:51:12,350
protocols and<font color="#CCCCCC"> two command-line protocols</font>

1194
00:51:09,690 --> 00:51:15,840
to talk from the slave to the master for

1195
00:51:12,350 --> 00:51:16,259
<font color="#CCCCCC">old versions there was no</font><font color="#E5E5E5"> control over</font>

1196
00:51:15,840 --> 00:51:19,980
that

1197
00:51:16,260 --> 00:51:21,660
<font color="#E5E5E5">and so they just documented</font><font color="#CCCCCC"> slave can</font>

1198
00:51:19,980 --> 00:51:24,990
basically use Java remoting

1199
00:51:21,660 --> 00:51:27,390
call and tell the<font color="#E5E5E5"> Jenkins master to</font>

1200
00:51:24,990 --> 00:51:28,649
execute whatever<font color="#E5E5E5"> code you</font><font color="#CCCCCC"> want</font><font color="#E5E5E5"> on new</font>

1201
00:51:27,390 --> 00:51:30,390
ones<font color="#E5E5E5"> they try and do function</font>

1202
00:51:28,650 --> 00:51:32,039
whitelisting<font color="#E5E5E5"> and I'm looking</font><font color="#CCCCCC"> into this</font>

1203
00:51:30,390 --> 00:51:34,890
but haven't<font color="#CCCCCC"> really finished looking into</font>

1204
00:51:32,039 --> 00:51:36,359
it the theory<font color="#CCCCCC"> at least is that</font><font color="#E5E5E5"> slaves</font>

1205
00:51:34,890 --> 00:51:38,549
<font color="#E5E5E5">should really only be able to do limited</font>

1206
00:51:36,359 --> 00:51:44,190
things<font color="#E5E5E5"> upload job results in that that</font>

1207
00:51:38,549 --> 00:51:46,670
type of<font color="#E5E5E5"> thing for</font><font color="#CCCCCC"> team</font><font color="#E5E5E5"> city</font><font color="#CCCCCC"> I actually</font>

1208
00:51:44,190 --> 00:51:48,450
found<font color="#CCCCCC"> a number of</font><font color="#E5E5E5"> remote code execution</font>

1209
00:51:46,670 --> 00:51:51,150
vulnerabilities and<font color="#E5E5E5"> how they did the</font>

1210
00:51:48,450 --> 00:51:53,160
slaves<font color="#E5E5E5"> to master so I still</font><font color="#CCCCCC"> need to tell</font>

1211
00:51:51,150 --> 00:51:55,650
them about it<font color="#E5E5E5"> I guess and disclose that</font>

1212
00:51:53,160 --> 00:51:56,970
<font color="#E5E5E5">in some way but in the meantime you've</font>

1213
00:51:55,650 --> 00:51:57,990
kind of got two<font color="#E5E5E5"> bottles</font><font color="#CCCCCC"> for your slaves</font>

1214
00:51:56,970 --> 00:52:01,770
out<font color="#E5E5E5"> of</font><font color="#CCCCCC"> a unidirectional or</font>

1215
00:51:57,990 --> 00:52:03,808
bi-directional<font color="#CCCCCC"> and they use a different</font>

1216
00:52:01,770 --> 00:52:06,180
<font color="#E5E5E5">protocol for each so how you might want</font>

1217
00:52:03,809 --> 00:52:09,150
to attack those is going<font color="#E5E5E5"> to</font><font color="#CCCCCC"> very</font><font color="#E5E5E5"> XML one</font>

1218
00:52:06,180 --> 00:52:11,339
I tried like<font color="#E5E5E5"> external entities attack</font>

1219
00:52:09,150 --> 00:52:13,260
and<font color="#E5E5E5"> that didn't work</font><font color="#CCCCCC"> so you don't</font><font color="#E5E5E5"> have</font>

1220
00:52:11,339 --> 00:52:16,828
<font color="#E5E5E5">to try that but other opportunities</font>

1221
00:52:13,260 --> 00:52:19,109
might exist<font color="#CCCCCC"> authentication is actually</font>

1222
00:52:16,829 --> 00:52:21,329
pretty<font color="#E5E5E5"> neat with</font><font color="#CCCCCC"> teamcity teamcity</font><font color="#E5E5E5"> a</font>

1223
00:52:19,109 --> 00:52:23,640
slave<font color="#E5E5E5"> just picks its name and tells the</font>

1224
00:52:21,329 --> 00:52:25,289
master hey<font color="#E5E5E5"> I'm a new slave do you want</font>

1225
00:52:23,640 --> 00:52:27,359
to<font color="#CCCCCC"> authorize me</font><font color="#E5E5E5"> and there's a big list</font>

1226
00:52:25,289 --> 00:52:29,460
of new slaves<font color="#E5E5E5"> so if you want to just</font>

1227
00:52:27,359 --> 00:52:31,890
call<font color="#E5E5E5"> it grief you can like script up a</font>

1228
00:52:29,460 --> 00:52:38,970
<font color="#E5E5E5">million new slaves and they'll all show</font>

1229
00:52:31,890 --> 00:52:41,490
<font color="#E5E5E5">up in the list using the admin does</font>

1230
00:52:38,970 --> 00:52:43,529
still have to approve<font color="#E5E5E5"> them but you can</font>

1231
00:52:41,490 --> 00:52:44,970
mess<font color="#CCCCCC"> with their system slaves</font><font color="#E5E5E5"> are</font>

1232
00:52:43,529 --> 00:52:47,069
supposed to<font color="#E5E5E5"> be pretty limited as to</font><font color="#CCCCCC"> what</font>

1233
00:52:44,970 --> 00:52:48,750
they can<font color="#CCCCCC"> access on master so when things</font>

1234
00:52:47,069 --> 00:52:52,680
are working by design they can really

1235
00:52:48,750 --> 00:52:54,750
<font color="#E5E5E5">only upload job results</font><font color="#CCCCCC"> King</font><font color="#E5E5E5"> City</font>

1236
00:52:52,680 --> 00:52:56,879
doesn't<font color="#CCCCCC"> use encryption by default for</font>

1237
00:52:54,750 --> 00:53:00,359
those<font color="#E5E5E5"> links says just put in a secure</font>

1238
00:52:56,880 --> 00:53:02,700
<font color="#CCCCCC">environment</font><font color="#E5E5E5"> bamboo uses the bandana</font>

1239
00:53:00,359 --> 00:53:04,470
program<font color="#E5E5E5"> and the more slaves you have the</font>

1240
00:53:02,700 --> 00:53:06,480
more you have to<font color="#E5E5E5"> pay</font><font color="#CCCCCC"> for them so by</font>

1241
00:53:04,470 --> 00:53:09,240
<font color="#CCCCCC">default chances are good the build slave</font>

1242
00:53:06,480 --> 00:53:10,799
is on the build master<font color="#CCCCCC"> I still</font><font color="#E5E5E5"> haven't</font>

1243
00:53:09,240 --> 00:53:12,660
<font color="#E5E5E5">really looked</font><font color="#CCCCCC"> into</font><font color="#E5E5E5"> the protocol and all</font>

1244
00:53:10,799 --> 00:53:19,200
but I'll be like that guy

1245
00:53:12,660 --> 00:53:25,500
pretty soon hacking the bamboo<font color="#CCCCCC"> so to</font>

1246
00:53:19,200 --> 00:53:27,058
kind of round things off that's now that

1247
00:53:25,500 --> 00:53:28,440
we've<font color="#E5E5E5"> taken over the build master and</font>

1248
00:53:27,059 --> 00:53:30,420
<font color="#E5E5E5">build slaves how do we do a back door</font>

1249
00:53:28,440 --> 00:53:31,710
<font color="#E5E5E5">obvious way is just add a new build</font>

1250
00:53:30,420 --> 00:53:33,980
stuff<font color="#E5E5E5"> people probably aren't going to</font>

1251
00:53:31,710 --> 00:53:35,750
<font color="#E5E5E5">notice</font><font color="#CCCCCC"> that</font><font color="#E5E5E5"> something</font><font color="#CCCCCC"> new is in there</font>

1252
00:53:33,980 --> 00:53:39,380
give it an<font color="#E5E5E5"> instant name like static</font>

1253
00:53:35,750 --> 00:53:40,520
<font color="#CCCCCC">security analysis as Clippy says say</font>

1254
00:53:39,380 --> 00:53:43,450
<font color="#E5E5E5">you're a developer and you notice this</font>

1255
00:53:40,520 --> 00:53:47,030
do you<font color="#E5E5E5"> even tell anyone</font><font color="#CCCCCC"> I probably would</font>

1256
00:53:43,450 --> 00:53:48,618
<font color="#E5E5E5">a better way though is that</font><font color="#CCCCCC"> a new</font><font color="#E5E5E5"> plugin</font>

1257
00:53:47,030 --> 00:53:50,000
there's a million plugins<font color="#CCCCCC"> no one knows</font>

1258
00:53:48,619 --> 00:53:52,010
what's<font color="#CCCCCC"> going on and they have full</font>

1259
00:53:50,000 --> 00:53:53,540
control over<font color="#CCCCCC"> the system plugins can</font><font color="#E5E5E5"> be</font>

1260
00:53:52,010 --> 00:53:56,089
<font color="#E5E5E5">triggered at any point in the build</font>

1261
00:53:53,540 --> 00:53:57,619
process<font color="#CCCCCC"> and in most</font><font color="#E5E5E5"> of the systems you</font>

1262
00:53:56,089 --> 00:53:59,599
can set it to<font color="#E5E5E5"> the plugin runs against</font>

1263
00:53:57,619 --> 00:54:01,339
every project<font color="#CCCCCC"> with no</font><font color="#E5E5E5"> new changes</font><font color="#CCCCCC"> to</font>

1264
00:53:59,599 --> 00:54:06,680
<font color="#E5E5E5">that project</font><font color="#CCCCCC"> so</font><font color="#E5E5E5"> I'm going to put some</font>

1265
00:54:01,339 --> 00:54:08,869
examples of these at the end but

1266
00:54:06,680 --> 00:54:11,240
<font color="#CCCCCC">backdooring just a few jobs is good</font>

1267
00:54:08,869 --> 00:54:14,060
why not backdoor the whole system<font color="#CCCCCC"> I</font>

1268
00:54:11,240 --> 00:54:16,910
think<font color="#CCCCCC"> the best offensive is</font><font color="#E5E5E5"> plausible</font>

1269
00:54:14,060 --> 00:54:18,890
<font color="#E5E5E5">deniability</font><font color="#CCCCCC"> so you already know there's</font>

1270
00:54:16,910 --> 00:54:20,540
a million<font color="#E5E5E5"> ways to do your configuration</font>

1271
00:54:18,890 --> 00:54:21,529
wrong once you've taken over<font color="#CCCCCC"> one of</font>

1272
00:54:20,540 --> 00:54:24,500
these<font color="#CCCCCC"> servers just make the</font>

1273
00:54:21,530 --> 00:54:27,890
configuration less secure<font color="#CCCCCC"> turn off</font><font color="#E5E5E5"> CSRF</font>

1274
00:54:24,500 --> 00:54:29,930
protection<font color="#E5E5E5"> add some test account</font><font color="#CCCCCC"> maybe</font>

1275
00:54:27,890 --> 00:54:31,730
add a new off provider<font color="#E5E5E5"> generate a whole</font>

1276
00:54:29,930 --> 00:54:33,319
bunch<font color="#CCCCCC"> api tokens</font>

1277
00:54:31,730 --> 00:54:35,060
this is possibilities<font color="#E5E5E5"> are kind of</font>

1278
00:54:33,320 --> 00:54:36,740
<font color="#E5E5E5">endless and then and most of these no</font>

1279
00:54:35,060 --> 00:54:41,569
one<font color="#E5E5E5"> would ever know for sure was an</font>

1280
00:54:36,740 --> 00:54:43,129
attacker but I kind of<font color="#E5E5E5"> wanted to have</font>

1281
00:54:41,569 --> 00:54:49,750
<font color="#E5E5E5">time to talk</font><font color="#CCCCCC"> about like the next level</font>

1282
00:54:43,130 --> 00:54:52,190
<font color="#CCCCCC">compromise scenario</font><font color="#E5E5E5"> so accusing</font>

1283
00:54:49,750 --> 00:54:54,109
backdoored compiler will backdoor all

1284
00:54:52,190 --> 00:54:56,180
new versions<font color="#E5E5E5"> of the compiler the</font>

1285
00:54:54,109 --> 00:54:57,680
backdoored CI system<font color="#E5E5E5"> can do the same so</font>

1286
00:54:56,180 --> 00:54:59,450
you've got your<font color="#E5E5E5"> CI server</font><font color="#CCCCCC"> you've got</font>

1287
00:54:57,680 --> 00:55:00,500
some<font color="#E5E5E5"> build slaves when you upgrade</font><font color="#CCCCCC"> your</font>

1288
00:54:59,450 --> 00:55:02,810
<font color="#CCCCCC">CI server</font>

1289
00:55:00,500 --> 00:55:05,450
it pushes new updates out to the build

1290
00:55:02,810 --> 00:55:08,420
slaves as well<font color="#E5E5E5"> so say we took our</font>

1291
00:55:05,450 --> 00:55:09,828
scenario we compromised<font color="#CCCCCC"> a project</font><font color="#E5E5E5"> got</font>

1292
00:55:08,420 --> 00:55:12,819
our code<font color="#E5E5E5"> running on a build slave we've</font>

1293
00:55:09,829 --> 00:55:15,260
got a compromise build<font color="#CCCCCC"> slaves</font><font color="#E5E5E5"> got some</font>

1294
00:55:12,819 --> 00:55:18,470
animation here it's pretty<font color="#CCCCCC"> great so</font>

1295
00:55:15,260 --> 00:55:21,319
we've got our build slave<font color="#CCCCCC"> it's it's</font>

1296
00:55:18,470 --> 00:55:23,169
infected and now they realized someone's

1297
00:55:21,319 --> 00:55:26,300
been messing with our system we better

1298
00:55:23,170 --> 00:55:30,530
reinstall the CI server<font color="#E5E5E5"> they reinstall</font>

1299
00:55:26,300 --> 00:55:32,540
the CI server<font color="#E5E5E5"> it's all good but your</font>

1300
00:55:30,530 --> 00:55:34,010
build slave is anticipating this<font color="#E5E5E5"> and</font>

1301
00:55:32,540 --> 00:55:36,319
since<font color="#E5E5E5"> slaves have some level of</font>

1302
00:55:34,010 --> 00:55:39,260
permission back to the master slave

1303
00:55:36,319 --> 00:55:42,259
checks<font color="#E5E5E5"> his maps are still compromised</font><font color="#CCCCCC"> no</font>

1304
00:55:39,260 --> 00:55:44,690
so it goes<font color="#E5E5E5"> and reacts the master and it</font>

1305
00:55:42,260 --> 00:55:46,640
<font color="#E5E5E5">tells the master yo react all the other</font>

1306
00:55:44,690 --> 00:55:47,360
build slaves<font color="#E5E5E5"> and then this cycle just</font>

1307
00:55:46,640 --> 00:55:49,490
continues for

1308
00:55:47,360 --> 00:55:51,080
ever<font color="#E5E5E5"> your changes are never pushed down</font>

1309
00:55:49,490 --> 00:55:53,779
to<font color="#CCCCCC"> your build slaves fast enough for</font>

1310
00:55:51,080 --> 00:55:55,549
them to<font color="#E5E5E5"> not react</font><font color="#CCCCCC"> the CI server</font><font color="#E5E5E5"> so I</font>

1311
00:55:53,780 --> 00:55:57,830
<font color="#E5E5E5">haven't implemented this yet but I</font>

1312
00:55:55,550 --> 00:56:01,610
totally<font color="#E5E5E5"> want to so beyond the look of</font>

1313
00:55:57,830 --> 00:56:04,190
<font color="#E5E5E5">opposed some</font><font color="#CCCCCC"> code so in</font><font color="#E5E5E5"> summary I think</font>

1314
00:56:01,610 --> 00:56:06,920
<font color="#E5E5E5">it's probably impossible to fully</font><font color="#CCCCCC"> secure</font>

1315
00:56:04,190 --> 00:56:08,720
one of these systems<font color="#CCCCCC"> it's also</font><font color="#E5E5E5"> probably</font>

1316
00:56:06,920 --> 00:56:10,220
impossible<font color="#CCCCCC"> to clean up once someone's</font>

1317
00:56:08,720 --> 00:56:14,029
hacked these just because<font color="#CCCCCC"> the</font>

1318
00:56:10,220 --> 00:56:15,859
configurations are so complex<font color="#CCCCCC"> so that</font>

1319
00:56:14,030 --> 00:56:18,260
<font color="#E5E5E5">means don't put your systems on the</font>

1320
00:56:15,860 --> 00:56:20,060
<font color="#CCCCCC">Internet and if you do at least</font><font color="#E5E5E5"> put like</font>

1321
00:56:18,260 --> 00:56:21,560
an external<font color="#E5E5E5"> authentication proxy in</font>

1322
00:56:20,060 --> 00:56:25,670
front of them don't just<font color="#E5E5E5"> rely on the CI</font>

1323
00:56:21,560 --> 00:56:26,990
systems authentication and you kind of

1324
00:56:25,670 --> 00:56:29,090
should consider how much do you<font color="#E5E5E5"> trust</font>

1325
00:56:26,990 --> 00:56:31,069
output of one of<font color="#E5E5E5"> these systems would you</font>

1326
00:56:29,090 --> 00:56:35,360
even know if it was back during<font color="#E5E5E5"> your</font>

1327
00:56:31,070 --> 00:56:37,040
code<font color="#CCCCCC"> I kind of ran through</font><font color="#E5E5E5"> a lot</font><font color="#CCCCCC"> of</font>

1328
00:56:35,360 --> 00:56:39,710
points on this talk<font color="#E5E5E5"> there was another</font>

1329
00:56:37,040 --> 00:56:41,660
great talk given<font color="#CCCCCC"> a black</font><font color="#E5E5E5"> hat and the you</font>

1330
00:56:39,710 --> 00:56:42,980
a couple<font color="#E5E5E5"> years ago so if you want to</font>

1331
00:56:41,660 --> 00:56:45,589
<font color="#E5E5E5">learn more about it I definitely</font>

1332
00:56:42,980 --> 00:56:47,420
<font color="#E5E5E5">recommend this talk I'd expected that a</font>

1333
00:56:45,590 --> 00:56:48,970
bunch of the findings in that<font color="#E5E5E5"> talk would</font>

1334
00:56:47,420 --> 00:56:51,500
have changed<font color="#E5E5E5"> in the</font><font color="#CCCCCC"> last couple</font><font color="#E5E5E5"> years</font>

1335
00:56:48,970 --> 00:56:52,700
<font color="#CCCCCC">but I</font><font color="#E5E5E5"> went back and read through it</font>

1336
00:56:51,500 --> 00:56:54,470
after<font color="#CCCCCC"> I put together</font><font color="#E5E5E5"> bunch of my</font>

1337
00:56:52,700 --> 00:56:57,589
findings and pretty much everything

1338
00:56:54,470 --> 00:56:59,959
still the exact same<font color="#E5E5E5"> so a little bit sad</font>

1339
00:56:57,590 --> 00:57:03,410
that<font color="#E5E5E5"> not much has changed</font><font color="#CCCCCC"> but a lot of</font>

1340
00:56:59,960 --> 00:57:04,940
good reference<font color="#CCCCCC"> in that</font><font color="#E5E5E5"> talk and</font>

1341
00:57:03,410 --> 00:57:07,460
<font color="#E5E5E5">otherwise I'm going</font><font color="#CCCCCC"> to post</font><font color="#E5E5E5"> these slides</font>

1342
00:57:04,940 --> 00:57:10,670
and all the tools<font color="#E5E5E5"> I</font><font color="#CCCCCC"> referenced on my</font>

1343
00:57:07,460 --> 00:57:12,620
<font color="#E5E5E5">website</font><font color="#CCCCCC"> probably in a day or two</font><font color="#E5E5E5"> which</font>

1344
00:57:10,670 --> 00:57:15,860
is there and if you have any questions

1345
00:57:12,620 --> 00:57:17,420
you<font color="#CCCCCC"> can find me here or that's</font><font color="#E5E5E5"> my email</font>

1346
00:57:15,860 --> 00:57:20,600
and I<font color="#CCCCCC"> don't know we</font><font color="#E5E5E5"> might have time for</font>

1347
00:57:17,420 --> 00:57:29,270
questions right<font color="#CCCCCC"> now I'm going</font><font color="#E5E5E5"> to go with</font>

1348
00:57:20,600 --> 00:57:32,330
yes any<font color="#E5E5E5"> questions just a quick question</font>

1349
00:57:29,270 --> 00:57:37,190
now your thoughts about in-house versus

1350
00:57:32,330 --> 00:57:40,759
staff<font color="#CCCCCC"> CITV systems and you know the</font>

1351
00:57:37,190 --> 00:57:44,030
<font color="#CCCCCC">thread surface and</font><font color="#E5E5E5"> management's of</font><font color="#CCCCCC"> Juji</font>

1352
00:57:40,760 --> 00:57:46,810
controls<font color="#CCCCCC"> yes so the question was</font>

1353
00:57:44,030 --> 00:57:49,250
thoughts on<font color="#E5E5E5"> SAS versus in-house run I</font>

1354
00:57:46,810 --> 00:57:51,259
didn't really<font color="#E5E5E5"> look at South</font><font color="#CCCCCC"> Systems</font><font color="#E5E5E5"> I</font>

1355
00:57:49,250 --> 00:57:53,510
would imagine it's kind<font color="#CCCCCC"> of like any</font>

1356
00:57:51,260 --> 00:57:54,560
cloud hosted system security overall

1357
00:57:53,510 --> 00:57:56,780
<font color="#E5E5E5">it's probably</font><font color="#CCCCCC"> going to be a bit</font><font color="#E5E5E5"> better</font>

1358
00:57:54,560 --> 00:57:58,670
but one vulnerability<font color="#E5E5E5"> is going to affect</font>

1359
00:57:56,780 --> 00:58:01,099
a ton of customers

1360
00:57:58,670 --> 00:58:04,249
but didn't really<font color="#E5E5E5"> research that side of</font>

1361
00:58:01,099 --> 00:58:08,140
it<font color="#CCCCCC"> I know the in-house ones pretty</font><font color="#E5E5E5"> much</font>

1362
00:58:04,249 --> 00:58:08,140
all vulnerable<font color="#E5E5E5"> to the things I described</font>

1363
00:58:08,739 --> 00:58:12,160
<font color="#CCCCCC">we got some more</font><font color="#E5E5E5"> questions</font>

1364
00:58:16,250 --> 00:58:22,190
hi so some projects these days<font color="#CCCCCC"> tend to</font>

1365
00:58:20,000 --> 00:58:24,680
go<font color="#E5E5E5"> towards what's called reproducible</font>

1366
00:58:22,190 --> 00:58:27,020
builds<font color="#E5E5E5"> as in</font><font color="#CCCCCC"> anyone can compile it and</font>

1367
00:58:24,680 --> 00:58:29,000
arrive<font color="#E5E5E5"> at a file that's like hashable to</font>

1368
00:58:27,020 --> 00:58:31,580
the same hash<font color="#E5E5E5"> just to make</font><font color="#CCCCCC"> sure it</font>

1369
00:58:29,000 --> 00:58:33,830
<font color="#CCCCCC">hasn't been tampered anywhere in the</font>

1370
00:58:31,580 --> 00:58:36,590
chain how well do<font color="#E5E5E5"> you think things like</font>

1371
00:58:33,830 --> 00:58:40,190
<font color="#E5E5E5">that might mitigate having a compromised</font>

1372
00:58:36,590 --> 00:58:42,830
CI system<font color="#CCCCCC"> yeah so I think that's going</font>

1373
00:58:40,190 --> 00:58:45,410
<font color="#E5E5E5">to</font><font color="#CCCCCC"> depend where and which CI system</font><font color="#E5E5E5"> you</font>

1374
00:58:42,830 --> 00:58:47,680
<font color="#CCCCCC">compromised so that's like</font><font color="#E5E5E5"> a great a</font>

1375
00:58:45,410 --> 00:58:49,700
great<font color="#E5E5E5"> theory to have in place</font><font color="#CCCCCC"> and</font>

1376
00:58:47,680 --> 00:58:51,618
probably something company should try

1377
00:58:49,700 --> 00:58:54,020
for<font color="#E5E5E5"> the challenge is how</font><font color="#CCCCCC"> do they</font>

1378
00:58:51,619 --> 00:58:55,700
generate the<font color="#E5E5E5"> very first</font><font color="#CCCCCC"> hash so if you</font>

1379
00:58:54,020 --> 00:59:01,790
<font color="#CCCCCC">compromised the</font><font color="#E5E5E5"> system that's generating</font>

1380
00:58:55,700 --> 00:59:04,339
the first<font color="#E5E5E5"> ash people hashes aren't going</font>

1381
00:59:01,790 --> 00:59:06,140
to match<font color="#E5E5E5"> after that and then there's</font>

1382
00:59:04,340 --> 00:59:11,660
going to be a lot of confusion<font color="#E5E5E5"> and anger</font>

1383
00:59:06,140 --> 00:59:13,069
and upset men<font color="#CCCCCC"> so I think</font><font color="#E5E5E5"> I think</font><font color="#CCCCCC"> it kind</font>

1384
00:59:11,660 --> 00:59:16,879
of depends what you're trying<font color="#CCCCCC"> to protect</font>

1385
00:59:13,070 --> 00:59:19,280
against but with the theory of say you

1386
00:59:16,880 --> 00:59:20,510
<font color="#E5E5E5">and I both check out the same project</font>

1387
00:59:19,280 --> 00:59:22,280
and should be<font color="#CCCCCC"> able</font><font color="#E5E5E5"> to come to the same</font>

1388
00:59:20,510 --> 00:59:23,270
<font color="#CCCCCC">build</font><font color="#E5E5E5"> that's actually going to</font><font color="#CCCCCC"> be</font>

1389
00:59:22,280 --> 00:59:27,050
something<font color="#CCCCCC"> that's a really</font><font color="#E5E5E5"> good</font>

1390
00:59:23,270 --> 00:59:29,000
mitigation<font color="#E5E5E5"> CI</font><font color="#CCCCCC"> system normally can talk</font>

1391
00:59:27,050 --> 00:59:32,150
to the source code repository so there's

1392
00:59:29,000 --> 00:59:34,760
also<font color="#E5E5E5"> that challenge which is maybe the</font>

1393
00:59:32,150 --> 00:59:37,160
CI systems not just<font color="#E5E5E5"> tacking on a</font>

1394
00:59:34,760 --> 00:59:39,200
<font color="#CCCCCC">backdoor</font><font color="#E5E5E5"> but maybe it's specifically</font>

1395
00:59:37,160 --> 00:59:41,330
changing some<font color="#CCCCCC"> of the source code right</font>

1396
00:59:39,200 --> 00:59:43,368
in the source code<font color="#CCCCCC"> that might be another</font>

1397
00:59:41,330 --> 00:59:45,560
angle<font color="#E5E5E5"> but no I think that that</font><font color="#CCCCCC"> kind of</font>

1398
00:59:43,369 --> 00:59:47,890
thing sounds<font color="#E5E5E5"> like a definitely</font><font color="#CCCCCC"> a good</font>

1399
00:59:45,560 --> 00:59:47,890
<font color="#E5E5E5">idea</font>

1400
00:59:53,760 --> 01:00:00,960
[Music]

1401
00:59:56,089 --> 01:00:03,930
so my question is it<font color="#E5E5E5"> really seems that</font>

1402
01:00:00,960 --> 01:00:08,839
security is barely an afterthought<font color="#E5E5E5"> with</font>

1403
01:00:03,930 --> 01:00:08,839
a lot of<font color="#CCCCCC"> these</font><font color="#E5E5E5"> systems</font><font color="#CCCCCC"> so how would</font><font color="#E5E5E5"> you</font>

1404
01:00:08,990 --> 01:00:12,538
recommend

1405
01:00:10,589 --> 01:00:15,078
aside from kind<font color="#E5E5E5"> of from an external</font>

1406
01:00:12,539 --> 01:00:17,730
security<font color="#E5E5E5"> perspective that these vendors</font>

1407
01:00:15,079 --> 01:00:19,589
<font color="#E5E5E5">take responsibility for the integration</font>

1408
01:00:17,730 --> 01:00:20,849
<font color="#E5E5E5">of security into these tools because it</font>

1409
01:00:19,589 --> 01:00:23,940
seems to<font color="#E5E5E5"> me like that's the best place</font>

1410
01:00:20,849 --> 01:00:25,680
for that<font color="#CCCCCC"> to</font><font color="#E5E5E5"> happen yeah</font><font color="#CCCCCC"> it's a bit of a</font>

1411
01:00:23,940 --> 01:00:28,619
challenge<font color="#CCCCCC"> like I said these these tools</font>

1412
01:00:25,680 --> 01:00:31,259
really<font color="#CCCCCC"> have to be adaptable to</font><font color="#E5E5E5"> very</font>

1413
01:00:28,619 --> 01:00:32,640
complex environments<font color="#E5E5E5"> and that means by</font>

1414
01:00:31,259 --> 01:00:36,749
<font color="#CCCCCC">definition they're going to be</font><font color="#E5E5E5"> very hard</font>

1415
01:00:32,640 --> 01:00:40,019
<font color="#E5E5E5">to fully secure and</font><font color="#CCCCCC"> harden I think the</font>

1416
01:00:36,749 --> 01:00:41,129
more the<font color="#CCCCCC"> more vendor is held accountable</font>

1417
01:00:40,019 --> 01:00:42,720
the better they're going<font color="#CCCCCC"> to</font><font color="#E5E5E5"> get I think</font>

1418
01:00:41,130 --> 01:00:44,700
<font color="#E5E5E5">Jenkins is probably a great example of</font>

1419
01:00:42,720 --> 01:00:46,589
that<font color="#E5E5E5"> two years ago they were a</font><font color="#CCCCCC"> complete</font>

1420
01:00:44,700 --> 01:00:48,689
disaster<font color="#CCCCCC"> in my opinion at least</font><font color="#E5E5E5"> in terms</font>

1421
01:00:46,589 --> 01:00:50,630
<font color="#E5E5E5">of security and they started getting a</font>

1422
01:00:48,690 --> 01:00:52,829
lot<font color="#CCCCCC"> of press and</font><font color="#E5E5E5"> a lot of people</font>

1423
01:00:50,630 --> 01:00:55,859
complaining for<font color="#CCCCCC"> lack of better word that</font>

1424
01:00:52,829 --> 01:00:57,660
<font color="#E5E5E5">their security had issues and so they</font>

1425
01:00:55,859 --> 01:01:01,130
then started<font color="#E5E5E5"> actively looking at</font>

1426
01:00:57,660 --> 01:01:03,930
<font color="#E5E5E5">improving that I think it's going to be</font>

1427
01:01:01,130 --> 01:01:05,609
<font color="#E5E5E5">basically up to customers</font><font color="#CCCCCC"> to demand the</font>

1428
01:01:03,930 --> 01:01:08,430
changes before<font color="#E5E5E5"> the vendors</font><font color="#CCCCCC"> are going to</font>

1429
01:01:05,609 --> 01:01:10,109
put them in place<font color="#E5E5E5"> but I definitely agree</font>

1430
01:01:08,430 --> 01:01:14,089
the vendors<font color="#E5E5E5"> are really the ones best</font>

1431
01:01:10,109 --> 01:01:14,089
suited to fix the security challenges

1432
01:01:14,930 --> 01:01:23,430
all right<font color="#E5E5E5"> any questions well thank you</font>

1433
01:01:22,470 --> 01:01:25,379
thank you

1434
01:01:23,430 --> 01:01:28,019
<font color="#E5E5E5">all right oh my mic right</font><font color="#CCCCCC"> there very</font>

1435
01:01:25,380 --> 01:01:28,930
<font color="#E5E5E5">much wet all right that great talk</font><font color="#CCCCCC"> let's</font>

1436
01:01:28,019 --> 01:01:34,439
get ready

1437
01:01:28,930 --> 01:01:34,440
[Applause]

