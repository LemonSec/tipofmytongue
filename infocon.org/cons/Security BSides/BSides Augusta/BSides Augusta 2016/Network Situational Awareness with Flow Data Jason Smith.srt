1
00:00:00,000 --> 00:00:14,070
good afternoon everyone and this is
network situational awareness with flow

2
00:00:14,070 --> 00:00:19,859
data as some of you may have seen what
may seem like a part 1

3
00:00:21,900 --> 00:00:32,488
ok here you are you alright

4
00:00:32,488 --> 00:00:36,300
this 40 much better hurry

5
00:00:37,050 --> 00:00:42,209
ok this is again so i'm starting here
and network situational awareness with

6
00:00:42,210 --> 00:00:42,899
flow data

7
00:00:42,899 --> 00:00:48,660
yeah some of you may have seen a party
one type of talk about this and I

8
00:00:48,660 --> 00:00:52,589
wouldn't really call it a part 1 and
part 2 goes previous talk was like

9
00:00:52,590 --> 00:00:55,500
really in-depth on really what makes it
flow

10
00:00:55,500 --> 00:01:00,239
you know those termination conditions
all kinds of really in-depth stuff that

11
00:01:00,239 --> 00:01:05,158
at the end of a day like this I could
probably expect have like wait you up

12
00:01:05,159 --> 00:01:10,500
positions so that you can only cause the
in-depth kind of gets in the weird

13
00:01:10,500 --> 00:01:15,360
little bit instead today we're going to
talk about adding a little work a little

14
00:01:15,360 --> 00:01:21,210
bit more interesting step simple pretty
pictures with my amazing and i am jason

15
00:01:21,210 --> 00:01:28,829
smith and i am a big car freak i like to
take things and maybe junkyard stuff I

16
00:01:28,829 --> 00:01:34,470
just you know bare metal and kind of
throw together and you know what love to

17
00:01:34,470 --> 00:01:39,030
weld and select the car you see right
here it's a replica old loaded super7

18
00:01:39,030 --> 00:01:44,130
that's a car that is a the last Tuesday
I just got a license so I have a license

19
00:01:44,130 --> 00:01:48,630
plate now on I can actually drive that
on the road and put people at risk and

20
00:01:48,630 --> 00:01:51,509
because that i'm quite sure that's what
we'll do

21
00:01:51,509 --> 00:01:57,659
I i say i'm an OT enthusiasts on the
slide but it's only really a buzzword at

22
00:01:57,659 --> 00:02:01,140
to kind of catch attention because it's
really more micro computing things like

23
00:02:01,140 --> 00:02:05,130
that i don't care about having hair
dryers talk to the internet and stuff

24
00:02:05,130 --> 00:02:10,500
like that and more like to you know just
make gadgets who collect cars about the

25
00:02:10,500 --> 00:02:11,210
water rockets

26
00:02:11,210 --> 00:02:14,960
hook him up to and they can do funny
things originally this car was intended

27
00:02:14,960 --> 00:02:20,330
to do all kinds of nefarious activities
using like lean years for cds and hack

28
00:02:20,330 --> 00:02:25,100
RF and stuff like that but all of that
super illegal especially when you extend

29
00:02:25,100 --> 00:02:30,769
it on over the course of the city so I
didn't do that i'm also a an amateur fry

30
00:02:30,770 --> 00:02:34,820
cook i guess you could say a big chick
life and was pumped about lunch today

31
00:02:34,820 --> 00:02:39,079
and and so in the process of going to
chick-fil-a about two times a day

32
00:02:39,080 --> 00:02:44,090
throughout the week and i decided i'd
buy me a pressure fryer big steel crank

33
00:02:44,090 --> 00:02:48,230
on the top and you crank that down you
cook all kinds of food in it pretty much

34
00:02:48,230 --> 00:02:52,940
anything in the you know dipped in egg
and thrown in some flour and then cooked

35
00:02:52,940 --> 00:02:58,970
it 360 degrees or so and then be better
i think and I've worked for a few

36
00:02:58,970 --> 00:03:05,390
government agencies as state and federal
and a few different DoD groups used to

37
00:03:05,390 --> 00:03:09,200
work for the state of Kentucky and moved
over to fire I after doing some work

38
00:03:09,200 --> 00:03:13,970
with those guys and and have been fired
after almost three years ago since

39
00:03:13,970 --> 00:03:18,830
november and work with the best team
ever and i can say that and get bonus

40
00:03:18,830 --> 00:03:22,940
points because they're in here and i'm
always pulling little hijinks I to make

41
00:03:22,940 --> 00:03:29,120
up for it by calling them the best ever
and that shameless plug for applied

42
00:03:29,120 --> 00:03:35,150
network security monitor which right
here someone may win and there's a copy

43
00:03:35,150 --> 00:03:39,380
there and there's probably $MONEY copies
and in most of your pockets sure you all

44
00:03:39,380 --> 00:03:45,980
of it but one of you will win it today
if I don't forget to give it away and so

45
00:03:45,980 --> 00:03:49,459
do what the other book was written by
analyst for analysts and I guess the

46
00:03:49,460 --> 00:03:52,670
thing to say about it because something
that's been out for a while but a

47
00:03:52,670 --> 00:03:57,619
hundred percent of author proceeds go to
charities a troll technology fun diva

48
00:03:57,620 --> 00:04:02,330
you hope for the warriors Autism Speaks
few others after Sanders is right there

49
00:04:02,330 --> 00:04:06,890
and point the laser reading that are
getting the eyes and but the other areas

50
00:04:06,890 --> 00:04:13,850
have face palming so what are we talking
about today and i'm going to try to go

51
00:04:13,850 --> 00:04:17,690
through this more or less quickly
because normally i want to talk to

52
00:04:17,690 --> 00:04:20,170
people that flowed a kind of slows down

53
00:04:20,170 --> 00:04:24,100
this as they glaze over and I realize I
should probably speed up instead we're

54
00:04:24,100 --> 00:04:27,280
going to keep it exciting though today
so what does flow data will talk a

55
00:04:27,280 --> 00:04:32,469
little bit about what it actually is
just kind of a basic and a summary about

56
00:04:32,470 --> 00:04:36,550
it that was it really important you know
why should you come away from the day

57
00:04:36,550 --> 00:04:42,280
and say man as a good talk I surprise
set this up in a couple notes and then

58
00:04:42,280 --> 00:04:46,989
some flow basics so you know just kind
of what is a flow what we call clothes

59
00:04:46,990 --> 00:04:51,010
and things like that and we'll talk
about how to collect it and and

60
00:04:51,010 --> 00:04:54,159
sometimes more importantly how not to a
lot of people get themselves in

61
00:04:54,160 --> 00:04:58,420
situations where they'll set up this
nice flow solution here i'm really doing

62
00:04:58,420 --> 00:05:02,890
it right and then realize like they have
to like you clean it out everyday your

63
00:05:02,890 --> 00:05:07,180
every five days every 30 days and you
know when I think about flow data I

64
00:05:07,180 --> 00:05:10,990
think about indefinite collection where
you never to leave it where it's easiest

65
00:05:10,990 --> 00:05:15,670
cake just add on storage and that you a
little bit of storage goes a long ways

66
00:05:15,670 --> 00:05:20,710
with it and we'll use it for situational
awareness and some examples talk about

67
00:05:20,710 --> 00:05:24,219
some detection and response uses and
i'll show you again some tools of the

68
00:05:24,220 --> 00:05:24,880
trade

69
00:05:24,880 --> 00:05:33,190
so what is not on the agenda and can be
found at that link from a previous talk

70
00:05:33,190 --> 00:05:38,830
in nashville and I went in again to
in-depth flow descriptions and you know

71
00:05:38,830 --> 00:05:42,460
all the little details about you know a
lot of the fields you know the

72
00:05:42,460 --> 00:05:45,070
difference between version 5 version at
cetera

73
00:05:45,070 --> 00:05:49,690
we'll talk about that they can get kind
of born as the datatype comparisons

74
00:05:49,690 --> 00:05:54,370
there with one of the difference between
flows and Jay flows etcetera and any

75
00:05:54,370 --> 00:05:58,210
kind of broad collection methods not
going to go into details about those and

76
00:05:58,210 --> 00:06:01,570
said I'm gonna go into the collection
methods i like the most and that i

77
00:06:01,570 --> 00:06:04,540
recommend the most there's something
aren't great

78
00:06:04,540 --> 00:06:10,450
there are some that are really excellent
and also not go into any analysis

79
00:06:10,450 --> 00:06:14,680
methods with silk now you'll see some
silk output but it's just as an example

80
00:06:14,680 --> 00:06:22,480
of a comparison of things hopefully in
the end you'll see that it's extremely

81
00:06:22,480 --> 00:06:29,170
cheap set all this up so what is a flow
record and so it's easiest to compare it

82
00:06:29,170 --> 00:06:33,689
to full pcap because everyone knows that
will peak at is it see how the end

83
00:06:33,689 --> 00:06:38,669
all data type that all you know if I
have pecan pie have everything and you

84
00:06:38,669 --> 00:06:42,508
know I and i would say that's true but
usually it's a matter of that really

85
00:06:42,509 --> 00:06:48,059
parsing it chris sanders gave a talk and
about you know the efficacy of data

86
00:06:48,059 --> 00:06:52,619
types and he gives some numbers back
comparison but you know sometimes it's

87
00:06:52,619 --> 00:06:57,179
like to really do it justice you have to
compare them you know 121 that if you

88
00:06:57,179 --> 00:07:01,558
aren't already a really serious expert
with pcap you don't know the other tools

89
00:07:01,559 --> 00:07:05,699
by which you can churn through an
automated you know actual and parsing of

90
00:07:05,699 --> 00:07:10,349
it at SP cap on it you know on its own
won't do you a lot of a lot of good

91
00:07:10,349 --> 00:07:13,589
you're just saying i'm going to do
network security with me captain Marsh

92
00:07:13,589 --> 00:07:18,599
arc because that's not going to go a
long ways so flow data would be

93
00:07:18,599 --> 00:07:24,569
something akin to the phone records that
you might get from your phone company if

94
00:07:24,569 --> 00:07:29,579
you somehow still get mailed phone
records and wears a you know PKD is like

95
00:07:29,579 --> 00:07:34,829
a whole recording a phone call and now
across an enterprise consider gallon

96
00:07:34,829 --> 00:07:40,019
record every phone call for you know a
hundred thousand people at vs i just

97
00:07:40,019 --> 00:07:43,919
want to see the records of 100,000
people can get one you wouldn't be able

98
00:07:43,919 --> 00:07:47,519
to do anything with easily one you could
do a lot with especially if you turn out

99
00:07:47,519 --> 00:07:51,659
some statistics and had some tools to
parse it and so that's kind of the

100
00:07:51,659 --> 00:07:56,069
approach that we're gonna go with today
on really how do you parse that stuff

101
00:07:56,069 --> 00:08:01,860
you know how to parse these huge amounts
of data is a huge amounts of data and

102
00:08:01,860 --> 00:08:07,199
the comparison might be something you
can like Mount Everest and versus you

103
00:08:07,199 --> 00:08:11,610
know a molehill a mobile that's about
the height of me still not super tall

104
00:08:11,610 --> 00:08:17,969
mole heal but if a mole came out the
size of me you'd be pretty scary and but

105
00:08:17,969 --> 00:08:23,849
literally so 29,000 feet as roughly
Mount Everest and and so do i would be

106
00:08:23,849 --> 00:08:31,919
you know . 2012 . o two percent of the
size of Mount Everest so the storage

107
00:08:31,919 --> 00:08:38,129
requirements so that little car built
and this is that a big at the laws 75

108
00:08:38,129 --> 00:08:45,899
17p capture hearing a lot of data log P
caps and this little caterer in which my

109
00:08:45,899 --> 00:08:46,279
next

110
00:08:46,279 --> 00:08:51,050
is a little heavier but the r500 weighs
about 40 pounds it would be a kind of a

111
00:08:51,050 --> 00:08:56,899
comparison if you step 6 of these trucks
and then you compare the little time car

112
00:08:56,899 --> 00:09:01,009
there as so you know even you know
picture your head at CP the car is

113
00:09:01,009 --> 00:09:04,160
compared to all these trucks and it
makes a cooler . even though it may not

114
00:09:04,160 --> 00:09:10,730
actually be accurate or plus and when
you consider the actual time that you

115
00:09:10,730 --> 00:09:14,300
know the jail time of an adversary you
know you talk about every chance of you

116
00:09:14,300 --> 00:09:18,800
know hundred forty some odd days and
environment it really helps to you know

117
00:09:18,800 --> 00:09:23,748
actually have a long you know I just a
long period of time that you can

118
00:09:23,749 --> 00:09:27,620
actually look back and I don't know many
people that have a hundred forty days he

119
00:09:27,620 --> 00:09:32,870
kept data especially in any environment
of any kind of piece of size and if they

120
00:09:32,870 --> 00:09:37,850
do it's some sort of zany index stuff
that's going to take a lot of effort to

121
00:09:37,850 --> 00:09:41,269
actually you know go retrieve a lot of
time to actually gonna break that

122
00:09:41,269 --> 00:09:45,649
outlook through whereas with the pcap
you know if you are sorry with netflow

123
00:09:45,649 --> 00:09:50,509
you can just kind of say oh I know the
time . i need you know I may have two or

124
00:09:50,509 --> 00:09:54,829
three years of flow data just look at
that time . you grab some stuff out of

125
00:09:54,829 --> 00:09:59,540
that and maybe I can take that and go to
some you know metadata or some bro date

126
00:09:59,540 --> 00:10:06,529
or something like that get more context
and maybe make a conclusion so flow data

127
00:10:06,529 --> 00:10:09,949
itself you know what is it is a summary

128
00:10:10,610 --> 00:10:16,370
well we often called session data and we
call flow data we call netflow a lot its

129
00:10:16,370 --> 00:10:20,420
proprietary teratoma cisco and they are
a lot of different that little netflow

130
00:10:20,420 --> 00:10:26,209
turns 45 version and there's a lot in
between summer skipped basically and but

131
00:10:26,209 --> 00:10:31,638
the basics are that it's this 52 people
so you have that your source at the

132
00:10:31,639 --> 00:10:36,410
source board that's at the desk support
protocol sounds pretty simple and it

133
00:10:36,410 --> 00:10:40,250
really is as simple as that you know
there are more fields and their

134
00:10:40,250 --> 00:10:44,420
associated you know packet sizes things
like that for the entire record and but

135
00:10:44,420 --> 00:10:48,110
for the most part of people think of
flows they think of Justice 52 people

136
00:10:48,110 --> 00:10:52,999
always that we associate the times at
which the record star the records and

137
00:10:52,999 --> 00:10:57,470
and and you know that's that's
essentially it will stack them up the

138
00:10:57,470 --> 00:10:58,940
termination conditions and then

139
00:10:58,940 --> 00:11:04,100
and termination conditions might be no
time conditions and they may be

140
00:11:04,100 --> 00:11:09,350
configurable sighs conditions and a lot
of times you and we'll see you know a

141
00:11:09,350 --> 00:11:12,830
series of what looks like some sort of
beacon or whatever and really what it is

142
00:11:12,830 --> 00:11:16,580
you know just an extended communication
where about determination that

143
00:11:16,580 --> 00:11:21,440
termination conditions are met and you
know I associate you know this this flow

144
00:11:21,440 --> 00:11:26,570
generation the flow building and usually
like an assembly line where you have

145
00:11:26,570 --> 00:11:32,240
this set this person who sees these
packets are coming in and and he or she

146
00:11:32,240 --> 00:11:37,760
said oh well this has a unique you know
sit player of some sort of ford escort

147
00:11:37,760 --> 00:11:41,900
protocol i'm going to put this in this
little basket here and when I really

148
00:11:41,900 --> 00:11:45,530
think about it when other that packets
come in to see if those are unique or if

149
00:11:45,530 --> 00:11:46,610
those are not unique

150
00:11:46,610 --> 00:11:51,410
they are unique keep throwing them in
this basket until certain time and you

151
00:11:51,410 --> 00:11:54,980
know passes were either they don't show
up or certain time passes where they

152
00:11:54,980 --> 00:11:58,640
continuously showed up and I need to get
the baskets kind of fooled by my

153
00:11:58,640 --> 00:12:05,870
configuration and you get a new basket
so when basket is the flow rate and so

154
00:12:05,870 --> 00:12:09,650
this is our our engineer and say he or
she

155
00:12:10,310 --> 00:12:15,020
because this is sounds of the lambs and
your Buffalo Bill had you know I got the

156
00:12:15,020 --> 00:12:19,100
thing where he wanted to be you know
kind of either one so he puts the back

157
00:12:19,100 --> 00:12:24,560
packets in the basket and as a new new
unique record comes along he's actually

158
00:12:24,560 --> 00:12:30,650
handling a lot of baskets at this point
so generating and collecting network

159
00:12:30,650 --> 00:12:35,300
floated this is the fun part and
assuming it goes correctly for you

160
00:12:35,300 --> 00:12:39,500
doesn't it can be an annoying part but
usually it's not you it's pretty easy

161
00:12:39,500 --> 00:12:43,550
and these tools basically when you just
kick him on even in their default state

162
00:12:43,550 --> 00:12:47,719
will start doing something for you as
silk and eventually gets a little

163
00:12:47,720 --> 00:12:49,640
complicated but we'll talk about that

164
00:12:49,640 --> 00:12:54,439
so in general you'll need either some
sort of router that can export flow data

165
00:12:54,440 --> 00:12:58,760
a lot of people say yeah we we have a
lot of that and i recommend you take

166
00:12:58,760 --> 00:13:02,360
caution against doing that because a lot
of these these devices will send you

167
00:13:02,360 --> 00:13:07,820
sample data and sample flow data won't
do you a lot of good and it's going to

168
00:13:07,820 --> 00:13:12,170
be poor for statistics for the most part
and basically the

169
00:13:12,170 --> 00:13:15,680
this thing it will be four but won't be
great that it will definitely be

170
00:13:15,680 --> 00:13:19,310
terrible for any kind of instant
response so you really want unsampled

171
00:13:19,310 --> 00:13:22,819
flow data and if you can generate off
some routers you may find it's it's a

172
00:13:22,820 --> 00:13:27,230
lot easier to add your take sections of
the network and send it from specific

173
00:13:27,230 --> 00:13:31,220
spots in labeling certain sensors and
it'd be nice but usually it's not the

174
00:13:31,220 --> 00:13:35,779
case and you will have control that
instead usually recommend as setting up

175
00:13:35,779 --> 00:13:41,720
sensors that have software and software
flow solutions at like if provar yeah

176
00:13:41,720 --> 00:13:47,389
and probing a version 5 flow generator
and yapping at happy fix flow generator

177
00:13:47,389 --> 00:13:53,300
again there are multiple types of flows
you happy fix j flow as flow and your

178
00:13:53,300 --> 00:13:57,260
net flow bunch of those and but we're
gonna talk about that because basically

179
00:13:57,260 --> 00:14:01,850
a lot of those are vendor-specific had
flows will talk about today are a prefix

180
00:14:01,850 --> 00:14:09,320
net version 5 so how do you collect it
specifically well you can collect

181
00:14:09,320 --> 00:14:14,570
NetFlow data and using you know any kind
of cinder which will send it but you

182
00:14:14,570 --> 00:14:19,190
actually wanna you know take it in and
actually parson do all kinds of things i

183
00:14:19,190 --> 00:14:25,130
like silk the most that's what I kind of
bug eyes grew up using a targus is great

184
00:14:25,130 --> 00:14:29,660
and its own ways and in a dump is
awesome you know a lot of people use in

185
00:14:29,660 --> 00:14:34,910
a dump and if sin which is the the
visualization aspect of NFL but we'll

186
00:14:34,910 --> 00:14:40,160
talk about silk and other tools today
and there's also some general log

187
00:14:40,160 --> 00:14:45,230
aggregation solutions and I yeah I don't
always recommend those and i'll talk

188
00:14:45,230 --> 00:14:51,260
about why in a minute and putting a lot
of people will use and logstash bond and

189
00:14:51,260 --> 00:14:54,680
whatnot and there are a lot of tutorials
out there probably more than anything

190
00:14:54,680 --> 00:14:59,839
about using l.a to handle your flows and
it's it may be great and very small

191
00:14:59,839 --> 00:15:04,069
environments and that you'll see that
some storage issues occur some speed

192
00:15:04,069 --> 00:15:09,290
issues occur and there's some there's
some other issues and despite all that

193
00:15:09,290 --> 00:15:14,209
you know I guess Argus's is already
installed in like security indian who

194
00:15:14,209 --> 00:15:17,149
added security and conference yesterday

195
00:15:17,149 --> 00:15:23,510
ok so quiet you right there and so a lot
of people may or may not use Argus I'm

196
00:15:23,510 --> 00:15:25,760
not sure because you know I've heard
many times

197
00:15:25,760 --> 00:15:29,600
that you know there's not any other
thoughts about you know maybe that maybe

198
00:15:29,600 --> 00:15:33,530
broke on is good enough and you know
maybe people aren't actually turning on

199
00:15:33,530 --> 00:15:37,670
Argus and things like that and but
hopefully I'll convince you that paves a

200
00:15:37,670 --> 00:15:42,680
pure flow solution is something you
should really have and I think the next

201
00:15:42,680 --> 00:15:46,670
numbers will show you one who actually
uses a flow solution right now

202
00:15:48,680 --> 00:15:54,920
awesome so far the best numbers yet at
ninety percent to anyone watching the

203
00:15:54,920 --> 00:15:57,110
video you can see the audience

204
00:15:57,110 --> 00:16:02,930
yeah so the proto-tool comparison so
we're talking about a trial solutions

205
00:16:02,930 --> 00:16:09,500
like silk and compared to you know
generic log solutions like elk at so

206
00:16:09,500 --> 00:16:15,440
basically as silk has a you know a
compressed at binary format that he uses

207
00:16:15,440 --> 00:16:20,420
across this flat structure and
essentially what you have is as new

208
00:16:20,420 --> 00:16:25,670
flows come in they can just get thrown
into just some sort of directory

209
00:16:25,670 --> 00:16:30,439
structure bad you know time and date and
essentially when you call a query it's

210
00:16:30,440 --> 00:16:34,850
calling out that directory structure as
you call that query and so once you

211
00:16:34,850 --> 00:16:38,540
actually get to using it you kind of see
the correlation between how to even set

212
00:16:38,540 --> 00:16:42,589
up you know visually you know when using
LSD that directory and when you're

213
00:16:42,590 --> 00:16:48,350
actually calling at those queries and
still can can be used pretty quickly to

214
00:16:48,350 --> 00:16:53,030
examine any data from any time and not
put an asterisk on that because you

215
00:16:53,030 --> 00:16:58,790
don't really want to say all i want all
the data for the last year at once what

216
00:16:58,790 --> 00:17:04,099
you gonna do with that first place not a
lot and I mean even for for trying to

217
00:17:04,099 --> 00:17:05,929
narrow that won't do much with it

218
00:17:05,930 --> 00:17:10,699
I'm so ya say you know stay two weeks
time you can and you can draw a lot of

219
00:17:10,699 --> 00:17:16,400
statistics in that week it is not rely
on indexing and that can be good or bad

220
00:17:16,400 --> 00:17:19,490
it's not relying on archiving say that's
good or bad

221
00:17:19,490 --> 00:17:25,550
and because you know a lot of the speed
that you get from tools like elk come

222
00:17:25,550 --> 00:17:31,700
from the indexing and the the cons of me
that's flows only so you know a lot of

223
00:17:31,700 --> 00:17:34,910
people are like well you know you say I
should have a flow solution but I have

224
00:17:34,910 --> 00:17:39,290
all these other data types and i would
say that's that may be a case where you

225
00:17:39,290 --> 00:17:44,450
want to consider a lot of storage and
actually using using a solution like a

226
00:17:44,450 --> 00:17:48,470
generic law parsing solution something
like that had to handle your clothes

227
00:17:48,470 --> 00:17:52,550
you're probably going to pay a whole lot
though I mean if you can you're better

228
00:17:52,550 --> 00:17:58,190
off pivoting from a real flow solution
to that other law collector it is also

229
00:17:58,190 --> 00:18:04,730
not very extendable in its basic easy
setup that specifically still a silk

230
00:18:04,730 --> 00:18:08,720
we've made it pretty easy to setup but
if you want to go crazy with you know

231
00:18:08,720 --> 00:18:14,270
you know using a Python within using all
these you're trying to make ATP as or

232
00:18:14,270 --> 00:18:19,250
whatever for her to like chives and you
probably gonna have a hard time and

233
00:18:19,250 --> 00:18:22,820
without a little bit of extra work but
it's not impossible if you're developing

234
00:18:22,820 --> 00:18:25,820
tools i mean you may find that it's
actually quite easy

235
00:18:26,450 --> 00:18:30,260
it's also not all solutions are are
created equal again I mentioned three

236
00:18:30,260 --> 00:18:33,620
just now they're gonna be different for
everyone i use silk all the time because

237
00:18:33,620 --> 00:18:34,669
i find it easy

238
00:18:34,670 --> 00:18:37,640
I don't think the other ones are as easy
to use their learning curves a little

239
00:18:37,640 --> 00:18:42,200
more difficult but that's my opinion and
your log solutions obviously there are

240
00:18:42,200 --> 00:18:46,400
several friends you can use we talked
about and you no Kabana right now and

241
00:18:46,400 --> 00:18:50,270
it's it's pretty awesome you can make
all kinds of pretty graphs you pretty

242
00:18:50,270 --> 00:18:51,830
much do whatever you want to with it

243
00:18:51,830 --> 00:18:56,929
that's pretty extendable tools like
splunk are like working with clay pretty

244
00:18:56,930 --> 00:19:00,740
much do anything you want to with it and
that's pretty awesome but the downside

245
00:19:00,740 --> 00:19:06,680
against storage and reliability things
like that and in the end yes blanc my

246
00:19:06,680 --> 00:19:11,630
cost you a whole lot when you're sending
tons of flows to it and there are some

247
00:19:11,630 --> 00:19:19,490
tools that have flow specific and
pricing models and so even some security

248
00:19:19,490 --> 00:19:24,050
solutions like and SQ radar uses a
different kind of flow solution that

249
00:19:24,050 --> 00:19:28,639
they they want to charge differently for
and it's basically all the calls a lot

250
00:19:28,640 --> 00:19:32,330
of complaints happen that say all we
have always flow dated but you're gonna

251
00:19:32,330 --> 00:19:36,439
charge me you know an arm and a leg for
this stuff and there's no way anyone can

252
00:19:36,440 --> 00:19:40,190
do that it's true that I don't know many
many companies that are able to do that

253
00:19:40,190 --> 00:19:46,370
they usually in that doing this
internally instead so what is the big

254
00:19:46,370 --> 00:19:51,860
difference and this is a you know a
pretty junky chart but you know you see

255
00:19:51,860 --> 00:19:52,860
this little strip

256
00:19:52,860 --> 00:19:56,370
read up there and that's that's still
compared to elasticsearch on store

257
00:19:56,370 --> 00:20:00,719
attention and the difference being that
elastic search uses 28 times more

258
00:20:00,720 --> 00:20:06,059
storage admin silk for the same amount
of data me i have that the Astra sound

259
00:20:06,059 --> 00:20:10,350
here that says you know all this is
created at simultaneous generation on a

260
00:20:10,350 --> 00:20:14,580
pretty box and all the collection was
from those solutions and both are

261
00:20:14,580 --> 00:20:18,899
compressed in this case as still 28
times difference i'm not you know an

262
00:20:18,900 --> 00:20:23,220
expert with the last search like some
people are but i'd say they would have a

263
00:20:23,220 --> 00:20:27,090
hard time you know whittling that down
to anything that's reasonable at

264
00:20:27,090 --> 00:20:34,199
screenshot there you know just kind of
70 the output also that was four million

265
00:20:34,200 --> 00:20:41,220
flow records case you're curious fact
did four million unique flow records so

266
00:20:41,220 --> 00:20:45,419
how do you get started with clothes and
again you know the actual number of race

267
00:20:45,419 --> 00:20:50,370
hands for people watching at was you
know maybe fifteen percent here which is

268
00:20:50,370 --> 00:20:55,290
which is pretty good and the Navy its
and shat equals electronica sin and

269
00:20:55,290 --> 00:20:59,610
being optimistic and but how do you have
you actually do all this stuff so again

270
00:20:59,610 --> 00:21:05,490
we'll talk about silk and it was made by
the guys at Carnegie Mellon and it's

271
00:21:05,490 --> 00:21:10,950
awesome tool excellent documentation all
kinds of great things you'll use yeah to

272
00:21:10,950 --> 00:21:12,360
actually generate the flows

273
00:21:12,360 --> 00:21:16,860
yeah it's different than silk but it's
also made that same guys and and

274
00:21:16,860 --> 00:21:20,909
basically we will you know what kind of
show how to query those with different

275
00:21:20,910 --> 00:21:25,620
filtering and statistical tools will
talk about flow back its the front end

276
00:21:25,620 --> 00:21:30,389
that Decker Sanders not developed for
still and flow that's pretty awesome and

277
00:21:30,390 --> 00:21:34,110
then adds a lot of features that you
can't do in sill and namely quickly

278
00:21:34,110 --> 00:21:37,590
making a queer you know that's the first
thing and it's kind of a frustration

279
00:21:37,590 --> 00:21:40,770
when you're at the command line you like
old let me add this thing into the

280
00:21:40,770 --> 00:21:44,668
middle of this partitioning switch or
something like that and you go to that

281
00:21:44,669 --> 00:21:48,600
you know you you try to type it in maybe
you mess it up because you don't really

282
00:21:48,600 --> 00:21:51,629
know what that switches because there
are tons of them

283
00:21:51,630 --> 00:21:55,530
well Flo bad does a lot of things like
autocomplete and then I actually lies

284
00:21:55,530 --> 00:22:00,149
use mouse with it so now it also removes
a lot of the learning curve junior

285
00:22:00,150 --> 00:22:06,190
analyst as well as teaching you how real
still queries are to get started

286
00:22:06,190 --> 00:22:10,779
it's pretty fast and we just have two
little script shall kind of demonstrate

287
00:22:10,779 --> 00:22:15,340
that here in a few minutes you know in
the end it takes about 13 15 minutes to

288
00:22:15,340 --> 00:22:19,269
install both silk and flow bat and have
them up and running to where you're

289
00:22:19,269 --> 00:22:23,320
running queries and doing whatever you
want to so that's pretty quick and you

290
00:22:23,320 --> 00:22:28,600
know and it only requires you know maybe
10 seconds of total user time that does

291
00:22:28,600 --> 00:22:36,549
the rest in solid silk again it's made
that guy's that the certain Network

292
00:22:36,549 --> 00:22:40,600
situational awareness team it's too
sweets a packing sweet and said analysis

293
00:22:40,600 --> 00:22:45,399
sweet analysis we can do a lot of unix
e-type things so i recommend when you're

294
00:22:45,399 --> 00:22:49,299
using any of these tools that I'll
mention here the ink on the next few

295
00:22:49,299 --> 00:22:53,918
minutes that you don't try to type a
bunch of all output to a bunch of linux

296
00:22:53,919 --> 00:22:58,750
e-type things because then you're just
going back to this role you know these

297
00:22:58,750 --> 00:23:03,669
strings and whatnot you're not using the
binary format that is optimized for and

298
00:23:03,669 --> 00:23:07,120
you know if you want to look at the
documentation again there it is

299
00:23:07,120 --> 00:23:14,889
so the actual collection architecture
for generating close here we have a

300
00:23:14,889 --> 00:23:21,219
never version 5f probe sensor you may
have a router that hopefully is doing

301
00:23:21,220 --> 00:23:26,440
unsampled flow generation and you have
the CF sensor that's doing this a pic

302
00:23:26,440 --> 00:23:32,559
step it's sending all these flows to the
security server have the you know

303
00:23:32,559 --> 00:23:37,090
whatever you feel maybe its security and
in or whatever that has at the silk

304
00:23:37,090 --> 00:23:41,379
packing sweet on it specifically a tool
called RW flow pack it's all installed

305
00:23:41,379 --> 00:23:45,279
with this package and are to be flow
pack says I'm going to store all this in

306
00:23:45,279 --> 00:23:50,019
a way that you probably read it and the
analyst will either ssh2 that and run

307
00:23:50,019 --> 00:23:54,669
some commands directly or flow that will
be installed on that security server and

308
00:23:54,669 --> 00:24:01,720
then the analyst can just go there in a
browser to get started as a review we

309
00:24:01,720 --> 00:24:06,070
have low source which is some router
there's some switch or some sort of

310
00:24:06,070 --> 00:24:11,740
software generation like a probe and
installed with silk on a box how we have

311
00:24:11,740 --> 00:24:16,090
silk server at some sort of security
server that you're sending all your data

312
00:24:16,090 --> 00:24:19,510
to then we have the analysts workstation

313
00:24:19,510 --> 00:24:24,940
had the workstation will probably just
browse directly to the that server and

314
00:24:24,940 --> 00:24:31,540
access low batt low battery can be
installed on the server lot of times we

315
00:24:31,540 --> 00:24:37,480
install silk at the analysis packages of
oil on that silk server and it helps a

316
00:24:37,480 --> 00:24:41,560
lot to kind of speed up the process for
installing flow bat and for the analyst

317
00:24:41,560 --> 00:24:46,149
actually sell now i'm using low batt I
should try to use silk as well as they

318
00:24:46,150 --> 00:24:49,870
kind of step it up from being just the
routine analyst looking at all flows

319
00:24:49,870 --> 00:24:56,110
think I can automate all this stuff and
the actual silk install run these three

320
00:24:56,110 --> 00:25:00,939
commands assure you you won't get any
malware just run them without question

321
00:25:00,940 --> 00:25:07,330
and when you run them you can go get the
mail or are gonna be a drinker use the

322
00:25:07,330 --> 00:25:11,110
restroom or whatever it takes five
minutes and if you have a non-typical

323
00:25:11,110 --> 00:25:15,699
network layout or something like that
you'll probably have to modify silk com

324
00:25:15,700 --> 00:25:19,810
or sensors calm but for the purpose of
testing at your house or you know

325
00:25:19,810 --> 00:25:24,070
setting up on basic sensors or anything
like that and you should be just fine

326
00:25:24,070 --> 00:25:28,600
running these and all of it takes their
dependency so again just run these and

327
00:25:28,600 --> 00:25:34,000
after you should be able to run some
queries oh so here is kind of an example

328
00:25:34,000 --> 00:25:46,150
if you have epilepsy closure eyes that's
very serious warning that didn't work so

329
00:25:46,150 --> 00:25:52,570
here i am running some steps silicon a
box that sh and i play with cattle bit

330
00:25:52,570 --> 00:25:58,389
i'm looking at that insult low batt get
my shoes on I'll go get the mail and

331
00:25:58,390 --> 00:26:06,250
let's play with the cats on it's a
single cat named cheeto after the cat

332
00:26:06,250 --> 00:26:08,620
from cheetos food

333
00:26:08,620 --> 00:26:14,409
well so we're done now so that was that
was like five minutes and maybe a little

334
00:26:14,410 --> 00:26:20,890
less those on a clean and updated Abu to
box and 1400 forwards specifically so

335
00:26:20,890 --> 00:26:26,620
you make an issue about and you are
going to can join the crowd on github

336
00:26:27,810 --> 00:26:33,330
and as far as the particle filter output
sand and kind of what they look like and

337
00:26:33,330 --> 00:26:36,840
different things like this i won't go
into this too much but basically you

338
00:26:36,840 --> 00:26:40,110
have some basic stuff to say is look at
the beginning of the current day and

339
00:26:40,110 --> 00:26:45,060
current time or you might say you know a
little more in depth and and I places on

340
00:26:45,060 --> 00:26:48,870
multiple lines just so that it's a
little easier to read and there's a look

341
00:26:48,870 --> 00:26:53,760
22 garbage and but they say we're
looking at like where any app he is from

342
00:26:53,760 --> 00:26:58,110
China based on you know whatever max
mind whatever you're using for your your

343
00:26:58,110 --> 00:27:03,330
country code map and we only basically
send out and we want the output to be

344
00:27:03,330 --> 00:27:09,480
just the 52 people and so what you kind
of get is something like what you see at

345
00:27:09,480 --> 00:27:14,910
the bottom here this bottom at output is
actually from a peek at conversion which

346
00:27:14,910 --> 00:27:18,240
is several lines I mean you have to
convert the pcap you pull it down

347
00:27:18,240 --> 00:27:22,470
converted and do what you need to do and
then throw in our to be filter which is

348
00:27:22,470 --> 00:27:29,280
kind of pain on but you'll see that we
kind of optimize this little bit in that

349
00:27:29,280 --> 00:27:34,050
case it was like some SD bought infected
device and so an example of already

350
00:27:34,050 --> 00:27:40,770
stats and you here running like a top 10
and invites transferred by protocol and

351
00:27:40,770 --> 00:27:46,110
and then a top-10 sit pairs combination
and the outputs being things like this

352
00:27:46,110 --> 00:27:51,689
so hard because it's just your raw flows
and you see you know that the flags that

353
00:27:51,690 --> 00:27:56,460
they were involved bites or at the bytes
in combination the records and things

354
00:27:56,460 --> 00:28:00,870
like that as well as the 52 people are
Debbie stats again is the statistics

355
00:28:00,870 --> 00:28:05,850
tool for silk it basically does all
these calculations on every flow record

356
00:28:05,850 --> 00:28:09,719
that's been in that whole big thing and
it says oh how many records were there

357
00:28:09,720 --> 00:28:14,010
you know / feel that you specified you
know in this case i specified an

358
00:28:14,010 --> 00:28:19,170
application filled which is kind of
unique 22 silken yeah that yeah he's

359
00:28:19,170 --> 00:28:23,820
looking at the the actual packet
payloads and determining you know always

360
00:28:23,820 --> 00:28:29,010
this DNS traffickers HTTP traffic or
what is it as so we just you know define

361
00:28:29,010 --> 00:28:30,150
application here

362
00:28:30,150 --> 00:28:34,350
those are how many records for a certain
time that we had her application are to

363
00:28:34,350 --> 00:28:39,719
be count takes bins of time in this case
it looks like we're doing 30-second bins

364
00:28:39,720 --> 00:28:41,309
and says how many records

365
00:28:41,309 --> 00:28:45,330
wherein each one of those bins how many
bytes how many packets so in this first

366
00:28:45,330 --> 00:28:50,999
been in the first 30 seconds we had 1380
bites after that then you'll notice the

367
00:28:50,999 --> 00:28:52,320
point 27

368
00:28:52,320 --> 00:28:55,230
it's called sometimes these things are
split up you know maybe the entire

369
00:28:55,230 --> 00:28:58,799
communication was in 42 seconds

370
00:28:58,799 --> 00:29:04,019
well the first 30 seconds it's going to
split that as much as the King so low

371
00:29:04,019 --> 00:29:08,940
bat was low bat well it's a friend for
silk flow basic analysis tool you can

372
00:29:08,940 --> 00:29:11,009
flow com learn a lot about it

373
00:29:11,009 --> 00:29:14,700
we have a lot of documentation now about
a lot i mean just a little bit but it's

374
00:29:14,700 --> 00:29:17,970
pretty pretty understandable you can
kind of go through examples on

375
00:29:17,970 --> 00:29:22,919
flipkart.com and then you know again
it's super easy to set up and but you

376
00:29:22,919 --> 00:29:26,999
know if you want to demo sometime you
can email me or not show you a demo if

377
00:29:26,999 --> 00:29:30,749
you don't have 15 minutes to set up our
turnaround as so how do you get started

378
00:29:30,749 --> 00:29:35,369
with low batt and you know kind of run
through the same kind of procedures silk

379
00:29:35,369 --> 00:29:40,199
and it's just as easy it's just a script
basically and then if you had some

380
00:29:40,200 --> 00:29:44,460
issues it's probably pleasure you're not
actually reaching out to add that server

381
00:29:44,460 --> 00:29:51,990
that sets up so we just run these and
this is gonna take a long time by

382
00:29:51,990 --> 00:29:56,309
comparison so like almost doubled home
so you'll probably need to get a drink

383
00:29:56,309 --> 00:30:02,428
and or like go fix your prepare some
food or whatever though again epilepsy

384
00:30:02,429 --> 00:30:03,809
warning

385
00:30:03,809 --> 00:30:10,619
close your eyes this case i'm running
the inflow bat installer it asked me a

386
00:30:10,619 --> 00:30:16,289
couple questions it needs privileges not
to install anything bad in this case i'm

387
00:30:16,289 --> 00:30:20,970
installing all this is terrible i'm
installing air and I'm cooking some some

388
00:30:20,970 --> 00:30:27,029
chicken so I'm a big fan again a frank
food and this is a kind of a replica of

389
00:30:27,029 --> 00:30:32,399
chicken fillets chicken but I think it's
a little better for their nuggets and if

390
00:30:32,399 --> 00:30:35,610
you if you have some pretty quality
chicken breast it's actually quite good

391
00:30:35,610 --> 00:30:40,498
for a chicken sandwich as well i would
say it's better and maybe just pressure

392
00:30:40,499 --> 00:30:43,950
in the end I don't hour or maybe I put
too much sugar in it or something like

393
00:30:43,950 --> 00:30:48,840
that but it's pretty good and so
basically what you have here is and you

394
00:30:48,840 --> 00:30:51,830
know it had a regular non spicy chicken

395
00:30:51,830 --> 00:30:57,049
and at well check it's done so i only
got halfway done with my chicken Brian

396
00:30:57,049 --> 00:31:01,970
and that took about seven minutes and
chicken brown takes a little longer than

397
00:31:01,970 --> 00:31:07,460
seven minutes i'll show you the recipe
for that the end it's like a used to

398
00:31:07,460 --> 00:31:14,630
like the third giveaway that everyone
gets though so low batt basics and this

399
00:31:14,630 --> 00:31:18,890
is kind of the neat of conversation not
that's going to take another hour but

400
00:31:18,890 --> 00:31:23,779
that kind of the takeaway and so what
you see here is that I'm looking at all

401
00:31:23,779 --> 00:31:28,100
records for the current day you again my
little animations already kind of done

402
00:31:28,100 --> 00:31:31,668
by comparison you know before you had to
kind of think about what you're doing

403
00:31:31,669 --> 00:31:35,720
specify you know more than just
partitioning switches yet specified

404
00:31:35,720 --> 00:31:39,889
input switches and output switches
special RW cut and all these other

405
00:31:39,889 --> 00:31:43,428
things that i know because i love silk
but most of you probably don't notice

406
00:31:43,429 --> 00:31:48,260
right out-of-the-box you may not know
about this protocol switch but if you

407
00:31:48,260 --> 00:31:51,470
look into our help you'll see you know
that the most basic examples you'll see

408
00:31:51,470 --> 00:31:55,070
some of the things i'm showing you today
and but this is essentially silicon has

409
00:31:55,070 --> 00:32:00,230
autocomplete you'll see a lot of stuff
views but cash on there I'm gonna can

410
00:32:00,230 --> 00:32:02,029
handle a lot of different things

411
00:32:02,029 --> 00:32:06,799
this this is pulling all records for
that current day and here's another

412
00:32:06,799 --> 00:32:11,240
example again we actually the second
example for silk which was saying any

413
00:32:11,240 --> 00:32:15,350
local cider and then any Chinese IP
address be it

414
00:32:15,350 --> 00:32:20,570
source after your desktop p and here i'm
showing off the the query Builder which

415
00:32:20,570 --> 00:32:24,019
is usually probably where people go to
first things they don't know all these

416
00:32:24,019 --> 00:32:31,159
commands and for the case that the Zen
mode at the quick query and but over

417
00:32:31,159 --> 00:32:35,960
time you see this building a query at
the very bottom and read i'm here as I

418
00:32:35,960 --> 00:32:41,510
say NEC on the additional parameters
that the time we're missing in NEC field

419
00:32:41,510 --> 00:32:45,320
but it built a query as well so you can
kind of learn what silk is actually

420
00:32:45,320 --> 00:32:50,629
interpreting and then saying oh I know
what I need to do so maybe you'll know

421
00:32:50,630 --> 00:32:55,399
what to do next time if you decide like
automate this is something at this and

422
00:32:55,399 --> 00:32:59,629
again i specified a week on this one but
it came back pretty quickly and then you

423
00:32:59,630 --> 00:33:04,940
can you know you go through the pages
and whatnot are you can reduce these and

424
00:33:04,940 --> 00:33:08,960
different reduce the table down to
whatever you want to see in this case

425
00:33:08,960 --> 00:33:13,670
I'm gonna go down to just the 52 people
and and usually I like to see starting

426
00:33:13,670 --> 00:33:17,360
time at the beginning and and then if
you wanted to you can also sort by

427
00:33:17,360 --> 00:33:23,330
starting time to do things like that so
here we are using stats and again i'm

428
00:33:23,330 --> 00:33:26,179
going to use the query builder even
though you can do this through and just

429
00:33:26,180 --> 00:33:31,370
using a quick query at the little as in
mode command line there and but i'm just

430
00:33:31,370 --> 00:33:36,679
going to do one day and i'm using artery
stats we're going to look at the top 10

431
00:33:36,680 --> 00:33:41,570
as source IP desktop he players by bites
so it's going to count up all the bites

432
00:33:41,570 --> 00:33:45,200
and it's going to say all how many
corporate attorneys and so there you

433
00:33:45,200 --> 00:33:46,040
have it

434
00:33:46,040 --> 00:33:54,170
that went really quickly the end I
apologize but here we look at a graph

435
00:33:54,170 --> 00:33:58,550
and outbound data graphs so you know
when you want to specify the inbound or

436
00:33:58,550 --> 00:34:02,960
outbound that made it depend on you know
what you've set up your home nets and

437
00:34:02,960 --> 00:34:08,389
more you're a key blocks and you know
how their range sensors com.com and

438
00:34:08,389 --> 00:34:14,690
out-of-the-box they should do you know
any kind of local IP addresses on just

439
00:34:14,690 --> 00:34:18,980
you know they're already set up in there
and so I specified types being you know

440
00:34:18,980 --> 00:34:23,719
out-and-out web and any kind of album
RCMP and gets grabbed it doesn't really

441
00:34:23,719 --> 00:34:27,709
look really great because it's looking
at bens again we talked about the ends

442
00:34:27,710 --> 00:34:32,510
of data and that was looking at 60
second dance like a 10 minute then so

443
00:34:32,510 --> 00:34:34,040
it's stacking everything up

444
00:34:34,040 --> 00:34:37,699
it should split this up a little better
and something like this may give you a

445
00:34:37,699 --> 00:34:42,199
good idea of situational awareness you
know maybe for that total day you can

446
00:34:42,199 --> 00:34:47,299
have that like a rolling time and so in
this case i saved it as you know some

447
00:34:47,300 --> 00:34:54,260
24-hour outbound data and and we'll put
this into a dashboard that I don't see

448
00:34:54,260 --> 00:34:57,720
Martin holstein here he loves dashboards

449
00:34:57,720 --> 00:35:04,649
so here we are throwing this into the
dashboard and it's already kind of done

450
00:35:04,650 --> 00:35:10,590
and so it saves all these results and
allows you to you know . that's great .

451
00:35:10,590 --> 00:35:15,510
query those periodically as so in this
case I said no every hour I want you to

452
00:35:15,510 --> 00:35:19,109
update this so that I see something new
but you could tell you every five

453
00:35:19,109 --> 00:35:22,049
minutes show me something new or
whatever you want to do just keep in

454
00:35:22,050 --> 00:35:26,820
mind it's running a query so for queries
kind of dumb and takes way too long if

455
00:35:26,820 --> 00:35:27,570
you like

456
00:35:27,570 --> 00:35:31,920
yeah that this month-long query every
five minutes that's going to do a

457
00:35:31,920 --> 00:35:36,570
month-long query and silk every five
minutes so just be cogs of that and you

458
00:35:36,570 --> 00:35:42,599
can take out packets or records of ice
were doing everyone to their so here

459
00:35:42,599 --> 00:35:46,800
we're looking at non standard ports and
now you know how do you kind of tell

460
00:35:46,800 --> 00:35:52,260
with non-standard ports are and he goes
back to Appling so yeah said hey you

461
00:35:52,260 --> 00:35:56,310
know these look like HTTP but maybe it's
not on port 80

462
00:35:56,310 --> 00:36:00,330
well if it's that then go ahead and tell
me that so here I've added additional

463
00:36:00,330 --> 00:36:05,190
parameter and it's a plug-in called at
this match . so you can make your own

464
00:36:05,190 --> 00:36:10,890
plugins their moderately difficult to do
and also said that you only want packets

465
00:36:10,890 --> 00:36:15,450
that are kind of confirmed communication
so it needs to be like a return thing so

466
00:36:15,450 --> 00:36:22,740
I hear you have that where I've done a
account of all these are a top ten of

467
00:36:22,740 --> 00:36:27,149
lost it but you have application and
destination port here

468
00:36:27,150 --> 00:36:32,520
so what that show was that there were
five distinct a destination ports there

469
00:36:32,520 --> 00:36:38,490
were used that were not and you know
typical like 443 so in the next example

470
00:36:38,490 --> 00:36:43,140
you'll actually see some of those there
were there were non-typical according to

471
00:36:43,140 --> 00:36:49,440
the yeah 3 again you have another like
one on port 80 HTTP port things like

472
00:36:49,440 --> 00:36:53,820
that so identifying services

473
00:36:53,820 --> 00:36:56,820
you know I talked about you Appling and
it's pretty awesome

474
00:36:57,630 --> 00:37:01,710
you can just use ports you can just do
use whatever you want to and but there

475
00:37:01,710 --> 00:37:07,109
is a kind of list false-positive from
way and and so here we just use a

476
00:37:07,109 --> 00:37:10,560
plating only that we basically make sure
that you

477
00:37:10,560 --> 00:37:15,750
yeah itself is doing all this and I will
go into much detail because it said just

478
00:37:15,750 --> 00:37:20,340
a big long silk queries that the bulk of
this but at the end i said hey show me

479
00:37:20,340 --> 00:37:26,070
source ports and applications and you'll
see that and for instance like nano to

480
00:37:26,070 --> 00:37:31,290
is is actually just step check those
vmware and but a lot of these so you

481
00:37:31,290 --> 00:37:35,759
know 1800 which is actually flow bad
itself and its ok that looks like

482
00:37:35,760 --> 00:37:40,080
something she can see stuff so yeah he's
able to see those things and because it

483
00:37:40,080 --> 00:37:45,240
just does a little bit of analysis at
the packet level and just some headers

484
00:37:45,240 --> 00:37:51,870
so if you want to analyze PK policy and
I mentioned you know it's like 45

485
00:37:51,870 --> 00:37:55,230
commands if you're pulling speak at down
doing whatever you need to do with silk

486
00:37:55,230 --> 00:38:00,330
but it was a lot of commands to remember
in this case if you just have a peek at

487
00:38:00,330 --> 00:38:04,020
and setting on that flow bet server and
beating on some peak a process for

488
00:38:04,020 --> 00:38:08,970
whatever as long as you have permissions
to do this you can just specify the pcat

489
00:38:08,970 --> 00:38:13,290
and you tell whatever protocols it wants
to look at and kind of look at whatever

490
00:38:13,290 --> 00:38:16,920
you want to and it will do all the
conversions you know on the flow battery

491
00:38:16,920 --> 00:38:20,520
and it will do everything needs to do
and then it also output everything for

492
00:38:20,520 --> 00:38:25,740
you so you know if you had some sort of
the and you know pk4 like this annex

493
00:38:25,740 --> 00:38:29,819
some explicate traffic and you could
easily turn that into you at you know

494
00:38:29,820 --> 00:38:34,230
some flow data without actually having
any kind of operate so this will be kind

495
00:38:34,230 --> 00:38:42,900
of temporary and but it also store that
output RTF file into a temporary file so

496
00:38:42,900 --> 00:38:49,020
some flow automation as so basically we
looked at flow bat which is is not

497
00:38:49,020 --> 00:38:53,220
really an automated thing so you know
love you last that AP as and we're like

498
00:38:53,220 --> 00:38:58,560
well Flo batches that run-in so-and-so
ones run on silk not well we still want

499
00:38:58,560 --> 00:39:02,700
an API so i guess they just like a proxy
essentially because you can just do

500
00:39:02,700 --> 00:39:07,919
everything through silk you want to and
a lot of these commands again that's why

501
00:39:07,920 --> 00:39:11,460
we include those commands inflow that
you can run any one of those and get

502
00:39:11,460 --> 00:39:15,600
same outputs in silk man line he
obviously won't be able to drag and drop

503
00:39:15,600 --> 00:39:19,620
anything or do any kind of sorting
easily and but you'll get the basic

504
00:39:19,620 --> 00:39:23,160
results from that and over time you may
learn from that you may say oh well

505
00:39:23,160 --> 00:39:24,480
maybe I want to

506
00:39:24,480 --> 00:39:29,010
for some sort of that you know list from
the internet or something like that and

507
00:39:29,010 --> 00:39:35,670
i want to store it as a set and I want
flow back to have a dashboard that

508
00:39:35,670 --> 00:39:43,140
references where any source or desktop p
is from the set of bad gas and so your

509
00:39:43,140 --> 00:39:47,609
script on one end is pulling everything
from the internet making the setlist

510
00:39:47,609 --> 00:39:53,549
flow that you told hey the setlist is
located here show me all results and you

511
00:39:53,550 --> 00:39:58,109
say that with that in dashboard and once
you get to doing that it's pretty fluid

512
00:39:58,109 --> 00:40:02,040
and the only downside again as you have
to know how to script that out and that

513
00:40:02,040 --> 00:40:07,380
takes a little bit silk knowledge first
and you can you can also expand and all

514
00:40:07,380 --> 00:40:12,210
of that deployment into the analysis
pipeline another tool by the guys insert

515
00:40:12,210 --> 00:40:17,700
and it's pretty awesome but it's not as
easy to set up and release we haven't

516
00:40:17,700 --> 00:40:21,540
made it is easy to set up yet you know
maybe they should be a focus and but we

517
00:40:21,540 --> 00:40:24,210
don't get a lot of requests for it even
though it's pretty awesome it will do

518
00:40:24,210 --> 00:40:29,010
its own watch-list reporting and it will
do all kinds of like tunnel the telling

519
00:40:29,010 --> 00:40:33,780
detection and things like that so like
if it sees like and you know any kind of

520
00:40:33,780 --> 00:40:35,190
DNS requests

521
00:40:35,190 --> 00:40:39,300
they're like abnormally large or like
they're occurring too quickly or

522
00:40:39,300 --> 00:40:43,350
something like that or like it sees that
a cmp you're going to quickly from a

523
00:40:43,350 --> 00:40:46,290
host sir no things that just don't make
sense

524
00:40:46,290 --> 00:40:50,730
it'll make an alert for those things and
you can send it to any kind of log

525
00:40:50,730 --> 00:40:55,170
solution that you have and make some
alerts out of that and if you wanna know

526
00:40:55,170 --> 00:40:59,070
more about it there's the link and
there's also tools like flow plotter

527
00:40:59,070 --> 00:41:03,000
i'll talk about in just seconds not a
huge detail and just because you know

528
00:41:03,000 --> 00:41:07,619
that was kind of a part 1 talk at flow
plotters being being augmented now to

529
00:41:07,619 --> 00:41:10,710
remove all Google visualization that
you'll see in a minute

530
00:41:11,700 --> 00:41:16,350
so what is flowing water it's just when
you're running are to be filter command

531
00:41:16,350 --> 00:41:20,970
any still command and you can basically
pipe all that output plotter and they

532
00:41:20,970 --> 00:41:25,680
kind of the not saying any plot that you
want yet doesn't do Sankey diagram yet

533
00:41:26,220 --> 00:41:32,189
martin again but again it's it's just a
little bosch tool that said it's pretty

534
00:41:32,190 --> 00:41:36,849
reliable and it's open source you can
see what it's doing so it's not doing

535
00:41:36,849 --> 00:41:41,200
being weird and but again it's it
requires google visualizations and

536
00:41:41,200 --> 00:41:46,058
Google visualizations and they require
that you don't actually download all

537
00:41:46,059 --> 00:41:50,170
their libraries but they need to be
source remotely it's farther user group

538
00:41:50,170 --> 00:41:54,970
so here's that just kind of a splash of
some graphs that are available and flow

539
00:41:54,970 --> 00:41:58,629
of water and there you at the bottom
right you have like a jiggly force

540
00:41:58,630 --> 00:42:04,720
directed graph and Martin had a
visualization talk and last is two or

541
00:42:04,720 --> 00:42:10,058
three talks ago he said that animations
that are needed shouldn't be there and

542
00:42:10,059 --> 00:42:15,009
what I like the jiggle that occurs with
the the nodes and whatnot so it's there

543
00:42:15,009 --> 00:42:19,269
it's it's not incredibly useful you
can't just like throw something out

544
00:42:19,269 --> 00:42:23,709
there and be like man yes see you the
bad guy because he's connected all these

545
00:42:23,710 --> 00:42:27,819
other guys here it's never gonna do that
for you instead what you want to use it

546
00:42:27,819 --> 00:42:31,329
for as you can see some light color
coding that I'm doing there

547
00:42:31,329 --> 00:42:35,979
you want to use it to show another
colleague or manager network operations

548
00:42:35,979 --> 00:42:38,259
got this is kind of what I'm looking at

549
00:42:38,259 --> 00:42:41,859
because if you just show the table of
data they may not get that you show miss

550
00:42:41,859 --> 00:42:46,390
this blob of stuff they won't understand
what you're looking at but here at least

551
00:42:46,390 --> 00:42:49,390
you can convince them that you're right
even if you're wrong

552
00:42:50,109 --> 00:42:55,479
what you see in the middle is kind of a
different tool altogether it's just an

553
00:42:55,479 --> 00:43:00,640
asset modeling tool so basically you
can't really see what it's doing and but

554
00:43:00,640 --> 00:43:06,279
they say its assets at the far left and
then it breaks out into a web servers

555
00:43:06,279 --> 00:43:09,729
and mail servers and all kinds of other
servers and it will show you everything

556
00:43:09,729 --> 00:43:13,569
it's on your network that it can
actually detect say that this looks like

557
00:43:13,569 --> 00:43:17,140
this should be you know a mail server
and maybe you'll have duplicates in

558
00:43:17,140 --> 00:43:20,739
there because you know maybe have some
guys running a security server that's

559
00:43:20,739 --> 00:43:24,009
helping a lot of stuff and so maybe
it'll show up in multiple different

560
00:43:24,009 --> 00:43:28,210
trees and but it's pretty cool that you
don't worry it is requiring options

561
00:43:28,210 --> 00:43:31,960
it just says hey you throw me all this
this flow data and now i'm going to

562
00:43:31,960 --> 00:43:35,739
throw you a lot of assets here and some
may be wrong or you may have too many

563
00:43:35,739 --> 00:43:38,349
it's unlikely they'll be very wrong

564
00:43:38,349 --> 00:43:42,430
it's possibly likely develop your
environment will be too large and in

565
00:43:42,430 --> 00:43:46,779
that case i did i do have a threshold
involved and the bottom left you see a

566
00:43:46,779 --> 00:43:49,770
double charge just kind of a three
variable chart

567
00:43:49,770 --> 00:43:55,890
add that allows you to see packets vs at
White's vs records and that alone is a

568
00:43:55,890 --> 00:44:01,500
very useful but you can do things like a
distinct desk ports for a host compared

569
00:44:01,500 --> 00:44:06,000
two distinct desktop app easy compared
to whatever and kind of whatever you can

570
00:44:06,000 --> 00:44:11,040
think of and which is the hard part
because in anything you do with low data

571
00:44:11,040 --> 00:44:15,000
you have this answer that you think all
man i'm going to school answer and i

572
00:44:15,000 --> 00:44:20,280
want it like really rule the day but the
question is really hard like you have to

573
00:44:20,280 --> 00:44:24,660
be able to were the question and
sentence so if you can't like just say

574
00:44:24,660 --> 00:44:28,319
to yourself and you know just English
say well what am I looking for you know

575
00:44:28,320 --> 00:44:33,720
I want you know hosted have reached out
to for more distinct destination country

576
00:44:33,720 --> 00:44:37,890
codes and that's a sentence but if
you're just like I just wanted to return

577
00:44:37,890 --> 00:44:43,080
to sedate and see the bad gas gonna find
that and I'm gonna use any kind of that

578
00:44:43,080 --> 00:44:50,880
and type words like hunting and but you
know that kind of step requires

579
00:44:50,880 --> 00:44:55,950
prerequisite knowledge on you know how
to approach you can just find the bad

580
00:44:55,950 --> 00:45:01,200
guys . to the bad guys in there and the
rest of your stuff you have you know

581
00:45:01,200 --> 00:45:04,950
your typical line chart and that's based
on like the beans of your packets or

582
00:45:04,950 --> 00:45:09,540
bites you overtime and you have bar
charts and whatnot and that they were

583
00:45:09,540 --> 00:45:12,330
pretty pretty well if you throw into a
dashboard something like that is an

584
00:45:12,330 --> 00:45:17,880
iframe and but you can just if you want
to use like you know pythons really

585
00:45:17,880 --> 00:45:22,980
simple HTTP server to just host these
and your people look at them and make

586
00:45:22,980 --> 00:45:29,760
your own dashboard another summary of
silk and almost done here at it's

587
00:45:29,760 --> 00:45:34,020
extremely fast it's really easy to
manipulate step if you're really good at

588
00:45:34,020 --> 00:45:37,920
scripting and against a lot of data but
they offer tools to whittle down the

589
00:45:37,920 --> 00:45:43,410
data as well and it's got awesome
documentation and again more tools are

590
00:45:43,410 --> 00:45:48,660
coming out to actually analyze the stuff
and i'm updating flow of water to get

591
00:45:48,660 --> 00:45:55,170
rid of all the very happy colors and
make them more and you with what 345 .

592
00:45:55,170 --> 00:46:00,270
oh whatever in right now and make them
look more hit and but it also again I'm

593
00:46:00,270 --> 00:46:03,390
pretty pumped about at the different
options you have a basic free

594
00:46:03,390 --> 00:46:06,359
that's where you're not limited to byte
packets and records but you know

595
00:46:06,359 --> 00:46:10,769
anything that you want any kind of like
the sting counts for anything that it

596
00:46:10,769 --> 00:46:14,220
makes it a little more challenging to
figure out what your input is but your

597
00:46:14,220 --> 00:46:20,250
output is all the more valuable flow bad
again is a graphical printed silk and

598
00:46:20,250 --> 00:46:25,559
you can install super-easy not going to
give you a seizure again to show you how

599
00:46:25,559 --> 00:46:29,970
easy but you can rapidly pivot data I
didn't show all the examples of you know

600
00:46:29,970 --> 00:46:34,140
you can click a town for instance say i
want the previous five minutes of

601
00:46:34,140 --> 00:46:38,788
Records and it's gonna put it you know
this huge loan query out there that here

602
00:46:38,789 --> 00:46:42,450
you would be punching in numbers just
figure that out on that a calendar

603
00:46:42,450 --> 00:46:45,359
whatever it is that you decided that for
you

604
00:46:45,359 --> 00:46:50,069
it has some visualizations and whatnot
dashboards whatever you want and again

605
00:46:50,069 --> 00:46:55,079
it's my analyst for analysts and so i
use it and pretty much all the time at

606
00:46:55,079 --> 00:46:59,670
Chris uses it a lot of people are using
now and so when people say we want a

607
00:46:59,670 --> 00:47:03,809
certain feature in it we take it
seriously at not seriously enough to

608
00:47:03,809 --> 00:47:08,519
probably work on immediately or stopping
to pick something but we take it pretty

609
00:47:08,519 --> 00:47:13,348
seriously actually fix bugs we we jump
on those pretty quick so yeah

610
00:47:13,349 --> 00:47:20,160
globest.com you had the source you want
to go look at that and in conclusion we

611
00:47:20,160 --> 00:47:25,769
should probably be using flow data it's
super easy to set up if you have really

612
00:47:25,769 --> 00:47:30,240
you know dispersed environment maybe
it's difficult if you don't have any

613
00:47:30,240 --> 00:47:34,200
security posture all that you don't have
a tap or any sense or anything like that

614
00:47:34,200 --> 00:47:38,160
you may find it's pretty difficult set
up your own your own flow generation

615
00:47:38,160 --> 00:47:42,690
just because we probably should have
those things that you have alerting or

616
00:47:42,690 --> 00:47:47,160
anything you don't have those and it's
really easy to collect stuff from it at

617
00:47:47,160 --> 00:47:53,009
makes analysis much easier and for
you're pivoting from large datasets to

618
00:47:53,009 --> 00:47:58,500
the pkp one and mineral various very
strange tree and here's your first

619
00:47:58,500 --> 00:48:03,779
giveaway which everyone wins and it is
the recipes for that chicken which I

620
00:48:03,779 --> 00:48:09,210
swear to you is the best non spicy
chicken I've ever had and that soon this

621
00:48:09,210 --> 00:48:16,420
is recorded and then appreciate very
much and there's my contact

622
00:48:16,420 --> 00:48:20,560
and you want to go by I've never seen
monitoring you can get it

623
00:48:20,560 --> 00:48:26,740
amazon and and basic goods you donate to
charity and also invited amazon go to

624
00:48:26,740 --> 00:48:32,319
smile about amazon.com because that is
at a percentage of every purchase you

625
00:48:32,320 --> 00:48:34,720
make goes towards charity of your choice

626
00:48:34,720 --> 00:48:37,899
it can be cruel technology fund should
be awesome

627
00:48:37,900 --> 00:48:40,840
they can be whatever charity wanted to
be and not a lot of people are aware of

628
00:48:40,840 --> 00:48:45,640
it but it costs nothing to you and it
doesn't change your amazon you know

629
00:48:45,640 --> 00:48:50,560
browsing or anything like that it's just
free money for charities free Amazons

630
00:48:50,560 --> 00:48:54,100
experience so that's it

631
00:48:54,100 --> 00:48:57,190
any questions

632
00:48:57,190 --> 00:49:09,850
yes any other questions when you use a
dryer is it sounds like you're the

633
00:49:09,850 --> 00:49:16,509
pressure rise yeah it's ollie it's very
solid steel and it will if you use like

634
00:49:16,510 --> 00:49:23,650
a pressure cooker it will explode like
like it's a lot of terrible videos and

635
00:49:23,650 --> 00:49:27,820
irregular friars ok and this will work
in a regular prior yeah thank you

636
00:49:27,820 --> 00:49:38,290
it'll take longer gluten free is better
it makes CRISPR breading now or you can

637
00:49:38,290 --> 00:49:43,509
mix vodka with the your marinade and
it'll like reduce the gluten for regular

638
00:49:43,510 --> 00:49:44,710
flour

639
00:49:44,710 --> 00:50:03,190
ok yet so broken logs for one like the
conlogue themselves and they're actually

640
00:50:03,190 --> 00:50:07,330
quite different as far as we're looking
at unidirectional flows when I use like

641
00:50:07,330 --> 00:50:13,240
a pea fix or F Crow and other tools like
Argus it's another flow tool that looks

642
00:50:13,240 --> 00:50:17,799
bidirectional set broke on logs are
bi-directional like broken logs are

643
00:50:17,800 --> 00:50:21,070
pretty awesome in their own I never
recommend someone to just get rid of

644
00:50:21,070 --> 00:50:25,870
them but like I guess when it comes down
to like if it was one or the other i

645
00:50:25,870 --> 00:50:28,900
always recommend flows just because
again the storage at

646
00:50:28,900 --> 00:50:33,130
everywhere that that broke on were
required for the same amount of data and

647
00:50:33,130 --> 00:50:37,990
now granted broke on actually requires
less storage for what I've seen at least

648
00:50:37,990 --> 00:50:42,939
then just churning a bunch of flows into
elasticsearch something like that and

649
00:50:42,940 --> 00:50:47,110
part of stuff bro actually you know
there's a little more data to its people

650
00:50:47,110 --> 00:50:54,160
say outgrow is like flow what's like woe
flow this row folk'll oh it is a as

651
00:50:54,160 --> 00:50:59,020
tongue twister and broken are also i'm
definitely matching Rokon like if you

652
00:50:59,020 --> 00:51:02,680
already have like a bunch of bro logs
and they're going to elasticsearch or

653
00:51:02,680 --> 00:51:03,850
something like that

654
00:51:03,850 --> 00:51:08,049
the Navy will say why I already have
wrote you broke on data and maybe it's

655
00:51:08,050 --> 00:51:11,920
already good enough but ask yourself how
long how far back you can store those

656
00:51:11,920 --> 00:51:15,910
broken that was broken lines and you
know if you can store more than like 30

657
00:51:15,910 --> 00:51:21,190
days either maybe store more of them or
consider flow solution this close take

658
00:51:21,190 --> 00:51:25,960
up no no space at all about comparison
of you know any kind of raw text like

659
00:51:25,960 --> 00:51:31,030
that again like broke on there's no like
special format the strings right so it's

660
00:51:31,030 --> 00:51:35,770
stored in in a pretty substantially
larger format and you can press them you

661
00:51:35,770 --> 00:51:39,340
have to deal with depression things like
that and but again if you throw in the

662
00:51:39,340 --> 00:51:44,080
elastic search all that is compressed
and you know on the way so the question

663
00:51:44,080 --> 00:52:03,250
anybody else being as soon as I get it
fixed my will and i work on it

664
00:52:03,250 --> 00:52:06,400
I'm pretty diligent about it but it's
not perfect yet and I don't feel

665
00:52:06,400 --> 00:52:11,110
confident to go to a conference with it
but maybe it'll be its own talk you know

666
00:52:11,110 --> 00:52:15,700
dont trick you into listening to only
that you

667
00:52:16,720 --> 00:52:25,990
yeah yes you will be all about that its
pressure magic and pressure fryer and

668
00:52:25,990 --> 00:52:31,600
it's a big crank on the topic still
crank so it doesn't explode use a lot of

669
00:52:31,600 --> 00:52:37,089
all the more questions or any more
questions and for negative connotation

670
00:52:37,090 --> 00:52:38,010
that

671
00:52:38,010 --> 00:52:42,630
okay well I appreciate up

672
00:52:42,630 --> 00:52:49,440
no I have giveaways you're supposed to
remind me you do not you all lose

673
00:52:49,440 --> 00:52:52,830
situation

674
00:52:53,880 --> 00:53:05,730
alright so we have this this dual comm
tap I'm who knows the two most common

675
00:53:05,730 --> 00:53:14,100
flow types that is it that flow version
5 & 9

676
00:53:15,900 --> 00:53:20,280
you have to fight for this wheelchair
who can race to get it it's up to you

677
00:53:20,280 --> 00:53:26,070
yet everyone clap

678
00:53:26,640 --> 00:53:31,529
yes yes congratulations

679
00:53:32,580 --> 00:53:38,250
ok applied never security monitoring
mediocre book by two mediocre gentleman

680
00:53:38,250 --> 00:53:46,920
and see right I've been called a refugee
and no less than three times they in

681
00:53:46,920 --> 00:53:50,910
tops as so yeah but thank you and I
guess

682
00:53:51,540 --> 00:54:04,230
name three raw flow solutions ryan still
Ian's those are three flow types

683
00:54:04,230 --> 00:54:12,150
that's good net because no one is quite
a minute was the last one in it don't

684
00:54:12,810 --> 00:54:25,560
that is true sorry round you win it is
not autograph okay well I guess that's

685
00:54:25,560 --> 00:54:26,250
it

686
00:54:26,250 --> 00:54:29,070
I didn't mean to keep you long so have a
good evening

