1
00:00:14,490 --> 00:00:16,590
so so thank you guys for coming out

2
00:00:16,590 --> 00:00:19,770
today I'm off of the day I know you've

3
00:00:19,770 --> 00:00:21,990
been just hammered with information left

4
00:00:21,990 --> 00:00:25,050
and right so you could be anywhere in

5
00:00:25,050 --> 00:00:26,400
the world right now but you decided to

6
00:00:26,400 --> 00:00:29,759
be in this room with me so I this was a

7
00:00:29,759 --> 00:00:33,090
dual project of myself and my colleague

8
00:00:33,090 --> 00:00:35,340
Donald Miller Donald can't make it today

9
00:00:35,340 --> 00:00:36,600
because they got called away from work

10
00:00:36,600 --> 00:00:39,120
in another country so you're stuck with

11
00:00:39,120 --> 00:00:39,570
me

12
00:00:39,570 --> 00:00:44,130
so today is a arisen is the name of this

13
00:00:44,130 --> 00:00:47,579
talk right so he's a xxe teared in any

14
00:00:47,579 --> 00:00:51,350
environment so I've spoken about xxe I

15
00:00:51,350 --> 00:00:54,420
believe back in 2015 20 B sighs

16
00:00:54,420 --> 00:00:57,809
Charleston and it was before obviously

17
00:00:57,809 --> 00:01:01,829
the new Olaf top-10 came out in 2017 but

18
00:01:01,829 --> 00:01:05,069
it started off as a project a senior

19
00:01:05,069 --> 00:01:07,260
project Bob was in college while I was

20
00:01:07,260 --> 00:01:09,180
studying service-oriented architecture

21
00:01:09,180 --> 00:01:11,760
so it's just a really fancy way of

22
00:01:11,760 --> 00:01:13,320
saying like when you go purchase an

23
00:01:13,320 --> 00:01:15,000
airline ticket it locks your airline

24
00:01:15,000 --> 00:01:17,130
ticket or a movie ticket or any kind of

25
00:01:17,130 --> 00:01:21,780
certain time so from there my friend

26
00:01:21,780 --> 00:01:25,200
turned me on to this and I just kind of

27
00:01:25,200 --> 00:01:28,049
dug into it learned a lot learned more

28
00:01:28,049 --> 00:01:31,110
and more and more about it and the

29
00:01:31,110 --> 00:01:33,119
announced which were covering the slide

30
00:01:33,119 --> 00:01:35,070
today so a little bit about me I'm a

31
00:01:35,070 --> 00:01:36,600
cyber operations officer and the South

32
00:01:36,600 --> 00:01:40,500
Carolina Army now our army stuff for the

33
00:01:40,500 --> 00:01:44,880
last 12 years before during this during

34
00:01:44,880 --> 00:01:46,350
each 12 years I started doing cyber

35
00:01:46,350 --> 00:01:50,460
stuffs probably back in 2008 when I was

36
00:01:50,460 --> 00:01:54,570
a little private in Korea officially

37
00:01:54,570 --> 00:01:57,659
became a student carrying that word

38
00:01:57,659 --> 00:01:59,700
active-duty how left back to duty after

39
00:01:59,700 --> 00:02:02,250
my last deployment I came went to school

40
00:02:02,250 --> 00:02:04,590
at called intrusion down in Charleston

41
00:02:04,590 --> 00:02:08,190
South Carolina for Ian to be a computer

42
00:02:08,190 --> 00:02:12,630
science major studying for pretty much

43
00:02:12,630 --> 00:02:14,100
does my first introduction to

44
00:02:14,100 --> 00:02:14,700
programming

45
00:02:14,700 --> 00:02:17,490
it was totally daunting but I was super

46
00:02:17,490 --> 00:02:19,020
interested in cybersecurity from there

47
00:02:19,020 --> 00:02:22,350
went on and made a cybersecurity Club

48
00:02:22,350 --> 00:02:27,360
which is why I guess grew which is super

49
00:02:27,360 --> 00:02:28,349
awesome

50
00:02:28,349 --> 00:02:31,739
through there I started getting into a

51
00:02:31,739 --> 00:02:33,599
little bit of consulting for a start-up

52
00:02:33,599 --> 00:02:36,540
firm called cetera which is a sponsor

53
00:02:36,540 --> 00:02:38,639
for this organism for besides Augusta

54
00:02:38,639 --> 00:02:41,700
today and then through that the

55
00:02:41,700 --> 00:02:43,560
technical mentor at node SC which is a

56
00:02:43,560 --> 00:02:45,329
nonprofit organization in Charleston in

57
00:02:45,329 --> 00:02:47,629
South Carolina that focuses on teaching

58
00:02:47,629 --> 00:02:50,189
information technology cyber security

59
00:02:50,189 --> 00:02:52,439
and business entrepreneurship to the

60
00:02:52,439 --> 00:02:54,900
high school college and college students

61
00:02:54,900 --> 00:02:57,180
in the local community I'm a code monkey

62
00:02:57,180 --> 00:02:58,680
so I just I've been wanting to get my

63
00:02:58,680 --> 00:03:00,980
developer chops up so from from this

64
00:03:00,980 --> 00:03:05,189
project I'm going to demo a tool called

65
00:03:05,189 --> 00:03:07,980
doulos that's written a Python it kind

66
00:03:07,980 --> 00:03:10,560
of automates this process of creating

67
00:03:10,560 --> 00:03:12,359
XML payloads to test for this type of

68
00:03:12,359 --> 00:03:16,019
vulnerability I'm a builder of Legos I

69
00:03:16,019 --> 00:03:17,489
like to build a lot of Lego and I've

70
00:03:17,489 --> 00:03:20,669
recently have been trying to figure out

71
00:03:20,669 --> 00:03:22,079
how to make the perfect old-fashioned

72
00:03:22,079 --> 00:03:25,260
which is harder up top is a photo of

73
00:03:25,260 --> 00:03:26,609
Clyde the cougar which is a College of

74
00:03:26,609 --> 00:03:28,829
Charleston mascot this is me getting

75
00:03:28,829 --> 00:03:31,859
Clyde's ring it's so fun fact that was

76
00:03:31,859 --> 00:03:35,069
the mascot for College of Charleston but

77
00:03:35,069 --> 00:03:36,629
so you know what I look like here's what

78
00:03:36,629 --> 00:03:38,790
I look like it's collide right so here's

79
00:03:38,790 --> 00:03:40,139
our roadmap for today so today we're

80
00:03:40,139 --> 00:03:41,939
gonna cover what is xxe and what we can

81
00:03:41,939 --> 00:03:42,750
do with it

82
00:03:42,750 --> 00:03:45,259
the different xxe attacks and the types

83
00:03:45,259 --> 00:03:47,939
we're gonna but in order to understand I

84
00:03:47,939 --> 00:03:50,549
sexy you have to understand how XML

85
00:03:50,549 --> 00:03:53,400
works which is pretty simple we'll cover

86
00:03:53,400 --> 00:03:56,040
a demo then we'll cover some defense

87
00:03:56,040 --> 00:03:58,650
against xxe excuse me we'll talk about

88
00:03:58,650 --> 00:04:01,199
what kind of payloads are excuse me what

89
00:04:01,199 --> 00:04:03,239
kind of detections you could be looking

90
00:04:03,239 --> 00:04:04,409
for questions you should be asking

91
00:04:04,409 --> 00:04:07,439
yourself red blue and purple team's how

92
00:04:07,439 --> 00:04:08,790
they can use excess seeing and we'll

93
00:04:08,790 --> 00:04:11,849
open it up to questions at the end so

94
00:04:11,849 --> 00:04:14,519
key takeaways right so for this talk if

95
00:04:14,519 --> 00:04:16,769
you pay attention to nothing else I say

96
00:04:16,769 --> 00:04:19,620
I want you to understand how XML works

97
00:04:19,620 --> 00:04:21,180
and how it can be used for good and bad

98
00:04:21,180 --> 00:04:23,340
I want you to understand how what web

99
00:04:23,340 --> 00:04:26,430
apps are exploited using xxe and then

100
00:04:26,430 --> 00:04:27,960
understand and see the attacks dirty

101
00:04:27,960 --> 00:04:29,070
guys are the red team the blue team

102
00:04:29,070 --> 00:04:31,740
purple team so what's pretty important

103
00:04:31,740 --> 00:04:36,510
in I would strongly encourage that you

104
00:04:36,510 --> 00:04:39,060
keep an open mind when I go through this

105
00:04:39,060 --> 00:04:42,120
material and think about ways that

106
00:04:42,120 --> 00:04:45,570
through a stock analyst or a threat

107
00:04:45,570 --> 00:04:47,100
hunter can look at this type of

108
00:04:47,100 --> 00:04:49,199
information and say what can I gain from

109
00:04:49,199 --> 00:04:51,570
this what what kind of behaviors can I

110
00:04:51,570 --> 00:04:54,110
find what kind of signatures can I write

111
00:04:54,110 --> 00:04:56,940
really understand at a deeper level you

112
00:04:56,940 --> 00:04:59,220
read team guys you can i mean it's it's

113
00:04:59,220 --> 00:05:00,840
kind of more of a technical talk so

114
00:05:00,840 --> 00:05:02,250
we're gonna be exploiting the simple web

115
00:05:02,250 --> 00:05:04,229
server to demonstrate this proof of

116
00:05:04,229 --> 00:05:06,630
concept but also look at it through the

117
00:05:06,630 --> 00:05:08,729
blue team's eyes right and then the

118
00:05:08,729 --> 00:05:12,840
purple team is kind of its blend between

119
00:05:12,840 --> 00:05:14,430
the two and we'll talk about more of

120
00:05:14,430 --> 00:05:18,660
that in detail so so what is sexy right

121
00:05:18,660 --> 00:05:22,320
so it's not it's not sexy it's not like

122
00:05:22,320 --> 00:05:26,130
I got remote code execution through xxe

123
00:05:26,130 --> 00:05:29,100
which very rarely happens but it's an

124
00:05:29,100 --> 00:05:29,690
XML

125
00:05:29,690 --> 00:05:32,789
external entity attack and it's a type

126
00:05:32,789 --> 00:05:34,979
of attack that occurs against an

127
00:05:34,979 --> 00:05:37,710
application that parses XML input right

128
00:05:37,710 --> 00:05:41,400
so any type of application that you

129
00:05:41,400 --> 00:05:45,479
write Java PHP Python if there's a

130
00:05:45,479 --> 00:05:48,750
parser library or the language can parse

131
00:05:48,750 --> 00:05:51,330
XML files it's a way to it's a

132
00:05:51,330 --> 00:05:54,630
vulnerable it's a possible vulnerable

133
00:05:54,630 --> 00:05:56,729
application right so this attack occurs

134
00:05:56,729 --> 00:05:58,650
when XML input containing a reference to

135
00:05:58,650 --> 00:06:01,229
an external entity is processed by a

136
00:06:01,229 --> 00:06:04,770
weakly configured XML parser so in a

137
00:06:04,770 --> 00:06:06,960
nutshell what this means is that you

138
00:06:06,960 --> 00:06:09,720
crack your XML payload whatever it is

139
00:06:09,720 --> 00:06:12,599
you push the payload to the XML parser

140
00:06:12,599 --> 00:06:15,330
this could be through a soap arrest

141
00:06:15,330 --> 00:06:18,630
process also just curling a file to a

142
00:06:18,630 --> 00:06:20,400
parser that you're looking for which is

143
00:06:20,400 --> 00:06:22,490
the demo will be I'll be showing today

144
00:06:22,490 --> 00:06:24,630
but it could also be a file upload

145
00:06:24,630 --> 00:06:27,990
feature right so if you have a web

146
00:06:27,990 --> 00:06:30,330
application that takes in that allows

147
00:06:30,330 --> 00:06:34,949
users to upload files slack SharePoint

148
00:06:34,949 --> 00:06:36,900
those kind of things

149
00:06:36,900 --> 00:06:40,500
nine times out of 10 it accepts XML all

150
00:06:40,500 --> 00:06:42,840
right excuse me your parser interprets

151
00:06:42,840 --> 00:06:44,639
your payload right and then from there

152
00:06:44,639 --> 00:06:46,680
pwnage hopefully fingers crossed no

153
00:06:46,680 --> 00:06:49,260
whammies that you actually get it going

154
00:06:49,260 --> 00:06:50,880
all right so what could we do in the

155
00:06:50,880 --> 00:06:54,060
neck sexy again remote code execution is

156
00:06:54,060 --> 00:06:56,159
it's rare but if you're already

157
00:06:56,159 --> 00:06:58,709
rabble hole simple check let me just see

158
00:06:58,709 --> 00:07:02,369
if PHP has its module loaded on this on

159
00:07:02,369 --> 00:07:04,110
this web app right so you got denial

160
00:07:04,110 --> 00:07:06,719
service to the laughs attack is

161
00:07:06,719 --> 00:07:10,800
essentially an entity that called

162
00:07:10,800 --> 00:07:12,779
another entity that calls another entity

163
00:07:12,779 --> 00:07:15,569
right so again you're just going to that

164
00:07:15,569 --> 00:07:18,689
server with calls super site request

165
00:07:18,689 --> 00:07:21,539
forgery so I want my server I want me

166
00:07:21,539 --> 00:07:25,559
the user to to interact with this server

167
00:07:25,559 --> 00:07:28,189
and I want you the server to go out and

168
00:07:28,189 --> 00:07:31,469
show me something but I don't want what

169
00:07:31,469 --> 00:07:33,389
you're pulling to know I asked you to do

170
00:07:33,389 --> 00:07:34,649
it I just want you to do it

171
00:07:34,649 --> 00:07:36,149
don't tell nobody and then when you get

172
00:07:36,149 --> 00:07:38,339
it let me know that you got it and show

173
00:07:38,339 --> 00:07:40,429
it to me but it's our little secret

174
00:07:40,429 --> 00:07:42,149
directory traversal is pretty

175
00:07:42,149 --> 00:07:45,269
self-explanatory navigate enumerate to

176
00:07:45,269 --> 00:07:47,099
directory port scanning and local

177
00:07:47,099 --> 00:07:49,889
remove file inclusion all right so now

178
00:07:49,889 --> 00:07:51,539
we're going to go over an overview of

179
00:07:51,539 --> 00:07:54,839
XML so XML is an extensible markup

180
00:07:54,839 --> 00:07:57,509
language it derived from the standard

181
00:07:57,509 --> 00:07:59,610
generalized markup language so it falls

182
00:07:59,610 --> 00:08:02,759
from the same family of HTML the

183
00:08:02,759 --> 00:08:04,589
International in HTML is the

184
00:08:04,589 --> 00:08:06,300
international standard for defining mark

185
00:08:06,300 --> 00:08:08,219
oh right it's software hardware and app

186
00:08:08,219 --> 00:08:11,279
in it so when hardware and software

187
00:08:11,279 --> 00:08:14,189
designers came together they're like we

188
00:08:14,189 --> 00:08:17,879
need a language we can use a transport

189
00:08:17,879 --> 00:08:22,169
data that's super simple it's easy it's

190
00:08:22,169 --> 00:08:25,319
lightweight it doesn't have a high

191
00:08:25,319 --> 00:08:28,019
overhead and it's pretty simple to pick

192
00:08:28,019 --> 00:08:29,789
up all right

193
00:08:29,789 --> 00:08:33,779
so what we in in the in the next slide

194
00:08:33,779 --> 00:08:37,019
will see an example of this but XML

195
00:08:37,019 --> 00:08:39,708
looks exactly like HTML you got your

196
00:08:39,708 --> 00:08:44,670
closing tags you've got you know your

197
00:08:44,670 --> 00:08:46,680
strings your data whatever is parsing

198
00:08:46,680 --> 00:08:50,300
through right but what's particularly

199
00:08:50,300 --> 00:08:52,800
point out is that hTML is used to

200
00:08:52,800 --> 00:08:54,959
display data right so colors images

201
00:08:54,959 --> 00:08:59,970
videos pleasing to the user of your web

202
00:08:59,970 --> 00:09:03,300
app of your web page whereas XML is

203
00:09:03,300 --> 00:09:05,790
purely used to be storing data and

204
00:09:05,790 --> 00:09:08,430
transport data across your network right

205
00:09:08,430 --> 00:09:10,019
so if I have to

206
00:09:10,019 --> 00:09:11,819
some applications and they need to talk

207
00:09:11,819 --> 00:09:14,429
to each other well how can I do it well

208
00:09:14,429 --> 00:09:17,550
you can look at your options but XML

209
00:09:17,550 --> 00:09:19,499
might come up in conversation for you to

210
00:09:19,499 --> 00:09:23,730
do so so from there how can you know

211
00:09:23,730 --> 00:09:25,980
server 1 talk a server 2 and pass data

212
00:09:25,980 --> 00:09:28,350
back and forth so that server 1 and 2 or

213
00:09:28,350 --> 00:09:30,029
both speaking quote-unquote at the same

214
00:09:30,029 --> 00:09:33,860
language all right so what uses XML

215
00:09:33,860 --> 00:09:37,619
Microsoft Office Apple I work OpenOffice

216
00:09:37,619 --> 00:09:40,679
Libre Office you see a trend that's

217
00:09:40,679 --> 00:09:42,329
happening here with the file upload

218
00:09:42,329 --> 00:09:44,309
feature right so you can imagine where

219
00:09:44,309 --> 00:09:49,619
this came from SVG images X HTML and X

220
00:09:49,619 --> 00:09:55,290
CSS which is XML it's HTML written in

221
00:09:55,290 --> 00:09:58,259
XML so it's kind of like jaikon Java and

222
00:09:58,259 --> 00:10:03,389
Python bananas html5 RSS atom feeds and

223
00:10:03,389 --> 00:10:05,429
then soap and wrist web services all

224
00:10:05,429 --> 00:10:07,920
right so now let's actually start

225
00:10:07,920 --> 00:10:09,329
digging into a little bit more into the

226
00:10:09,329 --> 00:10:11,069
XML so let's put our nerd hats on

227
00:10:11,069 --> 00:10:13,499
so all XML files must be well-formed

228
00:10:13,499 --> 00:10:16,829
right so well leo well for me well they

229
00:10:16,829 --> 00:10:18,600
have to have a root element right so you

230
00:10:18,600 --> 00:10:21,600
have to have a root tag all of this is

231
00:10:21,600 --> 00:10:25,499
like is comprised of this one thing that

232
00:10:25,499 --> 00:10:27,809
root element must have a closing tag in

233
00:10:27,809 --> 00:10:32,790
all tags sub underneath that tags are

234
00:10:32,790 --> 00:10:36,119
case sensitive and must match they also

235
00:10:36,119 --> 00:10:38,369
must be properly nested all attribute

236
00:10:38,369 --> 00:10:42,119
values must also be quoted XML does not

237
00:10:42,119 --> 00:10:43,860
require document type definitions but

238
00:10:43,860 --> 00:10:46,649
they can and do use them so today the

239
00:10:46,649 --> 00:10:48,740
proof of concept will be calling out to

240
00:10:48,740 --> 00:10:51,649
excuse me a web server that brings that

241
00:10:51,649 --> 00:10:55,319
grabs a document type definition file

242
00:10:55,319 --> 00:10:58,199
reads it and then spits out stuff

243
00:10:58,199 --> 00:11:01,649
elsewhere essentially your XML follows

244
00:11:01,649 --> 00:11:03,119
correct syntax so that's what well form

245
00:11:03,119 --> 00:11:06,809
means and in all XML values that use the

246
00:11:06,809 --> 00:11:09,799
DTD must be valid right so what is valid

247
00:11:09,799 --> 00:11:14,879
valid is does your DTD match what your

248
00:11:14,879 --> 00:11:20,009
XML file States so if your XML file is

249
00:11:20,009 --> 00:11:22,319
valid it's also well-formed it's

250
00:11:22,319 --> 00:11:23,910
naturally assumed

251
00:11:23,910 --> 00:11:26,550
that it's well-formed this is kind of

252
00:11:26,550 --> 00:11:28,890
where you can start getting into shaky

253
00:11:28,890 --> 00:11:30,570
ground if it automatically assumes

254
00:11:30,570 --> 00:11:32,850
things right so this is a well formed

255
00:11:32,850 --> 00:11:36,120
example so here we have the top line

256
00:11:36,120 --> 00:11:38,640
right so the top line XML version 1

257
00:11:38,640 --> 00:11:41,550
encoding ETF and standalone yes this is

258
00:11:41,550 --> 00:11:45,240
not a required line in XML files but it

259
00:11:45,240 --> 00:11:47,040
helps right it helps our sera understand

260
00:11:47,040 --> 00:11:48,270
what type of file it's dealing with and

261
00:11:48,270 --> 00:11:51,270
it doesn't have to guess so here we have

262
00:11:51,270 --> 00:11:54,000
a root element of note it's going to

263
00:11:54,000 --> 00:11:56,490
Kiki from abri it's got a question and

264
00:11:56,490 --> 00:11:58,640
it's asking do you love me right

265
00:11:58,640 --> 00:12:07,770
there's a note it's a quick note cool

266
00:12:07,770 --> 00:12:10,440
right so this is a well-formed example

267
00:12:10,440 --> 00:12:12,390
so we've got our open and closing tags

268
00:12:12,390 --> 00:12:13,560
we have a root element

269
00:12:13,560 --> 00:12:17,599
everything's nested everything's clean

270
00:12:18,240 --> 00:12:20,280
so now we're going to do a valid example

271
00:12:20,280 --> 00:12:23,250
right so it's the exact same XML

272
00:12:23,250 --> 00:12:27,360
document but instead I'm including a DTD

273
00:12:27,360 --> 00:12:29,490
file document type definition file which

274
00:12:29,490 --> 00:12:33,660
states that I have an element some

275
00:12:33,660 --> 00:12:37,140
element called notes that has a two from

276
00:12:37,140 --> 00:12:41,760
heading and body element sub elements to

277
00:12:41,760 --> 00:12:47,210
it each of those elements is a PC data

278
00:12:47,210 --> 00:12:50,070
type of element and this stands for

279
00:12:50,070 --> 00:12:52,170
parse carica data right so it's just

280
00:12:52,170 --> 00:12:55,590
simple plain text you know whatever is

281
00:12:55,590 --> 00:12:58,110
there interpreted as it is so if I have

282
00:12:58,110 --> 00:13:00,870
a SD f afdf ace yes it's going to print

283
00:13:00,870 --> 00:13:04,260
a SD FASD FASD are right there right

284
00:13:04,260 --> 00:13:08,150
so but what this means is is that

285
00:13:08,150 --> 00:13:11,550
whereas before in the previous example

286
00:13:11,550 --> 00:13:13,800
here XML

287
00:13:13,800 --> 00:13:16,380
whatever is interpreting an XML file has

288
00:13:16,380 --> 00:13:19,920
to guess at the root structure or the

289
00:13:19,920 --> 00:13:23,040
structure of this XML file here it

290
00:13:23,040 --> 00:13:25,470
doesn't have to guess it has a document

291
00:13:25,470 --> 00:13:28,370
type definition that says look here and

292
00:13:28,370 --> 00:13:30,720
this is how you should interpret this

293
00:13:30,720 --> 00:13:34,470
file right so we're going to start

294
00:13:34,470 --> 00:13:37,370
walking into the different xxe attacks

295
00:13:37,370 --> 00:13:41,390
right so a little bit of terminology so

296
00:13:41,390 --> 00:13:43,310
you have in band blind and out of man

297
00:13:43,310 --> 00:13:47,090
right so you're in band is where you

298
00:13:47,090 --> 00:13:48,830
send in xxe payload and you get a

299
00:13:48,830 --> 00:13:50,890
response back from the web app

300
00:13:50,890 --> 00:13:53,030
containing some data within all the same

301
00:13:53,030 --> 00:13:54,830
browser or terminal window user

302
00:13:54,830 --> 00:13:57,530
launching attack right so I launched the

303
00:13:57,530 --> 00:13:58,700
attack and I'm going to get it right

304
00:13:58,700 --> 00:14:01,940
back so file upload feature if you are

305
00:14:01,940 --> 00:14:04,640
exploiting a certain variable or a

306
00:14:04,640 --> 00:14:09,050
certain thing in your web application

307
00:14:09,050 --> 00:14:12,290
and you upload a file to it and you say

308
00:14:12,290 --> 00:14:16,820
spit it out in in this field right so a

309
00:14:16,820 --> 00:14:18,680
perfect example is username and password

310
00:14:18,680 --> 00:14:20,390
so if you were to log into a username

311
00:14:20,390 --> 00:14:21,850
and password web app for instance

312
00:14:21,850 --> 00:14:24,740
underneath it might say welcome you know

313
00:14:24,740 --> 00:14:27,230
and then it'll have a variable of

314
00:14:27,230 --> 00:14:30,170
username here so to say welcome whatever

315
00:14:30,170 --> 00:14:32,510
you set username to well if you if it

316
00:14:32,510 --> 00:14:36,170
accepts XML files and you upload it and

317
00:14:36,170 --> 00:14:38,210
you say instead of printing my username

318
00:14:38,210 --> 00:14:41,810
I want you to print the variable that I

319
00:14:41,810 --> 00:14:45,110
stated in my XML file and the variable I

320
00:14:45,110 --> 00:14:46,250
stayed in my XML files

321
00:14:46,250 --> 00:14:49,490
ashle Etsy password that's a password

322
00:14:49,490 --> 00:14:51,770
file so spit that out on my webpage and

323
00:14:51,770 --> 00:14:53,630
it spits it on your webpage and you're

324
00:14:53,630 --> 00:14:55,790
like awesome you're vulnerable and I'm

325
00:14:55,790 --> 00:14:56,840
gonna see what else I can do with you

326
00:14:56,840 --> 00:14:57,550
all right

327
00:14:57,550 --> 00:15:00,620
next is blind so an attacker can send a

328
00:15:00,620 --> 00:15:02,960
request with an xxe payload get nothing

329
00:15:02,960 --> 00:15:04,700
by the errors so from there you're kind

330
00:15:04,700 --> 00:15:06,530
of poking a bear trying to figure out

331
00:15:06,530 --> 00:15:08,660
you know what can I do what can I do and

332
00:15:08,660 --> 00:15:11,720
making the implicit explicit so what is

333
00:15:11,720 --> 00:15:15,740
the application not telling me and then

334
00:15:15,740 --> 00:15:19,460
out-of-band is kind of like in-band the

335
00:15:19,460 --> 00:15:20,630
only difference is is that it's not

336
00:15:20,630 --> 00:15:22,850
gonna spit it out in the same terminal

337
00:15:22,850 --> 00:15:24,560
or browser I might have a netcat

338
00:15:24,560 --> 00:15:25,730
listener or I might have some other

339
00:15:25,730 --> 00:15:28,070
thing that's accepting input that it's

340
00:15:28,070 --> 00:15:29,600
going to push it to could be an FTP

341
00:15:29,600 --> 00:15:32,150
server could be your DNS logs could be

342
00:15:32,150 --> 00:15:34,640
anything right so again here's an

343
00:15:34,640 --> 00:15:36,740
example of you're in band right so it's

344
00:15:36,740 --> 00:15:37,700
gonna spit it out

345
00:15:37,700 --> 00:15:42,320
in the response they believe that here's

346
00:15:42,320 --> 00:15:43,820
a blind one so something to pay

347
00:15:43,820 --> 00:15:46,220
attention to is this error so it just

348
00:15:46,220 --> 00:15:48,800
gives me an arbitrary error so I tried

349
00:15:48,800 --> 00:15:50,120
running this thing

350
00:15:50,120 --> 00:15:51,860
it's a oh there's an error you're like

351
00:15:51,860 --> 00:15:54,050
okay cool it's a at this point I know

352
00:15:54,050 --> 00:15:59,029
that it's accepting XML right and it

353
00:15:59,029 --> 00:16:00,589
next is your out-of-band right so now

354
00:16:00,589 --> 00:16:04,430
I'm running this right here so saying

355
00:16:04,430 --> 00:16:07,870
very entity at a variable called paths

356
00:16:07,870 --> 00:16:10,520
going into the system I want you to look

357
00:16:10,520 --> 00:16:12,920
for this file Etsy password and then

358
00:16:12,920 --> 00:16:15,620
another entity called xxe in this system

359
00:16:15,620 --> 00:16:18,440
I want you to make a call out to this IP

360
00:16:18,440 --> 00:16:22,940
address using this port and go to this

361
00:16:22,940 --> 00:16:25,820
page and then display the file Etsy

362
00:16:25,820 --> 00:16:29,029
password and then again nested file

363
00:16:29,029 --> 00:16:32,900
reset login kumar's face and then pass

364
00:16:32,900 --> 00:16:36,680
this in there right and then pwnage and

365
00:16:36,680 --> 00:16:40,610
got your Etsy password file alright so

366
00:16:40,610 --> 00:16:41,750
now we're going to actually walk into

367
00:16:41,750 --> 00:16:48,020
this demo so well again so I made a

368
00:16:48,020 --> 00:16:51,230
sacrifice to the demo gods last night so

369
00:16:51,230 --> 00:16:54,830
hopefully this works accordingly so from

370
00:16:54,830 --> 00:16:58,900
here you guys can't see this

371
00:17:04,550 --> 00:17:07,659
you see that yes

372
00:17:11,579 --> 00:17:14,099
you know awesome cool so you can't

373
00:17:14,099 --> 00:17:16,770
really make up this stuff up here in my

374
00:17:16,770 --> 00:17:20,640
terminal but this right here is the

375
00:17:20,640 --> 00:17:24,210
actual code for my parser right just a

376
00:17:24,210 --> 00:17:27,000
simple XML parser written in PHP it's

377
00:17:27,000 --> 00:17:30,630
just accepting XML anything and then

378
00:17:30,630 --> 00:17:32,840
spitting it right back out to you right

379
00:17:32,840 --> 00:17:36,960
so I have an attacker terminal so this

380
00:17:36,960 --> 00:17:38,610
is supposed to emulate the attacker

381
00:17:38,610 --> 00:17:41,810
typing in commands to get all the things

382
00:17:41,810 --> 00:17:46,200
next I have a net cut listener which is

383
00:17:46,200 --> 00:17:48,630
essentially it's just my listener

384
00:17:48,630 --> 00:17:50,340
listening for that callback that I get

385
00:17:50,340 --> 00:17:53,850
and then I had the attacker own web

386
00:17:53,850 --> 00:17:56,250
server so this is where I'm hosting my

387
00:17:56,250 --> 00:17:59,370
DTD right so I don't have a slide on

388
00:17:59,370 --> 00:18:00,870
this I probably would have in hindsight

389
00:18:00,870 --> 00:18:03,420
it probably be better to do it but how

390
00:18:03,420 --> 00:18:06,360
this attack will work is I have this

391
00:18:06,360 --> 00:18:08,880
vulnerable web server that is taking in

392
00:18:08,880 --> 00:18:13,800
XML it's parsing an XML I have my own

393
00:18:13,800 --> 00:18:16,070
web server AWS digitalocean whatever

394
00:18:16,070 --> 00:18:21,350
that is hosting my DTD that I want it to

395
00:18:21,350 --> 00:18:24,360
run through and then I'm going to pass

396
00:18:24,360 --> 00:18:28,590
that to pass a payload that I generated

397
00:18:28,590 --> 00:18:31,080
using a tool called Doulos that will

398
00:18:31,080 --> 00:18:33,000
generate the payload and the DTD needed

399
00:18:33,000 --> 00:18:36,210
for you to execute this attack I pass

400
00:18:36,210 --> 00:18:39,450
the payload to the parser the parser

401
00:18:39,450 --> 00:18:41,520
interprets it says oh there's a DTD file

402
00:18:41,520 --> 00:18:44,520
I need to go out to through this IP

403
00:18:44,520 --> 00:18:47,750
address on this poor B file

404
00:18:47,750 --> 00:18:50,760
analyze that and then what it tells me

405
00:18:50,760 --> 00:18:52,980
to do I'm gonna spit that out to this

406
00:18:52,980 --> 00:18:55,020
other IP address slash poor on this Mac

407
00:18:55,020 --> 00:18:57,450
cat listener so we're gonna walk through

408
00:18:57,450 --> 00:19:02,880
and that's what we're going to oh no

409
00:19:02,880 --> 00:19:07,710
hopefully this works so so my tool is

410
00:19:07,710 --> 00:19:09,270
not open to the public yet because it

411
00:19:09,270 --> 00:19:13,380
has it's in its like the alpha phase so

412
00:19:13,380 --> 00:19:16,220
it's super buggy if you guys I have

413
00:19:16,220 --> 00:19:18,480
contact information at the end of the

414
00:19:18,480 --> 00:19:20,790
slide deck so if you want access to it

415
00:19:20,790 --> 00:19:23,370
to play around or contribute to it just

416
00:19:23,370 --> 00:19:24,420
let me know there shoot me an email

417
00:19:24,420 --> 00:19:25,320
shoot me a thing

418
00:19:25,320 --> 00:19:27,299
Twitter and I'll get you at it and you

419
00:19:27,299 --> 00:19:30,240
can play with it but in the near future

420
00:19:30,240 --> 00:19:31,679
once I work out a lot of these bugs

421
00:19:31,679 --> 00:19:34,110
almost definitely make it public for the

422
00:19:34,110 --> 00:19:36,269
community so something to keep in mind

423
00:19:36,269 --> 00:19:38,759
is that we're running Python 3 right so

424
00:19:38,759 --> 00:19:42,539
python 2 versus Python 3 very very

425
00:19:42,539 --> 00:19:44,820
different so if you try running this and

426
00:19:44,820 --> 00:19:46,289
python 2 and you're like it doesn't work

427
00:19:46,289 --> 00:19:49,559
it's not a bug it's just we we just me

428
00:19:49,559 --> 00:19:50,850
and Don decided that we're gonna move

429
00:19:50,850 --> 00:19:54,779
forward with Python 3 and not make it

430
00:19:54,779 --> 00:19:59,970
backwards compatible so from we're going

431
00:19:59,970 --> 00:20:04,740
to run it'll call Doulos and I now

432
00:20:04,740 --> 00:20:07,110
realize that that is a terrible

433
00:20:07,110 --> 00:20:11,659
background for you guys that better cool

434
00:20:11,659 --> 00:20:13,769
cool cool

435
00:20:13,769 --> 00:20:16,679
so tool call Doulos a little history

436
00:20:16,679 --> 00:20:19,220
duelist is the Greek god of trickery and

437
00:20:19,220 --> 00:20:21,480
other things so I thought it was pretty

438
00:20:21,480 --> 00:20:23,549
clever that were tricking web servers to

439
00:20:23,549 --> 00:20:25,830
do stuff and in Halloween's coming up so

440
00:20:25,830 --> 00:20:27,980
I said why not put some ghosts on there

441
00:20:27,980 --> 00:20:32,190
cool so also fun fact I had to pivot my

442
00:20:32,190 --> 00:20:33,389
talk two weeks ago because my

443
00:20:33,389 --> 00:20:36,659
exploitable web server that I had didn't

444
00:20:36,659 --> 00:20:38,490
want to be exploitable anymore so

445
00:20:38,490 --> 00:20:41,340
initially I was using creating an

446
00:20:41,340 --> 00:20:43,879
out-of-band payload using a docx file

447
00:20:43,879 --> 00:20:46,019
that did kind of the same thing that

448
00:20:46,019 --> 00:20:47,460
we're doing now with a file upload

449
00:20:47,460 --> 00:20:50,250
feature but I could not get it to work -

450
00:20:50,250 --> 00:20:52,320
two months ago or two weeks ago when I

451
00:20:52,320 --> 00:20:54,210
could get it work two months ago I don't

452
00:20:54,210 --> 00:20:55,769
know what happened so I had to pivot

453
00:20:55,769 --> 00:20:59,159
really fast and throw this in there but

454
00:20:59,159 --> 00:21:01,500
so we're gonna create an XML dot txt

455
00:21:01,500 --> 00:21:03,899
payload right so choose number two it's

456
00:21:03,899 --> 00:21:05,490
gonna ask what does that I P of the

457
00:21:05,490 --> 00:21:08,309
server that you're hosting your DTD so

458
00:21:08,309 --> 00:21:11,149
we'll go ahead and throw that in there

459
00:21:11,149 --> 00:21:13,289
what is the listening port of your

460
00:21:13,289 --> 00:21:15,809
server that is so singing your DTD so

461
00:21:15,809 --> 00:21:17,340
we're going to do 8,000 because we're

462
00:21:17,340 --> 00:21:19,860
running just simple HTTP server using

463
00:21:19,860 --> 00:21:22,740
Python default is 8,000 so what does the

464
00:21:22,740 --> 00:21:25,139
IP you want the victim server to call -

465
00:21:25,139 --> 00:21:29,039
so same IP and then what is support you

466
00:21:29,039 --> 00:21:32,820
want the victim the callback right - 1 3

467
00:21:32,820 --> 00:21:36,480
3 7 and then it's got this error so this

468
00:21:36,480 --> 00:21:37,960
also happened from

469
00:21:37,960 --> 00:21:41,710
I'm running in the wrong thing again

470
00:21:41,710 --> 00:21:44,700
more buffets

471
00:21:58,010 --> 00:22:01,370
that's what we wanted so it created our

472
00:22:01,370 --> 00:22:03,320
payload they stored it in the absolute

473
00:22:03,320 --> 00:22:05,750
file path I'm going to create a DTD file

474
00:22:05,750 --> 00:22:08,059
stored in the absolute file path so now

475
00:22:08,059 --> 00:22:09,290
we have our payload that we're going to

476
00:22:09,290 --> 00:22:11,179
push to the parser and we also have our

477
00:22:11,179 --> 00:22:12,559
document type definition that's the

478
00:22:12,559 --> 00:22:15,020
instructions for what what the web

479
00:22:15,020 --> 00:22:16,730
server is going to what the parser is

480
00:22:16,730 --> 00:22:19,070
going to tell the web server to do with

481
00:22:19,070 --> 00:22:31,630
what we want right what it is oh no so

482
00:22:31,630 --> 00:22:35,030
so from here right so we have a root

483
00:22:35,030 --> 00:22:37,700
element right a doctype and we have a

484
00:22:37,700 --> 00:22:42,530
city called wrote so to say and we have

485
00:22:42,530 --> 00:22:43,940
a excuse me we have an entity called

486
00:22:43,940 --> 00:22:47,710
remote back saying go out to IP address

487
00:22:47,710 --> 00:22:51,350
that IP address in that port and pull

488
00:22:51,350 --> 00:22:54,710
the evil DTD file interpret it and do

489
00:22:54,710 --> 00:22:57,710
whatever it says inside of it and then

490
00:22:57,710 --> 00:22:59,630
from there I want you to execute remote

491
00:22:59,630 --> 00:23:02,059
I want you to then execute in turn and

492
00:23:02,059 --> 00:23:02,480
on down

493
00:23:02,480 --> 00:23:05,330
I then want you to execute xx so it's

494
00:23:05,330 --> 00:23:07,640
important to note note and I sexy they

495
00:23:07,640 --> 00:23:08,929
can be named whatever you want those are

496
00:23:08,929 --> 00:23:10,700
just variables those are just the

497
00:23:10,700 --> 00:23:16,250
variables that I selected so now look at

498
00:23:16,250 --> 00:23:17,720
our actual meat and potatoes of this

499
00:23:17,720 --> 00:23:19,790
these are the actual instructions right

500
00:23:19,790 --> 00:23:25,120
now I have an entity paper cuz I'm like

501
00:23:25,120 --> 00:23:30,380
and then HP filter read in so using PHP

502
00:23:30,380 --> 00:23:33,820
read in this file and then convert

503
00:23:33,820 --> 00:23:37,669
whatever that file is base 64 encoded

504
00:23:37,669 --> 00:23:39,620
right and any actual resources the

505
00:23:39,620 --> 00:23:43,309
Etsy's flash password file so that's one

506
00:23:43,309 --> 00:23:46,280
entity the next entity is in turn right

507
00:23:46,280 --> 00:23:48,980
but within in turn I have another entity

508
00:23:48,980 --> 00:23:52,760
called xxe that says similar to what I

509
00:23:52,760 --> 00:23:55,820
demonstrated earlier IP call back out to

510
00:23:55,820 --> 00:23:57,860
that port number and give me a result

511
00:23:57,860 --> 00:24:00,500
and that cat doesn't care what for those

512
00:24:00,500 --> 00:24:02,419
unfamiliar and doesn't care what you get

513
00:24:02,419 --> 00:24:05,690
or what is send its way if it's on that

514
00:24:05,690 --> 00:24:07,790
port and it's coming in its gonna log it

515
00:24:07,790 --> 00:24:09,290
and it's going to put it a standard out

516
00:24:09,290 --> 00:24:10,850
which standard out in this case it's our

517
00:24:10,850 --> 00:24:11,670
terminal

518
00:24:11,670 --> 00:24:16,650
all right so now actually go ahead and

519
00:24:16,650 --> 00:24:20,820
start our stuff so you got a little bit

520
00:24:20,820 --> 00:24:25,500
bigger so you guys can see it and now

521
00:24:25,500 --> 00:24:28,460
we've got our netcat listener

522
00:24:36,650 --> 00:24:39,740
I trade people out to pi/3 they simple

523
00:24:39,740 --> 00:24:44,720
HTTP servers HTTP dot o that took like

524
00:24:44,720 --> 00:24:47,020
that's a googly why is this not working

525
00:24:47,020 --> 00:24:51,170
cuz you're in Python 30 now guy so now

526
00:24:51,170 --> 00:24:54,500
we have our server listening

527
00:24:54,500 --> 00:24:59,270
you simply three it three that you run

528
00:24:59,270 --> 00:25:03,380
your server so with another quick ten

529
00:25:03,380 --> 00:25:05,000
twenty minutes to Google right so now

530
00:25:05,000 --> 00:25:07,340
we've got a server that has the root

531
00:25:07,340 --> 00:25:11,810
directory of our paper folder it's gonna

532
00:25:11,810 --> 00:25:14,540
reach out and grab that file execute it

533
00:25:14,540 --> 00:25:16,490
right I got a netcat listener on another

534
00:25:16,490 --> 00:25:19,340
port saying give me all the things that

535
00:25:19,340 --> 00:25:24,650
you want to send to me so now we will

536
00:25:24,650 --> 00:25:32,120
execute this so we're gonna curl be

537
00:25:32,120 --> 00:25:36,130
actually just so I don't mess this up I

538
00:25:36,130 --> 00:25:39,680
did a lot of tests right so curl this

539
00:25:39,680 --> 00:25:42,920
curl this file passed in payload txt to

540
00:25:42,920 --> 00:25:45,170
that IP address and this is the

541
00:25:45,170 --> 00:25:46,940
attackers are excuse me this is a

542
00:25:46,940 --> 00:25:50,740
vulnerable web servers IP address right

543
00:25:50,740 --> 00:25:52,970
so you're not gonna get anything back

544
00:25:52,970 --> 00:25:54,500
and the reason why I'm getting anything

545
00:25:54,500 --> 00:25:57,230
back because there's really nothing to

546
00:25:57,230 --> 00:25:59,690
return but your web server is actually

547
00:25:59,690 --> 00:26:01,850
calling out and doing the things that

548
00:26:01,850 --> 00:26:06,290
you want it to do right so if you kind

549
00:26:06,290 --> 00:26:07,910
of still hang your you're just hanging

550
00:26:07,910 --> 00:26:11,680
there but if we go to the actual server

551
00:26:11,680 --> 00:26:15,260
we see a two hundred for the evil DTD

552
00:26:15,260 --> 00:26:17,600
which means we've got the file awesome

553
00:26:17,600 --> 00:26:19,790
that's step one did you am I am I

554
00:26:19,790 --> 00:26:21,890
getting a call back or you am I just

555
00:26:21,890 --> 00:26:24,500
whatever do i this IP address is some IP

556
00:26:24,500 --> 00:26:26,480
address reaching out and grabbing the

557
00:26:26,480 --> 00:26:29,990
evil DTD file directly that's a win and

558
00:26:29,990 --> 00:26:32,630
then my net cat I now have this base64

559
00:26:32,630 --> 00:26:38,540
encoded thing so from here you're like

560
00:26:38,540 --> 00:26:40,940
cool so also fun fact the only way I

561
00:26:40,940 --> 00:26:42,020
could get this to work is if you don't

562
00:26:42,020 --> 00:26:45,500
code it so if you're doing XML stuff

563
00:26:45,500 --> 00:26:47,390
this is why it's a kind of a piecemeal

564
00:26:47,390 --> 00:26:49,820
environment you have X so you have XML

565
00:26:49,820 --> 00:26:50,580
code

566
00:26:50,580 --> 00:26:54,000
but you're also using HTTP to move your

567
00:26:54,000 --> 00:26:56,940
stuff back into floors and then you also

568
00:26:56,940 --> 00:27:00,480
are reading in system files like Etsy /

569
00:27:00,480 --> 00:27:03,210
password SC sauce fstab here in the

570
00:27:03,210 --> 00:27:06,390
windows when I and I and in your passing

571
00:27:06,390 --> 00:27:10,350
the contents of those files through HTTP

572
00:27:10,350 --> 00:27:14,460
right so if there's a lot of times

573
00:27:14,460 --> 00:27:16,410
there's a lot of characters the HTTP

574
00:27:16,410 --> 00:27:18,270
doesn't like right so you got to xscape

575
00:27:18,270 --> 00:27:20,250
those characters easy way to do it is

576
00:27:20,250 --> 00:27:23,640
just encode it to something like base64

577
00:27:23,640 --> 00:27:26,520
which is used to transport stuff over

578
00:27:26,520 --> 00:27:27,180
the Internet

579
00:27:27,180 --> 00:27:30,290
right so now we've got this base64

580
00:27:30,290 --> 00:27:36,720
shrink that we can then decode right so

581
00:27:36,720 --> 00:27:41,760
from there go into Python and port

582
00:27:41,760 --> 00:27:48,600
base64 oh it helps if I can spell all

583
00:27:48,600 --> 00:27:55,280
right so then base64 dot be 64 decode

584
00:27:55,280 --> 00:27:59,670
again if I can spell pass in that string

585
00:27:59,670 --> 00:28:05,250
and then we now have the Etsy / password

586
00:28:05,250 --> 00:28:10,370
file of that machine that's a win right

587
00:28:10,370 --> 00:28:14,240
super SuperDuper awesome

588
00:28:14,240 --> 00:28:19,500
now so now we'll move forward then go

589
00:28:19,500 --> 00:28:21,090
into a little bit further right so

590
00:28:21,090 --> 00:28:22,920
that's the concept that you just walk

591
00:28:22,920 --> 00:28:24,600
through look at it through the eyes of

592
00:28:24,600 --> 00:28:26,490
your blue team member right there's a

593
00:28:26,490 --> 00:28:27,780
lot of things in there that you can kind

594
00:28:27,780 --> 00:28:31,470
of pick up on your your base64 encoding

595
00:28:31,470 --> 00:28:33,120
things right and you're passing it

596
00:28:33,120 --> 00:28:34,140
through a network you have a web

597
00:28:34,140 --> 00:28:36,240
application that's reaching out to an

598
00:28:36,240 --> 00:28:39,480
external entity an external IP grabbing

599
00:28:39,480 --> 00:28:42,810
a file and then running it and doing

600
00:28:42,810 --> 00:28:46,830
some stuff right you pushed a file to a

601
00:28:46,830 --> 00:28:49,440
web server and that connection never

602
00:28:49,440 --> 00:28:51,810
closed right so that's something else

603
00:28:51,810 --> 00:28:54,510
too that this might be terrible coding I

604
00:28:54,510 --> 00:28:58,920
have no idea but you have like a lot of

605
00:28:58,920 --> 00:29:00,540
things you could be you know you can be

606
00:29:00,540 --> 00:29:01,980
on the lookout for through your red

607
00:29:01,980 --> 00:29:03,399
team's eyes

608
00:29:03,399 --> 00:29:07,839
of a way ahead essentially for you know

609
00:29:07,839 --> 00:29:10,089
another another thing you can put into

610
00:29:10,089 --> 00:29:12,429
it right when I've tried everything else

611
00:29:12,429 --> 00:29:13,690
like what else can I try

612
00:29:13,690 --> 00:29:16,149
kind of deal so now we'll move forward

613
00:29:16,149 --> 00:29:18,159
into defense against xx key and its

614
00:29:18,159 --> 00:29:21,159
limitations right so one limitation XML

615
00:29:21,159 --> 00:29:22,269
parser can break if they don't

616
00:29:22,269 --> 00:29:24,820
understand characters in your XML and

617
00:29:24,820 --> 00:29:27,969
DTD files right so what if I didn't want

618
00:29:27,969 --> 00:29:29,440
to encode it what if I wanted off you

619
00:29:29,440 --> 00:29:31,839
skate is a little bit more well there's

620
00:29:31,839 --> 00:29:34,229
something called C data right so C data

621
00:29:34,229 --> 00:29:38,229
says hey XML parser if you see things

622
00:29:38,229 --> 00:29:41,799
between two tags or if you see if you

623
00:29:41,799 --> 00:29:44,559
see something that starts with C data in

624
00:29:44,559 --> 00:29:48,309
this very specific order then just

625
00:29:48,309 --> 00:29:51,249
interpret it as it is like thanks I'll

626
00:29:51,249 --> 00:29:53,109
try to do anything just print it I don't

627
00:29:53,109 --> 00:29:55,659
care it just doesn't have to be let me

628
00:29:55,659 --> 00:29:58,169
care that you just get it out there

629
00:29:58,169 --> 00:30:03,239
that's one way of doing it right next is

630
00:30:03,239 --> 00:30:05,169
the other one that we just talked about

631
00:30:05,169 --> 00:30:07,389
is base64 so I had a really funny gif

632
00:30:07,389 --> 00:30:13,269
here Jeff but Mac for Office for Mac

633
00:30:13,269 --> 00:30:14,649
doesn't like gifts gifs

634
00:30:14,649 --> 00:30:17,619
whichever way you say it so this

635
00:30:17,619 --> 00:30:19,509
presentation had a presentation crashed

636
00:30:19,509 --> 00:30:25,089
on me two years ago but the the example

637
00:30:25,089 --> 00:30:27,639
on our demo is PHP based web app patient

638
00:30:27,639 --> 00:30:30,070
you could pay 64 encoded alright so now

639
00:30:30,070 --> 00:30:31,719
let's go into detection and prevention

640
00:30:31,719 --> 00:30:34,539
so I had a had a you know I got a I got

641
00:30:34,539 --> 00:30:38,279
a beer with one of one of my colleagues

642
00:30:38,279 --> 00:30:41,589
very pretty recently and he said one of

643
00:30:41,589 --> 00:30:45,549
the biggest things that a lot of people

644
00:30:45,549 --> 00:30:47,739
in our industry failed to do is we're

645
00:30:47,739 --> 00:30:50,139
how do I stop how do I stop that is how

646
00:30:50,139 --> 00:30:51,789
do I get the bad guys how do I find him

647
00:30:51,789 --> 00:30:54,129
how to get him out of my network you

648
00:30:54,129 --> 00:30:57,549
know like that that train of thought and

649
00:30:57,549 --> 00:30:59,499
my hammer we got to get it out right but

650
00:30:59,499 --> 00:31:02,619
then nobody talks about detection how do

651
00:31:02,619 --> 00:31:04,149
I detect all right so you everybody's

652
00:31:04,149 --> 00:31:05,619
heard of statistic 200 plus days

653
00:31:05,619 --> 00:31:07,479
adversary sitting your network you have

654
00:31:07,479 --> 00:31:09,700
no idea right how do I get that number

655
00:31:09,700 --> 00:31:15,429
down to ninety thirty four hours right

656
00:31:15,429 --> 00:31:17,260
how do i how do I bring that

657
00:31:17,260 --> 00:31:19,390
in my own environment well you got to

658
00:31:19,390 --> 00:31:20,890
learn how to detect it and then that

659
00:31:20,890 --> 00:31:23,919
goes into the purple team can talk that

660
00:31:23,919 --> 00:31:26,020
but I was going in today what Dave

661
00:31:26,020 --> 00:31:28,419
Kennedy spoke about today with behaviors

662
00:31:28,419 --> 00:31:31,240
tactics techniques and procedures you're

663
00:31:31,240 --> 00:31:33,700
only focusing on the technique and then

664
00:31:33,700 --> 00:31:35,620
putting in the strings but then I can

665
00:31:35,620 --> 00:31:38,020
change my string to do something else to

666
00:31:38,020 --> 00:31:40,000
get that looks different but gives me

667
00:31:40,000 --> 00:31:43,570
the exact same result right oh well

668
00:31:43,570 --> 00:31:44,860
first things you can do if you want to

669
00:31:44,860 --> 00:31:46,419
catch this in your web application

670
00:31:46,419 --> 00:31:47,890
it's just disable the use of external

671
00:31:47,890 --> 00:31:49,929
entities period right so if you write a

672
00:31:49,929 --> 00:31:52,600
custom web application and you already

673
00:31:52,600 --> 00:31:55,330
define all your data types data type of

674
00:31:55,330 --> 00:31:59,460
like Borg whatever you define Borg to be

675
00:31:59,460 --> 00:32:03,160
your and you have those files internally

676
00:32:03,160 --> 00:32:05,860
you should never see your web app reach

677
00:32:05,860 --> 00:32:08,860
out you have another DTD file if you

678
00:32:08,860 --> 00:32:10,390
have it locally unless you have like

679
00:32:10,390 --> 00:32:13,660
public you can set public dtds

680
00:32:13,660 --> 00:32:17,740
which is W C cubed

681
00:32:17,740 --> 00:32:19,000
I believe the World Wide Web Consortium

682
00:32:19,000 --> 00:32:24,040
so w3c that defined sumela specification

683
00:32:24,040 --> 00:32:27,010
they have public that you can use but if

684
00:32:27,010 --> 00:32:28,840
you see anything DTD typically if you

685
00:32:28,840 --> 00:32:29,740
create your own custom application

686
00:32:29,740 --> 00:32:32,470
that's not going to change that right so

687
00:32:32,470 --> 00:32:34,090
that's one thing just disable it boom

688
00:32:34,090 --> 00:32:34,809
done

689
00:32:34,809 --> 00:32:38,919
very simple neck verify that your XML or

690
00:32:38,919 --> 00:32:41,799
your XSL so your schema file for your

691
00:32:41,799 --> 00:32:45,010
XML upload functionality validates your

692
00:32:45,010 --> 00:32:47,980
incoming XML right so whatever your if

693
00:32:47,980 --> 00:32:51,549
you have very specific parameters for

694
00:32:51,549 --> 00:32:56,890
your application why don't we specify

695
00:32:56,890 --> 00:33:00,840
those those very specific things and say

696
00:33:00,840 --> 00:33:03,280
if it's not this just don't even use it

697
00:33:03,280 --> 00:33:04,419
just throw it away

698
00:33:04,419 --> 00:33:07,780
Deb null random or Tim doesn't matter

699
00:33:07,780 --> 00:33:10,179
just get rid of it I don't need it right

700
00:33:10,179 --> 00:33:12,549
and in patch upgrader xml parser you run

701
00:33:12,549 --> 00:33:16,450
PHP five upgraded PHP seven older

702
00:33:16,450 --> 00:33:18,700
versions of Java that sort of thing

703
00:33:18,700 --> 00:33:19,900
right

704
00:33:19,900 --> 00:33:22,299
oh wasps has a super awesome cheat sheet

705
00:33:22,299 --> 00:33:24,130
for all the various languages that have

706
00:33:24,130 --> 00:33:27,309
XML parsers and they're very very very

707
00:33:27,309 --> 00:33:29,980
simple to do and change it's not like

708
00:33:29,980 --> 00:33:30,750
hundreds of lines

709
00:33:30,750 --> 00:33:33,210
it might be like one line changed this

710
00:33:33,210 --> 00:33:36,060
module from true to false boom you're

711
00:33:36,060 --> 00:33:40,410
safe right but then so that's how we can

712
00:33:40,410 --> 00:33:43,340
prevent it how can we detect it right so

713
00:33:43,340 --> 00:33:45,950
typically if your stuff parses in JSON

714
00:33:45,950 --> 00:33:48,540
why can you not just change it to XML a

715
00:33:48,540 --> 00:33:52,020
lot of times if web applications will

716
00:33:52,020 --> 00:33:55,320
read the content type headers for for

717
00:33:55,320 --> 00:33:57,600
JSON you know going to burp and say Oh

718
00:33:57,600 --> 00:34:00,180
change that to XML run it right it'll

719
00:34:00,180 --> 00:34:03,150
still spit out the same information so

720
00:34:03,150 --> 00:34:06,300
it's like oh so you now take again doing

721
00:34:06,300 --> 00:34:08,190
blind stuff it allowed me to change it

722
00:34:08,190 --> 00:34:10,649
and I still got results back that is

723
00:34:10,649 --> 00:34:14,699
data let's change that to you know what

724
00:34:14,699 --> 00:34:16,080
else can I do with it what else can I do

725
00:34:16,080 --> 00:34:18,780
with XML right mmm go down this rabbit

726
00:34:18,780 --> 00:34:20,040
hole

727
00:34:20,040 --> 00:34:22,020
are there any outbound requests from

728
00:34:22,020 --> 00:34:23,699
your web server web app that shouldn't

729
00:34:23,699 --> 00:34:24,300
be there

730
00:34:24,300 --> 00:34:26,879
right if you have an internal web

731
00:34:26,879 --> 00:34:28,199
application you should most definitely

732
00:34:28,199 --> 00:34:31,560
not reaching out to your to an external

733
00:34:31,560 --> 00:34:35,159
source unless you know you you have it

734
00:34:35,159 --> 00:34:37,830
configured that way right is there any

735
00:34:37,830 --> 00:34:39,330
use of basic C for in your environment

736
00:34:39,330 --> 00:34:42,120
so I know in my environment as a sock

737
00:34:42,120 --> 00:34:45,989
analyst I see some things where I'll see

738
00:34:45,989 --> 00:34:48,120
base64 and it's like oh what is this

739
00:34:48,120 --> 00:34:49,679
and really it's just this admins off be

740
00:34:49,679 --> 00:34:51,090
skating their stuff through the network

741
00:34:51,090 --> 00:34:52,889
because they're trying to not get caught

742
00:34:52,889 --> 00:34:56,550
by the you know sock guys and then is

743
00:34:56,550 --> 00:34:58,500
your purser accessing directories and

744
00:34:58,500 --> 00:35:00,030
files that shouldn't right so that's a

745
00:35:00,030 --> 00:35:02,250
huge one so if you have a file upload

746
00:35:02,250 --> 00:35:03,870
feature why is your file upload feature

747
00:35:03,870 --> 00:35:06,630
going to your Etsy directory alright it

748
00:35:06,630 --> 00:35:08,640
should be going to like user uploads or

749
00:35:08,640 --> 00:35:11,670
some other thing right so that's most

750
00:35:11,670 --> 00:35:14,400
definitely things you should be

751
00:35:14,400 --> 00:35:15,600
detecting on and be looking out for

752
00:35:15,600 --> 00:35:17,370
right and that's just and that's only

753
00:35:17,370 --> 00:35:19,980
one of many it can get pretty pretty

754
00:35:19,980 --> 00:35:22,260
hectic right but now we're gonna go into

755
00:35:22,260 --> 00:35:25,020
red blue and purple teams and how they

756
00:35:25,020 --> 00:35:29,460
can use xxe right so I'm a geek and I'm

757
00:35:29,460 --> 00:35:31,980
a nerd and I do a lot of technical stuff

758
00:35:31,980 --> 00:35:35,190
as you can see but my job as an officer

759
00:35:35,190 --> 00:35:36,750
in the army does not allow me to always

760
00:35:36,750 --> 00:35:39,240
get to be the geek in the nerd sometimes

761
00:35:39,240 --> 00:35:40,740
I have to be the manager the leader and

762
00:35:40,740 --> 00:35:44,190
the supervisor so I have to take

763
00:35:44,190 --> 00:35:46,170
groups of people and train them and get

764
00:35:46,170 --> 00:35:48,060
them trained in order to execute what I

765
00:35:48,060 --> 00:35:50,339
need them to be able to do right so this

766
00:35:50,339 --> 00:35:53,760
is kind of where I get into I put my

767
00:35:53,760 --> 00:35:55,800
management and my supervisor had only

768
00:35:55,800 --> 00:35:59,010
right so xxt through the red team guys

769
00:35:59,010 --> 00:36:01,440
again I have another gift jiff

770
00:36:01,440 --> 00:36:04,619
and it crashed my thing so I found this

771
00:36:04,619 --> 00:36:06,750
guy in college who's just taken a nap

772
00:36:06,750 --> 00:36:10,560
right so xxe is not the sexiest thing

773
00:36:10,560 --> 00:36:13,470
right it's kind of it's pretty boring in

774
00:36:13,470 --> 00:36:15,619
the eyes of red team members because

775
00:36:15,619 --> 00:36:19,020
it's like ah well I don't get to pivot I

776
00:36:19,020 --> 00:36:20,640
don't get to do all these you know super

777
00:36:20,640 --> 00:36:22,550
cool things that make me look Li right

778
00:36:22,550 --> 00:36:26,730
but there's countless blog articles of

779
00:36:26,730 --> 00:36:30,060
people who are able to through xxe

780
00:36:30,060 --> 00:36:31,740
through SharePoint for instance in a

781
00:36:31,740 --> 00:36:35,040
Windows environment was able to continue

782
00:36:35,040 --> 00:36:37,560
to escalate their privileges to domain

783
00:36:37,560 --> 00:36:41,569
admin right that includes exploiting

784
00:36:41,569 --> 00:36:44,700
Korean RDP user and then from there you

785
00:36:44,700 --> 00:36:47,069
got your GUI so then you go from simple

786
00:36:47,069 --> 00:36:50,250
user that has you know simple SharePoint

787
00:36:50,250 --> 00:36:53,520
user upload to I now have you know a

788
00:36:53,520 --> 00:36:55,589
Windows command prompt as a standard

789
00:36:55,589 --> 00:36:57,450
user that I can then elevate privileges

790
00:36:57,450 --> 00:37:00,960
through that to do to became an RDP user

791
00:37:00,960 --> 00:37:04,650
so now I have a GUI to do stuff to

792
00:37:04,650 --> 00:37:07,650
obtain domain admin there's also a

793
00:37:07,650 --> 00:37:10,020
couple instances with Facebook got pop

794
00:37:10,020 --> 00:37:13,020
pop for this a while ago slack got

795
00:37:13,020 --> 00:37:16,650
popped with this a while ago right so if

796
00:37:16,650 --> 00:37:17,849
you're doing bug bounties doing fun

797
00:37:17,849 --> 00:37:19,770
things right might be a cool time to try

798
00:37:19,770 --> 00:37:23,609
it right so through the red team size it

799
00:37:23,609 --> 00:37:24,900
can be using all phases of the

800
00:37:24,900 --> 00:37:27,930
adversarial engagement right so just a

801
00:37:27,930 --> 00:37:29,819
quick quick question for my first

802
00:37:29,819 --> 00:37:32,730
giveaway your choice what's the

803
00:37:32,730 --> 00:37:34,050
difference between penetration testing

804
00:37:34,050 --> 00:37:37,220
or red teaming in your own words

805
00:37:43,099 --> 00:37:47,269
yeah so one is a particular particular

806
00:37:47,269 --> 00:37:49,400
thing of an adversary right so you're

807
00:37:49,400 --> 00:37:51,619
emulating an adversary and the other one

808
00:37:51,619 --> 00:37:56,209
is just doing a service right so with

809
00:37:56,209 --> 00:38:02,140
that I have two blue team handbooks and

810
00:38:02,140 --> 00:38:04,910
a wireless adapter which one you want

811
00:38:04,910 --> 00:38:07,430
I want a wireless at their coolest right

812
00:38:07,430 --> 00:38:12,559
up front so I'm gonna use that and then

813
00:38:12,559 --> 00:38:18,279
I'm gonna add more I'm terrible at this

814
00:38:18,279 --> 00:38:21,519
struggling today won't struggle bus so

815
00:38:21,519 --> 00:38:25,489
team right so to add to that in my

816
00:38:25,489 --> 00:38:27,739
opinion this is Leo pace opinion so if

817
00:38:27,739 --> 00:38:30,140
you have like the security onion onions

818
00:38:30,140 --> 00:38:31,519
you can throw them at me if you want if

819
00:38:31,519 --> 00:38:34,459
you don't agree but penetration testing

820
00:38:34,459 --> 00:38:37,099
is typically limited in scope right like

821
00:38:37,099 --> 00:38:38,359
you said you're kind of testing for a

822
00:38:38,359 --> 00:38:40,849
service you're testing you have clearly

823
00:38:40,849 --> 00:38:42,380
defined left and right limits you have a

824
00:38:42,380 --> 00:38:44,209
short suspense and you got to do like

825
00:38:44,209 --> 00:38:47,029
I'll find all the things right

826
00:38:47,029 --> 00:38:51,049
whereas red teaming goes you know like

827
00:38:51,049 --> 00:38:54,819
three layers deeper right red teaming is

828
00:38:54,819 --> 00:38:57,410
emulating the adversary thinking about

829
00:38:57,410 --> 00:38:59,180
the adversary how does the adversary

830
00:38:59,180 --> 00:39:01,249
view your environment how does the

831
00:39:01,249 --> 00:39:03,019
adversary you know is in your

832
00:39:03,019 --> 00:39:04,789
environment it's not just one than zero

833
00:39:04,789 --> 00:39:06,049
so it's not just things you can plug

834
00:39:06,049 --> 00:39:09,019
into you know a power outlet its people

835
00:39:09,019 --> 00:39:14,539
its door alarms its you know key fobs

836
00:39:14,539 --> 00:39:17,569
it's your telephone system it's where

837
00:39:17,569 --> 00:39:20,150
you live it's your card that you drive

838
00:39:20,150 --> 00:39:22,670
the route that you take right if I have

839
00:39:22,670 --> 00:39:23,809
an important sysadmin

840
00:39:23,809 --> 00:39:28,910
and I want to stop you from getting to

841
00:39:28,910 --> 00:39:31,519
the office to do stuff well why can't I

842
00:39:31,519 --> 00:39:33,499
have a team of people that knows the

843
00:39:33,499 --> 00:39:35,900
route that you take to throw up traffic

844
00:39:35,900 --> 00:39:38,779
cones and reroute you around the city

845
00:39:38,779 --> 00:39:40,339
which adds an extra thirty minutes to

846
00:39:40,339 --> 00:39:43,430
your commute you know like it goes to

847
00:39:43,430 --> 00:39:47,059
that level of extreme right so utilizing

848
00:39:47,059 --> 00:39:49,549
the penetration execution testing

849
00:39:49,549 --> 00:39:54,079
standards xxe can be used in all of

850
00:39:54,079 --> 00:39:55,369
these things intelligence gathering

851
00:39:55,369 --> 00:39:56,839
right so

852
00:39:56,839 --> 00:39:59,509
port scanning what files can i grab what

853
00:39:59,509 --> 00:40:01,430
does the lay of the land that sort of

854
00:40:01,430 --> 00:40:01,940
thing

855
00:40:01,940 --> 00:40:05,329
threat modeling so nobody likes to do

856
00:40:05,329 --> 00:40:07,489
but it's pretty important how can I get

857
00:40:07,489 --> 00:40:10,430
into your network how can I do things

858
00:40:10,430 --> 00:40:12,650
and get things done to achieve a desired

859
00:40:12,650 --> 00:40:13,940
result

860
00:40:13,940 --> 00:40:15,920
next is vulnerability analysis so this

861
00:40:15,920 --> 00:40:17,869
is kind of it's your web app vulnerable

862
00:40:17,869 --> 00:40:19,369
to this and if your web app is

863
00:40:19,369 --> 00:40:20,960
vulnerable to this well then how can I

864
00:40:20,960 --> 00:40:22,400
use this to determine other

865
00:40:22,400 --> 00:40:25,700
vulnerability points within your network

866
00:40:25,700 --> 00:40:29,119
infrastructure whatever exploitation and

867
00:40:29,119 --> 00:40:31,400
in post exploitation so how do I exploit

868
00:40:31,400 --> 00:40:33,859
this and then how do I get stuff out for

869
00:40:33,859 --> 00:40:36,469
X so again you're less likely to find

870
00:40:36,469 --> 00:40:37,099
RCE

871
00:40:37,099 --> 00:40:39,049
this is more use for remote and local

872
00:40:39,049 --> 00:40:41,660
file inclusion and fitting into other

873
00:40:41,660 --> 00:40:43,940
systems a way in and learning the lay of

874
00:40:43,940 --> 00:40:46,069
the land so that's really where X X C in

875
00:40:46,069 --> 00:40:49,099
my opinion comes into play however

876
00:40:49,099 --> 00:40:51,950
you're limited in options for exploiting

877
00:40:51,950 --> 00:40:53,719
web apps because you're you're very

878
00:40:53,719 --> 00:40:55,549
limited in a number the type of

879
00:40:55,549 --> 00:41:00,410
protocols you can use FTP DNS pH what

880
00:41:00,410 --> 00:41:02,599
else HTTP right so you're using these

881
00:41:02,599 --> 00:41:04,130
various protocols but you're pretty

882
00:41:04,130 --> 00:41:06,859
limited and you're only limited by what

883
00:41:06,859 --> 00:41:08,719
those protocols will allow you to do but

884
00:41:08,719 --> 00:41:11,869
why can't you take a protocol like PHP

885
00:41:11,869 --> 00:41:15,170
and then encode it in base64 in order to

886
00:41:15,170 --> 00:41:17,479
give you know your ex valid data right

887
00:41:17,479 --> 00:41:19,640
so I'll argue that while you're only

888
00:41:19,640 --> 00:41:22,219
limited with those protocols you are

889
00:41:22,219 --> 00:41:25,700
also limited by your own imagination and

890
00:41:25,700 --> 00:41:27,769
how you can string those together right

891
00:41:27,769 --> 00:41:31,219
so let's taken that a step further right

892
00:41:31,219 --> 00:41:32,900
so for the blue tang people on the rule

893
00:41:32,900 --> 00:41:34,880
in the excuse me of the blue team people

894
00:41:34,880 --> 00:41:37,579
in the room this is the mindset that

895
00:41:37,579 --> 00:41:39,289
your red teamers your adversary

896
00:41:39,289 --> 00:41:42,469
simulators your penetration testers this

897
00:41:42,469 --> 00:41:43,940
should be the mindset that they have

898
00:41:43,940 --> 00:41:47,749
right so next we'll go through the blue

899
00:41:47,749 --> 00:41:50,479
team's eyes right so again two hundred

900
00:41:50,479 --> 00:41:52,190
plus days how can we get that number

901
00:41:52,190 --> 00:41:56,839
down a really good way and this is just

902
00:41:56,839 --> 00:41:59,390
one way is the doodle-loop how many of

903
00:41:59,390 --> 00:42:01,910
you've heard of the OODA loop right so

904
00:42:01,910 --> 00:42:04,219
see a couple of hands right so observe

905
00:42:04,219 --> 00:42:06,589
orient decision make a decision in an

906
00:42:06,589 --> 00:42:09,230
act upon it right so if

907
00:42:09,230 --> 00:42:12,980
scene right so 200 plus days is when you

908
00:42:12,980 --> 00:42:16,580
start to observe right so 200 plus days

909
00:42:16,580 --> 00:42:18,080
you're like oh man I just discovered

910
00:42:18,080 --> 00:42:20,570
this person or this int this entity is

911
00:42:20,570 --> 00:42:23,090
inside my network right so after we cut

912
00:42:23,090 --> 00:42:27,230
it down but until we can act right so do

913
00:42:27,230 --> 00:42:29,810
something and place a safeguard get them

914
00:42:29,810 --> 00:42:32,180
out or not get them out maybe I just

915
00:42:32,180 --> 00:42:34,280
want to contain them a little bit so I

916
00:42:34,280 --> 00:42:36,100
want to learn more about my adversary

917
00:42:36,100 --> 00:42:38,630
what are their TTP's their tactics

918
00:42:38,630 --> 00:42:41,410
techniques and procedures right and then

919
00:42:41,410 --> 00:42:44,390
so from there from this one proof of

920
00:42:44,390 --> 00:42:46,250
concept that I demonstrated today right

921
00:42:46,250 --> 00:42:48,080
I stated the only way you could do it

922
00:42:48,080 --> 00:42:51,050
the only way I could get my data back is

923
00:42:51,050 --> 00:42:53,480
if i encode in my payload right well

924
00:42:53,480 --> 00:42:56,690
that's one so there's a lot of pretty

925
00:42:56,690 --> 00:42:58,790
interesting stuff with base64 encoding

926
00:42:58,790 --> 00:43:02,450
so if I take the letter A and encode

927
00:43:02,450 --> 00:43:05,119
that in base64 and then encode that in

928
00:43:05,119 --> 00:43:07,760
base64 and then code that in base64 and

929
00:43:07,760 --> 00:43:10,490
then code that in base64 let's say 20

930
00:43:10,490 --> 00:43:15,200
times my you know 1 kilobyte 3 kilobyte

931
00:43:15,200 --> 00:43:18,590
file could easily grow to 2000 kilobytes

932
00:43:18,590 --> 00:43:21,230
right and I might not be such a huge

933
00:43:21,230 --> 00:43:23,660
thing but if that's just one letter if I

934
00:43:23,660 --> 00:43:25,910
have an entire file this file might be

935
00:43:25,910 --> 00:43:29,150
one may if I base64 encode that 20 times

936
00:43:29,150 --> 00:43:31,970
10 times 15 times you know my file is

937
00:43:31,970 --> 00:43:34,550
gonna be only exponentially larger right

938
00:43:34,550 --> 00:43:37,820
so now I've got a huge huge thing I now

939
00:43:37,820 --> 00:43:41,050
have to exfil right and hop you skate it

940
00:43:41,050 --> 00:43:44,600
so a longer fixed prefix of this the

941
00:43:44,600 --> 00:43:47,480
size stronger attack detection right so

942
00:43:47,480 --> 00:43:49,550
for your red team members this is where

943
00:43:49,550 --> 00:43:51,410
you start to think and see through the

944
00:43:51,410 --> 00:43:53,119
eyes of your defenders through the eyes

945
00:43:53,119 --> 00:43:55,609
of your sock analyst right this is kind

946
00:43:55,609 --> 00:43:57,920
of their thought process behind it how

947
00:43:57,920 --> 00:43:59,300
can I catch you well it's not only how

948
00:43:59,300 --> 00:44:03,109
can I catch you but what behaviors are

949
00:44:03,109 --> 00:44:05,960
you're doing that got you to this point

950
00:44:05,960 --> 00:44:07,700
so if I'm blind I have no idea I don't

951
00:44:07,700 --> 00:44:09,790
lurk pops up and I got to look at it

952
00:44:09,790 --> 00:44:11,750
typically I'm gonna look at the alert

953
00:44:11,750 --> 00:44:14,060
and then I'm gonna go into slunk or

954
00:44:14,060 --> 00:44:16,130
something or whatever my Cimiez scheme

955
00:44:16,130 --> 00:44:19,160
is and then back it up like ten minutes

956
00:44:19,160 --> 00:44:21,800
five minutes right sometimes 30 minutes

957
00:44:21,800 --> 00:44:22,170
sometimes

958
00:44:22,170 --> 00:44:24,480
our right if I see something consistent

959
00:44:24,480 --> 00:44:26,040
if I see a beacon calling up right so

960
00:44:26,040 --> 00:44:28,080
backing it up and then adding additional

961
00:44:28,080 --> 00:44:32,880
5 10 20 you know in minutes later to

962
00:44:32,880 --> 00:44:34,650
kind of get the picture of what was

963
00:44:34,650 --> 00:44:36,030
happening on this box at this time

964
00:44:36,030 --> 00:44:37,790
accomplice I'm digging it into it right

965
00:44:37,790 --> 00:44:42,390
so here we have your blue team so your

966
00:44:42,390 --> 00:44:44,790
blue team's typical role job is to

967
00:44:44,790 --> 00:44:46,800
obtain situational awareness of your

968
00:44:46,800 --> 00:44:49,440
environment right so there's nothing

969
00:44:49,440 --> 00:44:51,030
worse than a stock analyst sitting on a

970
00:44:51,030 --> 00:44:52,260
network and they have no idea what the

971
00:44:52,260 --> 00:44:54,150
network looks like they have no idea of

972
00:44:54,150 --> 00:44:55,770
what's happening they don't know what

973
00:44:55,770 --> 00:44:58,650
devices are on there how many of you

974
00:44:58,650 --> 00:45:01,470
have heard the story or the the web

975
00:45:01,470 --> 00:45:03,000
server that got plugged into the outlet

976
00:45:03,000 --> 00:45:05,640
or connect it to the Wi-Fi that nobody

977
00:45:05,640 --> 00:45:07,410
knew anything about and another way it

978
00:45:07,410 --> 00:45:08,910
came about is you were doing compliance

979
00:45:08,910 --> 00:45:11,460
or you hire some pin tester to come in

980
00:45:11,460 --> 00:45:13,080
and do it and found that that dusty box

981
00:45:13,080 --> 00:45:15,480
in the server room is actually something

982
00:45:15,480 --> 00:45:17,100
that's been sitting on your network that

983
00:45:17,100 --> 00:45:20,190
used as a 56k modem or something was the

984
00:45:20,190 --> 00:45:22,080
last time you guys saw a 56k modem in an

985
00:45:22,080 --> 00:45:25,440
environment fun fact I saw one two years

986
00:45:25,440 --> 00:45:32,660
ago and it's still there so but again

987
00:45:32,660 --> 00:45:35,820
your your blue team members right your

988
00:45:35,820 --> 00:45:38,910
defenders detect investigate analyze and

989
00:45:38,910 --> 00:45:40,860
mitigate and prevent the threat whatever

990
00:45:40,860 --> 00:45:45,150
the is could be adversaries of a PT

991
00:45:45,150 --> 00:45:48,150
level could be untrained users of your

992
00:45:48,150 --> 00:45:50,430
environment it could be you know infer

993
00:45:50,430 --> 00:45:53,280
things the threat is whatever whatever

994
00:45:53,280 --> 00:45:57,900
it is that could compromise your your

995
00:45:57,900 --> 00:46:00,000
data right your data your people you're

996
00:46:00,000 --> 00:46:01,560
in tech your company your organization's

997
00:46:01,560 --> 00:46:03,720
integrity your integrity whatever right

998
00:46:03,720 --> 00:46:05,610
and lastly is to understand evaluate

999
00:46:05,610 --> 00:46:06,990
mitigate the risk right so that's what

1000
00:46:06,990 --> 00:46:09,330
the stock is there for is really to to

1001
00:46:09,330 --> 00:46:11,910
understand the risk of all these systems

1002
00:46:11,910 --> 00:46:13,380
and what that means

1003
00:46:13,380 --> 00:46:17,280
excuse me evaluate that risk and then

1004
00:46:17,280 --> 00:46:18,150
mitigate that risk

1005
00:46:18,150 --> 00:46:19,680
right so reporting to your business

1006
00:46:19,680 --> 00:46:22,710
leaders hears we really have land here's

1007
00:46:22,710 --> 00:46:24,810
what we're doing here's what we got and

1008
00:46:24,810 --> 00:46:26,580
here's what I can defend against here's

1009
00:46:26,580 --> 00:46:29,370
what I can to against here's what here's

1010
00:46:29,370 --> 00:46:30,900
your risk level before we put these

1011
00:46:30,900 --> 00:46:33,090
effects in place here's your risk level

1012
00:46:33,090 --> 00:46:35,530
afterwards we lowered it or

1013
00:46:35,530 --> 00:46:36,730
we might have lowered it here but we

1014
00:46:36,730 --> 00:46:38,650
hired it here right so that's really

1015
00:46:38,650 --> 00:46:40,540
what your stock leaders are doing your

1016
00:46:40,540 --> 00:46:42,610
analysts are providing that your staff

1017
00:46:42,610 --> 00:46:44,860
within your hunt team really

1018
00:46:44,860 --> 00:46:46,270
your whole stock environment is

1019
00:46:46,270 --> 00:46:48,760
providing that right so for the blue

1020
00:46:48,760 --> 00:46:50,680
team members in the room your red team

1021
00:46:50,680 --> 00:46:53,680
is viewing a problem from adversary or

1022
00:46:53,680 --> 00:46:56,980
competitors perspective again this is

1023
00:46:56,980 --> 00:46:59,320
location of your building this is how

1024
00:46:59,320 --> 00:47:01,180
many people you have your online social

1025
00:47:01,180 --> 00:47:04,810
media presence your just web presence

1026
00:47:04,810 --> 00:47:06,910
what do you have on your website very

1027
00:47:06,910 --> 00:47:09,820
fast sort of thing right next is your

1028
00:47:09,820 --> 00:47:13,200
alternative analysis so for my next

1029
00:47:13,200 --> 00:47:15,700
giveaway which is another blue team

1030
00:47:15,700 --> 00:47:18,940
Handbook who wants to tell me in their

1031
00:47:18,940 --> 00:47:20,470
own words what the turnit of analysis

1032
00:47:20,470 --> 00:47:27,910
mean nobody tell me think about it

1033
00:47:27,910 --> 00:47:31,440
alternative and yeah go for it

1034
00:47:35,680 --> 00:47:40,720
yes yes yes don't get your boat so your

1035
00:47:40,720 --> 00:47:43,720
alternative analysis right so that's

1036
00:47:43,720 --> 00:47:46,060
absolutely it right it's not the

1037
00:47:46,060 --> 00:47:48,670
standard way right so red teaming is

1038
00:47:48,670 --> 00:47:51,520
more again than just ones and zeroes its

1039
00:47:51,520 --> 00:47:53,380
mitigating groupthink right so

1040
00:47:53,380 --> 00:47:54,850
groupthink you get a group of people in

1041
00:47:54,850 --> 00:47:56,260
a room there's just there's countless

1042
00:47:56,260 --> 00:47:58,990
studies but one person says I think this

1043
00:47:58,990 --> 00:48:00,850
is a good idea and everybody looks to

1044
00:48:00,850 --> 00:48:02,920
the boss and the boss says I think this

1045
00:48:02,920 --> 00:48:05,290
is I think that too is a good idea and

1046
00:48:05,290 --> 00:48:06,580
then everybody else in the room is like

1047
00:48:06,580 --> 00:48:11,590
oh yeah you know like Jim is an awesome

1048
00:48:11,590 --> 00:48:13,690
guy he's so smart and then the next day

1049
00:48:13,690 --> 00:48:16,330
Jim goes huh I have another awesome idea

1050
00:48:16,330 --> 00:48:18,820
and he pitches it and then the boss is

1051
00:48:18,820 --> 00:48:20,650
like that is a terrible idea you're an

1052
00:48:20,650 --> 00:48:22,390
idiot what are you doing and everybody

1053
00:48:22,390 --> 00:48:24,160
else in the room is like I'm Shaun and

1054
00:48:24,160 --> 00:48:26,740
Jim yeah I mean cool no more right your

1055
00:48:26,740 --> 00:48:31,210
red team prefers analyzes everything

1056
00:48:31,210 --> 00:48:33,790
that is said everything that is done and

1057
00:48:33,790 --> 00:48:38,770
says questions it does it stand against

1058
00:48:38,770 --> 00:48:42,580
my questioning does it stand against you

1059
00:48:42,580 --> 00:48:46,030
know let this standard way of doing

1060
00:48:46,030 --> 00:48:46,840
things

1061
00:48:46,840 --> 00:48:48,880
does it make sense and is not afraid to

1062
00:48:48,880 --> 00:48:50,470
speak truth to power and sometimes

1063
00:48:50,470 --> 00:48:52,300
that's really hard when you have

1064
00:48:52,300 --> 00:48:54,280
customers when you're trying to explain

1065
00:48:54,280 --> 00:48:56,290
something and you're trying in a very

1066
00:48:56,290 --> 00:48:59,680
nice way to say that your environment is

1067
00:48:59,680 --> 00:49:02,170
not where it should be right and you

1068
00:49:02,170 --> 00:49:03,520
have to do it with senior people in the

1069
00:49:03,520 --> 00:49:05,920
room and then say that in a way of

1070
00:49:05,920 --> 00:49:07,870
you're not your environment isn't what

1071
00:49:07,870 --> 00:49:09,460
it should be but then you point to

1072
00:49:09,460 --> 00:49:13,270
you're not deliberately trying to do so

1073
00:49:13,270 --> 00:49:15,790
but you're saying these guys aren't

1074
00:49:15,790 --> 00:49:18,490
doing you justice or trying to identify

1075
00:49:18,490 --> 00:49:21,220
pitfalls people aren't trained you're

1076
00:49:21,220 --> 00:49:23,140
not trained on this thing right nothing

1077
00:49:23,140 --> 00:49:25,060
against them but they need training on

1078
00:49:25,060 --> 00:49:26,260
this they need awareness to this they

1079
00:49:26,260 --> 00:49:27,790
need to be exposed to these things right

1080
00:49:27,790 --> 00:49:30,460
and then you act as devil's advocate so

1081
00:49:30,460 --> 00:49:34,380
the toll term from my last book this is

1082
00:49:34,380 --> 00:49:39,580
something at I'm a I'll be I'll be very

1083
00:49:39,580 --> 00:49:41,080
surprised that people know the answer to

1084
00:49:41,080 --> 00:49:43,510
but for the last book who wants to tell

1085
00:49:43,510 --> 00:49:47,460
me where the term red teaming came from

1086
00:49:47,460 --> 00:49:50,830
Google is your friend Google with your

1087
00:49:50,830 --> 00:49:57,060
friend go for it

1088
00:50:00,120 --> 00:50:04,090
so yes it is used for red teaming as

1089
00:50:04,090 --> 00:50:06,730
used for them but it dates back so much

1090
00:50:06,730 --> 00:50:07,570
further than that

1091
00:50:07,570 --> 00:50:10,960
like like past medieval time I'm talking

1092
00:50:10,960 --> 00:50:15,820
like 1400 that's another question so

1093
00:50:15,820 --> 00:50:17,800
also another question for the book but

1094
00:50:17,800 --> 00:50:21,700
red teaming came from the idea from the

1095
00:50:21,700 --> 00:50:25,300
Catholic Church that for sainthood for

1096
00:50:25,300 --> 00:50:28,630
people who were put up for for becoming

1097
00:50:28,630 --> 00:50:31,390
a saint by the Catholic Church the

1098
00:50:31,390 --> 00:50:34,900
Catholic Church believed that everybody

1099
00:50:34,900 --> 00:50:37,150
gets a voice in saying whether or not

1100
00:50:37,150 --> 00:50:39,400
this person should become a saint and

1101
00:50:39,400 --> 00:50:41,170
that includes the devil so they would

1102
00:50:41,170 --> 00:50:43,360
pick one person to be the devil's

1103
00:50:43,360 --> 00:50:45,130
advocate right so that's where that term

1104
00:50:45,130 --> 00:50:47,500
comes from devil's advocate she's back

1105
00:50:47,500 --> 00:50:49,660
and question every single thing about

1106
00:50:49,660 --> 00:50:52,030
that person and try and debunk every

1107
00:50:52,030 --> 00:50:55,270
single bit they did this one thing well

1108
00:50:55,270 --> 00:50:56,380
they didn't do that it could have been

1109
00:50:56,380 --> 00:50:57,610
could have been that it could have been

1110
00:50:57,610 --> 00:51:00,430
that right so that's really where the

1111
00:51:00,430 --> 00:51:02,980
term devil's advocate which later red

1112
00:51:02,980 --> 00:51:05,620
teaming came from right so doing a

1113
00:51:05,620 --> 00:51:08,290
problem from an adversary in this case

1114
00:51:08,290 --> 00:51:10,000
in this scenario the Catholic Church did

1115
00:51:10,000 --> 00:51:12,580
was the adversary or the competitors

1116
00:51:12,580 --> 00:51:15,100
perspective right excuse me

1117
00:51:15,100 --> 00:51:16,510
and then lastly we get to the purple

1118
00:51:16,510 --> 00:51:18,910
team right so again this is not a new

1119
00:51:18,910 --> 00:51:22,120
concept but very few companies very few

1120
00:51:22,120 --> 00:51:24,130
organizations are going to grasp this

1121
00:51:24,130 --> 00:51:26,770
right and even in the military I can't

1122
00:51:26,770 --> 00:51:29,320
tell you how many operators don't sit

1123
00:51:29,320 --> 00:51:33,700
next to sake analysts and no idea you

1124
00:51:33,700 --> 00:51:35,200
know the the other side of the spectrum

1125
00:51:35,200 --> 00:51:37,810
in regards to info second that goes for

1126
00:51:37,810 --> 00:51:39,790
the public sector and academia as well

1127
00:51:39,790 --> 00:51:42,490
right so you've got public private and

1128
00:51:42,490 --> 00:51:47,050
then academia they don't know right so

1129
00:51:47,050 --> 00:51:49,270
you have red teamers that totally focus

1130
00:51:49,270 --> 00:51:51,280
on red team engagements and penetration

1131
00:51:51,280 --> 00:51:54,220
testing but they have no idea the

1132
00:51:54,220 --> 00:51:55,300
artifacts that they're leaving behind

1133
00:51:55,300 --> 00:51:58,120
they have no idea the things that

1134
00:51:58,120 --> 00:52:00,010
they're doing then how much how loud

1135
00:52:00,010 --> 00:52:01,780
they are they think they're being super

1136
00:52:01,780 --> 00:52:04,240
stealthy and you're not you're setting

1137
00:52:04,240 --> 00:52:06,910
off you know alarms left and right right

1138
00:52:06,910 --> 00:52:10,360
so if you miss to the concept of a

1139
00:52:10,360 --> 00:52:12,580
purple team demystifies each other's

1140
00:52:12,580 --> 00:52:13,560
operation

1141
00:52:13,560 --> 00:52:15,840
right each other's thought processes

1142
00:52:15,840 --> 00:52:17,460
right so how did the blue team make

1143
00:52:17,460 --> 00:52:18,960
decisions it's not just how do you write

1144
00:52:18,960 --> 00:52:21,330
signatures but how did you get to the

1145
00:52:21,330 --> 00:52:23,220
point to say that I need to write a

1146
00:52:23,220 --> 00:52:27,840
signature for that right so it also

1147
00:52:27,840 --> 00:52:29,670
enhances communication flow between the

1148
00:52:29,670 --> 00:52:32,070
two teams right so when you get your red

1149
00:52:32,070 --> 00:52:33,900
team in and blue team in sometimes

1150
00:52:33,900 --> 00:52:35,910
they're coming in kitten when you first

1151
00:52:35,910 --> 00:52:37,020
start they're kicking and screaming

1152
00:52:37,020 --> 00:52:37,920
because they don't want to sit next to

1153
00:52:37,920 --> 00:52:40,080
each other waste of their time why are

1154
00:52:40,080 --> 00:52:41,580
you putting me with this feud he doesn't

1155
00:52:41,580 --> 00:52:43,470
talk or he or she doesn't talk my

1156
00:52:43,470 --> 00:52:46,170
language playing they don't know but

1157
00:52:46,170 --> 00:52:48,590
when you force people in a room together

1158
00:52:48,590 --> 00:52:51,330
and you say you can't leave until you

1159
00:52:51,330 --> 00:52:54,270
figure it out right eventually they're

1160
00:52:54,270 --> 00:52:55,530
either gonna kill each other or they're

1161
00:52:55,530 --> 00:52:58,650
gonna figure it out right but if you if

1162
00:52:58,650 --> 00:53:00,180
you foster an environment where it's

1163
00:53:00,180 --> 00:53:02,460
okay for your red team member to be like

1164
00:53:02,460 --> 00:53:05,550
I had no idea what you guys do right but

1165
00:53:05,550 --> 00:53:07,260
you get people in there that's like I

1166
00:53:07,260 --> 00:53:08,640
have no idea what you do but I want to

1167
00:53:08,640 --> 00:53:10,530
sit next to you and I want you to show

1168
00:53:10,530 --> 00:53:12,390
me right let's go through that alert

1169
00:53:12,390 --> 00:53:14,760
let's go through your normal process let

1170
00:53:14,760 --> 00:53:15,240
me think

1171
00:53:15,240 --> 00:53:18,300
explain to me your process right and if

1172
00:53:18,300 --> 00:53:19,710
you don't know a process let's go grab

1173
00:53:19,710 --> 00:53:21,360
the guy or a guy or gal who knows or

1174
00:53:21,360 --> 00:53:22,740
let's go grab the policy that states

1175
00:53:22,740 --> 00:53:27,780
right and then on the reverse side blue

1176
00:53:27,780 --> 00:53:29,790
team members again junior analyst if

1177
00:53:29,790 --> 00:53:31,550
you're new to the field right so

1178
00:53:31,550 --> 00:53:33,420
typically one of the very first

1179
00:53:33,420 --> 00:53:36,180
positions regardless red team or blue

1180
00:53:36,180 --> 00:53:38,790
team is typically a junior analyst right

1181
00:53:38,790 --> 00:53:41,280
a junior stock analyst and then after a

1182
00:53:41,280 --> 00:53:42,720
little bit of exposure and experienced

1183
00:53:42,720 --> 00:53:45,270
you that you kind of venture off you

1184
00:53:45,270 --> 00:53:46,470
know you're like oh man I really like

1185
00:53:46,470 --> 00:53:48,000
the attack side I'm gonna go threat

1186
00:53:48,000 --> 00:53:49,800
hunting or let me just make the jump and

1187
00:53:49,800 --> 00:53:52,440
go pure red team right it's not uncommon

1188
00:53:52,440 --> 00:53:54,180
for people to bounce back and forth but

1189
00:53:54,180 --> 00:53:56,700
your your analysts you don't know so if

1190
00:53:56,700 --> 00:53:59,160
they can sit next to somebody who says

1191
00:53:59,160 --> 00:54:01,290
who pulls out their playbook and says

1192
00:54:01,290 --> 00:54:03,780
here's how we do stuff you know I'm not

1193
00:54:03,780 --> 00:54:05,100
gonna give you all the tricks of the

1194
00:54:05,100 --> 00:54:07,110
trade right that I can make you smarter

1195
00:54:07,110 --> 00:54:10,140
and again channeling Dave Kennedy and

1196
00:54:10,140 --> 00:54:13,590
his talk today and the keynote talk most

1197
00:54:13,590 --> 00:54:15,300
of your time as red teamers and

1198
00:54:15,300 --> 00:54:16,650
penetration tester should be researched

1199
00:54:16,650 --> 00:54:18,360
should be reading and learning right so

1200
00:54:18,360 --> 00:54:20,280
you're getting to a deeper level as how

1201
00:54:20,280 --> 00:54:22,140
things operate so from how things

1202
00:54:22,140 --> 00:54:24,690
operate you can convey that wisdom and

1203
00:54:24,690 --> 00:54:26,900
knowledge that took you

1204
00:54:26,900 --> 00:54:29,779
months or years to learn and to this

1205
00:54:29,779 --> 00:54:34,430
someone junior that is you know might

1206
00:54:34,430 --> 00:54:35,960
might take like an hour-long

1207
00:54:35,960 --> 00:54:38,029
conversation but you just took ten years

1208
00:54:38,029 --> 00:54:39,980
of knowledge and condense it to an hour

1209
00:54:39,980 --> 00:54:42,140
and just gave them the answer right and

1210
00:54:42,140 --> 00:54:43,460
not only give them the answer but then

1211
00:54:43,460 --> 00:54:44,750
challenge them a little bit more to go

1212
00:54:44,750 --> 00:54:46,970
dig deeper right so now you've turned a

1213
00:54:46,970 --> 00:54:49,760
situation where two people to order two

1214
00:54:49,760 --> 00:54:51,470
entities within the same organization or

1215
00:54:51,470 --> 00:54:53,119
fighting for each other or fighting

1216
00:54:53,119 --> 00:54:54,799
against each other and now you turn it

1217
00:54:54,799 --> 00:54:57,980
into a mentorship session again putting

1218
00:54:57,980 --> 00:55:01,160
my supervisor hat on right so and in

1219
00:55:01,160 --> 00:55:02,690
each element gains and valuable skills

1220
00:55:02,690 --> 00:55:04,880
and sees behind the curtain and to how

1221
00:55:04,880 --> 00:55:06,470
each other conducts operations right

1222
00:55:06,470 --> 00:55:08,359
which is pretty important right so

1223
00:55:08,359 --> 00:55:10,490
you're not just getting 50% of the

1224
00:55:10,490 --> 00:55:12,589
spectrum imagine if we can only see this

1225
00:55:12,589 --> 00:55:17,089
right this is all we can see and like

1226
00:55:17,089 --> 00:55:19,460
red team I see this I got a half the

1227
00:55:19,460 --> 00:55:20,750
things I got to do this stuff I got to

1228
00:55:20,750 --> 00:55:22,130
give the report here's how you stop me

1229
00:55:22,130 --> 00:55:23,359
Elba blah blah blah I come back six

1230
00:55:23,359 --> 00:55:25,730
months later nothing's fixed right let

1231
00:55:25,730 --> 00:55:27,260
me do it all over again and blue team

1232
00:55:27,260 --> 00:55:29,059
says I got to find the red team I got to

1233
00:55:29,059 --> 00:55:30,260
find the adversary I got to find a

1234
00:55:30,260 --> 00:55:33,079
threat I got to do the stuff and Don's

1235
00:55:33,079 --> 00:55:35,089
signature written implement let's do it

1236
00:55:35,089 --> 00:55:39,559
right so from there you're very narrow

1237
00:55:39,559 --> 00:55:41,750
minded but then if you can pull back the

1238
00:55:41,750 --> 00:55:43,670
blinders you start seeing colors for the

1239
00:55:43,670 --> 00:55:45,890
first time I recently just had PRK done

1240
00:55:45,890 --> 00:55:49,940
like a month ago and moment I got off

1241
00:55:49,940 --> 00:55:54,440
the operating table I was like right

1242
00:55:54,440 --> 00:55:56,809
it's seeing colors for the first time

1243
00:55:56,809 --> 00:55:58,010
and then when you actually get to sit

1244
00:55:58,010 --> 00:56:00,140
next to someone who knows significantly

1245
00:56:00,140 --> 00:56:02,089
more than you and you're like you come

1246
00:56:02,089 --> 00:56:04,069
with that open environment of teach me I

1247
00:56:04,069 --> 00:56:06,740
want to learn share share your knowledge

1248
00:56:06,740 --> 00:56:09,980
with me right a lot can go that those

1249
00:56:09,980 --> 00:56:14,839
barriers leave right so your questions

1250
00:56:14,839 --> 00:56:18,470
you might have any questions for me in a

1251
00:56:18,470 --> 00:56:22,970
long day I talked a lot no water

1252
00:56:22,970 --> 00:56:27,020
cool so that concludes my talk but I

1253
00:56:27,020 --> 00:56:29,300
have one question for you for the last

1254
00:56:29,300 --> 00:56:31,400
book who can tell me what the latest

1255
00:56:31,400 --> 00:56:35,420
version of XML is what's the latest XML

1256
00:56:35,420 --> 00:56:38,690
specification version Google's your

1257
00:56:38,690 --> 00:56:39,050
friend

1258
00:56:39,050 --> 00:56:43,760
I'll wait this time I'm done you know

1259
00:56:43,760 --> 00:56:44,150
sorry

1260
00:56:44,150 --> 00:56:51,310
Oh she'll whisper it to someone

1261
00:56:54,110 --> 00:56:56,120
we can make it awkward I've used the

1262
00:56:56,120 --> 00:56:57,110
high school students all the time I was

1263
00:56:57,110 --> 00:56:58,160
a question that was will look at me and

1264
00:56:58,160 --> 00:57:00,230
I'll be I'll stare at you come a little

1265
00:57:00,230 --> 00:57:03,880
blink first and it's not gonna be me oh

1266
00:57:04,060 --> 00:57:12,970
oh um trying to think of a different one

1267
00:57:13,900 --> 00:57:18,560
so you does anybody have any purple team

1268
00:57:18,560 --> 00:57:21,950
experiences you might have any terrible

1269
00:57:21,950 --> 00:57:30,220
red team experiences yeah let's hear it

1270
00:57:31,270 --> 00:57:34,270
okay

1271
00:57:43,020 --> 00:57:45,590
yeah

1272
00:57:51,300 --> 00:57:54,840
awesome so so you've taken your

1273
00:57:54,840 --> 00:57:56,820
environment you've done your thing but

1274
00:57:56,820 --> 00:57:58,110
then you've done a write-up and then

1275
00:57:58,110 --> 00:57:59,940
you've taken the time afterwards to

1276
00:57:59,940 --> 00:58:03,240
explain that clearly and take technical

1277
00:58:03,240 --> 00:58:04,680
talk and explain it to officers like

1278
00:58:04,680 --> 00:58:06,870
myself who have no idea just you know

1279
00:58:06,870 --> 00:58:13,910
warheads on foreheads yeah

1280
00:58:24,230 --> 00:58:28,070
man that is a solid process and it's you

1281
00:58:28,070 --> 00:58:29,660
know iron sharpens iron I'm a firm

1282
00:58:29,660 --> 00:58:31,820
believer in that so that concludes my

1283
00:58:31,820 --> 00:58:34,490
talk thank you all for coming and here

1284
00:58:34,490 --> 00:58:40,760
is your book awesome oh so the most

1285
00:58:40,760 --> 00:58:44,330
recent xml version is excellent is 1.1

1286
00:58:44,330 --> 00:58:46,820
if you paid attention up here is 1.0

1287
00:58:46,820 --> 00:58:49,760
right but the de facto standard is 1.0

1288
00:58:49,760 --> 00:58:52,869
everybody uses 1.0

