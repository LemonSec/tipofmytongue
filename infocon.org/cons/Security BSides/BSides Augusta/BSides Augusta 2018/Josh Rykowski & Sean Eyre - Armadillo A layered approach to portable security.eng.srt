1
00:00:13,190 --> 00:00:15,150
first off I just want to thank everyone

2
00:00:15,150 --> 00:00:16,199
for meeting here I know you had a lot of

3
00:00:16,199 --> 00:00:17,880
choices this morning across the the four

4
00:00:17,880 --> 00:00:20,850
tracks it's quite an amazing talk lineup

5
00:00:20,850 --> 00:00:22,830
so definitely appreciate you know that

6
00:00:22,830 --> 00:00:24,210
you took the time out to come over and

7
00:00:24,210 --> 00:00:25,789
listen to Sean and I talked this morning

8
00:00:25,789 --> 00:00:28,410
I'll try to razzle-dazzle you like you

9
00:00:28,410 --> 00:00:30,269
heard Sean say already our jokes are

10
00:00:30,269 --> 00:00:32,759
pretty bad but I do see a lot of

11
00:00:32,759 --> 00:00:33,899
friendly faces out there a lot of folks

12
00:00:33,899 --> 00:00:36,390
I recognize so so you know worst case

13
00:00:36,390 --> 00:00:37,800
scenario if we do bomb up here I'll get

14
00:00:37,800 --> 00:00:39,450
the the polite clap like oh yeah go

15
00:00:39,450 --> 00:00:41,129
you're really bad but I'm still clapping

16
00:00:41,129 --> 00:00:43,770
so I get it I understand that so what

17
00:00:43,770 --> 00:00:44,969
we're talking about today well Sean and

18
00:00:44,969 --> 00:00:47,010
I are gonna discuss is what we called

19
00:00:47,010 --> 00:00:49,170
armadillo and is a layered layered

20
00:00:49,170 --> 00:00:52,110
approach to portable security here's

21
00:00:52,110 --> 00:00:53,100
kind of what we're going to talk about

22
00:00:53,100 --> 00:00:55,020
right some sweet agenda moves right here

23
00:00:55,020 --> 00:00:56,820
I'm gonna give you the silhouette right

24
00:00:56,820 --> 00:00:58,890
it's definitely kind of pave up Sean's

25
00:00:58,890 --> 00:01:00,270
gonna talk through the picture of why

26
00:01:00,270 --> 00:01:04,379
this matters and kind of lead into then

27
00:01:04,379 --> 00:01:06,659
the technical portion of it where I'll

28
00:01:06,659 --> 00:01:08,970
cover phase one gathering configuring

29
00:01:08,970 --> 00:01:11,220
testing employment and of course no no

30
00:01:11,220 --> 00:01:12,840
good technical talk is not a not

31
00:01:12,840 --> 00:01:14,850
complete without the requisite future

32
00:01:14,850 --> 00:01:16,500
work associated with it like we're

33
00:01:16,500 --> 00:01:18,630
basically we like to put a positive spin

34
00:01:18,630 --> 00:01:20,189
on things and say hey this is where we

35
00:01:20,189 --> 00:01:21,600
should go but really it's this is what

36
00:01:21,600 --> 00:01:23,220
we wanted to do we fail to get there but

37
00:01:23,220 --> 00:01:25,080
we put a positive positive spin and we

38
00:01:25,080 --> 00:01:27,689
roll with it a little bit about

39
00:01:27,689 --> 00:01:29,970
ourselves again my name is Josh Rakowski

40
00:01:29,970 --> 00:01:31,560
you can see my my Twitter tag up there

41
00:01:31,560 --> 00:01:34,049
at right go to one too you know first

42
00:01:34,049 --> 00:01:35,790
and foremost I'm a husband father of

43
00:01:35,790 --> 00:01:37,680
four I've got my little fan club over

44
00:01:37,680 --> 00:01:39,270
here came to see me talk this morning I

45
00:01:39,270 --> 00:01:42,210
appreciate that I'm a programmer love

46
00:01:42,210 --> 00:01:44,820
all things Python you know I'm one of

47
00:01:44,820 --> 00:01:46,409
the admins on the run code ninja

48
00:01:46,409 --> 00:01:49,049
programming site I also would like what

49
00:01:49,049 --> 00:01:50,430
I like to call a retro technologist

50
00:01:50,430 --> 00:01:51,030
right

51
00:01:51,030 --> 00:01:55,170
I can I like to fix and work on like

52
00:01:55,170 --> 00:01:57,630
1980s technology because nothing nothing

53
00:01:57,630 --> 00:01:59,340
will ever recreate that smell you see or

54
00:01:59,340 --> 00:02:01,350
the smell you have and what you see when

55
00:02:01,350 --> 00:02:03,329
you get in there let's point I'll hand

56
00:02:03,329 --> 00:02:04,020
it off to Sean

57
00:02:04,020 --> 00:02:05,880
all right so Sean are for those who

58
00:02:05,880 --> 00:02:07,649
haven't met me which i think is most of

59
00:02:07,649 --> 00:02:09,780
you so my twitter handle is only 49 if

60
00:02:09,780 --> 00:02:11,008
you're looking for me that's pretty much

61
00:02:11,008 --> 00:02:13,970
any place that you see something like

62
00:02:13,970 --> 00:02:16,670
it's probably me that's not super common

63
00:02:16,670 --> 00:02:18,410
username I am a programming enthusiast I

64
00:02:18,410 --> 00:02:20,600
have somewhat of a CS background it's

65
00:02:20,600 --> 00:02:21,950
been a lot of my time program nowadays

66
00:02:21,950 --> 00:02:23,720
in Python because it's just a quick way

67
00:02:23,720 --> 00:02:25,790
to prototype whatever random thing that

68
00:02:25,790 --> 00:02:28,010
I'm working on at the moment have

69
00:02:28,010 --> 00:02:29,300
somewhat of a background innocent

70
00:02:29,300 --> 00:02:31,220
handling innocent response and then

71
00:02:31,220 --> 00:02:32,390
forensics is something that very

72
00:02:32,390 --> 00:02:33,710
passionate about so if you want to hear

73
00:02:33,710 --> 00:02:35,390
me soapbox on it later like come up be

74
00:02:35,390 --> 00:02:36,920
like forensics doesn't matter and then

75
00:02:36,920 --> 00:02:39,260
we'll fight Olsen is also something I've

76
00:02:39,260 --> 00:02:41,060
been doing since basically the topic

77
00:02:41,060 --> 00:02:43,130
came up when you know many of us were in

78
00:02:43,130 --> 00:02:45,410
high school and and prior you know like

79
00:02:45,410 --> 00:02:47,270
most people I got into that by stalking

80
00:02:47,270 --> 00:02:48,740
my family members on Facebook figure out

81
00:02:48,740 --> 00:02:50,480
how to get access to their accounts when

82
00:02:50,480 --> 00:02:53,380
the security poles were all still there

83
00:02:53,380 --> 00:02:55,430
that's actually what drives a lot of

84
00:02:55,430 --> 00:02:56,810
like my Python projects is I'll be

85
00:02:56,810 --> 00:02:58,400
working on some research project be like

86
00:02:58,400 --> 00:02:59,780
I could automate this instead of like

87
00:02:59,780 --> 00:03:01,610
doing this fifty thousand times in a row

88
00:03:01,610 --> 00:03:04,160
so that's that Runner reader play a lot

89
00:03:04,160 --> 00:03:06,050
of board games a lot of card games like

90
00:03:06,050 --> 00:03:07,610
real ones not monopoly and stuff and

91
00:03:07,610 --> 00:03:09,260
then like to be outside which I know

92
00:03:09,260 --> 00:03:10,760
it's terrible for a for a computer

93
00:03:10,760 --> 00:03:14,030
person disclaimer at the bottom anything

94
00:03:14,030 --> 00:03:16,630
we say does not reflect our employer

95
00:03:16,630 --> 00:03:18,860
yeah our employer doesn't really care

96
00:03:18,860 --> 00:03:20,600
about this project either so good enough

97
00:03:20,600 --> 00:03:23,260
all right next slide please

98
00:03:23,260 --> 00:03:25,730
alright so thank you Alex I'm glad you

99
00:03:25,730 --> 00:03:29,150
care if at any point we start

100
00:03:29,150 --> 00:03:30,260
floundering we're just gonna pass this

101
00:03:30,260 --> 00:03:31,820
off to random co-workers of arson

102
00:03:31,820 --> 00:03:33,890
definitely so why why do we care why did

103
00:03:33,890 --> 00:03:36,440
we build armadillo so this is a great

104
00:03:36,440 --> 00:03:37,940
time to stop and tell the story of how

105
00:03:37,940 --> 00:03:39,170
we were working out a completely

106
00:03:39,170 --> 00:03:41,810
different projects and grinding away at

107
00:03:41,810 --> 00:03:43,459
it and then like one of us looks up from

108
00:03:43,459 --> 00:03:45,739
laptop is like hey what if we you know

109
00:03:45,739 --> 00:03:48,980
bought this how expensive $10 a little

110
00:03:48,980 --> 00:03:52,790
two-port router and turned it into like

111
00:03:52,790 --> 00:03:54,950
a portable security solution and we

112
00:03:54,950 --> 00:03:55,880
start brainstorming this course

113
00:03:55,880 --> 00:03:57,530
completely derail the research project

114
00:03:57,530 --> 00:03:59,030
for the day and then we're like hey we

115
00:03:59,030 --> 00:04:00,350
can do this at b-sides and like help

116
00:04:00,350 --> 00:04:01,580
other people learn how to do this kind

117
00:04:01,580 --> 00:04:03,440
of stuff and then talking on a life of

118
00:04:03,440 --> 00:04:04,640
its own and this is what we call the

119
00:04:04,640 --> 00:04:06,830
good idea ferry and scope creep and all

120
00:04:06,830 --> 00:04:09,800
these other stuff so the problem that we

121
00:04:09,800 --> 00:04:12,020
took at solving I'm actually gonna do

122
00:04:12,020 --> 00:04:13,430
this slide in kind of a jump around

123
00:04:13,430 --> 00:04:16,100
order first and foremost convenience if

124
00:04:16,100 --> 00:04:17,600
you've ever gone out on like an incident

125
00:04:17,600 --> 00:04:19,070
response or something and wished you had

126
00:04:19,070 --> 00:04:21,320
your home PlayBook with you because you

127
00:04:21,320 --> 00:04:22,700
didn't print it out and then suddenly

128
00:04:22,700 --> 00:04:24,050
you don't have the internet access that

129
00:04:24,050 --> 00:04:26,390
you thought you did this project is for

130
00:04:26,390 --> 00:04:27,950
you because you probably

131
00:04:27,950 --> 00:04:29,570
heard people like Carlos Perez and other

132
00:04:29,570 --> 00:04:31,370
guys out there be like I just downloaded

133
00:04:31,370 --> 00:04:33,380
my github onto my Raspberry Pi and take

134
00:04:33,380 --> 00:04:35,270
it with me and I always have my my

135
00:04:35,270 --> 00:04:37,310
playbook with me so one of the first

136
00:04:37,310 --> 00:04:38,990
things we said is what could we do to

137
00:04:38,990 --> 00:04:40,550
like take our raspberry pies with us

138
00:04:40,550 --> 00:04:43,130
always be able to address it in the same

139
00:04:43,130 --> 00:04:45,050
way so that I don't have to like scan

140
00:04:45,050 --> 00:04:46,220
the network that I want to be like where

141
00:04:46,220 --> 00:04:47,750
did I plug my pie into like is it

142
00:04:47,750 --> 00:04:49,490
connected directly to the hotel Wi-Fi to

143
00:04:49,490 --> 00:04:51,230
get hacked because I didn't enable I see

144
00:04:51,230 --> 00:04:53,390
tables or something and know where my

145
00:04:53,390 --> 00:04:54,980
network service is that I depend on at

146
00:04:54,980 --> 00:04:57,080
home or with me when I'm traveling so

147
00:04:57,080 --> 00:04:58,760
that was the first thing a convenience

148
00:04:58,760 --> 00:05:01,040
factor and then a availability factor

149
00:05:01,040 --> 00:05:02,570
for the services you want to take with

150
00:05:02,570 --> 00:05:04,610
you the other thing is hotel Wi-Fi

151
00:05:04,610 --> 00:05:07,100
nowadays is more and more the Wild West

152
00:05:07,100 --> 00:05:09,050
like it's always been but it's getting

153
00:05:09,050 --> 00:05:11,450
worse and here's here's why hotels are

154
00:05:11,450 --> 00:05:13,370
moving away from you first it was no

155
00:05:13,370 --> 00:05:15,050
encryption then we go into WEP and like

156
00:05:15,050 --> 00:05:16,700
WEP is terrible right it's basically not

157
00:05:16,700 --> 00:05:18,170
encryption and then we finally get a

158
00:05:18,170 --> 00:05:19,550
bunch of people using wpa2 you were like

159
00:05:19,550 --> 00:05:21,700
yes encryption they're like mmm

160
00:05:21,700 --> 00:05:23,960
availability we're gonna get rid of

161
00:05:23,960 --> 00:05:25,910
encryption entirely and go to captive

162
00:05:25,910 --> 00:05:27,920
portals which there's a lot of reason to

163
00:05:27,920 --> 00:05:29,180
say that captive portal is actually

164
00:05:29,180 --> 00:05:31,340
weaken your security and aren't a

165
00:05:31,340 --> 00:05:33,620
security feature whatsoever it's

166
00:05:33,620 --> 00:05:35,570
somewhat of an availability control but

167
00:05:35,570 --> 00:05:36,920
they're easily bypassed and whatnot

168
00:05:36,920 --> 00:05:39,020
well well hit on that really briefly but

169
00:05:39,020 --> 00:05:43,460
that's not the topic of this talk but we

170
00:05:43,460 --> 00:05:44,750
had we did do some research to figure

171
00:05:44,750 --> 00:05:46,700
out like some of the techniques that are

172
00:05:46,700 --> 00:05:47,630
out there but that's not what we're

173
00:05:47,630 --> 00:05:50,060
talking about so hotel Wi-Fi is it's

174
00:05:50,060 --> 00:05:51,890
notoriously unsecure and it's

175
00:05:51,890 --> 00:05:54,290
notoriously unmanage is basically a home

176
00:05:54,290 --> 00:05:57,350
Wi-Fi router it's been like propagated

177
00:05:57,350 --> 00:05:58,760
through it you know several floors of a

178
00:05:58,760 --> 00:06:00,320
building kind of thing that's a little

179
00:06:00,320 --> 00:06:01,940
bit reductive but it's also not that

180
00:06:01,940 --> 00:06:03,680
inaccurate and then it turns into a

181
00:06:03,680 --> 00:06:05,000
target-rich environment which actually

182
00:06:05,000 --> 00:06:06,620
talked about a little bit more but when

183
00:06:06,620 --> 00:06:08,570
you're on a hotel Wi-Fi like you were a

184
00:06:08,570 --> 00:06:09,830
lot of us are hackers in here or

185
00:06:09,830 --> 00:06:11,660
defenders in here like have you ever

186
00:06:11,660 --> 00:06:14,210
gone to hotel Wi-Fi just been like I'll

187
00:06:14,210 --> 00:06:16,460
just scan it see what's there right like

188
00:06:16,460 --> 00:06:19,760
that's a really really common threat

189
00:06:19,760 --> 00:06:21,560
case or these kind of environments that

190
00:06:21,560 --> 00:06:23,090
you read or I'm connected to this

191
00:06:23,090 --> 00:06:26,570
Starbucks Wi-Fi or whatever McDonald's

192
00:06:26,570 --> 00:06:28,040
and like someone's in the corner just

193
00:06:28,040 --> 00:06:29,180
like I'm gonna see what mischief I can

194
00:06:29,180 --> 00:06:30,770
get into so we've got like the script

195
00:06:30,770 --> 00:06:32,090
Kitty threat and then we've also got the

196
00:06:32,090 --> 00:06:33,830
apt level threat and we will actually

197
00:06:33,830 --> 00:06:36,170
justify that statement here in a second

198
00:06:36,170 --> 00:06:37,010
next slide please

199
00:06:37,010 --> 00:06:41,540
is your threat model actually Russia

200
00:06:41,540 --> 00:06:44,060
well in a hotel it very well might be by

201
00:06:44,060 --> 00:06:46,400
our product $5.00 all right

202
00:06:46,400 --> 00:06:49,100
so recently this has been really popular

203
00:06:49,100 --> 00:06:51,530
in the news the Russians got caught by

204
00:06:51,530 --> 00:06:54,110
us Intel and Dutch intelliwhite on this

205
00:06:54,110 --> 00:06:55,340
and a bunch of other people reported on

206
00:06:55,340 --> 00:06:57,380
this October 4th was the last report

207
00:06:57,380 --> 00:06:58,880
that I actually read like in the news

208
00:06:58,880 --> 00:07:00,710
from Wired you remember the two Russian

209
00:07:00,710 --> 00:07:02,540
guys that have the car full of like tech

210
00:07:02,540 --> 00:07:04,640
gear and then roll up to a hotel and

211
00:07:04,640 --> 00:07:06,650
they've got you know out of band comms

212
00:07:06,650 --> 00:07:08,540
in there with GSM antennas they've got

213
00:07:08,540 --> 00:07:10,580
GPS stuff they've got a small portable

214
00:07:10,580 --> 00:07:12,200
server and then they've got all their

215
00:07:12,200 --> 00:07:14,480
Wi-Fi access gear so they could interact

216
00:07:14,480 --> 00:07:16,310
with the Wi-Fi itself and then either

217
00:07:16,310 --> 00:07:19,040
crack the perimeter directly or log into

218
00:07:19,040 --> 00:07:20,600
it because it's like captive portal

219
00:07:20,600 --> 00:07:22,940
Smith in room 350 right and then they've

220
00:07:22,940 --> 00:07:24,290
got access to the network and they do

221
00:07:24,290 --> 00:07:26,060
whatever they want with those tools and

222
00:07:26,060 --> 00:07:27,820
they can immediately do information

223
00:07:27,820 --> 00:07:30,530
gathering use that server to deploy

224
00:07:30,530 --> 00:07:32,390
tools or they can use the GSM to do

225
00:07:32,390 --> 00:07:34,940
out-of-band deck exploration completely

226
00:07:34,940 --> 00:07:37,460
nullify any security that that hotel may

227
00:07:37,460 --> 00:07:39,320
have had and they've been according to

228
00:07:39,320 --> 00:07:41,570
Wired been doing this all over Eastern

229
00:07:41,570 --> 00:07:44,150
Europe any target that a PT 28 is

230
00:07:44,150 --> 00:07:46,460
interested in they have these guys go

231
00:07:46,460 --> 00:07:48,680
park outside of the hotel or maybe a

232
00:07:48,680 --> 00:07:49,730
couple blocks away with their little

233
00:07:49,730 --> 00:07:50,240
cantenna

234
00:07:50,240 --> 00:07:51,950
crack open the Wi-Fi and do whatever

235
00:07:51,950 --> 00:07:54,170
they want want to it

236
00:07:54,170 --> 00:07:56,990
they've also apt 28 specifically have

237
00:07:56,990 --> 00:07:58,550
been fishing customers pretending to be

238
00:07:58,550 --> 00:08:00,290
booking going back as at least as far as

239
00:08:00,290 --> 00:08:03,440
2014 so like they've been taking

240
00:08:03,440 --> 00:08:06,530
advantage of the trust of hotels and

241
00:08:06,530 --> 00:08:08,780
hotel booking services for a long time

242
00:08:08,780 --> 00:08:10,940
so the way the booking fish actually

243
00:08:10,940 --> 00:08:12,200
works as they clone the booking website

244
00:08:12,200 --> 00:08:15,080
booking com and then they just spam

245
00:08:15,080 --> 00:08:16,250
people like there's a problem with your

246
00:08:16,250 --> 00:08:18,020
reservation you happen to have a

247
00:08:18,020 --> 00:08:20,720
reservation and you click on or maybe 28

248
00:08:20,720 --> 00:08:22,970
actually popped booking got the customer

249
00:08:22,970 --> 00:08:24,800
list and did in more targeted fashion we

250
00:08:24,800 --> 00:08:27,620
don't really know from what's reported

251
00:08:27,620 --> 00:08:31,270
in the news there so there's this

252
00:08:31,270 --> 00:08:33,169
deliberate interest in getting into

253
00:08:33,169 --> 00:08:34,729
customers who travel and then we get

254
00:08:34,729 --> 00:08:36,559
into what they've been doing this really

255
00:08:36,559 --> 00:08:39,580
really fascinating as early as at least

256
00:08:39,580 --> 00:08:42,380
2016 if not prior they've been

257
00:08:42,380 --> 00:08:45,460
deliberately targeting hotel networks

258
00:08:45,460 --> 00:08:48,470
once they crack them open they infect

259
00:08:48,470 --> 00:08:50,270
them and then they go and actually

260
00:08:50,270 --> 00:08:53,840
target usually diplomatic targets that

261
00:08:53,840 --> 00:08:54,550
are

262
00:08:54,550 --> 00:08:56,880
staying at that hotel so how that looks

263
00:08:56,880 --> 00:08:59,410
since it evolved in 2017 with the

264
00:08:59,410 --> 00:09:01,540
emergence of eternal blue is they drop

265
00:09:01,540 --> 00:09:03,040
onto the network with fishing so they

266
00:09:03,040 --> 00:09:06,070
actually send it to the hotel admin you

267
00:09:06,070 --> 00:09:07,330
know person the front desk is like

268
00:09:07,330 --> 00:09:08,800
what's this PDF what's this excel sheet

269
00:09:08,800 --> 00:09:11,080
with the d de Otto in it they open it up

270
00:09:11,080 --> 00:09:13,240
and then now that they've hooked inside

271
00:09:13,240 --> 00:09:14,680
the network they then smash-and-grab

272
00:09:14,680 --> 00:09:16,690
with eternal blue is the TTB that

273
00:09:16,690 --> 00:09:18,070
emerged after want to cry you made it

274
00:09:18,070 --> 00:09:19,690
really popular and then they go and

275
00:09:19,690 --> 00:09:21,490
affect the network with responder other

276
00:09:21,490 --> 00:09:22,780
things they're doing when they're on it

277
00:09:22,780 --> 00:09:24,520
they're installing malware and hosting

278
00:09:24,520 --> 00:09:25,810
it and then they're also doing silent

279
00:09:25,810 --> 00:09:29,140
credential harvesting why please one of

280
00:09:29,140 --> 00:09:30,310
one of the ways they do that is

281
00:09:30,310 --> 00:09:31,990
basically putting a man in the middle at

282
00:09:31,990 --> 00:09:34,390
the gateway and then you you'll see that

283
00:09:34,390 --> 00:09:35,920
you know unless you're using a site that

284
00:09:35,920 --> 00:09:37,480
does cert pinning it's completely

285
00:09:37,480 --> 00:09:40,120
invisible to the regular user if you are

286
00:09:40,120 --> 00:09:42,010
using cert pinning on a site let's say

287
00:09:42,010 --> 00:09:43,720
you're going to Google or whatnot then

288
00:09:43,720 --> 00:09:46,420
whatever your institutional training

289
00:09:46,420 --> 00:09:47,920
kicks in you say well I'm trying to get

290
00:09:47,920 --> 00:09:50,050
to my own like intranet site and I'm

291
00:09:50,050 --> 00:09:51,520
used to clicking through the security

292
00:09:51,520 --> 00:09:53,050
warnings so I'm just gonna go there

293
00:09:53,050 --> 00:09:55,950
anyways right and then you get fished so

294
00:09:55,950 --> 00:09:58,930
where this where this takes us wired has

295
00:09:58,930 --> 00:10:00,730
said that basically if you want to be

296
00:10:00,730 --> 00:10:03,100
safe on hotel Wi-Fi don't use it bring

297
00:10:03,100 --> 00:10:05,350
your own hotspot the FTC has said the

298
00:10:05,350 --> 00:10:06,760
same thing that basically hosts a Wi-Fi

299
00:10:06,760 --> 00:10:08,920
is unsafe the FF has made a lot of

300
00:10:08,920 --> 00:10:10,660
similar argument see FF is actually

301
00:10:10,660 --> 00:10:12,760
really adamant that secure that captive

302
00:10:12,760 --> 00:10:14,500
portals are not the way to go because

303
00:10:14,500 --> 00:10:16,750
they completely destroy security and

304
00:10:16,750 --> 00:10:18,520
then finally we just call out that dark

305
00:10:18,520 --> 00:10:22,000
hotel which is probably apt 28 has been

306
00:10:22,000 --> 00:10:23,080
doing this stuff for a really long time

307
00:10:23,080 --> 00:10:24,760
that does a Better Business Bureau

308
00:10:24,760 --> 00:10:26,410
report is pretty decent and the wired

309
00:10:26,410 --> 00:10:29,680
ones are pretty solid too next slide

310
00:10:29,680 --> 00:10:30,600
please

311
00:10:30,600 --> 00:10:33,160
so this gets into what is our little

312
00:10:33,160 --> 00:10:35,560
stack do and what does it not do well

313
00:10:35,560 --> 00:10:38,680
unfortunately we did not set out to beat

314
00:10:38,680 --> 00:10:40,960
apts when we built this so what it does

315
00:10:40,960 --> 00:10:44,110
it does prevent your devices from being

316
00:10:44,110 --> 00:10:45,490
scanned because you put a firewall that

317
00:10:45,490 --> 00:10:48,190
denies any any inbound right which means

318
00:10:48,190 --> 00:10:50,980
it beats NSA eternal blue right well

319
00:10:50,980 --> 00:10:52,660
allegedly NSA but it doesn't necessarily

320
00:10:52,660 --> 00:10:55,270
beat a p228 save you 28 on your hotel is

321
00:10:55,270 --> 00:10:56,740
doing a man of the middle it goes into

322
00:10:56,740 --> 00:10:58,150
the second blow we don't stop man in the

323
00:10:58,150 --> 00:11:00,040
middle stuff we don't stop your traffic

324
00:11:00,040 --> 00:11:01,330
from being sniffed because you're still

325
00:11:01,330 --> 00:11:03,190
communicating with the Internet but

326
00:11:03,190 --> 00:11:04,390
there are ways we get upgrade this

327
00:11:04,390 --> 00:11:06,100
project to do that such as a VPN

328
00:11:06,100 --> 00:11:07,960
connection at the edge which the open

329
00:11:07,960 --> 00:11:08,400
word on

330
00:11:08,400 --> 00:11:10,500
Router actually would support or you

331
00:11:10,500 --> 00:11:11,670
could do some sort of filtering where it

332
00:11:11,670 --> 00:11:13,140
doesn't allow you to actually leave your

333
00:11:13,140 --> 00:11:14,580
own trusted Enclave unless you're on

334
00:11:14,580 --> 00:11:17,130
HTTPS or some similar secure protocol

335
00:11:17,130 --> 00:11:19,050
and you could also put some software on

336
00:11:19,050 --> 00:11:20,610
the edge that would force you into those

337
00:11:20,610 --> 00:11:27,330
tunnels as well all right Sean so now

338
00:11:27,330 --> 00:11:29,730
that Sean is a completely dark in the

339
00:11:29,730 --> 00:11:30,900
room with the doom and gloom and

340
00:11:30,900 --> 00:11:32,520
everyone's thinking oh my goodness

341
00:11:32,520 --> 00:11:34,140
how bad is it out there I'm gonna go

342
00:11:34,140 --> 00:11:35,100
ahead and pick up the ball and run with

343
00:11:35,100 --> 00:11:36,420
thanks for the set of John I appreciate

344
00:11:36,420 --> 00:11:38,100
it I was gonna hate you and love me it's

345
00:11:38,100 --> 00:11:39,660
perfect it works out right now we're

346
00:11:39,660 --> 00:11:41,550
doing bad cop bad cop yeah I know right

347
00:11:41,550 --> 00:11:43,440
so so phase zero right so at this point

348
00:11:43,440 --> 00:11:44,700
I'm gonna start talking through the

349
00:11:44,700 --> 00:11:46,110
process of you wanted to build one of

350
00:11:46,110 --> 00:11:48,660
these stacks how you'd go about it so up

351
00:11:48,660 --> 00:11:50,430
here just to highlight how small this is

352
00:11:50,430 --> 00:11:52,800
I've got the you know an entire stack

353
00:11:52,800 --> 00:11:55,410
built right here all the way from the

354
00:11:55,410 --> 00:11:57,420
power supply on my right to the actual

355
00:11:57,420 --> 00:11:59,670
router switch and Raspberry Pi so it's

356
00:11:59,670 --> 00:12:02,400
tiny fits in your bag very quick very

357
00:12:02,400 --> 00:12:04,740
easy to put together so a phase zero for

358
00:12:04,740 --> 00:12:06,660
us ended up being just the the gathering

359
00:12:06,660 --> 00:12:08,310
of equipment right so we identified hey

360
00:12:08,310 --> 00:12:10,590
we needed some way to to connect to the

361
00:12:10,590 --> 00:12:14,010
Wi-Fi in the hotel in a fashion that we

362
00:12:14,010 --> 00:12:15,480
can also provide some stand off for our

363
00:12:15,480 --> 00:12:17,310
devices behind it so what we did is we

364
00:12:17,310 --> 00:12:18,870
were looking out there and we tried to

365
00:12:18,870 --> 00:12:21,960
find the smallest router that we could

366
00:12:21,960 --> 00:12:23,580
and so here a little bit of a little bit

367
00:12:23,580 --> 00:12:25,170
of a scale so these are the actual Wi-Fi

368
00:12:25,170 --> 00:12:28,110
routers here to take a look at that the

369
00:12:28,110 --> 00:12:29,820
cost we figured out we're about sixteen

370
00:12:29,820 --> 00:12:31,650
dollars depending on where you source

371
00:12:31,650 --> 00:12:34,620
them from now I will say this what's it

372
00:12:34,620 --> 00:12:36,840
yeah well so yeah that definitely I

373
00:12:36,840 --> 00:12:39,060
definitely go to aliexpress.com whatever

374
00:12:39,060 --> 00:12:42,300
to order them however that being said we

375
00:12:42,300 --> 00:12:44,280
didn't use the the original firmware on

376
00:12:44,280 --> 00:12:45,930
there right because if you get it it's a

377
00:12:45,930 --> 00:12:47,730
very bland firmware kind of hard to use

378
00:12:47,730 --> 00:12:50,220
so how many people in here are familiar

379
00:12:50,220 --> 00:12:53,760
with dd-wrt all right enough so the next

380
00:12:53,760 --> 00:12:54,660
couple of slides I'll start talking

381
00:12:54,660 --> 00:12:55,710
about that a little bit for those you

382
00:12:55,710 --> 00:12:56,550
don't know I'll try to give a little

383
00:12:56,550 --> 00:12:58,320
background so you understand what that

384
00:12:58,320 --> 00:12:58,950
actually is

385
00:12:58,950 --> 00:13:01,290
so the actually Wi-Fi router about $16

386
00:13:01,290 --> 00:13:02,970
per router and it provides that that

387
00:13:02,970 --> 00:13:04,650
client connection and also the security

388
00:13:04,650 --> 00:13:06,000
aspect because we can apply some

389
00:13:06,000 --> 00:13:08,670
iptables rules to the router - like what

390
00:13:08,670 --> 00:13:10,470
Sean said do that kind of a deny any any

391
00:13:10,470 --> 00:13:12,630
inbound and and also if you wanted to

392
00:13:12,630 --> 00:13:13,890
add custom rules to it you have that

393
00:13:13,890 --> 00:13:14,340
ability

394
00:13:14,340 --> 00:13:16,260
the next is okay now that we've got the

395
00:13:16,260 --> 00:13:17,850
connection to the Wi-Fi how do I

396
00:13:17,850 --> 00:13:19,830
distribute that out to my clients or my

397
00:13:19,830 --> 00:13:21,900
devices and so we look for

398
00:13:21,900 --> 00:13:23,640
you know just Google you know small five

399
00:13:23,640 --> 00:13:26,580
ports which and just like with a router

400
00:13:26,580 --> 00:13:28,920
it brought me back to Aliexpress

401
00:13:28,920 --> 00:13:30,870
but I found a dye of five ports which

402
00:13:30,870 --> 00:13:33,210
about $9 per switch so this is the

403
00:13:33,210 --> 00:13:35,160
network distribution five ports on it

404
00:13:35,160 --> 00:13:36,600
and really when it's when it's all said

405
00:13:36,600 --> 00:13:37,890
and done and you can you get it set up

406
00:13:37,890 --> 00:13:39,690
in this fashion you've got three usable

407
00:13:39,690 --> 00:13:41,130
ports because one port is used to

408
00:13:41,130 --> 00:13:43,920
connect to the router itself and another

409
00:13:43,920 --> 00:13:46,080
port is connected to the PI on the

410
00:13:46,080 --> 00:13:48,480
bottom and so you get three usable ports

411
00:13:48,480 --> 00:13:49,710
out of it

412
00:13:49,710 --> 00:13:52,470
and then finally a Raspberry Pi to round

413
00:13:52,470 --> 00:13:54,180
out the the stack now this is kind of an

414
00:13:54,180 --> 00:13:56,040
optional piece right for this to be a

415
00:13:56,040 --> 00:13:57,450
security stack you don't need the

416
00:13:57,450 --> 00:13:58,440
Raspberry Pi on there

417
00:13:58,440 --> 00:14:01,560
however we added it on and we kind of

418
00:14:01,560 --> 00:14:02,910
recommend that because it allows you to

419
00:14:02,910 --> 00:14:04,980
basically clone or download or have

420
00:14:04,980 --> 00:14:06,840
anything anything that you would be

421
00:14:06,840 --> 00:14:08,280
local that you don't want to pull across

422
00:14:08,280 --> 00:14:10,110
the internet right so if you like what

423
00:14:10,110 --> 00:14:11,760
Sean said earlier with the incident

424
00:14:11,760 --> 00:14:13,530
response you know maybe I don't have

425
00:14:13,530 --> 00:14:14,940
internet access so if I have a local

426
00:14:14,940 --> 00:14:17,010
repo I can go and pull from that or if

427
00:14:17,010 --> 00:14:18,270
it's something where I don't I don't

428
00:14:18,270 --> 00:14:19,500
want to tip my hand and start pulling

429
00:14:19,500 --> 00:14:22,200
some of my own tools over the network it

430
00:14:22,200 --> 00:14:24,870
allows us to do a local repository next

431
00:14:24,870 --> 00:14:26,870
slide please

432
00:14:26,870 --> 00:14:30,000
all right this results in this really

433
00:14:30,000 --> 00:14:32,400
super complicated network diagram so

434
00:14:32,400 --> 00:14:33,960
what we've actually implemented is all

435
00:14:33,960 --> 00:14:35,400
but two of the devices on here so at the

436
00:14:35,400 --> 00:14:36,420
very top level you have a router

437
00:14:36,420 --> 00:14:38,670
firewall because the DD word is actually

438
00:14:38,670 --> 00:14:40,110
letting us run the firewall IP

439
00:14:40,110 --> 00:14:42,150
tablespace firewall there's a GUI to

440
00:14:42,150 --> 00:14:43,920
interact with it but you could also for

441
00:14:43,920 --> 00:14:45,060
your advanced rules you have to actually

442
00:14:45,060 --> 00:14:46,320
go in and under state I have two table

443
00:14:46,320 --> 00:14:49,680
syntax then we have the layer two dumb

444
00:14:49,680 --> 00:14:52,860
switch your file server down at your

445
00:14:52,860 --> 00:14:55,080
bottom left and then you know obviously

446
00:14:55,080 --> 00:14:56,520
your laptop is plugged into it in the

447
00:14:56,520 --> 00:14:57,900
middle the two things we wanted to call

448
00:14:57,900 --> 00:14:59,940
it so you can expand it as we put on

449
00:14:59,940 --> 00:15:01,710
this board we have the two next routers

450
00:15:01,710 --> 00:15:04,610
here and again this is just for scale

451
00:15:04,610 --> 00:15:07,410
that second next router can be put into

452
00:15:07,410 --> 00:15:10,740
a Wi-Fi access point mode instead of a

453
00:15:10,740 --> 00:15:12,570
client mode and then if you set up your

454
00:15:12,570 --> 00:15:15,810
IP scheme correctly you can still access

455
00:15:15,810 --> 00:15:18,570
the services on the PI so while we

456
00:15:18,570 --> 00:15:20,610
didn't prove it in this this particular

457
00:15:20,610 --> 00:15:22,790
stack would make it a little bit bigger

458
00:15:22,790 --> 00:15:25,380
you can definitely like connect your

459
00:15:25,380 --> 00:15:27,120
hotel Wi-Fi and then host your own Wi-Fi

460
00:15:27,120 --> 00:15:28,770
for all of your devices so if you need

461
00:15:28,770 --> 00:15:30,180
to share the services you need more than

462
00:15:30,180 --> 00:15:31,940
three ports available you can do that

463
00:15:31,940 --> 00:15:34,380
finally we wanted to call out like this

464
00:15:34,380 --> 00:15:35,880
layer to squish is not simple

465
00:15:35,880 --> 00:15:39,690
it but if you upgrade it to a really

466
00:15:39,690 --> 00:15:41,310
simple smart switch which I have a link

467
00:15:41,310 --> 00:15:43,110
sees one at home it's it's much bigger

468
00:15:43,110 --> 00:15:45,630
and it can't be powered over USB but

469
00:15:45,630 --> 00:15:48,150
it's I can do port mirroring on it so if

470
00:15:48,150 --> 00:15:50,220
I wanted to install any sort of network

471
00:15:50,220 --> 00:15:52,140
security monitor and upgrade switch and

472
00:15:52,140 --> 00:15:54,030
then I plug in another PI in rustboro on

473
00:15:54,030 --> 00:15:56,880
it which we proved works obviously your

474
00:15:56,880 --> 00:15:58,350
main constraint there is going to be the

475
00:15:58,350 --> 00:15:59,910
amount of storage that you have and the

476
00:15:59,910 --> 00:16:01,050
way that you want to interact with that

477
00:16:01,050 --> 00:16:03,000
and like an intelligent way so you can

478
00:16:03,000 --> 00:16:04,770
actually pull value out of the data that

479
00:16:04,770 --> 00:16:10,740
you're collecting all right and so like

480
00:16:10,740 --> 00:16:13,650
I've already pointed out up here you

481
00:16:13,650 --> 00:16:14,880
know just the finished product I mean

482
00:16:14,880 --> 00:16:16,200
it's time you fits in the palm of your

483
00:16:16,200 --> 00:16:18,300
hand it's very easy to go and throw in

484
00:16:18,300 --> 00:16:20,220
your luggage once you have it built and

485
00:16:20,220 --> 00:16:22,080
if you notice this is just a simple

486
00:16:22,080 --> 00:16:24,210
powered USB hub right here so everything

487
00:16:24,210 --> 00:16:25,920
that I have in this stack does not need

488
00:16:25,920 --> 00:16:28,440
its own wall board so the the the router

489
00:16:28,440 --> 00:16:30,030
and the switch itself pulls about a half

490
00:16:30,030 --> 00:16:31,530
amp each so that you can easily plug

491
00:16:31,530 --> 00:16:34,350
those in USB to your computer in a pinch

492
00:16:34,350 --> 00:16:35,580
now the PI that's a little harder you

493
00:16:35,580 --> 00:16:37,140
know the Buddha process you know gets

494
00:16:37,140 --> 00:16:40,230
about 2 2.5 amps however it's easy to

495
00:16:40,230 --> 00:16:42,390
make it to find power if you leave your

496
00:16:42,390 --> 00:16:44,820
power brick at home next slide please

497
00:16:44,820 --> 00:16:46,980
all right then we went on to configuring

498
00:16:46,980 --> 00:16:48,660
all the things right so now that we went

499
00:16:48,660 --> 00:16:50,520
ahead and bought everything had a big

500
00:16:50,520 --> 00:16:52,980
pile you know UPS was my fan at that

501
00:16:52,980 --> 00:16:53,820
point because he kept on delivering

502
00:16:53,820 --> 00:16:56,130
packages and I got him so what we

503
00:16:56,130 --> 00:16:57,860
started with with this particular

504
00:16:57,860 --> 00:17:00,510
configuration is we took the router and

505
00:17:00,510 --> 00:17:03,360
like I said the the existing firmware on

506
00:17:03,360 --> 00:17:06,390
that any excess or any xx router was I

507
00:17:06,390 --> 00:17:07,530
won't say it was horrible but it was

508
00:17:07,530 --> 00:17:09,959
definitely clunky wasn't a pleasure

509
00:17:09,959 --> 00:17:12,000
pleasure to work with so what we did is

510
00:17:12,000 --> 00:17:14,510
we went ahead and downloaded open wrt

511
00:17:14,510 --> 00:17:16,920
and went head and flash to the device

512
00:17:16,920 --> 00:17:19,349
the good news is there's an existing

513
00:17:19,349 --> 00:17:21,240
binary to do that you can go ahead and

514
00:17:21,240 --> 00:17:23,609
go find that that binary out there just

515
00:17:23,609 --> 00:17:25,260
in fact if you just go to the uddi BRT

516
00:17:25,260 --> 00:17:27,420
site you can download that now a little

517
00:17:27,420 --> 00:17:28,980
bit of background information so for

518
00:17:28,980 --> 00:17:30,930
those of you unfamiliar with dd-wrt it's

519
00:17:30,930 --> 00:17:33,000
essentially a custom firmware for

520
00:17:33,000 --> 00:17:35,100
routers that gives gives essentially the

521
00:17:35,100 --> 00:17:37,710
user back a lot of the power and a lot

522
00:17:37,710 --> 00:17:39,750
of the the ability to configure anything

523
00:17:39,750 --> 00:17:41,970
you want on it if you've never dealt

524
00:17:41,970 --> 00:17:44,400
with DV that wrt before it is complex

525
00:17:44,400 --> 00:17:46,980
sometimes it is overwhelming um the good

526
00:17:46,980 --> 00:17:49,420
news is once you flash this router

527
00:17:49,420 --> 00:17:51,730
dd-wrt you really don't have to

528
00:17:51,730 --> 00:17:53,440
configure much more if you don't want to

529
00:17:53,440 --> 00:17:55,300
you it works once you get it flash to

530
00:17:55,300 --> 00:17:58,090
boots right up and really the only thing

531
00:17:58,090 --> 00:17:59,050
you have to do is go in there and apply

532
00:17:59,050 --> 00:18:01,120
a password to protect the actual admin

533
00:18:01,120 --> 00:18:04,570
page so once we got the the actual

534
00:18:04,570 --> 00:18:06,820
firmware flashed on to the router itself

535
00:18:06,820 --> 00:18:08,320
went through the process of configuring

536
00:18:08,320 --> 00:18:10,420
like the configuration is as simple as

537
00:18:10,420 --> 00:18:12,310
just applying a password now if you

538
00:18:12,310 --> 00:18:15,130
wanted to go in and you know go a little

539
00:18:15,130 --> 00:18:16,990
deeper than that you can go ahead and

540
00:18:16,990 --> 00:18:18,880
set some of your static IP assignments

541
00:18:18,880 --> 00:18:19,690
so you know you're gonna have certain

542
00:18:19,690 --> 00:18:21,070
devices like say for instance you've got

543
00:18:21,070 --> 00:18:22,720
your Raspberry Pi there and you want to

544
00:18:22,720 --> 00:18:24,100
be able to access that file share on the

545
00:18:24,100 --> 00:18:25,650
Raspberry Pi you're going to have that

546
00:18:25,650 --> 00:18:28,180
that go in static IP assignment in there

547
00:18:28,180 --> 00:18:30,880
and then finally if needed kind of which

548
00:18:30,880 --> 00:18:32,560
honor I talked about earlier is you can

549
00:18:32,560 --> 00:18:34,150
go and update the IP tables rules now

550
00:18:34,150 --> 00:18:36,040
who here has actually done IP tables

551
00:18:36,040 --> 00:18:39,670
rules updates I've got a few who enjoys

552
00:18:39,670 --> 00:18:43,000
updating IP tables rules yes I got one

553
00:18:43,000 --> 00:18:44,590
take her in the back fantastic the rest

554
00:18:44,590 --> 00:18:46,000
of us we've looked at it and we

555
00:18:46,000 --> 00:18:48,580
essentially hit the keyboard 8,000 times

556
00:18:48,580 --> 00:18:50,260
until it works right because you never

557
00:18:50,260 --> 00:18:51,400
get it right the first time you just

558
00:18:51,400 --> 00:18:52,990
keep slapping the keyboard the good news

559
00:18:52,990 --> 00:18:55,810
about dd-wrt is you can update the IP

560
00:18:55,810 --> 00:18:57,280
tables rules from the website

561
00:18:57,280 --> 00:18:58,960
configuration right so you don't have to

562
00:18:58,960 --> 00:19:00,610
actually go to the command line and do

563
00:19:00,610 --> 00:19:01,840
that you can actually have your rules

564
00:19:01,840 --> 00:19:03,100
and just apply them in a little nice

565
00:19:03,100 --> 00:19:04,990
little text box in the configuration

566
00:19:04,990 --> 00:19:06,490
page for the router and then have it

567
00:19:06,490 --> 00:19:08,080
update for that so it makes it a little

568
00:19:08,080 --> 00:19:10,690
easier to get after as far as

569
00:19:10,690 --> 00:19:11,890
configuring the switch it was really

570
00:19:11,890 --> 00:19:13,720
nothing right just turn I plug the power

571
00:19:13,720 --> 00:19:16,390
in make the ethernet connections and it

572
00:19:16,390 --> 00:19:17,530
just works again it's a it's an

573
00:19:17,530 --> 00:19:19,600
unmanaged switch the dumb switch it just

574
00:19:19,600 --> 00:19:21,760
passes all traffic and then finally for

575
00:19:21,760 --> 00:19:23,590
the PI again with the optional piece of

576
00:19:23,590 --> 00:19:25,660
the security stack it really depends on

577
00:19:25,660 --> 00:19:26,950
what you're trying to do with it at the

578
00:19:26,950 --> 00:19:28,000
point you just need to install the

579
00:19:28,000 --> 00:19:29,950
packages you want to have available to

580
00:19:29,950 --> 00:19:32,740
you local github repo a Plex server file

581
00:19:32,740 --> 00:19:34,720
server or anything like that you just

582
00:19:34,720 --> 00:19:36,130
need to go and pull down and do that in

583
00:19:36,130 --> 00:19:37,240
part of this as part of this

584
00:19:37,240 --> 00:19:41,410
configuration phase X line please all

585
00:19:41,410 --> 00:19:44,110
right the firewall right so so you've

586
00:19:44,110 --> 00:19:45,310
look up there there's one little bullet

587
00:19:45,310 --> 00:19:46,990
that jumps out it's red why do you think

588
00:19:46,990 --> 00:19:50,320
I put that red yeah I see a few people

589
00:19:50,320 --> 00:19:53,260
chuckling it's a lesson learned for us

590
00:19:53,260 --> 00:19:54,550
right so it's one of those things and

591
00:19:54,550 --> 00:19:56,860
chanson attest to this yeah so what I

592
00:19:56,860 --> 00:19:59,020
did and this is actually how we learned

593
00:19:59,020 --> 00:20:00,730
that for sure that if we factory reset

594
00:20:00,730 --> 00:20:02,020
the device we wouldn't wipe the new

595
00:20:02,020 --> 00:20:02,950
firmware because

596
00:20:02,950 --> 00:20:05,080
we had to factory reset it I put that

597
00:20:05,080 --> 00:20:06,880
first bullet rule in because I was like

598
00:20:06,880 --> 00:20:08,320
I'm gonna secure this firewall right and

599
00:20:08,320 --> 00:20:10,360
I didn't specify that it was the way in

600
00:20:10,360 --> 00:20:11,980
port that I was talking about there so I

601
00:20:11,980 --> 00:20:13,570
locked us out of the entire device in

602
00:20:13,570 --> 00:20:15,640
the middle of working on it one day so

603
00:20:15,640 --> 00:20:17,410
yeah if you deny everything coming into

604
00:20:17,410 --> 00:20:19,390
the device you can't even talk you can

605
00:20:19,390 --> 00:20:22,230
SSH into it you can't talk to the HTTP

606
00:20:22,230 --> 00:20:25,390
client or start daemon at all so instead

607
00:20:25,390 --> 00:20:27,100
what you want to do it actually puts a

608
00:20:27,100 --> 00:20:30,190
specific new IP tables chain in for you

609
00:20:30,190 --> 00:20:33,070
to interface with just the win so you

610
00:20:33,070 --> 00:20:34,990
want to go in and go to just that spot

611
00:20:34,990 --> 00:20:37,570
and drop everything coming in different

612
00:20:37,570 --> 00:20:39,640
philosophical discussions on whether or

613
00:20:39,640 --> 00:20:41,500
not you want to drop or reset etc I

614
00:20:41,500 --> 00:20:43,660
actually am of the camp that you should

615
00:20:43,660 --> 00:20:46,210
drop because then nothing is nothing is

616
00:20:46,210 --> 00:20:48,700
there as opposed to a filtered port is

617
00:20:48,700 --> 00:20:50,650
there so that's what I would recommend

618
00:20:50,650 --> 00:20:53,860
to do that you also in the GUI on the

619
00:20:53,860 --> 00:20:55,390
tab next to where you can actually type

620
00:20:55,390 --> 00:20:57,250
in the IP tables rules there's a whole

621
00:20:57,250 --> 00:20:58,750
like checklist of stuff that's on by

622
00:20:58,750 --> 00:21:00,910
default and you actually they're all

623
00:21:00,910 --> 00:21:02,830
like allow rules go into there if you

624
00:21:02,830 --> 00:21:04,390
decide to do this uncheck all of them

625
00:21:04,390 --> 00:21:06,870
except for what allows you to connect to

626
00:21:06,870 --> 00:21:08,950
the network that's performing your

627
00:21:08,950 --> 00:21:11,050
backbone function and allowed that

628
00:21:11,050 --> 00:21:12,790
network to assign you DHCP and that's

629
00:21:12,790 --> 00:21:15,150
that's all you really need to get going

630
00:21:15,150 --> 00:21:17,740
thanks John yeah so just again it's one

631
00:21:17,740 --> 00:21:18,820
of those things where you know if you're

632
00:21:18,820 --> 00:21:20,320
knee-deep in the research and your work

633
00:21:20,320 --> 00:21:21,460
you're cruising right along and you've

634
00:21:21,460 --> 00:21:22,360
got a lot of momentum and all of a

635
00:21:22,360 --> 00:21:24,160
sudden you're like hey why is my my

636
00:21:24,160 --> 00:21:25,810
console not responding anymore stuff

637
00:21:25,810 --> 00:21:27,280
happens you know well Billy first to say

638
00:21:27,280 --> 00:21:28,600
that you know trial by error works best

639
00:21:28,600 --> 00:21:30,430
because you learn not to do that again

640
00:21:30,430 --> 00:21:32,830
however the lesson the the true lesson

641
00:21:32,830 --> 00:21:34,600
we got out of this is once you flash the

642
00:21:34,600 --> 00:21:37,090
firmware onto that router if you do a

643
00:21:37,090 --> 00:21:38,500
factory reset on the router it just

644
00:21:38,500 --> 00:21:40,720
factory resets the dd-wrt it doesn't it

645
00:21:40,720 --> 00:21:42,040
doesn't try to pull the old firmware it

646
00:21:42,040 --> 00:21:43,060
doesn't do anything like that and so

647
00:21:43,060 --> 00:21:44,890
you're able to just go back to a fresh

648
00:21:44,890 --> 00:21:46,960
install of dd-wrt so again nice little

649
00:21:46,960 --> 00:21:50,850
lesson learned in this in this kind of a

650
00:21:50,850 --> 00:21:52,540
the piece we're doing with the

651
00:21:52,540 --> 00:21:54,160
configuration and finally at the bottom

652
00:21:54,160 --> 00:21:56,770
to explain a little more on that so some

653
00:21:56,770 --> 00:21:57,760
of you are probably looking at us like

654
00:21:57,760 --> 00:21:59,140
you flash the firmware of course

655
00:21:59,140 --> 00:22:00,910
whenever you reset the device it's going

656
00:22:00,910 --> 00:22:03,190
to go back to that the reason we were

657
00:22:03,190 --> 00:22:04,720
concerned about it with this device is

658
00:22:04,720 --> 00:22:07,720
the next router actually has a small bit

659
00:22:07,720 --> 00:22:10,200
of memory of writable memory that is

660
00:22:10,200 --> 00:22:14,140
static and on the the chip and that is

661
00:22:14,140 --> 00:22:16,570
advertised as basically the

662
00:22:16,570 --> 00:22:18,850
way to not accidentally lock yourself

663
00:22:18,850 --> 00:22:21,039
out by putting on faulty firmware so

664
00:22:21,039 --> 00:22:23,559
essentially it's Nexus persistence on

665
00:22:23,559 --> 00:22:26,049
their that they can use to restore their

666
00:22:26,049 --> 00:22:27,820
original firmware so we were concerned

667
00:22:27,820 --> 00:22:30,039
that if we had to do a complete reset it

668
00:22:30,039 --> 00:22:31,450
would actually go all the way back to

669
00:22:31,450 --> 00:22:33,220
that stored memory which we've done no

670
00:22:33,220 --> 00:22:34,480
forensics to see whether or not that's

671
00:22:34,480 --> 00:22:35,740
doing anything malicious so that's on

672
00:22:35,740 --> 00:22:39,669
you if you trust it go for it but we did

673
00:22:39,669 --> 00:22:41,620
end up testing that on an accident and

674
00:22:41,620 --> 00:22:43,000
that's actually like first time I could

675
00:22:43,000 --> 00:22:45,549
say use a lockpick to crack into a you

676
00:22:45,549 --> 00:22:47,470
know a router because it's the smallest

677
00:22:47,470 --> 00:22:49,120
device we had to push the pin say oh

678
00:22:49,120 --> 00:22:52,269
there we go and then just to just a

679
00:22:52,269 --> 00:22:53,649
close-up live right here you know at the

680
00:22:53,649 --> 00:22:55,330
end though you can you have the ability

681
00:22:55,330 --> 00:22:57,220
to add iptables rules to suit so

682
00:22:57,220 --> 00:22:58,600
whatever your environment is whatever

683
00:22:58,600 --> 00:23:01,419
you are hosting um you know locally you

684
00:23:01,419 --> 00:23:03,700
can go and add those rules to it as you

685
00:23:03,700 --> 00:23:05,500
see fit and like I said with the dd-wrt

686
00:23:05,500 --> 00:23:07,389
configuration page it makes applying

687
00:23:07,389 --> 00:23:09,220
iptables rules easy it's literally a

688
00:23:09,220 --> 00:23:11,289
little text box you you throw the rule

689
00:23:11,289 --> 00:23:13,179
in there you apply it you know it does a

690
00:23:13,179 --> 00:23:14,950
quick soft reboot of the device and then

691
00:23:14,950 --> 00:23:16,690
it applies it allows you to do some some

692
00:23:16,690 --> 00:23:17,740
checking configuration it's not the

693
00:23:17,740 --> 00:23:19,210
command-line and you can you do have

694
00:23:19,210 --> 00:23:20,470
access to the command-line if you want

695
00:23:20,470 --> 00:23:22,419
to however this makes it a little easier

696
00:23:22,419 --> 00:23:24,940
and a little more approachable next side

697
00:23:24,940 --> 00:23:27,370
please all right testing right so this

698
00:23:27,370 --> 00:23:29,620
at this point you know you can say it's

699
00:23:29,620 --> 00:23:31,179
safe you can safe secure all you want

700
00:23:31,179 --> 00:23:34,259
but without any sort of actual testing

701
00:23:34,259 --> 00:23:37,000
you don't know it works and so at this

702
00:23:37,000 --> 00:23:38,679
stage you want to go ahead and conduct

703
00:23:38,679 --> 00:23:40,570
robust testing prior to use you want to

704
00:23:40,570 --> 00:23:42,039
make sure that that the things you're

705
00:23:42,039 --> 00:23:43,809
blocking can't get through you want to

706
00:23:43,809 --> 00:23:44,830
make sure the things you're hosting

707
00:23:44,830 --> 00:23:46,779
internally can actually still function

708
00:23:46,779 --> 00:23:47,950
right if they're still cause if they

709
00:23:47,950 --> 00:23:49,090
still need to get to the client device

710
00:23:49,090 --> 00:23:50,679
you need to make sure those iptables

711
00:23:50,679 --> 00:23:52,450
rules aren't blocking anything

712
00:23:52,450 --> 00:23:54,879
internally as well so like I said you

713
00:23:54,879 --> 00:23:56,169
want to start with your connection a

714
00:23:56,169 --> 00:23:57,549
validate that you can pass traffic

715
00:23:57,549 --> 00:23:58,960
validate you know kind of what John and

716
00:23:58,960 --> 00:24:00,549
I did on the fly make sure you can still

717
00:24:00,549 --> 00:24:02,500
you know push traffic in and out on the

718
00:24:02,500 --> 00:24:05,110
on the the periphery of device second is

719
00:24:05,110 --> 00:24:06,309
anyone to validate or check those

720
00:24:06,309 --> 00:24:07,899
internal connections you want to make

721
00:24:07,899 --> 00:24:09,460
sure that all the PI services can be

722
00:24:09,460 --> 00:24:10,840
reached you want to make sure that the

723
00:24:10,840 --> 00:24:12,399
client that you connect to the switch

724
00:24:12,399 --> 00:24:14,320
can go and reach those services and back

725
00:24:14,320 --> 00:24:16,179
and forth and then finally security

726
00:24:16,179 --> 00:24:17,889
testing I mention that already but you

727
00:24:17,889 --> 00:24:19,120
want to test your IP tables rules you

728
00:24:19,120 --> 00:24:20,409
want to validate that they work you want

729
00:24:20,409 --> 00:24:21,940
to make sure they're doing exactly what

730
00:24:21,940 --> 00:24:23,590
you think they're doing because I don't

731
00:24:23,590 --> 00:24:24,909
know about you but sometimes you know IP

732
00:24:24,909 --> 00:24:26,830
tables is a tribal error I think it's

733
00:24:26,830 --> 00:24:28,720
doing this well let me validate oh no

734
00:24:28,720 --> 00:24:29,920
wait it's not okay because I've

735
00:24:29,920 --> 00:24:31,930
either you know flush them before that

736
00:24:31,930 --> 00:24:32,980
dumped everything out so it's not

737
00:24:32,980 --> 00:24:34,480
chaining properly there's a clot in

738
00:24:34,480 --> 00:24:36,010
there but just make sure you know

739
00:24:36,010 --> 00:24:39,370
basically there should be a script or

740
00:24:39,370 --> 00:24:41,530
something like I said a screen shot just

741
00:24:41,530 --> 00:24:43,240
make sure you can easily script this out

742
00:24:43,240 --> 00:24:44,620
to go ahead and test that and that way

743
00:24:44,620 --> 00:24:46,450
you can just have a quick little fire

744
00:24:46,450 --> 00:24:49,120
and forget for the test as you produce

745
00:24:49,120 --> 00:24:51,100
this or as you build these for your own

746
00:24:51,100 --> 00:24:53,430
use next slide please

747
00:24:53,430 --> 00:24:55,390
finally employment right so at this

748
00:24:55,390 --> 00:24:56,650
point at this phase you've done all the

749
00:24:56,650 --> 00:24:59,020
fun stuff of ordering it getting in you

750
00:24:59,020 --> 00:25:00,640
know putting together configuring

751
00:25:00,640 --> 00:25:02,560
everything now it's employment you know

752
00:25:02,560 --> 00:25:05,350
connecting to a network it's simple with

753
00:25:05,350 --> 00:25:08,320
the dd-wrt firmware on the router but

754
00:25:08,320 --> 00:25:09,940
it's still a process because you have to

755
00:25:09,940 --> 00:25:11,110
go into the device you've got to dig

756
00:25:11,110 --> 00:25:12,820
through the menu like I said if you've

757
00:25:12,820 --> 00:25:15,550
never worked with GWT before it is kind

758
00:25:15,550 --> 00:25:17,020
of overwhelming but once you find it you

759
00:25:17,020 --> 00:25:19,240
can simply put the the router into a

760
00:25:19,240 --> 00:25:21,100
client mode and tell us to connect to a

761
00:25:21,100 --> 00:25:24,330
wireless network as a client itself and

762
00:25:24,330 --> 00:25:27,130
then once it's connected if it's any

763
00:25:27,130 --> 00:25:29,620
sort of a captive portal you know the

764
00:25:29,620 --> 00:25:30,970
minute you connect the client to the

765
00:25:30,970 --> 00:25:32,590
switch you are then redirected that

766
00:25:32,590 --> 00:25:34,500
captive portal so if you need to still

767
00:25:34,500 --> 00:25:37,530
sign through that you have that ability

768
00:25:37,530 --> 00:25:40,000
next is making sure that the network

769
00:25:40,000 --> 00:25:41,920
services are completed configured to

770
00:25:41,920 --> 00:25:43,330
start at boot right this is really more

771
00:25:43,330 --> 00:25:45,430
of configuration of the pyrite plex

772
00:25:45,430 --> 00:25:47,140
server file server whatever your

773
00:25:47,140 --> 00:25:49,450
imagination is but really the key that

774
00:25:49,450 --> 00:25:50,440
we're looking out for these network

775
00:25:50,440 --> 00:25:52,330
services internal is anything you want

776
00:25:52,330 --> 00:25:53,710
locally that you don't want to pull over

777
00:25:53,710 --> 00:25:55,840
the internet either you know sensitive

778
00:25:55,840 --> 00:25:57,490
files or things that may tip your hand

779
00:25:57,490 --> 00:25:59,620
or tools that may you know be caught in

780
00:25:59,620 --> 00:26:02,230
any sort of you know firewall or whatnot

781
00:26:02,230 --> 00:26:04,090
you know just anything you want to host

782
00:26:04,090 --> 00:26:06,040
locally goes there and use your

783
00:26:06,040 --> 00:26:08,550
imagination for that looks like please

784
00:26:08,550 --> 00:26:10,960
I'm gonna hand off to Sean for the the

785
00:26:10,960 --> 00:26:12,820
future work piece all right future work

786
00:26:12,820 --> 00:26:14,590
you have no project is complete without

787
00:26:14,590 --> 00:26:16,390
recognizing what you didn't do so

788
00:26:16,390 --> 00:26:19,090
putting a VPN of some kind on the edge

789
00:26:19,090 --> 00:26:21,970
is a great way to step this project

790
00:26:21,970 --> 00:26:23,320
forward and make it where you're immune

791
00:26:23,320 --> 00:26:24,790
to sniffing whenever you're on whatever

792
00:26:24,790 --> 00:26:27,550
dirty internet that you're on the thing

793
00:26:27,550 --> 00:26:28,960
to keep in mind was something like that

794
00:26:28,960 --> 00:26:30,460
though is you're transferring the trust

795
00:26:30,460 --> 00:26:32,170
so if you've never thought through the

796
00:26:32,170 --> 00:26:33,940
trust problem of him I trust the hotel

797
00:26:33,940 --> 00:26:36,730
Wi-Fi or am i trusting a VPN provider

798
00:26:36,730 --> 00:26:37,780
you want to make sure that you pick a

799
00:26:37,780 --> 00:26:40,210
VPN provider one that lets you install a

800
00:26:40,210 --> 00:26:42,700
cert on a router and doesn't limit you

801
00:26:42,700 --> 00:26:43,160
just

802
00:26:43,160 --> 00:26:46,250
client devices but two is is trustworthy

803
00:26:46,250 --> 00:26:48,110
not to intercept your traffic and to

804
00:26:48,110 --> 00:26:49,730
sell that off to people that you don't

805
00:26:49,730 --> 00:26:51,860
want to have your data the answer to

806
00:26:51,860 --> 00:26:53,990
that question to just go into a privacy

807
00:26:53,990 --> 00:26:56,180
soapbox for like two seconds is on you

808
00:26:56,180 --> 00:26:57,680
to figure out who do you want to have

809
00:26:57,680 --> 00:26:59,360
your data and why or who do you not want

810
00:26:59,360 --> 00:27:00,890
to have your data and why and that will

811
00:27:00,890 --> 00:27:02,090
guide you into who you want to use this

812
00:27:02,090 --> 00:27:04,250
VPN provider I personally use P ia

813
00:27:04,250 --> 00:27:06,320
because it meets my personal needs

814
00:27:06,320 --> 00:27:08,480
private Wi-Fi so you can throw the

815
00:27:08,480 --> 00:27:10,970
second X on there configure it as a

816
00:27:10,970 --> 00:27:13,760
Wi-Fi hotspot instead of as a client and

817
00:27:13,760 --> 00:27:16,400
then you just need to basically like we

818
00:27:16,400 --> 00:27:18,290
said earlier make sure that your IP the

819
00:27:18,290 --> 00:27:20,000
scheme is correct and it is routing

820
00:27:20,000 --> 00:27:21,620
correctly by default they will use the

821
00:27:21,620 --> 00:27:23,840
same IP scheme and then it will not work

822
00:27:23,840 --> 00:27:26,570
for you to go across one router into the

823
00:27:26,570 --> 00:27:29,810
identical other network basically and

824
00:27:29,810 --> 00:27:31,340
then get over to your PI so you need to

825
00:27:31,340 --> 00:27:32,930
make sure that you set it up because it

826
00:27:32,930 --> 00:27:34,910
is performing as a router and not as a

827
00:27:34,910 --> 00:27:36,710
switch when it's in that mode and then

828
00:27:36,710 --> 00:27:37,640
finally if you want to build that

829
00:27:37,640 --> 00:27:38,990
internal network security monitoring

830
00:27:38,990 --> 00:27:41,030
it's a matter of upgrading a little bit

831
00:27:41,030 --> 00:27:43,010
of the infrastructure which means you're

832
00:27:43,010 --> 00:27:44,510
gonna have to change your power scheme a

833
00:27:44,510 --> 00:27:47,390
little bit but then once that's done its

834
00:27:47,390 --> 00:27:49,100
what do you want to do and how small do

835
00:27:49,100 --> 00:27:51,080
you want to try to keep it in order to

836
00:27:51,080 --> 00:27:54,699
to watch what's going on at your level

837
00:27:56,110 --> 00:27:58,460
all right so this point I mean we've

838
00:27:58,460 --> 00:27:59,540
talked about everything we wanted to

839
00:27:59,540 --> 00:28:02,420
talk about with you we do have the link

840
00:28:02,420 --> 00:28:03,530
up there now it's still work-in-progress

841
00:28:03,530 --> 00:28:05,570
we plan on hanging our testing scripts

842
00:28:05,570 --> 00:28:07,490
on there we plan on on posting our

843
00:28:07,490 --> 00:28:08,810
configurations and everything we've done

844
00:28:08,810 --> 00:28:11,240
so far to that link so if we also have

845
00:28:11,240 --> 00:28:13,520
links to purchase the different pieces

846
00:28:13,520 --> 00:28:15,260
of this configuration so if you wanted

847
00:28:15,260 --> 00:28:16,850
to go ahead and build one yourself you

848
00:28:16,850 --> 00:28:17,750
know hit that up you know give us

849
00:28:17,750 --> 00:28:19,280
another day or two to kind of tidy it up

850
00:28:19,280 --> 00:28:20,870
though you'll get a gist of it when you

851
00:28:20,870 --> 00:28:22,040
go there right now but again there's

852
00:28:22,040 --> 00:28:24,230
still a few more things we want to fill

853
00:28:24,230 --> 00:28:25,760
it out with so at this point I just want

854
00:28:25,760 --> 00:28:27,260
to open up the floor for any questions

855
00:28:27,260 --> 00:28:28,430
you may have for anything we've talked

856
00:28:28,430 --> 00:28:30,050
about between the actual silhouette with

857
00:28:30,050 --> 00:28:31,790
a threat modeling all the way to our

858
00:28:31,790 --> 00:28:37,700
actual implementation of this device yes

859
00:28:37,700 --> 00:28:39,820
sir

860
00:28:40,399 --> 00:28:42,720
so right now we don't have any NSM

861
00:28:42,720 --> 00:28:44,669
installed but the proof-of-concept I did

862
00:28:44,669 --> 00:28:46,559
actually on my home network was running

863
00:28:46,559 --> 00:28:48,919
bro and that was it

864
00:28:48,919 --> 00:28:50,909
obviously bro doesn't really have a GUI

865
00:28:50,909 --> 00:28:53,970
so if you don't want to use bro cut or

866
00:28:53,970 --> 00:28:55,230
awk and said and all that stuff you've

867
00:28:55,230 --> 00:28:56,669
got to do something on top of that and

868
00:28:56,669 --> 00:29:00,269
you start pushing the pies computational

869
00:29:00,269 --> 00:29:01,769
power like if you want to run Splunk on

870
00:29:01,769 --> 00:29:02,639
it or something like that

871
00:29:02,639 --> 00:29:06,960
but too easy to set up bro on it I'm

872
00:29:06,960 --> 00:29:08,899
pretty sure it's not secured youngin but

873
00:29:08,899 --> 00:29:10,919
snort would work if you wanted to as

874
00:29:10,919 --> 00:29:11,700
well sericata

875
00:29:11,700 --> 00:29:13,620
all your really simple solutions that

876
00:29:13,620 --> 00:29:15,389
can run off a net sniff ng or something

877
00:29:15,389 --> 00:29:19,260
similar should work sagen yes

878
00:29:19,260 --> 00:29:23,549
three B plus when you're thinking about

879
00:29:23,549 --> 00:29:25,169
that NSM piece you know and you think

880
00:29:25,169 --> 00:29:26,639
about how the pie is relatively low

881
00:29:26,639 --> 00:29:28,679
power for something like I'm thinkin

882
00:29:28,679 --> 00:29:32,279
ever thanks out there Pathak that much

883
00:29:32,279 --> 00:29:35,700
traffic and so uh you know I think I'm

884
00:29:35,700 --> 00:29:38,010
thinking to be it fair fairly well for

885
00:29:38,010 --> 00:29:39,899
the the scope that we're looking at for

886
00:29:39,899 --> 00:29:41,370
this there that does bring up a good

887
00:29:41,370 --> 00:29:46,080
point though the nicks on the when necks

888
00:29:46,080 --> 00:29:47,850
on these end up more or less limiting

889
00:29:47,850 --> 00:29:51,450
you to if you go over Wi-Fi it's a 100

890
00:29:51,450 --> 00:29:53,850
megabits per second your pi is limited

891
00:29:53,850 --> 00:29:55,320
to that as well because of the way that

892
00:29:55,320 --> 00:29:57,570
it connects the note the Knicks to the

893
00:29:57,570 --> 00:29:59,190
the rest of it basically runs over the

894
00:29:59,190 --> 00:30:03,059
USB hub so if you do it for this or for

895
00:30:03,059 --> 00:30:04,590
a similar project you want to use a PI

896
00:30:04,590 --> 00:30:06,809
as an end of some monitoring device of

897
00:30:06,809 --> 00:30:10,260
some kind you cannot expect to not drop

898
00:30:10,260 --> 00:30:12,330
packets unless your network is you know

899
00:30:12,330 --> 00:30:14,429
there are lower for home use probably

900
00:30:14,429 --> 00:30:16,289
going to be okay especially around here

901
00:30:16,289 --> 00:30:17,940
where Wiles like you get 60 megabits

902
00:30:17,940 --> 00:30:21,360
yeah but for anything bigger it's it's

903
00:30:21,360 --> 00:30:24,090
gonna you're gonna need to cluster

904
00:30:24,090 --> 00:30:25,590
instead of just running one now for this

905
00:30:25,590 --> 00:30:27,330
little device yeah it's gonna get the

906
00:30:27,330 --> 00:30:29,450
job done

907
00:30:29,450 --> 00:30:32,450
yes

908
00:30:36,610 --> 00:30:39,520
you could and there are projects out

909
00:30:39,520 --> 00:30:40,540
there that have proved that that's

910
00:30:40,540 --> 00:30:42,070
possible to use the pie as the

911
00:30:42,070 --> 00:30:44,830
pass-through device we chose to put more

912
00:30:44,830 --> 00:30:46,960
standoff between where the services are

913
00:30:46,960 --> 00:30:49,210
hosted and that but when we were

914
00:30:49,210 --> 00:30:50,500
initially doing this that was actually

915
00:30:50,500 --> 00:30:52,540
our fallback plan if we can get the next

916
00:30:52,540 --> 00:30:55,420
to work something to keep in mind as

917
00:30:55,420 --> 00:30:56,620
well when you're doing like that I don't

918
00:30:56,620 --> 00:30:58,390
know how the B+ is or the 3b plus

919
00:30:58,390 --> 00:31:00,010
because I haven't tested on that but in

920
00:31:00,010 --> 00:31:01,240
previous iterations of the pie when

921
00:31:01,240 --> 00:31:02,530
you're trying to use it as a wireless

922
00:31:02,530 --> 00:31:04,990
router it gets pegged pretty quick as

923
00:31:04,990 --> 00:31:07,540
far as resources again I can't talk for

924
00:31:07,540 --> 00:31:08,530
this one because I haven't done it but I

925
00:31:08,530 --> 00:31:11,530
know in the two and previous iterations

926
00:31:11,530 --> 00:31:13,360
it was it got pegged really quickly so

927
00:31:13,360 --> 00:31:14,710
it's good it's a good question no thank

928
00:31:14,710 --> 00:31:14,890
you

929
00:31:14,890 --> 00:31:18,000
yes sir

930
00:31:33,480 --> 00:31:35,909
potentially so let's let's talk

931
00:31:35,909 --> 00:31:40,409
hypotheticals um say we've got a Cody

932
00:31:40,409 --> 00:31:42,690
server running and you don't want the

933
00:31:42,690 --> 00:31:45,659
way that Cody talks out to fingerprint

934
00:31:45,659 --> 00:31:48,179
itself on the network and so you just

935
00:31:48,179 --> 00:31:50,370
get your legitimately obtained movie

936
00:31:50,370 --> 00:31:51,630
files need a lot of money Cody server

937
00:31:51,630 --> 00:31:54,389
and then you at your firewall you say

938
00:31:54,389 --> 00:31:55,799
Cody you can't talk to the internet

939
00:31:55,799 --> 00:31:57,059
because you already have all the stuff

940
00:31:57,059 --> 00:32:00,630
that you need now no one says oh you're

941
00:32:00,630 --> 00:32:02,399
running a Cody server you must also be

942
00:32:02,399 --> 00:32:04,919
illegally downloading movies so you

943
00:32:04,919 --> 00:32:06,630
could do some finagling to do stuff like

944
00:32:06,630 --> 00:32:08,789
that if you wanted to the better way if

945
00:32:08,789 --> 00:32:10,139
you want that service to also have

946
00:32:10,139 --> 00:32:11,789
internet connectivity is to wrap it up

947
00:32:11,789 --> 00:32:16,950
in a VPN so nobody can inspect it all

948
00:32:16,950 --> 00:32:22,559
right yes okay yeah yeah I failed to

949
00:32:22,559 --> 00:32:24,000
mention that so that the the actual rack

950
00:32:24,000 --> 00:32:25,950
itself is 3d printed so if you don't

951
00:32:25,950 --> 00:32:27,960
have a 3d printer access to one you need

952
00:32:27,960 --> 00:32:30,330
to write either way because I love my 3d

953
00:32:30,330 --> 00:32:31,950
printer I like to print stuff just

954
00:32:31,950 --> 00:32:34,049
because however if you when you do go to

955
00:32:34,049 --> 00:32:36,179
the actual site so that the plans for

956
00:32:36,179 --> 00:32:39,149
this are open-source out there on a site

957
00:32:39,149 --> 00:32:40,320
called Thingiverse if you've never been

958
00:32:40,320 --> 00:32:41,519
there and if you have a printer to check

959
00:32:41,519 --> 00:32:43,230
it out but you can download and print

960
00:32:43,230 --> 00:32:45,120
these I mean I think this entire stack

961
00:32:45,120 --> 00:32:46,289
right here took about an hour and a half

962
00:32:46,289 --> 00:32:49,080
to print on my printer you know very

963
00:32:49,080 --> 00:32:50,519
easy to put together again though you

964
00:32:50,519 --> 00:32:52,139
know I Sean and I toyed around with the

965
00:32:52,139 --> 00:32:53,220
idea of just taking everything out of

966
00:32:53,220 --> 00:32:54,210
the rack and just duct taping it

967
00:32:54,210 --> 00:32:55,590
together because if there's a day you

968
00:32:55,590 --> 00:32:57,210
just want something that's portable and

969
00:32:57,210 --> 00:32:58,889
you can plug into you right so really I

970
00:32:58,889 --> 00:32:59,880
mean this is just a nice little

971
00:32:59,880 --> 00:33:02,010
prettification of of the device but you

972
00:33:02,010 --> 00:33:03,510
can really just duct tape things into a

973
00:33:03,510 --> 00:33:05,100
ball leave the ports open and just you

974
00:33:05,100 --> 00:33:07,830
know plug some power to it you know

975
00:33:07,830 --> 00:33:09,510
because it gets the job done right if it

976
00:33:09,510 --> 00:33:10,799
looks like garbage but still works is it

977
00:33:10,799 --> 00:33:13,159
really garbage I don't think so

978
00:33:13,159 --> 00:33:18,929
what said exactly so and these these 3d

979
00:33:18,929 --> 00:33:20,340
printed racks are actually this is a

980
00:33:20,340 --> 00:33:21,750
stack of three racks they were printed

981
00:33:21,750 --> 00:33:23,429
because the design that we found is

982
00:33:23,429 --> 00:33:25,980
actually modular so then you can connect

983
00:33:25,980 --> 00:33:26,850
them together and it's got a little

984
00:33:26,850 --> 00:33:30,090
slide actually so what you can't yeah

985
00:33:30,090 --> 00:33:32,279
it's not that's what made the talk was

986
00:33:32,279 --> 00:33:34,620
that slide unfortunately when you

987
00:33:34,620 --> 00:33:36,899
actually install it you have your wires

988
00:33:36,899 --> 00:33:39,210
are in the way because we it was

989
00:33:39,210 --> 00:33:41,820
designed for a Raspberry Pi but once you

990
00:33:41,820 --> 00:33:43,889
start putting and it you can see like

991
00:33:43,889 --> 00:33:45,570
the raspberry PI's Knicks are forward

992
00:33:45,570 --> 00:33:47,120
facing so the slide works

993
00:33:47,120 --> 00:33:48,890
you put different devices that were it

994
00:33:48,890 --> 00:33:50,660
wasn't designed for the wires promptly

995
00:33:50,660 --> 00:33:52,700
start getting in the way but you don't

996
00:33:52,700 --> 00:33:55,550
necessarily need to constantly be using

997
00:33:55,550 --> 00:33:57,440
the slides and then the adjustment that

998
00:33:57,440 --> 00:33:59,870
Josh actually made to partially and

999
00:33:59,870 --> 00:34:01,760
unplug this so people can see actually

1000
00:34:01,760 --> 00:34:04,850
help pull it out of here as we actually

1001
00:34:04,850 --> 00:34:06,350
put a bar in there to hold it in place

1002
00:34:06,350 --> 00:34:09,379
so that you can actually use a Ellen

1003
00:34:09,379 --> 00:34:13,790
wrench to adjust this bolt and then hold

1004
00:34:13,790 --> 00:34:15,500
hold things down and then actually I'm

1005
00:34:15,500 --> 00:34:17,899
the one that holds the pie we don't do

1006
00:34:17,899 --> 00:34:19,879
that because it's yeah we don't do that

1007
00:34:19,879 --> 00:34:20,870
because we can actually bolt apply

1008
00:34:20,870 --> 00:34:23,030
directly in so it already had the

1009
00:34:23,030 --> 00:34:25,040
mounting spots for the pie itself and we

1010
00:34:25,040 --> 00:34:27,639
just added longer bolts in the crossbar

1011
00:34:27,639 --> 00:34:31,510
so that you could hold other devices in

1012
00:34:31,510 --> 00:34:35,360
long live open source I love it yes I'm

1013
00:34:35,360 --> 00:34:37,460
sorry did answer your question okay and

1014
00:34:37,460 --> 00:34:43,610
then over here so definitely a thought

1015
00:34:43,610 --> 00:34:44,690
crossed our mind

1016
00:34:44,690 --> 00:34:47,899
so running the actual switch and the

1017
00:34:47,899 --> 00:34:49,429
router off for battery pack would

1018
00:34:49,429 --> 00:34:51,230
probably work extremely well right the

1019
00:34:51,230 --> 00:34:53,570
max the max pull or max amperage on both

1020
00:34:53,570 --> 00:34:56,780
of those is about half an amp and so if

1021
00:34:56,780 --> 00:34:58,220
you if you do that and you do the math

1022
00:34:58,220 --> 00:34:59,750
on on here you know even a small battery

1023
00:34:59,750 --> 00:35:01,550
pack with like 1800 milliamp hours I

1024
00:35:01,550 --> 00:35:03,080
mean you can get a pretty decent runtime

1025
00:35:03,080 --> 00:35:04,850
off of both of those running the whole

1026
00:35:04,850 --> 00:35:06,410
time now you had the pie to it all bets

1027
00:35:06,410 --> 00:35:07,790
are off because you know I mean there's

1028
00:35:07,790 --> 00:35:10,790
so much variance in the power pull of a

1029
00:35:10,790 --> 00:35:12,140
pie depending on if it's under load if

1030
00:35:12,140 --> 00:35:13,730
it's not under load but if you just want

1031
00:35:13,730 --> 00:35:16,160
to run the the actual networking devices

1032
00:35:16,160 --> 00:35:18,110
they'll probably run really well off of

1033
00:35:18,110 --> 00:35:20,000
a power pack the main thing you want to

1034
00:35:20,000 --> 00:35:21,290
make sure is that the power pack can

1035
00:35:21,290 --> 00:35:23,630
actually has the the max pull for it

1036
00:35:23,630 --> 00:35:25,520
right because you're plugging two

1037
00:35:25,520 --> 00:35:27,800
devices in so it's gonna have a max pull

1038
00:35:27,800 --> 00:35:29,870
of like one amp at that at one time so

1039
00:35:29,870 --> 00:35:31,490
that's a little a low check for the

1040
00:35:31,490 --> 00:35:33,590
power this good question though it would

1041
00:35:33,590 --> 00:35:34,640
make it even more portable with the

1042
00:35:34,640 --> 00:35:37,130
battery yes with with the good battery

1043
00:35:37,130 --> 00:35:39,290
you could run this on an airplane so you

1044
00:35:39,290 --> 00:35:41,260
could get to your movies and whatnot

1045
00:35:41,260 --> 00:35:45,410
awesome any other questions all right

1046
00:35:45,410 --> 00:35:50,740
well we want to do four

1047
00:35:50,740 --> 00:35:52,520
all right so we've got some giveaways

1048
00:35:52,520 --> 00:35:54,650
here right so so besides it's not

1049
00:35:54,650 --> 00:35:57,109
exactly yeah they're done I don't know

1050
00:35:57,109 --> 00:35:58,190
if you're clapping for the giveaways or

1051
00:35:58,190 --> 00:35:59,480
for us thank you though I appreciate it

1052
00:35:59,480 --> 00:36:01,720
boosting my confidence here

1053
00:36:01,720 --> 00:36:04,750
yeah all right so uh let's see here this

1054
00:36:04,750 --> 00:36:07,060
is a cracking codes with Python who here

1055
00:36:07,060 --> 00:36:10,780
likes Python yeah awesome right those

1056
00:36:10,780 --> 00:36:12,940
you didn't raise your hand I'm sorry I'm

1057
00:36:12,940 --> 00:36:17,290
really sorry you'll be forced to take it

1058
00:36:17,290 --> 00:36:18,490
fair enough well you know you'll learn

1059
00:36:18,490 --> 00:36:19,690
to love it if they bludgeon you with it

1060
00:36:19,690 --> 00:36:22,030
enough exactly right

1061
00:36:22,030 --> 00:36:23,680
so cracking codes with Python what is

1062
00:36:23,680 --> 00:36:26,590
the the Python library that allows me to

1063
00:36:26,590 --> 00:36:31,450
do hashing so I had a hand up you guys

1064
00:36:31,450 --> 00:36:34,720
want to fight for it go ahead and knife

1065
00:36:34,720 --> 00:36:36,190
before it all right cracking codes hash

1066
00:36:36,190 --> 00:36:37,450
Lube was that so if you want to do to

1067
00:36:37,450 --> 00:36:39,550
sort of hashing in Python the library is

1068
00:36:39,550 --> 00:36:42,700
hash Lib this is a personal favorite of

1069
00:36:42,700 --> 00:36:43,900
mine right here if you've never seen

1070
00:36:43,900 --> 00:36:45,460
this book and you're learning Python you

1071
00:36:45,460 --> 00:36:47,110
need to take a look at it it's called

1072
00:36:47,110 --> 00:36:48,910
automate the boring stuff with Python

1073
00:36:48,910 --> 00:36:52,140
it's amazing

1074
00:36:52,140 --> 00:36:53,770
you don't even know what the question

1075
00:36:53,770 --> 00:36:55,210
yeah he's like if I go to Dad's I'll

1076
00:36:55,210 --> 00:36:56,560
take it no you know what I like your

1077
00:36:56,560 --> 00:36:57,820
enthusiasm or you know what this is

1078
00:36:57,820 --> 00:37:00,340
yours there you go that way you can go

1079
00:37:00,340 --> 00:37:02,230
and hit yourself with the book as you're

1080
00:37:02,230 --> 00:37:03,990
learning Python there it is

1081
00:37:03,990 --> 00:37:08,800
fantastic all right next up we have the

1082
00:37:08,800 --> 00:37:10,270
blue team handbook incident response

1083
00:37:10,270 --> 00:37:13,960
Edition and the blue team handbook with

1084
00:37:13,960 --> 00:37:15,760
the threat hunting use cases the new

1085
00:37:15,760 --> 00:37:17,790
version that just came out recently so

1086
00:37:17,790 --> 00:37:20,140
these are written by if you don't know

1087
00:37:20,140 --> 00:37:23,160
RIT my Don Murdock and these are both

1088
00:37:23,160 --> 00:37:26,110
autographed by mr. Murdock himself who

1089
00:37:26,110 --> 00:37:27,760
is speaking at the conference yes he's

1090
00:37:27,760 --> 00:37:28,900
speaking if you haven't uh if you

1091
00:37:28,900 --> 00:37:31,120
haven't seen that on the schedule got

1092
00:37:31,120 --> 00:37:34,600
any good ideas for trying to come up

1093
00:37:34,600 --> 00:37:35,980
with an instant response based question

1094
00:37:35,980 --> 00:37:40,630
but okay what is this is this is a

1095
00:37:40,630 --> 00:37:42,460
softball so please somebody get this

1096
00:37:42,460 --> 00:37:44,640
what is the first thing that you should

1097
00:37:44,640 --> 00:37:47,770
capture when you're responding to a

1098
00:37:47,770 --> 00:37:49,980
computer that you think is infected

1099
00:37:49,980 --> 00:37:55,560
firsthand and oh no sir EPT I'm sorry

1100
00:37:55,560 --> 00:37:59,230
yep specifically dynamic memory right so

1101
00:37:59,230 --> 00:38:00,640
if you go straight to the image you're

1102
00:38:00,640 --> 00:38:02,950
gonna miss a couple things one you can

1103
00:38:02,950 --> 00:38:05,320
distort the dynamic memory but two you

1104
00:38:05,320 --> 00:38:06,670
want to like do things like look in the

1105
00:38:06,670 --> 00:38:08,260
dynamic memory and see if that image is

1106
00:38:08,260 --> 00:38:10,120
full disk encryption or not and that's

1107
00:38:10,120 --> 00:38:11,230
going to determine how you're going to

1108
00:38:11,230 --> 00:38:13,390
go into and actually pull that image

1109
00:38:13,390 --> 00:38:14,380
because if it's full disk encryption

1110
00:38:14,380 --> 00:38:15,010
you're

1111
00:38:15,010 --> 00:38:17,530
logical one right and if it's not you're

1112
00:38:17,530 --> 00:38:20,470
gonna pull a bit by bit image we've seen

1113
00:38:20,470 --> 00:38:22,480
some interesting things when people are

1114
00:38:22,480 --> 00:38:24,810
like it was affected so I shut it off

1115
00:38:24,810 --> 00:38:32,440
great no mark Toki's tomorrow that

1116
00:38:32,440 --> 00:38:33,610
trivia question you guys last year about

1117
00:38:33,610 --> 00:38:34,660
pac-man

1118
00:38:34,660 --> 00:38:37,180
oh sweet so it's all my retro

1119
00:38:37,180 --> 00:38:39,340
technologist right and so I love all

1120
00:38:39,340 --> 00:38:42,160
things 1980s technology or bust

1121
00:38:42,160 --> 00:38:43,660
so some of you who heard this question

1122
00:38:43,660 --> 00:38:45,880
so if you've answered it before or heard

1123
00:38:45,880 --> 00:38:46,390
me before

1124
00:38:46,390 --> 00:38:51,120
don't answer fair enough so pac-man

1125
00:38:51,120 --> 00:38:55,710
everyone knows pac-man right so how many

1126
00:38:55,710 --> 00:39:03,430
levels are there in pac-man Alex and how

1127
00:39:03,430 --> 00:39:07,750
do you know it's 256 it's a trick

1128
00:39:07,750 --> 00:39:09,700
question because you get to 256

1129
00:39:09,700 --> 00:39:11,470
does anyone know what happens when you

1130
00:39:11,470 --> 00:39:15,250
get to level 256 and pac-man it doesn't

1131
00:39:15,250 --> 00:39:19,840
die yeah you get some weirdness going on

1132
00:39:19,840 --> 00:39:21,280
right there's a register overflow and

1133
00:39:21,280 --> 00:39:23,890
then the screen half the screen blocks

1134
00:39:23,890 --> 00:39:26,830
out all the actual pellets are in the

1135
00:39:26,830 --> 00:39:28,270
same location you just can't see them

1136
00:39:28,270 --> 00:39:30,430
the ghosts are still chasing you and so

1137
00:39:30,430 --> 00:39:32,440
what's really amazing is the folks that

1138
00:39:32,440 --> 00:39:33,790
have gotten the perfect scores and

1139
00:39:33,790 --> 00:39:35,740
pac-man they have memorized the pattern

1140
00:39:35,740 --> 00:39:36,820
to the point where they know where

1141
00:39:36,820 --> 00:39:37,810
everything's added so if you ever see

1142
00:39:37,810 --> 00:39:39,580
someone do a run on pac-man take a look

1143
00:39:39,580 --> 00:39:41,260
at it's amazing they can do that whole

1144
00:39:41,260 --> 00:39:44,200
maze without even seeing it so it's kind

1145
00:39:44,200 --> 00:39:45,640
of a cool little trivia thing but it's

1146
00:39:45,640 --> 00:39:46,960
simply because someone didn't take into

1147
00:39:46,960 --> 00:39:49,810
account hey if we hit 256 there's

1148
00:39:49,810 --> 00:39:51,250
something that happens you know voltage

1149
00:39:51,250 --> 00:39:52,270
goes out of one of the chips and

1150
00:39:52,270 --> 00:39:53,260
nothing's there to catch it and it

1151
00:39:53,260 --> 00:39:55,360
throws the whole system in chaos so

1152
00:39:55,360 --> 00:39:57,640
awesome so we hand those out again Shana

1153
00:39:57,640 --> 00:39:58,930
I'll be up here for any questions you

1154
00:39:58,930 --> 00:40:00,640
have after the fact we appreciate your

1155
00:40:00,640 --> 00:40:02,650
time and enjoy the rest of the

1156
00:40:02,650 --> 00:40:03,790
conference if you want to work on your

1157
00:40:03,790 --> 00:40:04,450
Python

1158
00:40:04,450 --> 00:40:06,040
go to run codes workshop this afternoon

1159
00:40:06,040 --> 00:40:08,020
it's gonna be solid

1160
00:40:08,020 --> 00:40:08,080
[Music]

1161
00:40:08,080 --> 00:40:12,960
[Applause]

