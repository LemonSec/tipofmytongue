1
00:03:40,260 --> 00:03:43,620
[Music]

2
00:04:23,280 --> 00:04:25,680
or Indian on five Gnosticism in general

3
00:04:25,680 --> 00:04:27,720
I'd say don't do it

4
00:04:27,720 --> 00:04:30,920
pick one Wittering on

5
00:04:41,849 --> 00:04:45,910
but generally that guy goes they don't

6
00:04:45,910 --> 00:04:47,979
want to do that because they're not

7
00:04:47,979 --> 00:04:50,530
really experts in any one cloud so they

8
00:04:50,530 --> 00:04:52,090
went ahead and when I go to all clouds

9
00:04:52,090 --> 00:04:55,888
now that Walden the security group

10
00:09:02,110 --> 00:09:06,580
Mitchell so one of the the things that

11
00:09:06,580 --> 00:09:09,370
we see our developers not knowing that

12
00:09:09,370 --> 00:09:11,500
something is a credential so if you've

13
00:09:11,500 --> 00:09:13,480
used like as your connection strings

14
00:09:13,480 --> 00:09:15,640
they're just kind of long not really

15
00:09:15,640 --> 00:09:17,290
opaque string but they don't necessarily

16
00:09:17,290 --> 00:09:19,900
look like a key or an API key right away

17
00:09:19,900 --> 00:09:21,550
but they completely are they contain the

18
00:09:21,550 --> 00:09:22,690
endpoint and all the connection

19
00:09:22,690 --> 00:09:25,000
information to connect to it and so

20
00:09:25,000 --> 00:09:27,190
that's a real issue and know what you're

21
00:09:27,190 --> 00:09:28,330
looking at you might accidentally

22
00:09:28,330 --> 00:09:29,590
publish that somewhere

23
00:09:29,590 --> 00:09:31,000
you thought it was private it's Pub

24
00:09:31,000 --> 00:09:33,850
whatever that's that part as old news

25
00:09:33,850 --> 00:09:35,980
would is is still happening though as

26
00:09:35,980 --> 00:09:37,990
people are logging in and if you think

27
00:09:37,990 --> 00:09:39,340
about I was talking about that top of

28
00:09:39,340 --> 00:09:41,470
the pyramid the ant the analytics that's

29
00:09:41,470 --> 00:09:43,690
your one shot at finding this is if that

30
00:09:43,690 --> 00:09:45,190
credential sitting out there somewhere

31
00:09:45,190 --> 00:09:47,530
on you know it might even be sort of a

32
00:09:47,530 --> 00:09:49,600
like a partner like you shared a website

33
00:09:49,600 --> 00:09:52,420
with a part not even really public if

34
00:09:52,420 --> 00:09:53,860
they find that and they use the

35
00:09:53,860 --> 00:09:55,570
credentials and they log in you're now

36
00:09:55,570 --> 00:09:56,890
really just looking for a credential

37
00:09:56,890 --> 00:09:59,530
theft alright so how are we going to

38
00:09:59,530 --> 00:10:01,570
mitigate this so the email is pretty

39
00:10:01,570 --> 00:10:02,830
obvious right you try to prevent

40
00:10:02,830 --> 00:10:05,410
phishing block any malicious doc can and

41
00:10:05,410 --> 00:10:07,930
this is the cloud side by the way the

42
00:10:07,930 --> 00:10:08,500
endpoint

43
00:10:08,500 --> 00:10:10,450
it means same stuff right trying to just

44
00:10:10,450 --> 00:10:12,160
protect the endpoint and all the

45
00:10:12,160 --> 00:10:15,040
involved there from the network

46
00:10:15,040 --> 00:10:16,840
perspective I've talked to a lot of

47
00:10:16,840 --> 00:10:18,820
companies that are using VDI now so

48
00:10:18,820 --> 00:10:21,850
beyond Citrix and that's happening quite

49
00:10:21,850 --> 00:10:23,710
a bit and what I'm shocked by are most

50
00:10:23,710 --> 00:10:24,850
companies aren't doing things like

51
00:10:24,850 --> 00:10:26,380
network security monitoring in front of

52
00:10:26,380 --> 00:10:28,330
a VDI so they have a lot less of

53
00:10:28,330 --> 00:10:29,830
visibility than they would have they

54
00:10:29,830 --> 00:10:31,210
were running that on Prem they just it's

55
00:10:31,210 --> 00:10:32,050
not that you can't do it they just

56
00:10:32,050 --> 00:10:34,600
basically forget do it and you find

57
00:10:34,600 --> 00:10:36,040
places that are running VDI without an

58
00:10:36,040 --> 00:10:38,320
endpoint agent at all so they don't have

59
00:10:38,320 --> 00:10:40,180
any kind of you know basic protections

60
00:10:40,180 --> 00:10:41,620
they're just assumed well if anything

61
00:10:41,620 --> 00:10:44,080
happens we'll just wipe the box ok that

62
00:10:44,080 --> 00:10:45,790
is a lot easier in VDI and you can still

63
00:10:45,790 --> 00:10:47,470
wipe the box but the credential stolen

64
00:10:47,470 --> 00:10:49,630
you can't unwiped the credential not

65
00:10:49,630 --> 00:10:50,470
without knowing about it

66
00:10:50,470 --> 00:10:53,170
so networks still very relevant but the

67
00:10:53,170 --> 00:10:55,060
real the real meat here is the detecting

68
00:10:55,060 --> 00:10:57,490
the credential theft and any compromised

69
00:10:57,490 --> 00:10:58,930
assets that are already out there

70
00:10:58,930 --> 00:11:00,850
and that's generally gonna be through

71
00:11:00,850 --> 00:11:03,880
analytics all right so let's look at a

72
00:11:03,880 --> 00:11:08,560
couple of specific scenario this means

73
00:11:08,560 --> 00:11:10,300
still relevant I love this meme so much

74
00:11:10,300 --> 00:11:11,800
but it's kind of I think it kind of

75
00:11:11,800 --> 00:11:14,830
wearing it out here most of my internal

76
00:11:14,830 --> 00:11:15,830
stuff has this in it

77
00:11:15,830 --> 00:11:19,280
got a stop all right so let's look at

78
00:11:19,280 --> 00:11:21,400
and both of these are our real-world

79
00:11:21,400 --> 00:11:23,150
scenarios but they're sort of an

80
00:11:23,150 --> 00:11:24,620
amalgamation of course we don't share

81
00:11:24,620 --> 00:11:26,870
direct customer investigation stuff it's

82
00:11:26,870 --> 00:11:29,420
that cool but that we see these are very

83
00:11:29,420 --> 00:11:31,820
general incidents and you'll see that

84
00:11:31,820 --> 00:11:35,210
they're very applicable to pretty much

85
00:11:35,210 --> 00:11:37,190
any scenario so I'm going to try to give

86
00:11:37,190 --> 00:11:38,660
you as much information as I can to be

87
00:11:38,660 --> 00:11:41,120
helpful but I'm just not too much all

88
00:11:41,120 --> 00:11:43,070
right so the first thing there's not an

89
00:11:43,070 --> 00:11:44,510
accident that there's day one day two

90
00:11:44,510 --> 00:11:46,940
and day three here listed that's only 48

91
00:11:46,940 --> 00:11:49,490
hours so we're seeing a really really

92
00:11:49,490 --> 00:11:51,380
short dwell time our last M trends

93
00:11:51,380 --> 00:11:53,540
showed closer to like a 90 day dwell

94
00:11:53,540 --> 00:11:55,250
time which wasn't really that much

95
00:11:55,250 --> 00:11:56,600
different than the year before

96
00:11:56,600 --> 00:11:59,840
for your basic compromises for cloud the

97
00:11:59,840 --> 00:12:03,200
stuff moves really fast and a large part

98
00:12:03,200 --> 00:12:04,670
of that is that the attacker can

99
00:12:04,670 --> 00:12:07,010
leverage all the same things that an

100
00:12:07,010 --> 00:12:08,270
admin can because they're basically a

101
00:12:08,270 --> 00:12:10,100
rogue admin at that point so think about

102
00:12:10,100 --> 00:12:11,930
this if you're red teaming cloud you can

103
00:12:11,930 --> 00:12:13,640
set up everything exactly how it's going

104
00:12:13,640 --> 00:12:15,080
to be in a customer environment in your

105
00:12:15,080 --> 00:12:16,880
own cloud account and know that it's

106
00:12:16,880 --> 00:12:19,220
going to be 100% the same to some level

107
00:12:19,220 --> 00:12:21,260
you might have to do some discovery to

108
00:12:21,260 --> 00:12:22,910
say okay which you know enumerate all

109
00:12:22,910 --> 00:12:24,500
subnets well let's think about that if

110
00:12:24,500 --> 00:12:26,690
you're on print you do an nmap or

111
00:12:26,690 --> 00:12:28,370
something like that to map out the

112
00:12:28,370 --> 00:12:29,810
network if you're lucky you can hack

113
00:12:29,810 --> 00:12:31,760
into ad that'll tell you you know where

114
00:12:31,760 --> 00:12:33,980
everything is but if you have API access

115
00:12:33,980 --> 00:12:35,840
to a cloud you just say where is

116
00:12:35,840 --> 00:12:37,670
everything and it gives it to you in a

117
00:12:37,670 --> 00:12:39,410
programmatic fashion and suddenly what

118
00:12:39,410 --> 00:12:41,210
should have taken days now it took

119
00:12:41,210 --> 00:12:43,250
seconds so that's a big reason why

120
00:12:43,250 --> 00:12:44,900
attackers can move so much more quickly

121
00:12:44,900 --> 00:12:47,900
on cloud and homogeneity of the

122
00:12:47,900 --> 00:12:49,640
environments is also a big part of this

123
00:12:49,640 --> 00:12:51,650
because once they get this down and

124
00:12:51,650 --> 00:12:53,780
attack one place can turn around and

125
00:12:53,780 --> 00:12:56,240
reuse almost all of that to any other

126
00:12:56,240 --> 00:12:58,250
victim because there is so much that's

127
00:12:58,250 --> 00:13:00,590
similar between the two all right

128
00:13:00,590 --> 00:13:02,980
so specifically in our scenario here

129
00:13:02,980 --> 00:13:04,880
using those methods we talked about

130
00:13:04,880 --> 00:13:07,190
earlier we have stolen credentials that

131
00:13:07,190 --> 00:13:09,020
come in they perform recon that's on day

132
00:13:09,020 --> 00:13:12,560
one on day two they're going to dump the

133
00:13:12,560 --> 00:13:15,110
data through API calls and set up the

134
00:13:15,110 --> 00:13:17,300
environment for exfil and this generally

135
00:13:17,300 --> 00:13:19,250
speaking the the reason why this doesn't

136
00:13:19,250 --> 00:13:21,310
happen all in a single day is that

137
00:13:21,310 --> 00:13:23,330
advanced adversaries are switching the

138
00:13:23,330 --> 00:13:26,150
keyboard out so they have people

139
00:13:26,150 --> 00:13:27,950
specifically that know how to get in in

140
00:13:27,950 --> 00:13:29,090
the first place they know how to steal

141
00:13:29,090 --> 00:13:29,390
the

142
00:13:29,390 --> 00:13:30,980
chills and then they have their cloud

143
00:13:30,980 --> 00:13:32,540
specialist they'll come in and say okay

144
00:13:32,540 --> 00:13:33,920
I'll take it from here I know this

145
00:13:33,920 --> 00:13:36,019
individual cloud provider it's this real

146
00:13:36,019 --> 00:13:37,640
bizarro world where you have rogue

147
00:13:37,640 --> 00:13:40,130
administrators that have specialties and

148
00:13:40,130 --> 00:13:42,110
that's honestly the thing that's slowing

149
00:13:42,110 --> 00:13:43,970
the attackers down the most is their

150
00:13:43,970 --> 00:13:45,800
resourcing right to figure out who the

151
00:13:45,800 --> 00:13:47,660
best person at that time who's on shift

152
00:13:47,660 --> 00:13:49,700
if it's nation state all those kinds of

153
00:13:49,700 --> 00:13:51,200
things or you know even if they're just

154
00:13:51,200 --> 00:13:54,200
you know crime wear style they're still

155
00:13:54,200 --> 00:13:55,430
going to have to have their buddy come

156
00:13:55,430 --> 00:13:56,450
in and help them out and something

157
00:13:56,450 --> 00:13:58,100
because they're not written everything

158
00:13:58,100 --> 00:14:00,410
and so that that the keyboard changing

159
00:14:00,410 --> 00:14:01,760
hands is usually where you're gonna see

160
00:14:01,760 --> 00:14:03,050
the most delay in what's going on

161
00:14:03,050 --> 00:14:05,000
otherwise would be one giant long script

162
00:14:05,000 --> 00:14:06,200
and the whole thing would be done in a

163
00:14:06,200 --> 00:14:08,269
minute and you know hopefully we're not

164
00:14:08,269 --> 00:14:10,010
there too soon because there are still a

165
00:14:10,010 --> 00:14:11,450
number of manual things that have to

166
00:14:11,450 --> 00:14:12,890
happen but that could you know we could

167
00:14:12,890 --> 00:14:15,440
get to that point so there's some

168
00:14:15,440 --> 00:14:17,930
specific API calls that will happen to

169
00:14:17,930 --> 00:14:19,990
dump and we've seen a number of these

170
00:14:19,990 --> 00:14:22,730
the big one that we see that's kind of

171
00:14:22,730 --> 00:14:23,930
interesting because it's nothing

172
00:14:23,930 --> 00:14:26,209
particularly malicious but very rare are

173
00:14:26,209 --> 00:14:30,230
snapshots so ask yourself how much how

174
00:14:30,230 --> 00:14:31,730
many controls you have around like a

175
00:14:31,730 --> 00:14:33,290
really important database maybe has

176
00:14:33,290 --> 00:14:35,000
financial information in it you'd have

177
00:14:35,000 --> 00:14:37,579
really strict Network pulls over it

178
00:14:37,579 --> 00:14:39,380
you'd have logins that are really

179
00:14:39,380 --> 00:14:40,880
specific for it that are hard to get to

180
00:14:40,880 --> 00:14:43,550
you don't have that if you boot up a box

181
00:14:43,550 --> 00:14:44,990
and mount the snapshot from that other

182
00:14:44,990 --> 00:14:47,810
box on this other box now suddenly it's

183
00:14:47,810 --> 00:14:49,130
your box and you don't worry about the

184
00:14:49,130 --> 00:14:50,420
network and it's your box you have to

185
00:14:50,420 --> 00:14:52,160
worry about the login all those things

186
00:14:52,160 --> 00:14:54,620
go away so cloud lets you sidestep a lot

187
00:14:54,620 --> 00:14:55,730
of those things and if you're not paying

188
00:14:55,730 --> 00:14:58,459
attention then that can happen now this

189
00:14:58,459 --> 00:14:59,990
isn't to say that all cloud is just

190
00:14:59,990 --> 00:15:01,550
inherently insecure because their

191
00:15:01,550 --> 00:15:03,410
permissions that go with those snapshots

192
00:15:03,410 --> 00:15:05,029
right if you do it correctly that no

193
00:15:05,029 --> 00:15:06,800
one's supposed to have permission to log

194
00:15:06,800 --> 00:15:07,910
it in the first place no one's supposed

195
00:15:07,910 --> 00:15:08,930
to have permission to mount that

196
00:15:08,930 --> 00:15:12,140
snapshot so it's this little problem but

197
00:15:12,140 --> 00:15:13,399
if you're not trained on this kind of

198
00:15:13,399 --> 00:15:16,339
stuff than that this will lead to so

199
00:15:16,339 --> 00:15:18,230
they mount the snapshot and the minutes

200
00:15:18,230 --> 00:15:20,779
later they're dumping all the data all

201
00:15:20,779 --> 00:15:23,390
right so that sounds pretty bad what are

202
00:15:23,390 --> 00:15:25,209
our opportunities for detection here

203
00:15:25,209 --> 00:15:27,320
it's worth noting here that none of

204
00:15:27,320 --> 00:15:30,050
these are gonna be you know oh this is a

205
00:15:30,050 --> 00:15:31,970
giant red flag if you see this then I'm

206
00:15:31,970 --> 00:15:34,160
over we found them all these are what we

207
00:15:34,160 --> 00:15:36,199
call weak signals these are you know if

208
00:15:36,199 --> 00:15:37,579
you're hunting these might be good but

209
00:15:37,579 --> 00:15:39,020
generally speaking these are not worth

210
00:15:39,020 --> 00:15:40,819
an alert to the sock it's only in

211
00:15:40,819 --> 00:15:42,680
combination of all these things that

212
00:15:42,680 --> 00:15:44,330
you're gonna have an alert so login from

213
00:15:44,330 --> 00:15:46,070
a new IP address may not be a big deal

214
00:15:46,070 --> 00:15:48,230
maybe somebody move maybe they're at

215
00:15:48,230 --> 00:15:49,610
Starbucks you don't you know depending

216
00:15:49,610 --> 00:15:51,260
on your policy that maybe you know

217
00:15:51,260 --> 00:15:54,290
complete no news at all and you user

218
00:15:54,290 --> 00:15:56,510
agent same thing I mean that's the you

219
00:15:56,510 --> 00:15:57,920
know any new browser version will change

220
00:15:57,920 --> 00:15:59,990
the user agent right so that happens

221
00:15:59,990 --> 00:16:03,080
frequently not a lot there but if you

222
00:16:03,080 --> 00:16:04,190
can combine those it starts to get a

223
00:16:04,190 --> 00:16:05,240
little bit interesting but we're

224
00:16:05,240 --> 00:16:07,730
certainly not bothering the stock yet so

225
00:16:07,730 --> 00:16:10,459
maybe between day two and day three this

226
00:16:10,459 --> 00:16:12,890
is very enough to go on but again when

227
00:16:12,890 --> 00:16:14,089
we look at the timeframe here you're

228
00:16:14,089 --> 00:16:15,080
expecting your stock to be able to

229
00:16:15,080 --> 00:16:16,880
correlate stuff across the 24 hour time

230
00:16:16,880 --> 00:16:18,620
period and now you're just looking at

231
00:16:18,620 --> 00:16:20,270
even more weak signals so you have you

232
00:16:20,270 --> 00:16:21,770
know API calls that don't happen very

233
00:16:21,770 --> 00:16:23,899
often well define very often right

234
00:16:23,899 --> 00:16:25,640
totally depends it requires a lot of

235
00:16:25,640 --> 00:16:27,589
domain knowledge again can you do this

236
00:16:27,589 --> 00:16:29,240
domain knowledge across every cloud

237
00:16:29,240 --> 00:16:32,120
provider probably not I encourage you to

238
00:16:32,120 --> 00:16:33,830
focus on one cloud provider and get good

239
00:16:33,830 --> 00:16:36,620
at it new kind of at API activity so

240
00:16:36,620 --> 00:16:38,420
understanding exactly what calls are and

241
00:16:38,420 --> 00:16:40,820
then down to the asset level this

242
00:16:40,820 --> 00:16:43,490
requires more things like flow logs

243
00:16:43,490 --> 00:16:48,529
between them all right so there's a lot

244
00:16:48,529 --> 00:16:49,459
of different things you could do to

245
00:16:49,459 --> 00:16:51,440
secure cloud and when you first start

246
00:16:51,440 --> 00:16:52,850
out and you don't have anybody do any

247
00:16:52,850 --> 00:16:54,500
production workloads you probably feel

248
00:16:54,500 --> 00:16:56,270
you guys have all seen this right like a

249
00:16:56,270 --> 00:16:57,830
million times so I could just kind of

250
00:16:57,830 --> 00:16:59,209
refer to it cuz these pictures are

251
00:16:59,209 --> 00:17:01,250
terrible so mr. burns you know walking

252
00:17:01,250 --> 00:17:02,980
and they go through like eight different

253
00:17:02,980 --> 00:17:05,660
secure doors and I always feel that way

254
00:17:05,660 --> 00:17:07,910
when I'm you know hitting my two-factor

255
00:17:07,910 --> 00:17:09,500
authentication for the 90th time that

256
00:17:09,500 --> 00:17:11,750
day you know and you know that your

257
00:17:11,750 --> 00:17:13,880
secret thing you could like especially

258
00:17:13,880 --> 00:17:16,609
with you know sort of not necessarily a

259
00:17:16,609 --> 00:17:18,920
bank but you know a car rental company

260
00:17:18,920 --> 00:17:19,790
or something with that they go through

261
00:17:19,790 --> 00:17:20,900
all this effort to have all these

262
00:17:20,900 --> 00:17:22,250
different things and then you know that

263
00:17:22,250 --> 00:17:23,929
if you just call the person ask nicely

264
00:17:23,929 --> 00:17:26,329
they'll change your password and so it's

265
00:17:26,329 --> 00:17:27,740
one of those scenarios in cloud where

266
00:17:27,740 --> 00:17:29,450
you have all these things in front so

267
00:17:29,450 --> 00:17:31,550
you have the two-factor to get in and

268
00:17:31,550 --> 00:17:33,350
then the second anybody tries to

269
00:17:33,350 --> 00:17:34,640
actually get some work done there

270
00:17:34,640 --> 00:17:35,870
they're like yeah but easier if I just

271
00:17:35,870 --> 00:17:38,000
did this no different than on-prem

272
00:17:38,000 --> 00:17:39,650
humans are humans whether they're in the

273
00:17:39,650 --> 00:17:41,450
cloud whether they're on Prem that kind

274
00:17:41,450 --> 00:17:43,760
of stuff still happens and so the second

275
00:17:43,760 --> 00:17:45,290
you guys start trying to actually get

276
00:17:45,290 --> 00:17:46,940
work done in the cloud then you end up

277
00:17:46,940 --> 00:17:48,710
with a screen door with the stray dog

278
00:17:48,710 --> 00:17:50,420
running around next to the keys to the

279
00:17:50,420 --> 00:17:54,320
kingdom right all right so this one came

280
00:17:54,320 --> 00:17:55,370
in

281
00:17:55,370 --> 00:17:57,920
add about three or four incidents over

282
00:17:57,920 --> 00:18:00,470
the last well I don't want to go into

283
00:18:00,470 --> 00:18:02,510
this some time period that I'm

284
00:18:02,510 --> 00:18:05,030
amalgamating here but it was a great

285
00:18:05,030 --> 00:18:07,580
example and I had to I had to show you

286
00:18:07,580 --> 00:18:10,910
guys so first one I mean come on really

287
00:18:10,910 --> 00:18:12,830
you got a dev server nobody you know it

288
00:18:12,830 --> 00:18:14,000
hasn't been patched it hasn't gone

289
00:18:14,000 --> 00:18:16,190
through QA or whatever but it's out on

290
00:18:16,190 --> 00:18:17,960
the public internet because it's much

291
00:18:17,960 --> 00:18:20,090
easier to just do all zeroes right same

292
00:18:20,090 --> 00:18:22,850
same thing now normally you'd have on

293
00:18:22,850 --> 00:18:24,410
Prem you'd have to go through like ten

294
00:18:24,410 --> 00:18:25,610
different tickets to get somebody to

295
00:18:25,610 --> 00:18:26,930
open or write because you have these

296
00:18:26,930 --> 00:18:28,730
really tried and true processes and

297
00:18:28,730 --> 00:18:31,340
cloud often what you have even if it's

298
00:18:31,340 --> 00:18:33,140
not shadow IT even if it's like

299
00:18:33,140 --> 00:18:36,260
legitimate you know sanctioned activity

300
00:18:36,260 --> 00:18:38,510
within IT you'll have and this is

301
00:18:38,510 --> 00:18:40,580
actually overall a good thing but we

302
00:18:40,580 --> 00:18:42,920
have to have developers I call it

303
00:18:42,920 --> 00:18:45,800
democratizing data where because in

304
00:18:45,800 --> 00:18:47,240
previous roles and fire I have been an

305
00:18:47,240 --> 00:18:48,770
engineer where I'm just trying to get

306
00:18:48,770 --> 00:18:49,970
work done and we want to move quickly

307
00:18:49,970 --> 00:18:52,250
and getting ops out of the way is is

308
00:18:52,250 --> 00:18:54,890
helpful if you don't screw it up right

309
00:18:54,890 --> 00:18:57,080
and so there's generally a lag in

310
00:18:57,080 --> 00:18:59,360
process for cloud because you don't have

311
00:18:59,360 --> 00:19:02,660
these age-old on-prem scenarios and yet

312
00:19:02,660 --> 00:19:06,230
a lot logically you do so if you

313
00:19:06,230 --> 00:19:08,930
accidentally open up a port that can be

314
00:19:08,930 --> 00:19:11,510
really bad news because really you doing

315
00:19:11,510 --> 00:19:13,910
experimental stuff on cloud because no

316
00:19:13,910 --> 00:19:15,770
one else give you a box on pram or or

317
00:19:15,770 --> 00:19:17,870
whatever all right so that's fail number

318
00:19:17,870 --> 00:19:20,900
one number two not understanding the

319
00:19:20,900 --> 00:19:22,780
difference between user names and roles

320
00:19:22,780 --> 00:19:25,430
it's a lot harder to screw this up now

321
00:19:25,430 --> 00:19:27,080
than it was maybe a year ago but we

322
00:19:27,080 --> 00:19:28,850
still see it all the time so developer

323
00:19:28,850 --> 00:19:31,010
singing in terms of on-prem said of

324
00:19:31,010 --> 00:19:33,170
thinking usernames and passwords and I

325
00:19:33,170 --> 00:19:35,480
need a user that has access to this kind

326
00:19:35,480 --> 00:19:38,630
of LDAP style like they would an ad it

327
00:19:38,630 --> 00:19:40,850
should be all about roles so when a box

328
00:19:40,850 --> 00:19:42,710
starts up a call at an instance role is

329
00:19:42,710 --> 00:19:44,720
then you've granted permissions to the

330
00:19:44,720 --> 00:19:47,210
Box inherently and it's engrained into

331
00:19:47,210 --> 00:19:49,220
the box it's not using a credential per

332
00:19:49,220 --> 00:19:51,860
se there's and it's even difficult to

333
00:19:51,860 --> 00:19:53,720
explain just in a sense there's a lot of

334
00:19:53,720 --> 00:19:55,340
nuance in there but basically there's a

335
00:19:55,340 --> 00:19:57,920
right way in a wrong way and at no point

336
00:19:57,920 --> 00:19:59,240
this should be pretty obvious should a

337
00:19:59,240 --> 00:20:00,860
box it doesn't need the privilege have

338
00:20:00,860 --> 00:20:03,290
it right but it's always easier to over

339
00:20:03,290 --> 00:20:05,300
privilege and so now this box has an

340
00:20:05,300 --> 00:20:08,190
admin role as its booted up and it's 90

341
00:20:08,190 --> 00:20:10,590
the proper role okay so that's double

342
00:20:10,590 --> 00:20:14,399
facepalm it's the triple facepalm when

343
00:20:14,399 --> 00:20:17,490
now we have a public bucket this is like

344
00:20:17,490 --> 00:20:19,440
the one cloud security thing that

345
00:20:19,440 --> 00:20:21,179
everybody knows is don't have a public

346
00:20:21,179 --> 00:20:23,700
bucket still happens there's a lot of

347
00:20:23,700 --> 00:20:26,220
reasons for it often sharing data

348
00:20:26,220 --> 00:20:27,840
between partners is the biggest one

349
00:20:27,840 --> 00:20:29,549
because you don't exactly know who

350
00:20:29,549 --> 00:20:30,659
you're going to email to give a

351
00:20:30,659 --> 00:20:32,580
credential to or something like that so

352
00:20:32,580 --> 00:20:36,509
it just organically happens and both

353
00:20:36,509 --> 00:20:38,190
Amazon and Azure have gone to great

354
00:20:38,190 --> 00:20:40,259
lengths to try to notify you and this is

355
00:20:40,259 --> 00:20:42,600
happening and it's still not gonna help

356
00:20:42,600 --> 00:20:44,309
because when you set up the public

357
00:20:44,309 --> 00:20:45,779
bucket you probably are intentionally

358
00:20:45,779 --> 00:20:47,100
setting up a public bucket because

359
00:20:47,100 --> 00:20:48,210
there's nothing in there yet you're like

360
00:20:48,210 --> 00:20:49,500
I'm gonna drop this one file in there

361
00:20:49,500 --> 00:20:52,200
it's gonna be great yeah it doesn't go

362
00:20:52,200 --> 00:20:54,509
great but it's an age-old security

363
00:20:54,509 --> 00:20:57,480
problem especially bad when the

364
00:20:57,480 --> 00:20:59,669
developer thinks well when this script

365
00:20:59,669 --> 00:21:01,860
starts up it needs credentials I'll just

366
00:21:01,860 --> 00:21:03,419
store the credentials in a config file

367
00:21:03,419 --> 00:21:06,029
and I'll put that config file in s3 okay

368
00:21:06,029 --> 00:21:09,090
now we have a real problem alright so

369
00:21:09,090 --> 00:21:11,730
what will happen is the attacker comes

370
00:21:11,730 --> 00:21:13,919
in they notice their server because they

371
00:21:13,919 --> 00:21:15,779
can get into this box that's bad that

372
00:21:15,779 --> 00:21:18,149
box has way more access than it should

373
00:21:18,149 --> 00:21:21,269
and so happens they've got to get out of

374
00:21:21,269 --> 00:21:23,399
this without much of a problem except

375
00:21:23,399 --> 00:21:24,990
that the some of the data in the

376
00:21:24,990 --> 00:21:26,490
database that they were able to see Cole

377
00:21:26,490 --> 00:21:29,070
inject into referred to an s3 bucket so

378
00:21:29,070 --> 00:21:30,750
they were able to discover this s3

379
00:21:30,750 --> 00:21:32,009
bucket that they normally wouldn't know

380
00:21:32,009 --> 00:21:34,950
about fun fact you can enumerate s3

381
00:21:34,950 --> 00:21:37,649
buckets using DNS so you can pretty much

382
00:21:37,649 --> 00:21:39,169
a numerator them as fast as you want

383
00:21:39,169 --> 00:21:41,639
because every bucket has a unique DNS

384
00:21:41,639 --> 00:21:44,190
entry so if you find out that there's a

385
00:21:44,190 --> 00:21:45,840
prefix that a company is using you could

386
00:21:45,840 --> 00:21:47,639
start going through there it's another

387
00:21:47,639 --> 00:21:50,429
great using reason to use templates for

388
00:21:50,429 --> 00:21:51,779
instance CloudFormation templates will

389
00:21:51,779 --> 00:21:53,580
automatically append a giant random

390
00:21:53,580 --> 00:21:55,200
string to the end of everything which

391
00:21:55,200 --> 00:21:56,700
will completely save your bacon in that

392
00:21:56,700 --> 00:21:59,129
scenario because it would take you know

393
00:21:59,129 --> 00:22:00,840
thousands of years to be able to do

394
00:22:00,840 --> 00:22:02,940
enough DNS queries to find that but if

395
00:22:02,940 --> 00:22:04,200
you just go in and you're manually

396
00:22:04,200 --> 00:22:06,179
naming stuff then you're gonna end up

397
00:22:06,179 --> 00:22:08,399
with you know a very predictable bucket

398
00:22:08,399 --> 00:22:10,409
name can be discovered all those things

399
00:22:10,409 --> 00:22:13,710
pentesters out there the NS script you

400
00:22:13,710 --> 00:22:15,690
know parallelized all that and you can

401
00:22:15,690 --> 00:22:18,990
start doing some bucket scanning alright

402
00:22:18,990 --> 00:22:20,549
well they didn't have to do that because

403
00:22:20,549 --> 00:22:22,520
that was somehow ended

404
00:22:22,520 --> 00:22:24,770
that was unfortunate and what was super

405
00:22:24,770 --> 00:22:26,840
unfortunate was that even though they

406
00:22:26,840 --> 00:22:29,030
didn't get the the database to give them

407
00:22:29,030 --> 00:22:32,720
straight credentials the s3 contained a

408
00:22:32,720 --> 00:22:35,570
file that had the credentials and this

409
00:22:35,570 --> 00:22:41,270
leads to step five bonus subnet this

410
00:22:41,270 --> 00:22:44,179
happens all the time so if you think of

411
00:22:44,179 --> 00:22:47,360
why criminals are stealing usernames

412
00:22:47,360 --> 00:22:49,460
passwords bank accounts they're trying

413
00:22:49,460 --> 00:22:50,840
to take knowledge and convert it into

414
00:22:50,840 --> 00:22:53,480
money this skips an entire step why go

415
00:22:53,480 --> 00:22:55,549
to all that bother just Bitcoin mine you

416
00:22:55,549 --> 00:22:56,900
get the credentials spin up as many

417
00:22:56,900 --> 00:22:58,640
boxes as possible if you're nice till

418
00:22:58,640 --> 00:22:59,929
you spot instances because they're nice

419
00:22:59,929 --> 00:23:01,160
and cheap and you get even more out of

420
00:23:01,160 --> 00:23:01,490
it

421
00:23:01,490 --> 00:23:04,220
and if you are a pretty big customer

422
00:23:04,220 --> 00:23:06,919
that means your cloud customer your Tam

423
00:23:06,919 --> 00:23:09,200
is probably gonna call you and say did

424
00:23:09,200 --> 00:23:11,390
you mean to spin up 10,000 boxes last

425
00:23:11,390 --> 00:23:12,890
night because it seems like a lot you

426
00:23:12,890 --> 00:23:15,530
don't normally do that that's if you're

427
00:23:15,530 --> 00:23:15,890
lucky

428
00:23:15,890 --> 00:23:17,750
most places don't have an account big

429
00:23:17,750 --> 00:23:18,950
enough to have a person who actually

430
00:23:18,950 --> 00:23:21,169
wants for this and this is where

431
00:23:21,169 --> 00:23:24,260
instance limits really pays off in

432
00:23:24,260 --> 00:23:26,059
general because if you're just starting

433
00:23:26,059 --> 00:23:27,440
out you probably have a limit of like

434
00:23:27,440 --> 00:23:29,900
100 or so box but if you are a personal

435
00:23:29,900 --> 00:23:31,280
developer and you're just trying to get

436
00:23:31,280 --> 00:23:33,500
going you're gonna have a bad time at

437
00:23:33,500 --> 00:23:34,520
the end of the month when that billing

438
00:23:34,520 --> 00:23:35,870
statement comes through because that's

439
00:23:35,870 --> 00:23:37,220
gonna be the first time you notice that

440
00:23:37,220 --> 00:23:39,020
I think it's like a hundred boxes by by

441
00:23:39,020 --> 00:23:41,419
default for a personal account that's

442
00:23:41,419 --> 00:23:43,760
that's a lot of money and if you're a

443
00:23:43,760 --> 00:23:45,559
medium-sized business it's going to be

444
00:23:45,559 --> 00:23:47,150
way more than 100 boxes and it's gonna

445
00:23:47,150 --> 00:23:49,250
be a significant amount of money and

446
00:23:49,250 --> 00:23:52,520
this works so the and it's really hard

447
00:23:52,520 --> 00:23:54,500
on the cloud provider side I remember

448
00:23:54,500 --> 00:23:55,640
Joanna's comment well the cloud

449
00:23:55,640 --> 00:23:57,590
shouldn't have any access to my code I

450
00:23:57,590 --> 00:23:58,760
don't want them to know about it they

451
00:23:58,760 --> 00:24:00,470
aren't and they don't and the reason I

452
00:24:00,470 --> 00:24:02,030
know that is they have no idea the

453
00:24:02,030 --> 00:24:03,710
difference between an overloaded

454
00:24:03,710 --> 00:24:05,150
database and a Bitcoin miner

455
00:24:05,150 --> 00:24:06,740
it's basically proof to me that they are

456
00:24:06,740 --> 00:24:09,290
not snooping on this stuff because

457
00:24:09,290 --> 00:24:10,640
otherwise they would just say oh yeah

458
00:24:10,640 --> 00:24:11,030
anytime

459
00:24:11,030 --> 00:24:12,470
Bitcoin starts up then we're gonna

460
00:24:12,470 --> 00:24:13,970
notify you they don't do that right now

461
00:24:13,970 --> 00:24:15,320
they have no idea what's running on your

462
00:24:15,320 --> 00:24:16,720
boxes because that's your business

463
00:24:16,720 --> 00:24:18,650
in this case that would be really

464
00:24:18,650 --> 00:24:20,360
helpful to know it'd be nice to know

465
00:24:20,360 --> 00:24:22,910
that new boxes spun up if you think well

466
00:24:22,910 --> 00:24:24,350
I'm gonna prevent that by running an

467
00:24:24,350 --> 00:24:26,059
endpoint agent on there well no you're

468
00:24:26,059 --> 00:24:27,049
not they're gonna spin up their own

469
00:24:27,049 --> 00:24:28,309
agent right they're gonna spin up their

470
00:24:28,309 --> 00:24:29,990
own box they're not gonna use the golden

471
00:24:29,990 --> 00:24:31,370
image that you created that has all your

472
00:24:31,370 --> 00:24:32,750
endpoint stuff on they're not gonna

473
00:24:32,750 --> 00:24:33,350
happen

474
00:24:33,350 --> 00:24:34,880
so there's really not a whole lot you

475
00:24:34,880 --> 00:24:36,440
can do to prevent it other than watching

476
00:24:36,440 --> 00:24:39,289
the API calls very carefully and having

477
00:24:39,289 --> 00:24:40,549
really good visibility into what's going

478
00:24:40,549 --> 00:24:43,519
on alright so how we're going to detect

479
00:24:43,519 --> 00:24:46,490
that well some of the basic stuff

480
00:24:46,490 --> 00:24:49,130
hopefully you can alert anytime and any

481
00:24:49,130 --> 00:24:51,710
any ackles created it probably has that

482
00:24:51,710 --> 00:24:53,120
on purim you can certainly do that with

483
00:24:53,120 --> 00:24:54,710
cloud it's really easy

484
00:24:54,710 --> 00:24:56,240
same thing when a public bucket is

485
00:24:56,240 --> 00:24:58,399
created again at least Amazon I'm pretty

486
00:24:58,399 --> 00:24:59,809
sure Asher has a thing for this too

487
00:24:59,809 --> 00:25:02,240
will basically put a big red flag on any

488
00:25:02,240 --> 00:25:04,580
public bucket but again the developer

489
00:25:04,580 --> 00:25:06,139
probably wanted it to be public because

490
00:25:06,139 --> 00:25:06,950
they didn't think it was going to be a

491
00:25:06,950 --> 00:25:08,389
problem

492
00:25:08,389 --> 00:25:10,129
you can have it but your security will

493
00:25:10,129 --> 00:25:11,389
know it's a problem so you want to make

494
00:25:11,389 --> 00:25:12,799
sure that that information gets you know

495
00:25:12,799 --> 00:25:15,049
past the developer to security so that

496
00:25:15,049 --> 00:25:16,399
they can do something about it and start

497
00:25:16,399 --> 00:25:18,289
enforce policies you're gonna want to

498
00:25:18,289 --> 00:25:20,120
alert on an instance of booking a user

499
00:25:20,120 --> 00:25:21,679
channel instead of a role talked about

500
00:25:21,679 --> 00:25:23,360
that a little bit it's pretty

501
00:25:23,360 --> 00:25:25,309
fine-grained into the sort of iam

502
00:25:25,309 --> 00:25:27,679
permissions and all that stuff but it's

503
00:25:27,679 --> 00:25:29,919
it's easy to programmatically alert on

504
00:25:29,919 --> 00:25:33,110
if you're in a position where you get

505
00:25:33,110 --> 00:25:34,789
access to the data right and that was

506
00:25:34,789 --> 00:25:36,830
kind of that first part is shadow IT all

507
00:25:36,830 --> 00:25:38,299
those things can often make it hard to

508
00:25:38,299 --> 00:25:40,850
even get set up to do this and then

509
00:25:40,850 --> 00:25:42,379
anytime you have a box that's being

510
00:25:42,379 --> 00:25:44,059
manually booted that's a great one to at

511
00:25:44,059 --> 00:25:45,649
least take a look at now that happens

512
00:25:45,649 --> 00:25:47,000
all the time I mean a developer

513
00:25:47,000 --> 00:25:48,440
especially in your sandbox account or

514
00:25:48,440 --> 00:25:49,610
something will spin something up take a

515
00:25:49,610 --> 00:25:50,899
look at shut it down is how they do

516
00:25:50,899 --> 00:25:52,970
research right and so some of this is

517
00:25:52,970 --> 00:25:55,970
just legwork I was I had a thought just

518
00:25:55,970 --> 00:25:58,070
like wearing the the crazy cloud jacket

519
00:25:58,070 --> 00:26:00,889
wearing the crazy cloud jacket and doing

520
00:26:00,889 --> 00:26:03,169
a little bit of a game show called

521
00:26:03,169 --> 00:26:06,259
who booted that box and the more I

522
00:26:06,259 --> 00:26:07,460
played it out of my head I'm like this

523
00:26:07,460 --> 00:26:09,259
is not worth bothering people to come up

524
00:26:09,259 --> 00:26:11,000
and because the answer is you can almost

525
00:26:11,000 --> 00:26:12,679
never tell who booted a box and the

526
00:26:12,679 --> 00:26:15,049
answer is just always no so I called

527
00:26:15,049 --> 00:26:16,730
three people and I'd say who go to that

528
00:26:16,730 --> 00:26:18,559
box they'd say I don't own it say up you

529
00:26:18,559 --> 00:26:19,519
lose again have a seat

530
00:26:19,519 --> 00:26:21,769
that's the show because nobody ever

531
00:26:21,769 --> 00:26:23,389
knows who booted the box yet the call a

532
00:26:23,389 --> 00:26:25,820
guy or a gal and ask why did you boot

533
00:26:25,820 --> 00:26:27,830
that box and you would only do that if

534
00:26:27,830 --> 00:26:29,659
it already looked really fishy which is

535
00:26:29,659 --> 00:26:31,549
kind of a hard thing to programmatically

536
00:26:31,549 --> 00:26:33,860
say but if you think back to that

537
00:26:33,860 --> 00:26:36,500
pyramid the hope is that you can

538
00:26:36,500 --> 00:26:38,720
automate out all the really basic stuff

539
00:26:38,720 --> 00:26:40,490
to get to the point where your sock is

540
00:26:40,490 --> 00:26:42,230
actually understanding the development

541
00:26:42,230 --> 00:26:43,940
projects that are occurring to that

542
00:26:43,940 --> 00:26:45,470
level they know developers or they can

543
00:26:45,470 --> 00:26:47,120
at least access gear or what

544
00:26:47,120 --> 00:26:49,400
to figure out should person have done

545
00:26:49,400 --> 00:26:50,570
that it's really weird what they're

546
00:26:50,570 --> 00:26:52,460
doing have a conversation so you get

547
00:26:52,460 --> 00:26:55,700
that sort of dev SEC ops rainbow unicorn

548
00:26:55,700 --> 00:26:57,980
stuff going on which is difficult to

549
00:26:57,980 --> 00:26:59,300
pull off but it's basically going to be

550
00:26:59,300 --> 00:27:03,110
required if you want this to work all

551
00:27:03,110 --> 00:27:05,630
right what about hunting so a few basic

552
00:27:05,630 --> 00:27:07,970
things fairly self-evident but just

553
00:27:07,970 --> 00:27:09,500
calling them out specifically we're

554
00:27:09,500 --> 00:27:11,450
there any any new IPS that access this

555
00:27:11,450 --> 00:27:13,580
thing again this is soup you're having

556
00:27:13,580 --> 00:27:14,870
your developers generally come in

557
00:27:14,870 --> 00:27:17,600
through one place there any objects that

558
00:27:17,600 --> 00:27:19,160
are coming out us three s3 object

559
00:27:19,160 --> 00:27:21,650
logging is actually pretty easy to do it

560
00:27:21,650 --> 00:27:23,840
can be quite voluminous so just like

561
00:27:23,840 --> 00:27:26,150
Dave Kennedy was saying earlier a lot of

562
00:27:26,150 --> 00:27:27,560
places don't want to do it it gets to be

563
00:27:27,560 --> 00:27:28,580
too much

564
00:27:28,580 --> 00:27:30,080
it's worth it you should definitely turn

565
00:27:30,080 --> 00:27:31,910
it on there might be one or two buckets

566
00:27:31,910 --> 00:27:33,440
that are so crazy busy you have to turn

567
00:27:33,440 --> 00:27:34,700
it off but those are probably not the

568
00:27:34,700 --> 00:27:35,570
buckets that you're worried about

569
00:27:35,570 --> 00:27:38,600
generally it's it's these buckets that

570
00:27:38,600 --> 00:27:40,610
you reel to know who's downloading what

571
00:27:40,610 --> 00:27:43,430
because I bet you if your socks filename

572
00:27:43,430 --> 00:27:45,200
come through that said you know admin

573
00:27:45,200 --> 00:27:46,880
credentials they would probably ask some

574
00:27:46,880 --> 00:27:49,580
questions the developer didn't and then

575
00:27:49,580 --> 00:27:51,140
back to the user agents and IPS these

576
00:27:51,140 --> 00:27:53,360
are still that for now they're still

577
00:27:53,360 --> 00:27:55,070
valuable it's worth looking at there

578
00:27:55,070 --> 00:27:56,450
probably will be a day soon that they

579
00:27:56,450 --> 00:27:58,250
won't be very helpful but it's at least

580
00:27:58,250 --> 00:28:01,700
least worth taking a look at all right

581
00:28:01,700 --> 00:28:03,620
so how do we how do we get to this point

582
00:28:03,620 --> 00:28:05,450
where we still have all these problems

583
00:28:05,450 --> 00:28:07,520
clouds supposed to be awesome it's not

584
00:28:07,520 --> 00:28:10,670
always awesome well that's because of

585
00:28:10,670 --> 00:28:12,920
how we get there and I've talked to

586
00:28:12,920 --> 00:28:15,350
probably half of the fortune 100 at this

587
00:28:15,350 --> 00:28:17,720
point on their their cloud migration and

588
00:28:17,720 --> 00:28:20,240
and how to secure that at this point I

589
00:28:20,240 --> 00:28:22,280
consider myself a cloud counselor versus

590
00:28:22,280 --> 00:28:25,280
you know whatever rank a CTO for cloud

591
00:28:25,280 --> 00:28:27,800
and like I normally I have whiskey

592
00:28:27,800 --> 00:28:30,380
involved because it's a it's a difficult

593
00:28:30,380 --> 00:28:32,240
conversations people think through this

594
00:28:32,240 --> 00:28:33,470
well how in the world this is going to

595
00:28:33,470 --> 00:28:36,230
work so general or the lift and shift

596
00:28:36,230 --> 00:28:38,810
which is there the garage sale moment

597
00:28:38,810 --> 00:28:40,160
where they decide you know it's this

598
00:28:40,160 --> 00:28:42,890
coming with yes or no and that gives you

599
00:28:42,890 --> 00:28:45,170
a little bit of savings companies you

600
00:28:45,170 --> 00:28:46,610
say about 10 percent right there because

601
00:28:46,610 --> 00:28:48,530
they're just running less because they

602
00:28:48,530 --> 00:28:49,520
decided there were stuff that could

603
00:28:49,520 --> 00:28:50,960
consolidate or they wouldn't wouldn't

604
00:28:50,960 --> 00:28:53,480
run and this from a security standpoint

605
00:28:53,480 --> 00:28:55,400
this is not too bad because you

606
00:28:55,400 --> 00:28:57,290
generally just taking literally

607
00:28:57,290 --> 00:28:58,970
everything you had on Prime and putting

608
00:28:58,970 --> 00:29:00,330
it up the cloud same

609
00:29:00,330 --> 00:29:02,580
firewalls same endpoint all that stuff

610
00:29:02,580 --> 00:29:05,549
things mostly makes sense kind of a you

611
00:29:05,549 --> 00:29:06,960
know just a different name on the data

612
00:29:06,960 --> 00:29:08,549
center sort of thing and yes there are

613
00:29:08,549 --> 00:29:10,529
some API things you have to worry about

614
00:29:10,529 --> 00:29:12,840
it's not too bad but that you have that

615
00:29:12,840 --> 00:29:15,990
familiar security posture the part where

616
00:29:15,990 --> 00:29:18,120
you get the most benefit as a company

617
00:29:18,120 --> 00:29:20,130
from is when you go and I'm a huge

618
00:29:20,130 --> 00:29:22,440
serverless fan for a lot of reasons you

619
00:29:22,440 --> 00:29:23,850
could just get more work done faster

620
00:29:23,850 --> 00:29:26,429
that way I sometimes an unpopular

621
00:29:26,429 --> 00:29:27,899
opinion depending on the room but I've

622
00:29:27,899 --> 00:29:30,779
seen it and it containers all that stuff

623
00:29:30,779 --> 00:29:32,399
you can go really fast you can do it

624
00:29:32,399 --> 00:29:34,679
more securely if you do it right there's

625
00:29:34,679 --> 00:29:36,779
a great reason to do it but you have to

626
00:29:36,779 --> 00:29:37,980
learn the right way to do it you have to

627
00:29:37,980 --> 00:29:40,019
invest if the Train if they understand

628
00:29:40,019 --> 00:29:42,000
what you're doing and that's where we

629
00:29:42,000 --> 00:29:45,059
run into problems because not all it is

630
00:29:45,059 --> 00:29:46,710
it hard for the developers to learn how

631
00:29:46,710 --> 00:29:48,360
to do it or I should say hard but they

632
00:29:48,360 --> 00:29:50,789
have to actually learn the other problem

633
00:29:50,789 --> 00:29:52,440
is that the security itself is entirely

634
00:29:52,440 --> 00:29:52,950
different

635
00:29:52,950 --> 00:29:57,350
who here is used in OBS lambda before

636
00:29:57,350 --> 00:30:01,529
okay whew there's not really an IP

637
00:30:01,529 --> 00:30:03,149
address involved with Lambeth there's

638
00:30:03,149 --> 00:30:04,830
not really an operating system involved

639
00:30:04,830 --> 00:30:06,990
yes underneath the hood it's Turtles all

640
00:30:06,990 --> 00:30:08,850
the way down I know the cloud of

641
00:30:08,850 --> 00:30:10,529
somebody else's compute but I'm a

642
00:30:10,529 --> 00:30:11,669
business standpoint the cloud is not

643
00:30:11,669 --> 00:30:12,539
someone else's computer

644
00:30:12,539 --> 00:30:14,220
it is a prompt where I type stuff and it

645
00:30:14,220 --> 00:30:15,750
runs I don't care about the underlying

646
00:30:15,750 --> 00:30:17,639
stuff that was the whole point so while

647
00:30:17,639 --> 00:30:18,960
they're technically is something running

648
00:30:18,960 --> 00:30:21,929
under the hood for 99.9 repeating

649
00:30:21,929 --> 00:30:23,460
percent of you you don't care about it

650
00:30:23,460 --> 00:30:25,139
there as far as you're concerned there

651
00:30:25,139 --> 00:30:26,700
is no operating system as far as you're

652
00:30:26,700 --> 00:30:28,529
concerned there is no IP address and

653
00:30:28,529 --> 00:30:30,600
that means a lot of the things you count

654
00:30:30,600 --> 00:30:32,250
on for security and your day to day when

655
00:30:32,250 --> 00:30:33,480
you sit down in your chair in the sock

656
00:30:33,480 --> 00:30:36,149
well we have a lot less to go on now now

657
00:30:36,149 --> 00:30:38,760
it's all about logins about application

658
00:30:38,760 --> 00:30:41,250
logging so now again we had said you

659
00:30:41,250 --> 00:30:42,480
might have to call developer you might

660
00:30:42,480 --> 00:30:43,260
actually have to sit down with the

661
00:30:43,260 --> 00:30:44,250
developers and tell them they need to

662
00:30:44,250 --> 00:30:46,409
log more they actually record what that

663
00:30:46,409 --> 00:30:47,970
app is doing so there's something to

664
00:30:47,970 --> 00:30:50,669
audit because you're not going to have a

665
00:30:50,669 --> 00:30:52,769
peek app for what's going on because

666
00:30:52,769 --> 00:30:54,269
there's not a server you're not going to

667
00:30:54,269 --> 00:30:55,679
have an endpoint agent that you can run

668
00:30:55,679 --> 00:30:58,620
and you need to understand how your your

669
00:30:58,620 --> 00:30:59,789
gonna be able to secure that because

670
00:30:59,789 --> 00:31:00,899
there's still important critical

671
00:31:00,899 --> 00:31:02,190
mission-critical stuff coming through

672
00:31:02,190 --> 00:31:03,840
this pipeline it just doesn't have

673
00:31:03,840 --> 00:31:05,700
anything to do with all the the tools

674
00:31:05,700 --> 00:31:07,380
that you're used to and that's really

675
00:31:07,380 --> 00:31:11,789
the big change so there was a great

676
00:31:11,789 --> 00:31:13,350
YouTube video about I think it's two

677
00:31:13,350 --> 00:31:14,490
years ago at the

678
00:31:14,490 --> 00:31:16,820
chaos competing convention in europe

679
00:31:16,820 --> 00:31:19,410
this video is amazing so this guy just

680
00:31:19,410 --> 00:31:21,960
showed basically this how you can use

681
00:31:21,960 --> 00:31:23,910
the cron like persistence we've seen

682
00:31:23,910 --> 00:31:26,010
attackers used for years now where a

683
00:31:26,010 --> 00:31:27,600
cron job will make sure that you know

684
00:31:27,600 --> 00:31:29,160
all their backdoor stuff is still there

685
00:31:29,160 --> 00:31:30,570
you can do the same thing with something

686
00:31:30,570 --> 00:31:33,000
like lambda so you can have a lambda run

687
00:31:33,000 --> 00:31:34,830
in a schedule and so what you can do is

688
00:31:34,830 --> 00:31:37,260
create a lambda that makes an API call

689
00:31:37,260 --> 00:31:39,570
to delete itself and then makes another

690
00:31:39,570 --> 00:31:41,940
API call that says in 60 seconds

691
00:31:41,940 --> 00:31:44,400
recreate myself it's kind of cool

692
00:31:44,400 --> 00:31:47,100
it's cute but actually works and so what

693
00:31:47,100 --> 00:31:48,990
you have this is a situation where as a

694
00:31:48,990 --> 00:31:50,880
admin if you go to the console and say

695
00:31:50,880 --> 00:31:52,860
with something funky is going on I want

696
00:31:52,860 --> 00:31:54,090
to look at all the lambdas there won't

697
00:31:54,090 --> 00:31:56,550
be a lambda there it doesn't exist on

698
00:31:56,550 --> 00:31:58,500
the admin console and yet it's running

699
00:31:58,500 --> 00:32:01,040
now and it will run basically forever

700
00:32:01,040 --> 00:32:04,080
it's actually kind of hard to go and get

701
00:32:04,080 --> 00:32:07,020
you might see it in the law groups or

702
00:32:07,020 --> 00:32:08,940
something like that getting back to that

703
00:32:08,940 --> 00:32:10,320
audit trail but you're not going to see

704
00:32:10,320 --> 00:32:12,090
it in the traditional sense so it's just

705
00:32:12,090 --> 00:32:14,040
a great example of sort of the new

706
00:32:14,040 --> 00:32:15,360
paradigm that as you go to the cloud

707
00:32:15,360 --> 00:32:16,860
you're gonna have to learn it's not hard

708
00:32:16,860 --> 00:32:18,720
it's not too bad but it's just a

709
00:32:18,720 --> 00:32:23,309
different surface area alright so it

710
00:32:23,309 --> 00:32:26,429
said talk about joining again so this

711
00:32:26,429 --> 00:32:27,870
one caught my eye it was a forum post

712
00:32:27,870 --> 00:32:31,380
and this just general IT admin could not

713
00:32:31,380 --> 00:32:33,750
for the life of him keep his HR

714
00:32:33,750 --> 00:32:35,580
recruiters laptops from getting owned

715
00:32:35,580 --> 00:32:39,030
every single day it was a reimage every

716
00:32:39,030 --> 00:32:41,100
morning and he and you think about it

717
00:32:41,100 --> 00:32:43,110
and this happens in the legal world

718
00:32:43,110 --> 00:32:45,600
plenty if your job is to take in

719
00:32:45,600 --> 00:32:47,970
unsolicited Word docs you are in a

720
00:32:47,970 --> 00:32:49,950
really rough spot right now because

721
00:32:49,950 --> 00:32:52,500
there's it's so easy to own people using

722
00:32:52,500 --> 00:32:54,780
macros and things like that that are you

723
00:32:54,780 --> 00:32:56,900
know AV is not catching this stuff

724
00:32:56,900 --> 00:32:59,280
you're lucky if if your email is

725
00:32:59,280 --> 00:33:01,290
catching it and a lot of time this thing

726
00:33:01,290 --> 00:33:03,420
this goes through things like Newton or

727
00:33:03,420 --> 00:33:06,480
some other recruiter SAS applications

728
00:33:06,480 --> 00:33:08,700
where you don't get direct access for

729
00:33:08,700 --> 00:33:10,770
your security tools onto these events

730
00:33:10,770 --> 00:33:13,230
and so you have all these unvetted Word

731
00:33:13,230 --> 00:33:15,330
docs and Excel spreadsheets and PDFs

732
00:33:15,330 --> 00:33:17,490
coming through going directly to laptops

733
00:33:17,490 --> 00:33:19,380
in your organization and just completely

734
00:33:19,380 --> 00:33:21,630
owning them and so this guy decided that

735
00:33:21,630 --> 00:33:23,970
he's gonna he was that as wit's end so

736
00:33:23,970 --> 00:33:25,890
he's going to put them all on you know

737
00:33:25,890 --> 00:33:27,600
the cubes OS which is getting a little

738
00:33:27,600 --> 00:33:27,900
bit

739
00:33:27,900 --> 00:33:28,890
popular now but it's still pretty

740
00:33:28,890 --> 00:33:30,870
esoteric for just a general IT admin to

741
00:33:30,870 --> 00:33:32,940
know about or care about and that was

742
00:33:32,940 --> 00:33:34,110
the solution he was like I got to do

743
00:33:34,110 --> 00:33:37,410
something super drastic with this and it

744
00:33:37,410 --> 00:33:38,820
so that really caught my eye that this

745
00:33:38,820 --> 00:33:40,830
is a big problem that that we have and

746
00:33:40,830 --> 00:33:43,440
this is kind of the pattern so you have

747
00:33:43,440 --> 00:33:44,940
a CRM that doesn't have any

748
00:33:44,940 --> 00:33:46,500
instrumentation on it that you're used

749
00:33:46,500 --> 00:33:48,540
to that you've mandated but you don't

750
00:33:48,540 --> 00:33:50,070
really have it you know saying this

751
00:33:50,070 --> 00:33:53,130
right as security admins you can't tell

752
00:33:53,130 --> 00:33:54,630
them what recruiting software to use

753
00:33:54,630 --> 00:33:56,970
they're gonna use it maybe if they get

754
00:33:56,970 --> 00:33:58,830
owned enough they'll decide they want to

755
00:33:58,830 --> 00:34:00,210
change but there's not really that many

756
00:34:00,210 --> 00:34:01,560
to choose from and it's not just

757
00:34:01,560 --> 00:34:03,060
recruiting software there's a lot of

758
00:34:03,060 --> 00:34:05,160
different kinds of variations on this

759
00:34:05,160 --> 00:34:07,770
but that's the general pattern that we

760
00:34:07,770 --> 00:34:10,590
see all right so what's the next in

761
00:34:10,590 --> 00:34:13,050
cloud threats time here pretty good all

762
00:34:13,050 --> 00:34:15,210
right I do want to take questions at the

763
00:34:15,210 --> 00:34:17,570
end by the way so make sure we say time

764
00:34:17,570 --> 00:34:21,418
so on the confidentiality side the the

765
00:34:21,418 --> 00:34:24,480
plastic CIA triangle here data theft

766
00:34:24,480 --> 00:34:25,739
that's the one that's in the news all

767
00:34:25,739 --> 00:34:27,440
the time like this is obvious right

768
00:34:27,440 --> 00:34:29,790
accessibility this is a DDoS problem

769
00:34:29,790 --> 00:34:32,190
Dylan is plenty very understood what

770
00:34:32,190 --> 00:34:33,719
about integrity this one I feel like

771
00:34:33,719 --> 00:34:36,480
it's forgotten quite a bit so I did a

772
00:34:36,480 --> 00:34:39,449
workshop at RSA this year where we did

773
00:34:39,449 --> 00:34:41,010
sort of a purple team thing and we came

774
00:34:41,010 --> 00:34:43,409
in and we hacked some server list stuff

775
00:34:43,409 --> 00:34:45,239
using basically parameter injection

776
00:34:45,239 --> 00:34:47,850
nothing too fancy but the sort of

777
00:34:47,850 --> 00:34:50,610
capture the flag element was changing a

778
00:34:50,610 --> 00:34:52,889
data file and I think the question that

779
00:34:52,889 --> 00:34:55,889
I'm posing here is is about integrity so

780
00:34:55,889 --> 00:34:58,080
how do you know if something has been

781
00:34:58,080 --> 00:35:00,780
changed but not deleted or not you know

782
00:35:00,780 --> 00:35:02,820
put on the dark web that's that's the

783
00:35:02,820 --> 00:35:04,230
thing that keeps me up at night is how

784
00:35:04,230 --> 00:35:06,120
do you know and it's you can expand this

785
00:35:06,120 --> 00:35:07,980
into election results things like that

786
00:35:07,980 --> 00:35:10,110
how do we monitor for the integrity is

787
00:35:10,110 --> 00:35:11,610
something like that when it's data and

788
00:35:11,610 --> 00:35:12,960
we don't really have like a checksum

789
00:35:12,960 --> 00:35:15,000
that says well this entire data set

790
00:35:15,000 --> 00:35:16,230
should have this checksum that might

791
00:35:16,230 --> 00:35:17,760
work well for you know one single

792
00:35:17,760 --> 00:35:20,310
researchers file but if we say how do we

793
00:35:20,310 --> 00:35:22,500
know that the entire corpus of all the

794
00:35:22,500 --> 00:35:24,210
transactions for today in this database

795
00:35:24,210 --> 00:35:27,000
are correct I mean you get into

796
00:35:27,000 --> 00:35:28,440
blockchain some of those kinds of things

797
00:35:28,440 --> 00:35:32,130
maybe that will help from ml standpoint

798
00:35:32,130 --> 00:35:34,110
this is where I in the workshop we

799
00:35:34,110 --> 00:35:36,060
talked about this in a simple fraud use

800
00:35:36,060 --> 00:35:39,450
case and there's a an angle on this from

801
00:35:39,450 --> 00:35:41,740
the cloud security as well

802
00:35:41,740 --> 00:35:43,869
so the normally you would do this is you

803
00:35:43,869 --> 00:35:46,359
have a big transactional database and

804
00:35:46,359 --> 00:35:48,220
you do a nightly CSV export or you know

805
00:35:48,220 --> 00:35:50,020
something fancier than a CSV and that

806
00:35:50,020 --> 00:35:51,490
becomes your source data and that gets

807
00:35:51,490 --> 00:35:53,349
over to the machine learning guys and

808
00:35:53,349 --> 00:35:54,250
then they're gonna put it through all

809
00:35:54,250 --> 00:35:56,170
the training data and all that stuff now

810
00:35:56,170 --> 00:35:57,970
question number one do you have the same

811
00:35:57,970 --> 00:36:00,430
security around that you know

812
00:36:00,430 --> 00:36:02,560
transactional super important banking

813
00:36:02,560 --> 00:36:04,630
database that you do all those CSV files

814
00:36:04,630 --> 00:36:06,490
that you just exported and then toad it

815
00:36:06,490 --> 00:36:08,830
all over the cloud are you tracking that

816
00:36:08,830 --> 00:36:14,020
with the same same rigor you have the

817
00:36:14,020 --> 00:36:16,089
same controls over that a lot of times I

818
00:36:16,089 --> 00:36:17,080
do but a lot of times you don't

819
00:36:17,080 --> 00:36:18,609
especially derivatives of that file

820
00:36:18,609 --> 00:36:20,020
might get sliced and diced and put other

821
00:36:20,020 --> 00:36:22,180
places but in any case you have this

822
00:36:22,180 --> 00:36:23,830
legitimate source data that you're

823
00:36:23,830 --> 00:36:25,540
hoping to protect is turned into

824
00:36:25,540 --> 00:36:26,950
training data may go into something

825
00:36:26,950 --> 00:36:29,650
fancy like a neural net and its job will

826
00:36:29,650 --> 00:36:31,089
say in this case is to detect fraudulent

827
00:36:31,089 --> 00:36:33,400
transactions as in it's really weird to

828
00:36:33,400 --> 00:36:34,839
transfer a million dollars into a

829
00:36:34,839 --> 00:36:36,369
Romanian bank account or something like

830
00:36:36,369 --> 00:36:36,580
that

831
00:36:36,580 --> 00:36:39,849
alert block that okay make sense well so

832
00:36:39,849 --> 00:36:42,730
the capture-the-flag part of the

833
00:36:42,730 --> 00:36:45,369
workshop was to basically add a few

834
00:36:45,369 --> 00:36:47,920
lines to the CSV that statistically made

835
00:36:47,920 --> 00:36:49,570
it normal to transfer a million dollars

836
00:36:49,570 --> 00:36:51,940
to Romania and that was actually pretty

837
00:36:51,940 --> 00:36:55,210
easy at least conceptually to do so if

838
00:36:55,210 --> 00:36:57,099
you hack that source data suddenly now

839
00:36:57,099 --> 00:36:58,750
you've hacked the application itself and

840
00:36:58,750 --> 00:37:00,550
so understanding again this is why it

841
00:37:00,550 --> 00:37:02,140
goes back to a pelagic how is the

842
00:37:02,140 --> 00:37:04,450
application working so if you can get to

843
00:37:04,450 --> 00:37:06,099
some small piece of that is that can

844
00:37:06,099 --> 00:37:07,359
affect the integrity of the overall

845
00:37:07,359 --> 00:37:09,790
thing alright so how are we gonna fight

846
00:37:09,790 --> 00:37:12,700
this over alt with visibility this is

847
00:37:12,700 --> 00:37:14,440
from last year's Mandy and M trends

848
00:37:14,440 --> 00:37:15,520
hopefully you guys are in the M trend

849
00:37:15,520 --> 00:37:17,320
here we'll put work into it there's a

850
00:37:17,320 --> 00:37:19,960
ton of good stuff in there we put out a

851
00:37:19,960 --> 00:37:23,530
lot of stats things like that but my IR

852
00:37:23,530 --> 00:37:26,800
guys had had my back from the the cloud

853
00:37:26,800 --> 00:37:28,690
practice and they are talking about the

854
00:37:28,690 --> 00:37:30,099
importance of visibility I didn't have

855
00:37:30,099 --> 00:37:32,020
to ask him to put it in there that was

856
00:37:32,020 --> 00:37:34,089
their own own recommendation having

857
00:37:34,089 --> 00:37:35,770
responded to so many incidents in the

858
00:37:35,770 --> 00:37:38,109
cloud was that visibility is what its

859
00:37:38,109 --> 00:37:39,910
gonna take and they were nice enough to

860
00:37:39,910 --> 00:37:42,430
give you a few self tests and I think

861
00:37:42,430 --> 00:37:44,010
that these are probably the most

862
00:37:44,010 --> 00:37:45,640
important there's probably most

863
00:37:45,640 --> 00:37:47,320
important slide the whole thing it's the

864
00:37:47,320 --> 00:37:49,960
least exciting but this is probably the

865
00:37:49,960 --> 00:37:51,190
most valuable because these are the

866
00:37:51,190 --> 00:37:52,570
litmus tests you can bring home and say

867
00:37:52,570 --> 00:37:54,670
okay is the answer yes now the for each

868
00:37:54,670 --> 00:37:55,569
one of these questions

869
00:37:55,569 --> 00:37:58,420
I mean have you operationalized that is

870
00:37:58,420 --> 00:38:00,640
in does the sock do this on a daily

871
00:38:00,640 --> 00:38:02,289
basis is this normal

872
00:38:02,289 --> 00:38:04,089
so can the organization see what files

873
00:38:04,089 --> 00:38:05,319
are being downloaded from a cloud-based

874
00:38:05,319 --> 00:38:07,329
storage site it doesn't mean after you

875
00:38:07,329 --> 00:38:08,709
know you have an incident can you go

876
00:38:08,709 --> 00:38:10,479
pull logs that would tell you that it

877
00:38:10,479 --> 00:38:12,039
means if there was something weird

878
00:38:12,039 --> 00:38:13,479
coming through there would you know

879
00:38:13,479 --> 00:38:15,279
about it before the FBI tells you about

880
00:38:15,279 --> 00:38:18,160
it our admin logins traction reviewed

881
00:38:18,160 --> 00:38:18,969
the same story

882
00:38:18,969 --> 00:38:21,789
these tracked and reviewed by sock you

883
00:38:21,789 --> 00:38:23,769
know regularly every day as in would

884
00:38:23,769 --> 00:38:26,499
less than 24 hours go by what about

885
00:38:26,499 --> 00:38:27,910
unauthorized provisioning and cloud

886
00:38:27,910 --> 00:38:29,380
infrastructure the who booted the Box

887
00:38:29,380 --> 00:38:31,569
game show starts right up here your sock

888
00:38:31,569 --> 00:38:34,329
is the contestant every single day and

889
00:38:34,329 --> 00:38:35,829
they're trying to answer that question

890
00:38:35,829 --> 00:38:38,170
and that means dev sac ops bringing them

891
00:38:38,170 --> 00:38:40,779
into the fold for new projects early so

892
00:38:40,779 --> 00:38:42,609
they understand what's going on from

893
00:38:42,609 --> 00:38:43,900
from that standpoint they understand

894
00:38:43,900 --> 00:38:46,569
what's normal it's not normal and then

895
00:38:46,569 --> 00:38:48,309
what are you getting from the cloud

896
00:38:48,309 --> 00:38:49,749
provider themselves that's going to help

897
00:38:49,749 --> 00:38:52,180
and this is where the cloud provider

898
00:38:52,180 --> 00:38:54,459
specifics are so important so whether

899
00:38:54,459 --> 00:38:58,299
you know it's VPC flux from Amazon or

900
00:38:58,299 --> 00:39:00,940
Azure network watcher flows it takes a

901
00:39:00,940 --> 00:39:02,440
little bit to instrument that and so

902
00:39:02,440 --> 00:39:04,150
being able to specialize is very helpful

903
00:39:04,150 --> 00:39:05,859
a lot of us would not have that luxury

904
00:39:05,859 --> 00:39:08,739
yet to learn both it's it's worth it our

905
00:39:08,739 --> 00:39:10,449
you know Google cloud or any of the

906
00:39:10,449 --> 00:39:14,559
others you need to do it all right so I

907
00:39:14,559 --> 00:39:16,299
break down visibility different domains

908
00:39:16,299 --> 00:39:18,130
pretty pretty straightforward network

909
00:39:18,130 --> 00:39:19,749
endpoint and events events is basically

910
00:39:19,749 --> 00:39:22,359
the catch-all it's kind of what it

911
00:39:22,359 --> 00:39:23,799
should look like when you talk about

912
00:39:23,799 --> 00:39:26,170
full monitoring so we have four main

913
00:39:26,170 --> 00:39:28,479
types of cloud provider logs full dive

914
00:39:28,479 --> 00:39:31,059
and then the next slide and then just

915
00:39:31,059 --> 00:39:32,920
making sure that you have a good image

916
00:39:32,920 --> 00:39:34,150
for anything that boots in the clouds

917
00:39:34,150 --> 00:39:36,309
and this was I get asked about container

918
00:39:36,309 --> 00:39:37,269
security a lot

919
00:39:37,269 --> 00:39:39,819
the vast majority having built stuff

920
00:39:39,819 --> 00:39:41,440
with containers for a long time the vast

921
00:39:41,440 --> 00:39:43,150
majority of what you're running in

922
00:39:43,150 --> 00:39:44,709
containers the containers need to talk

923
00:39:44,709 --> 00:39:46,269
to each other so I've talked about

924
00:39:46,269 --> 00:39:48,339
honest startups that have really

925
00:39:48,339 --> 00:39:50,709
specific like firewalls between

926
00:39:50,709 --> 00:39:52,299
containers because they want like one

927
00:39:52,299 --> 00:39:54,459
container to affect another but the vast

928
00:39:54,459 --> 00:39:55,660
majority and whether you're running

929
00:39:55,660 --> 00:39:59,170
kubernetes or anything else those pods

930
00:39:59,170 --> 00:40:00,789
or whatever are supposed to be talking

931
00:40:00,789 --> 00:40:02,289
to each other so that's you're not gonna

932
00:40:02,289 --> 00:40:04,209
get very far with the firewall part of

933
00:40:04,209 --> 00:40:06,160
it what you need to remember is for if

934
00:40:06,160 --> 00:40:07,930
you're running a Linux based container

935
00:40:07,930 --> 00:40:08,490
on

936
00:40:08,490 --> 00:40:10,530
space host it's going to show up like a

937
00:40:10,530 --> 00:40:12,540
normal process for the most part there's

938
00:40:12,540 --> 00:40:14,670
some caveats in there but that means

939
00:40:14,670 --> 00:40:16,590
that you're you know typical endpoint

940
00:40:16,590 --> 00:40:17,850
agent is actually going to provide a

941
00:40:17,850 --> 00:40:19,650
bunch of security for your containers

942
00:40:19,650 --> 00:40:21,210
because they're running on the host it's

943
00:40:21,210 --> 00:40:22,290
very different than a virtual machine

944
00:40:22,290 --> 00:40:24,420
situation now the caveat doesn't apply

945
00:40:24,420 --> 00:40:26,010
for crossing your operating systems with

946
00:40:26,010 --> 00:40:28,500
containers but same operating systems

947
00:40:28,500 --> 00:40:30,810
Linux on Linux especially then you can

948
00:40:30,810 --> 00:40:32,670
basically apply your your host based

949
00:40:32,670 --> 00:40:34,410
security and get pretty far and a lot of

950
00:40:34,410 --> 00:40:35,790
places won't tell you that or you know

951
00:40:35,790 --> 00:40:37,560
then they try to make it more

952
00:40:37,560 --> 00:40:39,780
complicated but basically do work with

953
00:40:39,780 --> 00:40:40,530
the hosts that are running the

954
00:40:40,530 --> 00:40:41,630
containers and be in pretty good shape

955
00:40:41,630 --> 00:40:43,980
you can still get pretty good Network

956
00:40:43,980 --> 00:40:46,470
visibility it won't have all the tags

957
00:40:46,470 --> 00:40:48,150
reach you know docker container attached

958
00:40:48,150 --> 00:40:51,630
to it but it'll still help so endpoints

959
00:40:51,630 --> 00:40:53,400
still critical and then anything you'd

960
00:40:53,400 --> 00:40:54,990
get from on-prem to correlate that it's

961
00:40:54,990 --> 00:40:56,820
still gonna be really critical so I tell

962
00:40:56,820 --> 00:40:58,500
a lot of people to make sure that you're

963
00:40:58,500 --> 00:41:00,150
monitoring the choke point if you have a

964
00:41:00,150 --> 00:41:03,450
pretty large cloud implementation you

965
00:41:03,450 --> 00:41:05,250
might have paid for a Direct Connect so

966
00:41:05,250 --> 00:41:06,720
it's like a dedicated gig link between

967
00:41:06,720 --> 00:41:09,150
like your big data center and a cloud

968
00:41:09,150 --> 00:41:11,040
provider and that's a great choke point

969
00:41:11,040 --> 00:41:12,540
to put network visibility you're gonna

970
00:41:12,540 --> 00:41:14,460
want to monitor all that especially the

971
00:41:14,460 --> 00:41:17,460
SMB traffic going there and then all

972
00:41:17,460 --> 00:41:18,570
that's got to get back to one place

973
00:41:18,570 --> 00:41:19,830
because if you think about the last

974
00:41:19,830 --> 00:41:21,210
slide we have to answer all those

975
00:41:21,210 --> 00:41:23,340
questions they answer them every day as

976
00:41:23,340 --> 00:41:24,810
efficiently as possible because we have

977
00:41:24,810 --> 00:41:27,390
other things to do alright so the four

978
00:41:27,390 --> 00:41:29,460
basic types here and I this might help

979
00:41:29,460 --> 00:41:31,050
some of you speak the language a little

980
00:41:31,050 --> 00:41:33,180
bit to break it down between Amazon and

981
00:41:33,180 --> 00:41:34,830
Azure so this is kind of the the matrix

982
00:41:34,830 --> 00:41:38,070
here for audit and Amazon's couldn't be

983
00:41:38,070 --> 00:41:40,200
cloud trail and Azure as tenant activity

984
00:41:40,200 --> 00:41:42,810
logs for operational stuff and this is

985
00:41:42,810 --> 00:41:45,450
including app logs this is a big one so

986
00:41:45,450 --> 00:41:47,010
it's cloud watch and Amazon it's

987
00:41:47,010 --> 00:41:50,700
activity logs or OMS and azure and

988
00:41:50,700 --> 00:41:52,109
that's a big one so especially with

989
00:41:52,109 --> 00:41:54,119
containers by default on a place like

990
00:41:54,119 --> 00:41:55,800
Amazon they will all log to cloud watch

991
00:41:55,800 --> 00:41:57,600
so as long as you can say I'm getting

992
00:41:57,600 --> 00:41:58,920
all my cloud watch into my centralized

993
00:41:58,920 --> 00:42:00,930
logging you're good and so when a dev

994
00:42:00,930 --> 00:42:02,609
spins up a new container app you're

995
00:42:02,609 --> 00:42:03,930
gonna get all those application logs you

996
00:42:03,930 --> 00:42:04,770
can have a fighting chance

997
00:42:04,770 --> 00:42:06,060
so really important to make sure that

998
00:42:06,060 --> 00:42:07,740
that is the standard for the environment

999
00:42:07,740 --> 00:42:09,990
you're not doing anything weird and

1000
00:42:09,990 --> 00:42:11,820
actually this is my my one pitch for

1001
00:42:11,820 --> 00:42:13,020
saying do you want to think about

1002
00:42:13,020 --> 00:42:15,270
something like the native cloud service

1003
00:42:15,270 --> 00:42:17,910
or like ECS versus kubernetes now you

1004
00:42:17,910 --> 00:42:20,310
can run both on place like Amazon the

1005
00:42:20,310 --> 00:42:22,380
security benefit to using something like

1006
00:42:22,380 --> 00:42:24,630
see s is by default everything will go

1007
00:42:24,630 --> 00:42:26,700
into cloud watch and so you only have to

1008
00:42:26,700 --> 00:42:28,470
do that one time if you do the Cooper

1009
00:42:28,470 --> 00:42:29,670
need easiest route then you have to make

1010
00:42:29,670 --> 00:42:31,590
sure that every single Dev says they're

1011
00:42:31,590 --> 00:42:32,940
gonna put their logs in a centralized

1012
00:42:32,940 --> 00:42:35,190
place which means some of them won't so

1013
00:42:35,190 --> 00:42:37,260
that's my consideration when you guys

1014
00:42:37,260 --> 00:42:39,390
are doing this planning think about it

1015
00:42:39,390 --> 00:42:41,280
from that standpoint native will be more

1016
00:42:41,280 --> 00:42:45,030
secure for sure and then lastly and you

1017
00:42:45,030 --> 00:42:47,250
probably see more announcements from the

1018
00:42:47,250 --> 00:42:50,940
cloud providers themselves but guard

1019
00:42:50,940 --> 00:42:52,590
duty and security Center are they're not

1020
00:42:52,590 --> 00:42:53,910
really equivalent at all but they're

1021
00:42:53,910 --> 00:42:57,150
sort of in the same bucket those change

1022
00:42:57,150 --> 00:42:58,530
like month to month so I'm not even to

1023
00:42:58,530 --> 00:43:00,030
try to tell you you know what the level

1024
00:43:00,030 --> 00:43:02,040
is but understand that those are the

1025
00:43:02,040 --> 00:43:03,540
security alerts that you're gonna want

1026
00:43:03,540 --> 00:43:08,160
to centralize all right so this is part

1027
00:43:08,160 --> 00:43:10,080
of the overall layout so generally gonna

1028
00:43:10,080 --> 00:43:11,520
have a few data centers your branch

1029
00:43:11,520 --> 00:43:12,810
office all that stuff just make sure

1030
00:43:12,810 --> 00:43:15,990
it's all coming back to one place and

1031
00:43:15,990 --> 00:43:17,850
then I do want to talk a little bit

1032
00:43:17,850 --> 00:43:20,310
about the the sad stuff so this you know

1033
00:43:20,310 --> 00:43:21,720
this is one of the hardest things that I

1034
00:43:21,720 --> 00:43:23,520
find when talking to customers cloud

1035
00:43:23,520 --> 00:43:25,170
means like something to everybody and

1036
00:43:25,170 --> 00:43:26,970
it's almost never the same thing when I

1037
00:43:26,970 --> 00:43:28,380
talk about cloud mostly it's from a

1038
00:43:28,380 --> 00:43:30,270
public cloud provider because the other

1039
00:43:30,270 --> 00:43:32,370
problems are either you know not

1040
00:43:32,370 --> 00:43:34,050
interesting or unsolvable but they're

1041
00:43:34,050 --> 00:43:37,170
still problems so if I as like

1042
00:43:37,170 --> 00:43:38,730
infrastructures of service providers

1043
00:43:38,730 --> 00:43:41,100
we're just renting boxes those are still

1044
00:43:41,100 --> 00:43:43,770
totally cloud you have a lot you know

1045
00:43:43,770 --> 00:43:45,540
less to worry about there from the

1046
00:43:45,540 --> 00:43:47,070
perspective of it's truly just a

1047
00:43:47,070 --> 00:43:49,140
different data center and it might be

1048
00:43:49,140 --> 00:43:51,060
like just a tiny different API used to

1049
00:43:51,060 --> 00:43:52,920
boot a box but not really differently

1050
00:43:52,920 --> 00:43:54,300
than running VMware and your own data

1051
00:43:54,300 --> 00:43:56,970
center that kind of stuff but from SAS

1052
00:43:56,970 --> 00:43:58,890
this is where you know everything

1053
00:43:58,890 --> 00:44:01,380
changes SAS is a totally new animal and

1054
00:44:01,380 --> 00:44:03,180
it you know obviously it completely

1055
00:44:03,180 --> 00:44:05,070
depends on what the application is so

1056
00:44:05,070 --> 00:44:06,690
there's some big ones they might have

1057
00:44:06,690 --> 00:44:09,480
the most data in them but the parade of

1058
00:44:09,480 --> 00:44:11,220
apps that are coming through means that

1059
00:44:11,220 --> 00:44:14,160
your job is never ever done making sure

1060
00:44:14,160 --> 00:44:16,680
that if you're using a Kaz be that those

1061
00:44:16,680 --> 00:44:18,360
logs are being centralized and that are

1062
00:44:18,360 --> 00:44:20,250
they're reviewable just like the other

1063
00:44:20,250 --> 00:44:22,010
stuff we talked about that's critical

1064
00:44:22,010 --> 00:44:24,720
that's a you know it's basically the new

1065
00:44:24,720 --> 00:44:26,580
firewall at this point right deciding

1066
00:44:26,580 --> 00:44:28,500
who has access to Salesforce who is and

1067
00:44:28,500 --> 00:44:30,000
when they're in Salesforce were they

1068
00:44:30,000 --> 00:44:32,370
going to be able to do there's a really

1069
00:44:32,370 --> 00:44:34,080
bad trend that I see right now in the

1070
00:44:34,080 --> 00:44:35,250
industry we

1071
00:44:35,250 --> 00:44:36,930
you have to pay more to get additional

1072
00:44:36,930 --> 00:44:38,850
logging this is one of the most

1073
00:44:38,850 --> 00:44:40,260
dangerous things I'm seeing right now

1074
00:44:40,260 --> 00:44:42,000
with Salesforce is something called

1075
00:44:42,000 --> 00:44:43,800
shield they pay extra to get the verbose

1076
00:44:43,800 --> 00:44:47,880
logs with Azure it's it's pretty bad too

1077
00:44:47,880 --> 00:44:49,500
they basically say unless you're going

1078
00:44:49,500 --> 00:44:53,340
to use our thing which is like half of

1079
00:44:53,340 --> 00:44:54,960
what you need then you got to pay a

1080
00:44:54,960 --> 00:44:58,100
whole bunch of money to have third-party

1081
00:44:58,100 --> 00:44:59,910
looks at it so if you want to dump that

1082
00:44:59,910 --> 00:45:01,680
stuff at ELQ or something like that it's

1083
00:45:01,680 --> 00:45:03,330
not as good as if you use their built-in

1084
00:45:03,330 --> 00:45:04,770
thing which doesn't do what you want it

1085
00:45:04,770 --> 00:45:06,540
to do and that's a trend that's very

1086
00:45:06,540 --> 00:45:08,520
disturbing because you're not getting

1087
00:45:08,520 --> 00:45:09,930
that full visibility into what's going

1088
00:45:09,930 --> 00:45:10,500
on

1089
00:45:10,500 --> 00:45:12,750
and so that depending on you know which

1090
00:45:12,750 --> 00:45:14,040
cloud you're talking about I think you

1091
00:45:14,040 --> 00:45:16,050
probably continue to see that because

1092
00:45:16,050 --> 00:45:17,340
from you know if you're if you're

1093
00:45:17,340 --> 00:45:19,230
writing a sass and you're selling it to

1094
00:45:19,230 --> 00:45:20,550
people you want to spend the least

1095
00:45:20,550 --> 00:45:21,900
amount of time in infrastructure as

1096
00:45:21,900 --> 00:45:24,030
possible and extra logging might mean

1097
00:45:24,030 --> 00:45:26,160
more time and infrastructure and what's

1098
00:45:26,160 --> 00:45:27,750
the immediate benefit so unless we in

1099
00:45:27,750 --> 00:45:29,820
the security community you know make a

1100
00:45:29,820 --> 00:45:31,230
lot of noise about that and say well we

1101
00:45:31,230 --> 00:45:33,240
don't want to recommend anybody using

1102
00:45:33,240 --> 00:45:34,320
your thing unless it's going to be

1103
00:45:34,320 --> 00:45:35,670
secure you have to prove it's secure by

1104
00:45:35,670 --> 00:45:37,500
having proper visibility with logging

1105
00:45:37,500 --> 00:45:39,180
then they're probably going to continue

1106
00:45:39,180 --> 00:45:41,490
to you know give you less and less to

1107
00:45:41,490 --> 00:45:43,230
look at to the point where you might not

1108
00:45:43,230 --> 00:45:45,450
even know if you can log in did you know

1109
00:45:45,450 --> 00:45:48,180
that you have to buy as your premium ad

1110
00:45:48,180 --> 00:45:49,830
to even have the right to see when

1111
00:45:49,830 --> 00:45:55,740
people log in yeah yeah I I have some

1112
00:45:55,740 --> 00:45:57,150
buddies at Microsoft that are equally

1113
00:45:57,150 --> 00:45:59,790
annoyed by that and you know in some

1114
00:45:59,790 --> 00:46:00,840
ways if you're a big company you

1115
00:46:00,840 --> 00:46:02,580
probably buy any three or five anyway so

1116
00:46:02,580 --> 00:46:04,980
generally that gets bundled in but if

1117
00:46:04,980 --> 00:46:07,050
you're if you have a development wing

1118
00:46:07,050 --> 00:46:08,730
and you're doing a lot of sass you don't

1119
00:46:08,730 --> 00:46:09,810
want to do that you want to start with

1120
00:46:09,810 --> 00:46:11,160
the basic stuff because probably to need

1121
00:46:11,160 --> 00:46:13,260
most of that other stuff in the first

1122
00:46:13,260 --> 00:46:14,520
place and you just get into the

1123
00:46:14,520 --> 00:46:16,200
situation where you don't have what you

1124
00:46:16,200 --> 00:46:18,180
need to get your job done and that's a

1125
00:46:18,180 --> 00:46:20,460
bad trend so I'm hoping that we could

1126
00:46:20,460 --> 00:46:21,720
make enough noways to at least get

1127
00:46:21,720 --> 00:46:23,370
people to give us the basics that we

1128
00:46:23,370 --> 00:46:26,160
need to get our job done I might want to

1129
00:46:26,160 --> 00:46:29,760
call the action from all this so yeah

1130
00:46:29,760 --> 00:46:31,770
VDI is also in there too I talked about

1131
00:46:31,770 --> 00:46:33,930
that a little bit earlier and that's all

1132
00:46:33,930 --> 00:46:35,730
all factors of that don't forget about

1133
00:46:35,730 --> 00:46:37,830
it all right

1134
00:46:37,830 --> 00:46:39,720
almost time I almost question time here

1135
00:46:39,720 --> 00:46:43,170
so final checklist pretty simple fishing

1136
00:46:43,170 --> 00:46:45,960
fishing fishing mail email email still

1137
00:46:45,960 --> 00:46:48,329
for everything number one

1138
00:46:48,329 --> 00:46:49,829
and points and networks are still

1139
00:46:49,829 --> 00:46:51,420
important even if they're on Prem they

1140
00:46:51,420 --> 00:46:53,210
can still be used to give you cloud and

1141
00:46:53,210 --> 00:46:56,339
visibility and all the things so

1142
00:46:56,339 --> 00:46:59,490
provider event logs files that are being

1143
00:46:59,490 --> 00:47:01,019
transmitted through stuff that you don't

1144
00:47:01,019 --> 00:47:02,970
control try to find a way to get control

1145
00:47:02,970 --> 00:47:05,999
of it or at least get a view into it and

1146
00:47:05,999 --> 00:47:07,559
then of course any size telemetry you

1147
00:47:07,559 --> 00:47:10,950
can get all right so we still have a

1148
00:47:10,950 --> 00:47:12,359
good amount of time here I have a few

1149
00:47:12,359 --> 00:47:15,329
giveaways so for every question we have

1150
00:47:15,329 --> 00:47:18,890
nice goodies here for you

1151
00:47:37,650 --> 00:47:40,630
your choice so ask questions early

1152
00:47:40,630 --> 00:47:41,770
because you get the pick of the litter

1153
00:47:41,770 --> 00:47:45,400
here ooh good choice I know that guy

1154
00:47:45,400 --> 00:47:47,730
he's awesome

1155
00:47:51,000 --> 00:47:54,870
yeah can you repeat the question sorry

1156
00:47:54,930 --> 00:47:58,030
and we have a challenge of security of

1157
00:47:58,030 --> 00:47:59,950
keeping up with the changes so we'll

1158
00:47:59,950 --> 00:48:02,350
have something that that was a preview

1159
00:48:02,350 --> 00:48:04,330
feature now becomes a standard feature

1160
00:48:04,330 --> 00:48:07,510
and all of a sudden this thing can

1161
00:48:07,510 --> 00:48:08,770
happen now and you can log in from it

1162
00:48:08,770 --> 00:48:10,750
right right thanks okay so the question

1163
00:48:10,750 --> 00:48:12,730
is how do you deal with the continually

1164
00:48:12,730 --> 00:48:15,100
changing nature of specifically Azure

1165
00:48:15,100 --> 00:48:18,670
which so I sound like such a Microsoft

1166
00:48:18,670 --> 00:48:20,170
bash and I'm trying not to but I had

1167
00:48:20,170 --> 00:48:23,350
that same experience so Adger is a great

1168
00:48:23,350 --> 00:48:25,300
example of they're doing amazing things

1169
00:48:25,300 --> 00:48:27,550
at Microsoft by clarifying the company

1170
00:48:27,550 --> 00:48:29,650
kudos to them they've done really great

1171
00:48:29,650 --> 00:48:32,230
but as part of that almost everything

1172
00:48:32,230 --> 00:48:33,700
that's not infrastructure as a service

1173
00:48:33,700 --> 00:48:35,680
on Azure right now is basically preview

1174
00:48:35,680 --> 00:48:37,660
if they don't tell you it's preview if

1175
00:48:37,660 --> 00:48:39,160
you get on a tech support call they'll

1176
00:48:39,160 --> 00:48:40,780
tell you it's preview I think event hub

1177
00:48:40,780 --> 00:48:41,950
is about the only thing you can like

1178
00:48:41,950 --> 00:48:44,770
legitimately use and be confident in and

1179
00:48:44,770 --> 00:48:46,870
then their API is change all the time so

1180
00:48:46,870 --> 00:48:50,560
but the answer is you know lemonade or

1181
00:48:50,560 --> 00:48:52,200
whisky whatever your drink of choice is

1182
00:48:52,200 --> 00:48:54,430
it's not going to get better for a while

1183
00:48:54,430 --> 00:48:56,800
and part of that's good you want that

1184
00:48:56,800 --> 00:48:58,360
innovation you want to keep moving

1185
00:48:58,360 --> 00:49:01,600
but basically Microsoft is is behind

1186
00:49:01,600 --> 00:49:03,220
enough and they're throwing so much at

1187
00:49:03,220 --> 00:49:05,710
moving fast that for many years they

1188
00:49:05,710 --> 00:49:07,120
were good about documentation and things

1189
00:49:07,120 --> 00:49:08,440
like that that's not the case right now

1190
00:49:08,440 --> 00:49:11,560
at least for the next few months and

1191
00:49:11,560 --> 00:49:13,030
that's really unfortunate because this

1192
00:49:13,030 --> 00:49:14,620
is a critical time for us to secure

1193
00:49:14,620 --> 00:49:16,390
things as things are moving quickly this

1194
00:49:16,390 --> 00:49:18,280
is when errors are gonna happen new

1195
00:49:18,280 --> 00:49:19,480
developers don't know what they're doing

1196
00:49:19,480 --> 00:49:20,710
yet new security staff don't know what

1197
00:49:20,710 --> 00:49:22,180
they're doing yet that's the hardest

1198
00:49:22,180 --> 00:49:23,740
time and I there's not a good answer you

1199
00:49:23,740 --> 00:49:25,720
just have to be diligent and beat them

1200
00:49:25,720 --> 00:49:29,399
up on it with your tan yeah go ahead

1201
00:49:39,349 --> 00:49:42,000
okay good question how are you keeping

1202
00:49:42,000 --> 00:49:44,339
up with the changes on new cloud

1203
00:49:44,339 --> 00:49:48,480
offerings it is an unwinnable game so

1204
00:49:48,480 --> 00:49:50,460
basically you try to find what the

1205
00:49:50,460 --> 00:49:51,869
biggest impact is going to be to your

1206
00:49:51,869 --> 00:49:53,849
business and sometimes it's a really

1207
00:49:53,849 --> 00:49:57,060
tough call to kind of Sophie's Choice it

1208
00:49:57,060 --> 00:49:58,950
a little bit where it's the I only have

1209
00:49:58,950 --> 00:50:01,170
time to do one of the other but really

1210
00:50:01,170 --> 00:50:02,760
ask yourself from a sort of a threat

1211
00:50:02,760 --> 00:50:05,490
model who what is the worst that would

1212
00:50:05,490 --> 00:50:08,220
happen for this particular thing right

1213
00:50:08,220 --> 00:50:12,109
and then look at the partitioning there

1214
00:50:14,030 --> 00:50:17,030
yeah

1215
00:50:33,200 --> 00:50:36,540
right so when the upgrades happen how

1216
00:50:36,540 --> 00:50:39,270
are you gonna find the new stuff Twitter

1217
00:50:39,270 --> 00:50:41,940
honestly to start with I mean you'll see

1218
00:50:41,940 --> 00:50:43,800
some security research come out of there

1219
00:50:43,800 --> 00:50:45,330
but I mean yeah any any bleeding-edge

1220
00:50:45,330 --> 00:50:48,030
new stuff it's all it's the same game

1221
00:50:48,030 --> 00:50:49,260
that you would play with anything else

1222
00:50:49,260 --> 00:50:50,940
it's just in a little faster cadence so

1223
00:50:50,940 --> 00:50:52,800
you stay on top of it I mean that's

1224
00:50:52,800 --> 00:50:54,690
that's continuing education is critical

1225
00:50:54,690 --> 00:50:58,400
as is for any security research

1226
00:51:12,510 --> 00:51:15,250
excellent as the question is what about

1227
00:51:15,250 --> 00:51:18,040
pcap on cloud would you use things like

1228
00:51:18,040 --> 00:51:20,650
the new virtual app there's probably

1229
00:51:20,650 --> 00:51:21,760
something like that coming out for

1230
00:51:21,760 --> 00:51:24,130
Amazon soon to where you have the

1231
00:51:24,130 --> 00:51:26,590
ability to capture packets there's some

1232
00:51:26,590 --> 00:51:28,570
value in that but not a whole lot almost

1233
00:51:28,570 --> 00:51:29,890
everything that happens on cloud is

1234
00:51:29,890 --> 00:51:33,220
totally HTTP Network flows are going to

1235
00:51:33,220 --> 00:51:34,570
give you the vast majority of what

1236
00:51:34,570 --> 00:51:36,190
you're looking for the caveat there is

1237
00:51:36,190 --> 00:51:38,080
for most cloud providers right now you

1238
00:51:38,080 --> 00:51:40,330
can't get a solid log of DNS entries

1239
00:51:40,330 --> 00:51:43,330
without doing some like reading packets

1240
00:51:43,330 --> 00:51:44,950
to extract that so I would say bare

1241
00:51:44,950 --> 00:51:47,470
minimum in a report 53 and at least

1242
00:51:47,470 --> 00:51:49,660
you'll have DNS names but there's not a

1243
00:51:49,660 --> 00:51:51,670
lot else you can do

1244
00:51:51,670 --> 00:51:55,920
so you've at the same time I'm so sorry

1245
00:51:58,020 --> 00:52:07,060
all right okay how else could a three

1246
00:52:07,060 --> 00:52:08,950
bucket be used maliciously aside from

1247
00:52:08,950 --> 00:52:11,740
stealing well there's the integrity part

1248
00:52:11,740 --> 00:52:13,840
they talked about so if you can alter a

1249
00:52:13,840 --> 00:52:16,839
file that might be really bad depending

1250
00:52:16,839 --> 00:52:19,000
on what the file is but the other part

1251
00:52:19,000 --> 00:52:20,710
is that you have a lot of bandwidth

1252
00:52:20,710 --> 00:52:22,060
available to you when you're running in

1253
00:52:22,060 --> 00:52:23,710
an s3 bucket so hosting any malicious

1254
00:52:23,710 --> 00:52:26,890
files would be super bad is tough to top

1255
00:52:26,890 --> 00:52:29,109
my head using any kind of steganography

1256
00:52:29,109 --> 00:52:31,330
to hide really bad stuff would as a drop

1257
00:52:31,330 --> 00:52:36,099
point you can use oh so in my workshop

1258
00:52:36,099 --> 00:52:40,839
at RSA how you can use s3 to trigger a

1259
00:52:40,839 --> 00:52:42,580
lambda that would have bad parameters in

1260
00:52:42,580 --> 00:52:44,170
it that would get code to execute so the

1261
00:52:44,170 --> 00:52:47,050
act of uploading an object to s3 may

1262
00:52:47,050 --> 00:52:48,760
actually execute code somewhere so just

1263
00:52:48,760 --> 00:52:51,580
simply writing a file or bossing the

1264
00:52:51,580 --> 00:52:52,869
amount of logging that comes out of that

1265
00:52:52,869 --> 00:52:54,520
so back the visibility you can make

1266
00:52:54,520 --> 00:52:56,290
yourself invisible by Duffing amount of

1267
00:52:56,290 --> 00:52:58,990
locks coming like we still have we still

1268
00:52:58,990 --> 00:53:06,339
five minutes good I got in the blue the

1269
00:53:06,339 --> 00:53:10,259
if I are in the cloud recommendations

1270
00:53:11,579 --> 00:53:14,530
so a lot of that doesn't change you're

1271
00:53:14,530 --> 00:53:17,260
talking deify our if you're doing in

1272
00:53:17,260 --> 00:53:19,089
like getting images is actually a lot

1273
00:53:19,089 --> 00:53:22,089
easier as snapshots is super

1274
00:53:22,089 --> 00:53:26,490
straightforward so that's a big boon Oh

1275
00:53:35,640 --> 00:53:37,359
interesting so would you recommend

1276
00:53:37,359 --> 00:53:39,099
downloading it on pram no I would say

1277
00:53:39,099 --> 00:53:41,140
keep it there because the same read and

1278
00:53:41,140 --> 00:53:43,030
write ap is that are handling the the

1279
00:53:43,030 --> 00:53:45,099
actual machine level byte stuff whatever

1280
00:53:45,099 --> 00:53:47,200
attacker came in and altered that you

1281
00:53:47,200 --> 00:53:48,640
know the hard drive wherever it is in

1282
00:53:48,640 --> 00:53:50,380
whatever datacenter had to go through

1283
00:53:50,380 --> 00:53:53,470
that's API so I think that your bit

1284
00:53:53,470 --> 00:53:55,119
gonna be better off and certainly

1285
00:53:55,119 --> 00:53:57,130
operationally from a sec ops perspective

1286
00:53:57,130 --> 00:53:58,540
gonna be better off keeping that cloud

1287
00:53:58,540 --> 00:53:59,800
side I don't think that there's a big

1288
00:53:59,800 --> 00:54:01,329
advantage bringing it down on primal if

1289
00:54:01,329 --> 00:54:02,890
you have a really specific reason for

1290
00:54:02,890 --> 00:54:06,130
doing that in fact you can leverage the

1291
00:54:06,130 --> 00:54:07,810
big data analytics and things like that

1292
00:54:07,810 --> 00:54:10,869
to run ten different analyzers on one

1293
00:54:10,869 --> 00:54:12,760
giant disk image and spin up you know

1294
00:54:12,760 --> 00:54:14,349
100 boxes to do that in ten minutes

1295
00:54:14,349 --> 00:54:16,480
instead of ten hours right so I would

1296
00:54:16,480 --> 00:54:18,490
say leverage that I don't think you're

1297
00:54:18,490 --> 00:54:19,810
gonna get anything by downloading it

1298
00:54:19,810 --> 00:54:21,369
because you're still gonna go back out

1299
00:54:21,369 --> 00:54:23,980
the same api's so any kind of bytes that

1300
00:54:23,980 --> 00:54:25,839
would have been altered some way you

1301
00:54:25,839 --> 00:54:27,490
know I can get the raw harddrive info

1302
00:54:27,490 --> 00:54:36,010
anyway yeah if it's in it yeah exactly

1303
00:54:36,010 --> 00:54:38,829
if it's an active incident then yeah

1304
00:54:38,829 --> 00:54:41,050
suck up still is very important so try

1305
00:54:41,050 --> 00:54:43,359
to build a separate area for that you

1306
00:54:43,359 --> 00:54:45,099
can share images and which can get you

1307
00:54:45,099 --> 00:54:47,170
in trouble if you forget the permissions

1308
00:54:47,170 --> 00:54:48,490
and don't set them up correctly but you

1309
00:54:48,490 --> 00:54:50,140
could certainly share those across

1310
00:54:50,140 --> 00:54:51,819
account so that you could have an IR

1311
00:54:51,819 --> 00:55:01,560
account essentially it's very least yep

1312
00:55:01,619 --> 00:55:04,890
they're in the

1313
00:55:15,089 --> 00:55:18,249
okay so you're asking if you got as far

1314
00:55:18,249 --> 00:55:20,079
as aggregating your data and got that

1315
00:55:20,079 --> 00:55:22,180
step what's the biggest mistake the sin

1316
00:55:22,180 --> 00:55:23,680
of omission is the biggest one thinking

1317
00:55:23,680 --> 00:55:24,880
you got everything and not getting

1318
00:55:24,880 --> 00:55:26,349
everything because it is a daily

1319
00:55:26,349 --> 00:55:28,299
challenge that's the number number one

1320
00:55:28,299 --> 00:55:30,759
thing building in heart beats so that

1321
00:55:30,759 --> 00:55:33,039
you know when you're dropping that's

1322
00:55:33,039 --> 00:55:34,989
another big one you may think that what

1323
00:55:34,989 --> 00:55:36,640
you already set up is working but you

1324
00:55:36,640 --> 00:55:38,609
need to have a way and someone whose

1325
00:55:38,609 --> 00:55:41,469
responsibility is to say if this asset

1326
00:55:41,469 --> 00:55:43,089
is important for us to secure that means

1327
00:55:43,089 --> 00:55:44,469
we need to verify we're getting that

1328
00:55:44,469 --> 00:55:46,900
that heartbeat of telemetry so we know

1329
00:55:46,900 --> 00:55:49,269
if the logging stops there's a lot of

1330
00:55:49,269 --> 00:55:50,709
reasons that logging can stop someone

1331
00:55:50,709 --> 00:55:52,299
might accidentally change permission

1332
00:55:52,299 --> 00:55:54,400
that allows that to happen the Box made

1333
00:55:54,400 --> 00:55:57,069
I'm a boot up as a different box all

1334
00:55:57,069 --> 00:55:58,479
those things can happen I didn't even

1335
00:55:58,479 --> 00:56:00,099
talk about the ephemeral nature of the

1336
00:56:00,099 --> 00:56:01,809
cloud but that should be fairly obvious

1337
00:56:01,809 --> 00:56:04,509
we need when you're talking about DF IR

1338
00:56:04,509 --> 00:56:06,099
it gets a lot harder because you're

1339
00:56:06,099 --> 00:56:08,650
talking about a moment in time right so

1340
00:56:08,650 --> 00:56:10,719
again back to that even the IP addresses

1341
00:56:10,719 --> 00:56:12,579
for servers versus server list can off

1342
00:56:12,579 --> 00:56:14,199
often be meaningless in auto-scaling

1343
00:56:14,199 --> 00:56:16,089
groups where a box may exist for five

1344
00:56:16,089 --> 00:56:19,209
minutes all right another question go

1345
00:56:19,209 --> 00:56:21,328
ahead

1346
00:56:28,549 --> 00:56:31,609
biggest blind spot in telemetry for the

1347
00:56:31,609 --> 00:56:34,789
public cloud providers yeah I used to

1348
00:56:34,789 --> 00:56:37,249
say it was pcap I think they are well on

1349
00:56:37,249 --> 00:56:38,630
their way to fixing that now and now

1350
00:56:38,630 --> 00:56:39,739
that by the time they're getting there

1351
00:56:39,739 --> 00:56:41,239
to fix that I would say that's not even

1352
00:56:41,239 --> 00:56:43,069
that big a deal anymore because what are

1353
00:56:43,069 --> 00:56:46,420
you really going to see other than DNS I

1354
00:56:46,420 --> 00:56:49,279
think that it's really if you're

1355
00:56:49,279 --> 00:56:51,529
developers are logging things to their

1356
00:56:51,529 --> 00:56:53,029
app logs you're going to be in good

1357
00:56:53,029 --> 00:56:54,949
shape but that requires them to do work

1358
00:56:54,949 --> 00:56:56,900
so really that's the biggest thing that

1359
00:56:56,900 --> 00:57:00,439
I see missing is you get box booted up

1360
00:57:00,439 --> 00:57:02,479
box shutdown whatever happens in the

1361
00:57:02,479 --> 00:57:04,219
middle who notes was a Bitcoin mining

1362
00:57:04,219 --> 00:57:07,309
that's on you that's the shared

1363
00:57:07,309 --> 00:57:08,869
responsibility model like whatever

1364
00:57:08,869 --> 00:57:10,160
happened with that box when it was

1365
00:57:10,160 --> 00:57:12,289
running that's on you so making sure

1366
00:57:12,289 --> 00:57:14,509
that you are going out of your way to as

1367
00:57:14,509 --> 00:57:16,819
a it's a policy as a security policy and

1368
00:57:16,819 --> 00:57:18,920
practice make sure that your devs are

1369
00:57:18,920 --> 00:57:20,929
logging as much as possible so you have

1370
00:57:20,929 --> 00:57:22,759
some clue what's going on with this box

1371
00:57:22,759 --> 00:57:25,880
is absolutely critical yeah I think that

1372
00:57:25,880 --> 00:57:27,499
the network's elem tree is probably the

1373
00:57:27,499 --> 00:57:30,380
best biggest missing one I would also

1374
00:57:30,380 --> 00:57:33,049
say the sign-in logs you know whether

1375
00:57:33,049 --> 00:57:35,029
it's Microsoft or Amazon could have a

1376
00:57:35,029 --> 00:57:37,939
lot more there and that's why I had on

1377
00:57:37,939 --> 00:57:40,969
that sort of ecosystem chart that

1378
00:57:40,969 --> 00:57:42,939
on-prem is a part of this because

1379
00:57:42,939 --> 00:57:45,289
coupling your on-prem Logs with your

1380
00:57:45,289 --> 00:57:46,640
card logs it's usually the way that you

1381
00:57:46,640 --> 00:57:50,089
get the full story there and all those

1382
00:57:50,089 --> 00:57:54,670
great questions yeah

1383
00:57:56,280 --> 00:58:01,270
slide four slash flasher this one yeah

1384
00:58:01,270 --> 00:58:02,770
yeah that's the one notice how this is

1385
00:58:02,770 --> 00:58:04,900
just pointing out that all these things

1386
00:58:04,900 --> 00:58:07,510
play a role wherever wherever those

1387
00:58:07,510 --> 00:58:09,130
assets are they're still your assets and

1388
00:58:09,130 --> 00:58:10,330
they're probably going to talk to your

1389
00:58:10,330 --> 00:58:12,190
cloud stuff and if you're only looking

1390
00:58:12,190 --> 00:58:13,690
cloud side you're probably only getting

1391
00:58:13,690 --> 00:58:14,860
half the story just like if you're only

1392
00:58:14,860 --> 00:58:15,970
looking on frame you're only getting

1393
00:58:15,970 --> 00:58:24,400
half the story all right Oh

1394
00:58:24,400 --> 00:58:41,410
last one I can refer you to someone who

1395
00:58:41,410 --> 00:58:46,470
has it's it's one that I gave my own CEO

1396
00:58:46,470 --> 00:58:48,820
so yeah there has been stuff published

1397
00:58:48,820 --> 00:58:50,500
it's right now very unpopular because

1398
00:58:50,500 --> 00:58:52,420
almost everyone has no idea what they're

1399
00:58:52,420 --> 00:58:53,920
doing and so they just say cloud all the

1400
00:58:53,920 --> 00:58:55,690
things and then hope for the best

1401
00:58:55,690 --> 00:58:57,460
it's a terrible approach I think it's

1402
00:58:57,460 --> 00:58:59,980
the monster bleep provably a terrible

1403
00:58:59,980 --> 00:59:02,290
approach I will see if I can find that

1404
00:59:02,290 --> 00:59:04,840
for you but yes I would love to write

1405
00:59:04,840 --> 00:59:06,760
that myself it'll just come off as a

1406
00:59:06,760 --> 00:59:08,620
angry rant to the editor if I do it

1407
00:59:08,620 --> 00:59:09,390
right now

1408
00:59:09,390 --> 00:59:11,680
all right thank you guys so much I'll be

1409
00:59:11,680 --> 00:59:12,580
in the hallway if you have any other

1410
00:59:12,580 --> 00:59:12,900
question

1411
00:59:12,900 --> 00:59:19,380
[Applause]

