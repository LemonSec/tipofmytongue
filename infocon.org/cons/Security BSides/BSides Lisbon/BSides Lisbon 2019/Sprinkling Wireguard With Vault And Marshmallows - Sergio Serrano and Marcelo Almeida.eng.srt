1
00:00:05,029 --> 00:00:09,150
good afternoon thank you for coming

2
00:00:09,150 --> 00:00:12,420
it would be kind of weird it was just me

3
00:00:12,420 --> 00:00:15,420
and myself and okay so sprinkling my

4
00:00:15,420 --> 00:00:17,490
regards with vaulting marshmallows it's

5
00:00:17,490 --> 00:00:20,730
the name of our presentation and we have

6
00:00:20,730 --> 00:00:24,810
split the presentation with within kind

7
00:00:24,810 --> 00:00:27,900
of six chapters we will speak a bit

8
00:00:27,900 --> 00:00:29,939
about s state of affairs that way it is

9
00:00:29,939 --> 00:00:35,300
to this simple storyline just to explain

10
00:00:35,300 --> 00:00:39,360
the concept then we have a story to kind

11
00:00:39,360 --> 00:00:44,400
of illustrate what we did in then

12
00:00:44,400 --> 00:00:47,670
there's the backstage and future work so

13
00:00:47,670 --> 00:00:52,800
about us hi my name is Marcel you can

14
00:00:52,800 --> 00:00:55,650
see I've been software developer in the

15
00:00:55,650 --> 00:00:56,040
past

16
00:00:56,040 --> 00:01:00,240
I failed kidding I turn site reliability

17
00:01:00,240 --> 00:01:03,840
engineer and it's what I do in the

18
00:01:03,840 --> 00:01:08,969
current times and so my name is Erskine

19
00:01:08,969 --> 00:01:11,369
I'm was network engineers software

20
00:01:11,369 --> 00:01:17,310
developers engineer engineer so state of

21
00:01:17,310 --> 00:01:20,939
affairs how we got here so we were

22
00:01:20,939 --> 00:01:23,340
working in an organization that as many

23
00:01:23,340 --> 00:01:26,640
has some form or another remote access

24
00:01:26,640 --> 00:01:30,109
and in our current EPM solution kind of

25
00:01:30,109 --> 00:01:32,759
answers the company main requirements

26
00:01:32,759 --> 00:01:37,889
but it has some kind of constraints it's

27
00:01:37,889 --> 00:01:40,109
not bad it's not good but this is the

28
00:01:40,109 --> 00:01:42,899
job however there's one small problem

29
00:01:42,899 --> 00:01:45,539
with our solution is that users hate it

30
00:01:45,539 --> 00:01:48,359
and the user experience and so can the

31
00:01:48,359 --> 00:01:51,200
potential for insecure work around since

32
00:01:51,200 --> 00:01:55,369
really big and usually today especially

33
00:01:55,369 --> 00:01:59,009
it's easy to kind of pop a new instance

34
00:01:59,009 --> 00:02:01,670
in the internet and try to access

35
00:02:01,670 --> 00:02:04,139
resources that should be private and

36
00:02:04,139 --> 00:02:08,818
that then somehow publicly available in

37
00:02:08,818 --> 00:02:10,119
the Internet

38
00:02:10,119 --> 00:02:14,230
this is a big problem for us so one of

39
00:02:14,230 --> 00:02:16,930
the complaints was connection

40
00:02:16,930 --> 00:02:20,230
instability we work in a company that

41
00:02:20,230 --> 00:02:23,140
it's really remote friendly and this

42
00:02:23,140 --> 00:02:27,120
means that users change networks a lot

43
00:02:27,120 --> 00:02:30,640
and this leads to kind of instability

44
00:02:30,640 --> 00:02:32,760
problems within the network's themselves

45
00:02:32,760 --> 00:02:38,110
and by moving around the VPN connections

46
00:02:38,110 --> 00:02:41,110
change to kind of fall and people need

47
00:02:41,110 --> 00:02:44,470
to reopen ticket in this part of the

48
00:02:44,470 --> 00:02:46,390
authentication is another one of the

49
00:02:46,390 --> 00:02:49,450
problems because we currently have kind

50
00:02:49,450 --> 00:02:51,010
of a quirky two-factor authentication

51
00:02:51,010 --> 00:02:52,870
solution having a two-factor

52
00:02:52,870 --> 00:02:54,489
authentication solution is a kind of

53
00:02:54,489 --> 00:02:57,819
good thing but our solution is not that

54
00:02:57,819 --> 00:03:00,549
great and the authentication process

55
00:03:00,549 --> 00:03:02,859
really takes forever this leads to kind

56
00:03:02,859 --> 00:03:06,730
of developers losing a lot of time just

57
00:03:06,730 --> 00:03:11,709
trying to reconnect so this was kind of

58
00:03:11,709 --> 00:03:14,079
problem so we started asking for help

59
00:03:14,079 --> 00:03:17,079
good for another option and we learned

60
00:03:17,079 --> 00:03:19,560
about your recent system at the time

61
00:03:19,560 --> 00:03:22,419
that would be probably included in the

62
00:03:22,419 --> 00:03:25,870
Linux kernel and what's like a kernel

63
00:03:25,870 --> 00:03:28,359
module and it had lots of technologies

64
00:03:28,359 --> 00:03:30,400
and crypto shenanigans that we thought

65
00:03:30,400 --> 00:03:34,569
it were really interesting and there can

66
00:03:34,569 --> 00:03:38,049
work out this is kind of the marketing

67
00:03:38,049 --> 00:03:39,609
lingo from the website if you want to

68
00:03:39,609 --> 00:03:41,940
check it out simple and easy to use

69
00:03:41,940 --> 00:03:48,090
preferably sound etc so seem promising

70
00:03:48,090 --> 00:03:50,650
however there's one problem that's

71
00:03:50,650 --> 00:03:53,410
usually when trying to operationalize

72
00:03:53,410 --> 00:03:55,480
this kind of stuff which is key

73
00:03:55,480 --> 00:03:59,799
management and this is spread out across

74
00:03:59,799 --> 00:04:02,819
all the technology called parts of

75
00:04:02,819 --> 00:04:06,209
maintaining an infrastructure securely

76
00:04:06,209 --> 00:04:10,099
so we kept asking for help and then

77
00:04:10,099 --> 00:04:13,819
after asking for Kenneth what exactly

78
00:04:13,819 --> 00:04:18,228
the word the pains of the users and not

79
00:04:18,228 --> 00:04:20,209
trying to reinvent the wheel and using

80
00:04:20,209 --> 00:04:22,430
kind of stuff that we already were using

81
00:04:22,430 --> 00:04:26,240
within our own infrastructure and we

82
00:04:26,240 --> 00:04:28,090
wanted something to be easily integrated

83
00:04:28,090 --> 00:04:31,550
so that involved and this is I don't

84
00:04:31,550 --> 00:04:34,130
know if anyone or anyone does not know

85
00:04:34,130 --> 00:04:37,370
how but it's kind of a product from a

86
00:04:37,370 --> 00:04:40,070
jacquard and this is these are the kind

87
00:04:40,070 --> 00:04:41,539
of the features the main features do it

88
00:04:41,539 --> 00:04:43,250
secrets management that the encryption

89
00:04:43,250 --> 00:04:45,889
identity based access auditable and it's

90
00:04:45,889 --> 00:04:48,590
easy customizable by plug-in

91
00:04:48,590 --> 00:04:50,419
architecture which is something that

92
00:04:50,419 --> 00:04:53,389
we'll explain later on so so many

93
00:04:53,389 --> 00:04:56,320
promises ok let's do it

94
00:04:56,320 --> 00:05:09,860
and this is the sort of I'm sorry yes

95
00:05:09,860 --> 00:05:12,410
the storyline is system then first

96
00:05:12,410 --> 00:05:14,659
should make it easier for to explain

97
00:05:14,659 --> 00:05:20,900
what we did and how its kind of created

98
00:05:20,900 --> 00:05:23,449
the problem or created explain the

99
00:05:23,449 --> 00:05:26,990
problem that we have so there's a caste

100
00:05:26,990 --> 00:05:29,750
and because there's kind of continental

101
00:05:29,750 --> 00:05:32,150
members there's Winston Sharon the

102
00:05:32,150 --> 00:05:33,919
optional manager there is another part

103
00:05:33,919 --> 00:05:38,300
of the team which are the curators the

104
00:05:38,300 --> 00:05:41,750
administrator curator adjudicator then

105
00:05:41,750 --> 00:05:43,669
there's the Sakura also known as the

106
00:05:43,669 --> 00:05:47,240
high table composed by ego binky fellows

107
00:05:47,240 --> 00:05:50,690
and insensate and there's mr. obviously

108
00:05:50,690 --> 00:05:53,479
will be spotty and there's the problem

109
00:05:53,479 --> 00:05:57,469
the patent so this is kind of a set we

110
00:05:57,469 --> 00:06:00,110
have the users in these splits in two

111
00:06:00,110 --> 00:06:02,060
parts one of them is provisioning the

112
00:06:02,060 --> 00:06:05,419
keys for the users that part can be then

113
00:06:05,419 --> 00:06:06,999
kind of

114
00:06:06,999 --> 00:06:08,889
without being connected to the Internet

115
00:06:08,889 --> 00:06:12,789
and you can provision in all the keys

116
00:06:12,789 --> 00:06:14,889
involved and the other part is for the

117
00:06:14,889 --> 00:06:16,629
axis itself and for us

118
00:06:16,629 --> 00:06:19,689
to access these particular resources so

119
00:06:19,689 --> 00:06:22,029
the puppy and the high table you need to

120
00:06:22,029 --> 00:06:24,789
access the accessor or the VPN which is

121
00:06:24,789 --> 00:06:32,219
connected to the Internet that one so

122
00:06:32,219 --> 00:06:35,429
talking about the storyline we start by

123
00:06:35,429 --> 00:06:39,749
having a user that wants to reach the

124
00:06:39,749 --> 00:06:42,699
protected resource and for that he needs

125
00:06:42,699 --> 00:06:44,439
to require the blessed account to do

126
00:06:44,439 --> 00:06:44,829
that

127
00:06:44,829 --> 00:06:47,619
someone needs to provide that blessed

128
00:06:47,619 --> 00:06:50,469
account and then the user can can

129
00:06:50,469 --> 00:06:52,619
actually access the protected resource

130
00:06:52,619 --> 00:06:57,579
later on the key is it's considered

131
00:06:57,579 --> 00:07:00,909
compromised and will be revoked so the

132
00:07:00,909 --> 00:07:05,229
treatment the generic individual it

133
00:07:05,229 --> 00:07:07,719
means the the one that's entire access

134
00:07:07,719 --> 00:07:10,269
to the VPN cannot detect the VPN service

135
00:07:10,269 --> 00:07:13,389
because it's and cannot impersonate any

136
00:07:13,389 --> 00:07:16,449
member the member of continuous module

137
00:07:16,449 --> 00:07:19,389
is a simple client can be with all sorry

138
00:07:19,389 --> 00:07:23,529
it's a like an auditor guide that can

139
00:07:23,529 --> 00:07:26,849
view the access logs and can view who is

140
00:07:26,849 --> 00:07:30,729
using that case decorator sees the

141
00:07:30,729 --> 00:07:33,159
typical client is he can view that

142
00:07:33,159 --> 00:07:35,110
flight a cocaine provision new members

143
00:07:35,110 --> 00:07:37,269
and can change public keys from his

144
00:07:37,269 --> 00:07:42,249
members he his success is detected and

145
00:07:42,249 --> 00:07:45,729
the changes and everything may fail to

146
00:07:45,729 --> 00:07:49,029
revoke that he's the member of the

147
00:07:49,029 --> 00:07:51,639
seclorum is the administrators he can

148
00:07:51,639 --> 00:07:53,319
view the access of a table provisioning

149
00:07:53,319 --> 00:07:56,199
keys changing keys of other members and

150
00:07:56,199 --> 00:07:58,539
revoke access he also can change the

151
00:07:58,539 --> 00:08:01,659
server configurations of course all of

152
00:08:01,659 --> 00:08:04,689
these previous operations are logged and

153
00:08:04,689 --> 00:08:10,779
can be detected so getting the puppy mr.

154
00:08:10,779 --> 00:08:12,519
Ricca as a puppy and taken by the member

155
00:08:12,519 --> 00:08:15,009
side table console and the populace in a

156
00:08:15,009 --> 00:08:16,689
special chamber protected by a cyber

157
00:08:16,689 --> 00:08:17,210
cell

158
00:08:17,210 --> 00:08:19,010
Arden postponed the mechanism of that

159
00:08:19,010 --> 00:08:23,270
stuff controlled by the a table and at

160
00:08:23,270 --> 00:08:26,780
this time it seems to auto manager to

161
00:08:26,780 --> 00:08:30,650
talk mr. week how may I be of service

162
00:08:30,650 --> 00:08:32,960
I need access to protected resource

163
00:08:32,960 --> 00:08:35,150
under all sort I need access to resource

164
00:08:35,150 --> 00:08:38,809
on the protection of a table you need a

165
00:08:38,809 --> 00:08:41,360
blessed account I understand where I can

166
00:08:41,360 --> 00:08:43,789
acquire one it is not something that you

167
00:08:43,789 --> 00:08:46,700
can acquire very well who has one well

168
00:08:46,700 --> 00:08:51,530
mr. Benson mr. week uses his special

169
00:08:51,530 --> 00:08:53,600
charm to earn the right to own an

170
00:08:53,600 --> 00:08:55,580
account and the way the system is set up

171
00:08:55,580 --> 00:08:57,680
requires a new key to be registered

172
00:08:57,680 --> 00:09:01,370
mr. week Wow politely asks for mr.

173
00:09:01,370 --> 00:09:03,830
Vincey to provision his account his new

174
00:09:03,830 --> 00:09:09,740
key and then this fellow because she's

175
00:09:09,740 --> 00:09:11,840
the second day because internet fell

176
00:09:11,840 --> 00:09:17,030
because yes that means it happens it's

177
00:09:17,030 --> 00:09:24,020
not a real them win favor just give me a

178
00:09:24,020 --> 00:09:27,020
minute sorry the internet will return in

179
00:09:27,020 --> 00:09:29,170
a moment

180
00:09:34,780 --> 00:09:40,460
hopefully yes connected so back into the

181
00:09:40,460 --> 00:09:47,570
movie work but this time the guy that

182
00:09:47,570 --> 00:09:50,720
needs to access the resource needs to

183
00:09:50,720 --> 00:09:53,390
provision a key for someone that can put

184
00:09:53,390 --> 00:09:56,510
this key on the on the server that means

185
00:09:56,510 --> 00:10:00,740
mr. week needs to send this key to an

186
00:10:00,740 --> 00:10:02,270
administrator or something like that

187
00:10:02,270 --> 00:10:05,390
this is what happens here this is the

188
00:10:05,390 --> 00:10:07,430
public is concerned to open Internet

189
00:10:07,430 --> 00:10:09,770
like an email or other mechanism like

190
00:10:09,770 --> 00:10:12,470
copy pasting that web what is happening

191
00:10:12,470 --> 00:10:17,090
here at this time mr. Vincey

192
00:10:17,090 --> 00:10:21,350
gets the key of mr. week and put it on

193
00:10:21,350 --> 00:10:25,120
vault it's allocated an IP for mr. week

194
00:10:25,120 --> 00:10:27,930
and the configuration is updated without

195
00:10:27,930 --> 00:10:30,010
compromising the current connections on

196
00:10:30,010 --> 00:10:35,050
the Vivian this is what what you can see

197
00:10:35,050 --> 00:10:38,050
here here mr. Vincey we'll start by

198
00:10:38,050 --> 00:10:45,550
logging into vault third secure password

199
00:10:45,550 --> 00:10:49,450
as you can see and you can see that it's

200
00:10:49,450 --> 00:10:53,589
a guy that has privileges we're gonna

201
00:10:53,589 --> 00:10:56,620
see this later on this policy

202
00:10:56,620 --> 00:10:59,290
he also you can see we have a token

203
00:10:59,290 --> 00:11:00,880
duration for eight hours so this means

204
00:11:00,880 --> 00:11:03,970
that with this token we can do all the

205
00:11:03,970 --> 00:11:06,880
operations on vault during eight hours

206
00:11:06,880 --> 00:11:09,450
starting now

207
00:11:09,450 --> 00:11:13,210
and then using the previous token you're

208
00:11:13,210 --> 00:11:15,130
gonna put the mystery key on the server

209
00:11:15,130 --> 00:11:18,910
this will generate some configurations

210
00:11:18,910 --> 00:11:23,790
on on what quite server and returns

211
00:11:23,790 --> 00:11:26,110
templated configuration to be used by

212
00:11:26,110 --> 00:11:32,190
the clients as you can see we have the

213
00:11:32,190 --> 00:11:35,650
IP that client will assume it's 1 7 to

214
00:11:35,650 --> 00:11:39,610
16 1 2 and we have expert time for that

215
00:11:39,610 --> 00:11:43,240
key on server that will be on the

216
00:11:43,240 --> 00:11:47,200
pressed it's already open and also we

217
00:11:47,200 --> 00:11:49,060
have a template of configuration that

218
00:11:49,060 --> 00:11:51,880
client can copy placing and use to

219
00:11:51,880 --> 00:11:55,660
connect to the server so this is what

220
00:11:55,660 --> 00:11:56,709
happens next

221
00:11:56,709 --> 00:12:00,700
mister we get that configuration by put

222
00:12:00,700 --> 00:12:04,720
it on his computer and access to the

223
00:12:04,720 --> 00:12:07,320
protected resource

224
00:12:17,210 --> 00:12:21,630
copy-pasted completing parts updating

225
00:12:21,630 --> 00:12:28,190
the client he needs to replace the

226
00:12:28,190 --> 00:12:30,690
private key fields with this sound

227
00:12:30,690 --> 00:12:33,450
private key that generated the public

228
00:12:33,450 --> 00:12:36,690
key that is sent to mr. Vincey and after

229
00:12:36,690 --> 00:12:39,420
that we'll be able to connect the server

230
00:12:39,420 --> 00:12:42,530
[Music]

231
00:12:44,660 --> 00:12:51,810
type over and then at this point

232
00:12:51,810 --> 00:12:53,670
whatever it is configured and is able to

233
00:12:53,670 --> 00:12:58,339
reach from client to the to the server

234
00:13:04,339 --> 00:13:08,100
and reach this puppy that's what he

235
00:13:08,100 --> 00:13:12,899
wants as you can see we have connection

236
00:13:12,899 --> 00:13:22,140
to the server where is the puppy so

237
00:13:22,140 --> 00:13:38,220
moving forwards what damage that's usual

238
00:13:38,220 --> 00:13:43,050
so moving forwards while mr. will weekly

239
00:13:43,050 --> 00:13:44,850
moves forward with his endeavor the

240
00:13:44,850 --> 00:13:46,920
Nullification of mr. Vincey does not

241
00:13:46,920 --> 00:13:51,300
global and notice and so the house the

242
00:13:51,300 --> 00:13:52,890
high table housekeeper reads the

243
00:13:52,890 --> 00:13:54,959
accessor logs and there it is mr. Vincey

244
00:13:54,959 --> 00:13:56,880
with a brand new public he this was

245
00:13:56,880 --> 00:13:58,800
unprecedented mr. bings he was

246
00:13:58,800 --> 00:14:01,589
emotionally attached to that key the

247
00:14:01,589 --> 00:14:03,209
housekeeper didn't understands who may

248
00:14:03,209 --> 00:14:05,040
be behind this behavioral change and

249
00:14:05,040 --> 00:14:07,050
he's another point in sirs mr. wick

250
00:14:07,050 --> 00:14:09,060
therefore asks for the presence of the

251
00:14:09,060 --> 00:14:11,089
most capable height civil servants and

252
00:14:11,089 --> 00:14:14,339
well mr. wick has valid arguments his

253
00:14:14,339 --> 00:14:16,350
puppy is now safe behind him a pile of

254
00:14:16,350 --> 00:14:17,970
corpses lie on the tapestry that

255
00:14:17,970 --> 00:14:20,959
welcomes newcomers to the high table and

256
00:14:20,959 --> 00:14:23,329
the high table declares mr. wick

257
00:14:23,329 --> 00:14:26,190
excommunicate oh yes again and revokes

258
00:14:26,190 --> 00:14:28,709
all of mr. pings his excesses actually

259
00:14:28,709 --> 00:14:33,800
this - and this is what happened here

260
00:14:33,800 --> 00:14:37,440
someone from the the administrator part

261
00:14:37,440 --> 00:14:41,930
Socorro revokes the access of mr. Vincey

262
00:14:41,930 --> 00:14:45,180
he will able to lease the current apply

263
00:14:45,180 --> 00:14:47,850
of T's on vault that is also deployed on

264
00:14:47,850 --> 00:14:50,670
the server via volt by listing all the

265
00:14:50,670 --> 00:14:53,190
clients we only have one for this proof

266
00:14:53,190 --> 00:14:56,180
of concept but we can add multiple ones

267
00:14:56,180 --> 00:14:59,100
as you can see was a key that was

268
00:14:59,100 --> 00:15:02,600
provided for mr. week by mr. Vincey and

269
00:15:02,600 --> 00:15:07,740
then revoke the key or delete a key from

270
00:15:07,740 --> 00:15:09,839
vault that will be deleted off on the

271
00:15:09,839 --> 00:15:10,470
server

272
00:15:10,470 --> 00:15:21,180
what about certain we could do it faster

273
00:15:21,180 --> 00:15:29,220
so no keys on server right now and

274
00:15:29,220 --> 00:15:31,110
shaking on the server there's no more

275
00:15:31,110 --> 00:15:35,220
tears to be connected well also we can

276
00:15:35,220 --> 00:15:37,230
check that cleanse is not longer able to

277
00:15:37,230 --> 00:15:39,000
connect the server to reach this puppy

278
00:15:39,000 --> 00:15:44,610
or the pup is no longer there so since

279
00:15:44,610 --> 00:15:46,550
these access is revoked

280
00:15:46,550 --> 00:15:49,199
truly it doesn't matter because we show

281
00:15:49,199 --> 00:15:51,570
it doesn't care so you can have the best

282
00:15:51,570 --> 00:15:53,160
of breed security system but you cannot

283
00:15:53,160 --> 00:15:55,650
get between mr. week and his party as we

284
00:15:55,650 --> 00:15:58,680
all know so regarding backstage

285
00:15:58,680 --> 00:16:01,079
backstage is we are going to explain

286
00:16:01,079 --> 00:16:05,970
each part of this story which is the fun

287
00:16:05,970 --> 00:16:06,270
part

288
00:16:06,270 --> 00:16:09,570
yeah ok starting by the vault as we

289
00:16:09,570 --> 00:16:12,000
previous mentioned we don't we are ready

290
00:16:12,000 --> 00:16:14,880
using vault to do some secured parts on

291
00:16:14,880 --> 00:16:17,660
our network by generating tokens

292
00:16:17,660 --> 00:16:21,630
database credentials and other part fun

293
00:16:21,630 --> 00:16:24,870
stuff that vault provides but why you

294
00:16:24,870 --> 00:16:27,630
are using fault because of the goals

295
00:16:27,630 --> 00:16:29,730
that is being designed for for receive

296
00:16:29,730 --> 00:16:30,540
so

297
00:16:30,540 --> 00:16:33,320
needs to be a single source of Secrets

298
00:16:33,320 --> 00:16:35,730
his these secrets need to be

299
00:16:35,730 --> 00:16:38,550
programmatically easily accessible and

300
00:16:38,550 --> 00:16:42,000
needs to feed some of that on a multi

301
00:16:42,000 --> 00:16:46,350
data center architecture that directs us

302
00:16:46,350 --> 00:16:48,720
to the multi-valve trending world that

303
00:16:48,720 --> 00:16:52,650
we are living today this this means the

304
00:16:52,650 --> 00:16:55,530
does not need only to be compatible with

305
00:16:55,530 --> 00:16:58,310
multi cloud providers but needs to

306
00:16:58,310 --> 00:17:01,260
provide a secure way to transmit that

307
00:17:01,260 --> 00:17:05,250
between those those data centers is that

308
00:17:05,250 --> 00:17:08,699
we can occur in a secure manner and also

309
00:17:08,699 --> 00:17:10,619
needs to provide access control and

310
00:17:10,619 --> 00:17:13,589
provides also practical security above

311
00:17:13,589 --> 00:17:16,770
all the system so regarding the features

312
00:17:16,770 --> 00:17:20,670
of vault he's he provides dynamic seems

313
00:17:20,670 --> 00:17:22,949
that evil mentions that like PK

314
00:17:22,949 --> 00:17:26,250
certificates SSH certificates database

315
00:17:26,250 --> 00:17:30,810
secrets and so on he also has ability to

316
00:17:30,810 --> 00:17:33,930
write reach HCL programmatically that

317
00:17:33,930 --> 00:17:36,750
means that some resources only can

318
00:17:36,750 --> 00:17:38,930
access specific parts on vault and

319
00:17:38,930 --> 00:17:43,230
others the same and this is very

320
00:17:43,230 --> 00:17:45,630
important because if one of application

321
00:17:45,630 --> 00:17:51,210
is compromised only I think I use

322
00:17:51,210 --> 00:17:52,980
compromised that application is only

323
00:17:52,980 --> 00:17:56,010
able to reach the secrets that that

324
00:17:56,010 --> 00:17:58,860
application has able to to read this

325
00:17:58,860 --> 00:18:02,760
this is very good because as many

326
00:18:02,760 --> 00:18:06,990
secrets you know it's better and it also

327
00:18:06,990 --> 00:18:08,850
offers flexible authentication and

328
00:18:08,850 --> 00:18:12,510
auditing overall regarding the secret to

329
00:18:12,510 --> 00:18:16,260
secure the your secret storage although

330
00:18:16,260 --> 00:18:20,790
that on vault is encrypted by meaning by

331
00:18:20,790 --> 00:18:22,200
thing although that is the data that

332
00:18:22,200 --> 00:18:24,960
it's at rest and in transit using Tilia

333
00:18:24,960 --> 00:18:27,750
soon 1.24 communications for transport

334
00:18:27,750 --> 00:18:29,870
layer between the clients and vault and

335
00:18:29,870 --> 00:18:35,090
use encrypt all the things on on a with

336
00:18:35,090 --> 00:18:38,370
256 bits using AES in gawad control mode

337
00:18:38,370 --> 00:18:40,440
it is quite faster than

338
00:18:40,440 --> 00:18:43,620
usual cipher block chaining and this

339
00:18:43,620 --> 00:18:46,080
also provides authentication by by

340
00:18:46,080 --> 00:18:49,710
default volt also use algorithm College

341
00:18:49,710 --> 00:18:52,560
summer secret sharing to build a master

342
00:18:52,560 --> 00:18:56,450
key that it includes all the data this

343
00:18:56,450 --> 00:18:59,370
it depends on the configuration but for

344
00:18:59,370 --> 00:19:02,040
generating those that master key you

345
00:19:02,040 --> 00:19:03,840
don't need all the parts or all the

346
00:19:03,840 --> 00:19:06,300
shards of these this sheet secret

347
00:19:06,300 --> 00:19:08,790
sharing but some parts only to reveal

348
00:19:08,790 --> 00:19:12,390
that secret key also the very important

349
00:19:12,390 --> 00:19:13,920
part the living and renewable

350
00:19:13,920 --> 00:19:15,990
reservation all the secrets on vault in

351
00:19:15,990 --> 00:19:18,540
token says as at least time that can be

352
00:19:18,540 --> 00:19:22,130
renewable or revoke it before the the

353
00:19:22,130 --> 00:19:28,340
lease actuate also the auditing vault

354
00:19:28,340 --> 00:19:31,170
locks everything locks all the requests

355
00:19:31,170 --> 00:19:34,260
in the response but does not start the

356
00:19:34,260 --> 00:19:37,110
secrets unlocks some point in time well

357
00:19:37,110 --> 00:19:39,660
we already seen applications that do

358
00:19:39,660 --> 00:19:42,860
that but this is not good as we know and

359
00:19:42,860 --> 00:19:45,930
all the secrets are at our action this

360
00:19:45,930 --> 00:19:47,820
means that they are searchable but

361
00:19:47,820 --> 00:19:52,740
cannot be reversible the decrypted also

362
00:19:52,740 --> 00:19:55,610
we can put as many weekends we want

363
00:19:55,610 --> 00:19:59,850
because this is very good because we can

364
00:19:59,850 --> 00:20:02,960
also have a backup backup of the

365
00:20:02,960 --> 00:20:06,750
auditing but we can also compare two

366
00:20:06,750 --> 00:20:09,540
logs to see if one of them has been

367
00:20:09,540 --> 00:20:12,600
tampered with or not it also provides

368
00:20:12,600 --> 00:20:15,180
safety available this means that if

369
00:20:15,180 --> 00:20:18,540
vault cannot out it or log something it

370
00:20:18,540 --> 00:20:20,640
won't return the response field which

371
00:20:20,640 --> 00:20:24,660
will fail before and finally regarding

372
00:20:24,660 --> 00:20:27,540
the authentication photo vault offers

373
00:20:27,540 --> 00:20:30,090
multiple backends for authentication

374
00:20:30,090 --> 00:20:32,640
like tokens open Ivy certificates user

375
00:20:32,640 --> 00:20:36,420
password to be very easy to use by

376
00:20:36,420 --> 00:20:38,880
machine audiences like applications or

377
00:20:38,880 --> 00:20:42,200
we user-friendly

378
00:20:47,320 --> 00:20:49,720
the kind of the motto is to be an

379
00:20:49,720 --> 00:20:52,450
extremely simple yet fast in modern VPN

380
00:20:52,450 --> 00:20:53,680
that Jesus state of the art

381
00:20:53,680 --> 00:20:57,580
chromatography and this these were kind

382
00:20:57,580 --> 00:20:59,760
of the things that allowed us to think

383
00:20:59,760 --> 00:21:02,350
that was really neat solution although

384
00:21:02,350 --> 00:21:04,990
it states that for the time being is not

385
00:21:04,990 --> 00:21:07,330
production ready but the design

386
00:21:07,330 --> 00:21:10,480
principles are close to our heart let's

387
00:21:10,480 --> 00:21:14,020
say so it's easily auditable it's

388
00:21:14,020 --> 00:21:16,150
supposed to be simplicity of interface

389
00:21:16,150 --> 00:21:19,600
the static fix flying feathers static

390
00:21:19,600 --> 00:21:21,190
guarded state allocations in guarded

391
00:21:21,190 --> 00:21:24,130
states stealth solid crypto and abuse

392
00:21:24,130 --> 00:21:26,440
resistance and we'll explain a little

393
00:21:26,440 --> 00:21:29,080
bit about each one of those so it's

394
00:21:29,080 --> 00:21:31,240
implemented in kernel space so you don't

395
00:21:31,240 --> 00:21:33,730
have kind of the problem of being an

396
00:21:33,730 --> 00:21:36,130
application in user space that has a lot

397
00:21:36,130 --> 00:21:37,960
of contact switching which makes it also

398
00:21:37,960 --> 00:21:42,040
very fast it's highly opinionated this

399
00:21:42,040 --> 00:21:47,050
means that for example Open VPN or IPSec

400
00:21:47,050 --> 00:21:49,720
can have a lot of configuration for

401
00:21:49,720 --> 00:21:52,750
cipher suites etc and not wire guard

402
00:21:52,750 --> 00:21:56,230
where I got kind of really restricts

403
00:21:56,230 --> 00:21:59,710
your options they are basically men what

404
00:21:59,710 --> 00:22:02,610
you get is what it's out of the box

405
00:22:02,610 --> 00:22:06,310
and this has obviously advantages and

406
00:22:06,310 --> 00:22:10,390
disadvantages but statistically speaking

407
00:22:10,390 --> 00:22:13,780
I think the advantages overcome this

408
00:22:13,780 --> 00:22:17,250
advantages it's a real three only

409
00:22:17,250 --> 00:22:20,650
solution and this has also advantages

410
00:22:20,650 --> 00:22:24,220
like we will see a little bit later it

411
00:22:24,220 --> 00:22:26,680
has less than 4,000 lines of code and

412
00:22:26,680 --> 00:22:30,340
this enters in the parts that I was

413
00:22:30,340 --> 00:22:33,220
speaking for about being auditable that

414
00:22:33,220 --> 00:22:35,470
is the kind of the footprint of enough

415
00:22:35,470 --> 00:22:38,440
codes are few so it's easier to kind of

416
00:22:38,440 --> 00:22:41,020
audit the code itself and it is

417
00:22:41,020 --> 00:22:42,610
operationally coherent with common

418
00:22:42,610 --> 00:22:44,170
networking tools reducing operational

419
00:22:44,170 --> 00:22:47,290
levels easily what does this mean this

420
00:22:47,290 --> 00:22:49,300
means that this is kind of one of the

421
00:22:49,300 --> 00:22:54,510
principles when this component was built

422
00:22:54,510 --> 00:22:58,290
and what this allows us to is to have

423
00:22:58,290 --> 00:23:00,540
that part there of simplicity of

424
00:23:00,540 --> 00:23:02,640
interface and so the persons that are

425
00:23:02,640 --> 00:23:04,680
currently kind of managing the servers

426
00:23:04,680 --> 00:23:06,720
are managing the network don't really

427
00:23:06,720 --> 00:23:09,060
need to understand thoroughly for

428
00:23:09,060 --> 00:23:12,120
example for all the options that IPSec

429
00:23:12,120 --> 00:23:15,330
provides you to or even OpenVPN about

430
00:23:15,330 --> 00:23:17,160
certain configurations because it's

431
00:23:17,160 --> 00:23:21,620
given to you out of the box also

432
00:23:21,620 --> 00:23:25,140
regarding crypto where God really takes

433
00:23:25,140 --> 00:23:28,290
advantage of the noise framework which

434
00:23:28,290 --> 00:23:30,780
is used also another stuff like whatsapp

435
00:23:30,780 --> 00:23:34,170
and signal etc and this allows it to be

436
00:23:34,170 --> 00:23:37,830
it's kind of the one round trip for key

437
00:23:37,830 --> 00:23:41,750
exchange and it uses curve 25:19 for the

438
00:23:41,750 --> 00:23:46,400
points for building the the public keys

439
00:23:46,640 --> 00:23:49,620
using elliptic curve diffie-hellman and

440
00:23:49,620 --> 00:23:52,110
it uses for the symmetric crypto parts

441
00:23:52,110 --> 00:23:57,090
Shasha 20 with poly 1305 through the

442
00:23:57,090 --> 00:23:59,850
encapsulation of encryption of the UDP

443
00:23:59,850 --> 00:24:01,950
packets that are encapsulated wire that

444
00:24:01,950 --> 00:24:05,370
uses UDP and it uses like two flashing

445
00:24:05,370 --> 00:24:07,590
and public keys it's themselves because

446
00:24:07,590 --> 00:24:10,020
it kind of builds a routing table around

447
00:24:10,020 --> 00:24:13,610
those public keys with the targets use a

448
00:24:13,610 --> 00:24:16,710
hash table that takes advantage of the

449
00:24:16,710 --> 00:24:19,950
function of sip hash to for Mike this

450
00:24:19,950 --> 00:24:23,460
also isn't intends to be really fast and

451
00:24:23,460 --> 00:24:25,590
so not vulnerable also to collision

452
00:24:25,590 --> 00:24:30,360
attacks and it has created a new crypto

453
00:24:30,360 --> 00:24:32,640
key place mitigation for do s attacks

454
00:24:32,640 --> 00:24:35,550
it's and this is not kind of a new idea

455
00:24:35,550 --> 00:24:38,430
but they creates kind of a different

456
00:24:38,430 --> 00:24:40,290
protocol for building this schedule

457
00:24:40,290 --> 00:24:42,900
cookie and one of the properties

458
00:24:42,900 --> 00:24:44,790
interesting in this particular protocol

459
00:24:44,790 --> 00:24:47,700
is that wire guards deals with both

460
00:24:47,700 --> 00:24:50,720
endpoints the initiator in the responder

461
00:24:50,720 --> 00:24:54,840
they both can interchange roles and that

462
00:24:54,840 --> 00:24:57,450
means that for example the way the

463
00:24:57,450 --> 00:25:00,030
crypto cookie is built is in order for

464
00:25:00,030 --> 00:25:02,940
the not the clients or the initiator

465
00:25:02,940 --> 00:25:05,610
cannot do s the responder and the

466
00:25:05,610 --> 00:25:06,040
response

467
00:25:06,040 --> 00:25:09,880
cannot us initiate it also has on

468
00:25:09,880 --> 00:25:11,560
particular property which is no

469
00:25:11,560 --> 00:25:13,510
resources are allocated for an

470
00:25:13,510 --> 00:25:17,050
unauthenticated packets this is goes

471
00:25:17,050 --> 00:25:19,690
into that also part of stealth so for

472
00:25:19,690 --> 00:25:21,550
example if you have a network scanner

473
00:25:21,550 --> 00:25:25,180
and you don't sense authenticated or

474
00:25:25,180 --> 00:25:27,760
valid packets to the two-wire guard it

475
00:25:27,760 --> 00:25:29,800
won't it will simply drop your packets

476
00:25:29,800 --> 00:25:34,870
in it won't to answer you indeed during

477
00:25:34,870 --> 00:25:37,690
the it has kind of a two minutes session

478
00:25:37,690 --> 00:25:45,070
that it rotates the the session keys for

479
00:25:45,070 --> 00:25:47,980
therefore the VPN session itself and it

480
00:25:47,980 --> 00:25:54,160
provides DFS perfect secrecy this has

481
00:25:54,160 --> 00:25:56,080
one very important property that it

482
00:25:56,080 --> 00:25:57,970
takes advantage of which is crypto key

483
00:25:57,970 --> 00:26:00,970
routing and it connects kind of the the

484
00:26:00,970 --> 00:26:03,280
public key will be IP address the one

485
00:26:03,280 --> 00:26:05,410
that we were seeing before and this is

486
00:26:05,410 --> 00:26:08,320
kind of tightly coupled cryptographic

487
00:26:08,320 --> 00:26:10,690
website wake up and so this is an

488
00:26:10,690 --> 00:26:12,580
interesting property that it takes

489
00:26:12,580 --> 00:26:15,610
advantage later on like we will also

490
00:26:15,610 --> 00:26:20,860
show one advantage of this this part of

491
00:26:20,860 --> 00:26:24,820
the routing enables that solving the the

492
00:26:24,820 --> 00:26:26,050
problem that we mentioned at the

493
00:26:26,050 --> 00:26:29,290
beginning of unstable connections

494
00:26:29,290 --> 00:26:32,440
because it has the capability of roaming

495
00:26:32,440 --> 00:26:35,380
the connection between similar to much

496
00:26:35,380 --> 00:26:38,950
that's why it's expander in this means

497
00:26:38,950 --> 00:26:40,690
that for example if we have a VPN

498
00:26:40,690 --> 00:26:42,130
connection now at this moment we can

499
00:26:42,130 --> 00:26:45,520
cause this laptop imagining that it has

500
00:26:45,520 --> 00:26:48,850
a Wi-Fi connection here we go home open

501
00:26:48,850 --> 00:26:51,070
the laptop again and we would still have

502
00:26:51,070 --> 00:26:53,830
the same at the same not the same VPN

503
00:26:53,830 --> 00:26:55,930
connection but it would automatically be

504
00:26:55,930 --> 00:27:00,500
established with new session keys so

505
00:27:00,500 --> 00:27:06,140
dealing with mobile users and then for

506
00:27:06,140 --> 00:27:08,840
the office to be possible and then we

507
00:27:08,840 --> 00:27:10,760
develop a deployment that integrates

508
00:27:10,760 --> 00:27:14,240
fault with vari parts for that we also

509
00:27:14,240 --> 00:27:17,299
do that we established some goals that

510
00:27:17,299 --> 00:27:20,480
planes need to to be able to solve us

511
00:27:20,480 --> 00:27:24,320
the those goals are needs to be needs to

512
00:27:24,320 --> 00:27:26,690
simplify the white guard configuration

513
00:27:26,690 --> 00:27:29,659
even more my simplified by simplifying

514
00:27:29,659 --> 00:27:31,280
the configuration means for the server

515
00:27:31,280 --> 00:27:33,559
and for the clients and they also needs

516
00:27:33,559 --> 00:27:36,200
to need to revoke the access and

517
00:27:36,200 --> 00:27:42,169
auditing all all the connections so the

518
00:27:42,169 --> 00:27:45,230
the features of the plug-in we want to

519
00:27:45,230 --> 00:27:48,039
want to add peers dynamically on server

520
00:27:48,039 --> 00:27:50,929
stablishing establishing TTL for those

521
00:27:50,929 --> 00:27:53,870
keys and build a simple date DHCP server

522
00:27:53,870 --> 00:27:56,210
that we can match the IP with a public

523
00:27:56,210 --> 00:28:00,320
key and get that matching information we

524
00:28:00,320 --> 00:28:02,000
also want to provide the configuration

525
00:28:02,000 --> 00:28:04,490
for the clients so we can easily connect

526
00:28:04,490 --> 00:28:08,120
to the server so we define four

527
00:28:08,120 --> 00:28:09,470
endpoints for the plane

528
00:28:09,470 --> 00:28:11,539
the main part that we'll provide them in

529
00:28:11,539 --> 00:28:14,570
straighter parts like deleting keys or

530
00:28:14,570 --> 00:28:17,000
or how do you think the kids that are

531
00:28:17,000 --> 00:28:19,130
deployed on the server the client part

532
00:28:19,130 --> 00:28:21,770
that is for the client interaction to

533
00:28:21,770 --> 00:28:24,169
send public keys for halt and after that

534
00:28:24,169 --> 00:28:27,140
those keys be used on server the

535
00:28:27,140 --> 00:28:28,909
configuration part that is for

536
00:28:28,909 --> 00:28:29,960
configuring the plug-in like

537
00:28:29,960 --> 00:28:32,179
establishing the site and walk off the

538
00:28:32,179 --> 00:28:32,780
meds

539
00:28:32,780 --> 00:28:35,809
that were required we will use the TTL

540
00:28:35,809 --> 00:28:39,289
off the keys and the public key for the

541
00:28:39,289 --> 00:28:40,640
server for example the private key in

542
00:28:40,640 --> 00:28:42,350
the public the private key is stored on

543
00:28:42,350 --> 00:28:45,770
another part but the public key and the

544
00:28:45,770 --> 00:28:47,750
server part that will be used by the

545
00:28:47,750 --> 00:28:50,720
server to read the keys and create

546
00:28:50,720 --> 00:28:53,030
interfaces on the server the white card

547
00:28:53,030 --> 00:28:56,900
server we also we use called console

548
00:28:56,900 --> 00:28:59,780
template to read those values from from

549
00:28:59,780 --> 00:29:02,480
the vault and deployed the server

550
00:29:02,480 --> 00:29:06,440
configuration so the process is clients

551
00:29:06,440 --> 00:29:08,419
rights to vault console templates reads

552
00:29:08,419 --> 00:29:09,830
from vault and

553
00:29:09,830 --> 00:29:11,690
the configuration whatever then we lost

554
00:29:11,690 --> 00:29:16,610
it and finally the user can also can can

555
00:29:16,610 --> 00:29:21,320
access whatever this is the process

556
00:29:21,320 --> 00:29:24,529
where we installed the plug-in on vault

557
00:29:24,529 --> 00:29:29,119
and enable it to do that we use another

558
00:29:29,119 --> 00:29:33,440
super secret token to do that remember

559
00:29:33,440 --> 00:29:35,130
this is only a proof-of-concept

560
00:29:35,130 --> 00:29:36,429
[Music]

561
00:29:36,429 --> 00:29:39,860
locates the plugin and for this case we

562
00:29:39,860 --> 00:29:41,929
are under under vault plugins and

563
00:29:41,929 --> 00:29:47,600
install it by providing the 256 of the

564
00:29:47,600 --> 00:29:50,299
the binary to be registered on on fault

565
00:29:50,299 --> 00:29:53,119
this is very useful because if those

566
00:29:53,119 --> 00:29:56,869
this binary is tempered vault ignore its

567
00:29:56,869 --> 00:29:59,690
after that and this this is good because

568
00:29:59,690 --> 00:30:04,429
we cannot do changes on binary to do

569
00:30:04,429 --> 00:30:09,200
some bad stuff this is the expect of the

570
00:30:09,200 --> 00:30:12,109
help page for the plugin with the the

571
00:30:12,109 --> 00:30:16,669
endpoints more detail and we talk more

572
00:30:16,669 --> 00:30:19,129
detailed about the more detailed about

573
00:30:19,129 --> 00:30:22,369
the endpoints the two ones are the admin

574
00:30:22,369 --> 00:30:25,389
parts the first one is for listing the

575
00:30:25,389 --> 00:30:28,429
keys and the segment's for reading the

576
00:30:28,429 --> 00:30:31,369
details of one specific key the client

577
00:30:31,369 --> 00:30:33,470
already told what it is is for the

578
00:30:33,470 --> 00:30:35,299
client right this probably key to server

579
00:30:35,299 --> 00:30:37,129
the configuration is to write the

580
00:30:37,129 --> 00:30:38,889
confirmation server and the server and

581
00:30:38,889 --> 00:30:41,570
is for leasing in the last one is for

582
00:30:41,570 --> 00:30:45,440
reading the key on vault we also

583
00:30:45,440 --> 00:30:47,899
installed some some policies that

584
00:30:47,899 --> 00:30:51,889
disable or deny some clients for for

585
00:30:51,889 --> 00:30:54,799
reading the some possumcods

586
00:30:54,799 --> 00:30:58,489
sorry I mean denied but vault denies by

587
00:30:58,489 --> 00:31:01,460
default and only allows on this specific

588
00:31:01,460 --> 00:31:03,859
policy this is user why I mean that

589
00:31:03,859 --> 00:31:05,040
means the

590
00:31:05,040 --> 00:31:08,610
can do everything on the the plug-in

591
00:31:08,610 --> 00:31:13,650
path that since we get up with VG this

592
00:31:13,650 --> 00:31:16,170
is the client one that is able to write

593
00:31:16,170 --> 00:31:16,830
right

594
00:31:16,830 --> 00:31:18,720
he's only public key because it's only

595
00:31:18,720 --> 00:31:20,870
havin a lot of parameters to write to

596
00:31:20,870 --> 00:31:26,670
the client the client path and this is a

597
00:31:26,670 --> 00:31:28,980
read-only part the rhythm of the part is

598
00:31:28,980 --> 00:31:32,610
for example this is an error right

599
00:31:32,610 --> 00:31:35,250
because it's not should we read this is

600
00:31:35,250 --> 00:31:38,130
only this it should be answered but is

601
00:31:38,130 --> 00:31:42,030
only to read it's like an audit guy that

602
00:31:42,030 --> 00:31:44,100
comes to halt and shake what is the

603
00:31:44,100 --> 00:31:46,800
configurations and the clients that are

604
00:31:46,800 --> 00:31:51,210
deployed at that time and WG server this

605
00:31:51,210 --> 00:31:54,390
is where server used used for with the

606
00:31:54,390 --> 00:31:56,220
public keys and provide the provisioned

607
00:31:56,220 --> 00:31:59,550
the configuration this is an example of

608
00:31:59,550 --> 00:32:01,710
the right configuration where we

609
00:32:01,710 --> 00:32:04,440
establish you the time to leave of the

610
00:32:04,440 --> 00:32:08,220
keys the sidewalk of the the network

611
00:32:08,220 --> 00:32:11,040
that what word we will use and this

612
00:32:11,040 --> 00:32:14,340
Caesar is used for the the DHCP client

613
00:32:14,340 --> 00:32:17,010
generate new IPS for clients we also

614
00:32:17,010 --> 00:32:19,800
provide the endpoint that needs that

615
00:32:19,800 --> 00:32:22,560
will be used by the the endpoint and the

616
00:32:22,560 --> 00:32:23,910
public key that will be used by the

617
00:32:23,910 --> 00:32:29,190
clients for the template part this is a

618
00:32:29,190 --> 00:32:31,380
video with the public key I think I'm

619
00:32:31,380 --> 00:32:33,630
gonna pass because you are running out

620
00:32:33,630 --> 00:32:36,660
of time and this is a client example

621
00:32:36,660 --> 00:32:38,070
where the client send this public key to

622
00:32:38,070 --> 00:32:40,560
the server to be used and template is on

623
00:32:40,560 --> 00:32:44,780
the server and this is an example of the

624
00:32:44,780 --> 00:32:47,190
return response when the clients send

625
00:32:47,190 --> 00:32:49,050
this public key to the server as you can

626
00:32:49,050 --> 00:32:50,910
see we have the expert time of that key

627
00:32:50,910 --> 00:32:54,180
the IP address that will be use and a

628
00:32:54,180 --> 00:32:56,850
template of configuration that client

629
00:32:56,850 --> 00:32:59,700
could use later on and put on is on each

630
00:32:59,700 --> 00:33:02,100
side to connect to the server we also

631
00:33:02,100 --> 00:33:05,150
can pipe to some pipe magic and

632
00:33:05,150 --> 00:33:08,730
generates dynamically the our private

633
00:33:08,730 --> 00:33:12,120
configuration by generating a key piping

634
00:33:12,120 --> 00:33:14,670
to vault by drop by generating these

635
00:33:14,670 --> 00:33:16,800
public our public key

636
00:33:16,800 --> 00:33:20,120
Doucette after that and use the

637
00:33:20,120 --> 00:33:24,660
generative response on the cost on the

638
00:33:24,660 --> 00:33:27,780
server side we are using console

639
00:33:27,780 --> 00:33:30,060
template as we mentioned previous

640
00:33:30,060 --> 00:33:31,800
measurement to generate the

641
00:33:31,800 --> 00:33:33,150
configuration and this configuration

642
00:33:33,150 --> 00:33:35,600
will list all the secrets and read

643
00:33:35,600 --> 00:33:39,450
everything to put on on on the server

644
00:33:39,450 --> 00:33:41,700
this is an example of the configuration

645
00:33:41,700 --> 00:33:44,160
generated that leads will have all the

646
00:33:44,160 --> 00:33:47,120
peers connected to the server and its

647
00:33:47,120 --> 00:33:53,700
associated public key so one of the the

648
00:33:53,700 --> 00:33:56,100
parts that we wanted to ensure was that

649
00:33:56,100 --> 00:33:58,170
she we had accountability by the usage

650
00:33:58,170 --> 00:34:03,030
of all this solution and so what it was

651
00:34:03,030 --> 00:34:07,200
an important part of it and so we wanted

652
00:34:07,200 --> 00:34:08,670
to keep a detailed blog of every

653
00:34:08,670 --> 00:34:11,239
interaction with walls and with some

654
00:34:11,239 --> 00:34:13,230
specific exceptions like myself

655
00:34:13,230 --> 00:34:15,929
mentioned before all strings are run

656
00:34:15,929 --> 00:34:18,600
through an edge map and this means that

657
00:34:18,600 --> 00:34:20,610
when it's written into the other talks

658
00:34:20,610 --> 00:34:23,760
you really end unless you know the

659
00:34:23,760 --> 00:34:25,860
secrets you do not understand what's in

660
00:34:25,860 --> 00:34:28,860
the other table and this is provided by

661
00:34:28,860 --> 00:34:32,940
default by fault however you can still

662
00:34:32,940 --> 00:34:35,130
search for something some string that

663
00:34:35,130 --> 00:34:37,409
you know for example if you know the

664
00:34:37,409 --> 00:34:39,418
public key there's an endpoint also

665
00:34:39,418 --> 00:34:42,870
Indian volts that returns you the Ravel

666
00:34:42,870 --> 00:34:45,870
or the the calculation of that HMA with

667
00:34:45,870 --> 00:34:48,030
the secret that it's with involved and

668
00:34:48,030 --> 00:34:50,190
so you can use then that image to search

669
00:34:50,190 --> 00:34:54,030
into for example the example that we did

670
00:34:54,030 --> 00:34:56,909
was we placed everything in elastic

671
00:34:56,909 --> 00:35:00,300
search and access it by equivalent and

672
00:35:00,300 --> 00:35:03,420
in this particular case only the deletes

673
00:35:03,420 --> 00:35:05,580
appears there with the public key but

674
00:35:05,580 --> 00:35:06,770
the play

675
00:35:06,770 --> 00:35:09,140
and creates etc you would need to do

676
00:35:09,140 --> 00:35:12,830
that part of the default that is to

677
00:35:12,830 --> 00:35:14,210
calculate the edgemax

678
00:35:14,210 --> 00:35:17,680
of the republic and then search for it

679
00:35:17,680 --> 00:35:20,630
then this is part of the problem so this

680
00:35:20,630 --> 00:35:23,780
is the kind of the part of the the

681
00:35:23,780 --> 00:35:26,150
provisioning of the keys in themselves

682
00:35:26,150 --> 00:35:28,550
but then you can get the access to the

683
00:35:28,550 --> 00:35:32,110
VPN and like like we explained before

684
00:35:32,110 --> 00:35:35,180
wire guard is a kind of layer three only

685
00:35:35,180 --> 00:35:38,690
solution so this enables kind of other

686
00:35:38,690 --> 00:35:41,480
stuff and since we have kind of this

687
00:35:41,480 --> 00:35:43,610
strong cryptographic mapping between the

688
00:35:43,610 --> 00:35:46,400
client IP and the public key we can use

689
00:35:46,400 --> 00:35:48,860
common IP monitoring tools like any

690
00:35:48,860 --> 00:35:51,770
other tool that's usually people used

691
00:35:51,770 --> 00:35:55,190
for networking stuff being these are

692
00:35:55,190 --> 00:35:57,500
kind of two examples night flow or IP

693
00:35:57,500 --> 00:35:59,750
tables connection tracking and we since

694
00:35:59,750 --> 00:36:02,390
it was easier for us we just leave an IP

695
00:36:02,390 --> 00:36:05,060
tables with logging of these particular

696
00:36:05,060 --> 00:36:07,040
connections that's everything that goes

697
00:36:07,040 --> 00:36:08,720
through that virtual interface network

698
00:36:08,720 --> 00:36:11,930
interface of gg0 created by a wire guard

699
00:36:11,930 --> 00:36:15,500
we can simply log it and understand

700
00:36:15,500 --> 00:36:19,040
which clients connected to where at what

701
00:36:19,040 --> 00:36:23,000
time and this is again this is only for

702
00:36:23,000 --> 00:36:24,920
the example is there's only one really

703
00:36:24,920 --> 00:36:27,410
one connection or one client one server

704
00:36:27,410 --> 00:36:30,320
so this is kind of boring but it's just

705
00:36:30,320 --> 00:36:33,170
making a statement that it's completely

706
00:36:33,170 --> 00:36:37,060
possible and easy to do again it was

707
00:36:37,060 --> 00:36:39,640
using heuristic search and given it to

708
00:36:39,640 --> 00:36:42,950
reach red cards wait sorry

709
00:36:42,950 --> 00:36:53,140
and there we go again Wow amazing future

710
00:36:53,140 --> 00:36:56,990
it's so regarding regarding the future

711
00:36:56,990 --> 00:36:59,630
work we want to any instrumentation by

712
00:36:59,630 --> 00:37:03,590
writing godox on on the plugin because

713
00:37:03,590 --> 00:37:06,200
this is writen on gold I think we didn't

714
00:37:06,200 --> 00:37:09,260
mention that all the planes on go for

715
00:37:09,260 --> 00:37:11,260
halt all right and go because well

716
00:37:11,260 --> 00:37:15,420
record provides an awesome SEK with

717
00:37:15,420 --> 00:37:19,410
with all the abstraction for that we

718
00:37:19,410 --> 00:37:21,210
also want to open start supplying so

719
00:37:21,210 --> 00:37:25,110
community can know using it and build a

720
00:37:25,110 --> 00:37:28,560
let me stick on top of avi plots we also

721
00:37:28,560 --> 00:37:30,360
want to improve the test coverage and

722
00:37:30,360 --> 00:37:33,210
later on we want to enable that only a

723
00:37:33,210 --> 00:37:35,700
specific user will be able to produce

724
00:37:35,700 --> 00:37:39,180
news on key this is a bug that we have

725
00:37:39,180 --> 00:37:44,210
right now and where are the marshmallows

726
00:37:44,210 --> 00:37:49,500
like we promised there and this is the

727
00:37:49,500 --> 00:37:53,000
video of the full process

728
00:37:53,810 --> 00:38:07,470
no he won't play okay questions no

729
00:38:07,470 --> 00:38:31,800
questions question over there because

730
00:38:31,800 --> 00:38:34,110
going to is going to make the question I

731
00:38:34,110 --> 00:38:39,810
think that's one question hi dears do

732
00:38:39,810 --> 00:38:42,360
you support private key stored on some

733
00:38:42,360 --> 00:38:44,790
cryptographic tokens like on smart cards

734
00:38:44,790 --> 00:38:49,140
or tpms and and stuff like that no for

735
00:38:49,140 --> 00:38:51,870
the time being unless I'll do that we

736
00:38:51,870 --> 00:38:55,350
not do this those thing on the plugin

737
00:38:55,350 --> 00:38:59,160
yeah that's given to you by involved

738
00:38:59,160 --> 00:39:02,460
itself because Holtz has a interface for

739
00:39:02,460 --> 00:39:06,780
HSM for example using pkcs 11 so if you

740
00:39:06,780 --> 00:39:08,370
want to you can just connect that to

741
00:39:08,370 --> 00:39:11,730
hold but what we thought was interesting

742
00:39:11,730 --> 00:39:14,970
for us it please because we use what was

743
00:39:14,970 --> 00:39:17,040
that you can take advantages of those

744
00:39:17,040 --> 00:39:19,099
properties their votes

745
00:39:19,099 --> 00:39:22,369
out of the box so but this is for the

746
00:39:22,369 --> 00:39:25,969
part of the the private key of the

747
00:39:25,969 --> 00:39:29,089
server yeah I was I was asking regarding

748
00:39:29,089 --> 00:39:30,650
the wire guard regarding the VPN

749
00:39:30,650 --> 00:39:34,400
connections like yeah from from the

750
00:39:34,400 --> 00:39:37,099
client-side whatever you want like you

751
00:39:37,099 --> 00:39:39,650
said you can store the the private key

752
00:39:39,650 --> 00:39:42,920
in the smart card or the the important

753
00:39:42,920 --> 00:39:47,989
part when kind of the the creator of

754
00:39:47,989 --> 00:39:50,420
wire guard what he wanted was to make

755
00:39:50,420 --> 00:39:54,319
kind of parallelism with OpenSSH and so

756
00:39:54,319 --> 00:39:57,289
whatever solution you have for OpenSSH

757
00:39:57,289 --> 00:40:00,499
you could use for okay so you're just

758
00:40:00,499 --> 00:40:02,839
using public private keepers without

759
00:40:02,839 --> 00:40:05,589
wrapping it into a certificate it's

760
00:40:05,589 --> 00:40:11,119
x.509 no x.509 okay and itself that's

761
00:40:11,119 --> 00:40:12,829
one of the things at the beginning

762
00:40:12,829 --> 00:40:18,529
that's it uses the the curve 25:5 online

763
00:40:18,529 --> 00:40:21,619
and for for taking the the points from

764
00:40:21,619 --> 00:40:23,959
that curve suit so that you can have a

765
00:40:23,959 --> 00:40:30,049
16 bytes public key but not with x.509

766
00:40:30,049 --> 00:40:33,469
because that would mean a lot different

767
00:40:33,469 --> 00:40:37,309
problems and you know like OpenSSH what

768
00:40:37,309 --> 00:40:38,719
you want is kind of something very

769
00:40:38,719 --> 00:40:41,440
similar simple and that's the purpose

770
00:40:41,440 --> 00:40:46,359
okay thanks okay any more questions

771
00:40:46,359 --> 00:40:58,839
one more here this one first places yeah

772
00:40:58,839 --> 00:41:02,809
hello so how do you deal with the high

773
00:41:02,809 --> 00:41:05,910
availability of vote the vote no sorry

774
00:41:05,910 --> 00:41:07,180
[Music]

775
00:41:07,180 --> 00:41:10,759
in terms of the vault implementation

776
00:41:10,759 --> 00:41:12,540
they use

777
00:41:12,540 --> 00:41:17,560
enterprise version or no no the question

778
00:41:17,560 --> 00:41:19,450
is for the time being we are using only

779
00:41:19,450 --> 00:41:22,450
the open-source version we deal with the

780
00:41:22,450 --> 00:41:24,730
AI availability we are dealing with

781
00:41:24,730 --> 00:41:28,270
console or for the backend storage okay

782
00:41:28,270 --> 00:41:33,220
okay thanks here hi

783
00:41:33,220 --> 00:41:36,760
so I saw a lot of ipv4 addresses

784
00:41:36,760 --> 00:41:40,420
what's your ipv6 readiness it doesn't

785
00:41:40,420 --> 00:41:42,460
matter because it's a layer 3 so

786
00:41:42,460 --> 00:41:44,860
whatever you put in ipv4 it's the same

787
00:41:44,860 --> 00:41:47,770
variety v6 it really doesn't matter

788
00:41:47,770 --> 00:41:50,650
yes our pot is only on that before it

789
00:41:50,650 --> 00:41:54,340
all yes only our proof of concept is in

790
00:41:54,340 --> 00:41:57,910
ipv4 because we are old-school we want

791
00:41:57,910 --> 00:42:03,570
the Internet to burn but that's only its

792
00:42:03,570 --> 00:42:07,300
it has the capability of simply creating

793
00:42:07,300 --> 00:42:10,540
virtual network interfaces on the Box on

794
00:42:10,540 --> 00:42:12,730
the operating system but it's not

795
00:42:12,730 --> 00:42:15,040
connected to all ipv4 itself it doesn't

796
00:42:15,040 --> 00:42:17,050
matter whatever the operating system

797
00:42:17,050 --> 00:42:20,440
gives you it's what it can use right and

798
00:42:20,440 --> 00:42:24,640
another question the key generation and

799
00:42:24,640 --> 00:42:27,880
then the putting the the public key in

800
00:42:27,880 --> 00:42:30,190
the vault that looked a little bit like

801
00:42:30,190 --> 00:42:35,500
a certificate signing request in public

802
00:42:35,500 --> 00:42:38,260
infrastructure setting in the example

803
00:42:38,260 --> 00:42:40,300
that I give you so this problem is

804
00:42:40,300 --> 00:42:42,340
exactly the same problem with anything

805
00:42:42,340 --> 00:42:45,130
else about public is like OpenSSH we are

806
00:42:45,130 --> 00:42:48,220
talking of for example example right

807
00:42:48,220 --> 00:42:51,730
you're talking about this any any

808
00:42:51,730 --> 00:42:53,680
example about putting their public key

809
00:42:53,680 --> 00:42:57,850
right yeah yeah so public keys yeah so

810
00:42:57,850 --> 00:43:00,190
at the beginning sorry about this for

811
00:43:00,190 --> 00:43:04,510
anyone with problems about spinning

812
00:43:04,510 --> 00:43:07,450
stuff so what if you can do whatever you

813
00:43:07,450 --> 00:43:08,550
want

814
00:43:08,550 --> 00:43:12,060
hmm but here for example what it's

815
00:43:12,060 --> 00:43:14,430
trying to kind of illustrate is that you

816
00:43:14,430 --> 00:43:18,240
can use kind of a trusted environment to

817
00:43:18,240 --> 00:43:20,340
store or to provision the public key of

818
00:43:20,340 --> 00:43:23,670
the user okay but the other other

819
00:43:23,670 --> 00:43:25,650
possibilities for example if I already

820
00:43:25,650 --> 00:43:27,960
trust another public key that you have

821
00:43:27,960 --> 00:43:30,650
you can send me kind of a message

822
00:43:30,650 --> 00:43:35,150
encrypted with your PGP key and I can

823
00:43:35,150 --> 00:43:38,820
open that because you can send me

824
00:43:38,820 --> 00:43:40,560
because we have a trust relationship

825
00:43:40,560 --> 00:43:43,080
right so the important part is to have a

826
00:43:43,080 --> 00:43:44,640
kind of a trust environment where you

827
00:43:44,640 --> 00:43:47,700
can share those keys but this is a

828
00:43:47,700 --> 00:43:50,700
public key if this map is only only the

829
00:43:50,700 --> 00:43:52,560
armor of the but private key can use

830
00:43:52,560 --> 00:44:02,970
that that connection for questions no so

831
00:44:02,970 --> 00:44:08,089
thank you guys now there's Cimmerian

