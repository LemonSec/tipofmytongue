1
00:00:03,960 --> 00:00:09,250
first thank you<font color="#E5E5E5"> for</font><font color="#CCCCCC"> the slot</font><font color="#E5E5E5"> because on</font>

2
00:00:07,509 --> 00:00:11,950
the schedule the<font color="#E5E5E5"> two first presentation</font>

3
00:00:09,250 --> 00:00:14,410
<font color="#E5E5E5">representation based on</font><font color="#CCCCCC"> offand web</font>

4
00:00:11,950 --> 00:00:16,840
offensive<font color="#E5E5E5"> talk so how to break a laptop</font>

5
00:00:14,410 --> 00:00:21,300
how to do some web team<font color="#E5E5E5"> operation and so</font>

6
00:00:16,840 --> 00:00:23,890
on but my current job experience<font color="#CCCCCC"> I'm</font>

7
00:00:21,300 --> 00:00:27,220
working on the<font color="#E5E5E5"> blue</font><font color="#CCCCCC"> team site so I like</font>

8
00:00:23,890 --> 00:00:29,020
to to track bad guys<font color="#CCCCCC"> to find them and</font><font color="#E5E5E5"> to</font>

9
00:00:27,220 --> 00:00:31,479
<font color="#E5E5E5">investigate incident that's also that's</font>

10
00:00:29,020 --> 00:00:33,730
<font color="#E5E5E5">a perfect</font><font color="#CCCCCC"> at perfect transition for the</font>

11
00:00:31,480 --> 00:00:36,180
rest of<font color="#E5E5E5"> the day I think so let's speak</font>

12
00:00:33,730 --> 00:00:38,980
about full packet capture for the masses

13
00:00:36,180 --> 00:00:41,350
this presentation normally runs on a<font color="#E5E5E5"> one</font>

14
00:00:38,980 --> 00:00:42,760
over time slot<font color="#CCCCCC"> so I</font><font color="#E5E5E5"> only left 30 minutes</font>

15
00:00:41,350 --> 00:00:45,130
<font color="#E5E5E5">so it means</font><font color="#CCCCCC"> that I will speed up and</font>

16
00:00:42,760 --> 00:00:47,829
<font color="#E5E5E5">we'll skip some slides anyway</font><font color="#CCCCCC"> I will be</font>

17
00:00:45,130 --> 00:00:51,040
<font color="#CCCCCC">able all</font><font color="#E5E5E5"> day so feel free to come</font><font color="#CCCCCC"> to</font>

18
00:00:47,829 --> 00:00:55,380
chat with<font color="#E5E5E5"> some to take pictures to to</font>

19
00:00:51,040 --> 00:00:55,379
take some drains<font color="#E5E5E5"> I'm open to everybody</font>

20
00:00:59,100 --> 00:01:06,430
<font color="#CCCCCC">okay</font><font color="#E5E5E5"> so I say</font><font color="#CCCCCC"> Demetra</font><font color="#E5E5E5"> I'm back</font><font color="#CCCCCC"> duration</font>

21
00:01:03,100 --> 00:01:08,650
<font color="#E5E5E5">or for me and I like</font><font color="#CCCCCC"> grease I like the</font>

22
00:01:06,430 --> 00:01:10,900
food I like<font color="#CCCCCC"> atmosphere I like a tense</font>

23
00:01:08,650 --> 00:01:12,610
tomorrow I will drive<font color="#E5E5E5"> to kalamata</font>

24
00:01:10,900 --> 00:01:15,580
because we have<font color="#E5E5E5"> friends that we spent a</font>

25
00:01:12,610 --> 00:01:18,070
<font color="#CCCCCC">wonderful week in Greece oh I like it</font>

26
00:01:15,580 --> 00:01:21,640
thank you<font color="#CCCCCC"> for having</font><font color="#E5E5E5"> me</font><font color="#CCCCCC"> again at the</font>

27
00:01:18,070 --> 00:01:23,619
conference<font color="#E5E5E5"> but now let's take about the</font>

28
00:01:21,640 --> 00:01:25,659
issue that we have today<font color="#E5E5E5"> I'm pretty sure</font>

29
00:01:23,619 --> 00:01:28,420
<font color="#E5E5E5">that everybody in</font><font color="#CCCCCC"> your network you have</font>

30
00:01:25,659 --> 00:01:30,909
<font color="#E5E5E5">the same issue with</font><font color="#CCCCCC"> talking on your wire</font>

31
00:01:28,420 --> 00:01:33,369
<font color="#CCCCCC">you</font><font color="#E5E5E5"> have plenty of computer servers you</font>

32
00:01:30,909 --> 00:01:36,010
have<font color="#E5E5E5"> maybe</font><font color="#CCCCCC"> multiple sides with multiple</font>

33
00:01:33,369 --> 00:01:38,619
<font color="#E5E5E5">you are monitoring customers in your</font><font color="#CCCCCC"> day</font>

34
00:01:36,010 --> 00:01:40,600
<font color="#E5E5E5">to day</font><font color="#CCCCCC"> job so it's really important to</font>

35
00:01:38,619 --> 00:01:44,799
have<font color="#E5E5E5"> a good</font><font color="#CCCCCC"> overview of what's</font><font color="#E5E5E5"> going on</font>

36
00:01:40,600 --> 00:01:48,070
all the time<font color="#CCCCCC"> so what can</font><font color="#E5E5E5"> we do to better</font>

37
00:01:44,799 --> 00:01:49,750
see the the bad guys and<font color="#E5E5E5"> to dating them</font>

38
00:01:48,070 --> 00:01:53,770
and I will<font color="#E5E5E5"> just start from one issue</font>

39
00:01:49,750 --> 00:01:56,740
<font color="#CCCCCC">that</font><font color="#E5E5E5"> that's a perfect example</font><font color="#CCCCCC"> I'm a</font>

40
00:01:53,770 --> 00:01:58,990
<font color="#CCCCCC">son's Internet's</font><font color="#E5E5E5"> home center handler</font><font color="#CCCCCC"> so</font>

41
00:01:56,740 --> 00:02:01,030
it<font color="#E5E5E5"> means</font><font color="#CCCCCC"> that I'm on duty from</font><font color="#E5E5E5"> time to</font>

42
00:01:58,990 --> 00:02:04,060
time yeah I<font color="#E5E5E5"> don't know we who knows the</font>

43
00:02:01,030 --> 00:02:07,450
<font color="#E5E5E5">internet stone</font><font color="#CCCCCC"> Center yeah plenty</font><font color="#E5E5E5"> of</font>

44
00:02:04,060 --> 00:02:09,789
<font color="#E5E5E5">people nice so I write probably every</font>

45
00:02:07,450 --> 00:02:11,409
time you heard exactly<font color="#CCCCCC"> or in the dado in</font>

46
00:02:09,788 --> 00:02:13,958
the<font color="#E5E5E5"> podcast and so on it's me I'm</font>

47
00:02:11,409 --> 00:02:17,410
<font color="#E5E5E5">writing a lot for the IC and this is a</font>

48
00:02:13,959 --> 00:02:20,230
real case<font color="#E5E5E5"> that we had to investigate</font><font color="#CCCCCC"> a</font>

49
00:02:17,410 --> 00:02:23,140
few days<font color="#E5E5E5"> ago a</font><font color="#CCCCCC"> guy contacted us and say</font>

50
00:02:20,230 --> 00:02:26,170
<font color="#CCCCCC">ok my wordpress website was compromised</font>

51
00:02:23,140 --> 00:02:29,980
<font color="#E5E5E5">so nothing really malicious because</font><font color="#CCCCCC"> it</font>

52
00:02:26,170 --> 00:02:31,809
was just<font color="#E5E5E5"> the</font><font color="#CCCCCC"> WordPress was used to send</font>

53
00:02:29,980 --> 00:02:34,238
<font color="#CCCCCC">spam to the visitors instead of the</font>

54
00:02:31,810 --> 00:02:37,480
normal<font color="#CCCCCC"> website</font><font color="#E5E5E5"> but the guy would I read</font>

55
00:02:34,239 --> 00:02:40,540
to<font color="#E5E5E5"> know</font><font color="#CCCCCC"> okay</font><font color="#E5E5E5"> my</font><font color="#CCCCCC"> web my</font><font color="#E5E5E5"> wordpress was</font>

56
00:02:37,480 --> 00:02:42,399
fully patched as usual<font color="#CCCCCC"> I'm taking care</font>

57
00:02:40,540 --> 00:02:44,440
of my web server<font color="#E5E5E5"> but</font><font color="#CCCCCC"> I don't know how</font>

58
00:02:42,400 --> 00:02:47,349
the attackers<font color="#E5E5E5"> came in and I would like</font>

59
00:02:44,440 --> 00:02:47,890
<font color="#E5E5E5">to know why first question do you have</font>

60
00:02:47,349 --> 00:02:51,190
locks

61
00:02:47,890 --> 00:02:54,099
<font color="#E5E5E5">yes</font><font color="#CCCCCC"> locks and the guys and melee Apache</font>

62
00:02:51,190 --> 00:02:56,680
logs<font color="#E5E5E5"> and you saw plenty of post requests</font>

63
00:02:54,099 --> 00:03:00,579
to<font color="#CCCCCC"> its</font><font color="#E5E5E5"> man opposite of PHP which is the</font>

64
00:02:56,680 --> 00:03:05,230
classic way<font color="#E5E5E5"> to exploit a wordpress</font>

65
00:03:00,580 --> 00:03:08,500
instance but by<font color="#E5E5E5"> default</font><font color="#CCCCCC"> when you</font><font color="#E5E5E5"> have an</font>

66
00:03:05,230 --> 00:03:10,420
<font color="#E5E5E5">Apache server when you get post HTTP</font>

67
00:03:08,500 --> 00:03:13,300
<font color="#E5E5E5">requests it will be locked but you will</font>

68
00:03:10,420 --> 00:03:16,540
never see<font color="#CCCCCC"> all the</font><font color="#E5E5E5"> parameters sent to the</font>

69
00:03:13,300 --> 00:03:18,760
post<font color="#CCCCCC"> requests by default if you have a</font>

70
00:03:16,540 --> 00:03:20,620
full packet capture you will see

71
00:03:18,760 --> 00:03:23,230
everything<font color="#E5E5E5"> you will be able to track</font>

72
00:03:20,620 --> 00:03:26,110
better and to see it was it<font color="#E5E5E5"> a</font>

73
00:03:23,230 --> 00:03:28,359
<font color="#CCCCCC">brute-force</font><font color="#E5E5E5"> attack which was the</font><font color="#CCCCCC"> ad to</font>

74
00:03:26,110 --> 00:03:30,330
compromise<font color="#CCCCCC"> alone</font><font color="#E5E5E5"> and stuff like</font><font color="#CCCCCC"> this</font><font color="#E5E5E5"> so</font>

75
00:03:28,360 --> 00:03:35,080
that's<font color="#CCCCCC"> the perfect example</font>

76
00:03:30,330 --> 00:03:38,170
so to track network traffic we<font color="#CCCCCC"> have two</font>

77
00:03:35,080 --> 00:03:41,379
ways to<font color="#CCCCCC"> do it at layer 3</font><font color="#E5E5E5"> of</font><font color="#CCCCCC"> at layer on</font>

78
00:03:38,170 --> 00:03:43,569
<font color="#E5E5E5">layer</font><font color="#CCCCCC"> 3 it's quite simple it exists for</font>

79
00:03:41,379 --> 00:03:46,870
<font color="#CCCCCC">years</font><font color="#E5E5E5"> basically everybody knows net</font>

80
00:03:43,569 --> 00:03:49,089
flows developed by<font color="#E5E5E5"> Cisco in the years</font>

81
00:03:46,870 --> 00:03:51,280
ago in more<font color="#E5E5E5"> than 10</font><font color="#CCCCCC"> years</font><font color="#E5E5E5"> ago and</font>

82
00:03:49,090 --> 00:03:53,830
basically<font color="#CCCCCC"> on layer 3</font><font color="#E5E5E5"> you have a</font>

83
00:03:51,280 --> 00:03:55,540
<font color="#E5E5E5">timestamp</font><font color="#CCCCCC"> or society</font><font color="#E5E5E5"> source port</font>

84
00:03:53,830 --> 00:03:58,000
<font color="#E5E5E5">destination IP the scenes from</font><font color="#CCCCCC"> poly</font>

85
00:03:55,540 --> 00:04:00,340
that's it so<font color="#E5E5E5"> you know and yeah you have</font>

86
00:03:58,000 --> 00:04:01,989
<font color="#E5E5E5">outdoor feels like the total bytes total</font>

87
00:04:00,340 --> 00:04:04,480
<font color="#E5E5E5">packets and so</font><font color="#CCCCCC"> on so basically you you</font>

88
00:04:01,989 --> 00:04:06,340
you you know<font color="#E5E5E5"> that there were some</font>

89
00:04:04,480 --> 00:04:08,409
communications between the<font color="#E5E5E5"> different</font>

90
00:04:06,340 --> 00:04:11,290
<font color="#CCCCCC">hosts</font><font color="#E5E5E5"> but you don't know exactly what's</font>

91
00:04:08,409 --> 00:04:14,109
in the packet<font color="#CCCCCC"> a player servers on</font><font color="#E5E5E5"> the</font>

92
00:04:11,290 --> 00:04:17,228
application layer<font color="#E5E5E5"> we can have all the</font>

93
00:04:14,110 --> 00:04:20,289
stuff plus<font color="#E5E5E5"> whole headers and payloads so</font>

94
00:04:17,228 --> 00:04:21,639
the full packet capture<font color="#E5E5E5"> today we have</font>

95
00:04:20,289 --> 00:04:25,330
this in next

96
00:04:21,639 --> 00:04:28,030
<font color="#E5E5E5">nation firewalls</font><font color="#CCCCCC"> ideas</font><font color="#E5E5E5"> systems so when</font>

97
00:04:25,330 --> 00:04:30,310
they detect<font color="#E5E5E5"> another they can start a</font>

98
00:04:28,030 --> 00:04:33,340
packet capture<font color="#E5E5E5"> for a few minutes a few</font>

99
00:04:30,310 --> 00:04:35,469
seconds to try to catch the bad guy<font color="#CCCCCC"> so</font>

100
00:04:33,340 --> 00:04:37,779
that's<font color="#E5E5E5"> the</font><font color="#CCCCCC"> domain</font><font color="#E5E5E5"> issue do we have to go</font>

101
00:04:35,469 --> 00:04:41,069
with<font color="#CCCCCC"> layer 3 on assessment because of</font>

102
00:04:37,779 --> 00:04:43,840
course both solution<font color="#CCCCCC"> is pro and con</font>

103
00:04:41,069 --> 00:04:46,449
based on<font color="#E5E5E5"> flaws it's quite easy to</font><font color="#CCCCCC"> set up</font>

104
00:04:43,840 --> 00:04:48,638
<font color="#E5E5E5">main big switches you can deploy</font>

105
00:04:46,449 --> 00:04:51,639
<font color="#CCCCCC">NetFlow you</font><font color="#E5E5E5"> can ask them</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> send the</font>

106
00:04:48,639 --> 00:04:54,610
<font color="#E5E5E5">data to a server it's really my storage</font>

107
00:04:51,639 --> 00:04:56,830
<font color="#E5E5E5">so you can have gigabyte of flow stored</font>

108
00:04:54,610 --> 00:04:59,139
and you can have any story of yours<font color="#CCCCCC"> if</font>

109
00:04:56,830 --> 00:05:01,870
you have enough disk<font color="#CCCCCC"> space</font><font color="#E5E5E5"> but of course</font>

110
00:04:59,139 --> 00:05:03,669
as I<font color="#E5E5E5"> said you lack of visibility for</font>

111
00:05:01,870 --> 00:05:06,039
packet capture of course we have<font color="#CCCCCC"> to</font>

112
00:05:03,669 --> 00:05:09,639
fools you<font color="#E5E5E5"> so you can extract artifact</font>

113
00:05:06,039 --> 00:05:12,878
<font color="#E5E5E5">you can extract all</font><font color="#CCCCCC"> the pictures for</font>

114
00:05:09,639 --> 00:05:15,699
example<font color="#CCCCCC"> you can extract</font><font color="#E5E5E5"> binaries you can</font>

115
00:05:12,879 --> 00:05:18,039
extract<font color="#E5E5E5"> usernames and so on you can</font>

116
00:05:15,699 --> 00:05:20,050
replay<font color="#E5E5E5"> you have tools to just replay the</font>

117
00:05:18,039 --> 00:05:22,120
TCP packets with full packet capture and

118
00:05:20,050 --> 00:05:24,460
really see on your screen what happened

119
00:05:22,120 --> 00:05:28,449
and of course if you are<font color="#CCCCCC"> doing foreign 6</font>

120
00:05:24,460 --> 00:05:31,000
you<font color="#E5E5E5"> have nice evidences but</font><font color="#CCCCCC"> it</font><font color="#E5E5E5"> costs you</font>

121
00:05:28,449 --> 00:05:33,789
a<font color="#CCCCCC"> lot in terms of disk storage</font><font color="#E5E5E5"> of course</font>

122
00:05:31,000 --> 00:05:37,629
because all the traffic is love<font color="#E5E5E5"> is</font>

123
00:05:33,789 --> 00:05:39,520
stored on<font color="#E5E5E5"> your disk privacy because you</font>

124
00:05:37,629 --> 00:05:42,360
have in the<font color="#CCCCCC"> pedals always interesting</font>

125
00:05:39,520 --> 00:05:45,159
stuff logins passwords stuff like this

126
00:05:42,360 --> 00:05:46,990
performances and you need more sensor

127
00:05:45,159 --> 00:05:49,029
because you need to deploy sense<font color="#E5E5E5"> also</font>

128
00:05:46,990 --> 00:05:51,159
application which<font color="#E5E5E5"> will listen at</font>

129
00:05:49,029 --> 00:05:57,879
critical<font color="#E5E5E5"> point on the network to :</font>

130
00:05:51,159 --> 00:05:59,979
traffic regarding the privacy<font color="#CCCCCC"> why not so</font>

131
00:05:57,879 --> 00:06:02,560
this is not<font color="#CCCCCC"> a brand new</font><font color="#E5E5E5"> talk I presented</font>

132
00:05:59,979 --> 00:06:05,710
the<font color="#CCCCCC"> tolkien for the first time in</font>

133
00:06:02,560 --> 00:06:06,490
January January<font color="#E5E5E5"> everybody was preparing</font>

134
00:06:05,710 --> 00:06:09,159
<font color="#E5E5E5">gdpr</font>

135
00:06:06,490 --> 00:06:11,710
I presume<font color="#CCCCCC"> that everybody in this room is</font>

136
00:06:09,159 --> 00:06:15,430
<font color="#E5E5E5">aware about gdpr but it was not in place</font>

137
00:06:11,710 --> 00:06:17,948
<font color="#E5E5E5">today</font><font color="#CCCCCC"> it</font><font color="#E5E5E5"> is full packet capture</font>

138
00:06:15,430 --> 00:06:21,310
means that you get<font color="#E5E5E5"> plenty of data on</font>

139
00:06:17,949 --> 00:06:22,509
your disk so it's your responsibility to

140
00:06:21,310 --> 00:06:25,659
<font color="#E5E5E5">take</font><font color="#CCCCCC"> care of gdpr</font>

141
00:06:22,509 --> 00:06:29,620
<font color="#E5E5E5">it's not mine</font><font color="#CCCCCC"> to just</font><font color="#E5E5E5"> be want</font><font color="#CCCCCC"> ok</font><font color="#E5E5E5"> next</font>

142
00:06:25,659 --> 00:06:31,659
<font color="#CCCCCC">step for packet tracker basically you</font>

143
00:06:29,620 --> 00:06:32,130
don't need a lot of tools<font color="#E5E5E5"> you don't</font><font color="#CCCCCC"> need</font>

144
00:06:31,659 --> 00:06:35,430
a lot

145
00:06:32,130 --> 00:06:37,969
software to do is just the<font color="#E5E5E5"> basic tcpdump</font>

146
00:06:35,430 --> 00:06:40,890
<font color="#CCCCCC">are commands present in every modern</font>

147
00:06:37,970 --> 00:06:43,200
linear<font color="#E5E5E5"> distribution can do this this</font><font color="#CCCCCC"> is</font>

148
00:06:40,890 --> 00:06:45,330
<font color="#CCCCCC">a quite</font><font color="#E5E5E5"> complex command but if you</font>

149
00:06:43,200 --> 00:06:47,310
<font color="#CCCCCC">execute this on your server</font><font color="#E5E5E5"> you</font><font color="#CCCCCC"> will get</font>

150
00:06:45,330 --> 00:06:50,070
<font color="#E5E5E5">full packet capture what does it mean</font>

151
00:06:47,310 --> 00:06:53,130
<font color="#E5E5E5">you</font><font color="#CCCCCC"> will just listen to an interface you</font>

152
00:06:50,070 --> 00:06:54,719
will be sniff a packet length of<font color="#CCCCCC"> zero it</font>

153
00:06:53,130 --> 00:06:57,030
<font color="#E5E5E5">means you will get the full packet</font>

154
00:06:54,720 --> 00:06:59,550
length<font color="#E5E5E5"> all</font><font color="#CCCCCC"> the time and the most</font>

155
00:06:57,030 --> 00:07:03,530
interesting parameters are minus C minus

156
00:06:59,550 --> 00:07:07,410
G<font color="#CCCCCC"> and minus</font><font color="#E5E5E5"> W which will in fact create</font>

157
00:07:03,530 --> 00:07:09,450
some files<font color="#E5E5E5"> some</font><font color="#CCCCCC"> pick up files</font><font color="#E5E5E5"> based on</font>

158
00:07:07,410 --> 00:07:12,150
the time stamp<font color="#E5E5E5"> in specific territory</font>

159
00:07:09,450 --> 00:07:14,909
with the<font color="#E5E5E5"> rotation refer to the main page</font>

160
00:07:12,150 --> 00:07:18,750
to see what what it means but<font color="#E5E5E5"> we will</font>

161
00:07:14,910 --> 00:07:21,990
create specific<font color="#E5E5E5"> files every</font><font color="#CCCCCC"> hour</font><font color="#E5E5E5"> we will</font>

162
00:07:18,750 --> 00:07:24,230
keep 24 hours or<font color="#E5E5E5"> two days of history and</font>

163
00:07:21,990 --> 00:07:27,660
if the file is more<font color="#E5E5E5"> than</font><font color="#CCCCCC"> five early</font>

164
00:07:24,230 --> 00:07:29,940
<font color="#CCCCCC">maybe a</font><font color="#E5E5E5"> mess we will switch it and of</font>

165
00:07:27,660 --> 00:07:31,350
<font color="#CCCCCC">course we drop some</font><font color="#E5E5E5"> interesting post if</font>

166
00:07:29,940 --> 00:07:33,330
<font color="#E5E5E5">you will take this on your server</font>

167
00:07:31,350 --> 00:07:36,570
<font color="#E5E5E5">you will get two</font><font color="#CCCCCC"> days of full packet</font>

168
00:07:33,330 --> 00:07:37,140
capture basically if you operate a<font color="#CCCCCC"> small</font>

169
00:07:36,570 --> 00:07:38,760
web server

170
00:07:37,140 --> 00:07:42,390
you run<font color="#CCCCCC"> the VPS today to deploy your</font>

171
00:07:38,760 --> 00:07:44,430
<font color="#E5E5E5">your WordPress</font><font color="#CCCCCC"> your your</font><font color="#E5E5E5"> drupal your CMS</font>

172
00:07:42,390 --> 00:07:47,849
<font color="#E5E5E5">you can run this and you will get two</font>

173
00:07:44,430 --> 00:07:51,690
<font color="#CCCCCC">days</font><font color="#E5E5E5"> of full</font><font color="#CCCCCC"> packet carry but the issue</font>

174
00:07:47,850 --> 00:07:54,740
<font color="#E5E5E5">is today most</font><font color="#CCCCCC"> people work in this kind</font>

175
00:07:51,690 --> 00:07:57,510
<font color="#E5E5E5">of clothes you</font><font color="#CCCCCC"> have virtualized systems</font>

176
00:07:54,740 --> 00:07:59,610
<font color="#E5E5E5">local servers which we have ETSU have</font>

177
00:07:57,510 --> 00:08:01,950
closed solution maybe<font color="#E5E5E5"> you change data</font>

178
00:07:59,610 --> 00:08:03,750
with partners with colocation servers

179
00:08:01,950 --> 00:08:06,570
and so on so it's a mess it's quite

180
00:08:03,750 --> 00:08:09,030
difficult to<font color="#CCCCCC"> run these commands</font><font color="#E5E5E5"> on every</font>

181
00:08:06,570 --> 00:08:11,700
systems<font color="#E5E5E5"> and then we need to investigate</font>

182
00:08:09,030 --> 00:08:13,799
<font color="#CCCCCC">you have to jump on all the servers to</font>

183
00:08:11,700 --> 00:08:17,940
collect correlate the data<font color="#E5E5E5"> it's it's</font>

184
00:08:13,800 --> 00:08:21,450
impossible<font color="#CCCCCC"> to do so the solution is to</font>

185
00:08:17,940 --> 00:08:25,830
centralize<font color="#E5E5E5"> everything in one place</font><font color="#CCCCCC"> to</font>

186
00:08:21,450 --> 00:08:28,770
<font color="#E5E5E5">optimize the retention but we have some</font>

187
00:08:25,830 --> 00:08:30,539
<font color="#E5E5E5">requirements so</font><font color="#CCCCCC"> that have it was</font><font color="#E5E5E5"> my</font>

188
00:08:28,770 --> 00:08:34,159
<font color="#E5E5E5">requirements but basically it's the</font><font color="#CCCCCC"> same</font>

189
00:08:30,540 --> 00:08:36,780
<font color="#CCCCCC">for for for most</font><font color="#E5E5E5"> of you must be free</font>

190
00:08:34,159 --> 00:08:39,650
because I don't have<font color="#E5E5E5"> a lot of money like</font>

191
00:08:36,780 --> 00:08:43,650
<font color="#E5E5E5">everybody so if I can use free software</font>

192
00:08:39,650 --> 00:08:45,050
<font color="#CCCCCC">by the way I remove free by open because</font>

193
00:08:43,650 --> 00:08:47,360
<font color="#CCCCCC">a free software</font><font color="#E5E5E5"> is</font>

194
00:08:45,050 --> 00:08:49,099
really free<font color="#CCCCCC"> you</font><font color="#E5E5E5"> can use</font><font color="#CCCCCC"> it for</font><font color="#E5E5E5"> free but</font>

195
00:08:47,360 --> 00:08:52,130
it has<font color="#CCCCCC"> always a cost to deploy to</font>

196
00:08:49,100 --> 00:08:54,560
maintain it and<font color="#CCCCCC"> fun it must be easy</font><font color="#E5E5E5"> to</font>

197
00:08:52,130 --> 00:08:57,680
deploy<font color="#CCCCCC"> on different OSS</font><font color="#E5E5E5"> because we have</font>

198
00:08:54,560 --> 00:09:00,079
<font color="#E5E5E5">different flavors of Linux you</font><font color="#CCCCCC"> can have</font>

199
00:08:57,680 --> 00:09:03,140
Mac Bob's<font color="#E5E5E5"> Windows</font><font color="#CCCCCC"> System</font><font color="#E5E5E5"> whatever so it</font>

200
00:09:00,080 --> 00:09:09,459
must be compatible with<font color="#E5E5E5"> many operating</font>

201
00:09:03,140 --> 00:09:12,529
system<font color="#E5E5E5"> and it must be deployed on</font>

202
00:09:09,459 --> 00:09:15,140
<font color="#E5E5E5">systems which are</font><font color="#CCCCCC"> not directly connected</font>

203
00:09:12,529 --> 00:09:16,939
on the<font color="#CCCCCC"> same location</font><font color="#E5E5E5"> like on the land</font>

204
00:09:15,140 --> 00:09:19,010
if you if all the<font color="#E5E5E5"> systems on the land</font>

205
00:09:16,940 --> 00:09:22,310
<font color="#CCCCCC">it's quite easy to</font><font color="#E5E5E5"> stand try something</font>

206
00:09:19,010 --> 00:09:25,490
but if you have systems split across

207
00:09:22,310 --> 00:09:29,119
multiple<font color="#E5E5E5"> location you can may become an</font>

208
00:09:25,490 --> 00:09:31,310
issue<font color="#CCCCCC"> very quickly so the first tool</font>

209
00:09:29,120 --> 00:09:35,410
that<font color="#E5E5E5"> I'm using</font><font color="#CCCCCC"> to do this is Maalik with</font>

210
00:09:31,310 --> 00:09:38,930
aware of<font color="#E5E5E5"> MODOK</font><font color="#CCCCCC"> one -</font><font color="#E5E5E5"> not a lot of people</font>

211
00:09:35,410 --> 00:09:40,670
<font color="#E5E5E5">Murdoch is very very a very nice tool so</font>

212
00:09:38,930 --> 00:09:43,310
I will not do it<font color="#CCCCCC"> that's just a</font>

213
00:09:40,670 --> 00:09:46,939
description of<font color="#CCCCCC"> MODOK</font><font color="#E5E5E5"> but in my opinion</font>

214
00:09:43,310 --> 00:09:50,449
<font color="#E5E5E5">that's the the best full packet capture</font>

215
00:09:46,940 --> 00:09:52,640
tool because in one web interface<font color="#E5E5E5"> you</font>

216
00:09:50,450 --> 00:09:54,770
can search<font color="#CCCCCC"> for packets</font><font color="#E5E5E5"> it's like a</font>

217
00:09:52,640 --> 00:09:58,010
<font color="#E5E5E5">Google for packets in fact you can apply</font>

218
00:09:54,770 --> 00:10:00,740
filters<font color="#E5E5E5"> it's a mix of</font><font color="#CCCCCC"> Google and TCP</font>

219
00:09:58,010 --> 00:10:02,959
dump in a web interface<font color="#CCCCCC"> but you can also</font>

220
00:10:00,740 --> 00:10:04,490
extract fire you can extract flows you

221
00:10:02,959 --> 00:10:06,410
<font color="#E5E5E5">can extract pictures you can respond</font>

222
00:10:04,490 --> 00:10:08,420
<font color="#CCCCCC">through return you can risk contract all</font>

223
00:10:06,410 --> 00:10:12,350
<font color="#E5E5E5">the flows and it's very powerful and</font>

224
00:10:08,420 --> 00:10:14,569
most important<font color="#E5E5E5"> scalable what are the</font>

225
00:10:12,350 --> 00:10:17,060
different component of<font color="#CCCCCC"> malaga</font><font color="#E5E5E5"> you have</font>

226
00:10:14,570 --> 00:10:20,329
the first<font color="#E5E5E5"> one is a capture which is real</font>

227
00:10:17,060 --> 00:10:23,119
<font color="#CCCCCC">- which will sniff the packets</font><font color="#E5E5E5"> it can</font>

228
00:10:20,329 --> 00:10:26,300
sniff online<font color="#CCCCCC"> of offline for example -</font>

229
00:10:23,120 --> 00:10:28,610
<font color="#E5E5E5">I'm using</font><font color="#CCCCCC"> malach to do investigations</font>

230
00:10:26,300 --> 00:10:31,670
if a<font color="#E5E5E5"> customer sent you a peek at file</font>

231
00:10:28,610 --> 00:10:33,670
<font color="#E5E5E5">you can just offline</font><font color="#CCCCCC"> injected in almalik</font>

232
00:10:31,670 --> 00:10:37,219
<font color="#E5E5E5">and you can review</font><font color="#CCCCCC"> it</font><font color="#E5E5E5"> and make</font><font color="#CCCCCC"> your</font>

233
00:10:33,670 --> 00:10:39,469
investigation you<font color="#CCCCCC"> choose</font><font color="#E5E5E5"> of course</font><font color="#CCCCCC"> you</font>

234
00:10:37,220 --> 00:10:42,079
use database based on elastic<font color="#E5E5E5"> search and</font>

235
00:10:39,470 --> 00:10:44,990
it has a viewer which is read the web

236
00:10:42,079 --> 00:10:48,550
GUI and this is a nice<font color="#CCCCCC"> screenshot</font><font color="#E5E5E5"> of</font>

237
00:10:44,990 --> 00:10:51,130
Malaga<font color="#CCCCCC"> so it's like a mix of Splunk TCP</font>

238
00:10:48,550 --> 00:10:52,899
you have your history<font color="#E5E5E5"> you can see from</font>

239
00:10:51,130 --> 00:10:54,790
<font color="#E5E5E5">where</font><font color="#CCCCCC"> a</font><font color="#E5E5E5"> packet are coming because</font><font color="#CCCCCC"> it</font><font color="#E5E5E5"> is</font>

240
00:10:52,899 --> 00:10:56,920
doing<font color="#E5E5E5"> your localization automatically</font>

241
00:10:54,790 --> 00:10:59,680
based on<font color="#CCCCCC"> the IP addresses and you have</font>

242
00:10:56,920 --> 00:11:01,660
all the flows with so this<font color="#CCCCCC"> mission</font><font color="#E5E5E5"> dub</font>

243
00:10:59,680 --> 00:11:04,209
<font color="#CCCCCC">of packets aside and if you</font><font color="#E5E5E5"> click and</font>

244
00:11:01,660 --> 00:11:07,089
expand the flow<font color="#E5E5E5"> if there are some</font>

245
00:11:04,209 --> 00:11:10,209
<font color="#E5E5E5">pictures are some interesting DNS sutras</font>

246
00:11:07,089 --> 00:11:13,750
so everything related to layer<font color="#CCCCCC"> 7 you</font>

247
00:11:10,209 --> 00:11:15,849
will<font color="#E5E5E5"> be able to process them so the</font>

248
00:11:13,750 --> 00:11:18,850
solution basically<font color="#E5E5E5"> will</font><font color="#CCCCCC"> be based on</font><font color="#E5E5E5"> what</font>

249
00:11:15,850 --> 00:11:25,060
the<font color="#CCCCCC"> next door I'm a very big fan of</font>

250
00:11:18,850 --> 00:11:27,040
docker yeah<font color="#CCCCCC"> doctor basically I'm I used</font>

251
00:11:25,060 --> 00:11:30,040
it<font color="#E5E5E5"> because you can read on also any</font>

252
00:11:27,040 --> 00:11:34,390
operating<font color="#E5E5E5"> system</font><font color="#CCCCCC"> so it's quite quite</font>

253
00:11:30,040 --> 00:11:36,670
easy<font color="#CCCCCC"> the support is not so bad I had</font>

254
00:11:34,390 --> 00:11:38,380
<font color="#CCCCCC">some nightmare stories with</font><font color="#E5E5E5"> doctor</font>

255
00:11:36,670 --> 00:11:39,760
because from<font color="#E5E5E5"> time to time it thrashing</font>

256
00:11:38,380 --> 00:11:44,610
<font color="#E5E5E5">you have to restart everything but</font>

257
00:11:39,760 --> 00:11:47,939
usually you can run it<font color="#E5E5E5"> it's quite stable</font>

258
00:11:44,610 --> 00:11:50,470
<font color="#E5E5E5">second warning about docker</font>

259
00:11:47,940 --> 00:11:53,500
misconception<font color="#CCCCCC"> a lot</font><font color="#E5E5E5"> of people think that</font>

260
00:11:50,470 --> 00:11:55,000
docker is virtualization<font color="#E5E5E5"> it's not the</font>

261
00:11:53,500 --> 00:11:57,730
same from a security point of view

262
00:11:55,000 --> 00:11:59,170
docker is a mess<font color="#E5E5E5"> so it does not mean</font>

263
00:11:57,730 --> 00:12:00,820
that if you run an application<font color="#CCCCCC"> in the</font>

264
00:11:59,170 --> 00:12:03,270
docker container<font color="#E5E5E5"> it</font><font color="#CCCCCC"> will be fully</font>

265
00:12:00,820 --> 00:12:06,820
segmented and it won't be<font color="#E5E5E5"> able to</font><font color="#CCCCCC"> access</font>

266
00:12:03,270 --> 00:12:09,189
the post<font color="#E5E5E5"> operating system and so on so</font>

267
00:12:06,820 --> 00:12:11,620
I'm using docker only as a way to

268
00:12:09,190 --> 00:12:13,540
quickly deploy which is the<font color="#E5E5E5"> go the</font>

269
00:12:11,620 --> 00:12:15,820
primary goal of docker basically docker

270
00:12:13,540 --> 00:12:17,560
is a tool for<font color="#E5E5E5"> developers it's not the</font>

271
00:12:15,820 --> 00:12:17,980
tool for security<font color="#E5E5E5"> analysts security</font>

272
00:12:17,560 --> 00:12:20,260
people

273
00:12:17,980 --> 00:12:22,870
the goal of docker is ritu for example

274
00:12:20,260 --> 00:12:26,350
run<font color="#CCCCCC"> multiple version of the same tool in</font>

275
00:12:22,870 --> 00:12:28,660
development systems<font color="#E5E5E5"> just to test</font><font color="#CCCCCC"> debug</font>

276
00:12:26,350 --> 00:12:30,490
and<font color="#E5E5E5"> some it's</font><font color="#CCCCCC"> not a security</font><font color="#E5E5E5"> tool so</font>

277
00:12:28,660 --> 00:12:33,699
later I<font color="#CCCCCC"> will show you so</font><font color="#E5E5E5"> the</font>

278
00:12:30,490 --> 00:12:37,350
configuration<font color="#E5E5E5"> is made in the way that</font>

279
00:12:33,699 --> 00:12:41,800
it's not<font color="#E5E5E5"> very secure but I have to do it</font>

280
00:12:37,350 --> 00:12:44,050
so when you have an<font color="#CCCCCC"> idea okay I will do</font>

281
00:12:41,800 --> 00:12:46,660
food packet capture I need some some

282
00:12:44,050 --> 00:12:48,279
<font color="#CCCCCC">Ivan ID</font><font color="#E5E5E5"> but I need some tool the first</font>

283
00:12:46,660 --> 00:12:48,760
thing<font color="#CCCCCC"> that you do is release you google</font>

284
00:12:48,279 --> 00:12:51,399
for<font color="#CCCCCC"> it</font>

285
00:12:48,760 --> 00:12:53,579
because probably<font color="#E5E5E5"> somewhere in the world</font>

286
00:12:51,399 --> 00:12:56,290
<font color="#CCCCCC">another</font><font color="#E5E5E5"> guy I had to say issue and</font>

287
00:12:53,579 --> 00:12:58,209
already write something<font color="#CCCCCC"> that's what I</font>

288
00:12:56,290 --> 00:13:00,819
did and

289
00:12:58,209 --> 00:13:04,479
<font color="#CCCCCC">I don't know do you but a</font><font color="#E5E5E5"> few years ago</font>

290
00:13:00,819 --> 00:13:08,920
a guy<font color="#E5E5E5"> Bobby Shaw Espinoza Gomez wrote a</font>

291
00:13:04,480 --> 00:13:10,899
jihad paper about this<font color="#E5E5E5"> so it's exactly</font>

292
00:13:08,920 --> 00:13:13,719
what I'm<font color="#CCCCCC"> looking for</font><font color="#E5E5E5"> a full packet</font>

293
00:13:10,899 --> 00:13:17,069
capture centralized system with multiple

294
00:13:13,720 --> 00:13:21,369
sensors<font color="#CCCCCC"> Oh</font><font color="#E5E5E5"> perfect so I read the paper I</font>

295
00:13:17,069 --> 00:13:23,889
he may I reuse it<font color="#E5E5E5"> and the first</font><font color="#CCCCCC"> approach</font>

296
00:13:21,369 --> 00:13:26,679
<font color="#CCCCCC">of</font><font color="#E5E5E5"> the guy is what's very nice</font><font color="#CCCCCC"> it's</font>

297
00:13:23,889 --> 00:13:29,429
fully<font color="#E5E5E5"> automated using Tibet another tool</font>

298
00:13:26,679 --> 00:13:34,240
well no my developers<font color="#CCCCCC"> son mainland son</font>

299
00:13:29,429 --> 00:13:36,819
but for<font color="#E5E5E5"> me the biggest issue was the</font>

300
00:13:34,240 --> 00:13:39,639
multiple<font color="#E5E5E5"> nodes in</font><font color="#CCCCCC"> Malacca</font><font color="#E5E5E5"> because</font><font color="#CCCCCC"> if the</font>

301
00:13:36,819 --> 00:13:43,059
guy deployed<font color="#CCCCCC"> on Barak on every sense</font>

302
00:13:39,639 --> 00:13:46,119
<font color="#E5E5E5">source and Moloch was because Moloch can</font>

303
00:13:43,059 --> 00:13:48,610
also be used in<font color="#E5E5E5"> Djibouti way but you had</font>

304
00:13:46,119 --> 00:13:50,619
multiple instance of Moloch and<font color="#CCCCCC"> maroc is</font>

305
00:13:48,610 --> 00:13:58,449
quite resource extensive so for me it

306
00:13:50,619 --> 00:14:01,449
<font color="#CCCCCC">was not the the biggest ally the most it</font>

307
00:13:58,449 --> 00:14:03,839
<font color="#E5E5E5">was not really interesting and also</font><font color="#CCCCCC"> alas</font>

308
00:14:01,449 --> 00:14:07,269
teachers must<font color="#E5E5E5"> be reachable from sensors</font>

309
00:14:03,839 --> 00:14:07,689
probably you know that putting<font color="#E5E5E5"> Elysee</font>

310
00:14:07,269 --> 00:14:09,910
<font color="#CCCCCC">SERPs</font>

311
00:14:07,689 --> 00:14:12,610
<font color="#E5E5E5">online of facing the Internet is a very</font>

312
00:14:09,910 --> 00:14:14,920
bad idea so it means that to deploy this

313
00:14:12,610 --> 00:14:17,740
solution<font color="#E5E5E5"> you need to run</font><font color="#CCCCCC"> it on top of a</font>

314
00:14:14,920 --> 00:14:20,920
VPN<font color="#CCCCCC"> or MPLS cloud</font><font color="#E5E5E5"> stuff like this so it</font>

315
00:14:17,740 --> 00:14:25,149
was quite annoying for<font color="#CCCCCC"> me</font><font color="#E5E5E5"> so I decided</font>

316
00:14:20,920 --> 00:14:29,079
<font color="#CCCCCC">ok my approach and the goal is to deploy</font>

317
00:14:25,149 --> 00:14:32,799
<font color="#E5E5E5">docker containers as a sensor with very</font>

318
00:14:29,079 --> 00:14:35,138
<font color="#CCCCCC">limited set of tools and to just send</font>

319
00:14:32,799 --> 00:14:37,299
pickup files to a central<font color="#CCCCCC"> Malaki at</font>

320
00:14:35,139 --> 00:14:40,240
regular intervals<font color="#E5E5E5"> quite easy</font><font color="#CCCCCC"> so the</font>

321
00:14:37,299 --> 00:14:43,079
infrastructure is very simple<font color="#CCCCCC"> you have</font>

322
00:14:40,240 --> 00:14:46,119
<font color="#E5E5E5">the Red Cloud can be the Internet can be</font>

323
00:14:43,079 --> 00:14:49,089
MPLS<font color="#CCCCCC"> can be whatever</font><font color="#E5E5E5"> you</font><font color="#CCCCCC"> want</font><font color="#E5E5E5"> it can be</font>

324
00:14:46,119 --> 00:14:51,899
<font color="#CCCCCC">trusted or</font><font color="#E5E5E5"> not as you</font><font color="#CCCCCC"> want</font><font color="#E5E5E5"> you deploy a</font>

325
00:14:49,089 --> 00:14:54,670
multiple sensor they sent to<font color="#CCCCCC"> Moloch</font><font color="#E5E5E5"> and</font>

326
00:14:51,899 --> 00:14:57,730
miraculously<font color="#CCCCCC"> so I have a</font><font color="#E5E5E5"> single instance</font>

327
00:14:54,670 --> 00:15:00,248
of do<font color="#CCCCCC"> stores</font><font color="#E5E5E5"> and my sensor is really</font>

328
00:14:57,730 --> 00:15:03,399
really small the goal was wave the a

329
00:15:00,249 --> 00:15:04,899
very small footprint<font color="#E5E5E5"> so to not interact</font>

330
00:15:03,399 --> 00:15:07,590
with<font color="#E5E5E5"> other application running on</font>

331
00:15:04,899 --> 00:15:09,779
different<font color="#CCCCCC"> hosts</font>

332
00:15:07,590 --> 00:15:12,060
and the<font color="#CCCCCC"> analyst so the handler</font><font color="#E5E5E5"> that's me</font>

333
00:15:09,779 --> 00:15:13,710
<font color="#CCCCCC">I'm just</font><font color="#E5E5E5"> connecting to my</font><font color="#CCCCCC"> Moloch using a</font>

334
00:15:12,060 --> 00:15:15,959
remote access and<font color="#E5E5E5"> so on and I'm</font>

335
00:15:13,710 --> 00:15:19,350
<font color="#CCCCCC">apparently</font><font color="#E5E5E5"> Murdoch</font>

336
00:15:15,960 --> 00:15:21,180
so there are<font color="#E5E5E5"> some good containers</font>

337
00:15:19,350 --> 00:15:23,520
<font color="#E5E5E5">because if you run containers to deploy</font>

338
00:15:21,180 --> 00:15:26,310
the sensors<font color="#CCCCCC"> you can also run containers</font>

339
00:15:23,520 --> 00:15:28,380
to deploy Moloch<font color="#E5E5E5"> but again you are</font>

340
00:15:26,310 --> 00:15:31,439
searching<font color="#E5E5E5"> for an existing one and you</font>

341
00:15:28,380 --> 00:15:35,040
find it<font color="#E5E5E5"> nice but you can improve</font><font color="#CCCCCC"> it so</font>

342
00:15:31,440 --> 00:15:36,930
<font color="#CCCCCC">what I did is</font><font color="#E5E5E5"> to have some persistence</font>

343
00:15:35,040 --> 00:15:39,060
because<font color="#E5E5E5"> of course I will if I need to</font>

344
00:15:36,930 --> 00:15:42,420
restart<font color="#CCCCCC"> my translator</font><font color="#E5E5E5"> I need to get my</font>

345
00:15:39,060 --> 00:15:44,849
<font color="#E5E5E5">pickup back and also an automatic</font>

346
00:15:42,420 --> 00:15:48,479
indexing<font color="#E5E5E5"> of all the pickup's</font><font color="#CCCCCC"> no live</font>

347
00:15:44,850 --> 00:15:50,400
mode this is<font color="#CCCCCC"> the</font><font color="#E5E5E5"> command to run the</font>

348
00:15:48,480 --> 00:15:53,490
<font color="#E5E5E5">Moloch capture so in the docker</font><font color="#CCCCCC"> blah</font>

349
00:15:50,400 --> 00:15:55,770
blah blah<font color="#CCCCCC"> tation I'm speaking up sorry</font>

350
00:15:53,490 --> 00:16:00,390
because I don't have<font color="#CCCCCC"> a lot of time</font><font color="#E5E5E5"> this</font>

351
00:15:55,770 --> 00:16:03,720
<font color="#E5E5E5">is the configuration from the</font><font color="#CCCCCC"> docker</font>

352
00:16:00,390 --> 00:16:06,390
container<font color="#CCCCCC"> compose to start the demo log</font>

353
00:16:03,720 --> 00:16:08,279
server<font color="#E5E5E5"> slides will be online so you will</font>

354
00:16:06,390 --> 00:16:11,610
be able<font color="#E5E5E5"> to like it and it's everything</font>

355
00:16:08,279 --> 00:16:13,860
is available<font color="#CCCCCC"> omitted then you start</font><font color="#E5E5E5"> your</font>

356
00:16:11,610 --> 00:16:16,620
<font color="#CCCCCC">Moloch server just by composer</font><font color="#E5E5E5"> and you</font>

357
00:16:13,860 --> 00:16:19,410
can<font color="#E5E5E5"> access it on port 8000 fine which</font><font color="#CCCCCC"> is</font>

358
00:16:16,620 --> 00:16:24,240
default one the sensor<font color="#E5E5E5"> in fact has two</font>

359
00:16:19,410 --> 00:16:28,469
components<font color="#E5E5E5"> TCP dump and send the files</font>

360
00:16:24,240 --> 00:16:30,180
using a CP so to deploy a sensor is

361
00:16:28,470 --> 00:16:32,550
quite easy because everything is<font color="#CCCCCC"> in</font>

362
00:16:30,180 --> 00:16:34,739
<font color="#E5E5E5">detail so you go to your euros</font><font color="#CCCCCC"> you do a</font>

363
00:16:32,550 --> 00:16:38,189
git clone see<font color="#E5E5E5"> the sensor you burn the</font>

364
00:16:34,740 --> 00:16:40,890
doctor you configure it<font color="#E5E5E5"> because of</font>

365
00:16:38,190 --> 00:16:43,200
course you need<font color="#CCCCCC"> to specify some minimum</font>

366
00:16:40,890 --> 00:16:44,780
configuration<font color="#E5E5E5"> like which kind of</font>

367
00:16:43,200 --> 00:16:47,550
interface you would like to sniff

368
00:16:44,780 --> 00:16:49,439
capture size<font color="#E5E5E5"> how many files you would</font>

369
00:16:47,550 --> 00:16:52,560
like to get this one is quite

370
00:16:49,440 --> 00:16:55,950
<font color="#E5E5E5">interesting to remove</font><font color="#CCCCCC"> non-interesting</font>

371
00:16:52,560 --> 00:16:58,290
<font color="#E5E5E5">traffic of course the sensor name the</font>

372
00:16:55,950 --> 00:16:58,800
target<font color="#CCCCCC"> so it means in fact that is the</font>

373
00:16:58,290 --> 00:17:02,040
<font color="#CCCCCC">Millat</font>

374
00:16:58,800 --> 00:17:04,560
so you see the pickup file will be<font color="#E5E5E5"> sent</font>

375
00:17:02,040 --> 00:17:06,649
to<font color="#E5E5E5"> this server you can of</font><font color="#CCCCCC"> course provide</font>

376
00:17:04,560 --> 00:17:10,419
<font color="#E5E5E5">some agreements for example</font><font color="#CCCCCC"> I'm</font><font color="#E5E5E5"> really</font>

377
00:17:06,650 --> 00:17:13,490
<font color="#E5E5E5">on</font><font color="#CCCCCC"> the hype or not on the default 22 and</font>

378
00:17:10,420 --> 00:17:17,060
that's bad but I will<font color="#E5E5E5"> not check the SSH</font>

379
00:17:13,490 --> 00:17:19,880
keys all the time and when you boot<font color="#CCCCCC"> the</font>

380
00:17:17,060 --> 00:17:22,940
sensor for<font color="#CCCCCC"> the</font><font color="#E5E5E5"> first time you get of</font>

381
00:17:19,880 --> 00:17:25,940
course<font color="#CCCCCC"> a generator</font><font color="#E5E5E5"> SSH</font><font color="#CCCCCC"> key and only</font>

382
00:17:22,940 --> 00:17:28,580
manually for me<font color="#E5E5E5"> a manual action to do</font>

383
00:17:25,940 --> 00:17:30,740
today<font color="#E5E5E5"> is</font><font color="#CCCCCC"> just this sh t you have to</font><font color="#E5E5E5"> copy</font>

384
00:17:28,580 --> 00:17:34,010
<font color="#CCCCCC">it and install it on the</font><font color="#E5E5E5"> Milaap server</font>

385
00:17:30,740 --> 00:17:36,200
to automate the the configuration and

386
00:17:34,010 --> 00:17:41,090
<font color="#CCCCCC">the there is</font><font color="#E5E5E5"> the reception of the pick</font>

387
00:17:36,200 --> 00:17:44,510
up fights<font color="#E5E5E5"> big warning so I say that the</font>

388
00:17:41,090 --> 00:17:47,090
doctor is not<font color="#CCCCCC"> a security tool to let</font>

389
00:17:44,510 --> 00:17:48,770
<font color="#E5E5E5">docker access the physical interface to</font>

390
00:17:47,090 --> 00:17:51,590
be able<font color="#E5E5E5"> to sniff packets you need to</font>

391
00:17:48,770 --> 00:17:54,410
specify dotnet across so it means that

392
00:17:51,590 --> 00:17:57,470
you<font color="#E5E5E5"> break all the signal tissue between</font>

393
00:17:54,410 --> 00:18:00,380
docker and the O's<font color="#E5E5E5"> and the container</font>

394
00:17:57,470 --> 00:18:02,300
will have access<font color="#CCCCCC"> to the O's so big</font>

395
00:18:00,380 --> 00:18:05,300
<font color="#E5E5E5">warning about this but I don't</font><font color="#CCCCCC"> if if</font>

396
00:18:02,300 --> 00:18:10,010
<font color="#CCCCCC">somebody -</font><font color="#E5E5E5"> as as an ID but I don't found</font>

397
00:18:05,300 --> 00:18:12,860
an alternative<font color="#E5E5E5"> today</font><font color="#CCCCCC"> so tips</font><font color="#E5E5E5"> so use bps</font>

398
00:18:10,010 --> 00:18:16,580
filters to reduce<font color="#E5E5E5"> the noise if you know</font>

399
00:18:12,860 --> 00:18:19,550
<font color="#E5E5E5">that you have you are using RDP SSH to</font>

400
00:18:16,580 --> 00:18:22,879
maintain your network<font color="#E5E5E5"> and it's a trusted</font>

401
00:18:19,550 --> 00:18:25,370
protocol skip it so you will not block

402
00:18:22,880 --> 00:18:28,280
the<font color="#CCCCCC"> you will not increase</font><font color="#E5E5E5"> the size of</font>

403
00:18:25,370 --> 00:18:32,570
<font color="#E5E5E5">the pickups and a very interesting</font>

404
00:18:28,280 --> 00:18:36,080
feature you can<font color="#CCCCCC"> also don't say DTF from</font>

405
00:18:32,570 --> 00:18:40,189
some ports but you can also say for

406
00:18:36,080 --> 00:18:42,679
<font color="#E5E5E5">specific collection like SSL</font><font color="#CCCCCC"> - HTTP by</font>

407
00:18:40,190 --> 00:18:45,200
default<font color="#E5E5E5"> today plenty</font><font color="#CCCCCC"> of websites</font><font color="#E5E5E5"> are</font>

408
00:18:42,680 --> 00:18:47,690
running over<font color="#CCCCCC"> HTTPS</font><font color="#E5E5E5"> so you will</font><font color="#CCCCCC"> connect</font>

409
00:18:45,200 --> 00:18:49,310
gigabyte of<font color="#CCCCCC"> HTTPS traffic</font><font color="#E5E5E5"> but if you</font>

410
00:18:47,690 --> 00:18:53,030
don't have the key will not be<font color="#CCCCCC"> able</font><font color="#E5E5E5"> to</font>

411
00:18:49,310 --> 00:18:55,639
<font color="#E5E5E5">decrypt it so using this specific</font>

412
00:18:53,030 --> 00:18:57,200
command<font color="#CCCCCC"> bought twenty to ten</font><font color="#E5E5E5"> it means</font>

413
00:18:55,640 --> 00:19:00,110
that you will only love the<font color="#CCCCCC"> ten first</font>

414
00:18:57,200 --> 00:19:02,300
packet of the flow so<font color="#E5E5E5"> you will look the</font>

415
00:19:00,110 --> 00:19:04,310
flow you<font color="#E5E5E5"> will have a full packet capture</font>

416
00:19:02,300 --> 00:19:06,409
but only for the tent first packets

417
00:19:04,310 --> 00:19:10,849
which is nice and you<font color="#E5E5E5"> will not through</font>

418
00:19:06,410 --> 00:19:12,859
your list with unreadable<font color="#E5E5E5"> data</font>

419
00:19:10,849 --> 00:19:16,639
I found this one<font color="#CCCCCC"> it's</font><font color="#E5E5E5"> a</font><font color="#CCCCCC"> working model</font><font color="#E5E5E5"> in</font>

420
00:19:12,859 --> 00:19:19,070
<font color="#E5E5E5">fact</font><font color="#CCCCCC"> anticipating</font><font color="#E5E5E5"> you can run you</font><font color="#CCCCCC"> can</font>

421
00:19:16,639 --> 00:19:21,589
sniff<font color="#E5E5E5"> on a specific interface - I</font>

422
00:19:19,070 --> 00:19:24,049
<font color="#CCCCCC">achieve</font><font color="#E5E5E5"> zero each one whatever</font><font color="#CCCCCC"> you want</font>

423
00:19:21,589 --> 00:19:25,729
but you can if you<font color="#E5E5E5"> don't specify if to</font>

424
00:19:24,049 --> 00:19:29,418
specify an interface it will run by

425
00:19:25,729 --> 00:19:35,499
default on any interfaces but the<font color="#E5E5E5"> pickup</font>

426
00:19:29,419 --> 00:19:35,499
file will<font color="#CCCCCC"> be different if you run</font>

427
00:19:35,629 --> 00:19:45,678
which one is<font color="#CCCCCC"> it yeah if you do any you</font>

428
00:19:41,419 --> 00:19:47,690
have<font color="#CCCCCC"> a Linux cooked</font><font color="#E5E5E5"> TCP pickup file if</font>

429
00:19:45,679 --> 00:19:49,970
you specify an interface<font color="#E5E5E5"> you will have</font>

430
00:19:47,690 --> 00:19:52,039
an<font color="#CCCCCC"> internet capture</font><font color="#E5E5E5"> blah blah file the</font>

431
00:19:49,970 --> 00:19:56,690
format is not the same<font color="#E5E5E5"> and</font><font color="#CCCCCC"> millat will</font>

432
00:19:52,039 --> 00:19:59,989
not be<font color="#CCCCCC"> able to</font><font color="#E5E5E5"> handle this one so my</font>

433
00:19:56,690 --> 00:20:02,119
solution no footprint on the sensor

434
00:19:59,989 --> 00:20:03,470
<font color="#E5E5E5">because it's a docker so to just drop</font>

435
00:20:02,119 --> 00:20:06,949
the docker<font color="#E5E5E5"> and you don't have any</font>

436
00:20:03,470 --> 00:20:08,779
component<font color="#E5E5E5"> remaining on the on the stem</font>

437
00:20:06,950 --> 00:20:12,019
<font color="#E5E5E5">node you don't have remaining libraries</font>

438
00:20:08,779 --> 00:20:14,720
binary stuff like<font color="#E5E5E5"> this if it runs on</font>

439
00:20:12,019 --> 00:20:18,169
docker you can run it on<font color="#E5E5E5"> any system I'm</font>

440
00:20:14,720 --> 00:20:20,149
<font color="#CCCCCC">using SSH</font><font color="#E5E5E5"> to transfer to TTF files it's</font>

441
00:20:18,169 --> 00:20:21,889
quite easy to<font color="#E5E5E5"> tune because using</font>

442
00:20:20,149 --> 00:20:24,049
environment variables you can specify

443
00:20:21,889 --> 00:20:27,949
<font color="#E5E5E5">the interface the size of your pickups</font>

444
00:20:24,049 --> 00:20:30,619
and so on the big issue you don't<font color="#E5E5E5"> have</font>

445
00:20:27,950 --> 00:20:33,619
<font color="#E5E5E5">real time processing so it means that on</font>

446
00:20:30,619 --> 00:20:36,678
my infrastructure I'm pushing the<font color="#CCCCCC"> bigger</font>

447
00:20:33,619 --> 00:20:37,970
files<font color="#E5E5E5"> every 30 minute I think so it</font>

448
00:20:36,679 --> 00:20:40,489
means<font color="#E5E5E5"> that if I need to investigate</font>

449
00:20:37,970 --> 00:20:42,619
<font color="#CCCCCC">something I will need to wait 30 minutes</font>

450
00:20:40,489 --> 00:20:45,580
<font color="#E5E5E5">to get the last packets it's not real</font>

451
00:20:42,619 --> 00:20:51,259
time<font color="#CCCCCC"> but form it's completely acceptable</font>

452
00:20:45,580 --> 00:20:56,210
<font color="#E5E5E5">small risk of broken froze and also all</font>

453
00:20:51,259 --> 00:20:59,059
the packets<font color="#E5E5E5"> envelope we as</font><font color="#CCCCCC"> Malaki will</font>

454
00:20:56,210 --> 00:21:01,549
index local files<font color="#E5E5E5"> all the</font><font color="#CCCCCC"> packets will</font>

455
00:20:59,059 --> 00:21:04,309
<font color="#CCCCCC">be</font><font color="#E5E5E5"> packed as for me from the same node</font>

456
00:21:01,549 --> 00:21:06,649
<font color="#E5E5E5">so we will not be</font><font color="#CCCCCC"> able to</font><font color="#E5E5E5"> surf for</font>

457
00:21:04,309 --> 00:21:09,070
packets coming from<font color="#CCCCCC"> the server once</font><font color="#E5E5E5"> / -</font>

458
00:21:06,649 --> 00:21:12,709
you need to search on the IP address of

459
00:21:09,070 --> 00:21:15,859
of the node if you want to test<font color="#CCCCCC"> evidence</font>

460
00:21:12,710 --> 00:21:18,549
<font color="#CCCCCC">online I think I should</font><font color="#E5E5E5"> have read some</font>

461
00:21:15,859 --> 00:21:20,658
<font color="#E5E5E5">files soon because there are some</font>

462
00:21:18,549 --> 00:21:22,668
optimization that<font color="#E5E5E5"> I have in my</font><font color="#CCCCCC"> mind I</font>

463
00:21:20,659 --> 00:21:26,239
just<font color="#E5E5E5"> need to find time to implement them</font>

464
00:21:22,669 --> 00:21:29,950
but<font color="#E5E5E5"> it's it's</font><font color="#CCCCCC"> its life and it's</font><font color="#E5E5E5"> my</font>

465
00:21:26,239 --> 00:21:29,950
<font color="#CCCCCC">flashlight thank you very much</font>

466
00:21:33,970 --> 00:21:36,059
[Applause]

