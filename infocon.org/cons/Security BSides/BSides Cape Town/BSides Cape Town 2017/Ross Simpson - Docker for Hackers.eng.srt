1
00:00:00,030 --> 00:00:04,500
good morning everyone so talking<font color="#E5E5E5"> first</font>

2
00:00:02,760 --> 00:00:06,899
today will be your<font color="#E5E5E5"> us he's going to be</font>

3
00:00:04,500 --> 00:00:24,359
<font color="#E5E5E5">talking to us about danke for hackers</font><font color="#CCCCCC"> so</font>

4
00:00:06,899 --> 00:00:25,920
please give him a hand<font color="#CCCCCC"> everyone back in</font>

5
00:00:24,359 --> 00:00:27,990
stuff joining systems<font color="#E5E5E5"> but of</font>

6
00:00:25,920 --> 00:00:30,000
optimization<font color="#E5E5E5"> and I do some hacker</font><font color="#CCCCCC"> II</font>

7
00:00:27,990 --> 00:00:31,799
security what<font color="#CCCCCC"> it's</font><font color="#E5E5E5"> stuff by night</font><font color="#CCCCCC"> so</font>

8
00:00:30,000 --> 00:00:34,590
<font color="#E5E5E5">doctor is quite a nice</font><font color="#CCCCCC"> fix between those</font>

9
00:00:31,800 --> 00:00:37,890
two realms<font color="#CCCCCC"> coconut silicon previously</font>

10
00:00:34,590 --> 00:00:40,920
<font color="#CCCCCC">burger conference</font><font color="#E5E5E5"> it's now</font><font color="#CCCCCC"> awake sconul</font>

11
00:00:37,890 --> 00:00:42,750
<font color="#CCCCCC">0 ex-con</font><font color="#E5E5E5"> I think is the</font><font color="#CCCCCC"> note</font><font color="#E5E5E5"> from that</font>

12
00:00:40,920 --> 00:00:45,539
that<font color="#E5E5E5"> started up this year and</font><font color="#CCCCCC"> I had the</font>

13
00:00:42,750 --> 00:00:46,890
privilege<font color="#CCCCCC"> sites previously and I've got</font>

14
00:00:45,539 --> 00:00:48,510
<font color="#E5E5E5">two Twitter accounts just to make</font><font color="#CCCCCC"> life</font>

15
00:00:46,890 --> 00:00:50,960
difficult<font color="#CCCCCC"> and a blog where</font><font color="#E5E5E5"> I rant about</font>

16
00:00:48,510 --> 00:00:53,550
stuff that's<font color="#CCCCCC"> probably not worth</font><font color="#E5E5E5"> reading</font>

17
00:00:50,960 --> 00:00:55,110
<font color="#CCCCCC">so today's talk is gonna</font><font color="#E5E5E5"> be most of the</font>

18
00:00:53,550 --> 00:00:57,569
introductory we're not<font color="#E5E5E5"> dropping any</font><font color="#CCCCCC"> dr.</font>

19
00:00:55,110 --> 00:01:00,000
<font color="#CCCCCC">o days but I became</font><font color="#E5E5E5"> aware that a lot</font><font color="#CCCCCC"> of</font>

20
00:00:57,570 --> 00:01:01,920
<font color="#E5E5E5">people in security and even</font><font color="#CCCCCC"> devs don't</font>

21
00:01:00,000 --> 00:01:03,629
know very<font color="#E5E5E5"> much about</font><font color="#CCCCCC"> docker and to me</font>

22
00:01:01,920 --> 00:01:05,700
it's one<font color="#CCCCCC"> of the</font><font color="#E5E5E5"> most useful tools recent</font>

23
00:01:03,629 --> 00:01:08,420
times so I kind of just want<font color="#E5E5E5"> to make a</font>

24
00:01:05,700 --> 00:01:11,100
case for<font color="#E5E5E5"> why it's worth using show you</font>

25
00:01:08,420 --> 00:01:12,390
different use cases<font color="#E5E5E5"> a little bit of how</font>

26
00:01:11,100 --> 00:01:14,490
to use<font color="#E5E5E5"> it I'm going to skip over some</font>

27
00:01:12,390 --> 00:01:16,049
steps so this<font color="#E5E5E5"> does not replace like a</font>

28
00:01:14,490 --> 00:01:17,070
getting started guide by all means if

29
00:01:16,049 --> 00:01:18,900
you're interested<font color="#E5E5E5"> go and read a proper</font>

30
00:01:17,070 --> 00:01:20,008
doctor<font color="#CCCCCC"> getting started guide</font><font color="#E5E5E5"> but I've</font>

31
00:01:18,900 --> 00:01:20,790
just<font color="#E5E5E5"> try to highlight a</font><font color="#CCCCCC"> few interesting</font>

32
00:01:20,009 --> 00:01:23,750
<font color="#E5E5E5">points</font>

33
00:01:20,790 --> 00:01:26,520
hopefully for inspiration or<font color="#CCCCCC"> forewarning</font>

34
00:01:23,750 --> 00:01:28,710
so ultimately<font color="#E5E5E5"> docker is a tool for</font>

35
00:01:26,520 --> 00:01:31,560
running<font color="#CCCCCC"> containers</font><font color="#E5E5E5"> which doesn't explain</font>

36
00:01:28,710 --> 00:01:33,720
<font color="#E5E5E5">a whole</font><font color="#CCCCCC"> lot but</font><font color="#E5E5E5"> a containers typically a</font>

37
00:01:31,560 --> 00:01:35,159
single<font color="#CCCCCC"> application</font><font color="#E5E5E5"> or service</font><font color="#CCCCCC"> and it's</font>

38
00:01:33,720 --> 00:01:37,770
dependencies<font color="#CCCCCC"> so it's this</font><font color="#E5E5E5"> nice little</font>

39
00:01:35,159 --> 00:01:39,240
bundled ready to run thing it's not an

40
00:01:37,770 --> 00:01:40,890
operating system<font color="#E5E5E5"> it's not</font><font color="#CCCCCC"> a virtual</font>

41
00:01:39,240 --> 00:01:42,750
machine<font color="#E5E5E5"> it's literally an application</font>

42
00:01:40,890 --> 00:01:44,520
and<font color="#E5E5E5"> it's dependencies and it's Ana</font>

43
00:01:42,750 --> 00:01:46,200
standardized format<font color="#E5E5E5"> so the idea of</font>

44
00:01:44,520 --> 00:01:48,270
containers is not something<font color="#CCCCCC"> new</font><font color="#E5E5E5"> doctor</font>

45
00:01:46,200 --> 00:01:49,950
didn't necessarily invent<font color="#CCCCCC"> anything</font><font color="#E5E5E5"> but</font>

46
00:01:48,270 --> 00:01:51,750
they did a lot<font color="#E5E5E5"> to standardizes so it's</font>

47
00:01:49,950 --> 00:01:54,119
<font color="#CCCCCC">but</font><font color="#E5E5E5"> like the</font><font color="#CCCCCC"> raspberry pi it is</font><font color="#E5E5E5"> sort of</font>

48
00:01:51,750 --> 00:01:55,020
a<font color="#CCCCCC"> de-facto</font><font color="#E5E5E5"> container running solution at</font>

49
00:01:54,119 --> 00:01:58,140
the moment<font color="#CCCCCC"> although there are many</font>

50
00:01:55,020 --> 00:01:59,670
others and a lot of<font color="#E5E5E5"> times when</font><font color="#CCCCCC"> people</font>

51
00:01:58,140 --> 00:02:01,860
<font color="#E5E5E5">are</font><font color="#CCCCCC"> talking about containers what they</font>

52
00:01:59,670 --> 00:02:03,719
<font color="#CCCCCC">actually mean is images</font><font color="#E5E5E5"> images are a</font>

53
00:02:01,860 --> 00:02:06,119
little<font color="#E5E5E5"> bit like an ISO file so that is</font>

54
00:02:03,719 --> 00:02:07,710
the collection of all the layers<font color="#CCCCCC"> in the</font>

55
00:02:06,119 --> 00:02:09,989
parts of<font color="#CCCCCC"> the information about what is</font>

56
00:02:07,710 --> 00:02:12,390
to be run<font color="#CCCCCC"> and a container</font><font color="#E5E5E5"> is an instance</font>

57
00:02:09,989 --> 00:02:13,800
of that so one image<font color="#E5E5E5"> might be run ten</font>

58
00:02:12,390 --> 00:02:16,950
times you have ten running containers

59
00:02:13,800 --> 00:02:21,900
<font color="#CCCCCC">but</font><font color="#E5E5E5"> only one actual source image that</font>

60
00:02:16,950 --> 00:02:23,609
<font color="#E5E5E5">it's come</font><font color="#CCCCCC"> from</font><font color="#E5E5E5"> and yeah</font><font color="#CCCCCC"> doctor is</font><font color="#E5E5E5"> really</font>

61
00:02:21,900 --> 00:02:26,720
popular<font color="#CCCCCC"> with</font><font color="#E5E5E5"> DevOps</font><font color="#CCCCCC"> and micro services</font>

62
00:02:23,610 --> 00:02:28,680
<font color="#CCCCCC">because allows you to very easily</font><font color="#E5E5E5"> manage</font>

63
00:02:26,720 --> 00:02:30,359
<font color="#CCCCCC">sort</font><font color="#E5E5E5"> of the deployment of these things</font>

64
00:02:28,680 --> 00:02:31,560
scaling of them if<font color="#CCCCCC"> you've got micro</font>

65
00:02:30,360 --> 00:02:33,150
services<font color="#CCCCCC"> that need to talk to each other</font>

66
00:02:31,560 --> 00:02:34,920
<font color="#E5E5E5">rather than running a whole lot of</font>

67
00:02:33,150 --> 00:02:37,170
virtual<font color="#E5E5E5"> machines you can run much</font>

68
00:02:34,920 --> 00:02:40,559
smaller docker images so I've mentioned

69
00:02:37,170 --> 00:02:42,569
<font color="#E5E5E5">virtual machines a few times</font><font color="#CCCCCC"> docker has</font>

70
00:02:40,560 --> 00:02:46,170
similarities to virtual<font color="#CCCCCC"> machines in that</font>

71
00:02:42,569 --> 00:02:48,089
it uses images that you<font color="#CCCCCC"> can plus</font><font color="#E5E5E5"> around</font>

72
00:02:46,170 --> 00:02:49,559
you can<font color="#E5E5E5"> build it once and deploy it all</font>

73
00:02:48,090 --> 00:02:51,390
over the<font color="#E5E5E5"> place people can share it on a</font>

74
00:02:49,560 --> 00:02:53,069
network<font color="#CCCCCC"> it's great if you're</font><font color="#E5E5E5"> dead you</font>

75
00:02:51,390 --> 00:02:57,179
need like a snapshot of<font color="#E5E5E5"> your environment</font>

76
00:02:53,069 --> 00:02:58,589
<font color="#CCCCCC">and then spin it up as you need to run</font>

77
00:02:57,180 --> 00:03:00,540
<font color="#CCCCCC">different versions maybe tweak</font><font color="#E5E5E5"> something</font>

78
00:02:58,590 --> 00:03:02,550
for staging<font color="#E5E5E5"> something like that it also</font>

79
00:03:00,540 --> 00:03:04,140
uses the hosts hardware resources so

80
00:03:02,550 --> 00:03:06,180
there's<font color="#CCCCCC"> a client</font><font color="#E5E5E5"> and server aspect</font>

81
00:03:04,140 --> 00:03:08,069
<font color="#E5E5E5">server aspect will be</font><font color="#CCCCCC"> host that's</font>

82
00:03:06,180 --> 00:03:10,440
running the virtual machines<font color="#E5E5E5"> obviously</font>

83
00:03:08,069 --> 00:03:12,659
can't use more<font color="#CCCCCC"> RAM or disks based in the</font>

84
00:03:10,440 --> 00:03:13,950
host has and you need to accommodate<font color="#CCCCCC"> for</font>

85
00:03:12,659 --> 00:03:16,019
the number of containers<font color="#E5E5E5"> that you're</font>

86
00:03:13,950 --> 00:03:19,170
<font color="#CCCCCC">running</font><font color="#E5E5E5"> on that hose sort of divide out</font>

87
00:03:16,019 --> 00:03:21,150
the<font color="#E5E5E5"> resources it also</font><font color="#CCCCCC"> mounts in shares</font>

88
00:03:19,170 --> 00:03:22,619
<font color="#E5E5E5">that's really</font><font color="#CCCCCC"> useful feature you can</font>

89
00:03:21,150 --> 00:03:24,840
have like a shared directory<font color="#CCCCCC"> that a lot</font>

90
00:03:22,620 --> 00:03:26,370
<font color="#E5E5E5">of containers run I'm saying with</font>

91
00:03:24,840 --> 00:03:27,930
virtual<font color="#CCCCCC"> machines</font><font color="#E5E5E5"> and also virtual</font>

92
00:03:26,370 --> 00:03:30,480
networking so there's bridging options

93
00:03:27,930 --> 00:03:31,590
there are<font color="#E5E5E5"> host networking options</font><font color="#CCCCCC"> so</font>

94
00:03:30,480 --> 00:03:33,840
<font color="#E5E5E5">there's a little</font><font color="#CCCCCC"> bit of security</font><font color="#E5E5E5"> that</font>

95
00:03:31,590 --> 00:03:36,480
<font color="#E5E5E5">brings you in terms of isolation a lot</font>

96
00:03:33,840 --> 00:03:38,250
of flexibility<font color="#E5E5E5"> so a lot that's in common</font>

97
00:03:36,480 --> 00:03:40,170
<font color="#E5E5E5">with virtual machines</font><font color="#CCCCCC"> there's also a lot</font>

98
00:03:38,250 --> 00:03:42,930
<font color="#CCCCCC">that's not in common version machine</font><font color="#E5E5E5"> so</font>

99
00:03:40,170 --> 00:03:44,339
if you<font color="#E5E5E5"> build a virtual machine using</font>

100
00:03:42,930 --> 00:03:46,980
<font color="#E5E5E5">vagrant</font><font color="#CCCCCC"> you</font><font color="#E5E5E5"> probably use something</font><font color="#CCCCCC"> like</font>

101
00:03:44,340 --> 00:03:49,370
<font color="#E5E5E5">Debian</font><font color="#CCCCCC"> or base image and you're probably</font>

102
00:03:46,980 --> 00:03:52,709
<font color="#E5E5E5">gonna end up</font><font color="#CCCCCC"> with a couple of gigs of</font>

103
00:03:49,370 --> 00:03:54,900
images and<font color="#E5E5E5"> if you've got a dev VM and a</font>

104
00:03:52,709 --> 00:03:57,120
staging VM<font color="#E5E5E5"> and a prod VM and sort of a</font>

105
00:03:54,900 --> 00:03:59,040
<font color="#E5E5E5">branch version you're probably looking</font>

106
00:03:57,120 --> 00:04:00,420
at like five different VMs<font color="#E5E5E5"> at five gigs</font>

107
00:03:59,040 --> 00:04:03,179
each<font color="#E5E5E5"> you for 25 gigs</font>

108
00:04:00,420 --> 00:04:05,069
whereas<font color="#CCCCCC"> docker uses much much much</font>

109
00:04:03,180 --> 00:04:06,629
slower<font color="#E5E5E5"> images because it's just your</font>

110
00:04:05,069 --> 00:04:08,280
code any files you've attached in

111
00:04:06,629 --> 00:04:09,899
dependencies you're probably working in

112
00:04:08,280 --> 00:04:12,360
Meg's or tens or hundreds of Meg's

113
00:04:09,900 --> 00:04:14,459
rather than in gigs<font color="#E5E5E5"> and they also share</font>

114
00:04:12,360 --> 00:04:16,199
layers<font color="#E5E5E5"> so when you pull down a</font><font color="#CCCCCC"> bunch of</font>

115
00:04:14,459 --> 00:04:17,880
<font color="#CCCCCC">once and everything branches are going</font>

116
00:04:16,199 --> 00:04:20,489
<font color="#E5E5E5">to you've got that sort of two gig layer</font>

117
00:04:17,880 --> 00:04:21,750
once and then 100 Meg layer 100 Meg

118
00:04:20,488 --> 00:04:23,369
layer<font color="#CCCCCC"> and hundred mega layer for your</font>

119
00:04:21,750 --> 00:04:25,620
<font color="#E5E5E5">different environment so it uses a lot</font>

120
00:04:23,370 --> 00:04:27,060
less<font color="#CCCCCC"> space</font><font color="#E5E5E5"> it's a lot</font><font color="#CCCCCC"> easier</font><font color="#E5E5E5"> when you</font>

121
00:04:25,620 --> 00:04:29,220
have like a CI server and you

122
00:04:27,060 --> 00:04:31,130
<font color="#E5E5E5">working</font><font color="#CCCCCC"> of a VPN you don't have to pull</font>

123
00:04:29,220 --> 00:04:33,270
<font color="#CCCCCC">down 25 gigs</font><font color="#E5E5E5"> get your environment up</font>

124
00:04:31,130 --> 00:04:33,990
<font color="#CCCCCC">another nice feature</font><font color="#E5E5E5"> is the</font><font color="#CCCCCC"> command-line</font>

125
00:04:33,270 --> 00:04:36,060
interaction

126
00:04:33,990 --> 00:04:37,680
unlike vagrant you don't have to<font color="#E5E5E5"> SSH</font>

127
00:04:36,060 --> 00:04:39,930
<font color="#CCCCCC">into a docker container to do things</font>

128
00:04:37,680 --> 00:04:41,400
like a desktop<font color="#E5E5E5"> you</font><font color="#CCCCCC"> can actually pipe</font>

129
00:04:39,930 --> 00:04:42,960
stuff in and<font color="#E5E5E5"> out of it you can</font><font color="#CCCCCC"> run</font><font color="#E5E5E5"> it in</font>

130
00:04:41,400 --> 00:04:44,669
your<font color="#CCCCCC"> command-line</font><font color="#E5E5E5"> pipe the output</font><font color="#CCCCCC"> and</font>

131
00:04:42,960 --> 00:04:48,030
<font color="#E5E5E5">then use your native operating systems</font>

132
00:04:44,670 --> 00:04:49,260
<font color="#E5E5E5">tools to do other things so it feels a</font>

133
00:04:48,030 --> 00:04:50,849
lot more native the tools that<font color="#E5E5E5"> you're</font>

134
00:04:49,260 --> 00:04:53,310
running<font color="#E5E5E5"> or a lot more accessible and</font>

135
00:04:50,850 --> 00:04:54,630
reusable<font color="#E5E5E5"> one thing that I see is a bit</font>

136
00:04:53,310 --> 00:04:56,790
of a downside<font color="#E5E5E5"> is that the CPU is not</font>

137
00:04:54,630 --> 00:04:58,469
emulated<font color="#E5E5E5"> when docker containers are</font>

138
00:04:56,790 --> 00:05:00,630
running you can<font color="#E5E5E5"> actually in your host</font>

139
00:04:58,470 --> 00:05:02,610
Linux operating system for example<font color="#E5E5E5"> type</font>

140
00:05:00,630 --> 00:05:04,830
PS or top<font color="#E5E5E5"> and you will see those docker</font>

141
00:05:02,610 --> 00:05:06,990
<font color="#E5E5E5">they've got the separate</font><font color="#CCCCCC"> bits</font><font color="#E5E5E5"> and it's</font>

142
00:05:04,830 --> 00:05:09,150
<font color="#E5E5E5">darker running processes so it's very</font>

143
00:05:06,990 --> 00:05:11,040
<font color="#CCCCCC">much</font><font color="#E5E5E5"> in the same space as your</font><font color="#CCCCCC"> hosts so</font>

144
00:05:09,150 --> 00:05:12,719
if something does<font color="#CCCCCC"> go horribly wrong your</font>

145
00:05:11,040 --> 00:05:14,430
host is potentially compromised as I see

146
00:05:12,720 --> 00:05:16,260
a lot of<font color="#E5E5E5"> steps towards isolation so that</font>

147
00:05:14,430 --> 00:05:17,460
shouldn't<font color="#E5E5E5"> be a concern but</font><font color="#CCCCCC"> you just</font>

148
00:05:16,260 --> 00:05:20,400
realize<font color="#CCCCCC"> that these are</font><font color="#E5E5E5"> actually</font>

149
00:05:17,460 --> 00:05:22,080
processes running on<font color="#E5E5E5"> your host with some</font>

150
00:05:20,400 --> 00:05:24,359
sort of safeguards in place<font color="#E5E5E5"> it's not</font>

151
00:05:22,080 --> 00:05:27,390
sort<font color="#E5E5E5"> of one big ball</font><font color="#CCCCCC"> it's</font><font color="#E5E5E5"> emulator</font><font color="#CCCCCC"> that</font>

152
00:05:24,360 --> 00:05:29,010
is running<font color="#E5E5E5"> inside and doctor runs pretty</font>

153
00:05:27,390 --> 00:05:31,110
<font color="#CCCCCC">much everywhere these days</font><font color="#E5E5E5"> Mac OS</font>

154
00:05:29,010 --> 00:05:32,330
Windows<font color="#E5E5E5"> Linux the cloud even raspberry</font>

155
00:05:31,110 --> 00:05:34,350
<font color="#E5E5E5">PI's which I found quite interesting</font>

156
00:05:32,330 --> 00:05:36,630
<font color="#E5E5E5">again</font><font color="#CCCCCC"> there</font><font color="#E5E5E5"> aren't client and server</font>

157
00:05:34,350 --> 00:05:37,740
<font color="#E5E5E5">aspects so sort of mileage varies</font>

158
00:05:36,630 --> 00:05:39,540
depending on what you're<font color="#CCCCCC"> doing but</font>

159
00:05:37,740 --> 00:05:41,610
ultimately the<font color="#E5E5E5"> doctor client the very</font>

160
00:05:39,540 --> 00:05:43,530
least<font color="#E5E5E5"> should run almost</font><font color="#CCCCCC"> anywhere</font><font color="#E5E5E5"> allow</font>

161
00:05:41,610 --> 00:05:48,570
you to connect<font color="#CCCCCC"> to</font><font color="#E5E5E5"> docker host</font><font color="#CCCCCC"> start stop</font>

162
00:05:43,530 --> 00:05:50,789
<font color="#CCCCCC">view is things like</font><font color="#E5E5E5"> that there are</font>

163
00:05:48,570 --> 00:05:52,650
official<font color="#E5E5E5"> images these are trusted and</font>

164
00:05:50,790 --> 00:05:55,860
you can download<font color="#E5E5E5"> them from store.com</font>

165
00:05:52,650 --> 00:05:57,929
<font color="#E5E5E5">so docker is also the</font><font color="#CCCCCC"> organisation</font><font color="#E5E5E5"> they</font>

166
00:05:55,860 --> 00:05:59,850
vet a lot of these images<font color="#CCCCCC"> pretty</font><font color="#E5E5E5"> much</font>

167
00:05:57,930 --> 00:06:01,290
put their stamp of<font color="#E5E5E5"> approval on them so</font>

168
00:05:59,850 --> 00:06:02,910
for<font color="#E5E5E5"> example if you pull down</font><font color="#CCCCCC"> the</font><font color="#E5E5E5"> or go</font>

169
00:06:01,290 --> 00:06:04,050
<font color="#E5E5E5">into</font><font color="#CCCCCC"> image they've checked it out they</font>

170
00:06:02,910 --> 00:06:06,000
make sure<font color="#E5E5E5"> that it's fairly stable</font>

171
00:06:04,050 --> 00:06:08,430
reliable things like that so when you

172
00:06:06,000 --> 00:06:10,050
use<font color="#E5E5E5"> just go</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> without</font><font color="#CCCCCC"> any</font><font color="#E5E5E5"> kind of</font>

173
00:06:08,430 --> 00:06:11,729
namespace<font color="#CCCCCC"> or prefixing or username</font>

174
00:06:10,050 --> 00:06:13,160
<font color="#E5E5E5">that's coming from the darkest or</font>

175
00:06:11,729 --> 00:06:15,840
trusted by docker

176
00:06:13,160 --> 00:06:17,250
there are also community images so any

177
00:06:15,840 --> 00:06:18,719
one of us can push our own image up to

178
00:06:17,250 --> 00:06:21,870
docker calm

179
00:06:18,720 --> 00:06:24,090
they've got hub store<font color="#E5E5E5"> will let you look</font>

180
00:06:21,870 --> 00:06:25,979
at images basically<font color="#CCCCCC"> the idea with the</font>

181
00:06:24,090 --> 00:06:28,380
store like<font color="#E5E5E5"> an app stores those are sort</font>

182
00:06:25,979 --> 00:06:31,380
of certified pre-built images<font color="#E5E5E5"> whereas</font>

183
00:06:28,380 --> 00:06:33,030
hub as much of a free-for-all<font color="#E5E5E5"> and</font><font color="#CCCCCC"> its</font>

184
00:06:31,380 --> 00:06:35,370
prefixed with<font color="#E5E5E5"> the username of the person</font>

185
00:06:33,030 --> 00:06:37,469
who pushed<font color="#CCCCCC"> that up so I could</font><font color="#E5E5E5"> talk the</font>

186
00:06:35,370 --> 00:06:39,150
official Ubuntu<font color="#E5E5E5"> one but I can never</font>

187
00:06:37,470 --> 00:06:40,920
replace it I can only<font color="#E5E5E5"> end up</font><font color="#CCCCCC"> with my own</font>

188
00:06:39,150 --> 00:06:43,919
<font color="#E5E5E5">version of it</font><font color="#CCCCCC"> so it's a lot like</font><font color="#E5E5E5"> yet</font>

189
00:06:40,920 --> 00:06:46,410
with<font color="#CCCCCC"> forking it also use a private</font>

190
00:06:43,920 --> 00:06:48,120
repository<font color="#E5E5E5"> again like it's for your</font>

191
00:06:46,410 --> 00:06:50,730
<font color="#E5E5E5">network for your VPN things like that</font>

192
00:06:48,120 --> 00:06:52,530
you can push images to<font color="#E5E5E5"> your own image</font>

193
00:06:50,730 --> 00:06:54,510
sort of<font color="#E5E5E5"> storage and pull them from there</font>

194
00:06:52,530 --> 00:06:56,099
you don't<font color="#E5E5E5"> have</font><font color="#CCCCCC"> to use the</font><font color="#E5E5E5"> official</font>

195
00:06:54,510 --> 00:06:57,420
doctor about<font color="#CCCCCC"> comb sites</font><font color="#E5E5E5"> but it is</font>

196
00:06:56,100 --> 00:07:00,780
obviously the easiest<font color="#E5E5E5"> way to get up and</font>

197
00:06:57,420 --> 00:07:01,740
running<font color="#E5E5E5"> and then when you pull</font><font color="#CCCCCC"> down an</font>

198
00:07:00,780 --> 00:07:03,239
image when you<font color="#E5E5E5"> reference it</font><font color="#CCCCCC"> it's</font>

199
00:07:01,740 --> 00:07:05,460
downloaded to your machines or<font color="#CCCCCC"> any other</font>

200
00:07:03,240 --> 00:07:07,980
time<font color="#CCCCCC"> you</font><font color="#E5E5E5"> reference for example for sure</font>

201
00:07:05,460 --> 00:07:10,440
<font color="#E5E5E5">bun</font><font color="#CCCCCC"> 2 or the namespace one you can keep</font>

202
00:07:07,980 --> 00:07:11,910
<font color="#E5E5E5">using them off your machine</font><font color="#CCCCCC"> when</font><font color="#E5E5E5"> you</font>

203
00:07:10,440 --> 00:07:13,260
create them<font color="#E5E5E5"> initially they're safe to</font>

204
00:07:11,910 --> 00:07:16,470
your machine you have to<font color="#E5E5E5"> intentionally</font>

205
00:07:13,260 --> 00:07:19,560
<font color="#E5E5E5">push them up to docker hub</font><font color="#CCCCCC"> if you want</font>

206
00:07:16,470 --> 00:07:20,700
them to<font color="#CCCCCC"> be publicly</font><font color="#E5E5E5"> available so pull</font>

207
00:07:19,560 --> 00:07:23,100
down locally most of what you're

208
00:07:20,700 --> 00:07:28,950
building is local and pushing up is

209
00:07:23,100 --> 00:07:32,820
quite trusted and<font color="#CCCCCC"> and</font><font color="#E5E5E5"> also use the names</font>

210
00:07:28,950 --> 00:07:36,000
that<font color="#E5E5E5"> are</font><font color="#CCCCCC"> in use on</font><font color="#E5E5E5"> store.com</font><font color="#CCCCCC"> so we could</font>

211
00:07:32,820 --> 00:07:38,159
push an image called a bun to locally or

212
00:07:36,000 --> 00:07:40,620
to<font color="#E5E5E5"> our own repository there's no sort of</font>

213
00:07:38,160 --> 00:07:43,320
global restriction<font color="#CCCCCC"> on leaves just</font><font color="#E5E5E5"> what</font>

214
00:07:40,620 --> 00:07:45,270
they're stored at da<font color="#E5E5E5"> cunha</font><font color="#CCCCCC"> common the</font>

215
00:07:43,320 --> 00:07:47,640
same way that I run a private github

216
00:07:45,270 --> 00:07:49,320
private doctor repository<font color="#CCCCCC"> I should be</font>

217
00:07:47,640 --> 00:07:50,700
able<font color="#E5E5E5"> to name my container anything even</font>

218
00:07:49,320 --> 00:07:51,900
if you've called<font color="#E5E5E5"> you'll contain the same</font>

219
00:07:50,700 --> 00:07:53,340
name to your repository there's no

220
00:07:51,900 --> 00:07:55,530
communication<font color="#CCCCCC"> there's no global</font><font color="#E5E5E5"> network</font>

221
00:07:53,340 --> 00:07:57,960
or anything like<font color="#E5E5E5"> that but it does mean</font>

222
00:07:55,530 --> 00:07:59,820
<font color="#E5E5E5">that you can't always trust the name</font>

223
00:07:57,960 --> 00:08:02,310
that<font color="#E5E5E5"> you see unless you also check where</font>

224
00:07:59,820 --> 00:08:03,540
it's pulling<font color="#CCCCCC"> from it's not com</font>

225
00:08:02,310 --> 00:08:06,620
there's no guarantee that<font color="#E5E5E5"> we're</font><font color="#CCCCCC"> going to</font>

226
00:08:03,540 --> 00:08:09,990
<font color="#E5E5E5">as the official docker authorized</font>

227
00:08:06,620 --> 00:08:12,510
container so just be aware image so

228
00:08:09,990 --> 00:08:13,890
that's<font color="#E5E5E5"> quite a bit of theory so let's</font>

229
00:08:12,510 --> 00:08:17,599
take a look<font color="#E5E5E5"> at what it actually is</font><font color="#CCCCCC"> so</font>

230
00:08:13,890 --> 00:08:20,370
<font color="#CCCCCC">there's a very popular</font><font color="#E5E5E5"> PSD tool</font><font color="#CCCCCC"> I'm</font>

231
00:08:17,600 --> 00:08:22,140
<font color="#CCCCCC">saying on your</font><font color="#E5E5E5"> screen I happen to be</font>

232
00:08:20,370 --> 00:08:24,540
using<font color="#E5E5E5"> a Mac and if I try and</font><font color="#CCCCCC"> run action</font>

233
00:08:22,140 --> 00:08:26,550
<font color="#CCCCCC">on Mac it's not there yes I probably</font>

234
00:08:24,540 --> 00:08:27,960
<font color="#E5E5E5">could just prove install it but we can</font>

235
00:08:26,550 --> 00:08:30,330
also do it with<font color="#E5E5E5"> docker so let's take a</font>

236
00:08:27,960 --> 00:08:33,299
look at<font color="#E5E5E5"> that</font><font color="#CCCCCC"> mention</font><font color="#E5E5E5"> the dock is stored</font>

237
00:08:30,330 --> 00:08:34,380
so here<font color="#CCCCCC"> I've</font><font color="#E5E5E5"> done a search you'll see</font><font color="#CCCCCC"> in</font>

238
00:08:33,299 --> 00:08:36,179
the address<font color="#E5E5E5"> bar the sources the</font>

239
00:08:34,380 --> 00:08:38,159
community so it's actually<font color="#E5E5E5"> pulling from</font>

240
00:08:36,179 --> 00:08:39,329
the<font color="#CCCCCC"> hubs collection of images</font><font color="#E5E5E5"> but this</font>

241
00:08:38,159 --> 00:08:42,209
is the stores UI

242
00:08:39,330 --> 00:08:45,270
there's one in the middle<font color="#CCCCCC"> there with 307</font>

243
00:08:42,210 --> 00:08:48,840
<font color="#CCCCCC">poles</font><font color="#E5E5E5"> fortune</font><font color="#CCCCCC"> c'mon so that looks</font><font color="#E5E5E5"> like</font>

244
00:08:45,270 --> 00:08:50,310
one<font color="#CCCCCC"> this is the hub page so it's showing</font>

245
00:08:48,840 --> 00:08:52,500
<font color="#E5E5E5">the same information slightly different</font>

246
00:08:50,310 --> 00:08:53,819
UI and again you can see the same image

247
00:08:52,500 --> 00:08:56,220
so we're going<font color="#E5E5E5"> to give</font><font color="#CCCCCC"> that one a run</font>

248
00:08:53,820 --> 00:08:57,360
<font color="#E5E5E5">what we do is we copy the full path so</font>

249
00:08:56,220 --> 00:09:01,140
that's the<font color="#CCCCCC"> username forward slash</font>

250
00:08:57,360 --> 00:09:04,020
fortune<font color="#E5E5E5"> and which I've</font><font color="#CCCCCC"> been talkin and</font>

251
00:09:01,140 --> 00:09:05,730
we specify<font color="#CCCCCC"> that name the text gray is</font>

252
00:09:04,020 --> 00:09:07,410
what docker does so it says<font color="#E5E5E5"> I can't find</font>

253
00:09:05,730 --> 00:09:08,850
that<font color="#E5E5E5"> image locally it's now going to try</font>

254
00:09:07,410 --> 00:09:10,920
and pull it down from the store<font color="#CCCCCC"> I</font>

255
00:09:08,850 --> 00:09:12,480
mentioned<font color="#E5E5E5"> this lots of layers so here</font>

256
00:09:10,920 --> 00:09:13,860
you can<font color="#E5E5E5"> see this two layers that it's</font>

257
00:09:12,480 --> 00:09:15,600
pulled down those layers would be

258
00:09:13,860 --> 00:09:16,770
<font color="#E5E5E5">reusable if this author has made some</font>

259
00:09:15,600 --> 00:09:18,720
other containers there might be some

260
00:09:16,770 --> 00:09:20,939
<font color="#E5E5E5">reuse to speed up downloads and caching</font>

261
00:09:18,720 --> 00:09:22,590
and<font color="#E5E5E5"> things like that ultimately end up</font>

262
00:09:20,940 --> 00:09:23,730
<font color="#E5E5E5">with a hash for that image that's</font><font color="#CCCCCC"> been</font>

263
00:09:22,590 --> 00:09:25,830
downloaded<font color="#CCCCCC"> it tells you that</font><font color="#E5E5E5"> it's</font>

264
00:09:23,730 --> 00:09:27,420
downloaded and it then<font color="#E5E5E5"> runs the</font>

265
00:09:25,830 --> 00:09:29,160
<font color="#E5E5E5">container which puts out a bit of a grim</font>

266
00:09:27,420 --> 00:09:31,199
message<font color="#CCCCCC"> but that is</font><font color="#E5E5E5"> the</font><font color="#CCCCCC"> result</font><font color="#E5E5E5"> of</font>

267
00:09:29,160 --> 00:09:33,060
<font color="#E5E5E5">fortune and as I mentioned</font><font color="#CCCCCC"> previously</font>

268
00:09:31,200 --> 00:09:35,070
this<font color="#E5E5E5"> is running in a terminal so I</font>

269
00:09:33,060 --> 00:09:36,689
haven't<font color="#E5E5E5"> had to</font><font color="#CCCCCC"> ssh into</font><font color="#E5E5E5"> anything</font><font color="#CCCCCC"> I can</font>

270
00:09:35,070 --> 00:09:38,730
<font color="#CCCCCC">just select and copy</font><font color="#E5E5E5"> and</font><font color="#CCCCCC"> paste that</font><font color="#E5E5E5"> I</font>

271
00:09:36,690 --> 00:09:40,710
could pipe this out<font color="#E5E5E5"> so I really like</font>

272
00:09:38,730 --> 00:09:42,870
<font color="#E5E5E5">that come online interactive ility with</font>

273
00:09:40,710 --> 00:09:44,430
it this<font color="#E5E5E5"> is not an official output I've</font>

274
00:09:42,870 --> 00:09:45,690
just put this on<font color="#CCCCCC"> my slide so you</font><font color="#E5E5E5"> can get</font>

275
00:09:44,430 --> 00:09:48,270
an<font color="#E5E5E5"> idea as we're using</font><font color="#CCCCCC"> different</font>

276
00:09:45,690 --> 00:09:49,890
containers<font color="#E5E5E5"> what size were in for so this</font>

277
00:09:48,270 --> 00:09:51,480
was a fresh<font color="#CCCCCC"> Mac install with just docker</font>

278
00:09:49,890 --> 00:09:54,480
<font color="#E5E5E5">I would have to install command line</font>

279
00:09:51,480 --> 00:09:56,250
tools<font color="#CCCCCC"> homebrew things like that</font><font color="#E5E5E5"> if I</font>

280
00:09:54,480 --> 00:09:57,570
just want to form a gap<font color="#E5E5E5"> so assuming</font>

281
00:09:56,250 --> 00:09:59,190
doctors install I just had to download

282
00:09:57,570 --> 00:10:01,410
<font color="#CCCCCC">form</font><font color="#E5E5E5"> ax</font><font color="#CCCCCC"> it's</font><font color="#E5E5E5"> taking in four</font><font color="#CCCCCC"> minutes of</font>

283
00:09:59,190 --> 00:10:03,840
<font color="#E5E5E5">just space so very very minimal again</font>

284
00:10:01,410 --> 00:10:06,060
compare<font color="#E5E5E5"> that</font><font color="#CCCCCC"> to vagrant with</font><font color="#E5E5E5"> an</font><font color="#CCCCCC"> event</font><font color="#E5E5E5"> or</font>

285
00:10:03,840 --> 00:10:09,660
image for three gigs just to install<font color="#CCCCCC"> or</font>

286
00:10:06,060 --> 00:10:11,369
<font color="#E5E5E5">make</font><font color="#CCCCCC"> app not</font><font color="#E5E5E5"> very ideal so let's take a</font>

287
00:10:09,660 --> 00:10:13,439
bit of<font color="#E5E5E5"> a more practical look at using</font>

288
00:10:11,370 --> 00:10:16,350
docker for something<font color="#E5E5E5"> interesting going</font>

289
00:10:13,440 --> 00:10:18,390
<font color="#CCCCCC">to run</font><font color="#E5E5E5"> Apache web server and by default</font>

290
00:10:16,350 --> 00:10:22,010
docker is going to use<font color="#E5E5E5"> bridge networking</font>

291
00:10:18,390 --> 00:10:24,510
<font color="#CCCCCC">so you're able to</font><font color="#E5E5E5"> get internet access</font>

292
00:10:22,010 --> 00:10:27,870
have to intentionally<font color="#CCCCCC"> tell it to do that</font>

293
00:10:24,510 --> 00:10:30,930
<font color="#CCCCCC">a web</font><font color="#E5E5E5"> server first</font><font color="#CCCCCC"> thing I'm going to do</font>

294
00:10:27,870 --> 00:10:33,060
is make in HTML directory I'm just gonna

295
00:10:30,930 --> 00:10:34,739
output some text into that directory<font color="#E5E5E5"> as</font>

296
00:10:33,060 --> 00:10:37,229
<font color="#CCCCCC">index dot HTML so this is my local</font>

297
00:10:34,740 --> 00:10:39,270
machine<font color="#E5E5E5"> no magic happening just yet</font><font color="#CCCCCC"> what</font>

298
00:10:37,230 --> 00:10:43,310
we want to do now serve that on the

299
00:10:39,270 --> 00:10:46,020
<font color="#E5E5E5">internet or</font><font color="#CCCCCC"> you can tell doc it's run</font><font color="#E5E5E5"> in</font>

300
00:10:43,310 --> 00:10:47,609
daemon mode that's the<font color="#CCCCCC"> - te after the</font>

301
00:10:46,020 --> 00:10:49,790
docker run command we<font color="#CCCCCC"> can tell it to</font>

302
00:10:47,610 --> 00:10:52,680
share port 8080 of the host machine

303
00:10:49,790 --> 00:10:54,000
<font color="#E5E5E5">connecting to port 80 of the container</font>

304
00:10:52,680 --> 00:10:55,650
that's going to be running<font color="#E5E5E5"> so that's our</font>

305
00:10:54,000 --> 00:10:56,760
port mapping basically opening up a port

306
00:10:55,650 --> 00:10:59,490
allowing<font color="#E5E5E5"> to come into the docker</font>

307
00:10:56,760 --> 00:11:01,560
container but - feed lets you mount in a

308
00:10:59,490 --> 00:11:03,600
<font color="#E5E5E5">volume so again this is the HTML</font>

309
00:11:01,560 --> 00:11:05,699
directories on the host machine<font color="#E5E5E5"> we need</font>

310
00:11:03,600 --> 00:11:07,939
Apache that's<font color="#E5E5E5"> running in container to</font>

311
00:11:05,700 --> 00:11:10,119
have access<font color="#CCCCCC"> to it so we mount the volume</font>

312
00:11:07,939 --> 00:11:12,079
using a parent directory<font color="#E5E5E5"> for HTML</font>

313
00:11:10,119 --> 00:11:13,879
<font color="#E5E5E5">separated by a colon we're telling it</font>

314
00:11:12,079 --> 00:11:15,618
where it is<font color="#E5E5E5"> in the file</font><font color="#CCCCCC"> system of</font><font color="#E5E5E5"> the</font>

315
00:11:13,879 --> 00:11:17,659
container which is<font color="#E5E5E5"> user local Apache</font><font color="#CCCCCC"> 2</font>

316
00:11:15,619 --> 00:11:20,499
<font color="#CCCCCC">HD Docs</font><font color="#E5E5E5"> so now we've configured</font>

317
00:11:17,659 --> 00:11:23,359
<font color="#CCCCCC">everything we're able to run the</font><font color="#E5E5E5"> image</font>

318
00:11:20,499 --> 00:11:24,619
httpd that's actually Apache<font color="#CCCCCC"> there's no</font>

319
00:11:23,359 --> 00:11:26,329
user name before<font color="#E5E5E5"> it this is coming from</font>

320
00:11:24,619 --> 00:11:29,269
docker<font color="#E5E5E5"> and this is going</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> be their</font>

321
00:11:26,329 --> 00:11:31,488
trusted image again<font color="#E5E5E5"> I can't find the</font>

322
00:11:29,269 --> 00:11:32,809
image locally<font color="#CCCCCC"> it starts pulling it</font><font color="#E5E5E5"> you</font>

323
00:11:31,489 --> 00:11:34,699
see this multiple layers you<font color="#CCCCCC"> can see the</font>

324
00:11:32,809 --> 00:11:36,199
very first layer there already exists<font color="#E5E5E5"> so</font>

325
00:11:34,699 --> 00:11:37,789
that<font color="#CCCCCC"> didn't</font><font color="#E5E5E5"> need to be downloaded</font><font color="#CCCCCC"> again</font>

326
00:11:36,199 --> 00:11:39,709
it's reusing<font color="#E5E5E5"> these layers so</font><font color="#CCCCCC"> the more</font>

327
00:11:37,789 --> 00:11:40,519
you use docker<font color="#E5E5E5"> the less unless unless</font>

328
00:11:39,709 --> 00:11:42,618
<font color="#E5E5E5">you're going to end up actually</font>

329
00:11:40,519 --> 00:11:44,239
downloading every time it were some

330
00:11:42,619 --> 00:11:45,739
layers that it needed to<font color="#CCCCCC"> download</font><font color="#E5E5E5"> it</font>

331
00:11:44,239 --> 00:11:47,809
downloads in parallel which is quite

332
00:11:45,739 --> 00:11:49,729
nice you<font color="#E5E5E5"> see progress and you can see</font>

333
00:11:47,809 --> 00:11:52,488
how much you're downloading<font color="#E5E5E5"> again you</font>

334
00:11:49,729 --> 00:11:54,949
get a hash at the end so that's the

335
00:11:52,489 --> 00:11:57,079
image<font color="#E5E5E5"> this is actually not the container</font>

336
00:11:54,949 --> 00:11:58,429
this<font color="#CCCCCC"> is actually</font><font color="#E5E5E5"> also image name that's</font>

337
00:11:57,079 --> 00:12:02,539
<font color="#E5E5E5">the image ID so I've labeled that</font>

338
00:11:58,429 --> 00:12:03,949
incorrectly but it's now started so we

339
00:12:02,539 --> 00:12:05,439
actually<font color="#CCCCCC"> returned to</font><font color="#E5E5E5"> our command prompt</font>

340
00:12:03,949 --> 00:12:07,639
<font color="#E5E5E5">unlike last time it didn't do any output</font>

341
00:12:05,439 --> 00:12:09,259
<font color="#CCCCCC">demon</font><font color="#E5E5E5"> mode we get our command prompt</font>

342
00:12:07,639 --> 00:12:11,089
back it's running in the<font color="#CCCCCC"> background</font><font color="#E5E5E5"> and</font>

343
00:12:09,259 --> 00:12:13,429
if we<font color="#E5E5E5"> open our web browser</font><font color="#CCCCCC"> we go</font><font color="#E5E5E5"> to the</font>

344
00:12:11,089 --> 00:12:13,999
<font color="#E5E5E5">hosts localhost port 8080</font><font color="#CCCCCC"> so</font><font color="#E5E5E5"> again no</font>

345
00:12:13,429 --> 00:12:16,098
VNC

346
00:12:13,999 --> 00:12:17,720
desktop sharing<font color="#E5E5E5"> fighting with browsers</font>

347
00:12:16,099 --> 00:12:20,179
you're using your native tools that<font color="#E5E5E5"> you</font>

348
00:12:17,720 --> 00:12:20,659
<font color="#E5E5E5">already</font><font color="#CCCCCC"> used</font><font color="#E5E5E5"> to connect localhost port</font>

349
00:12:20,179 --> 00:12:23,119
8080

350
00:12:20,659 --> 00:12:25,669
<font color="#CCCCCC">it's piped in</font><font color="#E5E5E5"> and Apache is now serving</font>

351
00:12:23,119 --> 00:12:28,849
that index.html file<font color="#E5E5E5"> that's actually on</font>

352
00:12:25,669 --> 00:12:31,759
<font color="#E5E5E5">our first machine again a host machine</font>

353
00:12:28,849 --> 00:12:33,499
<font color="#E5E5E5">so we're able to change that text</font><font color="#CCCCCC"> so</font>

354
00:12:31,759 --> 00:12:35,419
<font color="#CCCCCC">we're gonna strike out hello world</font><font color="#E5E5E5"> and</font>

355
00:12:33,499 --> 00:12:37,999
change it to<font color="#E5E5E5"> hell of hackers we just</font>

356
00:12:35,419 --> 00:12:40,249
<font color="#E5E5E5">piping into that file on</font><font color="#CCCCCC"> our folder</font><font color="#E5E5E5"> or</font>

357
00:12:37,999 --> 00:12:42,319
<font color="#E5E5E5">not directory and if we refresh our</font>

358
00:12:40,249 --> 00:12:43,729
<font color="#E5E5E5">browser</font><font color="#CCCCCC"> it's immediately refreshed so</font>

359
00:12:42,319 --> 00:12:44,209
there's no<font color="#E5E5E5"> syncing that happens it's</font><font color="#CCCCCC"> not</font>

360
00:12:43,729 --> 00:12:46,879
like docker

361
00:12:44,209 --> 00:12:48,618
imports or has to<font color="#CCCCCC"> poll or anything like</font>

362
00:12:46,879 --> 00:12:49,729
<font color="#E5E5E5">that it's literally</font><font color="#CCCCCC"> like a symlink</font>

363
00:12:48,619 --> 00:12:51,589
<font color="#E5E5E5">it's mapped to the host machines</font>

364
00:12:49,729 --> 00:12:52,849
directory<font color="#E5E5E5"> anything that happens there</font>

365
00:12:51,589 --> 00:12:56,269
<font color="#E5E5E5">happens for</font><font color="#CCCCCC"> apache</font>

366
00:12:52,849 --> 00:12:58,489
is eye doctor right away<font color="#CCCCCC"> and it's</font>

367
00:12:56,269 --> 00:13:01,220
running<font color="#CCCCCC"> in background but if you run</font>

368
00:12:58,489 --> 00:13:02,539
docker PS is like a process<font color="#E5E5E5"> list you can</font>

369
00:13:01,220 --> 00:13:04,399
see all the<font color="#E5E5E5"> doctor containers that</font><font color="#CCCCCC"> are</font>

370
00:13:02,539 --> 00:13:06,529
running far left is the container ID

371
00:13:04,399 --> 00:13:08,329
it's different from<font color="#E5E5E5"> the image ID we'd</font>

372
00:13:06,529 --> 00:13:10,220
spun up multiple copies of<font color="#CCCCCC"> this image</font>

373
00:13:08,329 --> 00:13:13,189
each would<font color="#CCCCCC"> have their own container ID</font>

374
00:13:10,220 --> 00:13:15,529
so this<font color="#CCCCCC"> is a way</font><font color="#E5E5E5"> that we can reference a</font>

375
00:13:13,189 --> 00:13:17,629
specific running instance tells us what

376
00:13:15,529 --> 00:13:18,949
the image is which is<font color="#E5E5E5"> httpd tells us to</font>

377
00:13:17,629 --> 00:13:22,060
come on we<font color="#E5E5E5"> wouldn't worry about for now</font>

378
00:13:18,949 --> 00:13:24,170
and we<font color="#E5E5E5"> can see the ports that are not</font>

379
00:13:22,060 --> 00:13:25,849
we can ask for<font color="#E5E5E5"> the logs from that</font>

380
00:13:24,170 --> 00:13:27,800
<font color="#E5E5E5">running container if we're</font><font color="#CCCCCC"> going</font><font color="#E5E5E5"> to do</font>

381
00:13:25,850 --> 00:13:29,420
some<font color="#E5E5E5"> kind of</font><font color="#CCCCCC"> debugging</font><font color="#E5E5E5"> make sure</font><font color="#CCCCCC"> it's</font>

382
00:13:27,800 --> 00:13:30,890
started up<font color="#E5E5E5"> correctly we can see Apache</font>

383
00:13:29,420 --> 00:13:32,500
logs that<font color="#E5E5E5"> are happening</font><font color="#CCCCCC"> yeah that's what</font>

384
00:13:30,890 --> 00:13:37,370
it's<font color="#E5E5E5"> outputting to</font><font color="#CCCCCC"> it's virtual terminal</font>

385
00:13:32,500 --> 00:13:38,030
inside docker we can also get<font color="#CCCCCC"> a bash</font>

386
00:13:37,370 --> 00:13:39,980
session

387
00:13:38,030 --> 00:13:41,420
into<font color="#E5E5E5"> that container so this is kind of</font>

388
00:13:39,980 --> 00:13:43,100
like vagrant<font color="#E5E5E5"> SSH</font>

389
00:13:41,420 --> 00:13:44,180
there's no SSH service<font color="#E5E5E5"> running but</font>

390
00:13:43,100 --> 00:13:46,250
basically what we're<font color="#CCCCCC"> saying is we want</font>

391
00:13:44,180 --> 00:13:47,660
<font color="#CCCCCC">to attach</font><font color="#E5E5E5"> to this container not</font>

392
00:13:46,250 --> 00:13:49,220
necessarily view what it's doing in<font color="#E5E5E5"> the</font>

393
00:13:47,660 --> 00:13:50,780
primary terminal but it's like we<font color="#E5E5E5"> want a</font>

394
00:13:49,220 --> 00:13:53,240
secondary<font color="#E5E5E5"> terminals so we're able to</font><font color="#CCCCCC"> run</font>

395
00:13:50,780 --> 00:13:54,680
bash inside of that<font color="#E5E5E5"> running container</font>

396
00:13:53,240 --> 00:13:57,170
and we're saying there<font color="#CCCCCC"> that we want</font><font color="#E5E5E5"> an</font>

397
00:13:54,680 --> 00:13:58,640
interactive<font color="#E5E5E5"> sewer terminal so it's</font>

398
00:13:57,170 --> 00:14:00,229
<font color="#CCCCCC">almost</font><font color="#E5E5E5"> like now</font><font color="#CCCCCC"> a second threat that's</font>

399
00:13:58,640 --> 00:14:03,170
happening or a second process inside the

400
00:14:00,230 --> 00:14:05,510
container<font color="#E5E5E5"> you can now see the user is</font>

401
00:14:03,170 --> 00:14:07,240
<font color="#E5E5E5">route at the same hash of the container</font>

402
00:14:05,510 --> 00:14:10,760
<font color="#E5E5E5">and you can see the path</font><font color="#CCCCCC"> that we're in</font>

403
00:14:07,240 --> 00:14:13,160
we can do a listing of<font color="#CCCCCC"> htdocs'</font><font color="#E5E5E5"> and</font><font color="#CCCCCC"> we</font>

404
00:14:10,760 --> 00:14:14,420
see our<font color="#CCCCCC"> index.html file so the docker</font>

405
00:14:13,160 --> 00:14:16,160
container thinks<font color="#E5E5E5"> this is a local</font>

406
00:14:14,420 --> 00:14:17,750
directory<font color="#CCCCCC"> it's actually on our host</font>

407
00:14:16,160 --> 00:14:20,150
machine and<font color="#E5E5E5"> everything just works which</font>

408
00:14:17,750 --> 00:14:22,700
is awesome<font color="#E5E5E5"> so getting a little</font><font color="#CCCCCC"> water to</font>

409
00:14:20,150 --> 00:14:26,660
<font color="#E5E5E5">the</font><font color="#CCCCCC"> realm of hacking very popular tool</font>

410
00:14:22,700 --> 00:14:28,580
nikto you may want to run that<font color="#CCCCCC"> the</font>

411
00:14:26,660 --> 00:14:31,400
<font color="#E5E5E5">interesting thing here</font><font color="#CCCCCC"> is</font><font color="#E5E5E5"> the</font><font color="#CCCCCC"> -</font><font color="#E5E5E5"> - RM</font>

412
00:14:28,580 --> 00:14:33,260
it's almost like<font color="#E5E5E5"> incognito mode for</font>

413
00:14:31,400 --> 00:14:35,000
containers when a container runs even<font color="#E5E5E5"> if</font>

414
00:14:33,260 --> 00:14:36,319
the<font color="#E5E5E5"> process stops there's still a record</font>

415
00:14:35,000 --> 00:14:37,910
<font color="#E5E5E5">of</font><font color="#CCCCCC"> it or containers running</font><font color="#E5E5E5"> in</font>

416
00:14:36,320 --> 00:14:40,010
background<font color="#CCCCCC"> so typically</font><font color="#E5E5E5"> you can restart</font>

417
00:14:37,910 --> 00:14:41,660
a container that<font color="#E5E5E5"> otherwise ended in this</font>

418
00:14:40,010 --> 00:14:43,880
case we're saying when<font color="#E5E5E5"> this thing ends</font>

419
00:14:41,660 --> 00:14:45,709
delete it<font color="#CCCCCC"> get</font><font color="#E5E5E5"> rid of any information</font>

420
00:14:43,880 --> 00:14:47,660
that<font color="#CCCCCC"> I have</font><font color="#E5E5E5"> I wouldn't call this like</font>

421
00:14:45,710 --> 00:14:49,240
order to secure<font color="#E5E5E5"> it's just convenience</font>

422
00:14:47,660 --> 00:14:51,800
you're no longer<font color="#E5E5E5"> taking up that space</font>

423
00:14:49,240 --> 00:14:53,450
<font color="#CCCCCC">and</font><font color="#E5E5E5"> anything that nikto for example</font>

424
00:14:51,800 --> 00:14:54,680
writes to the home<font color="#CCCCCC"> directory you might</font>

425
00:14:53,450 --> 00:14:57,110
not want<font color="#E5E5E5"> logs of who you've been</font>

426
00:14:54,680 --> 00:14:59,030
<font color="#E5E5E5">scanning so in this case it'll just</font>

427
00:14:57,110 --> 00:15:00,590
basically<font color="#E5E5E5"> delete the containers that it</font>

428
00:14:59,030 --> 00:15:02,689
creates but the steps are<font color="#CCCCCC"> very much the</font>

429
00:15:00,590 --> 00:15:06,770
<font color="#E5E5E5">same it finds this so here we've</font>

430
00:15:02,690 --> 00:15:09,320
referenced a user's version of<font color="#E5E5E5"> nikto</font>

431
00:15:06,770 --> 00:15:11,390
using<font color="#CCCCCC"> Alpine pulled it down cache layers</font>

432
00:15:09,320 --> 00:15:13,100
things like that in this<font color="#E5E5E5"> case we didn't</font>

433
00:15:11,390 --> 00:15:15,530
have to tell<font color="#E5E5E5"> it to run nikto but we did</font>

434
00:15:13,100 --> 00:15:17,240
tell it - host<font color="#E5E5E5"> at example.com so we</font>

435
00:15:15,530 --> 00:15:19,310
passed it<font color="#E5E5E5"> in command line parameter and</font>

436
00:15:17,240 --> 00:15:20,450
then it was gonna<font color="#E5E5E5"> run and output</font>

437
00:15:19,310 --> 00:15:21,979
everything to the screen<font color="#E5E5E5"> because</font><font color="#CCCCCC"> we</font>

438
00:15:20,450 --> 00:15:23,600
didn't run<font color="#CCCCCC"> into even mode so this is</font>

439
00:15:21,980 --> 00:15:25,030
interactive<font color="#CCCCCC"> we will get a prompt back</font>

440
00:15:23,600 --> 00:15:28,450
when it finishes

441
00:15:25,030 --> 00:15:32,030
<font color="#E5E5E5">another tool sub</font><font color="#CCCCCC"> lister it's one that's</font>

442
00:15:28,450 --> 00:15:33,800
quite<font color="#CCCCCC"> liked and</font><font color="#E5E5E5"> so I've made</font><font color="#CCCCCC"> a container</font>

443
00:15:32,030 --> 00:15:35,240
<font color="#E5E5E5">for myself</font><font color="#CCCCCC"> it's really really easy to</font><font color="#E5E5E5"> do</font>

444
00:15:33,800 --> 00:15:37,010
we look at<font color="#CCCCCC"> that just now</font>

445
00:15:35,240 --> 00:15:38,720
same thing it automatically will run the

446
00:15:37,010 --> 00:15:40,370
binary we're just passing<font color="#CCCCCC"> the</font>

447
00:15:38,720 --> 00:15:42,350
<font color="#CCCCCC">command-line arguments that we need and</font>

448
00:15:40,370 --> 00:15:44,140
it run<font color="#CCCCCC"> upwards in color it looks very</font>

449
00:15:42,350 --> 00:15:46,700
native<font color="#CCCCCC"> it's a little bit large though</font>

450
00:15:44,140 --> 00:15:49,280
207 makes but still nothing<font color="#E5E5E5"> compared</font>

451
00:15:46,700 --> 00:15:53,450
<font color="#E5E5E5">unning like a vagrant</font><font color="#CCCCCC"> 1 2 or kali linux</font>

452
00:15:49,280 --> 00:15:55,160
<font color="#E5E5E5">having to run in a Vienna just use being</font>

453
00:15:53,450 --> 00:15:57,110
it really really interesting with it<font color="#E5E5E5"> so</font>

454
00:15:55,160 --> 00:15:58,490
if you're<font color="#CCCCCC"> doing</font><font color="#E5E5E5"> CT apps or reverse</font>

455
00:15:57,110 --> 00:16:00,740
engineering of hardware<font color="#E5E5E5"> you might come</font>

456
00:15:58,490 --> 00:16:03,200
<font color="#CCCCCC">across some strange CPU architectures</font>

457
00:16:00,740 --> 00:16:04,310
<font color="#E5E5E5">that's</font><font color="#CCCCCC"> unnecessarily strange but very</font>

458
00:16:03,200 --> 00:16:07,130
hard<font color="#E5E5E5"> to work with if you don't</font><font color="#CCCCCC"> have the</font>

459
00:16:04,310 --> 00:16:11,560
right tool in place and for<font color="#E5E5E5"> one of</font><font color="#CCCCCC"> the</font>

460
00:16:07,130 --> 00:16:15,650
think it was<font color="#E5E5E5"> in</font><font color="#CCCCCC"> WR s hak foo</font><font color="#E5E5E5"> there was a</font>

461
00:16:11,560 --> 00:16:17,540
<font color="#E5E5E5">I'll um use a great</font><font color="#CCCCCC"> emulator for running</font>

462
00:16:15,650 --> 00:16:19,100
stuff but it's quite a big beast to

463
00:16:17,540 --> 00:16:20,930
install<font color="#E5E5E5"> this</font><font color="#CCCCCC"> bit</font><font color="#E5E5E5"> of a pain sometimes</font>

464
00:16:19,100 --> 00:16:23,690
stuff doesn't<font color="#CCCCCC"> work to run</font><font color="#E5E5E5"> the binary you</font>

465
00:16:20,930 --> 00:16:26,449
need like a live version of<font color="#E5E5E5"> Debian and</font>

466
00:16:23,690 --> 00:16:28,520
it's<font color="#E5E5E5"> compiling stuff is also just</font><font color="#CCCCCC"> a real</font>

467
00:16:26,450 --> 00:16:30,080
nightmare<font color="#E5E5E5"> so what I was able to do is</font>

468
00:16:28,520 --> 00:16:30,980
<font color="#CCCCCC">just package everything</font><font color="#E5E5E5"> straight into</font>

469
00:16:30,080 --> 00:16:33,290
<font color="#CCCCCC">sucker</font>

470
00:16:30,980 --> 00:16:34,640
so I've<font color="#E5E5E5"> done a lot of hard work</font><font color="#CCCCCC"> all you</font>

471
00:16:33,290 --> 00:16:37,610
have<font color="#E5E5E5"> to do is you just need to pull</font><font color="#CCCCCC"> down</font>

472
00:16:34,640 --> 00:16:39,770
<font color="#CCCCCC">my</font><font color="#E5E5E5"> debian mutt soul</font><font color="#CCCCCC"> image that</font><font color="#E5E5E5"> I've</font>

473
00:16:37,610 --> 00:16:41,270
<font color="#E5E5E5">created yeah we're running again</font>

474
00:16:39,770 --> 00:16:42,470
<font color="#CCCCCC">Interactive</font><font color="#E5E5E5"> pseudo terminal because we</font>

475
00:16:41,270 --> 00:16:46,069
need to<font color="#E5E5E5"> log in this</font><font color="#CCCCCC"> starts up like</font>

476
00:16:42,470 --> 00:16:47,660
actual Debian Linux environment so we're

477
00:16:46,070 --> 00:16:49,340
mounting in our current directory into

478
00:16:47,660 --> 00:16:51,439
<font color="#E5E5E5">for</font><font color="#CCCCCC"> supposed to share</font><font color="#E5E5E5"> into the docker</font>

479
00:16:49,340 --> 00:16:53,840
container<font color="#E5E5E5"> that</font><font color="#CCCCCC"> will start out by default</font>

480
00:16:51,440 --> 00:16:55,550
<font color="#E5E5E5">it starts</font><font color="#CCCCCC"> up with</font><font color="#E5E5E5"> login script login</font>

481
00:16:53,840 --> 00:16:57,590
prompt<font color="#E5E5E5"> so you see that over</font><font color="#CCCCCC"> there you</font>

482
00:16:55,550 --> 00:17:01,550
<font color="#CCCCCC">login as root root and you end up</font><font color="#E5E5E5"> route</font>

483
00:16:57,590 --> 00:17:02,570
at Debian<font color="#E5E5E5"> web</font><font color="#CCCCCC"> so that's not qemu yet but</font>

484
00:17:01,550 --> 00:17:04,819
then you can<font color="#E5E5E5"> make the host directory</font>

485
00:17:02,570 --> 00:17:07,370
share you can mount<font color="#E5E5E5"> it in and then</font><font color="#CCCCCC"> you</font>

486
00:17:04,819 --> 00:17:08,899
<font color="#E5E5E5">can literally so you're in</font><font color="#CCCCCC"> midsole you</font>

487
00:17:07,369 --> 00:17:11,030
<font color="#E5E5E5">mount the share and now you can run</font>

488
00:17:08,900 --> 00:17:13,880
things like file<font color="#E5E5E5"> run this so here we</font>

489
00:17:11,030 --> 00:17:16,879
have a 32-bit<font color="#E5E5E5"> mips binary that we could</font>

490
00:17:13,880 --> 00:17:18,170
run inside docker<font color="#CCCCCC"> by oqm you'd again</font>

491
00:17:16,880 --> 00:17:20,540
this<font color="#E5E5E5"> is all online so you could actually</font>

492
00:17:18,170 --> 00:17:21,740
pipe stuff into it<font color="#CCCCCC"> out of it and you're</font>

493
00:17:20,540 --> 00:17:23,690
<font color="#CCCCCC">not sort of fighting</font><font color="#E5E5E5"> with horrible</font>

494
00:17:21,740 --> 00:17:25,310
<font color="#E5E5E5">pop-up windows that are</font><font color="#CCCCCC"> not interactive</font>

495
00:17:23,690 --> 00:17:27,290
and stuff like this this is all in<font color="#CCCCCC"> your</font>

496
00:17:25,310 --> 00:17:29,480
terminal<font color="#E5E5E5"> or on asus h or something like</font>

497
00:17:27,290 --> 00:17:31,700
<font color="#E5E5E5">that</font><font color="#CCCCCC"> i put a</font><font color="#E5E5E5"> similar one where</font><font color="#CCCCCC"> i pre</font>

498
00:17:29,480 --> 00:17:33,440
<font color="#CCCCCC">bundle</font><font color="#E5E5E5"> whole bunch of tools gdb s trace</font>

499
00:17:31,700 --> 00:17:36,320
so you're up and<font color="#E5E5E5"> running</font>

500
00:17:33,440 --> 00:17:38,750
<font color="#CCCCCC">just at the cost of 750 Meg's to a</font><font color="#E5E5E5"> game</font>

501
00:17:36,320 --> 00:17:39,860
download and one come online<font color="#CCCCCC"> in a</font><font color="#E5E5E5"> few</font>

502
00:17:38,750 --> 00:17:41,570
steps I'm going<font color="#CCCCCC"> to read me you're not</font>

503
00:17:39,860 --> 00:17:44,209
<font color="#CCCCCC">fighting with dependencies</font><font color="#E5E5E5"> and kernel</font>

504
00:17:41,570 --> 00:17:45,679
versions and things<font color="#E5E5E5"> like</font><font color="#CCCCCC"> that so</font><font color="#E5E5E5"> nice</font>

505
00:17:44,210 --> 00:17:47,390
<font color="#E5E5E5">thing about docker is once you figure</font>

506
00:17:45,680 --> 00:17:49,100
out what you<font color="#CCCCCC"> need to do you're able to</font>

507
00:17:47,390 --> 00:17:50,780
kind<font color="#CCCCCC"> of script</font><font color="#E5E5E5"> that bundle that and</font>

508
00:17:49,100 --> 00:17:53,629
and reproduce that<font color="#CCCCCC"> Sinise life a whole</font>

509
00:17:50,780 --> 00:17:57,230
lot easier<font color="#CCCCCC"> that's a very</font><font color="#E5E5E5"> nice thing I</font>

510
00:17:53,630 --> 00:18:00,230
<font color="#E5E5E5">came across some cross for</font><font color="#CCCCCC"> cross</font>

511
00:17:57,230 --> 00:18:02,809
<font color="#CCCCCC">compilation</font><font color="#E5E5E5"> they've got a great</font><font color="#CCCCCC"> git repo</font>

512
00:18:00,230 --> 00:18:05,630
<font color="#CCCCCC">link just now what you do</font><font color="#E5E5E5"> is you run</font>

513
00:18:02,809 --> 00:18:09,110
<font color="#E5E5E5">their</font><font color="#CCCCCC"> dog cross</font><font color="#E5E5E5"> or slash in this case</font>

514
00:18:05,630 --> 00:18:12,169
<font color="#CCCCCC">Linux arm v7 image</font><font color="#E5E5E5"> you output it</font>

515
00:18:09,110 --> 00:18:14,360
<font color="#E5E5E5">remember I said a lot of</font><font color="#CCCCCC"> interaction</font><font color="#E5E5E5"> you</font>

516
00:18:12,169 --> 00:18:15,710
output<font color="#E5E5E5"> that to a script and it's gonna</font>

517
00:18:14,360 --> 00:18:17,870
pull down<font color="#E5E5E5"> their image because we don't</font>

518
00:18:15,710 --> 00:18:20,210
already have it<font color="#CCCCCC"> but what</font><font color="#E5E5E5"> happens is it</font>

519
00:18:17,870 --> 00:18:23,090
puts the script<font color="#E5E5E5"> that script when run</font>

520
00:18:20,210 --> 00:18:24,679
runs<font color="#CCCCCC"> their doctor container and you can</font>

521
00:18:23,090 --> 00:18:27,590
<font color="#CCCCCC">give</font><font color="#E5E5E5"> it come on so what I'm able</font><font color="#CCCCCC"> to do</font>

522
00:18:24,679 --> 00:18:30,260
is I have a hello dot C file locally on

523
00:18:27,590 --> 00:18:31,520
<font color="#E5E5E5">my Mac I've generated their script using</font>

524
00:18:30,260 --> 00:18:33,620
their container it's going to end up

525
00:18:31,520 --> 00:18:37,010
calling<font color="#E5E5E5"> their container and what I'm</font>

526
00:18:33,620 --> 00:18:39,379
<font color="#CCCCCC">doing</font><font color="#E5E5E5"> is I'm</font><font color="#CCCCCC"> using the</font><font color="#E5E5E5"> C++ for the C</font>

527
00:18:37,010 --> 00:18:42,140
compiler<font color="#E5E5E5"> to compile that file up into</font>

528
00:18:39,380 --> 00:18:43,880
hello arm<font color="#E5E5E5"> inside</font><font color="#CCCCCC"> their linings</font><font color="#E5E5E5"> arm</font>

529
00:18:42,140 --> 00:18:46,429
<font color="#E5E5E5">container</font><font color="#CCCCCC"> so I know</font><font color="#E5E5E5"> that's been</font>

530
00:18:43,880 --> 00:18:56,330
confusing<font color="#E5E5E5"> but for two lines of code my</font>

531
00:18:46,429 --> 00:18:58,220
<font color="#E5E5E5">output is what it should be okay so I</font>

532
00:18:56,330 --> 00:18:59,449
run that command<font color="#CCCCCC"> now we're</font><font color="#E5E5E5"> not</font><font color="#CCCCCC"> in the</font>

533
00:18:58,220 --> 00:19:01,700
terminal here where I'm running file

534
00:18:59,450 --> 00:19:04,549
<font color="#E5E5E5">this is back in</font><font color="#CCCCCC"> the host</font><font color="#E5E5E5"> Mac terminal</font>

535
00:19:01,700 --> 00:19:06,650
but I've produced some arm<font color="#E5E5E5"> executable</font>

536
00:19:04,549 --> 00:19:08,210
file and where it's really<font color="#CCCCCC"> really useful</font>

537
00:19:06,650 --> 00:19:10,039
<font color="#CCCCCC">if you're writing exploits and compiling</font>

538
00:19:08,210 --> 00:19:12,049
things<font color="#E5E5E5"> for legitimate</font><font color="#CCCCCC"> purposes of course</font>

539
00:19:10,039 --> 00:19:13,340
these<font color="#E5E5E5"> are all the images that they have</font>

540
00:19:12,049 --> 00:19:15,260
in the outputs<font color="#E5E5E5"> that they support so</font>

541
00:19:13,340 --> 00:19:17,240
you're not fighting<font color="#E5E5E5"> with I guess that's</font>

542
00:19:15,260 --> 00:19:19,480
<font color="#E5E5E5">like sixteen VMs you're not fighting</font>

543
00:19:17,240 --> 00:19:21,320
<font color="#CCCCCC">with different dependencies command</font>

544
00:19:19,480 --> 00:19:23,480
compilation arguments and<font color="#E5E5E5"> things like</font>

545
00:19:21,320 --> 00:19:26,299
<font color="#CCCCCC">that</font><font color="#E5E5E5"> just</font><font color="#CCCCCC"> by using a different image</font>

546
00:19:23,480 --> 00:19:27,620
name to<font color="#E5E5E5"> create these scripts telling the</font>

547
00:19:26,299 --> 00:19:30,020
script how you want to compile a file

548
00:19:27,620 --> 00:19:31,549
you can<font color="#E5E5E5"> produce binaries for nearly</font>

549
00:19:30,020 --> 00:19:35,980
every platform<font color="#CCCCCC"> so that's really really</font>

550
00:19:31,549 --> 00:19:38,840
<font color="#CCCCCC">useful</font><font color="#E5E5E5"> final mix but zero effort</font>

551
00:19:35,980 --> 00:19:42,140
<font color="#E5E5E5">compiling far better than getting</font>

552
00:19:38,840 --> 00:19:43,490
<font color="#E5E5E5">Android studio up and running so let's</font>

553
00:19:42,140 --> 00:19:46,220
look<font color="#E5E5E5"> at something a little more hackery</font>

554
00:19:43,490 --> 00:19:47,870
again and more command-line options<font color="#CCCCCC"> so</font>

555
00:19:46,220 --> 00:19:49,220
we're gonna run<font color="#CCCCCC"> Metasploit and we're</font>

556
00:19:47,870 --> 00:19:50,418
going<font color="#E5E5E5"> to link some containers and</font><font color="#CCCCCC"> passes</font>

557
00:19:49,220 --> 00:19:51,919
<font color="#E5E5E5">and environment variables so we're</font>

558
00:19:50,419 --> 00:19:54,500
extending our use of<font color="#E5E5E5"> docker a little bit</font>

559
00:19:51,919 --> 00:19:56,150
more in this<font color="#CCCCCC"> case we want a Postgres</font>

560
00:19:54,500 --> 00:19:57,350
database for<font color="#CCCCCC"> Metasploit to write its</font>

561
00:19:56,150 --> 00:19:59,990
settings and<font color="#E5E5E5"> cache</font>

562
00:19:57,350 --> 00:20:01,480
payloads and things<font color="#CCCCCC"> to so I did have</font><font color="#E5E5E5"> to</font>

563
00:19:59,990 --> 00:20:03,410
find containers<font color="#E5E5E5"> that would work together</font>

564
00:20:01,480 --> 00:20:04,940
<font color="#CCCCCC">there's possibly</font><font color="#E5E5E5"> an easier</font>

565
00:20:03,410 --> 00:20:07,250
but I<font color="#E5E5E5"> just wanted to</font><font color="#CCCCCC"> illustrate the</font>

566
00:20:04,940 --> 00:20:09,230
principle so what I'm doing here is I'm

567
00:20:07,250 --> 00:20:10,790
<font color="#CCCCCC">running in</font><font color="#E5E5E5"> demon mode</font>

568
00:20:09,230 --> 00:20:13,400
Postgres<font color="#E5E5E5"> which you can see on the far</font>

569
00:20:10,790 --> 00:20:15,020
<font color="#E5E5E5">right and I've just named it MSF for</font>

570
00:20:13,400 --> 00:20:16,490
miss Floyd<font color="#E5E5E5"> Postgres I've set an</font>

571
00:20:15,020 --> 00:20:19,970
environment<font color="#E5E5E5"> variable with</font><font color="#CCCCCC"> minus</font><font color="#E5E5E5"> e</font>

572
00:20:16,490 --> 00:20:21,650
setting the<font color="#E5E5E5"> Postgres user to MSF this in</font>

573
00:20:19,970 --> 00:20:23,360
itself doesn't do anything magic<font color="#E5E5E5"> but the</font>

574
00:20:21,650 --> 00:20:24,920
way this<font color="#E5E5E5"> Postgres image is</font><font color="#CCCCCC"> created it</font>

575
00:20:23,360 --> 00:20:27,379
looks for environment variables<font color="#E5E5E5"> and</font>

576
00:20:24,920 --> 00:20:29,930
overrides its default config<font color="#E5E5E5"> such as the</font>

577
00:20:27,380 --> 00:20:31,820
<font color="#E5E5E5">user name so in this case by setting the</font>

578
00:20:29,930 --> 00:20:33,920
username to<font color="#CCCCCC"> Metasploit</font><font color="#E5E5E5"> the default</font>

579
00:20:31,820 --> 00:20:35,600
<font color="#E5E5E5">password is what</font><font color="#CCCCCC"> Metasploit would try by</font>

580
00:20:33,920 --> 00:20:38,840
default so they'll be<font color="#CCCCCC"> able</font><font color="#E5E5E5"> to just</font>

581
00:20:35,600 --> 00:20:40,310
connect<font color="#E5E5E5"> just</font><font color="#CCCCCC"> by changing user name and I</font>

582
00:20:38,840 --> 00:20:41,540
don't<font color="#E5E5E5"> think I need that</font><font color="#CCCCCC"> minus</font><font color="#E5E5E5"> T there</font>

583
00:20:40,310 --> 00:20:43,520
but we're running<font color="#E5E5E5"> Postgres</font><font color="#CCCCCC"> so that's</font>

584
00:20:41,540 --> 00:20:46,760
<font color="#E5E5E5">going to be</font><font color="#CCCCCC"> 287 Meg's</font><font color="#E5E5E5"> it's</font><font color="#CCCCCC"> going to run</font>

585
00:20:43,520 --> 00:20:48,889
in background then what I'm able<font color="#E5E5E5"> to do</font>

586
00:20:46,760 --> 00:20:51,410
is a multi able to run again an

587
00:20:48,890 --> 00:20:53,450
interactive<font color="#E5E5E5"> pseudo terminal blinking in</font>

588
00:20:51,410 --> 00:20:54,740
<font color="#CCCCCC">the meta me safe</font><font color="#E5E5E5"> Postgres so that's just</font>

589
00:20:53,450 --> 00:20:56,660
<font color="#E5E5E5">a name so doctor knows what I'm</font>

590
00:20:54,740 --> 00:20:58,100
<font color="#CCCCCC">referencing when you run a container</font>

591
00:20:56,660 --> 00:20:59,390
it's going to generate a hash I don't

592
00:20:58,100 --> 00:21:00,770
want to<font color="#E5E5E5"> copy and paste hashes I'm able</font>

593
00:20:59,390 --> 00:21:02,180
to<font color="#E5E5E5"> just</font><font color="#CCCCCC"> use a name</font><font color="#E5E5E5"> that I declare in the</font>

594
00:21:00,770 --> 00:21:04,629
first line I'm able<font color="#E5E5E5"> to reuse in the</font>

595
00:21:02,180 --> 00:21:06,560
second line<font color="#E5E5E5"> but when it's mapped into</font>

596
00:21:04,630 --> 00:21:09,560
<font color="#CCCCCC">Metasploit</font><font color="#E5E5E5"> it's just going to be called</font>

597
00:21:06,560 --> 00:21:12,230
<font color="#E5E5E5">Postgres so it's mapping</font><font color="#CCCCCC"> friendly name</font>

598
00:21:09,560 --> 00:21:15,560
for me to<font color="#CCCCCC"> name and then I'm going to</font>

599
00:21:12,230 --> 00:21:17,570
forward port<font color="#E5E5E5"> 8080 288</font><font color="#CCCCCC"> Metasploit and I'm</font>

600
00:21:15,560 --> 00:21:20,090
mapping my home folder<font color="#CCCCCC"> in</font><font color="#E5E5E5"> because I want</font>

601
00:21:17,570 --> 00:21:22,250
when<font color="#CCCCCC"> Metasploit</font><font color="#E5E5E5"> outputs data from the</font>

602
00:21:20,090 --> 00:21:23,810
routes<font color="#E5E5E5"> Metasploit</font><font color="#CCCCCC"> docker I actually</font>

603
00:21:22,250 --> 00:21:26,510
<font color="#CCCCCC">would</font><font color="#E5E5E5"> come out into my host machine so I</font>

604
00:21:23,810 --> 00:21:27,409
<font color="#CCCCCC">can reuse</font><font color="#E5E5E5"> any output logs hashes things</font>

605
00:21:26,510 --> 00:21:29,450
like that that it might have<font color="#E5E5E5"> come across</font>

606
00:21:27,410 --> 00:21:30,740
<font color="#E5E5E5">and in this case I'm using some guy</font>

607
00:21:29,450 --> 00:21:32,600
called<font color="#E5E5E5"> M</font><font color="#CCCCCC"> Douglass's</font><font color="#E5E5E5"> and</font><font color="#CCCCCC"> Metasploit</font>

608
00:21:30,740 --> 00:21:35,870
container which is<font color="#CCCCCC"> able</font><font color="#E5E5E5"> to connect</font><font color="#CCCCCC"> to</font>

609
00:21:32,600 --> 00:21:37,340
<font color="#E5E5E5">the Postgres one so we're in</font><font color="#CCCCCC"> for called</font>

610
00:21:35,870 --> 00:21:38,840
a three hundred<font color="#E5E5E5"> and seven hundred Meg's</font>

611
00:21:37,340 --> 00:21:39,919
so for one gig you've got<font color="#CCCCCC"> Metasploit</font><font color="#E5E5E5"> up</font>

612
00:21:38,840 --> 00:21:42,409
and running you haven't fought with

613
00:21:39,920 --> 00:21:43,370
<font color="#E5E5E5">installing Ruby gems native compilation</font>

614
00:21:42,410 --> 00:21:45,380
or anything like<font color="#E5E5E5"> that</font>

615
00:21:43,370 --> 00:21:47,719
you've still<font color="#CCCCCC"> got</font><font color="#E5E5E5"> the</font><font color="#CCCCCC"> output to your</font><font color="#E5E5E5"> home</font>

616
00:21:45,380 --> 00:21:49,070
directory<font color="#CCCCCC"> you've got a reusable</font><font color="#E5E5E5"> Postgres</font>

617
00:21:47,720 --> 00:21:50,660
so everything's gonna be cached you're

618
00:21:49,070 --> 00:21:53,000
not<font color="#E5E5E5"> scanning every time and building up</font>

619
00:21:50,660 --> 00:21:54,350
databases and libraries<font color="#CCCCCC"> and you'll be</font>

620
00:21:53,000 --> 00:21:57,700
able to update<font color="#E5E5E5"> this you've got docker</font>

621
00:21:54,350 --> 00:22:00,679
<font color="#CCCCCC">running</font><font color="#E5E5E5"> running really really easily</font><font color="#CCCCCC"> so</font>

622
00:21:57,700 --> 00:22:03,050
<font color="#CCCCCC">again we just</font><font color="#E5E5E5"> principle</font><font color="#CCCCCC"> here's</font><font color="#E5E5E5"> our</font><font color="#CCCCCC"> able</font>

623
00:22:00,680 --> 00:22:04,400
<font color="#CCCCCC">to link in one container</font><font color="#E5E5E5"> to another so</font>

624
00:22:03,050 --> 00:22:07,220
they can all sort of network and know

625
00:22:04,400 --> 00:22:10,580
<font color="#E5E5E5">about each other</font><font color="#CCCCCC"> and environment</font>

626
00:22:07,220 --> 00:22:13,010
variables what<font color="#E5E5E5"> about</font><font color="#CCCCCC"> Connie</font><font color="#E5E5E5"> we looked at</font>

627
00:22:10,580 --> 00:22:15,470
a<font color="#E5E5E5"> few tools everyone knows that Kali is</font>

628
00:22:13,010 --> 00:22:17,090
the operating<font color="#CCCCCC"> system</font><font color="#E5E5E5"> of choice what</font>

629
00:22:15,470 --> 00:22:19,610
<font color="#E5E5E5">about running Carly inside</font>

630
00:22:17,090 --> 00:22:21,649
earlier that<font color="#CCCCCC"> doctor is normally a single</font>

631
00:22:19,610 --> 00:22:23,600
<font color="#CCCCCC">application and its dependencies</font><font color="#E5E5E5"> I'll</font>

632
00:22:21,650 --> 00:22:25,250
use a whole district<font color="#CCCCCC"> Lenox</font><font color="#E5E5E5"> it's quite</font>

633
00:22:23,600 --> 00:22:27,260
<font color="#E5E5E5">common for there to be images like</font>

634
00:22:25,250 --> 00:22:30,140
Ubuntu or Debian<font color="#CCCCCC"> they come with tools</font>

635
00:22:27,260 --> 00:22:32,210
<font color="#E5E5E5">like apt-get</font><font color="#CCCCCC"> EDC folders bin folders so</font>

636
00:22:30,140 --> 00:22:33,380
they<font color="#E5E5E5"> sort of break away from the rule a</font>

637
00:22:32,210 --> 00:22:35,900
<font color="#E5E5E5">little bit there some of this</font><font color="#CCCCCC"> old</font>

638
00:22:33,380 --> 00:22:36,890
operating system platform and the<font color="#CCCCCC"> Kali</font>

639
00:22:35,900 --> 00:22:38,660
guys have done the exact<font color="#E5E5E5"> same thing</font>

640
00:22:36,890 --> 00:22:40,310
<font color="#CCCCCC">there are official</font><font color="#E5E5E5"> images that you can</font>

641
00:22:38,660 --> 00:22:43,090
<font color="#CCCCCC">get from their</font><font color="#E5E5E5"> websites</font><font color="#CCCCCC"> it's up on</font>

642
00:22:40,310 --> 00:22:46,129
<font color="#E5E5E5">docker hub and you can just pull it</font><font color="#CCCCCC"> down</font>

643
00:22:43,090 --> 00:22:48,379
there's docker run<font color="#E5E5E5"> interactive</font><font color="#CCCCCC"> sudo</font>

644
00:22:46,130 --> 00:22:50,540
terminal<font color="#CCCCCC"> Carlos Tucker</font><font color="#E5E5E5"> and the corn that</font>

645
00:22:48,380 --> 00:22:53,750
<font color="#CCCCCC">you want</font><font color="#E5E5E5"> in bash</font><font color="#CCCCCC"> that'll drop you into</font><font color="#E5E5E5"> a</font>

646
00:22:50,540 --> 00:22:56,030
<font color="#CCCCCC">Kali</font><font color="#E5E5E5"> shell there is</font><font color="#CCCCCC"> a problem</font><font color="#E5E5E5"> they're</font>

647
00:22:53,750 --> 00:22:57,770
<font color="#E5E5E5">not shipping the live DVD that you might</font>

648
00:22:56,030 --> 00:22:59,840
run or install it's not sort<font color="#CCCCCC"> of eight</font>

649
00:22:57,770 --> 00:23:02,360
gigs of Kali Linux with all the tools

650
00:22:59,840 --> 00:23:04,310
installed<font color="#E5E5E5"> it's just the</font><font color="#CCCCCC"> bare-bones</font><font color="#E5E5E5"> apt</font>

651
00:23:02,360 --> 00:23:06,320
<font color="#E5E5E5">the repositories are there the tools are</font>

652
00:23:04,310 --> 00:23:07,760
there<font color="#E5E5E5"> the folder parts are the same so</font>

653
00:23:06,320 --> 00:23:10,370
it's<font color="#E5E5E5"> everything you're used to you just</font>

654
00:23:07,760 --> 00:23:11,720
have<font color="#E5E5E5"> to install the tools itself so what</font>

655
00:23:10,370 --> 00:23:12,860
<font color="#E5E5E5">you don't want to do is you</font><font color="#CCCCCC"> don't</font><font color="#E5E5E5"> want</font>

656
00:23:11,720 --> 00:23:14,450
to<font color="#CCCCCC"> doctor run Kali</font>

657
00:23:12,860 --> 00:23:15,740
<font color="#E5E5E5">pull it down</font><font color="#CCCCCC"> to your machine and rush</font>

658
00:23:14,450 --> 00:23:17,660
will to<font color="#E5E5E5"> engagement where you have no</font>

659
00:23:15,740 --> 00:23:20,450
internet access<font color="#CCCCCC"> you won't be able</font><font color="#E5E5E5"> to use</font>

660
00:23:17,660 --> 00:23:22,310
<font color="#E5E5E5">that image as it is but by all means</font><font color="#CCCCCC"> set</font>

661
00:23:20,450 --> 00:23:23,810
it up configure it you're<font color="#CCCCCC"> able to save</font>

662
00:23:22,310 --> 00:23:24,260
the changes<font color="#E5E5E5"> that you've made</font><font color="#CCCCCC"> make it</font>

663
00:23:23,810 --> 00:23:25,879
your own

664
00:23:24,260 --> 00:23:28,160
pull down<font color="#E5E5E5"> what you want use your own</font>

665
00:23:25,880 --> 00:23:29,600
version<font color="#E5E5E5"> of it but rather than</font><font color="#CCCCCC"> just</font>

666
00:23:28,160 --> 00:23:32,840
making manual changes<font color="#E5E5E5"> we can actually</font>

667
00:23:29,600 --> 00:23:34,310
script those changes<font color="#E5E5E5"> so</font><font color="#CCCCCC"> the way docker</font>

668
00:23:32,840 --> 00:23:35,959
images are traditionally built<font color="#E5E5E5"> this with</font>

669
00:23:34,310 --> 00:23:37,760
<font color="#E5E5E5">something called a docker file</font><font color="#CCCCCC"> this</font><font color="#E5E5E5"> is</font>

670
00:23:35,960 --> 00:23:39,650
like an old recipe for them and there's

671
00:23:37,760 --> 00:23:40,940
several lines that go into<font color="#E5E5E5"> it</font><font color="#CCCCCC"> so we're</font>

672
00:23:39,650 --> 00:23:43,940
gonna<font color="#E5E5E5"> make a custom</font><font color="#CCCCCC"> version of</font><font color="#E5E5E5"> Kali</font>

673
00:23:40,940 --> 00:23:46,370
<font color="#E5E5E5">Linux for our use in the docker file</font><font color="#CCCCCC"> we</font>

674
00:23:43,940 --> 00:23:48,080
specify where we want<font color="#CCCCCC"> to start what we</font>

675
00:23:46,370 --> 00:23:49,459
want to build<font color="#E5E5E5"> from in this case we're</font>

676
00:23:48,080 --> 00:23:51,290
using their official image it's got

677
00:23:49,460 --> 00:23:54,050
everything<font color="#CCCCCC"> that we want</font><font color="#E5E5E5"> in order to</font>

678
00:23:51,290 --> 00:23:56,180
<font color="#E5E5E5">install our packages now there's quite a</font>

679
00:23:54,050 --> 00:23:57,680
<font color="#CCCCCC">few</font><font color="#E5E5E5"> options</font><font color="#CCCCCC"> for</font><font color="#E5E5E5"> that first line of the</font>

680
00:23:56,180 --> 00:23:59,120
docker file they've got something<font color="#E5E5E5"> called</font>

681
00:23:57,680 --> 00:24:01,010
scratch that you can reference which is

682
00:23:59,120 --> 00:24:03,439
<font color="#E5E5E5">literally empty it's like no it's</font><font color="#CCCCCC"> a boy</font>

683
00:24:01,010 --> 00:24:04,670
<font color="#CCCCCC">zero megabytes</font><font color="#E5E5E5"> nothing that's great if</font>

684
00:24:03,440 --> 00:24:06,350
you have a binary that<font color="#E5E5E5"> you want to run</font>

685
00:24:04,670 --> 00:24:07,850
on<font color="#CCCCCC"> its own</font><font color="#E5E5E5"> an example might be something</font>

686
00:24:06,350 --> 00:24:09,830
like busybox<font color="#CCCCCC"> it might be something that</font>

687
00:24:07,850 --> 00:24:11,570
your<font color="#E5E5E5"> company's produced they don't need</font>

688
00:24:09,830 --> 00:24:13,610
<font color="#E5E5E5">a whole Linux subsystem perhaps to run</font>

689
00:24:11,570 --> 00:24:15,110
your single standalone binary so you can

690
00:24:13,610 --> 00:24:17,000
just map your binary<font color="#E5E5E5"> in and there's no</font>

691
00:24:15,110 --> 00:24:19,070
underlying<font color="#CCCCCC"> layer</font><font color="#E5E5E5"> pedals</font><font color="#CCCCCC"> docker size</font>

692
00:24:17,000 --> 00:24:20,620
should<font color="#CCCCCC"> be always the same as your</font><font color="#E5E5E5"> actual</font>

693
00:24:19,070 --> 00:24:23,000
binary<font color="#E5E5E5"> that you've pushed in it I</font>

694
00:24:20,620 --> 00:24:24,290
mentioned busybox<font color="#E5E5E5"> that's a valid layer</font>

695
00:24:23,000 --> 00:24:25,690
that you can pull down<font color="#E5E5E5"> if you need some</font>

696
00:24:24,290 --> 00:24:28,550
command line tools

697
00:24:25,690 --> 00:24:30,230
1.30 Meg's<font color="#CCCCCC"> so that's really handy to</font>

698
00:24:28,550 --> 00:24:30,740
build on<font color="#E5E5E5"> top of if you need to do a few</font>

699
00:24:30,230 --> 00:24:32,350
<font color="#CCCCCC">things</font><font color="#E5E5E5"> by</font>

700
00:24:30,740 --> 00:24:34,970
<font color="#CCCCCC">detailing gripping</font><font color="#E5E5E5"> things like that</font>

701
00:24:32,350 --> 00:24:37,520
which is<font color="#CCCCCC"> very popular</font><font color="#E5E5E5"> but it comes in</font>

702
00:24:34,970 --> 00:24:39,380
<font color="#E5E5E5">122 Meg's it's also very bare-bones</font>

703
00:24:37,520 --> 00:24:40,760
you've got the CLI tools you were apt

704
00:24:39,380 --> 00:24:41,900
but it really doesn't<font color="#E5E5E5"> do much</font><font color="#CCCCCC"> and</font><font color="#E5E5E5"> you</font>

705
00:24:40,760 --> 00:24:43,580
<font color="#E5E5E5">gonna start pulling in a whole lot of</font>

706
00:24:41,900 --> 00:24:46,010
<font color="#E5E5E5">packages and dependencies as soon as you</font>

707
00:24:43,580 --> 00:24:50,300
start<font color="#CCCCCC"> holding on top of it</font><font color="#E5E5E5"> and then you</font>

708
00:24:46,010 --> 00:24:53,780
<font color="#E5E5E5">have</font><font color="#CCCCCC"> Alpine Linux</font><font color="#E5E5E5"> by comparison in Sony</font>

709
00:24:50,300 --> 00:24:56,990
for<font color="#CCCCCC"> mix it is almost like the open wrt</font>

710
00:24:53,780 --> 00:24:58,340
<font color="#E5E5E5">of</font><font color="#CCCCCC"> linux for desktop computers not</font>

711
00:24:56,990 --> 00:25:00,140
necessarily<font color="#E5E5E5"> saying you should use it as</font>

712
00:24:58,340 --> 00:25:01,970
a<font color="#E5E5E5"> desktop OS but it's amazing for docker</font>

713
00:25:00,140 --> 00:25:03,770
<font color="#E5E5E5">a lot of the official images</font><font color="#CCCCCC"> have now</font>

714
00:25:01,970 --> 00:25:05,929
started<font color="#CCCCCC"> switching over to</font><font color="#E5E5E5"> alpine the</font>

715
00:25:03,770 --> 00:25:07,370
images are a lot<font color="#E5E5E5"> smaller for all the</font>

716
00:25:05,929 --> 00:25:09,620
same functionality there's a<font color="#E5E5E5"> packet</font>

717
00:25:07,370 --> 00:25:12,559
manager in all<font color="#CCCCCC"> your libraries</font><font color="#E5E5E5"> pile stuff</font>

718
00:25:09,620 --> 00:25:14,419
<font color="#E5E5E5">so if you're not sure which container to</font>

719
00:25:12,559 --> 00:25:16,309
you which base layer to use I<font color="#E5E5E5"> would</font>

720
00:25:14,420 --> 00:25:18,950
definitely suggest giving<font color="#E5E5E5"> Alpine a try</font>

721
00:25:16,309 --> 00:25:22,190
it's got<font color="#CCCCCC"> an APK instead of apt</font><font color="#E5E5E5"> but all</font>

722
00:25:18,950 --> 00:25:23,960
the same functionality<font color="#E5E5E5"> again layers are</font>

723
00:25:22,190 --> 00:25:26,300
shared so if you're already building<font color="#CCCCCC"> a</font>

724
00:25:23,960 --> 00:25:27,200
<font color="#CCCCCC">whole</font><font color="#E5E5E5"> up stuff of too should be fine but</font>

725
00:25:26,300 --> 00:25:29,419
if you're<font color="#CCCCCC"> putting something out in</font><font color="#E5E5E5"> the</font>

726
00:25:27,200 --> 00:25:30,980
public<font color="#E5E5E5"> domain if everyone else is</font><font color="#CCCCCC"> using</font>

727
00:25:29,420 --> 00:25:33,170
<font color="#E5E5E5">Alpine do you want to be the guy that</font>

728
00:25:30,980 --> 00:25:34,370
forces your user to download 122 Meg's

729
00:25:33,170 --> 00:25:35,780
that he doesn't have cuz you're<font color="#CCCCCC"> the only</font>

730
00:25:34,370 --> 00:25:38,899
guy using Ubuntu instead<font color="#CCCCCC"> of all planes</font>

731
00:25:35,780 --> 00:25:41,780
so please consider using<font color="#CCCCCC"> that</font><font color="#E5E5E5"> one back</font>

732
00:25:38,900 --> 00:25:43,550
to<font color="#E5E5E5"> building our custom</font><font color="#CCCCCC"> we've specified</font>

733
00:25:41,780 --> 00:25:45,850
<font color="#CCCCCC">where we want to</font><font color="#E5E5E5"> start this will give us</font>

734
00:25:43,550 --> 00:25:48,350
<font color="#CCCCCC">our base layer to</font><font color="#E5E5E5"> build on top</font><font color="#CCCCCC"> of</font>

735
00:25:45,850 --> 00:25:49,820
maintainer<font color="#E5E5E5"> pretty much just</font><font color="#CCCCCC"> let people</font>

736
00:25:48,350 --> 00:25:52,428
know who made<font color="#CCCCCC"> it and how</font><font color="#E5E5E5"> you get hold of</font>

737
00:25:49,820 --> 00:25:54,169
you<font color="#E5E5E5"> then you're able to</font><font color="#CCCCCC"> issue commands</font>

738
00:25:52,429 --> 00:25:55,580
that it must run so as doctors doing

739
00:25:54,170 --> 00:25:57,860
<font color="#E5E5E5">this as much</font><font color="#CCCCCC"> like a batch file or a</font>

740
00:25:55,580 --> 00:25:59,928
batch script<font color="#E5E5E5"> we're gonna update apt</font>

741
00:25:57,860 --> 00:26:01,159
<font color="#E5E5E5">we're going to do a dist upgrade before</font>

742
00:25:59,929 --> 00:26:03,260
<font color="#CCCCCC">we do anything so we're gonna make sure</font>

743
00:26:01,160 --> 00:26:05,300
<font color="#CCCCCC">I</font><font color="#E5E5E5"> Kali Linux rolling is as up-to-date as</font>

744
00:26:03,260 --> 00:26:06,710
it can be and then in this<font color="#E5E5E5"> case we're</font>

745
00:26:05,300 --> 00:26:08,629
gonna<font color="#E5E5E5"> install</font><font color="#CCCCCC"> Metasploit framework in</font>

746
00:26:06,710 --> 00:26:10,100
map and word<font color="#E5E5E5"> lists</font><font color="#CCCCCC"> for bossman crackers</font>

747
00:26:08,630 --> 00:26:13,610
<font color="#E5E5E5">which you can get a few basic tools in</font>

748
00:26:10,100 --> 00:26:16,969
there<font color="#CCCCCC"> and when you run it drop us into</font>

749
00:26:13,610 --> 00:26:19,909
bash so that we can choose which to make

750
00:26:16,970 --> 00:26:21,500
use of<font color="#E5E5E5"> that docker file just say</font><font color="#CCCCCC"> dr.</font>

751
00:26:19,910 --> 00:26:22,370
<font color="#E5E5E5">bolt and you point to the directory the</font>

752
00:26:21,500 --> 00:26:24,500
file is in it

753
00:26:22,370 --> 00:26:25,909
so in this case it's pulling an image as

754
00:26:24,500 --> 00:26:27,920
I said images will<font color="#E5E5E5"> be reused if it's</font>

755
00:26:25,910 --> 00:26:31,550
already present<font color="#CCCCCC"> you can see that the</font>

756
00:26:27,920 --> 00:26:33,080
step<font color="#CCCCCC"> 2 of 5 is using a cache</font><font color="#E5E5E5"> so if you</font>

757
00:26:31,550 --> 00:26:34,309
make<font color="#CCCCCC"> changes to this docker file at the</font>

758
00:26:33,080 --> 00:26:35,960
end<font color="#E5E5E5"> let's say you add a new line at</font>

759
00:26:34,309 --> 00:26:37,399
bottom of<font color="#E5E5E5"> the</font><font color="#CCCCCC"> docker</font><font color="#E5E5E5"> file it doesn't</font>

760
00:26:35,960 --> 00:26:40,100
always have to<font color="#E5E5E5"> do the whole</font><font color="#CCCCCC"> process</font>

761
00:26:37,400 --> 00:26:42,169
again<font color="#E5E5E5"> you can save a lot of time a lot</font>

762
00:26:40,100 --> 00:26:44,029
<font color="#CCCCCC">of upgrading reusing of scripts without</font>

763
00:26:42,169 --> 00:26:45,979
<font color="#E5E5E5">pulling down new packages and layers</font>

764
00:26:44,029 --> 00:26:47,779
if you do things correctly<font color="#CCCCCC"> not gonna get</font>

765
00:26:45,979 --> 00:26:49,789
<font color="#E5E5E5">into it now but it's worth knowing that</font>

766
00:26:47,779 --> 00:26:51,580
layers are cached<font color="#E5E5E5"> and its various ways</font>

767
00:26:49,789 --> 00:26:55,129
you<font color="#E5E5E5"> can do to</font><font color="#CCCCCC"> cache</font><font color="#E5E5E5"> or not cache things</font>

768
00:26:51,580 --> 00:26:56,689
<font color="#CCCCCC">we've got a local Kali</font><font color="#E5E5E5"> Linux repo if you</font>

769
00:26:55,129 --> 00:26:57,349
didn't know so that's really really

770
00:26:56,690 --> 00:27:02,210
<font color="#CCCCCC">awesome</font>

771
00:26:57,349 --> 00:27:03,259
once our docker container finishes<font color="#CCCCCC"> you</font>

772
00:27:02,210 --> 00:27:04,369
can see the commands<font color="#E5E5E5"> that it's running</font>

773
00:27:03,259 --> 00:27:06,830
<font color="#E5E5E5">as it goes through the various steps</font>

774
00:27:04,369 --> 00:27:09,769
<font color="#E5E5E5">right at the end we read step</font><font color="#CCCCCC"> 5 out of 5</font>

775
00:27:06,830 --> 00:27:11,749
and<font color="#E5E5E5"> successfully built</font><font color="#CCCCCC"> f5 ee d there</font><font color="#E5E5E5"> are</font>

776
00:27:09,769 --> 00:27:13,519
ways to tag it at the time<font color="#E5E5E5"> of compiling</font>

777
00:27:11,749 --> 00:27:15,320
but we're gonna just tie it<font color="#E5E5E5"> off</font><font color="#CCCCCC"> to it so</font>

778
00:27:13,519 --> 00:27:18,830
we take the hash that<font color="#CCCCCC"> was produced</font>

779
00:27:15,320 --> 00:27:21,889
<font color="#E5E5E5">that's an image tag it under</font><font color="#CCCCCC"> iCarly</font><font color="#E5E5E5"> is</font>

780
00:27:18,830 --> 00:27:23,228
the name<font color="#E5E5E5"> for it</font><font color="#CCCCCC"> and we can then run my</font>

781
00:27:21,889 --> 00:27:25,488
<font color="#CCCCCC">card</font>

782
00:27:23,229 --> 00:27:27,169
so we<font color="#E5E5E5"> can list it those the images</font><font color="#CCCCCC"> I've</font>

783
00:27:25,489 --> 00:27:28,940
pulled<font color="#E5E5E5"> down so we've ended up at 3 in</font>

784
00:27:27,169 --> 00:27:30,619
<font color="#CCCCCC">the heart</font><font color="#E5E5E5"> wall 3.1 gigs</font>

785
00:27:28,940 --> 00:27:32,899
after doing<font color="#E5E5E5"> app gets and things like</font>

786
00:27:30,619 --> 00:27:35,089
<font color="#E5E5E5">that's these we just do inflate quite</font>

787
00:27:32,899 --> 00:27:37,099
quickly<font color="#CCCCCC"> you can see the nice name on the</font>

788
00:27:35,089 --> 00:27:38,269
left and<font color="#CCCCCC"> slash the</font><font color="#E5E5E5"> repository</font><font color="#CCCCCC"> of it and</font>

789
00:27:37,099 --> 00:27:40,968
you see the<font color="#CCCCCC"> image idea we can you</font>

790
00:27:38,269 --> 00:27:42,499
reference<font color="#E5E5E5"> either to start it but we're</font>

791
00:27:40,969 --> 00:27:45,440
just<font color="#E5E5E5"> gonna run interactively</font><font color="#CCCCCC"> by name</font>

792
00:27:42,499 --> 00:27:49,159
<font color="#E5E5E5">we're now</font><font color="#CCCCCC"> route at DBF so that's the</font>

793
00:27:45,440 --> 00:27:51,289
<font color="#E5E5E5">container ID and we can</font><font color="#CCCCCC"> then run in both</font>

794
00:27:49,159 --> 00:27:52,940
<font color="#E5E5E5">our own calling container that image is</font>

795
00:27:51,289 --> 00:27:55,580
now<font color="#E5E5E5"> snapshot it so we can start it up</font>

796
00:27:52,940 --> 00:27:58,159
whenever<font color="#E5E5E5"> we want and start new instances</font>

797
00:27:55,580 --> 00:27:59,149
from<font color="#E5E5E5"> it just to</font><font color="#CCCCCC"> mention very</font><font color="#E5E5E5"> quickly</font><font color="#CCCCCC"> I</font>

798
00:27:58,159 --> 00:28:01,369
said earlier there are<font color="#E5E5E5"> different</font>

799
00:27:59,149 --> 00:28:02,988
networking<font color="#CCCCCC"> options so you</font><font color="#E5E5E5"> can</font><font color="#CCCCCC"> run</font>

800
00:28:01,369 --> 00:28:04,939
doctrine into<font color="#CCCCCC"> this</font><font color="#E5E5E5"> and it will print out</font>

801
00:28:02,989 --> 00:28:06,820
stuff<font color="#E5E5E5"> doctor adds functionality what you</font>

802
00:28:04,940 --> 00:28:08,779
want to know<font color="#E5E5E5"> what your</font><font color="#CCCCCC"> host</font><font color="#E5E5E5"> supports</font>

803
00:28:06,820 --> 00:28:10,899
that should tell you the options that

804
00:28:08,779 --> 00:28:14,929
<font color="#E5E5E5">are available</font><font color="#CCCCCC"> bridge</font><font color="#E5E5E5"> none and hosts</font>

805
00:28:10,899 --> 00:28:17,418
<font color="#E5E5E5">isolate in network in TCP</font><font color="#CCCCCC"> every bridge</font>

806
00:28:14,929 --> 00:28:18,799
is used<font color="#E5E5E5"> by</font><font color="#CCCCCC"> default</font><font color="#E5E5E5"> so your docker</font>

807
00:28:17,419 --> 00:28:20,450
containers can speak to each<font color="#E5E5E5"> other but</font>

808
00:28:18,799 --> 00:28:26,029
<font color="#E5E5E5">you do need to expose ports one other</font>

809
00:28:20,450 --> 00:28:27,830
<font color="#E5E5E5">people on or on the</font><font color="#CCCCCC"> net</font><font color="#E5E5E5"> then</font><font color="#CCCCCC"> dr. Network</font>

810
00:28:26,029 --> 00:28:29,269
inspects is quite useful that'll dump a

811
00:28:27,830 --> 00:28:30,769
whole<font color="#E5E5E5"> lot of networking</font><font color="#CCCCCC"> information as</font>

812
00:28:29,269 --> 00:28:32,839
well about<font color="#E5E5E5"> a container and you current</font>

813
00:28:30,769 --> 00:28:35,089
<font color="#CCCCCC">setup</font><font color="#E5E5E5"> and things like that but this is</font>

814
00:28:32,839 --> 00:28:37,519
probably<font color="#CCCCCC"> not too relevant</font><font color="#E5E5E5"> you're</font>

815
00:28:35,089 --> 00:28:40,369
starting a docker container you can<font color="#E5E5E5"> - -</font>

816
00:28:37,519 --> 00:28:43,159
near<font color="#CCCCCC"> -</font><font color="#E5E5E5"> host this is more risky because</font>

817
00:28:40,369 --> 00:28:45,019
<font color="#E5E5E5">it allows</font><font color="#CCCCCC"> its using</font><font color="#E5E5E5"> your</font><font color="#CCCCCC"> host</font><font color="#E5E5E5"> network</font>

818
00:28:43,159 --> 00:28:45,830
inside docker<font color="#E5E5E5"> so if someone compromises</font>

819
00:28:45,019 --> 00:28:48,710
<font color="#E5E5E5">your running container</font>

820
00:28:45,830 --> 00:28:50,089
<font color="#E5E5E5">opens up a reverse</font><font color="#CCCCCC"> shell that hosts</font><font color="#E5E5E5"> that</font>

821
00:28:48,710 --> 00:28:51,529
<font color="#E5E5E5">TCP port becomes opens that's</font>

822
00:28:50,089 --> 00:28:53,539
<font color="#E5E5E5">internet-facing</font><font color="#CCCCCC"> the</font><font color="#E5E5E5"> network</font><font color="#CCCCCC"> bracing that</font>

823
00:28:51,529 --> 00:28:55,879
container<font color="#E5E5E5"> is now internet on</font><font color="#CCCCCC"> interfacing</font>

824
00:28:53,539 --> 00:28:57,410
so use<font color="#CCCCCC"> that with caution</font><font color="#E5E5E5"> and previously</font>

825
00:28:55,879 --> 00:28:59,570
<font color="#E5E5E5">there was</font><font color="#CCCCCC"> a bug when running in</font><font color="#E5E5E5"> this</font>

826
00:28:57,410 --> 00:29:01,250
mode<font color="#E5E5E5"> if you</font><font color="#CCCCCC"> try to reboot or shut down</font>

827
00:28:59,570 --> 00:29:02,629
<font color="#E5E5E5">the container</font><font color="#CCCCCC"> that</font><font color="#E5E5E5"> message actually</font>

828
00:29:01,250 --> 00:29:05,450
leaked out<font color="#CCCCCC"> and the host bill</font><font color="#E5E5E5"> shut down</font>

829
00:29:02,630 --> 00:29:07,790
as well<font color="#CCCCCC"> so</font><font color="#E5E5E5"> there's some magic privileged</font>

830
00:29:05,450 --> 00:29:09,940
<font color="#E5E5E5">sort of connectivity happening there</font>

831
00:29:07,790 --> 00:29:14,240
don't use it unless you know<font color="#CCCCCC"> what</font><font color="#E5E5E5"> it is</font>

832
00:29:09,940 --> 00:29:16,460
<font color="#CCCCCC">so that's</font><font color="#E5E5E5"> quite cool but what about GUI</font>

833
00:29:14,240 --> 00:29:17,870
applications<font color="#E5E5E5"> something like</font><font color="#CCCCCC"> burp suite</font>

834
00:29:16,460 --> 00:29:19,850
<font color="#CCCCCC">what if we want to intercept traffic</font>

835
00:29:17,870 --> 00:29:22,340
it's<font color="#CCCCCC"> darker</font><font color="#E5E5E5"> surely that's not doable</font><font color="#CCCCCC"> we</font>

836
00:29:19,850 --> 00:29:25,520
<font color="#E5E5E5">spoke</font><font color="#CCCCCC"> about come online so much oh we've</font>

837
00:29:22,340 --> 00:29:27,530
<font color="#CCCCCC">got a few things we can do XE</font><font color="#E5E5E5"> 11 B and C</font>

838
00:29:25,520 --> 00:29:31,100
which is a VNC server provides a fake

839
00:29:27,530 --> 00:29:32,810
x11 display we could use<font color="#E5E5E5"> Firefox for</font>

840
00:29:31,100 --> 00:29:35,959
browsing<font color="#E5E5E5"> and setting and proxies such as</font>

841
00:29:32,810 --> 00:29:38,419
web<font color="#E5E5E5"> suite</font><font color="#CCCCCC"> web</font><font color="#E5E5E5"> suite stamp that we want</font>

842
00:29:35,960 --> 00:29:41,620
<font color="#CCCCCC">to run and this</font><font color="#E5E5E5"> sunny pool called</font>

843
00:29:38,420 --> 00:29:44,000
nervion<font color="#E5E5E5"> C which is an html5</font><font color="#CCCCCC"> BNC client</font>

844
00:29:41,620 --> 00:29:45,830
in<font color="#E5E5E5"> bundle</font><font color="#CCCCCC"> it all together and create a</font>

845
00:29:44,000 --> 00:29:48,050
container<font color="#E5E5E5"> which actually listens on a</font>

846
00:29:45,830 --> 00:29:51,080
web port provides<font color="#E5E5E5"> a web</font><font color="#CCCCCC"> B&C that</font>

847
00:29:48,050 --> 00:29:53,540
connects to a VNC server<font color="#E5E5E5"> that then has</font>

848
00:29:51,080 --> 00:29:55,610
x11<font color="#E5E5E5"> and runs firefox and burp suite</font><font color="#CCCCCC"> or</font>

849
00:29:53,540 --> 00:29:58,210
you can just<font color="#E5E5E5"> go and pull this container</font>

850
00:29:55,610 --> 00:30:00,919
down that does everything<font color="#E5E5E5"> for you and</font>

851
00:29:58,210 --> 00:30:03,530
<font color="#E5E5E5">you connect</font><font color="#CCCCCC"> your</font><font color="#E5E5E5"> local host on port 80</font>

852
00:30:00,920 --> 00:30:05,540
<font color="#E5E5E5">it starts you see a window</font><font color="#CCCCCC"> manager Linux</font>

853
00:30:03,530 --> 00:30:07,280
<font color="#CCCCCC">environment and here I've been firefox</font>

854
00:30:05,540 --> 00:30:09,170
open<font color="#CCCCCC"> in the background whoopsie perhaps</font>

855
00:30:07,280 --> 00:30:10,520
we confront this is all happening inside

856
00:30:09,170 --> 00:30:12,080
docker there's no evidence<font color="#E5E5E5"> of this on my</font>

857
00:30:10,520 --> 00:30:13,550
machine<font color="#CCCCCC"> when I'm done I can delete this</font>

858
00:30:12,080 --> 00:30:15,199
file and<font color="#E5E5E5"> all that goes away</font><font color="#CCCCCC"> I haven't</font>

859
00:30:13,550 --> 00:30:17,659
<font color="#CCCCCC">had to install burp suite Java</font><font color="#E5E5E5"> things</font>

860
00:30:15,200 --> 00:30:19,580
like that<font color="#E5E5E5"> all</font><font color="#CCCCCC"> containers and I haven't</font>

861
00:30:17,660 --> 00:30:21,410
<font color="#E5E5E5">given access to my actual hosts display</font>

862
00:30:19,580 --> 00:30:24,169
or anything crazy<font color="#E5E5E5"> like that that's</font>

863
00:30:21,410 --> 00:30:25,580
really<font color="#E5E5E5"> useful that's just a really quick</font>

864
00:30:24,170 --> 00:30:27,050
flight through of using docker<font color="#E5E5E5"> the</font>

865
00:30:25,580 --> 00:30:29,600
things that you can do come online<font color="#CCCCCC"> GUI</font>

866
00:30:27,050 --> 00:30:31,280
building images<font color="#CCCCCC"> but we need to talk</font>

867
00:30:29,600 --> 00:30:34,159
<font color="#CCCCCC">about attacking docker because this is a</font>

868
00:30:31,280 --> 00:30:35,420
hacker conference this might not<font color="#CCCCCC"> be too</font>

869
00:30:34,160 --> 00:30:37,820
<font color="#E5E5E5">relevant but I did find this information</font>

870
00:30:35,420 --> 00:30:40,850
<font color="#CCCCCC">really interesting if you get a docker</font>

871
00:30:37,820 --> 00:30:42,649
container or you<font color="#E5E5E5"> run a docker image</font><font color="#CCCCCC"> you</font>

872
00:30:40,850 --> 00:30:45,169
don't<font color="#E5E5E5"> necessarily have shell</font><font color="#CCCCCC"> access or</font>

873
00:30:42,650 --> 00:30:47,030
root access<font color="#E5E5E5"> so if we take</font><font color="#CCCCCC"> that Nick top</font>

874
00:30:45,170 --> 00:30:48,380
<font color="#E5E5E5">image that we ran earlier and we tell</font>

875
00:30:47,030 --> 00:30:50,389
them<font color="#E5E5E5"> we want</font><font color="#CCCCCC"> to run shell rather than</font>

876
00:30:48,380 --> 00:30:52,010
pass and<font color="#E5E5E5"> command-line options we get an</font>

877
00:30:50,390 --> 00:30:53,300
error we see<font color="#CCCCCC"> nikto</font><font color="#E5E5E5"> has started and it's</font>

878
00:30:52,010 --> 00:30:54,920
given us an error<font color="#CCCCCC"> that no host was</font>

879
00:30:53,300 --> 00:30:57,590
specified<font color="#CCCCCC"> but</font><font color="#E5E5E5"> we didn't want to run</font>

880
00:30:54,920 --> 00:30:58,970
<font color="#CCCCCC">nikto we wanted</font><font color="#E5E5E5"> to run shell the reason</font>

881
00:30:57,590 --> 00:31:01,909
<font color="#E5E5E5">for that in this case we put</font><font color="#CCCCCC"> a docker</font>

882
00:30:58,970 --> 00:31:03,680
file we can look at is<font color="#CCCCCC"> that along with</font>

883
00:31:01,910 --> 00:31:05,960
the front line in<font color="#E5E5E5"> the maintainer they've</font>

884
00:31:03,680 --> 00:31:07,700
specified an entry point<font color="#CCCCCC"> so that's</font><font color="#E5E5E5"> what</font>

885
00:31:05,960 --> 00:31:09,380
happens when this container starts<font color="#E5E5E5"> it's</font>

886
00:31:07,700 --> 00:31:11,340
going to run this entry<font color="#CCCCCC"> point and the</font>

887
00:31:09,380 --> 00:31:14,519
command by default will<font color="#CCCCCC"> be</font><font color="#E5E5E5"> - age</font>

888
00:31:11,340 --> 00:31:17,129
<font color="#CCCCCC">for igniculus</font><font color="#E5E5E5"> help what we've done is</font>

889
00:31:14,519 --> 00:31:20,070
we've<font color="#E5E5E5"> only overridden</font><font color="#CCCCCC"> a</font><font color="#E5E5E5"> - age so our s</font>

890
00:31:17,129 --> 00:31:22,860
age<font color="#E5E5E5"> could</font><font color="#CCCCCC"> passed</font><font color="#E5E5E5"> to the entry point</font><font color="#CCCCCC"> but</font>

891
00:31:20,070 --> 00:31:24,840
confusing<font color="#E5E5E5"> and people are sort of debated</font>

892
00:31:22,860 --> 00:31:26,039
which should come first<font color="#CCCCCC"> but</font><font color="#E5E5E5"> it's</font><font color="#CCCCCC"> just</font>

893
00:31:24,840 --> 00:31:27,689
worth knowing that<font color="#E5E5E5"> you'd kind of two</font>

894
00:31:26,039 --> 00:31:30,029
layers<font color="#E5E5E5"> of execution the</font><font color="#CCCCCC"> entry point in</font>

895
00:31:27,690 --> 00:31:32,309
the command<font color="#E5E5E5"> luckily all that we need to</font>

896
00:31:30,029 --> 00:31:34,940
do is we're up to specify a different

897
00:31:32,309 --> 00:31:37,678
<font color="#E5E5E5">entry point in this case changing</font><font color="#CCCCCC"> into</font>

898
00:31:34,940 --> 00:31:40,470
<font color="#E5E5E5">sh-sh at the end and in this case we get</font>

899
00:31:37,679 --> 00:31:42,870
dropped<font color="#E5E5E5"> to</font><font color="#CCCCCC"> a command</font><font color="#E5E5E5"> line so we've got</font>

900
00:31:40,470 --> 00:31:44,340
bash inside that container<font color="#E5E5E5"> but</font><font color="#CCCCCC"> if we do</font>

901
00:31:42,870 --> 00:31:45,928
<font color="#CCCCCC">have who am</font><font color="#E5E5E5"> I</font><font color="#CCCCCC"> we're user</font>

902
00:31:44,340 --> 00:31:48,658
we're<font color="#E5E5E5"> not root</font><font color="#CCCCCC"> in the previous case</font><font color="#E5E5E5"> we</font>

903
00:31:45,929 --> 00:31:50,159
saw<font color="#E5E5E5"> that we were root</font><font color="#CCCCCC"> this is just</font>

904
00:31:48,659 --> 00:31:51,990
another line inside that docker file

905
00:31:50,159 --> 00:31:56,669
when it's built it says you know the

906
00:31:51,990 --> 00:31:57,929
user for<font color="#E5E5E5"> this container is use it but</font>

907
00:31:56,669 --> 00:31:59,909
there's<font color="#E5E5E5"> just</font><font color="#CCCCCC"> one</font><font color="#E5E5E5"> of the</font><font color="#CCCCCC"> command-line</font>

908
00:31:57,929 --> 00:32:00,659
option we can just say<font color="#CCCCCC"> hey doctor</font><font color="#E5E5E5"> I want</font>

909
00:31:59,909 --> 00:32:02,789
to<font color="#E5E5E5"> be</font><font color="#CCCCCC"> route</font>

910
00:32:00,659 --> 00:32:04,139
so if you're building<font color="#E5E5E5"> containers and you</font>

911
00:32:02,789 --> 00:32:05,970
think that this<font color="#E5E5E5"> has done anything to</font>

912
00:32:04,139 --> 00:32:08,129
secure the code that<font color="#E5E5E5"> you're shipping it</font>

913
00:32:05,970 --> 00:32:10,080
hasn't it's just a convenience that user

914
00:32:08,129 --> 00:32:11,428
starts<font color="#E5E5E5"> up in a certain user mode they</font>

915
00:32:10,080 --> 00:32:12,720
can run whatever<font color="#E5E5E5"> come on they want and</font>

916
00:32:11,429 --> 00:32:14,759
they<font color="#CCCCCC"> can be</font><font color="#E5E5E5"> routing your</font><font color="#CCCCCC"> container</font><font color="#E5E5E5"> so</font>

917
00:32:12,720 --> 00:32:17,940
don't think containers are locked<font color="#E5E5E5"> secure</font>

918
00:32:14,759 --> 00:32:19,769
or anything like<font color="#CCCCCC"> that</font><font color="#E5E5E5"> what about finding</font>

919
00:32:17,940 --> 00:32:21,029
sensitive data inside container we've

920
00:32:19,769 --> 00:32:23,669
spoken about these<font color="#CCCCCC"> images that are</font>

921
00:32:21,029 --> 00:32:25,529
available<font color="#CCCCCC"> in docker hub</font><font color="#E5E5E5"> companies might</font>

922
00:32:23,669 --> 00:32:27,539
<font color="#CCCCCC">have them running</font><font color="#E5E5E5"> on Deb's machines on</font>

923
00:32:25,529 --> 00:32:30,570
servers private repositories things like

924
00:32:27,539 --> 00:32:32,759
that<font color="#CCCCCC"> but</font><font color="#E5E5E5"> let's run a container that</font><font color="#CCCCCC"> I</font>

925
00:32:30,570 --> 00:32:35,158
created specifically for this demo<font color="#E5E5E5"> so it</font>

926
00:32:32,759 --> 00:32:36,690
is a bit of a silly<font color="#E5E5E5"> example but we're</font>

927
00:32:35,159 --> 00:32:38,340
running again<font color="#CCCCCC"> interactive terminal the</font>

928
00:32:36,690 --> 00:32:40,470
container that I've created<font color="#E5E5E5"> with bash</font>

929
00:32:38,340 --> 00:32:42,178
and we're just<font color="#CCCCCC"> telling it</font><font color="#E5E5E5"> to list files</font>

930
00:32:40,470 --> 00:32:44,009
and can't keep up

931
00:32:42,179 --> 00:32:53,909
<font color="#E5E5E5">public key right what could possibly</font><font color="#CCCCCC"> go</font>

932
00:32:44,009 --> 00:32:55,710
wrong<font color="#CCCCCC"> - tell us</font><font color="#E5E5E5"> the</font><font color="#CCCCCC"> history of it now</font>

933
00:32:53,909 --> 00:32:57,539
this<font color="#E5E5E5"> is really</font><font color="#CCCCCC"> interesting layer over</font>

934
00:32:55,710 --> 00:32:59,570
there<font color="#CCCCCC"> at 8 minute mark so</font><font color="#E5E5E5"> this is sort</font>

935
00:32:57,539 --> 00:33:03,509
<font color="#CCCCCC">of how it started up this is busy</font><font color="#E5E5E5"> box</font>

936
00:32:59,570 --> 00:33:05,789
there's a<font color="#E5E5E5"> 906 byte layer and then a 305</font>

937
00:33:03,509 --> 00:33:07,019
layer<font color="#CCCCCC"> it seems like Mall is then we</font>

938
00:33:05,789 --> 00:33:07,470
would need<font color="#E5E5E5"> if I've</font><font color="#CCCCCC"> just pushed in one</font>

939
00:33:07,019 --> 00:33:11,789
file

940
00:33:07,470 --> 00:33:14,249
I<font color="#CCCCCC"> cannot</font><font color="#E5E5E5"> stuck her up to run it by name</font>

941
00:33:11,789 --> 00:33:17,730
<font color="#E5E5E5">but</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> run that image layer and do the</font>

942
00:33:14,249 --> 00:33:20,730
same thing<font color="#E5E5E5"> kept the public</font><font color="#CCCCCC"> key but needs</font>

943
00:33:17,730 --> 00:33:21,450
a private key<font color="#CCCCCC"> so if you do</font><font color="#E5E5E5"> something</font>

944
00:33:20,730 --> 00:33:23,070
wrong when you're building your

945
00:33:21,450 --> 00:33:24,550
container or if your<font color="#CCCCCC"> environment is</font>

946
00:33:23,070 --> 00:33:25,870
perhaps building<font color="#E5E5E5"> production</font>

947
00:33:24,550 --> 00:33:27,700
container and then afterwards you're

948
00:33:25,870 --> 00:33:29,860
sort of<font color="#E5E5E5"> slipping in dev credentials and</font>

949
00:33:27,700 --> 00:33:31,420
pushing it to your dev server<font color="#E5E5E5"> if someone</font>

950
00:33:29,860 --> 00:33:32,979
compromises it they can still go and

951
00:33:31,420 --> 00:33:34,180
<font color="#CCCCCC">access those files</font><font color="#E5E5E5"> in</font><font color="#CCCCCC"> those config</font><font color="#E5E5E5"> files</font>

952
00:33:32,980 --> 00:33:36,430
so do you think<font color="#CCCCCC"> you've overwritten and</font>

953
00:33:34,180 --> 00:33:38,400
committed<font color="#CCCCCC"> into</font><font color="#E5E5E5"> dev mode your</font><font color="#CCCCCC"> prod creds</font>

954
00:33:36,430 --> 00:33:40,300
could very possibly still<font color="#E5E5E5"> be there</font>

955
00:33:38,400 --> 00:33:43,870
something<font color="#CCCCCC"> else</font><font color="#E5E5E5"> that you can do which</font><font color="#CCCCCC"> is</font>

956
00:33:40,300 --> 00:33:46,300
kind of fun<font color="#E5E5E5"> is you can tell doctor to</font>

957
00:33:43,870 --> 00:33:48,850
save a container name that's good I'll

958
00:33:46,300 --> 00:33:50,530
<font color="#E5E5E5">put it out</font><font color="#CCCCCC"> of the doc</font><font color="#E5E5E5"> of</font><font color="#CCCCCC"> ecosystem to a</font>

959
00:33:48,850 --> 00:33:51,070
file<font color="#E5E5E5"> on your computer</font><font color="#CCCCCC"> or in</font><font color="#E5E5E5"> this case to</font>

960
00:33:50,530 --> 00:33:52,960
a pipe

961
00:33:51,070 --> 00:33:54,730
I'm just running<font color="#E5E5E5"> it through strings and</font>

962
00:33:52,960 --> 00:33:55,930
because private<font color="#CCCCCC"> keys are strings the</font>

963
00:33:54,730 --> 00:33:57,190
strings<font color="#E5E5E5"> command does a really good job</font>

964
00:33:55,930 --> 00:33:58,870
<font color="#E5E5E5">of</font><font color="#CCCCCC"> finding this so this is</font><font color="#E5E5E5"> kind of</font>

965
00:33:57,190 --> 00:34:00,640
<font color="#E5E5E5">flattening all those layers but it still</font>

966
00:33:58,870 --> 00:34:02,409
hasn't erased that image<font color="#E5E5E5"> even though</font>

967
00:34:00,640 --> 00:34:04,090
I've overwritten it fixing the private

968
00:34:02,410 --> 00:34:06,670
key<font color="#E5E5E5"> with</font><font color="#CCCCCC"> the public</font><font color="#E5E5E5"> key</font><font color="#CCCCCC"> they exist</font>

969
00:34:04,090 --> 00:34:08,170
<font color="#E5E5E5">almost as different</font><font color="#CCCCCC"> parts</font><font color="#E5E5E5"> so the</font>

970
00:34:06,670 --> 00:34:09,460
<font color="#CCCCCC">filesystem doesn't see</font><font color="#E5E5E5"> this file anymore</font>

971
00:34:08,170 --> 00:34:12,550
<font color="#E5E5E5">but the data is still there in those</font>

972
00:34:09,460 --> 00:34:13,720
docker images but that's a string so

973
00:34:12,550 --> 00:34:16,510
that's<font color="#E5E5E5"> quite</font><font color="#CCCCCC"> easy to find what if</font>

974
00:34:13,719 --> 00:34:18,609
there's more interesting<font color="#E5E5E5"> stuff deleting</font>

975
00:34:16,510 --> 00:34:21,120
files is necessarily a<font color="#E5E5E5"> hard drive image</font>

976
00:34:18,610 --> 00:34:23,770
<font color="#E5E5E5">these other layers changes and files</font>

977
00:34:21,120 --> 00:34:25,029
<font color="#E5E5E5">well you can do doctor save again this</font>

978
00:34:23,770 --> 00:34:27,190
time we're going to<font color="#CCCCCC"> output</font><font color="#E5E5E5"> it to binary</font>

979
00:34:25,030 --> 00:34:28,690
file testdisk and photorec

980
00:34:27,190 --> 00:34:30,610
great<font color="#E5E5E5"> under lean tools for all platforms</font>

981
00:34:28,690 --> 00:34:33,040
they find tons<font color="#E5E5E5"> of different file</font><font color="#CCCCCC"> types</font>

982
00:34:30,610 --> 00:34:34,750
so<font color="#E5E5E5"> I extract that image I'm not even</font>

983
00:34:33,040 --> 00:34:36,370
aware<font color="#CCCCCC"> of what the file system looks like</font>

984
00:34:34,750 --> 00:34:37,840
how<font color="#E5E5E5"> many layers are just</font><font color="#CCCCCC"> snapshotting</font>

985
00:34:36,370 --> 00:34:39,759
the whole thing to a local file that I

986
00:34:37,840 --> 00:34:43,470
can<font color="#E5E5E5"> use I'm running an undelete</font><font color="#CCCCCC"> err on</font>

987
00:34:39,760 --> 00:34:46,270
<font color="#CCCCCC">it</font><font color="#E5E5E5"> and it finds nine files from busybox</font>

988
00:34:43,469 --> 00:34:48,250
and if I happen<font color="#E5E5E5"> to</font><font color="#CCCCCC"> find the right file</font>

989
00:34:46,270 --> 00:34:49,870
<font color="#CCCCCC">you</font><font color="#E5E5E5"> can see it's dug out the private key</font>

990
00:34:48,250 --> 00:34:51,370
so<font color="#E5E5E5"> there could be binary files image</font>

991
00:34:49,870 --> 00:34:53,500
files<font color="#E5E5E5"> all kinds of things inside your</font>

992
00:34:51,370 --> 00:34:54,429
doctor images<font color="#E5E5E5"> they're not safe even if</font>

993
00:34:53,500 --> 00:34:56,949
they're deleted<font color="#E5E5E5"> even if they're not</font>

994
00:34:54,429 --> 00:34:59,770
referenced people can still to undelete

995
00:34:56,949 --> 00:35:01,509
on<font color="#CCCCCC"> produced containers</font><font color="#E5E5E5"> even if it's not</font>

996
00:34:59,770 --> 00:35:03,340
the<font color="#E5E5E5"> latest image that has that stuff so</font>

997
00:35:01,510 --> 00:35:05,860
if you didn't<font color="#E5E5E5"> stuff ages ago</font><font color="#CCCCCC"> if you</font>

998
00:35:03,340 --> 00:35:07,570
pulled off images someone<font color="#CCCCCC"> else's</font><font color="#E5E5E5"> created</font>

999
00:35:05,860 --> 00:35:10,110
you don't know what's lying under<font color="#CCCCCC"> the</font>

1000
00:35:07,570 --> 00:35:12,340
file system<font color="#CCCCCC"> that you can't even</font><font color="#E5E5E5"> see</font>

1001
00:35:10,110 --> 00:35:14,110
let's imagine<font color="#E5E5E5"> now that we're a malicious</font>

1002
00:35:12,340 --> 00:35:15,820
dev at a company<font color="#CCCCCC"> or we can access at a</font>

1003
00:35:14,110 --> 00:35:17,890
company<font color="#CCCCCC"> or someone's machine</font><font color="#E5E5E5"> what</font>

1004
00:35:15,820 --> 00:35:21,250
<font color="#E5E5E5">backdooring images</font><font color="#CCCCCC"> said</font><font color="#E5E5E5"> before the</font>

1005
00:35:17,890 --> 00:35:23,830
people<font color="#E5E5E5"> reuse things like I</font><font color="#CCCCCC"> will do so</font>

1006
00:35:21,250 --> 00:35:26,050
what we're able to do is gonna<font color="#E5E5E5"> be a bit</font>

1007
00:35:23,830 --> 00:35:27,850
complex but just bear with<font color="#E5E5E5"> me we're able</font>

1008
00:35:26,050 --> 00:35:29,230
to inspect an image such as it will do

1009
00:35:27,850 --> 00:35:30,940
<font color="#E5E5E5">we're looking for the entry point</font><font color="#CCCCCC"> or</font><font color="#E5E5E5"> the</font>

1010
00:35:29,230 --> 00:35:32,200
command as I mentioned that's the sort

1011
00:35:30,940 --> 00:35:33,730
of<font color="#E5E5E5"> two commands that could happen when</font>

1012
00:35:32,200 --> 00:35:36,609
<font color="#CCCCCC">your containers run so we want to see</font>

1013
00:35:33,730 --> 00:35:38,290
what a target image does when it starts

1014
00:35:36,610 --> 00:35:41,050
<font color="#E5E5E5">up what the default</font><font color="#CCCCCC"> behavior</font><font color="#E5E5E5"> is</font>

1015
00:35:38,290 --> 00:35:43,060
it's<font color="#E5E5E5"> useful to copy that command then we</font>

1016
00:35:41,050 --> 00:35:44,560
can run the<font color="#E5E5E5"> image and this time run</font><font color="#CCCCCC"> bash</font>

1017
00:35:43,060 --> 00:35:45,790
instead so this assumes you do have

1018
00:35:44,560 --> 00:35:47,290
access<font color="#E5E5E5"> to the image so you really got</font>

1019
00:35:45,790 --> 00:35:48,490
the<font color="#E5E5E5"> person's docker hub credentials or</font>

1020
00:35:47,290 --> 00:35:51,310
here on<font color="#E5E5E5"> the network</font><font color="#CCCCCC"> or</font><font color="#E5E5E5"> something like</font>

1021
00:35:48,490 --> 00:35:53,618
<font color="#CCCCCC">that in this case</font><font color="#E5E5E5"> I've been</font><font color="#CCCCCC"> using Ubuntu</font>

1022
00:35:51,310 --> 00:35:56,080
engine apt-get update<font color="#CCCCCC"> numbers also cat</font>

1023
00:35:53,619 --> 00:35:58,240
which<font color="#CCCCCC"> is a great</font><font color="#E5E5E5"> commercial tool I exit</font>

1024
00:35:56,080 --> 00:35:59,500
out<font color="#CCCCCC"> of</font><font color="#E5E5E5"> its do docker PS to see the name</font>

1025
00:35:58,240 --> 00:36:02,950
of<font color="#CCCCCC"> that</font><font color="#E5E5E5"> container that I've just created</font>

1026
00:35:59,500 --> 00:36:05,170
<font color="#E5E5E5">that has so can't installed I'm gonna</font>

1027
00:36:02,950 --> 00:36:06,399
commit it to temp name<font color="#E5E5E5"> just for</font><font color="#CCCCCC"> my sake</font>

1028
00:36:05,170 --> 00:36:09,340
so<font color="#CCCCCC"> I've got a</font><font color="#E5E5E5"> reference to it so I've</font>

1029
00:36:06,400 --> 00:36:14,560
now got the<font color="#E5E5E5"> target application</font><font color="#CCCCCC"> plus so</font>

1030
00:36:09,340 --> 00:36:17,109
cap<font color="#E5E5E5"> so get as a separate container now I</font>

1031
00:36:14,560 --> 00:36:21,730
run the container that<font color="#CCCCCC"> I created and</font>

1032
00:36:17,109 --> 00:36:24,340
saved and I pass in<font color="#CCCCCC"> an old command</font><font color="#E5E5E5"> and</font>

1033
00:36:21,730 --> 00:36:29,220
then I run by reverse shell<font color="#E5E5E5"> what we do</font>

1034
00:36:24,340 --> 00:36:32,980
then is<font color="#E5E5E5"> we look at the hash that running</font>

1035
00:36:29,220 --> 00:36:35,049
<font color="#CCCCCC">and we commit</font><font color="#E5E5E5"> that back over</font><font color="#CCCCCC"> to when you</font>

1036
00:36:32,980 --> 00:36:37,600
do a docker commit<font color="#E5E5E5"> it saves that image</font>

1037
00:36:35,050 --> 00:36:39,070
under a new name<font color="#E5E5E5"> so in this case all the</font>

1038
00:36:37,600 --> 00:36:41,950
stuff<font color="#E5E5E5"> that we've been doing turns into a</font>

1039
00:36:39,070 --> 00:36:43,300
bun<font color="#CCCCCC"> too but the reason we've done the</font>

1040
00:36:41,950 --> 00:36:45,640
second and third<font color="#CCCCCC"> step separately is</font>

1041
00:36:43,300 --> 00:36:47,560
because in step<font color="#E5E5E5"> two we ran shell and in</font>

1042
00:36:45,640 --> 00:36:49,629
step<font color="#E5E5E5"> three we ran the</font><font color="#CCCCCC"> old come on</font><font color="#E5E5E5"> and</font>

1043
00:36:47,560 --> 00:36:51,520
also<font color="#E5E5E5"> get this</font><font color="#CCCCCC"> command is what will be</font>

1044
00:36:49,630 --> 00:36:53,830
saved as<font color="#CCCCCC"> the images entry point</font><font color="#E5E5E5"> of</font><font color="#CCCCCC"> the</font>

1045
00:36:51,520 --> 00:36:55,270
command<font color="#E5E5E5"> so now when someone runs</font><font color="#CCCCCC"> a bun -</font>

1046
00:36:53,830 --> 00:36:56,650
it's<font color="#CCCCCC"> actually running this previous line</font>

1047
00:36:55,270 --> 00:36:58,840
which is<font color="#E5E5E5"> gonna</font><font color="#CCCCCC"> be everything</font><font color="#E5E5E5"> it always</font>

1048
00:36:56,650 --> 00:37:01,570
used<font color="#E5E5E5"> to do but start up a reverse</font><font color="#CCCCCC"> shell</font>

1049
00:36:58,840 --> 00:37:03,430
<font color="#E5E5E5">so if this is a container</font><font color="#CCCCCC"> that someone's</font>

1050
00:37:01,570 --> 00:37:05,470
using<font color="#CCCCCC"> in a workplace</font><font color="#E5E5E5"> it may very well</font>

1051
00:37:03,430 --> 00:37:06,730
function as they<font color="#E5E5E5"> expected but</font><font color="#CCCCCC"> do</font>

1052
00:37:05,470 --> 00:37:11,140
<font color="#E5E5E5">something really really nasty when they</font>

1053
00:37:06,730 --> 00:37:13,150
start it up and someone<font color="#E5E5E5"> pulls down any</font>

1054
00:37:11,140 --> 00:37:15,549
<font color="#E5E5E5">bad things happen there's an easier way</font>

1055
00:37:13,150 --> 00:37:16,720
<font color="#CCCCCC">of doing this</font><font color="#E5E5E5"> the tool called docker</font>

1056
00:37:15,550 --> 00:37:19,270
scan which will find various

1057
00:37:16,720 --> 00:37:22,330
vulnerabilities<font color="#E5E5E5"> in Lycia various</font>

1058
00:37:19,270 --> 00:37:25,780
analysis on containers but<font color="#E5E5E5"> it also has</font>

1059
00:37:22,330 --> 00:37:27,279
the<font color="#CCCCCC"> option to backdoor them for you</font><font color="#E5E5E5"> so</font>

1060
00:37:25,780 --> 00:37:29,020
here we're gonna<font color="#CCCCCC"> save a bun to again</font>

1061
00:37:27,280 --> 00:37:30,280
we're extracting it from<font color="#E5E5E5"> the docker</font><font color="#CCCCCC"> sort</font>

1062
00:37:29,020 --> 00:37:31,600
of file management<font color="#CCCCCC"> tool</font><font color="#E5E5E5"> erase we're</font>

1063
00:37:30,280 --> 00:37:34,300
flattening<font color="#E5E5E5"> to a single file in our</font>

1064
00:37:31,600 --> 00:37:36,970
<font color="#CCCCCC">machine we're able to tell docker scan</font>

1065
00:37:34,300 --> 00:37:39,070
to process the image<font color="#E5E5E5"> modify it trojan</font>

1066
00:37:36,970 --> 00:37:42,700
eyes it we point to<font color="#E5E5E5"> the file that</font><font color="#CCCCCC"> we</font>

1067
00:37:39,070 --> 00:37:44,170
<font color="#E5E5E5">want to</font><font color="#CCCCCC"> trojan although</font><font color="#E5E5E5"> that's -</font><font color="#CCCCCC"> cell</font>

1068
00:37:42,700 --> 00:37:48,000
we're actually setting<font color="#E5E5E5"> where the reverse</font>

1069
00:37:44,170 --> 00:37:51,130
<font color="#E5E5E5">shell should go to this does its thing</font>

1070
00:37:48,000 --> 00:37:52,030
<font color="#E5E5E5">and it produces template</font><font color="#CCCCCC"> R and it</font><font color="#E5E5E5"> tells</font>

1071
00:37:51,130 --> 00:37:53,890
<font color="#E5E5E5">us that come on that</font><font color="#CCCCCC"> we need</font>

1072
00:37:52,030 --> 00:37:56,650
to run to listen to receive that reverse

1073
00:37:53,890 --> 00:37:59,319
shell<font color="#E5E5E5"> we did tell</font><font color="#CCCCCC"> doctor to load this</font>

1074
00:37:56,650 --> 00:38:01,180
tar file in this is<font color="#E5E5E5"> doctors way of</font>

1075
00:37:59,320 --> 00:38:03,070
importing<font color="#E5E5E5"> and exporting doctor says oh</font>

1076
00:38:01,180 --> 00:38:05,319
no<font color="#CCCCCC"> the</font><font color="#E5E5E5"> bunch</font><font color="#CCCCCC"> already exists</font>

1077
00:38:03,070 --> 00:38:08,110
I'll just rename the old one to an empty

1078
00:38:05,320 --> 00:38:10,360
<font color="#CCCCCC">string and bring your one in as one to</font>

1079
00:38:08,110 --> 00:38:11,770
latest<font color="#E5E5E5"> again we can't push this up to</font>

1080
00:38:10,360 --> 00:38:13,510
<font color="#E5E5E5">docker hub and replace the arrow button</font>

1081
00:38:11,770 --> 00:38:15,700
<font color="#E5E5E5">to latest but within someone's local</font>

1082
00:38:13,510 --> 00:38:16,960
machine or local environment<font color="#E5E5E5"> we're able</font>

1083
00:38:15,700 --> 00:38:18,580
to change what<font color="#E5E5E5"> happens when they</font>

1084
00:38:16,960 --> 00:38:21,160
reference of would do in this<font color="#E5E5E5"> case put</font><font color="#CCCCCC"> a</font>

1085
00:38:18,580 --> 00:38:22,779
<font color="#CCCCCC">backdoor</font><font color="#E5E5E5"> image let's think about</font>

1086
00:38:21,160 --> 00:38:24,430
attacking users developers have a whole

1087
00:38:22,780 --> 00:38:26,050
lot of access these days they're

1088
00:38:24,430 --> 00:38:29,680
possibly<font color="#E5E5E5"> better targets in front server</font>

1089
00:38:26,050 --> 00:38:33,090
<font color="#CCCCCC">that might be locked</font><font color="#E5E5E5"> down we're going to</font>

1090
00:38:29,680 --> 00:38:36,310
use cross-site request forgery<font color="#CCCCCC"> on a user</font>

1091
00:38:33,090 --> 00:38:39,130
when docker runs<font color="#E5E5E5"> even</font><font color="#CCCCCC"> killers on</font><font color="#E5E5E5"> a</font><font color="#CCCCCC"> TCP</font>

1092
00:38:36,310 --> 00:38:40,480
<font color="#CCCCCC">by</font><font color="#E5E5E5"> default its units UNIX socket so</font>

1093
00:38:39,130 --> 00:38:41,830
there's a few<font color="#CCCCCC"> things</font><font color="#E5E5E5"> that might happen</font>

1094
00:38:40,480 --> 00:38:43,270
here there's a few cases where<font color="#E5E5E5"> it might</font>

1095
00:38:41,830 --> 00:38:45,400
not be running<font color="#E5E5E5"> on a UNIX socket but a</font>

1096
00:38:43,270 --> 00:38:50,290
TCP socket<font color="#E5E5E5"> but this is pretend it's</font>

1097
00:38:45,400 --> 00:38:56,530
running on 127.0.0.1<font color="#CCCCCC"> to</font><font color="#E5E5E5"> 375 if I visit a</font>

1098
00:38:50,290 --> 00:38:59,380
page that has code on<font color="#E5E5E5"> it that's going to</font>

1099
00:38:56,530 --> 00:39:02,260
do a forum post to my local host which

1100
00:38:59,380 --> 00:39:05,470
is<font color="#CCCCCC"> good it could</font><font color="#E5E5E5"> tell</font><font color="#CCCCCC"> Tucker</font><font color="#E5E5E5"> daemon to</font>

1101
00:39:02,260 --> 00:39:08,140
<font color="#E5E5E5">to a bold and we're able to specify our</font>

1102
00:39:05,470 --> 00:39:10,149
<font color="#CCCCCC">mood</font><font color="#E5E5E5"> docker file so this is a script on</font>

1103
00:39:08,140 --> 00:39:11,890
the<font color="#CCCCCC"> paceman I mentioned the network mode</font>

1104
00:39:10,150 --> 00:39:13,330
<font color="#CCCCCC">host being quite dangerous</font><font color="#E5E5E5"> so we're</font>

1105
00:39:11,890 --> 00:39:14,740
gonna put<font color="#E5E5E5"> that</font><font color="#CCCCCC"> in here</font><font color="#E5E5E5"> we want that in</font>

1106
00:39:13,330 --> 00:39:16,810
<font color="#E5E5E5">oh and I get to choose where that</font>

1107
00:39:14,740 --> 00:39:19,330
container<font color="#E5E5E5"> that gets pulled gets called</font>

1108
00:39:16,810 --> 00:39:21,790
so I can overwrite the local machines

1109
00:39:19,330 --> 00:39:22,990
<font color="#CCCCCC">with</font><font color="#E5E5E5"> one</font><font color="#CCCCCC"> to image now normally your</font>

1110
00:39:21,790 --> 00:39:24,279
browser would<font color="#E5E5E5"> complain about this</font>

1111
00:39:22,990 --> 00:39:25,839
because<font color="#E5E5E5"> this cross-origin resource</font>

1112
00:39:24,280 --> 00:39:28,930
sharing and<font color="#CCCCCC"> things like that</font><font color="#E5E5E5"> that needs</font>

1113
00:39:25,840 --> 00:39:30,040
to<font color="#E5E5E5"> happen but there's no post so none of</font>

1114
00:39:28,930 --> 00:39:31,600
those checks happens<font color="#CCCCCC"> it's</font><font color="#E5E5E5"> just</font><font color="#CCCCCC"> goes</font>

1115
00:39:30,040 --> 00:39:33,910
<font color="#CCCCCC">straight through</font><font color="#E5E5E5"> and doctor just accepts</font>

1116
00:39:31,600 --> 00:39:35,350
get parameters on a post request<font color="#CCCCCC"> of</font>

1117
00:39:33,910 --> 00:39:37,180
course we can<font color="#E5E5E5"> slip in some JavaScript to</font>

1118
00:39:35,350 --> 00:39:38,529
<font color="#CCCCCC">make the form submit so this can all be</font>

1119
00:39:37,180 --> 00:39:40,029
<font color="#E5E5E5">happening in the background</font><font color="#CCCCCC"> you browse a</font>

1120
00:39:38,530 --> 00:39:41,770
<font color="#E5E5E5">website you've got doctor listening</font><font color="#CCCCCC"> on</font>

1121
00:39:40,030 --> 00:39:43,390
<font color="#CCCCCC">localhost and the next thing you know</font>

1122
00:39:41,770 --> 00:39:46,630
you're a bunch of image<font color="#E5E5E5"> isn't what you</font>

1123
00:39:43,390 --> 00:39:48,250
thought it<font color="#E5E5E5"> was here you can see I've got</font>

1124
00:39:46,630 --> 00:39:50,230
<font color="#E5E5E5">a four mega bunch image created just now</font>

1125
00:39:48,250 --> 00:39:54,130
<font color="#CCCCCC">that's not the real</font><font color="#E5E5E5"> image that's the</font>

1126
00:39:50,230 --> 00:39:56,260
malicious one and if we<font color="#CCCCCC"> just ran it with</font>

1127
00:39:54,130 --> 00:39:57,400
that<font color="#E5E5E5"> post happening outside of an iframe</font>

1128
00:39:56,260 --> 00:39:58,990
where you think this is<font color="#E5E5E5"> the</font><font color="#CCCCCC"> output that</font>

1129
00:39:57,400 --> 00:40:00,520
<font color="#E5E5E5">you would see it's very much</font><font color="#CCCCCC"> like what</font>

1130
00:39:58,990 --> 00:40:03,220
doctor does you can<font color="#E5E5E5"> see that's pulling</font>

1131
00:40:00,520 --> 00:40:05,710
<font color="#E5E5E5">from Alpine you can see</font><font color="#CCCCCC"> a Beco test</font><font color="#E5E5E5"> -</font>

1132
00:40:03,220 --> 00:40:06,279
hello<font color="#CCCCCC"> -</font><font color="#E5E5E5"> txt and it ends up building</font><font color="#CCCCCC"> and</font>

1133
00:40:05,710 --> 00:40:08,680
tagging

1134
00:40:06,280 --> 00:40:10,300
<font color="#E5E5E5">my machine is</font><font color="#CCCCCC"> abou</font><font color="#E5E5E5"> - so now you're</font>

1135
00:40:08,680 --> 00:40:11,980
potentially<font color="#E5E5E5"> taking over docker from</font>

1136
00:40:10,300 --> 00:40:13,480
outside the network<font color="#E5E5E5"> just</font><font color="#CCCCCC"> by getting</font>

1137
00:40:11,980 --> 00:40:17,890
people<font color="#E5E5E5"> to click on</font><font color="#CCCCCC"> a malicious link</font><font color="#E5E5E5"> I</font>

1138
00:40:13,480 --> 00:40:21,370
think<font color="#CCCCCC"> it's what type of swatter</font><font color="#E5E5E5"> fishing</font>

1139
00:40:17,890 --> 00:40:22,900
docker hub<font color="#E5E5E5"> so you can register any name</font>

1140
00:40:21,370 --> 00:40:23,470
<font color="#E5E5E5">on docker hub that's not already</font>

1141
00:40:22,900 --> 00:40:25,810
registered

1142
00:40:23,470 --> 00:40:29,890
oh here's<font color="#E5E5E5"> Kali Linux just now so let's</font>

1143
00:40:25,810 --> 00:40:31,450
change the l2a1<font color="#E5E5E5"> you can upload any image</font>

1144
00:40:29,890 --> 00:40:33,129
<font color="#CCCCCC">backdoored</font><font color="#E5E5E5"> or not under any name you</font>

1145
00:40:31,450 --> 00:40:34,450
want<font color="#E5E5E5"> we're able to reuse</font><font color="#CCCCCC"> Kali Linux</font>

1146
00:40:33,130 --> 00:40:36,760
docker in the same way that we could

1147
00:40:34,450 --> 00:40:40,629
reuse<font color="#E5E5E5"> will</font><font color="#CCCCCC"> - it'll just</font><font color="#E5E5E5"> be namespace</font>

1148
00:40:36,760 --> 00:40:42,910
with our username so you can just<font color="#E5E5E5"> copy</font>

1149
00:40:40,630 --> 00:40:44,860
<font color="#E5E5E5">and paste</font><font color="#CCCCCC"> their real profile and image</font>

1150
00:40:42,910 --> 00:40:47,350
and the details for the image<font color="#CCCCCC"> their wave</font>

1151
00:40:44,860 --> 00:40:49,270
interface just make your own<font color="#CCCCCC"> I mean that</font>

1152
00:40:47,350 --> 00:40:51,430
looks very<font color="#E5E5E5"> much</font><font color="#CCCCCC"> like there's I mean</font>

1153
00:40:49,270 --> 00:40:53,470
maybe the user won't<font color="#E5E5E5"> notice the one</font>

1154
00:40:51,430 --> 00:40:54,910
instead<font color="#E5E5E5"> of an L you can't use Unicode</font>

1155
00:40:53,470 --> 00:40:56,859
unfortunately so you need to be a<font color="#E5E5E5"> little</font>

1156
00:40:54,910 --> 00:40:58,270
creative<font color="#E5E5E5"> about your naming but here we</font>

1157
00:40:56,860 --> 00:40:59,500
have a pretty legit looking version<font color="#CCCCCC"> of</font>

1158
00:40:58,270 --> 00:41:03,340
<font color="#CCCCCC">Carden if any of you would like to</font>

1159
00:40:59,500 --> 00:41:05,710
install<font color="#E5E5E5"> it we can remove the image</font>

1160
00:41:03,340 --> 00:41:07,300
locally<font color="#E5E5E5"> where we built it and we can</font>

1161
00:41:05,710 --> 00:41:09,490
pull it down from docker hub<font color="#E5E5E5"> using</font><font color="#CCCCCC"> the</font>

1162
00:41:07,300 --> 00:41:12,490
full parts in<font color="#E5E5E5"> this case</font><font color="#CCCCCC"> Carly 1 and</font>

1163
00:41:09,490 --> 00:41:15,069
explore such Kali Linux docker<font color="#E5E5E5"> and we</font>

1164
00:41:12,490 --> 00:41:18,879
can just loop that<font color="#E5E5E5"> and we can create</font>

1165
00:41:15,070 --> 00:41:21,400
<font color="#E5E5E5">docker hub accounts and story so if</font>

1166
00:41:18,880 --> 00:41:23,170
someone searches<font color="#CCCCCC"> for Kali</font><font color="#E5E5E5"> or Kali Linux</font>

1167
00:41:21,400 --> 00:41:26,350
<font color="#E5E5E5">yeah you get the official one there at</font>

1168
00:41:23,170 --> 00:41:28,840
the top out of 160,000<font color="#CCCCCC"> results</font><font color="#E5E5E5"> but look</font>

1169
00:41:26,350 --> 00:41:30,730
what I had<font color="#CCCCCC"> on docker hub yesterday so</font>

1170
00:41:28,840 --> 00:41:32,590
you probably don't<font color="#E5E5E5"> want to install</font><font color="#CCCCCC"> that</font>

1171
00:41:30,730 --> 00:41:35,230
container<font color="#E5E5E5"> I mean I didn't quite reach a</font>

1172
00:41:32,590 --> 00:41:36,640
million poles or 360 stars<font color="#E5E5E5"> but it's</font>

1173
00:41:35,230 --> 00:41:38,400
totally conceivable you could do<font color="#E5E5E5"> that</font>

1174
00:41:36,640 --> 00:41:41,620
<font color="#E5E5E5">and take the number one position</font>

1175
00:41:38,400 --> 00:41:43,930
what about attacking<font color="#CCCCCC"> dr. networks so</font>

1176
00:41:41,620 --> 00:41:50,830
let's say you get reversed shell on a

1177
00:41:43,930 --> 00:41:52,330
box well it's a<font color="#E5E5E5"> few things</font><font color="#CCCCCC"> you can</font><font color="#E5E5E5"> do I</font>

1178
00:41:50,830 --> 00:41:53,230
don't fully understand all of<font color="#E5E5E5"> them but</font>

1179
00:41:52,330 --> 00:41:55,270
we're just<font color="#E5E5E5"> going</font><font color="#CCCCCC"> to run through some</font>

1180
00:41:53,230 --> 00:41:57,760
steps slides to be available<font color="#E5E5E5"> around with</font>

1181
00:41:55,270 --> 00:41:59,470
this<font color="#CCCCCC"> what</font><font color="#E5E5E5"> happen is a docker</font><font color="#CCCCCC"> in V file</font>

1182
00:41:57,760 --> 00:42:00,880
there's a bit<font color="#E5E5E5"> of a giveaway so you can</font>

1183
00:41:59,470 --> 00:42:03,310
check to see<font color="#CCCCCC"> if that files present on</font>

1184
00:42:00,880 --> 00:42:06,520
the machine<font color="#E5E5E5"> it also checked various proc</font>

1185
00:42:03,310 --> 00:42:09,220
settings<font color="#CCCCCC"> so in this case if proc process</font>

1186
00:42:06,520 --> 00:42:11,590
<font color="#CCCCCC">1c group contains bucker</font><font color="#E5E5E5"> guess what</font>

1187
00:42:09,220 --> 00:42:14,259
<font color="#E5E5E5">you're inside Ducker you take a look at</font>

1188
00:42:11,590 --> 00:42:16,960
the<font color="#E5E5E5"> one</font><font color="#CCCCCC"> schedule</font><font color="#E5E5E5"> I think it is it's</font>

1189
00:42:14,260 --> 00:42:18,570
lonely in it<font color="#CCCCCC"> in one and it shows some</font>

1190
00:42:16,960 --> 00:42:20,290
<font color="#CCCCCC">other stuff if you're inside docker</font>

1191
00:42:18,570 --> 00:42:22,450
<font color="#CCCCCC">talker</font><font color="#E5E5E5"> assigns hosting</font>

1192
00:42:20,290 --> 00:42:24,759
<font color="#CCCCCC">two machines so it could if you see</font><font color="#E5E5E5"> 12</font>

1193
00:42:22,450 --> 00:42:29,319
<font color="#E5E5E5">hexadecimal characters</font><font color="#CCCCCC"> it could be a</font>

1194
00:42:24,760 --> 00:42:32,080
<font color="#E5E5E5">doctor generated hostname looting and</font>

1195
00:42:29,320 --> 00:42:33,790
pivoting<font color="#E5E5E5"> so when you link containers</font>

1196
00:42:32,080 --> 00:42:35,350
like we did with<font color="#E5E5E5"> Postgres docker</font>

1197
00:42:33,790 --> 00:42:36,759
populates them in the<font color="#CCCCCC"> e.t.c host file</font>

1198
00:42:35,350 --> 00:42:38,020
for you so<font color="#E5E5E5"> if you could access to one</font>

1199
00:42:36,760 --> 00:42:40,120
machine<font color="#E5E5E5"> and you want to go looking for</font>

1200
00:42:38,020 --> 00:42:41,170
other<font color="#CCCCCC"> machines</font><font color="#E5E5E5"> start with the</font><font color="#CCCCCC"> host file</font>

1201
00:42:40,120 --> 00:42:42,190
<font color="#E5E5E5">it will tell you where to go</font><font color="#CCCCCC"> and look</font>

1202
00:42:41,170 --> 00:42:44,440
<font color="#E5E5E5">for other things and they'll probably</font>

1203
00:42:42,190 --> 00:42:47,140
name<font color="#E5E5E5"> them so look there's Postgres</font>

1204
00:42:44,440 --> 00:42:49,480
server running 172<font color="#E5E5E5"> 1702 and</font><font color="#CCCCCC"> it was</font>

1205
00:42:47,140 --> 00:42:52,870
tagged<font color="#CCCCCC"> with</font><font color="#E5E5E5"> MSF Postgres</font><font color="#CCCCCC"> hey that's</font>

1206
00:42:49,480 --> 00:42:54,430
<font color="#E5E5E5">useful</font><font color="#CCCCCC"> Metasploit the way sharing works</font>

1207
00:42:52,870 --> 00:42:56,319
<font color="#CCCCCC">I mentioned were able to override the</font>

1208
00:42:54,430 --> 00:42:58,629
<font color="#E5E5E5">username which you can see in a second</font>

1209
00:42:56,320 --> 00:43:00,850
last line so that<font color="#E5E5E5"> my</font><font color="#CCCCCC"> Metasploit is able</font>

1210
00:42:58,630 --> 00:43:02,290
to find it it pushes<font color="#CCCCCC"> all of these into</font>

1211
00:43:00,850 --> 00:43:03,220
<font color="#E5E5E5">the linked containers so suddenly</font><font color="#CCCCCC"> all</font>

1212
00:43:02,290 --> 00:43:04,270
these containers<font color="#E5E5E5"> of all these</font>

1213
00:43:03,220 --> 00:43:06,490
environment variables<font color="#CCCCCC"> with all these</font>

1214
00:43:04,270 --> 00:43:08,320
<font color="#E5E5E5">other containers usernames potentially</font>

1215
00:43:06,490 --> 00:43:10,839
passwords<font color="#CCCCCC"> major/minor burners versions</font>

1216
00:43:08,320 --> 00:43:12,760
supports things like that<font color="#CCCCCC"> so within a</font>

1217
00:43:10,840 --> 00:43:14,830
docker image export can be your friend

1218
00:43:12,760 --> 00:43:17,260
and just<font color="#E5E5E5"> dump tons of credits for zero</font>

1219
00:43:14,830 --> 00:43:19,390
effort<font color="#E5E5E5"> obvious things they'll like to</font>

1220
00:43:17,260 --> 00:43:21,190
share an IP range so if you in a machine

1221
00:43:19,390 --> 00:43:24,339
get<font color="#CCCCCC"> us IP and</font><font color="#E5E5E5"> map the range</font><font color="#CCCCCC"> you'll</font>

1222
00:43:21,190 --> 00:43:26,040
<font color="#CCCCCC">likely find</font><font color="#E5E5E5"> a lot of other machines what</font>

1223
00:43:24,340 --> 00:43:27,910
<font color="#CCCCCC">about</font><font color="#E5E5E5"> running docker inside docker I</font>

1224
00:43:26,040 --> 00:43:29,170
mentioned there's a client<font color="#CCCCCC"> in the server</font>

1225
00:43:27,910 --> 00:43:30,399
we're not trying<font color="#E5E5E5"> to get</font><font color="#CCCCCC"> darker server</font>

1226
00:43:29,170 --> 00:43:32,560
running<font color="#CCCCCC"> as</font><font color="#E5E5E5"> like darker server inside</font>

1227
00:43:30,400 --> 00:43:35,740
docker server<font color="#E5E5E5"> but the client runs nearly</font>

1228
00:43:32,560 --> 00:43:39,220
anywhere including<font color="#E5E5E5"> inside docker some</font>

1229
00:43:35,740 --> 00:43:41,410
tools<font color="#E5E5E5"> like docker SSH and some Jenkins</font>

1230
00:43:39,220 --> 00:43:43,180
<font color="#E5E5E5">Bulls would have you mount the docker</font>

1231
00:43:41,410 --> 00:43:44,890
socket remember citizens on a UNIX

1232
00:43:43,180 --> 00:43:46,330
socket not<font color="#CCCCCC"> necessary</font><font color="#E5E5E5"> port some would</font>

1233
00:43:44,890 --> 00:43:50,560
<font color="#CCCCCC">have</font><font color="#E5E5E5"> you mount that suckered into the</font>

1234
00:43:46,330 --> 00:43:52,840
container itself<font color="#E5E5E5"> so if you get access to</font>

1235
00:43:50,560 --> 00:43:55,000
run code<font color="#CCCCCC"> on that machine the container</font>

1236
00:43:52,840 --> 00:43:58,030
has access to call out to<font color="#CCCCCC"> the host</font><font color="#E5E5E5"> and</font>

1237
00:43:55,000 --> 00:44:00,240
run other containers so what<font color="#E5E5E5"> if we</font>

1238
00:43:58,030 --> 00:44:02,950
<font color="#E5E5E5">decided</font><font color="#CCCCCC"> to run busybox</font>

1239
00:44:00,240 --> 00:44:04,750
and we mounted in the<font color="#CCCCCC"> e.t.c directory of</font>

1240
00:44:02,950 --> 00:44:06,549
<font color="#CCCCCC">the host inside this</font><font color="#E5E5E5"> busy box and then</font>

1241
00:44:04,750 --> 00:44:08,320
we<font color="#E5E5E5"> just cut it the shadow</font><font color="#CCCCCC"> file doctor</font>

1242
00:44:06,550 --> 00:44:11,140
runs his route<font color="#E5E5E5"> so the output of this</font>

1243
00:44:08,320 --> 00:44:13,440
<font color="#E5E5E5">command is</font><font color="#CCCCCC"> the hosts etc' shadow file in</font>

1244
00:44:11,140 --> 00:44:16,299
<font color="#CCCCCC">c'mon line up the box if</font><font color="#E5E5E5"> you compromised</font>

1245
00:44:13,440 --> 00:44:18,790
<font color="#E5E5E5">you might want to backdoor them and run</font>

1246
00:44:16,300 --> 00:44:20,140
an image again<font color="#CCCCCC"> this</font><font color="#E5E5E5"> runs on the host</font>

1247
00:44:18,790 --> 00:44:22,300
<font color="#E5E5E5">machine outside</font><font color="#CCCCCC"> of the</font><font color="#E5E5E5"> containing</font>

1248
00:44:20,140 --> 00:44:23,379
compromise that can be any image<font color="#CCCCCC"> you can</font>

1249
00:44:22,300 --> 00:44:24,460
push the<font color="#CCCCCC"> image to the doctor hub you can</font>

1250
00:44:23,380 --> 00:44:25,750
<font color="#E5E5E5">pull it down from the</font><font color="#CCCCCC"> docker hub</font><font color="#E5E5E5"> you</font>

1251
00:44:24,460 --> 00:44:27,040
don't have to worry<font color="#CCCCCC"> about taking</font><font color="#E5E5E5"> over</font>

1252
00:44:25,750 --> 00:44:29,110
and<font color="#CCCCCC"> backdooring their existing images</font>

1253
00:44:27,040 --> 00:44:31,630
you can pull<font color="#CCCCCC"> down something</font><font color="#E5E5E5"> somewhere</font>

1254
00:44:29,110 --> 00:44:32,890
else you might<font color="#CCCCCC"> want to</font><font color="#E5E5E5"> look at their</font>

1255
00:44:31,630 --> 00:44:34,210
logs maybe they're running some really

1256
00:44:32,890 --> 00:44:35,500
super secret<font color="#CCCCCC"> software and</font>

1257
00:44:34,210 --> 00:44:37,240
can't get it running locally and<font color="#E5E5E5"> you</font>

1258
00:44:35,500 --> 00:44:38,920
don't want to pull<font color="#E5E5E5"> it out the system you</font>

1259
00:44:37,240 --> 00:44:42,609
<font color="#E5E5E5">can just dump the logs from it you could</font>

1260
00:44:38,920 --> 00:44:44,800
attach to<font color="#E5E5E5"> it kill processes</font><font color="#CCCCCC"> so yes</font><font color="#E5E5E5"> doing</font>

1261
00:44:42,609 --> 00:44:47,319
<font color="#E5E5E5">this app your doctor suckered into a</font>

1262
00:44:44,800 --> 00:44:49,240
container<font color="#E5E5E5"> literally exposes the host</font>

1263
00:44:47,320 --> 00:44:51,839
machine<font color="#E5E5E5"> and all the other containers to</font>

1264
00:44:49,240 --> 00:44:55,180
huge risk<font color="#E5E5E5"> I would not recommend running</font>

1265
00:44:51,839 --> 00:44:56,740
docker in production<font color="#CCCCCC"> it's not something</font>

1266
00:44:55,180 --> 00:44:57,940
that<font color="#E5E5E5"> people do very easily so I'm not</font>

1267
00:44:56,740 --> 00:45:00,399
<font color="#E5E5E5">going to explain</font><font color="#CCCCCC"> it I'm just</font><font color="#E5E5E5"> going</font><font color="#CCCCCC"> to</font>

1268
00:44:57,940 --> 00:45:02,230
<font color="#CCCCCC">mention these those discoveries hard</font>

1269
00:45:00,400 --> 00:45:03,900
especially with<font color="#E5E5E5"> micro services how does</font>

1270
00:45:02,230 --> 00:45:05,970
one container know where another one is

1271
00:45:03,900 --> 00:45:08,680
what if you're trying<font color="#CCCCCC"> to</font><font color="#E5E5E5"> run like</font>

1272
00:45:05,970 --> 00:45:09,939
<font color="#E5E5E5">sharding load balancing and things like</font>

1273
00:45:08,680 --> 00:45:11,710
<font color="#CCCCCC">that how does everything know where to</font>

1274
00:45:09,940 --> 00:45:15,550
find stuff<font color="#E5E5E5"> people don't</font><font color="#CCCCCC"> have such a</font>

1275
00:45:11,710 --> 00:45:19,180
great<font color="#CCCCCC"> solution IP addresses doc is gonna</font>

1276
00:45:15,550 --> 00:45:23,500
reassign IP addresses so<font color="#E5E5E5"> subdomains</font>

1277
00:45:19,180 --> 00:45:25,118
pointing<font color="#E5E5E5"> to proxies so look for them but</font>

1278
00:45:23,500 --> 00:45:26,650
for<font color="#CCCCCC"> hard-coded a shared credentials like</font>

1279
00:45:25,119 --> 00:45:28,690
we said with those<font color="#E5E5E5"> env bars</font>

1280
00:45:26,650 --> 00:45:30,839
what's code you find you'll find a whole

1281
00:45:28,690 --> 00:45:33,339
<font color="#E5E5E5">lot of stuff within a deep docker</font>

1282
00:45:30,839 --> 00:45:34,720
ecosystem and in networking and

1283
00:45:33,339 --> 00:45:36,880
firewalling is really really hard

1284
00:45:34,720 --> 00:45:38,709
<font color="#E5E5E5">especially when you book a network or a</font>

1285
00:45:36,880 --> 00:45:41,020
<font color="#E5E5E5">host that</font><font color="#CCCCCC"> has this IPS then god perhaps</font>

1286
00:45:38,710 --> 00:45:42,160
<font color="#E5E5E5">the load balancers network range and</font>

1287
00:45:41,020 --> 00:45:43,300
<font color="#E5E5E5">machines have their own network range</font>

1288
00:45:42,160 --> 00:45:47,230
and things approaching<font color="#CCCCCC"> things</font><font color="#E5E5E5"> are</font>

1289
00:45:43,300 --> 00:45:48,820
hosting<font color="#E5E5E5"> so what do people do it's open</font>

1290
00:45:47,230 --> 00:45:50,109
everything<font color="#CCCCCC"> I</font><font color="#E5E5E5"> just shared you know I</font>

1291
00:45:48,820 --> 00:45:51,190
don't know which network<font color="#E5E5E5"> can just be</font>

1292
00:45:50,109 --> 00:45:52,060
<font color="#CCCCCC">open for let's</font><font color="#E5E5E5"> just open it to the</font>

1293
00:45:51,190 --> 00:45:54,670
<font color="#CCCCCC">Internet</font><font color="#E5E5E5"> you</font><font color="#CCCCCC"> know</font>

1294
00:45:52,060 --> 00:45:55,960
so definitely scan ports because

1295
00:45:54,670 --> 00:45:57,040
everything's just gonna be<font color="#CCCCCC"> connected</font>

1296
00:45:55,960 --> 00:46:00,160
<font color="#E5E5E5">everything else in a really really</font>

1297
00:45:57,040 --> 00:46:02,680
<font color="#E5E5E5">really bad way</font><font color="#CCCCCC"> attacking</font><font color="#E5E5E5"> the stacks</font>

1298
00:46:00,160 --> 00:46:04,810
themselves very<font color="#E5E5E5"> popular kubernetes</font>

1299
00:46:02,680 --> 00:46:06,339
<font color="#E5E5E5">is a great tool</font><font color="#CCCCCC"> called mini coop</font><font color="#E5E5E5"> which</font>

1300
00:46:04,810 --> 00:46:08,980
will get you up<font color="#CCCCCC"> and running locally for</font>

1301
00:46:06,339 --> 00:46:10,900
<font color="#CCCCCC">minimal work</font><font color="#E5E5E5"> this is a very</font><font color="#CCCCCC"> great blog</font>

1302
00:46:08,980 --> 00:46:12,130
that takes you through it I would

1303
00:46:10,900 --> 00:46:13,540
<font color="#CCCCCC">definitely recommend looking kubernetes</font>

1304
00:46:12,130 --> 00:46:18,310
how people are using<font color="#E5E5E5"> it deployment</font>

1305
00:46:13,540 --> 00:46:19,990
misusing it<font color="#E5E5E5"> because popular ones there's</font>

1306
00:46:18,310 --> 00:46:21,250
a bunch of other<font color="#E5E5E5"> stuff but</font><font color="#CCCCCC"> I think we're</font>

1307
00:46:19,990 --> 00:46:23,500
quite short on time<font color="#CCCCCC"> so</font><font color="#E5E5E5"> I'm</font><font color="#CCCCCC"> just</font><font color="#E5E5E5"> gonna</font>

1308
00:46:21,250 --> 00:46:26,200
skip over<font color="#CCCCCC"> it a</font><font color="#E5E5E5"> great way to do static</font>

1309
00:46:23,500 --> 00:46:28,720
analysis of<font color="#CCCCCC"> doctor images docker</font><font color="#E5E5E5"> have</font>

1310
00:46:26,200 --> 00:46:29,919
got<font color="#E5E5E5"> tags that will they've started now</font>

1311
00:46:28,720 --> 00:46:31,480
rating<font color="#CCCCCC"> weather</font><font color="#E5E5E5"> images have honor</font>

1312
00:46:29,920 --> 00:46:32,530
abilities we're not really really great

1313
00:46:31,480 --> 00:46:33,820
you<font color="#E5E5E5"> know someone's using an image</font>

1314
00:46:32,530 --> 00:46:35,320
<font color="#E5E5E5">coherency if that image</font><font color="#CCCCCC"> has</font>

1315
00:46:33,820 --> 00:46:39,390
vulnerabilities<font color="#E5E5E5"> then go attack them</font>

1316
00:46:35,320 --> 00:46:41,530
don't detect them<font color="#CCCCCC"> using latest tags</font>

1317
00:46:39,390 --> 00:46:43,839
using<font color="#E5E5E5"> latest tags is generally</font><font color="#CCCCCC"> bad</font>

1318
00:46:41,530 --> 00:46:45,400
<font color="#E5E5E5">practice and you can</font><font color="#CCCCCC"> run docker</font><font color="#E5E5E5"> not as</font>

1319
00:46:43,839 --> 00:46:47,029
<font color="#CCCCCC">route so definitely go check</font><font color="#E5E5E5"> that out</font>

1320
00:46:45,400 --> 00:46:49,400
docker

1321
00:46:47,030 --> 00:46:50,690
and then<font color="#CCCCCC"> NISD have actually put together</font>

1322
00:46:49,400 --> 00:46:52,010
a container security guide which is

1323
00:46:50,690 --> 00:46:54,200
<font color="#E5E5E5">quite</font><font color="#CCCCCC"> useful so</font><font color="#E5E5E5"> that's a bit of cheat</font>

1324
00:46:52,010 --> 00:46:55,730
sheet and<font color="#E5E5E5"> you can</font><font color="#CCCCCC"> do things like you can</font>

1325
00:46:54,200 --> 00:46:56,899
now mount your GPU inside<font color="#CCCCCC"> doctor</font>

1326
00:46:55,730 --> 00:46:58,730
container for mining or possible

1327
00:46:56,900 --> 00:47:00,410
<font color="#E5E5E5">tracking which is cool there's a boot to</font>

1328
00:46:58,730 --> 00:47:01,730
route that<font color="#CCCCCC"> you can do</font><font color="#E5E5E5"> inside docker to</font>

1329
00:47:00,410 --> 00:47:03,680
learn more<font color="#E5E5E5"> about it</font><font color="#CCCCCC"> I've mentioned mini</font>

1330
00:47:01,730 --> 00:47:06,620
cube you can<font color="#CCCCCC"> run the very first UNIX</font>

1331
00:47:03,680 --> 00:47:09,169
from 1972 to keep with<font color="#E5E5E5"> the theme</font><font color="#CCCCCC"> inside</font>

1332
00:47:06,620 --> 00:47:10,880
<font color="#CCCCCC">tucker dr. Campos</font><font color="#E5E5E5"> lets you build really</font>

1333
00:47:09,170 --> 00:47:14,000
big complex networks very very easily

1334
00:47:10,880 --> 00:47:15,920
with docker<font color="#CCCCCC"> 25% of docker images have</font>

1335
00:47:14,000 --> 00:47:17,270
significant<font color="#E5E5E5"> vulnerability sysm recent</font>

1336
00:47:15,920 --> 00:47:18,920
<font color="#CCCCCC">studies so that's really interesting</font>

1337
00:47:17,270 --> 00:47:20,660
<font color="#E5E5E5">because remember people are building on</font>

1338
00:47:18,920 --> 00:47:22,250
top of<font color="#CCCCCC"> these layers</font><font color="#E5E5E5"> so if a layer is</font>

1339
00:47:20,660 --> 00:47:24,770
vulnerable anything built on top of it

1340
00:47:22,250 --> 00:47:26,840
likely is vulnerable to<font color="#E5E5E5"> you can do</font>

1341
00:47:24,770 --> 00:47:28,400
access point stuff<font color="#CCCCCC"> post</font><font color="#E5E5E5"> access points</font>

1342
00:47:26,840 --> 00:47:31,610
<font color="#CCCCCC">and all the</font><font color="#E5E5E5"> rest have been wireless into</font>

1343
00:47:28,400 --> 00:47:34,370
docker<font color="#E5E5E5"> also really really cool some more</font>

1344
00:47:31,610 --> 00:47:36,320
security<font color="#E5E5E5"> auditing stuff</font><font color="#CCCCCC"> and if you're</font>

1345
00:47:34,370 --> 00:47:36,710
<font color="#E5E5E5">interested in</font><font color="#CCCCCC"> InfoSec</font><font color="#E5E5E5"> please</font><font color="#CCCCCC"> come join</font>

1346
00:47:36,320 --> 00:47:38,870
<font color="#E5E5E5">us</font>

1347
00:47:36,710 --> 00:47:41,360
<font color="#CCCCCC">0x coffee we're on meetup.com we have a</font>

1348
00:47:38,870 --> 00:47:44,680
<font color="#E5E5E5">website monthly super super get together</font>

1349
00:47:41,360 --> 00:47:46,700
<font color="#E5E5E5">and more about docker</font><font color="#CCCCCC"> the</font><font color="#E5E5E5"> devops guys</font>

1350
00:47:44,680 --> 00:47:50,270
<font color="#E5E5E5">they've got a meet-up and</font><font color="#CCCCCC"> they've put</font><font color="#E5E5E5"> an</font>

1351
00:47:46,700 --> 00:47:52,220
annual conference<font color="#CCCCCC"> that</font><font color="#E5E5E5"> i</font><font color="#CCCCCC"> have</font><font color="#E5E5E5"> a bunch of</font>

1352
00:47:50,270 --> 00:47:53,630
stickers printed and they really<font color="#E5E5E5"> really</font>

1353
00:47:52,220 --> 00:47:54,770
messed<font color="#CCCCCC"> a lot</font><font color="#E5E5E5"> so you're welcome</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> get</font>

1354
00:47:53,630 --> 00:47:56,150
some<font color="#E5E5E5"> stickers but you'll have to cut</font>

1355
00:47:54,770 --> 00:47:57,560
them out yourself<font color="#CCCCCC"> I do have</font><font color="#E5E5E5"> another</font>

1356
00:47:56,150 --> 00:48:02,860
delivery arriving which will probably<font color="#E5E5E5"> be</font>

1357
00:47:57,560 --> 00:48:05,500
<font color="#E5E5E5">at the next 0x</font><font color="#CCCCCC"> card and that's</font><font color="#E5E5E5"> a wrap</font>

1358
00:48:02,860 --> 00:48:08,720
[Applause]

1359
00:48:05,500 --> 00:48:10,640
we're quite short on time<font color="#CCCCCC"> but are there</font>

1360
00:48:08,720 --> 00:48:12,649
<font color="#CCCCCC">any</font><font color="#E5E5E5"> questions otherwise chat to me</font>

1361
00:48:10,640 --> 00:48:13,339
afterwards I think<font color="#CCCCCC"> might be better</font><font color="#E5E5E5"> I'm</font>

1362
00:48:12,650 --> 00:48:16,390
out do my best

1363
00:48:13,340 --> 00:48:16,390
cool thank you<font color="#E5E5E5"> guys</font>

