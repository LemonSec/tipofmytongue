1
00:00:02,590 --> 00:00:05,200
so first simulation and how to do it for

2
00:00:05,200 --> 00:00:08,020
free my massive caveat is nothing in

3
00:00:08,020 --> 00:00:10,650
life clicker clicker work click click

4
00:00:10,650 --> 00:00:12,879
nothing live free you still need some

5
00:00:12,879 --> 00:00:15,279
people in time or don't buy 3 open

6
00:00:15,279 --> 00:00:16,990
source and free tools rather than

7
00:00:16,990 --> 00:00:21,519
commercial tools and that's why we talk

8
00:00:21,519 --> 00:00:24,189
about so I talk about Who I am very 30

9
00:00:24,189 --> 00:00:27,970
seconds why when Phet simulation might

10
00:00:27,970 --> 00:00:29,409
be used for what the use case is what

11
00:00:29,409 --> 00:00:31,570
are the problems it solves and the

12
00:00:31,570 --> 00:00:33,160
problems it really doesn't solve and you

13
00:00:33,160 --> 00:00:34,390
might be something better obviously like

14
00:00:34,390 --> 00:00:37,030
a pen test or a bug bounty look at then

15
00:00:37,030 --> 00:00:40,270
what it is and the how the various

16
00:00:40,270 --> 00:00:42,040
different tools that are free and that

17
00:00:42,040 --> 00:00:43,560
you can use to solve those problems and

18
00:00:43,560 --> 00:00:46,000
with that I'll do a couple of demos of

19
00:00:46,000 --> 00:00:49,000
some of those tools being a 30 minute

20
00:00:49,000 --> 00:00:50,830
presentation I have cheated and used

21
00:00:50,830 --> 00:00:52,750
videos because live demos inevitably go

22
00:00:52,750 --> 00:00:54,160
wrong so it's just a couple of little

23
00:00:54,160 --> 00:00:56,890
videos to show you what these tools look

24
00:00:56,890 --> 00:00:59,260
like an idea of them and at the end a

25
00:00:59,260 --> 00:01:03,010
how-to a very simplified methodology of

26
00:01:03,010 --> 00:01:04,839
if I'm going about this what are the

27
00:01:04,839 --> 00:01:06,340
steps I want to take third doing severe

28
00:01:06,340 --> 00:01:09,369
simulation and then I take questions but

29
00:01:09,369 --> 00:01:11,350
probably not 40 won't be time and catch

30
00:01:11,350 --> 00:01:14,859
me off this Mohammed rap so am i I am X

31
00:01:14,859 --> 00:01:16,509
air force officer standing shouting

32
00:01:16,509 --> 00:01:18,310
loudly confident and potentially wrong

33
00:01:18,310 --> 00:01:20,829
so please forgive me if I am and I

34
00:01:20,829 --> 00:01:22,840
worked there for 10 years and started a

35
00:01:22,840 --> 00:01:25,539
cyber exercising and training company in

36
00:01:25,539 --> 00:01:27,189
February with John we can talk a little

37
00:01:27,189 --> 00:01:31,270
bit later so why what problem does

38
00:01:31,270 --> 00:01:35,139
threat simulation try and solve see

39
00:01:35,139 --> 00:01:36,639
you're there you're looking after

40
00:01:36,639 --> 00:01:39,189
enterprise of some kind or a network and

41
00:01:39,189 --> 00:01:40,840
do your defenses that you thought

42
00:01:40,840 --> 00:01:42,579
workers they should you've got something

43
00:01:42,579 --> 00:01:44,649
like say carbon black which can be a

44
00:01:44,649 --> 00:01:47,170
fantastic defensive technology if it's

45
00:01:47,170 --> 00:01:49,569
configured correctly if it's not

46
00:01:49,569 --> 00:01:50,649
configured correctly it can be quite

47
00:01:50,649 --> 00:01:52,990
easy to bypass ensure any pen testers

48
00:01:52,990 --> 00:01:53,889
are well aware of that

49
00:01:53,889 --> 00:01:55,929
so do you know that it's actually

50
00:01:55,929 --> 00:01:57,310
blocking what you do do you want to just

51
00:01:57,310 --> 00:01:59,380
check once a week once monthly release

52
00:01:59,380 --> 00:02:01,179
there's quickly one assessments node is

53
00:02:01,179 --> 00:02:04,270
it still do I do I thought it did or I'm

54
00:02:04,270 --> 00:02:05,529
deploying some new structure to the

55
00:02:05,529 --> 00:02:06,999
cloud somewhere maybe I built a new

56
00:02:06,999 --> 00:02:08,679
subnet a new network person new routing

57
00:02:08,679 --> 00:02:10,899
in do my defenses detector something bad

58
00:02:10,899 --> 00:02:12,280
happens on that compared to if it

59
00:02:12,280 --> 00:02:13,680
happens somewhere I've had before

60
00:02:13,680 --> 00:02:16,069
well how about I built

61
00:02:16,069 --> 00:02:17,900
response program I've got a new MSSP

62
00:02:17,900 --> 00:02:19,939
does it work as I think it is our

63
00:02:19,939 --> 00:02:21,920
mitosis is correct so you maybe want to

64
00:02:21,920 --> 00:02:23,989
run a exercise or a threat assessment or

65
00:02:23,989 --> 00:02:26,150
threat incident things and the last

66
00:02:26,150 --> 00:02:27,950
year's case we've picked up on Matt's

67
00:02:27,950 --> 00:02:29,719
talk this morning is you've got some

68
00:02:29,719 --> 00:02:31,159
effect intelligence about a specific

69
00:02:31,159 --> 00:02:33,920
group do I know that I'm safe from them

70
00:02:33,920 --> 00:02:35,420
can I protect against those specific

71
00:02:35,420 --> 00:02:39,680
threats that I might be worried about so

72
00:02:39,680 --> 00:02:41,389
what is it could also call it breach or

73
00:02:41,389 --> 00:02:43,040
attack simulation but is about three

74
00:02:43,040 --> 00:02:45,129
Malay teen threats at supply supplies

75
00:02:45,129 --> 00:02:48,439
and it's a peaceful process so most of

76
00:02:48,439 --> 00:02:50,900
these tools you could say once a day I'm

77
00:02:50,900 --> 00:02:52,579
going to run this and someone got

78
00:02:52,579 --> 00:02:54,260
automation built in but it's nicely

79
00:02:54,260 --> 00:02:56,930
simple and straightforward what it's not

80
00:02:56,930 --> 00:02:58,099
it's not about finding vulnerabilities

81
00:02:58,099 --> 00:03:00,319
it's about knowing are these behaviors

82
00:03:00,319 --> 00:03:01,430
detectable if you're finding

83
00:03:01,430 --> 00:03:03,980
vulnerabilities bug bounty pentest is

84
00:03:03,980 --> 00:03:05,449
where you want but you don't probably

85
00:03:05,449 --> 00:03:07,819
want to be paying a pen tester so once a

86
00:03:07,819 --> 00:03:10,239
week just run some simple stuff for you

87
00:03:10,239 --> 00:03:12,019
that's not least care so it's not a

88
00:03:12,019 --> 00:03:13,969
place in that human ingenuity and

89
00:03:13,969 --> 00:03:15,859
problem-solving is to place in those

90
00:03:15,859 --> 00:03:18,230
tasks it can be automated can be run

91
00:03:18,230 --> 00:03:23,030
routinely and looked at scimitar see why

92
00:03:23,030 --> 00:03:24,019
would you want to do this there's kind

93
00:03:24,019 --> 00:03:26,180
of four levels of maturity I think about

94
00:03:26,180 --> 00:03:29,259
with Phet simulation same as any kind of

95
00:03:29,259 --> 00:03:31,400
security program first thing you

96
00:03:31,400 --> 00:03:33,530
probably want to be able to do is do I

97
00:03:33,530 --> 00:03:34,939
have a process where I can handle threat

98
00:03:34,939 --> 00:03:36,769
so the basic level of first immolation

99
00:03:36,769 --> 00:03:39,439
is okay let's practice an incident make

100
00:03:39,439 --> 00:03:41,060
sure processes work as we think we're

101
00:03:41,060 --> 00:03:43,280
going to I've got a couple of tools are

102
00:03:43,280 --> 00:03:46,459
really super introductions to that once

103
00:03:46,459 --> 00:03:48,109
you know how you respond can you detect

104
00:03:48,109 --> 00:03:49,699
what is most likely to affect your

105
00:03:49,699 --> 00:03:50,870
environment or you're going to see most

106
00:03:50,870 --> 00:03:52,609
of time and I seeing lots of lots of

107
00:03:52,609 --> 00:03:54,590
scanning I'm I'm happy that I know when

108
00:03:54,590 --> 00:03:55,819
scanning is actually bad or when it's

109
00:03:55,819 --> 00:03:58,370
not or can I deal with pasture we know

110
00:03:58,370 --> 00:04:00,500
partial v5 got great logging but can I

111
00:04:00,500 --> 00:04:01,969
actually make sure if I see something

112
00:04:01,969 --> 00:04:03,979
bad in PowerShell looking I can detect

113
00:04:03,979 --> 00:04:06,290
it and do something about it and then

114
00:04:06,290 --> 00:04:08,419
you're into the more points where you

115
00:04:08,419 --> 00:04:09,979
use your building taking threat

116
00:04:09,979 --> 00:04:11,689
intelligence and customizing it and

117
00:04:11,689 --> 00:04:13,759
going what actually am I really worried

118
00:04:13,759 --> 00:04:15,169
about whether that's assets I'm worried

119
00:04:15,169 --> 00:04:16,310
about protecting or date I know

120
00:04:16,310 --> 00:04:17,719
particularly valuable I don't to be

121
00:04:17,719 --> 00:04:20,269
touched or groups coming out it where am

122
00:04:20,269 --> 00:04:23,120
i blind and this leads to again threats

123
00:04:23,120 --> 00:04:24,190
animation maps set me up perfectly

124
00:04:24,190 --> 00:04:26,180
thinking what those groups can be doing

125
00:04:26,180 --> 00:04:28,130
in two three months time well let's

126
00:04:28,130 --> 00:04:29,750
practice that now

127
00:04:29,750 --> 00:04:31,400
then we know do I need to invest and you

128
00:04:31,400 --> 00:04:32,620
can build that investment case

129
00:04:32,620 --> 00:04:34,490
specifically around things you know you

130
00:04:34,490 --> 00:04:36,920
can or can't detect so some really

131
00:04:36,920 --> 00:04:38,270
powerful ways this could be really

132
00:04:38,270 --> 00:04:41,120
useful and then finally you're sorted

133
00:04:41,120 --> 00:04:42,680
you're now practicing full attacks

134
00:04:42,680 --> 00:04:45,680
regularly bit like Netflix has got chaos

135
00:04:45,680 --> 00:04:47,150
monkey that turns things off so they're

136
00:04:47,150 --> 00:04:48,620
always practicing that we build an

137
00:04:48,620 --> 00:04:50,210
infrastructure maybe you could have

138
00:04:50,210 --> 00:04:51,680
something the same effect stimulation

139
00:04:51,680 --> 00:04:53,960
and your sock is routinely practicing

140
00:04:53,960 --> 00:04:55,610
and you could turn it off if things get

141
00:04:55,610 --> 00:04:59,240
really bad or something like that so it

142
00:04:59,240 --> 00:05:00,740
surprised nobody's mentioned my to

143
00:05:00,740 --> 00:05:03,410
attack yet today but is the common

144
00:05:03,410 --> 00:05:04,760
language which we can use to describe

145
00:05:04,760 --> 00:05:06,560
threats particularly for threat

146
00:05:06,560 --> 00:05:08,420
simulation it's really useful do you

147
00:05:08,420 --> 00:05:10,130
think these are specific behaviors

148
00:05:10,130 --> 00:05:12,110
tactics that I'm worried about

149
00:05:12,110 --> 00:05:14,960
now the caution is it is not-- poke not

150
00:05:14,960 --> 00:05:17,180
Pokemon ie you ain't got to catch them

151
00:05:17,180 --> 00:05:19,520
all if you try and build a behavior

152
00:05:19,520 --> 00:05:21,170
detection for every single one of those

153
00:05:21,170 --> 00:05:23,750
you're gonna have issues and nationwide

154
00:05:23,750 --> 00:05:25,520
it's got a great story about this I

155
00:05:25,520 --> 00:05:27,860
think they've got video on YouTube I've

156
00:05:27,860 --> 00:05:29,180
got the reference to it at the end if

157
00:05:29,180 --> 00:05:30,920
anyone wants to watch but they started

158
00:05:30,920 --> 00:05:32,300
off game right let's try and build a

159
00:05:32,300 --> 00:05:34,610
Phet simulation for every single one of

160
00:05:34,610 --> 00:05:37,490
those techniques in my to attack I spent

161
00:05:37,490 --> 00:05:39,380
a year doing it and didn't get anywhere

162
00:05:39,380 --> 00:05:41,110
and I thought why we need a new approach

163
00:05:41,110 --> 00:05:44,300
so what they did was they took and

164
00:05:44,300 --> 00:05:45,650
looked at the threat intelligence say

165
00:05:45,650 --> 00:05:47,120
who the attacker is attacking financial

166
00:05:47,120 --> 00:05:49,070
institution at the moment what

167
00:05:49,070 --> 00:05:50,660
techniques are they're using what they

168
00:05:50,660 --> 00:05:52,700
use to compromise other people and they

169
00:05:52,700 --> 00:05:54,500
come up with the a prioritized list of

170
00:05:54,500 --> 00:05:56,180
the 90 tactics they thought were most

171
00:05:56,180 --> 00:05:58,040
relevant to them and then built

172
00:05:58,040 --> 00:05:59,570
simulation around that so very much

173
00:05:59,570 --> 00:06:01,160
tailoring that for intelligence

174
00:06:01,160 --> 00:06:03,080
all right information and turning into

175
00:06:03,080 --> 00:06:04,280
intelligence to know what they actually

176
00:06:04,280 --> 00:06:07,340
needed to do so that's the enemy to Iraq

177
00:06:07,340 --> 00:06:10,640
for intelligence I think system talks a

178
00:06:10,640 --> 00:06:13,880
beautiful table I've categorized it into

179
00:06:13,880 --> 00:06:16,010
five different kinds of tools you can

180
00:06:16,010 --> 00:06:18,230
talk about so the first of tools to

181
00:06:18,230 --> 00:06:19,370
guide you through an instant response

182
00:06:19,370 --> 00:06:22,340
practice the obvious one is NCS ease

183
00:06:22,340 --> 00:06:24,680
exercise in a box brilliantly they put

184
00:06:24,680 --> 00:06:26,600
some nice handrails that song that's not

185
00:06:26,600 --> 00:06:27,890
done this before things to think about

186
00:06:27,890 --> 00:06:30,680
how to do it and you can across the

187
00:06:30,680 --> 00:06:31,850
bottom of course just do anything

188
00:06:31,850 --> 00:06:33,290
yourself with some pair shells and

189
00:06:33,290 --> 00:06:37,670
bashed in command some of the lights

190
00:06:37,670 --> 00:06:39,470
contained exerciser box you've got

191
00:06:39,470 --> 00:06:41,120
something up all select network traffic

192
00:06:41,120 --> 00:06:43,819
you've got flight sim by alpha sock

193
00:06:43,819 --> 00:06:45,680
portable executables our shirt in a

194
00:06:45,680 --> 00:06:48,319
minute really simple easy to run for

195
00:06:48,319 --> 00:06:50,360
example it can do see to traffic that

196
00:06:50,360 --> 00:06:52,610
looks a bit like mo tat she just go if

197
00:06:52,610 --> 00:06:54,349
this isn't my network can I see it join

198
00:06:54,349 --> 00:06:55,910
no have I got that early warning and

199
00:06:55,910 --> 00:06:58,759
then Nessie squared sorry I've failed on

200
00:06:58,759 --> 00:07:02,300
the tooth making it high but that is

201
00:07:02,300 --> 00:07:04,160
more of a network configure management

202
00:07:04,160 --> 00:07:05,300
and then it will look foolish made in

203
00:07:05,300 --> 00:07:08,240
vulnerabilities you've been that next

204
00:07:08,240 --> 00:07:10,970
kind of malware simulators this is

205
00:07:10,970 --> 00:07:12,949
interaction monkey by gar decor I'll

206
00:07:12,949 --> 00:07:14,539
show that effectively it's a great

207
00:07:14,539 --> 00:07:17,210
all-in-one let's do a bunch of noisy

208
00:07:17,210 --> 00:07:18,620
activity on the network see if we can

209
00:07:18,620 --> 00:07:22,430
see it the market it as a replacement

210
00:07:22,430 --> 00:07:24,319
for an automated it's an automated pen

211
00:07:24,319 --> 00:07:26,360
test I don't think it is I think it's

212
00:07:26,360 --> 00:07:28,099
quite useful tool for quickly trying

213
00:07:28,099 --> 00:07:30,680
things like our users repeatedly using

214
00:07:30,680 --> 00:07:32,330
password one two three across my network

215
00:07:32,330 --> 00:07:34,400
it will smash SMB across the network and

216
00:07:34,400 --> 00:07:37,099
tell you and then you enter detection

217
00:07:37,099 --> 00:07:38,870
coverage so these tools are ones that

218
00:07:38,870 --> 00:07:40,849
you go by I am specifically interested

219
00:07:40,849 --> 00:07:44,720
in spotting some modify in version 3

220
00:07:44,720 --> 00:07:46,699
settings these will one individual mitre

221
00:07:46,699 --> 00:07:49,039
techniques and allow you to test for

222
00:07:49,039 --> 00:07:51,740
them so is apt simulator which is a bunt

223
00:07:51,740 --> 00:07:54,650
and windows batch scripts a tight red

224
00:07:54,650 --> 00:07:57,199
team by red canary which is a fantastic

225
00:07:57,199 --> 00:07:59,659
resource on github of one-liners for

226
00:07:59,659 --> 00:08:02,870
Windows Mac Linux the whole bunch of

227
00:08:02,870 --> 00:08:04,610
different flavors I'll share that at the

228
00:08:04,610 --> 00:08:06,949
end and a toilet bread team by endgame

229
00:08:06,949 --> 00:08:09,199
which is a bunch of PowerShell scripts

230
00:08:09,199 --> 00:08:11,060
effectively atomic red team's the best

231
00:08:11,060 --> 00:08:13,130
and use the others if you can't find a

232
00:08:13,130 --> 00:08:14,659
detection or simulation that you want

233
00:08:14,659 --> 00:08:18,349
than the others and the end the most

234
00:08:18,349 --> 00:08:20,210
advanced is a virtual simulation so can

235
00:08:20,210 --> 00:08:22,250
I simulate end to end a phishing email

236
00:08:22,250 --> 00:08:24,409
that comes in it then waits it covers

237
00:08:24,409 --> 00:08:25,909
persistence then follow some other steps

238
00:08:25,909 --> 00:08:27,380
and you can build up attackers in it

239
00:08:27,380 --> 00:08:29,690
stock card over by my to is probably the

240
00:08:29,690 --> 00:08:31,729
most well known and I've got a little

241
00:08:31,729 --> 00:08:34,370
demo a version two of that has then meta

242
00:08:34,370 --> 00:08:36,649
which is by uber and they have been

243
00:08:36,649 --> 00:08:38,510
sourced it and it effectively uses

244
00:08:38,510 --> 00:08:40,909
vagrant VM so via machines you spin up

245
00:08:40,909 --> 00:08:42,799
and down and it's designed for testing

246
00:08:42,799 --> 00:08:44,570
end point detection your tools around

247
00:08:44,570 --> 00:08:47,420
that and the last is purple team which

248
00:08:47,420 --> 00:08:49,490
is a version of Metasploit where they've

249
00:08:49,490 --> 00:08:51,620
imported all of the indoor tests for

250
00:08:51,620 --> 00:08:55,270
metallic red team so that is

251
00:08:55,270 --> 00:08:58,120
what are those tools now gonna go to a

252
00:08:58,120 --> 00:09:00,100
couple of demos and before I do

253
00:09:00,100 --> 00:09:03,930
he's a very billy basics network I built

254
00:09:03,930 --> 00:09:06,190
so you've got a lil ecstatic her for the

255
00:09:06,190 --> 00:09:07,420
things that require server to come from

256
00:09:07,420 --> 00:09:09,550
that a couple of Windows seven clients

257
00:09:09,550 --> 00:09:13,300
and I think they were on a 2/24 subnet

258
00:09:13,300 --> 00:09:15,420
on there and a domain controller on a

259
00:09:15,420 --> 00:09:19,209
1/24 so super basic network and the

260
00:09:19,209 --> 00:09:21,070
ability to add one inquire with static

261
00:09:21,070 --> 00:09:21,490
boots

262
00:09:21,490 --> 00:09:23,410
it's just have something to test on his

263
00:09:23,410 --> 00:09:26,470
show so first one exercise in the Box

264
00:09:26,470 --> 00:09:29,770
wonderful so this simulates a user has

265
00:09:29,770 --> 00:09:32,950
downloaded a or open a malicious web

266
00:09:32,950 --> 00:09:35,020
page and we're gonna see to beacon every

267
00:09:35,020 --> 00:09:36,250
ten seconds

268
00:09:36,250 --> 00:09:37,600
and the idea is you can take someone

269
00:09:37,600 --> 00:09:39,910
through a full instant response going

270
00:09:39,910 --> 00:09:42,040
right can we detect it as a beacon can

271
00:09:42,040 --> 00:09:43,779
we then work out what happened and try

272
00:09:43,779 --> 00:09:44,320
and find it

273
00:09:44,320 --> 00:09:47,950
so really is use oh I left a very

274
00:09:47,950 --> 00:09:52,630
cliquey so this is the download web page

275
00:09:52,630 --> 00:09:55,300
that's running on a client perfectly a

276
00:09:55,300 --> 00:09:59,350
users open this web page and there's a

277
00:09:59,350 --> 00:10:00,670
secret challenge to find so you can hit

278
00:10:00,670 --> 00:10:02,260
test which I'd do in a minute if the

279
00:10:02,260 --> 00:10:05,620
video is going to actually move me there

280
00:10:05,620 --> 00:10:07,510
we go it is there's a stop ten second

281
00:10:07,510 --> 00:10:10,540
slide so it tells you it's connected you

282
00:10:10,540 --> 00:10:11,860
can check it you can then set it

283
00:10:11,860 --> 00:10:13,870
automated to start certain time of day

284
00:10:13,870 --> 00:10:17,890
and yet you can see it's got an HTTP 200

285
00:10:17,890 --> 00:10:20,950
response and I'll open up the contours

286
00:10:20,950 --> 00:10:22,630
in a minute and just check the speaking

287
00:10:22,630 --> 00:10:24,910
the nice thing is because it runs via

288
00:10:24,910 --> 00:10:27,700
HTTP there's a secret message so you can

289
00:10:27,700 --> 00:10:29,079
take them through once they found it

290
00:10:29,079 --> 00:10:30,910
what was the data that was exfilled then

291
00:10:30,910 --> 00:10:33,190
go into was this actual content we cared

292
00:10:33,190 --> 00:10:34,690
about or not and run through that whole

293
00:10:34,690 --> 00:10:38,589
end-to-end I've used it we've a couple

294
00:10:38,589 --> 00:10:40,390
of local councils that have never even

295
00:10:40,390 --> 00:10:42,490
thought about incident response and you

296
00:10:42,490 --> 00:10:43,839
can search from the SRC and it's a

297
00:10:43,839 --> 00:10:46,870
really nice quick way to get started it

298
00:10:46,870 --> 00:10:48,970
is evil though because it does it from a

299
00:10:48,970 --> 00:10:50,860
web browser it never closes the TCP

300
00:10:50,860 --> 00:10:53,380
connection so you're never gonna get a

301
00:10:53,380 --> 00:10:55,029
fin flag and if you're using something

302
00:10:55,029 --> 00:10:56,350
like bro or some of the network

303
00:10:56,350 --> 00:10:57,940
detection things you're not going to see

304
00:10:57,940 --> 00:11:00,310
multiple connections on frequencies so

305
00:11:00,310 --> 00:11:04,720
what you might want to do is just run a

306
00:11:04,720 --> 00:11:06,520
PowerShell command that does a super

307
00:11:06,520 --> 00:11:07,779
simple beacon for someone at the same

308
00:11:07,779 --> 00:11:08,840
time or

309
00:11:08,840 --> 00:11:10,700
come on from thing just to have a really

310
00:11:10,700 --> 00:11:13,220
obvious beacon and you could have random

311
00:11:13,220 --> 00:11:14,870
jitter under there as well but just she

312
00:11:14,870 --> 00:11:16,940
dear why you can make a super simple

313
00:11:16,940 --> 00:11:19,030
beacon for someone to hunt for as well

314
00:11:19,030 --> 00:11:22,250
so that's the most basic level of kind

315
00:11:22,250 --> 00:11:23,630
of instruments pancit all are the other

316
00:11:23,630 --> 00:11:25,400
nice thing about exercise in a box is it

317
00:11:25,400 --> 00:11:27,680
produces a report at the end it just

318
00:11:27,680 --> 00:11:30,410
read nice and straightforward to do and

319
00:11:30,410 --> 00:11:33,020
it handhold someone very much to it next

320
00:11:33,020 --> 00:11:34,940
these flights in so flight sim was the 1

321
00:11:34,940 --> 00:11:37,780
by alpha sock it produces c2 traffic

322
00:11:37,780 --> 00:11:40,280
that looks on the network revive

323
00:11:40,280 --> 00:11:42,530
different ways and you can run it on a

324
00:11:42,530 --> 00:11:44,630
client machine or domain controller or

325
00:11:44,630 --> 00:11:46,370
any kind of machine on the network to

326
00:11:46,370 --> 00:11:48,110
create that c2 traffic and it's

327
00:11:48,110 --> 00:11:51,230
important you talk so Windows or Linux I

328
00:11:51,230 --> 00:11:52,760
think is available

329
00:11:52,760 --> 00:11:54,740
oh it's built in Goa language you

330
00:11:54,740 --> 00:11:56,780
compile it yourself again links all

331
00:11:56,780 --> 00:11:57,950
right at the ends you can go have a look

332
00:11:57,950 --> 00:12:00,220
yourself so here's a little video

333
00:12:00,220 --> 00:12:05,930
showing this no no see demos always go

334
00:12:05,930 --> 00:12:07,070
wrong don't they even when you find a

335
00:12:07,070 --> 00:12:09,470
cheap your videos so port of execution

336
00:12:09,470 --> 00:12:10,850
it's in the Downloads folder on a

337
00:12:10,850 --> 00:12:13,760
Windows machine and cool it gives you

338
00:12:13,760 --> 00:12:16,130
little man page when you hit run start

339
00:12:16,130 --> 00:12:19,040
with and I'm just going to hit run D for

340
00:12:19,040 --> 00:12:22,550
options and this will run five instances

341
00:12:22,550 --> 00:12:26,600
of each kind of network traffic C to

342
00:12:26,600 --> 00:12:28,580
traffic so it's done a bunch of domains

343
00:12:28,580 --> 00:12:31,430
it will now try connecting to random IPS

344
00:12:31,430 --> 00:12:33,440
and ports or then do some domain

345
00:12:33,440 --> 00:12:34,820
generation algorithm ever remember

346
00:12:34,820 --> 00:12:35,390
Conficker

347
00:12:35,390 --> 00:12:37,190
from ages ago he said like a hundred

348
00:12:37,190 --> 00:12:38,660
thousand of those a day at the end of it

349
00:12:38,660 --> 00:12:40,640
which could be real pay no Microsoft had

350
00:12:40,640 --> 00:12:42,610
a massive task force set up to solve it

351
00:12:42,610 --> 00:12:46,880
and we'll do some our f5 737 which is

352
00:12:46,880 --> 00:12:48,860
the reference IP which you should never

353
00:12:48,860 --> 00:12:50,810
see so it's a nice simple network

354
00:12:50,810 --> 00:12:53,570
traffic it's a test going is my MSSP or

355
00:12:53,570 --> 00:12:55,850
can actually detect these things so they

356
00:12:55,850 --> 00:12:57,830
say they can it's that distrust but

357
00:12:57,830 --> 00:13:00,160
verify is nice and then you can also

358
00:13:00,160 --> 00:13:02,990
they just add a recently mimicked trick

359
00:13:02,990 --> 00:13:05,300
bot and Imhotep they're starting to add

360
00:13:05,300 --> 00:13:07,100
specific malware families to this tool

361
00:13:07,100 --> 00:13:09,020
which is a really nice add-on so if

362
00:13:09,020 --> 00:13:11,060
you're going all these people came off

363
00:13:11,060 --> 00:13:13,160
the people were in a similar vector can

364
00:13:13,160 --> 00:13:14,990
we detect them or we worried about as

365
00:13:14,990 --> 00:13:17,540
well quick way to run that traffic and

366
00:13:17,540 --> 00:13:18,770
so you're not running your host base you

367
00:13:18,770 --> 00:13:21,760
can maybe look at the network side

368
00:13:22,110 --> 00:13:25,750
the next tool beautiful God cord done a

369
00:13:25,750 --> 00:13:26,920
lovely little picture I've got a

370
00:13:26,920 --> 00:13:28,860
beautiful website for infection monkey

371
00:13:28,860 --> 00:13:32,020
you do have to register to get hold of

372
00:13:32,020 --> 00:13:34,030
infection monkey but there is on a I

373
00:13:34,030 --> 00:13:36,280
think it's on a MIT license it's open

374
00:13:36,280 --> 00:13:40,330
source and it's built in Python 3 and

375
00:13:40,330 --> 00:13:42,730
uses floss because the front end and

376
00:13:42,730 --> 00:13:45,520
some JavaScript I tried to get it run on

377
00:13:45,520 --> 00:13:47,350
the Linux attacker as a server I had a

378
00:13:47,350 --> 00:13:48,880
nightmare the latest release I put it on

379
00:13:48,880 --> 00:13:50,170
the domain controller instead I don't

380
00:13:50,170 --> 00:13:54,070
know why - wasn't happy perfectly it

381
00:13:54,070 --> 00:13:56,440
runs on a server you then deploy an

382
00:13:56,440 --> 00:13:58,750
agent tour of the machines I simulate a

383
00:13:58,750 --> 00:14:00,220
phishing email to get that agent on

384
00:14:00,220 --> 00:14:01,150
there to start with

385
00:14:01,150 --> 00:14:02,740
it will then perform a bunch of

386
00:14:02,740 --> 00:14:05,380
automated activity and go from that so

387
00:14:05,380 --> 00:14:09,490
let's see how that works and it's got a

388
00:14:09,490 --> 00:14:11,320
beautiful gear that comes with it

389
00:14:11,320 --> 00:14:16,120
see nice pretty clean front-end and what

390
00:14:16,120 --> 00:14:17,830
you can do is go to the configuration

391
00:14:17,830 --> 00:14:20,410
and choose exactly what you do want is

392
00:14:20,410 --> 00:14:22,930
they were not what they've done nicely

393
00:14:22,930 --> 00:14:25,600
is added motor attack techniques is

394
00:14:25,600 --> 00:14:27,640
going to run and pretty GUI you can turn

395
00:14:27,640 --> 00:14:29,200
on and off the specific module attack

396
00:14:29,200 --> 00:14:31,660
technique she wanted to try which is

397
00:14:31,660 --> 00:14:32,890
great and it gives a nice but low view

398
00:14:32,890 --> 00:14:34,960
so it is a very hand holy friendly tall

399
00:14:34,960 --> 00:14:37,420
Hughes I will say it's a bit noisy watch

400
00:14:37,420 --> 00:14:39,490
out it will chuck exploits and do things

401
00:14:39,490 --> 00:14:41,680
so be careful that you don't let it

402
00:14:41,680 --> 00:14:42,970
exploit things you don't want to do in

403
00:14:42,970 --> 00:14:45,730
critical production servers so you're

404
00:14:45,730 --> 00:14:47,020
chucking passwords and credits you

405
00:14:47,020 --> 00:14:49,780
wanted to use you can set exactly what

406
00:14:49,780 --> 00:14:52,320
the network you wanted to go after and

407
00:14:52,320 --> 00:14:54,190
yeah it's gonna do some note and out

408
00:14:54,190 --> 00:14:56,590
scanning and you can also set ah

409
00:14:56,590 --> 00:14:58,840
once you've infected any box download a

410
00:14:58,840 --> 00:15:01,390
new thing it will create a new user and

411
00:15:01,390 --> 00:15:02,830
set as a backdoor and you can add some

412
00:15:02,830 --> 00:15:04,480
post breach activity as well so really

413
00:15:04,480 --> 00:15:06,370
customizable but actually in quite a

414
00:15:06,370 --> 00:15:09,570
nice pretty GUI front-end map up for it

415
00:15:09,570 --> 00:15:11,950
if I go ahead I'll click one monkey look

416
00:15:11,950 --> 00:15:14,200
at that metric so this will run the

417
00:15:14,200 --> 00:15:16,600
monkey on the server so initially

418
00:15:16,600 --> 00:15:18,010
pretending to infect the domain

419
00:15:18,010 --> 00:15:21,300
controller you could also take some code

420
00:15:21,300 --> 00:15:24,190
run a machine of your choice and drop

421
00:15:24,190 --> 00:15:28,870
that onto a Linux or Windows machine to

422
00:15:28,870 --> 00:15:30,280
simulate that initial infection you

423
00:15:30,280 --> 00:15:31,870
could probably wrap it up in our email

424
00:15:31,870 --> 00:15:33,580
and download it that way as well and

425
00:15:33,580 --> 00:15:35,820
then on be ds1 c'mon

426
00:15:35,820 --> 00:15:39,370
so there's a monkey code and to stop the

427
00:15:39,370 --> 00:15:41,200
monkey which then calls back to the

428
00:15:41,200 --> 00:15:44,649
monkey island as it were the terminology

429
00:15:44,649 --> 00:15:46,660
they've used so I hate Vaughn eventually

430
00:15:46,660 --> 00:15:48,399
I will skip across to the window that

431
00:15:48,399 --> 00:15:50,350
shows the monkey running and they

432
00:15:50,350 --> 00:15:51,670
produced a nice little GUI that shows

433
00:15:51,670 --> 00:15:53,770
exactly what's going on and how it's

434
00:15:53,770 --> 00:15:55,270
moving around the networks you see there

435
00:15:55,270 --> 00:15:57,550
it's infected the domain controller you

436
00:15:57,550 --> 00:15:58,959
can click on it view information about

437
00:15:58,959 --> 00:16:02,110
it and initially it just sets itself up

438
00:16:02,110 --> 00:16:04,240
builds a backdoor for persistence out to

439
00:16:04,240 --> 00:16:07,570
the users to your active directory in a

440
00:16:07,570 --> 00:16:10,330
second it will is scanning the network

441
00:16:10,330 --> 00:16:11,980
moment to look for a new host to in fact

442
00:16:11,980 --> 00:16:13,839
you'll find one of the windows 7

443
00:16:13,839 --> 00:16:16,330
machines and it's just exploited to that

444
00:16:16,330 --> 00:16:19,240
using SMB and I think of the username

445
00:16:19,240 --> 00:16:21,700
was admin and the password is password 1

446
00:16:21,700 --> 00:16:23,860
or something like that and they go SMB

447
00:16:23,860 --> 00:16:26,020
exploit it I know gradually work its way

448
00:16:26,020 --> 00:16:28,149
around the network what it does at the

449
00:16:28,149 --> 00:16:29,950
end is produce a nice pretty little

450
00:16:29,950 --> 00:16:35,350
report for you if I just skip ahead so a

451
00:16:35,350 --> 00:16:37,120
report it tells you the machines it

452
00:16:37,120 --> 00:16:38,620
found all the network how it managed to

453
00:16:38,620 --> 00:16:40,959
exploit them credentials it used and

454
00:16:40,959 --> 00:16:43,060
this is why they call it a automated pen

455
00:16:43,060 --> 00:16:45,010
test it gives you a kind of pen test

456
00:16:45,010 --> 00:16:47,920
report and they've added in the most

457
00:16:47,920 --> 00:16:50,470
recent release the Forster zero trust

458
00:16:50,470 --> 00:16:51,790
framework I've done if anyone's come

459
00:16:51,790 --> 00:16:53,410
across it or seen it I've never heard of

460
00:16:53,410 --> 00:16:54,940
it until I found out the latest version

461
00:16:54,940 --> 00:16:57,040
of this but it's a way of couching are

462
00:16:57,040 --> 00:16:59,170
all of your connections to web servers

463
00:16:59,170 --> 00:17:00,490
and things encrypted and there's a

464
00:17:00,490 --> 00:17:03,160
standard for looking at that I am not

465
00:17:03,160 --> 00:17:07,380
experienced with it satisfaction monkey

466
00:17:07,380 --> 00:17:09,970
so the next one is we're now have to

467
00:17:09,970 --> 00:17:12,520
have the tools that allows to simulate

468
00:17:12,520 --> 00:17:14,199
malware and outlook yet can we test

469
00:17:14,199 --> 00:17:17,459
specific attack behaviors those motor

470
00:17:17,459 --> 00:17:20,380
tactics so effectually in monkey I say

471
00:17:20,380 --> 00:17:24,250
red team use the process of developer

472
00:17:24,250 --> 00:17:26,859
test execute the test collect the

473
00:17:26,859 --> 00:17:29,170
evidence can I find it actually the

474
00:17:29,170 --> 00:17:30,880
biggest caveat we've got across all of

475
00:17:30,880 --> 00:17:33,370
this threat simulation piece is if

476
00:17:33,370 --> 00:17:35,830
you're just searching for the specific

477
00:17:35,830 --> 00:17:37,120
test and you build detection to the

478
00:17:37,120 --> 00:17:39,250
specific test that's not what you want

479
00:17:39,250 --> 00:17:40,960
to do because lots of them on and

480
00:17:40,960 --> 00:17:42,220
PowerShell and command that we know are

481
00:17:42,220 --> 00:17:43,929
protected now you want to be able to

482
00:17:43,929 --> 00:17:45,669
find the behavior if you can so if you

483
00:17:45,669 --> 00:17:47,380
can watch the registry and see when the

484
00:17:47,380 --> 00:17:49,090
vegetative changes rather than the

485
00:17:49,090 --> 00:17:49,539
technique

486
00:17:49,539 --> 00:17:50,830
that changed the registry you probably

487
00:17:50,830 --> 00:17:52,779
got a lot better chance but that can be

488
00:17:52,779 --> 00:17:54,999
a lot harder to do so it's make sure

489
00:17:54,999 --> 00:17:56,169
when you're running for its assimilation

490
00:17:56,169 --> 00:17:57,669
you're not detecting the death you're

491
00:17:57,669 --> 00:17:58,869
detecting the behavior because we know

492
00:17:58,869 --> 00:18:02,379
attackers will change the tests so that

493
00:18:02,379 --> 00:18:05,289
is invade the coverage of joint red team

494
00:18:05,289 --> 00:18:08,499
across my to attack unsurprising the the

495
00:18:08,499 --> 00:18:10,090
execution of the persistence and the

496
00:18:10,090 --> 00:18:12,220
lateral movement tests have really well

497
00:18:12,220 --> 00:18:14,200
covered it's open source they're keen

498
00:18:14,200 --> 00:18:15,669
for people to contribute tests to other

499
00:18:15,669 --> 00:18:17,379
bits and they might be useful in pen

500
00:18:17,379 --> 00:18:18,940
testing if you're after going all how

501
00:18:18,940 --> 00:18:20,559
could I do that quickly as a reference

502
00:18:20,559 --> 00:18:23,409
guide they're not subtle though so be

503
00:18:23,409 --> 00:18:25,809
aware it's all command and partial and

504
00:18:25,809 --> 00:18:28,720
bash and Darwin and there's an example

505
00:18:28,720 --> 00:18:31,239
on one of the webpages 40 triple one to

506
00:18:31,239 --> 00:18:33,489
modify a registry there's five tests you

507
00:18:33,489 --> 00:18:35,019
can use to run it five different

508
00:18:35,019 --> 00:18:37,710
techniques that's great that does

509
00:18:37,710 --> 00:18:40,299
individual little bits maybe mostly to

510
00:18:40,299 --> 00:18:41,440
you some intelligence that you've got

511
00:18:41,440 --> 00:18:44,529
but now how do I bring out together so

512
00:18:44,529 --> 00:18:47,129
caldera by mitre corporation corporation

513
00:18:47,129 --> 00:18:51,519
they're not for profit anyway the

514
00:18:51,519 --> 00:18:53,559
version one behave look more like a

515
00:18:53,559 --> 00:18:56,590
implant something like five cobalt

516
00:18:56,590 --> 00:18:58,330
strike when you drop down you implant to

517
00:18:58,330 --> 00:19:00,249
the Machine a bit like that version two

518
00:19:00,249 --> 00:19:02,460
is a lot more automated and clean to use

519
00:19:02,460 --> 00:19:05,320
so what etcetera way it set up for this

520
00:19:05,320 --> 00:19:07,720
demo is you've got a attacker server

521
00:19:07,720 --> 00:19:10,539
which runs card ever and I've already

522
00:19:10,539 --> 00:19:11,889
done the initial infection on to Windows

523
00:19:11,889 --> 00:19:14,830
seven client machines and it acts like a

524
00:19:14,830 --> 00:19:17,379
moat access tool and then you can build

525
00:19:17,379 --> 00:19:19,779
different attacks into caldera for

526
00:19:19,779 --> 00:19:22,019
selectively anniversaries in either one

527
00:19:22,019 --> 00:19:24,729
single individual my two techniques or

528
00:19:24,729 --> 00:19:26,440
you can run end to end soon out to

529
00:19:26,440 --> 00:19:27,609
diverse arees and I'll show you one of

530
00:19:27,609 --> 00:19:32,080
them in a second it's the last video

531
00:19:32,080 --> 00:19:41,260
just make sure is quarter nineteen

532
00:19:41,260 --> 00:19:48,280
I felt that until I so again written in

533
00:19:48,280 --> 00:19:51,220
Python 3 and flask because really easy

534
00:19:51,220 --> 00:19:53,730
to make modifications and changes to and

535
00:19:53,730 --> 00:19:56,020
brings it to a nice GUI and you can see

536
00:19:56,020 --> 00:19:57,610
here these are the agents these the

537
00:19:57,610 --> 00:19:59,140
infected machines are calling in to me

538
00:19:59,140 --> 00:20:00,910
in create groups and run different

539
00:20:00,910 --> 00:20:02,320
attacks and simulations against

540
00:20:02,320 --> 00:20:04,390
different groups dying of a latest

541
00:20:04,390 --> 00:20:07,150
version of the code they have allowance

542
00:20:07,150 --> 00:20:08,620
you can run out on automated schedules

543
00:20:08,620 --> 00:20:10,270
it tells where it's running as user or

544
00:20:10,270 --> 00:20:12,670
privileged next thing is they've gone

545
00:20:12,670 --> 00:20:14,470
ability chooser so you can look through

546
00:20:14,470 --> 00:20:16,180
the list of abilities that are in your

547
00:20:16,180 --> 00:20:19,000
database and go oh I want so selecting

548
00:20:19,000 --> 00:20:20,620
the different might of attacks and then

549
00:20:20,620 --> 00:20:22,300
choose a technique so it's probably a

550
00:20:22,300 --> 00:20:25,390
bit small but the thing doesn't show is

551
00:20:25,390 --> 00:20:27,160
there are just yeah more files but

552
00:20:27,160 --> 00:20:29,110
focally say there's this one on Windows

553
00:20:29,110 --> 00:20:31,900
Linux Mac and this is the PowerShell

554
00:20:31,900 --> 00:20:33,640
command whatever commander wants of on -

555
00:20:33,640 --> 00:20:35,200
it's really easy to add your own

556
00:20:35,200 --> 00:20:37,870
techniques and tests to this and build

557
00:20:37,870 --> 00:20:39,820
up a database I click the wrong stupid

558
00:20:39,820 --> 00:20:42,010
button on the clicker again it's gonna

559
00:20:42,010 --> 00:20:47,410
be a theme here isn't there so what I've

560
00:20:47,410 --> 00:20:50,020
done now is we've built adversary' with

561
00:20:50,020 --> 00:20:51,640
a number of those in abilities and you

562
00:20:51,640 --> 00:20:53,020
can set them in stages you want to run

563
00:20:53,020 --> 00:20:55,330
in select we're going to run the hunter

564
00:20:55,330 --> 00:20:58,840
adversary against a targets group that

565
00:20:58,840 --> 00:20:59,890
we selected earlier from those agents

566
00:20:59,890 --> 00:21:02,470
calling in you're gonna say here's some

567
00:21:02,470 --> 00:21:03,760
facts I want you to have so I'm gonna

568
00:21:03,760 --> 00:21:06,010
say these are the files I'm interested

569
00:21:06,010 --> 00:21:07,000
in your gathering that's already

570
00:21:07,000 --> 00:21:08,650
pre-built in got passwords to those

571
00:21:08,650 --> 00:21:10,630
facts is really much let's build up and

572
00:21:10,630 --> 00:21:13,360
hit go so it's now running phase 1 of

573
00:21:13,360 --> 00:21:14,680
the attack you can see it's running

574
00:21:14,680 --> 00:21:16,740
three different attacks on the start and

575
00:21:16,740 --> 00:21:19,150
when you then click on those attacks

576
00:21:19,150 --> 00:21:20,890
they'll show you what code they're going

577
00:21:20,890 --> 00:21:22,780
to run and give you the success and

578
00:21:22,780 --> 00:21:24,130
there's a beautiful pretty good there we

579
00:21:24,130 --> 00:21:25,810
go if I clicked on one net share

580
00:21:25,810 --> 00:21:27,990
completed successfully so it found

581
00:21:27,990 --> 00:21:30,520
worse things and let's get forward

582
00:21:30,520 --> 00:21:32,380
attack right at the end and ensure it's

583
00:21:32,380 --> 00:21:33,880
done a whole bunch of things go green

584
00:21:33,880 --> 00:21:36,670
and if I scroll down for what I did in

585
00:21:36,670 --> 00:21:37,030
the video

586
00:21:37,030 --> 00:21:39,610
there's yep a red one that failed so it

587
00:21:39,610 --> 00:21:41,500
gives you a nice output there that's

588
00:21:41,500 --> 00:21:42,970
great when you're running it it also

589
00:21:42,970 --> 00:21:45,220
produces a nice report so if you go

590
00:21:45,220 --> 00:21:46,180
right where's all the different

591
00:21:46,180 --> 00:21:47,830
operations I've run how do they get on

592
00:21:47,830 --> 00:21:49,930
there's a report at the end of it which

593
00:21:49,930 --> 00:21:52,620
is cool so

594
00:21:54,240 --> 00:21:56,860
but your tools how things you could do

595
00:21:56,860 --> 00:21:59,380
the question is how to how do I go about

596
00:21:59,380 --> 00:22:00,730
it what do I focus on what do I

597
00:22:00,730 --> 00:22:02,920
concentrate on what's my methodology for

598
00:22:02,920 --> 00:22:06,700
doing some first simulation so my

599
00:22:06,700 --> 00:22:08,680
favorite question is what problem like

600
00:22:08,680 --> 00:22:10,570
trying to solve you need to be really

601
00:22:10,570 --> 00:22:12,880
clear in your head let's start and my

602
00:22:12,880 --> 00:22:15,610
advice is solve one problem at one time

603
00:22:15,610 --> 00:22:17,410
so don't try and solve the problem of

604
00:22:17,410 --> 00:22:19,690
let's practice my first incident

605
00:22:19,690 --> 00:22:23,290
response and my detection and everything

606
00:22:23,290 --> 00:22:24,970
else at the same time let's just

607
00:22:24,970 --> 00:22:26,530
practice one thing if we can exercise

608
00:22:26,530 --> 00:22:28,090
one thing once we're happy of all those

609
00:22:28,090 --> 00:22:30,130
things then we can exercise the

610
00:22:30,130 --> 00:22:32,890
collective together the other thing to

611
00:22:32,890 --> 00:22:34,720
do is learn from others so be sides

612
00:22:34,720 --> 00:22:37,330
Bristol this year Aviva gave a great

613
00:22:37,330 --> 00:22:39,730
talk again linked at the end on how

614
00:22:39,730 --> 00:22:41,050
they're doing threat simulation and how

615
00:22:41,050 --> 00:22:42,700
they built up their program and how

616
00:22:42,700 --> 00:22:44,290
they're working with our internal red

617
00:22:44,290 --> 00:22:46,270
team's to do that and then nationwide

618
00:22:46,270 --> 00:22:50,200
example I mentioned earlier so getting

619
00:22:50,200 --> 00:22:52,230
started how would I do what I do first I

620
00:22:52,230 --> 00:22:54,490
practice an incident I'd make sure I am

621
00:22:54,490 --> 00:22:56,530
comfortable with - in response on one

622
00:22:56,530 --> 00:22:58,960
date I'd use exercise in a box or

623
00:22:58,960 --> 00:23:00,760
inspection monkey you do that with the

624
00:23:00,760 --> 00:23:02,350
caveats I gave over the monkey in terms

625
00:23:02,350 --> 00:23:04,780
of it throwing exploits I'd then look

626
00:23:04,780 --> 00:23:07,060
what is most prevalent in my environment

627
00:23:07,060 --> 00:23:09,310
what's most likely so that most likely

628
00:23:09,310 --> 00:23:10,720
most dangerous course of action first

629
00:23:10,720 --> 00:23:12,850
I'd look at the most likely Soviet

630
00:23:12,850 --> 00:23:16,120
canary and mightor got together and said

631
00:23:16,120 --> 00:23:17,440
what they were seeing in their violent

632
00:23:17,440 --> 00:23:19,600
red canary that owns the towing red

633
00:23:19,600 --> 00:23:22,750
tests of a endpoint vendor so this is

634
00:23:22,750 --> 00:23:23,680
what they were seeing

635
00:23:23,680 --> 00:23:26,710
obviously couched and of course my to

636
00:23:26,710 --> 00:23:29,350
attack most problem is PowerShell then

637
00:23:29,350 --> 00:23:32,790
some script education base over 32

638
00:23:32,790 --> 00:23:35,020
corner control over to the web and

639
00:23:35,020 --> 00:23:37,570
fishing no surprise is there and

640
00:23:37,570 --> 00:23:39,700
obviously if you can spot PowerShell

641
00:23:39,700 --> 00:23:41,380
then you get maybe 90 of the other

642
00:23:41,380 --> 00:23:42,880
different techniques in mitre that come

643
00:23:42,880 --> 00:23:46,420
with it which is great once I was happy

644
00:23:46,420 --> 00:23:48,690
with the most likely I'd look at

645
00:23:48,690 --> 00:23:52,960
potentially what's most dangerous and is

646
00:23:52,960 --> 00:23:55,390
it tuned to these techniques so am I

647
00:23:55,390 --> 00:23:56,800
happy that I could see this everywhere

648
00:23:56,800 --> 00:23:58,510
it's most dangerous to me in terms of am

649
00:23:58,510 --> 00:24:00,220
I worried about my research and

650
00:24:00,220 --> 00:24:01,390
development arm that's tricky often

651
00:24:01,390 --> 00:24:03,220
really important data am I worried about

652
00:24:03,220 --> 00:24:04,900
my payroll what's most important what's

653
00:24:04,900 --> 00:24:08,140
going to cause me to fail first and the

654
00:24:08,140 --> 00:24:09,460
once I'm happy and comfortable that I

655
00:24:09,460 --> 00:24:11,470
might have used cutter earlier but I'd

656
00:24:11,470 --> 00:24:15,400
be using powder to simulate full attacks

657
00:24:15,400 --> 00:24:16,270
to go by

658
00:24:16,270 --> 00:24:18,280
let's see end to end where were weak

659
00:24:18,280 --> 00:24:19,960
we're we're strong and if something

660
00:24:19,960 --> 00:24:21,550
always gets stopped at a certain layer

661
00:24:21,550 --> 00:24:24,010
you can build car dare to go right will

662
00:24:24,010 --> 00:24:25,540
now give it starting privilege to see

663
00:24:25,540 --> 00:24:26,380
what happens

664
00:24:26,380 --> 00:24:27,790
we've got great period escalation

665
00:24:27,790 --> 00:24:29,590
controls what about the controls after

666
00:24:29,590 --> 00:24:31,060
an attack killed shell Kidane so if they

667
00:24:31,060 --> 00:24:32,410
change their techniques can we stop them

668
00:24:32,410 --> 00:24:36,970
at multiple places so that is kind of

669
00:24:36,970 --> 00:24:40,510
all my content to summarize it why do

670
00:24:40,510 --> 00:24:41,800
you want to do threat simulation a

671
00:24:41,800 --> 00:24:43,540
threat elimination is not about

672
00:24:43,540 --> 00:24:46,090
vulnerability hunting it's about having

673
00:24:46,090 --> 00:24:49,930
repeatable reusable processes to check

674
00:24:49,930 --> 00:24:51,640
things not work as you expect them to

675
00:24:51,640 --> 00:24:53,950
work and it gives you an idea of can you

676
00:24:53,950 --> 00:24:55,120
see what you think you should be able to

677
00:24:55,120 --> 00:24:58,470
see or where you're blind what is it

678
00:24:58,470 --> 00:25:01,960
exactly what I just said it is about

679
00:25:01,960 --> 00:25:03,490
first simulation is about knowing where

680
00:25:03,490 --> 00:25:05,800
you are strong and where you're weak how

681
00:25:05,800 --> 00:25:07,900
to do it so series at all was broke down

682
00:25:07,900 --> 00:25:10,870
to five categories practice initial

683
00:25:10,870 --> 00:25:15,910
response practice malware its network

684
00:25:15,910 --> 00:25:18,580
traffic you don't have to remember full

685
00:25:18,580 --> 00:25:22,240
simulation and individual techniques and

686
00:25:22,240 --> 00:25:25,240
finally how to start with making sure a

687
00:25:25,240 --> 00:25:27,160
contra instant response then look at

688
00:25:27,160 --> 00:25:29,350
what's most likely then most dangerous

689
00:25:29,350 --> 00:25:31,390
and then can you have redundancy in your

690
00:25:31,390 --> 00:25:36,300
kill chain prevention so references

691
00:25:36,300 --> 00:25:38,530
serious to youtube links there is a

692
00:25:38,530 --> 00:25:40,540
written article version of this talk on

693
00:25:40,540 --> 00:25:43,000
LinkedIn I'm afraid but this is where I

694
00:25:43,000 --> 00:25:44,200
first thought about it's a good place

695
00:25:44,200 --> 00:25:46,000
just if you want to get my thoughts on

696
00:25:46,000 --> 00:25:48,790
how I think these things are and then

697
00:25:48,790 --> 00:25:50,520
the various different techniques and

698
00:25:50,520 --> 00:25:52,360
links to all the different tools that

699
00:25:52,360 --> 00:25:53,050
you can use

700
00:25:53,050 --> 00:25:54,670
I think the slide should be available

701
00:25:54,670 --> 00:25:58,750
afterwards as well and finally that's it

702
00:25:58,750 --> 00:26:00,280
for any questions more than happy to

703
00:26:00,280 --> 00:26:02,260
take them now or have a chat later on

704
00:26:02,260 --> 00:26:04,980
thank you very much

705
00:26:05,870 --> 00:26:10,720
[Applause]

706
00:26:10,720 --> 00:26:13,249
one key to the standards for your

707
00:26:13,249 --> 00:26:15,769
sponsor using some of these two so have

708
00:26:15,769 --> 00:26:20,049
fathering choleric gaps which is a

709
00:26:20,049 --> 00:26:24,019
privilege across so there is one glaring

710
00:26:24,019 --> 00:26:27,649
gap which is initial infection so most

711
00:26:27,649 --> 00:26:31,129
of these tools rely on some kind of

712
00:26:31,129 --> 00:26:32,749
initial infection taking place to get

713
00:26:32,749 --> 00:26:37,009
the access tool on and yeah this is

714
00:26:37,009 --> 00:26:38,480
obviously phishing simulators if you

715
00:26:38,480 --> 00:26:39,919
know that there's nothing that mimics

716
00:26:39,919 --> 00:26:42,769
that end-to-end get something on the

717
00:26:42,769 --> 00:26:43,700
network and they've run it in an

718
00:26:43,700 --> 00:26:45,860
automated way the other bit that

719
00:26:45,860 --> 00:26:51,169
potentially is missing is the option so

720
00:26:51,169 --> 00:26:52,399
whether it's encrypting changing how

721
00:26:52,399 --> 00:26:54,019
things look to make them different every

722
00:26:54,019 --> 00:26:56,360
single time cardio is pretty good in

723
00:26:56,360 --> 00:26:58,639
that if you've got golang installed on

724
00:26:58,639 --> 00:27:00,559
the server that's deploying it the VAT

725
00:27:00,559 --> 00:27:02,419
will be recompiled each time with some

726
00:27:02,419 --> 00:27:04,220
randomness but otherwise I don't think

727
00:27:04,220 --> 00:27:05,539
there's a huge amount in there to do

728
00:27:05,539 --> 00:27:08,059
that anyone else got other questions

729
00:27:08,059 --> 00:27:13,119
that answer that come anywhere else yes

730
00:27:15,940 --> 00:27:19,759
so it really depends what kind of tool

731
00:27:19,759 --> 00:27:21,769
you think so exercise in a box which I'm

732
00:27:21,769 --> 00:27:23,600
sure you're familiar with is super super

733
00:27:23,600 --> 00:27:26,600
simple to run it needs someone to be

734
00:27:26,600 --> 00:27:28,220
able to go on the NCC webpage and follow

735
00:27:28,220 --> 00:27:31,309
the guides if you're then into let's

736
00:27:31,309 --> 00:27:35,389
build a custom set of techniques we've

737
00:27:35,389 --> 00:27:36,679
seen the verse we're using I want to

738
00:27:36,679 --> 00:27:38,119
build it and program to caldera you're

739
00:27:38,119 --> 00:27:39,679
probably talking about using an in-house

740
00:27:39,679 --> 00:27:41,450
red team to help yourself get it set up

741
00:27:41,450 --> 00:27:43,580
or started or maybe some consulting to

742
00:27:43,580 --> 00:27:44,960
come in and help you build techniques

743
00:27:44,960 --> 00:27:46,190
but then you can run it yourself

744
00:27:46,190 --> 00:27:48,919
repeatedly in your environment so as of

745
00:27:48,919 --> 00:27:50,600
the range of tools are different the

746
00:27:50,600 --> 00:27:51,950
range of skill sets different so sorry

747
00:27:51,950 --> 00:27:54,879
it depends standard type of answer

748
00:27:54,879 --> 00:27:59,360
anymore fantastic thank you very much

749
00:27:59,360 --> 00:28:07,600
[Applause]

750
00:28:13,279 --> 00:28:19,409
experiences oh yeah microphone thank you

751
00:28:19,409 --> 00:28:25,020
yes I'll give it back to my pocket oh

752
00:28:25,020 --> 00:28:27,740
good thank you

