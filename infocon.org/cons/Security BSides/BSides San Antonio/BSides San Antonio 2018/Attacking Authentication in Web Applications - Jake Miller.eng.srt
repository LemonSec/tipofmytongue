1
00:00:00,000 --> 00:00:03,629
<font color="#E5E5E5">are doing that a little</font><font color="#CCCCCC"> bit about myself</font>

2
00:00:01,709 --> 00:00:05,130
I'm a penetration tester<font color="#E5E5E5"> I primarily</font>

3
00:00:03,629 --> 00:00:07,140
<font color="#E5E5E5">test Web Apps I've been doing that for</font>

4
00:00:05,130 --> 00:00:09,149
<font color="#CCCCCC">about the last four</font><font color="#E5E5E5"> years</font><font color="#CCCCCC"> I also teach</font>

5
00:00:07,140 --> 00:00:12,030
<font color="#CCCCCC">the web app in testing course per</font><font color="#E5E5E5"> se</font>

6
00:00:09,150 --> 00:00:14,519
<font color="#E5E5E5">into the mentor level</font><font color="#CCCCCC"> I blog I tweet</font><font color="#E5E5E5"> I</font>

7
00:00:12,030 --> 00:00:16,859
<font color="#E5E5E5">write a lot</font><font color="#CCCCCC"> of code so you know feel</font>

8
00:00:14,519 --> 00:00:20,460
free<font color="#CCCCCC"> to connect with</font><font color="#E5E5E5"> me</font><font color="#CCCCCC"> and you</font><font color="#E5E5E5"> know</font>

9
00:00:16,859 --> 00:00:22,350
<font color="#E5E5E5">meet up</font><font color="#CCCCCC"> all right so as I mentioned</font>

10
00:00:20,460 --> 00:00:25,619
attacking<font color="#E5E5E5"> authentication</font><font color="#CCCCCC"> web apps so</font>

11
00:00:22,350 --> 00:00:27,060
that's it's a really<font color="#E5E5E5"> you know wide topic</font>

12
00:00:25,619 --> 00:00:28,619
<font color="#E5E5E5">so I'm</font><font color="#CCCCCC"> gonna</font><font color="#E5E5E5"> touch on all</font><font color="#CCCCCC"> of these</font>

13
00:00:27,060 --> 00:00:29,640
<font color="#E5E5E5">things and occasionally on some defense</font>

14
00:00:28,619 --> 00:00:31,800
but mostly it's gonna be an offensive

15
00:00:29,640 --> 00:00:33,630
talk<font color="#CCCCCC"> but I will throw in some nuggets</font>

16
00:00:31,800 --> 00:00:35,309
you<font color="#E5E5E5"> know so if you're a developer</font><font color="#CCCCCC"> or</font>

17
00:00:33,630 --> 00:00:36,809
maybe like<font color="#CCCCCC"> just you own the system</font><font color="#E5E5E5"> or</font>

18
00:00:35,309 --> 00:00:39,709
<font color="#E5E5E5">something like</font><font color="#CCCCCC"> that give you</font><font color="#E5E5E5"> an idea of</font>

19
00:00:36,809 --> 00:00:42,059
certain risks where these things<font color="#E5E5E5"> are at</font>

20
00:00:39,710 --> 00:00:43,770
<font color="#CCCCCC">the reason I like</font><font color="#E5E5E5"> always tacking</font>

21
00:00:42,059 --> 00:00:45,449
<font color="#E5E5E5">attacking authentication is because it's</font>

22
00:00:43,770 --> 00:00:46,950
you know<font color="#E5E5E5"> liquidus and all and everything</font>

23
00:00:45,450 --> 00:00:48,239
you know every<font color="#E5E5E5"> modern app has some sort</font>

24
00:00:46,950 --> 00:00:50,129
<font color="#E5E5E5">of piece</font><font color="#CCCCCC"> and it's usually user name</font>

25
00:00:48,239 --> 00:00:51,360
<font color="#E5E5E5">password type thing</font><font color="#CCCCCC"> where</font><font color="#E5E5E5"> you enter it</font>

26
00:00:50,129 --> 00:00:54,930
and<font color="#E5E5E5"> then you know you have some sort of</font>

27
00:00:51,360 --> 00:00:57,690
privileges<font color="#E5E5E5"> historically users are bad at</font>

28
00:00:54,930 --> 00:00:59,309
<font color="#CCCCCC">choosing passwords not everybody but you</font>

29
00:00:57,690 --> 00:01:00,870
know<font color="#E5E5E5"> really you just need</font><font color="#CCCCCC"> one user out</font>

30
00:00:59,309 --> 00:01:03,680
<font color="#CCCCCC">of the several thousand</font><font color="#E5E5E5"> they might live</font>

31
00:01:00,870 --> 00:01:06,298
on<font color="#CCCCCC"> the system to gain access to it</font>

32
00:01:03,680 --> 00:01:08,580
scanners<font color="#CCCCCC"> so a lot of</font><font color="#E5E5E5"> people you know</font>

33
00:01:06,299 --> 00:01:10,580
<font color="#CCCCCC">they</font><font color="#E5E5E5"> are scan and forget type things</font>

34
00:01:08,580 --> 00:01:12,960
they scan it they say it's secure

35
00:01:10,580 --> 00:01:14,640
<font color="#CCCCCC">scanners really do a bad job of</font><font color="#E5E5E5"> testing</font>

36
00:01:12,960 --> 00:01:16,140
anything authentication<font color="#CCCCCC"> there</font><font color="#E5E5E5"> might be</font>

37
00:01:14,640 --> 00:01:17,130
<font color="#E5E5E5">good</font><font color="#CCCCCC"> at</font><font color="#E5E5E5"> cross-site scripting and sequel</font>

38
00:01:16,140 --> 00:01:18,810
injection these sort of<font color="#CCCCCC"> those other</font>

39
00:01:17,130 --> 00:01:20,369
flaws but authentication they're bad

40
00:01:18,810 --> 00:01:21,240
<font color="#E5E5E5">because most web apps are made</font>

41
00:01:20,369 --> 00:01:24,450
differently

42
00:01:21,240 --> 00:01:25,979
so it doesn't do a good job<font color="#CCCCCC"> audits don't</font>

43
00:01:24,450 --> 00:01:27,810
<font color="#CCCCCC">accurately measure</font><font color="#E5E5E5"> risk basically if</font>

44
00:01:25,979 --> 00:01:28,829
you've ever done like an audit or<font color="#E5E5E5"> a pen</font>

45
00:01:27,810 --> 00:01:30,930
test of<font color="#E5E5E5"> something that's in</font><font color="#CCCCCC"> a</font><font color="#E5E5E5"> non</font>

46
00:01:28,829 --> 00:01:32,429
production<font color="#E5E5E5"> environment user accounts</font>

47
00:01:30,930 --> 00:01:34,259
aren't<font color="#E5E5E5"> real so just a bunch</font><font color="#CCCCCC"> of dummy</font>

48
00:01:32,430 --> 00:01:36,180
accounts on there so<font color="#E5E5E5"> rarely does an</font>

49
00:01:34,259 --> 00:01:39,710
auditor or<font color="#E5E5E5"> even tester go into like</font>

50
00:01:36,180 --> 00:01:39,710
doing passwords attacks against anything

51
00:01:40,009 --> 00:01:43,829
<font color="#E5E5E5">so the methodology I'm gonna use at</font>

52
00:01:42,270 --> 00:01:45,810
<font color="#E5E5E5">least for this talk is</font><font color="#CCCCCC"> just some basic</font>

53
00:01:43,829 --> 00:01:47,639
recon scanning then enumerated users

54
00:01:45,810 --> 00:01:49,710
<font color="#CCCCCC">testing the account lockout and trying</font>

55
00:01:47,640 --> 00:01:51,630
to bypass<font color="#CCCCCC"> it different password attacks</font>

56
00:01:49,710 --> 00:01:53,100
and then<font color="#E5E5E5"> I'll explore some other</font>

57
00:01:51,630 --> 00:01:57,899
authentication authorization flaws that

58
00:01:53,100 --> 00:02:00,119
<font color="#CCCCCC">are</font><font color="#E5E5E5"> really unique among the web apps so</font>

59
00:01:57,899 --> 00:02:01,649
for recon<font color="#E5E5E5"> and it's a big big topic</font><font color="#CCCCCC"> I'm</font>

60
00:02:00,119 --> 00:02:03,509
only going to<font color="#E5E5E5"> touch on subdomain</font>

61
00:02:01,649 --> 00:02:05,100
enumeration and port scanning that is

62
00:02:03,509 --> 00:02:07,950
very web specific and the only<font color="#E5E5E5"> reason</font>

63
00:02:05,100 --> 00:02:09,568
<font color="#E5E5E5">I'm</font><font color="#CCCCCC"> even doing</font><font color="#E5E5E5"> this is because ideally</font>

64
00:02:07,950 --> 00:02:11,530
<font color="#E5E5E5">if</font><font color="#CCCCCC"> you were if you were had</font>

65
00:02:09,568 --> 00:02:13,420
authorization<font color="#E5E5E5"> to test you know example</font>

66
00:02:11,530 --> 00:02:15,490
you know you have this big scope<font color="#E5E5E5"> you're</font>

67
00:02:13,420 --> 00:02:17,260
gonna want to<font color="#E5E5E5"> find as many subdomains as</font>

68
00:02:15,490 --> 00:02:18,940
possible of example.com<font color="#CCCCCC"> or you're gonna</font>

69
00:02:17,260 --> 00:02:21,549
want to<font color="#E5E5E5"> find as many places that</font><font color="#CCCCCC"> you can</font>

70
00:02:18,940 --> 00:02:24,459
attack<font color="#CCCCCC"> the certain login authentication</font>

71
00:02:21,550 --> 00:02:25,690
doesn't always live on<font color="#CCCCCC"> 80</font><font color="#E5E5E5"> and 443 as far</font>

72
00:02:24,459 --> 00:02:29,140
as the<font color="#CCCCCC"> ports go so you wanna be able</font><font color="#E5E5E5"> to</font>

73
00:02:25,690 --> 00:02:30,220
check lots of different places<font color="#CCCCCC"> so</font>

74
00:02:29,140 --> 00:02:32,470
there's<font color="#E5E5E5"> several ways to enumerate</font>

75
00:02:30,220 --> 00:02:34,930
subdomains<font color="#CCCCCC"> the the easiest one is being</font>

76
00:02:32,470 --> 00:02:37,450
as<font color="#CCCCCC"> own transfer which you know your</font><font color="#E5E5E5"> DNS</font>

77
00:02:34,930 --> 00:02:39,010
zone<font color="#E5E5E5"> record or the zone file</font><font color="#CCCCCC"> it just has</font>

78
00:02:37,450 --> 00:02:41,140
a list<font color="#E5E5E5"> of</font><font color="#CCCCCC"> Records where</font><font color="#E5E5E5"> the IP addresses</font>

79
00:02:39,010 --> 00:02:43,840
correspond to the<font color="#CCCCCC"> hostname</font><font color="#E5E5E5"> so if you can</font>

80
00:02:41,140 --> 00:02:45,309
get<font color="#E5E5E5"> ahold of that that zone file you can</font>

81
00:02:43,840 --> 00:02:47,080
<font color="#E5E5E5">basically have</font><font color="#CCCCCC"> all of their subdomains</font>

82
00:02:45,310 --> 00:02:48,580
<font color="#E5E5E5">otherwise to do it is just</font><font color="#CCCCCC"> a search</font>

83
00:02:47,080 --> 00:02:50,470
engine<font color="#E5E5E5"> reconnaissance so you know</font><font color="#CCCCCC"> google</font>

84
00:02:48,580 --> 00:02:52,420
dorks basically you do<font color="#E5E5E5"> site colon</font>

85
00:02:50,470 --> 00:02:54,220
example.com and<font color="#CCCCCC"> then all of</font><font color="#E5E5E5"> the search</font>

86
00:02:52,420 --> 00:02:56,619
results that<font color="#CCCCCC"> for example.com will show</font>

87
00:02:54,220 --> 00:02:58,630
up<font color="#E5E5E5"> like</font><font color="#CCCCCC"> mail example.com and</font><font color="#E5E5E5"> and so on</font>

88
00:02:56,620 --> 00:03:00,580
<font color="#CCCCCC">and then there's various tools that</font><font color="#E5E5E5"> do</font>

89
00:02:58,630 --> 00:03:02,680
this<font color="#CCCCCC"> sort of</font><font color="#E5E5E5"> stuff for you</font><font color="#CCCCCC"> so you know</font>

90
00:03:00,580 --> 00:03:03,730
for an<font color="#E5E5E5"> example of a zone transfer you</font>

91
00:03:02,680 --> 00:03:05,170
would<font color="#E5E5E5"> just go</font><font color="#CCCCCC"> to who has done that and</font>

92
00:03:03,730 --> 00:03:06,609
<font color="#CCCCCC">you look up your target and</font><font color="#E5E5E5"> then you'd</font>

93
00:03:05,170 --> 00:03:09,040
see the name servers in the bottom and

94
00:03:06,610 --> 00:03:11,739
that's<font color="#E5E5E5"> re going</font><font color="#CCCCCC"> to try to transfer</font><font color="#E5E5E5"> that</font>

95
00:03:09,040 --> 00:03:12,880
zone record from so you know this<font color="#E5E5E5"> this</font>

96
00:03:11,739 --> 00:03:15,100
particular<font color="#CCCCCC"> one had it set up correctly</font>

97
00:03:12,880 --> 00:03:17,530
<font color="#E5E5E5">where I'm using nslookup here to try to</font>

98
00:03:15,100 --> 00:03:19,570
transfer to try to do a zone transfer<font color="#CCCCCC"> to</font>

99
00:03:17,530 --> 00:03:22,329
my own computer<font color="#CCCCCC"> and zone transfers are</font>

100
00:03:19,570 --> 00:03:23,799
typically only allowed between<font color="#E5E5E5"> two DNS</font>

101
00:03:22,329 --> 00:03:25,480
servers which makes<font color="#E5E5E5"> sense you don't want</font>

102
00:03:23,799 --> 00:03:27,400
anybody<font color="#CCCCCC"> to get the zone file so this</font>

103
00:03:25,480 --> 00:03:29,619
one's configured correctly<font color="#CCCCCC"> a canonical</font>

104
00:03:27,400 --> 00:03:31,540
example<font color="#E5E5E5"> for one that is not configured</font>

105
00:03:29,620 --> 00:03:33,970
<font color="#E5E5E5">correctly</font><font color="#CCCCCC"> lets me do a zone transfer</font><font color="#E5E5E5"> so</font>

106
00:03:31,540 --> 00:03:35,650
you can see you know the commands<font color="#E5E5E5"> for</font>

107
00:03:33,970 --> 00:03:37,359
<font color="#CCCCCC">nslookup and</font><font color="#E5E5E5"> then you it goes through</font>

108
00:03:35,650 --> 00:03:41,079
and<font color="#CCCCCC"> it shows the</font><font color="#E5E5E5"> different subdomains</font>

109
00:03:37,360 --> 00:03:42,940
for<font color="#E5E5E5"> this particular</font><font color="#CCCCCC"> contrive server I</font>

110
00:03:41,079 --> 00:03:45,090
mentioned that there's other places<font color="#CCCCCC"> too</font>

111
00:03:42,940 --> 00:03:48,100
or other ways to find subdomains

112
00:03:45,090 --> 00:03:50,440
<font color="#CCCCCC">different different internet sites like</font>

113
00:03:48,100 --> 00:03:52,269
<font color="#E5E5E5">CR T SH and DNS dumpster they do</font>

114
00:03:50,440 --> 00:03:53,590
internet<font color="#CCCCCC"> research</font><font color="#E5E5E5"> and</font><font color="#CCCCCC"> so they're</font>

115
00:03:52,269 --> 00:03:55,000
constantly<font color="#E5E5E5"> scanning</font><font color="#CCCCCC"> an</font><font color="#E5E5E5"> internet and</font>

116
00:03:53,590 --> 00:03:57,040
<font color="#E5E5E5">finding out subdomains and recording</font>

117
00:03:55,000 --> 00:03:58,870
things and they offer basically<font color="#E5E5E5"> free</font>

118
00:03:57,040 --> 00:03:59,890
<font color="#E5E5E5">resources</font><font color="#CCCCCC"> for anybody to look up a</font>

119
00:03:58,870 --> 00:04:02,500
domain<font color="#E5E5E5"> and see a whole bunch</font><font color="#CCCCCC"> of</font>

120
00:03:59,890 --> 00:04:04,869
<font color="#E5E5E5">subdomains virustotal has it just</font>

121
00:04:02,500 --> 00:04:06,160
because you<font color="#E5E5E5"> know you're</font><font color="#CCCCCC"> looking up</font>

122
00:04:04,870 --> 00:04:07,180
threats from<font color="#E5E5E5"> a particular domain you</font>

123
00:04:06,160 --> 00:04:09,220
want<font color="#CCCCCC"> to see the subdomains that it's</font>

124
00:04:07,180 --> 00:04:10,690
there<font color="#CCCCCC"> there's Google doors like I said</font>

125
00:04:09,220 --> 00:04:12,459
<font color="#E5E5E5">the site</font><font color="#CCCCCC"> directives for</font><font color="#E5E5E5"> it and then you</font>

126
00:04:10,690 --> 00:04:14,769
can also do<font color="#CCCCCC"> brute forcing subdomains</font>

127
00:04:12,459 --> 00:04:16,988
which is essentially taking<font color="#E5E5E5"> a word list</font>

128
00:04:14,769 --> 00:04:18,940
<font color="#E5E5E5">and running it against you know your</font>

129
00:04:16,988 --> 00:04:20,079
target<font color="#CCCCCC"> and whatever resolves obviously</font>

130
00:04:18,940 --> 00:04:22,419
<font color="#E5E5E5">that means you know</font><font color="#CCCCCC"> that particular</font>

131
00:04:20,079 --> 00:04:24,859
subdomain<font color="#CCCCCC"> there's tools that do all of</font>

132
00:04:22,419 --> 00:04:27,889
<font color="#E5E5E5">this stuff for you probably</font>

133
00:04:24,860 --> 00:04:29,510
the most complete<font color="#E5E5E5"> would be DNS recon</font><font color="#CCCCCC"> it</font>

134
00:04:27,889 --> 00:04:30,830
does I think<font color="#CCCCCC"> all of those things that's</font>

135
00:04:29,510 --> 00:04:32,900
in<font color="#E5E5E5"> the list including attempting zone</font>

136
00:04:30,830 --> 00:04:35,840
transfers<font color="#CCCCCC"> it's in Metasploit sub</font>

137
00:04:32,900 --> 00:04:38,179
<font color="#CCCCCC">listeners also</font><font color="#E5E5E5"> popular</font><font color="#CCCCCC"> you know I wrote</font>

138
00:04:35,840 --> 00:04:39,380
one those<font color="#CCCCCC"> find subdomains</font><font color="#E5E5E5"> which this is</font>

139
00:04:38,180 --> 00:04:41,030
sort of the output for<font color="#E5E5E5"> it and you can</font>

140
00:04:39,380 --> 00:04:43,460
see that at the<font color="#E5E5E5"> top part it it's</font>

141
00:04:41,030 --> 00:04:45,109
basically querying those resources

142
00:04:43,460 --> 00:04:46,609
you know CRT<font color="#E5E5E5"> down a search in DNS</font>

143
00:04:45,110 --> 00:04:47,990
dumpster<font color="#E5E5E5"> putting a list of</font><font color="#CCCCCC"> subdomains</font>

144
00:04:46,610 --> 00:04:50,480
<font color="#E5E5E5">together that you can go ahead and</font><font color="#CCCCCC"> try</font>

145
00:04:47,990 --> 00:04:53,090
<font color="#E5E5E5">to do so lots of resources</font><font color="#CCCCCC"> for finding</font>

146
00:04:50,480 --> 00:04:55,520
<font color="#E5E5E5">subdomains but the whole goal is to just</font>

147
00:04:53,090 --> 00:04:56,780
<font color="#E5E5E5">get a you</font><font color="#CCCCCC"> know a wide breadth of login</font>

148
00:04:55,520 --> 00:04:59,359
locations<font color="#CCCCCC"> as you can try</font><font color="#E5E5E5"> to test the</font>

149
00:04:56,780 --> 00:05:01,820
authentication<font color="#E5E5E5"> so once you do</font><font color="#CCCCCC"> have a</font>

150
00:04:59,360 --> 00:05:03,050
wide<font color="#E5E5E5"> you know range of subdomains that</font>

151
00:05:01,820 --> 00:05:04,729
you can go<font color="#CCCCCC"> ahead</font><font color="#E5E5E5"> and test you're gonna</font>

152
00:05:03,050 --> 00:05:06,680
want to<font color="#E5E5E5"> look for open ports that</font>

153
00:05:04,729 --> 00:05:08,750
indicate<font color="#E5E5E5"> just web services sure you want</font>

154
00:05:06,680 --> 00:05:11,389
to<font color="#E5E5E5"> scan them for all of</font><font color="#CCCCCC"> the other things</font>

155
00:05:08,750 --> 00:05:14,240
you know your FTP and telnet and all of

156
00:05:11,389 --> 00:05:16,400
those type things<font color="#CCCCCC"> but you know what I'm</font>

157
00:05:14,240 --> 00:05:18,650
focusing on<font color="#E5E5E5"> is purely the web ports and</font>

158
00:05:16,400 --> 00:05:20,659
if you ever use something like<font color="#E5E5E5"> nmap the</font>

159
00:05:18,650 --> 00:05:22,789
default scan is just a thousand of the

160
00:05:20,660 --> 00:05:24,110
most common ports and the thousand most

161
00:05:22,790 --> 00:05:25,940
<font color="#E5E5E5">common ports that doesn't</font><font color="#CCCCCC"> actually cover</font>

162
00:05:24,110 --> 00:05:27,320
all of<font color="#E5E5E5"> the web ports so you're either</font>

163
00:05:25,940 --> 00:05:28,700
<font color="#E5E5E5">gonna</font><font color="#CCCCCC"> want</font><font color="#E5E5E5"> to kind of get a custom list</font>

164
00:05:27,320 --> 00:05:31,310
of course you want<font color="#CCCCCC"> your scanner to scan</font>

165
00:05:28,700 --> 00:05:32,750
that<font color="#E5E5E5"> is dealing</font><font color="#CCCCCC"> with web stuff</font><font color="#E5E5E5"> or you</font>

166
00:05:31,310 --> 00:05:35,030
<font color="#E5E5E5">know I wrote a couple tools to do that</font>

167
00:05:32,750 --> 00:05:36,919
<font color="#CCCCCC">for you that will</font><font color="#E5E5E5"> just scan whatever you</font>

168
00:05:35,030 --> 00:05:38,630
<font color="#E5E5E5">tell</font><font color="#CCCCCC"> it to whatever URL</font><font color="#E5E5E5"> you go to it'll</font>

169
00:05:36,919 --> 00:05:41,200
scan it so that's the<font color="#E5E5E5"> site kick and get</font>

170
00:05:38,630 --> 00:05:44,960
<font color="#E5E5E5">website info</font><font color="#CCCCCC"> ones Python ones</font><font color="#E5E5E5"> PowerShell</font>

171
00:05:41,200 --> 00:05:46,760
it basically just helps<font color="#CCCCCC"> prioritize the</font>

172
00:05:44,960 --> 00:05:48,530
the sites because it goes out<font color="#CCCCCC"> to all</font>

173
00:05:46,760 --> 00:05:51,229
these different URLs it'll record<font color="#E5E5E5"> the</font>

174
00:05:48,530 --> 00:05:52,940
title<font color="#CCCCCC"> the website as well as the server</font>

175
00:05:51,229 --> 00:05:53,870
type and the reason the reason<font color="#CCCCCC"> this ends</font>

176
00:05:52,940 --> 00:05:55,669
up being important is because if you

177
00:05:53,870 --> 00:05:57,380
have<font color="#CCCCCC"> a really</font><font color="#E5E5E5"> really wide scope and you</font>

178
00:05:55,669 --> 00:05:58,880
scan<font color="#E5E5E5"> a whole network you'll get a lot of</font>

179
00:05:57,380 --> 00:06:00,440
garbage<font color="#CCCCCC"> from web ports you'll get like a</font>

180
00:05:58,880 --> 00:06:02,180
thousand printers or something like<font color="#CCCCCC"> that</font>

181
00:06:00,440 --> 00:06:03,320
<font color="#E5E5E5">and so you want to have the title of</font><font color="#CCCCCC"> the</font>

182
00:06:02,180 --> 00:06:04,669
<font color="#E5E5E5">printer so you</font><font color="#CCCCCC"> can just immediately</font>

183
00:06:03,320 --> 00:06:08,110
eliminate it from<font color="#E5E5E5"> your list and not have</font>

184
00:06:04,669 --> 00:06:11,210
to waste<font color="#E5E5E5"> your time by browsing to it</font><font color="#CCCCCC"> so</font>

185
00:06:08,110 --> 00:06:12,530
to<font color="#E5E5E5"> generate a list of URLs for web ports</font>

186
00:06:11,210 --> 00:06:14,690
there's there's another<font color="#E5E5E5"> tool that I</font>

187
00:06:12,530 --> 00:06:18,020
wrote it<font color="#CCCCCC"> just simply takes a domain name</font>

188
00:06:14,690 --> 00:06:20,300
<font color="#E5E5E5">and</font><font color="#CCCCCC"> obtains</font><font color="#E5E5E5"> a ton of different</font><font color="#CCCCCC"> web ports</font>

189
00:06:18,020 --> 00:06:22,070
<font color="#E5E5E5">that I sort of come</font><font color="#CCCCCC"> up with</font><font color="#E5E5E5"> either</font>

190
00:06:20,300 --> 00:06:23,660
through you know reading<font color="#E5E5E5"> up on things or</font>

191
00:06:22,070 --> 00:06:27,380
you know in math has a specific ones

192
00:06:23,660 --> 00:06:28,880
<font color="#CCCCCC">that it identifies</font><font color="#E5E5E5"> as HTTP or HTTPS and</font>

193
00:06:27,380 --> 00:06:30,680
this is the output of<font color="#E5E5E5"> one of the tools</font>

194
00:06:28,880 --> 00:06:32,419
<font color="#E5E5E5">just you know give you an idea gives you</font>

195
00:06:30,680 --> 00:06:33,410
the<font color="#E5E5E5"> title of the side</font><font color="#CCCCCC"> and the URL and</font>

196
00:06:32,419 --> 00:06:35,900
<font color="#E5E5E5">the server and the reader</font>

197
00:06:33,410 --> 00:06:38,390
<font color="#CCCCCC">URL</font><font color="#E5E5E5"> so anything like that that</font><font color="#CCCCCC"> can keep</font>

198
00:06:35,900 --> 00:06:40,099
you organized<font color="#E5E5E5"> and eliminate the</font><font color="#CCCCCC"> stuff</font>

199
00:06:38,390 --> 00:06:42,890
that's unnecessary well at the same time

200
00:06:40,100 --> 00:06:45,680
you know if it<font color="#E5E5E5"> gives you a title to some</font>

201
00:06:42,890 --> 00:06:48,020
<font color="#CCCCCC">popular</font><font color="#E5E5E5"> you know some popular</font>

202
00:06:45,680 --> 00:06:49,340
open-source content management system<font color="#E5E5E5"> is</font>

203
00:06:48,020 --> 00:06:51,049
something<font color="#CCCCCC"> like</font><font color="#E5E5E5"> that you can kind of take</font>

204
00:06:49,340 --> 00:06:53,000
the steps<font color="#CCCCCC"> to do further enumeration on</font>

205
00:06:51,050 --> 00:06:54,800
it<font color="#E5E5E5"> you know if I you</font><font color="#CCCCCC"> identified as</font><font color="#E5E5E5"> being</font>

206
00:06:53,000 --> 00:06:56,450
old<font color="#E5E5E5"> or an old version of something you</font>

207
00:06:54,800 --> 00:06:59,180
might<font color="#E5E5E5"> there</font><font color="#CCCCCC"> might be a public</font><font color="#E5E5E5"> exploit or</font>

208
00:06:56,450 --> 00:07:01,820
something available<font color="#E5E5E5"> and that's that's</font>

209
00:06:59,180 --> 00:07:03,980
why we do<font color="#E5E5E5"> this you know it's if you find</font>

210
00:07:01,820 --> 00:07:05,360
some commercial product<font color="#CCCCCC"> a lot of times</font>

211
00:07:03,980 --> 00:07:06,400
if it's on a non-standard port<font color="#E5E5E5"> it might</font>

212
00:07:05,360 --> 00:07:09,320
have<font color="#E5E5E5"> been set up for some development</font>

213
00:07:06,400 --> 00:07:11,090
<font color="#E5E5E5">purposes or some</font><font color="#CCCCCC"> test</font><font color="#E5E5E5"> things so you want</font>

214
00:07:09,320 --> 00:07:13,670
<font color="#E5E5E5">to try default passwords and if you get</font>

215
00:07:11,090 --> 00:07:15,049
in there<font color="#CCCCCC"> you know that's</font><font color="#E5E5E5"> great</font><font color="#CCCCCC"> maybe</font>

216
00:07:13,670 --> 00:07:16,670
they'll<font color="#E5E5E5"> be data on it maybe not maybe</font>

217
00:07:15,050 --> 00:07:18,950
<font color="#E5E5E5">there's something</font><font color="#CCCCCC"> that</font><font color="#E5E5E5"> you can that you</font>

218
00:07:16,670 --> 00:07:20,540
<font color="#CCCCCC">can use to go further</font><font color="#E5E5E5"> as I said it might</font>

219
00:07:18,950 --> 00:07:22,700
<font color="#CCCCCC">be vulnerable to known exploits</font><font color="#E5E5E5"> where</font>

220
00:07:20,540 --> 00:07:23,840
you can sort<font color="#CCCCCC"> of do the easy job and look</font>

221
00:07:22,700 --> 00:07:26,750
at<font color="#CCCCCC"> Metasploit you say yep</font><font color="#E5E5E5"> it's</font>

222
00:07:23,840 --> 00:07:28,520
vulnerable<font color="#CCCCCC"> to</font><font color="#E5E5E5"> something and</font><font color="#CCCCCC"> just in the</font>

223
00:07:26,750 --> 00:07:30,140
end it<font color="#E5E5E5"> provides more targets which</font>

224
00:07:28,520 --> 00:07:31,159
provides<font color="#E5E5E5"> more opportunities to</font><font color="#CCCCCC"> do all</font>

225
00:07:30,140 --> 00:07:34,940
the things<font color="#CCCCCC"> that we're going to</font><font color="#E5E5E5"> learn</font>

226
00:07:31,160 --> 00:07:37,250
<font color="#CCCCCC">about now so also an abraded users this</font>

227
00:07:34,940 --> 00:07:38,690
shouldn't<font color="#E5E5E5"> be so crazy at first you guys</font>

228
00:07:37,250 --> 00:07:40,820
this should all be basic common sense

229
00:07:38,690 --> 00:07:42,500
<font color="#E5E5E5">type stuff but</font><font color="#CCCCCC"> if you own an application</font>

230
00:07:40,820 --> 00:07:44,380
<font color="#E5E5E5">or if you're a developer there's hidden</font>

231
00:07:42,500 --> 00:07:46,400
risks that<font color="#CCCCCC"> go along with all of these</font>

232
00:07:44,380 --> 00:07:48,230
all of<font color="#CCCCCC"> these features</font><font color="#E5E5E5"> of an application</font>

233
00:07:46,400 --> 00:07:50,359
<font color="#CCCCCC">that makes</font><font color="#E5E5E5"> it more user friendly or you</font>

234
00:07:48,230 --> 00:07:52,190
know increases the user<font color="#E5E5E5"> experience so</font>

235
00:07:50,360 --> 00:07:53,540
first thing you<font color="#E5E5E5"> look for</font><font color="#CCCCCC"> in visual</font>

236
00:07:52,190 --> 00:07:55,280
changes and the whole goal<font color="#E5E5E5"> for user</font>

237
00:07:53,540 --> 00:07:57,740
enumeration is to<font color="#E5E5E5"> gather a list of users</font>

238
00:07:55,280 --> 00:08:00,830
where I do<font color="#E5E5E5"> not know things so you know</font>

239
00:07:57,740 --> 00:08:02,540
<font color="#CCCCCC">Microsoft I</font><font color="#E5E5E5"> taken an invalid user so I'm</font>

240
00:08:00,830 --> 00:08:04,219
not<font color="#E5E5E5"> a real account and Microsoft will</font>

241
00:08:02,540 --> 00:08:05,780
tell me that the account doesn't<font color="#E5E5E5"> exist</font>

242
00:08:04,220 --> 00:08:07,460
<font color="#CCCCCC">right so that that</font><font color="#E5E5E5"> makes</font><font color="#CCCCCC"> sense and with</font>

243
00:08:05,780 --> 00:08:09,619
a real<font color="#E5E5E5"> account it'll prompt you for a</font>

244
00:08:07,460 --> 00:08:12,140
password<font color="#E5E5E5"> so</font><font color="#CCCCCC"> Wow now I know what</font><font color="#E5E5E5"> user</font>

245
00:08:09,620 --> 00:08:13,550
<font color="#E5E5E5">name that's great so in theory if you</font>

246
00:08:12,140 --> 00:08:14,780
<font color="#E5E5E5">have an</font><font color="#CCCCCC"> application that just tells you</font>

247
00:08:13,550 --> 00:08:16,910
like this you can just<font color="#E5E5E5"> get a really</font>

248
00:08:14,780 --> 00:08:19,099
large list of<font color="#E5E5E5"> user names and bust</font>

249
00:08:16,910 --> 00:08:21,560
<font color="#E5E5E5">through it</font><font color="#CCCCCC"> and record the ones that that</font>

250
00:08:19,100 --> 00:08:23,360
<font color="#E5E5E5">give you a password prompt so then</font>

251
00:08:21,560 --> 00:08:24,650
there's applications that you know in

252
00:08:23,360 --> 00:08:26,360
<font color="#E5E5E5">fact a lot of applications these days</font>

253
00:08:24,650 --> 00:08:28,760
<font color="#CCCCCC">are designed</font><font color="#E5E5E5"> not to tell you the user</font>

254
00:08:26,360 --> 00:08:29,960
name or the<font color="#CCCCCC"> password it's which one</font><font color="#E5E5E5"> so</font>

255
00:08:28,760 --> 00:08:32,030
you know it's letting me know<font color="#E5E5E5"> that the</font>

256
00:08:29,960 --> 00:08:34,640
user name or password<font color="#E5E5E5"> did not match all</font>

257
00:08:32,030 --> 00:08:36,289
<font color="#E5E5E5">right and even for an invalid user so</font>

258
00:08:34,640 --> 00:08:38,659
this is valid<font color="#E5E5E5"> user this</font><font color="#CCCCCC"> is an invalid</font>

259
00:08:36,289 --> 00:08:40,189
user it's same same error<font color="#CCCCCC"> message</font><font color="#E5E5E5"> if you</font>

260
00:08:38,659 --> 00:08:42,419
were to measure the length<font color="#E5E5E5"> of the HTTP</font>

261
00:08:40,190 --> 00:08:45,899
response<font color="#E5E5E5"> it'd be the same</font><font color="#CCCCCC"> length too</font>

262
00:08:42,419 --> 00:08:47,939
but under under<font color="#CCCCCC"> the hood so this is once</font>

263
00:08:45,899 --> 00:08:49,920
again a valid user<font color="#E5E5E5"> under the hood this</font>

264
00:08:47,940 --> 00:08:51,959
<font color="#CCCCCC">is what it end up looking like</font><font color="#E5E5E5"> so there</font>

265
00:08:49,920 --> 00:08:53,849
was a little XML part where it showed me

266
00:08:51,959 --> 00:08:56,399
a login status<font color="#E5E5E5"> and for this one it</font><font color="#CCCCCC"> was</font><font color="#E5E5E5"> -</font>

267
00:08:53,850 --> 00:08:59,339
- but for the other one for<font color="#E5E5E5"> the not a</font>

268
00:08:56,399 --> 00:09:00,870
real user<font color="#E5E5E5"> it had a</font><font color="#CCCCCC"> - one login status so</font>

269
00:08:59,339 --> 00:09:03,480
all things<font color="#E5E5E5"> were equal as far as the</font>

270
00:09:00,870 --> 00:09:05,070
error message<font color="#E5E5E5"> is displayed</font><font color="#CCCCCC"> but this is</font>

271
00:09:03,480 --> 00:09:08,070
this sort<font color="#CCCCCC"> of thing</font><font color="#E5E5E5"> let me know that a</font>

272
00:09:05,070 --> 00:09:09,240
user was<font color="#E5E5E5"> valid or</font><font color="#CCCCCC"> not valid and you know</font>

273
00:09:08,070 --> 00:09:10,500
for tools<font color="#E5E5E5"> and stuff like that you know</font>

274
00:09:09,240 --> 00:09:12,149
burp<font color="#CCCCCC"> sweet and zap both have a</font>

275
00:09:10,500 --> 00:09:13,589
comparison<font color="#E5E5E5"> feature where you can take</font>

276
00:09:12,149 --> 00:09:15,779
the<font color="#E5E5E5"> HTTP responses and see what's</font>

277
00:09:13,589 --> 00:09:17,430
<font color="#CCCCCC">different</font><font color="#E5E5E5"> so in this case you know I</font>

278
00:09:15,779 --> 00:09:20,040
<font color="#E5E5E5">mentioned that the response links for</font>

279
00:09:17,430 --> 00:09:21,359
the same and so just<font color="#E5E5E5"> looking</font><font color="#CCCCCC"> at</font><font color="#E5E5E5"> the</font>

280
00:09:20,040 --> 00:09:23,849
response length alone would<font color="#E5E5E5"> not tell you</font>

281
00:09:21,360 --> 00:09:25,230
any differences<font color="#CCCCCC"> alright so this</font><font color="#E5E5E5"> is a</font>

282
00:09:23,850 --> 00:09:27,029
tiny base thing so on the<font color="#CCCCCC"> writes just a</font>

283
00:09:25,230 --> 00:09:28,589
little timer<font color="#E5E5E5"> on the left is me trying</font><font color="#CCCCCC"> to</font>

284
00:09:27,029 --> 00:09:30,930
<font color="#E5E5E5">log in with not</font><font color="#CCCCCC"> a real account</font><font color="#E5E5E5"> it</font>

285
00:09:28,589 --> 00:09:33,690
actually took<font color="#E5E5E5"> 10 seconds to respond</font><font color="#CCCCCC"> this</font>

286
00:09:30,930 --> 00:09:35,790
<font color="#E5E5E5">is I mean this this side of it took a</font>

287
00:09:33,690 --> 00:09:37,079
particularly long time it's more common

288
00:09:35,790 --> 00:09:39,899
where you see that<font color="#E5E5E5"> it's just</font><font color="#CCCCCC"> maybe a</font>

289
00:09:37,079 --> 00:09:41,099
second versus a half second<font color="#CCCCCC"> and so what</font>

290
00:09:39,899 --> 00:09:42,600
you would<font color="#E5E5E5"> typically do to account for</font>

291
00:09:41,100 --> 00:09:43,980
latency<font color="#E5E5E5"> is just kind</font><font color="#CCCCCC"> of bust through a</font>

292
00:09:42,600 --> 00:09:45,750
bunch of<font color="#E5E5E5"> accounts really quick and the</font>

293
00:09:43,980 --> 00:09:47,640
ones<font color="#E5E5E5"> who are consistently returning at a</font>

294
00:09:45,750 --> 00:09:48,990
different time that's the ones that that

295
00:09:47,640 --> 00:09:51,689
<font color="#CCCCCC">either you know are valid</font><font color="#E5E5E5"> or invalid</font>

296
00:09:48,990 --> 00:09:52,800
whatever you think<font color="#CCCCCC"> and this you</font><font color="#E5E5E5"> know in</font>

297
00:09:51,690 --> 00:09:56,579
this particular<font color="#CCCCCC"> one</font><font color="#E5E5E5"> it only took one</font>

298
00:09:52,800 --> 00:10:00,390
<font color="#E5E5E5">second for for a valid</font><font color="#CCCCCC"> user name</font><font color="#E5E5E5"> to</font><font color="#CCCCCC"> get</font>

299
00:09:56,579 --> 00:10:02,519
checked all right so then there's<font color="#CCCCCC"> the</font>

300
00:10:00,390 --> 00:10:04,560
sort<font color="#CCCCCC"> of features you know even</font><font color="#E5E5E5"> even this</font>

301
00:10:02,519 --> 00:10:06,209
this part is secure right like it says

302
00:10:04,560 --> 00:10:07,890
username<font color="#E5E5E5"> and password do not match</font><font color="#CCCCCC"> so it</font>

303
00:10:06,209 --> 00:10:09,540
doesn't<font color="#E5E5E5"> tell</font><font color="#CCCCCC"> me which ones which</font><font color="#E5E5E5"> this is</font>

304
00:10:07,890 --> 00:10:10,709
for an<font color="#CCCCCC"> invalid account but a valid</font>

305
00:10:09,540 --> 00:10:11,939
account it would<font color="#E5E5E5"> give me the same error</font>

306
00:10:10,709 --> 00:10:13,529
message<font color="#E5E5E5"> it would just tell me</font><font color="#CCCCCC"> user name</font>

307
00:10:11,940 --> 00:10:15,980
<font color="#CCCCCC">and faster do not match so it's designed</font>

308
00:10:13,529 --> 00:10:18,089
<font color="#E5E5E5">to be</font><font color="#CCCCCC"> secure or</font><font color="#E5E5E5"> not give up in users</font>

309
00:10:15,980 --> 00:10:20,850
unfortunately the forgot<font color="#CCCCCC"> password link</font>

310
00:10:18,089 --> 00:10:22,949
doesn't<font color="#CCCCCC"> do that so not real account it</font>

311
00:10:20,850 --> 00:10:25,110
tells you you can't find a user you<font color="#E5E5E5"> get</font>

312
00:10:22,949 --> 00:10:28,469
a real account<font color="#E5E5E5"> it gives you you</font><font color="#CCCCCC"> know the</font>

313
00:10:25,110 --> 00:10:30,060
prompt<font color="#CCCCCC"> for the password</font><font color="#E5E5E5"> reset</font><font color="#CCCCCC"> so they</font>

314
00:10:28,470 --> 00:10:31,560
built the<font color="#E5E5E5"> front-end to be secure not</font>

315
00:10:30,060 --> 00:10:33,089
give up any<font color="#CCCCCC"> information</font><font color="#E5E5E5"> probably because</font>

316
00:10:31,560 --> 00:10:34,380
they had some<font color="#E5E5E5"> sort of audit finding for</font>

317
00:10:33,089 --> 00:10:36,510
it<font color="#CCCCCC"> eventually but</font><font color="#E5E5E5"> then you have this</font>

318
00:10:34,380 --> 00:10:38,010
this feature that's just there and you

319
00:10:36,510 --> 00:10:39,990
know it's a<font color="#E5E5E5"> feature I mean I think I</font>

320
00:10:38,010 --> 00:10:42,389
<font color="#E5E5E5">don't think you can</font><font color="#CCCCCC"> design a password</font><font color="#E5E5E5"> or</font>

321
00:10:39,990 --> 00:10:43,709
you know<font color="#E5E5E5"> security questions things to do</font>

322
00:10:42,389 --> 00:10:45,089
anything<font color="#E5E5E5"> else otherwise like it's going</font>

323
00:10:43,709 --> 00:10:46,888
<font color="#E5E5E5">to have to tell you the users there so</font>

324
00:10:45,089 --> 00:10:49,620
this<font color="#E5E5E5"> is one of those usability features</font>

325
00:10:46,889 --> 00:10:52,260
that like listen it's it's it's the risk

326
00:10:49,620 --> 00:10:54,120
<font color="#E5E5E5">right there and I</font><font color="#CCCCCC"> mentioned there's</font>

327
00:10:52,260 --> 00:10:54,460
different ways<font color="#E5E5E5"> to</font><font color="#CCCCCC"> generate</font><font color="#E5E5E5"> usernames if</font>

328
00:10:54,120 --> 00:10:55,899
you

329
00:10:54,460 --> 00:10:58,149
know what you're gonna do<font color="#CCCCCC"> so there's</font>

330
00:10:55,899 --> 00:10:59,529
like tools on github<font color="#E5E5E5"> there's tools in</font>

331
00:10:58,149 --> 00:11:00,820
<font color="#E5E5E5">birth you can just code something</font>

332
00:10:59,529 --> 00:11:02,620
<font color="#CCCCCC">yourself where you do you know first</font>

333
00:11:00,820 --> 00:11:05,620
name dot<font color="#E5E5E5"> last name from from your</font>

334
00:11:02,620 --> 00:11:07,540
<font color="#CCCCCC">outlook</font><font color="#E5E5E5"> or something like</font><font color="#CCCCCC"> that there's</font>

335
00:11:05,620 --> 00:11:08,910
one that like take the census data so

336
00:11:07,540 --> 00:11:11,410
you can<font color="#CCCCCC"> figure out</font><font color="#E5E5E5"> the most common names</font>

337
00:11:08,910 --> 00:11:13,209
<font color="#CCCCCC">the one of</font><font color="#E5E5E5"> the most most effective for</font>

338
00:11:11,410 --> 00:11:14,890
me though it was either metadata<font color="#E5E5E5"> or just</font>

339
00:11:13,209 --> 00:11:17,170
calling the<font color="#CCCCCC"> helpdesk</font><font color="#E5E5E5"> and asking so for</font>

340
00:11:14,890 --> 00:11:19,569
for<font color="#E5E5E5"> metadata you just look for a file</font>

341
00:11:17,170 --> 00:11:22,180
<font color="#E5E5E5">like you know you do your</font><font color="#CCCCCC"> google search</font>

342
00:11:19,570 --> 00:11:25,630
operator and<font color="#E5E5E5"> you do you know file type</font>

343
00:11:22,180 --> 00:11:27,430
PDF for example.com<font color="#CCCCCC"> and so when you pull</font>

344
00:11:25,630 --> 00:11:29,500
down<font color="#E5E5E5"> the PDF or the</font><font color="#CCCCCC"> word documents</font>

345
00:11:27,430 --> 00:11:30,670
probably better<font color="#CCCCCC"> you can pull metadata</font>

346
00:11:29,500 --> 00:11:32,800
from<font color="#E5E5E5"> it and I'll tell you</font><font color="#CCCCCC"> like the</font>

347
00:11:30,670 --> 00:11:34,800
<font color="#E5E5E5">username</font><font color="#CCCCCC"> that created that that file and</font>

348
00:11:32,800 --> 00:11:37,209
so that<font color="#E5E5E5"> sort of gives you an idea</font><font color="#CCCCCC"> of</font>

349
00:11:34,800 --> 00:11:38,079
what the naming convention might be so

350
00:11:37,209 --> 00:11:40,270
<font color="#E5E5E5">you can plan</font><font color="#CCCCCC"> your attack</font>

351
00:11:38,080 --> 00:11:43,060
<font color="#CCCCCC">yeah but calling the helpdesk</font><font color="#E5E5E5"> is</font><font color="#CCCCCC"> ask</font><font color="#E5E5E5"> and</font>

352
00:11:40,270 --> 00:11:44,620
asking<font color="#CCCCCC"> has been the best all</font><font color="#E5E5E5"> right so</font>

353
00:11:43,060 --> 00:11:46,329
the the<font color="#E5E5E5"> the defense is</font><font color="#CCCCCC"> just that a</font>

354
00:11:44,620 --> 00:11:47,860
<font color="#E5E5E5">generic error messages you seem you know</font>

355
00:11:46,330 --> 00:11:50,350
<font color="#E5E5E5">letting you know your user account</font><font color="#CCCCCC"> for</font>

356
00:11:47,860 --> 00:11:51,520
password is incorrect<font color="#E5E5E5"> and for a forgot</font>

357
00:11:50,350 --> 00:11:52,839
password message I mean if you're<font color="#E5E5E5"> doing</font>

358
00:11:51,520 --> 00:11:54,850
security questions I think<font color="#CCCCCC"> you're kind</font>

359
00:11:52,839 --> 00:11:56,529
of stuck<font color="#E5E5E5"> the way it is but if you're not</font>

360
00:11:54,850 --> 00:11:58,540
it's one of those<font color="#E5E5E5"> send an email</font>

361
00:11:56,529 --> 00:12:00,010
regardless or show you that an email

362
00:11:58,540 --> 00:12:01,750
might have been sent<font color="#E5E5E5"> if you were a valid</font>

363
00:12:00,010 --> 00:12:03,000
user just<font color="#E5E5E5"> something that doesn't give</font>

364
00:12:01,750 --> 00:12:05,950
things away

365
00:12:03,000 --> 00:12:08,230
<font color="#E5E5E5">all right so other</font><font color="#CCCCCC"> built-in</font><font color="#E5E5E5"> enumeration</font>

366
00:12:05,950 --> 00:12:11,050
features you know menus<font color="#E5E5E5"> api's and just</font>

367
00:12:08,230 --> 00:12:13,120
generic commands that might be wrong for

368
00:12:11,050 --> 00:12:14,650
for menus you know if you have<font color="#E5E5E5"> access to</font>

369
00:12:13,120 --> 00:12:17,260
<font color="#E5E5E5">an application a lot of times once you</font>

370
00:12:14,650 --> 00:12:19,180
have access<font color="#E5E5E5"> there's a whole they just</font>

371
00:12:17,260 --> 00:12:21,189
give away<font color="#E5E5E5"> the rest of users you know all</font>

372
00:12:19,180 --> 00:12:23,800
<font color="#CCCCCC">of the usernames and</font><font color="#E5E5E5"> even their roles</font>

373
00:12:21,190 --> 00:12:25,089
<font color="#CCCCCC">too</font><font color="#E5E5E5"> so like</font><font color="#CCCCCC"> this is this is HipChat it's</font>

374
00:12:23,800 --> 00:12:26,589
sort<font color="#CCCCCC"> of</font><font color="#E5E5E5"> like a slack you know if you're</font>

375
00:12:25,089 --> 00:12:29,350
<font color="#E5E5E5">there you</font><font color="#CCCCCC"> can you can</font><font color="#E5E5E5"> tell whoever's on</font>

376
00:12:26,589 --> 00:12:31,150
it<font color="#CCCCCC"> and that's usually because they're</font>

377
00:12:29,350 --> 00:12:32,830
using<font color="#E5E5E5"> some sort of API so you know we're</font>

378
00:12:31,150 --> 00:12:35,110
<font color="#CCCCCC">neighbor you press buns</font><font color="#E5E5E5"> it it makes a</font>

379
00:12:32,830 --> 00:12:37,630
web<font color="#E5E5E5"> request and and</font><font color="#CCCCCC"> and gets a bunch of</font>

380
00:12:35,110 --> 00:12:40,329
<font color="#E5E5E5">users and filters and aquarium and so if</font>

381
00:12:37,630 --> 00:12:43,510
you see any sort<font color="#E5E5E5"> of API if you want to</font>

382
00:12:40,329 --> 00:12:45,310
go ahead and<font color="#CCCCCC"> test them a lot of a pee</font>

383
00:12:43,510 --> 00:12:46,990
<font color="#CCCCCC">eyes don't require authentication if</font>

384
00:12:45,310 --> 00:12:49,660
<font color="#CCCCCC">there's</font><font color="#E5E5E5"> just something like enumerated</font>

385
00:12:46,990 --> 00:12:50,430
users<font color="#E5E5E5"> so that's sort of one</font><font color="#CCCCCC"> thing that</font>

386
00:12:49,660 --> 00:12:53,339
<font color="#CCCCCC">you</font>

387
00:12:50,430 --> 00:12:54,630
look for so<font color="#CCCCCC"> yeah the rule of thumb</font><font color="#E5E5E5"> is</font>

388
00:12:53,339 --> 00:12:57,330
basically you know<font color="#CCCCCC"> you want</font><font color="#E5E5E5"> to know your</font>

389
00:12:54,630 --> 00:12:58,380
<font color="#CCCCCC">own application and if you have if you</font>

390
00:12:57,330 --> 00:13:00,210
<font color="#E5E5E5">have one of these application just know</font>

391
00:12:58,380 --> 00:13:01,830
that it gives up all your users and

392
00:13:00,210 --> 00:13:04,200
things<font color="#E5E5E5"> like</font><font color="#CCCCCC"> that</font><font color="#E5E5E5"> it's not necessarily</font>

393
00:13:01,830 --> 00:13:07,200
<font color="#E5E5E5">the biggest deal in the world</font><font color="#CCCCCC"> but it's a</font>

394
00:13:04,200 --> 00:13:08,820
risk<font color="#E5E5E5"> to know about and you</font><font color="#CCCCCC"> know testing</font>

395
00:13:07,200 --> 00:13:10,440
your logins<font color="#E5E5E5"> so you've seen</font><font color="#CCCCCC"> some of</font><font color="#E5E5E5"> the</font>

396
00:13:08,820 --> 00:13:12,060
use<font color="#CCCCCC"> cases with invalid user names and</font>

397
00:13:10,440 --> 00:13:13,290
valid passwords and so on and so forth

398
00:13:12,060 --> 00:13:14,849
<font color="#CCCCCC">you know if you own one of these things</font>

399
00:13:13,290 --> 00:13:17,939
your developer just just check them to

400
00:13:14,850 --> 00:13:19,740
<font color="#E5E5E5">see see what they give up all right so</font>

401
00:13:17,940 --> 00:13:21,180
then what the<font color="#CCCCCC"> numerating users on to</font>

402
00:13:19,740 --> 00:13:22,890
testing account walk out so if you have

403
00:13:21,180 --> 00:13:24,359
a bunch of<font color="#CCCCCC"> usernames at this point we</font>

404
00:13:22,890 --> 00:13:26,310
<font color="#E5E5E5">want to try to start</font><font color="#CCCCCC"> guessing passwords</font>

405
00:13:24,360 --> 00:13:28,649
but first determining<font color="#E5E5E5"> the lockout policy</font>

406
00:13:26,310 --> 00:13:30,599
is kind of big<font color="#E5E5E5"> most applications have an</font>

407
00:13:28,649 --> 00:13:31,740
account lockout policy and you know if

408
00:13:30,600 --> 00:13:32,790
you're a tester or something<font color="#CCCCCC"> like that</font>

409
00:13:31,740 --> 00:13:35,940
you<font color="#CCCCCC"> don't</font><font color="#E5E5E5"> want</font><font color="#CCCCCC"> to lock out a bunch of</font>

410
00:13:32,790 --> 00:13:37,380
<font color="#E5E5E5">normal accounts</font><font color="#CCCCCC"> so it's one</font><font color="#E5E5E5"> of those</font>

411
00:13:35,940 --> 00:13:38,880
things that<font color="#CCCCCC"> she</font><font color="#E5E5E5"> needs to</font><font color="#CCCCCC"> know</font><font color="#E5E5E5"> but once</font>

412
00:13:37,380 --> 00:13:40,290
you do figure<font color="#CCCCCC"> out the lockout policy we</font>

413
00:13:38,880 --> 00:13:43,020
<font color="#E5E5E5">can begin testing a little bit further</font>

414
00:13:40,290 --> 00:13:45,599
<font color="#E5E5E5">so once again the easiest way that that</font>

415
00:13:43,020 --> 00:13:46,800
I think to<font color="#E5E5E5"> figure out the</font><font color="#CCCCCC"> account</font>

416
00:13:45,600 --> 00:13:47,850
<font color="#CCCCCC">lockout policy is called</font><font color="#E5E5E5"> the help desk</font>

417
00:13:46,800 --> 00:13:49,949
<font color="#E5E5E5">if there's a help desk number and just</font>

418
00:13:47,850 --> 00:13:50,970
<font color="#E5E5E5">ask them how many how many times because</font>

419
00:13:49,950 --> 00:13:52,560
<font color="#E5E5E5">they're they're there to help and</font>

420
00:13:50,970 --> 00:13:53,790
they'll probably<font color="#E5E5E5"> just tell you but</font>

421
00:13:52,560 --> 00:13:54,959
<font color="#E5E5E5">otherwise you can research the framework</font>

422
00:13:53,790 --> 00:13:56,370
if you have some sort<font color="#CCCCCC"> of well-known</font>

423
00:13:54,959 --> 00:13:58,529
framework you<font color="#CCCCCC"> can sort of</font><font color="#E5E5E5"> look it up</font>

424
00:13:56,370 --> 00:14:00,839
<font color="#CCCCCC">hope there's a default</font><font color="#E5E5E5"> setting and I</font>

425
00:13:58,529 --> 00:14:02,820
hope that's the right<font color="#CCCCCC"> one you do have</font>

426
00:14:00,839 --> 00:14:04,589
some applications<font color="#CCCCCC"> that'll tell you like</font>

427
00:14:02,820 --> 00:14:06,180
as<font color="#E5E5E5"> soon as you fail a</font><font color="#CCCCCC"> login</font><font color="#E5E5E5"> once it'll</font>

428
00:14:04,589 --> 00:14:08,279
say you have five attempts remaining

429
00:14:06,180 --> 00:14:10,589
<font color="#E5E5E5">before we lock your account</font><font color="#CCCCCC"> and then</font>

430
00:14:08,279 --> 00:14:12,150
sort of<font color="#E5E5E5"> the last cases you just</font><font color="#CCCCCC"> keep</font>

431
00:14:10,589 --> 00:14:14,839
<font color="#E5E5E5">trying until it either gives you some</font>

432
00:14:12,150 --> 00:14:17,520
indication<font color="#E5E5E5"> that you're locked out or</font><font color="#CCCCCC"> not</font>

433
00:14:14,839 --> 00:14:18,900
so to start by<font color="#E5E5E5"> passing stuff when you</font>

434
00:14:17,520 --> 00:14:20,520
log<font color="#CCCCCC"> into</font><font color="#E5E5E5"> things one</font><font color="#CCCCCC"> of the first things</font>

435
00:14:18,900 --> 00:14:22,709
I do<font color="#E5E5E5"> is I look for</font><font color="#CCCCCC"> client side counters</font>

436
00:14:20,520 --> 00:14:24,480
<font color="#E5E5E5">so the way you can imagine lockout works</font>

437
00:14:22,709 --> 00:14:26,699
as far as code is concerned<font color="#CCCCCC"> is you know</font>

438
00:14:24,480 --> 00:14:28,680
when this<font color="#E5E5E5"> user name fails a</font><font color="#CCCCCC"> login</font>

439
00:14:26,700 --> 00:14:30,180
<font color="#E5E5E5">increment the failed login counter and</font>

440
00:14:28,680 --> 00:14:32,459
when the failed login counter is<font color="#E5E5E5"> greater</font>

441
00:14:30,180 --> 00:14:35,219
than<font color="#CCCCCC"> 3</font><font color="#E5E5E5"> lock out the user or something</font>

442
00:14:32,459 --> 00:14:36,839
like<font color="#CCCCCC"> that so that's supposed to be done</font>

443
00:14:35,220 --> 00:14:38,250
on the server<font color="#E5E5E5"> side clients shouldn't be</font>

444
00:14:36,839 --> 00:14:40,170
able<font color="#E5E5E5"> to affect that at all but in some</font>

445
00:14:38,250 --> 00:14:42,360
cases they will put a<font color="#CCCCCC"> counter on the</font>

446
00:14:40,170 --> 00:14:43,740
client side<font color="#CCCCCC"> and so you know</font><font color="#E5E5E5"> this is my</font>

447
00:14:42,360 --> 00:14:45,450
<font color="#E5E5E5">first attempt</font><font color="#CCCCCC"> of logging in if you guys</font>

448
00:14:43,740 --> 00:14:46,770
aren't<font color="#E5E5E5"> familiar with HTTP this is just a</font>

449
00:14:45,450 --> 00:14:48,750
post request so this is what your

450
00:14:46,770 --> 00:14:49,740
browser is<font color="#CCCCCC"> doing in the hood</font><font color="#E5E5E5"> we're under</font>

451
00:14:48,750 --> 00:14:52,529
<font color="#E5E5E5">the hood when you're trying to log</font><font color="#CCCCCC"> into</font>

452
00:14:49,740 --> 00:14:54,899
something<font color="#E5E5E5"> so you know post sort of means</font>

453
00:14:52,529 --> 00:14:56,100
the the body of<font color="#CCCCCC"> the request</font><font color="#E5E5E5"> where all of</font>

454
00:14:54,899 --> 00:14:57,839
<font color="#E5E5E5">my credentials are going to do is going</font>

455
00:14:56,100 --> 00:14:59,610
to be in the body where other people

456
00:14:57,839 --> 00:15:02,190
won't<font color="#CCCCCC"> be</font><font color="#E5E5E5"> able to see it but that's what</font>

457
00:14:59,610 --> 00:15:03,540
this<font color="#E5E5E5"> is so I failed</font><font color="#CCCCCC"> the login</font><font color="#E5E5E5"> and then</font>

458
00:15:02,190 --> 00:15:03,730
when I try to<font color="#E5E5E5"> log in again my counter</font>

459
00:15:03,540 --> 00:15:06,339
was

460
00:15:03,730 --> 00:15:08,320
<font color="#E5E5E5">incremented</font><font color="#CCCCCC"> to so it kind of gave me an</font>

461
00:15:06,339 --> 00:15:11,050
idea that maybe<font color="#CCCCCC"> this</font><font color="#E5E5E5"> C equals</font><font color="#CCCCCC"> two was</font>

462
00:15:08,320 --> 00:15:12,970
actually a counter<font color="#E5E5E5"> so to bypass</font><font color="#CCCCCC"> it I</font>

463
00:15:11,050 --> 00:15:13,930
just<font color="#E5E5E5"> set the seed</font><font color="#CCCCCC"> to equal</font><font color="#E5E5E5"> one the</font>

464
00:15:12,970 --> 00:15:16,089
entire time<font color="#E5E5E5"> and I was able</font><font color="#CCCCCC"> to</font>

465
00:15:13,930 --> 00:15:19,120
continually try<font color="#E5E5E5"> to guess passwords</font>

466
00:15:16,089 --> 00:15:20,529
against these users so the other thing

467
00:15:19,120 --> 00:15:22,149
you<font color="#CCCCCC"> know</font><font color="#E5E5E5"> I mentioned that it that</font>

468
00:15:20,529 --> 00:15:23,649
counter is<font color="#E5E5E5"> typically associated</font><font color="#CCCCCC"> with</font><font color="#E5E5E5"> the</font>

469
00:15:22,149 --> 00:15:27,310
<font color="#CCCCCC">username</font><font color="#E5E5E5"> and its associated</font><font color="#CCCCCC"> served side</font>

470
00:15:23,649 --> 00:15:28,990
of the database<font color="#CCCCCC"> other times they will</font>

471
00:15:27,310 --> 00:15:30,670
<font color="#CCCCCC">actually give you a cookie first</font><font color="#E5E5E5"> when</font>

472
00:15:28,990 --> 00:15:32,139
you first<font color="#CCCCCC"> go to the site they'll give</font>

473
00:15:30,670 --> 00:15:33,959
you a<font color="#E5E5E5"> cookie and then they'll associate</font>

474
00:15:32,139 --> 00:15:36,550
the counter with that<font color="#E5E5E5"> particular cookie</font>

475
00:15:33,959 --> 00:15:39,250
<font color="#E5E5E5">idea you know the idea is once you get</font><font color="#CCCCCC"> a</font>

476
00:15:36,550 --> 00:15:40,420
<font color="#E5E5E5">new if you do login successfully they</font>

477
00:15:39,250 --> 00:15:42,940
give you a new cookie so it doesn't

478
00:15:40,420 --> 00:15:44,110
matter but in this case you know try

479
00:15:42,940 --> 00:15:47,290
sometimes trying to just delete your

480
00:15:44,110 --> 00:15:50,620
cookies<font color="#E5E5E5"> well let you bypass the account</font>

481
00:15:47,290 --> 00:15:51,969
lockout altogether<font color="#CCCCCC"> the other thing that</font>

482
00:15:50,620 --> 00:15:53,529
you can<font color="#E5E5E5"> do is try using basic</font>

483
00:15:51,970 --> 00:15:55,870
authentication<font color="#CCCCCC"> so if you don't know what</font>

484
00:15:53,529 --> 00:15:57,070
<font color="#E5E5E5">basically</font><font color="#CCCCCC"> connotation is you'll see it a</font>

485
00:15:55,870 --> 00:15:58,029
lot if you<font color="#E5E5E5"> go to a website when you get</font>

486
00:15:57,070 --> 00:16:00,279
the<font color="#CCCCCC"> initial pop up four it says</font>

487
00:15:58,029 --> 00:16:01,810
authorization required and you know you

488
00:16:00,279 --> 00:16:04,810
put in your<font color="#CCCCCC"> username password</font><font color="#E5E5E5"> underneath</font>

489
00:16:01,810 --> 00:16:06,369
the hood<font color="#E5E5E5"> you're actually well I'm sorry</font>

490
00:16:04,810 --> 00:16:08,469
this is<font color="#E5E5E5"> so this is a regular</font>

491
00:16:06,370 --> 00:16:09,760
<font color="#E5E5E5">authentication and this is basic</font>

492
00:16:08,470 --> 00:16:11,470
authentication but the important part<font color="#CCCCCC"> is</font>

493
00:16:09,760 --> 00:16:13,600
<font color="#CCCCCC">the</font><font color="#E5E5E5"> response here so when I tried that</font>

494
00:16:11,470 --> 00:16:15,370
<font color="#E5E5E5">log it normally I get</font><font color="#CCCCCC"> this 302 which is</font>

495
00:16:13,600 --> 00:16:16,839
the redirecting me back to login<font color="#E5E5E5"> sort of</font>

496
00:16:15,370 --> 00:16:19,120
an indication<font color="#CCCCCC"> that I failed to</font><font color="#E5E5E5"> log in on</font>

497
00:16:16,839 --> 00:16:21,760
<font color="#E5E5E5">this one but if I'm using basic</font>

498
00:16:19,120 --> 00:16:23,649
authentication<font color="#CCCCCC"> I get</font><font color="#E5E5E5"> an unauthorized and</font>

499
00:16:21,760 --> 00:16:25,420
the reason it's doing<font color="#E5E5E5"> that</font><font color="#CCCCCC"> it's actually</font>

500
00:16:23,649 --> 00:16:26,380
interpreting these<font color="#CCCCCC"> credentials so like I</font>

501
00:16:25,420 --> 00:16:28,599
was mentioning<font color="#CCCCCC"> with basic authentication</font>

502
00:16:26,380 --> 00:16:30,760
<font color="#CCCCCC">all it is</font><font color="#E5E5E5"> is</font><font color="#CCCCCC"> it's your username</font><font color="#E5E5E5"> and your</font>

503
00:16:28,600 --> 00:16:33,220
password of<font color="#E5E5E5"> coland eliminated or</font>

504
00:16:30,760 --> 00:16:35,380
delimited with that's page 64 encoded

505
00:16:33,220 --> 00:16:37,120
and it goes with every request your

506
00:16:35,380 --> 00:16:38,560
browser stores<font color="#E5E5E5"> this is the</font><font color="#CCCCCC"> authorization</font>

507
00:16:37,120 --> 00:16:40,899
<font color="#CCCCCC">header and it goes on every subsequent</font>

508
00:16:38,560 --> 00:16:42,880
request<font color="#E5E5E5"> to whatever domain so when I got</font>

509
00:16:40,899 --> 00:16:44,889
this<font color="#CCCCCC"> 401 here as opposed to on the</font>

510
00:16:42,880 --> 00:16:46,389
<font color="#E5E5E5">previous slide where was</font><font color="#CCCCCC"> a 302 what I</font>

511
00:16:44,889 --> 00:16:47,649
know then is that<font color="#E5E5E5"> my credentials</font><font color="#CCCCCC"> are</font>

512
00:16:46,389 --> 00:16:50,800
being interpreted so that it's

513
00:16:47,649 --> 00:16:52,000
processing them in some way<font color="#E5E5E5"> and when</font>

514
00:16:50,800 --> 00:16:54,040
<font color="#E5E5E5">something like this happens it's sort of</font>

515
00:16:52,000 --> 00:16:56,170
like an<font color="#E5E5E5"> unexpected authentication like</font>

516
00:16:54,040 --> 00:16:58,089
they don't expect you to be using<font color="#E5E5E5"> basic</font>

517
00:16:56,170 --> 00:17:00,339
authentication but they do<font color="#E5E5E5"> allow for it</font>

518
00:16:58,089 --> 00:17:01,600
so in this way several<font color="#E5E5E5"> times</font><font color="#CCCCCC"> they've</font>

519
00:17:00,339 --> 00:17:02,829
<font color="#CCCCCC">been able</font><font color="#E5E5E5"> to bypass the account lockout</font>

520
00:17:01,600 --> 00:17:06,209
because they don't<font color="#CCCCCC"> have any counter</font>

521
00:17:02,829 --> 00:17:06,209
<font color="#CCCCCC">setup</font><font color="#E5E5E5"> for basic off</font>

522
00:17:07,270 --> 00:17:13,569
<font color="#E5E5E5">all right and sort of a kind of a cool</font>

523
00:17:10,750 --> 00:17:15,010
bug is so<font color="#E5E5E5"> this is this is the there's a</font>

524
00:17:13,569 --> 00:17:17,409
commercial<font color="#CCCCCC"> Identity Management product</font>

525
00:17:15,010 --> 00:17:19,540
and<font color="#E5E5E5"> you know it's set up in such a way</font>

526
00:17:17,410 --> 00:17:21,360
that<font color="#E5E5E5"> even when you lock yourself out you</font>

527
00:17:19,540 --> 00:17:24,430
get usually<font color="#E5E5E5"> the password do not match so</font>

528
00:17:21,359 --> 00:17:26,079
it stays true the<font color="#CCCCCC"> entire time of not</font>

529
00:17:24,430 --> 00:17:27,250
<font color="#E5E5E5">letting you know the</font><font color="#CCCCCC"> username it doesn't</font>

530
00:17:26,079 --> 00:17:30,129
let<font color="#CCCCCC"> you know you're locked</font><font color="#E5E5E5"> out at all I</font>

531
00:17:27,250 --> 00:17:31,660
could guess<font color="#E5E5E5"> a thousand passwords</font><font color="#CCCCCC"> and as</font>

532
00:17:30,130 --> 00:17:32,860
long as I'm<font color="#CCCCCC"> failing</font><font color="#E5E5E5"> those attempts it's</font>

533
00:17:31,660 --> 00:17:36,280
just<font color="#CCCCCC"> gonna give</font><font color="#E5E5E5"> me the same message but</font>

534
00:17:32,860 --> 00:17:38,320
<font color="#E5E5E5">the bug was once you get the password</font>

535
00:17:36,280 --> 00:17:39,910
right if you're locked out<font color="#CCCCCC"> it gives you</font>

536
00:17:38,320 --> 00:17:42,610
<font color="#E5E5E5">this so it gives you an error letting</font>

537
00:17:39,910 --> 00:17:44,140
you know that<font color="#E5E5E5"> you're locked out which I</font>

538
00:17:42,610 --> 00:17:45,399
mean I'm<font color="#E5E5E5"> sure if somebody</font><font color="#CCCCCC"> had to find</font>

539
00:17:44,140 --> 00:17:46,510
that before<font color="#CCCCCC"> but they're like okay well</font>

540
00:17:45,400 --> 00:17:48,550
<font color="#CCCCCC">you're locked out you're good you know</font>

541
00:17:46,510 --> 00:17:50,140
but you<font color="#E5E5E5"> know when you</font><font color="#CCCCCC"> think about it is</font>

542
00:17:48,550 --> 00:17:51,070
if it's giving you a completely

543
00:17:50,140 --> 00:17:52,420
<font color="#E5E5E5">different air when you got the wrong</font>

544
00:17:51,070 --> 00:17:54,250
password<font color="#E5E5E5"> the entire time and then when</font>

545
00:17:52,420 --> 00:17:56,110
you<font color="#E5E5E5"> get this it's correct</font><font color="#CCCCCC"> that means you</font>

546
00:17:54,250 --> 00:17:57,670
know<font color="#E5E5E5"> the password</font><font color="#CCCCCC"> now</font><font color="#E5E5E5"> and since this was</font>

547
00:17:56,110 --> 00:18:00,070
an identity management<font color="#E5E5E5"> site it was a</font>

548
00:17:57,670 --> 00:18:01,480
single sign-on site<font color="#E5E5E5"> so like this is</font>

549
00:18:00,070 --> 00:18:03,550
where they set the passwords and then

550
00:18:01,480 --> 00:18:04,780
all of<font color="#E5E5E5"> you know this was the single</font>

551
00:18:03,550 --> 00:18:05,830
sign-on password so once I knew their

552
00:18:04,780 --> 00:18:09,010
password here I knew their password

553
00:18:05,830 --> 00:18:10,270
<font color="#E5E5E5">everywhere</font><font color="#CCCCCC"> and on top of</font><font color="#E5E5E5"> that I could</font>

554
00:18:09,010 --> 00:18:12,790
<font color="#E5E5E5">just call the help desk and I said</font><font color="#CCCCCC"> hey I</font>

555
00:18:10,270 --> 00:18:13,900
I'm this person<font color="#E5E5E5"> and I locked</font><font color="#CCCCCC"> you know I</font>

556
00:18:12,790 --> 00:18:15,310
<font color="#CCCCCC">locked my account</font><font color="#E5E5E5"> you don't have to</font>

557
00:18:13,900 --> 00:18:16,420
reset my password I know my<font color="#CCCCCC"> password</font>

558
00:18:15,310 --> 00:18:19,570
just unlock my account and<font color="#E5E5E5"> that worked</font>

559
00:18:16,420 --> 00:18:21,070
<font color="#E5E5E5">so there's that or you know if it would</font>

560
00:18:19,570 --> 00:18:22,450
have<font color="#E5E5E5"> automatically unlocked</font><font color="#CCCCCC"> this</font><font color="#E5E5E5"> one</font>

561
00:18:21,070 --> 00:18:23,800
wouldn't have but you can<font color="#CCCCCC"> just</font><font color="#E5E5E5"> wait for</font>

562
00:18:22,450 --> 00:18:27,490
<font color="#E5E5E5">it to unlock itself so if you find that</font>

563
00:18:23,800 --> 00:18:30,100
bug it's pretty cool<font color="#E5E5E5"> all right so then</font>

564
00:18:27,490 --> 00:18:33,600
<font color="#E5E5E5">other places that evaluate credentials</font>

565
00:18:30,100 --> 00:18:35,500
so basically these<font color="#CCCCCC"> are places</font><font color="#E5E5E5"> that</font>

566
00:18:33,600 --> 00:18:37,120
usually<font color="#E5E5E5"> usually you have to have access</font>

567
00:18:35,500 --> 00:18:38,560
<font color="#CCCCCC">to</font><font color="#E5E5E5"> the applications so this is kind of a</font>

568
00:18:37,120 --> 00:18:40,270
place<font color="#CCCCCC"> to brute-force somebody else's</font>

569
00:18:38,560 --> 00:18:41,679
password and bypassing that<font color="#CCCCCC"> lockout</font><font color="#E5E5E5"> and</font>

570
00:18:40,270 --> 00:18:43,990
the way you end up<font color="#E5E5E5"> doing that is you</font>

571
00:18:41,680 --> 00:18:45,460
look<font color="#CCCCCC"> for places where you're using the</font>

572
00:18:43,990 --> 00:18:46,930
<font color="#E5E5E5">password again</font><font color="#CCCCCC"> and the most</font><font color="#E5E5E5"> common ones</font>

573
00:18:45,460 --> 00:18:48,100
<font color="#E5E5E5">I</font><font color="#CCCCCC"> kind of mentioned</font><font color="#E5E5E5"> account creation</font>

574
00:18:46,930 --> 00:18:50,650
when<font color="#E5E5E5"> you've set a password for the first</font>

575
00:18:48,100 --> 00:18:52,090
time a lot<font color="#CCCCCC"> of times it checks whether or</font>

576
00:18:50,650 --> 00:18:54,670
not a password<font color="#CCCCCC"> already exists for some</font>

577
00:18:52,090 --> 00:18:56,080
reason password resets<font color="#CCCCCC"> they</font><font color="#E5E5E5"> always check</font>

578
00:18:54,670 --> 00:18:57,190
whether you're you know when you're

579
00:18:56,080 --> 00:18:59,679
resetting<font color="#CCCCCC"> your password need to put in</font>

580
00:18:57,190 --> 00:19:01,660
<font color="#E5E5E5">your old password and that's that's the</font>

581
00:18:59,680 --> 00:19:05,170
case on this one so in this application

582
00:19:01,660 --> 00:19:06,700
<font color="#CCCCCC">that had an update</font><font color="#E5E5E5"> password spot I could</font>

583
00:19:05,170 --> 00:19:08,830
<font color="#CCCCCC">go</font><font color="#E5E5E5"> to and</font><font color="#CCCCCC"> as soon as</font><font color="#E5E5E5"> I entered</font><font color="#CCCCCC"> the</font><font color="#E5E5E5"> old</font>

584
00:19:06,700 --> 00:19:10,390
password<font color="#CCCCCC"> and I click down</font><font color="#E5E5E5"> on the box it</font>

585
00:19:08,830 --> 00:19:11,770
<font color="#E5E5E5">you know it triggered some JavaScript</font>

586
00:19:10,390 --> 00:19:14,380
and<font color="#CCCCCC"> made an ajax</font><font color="#E5E5E5"> request so it's making</font>

587
00:19:11,770 --> 00:19:16,629
<font color="#CCCCCC">a an HTTP request in the background with</font>

588
00:19:14,380 --> 00:19:19,090
<font color="#CCCCCC">my old password</font><font color="#E5E5E5"> to verify whether or not</font>

589
00:19:16,630 --> 00:19:20,620
the old password<font color="#E5E5E5"> is correct so it's</font>

590
00:19:19,090 --> 00:19:22,419
doing this<font color="#CCCCCC"> in the request it was</font>

591
00:19:20,620 --> 00:19:23,800
really<font color="#E5E5E5"> poorly designed app so the</font>

592
00:19:22,420 --> 00:19:25,630
request<font color="#E5E5E5"> was actually a get request so</font>

593
00:19:23,800 --> 00:19:27,220
this is it's bad to<font color="#E5E5E5"> have any sort</font><font color="#CCCCCC"> of</font>

594
00:19:25,630 --> 00:19:29,230
credentials in a gate request but this

595
00:19:27,220 --> 00:19:31,030
was the<font color="#E5E5E5"> URL</font><font color="#CCCCCC"> that</font><font color="#E5E5E5"> I could go to to see</font>

596
00:19:29,230 --> 00:19:33,250
<font color="#CCCCCC">what was</font><font color="#E5E5E5"> going on behind the scenes</font><font color="#CCCCCC"> and</font>

597
00:19:31,030 --> 00:19:35,200
<font color="#E5E5E5">so it was verify password and the queue</font>

598
00:19:33,250 --> 00:19:37,480
was the my old password which you<font color="#E5E5E5"> know</font>

599
00:19:35,200 --> 00:19:39,880
in this case<font color="#CCCCCC"> has his bad pass and</font><font color="#E5E5E5"> and it</font>

600
00:19:37,480 --> 00:19:41,440
has my user ID next to it<font color="#E5E5E5"> and so if I</font>

601
00:19:39,880 --> 00:19:43,059
<font color="#E5E5E5">put in a bad password there you know an</font>

602
00:19:41,440 --> 00:19:44,470
incorrect password<font color="#CCCCCC"> it returns back</font>

603
00:19:43,059 --> 00:19:45,639
password enter does not match current

604
00:19:44,470 --> 00:19:46,720
<font color="#E5E5E5">password and that's the error message</font>

605
00:19:45,640 --> 00:19:48,150
<font color="#E5E5E5">that would show up on the other screen</font>

606
00:19:46,720 --> 00:19:51,370
<font color="#CCCCCC">you know if I were doing</font><font color="#E5E5E5"> this correctly</font>

607
00:19:48,150 --> 00:19:52,780
<font color="#CCCCCC">so a blank</font><font color="#E5E5E5"> response though indicate</font>

608
00:19:51,370 --> 00:19:55,239
success<font color="#E5E5E5"> you know like I got the correct</font>

609
00:19:52,780 --> 00:19:57,100
password<font color="#E5E5E5"> so anybody could go to this</font>

610
00:19:55,240 --> 00:19:58,900
page though and just cycle through user

611
00:19:57,100 --> 00:20:00,610
IDs<font color="#CCCCCC"> and guest passwords and this one</font>

612
00:19:58,900 --> 00:20:02,470
didn't<font color="#E5E5E5"> have</font><font color="#CCCCCC"> in a</font><font color="#E5E5E5"> lockout associated with</font>

613
00:20:00,610 --> 00:20:03,939
it<font color="#E5E5E5"> so while the website</font><font color="#CCCCCC"> you know</font><font color="#E5E5E5"> three</font>

614
00:20:02,470 --> 00:20:07,530
invalid<font color="#CCCCCC"> Lockette logins would lock you</font>

615
00:20:03,940 --> 00:20:10,480
out<font color="#E5E5E5"> for this check password spot did not</font>

616
00:20:07,530 --> 00:20:11,980
<font color="#E5E5E5">alright so that covers the testing</font>

617
00:20:10,480 --> 00:20:16,570
account lockout so now<font color="#E5E5E5"> on to</font><font color="#CCCCCC"> the</font>

618
00:20:11,980 --> 00:20:17,679
<font color="#E5E5E5">password attacks alright so for</font>

619
00:20:16,570 --> 00:20:20,050
different<font color="#E5E5E5"> types I'm going to talk</font><font color="#CCCCCC"> about</font>

620
00:20:17,679 --> 00:20:22,270
a lot<font color="#CCCCCC"> of these may not be new to you but</font>

621
00:20:20,050 --> 00:20:24,490
some of<font color="#CCCCCC"> them</font><font color="#E5E5E5"> so for a continuous</font>

622
00:20:22,270 --> 00:20:26,020
guessing attack<font color="#CCCCCC"> you know I'll let people</font>

623
00:20:24,490 --> 00:20:27,400
call<font color="#CCCCCC"> it brute force you know an actual</font>

624
00:20:26,020 --> 00:20:28,300
brute force but<font color="#E5E5E5"> take a really long</font><font color="#CCCCCC"> time</font>

625
00:20:27,400 --> 00:20:29,380
that's<font color="#E5E5E5"> something</font><font color="#CCCCCC"> you can do when you're</font>

626
00:20:28,300 --> 00:20:31,330
cracking<font color="#E5E5E5"> hashes but not guessing</font>

627
00:20:29,380 --> 00:20:33,100
passwords over<font color="#E5E5E5"> HTTP</font><font color="#CCCCCC"> because it takes a</font>

628
00:20:31,330 --> 00:20:34,449
<font color="#E5E5E5">long time so it's typically just</font><font color="#CCCCCC"> the</font>

629
00:20:33,100 --> 00:20:36,010
dictionary<font color="#E5E5E5"> attack you have a</font><font color="#CCCCCC"> hybrid you</font>

630
00:20:34,450 --> 00:20:37,330
<font color="#CCCCCC">have a dictionary</font><font color="#E5E5E5"> that has numbers and</font>

631
00:20:36,010 --> 00:20:40,170
letters<font color="#CCCCCC"> and whatever the password policy</font>

632
00:20:37,330 --> 00:20:43,000
<font color="#CCCCCC">the organization is you throw on things</font>

633
00:20:40,170 --> 00:20:44,410
<font color="#CCCCCC">the downside of this is if you haven't</font>

634
00:20:43,000 --> 00:20:45,400
<font color="#E5E5E5">bypassed account lockout</font><font color="#CCCCCC"> you're gonna</font>

635
00:20:44,410 --> 00:20:47,860
lock something<font color="#E5E5E5"> out if you try a</font>

636
00:20:45,400 --> 00:20:51,220
dictionary worth of you know<font color="#E5E5E5"> passwords</font>

637
00:20:47,860 --> 00:20:52,809
against<font color="#E5E5E5"> somebody so a lot of people use</font>

638
00:20:51,220 --> 00:20:54,130
what's called password spring which<font color="#CCCCCC"> is</font>

639
00:20:52,809 --> 00:20:56,200
<font color="#E5E5E5">where they take a large list of users</font>

640
00:20:54,130 --> 00:20:57,760
and they try<font color="#E5E5E5"> a very small amount of</font>

641
00:20:56,200 --> 00:20:59,440
passwords<font color="#E5E5E5"> typically under the threshold</font>

642
00:20:57,760 --> 00:21:00,790
<font color="#CCCCCC">of whatever the account lockout policy</font>

643
00:20:59,440 --> 00:21:03,190
is and this ends up being<font color="#CCCCCC"> really</font>

644
00:21:00,790 --> 00:21:05,280
effective<font color="#E5E5E5"> and because you're you're</font><font color="#CCCCCC"> not</font>

645
00:21:03,190 --> 00:21:07,600
really worried about testing testing the

646
00:21:05,280 --> 00:21:09,730
super difficult passwords you're testing

647
00:21:07,600 --> 00:21:11,709
easy stuff<font color="#E5E5E5"> like you know</font><font color="#CCCCCC"> a month year</font>

648
00:21:09,730 --> 00:21:15,360
<font color="#CCCCCC">August 2017 exclamation point</font><font color="#E5E5E5"> where it</font>

649
00:21:11,710 --> 00:21:17,320
meets everything but it still meets the

650
00:21:15,360 --> 00:21:19,209
you know the although<font color="#CCCCCC"> the password</font>

651
00:21:17,320 --> 00:21:20,500
<font color="#CCCCCC">requirements</font><font color="#E5E5E5"> and then you know keyboard</font>

652
00:21:19,210 --> 00:21:21,580
walks for<font color="#E5E5E5"> the people who</font><font color="#CCCCCC"> think that are</font>

653
00:21:20,500 --> 00:21:23,530
<font color="#E5E5E5">clever</font>

654
00:21:21,580 --> 00:21:24,879
those are<font color="#E5E5E5"> great to you know</font><font color="#CCCCCC"> just kind of</font>

655
00:21:23,530 --> 00:21:27,040
up and<font color="#E5E5E5"> down the keyboard whatever meets</font>

656
00:21:24,880 --> 00:21:28,120
the requirement<font color="#E5E5E5"> but still there</font><font color="#CCCCCC"> those</font>

657
00:21:27,040 --> 00:21:29,139
end like the keyboard

658
00:21:28,120 --> 00:21:30,639
<font color="#CCCCCC">Kwan's are</font><font color="#E5E5E5"> really great because it ends</font>

659
00:21:29,140 --> 00:21:33,070
up being<font color="#CCCCCC"> like important people</font><font color="#E5E5E5"> like</font>

660
00:21:30,640 --> 00:21:34,420
system administrators or or security

661
00:21:33,070 --> 00:21:36,159
personnel or something like<font color="#E5E5E5"> that</font><font color="#CCCCCC"> because</font>

662
00:21:34,420 --> 00:21:38,320
they<font color="#CCCCCC"> just get</font><font color="#E5E5E5"> jaded and bored and they</font>

663
00:21:36,160 --> 00:21:40,030
they walk up and down<font color="#E5E5E5"> the keyboard</font><font color="#CCCCCC"> so</font>

664
00:21:38,320 --> 00:21:41,379
those are those are<font color="#E5E5E5"> my favorite but you</font>

665
00:21:40,030 --> 00:21:43,210
know the data<font color="#E5E5E5"> I have</font><font color="#CCCCCC"> on this</font><font color="#E5E5E5"> is you know</font>

666
00:21:41,380 --> 00:21:45,460
around<font color="#E5E5E5"> every two thousand accounts</font><font color="#CCCCCC"> guest</font>

667
00:21:43,210 --> 00:21:46,900
<font color="#E5E5E5">or</font><font color="#CCCCCC"> user names guest</font><font color="#E5E5E5"> I end up getting</font>

668
00:21:45,460 --> 00:21:49,900
<font color="#E5E5E5">some</font><font color="#CCCCCC"> getting it I</font><font color="#E5E5E5"> get an access to</font>

669
00:21:46,900 --> 00:21:51,610
something<font color="#CCCCCC"> all right so the defenses to</font>

670
00:21:49,900 --> 00:21:53,170
<font color="#E5E5E5">this</font><font color="#CCCCCC"> obviously is you know</font><font color="#E5E5E5"> MFA that's</font>

671
00:21:51,610 --> 00:21:55,179
sort of<font color="#E5E5E5"> like</font><font color="#CCCCCC"> the whole talk that</font><font color="#E5E5E5"> defends</font>

672
00:21:53,170 --> 00:21:57,370
<font color="#E5E5E5">his MFA if you use MFA most of the stuff</font>

673
00:21:55,180 --> 00:21:59,020
you<font color="#CCCCCC"> won't</font><font color="#E5E5E5"> have a</font><font color="#CCCCCC"> problem with a</font><font color="#E5E5E5"> CAPTCHA</font>

674
00:21:57,370 --> 00:22:00,879
<font color="#CCCCCC">some regulated rate</font><font color="#E5E5E5"> limiting all of the</font>

675
00:21:59,020 --> 00:22:04,200
requests<font color="#CCCCCC"> nobody's going to</font><font color="#E5E5E5"> want to go</font>

676
00:22:00,880 --> 00:22:06,940
<font color="#E5E5E5">through guest passwords by hand and</font><font color="#CCCCCC"> the</font>

677
00:22:04,200 --> 00:22:09,370
educating users all<font color="#E5E5E5"> right so logging</font>

678
00:22:06,940 --> 00:22:11,860
<font color="#E5E5E5">them so I</font><font color="#CCCCCC"> mentioned</font><font color="#E5E5E5"> logging and this is</font>

679
00:22:09,370 --> 00:22:13,600
the important part<font color="#E5E5E5"> so for logging</font><font color="#CCCCCC"> I've</font>

680
00:22:11,860 --> 00:22:14,740
worked with a couple<font color="#E5E5E5"> socks on guessing</font>

681
00:22:13,600 --> 00:22:15,969
passwords<font color="#E5E5E5"> as I say hey</font><font color="#CCCCCC"> alright</font><font color="#E5E5E5"> I'm</font>

682
00:22:14,740 --> 00:22:18,250
guessing passwords<font color="#E5E5E5"> can you see me and</font>

683
00:22:15,970 --> 00:22:20,890
they say no<font color="#CCCCCC"> I say ok well don't you</font>

684
00:22:18,250 --> 00:22:22,420
notice<font color="#E5E5E5"> a big spike in in request</font><font color="#CCCCCC"> to for</font>

685
00:22:20,890 --> 00:22:24,700
authentication they're like yeah but

686
00:22:22,420 --> 00:22:26,680
<font color="#E5E5E5">what they were doing like almost every</font>

687
00:22:24,700 --> 00:22:28,480
time is you know<font color="#E5E5E5"> this is a normal</font>

688
00:22:26,680 --> 00:22:29,590
architecture I'd say people<font color="#E5E5E5"> connect over</font>

689
00:22:28,480 --> 00:22:31,120
<font color="#E5E5E5">the</font><font color="#CCCCCC"> Internet</font><font color="#E5E5E5"> and then it gets load</font>

690
00:22:29,590 --> 00:22:32,770
balance into<font color="#E5E5E5"> your applications the</font>

691
00:22:31,120 --> 00:22:35,350
problem is you know they were<font color="#E5E5E5"> querying</font>

692
00:22:32,770 --> 00:22:36,460
these web server logs<font color="#E5E5E5"> but all of the</font>

693
00:22:35,350 --> 00:22:39,520
<font color="#E5E5E5">requests it looks like it's coming from</font>

694
00:22:36,460 --> 00:22:40,600
the load balancer so<font color="#E5E5E5"> if you don't have a</font>

695
00:22:39,520 --> 00:22:41,980
pass<font color="#E5E5E5"> through on</font><font color="#CCCCCC"> your load balancer</font>

696
00:22:40,600 --> 00:22:43,149
that's taking the<font color="#E5E5E5"> actual client IP</font>

697
00:22:41,980 --> 00:22:44,920
addresses it's not going to do you any

698
00:22:43,150 --> 00:22:46,330
good<font color="#CCCCCC"> because</font><font color="#E5E5E5"> otherwise you'll</font><font color="#CCCCCC"> you know</font>

699
00:22:44,920 --> 00:22:47,530
do something stupid<font color="#E5E5E5"> and like blacklist</font>

700
00:22:46,330 --> 00:22:49,840
<font color="#CCCCCC">your load balancer and then you won't</font>

701
00:22:47,530 --> 00:22:50,830
have any<font color="#CCCCCC"> traffic</font><font color="#E5E5E5"> all so always</font><font color="#CCCCCC"> just</font><font color="#E5E5E5"> make</font>

702
00:22:49,840 --> 00:22:52,840
sure<font color="#E5E5E5"> that you're actually getting the</font>

703
00:22:50,830 --> 00:22:54,760
true source<font color="#E5E5E5"> of your client</font><font color="#CCCCCC"> IPs</font><font color="#E5E5E5"> otherwise</font>

704
00:22:52,840 --> 00:22:57,280
you won't<font color="#E5E5E5"> be able to stop anybody</font><font color="#CCCCCC"> and</font>

705
00:22:54,760 --> 00:22:58,690
yes there's always the defense that they

706
00:22:57,280 --> 00:22:59,889
can just<font color="#E5E5E5"> move to</font><font color="#CCCCCC"> another IP address and</font>

707
00:22:58,690 --> 00:23:01,050
<font color="#E5E5E5">that's true but it slow him down a</font>

708
00:22:59,890 --> 00:23:03,340
little<font color="#E5E5E5"> bit</font>

709
00:23:01,050 --> 00:23:04,899
<font color="#CCCCCC">alright so</font><font color="#E5E5E5"> this one you may</font><font color="#CCCCCC"> not have</font>

710
00:23:03,340 --> 00:23:06,639
<font color="#E5E5E5">heard of I call it indirect password</font>

711
00:23:04,900 --> 00:23:07,930
guessing<font color="#E5E5E5"> it's what happens when you get</font>

712
00:23:06,640 --> 00:23:09,430
<font color="#E5E5E5">an error message</font><font color="#CCCCCC"> like this you know</font>

713
00:23:07,930 --> 00:23:11,860
we've seen<font color="#CCCCCC"> all the previous ones</font><font color="#E5E5E5"> where</font>

714
00:23:09,430 --> 00:23:13,450
it says you know incorrect<font color="#E5E5E5"> username or</font>

715
00:23:11,860 --> 00:23:16,780
password or incorrect usually<font color="#E5E5E5"> or</font>

716
00:23:13,450 --> 00:23:18,070
whatever but<font color="#E5E5E5"> this one just says actually</font>

717
00:23:16,780 --> 00:23:19,899
I'm<font color="#E5E5E5"> sorry this one is invalid this is</font>

718
00:23:18,070 --> 00:23:22,840
what it says normally but this<font color="#CCCCCC"> is the</font>

719
00:23:19,900 --> 00:23:24,130
weird one okay<font color="#E5E5E5"> that's that's the weird</font>

720
00:23:22,840 --> 00:23:26,139
one<font color="#CCCCCC"> all</font><font color="#E5E5E5"> right you do not have the</font>

721
00:23:24,130 --> 00:23:28,300
<font color="#CCCCCC">necessary permissions so all the</font><font color="#E5E5E5"> other</font>

722
00:23:26,140 --> 00:23:29,290
use cases<font color="#CCCCCC"> same sort</font><font color="#E5E5E5"> of error and then</font>

723
00:23:28,300 --> 00:23:30,460
all of a<font color="#CCCCCC"> sudden I get this weird</font><font color="#E5E5E5"> error</font>

724
00:23:29,290 --> 00:23:31,659
<font color="#CCCCCC">it</font><font color="#E5E5E5"> doesn't</font><font color="#CCCCCC"> want</font><font color="#E5E5E5"> me into the application</font>

725
00:23:30,460 --> 00:23:33,940
but it says I do<font color="#CCCCCC"> not</font><font color="#E5E5E5"> have the</font><font color="#CCCCCC"> necessary</font>

726
00:23:31,660 --> 00:23:35,890
permissions so trying to figure<font color="#CCCCCC"> out what</font>

727
00:23:33,940 --> 00:23:37,810
<font color="#E5E5E5">that means</font><font color="#CCCCCC"> all</font><font color="#E5E5E5"> right so then you</font><font color="#CCCCCC"> gotta</font>

728
00:23:35,890 --> 00:23:38,759
<font color="#CCCCCC">kind of think about how</font><font color="#E5E5E5"> a web</font>

729
00:23:37,810 --> 00:23:40,589
<font color="#CCCCCC">application architect</font>

730
00:23:38,759 --> 00:23:42,449
<font color="#CCCCCC">I know this</font><font color="#E5E5E5"> is kind of for</font><font color="#CCCCCC"> but you might</font>

731
00:23:40,589 --> 00:23:44,549
have a web app<font color="#CCCCCC"> that is drawing from some</font>

732
00:23:42,449 --> 00:23:47,489
sort of<font color="#E5E5E5"> LDAP database maybe as a primary</font>

733
00:23:44,549 --> 00:23:50,070
or<font color="#E5E5E5"> secondary but it does have some sort</font>

734
00:23:47,489 --> 00:23:51,509
of LDAP that it might be tied to and

735
00:23:50,070 --> 00:23:52,918
<font color="#E5E5E5">this usually</font><font color="#CCCCCC"> isn't the organization's</font>

736
00:23:51,509 --> 00:23:55,469
like real LDAP<font color="#E5E5E5"> this is like a</font>

737
00:23:52,919 --> 00:23:56,879
replication<font color="#E5E5E5"> of their LDAP and the whole</font>

738
00:23:55,469 --> 00:23:58,409
<font color="#E5E5E5">idea is like you don't want anybody to</font>

739
00:23:56,879 --> 00:24:00,779
<font color="#CCCCCC">be able</font><font color="#E5E5E5"> to just like hit your Outlook</font>

740
00:23:58,409 --> 00:24:01,949
Web App portal and and lock out

741
00:24:00,779 --> 00:24:04,320
everybody's accounts right so it's<font color="#E5E5E5"> just</font>

742
00:24:01,949 --> 00:24:06,979
replicated<font color="#E5E5E5"> user names and roles and</font>

743
00:24:04,320 --> 00:24:10,289
<font color="#E5E5E5">stuff like that not not the actual one</font>

744
00:24:06,979 --> 00:24:12,449
but the<font color="#CCCCCC"> fact</font><font color="#E5E5E5"> still remains that you have</font>

745
00:24:10,289 --> 00:24:14,219
like everybody's credentials are with an

746
00:24:12,449 --> 00:24:16,529
LDAP and you got to<font color="#CCCCCC"> think like alright</font>

747
00:24:14,219 --> 00:24:19,829
maybe there's let's<font color="#E5E5E5"> let's say this web</font>

748
00:24:16,529 --> 00:24:21,569
app is github and<font color="#E5E5E5"> there's a github group</font>

749
00:24:19,829 --> 00:24:23,698
on your<font color="#CCCCCC"> LDAP and only</font><font color="#E5E5E5"> people</font><font color="#CCCCCC"> who can</font>

750
00:24:21,569 --> 00:24:24,178
access<font color="#CCCCCC"> github they have to be a part of</font>

751
00:24:23,699 --> 00:24:26,339
the group

752
00:24:24,179 --> 00:24:28,859
so<font color="#E5E5E5"> indirect password guessing happens</font>

753
00:24:26,339 --> 00:24:30,719
when let's<font color="#E5E5E5"> say I don't have access</font><font color="#CCCCCC"> to</font>

754
00:24:28,859 --> 00:24:32,009
github but you correctly guess my

755
00:24:30,719 --> 00:24:34,619
username<font color="#CCCCCC"> and password on that github</font>

756
00:24:32,009 --> 00:24:35,849
<font color="#E5E5E5">site it still looks me up</font><font color="#CCCCCC"> and</font><font color="#E5E5E5"> LDAP it</font>

757
00:24:34,619 --> 00:24:37,349
still says yep<font color="#E5E5E5"> those are valid</font>

758
00:24:35,849 --> 00:24:38,908
credentials but then it looks<font color="#CCCCCC"> at</font><font color="#E5E5E5"> my role</font>

759
00:24:37,349 --> 00:24:39,779
I don't have github so it gives me<font color="#E5E5E5"> this</font>

760
00:24:38,909 --> 00:24:42,029
you do not<font color="#E5E5E5"> have</font><font color="#CCCCCC"> the necessary</font>

761
00:24:39,779 --> 00:24:44,699
permissions so if I'm trying<font color="#CCCCCC"> to</font><font color="#E5E5E5"> attack</font>

762
00:24:42,029 --> 00:24:46,589
github<font color="#E5E5E5"> this isn't</font><font color="#CCCCCC"> very useful</font><font color="#E5E5E5"> because I</font>

763
00:24:44,699 --> 00:24:47,699
I can't access<font color="#CCCCCC"> it but</font><font color="#E5E5E5"> what it</font><font color="#CCCCCC"> is useful</font>

764
00:24:46,589 --> 00:24:49,739
is now I have<font color="#CCCCCC"> these network credentials</font>

765
00:24:47,699 --> 00:24:50,940
<font color="#E5E5E5">and if you</font><font color="#CCCCCC"> can</font><font color="#E5E5E5"> find lots of sites like</font>

766
00:24:49,739 --> 00:24:52,409
this that<font color="#E5E5E5"> are associated with the</font>

767
00:24:50,940 --> 00:24:54,209
<font color="#E5E5E5">network like the same reason you do all</font>

768
00:24:52,409 --> 00:24:56,069
<font color="#E5E5E5">the sub domain enumeration is if you can</font>

769
00:24:54,209 --> 00:24:57,889
find<font color="#E5E5E5"> error messages like these you can</font>

770
00:24:56,069 --> 00:24:59,668
attack some arbitrary site<font color="#E5E5E5"> and</font>

771
00:24:57,889 --> 00:25:01,708
apparently look like you're not<font color="#CCCCCC"> getting</font>

772
00:24:59,669 --> 00:25:02,879
<font color="#E5E5E5">in and then using once you figure out</font>

773
00:25:01,709 --> 00:25:03,809
the credentials you<font color="#E5E5E5"> just go to the site</font>

774
00:25:02,879 --> 00:25:06,269
which sites you<font color="#E5E5E5"> want</font>

775
00:25:03,809 --> 00:25:07,918
<font color="#E5E5E5">so</font><font color="#CCCCCC"> you're indirectly doing it so there's</font>

776
00:25:06,269 --> 00:25:10,139
a long technical explanation of what I

777
00:25:07,919 --> 00:25:12,929
just<font color="#CCCCCC"> said or kind</font><font color="#E5E5E5"> of thrown out there</font>

778
00:25:10,139 --> 00:25:14,668
but you know<font color="#CCCCCC"> this does</font><font color="#E5E5E5"> happen so github</font>

779
00:25:12,929 --> 00:25:17,690
<font color="#CCCCCC">was it was a good example because</font><font color="#E5E5E5"> it was</font>

780
00:25:14,669 --> 00:25:21,089
you know it was a flaw<font color="#E5E5E5"> for them so for</font>

781
00:25:17,690 --> 00:25:22,919
you<font color="#E5E5E5"> know not a real</font><font color="#CCCCCC"> username and</font>

782
00:25:21,089 --> 00:25:24,539
password I get invalid all that

783
00:25:22,919 --> 00:25:27,769
credentials even when I<font color="#E5E5E5"> use a valid a</font>

784
00:25:24,539 --> 00:25:30,839
username<font color="#E5E5E5"> an invalid password I still get</font>

785
00:25:27,769 --> 00:25:32,190
invalid LDAP login credentials<font color="#E5E5E5"> but when</font>

786
00:25:30,839 --> 00:25:34,139
I do find a match and<font color="#E5E5E5"> they just don't</font>

787
00:25:32,190 --> 00:25:37,409
<font color="#E5E5E5">have</font><font color="#CCCCCC"> access to the github group you know</font>

788
00:25:34,139 --> 00:25:39,809
I get this weird<font color="#E5E5E5"> random message so that</font>

789
00:25:37,409 --> 00:25:41,549
<font color="#CCCCCC">kind of gave me an idea that you know</font>

790
00:25:39,809 --> 00:25:44,779
that that<font color="#CCCCCC"> was</font><font color="#E5E5E5"> there and</font><font color="#CCCCCC"> that I was able</font>

791
00:25:41,549 --> 00:25:47,158
<font color="#CCCCCC">to use these credentials at other places</font>

792
00:25:44,779 --> 00:25:48,160
<font color="#E5E5E5">so this is the same thing but what</font>

793
00:25:47,159 --> 00:25:49,720
timing

794
00:25:48,160 --> 00:25:51,820
video but I'll<font color="#E5E5E5"> probably just it's a long</font>

795
00:25:49,720 --> 00:25:53,710
video<font color="#E5E5E5"> that github fix this and they got</font>

796
00:25:51,820 --> 00:25:55,090
rid<font color="#CCCCCC"> of the air but it still actually</font>

797
00:25:53,710 --> 00:25:57,580
took there was still a<font color="#CCCCCC"> 10-second delay</font>

798
00:25:55,090 --> 00:26:00,040
<font color="#E5E5E5">so it</font><font color="#CCCCCC"> was</font><font color="#E5E5E5"> just timing based enumeration</font>

799
00:25:57,580 --> 00:26:01,449
but it's it's<font color="#E5E5E5"> really</font><font color="#CCCCCC"> just that it's</font><font color="#E5E5E5"> me</font>

800
00:26:00,040 --> 00:26:04,389
logging in<font color="#E5E5E5"> it and it takes ten seconds</font>

801
00:26:01,450 --> 00:26:07,690
so so defenses against<font color="#E5E5E5"> this it's just</font>

802
00:26:04,390 --> 00:26:09,430
really going<font color="#E5E5E5"> through all of your your</font>

803
00:26:07,690 --> 00:26:10,750
web forms and seeing how they respond to

804
00:26:09,430 --> 00:26:12,220
<font color="#E5E5E5">the different types of input</font><font color="#CCCCCC"> invalid</font>

805
00:26:10,750 --> 00:26:12,640
<font color="#E5E5E5">username valid</font><font color="#CCCCCC"> password so on and so</font>

806
00:26:12,220 --> 00:26:14,470
forth

807
00:26:12,640 --> 00:26:17,380
and for this<font color="#E5E5E5"> one even those</font><font color="#CCCCCC"> who are</font><font color="#E5E5E5"> not</font>

808
00:26:14,470 --> 00:26:19,750
in the same group<font color="#CCCCCC"> all</font><font color="#E5E5E5"> right then the</font>

809
00:26:17,380 --> 00:26:21,760
last<font color="#E5E5E5"> password attack is MF</font><font color="#CCCCCC"> 1/2 guessing</font>

810
00:26:19,750 --> 00:26:24,100
so if your<font color="#CCCCCC"> application does have</font><font color="#E5E5E5"> MFA</font>

811
00:26:21,760 --> 00:26:26,560
<font color="#E5E5E5">make sure you have it everywhere</font><font color="#CCCCCC"> because</font>

812
00:26:24,100 --> 00:26:28,149
the<font color="#E5E5E5"> idea is some applications only</font>

813
00:26:26,560 --> 00:26:30,310
prompt you for the second factor once

814
00:26:28,150 --> 00:26:32,650
you get the first<font color="#E5E5E5"> factor correct so like</font>

815
00:26:30,310 --> 00:26:34,149
for for Microsoft<font color="#E5E5E5"> you know if you get</font>

816
00:26:32,650 --> 00:26:35,980
the if<font color="#CCCCCC"> you</font><font color="#E5E5E5"> get the password wrong it</font>

817
00:26:34,150 --> 00:26:37,750
tells you<font color="#E5E5E5"> the passwords wrong if you get</font>

818
00:26:35,980 --> 00:26:40,450
<font color="#E5E5E5">the password right it says a</font><font color="#CCCCCC"> proof</font>

819
00:26:37,750 --> 00:26:41,860
<font color="#CCCCCC">sign-in request so you know that it</font>

820
00:26:40,450 --> 00:26:43,120
prompts<font color="#E5E5E5"> you</font><font color="#CCCCCC"> for the second faster so at</font>

821
00:26:41,860 --> 00:26:44,350
this point<font color="#E5E5E5"> I know the person's password</font>

822
00:26:43,120 --> 00:26:46,090
<font color="#CCCCCC">because it's Romney for the second</font>

823
00:26:44,350 --> 00:26:47,590
factor<font color="#E5E5E5"> and if you don't use MFA</font>

824
00:26:46,090 --> 00:26:48,820
everywhere then I can just<font color="#E5E5E5"> go</font><font color="#CCCCCC"> to</font>

825
00:26:47,590 --> 00:26:50,070
wherever you use that initial password

826
00:26:48,820 --> 00:26:53,770
<font color="#E5E5E5">and try it</font>

827
00:26:50,070 --> 00:26:55,240
so always<font color="#CCCCCC"> prompt</font><font color="#E5E5E5"> for a second factor</font><font color="#CCCCCC"> all</font>

828
00:26:53,770 --> 00:26:57,430
<font color="#CCCCCC">right so now these are the</font><font color="#E5E5E5"> cooler one</font>

829
00:26:55,240 --> 00:26:59,830
<font color="#E5E5E5">off ones so these are complete</font>

830
00:26:57,430 --> 00:27:01,630
authentication or authorization bypasses

831
00:26:59,830 --> 00:27:03,220
so I'll give<font color="#E5E5E5"> you three different stories</font>

832
00:27:01,630 --> 00:27:04,630
where it happens there's no great

833
00:27:03,220 --> 00:27:06,040
<font color="#E5E5E5">framework for finding these type of</font>

834
00:27:04,630 --> 00:27:09,280
things<font color="#CCCCCC"> because all web apps</font><font color="#E5E5E5"> are</font>

835
00:27:06,040 --> 00:27:10,540
different so I got three<font color="#CCCCCC"> examples</font><font color="#E5E5E5"> I got</font>

836
00:27:09,280 --> 00:27:13,090
one that you know authentication

837
00:27:10,540 --> 00:27:15,490
<font color="#E5E5E5">authorization bypass via host header</font>

838
00:27:13,090 --> 00:27:18,070
manipulation<font color="#CCCCCC"> I got one</font><font color="#E5E5E5"> that's a portal</font>

839
00:27:15,490 --> 00:27:19,570
protected app and all kind of<font color="#E5E5E5"> a going to</font>

840
00:27:18,070 --> 00:27:21,790
what a portal app is and then I have a

841
00:27:19,570 --> 00:27:23,290
glued application which is taking an

842
00:27:21,790 --> 00:27:25,629
open source project<font color="#CCCCCC"> and merging it</font><font color="#E5E5E5"> with</font>

843
00:27:23,290 --> 00:27:29,350
some cots product for for whatever

844
00:27:25,630 --> 00:27:30,430
reason<font color="#CCCCCC"> alright so the first one this is</font>

845
00:27:29,350 --> 00:27:31,689
<font color="#E5E5E5">sort of the summary of how things went</font>

846
00:27:30,430 --> 00:27:34,300
down<font color="#E5E5E5"> I</font><font color="#CCCCCC"> don't have</font><font color="#E5E5E5"> access to</font><font color="#CCCCCC"> the web</font>

847
00:27:31,690 --> 00:27:35,770
application<font color="#CCCCCC"> I did my my Google dorking I</font>

848
00:27:34,300 --> 00:27:37,419
did my search enumeration I found a<font color="#E5E5E5"> few</font>

849
00:27:35,770 --> 00:27:39,070
different login paths I found the slash

850
00:27:37,420 --> 00:27:42,070
login<font color="#E5E5E5"> and I also found</font><font color="#CCCCCC"> a slash welcome</font>

851
00:27:39,070 --> 00:27:44,050
for this for<font color="#E5E5E5"> this</font><font color="#CCCCCC"> example site when I</font>

852
00:27:42,070 --> 00:27:46,360
went to<font color="#E5E5E5"> the login page</font><font color="#CCCCCC"> I could</font><font color="#E5E5E5"> see that</font>

853
00:27:44,050 --> 00:27:48,430
the host header was echoed within the

854
00:27:46,360 --> 00:27:50,379
application<font color="#E5E5E5"> and then changing the host</font>

855
00:27:48,430 --> 00:27:54,610
header<font color="#E5E5E5"> basically it gave me full access</font>

856
00:27:50,380 --> 00:27:55,630
<font color="#E5E5E5">to to the app so here's the way way down</font>

857
00:27:54,610 --> 00:27:57,760
so I went<font color="#CCCCCC"> to</font><font color="#E5E5E5"> the</font><font color="#CCCCCC"> site I went to the</font>

858
00:27:55,630 --> 00:27:59,590
login<font color="#CCCCCC"> screen</font><font color="#E5E5E5"> you</font><font color="#CCCCCC"> can see the arrow where</font>

859
00:27:57,760 --> 00:28:01,690
it says the host name was here<font color="#E5E5E5"> for those</font>

860
00:27:59,590 --> 00:28:03,039
<font color="#CCCCCC">host</font><font color="#E5E5E5"> header is when you make an HTTP</font>

861
00:28:01,690 --> 00:28:04,809
request when the browser does it it's

862
00:28:03,039 --> 00:28:06,610
just<font color="#E5E5E5"> a required</font><font color="#CCCCCC"> header</font><font color="#E5E5E5"> and it's</font>

863
00:28:04,809 --> 00:28:09,539
typically<font color="#E5E5E5"> the domain name of</font><font color="#CCCCCC"> the</font><font color="#E5E5E5"> system</font>

864
00:28:06,610 --> 00:28:12,189
<font color="#E5E5E5">so if I go</font><font color="#CCCCCC"> out to login at example.com</font>

865
00:28:09,539 --> 00:28:14,200
<font color="#CCCCCC">my my get request would go to slash</font>

866
00:28:12,190 --> 00:28:16,179
<font color="#CCCCCC">login and my host would be example.com</font>

867
00:28:14,200 --> 00:28:17,740
so that's that's<font color="#E5E5E5"> the case here</font><font color="#CCCCCC"> so the</font>

868
00:28:16,179 --> 00:28:19,750
host name was there and it's it's<font color="#E5E5E5"> kind</font>

869
00:28:17,740 --> 00:28:23,200
of<font color="#E5E5E5"> strange to just have it randomly show</font>

870
00:28:19,750 --> 00:28:24,909
up<font color="#E5E5E5"> there so this</font><font color="#CCCCCC"> is just sort of you</font>

871
00:28:23,200 --> 00:28:26,980
know I mentioned<font color="#E5E5E5"> that earlier that I</font>

872
00:28:24,909 --> 00:28:28,390
found another path so I found<font color="#CCCCCC"> login</font><font color="#E5E5E5"> and</font>

873
00:28:26,980 --> 00:28:29,770
I found welcomed<font color="#E5E5E5"> so sometimes in</font>

874
00:28:28,390 --> 00:28:32,140
applications<font color="#E5E5E5"> if you're really lucky and</font>

875
00:28:29,770 --> 00:28:33,580
you can just skip the login page<font color="#E5E5E5"> and go</font>

876
00:28:32,140 --> 00:28:35,140
straight<font color="#E5E5E5"> to</font><font color="#CCCCCC"> the Welcome page and it'll</font>

877
00:28:33,580 --> 00:28:36,549
<font color="#E5E5E5">just work this</font><font color="#CCCCCC"> wasn't one of</font><font color="#E5E5E5"> those cases</font>

878
00:28:35,140 --> 00:28:38,590
<font color="#E5E5E5">you</font><font color="#CCCCCC"> know so</font><font color="#E5E5E5"> I made the request out there</font>

879
00:28:36,549 --> 00:28:41,529
and it gives<font color="#CCCCCC"> me a 302 response so</font><font color="#E5E5E5"> it</font>

880
00:28:38,590 --> 00:28:42,908
redirects me<font color="#E5E5E5"> back to</font><font color="#CCCCCC"> login</font><font color="#E5E5E5"> so no work</font>

881
00:28:41,529 --> 00:28:44,260
there<font color="#E5E5E5"> so I decided</font><font color="#CCCCCC"> I</font><font color="#E5E5E5"> would change the</font>

882
00:28:42,909 --> 00:28:45,760
host<font color="#E5E5E5"> header</font><font color="#CCCCCC"> so I changed</font><font color="#E5E5E5"> the host header</font>

883
00:28:44,260 --> 00:28:48,070
and this is there's a<font color="#E5E5E5"> screenshot</font><font color="#CCCCCC"> of purp</font>

884
00:28:45,760 --> 00:28:49,870
<font color="#E5E5E5">so I'm doing you know</font><font color="#CCCCCC"> requests</font>

885
00:28:48,070 --> 00:28:51,879
<font color="#CCCCCC">modifications so each time I make</font><font color="#E5E5E5"> a</font>

886
00:28:49,870 --> 00:28:56,168
request<font color="#E5E5E5"> it's gonna add the host host one</font>

887
00:28:51,880 --> 00:28:59,740
27001<font color="#E5E5E5"> it did get echoes like it like it</font>

888
00:28:56,169 --> 00:29:01,270
<font color="#E5E5E5">was</font><font color="#CCCCCC"> supposed to</font><font color="#E5E5E5"> and you</font><font color="#CCCCCC"> know if when I</font>

889
00:28:59,740 --> 00:29:04,390
tried making<font color="#CCCCCC"> this request</font><font color="#E5E5E5"> though it</font>

890
00:29:01,270 --> 00:29:06,429
still sent me back to<font color="#E5E5E5"> the login page so</font>

891
00:29:04,390 --> 00:29:09,220
<font color="#CCCCCC">that didn't work so next I tried</font>

892
00:29:06,429 --> 00:29:10,720
<font color="#E5E5E5">localhost and when I went to welcome</font>

893
00:29:09,220 --> 00:29:12,490
this time the response to<font color="#CCCCCC"> notice was</font><font color="#E5E5E5"> a</font>

894
00:29:10,720 --> 00:29:13,840
<font color="#CCCCCC">200 so it actually let me go to that</font>

895
00:29:12,490 --> 00:29:15,520
<font color="#E5E5E5">page instead of redirect me back to</font>

896
00:29:13,840 --> 00:29:17,320
loggin<font color="#CCCCCC"> and when I went</font><font color="#E5E5E5"> there I know</font>

897
00:29:15,520 --> 00:29:18,610
there's a lot<font color="#CCCCCC"> of red</font><font color="#E5E5E5"> but you know it</font>

898
00:29:17,320 --> 00:29:21,700
gives<font color="#E5E5E5"> me this administrative</font><font color="#CCCCCC"> link</font>

899
00:29:18,610 --> 00:29:24,789
<font color="#E5E5E5">section and it makes me the web</font>

900
00:29:21,700 --> 00:29:27,070
administrator<font color="#E5E5E5"> so if you go to</font><font color="#CCCCCC"> the top</font>

901
00:29:24,789 --> 00:29:29,080
<font color="#E5E5E5">you</font><font color="#CCCCCC"> see it says local machines so this</font>

902
00:29:27,070 --> 00:29:31,210
was some<font color="#CCCCCC"> sort of lazy developer shortcut</font>

903
00:29:29,080 --> 00:29:33,189
that if you're on the local<font color="#E5E5E5"> machine then</font>

904
00:29:31,210 --> 00:29:34,899
you<font color="#CCCCCC"> must be the developer and therefore</font>

905
00:29:33,190 --> 00:29:39,220
you know<font color="#E5E5E5"> you can have full access to</font><font color="#CCCCCC"> the</font>

906
00:29:34,899 --> 00:29:42,908
app<font color="#CCCCCC"> alright so obviously the takeaways</font>

907
00:29:39,220 --> 00:29:44,529
is don't do that<font color="#E5E5E5"> but you know if you're</font>

908
00:29:42,909 --> 00:29:46,330
a tester testing the host header see how

909
00:29:44,529 --> 00:29:48,940
it responds<font color="#CCCCCC"> to different</font><font color="#E5E5E5"> input just a</font>

910
00:29:46,330 --> 00:29:50,949
good<font color="#E5E5E5"> thing to do</font><font color="#CCCCCC"> alright</font><font color="#E5E5E5"> so the portal</font>

911
00:29:48,940 --> 00:29:51,970
<font color="#E5E5E5">application</font><font color="#CCCCCC"> so</font><font color="#E5E5E5"> poor</font><font color="#CCCCCC"> laughs is like you</font>

912
00:29:50,950 --> 00:29:54,850
know when you start with a new<font color="#CCCCCC"> company</font>

913
00:29:51,970 --> 00:29:56,830
<font color="#E5E5E5">they give you access to to some web</font>

914
00:29:54,850 --> 00:29:57,969
portal where<font color="#E5E5E5"> your credentials work but</font>

915
00:29:56,830 --> 00:29:59,049
<font color="#E5E5E5">within there you don't</font><font color="#CCCCCC"> have access to</font>

916
00:29:57,970 --> 00:30:00,039
anything you might<font color="#CCCCCC"> have access to like</font>

917
00:29:59,049 --> 00:30:01,210
your timesheet or<font color="#E5E5E5"> something like that</font>

918
00:30:00,039 --> 00:30:03,129
<font color="#CCCCCC">but you don't have access to like</font>

919
00:30:01,210 --> 00:30:04,690
accounting your HR<font color="#E5E5E5"> whatever other</font>

920
00:30:03,130 --> 00:30:06,279
systems might be in there so it's<font color="#E5E5E5"> just</font>

921
00:30:04,690 --> 00:30:08,409
like<font color="#E5E5E5"> you have access to the app but you</font>

922
00:30:06,279 --> 00:30:10,289
<font color="#E5E5E5">you're not a part of any groups and so</font>

923
00:30:08,409 --> 00:30:12,669
that's what that's<font color="#E5E5E5"> what this case</font><font color="#CCCCCC"> was</font><font color="#E5E5E5"> so</font>

924
00:30:10,289 --> 00:30:13,150
in the I<font color="#E5E5E5"> was able to actually</font><font color="#CCCCCC"> directly</font>

925
00:30:12,669 --> 00:30:14,830
<font color="#CCCCCC">brow</font>

926
00:30:13,150 --> 00:30:16,210
- the portal application<font color="#E5E5E5"> that I wanted</font>

927
00:30:14,830 --> 00:30:17,590
<font color="#E5E5E5">to go to because you know I did some</font>

928
00:30:16,210 --> 00:30:18,880
search engine enumeration I found there

929
00:30:17,590 --> 00:30:20,050
with other links in<font color="#E5E5E5"> there that I didn't</font>

930
00:30:18,880 --> 00:30:22,330
have access to<font color="#CCCCCC"> but</font><font color="#E5E5E5"> I could browse</font>

931
00:30:20,050 --> 00:30:23,730
directly to them<font color="#CCCCCC"> but when I went there</font>

932
00:30:22,330 --> 00:30:27,189
just<font color="#E5E5E5"> told me everything was unauthorized</font>

933
00:30:23,730 --> 00:30:29,380
<font color="#CCCCCC">so whenever you go to</font><font color="#E5E5E5"> a page</font><font color="#CCCCCC"> JavaScript</font>

934
00:30:27,190 --> 00:30:31,030
typically loads<font color="#E5E5E5"> and sometimes JavaScript</font>

935
00:30:29,380 --> 00:30:33,070
gives<font color="#E5E5E5"> away different URL paths that</font>

936
00:30:31,030 --> 00:30:34,690
<font color="#E5E5E5">exist so I read the JavaScript and I</font>

937
00:30:33,070 --> 00:30:36,580
know gated<font color="#CCCCCC"> to you know a few different</font>

938
00:30:34,690 --> 00:30:38,500
<font color="#CCCCCC">pages</font><font color="#E5E5E5"> couldn't do</font><font color="#CCCCCC"> anything I read more</font>

939
00:30:36,580 --> 00:30:41,050
<font color="#CCCCCC">JavaScript and eventually I had access</font>

940
00:30:38,500 --> 00:30:43,450
yeah<font color="#E5E5E5"> so here's how it went down</font><font color="#CCCCCC"> so once</font>

941
00:30:41,050 --> 00:30:45,090
<font color="#E5E5E5">again this</font><font color="#CCCCCC"> is like the</font><font color="#E5E5E5"> IBM portal I</font>

942
00:30:43,450 --> 00:30:47,620
don't know if it has a<font color="#CCCCCC"> special</font><font color="#E5E5E5"> name but</font>

943
00:30:45,090 --> 00:30:49,240
I'm<font color="#E5E5E5"> within the IBM portal</font><font color="#CCCCCC"> if I had</font>

944
00:30:47,620 --> 00:30:52,000
access applications I'd have all these

945
00:30:49,240 --> 00:30:53,620
<font color="#E5E5E5">little</font><font color="#CCCCCC"> buttons that</font><font color="#E5E5E5"> would show up like I</font>

946
00:30:52,000 --> 00:30:55,270
<font color="#E5E5E5">said I could directly browse to a</font>

947
00:30:53,620 --> 00:30:56,439
<font color="#E5E5E5">particular application</font><font color="#CCCCCC"> that I found via</font>

948
00:30:55,270 --> 00:30:59,200
search<font color="#E5E5E5"> engines so I went to this</font>

949
00:30:56,440 --> 00:31:01,300
application<font color="#E5E5E5"> slash</font><font color="#CCCCCC"> login and it tells me</font>

950
00:30:59,200 --> 00:31:04,090
<font color="#E5E5E5">I'm unable to do</font><font color="#CCCCCC"> anything because</font><font color="#E5E5E5"> I</font>

951
00:31:01,300 --> 00:31:05,590
don't<font color="#CCCCCC"> have a contractor ID so bummer I</font>

952
00:31:04,090 --> 00:31:08,770
read some JavaScript and<font color="#CCCCCC"> I went ahead</font>

953
00:31:05,590 --> 00:31:12,639
and<font color="#CCCCCC"> went</font><font color="#E5E5E5"> to a different page so I went</font>

954
00:31:08,770 --> 00:31:14,800
from slash login to slash welcome and it

955
00:31:12,640 --> 00:31:17,050
poof it logged me<font color="#E5E5E5"> in so you know now it</font>

956
00:31:14,800 --> 00:31:19,720
says<font color="#CCCCCC"> welcome me</font><font color="#E5E5E5"> it says a bunch of other</font>

957
00:31:17,050 --> 00:31:21,280
stuff<font color="#CCCCCC"> but</font><font color="#E5E5E5"> yeah it led me</font><font color="#CCCCCC"> in so that's</font>

958
00:31:19,720 --> 00:31:22,450
<font color="#CCCCCC">really cool but</font><font color="#E5E5E5"> unfortunately I clicked</font>

959
00:31:21,280 --> 00:31:23,889
on<font color="#E5E5E5"> a few links there was like some</font>

960
00:31:22,450 --> 00:31:25,510
search links and<font color="#CCCCCC"> browse links</font><font color="#E5E5E5"> within</font>

961
00:31:23,890 --> 00:31:28,030
this page<font color="#E5E5E5"> and I couldn't do anything</font>

962
00:31:25,510 --> 00:31:29,800
still so each button I clicked<font color="#E5E5E5"> it just</font>

963
00:31:28,030 --> 00:31:32,379
gave me<font color="#E5E5E5"> back to that same ugly error</font>

964
00:31:29,800 --> 00:31:35,800
message so I read more<font color="#E5E5E5"> JavaScript</font><font color="#CCCCCC"> and I</font>

965
00:31:32,380 --> 00:31:37,690
eventually<font color="#E5E5E5"> came</font><font color="#CCCCCC"> to this page and this</font>

966
00:31:35,800 --> 00:31:39,610
page<font color="#CCCCCC"> let me do things so it was actually</font>

967
00:31:37,690 --> 00:31:41,380
<font color="#E5E5E5">letting me look up individuals and first</font>

968
00:31:39,610 --> 00:31:43,740
and<font color="#E5E5E5"> last names and got a whole bunch of</font>

969
00:31:41,380 --> 00:31:46,150
PII out of it<font color="#E5E5E5"> so you know from having</font>

970
00:31:43,740 --> 00:31:47,680
<font color="#CCCCCC">four like this was a</font><font color="#E5E5E5"> self register</font>

971
00:31:46,150 --> 00:31:49,180
portal so<font color="#E5E5E5"> anybody on the internet could</font>

972
00:31:47,680 --> 00:31:50,680
register<font color="#CCCCCC"> for this</font><font color="#E5E5E5"> particular portal</font>

973
00:31:49,180 --> 00:31:53,460
<font color="#E5E5E5">didn't have any access</font><font color="#CCCCCC"> but you could</font>

974
00:31:50,680 --> 00:31:55,720
eventually get there so big exposure

975
00:31:53,460 --> 00:31:57,130
<font color="#CCCCCC">alright so don't rely on the portal</font>

976
00:31:55,720 --> 00:31:59,320
itself<font color="#CCCCCC"> for authentication especially if</font>

977
00:31:57,130 --> 00:32:00,700
you open it for<font color="#E5E5E5"> everybody</font><font color="#CCCCCC"> know that</font>

978
00:31:59,320 --> 00:32:01,899
<font color="#CCCCCC">there's a</font><font color="#E5E5E5"> possibility</font><font color="#CCCCCC"> that somebody can</font>

979
00:32:00,700 --> 00:32:03,520
directly browse<font color="#CCCCCC"> the things and then</font>

980
00:32:01,900 --> 00:32:06,490
things<font color="#E5E5E5"> could be implemented incorrectly</font>

981
00:32:03,520 --> 00:32:08,490
like in the case of<font color="#CCCCCC"> this app they they</font>

982
00:32:06,490 --> 00:32:10,300
<font color="#E5E5E5">one relied on the portal so like I had</font>

983
00:32:08,490 --> 00:32:11,650
authenticated the portal so that<font color="#CCCCCC"> meant I</font>

984
00:32:10,300 --> 00:32:13,899
<font color="#E5E5E5">could just go to this other application</font>

985
00:32:11,650 --> 00:32:15,610
<font color="#CCCCCC">and it just read that cookie and</font><font color="#E5E5E5"> kind of</font>

986
00:32:13,900 --> 00:32:17,250
logged me in and<font color="#CCCCCC"> that it didn't make</font>

987
00:32:15,610 --> 00:32:19,199
sure it protected all of its<font color="#CCCCCC"> urls</font>

988
00:32:17,250 --> 00:32:22,419
requiring the login

989
00:32:19,200 --> 00:32:24,039
<font color="#E5E5E5">all right so this last one</font><font color="#CCCCCC"> I call it a</font>

990
00:32:22,419 --> 00:32:26,980
glute application because it had an<font color="#CCCCCC"> open</font>

991
00:32:24,039 --> 00:32:28,929
<font color="#E5E5E5">source</font><font color="#CCCCCC"> you know it was an open source</font>

992
00:32:26,980 --> 00:32:31,870
content<font color="#CCCCCC"> management</font><font color="#E5E5E5"> system and this</font>

993
00:32:28,929 --> 00:32:34,330
<font color="#E5E5E5">company they had to put on a semantic</font>

994
00:32:31,870 --> 00:32:36,939
<font color="#E5E5E5">authentication piece because you</font><font color="#CCCCCC"> know</font>

995
00:32:34,330 --> 00:32:38,139
like auditors require you to have<font color="#E5E5E5"> all</font><font color="#CCCCCC"> of</font>

996
00:32:36,940 --> 00:32:39,940
those password requirements<font color="#E5E5E5"> lockout</font>

997
00:32:38,139 --> 00:32:42,309
requirements all that stuff and this

998
00:32:39,940 --> 00:32:43,960
open source content management<font color="#E5E5E5"> system</font>

999
00:32:42,309 --> 00:32:47,350
didn't have that so they stuck this

1000
00:32:43,960 --> 00:32:48,580
<font color="#E5E5E5">semantic thing on the front</font><font color="#CCCCCC"> end and you</font>

1001
00:32:47,350 --> 00:32:50,799
know I didn't know that<font color="#CCCCCC"> at first</font><font color="#E5E5E5"> but</font>

1002
00:32:48,580 --> 00:32:52,629
there was a cookie<font color="#CCCCCC"> that came with</font><font color="#E5E5E5"> this</font>

1003
00:32:50,799 --> 00:32:54,610
that kind of<font color="#E5E5E5"> gave me an idea that it was</font>

1004
00:32:52,629 --> 00:32:55,870
using an<font color="#CCCCCC"> open source framework and if</font>

1005
00:32:54,610 --> 00:32:57,580
you see something like<font color="#E5E5E5"> that</font><font color="#CCCCCC"> you want to</font>

1006
00:32:55,870 --> 00:32:59,168
<font color="#CCCCCC">download the framework and take note of</font>

1007
00:32:57,580 --> 00:33:00,668
<font color="#CCCCCC">all the things that</font><font color="#E5E5E5"> you can do so I took</font>

1008
00:32:59,169 --> 00:33:02,529
<font color="#E5E5E5">note of the login location and I try to</font>

1009
00:33:00,669 --> 00:33:04,629
<font color="#CCCCCC">just manually browse that</font><font color="#E5E5E5"> login location</font>

1010
00:33:02,529 --> 00:33:05,889
thinking maybe maybe the<font color="#CCCCCC"> semantic things</font>

1011
00:33:04,629 --> 00:33:09,699
there<font color="#CCCCCC"> but I can just</font><font color="#E5E5E5"> browse to</font><font color="#CCCCCC"> the other</font>

1012
00:33:05,889 --> 00:33:11,408
part<font color="#E5E5E5"> eventually I was able to modify the</font>

1013
00:33:09,700 --> 00:33:13,090
request<font color="#E5E5E5"> method so I've talked about gets</font>

1014
00:33:11,409 --> 00:33:14,500
and I've talked about post<font color="#E5E5E5"> and I was</font>

1015
00:33:13,090 --> 00:33:15,850
<font color="#E5E5E5">brought to actually add</font><font color="#CCCCCC"> that</font><font color="#E5E5E5"> login page</font>

1016
00:33:14,500 --> 00:33:17,710
<font color="#CCCCCC">that I saw and at that point</font><font color="#E5E5E5"> I could</font>

1017
00:33:15,850 --> 00:33:20,740
just<font color="#E5E5E5"> login</font><font color="#CCCCCC"> and</font><font color="#E5E5E5"> any user without the</font>

1018
00:33:17,710 --> 00:33:22,480
knowledge<font color="#E5E5E5"> of the password so here's you</font>

1019
00:33:20,740 --> 00:33:24,129
know<font color="#E5E5E5"> the the HTTP request/response pair</font>

1020
00:33:22,480 --> 00:33:26,350
I'm going to this this site with<font color="#CCCCCC"> the</font>

1021
00:33:24,129 --> 00:33:28,529
<font color="#E5E5E5">slash is just the root directory</font><font color="#CCCCCC"> and</font><font color="#E5E5E5"> it</font>

1022
00:33:26,350 --> 00:33:31,120
automatically<font color="#CCCCCC"> will redirect me to</font>

1023
00:33:28,529 --> 00:33:32,889
<font color="#E5E5E5">semantic off dot example.com and</font><font color="#CCCCCC"> it sets</font>

1024
00:33:31,120 --> 00:33:34,750
<font color="#E5E5E5">this cookie in this cookie</font><font color="#CCCCCC"> let me know</font>

1025
00:33:32,889 --> 00:33:36,250
<font color="#E5E5E5">that it was an open source</font><font color="#CCCCCC"> framework</font>

1026
00:33:34,750 --> 00:33:38,470
does the LGG<font color="#CCCCCC"> I can actually</font><font color="#E5E5E5"> remember</font>

1027
00:33:36,250 --> 00:33:39,789
<font color="#E5E5E5">what the framework was but</font><font color="#CCCCCC"> LGG if you</font>

1028
00:33:38,470 --> 00:33:41,710
look it up you'll you'll find out<font color="#E5E5E5"> it's</font>

1029
00:33:39,789 --> 00:33:43,330
an open<font color="#E5E5E5"> source framework so it gave me</font>

1030
00:33:41,710 --> 00:33:45,610
<font color="#E5E5E5">this semantic auth screen and this is</font>

1031
00:33:43,330 --> 00:33:47,320
<font color="#CCCCCC">this has had all the bells</font><font color="#E5E5E5"> and</font><font color="#CCCCCC"> whistles</font>

1032
00:33:45,610 --> 00:33:49,299
of<font color="#E5E5E5"> a secure thing you had</font><font color="#CCCCCC"> to have long</font>

1033
00:33:47,320 --> 00:33:53,590
passwords and complicated and<font color="#E5E5E5"> it locked</font>

1034
00:33:49,299 --> 00:33:55,389
you out<font color="#CCCCCC"> alright so once again when I</font>

1035
00:33:53,590 --> 00:33:56,590
downloaded<font color="#E5E5E5"> that framework</font><font color="#CCCCCC"> I saw that</font>

1036
00:33:55,389 --> 00:33:58,120
when<font color="#E5E5E5"> I logged in locally to my</font>

1037
00:33:56,590 --> 00:33:59,559
application that I<font color="#E5E5E5"> downloaded I go to</font>

1038
00:33:58,120 --> 00:34:01,000
slash login<font color="#E5E5E5"> so I'm like all right let me</font>

1039
00:33:59,559 --> 00:34:02,980
just<font color="#CCCCCC"> try to</font><font color="#E5E5E5"> go there so I went there</font>

1040
00:34:01,000 --> 00:34:06,940
<font color="#E5E5E5">unfortunately</font><font color="#CCCCCC"> it still</font><font color="#E5E5E5"> sent me back to</font>

1041
00:34:02,980 --> 00:34:08,349
<font color="#CCCCCC">that you</font><font color="#E5E5E5"> know</font><font color="#CCCCCC"> semantics off page and at</font>

1042
00:34:06,940 --> 00:34:10,510
this point<font color="#E5E5E5"> I kind</font><font color="#CCCCCC"> of</font><font color="#E5E5E5"> thought like how</font>

1043
00:34:08,349 --> 00:34:12,550
how to developer<font color="#CCCCCC"> write this piece like</font>

1044
00:34:10,510 --> 00:34:14,260
did they say<font color="#CCCCCC"> that anytime</font><font color="#E5E5E5"> somebody goes</font>

1045
00:34:12,550 --> 00:34:16,060
to<font color="#E5E5E5"> this resource</font><font color="#CCCCCC"> it's</font><font color="#E5E5E5"> going to redirect</font>

1046
00:34:14,260 --> 00:34:18,550
them and I'm said<font color="#CCCCCC"> okay well maybe they</font>

1047
00:34:16,060 --> 00:34:20,199
did it<font color="#E5E5E5"> in such a way</font><font color="#CCCCCC"> that anytime that</font>

1048
00:34:18,550 --> 00:34:20,980
<font color="#CCCCCC">it was a get request</font><font color="#E5E5E5"> you want</font><font color="#CCCCCC"> to get</font>

1049
00:34:20,199 --> 00:34:21,879
them<font color="#CCCCCC"> because you know when you when</font>

1050
00:34:20,980 --> 00:34:23,589
you're browsing<font color="#CCCCCC"> through a site it's</font>

1051
00:34:21,879 --> 00:34:25,868
always get you don't<font color="#E5E5E5"> do a post you don't</font>

1052
00:34:23,589 --> 00:34:27,520
do anything<font color="#CCCCCC"> else</font><font color="#E5E5E5"> so it turns out I can</font>

1053
00:34:25,869 --> 00:34:28,869
make<font color="#E5E5E5"> anything other than get and when I</font>

1054
00:34:27,520 --> 00:34:29,770
went to the<font color="#E5E5E5"> login it didn't redirect me</font>

1055
00:34:28,869 --> 00:34:32,710
to<font color="#CCCCCC"> actually send me where I was supposed</font>

1056
00:34:29,770 --> 00:34:35,500
<font color="#CCCCCC">to go so it gave</font><font color="#E5E5E5"> me this</font>

1057
00:34:32,710 --> 00:34:39,730
<font color="#E5E5E5">login screen</font><font color="#CCCCCC"> and</font><font color="#E5E5E5"> at this point you know</font>

1058
00:34:35,500 --> 00:34:41,530
at first<font color="#CCCCCC"> I tried a</font><font color="#E5E5E5"> few a few like random</font>

1059
00:34:39,730 --> 00:34:43,300
<font color="#CCCCCC">usernames and</font><font color="#E5E5E5"> stuff like that and right</font>

1060
00:34:41,530 --> 00:34:44,830
<font color="#E5E5E5">cool I can I can bypass account lockout</font>

1061
00:34:43,300 --> 00:34:49,359
here because<font color="#E5E5E5"> things were working</font><font color="#CCCCCC"> but</font>

1062
00:34:44,830 --> 00:34:53,469
once I tried<font color="#E5E5E5"> a valid a valid username</font><font color="#CCCCCC"> it</font>

1063
00:34:49,359 --> 00:34:54,909
just let me in<font color="#E5E5E5"> so</font><font color="#CCCCCC"> it let me</font><font color="#E5E5E5"> in is the</font>

1064
00:34:53,469 --> 00:34:56,649
administrative user I just had to as

1065
00:34:54,909 --> 00:34:58,810
<font color="#CCCCCC">long</font><font color="#E5E5E5"> as I use a new a good</font><font color="#CCCCCC"> username in</font>

1066
00:34:56,649 --> 00:35:00,250
<font color="#E5E5E5">this case I've locked it out but yeah it</font>

1067
00:34:58,810 --> 00:35:02,049
just<font color="#E5E5E5"> let me in as the administrator</font><font color="#CCCCCC"> and</font>

1068
00:35:00,250 --> 00:35:05,230
<font color="#CCCCCC">the way the web app was actually set up</font>

1069
00:35:02,050 --> 00:35:07,660
<font color="#E5E5E5">was once you once it authorized you from</font>

1070
00:35:05,230 --> 00:35:10,330
<font color="#E5E5E5">that semantic spot it made a call to</font>

1071
00:35:07,660 --> 00:35:11,830
<font color="#CCCCCC">that login</font><font color="#E5E5E5"> page</font><font color="#CCCCCC"> that I was just on</font><font color="#E5E5E5"> with</font>

1072
00:35:10,330 --> 00:35:13,180
just the<font color="#E5E5E5"> username so it all through it</font>

1073
00:35:11,830 --> 00:35:14,890
it<font color="#E5E5E5"> basically authenticated you in</font>

1074
00:35:13,180 --> 00:35:16,540
<font color="#CCCCCC">semantic and then it authorized you on</font>

1075
00:35:14,890 --> 00:35:17,920
that<font color="#E5E5E5"> username spot there so it turns out</font>

1076
00:35:16,540 --> 00:35:20,020
all that spot needed was a<font color="#CCCCCC"> username</font><font color="#E5E5E5"> and</font>

1077
00:35:17,920 --> 00:35:21,040
once you<font color="#E5E5E5"> get in so again administrative</font>

1078
00:35:20,020 --> 00:35:24,280
<font color="#CCCCCC">access</font><font color="#E5E5E5"> the application is by doing</font>

1079
00:35:21,040 --> 00:35:25,920
<font color="#CCCCCC">nothing so once again public app and go</font>

1080
00:35:24,280 --> 00:35:29,230
from<font color="#CCCCCC"> zero to zero</font><font color="#E5E5E5"> to admin</font>

1081
00:35:25,920 --> 00:35:30,700
so take the<font color="#E5E5E5"> ways</font><font color="#CCCCCC"> for</font><font color="#E5E5E5"> all this you</font><font color="#CCCCCC"> know</font>

1082
00:35:29,230 --> 00:35:32,109
or for<font color="#E5E5E5"> the</font><font color="#CCCCCC"> glueten application at least</font>

1083
00:35:30,700 --> 00:35:33,520
<font color="#E5E5E5">as you look for components that are part</font>

1084
00:35:32,109 --> 00:35:35,290
<font color="#CCCCCC">of</font><font color="#E5E5E5"> the</font><font color="#CCCCCC"> know</font><font color="#E5E5E5"> and framework</font><font color="#CCCCCC"> downloaded and</font>

1085
00:35:33,520 --> 00:35:37,509
and<font color="#E5E5E5"> try to do your best and think how</font>

1086
00:35:35,290 --> 00:35:40,089
<font color="#E5E5E5">could somebody screw it up</font><font color="#CCCCCC"> alright</font><font color="#E5E5E5"> so</font>

1087
00:35:37,510 --> 00:35:43,480
that<font color="#E5E5E5"> is the talk I've covered all</font><font color="#CCCCCC"> of</font>

1088
00:35:40,089 --> 00:35:45,930
that stuff from from<font color="#CCCCCC"> recon to use your</font>

1089
00:35:43,480 --> 00:35:48,930
enumeration to everything<font color="#E5E5E5"> in</font><font color="#CCCCCC"> between</font>

1090
00:35:45,930 --> 00:35:48,930
<font color="#CCCCCC">questions</font>

1091
00:35:53,390 --> 00:35:57,640
anybody all<font color="#E5E5E5"> right thanks</font>

1092
00:35:59,110 --> 00:36:01,219
[Applause]

