1
00:00:00,030 --> 00:00:06,060
the besides DC 2017 videos are<font color="#E5E5E5"> brought</font>

2
00:00:03,270 --> 00:00:07,740
to you by threat quotient introducing

3
00:00:06,060 --> 00:00:10,019
<font color="#E5E5E5">the industry's</font><font color="#CCCCCC"> first threat intelligence</font>

4
00:00:07,740 --> 00:00:13,139
platform designed to<font color="#E5E5E5"> enable threat</font>

5
00:00:10,019 --> 00:00:15,960
operations and management and data tribe

6
00:00:13,139 --> 00:00:17,910
<font color="#CCCCCC">a new kind</font><font color="#E5E5E5"> of</font><font color="#CCCCCC"> startup</font><font color="#E5E5E5"> studio</font><font color="#CCCCCC"> co building</font>

7
00:00:15,960 --> 00:00:21,090
the next<font color="#CCCCCC"> generation of commercial cyber</font>

8
00:00:17,910 --> 00:00:23,400
<font color="#CCCCCC">security analytics and big data product</font>

9
00:00:21,090 --> 00:00:25,500
companies this<font color="#E5E5E5"> is when you mean the</font>

10
00:00:23,400 --> 00:00:29,189
network<font color="#E5E5E5"> security boundary</font><font color="#CCCCCC"> roughly this</font>

11
00:00:25,500 --> 00:00:31,679
<font color="#CCCCCC">is the talk you expected my name is</font>

12
00:00:29,189 --> 00:00:33,300
Patrick<font color="#CCCCCC"> Fussell please take a minute to</font>

13
00:00:31,679 --> 00:00:36,239
look<font color="#E5E5E5"> me up on internet</font><font color="#CCCCCC"> I</font><font color="#E5E5E5"> always enjoy</font>

14
00:00:33,300 --> 00:00:42,149
here of<font color="#E5E5E5"> people or</font><font color="#CCCCCC"> meet connecting</font><font color="#E5E5E5"> with</font>

15
00:00:36,239 --> 00:00:45,899
<font color="#E5E5E5">new people</font><font color="#CCCCCC"> on Twitter</font><font color="#E5E5E5"> I work for</font><font color="#CCCCCC"> 4 PSC</font>

16
00:00:42,149 --> 00:00:49,280
my role within PSC<font color="#CCCCCC"> is as a penetration</font>

17
00:00:45,899 --> 00:00:53,010
tester<font color="#CCCCCC"> PSC is</font><font color="#E5E5E5"> primarily a PCI company</font>

18
00:00:49,280 --> 00:00:54,960
I've been in this role for<font color="#CCCCCC"> about I think</font>

19
00:00:53,010 --> 00:00:58,260
<font color="#E5E5E5">about four years now it's sort of a</font>

20
00:00:54,960 --> 00:01:01,260
dream<font color="#CCCCCC"> pen</font><font color="#E5E5E5"> test gig</font><font color="#CCCCCC"> just because</font><font color="#E5E5E5"> I'm the</font>

21
00:00:58,260 --> 00:01:03,599
methodology that<font color="#E5E5E5"> we use I get to do lots</font>

22
00:01:01,260 --> 00:01:04,920
<font color="#E5E5E5">of</font><font color="#CCCCCC"> fun post exploitation</font><font color="#E5E5E5"> work which is</font>

23
00:01:03,600 --> 00:01:07,140
<font color="#E5E5E5">really cool and I've had the chance to</font>

24
00:01:04,920 --> 00:01:08,340
work<font color="#E5E5E5"> with lots of people</font><font color="#CCCCCC"> who are smarter</font>

25
00:01:07,140 --> 00:01:11,460
than me so I've had a<font color="#CCCCCC"> chance to learn</font>

26
00:01:08,340 --> 00:01:13,320
lots of<font color="#E5E5E5"> new</font><font color="#CCCCCC"> stuff</font><font color="#E5E5E5"> sort of a full</font>

27
00:01:11,460 --> 00:01:16,048
<font color="#E5E5E5">disclosure</font><font color="#CCCCCC"> I think none of</font><font color="#E5E5E5"> the concepts</font>

28
00:01:13,320 --> 00:01:17,610
I'm presenting here<font color="#CCCCCC"> are original</font><font color="#E5E5E5"> I'm</font>

29
00:01:16,049 --> 00:01:21,270
just presenting<font color="#E5E5E5"> them in a sort</font><font color="#CCCCCC"> of a</font>

30
00:01:17,610 --> 00:01:23,820
<font color="#E5E5E5">different light</font><font color="#CCCCCC"> now a lot of these ideas</font>

31
00:01:21,270 --> 00:01:26,100
<font color="#CCCCCC">are inspired</font><font color="#E5E5E5"> by some of my teammates or</font>

32
00:01:23,820 --> 00:01:28,408
you know some other<font color="#E5E5E5"> friends</font><font color="#CCCCCC"> I've made</font><font color="#E5E5E5"> in</font>

33
00:01:26,100 --> 00:01:33,750
the community<font color="#E5E5E5"> I'm just putting them in</font>

34
00:01:28,409 --> 00:01:36,600
the different<font color="#E5E5E5"> context here so just a</font>

35
00:01:33,750 --> 00:01:38,729
quick agenda points<font color="#CCCCCC"> I want to go over a</font>

36
00:01:36,600 --> 00:01:41,369
<font color="#CCCCCC">couple of concepts a little bit of</font>

37
00:01:38,729 --> 00:01:43,380
terminology<font color="#E5E5E5"> then I'm going to review</font>

38
00:01:41,369 --> 00:01:45,000
<font color="#CCCCCC">some of the common implementations for</font>

39
00:01:43,380 --> 00:01:47,490
separating security zones that<font color="#E5E5E5"> I've seen</font>

40
00:01:45,000 --> 00:01:48,899
<font color="#E5E5E5">I just experienced was talk about</font><font color="#CCCCCC"> some</font>

41
00:01:47,490 --> 00:01:50,520
<font color="#E5E5E5">of the bypasses and weaknesses that are</font>

42
00:01:48,899 --> 00:01:52,530
connected to those and<font color="#E5E5E5"> then wrap</font><font color="#CCCCCC"> up</font>

43
00:01:50,520 --> 00:01:54,270
talking<font color="#E5E5E5"> about what I'll just call sort</font>

44
00:01:52,530 --> 00:01:56,280
of<font color="#E5E5E5"> secure design concepts or some things</font>

45
00:01:54,270 --> 00:01:58,140
I've seen in the<font color="#CCCCCC"> wild that</font><font color="#E5E5E5"> worked very</font>

46
00:01:56,280 --> 00:02:02,759
well for for creating good security

47
00:01:58,140 --> 00:02:05,729
boundaries just terminology wise I know

48
00:02:02,759 --> 00:02:08,699
that probably<font color="#CCCCCC"> anybody in this room is</font>

49
00:02:05,729 --> 00:02:10,649
already experienced InfoSec is rife with

50
00:02:08,699 --> 00:02:12,269
terminology<font color="#CCCCCC"> and concepts</font><font color="#E5E5E5"> that</font><font color="#CCCCCC"> you used</font>

51
00:02:10,649 --> 00:02:13,709
in<font color="#CCCCCC"> different</font><font color="#E5E5E5"> ways</font><font color="#CCCCCC"> depending on</font><font color="#E5E5E5"> who is</font>

52
00:02:12,270 --> 00:02:15,870
you're<font color="#E5E5E5"> talking</font><font color="#CCCCCC"> to you</font><font color="#E5E5E5"> whether you're</font>

53
00:02:13,709 --> 00:02:17,069
<font color="#CCCCCC">Red Team</font><font color="#E5E5E5"> purple team blue team of</font>

54
00:02:15,870 --> 00:02:18,840
whatever it<font color="#E5E5E5"> is you do</font>

55
00:02:17,069 --> 00:02:20,518
I think this causes a little<font color="#CCCCCC"> bit of</font>

56
00:02:18,840 --> 00:02:23,099
confusion<font color="#CCCCCC"> so</font><font color="#E5E5E5"> I'm not suggesting that the</font>

57
00:02:20,519 --> 00:02:25,709
anything<font color="#CCCCCC"> I present here is the the right</font>

58
00:02:23,099 --> 00:02:27,810
way it's<font color="#E5E5E5"> just the way I'm gonna be using</font>

59
00:02:25,709 --> 00:02:31,200
the terms<font color="#CCCCCC"> and</font><font color="#E5E5E5"> while I was called</font><font color="#CCCCCC"> it</font>

60
00:02:27,810 --> 00:02:34,980
didn't show up<font color="#CCCCCC"> at all</font><font color="#E5E5E5"> imagine some</font>

61
00:02:31,200 --> 00:02:37,048
circles that<font color="#E5E5E5"> just came together all</font>

62
00:02:34,980 --> 00:02:39,090
<font color="#E5E5E5">right</font><font color="#CCCCCC"> I don't move on cool</font>

63
00:02:37,049 --> 00:02:43,889
so I might like I mentioned<font color="#E5E5E5"> PSC is</font>

64
00:02:39,090 --> 00:02:46,260
primarily a<font color="#CCCCCC"> pci company</font><font color="#E5E5E5"> so often our</font>

65
00:02:43,889 --> 00:02:48,359
goal for a<font color="#E5E5E5"> penetration test is the</font>

66
00:02:46,260 --> 00:02:52,168
cardholder data<font color="#E5E5E5"> environment often</font><font color="#CCCCCC"> called</font>

67
00:02:48,359 --> 00:02:55,079
the Cee<font color="#E5E5E5"> our pin tests tend to take the</font>

68
00:02:52,169 --> 00:02:56,280
the form of starting from some portion

69
00:02:55,079 --> 00:03:01,169
of<font color="#E5E5E5"> the network</font><font color="#CCCCCC"> that you</font><font color="#E5E5E5"> might</font><font color="#CCCCCC"> consider</font>

70
00:02:56,280 --> 00:03:03,480
<font color="#E5E5E5">to be unprivileged</font><font color="#CCCCCC"> I like Wireless then</font>

71
00:03:01,169 --> 00:03:04,889
we gain some sort of foothold<font color="#E5E5E5"> escalate</font>

72
00:03:03,480 --> 00:03:08,459
so<font color="#E5E5E5"> we can access</font><font color="#CCCCCC"> the portion of the</font>

73
00:03:04,889 --> 00:03:12,930
network<font color="#E5E5E5"> that has our target data and and</font>

74
00:03:08,459 --> 00:03:15,000
then and trying to move from<font color="#E5E5E5"> there so</font>

75
00:03:12,930 --> 00:03:16,590
lots of<font color="#E5E5E5"> organizations get hacked and</font>

76
00:03:15,000 --> 00:03:18,180
just because somebody<font color="#CCCCCC"> asked me the last</font>

77
00:03:16,590 --> 00:03:19,889
time<font color="#E5E5E5"> I went over this</font><font color="#CCCCCC"> side deck this is</font>

78
00:03:18,180 --> 00:03:23,129
a real book you can go<font color="#E5E5E5"> buy this at</font>

79
00:03:19,889 --> 00:03:24,989
Barnes<font color="#E5E5E5"> & Noble</font><font color="#CCCCCC"> so lots of organizations</font>

80
00:03:23,129 --> 00:03:26,608
get hacked<font color="#CCCCCC"> those</font><font color="#E5E5E5"> organizations</font><font color="#CCCCCC"> probably</font>

81
00:03:24,989 --> 00:03:28,440
at<font color="#E5E5E5"> the time that they were secure or</font>

82
00:03:26,609 --> 00:03:30,750
somebody in the organization<font color="#E5E5E5"> and thought</font>

83
00:03:28,440 --> 00:03:32,939
that<font color="#E5E5E5"> they were totally secure</font><font color="#CCCCCC"> I think if</font>

84
00:03:30,750 --> 00:03:34,829
you were<font color="#E5E5E5"> to speak to most</font><font color="#CCCCCC"> networker</font>

85
00:03:32,939 --> 00:03:36,629
<font color="#E5E5E5">sysadmin</font><font color="#CCCCCC"> they won't tell you that their</font>

86
00:03:34,829 --> 00:03:38,340
network is impenetrable<font color="#E5E5E5"> or the systems</font>

87
00:03:36,629 --> 00:03:40,220
are impenetrable<font color="#CCCCCC"> they there's an</font>

88
00:03:38,340 --> 00:03:43,199
understanding<font color="#CCCCCC"> that</font><font color="#E5E5E5"> things can be hacked</font>

89
00:03:40,220 --> 00:03:44,549
given<font color="#E5E5E5"> that information</font><font color="#CCCCCC"> it's kind of</font>

90
00:03:43,199 --> 00:03:46,799
strange<font color="#E5E5E5"> to me then</font><font color="#CCCCCC"> that there still</font>

91
00:03:44,549 --> 00:03:47,909
seems<font color="#E5E5E5"> to be this buy-in and</font><font color="#CCCCCC"> to I</font><font color="#E5E5E5"> think</font>

92
00:03:46,799 --> 00:03:50,069
what some<font color="#E5E5E5"> people call</font><font color="#CCCCCC"> the Eminem</font>

93
00:03:47,909 --> 00:03:51,810
security model where we pretend<font color="#E5E5E5"> like</font>

94
00:03:50,069 --> 00:03:54,388
we're secure<font color="#E5E5E5"> just because we have a</font>

95
00:03:51,810 --> 00:03:56,819
next-gen firewall<font color="#CCCCCC"> so the point</font><font color="#E5E5E5"> of this</font>

96
00:03:54,389 --> 00:03:59,040
is that<font color="#E5E5E5"> systems get hacked we all know</font>

97
00:03:56,819 --> 00:04:00,839
that<font color="#E5E5E5"> taking into account the high rate</font>

98
00:03:59,040 --> 00:04:02,400
of success that<font color="#E5E5E5"> we have in college</font>

99
00:04:00,840 --> 00:04:04,349
escalation just within<font color="#E5E5E5"> my</font><font color="#CCCCCC"> team and</font>

100
00:04:02,400 --> 00:04:06,299
apparently the high rate of success the

101
00:04:04,349 --> 00:04:07,259
actual bad guys<font color="#CCCCCC"> are having and gaining</font>

102
00:04:06,299 --> 00:04:09,269
for<font color="#CCCCCC"> hold in networks</font>

103
00:04:07,259 --> 00:04:11,429
I think it's fair<font color="#CCCCCC"> for the purpose of</font>

104
00:04:09,269 --> 00:04:13,919
this<font color="#E5E5E5"> talk to push that sort of initial</font>

105
00:04:11,430 --> 00:04:15,659
system<font color="#E5E5E5"> compromise bit out of scope of</font>

106
00:04:13,919 --> 00:04:18,478
the presentation<font color="#E5E5E5"> and we're</font><font color="#CCCCCC"> just</font><font color="#E5E5E5"> going</font><font color="#CCCCCC"> to</font>

107
00:04:15,659 --> 00:04:21,769
sort<font color="#CCCCCC"> of assume compromise and some of</font>

108
00:04:18,478 --> 00:04:21,769
these and<font color="#E5E5E5"> kind of move from there</font>

109
00:04:22,350 --> 00:04:27,330
okay so<font color="#CCCCCC"> just common paradigm</font><font color="#E5E5E5"> we label</font>

110
00:04:25,260 --> 00:04:29,310
things<font color="#CCCCCC"> summon data</font><font color="#E5E5E5"> resources might be</font>

111
00:04:27,330 --> 00:04:31,500
<font color="#CCCCCC">classified differently than others</font><font color="#E5E5E5"> we</font>

112
00:04:29,310 --> 00:04:33,150
exit<font color="#E5E5E5"> designate systems based on what is</font>

113
00:04:31,500 --> 00:04:35,430
they're<font color="#CCCCCC"> doing so in your network</font><font color="#E5E5E5"> maybe</font>

114
00:04:33,150 --> 00:04:36,870
it's<font color="#CCCCCC"> qaid of staging</font><font color="#E5E5E5"> something like that</font>

115
00:04:35,430 --> 00:04:39,660
depending<font color="#CCCCCC"> on what kind of organization</font>

116
00:04:36,870 --> 00:04:41,010
we're working for<font color="#E5E5E5"> you might have an</font>

117
00:04:39,660 --> 00:04:44,580
organization<font color="#CCCCCC"> our segment represents</font>

118
00:04:41,010 --> 00:04:46,620
marketing and one for HR<font color="#E5E5E5"> in terms of</font>

119
00:04:44,580 --> 00:04:49,349
creating<font color="#CCCCCC"> security</font><font color="#E5E5E5"> zone</font><font color="#CCCCCC"> Stratus own the</font>

120
00:04:46,620 --> 00:04:50,970
question I<font color="#E5E5E5"> think that gets asked is do</font>

121
00:04:49,350 --> 00:04:57,120
the resources in marketing need to be

122
00:04:50,970 --> 00:04:59,280
able<font color="#E5E5E5"> to access those in</font><font color="#CCCCCC"> an HR or to</font>

123
00:04:57,120 --> 00:05:00,630
continue<font color="#CCCCCC"> on with that thought does</font>

124
00:04:59,280 --> 00:05:02,210
everything in IT need to be able to

125
00:05:00,630 --> 00:05:05,040
<font color="#E5E5E5">access everything in the call center</font>

126
00:05:02,210 --> 00:05:06,000
probably<font color="#CCCCCC"> yes but it's the</font><font color="#E5E5E5"> question</font><font color="#CCCCCC"> that</font>

127
00:05:05,040 --> 00:05:08,940
<font color="#CCCCCC">needs to be asked when you're thinking</font>

128
00:05:06,000 --> 00:05:10,500
<font color="#E5E5E5">about</font><font color="#CCCCCC"> designing</font><font color="#E5E5E5"> the zone</font><font color="#CCCCCC"> so I just want</font>

129
00:05:08,940 --> 00:05:12,450
<font color="#E5E5E5">to note here that for the purposes</font><font color="#CCCCCC"> of</font>

130
00:05:10,500 --> 00:05:14,010
this talk<font color="#E5E5E5"> ins presentation we are</font>

131
00:05:12,450 --> 00:05:16,800
<font color="#E5E5E5">talking about environments where</font>

132
00:05:14,010 --> 00:05:18,630
divisions exist that have<font color="#E5E5E5"> security</font>

133
00:05:16,800 --> 00:05:20,220
<font color="#E5E5E5">requirements of varying degrees so</font>

134
00:05:18,630 --> 00:05:21,420
essentially it's<font color="#CCCCCC"> just</font><font color="#E5E5E5"> saying everybody</font>

135
00:05:20,220 --> 00:05:24,240
in<font color="#E5E5E5"> your network does it need</font><font color="#CCCCCC"> to access</font>

136
00:05:21,420 --> 00:05:26,640
<font color="#E5E5E5">everything if that is your network then</font>

137
00:05:24,240 --> 00:05:28,140
<font color="#E5E5E5">cool this</font><font color="#CCCCCC"> informations you're not</font><font color="#E5E5E5"> going</font>

138
00:05:26,640 --> 00:05:30,750
to help you at all<font color="#E5E5E5"> and you probably have</font>

139
00:05:28,140 --> 00:05:33,690
an<font color="#CCCCCC"> easier life than most people</font>

140
00:05:30,750 --> 00:05:35,250
so finally production is<font color="#E5E5E5"> going to be our</font>

141
00:05:33,690 --> 00:05:37,080
label for the zone<font color="#E5E5E5"> that contains our</font>

142
00:05:35,250 --> 00:05:39,570
<font color="#CCCCCC">high-value asset we might also think</font><font color="#E5E5E5"> of</font>

143
00:05:37,080 --> 00:05:41,159
<font color="#E5E5E5">this just as a high security zone I just</font>

144
00:05:39,570 --> 00:05:42,450
chose production because I felt<font color="#CCCCCC"> like it</font>

145
00:05:41,160 --> 00:05:43,500
would<font color="#E5E5E5"> be the thing</font><font color="#CCCCCC"> that make</font><font color="#E5E5E5"> the most</font>

146
00:05:42,450 --> 00:05:45,479
<font color="#CCCCCC">sense to</font><font color="#E5E5E5"> everybody when we're talking</font>

147
00:05:43,500 --> 00:05:50,880
<font color="#E5E5E5">about we want a strict access to some</font>

148
00:05:45,480 --> 00:05:52,950
some piece<font color="#CCCCCC"> of</font><font color="#E5E5E5"> the network</font><font color="#CCCCCC"> and and sort</font>

149
00:05:50,880 --> 00:05:54,390
<font color="#CCCCCC">of lastly we</font><font color="#E5E5E5"> just have to consider you</font>

150
00:05:52,950 --> 00:05:57,990
know<font color="#E5E5E5"> the boundaries and access between</font>

151
00:05:54,390 --> 00:05:59,640
<font color="#E5E5E5">zones</font><font color="#CCCCCC"> it's</font><font color="#E5E5E5"> logical to imagine that you</font>

152
00:05:57,990 --> 00:06:01,560
do have some privileged users<font color="#CCCCCC"> in your</font>

153
00:05:59,640 --> 00:06:03,080
say<font color="#CCCCCC"> list of your IT department</font><font color="#E5E5E5"> that do</font>

154
00:06:01,560 --> 00:06:05,490
need<font color="#E5E5E5"> to</font><font color="#CCCCCC"> access that</font><font color="#E5E5E5"> production network</font>

155
00:06:03,080 --> 00:06:06,960
this<font color="#E5E5E5"> talk is going to investigate some</font>

156
00:06:05,490 --> 00:06:08,880
of<font color="#CCCCCC"> the</font><font color="#E5E5E5"> barriers that are implemented so</font>

157
00:06:06,960 --> 00:06:10,830
<font color="#CCCCCC">that only</font><font color="#E5E5E5"> those intended users are</font>

158
00:06:08,880 --> 00:06:12,890
<font color="#CCCCCC">getting to</font><font color="#E5E5E5"> and intended places or</font>

159
00:06:10,830 --> 00:06:15,570
intended systems

160
00:06:12,890 --> 00:06:17,640
<font color="#CCCCCC">all right so jumping</font><font color="#E5E5E5"> into some of the</font>

161
00:06:15,570 --> 00:06:20,400
the common common implementations flaws

162
00:06:17,640 --> 00:06:21,840
and bypasses just a quick<font color="#CCCCCC"> note before I</font>

163
00:06:20,400 --> 00:06:24,960
start<font color="#E5E5E5"> on the first one</font>

164
00:06:21,840 --> 00:06:26,520
I'm going<font color="#E5E5E5"> to be focusing on a very</font>

165
00:06:24,960 --> 00:06:28,680
simplified<font color="#CCCCCC"> version of</font><font color="#E5E5E5"> these technologies</font>

166
00:06:26,520 --> 00:06:30,000
but<font color="#CCCCCC"> I understand</font><font color="#E5E5E5"> that I have</font><font color="#CCCCCC"> a you know</font>

167
00:06:28,680 --> 00:06:32,970
<font color="#E5E5E5">limited</font><font color="#CCCCCC"> amount of</font><font color="#E5E5E5"> time and</font><font color="#CCCCCC"> I don't want</font>

168
00:06:30,000 --> 00:06:33,930
<font color="#CCCCCC">to dive too deep into any one so as</font>

169
00:06:32,970 --> 00:06:35,200
you're looking needs to sort<font color="#E5E5E5"> of</font>

170
00:06:33,930 --> 00:06:36,610
understand

171
00:06:35,200 --> 00:06:38,800
<font color="#CCCCCC">water'd these down for the purposes of</font>

172
00:06:36,610 --> 00:06:41,310
talking<font color="#E5E5E5"> about</font><font color="#CCCCCC"> of compromise and</font><font color="#E5E5E5"> and just</font>

173
00:06:38,800 --> 00:06:47,890
sort of lateral and vertical escalation

174
00:06:41,310 --> 00:06:50,230
<font color="#CCCCCC">exploit wise so the first solution i'm</font>

175
00:06:47,890 --> 00:06:53,320
going to touch on i'm calling fire call

176
00:06:50,230 --> 00:06:55,330
<font color="#CCCCCC">i've heard lots of terminology</font><font color="#E5E5E5"> sort</font><font color="#CCCCCC"> of</font>

177
00:06:53,320 --> 00:06:57,820
describing<font color="#E5E5E5"> this idea or maybe you think</font>

178
00:06:55,330 --> 00:07:00,460
<font color="#E5E5E5">of it just as just the way that you guys</font>

179
00:06:57,820 --> 00:07:03,040
are set up<font color="#E5E5E5"> broadly you might describe</font>

180
00:07:00,460 --> 00:07:04,780
what I'm going<font color="#CCCCCC"> for here as any method to</font>

181
00:07:03,040 --> 00:07:07,420
provide temporary<font color="#E5E5E5"> emergency access to a</font>

182
00:07:04,780 --> 00:07:10,450
secure system<font color="#CCCCCC"> what</font><font color="#E5E5E5"> I want to</font><font color="#CCCCCC"> focus on</font>

183
00:07:07,420 --> 00:07:12,240
for for for this presentation is

184
00:07:10,450 --> 00:07:14,950
implementations where an organization

185
00:07:12,240 --> 00:07:17,230
<font color="#E5E5E5">allows or deny access through a network</font>

186
00:07:14,950 --> 00:07:18,880
boundary<font color="#CCCCCC"> through some sort of manual or</font>

187
00:07:17,230 --> 00:07:21,660
automated change the network<font color="#CCCCCC"> access</font>

188
00:07:18,880 --> 00:07:24,850
controls this<font color="#E5E5E5"> might take the form</font><font color="#CCCCCC"> of</font>

189
00:07:21,660 --> 00:07:27,190
submitting<font color="#E5E5E5"> requests to</font><font color="#CCCCCC"> ite to change the</font>

190
00:07:24,850 --> 00:07:28,330
network ACLs for a system<font color="#E5E5E5"> where you</font>

191
00:07:27,190 --> 00:07:29,830
might<font color="#CCCCCC"> have</font><font color="#E5E5E5"> something little bit fancier</font>

192
00:07:28,330 --> 00:07:31,859
where you have some<font color="#E5E5E5"> sort of</font><font color="#CCCCCC"> application</font>

193
00:07:29,830 --> 00:07:34,330
<font color="#CCCCCC">that makes dynamic firewall rule changes</font>

194
00:07:31,860 --> 00:07:38,580
<font color="#CCCCCC">whatever it is it's it's it's that</font>

195
00:07:34,330 --> 00:07:40,930
<font color="#E5E5E5">something in between those processes</font><font color="#CCCCCC"> so</font>

196
00:07:38,580 --> 00:07:44,169
<font color="#CCCCCC">the first issue to consider I</font><font color="#E5E5E5"> think in</font>

197
00:07:40,930 --> 00:07:46,480
this<font color="#E5E5E5"> situation is where the organization</font>

198
00:07:44,170 --> 00:07:48,250
relies<font color="#E5E5E5"> on manual firewall rule</font>

199
00:07:46,480 --> 00:07:51,070
manipulation<font color="#E5E5E5"> it's the complexity of</font>

200
00:07:48,250 --> 00:07:51,460
<font color="#CCCCCC">management over time it can be a real</font>

201
00:07:51,070 --> 00:07:53,140
<font color="#E5E5E5">beast</font>

202
00:07:51,460 --> 00:07:54,640
so<font color="#CCCCCC"> network</font><font color="#E5E5E5"> started out with</font><font color="#CCCCCC"> their design</font>

203
00:07:53,140 --> 00:07:58,060
looking something<font color="#E5E5E5"> like this with lots of</font>

204
00:07:54,640 --> 00:08:02,140
great charts and network flow diagrams

205
00:07:58,060 --> 00:08:04,030
<font color="#E5E5E5">and really will define barriers because</font>

206
00:08:02,140 --> 00:08:06,280
<font color="#CCCCCC">of the challenges of management of</font><font color="#E5E5E5"> these</font>

207
00:08:04,030 --> 00:08:08,799
complex environments<font color="#CCCCCC"> over time</font><font color="#E5E5E5"> something</font>

208
00:08:06,280 --> 00:08:10,989
<font color="#E5E5E5">that starts out clean and sort of</font>

209
00:08:08,800 --> 00:08:13,510
looking<font color="#E5E5E5"> like that the again the colors</font>

210
00:08:10,990 --> 00:08:18,520
are<font color="#E5E5E5"> going off there</font><font color="#CCCCCC"> it looks a little</font>

211
00:08:13,510 --> 00:08:20,380
bit<font color="#CCCCCC"> more like this</font><font color="#E5E5E5"> so I think the thing</font>

212
00:08:18,520 --> 00:08:22,000
to<font color="#CCCCCC"> consider here</font><font color="#E5E5E5"> is having even one</font>

213
00:08:20,380 --> 00:08:23,890
exception<font color="#E5E5E5"> that permits access into a</font>

214
00:08:22,000 --> 00:08:26,290
controlled<font color="#CCCCCC"> network environment that you</font>

215
00:08:23,890 --> 00:08:30,190
aren't<font color="#CCCCCC"> aware of</font><font color="#E5E5E5"> presents a pretty</font>

216
00:08:26,290 --> 00:08:31,870
significant risk though even<font color="#CCCCCC"> more</font>

217
00:08:30,190 --> 00:08:33,880
broadly when you consider<font color="#E5E5E5"> some of the</font>

218
00:08:31,870 --> 00:08:35,979
<font color="#E5E5E5">exploitation scenarios the security</font>

219
00:08:33,880 --> 00:08:37,929
<font color="#E5E5E5">flaws present in the</font><font color="#CCCCCC"> solution</font><font color="#E5E5E5"> or</font><font color="#CCCCCC"> they</font>

220
00:08:35,979 --> 00:08:40,510
<font color="#CCCCCC">even make</font><font color="#E5E5E5"> more inherent to just its</font>

221
00:08:37,929 --> 00:08:44,489
functionality<font color="#E5E5E5"> because those exceptions</font>

222
00:08:40,510 --> 00:08:44,490
<font color="#E5E5E5">create a bridge between zones</font>

223
00:08:46,270 --> 00:08:50,569
so when there is<font color="#CCCCCC"> a so I keep checking</font>

224
00:08:49,400 --> 00:08:52,100
the<font color="#E5E5E5"> color</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> make sure at</font><font color="#CCCCCC"> least you</font><font color="#E5E5E5"> guys</font>

225
00:08:50,570 --> 00:08:54,020
<font color="#CCCCCC">could see the arrows otherwise it's</font><font color="#E5E5E5"> not</font>

226
00:08:52,100 --> 00:08:55,700
gonna<font color="#E5E5E5"> make any sense at all when there</font>

227
00:08:54,020 --> 00:08:57,350
is a dried direct bridge between<font color="#E5E5E5"> the two</font>

228
00:08:55,700 --> 00:08:58,610
zones an attacker<font color="#E5E5E5"> only needs to</font>

229
00:08:57,350 --> 00:09:02,380
<font color="#CCCCCC">compromise a host</font><font color="#E5E5E5"> that is the</font>

230
00:08:58,610 --> 00:09:05,480
<font color="#E5E5E5">beneficiary of any of the modified rules</font>

231
00:09:02,380 --> 00:09:07,340
<font color="#E5E5E5">this bridge is easily traversed by an</font>

232
00:09:05,480 --> 00:09:10,160
attacker<font color="#E5E5E5"> like</font><font color="#CCCCCC"> would commonly</font><font color="#E5E5E5"> refer</font><font color="#CCCCCC"> to</font>

233
00:09:07,340 --> 00:09:12,500
this as<font color="#E5E5E5"> as pivoting so what does that</font>

234
00:09:10,160 --> 00:09:15,079
<font color="#E5E5E5">mean compromise of the lowest</font><font color="#CCCCCC"> rezone</font>

235
00:09:12,500 --> 00:09:20,270
gives a direct path to<font color="#E5E5E5"> the</font><font color="#CCCCCC"> high-security</font>

236
00:09:15,080 --> 00:09:22,790
<font color="#CCCCCC">zone just a quick example</font><font color="#E5E5E5"> of how</font><font color="#CCCCCC"> we</font>

237
00:09:20,270 --> 00:09:26,360
<font color="#E5E5E5">might leverage this in the context of a</font>

238
00:09:22,790 --> 00:09:27,860
<font color="#E5E5E5">penetration test this is a pretty simple</font>

239
00:09:26,360 --> 00:09:30,890
version but<font color="#E5E5E5"> it's something that</font><font color="#CCCCCC"> works</font>

240
00:09:27,860 --> 00:09:33,320
<font color="#E5E5E5">regularly</font><font color="#CCCCCC"> we start off by detecting</font>

241
00:09:30,890 --> 00:09:35,300
those<font color="#CCCCCC"> those sort of pokes</font><font color="#E5E5E5"> Network holes</font>

242
00:09:33,320 --> 00:09:38,540
<font color="#E5E5E5">by collecting network connection data</font>

243
00:09:35,300 --> 00:09:40,670
from a range<font color="#CCCCCC"> of target systems</font><font color="#E5E5E5"> like</font>

244
00:09:38,540 --> 00:09:43,520
we're<font color="#E5E5E5"> showing here and then use the</font>

245
00:09:40,670 --> 00:09:49,849
super<font color="#E5E5E5"> hacker tool grep to detect the the</font>

246
00:09:43,520 --> 00:09:52,189
<font color="#CCCCCC">network's</font><font color="#E5E5E5"> we're looking for so once</font>

247
00:09:49,850 --> 00:09:55,460
we've identified the exceptions we just

248
00:09:52,190 --> 00:09:57,440
fall back<font color="#E5E5E5"> to hacking 101 might use a</font>

249
00:09:55,460 --> 00:10:00,080
some sort<font color="#E5E5E5"> of post exploitation show im</font>

250
00:09:57,440 --> 00:10:02,180
using<font color="#E5E5E5"> meterpreter in this demo just</font>

251
00:10:00,080 --> 00:10:03,620
because I feel<font color="#CCCCCC"> like it's ubiquitous</font><font color="#E5E5E5"> most</font>

252
00:10:02,180 --> 00:10:05,630
people will know what it is<font color="#E5E5E5"> that's</font>

253
00:10:03,620 --> 00:10:07,250
<font color="#CCCCCC">pretty</font><font color="#E5E5E5"> straightforward and we</font><font color="#CCCCCC"> can</font>

254
00:10:05,630 --> 00:10:08,960
<font color="#E5E5E5">forward traffic through our compromised</font>

255
00:10:07,250 --> 00:10:13,130
<font color="#E5E5E5">system to the production network or</font><font color="#CCCCCC"> our</font>

256
00:10:08,960 --> 00:10:15,050
target<font color="#E5E5E5"> network I think when somebody</font>

257
00:10:13,130 --> 00:10:16,550
brought this up when I was demoing the

258
00:10:15,050 --> 00:10:18,319
the slide<font color="#E5E5E5"> deck to them I think it's a</font>

259
00:10:16,550 --> 00:10:20,479
good point<font color="#CCCCCC"> if this is the</font><font color="#E5E5E5"> kind</font><font color="#CCCCCC"> of</font>

260
00:10:18,320 --> 00:10:22,610
solution<font color="#CCCCCC"> that you're</font><font color="#E5E5E5"> using another</font>

261
00:10:20,480 --> 00:10:24,140
<font color="#E5E5E5">situation that to consider is if an</font>

262
00:10:22,610 --> 00:10:26,330
attacker<font color="#CCCCCC"> has compromised a machine they</font>

263
00:10:24,140 --> 00:10:28,430
<font color="#CCCCCC">no can or</font><font color="#E5E5E5"> will access the</font><font color="#CCCCCC"> target system</font>

264
00:10:26,330 --> 00:10:30,770
<font color="#CCCCCC">it</font><font color="#E5E5E5"> really just becomes a matter for the</font>

265
00:10:28,430 --> 00:10:32,359
attacker of<font color="#E5E5E5"> inducing a situation where</font>

266
00:10:30,770 --> 00:10:34,460
we know the fire call is going to be

267
00:10:32,360 --> 00:10:36,470
leveraged<font color="#E5E5E5"> and now we have access so</font>

268
00:10:34,460 --> 00:10:38,600
sometimes it's<font color="#CCCCCC"> just sort</font><font color="#E5E5E5"> of timing and</font>

269
00:10:36,470 --> 00:10:43,760
distance as far as actually<font color="#E5E5E5"> exploiting</font>

270
00:10:38,600 --> 00:10:45,800
<font color="#E5E5E5">this so making</font><font color="#CCCCCC"> this a secure</font>

271
00:10:43,760 --> 00:10:48,260
implementation<font color="#E5E5E5"> can</font><font color="#CCCCCC"> be a pretty complex</font>

272
00:10:45,800 --> 00:10:50,060
undertaking<font color="#CCCCCC"> I think just because the</font>

273
00:10:48,260 --> 00:10:52,550
<font color="#CCCCCC">building</font><font color="#E5E5E5"> characteristics make make it</font>

274
00:10:50,060 --> 00:10:54,500
<font color="#E5E5E5">pretty prone to attacks a couple of</font>

275
00:10:52,550 --> 00:10:56,000
thoughts<font color="#CCCCCC"> the smaller you can make the</font>

276
00:10:54,500 --> 00:10:56,610
window of exposure<font color="#E5E5E5"> the better off you</font>

277
00:10:56,000 --> 00:10:59,430
are

278
00:10:56,610 --> 00:11:01,110
<font color="#E5E5E5">this setup seems the best for</font>

279
00:10:59,430 --> 00:11:02,910
<font color="#CCCCCC">organizations where there</font><font color="#E5E5E5"> are a very</font>

280
00:11:01,110 --> 00:11:05,120
<font color="#E5E5E5">limited</font><font color="#CCCCCC"> number of systems for people</font>

281
00:11:02,910 --> 00:11:08,910
accessing those those<font color="#CCCCCC"> high-value assets</font>

282
00:11:05,120 --> 00:11:10,529
<font color="#E5E5E5">so hopefully you can press place very</font>

283
00:11:08,910 --> 00:11:14,459
strict controls around<font color="#E5E5E5"> those users and</font>

284
00:11:10,529 --> 00:11:15,510
<font color="#CCCCCC">systems you may wonder they do things</font>

285
00:11:14,459 --> 00:11:17,430
like restricting<font color="#CCCCCC"> client to client</font>

286
00:11:15,510 --> 00:11:18,120
communication<font color="#E5E5E5"> on those network where</font>

287
00:11:17,430 --> 00:11:19,680
they reside

288
00:11:18,120 --> 00:11:22,410
so do<font color="#E5E5E5"> your workstations need to be able</font>

289
00:11:19,680 --> 00:11:24,870
to<font color="#E5E5E5"> talk</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> each other any holes that</font><font color="#CCCCCC"> you</font>

290
00:11:22,410 --> 00:11:27,120
poke build in automated<font color="#CCCCCC"> closed if</font>

291
00:11:24,870 --> 00:11:29,610
possible<font color="#E5E5E5"> shorter and more specific time</font>

292
00:11:27,120 --> 00:11:33,870
wise is<font color="#CCCCCC"> the best</font><font color="#E5E5E5"> regular testing and</font>

293
00:11:29,610 --> 00:11:35,600
confirmation<font color="#CCCCCC"> of segmentation and and</font>

294
00:11:33,870 --> 00:11:37,950
maybe<font color="#E5E5E5"> just one of the thought</font><font color="#CCCCCC"> I'm</font>

295
00:11:35,600 --> 00:11:39,870
<font color="#E5E5E5">consider doing any sort of</font>

296
00:11:37,950 --> 00:11:41,910
administration through some sort<font color="#CCCCCC"> of air</font>

297
00:11:39,870 --> 00:11:43,440
gap if<font color="#E5E5E5"> you have a separate system</font><font color="#CCCCCC"> for</font>

298
00:11:41,910 --> 00:11:45,600
managing<font color="#CCCCCC"> those those high-value assets</font>

299
00:11:43,440 --> 00:11:47,399
<font color="#E5E5E5">you really limit the</font><font color="#CCCCCC"> the complexity of</font>

300
00:11:45,600 --> 00:11:51,300
this and you give a secure<font color="#CCCCCC"> Channel</font>

301
00:11:47,399 --> 00:11:55,970
that's<font color="#E5E5E5"> the sort of built in</font><font color="#CCCCCC"> alright</font><font color="#E5E5E5"> next</font>

302
00:11:51,300 --> 00:12:01,199
<font color="#E5E5E5">up is VPN</font><font color="#CCCCCC"> I</font><font color="#E5E5E5"> mean that looks kinda silly</font>

303
00:11:55,970 --> 00:12:06,120
there's some other words in there<font color="#E5E5E5"> we'll</font>

304
00:12:01,199 --> 00:12:07,500
get though<font color="#E5E5E5"> so VPN</font><font color="#CCCCCC"> I think everybody</font>

305
00:12:06,120 --> 00:12:10,019
probably<font color="#E5E5E5"> has an idea of what</font><font color="#CCCCCC"> a VPN is</font>

306
00:12:07,500 --> 00:12:11,519
<font color="#E5E5E5">but just real briefly</font><font color="#CCCCCC"> virtual private</font>

307
00:12:10,019 --> 00:12:13,410
<font color="#CCCCCC">network it's we're creating a tunnel</font>

308
00:12:11,519 --> 00:12:15,089
<font color="#E5E5E5">between our private network and some</font>

309
00:12:13,410 --> 00:12:17,819
remote private network over<font color="#CCCCCC"> the Internet</font>

310
00:12:15,089 --> 00:12:19,500
<font color="#E5E5E5">this is a pretty common we're talking</font>

311
00:12:17,820 --> 00:12:21,360
<font color="#CCCCCC">about connecting</font><font color="#E5E5E5"> something like a</font>

312
00:12:19,500 --> 00:12:24,449
<font color="#E5E5E5">production network and like a remote</font>

313
00:12:21,360 --> 00:12:27,630
data center<font color="#CCCCCC"> I like this one for this</font>

314
00:12:24,449 --> 00:12:29,729
talk just<font color="#CCCCCC"> because I've seen</font><font color="#E5E5E5"> an increase</font>

315
00:12:27,630 --> 00:12:31,709
of use<font color="#E5E5E5"> of this for production networks</font>

316
00:12:29,730 --> 00:12:35,550
<font color="#CCCCCC">especially when more organizations are</font>

317
00:12:31,709 --> 00:12:38,189
<font color="#CCCCCC">putting data in things like AWS</font><font color="#E5E5E5"> and then</font>

318
00:12:35,550 --> 00:12:39,990
they use the VPN<font color="#E5E5E5"> to connect to to those</font>

319
00:12:38,190 --> 00:12:44,430
<font color="#E5E5E5">resources or do something like trace</font>

320
00:12:39,990 --> 00:12:46,350
<font color="#E5E5E5">some sort</font><font color="#CCCCCC"> of site to site so the first</font>

321
00:12:44,430 --> 00:12:49,579
<font color="#E5E5E5">implement implementation issue</font><font color="#CCCCCC"> one touch</font>

322
00:12:46,350 --> 00:12:49,579
on here is the split tunnel

323
00:12:52,009 --> 00:12:55,860
so with the split tunnel we start out

324
00:12:54,209 --> 00:12:57,779
with the network interface on the<font color="#CCCCCC"> book</font>

325
00:12:55,860 --> 00:12:59,310
<font color="#CCCCCC">land that's</font><font color="#E5E5E5"> pretty straightforward</font><font color="#CCCCCC"> then</font>

326
00:12:57,779 --> 00:13:01,230
we add<font color="#E5E5E5"> the interface that connects to</font>

327
00:12:59,310 --> 00:13:02,819
the remote<font color="#E5E5E5"> network this effectively</font>

328
00:13:01,230 --> 00:13:04,620
creates a bridge between<font color="#CCCCCC"> local and</font>

329
00:13:02,819 --> 00:13:07,349
<font color="#CCCCCC">remote network now this is useful</font>

330
00:13:04,620 --> 00:13:10,230
<font color="#E5E5E5">because it</font><font color="#CCCCCC"> allows access to</font><font color="#E5E5E5"> local</font>

331
00:13:07,350 --> 00:13:11,430
network<font color="#E5E5E5"> network resources</font><font color="#CCCCCC"> or maybe if</font>

332
00:13:10,230 --> 00:13:12,990
you need to do internet browsing but

333
00:13:11,430 --> 00:13:15,660
<font color="#E5E5E5">your remote network doesn't allow any</font>

334
00:13:12,990 --> 00:13:17,759
sort of<font color="#E5E5E5"> outbound traffic well the view</font>

335
00:13:15,660 --> 00:13:20,550
this this can provide that sort of

336
00:13:17,759 --> 00:13:22,470
functionality<font color="#E5E5E5"> but from the attacker</font>

337
00:13:20,550 --> 00:13:25,889
standpoint this<font color="#CCCCCC"> is</font><font color="#E5E5E5"> very easy</font><font color="#CCCCCC"> to detect</font>

338
00:13:22,470 --> 00:13:27,420
<font color="#E5E5E5">and exploitation scenario is identical</font>

339
00:13:25,889 --> 00:13:32,220
<font color="#E5E5E5">to that</font><font color="#CCCCCC"> of a network where there is no</font>

340
00:13:27,420 --> 00:13:34,229
network boundary so<font color="#CCCCCC"> with the the</font>

341
00:13:32,220 --> 00:13:36,329
<font color="#E5E5E5">follow-on to</font><font color="#CCCCCC"> that the full the</font><font color="#E5E5E5"> full</font>

342
00:13:34,230 --> 00:13:38,699
tunnel VPN<font color="#E5E5E5"> this ensures that when the</font>

343
00:13:36,329 --> 00:13:39,959
<font color="#E5E5E5">VPN connection is active the</font><font color="#CCCCCC"> host no</font>

344
00:13:38,699 --> 00:13:43,620
longer has connectivity<font color="#E5E5E5"> on the local</font>

345
00:13:39,959 --> 00:13:45,239
network<font color="#E5E5E5"> eliminating the bridge security</font>

346
00:13:43,620 --> 00:13:47,730
<font color="#CCCCCC">wise this</font><font color="#E5E5E5"> is definitely a superior</font>

347
00:13:45,240 --> 00:13:50,430
situation to the the split tunnel<font color="#E5E5E5"> for</font>

348
00:13:47,730 --> 00:13:52,110
instance if<font color="#E5E5E5"> we had some sort of post</font>

349
00:13:50,430 --> 00:13:54,120
<font color="#E5E5E5">occupation</font><font color="#CCCCCC"> shell live on a host</font><font color="#E5E5E5"> and we</font>

350
00:13:52,110 --> 00:13:55,589
see that full tunnel go up<font color="#E5E5E5"> we should see</font>

351
00:13:54,120 --> 00:13:57,480
connectivity<font color="#E5E5E5"> drop because there now no</font>

352
00:13:55,589 --> 00:14:04,800
owner effectively on<font color="#E5E5E5"> on the same land as</font>

353
00:13:57,480 --> 00:14:06,839
us<font color="#CCCCCC"> so that's</font><font color="#E5E5E5"> great but that does make</font>

354
00:14:04,800 --> 00:14:08,519
<font color="#E5E5E5">bypassing more difficult if we see that</font>

355
00:14:06,839 --> 00:14:10,319
<font color="#E5E5E5">full tunnel it's still reasonably</font>

356
00:14:08,519 --> 00:14:12,089
<font color="#E5E5E5">possible to get</font><font color="#CCCCCC"> around it</font><font color="#E5E5E5"> the one</font>

357
00:14:10,319 --> 00:14:15,870
perspective<font color="#E5E5E5"> for us considering for this</font>

358
00:14:12,089 --> 00:14:17,220
is is<font color="#E5E5E5"> that of malware you know for a pen</font>

359
00:14:15,870 --> 00:14:19,170
tester<font color="#E5E5E5"> we might save</font><font color="#CCCCCC"> some from a</font>

360
00:14:17,220 --> 00:14:21,389
specially crafted<font color="#E5E5E5"> post expectation</font>

361
00:14:19,170 --> 00:14:23,579
payload that can do things like detect

362
00:14:21,389 --> 00:14:26,009
changes in network interfaces<font color="#E5E5E5"> before</font>

363
00:14:23,579 --> 00:14:27,599
firing<font color="#E5E5E5"> off a connection something you</font>

364
00:14:26,009 --> 00:14:29,610
know maybe to another<font color="#CCCCCC"> network that we</font>

365
00:14:27,600 --> 00:14:32,879
know is reachable<font color="#CCCCCC"> from that that that</font>

366
00:14:29,610 --> 00:14:34,139
<font color="#CCCCCC">targeted zone so in this scenario we</font>

367
00:14:32,879 --> 00:14:35,759
<font color="#CCCCCC">just need to target a user</font><font color="#E5E5E5"> that we know</font>

368
00:14:34,139 --> 00:14:38,519
is<font color="#E5E5E5"> accessing that secure environment via</font>

369
00:14:35,759 --> 00:14:40,439
VPN<font color="#CCCCCC"> maybe doing</font><font color="#E5E5E5"> something like reviewing</font>

370
00:14:38,519 --> 00:14:45,600
running<font color="#E5E5E5"> processes or checking ad group</font>

371
00:14:40,439 --> 00:14:47,160
membership<font color="#E5E5E5"> trap some sort of exploit</font><font color="#CCCCCC"> and</font>

372
00:14:45,600 --> 00:14:50,610
get it running<font color="#CCCCCC"> on the on the target</font>

373
00:14:47,160 --> 00:14:52,500
system<font color="#E5E5E5"> and one effective</font><font color="#CCCCCC"> way to</font>

374
00:14:50,610 --> 00:14:54,540
accomplish this<font color="#CCCCCC"> is to run the binary as</font>

375
00:14:52,500 --> 00:14:56,040
a service on the on the target<font color="#E5E5E5"> host so</font>

376
00:14:54,540 --> 00:14:59,399
it's just<font color="#E5E5E5"> sitting</font><font color="#CCCCCC"> around</font><font color="#E5E5E5"> and watching</font>

377
00:14:56,040 --> 00:15:01,679
and then we wait for that<font color="#E5E5E5"> instance</font><font color="#CCCCCC"> they</font>

378
00:14:59,399 --> 00:15:05,990
happened will trigger the<font color="#E5E5E5"> loading of our</font>

379
00:15:01,679 --> 00:15:05,990
<font color="#E5E5E5">our evil code</font>

380
00:15:06,830 --> 00:15:10,530
so I think<font color="#E5E5E5"> a theme that we</font><font color="#CCCCCC"> see here once</font>

381
00:15:09,150 --> 00:15:12,240
the attacker has<font color="#E5E5E5"> administrative access</font>

382
00:15:10,530 --> 00:15:14,819
to the system<font color="#CCCCCC"> the rest of the</font><font color="#E5E5E5"> bypass is</font>

383
00:15:12,240 --> 00:15:16,170
really just limited<font color="#E5E5E5"> by creativity just</font>

384
00:15:14,820 --> 00:15:17,640
<font color="#E5E5E5">like with fire our call if at all</font>

385
00:15:16,170 --> 00:15:19,530
possible<font color="#CCCCCC"> we</font><font color="#E5E5E5"> really want to limit any</font>

386
00:15:17,640 --> 00:15:21,090
sort of local network exposure of users

387
00:15:19,530 --> 00:15:23,520
<font color="#CCCCCC">that have VPN access to their high</font>

388
00:15:21,090 --> 00:15:25,350
security environments but we want to

389
00:15:23,520 --> 00:15:28,250
<font color="#CCCCCC">avoid creating</font><font color="#E5E5E5"> direct bridges</font><font color="#CCCCCC"> between</font>

390
00:15:25,350 --> 00:15:30,330
zones<font color="#E5E5E5"> definitely rely on full tunnel</font>

391
00:15:28,250 --> 00:15:32,780
multi-factor authentication without<font color="#CCCCCC"> a</font>

392
00:15:30,330 --> 00:15:35,100
bank<font color="#E5E5E5"> how information is also a great</font>

393
00:15:32,780 --> 00:15:36,390
perspective<font color="#E5E5E5"> to</font><font color="#CCCCCC"> consider we're touch a</font>

394
00:15:35,100 --> 00:15:42,210
<font color="#E5E5E5">little more on and</font><font color="#CCCCCC"> Fae in the next</font>

395
00:15:36,390 --> 00:15:46,800
section<font color="#CCCCCC"> thanks up talking</font><font color="#E5E5E5"> about a jump</font>

396
00:15:42,210 --> 00:15:48,690
box so jump box for our purposes here<font color="#E5E5E5"> is</font>

397
00:15:46,800 --> 00:15:51,589
any device<font color="#CCCCCC"> that spans two</font><font color="#E5E5E5"> dissimilar</font>

398
00:15:48,690 --> 00:15:53,520
security zones<font color="#CCCCCC"> for the purpose of access</font>

399
00:15:51,590 --> 00:15:55,710
<font color="#E5E5E5">typically I think</font><font color="#CCCCCC"> we see that this is</font>

400
00:15:53,520 --> 00:15:59,310
<font color="#E5E5E5">leverage or something like SSH or a</font>

401
00:15:55,710 --> 00:16:00,780
remote<font color="#CCCCCC"> desktop</font><font color="#E5E5E5"> provides a nice way to</font>

402
00:15:59,310 --> 00:16:02,670
implement a network<font color="#CCCCCC"> boundary by</font>

403
00:16:00,780 --> 00:16:05,280
restricting connections between the

404
00:16:02,670 --> 00:16:09,209
<font color="#E5E5E5">zones to you know one target host or</font>

405
00:16:05,280 --> 00:16:10,920
just a couple<font color="#CCCCCC"> of jump boxes</font><font color="#E5E5E5"> and it also</font>

406
00:16:09,210 --> 00:16:14,460
<font color="#E5E5E5">gives us a place</font><font color="#CCCCCC"> to implement</font><font color="#E5E5E5"> an</font>

407
00:16:10,920 --> 00:16:16,740
authentication boundary<font color="#CCCCCC"> so you have</font>

408
00:16:14,460 --> 00:16:19,380
<font color="#E5E5E5">given that</font><font color="#CCCCCC"> this is definitely</font><font color="#E5E5E5"> a great</font>

409
00:16:16,740 --> 00:16:21,660
security<font color="#E5E5E5"> posture</font><font color="#CCCCCC"> touching</font><font color="#E5E5E5"> on the sort of</font>

410
00:16:19,380 --> 00:16:24,030
first<font color="#E5E5E5"> implementation issue is stale</font>

411
00:16:21,660 --> 00:16:26,689
sessions<font color="#CCCCCC"> so-called stale sessions at</font>

412
00:16:24,030 --> 00:16:28,860
least<font color="#E5E5E5"> so essentially we're thinking that</font>

413
00:16:26,690 --> 00:16:31,200
once we<font color="#E5E5E5"> compromise a user that has a</font>

414
00:16:28,860 --> 00:16:33,300
session open<font color="#E5E5E5"> was in this cases remote</font>

415
00:16:31,200 --> 00:16:34,950
desktop<font color="#E5E5E5"> they leave their workstation the</font>

416
00:16:33,300 --> 00:16:36,810
session is<font color="#CCCCCC"> open I'm an attacker I'm just</font>

417
00:16:34,950 --> 00:16:38,520
monitoring<font color="#E5E5E5"> that system once they leave I</font>

418
00:16:36,810 --> 00:16:41,780
can log in and take advantage<font color="#CCCCCC"> of</font><font color="#E5E5E5"> that</font>

419
00:16:38,520 --> 00:16:41,780
open<font color="#E5E5E5"> Remote Desktop session</font>

420
00:16:44,999 --> 00:16:49,990
the next<font color="#CCCCCC"> the</font><font color="#E5E5E5"> common implementation flaw</font>

421
00:16:47,619 --> 00:16:52,149
I found is that<font color="#E5E5E5"> what I</font><font color="#CCCCCC"> think of</font><font color="#E5E5E5"> as a</font>

422
00:16:49,990 --> 00:16:54,819
single<font color="#E5E5E5"> authentication zone</font><font color="#CCCCCC"> so maybe you</font>

423
00:16:52,149 --> 00:16:55,839
have<font color="#E5E5E5"> two networks that are just</font>

424
00:16:54,819 --> 00:16:58,329
<font color="#CCCCCC">somewhere</font><font color="#E5E5E5"> you have some sort of</font>

425
00:16:55,839 --> 00:17:03,910
segmentation between them<font color="#E5E5E5"> but they're</font>

426
00:16:58,329 --> 00:17:05,678
<font color="#E5E5E5">both using the</font><font color="#CCCCCC"> same 880</font><font color="#E5E5E5"> so</font><font color="#CCCCCC"> they're the</font>

427
00:17:03,910 --> 00:17:07,449
<font color="#E5E5E5">obvious problem here is</font><font color="#CCCCCC"> that if you're</font>

428
00:17:05,679 --> 00:17:09,159
authenticating with same credentials<font color="#E5E5E5"> to</font>

429
00:17:07,449 --> 00:17:12,010
two zones or<font color="#E5E5E5"> they are</font><font color="#CCCCCC"> they're really two</font>

430
00:17:09,159 --> 00:17:13,419
zones<font color="#CCCCCC"> I would say probably</font><font color="#E5E5E5"> not</font><font color="#CCCCCC"> now I</font>

431
00:17:12,010 --> 00:17:15,339
think<font color="#E5E5E5"> the attack surface here can vary</font>

432
00:17:13,419 --> 00:17:17,559
greatly based on exactly<font color="#E5E5E5"> what the</font>

433
00:17:15,339 --> 00:17:19,869
<font color="#E5E5E5">implementation looks like but even</font><font color="#CCCCCC"> the</font>

434
00:17:17,559 --> 00:17:22,029
use<font color="#CCCCCC"> of even if the use of the jump</font>

435
00:17:19,869 --> 00:17:24,729
occupies an effective<font color="#CCCCCC"> network boundary</font>

436
00:17:22,029 --> 00:17:27,250
if there's some host that's spanning

437
00:17:24,730 --> 00:17:28,659
those those<font color="#E5E5E5"> two zones</font><font color="#CCCCCC"> that's providing</font>

438
00:17:27,250 --> 00:17:32,100
some sort<font color="#CCCCCC"> of authentication</font><font color="#E5E5E5"> then the</font>

439
00:17:28,659 --> 00:17:32,100
attacker can leverage<font color="#E5E5E5"> that</font>

440
00:17:34,649 --> 00:17:39,699
one way the attacker might<font color="#CCCCCC"> leverage this</font>

441
00:17:36,820 --> 00:17:40,210
is shared infrastructure<font color="#CCCCCC"> in Active</font>

442
00:17:39,700 --> 00:17:43,390
<font color="#E5E5E5">Directory</font>

443
00:17:40,210 --> 00:17:45,730
something like<font color="#CCCCCC"> the user</font><font color="#E5E5E5"> man user</font><font color="#CCCCCC"> logged</font>

444
00:17:43,390 --> 00:17:46,990
<font color="#CCCCCC">on scripts</font><font color="#E5E5E5"> so this is actually if you</font>

445
00:17:45,730 --> 00:17:49,480
can imagine<font color="#E5E5E5"> for</font><font color="#CCCCCC"> just a second that</font>

446
00:17:46,990 --> 00:17:52,390
<font color="#E5E5E5">they're looking</font><font color="#CCCCCC"> at the user</font><font color="#E5E5E5"> logon script</font>

447
00:17:49,480 --> 00:17:53,950
<font color="#E5E5E5">in Active Directory here if in case</font>

448
00:17:52,390 --> 00:17:55,630
<font color="#CCCCCC">you're not familiar user logon scripts</font>

449
00:17:53,950 --> 00:17:57,360
gives you a way<font color="#E5E5E5"> to assign task that</font>

450
00:17:55,630 --> 00:17:59,380
would be performed when<font color="#E5E5E5"> a user logs</font><font color="#CCCCCC"> on</font>

451
00:17:57,360 --> 00:18:01,658
so we can<font color="#E5E5E5"> design a script that will</font>

452
00:17:59,380 --> 00:18:04,570
<font color="#E5E5E5">execute or run a you know some sort of</font>

453
00:18:01,659 --> 00:18:06,039
<font color="#E5E5E5">binary of our choosing</font><font color="#CCCCCC"> so that when we</font>

454
00:18:04,570 --> 00:18:07,809
target a particular<font color="#E5E5E5"> user when they log</font>

455
00:18:06,039 --> 00:18:10,899
on it runs some code and<font color="#CCCCCC"> we can</font><font color="#E5E5E5"> gain</font>

456
00:18:07,809 --> 00:18:18,340
access to it otherwise<font color="#E5E5E5"> a foreign element</font>

457
00:18:10,899 --> 00:18:21,459
a<font color="#E5E5E5"> multi-factor comes in pretty pretty</font>

458
00:18:18,340 --> 00:18:23,019
often in this jump box architecture<font color="#CCCCCC"> it's</font>

459
00:18:21,460 --> 00:18:24,370
definitely<font color="#CCCCCC"> strengthened strengthens the</font>

460
00:18:23,019 --> 00:18:26,139
authentication boundary between the

461
00:18:24,370 --> 00:18:28,178
<font color="#E5E5E5">zones by making an exploit process far</font>

462
00:18:26,139 --> 00:18:29,590
more complex<font color="#E5E5E5"> but definitely recommend</font>

463
00:18:28,179 --> 00:18:31,179
using<font color="#E5E5E5"> this it's a it's a great</font>

464
00:18:29,590 --> 00:18:32,408
technology<font color="#E5E5E5"> to put into place but it</font>

465
00:18:31,179 --> 00:18:34,990
certainly<font color="#E5E5E5"> comes with its own set of</font>

466
00:18:32,409 --> 00:18:36,760
implementation challenges like

467
00:18:34,990 --> 00:18:38,320
everything<font color="#CCCCCC"> emif a can be deployed in a</font>

468
00:18:36,760 --> 00:18:41,080
way that makes<font color="#E5E5E5"> it prone to attack</font><font color="#CCCCCC"> or</font>

469
00:18:38,320 --> 00:18:43,720
bypass<font color="#E5E5E5"> one miss configuration I've seen</font>

470
00:18:41,080 --> 00:18:46,649
making<font color="#E5E5E5"> the MFA server accessible in</font><font color="#CCCCCC"> the</font>

471
00:18:43,720 --> 00:18:46,649
lower<font color="#E5E5E5"> security zone</font>

472
00:18:49,630 --> 00:18:54,230
so just for example<font color="#E5E5E5"> one port that I or a</font>

473
00:18:53,059 --> 00:18:56,290
set of ports<font color="#CCCCCC"> that I'd like to look</font><font color="#E5E5E5"> for</font>

474
00:18:54,230 --> 00:18:59,870
<font color="#CCCCCC">or anything that</font><font color="#E5E5E5"> might be related</font><font color="#CCCCCC"> to</font>

475
00:18:56,290 --> 00:19:01,580
that that MFA server<font color="#E5E5E5"> and this could</font><font color="#CCCCCC"> be</font>

476
00:18:59,870 --> 00:19:03,889
something<font color="#CCCCCC"> like SSH or something very</font>

477
00:19:01,580 --> 00:19:05,030
telling like specific a web service

478
00:19:03,890 --> 00:19:07,910
running<font color="#E5E5E5"> on a specific port that's</font>

479
00:19:05,030 --> 00:19:10,220
related to<font color="#E5E5E5"> something like our RSA the</font>

480
00:19:07,910 --> 00:19:11,750
management console<font color="#CCCCCC"> so if the management</font>

481
00:19:10,220 --> 00:19:13,520
<font color="#CCCCCC">console</font><font color="#E5E5E5"> is accessible from the lower</font>

482
00:19:11,750 --> 00:19:15,740
security<font color="#E5E5E5"> zone which is typically where</font>

483
00:19:13,520 --> 00:19:19,940
we're running our testing from we<font color="#E5E5E5"> just</font>

484
00:19:15,740 --> 00:19:22,250
need a way to log<font color="#CCCCCC"> into that</font><font color="#E5E5E5"> server so</font>

485
00:19:19,940 --> 00:19:24,169
part<font color="#CCCCCC"> of the the another</font><font color="#E5E5E5"> part of the</font>

486
00:19:22,250 --> 00:19:26,120
<font color="#CCCCCC">implementation problem is allowing log</font>

487
00:19:24,169 --> 00:19:28,790
<font color="#E5E5E5">on to the MFA console using just regular</font>

488
00:19:26,120 --> 00:19:30,350
domain credentials so that<font color="#CCCCCC"> makes it</font><font color="#E5E5E5"> very</font>

489
00:19:28,790 --> 00:19:32,299
simple<font color="#E5E5E5"> once we've compromised that lower</font>

490
00:19:30,350 --> 00:19:33,409
security<font color="#E5E5E5"> zone and the domain that's</font>

491
00:19:32,299 --> 00:19:36,889
associated<font color="#E5E5E5"> with it</font>

492
00:19:33,410 --> 00:19:38,570
we maybe<font color="#E5E5E5"> will do something like dump NCS</font>

493
00:19:36,890 --> 00:19:40,280
that<font color="#CCCCCC"> dit</font><font color="#E5E5E5"> and we've got the domain and</font>

494
00:19:38,570 --> 00:19:41,870
admin credentials and it's very likely

495
00:19:40,280 --> 00:19:43,668
then that<font color="#CCCCCC"> we can log in to</font><font color="#E5E5E5"> the RSA</font>

496
00:19:41,870 --> 00:19:46,250
console and we'll have full

497
00:19:43,669 --> 00:19:47,990
administrative<font color="#E5E5E5"> access</font><font color="#CCCCCC"> there's some other</font>

498
00:19:46,250 --> 00:19:51,140
<font color="#E5E5E5">really great ways</font><font color="#CCCCCC"> to work</font><font color="#E5E5E5"> around this if</font>

499
00:19:47,990 --> 00:19:53,510
you if<font color="#CCCCCC"> you</font><font color="#E5E5E5"> don't have just demand</font>

500
00:19:51,140 --> 00:19:57,799
credentials but that that's a pretty

501
00:19:53,510 --> 00:19:59,419
likely<font color="#E5E5E5"> scenario once we have our</font>

502
00:19:57,799 --> 00:20:01,580
credentials<font color="#E5E5E5"> we log in we can do lots of</font>

503
00:19:59,419 --> 00:20:03,830
interesting<font color="#CCCCCC"> things like</font><font color="#E5E5E5"> issue ourselves</font>

504
00:20:01,580 --> 00:20:06,918
a soft token<font color="#E5E5E5"> to get us to the</font><font color="#CCCCCC"> two that</font>

505
00:20:03,830 --> 00:20:09,199
<font color="#CCCCCC">that higher security</font><font color="#E5E5E5"> zone and you know</font>

506
00:20:06,919 --> 00:20:13,610
control logs make it harder for for

507
00:20:09,200 --> 00:20:16,370
<font color="#E5E5E5">anybody to stop us if you're interested</font>

508
00:20:13,610 --> 00:20:17,629
in talking<font color="#E5E5E5"> a little more about attacks</font>

509
00:20:16,370 --> 00:20:19,549
against multi-factor<font color="#CCCCCC"> I</font><font color="#E5E5E5"> definitely</font>

510
00:20:17,630 --> 00:20:21,440
recommend<font color="#E5E5E5"> taking a look by a co-worker</font>

511
00:20:19,549 --> 00:20:23,000
<font color="#CCCCCC">of mine josh</font><font color="#E5E5E5"> stone he doesn't really</font>

512
00:20:21,440 --> 00:20:26,870
great deep dive into a multi-factor

513
00:20:23,000 --> 00:20:28,850
bypass it's from<font color="#E5E5E5"> Derby</font><font color="#CCCCCC"> Con 2015</font><font color="#E5E5E5"> and I</font>

514
00:20:26,870 --> 00:20:31,040
hope if<font color="#E5E5E5"> you</font><font color="#CCCCCC"> guys don't catch this link</font>

515
00:20:28,850 --> 00:20:34,030
and you're interested just just<font color="#CCCCCC"> ping me</font>

516
00:20:31,040 --> 00:20:34,030
<font color="#E5E5E5">afterwards I'll get that to you</font>

517
00:20:35,669 --> 00:20:40,509
so a couple<font color="#E5E5E5"> of takeaways here consider</font>

518
00:20:38,710 --> 00:20:41,950
technical controls around<font color="#E5E5E5"> the how users</font>

519
00:20:40,509 --> 00:20:43,869
access<font color="#CCCCCC"> to high security zones for</font>

520
00:20:41,950 --> 00:20:45,779
instance session timeouts on remote

521
00:20:43,869 --> 00:20:48,220
desktop sessions<font color="#E5E5E5"> consider the</font>

522
00:20:45,779 --> 00:20:50,200
<font color="#E5E5E5">implications of compromise for critical</font>

523
00:20:48,220 --> 00:20:51,759
systems<font color="#CCCCCC"> if you're not</font><font color="#E5E5E5"> thinking</font><font color="#CCCCCC"> about</font>

524
00:20:50,200 --> 00:20:53,529
this from<font color="#E5E5E5"> the assumed</font><font color="#CCCCCC"> compromise</font>

525
00:20:51,759 --> 00:20:55,330
perspective or<font color="#E5E5E5"> assume breach perspective</font>

526
00:20:53,529 --> 00:20:57,309
<font color="#E5E5E5">you're missing a</font><font color="#CCCCCC"> lot of opportunities to</font>

527
00:20:55,330 --> 00:21:05,499
<font color="#E5E5E5">harden your systems and the access</font>

528
00:20:57,309 --> 00:21:08,289
methods<font color="#CCCCCC"> alright next up is a VDI so VDI</font>

529
00:21:05,499 --> 00:21:10,259
or virtual desktop infrastructure<font color="#CCCCCC"> when</font>

530
00:21:08,289 --> 00:21:12,940
used to deliver a desktop environment

531
00:21:10,259 --> 00:21:14,980
<font color="#CCCCCC">for the purposes of accessing a separate</font>

532
00:21:12,940 --> 00:21:17,230
<font color="#CCCCCC">security zone</font><font color="#E5E5E5"> essentially is working</font>

533
00:21:14,980 --> 00:21:19,499
<font color="#E5E5E5">like a jump box so it sits somewhere a</font>

534
00:21:17,230 --> 00:21:22,570
lot<font color="#CCCCCC"> of ways to the to the last</font>

535
00:21:19,499 --> 00:21:25,570
implementation<font color="#CCCCCC"> just like the jump</font><font color="#E5E5E5"> box</font>

536
00:21:22,570 --> 00:21:26,649
design VDI typically violates something

537
00:21:25,570 --> 00:21:27,999
called the clean force principle which

538
00:21:26,649 --> 00:21:29,738
I'm<font color="#CCCCCC"> gonna</font><font color="#E5E5E5"> jump out in a</font><font color="#CCCCCC"> minute but I've</font>

539
00:21:27,999 --> 00:21:33,609
<font color="#E5E5E5">already sort</font><font color="#CCCCCC"> of hinted at</font><font color="#E5E5E5"> and we'll see</font>

540
00:21:29,739 --> 00:21:34,840
just<font color="#CCCCCC"> a moment the next section</font><font color="#E5E5E5"> and the</font>

541
00:21:33,609 --> 00:21:37,059
<font color="#E5E5E5">first issue I want to address is</font>

542
00:21:34,840 --> 00:21:39,399
<font color="#CCCCCC">abandoned sessions</font><font color="#E5E5E5"> so without screen</font>

543
00:21:37,059 --> 00:21:42,070
locks<font color="#E5E5E5"> just like in the</font><font color="#CCCCCC"> the previous</font>

544
00:21:39,399 --> 00:21:44,979
<font color="#E5E5E5">section we can take</font><font color="#CCCCCC"> advantage of</font>

545
00:21:42,070 --> 00:21:46,869
somebody<font color="#E5E5E5"> left a desktop logged in and I</font>

546
00:21:44,980 --> 00:21:49,389
know that that<font color="#CCCCCC"> sounds very sort of of</font>

547
00:21:46,869 --> 00:21:50,859
silly and non-technical but I love the

548
00:21:49,389 --> 00:21:52,779
attack because because it's sort<font color="#E5E5E5"> of</font>

549
00:21:50,859 --> 00:21:54,340
non-technical and it almost<font color="#E5E5E5"> always</font><font color="#CCCCCC"> works</font>

550
00:21:52,779 --> 00:21:56,499
<font color="#E5E5E5">for</font><font color="#CCCCCC"> in an environment</font><font color="#E5E5E5"> we know that</font>

551
00:21:54,340 --> 00:21:58,959
people are<font color="#E5E5E5"> accessing that that the high</font>

552
00:21:56,499 --> 00:22:00,820
security<font color="#CCCCCC"> zone we want to take advantage</font>

553
00:21:58,960 --> 00:22:03,029
<font color="#CCCCCC">of those left</font><font color="#E5E5E5"> open we can just wait for</font>

554
00:22:00,820 --> 00:22:05,049
<font color="#E5E5E5">them to go to lunch and look for</font>

555
00:22:03,029 --> 00:22:06,429
<font color="#E5E5E5">something</font><font color="#CCCCCC"> that indicates</font><font color="#E5E5E5"> that they've</font>

556
00:22:05,049 --> 00:22:08,408
logged out<font color="#E5E5E5"> of their system and just</font>

557
00:22:06,429 --> 00:22:15,970
<font color="#CCCCCC">locked the screen and and now we have</font>

558
00:22:08,409 --> 00:22:18,489
<font color="#E5E5E5">access another so the next issue</font><font color="#CCCCCC"> is that</font>

559
00:22:15,970 --> 00:22:19,570
<font color="#CCCCCC">insecure session brokers if you can</font><font color="#E5E5E5"> sort</font>

560
00:22:18,489 --> 00:22:21,220
of<font color="#E5E5E5"> just use your imagination</font><font color="#CCCCCC"> a little</font>

561
00:22:19,570 --> 00:22:22,509
bit on this under the the<font color="#CCCCCC"> image didn't</font>

562
00:22:21,220 --> 00:22:25,649
come up<font color="#E5E5E5"> great there's actually showing</font>

563
00:22:22,509 --> 00:22:27,909
<font color="#E5E5E5">one</font><font color="#CCCCCC"> of the configuration screens from</font>

564
00:22:25,649 --> 00:22:29,678
VMware is a horizon client which<font color="#CCCCCC"> is a</font>

565
00:22:27,909 --> 00:22:31,690
VDI client if you're not<font color="#E5E5E5"> familiar with</font>

566
00:22:29,679 --> 00:22:33,700
<font color="#CCCCCC">it it's essentially</font><font color="#E5E5E5"> it's</font><font color="#CCCCCC"> just a</font><font color="#E5E5E5"> software</font>

567
00:22:31,690 --> 00:22:36,909
<font color="#CCCCCC">that lets you</font><font color="#E5E5E5"> log</font><font color="#CCCCCC"> into a desktop</font><font color="#E5E5E5"> remote</font>

568
00:22:33,700 --> 00:22:39,149
<font color="#E5E5E5">created desktop for you so one of the</font>

569
00:22:36,909 --> 00:22:41,769
<font color="#E5E5E5">the configuration options here is as a</font>

570
00:22:39,149 --> 00:22:45,279
the text<font color="#E5E5E5"> actually reads do not verify</font>

571
00:22:41,769 --> 00:22:47,559
server identity certificates<font color="#E5E5E5"> so this the</font>

572
00:22:45,279 --> 00:22:48,490
scenario<font color="#CCCCCC"> that I'm trying</font><font color="#E5E5E5"> to sort</font><font color="#CCCCCC"> of hint</font>

573
00:22:47,559 --> 00:22:51,520
at here is

574
00:22:48,490 --> 00:22:53,260
is if we've compromised the<font color="#CCCCCC"> host you</font><font color="#E5E5E5"> see</font>

575
00:22:51,520 --> 00:22:56,770
is connecting to<font color="#CCCCCC"> the secure environment</font>

576
00:22:53,260 --> 00:22:59,230
<font color="#E5E5E5">via the with the horizon client</font><font color="#CCCCCC"> one of</font>

577
00:22:56,770 --> 00:23:02,410
<font color="#CCCCCC">the the</font><font color="#E5E5E5"> settings is we can have it</font>

578
00:22:59,230 --> 00:23:10,270
ignore bad certificates<font color="#E5E5E5"> so how might we</font>

579
00:23:02,410 --> 00:23:11,559
leverage that we<font color="#CCCCCC"> know users we know</font>

580
00:23:10,270 --> 00:23:13,170
right<font color="#CCCCCC"> off the bat that</font><font color="#E5E5E5"> we can't rely</font><font color="#CCCCCC"> on</font>

581
00:23:11,559 --> 00:23:15,010
users to pay attention<font color="#E5E5E5"> to</font><font color="#CCCCCC"> something like</font>

582
00:23:13,170 --> 00:23:18,190
and<font color="#E5E5E5"> well some of the colors came out</font>

583
00:23:15,010 --> 00:23:19,480
<font color="#E5E5E5">there like HTTP warnings people will</font>

584
00:23:18,190 --> 00:23:21,280
just<font color="#CCCCCC"> sort of</font><font color="#E5E5E5"> click through this even if</font>

585
00:23:19,480 --> 00:23:23,679
even<font color="#E5E5E5"> if previously we know that there</font>

586
00:23:21,280 --> 00:23:25,090
<font color="#E5E5E5">was a good certificate here pretty you</font>

587
00:23:23,679 --> 00:23:27,160
can be pretty<font color="#E5E5E5"> confident that somebody's</font>

588
00:23:25,090 --> 00:23:31,449
<font color="#E5E5E5">gonna continue to to</font><font color="#CCCCCC"> log in even if they</font>

589
00:23:27,160 --> 00:23:34,090
see<font color="#E5E5E5"> that warning show up so the again</font>

590
00:23:31,450 --> 00:23:35,620
the user imagination a<font color="#CCCCCC"> little bit one of</font>

591
00:23:34,090 --> 00:23:37,629
<font color="#E5E5E5">the other</font><font color="#CCCCCC"> configuration screens on the</font>

592
00:23:35,620 --> 00:23:39,719
horizon client<font color="#E5E5E5"> it lets you set</font><font color="#CCCCCC"> the gate</font>

593
00:23:37,630 --> 00:23:42,940
<font color="#CCCCCC">wave that the the client has pointed at</font>

594
00:23:39,720 --> 00:23:45,100
so as the bad guy I'll probably want to

595
00:23:42,940 --> 00:23:46,630
make<font color="#E5E5E5"> that point to me</font><font color="#CCCCCC"> I wait</font><font color="#E5E5E5"> for the</font>

596
00:23:45,100 --> 00:23:48,100
user<font color="#E5E5E5"> to walk away change the setting you</font>

597
00:23:46,630 --> 00:23:49,960
<font color="#E5E5E5">can also do this without interact</font>

598
00:23:48,100 --> 00:23:52,030
directly with the<font color="#E5E5E5"> user session by doing</font>

599
00:23:49,960 --> 00:23:55,679
<font color="#E5E5E5">something like modifying the the</font><font color="#CCCCCC"> windows</font>

600
00:23:52,030 --> 00:23:58,450
<font color="#CCCCCC">dredge registry so setting yourself or</font>

601
00:23:55,679 --> 00:24:01,720
setting<font color="#CCCCCC"> myself as the as the bet as the</font>

602
00:23:58,450 --> 00:24:03,010
the<font color="#CCCCCC"> Gateway don't we</font><font color="#E5E5E5"> just have to attack</font>

603
00:24:01,720 --> 00:24:04,600
<font color="#E5E5E5">together a little bit of code that</font><font color="#CCCCCC"> will</font>

604
00:24:03,010 --> 00:24:06,100
run<font color="#CCCCCC"> a listener that capture</font><font color="#E5E5E5"> the</font>

605
00:24:04,600 --> 00:24:08,649
credentials and<font color="#E5E5E5"> completes the connection</font>

606
00:24:06,100 --> 00:24:11,469
when the user hits that log on button<font color="#CCCCCC"> so</font>

607
00:24:08,650 --> 00:24:16,690
now assuming that<font color="#CCCCCC"> even if that that VDI</font>

608
00:24:11,470 --> 00:24:18,850
session has<font color="#E5E5E5"> RSA I think pretty pretty</font>

609
00:24:16,690 --> 00:24:20,470
common in that<font color="#E5E5E5"> authentication scenario</font>

610
00:24:18,850 --> 00:24:22,510
that<font color="#E5E5E5"> the token is just types of part of</font>

611
00:24:20,470 --> 00:24:24,910
<font color="#E5E5E5">the password so once they hit the</font><font color="#CCCCCC"> login</font>

612
00:24:22,510 --> 00:24:26,379
button<font color="#E5E5E5"> we capture this will see the</font>

613
00:24:24,910 --> 00:24:27,970
<font color="#E5E5E5">whole will have everything will have</font>

614
00:24:26,380 --> 00:24:29,650
their password<font color="#E5E5E5"> and we'll have that token</font>

615
00:24:27,970 --> 00:24:31,210
that<font color="#E5E5E5"> we can obviously there's a timing</font>

616
00:24:29,650 --> 00:24:32,290
element<font color="#E5E5E5"> there but then we</font><font color="#CCCCCC"> just have</font><font color="#E5E5E5"> to</font>

617
00:24:31,210 --> 00:24:34,120
hack together<font color="#E5E5E5"> one more script that</font>

618
00:24:32,290 --> 00:24:35,920
finishes the connection on our<font color="#E5E5E5"> end and</font>

619
00:24:34,120 --> 00:24:38,590
we were able<font color="#E5E5E5"> to log in as that user and</font>

620
00:24:35,920 --> 00:24:43,210
they might never be the<font color="#E5E5E5"> wiser to the</font>

621
00:24:38,590 --> 00:24:45,010
situation one other example<font color="#E5E5E5"> of a</font><font color="#CCCCCC"> flaw</font>

622
00:24:43,210 --> 00:24:46,390
configuration here<font color="#E5E5E5"> the highlights that</font>

623
00:24:45,010 --> 00:24:49,110
<font color="#E5E5E5">sync the challenge of sort of the</font>

624
00:24:46,390 --> 00:24:50,980
complex complexity of managing networks

625
00:24:49,110 --> 00:24:55,570
during a scanning portion on an

626
00:24:50,980 --> 00:24:57,400
<font color="#E5E5E5">engagement if we we've detected</font><font color="#CCCCCC"> so this</font>

627
00:24:55,570 --> 00:25:00,700
is<font color="#E5E5E5"> two separate user imagination</font><font color="#CCCCCC"> again</font>

628
00:24:57,400 --> 00:25:01,490
<font color="#CCCCCC">is to separate</font><font color="#E5E5E5"> VDI login screens one of</font>

629
00:25:00,700 --> 00:25:03,799
them

630
00:25:01,490 --> 00:25:06,409
<font color="#CCCCCC">when you can see the little</font><font color="#E5E5E5"> RSA logo</font>

631
00:25:03,799 --> 00:25:07,970
there is is configured to<font color="#E5E5E5"> enforce</font>

632
00:25:06,409 --> 00:25:10,070
<font color="#CCCCCC">multi-factor so you have to type in</font><font color="#E5E5E5"> the</font>

633
00:25:07,970 --> 00:25:12,380
RSA<font color="#CCCCCC"> but these are both running</font><font color="#E5E5E5"> in the</font>

634
00:25:10,070 --> 00:25:13,700
same network<font color="#CCCCCC"> so if we're able</font><font color="#E5E5E5"> to detect</font>

635
00:25:12,380 --> 00:25:15,140
<font color="#E5E5E5">that there's two of</font><font color="#CCCCCC"> them</font><font color="#E5E5E5"> one of them</font>

636
00:25:13,700 --> 00:25:16,520
<font color="#E5E5E5">doesn't have the RSA screen</font>

637
00:25:15,140 --> 00:25:18,169
guess which one<font color="#E5E5E5"> I'm gonna go after</font><font color="#CCCCCC"> as</font>

638
00:25:16,520 --> 00:25:20,149
<font color="#CCCCCC">the bad guy the one that's missing</font>

639
00:25:18,169 --> 00:25:21,890
<font color="#E5E5E5">multi-factor which is exactly the same</font>

640
00:25:20,149 --> 00:25:24,379
thing is not<font color="#CCCCCC"> having multi-factor at</font><font color="#E5E5E5"> all</font>

641
00:25:21,890 --> 00:25:26,510
<font color="#E5E5E5">I think this seems like an obvious flaw</font>

642
00:25:24,380 --> 00:25:28,640
<font color="#CCCCCC">if you're designing a network</font><font color="#E5E5E5"> yeah you</font>

643
00:25:26,510 --> 00:25:30,080
shouldn't do<font color="#CCCCCC"> this but it</font><font color="#E5E5E5"> really kind</font><font color="#CCCCCC"> of</font>

644
00:25:28,640 --> 00:25:32,539
highlights the sorts of<font color="#E5E5E5"> mistakes that we</font>

645
00:25:30,080 --> 00:25:37,010
tend to like<font color="#E5E5E5"> to exploit as penetration</font>

646
00:25:32,539 --> 00:25:38,210
<font color="#CCCCCC">testers so just like other</font>

647
00:25:37,010 --> 00:25:39,950
implementations that<font color="#E5E5E5"> we've covered</font>

648
00:25:38,210 --> 00:25:40,970
dissolution violates that that clean

649
00:25:39,950 --> 00:25:43,059
source principle will damage and we're

650
00:25:40,970 --> 00:25:44,990
gonna touch on<font color="#E5E5E5"> in just a moment</font>

651
00:25:43,059 --> 00:25:46,760
essentially just<font color="#E5E5E5"> requires that any</font>

652
00:25:44,990 --> 00:25:49,039
security dependencies are as trustworthy

653
00:25:46,760 --> 00:25:51,679
as<font color="#E5E5E5"> the object being secured which we</font>

654
00:25:49,039 --> 00:25:53,270
haven't<font color="#E5E5E5"> really accomplished here it's</font>

655
00:25:51,679 --> 00:25:55,190
<font color="#E5E5E5">probably worth enforcing</font><font color="#CCCCCC"> the use of</font>

656
00:25:53,270 --> 00:25:57,379
science certificates<font color="#CCCCCC"> where possible</font>

657
00:25:55,190 --> 00:26:00,320
making your users aware that they exist

658
00:25:57,380 --> 00:26:03,309
<font color="#E5E5E5">if again you</font><font color="#CCCCCC"> can let</font><font color="#E5E5E5"> them know</font>

659
00:26:00,320 --> 00:26:05,928
please don't click through those<font color="#E5E5E5"> things</font>

660
00:26:03,309 --> 00:26:07,610
<font color="#CCCCCC">alright in the last the last</font><font color="#E5E5E5"> bit I just</font>

661
00:26:05,929 --> 00:26:09,409
called it cloud and I sort of cringed

662
00:26:07,610 --> 00:26:12,908
<font color="#CCCCCC">its use</font><font color="#E5E5E5"> that term but if it's well for</font>

663
00:26:09,409 --> 00:26:12,909
<font color="#CCCCCC">we're talking about here so bear with</font><font color="#E5E5E5"> me</font>

664
00:26:13,659 --> 00:26:20,230
<font color="#CCCCCC">so what</font><font color="#E5E5E5"> we're really talking about here</font>

665
00:26:15,679 --> 00:26:22,549
<font color="#CCCCCC">is</font><font color="#E5E5E5"> organisations</font><font color="#CCCCCC"> we're</font><font color="#E5E5E5"> see most</font><font color="#CCCCCC"> of that</font>

666
00:26:20,230 --> 00:26:24,950
<font color="#E5E5E5">organizations that offload everything to</font>

667
00:26:22,549 --> 00:26:26,418
cloud service providers so I've been

668
00:26:24,950 --> 00:26:28,700
<font color="#E5E5E5">really fortunate in the past year</font><font color="#CCCCCC"> or so</font>

669
00:26:26,419 --> 00:26:31,549
<font color="#E5E5E5">I've had the</font><font color="#CCCCCC"> chance to do</font><font color="#E5E5E5"> pen</font><font color="#CCCCCC"> tests for</font>

670
00:26:28,700 --> 00:26:34,429
several smaller companies some<font color="#E5E5E5"> of them</font>

671
00:26:31,549 --> 00:26:36,080
you might<font color="#CCCCCC"> classify as startups in</font>

672
00:26:34,429 --> 00:26:37,490
comparison to<font color="#CCCCCC"> our standard larger</font>

673
00:26:36,080 --> 00:26:39,678
enterprises<font color="#E5E5E5"> it requires a really</font>

674
00:26:37,490 --> 00:26:42,289
different<font color="#E5E5E5"> approach as far as the</font><font color="#CCCCCC"> the pen</font>

675
00:26:39,679 --> 00:26:43,909
test goes many these<font color="#E5E5E5"> organizations are</font>

676
00:26:42,289 --> 00:26:45,200
in sort<font color="#CCCCCC"> of small offices</font><font color="#E5E5E5"> that have very</font>

677
00:26:43,909 --> 00:26:48,529
little local infrastructure<font color="#E5E5E5"> but have a</font>

678
00:26:45,200 --> 00:26:50,029
<font color="#E5E5E5">very</font><font color="#CCCCCC"> large</font><font color="#E5E5E5"> production networks so the</font>

679
00:26:48,529 --> 00:26:51,020
users are essentially just<font color="#E5E5E5"> connecting</font>

680
00:26:50,029 --> 00:26:54,279
<font color="#CCCCCC">from an office that</font><font color="#E5E5E5"> is more or less</font>

681
00:26:51,020 --> 00:26:56,090
serving as an internet connection point

682
00:26:54,279 --> 00:26:58,760
<font color="#CCCCCC">but they still have</font><font color="#E5E5E5"> to do things like</font>

683
00:26:56,090 --> 00:27:02,649
manage user accounts<font color="#CCCCCC"> email and they do</font>

684
00:26:58,760 --> 00:27:05,690
this by leveraging<font color="#CCCCCC"> third-party providers</font>

685
00:27:02,649 --> 00:27:07,340
and so one of these<font color="#E5E5E5"> ran into recently on</font>

686
00:27:05,690 --> 00:27:11,360
an<font color="#CCCCCC"> internal</font><font color="#E5E5E5"> opponent penetration test</font>

687
00:27:07,340 --> 00:27:13,070
<font color="#E5E5E5">was a single sign-on application and I</font>

688
00:27:11,360 --> 00:27:14,840
think the one<font color="#CCCCCC"> that I'm</font><font color="#E5E5E5"> showing</font><font color="#CCCCCC"> here is</font>

689
00:27:13,070 --> 00:27:18,049
it's called<font color="#E5E5E5"> one</font><font color="#CCCCCC"> logon</font>

690
00:27:14,840 --> 00:27:19,668
or<font color="#CCCCCC"> have</font><font color="#E5E5E5"> one login</font><font color="#CCCCCC"> this</font><font color="#E5E5E5"> is a really great</font>

691
00:27:18,049 --> 00:27:21,440
<font color="#E5E5E5">it's kind</font><font color="#CCCCCC"> of a neat application so the</font>

692
00:27:19,669 --> 00:27:23,990
user logs in one time<font color="#CCCCCC"> and using</font>

693
00:27:21,440 --> 00:27:26,299
something like<font color="#E5E5E5"> a blip Sam will they</font>

694
00:27:23,990 --> 00:27:27,259
provide access<font color="#CCCCCC"> to a dashboard</font><font color="#E5E5E5"> that then</font>

695
00:27:26,299 --> 00:27:29,690
gives you access<font color="#E5E5E5"> to</font><font color="#CCCCCC"> all your</font><font color="#E5E5E5"> other</font>

696
00:27:27,259 --> 00:27:30,799
applications<font color="#CCCCCC"> this is really</font><font color="#E5E5E5"> handy</font><font color="#CCCCCC"> for</font>

697
00:27:29,690 --> 00:27:33,289
<font color="#E5E5E5">your users because</font><font color="#CCCCCC"> they</font><font color="#E5E5E5"> only have to</font><font color="#CCCCCC"> log</font>

698
00:27:30,799 --> 00:27:34,970
<font color="#CCCCCC">in once</font><font color="#E5E5E5"> it's a it's exposed over to the</font>

699
00:27:33,289 --> 00:27:37,789
<font color="#E5E5E5">Internet this is also really great</font><font color="#CCCCCC"> for</font>

700
00:27:34,970 --> 00:27:39,200
<font color="#CCCCCC">bad guys</font><font color="#E5E5E5"> because now we have one login</font>

701
00:27:37,789 --> 00:27:41,870
page<font color="#CCCCCC"> that we like we have to attack as</font>

702
00:27:39,200 --> 00:27:42,980
well so<font color="#CCCCCC"> just real quickly I'm</font><font color="#E5E5E5"> gonna walk</font>

703
00:27:41,870 --> 00:27:45,979
through the attack path that I took<font color="#E5E5E5"> in</font>

704
00:27:42,980 --> 00:27:47,659
this particular scenario<font color="#E5E5E5"> this is an</font>

705
00:27:45,980 --> 00:27:49,990
<font color="#E5E5E5">email header if you can use your</font>

706
00:27:47,659 --> 00:27:53,330
imagination<font color="#CCCCCC"> a</font><font color="#E5E5E5"> little bit on this image</font>

707
00:27:49,990 --> 00:27:54,320
so obviously<font color="#CCCCCC"> in a penetration test when</font>

708
00:27:53,330 --> 00:27:55,970
the first thing I want to<font color="#E5E5E5"> do is some</font>

709
00:27:54,320 --> 00:27:58,369
sort of intelligence gathering gathering

710
00:27:55,970 --> 00:28:00,289
<font color="#E5E5E5">email addresses figure out who their</font>

711
00:27:58,369 --> 00:28:02,029
email provider is which I'm highlighting

712
00:28:00,289 --> 00:28:03,110
in the here<font color="#E5E5E5"> you just take</font><font color="#CCCCCC"> a</font><font color="#E5E5E5"> look at if</font>

713
00:28:02,029 --> 00:28:04,429
<font color="#CCCCCC">you can get somebody</font><font color="#E5E5E5"> from the</font>

714
00:28:03,110 --> 00:28:06,559
organization<font color="#CCCCCC"> to email you just take a</font>

715
00:28:04,429 --> 00:28:09,470
look<font color="#E5E5E5"> at their email header one handy tip</font>

716
00:28:06,559 --> 00:28:11,509
here if you're using<font color="#CCCCCC"> Google Apps the</font>

717
00:28:09,470 --> 00:28:14,509
<font color="#CCCCCC">Gmail login page is a really</font><font color="#E5E5E5"> great place</font>

718
00:28:11,509 --> 00:28:16,549
<font color="#CCCCCC">to vet to validate</font><font color="#E5E5E5"> email addresses</font><font color="#CCCCCC"> so if</font>

719
00:28:14,509 --> 00:28:18,679
I have a list of potential ones I can I

720
00:28:16,549 --> 00:28:20,210
can build<font color="#E5E5E5"> some sort of semi automation</font>

721
00:28:18,679 --> 00:28:22,999
around<font color="#E5E5E5"> checking to see if they're</font><font color="#CCCCCC"> there</font>

722
00:28:20,210 --> 00:28:25,460
<font color="#CCCCCC">really mail addresses</font><font color="#E5E5E5"> so once I have a</font>

723
00:28:22,999 --> 00:28:27,889
list of<font color="#E5E5E5"> of what I believe our email</font>

724
00:28:25,460 --> 00:28:29,659
addresses this is a screenshot from<font color="#E5E5E5"> from</font>

725
00:28:27,889 --> 00:28:31,758
burp suite<font color="#E5E5E5"> which is just running a</font><font color="#CCCCCC"> login</font>

726
00:28:29,659 --> 00:28:32,389
<font color="#E5E5E5">attack using those enumerated email</font>

727
00:28:31,759 --> 00:28:36,019
addresses

728
00:28:32,389 --> 00:28:38,029
once I<font color="#CCCCCC"> get a hit I open up there</font><font color="#E5E5E5"> I can</font>

729
00:28:36,019 --> 00:28:41,629
log<font color="#CCCCCC"> into their one login page</font><font color="#E5E5E5"> as that</font>

730
00:28:38,029 --> 00:28:43,279
user<font color="#E5E5E5"> this is</font><font color="#CCCCCC"> where the sort</font><font color="#E5E5E5"> of privilege</font>

731
00:28:41,629 --> 00:28:44,840
escalation or maybe this<font color="#E5E5E5"> is you think</font><font color="#CCCCCC"> of</font>

732
00:28:43,279 --> 00:28:46,999
this as lateral movement<font color="#E5E5E5"> in terms of the</font>

733
00:28:44,840 --> 00:28:48,918
<font color="#E5E5E5">the penetration test but essentially I'm</font>

734
00:28:46,999 --> 00:28:50,240
<font color="#CCCCCC">just digging for data and depending on</font>

735
00:28:48,919 --> 00:28:52,009
what<font color="#CCCCCC"> kind of applications that</font>

736
00:28:50,240 --> 00:28:54,080
particular user has access to you can

737
00:28:52,009 --> 00:28:56,240
<font color="#CCCCCC">get</font><font color="#E5E5E5"> really creative maybe they have</font>

738
00:28:54,080 --> 00:28:57,949
github is one of the<font color="#E5E5E5"> applications that</font>

739
00:28:56,240 --> 00:29:00,019
<font color="#E5E5E5">might be</font><font color="#CCCCCC"> exposed here</font><font color="#E5E5E5"> which is great</font>

740
00:28:57,950 --> 00:29:03,679
because you'll find source code you'll

741
00:29:00,019 --> 00:29:06,710
find credentials<font color="#CCCCCC"> you'll find API keys in</font>

742
00:29:03,679 --> 00:29:08,299
<font color="#E5E5E5">particular</font><font color="#CCCCCC"> my attack path here was they</font>

743
00:29:06,710 --> 00:29:10,730
were using<font color="#CCCCCC"> AWS but they've you're using</font>

744
00:29:08,299 --> 00:29:12,950
<font color="#CCCCCC">identity manager and</font><font color="#E5E5E5"> and some</font>

745
00:29:10,730 --> 00:29:15,409
multi-factor<font color="#E5E5E5"> but if you had the API key</font>

746
00:29:12,950 --> 00:29:16,789
you<font color="#E5E5E5"> could use the AWS tool to pull down</font>

747
00:29:15,409 --> 00:29:20,090
copies of<font color="#E5E5E5"> things like they're running</font>

748
00:29:16,789 --> 00:29:22,220
<font color="#E5E5E5">you see two instances and store data</font><font color="#CCCCCC"> so</font>

749
00:29:20,090 --> 00:29:24,970
now I have an effective bypass to their

750
00:29:22,220 --> 00:29:24,970
to their multi-factor

751
00:29:25,650 --> 00:29:29,640
and this is just<font color="#E5E5E5"> showing the you know</font>

752
00:29:27,450 --> 00:29:30,900
<font color="#E5E5E5">example of pulling down that that AWS</font>

753
00:29:29,640 --> 00:29:34,500
key that was stored<font color="#E5E5E5"> in one of their</font>

754
00:29:30,900 --> 00:29:36,299
their github repositories and and this

755
00:29:34,500 --> 00:29:39,720
<font color="#E5E5E5">would be success criteria I</font><font color="#CCCCCC"> think in</font>

756
00:29:36,299 --> 00:29:41,760
<font color="#CCCCCC">this situation so just a couple</font><font color="#E5E5E5"> of</font>

757
00:29:39,720 --> 00:29:43,590
thoughts on<font color="#E5E5E5"> this that the</font><font color="#CCCCCC"> balanced view</font>

758
00:29:41,760 --> 00:29:45,750
become very fuzzy<font color="#CCCCCC"> darn</font><font color="#E5E5E5"> hard</font><font color="#CCCCCC"> to define</font>

759
00:29:43,590 --> 00:29:48,330
<font color="#E5E5E5">when an organization is leveraging</font><font color="#CCCCCC"> these</font>

760
00:29:45,750 --> 00:29:50,159
sorts of<font color="#CCCCCC"> technologies if you're</font><font color="#E5E5E5"> relying</font>

761
00:29:48,330 --> 00:29:51,720
on these<font color="#E5E5E5"> services</font><font color="#CCCCCC"> you make</font><font color="#E5E5E5"> sure you're</font>

762
00:29:50,159 --> 00:29:54,659
<font color="#CCCCCC">applying</font><font color="#E5E5E5"> the same rigor</font><font color="#CCCCCC"> to separating</font>

763
00:29:51,720 --> 00:29:55,890
zones<font color="#CCCCCC"> you would and the more like just</font>

764
00:29:54,659 --> 00:29:58,110
<font color="#E5E5E5">like in a more traditional enterprise</font>

765
00:29:55,890 --> 00:29:59,730
network<font color="#E5E5E5"> be very aware of where</font><font color="#CCCCCC"> that</font>

766
00:29:58,110 --> 00:30:03,059
authentication boundary is if you're

767
00:29:59,730 --> 00:30:06,150
exposing<font color="#E5E5E5"> it to the Internet all right so</font>

768
00:30:03,059 --> 00:30:09,780
<font color="#E5E5E5">just to</font><font color="#CCCCCC"> wrap up</font><font color="#E5E5E5"> I have a couple of</font><font color="#CCCCCC"> sure</font>

769
00:30:06,150 --> 00:30:11,850
design concepts the first one that I

770
00:30:09,780 --> 00:30:14,100
<font color="#CCCCCC">mentioned briefly</font><font color="#E5E5E5"> before is the clean</font>

771
00:30:11,850 --> 00:30:16,110
source principle there's a sort of

772
00:30:14,100 --> 00:30:17,789
<font color="#E5E5E5">long-winded technical explanation that</font>

773
00:30:16,110 --> 00:30:19,889
<font color="#E5E5E5">you can get from Microsoft if you if you</font>

774
00:30:17,789 --> 00:30:22,650
want to go google<font color="#E5E5E5"> it but the sort of</font>

775
00:30:19,890 --> 00:30:24,659
<font color="#E5E5E5">shorter version is if an adversary can</font>

776
00:30:22,650 --> 00:30:26,909
<font color="#E5E5E5">control anything that's an effective</font>

777
00:30:24,659 --> 00:30:28,890
control<font color="#CCCCCC"> of a target object</font><font color="#E5E5E5"> they control</font>

778
00:30:26,909 --> 00:30:31,049
that target object because of<font color="#CCCCCC"> this you</font>

779
00:30:28,890 --> 00:30:33,679
<font color="#E5E5E5">have</font><font color="#CCCCCC"> to ensure that the assurances for</font>

780
00:30:31,049 --> 00:30:35,850
all dependencies are at or<font color="#E5E5E5"> above the</font>

781
00:30:33,679 --> 00:30:39,419
desired<font color="#E5E5E5"> security level of the object</font>

782
00:30:35,850 --> 00:30:41,370
that<font color="#CCCCCC"> you're trying to to take</font><font color="#E5E5E5"> care of in</font>

783
00:30:39,419 --> 00:30:42,809
practice it basically is an<font color="#E5E5E5"> attacker</font>

784
00:30:41,370 --> 00:30:45,689
control of an operating<font color="#E5E5E5"> system has</font>

785
00:30:42,809 --> 00:30:47,240
numerous ways to<font color="#CCCCCC"> illicitly</font><font color="#E5E5E5"> gain access</font>

786
00:30:45,690 --> 00:30:50,070
<font color="#E5E5E5">to all the activity on that workstation</font>

787
00:30:47,240 --> 00:30:52,350
<font color="#CCCCCC">do things like impersonate</font><font color="#E5E5E5"> legitimate</font>

788
00:30:50,070 --> 00:30:54,000
user accounts practically<font color="#E5E5E5"> for me this</font>

789
00:30:52,350 --> 00:30:55,350
<font color="#E5E5E5">means that if an attacker controls the</font>

790
00:30:54,000 --> 00:30:57,720
<font color="#E5E5E5">system they control any system</font><font color="#CCCCCC"> that</font>

791
00:30:55,350 --> 00:30:59,399
system<font color="#E5E5E5"> is controlling this is simple in</font>

792
00:30:57,720 --> 00:31:01,260
principle<font color="#CCCCCC"> but</font><font color="#E5E5E5"> I think applying this</font>

793
00:30:59,400 --> 00:31:03,630
requires a<font color="#E5E5E5"> pretty in-depth understanding</font>

794
00:31:01,260 --> 00:31:05,700
of all of<font color="#CCCCCC"> the control relationships of</font>

795
00:31:03,630 --> 00:31:07,110
an asset which I think anybody<font color="#E5E5E5"> who's</font>

796
00:31:05,700 --> 00:31:08,549
ever managed<font color="#E5E5E5"> Windows</font><font color="#CCCCCC"> network can tell</font>

797
00:31:07,110 --> 00:31:12,658
you that that's a<font color="#CCCCCC"> they can get</font><font color="#E5E5E5"> pretty</font>

798
00:31:08,549 --> 00:31:14,129
hairy so that the modern threat

799
00:31:12,659 --> 00:31:16,200
environment requires<font color="#E5E5E5"> the organization's</font>

800
00:31:14,130 --> 00:31:17,730
<font color="#E5E5E5">adopt this</font><font color="#CCCCCC"> assume breach</font><font color="#E5E5E5"> security</font>

801
00:31:16,200 --> 00:31:19,890
posture when designing protections<font color="#E5E5E5"> for</font>

802
00:31:17,730 --> 00:31:21,179
<font color="#CCCCCC">high-value</font><font color="#E5E5E5"> assets when we approach to</font>

803
00:31:19,890 --> 00:31:22,500
some<font color="#E5E5E5"> security from their perspective</font>

804
00:31:21,179 --> 00:31:23,940
that we're already compromised

805
00:31:22,500 --> 00:31:26,880
we just haven't<font color="#E5E5E5"> discovered that</font>

806
00:31:23,940 --> 00:31:30,179
<font color="#CCCCCC">compromise you</font><font color="#E5E5E5"> always consider</font><font color="#CCCCCC"> the</font>

807
00:31:26,880 --> 00:31:32,700
ramifications<font color="#E5E5E5"> from the perspective of</font>

808
00:31:30,179 --> 00:31:34,440
the privileged users and workstations<font color="#E5E5E5"> so</font>

809
00:31:32,700 --> 00:31:36,240
if you've logged<font color="#CCCCCC"> into a user's</font>

810
00:31:34,440 --> 00:31:38,100
workstation with domain<font color="#CCCCCC"> admin</font><font color="#E5E5E5"> threads</font>

811
00:31:36,240 --> 00:31:38,700
then an attacker has compromised that

812
00:31:38,100 --> 00:31:40,830
system

813
00:31:38,700 --> 00:31:43,230
you've created a<font color="#CCCCCC"> potential for those</font>

814
00:31:40,830 --> 00:31:44,850
credentials<font color="#E5E5E5"> to be stolen</font><font color="#CCCCCC"> so the question</font>

815
00:31:43,230 --> 00:31:46,529
I<font color="#E5E5E5"> think you have to ask is can someone</font>

816
00:31:44,850 --> 00:31:49,080
leverage those<font color="#E5E5E5"> credentials then to gain</font>

817
00:31:46,529 --> 00:31:53,460
access to some resource that I wouldn't

818
00:31:49,080 --> 00:31:57,509
<font color="#E5E5E5">want</font><font color="#CCCCCC"> them to</font><font color="#E5E5E5"> be able to consider any</font>

819
00:31:53,460 --> 00:31:59,669
systems that have high<font color="#CCCCCC"> by the access</font>

820
00:31:57,509 --> 00:32:01,799
<font color="#CCCCCC">high value assets as a special class of</font>

821
00:31:59,669 --> 00:32:03,809
<font color="#E5E5E5">system so you</font><font color="#CCCCCC"> can</font><font color="#E5E5E5"> avoid cross</font>

822
00:32:01,799 --> 00:32:06,509
contaminating access privileges<font color="#E5E5E5"> and</font>

823
00:32:03,809 --> 00:32:08,789
zones<font color="#E5E5E5"> one way you might go about this</font>

824
00:32:06,509 --> 00:32:10,559
provide a high security workstation for

825
00:32:08,789 --> 00:32:11,999
privileged users<font color="#E5E5E5"> this could be a</font>

826
00:32:10,559 --> 00:32:14,309
separate physical<font color="#E5E5E5"> machine like I</font>

827
00:32:11,999 --> 00:32:16,320
mentioned<font color="#E5E5E5"> earlier</font><font color="#CCCCCC"> one</font><font color="#E5E5E5"> other thing you</font><font color="#CCCCCC"> do</font>

828
00:32:14,309 --> 00:32:18,690
is leverage virtualization<font color="#E5E5E5"> we also</font>

829
00:32:16,320 --> 00:32:20,070
talked a little bit about<font color="#E5E5E5"> that I think</font>

830
00:32:18,690 --> 00:32:22,080
in<font color="#E5E5E5"> the case</font><font color="#CCCCCC"> of virtualization</font><font color="#E5E5E5"> it's also</font>

831
00:32:20,070 --> 00:32:23,970
important<font color="#E5E5E5"> to</font><font color="#CCCCCC"> think about we're never</font>

832
00:32:22,080 --> 00:32:25,678
logging into<font color="#E5E5E5"> the lower security system</font>

833
00:32:23,970 --> 00:32:27,720
to access<font color="#CCCCCC"> our higher security</font><font color="#E5E5E5"> system</font>

834
00:32:25,679 --> 00:32:30,330
because then<font color="#CCCCCC"> we have</font><font color="#E5E5E5"> cross-contaminated</font>

835
00:32:27,720 --> 00:32:34,259
and we're no longer<font color="#E5E5E5"> a clean of in terms</font>

836
00:32:30,330 --> 00:32:36,590
of source<font color="#CCCCCC"> administrative</font><font color="#E5E5E5"> privileges the</font>

837
00:32:34,259 --> 00:32:38,669
security of<font color="#E5E5E5"> most are all businesses</font><font color="#CCCCCC"> a</font>

838
00:32:36,590 --> 00:32:40,199
business assets and<font color="#E5E5E5"> an organization</font>

839
00:32:38,669 --> 00:32:41,789
depends on the integrity<font color="#CCCCCC"> of the</font>

840
00:32:40,200 --> 00:32:44,070
<font color="#CCCCCC">privileges accounts that administer and</font>

841
00:32:41,789 --> 00:32:45,899
<font color="#CCCCCC">managed IT systems so securing</font>

842
00:32:44,070 --> 00:32:49,259
privileged<font color="#CCCCCC"> access is a critical step to</font>

843
00:32:45,899 --> 00:32:50,580
<font color="#E5E5E5">establishing security lots of admin</font>

844
00:32:49,259 --> 00:32:52,230
credentials and admin<font color="#E5E5E5"> credential</font><font color="#CCCCCC"> used</font>

845
00:32:50,580 --> 00:32:54,269
means lots of<font color="#E5E5E5"> chances for</font><font color="#CCCCCC"> an attacker</font><font color="#E5E5E5"> to</font>

846
00:32:52,230 --> 00:32:55,499
capture those<font color="#CCCCCC"> pillage accounts know</font>

847
00:32:54,269 --> 00:32:58,619
where your administrative privileges are

848
00:32:55,499 --> 00:33:00,690
being used<font color="#E5E5E5"> limit role privileges to the</font>

849
00:32:58,619 --> 00:33:03,658
minimum required<font color="#CCCCCC"> I know that's sort</font><font color="#E5E5E5"> of</font>

850
00:33:00,690 --> 00:33:05,580
like security<font color="#E5E5E5"> day 101 but it's seems</font>

851
00:33:03,659 --> 00:33:06,720
like<font color="#E5E5E5"> it's rarely implemented</font><font color="#CCCCCC"> limit the</font>

852
00:33:05,580 --> 00:33:08,519
<font color="#E5E5E5">number of hosts on which the</font><font color="#CCCCCC"> Ministry of</font>

853
00:33:06,720 --> 00:33:09,840
credentials are exposed<font color="#E5E5E5"> and ensure</font>

854
00:33:08,519 --> 00:33:11,519
administrative tasks<font color="#E5E5E5"> are not performed</font>

855
00:33:09,840 --> 00:33:13,470
on a<font color="#E5E5E5"> host they're using used for</font>

856
00:33:11,519 --> 00:33:18,989
standard activities like email<font color="#CCCCCC"> and web</font>

857
00:33:13,470 --> 00:33:21,090
<font color="#E5E5E5">browsing poking holes to your high-value</font>

858
00:33:18,989 --> 00:33:22,830
assets<font color="#E5E5E5"> another critical piece</font><font color="#CCCCCC"> to</font>

859
00:33:21,090 --> 00:33:25,139
<font color="#CCCCCC">consider in any design is the complexity</font>

860
00:33:22,830 --> 00:33:26,580
<font color="#CCCCCC">of</font><font color="#E5E5E5"> Management juggling the demands of</font>

861
00:33:25,139 --> 00:33:29,879
environments can<font color="#CCCCCC"> be a</font><font color="#E5E5E5"> massive challenge</font>

862
00:33:26,580 --> 00:33:31,080
<font color="#E5E5E5">so the lot</font><font color="#CCCCCC"> of the flaws or us maybe even</font>

863
00:33:29,879 --> 00:33:33,269
most<font color="#CCCCCC"> of</font><font color="#E5E5E5"> the flaws that I find during a</font>

864
00:33:31,080 --> 00:33:34,439
pen test<font color="#E5E5E5"> tie back to this one changed I</font>

865
00:33:33,269 --> 00:33:35,879
made this one time from<font color="#E5E5E5"> that one guy in</font>

866
00:33:34,440 --> 00:33:37,049
<font color="#E5E5E5">marketing and then we never put back</font>

867
00:33:35,879 --> 00:33:40,019
because we forgot<font color="#CCCCCC"> and we didn't have a</font>

868
00:33:37,049 --> 00:33:42,539
change<font color="#E5E5E5"> request</font><font color="#CCCCCC"> in place so those</font>

869
00:33:40,019 --> 00:33:44,039
exceptions add up<font color="#E5E5E5"> and bad guys part of</font>

870
00:33:42,539 --> 00:33:45,720
<font color="#E5E5E5">the bad guys</font><font color="#CCCCCC"> skillset is finding those</font>

871
00:33:44,039 --> 00:33:47,239
holes<font color="#CCCCCC"> so if</font><font color="#E5E5E5"> there there's</font><font color="#CCCCCC"> a</font><font color="#E5E5E5"> good chance</font>

872
00:33:45,720 --> 00:33:49,409
<font color="#E5E5E5">that they're gonna be</font><font color="#CCCCCC"> able</font><font color="#E5E5E5"> to find them</font>

873
00:33:47,239 --> 00:33:51,770
create strictly<font color="#E5E5E5"> defined programmatic</font>

874
00:33:49,409 --> 00:33:53,480
methods for managing<font color="#E5E5E5"> system</font>

875
00:33:51,770 --> 00:33:55,190
systems and service configurations

876
00:33:53,480 --> 00:33:57,260
ensure that<font color="#E5E5E5"> even if you change</font><font color="#CCCCCC"> something</font>

877
00:33:55,190 --> 00:33:59,090
<font color="#CCCCCC">to some configuration you know</font><font color="#E5E5E5"> it's less</font>

878
00:33:57,260 --> 00:34:00,379
secure<font color="#E5E5E5"> there's something that's built</font><font color="#CCCCCC"> in</font>

879
00:33:59,090 --> 00:34:03,050
<font color="#CCCCCC">to automatically</font><font color="#E5E5E5"> put it back to the way</font>

880
00:34:00,380 --> 00:34:05,570
that<font color="#E5E5E5"> you think it</font><font color="#CCCCCC"> should be</font><font color="#E5E5E5"> one one way</font>

881
00:34:03,050 --> 00:34:08,840
I've had<font color="#CCCCCC"> this described to me</font><font color="#E5E5E5"> is the</font>

882
00:34:05,570 --> 00:34:10,730
DevOps approach to security<font color="#E5E5E5"> which I know</font>

883
00:34:08,840 --> 00:34:13,160
pops is kind<font color="#CCCCCC"> of</font><font color="#E5E5E5"> just a</font><font color="#CCCCCC"> buzzword but I</font>

884
00:34:10,730 --> 00:34:14,840
think that the idea<font color="#E5E5E5"> works well here we</font>

885
00:34:13,159 --> 00:34:16,790
want to<font color="#CCCCCC"> have some sort</font><font color="#E5E5E5"> of</font><font color="#CCCCCC"> Pro Matic</font>

886
00:34:14,840 --> 00:34:21,110
programmatic way<font color="#E5E5E5"> for managing security</font>

887
00:34:16,790 --> 00:34:23,509
changes so just<font color="#CCCCCC"> wrapping up my</font><font color="#E5E5E5"> goals</font>

888
00:34:21,110 --> 00:34:24,830
here today were to<font color="#E5E5E5"> prevent some a couple</font>

889
00:34:23,510 --> 00:34:27,050
<font color="#CCCCCC">of</font><font color="#E5E5E5"> security architectures that</font><font color="#CCCCCC"> I think</font>

890
00:34:24,830 --> 00:34:28,639
are very<font color="#E5E5E5"> common but give you the bag a</font>

891
00:34:27,050 --> 00:34:30,440
perspective<font color="#E5E5E5"> on those architectures and</font>

892
00:34:28,639 --> 00:34:32,029
get a little<font color="#CCCCCC"> good little</font><font color="#E5E5E5"> insight I've</font>

893
00:34:30,440 --> 00:34:34,670
gained from trying to<font color="#E5E5E5"> get past the</font>

894
00:34:32,030 --> 00:34:37,070
security<font color="#E5E5E5"> implementations</font><font color="#CCCCCC"> I know a couple</font>

895
00:34:34,670 --> 00:34:38,450
<font color="#E5E5E5">of shortcomings of the talk or the</font>

896
00:34:37,070 --> 00:34:39,830
<font color="#E5E5E5">reality</font><font color="#CCCCCC"> of any of these implementations</font>

897
00:34:38,449 --> 00:34:41,540
is far more complex<font color="#CCCCCC"> than anything I've</font>

898
00:34:39,830 --> 00:34:43,340
talked about here and and I understand

899
00:34:41,540 --> 00:34:45,860
<font color="#E5E5E5">that but I still think that the the</font>

900
00:34:43,340 --> 00:34:47,300
concepts apply well<font color="#E5E5E5"> and I think that</font>

901
00:34:45,860 --> 00:34:48,830
there's a lot<font color="#CCCCCC"> of depth that could be</font>

902
00:34:47,300 --> 00:34:50,540
<font color="#E5E5E5">taken for any single</font><font color="#CCCCCC"> one of</font><font color="#E5E5E5"> these topics</font>

903
00:34:48,830 --> 00:34:54,469
<font color="#E5E5E5">and maybe</font><font color="#CCCCCC"> even you</font><font color="#E5E5E5"> can you could write</font>

904
00:34:50,540 --> 00:34:56,690
out<font color="#CCCCCC"> a whole book about some of them and</font>

905
00:34:54,469 --> 00:34:59,180
before I jump new questions<font color="#E5E5E5"> I really</font>

906
00:34:56,690 --> 00:35:00,650
enjoy doing<font color="#CCCCCC"> the things like like besides</font>

907
00:34:59,180 --> 00:35:02,270
because I get to meet lots<font color="#CCCCCC"> of people</font><font color="#E5E5E5"> and</font>

908
00:35:00,650 --> 00:35:03,980
<font color="#CCCCCC">usually the conversations</font><font color="#E5E5E5"> I have to have</font>

909
00:35:02,270 --> 00:35:06,020
the people afterwards<font color="#E5E5E5"> I learned lots of</font>

910
00:35:03,980 --> 00:35:08,440
interesting interesting<font color="#E5E5E5"> things please</font>

911
00:35:06,020 --> 00:35:11,150
<font color="#E5E5E5">come talk to me afterwards look me up</font>

912
00:35:08,440 --> 00:35:12,830
<font color="#CCCCCC">send me an email and</font><font color="#E5E5E5"> look me up on</font>

913
00:35:11,150 --> 00:35:17,320
Twitter I'm always happy to connect<font color="#CCCCCC"> with</font>

914
00:35:12,830 --> 00:35:17,319
everybody<font color="#E5E5E5"> any questions</font>

915
00:35:18,660 --> 00:35:22,250
cool<font color="#CCCCCC"> alright thank you everybody</font>

