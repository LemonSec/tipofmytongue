1
00:00:14,270 --> 00:00:19,110
Benedict you're poor I am currently

2
00:00:16,680 --> 00:00:20,310
working at hacker one prior to working

3
00:00:19,110 --> 00:00:22,980
on how come when I was actually one of

4
00:00:20,310 --> 00:00:24,598
the hackers on the platform so I kind of

5
00:00:22,980 --> 00:00:26,849
made my way through the work for the

6
00:00:24,599 --> 00:00:30,000
company at one point I have something

7
00:00:26,849 --> 00:00:32,610
about 600 varieties on hacker one to

8
00:00:30,000 --> 00:00:34,980
about a hundred programs my favorite

9
00:00:32,610 --> 00:00:35,760
ones are Airbnb which I will talk about

10
00:00:34,980 --> 00:00:38,300
a little bit

11
00:00:35,760 --> 00:00:40,739
DoD which wall not talked about at all

12
00:00:38,300 --> 00:00:42,780
Yahoo snapchat valve and a bunch of

13
00:00:40,739 --> 00:00:45,449
other ones I've also created this

14
00:00:42,780 --> 00:00:46,560
community called bug pony forum if

15
00:00:45,450 --> 00:00:47,970
you're interested in learning about bug

16
00:00:46,560 --> 00:00:49,350
bounties how to get started

17
00:00:47,970 --> 00:00:51,570
read some about hay maze with some of

18
00:00:49,350 --> 00:00:53,040
the top hackers in the community I was

19
00:00:51,570 --> 00:00:56,400
just going to bug Ronnie for him calm

20
00:00:53,040 --> 00:00:58,430
we're just going on Twitter and stuff we

21
00:00:56,400 --> 00:01:00,600
post to go about Bob Bonney forum was

22
00:00:58,430 --> 00:01:02,910
there was four of us originally called

23
00:01:00,600 --> 00:01:04,170
the alcoholics that was our group we

24
00:01:02,910 --> 00:01:06,720
would just drink beer and hack together

25
00:01:04,170 --> 00:01:08,130
on skype and it eventually got out of

26
00:01:06,720 --> 00:01:09,479
control and we saw there was a hundred

27
00:01:08,130 --> 00:01:12,179
people on our skype channel that we

28
00:01:09,479 --> 00:01:14,908
didn't know about and yeah I got kind of

29
00:01:12,180 --> 00:01:16,829
dangerous so we made a slack channel

30
00:01:14,909 --> 00:01:18,450
which is kind of private but if you're

31
00:01:16,829 --> 00:01:20,609
in a community would love to have you on

32
00:01:18,450 --> 00:01:21,960
board but a lot of the content we put on

33
00:01:20,609 --> 00:01:23,548
it was the idea was how do we

34
00:01:21,960 --> 00:01:26,399
collaborate how do we enable hackers to

35
00:01:23,549 --> 00:01:27,210
collaborate together and other platform

36
00:01:26,399 --> 00:01:29,549
for people to talk to each other

37
00:01:27,210 --> 00:01:31,318
directly without it being on Twitter and

38
00:01:29,549 --> 00:01:33,030
how can we help people get started in

39
00:01:31,319 --> 00:01:35,130
hacking so that's how the entire idea of

40
00:01:33,030 --> 00:01:36,630
building a community started and then

41
00:01:35,130 --> 00:01:38,189
taking it a step further we started

42
00:01:36,630 --> 00:01:40,289
doing talks so I do this talk about

43
00:01:38,189 --> 00:01:42,508
recon it's one of the things that I try

44
00:01:40,289 --> 00:01:43,709
to get better out on a yearly basis I

45
00:01:42,509 --> 00:01:46,560
try to set a goal and get better at

46
00:01:43,709 --> 00:01:49,259
topic so a lot of its gonna be focused

47
00:01:46,560 --> 00:01:51,030
on recon but before I get started I just

48
00:01:49,259 --> 00:01:53,869
kind of want to see how many of you guys

49
00:01:51,030 --> 00:01:57,119
here don't know what a bug bounty is oh

50
00:01:53,869 --> 00:01:58,409
I love this okay perfect I don't have to

51
00:01:57,119 --> 00:01:59,759
worry about explain what a bug bounty is

52
00:01:58,409 --> 00:02:01,319
and I'm not here to do a sales pitch by

53
00:01:59,759 --> 00:02:02,639
the way I'm just gonna show you talk

54
00:02:01,319 --> 00:02:05,759
about hacking and some other things that

55
00:02:02,639 --> 00:02:07,259
I've found it's a little overview we'll

56
00:02:05,759 --> 00:02:08,250
talk about what I'm gonna be doing we'll

57
00:02:07,259 --> 00:02:10,380
go and talk about asset discovery

58
00:02:08,250 --> 00:02:11,970
content discovery we're gonna do some

59
00:02:10,380 --> 00:02:13,349
automation and then I like doing

60
00:02:11,970 --> 00:02:14,730
dumpster diving a lot it's been one of

61
00:02:13,349 --> 00:02:16,560
my favorite things lately especially

62
00:02:14,730 --> 00:02:18,269
when it's online and then we'll talk

63
00:02:16,560 --> 00:02:19,709
about some real life examples of how

64
00:02:18,270 --> 00:02:21,510
I've done all of these and I've got some

65
00:02:19,709 --> 00:02:23,100
really cool bounties or some other

66
00:02:21,510 --> 00:02:27,450
people on hacker one who have done it as

67
00:02:23,100 --> 00:02:27,840
well if you guys do see a piece of code

68
00:02:27,450 --> 00:02:29,790
that you

69
00:02:27,840 --> 00:02:31,739
want to take a note don't worry about it

70
00:02:29,790 --> 00:02:33,390
everything is on my github so I'm gonna

71
00:02:31,739 --> 00:02:35,340
wrap up with tools that I have used or I

72
00:02:33,390 --> 00:02:36,750
created everything is on my github don't

73
00:02:35,340 --> 00:02:38,640
worry about taking any notes just if you

74
00:02:36,750 --> 00:02:39,840
wanna take pictures go for it about I

75
00:02:38,640 --> 00:02:41,429
want you guys to be focused on taking

76
00:02:39,840 --> 00:02:42,750
notes or whatever so everything is going

77
00:02:41,430 --> 00:02:44,849
to go on github they I think they're

78
00:02:42,750 --> 00:02:47,879
recording this will be on YouTube so

79
00:02:44,849 --> 00:02:49,890
just enjoy the content so I personally

80
00:02:47,879 --> 00:02:52,890
do bug bounties for self-improvement

81
00:02:49,890 --> 00:02:54,149
four years ago I was in college not

82
00:02:52,890 --> 00:02:56,819
knowing what I'm gonna do with my CS

83
00:02:54,150 --> 00:02:58,349
degree if you have been to a small State

84
00:02:56,819 --> 00:03:02,280
University you know your degree isn't

85
00:02:58,349 --> 00:03:03,238
really going to take you that far if you

86
00:03:02,280 --> 00:03:05,069
rely on it

87
00:03:03,239 --> 00:03:06,480
bread nicely you don't get the

88
00:03:05,069 --> 00:03:08,510
experience so I roamed around my

89
00:03:06,480 --> 00:03:12,599
hallways of Sacramento State University

90
00:03:08,510 --> 00:03:14,370
not knowing what I wanted to do and here

91
00:03:12,599 --> 00:03:16,319
comes bug bounties I gave me an option

92
00:03:14,370 --> 00:03:18,480
to do something I liked so I pretty much

93
00:03:16,319 --> 00:03:20,609
went out of the year of college senior

94
00:03:18,480 --> 00:03:21,840
year I became a fifth year in a 6-year

95
00:03:20,610 --> 00:03:23,940
because I was focused on doing bug

96
00:03:21,840 --> 00:03:25,560
bounties but at the end of the day it

97
00:03:23,940 --> 00:03:26,790
helped me do a lot of things so the

98
00:03:25,560 --> 00:03:29,700
South improvement mount was the best

99
00:03:26,790 --> 00:03:31,170
thing networking was the biggest one I

100
00:03:29,700 --> 00:03:33,388
got my first object job by just

101
00:03:31,170 --> 00:03:36,480
submitting a bug to Hulu and then a year

102
00:03:33,389 --> 00:03:38,730
later exactly I reached out to Eric who

103
00:03:36,480 --> 00:03:40,138
is a OPSEC lead at Hulu I was like hey

104
00:03:38,730 --> 00:03:40,709
I'm looking for a job are you guys

105
00:03:40,139 --> 00:03:43,049
hiring

106
00:03:40,709 --> 00:03:44,730
and in about a week or two I was hired

107
00:03:43,049 --> 00:03:45,989
by them just because that interaction

108
00:03:44,730 --> 00:03:47,040
through their bug bounty program and

109
00:03:45,989 --> 00:03:49,260
back then there was a mid bug bounty

110
00:03:47,040 --> 00:03:50,910
program they just had a phone disclosure

111
00:03:49,260 --> 00:03:52,078
over to say hey give us your bugs would

112
00:03:50,910 --> 00:03:55,859
want to show you we won't call the cops

113
00:03:52,079 --> 00:03:57,720
and I did and I worked out for me so

114
00:03:55,859 --> 00:04:01,169
yeah I built my entire career based on

115
00:03:57,720 --> 00:04:02,790
doing bug bounties I didn't do anything

116
00:04:01,169 --> 00:04:04,950
other than bug bounties for the past

117
00:04:02,790 --> 00:04:06,989
four years so I'm pretty locked down on

118
00:04:04,950 --> 00:04:10,470
making my career out of this so in ten

119
00:04:06,989 --> 00:04:12,359
years we'll see where I end up also I do

120
00:04:10,470 --> 00:04:13,829
a lot of comm there's also a competition

121
00:04:12,359 --> 00:04:16,289
part about this bug bounty things we

122
00:04:13,829 --> 00:04:17,789
have leaderboards my buddy and I yes

123
00:04:16,289 --> 00:04:20,190
scene we'd like to talk a lot of to

124
00:04:17,789 --> 00:04:23,610
each other so what every time he passes

125
00:04:20,190 --> 00:04:26,310
me one time he passes me we start

126
00:04:23,610 --> 00:04:27,990
talking crap and then we go we go as far

127
00:04:26,310 --> 00:04:30,120
as going on Facebook and Instagram and

128
00:04:27,990 --> 00:04:31,470
you know clowning each other so it makes

129
00:04:30,120 --> 00:04:33,630
it a little fun it's not always about

130
00:04:31,470 --> 00:04:34,979
you know hacking it's also building

131
00:04:33,630 --> 00:04:37,409
those relationships I'd you know I've

132
00:04:34,979 --> 00:04:38,580
never met the guy until a year ago but

133
00:04:37,409 --> 00:04:41,020
we've been talking crap to each other

134
00:04:38,580 --> 00:04:43,099
for two years now

135
00:04:41,020 --> 00:04:45,438
also who doesn't like to make it Akash

136
00:04:43,099 --> 00:04:47,869
right at the end of the day you can make

137
00:04:45,439 --> 00:04:49,369
a very large amount of money I don't

138
00:04:47,869 --> 00:04:51,379
mean to say this that I do make more

139
00:04:49,369 --> 00:04:53,659
money hacking than my job but in some

140
00:04:51,379 --> 00:04:54,709
cases I may be able to do that if they

141
00:04:53,659 --> 00:04:56,688
realize some of these companies are

142
00:04:54,709 --> 00:04:58,069
paying up to 15k or maybe in case of

143
00:04:56,689 --> 00:05:01,339
Intel they're paying a hundred K for a

144
00:04:58,069 --> 00:05:04,279
bug so if you get 100k bug that's about

145
00:05:01,339 --> 00:05:05,929
a salary an hour a day so your major

146
00:05:04,279 --> 00:05:07,639
entire year's worth in one night right

147
00:05:05,929 --> 00:05:12,498
but there's a lot of time and dedication

148
00:05:07,639 --> 00:05:14,869
and all the work so recon recon is a

149
00:05:12,499 --> 00:05:16,189
definition it's a military term you want

150
00:05:14,869 --> 00:05:17,719
to know what's going on house are your

151
00:05:16,189 --> 00:05:20,509
friendly zone right you want to know

152
00:05:17,719 --> 00:05:22,519
what who owns what what do they have how

153
00:05:20,509 --> 00:05:24,649
can you get into those non friendly

154
00:05:22,519 --> 00:05:25,669
environments it's the same thing with

155
00:05:24,649 --> 00:05:28,009
hacking you won't understand the

156
00:05:25,669 --> 00:05:30,769
application works you want to find every

157
00:05:28,009 --> 00:05:32,599
entry point possible for this app I also

158
00:05:30,769 --> 00:05:35,539
want to find as many files and folders

159
00:05:32,599 --> 00:05:36,558
and endpoints as you can but this gets

160
00:05:35,539 --> 00:05:38,839
hard some of these companies like

161
00:05:36,559 --> 00:05:40,879
example Yahoo has 2,000 subdomains

162
00:05:38,839 --> 00:05:41,959
anymore how do you keep all that right

163
00:05:40,879 --> 00:05:46,309
how do you go out for such a large

164
00:05:41,959 --> 00:05:48,740
company and a lot of us especially NAAFI

165
00:05:46,309 --> 00:05:50,689
we spend a lot more time on doing recon

166
00:05:48,740 --> 00:05:52,129
than anything else because it's been a

167
00:05:50,689 --> 00:05:53,719
process when you have to actually enjoy

168
00:05:52,129 --> 00:05:56,269
doing build your own process around it

169
00:05:53,719 --> 00:05:57,439
build your own methodology and it gets

170
00:05:56,269 --> 00:05:58,879
very fun because you find some really

171
00:05:57,439 --> 00:06:02,629
crazy stuff it might not be even a bug

172
00:05:58,879 --> 00:06:03,919
but you go what did I just look at and

173
00:06:02,629 --> 00:06:05,300
that's at the end of the day this is all

174
00:06:03,919 --> 00:06:07,609
because we're all humans right we all

175
00:06:05,300 --> 00:06:10,009
make errors we're all leak our passwords

176
00:06:07,610 --> 00:06:11,569
on github at some point it happens but

177
00:06:10,009 --> 00:06:15,079
this is what makes tweakin fun for a lot

178
00:06:11,569 --> 00:06:17,719
of us so for today's discussion this is

179
00:06:15,079 --> 00:06:19,909
kind of a overview of what I'll be

180
00:06:17,719 --> 00:06:21,469
talking about I'll talk about recon

181
00:06:19,909 --> 00:06:23,389
through asset discovery then you can do

182
00:06:21,469 --> 00:06:24,949
the same thing with ascent and then you

183
00:06:23,389 --> 00:06:28,699
talk about vendor services and how we

184
00:06:24,949 --> 00:06:30,949
can dumpster-dive online so yeah let's

185
00:06:28,699 --> 00:06:32,179
get started so on the first part of it

186
00:06:30,949 --> 00:06:34,099
is asset discovery will talk about

187
00:06:32,179 --> 00:06:36,888
subdomain brute force and certificate

188
00:06:34,099 --> 00:06:38,990
transparency the supplement discovery

189
00:06:36,889 --> 00:06:40,219
part is literally a brute force you give

190
00:06:38,990 --> 00:06:41,959
it you use one of these tools on the

191
00:06:40,219 --> 00:06:43,699
right hand side you say hey here's a

192
00:06:41,959 --> 00:06:45,169
list of words I have throw it before the

193
00:06:43,699 --> 00:06:46,490
domain and see how many of these come

194
00:06:45,169 --> 00:06:49,219
back and how many of them alive with the

195
00:06:46,490 --> 00:06:50,930
subdomain cool that works but then you

196
00:06:49,219 --> 00:06:52,260
find other environments like you find

197
00:06:50,930 --> 00:06:55,170
their corporate domain

198
00:06:52,260 --> 00:06:57,900
Quartzsite calm that maybe have a

199
00:06:55,170 --> 00:06:59,250
stateside UAT whatever that domain is or

200
00:06:57,900 --> 00:07:00,659
that environment is you find those

201
00:06:59,250 --> 00:07:02,010
environments and you go after it because

202
00:07:00,660 --> 00:07:03,840
those are the juicy ones like a

203
00:07:02,010 --> 00:07:05,940
corporate side it's probably juicier

204
00:07:03,840 --> 00:07:07,200
than a dev site and also the dev site is

205
00:07:05,940 --> 00:07:09,510
probably better than the product side or

206
00:07:07,200 --> 00:07:11,340
the proud site because there's less

207
00:07:09,510 --> 00:07:14,880
restriction restriction on those sites

208
00:07:11,340 --> 00:07:16,049
and new functionality and other things

209
00:07:14,880 --> 00:07:17,790
you can find on these different sites

210
00:07:16,050 --> 00:07:19,230
right so you want to go after those and

211
00:07:17,790 --> 00:07:20,970
what I mean by the different environment

212
00:07:19,230 --> 00:07:24,600
is you can literally just be something

213
00:07:20,970 --> 00:07:28,470
like - dashboard dev site calm or in

214
00:07:24,600 --> 00:07:29,940
some cases could just be dashboard - dev

215
00:07:28,470 --> 00:07:32,430
site calm so you want to find out how

216
00:07:29,940 --> 00:07:33,690
this site is my hardest company isn't

217
00:07:32,430 --> 00:07:35,670
creating all these different subdomains

218
00:07:33,690 --> 00:07:37,469
find that pattern and go after every

219
00:07:35,670 --> 00:07:40,350
single subdomain if they're in the scope

220
00:07:37,470 --> 00:07:42,600
of the program you can also go on google

221
00:07:40,350 --> 00:07:44,550
and do a little thing on google and it

222
00:07:42,600 --> 00:07:46,320
could give you some of the results but

223
00:07:44,550 --> 00:07:49,080
Google could not index all these

224
00:07:46,320 --> 00:07:51,120
subdomains but all this is really boring

225
00:07:49,080 --> 00:07:52,560
because you're literally sitting behind

226
00:07:51,120 --> 00:07:55,530
a computer looking at scripts just

227
00:07:52,560 --> 00:07:56,880
running and giving you results and some

228
00:07:55,530 --> 00:07:59,760
of these cases you can't find all these

229
00:07:56,880 --> 00:08:01,380
supplements that exist so I rely on

230
00:07:59,760 --> 00:08:03,780
certificate transparency

231
00:08:01,380 --> 00:08:06,300
heavily there isn't why I do that is

232
00:08:03,780 --> 00:08:07,739
because if the company cares about the

233
00:08:06,300 --> 00:08:11,040
subdomain they're gonna assign it a

234
00:08:07,740 --> 00:08:12,810
certificate right so why not cut the cut

235
00:08:11,040 --> 00:08:15,030
the work in half and just go after all

236
00:08:12,810 --> 00:08:16,320
these sir transparency site so there are

237
00:08:15,030 --> 00:08:17,880
some companies out there who created

238
00:08:16,320 --> 00:08:20,550
search engines when you can literally go

239
00:08:17,880 --> 00:08:21,960
on this census you can go on there and

240
00:08:20,550 --> 00:08:25,410
search for companies if you actually

241
00:08:21,960 --> 00:08:28,820
look up the syntax on how they do it so

242
00:08:25,410 --> 00:08:31,890
for census if you type in this giant

243
00:08:28,820 --> 00:08:34,380
string it looks for all these DNS names

244
00:08:31,890 --> 00:08:37,229
I've been parsed on their database and

245
00:08:34,380 --> 00:08:39,689
it matches the name snapshot so if I'm

246
00:08:37,229 --> 00:08:42,930
looking for you know snapchat - payment

247
00:08:39,690 --> 00:08:45,210
snatch gateway snapchat calm chances are

248
00:08:42,929 --> 00:08:46,469
with a wordless or brute force attack I

249
00:08:45,210 --> 00:08:49,640
wouldn't be able to find any of these

250
00:08:46,470 --> 00:08:51,870
because I don't have these giant long

251
00:08:49,640 --> 00:08:54,870
names I don't have snapchat in my word

252
00:08:51,870 --> 00:08:57,270
list I don't have - gateway - payments

253
00:08:54,870 --> 00:08:58,320
in my I don't mind that's right so going

254
00:08:57,270 --> 00:08:59,699
out for this transparency

255
00:08:58,320 --> 00:09:03,560
search in sparrin see stuff kind of

256
00:08:59,700 --> 00:09:03,560
helps finding these in these subdomains

257
00:09:03,769 --> 00:09:07,860
there's also show then if you are going

258
00:09:06,239 --> 00:09:10,319
to school apparently you get a free

259
00:09:07,860 --> 00:09:13,470
membership I messed up memo I paid 40

260
00:09:10,319 --> 00:09:15,029
bucks for a lifetime subscription about

261
00:09:13,470 --> 00:09:17,189
40 bucks is probably one of the best

262
00:09:15,029 --> 00:09:19,079
investments I've made we'll talk about

263
00:09:17,189 --> 00:09:20,639
why in a little bit most we get into the

264
00:09:19,079 --> 00:09:22,290
examples but the best part about sure

265
00:09:20,639 --> 00:09:24,600
Dana is you can do a lot of filtering

266
00:09:22,290 --> 00:09:26,549
you can go based on port number you can

267
00:09:24,600 --> 00:09:28,470
go based on your organization name you

268
00:09:26,549 --> 00:09:30,629
can go based on certificates you can do

269
00:09:28,470 --> 00:09:34,259
anything pretty much there's also the

270
00:09:30,629 --> 00:09:37,559
whole host name and org because if

271
00:09:34,259 --> 00:09:39,269
they're hosting a sub domain that the IP

272
00:09:37,559 --> 00:09:40,618
address it doesn't belong to them then

273
00:09:39,269 --> 00:09:42,389
the organization is gonna be example

274
00:09:40,619 --> 00:09:44,100
amazon.com versus the host would be

275
00:09:42,389 --> 00:09:45,959
example.com so you want to admit sure

276
00:09:44,100 --> 00:09:47,549
you look at both of those and sure that

277
00:09:45,959 --> 00:09:49,079
makes it very possible so that pretty

278
00:09:47,549 --> 00:09:51,059
much scanned all of the internet and app

279
00:09:49,079 --> 00:09:53,910
indexing on their site you pay forty

280
00:09:51,059 --> 00:09:55,199
bucks and get access to it or you can

281
00:09:53,910 --> 00:09:58,589
cheat the system and just gonna free one

282
00:09:55,199 --> 00:09:59,729
if you have a edu email it also starts

283
00:09:58,589 --> 00:10:03,569
Potter this is probably one of my

284
00:09:59,730 --> 00:10:06,829
favorite ones search boater is the same

285
00:10:03,569 --> 00:10:09,569
thing but they have a very nice API and

286
00:10:06,829 --> 00:10:11,008
unlike that census and show them

287
00:10:09,569 --> 00:10:13,259
they don't charge you to use any of this

288
00:10:11,009 --> 00:10:14,610
they don't have a limit on their API you

289
00:10:13,259 --> 00:10:17,189
just hit this URL give it a your

290
00:10:14,610 --> 00:10:19,069
username and give it a domain name and

291
00:10:17,189 --> 00:10:21,238
it pulls all this data in JSON format

292
00:10:19,069 --> 00:10:22,878
and if you're really good at doing some

293
00:10:21,239 --> 00:10:24,899
- scripting you can kind of clean it up

294
00:10:22,879 --> 00:10:27,499
which we'll talk about that in a little

295
00:10:24,899 --> 00:10:30,899
bit when we get to the automation part

296
00:10:27,499 --> 00:10:33,509
which is another one same exact thing

297
00:10:30,899 --> 00:10:35,129
you can actually use a wild-card cert

298
00:10:33,509 --> 00:10:36,869
that Sh just the best part about it

299
00:10:35,129 --> 00:10:40,230
which is different so if I want to look

300
00:10:36,869 --> 00:10:41,910
for every snapchat TLD subdomain other

301
00:10:40,230 --> 00:10:43,949
than com I can put the wallet code at

302
00:10:41,910 --> 00:10:46,139
the end and it gives you stuff like

303
00:10:43,949 --> 00:10:48,419
snapchat pizza didn't know that existed

304
00:10:46,139 --> 00:10:50,669
but snapchat that sells properties

305
00:10:48,419 --> 00:10:51,779
production all these other things you

306
00:10:50,669 --> 00:10:53,879
can move their wallet go to the other

307
00:10:51,779 --> 00:10:56,160
end of it and look for everything before

308
00:10:53,879 --> 00:10:58,019
snapchat comm you can see like on the

309
00:10:56,160 --> 00:11:01,919
right in this image I'm just hitting the

310
00:10:58,019 --> 00:11:03,149
certain Sh end point or the API and has

311
00:11:01,919 --> 00:11:06,540
given you a hundred thirty six unique

312
00:11:03,149 --> 00:11:07,619
subdomains on Facebook and yeah it's

313
00:11:06,540 --> 00:11:11,669
pretty nice we'll talk about how to

314
00:11:07,619 --> 00:11:13,350
automate this too in a little bit so the

315
00:11:11,669 --> 00:11:15,010
search ends fancy thing is a part of OSN

316
00:11:13,350 --> 00:11:16,540
but i kind of wanted to take it out

317
00:11:15,010 --> 00:11:19,330
it goes more with the you know subdomain

318
00:11:16,540 --> 00:11:20,469
finding and asset discovery thing but

319
00:11:19,330 --> 00:11:22,300
there's other things we can look for

320
00:11:20,470 --> 00:11:24,310
example we can go to Aaron and look for

321
00:11:22,300 --> 00:11:25,510
all the IP addresses or we can just go

322
00:11:24,310 --> 00:11:27,670
and find acquisitions with other

323
00:11:25,510 --> 00:11:29,319
companies and sites out bot so in case

324
00:11:27,670 --> 00:11:31,689
of Google or Facebook there's companies

325
00:11:29,320 --> 00:11:34,660
are buying smaller ones on a regular

326
00:11:31,690 --> 00:11:36,100
basis and after six months of being

327
00:11:34,660 --> 00:11:37,020
acquired they usually go into the scope

328
00:11:36,100 --> 00:11:38,920
of their program right

329
00:11:37,020 --> 00:11:41,650
you also want to make sure you check

330
00:11:38,920 --> 00:11:43,060
those out so the rest one is to go to a

331
00:11:41,650 --> 00:11:44,620
CrunchBase you literally type in the

332
00:11:43,060 --> 00:11:48,250
company name so in this one I'm looking

333
00:11:44,620 --> 00:11:49,480
for Yahoo which is not o'the I mean you

334
00:11:48,250 --> 00:11:51,190
can see all the companies that they own

335
00:11:49,480 --> 00:11:53,710
so in case of Yahoo half of those are in

336
00:11:51,190 --> 00:11:55,180
scope but if this was Google their

337
00:11:53,710 --> 00:11:56,920
policy for Google is give us six months

338
00:11:55,180 --> 00:11:58,180
after we buy this company out then it's

339
00:11:56,920 --> 00:11:59,620
fair game to hack on it so if you go to

340
00:11:58,180 --> 00:12:03,000
Google if you go to crunchbase and type

341
00:11:59,620 --> 00:12:05,620
in Google things like ness would come up

342
00:12:03,000 --> 00:12:07,060
google.com alphabet ways whatever else

343
00:12:05,620 --> 00:12:09,220
they own it comes up and all of that

344
00:12:07,060 --> 00:12:11,920
it's a new attack attack vector or

345
00:12:09,220 --> 00:12:14,650
surface you can go after so that makes

346
00:12:11,920 --> 00:12:16,930
your attack surface a lot bigger you can

347
00:12:14,650 --> 00:12:19,630
also go on Eryn same thing you type on

348
00:12:16,930 --> 00:12:21,069
the you type in the company name it

349
00:12:19,630 --> 00:12:23,680
brings you this page you click on

350
00:12:21,070 --> 00:12:24,940
organization then it brings it to this

351
00:12:23,680 --> 00:12:27,790
page and you can just look at the

352
00:12:24,940 --> 00:12:29,980
network's so the third line down it says

353
00:12:27,790 --> 00:12:31,390
related networks you click on it and it

354
00:12:29,980 --> 00:12:33,250
gives you all their IP addresses that

355
00:12:31,390 --> 00:12:34,569
belongs to Yahoo and then you can start

356
00:12:33,250 --> 00:12:36,310
doing more things with it which will

357
00:12:34,570 --> 00:12:38,020
also talk about it a little bit we'll

358
00:12:36,310 --> 00:12:39,219
get to it also you can do this on show

359
00:12:38,020 --> 00:12:41,020
then I kind of said you can just put an

360
00:12:39,220 --> 00:12:43,630
organization as whatever so for this one

361
00:12:41,020 --> 00:12:45,280
I put org is Yahoo Yahoo and it's gave

362
00:12:43,630 --> 00:12:47,590
me a phone a thousand IP addresses

363
00:12:45,280 --> 00:12:48,939
someone may not belong to Yahoo but a

364
00:12:47,590 --> 00:12:50,610
good majority of them are and you can

365
00:12:48,940 --> 00:12:52,780
actually start looking at their who is

366
00:12:50,610 --> 00:12:56,440
process and see actually how many of

367
00:12:52,780 --> 00:12:57,670
them are belonging to God so content

368
00:12:56,440 --> 00:12:59,770
discovery is when everything starts

369
00:12:57,670 --> 00:13:01,240
getting fun so imagine you find it all

370
00:12:59,770 --> 00:13:03,579
these subdomains you find 2000

371
00:13:01,240 --> 00:13:06,040
subdomains and the question becomes so

372
00:13:03,580 --> 00:13:08,110
much like what do you do next so you

373
00:13:06,040 --> 00:13:09,189
start looking for visual the first thing

374
00:13:08,110 --> 00:13:11,410
you want to do is you want to visualize

375
00:13:09,190 --> 00:13:12,580
the entire process or all the data you

376
00:13:11,410 --> 00:13:13,329
have found in all the subdomains you

377
00:13:12,580 --> 00:13:14,770
want to see which one of these

378
00:13:13,330 --> 00:13:15,190
supplements are actually alive and not

379
00:13:14,770 --> 00:13:17,280
dead

380
00:13:15,190 --> 00:13:19,240
what are they hosting at a first glance

381
00:13:17,280 --> 00:13:22,180
and then you want to start doing port

382
00:13:19,240 --> 00:13:25,000
scanning and look for interesting

383
00:13:22,180 --> 00:13:26,630
directories and files and take it from

384
00:13:25,000 --> 00:13:28,850
there so this is the short

385
00:13:26,630 --> 00:13:30,890
version of how I do my content discovery

386
00:13:28,850 --> 00:13:33,260
so when I do this screenshot thing I

387
00:13:30,890 --> 00:13:35,180
usually go for port 80 and 443 I look at

388
00:13:33,260 --> 00:13:37,400
both because for some awful reason some

389
00:13:35,180 --> 00:13:39,020
of these developers love to serve

390
00:13:37,400 --> 00:13:40,130
different content on different ports I

391
00:13:39,020 --> 00:13:41,660
don't know why

392
00:13:40,130 --> 00:13:42,890
believe me it's I see their faces that

393
00:13:41,660 --> 00:13:45,230
you guys aren't making I made the same

394
00:13:42,890 --> 00:13:47,319
face when I saw this and I find

395
00:13:45,230 --> 00:13:51,170
different things like sometimes I go to

396
00:13:47,320 --> 00:13:53,600
443 slash an end point it's like 401 you

397
00:13:51,170 --> 00:13:54,800
need to log in and I go okay port 80 no

398
00:13:53,600 --> 00:13:58,100
I don't have to log in here's all the

399
00:13:54,800 --> 00:14:00,260
data you were looking for I keep that in

400
00:13:58,100 --> 00:14:02,870
mind different ports could be showing

401
00:14:00,260 --> 00:14:04,189
different stuff so example is let's say

402
00:14:02,870 --> 00:14:07,550
you go on example.com

403
00:14:04,190 --> 00:14:09,650
you do a port scan port 8 443 is open

404
00:14:07,550 --> 00:14:11,510
okay boot force see what kind of

405
00:14:09,650 --> 00:14:15,170
directories and files are on there let's

406
00:14:11,510 --> 00:14:18,170
say you find admin folder that returns a

407
00:14:15,170 --> 00:14:20,060
403 which indicates is forbidden which

408
00:14:18,170 --> 00:14:22,189
is a good sign for you as a hacker that

409
00:14:20,060 --> 00:14:23,630
means there is an admin folder we just

410
00:14:22,190 --> 00:14:25,400
got to find the right file to open up

411
00:14:23,630 --> 00:14:26,720
the app and panel it's not always an

412
00:14:25,400 --> 00:14:29,329
index file it could be changed to

413
00:14:26,720 --> 00:14:31,400
something else right so you brute force

414
00:14:29,330 --> 00:14:33,980
105 files and directories on admin and

415
00:14:31,400 --> 00:14:35,510
let's say user dot PHP returns 200 and

416
00:14:33,980 --> 00:14:37,340
this is when things start to get better

417
00:14:35,510 --> 00:14:39,160
so you repeat this until you find more

418
00:14:37,340 --> 00:14:41,840
files I'm or folder names enough folder

419
00:14:39,160 --> 00:14:43,040
sometimes it could be from developer

420
00:14:41,840 --> 00:14:44,480
files it could be some get folders

421
00:14:43,040 --> 00:14:46,550
that's left behind it could be backup

422
00:14:44,480 --> 00:14:51,350
folders you never know so when I look

423
00:14:46,550 --> 00:14:53,479
for those in your process so for the

424
00:14:51,350 --> 00:14:54,220
port scanning part I just want nmap like

425
00:14:53,480 --> 00:14:56,270
everybody else

426
00:14:54,220 --> 00:14:57,980
those are a number of ports that I

427
00:14:56,270 --> 00:15:01,130
usually look for some of them are based

428
00:14:57,980 --> 00:15:02,210
on bugs that I have found also some of

429
00:15:01,130 --> 00:15:04,310
are the most popular ones that I have

430
00:15:02,210 --> 00:15:05,540
seen have services on and I only do

431
00:15:04,310 --> 00:15:07,760
these ports because I want to speed up

432
00:15:05,540 --> 00:15:09,589
my process instead of scanning 65,000

433
00:15:07,760 --> 00:15:11,569
ports I want to just do the ones that

434
00:15:09,590 --> 00:15:13,730
mattered to me but doing this also

435
00:15:11,570 --> 00:15:15,470
allows me to miss some cool things so if

436
00:15:13,730 --> 00:15:17,750
you have the time and patience to make

437
00:15:15,470 --> 00:15:18,950
this faster and do all the ports I was

438
00:15:17,750 --> 00:15:21,590
just doing all the ports are adding more

439
00:15:18,950 --> 00:15:25,130
to this list and then for the screenshot

440
00:15:21,590 --> 00:15:27,080
part I use web screenshot PI you can

441
00:15:25,130 --> 00:15:28,820
give web screenshot up high a list of

442
00:15:27,080 --> 00:15:30,170
domains and it just goes to all of them

443
00:15:28,820 --> 00:15:32,270
you can give it a port number also like

444
00:15:30,170 --> 00:15:33,890
what ports to hit and if those ports to

445
00:15:32,270 --> 00:15:35,900
actually respond back it will take a

446
00:15:33,890 --> 00:15:37,220
screenshot of whatever it's serving so

447
00:15:35,900 --> 00:15:38,870
having that data kind of helps you not

448
00:15:37,220 --> 00:15:40,310
to have to click on 2,000 subdomain

449
00:15:38,870 --> 00:15:41,740
one-by-one to see what they're serving

450
00:15:40,310 --> 00:15:43,939
I'm just keep that in mind as well

451
00:15:41,740 --> 00:15:47,150
enough for a directory and file brute

452
00:15:43,940 --> 00:15:49,490
force there is these giant list of

453
00:15:47,150 --> 00:15:51,110
programs you can tools you can use these

454
00:15:49,490 --> 00:15:52,910
are the best ones I've seen I personally

455
00:15:51,110 --> 00:15:55,790
like to use a fourth one down our search

456
00:15:52,910 --> 00:15:57,410
it's in Python it's threaded allowed to

457
00:15:55,790 --> 00:16:00,170
do a bunch of cool stuff and it's also

458
00:15:57,410 --> 00:16:05,569
very stable so that's the one that I use

459
00:16:00,170 --> 00:16:07,550
personally also there is robots.txt if

460
00:16:05,570 --> 00:16:09,529
you're not aware robots.txt has a lot of

461
00:16:07,550 --> 00:16:11,959
good information there was a time when I

462
00:16:09,529 --> 00:16:13,430
just want to robots.txt just to see what

463
00:16:11,960 --> 00:16:16,130
they had and then there was an admin

464
00:16:13,430 --> 00:16:17,599
secret admin folder and then when you

465
00:16:16,130 --> 00:16:19,250
type it in he gets better doesn't have

466
00:16:17,600 --> 00:16:22,760
any authentication and I just had access

467
00:16:19,250 --> 00:16:25,670
to it so robots exe and the costume I

468
00:16:22,760 --> 00:16:27,710
found as well helps so also the other

469
00:16:25,670 --> 00:16:29,630
thing that I do is using any other tools

470
00:16:27,710 --> 00:16:31,220
on the right the rectory research is the

471
00:16:29,630 --> 00:16:33,860
best one because it also allows me to

472
00:16:31,220 --> 00:16:35,810
keep an archive of all my findings so if

473
00:16:33,860 --> 00:16:37,790
I do a directory search no matter if it

474
00:16:35,810 --> 00:16:40,489
finds anything it makes a report for it

475
00:16:37,790 --> 00:16:42,860
and you can archive those reports so

476
00:16:40,490 --> 00:16:45,260
let's say you find a very cool endpoint

477
00:16:42,860 --> 00:16:46,490
on accident on a site you can go through

478
00:16:45,260 --> 00:16:48,380
all your reports from other subdomains

479
00:16:46,490 --> 00:16:50,990
and other sites and see if that's up if

480
00:16:48,380 --> 00:16:53,810
that file or directory for our name

481
00:16:50,990 --> 00:16:55,490
appears in other places you can just do

482
00:16:53,810 --> 00:16:57,380
that by doing the grep so you cat all

483
00:16:55,490 --> 00:16:59,029
your you read all your reports on the

484
00:16:57,380 --> 00:17:01,250
report folder I have the rip to research

485
00:16:59,029 --> 00:17:03,920
and you grip for things so I'm looking

486
00:17:01,250 --> 00:17:06,020
for jmx console that one wasn't the best

487
00:17:03,920 --> 00:17:07,970
so I got a little bit more specific so I

488
00:17:06,020 --> 00:17:10,220
looked at the Tomcat manager HTML

489
00:17:07,970 --> 00:17:12,020
endpoint and I looked for anything that

490
00:17:10,220 --> 00:17:13,520
was a 401 that means it's there it just

491
00:17:12,020 --> 00:17:15,650
requires you to be authorized to the

492
00:17:13,520 --> 00:17:17,059
application for you to see it and nine

493
00:17:15,650 --> 00:17:19,579
out of ten times you could add Manhattan

494
00:17:17,059 --> 00:17:20,689
and that works and you get in so those

495
00:17:19,579 --> 00:17:22,369
are the things that I usually look for

496
00:17:20,689 --> 00:17:25,339
when I run a huge scan I just grabbed

497
00:17:22,369 --> 00:17:26,719
through it and find all the details but

498
00:17:25,339 --> 00:17:29,178
all of these again take a lot of time

499
00:17:26,720 --> 00:17:31,040
right I go back to Yahoo where you do

500
00:17:29,179 --> 00:17:32,030
two thousand subdomains and if you're

501
00:17:31,040 --> 00:17:33,740
doing it all manually

502
00:17:32,030 --> 00:17:35,059
you're sitting behind a computer waiting

503
00:17:33,740 --> 00:17:37,130
for once can to be done and then you

504
00:17:35,059 --> 00:17:39,410
type in directory search all the syntax

505
00:17:37,130 --> 00:17:41,510
next domain right there's a lot of time

506
00:17:39,410 --> 00:17:44,179
so you want to automate it which we'll

507
00:17:41,510 --> 00:17:46,250
talk about a little bit so the biggest

508
00:17:44,179 --> 00:17:49,190
thing the past year was s3 buckets

509
00:17:46,250 --> 00:17:51,530
alright anybody hear about Verizon or

510
00:17:49,190 --> 00:17:53,330
moment or any other companies that had

511
00:17:51,530 --> 00:17:55,910
just s3 buckets laying around with like

512
00:17:53,330 --> 00:17:57,860
read and write as a big you can automate

513
00:17:55,910 --> 00:17:59,450
that you can find those you can do it on

514
00:17:57,860 --> 00:18:00,860
google if this people are hitting that

515
00:17:59,450 --> 00:18:03,680
side it's gonna be indexed on google you

516
00:18:00,860 --> 00:18:05,209
can just go s3 amazon.com and I want you

517
00:18:03,680 --> 00:18:08,270
to find anything that has the company

518
00:18:05,210 --> 00:18:09,950
name in its URL that's giving me a

519
00:18:08,270 --> 00:18:12,470
couple of them that's been helpful you

520
00:18:09,950 --> 00:18:14,570
can also look on you can also look for

521
00:18:12,470 --> 00:18:16,760
instances like ec2 instances it doesn't

522
00:18:14,570 --> 00:18:18,919
have to be an s3 bucket by doing the

523
00:18:16,760 --> 00:18:21,260
same thing just Amazon AWS you can take

524
00:18:18,920 --> 00:18:22,550
out the s3 and then look for what comes

525
00:18:21,260 --> 00:18:24,500
up you can also do this on github which

526
00:18:22,550 --> 00:18:28,010
have been better you find more stuff I

527
00:18:24,500 --> 00:18:30,140
mean you can automate it so this is what

528
00:18:28,010 --> 00:18:34,070
it looks like doing uber and Trello on

529
00:18:30,140 --> 00:18:35,330
github and on Google on the right you

530
00:18:34,070 --> 00:18:38,179
can see I'm looking for anything that

531
00:18:35,330 --> 00:18:39,949
has a burr and its URL sometimes these

532
00:18:38,180 --> 00:18:41,810
may not belong to the company because

533
00:18:39,950 --> 00:18:42,800
people can just make these arbitrary you

534
00:18:41,810 --> 00:18:44,840
can give it what other name they want

535
00:18:42,800 --> 00:18:46,669
but in most cases if you click around

536
00:18:44,840 --> 00:18:49,399
the data that it's holding to give away

537
00:18:46,670 --> 00:18:53,510
if it's owned by the company or not the

538
00:18:49,400 --> 00:18:55,340
same thing on github so there are two

539
00:18:53,510 --> 00:18:57,320
tools that I use one of them is called

540
00:18:55,340 --> 00:18:58,429
lazy s3 which is written by myself and a

541
00:18:57,320 --> 00:19:01,399
co-worker of mine

542
00:18:58,430 --> 00:19:04,100
yo Bert where you give it a company name

543
00:19:01,400 --> 00:19:06,890
so this I'm giving a test and it starts

544
00:19:04,100 --> 00:19:09,260
looking for these different environments

545
00:19:06,890 --> 00:19:11,600
and permutations so it puts the company

546
00:19:09,260 --> 00:19:13,850
name before in the middle and after all

547
00:19:11,600 --> 00:19:15,020
these keywords and whatever one comes

548
00:19:13,850 --> 00:19:17,540
back so this one saying four or three

549
00:19:15,020 --> 00:19:18,770
the admin one is saying 200 it gives you

550
00:19:17,540 --> 00:19:19,909
all these different response headers so

551
00:19:18,770 --> 00:19:22,760
you know which ones are active and which

552
00:19:19,910 --> 00:19:24,740
ones can exploit there's also one that's

553
00:19:22,760 --> 00:19:27,379
written bashed by another co-worker of

554
00:19:24,740 --> 00:19:28,490
mine that's the exact same thing but

555
00:19:27,380 --> 00:19:30,980
it's in bash it's a little bit faster

556
00:19:28,490 --> 00:19:33,230
than the Ruby one we actually merge both

557
00:19:30,980 --> 00:19:35,000
of our environments that we had like

558
00:19:33,230 --> 00:19:38,690
whatever list I was using is being used

559
00:19:35,000 --> 00:19:39,800
on both tools but it literally just take

560
00:19:38,690 --> 00:19:41,240
the company name and puts it around

561
00:19:39,800 --> 00:19:44,990
these different things dashboard

562
00:19:41,240 --> 00:19:46,250
downloads uploads avatar whatever and it

563
00:19:44,990 --> 00:19:50,150
tells you which one you can read which

564
00:19:46,250 --> 00:19:51,080
ones you can write from so search Potter

565
00:19:50,150 --> 00:19:53,300
was the one that I talked to about

566
00:19:51,080 --> 00:19:54,300
earlier you can make an alias automate

567
00:19:53,300 --> 00:19:56,700
it and find more sub

568
00:19:54,300 --> 00:19:59,370
means in the earlier slide I showed the

569
00:19:56,700 --> 00:20:01,260
JSON response was kind of ugly but you

570
00:19:59,370 --> 00:20:03,719
can just literally hit the search bar a

571
00:20:01,260 --> 00:20:06,090
common API give it the domain this is an

572
00:20:03,720 --> 00:20:08,940
alias that I wrote in bash when you

573
00:20:06,090 --> 00:20:11,310
parsed using jq+ JSON and you look

574
00:20:08,940 --> 00:20:13,200
forward to DNS name values and then you

575
00:20:11,310 --> 00:20:16,740
use set to clean up the data so doesn't

576
00:20:13,200 --> 00:20:18,090
have any quotes single quotes and then

577
00:20:16,740 --> 00:20:19,800
you do sort you so it gives you all the

578
00:20:18,090 --> 00:20:20,820
unique data and then you grab for it to

579
00:20:19,800 --> 00:20:22,139
make sure it's not giving you some

580
00:20:20,820 --> 00:20:24,360
random subdomain that doesn't belong to

581
00:20:22,140 --> 00:20:25,860
this company and you write it all to the

582
00:20:24,360 --> 00:20:28,620
folder and the file name that's the same

583
00:20:25,860 --> 00:20:31,199
as a company so you want to take us a

584
00:20:28,620 --> 00:20:32,850
step further by automatically also doing

585
00:20:31,200 --> 00:20:35,010
directory search the same thing you say

586
00:20:32,850 --> 00:20:38,699
do it we you made it I make it bash

587
00:20:35,010 --> 00:20:40,710
alias called I our brute force I go to a

588
00:20:38,700 --> 00:20:42,450
directory search folder and then I say

589
00:20:40,710 --> 00:20:44,910
hey read the file from the folder above

590
00:20:42,450 --> 00:20:47,160
the 1 1 th see which the ones are user

591
00:20:44,910 --> 00:20:48,720
input for a company name and then while

592
00:20:47,160 --> 00:20:51,330
you read the file I want you to run this

593
00:20:48,720 --> 00:20:52,770
command on directory search with the

594
00:20:51,330 --> 00:20:55,590
extension that I'm giving it and then I

595
00:20:52,770 --> 00:20:56,940
say look for HTTPS with the line that's

596
00:20:55,590 --> 00:20:59,040
what you're looking at right now and

597
00:20:56,940 --> 00:21:00,660
there is my I do HTTP is because I'm

598
00:20:59,040 --> 00:21:02,250
pulling all the data from a cert

599
00:21:00,660 --> 00:21:03,960
transparency side so they all have

600
00:21:02,250 --> 00:21:05,670
certificates and it's gonna be on HTTPS

601
00:21:03,960 --> 00:21:08,820
so I have to worry about looking which

602
00:21:05,670 --> 00:21:10,170
one is alive then you take it a step

603
00:21:08,820 --> 00:21:12,090
further and say hey I also want you to

604
00:21:10,170 --> 00:21:14,160
do screenshot so same thing you do

605
00:21:12,090 --> 00:21:16,230
Python you want to output it to a

606
00:21:14,160 --> 00:21:18,720
screenshot folder for that company so I

607
00:21:16,230 --> 00:21:19,740
always have them organized and I do you

608
00:21:18,720 --> 00:21:21,570
certainly work on hideaway

609
00:21:19,740 --> 00:21:22,860
so I don't get lost in my own folders

610
00:21:21,570 --> 00:21:24,990
and then you give it an input you say

611
00:21:22,860 --> 00:21:26,250
hey I want you to eat this file and do

612
00:21:24,990 --> 00:21:28,590
the screenshots on this file and then

613
00:21:26,250 --> 00:21:30,180
you give it a time out of 10 seconds so

614
00:21:28,590 --> 00:21:32,040
if it's not responding intense again I

615
00:21:30,180 --> 00:21:34,170
wasn't alive just move on don't sit

616
00:21:32,040 --> 00:21:37,379
there for hours at a time I'm doing

617
00:21:34,170 --> 00:21:38,820
nothing and then you make it even better

618
00:21:37,380 --> 00:21:40,560
you put all of them together you call it

619
00:21:38,820 --> 00:21:41,850
recon and you say recon and you give me

620
00:21:40,560 --> 00:21:44,070
the company name and goes through all

621
00:21:41,850 --> 00:21:46,560
those three different aliases and it

622
00:21:44,070 --> 00:21:48,149
doesn't model for you as you wait that

623
00:21:46,560 --> 00:21:50,159
was a game changer which brought me to

624
00:21:48,150 --> 00:21:52,590
my next point which is I'm created this

625
00:21:50,160 --> 00:21:55,010
tool called lazy recon it's literally

626
00:21:52,590 --> 00:21:57,899
the laziest Kaurava very rena-san

627
00:21:55,010 --> 00:22:00,270
please don't read the code I promise it

628
00:21:57,900 --> 00:22:02,400
doesn't shell your box but uh it's

629
00:22:00,270 --> 00:22:05,160
really horrible but it works it's made

630
00:22:02,400 --> 00:22:06,330
me a lot of money so it does exactly

631
00:22:05,160 --> 00:22:09,120
what we talked about a couple more

632
00:22:06,330 --> 00:22:11,820
things so it grabs the headers it looks

633
00:22:09,120 --> 00:22:14,340
for all the subdomains it organizes it

634
00:22:11,820 --> 00:22:16,620
for you I texted screenshots and there's

635
00:22:14,340 --> 00:22:18,360
an nmap and then it gives you this ugly

636
00:22:16,620 --> 00:22:20,760
HTML report that actually helps

637
00:22:18,360 --> 00:22:22,350
visualize it so this is what it looks

638
00:22:20,760 --> 00:22:24,179
like when you type in lazy recon I'm

639
00:22:22,350 --> 00:22:27,780
doing this Nitin Escom which is owned by

640
00:22:24,179 --> 00:22:29,220
Google and found it uses all these

641
00:22:27,780 --> 00:22:34,139
different tools and different sources to

642
00:22:29,220 --> 00:22:38,790
compile this of subdomains so one more

643
00:22:34,140 --> 00:22:40,140
time and then after it's done it starts

644
00:22:38,790 --> 00:22:42,090
looking - which ones are actually alive

645
00:22:40,140 --> 00:22:43,919
up and which ones are in and it starts

646
00:22:42,090 --> 00:22:45,689
to create different files for each one

647
00:22:43,919 --> 00:22:47,460
so it puts all the ones that are dead

648
00:22:45,690 --> 00:22:48,540
and a different file and they're all the

649
00:22:47,460 --> 00:22:50,220
ones that are alive I put some a

650
00:22:48,540 --> 00:22:52,110
different file so in case you want to

651
00:22:50,220 --> 00:22:53,820
ever ever look at the differences the

652
00:22:52,110 --> 00:22:55,770
next month when you do on the same exact

653
00:22:53,820 --> 00:22:57,990
screen you have the archives for both of

654
00:22:55,770 --> 00:22:59,610
them and then it says hey take a

655
00:22:57,990 --> 00:23:02,610
screenshot but I fail to do this because

656
00:22:59,610 --> 00:23:03,629
there was 73,000 subdomains and I really

657
00:23:02,610 --> 00:23:06,209
didn't want to stay behind there

658
00:23:03,630 --> 00:23:07,320
sticking a giffy of it and make it look

659
00:23:06,210 --> 00:23:09,110
like a mess but yeah that does the same

660
00:23:07,320 --> 00:23:11,820
thing and then it creates this

661
00:23:09,110 --> 00:23:15,149
screenshot so this is home QA desktop

662
00:23:11,820 --> 00:23:18,030
calm on the top there is a screenshot on

663
00:23:15,150 --> 00:23:19,679
port 80 and 443 it doesn't dig it also

664
00:23:18,030 --> 00:23:21,030
does a curl so you can look at the

665
00:23:19,679 --> 00:23:23,010
headers I sending so if you want to

666
00:23:21,030 --> 00:23:24,990
start fingerprinting different things so

667
00:23:23,010 --> 00:23:28,049
if one I want point someone drops a node

668
00:23:24,990 --> 00:23:30,090
a on JIRA that happened a year ago you

669
00:23:28,049 --> 00:23:31,620
can literally go through all your scans

670
00:23:30,090 --> 00:23:32,909
and look for the JIRA header and see how

671
00:23:31,620 --> 00:23:34,830
many of this supplement reports that you

672
00:23:32,910 --> 00:23:36,030
created have that header in it and then

673
00:23:34,830 --> 00:23:38,668
you start exploding every single one of

674
00:23:36,030 --> 00:23:40,230
them for a bounty and on the left side

675
00:23:38,669 --> 00:23:41,790
it has a directory search and at the

676
00:23:40,230 --> 00:23:43,110
bottom I don't have this screen shot for

677
00:23:41,790 --> 00:23:44,460
it but at the bottom of it it also does

678
00:23:43,110 --> 00:23:46,939
an nmap and tells you what ports are

679
00:23:44,460 --> 00:23:46,940
open as well

680
00:23:48,299 --> 00:23:56,250
digital dumpster-diving this is a good

681
00:23:52,830 --> 00:23:57,889
way to pass time if you have a lot of it

682
00:23:56,250 --> 00:24:00,529
on your hand

683
00:23:57,889 --> 00:24:00,949
takes a lot of patience and a lot of

684
00:24:00,529 --> 00:24:03,139
beer

685
00:24:00,950 --> 00:24:05,840
I am a poor added I've graduated

686
00:24:03,139 --> 00:24:06,918
successfully from dumpster diving so

687
00:24:05,840 --> 00:24:09,320
what do you do with dumpster diving as

688
00:24:06,919 --> 00:24:10,899
you look for leak potentials I said that

689
00:24:09,320 --> 00:24:13,460
earlier we all human to make mistakes

690
00:24:10,899 --> 00:24:15,439
some of us make worse mistakes and

691
00:24:13,460 --> 00:24:16,940
others not getting our company in

692
00:24:15,440 --> 00:24:18,799
trouble by putting our passwords on

693
00:24:16,940 --> 00:24:19,700
github but yeah you look for different

694
00:24:18,799 --> 00:24:22,610
things you want to look for credentials

695
00:24:19,700 --> 00:24:24,169
shut up SSO logins LDAP logins that

696
00:24:22,610 --> 00:24:27,979
happens now you want to look for

697
00:24:24,169 --> 00:24:29,509
internal API keys internal headers and

698
00:24:27,980 --> 00:24:30,499
so on you can see it as a pattern and

699
00:24:29,509 --> 00:24:33,289
you just start looking for all these

700
00:24:30,499 --> 00:24:36,259
leaks on github there are all these

701
00:24:33,289 --> 00:24:38,029
different tools that you can use I don't

702
00:24:36,259 --> 00:24:40,070
know what tool I use for this one take a

703
00:24:38,029 --> 00:24:41,809
screenshot but all these different tools

704
00:24:40,070 --> 00:24:44,480
look at code on github and tell you this

705
00:24:41,809 --> 00:24:46,759
I found anything I like to waste my time

706
00:24:44,480 --> 00:24:49,159
and do it manually then there's a reason

707
00:24:46,759 --> 00:24:51,559
why I do that if I'm doing these things

708
00:24:49,159 --> 00:24:53,119
manually are automated and I get this

709
00:24:51,559 --> 00:24:57,259
snippet of you know code that could be

710
00:24:53,119 --> 00:24:59,480
potentially leak credentials if that

711
00:24:57,259 --> 00:25:01,399
parameter is empty I missed the top and

712
00:24:59,480 --> 00:25:03,679
bottom of the code where it could have

713
00:25:01,399 --> 00:25:05,090
some internal subdomain maybe they could

714
00:25:03,679 --> 00:25:08,090
have an email address it could have a

715
00:25:05,090 --> 00:25:09,529
user name it could have an IP address so

716
00:25:08,090 --> 00:25:11,149
if I don't know automated for this it's

717
00:25:09,529 --> 00:25:12,109
it works out better for me because I

718
00:25:11,149 --> 00:25:14,479
don't want to miss on that information

719
00:25:12,109 --> 00:25:16,009
and there's been times when I look at

720
00:25:14,480 --> 00:25:18,200
one instance on my okay this is useless

721
00:25:16,009 --> 00:25:19,549
but I take a code and I'm like oh well

722
00:25:18,200 --> 00:25:20,570
this endpoint looks interesting let's

723
00:25:19,549 --> 00:25:22,519
see what this endpoint gives us on

724
00:25:20,570 --> 00:25:23,779
github and then that finds me of all my

725
00:25:22,519 --> 00:25:25,429
ability and I'll talk about an example

726
00:25:23,779 --> 00:25:27,529
of that eventually at the end of the

727
00:25:25,429 --> 00:25:29,299
talk those are some of the patterns I

728
00:25:27,529 --> 00:25:31,940
look for it's literally about getting

729
00:25:29,299 --> 00:25:33,619
creative you want to think of like what

730
00:25:31,940 --> 00:25:37,190
would this company call this API points

731
00:25:33,619 --> 00:25:38,629
these are some of the most popular ones

732
00:25:37,190 --> 00:25:41,059
that I've seen happen or the ones that

733
00:25:38,629 --> 00:25:42,259
I've found ex PayPal is a fun one

734
00:25:41,059 --> 00:25:43,789
because you get access to the PayPal

735
00:25:42,259 --> 00:25:47,450
account and some cases have a lot of

736
00:25:43,789 --> 00:25:49,970
money in it the other one is the secret

737
00:25:47,450 --> 00:25:53,389
key for AWS instances and there is tons

738
00:25:49,970 --> 00:25:55,549
of em on there yeah there's the

739
00:25:53,389 --> 00:25:57,519
different values that you can look

740
00:25:55,549 --> 00:26:01,399
forward at people using their code

741
00:25:57,519 --> 00:26:04,340
anyone here watch mr. robot I hope so

742
00:26:01,399 --> 00:26:07,070
cool you wanna remember this episode

743
00:26:04,340 --> 00:26:08,840
when they catch DJ Mobley and they tell

744
00:26:07,070 --> 00:26:12,460
how they found him so

745
00:26:08,840 --> 00:26:15,889
oops you're a couple years behind buddy

746
00:26:12,460 --> 00:26:20,480
well he didn't know he gets caught sorry

747
00:26:15,889 --> 00:26:22,340
you can one start me on this but so they

748
00:26:20,480 --> 00:26:24,019
found him on going on this thing called

749
00:26:22,340 --> 00:26:27,350
the wayback machine which is archived at

750
00:26:24,019 --> 00:26:28,429
Horry where you can find a not gonna

751
00:26:27,350 --> 00:26:29,570
beat this giant quibble this is the

752
00:26:28,429 --> 00:26:31,519
conversation they had with them while

753
00:26:29,570 --> 00:26:33,980
this was happening sorry for spoiling it

754
00:26:31,519 --> 00:26:36,049
so you go to a craft that org for this

755
00:26:33,980 --> 00:26:37,909
case I'm putting Hakka Wong calm and it

756
00:26:36,049 --> 00:26:40,249
brings up all these different version of

757
00:26:37,909 --> 00:26:43,220
Hakka Montcalm from 2009 I didn't know

758
00:26:40,249 --> 00:26:45,259
we're around back then 2014-15 and all

759
00:26:43,220 --> 00:26:46,730
the way to today the best part is it's

760
00:26:45,259 --> 00:26:49,039
indexing all these different JavaScript

761
00:26:46,730 --> 00:26:51,019
files they can review in a lot of cases

762
00:26:49,039 --> 00:26:53,059
they may have been a JavaScript endpoint

763
00:26:51,019 --> 00:26:54,289
that is not getting used anymore but

764
00:26:53,059 --> 00:26:56,330
because of whoever developed that

765
00:26:54,289 --> 00:26:58,129
endpoint left the other hood that took

766
00:26:56,330 --> 00:26:59,779
over it's completely forgot and they

767
00:26:58,129 --> 00:27:01,129
left it there for someone to exploit so

768
00:26:59,779 --> 00:27:04,220
if you can get your hands on the old

769
00:27:01,129 --> 00:27:08,149
data it helps but going through

770
00:27:04,220 --> 00:27:08,960
JavaScript files is very very ugly but

771
00:27:08,149 --> 00:27:10,309
you can find some really cool stuff

772
00:27:08,960 --> 00:27:13,369
right you can find some really cool

773
00:27:10,309 --> 00:27:14,899
endpoints I've seen people put the AWS

774
00:27:13,369 --> 00:27:16,699
keys inside of a JavaScript file over

775
00:27:14,899 --> 00:27:20,658
there SSO logins for some reason and

776
00:27:16,700 --> 00:27:22,600
there's a ton of more bugs but there's a

777
00:27:20,659 --> 00:27:25,100
tool that a buddy of mine and myself

778
00:27:22,600 --> 00:27:27,379
Ziya and I wrote it's called jeaious

779
00:27:25,100 --> 00:27:29,360
parser if you guys have a word spend a

780
00:27:27,379 --> 00:27:32,869
day looking at javascript on our website

781
00:27:29,360 --> 00:27:35,209
it looks kind of ugly very confusing but

782
00:27:32,869 --> 00:27:37,009
we made it easy so what this tool does

783
00:27:35,210 --> 00:27:38,509
is literally you give it a javascript

784
00:27:37,009 --> 00:27:39,740
file or you can give it no 10 of them if

785
00:27:38,509 --> 00:27:41,119
you want just make sure they're not like

786
00:27:39,740 --> 00:27:43,999
hundred Meg's each because then it's

787
00:27:41,119 --> 00:27:47,360
gonna just crash but it highlights all

788
00:27:43,999 --> 00:27:49,580
the end points that this tool things

789
00:27:47,360 --> 00:27:51,830
that the javascript file is using so if

790
00:27:49,580 --> 00:27:52,610
in case in this case it's going after

791
00:27:51,830 --> 00:27:54,350
Airbnb

792
00:27:52,610 --> 00:27:57,289
and it's showing you all these different

793
00:27:54,350 --> 00:28:00,139
endpoints on their API that the

794
00:27:57,289 --> 00:28:02,360
javascript file relies on to make the

795
00:28:00,139 --> 00:28:04,039
calls um so if you do that with 20 other

796
00:28:02,360 --> 00:28:06,769
different files in some cases you could

797
00:28:04,039 --> 00:28:08,240
find hidden functionality that's not

798
00:28:06,769 --> 00:28:09,889
released and it's probably for nerble

799
00:28:08,240 --> 00:28:11,929
before waiting for it to get released

800
00:28:09,889 --> 00:28:14,059
which I have an example of that in a

801
00:28:11,929 --> 00:28:16,580
little bit too there's also Trello

802
00:28:14,059 --> 00:28:17,779
please don't be this person they weren't

803
00:28:16,580 --> 00:28:19,250
on Trello for some reason and they

804
00:28:17,779 --> 00:28:20,779
thought it was a great idea to put all

805
00:28:19,250 --> 00:28:23,649
of their information about the company

806
00:28:20,779 --> 00:28:25,749
on a Trello board

807
00:28:23,649 --> 00:28:27,609
I don't think there is nothing in there

808
00:28:25,749 --> 00:28:29,259
that's not not bad you know they have

809
00:28:27,609 --> 00:28:31,689
the database info they have their

810
00:28:29,259 --> 00:28:32,830
WordPress admin and the best part is

811
00:28:31,690 --> 00:28:35,859
somewhere here there's a GoDaddy

812
00:28:32,830 --> 00:28:37,928
customer info even their pins on there

813
00:28:35,859 --> 00:28:40,299
this was supposed to be used internally

814
00:28:37,929 --> 00:28:42,429
but if you go to Chavo calm and you look

815
00:28:40,299 --> 00:28:44,019
for different keywords it's not so

816
00:28:42,429 --> 00:28:45,580
internal I think Trello took this very

817
00:28:44,019 --> 00:28:47,049
seriously at one point I'm sorry if

818
00:28:45,580 --> 00:28:48,399
you're here but they took it very

819
00:28:47,049 --> 00:28:50,289
serious and started shutting things down

820
00:28:48,399 --> 00:28:52,478
but some people are still making am I

821
00:28:50,289 --> 00:28:56,440
making it public forgetting that uh it's

822
00:28:52,479 --> 00:28:57,070
gonna index on Google oops I don't know

823
00:28:56,440 --> 00:28:59,200
who put that there

824
00:28:57,070 --> 00:29:00,549
all right so I have about fifteen

825
00:28:59,200 --> 00:29:04,299
minutes and now I'm gonna add a little

826
00:29:00,549 --> 00:29:06,369
bit of time on the examples so just

827
00:29:04,299 --> 00:29:09,158
finding easy vulnerabilities just by

828
00:29:06,369 --> 00:29:11,379
relying on search transparency so these

829
00:29:09,159 --> 00:29:13,539
were two that I found actually both on

830
00:29:11,379 --> 00:29:16,389
showdown the first one is I literally

831
00:29:13,539 --> 00:29:18,609
just Quaid for the hostname being the

832
00:29:16,389 --> 00:29:20,228
company comm and then looking for an

833
00:29:18,609 --> 00:29:22,418
open for port does anyone know what port

834
00:29:20,229 --> 00:29:24,669
this is the guy says it on the title so

835
00:29:22,419 --> 00:29:26,200
rabbitmq port and then they were using

836
00:29:24,669 --> 00:29:28,239
default credentials that got me and this

837
00:29:26,200 --> 00:29:30,369
was a corporate IP address so the actual

838
00:29:28,239 --> 00:29:31,840
stop domain wasn't accessible but if you

839
00:29:30,369 --> 00:29:35,978
got the IP for it from Shaun a-and just

840
00:29:31,840 --> 00:29:37,238
go to the IP networks yeah so there's

841
00:29:35,979 --> 00:29:40,690
also the other thing you can do you can

842
00:29:37,239 --> 00:29:41,950
audit the Jenkins instance I went in and

843
00:29:40,690 --> 00:29:44,349
put in the host name for the company

844
00:29:41,950 --> 00:29:46,239
comm and then in the title I say look

845
00:29:44,349 --> 00:29:48,039
for dashboard Jenkins and then this

846
00:29:46,239 --> 00:29:50,019
shiny little dashboard came up that has

847
00:29:48,039 --> 00:29:53,019
all they're building for all their API

848
00:29:50,019 --> 00:29:56,049
keys all that AWS keys and it was great

849
00:29:53,019 --> 00:29:58,090
it was easy about twenty minutes so it

850
00:29:56,049 --> 00:30:00,429
wasn't that bad but ya can find his

851
00:29:58,090 --> 00:30:02,199
different things on there alright I did

852
00:30:00,429 --> 00:30:06,009
an entire write-up on how you can own a

853
00:30:02,200 --> 00:30:07,539
company in this case snapchat by just

854
00:30:06,009 --> 00:30:09,700
getting into the Jenkins instance they

855
00:30:07,539 --> 00:30:11,349
actually paid another research for

856
00:30:09,700 --> 00:30:13,960
fifteen thousand dollars six months

857
00:30:11,349 --> 00:30:16,080
before I did this bug for the same exact

858
00:30:13,960 --> 00:30:18,639
thing on a different environment

859
00:30:16,080 --> 00:30:22,978
yeah also if you were here from snapchat

860
00:30:18,639 --> 00:30:25,418
I'm sorry so you can look this up and

861
00:30:22,979 --> 00:30:28,869
yeah it's on my blog I don't want to get

862
00:30:25,419 --> 00:30:31,359
into it too much but the TLDR was I hit

863
00:30:28,869 --> 00:30:32,799
this Jenkins site and it asked me to

864
00:30:31,359 --> 00:30:33,999
authenticate with Google hell yeah I'm

865
00:30:32,799 --> 00:30:36,160
gonna think it with Google my gmail

866
00:30:33,999 --> 00:30:37,900
account works I put in my

867
00:30:36,160 --> 00:30:40,570
hooked on my shiny picture and didn't

868
00:30:37,900 --> 00:30:42,990
check if they forgot to blacklist Gmail

869
00:30:40,570 --> 00:30:44,139
I guess and that got me in without any

870
00:30:42,990 --> 00:30:46,020
problems

871
00:30:44,140 --> 00:30:48,820
and then it gave me access to this thing

872
00:30:46,020 --> 00:30:52,629
which you can actually just execute code

873
00:30:48,820 --> 00:30:54,330
and do more than just echo so

874
00:30:52,630 --> 00:30:56,170
discovering endpoints and head and

875
00:30:54,330 --> 00:30:59,230
JavaScript files this is probably my

876
00:30:56,170 --> 00:31:03,850
favorite phone because this this bug

877
00:30:59,230 --> 00:31:05,710
along led us to find more bugs and this

878
00:31:03,850 --> 00:31:08,500
is how we started making js4 so this is

879
00:31:05,710 --> 00:31:10,630
a reason why we build Travis parser so

880
00:31:08,500 --> 00:31:12,370
this is actually public it's not

881
00:31:10,630 --> 00:31:14,830
something I've done privately that I can

882
00:31:12,370 --> 00:31:20,260
actually talk about so this is actually

883
00:31:14,830 --> 00:31:23,919
a we got a way to read other people's

884
00:31:20,260 --> 00:31:25,420
push notifications on Airbnb and if you

885
00:31:23,920 --> 00:31:27,910
haven't used Airbnb those push

886
00:31:25,420 --> 00:31:30,670
notifications have a lot of data like

887
00:31:27,910 --> 00:31:32,710
warehouses or what the pen code on the

888
00:31:30,670 --> 00:31:33,760
lock boxes what time the checking is and

889
00:31:32,710 --> 00:31:36,280
what time to checkout is all that good

890
00:31:33,760 --> 00:31:40,030
stuff goes through that so we literally

891
00:31:36,280 --> 00:31:42,190
ran this so I booked our Airbnb and I

892
00:31:40,030 --> 00:31:43,720
got really nosy one day and I went and

893
00:31:42,190 --> 00:31:47,230
looked at the JavaScript file that was

894
00:31:43,720 --> 00:31:48,670
in that booking so Brett and I reside

895
00:31:47,230 --> 00:31:51,550
and I were pretty much found this thing

896
00:31:48,670 --> 00:31:54,550
that there were two end points one was

897
00:31:51,550 --> 00:31:56,770
the air push notification and one is the

898
00:31:54,550 --> 00:31:58,270
air SMS they each had a vulnerability in

899
00:31:56,770 --> 00:32:01,540
him but they were very hard to figure

900
00:31:58,270 --> 00:32:02,950
out because the SMS one requires you to

901
00:32:01,540 --> 00:32:04,389
have a verified phone number in your

902
00:32:02,950 --> 00:32:07,030
profile which is fine I could put my

903
00:32:04,390 --> 00:32:08,530
phone number but then it also allows you

904
00:32:07,030 --> 00:32:10,480
to send yourself an SMS which is a text

905
00:32:08,530 --> 00:32:11,889
message but the problem with that is

906
00:32:10,480 --> 00:32:13,750
that it's only a hundred and sixty

907
00:32:11,890 --> 00:32:16,150
characters so I only see the first top

908
00:32:13,750 --> 00:32:18,520
which maybe not have information that I

909
00:32:16,150 --> 00:32:20,890
need and then also there's a throttle

910
00:32:18,520 --> 00:32:22,270
because it costs money so they're going

911
00:32:20,890 --> 00:32:24,310
through only that you send a couple of

912
00:32:22,270 --> 00:32:25,690
them a minute and if you're trying to

913
00:32:24,310 --> 00:32:27,760
export something fast and you're

914
00:32:25,690 --> 00:32:30,040
impatient like I am the three or four a

915
00:32:27,760 --> 00:32:32,980
minute isn't going to cut it so we go to

916
00:32:30,040 --> 00:32:34,899
plan B push notification push

917
00:32:32,980 --> 00:32:36,790
notification doesn't have a limit on

918
00:32:34,900 --> 00:32:38,200
this push notification things if you

919
00:32:36,790 --> 00:32:39,550
don't know what they are you know those

920
00:32:38,200 --> 00:32:41,230
farmville invites you guys get on

921
00:32:39,550 --> 00:32:42,970
Facebook it says hey you've been invited

922
00:32:41,230 --> 00:32:44,200
to play formula with your phone you're

923
00:32:42,970 --> 00:32:46,660
on your phone those are the push

924
00:32:44,200 --> 00:32:47,879
notification so again it requires you

925
00:32:46,660 --> 00:32:50,069
have a phone number which is far

926
00:32:47,879 --> 00:32:52,019
I'll put my phone number on there but

927
00:32:50,069 --> 00:32:53,158
instead of sending you a text message it

928
00:32:52,019 --> 00:32:55,049
sends your notification on your phone

929
00:32:53,159 --> 00:32:56,459
using the app so there's two things

930
00:32:55,049 --> 00:32:58,079
that's really great about that there's

931
00:32:56,459 --> 00:32:59,969
no limitations anymore I can see the

932
00:32:58,079 --> 00:33:01,408
whole thing and - there's no throttle

933
00:32:59,969 --> 00:33:05,849
because it doesn't cost them a single

934
00:33:01,409 --> 00:33:07,649
penny so what can we do with it the

935
00:33:05,849 --> 00:33:09,119
great thing about so the great thing

936
00:33:07,649 --> 00:33:12,869
about doing JavaScript you can see how

937
00:33:09,119 --> 00:33:14,698
the request is being created so we were

938
00:33:12,869 --> 00:33:16,019
supposed to send this post request I had

939
00:33:14,699 --> 00:33:18,049
a bunch of different things like your

940
00:33:16,019 --> 00:33:20,219
phone number your country your template

941
00:33:18,049 --> 00:33:22,109
which a template one is really funny if

942
00:33:20,219 --> 00:33:24,269
I get to it in a sec and then the user

943
00:33:22,109 --> 00:33:25,649
ID is obviously your user ID but what

944
00:33:24,269 --> 00:33:28,499
was funny is that it also looks for an

945
00:33:25,649 --> 00:33:30,839
object ID which is the notification that

946
00:33:28,499 --> 00:33:32,639
was sent to a user and we wanted to see

947
00:33:30,839 --> 00:33:35,249
if we can get access to another users

948
00:33:32,639 --> 00:33:38,718
object so can we see someone else's push

949
00:33:35,249 --> 00:33:41,519
notification but the funniest thing was

950
00:33:38,719 --> 00:33:42,959
if I were to give it a wrong template

951
00:33:41,519 --> 00:33:44,969
here what's ahead no no no no no you

952
00:33:42,959 --> 00:33:46,529
have to give me one of these like I'm

953
00:33:44,969 --> 00:33:51,749
gonna tell you what I'm expecting you to

954
00:33:46,529 --> 00:33:53,909
give me and only these things work so on

955
00:33:51,749 --> 00:33:55,649
the left you can see the SMS one and on

956
00:33:53,909 --> 00:33:57,599
the right as a post notification so we

957
00:33:55,649 --> 00:33:59,399
know exactly what we wanted to get out

958
00:33:57,599 --> 00:34:00,109
of this so why not just put it to good

959
00:33:59,399 --> 00:34:03,149
use

960
00:34:00,109 --> 00:34:04,589
well the first thing we did was we said

961
00:34:03,149 --> 00:34:07,198
okay let's just figure out to send a

962
00:34:04,589 --> 00:34:09,239
push notification to ourselves so we

963
00:34:07,199 --> 00:34:11,490
gave it our user ID which i think is

964
00:34:09,239 --> 00:34:14,279
Bret's user IDs I it and then we said

965
00:34:11,489 --> 00:34:18,178
okay well send me a title and body of

966
00:34:14,279 --> 00:34:21,119
tests and 12:50 p.m. we got a test test

967
00:34:18,179 --> 00:34:24,659
given to us on our phone and then we go

968
00:34:21,119 --> 00:34:26,220
well what else can we do with this maybe

969
00:34:24,659 --> 00:34:27,720
we can enumerate the user ID or an

970
00:34:26,219 --> 00:34:29,549
object ID and see if we can find one

971
00:34:27,719 --> 00:34:31,168
that matches the other but it was just

972
00:34:29,549 --> 00:34:33,929
way easier than that we just ended up

973
00:34:31,168 --> 00:34:35,368
using via just keeping the user ID as it

974
00:34:33,929 --> 00:34:37,349
was and just going through all the

975
00:34:35,369 --> 00:34:38,879
object IDs and then our first hard to

976
00:34:37,349 --> 00:34:42,869
blow up with their phone notifications

977
00:34:38,879 --> 00:34:45,960
that did not belong to us so this was

978
00:34:42,869 --> 00:34:47,669
fixed and I can I can tell you guys like

979
00:34:45,960 --> 00:34:48,149
the time how much it took us to figure

980
00:34:47,668 --> 00:34:54,779
this out

981
00:34:48,149 --> 00:34:56,190
12:50 p.m. and then 1:07 p.m. 806 a.m.

982
00:34:54,779 --> 00:34:56,989
the next morning is when we figured it

983
00:34:56,190 --> 00:34:59,060
out finally

984
00:34:56,989 --> 00:35:01,509
I took us a lot of time to figure it out

985
00:34:59,060 --> 00:35:04,609
but at the end of the day give us $9,000

986
00:35:01,510 --> 00:35:06,830
for 12 hours of work which isn't bad to

987
00:35:04,609 --> 00:35:09,170
be honest and then he gave us a tool

988
00:35:06,830 --> 00:35:11,540
called James parser that we ran through

989
00:35:09,170 --> 00:35:13,700
Airbnb with it before he released the

990
00:35:11,540 --> 00:35:15,349
tool and gave us a remote command

991
00:35:13,700 --> 00:35:16,189
execution on their pot site which is

992
00:35:15,349 --> 00:35:18,770
also on our blog

993
00:35:16,190 --> 00:35:20,359
it gave us a SS RF which gave us access

994
00:35:18,770 --> 00:35:22,490
to the internal network which is also on

995
00:35:20,359 --> 00:35:29,240
our blog and then they told us hey can

996
00:35:22,490 --> 00:35:31,368
you stop publishing stuff sorry if machs

997
00:35:29,240 --> 00:35:35,450
and they'd watch this I'm sorry but yeah

998
00:35:31,369 --> 00:35:37,640
they told us hey enough but send us bugs

999
00:35:35,450 --> 00:35:39,140
so we kept going at it but javascript

1000
00:35:37,640 --> 00:35:42,710
has been the biggest moneymaker for this

1001
00:35:39,140 --> 00:35:45,859
case dumpster-diving this is what I have

1002
00:35:42,710 --> 00:35:47,330
a lot of examples of so yeah this

1003
00:35:45,859 --> 00:35:49,310
company came up and was like hey we have

1004
00:35:47,330 --> 00:35:51,950
a bug bounty program can you look at our

1005
00:35:49,310 --> 00:35:54,290
company oh yeah I want to but they were

1006
00:35:51,950 --> 00:35:55,368
owned by another company so I figured

1007
00:35:54,290 --> 00:35:57,950
out what they let's say in this case

1008
00:35:55,369 --> 00:35:59,960
this is not Google I promise in this

1009
00:35:57,950 --> 00:36:02,450
case let's say Google I'm looking at

1010
00:35:59,960 --> 00:36:03,950
nest labs next stop is go it was owned

1011
00:36:02,450 --> 00:36:05,118
by Google which is now half of it so

1012
00:36:03,950 --> 00:36:07,368
alphabet becomes an umbrella company

1013
00:36:05,119 --> 00:36:09,980
right so I was like ok well let's see if

1014
00:36:07,369 --> 00:36:11,720
that made any mistakes the developers on

1015
00:36:09,980 --> 00:36:13,790
the umbrella company was developing this

1016
00:36:11,720 --> 00:36:17,629
have they made a mistake in regards to

1017
00:36:13,790 --> 00:36:19,730
this company specifically and then this

1018
00:36:17,630 --> 00:36:21,710
thing came up I put it in the company

1019
00:36:19,730 --> 00:36:24,380
name the asset that I was testing and

1020
00:36:21,710 --> 00:36:30,170
then I looked for password in this this

1021
00:36:24,380 --> 00:36:33,290
thing came up which was a FTP that had a

1022
00:36:30,170 --> 00:36:35,210
lot of backups not just from that

1023
00:36:33,290 --> 00:36:38,240
company specifically it was all the

1024
00:36:35,210 --> 00:36:39,770
other companies they owned there was a

1025
00:36:38,240 --> 00:36:42,950
lot of content on there I was like

1026
00:36:39,770 --> 00:36:44,839
terabytes of stuff and this was a little

1027
00:36:42,950 --> 00:36:47,299
bit after Christmas but it was a very

1028
00:36:44,839 --> 00:36:51,020
fun one this was on December 28th which

1029
00:36:47,300 --> 00:36:52,430
I got $10,000 for it it was a little too

1030
00:36:51,020 --> 00:36:55,190
late because Christmas already gone by

1031
00:36:52,430 --> 00:36:56,899
but you know New Year's was fun yeah I

1032
00:36:55,190 --> 00:36:58,520
went to dinner with 10k my pocket which

1033
00:36:56,900 --> 00:37:02,119
isn't a problem this to be honest this

1034
00:36:58,520 --> 00:37:03,530
took me about 15 minutes you know wasn't

1035
00:37:02,119 --> 00:37:06,560
expecting it so I can't complain about

1036
00:37:03,530 --> 00:37:07,730
the ten thousand when there were the

1037
00:37:06,560 --> 00:37:08,600
best company ever because there were

1038
00:37:07,730 --> 00:37:11,540
really nice and friend

1039
00:37:08,600 --> 00:37:13,130
I kind of wrote like a oh I don't

1040
00:37:11,540 --> 00:37:14,480
know if this belongs to you guys but if

1041
00:37:13,130 --> 00:37:16,460
it doesn't can you figure out who was it

1042
00:37:14,480 --> 00:37:19,400
is because that's a lot of your data on

1043
00:37:16,460 --> 00:37:22,460
it it turned out it was there so it

1044
00:37:19,400 --> 00:37:23,900
worked out in our favor um there's an

1045
00:37:22,460 --> 00:37:26,780
autumn or if there's more of these that

1046
00:37:23,900 --> 00:37:30,140
I found I found the UH some FTP

1047
00:37:26,780 --> 00:37:31,670
credentials on github that was 750

1048
00:37:30,140 --> 00:37:34,690
dollars again under 10 minutes it's not

1049
00:37:31,670 --> 00:37:37,370
ten thousand but fifty it's fine

1050
00:37:34,690 --> 00:37:38,900
found some AWS keys this company they

1051
00:37:37,370 --> 00:37:40,400
don't understand what the problem was

1052
00:37:38,900 --> 00:37:42,470
with this they're like okay here's 500

1053
00:37:40,400 --> 00:37:44,450
bucks go away they don't understand how

1054
00:37:42,470 --> 00:37:45,799
bad this was they rotated the keys but I

1055
00:37:44,450 --> 00:37:47,359
couldn't convince them to understand

1056
00:37:45,800 --> 00:37:48,170
like hey like this thing has a database

1057
00:37:47,360 --> 00:37:50,660
sitting on it

1058
00:37:48,170 --> 00:37:52,490
as your LDAP credentials like it's gonna

1059
00:37:50,660 --> 00:37:55,310
take me forever to you know crack these

1060
00:37:52,490 --> 00:37:57,620
but if I had malicious intent 10 hours

1061
00:37:55,310 --> 00:38:00,049
10 days 20 days and isn't anything for

1062
00:37:57,620 --> 00:38:01,910
the payout I'm gonna get from this they

1063
00:38:00,050 --> 00:38:04,490
didn't care I didn't care I just took

1064
00:38:01,910 --> 00:38:07,910
that money I said okay next one next one

1065
00:38:04,490 --> 00:38:11,540
was the PayPal one I talked about this

1066
00:38:07,910 --> 00:38:15,080
one was horrible because this is PayPal

1067
00:38:11,540 --> 00:38:16,490
account belonged to the I don't know

1068
00:38:15,080 --> 00:38:17,810
what the highest accounting thing is in

1069
00:38:16,490 --> 00:38:19,160
the counting but whoever runs the

1070
00:38:17,810 --> 00:38:21,350
accounting team at that firm

1071
00:38:19,160 --> 00:38:24,109
this was their PayPal account for the

1072
00:38:21,350 --> 00:38:26,299
company which was great because I could

1073
00:38:24,110 --> 00:38:27,650
see how much money they had was worth

1074
00:38:26,300 --> 00:38:28,970
five hundred dollars to them just fine

1075
00:38:27,650 --> 00:38:30,350
is still another five hundred dollars

1076
00:38:28,970 --> 00:38:33,200
that I found easily by just sitting on a

1077
00:38:30,350 --> 00:38:35,569
computer looking for mistakes and then

1078
00:38:33,200 --> 00:38:37,160
another one was an RCE I legit just

1079
00:38:35,570 --> 00:38:39,380
found an FTP credentials I wasn't in

1080
00:38:37,160 --> 00:38:41,170
there I logged in pop the PHP file send

1081
00:38:39,380 --> 00:38:43,130
it to them and I got taken down an hour

1082
00:38:41,170 --> 00:38:45,200
those are the kind of things that you

1083
00:38:43,130 --> 00:38:48,440
can find I think I found about 50 of

1084
00:38:45,200 --> 00:38:49,939
these this year it adds up sometimes I

1085
00:38:48,440 --> 00:38:51,200
don't find anything doing github but it

1086
00:38:49,940 --> 00:38:53,720
gives me just information on how this

1087
00:38:51,200 --> 00:38:55,310
company operates so it's it's good to

1088
00:38:53,720 --> 00:38:55,779
see some of these come up and get paid

1089
00:38:55,310 --> 00:38:58,640
for it

1090
00:38:55,780 --> 00:39:01,010
so talk about the s3 thing this was

1091
00:38:58,640 --> 00:39:02,060
actually sent to us on how come on

1092
00:39:01,010 --> 00:39:03,680
itself

1093
00:39:02,060 --> 00:39:06,529
Peter your worst gig was also the author

1094
00:39:03,680 --> 00:39:08,390
of web packing one on one excellent book

1095
00:39:06,530 --> 00:39:11,330
on how to get started nearby packing he

1096
00:39:08,390 --> 00:39:13,129
uses all of our disclosed bugs on Hakka

1097
00:39:11,330 --> 00:39:15,259
Wan comp so if you go to haka 1.com such

1098
00:39:13,130 --> 00:39:17,510
activity you can see all the bugs that

1099
00:39:15,260 --> 00:39:18,560
our hackers have disclosed and he wrote

1100
00:39:17,510 --> 00:39:21,400
a book around it

1101
00:39:18,560 --> 00:39:25,100
so for this case alone he found the

1102
00:39:21,400 --> 00:39:28,600
subdomain on s3 which is redacted from

1103
00:39:25,100 --> 00:39:37,220
this but he was able to use the AWS CLI

1104
00:39:28,600 --> 00:39:38,569
he did an LS first he did at AWS LS so

1105
00:39:37,220 --> 00:39:40,640
to give him a list of all the files and

1106
00:39:38,570 --> 00:39:42,410
then same thing you can just copy a file

1107
00:39:40,640 --> 00:39:44,720
to this folder so you can overwrite

1108
00:39:42,410 --> 00:39:46,790
files delete files or add extra files to

1109
00:39:44,720 --> 00:39:48,649
it so in case of like if they're serving

1110
00:39:46,790 --> 00:39:50,360
JavaScript file from the s3 bucket and

1111
00:39:48,650 --> 00:39:53,570
you override it there's a lot of things

1112
00:39:50,360 --> 00:39:56,660
that could go wrong with that there's

1113
00:39:53,570 --> 00:39:58,910
also times when people create these like

1114
00:39:56,660 --> 00:40:00,950
C names or subdomains and they point it

1115
00:39:58,910 --> 00:40:02,690
to like AWS or a third party and they're

1116
00:40:00,950 --> 00:40:04,460
like okay I'm gonna grab it you know go

1117
00:40:02,690 --> 00:40:06,470
grab lunch come back and claim this on

1118
00:40:04,460 --> 00:40:08,450
the other part and they just completely

1119
00:40:06,470 --> 00:40:09,770
forget so it's just sitting there for

1120
00:40:08,450 --> 00:40:11,299
someone to see where it's pointing to

1121
00:40:09,770 --> 00:40:12,770
and you go and claim that domain on the

1122
00:40:11,300 --> 00:40:15,020
third-party service and you can serve

1123
00:40:12,770 --> 00:40:16,460
whatever content you want you can fish

1124
00:40:15,020 --> 00:40:19,520
you can put a login page whatever you

1125
00:40:16,460 --> 00:40:22,040
want to do there's another example this

1126
00:40:19,520 --> 00:40:24,259
was reported to Starbucks on December 19

1127
00:40:22,040 --> 00:40:25,810
2016 and this hacker got to Kay for

1128
00:40:24,260 --> 00:40:28,130
finding it

1129
00:40:25,810 --> 00:40:29,990
also if you heard from Starbucks hello I

1130
00:40:28,130 --> 00:40:34,550
don't if I know they're from Seattle so

1131
00:40:29,990 --> 00:40:35,720
I don't know if you're here see it

1132
00:40:34,550 --> 00:40:40,280
always works if we say someone's name

1133
00:40:35,720 --> 00:40:44,899
randomly this last one yeah this is the

1134
00:40:40,280 --> 00:40:46,640
last one so this last example is how you

1135
00:40:44,900 --> 00:40:49,010
put everything that I talked about in

1136
00:40:46,640 --> 00:40:54,080
this talk and put it in one single

1137
00:40:49,010 --> 00:40:57,860
vulnerability guys ready so first thing

1138
00:40:54,080 --> 00:40:59,900
was when did an asset discovery so I

1139
00:40:57,860 --> 00:41:02,150
found this stage something something dot

1140
00:40:59,900 --> 00:41:05,020
something Target calm it has to be

1141
00:41:02,150 --> 00:41:07,850
heavily redacted and then I found this

1142
00:41:05,020 --> 00:41:10,580
internal subdomain and I'm an internal

1143
00:41:07,850 --> 00:41:13,220
folder that returned a login page cool

1144
00:41:10,580 --> 00:41:14,330
well have a login I can't get in but I

1145
00:41:13,220 --> 00:41:16,759
want to get hub and look for the

1146
00:41:14,330 --> 00:41:20,120
subdomain it's like hey here's a

1147
00:41:16,760 --> 00:41:21,530
username password that may work so I

1148
00:41:20,120 --> 00:41:26,450
tried the username password didn't work

1149
00:41:21,530 --> 00:41:29,090
but was really interesting was that it

1150
00:41:26,450 --> 00:41:30,140
gave me an idea of there's an auth token

1151
00:41:29,090 --> 00:41:30,900
that they're expecting it somewhere

1152
00:41:30,140 --> 00:41:33,480
redacted in here

1153
00:41:30,900 --> 00:41:35,250
and the current request so gave me the

1154
00:41:33,480 --> 00:41:38,040
idea of this auth token header that I

1155
00:41:35,250 --> 00:41:41,370
have to redact I started looking for any

1156
00:41:38,040 --> 00:41:47,240
game it is curly a handy curl domain I'm

1157
00:41:41,370 --> 00:41:50,160
sorry handy curl syntax that hit this

1158
00:41:47,240 --> 00:41:52,169
internal dashboard it hit the API so I

1159
00:41:50,160 --> 00:41:54,060
was bypassing the API without a login

1160
00:41:52,170 --> 00:41:55,590
since everything instead of looking for

1161
00:41:54,060 --> 00:41:56,940
a credential it was looking to see hey

1162
00:41:55,590 --> 00:41:59,220
do you have this header in your request

1163
00:41:56,940 --> 00:42:01,710
and doesn't have a valid token if you do

1164
00:41:59,220 --> 00:42:04,020
you can hit our API so I found this on

1165
00:42:01,710 --> 00:42:07,470
github and I give it a reboot and he

1166
00:42:04,020 --> 00:42:09,480
came back with okay so that indicates

1167
00:42:07,470 --> 00:42:10,980
that this token is working if I would

1168
00:42:09,480 --> 00:42:12,510
have given it a I changed a character in

1169
00:42:10,980 --> 00:42:14,220
the token to I know one character I

1170
00:42:12,510 --> 00:42:16,950
deleted it and he came back and said no

1171
00:42:14,220 --> 00:42:18,629
no access and you're not authorized so

1172
00:42:16,950 --> 00:42:21,390
that was really interesting so I went

1173
00:42:18,630 --> 00:42:23,040
through the site I went to the login

1174
00:42:21,390 --> 00:42:26,009
page and I looked at a javascript file

1175
00:42:23,040 --> 00:42:27,930
and on the JavaScript file I found more

1176
00:42:26,010 --> 00:42:30,000
endpoints and one of them was really

1177
00:42:27,930 --> 00:42:31,799
cool because it was something about

1178
00:42:30,000 --> 00:42:33,990
accounts so if I were to hit this

1179
00:42:31,800 --> 00:42:37,020
internal API with the get request and

1180
00:42:33,990 --> 00:42:39,240
gave it this a thing with the you know

1181
00:42:37,020 --> 00:42:41,550
all these two headers combined he gave

1182
00:42:39,240 --> 00:42:43,649
me a list of all the LDAP users and the

1183
00:42:41,550 --> 00:42:45,990
user name so I could boot force and do

1184
00:42:43,650 --> 00:42:48,960
more things with that was really really

1185
00:42:45,990 --> 00:42:50,549
fun and that got me a five thousand

1186
00:42:48,960 --> 00:42:52,500
dollar bounty which I gave a portion of

1187
00:42:50,550 --> 00:42:54,120
it to somebody else but that was also a

1188
00:42:52,500 --> 00:42:56,340
good payout I get to put all these

1189
00:42:54,120 --> 00:42:58,920
different bugs from asset discovery to

1190
00:42:56,340 --> 00:43:01,080
finding a directory going on github

1191
00:42:58,920 --> 00:43:02,700
finding more information about it isn't

1192
00:43:01,080 --> 00:43:04,319
that information to find a token that

1193
00:43:02,700 --> 00:43:05,640
actually authorizes me to use the app

1194
00:43:04,320 --> 00:43:07,620
without having to have a username and

1195
00:43:05,640 --> 00:43:10,350
password and then finding usernames and

1196
00:43:07,620 --> 00:43:12,450
taking it from them so this $5,000 was

1197
00:43:10,350 --> 00:43:15,690
the max payout which was great I like to

1198
00:43:12,450 --> 00:43:18,450
collect those sometimes I feels great so

1199
00:43:15,690 --> 00:43:20,220
yeah this was all of the topics had to

1200
00:43:18,450 --> 00:43:21,600
talk about again if you guys want to

1201
00:43:20,220 --> 00:43:23,730
keep in touch Twitter and github would

1202
00:43:21,600 --> 00:43:24,839
be the best way again all the tools that

1203
00:43:23,730 --> 00:43:27,480
I personally have written that's on my

1204
00:43:24,840 --> 00:43:29,580
github you can go and check out our

1205
00:43:27,480 --> 00:43:31,440
Oliver programs on hacker one at home /

1206
00:43:29,580 --> 00:43:33,330
to victory if you want to reach out to

1207
00:43:31,440 --> 00:43:36,750
me those are both my emails once for

1208
00:43:33,330 --> 00:43:38,040
work and once my personal one when I

1209
00:43:36,750 --> 00:43:39,360
welcome to reach out for any questions

1210
00:43:38,040 --> 00:43:40,589
if you want to get started whatever that

1211
00:43:39,360 --> 00:43:43,329
is

1212
00:43:40,589 --> 00:43:44,920
we're also hiring a hacker one hacker

1213
00:43:43,329 --> 00:43:46,450
one dog home slash careers I'm supposed

1214
00:43:44,920 --> 00:43:48,250
to hire some folks so if you guys need a

1215
00:43:46,450 --> 00:43:51,490
job and now you enjoy what we do you can

1216
00:43:48,250 --> 00:43:52,990
check us out I'm also doing a training

1217
00:43:51,490 --> 00:43:54,368
next week it's a little short notice at

1218
00:43:52,990 --> 00:43:55,930
hackfest so if you guys want to come and

1219
00:43:54,369 --> 00:43:58,089
check out a class in three days training

1220
00:43:55,930 --> 00:44:00,490
on how to do recon and chop an

1221
00:43:58,089 --> 00:44:02,680
application to find more bone so I'll be

1222
00:44:00,490 --> 00:44:04,569
out hackfest this is the list of tools

1223
00:44:02,680 --> 00:44:07,740
that I talked about earlier if we want

1224
00:44:04,569 --> 00:44:09,910
to take a screenshot this is your chance

1225
00:44:07,740 --> 00:44:12,990
and a lot of them again out of might get

1226
00:44:09,910 --> 00:44:12,990
help too so just keep that in mind

1227
00:44:26,600 --> 00:44:32,569
did everyone get a screenshot of this

1228
00:44:28,690 --> 00:44:34,610
cool thank you for you guys let me go on

1229
00:44:32,570 --> 00:44:36,380
about blackberries and how I do what I

1230
00:44:34,610 --> 00:44:39,200
do big thing is all the hacker community

1231
00:44:36,380 --> 00:44:40,850
on Twitter if we look for bug bounty

1232
00:44:39,200 --> 00:44:42,020
tips on Twitter you can find a lot of

1233
00:44:40,850 --> 00:44:43,370
good stuff on there some of these things

1234
00:44:42,020 --> 00:44:45,259
that I talked about are coming from the

1235
00:44:43,370 --> 00:44:47,109
community a big thank you to all these

1236
00:44:45,260 --> 00:44:49,580
hackers especially zayats actually SEC

1237
00:44:47,110 --> 00:44:50,200
John was also also at the booth with me

1238
00:44:49,580 --> 00:44:54,200
outside

1239
00:44:50,200 --> 00:44:56,089
Luke's migos you're burning mcil and i

1240
00:44:54,200 --> 00:44:58,040
think you guys were listening also I'm

1241
00:44:56,090 --> 00:45:00,800
giving away a couple of things at our

1242
00:44:58,040 --> 00:45:03,140
booth to IOT devices all you have to do

1243
00:45:00,800 --> 00:45:05,210
is give us your business card in the

1244
00:45:03,140 --> 00:45:06,500
next 15 minutes and we're gonna do a

1245
00:45:05,210 --> 00:45:09,280
drawing if you guys want to talk to me

1246
00:45:06,500 --> 00:45:09,280
more I'll be all set up

1247
00:45:09,370 --> 00:45:14,029
[Applause]

1248
00:45:20,140 --> 00:45:22,200
you

