1
00:00:01,340 --> 00:00:04,680
hi my name is Devin Gaffney I run a

2
00:00:04,680 --> 00:00:06,720
company called International persuasion

3
00:00:06,720 --> 00:00:09,900
machines uh here in Portland Oregon and

4
00:00:09,900 --> 00:00:11,460
we work at the sort of intersection

5
00:00:11,460 --> 00:00:14,900
between security trust and safety and

6
00:00:14,900 --> 00:00:17,520
influence operations misinformation

7
00:00:17,520 --> 00:00:20,100
abuse those sorts of things manipulation

8
00:00:20,100 --> 00:00:21,260
by Bots

9
00:00:21,260 --> 00:00:23,880
so I'm here to talk to you about reverse

10
00:00:23,880 --> 00:00:25,500
engineering how laughs like cloudflare

11
00:00:25,500 --> 00:00:30,779
identify Bots uh the basic wager of IPM

12
00:00:30,779 --> 00:00:32,579
is that there is this turn towards a

13
00:00:32,579 --> 00:00:34,680
sort of socio-technical security that's

14
00:00:34,680 --> 00:00:37,140
happening in the next few years uh that

15
00:00:37,140 --> 00:00:39,420
is to say as systems have become more

16
00:00:39,420 --> 00:00:42,000
participatory where the importance of

17
00:00:42,000 --> 00:00:43,800
people interacting with one another is

18
00:00:43,800 --> 00:00:44,700
the most important thing that's

19
00:00:44,700 --> 00:00:46,500
happening on a system there are these

20
00:00:46,500 --> 00:00:49,320
new incentives for exploits that start

21
00:00:49,320 --> 00:00:50,760
to emerge that aren't purely technical

22
00:00:50,760 --> 00:00:54,120
in nature but instead rely on hacking

23
00:00:54,120 --> 00:00:56,160
how we perceive these systems and

24
00:00:56,160 --> 00:00:58,260
hacking how people interact with those

25
00:00:58,260 --> 00:01:00,480
systems in a meaningful capacity that's

26
00:01:00,480 --> 00:01:03,120
sort of this uh umbrella way of thinking

27
00:01:03,120 --> 00:01:05,939
about you know the Twitter election

28
00:01:05,939 --> 00:01:08,040
misinformation stuff right this is a

29
00:01:08,040 --> 00:01:09,720
socio-technical security problem it's

30
00:01:09,720 --> 00:01:12,479
not just a security problem uh if you

31
00:01:12,479 --> 00:01:13,799
want to talk about different types of

32
00:01:13,799 --> 00:01:15,659
frauds there's a huge ad fraud business

33
00:01:15,659 --> 00:01:18,780
out there Uber spent I think 150 million

34
00:01:18,780 --> 00:01:20,880
dollars buying ads and they stopped

35
00:01:20,880 --> 00:01:22,380
spending 100 million of it and nothing

36
00:01:22,380 --> 00:01:25,380
happened so no there was no drop in like

37
00:01:25,380 --> 00:01:28,619
their ad uh whatever their effective

38
00:01:28,619 --> 00:01:30,600
reach uh with the ads because the rest

39
00:01:30,600 --> 00:01:32,100
of that was just being soaked up by Bots

40
00:01:32,100 --> 00:01:35,100
clicking on uh links to make it look

41
00:01:35,100 --> 00:01:36,360
like lots of people were looking at

42
00:01:36,360 --> 00:01:37,560
things and make everybody on the team

43
00:01:37,560 --> 00:01:40,079
feel good about themselves so this is

44
00:01:40,079 --> 00:01:43,079
sort of this weird nebulous space where

45
00:01:43,079 --> 00:01:45,299
our expectations about how machines work

46
00:01:45,299 --> 00:01:47,400
and our expectations about what we are

47
00:01:47,400 --> 00:01:48,720
going to get in these different online

48
00:01:48,720 --> 00:01:53,040
social spaces can be sort of hijacked

49
00:01:53,040 --> 00:01:55,560
uh also there's this great paper that is

50
00:01:55,560 --> 00:01:56,939
I think the only paper that sort of like

51
00:01:56,939 --> 00:01:59,220
talks about this in specifics and here's

52
00:01:59,220 --> 00:02:01,680
a like heavily uh edited little quote

53
00:02:01,680 --> 00:02:03,720
from a very long paragraph about the

54
00:02:03,720 --> 00:02:06,540
sort of introduction to this stuff uh so

55
00:02:06,540 --> 00:02:08,940
there's a lot of different examples that

56
00:02:08,940 --> 00:02:10,500
you see out in the world you know fake

57
00:02:10,500 --> 00:02:13,560
Yelp reviews fake Twitter profiles uh

58
00:02:13,560 --> 00:02:15,599
Cambridge analytica stealing data

59
00:02:15,599 --> 00:02:18,360
and then exploiting it uh people using

60
00:02:18,360 --> 00:02:21,180
uh different Bots to put comments on

61
00:02:21,180 --> 00:02:24,599
Amazon reviews people doing anything

62
00:02:24,599 --> 00:02:27,599
related to nfts uh anything related to

63
00:02:27,599 --> 00:02:29,400
crypto you see lots of different pump

64
00:02:29,400 --> 00:02:32,160
and up schemes where the idea is you

65
00:02:32,160 --> 00:02:34,500
have masses of real genuine people

66
00:02:34,500 --> 00:02:36,480
bidding on real genuine products and

67
00:02:36,480 --> 00:02:37,860
then all of a sudden once you've bought

68
00:02:37,860 --> 00:02:41,640
the thing that whole crowd disappears

69
00:02:41,640 --> 00:02:45,360
so one of the basic tools that people

70
00:02:45,360 --> 00:02:49,080
use to stop Bots out in the world is web

71
00:02:49,080 --> 00:02:50,940
application firewalls there's companies

72
00:02:50,940 --> 00:02:54,239
like cloudflare perimeter X which I

73
00:02:54,239 --> 00:02:55,980
think got by bought by human last week

74
00:02:55,980 --> 00:02:58,560
or something imperva a bunch of these

75
00:02:58,560 --> 00:03:00,180
different companies that basically do

76
00:03:00,180 --> 00:03:01,980
the same thing they produce this little

77
00:03:01,980 --> 00:03:04,200
page that says hey slow down wait a

78
00:03:04,200 --> 00:03:06,180
second I think Uh something's a little

79
00:03:06,180 --> 00:03:08,040
sketchy about you you know maybe it's

80
00:03:08,040 --> 00:03:09,780
something about the browser settings or

81
00:03:09,780 --> 00:03:12,480
the fact that it's coming from some data

82
00:03:12,480 --> 00:03:14,940
center IP or whatever and there's this

83
00:03:14,940 --> 00:03:16,680
whole industry of folks that are

84
00:03:16,680 --> 00:03:19,500
Building Systems to circumvent these

85
00:03:19,500 --> 00:03:21,360
tools and try to get around these walls

86
00:03:21,360 --> 00:03:24,060
at the minimal cost minimal effort to

87
00:03:24,060 --> 00:03:26,040
them because they are also Engineers

88
00:03:26,040 --> 00:03:29,340
that also have access to you know stack

89
00:03:29,340 --> 00:03:32,700
Overflow and still have salaries and you

90
00:03:32,700 --> 00:03:34,200
know budget constraints and jira tickets

91
00:03:34,200 --> 00:03:35,700
and all of that sort of stuff like

92
00:03:35,700 --> 00:03:37,980
anybody else right and so they're just

93
00:03:37,980 --> 00:03:39,300
trying to find the cheapest way to get

94
00:03:39,300 --> 00:03:41,640
over the wall and so if you go look at

95
00:03:41,640 --> 00:03:43,440
packages that are used to circumvent

96
00:03:43,440 --> 00:03:44,819
this stuff you can actually learn a lot

97
00:03:44,819 --> 00:03:46,620
about what they're doing what they're

98
00:03:46,620 --> 00:03:48,239
building you'll see you know popular

99
00:03:48,239 --> 00:03:50,580
URLs show up you'll see a lot of nft

100
00:03:50,580 --> 00:03:52,799
references people packaging packaging in

101
00:03:52,799 --> 00:03:56,099
metamask to open up wallets stuff like

102
00:03:56,099 --> 00:04:00,060
that and so the work uh the the way that

103
00:04:00,060 --> 00:04:02,099
people use waffs in practice at least

104
00:04:02,099 --> 00:04:04,200
from my perspective has been to sort of

105
00:04:04,200 --> 00:04:06,840
like be a security theater and throw up

106
00:04:06,840 --> 00:04:09,239
some sort of wall that demonstrates some

107
00:04:09,239 --> 00:04:12,180
amount of capacity for preventing this

108
00:04:12,180 --> 00:04:15,299
sort of bad behavior but because these

109
00:04:15,299 --> 00:04:17,699
are really complicated tools that look

110
00:04:17,699 --> 00:04:19,978
at a lot of different signals with

111
00:04:19,978 --> 00:04:21,358
enough effort you should you can usually

112
00:04:21,358 --> 00:04:23,639
get over the wall and get into the

113
00:04:23,639 --> 00:04:26,280
system and so usually this sort of like

114
00:04:26,280 --> 00:04:28,759
one size fits all approach

115
00:04:28,759 --> 00:04:31,259
doesn't actually solve anything if

116
00:04:31,259 --> 00:04:32,759
someone is dedicated enough to get over

117
00:04:32,759 --> 00:04:34,740
this this wall it's mostly a question of

118
00:04:34,740 --> 00:04:37,139
do they want to spend the time doing it

119
00:04:37,139 --> 00:04:41,639
so I did a statistical test a while back

120
00:04:41,639 --> 00:04:44,400
where I wanted to know what makes these

121
00:04:44,400 --> 00:04:46,320
wafts tick

122
00:04:46,320 --> 00:04:47,280
um

123
00:04:47,280 --> 00:04:51,300
so the basic idea is uh at IPM we've got

124
00:04:51,300 --> 00:04:53,160
44 different types of Bot

125
00:04:53,160 --> 00:04:56,160
implementations that use like a spectrum

126
00:04:56,160 --> 00:04:58,440
of sophistication so is it you know just

127
00:04:58,440 --> 00:05:01,639
sending off like a really low effort

128
00:05:01,639 --> 00:05:04,680
HTTP request in Python right and it

129
00:05:04,680 --> 00:05:05,639
doesn't do anything it doesn't even

130
00:05:05,639 --> 00:05:08,040
change its user agent it's just let me

131
00:05:08,040 --> 00:05:09,840
go to the URL all right and let's see

132
00:05:09,840 --> 00:05:11,820
what we get right and that's all the way

133
00:05:11,820 --> 00:05:13,860
out to much more complicated things that

134
00:05:13,860 --> 00:05:15,600
are you know trying to obfuscate the

135
00:05:15,600 --> 00:05:17,940
fact that it's a fake browser that's

136
00:05:17,940 --> 00:05:20,100
running an actual browser rather than an

137
00:05:20,100 --> 00:05:22,380
HTTP request it's able to execute

138
00:05:22,380 --> 00:05:24,660
JavaScript it's able to detect if it's

139
00:05:24,660 --> 00:05:26,699
getting hit by a captcha and then solve

140
00:05:26,699 --> 00:05:29,039
the captcha all of that sort of stuff so

141
00:05:29,039 --> 00:05:31,380
with all of these different design

142
00:05:31,380 --> 00:05:33,960
implementations we can sort of label the

143
00:05:33,960 --> 00:05:36,840
44 different types of bots as to whether

144
00:05:36,840 --> 00:05:38,520
or not it has that particular

145
00:05:38,520 --> 00:05:40,320
configuration of design implementations

146
00:05:40,320 --> 00:05:43,740
present so is it rerouting its traffic

147
00:05:43,740 --> 00:05:46,740
through not a data center IP is it

148
00:05:46,740 --> 00:05:49,620
running an actual browser or not is it

149
00:05:49,620 --> 00:05:51,360
trying to hide the fact that it's

150
00:05:51,360 --> 00:05:52,860
running a browser or not or is it trying

151
00:05:52,860 --> 00:05:55,620
to hide its user agent is it actually

152
00:05:55,620 --> 00:05:59,220
mounting the browser on a display or a

153
00:05:59,220 --> 00:06:00,780
they're called virtual displays it's

154
00:06:00,780 --> 00:06:02,520
headed mode I don't know how much

155
00:06:02,520 --> 00:06:04,560
everybody is read into like playing with

156
00:06:04,560 --> 00:06:06,840
selenium and different types of browser

157
00:06:06,840 --> 00:06:08,880
automation tools but there is one way

158
00:06:08,880 --> 00:06:10,440
that you can run it in headed mode to

159
00:06:10,440 --> 00:06:11,759
make it look like it's actually on a

160
00:06:11,759 --> 00:06:14,100
screen rather than just on some Ubuntu

161
00:06:14,100 --> 00:06:17,160
machine out in the uh the use some vast

162
00:06:17,160 --> 00:06:18,259
data center

163
00:06:18,259 --> 00:06:21,360
so we can take all of these 44 different

164
00:06:21,360 --> 00:06:24,600
bot implementations and encode them as

165
00:06:24,600 --> 00:06:26,880
the different types that they are

166
00:06:26,880 --> 00:06:31,020
then there we go so in order to test

167
00:06:31,020 --> 00:06:34,979
this uh Waf project what I needed now

168
00:06:34,979 --> 00:06:38,880
was a fairly representative data set of

169
00:06:38,880 --> 00:06:41,759
different websites that are a high

170
00:06:41,759 --> 00:06:43,860
profile enough that they are actually

171
00:06:43,860 --> 00:06:47,160
using you know waffs in a considered way

172
00:06:47,160 --> 00:06:49,560
there's probably a person or five people

173
00:06:49,560 --> 00:06:52,139
thinking about how it's set up at these

174
00:06:52,139 --> 00:06:54,060
companies and I wanted it to be

175
00:06:54,060 --> 00:06:55,860
something that you know people are

176
00:06:55,860 --> 00:06:58,380
actually making an effort to protect and

177
00:06:58,380 --> 00:07:00,600
so what I started with was just a set of

178
00:07:00,600 --> 00:07:02,699
retailers there was this uh and also a

179
00:07:02,699 --> 00:07:04,620
set of URLs that was like very easy to

180
00:07:04,620 --> 00:07:06,300
get because it's a pain in the ass to go

181
00:07:06,300 --> 00:07:08,160
look up you know URLs for a thousand

182
00:07:08,160 --> 00:07:09,660
different companies so there's this

183
00:07:09,660 --> 00:07:11,460
great data set that Newsweek put out of

184
00:07:11,460 --> 00:07:13,919
200 different companies that had all the

185
00:07:13,919 --> 00:07:16,080
URLs in it so I grabbed all the URLs and

186
00:07:16,080 --> 00:07:19,199
then we I threw them into our tool

187
00:07:19,199 --> 00:07:22,680
and then took uh screenshots and a bunch

188
00:07:22,680 --> 00:07:24,840
of telemetric data off of each of the

189
00:07:24,840 --> 00:07:27,539
websites and then now I had this data

190
00:07:27,539 --> 00:07:30,180
set of 44 different types of bots

191
00:07:30,180 --> 00:07:31,979
hitting these 200 or so different

192
00:07:31,979 --> 00:07:34,680
websites once each

193
00:07:34,680 --> 00:07:38,699
then what I did was I encoded a machine

194
00:07:38,699 --> 00:07:40,560
learner that would then look at the

195
00:07:40,560 --> 00:07:44,220
responses from these servers and say is

196
00:07:44,220 --> 00:07:46,080
this response from a web application

197
00:07:46,080 --> 00:07:48,840
firewall or not so does this look like I

198
00:07:48,840 --> 00:07:51,720
got hit with a wall and the way I did

199
00:07:51,720 --> 00:07:54,599
with that was uh going through and

200
00:07:54,599 --> 00:07:57,360
voting on a lot of cases manually doing

201
00:07:57,360 --> 00:07:59,940
a maybe about 1500 of them manually and

202
00:07:59,940 --> 00:08:02,099
then projecting the rest out uh

203
00:08:02,099 --> 00:08:03,660
cross-validating and making sure that I

204
00:08:03,660 --> 00:08:05,280
didn't screw it up too bad and it was

205
00:08:05,280 --> 00:08:07,199
you know pretty accurate in pulling this

206
00:08:07,199 --> 00:08:09,060
out there's only a few of these sorts of

207
00:08:09,060 --> 00:08:11,160
you know large web application firewall

208
00:08:11,160 --> 00:08:14,160
companies that do this stuff so the

209
00:08:14,160 --> 00:08:15,300
machine learner was you know

210
00:08:15,300 --> 00:08:17,400
specifically looking for you know what's

211
00:08:17,400 --> 00:08:20,879
on the page is cloudflare DNS stuff on

212
00:08:20,879 --> 00:08:23,280
the page and that's pretty good signal

213
00:08:23,280 --> 00:08:25,379
to get most of these

214
00:08:25,379 --> 00:08:30,840
uh and so uh then I took that data set

215
00:08:30,840 --> 00:08:35,339
and encoded it into whether or not I

216
00:08:35,339 --> 00:08:37,200
think it got hit by a web application

217
00:08:37,200 --> 00:08:38,580
firewall according to this machine

218
00:08:38,580 --> 00:08:40,620
learner and then whether or not

219
00:08:40,620 --> 00:08:43,200
different design patterns were present

220
00:08:43,200 --> 00:08:46,320
in that particular test so for this test

221
00:08:46,320 --> 00:08:49,620
using a standard selenium instance that

222
00:08:49,620 --> 00:08:52,260
went over to patagonia's web page and

223
00:08:52,260 --> 00:08:54,720
didn't try to hide its IP that's a

224
00:08:54,720 --> 00:08:56,040
particular configuration of design

225
00:08:56,040 --> 00:08:58,200
patterns and did we get hit with a web

226
00:08:58,200 --> 00:09:00,720
application firewall wall or not did the

227
00:09:00,720 --> 00:09:01,920
machine learner think that we got hit

228
00:09:01,920 --> 00:09:05,339
with one or not and so uh we run through

229
00:09:05,339 --> 00:09:07,080
that we have this really nice data set

230
00:09:07,080 --> 00:09:09,660
now that we can throw into this other

231
00:09:09,660 --> 00:09:12,120
process I apologize this is a very big

232
00:09:12,120 --> 00:09:14,640
Rube Goldberg machine to try to get a

233
00:09:14,640 --> 00:09:18,060
reasonable answer out but

234
00:09:18,060 --> 00:09:19,860
we can then take that and throw it into

235
00:09:19,860 --> 00:09:22,500
a thing called dominance analysis which

236
00:09:22,500 --> 00:09:25,140
is basically saying all right so the

237
00:09:25,140 --> 00:09:27,000
thing you want to know is whether or not

238
00:09:27,000 --> 00:09:28,620
you got hit with this web application

239
00:09:28,620 --> 00:09:30,839
firewall and the things I know that

240
00:09:30,839 --> 00:09:32,279
could that could potentially predict

241
00:09:32,279 --> 00:09:35,160
that is are you using a browser are you

242
00:09:35,160 --> 00:09:37,380
trying to hide your IP all of that sort

243
00:09:37,380 --> 00:09:39,240
of stuff so I'm going to test each of

244
00:09:39,240 --> 00:09:41,160
those things individually and then test

245
00:09:41,160 --> 00:09:43,320
them with the rest of them and see how

246
00:09:43,320 --> 00:09:46,140
much lift a statistical test would get

247
00:09:46,140 --> 00:09:48,839
by having that thing included in the

248
00:09:48,839 --> 00:09:51,420
test so is this thing actually the thing

249
00:09:51,420 --> 00:09:53,519
that's driving it is it mostly about the

250
00:09:53,519 --> 00:09:56,040
browser or is it mostly about the IP or

251
00:09:56,040 --> 00:09:57,779
is it mostly about these other factors

252
00:09:57,779 --> 00:10:00,300
right what is driving any sort of

253
00:10:00,300 --> 00:10:02,100
meaningful description of whether or not

254
00:10:02,100 --> 00:10:04,440
a web application firewall is actually

255
00:10:04,440 --> 00:10:07,320
blocking some of this stuff

256
00:10:07,320 --> 00:10:10,140
and so you can then get a sort of

257
00:10:10,140 --> 00:10:13,080
weighted ranking of what things matter

258
00:10:13,080 --> 00:10:16,019
and in what order and that gives you you

259
00:10:16,019 --> 00:10:17,160
know really interesting information

260
00:10:17,160 --> 00:10:18,540
about

261
00:10:18,540 --> 00:10:20,279
you know how people usually are building

262
00:10:20,279 --> 00:10:21,899
these things what when they're playing

263
00:10:21,899 --> 00:10:24,180
with thresholds what type of thresholds

264
00:10:24,180 --> 00:10:26,040
are they tweaking the most which ones

265
00:10:26,040 --> 00:10:27,660
matter which ones don't all of that sort

266
00:10:27,660 --> 00:10:29,640
of stuff so if you're on the defensive

267
00:10:29,640 --> 00:10:31,860
side this is useful to think about in

268
00:10:31,860 --> 00:10:33,480
terms of what is someone going to build

269
00:10:33,480 --> 00:10:35,519
next what's their immediate Next Step

270
00:10:35,519 --> 00:10:37,320
the lowest hanging fruit thing is going

271
00:10:37,320 --> 00:10:39,600
to be the thing that causes most of

272
00:10:39,600 --> 00:10:42,540
these browsers to get through so I

273
00:10:42,540 --> 00:10:44,279
should focus my energy on these things

274
00:10:44,279 --> 00:10:45,959
in this rank order and if you're on the

275
00:10:45,959 --> 00:10:48,720
offensive side you want to use this as

276
00:10:48,720 --> 00:10:50,519
your sort of hit list of what things I

277
00:10:50,519 --> 00:10:52,079
need to include in order to make this

278
00:10:52,079 --> 00:10:54,240
browser work if it has this then this

279
00:10:54,240 --> 00:10:56,160
then this it's probably going to work

280
00:10:56,160 --> 00:10:57,839
and anything else on this list is kind

281
00:10:57,839 --> 00:10:59,820
of diminishing returns so maybe I'll go

282
00:10:59,820 --> 00:11:02,160
look for someone else to hit

283
00:11:02,160 --> 00:11:04,740
so there is the entire Rube Goldberg

284
00:11:04,740 --> 00:11:08,160
machine in one screenshot go from some

285
00:11:08,160 --> 00:11:10,980
Newsweek post to a bunch of different uh

286
00:11:10,980 --> 00:11:12,959
recordings of web pages to a machine

287
00:11:12,959 --> 00:11:15,660
learner to a data set to a dominance

288
00:11:15,660 --> 00:11:18,480
analysis to a bar chart and the only

289
00:11:18,480 --> 00:11:19,860
thing that we care about really is the

290
00:11:19,860 --> 00:11:20,880
bar chart

291
00:11:20,880 --> 00:11:24,060
and so there's the bar chart the idea

292
00:11:24,060 --> 00:11:27,300
here is that just using selenium

293
00:11:27,300 --> 00:11:29,220
something that can run with JavaScript

294
00:11:29,220 --> 00:11:31,740
something that's really basic is going

295
00:11:31,740 --> 00:11:35,519
to drive most of your variation most of

296
00:11:35,519 --> 00:11:37,140
the success you're going to get and then

297
00:11:37,140 --> 00:11:39,060
there's this huge drop off to are you

298
00:11:39,060 --> 00:11:41,820
using headedness or not is it is it

299
00:11:41,820 --> 00:11:43,380
actually mounted to a virtual display or

300
00:11:43,380 --> 00:11:47,160
not and then to another degree less are

301
00:11:47,160 --> 00:11:49,440
you trying to hide the fact that this is

302
00:11:49,440 --> 00:11:51,720
a selenium browser or a python browser

303
00:11:51,720 --> 00:11:54,540
or whatever a python HTTP request so are

304
00:11:54,540 --> 00:11:56,700
you screwing with the state of the

305
00:11:56,700 --> 00:11:58,800
selenium instance to make it say oh yeah

306
00:11:58,800 --> 00:12:00,480
no no this is not this is not robots

307
00:12:00,480 --> 00:12:03,360
this is a very legit guy that lives in a

308
00:12:03,360 --> 00:12:05,579
data center in Santa Clara or something

309
00:12:05,579 --> 00:12:09,360
um and then almost to no effect does IP

310
00:12:09,360 --> 00:12:11,579
IP obfuscation matter uh that was sort

311
00:12:11,579 --> 00:12:13,200
of the interesting thing that I found

312
00:12:13,200 --> 00:12:15,300
here was it doesn't really matter if

313
00:12:15,300 --> 00:12:17,700
it's coming from low reputation IPS or

314
00:12:17,700 --> 00:12:19,800
high reputation IPS uh when you account

315
00:12:19,800 --> 00:12:21,240
for these other things which really

316
00:12:21,240 --> 00:12:23,880
drive the uh the story uh the other note

317
00:12:23,880 --> 00:12:26,700
here is that the the r squared is 0.31

318
00:12:26,700 --> 00:12:29,279
so in like very basic terms that means

319
00:12:29,279 --> 00:12:31,200
that it's picking something up but it's

320
00:12:31,200 --> 00:12:34,200
not picking up the whole story so I

321
00:12:34,200 --> 00:12:36,120
count that to you know there's lots of

322
00:12:36,120 --> 00:12:38,700
different ways to set up thresholds for

323
00:12:38,700 --> 00:12:41,579
these types of tools uh and design you

324
00:12:41,579 --> 00:12:43,440
know your particular implementation and

325
00:12:43,440 --> 00:12:44,760
people are screwing with them all the

326
00:12:44,760 --> 00:12:46,800
time to make it exactly you know Miss

327
00:12:46,800 --> 00:12:48,720
the cases that they want to let in and

328
00:12:48,720 --> 00:12:50,579
not miss the cases that you know all of

329
00:12:50,579 --> 00:12:52,440
that sort of stuff so there's lots of

330
00:12:52,440 --> 00:12:55,019
variation in this stuff and even you

331
00:12:55,019 --> 00:12:56,820
know maybe the same test would work once

332
00:12:56,820 --> 00:12:58,320
and not work the next time because there

333
00:12:58,320 --> 00:13:00,660
is some element of stochasticity with

334
00:13:00,660 --> 00:13:03,060
this stuff uh so it's definitely picking

335
00:13:03,060 --> 00:13:04,560
up something meaningful here but it's

336
00:13:04,560 --> 00:13:06,899
not picking up everything

337
00:13:06,899 --> 00:13:09,480
uh and then just as like a sort of top

338
00:13:09,480 --> 00:13:12,420
level this is what uh it looks like as a

339
00:13:12,420 --> 00:13:14,820
more basic data set we see this huge

340
00:13:14,820 --> 00:13:18,000
drop off we're only you know 15 of these

341
00:13:18,000 --> 00:13:19,560
requests are successful when we're just

342
00:13:19,560 --> 00:13:22,620
sending them through uh HTTP requests

343
00:13:22,620 --> 00:13:24,899
and uh it doesn't really matter what

344
00:13:24,899 --> 00:13:27,839
we're using whether or not uh it's you

345
00:13:27,839 --> 00:13:30,540
know any type of IP obfuscation it's

346
00:13:30,540 --> 00:13:32,519
it's all pretty crappy if you're not

347
00:13:32,519 --> 00:13:33,959
running JavaScript they're not going to

348
00:13:33,959 --> 00:13:36,360
play uh and then it's kind of a watch

349
00:13:36,360 --> 00:13:38,220
with the rest of them once we get into

350
00:13:38,220 --> 00:13:40,800
this regime of are we using an actual

351
00:13:40,800 --> 00:13:42,360
browser or not there's some that are

352
00:13:42,360 --> 00:13:43,680
slightly better than others and some

353
00:13:43,680 --> 00:13:45,480
that are worse than others residential

354
00:13:45,480 --> 00:13:48,060
IP proxy IPS we see drops on because

355
00:13:48,060 --> 00:13:49,380
there's lots of different problems with

356
00:13:49,380 --> 00:13:51,360
connecting sometimes and just having

357
00:13:51,360 --> 00:13:54,000
weak connections that get dropped and so

358
00:13:54,000 --> 00:13:55,800
some of that's attributable just to that

359
00:13:55,800 --> 00:13:59,399
uh but yeah what was interesting one one

360
00:13:59,399 --> 00:14:01,860
more interesting thing was in every case

361
00:14:01,860 --> 00:14:04,139
for the 200 retailers that I looked at

362
00:14:04,139 --> 00:14:06,360
at least one browser was able to get

363
00:14:06,360 --> 00:14:09,240
through uh so that sort of goes to this

364
00:14:09,240 --> 00:14:11,519
theory that like yeah you can you can

365
00:14:11,519 --> 00:14:13,500
block this stuff but with enough time

366
00:14:13,500 --> 00:14:15,180
and with enough specific you know

367
00:14:15,180 --> 00:14:17,279
specific implementations somebody will

368
00:14:17,279 --> 00:14:19,620
find the hole that you haven't accounted

369
00:14:19,620 --> 00:14:21,300
for or that you specifically left open

370
00:14:21,300 --> 00:14:23,279
because you know there's some other

371
00:14:23,279 --> 00:14:25,260
vendor that needs to take screenshots of

372
00:14:25,260 --> 00:14:28,260
your site to do some sort of thing that

373
00:14:28,260 --> 00:14:29,880
you know somebody in marketing signed up

374
00:14:29,880 --> 00:14:31,560
for and so now you just have to have

375
00:14:31,560 --> 00:14:33,120
this little back door and you just hope

376
00:14:33,120 --> 00:14:34,980
that that's not a huge back door that

377
00:14:34,980 --> 00:14:36,540
people care about uh that are building

378
00:14:36,540 --> 00:14:38,040
these sorts of things

379
00:14:38,040 --> 00:14:40,920
and that's it uh I'd love to answer any

380
00:14:40,920 --> 00:14:42,120
questions about this stuff or

381
00:14:42,120 --> 00:14:45,300
manipulation in general or any any of

382
00:14:45,300 --> 00:14:47,420
that

383
00:14:48,060 --> 00:14:49,920
great question so the question is you

384
00:14:49,920 --> 00:14:51,720
know what was the sort of methodology of

385
00:14:51,720 --> 00:14:53,699
uh data capture for the original data

386
00:14:53,699 --> 00:14:54,360
set

387
00:14:54,360 --> 00:14:57,120
um so there's about 10 000 captures in

388
00:14:57,120 --> 00:14:58,500
the data set it's not just screenshots

389
00:14:58,500 --> 00:15:00,420
it's also you know what was the rendered

390
00:15:00,420 --> 00:15:02,399
Dom what was the you know uh what were

391
00:15:02,399 --> 00:15:03,779
the headers the cookies all of that sort

392
00:15:03,779 --> 00:15:05,399
of stuff what what was actually given to

393
00:15:05,399 --> 00:15:08,160
me in response to this request right

394
00:15:08,160 --> 00:15:10,800
um uh one part of it was what was the

395
00:15:10,800 --> 00:15:12,660
temporal nature was there did I do it at

396
00:15:12,660 --> 00:15:14,160
a time when people are usually looking

397
00:15:14,160 --> 00:15:17,100
for Patagonia jackets or Burlington Coat

398
00:15:17,100 --> 00:15:19,560
Factory things or whatever right and and

399
00:15:19,560 --> 00:15:22,380
the answer is no I ran it when I ran it

400
00:15:22,380 --> 00:15:24,180
because I wanted to get this post out

401
00:15:24,180 --> 00:15:27,540
and so uh and so you know there's

402
00:15:27,540 --> 00:15:29,160
there's there's some of you know

403
00:15:29,160 --> 00:15:31,199
randomized controlled trial element

404
00:15:31,199 --> 00:15:33,060
there because it was you know when I did

405
00:15:33,060 --> 00:15:35,399
it so uh I didn't try to control for

406
00:15:35,399 --> 00:15:37,260
that too much and it was just one

407
00:15:37,260 --> 00:15:40,440
One-Shot attempt to uh get a get a

408
00:15:40,440 --> 00:15:42,540
resolution from the server uh I have

409
00:15:42,540 --> 00:15:43,920
internal systems that are able to

410
00:15:43,920 --> 00:15:45,300
determine if there was some sort of

411
00:15:45,300 --> 00:15:47,100
internal failure on my side that's not

412
00:15:47,100 --> 00:15:49,019
their problem and those are rejected and

413
00:15:49,019 --> 00:15:50,880
removed from the data set and then I

414
00:15:50,880 --> 00:15:53,699
also removed any retailer that had fewer

415
00:15:53,699 --> 00:15:57,000
than 20 percent of the responses come

416
00:15:57,000 --> 00:15:59,699
back as being blocked by wafts because

417
00:15:59,699 --> 00:16:01,860
then I'm saying these are not these

418
00:16:01,860 --> 00:16:03,660
companies are not meaningfully trying to

419
00:16:03,660 --> 00:16:05,160
block this traffic in the first place so

420
00:16:05,160 --> 00:16:07,139
they're not doing enough for this to

421
00:16:07,139 --> 00:16:09,240
even be worth looking at whether or not

422
00:16:09,240 --> 00:16:10,680
they have a useful strategy because

423
00:16:10,680 --> 00:16:13,260
their strategy basically is not do much

424
00:16:13,260 --> 00:16:15,000
so

425
00:16:15,000 --> 00:16:19,199
sure so the question is how deep did

426
00:16:19,199 --> 00:16:22,560
this uh data set capture go did you just

427
00:16:22,560 --> 00:16:24,000
hit the website once or did you actually

428
00:16:24,000 --> 00:16:26,820
you know go in and type a search for

429
00:16:26,820 --> 00:16:28,860
Patagonia the sweaters or something

430
00:16:28,860 --> 00:16:31,740
right the answer is it was just a ping

431
00:16:31,740 --> 00:16:34,320
on their root site their top level

432
00:16:34,320 --> 00:16:37,259
domain that's a pretty non-controversial

433
00:16:37,259 --> 00:16:40,019
thing to do with a bot if you have

434
00:16:40,019 --> 00:16:42,120
problems with that uh I sort of have

435
00:16:42,120 --> 00:16:43,920
problems with it but you know we are in

436
00:16:43,920 --> 00:16:45,420
a an environment where that's totally

437
00:16:45,420 --> 00:16:47,579
fine and like that's actually like a

438
00:16:47,579 --> 00:16:49,019
preferred way of doing things so

439
00:16:49,019 --> 00:16:50,279
whatever

440
00:16:50,279 --> 00:16:52,199
um but yeah it was just hitting the top

441
00:16:52,199 --> 00:16:54,600
level and taking up and like a very

442
00:16:54,600 --> 00:16:56,519
cursory scan

443
00:16:56,519 --> 00:16:58,860
um but yeah the the the the wager being

444
00:16:58,860 --> 00:17:00,480
that if you're not protecting the top

445
00:17:00,480 --> 00:17:02,519
level you're probably not doing much

446
00:17:02,519 --> 00:17:05,339
beyond that that's a loose assumption

447
00:17:05,339 --> 00:17:06,839
there's you know deeper you go into

448
00:17:06,839 --> 00:17:08,939
systems more in you know interrogation

449
00:17:08,939 --> 00:17:11,900
of the browsers but yeah

450
00:17:12,179 --> 00:17:14,780
what

451
00:17:15,358 --> 00:17:18,448
[Music]

452
00:17:18,599 --> 00:17:22,079
sure my data center is redacted and uh

453
00:17:22,079 --> 00:17:24,720
uh I'm sure that it would change if you

454
00:17:24,720 --> 00:17:26,220
used a different data center I think

455
00:17:26,220 --> 00:17:28,559
that that data center in turn probably

456
00:17:28,559 --> 00:17:31,380
runs on a lot of AWS as far as I

457
00:17:31,380 --> 00:17:33,720
can tell because when you use some of

458
00:17:33,720 --> 00:17:35,280
their other products you're just using

459
00:17:35,280 --> 00:17:38,160
AWS so I don't know if that helps you

460
00:17:38,160 --> 00:17:40,380
narrow down which provider it was

461
00:17:40,380 --> 00:17:43,260
um but uh but yeah so I think obviously

462
00:17:43,260 --> 00:17:44,520
it's going to change if you're using

463
00:17:44,520 --> 00:17:45,780
different data providers obviously it's

464
00:17:45,780 --> 00:17:46,799
going to change if you're using

465
00:17:46,799 --> 00:17:48,960
different you know data like even you

466
00:17:48,960 --> 00:17:51,840
know uh whatever it regions on your data

467
00:17:51,840 --> 00:17:53,640
provider right that that might trigger

468
00:17:53,640 --> 00:17:55,740
certain events right there's maybe more

469
00:17:55,740 --> 00:17:58,020
you know interrogation if you're

470
00:17:58,020 --> 00:18:02,039
visiting uh very U.S website like WinCo

471
00:18:02,039 --> 00:18:04,620
is on this list of companies and WinCo

472
00:18:04,620 --> 00:18:06,720
you know if you hit WinCo from Bulgaria

473
00:18:06,720 --> 00:18:08,940
it's like no

474
00:18:08,940 --> 00:18:11,039
um so that you know there's certain

475
00:18:11,039 --> 00:18:12,299
things like that there's quirks like

476
00:18:12,299 --> 00:18:14,520
that that come up for sure

477
00:18:14,520 --> 00:18:16,440
go for it real quick and then yeah I was

478
00:18:16,440 --> 00:18:18,299
wondering if you set any request headers

479
00:18:18,299 --> 00:18:20,220
like a referrer or a cookie and that

480
00:18:20,220 --> 00:18:22,559
nope if that might have actually helped

481
00:18:22,559 --> 00:18:24,360
you punch through the the laugh nope

482
00:18:24,360 --> 00:18:26,700
this is Joe browser coming from anywhere

483
00:18:26,700 --> 00:18:28,679
USA I think it might do you think it

484
00:18:28,679 --> 00:18:31,080
might help yeah potentially sure right I

485
00:18:31,080 --> 00:18:33,360
mean I think yeah this is this is uh you

486
00:18:33,360 --> 00:18:35,280
know there's sort of you know tweaks at

487
00:18:35,280 --> 00:18:36,480
the margins of all of this stuff that

488
00:18:36,480 --> 00:18:38,820
you can do to increase yield as it were

489
00:18:38,820 --> 00:18:40,919
right uh this is sort of the initial

490
00:18:40,919 --> 00:18:42,840
test of let's take like a very naive

491
00:18:42,840 --> 00:18:45,240
approach and assume nothing and also not

492
00:18:45,240 --> 00:18:47,039
do a lot of work of looking up what

493
00:18:47,039 --> 00:18:49,080
headers would work for each of these 200

494
00:18:49,080 --> 00:18:50,580
different websites right

495
00:18:50,580 --> 00:18:51,960
um but yeah totally there would be

496
00:18:51,960 --> 00:18:53,580
there's plenty of there's plenty of

497
00:18:53,580 --> 00:18:55,020
circumstances where that where that

498
00:18:55,020 --> 00:18:57,840
would work and you know in fact some uh

499
00:18:57,840 --> 00:18:59,460
web application firewalls the way that

500
00:18:59,460 --> 00:19:01,140
they work under the hood is if you pass

501
00:19:01,140 --> 00:19:03,900
the first test they give you a token and

502
00:19:03,900 --> 00:19:06,000
you can use that token in curl or

503
00:19:06,000 --> 00:19:07,500
whatever else you want to use for the

504
00:19:07,500 --> 00:19:09,240
rest of the day and they're like that

505
00:19:09,240 --> 00:19:11,520
looks totally fine to me so you know

506
00:19:11,520 --> 00:19:13,440
there's definitely implementations that

507
00:19:13,440 --> 00:19:15,960
are very um you know prone to that sort

508
00:19:15,960 --> 00:19:17,280
of attack

509
00:19:17,280 --> 00:19:18,600
go for it

510
00:19:18,600 --> 00:19:21,660
ooh okay so there are good Bots out on

511
00:19:21,660 --> 00:19:23,100
the internet that people think are great

512
00:19:23,100 --> 00:19:25,320
like Google Bots and different you know

513
00:19:25,320 --> 00:19:26,660
other

514
00:19:26,660 --> 00:19:29,400
non-googlebot googlebot competitors Bing

515
00:19:29,400 --> 00:19:30,960
Bots maybe

516
00:19:30,960 --> 00:19:32,940
um and uh and and so the question is

517
00:19:32,940 --> 00:19:34,980
what if you just mimic them

518
00:19:34,980 --> 00:19:38,100
um sounds sounds more illegal

519
00:19:38,100 --> 00:19:41,940
um but uh but uh yeah I think that you

520
00:19:41,940 --> 00:19:43,140
could probably get away with that sort

521
00:19:43,140 --> 00:19:45,780
of thing right if you were to say yeah

522
00:19:45,780 --> 00:19:47,400
this is definitely the Google crawler

523
00:19:47,400 --> 00:19:50,460
and maybe make it an IP that is in the

524
00:19:50,460 --> 00:19:53,640
same region somehow through with

525
00:19:53,640 --> 00:19:55,260
proxies and seeing like oh yeah this is

526
00:19:55,260 --> 00:19:56,400
also in Mountain View or something I

527
00:19:56,400 --> 00:19:57,660
don't know maybe you can do something

528
00:19:57,660 --> 00:20:00,360
there uh I haven't tried it that'd be

529
00:20:00,360 --> 00:20:02,160
interesting you probably get some yield

530
00:20:02,160 --> 00:20:03,059
on it

531
00:20:03,059 --> 00:20:06,020
way in the back

532
00:20:07,320 --> 00:20:09,720
there and so the Google publishes their

533
00:20:09,720 --> 00:20:12,419
IPs is that what you said

534
00:20:12,419 --> 00:20:15,440
oh gotcha

535
00:20:18,900 --> 00:20:21,419
gotcha so Google publishes the uh

536
00:20:21,419 --> 00:20:25,020
addresses of the bots so if um if you

537
00:20:25,020 --> 00:20:26,520
are a sophisticated person you'd be able

538
00:20:26,520 --> 00:20:28,860
to say this this doesn't look super

539
00:20:28,860 --> 00:20:30,000
legit

540
00:20:30,000 --> 00:20:31,440
um because it's coming from a totally

541
00:20:31,440 --> 00:20:34,260
weird place that's not that address so

542
00:20:34,260 --> 00:20:37,440
great uh thank you so much uh visit the

543
00:20:37,440 --> 00:20:39,480
website we have tools on there

544
00:20:39,480 --> 00:20:42,320
give it a shot

