1
00:00:00,370 --> 00:00:05,910
[Applause]

2
00:00:02,419 --> 00:00:07,649
all right can<font color="#CCCCCC"> everybody hear me is just</font>

3
00:00:05,910 --> 00:00:13,759
<font color="#E5E5E5">working is</font><font color="#CCCCCC"> just good</font><font color="#E5E5E5"> everybody hear me</font>

4
00:00:07,649 --> 00:00:13,759
<font color="#CCCCCC">yes no I I'll have to do bit louder okay</font>

5
00:00:15,260 --> 00:00:22,619
man<font color="#CCCCCC"> it's not</font><font color="#E5E5E5"> that</font><font color="#CCCCCC"> kind of talk okay so</font>

6
00:00:20,520 --> 00:00:24,660
I'm<font color="#E5E5E5"> talking today</font><font color="#CCCCCC"> about hopping</font><font color="#E5E5E5"> fences</font>

7
00:00:22,619 --> 00:00:27,029
<font color="#E5E5E5">or practical laugh attacks so first of</font>

8
00:00:24,660 --> 00:00:29,490
<font color="#E5E5E5">all hi Winnipeg about</font><font color="#CCCCCC"> ten years</font><font color="#E5E5E5"> ago I</font>

9
00:00:27,029 --> 00:00:31,198
moved<font color="#E5E5E5"> to the</font><font color="#CCCCCC"> west coast</font><font color="#E5E5E5"> and not so much</font>

10
00:00:29,490 --> 00:00:32,790
liking<font color="#E5E5E5"> the weather here seems like every</font>

11
00:00:31,199 --> 00:00:36,329
<font color="#E5E5E5">time</font><font color="#CCCCCC"> I come out for</font><font color="#E5E5E5"> b-sides I get nailed</font>

12
00:00:32,790 --> 00:00:38,700
by<font color="#CCCCCC"> a snowstorm</font><font color="#E5E5E5"> so it's not good</font><font color="#CCCCCC"> my name</font>

13
00:00:36,329 --> 00:00:40,320
is<font color="#E5E5E5"> Yvonne boilie as Ron said</font><font color="#CCCCCC"> I worked at</font>

14
00:00:38,700 --> 00:00:43,559
the Manitoba government for a bit I'm a

15
00:00:40,320 --> 00:00:46,590
former<font color="#E5E5E5"> secure Salam na</font><font color="#CCCCCC"> one of the first</font>

16
00:00:43,559 --> 00:00:48,360
actually if I recall correctly<font color="#CCCCCC"> and then</font>

17
00:00:46,590 --> 00:00:50,750
have been<font color="#E5E5E5"> in a bunch of different roles</font>

18
00:00:48,360 --> 00:00:54,570
since then I'm currently working for

19
00:00:50,750 --> 00:00:56,489
fastly<font color="#CCCCCC"> and working in the security</font>

20
00:00:54,570 --> 00:00:58,559
research team so you saw if you saw

21
00:00:56,489 --> 00:01:02,760
Chris's talk yesterday<font color="#E5E5E5"> he and I work in</font>

22
00:00:58,559 --> 00:01:04,349
<font color="#E5E5E5">the same team</font><font color="#CCCCCC"> and so one of</font><font color="#E5E5E5"> the big</font>

23
00:01:02,760 --> 00:01:06,780
<font color="#E5E5E5">things that we're</font><font color="#CCCCCC"> working</font><font color="#E5E5E5"> on at vastly</font>

24
00:01:04,349 --> 00:01:10,589
is building out<font color="#CCCCCC"> laugh defenses that</font><font color="#E5E5E5"> are</font>

25
00:01:06,780 --> 00:01:13,229
baked into<font color="#E5E5E5"> our edge security service</font>

26
00:01:10,590 --> 00:01:15,540
offerings<font color="#E5E5E5"> and one of the fun things</font>

27
00:01:13,229 --> 00:01:18,689
<font color="#CCCCCC">about web application firewalls is that</font>

28
00:01:15,540 --> 00:01:21,210
they are<font color="#E5E5E5"> capable of doing all kinds of</font>

29
00:01:18,689 --> 00:01:22,710
really neat<font color="#CCCCCC"> things but like every other</font>

30
00:01:21,210 --> 00:01:23,908
<font color="#CCCCCC">defensive technology they have a bunch</font>

31
00:01:22,710 --> 00:01:26,189
<font color="#E5E5E5">of different</font><font color="#CCCCCC"> weaknesses so I'm going to</font>

32
00:01:23,909 --> 00:01:27,990
<font color="#E5E5E5">talk a little bit</font><font color="#CCCCCC"> about what are some of</font>

33
00:01:26,189 --> 00:01:30,240
<font color="#CCCCCC">the things that we kind of look for when</font>

34
00:01:27,990 --> 00:01:34,289
we're implementing new<font color="#CCCCCC"> wafer rules and</font>

35
00:01:30,240 --> 00:01:37,140
the<font color="#E5E5E5"> other side of the quality control</font>

36
00:01:34,290 --> 00:01:39,420
<font color="#E5E5E5">and security capabilities of what Wes</font>

37
00:01:37,140 --> 00:01:42,450
can do and how they can<font color="#E5E5E5"> leave you</font>

38
00:01:39,420 --> 00:01:45,420
exposed so first off some of<font color="#E5E5E5"> the pros of</font>

39
00:01:42,450 --> 00:01:47,520
<font color="#E5E5E5">running a lap are that they are they can</font>

40
00:01:45,420 --> 00:01:50,189
<font color="#CCCCCC">be relatively easy</font><font color="#E5E5E5"> to configure they're</font>

41
00:01:47,520 --> 00:01:52,289
pretty cheap<font color="#E5E5E5"> to deploy depending on what</font>

42
00:01:50,189 --> 00:01:55,408
stack you're using<font color="#E5E5E5"> they're often baked</font>

43
00:01:52,290 --> 00:01:56,969
right in<font color="#E5E5E5"> if you are doing</font><font color="#CCCCCC"> any kind</font><font color="#E5E5E5"> of</font>

44
00:01:55,409 --> 00:01:59,070
e-commerce stuff<font color="#E5E5E5"> there</font><font color="#CCCCCC"> you get to tick</font>

45
00:01:56,969 --> 00:02:00,960
off<font color="#CCCCCC"> your</font><font color="#E5E5E5"> check</font><font color="#CCCCCC"> box for PCI compliance</font>

46
00:01:59,070 --> 00:02:02,369
you don't have to I believe<font color="#E5E5E5"> you still</font>

47
00:02:00,960 --> 00:02:03,630
get to<font color="#E5E5E5"> skip some</font><font color="#CCCCCC"> of the other due</font>

48
00:02:02,369 --> 00:02:06,600
diligence stuff if you<font color="#CCCCCC"> have a Web</font>

49
00:02:03,630 --> 00:02:08,220
<font color="#CCCCCC">Application Firewall in place and you</font>

50
00:02:06,600 --> 00:02:10,049
can also use virtual patching as a

51
00:02:08,220 --> 00:02:12,540
stopgap measure<font color="#CCCCCC"> so if you have a</font>

52
00:02:10,050 --> 00:02:13,360
vulnerable application it becomes a lot

53
00:02:12,540 --> 00:02:17,109
<font color="#CCCCCC">easier to</font>

54
00:02:13,360 --> 00:02:19,810
<font color="#E5E5E5">in production if you can hack together a</font>

55
00:02:17,110 --> 00:02:22,660
<font color="#E5E5E5">web</font><font color="#CCCCCC"> application firewall rule to plug</font>

56
00:02:19,810 --> 00:02:25,030
the hole some of the cons of that about

57
00:02:22,660 --> 00:02:26,590
<font color="#E5E5E5">them as easy as they are to configure</font>

58
00:02:25,030 --> 00:02:29,980
<font color="#E5E5E5">they're just as easy to miss configure</font>

59
00:02:26,590 --> 00:02:33,550
<font color="#E5E5E5">so you can imagine that if you spend</font><font color="#CCCCCC"> a</font>

60
00:02:29,980 --> 00:02:35,709
<font color="#E5E5E5">lot of time crafting a virtual patch but</font>

61
00:02:33,550 --> 00:02:36,670
you miss a single<font color="#E5E5E5"> character all of that</font>

62
00:02:35,710 --> 00:02:38,740
work goes out the window

63
00:02:36,670 --> 00:02:40,000
you also have to balance false positives

64
00:02:38,740 --> 00:02:41,650
<font color="#E5E5E5">because nothing will make your</font>

65
00:02:40,000 --> 00:02:43,870
production<font color="#E5E5E5"> engineering team scream at</font>

66
00:02:41,650 --> 00:02:46,360
you louder than filtering out all<font color="#E5E5E5"> of the</font>

67
00:02:43,870 --> 00:02:48,850
<font color="#E5E5E5">legit traffic from your website</font><font color="#CCCCCC"> it's</font>

68
00:02:46,360 --> 00:02:52,030
<font color="#CCCCCC">inline infrastructure</font><font color="#E5E5E5"> which means that</font>

69
00:02:48,850 --> 00:02:54,130
if<font color="#E5E5E5"> you</font><font color="#CCCCCC"> have any kind</font><font color="#E5E5E5"> of failure in</font><font color="#CCCCCC"> your</font>

70
00:02:52,030 --> 00:02:56,410
<font color="#E5E5E5">laugh it can interrupt the ability of</font>

71
00:02:54,130 --> 00:02:58,840
<font color="#E5E5E5">your users to reach an application they</font>

72
00:02:56,410 --> 00:03:00,609
can<font color="#E5E5E5"> also if you</font><font color="#CCCCCC"> have anything that's</font>

73
00:02:58,840 --> 00:03:02,980
doing transformations<font color="#E5E5E5"> on content is they</font>

74
00:03:00,610 --> 00:03:04,660
pass through<font color="#CCCCCC"> you can</font><font color="#E5E5E5"> introduce errors</font>

75
00:03:02,980 --> 00:03:07,510
that users can't figure out<font color="#E5E5E5"> what's going</font>

76
00:03:04,660 --> 00:03:09,130
on<font color="#E5E5E5"> they also radically increase your</font>

77
00:03:07,510 --> 00:03:12,160
<font color="#CCCCCC">attack surface</font><font color="#E5E5E5"> I'll talk a little bit</font>

78
00:03:09,130 --> 00:03:15,340
<font color="#CCCCCC">more about why that's why that</font><font color="#E5E5E5"> is in in</font>

79
00:03:12,160 --> 00:03:17,440
a<font color="#E5E5E5"> few minutes and the other problem with</font>

80
00:03:15,340 --> 00:03:19,150
virtual patching is it's really<font color="#CCCCCC"> easy</font><font color="#E5E5E5"> to</font>

81
00:03:17,440 --> 00:03:21,880
deploy<font color="#CCCCCC"> a virtual patch into production</font>

82
00:03:19,150 --> 00:03:23,890
but everybody here probably has a war

83
00:03:21,880 --> 00:03:25,720
<font color="#E5E5E5">story about deploying a</font><font color="#CCCCCC"> proof-of-concept</font>

84
00:03:23,890 --> 00:03:27,220
<font color="#E5E5E5">in production and then never being able</font>

85
00:03:25,720 --> 00:03:30,489
<font color="#CCCCCC">to pull it right</font><font color="#E5E5E5"> back out again</font><font color="#CCCCCC"> when</font>

86
00:03:27,220 --> 00:03:32,500
it's time<font color="#E5E5E5"> to fix it so as a when I'm</font>

87
00:03:30,489 --> 00:03:33,910
doing red team work and<font color="#E5E5E5"> I find out that</font>

88
00:03:32,500 --> 00:03:35,260
there's<font color="#CCCCCC"> a</font><font color="#E5E5E5"> virtual patch in place</font><font color="#CCCCCC"> it</font>

89
00:03:33,910 --> 00:03:36,940
<font color="#E5E5E5">makes me very happy</font><font color="#CCCCCC"> because</font><font color="#E5E5E5"> it means the</font>

90
00:03:35,260 --> 00:03:40,390
vulnerabilities probably still exists in

91
00:03:36,940 --> 00:03:42,609
<font color="#E5E5E5">the application on the other side so</font>

92
00:03:40,390 --> 00:03:43,750
when we kind<font color="#E5E5E5"> of step away</font><font color="#CCCCCC"> from</font><font color="#E5E5E5"> all of</font>

93
00:03:42,610 --> 00:03:45,180
<font color="#E5E5E5">those different things and we started</font>

94
00:03:43,750 --> 00:03:47,019
thinking<font color="#E5E5E5"> about what</font><font color="#CCCCCC"> we</font><font color="#E5E5E5"> can do with them</font>

95
00:03:45,180 --> 00:03:50,530
<font color="#CCCCCC">Chris spent a bit of time</font><font color="#E5E5E5"> yesterday</font>

96
00:03:47,019 --> 00:03:51,780
<font color="#E5E5E5">telling you how you can test them</font><font color="#CCCCCC"> FTW</font><font color="#E5E5E5"> is</font>

97
00:03:50,530 --> 00:03:54,549
a project<font color="#CCCCCC"> it provides the</font><font color="#E5E5E5"> ability to</font>

98
00:03:51,780 --> 00:03:56,739
<font color="#E5E5E5">really good and reliable of quality</font>

99
00:03:54,549 --> 00:03:58,239
assurance on<font color="#CCCCCC"> me</font><font color="#E5E5E5"> laugh rules and it's not</font>

100
00:03:56,739 --> 00:04:00,910
just applicable to our<font color="#CCCCCC"> web</font><font color="#E5E5E5"> product</font>

101
00:03:58,239 --> 00:04:02,470
anything that<font color="#E5E5E5"> uses the</font><font color="#CCCCCC"> the mod security</font>

102
00:04:00,910 --> 00:04:03,940
<font color="#CCCCCC">rules that gain some of the benefit from</font>

103
00:04:02,470 --> 00:04:05,109
<font color="#E5E5E5">that</font><font color="#CCCCCC"> you can see the commit</font><font color="#E5E5E5"> history and</font>

104
00:04:03,940 --> 00:04:07,660
the project<font color="#E5E5E5"> has a bunch of</font><font color="#CCCCCC"> different</font>

105
00:04:05,110 --> 00:04:09,850
folks from fastly<font color="#E5E5E5"> and both fastly</font>

106
00:04:07,660 --> 00:04:11,709
<font color="#CCCCCC">current current fastly staff and fastly</font>

107
00:04:09,850 --> 00:04:14,350
alumni have contributed<font color="#E5E5E5"> to and continue</font>

108
00:04:11,709 --> 00:04:15,940
to<font color="#CCCCCC"> contribute to</font><font color="#E5E5E5"> the CRS project but</font>

109
00:04:14,350 --> 00:04:17,820
when we're<font color="#CCCCCC"> looking at the coming at it</font>

110
00:04:15,940 --> 00:04:20,978
<font color="#CCCCCC">from the other side if we're an attacker</font>

111
00:04:17,820 --> 00:04:22,810
<font color="#CCCCCC">there's one real guiding principle that</font>

112
00:04:20,978 --> 00:04:24,909
<font color="#E5E5E5">makes our lives much easier</font><font color="#CCCCCC"> if we're</font>

113
00:04:22,810 --> 00:04:26,950
<font color="#CCCCCC">attacking it and that's</font><font color="#E5E5E5"> because Jon</font>

114
00:04:24,910 --> 00:04:30,760
<font color="#E5E5E5">Postel but this really great</font>

115
00:04:26,950 --> 00:04:32,650
<font color="#E5E5E5">concept into building</font><font color="#CCCCCC"> rfcs if you don't</font>

116
00:04:30,760 --> 00:04:33,880
know who<font color="#E5E5E5"> john</font><font color="#CCCCCC"> Postel is</font><font color="#E5E5E5"> he's an internet</font>

117
00:04:32,650 --> 00:04:36,520
superhero you should learn<font color="#CCCCCC"> about him</font>

118
00:04:33,880 --> 00:04:38,590
he's<font color="#CCCCCC"> really cool so the</font><font color="#E5E5E5"> basic principle</font>

119
00:04:36,520 --> 00:04:40,840
<font color="#CCCCCC">is be liberal in what you accept</font><font color="#E5E5E5"> be</font>

120
00:04:38,590 --> 00:04:43,030
<font color="#E5E5E5">conservative in what you send so what</font>

121
00:04:40,840 --> 00:04:44,530
this<font color="#E5E5E5"> means</font><font color="#CCCCCC"> is that if you are a client</font>

122
00:04:43,030 --> 00:04:46,359
<font color="#E5E5E5">you want to make sure that you're</font>

123
00:04:44,530 --> 00:04:48,820
sending<font color="#E5E5E5"> as many well-formed requests as</font>

124
00:04:46,360 --> 00:04:51,190
possible<font color="#E5E5E5"> but if you're a server you want</font>

125
00:04:48,820 --> 00:04:53,380
<font color="#E5E5E5">to process them as many different</font><font color="#CCCCCC"> types</font>

126
00:04:51,190 --> 00:04:55,960
<font color="#CCCCCC">of requests and make best efforts to</font>

127
00:04:53,380 --> 00:04:57,850
process as<font color="#CCCCCC"> many requests as possible</font><font color="#E5E5E5"> on</font>

128
00:04:55,960 --> 00:04:59,859
the<font color="#E5E5E5"> converse if your client is now</font>

129
00:04:57,850 --> 00:05:01,390
receiving the communication and said you

130
00:04:59,860 --> 00:05:04,360
want to<font color="#E5E5E5"> make</font><font color="#CCCCCC"> a best effort to parse that</font>

131
00:05:01,390 --> 00:05:07,719
<font color="#E5E5E5">and process and render at this</font><font color="#CCCCCC"> really as</font>

132
00:05:04,360 --> 00:05:08,980
accurately as you<font color="#E5E5E5"> can and if you</font><font color="#CCCCCC"> are a</font>

133
00:05:07,720 --> 00:05:10,930
server you want<font color="#E5E5E5"> to make</font><font color="#CCCCCC"> sure you're only</font>

134
00:05:08,980 --> 00:05:13,060
<font color="#E5E5E5">sending content that's appropriate now</font>

135
00:05:10,930 --> 00:05:15,460
the other area that<font color="#CCCCCC"> people are</font><font color="#E5E5E5"> very</font>

136
00:05:13,060 --> 00:05:17,830
familiar with<font color="#E5E5E5"> this is in web security if</font>

137
00:05:15,460 --> 00:05:19,390
you have ever had<font color="#CCCCCC"> to deal with</font><font color="#E5E5E5"> the joys</font>

138
00:05:17,830 --> 00:05:21,640
of<font color="#CCCCCC"> doing web development</font><font color="#E5E5E5"> for an older</font>

139
00:05:19,390 --> 00:05:23,430
version of Internet Explorer<font color="#E5E5E5"> or older</font>

140
00:05:21,640 --> 00:05:26,440
web browsers and cross browser

141
00:05:23,430 --> 00:05:30,760
compatibility<font color="#E5E5E5"> this quote is also your</font>

142
00:05:26,440 --> 00:05:32,020
nightmare there now these this becomes a

143
00:05:30,760 --> 00:05:33,490
really<font color="#E5E5E5"> important issue when you're</font>

144
00:05:32,020 --> 00:05:35,229
dealing<font color="#CCCCCC"> with web application firewalls</font>

145
00:05:33,490 --> 00:05:36,970
because browsers<font color="#CCCCCC"> and servers are your</font>

146
00:05:35,230 --> 00:05:38,980
friend if you're<font color="#E5E5E5"> an attacker because</font>

147
00:05:36,970 --> 00:05:41,290
<font color="#CCCCCC">they do</font><font color="#E5E5E5"> all kinds</font><font color="#CCCCCC"> of</font><font color="#E5E5E5"> things like content</font>

148
00:05:38,980 --> 00:05:43,120
sniffing so you can lie<font color="#E5E5E5"> to a web server</font>

149
00:05:41,290 --> 00:05:44,920
or<font color="#E5E5E5"> a web browser</font><font color="#CCCCCC"> about what kind of</font>

150
00:05:43,120 --> 00:05:47,590
<font color="#E5E5E5">content you're sending and</font><font color="#CCCCCC"> oftentimes</font>

151
00:05:44,920 --> 00:05:49,210
<font color="#CCCCCC">they will process</font><font color="#E5E5E5"> that for you say oh no</font>

152
00:05:47,590 --> 00:05:50,469
yeah I know you<font color="#CCCCCC"> said you</font><font color="#E5E5E5"> wanted to send</font>

153
00:05:49,210 --> 00:05:52,479
<font color="#E5E5E5">me a zip file but that looks an awful</font>

154
00:05:50,470 --> 00:05:53,860
lot<font color="#CCCCCC"> like a gift so I'm gonna</font><font color="#E5E5E5"> convert it</font>

155
00:05:52,480 --> 00:05:55,510
treat<font color="#CCCCCC"> it as a gift and process it</font>

156
00:05:53,860 --> 00:05:59,200
<font color="#CCCCCC">differently</font><font color="#E5E5E5"> but your</font><font color="#CCCCCC"> Web Application</font>

157
00:05:55,510 --> 00:06:01,860
<font color="#CCCCCC">Firewall might not do that</font><font color="#E5E5E5"> so these</font>

158
00:05:59,200 --> 00:06:04,599
types of tools can really<font color="#CCCCCC"> help you to</font>

159
00:06:01,860 --> 00:06:08,290
understand why or how you might attack

160
00:06:04,600 --> 00:06:11,560
<font color="#E5E5E5">something at the core</font><font color="#CCCCCC"> of it when</font><font color="#E5E5E5"> we take</font>

161
00:06:08,290 --> 00:06:13,660
a<font color="#E5E5E5"> look at how bypasses happen the most</font>

162
00:06:11,560 --> 00:06:16,030
reliable work on this<font color="#E5E5E5"> really dates back</font>

163
00:06:13,660 --> 00:06:17,740
almost<font color="#E5E5E5"> 20 years now it's a research</font>

164
00:06:16,030 --> 00:06:19,690
paper called insertion<font color="#CCCCCC"> invasion and</font>

165
00:06:17,740 --> 00:06:21,520
denial of service eluding<font color="#E5E5E5"> network</font>

166
00:06:19,690 --> 00:06:24,940
<font color="#E5E5E5">intrusion detection systems and it</font>

167
00:06:21,520 --> 00:06:26,590
covers<font color="#E5E5E5"> like old school IDs and really</font>

168
00:06:24,940 --> 00:06:28,690
new school IDs<font color="#E5E5E5"> because most of the</font>

169
00:06:26,590 --> 00:06:32,260
<font color="#E5E5E5">evasion still work depending on how</font>

170
00:06:28,690 --> 00:06:34,180
networks have<font color="#E5E5E5"> been set</font><font color="#CCCCCC"> up it's a really</font>

171
00:06:32,260 --> 00:06:35,590
<font color="#CCCCCC">great</font><font color="#E5E5E5"> paper if</font><font color="#CCCCCC"> you haven't read it</font><font color="#E5E5E5"> it is</font>

172
00:06:34,180 --> 00:06:37,000
an asset if you want to learn<font color="#E5E5E5"> how to</font>

173
00:06:35,590 --> 00:06:38,710
think<font color="#E5E5E5"> like an attacker</font><font color="#CCCCCC"> and</font><font color="#E5E5E5"> think about</font>

174
00:06:37,000 --> 00:06:42,160
how to abuse systems<font color="#CCCCCC"> it's a fact</font>

175
00:06:38,710 --> 00:06:43,840
<font color="#E5E5E5">plastic resource</font><font color="#CCCCCC"> the bottom line is the</font>

176
00:06:42,160 --> 00:06:46,750
network intrusion detection stuff all

177
00:06:43,840 --> 00:06:48,340
happens because any type of network

178
00:06:46,750 --> 00:06:49,960
application<font color="#E5E5E5"> it doesn't</font><font color="#CCCCCC"> matter what type</font>

179
00:06:48,340 --> 00:06:52,090
of infrastructure or<font color="#E5E5E5"> service you're</font>

180
00:06:49,960 --> 00:06:53,979
trying to operate you have<font color="#CCCCCC"> to handle a</font>

181
00:06:52,090 --> 00:06:55,719
protocol<font color="#E5E5E5"> and because</font><font color="#CCCCCC"> of that you need</font><font color="#E5E5E5"> a</font>

182
00:06:53,980 --> 00:06:57,280
parser<font color="#CCCCCC"> and if you work in application</font>

183
00:06:55,720 --> 00:06:58,780
security<font color="#CCCCCC"> or security testing or</font>

184
00:06:57,280 --> 00:07:00,630
application development<font color="#CCCCCC"> you all have a</font>

185
00:06:58,780 --> 00:07:04,539
job because<font color="#E5E5E5"> you are dealing with parses</font>

186
00:07:00,630 --> 00:07:06,880
<font color="#CCCCCC">in my in my</font><font color="#E5E5E5"> case</font><font color="#CCCCCC"> I really</font><font color="#E5E5E5"> have a enjoy</font>

187
00:07:04,540 --> 00:07:08,650
the work that I do but when I was

188
00:07:06,880 --> 00:07:10,810
<font color="#E5E5E5">working in Firefox one of the biggest</font>

189
00:07:08,650 --> 00:07:12,880
challenge that<font color="#E5E5E5"> we often saw was I'm</font>

190
00:07:10,810 --> 00:07:15,220
sorry<font color="#E5E5E5"> on Mozilla's</font><font color="#CCCCCC"> Web Services when I</font>

191
00:07:12,880 --> 00:07:16,330
was working there<font color="#CCCCCC"> we had a lot of</font>

192
00:07:15,220 --> 00:07:17,530
different types<font color="#E5E5E5"> of applications that</font>

193
00:07:16,330 --> 00:07:19,539
<font color="#E5E5E5">would try</font><font color="#CCCCCC"> to do different things and</font>

194
00:07:17,530 --> 00:07:21,039
leveraging weaknesses in the

195
00:07:19,540 --> 00:07:26,980
implementations of the protocols was the

196
00:07:21,040 --> 00:07:28,720
easiest way<font color="#CCCCCC"> to target</font><font color="#E5E5E5"> anything the other</font>

197
00:07:26,980 --> 00:07:31,240
thing to<font color="#E5E5E5"> consider is when you were</font>

198
00:07:28,720 --> 00:07:34,090
processing things as liberally as

199
00:07:31,240 --> 00:07:35,770
possible<font color="#CCCCCC"> the balance becomes that when</font>

200
00:07:34,090 --> 00:07:38,109
you<font color="#E5E5E5"> are implementing web application</font>

201
00:07:35,770 --> 00:07:41,710
firewall rules<font color="#E5E5E5"> the strictness that you</font>

202
00:07:38,110 --> 00:07:44,110
want to apply<font color="#E5E5E5"> becomes the gates between</font>

203
00:07:41,710 --> 00:07:45,400
<font color="#E5E5E5">having false positives and failing to</font>

204
00:07:44,110 --> 00:07:47,710
<font color="#E5E5E5">protect the application that you're</font>

205
00:07:45,400 --> 00:07:49,659
looking at this thing the challenge here

206
00:07:47,710 --> 00:07:51,669
<font color="#CCCCCC">has increased by the fact that HTTP as a</font>

207
00:07:49,660 --> 00:07:54,010
protocol is a<font color="#E5E5E5"> rapidly moving target</font>

208
00:07:51,670 --> 00:07:57,310
<font color="#E5E5E5">we're looking at changing how TLS works</font>

209
00:07:54,010 --> 00:08:00,310
<font color="#E5E5E5">TLS is going through an upgrade to 1.3</font>

210
00:07:57,310 --> 00:08:01,750
<font color="#E5E5E5">which is a significant shift</font><font color="#CCCCCC"> and one</font><font color="#E5E5E5"> of</font>

211
00:08:00,310 --> 00:08:05,140
the great things<font color="#E5E5E5"> about it</font><font color="#CCCCCC"> is that it has</font>

212
00:08:01,750 --> 00:08:07,120
<font color="#CCCCCC">a</font><font color="#E5E5E5"> really strict focus on reducing</font><font color="#CCCCCC"> the</font>

213
00:08:05,140 --> 00:08:10,180
number<font color="#CCCCCC"> of options when you are setting</font>

214
00:08:07,120 --> 00:08:12,280
up an<font color="#E5E5E5"> stls connection the trade-off is</font>

215
00:08:10,180 --> 00:08:13,930
<font color="#CCCCCC">that everybody and</font><font color="#E5E5E5"> their dog</font><font color="#CCCCCC"> is</font><font color="#E5E5E5"> trying</font>

216
00:08:12,280 --> 00:08:15,330
<font color="#E5E5E5">to get something shimmed in there so</font>

217
00:08:13,930 --> 00:08:18,670
<font color="#E5E5E5">that they can continue to</font><font color="#CCCCCC"> do things</font><font color="#E5E5E5"> like</font>

218
00:08:15,330 --> 00:08:21,400
TLS interception and fun<font color="#E5E5E5"> stuff</font><font color="#CCCCCC"> like that</font>

219
00:08:18,670 --> 00:08:23,560
HTML<font color="#CCCCCC"> and CSS</font><font color="#E5E5E5"> as well as JavaScript are</font>

220
00:08:21,400 --> 00:08:25,870
incredibly complex<font color="#CCCCCC"> trying to process</font>

221
00:08:23,560 --> 00:08:28,450
those in a way that is reliable and

222
00:08:25,870 --> 00:08:30,940
meaningful in<font color="#E5E5E5"> the context of an</font>

223
00:08:28,450 --> 00:08:33,340
intercepting proxy or a forward<font color="#E5E5E5"> proxy is</font>

224
00:08:30,940 --> 00:08:36,549
very challenging<font color="#CCCCCC"> especially in the case</font>

225
00:08:33,340 --> 00:08:38,560
<font color="#E5E5E5">of HTML and</font><font color="#CCCCCC"> CSS the standards are</font>

226
00:08:36,549 --> 00:08:40,719
changing<font color="#E5E5E5"> new</font><font color="#CCCCCC"> api's and new functionality</font>

227
00:08:38,559 --> 00:08:43,630
<font color="#CCCCCC">are being added all</font><font color="#E5E5E5"> the</font><font color="#CCCCCC"> time and then on</font>

228
00:08:40,720 --> 00:08:44,740
top of<font color="#E5E5E5"> that it's an html5 and</font><font color="#CCCCCC"> css3 have</font>

229
00:08:43,630 --> 00:08:46,300
evolved to the<font color="#CCCCCC"> point where they're</font><font color="#E5E5E5"> both</font>

230
00:08:44,740 --> 00:08:47,680
cheering complete languages<font color="#CCCCCC"> or sorry</font>

231
00:08:46,300 --> 00:08:49,930
when they're combined they are Turing

232
00:08:47,680 --> 00:08:52,140
complete language<font color="#CCCCCC"> so there's no actual</font>

233
00:08:49,930 --> 00:08:54,319
reliable way to say that<font color="#E5E5E5"> this content is</font>

234
00:08:52,140 --> 00:08:56,280
trustworthy if you've<font color="#E5E5E5"> ever written</font>

235
00:08:54,320 --> 00:08:58,080
JavaScript parser or<font color="#CCCCCC"> anything to</font>

236
00:08:56,280 --> 00:09:00,540
validate<font color="#E5E5E5"> JavaScript you may have heard</font>

237
00:08:58,080 --> 00:09:03,270
<font color="#CCCCCC">of something called J's fuck</font><font color="#E5E5E5"> which is a</font>

238
00:09:00,540 --> 00:09:05,370
way of RIA Novosti<font color="#CCCCCC"> so that it just looks</font>

239
00:09:03,270 --> 00:09:08,280
<font color="#CCCCCC">like</font><font color="#E5E5E5"> different</font><font color="#CCCCCC"> de limiters</font><font color="#E5E5E5"> and</font>

240
00:09:05,370 --> 00:09:12,630
characters<font color="#CCCCCC"> the control</font><font color="#E5E5E5"> characters rather</font>

241
00:09:08,280 --> 00:09:14,760
<font color="#E5E5E5">than actual code so with all of what all</font>

242
00:09:12,630 --> 00:09:17,910
this<font color="#E5E5E5"> leads us</font><font color="#CCCCCC"> to is understanding what a</font>

243
00:09:14,760 --> 00:09:19,319
<font color="#E5E5E5">laugh bypass is and the bottom line it's</font>

244
00:09:17,910 --> 00:09:20,520
essentially<font color="#CCCCCC"> just malicious content</font>

245
00:09:19,320 --> 00:09:22,830
<font color="#E5E5E5">that's</font><font color="#CCCCCC"> not caught by the filters that</font>

246
00:09:20,520 --> 00:09:24,720
<font color="#E5E5E5">you might write it's essentially a</font>

247
00:09:22,830 --> 00:09:26,130
string transform so you want to take<font color="#CCCCCC"> a</font>

248
00:09:24,720 --> 00:09:27,990
string that exists and<font color="#E5E5E5"> you want to</font>

249
00:09:26,130 --> 00:09:30,060
modify<font color="#E5E5E5"> it in a very small</font><font color="#CCCCCC"> way that</font><font color="#E5E5E5"> can</font>

250
00:09:27,990 --> 00:09:32,300
<font color="#E5E5E5">be in any component</font><font color="#CCCCCC"> of</font><font color="#E5E5E5"> the HTTP request</font>

251
00:09:30,060 --> 00:09:34,859
it can fit into the header<font color="#CCCCCC"> so you</font>

252
00:09:32,300 --> 00:09:37,560
<font color="#CCCCCC">commonplace headers that can be</font><font color="#E5E5E5"> targeted</font>

253
00:09:34,860 --> 00:09:39,330
our origin headers<font color="#CCCCCC"> that tell you</font><font color="#E5E5E5"> where</font>

254
00:09:37,560 --> 00:09:42,630
the request<font color="#E5E5E5"> is intended to go or where</font>

255
00:09:39,330 --> 00:09:44,460
it's coming from<font color="#CCCCCC"> the you can perform</font>

256
00:09:42,630 --> 00:09:46,130
parameter mutation injecting different

257
00:09:44,460 --> 00:09:49,860
characters changing the encoding of

258
00:09:46,130 --> 00:09:52,100
characters and<font color="#E5E5E5"> of components of the</font>

259
00:09:49,860 --> 00:09:54,030
request either the request line or

260
00:09:52,100 --> 00:09:56,190
individual components of<font color="#E5E5E5"> the request</font>

261
00:09:54,030 --> 00:09:58,380
body if your request method allows<font color="#CCCCCC"> you</font>

262
00:09:56,190 --> 00:10:00,750
<font color="#E5E5E5">to have one</font><font color="#CCCCCC"> you can also construct</font><font color="#E5E5E5"> the</font>

263
00:09:58,380 --> 00:10:01,800
URI so that are not legitimate<font color="#E5E5E5"> but when</font>

264
00:10:00,750 --> 00:10:04,050
they're processed through different

265
00:10:01,800 --> 00:10:05,790
encoding tricks<font color="#E5E5E5"> within web application</font>

266
00:10:04,050 --> 00:10:07,620
firewalls or<font color="#CCCCCC"> applications</font><font color="#E5E5E5"> of the</font><font color="#CCCCCC"> servers</font>

267
00:10:05,790 --> 00:10:14,339
themselves<font color="#E5E5E5"> will be transformed into</font>

268
00:10:07,620 --> 00:10:16,460
<font color="#E5E5E5">valid bypasses so when you're targeting</font>

269
00:10:14,340 --> 00:10:18,630
a web<font color="#CCCCCC"> application you</font><font color="#E5E5E5"> want to figure out</font>

270
00:10:16,460 --> 00:10:21,090
what how it is that<font color="#CCCCCC"> you're</font><font color="#E5E5E5"> going to</font>

271
00:10:18,630 --> 00:10:23,880
attempt to<font color="#E5E5E5"> bypass the</font><font color="#CCCCCC"> web application</font>

272
00:10:21,090 --> 00:10:25,500
<font color="#CCCCCC">firewall</font><font color="#E5E5E5"> and there's currently</font><font color="#CCCCCC"> about</font>

273
00:10:23,880 --> 00:10:27,450
<font color="#E5E5E5">three</font><font color="#CCCCCC"> different</font><font color="#E5E5E5"> ways</font><font color="#CCCCCC"> you can</font><font color="#E5E5E5"> do it</font><font color="#CCCCCC"> the</font>

274
00:10:25,500 --> 00:10:28,920
easiest way<font color="#CCCCCC"> is manual testing you can</font>

275
00:10:27,450 --> 00:10:31,290
just if you are<font color="#CCCCCC"> aware that</font><font color="#E5E5E5"> an</font>

276
00:10:28,920 --> 00:10:32,550
<font color="#E5E5E5">application is vulnerable but you don't</font>

277
00:10:31,290 --> 00:10:34,170
necessarily know what<font color="#E5E5E5"> Web Application</font>

278
00:10:32,550 --> 00:10:36,420
<font color="#CCCCCC">Firewall</font><font color="#E5E5E5"> you</font><font color="#CCCCCC"> they're running if they</font>

279
00:10:34,170 --> 00:10:38,550
<font color="#E5E5E5">have one you can simply attempt to try</font>

280
00:10:36,420 --> 00:10:39,780
different<font color="#CCCCCC"> variations on</font><font color="#E5E5E5"> the request</font>

281
00:10:38,550 --> 00:10:41,640
<font color="#E5E5E5">until things get through</font>

282
00:10:39,780 --> 00:10:43,470
you can run web scanners like that that

283
00:10:41,640 --> 00:10:45,720
have baked in fuzzers and hope one of

284
00:10:43,470 --> 00:10:48,300
<font color="#E5E5E5">the buzzer generated test cases hits</font>

285
00:10:45,720 --> 00:10:50,250
bypass on the firewall<font color="#E5E5E5"> or</font><font color="#CCCCCC"> you can do</font>

286
00:10:48,300 --> 00:10:53,040
open<font color="#E5E5E5"> source intelligence and comb</font>

287
00:10:50,250 --> 00:10:54,210
through commit logs<font color="#CCCCCC"> pull requests any</font>

288
00:10:53,040 --> 00:10:55,949
kind<font color="#E5E5E5"> of advisories</font><font color="#CCCCCC"> that have been</font>

289
00:10:54,210 --> 00:10:58,080
released<font color="#E5E5E5"> by the vendors and eventually</font>

290
00:10:55,950 --> 00:10:59,110
construct<font color="#E5E5E5"> the particular string that you</font>

291
00:10:58,080 --> 00:11:02,460
need

292
00:10:59,110 --> 00:11:05,320
once you have<font color="#E5E5E5"> figured out what kind of</font>

293
00:11:02,460 --> 00:11:06,940
bypasses that<font color="#E5E5E5"> you might have you want to</font>

294
00:11:05,320 --> 00:11:08,860
<font color="#E5E5E5">determine as much as you can about</font><font color="#CCCCCC"> the</font>

295
00:11:06,940 --> 00:11:10,390
firewall<font color="#CCCCCC"> that's in place you want to</font>

296
00:11:08,860 --> 00:11:13,240
then take<font color="#E5E5E5"> the attack that</font><font color="#CCCCCC"> you want to</font>

297
00:11:10,390 --> 00:11:15,670
perform<font color="#E5E5E5"> and re-encode re-encoded is a</font>

298
00:11:13,240 --> 00:11:17,080
bypass payload<font color="#E5E5E5"> now the fun thing</font><font color="#CCCCCC"> is all</font>

299
00:11:15,670 --> 00:11:18,699
of<font color="#CCCCCC"> this</font><font color="#E5E5E5"> stuff sounds super technically</font>

300
00:11:17,080 --> 00:11:22,660
complex<font color="#E5E5E5"> but really you're</font><font color="#CCCCCC"> just adding</font>

301
00:11:18,700 --> 00:11:30,340
simple<font color="#E5E5E5"> characters to a request so I'll</font>

302
00:11:22,660 --> 00:11:32,469
just do a quick<font color="#E5E5E5"> demo here so this is</font>

303
00:11:30,340 --> 00:11:46,060
just<font color="#E5E5E5"> a toy vulnerability that I crossed</font>

304
00:11:32,470 --> 00:11:48,820
<font color="#E5E5E5">it up where's my bus that is so this is</font>

305
00:11:46,060 --> 00:11:51,310
<font color="#E5E5E5">just a typical login page</font><font color="#CCCCCC"> as soon</font><font color="#E5E5E5"> as my</font>

306
00:11:48,820 --> 00:11:54,220
window actually<font color="#E5E5E5"> gets over there well no</font>

307
00:11:51,310 --> 00:11:56,199
hang<font color="#CCCCCC"> on a second didn't practice this</font>

308
00:11:54,220 --> 00:11:59,830
part of the demo<font color="#E5E5E5"> I guess nobody can see</font>

309
00:11:56,200 --> 00:12:01,750
<font color="#E5E5E5">that at the back so this</font><font color="#CCCCCC"> is a very</font>

310
00:11:59,830 --> 00:12:04,810
common sequel injection vulnerability

311
00:12:01,750 --> 00:12:09,150
all it is is allows<font color="#CCCCCC"> you</font><font color="#E5E5E5"> to implement an</font>

312
00:12:04,810 --> 00:12:12,939
SQL statement<font color="#CCCCCC"> and SQL query</font><font color="#E5E5E5"> and by</font>

313
00:12:09,150 --> 00:12:17,800
formatting it you can change<font color="#E5E5E5"> who is able</font>

314
00:12:12,940 --> 00:12:23,920
<font color="#CCCCCC">to</font><font color="#E5E5E5"> log in so normally you'd get an</font>

315
00:12:17,800 --> 00:12:26,469
invalid login<font color="#E5E5E5"> but by escaping it you can</font>

316
00:12:23,920 --> 00:12:28,449
automatically bypass it the I'm not

317
00:12:26,470 --> 00:12:30,280
going to go<font color="#CCCCCC"> into why at what SQL is or</font>

318
00:12:28,450 --> 00:12:31,240
SQL injection is or why this is

319
00:12:30,280 --> 00:12:32,890
important<font color="#E5E5E5"> - there's tons of</font>

320
00:12:31,240 --> 00:12:34,750
documentation<font color="#E5E5E5"> on that on the web the</font>

321
00:12:32,890 --> 00:12:38,920
vulnerability in itself isn't<font color="#E5E5E5"> terribly</font>

322
00:12:34,750 --> 00:12:43,090
important<font color="#E5E5E5"> what is important is that when</font>

323
00:12:38,920 --> 00:12:45,219
<font color="#CCCCCC">I go into the application</font><font color="#E5E5E5"> hang on one</font>

324
00:12:43,090 --> 00:12:48,220
second here<font color="#CCCCCC"> I just have to actually</font>

325
00:12:45,220 --> 00:12:50,910
rename the firewall<font color="#E5E5E5"> the</font><font color="#CCCCCC"> web application</font>

326
00:12:48,220 --> 00:12:50,910
<font color="#CCCCCC">firewall on</font><font color="#E5E5E5"> that</font>

327
00:13:27,140 --> 00:13:32,370
yeah it<font color="#CCCCCC"> is no I just wanted to get</font><font color="#E5E5E5"> back</font>

328
00:13:30,390 --> 00:13:36,000
<font color="#E5E5E5">into the box before I move that screen</font>

329
00:13:32,370 --> 00:13:37,950
over<font color="#E5E5E5"> so I mean actually turning on a</font><font color="#CCCCCC"> Web</font>

330
00:13:36,000 --> 00:13:41,930
<font color="#CCCCCC">Application Firewall once</font><font color="#E5E5E5"> it's</font>

331
00:13:37,950 --> 00:13:41,930
configured is fairly<font color="#E5E5E5"> straightforward</font>

332
00:13:59,490 --> 00:14:09,910
nope that's not<font color="#CCCCCC"> gonna</font><font color="#E5E5E5"> work</font><font color="#CCCCCC"> that's the</font>

333
00:14:02,080 --> 00:14:12,460
one<font color="#E5E5E5"> you know if I've done prayed to the</font>

334
00:14:09,910 --> 00:14:14,350
<font color="#CCCCCC">gap demo gods correctly</font><font color="#E5E5E5"> then this should</font>

335
00:14:12,460 --> 00:14:15,700
actually give me<font color="#CCCCCC"> a forbidden</font><font color="#E5E5E5"> so now that</font>

336
00:14:14,350 --> 00:14:17,260
the<font color="#E5E5E5"> firewall is in place you can see</font>

337
00:14:15,700 --> 00:14:19,450
that<font color="#CCCCCC"> it's just by its just blocking it</font>

338
00:14:17,260 --> 00:14:21,939
<font color="#E5E5E5">this is just</font><font color="#CCCCCC"> a really</font><font color="#E5E5E5"> basic fire web</font>

339
00:14:19,450 --> 00:14:24,040
application firewall<font color="#CCCCCC"> Caen setup</font><font color="#E5E5E5"> it's</font>

340
00:14:21,940 --> 00:14:26,020
using the default<font color="#E5E5E5"> settings for the</font><font color="#CCCCCC"> OAuth</font>

341
00:14:24,040 --> 00:14:27,819
CRS<font color="#E5E5E5"> two point two point nine which are</font>

342
00:14:26,020 --> 00:14:29,260
out<font color="#CCCCCC"> of date but the intention that this</font>

343
00:14:27,820 --> 00:14:31,420
talk<font color="#CCCCCC"> wasn't</font><font color="#E5E5E5"> to</font><font color="#CCCCCC"> drop</font><font color="#E5E5E5"> here</font><font color="#CCCCCC"> today that'll</font>

344
00:14:29,260 --> 00:14:33,220
come probably at a future<font color="#CCCCCC"> 'besides event</font>

345
00:14:31,420 --> 00:14:35,610
<font color="#E5E5E5">as we get a little bit more confident</font><font color="#CCCCCC"> in</font>

346
00:14:33,220 --> 00:14:37,750
<font color="#E5E5E5">the tool that</font><font color="#CCCCCC"> I'm going to demo later</font>

347
00:14:35,610 --> 00:14:40,330
<font color="#CCCCCC">the goal</font><font color="#E5E5E5"> here</font><font color="#CCCCCC"> is to show that it's</font>

348
00:14:37,750 --> 00:14:42,520
<font color="#CCCCCC">actually pretty easy to trigger an SQL</font>

349
00:14:40,330 --> 00:14:43,630
<font color="#CCCCCC">injection vulnerability</font><font color="#E5E5E5"> and now I'm</font>

350
00:14:42,520 --> 00:14:47,380
<font color="#E5E5E5">going to talk a little bit</font><font color="#CCCCCC"> more about</font>

351
00:14:43,630 --> 00:14:51,010
<font color="#E5E5E5">some</font><font color="#CCCCCC"> of the things that we can do to</font>

352
00:14:47,380 --> 00:14:53,830
make these<font color="#CCCCCC"> a</font><font color="#E5E5E5"> little</font><font color="#CCCCCC"> bit</font><font color="#E5E5E5"> more easy to do</font>

353
00:14:51,010 --> 00:14:56,050
<font color="#E5E5E5">when you</font><font color="#CCCCCC"> are</font><font color="#E5E5E5"> doing an actual penetration</font>

354
00:14:53,830 --> 00:14:57,460
<font color="#CCCCCC">test so the normal process for</font>

355
00:14:56,050 --> 00:15:00,160
<font color="#E5E5E5">identifying</font><font color="#CCCCCC"> which Web</font><font color="#E5E5E5"> Application</font>

356
00:14:57,460 --> 00:15:03,040
<font color="#E5E5E5">Firewall</font><font color="#CCCCCC"> you're using is to use a tool</font>

357
00:15:00,160 --> 00:15:06,219
<font color="#CCCCCC">like w3 AF or wellif prior to the</font>

358
00:15:03,040 --> 00:15:07,240
<font color="#E5E5E5">release of these tools in 2014 well</font>

359
00:15:06,220 --> 00:15:08,680
<font color="#CCCCCC">actually a</font><font color="#E5E5E5"> little bit earlier than that</font>

360
00:15:07,240 --> 00:15:11,590
but<font color="#E5E5E5"> most of these two tools weren't</font>

361
00:15:08,680 --> 00:15:13,239
<font color="#E5E5E5">updated since then</font><font color="#CCCCCC"> the way</font><font color="#E5E5E5"> to do it was</font>

362
00:15:11,590 --> 00:15:14,710
to inspect headers<font color="#E5E5E5"> try</font><font color="#CCCCCC"> different</font>

363
00:15:13,240 --> 00:15:17,260
patterns and<font color="#E5E5E5"> see what got kicked out</font>

364
00:15:14,710 --> 00:15:18,520
things<font color="#E5E5E5"> like that</font><font color="#CCCCCC"> now you can run these</font>

365
00:15:17,260 --> 00:15:19,900
tools and they'll tell<font color="#E5E5E5"> you about a bunch</font>

366
00:15:18,520 --> 00:15:21,970
<font color="#CCCCCC">of different commercial web application</font>

367
00:15:19,900 --> 00:15:23,680
firewalls<font color="#CCCCCC"> some of them will even</font>

368
00:15:21,970 --> 00:15:25,930
enumerate modern cloud sort of cloud

369
00:15:23,680 --> 00:15:28,859
<font color="#E5E5E5">based firewalls but they're not very</font>

370
00:15:25,930 --> 00:15:31,109
<font color="#E5E5E5">accurate</font><font color="#CCCCCC"> they don't have a large set of</font>

371
00:15:28,860 --> 00:15:33,250
signatures<font color="#E5E5E5"> that they can use</font><font color="#CCCCCC"> to inspect</font>

372
00:15:31,110 --> 00:15:34,510
<font color="#E5E5E5">so you end up</font><font color="#CCCCCC"> doing</font><font color="#E5E5E5"> a</font><font color="#CCCCCC"> lot</font><font color="#E5E5E5"> of manual</font>

373
00:15:33,250 --> 00:15:37,089
testing if it doesn't spit out a

374
00:15:34,510 --> 00:15:38,740
positive<font color="#E5E5E5"> result right away then once</font>

375
00:15:37,089 --> 00:15:40,870
you're doing<font color="#E5E5E5"> some testing there's the</font>

376
00:15:38,740 --> 00:15:42,760
Quality<font color="#CCCCCC"> Assurance route which you can</font>

377
00:15:40,870 --> 00:15:44,350
watch<font color="#CCCCCC"> Christian's talk</font><font color="#E5E5E5"> it should</font><font color="#CCCCCC"> be I</font>

378
00:15:42,760 --> 00:15:46,540
think<font color="#E5E5E5"> Ron said</font><font color="#CCCCCC"> their yesterday's talks</font>

379
00:15:44,350 --> 00:15:47,800
are already up<font color="#E5E5E5"> on YouTube then you can</font>

380
00:15:46,540 --> 00:15:50,170
also take<font color="#E5E5E5"> a look at some of the older</font>

381
00:15:47,800 --> 00:15:52,660
research<font color="#E5E5E5"> Ivan ristic did a bunch when he</font>

382
00:15:50,170 --> 00:15:53,890
was<font color="#E5E5E5"> working on the</font><font color="#CCCCCC"> ayran B project</font><font color="#E5E5E5"> he</font>

383
00:15:52,660 --> 00:15:55,390
has a bunch of different<font color="#E5E5E5"> patterns you</font>

384
00:15:53,890 --> 00:15:57,040
<font color="#E5E5E5">can use for testing</font><font color="#CCCCCC"> and fingerprinting</font>

385
00:15:55,390 --> 00:15:58,449
<font color="#E5E5E5">different ways you might try</font><font color="#CCCCCC"> to bypass</font>

386
00:15:57,040 --> 00:16:00,610
<font color="#E5E5E5">the firewall and determine whether or</font>

387
00:15:58,450 --> 00:16:03,040
<font color="#CCCCCC">not they work XSS filters are</font>

388
00:16:00,610 --> 00:16:05,890
notoriously easy<font color="#E5E5E5"> to locate</font>

389
00:16:03,040 --> 00:16:06,709
sorry XSS bypasses<font color="#E5E5E5"> are notoriously</font><font color="#CCCCCC"> easy</font>

390
00:16:05,890 --> 00:16:09,410
<font color="#E5E5E5">to locate</font>

391
00:16:06,710 --> 00:16:11,210
<font color="#E5E5E5">just because the JavaScript developers</font>

392
00:16:09,410 --> 00:16:13,850
keep<font color="#E5E5E5"> giving us ingenious ways to do new</font>

393
00:16:11,210 --> 00:16:15,680
<font color="#CCCCCC">things and there's lots of enumerations</font>

394
00:16:13,850 --> 00:16:16,940
of badness<font color="#CCCCCC"> basically laundry</font><font color="#E5E5E5"> lists of</font>

395
00:16:15,680 --> 00:16:20,510
different<font color="#E5E5E5"> techniques that you can use</font>

396
00:16:16,940 --> 00:16:22,330
<font color="#E5E5E5">like busy old hackers org website that</font>

397
00:16:20,510 --> 00:16:26,480
lists a bunch<font color="#E5E5E5"> of different bypass stuff</font>

398
00:16:22,330 --> 00:16:28,310
<font color="#CCCCCC">but ultimately the once you've</font>

399
00:16:26,480 --> 00:16:30,410
identified the<font color="#CCCCCC"> firewall that's</font><font color="#E5E5E5"> in place</font>

400
00:16:28,310 --> 00:16:34,069
and you've identified a potential

401
00:16:30,410 --> 00:16:35,180
payload<font color="#E5E5E5"> then you also need a way</font><font color="#CCCCCC"> to do</font>

402
00:16:34,070 --> 00:16:36,620
it<font color="#E5E5E5"> and the way that this is most</font>

403
00:16:35,180 --> 00:16:38,150
frequently<font color="#E5E5E5"> done is through manual</font>

404
00:16:36,620 --> 00:16:40,130
exploitation exactly what you saw me<font color="#E5E5E5"> do</font>

405
00:16:38,150 --> 00:16:43,850
there I went<font color="#E5E5E5"> to the browser</font><font color="#CCCCCC"> I typed in a</font>

406
00:16:40,130 --> 00:16:45,950
different a<font color="#E5E5E5"> different string and it</font>

407
00:16:43,850 --> 00:16:48,470
triggered the<font color="#E5E5E5"> sequel injection attack</font>

408
00:16:45,950 --> 00:16:51,200
<font color="#E5E5E5">now</font><font color="#CCCCCC"> because I'm running</font><font color="#E5E5E5"> a vulnerable</font>

409
00:16:48,470 --> 00:16:54,010
version of a web<font color="#CCCCCC"> application firewall in</font>

410
00:16:51,200 --> 00:16:57,410
particular this Web Application Firewall

411
00:16:54,010 --> 00:17:07,220
<font color="#E5E5E5">allows you to bypass</font><font color="#CCCCCC"> it by inserting</font><font color="#E5E5E5"> a</font>

412
00:16:57,410 --> 00:17:08,930
comment come on<font color="#CCCCCC"> be remember when I said</font>

413
00:17:07,220 --> 00:17:10,970
<font color="#CCCCCC">that if your web application firewall is</font>

414
00:17:08,930 --> 00:17:13,430
missing a<font color="#E5E5E5"> single character that you can</font>

415
00:17:10,970 --> 00:17:18,740
suddenly bypass everything<font color="#E5E5E5"> so I'm going</font>

416
00:17:13,430 --> 00:17:20,780
<font color="#E5E5E5">to try this again</font><font color="#CCCCCC"> and so if I structure</font>

417
00:17:18,740 --> 00:17:22,730
<font color="#E5E5E5">this</font><font color="#CCCCCC"> as a proper query</font><font color="#E5E5E5"> there's a couple</font>

418
00:17:20,780 --> 00:17:27,589
<font color="#E5E5E5">of different ways you</font><font color="#CCCCCC"> can do things that</font>

419
00:17:22,730 --> 00:17:29,030
<font color="#CCCCCC">just</font><font color="#E5E5E5"> gives me an error</font><font color="#CCCCCC"> this</font><font color="#E5E5E5"> one will</font>

420
00:17:27,589 --> 00:17:30,919
also<font color="#E5E5E5"> end up giving me an error because</font>

421
00:17:29,030 --> 00:17:32,389
<font color="#E5E5E5">that's not the kind of quote that the</font>

422
00:17:30,920 --> 00:17:35,240
Web Application<font color="#E5E5E5"> Firewall wants to let</font>

423
00:17:32,390 --> 00:17:39,050
<font color="#E5E5E5">through but this one if I</font><font color="#CCCCCC"> happen to</font>

424
00:17:35,240 --> 00:17:44,500
switch it<font color="#CCCCCC"> to use a single tick and a</font>

425
00:17:39,050 --> 00:17:44,500
half did I do wrong

426
00:18:09,370 --> 00:18:14,620
there we go<font color="#CCCCCC"> so you</font><font color="#E5E5E5"> just</font><font color="#CCCCCC"> have to</font><font color="#E5E5E5"> make</font>

427
00:18:12,580 --> 00:18:16,990
<font color="#CCCCCC">sure that your</font><font color="#E5E5E5"> your you've got the right</font>

428
00:18:14,620 --> 00:18:23,050
piece of<font color="#CCCCCC"> text injected into your into</font>

429
00:18:16,990 --> 00:18:27,580
your<font color="#CCCCCC"> laugh bypass attempt so</font><font color="#E5E5E5"> going back</font>

430
00:18:23,050 --> 00:18:30,460
<font color="#CCCCCC">to presentation</font><font color="#E5E5E5"> so there's a bunch of</font>

431
00:18:27,580 --> 00:18:32,770
other<font color="#CCCCCC"> tools that</font><font color="#E5E5E5"> you can use a SQL map</font>

432
00:18:30,460 --> 00:18:33,490
has some of these wife bypasses baked

433
00:18:32,770 --> 00:18:36,460
into it

434
00:18:33,490 --> 00:18:38,380
w3f<font color="#E5E5E5"> I believe</font><font color="#CCCCCC"> Metasploit has some baked</font>

435
00:18:36,460 --> 00:18:40,600
into it<font color="#E5E5E5"> as well but they're they're</font>

436
00:18:38,380 --> 00:18:41,980
fairly<font color="#E5E5E5"> limited and they have a</font>

437
00:18:40,600 --> 00:18:43,719
<font color="#CCCCCC">requirement that</font><font color="#E5E5E5"> you're using the tool</font>

438
00:18:41,980 --> 00:18:45,130
<font color="#E5E5E5">there's also tools like ex-wife and wife</font>

439
00:18:43,720 --> 00:18:47,890
ninja that will take some<font color="#CCCCCC"> of the</font>

440
00:18:45,130 --> 00:18:50,740
well-known<font color="#E5E5E5"> bypass strings for older</font>

441
00:18:47,890 --> 00:18:53,530
<font color="#E5E5E5">laughs and try to fuzz and find new</font>

442
00:18:50,740 --> 00:18:56,020
bypasses in<font color="#E5E5E5"> new implementations but</font>

443
00:18:53,530 --> 00:18:58,960
<font color="#E5E5E5">again they</font><font color="#CCCCCC"> are fairly</font><font color="#E5E5E5"> limited in how you</font>

444
00:18:56,020 --> 00:19:00,370
can end up<font color="#E5E5E5"> using them so when I started</font>

445
00:18:58,960 --> 00:19:02,200
it fastly I guess it was<font color="#CCCCCC"> about six or</font>

446
00:19:00,370 --> 00:19:04,570
<font color="#CCCCCC">eight months</font><font color="#E5E5E5"> ago one of</font><font color="#CCCCCC"> the projects</font>

447
00:19:02,200 --> 00:19:06,820
that<font color="#CCCCCC"> Kris and</font><font color="#E5E5E5"> under manager and I spoke</font>

448
00:19:04,570 --> 00:19:09,879
<font color="#E5E5E5">about was the concept of building</font>

449
00:19:06,820 --> 00:19:11,200
<font color="#E5E5E5">something like frag route for HTTP and</font>

450
00:19:09,880 --> 00:19:13,450
if you're not<font color="#E5E5E5"> familiar with frag god</font>

451
00:19:11,200 --> 00:19:14,590
it's a basically<font color="#E5E5E5"> a network attack Swiss</font>

452
00:19:13,450 --> 00:19:16,660
Army knife it allows you<font color="#E5E5E5"> to manipulate</font>

453
00:19:14,590 --> 00:19:18,820
streams of traffic<font color="#E5E5E5"> so</font><font color="#CCCCCC"> that you can</font>

454
00:19:16,660 --> 00:19:22,150
attempt some of the intrusion detection

455
00:19:18,820 --> 00:19:24,550
bypasses you can insert weird traffic

456
00:19:22,150 --> 00:19:25,840
<font color="#E5E5E5">it's not as</font><font color="#CCCCCC"> flexible or capable as</font>

457
00:19:24,550 --> 00:19:29,020
something likes<font color="#CCCCCC"> copy but it's still</font>

458
00:19:25,840 --> 00:19:32,080
<font color="#E5E5E5">pretty useful</font><font color="#CCCCCC"> so I set out</font><font color="#E5E5E5"> to create a</font>

459
00:19:29,020 --> 00:19:33,670
tool like this but because I know how

460
00:19:32,080 --> 00:19:35,169
<font color="#E5E5E5">hard it</font><font color="#CCCCCC"> can be to maintain these kinds</font>

461
00:19:33,670 --> 00:19:36,730
<font color="#E5E5E5">of tools in the long term I set myself a</font>

462
00:19:35,170 --> 00:19:37,870
<font color="#E5E5E5">couple of different goals</font><font color="#CCCCCC"> I wanted</font><font color="#E5E5E5"> to</font>

463
00:19:36,730 --> 00:19:39,670
make something<font color="#E5E5E5"> that would play nice with</font>

464
00:19:37,870 --> 00:19:41,020
<font color="#CCCCCC">others</font><font color="#E5E5E5"> I spent a lot of time working</font>

465
00:19:39,670 --> 00:19:43,540
<font color="#CCCCCC">with Simon Bennett's</font><font color="#E5E5E5"> from the</font><font color="#CCCCCC"> SAP</font>

466
00:19:41,020 --> 00:19:44,950
project at Mozilla and one of the things

467
00:19:43,540 --> 00:19:47,020
that I learned is by<font color="#E5E5E5"> chaining proxy</font>

468
00:19:44,950 --> 00:19:48,370
servers together<font color="#E5E5E5"> you can combine</font><font color="#CCCCCC"> all</font>

469
00:19:47,020 --> 00:19:50,320
kinds<font color="#CCCCCC"> of really</font><font color="#E5E5E5"> cool</font><font color="#CCCCCC"> tools</font><font color="#E5E5E5"> lots of</font>

470
00:19:48,370 --> 00:19:52,899
people like<font color="#CCCCCC"> to use SAP and Parros are</font>

471
00:19:50,320 --> 00:19:56,439
the<font color="#CCCCCC"> SAP in Paris zap and burp suite</font>

472
00:19:52,900 --> 00:19:57,700
<font color="#E5E5E5">together or other commercial scanners</font>

473
00:19:56,440 --> 00:19:59,860
and route them<font color="#CCCCCC"> through other proxy</font>

474
00:19:57,700 --> 00:20:03,040
servers so I set<font color="#CCCCCC"> out to implement my</font>

475
00:19:59,860 --> 00:20:04,479
tool as a proxy<font color="#E5E5E5"> server</font><font color="#CCCCCC"> I decided to make</font>

476
00:20:03,040 --> 00:20:07,240
<font color="#E5E5E5">something that was easy to configure and</font>

477
00:20:04,480 --> 00:20:08,830
<font color="#CCCCCC">was super portable I'd written a bunch</font>

478
00:20:07,240 --> 00:20:10,750
<font color="#E5E5E5">of different security tools in Python</font>

479
00:20:08,830 --> 00:20:12,100
<font color="#E5E5E5">and got stuck in dependency hell</font><font color="#CCCCCC"> so</font><font color="#E5E5E5"> I</font>

480
00:20:10,750 --> 00:20:14,679
decided<font color="#E5E5E5"> to go with</font><font color="#CCCCCC"> go lang this time</font>

481
00:20:12,100 --> 00:20:16,059
around<font color="#CCCCCC"> and</font><font color="#E5E5E5"> then I wanted to</font><font color="#CCCCCC"> build a tool</font>

482
00:20:14,679 --> 00:20:17,950
<font color="#E5E5E5">that was really useful for both blue and</font>

483
00:20:16,059 --> 00:20:20,470
<font color="#E5E5E5">red teams so I wanted to make</font><font color="#CCCCCC"> sure</font><font color="#E5E5E5"> that</font>

484
00:20:17,950 --> 00:20:22,240
<font color="#CCCCCC">this could be used for developers to be</font>

485
00:20:20,470 --> 00:20:23,360
<font color="#CCCCCC">able to test</font><font color="#E5E5E5"> and validate that their</font>

486
00:20:22,240 --> 00:20:24,980
applications

487
00:20:23,360 --> 00:20:26,870
the<font color="#E5E5E5"> web application</font><font color="#CCCCCC"> firewalls they</font>

488
00:20:24,980 --> 00:20:29,210
deployed<font color="#E5E5E5"> worked</font><font color="#CCCCCC"> effectively but</font><font color="#E5E5E5"> I also</font>

489
00:20:26,870 --> 00:20:31,070
wanted<font color="#E5E5E5"> red teams to be able</font><font color="#CCCCCC"> to use</font><font color="#E5E5E5"> this</font>

490
00:20:29,210 --> 00:20:33,740
<font color="#E5E5E5">and add it</font><font color="#CCCCCC"> as a tool to their arsenal to</font>

491
00:20:31,070 --> 00:20:37,429
<font color="#CCCCCC">be able</font><font color="#E5E5E5"> to prove that the blue team</font><font color="#CCCCCC"> had</font>

492
00:20:33,740 --> 00:20:39,560
done their job right so enter<font color="#CCCCCC"> a Swizzle</font>

493
00:20:37,430 --> 00:20:41,710
it's a<font color="#CCCCCC"> go lang project</font><font color="#E5E5E5"> it is not yet</font>

494
00:20:39,560 --> 00:20:44,000
<font color="#E5E5E5">open source but that is my own fault</font>

495
00:20:41,710 --> 00:20:45,830
<font color="#E5E5E5">I've got to</font><font color="#CCCCCC"> coordinate</font><font color="#E5E5E5"> with the legal</font>

496
00:20:44,000 --> 00:20:47,150
<font color="#E5E5E5">team at my employer and we're hoping to</font>

497
00:20:45,830 --> 00:20:49,159
get<font color="#E5E5E5"> it out this week</font>

498
00:20:47,150 --> 00:20:52,490
it's an intercepting or forwarding proxy

499
00:20:49,160 --> 00:20:55,190
<font color="#CCCCCC">right now it has a pile of different</font>

500
00:20:52,490 --> 00:20:56,810
string transforms that<font color="#E5E5E5"> you can apply and</font>

501
00:20:55,190 --> 00:20:59,750
then it<font color="#E5E5E5"> hackage this up a bunch of</font><font color="#CCCCCC"> those</font>

502
00:20:56,810 --> 00:21:03,290
into evaders that you can apply<font color="#E5E5E5"> to a</font>

503
00:20:59,750 --> 00:21:05,660
connection<font color="#CCCCCC"> so it's portable</font><font color="#E5E5E5"> to any</font>

504
00:21:03,290 --> 00:21:07,250
<font color="#E5E5E5">golang target and it's configurable at</font>

505
00:21:05,660 --> 00:21:09,350
invocation<font color="#CCCCCC"> but one of</font><font color="#E5E5E5"> the features</font><font color="#CCCCCC"> that</font>

506
00:21:07,250 --> 00:21:11,000
<font color="#E5E5E5">I'm working on is also the ability to</font>

507
00:21:09,350 --> 00:21:12,860
run it as an<font color="#E5E5E5"> interactive proxy so you</font>

508
00:21:11,000 --> 00:21:15,020
can reconfigure it at<font color="#E5E5E5"> runtime</font><font color="#CCCCCC"> so the</font>

509
00:21:12,860 --> 00:21:17,000
<font color="#CCCCCC">hobbit commits a command-line tool and</font>

510
00:21:15,020 --> 00:21:22,340
I'm going<font color="#CCCCCC"> to pray to the</font><font color="#E5E5E5"> demo gods that</font>

511
00:21:17,000 --> 00:21:27,530
this<font color="#E5E5E5"> all works and try this one</font><font color="#CCCCCC"> out</font>

512
00:21:22,340 --> 00:21:31,209
again<font color="#E5E5E5"> and once again I'll just move my</font>

513
00:21:27,530 --> 00:21:31,210
<font color="#E5E5E5">screen over over in just a minute</font>

514
00:22:14,260 --> 00:22:20,570
so hopefully<font color="#CCCCCC"> people in the back</font><font color="#E5E5E5"> can see</font>

515
00:22:16,520 --> 00:22:23,120
<font color="#CCCCCC">that so this</font><font color="#E5E5E5"> is running this</font><font color="#CCCCCC"> Swizzle</font><font color="#E5E5E5"> in</font>

516
00:22:20,570 --> 00:22:25,460
a proxy mode<font color="#E5E5E5"> and</font><font color="#CCCCCC"> I'm selecting to use it</font>

517
00:22:23,120 --> 00:22:27,559
in<font color="#CCCCCC"> red team mode which is basically</font>

518
00:22:25,460 --> 00:22:29,870
using<font color="#E5E5E5"> a sequence</font><font color="#CCCCCC"> of transforms</font><font color="#E5E5E5"> and this</font>

519
00:22:27,559 --> 00:22:32,149
transform is going to allow<font color="#E5E5E5"> me to</font>

520
00:22:29,870 --> 00:22:35,289
automatically bypass my<font color="#E5E5E5"> laughs just by</font>

521
00:22:32,150 --> 00:22:38,450
sending<font color="#E5E5E5"> a more basic request through so</font>

522
00:22:35,289 --> 00:22:40,220
the other thing is<font color="#CCCCCC"> that in order to</font><font color="#E5E5E5"> use</font>

523
00:22:38,450 --> 00:22:42,320
this you<font color="#E5E5E5"> have to have the application</font>

524
00:22:40,220 --> 00:22:44,059
configure the browser<font color="#E5E5E5"> that you're using</font>

525
00:22:42,320 --> 00:22:45,080
<font color="#E5E5E5">configure to use it as a proxy so I'm</font>

526
00:22:44,059 --> 00:23:09,889
going to<font color="#E5E5E5"> pull over a different browser</font>

527
00:22:45,080 --> 00:23:13,299
<font color="#CCCCCC">oh that's right different image</font><font color="#E5E5E5"> there we</font>

528
00:23:09,890 --> 00:23:16,630
go<font color="#E5E5E5"> I should</font><font color="#CCCCCC"> be more</font><font color="#E5E5E5"> creative</font><font color="#CCCCCC"> in</font><font color="#E5E5E5"> my name</font>

529
00:23:13,299 --> 00:23:18,770
so I'm going to<font color="#E5E5E5"> try the exact same</font>

530
00:23:16,630 --> 00:23:21,520
pattern<font color="#CCCCCC"> that I did before</font>

531
00:23:18,770 --> 00:23:21,520
<font color="#E5E5E5">where</font>

532
00:23:26,090 --> 00:23:30,869
so it still gives<font color="#E5E5E5"> me a forbidden but</font>

533
00:23:28,799 --> 00:23:34,320
when I switch it<font color="#E5E5E5"> when I switch over to</font>

534
00:23:30,869 --> 00:23:36,299
my<font color="#CCCCCC"> console I</font><font color="#E5E5E5"> can see that in addition</font><font color="#CCCCCC"> to</font>

535
00:23:34,320 --> 00:23:41,939
<font color="#E5E5E5">all of the fun</font><font color="#CCCCCC"> stuff that</font><font color="#E5E5E5"> Firefox is</font>

536
00:23:36,299 --> 00:23:45,168
trying to do in the background before<font color="#CCCCCC"> it</font>

537
00:23:41,940 --> 00:23:48,119
<font color="#E5E5E5">Scrolls off screen</font><font color="#CCCCCC"> you'll also see that</font>

538
00:23:45,169 --> 00:23:50,669
<font color="#E5E5E5">at the top you have a request that's</font>

539
00:23:48,119 --> 00:23:52,889
been passed<font color="#CCCCCC"> through the post to foo bot</font>

540
00:23:50,669 --> 00:23:54,990
was intercepted and<font color="#E5E5E5"> it detected that the</font>

541
00:23:52,889 --> 00:23:57,508
post<font color="#E5E5E5"> body had a bunch of</font><font color="#CCCCCC"> parameters in</font>

542
00:23:54,990 --> 00:23:59,759
it so it unpacked the parameters<font color="#E5E5E5"> and it</font>

543
00:23:57,509 --> 00:24:03,710
attempted to translate them<font color="#E5E5E5"> by</font>

544
00:23:59,759 --> 00:24:07,409
converting<font color="#E5E5E5"> the quotation mark or true</font>

545
00:24:03,710 --> 00:24:09,269
into quotation mark or true<font color="#E5E5E5"> now in this</font>

546
00:24:07,409 --> 00:24:11,970
<font color="#E5E5E5">case we saw from the previous exercise</font>

547
00:24:09,269 --> 00:24:20,429
that CRS<font color="#E5E5E5"> t29 will block it with the</font>

548
00:24:11,970 --> 00:24:22,169
single quote with a double quote but now

549
00:24:20,429 --> 00:24:25,830
that I<font color="#E5E5E5"> know that it's actually picking</font>

550
00:24:22,169 --> 00:24:28,440
<font color="#E5E5E5">up the parameters correctly</font><font color="#CCCCCC"> I should be</font>

551
00:24:25,830 --> 00:24:33,029
able to just<font color="#E5E5E5"> insert a single character</font>

552
00:24:28,440 --> 00:24:34,169
to trigger the transform<font color="#CCCCCC"> and of course I</font>

553
00:24:33,029 --> 00:24:37,429
didn't pray to the demo gods loudly

554
00:24:34,169 --> 00:24:37,429
enough so give me a second

555
00:24:45,950 --> 00:24:52,860
<font color="#CCCCCC">hmmm no I was actually switching to my</font>

556
00:24:50,250 --> 00:24:54,539
editor for<font color="#CCCCCC"> a second is normally what I</font>

557
00:24:52,860 --> 00:24:56,789
do when I'm doing<font color="#E5E5E5"> demos is just copy and</font>

558
00:24:54,539 --> 00:24:58,019
paste<font color="#CCCCCC"> everything out of a text file but</font>

559
00:24:56,789 --> 00:25:00,230
I'm not doing<font color="#E5E5E5"> that today</font><font color="#CCCCCC"> because I'm a</font>

560
00:24:58,019 --> 00:25:00,230
fool

561
00:25:20,270 --> 00:25:24,210
I'm gonna<font color="#E5E5E5"> bring this over</font><font color="#CCCCCC"> for a second</font>

562
00:25:22,860 --> 00:25:27,719
<font color="#E5E5E5">cuz I'm not sure why it's bailing on me</font>

563
00:25:24,210 --> 00:25:43,260
<font color="#E5E5E5">ah</font><font color="#CCCCCC"> I did this</font><font color="#E5E5E5"> five minutes before my</font>

564
00:25:27,720 --> 00:25:45,270
talk<font color="#CCCCCC"> alright</font><font color="#E5E5E5"> give</font><font color="#CCCCCC"> me</font><font color="#E5E5E5"> one second I'm just</font>

565
00:25:43,260 --> 00:25:47,600
<font color="#CCCCCC">gonna turn on change mirroring for</font><font color="#E5E5E5"> a</font>

566
00:25:45,270 --> 00:25:47,600
second

567
00:26:34,390 --> 00:26:39,110
<font color="#E5E5E5">okay I'm going to come back to this in a</font>

568
00:26:36,500 --> 00:26:40,610
<font color="#E5E5E5">moment and redo my redo that demo</font><font color="#CCCCCC"> I'm</font>

569
00:26:39,110 --> 00:26:42,169
just gonna finish talking<font color="#E5E5E5"> about</font><font color="#CCCCCC"> the</font>

570
00:26:40,610 --> 00:26:44,270
other piece<font color="#CCCCCC"> about</font><font color="#E5E5E5"> it just because</font><font color="#CCCCCC"> the</font>

571
00:26:42,170 --> 00:26:46,220
<font color="#CCCCCC">talks being</font><font color="#E5E5E5"> recorded should have prayed</font>

572
00:26:44,270 --> 00:26:51,860
louder to the demo gods<font color="#CCCCCC"> we'll come</font><font color="#E5E5E5"> back</font>

573
00:26:46,220 --> 00:26:53,390
to that<font color="#CCCCCC"> so the but attacted obviously</font>

574
00:26:51,860 --> 00:26:55,428
didn't succeed in<font color="#CCCCCC"> this at the time that</font>

575
00:26:53,390 --> 00:26:56,900
<font color="#E5E5E5">I passed it</font><font color="#CCCCCC"> three Swizzle and we'll take</font>

576
00:26:55,429 --> 00:27:00,919
<font color="#E5E5E5">a look and figure out exactly why in a</font>

577
00:26:56,900 --> 00:27:06,440
<font color="#CCCCCC">moment</font><font color="#E5E5E5"> but the sequel injection attack</font>

578
00:27:00,919 --> 00:27:09,130
is the key<font color="#E5E5E5"> part here is that the sequel</font>

579
00:27:06,440 --> 00:27:11,570
injection attack is is being rewritten

580
00:27:09,130 --> 00:27:13,790
<font color="#CCCCCC">now I'm not sure</font><font color="#E5E5E5"> why I'm tripping over I</font>

581
00:27:11,570 --> 00:27:16,850
may have enabled the wrong version<font color="#E5E5E5"> of</font>

582
00:27:13,790 --> 00:27:19,340
<font color="#CCCCCC">the firewall rules if I</font><font color="#E5E5E5"> had if I was in</font>

583
00:27:16,850 --> 00:27:20,750
if I enabled the 3.0 rules<font color="#E5E5E5"> this attack</font>

584
00:27:19,340 --> 00:27:23,689
will be blocked<font color="#E5E5E5"> which is</font><font color="#CCCCCC"> explained the</font>

585
00:27:20,750 --> 00:27:26,660
forbidden<font color="#E5E5E5"> what's actually happening in</font>

586
00:27:23,690 --> 00:27:28,970
the request and the each Swizzle<font color="#E5E5E5"> rule</font>

587
00:27:26,660 --> 00:27:30,980
applies its own transforms for<font color="#E5E5E5"> each</font>

588
00:27:28,970 --> 00:27:35,600
<font color="#E5E5E5">different</font><font color="#CCCCCC"> type of possible</font><font color="#E5E5E5"> laughs bypass</font>

589
00:27:30,980 --> 00:27:38,299
and currently we<font color="#CCCCCC"> have 12 bypasses</font><font color="#E5E5E5"> bypass</font>

590
00:27:35,600 --> 00:27:40,340
transforms implemented as<font color="#E5E5E5"> well as a</font>

591
00:27:38,299 --> 00:27:42,500
total of twenty five distinct evaders

592
00:27:40,340 --> 00:27:44,809
that will have a different<font color="#CCCCCC"> laughs</font>

593
00:27:42,500 --> 00:27:46,429
firewall rules<font color="#E5E5E5"> and a couple of custom</font>

594
00:27:44,809 --> 00:27:48,760
ones that I've<font color="#E5E5E5"> been</font><font color="#CCCCCC"> rolling up for</font>

595
00:27:46,429 --> 00:27:51,590
specific web application firewall rules

596
00:27:48,760 --> 00:27:52,730
<font color="#E5E5E5">they can transform any request that</font>

597
00:27:51,590 --> 00:27:55,309
passes through but you can also

598
00:27:52,730 --> 00:27:58,790
<font color="#E5E5E5">configure Swizzle to target individual</font>

599
00:27:55,309 --> 00:28:00,530
fields<font color="#E5E5E5"> so if you're using it</font><font color="#CCCCCC"> in</font><font color="#E5E5E5"> proxy</font>

600
00:27:58,790 --> 00:28:02,120
mode if you're familiar with an older

601
00:28:00,530 --> 00:28:04,760
tool called rat proxy it'll<font color="#E5E5E5"> just</font>

602
00:28:02,120 --> 00:28:06,439
randomly<font color="#E5E5E5"> try</font><font color="#CCCCCC"> different security</font><font color="#E5E5E5"> tests</font>

603
00:28:04,760 --> 00:28:08,450
while you're browsing the<font color="#E5E5E5"> web in the</font>

604
00:28:06,440 --> 00:28:10,010
background but Swizzle will do the<font color="#E5E5E5"> same</font>

605
00:28:08,450 --> 00:28:13,130
<font color="#E5E5E5">thing with</font><font color="#CCCCCC"> web application firewall</font>

606
00:28:10,010 --> 00:28:14,570
rules the when it's<font color="#E5E5E5"> running in targeted</font>

607
00:28:13,130 --> 00:28:16,669
mode you can specify<font color="#E5E5E5"> to only affect</font>

608
00:28:14,570 --> 00:28:19,490
<font color="#E5E5E5">individual fields so if you want to</font>

609
00:28:16,669 --> 00:28:22,070
browse an application and then<font color="#E5E5E5"> only have</font>

610
00:28:19,490 --> 00:28:23,720
it try to do bypasses on specific fields

611
00:28:22,070 --> 00:28:26,090
that you know are injectable you can set

612
00:28:23,720 --> 00:28:27,919
it up to<font color="#CCCCCC"> do that you can also specify to</font>

613
00:28:26,090 --> 00:28:30,490
target only<font color="#E5E5E5"> specific routes on a web</font>

614
00:28:27,919 --> 00:28:30,490
<font color="#CCCCCC">application</font>

615
00:28:36,690 --> 00:28:40,230
this is an<font color="#E5E5E5"> example of what an invader</font>

616
00:28:39,030 --> 00:28:42,389
looks like I<font color="#CCCCCC"> don't know if you guys can</font>

617
00:28:40,230 --> 00:28:45,140
see<font color="#CCCCCC"> it in the back but it's just</font><font color="#E5E5E5"> a</font>

618
00:28:42,390 --> 00:28:48,090
simple<font color="#CCCCCC"> golang script a function that</font>

619
00:28:45,140 --> 00:28:51,510
<font color="#E5E5E5">handles all other the parameters for the</font>

620
00:28:48,090 --> 00:28:54,899
request applies<font color="#E5E5E5"> to transform and returns</font>

621
00:28:51,510 --> 00:28:56,370
it<font color="#E5E5E5"> so you can embed these through</font><font color="#CCCCCC"> you</font>

622
00:28:54,900 --> 00:28:59,520
can actually<font color="#E5E5E5"> write these and ship them</font>

623
00:28:56,370 --> 00:29:01,649
in the binary<font color="#CCCCCC"> we're also adding support</font>

624
00:28:59,520 --> 00:29:04,290
we recently ported it over to use Google

625
00:29:01,650 --> 00:29:06,600
<font color="#E5E5E5">Martians proxy server so with along</font><font color="#CCCCCC"> with</font>

626
00:29:04,290 --> 00:29:09,210
<font color="#E5E5E5">that we get the</font><font color="#CCCCCC"> ability to</font><font color="#E5E5E5"> embed some</font><font color="#CCCCCC"> of</font>

627
00:29:06,600 --> 00:29:12,149
these capabilities<font color="#CCCCCC"> at runtime we also</font>

628
00:29:09,210 --> 00:29:14,370
have the ability<font color="#CCCCCC"> to</font><font color="#E5E5E5"> implement individual</font>

629
00:29:12,150 --> 00:29:16,710
transforms<font color="#E5E5E5"> so this is a simple transform</font>

630
00:29:14,370 --> 00:29:20,070
function that will iterate over a

631
00:29:16,710 --> 00:29:21,630
request<font color="#E5E5E5"> observe any MySQL</font><font color="#CCCCCC"> whitespace and</font>

632
00:29:20,070 --> 00:29:23,820
try to inject different types of

633
00:29:21,630 --> 00:29:26,490
patterns<font color="#E5E5E5"> that will trip up other web</font>

634
00:29:23,820 --> 00:29:28,439
application firewall rules that are

635
00:29:26,490 --> 00:29:30,660
depending<font color="#CCCCCC"> on seeing specific sequences</font>

636
00:29:28,440 --> 00:29:32,429
<font color="#CCCCCC">of</font><font color="#E5E5E5"> whitespace I'll in</font><font color="#CCCCCC"> jet comments</font>

637
00:29:30,660 --> 00:29:34,710
different things<font color="#E5E5E5"> like that</font><font color="#CCCCCC"> there's a</font>

638
00:29:32,429 --> 00:29:36,420
couple<font color="#E5E5E5"> of factors</font><font color="#CCCCCC"> here the way</font><font color="#E5E5E5"> that</font>

639
00:29:34,710 --> 00:29:39,720
these rules are applied are typically

640
00:29:36,420 --> 00:29:41,550
<font color="#E5E5E5">done randomly but we extract in each of</font>

641
00:29:39,720 --> 00:29:42,870
the transforms we extract random

642
00:29:41,550 --> 00:29:44,460
settings that<font color="#E5E5E5"> are global for the entire</font>

643
00:29:42,870 --> 00:29:46,409
application<font color="#E5E5E5"> as well as</font><font color="#CCCCCC"> the ability</font><font color="#E5E5E5"> to</font>

644
00:29:44,460 --> 00:29:51,120
<font color="#CCCCCC">configure each individual transform at</font>

645
00:29:46,410 --> 00:29:52,830
runtime<font color="#E5E5E5"> and</font><font color="#CCCCCC"> then we have evaders</font><font color="#E5E5E5"> which</font>

646
00:29:51,120 --> 00:29:54,870
are typically just a simple wrapper like

647
00:29:52,830 --> 00:29:57,300
this where it<font color="#E5E5E5"> takes that transform that</font>

648
00:29:54,870 --> 00:29:59,399
<font color="#E5E5E5">was on the</font><font color="#CCCCCC"> previous slide and it</font>

649
00:29:57,300 --> 00:30:00,750
packages it up and runs it<font color="#E5E5E5"> across all of</font>

650
00:29:59,400 --> 00:30:03,120
the<font color="#CCCCCC"> parameters that have</font><font color="#E5E5E5"> been configured</font>

651
00:30:00,750 --> 00:30:05,670
<font color="#CCCCCC">so you can run them across all of the</font>

652
00:30:03,120 --> 00:30:07,678
keys in a request a response you<font color="#E5E5E5"> can run</font>

653
00:30:05,670 --> 00:30:10,260
them actually<font color="#E5E5E5"> as of this</font><font color="#CCCCCC"> afternoon you</font>

654
00:30:07,679 --> 00:30:15,200
can<font color="#E5E5E5"> run them in either</font><font color="#CCCCCC"> a request string</font>

655
00:30:10,260 --> 00:30:18,360
a request line<font color="#E5E5E5"> or against post body and</font>

656
00:30:15,200 --> 00:30:21,210
the recent upgrades to it mean<font color="#CCCCCC"> that we</font>

657
00:30:18,360 --> 00:30:23,399
have full HTTP interception<font color="#CCCCCC"> we also have</font>

658
00:30:21,210 --> 00:30:26,309
the discovery mode and targeted mode are

659
00:30:23,400 --> 00:30:29,760
both functional except for<font color="#E5E5E5"> whatever I</font>

660
00:30:26,309 --> 00:30:32,730
<font color="#E5E5E5">did wrong</font><font color="#CCCCCC"> there in my demo we also have</font>

661
00:30:29,760 --> 00:30:33,990
a feature called<font color="#E5E5E5"> Oracle's so as you're</font>

662
00:30:32,730 --> 00:30:35,340
browsing and testing different

663
00:30:33,990 --> 00:30:36,809
applications with Web Application

664
00:30:35,340 --> 00:30:38,100
Firewall<font color="#E5E5E5"> rules there's different</font>

665
00:30:36,809 --> 00:30:39,480
characteristics of the response<font color="#E5E5E5"> that</font>

666
00:30:38,100 --> 00:30:41,879
<font color="#E5E5E5">might indicate that</font><font color="#CCCCCC"> there's a wash by</font>

667
00:30:39,480 --> 00:30:43,350
<font color="#E5E5E5">passing in place whether it's encoding</font>

668
00:30:41,880 --> 00:30:45,059
errors stuff like that

669
00:30:43,350 --> 00:30:47,969
hopefully in the<font color="#CCCCCC"> next</font><font color="#E5E5E5"> two weeks I'll</font><font color="#CCCCCC"> be</font>

670
00:30:45,059 --> 00:30:49,289
releasing that<font color="#E5E5E5"> feature and it will help</font>

671
00:30:47,970 --> 00:30:51,059
you to determine<font color="#E5E5E5"> whether or not you</font>

672
00:30:49,289 --> 00:30:52,289
found a wife<font color="#E5E5E5"> bypass and give you hints</font>

673
00:30:51,059 --> 00:30:56,039
on<font color="#CCCCCC"> how you might exploit it once you</font>

674
00:30:52,289 --> 00:30:57,899
<font color="#E5E5E5">have the next feature on the</font><font color="#CCCCCC"> roadmap</font>

675
00:30:56,039 --> 00:31:02,460
will be to absorb some<font color="#CCCCCC"> of those</font><font color="#E5E5E5"> yamo</font>

676
00:30:57,899 --> 00:31:04,799
files that the FTW team has<font color="#E5E5E5"> produced and</font>

677
00:31:02,460 --> 00:31:06,929
be able<font color="#CCCCCC"> to</font><font color="#E5E5E5"> run those as fuzzers as a</font>

678
00:31:04,799 --> 00:31:10,559
corpus<font color="#E5E5E5"> for a</font><font color="#CCCCCC"> buzzer against any</font><font color="#E5E5E5"> laughs</font>

679
00:31:06,929 --> 00:31:12,029
<font color="#E5E5E5">that's in line and be able</font><font color="#CCCCCC"> to try</font>

680
00:31:10,559 --> 00:31:14,658
different invasions and transforms

681
00:31:12,029 --> 00:31:17,129
either in sequence<font color="#CCCCCC"> in</font><font color="#E5E5E5"> building out a</font>

682
00:31:14,659 --> 00:31:19,580
fuzzing plan or<font color="#E5E5E5"> just randomly applying</font>

683
00:31:17,129 --> 00:31:21,719
them continuously<font color="#CCCCCC"> and then finally</font>

684
00:31:19,580 --> 00:31:24,119
something<font color="#CCCCCC"> to talk about a little</font><font color="#E5E5E5"> bit</font>

685
00:31:21,720 --> 00:31:25,859
<font color="#CCCCCC">more on my next presentation on</font><font color="#E5E5E5"> this I</font>

686
00:31:24,119 --> 00:31:28,408
started<font color="#E5E5E5"> building a database of</font>

687
00:31:25,859 --> 00:31:31,019
fingerprints for HTTP requests and

688
00:31:28,409 --> 00:31:32,820
<font color="#E5E5E5">responses looking both at the different</font>

689
00:31:31,019 --> 00:31:37,109
elements<font color="#E5E5E5"> of the request and response</font>

690
00:31:32,820 --> 00:31:39,960
headers and<font color="#E5E5E5"> the request and</font><font color="#CCCCCC"> response</font>

691
00:31:37,109 --> 00:31:42,269
bodies to determine more information and

692
00:31:39,960 --> 00:31:45,119
build out an nmap style fingerprinting

693
00:31:42,269 --> 00:31:46,980
database<font color="#E5E5E5"> that will help to</font><font color="#CCCCCC"> identify both</font>

694
00:31:45,119 --> 00:31:48,779
applications<font color="#CCCCCC"> that are running</font><font color="#E5E5E5"> behind and</font>

695
00:31:46,980 --> 00:31:50,100
applications that<font color="#E5E5E5"> are running in line</font>

696
00:31:48,779 --> 00:31:52,259
that<font color="#E5E5E5"> have different</font><font color="#CCCCCC"> characteristics</font>

697
00:31:50,100 --> 00:31:54,779
<font color="#CCCCCC">about how they make changes and respond</font>

698
00:31:52,259 --> 00:31:57,239
<font color="#CCCCCC">to the different types of mutations</font><font color="#E5E5E5"> that</font>

699
00:31:54,779 --> 00:31:58,889
<font color="#E5E5E5">we're performing as we try to evade a</font>

700
00:31:57,239 --> 00:32:00,480
<font color="#CCCCCC">while we</font><font color="#E5E5E5"> should</font><font color="#CCCCCC"> be able</font><font color="#E5E5E5"> to figure out</font>

701
00:31:58,889 --> 00:32:02,758
<font color="#E5E5E5">other characteristics and do more</font>

702
00:32:00,480 --> 00:32:06,809
fingerprinting on what infrastructure is

703
00:32:02,759 --> 00:32:08,519
actually<font color="#E5E5E5"> hosting the application</font><font color="#CCCCCC"> once</font>

704
00:32:06,809 --> 00:32:10,619
it's open source which<font color="#CCCCCC"> I will both tweet</font>

705
00:32:08,519 --> 00:32:12,029
<font color="#CCCCCC">about and and</font><font color="#E5E5E5"> we'll be publishing</font><font color="#CCCCCC"> some</font>

706
00:32:10,619 --> 00:32:13,889
blog<font color="#CCCCCC"> posts on the</font><font color="#E5E5E5"> PI on the fastly</font>

707
00:32:12,029 --> 00:32:18,149
<font color="#E5E5E5">website about it</font><font color="#CCCCCC"> we'll be releasing it</font>

708
00:32:13,889 --> 00:32:19,590
at on github at Swizzle proxy and if

709
00:32:18,149 --> 00:32:22,049
you're<font color="#E5E5E5"> interested</font><font color="#CCCCCC"> in contributing</font><font color="#E5E5E5"> to</font>

710
00:32:19,590 --> 00:32:24,480
this<font color="#E5E5E5"> we were supposed to have this out</font>

711
00:32:22,049 --> 00:32:25,830
<font color="#CCCCCC">before I hate this talk</font><font color="#E5E5E5"> but you know</font>

712
00:32:24,480 --> 00:32:27,480
<font color="#CCCCCC">passage will always be accepted but</font><font color="#E5E5E5"> if</font>

713
00:32:25,830 --> 00:32:30,449
you<font color="#CCCCCC"> had if you are aware of</font><font color="#E5E5E5"> any kind of</font>

714
00:32:27,480 --> 00:32:32,100
<font color="#CCCCCC">whack bypasses we are happy to accept</font>

715
00:32:30,450 --> 00:32:35,460
<font color="#E5E5E5">both information about a new technique</font>

716
00:32:32,100 --> 00:32:37,559
<font color="#E5E5E5">and if you have any links to research or</font>

717
00:32:35,460 --> 00:32:40,259
other<font color="#E5E5E5"> resources for how to implement</font>

718
00:32:37,559 --> 00:32:43,769
<font color="#E5E5E5">more Pat bypasses please do feel</font><font color="#CCCCCC"> free to</font>

719
00:32:40,259 --> 00:32:45,570
let us<font color="#CCCCCC"> know</font><font color="#E5E5E5"> and finally before I get to</font>

720
00:32:43,769 --> 00:32:47,279
questions I've got one for the<font color="#CCCCCC"> bath for</font>

721
00:32:45,570 --> 00:32:48,689
the<font color="#E5E5E5"> b-sides Winnipeg team why not in</font>

722
00:32:47,279 --> 00:32:51,739
September<font color="#E5E5E5"> so they don't have to worry</font>

723
00:32:48,690 --> 00:32:51,739
<font color="#CCCCCC">about</font><font color="#E5E5E5"> snowstorms but</font>

724
00:32:55,920 --> 00:33:00,120
so with that I<font color="#E5E5E5"> will leave it to</font>

725
00:32:57,240 --> 00:33:01,740
<font color="#E5E5E5">questions but if you do have a question</font>

726
00:33:00,120 --> 00:33:05,580
<font color="#CCCCCC">please come up because I</font><font color="#E5E5E5"> am literally</font>

727
00:33:01,740 --> 00:33:06,810
<font color="#E5E5E5">quite deaf and I'm going</font><font color="#CCCCCC"> to go back and</font>

728
00:33:05,580 --> 00:33:09,199
<font color="#E5E5E5">see if I can figure</font><font color="#CCCCCC"> out why my</font><font color="#E5E5E5"> demo</font>

729
00:33:06,810 --> 00:33:09,200
didn't work

730
00:33:11,370 --> 00:33:17,779
[Applause]

