1
00:00:00,000 --> 00:00:07,649
good so I see a few people who I already
know in the crowd and for those of you

2
00:00:07,649 --> 00:00:11,309
who don't know I'm Kelvin Hoefler this
is my talk so you want to be a pen

3
00:00:11,309 --> 00:00:17,160
tester the idea of this is to give you
guys kind of the information that I wish

4
00:00:17,160 --> 00:00:23,250
I had before I started this job and
before I got into actual security work

5
00:00:23,250 --> 00:00:26,099
about a year ago so I've been doing this
for around a year

6
00:00:26,099 --> 00:00:31,410
first a little bit about me my twitter
handle is at 0 0 1 Spartan if you guys

7
00:00:31,410 --> 00:00:34,020
use twitter i use it and frequently

8
00:00:34,020 --> 00:00:39,450
I am a junior pen tester for a company
called networks group riding downtown

9
00:00:39,450 --> 00:00:42,329
ann arbor and I'm a speed skater

10
00:00:42,329 --> 00:00:46,260
I strap metal blades to my feet and go
25 miles an hour around an ice rink

11
00:00:46,950 --> 00:00:50,399
if you want to know what it's like to
hit the wall head first at 25 miles an

12
00:00:50,399 --> 00:00:51,270
hour

13
00:00:51,270 --> 00:00:56,160
it's a little bit painful I was sore for
a couple days after that and i am a

14
00:00:56,160 --> 00:01:01,140
student at emu and the information
assurance program i'm a super duper

15
00:01:01,140 --> 00:01:05,309
senior hopefully i'll get out of there
soon enough

16
00:01:06,180 --> 00:01:09,299
that's pretty much it about me

17
00:01:09,299 --> 00:01:15,030
so like I said this talk is about my
experiences or the past year of doing

18
00:01:15,030 --> 00:01:16,770
pen testing

19
00:01:16,770 --> 00:01:21,119
I want to help you guys learn from my
mistakes things to do things not to do

20
00:01:21,119 --> 00:01:28,380
and then i'll go over a little bit of a
case study about the process that I went

21
00:01:28,380 --> 00:01:31,589
through on a couple of and test recently
this year

22
00:01:31,590 --> 00:01:35,670
so first off what should you do

23
00:01:36,270 --> 00:01:42,390
are what are things that you need to do
in order to be a good pen tester and in

24
00:01:42,390 --> 00:01:45,570
order to be prepared for your first
engagement

25
00:01:45,570 --> 00:01:50,279
first off you need to prepare your gear
then of course you need to know your

26
00:01:50,280 --> 00:01:54,240
tools you need to know what it is you're
using you need to know when you will use

27
00:01:54,240 --> 00:01:58,710
certain tools how they react that sort
of thing you always need to have a plan

28
00:01:58,710 --> 00:02:04,320
because even if the plan it's completely
messed up by something that happens you

29
00:02:04,320 --> 00:02:09,750
need to know at what point you're going
to do certain things and engagement

30
00:02:09,750 --> 00:02:14,010
and then you need to be able to find the
goodies and i'll go over what that means

31
00:02:14,010 --> 00:02:15,209
more later

32
00:02:15,210 --> 00:02:19,710
so the first step of course when you're
growing on an engagement the night

33
00:02:19,710 --> 00:02:20,430
before

34
00:02:20,430 --> 00:02:25,320
sometimes is to prepare your gear and as
pen testers we have a lot of different

35
00:02:25,320 --> 00:02:29,190
stuff we've got laptop so you've got
rubber duckies we've got flash drives

36
00:02:29,190 --> 00:02:30,959
all kind of chargers

37
00:02:30,959 --> 00:02:34,260
I probably have about a dozen chargers
whenever I go somewhere

38
00:02:34,950 --> 00:02:38,820
all right in my backpack and you need to
make sure you have all that because when

39
00:02:38,820 --> 00:02:43,560
you're on an engagement sitting there in
an office or trying to break in and you

40
00:02:43,560 --> 00:02:48,000
realized suddenly that you don't have an
ethernet cable that is not a good thing

41
00:02:48,000 --> 00:02:51,840
so you always need to make sure you know
what you have and you always need to

42
00:02:51,840 --> 00:02:58,709
make sure that you have it ahead of
flying after that you need to know your

43
00:02:58,709 --> 00:03:04,260
tools who recognizes what this is on the
screen here then map right

44
00:03:04,260 --> 00:03:10,500
pretty standard tool probably most of
you know it already but as pen testers

45
00:03:10,500 --> 00:03:17,459
we use a ton of tools we use everything
from scanning tools to attack tools to

46
00:03:17,459 --> 00:03:19,170
recon tools

47
00:03:19,170 --> 00:03:24,570
i'm pretty sure that on a given
engagement i will use over two dozen

48
00:03:24,570 --> 00:03:29,579
tools whether they're custom were
pre-made open source close source all

49
00:03:29,580 --> 00:03:32,820
sorts of things and you need to know all
of them

50
00:03:32,820 --> 00:03:37,769
you need to know what they do you need
to know how they accomplish that you

51
00:03:37,769 --> 00:03:42,480
need to know how they fail and you need
to know how they can be caught up on the

52
00:03:42,480 --> 00:03:48,540
screen here i have metasploit PS exact
and it is not working and something that

53
00:03:48,540 --> 00:03:53,850
will cause it to not work is USC being
above medium security level that kind of

54
00:03:53,850 --> 00:03:56,850
knowledge is important because if
something is failing on the pen test you

55
00:03:56,850 --> 00:04:00,930
need to be able to diagnose that you
need to be able to respond accordingly

56
00:04:00,930 --> 00:04:05,549
another thing that you would want to
know about PS exact is that it spawned

57
00:04:05,549 --> 00:04:09,900
the service and that it leaves a very
noticeable event in the system logs that

58
00:04:09,900 --> 00:04:15,120
we've seen people can look for need to
be aware of that so that you can adjust

59
00:04:15,120 --> 00:04:21,030
your techniques accordingly or so that
you can be prepared to get caught or not

60
00:04:21,029 --> 00:04:22,609
get caught as the case may be

61
00:04:22,610 --> 00:04:28,189
throwing around tools blindly is a good
way to get caught and or brake systems

62
00:04:28,189 --> 00:04:31,189
so neither of those is a good thing when
your pen tester

63
00:04:31,820 --> 00:04:35,210
secondly you need to plan ahead

64
00:04:35,750 --> 00:04:40,760
you need to know what your objectives
are what will you try to accomplish in

65
00:04:40,760 --> 00:04:41,750
the engagement

66
00:04:41,750 --> 00:04:44,960
how will you do that what are the
techniques are going to use whether the

67
00:04:44,960 --> 00:04:46,400
tools you going to use

68
00:04:46,400 --> 00:04:49,700
do you have a back-up plan in case you
can't do something right the first time

69
00:04:49,700 --> 00:04:51,770
and when

70
00:04:51,770 --> 00:04:55,010
how long are you going to spend on
something before you give up and say

71
00:04:55,010 --> 00:04:59,780
okay i'll move on to the next objective
at what point in the engagement are you

72
00:04:59,780 --> 00:05:05,900
going to perform certain attacks or try
to get at certain data and all that sort

73
00:05:05,900 --> 00:05:09,500
of stuff is very critical because if you
don't have a good plan

74
00:05:10,070 --> 00:05:12,800
then you're just going to be floundering
and you don't want to be sitting there

75
00:05:12,800 --> 00:05:17,270
in the middle of the client's office
being like a so what now

76
00:05:17,780 --> 00:05:22,039
and that won't get you any bonus points
that won't get you what you need as a

77
00:05:22,040 --> 00:05:32,360
pen tester and lastly a knot last second
to last you need to find the goodies

78
00:05:32,360 --> 00:05:36,680
what does that mean you need to ask
yourself a couple different questions

79
00:05:36,680 --> 00:05:40,070
before you start the engagement need to
ask what is the client do

80
00:05:40,610 --> 00:05:44,450
what's the business what are they trying
to keep safe

81
00:05:44,450 --> 00:05:48,440
do they have credit card numbers are
they worried about pci are they worried

82
00:05:48,440 --> 00:05:51,650
about HIPAA do they have social security
numbers

83
00:05:51,650 --> 00:05:56,060
what sort of data do they deal with if
they're manufacturing company

84
00:05:56,060 --> 00:06:00,530
they're probably concerned about keeping
their manufacturing plants going

85
00:06:00,530 --> 00:06:03,739
if their power company they want to keep
the lights on that sort of thing you

86
00:06:03,740 --> 00:06:07,940
need to find out what they're afraid of
happening and figure out how an attacker

87
00:06:07,940 --> 00:06:12,080
would do that and you can even straight
up ask them

88
00:06:12,080 --> 00:06:16,010
you can say what are you concerned about
that will very often get you a good idea

89
00:06:16,010 --> 00:06:20,750
of if they're doing this sort of threat
modeling that they need

90
00:06:20,750 --> 00:06:25,190
if they're conscious of the risks and
there they know what to watch out for

91
00:06:25,190 --> 00:06:29,630
that question is very important because
it can show a disconnect or it can show

92
00:06:29,630 --> 00:06:33,920
you here's what we're worried about
here's what you should go for on the

93
00:06:33,920 --> 00:06:35,210
pens lost

94
00:06:35,210 --> 00:06:41,810
for example if they're a company that's
worried about pci compliance and you're

95
00:06:41,810 --> 00:06:43,280
doing and test for them

96
00:06:43,280 --> 00:06:47,809
have they been breached before did they
lose credit card data if so they

97
00:06:47,810 --> 00:06:51,590
probably want to check to make sure that
they don't still a plaintext credit card

98
00:06:51,590 --> 00:06:53,840
sitting on the Secretary's computer

99
00:06:53,840 --> 00:06:56,780
they probably want to make sure that
they aren't keeping millions of

100
00:06:56,780 --> 00:07:01,549
transactions in a database that's on
secure stuff like that

101
00:07:01,550 --> 00:07:07,580
you need to know what they're concerned
about so that you can check for it and

102
00:07:07,580 --> 00:07:10,940
then of course what not to do

103
00:07:10,940 --> 00:07:14,990
many people fall into these traps i want
so that I haven't before

104
00:07:15,650 --> 00:07:21,560
but you need to make sure that you are
not getting cocky damaging systems

105
00:07:21,560 --> 00:07:25,669
creating vulnerabilities or getting
caught the last one is sometimes

106
00:07:25,669 --> 00:07:31,789
optional depending on the gig but first
off don't get cocky you're not there to

107
00:07:31,789 --> 00:07:32,810
look cool

108
00:07:32,810 --> 00:07:37,039
you're not there to have fun here there
to do a job if you do your job properly

109
00:07:37,039 --> 00:07:40,699
the first two will probably come along
with that you will look cool

110
00:07:40,699 --> 00:07:43,909
you'll get to do some really cool shit
and you're going to get to do some fun

111
00:07:43,909 --> 00:07:49,610
stuff at the same time but those are not
your primary job as a pen tester sure

112
00:07:49,610 --> 00:07:54,169
it's cool being able to break into a
building and gain access to their domain

113
00:07:54,169 --> 00:08:00,229
controllers and don't password hashes
and stuff like that but so what

114
00:08:00,229 --> 00:08:03,440
so you got domain and then you need to
answer that question

115
00:08:03,440 --> 00:08:08,090
so what why does it matter you need to
show them where their security issues

116
00:08:08,090 --> 00:08:11,719
are and you need to make sure that
you're explaining that in a way that

117
00:08:11,719 --> 00:08:14,120
it's not about you

118
00:08:14,120 --> 00:08:17,120
here's serving their needs it's not the
other way around

119
00:08:21,160 --> 00:08:26,440
break things of course as pen testers
our job is to break things but you need

120
00:08:26,440 --> 00:08:28,240
to be careful about doing that

121
00:08:28,240 --> 00:08:32,229
I you need to make sure that you're not
crashing production systems when you

122
00:08:32,229 --> 00:08:35,770
dump 50,000 password hashes on a domain
controller

123
00:08:36,549 --> 00:08:39,819
sometimes it will fill up the ram and
crash how you don't want to do that

124
00:08:40,360 --> 00:08:45,760
you don't want to alter data if you're
looking at their credit card transaction

125
00:08:45,760 --> 00:08:46,480
log

126
00:08:46,480 --> 00:08:51,130
you don't want to change those
transactions to you know affect actual

127
00:08:51,130 --> 00:08:55,630
business processes you're there to show
that you could but you don't want to

128
00:08:55,630 --> 00:08:59,950
actually do that that's how you wind up
with talking lawyers and that's not fun

129
00:09:01,240 --> 00:09:07,030
don't change settings this is not
critical in some cases sometimes you

130
00:09:07,030 --> 00:09:12,970
will need to change certain settings to
be able to get a proper penetration but

131
00:09:12,970 --> 00:09:17,350
you don't want to change settings to
make things more insecure and that's

132
00:09:17,350 --> 00:09:19,060
kind of going into my next point

133
00:09:19,060 --> 00:09:23,650
don't create insecurity you're there to
test in security

134
00:09:23,650 --> 00:09:29,230
you're not there to create it if you see
a vulnerability and exploit it

135
00:09:29,230 --> 00:09:35,200
that's fine if you specifically open up
a vulnerability in a system like say you

136
00:09:35,200 --> 00:09:38,830
just spawn a buying shell on a web
server that's probably not a good idea

137
00:09:38,830 --> 00:09:43,300
because then anybody else on the
internet could connect to that and have

138
00:09:43,300 --> 00:09:48,849
the same amount of control that you do
our job is to do testing in a safe way

139
00:09:48,850 --> 00:09:55,780
and to demonstrate things in a way that
won't allow another attacker to get in

140
00:09:55,780 --> 00:09:59,709
off the back of what you're doing and
sometimes that can happen

141
00:09:59,710 --> 00:10:02,710
yep

142
00:10:06,490 --> 00:10:13,600
yeah sometimes it depends on the
engagement of course but i will use

143
00:10:13,600 --> 00:10:15,880
tactics like that if they're necessary

144
00:10:15,880 --> 00:10:25,570
I and sometimes creating vulnerabilities
like that is kind of it is necessary but

145
00:10:25,570 --> 00:10:29,770
you want to do it in the safest possible
way you want it to be as controlled as

146
00:10:29,770 --> 00:10:35,350
possible if you're just leaking out data
/ paste into perform data exfiltration

147
00:10:35,350 --> 00:10:41,050
that's not a good thing you need to find
ways that will expose your client as

148
00:10:41,050 --> 00:10:44,050
little as possible while you while
you're doing engage

149
00:10:46,540 --> 00:10:51,010
don't get caught like I said this this
one is optional depending on the sort of

150
00:10:51,010 --> 00:10:55,029
engagement that you're doing but in
order to not get caught you need to know

151
00:10:55,029 --> 00:10:59,860
a couple different things you need to
know what tools are going to be noisy

152
00:10:59,860 --> 00:11:02,830
you need to know what tools are going to
trigger alarms

153
00:11:02,830 --> 00:11:05,440
you need to know how much bail will be
if you get arrested while you're

154
00:11:05,440 --> 00:11:06,850
breaking into a building

155
00:11:06,850 --> 00:11:10,300
although hopefully that won't happen

156
00:11:10,300 --> 00:11:15,160
so you need to be conscious of these
things if you're trying to stay hidden

157
00:11:15,160 --> 00:11:19,899
if you create a domain administrator
that's probably going to trigger every

158
00:11:19,899 --> 00:11:23,680
single arm they have they're gonna wake
up the sysadmin is in the middle of the

159
00:11:23,680 --> 00:11:27,010
night and say hey something's going on

160
00:11:27,010 --> 00:11:31,149
let's press the panic button there are
quieter ways to do things

161
00:11:31,839 --> 00:11:37,600
if you're going around blindly throwing
t5n map scans that you know as fast as

162
00:11:37,600 --> 00:11:39,520
you can as fast as you can

163
00:11:39,520 --> 00:11:43,029
something's probably going to detect
that you need to be aware of that there

164
00:11:43,029 --> 00:11:47,740
are ways to be stealthy and you want to
make use of you want to make use of

165
00:11:47,740 --> 00:11:51,670
those as much as you can and then of
course you don't want to get arrested

166
00:11:52,390 --> 00:11:57,640
usually we have a get-out-of-jail-free
card but even so you don't want to get

167
00:11:57,640 --> 00:12:02,110
caught by the police because that's just
no one so far I've managed to avoid that

168
00:12:02,110 --> 00:12:05,470
but there's always a first time

169
00:12:05,470 --> 00:12:08,470
so in order to demonstrate that

170
00:12:08,990 --> 00:12:15,920
these techniques what I've learned over
the past year so i'm going to go through

171
00:12:15,920 --> 00:12:21,890
some case studies about engagements that
I've been on what I did

172
00:12:21,890 --> 00:12:27,199
what mistakes I made that sort of thing
and I'm fairly new so there were

173
00:12:27,200 --> 00:12:33,140
mistakes made on these engagements there
were times when I didn't follow my own

174
00:12:33,140 --> 00:12:37,399
advice and I want to help you guys if
you're getting into pentesting to not

175
00:12:37,399 --> 00:12:39,950
fall into the same trapezoid it

176
00:12:39,950 --> 00:12:46,130
so the first case study was a large
retailer fifty thousand plus employees

177
00:12:46,130 --> 00:12:53,660
10 billion dollars in revenue every year
and six character passwords so i'm going

178
00:12:53,660 --> 00:12:57,439
to walk you through the various phases
of this engagement of course first we

179
00:12:57,440 --> 00:13:05,029
start out externally we enumerated
applications we found their their ip's

180
00:13:05,029 --> 00:13:09,410
their various blocks that they
controlled all their external facing web

181
00:13:09,410 --> 00:13:15,560
applications we scan those ip's for
various services to see what's going on

182
00:13:15,560 --> 00:13:20,689
there and then we identified entry
points that basically anywhere a user

183
00:13:20,690 --> 00:13:22,310
can log into the system

184
00:13:22,310 --> 00:13:25,699
it could be VPN it could be outlook it
could be

185
00:13:26,779 --> 00:13:34,070
smt pssh all sorts of things you need to
examine each one of those in this case

186
00:13:34,070 --> 00:13:39,770
we determined that one of those
applications was not locking out user

187
00:13:39,770 --> 00:13:40,760
accounts

188
00:13:40,760 --> 00:13:45,050
no matter how many tribes we threw at it

189
00:13:45,050 --> 00:13:51,979
so based on this web application we did
a reverse brute force and what that does

190
00:13:51,980 --> 00:13:57,410
is instead of picking a ton of usernames
a ton of passwords trying them all

191
00:13:57,410 --> 00:13:58,670
against each other

192
00:13:58,670 --> 00:14:01,939
a you know millions of times until you
find a match

193
00:14:01,940 --> 00:14:07,160
we chose one password and we chose a
thousand different usernames that we

194
00:14:07,160 --> 00:14:14,959
could find for this client and we found
out that password was the season and the

195
00:14:14,959 --> 00:14:15,589
year

196
00:14:15,589 --> 00:14:22,670
so if your password for anything is
summer 16 right now change it right now

197
00:14:22,670 --> 00:14:25,130
i will wait if you have that password

198
00:14:25,130 --> 00:14:34,550
yes so we did that we brute forced the
entry point that we found which was i

199
00:14:34,550 --> 00:14:38,959
believe it was a VPN client login so we
found a valid username

200
00:14:39,529 --> 00:14:47,900
we found a valid password summer 2016
and then we logged into their VPN we had

201
00:14:47,900 --> 00:14:48,650
a football

202
00:14:48,650 --> 00:14:53,329
we were basically internal to their
network it that time had we realized it

203
00:14:53,329 --> 00:14:57,620
then we probably could have gotten
domain admin from the outside but this

204
00:14:57,620 --> 00:15:01,160
was getting towards the end of the week
before we went on site so we ran out of

205
00:15:01,160 --> 00:15:01,880
time

206
00:15:01,880 --> 00:15:08,180
we got access to a user's workstation we
try to a couple different things to gain

207
00:15:08,180 --> 00:15:11,239
some gain a foothold inside their
network

208
00:15:11,240 --> 00:15:14,990
we didn't realize quite where we were
inside the network so we didn't get the

209
00:15:14,990 --> 00:15:19,670
access that we would have liked you but
we ran out of time and that will happen

210
00:15:19,670 --> 00:15:22,910
but you just need to roll with it you
need to have a plan you need to know

211
00:15:22,910 --> 00:15:24,829
what's next

212
00:15:24,829 --> 00:15:28,279
so we went on site to the internal phase

213
00:15:28,279 --> 00:15:35,089
how many people here are familiar with a
tool called responder a few people

214
00:15:35,660 --> 00:15:40,939
so for those of you who don't know what
responder does is it will listen for NB

215
00:15:40,940 --> 00:15:47,180
TNS requests and LMN our request and
those are windows computers being very

216
00:15:47,180 --> 00:15:49,640
helpful and screaming out to the network

217
00:15:49,640 --> 00:15:54,770
hey does anybody know where ASDF . com
is if it doesn't have it in the local

218
00:15:54,770 --> 00:15:55,310
cache

219
00:15:55,310 --> 00:15:57,800
it will then start asking the network

220
00:15:57,800 --> 00:16:01,399
if somebody types of domain name wrong
that won't result

221
00:16:01,399 --> 00:16:05,870
normally that will never get a reply but
responder very helpfully on your

222
00:16:05,870 --> 00:16:11,300
attacker workstation will say yes I do
know where ASDF . com is

223
00:16:11,300 --> 00:16:14,300
that's me give me your username and your
password

224
00:16:15,230 --> 00:16:20,000
it's very helpful windows makes like
very easy for us responder will almost

225
00:16:20,000 --> 00:16:25,850
always get us a valid username and
password and there are plenty of trivial

226
00:16:25,850 --> 00:16:30,470
ways to disable that behavior but not
enough people do it not only people know

227
00:16:30,470 --> 00:16:35,029
that that exists and that's why we do
what we do as pen testers to show people

228
00:16:35,029 --> 00:16:39,230
this is what you should be aware of this
is something that you should look out

229
00:16:39,230 --> 00:16:44,750
for a real attacker to do so we got a
valid username and password

230
00:16:44,750 --> 00:16:49,490
while we were doing this we were
enumerated we were scanning using things

231
00:16:49,490 --> 00:16:54,019
like nbt scan using ping sweets using
nmap all sorts of different techniques

232
00:16:54,019 --> 00:16:58,700
to get as much information about the
network as we could we look for domain

233
00:16:58,700 --> 00:17:03,440
controllers we look for file shares we
look for important work stations like

234
00:17:03,440 --> 00:17:06,620
it's something says CEO workstation
probably important

235
00:17:08,569 --> 00:17:13,730
luckily we didn't really need to do much
more to get in a maenad because

236
00:17:13,730 --> 00:17:16,400
responder got us a username and password

237
00:17:16,400 --> 00:17:21,290
it was for a domain administrator
account and the password with six

238
00:17:21,290 --> 00:17:24,530
characters that cracked in about half a
minute

239
00:17:24,530 --> 00:17:29,510
it doesn't take very long if you have
weak passwords and that was the entire

240
00:17:29,510 --> 00:17:34,910
what that was the whole reason that we
got domain admin is one week

241
00:17:34,910 --> 00:17:41,570
password it only takes that much if you
don't disable respond LM and r & b hn s

242
00:17:41,570 --> 00:17:45,800
things like that you're going to be
vulnerable to that and that's what your

243
00:17:45,800 --> 00:17:47,129
job is to show

244
00:17:47,130 --> 00:17:51,060
you have these legacy accounts they have
default passwords are very very weak

245
00:17:51,060 --> 00:17:55,110
passwords they haven't been used in
eight years nine years or something like

246
00:17:55,110 --> 00:17:59,520
that but an attacker doesn't care about
that an attacker is going to take the

247
00:17:59,520 --> 00:18:01,230
quickest way in

248
00:18:01,230 --> 00:18:05,640
he can and we did six character password

249
00:18:06,330 --> 00:18:12,389
now what's next like I said we have to
find the trophy data in this case this

250
00:18:12,390 --> 00:18:17,190
was a retailer they had credit cards
they had a pharmacy so they had ph I

251
00:18:17,190 --> 00:18:22,350
healthcare information they had private
privately identifiable information

252
00:18:22,350 --> 00:18:27,780
social security numbers addresses linked
to real names all that sort of stuff

253
00:18:27,780 --> 00:18:29,580
they had it

254
00:18:29,580 --> 00:18:34,679
we needed to look for it the quickest
way to get that is to attack certain

255
00:18:34,680 --> 00:18:39,540
high-value targets those are going to be
network shares those are going to be

256
00:18:39,540 --> 00:18:45,540
executives account managers all that
sort of stuff you need to know who to

257
00:18:45,540 --> 00:18:49,320
look for and what where you're likely to
find the data and that's where

258
00:18:49,320 --> 00:18:53,250
enumeration really comes in handy if you
don't do that properly numeration if you

259
00:18:53,250 --> 00:18:56,610
don't do that reconnaissance you won't
be able to find that is easily and

260
00:18:56,610 --> 00:18:59,250
you're just going to be you know
spinning your wheels trying to look for

261
00:18:59,250 --> 00:19:03,000
the stuff over a week or more and not
going to get anywhere

262
00:19:04,130 --> 00:19:08,990
so we tried to gather more credentials
for various applications that they had

263
00:19:08,990 --> 00:19:10,550
we logged into their switches

264
00:19:10,550 --> 00:19:15,860
we saw their main frames we decided not
to log into those but we did get

265
00:19:15,860 --> 00:19:20,719
credentials for them because they're
concerned about that their servers are

266
00:19:20,720 --> 00:19:25,040
handling you know thousands of credit
card transactions a minute

267
00:19:25,040 --> 00:19:30,110
we showed them that as an attacker with
this level of access

268
00:19:30,110 --> 00:19:34,070
we could gain access to that it didn't
take anything more than cracking a six

269
00:19:34,070 --> 00:19:38,600
character password and that's something
that an essence can will never show you

270
00:19:38,600 --> 00:19:44,330
that's why and testing is more than just
running an asus can giving them a five

271
00:19:44,330 --> 00:19:46,970
thousand page report and saying we're
done

272
00:19:46,970 --> 00:19:53,450
we never used NASA's a single time on
this and then after we did all this

273
00:19:53,450 --> 00:19:56,540
after we gathered information after we
showed that we can get credit card

274
00:19:56,540 --> 00:20:02,060
information or control their entire
domain we decided to test their security

275
00:20:02,060 --> 00:20:08,179
team for responses we decided to try and
be as noisy as we could to see what the

276
00:20:08,180 --> 00:20:15,710
detection threshold was we ran louder
scans we did some really sketchy

277
00:20:15,710 --> 00:20:17,180
activity on their network

278
00:20:17,180 --> 00:20:21,440
they didn't see it so we created a a
domain administrator

279
00:20:21,440 --> 00:20:25,550
we were logged into one of the security
guys box he in boxes so we deleted the

280
00:20:25,550 --> 00:20:27,200
email that alerted

281
00:20:27,200 --> 00:20:31,850
hey somebody's just made a domain
administrator nobody notice the next day

282
00:20:31,850 --> 00:20:34,280
we still have that domain administrator
there

283
00:20:34,280 --> 00:20:38,510
nobody had noticed that a new domain
administrator had been created there was

284
00:20:38,510 --> 00:20:39,800
one email

285
00:20:39,800 --> 00:20:42,860
no text messages no phone calls in the
middle of the night

286
00:20:42,860 --> 00:20:46,520
no bright red flashing lights in the
data center nothing

287
00:20:46,520 --> 00:20:51,680
and we could do whatever we wanted to we
created another

288
00:20:51,680 --> 00:20:55,700
domain administrator we waited no
response

289
00:20:55,700 --> 00:21:00,500
we were sitting down and that the little
room that they put us in we had to

290
00:21:00,500 --> 00:21:04,040
domain administrators we were doing
whatever we wanted to on their network

291
00:21:04,580 --> 00:21:10,100
still nothing that was a little bit
weird because you know we didn't delete

292
00:21:10,100 --> 00:21:14,120
an email we didn't try to disrupt the
security team at all

293
00:21:14,120 --> 00:21:18,169
they still didn't notice we had to
create three domain administrators for

294
00:21:18,170 --> 00:21:22,760
anybody to take notice and then it took
them about two hours to track us down

295
00:21:22,760 --> 00:21:24,980
and find where we were

296
00:21:24,980 --> 00:21:28,070
that's exactly the sort of thing you
want to do when you're testing response

297
00:21:28,940 --> 00:21:34,490
a lot of people are emphasizing the idea
of hacking to get caught now

298
00:21:34,490 --> 00:21:37,640
hacking to show the defenders

299
00:21:37,640 --> 00:21:42,890
what to do what to look out for and
that's something that I think we should

300
00:21:42,890 --> 00:21:47,690
absolutely be doing as a pen testers
because if we're not actively helping

301
00:21:47,690 --> 00:21:49,700
make the defenders better

302
00:21:49,700 --> 00:21:56,420
we're not doing our job well enough so
we tested their security came and then

303
00:21:56,420 --> 00:22:00,020
after that they were concerned about
physical security which is just fun to

304
00:22:00,020 --> 00:22:04,400
do because you know you get to break
into buildings and climb over fences and

305
00:22:04,400 --> 00:22:09,920
do all sorts of fun stuff so we did a
little bit of physical security a common

306
00:22:09,920 --> 00:22:12,890
tactic is to tailgate through doors

307
00:22:12,890 --> 00:22:17,210
somebody will hold the door open for you
because people are very helpful if you

308
00:22:17,210 --> 00:22:18,920
have a box in your hands

309
00:22:18,920 --> 00:22:22,190
there's nobody he's not going to get the
door for you and say here let me hold

310
00:22:22,190 --> 00:22:27,590
that and thank you very much now I'm in
it oh you're going to scan your bad for

311
00:22:27,590 --> 00:22:29,750
me and put in your pin to get through
the second door

312
00:22:29,750 --> 00:22:33,620
that's even more helpful thank you my
bed is just in my pocket I swear

313
00:22:33,620 --> 00:22:38,510
so that sort of thing gaining access to
the building it's important because

314
00:22:38,510 --> 00:22:42,020
they're obviously concerned about
somebody coming in and ransacking the

315
00:22:42,020 --> 00:22:47,629
place or and gaining access to their
systems physically because everybody

316
00:22:47,630 --> 00:22:49,840
knows that physical access group

317
00:22:49,840 --> 00:22:56,139
we jumped over turn styles and because
you know they have little turnstile

318
00:22:56,140 --> 00:22:59,980
things for all the employees to scan
into and and if you were doing it

319
00:22:59,980 --> 00:23:03,789
properly you scan your badge and you
walk through the turnstile accounts of

320
00:23:03,789 --> 00:23:06,908
this badges sense can you jump over it

321
00:23:06,909 --> 00:23:12,429
nobody notices there we had security
cameras but nobody was watching them

322
00:23:12,429 --> 00:23:16,270
what good are those security cameras if
you don't have somebody watching to say

323
00:23:16,270 --> 00:23:19,840
hey that person just jumped over the
turnstile

324
00:23:19,840 --> 00:23:25,240
maybe we should send somebody down to
investigate we broke into their data

325
00:23:25,240 --> 00:23:30,610
center using and under the hundred door
tool for those of you who don't know any

326
00:23:30,610 --> 00:23:33,219
sort of the lever type door handles

327
00:23:33,220 --> 00:23:38,020
we have a tool that will go under the
door come up grab the handle and you

328
00:23:38,020 --> 00:23:41,350
just open it from the inside because
those all unlocked when you open them

329
00:23:41,350 --> 00:23:42,610
from the inside

330
00:23:42,610 --> 00:23:48,699
I think it's an ocean requirement and it
takes all of 10 seconds at most

331
00:23:49,419 --> 00:23:54,820
if you do it properly this one took us a
little bit longer but nobody stopped us

332
00:23:54,820 --> 00:23:55,600
to question us

333
00:23:55,600 --> 00:23:59,918
why are we doing this to the data center
doors they have that you know tens of

334
00:23:59,919 --> 00:24:01,840
millions of dollars of equipment in
there

335
00:24:01,840 --> 00:24:25,449
yeah yeah

336
00:24:25,970 --> 00:24:29,180
automatic doors that's an even better
way to do it

337
00:24:29,180 --> 00:24:33,380
in this case data center didn't have
automatic doors but it did have a little

338
00:24:33,380 --> 00:24:38,150
gap under the door and nobody seemed to
know that if there's a little gap under

339
00:24:38,150 --> 00:24:38,780
the door

340
00:24:38,780 --> 00:24:43,190
there are there's a tool that's 30 bucks
and you can buy it online and have it

341
00:24:43,190 --> 00:24:48,620
shipped to your house and the next day
shipping so it and you can even make one

342
00:24:48,620 --> 00:24:52,699
out of a bit of a coat hanger and a
string practically it's not hard to do

343
00:24:52,700 --> 00:24:58,010
but nobody's watching out for and that's
exactly our job as pen testers to show

344
00:24:58,010 --> 00:25:03,710
that people are not realizing the
vulnerabilities that they have even if

345
00:25:03,710 --> 00:25:08,720
they're easily exploitable know you
gotta be able to think outside the box

346
00:25:08,720 --> 00:25:10,100
think like an attacker

347
00:25:10,100 --> 00:25:16,639
because that's where r value is and then
we were just generally noise nosy

348
00:25:16,640 --> 00:25:20,420
we poked around in the offices we walked
around you know checking computers to

349
00:25:20,420 --> 00:25:22,160
see if they were on lobs

350
00:25:22,160 --> 00:25:27,290
we checked for papers left out on the
desk we took pictures of a couple

351
00:25:27,290 --> 00:25:31,129
sticking out with passwords on them
because everybody likes to do that you

352
00:25:31,130 --> 00:25:32,570
know you flip over the keyboard

353
00:25:32,570 --> 00:25:38,540
hey password one ok if somebody did
manage to tailgate in they would have

354
00:25:38,540 --> 00:25:40,220
access to that information

355
00:25:40,220 --> 00:25:46,370
we didn't have employee badges we didn't
have any sort of ID

356
00:25:46,370 --> 00:25:50,419
we just walked around their offices and
it's so big nobody questions you if you

357
00:25:50,420 --> 00:25:51,620
don't have a badge

358
00:25:51,620 --> 00:25:54,800
once you're on the inside people trust
you you should be there right

359
00:25:54,800 --> 00:25:58,220
you can walk around no matter what you
look like you know where you're going

360
00:25:58,220 --> 00:26:01,670
nobody's going to stop you and say hey
where's your badge people don't want to

361
00:26:01,670 --> 00:26:05,840
do that people don't want to confront
you because we don't like confrontation

362
00:26:05,840 --> 00:26:10,159
I don't want to stop you and make your
stick my nose in your business maybe you

363
00:26:10,160 --> 00:26:11,630
forgot your bed in your desk

364
00:26:11,630 --> 00:26:14,930
that's what you have to rely on when
you're doing this sort of physical

365
00:26:14,930 --> 00:26:19,130
security and then we tested another
location

366
00:26:19,130 --> 00:26:26,450
this was a type of a type of
distribution facility and in order to

367
00:26:26,450 --> 00:26:27,410
get through this

368
00:26:27,410 --> 00:26:32,210
all we had to do was walk through the
snow for about a mile and a half and I

369
00:26:32,210 --> 00:26:36,740
were ankle socks and sneakers because I
was not expecting to go through the snow

370
00:26:37,670 --> 00:26:44,120
yes my ankles were very cold after that
i'm lucky i didn't get frostbite and we

371
00:26:44,120 --> 00:26:45,560
slipped under the fence

372
00:26:45,560 --> 00:26:49,909
there was a gap there so we slipped
under the fence we got in we walked

373
00:26:49,910 --> 00:26:53,480
around everybody else had hard hat
safety vest things like that

374
00:26:53,480 --> 00:26:57,530
employee badges we were just two guys in
jeans and coats

375
00:26:57,530 --> 00:27:02,720
nobody said anything we walked past
people and they said hey how's it going

376
00:27:04,400 --> 00:27:09,320
nobody questioned else that's what that
that's what you want to demonstrate to

377
00:27:09,320 --> 00:27:11,540
your client you want to show

378
00:27:11,540 --> 00:27:16,670
nobody's asking questions nobody's
taking security as their a priority

379
00:27:17,720 --> 00:27:22,190
here's what you can do to improve that
and we avoided arrest

380
00:27:22,910 --> 00:27:26,360
there were at a different location

381
00:27:26,360 --> 00:27:30,919
we tried to break in and we were stopped

382
00:27:30,920 --> 00:27:35,360
then we decided to try again we were
told by our point of contact that there

383
00:27:35,360 --> 00:27:38,449
are cops waiting for you if you try and
do that again

384
00:27:38,450 --> 00:27:43,010
probably a good idea to call it off at
this point so I've almost been arrested

385
00:27:43,010 --> 00:27:46,400
I have not been arrested I would like to
stay out of handcuffs for as long as

386
00:27:46,400 --> 00:27:50,810
possible and i would like to not go to
jail and that's always important as pen

387
00:27:50,810 --> 00:27:51,740
testers

388
00:27:51,740 --> 00:27:56,360
it can happen when you're doing the sort
of physical security assessments that

389
00:27:56,360 --> 00:27:58,820
some of us need you

390
00:27:58,820 --> 00:28:01,820
yeah try not to get arrested I don't
recommend it

391
00:28:04,280 --> 00:28:07,280
yep

392
00:28:09,710 --> 00:28:10,759
I

393
00:28:10,759 --> 00:28:14,479
yes we do have get-out-of-jail-free
letters which are basically a piece of

394
00:28:14,479 --> 00:28:17,719
paper from the client that says these
people are authorized to do this kind of

395
00:28:17,719 --> 00:28:20,719
work

396
00:28:23,179 --> 00:28:31,759
yep yep exactly

397
00:28:32,570 --> 00:28:37,009
so you have this letter sometimes it
will make a difference sometimes it wont

398
00:28:37,009 --> 00:28:40,159
and there will be you know lots of phone
calls and you'll sit in a jail cell

399
00:28:40,820 --> 00:28:47,448
I have no desire to experience that so
we're yep

400
00:28:49,549 --> 00:28:53,839
I mean it has its perks but i just i
still would recommended

401
00:28:54,649 --> 00:29:09,559
yep

402
00:29:10,099 --> 00:29:22,519
yeah it sucks yeah definitely definitely
something to watch out for you don't

403
00:29:22,519 --> 00:29:23,659
want to get arrested

404
00:29:23,659 --> 00:29:28,639
I don't want to go to jail so you know
be as careful as you can always have

405
00:29:28,639 --> 00:29:33,948
that letter permission saying you are
allowed to be here you are allowed to be

406
00:29:33,949 --> 00:29:37,669
doing what you're doing a business card
will definitely help to prove that you

407
00:29:37,669 --> 00:29:41,569
are who you say you are because you know
business card can't be faked or whatever

408
00:29:41,569 --> 00:29:49,099
hungry but generally if you are sneaky
enough and you keep your wits about you

409
00:29:49,099 --> 00:29:53,299
that won't happen I've only been doing
this for a year there are probably

410
00:29:53,299 --> 00:29:56,329
people who have been doing this for
longer than I have who have been in that

411
00:29:56,329 --> 00:30:04,190
position but that's just my experience
so part and now i will move on to a very

412
00:30:04,190 --> 00:30:06,259
different case study

413
00:30:06,259 --> 00:30:12,409
this is a very clear example the best
that i've seen so far of contesting

414
00:30:12,409 --> 00:30:17,899
actually making a difference actually
bringing people to improve their

415
00:30:17,899 --> 00:30:20,919
security to raise awareness

416
00:30:20,920 --> 00:30:27,790
and to you know it's the example of pen
testers doing their jobs properly

417
00:30:27,790 --> 00:30:32,350
showing the client the risks and then
explaining that in a way that allows the

418
00:30:32,350 --> 00:30:34,659
client to make adjustments

419
00:30:34,660 --> 00:30:38,860
this is a small business they have one
location one office a hundred employees

420
00:30:38,860 --> 00:30:42,790
and they're concerned about pci
primarily when they first contacted us

421
00:30:42,790 --> 00:30:46,510
so we did a pen test in year one

422
00:30:47,140 --> 00:30:50,530
there was a sequel injection in external
applications

423
00:30:50,530 --> 00:30:54,700
it lets you read the customer database
and social security numbers credit card

424
00:30:54,700 --> 00:30:55,780
information

425
00:30:55,780 --> 00:31:00,129
all that fun stuff all exposed on the
internet to somebody who can run sequel

426
00:31:00,130 --> 00:31:03,370
map and that is pretty much everybody
and my dog

427
00:31:04,270 --> 00:31:07,990
it's not very hard to do and i'm sure
most people here are aware that

428
00:31:07,990 --> 00:31:16,210
internally they had things like ms 0806
7d fall passwords and that's pretty much

429
00:31:16,210 --> 00:31:16,900
it

430
00:31:16,900 --> 00:31:21,940
you get 10,000 plus records with thi pii
credit card numbers

431
00:31:22,600 --> 00:31:26,080
why the local but that was pretty much
game over

432
00:31:26,590 --> 00:31:30,669
we got the goodies this was not me
personally but this was my company and

433
00:31:30,670 --> 00:31:36,550
this was the first time they've ever had
a pen test on and we wrecked

434
00:31:36,550 --> 00:31:40,030
of course because they weren't taking
security seriously they have windows XP

435
00:31:40,030 --> 00:31:47,050
that windows 2003 that windows 2000 all
that sort of stuff but then they asked

436
00:31:47,050 --> 00:31:54,820
us to come back next year next year we
didn't get anywhere that all the web

437
00:31:54,820 --> 00:32:00,820
applications behind a laugh even though
they were still probably not fixed at

438
00:32:00,820 --> 00:32:03,970
least prevented us from getting anywhere
it

439
00:32:04,490 --> 00:32:09,080
you know blocked us at every turn
internally that fully patched windows

440
00:32:09,080 --> 00:32:12,590
seven and eight and they had 15
character passwords

441
00:32:12,590 --> 00:32:18,230
how many of you have a 15 character
password more more than half i would say

442
00:32:18,230 --> 00:32:24,980
but still 15 character passwords in an
enterprise environment they changed the

443
00:32:24,980 --> 00:32:30,890
monthly to even if you could crack the
15 character passwords

444
00:32:30,890 --> 00:32:34,100
it would probably take longer than a
month so then it would be a different

445
00:32:34,100 --> 00:32:35,240
password

446
00:32:35,240 --> 00:32:41,000
even if people are using common patterns
it's still going to be a pain in the ass

447
00:32:41,000 --> 00:32:43,070
to crack any of those passwords

448
00:32:43,070 --> 00:32:46,040
we didn't end up cracking any of the
passwords in the week that we had to do

449
00:32:46,040 --> 00:32:48,830
the engagement so we failed

450
00:32:48,830 --> 00:32:54,139
and that's a good thing we want to go
into environments and say we didn't get

451
00:32:54,140 --> 00:32:55,130
access

452
00:32:55,130 --> 00:33:07,010
we use this we use sneaky tactics yep
yep

453
00:33:07,010 --> 00:33:11,750
so in many cases that is a valid tactic
that's something an attacker would do

454
00:33:11,750 --> 00:33:14,540
but generally speaking

455
00:33:14,540 --> 00:33:18,050
we're not allowed to perform denial of
service attacks on our engagement

456
00:33:18,050 --> 00:33:23,210
because customers don't like think going
down even if it's a way that is out in

457
00:33:23,210 --> 00:33:25,160
the cloud somewhere and four

458
00:33:25,160 --> 00:33:31,490
yep exactly

459
00:33:32,120 --> 00:33:36,320
yep

460
00:33:44,480 --> 00:33:46,520
exact

461
00:33:46,520 --> 00:33:50,510
and that's a very valid point in this
engagement we weren't able to test that

462
00:33:50,510 --> 00:33:55,700
we would have liked to obviously we we
like these engagements where everything

463
00:33:55,700 --> 00:34:00,650
is in scope no hold barred were allowed
to do whatever you want but the reality

464
00:34:00,650 --> 00:34:02,510
is that's not always an option

465
00:34:02,510 --> 00:34:07,550
clients want you to do certain things
clients want you to not touch certain

466
00:34:07,550 --> 00:34:09,050
servers things like that

467
00:34:09,050 --> 00:34:12,409
they say don't touch our file share it
will go down if you even look at it

468
00:34:12,409 --> 00:34:19,340
mom well it's your file share is not
important don't you want that tested

469
00:34:19,340 --> 00:34:22,520
yeah but it will go down if you look at
it wrong so don't test it stay away from

470
00:34:22,520 --> 00:34:23,179
it

471
00:34:23,179 --> 00:34:26,780
stay away from our domain controller too
while you're at it come on

472
00:34:27,320 --> 00:34:34,909
so you have to try to convince them to
let you do everything but that's not

473
00:34:34,909 --> 00:34:38,630
always going to happen sometimes your
hands are going to be tied in this case

474
00:34:38,630 --> 00:34:39,980
our hands were somewhat

475
00:34:39,980 --> 00:34:48,830
yep that's a very I mean that will
convince some people that won't convince

476
00:34:48,830 --> 00:34:49,790
other people

477
00:34:49,790 --> 00:34:54,139
it's a good it's a very good question
whenever were being limited to things

478
00:34:54,139 --> 00:34:59,120
that we feel a like a scope is too
narrow or something like that we ask

479
00:34:59,120 --> 00:35:03,770
that question but a lot of the time
we're dealing with people who don't have

480
00:35:03,770 --> 00:35:09,350
the authority to let us do more
unfortunate and obviously as pen testers

481
00:35:09,350 --> 00:35:12,049
with more fun to do full scope

482
00:35:12,050 --> 00:35:19,250
anything goes pen testing but sometimes
that not an option but in this case we

483
00:35:19,250 --> 00:35:25,400
fail and we failed because we had done
the pen test before and we tore them

484
00:35:25,400 --> 00:35:26,240
apart

485
00:35:26,240 --> 00:35:27,750
they were

486
00:35:27,750 --> 00:35:33,270
terrified of what would happen and with
a smaller organization they had the

487
00:35:33,270 --> 00:35:39,600
ability to make those huge changes in
just a year because the IT manager said

488
00:35:39,600 --> 00:35:42,420
we're doing this and that's what they
were doing

489
00:35:42,420 --> 00:35:47,250
it's not going to happen in larger
organizations but i think this is a

490
00:35:47,250 --> 00:35:52,890
really good example of how we as pen
testers should work with the defenders

491
00:35:52,890 --> 00:35:55,650
we should help them improve

492
00:35:55,650 --> 00:36:00,840
we should give them all the ammunition
that we can in order to improve their

493
00:36:00,840 --> 00:36:02,550
organization security

494
00:36:02,550 --> 00:36:05,760
the more things that you find for your
clients

495
00:36:05,760 --> 00:36:10,230
the more ammunition they have to take to
management and say we're going to be

496
00:36:10,230 --> 00:36:12,570
fucked if someone even looks at us

497
00:36:12,570 --> 00:36:17,910
let's make some changes and our job as
pen testers is to do that we need to

498
00:36:17,910 --> 00:36:22,980
show them that there are things you can
do to prevent this from happening

499
00:36:23,790 --> 00:36:30,779
and look how easy it does it is for us
to get in an attacker is going to do the

500
00:36:30,780 --> 00:36:31,920
same things

501
00:36:31,920 --> 00:36:37,890
that's why pen testing I feel is very
important and that's a great example of

502
00:36:37,890 --> 00:36:44,879
how we can make a difference a lot of
people view pen testing as go in break

503
00:36:44,880 --> 00:36:49,230
shit give them a 500 page analysis
reports a were out we're done

504
00:36:49,230 --> 00:36:53,040
have have fun good luck but you need to
work with them

505
00:36:53,040 --> 00:36:57,210
your job as a pen tester isn't all
offensive as much as we would like it to

506
00:36:57,210 --> 00:36:57,750
be

507
00:36:57,750 --> 00:37:02,730
we have to do more we have to be better
than those you know big four shops or

508
00:37:02,730 --> 00:37:06,450
just delivering 500 page analysis
reports run by an intern

509
00:37:06,450 --> 00:37:11,100
that's not your job as a pendant that
you need to do more and you need to push

510
00:37:11,100 --> 00:37:14,339
the client to let you do more in order
to demonstrate that

511
00:37:15,170 --> 00:37:21,319
so I guess I still have some time I ran
through that a little bit quick if

512
00:37:21,319 --> 00:37:24,740
anybody has any questions if you'd like
to discuss things with me

513
00:37:24,740 --> 00:37:27,740
I'm happy to take any sort of comments
and criticisms

514
00:37:28,730 --> 00:37:33,079
yeah yeah

515
00:37:33,859 --> 00:37:39,589
haha that is a good example of something
I forgot to leave

516
00:37:39,589 --> 00:37:44,509
I forgot to put in my power point
presentation yes exactly

517
00:37:45,230 --> 00:37:52,250
um so let me see one of the things i
learned is to not hatched on a domain

518
00:37:52,250 --> 00:37:56,780
controller when you've got you know tens
of thousands of users and you don't know

519
00:37:56,780 --> 00:38:00,920
what your tool is going to do that was
on that retailer engagement

520
00:38:00,920 --> 00:38:04,280
we tried to do a hash down that domain
controller

521
00:38:04,910 --> 00:38:12,440
it stopped responding nobody complained
specifically but we were not aware that

522
00:38:12,440 --> 00:38:17,630
it would behave like that and we made a
specific note to not do that in the

523
00:38:17,630 --> 00:38:18,740
future

524
00:38:18,740 --> 00:38:27,890
um another thing is that a pen testing
is more than just running scans

525
00:38:27,890 --> 00:38:32,089
it's more than just looking cool it's
about actually helping people improve

526
00:38:32,089 --> 00:38:36,259
security when you're getting into
pentesting you want to get shells you

527
00:38:36,260 --> 00:38:40,940
want to get root you want to break in
you want to show people how cool you are

528
00:38:40,940 --> 00:38:45,650
but at the same time I've seen that it's
better to be humble

529
00:38:45,650 --> 00:38:51,589
it's better to come to them as not an
adversary but as someone who is there to

530
00:38:51,589 --> 00:38:52,430
help

531
00:38:52,430 --> 00:38:55,940
you're there to do your job you're there
to assist your client you're not there

532
00:38:55,940 --> 00:38:57,109
to look cool

533
00:38:57,109 --> 00:39:02,299
you can have fun doing it you can look
cool while you're doing it but that's

534
00:39:02,299 --> 00:39:06,259
not your primary goal and it shouldn't
be and I think that's something that I

535
00:39:06,260 --> 00:39:13,619
wish more red team talks emphasized and

536
00:39:13,619 --> 00:39:20,309
and I guess the importance of being
caught sometimes and how being caught

537
00:39:20,309 --> 00:39:24,210
can be a good thing because it can be a
learning experience for both you and the

538
00:39:24,210 --> 00:39:25,650
defenders

539
00:39:25,650 --> 00:39:31,140
because if they see something they can
then go down the rabbit hole they can

540
00:39:31,140 --> 00:39:35,460
see they can dig deeper into the event
and figure out what they would actually

541
00:39:35,460 --> 00:39:39,809
do if they had an incident and they
needed to respond to it

542
00:39:39,809 --> 00:39:44,819
so getting hacking to get caught is a
big thing that I would like to do more

543
00:39:44,819 --> 00:39:48,720
than that I've learned about over the
past year yet

544
00:39:53,190 --> 00:39:54,870
I

545
00:39:54,870 --> 00:39:58,200
say basically no hold barred

546
00:39:58,200 --> 00:40:02,490
let us attack your organization
completely don't give us a scope

547
00:40:02,490 --> 00:40:07,680
let us find you let us do like three
months of work to get in from the

548
00:40:07,680 --> 00:40:10,259
outside you know

549
00:40:10,260 --> 00:40:13,440
let us use tactics like getting hired at
the company

550
00:40:13,440 --> 00:40:19,110
let us do things like Fisher users we do
that in many cases but sometimes they're

551
00:40:19,110 --> 00:40:22,740
like oh we don't want to test that
because our users will click and their

552
00:40:22,740 --> 00:40:24,959
stupid

553
00:40:24,960 --> 00:40:28,260
yeah exactly

554
00:40:28,890 --> 00:40:32,370
but that's the sort of thing we want to
do because those are real world things

555
00:40:32,370 --> 00:40:37,230
like you're not going to have an
attacker say oh these servers look

556
00:40:37,230 --> 00:40:37,890
fragile

557
00:40:37,890 --> 00:40:42,900
I won't touch those because they're
fragile that that's what we would do if

558
00:40:42,900 --> 00:40:45,690
given our you know our way

559
00:40:45,690 --> 00:40:57,090
yeah yeah

560
00:40:57,090 --> 00:41:00,090
and that's entirely fair and that's a
valid point

561
00:41:00,630 --> 00:41:06,090
I think that but as pen testers we need
to realize that it's not just about

562
00:41:06,090 --> 00:41:09,780
getting domain and then it's what you
can do after that demonstrate

563
00:41:09,780 --> 00:41:13,530
ok we know that you can get domain and
then

564
00:41:13,530 --> 00:41:18,360
now what what's the end game and that's
where getting the goodies comes into

565
00:41:18,360 --> 00:41:21,270
play but to get back to your original
question

566
00:41:21,270 --> 00:41:26,670
yeah there are perfectly valid reasons
to not want us to do things but as

567
00:41:26,670 --> 00:41:27,750
attackers

568
00:41:27,750 --> 00:41:31,170
we're not going to say oh that's unfair

569
00:41:31,170 --> 00:41:35,790
that's cheated a kid sitting in his
basement in Russia is not going to say

570
00:41:35,790 --> 00:41:40,830
uh well I i think it would be unfair if
I fished them because i'm too good at

571
00:41:40,830 --> 00:41:43,830
fishing and that's not going to happen

572
00:41:43,830 --> 00:41:46,830
yep

573
00:41:49,450 --> 00:42:04,540
yep absolutely we don't just give them a
giant list of vulnerabilities

574
00:42:04,540 --> 00:42:09,369
we say here's measure here's measures
you can take to prevent this your best

575
00:42:09,369 --> 00:42:11,589
practices for how to deal with this

576
00:42:11,589 --> 00:42:15,520
we aren't just going in there breaking
stuff and saying here's what we broke

577
00:42:15,520 --> 00:42:22,270
good luck we're saying here's a specific
things you can do to correct that to

578
00:42:22,270 --> 00:42:27,640
train your users to patch this to raise
awareness about this issue

579
00:42:28,270 --> 00:42:33,640
we're trying to do we try and give them
a defensive tips after we go in and

580
00:42:33,640 --> 00:42:35,109
Gregor

581
00:42:35,109 --> 00:42:42,549
yes

582
00:42:43,350 --> 00:42:47,549
today going on we would absolutely drop
everything so you have this going on

583
00:42:47,550 --> 00:42:50,610
take a look at this and will help with
that however possible

584
00:42:52,260 --> 00:42:55,260
yep

585
00:42:57,330 --> 00:43:03,779
so I am a student at emu in the is a
program i will say that most of what i

586
00:43:03,780 --> 00:43:09,270
learned about attacking systems about
doing some testing was not from school

587
00:43:09,270 --> 00:43:15,330
it was tinkering with computers it was
breaking things that you know my own

588
00:43:15,330 --> 00:43:16,590
wireless router

589
00:43:16,590 --> 00:43:21,060
I broke into it to show that i could and
say hey this is pretty cool i can get

590
00:43:21,060 --> 00:43:22,350
into things

591
00:43:22,350 --> 00:43:27,600
most of most of what we do is not taught
in school

592
00:43:27,600 --> 00:43:31,560
you're not going to be taught how to you
know trick someone into letting you in a

593
00:43:31,560 --> 00:43:32,640
building in school

594
00:43:32,640 --> 00:43:37,560
you're not going to be talking about
lockpicking in school most of the time I

595
00:43:37,560 --> 00:43:40,500
i'm not good at lock picking the best
beside the point

596
00:43:40,500 --> 00:43:43,890
so my educational background

597
00:43:44,460 --> 00:43:49,680
I do go to school for security but it's
not enough

598
00:43:49,680 --> 00:43:52,649
you always need to be constantly
learning you need to be pushing yourself

599
00:43:52,650 --> 00:43:53,610
to do better

600
00:43:53,610 --> 00:43:58,320
you need to read you know infosec
Twitter to keep up on the latest and

601
00:43:58,320 --> 00:44:02,670
greatest news you need to be digging
deeper into topics that interest you at

602
00:44:02,670 --> 00:44:08,760
every given . Irene constantly i read
even when I shouldn't be reading because

603
00:44:08,760 --> 00:44:11,670
i'm addicted to learning more

604
00:44:11,670 --> 00:44:16,590
I need to push myself to become you know
as good a pen testers eye candy

605
00:44:16,590 --> 00:44:20,250
so it's mostly on my own time yep

606
00:44:30,230 --> 00:44:32,590
yeah

607
00:44:32,590 --> 00:44:33,490
when I

608
00:44:33,490 --> 00:44:38,830
come across something that stops us
whenever we fail to do something we

609
00:44:38,830 --> 00:44:43,150
absolutely take a look at that in our
lab and say how can bypass this

610
00:44:43,660 --> 00:44:48,339
are there issues that could arise that
we didn't have time to discover

611
00:44:50,200 --> 00:44:53,919
of course you don't always have time to
dig into that as deep as you would like

612
00:44:54,520 --> 00:44:59,680
but we absolutely do i do that because
it's hard to become better hackers

613
00:45:01,900 --> 00:45:10,440
yeah yeah just as I'm

614
00:45:10,440 --> 00:45:15,960
just yesterday I came back from an
engagement where we had a long time to

615
00:45:15,960 --> 00:45:21,000
research the company we had a couple
weeks to start learning about them to

616
00:45:21,000 --> 00:45:27,780
connect with employees on linkedin to
research as much as possible about them

617
00:45:27,780 --> 00:45:32,640
and we started spear fishing and all of
that sort of stuff we were unsuccessful

618
00:45:32,640 --> 00:45:39,480
actually because we didn't anticipate
some countermeasures that they had but

619
00:45:39,480 --> 00:45:43,440
yet the Recon absolutely the more the
better

620
00:45:44,040 --> 00:45:49,259
we usually start looking at the client
when we first hear that we might get the

621
00:45:49,260 --> 00:45:54,000
engagement because the more time we have
the better our contest will be

622
00:45:54,000 --> 00:46:03,300
externally the more we can wish them all
sorts of sell more time about anyone

623
00:46:03,300 --> 00:46:04,680
else

624
00:46:04,680 --> 00:46:06,220
I don't

625
00:46:06,220 --> 00:46:10,419
it yep

626
00:46:19,840 --> 00:46:31,109
yeah yeah I'm

627
00:46:31,109 --> 00:46:37,109
it so if I'm understanding correctly
you're worried about the client knowing

628
00:46:37,109 --> 00:46:41,069
that the pen test is going on and
employees being aware that it's going on

629
00:46:41,069 --> 00:46:51,269
action oh well

630
00:46:52,150 --> 00:46:58,420
try and keep OPSEC as good as possible
and that's the most you can do i would

631
00:46:58,420 --> 00:47:00,279
say it

632
00:47:00,279 --> 00:47:04,180
you keep it a tight ship and make sure
that there are no information leaks on

633
00:47:04,180 --> 00:47:06,368
your end you're doing as much as
possible

634
00:47:06,369 --> 00:47:10,690
like we never mentioned client names
would never associate and test results

635
00:47:10,690 --> 00:47:16,119
with the actual client all that sort of
stuff and we're absolutely concerned

636
00:47:16,119 --> 00:47:20,890
with our results getting into the wrong
hands and we do everything to counteract

637
00:47:20,890 --> 00:47:27,660
that any other

638
00:47:27,660 --> 00:47:44,430
I'm well the problem is that a lot of
people get into penn testing from widely

639
00:47:44,430 --> 00:47:46,440
disparate backgrounds and everything

640
00:47:46,440 --> 00:47:51,510
i would say definitely knowledge of the
sysadmin sort of casks common things

641
00:47:51,510 --> 00:47:55,200
that you need to know like Active
Directory need to know windows because

642
00:47:55,200 --> 00:47:57,118
everybody uses windows

643
00:47:57,119 --> 00:48:00,780
you need to know linux because a lot of
the tools we use are based on linux you

644
00:48:00,780 --> 00:48:07,020
need to know as much as possible about
the internals of the common

645
00:48:07,020 --> 00:48:10,710
configurations and honestly that's my
weak point because i don't have that

646
00:48:10,710 --> 00:48:11,880
level of experience

647
00:48:11,880 --> 00:48:18,000
I know a good deal but I don't have
years of experience to draw on and we're

648
00:48:18,000 --> 00:48:19,890
still able to do fairly well

649
00:48:19,890 --> 00:48:27,270
so as much in a prerequisite knowledge i
would say you need to know computers in

650
00:48:27,270 --> 00:48:28,740
general you need to know

651
00:48:28,740 --> 00:48:35,098
various operating systems and you need
to be competent with all of them not you

652
00:48:35,099 --> 00:48:36,990
don't have to be a professional with any
of them

653
00:48:36,990 --> 00:48:41,160
but you need to at least know your way
around that answer your question

654
00:48:42,150 --> 00:48:45,150
yep

655
00:48:52,829 --> 00:48:57,599
I

656
00:48:58,330 --> 00:49:02,950
big things driving pen testing is pci
because if you handle credit card data

657
00:49:02,950 --> 00:49:05,379
you need to have pan testing done

658
00:49:05,380 --> 00:49:08,710
I think now it's twice a year in 2018

659
00:49:09,580 --> 00:49:13,540
that's one of the big things that's
driving pen testing so all these

660
00:49:13,540 --> 00:49:18,640
companies that want to be a PCI
compliant need to have pen test done

661
00:49:18,640 --> 00:49:22,540
so we try to do more than pci pentas we
try to convince them

662
00:49:22,540 --> 00:49:28,180
hey pc is compliance but compliance is
not security security is what we want to

663
00:49:28,180 --> 00:49:33,069
test we don't want to test compliance we
will but we want to do more in addition

664
00:49:33,070 --> 00:49:38,440
to that this last engagement that I was
on was a pci assessment that we convince

665
00:49:38,440 --> 00:49:41,050
them to allow us to do full scope

666
00:49:41,050 --> 00:49:44,350
meaning we weren't just testing pca
requirements to the letter we were

667
00:49:44,350 --> 00:49:48,040
testing outside of that more what a
realistic attacker would do but

668
00:49:48,040 --> 00:49:54,759
companies are looking for a pen testers
companies are looking for consulting to

669
00:49:54,760 --> 00:49:55,810
do pants

670
00:49:55,810 --> 00:50:01,210
I can't give you a number on market
share or anything like that because i

671
00:50:01,210 --> 00:50:06,250
don't know that just not but hopefully
that isn't there is demand

672
00:50:07,150 --> 00:50:12,890
yeah yeah kind of

673
00:50:12,890 --> 00:50:15,890
testing

674
00:50:18,290 --> 00:50:28,310
I kept my job title is penetration
tester sometimes it will be like

675
00:50:28,310 --> 00:50:35,570
security analyst or a security
consultant but my job is penetration

676
00:50:35,570 --> 00:50:38,570
tester that's what i have on my business
card

677
00:50:41,990 --> 00:50:51,319
so external tools that we use to
identify what a customer is running

678
00:50:51,320 --> 00:50:56,300
right so we use a lot of different stuff
of course there's always end that and

679
00:50:56,300 --> 00:51:01,910
map is the go-to tool for recon because
it's so widely known its yep

680
00:51:02,420 --> 00:51:09,740
um we will do things like using showdown
showdown results for the company for

681
00:51:09,740 --> 00:51:14,089
those of you who don't know showdown is
basically a database of

682
00:51:14,090 --> 00:51:19,220
internet-connected systems that are
being scanned by showed in for open

683
00:51:19,220 --> 00:51:23,359
ports for services for applications so
you can very easily identify what a

684
00:51:23,360 --> 00:51:27,260
company has externally through that

685
00:51:27,260 --> 00:51:33,800
additionally you can use like CMS
mapping tools you can use things like

686
00:51:33,800 --> 00:51:37,310
that a lot of checking for web
applications is just right click new

687
00:51:37,310 --> 00:51:41,150
source that answer your question

688
00:51:41,960 --> 00:51:45,860
I thinking I'm happy to talk more tools
if you

689
00:51:46,400 --> 00:51:51,510
yeah sure yeah any other

690
00:51:51,510 --> 00:51:54,510
questions think we're just about done
five minutes yourself yeah

691
00:52:01,800 --> 00:52:04,849
Oh

692
00:52:04,849 --> 00:52:10,579
use collie it's from what i can tell
it's fairly well integrated all the

693
00:52:10,579 --> 00:52:16,460
tools are set up when it breaks it's a
pain in the ass but it's also a pain to

694
00:52:16,460 --> 00:52:18,140
set up from stock linux

695
00:52:18,140 --> 00:52:22,848
I don't have an opinion one way or the
other this is just what my team decided

696
00:52:22,849 --> 00:52:24,680
to use as a group

697
00:52:24,680 --> 00:52:31,430
there are benefits to both but I would
always choose to run some flavor of

698
00:52:31,430 --> 00:52:38,690
linux for test setup like I have I have
my macbook but maybe I have been a good

699
00:52:38,690 --> 00:52:44,900
but I for contesting we do virtualize
colleague

700
00:52:46,320 --> 00:53:04,350
the other question were tip that I i
would say we're open to the idea i don't

701
00:53:04,350 --> 00:53:06,060
know for hiring specifically

702
00:53:06,060 --> 00:53:10,020
um I if you want to give me your contact
information that connections

703
00:53:10,020 --> 00:53:13,500
absolutely yep

704
00:53:13,500 --> 00:53:30,450
yes it so you need to be creative

705
00:53:30,450 --> 00:53:34,770
it's not a science it's not something
specific you need to be able to think

706
00:53:34,770 --> 00:53:36,000
outside the box

707
00:53:36,000 --> 00:53:40,890
people say that it's cliche but it's
true you need to think like an attacker

708
00:53:40,890 --> 00:53:44,279
does you need to say hey I'm a bad guy

709
00:53:44,280 --> 00:53:51,390
what about you being having that
malicious mindset is important but at

710
00:53:51,390 --> 00:53:55,470
the same time you need to be very
ethical on top of that you need to be

711
00:53:55,470 --> 00:53:58,529
absolutely committed to improving
security

712
00:53:58,530 --> 00:54:01,710
i would say rather than just breaking
stuff for the hell of it

713
00:54:02,280 --> 00:54:05,670
I think it's important to realize that
we're doing a job we're doing a very

714
00:54:05,670 --> 00:54:12,570
important thing and we should not we
should do our best to be reasonable and

715
00:54:12,570 --> 00:54:17,490
to perform our duties without breaching
confidentiality or anything that

716
00:54:17,490 --> 00:54:26,450
yep one

717
00:54:26,450 --> 00:54:27,250
12

718
00:54:27,250 --> 00:54:32,020
or something like as much of a script
kitty

719
00:54:32,020 --> 00:54:35,830
as I sound like a display because it has
all those tools

720
00:54:35,830 --> 00:54:40,029
it has lots of different stuff if you
learn about meh destroyed internals you

721
00:54:40,030 --> 00:54:46,330
can extend it to do whatever you want
and it's a script kiddie tool but it's

722
00:54:46,330 --> 00:54:48,759
so much more than that as well

723
00:54:48,760 --> 00:54:53,380
it's absolutely a good to learn as a
better reputation as it has among

724
00:54:53,380 --> 00:54:56,500
defenders and among some reading people

725
00:54:56,500 --> 00:55:03,250
it's a great starting point for people
getting into endless my being

726
00:55:03,250 --> 00:55:08,980
about get five more minutes so any other
questions you guys have a happy to

727
00:55:08,980 --> 00:55:14,290
answer if not thank you for it

728
00:55:16,030 --> 00:55:19,420
yes yes crowd

