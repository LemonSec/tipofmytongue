1
00:00:00,030 --> 00:00:02,879
then we'll cover some<font color="#CCCCCC"> of</font><font color="#E5E5E5"> the ways</font>

2
00:00:01,110 --> 00:00:05,400
containers challenge existing<font color="#E5E5E5"> security</font>

3
00:00:02,879 --> 00:00:07,470
programs<font color="#E5E5E5"> but on the flip side the</font>

4
00:00:05,400 --> 00:00:08,970
opportunity they pose<font color="#E5E5E5"> to</font><font color="#CCCCCC"> enable</font><font color="#E5E5E5"> finer</font>

5
00:00:07,470 --> 00:00:12,059
<font color="#E5E5E5">grained more automated security</font>

6
00:00:08,970 --> 00:00:14,130
<font color="#E5E5E5">enforcement and finally we'll spend a</font>

7
00:00:12,059 --> 00:00:15,660
majority<font color="#E5E5E5"> of the time showing you how you</font>

8
00:00:14,130 --> 00:00:20,609
<font color="#E5E5E5">can use runtime monitoring to come up</font>

9
00:00:15,660 --> 00:00:21,900
with<font color="#E5E5E5"> more secure configurations so at a</font>

10
00:00:20,609 --> 00:00:23,550
<font color="#CCCCCC">very high level you can think of</font>

11
00:00:21,900 --> 00:00:25,109
containers as the next step and the

12
00:00:23,550 --> 00:00:26,939
evolution from physical machines to

13
00:00:25,109 --> 00:00:28,439
virtual machines<font color="#E5E5E5"> infrastructure</font>

14
00:00:26,939 --> 00:00:30,960
<font color="#CCCCCC">operators when a pack workloads closer</font>

15
00:00:28,439 --> 00:00:33,690
and closer save some money<font color="#E5E5E5"> achieve</font>

16
00:00:30,960 --> 00:00:34,860
higher utilization<font color="#E5E5E5"> and developers but</font>

17
00:00:33,690 --> 00:00:37,559
<font color="#CCCCCC">especially the people</font><font color="#E5E5E5"> who</font><font color="#CCCCCC"> are paying</font>

18
00:00:34,860 --> 00:00:39,719
developers want to<font color="#E5E5E5"> move faster and</font>

19
00:00:37,559 --> 00:00:41,399
deliver more value<font color="#E5E5E5"> in containers</font>

20
00:00:39,719 --> 00:00:43,469
especially<font color="#CCCCCC"> when you pair them</font><font color="#E5E5E5"> with an</font>

21
00:00:41,399 --> 00:00:46,440
orchestration tool like kubernetes<font color="#E5E5E5"> hope</font>

22
00:00:43,469 --> 00:00:48,030
you do that in some sense really

23
00:00:46,440 --> 00:00:50,010
containers are just<font color="#E5E5E5"> a repackaging of</font>

24
00:00:48,030 --> 00:00:52,770
existing<font color="#CCCCCC"> things</font><font color="#E5E5E5"> so Linux processes</font>

25
00:00:50,010 --> 00:00:54,989
<font color="#CCCCCC">control groups</font><font color="#E5E5E5"> kernel namespaces layered</font>

26
00:00:52,770 --> 00:00:56,760
file systems<font color="#E5E5E5"> cryptographic hashes</font>

27
00:00:54,989 --> 00:00:59,608
virtual networking and some other stuff

28
00:00:56,760 --> 00:01:00,989
but<font color="#CCCCCC"> containers really took off when</font><font color="#E5E5E5"> it</font>

29
00:00:59,609 --> 00:01:02,609
<font color="#E5E5E5">got easier to use all those things</font>

30
00:01:00,989 --> 00:01:05,220
together<font color="#E5E5E5"> instead of</font><font color="#CCCCCC"> having to roll</font><font color="#E5E5E5"> your</font>

31
00:01:02,609 --> 00:01:07,680
own<font color="#E5E5E5"> developers could package up</font>

32
00:01:05,220 --> 00:01:10,048
applications with images with all their

33
00:01:07,680 --> 00:01:12,000
dependencies<font color="#E5E5E5"> no more using ansible</font>

34
00:01:10,049 --> 00:01:13,530
<font color="#E5E5E5">apt-get install this</font><font color="#CCCCCC"> version</font><font color="#E5E5E5"> of</font><font color="#CCCCCC"> Python</font>

35
00:01:12,000 --> 00:01:15,659
<font color="#E5E5E5">or that version of some</font><font color="#CCCCCC"> pip package</font>

36
00:01:13,530 --> 00:01:17,759
globally<font color="#CCCCCC"> and</font><font color="#E5E5E5"> they could share those</font>

37
00:01:15,659 --> 00:01:19,009
images<font color="#E5E5E5"> and run them anywhere</font><font color="#CCCCCC"> and show</font>

38
00:01:17,759 --> 00:01:22,280
their configurations in version control

39
00:01:19,009 --> 00:01:24,479
<font color="#CCCCCC">the same way that they'd version code</font>

40
00:01:22,280 --> 00:01:26,909
and the containers<font color="#E5E5E5"> would for the most</font>

41
00:01:24,479 --> 00:01:29,280
part<font color="#E5E5E5"> run the same way</font><font color="#CCCCCC"> whether</font><font color="#E5E5E5"> they were</font>

42
00:01:26,909 --> 00:01:32,490
<font color="#E5E5E5">on a laptop</font><font color="#CCCCCC"> and a dev cluster or even in</font>

43
00:01:29,280 --> 00:01:34,430
production<font color="#E5E5E5"> with a defined clean</font><font color="#CCCCCC"> state</font><font color="#E5E5E5"> or</font>

44
00:01:32,490 --> 00:01:38,970
clean slate of the initial file system

45
00:01:34,430 --> 00:01:40,530
and the defined configuration and soon

46
00:01:38,970 --> 00:01:42,360
after that<font color="#CCCCCC"> Orchestrator started to</font>

47
00:01:40,530 --> 00:01:45,390
appear other tools that<font color="#E5E5E5"> helped you use</font>

48
00:01:42,360 --> 00:01:47,369
containers more effectively they helped

49
00:01:45,390 --> 00:01:49,560
you handle things like scheduling<font color="#E5E5E5"> fault</font>

50
00:01:47,369 --> 00:01:50,850
<font color="#E5E5E5">tolerant storage all the other stuff</font>

51
00:01:49,560 --> 00:01:53,130
that creeps up once you get<font color="#E5E5E5"> out of the</font>

52
00:01:50,850 --> 00:01:55,320
lab or off the laptop<font color="#CCCCCC"> and into making</font>

53
00:01:53,130 --> 00:01:56,850
real money with your<font color="#E5E5E5"> apps and</font><font color="#CCCCCC"> maybe</font>

54
00:01:55,320 --> 00:01:59,070
<font color="#E5E5E5">everybody at Google knew this for ten</font>

55
00:01:56,850 --> 00:02:01,460
years like<font color="#E5E5E5"> most</font><font color="#CCCCCC"> things</font><font color="#E5E5E5"> but</font><font color="#CCCCCC"> for the</font><font color="#E5E5E5"> rest</font>

56
00:01:59,070 --> 00:02:03,508
<font color="#E5E5E5">of us it became really clear</font><font color="#CCCCCC"> that</font><font color="#E5E5E5"> having</font>

57
00:02:01,460 --> 00:02:05,699
containers and crude ideas and<font color="#CCCCCC"> api's</font>

58
00:02:03,509 --> 00:02:07,200
<font color="#E5E5E5">like this having standard interfaces to</font>

59
00:02:05,700 --> 00:02:10,649
all the key parts<font color="#E5E5E5"> of your</font><font color="#CCCCCC"> application</font>

60
00:02:07,200 --> 00:02:13,650
was really<font color="#CCCCCC"> powerful and that power could</font>

61
00:02:10,649 --> 00:02:15,750
also change<font color="#E5E5E5"> the game for security</font>

62
00:02:13,650 --> 00:02:18,090
we walk through all the data found in<font color="#E5E5E5"> a</font>

63
00:02:15,750 --> 00:02:22,140
<font color="#E5E5E5">single speck for a single simplified</font>

64
00:02:18,090 --> 00:02:24,120
application<font color="#E5E5E5"> so this is a criminai</font><font color="#CCCCCC"> just</font>

65
00:02:22,140 --> 00:02:26,458
<font color="#E5E5E5">deployment</font><font color="#CCCCCC"> spec with some of the details</font>

66
00:02:24,120 --> 00:02:28,830
collapsed<font color="#CCCCCC"> and I was worried it would</font><font color="#E5E5E5"> be</font>

67
00:02:26,459 --> 00:02:33,989
too<font color="#E5E5E5"> small but that's like</font><font color="#CCCCCC"> 6 feet per</font>

68
00:02:28,830 --> 00:02:35,670
letter alright<font color="#CCCCCC"> so let's start</font><font color="#E5E5E5"> right at</font>

69
00:02:33,989 --> 00:02:37,829
the<font color="#CCCCCC"> top of the spec</font><font color="#E5E5E5"> we see some</font>

70
00:02:35,670 --> 00:02:39,599
operational metadata<font color="#E5E5E5"> that's</font><font color="#CCCCCC"> this</font><font color="#E5E5E5"> stuff</font>

71
00:02:37,829 --> 00:02:41,610
<font color="#E5E5E5">so like</font><font color="#CCCCCC"> who's</font><font color="#E5E5E5"> running this thing and</font>

72
00:02:39,599 --> 00:02:43,399
what<font color="#E5E5E5"> is it really we've got</font><font color="#CCCCCC"> a little</font>

73
00:02:41,610 --> 00:02:45,930
pointer<font color="#E5E5E5"> that's exciting</font>

74
00:02:43,400 --> 00:02:47,489
so labels and annotations are really

75
00:02:45,930 --> 00:02:48,959
important concept<font color="#E5E5E5"> in communities the</font>

76
00:02:47,489 --> 00:02:52,140
labels<font color="#E5E5E5"> help you establish</font><font color="#CCCCCC"> what the thing</font>

77
00:02:48,959 --> 00:02:54,209
is<font color="#E5E5E5"> and the annotations add things about</font>

78
00:02:52,140 --> 00:02:56,578
the app and<font color="#CCCCCC"> you can</font><font color="#E5E5E5"> see that they</font><font color="#CCCCCC"> can</font><font color="#E5E5E5"> be</font>

79
00:02:54,209 --> 00:02:58,590
used to<font color="#E5E5E5"> tag important info on in this</font>

80
00:02:56,579 --> 00:03:00,810
case we're using<font color="#E5E5E5"> things like who's</font>

81
00:02:58,590 --> 00:03:01,769
responsible for this<font color="#CCCCCC"> application</font><font color="#E5E5E5"> and how</font>

82
00:03:00,810 --> 00:03:03,810
to get in<font color="#E5E5E5"> touch with them</font>

83
00:03:01,769 --> 00:03:05,040
a lot<font color="#E5E5E5"> of the people we work with try to</font>

84
00:03:03,810 --> 00:03:07,590
add that as their<font color="#E5E5E5"> first set of</font>

85
00:03:05,040 --> 00:03:09,390
<font color="#CCCCCC">annotations</font><font color="#E5E5E5"> so that when either security</font>

86
00:03:07,590 --> 00:03:12,629
or ops or whoever is debugging a problem

87
00:03:09,390 --> 00:03:13,260
can immediately say<font color="#CCCCCC"> I know who to ask so</font>

88
00:03:12,629 --> 00:03:18,030
they<font color="#E5E5E5"> don't have to figure it out</font>

89
00:03:13,260 --> 00:03:19,739
<font color="#E5E5E5">themselves next you'll see the</font><font color="#CCCCCC"> first bit</font>

90
00:03:18,030 --> 00:03:22,440
of<font color="#E5E5E5"> content that says what the software</font>

91
00:03:19,739 --> 00:03:24,000
is and<font color="#E5E5E5"> this is an image reference so it</font>

92
00:03:22,440 --> 00:03:26,190
says a registry in this case<font color="#E5E5E5"> docker</font>

93
00:03:24,000 --> 00:03:29,549
<font color="#CCCCCC">Daioh or docker hub and then a name</font><font color="#E5E5E5"> and</font>

94
00:03:26,190 --> 00:03:31,680
a version and importantly you can take

95
00:03:29,549 --> 00:03:33,629
this reference<font color="#E5E5E5"> and you reference it</font><font color="#CCCCCC"> to a</font>

96
00:03:31,680 --> 00:03:36,000
<font color="#CCCCCC">cryptographic digest of all the stuff</font>

97
00:03:33,629 --> 00:03:38,989
<font color="#E5E5E5">that's in</font><font color="#CCCCCC"> the in the containers initial</font>

98
00:03:36,000 --> 00:03:42,299
configuration in the<font color="#E5E5E5"> file</font><font color="#CCCCCC"> system</font>

99
00:03:38,989 --> 00:03:43,620
continuing on we see<font color="#CCCCCC"> an audit sort</font><font color="#E5E5E5"> of</font>

100
00:03:42,299 --> 00:03:45,690
the things that the container will have

101
00:03:43,620 --> 00:03:47,250
when it starts up<font color="#E5E5E5"> so this</font><font color="#CCCCCC"> is</font><font color="#E5E5E5"> collapsed</font>

102
00:03:45,690 --> 00:03:48,930
<font color="#CCCCCC">it will see it</font><font color="#E5E5E5"> a little in a</font><font color="#CCCCCC"> little more</font>

103
00:03:47,250 --> 00:03:50,430
detail<font color="#CCCCCC"> in the</font><font color="#E5E5E5"> next</font><font color="#CCCCCC"> slide</font><font color="#E5E5E5"> but</font><font color="#CCCCCC"> it's what</font>

104
00:03:48,930 --> 00:03:54,269
does it have access to<font color="#CCCCCC"> what secrets what</font>

105
00:03:50,430 --> 00:03:56,220
config files what storage and then

106
00:03:54,269 --> 00:03:58,319
actually something that<font color="#E5E5E5"> wasn't always</font>

107
00:03:56,220 --> 00:04:00,750
<font color="#E5E5E5">next to the app code before</font><font color="#CCCCCC"> how is</font><font color="#E5E5E5"> it</font>

108
00:03:58,319 --> 00:04:03,268
exposed<font color="#E5E5E5"> so</font><font color="#CCCCCC"> that's in the well</font><font color="#E5E5E5"> sorry you</font>

109
00:04:00,750 --> 00:04:04,590
had to<font color="#E5E5E5"> sit up really high</font><font color="#CCCCCC"> but you can</font>

110
00:04:03,269 --> 00:04:06,359
see it's exposed on a port<font color="#E5E5E5"> and in this</font>

111
00:04:04,590 --> 00:04:10,199
case it's on a load balancer<font color="#E5E5E5"> or you</font>

112
00:04:06,359 --> 00:04:11,280
can't see<font color="#CCCCCC"> it so I'm told you so we can</font>

113
00:04:10,199 --> 00:04:13,049
<font color="#E5E5E5">zoom in on the description of that</font>

114
00:04:11,280 --> 00:04:16,798
containers object that<font color="#E5E5E5"> I collapsed in</font>

115
00:04:13,049 --> 00:04:18,090
<font color="#E5E5E5">the previous slide and here we see the</font>

116
00:04:16,798 --> 00:04:20,459
same sort<font color="#CCCCCC"> of image reference but there's</font>

117
00:04:18,089 --> 00:04:21,959
a bunch more<font color="#E5E5E5"> so at the top</font><font color="#CCCCCC"> we see</font><font color="#E5E5E5"> you</font>

118
00:04:20,459 --> 00:04:23,370
know what<font color="#E5E5E5"> will run so when you start</font>

119
00:04:21,959 --> 00:04:24,190
this container what exactly will<font color="#CCCCCC"> be the</font>

120
00:04:23,370 --> 00:04:25,810
command<font color="#E5E5E5"> that starts</font>

121
00:04:24,190 --> 00:04:28,330
and how<font color="#E5E5E5"> will you</font><font color="#CCCCCC"> begin running</font><font color="#E5E5E5"> the</font>

122
00:04:25,810 --> 00:04:30,130
application<font color="#E5E5E5"> next</font>

123
00:04:28,330 --> 00:04:31,570
are there any guardrails<font color="#CCCCCC"> so a lot of</font>

124
00:04:30,130 --> 00:04:33,280
times people deploy containers and they

125
00:04:31,570 --> 00:04:34,810
don't<font color="#E5E5E5"> really bother to inform the</font>

126
00:04:33,280 --> 00:04:37,419
scheduler sort of the<font color="#E5E5E5"> workload profile</font>

127
00:04:34,810 --> 00:04:39,400
or<font color="#E5E5E5"> 70 limits the limits can be really</font>

128
00:04:37,420 --> 00:04:40,810
<font color="#E5E5E5">helpful to prevent runaway apps either</font>

129
00:04:39,400 --> 00:04:41,799
because of<font color="#E5E5E5"> a mistake or because</font>

130
00:04:40,810 --> 00:04:43,420
someone's trying<font color="#CCCCCC"> to do</font><font color="#E5E5E5"> basically a</font>

131
00:04:41,800 --> 00:04:45,190
denial of<font color="#E5E5E5"> service</font><font color="#CCCCCC"> sort</font><font color="#E5E5E5"> of you</font><font color="#CCCCCC"> know</font><font color="#E5E5E5"> use</font>

132
00:04:43,420 --> 00:04:47,320
up<font color="#CCCCCC"> your resources</font><font color="#E5E5E5"> and start going</font>

133
00:04:45,190 --> 00:04:49,300
<font color="#CCCCCC">through</font><font color="#E5E5E5"> your nodes especially memory</font>

134
00:04:47,320 --> 00:04:49,840
limits can cause containers to go super

135
00:04:49,300 --> 00:04:54,100
haywire

136
00:04:49,840 --> 00:04:55,599
<font color="#E5E5E5">it's the noisiest of neighbors next you</font>

137
00:04:54,100 --> 00:04:58,120
can see some<font color="#E5E5E5"> privileges so here we're</font>

138
00:04:55,600 --> 00:05:01,210
dropping a capability<font color="#CCCCCC"> we can see if the</font>

139
00:04:58,120 --> 00:05:02,620
<font color="#CCCCCC">filesystem is read-only or</font><font color="#E5E5E5"> writable what</font>

140
00:05:01,210 --> 00:05:05,650
will be in the environment<font color="#E5E5E5"> sometimes</font>

141
00:05:02,620 --> 00:05:07,930
secret stuff<font color="#E5E5E5"> don't do that and then some</font>

142
00:05:05,650 --> 00:05:10,570
<font color="#E5E5E5">things like secrets block devices config</font>

143
00:05:07,930 --> 00:05:13,780
<font color="#E5E5E5">maps things like that and beyond</font><font color="#CCCCCC"> that</font>

144
00:05:10,570 --> 00:05:16,330
because<font color="#E5E5E5"> yeah</font><font color="#CCCCCC"> mole</font><font color="#E5E5E5"> doesn't get too well</font>

145
00:05:13,780 --> 00:05:18,219
into into a slide<font color="#E5E5E5"> you might have a bunch</font>

146
00:05:16,330 --> 00:05:20,849
<font color="#CCCCCC">more stuff to I might have network</font>

147
00:05:18,220 --> 00:05:23,650
policies that say who<font color="#E5E5E5"> can talk to what</font>

148
00:05:20,850 --> 00:05:25,260
more<font color="#E5E5E5"> storage options saying what kind of</font>

149
00:05:23,650 --> 00:05:27,400
story do you want<font color="#E5E5E5"> SSDs</font>

150
00:05:25,260 --> 00:05:30,010
you know standard<font color="#E5E5E5"> disks that kind of</font>

151
00:05:27,400 --> 00:05:31,359
thing configuration<font color="#CCCCCC"> Maps so the thing</font><font color="#E5E5E5"> is</font>

152
00:05:30,010 --> 00:05:33,190
used to have<font color="#E5E5E5"> like an engine X config</font>

153
00:05:31,360 --> 00:05:36,280
file you can put into<font color="#E5E5E5"> a config map and</font>

154
00:05:33,190 --> 00:05:37,600
you know<font color="#CCCCCC"> mountain health conditions so</font>

155
00:05:36,280 --> 00:05:39,520
that<font color="#E5E5E5"> career</font><font color="#CCCCCC"> IDs can do a</font><font color="#E5E5E5"> better job of</font>

156
00:05:37,600 --> 00:05:41,650
<font color="#E5E5E5">telling you know whether your app is up</font>

157
00:05:39,520 --> 00:05:43,120
and healthy<font color="#E5E5E5"> and running and you can even</font>

158
00:05:41,650 --> 00:05:44,979
have things like custom resources if you

159
00:05:43,120 --> 00:05:47,710
get really<font color="#E5E5E5"> deep into it and there's more</font>

160
00:05:44,980 --> 00:05:49,810
<font color="#E5E5E5">stuff that's the theme of this there's</font>

161
00:05:47,710 --> 00:05:52,180
always<font color="#E5E5E5"> more but we're giving you a</font>

162
00:05:49,810 --> 00:05:54,460
<font color="#E5E5E5">couple things</font><font color="#CCCCCC"> now that's a lot of</font>

163
00:05:52,180 --> 00:05:57,310
<font color="#E5E5E5">information and a</font><font color="#CCCCCC"> lot of</font><font color="#E5E5E5"> it might have</font>

164
00:05:54,460 --> 00:05:58,690
been in you know<font color="#CCCCCC"> a VM image or baked</font>

165
00:05:57,310 --> 00:06:00,640
into some<font color="#E5E5E5"> system</font><font color="#CCCCCC"> D file or something</font>

166
00:05:58,690 --> 00:06:02,140
<font color="#CCCCCC">before but it's</font><font color="#E5E5E5"> really powerful</font><font color="#CCCCCC"> to see</font>

167
00:06:00,640 --> 00:06:03,940
it all laid out in<font color="#CCCCCC"> one file that's</font>

168
00:06:02,140 --> 00:06:06,479
version control<font color="#E5E5E5"> that's human readable if</font>

169
00:06:03,940 --> 00:06:08,500
you can read<font color="#CCCCCC"> yamo it's not</font><font color="#E5E5E5"> not everyone</font>

170
00:06:06,480 --> 00:06:10,180
but<font color="#E5E5E5"> all</font><font color="#CCCCCC"> of that's you know gonna</font><font color="#E5E5E5"> be</font>

171
00:06:08,500 --> 00:06:11,890
<font color="#CCCCCC">saved somewhere</font><font color="#E5E5E5"> and critically you can</font>

172
00:06:10,180 --> 00:06:13,840
see it<font color="#E5E5E5"> later after</font><font color="#CCCCCC"> you</font><font color="#E5E5E5"> have deployed the</font>

173
00:06:11,890 --> 00:06:16,840
same spec that<font color="#CCCCCC"> you use to ask for it</font><font color="#E5E5E5"> to</font>

174
00:06:13,840 --> 00:06:20,710
run you can catch later<font color="#E5E5E5"> and see you know</font>

175
00:06:16,840 --> 00:06:21,969
once it's running<font color="#E5E5E5"> so just a caveat</font>

176
00:06:20,710 --> 00:06:23,770
before<font color="#CCCCCC"> you keep going there's a ton to</font>

177
00:06:21,970 --> 00:06:25,660
<font color="#CCCCCC">learn and a ton to say</font><font color="#E5E5E5"> about containers</font>

178
00:06:23,770 --> 00:06:27,460
and communities<font color="#E5E5E5"> and they're really</font>

179
00:06:25,660 --> 00:06:29,550
<font color="#E5E5E5">powerful tools so we can't cover</font>

180
00:06:27,460 --> 00:06:31,210
everything about them in 30<font color="#E5E5E5"> minutes</font>

181
00:06:29,550 --> 00:06:32,590
there<font color="#E5E5E5"> are some really innovative</font>

182
00:06:31,210 --> 00:06:34,150
<font color="#E5E5E5">projects springing up around the</font>

183
00:06:32,590 --> 00:06:36,070
community<font color="#E5E5E5"> and each part of the</font>

184
00:06:34,150 --> 00:06:37,549
infrastructure<font color="#CCCCCC"> too and a lot</font><font color="#E5E5E5"> of folks</font>

185
00:06:36,070 --> 00:06:40,069
are mixing<font color="#E5E5E5"> up the stack</font>

186
00:06:37,550 --> 00:06:42,110
now here's my<font color="#E5E5E5"> son deciding his stack</font><font color="#CCCCCC"> I</font>

187
00:06:40,069 --> 00:06:43,280
think one of the key<font color="#E5E5E5"> concerns for a</font>

188
00:06:42,110 --> 00:06:45,349
container project is you have to<font color="#E5E5E5"> have a</font>

189
00:06:43,280 --> 00:06:47,809
good logo<font color="#E5E5E5"> and then the sticker table</font>

190
00:06:45,349 --> 00:06:50,389
becomes like a toy a toy<font color="#CCCCCC"> island for a</font>

191
00:06:47,810 --> 00:06:52,430
<font color="#CCCCCC">two-year-old I think he picked</font><font color="#E5E5E5"> cryo</font><font color="#CCCCCC"> and</font>

192
00:06:50,389 --> 00:06:53,780
maybe do you<font color="#CCCCCC"> Iser and I think he's</font>

193
00:06:52,430 --> 00:06:57,169
<font color="#E5E5E5">running a</font><font color="#CCCCCC"> studio and prod like everyone</font>

194
00:06:53,780 --> 00:06:58,849
says they are so anyway<font color="#E5E5E5"> they're</font>

195
00:06:57,169 --> 00:07:00,169
<font color="#E5E5E5">obviously a ton of amazing research</font>

196
00:06:58,849 --> 00:07:02,539
projects<font color="#E5E5E5"> and developing projects going</font>

197
00:07:00,169 --> 00:07:04,729
on<font color="#E5E5E5"> the spaces have all been quickly and</font>

198
00:07:02,539 --> 00:07:06,409
the community<font color="#E5E5E5"> has really been</font><font color="#CCCCCC"> than</font>

199
00:07:04,729 --> 00:07:09,650
innovating especially as the<font color="#E5E5E5"> interface</font>

200
00:07:06,409 --> 00:07:10,819
is solidified around key components<font color="#E5E5E5"> but</font>

201
00:07:09,650 --> 00:07:12,739
<font color="#E5E5E5">we're</font><font color="#CCCCCC"> just</font><font color="#E5E5E5"> going to take</font><font color="#CCCCCC"> one view of</font><font color="#E5E5E5"> the</font>

202
00:07:10,819 --> 00:07:14,060
scene here<font color="#E5E5E5"> and</font><font color="#CCCCCC"> concentrate on configs</font>

203
00:07:12,740 --> 00:07:16,069
<font color="#CCCCCC">that you can adjust while you're</font>

204
00:07:14,060 --> 00:07:17,180
deploying<font color="#CCCCCC"> each of your apps</font><font color="#E5E5E5"> there's a</font>

205
00:07:16,069 --> 00:07:18,979
lot<font color="#E5E5E5"> more you can do when you're setting</font>

206
00:07:17,180 --> 00:07:20,150
up a<font color="#CCCCCC"> cluster to</font><font color="#E5E5E5"> secure the</font>

207
00:07:18,979 --> 00:07:23,449
infrastructure<font color="#CCCCCC"> you're like running on</font>

208
00:07:20,150 --> 00:07:25,190
top of when you're building images<font color="#CCCCCC"> you</font>

209
00:07:23,449 --> 00:07:27,590
can<font color="#E5E5E5"> take a lot of measures</font><font color="#CCCCCC"> to slim them</font>

210
00:07:25,190 --> 00:07:29,000
down and make<font color="#CCCCCC"> them more secure</font><font color="#E5E5E5"> more</font>

211
00:07:27,590 --> 00:07:30,590
<font color="#E5E5E5">concentrated and when you're deploying</font>

212
00:07:29,000 --> 00:07:33,130
them and obviously<font color="#CCCCCC"> once you're running</font>

213
00:07:30,590 --> 00:07:35,150
them you should do some monitoring<font color="#CCCCCC"> too</font>

214
00:07:33,130 --> 00:07:37,370
<font color="#E5E5E5">there's a lot of great content out there</font>

215
00:07:35,150 --> 00:07:40,068
<font color="#E5E5E5">from</font><font color="#CCCCCC"> koukin</font><font color="#E5E5E5"> docker con</font><font color="#CCCCCC"> a bunch of</font><font color="#E5E5E5"> other</font>

216
00:07:37,370 --> 00:07:43,340
talks you know blogs<font color="#E5E5E5"> that you can</font><font color="#CCCCCC"> find</font>

217
00:07:40,069 --> 00:07:44,419
<font color="#E5E5E5">you should read</font><font color="#CCCCCC"> everything I didn't I</font>

218
00:07:43,340 --> 00:07:46,849
didn't want to curate a list and leave

219
00:07:44,419 --> 00:07:49,159
anybody out and in fact<font color="#E5E5E5"> if</font><font color="#CCCCCC"> you just stay</font>

220
00:07:46,849 --> 00:07:50,900
<font color="#CCCCCC">in</font><font color="#E5E5E5"> the</font><font color="#CCCCCC"> room ten minutes after</font><font color="#E5E5E5"> our talk</font>

221
00:07:49,159 --> 00:07:54,250
my<font color="#CCCCCC"> aunt Anne will give</font><font color="#E5E5E5"> another talk on a</font>

222
00:07:50,900 --> 00:07:58,068
different<font color="#E5E5E5"> angle of container security</font>

223
00:07:54,250 --> 00:07:59,150
okay<font color="#CCCCCC"> so what are</font><font color="#E5E5E5"> we gonna show we're</font>

224
00:07:58,069 --> 00:08:00,830
<font color="#E5E5E5">gonna walk through</font><font color="#CCCCCC"> a couple</font><font color="#E5E5E5"> of the</font>

225
00:07:59,150 --> 00:08:02,659
security controls you<font color="#CCCCCC"> can apply to</font>

226
00:08:00,830 --> 00:08:04,130
kubernetes workloads<font color="#CCCCCC"> we'll show you</font><font color="#E5E5E5"> how</font>

227
00:08:02,659 --> 00:08:07,190
you can figure out<font color="#E5E5E5"> the right settings to</font>

228
00:08:04,130 --> 00:08:09,219
<font color="#CCCCCC">apply</font><font color="#E5E5E5"> and then then you know merge that</font>

229
00:08:07,190 --> 00:08:11,300
configuration<font color="#E5E5E5"> and lock down</font><font color="#CCCCCC"> the app</font>

230
00:08:09,219 --> 00:08:13,130
zooming out<font color="#E5E5E5"> a bit if you're a person who</font>

231
00:08:11,300 --> 00:08:14,690
cares about security<font color="#E5E5E5"> and your</font>

232
00:08:13,130 --> 00:08:15,949
organization uses containers we hope

233
00:08:14,690 --> 00:08:18,110
you'll see some<font color="#E5E5E5"> of the power and</font><font color="#CCCCCC"> not</font>

234
00:08:15,949 --> 00:08:19,940
just the new challenges or risks that

235
00:08:18,110 --> 00:08:21,529
they bring even if it seems<font color="#E5E5E5"> like</font>

236
00:08:19,940 --> 00:08:23,479
everybody<font color="#E5E5E5"> else is just</font><font color="#CCCCCC"> concentrating and</font>

237
00:08:21,529 --> 00:08:25,250
<font color="#E5E5E5">getting stuff out the</font><font color="#CCCCCC"> door I get it</font><font color="#E5E5E5"> to</font>

238
00:08:23,479 --> 00:08:27,830
prod they would want<font color="#E5E5E5"> to change up the</font>

239
00:08:25,250 --> 00:08:28,849
stack<font color="#E5E5E5"> because it's fun</font><font color="#CCCCCC"> we</font><font color="#E5E5E5"> think that</font>

240
00:08:27,830 --> 00:08:30,740
there are<font color="#CCCCCC"> ways you</font><font color="#E5E5E5"> can</font><font color="#CCCCCC"> use containers</font>

241
00:08:28,849 --> 00:08:32,539
<font color="#E5E5E5">you can use this change to the benefit</font>

242
00:08:30,740 --> 00:08:34,310
of the security posture as well<font color="#E5E5E5"> and</font>

243
00:08:32,539 --> 00:08:37,010
perhaps you can<font color="#CCCCCC"> bring techniques like</font>

244
00:08:34,309 --> 00:08:38,270
the ones the the<font color="#E5E5E5"> counter will show back</font>

245
00:08:37,010 --> 00:08:40,010
<font color="#CCCCCC">to your dev and ops teammates and maybe</font>

246
00:08:38,270 --> 00:08:42,860
lead a<font color="#E5E5E5"> conversation around how to bake</font>

247
00:08:40,010 --> 00:08:46,520
security and earlier in the<font color="#CCCCCC"> lifecycle</font>

248
00:08:42,860 --> 00:08:48,740
now could<font color="#CCCCCC"> be a</font><font color="#E5E5E5"> security in general it's</font>

249
00:08:46,520 --> 00:08:51,590
a<font color="#E5E5E5"> complicated topic but we'll spend a</font>

250
00:08:48,740 --> 00:08:53,180
few<font color="#CCCCCC"> minutes here so containers</font><font color="#E5E5E5"> often</font>

251
00:08:51,590 --> 00:08:54,500
bring greater scale with them but<font color="#E5E5E5"> across</font>

252
00:08:53,180 --> 00:08:56,870
<font color="#CCCCCC">to a number of dimensions you might not</font>

253
00:08:54,500 --> 00:08:58,460
<font color="#CCCCCC">think of so the way apps are</font><font color="#E5E5E5"> built is</font>

254
00:08:56,870 --> 00:09:00,910
changing<font color="#E5E5E5"> and many apps are getting</font>

255
00:08:58,460 --> 00:09:03,320
bigger<font color="#E5E5E5"> much bigger and much more</font><font color="#CCCCCC"> complex</font>

256
00:09:00,910 --> 00:09:06,050
before<font color="#CCCCCC"> you might have had one monolith</font>

257
00:09:03,320 --> 00:09:06,500
running and you<font color="#E5E5E5"> know some some</font><font color="#CCCCCC"> ami</font><font color="#E5E5E5"> or</font>

258
00:09:06,050 --> 00:09:08,709
something

259
00:09:06,500 --> 00:09:11,750
with relatively isolated<font color="#CCCCCC"> network</font><font color="#E5E5E5"> maybe</font>

260
00:09:08,710 --> 00:09:13,130
and now maybe<font color="#E5E5E5"> your your your developers</font>

261
00:09:11,750 --> 00:09:15,140
<font color="#CCCCCC">and operations folks</font><font color="#E5E5E5"> are trying to</font>

262
00:09:13,130 --> 00:09:16,880
<font color="#E5E5E5">leverage cloud services or break up</font>

263
00:09:15,140 --> 00:09:19,370
pieces into micro services so that<font color="#E5E5E5"> they</font>

264
00:09:16,880 --> 00:09:21,950
<font color="#E5E5E5">can replicate</font><font color="#CCCCCC"> scale up in parts</font>

265
00:09:19,370 --> 00:09:23,300
independently that sort of<font color="#E5E5E5"> thing you</font>

266
00:09:21,950 --> 00:09:24,710
might<font color="#CCCCCC"> have a lot more moving</font><font color="#E5E5E5"> pieces</font><font color="#CCCCCC"> and</font>

267
00:09:23,300 --> 00:09:26,300
<font color="#CCCCCC">that means there are</font><font color="#E5E5E5"> more things to</font>

268
00:09:24,710 --> 00:09:28,550
understand<font color="#CCCCCC"> before</font><font color="#E5E5E5"> you can really</font><font color="#CCCCCC"> crock</font>

269
00:09:26,300 --> 00:09:30,560
what's going on in the app<font color="#E5E5E5"> but the scale</font>

270
00:09:28,550 --> 00:09:32,569
comes in the human realm<font color="#CCCCCC"> too they're</font>

271
00:09:30,560 --> 00:09:34,670
more cooks in the kitchen<font color="#CCCCCC"> no you have</font>

272
00:09:32,570 --> 00:09:36,610
dev<font color="#E5E5E5"> second ops maybe they're the same</font>

273
00:09:34,670 --> 00:09:38,810
<font color="#CCCCCC">people</font><font color="#E5E5E5"> but I haven't found too many and</font>

274
00:09:36,610 --> 00:09:40,610
they're trying or they're not<font color="#CCCCCC"> trying</font><font color="#E5E5E5"> to</font>

275
00:09:38,810 --> 00:09:41,930
stay<font color="#CCCCCC"> out of each</font><font color="#E5E5E5"> other's way so a</font>

276
00:09:40,610 --> 00:09:43,160
successful security hardening and

277
00:09:41,930 --> 00:09:45,680
defection<font color="#CCCCCC"> effort really has to involve</font>

278
00:09:43,160 --> 00:09:47,930
<font color="#E5E5E5">all those folks</font><font color="#CCCCCC"> and on top of that</font><font color="#E5E5E5"> the</font>

279
00:09:45,680 --> 00:09:49,069
landscape<font color="#E5E5E5"> has also</font><font color="#CCCCCC"> shifted we think in a</font>

280
00:09:47,930 --> 00:09:50,719
way that can leave security as an

281
00:09:49,070 --> 00:09:52,670
afterthought so<font color="#CCCCCC"> if dev and ops</font><font color="#E5E5E5"> are on</font>

282
00:09:50,720 --> 00:09:54,530
the cluster<font color="#CCCCCC"> and security</font><font color="#E5E5E5"> to outside that</font>

283
00:09:52,670 --> 00:09:56,810
team<font color="#E5E5E5"> they don't</font><font color="#CCCCCC"> really</font><font color="#E5E5E5"> have any natural</font>

284
00:09:54,530 --> 00:09:57,189
hooks into<font color="#E5E5E5"> the process but it's not all</font>

285
00:09:56,810 --> 00:09:59,300
<font color="#E5E5E5">bad news</font>

286
00:09:57,190 --> 00:10:00,740
containers<font color="#E5E5E5"> and kubernetes and</font><font color="#CCCCCC"> especially</font>

287
00:09:59,300 --> 00:10:02,150
the standard interfaces<font color="#E5E5E5"> that I talked</font>

288
00:10:00,740 --> 00:10:04,220
about before<font color="#E5E5E5"> they could</font><font color="#CCCCCC"> really help you</font>

289
00:10:02,150 --> 00:10:05,510
do security<font color="#E5E5E5"> better they don't</font>

290
00:10:04,220 --> 00:10:08,270
necessarily allow you to do<font color="#CCCCCC"> anything</font>

291
00:10:05,510 --> 00:10:09,290
that<font color="#E5E5E5"> wasn't possible before you could do</font>

292
00:10:08,270 --> 00:10:12,829
many<font color="#E5E5E5"> of the same things in a different</font>

293
00:10:09,290 --> 00:10:14,030
<font color="#CCCCCC">stack and lots of</font><font color="#E5E5E5"> people tried but the</font>

294
00:10:12,830 --> 00:10:16,490
we do think they make<font color="#E5E5E5"> things more</font>

295
00:10:14,030 --> 00:10:17,540
<font color="#E5E5E5">feasible you would have had a lot harder</font>

296
00:10:16,490 --> 00:10:19,700
time<font color="#E5E5E5"> getting the same</font><font color="#CCCCCC"> level of</font>

297
00:10:17,540 --> 00:10:21,349
visibility<font color="#CCCCCC"> and more importantly a harder</font>

298
00:10:19,700 --> 00:10:23,330
time iterating on and testing<font color="#E5E5E5"> those</font>

299
00:10:21,350 --> 00:10:25,010
config changes<font color="#E5E5E5"> without a stack</font><font color="#CCCCCC"> that say</font>

300
00:10:23,330 --> 00:10:27,410
enforces the declarative configurations

301
00:10:25,010 --> 00:10:29,210
<font color="#CCCCCC">that we saw on the screen before it</font>

302
00:10:27,410 --> 00:10:31,579
enables the cost of those changes<font color="#CCCCCC"> to</font>

303
00:10:29,210 --> 00:10:34,040
happen<font color="#CCCCCC"> be tested without rebuilding a</font>

304
00:10:31,580 --> 00:10:35,960
full you know<font color="#E5E5E5"> costly the end image or</font>

305
00:10:34,040 --> 00:10:38,000
something<font color="#CCCCCC"> like that and as in a lot of</font>

306
00:10:35,960 --> 00:10:39,950
<font color="#E5E5E5">realms security free</font><font color="#CCCCCC"> Tanners is sort of</font>

307
00:10:38,000 --> 00:10:41,660
a config problem there may be places

308
00:10:39,950 --> 00:10:44,300
<font color="#CCCCCC">where we need a new tack or</font><font color="#E5E5E5"> new features</font>

309
00:10:41,660 --> 00:10:46,100
but<font color="#E5E5E5"> there already a ton of ways to</font>

310
00:10:44,300 --> 00:10:47,689
configure<font color="#CCCCCC"> grub rails</font><font color="#E5E5E5"> limit security</font>

311
00:10:46,100 --> 00:10:49,340
barriers and often the problem is<font color="#E5E5E5"> really</font>

312
00:10:47,690 --> 00:10:52,340
operationalizing<font color="#CCCCCC"> the controls</font><font color="#E5E5E5"> we already</font>

313
00:10:49,340 --> 00:10:54,170
have if that<font color="#E5E5E5"> sounds wrong</font><font color="#CCCCCC"> just a</font>

314
00:10:52,340 --> 00:10:56,060
reminder that<font color="#CCCCCC"> anytime somebody makes a</font>

315
00:10:54,170 --> 00:10:56,490
secure system<font color="#CCCCCC"> somebody else do means the</font>

316
00:10:56,060 --> 00:10:59,310
door

317
00:10:56,490 --> 00:11:02,459
so this is a satellite<font color="#E5E5E5"> news truck</font>

318
00:10:59,310 --> 00:11:04,649
<font color="#CCCCCC">brand-new Tech in 1984</font><font color="#E5E5E5"> literally next</font><font color="#CCCCCC"> in</font>

319
00:11:02,459 --> 00:11:06,329
<font color="#E5E5E5">84</font><font color="#CCCCCC"> not like them</font><font color="#E5E5E5"> not</font><font color="#CCCCCC"> that would</font><font color="#E5E5E5"> be</font><font color="#CCCCCC"> it's</font>

320
00:11:04,649 --> 00:11:07,680
at<font color="#E5E5E5"> the Newseum the DC it's a great</font>

321
00:11:06,330 --> 00:11:09,570
<font color="#CCCCCC">museum that's closing</font><font color="#E5E5E5"> so you should go</font>

322
00:11:07,680 --> 00:11:11,459
before it closes<font color="#E5E5E5"> and if you look at the</font>

323
00:11:09,570 --> 00:11:14,250
display case there's sort of<font color="#E5E5E5"> this little</font>

324
00:11:11,459 --> 00:11:17,130
like<font color="#E5E5E5"> uplink thing an antenna warning</font>

325
00:11:14,250 --> 00:11:18,180
radiation don't stand<font color="#E5E5E5"> in front of</font><font color="#CCCCCC"> me and</font>

326
00:11:17,130 --> 00:11:20,399
if you look<font color="#E5E5E5"> around the side</font><font color="#CCCCCC"> of</font><font color="#E5E5E5"> the</font>

327
00:11:18,180 --> 00:11:21,899
<font color="#E5E5E5">display case you can see</font><font color="#CCCCCC"> oh great</font>

328
00:11:20,399 --> 00:11:22,950
like there's some sort<font color="#E5E5E5"> of pin lock or</font>

329
00:11:21,899 --> 00:11:25,200
whatever wouldn't want anybody<font color="#E5E5E5"> getting</font>

330
00:11:22,950 --> 00:11:27,510
on TV<font color="#CCCCCC"> without being supposed to but if</font>

331
00:11:25,200 --> 00:11:30,720
you look a little closer<font color="#E5E5E5"> okay pin code 1</font>

332
00:11:27,510 --> 00:11:32,490
2 3 4 and<font color="#CCCCCC"> so somebody's JIRA</font><font color="#E5E5E5"> for secure</font>

333
00:11:30,720 --> 00:11:34,740
password distribution didn't make it

334
00:11:32,490 --> 00:11:37,170
into<font color="#E5E5E5"> the sprint we can all end the ties</font>

335
00:11:34,740 --> 00:11:40,220
and<font color="#CCCCCC"> I can to go as an engineer 2 or 4</font>

336
00:11:37,170 --> 00:11:45,270
months ago<font color="#CCCCCC"> now I just make</font><font color="#E5E5E5"> in mad</font>

337
00:11:40,220 --> 00:11:47,399
so another promising aspect of this you

338
00:11:45,270 --> 00:11:50,520
know stack is that security relevant

339
00:11:47,399 --> 00:11:51,690
configs live right alongside the app so

340
00:11:50,520 --> 00:11:54,390
if you're developing<font color="#E5E5E5"> a new lockdown</font>

341
00:11:51,690 --> 00:11:56,100
profile you can test it<font color="#E5E5E5"> in the same tool</font>

342
00:11:54,390 --> 00:11:59,819
and process<font color="#CCCCCC"> it's used to test</font><font color="#E5E5E5"> new</font>

343
00:11:56,100 --> 00:12:01,230
<font color="#CCCCCC">patches or new bug fixes or features you</font>

344
00:11:59,820 --> 00:12:02,790
can<font color="#E5E5E5"> even iterate on that on your laptop</font>

345
00:12:01,230 --> 00:12:04,200
if you're using something like mini<font color="#CCCCCC"> Kubb</font>

346
00:12:02,790 --> 00:12:05,910
or<font color="#CCCCCC"> dr. for Mac they make it really easy</font>

347
00:12:04,200 --> 00:12:06,600
<font color="#E5E5E5">to just run a kubernetes cluster on your</font>

348
00:12:05,910 --> 00:12:08,399
laptop

349
00:12:06,600 --> 00:12:11,459
I think<font color="#CCCCCC"> Conor probably has one on this</font>

350
00:12:08,399 --> 00:12:14,790
<font color="#E5E5E5">laptop right now even</font><font color="#CCCCCC"> though we've got a</font>

351
00:12:11,459 --> 00:12:16,829
presentation<font color="#E5E5E5"> and stuff and if you</font><font color="#CCCCCC"> change</font>

352
00:12:14,790 --> 00:12:18,360
the app later for dev changes the app

353
00:12:16,829 --> 00:12:20,640
and<font color="#E5E5E5"> it needs a new privilege</font><font color="#CCCCCC"> just on</font>

354
00:12:18,360 --> 00:12:22,230
your<font color="#CCCCCC"> lockdown config</font><font color="#E5E5E5"> then they can</font>

355
00:12:20,640 --> 00:12:23,819
<font color="#E5E5E5">change the config right there but that's</font>

356
00:12:22,230 --> 00:12:25,470
<font color="#CCCCCC">visible and it's committed in the same</font>

357
00:12:23,820 --> 00:12:27,870
PR and you can see the same change going

358
00:12:25,470 --> 00:12:29,279
<font color="#E5E5E5">on and then you</font><font color="#CCCCCC"> know test the change</font>

359
00:12:27,870 --> 00:12:31,950
throughout the the<font color="#E5E5E5"> normal you know</font>

360
00:12:29,279 --> 00:12:33,360
deployment cycle if you're using<font color="#E5E5E5"> micro</font>

361
00:12:31,950 --> 00:12:35,310
<font color="#E5E5E5">services design patterns or building out</font>

362
00:12:33,360 --> 00:12:37,920
<font color="#E5E5E5">some other units of services in your app</font>

363
00:12:35,310 --> 00:12:39,899
<font color="#E5E5E5">each atomic unit</font><font color="#CCCCCC"> of the app</font><font color="#E5E5E5"> also is</font>

364
00:12:37,920 --> 00:12:41,550
getting<font color="#E5E5E5"> smaller and</font><font color="#CCCCCC"> that means</font><font color="#E5E5E5"> that you</font>

365
00:12:39,899 --> 00:12:43,470
can<font color="#E5E5E5"> walk it down further</font><font color="#CCCCCC"> understand it</font>

366
00:12:41,550 --> 00:12:45,300
better<font color="#E5E5E5"> it also means that those services</font>

367
00:12:43,470 --> 00:12:46,770
<font color="#E5E5E5">are usually</font><font color="#CCCCCC"> talking on the network</font><font color="#E5E5E5"> which</font>

368
00:12:45,300 --> 00:12:48,630
means<font color="#CCCCCC"> that regardless of how the app</font>

369
00:12:46,770 --> 00:12:51,569
works inside<font color="#CCCCCC"> overall</font><font color="#E5E5E5"> this if you're</font>

370
00:12:48,630 --> 00:12:53,130
<font color="#E5E5E5">mixing different stacks you</font><font color="#CCCCCC"> can use the</font>

371
00:12:51,570 --> 00:12:56,490
network<font color="#E5E5E5"> as a sort of equalizing factor</font>

372
00:12:53,130 --> 00:12:58,709
to see what's going<font color="#CCCCCC"> on between</font><font color="#E5E5E5"> them it</font>

373
00:12:56,490 --> 00:13:01,320
could<font color="#CCCCCC"> be a lot easier</font><font color="#E5E5E5"> to spot problems</font>

374
00:12:58,709 --> 00:13:02,790
and<font color="#E5E5E5"> deviations</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> if you're running apps</font>

375
00:13:01,320 --> 00:13:04,380
that have it like a single<font color="#E5E5E5"> process or</font>

376
00:13:02,790 --> 00:13:06,209
<font color="#CCCCCC">just a couple processes that start up as</font>

377
00:13:04,380 --> 00:13:08,520
soon<font color="#E5E5E5"> as the app starts up versus</font><font color="#CCCCCC"> the</font>

378
00:13:06,209 --> 00:13:10,589
sort of<font color="#E5E5E5"> you know running a VM that's got</font>

379
00:13:08,520 --> 00:13:12,030
some you know crontab going

380
00:13:10,590 --> 00:13:14,970
and running all sorts<font color="#E5E5E5"> of things every so</font>

381
00:13:12,030 --> 00:13:17,760
often<font color="#CCCCCC"> much easier to understand what the</font>

382
00:13:14,970 --> 00:13:19,830
default baseline ought to be and so

383
00:13:17,760 --> 00:13:21,630
really<font color="#E5E5E5"> as people from ops and security</font>

384
00:13:19,830 --> 00:13:23,280
communities really<font color="#CCCCCC"> we're excited to</font><font color="#E5E5E5"> see</font>

385
00:13:21,630 --> 00:13:25,140
<font color="#CCCCCC">their broader use of kubernetes and we</font>

386
00:13:23,280 --> 00:13:27,140
do think<font color="#CCCCCC"> that the design patterns it</font>

387
00:13:25,140 --> 00:13:30,240
comes with and<font color="#E5E5E5"> the power</font><font color="#CCCCCC"> that</font><font color="#E5E5E5"> it brings</font>

388
00:13:27,140 --> 00:13:31,860
<font color="#CCCCCC">leaves a lot</font><font color="#E5E5E5"> of untapped value for</font>

389
00:13:30,240 --> 00:13:33,750
security<font color="#E5E5E5"> other people can tap those</font>

390
00:13:31,860 --> 00:13:35,850
configs<font color="#E5E5E5"> you move off the defaults and</font>

391
00:13:33,750 --> 00:13:41,970
start<font color="#E5E5E5"> locking down the</font><font color="#CCCCCC"> application in a</font>

392
00:13:35,850 --> 00:13:43,560
way that we haven't<font color="#E5E5E5"> seen before so we're</font>

393
00:13:41,970 --> 00:13:45,090
gonna talk about<font color="#E5E5E5"> three</font><font color="#CCCCCC"> different</font><font color="#E5E5E5"> types</font>

394
00:13:43,560 --> 00:13:48,500
of controls that<font color="#E5E5E5"> you can use to lock</font>

395
00:13:45,090 --> 00:13:50,970
<font color="#E5E5E5">down your containers during deployment</font>

396
00:13:48,500 --> 00:13:53,220
as I mentioned you can can test these

397
00:13:50,970 --> 00:13:54,960
changes<font color="#CCCCCC"> so you've got a you know very</font>

398
00:13:53,220 --> 00:13:58,140
simple<font color="#E5E5E5"> deployment on this side of the</font>

399
00:13:54,960 --> 00:14:01,020
room<font color="#CCCCCC"> just get my app running</font><font color="#E5E5E5"> and on the</font>

400
00:13:58,140 --> 00:14:02,520
other<font color="#E5E5E5"> side we</font><font color="#CCCCCC"> can see the three things</font>

401
00:14:01,020 --> 00:14:04,670
<font color="#E5E5E5">that we're going to talk</font><font color="#CCCCCC"> about so you</font>

402
00:14:02,520 --> 00:14:06,870
<font color="#E5E5E5">can opt into a read-only root</font><font color="#CCCCCC"> filesystem</font>

403
00:14:04,670 --> 00:14:08,819
<font color="#E5E5E5">hopefully spelled out instead of encode</font>

404
00:14:06,870 --> 00:14:11,700
or whatever<font color="#CCCCCC"> you can see we're dropping</font>

405
00:14:08,820 --> 00:14:13,380
capabilities from<font color="#E5E5E5"> Linux and also</font>

406
00:14:11,700 --> 00:14:17,520
applying a network policy that allows

407
00:14:13,380 --> 00:14:19,980
some traffic<font color="#E5E5E5"> to</font><font color="#CCCCCC"> this application so</font>

408
00:14:17,520 --> 00:14:21,840
let's<font color="#CCCCCC"> see it for each</font><font color="#E5E5E5"> of these we're</font>

409
00:14:19,980 --> 00:14:23,910
gonna gather some runtime<font color="#E5E5E5"> data and then</font>

410
00:14:21,840 --> 00:14:26,640
use it<font color="#CCCCCC"> to</font><font color="#E5E5E5"> guide us in applying the</font>

411
00:14:23,910 --> 00:14:28,170
security optimizations<font color="#CCCCCC"> without that kind</font>

412
00:14:26,640 --> 00:14:29,580
<font color="#CCCCCC">of</font><font color="#E5E5E5"> upfront collection it can be a little</font>

413
00:14:28,170 --> 00:14:31,920
hard<font color="#E5E5E5"> a little bit of a frustrating</font>

414
00:14:29,580 --> 00:14:33,810
<font color="#E5E5E5">guessing check thing it's sort</font><font color="#CCCCCC"> of just</font>

415
00:14:31,920 --> 00:14:35,459
<font color="#E5E5E5">the config and</font><font color="#CCCCCC"> then run it through CIC</font>

416
00:14:33,810 --> 00:14:36,569
if it breaks<font color="#E5E5E5"> figure out why some</font>

417
00:14:35,460 --> 00:14:38,580
end-to-end test is<font color="#E5E5E5"> failing and it's</font>

418
00:14:36,570 --> 00:14:40,830
because you like<font color="#E5E5E5"> disabled one little</font>

419
00:14:38,580 --> 00:14:43,320
writable path<font color="#E5E5E5"> the app expected was going</font>

420
00:14:40,830 --> 00:14:44,880
to be there and that<font color="#CCCCCC"> said you might</font><font color="#E5E5E5"> be</font>

421
00:14:43,320 --> 00:14:46,020
surprised what<font color="#E5E5E5"> behaviors that's not</font>

422
00:14:44,880 --> 00:14:48,090
getting<font color="#E5E5E5"> even if you thought you know</font>

423
00:14:46,020 --> 00:14:50,340
<font color="#E5E5E5">what your app did sometimes</font><font color="#CCCCCC"> libraries</font>

424
00:14:48,090 --> 00:14:51,990
will use like<font color="#E5E5E5"> temp and put a lock file</font>

425
00:14:50,340 --> 00:14:55,500
there or something and and you wouldn't

426
00:14:51,990 --> 00:14:58,440
have<font color="#E5E5E5"> realized it okay so I'm</font><font color="#CCCCCC"> gonna hand</font>

427
00:14:55,500 --> 00:15:01,920
<font color="#CCCCCC">it over to other</font><font color="#E5E5E5"> Connor</font><font color="#CCCCCC"> to talk through</font>

428
00:14:58,440 --> 00:15:06,870
these<font color="#E5E5E5"> capabilities and how his demo goes</font>

429
00:15:01,920 --> 00:15:09,479
<font color="#E5E5E5">sure cool so thanks Connor yeah so</font>

430
00:15:06,870 --> 00:15:11,640
<font color="#E5E5E5">basically what I put together is a</font>

431
00:15:09,480 --> 00:15:14,250
listener that<font color="#E5E5E5"> runs on every host it's a</font>

432
00:15:11,640 --> 00:15:15,420
kubernetes daemon set<font color="#E5E5E5"> it runs with</font>

433
00:15:14,250 --> 00:15:18,330
privilege because<font color="#E5E5E5"> I need</font><font color="#CCCCCC"> to collect some</font>

434
00:15:15,420 --> 00:15:21,420
<font color="#CCCCCC">really low-level kernel</font><font color="#E5E5E5"> data and then it</font>

435
00:15:18,330 --> 00:15:22,830
<font color="#CCCCCC">basically pipes it to a server which is</font>

436
00:15:21,420 --> 00:15:24,150
we'll call it an analyzer for<font color="#E5E5E5"> this sake</font>

437
00:15:22,830 --> 00:15:25,320
<font color="#E5E5E5">but it's</font>

438
00:15:24,150 --> 00:15:28,439
really straightforward way of<font color="#E5E5E5"> just</font><font color="#CCCCCC"> kind</font>

439
00:15:25,320 --> 00:15:29,700
of querying the data<font color="#CCCCCC"> and so as Gilbert</font>

440
00:15:28,440 --> 00:15:31,440
<font color="#CCCCCC">mentioned</font><font color="#E5E5E5"> before we're gonna talk about</font>

441
00:15:29,700 --> 00:15:34,020
read-only file system<font color="#CCCCCC"> the next</font>

442
00:15:31,440 --> 00:15:34,710
capabilities and network policies in the

443
00:15:34,020 --> 00:15:37,470
<font color="#E5E5E5">con</font>

444
00:15:34,710 --> 00:15:40,950
construct of single Apache struts attack

445
00:15:37,470 --> 00:15:46,050
<font color="#E5E5E5">so if I slide over</font><font color="#CCCCCC"> and now is the fun</font>

446
00:15:40,950 --> 00:15:54,540
part where I<font color="#CCCCCC"> just hope my demo works so</font>

447
00:15:46,050 --> 00:15:55,740
let's<font color="#E5E5E5"> see by paying the API</font><font color="#CCCCCC"> great so the</font>

448
00:15:54,540 --> 00:16:00,329
first thing<font color="#CCCCCC"> that we'll do is we'll go</font>

449
00:15:55,740 --> 00:16:03,720
<font color="#CCCCCC">ahead and run struts</font><font color="#E5E5E5"> all right so I have</font>

450
00:16:00,330 --> 00:16:07,260
a<font color="#E5E5E5"> GK cluster five nodes</font><font color="#CCCCCC"> these things pop</font>

451
00:16:03,720 --> 00:16:08,370
it up great<font color="#E5E5E5"> so running struts and this</font>

452
00:16:07,260 --> 00:16:17,220
is the part where I'm really<font color="#E5E5E5"> crossing my</font>

453
00:16:08,370 --> 00:16:19,740
<font color="#CCCCCC">fingers</font><font color="#E5E5E5"> maybe maybe not let me kill this</font>

454
00:16:17,220 --> 00:16:22,650
pod<font color="#CCCCCC"> I know I have a timing constraint my</font>

455
00:16:19,740 --> 00:16:28,920
code<font color="#E5E5E5"> somewhere and I have no selector so</font>

456
00:16:22,650 --> 00:16:31,829
I can't select<font color="#CCCCCC"> anything anyways I'll</font>

457
00:16:28,920 --> 00:16:33,900
slide back<font color="#CCCCCC"> to</font><font color="#E5E5E5"> the slide real</font><font color="#CCCCCC"> quick this</font>

458
00:16:31,830 --> 00:16:35,730
<font color="#E5E5E5">is what you should see so what I've done</font>

459
00:16:33,900 --> 00:16:37,860
basically<font color="#CCCCCC"> is</font><font color="#E5E5E5"> we're listening</font><font color="#CCCCCC"> to the</font>

460
00:16:35,730 --> 00:16:38,940
<font color="#CCCCCC">filesystem</font><font color="#E5E5E5"> of</font><font color="#CCCCCC"> the container and we're</font>

461
00:16:37,860 --> 00:16:41,760
<font color="#E5E5E5">listening</font><font color="#CCCCCC"> to all the paths that are</font>

462
00:16:38,940 --> 00:16:42,960
<font color="#E5E5E5">being written to or created and what it</font>

463
00:16:41,760 --> 00:16:45,450
does is it pipes off to<font color="#CCCCCC"> the central</font>

464
00:16:42,960 --> 00:16:47,820
server<font color="#CCCCCC"> and I can figure something</font><font color="#E5E5E5"> called</font>

465
00:16:45,450 --> 00:16:50,550
a potential filesystem<font color="#CCCCCC"> root right so</font>

466
00:16:47,820 --> 00:16:53,040
this container<font color="#E5E5E5"> currently is not running</font>

467
00:16:50,550 --> 00:16:55,199
read-only<font color="#E5E5E5"> but you can see that</font><font color="#CCCCCC"> basically</font>

468
00:16:53,040 --> 00:16:57,930
the<font color="#E5E5E5"> only path that's being written to is</font>

469
00:16:55,200 --> 00:16:59,430
user local<font color="#CCCCCC"> tomcat</font><font color="#E5E5E5"> right so all apache</font>

470
00:16:57,930 --> 00:17:01,229
<font color="#E5E5E5">tomcat servers right initial</font>

471
00:16:59,430 --> 00:17:02,969
configuration<font color="#CCCCCC"> data</font><font color="#E5E5E5"> there and actually</font><font color="#CCCCCC"> if</font>

472
00:17:01,230 --> 00:17:04,589
you<font color="#E5E5E5"> make it read-only it completely</font>

473
00:17:02,970 --> 00:17:06,990
fails in your app is<font color="#E5E5E5"> broken right so</font>

474
00:17:04,589 --> 00:17:09,149
<font color="#E5E5E5">instead of just turning this read-only</font>

475
00:17:06,990 --> 00:17:10,859
on what you want to<font color="#E5E5E5"> do is say</font><font color="#CCCCCC"> okay what</font>

476
00:17:09,150 --> 00:17:13,500
path do I know based<font color="#E5E5E5"> on what's actually</font>

477
00:17:10,859 --> 00:17:18,599
<font color="#E5E5E5">running right and infer that from</font><font color="#CCCCCC"> there</font>

478
00:17:13,500 --> 00:17:20,520
so I'll slide back<font color="#CCCCCC"> the</font><font color="#E5E5E5"> demo here so</font>

479
00:17:18,599 --> 00:17:22,560
here's my struts<font color="#E5E5E5"> app let's say I say</font>

480
00:17:20,520 --> 00:17:29,639
<font color="#E5E5E5">okay fine</font><font color="#CCCCCC"> let's not make it read-only</font>

481
00:17:22,560 --> 00:17:32,639
and let me can run<font color="#E5E5E5"> this exploit so this</font>

482
00:17:29,640 --> 00:17:34,650
is using the the very famous<font color="#CCCCCC"> 2017</font><font color="#E5E5E5"> straat</font>

483
00:17:32,640 --> 00:17:37,210
<font color="#CCCCCC">CVE</font><font color="#E5E5E5"> - you know download a</font><font color="#CCCCCC"> crypto</font><font color="#E5E5E5"> mine</font>

484
00:17:34,650 --> 00:17:39,130
here from from github<font color="#CCCCCC"> get it</font><font color="#E5E5E5"> started</font>

485
00:17:37,210 --> 00:17:41,350
using the command injection bug<font color="#E5E5E5"> and you</font>

486
00:17:39,130 --> 00:17:43,060
can see now it's<font color="#E5E5E5"> running the original</font>

487
00:17:41,350 --> 00:17:44,709
Java<font color="#E5E5E5"> process but also the crypto minor</font>

488
00:17:43,060 --> 00:17:46,379
right so at this point someone is

489
00:17:44,710 --> 00:17:48,610
stealing<font color="#E5E5E5"> your electricity and</font><font color="#CCCCCC"> your CPU</font>

490
00:17:46,380 --> 00:17:50,160
<font color="#CCCCCC">this</font><font color="#E5E5E5"> is one of the least malicious ways</font>

491
00:17:48,610 --> 00:17:53,439
that you could probably exploit this bug

492
00:17:50,160 --> 00:17:54,760
<font color="#CCCCCC">but it's an exploit nonetheless right</font><font color="#E5E5E5"> so</font>

493
00:17:53,440 --> 00:17:58,930
what we're<font color="#CCCCCC"> gonna</font><font color="#E5E5E5"> do here is</font><font color="#CCCCCC"> we're gonna</font>

494
00:17:54,760 --> 00:18:01,690
actually replace this with<font color="#CCCCCC"> a read-only</font>

495
00:17:58,930 --> 00:18:03,640
file system<font color="#CCCCCC"> but we've added the volume</font>

496
00:18:01,690 --> 00:18:06,280
line to the docker file<font color="#E5E5E5"> which tells</font>

497
00:18:03,640 --> 00:18:08,200
docker that hey this user local Tomcat

498
00:18:06,280 --> 00:18:09,820
is going to be<font color="#CCCCCC"> read/write</font><font color="#E5E5E5"> and the rest</font>

499
00:18:08,200 --> 00:18:12,310
<font color="#E5E5E5">of the file</font><font color="#CCCCCC"> system will be read-only</font>

500
00:18:09,820 --> 00:18:14,860
so now we've applied this read-only file

501
00:18:12,310 --> 00:18:20,290
system<font color="#E5E5E5"> and we're going to try to exploit</font>

502
00:18:14,860 --> 00:18:21,580
again and this<font color="#E5E5E5"> kind of shows really</font>

503
00:18:20,290 --> 00:18:23,980
nicely and<font color="#E5E5E5"> the purpose of this demo</font>

504
00:18:21,580 --> 00:18:26,949
<font color="#CCCCCC">because I can scroll down a little</font><font color="#E5E5E5"> bit</font>

505
00:18:23,980 --> 00:18:28,570
but<font color="#E5E5E5"> tar actually says oh hey by the way</font>

506
00:18:26,950 --> 00:18:30,670
<font color="#E5E5E5">this is the read-only file system right</font>

507
00:18:28,570 --> 00:18:32,320
<font color="#E5E5E5">so this is</font><font color="#CCCCCC"> just one layer of attack</font><font color="#E5E5E5"> that</font>

508
00:18:30,670 --> 00:18:33,940
you know that<font color="#E5E5E5"> we've kind of mitigated</font>

509
00:18:32,320 --> 00:18:36,850
simply because we had a read-only file

510
00:18:33,940 --> 00:18:39,040
system<font color="#E5E5E5"> a lot of attackers will use the</font>

511
00:18:36,850 --> 00:18:40,990
normal<font color="#E5E5E5"> writable paths</font><font color="#CCCCCC"> as a place to drop</font>

512
00:18:39,040 --> 00:18:43,120
files right so slash temp is probably

513
00:18:40,990 --> 00:18:45,180
the most<font color="#E5E5E5"> famous example</font><font color="#CCCCCC"> a lot of</font>

514
00:18:43,120 --> 00:18:47,770
<font color="#CCCCCC">Metasploit modules use slash temp</font>

515
00:18:45,180 --> 00:18:49,570
<font color="#E5E5E5">because everyone else expects it to be</font>

516
00:18:47,770 --> 00:18:51,760
writable as well but<font color="#E5E5E5"> in this case if</font>

517
00:18:49,570 --> 00:18:55,090
it's you know read-only<font color="#E5E5E5"> then not even</font>

518
00:18:51,760 --> 00:18:55,930
mitigated<font color="#CCCCCC"> a payload drop for example the</font>

519
00:18:55,090 --> 00:18:58,419
next thing I'm<font color="#E5E5E5"> going to talk</font><font color="#CCCCCC"> about</font>

520
00:18:55,930 --> 00:19:03,760
pretty briefly<font color="#E5E5E5"> our Linux capabilities</font>

521
00:18:58,420 --> 00:19:06,450
right<font color="#E5E5E5"> and so if I go back</font><font color="#CCCCCC"> here</font><font color="#E5E5E5"> right I</font>

522
00:19:03,760 --> 00:19:09,190
can see that<font color="#E5E5E5"> what I've done is I've</font><font color="#CCCCCC"> used</font>

523
00:19:06,450 --> 00:19:10,810
BPF probe written by Brendan Gregg who's

524
00:19:09,190 --> 00:19:14,650
actually talked<font color="#E5E5E5"> about at besides</font><font color="#CCCCCC"> two</font>

525
00:19:10,810 --> 00:19:16,179
years ago<font color="#E5E5E5"> and what it does is</font><font color="#CCCCCC"> for</font><font color="#E5E5E5"> the</font>

526
00:19:14,650 --> 00:19:19,030
Linux capabilities that are being used

527
00:19:16,180 --> 00:19:20,620
<font color="#E5E5E5">and Linux capabilities are specific code</font>

528
00:19:19,030 --> 00:19:22,899
<font color="#E5E5E5">pass in the kernel that</font><font color="#CCCCCC"> required</font>

529
00:19:20,620 --> 00:19:24,790
<font color="#E5E5E5">privilege</font><font color="#CCCCCC"> and most</font><font color="#E5E5E5"> people have never</font>

530
00:19:22,900 --> 00:19:27,070
<font color="#CCCCCC">heard of</font><font color="#E5E5E5"> them and fewer people have</font><font color="#CCCCCC"> used</font>

531
00:19:24,790 --> 00:19:29,050
them<font color="#E5E5E5"> and so I think it's a really</font>

532
00:19:27,070 --> 00:19:30,100
powerful<font color="#E5E5E5"> tool of like really scoping</font>

533
00:19:29,050 --> 00:19:32,169
down the attack service<font color="#E5E5E5"> of your</font>

534
00:19:30,100 --> 00:19:33,969
container<font color="#CCCCCC"> so as you</font><font color="#E5E5E5"> can</font><font color="#CCCCCC"> see this</font><font color="#E5E5E5"> struts</font>

535
00:19:32,170 --> 00:19:35,950
<font color="#E5E5E5">app didn't actually use any capabilities</font>

536
00:19:33,970 --> 00:19:37,930
but tar actually did a bunch<font color="#E5E5E5"> of file</font>

537
00:19:35,950 --> 00:19:41,080
modifications and exercises those<font color="#CCCCCC"> links</font>

538
00:19:37,930 --> 00:19:44,800
capabilities and so what I'll do<font color="#CCCCCC"> here is</font>

539
00:19:41,080 --> 00:19:46,270
I<font color="#CCCCCC"> will draw I will modify the struts app</font>

540
00:19:44,800 --> 00:19:48,790
again this time I'll make<font color="#E5E5E5"> the</font><font color="#CCCCCC"> filesystem</font>

541
00:19:46,270 --> 00:19:50,320
<font color="#CCCCCC">read/write</font><font color="#E5E5E5"> but I will drop the Linux</font>

542
00:19:48,790 --> 00:19:51,070
capabilities<font color="#E5E5E5"> and then we can see how</font>

543
00:19:50,320 --> 00:19:52,240
<font color="#CCCCCC">that</font><font color="#E5E5E5"> kind of man</font>

544
00:19:51,070 --> 00:20:01,000
that's when I try<font color="#E5E5E5"> to run the same</font>

545
00:19:52,240 --> 00:20:04,300
exploit so I'll rerun this exploit this

546
00:20:01,000 --> 00:20:06,700
time we<font color="#E5E5E5"> should be able to</font><font color="#CCCCCC"> download the</font>

547
00:20:04,300 --> 00:20:08,110
files<font color="#E5E5E5"> and I'll scroll</font><font color="#CCCCCC"> up again but</font>

548
00:20:06,700 --> 00:20:09,760
<font color="#CCCCCC">actually what actually ended up failing</font>

549
00:20:08,110 --> 00:20:14,919
in this<font color="#E5E5E5"> case is setting the ownership</font>

550
00:20:09,760 --> 00:20:16,629
<font color="#E5E5E5">right so we've basically stopped the CH</font>

551
00:20:14,920 --> 00:20:17,590
own command from even running but Tomcat

552
00:20:16,630 --> 00:20:19,480
doesn't need<font color="#CCCCCC"> that in the first</font><font color="#E5E5E5"> place</font>

553
00:20:17,590 --> 00:20:21,639
right<font color="#CCCCCC"> so this is like layer 2</font><font color="#E5E5E5"> of</font>

554
00:20:19,480 --> 00:20:23,860
basically<font color="#CCCCCC"> dropping the capabilities of</font>

555
00:20:21,640 --> 00:20:26,050
<font color="#CCCCCC">your container</font><font color="#E5E5E5"> so if someone was</font><font color="#CCCCCC"> able to</font>

556
00:20:23,860 --> 00:20:27,610
run<font color="#E5E5E5"> a script they would need you know</font>

557
00:20:26,050 --> 00:20:28,960
specific capabilities potentially to try

558
00:20:27,610 --> 00:20:31,840
to exploit<font color="#E5E5E5"> your system now you've</font>

559
00:20:28,960 --> 00:20:33,130
dropped those capabilities<font color="#CCCCCC"> and kind of</font>

560
00:20:31,840 --> 00:20:34,600
mitigated that portion<font color="#CCCCCC"> of</font><font color="#E5E5E5"> the attack</font>

561
00:20:33,130 --> 00:20:37,360
<font color="#CCCCCC">right</font><font color="#E5E5E5"> so two layers is always better</font>

562
00:20:34,600 --> 00:20:40,240
than<font color="#E5E5E5"> no layers right</font><font color="#CCCCCC"> and so the final</font>

563
00:20:37,360 --> 00:20:40,840
<font color="#E5E5E5">piece is how do I stop the W get in the</font>

564
00:20:40,240 --> 00:20:42,340
first place

565
00:20:40,840 --> 00:20:44,110
right like how do I make sure<font color="#CCCCCC"> that this</font>

566
00:20:42,340 --> 00:20:46,389
struts<font color="#E5E5E5"> app is never supposed to connect</font>

567
00:20:44,110 --> 00:20:48,129
to the<font color="#CCCCCC"> outside world</font><font color="#E5E5E5"> instead things are</font>

568
00:20:46,390 --> 00:20:51,820
supposed<font color="#CCCCCC"> to</font><font color="#E5E5E5"> talk</font><font color="#CCCCCC"> to it</font><font color="#E5E5E5"> right and so</font>

569
00:20:48,130 --> 00:20:53,470
looking at the API<font color="#CCCCCC"> I piping the</font><font color="#E5E5E5"> TCP</font>

570
00:20:51,820 --> 00:20:55,419
accepts and connects and we can<font color="#CCCCCC"> actually</font>

571
00:20:53,470 --> 00:20:56,550
see the W get right it's currently

572
00:20:55,420 --> 00:21:00,190
reaching<font color="#E5E5E5"> out to the outside world</font>

573
00:20:56,550 --> 00:21:02,740
<font color="#E5E5E5">downloading the crypto minor and so what</font>

574
00:21:00,190 --> 00:21:05,340
I'll do is<font color="#CCCCCC"> I'll apply a network policy</font><font color="#E5E5E5"> I</font>

575
00:21:02,740 --> 00:21:08,530
will call<font color="#E5E5E5"> deny egress</font><font color="#CCCCCC"> network</font><font color="#E5E5E5"> policy and</font>

576
00:21:05,340 --> 00:21:13,389
what that does is basically<font color="#E5E5E5"> say hey this</font>

577
00:21:08,530 --> 00:21:14,889
API server<font color="#CCCCCC"> type you know connection type</font>

578
00:21:13,390 --> 00:21:16,900
egress we're<font color="#E5E5E5"> gonna head it and just</font>

579
00:21:14,890 --> 00:21:18,640
block all activity<font color="#E5E5E5"> right so we basically</font>

580
00:21:16,900 --> 00:21:22,390
blacklisted egress from<font color="#E5E5E5"> this specific</font>

581
00:21:18,640 --> 00:21:25,650
specific container<font color="#CCCCCC"> and in this</font><font color="#E5E5E5"> case what</font>

582
00:21:22,390 --> 00:21:25,650
we'll do is we'll just apply<font color="#CCCCCC"> this</font>

583
00:21:31,920 --> 00:21:36,760
so now I've applied the network policy

584
00:21:34,390 --> 00:21:43,930
should<font color="#E5E5E5"> be active</font><font color="#CCCCCC"> I'll rerun the exploit</font>

585
00:21:36,760 --> 00:21:45,160
that<font color="#E5E5E5"> to</font><font color="#CCCCCC"> help it all sorry</font><font color="#E5E5E5"> and we</font>

586
00:21:43,930 --> 00:21:47,920
<font color="#CCCCCC">actually</font><font color="#E5E5E5"> get like a little</font><font color="#CCCCCC"> bit of</font><font color="#E5E5E5"> a</font>

587
00:21:45,160 --> 00:21:49,990
different air in<font color="#E5E5E5"> this case right so our</font>

588
00:21:47,920 --> 00:21:50,350
our code says<font color="#E5E5E5"> okay well W get</font><font color="#CCCCCC"> it's still</font>

589
00:21:49,990 --> 00:21:51,460
running

590
00:21:50,350 --> 00:21:53,649
and the reason it's still<font color="#CCCCCC"> running is</font>

591
00:21:51,460 --> 00:21:55,060
<font color="#CCCCCC">because it's</font><font color="#E5E5E5"> exercising its</font><font color="#CCCCCC"> timeout</font>

592
00:21:53,650 --> 00:21:56,710
trying<font color="#E5E5E5"> to connect to the server</font><font color="#CCCCCC"> right</font>

593
00:21:55,060 --> 00:21:58,300
<font color="#E5E5E5">before it</font><font color="#CCCCCC"> was</font><font color="#E5E5E5"> pretty instantaneous in</font>

594
00:21:56,710 --> 00:22:00,130
this case what<font color="#E5E5E5"> W gets actually getting</font>

595
00:21:58,300 --> 00:22:02,020
is a<font color="#E5E5E5"> gateway timeout kubernetes</font><font color="#CCCCCC"> is</font>

596
00:22:00,130 --> 00:22:04,630
blocking<font color="#CCCCCC"> that</font><font color="#E5E5E5"> external connection and</font>

597
00:22:02,020 --> 00:22:05,889
<font color="#E5E5E5">instead we are</font><font color="#CCCCCC"> not having the crypto</font>

598
00:22:04,630 --> 00:22:07,420
<font color="#CCCCCC">minor run</font><font color="#E5E5E5"> because we couldn't</font><font color="#CCCCCC"> even go to</font>

599
00:22:05,890 --> 00:22:10,660
the<font color="#E5E5E5"> internet and download it right so</font>

600
00:22:07,420 --> 00:22:12,160
this<font color="#E5E5E5"> is</font><font color="#CCCCCC"> kind of three major layers</font><font color="#E5E5E5"> where</font>

601
00:22:10,660 --> 00:22:14,440
you can say<font color="#CCCCCC"> okay let's block network</font>

602
00:22:12,160 --> 00:22:16,000
activity let's drop the privileges<font color="#E5E5E5"> that</font>

603
00:22:14,440 --> 00:22:17,500
<font color="#E5E5E5">are running inside</font><font color="#CCCCCC"> the container and</font>

604
00:22:16,000 --> 00:22:19,420
<font color="#E5E5E5">then let's make the container filesystem</font>

605
00:22:17,500 --> 00:22:20,560
read-only<font color="#E5E5E5"> and now you have kind of three</font>

606
00:22:19,420 --> 00:22:23,350
angles of<font color="#CCCCCC"> which you're blocking</font>

607
00:22:20,560 --> 00:22:25,419
potential attacks and<font color="#CCCCCC"> attacker needs</font><font color="#E5E5E5"> to</font>

608
00:22:23,350 --> 00:22:27,429
be way more<font color="#E5E5E5"> sophisticated when they want</font>

609
00:22:25,420 --> 00:22:28,780
to exploit<font color="#E5E5E5"> your container because they</font>

610
00:22:27,430 --> 00:22:30,670
have to<font color="#E5E5E5"> really try to figure</font><font color="#CCCCCC"> out okay</font>

611
00:22:28,780 --> 00:22:32,740
<font color="#CCCCCC">this path is</font><font color="#E5E5E5"> really like read or write</font>

612
00:22:30,670 --> 00:22:35,140
<font color="#E5E5E5">okay this capabilities are what I have</font>

613
00:22:32,740 --> 00:22:36,910
right and they need to like<font color="#E5E5E5"> you can't</font>

614
00:22:35,140 --> 00:22:39,040
just run a<font color="#E5E5E5"> script and scan the</font><font color="#CCCCCC"> Internet</font>

615
00:22:36,910 --> 00:22:42,670
and<font color="#E5E5E5"> try to exploit this because it just</font>

616
00:22:39,040 --> 00:22:44,379
won't be<font color="#E5E5E5"> that simple</font><font color="#CCCCCC"> all</font><font color="#E5E5E5"> right so we're</font>

617
00:22:42,670 --> 00:22:47,160
<font color="#E5E5E5">getting the the signal I'm just gonna</font>

618
00:22:44,380 --> 00:22:49,570
skip<font color="#E5E5E5"> through the backup slides here</font>

619
00:22:47,160 --> 00:22:52,060
<font color="#E5E5E5">we've shown</font><font color="#CCCCCC"> today</font><font color="#E5E5E5"> some of</font><font color="#CCCCCC"> the ways you</font>

620
00:22:49,570 --> 00:22:55,030
can<font color="#CCCCCC"> use runtime monitoring</font><font color="#E5E5E5"> to figure out</font>

621
00:22:52,060 --> 00:22:56,980
a better deploy time<font color="#E5E5E5"> configuration</font><font color="#CCCCCC"> which</font>

622
00:22:55,030 --> 00:22:58,660
would limit the containers privilege

623
00:22:56,980 --> 00:23:00,430
level and mitigate certain classes<font color="#CCCCCC"> of</font>

624
00:22:58,660 --> 00:23:02,920
attacks<font color="#E5E5E5"> especially</font><font color="#CCCCCC"> those that people</font>

625
00:23:00,430 --> 00:23:05,560
<font color="#E5E5E5">apply a sort of internet scale you'll</font>

626
00:23:02,920 --> 00:23:07,570
block at<font color="#CCCCCC"> least the first the first wave</font>

627
00:23:05,560 --> 00:23:10,030
and attackers were lazy just like

628
00:23:07,570 --> 00:23:11,500
everyone else<font color="#CCCCCC"> we really believe that</font>

629
00:23:10,030 --> 00:23:14,020
<font color="#CCCCCC">containerized workloads and</font><font color="#E5E5E5"> the</font>

630
00:23:11,500 --> 00:23:16,270
technologies that<font color="#E5E5E5"> power them</font><font color="#CCCCCC"> really can</font>

631
00:23:14,020 --> 00:23:17,889
help<font color="#E5E5E5"> make the apps more secure than what</font>

632
00:23:16,270 --> 00:23:20,470
came<font color="#CCCCCC"> before</font><font color="#E5E5E5"> in large part because we can</font>

633
00:23:17,890 --> 00:23:22,930
see the security configs<font color="#E5E5E5"> at runtime and</font>

634
00:23:20,470 --> 00:23:23,980
<font color="#CCCCCC">iterate on them through the same sort of</font>

635
00:23:22,930 --> 00:23:25,320
development<font color="#E5E5E5"> process so that let us</font>

636
00:23:23,980 --> 00:23:27,400
<font color="#E5E5E5">deliver apfel you fast</font>

637
00:23:25,320 --> 00:23:29,290
<font color="#CCCCCC">the default configs are pretty</font><font color="#E5E5E5"> decent</font>

638
00:23:27,400 --> 00:23:31,900
but you can<font color="#E5E5E5"> really up your game by just</font>

639
00:23:29,290 --> 00:23:33,940
opting<font color="#CCCCCC"> into a couple more improvements</font>

640
00:23:31,900 --> 00:23:37,300
and with that we're done<font color="#E5E5E5"> so you can use</font>

641
00:23:33,940 --> 00:23:38,950
the<font color="#E5E5E5"> website</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> ask questions and I think</font>

642
00:23:37,300 --> 00:23:41,590
<font color="#CCCCCC">we've got a mic out</font><font color="#E5E5E5"> of this theater</font><font color="#CCCCCC"> is</font>

643
00:23:38,950 --> 00:23:43,840
huge so you can do him a solid by

644
00:23:41,590 --> 00:23:49,240
speaking<font color="#E5E5E5"> up</font>

645
00:23:43,840 --> 00:23:50,830
you know hey cool talk um so actually

646
00:23:49,240 --> 00:23:52,210
I've used<font color="#CCCCCC"> Linux capabilities and I</font>

647
00:23:50,830 --> 00:23:53,770
thought normally you<font color="#E5E5E5"> only set them on</font>

648
00:23:52,210 --> 00:23:55,300
<font color="#CCCCCC">one binary but it looked</font><font color="#E5E5E5"> like</font><font color="#CCCCCC"> in</font><font color="#E5E5E5"> your</font>

649
00:23:53,770 --> 00:23:57,510
config you were setting<font color="#E5E5E5"> it for like a</font>

650
00:23:55,300 --> 00:24:01,419
whole container<font color="#CCCCCC"> so how does that</font><font color="#E5E5E5"> work</font>

651
00:23:57,510 --> 00:24:03,580
<font color="#E5E5E5">yeah sure so in the container config of</font>

652
00:24:01,420 --> 00:24:06,820
communities<font color="#E5E5E5"> and</font><font color="#CCCCCC"> also you can either add</font>

653
00:24:03,580 --> 00:24:08,080
or drop capabilities and so you can

654
00:24:06,820 --> 00:24:10,090
really<font color="#E5E5E5"> define it for the container as a</font>

655
00:24:08,080 --> 00:24:11,530
whole<font color="#E5E5E5"> right and then I think the</font>

656
00:24:10,090 --> 00:24:14,439
processes that run<font color="#E5E5E5"> within the container</font>

657
00:24:11,530 --> 00:24:17,290
all inherit<font color="#E5E5E5"> that</font><font color="#CCCCCC"> probably starting with</font>

658
00:24:14,440 --> 00:24:19,630
<font color="#CCCCCC">hid</font><font color="#E5E5E5"> one and then going down exactly so</font>

659
00:24:17,290 --> 00:24:21,399
it's a<font color="#E5E5E5"> really neat way and but it's kind</font>

660
00:24:19,630 --> 00:24:24,100
of<font color="#E5E5E5"> hard to</font><font color="#CCCCCC"> use right and so the idea is</font>

661
00:24:21,400 --> 00:24:25,570
let<font color="#CCCCCC"> developers develop and and push</font>

662
00:24:24,100 --> 00:24:26,530
their code<font color="#E5E5E5"> and then say hey by the</font><font color="#CCCCCC"> way</font>

663
00:24:25,570 --> 00:24:28,810
here's how you<font color="#E5E5E5"> can make your</font>

664
00:24:26,530 --> 00:24:30,430
configuration better<font color="#CCCCCC"> because I used to</font>

665
00:24:28,810 --> 00:24:31,629
<font color="#CCCCCC">work in infrastructure and I've seen you</font>

666
00:24:30,430 --> 00:24:32,980
know things run with privilege that

667
00:24:31,630 --> 00:24:35,260
don't need privilege but they just<font color="#CCCCCC"> don't</font>

668
00:24:32,980 --> 00:24:38,670
understand the exact capability it needs

669
00:24:35,260 --> 00:24:41,620
or the exact privilege it needs<font color="#CCCCCC"> Thanks</font>

670
00:24:38,670 --> 00:24:45,120
so are you reading this the next

671
00:24:41,620 --> 00:24:50,909
capabilities<font color="#E5E5E5"> has a root user or a normal</font>

672
00:24:45,120 --> 00:24:53,169
like<font color="#E5E5E5"> just go back to the slide like this</font>

673
00:24:50,910 --> 00:24:55,870
<font color="#CCCCCC">like to get this output how are</font><font color="#E5E5E5"> we</font>

674
00:24:53,170 --> 00:24:57,310
running it so these you are<font color="#E5E5E5"> running</font><font color="#CCCCCC"> from</font>

675
00:24:55,870 --> 00:25:02,320
the host right<font color="#E5E5E5"> not from the container</font>

676
00:24:57,310 --> 00:25:03,790
itself right<font color="#CCCCCC"> so actually</font><font color="#E5E5E5"> what's</font>

677
00:25:02,320 --> 00:25:05,679
happening is<font color="#E5E5E5"> so we have a container</font>

678
00:25:03,790 --> 00:25:06,940
that's<font color="#E5E5E5"> running on every host and it's</font>

679
00:25:05,680 --> 00:25:10,150
actually listening<font color="#CCCCCC"> to a function called</font>

680
00:25:06,940 --> 00:25:12,310
called<font color="#E5E5E5"> cap capable which is where</font>

681
00:25:10,150 --> 00:25:15,820
basically<font color="#E5E5E5"> processes will ask hey can</font><font color="#CCCCCC"> I</font>

682
00:25:12,310 --> 00:25:17,409
<font color="#CCCCCC">run this this do I</font><font color="#E5E5E5"> have this capability</font>

683
00:25:15,820 --> 00:25:18,850
<font color="#E5E5E5">and then we're collecting that</font>

684
00:25:17,410 --> 00:25:20,110
correlating with the<font color="#CCCCCC"> pids</font>

685
00:25:18,850 --> 00:25:22,240
and then correlating the<font color="#CCCCCC"> pids with the</font>

686
00:25:20,110 --> 00:25:23,379
containers<font color="#E5E5E5"> right so in container lands a</font>

687
00:25:22,240 --> 00:25:25,120
little<font color="#CCCCCC"> bit of an extra</font><font color="#E5E5E5"> work to figure</font>

688
00:25:23,380 --> 00:25:26,920
<font color="#E5E5E5">out hey which container is running rich</font>

689
00:25:25,120 --> 00:25:29,679
process and then we can take<font color="#CCCCCC"> that</font>

690
00:25:26,920 --> 00:25:32,320
process<font color="#CCCCCC"> and say which capability it's</font>

691
00:25:29,680 --> 00:25:34,060
trying to use but the monitoring does

692
00:25:32,320 --> 00:25:34,800
require privilege on the<font color="#E5E5E5"> host</font><font color="#CCCCCC"> it's</font><font color="#E5E5E5"> that</font>

693
00:25:34,060 --> 00:25:38,980
what you're asking

694
00:25:34,800 --> 00:25:40,419
yeah so yeah ideally<font color="#E5E5E5"> you do this once or</font>

695
00:25:38,980 --> 00:25:44,650
every so often<font color="#CCCCCC"> or something and then</font>

696
00:25:40,420 --> 00:25:47,110
then turn it off sorry we're at time now

697
00:25:44,650 --> 00:25:49,840
so there any other questions I when I

698
00:25:47,110 --> 00:25:53,668
guess your be around<font color="#CCCCCC"> yeah yeah okay and</font>

699
00:25:49,840 --> 00:25:57,039
also<font color="#E5E5E5"> you can find</font><font color="#CCCCCC"> us on the Internet</font>

700
00:25:53,669 --> 00:25:59,999
so thank you very<font color="#E5E5E5"> much</font><font color="#CCCCCC"> happy</font><font color="#E5E5E5"> happy</font>

701
00:25:57,039 --> 00:25:59,999
<font color="#E5E5E5">besides</font><font color="#CCCCCC"> us</font><font color="#E5E5E5"> up</font>

