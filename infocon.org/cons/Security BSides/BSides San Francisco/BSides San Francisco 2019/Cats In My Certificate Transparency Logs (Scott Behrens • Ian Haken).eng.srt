1
00:00:00,599 --> 00:00:04,529
it's my pleasure to introduce<font color="#CCCCCC"> Iain and</font>

2
00:00:02,700 --> 00:00:07,560
<font color="#CCCCCC">Scot and they're going</font><font color="#E5E5E5"> to talk about</font>

3
00:00:04,529 --> 00:00:10,200
certificate transparency<font color="#E5E5E5"> logs all right</font>

4
00:00:07,560 --> 00:00:12,178
cool<font color="#E5E5E5"> working awesome</font><font color="#CCCCCC"> all right</font><font color="#E5E5E5"> all right</font>

5
00:00:10,200 --> 00:00:14,428
thank<font color="#CCCCCC"> you all for coming my name is Ian</font>

6
00:00:12,179 --> 00:00:15,960
<font color="#CCCCCC">Hagen</font><font color="#E5E5E5"> this is Scott Behrens</font><font color="#CCCCCC"> and today</font>

7
00:00:14,429 --> 00:00:18,300
we're<font color="#E5E5E5"> gonna be</font><font color="#CCCCCC"> talking about</font><font color="#E5E5E5"> cats and</font>

8
00:00:15,960 --> 00:00:19,650
<font color="#E5E5E5">certificate transparency logs</font><font color="#CCCCCC"> we got a</font>

9
00:00:18,300 --> 00:00:21,210
lot of stuff that<font color="#CCCCCC"> we want to</font><font color="#E5E5E5"> cover so</font>

10
00:00:19,650 --> 00:00:22,619
I'm gonna jump<font color="#CCCCCC"> straight into it and</font>

11
00:00:21,210 --> 00:00:24,810
start with the question what<font color="#CCCCCC"> is</font>

12
00:00:22,619 --> 00:00:26,070
certificate transparency<font color="#E5E5E5"> because most</font>

13
00:00:24,810 --> 00:00:27,390
people I've talked to about this they

14
00:00:26,070 --> 00:00:29,099
<font color="#E5E5E5">kind of have heard a certificate</font><font color="#CCCCCC"> rants</font>

15
00:00:27,390 --> 00:00:31,170
<font color="#CCCCCC">parentsí they know it's a thing that's</font>

16
00:00:29,099 --> 00:00:33,510
got something<font color="#CCCCCC"> to do with like the public</font>

17
00:00:31,170 --> 00:00:34,800
record of certificates but then you know

18
00:00:33,510 --> 00:00:36,180
if you probe them on it<font color="#CCCCCC"> they're just</font>

19
00:00:34,800 --> 00:00:39,449
like<font color="#E5E5E5"> I don't really understand</font><font color="#CCCCCC"> how it</font>

20
00:00:36,180 --> 00:00:41,250
<font color="#E5E5E5">works or what</font><font color="#CCCCCC"> it's supposed to do so</font>

21
00:00:39,450 --> 00:00:42,870
let's answer that question<font color="#E5E5E5"> so to</font>

22
00:00:41,250 --> 00:00:46,739
understand what certificate transparency

23
00:00:42,870 --> 00:00:48,660
is and why we need<font color="#CCCCCC"> it let's start by</font>

24
00:00:46,739 --> 00:00:50,629
<font color="#CCCCCC">just making</font><font color="#E5E5E5"> sure we all understand kind</font>

25
00:00:48,660 --> 00:00:53,730
of<font color="#E5E5E5"> the basics of public key cryptography</font>

26
00:00:50,629 --> 00:00:55,559
<font color="#CCCCCC">so let's illustrate how public</font><font color="#E5E5E5"> key</font>

27
00:00:53,730 --> 00:00:58,288
crypto works with<font color="#CCCCCC"> our classic example of</font>

28
00:00:55,559 --> 00:00:59,730
<font color="#E5E5E5">Alice and Bob so here's Alice she's a</font>

29
00:00:58,289 --> 00:01:02,039
friendly<font color="#E5E5E5"> cat she makes lots of friends</font>

30
00:00:59,730 --> 00:01:03,510
and<font color="#E5E5E5"> one day she runs into Bob and you</font>

31
00:01:02,039 --> 00:01:05,189
know they're kind<font color="#CCCCCC"> of different Alice</font><font color="#E5E5E5"> has</font>

32
00:01:03,510 --> 00:01:07,140
more of a homebody<font color="#E5E5E5"> Bob is more of an</font>

33
00:01:05,188 --> 00:01:08,729
outdoorsy type but they become<font color="#E5E5E5"> fast</font>

34
00:01:07,140 --> 00:01:10,740
<font color="#E5E5E5">friends anyway and decide</font><font color="#CCCCCC"> that they're</font>

35
00:01:08,729 --> 00:01:14,250
gonna<font color="#E5E5E5"> be pen pals</font><font color="#CCCCCC"> so the next</font><font color="#E5E5E5"> day Bob</font>

36
00:01:10,740 --> 00:01:16,530
sends Alice a message and you know<font color="#E5E5E5"> this</font>

37
00:01:14,250 --> 00:01:18,150
is<font color="#E5E5E5"> great and all</font><font color="#CCCCCC"> but Alice like she</font>

38
00:01:16,530 --> 00:01:19,409
knows<font color="#CCCCCC"> that messages get passed</font><font color="#E5E5E5"> through a</font>

39
00:01:18,150 --> 00:01:20,790
bunch of<font color="#CCCCCC"> different hands before they get</font>

40
00:01:19,409 --> 00:01:23,250
to her<font color="#CCCCCC"> and she wants to</font><font color="#E5E5E5"> know did this</font>

41
00:01:20,790 --> 00:01:24,990
message<font color="#E5E5E5"> really come from Bob and that's</font>

42
00:01:23,250 --> 00:01:26,700
<font color="#E5E5E5">the kind of question that public key</font>

43
00:01:24,990 --> 00:01:28,380
cryptography was sort of<font color="#E5E5E5"> built to help</font>

44
00:01:26,700 --> 00:01:30,450
<font color="#E5E5E5">answer so the way public key crypto</font>

45
00:01:28,380 --> 00:01:32,250
helps us with<font color="#E5E5E5"> this problem is Bob can</font>

46
00:01:30,450 --> 00:01:34,350
generate a public/private key pair<font color="#CCCCCC"> and</font>

47
00:01:32,250 --> 00:01:36,810
he's able<font color="#E5E5E5"> to use his</font><font color="#CCCCCC"> private key to sign</font>

48
00:01:34,350 --> 00:01:38,610
messages and now<font color="#CCCCCC"> Alice as long as she</font>

49
00:01:36,810 --> 00:01:40,170
has a copy<font color="#CCCCCC"> of that</font><font color="#E5E5E5"> public key is able to</font>

50
00:01:38,610 --> 00:01:42,930
<font color="#CCCCCC">verify that signature so that's</font>

51
00:01:40,170 --> 00:01:44,100
basically all public key crypto is and

52
00:01:42,930 --> 00:01:44,970
<font color="#E5E5E5">that's as technical as we're gonna get</font>

53
00:01:44,100 --> 00:01:46,380
on how it works

54
00:01:44,970 --> 00:01:48,090
it's really<font color="#E5E5E5"> just the idea that you can</font>

55
00:01:46,380 --> 00:01:49,530
sign things with a private key<font color="#E5E5E5"> and then</font>

56
00:01:48,090 --> 00:01:50,520
with the public<font color="#E5E5E5"> you can verify that that</font>

57
00:01:49,530 --> 00:01:52,530
signature<font color="#CCCCCC"> is good</font>

58
00:01:50,520 --> 00:01:54,060
so all right<font color="#CCCCCC"> that's how public</font><font color="#E5E5E5"> key</font>

59
00:01:52,530 --> 00:01:55,470
crypto works when you've got two parties

60
00:01:54,060 --> 00:01:58,049
involved<font color="#CCCCCC"> but</font><font color="#E5E5E5"> what happens when Alice</font>

61
00:01:55,470 --> 00:01:59,880
wants to<font color="#E5E5E5"> get on the Internet so well</font>

62
00:01:58,049 --> 00:02:01,860
here's Alice again<font color="#E5E5E5"> she's gonna fire up</font>

63
00:01:59,880 --> 00:02:03,449
her browser and go to<font color="#CCCCCC"> google.com she</font>

64
00:02:01,860 --> 00:02:04,829
wants to check<font color="#E5E5E5"> her email and the first</font>

65
00:02:03,450 --> 00:02:06,750
thing<font color="#CCCCCC"> that Google's</font><font color="#E5E5E5"> gonna do is be</font><font color="#CCCCCC"> like</font>

66
00:02:04,829 --> 00:02:08,459
hey please<font color="#CCCCCC"> give me</font><font color="#E5E5E5"> your password I need</font>

67
00:02:06,750 --> 00:02:11,220
you to<font color="#E5E5E5"> log</font><font color="#CCCCCC"> in to</font><font color="#E5E5E5"> check your email and</font>

68
00:02:08,459 --> 00:02:12,510
you<font color="#E5E5E5"> know this is kind of a poem</font><font color="#CCCCCC"> again</font>

69
00:02:11,220 --> 00:02:14,030
because alice is like<font color="#E5E5E5"> whoa</font>

70
00:02:12,510 --> 00:02:15,799
like who's asking<font color="#CCCCCC"> for my password</font>

71
00:02:14,030 --> 00:02:17,390
I think it's Google but the Internet's a

72
00:02:15,800 --> 00:02:19,370
scary place like I've<font color="#E5E5E5"> seen some of that</font>

73
00:02:17,390 --> 00:02:21,589
stuff out there<font color="#E5E5E5"> how do I know this is</font>

74
00:02:19,370 --> 00:02:23,209
really Google and we solve this<font color="#E5E5E5"> problem</font>

75
00:02:21,590 --> 00:02:25,750
the same<font color="#E5E5E5"> way right Google has its own</font>

76
00:02:23,209 --> 00:02:28,040
<font color="#CCCCCC">public private</font><font color="#E5E5E5"> key pair and it signs the</font>

77
00:02:25,750 --> 00:02:30,380
you know messages that it's sending<font color="#E5E5E5"> back</font>

78
00:02:28,040 --> 00:02:32,480
<font color="#CCCCCC">to Alice with that</font><font color="#E5E5E5"> private key</font><font color="#CCCCCC"> but the</font>

79
00:02:30,380 --> 00:02:34,790
problem is<font color="#E5E5E5"> Alice doesn't have Google's</font>

80
00:02:32,480 --> 00:02:37,130
<font color="#CCCCCC">public key</font><font color="#E5E5E5"> and it's</font><font color="#CCCCCC"> impractical for</font>

81
00:02:34,790 --> 00:02:38,690
<font color="#E5E5E5">Alice or her browser to</font><font color="#CCCCCC"> have all the</font>

82
00:02:37,130 --> 00:02:39,950
public<font color="#E5E5E5"> keys for all the web</font><font color="#CCCCCC"> sites on the</font>

83
00:02:38,690 --> 00:02:41,540
internet because<font color="#E5E5E5"> there's hundreds of</font>

84
00:02:39,950 --> 00:02:43,458
<font color="#E5E5E5">millions of those and they're constantly</font>

85
00:02:41,540 --> 00:02:45,650
<font color="#CCCCCC">changing so there's no way for Alice to</font>

86
00:02:43,459 --> 00:02:47,300
<font color="#E5E5E5">have all those</font><font color="#CCCCCC"> public keys in advance so</font>

87
00:02:45,650 --> 00:02:48,560
the way we solve this problem<font color="#CCCCCC"> is with</font>

88
00:02:47,300 --> 00:02:50,120
third party is known as certificate

89
00:02:48,560 --> 00:02:51,950
<font color="#E5E5E5">authorities so here's our example</font>

90
00:02:50,120 --> 00:02:53,720
certificate authority so this is digit

91
00:02:51,950 --> 00:02:55,369
cat and he takes the<font color="#CCCCCC"> Internet very</font>

92
00:02:53,720 --> 00:02:57,650
seriously<font color="#E5E5E5"> he's filled out a bunch of</font>

93
00:02:55,370 --> 00:02:59,569
paperwork<font color="#E5E5E5"> he has these policies posted</font>

94
00:02:57,650 --> 00:03:02,450
that all say like I take<font color="#E5E5E5"> the internet</font>

95
00:02:59,569 --> 00:03:04,429
<font color="#E5E5E5">super serious</font><font color="#CCCCCC"> you can trust me to like</font>

96
00:03:02,450 --> 00:03:07,488
be<font color="#CCCCCC"> a good citizen in</font><font color="#E5E5E5"> this internet</font>

97
00:03:04,430 --> 00:03:09,019
<font color="#CCCCCC">ecosystem so</font><font color="#E5E5E5"> digit cat has a public</font>

98
00:03:07,489 --> 00:03:11,360
<font color="#CCCCCC">private key just like all of</font><font color="#E5E5E5"> our</font><font color="#CCCCCC"> other</font>

99
00:03:09,019 --> 00:03:12,920
players in this game<font color="#CCCCCC"> and because we</font>

100
00:03:11,360 --> 00:03:15,350
trust him to<font color="#E5E5E5"> take this internet</font>

101
00:03:12,920 --> 00:03:18,410
seriously<font color="#CCCCCC"> we embed his public key in the</font>

102
00:03:15,350 --> 00:03:20,030
browser<font color="#CCCCCC"> and so because digit cat is</font><font color="#E5E5E5"> one</font>

103
00:03:18,410 --> 00:03:21,890
of<font color="#E5E5E5"> these trusted certificate authorities</font>

104
00:03:20,030 --> 00:03:23,690
<font color="#E5E5E5">Google knows that when they want to</font>

105
00:03:21,890 --> 00:03:25,850
<font color="#E5E5E5">start a website</font><font color="#CCCCCC"> they should go talk to</font>

106
00:03:23,690 --> 00:03:27,799
digit cat and be like hey digit cat can

107
00:03:25,850 --> 00:03:29,840
<font color="#E5E5E5">you please help me create a trusted</font>

108
00:03:27,799 --> 00:03:31,280
website<font color="#CCCCCC"> on the internet and what digit</font>

109
00:03:29,840 --> 00:03:33,500
cat does is it creates<font color="#E5E5E5"> one</font><font color="#CCCCCC"> of these</font>

110
00:03:31,280 --> 00:03:35,180
<font color="#CCCCCC">certificates</font><font color="#E5E5E5"> so it says</font><font color="#CCCCCC"> google.com has</font>

111
00:03:33,500 --> 00:03:37,820
this public key<font color="#CCCCCC"> and that's all a</font>

112
00:03:35,180 --> 00:03:39,769
certificate is for for our<font color="#E5E5E5"> intents and</font>

113
00:03:37,820 --> 00:03:41,660
purposes<font color="#E5E5E5"> so digit cat signs this</font>

114
00:03:39,769 --> 00:03:43,850
certificate<font color="#E5E5E5"> what their private key hands</font>

115
00:03:41,660 --> 00:03:45,470
<font color="#E5E5E5">it over to Google and so now Google has</font>

116
00:03:43,850 --> 00:03:47,600
<font color="#CCCCCC">a copy of</font><font color="#E5E5E5"> the certificate and they can</font>

117
00:03:45,470 --> 00:03:49,790
<font color="#CCCCCC">include it whenever they send Alice or</font>

118
00:03:47,600 --> 00:03:51,590
anyone else a message<font color="#E5E5E5"> so Alice has</font><font color="#CCCCCC"> the</font>

119
00:03:49,790 --> 00:03:53,420
<font color="#E5E5E5">public key</font><font color="#CCCCCC"> of digit cat they can so</font>

120
00:03:51,590 --> 00:03:55,220
Alice can verify<font color="#E5E5E5"> that this google.com</font>

121
00:03:53,420 --> 00:03:57,018
certificate was really signed by digit

122
00:03:55,220 --> 00:03:58,850
cat<font color="#E5E5E5"> then they then</font><font color="#CCCCCC"> Alice can pull out</font>

123
00:03:57,019 --> 00:04:00,530
<font color="#CCCCCC">that</font><font color="#E5E5E5"> public key for</font><font color="#CCCCCC"> Google verify that</font>

124
00:03:58,850 --> 00:04:02,930
<font color="#E5E5E5">that message was really signed by Google</font>

125
00:04:00,530 --> 00:04:04,850
<font color="#E5E5E5">and so now Alice has confidence</font><font color="#CCCCCC"> hey this</font>

126
00:04:02,930 --> 00:04:06,230
really<font color="#E5E5E5"> came from Google</font><font color="#CCCCCC"> this</font><font color="#E5E5E5"> message is</font>

127
00:04:04,850 --> 00:04:07,700
trustworthy I'm gonna send Google my

128
00:04:06,230 --> 00:04:09,649
password so<font color="#CCCCCC"> that's awesome</font>

129
00:04:07,700 --> 00:04:11,030
<font color="#E5E5E5">that's how the internet</font><font color="#CCCCCC"> works that's</font>

130
00:04:09,650 --> 00:04:12,380
what makes this all safe on the internet

131
00:04:11,030 --> 00:04:14,810
when we're sending<font color="#E5E5E5"> our passwords around</font>

132
00:04:12,380 --> 00:04:16,159
the problem is not everything<font color="#E5E5E5"> is</font><font color="#CCCCCC"> awesome</font>

133
00:04:14,810 --> 00:04:19,820
right there's stuff<font color="#E5E5E5"> about this whole</font>

134
00:04:16,160 --> 00:04:21,530
infrastructure<font color="#E5E5E5"> that makes us sad</font><font color="#CCCCCC"> and the</font>

135
00:04:19,820 --> 00:04:22,940
reason that<font color="#E5E5E5"> some of this stuff</font><font color="#CCCCCC"> can make</font>

136
00:04:21,529 --> 00:04:24,590
us sad is<font color="#CCCCCC"> that</font><font color="#E5E5E5"> you don't just have</font><font color="#CCCCCC"> this</font>

137
00:04:22,940 --> 00:04:25,969
one like super awesome certificate

138
00:04:24,590 --> 00:04:26,929
authority in your<font color="#E5E5E5"> browser</font><font color="#CCCCCC"> you have a</font>

139
00:04:25,970 --> 00:04:28,509
whole herd of

140
00:04:26,930 --> 00:04:30,169
right there's all of these different

141
00:04:28,509 --> 00:04:32,030
certificate authorities<font color="#CCCCCC"> that</font><font color="#E5E5E5"> your</font>

142
00:04:30,169 --> 00:04:34,940
browser<font color="#E5E5E5"> trusts and some of them are a</font>

143
00:04:32,030 --> 00:04:36,948
<font color="#CCCCCC">bit better about being serious you know</font>

144
00:04:34,940 --> 00:04:39,139
internet business<font color="#CCCCCC"> cats than others so</font>

145
00:04:36,949 --> 00:04:40,550
here's an example<font color="#CCCCCC"> of a cab</font><font color="#E5E5E5"> that's maybe</font>

146
00:04:39,139 --> 00:04:42,500
a<font color="#CCCCCC"> little overwhelmed with his</font>

147
00:04:40,550 --> 00:04:44,919
<font color="#CCCCCC">responsibility so this cat is Simon and</font>

148
00:04:42,500 --> 00:04:49,009
<font color="#E5E5E5">he runs a company called Simon tech and</font>

149
00:04:44,919 --> 00:04:50,630
he's maybe not<font color="#E5E5E5"> so great at being a CA so</font>

150
00:04:49,009 --> 00:04:53,840
like sometimes<font color="#E5E5E5"> it doesn't</font><font color="#CCCCCC"> work quite</font>

151
00:04:50,630 --> 00:04:55,460
<font color="#CCCCCC">right but he is the</font><font color="#E5E5E5"> CA just</font><font color="#CCCCCC"> like anyone</font>

152
00:04:53,840 --> 00:04:57,109
else he's got<font color="#E5E5E5"> his own public private key</font>

153
00:04:55,460 --> 00:04:59,239
set<font color="#E5E5E5"> his public</font><font color="#CCCCCC"> keys embedded in the</font>

154
00:04:57,110 --> 00:05:00,979
browser<font color="#CCCCCC"> but because his</font><font color="#E5E5E5"> CA isn't always</font>

155
00:04:59,240 --> 00:05:03,320
<font color="#E5E5E5">working properly every so often what he</font>

156
00:05:00,979 --> 00:05:05,210
does is generate<font color="#E5E5E5"> some random</font><font color="#CCCCCC"> Keys and</font>

157
00:05:03,320 --> 00:05:07,580
created google.com certificate with

158
00:05:05,210 --> 00:05:08,810
those keys and then he's able to look<font color="#E5E5E5"> at</font>

159
00:05:07,580 --> 00:05:10,639
<font color="#E5E5E5">that sort of kid verify that like</font>

160
00:05:08,810 --> 00:05:12,350
Firefox works properly<font color="#E5E5E5"> with that</font>

161
00:05:10,639 --> 00:05:15,110
certificate<font color="#CCCCCC"> he's like alright my CA</font>

162
00:05:12,350 --> 00:05:17,750
works I'm just<font color="#E5E5E5"> gonna throw this away</font><font color="#CCCCCC"> but</font>

163
00:05:15,110 --> 00:05:18,979
there's a problem<font color="#E5E5E5"> there because you know</font>

164
00:05:17,750 --> 00:05:20,479
we don't know<font color="#E5E5E5"> if there's an employee</font>

165
00:05:18,979 --> 00:05:22,760
<font color="#E5E5E5">that's gonna come around someone wishes</font>

166
00:05:20,479 --> 00:05:24,530
employee like<font color="#CCCCCC"> Malory who instead of</font>

167
00:05:22,760 --> 00:05:27,740
<font color="#E5E5E5">throwing those keys away after this test</font>

168
00:05:24,530 --> 00:05:30,109
is done just runs off with them and now

169
00:05:27,740 --> 00:05:32,389
if<font color="#E5E5E5"> Alice tries to go to google.com</font><font color="#CCCCCC"> and</font>

170
00:05:30,110 --> 00:05:33,740
<font color="#E5E5E5">Mallory is in a position to</font><font color="#CCCCCC"> be</font><font color="#E5E5E5"> in the</font>

171
00:05:32,389 --> 00:05:34,130
middle<font color="#E5E5E5"> of that traffic be a man in the</font>

172
00:05:33,740 --> 00:05:35,690
middle

173
00:05:34,130 --> 00:05:39,500
like maybe Mallory's just sitting next

174
00:05:35,690 --> 00:05:41,510
to Alice in the coffee shop then Mallory

175
00:05:39,500 --> 00:05:43,400
can intercept that<font color="#CCCCCC"> traffic sign back</font><font color="#E5E5E5"> a</font>

176
00:05:41,510 --> 00:05:45,590
<font color="#E5E5E5">please give me your password message</font>

177
00:05:43,400 --> 00:05:47,989
with<font color="#E5E5E5"> this random public</font><font color="#CCCCCC"> private key and</font>

178
00:05:45,590 --> 00:05:49,789
because that the public key<font color="#E5E5E5"> is in that</font>

179
00:05:47,990 --> 00:05:52,729
<font color="#CCCCCC">certificate that was signed by Simon</font>

180
00:05:49,789 --> 00:05:54,260
tech now Mallory is able to get Alice's

181
00:05:52,729 --> 00:05:55,550
passwords and all their emails<font color="#E5E5E5"> and</font>

182
00:05:54,260 --> 00:05:57,860
everything<font color="#CCCCCC"> in Google Drive</font><font color="#E5E5E5"> and all that</font>

183
00:05:55,550 --> 00:05:59,570
and the biggest thing that's<font color="#CCCCCC"> a</font><font color="#E5E5E5"> poem</font>

184
00:05:57,860 --> 00:06:02,360
about<font color="#E5E5E5"> all this is that Google was</font><font color="#CCCCCC"> not</font>

185
00:05:59,570 --> 00:06:04,219
<font color="#E5E5E5">involved in this transaction</font><font color="#CCCCCC"> at all</font><font color="#E5E5E5"> like</font>

186
00:06:02,360 --> 00:06:05,720
they had no idea<font color="#E5E5E5"> Simon tech made the</font>

187
00:06:04,220 --> 00:06:07,699
certificate they have no way<font color="#CCCCCC"> of knowing</font>

188
00:06:05,720 --> 00:06:10,300
Alice got duped by malicious certificate

189
00:06:07,699 --> 00:06:14,419
<font color="#E5E5E5">so this is the problem with the CA</font>

190
00:06:10,300 --> 00:06:16,280
infrastructure that exists today so now

191
00:06:14,419 --> 00:06:18,349
we<font color="#E5E5E5"> come to certificate</font><font color="#CCCCCC"> transparency what</font>

192
00:06:16,280 --> 00:06:19,909
is certificate transparency<font color="#CCCCCC"> well it's a</font>

193
00:06:18,349 --> 00:06:21,860
project<font color="#CCCCCC"> started up by some really</font><font color="#E5E5E5"> smart</font>

194
00:06:19,909 --> 00:06:23,449
<font color="#E5E5E5">folks at Google to kind of solve this</font>

195
00:06:21,860 --> 00:06:25,940
problem<font color="#E5E5E5"> it's trying to</font><font color="#CCCCCC"> remedy</font>

196
00:06:23,449 --> 00:06:27,800
<font color="#E5E5E5">certificate based threats by making the</font>

197
00:06:25,940 --> 00:06:30,620
issuance of certificates more open to

198
00:06:27,800 --> 00:06:32,690
scrutiny and more auditable<font color="#E5E5E5"> so it's got</font>

199
00:06:30,620 --> 00:06:34,490
three main<font color="#E5E5E5"> goals the first</font><font color="#CCCCCC"> is to make it</font>

200
00:06:32,690 --> 00:06:35,659
<font color="#E5E5E5">impossible</font><font color="#CCCCCC"> for a CA to create one of</font>

201
00:06:34,490 --> 00:06:37,820
these<font color="#E5E5E5"> certificates like one of these</font>

202
00:06:35,659 --> 00:06:38,840
<font color="#E5E5E5">google.com certificates without Google</font>

203
00:06:37,820 --> 00:06:41,930
knowing

204
00:06:38,840 --> 00:06:44,150
and it's going to<font color="#E5E5E5"> do that by making the</font>

205
00:06:41,930 --> 00:06:45,889
whole issuance of certificates<font color="#E5E5E5"> a public</font>

206
00:06:44,150 --> 00:06:47,630
activity<font color="#CCCCCC"> something that's a matter of</font>

207
00:06:45,889 --> 00:06:50,750
public record that<font color="#E5E5E5"> everyone can look at</font>

208
00:06:47,630 --> 00:06:52,760
an audit<font color="#E5E5E5"> and ultimately by having these</font>

209
00:06:50,750 --> 00:06:54,800
pieces<font color="#E5E5E5"> in place it's going</font><font color="#CCCCCC"> to ultimately</font>

210
00:06:52,760 --> 00:06:56,570
<font color="#E5E5E5">protect the users who want to go to</font>

211
00:06:54,800 --> 00:06:58,220
<font color="#E5E5E5">Google and know that when there's that</font>

212
00:06:56,570 --> 00:07:00,290
<font color="#E5E5E5">little green lock icon in their browser</font>

213
00:06:58,220 --> 00:07:03,199
it's actually<font color="#E5E5E5"> something meaningful</font><font color="#CCCCCC"> and</font>

214
00:07:00,290 --> 00:07:05,180
<font color="#CCCCCC">not a</font><font color="#E5E5E5"> malicious actor so it's a</font><font color="#CCCCCC"> project</font>

215
00:07:03,199 --> 00:07:08,419
to<font color="#CCCCCC"> make us safe awesome</font>

216
00:07:05,180 --> 00:07:10,340
what is a<font color="#E5E5E5"> CT log so a CT log is</font>

217
00:07:08,419 --> 00:07:12,229
something that is the sort of key

218
00:07:10,340 --> 00:07:14,359
component<font color="#E5E5E5"> of making a certificate</font>

219
00:07:12,229 --> 00:07:16,280
transparency<font color="#CCCCCC"> project worked</font><font color="#E5E5E5"> so it's</font>

220
00:07:14,360 --> 00:07:18,380
basically just a<font color="#E5E5E5"> simple network service</font>

221
00:07:16,280 --> 00:07:19,820
so it's a<font color="#E5E5E5"> resti service it's got an RFC</font>

222
00:07:18,380 --> 00:07:21,919
it's got like a dozen<font color="#E5E5E5"> different</font>

223
00:07:19,820 --> 00:07:24,620
<font color="#CCCCCC">endpoints</font><font color="#E5E5E5"> it's not that complicated</font><font color="#CCCCCC"> and</font>

224
00:07:21,919 --> 00:07:26,389
all it really does is<font color="#E5E5E5"> log certificates</font>

225
00:07:24,620 --> 00:07:28,040
in it so it's a record<font color="#E5E5E5"> of all</font><font color="#CCCCCC"> the</font>

226
00:07:26,389 --> 00:07:30,020
certificates<font color="#CCCCCC"> that are</font><font color="#E5E5E5"> getting issued but</font>

227
00:07:28,040 --> 00:07:31,820
it's got some<font color="#E5E5E5"> really important qualities</font>

228
00:07:30,020 --> 00:07:33,950
<font color="#E5E5E5">that actually make it</font><font color="#CCCCCC"> useful so the</font>

229
00:07:31,820 --> 00:07:36,229
first is<font color="#CCCCCC"> that they're append-only so</font>

230
00:07:33,950 --> 00:07:38,210
it's got some crypto built into it and

231
00:07:36,229 --> 00:07:40,669
<font color="#CCCCCC">this</font><font color="#E5E5E5"> API is only have</font><font color="#CCCCCC"> api's for adding</font>

232
00:07:38,210 --> 00:07:41,180
new<font color="#E5E5E5"> certificates and because of these</font>

233
00:07:40,669 --> 00:07:43,400
<font color="#E5E5E5">properties</font>

234
00:07:41,180 --> 00:07:46,039
you can't retroactively<font color="#CCCCCC"> lis remove or</font>

235
00:07:43,400 --> 00:07:48,590
<font color="#CCCCCC">modify or</font><font color="#E5E5E5"> delete entries out of the log</font>

236
00:07:46,039 --> 00:07:50,450
and<font color="#CCCCCC"> they're cryptographically</font><font color="#E5E5E5"> assured in</font>

237
00:07:48,590 --> 00:07:52,219
this property so<font color="#CCCCCC"> whenever new entry is</font>

238
00:07:50,450 --> 00:07:53,960
added<font color="#CCCCCC"> you</font><font color="#E5E5E5"> take a hash of the previous</font>

239
00:07:52,220 --> 00:07:55,910
entry<font color="#E5E5E5"> along with the new one and then</font>

240
00:07:53,960 --> 00:07:57,680
you sign<font color="#CCCCCC"> that hash and basically</font><font color="#E5E5E5"> if</font>

241
00:07:55,910 --> 00:07:59,720
anything were to be modified anywhere

242
00:07:57,680 --> 00:08:02,479
back in the<font color="#E5E5E5"> log this chain</font><font color="#CCCCCC"> of hashes</font>

243
00:07:59,720 --> 00:08:03,830
wouldn't match up and the and everyone

244
00:08:02,479 --> 00:08:05,960
<font color="#E5E5E5">watching these logs would be able</font><font color="#CCCCCC"> to</font>

245
00:08:03,830 --> 00:08:07,370
<font color="#E5E5E5">realize that this is not a trustworthy</font>

246
00:08:05,960 --> 00:08:09,138
log anymore<font color="#E5E5E5"> they've done something</font>

247
00:08:07,370 --> 00:08:12,680
<font color="#E5E5E5">they've removed or modified some entry</font>

248
00:08:09,139 --> 00:08:15,650
and<font color="#E5E5E5"> also very importantly these are all</font>

249
00:08:12,680 --> 00:08:17,000
public<font color="#E5E5E5"> services</font><font color="#CCCCCC"> so they're out there on</font>

250
00:08:15,650 --> 00:08:19,340
the internet<font color="#E5E5E5"> and there's no restrictions</font>

251
00:08:17,000 --> 00:08:22,160
about<font color="#E5E5E5"> who can retrieve or even insert</font>

252
00:08:19,340 --> 00:08:24,320
data<font color="#CCCCCC"> into them</font><font color="#E5E5E5"> so there are many CT logs</font>

253
00:08:22,160 --> 00:08:26,150
<font color="#E5E5E5">like I said it's an open RFC so Google</font>

254
00:08:24,320 --> 00:08:27,440
runs<font color="#E5E5E5"> a bunch digit cert runs a bunch</font>

255
00:08:26,150 --> 00:08:31,969
<font color="#CCCCCC">CloudFlare Rossum bunch</font>

256
00:08:27,440 --> 00:08:34,159
<font color="#E5E5E5">there's</font><font color="#CCCCCC"> Komodo</font><font color="#E5E5E5"> certificate logs so great</font>

257
00:08:31,970 --> 00:08:36,380
that's<font color="#E5E5E5"> what a certificate log is how</font>

258
00:08:34,159 --> 00:08:38,900
does having<font color="#E5E5E5"> that log actually protect us</font>

259
00:08:36,380 --> 00:08:41,120
from malicious certificates<font color="#E5E5E5"> so</font><font color="#CCCCCC"> chrome in</font>

260
00:08:38,900 --> 00:08:43,549
the<font color="#CCCCCC"> last year too started requiring</font>

261
00:08:41,120 --> 00:08:48,170
something<font color="#E5E5E5"> called s ETS be presented</font><font color="#CCCCCC"> with</font>

262
00:08:43,549 --> 00:08:50,930
certificates so an<font color="#CCCCCC"> SCT is a signed</font>

263
00:08:48,170 --> 00:08:52,370
certificate<font color="#E5E5E5"> timestamp</font><font color="#CCCCCC"> and</font><font color="#E5E5E5"> all that is is</font>

264
00:08:50,930 --> 00:08:54,109
it's a promise

265
00:08:52,370 --> 00:08:56,990
<font color="#CCCCCC">mind using</font><font color="#E5E5E5"> the private key of one of</font>

266
00:08:54,110 --> 00:08:58,910
these<font color="#E5E5E5"> CT logs that says I promise</font><font color="#CCCCCC"> to put</font>

267
00:08:56,990 --> 00:09:00,350
<font color="#E5E5E5">this</font><font color="#CCCCCC"> certificate in my log and that's</font>

268
00:08:58,910 --> 00:09:02,089
all it is<font color="#E5E5E5"> and as long as your</font>

269
00:09:00,350 --> 00:09:04,040
certificate is presented with one<font color="#E5E5E5"> of</font>

270
00:09:02,089 --> 00:09:06,589
these promises<font color="#CCCCCC"> chrome</font><font color="#E5E5E5"> is able to trust</font>

271
00:09:04,040 --> 00:09:08,449
it now and now<font color="#E5E5E5"> the other piece of that</font>

272
00:09:06,589 --> 00:09:10,640
<font color="#E5E5E5">though is</font><font color="#CCCCCC"> that chrome</font><font color="#E5E5E5"> in the background</font>

273
00:09:08,450 --> 00:09:11,960
is going<font color="#CCCCCC"> to check that these SE t's have</font>

274
00:09:10,640 --> 00:09:14,180
actually been honored by<font color="#CCCCCC"> this</font>

275
00:09:11,960 --> 00:09:15,890
certificate<font color="#E5E5E5"> transparency logs and it</font>

276
00:09:14,180 --> 00:09:17,420
does that<font color="#E5E5E5"> by just in the background as</font>

277
00:09:15,890 --> 00:09:19,730
you're out there browsing for pictures

278
00:09:17,420 --> 00:09:21,439
<font color="#E5E5E5">of cats on the</font><font color="#CCCCCC"> internet taking all these</font>

279
00:09:19,730 --> 00:09:23,570
certificates<font color="#E5E5E5"> that it sees with these</font><font color="#CCCCCC"> SE</font>

280
00:09:21,440 --> 00:09:25,310
<font color="#CCCCCC">TS and then going</font><font color="#E5E5E5"> and asking the log</font><font color="#CCCCCC"> hey</font>

281
00:09:23,570 --> 00:09:28,520
prove<font color="#CCCCCC"> to</font><font color="#E5E5E5"> me that you've</font><font color="#CCCCCC"> actually added</font>

282
00:09:25,310 --> 00:09:30,979
this certificate<font color="#E5E5E5"> to the log so if a log</font>

283
00:09:28,520 --> 00:09:33,500
<font color="#E5E5E5">doesn't put one of these certificates in</font>

284
00:09:30,980 --> 00:09:35,300
there we know<font color="#E5E5E5"> that it's signed</font><font color="#CCCCCC"> this SCT</font>

285
00:09:33,500 --> 00:09:36,650
we<font color="#E5E5E5"> can verify that signature we see that</font>

286
00:09:35,300 --> 00:09:40,370
it's<font color="#E5E5E5"> not in there and now we know</font><font color="#CCCCCC"> that</font>

287
00:09:36,650 --> 00:09:42,439
log is misbehaving<font color="#CCCCCC"> so chrome is sitting</font>

288
00:09:40,370 --> 00:09:43,640
there<font color="#E5E5E5"> making</font><font color="#CCCCCC"> sure these CT logs are</font>

289
00:09:42,440 --> 00:09:45,470
actually doing<font color="#E5E5E5"> what they're supposed to</font>

290
00:09:43,640 --> 00:09:47,480
<font color="#E5E5E5">and all the</font><font color="#CCCCCC"> hundreds of millions of</font>

291
00:09:45,470 --> 00:09:49,160
installations of<font color="#E5E5E5"> chrome are verifying</font>

292
00:09:47,480 --> 00:09:52,040
<font color="#E5E5E5">that these CT logs are actually behaving</font>

293
00:09:49,160 --> 00:09:54,920
<font color="#E5E5E5">properly so</font><font color="#CCCCCC"> alright that's like five or</font>

294
00:09:52,040 --> 00:09:56,420
six<font color="#E5E5E5"> slides all about how CT works but</font>

295
00:09:54,920 --> 00:09:58,339
what's the really<font color="#E5E5E5"> short version of this</font>

296
00:09:56,420 --> 00:10:01,219
especially<font color="#E5E5E5"> for the purposes</font><font color="#CCCCCC"> of this talk</font>

297
00:09:58,339 --> 00:10:03,020
<font color="#E5E5E5">so</font><font color="#CCCCCC"> certificates have to have an SCT</font>

298
00:10:01,220 --> 00:10:05,720
presented with them in order<font color="#E5E5E5"> for</font><font color="#CCCCCC"> them to</font>

299
00:10:03,020 --> 00:10:07,220
<font color="#E5E5E5">actually be trusted and be usable so an</font>

300
00:10:05,720 --> 00:10:09,320
SCT is a<font color="#E5E5E5"> signature from one of these</font>

301
00:10:07,220 --> 00:10:11,839
<font color="#E5E5E5">logs promising that the certificate will</font>

302
00:10:09,320 --> 00:10:13,459
show up in the log and chrome<font color="#E5E5E5"> is</font><font color="#CCCCCC"> gonna</font>

303
00:10:11,839 --> 00:10:15,650
<font color="#E5E5E5">notice</font><font color="#CCCCCC"> if it doesn't actually get added</font>

304
00:10:13,459 --> 00:10:17,060
to<font color="#E5E5E5"> the log so logs do actually have</font><font color="#CCCCCC"> to</font>

305
00:10:15,650 --> 00:10:20,000
behave<font color="#E5E5E5"> when they're creating these</font><font color="#CCCCCC"> SC</font>

306
00:10:17,060 --> 00:10:22,339
<font color="#CCCCCC">T's</font><font color="#E5E5E5"> and because</font><font color="#CCCCCC"> of crypto</font><font color="#E5E5E5"> a log can</font>

307
00:10:20,000 --> 00:10:24,890
never remove or alter entries once it's

308
00:10:22,339 --> 00:10:27,110
been<font color="#CCCCCC"> added</font><font color="#E5E5E5"> again if a entry were to get</font>

309
00:10:24,890 --> 00:10:29,839
removed or modified<font color="#E5E5E5"> or deleted or</font>

310
00:10:27,110 --> 00:10:31,430
<font color="#CCCCCC">redacted</font><font color="#E5E5E5"> then none of these hashes would</font>

311
00:10:29,839 --> 00:10:33,140
work out all these installations<font color="#CCCCCC"> of</font>

312
00:10:31,430 --> 00:10:35,540
<font color="#CCCCCC">Chrome would realize this Ct log is</font>

313
00:10:33,140 --> 00:10:37,339
misbehaving<font color="#CCCCCC"> and</font><font color="#E5E5E5"> then that log would no</font>

314
00:10:35,540 --> 00:10:41,930
longer be<font color="#CCCCCC"> trusted we no longer take</font><font color="#E5E5E5"> SC</font>

315
00:10:37,339 --> 00:10:44,300
T's from<font color="#E5E5E5"> that log etc so all</font><font color="#CCCCCC"> right</font><font color="#E5E5E5"> so as</font>

316
00:10:41,930 --> 00:10:46,760
<font color="#E5E5E5">so CT logs have to behave in</font><font color="#CCCCCC"> order for</font>

317
00:10:44,300 --> 00:10:48,500
them to<font color="#CCCCCC"> be trusted</font><font color="#E5E5E5"> by</font><font color="#CCCCCC"> chrome that's how</font>

318
00:10:46,760 --> 00:10:50,930
CT works that's<font color="#E5E5E5"> how it's making us safer</font>

319
00:10:48,500 --> 00:10:52,580
<font color="#CCCCCC">but we're not really here</font><font color="#E5E5E5"> to spend all</font>

320
00:10:50,930 --> 00:10:55,069
day<font color="#CCCCCC"> talking about how CT is awesome</font>

321
00:10:52,580 --> 00:10:58,640
we're here to talk<font color="#E5E5E5"> today about how CT</font>

322
00:10:55,070 --> 00:11:00,170
can be abused<font color="#E5E5E5"> so that's so after kind of</font>

323
00:10:58,640 --> 00:11:02,540
<font color="#CCCCCC">learning</font><font color="#E5E5E5"> about this whole</font><font color="#CCCCCC"> ecosystem</font><font color="#E5E5E5"> I</font>

324
00:11:00,170 --> 00:11:05,300
sat down<font color="#E5E5E5"> it was</font><font color="#CCCCCC"> like alright</font><font color="#E5E5E5"> this is a</font>

325
00:11:02,540 --> 00:11:06,230
new toy<font color="#E5E5E5"> what can I do with</font><font color="#CCCCCC"> it</font><font color="#E5E5E5"> so the</font>

326
00:11:05,300 --> 00:11:07,819
first thing in the thing

327
00:11:06,230 --> 00:11:09,860
that we've heard<font color="#CCCCCC"> people talk about a lot</font>

328
00:11:07,820 --> 00:11:12,140
is that<font color="#E5E5E5"> CT logs provide a way for</font>

329
00:11:09,860 --> 00:11:14,720
attackers<font color="#CCCCCC"> or pen testers to</font>

330
00:11:12,140 --> 00:11:17,270
infrastructure<font color="#E5E5E5"> reconnaissance so anytime</font>

331
00:11:14,720 --> 00:11:18,380
<font color="#E5E5E5">a certificate is created for some kind</font>

332
00:11:17,270 --> 00:11:20,420
of web service whether<font color="#E5E5E5"> that's an</font>

333
00:11:18,380 --> 00:11:23,300
internal<font color="#CCCCCC"> service or an external one</font><font color="#E5E5E5"> it</font>

334
00:11:20,420 --> 00:11:25,010
has to<font color="#CCCCCC"> show up in these public logs so</font>

335
00:11:23,300 --> 00:11:27,410
you can enumerate<font color="#E5E5E5"> internal or external</font>

336
00:11:25,010 --> 00:11:29,330
domains that are potentially interesting

337
00:11:27,410 --> 00:11:32,030
so you can search for<font color="#E5E5E5"> admin microsoft</font>

338
00:11:29,330 --> 00:11:33,770
comm<font color="#CCCCCC"> and see what shows</font><font color="#E5E5E5"> up and in</font>

339
00:11:32,030 --> 00:11:35,630
<font color="#E5E5E5">particular you can probe all of these</font>

340
00:11:33,770 --> 00:11:37,970
domains<font color="#E5E5E5"> from</font><font color="#CCCCCC"> an external vantage point</font>

341
00:11:35,630 --> 00:11:39,710
and see which ones don't<font color="#E5E5E5"> respond</font><font color="#CCCCCC"> so if</font>

342
00:11:37,970 --> 00:11:41,300
you ever get a foothold into a corporate

343
00:11:39,710 --> 00:11:43,370
network if an attacker gets<font color="#E5E5E5"> that</font>

344
00:11:41,300 --> 00:11:45,380
foothold<font color="#CCCCCC"> then they know which ones are</font>

345
00:11:43,370 --> 00:11:47,000
<font color="#E5E5E5">probably internal ones and may have</font>

346
00:11:45,380 --> 00:11:49,310
nothing<font color="#E5E5E5"> more than that</font><font color="#CCCCCC"> Network</font><font color="#E5E5E5"> perimeter</font>

347
00:11:47,000 --> 00:11:51,650
protecting them so<font color="#CCCCCC"> I ran a search</font><font color="#E5E5E5"> for</font>

348
00:11:49,310 --> 00:11:53,119
admin microsoft<font color="#E5E5E5"> comm and lots of things</font>

349
00:11:51,650 --> 00:11:54,949
popped out here's a bunch of billing

350
00:11:53,120 --> 00:11:57,140
admin consoles that<font color="#E5E5E5"> showed up in the CT</font>

351
00:11:54,950 --> 00:11:58,370
logs<font color="#CCCCCC"> I didn't</font><font color="#E5E5E5"> actually go probing these</font>

352
00:11:57,140 --> 00:11:59,780
things I don't<font color="#CCCCCC"> know if</font><font color="#E5E5E5"> they're internal</font>

353
00:11:58,370 --> 00:12:01,460
or external or not I don't<font color="#CCCCCC"> even know</font><font color="#E5E5E5"> if</font>

354
00:11:59,780 --> 00:12:03,709
they<font color="#CCCCCC"> still exist some of these had</font>

355
00:12:01,460 --> 00:12:06,770
<font color="#E5E5E5">expired but they're there and</font><font color="#CCCCCC"> there</font><font color="#E5E5E5"> are</font>

356
00:12:03,710 --> 00:12:08,570
<font color="#CCCCCC">a matter of</font><font color="#E5E5E5"> public record so something</font>

357
00:12:06,770 --> 00:12:10,100
else that's important about<font color="#E5E5E5"> the CT logs</font>

358
00:12:08,570 --> 00:12:11,900
is that they do include the<font color="#E5E5E5"> entire</font>

359
00:12:10,100 --> 00:12:14,120
certificate and that<font color="#E5E5E5"> includes the public</font>

360
00:12:11,900 --> 00:12:16,699
key that<font color="#E5E5E5"> corresponds to that</font><font color="#CCCCCC"> certificate</font>

361
00:12:14,120 --> 00:12:18,080
<font color="#E5E5E5">and so if there's any sort of problem</font>

362
00:12:16,700 --> 00:12:20,210
with<font color="#CCCCCC"> that key if there's any weaknesses</font>

363
00:12:18,080 --> 00:12:22,100
with that key<font color="#E5E5E5"> attackers can go looking</font>

364
00:12:20,210 --> 00:12:24,080
<font color="#CCCCCC">through the logs</font><font color="#E5E5E5"> and find those keys</font>

365
00:12:22,100 --> 00:12:25,460
that they can ultimately break<font color="#E5E5E5"> so there</font>

366
00:12:24,080 --> 00:12:27,830
was a talk presented at<font color="#E5E5E5"> Def Con last</font>

367
00:12:25,460 --> 00:12:30,230
<font color="#E5E5E5">year that was about breaking keys at</font>

368
00:12:27,830 --> 00:12:33,170
scale and using big data<font color="#CCCCCC"> to break RSA</font>

369
00:12:30,230 --> 00:12:35,030
<font color="#E5E5E5">keys and what they did among many other</font>

370
00:12:33,170 --> 00:12:36,620
things<font color="#E5E5E5"> is basically scraped a whole</font>

371
00:12:35,030 --> 00:12:38,510
bunch of certificates by<font color="#E5E5E5"> scanning the</font>

372
00:12:36,620 --> 00:12:41,330
internet<font color="#E5E5E5"> and scanning CT logs and</font>

373
00:12:38,510 --> 00:12:42,980
running some<font color="#E5E5E5"> GCD algorithms to factor</font>

374
00:12:41,330 --> 00:12:45,950
RSA keys and ultimately they were able

375
00:12:42,980 --> 00:12:47,330
to<font color="#E5E5E5"> get</font><font color="#CCCCCC"> out</font><font color="#E5E5E5"> to break the keys over 200</font>

376
00:12:45,950 --> 00:12:49,760
certificates that<font color="#E5E5E5"> they pulled out</font><font color="#CCCCCC"> of the</font>

377
00:12:47,330 --> 00:12:51,380
CT logs<font color="#CCCCCC"> and this is a little</font><font color="#E5E5E5"> terrifying</font>

378
00:12:49,760 --> 00:12:52,819
right if there's anything wrong<font color="#CCCCCC"> with</font><font color="#E5E5E5"> how</font>

379
00:12:51,380 --> 00:12:54,439
you're generating<font color="#E5E5E5"> the keys for your</font>

380
00:12:52,820 --> 00:12:56,090
certificates<font color="#CCCCCC"> whether it's because you're</font>

381
00:12:54,440 --> 00:12:57,740
<font color="#E5E5E5">running in the cloud so you had a</font><font color="#CCCCCC"> weak</font>

382
00:12:56,090 --> 00:12:59,780
entropy pool or you're running<font color="#E5E5E5"> on an</font>

383
00:12:57,740 --> 00:13:01,120
embedded<font color="#CCCCCC"> device and it's just started up</font>

384
00:12:59,780 --> 00:13:03,530
and didn't have<font color="#CCCCCC"> a great</font><font color="#E5E5E5"> entropy pool</font>

385
00:13:01,120 --> 00:13:04,850
<font color="#CCCCCC">there are attackers out there looking</font>

386
00:13:03,530 --> 00:13:07,819
for<font color="#CCCCCC"> these keys and they're gonna find</font>

387
00:13:04,850 --> 00:13:09,800
<font color="#E5E5E5">out if your domain is vulnerable</font><font color="#CCCCCC"> to just</font>

388
00:13:07,820 --> 00:13:11,360
factoring the key and then masquerading

389
00:13:09,800 --> 00:13:13,040
is your<font color="#E5E5E5"> website so that's a little</font>

390
00:13:11,360 --> 00:13:15,320
terrifying right you should be<font color="#E5E5E5"> paranoid</font>

391
00:13:13,040 --> 00:13:17,329
<font color="#E5E5E5">that like your crypto has to be perfect</font>

392
00:13:15,320 --> 00:13:19,760
now<font color="#E5E5E5"> otherwise attackers are gonna be on</font>

393
00:13:17,330 --> 00:13:20,160
the<font color="#CCCCCC"> lookout for</font><font color="#E5E5E5"> it but what I thought</font>

394
00:13:19,760 --> 00:13:22,319
<font color="#E5E5E5">was</font>

395
00:13:20,160 --> 00:13:24,719
one of the most interesting consequences

396
00:13:22,320 --> 00:13:26,850
of the CT logs<font color="#CCCCCC"> is that it's a persistent</font>

397
00:13:24,720 --> 00:13:30,180
<font color="#E5E5E5">data storage of all the certificates</font>

398
00:13:26,850 --> 00:13:32,610
<font color="#CCCCCC">that are</font><font color="#E5E5E5"> ever created</font><font color="#CCCCCC"> so CAS</font><font color="#E5E5E5"> have to</font>

399
00:13:30,180 --> 00:13:34,380
publish<font color="#E5E5E5"> CT logs in order</font><font color="#CCCCCC"> they have to</font>

400
00:13:32,610 --> 00:13:37,410
<font color="#E5E5E5">publish the certs into the CT logs</font><font color="#CCCCCC"> in</font>

401
00:13:34,380 --> 00:13:40,770
order to get those<font color="#CCCCCC"> SC</font><font color="#E5E5E5"> T's a CT log can</font>

402
00:13:37,410 --> 00:13:43,439
never what<font color="#E5E5E5"> it has to add the cert to the</font>

403
00:13:40,770 --> 00:13:45,930
log and it can never remove those

404
00:13:43,440 --> 00:13:47,850
entries and the CT logs<font color="#CCCCCC"> had</font><font color="#E5E5E5"> to be</font>

405
00:13:45,930 --> 00:13:49,349
<font color="#CCCCCC">available and be presenting those</font>

406
00:13:47,850 --> 00:13:50,970
certificates back to anyone<font color="#E5E5E5"> who queries</font>

407
00:13:49,350 --> 00:13:52,860
otherwise that law is<font color="#E5E5E5"> considered to</font>

408
00:13:50,970 --> 00:13:54,840
<font color="#CCCCCC">misbehave and so I was kind of thinking</font>

409
00:13:52,860 --> 00:13:57,330
through like what all this<font color="#E5E5E5"> meant and I</font>

410
00:13:54,840 --> 00:13:59,790
had like<font color="#E5E5E5"> a</font><font color="#CCCCCC"> whoa moment</font><font color="#E5E5E5"> I'm like okay so</font>

411
00:13:57,330 --> 00:14:01,200
anyone can<font color="#E5E5E5"> create a</font><font color="#CCCCCC"> certificate</font><font color="#E5E5E5"> with one</font>

412
00:13:59,790 --> 00:14:03,000
<font color="#E5E5E5">of these CAS and then that certificate</font>

413
00:14:01,200 --> 00:14:04,830
<font color="#CCCCCC">has to go into logs</font><font color="#E5E5E5"> and then that</font>

414
00:14:03,000 --> 00:14:08,040
certificate<font color="#E5E5E5"> can never get removed from</font>

415
00:14:04,830 --> 00:14:09,450
logs<font color="#E5E5E5"> like all right so that means I can</font>

416
00:14:08,040 --> 00:14:12,240
put<font color="#E5E5E5"> something in the CT logs and then it</font>

417
00:14:09,450 --> 00:14:14,180
never<font color="#E5E5E5"> goes away</font><font color="#CCCCCC"> so what</font><font color="#E5E5E5"> what does</font><font color="#CCCCCC"> that</font>

418
00:14:12,240 --> 00:14:16,170
mean exactly<font color="#CCCCCC"> so here's an example</font>

419
00:14:14,180 --> 00:14:17,790
certificate so I'm actually gonna pull

420
00:14:16,170 --> 00:14:19,920
this up<font color="#E5E5E5"> look at the CT logs right now</font>

421
00:14:17,790 --> 00:14:22,079
it's issued by let's encrypt it's got a

422
00:14:19,920 --> 00:14:23,459
public<font color="#E5E5E5"> key</font><font color="#CCCCCC"> yada yada yada and then you</font>

423
00:14:22,080 --> 00:14:26,130
get to the domain<font color="#CCCCCC"> name and it's like</font>

424
00:14:23,460 --> 00:14:29,550
that's<font color="#E5E5E5"> interesting there's clearly some</font>

425
00:14:26,130 --> 00:14:31,890
structure<font color="#E5E5E5"> to these domain</font><font color="#CCCCCC"> names</font><font color="#E5E5E5"> what</font>

426
00:14:29,550 --> 00:14:34,229
<font color="#E5E5E5">exactly is going on here so let me play</font>

427
00:14:31,890 --> 00:14:36,360
a<font color="#E5E5E5"> quick video that sort of goes through</font>

428
00:14:34,230 --> 00:14:37,950
pulling<font color="#E5E5E5"> down the certificate and kind</font><font color="#CCCCCC"> of</font>

429
00:14:36,360 --> 00:14:40,760
munging those domain names a little<font color="#E5E5E5"> bit</font>

430
00:14:37,950 --> 00:14:42,930
so<font color="#CCCCCC"> that</font><font color="#E5E5E5"> we can see what's</font><font color="#CCCCCC"> actually</font>

431
00:14:40,760 --> 00:14:44,700
basically<font color="#E5E5E5"> been encoded into that</font>

432
00:14:42,930 --> 00:14:46,859
certificate<font color="#CCCCCC"> so first we're just pulling</font>

433
00:14:44,700 --> 00:14:48,780
<font color="#E5E5E5">that thing down and getting all the host</font>

434
00:14:46,860 --> 00:14:50,010
names out<font color="#CCCCCC"> of it so here's</font><font color="#E5E5E5"> exactly the</font>

435
00:14:48,780 --> 00:14:51,660
same set<font color="#CCCCCC"> of host names he just saw</font>

436
00:14:50,010 --> 00:14:53,400
<font color="#E5E5E5">before so</font><font color="#CCCCCC"> we're gonna clean it up</font><font color="#E5E5E5"> a</font>

437
00:14:51,660 --> 00:14:55,829
<font color="#CCCCCC">little bit replace that</font><font color="#E5E5E5"> DNS colon with</font>

438
00:14:53,400 --> 00:15:00,240
<font color="#CCCCCC">newline</font><font color="#E5E5E5"> so we get each host name on its</font>

439
00:14:55,830 --> 00:15:02,430
own line then we're gonna so we've got

440
00:15:00,240 --> 00:15:04,140
these<font color="#E5E5E5"> leading well so first of all we've</font>

441
00:15:02,430 --> 00:15:05,819
<font color="#CCCCCC">got that common suffix</font><font color="#E5E5E5"> on the end of all</font>

442
00:15:04,140 --> 00:15:08,010
these domains<font color="#E5E5E5"> that's clearly not</font><font color="#CCCCCC"> useful</font>

443
00:15:05,820 --> 00:15:09,390
information we'll throw<font color="#CCCCCC"> that away and</font>

444
00:15:08,010 --> 00:15:11,850
<font color="#E5E5E5">then we got these leading numbers at the</font>

445
00:15:09,390 --> 00:15:13,500
top<font color="#E5E5E5"> which are basically there to order</font>

446
00:15:11,850 --> 00:15:14,670
these host names because when a CA makes

447
00:15:13,500 --> 00:15:17,460
a search it's not necessarily<font color="#E5E5E5"> gonna</font>

448
00:15:14,670 --> 00:15:18,750
honor<font color="#CCCCCC"> your</font><font color="#E5E5E5"> ordering so we use that</font>

449
00:15:17,460 --> 00:15:21,600
number to<font color="#E5E5E5"> figure out how to sort these</font>

450
00:15:18,750 --> 00:15:23,970
<font color="#E5E5E5">we sort them</font><font color="#CCCCCC"> according to</font><font color="#E5E5E5"> that numbering</font>

451
00:15:21,600 --> 00:15:26,490
<font color="#E5E5E5">now we're going to remove any trailing</font>

452
00:15:23,970 --> 00:15:28,740
noise get rid of<font color="#CCCCCC"> those numbers</font><font color="#E5E5E5"> last</font>

453
00:15:26,490 --> 00:15:30,900
thing<font color="#E5E5E5"> we'll remove any dots or commas</font>

454
00:15:28,740 --> 00:15:32,820
that<font color="#E5E5E5"> are left in here and so what we end</font>

455
00:15:30,900 --> 00:15:33,579
<font color="#E5E5E5">up</font><font color="#CCCCCC"> with is just you</font><font color="#E5E5E5"> know that cleaned up</font>

456
00:15:32,820 --> 00:15:35,950
<font color="#E5E5E5">data set</font>

457
00:15:33,580 --> 00:15:39,340
those host names with<font color="#E5E5E5"> the prefix</font><font color="#CCCCCC"> and</font><font color="#E5E5E5"> the</font>

458
00:15:35,950 --> 00:15:40,600
Suffolk stripped off<font color="#E5E5E5"> so last up we're</font>

459
00:15:39,340 --> 00:15:41,950
<font color="#E5E5E5">gonna take that data we're gonna</font>

460
00:15:40,600 --> 00:15:45,400
translate it from<font color="#CCCCCC"> lowercase uppercase</font>

461
00:15:41,950 --> 00:15:47,230
<font color="#E5E5E5">because space 32 decoder is picky</font><font color="#CCCCCC"> and</font>

462
00:15:45,400 --> 00:15:49,410
I'll talk about why we're<font color="#CCCCCC"> doing base 32</font>

463
00:15:47,230 --> 00:15:57,010
encoding later<font color="#E5E5E5"> but what we get out is</font>

464
00:15:49,410 --> 00:15:59,380
<font color="#CCCCCC">jpg cool</font><font color="#E5E5E5"> so that's an example of what I</font>

465
00:15:57,010 --> 00:16:03,120
mean<font color="#CCCCCC"> by you can put</font><font color="#E5E5E5"> data into</font><font color="#CCCCCC"> CT logs</font>

466
00:15:59,380 --> 00:16:05,500
<font color="#E5E5E5">and then it is bare right so all</font><font color="#CCCCCC"> right</font>

467
00:16:03,120 --> 00:16:07,720
<font color="#E5E5E5">exactly how interesting is this how much</font>

468
00:16:05,500 --> 00:16:08,860
<font color="#E5E5E5">data can you really put into</font><font color="#CCCCCC"> CT logs all</font>

469
00:16:07,720 --> 00:16:11,950
right because that<font color="#E5E5E5"> was a bunch of crazy</font>

470
00:16:08,860 --> 00:16:14,470
encoding magic and certificates are only

471
00:16:11,950 --> 00:16:16,390
<font color="#E5E5E5">so big so how much data can</font><font color="#CCCCCC"> you put in a</font>

472
00:16:14,470 --> 00:16:18,160
certificate<font color="#CCCCCC"> so let's encrypt which is</font>

473
00:16:16,390 --> 00:16:19,720
the free<font color="#E5E5E5"> Ca we all know and love</font><font color="#CCCCCC"> let's</font>

474
00:16:18,160 --> 00:16:22,270
you put up to a hundred host names in a

475
00:16:19,720 --> 00:16:23,560
certificate<font color="#CCCCCC"> a host name can be</font><font color="#E5E5E5"> up to</font><font color="#CCCCCC"> two</font>

476
00:16:22,270 --> 00:16:25,949
<font color="#E5E5E5">hundred</font><font color="#CCCCCC"> and</font><font color="#E5E5E5"> thirty characters according</font>

477
00:16:23,560 --> 00:16:29,469
<font color="#CCCCCC">to let's</font><font color="#E5E5E5"> encrypts</font><font color="#CCCCCC"> limit minus</font><font color="#E5E5E5"> the dots</font>

478
00:16:25,950 --> 00:16:31,330
and any character that's alphanumeric

479
00:16:29,470 --> 00:16:33,430
can be put into a host name but it's not

480
00:16:31,330 --> 00:16:35,740
<font color="#CCCCCC">case-sensitive so if you're trying to</font>

481
00:16:33,430 --> 00:16:37,449
encode data<font color="#E5E5E5"> using just alpha numerics in</font>

482
00:16:35,740 --> 00:16:40,420
a case insensitive way that's why you'd

483
00:16:37,450 --> 00:16:42,160
end up using base 32<font color="#CCCCCC"> so given that</font><font color="#E5E5E5"> the</font>

484
00:16:40,420 --> 00:16:44,140
shortest domain name that<font color="#CCCCCC"> you</font><font color="#E5E5E5"> can buy</font>

485
00:16:42,160 --> 00:16:46,930
nowadays is gonna be a<font color="#E5E5E5"> six character or</font>

486
00:16:44,140 --> 00:16:49,300
suffix you can basically encode 230

487
00:16:46,930 --> 00:16:52,180
<font color="#E5E5E5">characters - four dots - that six</font>

488
00:16:49,300 --> 00:16:53,949
character suffix<font color="#E5E5E5"> times 99 sans and</font>

489
00:16:52,180 --> 00:16:55,390
<font color="#CCCCCC">assert</font><font color="#E5E5E5"> I subtract one because one goes</font>

490
00:16:53,950 --> 00:16:58,090
in the common name and<font color="#E5E5E5"> let's just ignore</font>

491
00:16:55,390 --> 00:16:59,710
<font color="#E5E5E5">that</font><font color="#CCCCCC"> basically - encoding you get a five</font>

492
00:16:58,090 --> 00:17:01,300
<font color="#E5E5E5">over</font><font color="#CCCCCC"> eight compression ratio basically</font>

493
00:16:59,710 --> 00:17:03,820
you can get about<font color="#CCCCCC"> thirteen</font><font color="#E5E5E5"> K into a</font>

494
00:17:01,300 --> 00:17:05,379
certificate<font color="#E5E5E5"> so</font><font color="#CCCCCC"> alright that's kind of</font>

495
00:17:03,820 --> 00:17:07,360
<font color="#CCCCCC">okay it's enough</font><font color="#E5E5E5"> to get</font><font color="#CCCCCC"> a like low</font>

496
00:17:05,380 --> 00:17:09,070
quality JPEG into a certificate like<font color="#E5E5E5"> I</font>

497
00:17:07,359 --> 00:17:10,958
<font color="#E5E5E5">just showed you but maybe it's</font><font color="#CCCCCC"> not</font>

498
00:17:09,069 --> 00:17:13,569
<font color="#E5E5E5">actually that interesting of</font><font color="#CCCCCC"> a thing</font><font color="#E5E5E5"> to</font>

499
00:17:10,959 --> 00:17:15,250
do so<font color="#E5E5E5"> but you know we're computer</font>

500
00:17:13,569 --> 00:17:17,260
scientists right we we know how to kind

501
00:17:15,250 --> 00:17:20,380
<font color="#E5E5E5">of address problems of limited sizes per</font>

502
00:17:17,260 --> 00:17:22,089
unit<font color="#E5E5E5"> you use chunking right so you can</font>

503
00:17:20,380 --> 00:17:24,280
chunk your data<font color="#E5E5E5"> up into multiple pieces</font>

504
00:17:22,089 --> 00:17:26,310
and then throw all those different

505
00:17:24,280 --> 00:17:28,660
<font color="#E5E5E5">pieces into</font><font color="#CCCCCC"> your</font><font color="#E5E5E5"> storage mechanism and</font>

506
00:17:26,310 --> 00:17:30,669
what's important is<font color="#CCCCCC"> that when we mint a</font>

507
00:17:28,660 --> 00:17:32,320
certificate through a CA<font color="#E5E5E5"> they have to</font>

508
00:17:30,670 --> 00:17:34,750
<font color="#E5E5E5">include those</font><font color="#CCCCCC"> SE</font><font color="#E5E5E5"> T's with a certificate</font>

509
00:17:32,320 --> 00:17:37,090
<font color="#CCCCCC">that comes</font><font color="#E5E5E5"> back and the entire point of</font>

510
00:17:34,750 --> 00:17:38,920
an<font color="#CCCCCC"> SE T is that</font><font color="#E5E5E5"> it tells you how to look</font>

511
00:17:37,090 --> 00:17:41,290
up<font color="#E5E5E5"> that</font><font color="#CCCCCC"> certificate in the certificate</font>

512
00:17:38,920 --> 00:17:42,460
transparency<font color="#CCCCCC"> logged later so the next</font>

513
00:17:41,290 --> 00:17:44,620
time we meant to<font color="#E5E5E5"> the certificate that</font>

514
00:17:42,460 --> 00:17:47,410
<font color="#CCCCCC">has our next</font><font color="#E5E5E5"> chunk of data in it we can</font>

515
00:17:44,620 --> 00:17:50,080
<font color="#E5E5E5">include</font><font color="#CCCCCC"> that information</font><font color="#E5E5E5"> on how to go</font>

516
00:17:47,410 --> 00:17:51,790
previous certificate<font color="#E5E5E5"> from the CT logs so</font>

517
00:17:50,080 --> 00:17:54,429
first piece of<font color="#CCCCCC"> data you</font><font color="#E5E5E5"> put up there</font>

518
00:17:51,790 --> 00:17:56,110
<font color="#E5E5E5">it's just</font><font color="#CCCCCC"> the first data chunk</font><font color="#E5E5E5"> but then</font>

519
00:17:54,430 --> 00:17:57,760
the<font color="#E5E5E5"> next one includes a reference back</font>

520
00:17:56,110 --> 00:17:59,830
to the previous certificate<font color="#E5E5E5"> about how to</font>

521
00:17:57,760 --> 00:18:00,850
find that<font color="#CCCCCC"> certificate in</font><font color="#E5E5E5"> the CT logs and</font>

522
00:17:59,830 --> 00:18:02,199
so forth

523
00:18:00,850 --> 00:18:04,209
so<font color="#E5E5E5"> you can end up shoving arbitrarily</font>

524
00:18:02,200 --> 00:18:06,490
large data up into the CT logs that's

525
00:18:04,210 --> 00:18:07,990
changed this way<font color="#E5E5E5"> and</font><font color="#CCCCCC"> alright that's a</font>

526
00:18:06,490 --> 00:18:11,620
bit more<font color="#E5E5E5"> complicated than these sort of</font>

527
00:18:07,990 --> 00:18:13,660
like<font color="#E5E5E5"> BIM cat grep food that we showed</font>

528
00:18:11,620 --> 00:18:15,520
you<font color="#E5E5E5"> on</font><font color="#CCCCCC"> the on that video you</font><font color="#E5E5E5"> really kind</font>

529
00:18:13,660 --> 00:18:16,870
of need<font color="#CCCCCC"> a tool to do that to</font>

530
00:18:15,520 --> 00:18:19,000
intelligently pull down the chain of

531
00:18:16,870 --> 00:18:21,340
<font color="#E5E5E5">certificates so I created a tool for</font>

532
00:18:19,000 --> 00:18:24,490
<font color="#CCCCCC">that it's called cat log and it's for</font>

533
00:18:21,340 --> 00:18:27,340
putting cat into CT log<font color="#CCCCCC"> all right so</font>

534
00:18:24,490 --> 00:18:28,840
what does<font color="#E5E5E5"> catalog do so it's an open</font>

535
00:18:27,340 --> 00:18:30,520
source<font color="#E5E5E5"> tool</font><font color="#CCCCCC"> it's written in Python you</font>

536
00:18:28,840 --> 00:18:32,439
<font color="#CCCCCC">can go check it out</font><font color="#E5E5E5"> and play with</font><font color="#CCCCCC"> it</font><font color="#E5E5E5"> but</font>

537
00:18:30,520 --> 00:18:34,389
it abstracts<font color="#E5E5E5"> the CT logs as a data</font>

538
00:18:32,440 --> 00:18:36,610
storage provider so it's got a push

539
00:18:34,390 --> 00:18:38,530
command<font color="#E5E5E5"> it's kind of modeled on get that</font>

540
00:18:36,610 --> 00:18:40,030
lets you push something<font color="#E5E5E5"> up there and</font>

541
00:18:38,530 --> 00:18:42,610
then it's in there forever<font color="#CCCCCC"> and then you</font>

542
00:18:40,030 --> 00:18:44,320
can pull<font color="#CCCCCC"> down files later</font><font color="#E5E5E5"> and it builds</font>

543
00:18:42,610 --> 00:18:46,300
<font color="#E5E5E5">an additional layer of abstraction on</font>

544
00:18:44,320 --> 00:18:48,460
top of that so<font color="#CCCCCC"> let's you put all of</font><font color="#E5E5E5"> your</font>

545
00:18:46,300 --> 00:18:50,260
files into<font color="#E5E5E5"> a box or all</font><font color="#CCCCCC"> of</font><font color="#E5E5E5"> your cat</font>

546
00:18:48,460 --> 00:18:52,960
pictures into a box as the case may be

547
00:18:50,260 --> 00:18:54,850
<font color="#CCCCCC">so</font><font color="#E5E5E5"> you can run a command like cat log in</font>

548
00:18:52,960 --> 00:18:57,160
it and then give it a domain name<font color="#E5E5E5"> you</font>

549
00:18:54,850 --> 00:18:59,439
<font color="#CCCCCC">can push a few</font><font color="#E5E5E5"> files</font><font color="#CCCCCC"> then</font><font color="#E5E5E5"> you can run</font>

550
00:18:57,160 --> 00:19:01,780
<font color="#E5E5E5">catalog</font><font color="#CCCCCC"> commit which takes that index</font>

551
00:18:59,440 --> 00:19:04,030
that collection<font color="#E5E5E5"> of files and those</font>

552
00:19:01,780 --> 00:19:06,100
references<font color="#E5E5E5"> and puts that into CT logs</font>

553
00:19:04,030 --> 00:19:07,960
and then later<font color="#E5E5E5"> you or someone else can</font>

554
00:19:06,100 --> 00:19:10,389
run the catalog clone command<font color="#E5E5E5"> to get all</font>

555
00:19:07,960 --> 00:19:12,430
those files back down<font color="#CCCCCC"> out of it so let's</font>

556
00:19:10,390 --> 00:19:15,790
do a<font color="#E5E5E5"> demo real quick</font><font color="#CCCCCC"> so I've pushed a</font>

557
00:19:12,430 --> 00:19:17,500
bunch of files<font color="#E5E5E5"> up into CT logs</font><font color="#CCCCCC"> over the</font>

558
00:19:15,790 --> 00:19:19,389
last year and<font color="#E5E5E5"> so</font><font color="#CCCCCC"> I'm gonna start with an</font>

559
00:19:17,500 --> 00:19:21,340
empty<font color="#CCCCCC"> directory</font><font color="#E5E5E5"> I'm gonna run this cat</font>

560
00:19:19,390 --> 00:19:22,960
long cloak command and this<font color="#E5E5E5"> is live demo</font>

561
00:19:21,340 --> 00:19:25,830
<font color="#CCCCCC">so hopefully the</font><font color="#E5E5E5"> Internet's good and</font>

562
00:19:22,960 --> 00:19:29,290
this actually<font color="#E5E5E5"> works and we're waiting</font>

563
00:19:25,830 --> 00:19:34,270
waiting<font color="#CCCCCC"> Hey</font><font color="#E5E5E5"> all right it didn't give me</font>

564
00:19:29,290 --> 00:19:36,670
an error so<font color="#E5E5E5"> catalog status here's the oh</font>

565
00:19:34,270 --> 00:19:46,270
<font color="#CCCCCC">I cloned the wrong thing let me try</font>

566
00:19:36,670 --> 00:19:49,270
again<font color="#E5E5E5"> catalog</font><font color="#CCCCCC"> cloned</font><font color="#E5E5E5"> demo</font><font color="#CCCCCC"> cat log PW all</font>

567
00:19:46,270 --> 00:19:50,290
<font color="#E5E5E5">right trying one more time that's a</font>

568
00:19:49,270 --> 00:19:53,680
different demo<font color="#E5E5E5"> that I'm</font><font color="#CCCCCC"> going to show</font>

569
00:19:50,290 --> 00:19:54,340
<font color="#E5E5E5">you in a minute and it's still taking</font><font color="#CCCCCC"> a</font>

570
00:19:53,680 --> 00:19:58,000
while<font color="#E5E5E5"> all right</font>

571
00:19:54,340 --> 00:19:59,679
so catalog status<font color="#E5E5E5"> there we go this is</font>

572
00:19:58,000 --> 00:20:00,970
<font color="#E5E5E5">these</font><font color="#CCCCCC"> are all the files that</font><font color="#E5E5E5"> I've been</font>

573
00:19:59,680 --> 00:20:03,760
uploading

574
00:20:00,970 --> 00:20:06,580
there's a lot of<font color="#CCCCCC"> them so let's let's</font>

575
00:20:03,760 --> 00:20:09,100
pick<font color="#CCCCCC"> one at random and ducat</font><font color="#E5E5E5"> log pool on</font>

576
00:20:06,580 --> 00:20:10,990
it<font color="#E5E5E5"> so what you can see here</font><font color="#CCCCCC"> is now it's</font>

577
00:20:09,100 --> 00:20:12,549
<font color="#E5E5E5">actually hitting all the CT logs pull</font>

578
00:20:10,990 --> 00:20:15,960
down all the<font color="#E5E5E5"> certificates it needs in</font>

579
00:20:12,549 --> 00:20:18,760
order<font color="#CCCCCC"> to reconstruct</font><font color="#E5E5E5"> this data and this</font>

580
00:20:15,960 --> 00:20:21,370
<font color="#E5E5E5">and none of this is actually</font><font color="#CCCCCC"> hitting any</font>

581
00:20:18,760 --> 00:20:23,679
domains I<font color="#E5E5E5"> own or host this is all just</font>

582
00:20:21,370 --> 00:20:25,270
<font color="#CCCCCC">going directly to</font><font color="#E5E5E5"> the</font><font color="#CCCCCC"> CP logs</font><font color="#E5E5E5"> in fact</font>

583
00:20:23,679 --> 00:20:27,130
when these domains expire and I have no

584
00:20:25,270 --> 00:20:29,110
intent of renewing them<font color="#CCCCCC"> this data will</font>

585
00:20:27,130 --> 00:20:30,820
still<font color="#E5E5E5"> be in CT logs</font><font color="#CCCCCC"> I don't have to own</font>

586
00:20:29,110 --> 00:20:33,580
these domains anymore<font color="#E5E5E5"> for this to be</font>

587
00:20:30,820 --> 00:20:35,678
<font color="#E5E5E5">available so</font><font color="#CCCCCC"> there's my cat file</font><font color="#E5E5E5"> and I</font>

588
00:20:33,580 --> 00:20:41,830
can<font color="#CCCCCC"> open</font><font color="#E5E5E5"> it up and it's a picture of a</font>

589
00:20:35,679 --> 00:20:43,780
<font color="#E5E5E5">cat</font><font color="#CCCCCC"> right so let me</font><font color="#E5E5E5"> do one</font><font color="#CCCCCC"> more let's</font>

590
00:20:41,830 --> 00:20:45,639
<font color="#CCCCCC">start pulling</font><font color="#E5E5E5"> this down</font><font color="#CCCCCC"> so this</font><font color="#E5E5E5"> is a</font>

591
00:20:43,780 --> 00:20:47,379
video file and<font color="#CCCCCC"> this</font><font color="#E5E5E5"> files about five</font>

592
00:20:45,640 --> 00:20:48,940
Meg's it's spread over<font color="#E5E5E5"> around three</font>

593
00:20:47,380 --> 00:20:50,919
<font color="#E5E5E5">hundred</font><font color="#CCCCCC"> and</font><font color="#E5E5E5"> fifty certificates so this</font>

594
00:20:48,940 --> 00:20:51,850
is actually<font color="#CCCCCC"> gonna take a while so</font><font color="#E5E5E5"> I'm</font>

595
00:20:50,919 --> 00:20:53,200
actually<font color="#E5E5E5"> gonna flip back to the slides</font>

596
00:20:51,850 --> 00:20:57,610
and if you've got<font color="#E5E5E5"> some time at the end</font>

597
00:20:53,200 --> 00:20:59,080
<font color="#E5E5E5">we'll come back to it but that's those</font>

598
00:20:57,610 --> 00:21:00,639
<font color="#CCCCCC">are a bunch of</font><font color="#E5E5E5"> ideas about how he can</font>

599
00:20:59,080 --> 00:21:01,899
<font color="#CCCCCC">abused certificate transparency logs</font><font color="#E5E5E5"> and</font>

600
00:21:00,640 --> 00:21:03,580
now I'm gonna<font color="#E5E5E5"> turn it over to Scott</font><font color="#CCCCCC"> to</font>

601
00:21:01,900 --> 00:21:05,409
talk<font color="#CCCCCC"> about are there other people</font><font color="#E5E5E5"> doing</font>

602
00:21:03,580 --> 00:21:08,830
this<font color="#E5E5E5"> hey everybody</font>

603
00:21:05,409 --> 00:21:11,590
okay so when<font color="#CCCCCC"> Ian</font><font color="#E5E5E5"> was</font><font color="#CCCCCC"> originally</font>

604
00:21:08,830 --> 00:21:12,820
discussing this idea with me<font color="#E5E5E5"> I first</font>

605
00:21:11,590 --> 00:21:14,379
thought I had was<font color="#CCCCCC"> like we can't be the</font>

606
00:21:12,820 --> 00:21:16,120
only<font color="#E5E5E5"> people who thought of this right</font>

607
00:21:14,380 --> 00:21:18,490
like because we've seen folks sort<font color="#E5E5E5"> of</font>

608
00:21:16,120 --> 00:21:20,469
<font color="#E5E5E5">abused sort of blockchain style</font>

609
00:21:18,490 --> 00:21:21,610
technologies in bed data permanently in

610
00:21:20,470 --> 00:21:22,720
the internet before<font color="#E5E5E5"> so it seemed really</font>

611
00:21:21,610 --> 00:21:25,299
<font color="#E5E5E5">similar to</font><font color="#CCCCCC"> that I figure we weren't</font>

612
00:21:22,720 --> 00:21:26,679
probably the first folks so when I was

613
00:21:25,299 --> 00:21:28,000
approaching<font color="#CCCCCC"> the research</font><font color="#E5E5E5"> component of</font>

614
00:21:26,679 --> 00:21:28,780
this<font color="#E5E5E5"> to see</font><font color="#CCCCCC"> if we had any evidence of</font>

615
00:21:28,000 --> 00:21:30,610
folks<font color="#E5E5E5"> doing this</font>

616
00:21:28,780 --> 00:21:32,678
my hypothesis going in was to look<font color="#E5E5E5"> for</font>

617
00:21:30,610 --> 00:21:34,149
<font color="#CCCCCC">large certificates with many sans right</font>

618
00:21:32,679 --> 00:21:36,520
so<font color="#E5E5E5"> like let's look for ones</font><font color="#CCCCCC"> that have a</font>

619
00:21:34,150 --> 00:21:38,080
lot of<font color="#E5E5E5"> data that</font><font color="#CCCCCC"> are kind of outliers if</font>

620
00:21:36,520 --> 00:21:40,450
we were to<font color="#E5E5E5"> run a distribution we kind of</font>

621
00:21:38,080 --> 00:21:42,490
show up on the high end<font color="#CCCCCC"> of</font><font color="#E5E5E5"> the</font><font color="#CCCCCC"> z-index I</font>

622
00:21:40,450 --> 00:21:44,980
wanted to do two things<font color="#E5E5E5"> with those large</font>

623
00:21:42,490 --> 00:21:46,150
certificates calculate entropy<font color="#E5E5E5"> to look</font>

624
00:21:44,980 --> 00:21:47,470
for evidence of<font color="#E5E5E5"> encryption I thought</font>

625
00:21:46,150 --> 00:21:49,150
<font color="#E5E5E5">this would be potentially an interesting</font>

626
00:21:47,470 --> 00:21:50,679
<font color="#CCCCCC">mechanism for C to maybe you</font><font color="#E5E5E5"> had your</font>

627
00:21:49,150 --> 00:21:52,150
command set stored in these<font color="#E5E5E5"> persistent</font>

628
00:21:50,679 --> 00:21:53,200
logs but you might encrypt that<font color="#E5E5E5"> cuz you</font>

629
00:21:52,150 --> 00:21:54,789
<font color="#E5E5E5">don't focus to know what you're doing</font>

630
00:21:53,200 --> 00:21:57,370
and then I was<font color="#E5E5E5"> also looking for magic</font>

631
00:21:54,789 --> 00:21:59,408
numbers so for<font color="#E5E5E5"> those who</font><font color="#CCCCCC"> aren't</font><font color="#E5E5E5"> familiar</font>

632
00:21:57,370 --> 00:22:01,120
with magic numbers these<font color="#E5E5E5"> are like a</font>

633
00:21:59,409 --> 00:22:03,309
constant number<font color="#E5E5E5"> that you'll find in the</font>

634
00:22:01,120 --> 00:22:05,559
<font color="#E5E5E5">file format that's used to identify that</font>

635
00:22:03,309 --> 00:22:08,620
file so here's a couple example<font color="#E5E5E5"> for gifs</font>

636
00:22:05,559 --> 00:22:09,850
jpegs and elf binary formats<font color="#E5E5E5"> so I wanted</font>

637
00:22:08,620 --> 00:22:11,559
<font color="#E5E5E5">to make sure we were checking for those</font>

638
00:22:09,850 --> 00:22:12,850
things within the<font color="#CCCCCC"> sans certificates and</font>

639
00:22:11,559 --> 00:22:14,850
the event<font color="#E5E5E5"> that they were storing some</font>

640
00:22:12,850 --> 00:22:17,649
sort of<font color="#E5E5E5"> media</font>

641
00:22:14,850 --> 00:22:19,480
and I'll be in<font color="#CCCCCC"> order to help</font><font color="#E5E5E5"> me use to</font>

642
00:22:17,650 --> 00:22:21,580
do this<font color="#CCCCCC"> research</font><font color="#E5E5E5"> I used an</font><font color="#CCCCCC"> open-source</font>

643
00:22:19,480 --> 00:22:23,710
<font color="#E5E5E5">tool called</font><font color="#CCCCCC"> ax men that uses the async</font>

644
00:22:21,580 --> 00:22:25,449
<font color="#E5E5E5">i/o library in Python</font><font color="#CCCCCC"> to pull down</font><font color="#E5E5E5"> all</font>

645
00:22:23,710 --> 00:22:27,309
the<font color="#E5E5E5"> certificates from a certificate</font>

646
00:22:25,450 --> 00:22:28,750
transparency<font color="#E5E5E5"> log and it worked pretty</font>

647
00:22:27,309 --> 00:22:30,430
<font color="#E5E5E5">well</font><font color="#CCCCCC"> for my use case</font><font color="#E5E5E5"> but I had to make a</font>

648
00:22:28,750 --> 00:22:31,840
couple<font color="#E5E5E5"> of modifications to really make</font>

649
00:22:30,430 --> 00:22:38,470
it shine for what we wanted<font color="#E5E5E5"> to do on an</font>

650
00:22:31,840 --> 00:22:42,100
analysis perspective<font color="#CCCCCC"> so we made a</font><font color="#E5E5E5"> couple</font>

651
00:22:38,470 --> 00:22:44,290
<font color="#E5E5E5">of</font><font color="#CCCCCC"> modifications to Axemen I wrote all</font>

652
00:22:42,100 --> 00:22:46,809
<font color="#CCCCCC">those</font><font color="#E5E5E5"> certificates I was pulling out of</font>

653
00:22:44,290 --> 00:22:48,280
<font color="#E5E5E5">the Icarus log into hive where we did</font>

654
00:22:46,809 --> 00:22:49,570
<font color="#E5E5E5">our analysis with some support from</font>

655
00:22:48,280 --> 00:22:51,879
<font color="#CCCCCC">Rekha one of my colleagues who's sitting</font>

656
00:22:49,570 --> 00:22:53,740
up front<font color="#E5E5E5"> here we also calculated the</font>

657
00:22:51,880 --> 00:22:55,179
<font color="#E5E5E5">entropy in advance we plucked out the</font>

658
00:22:53,740 --> 00:22:57,370
<font color="#CCCCCC">public key in</font><font color="#E5E5E5"> case we wanted to do</font>

659
00:22:55,179 --> 00:22:59,620
<font color="#E5E5E5">something with that later we stored the</font>

660
00:22:57,370 --> 00:23:01,360
<font color="#CCCCCC">cert</font><font color="#E5E5E5"> size and the bytes for filtering</font>

661
00:22:59,620 --> 00:23:07,209
and then we<font color="#CCCCCC"> looked</font><font color="#E5E5E5"> for the</font><font color="#CCCCCC"> magic numbers</font>

662
00:23:01,360 --> 00:23:12,040
in the<font color="#E5E5E5"> sands</font><font color="#CCCCCC"> okay</font><font color="#E5E5E5"> so let's take a look</font>

663
00:23:07,210 --> 00:23:15,400
here<font color="#E5E5E5"> okay</font>

664
00:23:12,040 --> 00:23:16,780
so here I'm running<font color="#CCCCCC"> a count against the</font>

665
00:23:15,400 --> 00:23:18,400
table<font color="#CCCCCC"> we've loaded</font><font color="#E5E5E5"> up that has the</font>

666
00:23:16,780 --> 00:23:19,780
certificates in it<font color="#E5E5E5"> just to kind of show</font>

667
00:23:18,400 --> 00:23:21,309
<font color="#CCCCCC">how many</font><font color="#E5E5E5"> certificates</font><font color="#CCCCCC"> I was working</font><font color="#E5E5E5"> with</font>

668
00:23:19,780 --> 00:23:23,740
it was roughly four hundred<font color="#CCCCCC"> and fifty</font>

669
00:23:21,309 --> 00:23:25,840
five million certificates that<font color="#E5E5E5"> we used</font>

670
00:23:23,740 --> 00:23:28,540
for our analysis<font color="#E5E5E5"> the next thing I did is</font>

671
00:23:25,840 --> 00:23:30,459
I ran a query to<font color="#CCCCCC"> look for file types</font>

672
00:23:28,540 --> 00:23:32,200
<font color="#E5E5E5">that match</font><font color="#CCCCCC"> that magic number I use the</font>

673
00:23:30,460 --> 00:23:34,150
Python<font color="#CCCCCC"> library to help with</font><font color="#E5E5E5"> the with the</font>

674
00:23:32,200 --> 00:23:36,640
matching<font color="#E5E5E5"> and we ran that query across</font>

675
00:23:34,150 --> 00:23:38,050
<font color="#CCCCCC">the</font><font color="#E5E5E5"> dataset and sure enough we showed up</font>

676
00:23:36,640 --> 00:23:40,090
<font color="#E5E5E5">so at least we knew that our research</font>

677
00:23:38,050 --> 00:23:42,190
<font color="#E5E5E5">worked we found our BBB dirtfish which</font>

678
00:23:40,090 --> 00:23:44,470
is our<font color="#CCCCCC"> cat certificate</font><font color="#E5E5E5"> that's what we</font>

679
00:23:42,190 --> 00:23:46,990
demoed earlier in<font color="#E5E5E5"> that first video which</font>

680
00:23:44,470 --> 00:23:49,510
<font color="#CCCCCC">was awesome</font><font color="#E5E5E5"> so it was pretty excited</font>

681
00:23:46,990 --> 00:23:51,780
like our stuff showed up and then our

682
00:23:49,510 --> 00:23:55,059
second test shirt search showed up

683
00:23:51,780 --> 00:23:57,970
except there was this<font color="#E5E5E5"> third cert cat</font><font color="#CCCCCC"> dot</font>

684
00:23:55,059 --> 00:23:59,470
<font color="#CCCCCC">JPEG that we have the tech like this</font>

685
00:23:57,970 --> 00:24:01,540
isn't<font color="#CCCCCC"> us we didn't do this and wait</font>

686
00:23:59,470 --> 00:24:04,059
there's like numbers in the certificates

687
00:24:01,540 --> 00:24:05,950
<font color="#E5E5E5">and there's a ton of</font><font color="#CCCCCC"> sans it looks like</font>

688
00:24:04,059 --> 00:24:08,050
it has an<font color="#E5E5E5"> ordering system like there's</font>

689
00:24:05,950 --> 00:24:10,540
like there's no way<font color="#E5E5E5"> that the</font><font color="#CCCCCC"> only other</font>

690
00:24:08,050 --> 00:24:12,399
person<font color="#E5E5E5"> that did this put a cat</font><font color="#CCCCCC"> and the</font>

691
00:24:10,540 --> 00:24:15,580
logs right like that<font color="#CCCCCC"> would</font><font color="#E5E5E5"> be that would</font>

692
00:24:12,400 --> 00:24:16,840
<font color="#CCCCCC">be way too strange right okay so we've</font>

693
00:24:15,580 --> 00:24:18,520
kind<font color="#CCCCCC"> of</font><font color="#E5E5E5"> figured as maybe like a red</font>

694
00:24:16,840 --> 00:24:19,870
herring or<font color="#E5E5E5"> whatever but when I pulled</font>

695
00:24:18,520 --> 00:24:22,420
<font color="#E5E5E5">the certificate looked up with my hand</font>

696
00:24:19,870 --> 00:24:26,020
my eyes I<font color="#E5E5E5"> was like this looks a lot like</font>

697
00:24:22,420 --> 00:24:27,900
woody input in the logs<font color="#E5E5E5"> and so okay so</font>

698
00:24:26,020 --> 00:24:31,200
<font color="#E5E5E5">the curiosity got the best of us</font>

699
00:24:27,900 --> 00:24:34,440
and we<font color="#E5E5E5"> went</font><font color="#CCCCCC"> back in</font><font color="#E5E5E5"> and decided to take</font>

700
00:24:31,200 --> 00:24:37,440
a deeper look<font color="#CCCCCC"> okay</font>

701
00:24:34,440 --> 00:24:38,670
so interestingly<font color="#CCCCCC"> enough</font><font color="#E5E5E5"> this part of the</font>

702
00:24:37,440 --> 00:24:40,230
video<font color="#E5E5E5"> looks really similar to the first</font>

703
00:24:38,670 --> 00:24:42,270
<font color="#CCCCCC">ones I kind of just fast forward a</font>

704
00:24:40,230 --> 00:24:43,530
little<font color="#CCCCCC"> bit to save you but you know I</font>

705
00:24:42,270 --> 00:24:45,710
was kind<font color="#E5E5E5"> of we're kind of slicing and</font>

706
00:24:43,530 --> 00:24:49,230
dicing all the same kung fury here<font color="#E5E5E5"> and</font>

707
00:24:45,710 --> 00:24:51,450
we ultimately get<font color="#E5E5E5"> a little bit further</font>

708
00:24:49,230 --> 00:24:56,180
<font color="#E5E5E5">down the line deleting the number sort</font>

709
00:24:51,450 --> 00:24:59,690
of<font color="#E5E5E5"> cleaning everything up and then we</font>

710
00:24:56,180 --> 00:25:02,940
changed the case<font color="#E5E5E5"> we pipe it into a file</font>

711
00:24:59,690 --> 00:25:05,010
<font color="#E5E5E5">we I ran a file out because I didn't</font>

712
00:25:02,940 --> 00:25:13,290
believe<font color="#E5E5E5"> it it says it's a JPEG</font><font color="#CCCCCC"> is it a</font>

713
00:25:05,010 --> 00:25:17,720
cat<font color="#E5E5E5"> it's a cat</font><font color="#CCCCCC"> it's a cat okay</font><font color="#E5E5E5"> give me</font>

714
00:25:13,290 --> 00:25:19,940
<font color="#E5E5E5">just a second here to get the presenting</font>

715
00:25:17,720 --> 00:25:28,110
<font color="#E5E5E5">okay</font>

716
00:25:19,940 --> 00:25:31,340
<font color="#E5E5E5">escape present thanks everybody</font><font color="#CCCCCC"> okay so</font>

717
00:25:28,110 --> 00:25:33,629
I was<font color="#E5E5E5"> really curious to who this was</font>

718
00:25:31,340 --> 00:25:34,919
thanks to privacy<font color="#E5E5E5"> guard I can't find any</font>

719
00:25:33,630 --> 00:25:37,320
<font color="#CCCCCC">information out about who owns a</font>

720
00:25:34,920 --> 00:25:39,720
certificate it was issued in Australia

721
00:25:37,320 --> 00:25:42,689
don't<font color="#E5E5E5"> know a ton of Australian security</font>

722
00:25:39,720 --> 00:25:44,790
researchers<font color="#E5E5E5"> we asked some folks we were</font>

723
00:25:42,690 --> 00:25:46,620
<font color="#E5E5E5">unfortunately we don't know who owns us</font>

724
00:25:44,790 --> 00:25:47,430
if you<font color="#E5E5E5"> own it</font><font color="#CCCCCC"> please raise your</font><font color="#E5E5E5"> hand or</font>

725
00:25:46,620 --> 00:25:49,830
come talk to<font color="#E5E5E5"> me that would</font><font color="#CCCCCC"> be</font>

726
00:25:47,430 --> 00:25:51,300
fascinating<font color="#CCCCCC"> Leon strange but of all the</font>

727
00:25:49,830 --> 00:25:53,850
analysis we<font color="#E5E5E5"> did this is the only other</font>

728
00:25:51,300 --> 00:25:56,639
person<font color="#E5E5E5"> that was putting cats and cats</font><font color="#CCCCCC"> on</font>

729
00:25:53,850 --> 00:25:58,050
CT logs and this person has<font color="#CCCCCC"> done some</font>

730
00:25:56,640 --> 00:26:00,090
really<font color="#CCCCCC"> interesting stuff like they have</font>

731
00:25:58,050 --> 00:26:02,700
a<font color="#E5E5E5"> number of certificates</font><font color="#CCCCCC"> that have</font><font color="#E5E5E5"> some</font>

732
00:26:00,090 --> 00:26:04,080
numbers and<font color="#CCCCCC"> texts</font><font color="#E5E5E5"> we think they might</font>

733
00:26:02,700 --> 00:26:06,240
<font color="#CCCCCC">have some binary</font><font color="#E5E5E5"> data in one of the</font>

734
00:26:04,080 --> 00:26:07,620
certificates so for you for all you out

735
00:26:06,240 --> 00:26:08,640
<font color="#E5E5E5">there</font><font color="#CCCCCC"> who</font><font color="#E5E5E5"> are</font><font color="#CCCCCC"> really good</font><font color="#E5E5E5"> at</font><font color="#CCCCCC"> analysis</font>

736
00:26:07,620 --> 00:26:09,840
like<font color="#E5E5E5"> please take a look at their</font>

737
00:26:08,640 --> 00:26:12,480
<font color="#E5E5E5">certificates</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> let us know what you</font>

738
00:26:09,840 --> 00:26:14,340
find<font color="#E5E5E5"> because</font><font color="#CCCCCC"> I was super super</font>

739
00:26:12,480 --> 00:26:16,860
interested in<font color="#E5E5E5"> trying to</font><font color="#CCCCCC"> figure out</font><font color="#E5E5E5"> who</font>

740
00:26:14,340 --> 00:26:18,330
this was so I want<font color="#E5E5E5"> to do a quick summary</font>

741
00:26:16,860 --> 00:26:19,229
<font color="#E5E5E5">of</font><font color="#CCCCCC"> my analysis we're running a</font><font color="#E5E5E5"> little</font>

742
00:26:18,330 --> 00:26:21,480
short on time<font color="#CCCCCC"> something to try to</font>

743
00:26:19,230 --> 00:26:23,100
<font color="#CCCCCC">breathe through this but first an</font>

744
00:26:21,480 --> 00:26:24,540
assumption that we<font color="#E5E5E5"> work with</font><font color="#CCCCCC"> Reika with</font>

745
00:26:23,100 --> 00:26:25,830
was we want to<font color="#E5E5E5"> look for certificates</font>

746
00:26:24,540 --> 00:26:28,020
that had more<font color="#E5E5E5"> than</font><font color="#CCCCCC"> one hundreds and</font>

747
00:26:25,830 --> 00:26:29,520
certs<font color="#CCCCCC"> and then we were</font><font color="#E5E5E5"> looking for</font>

748
00:26:28,020 --> 00:26:31,200
<font color="#E5E5E5">things</font><font color="#CCCCCC"> that had</font><font color="#E5E5E5"> really long sand</font><font color="#CCCCCC"> lengths</font>

749
00:26:29,520 --> 00:26:33,660
<font color="#E5E5E5">and interestingly enough</font><font color="#CCCCCC"> when we</font><font color="#E5E5E5"> found</font>

750
00:26:31,200 --> 00:26:35,130
certificates that had a hundred sands in

751
00:26:33,660 --> 00:26:36,990
<font color="#CCCCCC">them there wasn't a lot that even had a</font>

752
00:26:35,130 --> 00:26:38,070
max length<font color="#E5E5E5"> I can we talk to our 30</font>

753
00:26:36,990 --> 00:26:39,630
characters<font color="#CCCCCC"> wasn't</font><font color="#E5E5E5"> even really that</font>

754
00:26:38,070 --> 00:26:40,870
<font color="#E5E5E5">showed up so this ended up being not a</font>

755
00:26:39,630 --> 00:26:42,340
great search

756
00:26:40,870 --> 00:26:43,658
so we<font color="#CCCCCC"> refined this</font><font color="#E5E5E5"> a little bit and said</font>

757
00:26:42,340 --> 00:26:46,178
<font color="#CCCCCC">all right</font><font color="#E5E5E5"> let's look for shirts that</font>

758
00:26:43,659 --> 00:26:47,679
have<font color="#E5E5E5"> at least 75 ish sands and at least</font>

759
00:26:46,179 --> 00:26:49,539
one<font color="#E5E5E5"> of the sands has a length greater</font>

760
00:26:47,679 --> 00:26:51,279
than 200<font color="#E5E5E5"> and</font><font color="#CCCCCC"> this</font><font color="#E5E5E5"> ended up being</font><font color="#CCCCCC"> a</font>

761
00:26:49,539 --> 00:26:52,960
<font color="#CCCCCC">really good search this we found</font><font color="#E5E5E5"> some</font>

762
00:26:51,279 --> 00:26:55,419
<font color="#E5E5E5">really interesting certificates this way</font>

763
00:26:52,960 --> 00:26:56,679
<font color="#E5E5E5">the ones that I've colored out here were</font>

764
00:26:55,419 --> 00:26:58,659
the ones<font color="#E5E5E5"> that ended up being interested</font>

765
00:26:56,679 --> 00:27:01,140
some of these other certificates<font color="#E5E5E5"> ended</font>

766
00:26:58,659 --> 00:27:03,460
up not being that<font color="#E5E5E5"> that interesting so</font>

767
00:27:01,140 --> 00:27:05,409
<font color="#CCCCCC">this</font><font color="#E5E5E5"> was the first</font><font color="#CCCCCC"> certificate I found</font><font color="#E5E5E5"> I</font>

768
00:27:03,460 --> 00:27:12,909
don't<font color="#CCCCCC"> let folks take a second to read</font>

769
00:27:05,409 --> 00:27:15,190
<font color="#E5E5E5">the certificate so</font><font color="#CCCCCC"> this pretty awesome</font>

770
00:27:12,909 --> 00:27:19,570
<font color="#E5E5E5">so this person</font><font color="#CCCCCC"> loved Star Wars so that</font>

771
00:27:15,190 --> 00:27:21,549
<font color="#CCCCCC">was a good certificate we found a couple</font>

772
00:27:19,570 --> 00:27:23,020
<font color="#E5E5E5">of certs with good entropy this POC that</font>

773
00:27:21,549 --> 00:27:24,879
<font color="#E5E5E5">we have the tech this had the highest</font>

774
00:27:23,020 --> 00:27:26,770
entropy<font color="#E5E5E5"> for the for the greatest number</font>

775
00:27:24,880 --> 00:27:28,480
of<font color="#CCCCCC"> sans</font><font color="#E5E5E5"> it looks kind of like binary</font>

776
00:27:26,770 --> 00:27:30,520
<font color="#E5E5E5">data we're not sure how to sort it I'll</font>

777
00:27:28,480 --> 00:27:32,919
<font color="#E5E5E5">zoom in a little bit it almost looks</font>

778
00:27:30,520 --> 00:27:35,320
like it has<font color="#CCCCCC"> a pattern I don't know I'm</font>

779
00:27:32,919 --> 00:27:37,570
not we couldn't quite crack this one but

780
00:27:35,320 --> 00:27:40,210
it's it's one worth checking out if you

781
00:27:37,570 --> 00:27:41,590
are<font color="#E5E5E5"> interested in the space this was a</font>

782
00:27:40,210 --> 00:27:43,600
<font color="#E5E5E5">pretty cool one there was a ton of sands</font>

783
00:27:41,590 --> 00:27:45,730
in this certificate<font color="#CCCCCC"> pretty</font><font color="#E5E5E5"> convincing</font>

784
00:27:43,600 --> 00:27:47,350
for a<font color="#CCCCCC"> low resolution</font><font color="#E5E5E5"> displays it looks</font>

785
00:27:45,730 --> 00:27:49,000
<font color="#E5E5E5">like</font><font color="#CCCCCC"> account</font><font color="#E5E5E5"> google.com if it's a valid</font>

786
00:27:47,350 --> 00:27:51,520
<font color="#E5E5E5">certificate it's gonna show up as such</font>

787
00:27:49,000 --> 00:27:52,990
so<font color="#CCCCCC"> we saw a ton of these in the CT logs</font>

788
00:27:51,520 --> 00:27:55,029
a lot of this being a common<font color="#CCCCCC"> fishing</font>

789
00:27:52,990 --> 00:27:57,820
pattern have account Google<font color="#E5E5E5"> comm and a</font>

790
00:27:55,029 --> 00:28:02,470
giant<font color="#E5E5E5"> Mac slaying string afterwards to</font>

791
00:27:57,820 --> 00:28:04,720
trick your victims to do fishing<font color="#E5E5E5"> this</font>

792
00:28:02,470 --> 00:28:06,580
<font color="#E5E5E5">was a cool one</font><font color="#CCCCCC"> multi-domain Pro</font><font color="#E5E5E5"> per I</font>

793
00:28:04,720 --> 00:28:09,730
was actually just<font color="#E5E5E5"> mostly interested in</font>

794
00:28:06,580 --> 00:28:11,980
the name<font color="#E5E5E5"> of that and so I googled it</font>

795
00:28:09,730 --> 00:28:16,210
<font color="#E5E5E5">obviously</font><font color="#CCCCCC"> like a good laser cat</font><font color="#E5E5E5"> would</font>

796
00:28:11,980 --> 00:28:18,730
and it<font color="#E5E5E5"> came</font><font color="#CCCCCC"> back with this thing that</font>

797
00:28:16,210 --> 00:28:20,169
looked like a blog written by<font color="#E5E5E5"> someone</font>

798
00:28:18,730 --> 00:28:21,730
named<font color="#E5E5E5"> Martin Wallace I don't know this</font>

799
00:28:20,169 --> 00:28:24,100
person<font color="#CCCCCC"> but I figured probably have a</font>

800
00:28:21,730 --> 00:28:25,899
probably have a LinkedIn so I<font color="#CCCCCC"> sent</font><font color="#E5E5E5"> Mark</font>

801
00:28:24,100 --> 00:28:27,879
Martin a note and said<font color="#E5E5E5"> hey I'm</font><font color="#CCCCCC"> working</font>

802
00:28:25,899 --> 00:28:29,168
on the app psych team a Netflix I<font color="#CCCCCC"> doing</font>

803
00:28:27,880 --> 00:28:30,490
some research the shirt logs<font color="#CCCCCC"> what is</font>

804
00:28:29,169 --> 00:28:33,220
this thing<font color="#E5E5E5"> you're doing</font><font color="#CCCCCC"> he goes you got</font>

805
00:28:30,490 --> 00:28:34,990
<font color="#CCCCCC">us our prober might be somewhat chatty</font>

806
00:28:33,220 --> 00:28:37,990
and<font color="#E5E5E5"> then he links me</font><font color="#CCCCCC"> to some public docs</font>

807
00:28:34,990 --> 00:28:40,149
about their managed<font color="#CCCCCC"> ssl product that</font>

808
00:28:37,990 --> 00:28:41,740
they've<font color="#E5E5E5"> built for</font><font color="#CCCCCC"> GCP which look for</font><font color="#E5E5E5"> a</font>

809
00:28:40,149 --> 00:28:43,899
Google App Engine<font color="#E5E5E5"> so that was kind of</font>

810
00:28:41,740 --> 00:28:45,760
cool don't know<font color="#E5E5E5"> exactly what the prober</font>

811
00:28:43,899 --> 00:28:48,789
does he wouldn't<font color="#E5E5E5"> tell me</font><font color="#CCCCCC"> but I did catch</font>

812
00:28:45,760 --> 00:28:51,158
him<font color="#E5E5E5"> cool</font><font color="#CCCCCC"> so I'm gonna toss it back</font><font color="#E5E5E5"> to</font>

813
00:28:48,789 --> 00:28:53,679
Ian to do that<font color="#E5E5E5"> I wrap</font><font color="#CCCCCC"> up here</font><font color="#E5E5E5"> yeah just</font>

814
00:28:51,159 --> 00:28:54,730
gonna wrap up<font color="#CCCCCC"> the</font><font color="#E5E5E5"> last</font><font color="#CCCCCC"> last few slides</font>

815
00:28:53,679 --> 00:28:56,740
<font color="#E5E5E5">here</font>

816
00:28:54,730 --> 00:28:58,360
before we do it<font color="#E5E5E5"> let's check our video it</font>

817
00:28:56,740 --> 00:29:01,720
looks like it finished downloading so

818
00:28:58,360 --> 00:29:04,418
there's our yelling cat WebM<font color="#E5E5E5"> it's about</font>

819
00:29:01,720 --> 00:29:11,470
<font color="#CCCCCC">four-and-a-half Meg's</font><font color="#E5E5E5"> it's the WebM file</font>

820
00:29:04,419 --> 00:29:15,669
and if we play<font color="#CCCCCC"> it it's</font><font color="#E5E5E5"> about two minutes</font>

821
00:29:11,470 --> 00:29:16,809
<font color="#E5E5E5">of this cat yelling at this person</font><font color="#CCCCCC"> so</font>

822
00:29:15,669 --> 00:29:21,640
yeah you<font color="#E5E5E5"> can get some pretty high</font>

823
00:29:16,809 --> 00:29:23,918
<font color="#CCCCCC">quality video shoved up into CT logs so</font>

824
00:29:21,640 --> 00:29:25,870
<font color="#E5E5E5">all</font><font color="#CCCCCC"> right final thoughts certificate</font>

825
00:29:23,919 --> 00:29:27,580
transparency it is awesome I know we've

826
00:29:25,870 --> 00:29:29,080
spent<font color="#E5E5E5"> like the</font><font color="#CCCCCC"> last</font><font color="#E5E5E5"> half hour kind of</font>

827
00:29:27,580 --> 00:29:30,668
being like here's some<font color="#E5E5E5"> weird stuff we</font>

828
00:29:29,080 --> 00:29:32,590
can do<font color="#E5E5E5"> with it</font><font color="#CCCCCC"> but like don't</font><font color="#E5E5E5"> get</font><font color="#CCCCCC"> me</font>

829
00:29:30,669 --> 00:29:33,850
wrong<font color="#CCCCCC"> CT</font><font color="#E5E5E5"> is awesome and it is an amazing</font>

830
00:29:32,590 --> 00:29:36,270
<font color="#CCCCCC">thing that</font><font color="#E5E5E5"> we have this because it's</font>

831
00:29:33,850 --> 00:29:38,500
<font color="#E5E5E5">making us safer</font><font color="#CCCCCC"> but there are bad things</font>

832
00:29:36,270 --> 00:29:40,330
<font color="#CCCCCC">about</font><font color="#E5E5E5"> it right</font><font color="#CCCCCC"> it puts all of</font><font color="#E5E5E5"> your</font>

833
00:29:38,500 --> 00:29:42,220
internal<font color="#E5E5E5"> domain names on display gives</font>

834
00:29:40,330 --> 00:29:44,230
attackers a<font color="#E5E5E5"> roadmap of what to do when</font>

835
00:29:42,220 --> 00:29:46,000
they<font color="#E5E5E5"> get in</font><font color="#CCCCCC"> your network</font><font color="#E5E5E5"> it puts your</font>

836
00:29:44,230 --> 00:29:48,370
weak crypto on display if you're<font color="#CCCCCC"> doing</font>

837
00:29:46,000 --> 00:29:49,929
<font color="#E5E5E5">things badly like</font><font color="#CCCCCC"> crip attacker is gonna</font>

838
00:29:48,370 --> 00:29:52,540
be looking<font color="#CCCCCC"> for it</font><font color="#E5E5E5"> and are going</font><font color="#CCCCCC"> to abuse</font>

839
00:29:49,929 --> 00:29:55,450
<font color="#CCCCCC">it and lastly it's a non redact Abal</font>

840
00:29:52,540 --> 00:29:58,299
unmodifiable<font color="#CCCCCC"> append-only</font><font color="#E5E5E5"> public data</font>

841
00:29:55,450 --> 00:29:59,410
store<font color="#E5E5E5"> that anyone can write to and if</font>

842
00:29:58,299 --> 00:30:01,150
you were to change any of<font color="#E5E5E5"> those</font>

843
00:29:59,410 --> 00:30:02,950
adjectives in that sentence it would

844
00:30:01,150 --> 00:30:06,010
<font color="#E5E5E5">significantly weaken the whole point of</font>

845
00:30:02,950 --> 00:30:08,410
<font color="#E5E5E5">having the CTE project and the CT system</font>

846
00:30:06,010 --> 00:30:09,910
and you know we're we're being you know

847
00:30:08,410 --> 00:30:11,620
<font color="#E5E5E5">non malicious about this we threw a</font>

848
00:30:09,910 --> 00:30:13,540
bunch of cat pictures<font color="#E5E5E5"> and cat videos in</font>

849
00:30:11,620 --> 00:30:15,178
there but if someone's putting pirated

850
00:30:13,540 --> 00:30:17,770
content up there someone's putting

851
00:30:15,179 --> 00:30:19,690
<font color="#CCCCCC">daxing someone's personal information if</font>

852
00:30:17,770 --> 00:30:21,910
there's any<font color="#E5E5E5"> kind of like bad</font><font color="#CCCCCC"> material in</font>

853
00:30:19,690 --> 00:30:24,010
there<font color="#E5E5E5"> the people that run</font><font color="#CCCCCC"> these Ct logs</font>

854
00:30:21,910 --> 00:30:26,559
<font color="#E5E5E5">don't have the Liberty</font><font color="#CCCCCC"> to take it down</font>

855
00:30:24,010 --> 00:30:28,120
they cannot redact<font color="#CCCCCC"> information and if</font>

856
00:30:26,559 --> 00:30:30,760
they were<font color="#E5E5E5"> to pull down their logs like</font>

857
00:30:28,120 --> 00:30:34,418
<font color="#E5E5E5">the</font><font color="#CCCCCC"> CT project would just die so it's</font>

858
00:30:30,760 --> 00:30:35,950
potentially<font color="#CCCCCC"> a problem so all that said</font>

859
00:30:34,419 --> 00:30:37,720
<font color="#E5E5E5">want to give a special shout-out</font><font color="#CCCCCC"> to</font>

860
00:30:35,950 --> 00:30:39,700
<font color="#CCCCCC">Raiko</font><font color="#E5E5E5"> who's over here</font><font color="#CCCCCC"> she helped</font><font color="#E5E5E5"> us do a</font>

861
00:30:37,720 --> 00:30:41,110
bunch of<font color="#E5E5E5"> this big data analysis and show</font>

862
00:30:39,700 --> 00:30:42,730
us how to<font color="#E5E5E5"> shove things into hive and do</font>

863
00:30:41,110 --> 00:30:44,229
good queries on it<font color="#CCCCCC"> I want to</font><font color="#E5E5E5"> thank</font>

864
00:30:42,730 --> 00:30:45,520
everyone has posted pictures of<font color="#E5E5E5"> cats on</font>

865
00:30:44,230 --> 00:30:47,169
<font color="#E5E5E5">the</font><font color="#CCCCCC"> Internet</font><font color="#E5E5E5"> to</font><font color="#CCCCCC"> May making the</font><font color="#E5E5E5"> slides</font>

866
00:30:45,520 --> 00:30:49,120
super easy

867
00:30:47,169 --> 00:30:51,429
<font color="#E5E5E5">I want to thank Google and all the CT</font>

868
00:30:49,120 --> 00:30:54,100
log owners and let's encrypt their

869
00:30:51,429 --> 00:30:57,100
services were used and possibly abused<font color="#E5E5E5"> a</font>

870
00:30:54,100 --> 00:30:59,350
great deal in the ongoing of production

871
00:30:57,100 --> 00:31:01,689
of this research and<font color="#E5E5E5"> I also want to say</font>

872
00:30:59,350 --> 00:31:03,340
<font color="#E5E5E5">sorry to</font><font color="#CCCCCC"> all those</font><font color="#E5E5E5"> people hopefully</font>

873
00:31:01,690 --> 00:31:04,799
<font color="#CCCCCC">appreciate</font><font color="#E5E5E5"> that we're security</font>

874
00:31:03,340 --> 00:31:07,090
researchers trying<font color="#CCCCCC"> to do</font><font color="#E5E5E5"> awesome stuff</font>

875
00:31:04,799 --> 00:31:08,720
<font color="#CCCCCC">and one last</font><font color="#E5E5E5"> thing</font><font color="#CCCCCC"> before I let everyone</font>

876
00:31:07,090 --> 00:31:09,830
go too long

877
00:31:08,720 --> 00:31:10,970
if you<font color="#CCCCCC"> thought it was interesting</font><font color="#E5E5E5"> if</font>

878
00:31:09,830 --> 00:31:12,470
<font color="#CCCCCC">you'd</font><font color="#E5E5E5"> like to talk I'd encourage you to</font>

879
00:31:10,970 --> 00:31:14,300
download the slides<font color="#E5E5E5"> and check out the</font>

880
00:31:12,470 --> 00:31:18,860
links<font color="#E5E5E5"> if you're looking for the slides</font>

881
00:31:14,300 --> 00:31:20,629
<font color="#E5E5E5">there in the CT logs</font><font color="#CCCCCC"> so with that we</font>

882
00:31:18,860 --> 00:31:30,530
<font color="#E5E5E5">will</font><font color="#CCCCCC"> take any questions thank you</font><font color="#E5E5E5"> thank</font>

883
00:31:20,630 --> 00:31:32,000
<font color="#E5E5E5">you thanks you and then Scott it's</font>

884
00:31:30,530 --> 00:31:33,770
<font color="#CCCCCC">lunchtime</font><font color="#E5E5E5"> so if people who want to leave</font>

885
00:31:32,000 --> 00:31:36,380
<font color="#E5E5E5">can leave there are a couple</font><font color="#CCCCCC"> of</font>

886
00:31:33,770 --> 00:31:38,800
<font color="#E5E5E5">questions that came</font><font color="#CCCCCC"> on slider the first</font>

887
00:31:36,380 --> 00:31:41,390
one is are you<font color="#E5E5E5"> aware of any developments</font>

888
00:31:38,800 --> 00:31:44,169
that will legally survive given the

889
00:31:41,390 --> 00:31:48,440
existence of<font color="#CCCCCC"> newer right</font><font color="#E5E5E5"> to forgotten</font>

890
00:31:44,170 --> 00:31:50,210
<font color="#E5E5E5">legislation that's coming</font><font color="#CCCCCC"> up yeah so one</font>

891
00:31:48,440 --> 00:31:52,490
<font color="#E5E5E5">thing that we didn't really get into</font><font color="#CCCCCC"> is</font>

892
00:31:50,210 --> 00:31:53,990
<font color="#CCCCCC">I is that something that</font><font color="#E5E5E5"> CT log</font>

893
00:31:52,490 --> 00:31:55,820
providers have done is they've started

894
00:31:53,990 --> 00:31:57,559
kind of<font color="#E5E5E5"> temporarily shorting their logs</font>

895
00:31:55,820 --> 00:31:59,780
so there's one log<font color="#E5E5E5"> that all</font><font color="#CCCCCC"> the serves</font>

896
00:31:57,559 --> 00:32:01,428
expiring in 2019 go into there's one

897
00:31:59,780 --> 00:32:04,610
<font color="#E5E5E5">that all</font><font color="#CCCCCC"> the</font><font color="#E5E5E5"> ones expiring in 2020 go</font>

898
00:32:01,429 --> 00:32:06,890
into so once 2019 is over none of those

899
00:32:04,610 --> 00:32:08,659
certificates<font color="#CCCCCC"> that have expired in 2019</font>

900
00:32:06,890 --> 00:32:11,030
<font color="#E5E5E5">really need to be kept around and need</font>

901
00:32:08,660 --> 00:32:13,220
to be in logs<font color="#E5E5E5"> so there is a way we're</font>

902
00:32:11,030 --> 00:32:14,899
sort of logs can eventually<font color="#E5E5E5"> kind of roll</font>

903
00:32:13,220 --> 00:32:16,490
off<font color="#E5E5E5"> and no longer need to be publicly</font>

904
00:32:14,900 --> 00:32:18,200
hosted<font color="#CCCCCC"> so that's at least a way to kind</font>

905
00:32:16,490 --> 00:32:20,150
of mitigate<font color="#E5E5E5"> the fact that like you</font><font color="#CCCCCC"> can't</font>

906
00:32:18,200 --> 00:32:21,470
take these<font color="#E5E5E5"> things</font><font color="#CCCCCC"> down on demand</font><font color="#E5E5E5"> but</font>

907
00:32:20,150 --> 00:32:23,900
they'll<font color="#E5E5E5"> at</font><font color="#CCCCCC"> least kind</font><font color="#E5E5E5"> of roll off as</font>

908
00:32:21,470 --> 00:32:26,090
certificates expire<font color="#CCCCCC"> in terms of any</font>

909
00:32:23,900 --> 00:32:30,490
other answers for like how to<font color="#E5E5E5"> mitigate</font>

910
00:32:26,090 --> 00:32:30,490
these issues<font color="#E5E5E5"> we're not really sure yeah</font>

911
00:32:30,880 --> 00:32:37,370
<font color="#CCCCCC">there one other one all right</font><font color="#E5E5E5"> that was</font>

912
00:32:34,700 --> 00:32:38,900
<font color="#E5E5E5">it maybe this all right we'll be around</font>

913
00:32:37,370 --> 00:32:41,379
<font color="#E5E5E5">if</font><font color="#CCCCCC"> you</font><font color="#E5E5E5"> want chatted with us thank you</font>

914
00:32:38,900 --> 00:32:41,380
<font color="#E5E5E5">thank you</font>

915
00:32:43,920 --> 00:32:46,459
[Applause]

