1
00:00:00,060 --> 00:00:13,410
<font color="#E5E5E5">all right</font><font color="#CCCCCC"> we're</font><font color="#E5E5E5"> going again so do we</font>

2
00:00:07,620 --> 00:00:20,220
need<font color="#CCCCCC"> to use both mics one</font><font color="#E5E5E5"> mic okay okay</font>

3
00:00:13,410 --> 00:00:23,759
<font color="#E5E5E5">hey let me see</font><font color="#CCCCCC"> that this one</font><font color="#E5E5E5"> okay so</font><font color="#CCCCCC"> we</font>

4
00:00:20,220 --> 00:00:26,840
<font color="#E5E5E5">don't need to hit</font><font color="#CCCCCC"> them</font><font color="#E5E5E5"> all right yeah I</font>

5
00:00:23,760 --> 00:00:32,369
have<font color="#CCCCCC"> it on right here</font><font color="#E5E5E5"> okay all right</font>

6
00:00:26,840 --> 00:00:33,510
<font color="#E5E5E5">sorry about</font><font color="#CCCCCC"> that</font><font color="#E5E5E5"> so yeah so um we're</font>

7
00:00:32,369 --> 00:00:35,430
going<font color="#CCCCCC"> on when you're going</font><font color="#E5E5E5"> on from the</font>

8
00:00:33,510 --> 00:00:37,559
<font color="#E5E5E5">Morris worm let me turn that off that's</font>

9
00:00:35,430 --> 00:00:38,700
<font color="#E5E5E5">a little loud</font><font color="#CCCCCC"> so going</font><font color="#E5E5E5"> on</font><font color="#CCCCCC"> from</font><font color="#E5E5E5"> the</font>

10
00:00:37,559 --> 00:00:40,440
<font color="#E5E5E5">Morris worm there's a lot of good</font>

11
00:00:38,700 --> 00:00:43,500
write-ups out there go read it it's a

12
00:00:40,440 --> 00:00:46,769
good<font color="#E5E5E5"> history lesson so gonna talk about</font>

13
00:00:43,500 --> 00:00:53,539
UNIX passwords a little bit here<font color="#CCCCCC"> the</font>

14
00:00:46,770 --> 00:00:55,649
myths of<font color="#E5E5E5"> the makeup of your password</font><font color="#CCCCCC"> the</font>

15
00:00:53,539 --> 00:01:04,170
full name the home<font color="#E5E5E5"> directory and then</font>

16
00:00:55,649 --> 00:01:06,900
<font color="#E5E5E5">the shell good</font><font color="#CCCCCC"> alright miss I'd get this</font>

17
00:01:04,170 --> 00:01:08,189
<font color="#CCCCCC">wire</font><font color="#E5E5E5"> way here</font><font color="#CCCCCC"> okay yeah so the</font><font color="#E5E5E5"> Etsy</font>

18
00:01:06,900 --> 00:01:10,200
password<font color="#CCCCCC"> follows where they store</font>

19
00:01:08,189 --> 00:01:13,139
historically the passwords are they and

20
00:01:10,200 --> 00:01:14,760
the user list of the system<font color="#E5E5E5"> in there as</font>

21
00:01:13,140 --> 00:01:16,860
he says<font color="#E5E5E5"> David said it's broken into</font>

22
00:01:14,760 --> 00:01:18,540
<font color="#E5E5E5">various categories</font><font color="#CCCCCC"> the one that we're</font>

23
00:01:16,860 --> 00:01:21,060
<font color="#CCCCCC">interested in is that encrypted password</font>

24
00:01:18,540 --> 00:01:22,530
field there and you'd also be interested

25
00:01:21,060 --> 00:01:26,490
<font color="#E5E5E5">in the UID field because that tells you</font>

26
00:01:22,530 --> 00:01:29,220
what privilege level<font color="#E5E5E5"> in</font><font color="#CCCCCC"> windows world</font>

27
00:01:26,490 --> 00:01:30,390
<font color="#CCCCCC">that'd be your</font><font color="#E5E5E5"> red like red</font><font color="#CCCCCC"> 500</font><font color="#E5E5E5"> or</font><font color="#CCCCCC"> 1000</font>

28
00:01:29,220 --> 00:01:33,750
<font color="#E5E5E5">something here</font>

29
00:01:30,390 --> 00:01:35,970
UID 0 is<font color="#CCCCCC"> route and all your</font><font color="#E5E5E5"> single digit</font>

30
00:01:33,750 --> 00:01:38,520
or load ones are your system commands or

31
00:01:35,970 --> 00:01:40,829
<font color="#E5E5E5">your system which is on that</font><font color="#CCCCCC"> and</font><font color="#E5E5E5"> usually</font>

32
00:01:38,520 --> 00:01:43,289
<font color="#E5E5E5">you're like five hundred</font><font color="#CCCCCC"> or</font><font color="#E5E5E5"> a thousand</font>

33
00:01:40,829 --> 00:01:48,179
<font color="#E5E5E5">whatever and above are your users but</font>

34
00:01:43,290 --> 00:01:51,390
<font color="#E5E5E5">for the passwords this file is read to</font>

35
00:01:48,180 --> 00:01:53,780
the world<font color="#E5E5E5"> almost universal across unique</font>

36
00:01:51,390 --> 00:01:56,219
systems well that's fine because

37
00:01:53,780 --> 00:01:57,750
services need<font color="#CCCCCC"> to know who the users are</font>

38
00:01:56,219 --> 00:02:02,490
what<font color="#E5E5E5"> the encrypted</font><font color="#CCCCCC"> password</font><font color="#E5E5E5"> it is all</font>

39
00:01:57,750 --> 00:02:04,649
<font color="#E5E5E5">that's great exactly</font><font color="#CCCCCC"> and that's okay the</font>

40
00:02:02,490 --> 00:02:08,068
password is hashed and stored in<font color="#E5E5E5"> there</font>

41
00:02:04,649 --> 00:02:11,770
<font color="#CCCCCC">so you it uses the crip function it uses</font>

42
00:02:08,068 --> 00:02:13,839
<font color="#CCCCCC">DES which is fine everybody loves DES</font>

43
00:02:11,770 --> 00:02:16,390
<font color="#E5E5E5">all right but now that honestly</font>

44
00:02:13,840 --> 00:02:18,370
<font color="#E5E5E5">originally it was using des they did use</font>

45
00:02:16,390 --> 00:02:21,279
a saw<font color="#E5E5E5"> so that everything that get hash</font>

46
00:02:18,370 --> 00:02:23,400
to the same string every time but that

47
00:02:21,280 --> 00:02:26,410
hash was based on the time of day

48
00:02:23,400 --> 00:02:28,600
<font color="#E5E5E5">converted into digit converted into two</font>

49
00:02:26,410 --> 00:02:32,140
characters and then it was appended to

50
00:02:28,600 --> 00:02:34,060
the<font color="#E5E5E5"> string</font><font color="#CCCCCC"> okay but because people could</font>

51
00:02:32,140 --> 00:02:39,640
read it they could then dump it down

52
00:02:34,060 --> 00:02:41,350
crack it blah blah blah<font color="#E5E5E5"> well was</font><font color="#CCCCCC"> that so</font>

53
00:02:39,640 --> 00:02:43,089
solution<font color="#E5E5E5"> to that was they actually</font><font color="#CCCCCC"> took</font>

54
00:02:41,350 --> 00:02:45,160
<font color="#E5E5E5">all the hashes move them out into a</font>

55
00:02:43,090 --> 00:02:46,600
separate<font color="#CCCCCC"> area secondary file most UNIX</font>

56
00:02:45,160 --> 00:02:48,940
systems use<font color="#E5E5E5"> Etsy shadow that's where</font>

57
00:02:46,600 --> 00:02:50,710
it's stored only very slick privileged

58
00:02:48,940 --> 00:02:52,960
accounts can read<font color="#E5E5E5"> that file and edit</font>

59
00:02:50,710 --> 00:02:53,350
<font color="#E5E5E5">that file so standard users can't read</font>

60
00:02:52,960 --> 00:02:56,730
<font color="#E5E5E5">anymore</font>

61
00:02:53,350 --> 00:02:58,989
great they didn't move<font color="#CCCCCC"> crip</font><font color="#E5E5E5"> to</font><font color="#CCCCCC"> md5 sha-1</font>

62
00:02:56,730 --> 00:03:02,560
<font color="#E5E5E5">sha-256 and so forth to make it a little</font>

63
00:02:58,990 --> 00:03:03,820
<font color="#E5E5E5">more robust down the road file</font>

64
00:03:02,560 --> 00:03:05,830
<font color="#CCCCCC">permissions not going to jump into this</font>

65
00:03:03,820 --> 00:03:07,989
too<font color="#CCCCCC"> much</font><font color="#E5E5E5"> but just to</font><font color="#CCCCCC"> let you know that</font>

66
00:03:05,830 --> 00:03:10,290
<font color="#E5E5E5">the following Siskin or a</font><font color="#CCCCCC"> falling</font>

67
00:03:07,990 --> 00:03:13,570
<font color="#CCCCCC">directory</font><font color="#E5E5E5"> access control lists are</font><font color="#CCCCCC"> very</font>

68
00:03:10,290 --> 00:03:16,810
robust<font color="#CCCCCC"> ish on unix you can restrict</font>

69
00:03:13,570 --> 00:03:19,299
stuff down to the<font color="#CCCCCC"> owner</font><font color="#E5E5E5"> the group and</font>

70
00:03:16,810 --> 00:03:20,980
the everybody<font color="#E5E5E5"> else in the world if they</font>

71
00:03:19,300 --> 00:03:21,550
have privilege or not to<font color="#E5E5E5"> the files or</font>

72
00:03:20,980 --> 00:03:23,890
directories

73
00:03:21,550 --> 00:03:27,940
do they have<font color="#E5E5E5"> read run a read access</font>

74
00:03:23,890 --> 00:03:30,609
write access execute access<font color="#E5E5E5"> not going to</font>

75
00:03:27,940 --> 00:03:31,840
go into a lot<font color="#CCCCCC"> of</font><font color="#E5E5E5"> education on this just</font>

76
00:03:30,610 --> 00:03:34,480
understand you have all<font color="#E5E5E5"> these</font><font color="#CCCCCC"> different</font>

77
00:03:31,840 --> 00:03:37,390
layers<font color="#E5E5E5"> in there but the ones</font><font color="#CCCCCC"> that we are</font>

78
00:03:34,480 --> 00:03:40,720
concerned about<font color="#E5E5E5"> our set UID and set G ID</font>

79
00:03:37,390 --> 00:03:44,140
then<font color="#CCCCCC"> there at the bottom ilk the set UID</font>

80
00:03:40,720 --> 00:03:45,459
bit is set on a file on a binary or<font color="#CCCCCC"> a</font>

81
00:03:44,140 --> 00:03:47,170
shell script something<font color="#E5E5E5"> like that in</font>

82
00:03:45,459 --> 00:03:48,730
<font color="#CCCCCC">particular</font><font color="#E5E5E5"> that means when you run it</font>

83
00:03:47,170 --> 00:03:50,260
you're actually<font color="#E5E5E5"> running it with the</font>

84
00:03:48,730 --> 00:03:52,239
privilege of<font color="#E5E5E5"> the person who owns the</font>

85
00:03:50,260 --> 00:03:55,209
<font color="#E5E5E5">file not of yourself but who owns</font><font color="#CCCCCC"> that</font>

86
00:03:52,240 --> 00:03:56,560
<font color="#E5E5E5">so if it's a</font><font color="#CCCCCC"> route owned binary and you</font>

87
00:03:55,209 --> 00:03:59,470
run it you're<font color="#E5E5E5"> running it with the</font>

88
00:03:56,560 --> 00:04:01,060
privilege of<font color="#E5E5E5"> root so if there's a buffer</font>

89
00:03:59,470 --> 00:04:02,980
overflow<font color="#CCCCCC"> committing that execution</font>

90
00:04:01,060 --> 00:04:05,050
something like that in there<font color="#CCCCCC"> you can</font>

91
00:04:02,980 --> 00:04:06,970
<font color="#CCCCCC">make advantage of that</font><font color="#E5E5E5"> and gain a root</font>

92
00:04:05,050 --> 00:04:08,980
shell<font color="#CCCCCC"> run a</font><font color="#E5E5E5"> root command something like</font>

93
00:04:06,970 --> 00:04:12,510
that<font color="#E5E5E5"> and</font><font color="#CCCCCC"> oftentimes</font><font color="#E5E5E5"> these</font><font color="#CCCCCC"> planners</font><font color="#E5E5E5"> are</font>

94
00:04:08,980 --> 00:04:16,120
set incorrectly with the<font color="#CCCCCC"> city ID bit set</font>

95
00:04:12,510 --> 00:04:18,310
because of lazy sysadmin<font color="#E5E5E5"> or you know not</font>

96
00:04:16,120 --> 00:04:20,590
<font color="#CCCCCC">knowing you know things like that so</font>

97
00:04:18,310 --> 00:04:22,630
you'll<font color="#E5E5E5"> often times be you'll get a shell</font>

98
00:04:20,589 --> 00:04:23,400
on<font color="#CCCCCC"> a</font><font color="#E5E5E5"> UNIX system and you'll see</font><font color="#CCCCCC"> you'll</font>

99
00:04:22,630 --> 00:04:24,449
do a

100
00:04:23,400 --> 00:04:26,159
you'll see a<font color="#CCCCCC"> demoed</font><font color="#E5E5E5"> here in a few</font>

101
00:04:24,449 --> 00:04:28,110
<font color="#E5E5E5">minutes</font><font color="#CCCCCC"> but you'll run a</font><font color="#E5E5E5"> string that</font>

102
00:04:26,160 --> 00:04:30,449
<font color="#CCCCCC">looks for files</font><font color="#E5E5E5"> that have that set UID</font>

103
00:04:28,110 --> 00:04:32,760
binary set or<font color="#E5E5E5"> flag said I should say on</font>

104
00:04:30,449 --> 00:04:34,590
<font color="#CCCCCC">the binary</font><font color="#E5E5E5"> and then</font><font color="#CCCCCC"> you go</font><font color="#E5E5E5"> oh</font><font color="#CCCCCC"> okay I can</font>

105
00:04:32,760 --> 00:04:35,969
run this as<font color="#CCCCCC"> route</font><font color="#E5E5E5"> cool so let me modify</font>

106
00:04:34,590 --> 00:04:37,590
it a little<font color="#E5E5E5"> bit we're in this route and</font>

107
00:04:35,970 --> 00:04:40,470
<font color="#CCCCCC">that we've escalated privileges so</font>

108
00:04:37,590 --> 00:04:41,429
exactly<font color="#CCCCCC"> we'll show</font><font color="#E5E5E5"> you guys what</font><font color="#CCCCCC"> that</font>

109
00:04:40,470 --> 00:04:43,949
looks like here<font color="#E5E5E5"> in just a minute</font>

110
00:04:41,430 --> 00:04:46,500
absolutely<font color="#E5E5E5"> and by</font><font color="#CCCCCC"> the same token and set</font>

111
00:04:43,949 --> 00:04:48,600
<font color="#CCCCCC">GID means that if that's set on the</font>

112
00:04:46,500 --> 00:04:51,540
binary<font color="#E5E5E5"> you run it</font><font color="#CCCCCC"> you run it as the</font>

113
00:04:48,600 --> 00:04:54,030
privilege<font color="#CCCCCC"> of that group not the user but</font>

114
00:04:51,540 --> 00:04:55,440
for most<font color="#CCCCCC"> cases that are ISA</font><font color="#E5E5E5"> ficient as</font>

115
00:04:54,030 --> 00:04:57,900
well depending on what the privilege

116
00:04:55,440 --> 00:05:01,110
level of that group is sticky<font color="#CCCCCC"> bid is a</font>

117
00:04:57,900 --> 00:05:03,659
very<font color="#E5E5E5"> odd one not all UNIX</font><font color="#CCCCCC"> ease</font><font color="#E5E5E5"> UNIX</font>

118
00:05:01,110 --> 00:05:06,030
systems use it but it basically<font color="#E5E5E5"> means</font>

119
00:05:03,660 --> 00:05:08,789
<font color="#CCCCCC">that if</font><font color="#E5E5E5"> that said on a file or binary or</font>

120
00:05:06,030 --> 00:05:10,830
directory<font color="#E5E5E5"> only the owner has</font><font color="#CCCCCC"> the ability</font>

121
00:05:08,789 --> 00:05:12,510
to modify<font color="#E5E5E5"> that no matter what the other</font>

122
00:05:10,830 --> 00:05:13,289
<font color="#E5E5E5">permissions are only the owner can</font>

123
00:05:12,510 --> 00:05:15,570
modify it

124
00:05:13,289 --> 00:05:17,039
it's a weird<font color="#E5E5E5"> scenario</font><font color="#CCCCCC"> and you'll see</font>

125
00:05:15,570 --> 00:05:19,199
you'll see sticky bits more<font color="#E5E5E5"> and</font><font color="#CCCCCC"> like</font>

126
00:05:17,039 --> 00:05:20,430
<font color="#CCCCCC">CTFs and stuff I</font><font color="#E5E5E5"> don't I don't ever</font><font color="#CCCCCC"> see</font>

127
00:05:19,199 --> 00:05:23,190
that in the real<font color="#E5E5E5"> world but if you're</font>

128
00:05:20,430 --> 00:05:24,870
doing a CTF that's<font color="#E5E5E5"> nothing I actually do</font>

129
00:05:23,190 --> 00:05:28,050
you see it in like trusted<font color="#E5E5E5"> Solaris back</font>

130
00:05:24,870 --> 00:05:29,610
in the day<font color="#E5E5E5"> some very strict versions of</font>

131
00:05:28,050 --> 00:05:32,550
<font color="#CCCCCC">selinux and things like</font><font color="#E5E5E5"> that you'll see</font>

132
00:05:29,610 --> 00:05:34,500
<font color="#CCCCCC">it</font><font color="#E5E5E5"> set file permissions go through this</font>

133
00:05:32,550 --> 00:05:36,150
quick some<font color="#E5E5E5"> interesting files out there</font>

134
00:05:34,500 --> 00:05:38,130
if you<font color="#E5E5E5"> get onto a system search and see</font>

135
00:05:36,150 --> 00:05:40,109
if you have read access<font color="#CCCCCC"> to these files</font>

136
00:05:38,130 --> 00:05:42,020
<font color="#CCCCCC">it's the password</font><font color="#E5E5E5"> if nothing else just</font>

137
00:05:40,110 --> 00:05:45,419
<font color="#E5E5E5">to get a user list off</font><font color="#CCCCCC"> the system</font>

138
00:05:42,020 --> 00:05:47,729
anything under var log or var mail those

139
00:05:45,419 --> 00:05:49,530
are great<font color="#E5E5E5"> var log on the UNIX system</font>

140
00:05:47,729 --> 00:05:51,570
pretty<font color="#E5E5E5"> much every single service that is</font>

141
00:05:49,530 --> 00:05:54,030
<font color="#E5E5E5">running on their</font><font color="#CCCCCC"> log set directory</font><font color="#E5E5E5"> and</font>

142
00:05:51,570 --> 00:05:56,099
they tend to<font color="#E5E5E5"> be fairly open on</font>

143
00:05:54,030 --> 00:05:58,469
permissions in a lot of<font color="#E5E5E5"> cases you</font><font color="#CCCCCC"> can</font>

144
00:05:56,099 --> 00:05:59,550
<font color="#E5E5E5">see</font><font color="#CCCCCC"> their Pesce logging see their some</font>

145
00:05:58,470 --> 00:06:01,560
<font color="#E5E5E5">of them are gonna be locked down like</font>

146
00:05:59,550 --> 00:06:02,910
<font color="#CCCCCC">your</font><font color="#E5E5E5"> auth log and stuff like that but</font>

147
00:06:01,560 --> 00:06:05,150
you're<font color="#E5E5E5"> gonna get a lot</font><font color="#CCCCCC"> of information</font>

148
00:06:02,910 --> 00:06:08,160
out there<font color="#CCCCCC"> farm mail if it isn't lockdown</font>

149
00:06:05,150 --> 00:06:10,109
<font color="#E5E5E5">you can read their email if they're</font>

150
00:06:08,160 --> 00:06:12,479
using a mail server<font color="#E5E5E5"> on the UNIX system</font>

151
00:06:10,110 --> 00:06:15,960
that is<font color="#CCCCCC"> look</font><font color="#E5E5E5"> in the home directories for</font>

152
00:06:12,479 --> 00:06:18,120
dot history files dot bash history files

153
00:06:15,960 --> 00:06:20,729
<font color="#E5E5E5">dot forward files where you can forward</font>

154
00:06:18,120 --> 00:06:21,690
emails around<font color="#CCCCCC"> dot</font><font color="#E5E5E5"> our host file which</font>

155
00:06:20,729 --> 00:06:24,150
we're gonna<font color="#CCCCCC"> talk about</font><font color="#E5E5E5"> that one</font><font color="#CCCCCC"> are very</font>

156
00:06:21,690 --> 00:06:27,900
<font color="#E5E5E5">good I mean actually any dot file on a</font>

157
00:06:24,150 --> 00:06:30,060
home very useful if<font color="#E5E5E5"> you want to search</font>

158
00:06:27,900 --> 00:06:32,370
for<font color="#CCCCCC"> sent UID files or set GID files</font>

159
00:06:30,060 --> 00:06:34,830
<font color="#E5E5E5">there's a command up there it's</font><font color="#CCCCCC"> very</font>

160
00:06:32,370 --> 00:06:36,690
short<font color="#E5E5E5"> it's just fine space the directory</font>

161
00:06:34,830 --> 00:06:39,960
<font color="#E5E5E5">on a start</font><font color="#CCCCCC"> and</font><font color="#E5E5E5"> space - per</font>

162
00:06:36,690 --> 00:06:43,350
space<font color="#CCCCCC"> slash than 4-thousand that is the</font>

163
00:06:39,960 --> 00:06:45,719
bit flag for set<font color="#CCCCCC"> GI set</font><font color="#E5E5E5"> UID then that's</font>

164
00:06:43,350 --> 00:06:47,850
print or -<font color="#CCCCCC"> LS there's other options</font><font color="#E5E5E5"> on</font>

165
00:06:45,720 --> 00:06:49,970
<font color="#E5E5E5">the end now</font><font color="#CCCCCC"> to list them all out we'll</font>

166
00:06:47,850 --> 00:06:53,640
<font color="#E5E5E5">take a quick look</font><font color="#CCCCCC"> at a demo showing that</font>

167
00:06:49,970 --> 00:06:55,200
later during us some stuff trust

168
00:06:53,640 --> 00:06:57,900
relationships I think<font color="#CCCCCC"> this is the last</font>

169
00:06:55,200 --> 00:06:59,130
history slide really<font color="#E5E5E5"> here so bear with</font>

170
00:06:57,900 --> 00:07:00,750
me

171
00:06:59,130 --> 00:07:04,800
you have<font color="#CCCCCC"> heart commands which</font><font color="#E5E5E5"> are very</font>

172
00:07:00,750 --> 00:07:09,090
useful<font color="#CCCCCC"> think of them</font><font color="#E5E5E5"> as really old</font>

173
00:07:04,800 --> 00:07:11,970
versions of<font color="#E5E5E5"> SSH honestly you can connect</font>

174
00:07:09,090 --> 00:07:16,049
into<font color="#E5E5E5"> remote systems with our</font><font color="#CCCCCC"> HR</font><font color="#E5E5E5"> exec you</font>

175
00:07:11,970 --> 00:07:18,900
can<font color="#E5E5E5"> log</font><font color="#CCCCCC"> into the</font><font color="#E5E5E5"> system you can</font><font color="#CCCCCC"> of</font>

176
00:07:16,050 --> 00:07:20,190
there's a very steep Isles you<font color="#CCCCCC"> can you</font>

177
00:07:18,900 --> 00:07:23,159
can maneuver<font color="#E5E5E5"> around things like that</font>

178
00:07:20,190 --> 00:07:24,840
it's it's<font color="#E5E5E5"> an old dinosaur version</font>

179
00:07:23,160 --> 00:07:26,790
essentially<font color="#E5E5E5"> of connecting</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> the system</font>

180
00:07:24,840 --> 00:07:27,869
<font color="#E5E5E5">right so the nice thing</font><font color="#CCCCCC"> about it is</font>

181
00:07:26,790 --> 00:07:30,150
<font color="#E5E5E5">there's a feature in there called the</font>

182
00:07:27,870 --> 00:07:32,850
dot<font color="#CCCCCC"> or host file or</font><font color="#E5E5E5"> host ID quit file</font>

183
00:07:30,150 --> 00:07:36,359
both<font color="#CCCCCC"> serves similar purposes think of</font>

184
00:07:32,850 --> 00:07:39,540
those as<font color="#E5E5E5"> your authorized keys on a SSH</font>

185
00:07:36,360 --> 00:07:41,460
server<font color="#E5E5E5"> you set up an SSH server you set</font>

186
00:07:39,540 --> 00:07:44,100
up your authorized keys you<font color="#E5E5E5"> can connect</font>

187
00:07:41,460 --> 00:07:46,560
<font color="#E5E5E5">into it as your user</font><font color="#CCCCCC"> without providing a</font>

188
00:07:44,100 --> 00:07:49,230
password anymore<font color="#E5E5E5"> well at the same thing</font>

189
00:07:46,560 --> 00:07:51,720
here if in your<font color="#CCCCCC"> our host our hosts file</font>

190
00:07:49,230 --> 00:07:53,640
<font color="#CCCCCC">or a</font><font color="#E5E5E5"> host of equip you put in the IP of</font>

191
00:07:51,720 --> 00:07:56,040
<font color="#E5E5E5">the system and you put in</font><font color="#CCCCCC"> the username</font>

192
00:07:53,640 --> 00:07:58,800
that<font color="#E5E5E5"> you want to allow access from that</font>

193
00:07:56,040 --> 00:08:01,680
<font color="#E5E5E5">IP that person can then log in without</font>

194
00:07:58,800 --> 00:08:03,000
<font color="#E5E5E5">providing credentials well there's also</font>

195
00:08:01,680 --> 00:08:05,340
a nice<font color="#CCCCCC"> little feature</font><font color="#E5E5E5"> in there if you</font>

196
00:08:03,000 --> 00:08:07,200
<font color="#E5E5E5">have the</font><font color="#CCCCCC"> ability to create</font><font color="#E5E5E5"> this or it's</font>

197
00:08:05,340 --> 00:08:11,250
already created<font color="#E5E5E5"> if you do a plus space</font>

198
00:08:07,200 --> 00:08:15,810
plus that<font color="#CCCCCC"> means any system any user has</font>

199
00:08:11,250 --> 00:08:17,340
access<font color="#CCCCCC"> to log in with that password if</font>

200
00:08:15,810 --> 00:08:19,470
you<font color="#CCCCCC"> find a way to write to a remote</font>

201
00:08:17,340 --> 00:08:21,359
system<font color="#CCCCCC"> through some</font><font color="#E5E5E5"> sort of exploit and</font>

202
00:08:19,470 --> 00:08:23,310
you can write the dot our<font color="#E5E5E5"> host file with</font>

203
00:08:21,360 --> 00:08:26,340
a plus space plus in there<font color="#E5E5E5"> then you can</font>

204
00:08:23,310 --> 00:08:28,680
if they're running ssars HR<font color="#E5E5E5"> tech you can</font>

205
00:08:26,340 --> 00:08:30,150
<font color="#E5E5E5">log in as them without a password</font>

206
00:08:28,680 --> 00:08:32,120
anymore<font color="#CCCCCC"> yeah they</font><font color="#E5E5E5"> don't need a password</font>

207
00:08:30,150 --> 00:08:36,120
<font color="#E5E5E5">you just</font>

208
00:08:32,120 --> 00:08:38,880
NFS is that their<font color="#E5E5E5"> version of shares</font><font color="#CCCCCC"> UNIX</font>

209
00:08:36,120 --> 00:08:42,000
system shares<font color="#E5E5E5"> network file system</font><font color="#CCCCCC"> the</font>

210
00:08:38,880 --> 00:08:44,400
<font color="#CCCCCC">main thing here is that</font><font color="#E5E5E5"> a lot of older</font>

211
00:08:42,000 --> 00:08:46,680
versions and some modern<font color="#E5E5E5"> versions</font><font color="#CCCCCC"> I've</font>

212
00:08:44,400 --> 00:08:50,069
<font color="#E5E5E5">seen as well have the ability that when</font>

213
00:08:46,680 --> 00:08:50,880
you mount a remote filesystem and

214
00:08:50,070 --> 00:08:53,340
it allows you<font color="#E5E5E5"> to write</font><font color="#CCCCCC"> to that</font>

215
00:08:50,880 --> 00:08:55,080
<font color="#CCCCCC">filesystem as whatever</font><font color="#E5E5E5"> user access you</font>

216
00:08:53,340 --> 00:08:56,790
<font color="#CCCCCC">have on your own system so if your user</font>

217
00:08:55,080 --> 00:08:59,490
Adam it tries to<font color="#E5E5E5"> write it as whatever</font>

218
00:08:56,790 --> 00:09:01,140
your UID is<font color="#E5E5E5"> over there if it can some</font>

219
00:08:59,490 --> 00:09:03,300
try to<font color="#E5E5E5"> restrict this try to do various</font>

220
00:09:01,140 --> 00:09:04,949
<font color="#CCCCCC">things but</font><font color="#E5E5E5"> the big one comes in is if</font>

221
00:09:03,300 --> 00:09:07,709
your<font color="#CCCCCC"> root on your</font><font color="#E5E5E5"> own system and you try</font>

222
00:09:04,950 --> 00:09:08,970
<font color="#E5E5E5">to write into that file system</font><font color="#CCCCCC"> it didn't</font>

223
00:09:07,710 --> 00:09:11,460
<font color="#E5E5E5">used</font><font color="#CCCCCC"> to mind and it wouldn't</font><font color="#E5E5E5"> let you</font>

224
00:09:08,970 --> 00:09:13,350
write as root<font color="#E5E5E5"> they came out</font><font color="#CCCCCC"> with a</font>

225
00:09:11,460 --> 00:09:15,150
concept called<font color="#E5E5E5"> root squash which then</font>

226
00:09:13,350 --> 00:09:17,610
took if somebody's<font color="#CCCCCC"> trying to</font><font color="#E5E5E5"> write in</font>

227
00:09:15,150 --> 00:09:19,980
here<font color="#E5E5E5"> as root okay you now have privilege</font>

228
00:09:17,610 --> 00:09:22,560
of<font color="#CCCCCC"> 1000 or</font><font color="#E5E5E5"> something you dummy user</font>

229
00:09:19,980 --> 00:09:23,940
account and<font color="#E5E5E5"> okay we're going</font><font color="#CCCCCC"> to go ahead</font>

230
00:09:22,560 --> 00:09:25,739
<font color="#E5E5E5">and see some demos on that let's go</font>

231
00:09:23,940 --> 00:09:29,580
<font color="#CCCCCC">ahead</font><font color="#E5E5E5"> and see through the</font><font color="#CCCCCC"> are</font><font color="#E5E5E5"> command</font>

232
00:09:25,740 --> 00:09:31,940
<font color="#E5E5E5">one here we're gonna that is a little</font>

233
00:09:29,580 --> 00:09:36,840
<font color="#CCCCCC">small</font>

234
00:09:31,940 --> 00:09:40,380
<font color="#CCCCCC">alright okay so we're so he's</font>

235
00:09:36,840 --> 00:09:42,240
essentially which is which is<font color="#CCCCCC"> a network</font>

236
00:09:40,380 --> 00:09:43,530
<font color="#E5E5E5">mapper</font><font color="#CCCCCC"> and essentially opens but you</font>

237
00:09:42,240 --> 00:09:45,630
know what what ports<font color="#E5E5E5"> protocols and</font>

238
00:09:43,530 --> 00:09:47,640
services<font color="#CCCCCC"> around so he runs on map pcs</font>

239
00:09:45,630 --> 00:09:50,370
that<font color="#CCCCCC"> are</font><font color="#E5E5E5"> exact and different things are</font>

240
00:09:47,640 --> 00:09:53,520
open on<font color="#E5E5E5"> this box so he's gonna run our</font>

241
00:09:50,370 --> 00:09:54,840
PC info to turn<font color="#CCCCCC"> to</font><font color="#E5E5E5"> see okay well we know</font>

242
00:09:53,520 --> 00:09:56,790
that<font color="#E5E5E5"> some</font><font color="#CCCCCC"> of this is open let's</font><font color="#E5E5E5"> see what</font>

243
00:09:54,840 --> 00:09:58,920
information<font color="#CCCCCC"> will</font><font color="#E5E5E5"> you pull down so our PC</font>

244
00:09:56,790 --> 00:10:03,390
info<font color="#E5E5E5"> the name of the host that</font><font color="#CCCCCC"> we</font><font color="#E5E5E5"> just</font>

245
00:09:58,920 --> 00:10:08,250
scan we see<font color="#E5E5E5"> uh we've got absolutely so</font>

246
00:10:03,390 --> 00:10:10,350
we have we see our users<font color="#E5E5E5"> are set the in</font>

247
00:10:08,250 --> 00:10:11,700
offense<font color="#E5E5E5"> all these different services on</font>

248
00:10:10,350 --> 00:10:13,320
there<font color="#E5E5E5"> one thing we're gonna do is</font><font color="#CCCCCC"> just</font>

249
00:10:11,700 --> 00:10:14,520
run our sis info<font color="#E5E5E5"> it tells you a little</font>

250
00:10:13,320 --> 00:10:16,950
<font color="#E5E5E5">bit</font><font color="#CCCCCC"> of information about</font><font color="#E5E5E5"> the remote</font>

251
00:10:14,520 --> 00:10:18,300
system<font color="#E5E5E5"> if it's there great there's not a</font>

252
00:10:16,950 --> 00:10:19,920
lot of information even<font color="#E5E5E5"> pull from that</font>

253
00:10:18,300 --> 00:10:21,300
<font color="#E5E5E5">but sometimes you get up time you can</font>

254
00:10:19,920 --> 00:10:23,790
get a ferry so that all<font color="#CCCCCC"> information</font>

255
00:10:21,300 --> 00:10:25,560
gathering<font color="#E5E5E5"> then we run our users</font><font color="#CCCCCC"> that let</font>

256
00:10:23,790 --> 00:10:28,319
you<font color="#E5E5E5"> know what users</font><font color="#CCCCCC"> are logged into that</font>

257
00:10:25,560 --> 00:10:31,050
remote system at this<font color="#E5E5E5"> time the nice</font>

258
00:10:28,320 --> 00:10:33,210
<font color="#E5E5E5">thing about that is</font><font color="#CCCCCC"> you can</font><font color="#E5E5E5"> possibly use</font>

259
00:10:31,050 --> 00:10:34,979
that to get<font color="#E5E5E5"> a user list off the remote</font>

260
00:10:33,210 --> 00:10:36,600
system in<font color="#E5E5E5"> this case it</font><font color="#CCCCCC"> just shows a root</font>

261
00:10:34,980 --> 00:10:39,270
is logged in<font color="#E5E5E5"> over there so I'm just</font>

262
00:10:36,600 --> 00:10:43,470
gonna<font color="#E5E5E5"> try to see if by chance they have</font>

263
00:10:39,270 --> 00:10:46,470
a our<font color="#E5E5E5"> host file setup</font><font color="#CCCCCC"> Hydra an rsh space</font>

264
00:10:43,470 --> 00:10:48,180
<font color="#CCCCCC">dash L the user that</font><font color="#E5E5E5"> I want to log in as</font>

265
00:10:46,470 --> 00:10:51,090
which in this case is gonna be<font color="#E5E5E5"> root let</font>

266
00:10:48,180 --> 00:10:52,589
it catch up there<font color="#CCCCCC"> I</font><font color="#E5E5E5"> think good thing</font>

267
00:10:51,090 --> 00:10:55,230
<font color="#E5E5E5">about</font><font color="#CCCCCC"> a new Bernie users to is</font>

268
00:10:52,590 --> 00:10:56,460
<font color="#E5E5E5">oftentimes you can spray weak passwords</font>

269
00:10:55,230 --> 00:10:59,040
you know winter<font color="#CCCCCC"> twenty nine same</font>

270
00:10:56,460 --> 00:11:02,790
<font color="#CCCCCC">passwords like</font><font color="#E5E5E5"> that using</font><font color="#CCCCCC"> that usually</font>

271
00:10:59,040 --> 00:11:03,360
<font color="#CCCCCC">with a pool so so I just did the R</font><font color="#E5E5E5"> SH -</font>

272
00:11:02,790 --> 00:11:05,730
<font color="#CCCCCC">L</font>

273
00:11:03,360 --> 00:11:09,570
<font color="#E5E5E5">and then I pee</font><font color="#CCCCCC"> it let me in no</font><font color="#E5E5E5"> password</font>

274
00:11:05,730 --> 00:11:12,480
I run<font color="#CCCCCC"> I D it shows our UID root</font><font color="#E5E5E5"> and GID</font>

275
00:11:09,570 --> 00:11:14,880
root groups root and if you look at the

276
00:11:12,480 --> 00:11:17,190
<font color="#E5E5E5">not our</font><font color="#CCCCCC"> host file there it has a plus</font>

277
00:11:14,880 --> 00:11:20,640
space plus in there granted this was a

278
00:11:17,190 --> 00:11:22,680
little you<font color="#E5E5E5"> might not see this very often</font>

279
00:11:20,640 --> 00:11:26,189
<font color="#E5E5E5">out there you very well might depending</font>

280
00:11:22,680 --> 00:11:28,949
on what level<font color="#E5E5E5"> security minded the</font>

281
00:11:26,190 --> 00:11:33,990
developers are stuff like that<font color="#E5E5E5"> one thing</font>

282
00:11:28,950 --> 00:11:36,120
I will call<font color="#E5E5E5"> out here is</font><font color="#CCCCCC"> UID that is a</font>

283
00:11:33,990 --> 00:11:38,190
user identifier it's what level

284
00:11:36,120 --> 00:11:40,440
privilege you are it is that UID I<font color="#CCCCCC"> said</font>

285
00:11:38,190 --> 00:11:42,000
<font color="#CCCCCC">up front</font><font color="#E5E5E5"> whenever</font><font color="#CCCCCC"> you're running</font><font color="#E5E5E5"> a</font>

286
00:11:40,440 --> 00:11:44,220
command<font color="#E5E5E5"> or logged in on UNIX system</font>

287
00:11:42,000 --> 00:11:46,980
you're<font color="#CCCCCC"> running as well</font><font color="#E5E5E5"> whoever your UID</font>

288
00:11:44,220 --> 00:11:50,390
is<font color="#E5E5E5"> there's another concept called EU ID</font>

289
00:11:46,980 --> 00:11:53,970
which<font color="#CCCCCC"> is</font><font color="#E5E5E5"> effective your UID it's sort of</font>

290
00:11:50,390 --> 00:11:55,380
saying all<font color="#CCCCCC"> Windows system when you run a</font>

291
00:11:53,970 --> 00:11:57,600
command as I<font color="#E5E5E5"> saw you can't do this</font>

292
00:11:55,380 --> 00:11:59,279
things they run as<font color="#CCCCCC"> administrator' sort</font>

293
00:11:57,600 --> 00:12:01,740
of that concept<font color="#E5E5E5"> it's like okay I know</font>

294
00:11:59,279 --> 00:12:03,060
I'm<font color="#CCCCCC"> really Joe Blow but I really want</font>

295
00:12:01,740 --> 00:12:05,190
<font color="#E5E5E5">you to run it as this other person so</font>

296
00:12:03,060 --> 00:12:07,349
give<font color="#E5E5E5"> me an effective ID effective UID</font>

297
00:12:05,190 --> 00:12:10,230
<font color="#CCCCCC">that will come into play a little</font><font color="#E5E5E5"> later</font>

298
00:12:07,350 --> 00:12:12,180
on<font color="#E5E5E5"> a different demo a quick little in FS</font>

299
00:12:10,230 --> 00:12:14,640
demo here<font color="#E5E5E5"> same sort of</font><font color="#CCCCCC"> thing we run in</font>

300
00:12:12,180 --> 00:12:20,699
map<font color="#CCCCCC"> upfront</font><font color="#E5E5E5"> just to see what</font><font color="#CCCCCC"> services</font>

301
00:12:14,640 --> 00:12:24,480
there are<font color="#CCCCCC"> ok</font><font color="#E5E5E5"> Wow I was almost smoked</font><font color="#CCCCCC"> but</font>

302
00:12:20,699 --> 00:12:26,160
I ran it with the NFS script or the show

303
00:12:24,480 --> 00:12:29,399
<font color="#E5E5E5">mount script for in a fast it showed</font>

304
00:12:26,160 --> 00:12:31,469
<font color="#CCCCCC">that there were exactly</font><font color="#E5E5E5"> we then we run a</font>

305
00:12:29,399 --> 00:12:34,620
show<font color="#E5E5E5"> mount -</font><font color="#CCCCCC"> e against the system</font><font color="#E5E5E5"> that</font>

306
00:12:31,470 --> 00:12:36,630
<font color="#CCCCCC">tells us what are the in offense mount</font>

307
00:12:34,620 --> 00:12:38,760
points that are<font color="#E5E5E5"> exported in this case</font>

308
00:12:36,630 --> 00:12:39,390
it's slash so they're exporting the root

309
00:12:38,760 --> 00:12:42,269
filesystem

310
00:12:39,390 --> 00:12:43,529
<font color="#E5E5E5">star means to everyone so it's not</font>

311
00:12:42,269 --> 00:12:45,300
restricted<font color="#E5E5E5"> to a particular IP address</font>

312
00:12:43,529 --> 00:12:48,240
something<font color="#E5E5E5"> like that so let's go ahead</font>

313
00:12:45,300 --> 00:12:50,760
<font color="#CCCCCC">and mount</font><font color="#E5E5E5"> it you will notice</font><font color="#CCCCCC"> that due to</font>

314
00:12:48,240 --> 00:12:53,160
the prompt<font color="#E5E5E5"> I am rude on my local system</font>

315
00:12:50,760 --> 00:12:56,459
here so go ahead<font color="#E5E5E5"> and</font><font color="#CCCCCC"> mount</font><font color="#E5E5E5"> it a CD into</font>

316
00:12:53,160 --> 00:12:59,040
that directory<font color="#E5E5E5"> so MNT remote I see the</font>

317
00:12:56,459 --> 00:13:02,609
remote filesystem<font color="#CCCCCC"> I CD into the root</font>

318
00:12:59,040 --> 00:13:04,829
home directory to show<font color="#E5E5E5"> that I can I echo</font>

319
00:13:02,610 --> 00:13:07,620
something<font color="#E5E5E5"> into a file so he's</font>

320
00:13:04,829 --> 00:13:10,319
essentially writing<font color="#E5E5E5"> to disk and writing</font>

321
00:13:07,620 --> 00:13:12,360
to this host that he's<font color="#E5E5E5"> now gain</font>

322
00:13:10,320 --> 00:13:13,829
unauthorized access to<font color="#E5E5E5"> that he has no</font>

323
00:13:12,360 --> 00:13:16,020
business being<font color="#CCCCCC"> on</font><font color="#E5E5E5"> somebody because</font><font color="#CCCCCC"> they</font>

324
00:13:13,829 --> 00:13:17,229
had an open manifest here<font color="#E5E5E5"> yep and if you</font>

325
00:13:16,020 --> 00:13:20,050
actually look<font color="#CCCCCC"> at the very bottom</font>

326
00:13:17,230 --> 00:13:23,020
you see test txt that I wrote<font color="#CCCCCC"> to and</font>

327
00:13:20,050 --> 00:13:30,540
it's owned by<font color="#CCCCCC"> route route at this point</font>

328
00:13:23,020 --> 00:13:33,040
so yeah so<font color="#E5E5E5"> I wrote as that user</font><font color="#CCCCCC"> great so</font>

329
00:13:30,540 --> 00:13:34,930
<font color="#CCCCCC">ok other kind</font><font color="#E5E5E5"> of application</font><font color="#CCCCCC"> flaw is out</font>

330
00:13:33,040 --> 00:13:37,959
there<font color="#E5E5E5"> historically there was some really</font>

331
00:13:34,930 --> 00:13:40,449
<font color="#E5E5E5">nice</font><font color="#CCCCCC"> ones like</font><font color="#E5E5E5"> telnet</font><font color="#CCCCCC"> D sad Mandy which</font>

332
00:13:37,960 --> 00:13:44,020
<font color="#E5E5E5">is system administrator daemon for</font>

333
00:13:40,450 --> 00:13:46,170
Solaris<font color="#E5E5E5"> Morris worm took care of took</font>

334
00:13:44,020 --> 00:13:48,160
advantage<font color="#CCCCCC"> of</font><font color="#E5E5E5"> some</font><font color="#CCCCCC"> of the</font><font color="#E5E5E5"> sin male ones</font>

335
00:13:46,170 --> 00:13:50,890
<font color="#CCCCCC">there's lots of other</font><font color="#E5E5E5"> ones</font><font color="#CCCCCC"> out there</font>

336
00:13:48,160 --> 00:13:53,829
<font color="#CCCCCC">actually in map and</font><font color="#E5E5E5"> the report scanning</font>

337
00:13:50,890 --> 00:13:55,990
tool has a<font color="#CCCCCC"> code</font><font color="#E5E5E5"> variety there's not</font>

338
00:13:53,830 --> 00:13:58,150
<font color="#E5E5E5">other version</font><font color="#CCCCCC"> that has essentially</font><font color="#E5E5E5"> an</font>

339
00:13:55,990 --> 00:14:01,720
interactive mode<font color="#E5E5E5"> and it was installed on</font>

340
00:13:58,150 --> 00:14:04,300
on some versions<font color="#E5E5E5"> of Linux and if if you</font>

341
00:14:01,720 --> 00:14:05,800
found that<font color="#CCCCCC"> nmap was owned and run by</font>

342
00:14:04,300 --> 00:14:07,770
root and<font color="#E5E5E5"> the interactive mode was</font>

343
00:14:05,800 --> 00:14:09,880
enabled you could<font color="#E5E5E5"> essentially get a</font>

344
00:14:07,770 --> 00:14:12,250
<font color="#E5E5E5">privileged collation shell on that box</font>

345
00:14:09,880 --> 00:14:14,439
because<font color="#E5E5E5"> again they installed it anything</font>

346
00:14:12,250 --> 00:14:16,150
anybody would mess with<font color="#CCCCCC"> it and we've</font>

347
00:14:14,440 --> 00:14:18,580
learned better since then<font color="#CCCCCC"> there's other</font>

348
00:14:16,150 --> 00:14:20,680
things<font color="#E5E5E5"> such</font><font color="#CCCCCC"> as PHP</font><font color="#E5E5E5"> my admin or</font><font color="#CCCCCC"> tomcat</font>

349
00:14:18,580 --> 00:14:22,630
urge a boss or Jenkins<font color="#CCCCCC"> you know these</font>

350
00:14:20,680 --> 00:14:24,219
are<font color="#CCCCCC"> all old</font><font color="#E5E5E5"> software versions and web</font>

351
00:14:22,630 --> 00:14:26,860
apps<font color="#E5E5E5"> that we see out in the wild even to</font>

352
00:14:24,220 --> 00:14:29,400
this day<font color="#CCCCCC"> that are</font><font color="#E5E5E5"> very easy to take</font>

353
00:14:26,860 --> 00:14:32,260
<font color="#CCCCCC">advantage of to escalate your privileges</font>

354
00:14:29,400 --> 00:14:35,590
my personal favorite exploit from<font color="#E5E5E5"> this</font>

355
00:14:32,260 --> 00:14:38,740
era of<font color="#CCCCCC"> unix is</font><font color="#E5E5E5"> the telnet D or F user</font>

356
00:14:35,590 --> 00:14:41,050
attack which targeted<font color="#E5E5E5"> certain versions</font>

357
00:14:38,740 --> 00:14:43,180
of Solaris 10 or open Solaris up into a

358
00:14:41,050 --> 00:14:45,310
certain release point<font color="#E5E5E5"> which was very</font>

359
00:14:43,180 --> 00:14:48,819
common<font color="#CCCCCC"> very widely used across</font>

360
00:14:45,310 --> 00:14:51,640
<font color="#E5E5E5">Department of Defense a lot of telecoms</font>

361
00:14:48,820 --> 00:14:53,200
a lot of is<font color="#E5E5E5"> just out there a lot the</font>

362
00:14:51,640 --> 00:14:56,800
amazing<font color="#E5E5E5"> thing here is that you tell</font><font color="#CCCCCC"> a</font>

363
00:14:53,200 --> 00:15:00,160
telnet<font color="#E5E5E5"> space -</font><font color="#CCCCCC"> L space and then in</font>

364
00:14:56,800 --> 00:15:02,319
quotes<font color="#CCCCCC"> - f BN or</font><font color="#E5E5E5"> - alpha root or some</font>

365
00:15:00,160 --> 00:15:05,050
user account<font color="#CCCCCC"> on that system</font><font color="#E5E5E5"> and then the</font>

366
00:15:02,320 --> 00:15:06,820
IP and hit enter<font color="#E5E5E5"> and it says thank you</font>

367
00:15:05,050 --> 00:15:11,439
here you<font color="#CCCCCC"> are</font><font color="#E5E5E5"> with a shell of that user</font>

368
00:15:06,820 --> 00:15:13,570
now<font color="#E5E5E5"> I don't</font><font color="#CCCCCC"> understand fully the</font>

369
00:15:11,440 --> 00:15:15,940
background and understanding<font color="#E5E5E5"> of how</font><font color="#CCCCCC"> it</font>

370
00:15:13,570 --> 00:15:20,020
<font color="#CCCCCC">actually does that</font><font color="#E5E5E5"> in there is it just</font>

371
00:15:15,940 --> 00:15:23,080
is a sort of<font color="#E5E5E5"> like</font><font color="#CCCCCC"> a heap overflow ish</font>

372
00:15:20,020 --> 00:15:26,650
thing I<font color="#E5E5E5"> believe but either way you could</font>

373
00:15:23,080 --> 00:15:27,649
do<font color="#CCCCCC"> this on any old Solaris 10</font><font color="#E5E5E5"> box up to</font>

374
00:15:26,650 --> 00:15:31,519
<font color="#CCCCCC">Brown</font>

375
00:15:27,649 --> 00:15:34,399
a big level<font color="#CCCCCC"> a torso</font><font color="#E5E5E5"> and you're gonna get</font>

376
00:15:31,519 --> 00:15:35,870
<font color="#E5E5E5">shell</font><font color="#CCCCCC"> if you uh and as old</font><font color="#E5E5E5"> as that</font>

377
00:15:34,399 --> 00:15:36,920
<font color="#E5E5E5">sounds I've actually seen this in the</font>

378
00:15:35,870 --> 00:15:39,889
<font color="#E5E5E5">wild I actually just saw this in the</font>

379
00:15:36,920 --> 00:15:41,990
<font color="#E5E5E5">well two weeks ago at a customer site so</font>

380
00:15:39,889 --> 00:15:43,970
this is this<font color="#E5E5E5"> is</font><font color="#CCCCCC"> still very</font><font color="#E5E5E5"> real this is</font>

381
00:15:41,990 --> 00:15:45,529
still<font color="#E5E5E5"> very valid this is still being</font>

382
00:15:43,970 --> 00:15:48,529
seen<font color="#E5E5E5"> out in the wild</font><font color="#CCCCCC"> and this comes back</font>

383
00:15:45,529 --> 00:15:51,559
<font color="#CCCCCC">from the days of again lazy sysadmin and</font>

384
00:15:48,529 --> 00:15:54,050
or trying to<font color="#E5E5E5"> make</font><font color="#CCCCCC"> it easier to do</font><font color="#E5E5E5"> things</font>

385
00:15:51,559 --> 00:15:55,219
to do tasks and stuff so if you<font color="#E5E5E5"> think</font>

386
00:15:54,050 --> 00:15:57,079
it's hard<font color="#CCCCCC"> to</font><font color="#E5E5E5"> get your</font><font color="#CCCCCC"> Windows</font>

387
00:15:55,220 --> 00:16:00,350
administrators to update your<font color="#E5E5E5"> Windows</font>

388
00:15:57,079 --> 00:16:02,089
servers<font color="#E5E5E5"> up to the latest</font><font color="#CCCCCC"> Windows 2016 or</font>

389
00:16:00,350 --> 00:16:04,459
whatever<font color="#CCCCCC"> try to get a eunuch segment</font>

390
00:16:02,089 --> 00:16:05,959
update their server<font color="#E5E5E5"> it's near</font><font color="#CCCCCC"> impossible</font>

391
00:16:04,459 --> 00:16:08,420
especially<font color="#E5E5E5"> once that you have a version</font>

392
00:16:05,959 --> 00:16:10,160
of Slayers on there they tend to keep it

393
00:16:08,420 --> 00:16:13,998
on<font color="#E5E5E5"> there they don't want to reinstall</font>

394
00:16:10,160 --> 00:16:15,469
that<font color="#E5E5E5"> if it works yeah you leave it so if</font>

395
00:16:13,999 --> 00:16:17,389
you find a node version<font color="#CCCCCC"> of Solaris odds</font>

396
00:16:15,470 --> 00:16:19,430
are it's not<font color="#E5E5E5"> gonna be patched to that so</font>

397
00:16:17,389 --> 00:16:22,850
<font color="#E5E5E5">all right handing off</font><font color="#CCCCCC"> to you for a</font>

398
00:16:19,430 --> 00:16:24,469
<font color="#E5E5E5">little bit</font><font color="#CCCCCC"> okay so let's</font><font color="#E5E5E5"> look at some</font>

399
00:16:22,850 --> 00:16:25,850
you know so we've<font color="#CCCCCC"> gone</font><font color="#E5E5E5"> over some history</font>

400
00:16:24,470 --> 00:16:27,230
<font color="#E5E5E5">of</font><font color="#CCCCCC"> goners from historical issues and</font>

401
00:16:25,850 --> 00:16:30,290
things so let's look<font color="#E5E5E5"> at some real</font><font color="#CCCCCC"> world</font>

402
00:16:27,230 --> 00:16:31,610
privilege escalation<font color="#E5E5E5"> okay so I've got</font><font color="#CCCCCC"> a</font>

403
00:16:30,290 --> 00:16:33,469
quick note for<font color="#CCCCCC"> y'all this</font><font color="#E5E5E5"> is</font><font color="#CCCCCC"> gonna sound</font>

404
00:16:31,610 --> 00:16:35,509
a<font color="#E5E5E5"> little cheesy</font><font color="#CCCCCC"> but just bear with me</font>

405
00:16:33,470 --> 00:16:37,730
<font color="#E5E5E5">occasionally throughout this part of the</font>

406
00:16:35,509 --> 00:16:40,040
talk<font color="#CCCCCC"> you guys are gonna hear me say</font><font color="#E5E5E5"> oh</font>

407
00:16:37,730 --> 00:16:42,500
<font color="#E5E5E5">so we've got a shell so when you hear me</font>

408
00:16:40,040 --> 00:16:44,120
<font color="#CCCCCC">say that I</font><font color="#E5E5E5"> need y'all if you could just</font>

409
00:16:42,500 --> 00:16:46,790
just yell out turtle power as<font color="#CCCCCC"> long as</font>

410
00:16:44,120 --> 00:16:48,470
you can can y'all do<font color="#CCCCCC"> that for me</font><font color="#E5E5E5"> it's</font>

411
00:16:46,790 --> 00:16:49,670
easy<font color="#E5E5E5"> this edge it's very</font><font color="#CCCCCC"> we'll</font><font color="#E5E5E5"> see we'll</font>

412
00:16:48,470 --> 00:16:53,360
see<font color="#CCCCCC"> if you do it</font><font color="#E5E5E5"> okay so let's test it</font>

413
00:16:49,670 --> 00:16:54,860
so so we've got a shell<font color="#CCCCCC"> all right</font>

414
00:16:53,360 --> 00:16:57,259
and the reason we do that is because

415
00:16:54,860 --> 00:16:59,449
<font color="#E5E5E5">it's pen testers we do a shell dance</font>

416
00:16:57,259 --> 00:17:00,740
right<font color="#CCCCCC"> when we get a shell in a box</font>

417
00:16:59,449 --> 00:17:02,359
oftentimes you know we've<font color="#E5E5E5"> been working</font>

418
00:17:00,740 --> 00:17:04,309
<font color="#CCCCCC">on it for</font><font color="#E5E5E5"> several hours or sometimes</font>

419
00:17:02,360 --> 00:17:05,929
<font color="#CCCCCC">we're really excited</font><font color="#E5E5E5"> so a lot</font><font color="#CCCCCC"> of</font><font color="#E5E5E5"> us get</font>

420
00:17:04,309 --> 00:17:07,250
<font color="#E5E5E5">up and like you or you know I'll play</font>

421
00:17:05,929 --> 00:17:09,319
some good some<font color="#CCCCCC"> good you know</font><font color="#E5E5E5"> rockin</font>

422
00:17:07,250 --> 00:17:10,398
music<font color="#CCCCCC"> and stuff because</font><font color="#E5E5E5"> you finally</font>

423
00:17:09,319 --> 00:17:14,139
<font color="#E5E5E5">gotten somewhere</font><font color="#CCCCCC"> I</font><font color="#E5E5E5"> finally got a</font>

424
00:17:10,398 --> 00:17:14,139
foothold in<font color="#E5E5E5"> the network so it's</font><font color="#CCCCCC"> across</font>

425
00:17:15,398 --> 00:17:24,678
that's true so it shouldn't be<font color="#CCCCCC"> dancing</font>

426
00:17:17,599 --> 00:17:29,299
that's<font color="#E5E5E5"> why I rock okay so you've got</font><font color="#CCCCCC"> a</font>

427
00:17:24,679 --> 00:17:30,409
box<font color="#E5E5E5"> we've got</font><font color="#CCCCCC"> a shell all right what's</font>

428
00:17:29,299 --> 00:17:32,270
the<font color="#E5E5E5"> first thing we need to do right</font><font color="#CCCCCC"> if</font>

429
00:17:30,409 --> 00:17:33,500
we if<font color="#CCCCCC"> we get unauthorized access</font><font color="#E5E5E5"> to a</font>

430
00:17:32,270 --> 00:17:35,090
box<font color="#E5E5E5"> first thing we need to do is get</font>

431
00:17:33,500 --> 00:17:36,740
<font color="#CCCCCC">away the land</font><font color="#E5E5E5"> we need to do enumeration</font>

432
00:17:35,090 --> 00:17:37,850
right<font color="#E5E5E5"> you need to figure out</font><font color="#CCCCCC"> things like</font>

433
00:17:36,740 --> 00:17:39,740
<font color="#E5E5E5">well Who</font><font color="#CCCCCC"> am I</font>

434
00:17:37,850 --> 00:17:42,139
who's this<font color="#CCCCCC"> Activision I was able to get</font>

435
00:17:39,740 --> 00:17:44,810
on<font color="#E5E5E5"> ass</font><font color="#CCCCCC"> who else is logged in who are the</font>

436
00:17:42,140 --> 00:17:46,970
super users<font color="#E5E5E5"> what kind of info do I have</font>

437
00:17:44,810 --> 00:17:49,100
access<font color="#CCCCCC"> to</font><font color="#E5E5E5"> what can I do you know from</font>

438
00:17:46,970 --> 00:17:50,450
<font color="#CCCCCC">where I'm sitting and where can</font><font color="#E5E5E5"> I go</font><font color="#CCCCCC"> you</font>

439
00:17:49,100 --> 00:17:51,909
know<font color="#E5E5E5"> can i navigate throughout the the</font>

440
00:17:50,450 --> 00:17:54,080
<font color="#E5E5E5">file system things like that</font>

441
00:17:51,910 --> 00:17:55,910
and to do<font color="#E5E5E5"> that we've got several</font>

442
00:17:54,080 --> 00:17:57,530
<font color="#E5E5E5">different</font><font color="#CCCCCC"> commands from Quran</font><font color="#E5E5E5"> you get on</font>

443
00:17:55,910 --> 00:18:00,350
a box<font color="#E5E5E5"> you can run things like you named</font>

444
00:17:57,530 --> 00:18:02,720
<font color="#CCCCCC">Ave it</font><font color="#E5E5E5"> suppose use</font><font color="#CCCCCC"> a kernel</font><font color="#E5E5E5"> version and</font>

445
00:18:00,350 --> 00:18:04,419
there are little<font color="#E5E5E5"> bits</font><font color="#CCCCCC"> of kernel exploits</font>

446
00:18:02,720 --> 00:18:06,740
out there that are one<font color="#E5E5E5"> click and done</font>

447
00:18:04,420 --> 00:18:09,470
you can run env that gives you the

448
00:18:06,740 --> 00:18:10,580
environment variable PWD is the working

449
00:18:09,470 --> 00:18:12,290
directory<font color="#CCCCCC"> that tells you the current</font>

450
00:18:10,580 --> 00:18:14,720
<font color="#E5E5E5">directory you're sitting in</font><font color="#CCCCCC"> who</font><font color="#E5E5E5"> am</font><font color="#CCCCCC"> ia</font>

451
00:18:12,290 --> 00:18:18,080
<font color="#E5E5E5">user history you can check the history</font>

452
00:18:14,720 --> 00:18:20,480
<font color="#E5E5E5">for the current user</font><font color="#CCCCCC"> cat</font><font color="#E5E5E5"> bash history</font>

453
00:18:18,080 --> 00:18:23,179
tells you<font color="#E5E5E5"> the past history that's</font><font color="#CCCCCC"> been</font>

454
00:18:20,480 --> 00:18:25,190
<font color="#CCCCCC">on my</font><font color="#E5E5E5"> box and we recently discovered but</font>

455
00:18:23,180 --> 00:18:27,260
your text<font color="#E5E5E5"> Prudential</font><font color="#CCCCCC"> Zama gig and our</font>

456
00:18:25,190 --> 00:18:29,480
<font color="#E5E5E5">customer site for from checking bash</font>

457
00:18:27,260 --> 00:18:31,160
history and because of that<font color="#E5E5E5"> we were able</font>

458
00:18:29,480 --> 00:18:32,870
to find another password<font color="#CCCCCC"> we were</font><font color="#E5E5E5"> your</font>

459
00:18:31,160 --> 00:18:35,300
plans by privileges and gain full root

460
00:18:32,870 --> 00:18:38,030
access on<font color="#CCCCCC"> the on</font><font color="#E5E5E5"> the machine</font>

461
00:18:35,300 --> 00:18:39,770
couple of commands through -<font color="#CCCCCC"> L I'm</font>

462
00:18:38,030 --> 00:18:42,050
<font color="#CCCCCC">Kennedy sudoers</font><font color="#E5E5E5"> that tells using the</font>

463
00:18:39,770 --> 00:18:43,360
suitors file and then Kennedy password

464
00:18:42,050 --> 00:18:46,100
like we've talked<font color="#CCCCCC"> about that tells you</font>

465
00:18:43,360 --> 00:18:47,300
additional users so you can have and

466
00:18:46,100 --> 00:18:49,219
<font color="#E5E5E5">build a user list that you can</font><font color="#CCCCCC"> then</font>

467
00:18:47,300 --> 00:19:00,110
<font color="#CCCCCC">passwords to pray I'm in</font><font color="#E5E5E5"> charge of</font>

468
00:18:49,220 --> 00:19:01,400
things history or CH history depending

469
00:19:00,110 --> 00:19:04,879
on who the shell is that<font color="#E5E5E5"> you're running</font>

470
00:19:01,400 --> 00:19:06,890
under so and Who am<font color="#E5E5E5"> I is</font><font color="#CCCCCC"> common on</font>

471
00:19:04,880 --> 00:19:10,160
almost every Linux based operating

472
00:19:06,890 --> 00:19:18,590
system but<font color="#CCCCCC"> most UNIX I don't remember it</font>

473
00:19:10,160 --> 00:19:20,180
<font color="#E5E5E5">being on all of them but</font><font color="#CCCCCC"> ID yeah so as</font>

474
00:19:18,590 --> 00:19:22,939
with<font color="#E5E5E5"> everything we like scripting right</font>

475
00:19:20,180 --> 00:19:24,830
<font color="#E5E5E5">we've got we can</font><font color="#CCCCCC"> do that manually or if</font>

476
00:19:22,940 --> 00:19:27,440
we have a way to<font color="#E5E5E5"> upload a script to a</font>

477
00:19:24,830 --> 00:19:28,879
box we<font color="#E5E5E5"> can often script a lot of this</font>

478
00:19:27,440 --> 00:19:31,100
for us right<font color="#E5E5E5"> and then give us some more</font>

479
00:19:28,880 --> 00:19:32,690
<font color="#E5E5E5">information system great enumeration</font>

480
00:19:31,100 --> 00:19:35,480
scripts<font color="#CCCCCC"> that are that</font><font color="#E5E5E5"> are really</font><font color="#CCCCCC"> popular</font>

481
00:19:32,690 --> 00:19:37,880
that<font color="#CCCCCC"> we like using as like linen um</font><font color="#E5E5E5"> and</font>

482
00:19:35,480 --> 00:19:39,980
scripted local Linux and enumeration and

483
00:19:37,880 --> 00:19:42,200
privileged escalation checks<font color="#CCCCCC"> we've got a</font>

484
00:19:39,980 --> 00:19:44,150
Linux proof checker it's intended to be

485
00:19:42,200 --> 00:19:46,250
executed locally on the<font color="#E5E5E5"> Linux box and</font>

486
00:19:44,150 --> 00:19:46,940
tells<font color="#E5E5E5"> your basic system info</font><font color="#CCCCCC"> search</font><font color="#E5E5E5"> of</font>

487
00:19:46,250 --> 00:19:49,370
common<font color="#E5E5E5"> through that</font>

488
00:19:46,940 --> 00:19:52,730
vectors<font color="#E5E5E5"> world writable files things like</font>

489
00:19:49,370 --> 00:19:54,500
that and then<font color="#CCCCCC"> UNIX professor check it</font>

490
00:19:52,730 --> 00:19:56,090
this one's from pens<font color="#E5E5E5"> nests monkey he</font>

491
00:19:54,500 --> 00:19:57,800
does a lot<font color="#E5E5E5"> of a lot</font><font color="#CCCCCC"> of great stuff on</font>

492
00:19:56,090 --> 00:20:00,080
<font color="#CCCCCC">this blog</font><font color="#E5E5E5"> writes a lot of scripts and</font>

493
00:19:57,800 --> 00:20:01,399
<font color="#CCCCCC">things and it's essentially shell script</font>

494
00:20:00,080 --> 00:20:04,280
<font color="#E5E5E5">is do the same thing</font><font color="#CCCCCC"> it checks for</font>

495
00:20:01,400 --> 00:20:07,160
<font color="#E5E5E5">simple privilege escalation factors all</font>

496
00:20:04,280 --> 00:20:08,389
these kind<font color="#E5E5E5"> of do very similar things use</font>

497
00:20:07,160 --> 00:20:09,740
them all check them all out you know

498
00:20:08,390 --> 00:20:18,530
<font color="#E5E5E5">somebody give you more</font><font color="#CCCCCC"> information than</font>

499
00:20:09,740 --> 00:20:20,330
the other school<font color="#CCCCCC"> of scripting ones did</font>

500
00:20:18,530 --> 00:20:23,300
very similar<font color="#E5E5E5"> things for UNIX back in the</font>

501
00:20:20,330 --> 00:20:24,800
day<font color="#E5E5E5"> have since been deprecated long ago</font>

502
00:20:23,300 --> 00:20:28,040
<font color="#E5E5E5">but if you've been around long enough</font>

503
00:20:24,800 --> 00:20:31,760
<font color="#CCCCCC">you've probably seen</font><font color="#E5E5E5"> those yeah right</font>

504
00:20:28,040 --> 00:20:34,149
<font color="#CCCCCC">Tiger stuff like that so</font><font color="#E5E5E5"> so what is what</font>

505
00:20:31,760 --> 00:20:40,129
<font color="#E5E5E5">is one of</font><font color="#CCCCCC"> the scripts look like right</font><font color="#E5E5E5"> so</font>

506
00:20:34,150 --> 00:20:42,080
we've got<font color="#CCCCCC"> a shell all right</font><font color="#E5E5E5"> so we're on</font>

507
00:20:40,130 --> 00:20:44,660
<font color="#CCCCCC">the show and</font><font color="#E5E5E5"> I run Who am I and I see</font>

508
00:20:42,080 --> 00:20:46,879
I'm<font color="#CCCCCC"> just easier</font><font color="#E5E5E5"> sack right I'm in the</font>

509
00:20:44,660 --> 00:20:48,470
<font color="#E5E5E5">sec directory and I can't see</font><font color="#CCCCCC"> it either</font>

510
00:20:46,880 --> 00:20:51,710
<font color="#CCCCCC">route okay so I'm a little preview</font><font color="#E5E5E5"> sir</font>

511
00:20:48,470 --> 00:20:55,310
can't really get anywhere<font color="#E5E5E5"> so we're going</font>

512
00:20:51,710 --> 00:20:58,160
<font color="#E5E5E5">to move</font><font color="#CCCCCC"> to see dev sh m right and we</font>

513
00:20:55,310 --> 00:20:59,570
worked out of<font color="#E5E5E5"> Devon</font><font color="#CCCCCC"> SH M because when</font>

514
00:20:58,160 --> 00:21:02,030
the<font color="#CCCCCC"> box</font><font color="#E5E5E5"> contributed anything in that</font>

515
00:20:59,570 --> 00:21:03,470
file gets wiped and<font color="#CCCCCC"> it's</font><font color="#E5E5E5"> pentesters</font>

516
00:21:02,030 --> 00:21:04,520
relates to be very clean and how we work

517
00:21:03,470 --> 00:21:06,620
we don't<font color="#E5E5E5"> wanna leave artifacts on</font>

518
00:21:04,520 --> 00:21:10,730
customer systems<font color="#E5E5E5"> so we're gonna sit</font><font color="#CCCCCC"> in</font>

519
00:21:06,620 --> 00:21:12,500
<font color="#CCCCCC">Devon SH and do our work</font><font color="#E5E5E5"> checking</font><font color="#CCCCCC"> that</font>

520
00:21:10,730 --> 00:21:14,090
<font color="#E5E5E5">we're actually in that file and then we</font>

521
00:21:12,500 --> 00:21:16,940
need to check<font color="#E5E5E5"> to</font><font color="#CCCCCC"> see if we've got W</font><font color="#E5E5E5"> yet</font>

522
00:21:14,090 --> 00:21:21,199
<font color="#CCCCCC">and what that essentially does is</font><font color="#E5E5E5"> lets</font>

523
00:21:16,940 --> 00:21:23,120
us<font color="#E5E5E5"> the files from a web server</font><font color="#CCCCCC"> you can't</font>

524
00:21:21,200 --> 00:21:25,130
see it<font color="#E5E5E5"> here very</font><font color="#CCCCCC"> well but there in</font><font color="#E5E5E5"> the</font>

525
00:21:23,120 --> 00:21:26,330
lower<font color="#E5E5E5"> right hand corner right there we</font>

526
00:21:25,130 --> 00:21:29,960
have<font color="#CCCCCC"> a web</font><font color="#E5E5E5"> server set</font><font color="#CCCCCC"> up on another</font>

527
00:21:26,330 --> 00:21:33,439
screen so we<font color="#E5E5E5"> W get our privilege</font>

528
00:21:29,960 --> 00:21:36,290
escalation script<font color="#E5E5E5"> and pull it down on to</font>

529
00:21:33,440 --> 00:21:38,600
this box<font color="#CCCCCC"> in dev SH M we make an</font>

530
00:21:36,290 --> 00:21:40,909
executable<font color="#E5E5E5"> CH bond and then we run it</font>

531
00:21:38,600 --> 00:21:42,500
<font color="#CCCCCC">and dash T for this particular one is</font>

532
00:21:40,910 --> 00:21:45,140
<font color="#E5E5E5">thorough so it runs all sorts of</font>

533
00:21:42,500 --> 00:21:47,180
thorough tests and<font color="#E5E5E5"> everything you see is</font>

534
00:21:45,140 --> 00:21:50,660
scrolling<font color="#E5E5E5"> by is all sorts of pertinent</font>

535
00:21:47,180 --> 00:21:51,650
information that's on<font color="#E5E5E5"> this box and then</font>

536
00:21:50,660 --> 00:21:54,230
there'll be a few moments<font color="#CCCCCC"> of awkward</font>

537
00:21:51,650 --> 00:21:55,940
silence as it finishes<font color="#CCCCCC"> but</font><font color="#E5E5E5"> as you can</font>

538
00:21:54,230 --> 00:21:57,170
<font color="#E5E5E5">see</font><font color="#CCCCCC"> just</font><font color="#E5E5E5"> kind of looking at</font><font color="#CCCCCC"> something</font>

539
00:21:55,940 --> 00:21:58,230
<font color="#E5E5E5">from you know some important information</font>

540
00:21:57,170 --> 00:22:01,530
there<font color="#E5E5E5"> you</font>

541
00:21:58,230 --> 00:22:03,990
got things<font color="#CCCCCC"> like software versions and</font>

542
00:22:01,530 --> 00:22:05,809
I'm scrolling up here to kind<font color="#E5E5E5"> of give</font>

543
00:22:03,990 --> 00:22:10,110
you<font color="#CCCCCC"> guys some more information here</font><font color="#E5E5E5"> how</font>

544
00:22:05,809 --> 00:22:15,030
do<font color="#E5E5E5"> you do</font><font color="#CCCCCC"> to do to do to do to do to do</font>

545
00:22:10,110 --> 00:22:18,418
<font color="#E5E5E5">okay so</font><font color="#CCCCCC"> cron jobs there environment</font>

546
00:22:15,030 --> 00:22:22,649
<font color="#CCCCCC">variables</font><font color="#E5E5E5"> current users on there okay</font>

547
00:22:18,419 --> 00:22:26,340
<font color="#E5E5E5">there goes school to bus yeah</font><font color="#CCCCCC"> so Laura</font>

548
00:22:22,650 --> 00:22:29,669
scroll so<font color="#CCCCCC"> throat tester enabled that</font>

549
00:22:26,340 --> 00:22:32,668
<font color="#E5E5E5">tells us the current kernel that's on</font>

550
00:22:29,669 --> 00:22:35,460
the system<font color="#E5E5E5"> which version of Linux is</font>

551
00:22:32,669 --> 00:22:38,480
being used right the name of the<font color="#E5E5E5"> system</font>

552
00:22:35,460 --> 00:22:41,010
<font color="#CCCCCC">you know</font><font color="#E5E5E5"> can sometimes I can come</font><font color="#CCCCCC"> handy</font>

553
00:22:38,480 --> 00:22:42,350
<font color="#E5E5E5">other users that</font><font color="#CCCCCC"> might be privileged</font><font color="#E5E5E5"> our</font>

554
00:22:41,010 --> 00:22:48,650
current user that's on there right now

555
00:22:42,350 --> 00:22:51,659
<font color="#CCCCCC">it</font><font color="#E5E5E5"> dumps group memberships</font><font color="#CCCCCC"> CPU info</font>

556
00:22:48,650 --> 00:22:53,070
dumps<font color="#E5E5E5"> that's a password for you</font>

557
00:22:51,660 --> 00:22:55,950
<font color="#CCCCCC">let's you know if there's</font><font color="#E5E5E5"> other users</font>

558
00:22:53,070 --> 00:22:57,059
that have admin access<font color="#CCCCCC"> because it may</font>

559
00:22:55,950 --> 00:23:00,929
not<font color="#CCCCCC"> just be root right there may be</font>

560
00:22:57,059 --> 00:23:03,570
other users<font color="#CCCCCC"> let you know like</font><font color="#E5E5E5"> right down</font>

561
00:23:00,929 --> 00:23:06,570
there it says possible sudo pwnage user

562
00:23:03,570 --> 00:23:08,129
pin VI<font color="#CCCCCC"> it also</font><font color="#E5E5E5"> lets you things unless</font>

563
00:23:06,570 --> 00:23:09,840
<font color="#E5E5E5">you know things like</font><font color="#CCCCCC"> user sec</font><font color="#E5E5E5"> may run</font>

564
00:23:08,130 --> 00:23:11,600
the following commands on<font color="#E5E5E5"> shrek which is</font>

565
00:23:09,840 --> 00:23:14,790
the name of<font color="#E5E5E5"> the box</font>

566
00:23:11,600 --> 00:23:18,240
mark wat can run a user<font color="#E5E5E5"> bin VI with no</font>

567
00:23:14,790 --> 00:23:20,700
password<font color="#CCCCCC"> so that's you know handy any</font>

568
00:23:18,240 --> 00:23:22,080
information<font color="#E5E5E5"> and now again this is all</font>

569
00:23:20,700 --> 00:23:23,460
information that<font color="#E5E5E5"> we shouldn't have right</font>

570
00:23:22,080 --> 00:23:27,299
we<font color="#E5E5E5"> shouldn't be on this box we should be</font>

571
00:23:23,460 --> 00:23:30,540
able<font color="#E5E5E5"> to get this information</font><font color="#CCCCCC"> but this</font>

572
00:23:27,299 --> 00:23:32,160
will<font color="#E5E5E5"> help us you know further move up in</font>

573
00:23:30,540 --> 00:23:34,080
the in the chain<font color="#CCCCCC"> of</font><font color="#E5E5E5"> command as it were</font>

574
00:23:32,160 --> 00:23:35,640
and escalate our privileges so that we

575
00:23:34,080 --> 00:23:38,399
can ultimately get full access and<font color="#CCCCCC"> full</font>

576
00:23:35,640 --> 00:23:39,720
and<font color="#E5E5E5"> authorized control over this box so</font>

577
00:23:38,400 --> 00:23:41,929
I'm going<font color="#E5E5E5"> to move on to</font><font color="#CCCCCC"> the next slide</font>

578
00:23:39,720 --> 00:23:41,929
<font color="#CCCCCC">here</font>

579
00:23:46,170 --> 00:23:51,960
I think one<font color="#E5E5E5"> other thing there</font><font color="#CCCCCC"> that I</font>

580
00:23:49,860 --> 00:23:53,490
mentioned<font color="#CCCCCC"> earlier about</font><font color="#E5E5E5"> running commands</font>

581
00:23:51,960 --> 00:23:56,100
cleaning up after yourself<font color="#CCCCCC"> on</font><font color="#E5E5E5"> UNIX</font>

582
00:23:53,490 --> 00:23:58,770
systems<font color="#CCCCCC"> a nice</font><font color="#E5E5E5"> little trick if you're on</font>

583
00:23:56,100 --> 00:24:01,889
the command line<font color="#E5E5E5"> put a space in</font><font color="#CCCCCC"> front</font><font color="#E5E5E5"> of</font>

584
00:23:58,770 --> 00:24:03,240
<font color="#CCCCCC">your command</font><font color="#E5E5E5"> if there's a space if the</font>

585
00:24:01,890 --> 00:24:04,560
first character<font color="#CCCCCC"> of the command is a</font>

586
00:24:03,240 --> 00:24:07,410
space it doesn't<font color="#CCCCCC"> get logged to the</font>

587
00:24:04,560 --> 00:24:09,600
history file<font color="#E5E5E5"> yeah it's good</font><font color="#CCCCCC"> yeah</font><font color="#E5E5E5"> so if</font>

588
00:24:07,410 --> 00:24:12,210
you're if you're<font color="#CCCCCC"> trying</font><font color="#E5E5E5"> to do things</font>

589
00:24:09,600 --> 00:24:18,629
<font color="#CCCCCC">like that that's</font><font color="#E5E5E5"> a good yeah it's a good</font>

590
00:24:12,210 --> 00:24:20,490
tip<font color="#E5E5E5"> why but it works</font><font color="#CCCCCC"> so</font><font color="#E5E5E5"> another simple</font>

591
00:24:18,630 --> 00:24:21,930
we<font color="#CCCCCC"> use the search point</font><font color="#E5E5E5"> right as you get</font>

592
00:24:20,490 --> 00:24:24,090
all that<font color="#CCCCCC"> information from from one of</font>

593
00:24:21,930 --> 00:24:26,670
these scripts you can oftentimes<font color="#E5E5E5"> feed</font>

594
00:24:24,090 --> 00:24:27,840
these software versions the kernel

595
00:24:26,670 --> 00:24:30,360
versions and things you have<font color="#E5E5E5"> into this</font>

596
00:24:27,840 --> 00:24:32,250
database<font color="#E5E5E5"> that the</font><font color="#CCCCCC"> final</font><font color="#E5E5E5"> defense and</font>

597
00:24:30,360 --> 00:24:34,530
security of<font color="#CCCCCC"> paraded called the exploit</font>

598
00:24:32,250 --> 00:24:36,540
database and what search<font color="#E5E5E5"> point is is</font>

599
00:24:34,530 --> 00:24:38,629
it's essentially a local<font color="#E5E5E5"> version of the</font>

600
00:24:36,540 --> 00:24:41,220
<font color="#CCCCCC">exploitative base save your machine so</font>

601
00:24:38,630 --> 00:24:44,190
<font color="#CCCCCC">it's a command line tool</font><font color="#E5E5E5"> you can run it</font>

602
00:24:41,220 --> 00:24:47,340
it queries the DB and says<font color="#CCCCCC"> ok</font><font color="#E5E5E5"> here's</font>

603
00:24:44,190 --> 00:24:49,230
<font color="#CCCCCC">some common exploits or common passive</font>

604
00:24:47,340 --> 00:24:51,959
attack that you can use to try<font color="#E5E5E5"> to</font>

605
00:24:49,230 --> 00:24:53,520
further type machine<font color="#E5E5E5"> as</font><font color="#CCCCCC"> claim proves</font>

606
00:24:51,960 --> 00:24:55,320
<font color="#CCCCCC">these things like that and then I</font>

607
00:24:53,520 --> 00:24:56,820
screenshot there<font color="#CCCCCC"> we're gonna talk about</font>

608
00:24:55,320 --> 00:24:59,419
<font color="#E5E5E5">dirty</font><font color="#CCCCCC"> calendars talks here in a minute</font>

609
00:24:56,820 --> 00:25:02,060
but if you<font color="#CCCCCC"> search Boyd's</font><font color="#E5E5E5"> makes it dirty</font>

610
00:24:59,420 --> 00:25:06,390
<font color="#E5E5E5">with you all the different kernel</font>

611
00:25:02,060 --> 00:25:08,220
versions and privilege escalation

612
00:25:06,390 --> 00:25:09,870
factors<font color="#E5E5E5"> they're just with the name dirty</font>

613
00:25:08,220 --> 00:25:13,710
in them and then on the right it tells

614
00:25:09,870 --> 00:25:15,419
<font color="#E5E5E5">you the you know where the the exploit</font>

615
00:25:13,710 --> 00:25:17,550
<font color="#E5E5E5">is being held so then you can just</font>

616
00:25:15,420 --> 00:25:19,950
search<font color="#CCCCCC"> boy - and mirror</font><font color="#E5E5E5"> it onto your</font>

617
00:25:17,550 --> 00:25:23,450
machine<font color="#E5E5E5"> review the code and execute it</font>

618
00:25:19,950 --> 00:25:27,210
that<font color="#E5E5E5"> way</font><font color="#CCCCCC"> we've already talked about</font><font color="#E5E5E5"> a</font>

619
00:25:23,450 --> 00:25:28,800
user ID a little bit<font color="#CCCCCC"> they're</font><font color="#E5E5E5"> really in</font>

620
00:25:27,210 --> 00:25:30,990
simple words it's<font color="#E5E5E5"> just users</font><font color="#CCCCCC"> we're gonna</font>

621
00:25:28,800 --> 00:25:33,000
<font color="#E5E5E5">file permissions as well as owner UID</font>

622
00:25:30,990 --> 00:25:37,590
and GID when executing a file program<font color="#E5E5E5"> or</font>

623
00:25:33,000 --> 00:25:39,960
command<font color="#E5E5E5"> one of the dangers of running</font>

624
00:25:37,590 --> 00:25:45,330
set UID like we talked<font color="#E5E5E5"> about</font><font color="#CCCCCC"> with</font><font color="#E5E5E5"> nmap</font>

625
00:25:39,960 --> 00:25:48,240
so we have a shell<font color="#CCCCCC"> so we have a shell in</font>

626
00:25:45,330 --> 00:25:49,379
the<font color="#E5E5E5"> box and I've</font><font color="#CCCCCC"> already run some basic</font>

627
00:25:48,240 --> 00:25:50,070
<font color="#E5E5E5">commands kind of figure out where we're</font>

628
00:25:49,380 --> 00:25:52,170
at

629
00:25:50,070 --> 00:25:53,100
we know<font color="#CCCCCC"> it's</font><font color="#E5E5E5"> ubuntu box</font><font color="#CCCCCC"> we notice 1404</font>

630
00:25:52,170 --> 00:25:55,040
<font color="#E5E5E5">trusty</font>

631
00:25:53,100 --> 00:25:57,320
maybe we know that I'm the user daemon

632
00:25:55,040 --> 00:25:58,970
you can go<font color="#E5E5E5"> into</font><font color="#CCCCCC"> route so we're not</font><font color="#E5E5E5"> super</font>

633
00:25:57,320 --> 00:26:00,919
at you know an<font color="#E5E5E5"> upper super high</font><font color="#CCCCCC"> level</font>

634
00:25:58,970 --> 00:26:03,740
can't really do much<font color="#E5E5E5"> so we're gonna run</font>

635
00:26:00,920 --> 00:26:08,630
a command to look for<font color="#E5E5E5"> files that have</font>

636
00:26:03,740 --> 00:26:13,130
the<font color="#CCCCCC"> set UID flag</font><font color="#E5E5E5"> enabled and that's that</font>

637
00:26:08,630 --> 00:26:14,300
perm -<font color="#E5E5E5"> 4000 have no all there and I</font>

638
00:26:13,130 --> 00:26:18,320
really need to<font color="#CCCCCC"> learn to type faster in</font>

639
00:26:14,300 --> 00:26:19,909
these<font color="#E5E5E5"> videos and so that tells us all</font><font color="#CCCCCC"> of</font>

640
00:26:18,320 --> 00:26:23,629
the binaries and files that<font color="#E5E5E5"> have</font><font color="#CCCCCC"> the</font>

641
00:26:19,910 --> 00:26:26,030
<font color="#E5E5E5">state UID flag enabled we</font><font color="#CCCCCC"> say</font><font color="#E5E5E5"> there was</font>

642
00:26:23,630 --> 00:26:27,530
<font color="#CCCCCC">a Zen map things like that</font><font color="#E5E5E5"> so nmap</font>

643
00:26:26,030 --> 00:26:31,600
probably gonna be our best route of

644
00:26:27,530 --> 00:26:36,320
attack there so as soon as<font color="#E5E5E5"> that finishes</font>

645
00:26:31,600 --> 00:26:37,610
propagating<font color="#CCCCCC"> and again this it's kind of</font>

646
00:26:36,320 --> 00:26:39,020
a slow command so it's gonna be<font color="#CCCCCC"> slowing</font>

647
00:26:37,610 --> 00:26:40,129
<font color="#CCCCCC">on pretty much any box you're running on</font>

648
00:26:39,020 --> 00:26:43,270
because it's it's got to go<font color="#E5E5E5"> through the</font>

649
00:26:40,130 --> 00:26:47,120
entire<font color="#E5E5E5"> file system and look for things</font>

650
00:26:43,270 --> 00:26:49,040
<font color="#CCCCCC">so knowing that</font><font color="#E5E5E5"> end map</font><font color="#CCCCCC"> has</font><font color="#E5E5E5"> that</font><font color="#CCCCCC"> state</font>

651
00:26:47,120 --> 00:26:51,439
UID flag<font color="#E5E5E5"> we're going to go ahead and see</font>

652
00:26:49,040 --> 00:26:57,920
you know<font color="#E5E5E5"> if we can play with it</font><font color="#CCCCCC"> so we're</font>

653
00:26:51,440 --> 00:26:58,850
<font color="#E5E5E5">gonna use</font><font color="#CCCCCC"> some</font><font color="#E5E5E5"> full path and give us a</font>

654
00:26:57,920 --> 00:27:00,650
<font color="#CCCCCC">version number to</font><font color="#E5E5E5"> make sure it is</font>

655
00:26:58,850 --> 00:27:02,570
<font color="#E5E5E5">vulnerable and it is an old version is</font>

656
00:27:00,650 --> 00:27:04,640
straight one so pretty<font color="#CCCCCC"> good</font><font color="#E5E5E5"> chance that</font>

657
00:27:02,570 --> 00:27:06,169
we'll be able to<font color="#E5E5E5"> use this to escalate</font>

658
00:27:04,640 --> 00:27:11,300
our privileges to somebody that's not

659
00:27:06,170 --> 00:27:13,070
Damon to make us<font color="#CCCCCC"> you know</font><font color="#E5E5E5"> route and then</font>

660
00:27:11,300 --> 00:27:14,240
that's a<font color="#CCCCCC"> miss type there we</font><font color="#E5E5E5"> can figure</font>

661
00:27:13,070 --> 00:27:20,600
<font color="#E5E5E5">it out earlier</font><font color="#CCCCCC"> that we</font><font color="#E5E5E5"> have to use the</font>

662
00:27:14,240 --> 00:27:24,080
<font color="#E5E5E5">full ask to run it</font><font color="#CCCCCC"> so</font><font color="#E5E5E5"> we'd</font><font color="#CCCCCC"> use the full</font>

663
00:27:20,600 --> 00:27:26,209
path<font color="#E5E5E5"> of a user local</font><font color="#CCCCCC"> bin in map give it</font>

664
00:27:24,080 --> 00:27:28,580
interactive mode now<font color="#E5E5E5"> we have the</font><font color="#CCCCCC"> end map</font>

665
00:27:26,210 --> 00:27:30,140
prompt<font color="#E5E5E5"> you can't do much of the</font><font color="#CCCCCC"> in map</font>

666
00:27:28,580 --> 00:27:31,550
prompt<font color="#E5E5E5"> though as you can see</font><font color="#CCCCCC"> it will do</font>

667
00:27:30,140 --> 00:27:34,430
Who<font color="#E5E5E5"> am I you know it doesn't know that</font>

668
00:27:31,550 --> 00:27:36,580
command<font color="#E5E5E5"> so we'll just go ahead and go</font>

669
00:27:34,430 --> 00:27:41,480
straight<font color="#E5E5E5"> and see if we can get a bash</font>

670
00:27:36,580 --> 00:27:43,760
prompt<font color="#E5E5E5"> we do bash - P and we are ripped</font>

671
00:27:41,480 --> 00:27:45,950
and it's<font color="#E5E5E5"> literally that simple</font><font color="#CCCCCC"> two</font>

672
00:27:43,760 --> 00:27:47,900
<font color="#E5E5E5">commands on a box that has this old</font>

673
00:27:45,950 --> 00:27:50,780
version of<font color="#CCCCCC"> a map on it and I'm now route</font>

674
00:27:47,900 --> 00:27:52,970
<font color="#CCCCCC">my</font><font color="#E5E5E5"> Yi into the root folder I can get the</font>

675
00:27:50,780 --> 00:27:54,230
SD shadow I<font color="#CCCCCC"> can dump the users I could</font>

676
00:27:52,970 --> 00:27:57,500
dump<font color="#CCCCCC"> the password to crack them offline</font>

677
00:27:54,230 --> 00:28:02,150
<font color="#CCCCCC">I full access to</font><font color="#E5E5E5"> the box with</font><font color="#CCCCCC"> two</font>

678
00:27:57,500 --> 00:28:04,669
commands yeah forever<font color="#CCCCCC"> it</font><font color="#E5E5E5"> was in it</font><font color="#CCCCCC"> was</font>

679
00:28:02,150 --> 00:28:07,609
in<font color="#E5E5E5"> several versions</font><font color="#CCCCCC"> links forever</font>

680
00:28:04,669 --> 00:28:09,950
<font color="#E5E5E5">side really can't</font><font color="#CCCCCC"> cool</font><font color="#E5E5E5"> in place I</font>

681
00:28:07,609 --> 00:28:12,559
<font color="#CCCCCC">believe it said do not run this as route</font>

682
00:28:09,950 --> 00:28:14,450
right<font color="#E5E5E5"> change this and finally people</font>

683
00:28:12,559 --> 00:28:15,859
<font color="#E5E5E5">kept exploit so he's like fine</font><font color="#CCCCCC"> fine I</font>

684
00:28:14,450 --> 00:28:22,220
just<font color="#CCCCCC"> remove the feature well</font><font color="#E5E5E5"> just say</font>

685
00:28:15,859 --> 00:28:23,600
<font color="#E5E5E5">that</font><font color="#CCCCCC"> so tying in to</font><font color="#E5E5E5"> what we talked about</font>

686
00:28:22,220 --> 00:28:25,629
<font color="#E5E5E5">at the very</font><font color="#CCCCCC"> beginning with all this</font>

687
00:28:23,600 --> 00:28:28,369
<font color="#E5E5E5">history of</font><font color="#CCCCCC"> UNIX</font><font color="#E5E5E5"> and everything else</font>

688
00:28:25,629 --> 00:28:29,748
<font color="#CCCCCC">because of how you know how bolted</font>

689
00:28:28,369 --> 00:28:32,178
together the software is there are

690
00:28:29,749 --> 00:28:33,440
literally thousands of kernel exploits

691
00:28:32,179 --> 00:28:35,600
out there I mean thousands thousands of

692
00:28:33,440 --> 00:28:36,619
it<font color="#E5E5E5"> the screenshot just</font><font color="#CCCCCC"> shows a small</font>

693
00:28:35,600 --> 00:28:38,090
<font color="#E5E5E5">portion of the ones from the</font>

694
00:28:36,619 --> 00:28:40,999
exploitative base if<font color="#E5E5E5"> you just type in</font>

695
00:28:38,090 --> 00:28:42,139
kernel<font color="#E5E5E5"> you can you know</font><font color="#CCCCCC"> just this list</font>

696
00:28:40,999 --> 00:28:44,869
of all these different<font color="#E5E5E5"> Carmel exploits</font>

697
00:28:42,139 --> 00:28:46,519
right so<font color="#CCCCCC"> the more popular ones that have</font>

698
00:28:44,869 --> 00:28:48,980
seen media<font color="#E5E5E5"> attention in the past been</font>

699
00:28:46,519 --> 00:28:50,629
mem flow<font color="#E5E5E5"> dipper</font><font color="#CCCCCC"> dirty cow which was a</font>

700
00:28:48,980 --> 00:28:51,919
few years<font color="#E5E5E5"> ago</font><font color="#CCCCCC"> send page and then one</font>

701
00:28:50,629 --> 00:28:55,668
that<font color="#E5E5E5"> was released about two weeks ago</font>

702
00:28:51,919 --> 00:28:57,830
<font color="#E5E5E5">called dirty sock</font><font color="#CCCCCC"> dirty cow is</font><font color="#E5E5E5"> a very</font>

703
00:28:55,669 --> 00:28:59,029
popular<font color="#CCCCCC"> one</font><font color="#E5E5E5"> it's essentially a race</font>

704
00:28:57,830 --> 00:29:02,449
condition<font color="#CCCCCC"> that handled on the</font>

705
00:28:59,029 --> 00:29:03,799
<font color="#CCCCCC">copy-on-write or breakage of private</font>

706
00:29:02,450 --> 00:29:06,739
read-only memory mapping<font color="#E5E5E5"> such as</font><font color="#CCCCCC"> mice</font>

707
00:29:03,799 --> 00:29:08,899
calls cow so<font color="#E5E5E5"> it's copy-on-write the guy</font>

708
00:29:06,739 --> 00:29:11,119
decided<font color="#E5E5E5"> to go with it and and he logoed</font>

709
00:29:08,899 --> 00:29:13,959
it and and and made<font color="#CCCCCC"> t-shirts and stuff</font>

710
00:29:11,119 --> 00:29:13,959
<font color="#CCCCCC">because</font><font color="#E5E5E5"> he thought it was really cold</font>

711
00:29:14,499 --> 00:29:20,480
<font color="#CCCCCC">any versions of unix linux prior to</font>

712
00:29:18,799 --> 00:29:21,499
<font color="#E5E5E5">these are probably vulnerable and iike</font>

713
00:29:20,480 --> 00:29:24,679
model versions<font color="#E5E5E5"> part of these are</font>

714
00:29:21,499 --> 00:29:28,669
probably<font color="#E5E5E5"> vulnerable and what it looks</font>

715
00:29:24,679 --> 00:29:31,190
<font color="#CCCCCC">like in action</font><font color="#E5E5E5"> is this right here so</font>

716
00:29:28,669 --> 00:29:37,279
we've<font color="#E5E5E5"> got a shell i think this one was</font>

717
00:29:31,190 --> 00:29:39,649
<font color="#E5E5E5">from he said turtle power</font><font color="#CCCCCC"> so</font><font color="#E5E5E5"> we got a</font>

718
00:29:37,279 --> 00:29:43,460
shell<font color="#E5E5E5"> i think this one was from a local</font>

719
00:29:39,649 --> 00:29:45,080
file inclusion on a web app so<font color="#CCCCCC"> we do</font><font color="#E5E5E5"> our</font>

720
00:29:43,460 --> 00:29:46,429
basic enumeration you know we go<font color="#E5E5E5"> okay</font>

721
00:29:45,080 --> 00:29:48,619
let's<font color="#E5E5E5"> check you know let's check the</font>

722
00:29:46,429 --> 00:29:50,480
kernel version and ID and<font color="#CCCCCC"> all sorts of</font>

723
00:29:48,619 --> 00:29:54,080
<font color="#E5E5E5">stuff here and we see that it's Ubuntu</font>

724
00:29:50,480 --> 00:29:56,119
1604<font color="#CCCCCC"> but it's got a kernel version of</font>

725
00:29:54,080 --> 00:29:59,809
403<font color="#CCCCCC"> one so it's you know it's</font><font color="#E5E5E5"> probably</font>

726
00:29:56,119 --> 00:30:02,570
<font color="#E5E5E5">dirty</font><font color="#CCCCCC"> cowboy based</font><font color="#E5E5E5"> on the information</font>

727
00:29:59,809 --> 00:30:04,039
that<font color="#E5E5E5"> we've got so we</font><font color="#CCCCCC"> double</font><font color="#E5E5E5"> check to</font>

728
00:30:02,570 --> 00:30:06,918
make<font color="#E5E5E5"> sure that W get</font><font color="#CCCCCC"> is on there so and</font>

729
00:30:04,039 --> 00:30:08,809
GCC<font color="#E5E5E5"> which is a compiler</font>

730
00:30:06,919 --> 00:30:11,570
both<font color="#CCCCCC"> Florence it's all along the</font><font color="#E5E5E5"> box so</font>

731
00:30:08,809 --> 00:30:16,190
again being clean testers we go<font color="#E5E5E5"> into</font>

732
00:30:11,570 --> 00:30:18,418
deficit<font color="#E5E5E5"> hm we've got a</font><font color="#CCCCCC"> webserver already</font>

733
00:30:16,190 --> 00:30:20,869
set up so we're<font color="#E5E5E5"> W</font>

734
00:30:18,419 --> 00:30:23,399
getting the exploit from<font color="#E5E5E5"> our web server</font>

735
00:30:20,869 --> 00:30:27,389
which we're essentially pulling<font color="#E5E5E5"> it down</font>

736
00:30:23,399 --> 00:30:28,709
and<font color="#E5E5E5"> placing it on the box and there's</font>

737
00:30:27,389 --> 00:30:29,850
many versions when you go to dirty

738
00:30:28,710 --> 00:30:32,039
<font color="#E5E5E5">cotton engine you'll see there's several</font>

739
00:30:29,850 --> 00:30:34,369
<font color="#E5E5E5">different versions</font><font color="#CCCCCC"> that he wrote we're</font>

740
00:30:32,039 --> 00:30:37,470
just using<font color="#E5E5E5"> the canal route dot</font><font color="#CCCCCC"> C version</font>

741
00:30:34,369 --> 00:30:40,769
<font color="#E5E5E5">other ones will change the the route</font>

742
00:30:37,470 --> 00:30:44,279
name and things like<font color="#CCCCCC"> that</font><font color="#E5E5E5"> so GCC coyote</font>

743
00:30:40,769 --> 00:30:46,169
will compile it for<font color="#E5E5E5"> us</font><font color="#CCCCCC"> and on many</font><font color="#E5E5E5"> of</font>

744
00:30:44,279 --> 00:30:48,629
these exploits<font color="#E5E5E5"> you'll see compiling</font>

745
00:30:46,169 --> 00:30:50,789
<font color="#E5E5E5">instructions written within</font><font color="#CCCCCC"> the exploit</font>

746
00:30:48,629 --> 00:30:52,799
<font color="#E5E5E5">code so be on the lookout for</font><font color="#CCCCCC"> that it's</font>

747
00:30:50,789 --> 00:30:56,158
been compiled successfully<font color="#CCCCCC"> we've run it</font>

748
00:30:52,799 --> 00:30:58,918
<font color="#E5E5E5">and we</font><font color="#CCCCCC"> are now</font><font color="#E5E5E5"> route literally with</font>

749
00:30:56,159 --> 00:31:00,269
again<font color="#E5E5E5"> three commands because</font><font color="#CCCCCC"> they have</font>

750
00:30:58,919 --> 00:31:02,159
an old kernel version we've now

751
00:31:00,269 --> 00:31:04,409
<font color="#E5E5E5">escalated privileges from a low-level</font>

752
00:31:02,159 --> 00:31:06,889
user<font color="#E5E5E5"> that had access to nowhere so now</font>

753
00:31:04,409 --> 00:31:06,889
we<font color="#CCCCCC"> are ripped</font>

754
00:31:08,580 --> 00:31:14,489
dirty<font color="#E5E5E5"> stock is one that</font><font color="#CCCCCC"> just came</font><font color="#E5E5E5"> out</font>

755
00:31:10,249 --> 00:31:19,409
<font color="#E5E5E5">let's save a two to three weeks ago</font><font color="#CCCCCC"> this</font>

756
00:31:14,489 --> 00:31:22,590
gentleman<font color="#E5E5E5"> found a bug</font><font color="#CCCCCC"> in the step ad</font><font color="#E5E5E5"> API</font>

757
00:31:19,409 --> 00:31:26,720
<font color="#CCCCCC">and he seems to</font><font color="#E5E5E5"> infect all snap ad</font>

758
00:31:22,590 --> 00:31:30,238
versions prior to two<font color="#CCCCCC"> to three seven one</font>

759
00:31:26,720 --> 00:31:31,799
essentially<font color="#CCCCCC"> you</font><font color="#E5E5E5"> can use this with this</font>

760
00:31:30,239 --> 00:31:33,989
Python script that<font color="#E5E5E5"> he wrote there's two</font>

761
00:31:31,799 --> 00:31:38,119
<font color="#CCCCCC">different versions to again gain</font>

762
00:31:33,989 --> 00:31:39,840
unauthorized root access to a<font color="#CCCCCC"> machine</font>

763
00:31:38,119 --> 00:31:42,840
<font color="#CCCCCC">that's essentially</font><font color="#E5E5E5"> what the code looks</font>

764
00:31:39,840 --> 00:31:45,928
like<font color="#CCCCCC"> he finds the R</font><font color="#E5E5E5"> in a socket file he</font>

765
00:31:42,840 --> 00:31:47,549
binds<font color="#E5E5E5"> to it connects</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> snap</font><font color="#CCCCCC"> Abe snap</font><font color="#E5E5E5"> D</font>

766
00:31:45,929 --> 00:31:50,210
API

767
00:31:47,549 --> 00:31:51,809
he sends the payload and<font color="#CCCCCC"> then you've got</font>

768
00:31:50,210 --> 00:31:55,769
<font color="#E5E5E5">access to the host</font>

769
00:31:51,809 --> 00:31:57,899
there's<font color="#CCCCCC"> each video there</font><font color="#E5E5E5"> of a different</font>

770
00:31:55,769 --> 00:31:59,789
group showing<font color="#CCCCCC"> that and they you</font><font color="#E5E5E5"> know</font>

771
00:31:57,899 --> 00:32:01,469
change the<font color="#E5E5E5"> name of it or whatever we're</font>

772
00:31:59,789 --> 00:32:02,929
going<font color="#E5E5E5"> to be released in our own kind of</font>

773
00:32:01,470 --> 00:32:05,249
version over here soon

774
00:32:02,929 --> 00:32:08,369
video I<font color="#E5E5E5"> should say a</font><font color="#CCCCCC"> video that demo of</font>

775
00:32:05,249 --> 00:32:10,590
<font color="#E5E5E5">in here soon</font><font color="#CCCCCC"> just gonna give you guys a</font>

776
00:32:08,369 --> 00:32:14,399
better better idea of it version<font color="#CCCCCC"> one</font>

777
00:32:10,590 --> 00:32:16,918
requires that you<font color="#CCCCCC"> have internet access</font>

778
00:32:14,399 --> 00:32:19,918
version 2 does not version<font color="#CCCCCC"> two just you</font>

779
00:32:16,919 --> 00:32:21,779
can do it<font color="#CCCCCC"> locally so take a look at that</font>

780
00:32:19,919 --> 00:32:23,580
<font color="#CCCCCC">google it and you'll</font><font color="#E5E5E5"> find it and you can</font>

781
00:32:21,779 --> 00:32:25,779
see the differences<font color="#E5E5E5"> between them</font><font color="#CCCCCC"> it's</font>

782
00:32:23,580 --> 00:32:28,269
probably<font color="#CCCCCC"> gonna be really</font><font color="#E5E5E5"> really</font>

783
00:32:25,779 --> 00:32:30,429
me for the<font color="#E5E5E5"> next few months</font><font color="#CCCCCC"> because not</font>

784
00:32:28,269 --> 00:32:32,109
<font color="#E5E5E5">everybody updates their snap</font><font color="#CCCCCC"> D</font><font color="#E5E5E5"> version</font>

785
00:32:30,429 --> 00:32:35,229
right it's<font color="#CCCCCC"> just none of</font><font color="#E5E5E5"> those things</font>

786
00:32:32,109 --> 00:32:38,259
<font color="#CCCCCC">lacy sysadmin or you know busy or</font>

787
00:32:35,229 --> 00:32:40,989
whatever<font color="#CCCCCC"> however when he went</font><font color="#E5E5E5"> to the</font>

788
00:32:38,259 --> 00:32:42,249
team behind that instead<font color="#CCCCCC"> half on</font><font color="#E5E5E5"> this</font>

789
00:32:40,989 --> 00:32:44,830
<font color="#CCCCCC">vulnerability they were really really</font>

790
00:32:42,249 --> 00:32:48,149
<font color="#E5E5E5">quick to patch it</font><font color="#CCCCCC"> and release an update</font>

791
00:32:44,830 --> 00:32:55,658
and push that out so so good<font color="#E5E5E5"> job on that</font>

792
00:32:48,149 --> 00:32:58,599
so go do some<font color="#E5E5E5"> final thoughts</font><font color="#CCCCCC"> talking</font>

793
00:32:55,659 --> 00:33:02,080
<font color="#CCCCCC">about the walls being around for a</font><font color="#E5E5E5"> while</font>

794
00:32:58,599 --> 00:33:04,450
<font color="#CCCCCC">unique sentiments love their up</font><font color="#E5E5E5"> times so</font>

795
00:33:02,080 --> 00:33:07,869
software<font color="#E5E5E5"> that nice passion okay</font>

796
00:33:04,450 --> 00:33:09,489
her level then<font color="#E5E5E5"> he's upgraded yeah I got</font>

797
00:33:07,869 --> 00:33:13,089
a<font color="#CCCCCC"> three-year DUP time I don't want to</font>

798
00:33:09,489 --> 00:33:16,539
get rid of that<font color="#E5E5E5"> right so its mentality</font>

799
00:33:13,089 --> 00:33:19,149
thing I know I used to<font color="#E5E5E5"> be one so some</font>

800
00:33:16,539 --> 00:33:21,669
<font color="#E5E5E5">additional resources got mill wrote a</font>

801
00:33:19,149 --> 00:33:24,309
blog<font color="#CCCCCC"> and that's</font><font color="#E5E5E5"> kind of the</font><font color="#CCCCCC"> the King</font>

802
00:33:21,669 --> 00:33:26,049
<font color="#CCCCCC">macdaddy back in 2011 on basic</font><font color="#E5E5E5"> finished</font>

803
00:33:24,309 --> 00:33:27,190
<font color="#E5E5E5">for</font><font color="#CCCCCC"> losers</font><font color="#E5E5E5"> collation it goes to the much</font>

804
00:33:26,049 --> 00:33:30,549
<font color="#CCCCCC">more depth than</font><font color="#E5E5E5"> what we talked about</font>

805
00:33:27,190 --> 00:33:31,899
here<font color="#E5E5E5"> so I lay belad first because that's</font>

806
00:33:30,549 --> 00:33:32,889
<font color="#E5E5E5">the first</font><font color="#CCCCCC"> thing you should absolutely</font><font color="#E5E5E5"> if</font>

807
00:33:31,899 --> 00:33:36,039
you're interested in<font color="#E5E5E5"> links frivolous</font>

808
00:33:32,889 --> 00:33:37,418
escalation<font color="#E5E5E5"> read that block</font><font color="#CCCCCC"> Jake Williams</font>

809
00:33:36,039 --> 00:33:39,729
<font color="#CCCCCC">didn't talk besides</font><font color="#E5E5E5"> the Gustus a few</font>

810
00:33:37,419 --> 00:33:41,499
years ago and then<font color="#CCCCCC"> tradecraft</font><font color="#E5E5E5"> security</font>

811
00:33:39,729 --> 00:33:43,830
weekly also did a brief talk about it

812
00:33:41,499 --> 00:33:46,899
and now hopefully<font color="#E5E5E5"> somebody can add us on</font>

813
00:33:43,830 --> 00:33:49,289
<font color="#CCCCCC">it if you</font><font color="#E5E5E5"> need practice out there</font>

814
00:33:46,899 --> 00:33:51,820
<font color="#E5E5E5">there's all kind of resources</font><font color="#CCCCCC"> out</font><font color="#E5E5E5"> there</font>

815
00:33:49,289 --> 00:33:53,049
<font color="#CCCCCC">phone hub is the one I used to recommend</font>

816
00:33:51,820 --> 00:33:57,239
to a lot<font color="#CCCCCC"> of people because you</font><font color="#E5E5E5"> could go</font>

817
00:33:53,049 --> 00:34:00,549
download<font color="#E5E5E5"> various for a boy exam os's</font>

818
00:33:57,239 --> 00:34:03,429
burn horrible<font color="#CCCCCC"> VMs almost always the</font>

819
00:34:00,549 --> 00:34:05,229
Linux or UNIX<font color="#E5E5E5"> base there's different</font>

820
00:34:03,429 --> 00:34:07,690
capture<font color="#E5E5E5"> and capture the flag style</font>

821
00:34:05,229 --> 00:34:08,289
competition things<font color="#CCCCCC"> CTL some great ones</font>

822
00:34:07,690 --> 00:34:09,819
<font color="#E5E5E5">as well</font>

823
00:34:08,289 --> 00:34:11,349
<font color="#CCCCCC">Metasploit</font><font color="#E5E5E5"> abou is one that's</font><font color="#CCCCCC"> been</font>

824
00:34:09,819 --> 00:34:13,270
<font color="#CCCCCC">around for a long time as</font><font color="#E5E5E5"> roadable</font>

825
00:34:11,349 --> 00:34:15,129
<font color="#E5E5E5">mister over to</font><font color="#CCCCCC"> Matt is</font><font color="#E5E5E5"> playable</font><font color="#CCCCCC"> three</font>

826
00:34:13,270 --> 00:34:17,109
which is<font color="#E5E5E5"> actually</font><font color="#CCCCCC"> windows-based</font><font color="#E5E5E5"> I think</font>

827
00:34:15,129 --> 00:34:19,179
<font color="#CCCCCC">it</font><font color="#E5E5E5"> but um these are</font><font color="#CCCCCC"> these are</font>

828
00:34:17,109 --> 00:34:20,828
intentionally vulnerable<font color="#E5E5E5"> yes that you</font>

829
00:34:19,179 --> 00:34:22,179
can put on<font color="#CCCCCC"> your machine</font><font color="#E5E5E5"> and you</font><font color="#CCCCCC"> can</font>

830
00:34:20,829 --> 00:34:24,279
<font color="#E5E5E5">practice these attacks and these</font>

831
00:34:22,179 --> 00:34:25,720
<font color="#CCCCCC">enumeration takes a</font><font color="#E5E5E5"> dance safely and</font>

832
00:34:24,279 --> 00:34:27,129
then when you break the<font color="#CCCCCC"> Machine you can</font>

833
00:34:25,719 --> 00:34:28,168
<font color="#E5E5E5">just revert it in front all right so if</font>

834
00:34:27,129 --> 00:34:30,549
<font color="#E5E5E5">you want</font><font color="#CCCCCC"> to something</font><font color="#E5E5E5"> a little</font><font color="#CCCCCC"> more</font>

835
00:34:28,168 --> 00:34:32,558
aggressive a little<font color="#CCCCCC"> more challenging</font>

836
00:34:30,549 --> 00:34:34,199
heck the box is definitely the path

837
00:34:32,559 --> 00:34:37,089
<font color="#E5E5E5">you'd want to go</font>

838
00:34:34,199 --> 00:34:38,540
some people have equated<font color="#E5E5E5"> it closer</font><font color="#CCCCCC"> to</font>

839
00:34:37,089 --> 00:34:41,929
like the

840
00:34:38,540 --> 00:34:43,429
<font color="#CCCCCC">Oh ACP</font><font color="#E5E5E5"> level</font><font color="#CCCCCC"> beat himself with</font><font color="#E5E5E5"> that</font>

841
00:34:41,929 --> 00:34:45,320
<font color="#CCCCCC">systems going again so it's a really</font>

842
00:34:43,429 --> 00:34:46,970
<font color="#CCCCCC">good</font><font color="#E5E5E5"> practice for practicing</font><font color="#CCCCCC"> pen testing</font>

843
00:34:45,320 --> 00:34:48,980
or capture the<font color="#E5E5E5"> flag in general but also</font>

844
00:34:46,969 --> 00:34:50,750
testing out your unique skills learning

845
00:34:48,980 --> 00:34:52,969
<font color="#E5E5E5">from mistakes learning from the way that</font>

846
00:34:50,750 --> 00:34:54,530
<font color="#E5E5E5">they are intentionally messing up on</font>

847
00:34:52,969 --> 00:34:56,389
<font color="#E5E5E5">their because these are things that</font>

848
00:34:54,530 --> 00:34:58,250
people see in<font color="#CCCCCC"> the wild at a lot of times</font>

849
00:34:56,389 --> 00:35:01,430
now<font color="#CCCCCC"> they're yeah sure these are these</font>

850
00:34:58,250 --> 00:35:04,910
are<font color="#CCCCCC"> boxes that are made in fact one was</font>

851
00:35:01,430 --> 00:35:06,919
made<font color="#E5E5E5"> about</font><font color="#CCCCCC"> a year</font><font color="#E5E5E5"> ago</font><font color="#CCCCCC"> that showed the</font>

852
00:35:04,910 --> 00:35:09,589
the most<font color="#E5E5E5"> recent</font><font color="#CCCCCC"> credit card breach oh</font>

853
00:35:06,920 --> 00:35:10,940
they<font color="#E5E5E5"> basically recreated that in a VM</font>

854
00:35:09,590 --> 00:35:12,230
and said here probably<font color="#E5E5E5"> something so you</font>

855
00:35:10,940 --> 00:35:14,450
<font color="#CCCCCC">can recreate you know how</font><font color="#E5E5E5"> that</font><font color="#CCCCCC"> curb</font>

856
00:35:12,230 --> 00:35:15,650
<font color="#CCCCCC">intercept so so yeah it's really good</font>

857
00:35:14,450 --> 00:35:17,060
<font color="#E5E5E5">environment you have</font><font color="#CCCCCC"> to have to get</font>

858
00:35:15,650 --> 00:35:19,280
access<font color="#E5E5E5"> to it so you have to actually</font>

859
00:35:17,060 --> 00:35:21,500
hack your<font color="#CCCCCC"> way in but it's pretty</font><font color="#E5E5E5"> it's</font>

860
00:35:19,280 --> 00:35:22,790
pretty easy for<font color="#CCCCCC"> your low levels so once</font>

861
00:35:21,500 --> 00:35:24,440
you're<font color="#E5E5E5"> in there you know they've</font><font color="#CCCCCC"> got</font>

862
00:35:22,790 --> 00:35:27,230
free<font color="#CCCCCC"> and paid tiers and you can just</font>

863
00:35:24,440 --> 00:35:28,820
practice<font color="#CCCCCC"> on it it's</font><font color="#E5E5E5"> absolutely worth it</font>

864
00:35:27,230 --> 00:35:30,410
<font color="#E5E5E5">I do it I do it at least once a week I</font>

865
00:35:28,820 --> 00:35:32,090
<font color="#E5E5E5">get on hack the</font><font color="#CCCCCC"> Box</font><font color="#E5E5E5"> you know to keep my</font>

866
00:35:30,410 --> 00:35:33,830
skills sharp and stuff so one other

867
00:35:32,090 --> 00:35:35,960
thing<font color="#CCCCCC"> you can do is</font><font color="#E5E5E5"> just go download the</font>

868
00:35:33,830 --> 00:35:38,630
old versions of Ubuntu download<font color="#E5E5E5"> ode</font>

869
00:35:35,960 --> 00:35:40,610
versions of Red Hat whatever<font color="#E5E5E5"> if you have</font>

870
00:35:38,630 --> 00:35:42,500
access to<font color="#E5E5E5"> it apply code versions at work</font>

871
00:35:40,610 --> 00:35:44,780
something set up<font color="#E5E5E5"> a lab and run something</font>

872
00:35:42,500 --> 00:35:47,630
with that because<font color="#E5E5E5"> the thing is here</font>

873
00:35:44,780 --> 00:35:50,810
<font color="#CCCCCC">you're not trying to</font><font color="#E5E5E5"> if you really get</font>

874
00:35:47,630 --> 00:35:52,010
<font color="#CCCCCC">into these</font><font color="#E5E5E5"> like heck the</font><font color="#CCCCCC"> box</font><font color="#E5E5E5"> phone huh</font>

875
00:35:50,810 --> 00:35:53,720
but although those are intentionally

876
00:35:52,010 --> 00:35:56,390
vulnerable<font color="#CCCCCC"> now you're looking at</font><font color="#E5E5E5"> the</font>

877
00:35:53,720 --> 00:35:58,910
ones that are provided by<font color="#CCCCCC"> the vendor to</font>

878
00:35:56,390 --> 00:36:00,589
<font color="#CCCCCC">hear it</font><font color="#E5E5E5"> this is it can you steal hacking</font>

879
00:35:58,910 --> 00:36:01,759
what version<font color="#E5E5E5"> what is the old kernel</font>

880
00:36:00,590 --> 00:36:04,100
version there that you can still exploit

881
00:36:01,760 --> 00:36:06,680
<font color="#E5E5E5">what shares are in place stuff like that</font>

882
00:36:04,100 --> 00:36:08,630
and<font color="#E5E5E5"> then finally</font><font color="#CCCCCC"> if you</font><font color="#E5E5E5"> buy has any</font>

883
00:36:06,680 --> 00:36:09,649
questions for<font color="#E5E5E5"> us</font><font color="#CCCCCC"> we'll</font><font color="#E5E5E5"> be up here let me</font>

884
00:36:08,630 --> 00:36:12,020
go ahead and click<font color="#E5E5E5"> through to the</font>

885
00:36:09,650 --> 00:36:14,420
contact slide<font color="#CCCCCC"> that's</font><font color="#E5E5E5"> our contact</font>

886
00:36:12,020 --> 00:36:16,910
<font color="#E5E5E5">information so feel free to reach out</font><font color="#CCCCCC"> to</font>

887
00:36:14,420 --> 00:36:19,310
us you know hit us up on Twitter YouTube

888
00:36:16,910 --> 00:36:21,170
we both have channels and the email and

889
00:36:19,310 --> 00:36:23,960
<font color="#E5E5E5">stuff so feel free if you</font><font color="#CCCCCC"> have any</font>

890
00:36:21,170 --> 00:36:25,400
questions comments concerns<font color="#CCCCCC"> Pat hey we</font>

891
00:36:23,960 --> 00:36:26,810
sincerely appreciate you guys coming out

892
00:36:25,400 --> 00:36:28,670
and hearing us ramble<font color="#CCCCCC"> for awhile</font><font color="#E5E5E5"> and</font>

893
00:36:26,810 --> 00:36:30,350
thank you guys<font color="#E5E5E5"> for</font><font color="#CCCCCC"> playing along</font><font color="#E5E5E5"> and</font>

894
00:36:28,670 --> 00:36:33,940
definitely<font color="#E5E5E5"> sitting through the technical</font>

895
00:36:30,350 --> 00:36:33,940
difficulties<font color="#CCCCCC"> there late</font>

