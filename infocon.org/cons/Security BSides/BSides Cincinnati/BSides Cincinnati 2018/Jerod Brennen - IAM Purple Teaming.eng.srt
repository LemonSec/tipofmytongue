1
00:00:00,000 --> 00:00:14,880
Dean is sponsored by GE Aviation no

2
00:00:05,069 --> 00:00:22,470
starch press CBTs cyber-ark Booz Allen

3
00:00:14,880 --> 00:00:26,900
Hamilton dark rhino security and the

4
00:00:22,470 --> 00:00:26,900
game RSA

5
00:00:27,120 --> 00:00:34,740
and US Bank join the conversation

6
00:00:31,650 --> 00:00:38,510
tweet us at b-side cincy the

7
00:00:34,740 --> 00:00:38,510
presentation will begin shortly

8
00:00:42,470 --> 00:00:55,280
besides Cincinnati 2018 is sponsored by

9
00:00:46,440 --> 00:00:58,280
GE Aviation no starch press CBTs

10
00:00:55,280 --> 00:00:58,280
cyber-ark

11
00:00:59,559 --> 00:01:11,970
Booz Allen Hamilton Darkrai no security

12
00:01:04,979 --> 00:01:11,970
and the game RSA

13
00:01:12,220 --> 00:01:21,160
and US Bank join the conversation tweet

14
00:01:17,350 --> 00:01:23,850
us at b-side cincy the presentation will

15
00:01:21,160 --> 00:01:23,850
begin shortly

16
00:01:27,840 --> 00:01:40,650
besides Cincinnati 2018 is sponsored by

17
00:01:31,780 --> 00:01:43,650
GE Aviation no starch press CBTs

18
00:01:40,650 --> 00:01:43,650
cyber-ark

19
00:01:44,870 --> 00:01:57,310
Booz Allen Hamilton Darkrai no security

20
00:01:50,260 --> 00:01:57,310
and the game RSA

21
00:01:57,730 --> 00:02:05,440
and US Bank join the conversation

22
00:02:02,350 --> 00:02:09,210
tweet us at b-side cincy the

23
00:02:05,440 --> 00:02:09,210
presentation will begin shortly

24
00:02:13,170 --> 00:02:25,980
besides Cincinnati 2018 is sponsored by

25
00:02:17,110 --> 00:02:28,980
GE Aviation no starch press CBTs

26
00:02:25,980 --> 00:02:28,980
cyber-ark

27
00:02:30,250 --> 00:02:43,660
Booz Allen Hamilton Darkrai no security

28
00:02:35,850 --> 00:02:45,970
and the game RSA going with the last

29
00:02:43,660 --> 00:02:48,670
talk of the day got Jerry Brennan here

30
00:02:45,970 --> 00:02:52,150
is gonna be talk on hacking identity

31
00:02:48,670 --> 00:02:53,890
insights and testers got ties so it

32
00:02:52,150 --> 00:02:58,960
should be a fascinating one takeaway I

33
00:02:53,890 --> 00:03:05,049
appreciate it thank you almost all right

34
00:02:58,960 --> 00:03:08,020
hey wheat you out of here early which I

35
00:03:05,050 --> 00:03:09,459
dig because I've got some family stuff

36
00:03:08,020 --> 00:03:11,890
going on tonight I'm going to show up

37
00:03:09,459 --> 00:03:15,250
early I'm gonna wind out of the year so

38
00:03:11,890 --> 00:03:18,070
I'm here out of Columbus number one I am

39
00:03:15,250 --> 00:03:20,470
madly in love with this venue I'm a

40
00:03:18,070 --> 00:03:22,540
filmmaker I've got almost 30 credits on

41
00:03:20,470 --> 00:03:25,540
IMDB yeah the folks who will put this

42
00:03:22,540 --> 00:03:28,630
con together and kudos and not just the

43
00:03:25,540 --> 00:03:31,329
venue and the bar but the the music

44
00:03:28,630 --> 00:03:33,850
that's been playing in between every I'm

45
00:03:31,330 --> 00:03:36,790
serious I am loving every piece of it

46
00:03:33,850 --> 00:03:39,780
and I've got my whiskey for my tongue so

47
00:03:36,790 --> 00:03:39,780
I'm in a good way

48
00:03:40,069 --> 00:03:47,109
my talk comes from the almost 20 years

49
00:03:44,030 --> 00:03:50,379
of InfoSec I've got my dog at this point

50
00:03:47,110 --> 00:03:54,650
I went to school

51
00:03:50,379 --> 00:03:57,709
drop that Stark who's this to be a music

52
00:03:54,650 --> 00:03:59,959
teacher my path and InfoSec is probably

53
00:03:57,709 --> 00:04:02,269
a lot like some of yours you just kind

54
00:03:59,959 --> 00:04:05,450
of end up here yeah we get break the law

55
00:04:02,269 --> 00:04:07,549
and we get paid for it which I did I was

56
00:04:05,450 --> 00:04:10,189
raised in a way that I'm not gonna break

57
00:04:07,549 --> 00:04:13,040
the law to to do things malicious to

58
00:04:10,189 --> 00:04:14,629
hurt people but I am insanely curious so

59
00:04:13,040 --> 00:04:18,769
thank god I've got a job that lets me

60
00:04:14,629 --> 00:04:22,460
get away that was bang the talk that I

61
00:04:18,769 --> 00:04:24,800
put together here is a blend of my set

62
00:04:22,460 --> 00:04:26,630
off days I used to manage InfoSec at

63
00:04:24,800 --> 00:04:28,729
Abercrombie and Fitch

64
00:04:26,630 --> 00:04:30,500
when I was there we deployed in Identity

65
00:04:28,729 --> 00:04:33,229
and Access Management Systems I managed

66
00:04:30,500 --> 00:04:36,800
everybody and at a and F they go through

67
00:04:33,229 --> 00:04:39,830
probably run a quarter of a million IDs

68
00:04:36,800 --> 00:04:41,990
each year our number one retail always

69
00:04:39,830 --> 00:04:43,639
has high turnover around holiday season

70
00:04:41,990 --> 00:04:45,110
number two when they tell you they're

71
00:04:43,639 --> 00:04:47,780
hiring you to be an Abercrombie model

72
00:04:45,110 --> 00:04:49,190
and on day one you show up I'm here take

73
00:04:47,780 --> 00:04:52,369
my picture and they say no fold t-shirts

74
00:04:49,190 --> 00:04:53,960
are people get this they leave but you

75
00:04:52,370 --> 00:04:55,370
still have to provision an account and

76
00:04:53,960 --> 00:04:55,849
then do provision that account right

77
00:04:55,370 --> 00:04:58,400
away

78
00:04:55,849 --> 00:04:59,990
so I got some hands-on Identity and

79
00:04:58,400 --> 00:05:01,729
Access Management experience and I've

80
00:04:59,990 --> 00:05:03,530
done in u.s. a lot of penetration

81
00:05:01,729 --> 00:05:05,389
testing going I'm more of a web at

82
00:05:03,530 --> 00:05:06,380
pentester so I really does do active

83
00:05:05,389 --> 00:05:07,520
defense stuff we were just like

84
00:05:06,380 --> 00:05:12,469
inaccurate

85
00:05:07,520 --> 00:05:15,409
but what I've learned in pen testing

86
00:05:12,470 --> 00:05:17,570
today it is much more likely if you hire

87
00:05:15,410 --> 00:05:19,310
the right shoddy - and I work for a

88
00:05:17,570 --> 00:05:21,169
vendor but we don't do pen testing so

89
00:05:19,310 --> 00:05:23,000
I'm not selling any of that here I'm

90
00:05:21,169 --> 00:05:25,010
just saying my professional

91
00:05:23,000 --> 00:05:27,680
recommendation is that if you find a

92
00:05:25,010 --> 00:05:29,960
shop that doesn't do vulnerability scans

93
00:05:27,680 --> 00:05:32,300
as part of their pen tests check them

94
00:05:29,960 --> 00:05:34,130
out because if somebody's just flipping

95
00:05:32,300 --> 00:05:35,210
your necess report it's not a pen test

96
00:05:34,130 --> 00:05:37,760
folks it's a vulnerability assessment

97
00:05:35,210 --> 00:05:39,830
they're very different but if somebody

98
00:05:37,760 --> 00:05:41,479
is coming at your organization and

99
00:05:39,830 --> 00:05:42,650
they're emulating an attacker who

100
00:05:41,479 --> 00:05:45,169
doesn't want to get caught they're not

101
00:05:42,650 --> 00:05:47,270
going to run noisy stupid scans are

102
00:05:45,169 --> 00:05:48,830
gonna trip defenses they're gonna go

103
00:05:47,270 --> 00:05:51,049
right after an identity

104
00:05:48,830 --> 00:05:53,150
and I've worked on pentest with people

105
00:05:51,050 --> 00:05:55,759
who can go from unauthorized outsiders

106
00:05:53,150 --> 00:05:57,799
to domain admin by lunchtime on the very

107
00:05:55,759 --> 00:05:59,629
first day which makes it very awkward

108
00:05:57,800 --> 00:06:02,780
for the customer to say well we've still

109
00:05:59,629 --> 00:06:05,360
got two weeks what else do you want us

110
00:06:02,780 --> 00:06:09,080
to do and the way he does that the way

111
00:06:05,360 --> 00:06:10,970
we we get through those come and take

112
00:06:09,080 --> 00:06:13,520
over these organisations is by going

113
00:06:10,970 --> 00:06:15,349
after identity so I want to share some

114
00:06:13,520 --> 00:06:16,909
information with you that's both sides

115
00:06:15,349 --> 00:06:18,020
of the fence what do you need to know

116
00:06:16,909 --> 00:06:19,610
about identity and access management

117
00:06:18,020 --> 00:06:21,229
what do you need to know about

118
00:06:19,610 --> 00:06:23,750
pentesting and what are things that you

119
00:06:21,229 --> 00:06:25,990
can take back to your own organizations

120
00:06:23,750 --> 00:06:28,819
the first thing I'm going to tell you

121
00:06:25,990 --> 00:06:31,430
the slides are up on SlideShare and

122
00:06:28,819 --> 00:06:32,750
speaker deck the github version of

123
00:06:31,430 --> 00:06:35,030
SlideShare

124
00:06:32,750 --> 00:06:37,159
I literally designed my slides to have

125
00:06:35,030 --> 00:06:39,440
way too much information in them so I'm

126
00:06:37,159 --> 00:06:41,180
going to talk crazy fast I'm gonna have

127
00:06:39,440 --> 00:06:43,490
more things and you come right down I've

128
00:06:41,180 --> 00:06:45,259
had picture people taking pictures when

129
00:06:43,490 --> 00:06:46,879
I'm up here if you wanna do that I'm

130
00:06:45,259 --> 00:06:48,860
cool I know I'm very sexy take all the

131
00:06:46,879 --> 00:06:50,300
pictures you need but all the

132
00:06:48,860 --> 00:06:53,569
information in the slides you can

133
00:06:50,300 --> 00:06:56,240
download right now if you want f5r

134
00:06:53,569 --> 00:07:00,349
rants they published a report in

135
00:06:56,240 --> 00:07:02,180
December and they're their security

136
00:07:00,349 --> 00:07:04,729
vendor they're doing it as part of their

137
00:07:02,180 --> 00:07:06,259
this is why you should buy our stuff as

138
00:07:04,729 --> 00:07:09,229
somebody who works for a vendor I

139
00:07:06,259 --> 00:07:11,270
understand that not all vendors are evil

140
00:07:09,229 --> 00:07:14,300
it's really just some of the people who

141
00:07:11,270 --> 00:07:16,250
work at miners are either but if you get

142
00:07:14,300 --> 00:07:18,889
in a relationship with the right vendor

143
00:07:16,250 --> 00:07:21,020
they can really help you out them alive

144
00:07:18,889 --> 00:07:23,479
is taking this agnostic approach to say

145
00:07:21,020 --> 00:07:25,758
we took a look at a decade's worth of

146
00:07:23,479 --> 00:07:27,949
data breaches and here are the patterns

147
00:07:25,759 --> 00:07:29,960
here the trends it's a great compliment

148
00:07:27,949 --> 00:07:31,909
to the Verizon data breach

149
00:07:29,960 --> 00:07:35,419
investigations report and what they

150
00:07:31,909 --> 00:07:39,349
found is in 86 percent of the breaches

151
00:07:35,419 --> 00:07:41,719
they investigated application arts press

152
00:07:39,349 --> 00:07:44,319
so internet-facing web apps and

153
00:07:41,719 --> 00:07:47,270
identities were the initial attack

154
00:07:44,319 --> 00:07:49,699
that's what attackers are going after

155
00:07:47,270 --> 00:07:52,639
because if I can exploit an application

156
00:07:49,699 --> 00:07:55,819
weakness or if I key a regular set of

157
00:07:52,639 --> 00:07:59,860
user creds I can get in your

158
00:07:55,819 --> 00:08:03,759
organization that's the the first column

159
00:07:59,860 --> 00:08:05,860
the reason this is in my experience is

160
00:08:03,759 --> 00:08:08,680
number one there is way too much

161
00:08:05,860 --> 00:08:11,110
information about us online and we

162
00:08:08,680 --> 00:08:12,400
voluntarily Cambridge analytic publish

163
00:08:11,110 --> 00:08:15,939
this information out to organizations

164
00:08:12,400 --> 00:08:18,248
that will abuse it if you don't do open

165
00:08:15,939 --> 00:08:20,650
source intelligence gathering do it both

166
00:08:18,249 --> 00:08:22,029
thing is sexy it's fun and if you do it

167
00:08:20,650 --> 00:08:24,248
right it doesn't show up in anybody's

168
00:08:22,029 --> 00:08:25,930
logs it's just going out to public

169
00:08:24,249 --> 00:08:28,180
resources saying what can you tell me

170
00:08:25,930 --> 00:08:30,460
about an organization who works for the

171
00:08:28,180 --> 00:08:33,459
organization how do they learn what

172
00:08:30,460 --> 00:08:36,728
systems do they interact with we also

173
00:08:33,458 --> 00:08:39,789
have a problem with people over sharing

174
00:08:36,729 --> 00:08:41,529
on social media and using your corporate

175
00:08:39,789 --> 00:08:43,149
email on sites that don't have anything

176
00:08:41,529 --> 00:08:45,480
to do with your company if you're

177
00:08:43,149 --> 00:08:47,709
familiar with the Ashley Madison hack

178
00:08:45,480 --> 00:08:50,560
where all those credential sets were

179
00:08:47,709 --> 00:08:52,779
exposed if there is one website where

180
00:08:50,560 --> 00:08:55,630
you want to be discreet it's Ashley

181
00:08:52,779 --> 00:08:58,149
Madison and people were using the first

182
00:08:55,630 --> 00:09:00,010
name dot last name at company comm to

183
00:08:58,149 --> 00:09:01,540
register and set up their account that's

184
00:09:00,010 --> 00:09:05,769
a whole different kind of stupid but I'm

185
00:09:01,540 --> 00:09:07,930
not gonna judge information is a

186
00:09:05,769 --> 00:09:10,959
necessary part of how the internet works

187
00:09:07,930 --> 00:09:12,160
if I have a computer that has my stuff

188
00:09:10,959 --> 00:09:13,839
on it and I want to talk to your

189
00:09:12,160 --> 00:09:15,819
computer and it's got your stuff on it

190
00:09:13,839 --> 00:09:18,490
they have to share the NS they have to

191
00:09:15,819 --> 00:09:22,029
share IP they have to go through all the

192
00:09:18,490 --> 00:09:24,730
hops and the ISPs and everything that

193
00:09:22,029 --> 00:09:27,819
date security makes the internet the

194
00:09:24,730 --> 00:09:30,190
internet means these systems have to be

195
00:09:27,819 --> 00:09:32,500
sharing certain information and you as

196
00:09:30,190 --> 00:09:34,029
an attacker if you're Red Team you can

197
00:09:32,500 --> 00:09:36,910
use that information to your advantage

198
00:09:34,029 --> 00:09:39,279
and the increasing reliance on software

199
00:09:36,910 --> 00:09:41,139
is a service is breaking some of our

200
00:09:39,279 --> 00:09:44,170
policies around Identity and Access

201
00:09:41,139 --> 00:09:46,810
Management if my directory lives on my

202
00:09:44,170 --> 00:09:49,000
premise and I can control who can see it

203
00:09:46,810 --> 00:09:50,560
and who can get to a great but what

204
00:09:49,000 --> 00:09:52,810
about all these websites that were

205
00:09:50,560 --> 00:09:54,430
logging into to do our jobs with the

206
00:09:52,810 --> 00:09:59,489
Identity and Access Management team

207
00:09:54,430 --> 00:10:02,109
can't can't control can't touch if I

208
00:09:59,490 --> 00:10:03,670
want people to use strong passwords I

209
00:10:02,110 --> 00:10:06,160
can go into AD and say this is the

210
00:10:03,670 --> 00:10:07,899
password complexity policy I can't do

211
00:10:06,160 --> 00:10:08,910
that on the software as a service site

212
00:10:07,899 --> 00:10:10,950
where I don't have a min

213
00:10:08,910 --> 00:10:13,829
Strait of rights so all of these things

214
00:10:10,950 --> 00:10:16,530
and combined have created an attack

215
00:10:13,830 --> 00:10:19,620
surface that makes the blue team's job a

216
00:10:16,530 --> 00:10:22,620
lot harder and so the more sophisticated

217
00:10:19,620 --> 00:10:24,090
attenders which again I love on the

218
00:10:22,620 --> 00:10:26,550
active defense you talk about popping

219
00:10:24,090 --> 00:10:29,310
the CPUs that's a red flag right away

220
00:10:26,550 --> 00:10:32,370
right if I am coming in an organization

221
00:10:29,310 --> 00:10:34,739
and I get into the organization and I'm

222
00:10:32,370 --> 00:10:36,540
really noisy with apparent credentials

223
00:10:34,740 --> 00:10:39,480
that I've stolen you're gonna catch me

224
00:10:36,540 --> 00:10:42,270
right away but if I fly low and slow I

225
00:10:39,480 --> 00:10:44,430
can sit on your network for years and I

226
00:10:42,270 --> 00:10:46,050
can abuse that access to continually

227
00:10:44,430 --> 00:10:47,069
siphoned data so it's not just all the

228
00:10:46,050 --> 00:10:49,469
credit cards that you have in your

229
00:10:47,070 --> 00:10:51,360
database today it's every credit card

230
00:10:49,470 --> 00:10:54,420
that you take from the day I capture

231
00:10:51,360 --> 00:10:57,270
that credential until you find out that

232
00:10:54,420 --> 00:11:00,240
I'm on your network and to further

233
00:10:57,270 --> 00:11:01,829
complicate it pentesting and and again

234
00:11:00,240 --> 00:11:03,930
that more sophisticated Aztec

235
00:11:01,830 --> 00:11:07,020
methodology has become a repeatable

236
00:11:03,930 --> 00:11:09,750
process it's not guesswork anymore this

237
00:11:07,020 --> 00:11:11,130
is the actual process that I follow when

238
00:11:09,750 --> 00:11:13,830
I'm running a pen test now and you'll

239
00:11:11,130 --> 00:11:16,050
see that when I do my first step of sync

240
00:11:13,830 --> 00:11:19,830
gathering the very next thing I go after

241
00:11:16,050 --> 00:11:22,380
our credentials because once I got a set

242
00:11:19,830 --> 00:11:24,660
of regular user credentials I can get

243
00:11:22,380 --> 00:11:26,730
into applications that sit on web

244
00:11:24,660 --> 00:11:29,880
servers the internet facing I can get

245
00:11:26,730 --> 00:11:32,940
into SSL VPN portals I can get into

246
00:11:29,880 --> 00:11:34,950
webmail portals and once I get in with a

247
00:11:32,940 --> 00:11:36,690
regular set of user credentials I'm

248
00:11:34,950 --> 00:11:39,060
going to look around gather what I can

249
00:11:36,690 --> 00:11:40,440
and try to elevate my pro here and then

250
00:11:39,060 --> 00:11:41,400
I'm going to jump to another box and

251
00:11:40,440 --> 00:11:44,370
then I'm going to see if I can elevate

252
00:11:41,400 --> 00:11:47,970
my privilege until I get to domain admin

253
00:11:44,370 --> 00:11:50,430
and control the entire network and none

254
00:11:47,970 --> 00:11:52,320
of this information is new when I took

255
00:11:50,430 --> 00:11:54,510
on Casper spring which I'm going to talk

256
00:11:52,320 --> 00:11:56,850
about in just a day that's years old

257
00:11:54,510 --> 00:12:00,000
this information is being researched and

258
00:11:56,850 --> 00:12:01,650
developed tools to automate these

259
00:12:00,000 --> 00:12:04,830
techniques are being published to github

260
00:12:01,650 --> 00:12:08,220
on a an increased frequency on an

261
00:12:04,830 --> 00:12:12,170
increasing basis which again puts the

262
00:12:08,220 --> 00:12:14,370
blue teamers that a unfair disadvantage

263
00:12:12,170 --> 00:12:17,099
but what I'm hoping to share with you

264
00:12:14,370 --> 00:12:18,630
today is enough information that you can

265
00:12:17,100 --> 00:12:19,420
take it back and start using it right

266
00:12:18,630 --> 00:12:21,310
away to her

267
00:12:19,420 --> 00:12:24,099
your own defenses to protect your

268
00:12:21,310 --> 00:12:25,619
organization's better and if anything to

269
00:12:24,100 --> 00:12:28,120
make it easier for you to do your job

270
00:12:25,620 --> 00:12:29,500
first thing I want to bring us through

271
00:12:28,120 --> 00:12:32,050
is a quick Identity and Access

272
00:12:29,500 --> 00:12:34,480
Management primer I mentioned this deck

273
00:12:32,050 --> 00:12:36,939
is on SlideShare I've also got exec that

274
00:12:34,480 --> 00:12:39,640
I shared with a greater sense of Issa a

275
00:12:36,940 --> 00:12:41,380
few years back this longer and gets into

276
00:12:39,640 --> 00:12:43,480
Identity and Access Management in a

277
00:12:41,380 --> 00:12:45,070
little more detail we've got our

278
00:12:43,480 --> 00:12:50,230
three-letter acronyms our four letter

279
00:12:45,070 --> 00:12:51,220
acronyms the ones I want to point out on

280
00:12:50,230 --> 00:12:54,010
the right-hand side

281
00:12:51,220 --> 00:12:55,480
LDAP is when you tell an application to

282
00:12:54,010 --> 00:12:57,730
authenticate against Active Directory

283
00:12:55,480 --> 00:13:01,720
start instead of having like a local

284
00:12:57,730 --> 00:13:03,640
database that keeps Jared is Jay one two

285
00:13:01,720 --> 00:13:05,500
three four five and this is his password

286
00:13:03,640 --> 00:13:07,360
I'm just going to go against Active

287
00:13:05,500 --> 00:13:09,370
Directory or some other LDAP store and

288
00:13:07,360 --> 00:13:11,200
say look I already set him up as a user

289
00:13:09,370 --> 00:13:12,820
there check there and see what his

290
00:13:11,200 --> 00:13:15,150
username and password is that'll prove

291
00:13:12,820 --> 00:13:18,190
that Jared is really who he says he is

292
00:13:15,150 --> 00:13:21,579
once somebody is authenticated there's

293
00:13:18,190 --> 00:13:23,530
this concept of authorization which is

294
00:13:21,580 --> 00:13:25,630
okay Jared's proven that he's really

295
00:13:23,530 --> 00:13:27,610
Jared what is he allowed to get to the

296
00:13:25,630 --> 00:13:29,710
president what is he allowed to see and

297
00:13:27,610 --> 00:13:31,210
those are two areas folks two distinct

298
00:13:29,710 --> 00:13:33,070
areas where the defenders have to

299
00:13:31,210 --> 00:13:34,420
control right I have to put the right

300
00:13:33,070 --> 00:13:36,310
controls in place to make sure the

301
00:13:34,420 --> 00:13:38,439
passwords are strong enough to keep

302
00:13:36,310 --> 00:13:40,630
people off you shouldn't be logging in

303
00:13:38,440 --> 00:13:43,780
after you change default passwords I

304
00:13:40,630 --> 00:13:46,120
have to put two factors some kind of

305
00:13:43,780 --> 00:13:47,620
multi-factor in play to make it harder

306
00:13:46,120 --> 00:13:49,600
for people to authenticate who aren't

307
00:13:47,620 --> 00:13:51,970
really Jared but want to trick me into

308
00:13:49,600 --> 00:13:53,800
believing that they are but then in the

309
00:13:51,970 --> 00:13:55,150
Identity and Access Management space to

310
00:13:53,800 --> 00:13:58,599
be able to know well what you're here at

311
00:13:55,150 --> 00:14:00,069
have access to is a very difficult

312
00:13:58,600 --> 00:14:02,320
problem to solve

313
00:14:00,070 --> 00:14:03,820
you say well Jared works on the security

314
00:14:02,320 --> 00:14:06,160
team he should have access to the

315
00:14:03,820 --> 00:14:08,620
security specialist okay with what is

316
00:14:06,160 --> 00:14:10,540
the security and Jared isn't just a

317
00:14:08,620 --> 00:14:12,850
security team member he's an employee

318
00:14:10,540 --> 00:14:14,500
he's got HR he's got benefits he's got

319
00:14:12,850 --> 00:14:17,710
all this stuff he needs to do just to

320
00:14:14,500 --> 00:14:19,480
get paid what should he have access to

321
00:14:17,710 --> 00:14:21,580
there what about all these little

322
00:14:19,480 --> 00:14:23,920
internal company and announcements and

323
00:14:21,580 --> 00:14:25,870
that company all shared drives oh my god

324
00:14:23,920 --> 00:14:28,810
that is such a great target

325
00:14:25,870 --> 00:14:30,790
if Jared is on that server which files

326
00:14:28,810 --> 00:14:33,939
is he allowed to see and it gets so

327
00:14:30,790 --> 00:14:34,719
complex so quickly that we just say look

328
00:14:33,939 --> 00:14:37,870
forget about it

329
00:14:34,720 --> 00:14:39,399
Jared works on the security team Jeff

330
00:14:37,870 --> 00:14:39,999
has worked on the security team for

331
00:14:39,399 --> 00:14:42,999
twenty years

332
00:14:39,999 --> 00:14:45,220
Jared all the access jeff has and then

333
00:14:42,999 --> 00:14:49,180
we perpetuate a problem which role-based

334
00:14:45,220 --> 00:14:51,999
access controls is designed to to defend

335
00:14:49,180 --> 00:14:53,680
against Federation in single sign-on are

336
00:14:51,999 --> 00:14:55,540
things that make it easier on the users

337
00:14:53,680 --> 00:14:57,699
we also make it easier on the attackers

338
00:14:55,540 --> 00:15:00,910
if I can get Jared's username a password

339
00:14:57,699 --> 00:15:03,099
if I can get what allows Jared to log

340
00:15:00,910 --> 00:15:04,809
into these systems then I'll

341
00:15:03,100 --> 00:15:05,529
automatically lock him into all these

342
00:15:04,809 --> 00:15:06,999
other systems

343
00:15:05,529 --> 00:15:08,800
he doesn't have to know a unique set of

344
00:15:06,999 --> 00:15:10,800
credentials for each why that makes

345
00:15:08,800 --> 00:15:12,849
lateral movement easier for the attacker

346
00:15:10,800 --> 00:15:15,309
Federation lets Jared log into websites

347
00:15:12,850 --> 00:15:17,079
that don't live on premise right if I

348
00:15:15,309 --> 00:15:21,670
need to go to concur if I need to go to

349
00:15:17,079 --> 00:15:23,290
AWS if I need to go to office 365 I'm

350
00:15:21,670 --> 00:15:24,878
not gonna have two different Jared's I'm

351
00:15:23,290 --> 00:15:28,329
just gonna have one dart and then I'm

352
00:15:24,879 --> 00:15:30,759
gonna have a token that I create this

353
00:15:28,329 --> 00:15:33,430
says look and I'm gonna verify Jared's

354
00:15:30,759 --> 00:15:35,500
identity here's a token you and I have

355
00:15:33,430 --> 00:15:37,089
an agreement about these tokens so if

356
00:15:35,500 --> 00:15:39,069
you get this token from me you can trust

357
00:15:37,089 --> 00:15:43,300
that yours really Jared he doesn't have

358
00:15:39,069 --> 00:15:45,939
to login again all of this is complex

359
00:15:43,300 --> 00:15:48,399
the implementation the management of it

360
00:15:45,939 --> 00:15:50,620
is not an easy task for people who who

361
00:15:48,399 --> 00:15:53,800
do Identity and Access Management so we

362
00:15:50,620 --> 00:15:55,959
get a names and passwords and databases

363
00:15:53,800 --> 00:15:58,240
that have all these credentials in the

364
00:15:55,959 --> 00:16:00,250
IAM space there's this concept of

365
00:15:58,240 --> 00:16:03,639
entitlements what does Jared have access

366
00:16:00,250 --> 00:16:05,379
to and to give Jared and access to an

367
00:16:03,639 --> 00:16:07,689
entitlement we give Jared entitlements

368
00:16:05,379 --> 00:16:09,850
called provisioning down to take it away

369
00:16:07,689 --> 00:16:11,679
that's called deep provisioning when

370
00:16:09,850 --> 00:16:13,629
Jared no longer work for the company by

371
00:16:11,679 --> 00:16:15,639
God you better deep provision his access

372
00:16:13,629 --> 00:16:19,779
to everything and because he no longer

373
00:16:15,639 --> 00:16:22,269
needs to access except if we work in

374
00:16:19,779 --> 00:16:24,249
higher education in Jared's an alumni

375
00:16:22,269 --> 00:16:26,019
joint well now it's not cut and dry

376
00:16:24,249 --> 00:16:26,740
right now it's complex or what if we're

377
00:16:26,019 --> 00:16:30,069
in health care

378
00:16:26,740 --> 00:16:32,130
Jared's a doctor again how do I manage

379
00:16:30,069 --> 00:16:35,910
Jared's access there

380
00:16:32,130 --> 00:16:38,009
so there's a whole other set of

381
00:16:35,910 --> 00:16:39,959
complexity that comes from just managing

382
00:16:38,009 --> 00:16:42,000
this user once the accounts created I

383
00:16:39,959 --> 00:16:43,800
pulled this from a covering or call

384
00:16:42,000 --> 00:16:47,279
paper that I reference at the end of the

385
00:16:43,800 --> 00:16:49,859
talk in the slide resources section this

386
00:16:47,279 --> 00:16:53,220
is the the generally accepted lifecycle

387
00:16:49,860 --> 00:16:55,290
of a user each item out here is

388
00:16:53,220 --> 00:16:56,819
something that the attacker could

389
00:16:55,290 --> 00:17:00,269
potentially support and take advantage

390
00:16:56,819 --> 00:17:03,540
of so user account gets created and and

391
00:17:00,269 --> 00:17:04,709
we provision the account so that Jared

392
00:17:03,540 --> 00:17:06,569
has the ability or the user has the

393
00:17:04,709 --> 00:17:08,939
ability to authenticate into log hang

394
00:17:06,569 --> 00:17:11,908
and then once we've got this account we

395
00:17:08,939 --> 00:17:12,720
start to grant the entitlement which is

396
00:17:11,909 --> 00:17:14,939
where out there that prompt

397
00:17:12,720 --> 00:17:16,650
authorization comes into play

398
00:17:14,939 --> 00:17:19,049
Gerry gets out into Active Directory

399
00:17:16,650 --> 00:17:20,789
groups Jared gets added to that Oracle

400
00:17:19,049 --> 00:17:23,520
database that has to live outside the

401
00:17:20,789 --> 00:17:26,908
baby because it doesn't play well with a

402
00:17:23,520 --> 00:17:28,889
society now Jarrod keeps calling the

403
00:17:26,909 --> 00:17:30,780
help desk because he needs things to be

404
00:17:28,890 --> 00:17:32,940
different and we're tired of spending

405
00:17:30,780 --> 00:17:34,678
money on password resets and granting

406
00:17:32,940 --> 00:17:36,510
all this access so we're going to put a

407
00:17:34,679 --> 00:17:39,750
self-service technology up to make it

408
00:17:36,510 --> 00:17:41,809
easier for Jared to get this stuff which

409
00:17:39,750 --> 00:17:44,760
again cars the password management

410
00:17:41,809 --> 00:17:46,799
compliance is is the whole are we really

411
00:17:44,760 --> 00:17:48,840
doing what we set out to do hopefully

412
00:17:46,799 --> 00:17:49,918
you're you're watching that and not just

413
00:17:48,840 --> 00:17:52,559
throwing your arms up in the air and

414
00:17:49,919 --> 00:17:53,570
saying forget it too hard and then at

415
00:17:52,559 --> 00:17:55,740
the end of the day when joins

416
00:17:53,570 --> 00:17:58,770
relationship with the organization is no

417
00:17:55,740 --> 00:18:00,990
longer viable he's in a different role

418
00:17:58,770 --> 00:18:02,940
even if he moves from one team to

419
00:18:00,990 --> 00:18:05,039
another we have to deep revision things

420
00:18:02,940 --> 00:18:06,070
that that aren't relevant to that user

421
00:18:05,039 --> 00:18:10,210
anymore

422
00:18:06,070 --> 00:18:12,220
wait I'd add to that is that the people

423
00:18:10,210 --> 00:18:14,290
who are responsible for doing these

424
00:18:12,220 --> 00:18:19,060
things come from a very different

425
00:18:14,290 --> 00:18:20,230
background at Abercrombie they had five

426
00:18:19,060 --> 00:18:22,570
people who worked at the front desk

427
00:18:20,230 --> 00:18:25,870
their job was to play football and

428
00:18:22,570 --> 00:18:27,730
soccer and frisbee out front are the

429
00:18:25,870 --> 00:18:30,250
main entrance here's a smile and look

430
00:18:27,730 --> 00:18:32,650
pretty and say hey dude what's up good

431
00:18:30,250 --> 00:18:35,170
kids believed in the brand had a job

432
00:18:32,650 --> 00:18:39,520
living on their own so you know I'm good

433
00:18:35,170 --> 00:18:41,050
with all that when the economy tanked it

434
00:18:39,520 --> 00:18:42,639
was determined that we didn't mean quite

435
00:18:41,050 --> 00:18:45,730
as many people standing around doing

436
00:18:42,640 --> 00:18:46,840
that presently so they said well but

437
00:18:45,730 --> 00:18:49,300
these are good people these are good

438
00:18:46,840 --> 00:18:51,760
employees we want to keep these these

439
00:18:49,300 --> 00:18:55,770
young kids working here what can we do

440
00:18:51,760 --> 00:18:55,770
with them we need people help Oh perfect

441
00:18:56,160 --> 00:19:01,180
somebody who is trying to do security

442
00:18:59,080 --> 00:19:03,429
and build out a security program people

443
00:19:01,180 --> 00:19:04,750
who didn't even understand that turning

444
00:19:03,430 --> 00:19:08,650
on and off again approach to

445
00:19:04,750 --> 00:19:11,230
troubleshooting it was challenging so

446
00:19:08,650 --> 00:19:12,700
people who come into a helpdesk role and

447
00:19:11,230 --> 00:19:14,430
I'm not saying that to little people

448
00:19:12,700 --> 00:19:17,950
that there were some really smart

449
00:19:14,430 --> 00:19:20,080
employees who grew into more mature IT

450
00:19:17,950 --> 00:19:21,940
professionals through that opportunity

451
00:19:20,080 --> 00:19:23,860
but people who come into the helpdesk

452
00:19:21,940 --> 00:19:26,290
don't tend to be those 20-year veterans

453
00:19:23,860 --> 00:19:28,090
of employers their new job they're

454
00:19:26,290 --> 00:19:29,260
trying to figure it out they just want

455
00:19:28,090 --> 00:19:31,480
to help people they don't look stupid

456
00:19:29,260 --> 00:19:33,610
begin people work in the Security

457
00:19:31,480 --> 00:19:35,350
Operations Center tend to have a little

458
00:19:33,610 --> 00:19:37,740
more experience than the helpdesk folks

459
00:19:35,350 --> 00:19:40,120
they're a little more security center

460
00:19:37,740 --> 00:19:43,300
but they're also looking insert blog

461
00:19:40,120 --> 00:19:45,699
data over and over and over and so their

462
00:19:43,300 --> 00:19:47,649
job can get a little monotonous they can

463
00:19:45,700 --> 00:19:49,420
tend to miss some of the things which

464
00:19:47,650 --> 00:19:51,280
are keynote Danny was talking about this

465
00:19:49,420 --> 00:19:55,690
morning who say no ms-dos don't worry

466
00:19:51,280 --> 00:19:58,210
about it so it's a different skill set

467
00:19:55,690 --> 00:20:00,430
it's a different mindset and then the

468
00:19:58,210 --> 00:20:01,840
security team these are folks who've

469
00:20:00,430 --> 00:20:03,490
probably been at it for a while your

470
00:20:01,840 --> 00:20:05,530
analyst your architects your engineers

471
00:20:03,490 --> 00:20:06,600
they may be the ones actually managing

472
00:20:05,530 --> 00:20:08,230
Identity and Access Management

473
00:20:06,600 --> 00:20:10,000
technologies they're going to get the

474
00:20:08,230 --> 00:20:10,460
escalations from the help desk and from

475
00:20:10,000 --> 00:20:14,929
the

476
00:20:10,460 --> 00:20:17,419
so you tell me if you're an attacker who

477
00:20:14,929 --> 00:20:19,070
are you going to attack first which

478
00:20:17,419 --> 00:20:20,330
group are you going to go after first

479
00:20:19,070 --> 00:20:23,029
where are you going to have the highest

480
00:20:20,330 --> 00:20:25,399
likelihood of success like it stands out

481
00:20:23,029 --> 00:20:27,409
so this is important information for you

482
00:20:25,399 --> 00:20:29,479
to know both Aziz the red teamers the

483
00:20:27,409 --> 00:20:33,580
pentesters and the blue teamers

484
00:20:29,480 --> 00:20:37,039
needs a little more TLC when it comes to

485
00:20:33,580 --> 00:20:38,809
managing this other step so let me dive

486
00:20:37,039 --> 00:20:41,389
into the identity based attacks this

487
00:20:38,809 --> 00:20:42,918
were the title it's super sexy take as

488
00:20:41,389 --> 00:20:47,629
many notes as you want and ask me about

489
00:20:42,919 --> 00:20:50,059
it after when I do a pen test I treat it

490
00:20:47,629 --> 00:20:52,369
like a funnel in terms of how I allow my

491
00:20:50,059 --> 00:20:54,619
time I'm a big big fan of the

492
00:20:52,369 --> 00:20:56,720
penetration testing execution standard

493
00:20:54,619 --> 00:21:01,908
joined the P tez if you don't know look

494
00:20:56,720 --> 00:21:04,730
it up P tez is gold today and when I say

495
00:21:01,909 --> 00:21:07,249
that if I have five days on a pen test

496
00:21:04,730 --> 00:21:09,740
three days or on intelligence-gathering

497
00:21:07,249 --> 00:21:11,539
I'm not even going to start attacking an

498
00:21:09,740 --> 00:21:13,970
organization until I get to day four

499
00:21:11,539 --> 00:21:16,610
because I want to know as much as I can

500
00:21:13,970 --> 00:21:18,649
about the people or the systems that the

501
00:21:16,610 --> 00:21:20,600
technology stack I want to learn how

502
00:21:18,649 --> 00:21:22,549
they make money I want to learn my work

503
00:21:20,600 --> 00:21:24,139
what stories are showing up in the news

504
00:21:22,549 --> 00:21:25,279
what are the hot-button items that are

505
00:21:24,139 --> 00:21:28,610
going to make my social engineering

506
00:21:25,279 --> 00:21:30,919
attacks effective when I do my own

507
00:21:28,610 --> 00:21:32,779
gathering though I break it into two

508
00:21:30,919 --> 00:21:33,049
distinct categories technology and

509
00:21:32,779 --> 00:21:37,369
people

510
00:21:33,049 --> 00:21:40,999
so to text there are two websites that I

511
00:21:37,369 --> 00:21:42,619
love to know it showed an in census if I

512
00:21:40,999 --> 00:21:44,749
want to know what your internet-facing

513
00:21:42,619 --> 00:21:46,189
footprint is I'm gonna get almost

514
00:21:44,749 --> 00:21:48,590
everything I need from those store

515
00:21:46,190 --> 00:21:50,269
websites it's gonna tell me ip's it's

516
00:21:48,590 --> 00:21:52,220
gonna tell me host names it's gonna tell

517
00:21:50,269 --> 00:21:54,499
me ports and it's never going to show up

518
00:21:52,220 --> 00:21:57,350
in your logs I'm not going in maps and

519
00:21:54,499 --> 00:21:58,820
I'm not doing a vulnerability scan I'm

520
00:21:57,350 --> 00:22:00,289
just going to a website and saying hey

521
00:21:58,820 --> 00:22:02,658
what do you already know about this

522
00:22:00,289 --> 00:22:05,720
target organization complement that with

523
00:22:02,659 --> 00:22:07,549
fine subdomains com this is relatively

524
00:22:05,720 --> 00:22:10,399
resource at least I've just started

525
00:22:07,549 --> 00:22:15,230
using it it's amazing it shows you all

526
00:22:10,399 --> 00:22:16,789
those other NAR dub-dub-dub websites all

527
00:22:15,230 --> 00:22:19,309
the web applications that are external

528
00:22:16,789 --> 00:22:22,460
facing all the dev systems that pepper

529
00:22:19,309 --> 00:22:24,170
didn't turn off which are mail login is

530
00:22:22,460 --> 00:22:25,760
everything that you might detect as a

531
00:22:24,170 --> 00:22:28,820
web at pentester is there join the

532
00:22:25,760 --> 00:22:31,520
country's 13 electric DGP toolkits hit

533
00:22:28,820 --> 00:22:36,350
or miss for me the rum I still like it

534
00:22:31,520 --> 00:22:39,410
it shows systems and so IP and host

535
00:22:36,350 --> 00:22:41,300
names within certain net blocks but they

536
00:22:39,410 --> 00:22:43,100
have a limitation of only a thousand

537
00:22:41,300 --> 00:22:45,620
results and so if I'm attacking a large

538
00:22:43,100 --> 00:22:47,209
organization I get garbage that King

539
00:22:45,620 --> 00:22:50,419
knows it but it still can be a useful

540
00:22:47,210 --> 00:22:53,180
resource and SPF records I want to look

541
00:22:50,420 --> 00:22:56,090
at whom I would trust to send email to

542
00:22:53,180 --> 00:22:57,860
and from these are your software service

543
00:22:56,090 --> 00:22:59,959
solution providers these are going to be

544
00:22:57,860 --> 00:23:02,209
some of your security technologies if

545
00:22:59,960 --> 00:23:04,220
you're using Gmail for your corporate

546
00:23:02,210 --> 00:23:05,960
email I'm gonna see that you trust I

547
00:23:04,220 --> 00:23:08,630
like Gmail and Google Mail by looking in

548
00:23:05,960 --> 00:23:12,050
your SPF records so if I just use those

549
00:23:08,630 --> 00:23:14,840
five websites I can paint a very

550
00:23:12,050 --> 00:23:17,120
complete picture of your internet facing

551
00:23:14,840 --> 00:23:19,370
the program and then when it comes to

552
00:23:17,120 --> 00:23:21,590
people right I'm looking for credentials

553
00:23:19,370 --> 00:23:23,739
I'm looking for stuff that I can use to

554
00:23:21,590 --> 00:23:28,550
log in to all the tech I just found

555
00:23:23,740 --> 00:23:30,560
LinkedIn is not only can I find who

556
00:23:28,550 --> 00:23:32,960
works at a company how long they've been

557
00:23:30,560 --> 00:23:34,639
there and every promotion they've had in

558
00:23:32,960 --> 00:23:36,890
the time that they've worked there but

559
00:23:34,640 --> 00:23:38,930
if they worked on any big projects if

560
00:23:36,890 --> 00:23:40,430
they manage certain technologies they're

561
00:23:38,930 --> 00:23:41,990
gonna put that in their profile so their

562
00:23:40,430 --> 00:23:45,170
recruiters and see that when they want

563
00:23:41,990 --> 00:23:47,300
to offer them all the cash so LinkedIn

564
00:23:45,170 --> 00:23:50,570
gives me a really great picture of who

565
00:23:47,300 --> 00:23:53,870
works at an organization Hunter art is

566
00:23:50,570 --> 00:23:56,570
an email lookup tool so I can find email

567
00:23:53,870 --> 00:23:58,760
addresses belong to people if nothing

568
00:23:56,570 --> 00:24:00,500
else I get your email formula is the

569
00:23:58,760 --> 00:24:02,930
first initial last name is that first

570
00:24:00,500 --> 00:24:04,850
name dot last name is it a random set of

571
00:24:02,930 --> 00:24:07,310
numbers that nobody should know outside

572
00:24:04,850 --> 00:24:10,189
of your organization hunter died oh noes

573
00:24:07,310 --> 00:24:11,899
so I can get useful email addresses pace

574
00:24:10,190 --> 00:24:14,890
knows where I go to find the credentials

575
00:24:11,900 --> 00:24:18,860
of already been popped that one pen test

576
00:24:14,890 --> 00:24:22,280
earlier this year dark and I found say

577
00:24:18,860 --> 00:24:24,350
username on paceman and an md5 hash of a

578
00:24:22,280 --> 00:24:26,360
password associated with that it was an

579
00:24:24,350 --> 00:24:28,699
email address the email address was a

580
00:24:26,360 --> 00:24:30,469
corporate email address but it wasn't

581
00:24:28,700 --> 00:24:32,930
indicative of a compromised of a

582
00:24:30,470 --> 00:24:34,550
corporate system so this person was

583
00:24:32,930 --> 00:24:35,650
using this email address on some other

584
00:24:34,550 --> 00:24:38,710
website that were

585
00:24:35,650 --> 00:24:41,620
got popped and the the person had the

586
00:24:38,710 --> 00:24:43,180
the password dump put a subset on please

587
00:24:41,620 --> 00:24:45,189
and to say look I've got the goods if

588
00:24:43,180 --> 00:24:47,200
you want the rest sites and X number of

589
00:24:45,190 --> 00:24:49,410
Bitcoin or the portions of a Bitcoin to

590
00:24:47,200 --> 00:24:53,200
to this address

591
00:24:49,410 --> 00:24:56,500
an md5 reverse lookup tool and I found

592
00:24:53,200 --> 00:24:58,710
that the password was that a little more

593
00:24:56,500 --> 00:25:02,020
recon it was the name of one of her kids

594
00:24:58,710 --> 00:25:04,660
and she had entered the name six

595
00:25:02,020 --> 00:25:07,210
characters all alpha so I knew it wasn't

596
00:25:04,660 --> 00:25:09,700
a corporate credential set because it

597
00:25:07,210 --> 00:25:12,280
would never pass password complexity but

598
00:25:09,700 --> 00:25:14,650
it was a software-as-a-service option so

599
00:25:12,280 --> 00:25:17,139
any website that I could find that this

600
00:25:14,650 --> 00:25:18,730
organization was using now I had to use

601
00:25:17,140 --> 00:25:21,220
the name and password I could use to log

602
00:25:18,730 --> 00:25:24,040
in and I hadn't even touched any of the

603
00:25:21,220 --> 00:25:25,750
company's systems yet Intel techniques

604
00:25:24,040 --> 00:25:30,639
does anybody know this website

605
00:25:25,750 --> 00:25:32,290
Michael Faisal Faisal fantastic if

606
00:25:30,640 --> 00:25:34,300
you're gonna check it out

607
00:25:32,290 --> 00:25:37,809
give yourself like a full weekend

608
00:25:34,300 --> 00:25:42,580
because it's so much information it's my

609
00:25:37,809 --> 00:25:44,350
go-to resource for all things he's got a

610
00:25:42,580 --> 00:25:46,540
lot of tools out there you can just plug

611
00:25:44,350 --> 00:25:49,000
in search and when it comes to searching

612
00:25:46,540 --> 00:25:52,120
social media sites and doing personal

613
00:25:49,000 --> 00:25:53,070
Osen gathering its again it's a great

614
00:25:52,120 --> 00:25:56,080
stiver

615
00:25:53,070 --> 00:25:58,899
recon and G Tim tomes premiered that

616
00:25:56,080 --> 00:26:00,990
tool a few years back at a couple of

617
00:25:58,900 --> 00:26:03,220
Connor's and he was showing fbi.gov

618
00:26:00,990 --> 00:26:05,080
credential sets email address and

619
00:26:03,220 --> 00:26:07,150
password and without ever touching an

620
00:26:05,080 --> 00:26:10,050
FBI system because he has automated a

621
00:26:07,150 --> 00:26:12,070
lot of the Osen gathering techniques

622
00:26:10,050 --> 00:26:14,800
discover from lee baird

623
00:26:12,070 --> 00:26:16,240
join the bill it's like on the shoulders

624
00:26:14,800 --> 00:26:18,940
of giants right it takes all the work

625
00:26:16,240 --> 00:26:22,090
that turns it on recon ng and automates

626
00:26:18,940 --> 00:26:24,240
it and makes this nice sexy report but

627
00:26:22,090 --> 00:26:26,919
if you want a set of email addresses

628
00:26:24,240 --> 00:26:29,260
that you can start attacking right away

629
00:26:26,920 --> 00:26:31,570
with an organization discovery will get

630
00:26:29,260 --> 00:26:33,820
you that in a matter of seconds and

631
00:26:31,570 --> 00:26:35,439
it'll give you all this other stuff I

632
00:26:33,820 --> 00:26:37,240
recommend doing everything manually so

633
00:26:35,440 --> 00:26:38,920
you get a feel for how does this stuff

634
00:26:37,240 --> 00:26:41,230
work what I'm looking for you can start

635
00:26:38,920 --> 00:26:43,240
to make sense of it but as soon as you

636
00:26:41,230 --> 00:26:45,510
can get discover up and running on Kali

637
00:26:43,240 --> 00:26:48,630
it's a quick install circle

638
00:26:45,510 --> 00:26:49,770
Python script you'll never look back

639
00:26:48,630 --> 00:26:51,990
it's so good

640
00:26:49,770 --> 00:26:54,810
you can also find useful information

641
00:26:51,990 --> 00:26:57,750
about identities in document metadata so

642
00:26:54,810 --> 00:27:00,179
I publish earnings reports I publish

643
00:26:57,750 --> 00:27:01,860
marketing slips I publish all these

644
00:27:00,180 --> 00:27:03,540
things that I want my end users to be

645
00:27:01,860 --> 00:27:06,959
able to see so that I can interact with

646
00:27:03,540 --> 00:27:11,070
the people I'm trying to serve meta gufo

647
00:27:06,960 --> 00:27:13,200
is already built into Kali I like focus

648
00:27:11,070 --> 00:27:15,330
focus a windows-based tool from 11 paths

649
00:27:13,200 --> 00:27:17,490
they both do the same thing you pull

650
00:27:15,330 --> 00:27:20,070
down all the documents that live on a

651
00:27:17,490 --> 00:27:21,710
particular website or domain you go

652
00:27:20,070 --> 00:27:24,600
through and pull out all the metadata

653
00:27:21,710 --> 00:27:26,400
analyze the metadata and then say are

654
00:27:24,600 --> 00:27:29,520
there any usernames in here there any

655
00:27:26,400 --> 00:27:31,680
passwords in here are there any internal

656
00:27:29,520 --> 00:27:35,550
IP addresses or internal server names

657
00:27:31,680 --> 00:27:37,920
Foca has not let me down yet so it's a

658
00:27:35,550 --> 00:27:39,240
it's our from an OC gathering

659
00:27:37,920 --> 00:27:41,130
perspective now you're going from

660
00:27:39,240 --> 00:27:43,380
passive where you're not showing up in

661
00:27:41,130 --> 00:27:45,090
the logs to semi pass join the class

662
00:27:43,380 --> 00:27:46,950
you're showing up we do but are they

663
00:27:45,090 --> 00:27:48,540
really looking who's downloading all the

664
00:27:46,950 --> 00:27:51,240
files and their website will be good

665
00:27:48,540 --> 00:27:54,210
some people might see the the volume and

666
00:27:51,240 --> 00:27:56,130
traffic and throw out some alarms but a

667
00:27:54,210 --> 00:27:59,310
lot of folks might not be looking at it

668
00:27:56,130 --> 00:28:02,670
at all so use one of those tools or both

669
00:27:59,310 --> 00:28:04,379
depending on your comfort level and pull

670
00:28:02,670 --> 00:28:06,870
out doctrine and metadata to see what

671
00:28:04,380 --> 00:28:09,270
you can add to the ocean you gather from

672
00:28:06,870 --> 00:28:11,909
the previous tools cyber so what are we

673
00:28:09,270 --> 00:28:14,610
looking for once you understand the

674
00:28:11,910 --> 00:28:16,790
technology does that start looking for

675
00:28:14,610 --> 00:28:21,810
user guides if you find your any

676
00:28:16,790 --> 00:28:26,399
internet facing management tools right

677
00:28:21,810 --> 00:28:28,110
our log in to the email filter log in

678
00:28:26,400 --> 00:28:30,660
through the firewall log into the IP

679
00:28:28,110 --> 00:28:33,750
SIDS stuff shouldn't be on the internet

680
00:28:30,660 --> 00:28:35,880
for anybody to log into but it is and if

681
00:28:33,750 --> 00:28:37,260
you find it you go in the admin guide

682
00:28:35,880 --> 00:28:39,450
and look for the default username and

683
00:28:37,260 --> 00:28:42,330
password I cannot tell you how many

684
00:28:39,450 --> 00:28:44,070
times I have accelerated a pen test by

685
00:28:42,330 --> 00:28:46,560
using default credits from an admin guy

686
00:28:44,070 --> 00:28:50,490
it is the most a script Kitty

687
00:28:46,560 --> 00:28:53,159
basic simple dark incredibly effective

688
00:28:50,490 --> 00:28:54,600
attack you can you can use but you have

689
00:28:53,160 --> 00:28:56,130
to pull the technology spec you have to

690
00:28:54,600 --> 00:28:57,928
know what the technology footprint looks

691
00:28:56,130 --> 00:29:00,450
like if you're going to know what

692
00:28:57,929 --> 00:29:02,669
- pulldown look for new hire and new

693
00:29:00,450 --> 00:29:04,380
user information here it because there

694
00:29:02,669 --> 00:29:06,240
are two key pieces of information you

695
00:29:04,380 --> 00:29:07,200
can pull out of that number one how do I

696
00:29:06,240 --> 00:29:09,090
log into the VPN

697
00:29:07,200 --> 00:29:11,190
our helpdesk is tired of taking that

698
00:29:09,090 --> 00:29:12,750
call they know that the people aren't on

699
00:29:11,190 --> 00:29:13,409
the networks when they need to log into

700
00:29:12,750 --> 00:29:15,299
the VPN

701
00:29:13,409 --> 00:29:17,159
join them so if you will still find

702
00:29:15,299 --> 00:29:18,720
organizations that have published how-to

703
00:29:17,159 --> 00:29:20,520
guides for Internet

704
00:29:18,720 --> 00:29:23,669
that's great resources for the red

705
00:29:20,520 --> 00:29:25,260
teamers for the attackers them also when

706
00:29:23,669 --> 00:29:28,289
you are first created as an employee

707
00:29:25,260 --> 00:29:30,090
your default password will be X you have

708
00:29:28,289 --> 00:29:31,679
to change it immediately upon logon

709
00:29:30,090 --> 00:29:33,600
hopefully they've got that one for them

710
00:29:31,679 --> 00:29:36,779
but if you can figure out what the

711
00:29:33,600 --> 00:29:39,539
password looks like for the helpdesk if

712
00:29:36,779 --> 00:29:41,460
it's company one what are the chances

713
00:29:39,539 --> 00:29:43,620
that Company 2 is going to be the

714
00:29:41,460 --> 00:29:45,480
password that they changed it to go to

715
00:29:43,620 --> 00:29:48,479
LinkedIn look at how long they've worked

716
00:29:45,480 --> 00:29:50,909
for the company and then increment that

717
00:29:48,480 --> 00:29:52,770
number for every three months and write

718
00:29:50,909 --> 00:29:55,529
every time a password change is required

719
00:29:52,770 --> 00:29:56,730
and you can guess legitimate passwords

720
00:29:55,529 --> 00:29:58,409
for people who don't want to be bother

721
00:29:56,730 --> 00:30:01,140
us they just take the default one

722
00:29:58,409 --> 00:30:02,730
increase and minor variation you're

723
00:30:01,140 --> 00:30:04,950
going to get the user naming convention

724
00:30:02,730 --> 00:30:07,260
I mentioned in the email addresses or

725
00:30:04,950 --> 00:30:09,149
maybe in the user guide and then login

726
00:30:07,260 --> 00:30:11,010
portals I want to know how to get to

727
00:30:09,149 --> 00:30:13,469
their webmail I want to know how to get

728
00:30:11,010 --> 00:30:15,799
to their SSL VPN edit and I want to know

729
00:30:13,470 --> 00:30:17,700
how to get to their password self.size

730
00:30:15,799 --> 00:30:20,850
which I'll talk about that in a minute

731
00:30:17,700 --> 00:30:23,539
two password spraying how many people

732
00:30:20,850 --> 00:30:26,908
know what I'm talking about here good

733
00:30:23,539 --> 00:30:28,860
everybody else look this up play around

734
00:30:26,909 --> 00:30:31,380
with it it's super fun and super sexy

735
00:30:28,860 --> 00:30:34,289
and it's like what is it Panther piss

736
00:30:31,380 --> 00:30:37,919
from Ron Burgundy it's it's that

737
00:30:34,289 --> 00:30:41,309
effective so instead of I'm gonna take

738
00:30:37,919 --> 00:30:42,510
one username and throw 10,000 passwords

739
00:30:41,309 --> 00:30:43,980
at it which are going I'm going to get

740
00:30:42,510 --> 00:30:45,330
shut down within the first five failed

741
00:30:43,980 --> 00:30:47,279
logs because they've got a lockout

742
00:30:45,330 --> 00:30:49,379
policy too and I'm going to trigger all

743
00:30:47,279 --> 00:30:52,049
the alerts saying hey no you locked out

744
00:30:49,380 --> 00:30:54,419
this account so these are malicious flip

745
00:30:52,049 --> 00:30:56,039
it I'm going to take every username I

746
00:30:54,419 --> 00:30:58,110
gathered from oesn't gathering and I'm

747
00:30:56,039 --> 00:30:59,908
just going to try one password because

748
00:30:58,110 --> 00:31:02,610
how many of you lock out your users

749
00:30:59,909 --> 00:31:03,840
after one failed logging a guarantee you

750
00:31:02,610 --> 00:31:05,219
wouldn't work at the same company you're

751
00:31:03,840 --> 00:31:07,399
working for today if that was your

752
00:31:05,220 --> 00:31:10,950
policy

753
00:31:07,399 --> 00:31:13,139
ntlm botherer is a piper python script

754
00:31:10,950 --> 00:31:14,639
there are a few repos on github and I

755
00:31:13,139 --> 00:31:18,059
have to confess I'm not sure which one's

756
00:31:14,639 --> 00:31:20,399
the the main ones so dark buyer beware

757
00:31:18,059 --> 00:31:22,980
you can use ntlm bother to automate this

758
00:31:20,399 --> 00:31:27,539
from command line by throwing some of

759
00:31:22,980 --> 00:31:29,669
these are passwords at a Microsoft web

760
00:31:27,539 --> 00:31:30,990
service and I've got that here that go

761
00:31:29,669 --> 00:31:33,690
in in here if you want to check it out

762
00:31:30,990 --> 00:31:35,700
if you're familiar with burp burp is

763
00:31:33,690 --> 00:31:38,940
good for doing a similar attack against

764
00:31:35,700 --> 00:31:41,490
Web Apps and the password list I have

765
00:31:38,940 --> 00:31:42,779
over here um I was up in Michigan

766
00:31:41,490 --> 00:31:44,970
yesterday and I didn't change the

767
00:31:42,779 --> 00:31:46,669
password list nobody got only about it I

768
00:31:44,970 --> 00:31:50,519
don't care

769
00:31:46,669 --> 00:31:51,929
local sports teams rRNA knows if I'm

770
00:31:50,519 --> 00:31:54,630
down here you better believe it's gonna

771
00:31:51,929 --> 00:31:58,169
be some variation of Cincinnati Reds I

772
00:31:54,630 --> 00:32:01,200
want to go up north its Cavs Cavaliers

773
00:31:58,169 --> 00:32:04,649
Indians if I'm in Columbus its bucks

774
00:32:01,200 --> 00:32:06,480
Buckeyes Curtis you will get a set of

775
00:32:04,649 --> 00:32:09,928
credentials if you can find the right

776
00:32:06,480 --> 00:32:12,210
combination here but don't even start

777
00:32:09,929 --> 00:32:14,760
with that start with what's the season

778
00:32:12,210 --> 00:32:16,380
because if we are requiring users

779
00:32:14,760 --> 00:32:19,590
jointly to create an eight character

780
00:32:16,380 --> 00:32:22,409
password one upper one lower numbers

781
00:32:19,590 --> 00:32:23,789
especially I guarantee you've got

782
00:32:22,409 --> 00:32:26,010
somebody your company right now who's

783
00:32:23,789 --> 00:32:29,010
using Summer 2018 exclamation points or

784
00:32:26,010 --> 00:32:30,269
password and why is that because in

785
00:32:29,010 --> 00:32:31,769
three months when the seasons change

786
00:32:30,269 --> 00:32:33,899
they know that they're gonna be able to

787
00:32:31,769 --> 00:32:35,399
remember what the next password is you'd

788
00:32:33,899 --> 00:32:37,018
be surprised at how many accounts you

789
00:32:35,399 --> 00:32:40,620
can compromise with a simple password

790
00:32:37,019 --> 00:32:44,100
spraying attack and the the season my

791
00:32:40,620 --> 00:32:45,299
password once you get in if I can get

792
00:32:44,100 --> 00:32:47,850
that steady user creds

793
00:32:45,299 --> 00:32:48,658
if I can find an SSL VPN if I can write

794
00:32:47,850 --> 00:32:51,209
know Specter

795
00:32:48,659 --> 00:32:52,860
if physical is in scope and I can get a

796
00:32:51,210 --> 00:32:54,090
box on the internal network and I've

797
00:32:52,860 --> 00:32:57,840
grabbed some of these creds from the

798
00:32:54,090 --> 00:33:00,480
outside now I want to steal other creds

799
00:32:57,840 --> 00:33:02,129
and you or forge tickets so I'm not

800
00:33:00,480 --> 00:33:04,019
gonna go into detail about Kerberos

801
00:33:02,130 --> 00:33:06,539
thing in this stock up and covering a

802
00:33:04,019 --> 00:33:08,519
lot so there are a lot of YouTube videos

803
00:33:06,539 --> 00:33:10,470
and write-ups on how to do this stuff

804
00:33:08,519 --> 00:33:11,450
but the attacks and tools I recommend

805
00:33:10,470 --> 00:33:14,490
you look into

806
00:33:11,450 --> 00:33:15,679
learn how to use mini cats learn how to

807
00:33:14,490 --> 00:33:18,419
cool cred

808
00:33:15,679 --> 00:33:21,059
memory in has out of memory learn how to

809
00:33:18,419 --> 00:33:23,009
use Kerberos and learn how to use

810
00:33:21,059 --> 00:33:23,729
PowerShell and specifically PowerShell

811
00:33:23,009 --> 00:33:25,979
Empire

812
00:33:23,729 --> 00:33:28,469
so Power Cell is not an attack to ever

813
00:33:25,979 --> 00:33:30,959
but I would argue that every pentester

814
00:33:28,469 --> 00:33:32,999
worth his or her salt is learning how to

815
00:33:30,959 --> 00:33:35,940
use PowerShell effectively in their

816
00:33:32,999 --> 00:33:38,549
attacks why is that Windows 10 Microsoft

817
00:33:35,940 --> 00:33:41,639
is throwing PowerShell everywhere and

818
00:33:38,549 --> 00:33:43,109
it's great grants right it automates a

819
00:33:41,639 --> 00:33:44,339
lot it gives you so much control over

820
00:33:43,109 --> 00:33:47,279
your environment it gives you the

821
00:33:44,339 --> 00:33:51,570
ability to do more with less it's great

822
00:33:47,279 --> 00:33:53,549
for pen testers once somebody's in and

823
00:33:51,570 --> 00:33:55,589
they get another set of creds there's a

824
00:33:53,549 --> 00:34:01,259
cool tool called power up in the power

825
00:33:55,589 --> 00:34:02,729
sploit framework power look at processes

826
00:34:01,259 --> 00:34:07,049
they're running on a box that you've

827
00:34:02,729 --> 00:34:08,970
owned and if it finds our box and I'm

828
00:34:07,049 --> 00:34:11,940
going to butcher the explanation here or

829
00:34:08,969 --> 00:34:13,888
finds a process that it can hook into

830
00:34:11,940 --> 00:34:16,139
and then run commands with the same

831
00:34:13,889 --> 00:34:17,789
privileges as that processes run out if

832
00:34:16,139 --> 00:34:19,950
that process is running at elevated

833
00:34:17,789 --> 00:34:21,599
privilege you can use that as kind of a

834
00:34:19,949 --> 00:34:23,668
backdoor to sneak commands into the

835
00:34:21,599 --> 00:34:26,250
operating system and to create your own

836
00:34:23,668 --> 00:34:29,250
user accounts or change passwords super

837
00:34:26,250 --> 00:34:30,719
sexy super fun but if you're Indian on

838
00:34:29,250 --> 00:34:33,210
an internal network is an attacker

839
00:34:30,719 --> 00:34:35,459
jointly I would have these four tools in

840
00:34:33,210 --> 00:34:38,369
your tool kit but don't underestimate

841
00:34:35,460 --> 00:34:39,750
the value of social engineering it's

842
00:34:38,369 --> 00:34:41,879
worked for years folks it's going to

843
00:34:39,750 --> 00:34:43,710
keep working for years I want to point

844
00:34:41,879 --> 00:34:48,679
out the date on this tweet I know it's

845
00:34:43,710 --> 00:34:51,329
difficult to read matted june 4th 2016

846
00:34:48,679 --> 00:34:53,399
so this tweet will be celebrating at our

847
00:34:51,329 --> 00:34:55,470
two-year birthday and it's talking about

848
00:34:53,399 --> 00:34:58,470
using social engineering to bypass

849
00:34:55,469 --> 00:35:00,419
two-factor authentication sending a text

850
00:34:58,470 --> 00:35:02,490
to a user who you know is getting that -

851
00:35:00,420 --> 00:35:04,650
faster code when you're logging into

852
00:35:02,490 --> 00:35:06,328
their account dark and saying hey just

853
00:35:04,650 --> 00:35:07,829
reply to the text with your code we're

854
00:35:06,329 --> 00:35:11,250
doing a security thing don't sweat it

855
00:35:07,829 --> 00:35:13,109
it's Rock simple but if you time it

856
00:35:11,250 --> 00:35:14,849
appropriately then suddenly the the

857
00:35:13,109 --> 00:35:15,630
message that - founder solves all our

858
00:35:14,849 --> 00:35:18,930
problems

859
00:35:15,630 --> 00:35:22,099
enjoy not exactly awareness train guides

860
00:35:18,930 --> 00:35:22,098
and still carries a

861
00:35:23,000 --> 00:35:27,560
social engineering attack scenarios

862
00:35:24,890 --> 00:35:28,160
anybody recognize this guy yes you do

863
00:35:27,560 --> 00:35:32,509
right

864
00:35:28,160 --> 00:35:34,790
our presidents one-time doctor if you

865
00:35:32,510 --> 00:35:37,190
don't know him there's great videos out

866
00:35:34,790 --> 00:35:40,490
there just look him out or have some fun

867
00:35:37,190 --> 00:35:42,980
um I have circled the sticky note on his

868
00:35:40,490 --> 00:35:46,729
monitor I pulled this picture from his

869
00:35:42,980 --> 00:35:49,190
Facebook profile still this picture try

870
00:35:46,730 --> 00:35:51,470
as I might I have not been able to read

871
00:35:49,190 --> 00:35:53,510
what's written on that sticky note but

872
00:35:51,470 --> 00:35:55,910
we still see passwords on sticky notes

873
00:35:53,510 --> 00:35:58,700
on monitors under keyboards if you have

874
00:35:55,910 --> 00:36:03,140
physical site recon and scope for a pen

875
00:35:58,700 --> 00:36:06,200
test which I saw somebody I think was

876
00:36:03,140 --> 00:36:09,430
standing on his Twitter feed has a

877
00:36:06,200 --> 00:36:11,600
picture and it says the new owner of

878
00:36:09,430 --> 00:36:14,720
social engineering and it's a clipboard

879
00:36:11,600 --> 00:36:16,460
right if you can get on site and pretend

880
00:36:14,720 --> 00:36:18,049
you're supposed to be there just walk

881
00:36:16,460 --> 00:36:20,210
around and look at all the white box I

882
00:36:18,050 --> 00:36:22,490
guarantee there's somewhere between

883
00:36:20,210 --> 00:36:27,230
whiteboards and sticky notes you'll find

884
00:36:22,490 --> 00:36:29,479
a password help desk social engineering

885
00:36:27,230 --> 00:36:31,580
protocol when you call the help desk and

886
00:36:29,480 --> 00:36:32,750
pretend to be the end user again these

887
00:36:31,580 --> 00:36:34,940
are people who might be new to the

888
00:36:32,750 --> 00:36:37,700
industry new to the job and they are

889
00:36:34,940 --> 00:36:39,620
hired because they are helpful they are

890
00:36:37,700 --> 00:36:41,689
compensated because they are helpful

891
00:36:39,620 --> 00:36:43,759
they do not get in trouble when they

892
00:36:41,690 --> 00:36:46,910
help people who are frustrated and in a

893
00:36:43,760 --> 00:36:48,980
hurry take advantage of that you can get

894
00:36:46,910 --> 00:36:51,799
them to reset passwords set up accounts

895
00:36:48,980 --> 00:36:54,320
for you there's a wine I still feel

896
00:36:51,800 --> 00:36:56,990
terrible I am NOT a good social engineer

897
00:36:54,320 --> 00:37:01,640
I have a tough time lying to people my

898
00:36:56,990 --> 00:37:04,330
kids an actor he can kill it I cannot I

899
00:37:01,640 --> 00:37:06,920
had to do a social engineering test once

900
00:37:04,330 --> 00:37:07,580
where I'm calling up this company and I

901
00:37:06,920 --> 00:37:10,280
said sorry

902
00:37:07,580 --> 00:37:11,990
hi we're so-and-so and we're third party

903
00:37:10,280 --> 00:37:14,660
technology integrator working on behalf

904
00:37:11,990 --> 00:37:16,520
of and I named a third party that I

905
00:37:14,660 --> 00:37:17,629
found they were related to through my

906
00:37:16,520 --> 00:37:19,700
awesome gathering

907
00:37:17,630 --> 00:37:21,289
I said we're building a website to

908
00:37:19,700 --> 00:37:23,660
integrate one of our systems with your

909
00:37:21,289 --> 00:37:25,549
network and your boss gave me your name

910
00:37:23,660 --> 00:37:27,140
is somebody who I should set up in the

911
00:37:25,549 --> 00:37:28,579
system all right if you could give me

912
00:37:27,140 --> 00:37:29,930
your user name and password or building

913
00:37:28,579 --> 00:37:31,130
ahead and get you set up and make sure

914
00:37:29,930 --> 00:37:32,299
everything's good oh that way you don't

915
00:37:31,130 --> 00:37:35,150
have to remember a whole different

916
00:37:32,299 --> 00:37:36,500
password this was my spiel fortunately

917
00:37:35,150 --> 00:37:37,670
the company was really good at it

918
00:37:36,500 --> 00:37:41,750
because I don't want to admit that I

919
00:37:37,670 --> 00:37:42,829
suck but I didn't get anybody to fall

920
00:37:41,750 --> 00:37:45,109
for that but look at your own

921
00:37:42,829 --> 00:37:48,529
organization could you put a similar

922
00:37:45,109 --> 00:37:50,990
scenario together with a few wantses one

923
00:37:48,529 --> 00:37:54,190
phone call and you get somebody to offer

924
00:37:50,990 --> 00:37:57,379
up user name and password or no question

925
00:37:54,190 --> 00:37:59,720
I'm going through kevin mitnick's books

926
00:37:57,380 --> 00:38:02,599
either ghost in the wires ghost on the

927
00:37:59,720 --> 00:38:04,009
wires says yeah goes on the wire his

928
00:38:02,599 --> 00:38:08,420
autobiography I'm doing an audiobook

929
00:38:04,009 --> 00:38:10,700
right now is under our car and it amazes

930
00:38:08,420 --> 00:38:12,440
me how much he was able to do over the

931
00:38:10,700 --> 00:38:14,538
years through simple phone calls

932
00:38:12,440 --> 00:38:16,309
everything was social engineering he

933
00:38:14,539 --> 00:38:19,789
knew the tech behind the phone companies

934
00:38:16,309 --> 00:38:22,220
but so much when it was social

935
00:38:19,789 --> 00:38:24,500
engineering so if you're not crazy

936
00:38:22,220 --> 00:38:26,419
introverted like me and you like talking

937
00:38:24,500 --> 00:38:30,079
to people on the phone that's a vector

938
00:38:26,420 --> 00:38:32,329
or Password Reset notifications for

939
00:38:30,079 --> 00:38:34,039
software services if you know that

940
00:38:32,329 --> 00:38:36,799
they're logging into Salesforce they're

941
00:38:34,039 --> 00:38:39,230
logging into Gmail you can use the

942
00:38:36,799 --> 00:38:41,599
social engineers toolkit to clone an

943
00:38:39,230 --> 00:38:43,759
exact version of that login page and

944
00:38:41,599 --> 00:38:45,799
then with the right fish clubs you can

945
00:38:43,759 --> 00:38:48,109
get them to go to your website your

946
00:38:45,799 --> 00:38:50,119
login page and get them to give you

947
00:38:48,109 --> 00:38:53,450
credentials which set will write to our

948
00:38:50,119 --> 00:38:55,539
text file on your target system so you

949
00:38:53,450 --> 00:38:58,160
can grab user identities you can grab

950
00:38:55,539 --> 00:39:00,109
credentials are through multiple social

951
00:38:58,160 --> 00:39:03,660
engineering attack scenarios and this is

952
00:39:00,109 --> 00:39:06,479
my recommended shortlisting

953
00:39:03,660 --> 00:39:08,609
what's your porn name does anyone offer

954
00:39:06,479 --> 00:39:10,078
it up the president unless somebody I

955
00:39:08,609 --> 00:39:11,460
know somebody in the room knows what I'm

956
00:39:10,079 --> 00:39:14,059
talking about what's your porn name how

957
00:39:11,460 --> 00:39:14,059
do you find it out

958
00:39:16,040 --> 00:39:19,940
I had heard and I hear we've got middle

959
00:39:18,560 --> 00:39:25,009
name and the street you grew up on what

960
00:39:19,940 --> 00:39:26,390
do we have back here yet I'm not going

961
00:39:25,010 --> 00:39:29,660
to tell you mine because it works out

962
00:39:26,390 --> 00:39:31,490
really creepy so I'm leaving that on the

963
00:39:29,660 --> 00:39:33,379
table but it's one of these stupid

964
00:39:31,490 --> 00:39:35,060
online quizzes we do that you know we

965
00:39:33,380 --> 00:39:37,280
have a laugh about it and it's fun but

966
00:39:35,060 --> 00:39:39,110
now I've got two answers to your secret

967
00:39:37,280 --> 00:39:41,420
questions I know your pet's name

968
00:39:39,110 --> 00:39:43,580
I knew the street you grew up on if I go

969
00:39:41,420 --> 00:39:46,400
to my life doctor if I get a family tree

970
00:39:43,580 --> 00:39:48,410
not now do this look yourself up on

971
00:39:46,400 --> 00:39:50,440
these two websites don't do it now I

972
00:39:48,410 --> 00:39:53,089
don't want a big crime during the talk

973
00:39:50,440 --> 00:39:55,670
you will be amazed at how much these two

974
00:39:53,090 --> 00:39:58,970
websites know about you and your family

975
00:39:55,670 --> 00:40:02,030
I was researching one of these websites

976
00:39:58,970 --> 00:40:04,430
awhile back and my wife and I have known

977
00:40:02,030 --> 00:40:06,020
each other for the block of our lives we

978
00:40:04,430 --> 00:40:07,609
grew up a couple of hours apart met when

979
00:40:06,020 --> 00:40:11,360
we were 14 I'm not going to tell you

980
00:40:07,610 --> 00:40:12,980
we're secret question dark but I know

981
00:40:11,360 --> 00:40:16,490
her really well she knows me really well

982
00:40:12,980 --> 00:40:20,300
no secrets between when I was looking

983
00:40:16,490 --> 00:40:22,580
her up on this just pull it up what what

984
00:40:20,300 --> 00:40:24,470
does this have a hurdler mom there's her

985
00:40:22,580 --> 00:40:27,140
family and there's her the house that I

986
00:40:24,470 --> 00:40:29,240
met her that she was living in when we

987
00:40:27,140 --> 00:40:31,879
met and I saw a couple of other names

988
00:40:29,240 --> 00:40:33,259
that I had never heard and so I'm on one

989
00:40:31,880 --> 00:40:35,870
end of the couch she's on the other and

990
00:40:33,260 --> 00:40:37,760
I said hey what's this person do you

991
00:40:35,870 --> 00:40:40,730
know this person didn't see and she

992
00:40:37,760 --> 00:40:42,920
thought for six years

993
00:40:40,730 --> 00:40:48,830
that was my babysitter when I lived on

994
00:40:42,920 --> 00:40:51,980
Jefferson Street don't worry about don't

995
00:40:48,830 --> 00:40:55,250
worry about it and she loves when I do

996
00:40:51,980 --> 00:40:57,440
stuff like that by the way if you use

997
00:40:55,250 --> 00:40:59,930
these websites if you go to any of those

998
00:40:57,440 --> 00:41:03,310
stupid quizzes if you publish fiber or a

999
00:40:59,930 --> 00:41:05,569
quiz to a social media platform or

1000
00:41:03,310 --> 00:41:07,310
through some phishing message and the

1001
00:41:05,570 --> 00:41:09,380
guy's a favor don't sing come son of our

1002
00:41:07,310 --> 00:41:11,750
organization you can get people to

1003
00:41:09,380 --> 00:41:15,230
divulge the secret questions I was able

1004
00:41:11,750 --> 00:41:17,420
to reset as an employee's password on

1005
00:41:15,230 --> 00:41:20,450
one of the pen tests and I worked on a

1006
00:41:17,420 --> 00:41:23,320
few years back through secret and it was

1007
00:41:20,450 --> 00:41:23,319
a weird one foxy

1008
00:41:23,430 --> 00:41:29,129
the way they'd implemented password

1009
00:41:25,519 --> 00:41:30,899
self-service is you would go there too

1010
00:41:29,130 --> 00:41:35,150
and you'll get two questions out of a

1011
00:41:30,900 --> 00:41:37,559
list of like ten and you had two chances

1012
00:41:35,150 --> 00:41:38,700
and if you screwed up they would lock

1013
00:41:37,559 --> 00:41:41,250
the account and you had to call the

1014
00:41:38,700 --> 00:41:42,569
helpdesk open it that's that's pretty

1015
00:41:41,250 --> 00:41:45,000
good

1016
00:41:42,569 --> 00:41:46,319
I found one person one of the questions

1017
00:41:45,000 --> 00:41:48,960
was what year did you graduate high

1018
00:41:46,319 --> 00:41:52,558
school that's a gimme you can find that

1019
00:41:48,960 --> 00:41:54,240
on us so easily on so many people and

1020
00:41:52,559 --> 00:41:57,029
then the other question that I got that

1021
00:41:54,240 --> 00:42:00,240
I that got stuck on was what was your

1022
00:41:57,029 --> 00:42:01,890
favorite toy as a child what was your

1023
00:42:00,240 --> 00:42:03,538
favorite toy as a child can you don't

1024
00:42:01,890 --> 00:42:05,910
even know if I get answers Stretch

1025
00:42:03,539 --> 00:42:07,140
Armstrong I mean who's really neat so

1026
00:42:05,910 --> 00:42:10,799
you pull them too far and the jelly

1027
00:42:07,140 --> 00:42:13,078
likes leaked out but there's no way in

1028
00:42:10,799 --> 00:42:15,119
hell I'm gonna guess that I did a little

1029
00:42:13,079 --> 00:42:17,519
more recon a little more Osen gathering

1030
00:42:15,119 --> 00:42:21,509
found that this person worked in my team

1031
00:42:17,519 --> 00:42:24,299
had a website on the website every icon

1032
00:42:21,509 --> 00:42:26,369
on the the webpage the favorite icon was

1033
00:42:24,299 --> 00:42:29,549
a little grey go ahead and I thought ah

1034
00:42:26,369 --> 00:42:31,140
see I think I've got it so I popped back

1035
00:42:29,549 --> 00:42:32,579
over to the password reset I plugged in

1036
00:42:31,140 --> 00:42:34,470
the year that this person graduated high

1037
00:42:32,579 --> 00:42:37,470
school was your favorite toy as a child

1038
00:42:34,470 --> 00:42:40,078
le gos enter what do you want your new

1039
00:42:37,470 --> 00:42:41,819
password e and all that is such a great

1040
00:42:40,079 --> 00:42:44,609
and terrible feeling at the same time

1041
00:42:41,819 --> 00:42:46,558
right as a pen tester like yes this is

1042
00:42:44,609 --> 00:42:48,839
what I set out to do and now I have to

1043
00:42:46,559 --> 00:42:50,400
tell him what I did and then I did I had

1044
00:42:48,839 --> 00:42:52,259
to change this guy's password we were

1045
00:42:50,400 --> 00:42:54,480
restricted to only testing in the middle

1046
00:42:52,259 --> 00:42:57,059
of the day this was a second year we

1047
00:42:54,480 --> 00:42:58,769
tested this organization I told them you

1048
00:42:57,059 --> 00:43:00,660
come back to us next year I'm going

1049
00:42:58,769 --> 00:43:02,729
after that portal right away because the

1050
00:43:00,660 --> 00:43:04,890
first year I couldn't get in but I

1051
00:43:02,730 --> 00:43:06,809
changed this guy's password I got into

1052
00:43:04,890 --> 00:43:09,299
his email I got into the sslvpn

1053
00:43:06,809 --> 00:43:10,680
I was able to pillage enough information

1054
00:43:09,299 --> 00:43:12,930
before he even got hold of the helpdesk

1055
00:43:10,680 --> 00:43:15,690
to try to figure out what was going on

1056
00:43:12,930 --> 00:43:17,368
that it provided value guides or the

1057
00:43:15,690 --> 00:43:19,859
people who hired us to do the tests to

1058
00:43:17,369 --> 00:43:21,210
say oh yeah I get it now now I got

1059
00:43:19,859 --> 00:43:26,130
something real I can take the leadership

1060
00:43:21,210 --> 00:43:27,599
so it's a great method or vector for a

1061
00:43:26,130 --> 00:43:30,989
red team to take advantage of

1062
00:43:27,599 --> 00:43:32,579
self registrations is there any place

1063
00:43:30,989 --> 00:43:34,920
especially for consumer-facing

1064
00:43:32,579 --> 00:43:38,759
applications where I can create my own

1065
00:43:34,920 --> 00:43:40,499
username and password that's just the

1066
00:43:38,759 --> 00:43:41,699
consumer face like I'm not worried about

1067
00:43:40,499 --> 00:43:45,269
it

1068
00:43:41,699 --> 00:43:47,759
I did a pen test once where a client was

1069
00:43:45,269 --> 00:43:51,899
using Drupal as a like their underlying

1070
00:43:47,759 --> 00:43:55,019
it's a CMS right turn therefore Drupal

1071
00:43:51,900 --> 00:43:57,089
thank you and they created a custom

1072
00:43:55,019 --> 00:43:59,399
module to allow their users to self

1073
00:43:57,089 --> 00:44:05,549
register for the web scene I'm poking

1074
00:43:59,400 --> 00:44:07,829
around using I don't know if I was in or

1075
00:44:05,549 --> 00:44:10,079
I tend to use tamper data it's a Firefox

1076
00:44:07,829 --> 00:44:12,180
plug-in here it's outdated but it still

1077
00:44:10,079 --> 00:44:13,619
gets the job done and I was just

1078
00:44:12,180 --> 00:44:15,690
watching the traffic go back and forth

1079
00:44:13,619 --> 00:44:18,509
and I was able to see that I could put

1080
00:44:15,690 --> 00:44:21,449
my email address in as a username but in

1081
00:44:18,509 --> 00:44:22,680
the the gets of go ahead and post behind

1082
00:44:21,449 --> 00:44:24,539
the scene

1083
00:44:22,680 --> 00:44:26,308
my username was actually a series of

1084
00:44:24,539 --> 00:44:27,959
numbers present I'm like all right well

1085
00:44:26,309 --> 00:44:29,309
numbers are sequential what happens if I

1086
00:44:27,959 --> 00:44:31,979
look at somebody who has the number

1087
00:44:29,309 --> 00:44:34,469
before me and I can see somebody else's

1088
00:44:31,979 --> 00:44:36,779
information and is they've missed an

1089
00:44:34,469 --> 00:44:39,089
authorization control here they have not

1090
00:44:36,779 --> 00:44:40,170
protected one user from another because

1091
00:44:39,089 --> 00:44:41,670
they don't think somebody's going to be

1092
00:44:40,170 --> 00:44:44,279
using these numbers they think it's

1093
00:44:41,670 --> 00:44:45,779
hidden from the end-users so I just

1094
00:44:44,279 --> 00:44:47,309
started going back and back and back

1095
00:44:45,779 --> 00:44:51,239
side if you know anything about Drupal

1096
00:44:47,309 --> 00:44:54,199
what's id0 played around with that one

1097
00:44:51,239 --> 00:44:58,579
and sorry

1098
00:44:54,199 --> 00:45:01,890
not quite IDs 0 for a user account is

1099
00:44:58,579 --> 00:45:04,049
the Drupal there's like a super admin

1100
00:45:01,890 --> 00:45:06,808
who's like even better than the ad when

1101
00:45:04,049 --> 00:45:08,459
it's a super admin account I got all the

1102
00:45:06,809 --> 00:45:10,229
way back to that user and what I found

1103
00:45:08,459 --> 00:45:13,169
when I was testing out the other users

1104
00:45:10,229 --> 00:45:14,968
is I can change passwords if I pulled up

1105
00:45:13,170 --> 00:45:16,949
an account pretending to be a different

1106
00:45:14,969 --> 00:45:19,229
user I could just go to the password

1107
00:45:16,949 --> 00:45:21,089
reset screen plugging in a new password

1108
00:45:19,229 --> 00:45:22,109
and then I could own that users accounts

1109
00:45:21,089 --> 00:45:23,290
and I'm like I'm gonna take over their

1110
00:45:22,109 --> 00:45:25,720
whole environment

1111
00:45:23,290 --> 00:45:27,430
tried it didn't work because Drupal at

1112
00:45:25,720 --> 00:45:29,980
least is smart enough to say we're not

1113
00:45:27,430 --> 00:45:32,440
gonna let people reset the super admin

1114
00:45:29,980 --> 00:45:35,500
password from the webpage library so I

1115
00:45:32,440 --> 00:45:37,600
went to ID number one ID number two ID

1116
00:45:35,500 --> 00:45:40,090
number three who are the most likely

1117
00:45:37,600 --> 00:45:43,990
people to get the first reason any new

1118
00:45:40,090 --> 00:45:46,150
application the other developers the

1119
00:45:43,990 --> 00:45:49,209
people who are hiding this application

1120
00:45:46,150 --> 00:45:51,310
the people who have all the access and I

1121
00:45:49,210 --> 00:45:53,110
was able to pop an administrative level

1122
00:45:51,310 --> 00:45:54,970
account that has been copied from the

1123
00:45:53,110 --> 00:45:57,250
super admin account and given to one of

1124
00:45:54,970 --> 00:46:00,250
the web dev admins so they could manage

1125
00:45:57,250 --> 00:46:02,740
this website so if there is a self

1126
00:46:00,250 --> 00:46:04,870
registration portal even if it's on the

1127
00:46:02,740 --> 00:46:07,450
consumer side you can take over an

1128
00:46:04,870 --> 00:46:10,690
entire application by compromising the

1129
00:46:07,450 --> 00:46:13,660
identities the other identities in that

1130
00:46:10,690 --> 00:46:16,420
portal that was dark and I love the fact

1131
00:46:13,660 --> 00:46:20,109
that we had the responder demo earlier

1132
00:46:16,420 --> 00:46:21,550
this is another gimme on the on any pen

1133
00:46:20,110 --> 00:46:23,830
test if you're on the internal network

1134
00:46:21,550 --> 00:46:27,060
and you fire responder because so many

1135
00:46:23,830 --> 00:46:31,180
people are using your Active Directory

1136
00:46:27,060 --> 00:46:32,500
you will get creds pop-up in here so I'm

1137
00:46:31,180 --> 00:46:34,660
not going to tell you how to use it

1138
00:46:32,500 --> 00:46:36,040
because I'm still learning there are

1139
00:46:34,660 --> 00:46:37,839
some things I know and some things like

1140
00:46:36,040 --> 00:46:40,810
I said join the web apps I'm all good

1141
00:46:37,840 --> 00:46:42,910
there's some tools in the Kali set that

1142
00:46:40,810 --> 00:46:44,920
I'm still getting my head around but

1143
00:46:42,910 --> 00:46:47,350
what I know is that any pen test I do

1144
00:46:44,920 --> 00:46:49,210
going forward responder is going to get

1145
00:46:47,350 --> 00:46:52,870
me valid credentials on the inside if I

1146
00:46:49,210 --> 00:46:55,210
use if you are authorized to do so

1147
00:46:52,870 --> 00:46:56,890
whose responder on your own internal

1148
00:46:55,210 --> 00:46:58,630
network and see what happened to stark

1149
00:46:56,890 --> 00:47:02,200
right you might find you have

1150
00:46:58,630 --> 00:47:06,730
opportunities to improve how your cyber

1151
00:47:02,200 --> 00:47:09,609
network shares identity info so again it

1152
00:47:06,730 --> 00:47:11,440
only takes one set of creds and I've

1153
00:47:09,610 --> 00:47:14,110
just given you a whole series of attacks

1154
00:47:11,440 --> 00:47:15,400
that I highly recommend and you launch

1155
00:47:14,110 --> 00:47:18,310
again you're against your own

1156
00:47:15,400 --> 00:47:20,140
organizations as a planned well

1157
00:47:18,310 --> 00:47:20,680
communicated don't don't go home and do

1158
00:47:20,140 --> 00:47:22,210
this tonight

1159
00:47:20,680 --> 00:47:23,710
make sure you've got all the approvals

1160
00:47:22,210 --> 00:47:26,170
make sure everybody knows what you're

1161
00:47:23,710 --> 00:47:27,040
doing but check and see how well you can

1162
00:47:26,170 --> 00:47:28,660
identify

1163
00:47:27,040 --> 00:47:30,790
these attacks and defend against these

1164
00:47:28,660 --> 00:47:33,490
attacks how vulnerable are you to these

1165
00:47:30,790 --> 00:47:37,509
attacks so that you can then start to

1166
00:47:33,490 --> 00:47:39,819
implement the right control whether you

1167
00:47:37,510 --> 00:47:42,160
start at the end start the beginning I

1168
00:47:39,820 --> 00:47:45,100
don't care where you start I do not

1169
00:47:42,160 --> 00:47:47,259
recognize that every organization that

1170
00:47:45,100 --> 00:47:48,009
we were worked for has grown or

1171
00:47:47,260 --> 00:47:50,980
Gabrielle

1172
00:47:48,010 --> 00:47:52,450
there's no ivory tower perfect security

1173
00:47:50,980 --> 00:47:55,300
we're going to do it exactly how this

1174
00:47:52,450 --> 00:47:59,020
says it or exactly how PC is exactly how

1175
00:47:55,300 --> 00:48:01,300
anybody says it so we have gaps we have

1176
00:47:59,020 --> 00:48:04,450
issues you have to pick and choose your

1177
00:48:01,300 --> 00:48:07,330
battles start with in my opinion what

1178
00:48:04,450 --> 00:48:08,970
are going to be small successes join

1179
00:48:07,330 --> 00:48:11,710
something you can do that is

1180
00:48:08,970 --> 00:48:14,649
ridiculously inexpensive and incredibly

1181
00:48:11,710 --> 00:48:17,020
useful is just spend some time analyzing

1182
00:48:14,650 --> 00:48:18,520
your own attack surface and painting the

1183
00:48:17,020 --> 00:48:19,500
picture of what you look like to

1184
00:48:18,520 --> 00:48:22,960
somebody outside of your organization

1185
00:48:19,500 --> 00:48:25,330
sizes use all those gathering tools are

1186
00:48:22,960 --> 00:48:27,490
shared earlier and put together a little

1187
00:48:25,330 --> 00:48:30,040
write-up a little report did you know

1188
00:48:27,490 --> 00:48:32,709
that we have multiple non production

1189
00:48:30,040 --> 00:48:35,350
systems that are internet facing did you

1190
00:48:32,710 --> 00:48:36,520
know that we have an ssl VPN that

1191
00:48:35,350 --> 00:48:39,250
doesn't require two-factor

1192
00:48:36,520 --> 00:48:42,220
authentication that if an attacker were

1193
00:48:39,250 --> 00:48:44,440
to use responder to exploit our Outlook

1194
00:48:42,220 --> 00:48:46,419
Web Access interface they could then

1195
00:48:44,440 --> 00:48:49,000
login and get to all these systems are

1196
00:48:46,420 --> 00:48:51,160
take some time to put context around it

1197
00:48:49,000 --> 00:48:53,650
make this stuff real don't just us go

1198
00:48:51,160 --> 00:48:56,049
with the scare tactics join and because

1199
00:48:53,650 --> 00:48:57,760
you are authorized sides hopefully

1200
00:48:56,050 --> 00:49:00,460
within your organization if not you than

1201
00:48:57,760 --> 00:49:02,470
somebody that you work with you can do

1202
00:49:00,460 --> 00:49:04,930
the port scans you can do the

1203
00:49:02,470 --> 00:49:06,580
vulnerability scans and you can add even

1204
00:49:04,930 --> 00:49:09,339
more weight and more value to the

1205
00:49:06,580 --> 00:49:11,740
potential risk so it's not just the easy

1206
00:49:09,340 --> 00:49:14,290
identities page maybe you'll find

1207
00:49:11,740 --> 00:49:16,629
systems that didn't show up in the ocean

1208
00:49:14,290 --> 00:49:19,450
gathering that's thank God you found it

1209
00:49:16,630 --> 00:49:22,660
before they did right so analyze your

1210
00:49:19,450 --> 00:49:25,529
attack surface and then reduces Allen

1211
00:49:22,660 --> 00:49:25,529
I'm going to take a drink

1212
00:49:26,800 --> 00:49:31,460
first and foremost if you don't need

1213
00:49:29,690 --> 00:49:33,920
something sitting on the Internet

1214
00:49:31,460 --> 00:49:36,140
get rid of it as simple firewall rule

1215
00:49:33,920 --> 00:49:40,220
changes to shut down ports and to shut

1216
00:49:36,140 --> 00:49:42,319
down access to systems dev system Q ASIS

1217
00:49:40,220 --> 00:49:44,259
that the testers wanted to expose to the

1218
00:49:42,320 --> 00:49:46,700
third party who's testing your wet laps

1219
00:49:44,260 --> 00:49:50,090
doesn't need to be open to everybody on

1220
00:49:46,700 --> 00:49:51,980
the internet 24/7 it needs to be open to

1221
00:49:50,090 --> 00:49:54,950
the people who are testing during

1222
00:49:51,980 --> 00:49:57,200
approve testing windows put controls in

1223
00:49:54,950 --> 00:50:00,470
place to make sure that your attack

1224
00:49:57,200 --> 00:50:02,960
surface is as hard and crunchy as we've

1225
00:50:00,470 --> 00:50:06,500
been trying to make our perimeter

1226
00:50:02,960 --> 00:50:08,920
primary still counts folks remove

1227
00:50:06,500 --> 00:50:12,650
unnecessary Lyle Allen on the internet

1228
00:50:08,920 --> 00:50:14,780
and replace security existing files

1229
00:50:12,650 --> 00:50:17,150
where you might have issues of metadata

1230
00:50:14,780 --> 00:50:20,060
linkage some of the other things aren't

1231
00:50:17,150 --> 00:50:22,340
you dancing in this talk so much you'll

1232
00:50:20,060 --> 00:50:26,150
find backup files you'll find config

1233
00:50:22,340 --> 00:50:29,450
files PHP only that info right phpinfo

1234
00:50:26,150 --> 00:50:33,200
dot php' will find files that are

1235
00:50:29,450 --> 00:50:39,980
artifacts of application deployments and

1236
00:50:33,200 --> 00:50:42,649
tool installations inactive accounts I

1237
00:50:39,980 --> 00:50:44,360
don't care if somebody insists that they

1238
00:50:42,650 --> 00:50:46,790
might need to use that account someday

1239
00:50:44,360 --> 00:50:49,660
so let's just leave it alone for now if

1240
00:50:46,790 --> 00:50:54,040
an account is not actively being used by

1241
00:50:49,660 --> 00:50:56,480
an employee by a contractors volunteer

1242
00:50:54,040 --> 00:50:58,340
disable it you can always turn the

1243
00:50:56,480 --> 00:51:00,050
background when they need it even better

1244
00:50:58,340 --> 00:51:02,990
especially with people who are

1245
00:51:00,050 --> 00:51:04,190
intentionally short term workforce

1246
00:51:02,990 --> 00:51:06,620
members

1247
00:51:04,190 --> 00:51:08,840
the day you turn on a contractor

1248
00:51:06,620 --> 00:51:10,970
accounting automatically configure that

1249
00:51:08,840 --> 00:51:13,280
account to disabled on the date that the

1250
00:51:10,970 --> 00:51:16,549
contract is set to expire the president

1251
00:51:13,280 --> 00:51:19,100
because when the project ends early and

1252
00:51:16,550 --> 00:51:20,390
the manager sends all the contractors

1253
00:51:19,100 --> 00:51:21,620
home they are not going to call the

1254
00:51:20,390 --> 00:51:23,270
security team and say turn off this

1255
00:51:21,620 --> 00:51:24,770
person's account you - they're going to

1256
00:51:23,270 --> 00:51:27,500
assume that that stuff all happens

1257
00:51:24,770 --> 00:51:29,120
automatically in the background offering

1258
00:51:27,500 --> 00:51:31,070
that from firsthand experience so

1259
00:51:29,120 --> 00:51:32,870
disable inactive accounts remove

1260
00:51:31,070 --> 00:51:37,730
unnecessary privileges

1261
00:51:32,870 --> 00:51:41,210
we did a penetration test this I've got

1262
00:51:37,730 --> 00:51:43,670
a guy who worked with who loves physical

1263
00:51:41,210 --> 00:51:45,620
play I know security I hate it it makes

1264
00:51:43,670 --> 00:51:47,840
me sick like with anxiety sick to my

1265
00:51:45,620 --> 00:51:51,080
stomach but he loves sneaking into place

1266
00:51:47,840 --> 00:51:53,930
and we had a shop where physical pen was

1267
00:51:51,080 --> 00:51:55,460
in scope and so day one he said he was

1268
00:51:53,930 --> 00:51:57,049
gonna roll in around 8:00 and sure

1269
00:51:55,460 --> 00:51:58,850
enough 8:05 I got the call

1270
00:51:57,050 --> 00:52:00,230
hey Jared I want to let you know I got

1271
00:51:58,850 --> 00:52:02,270
in the office on the first floor I'm

1272
00:52:00,230 --> 00:52:03,820
gonna see if I can find a cube and camp

1273
00:52:02,270 --> 00:52:06,290
out where they'll leave me alone I said

1274
00:52:03,820 --> 00:52:10,610
get the hell out of there that's not the

1275
00:52:06,290 --> 00:52:12,200
clients he had gone into the location

1276
00:52:10,610 --> 00:52:14,750
was like a cola right there were

1277
00:52:12,200 --> 00:52:18,500
multiple tenants in one building and in

1278
00:52:14,750 --> 00:52:21,190
all fairness CB this tenant was related

1279
00:52:18,500 --> 00:52:24,140
to the client so how he made that that

1280
00:52:21,190 --> 00:52:26,360
assumption but he broke into my office

1281
00:52:24,140 --> 00:52:28,970
he wasn't authorized to break into seems

1282
00:52:26,360 --> 00:52:30,710
like oh yeah cool I'll call you back so

1283
00:52:28,970 --> 00:52:32,600
he called me back two minutes later he's

1284
00:52:30,710 --> 00:52:36,800
like okay I'm in the right place now I'm

1285
00:52:32,600 --> 00:52:39,589
gonna see if everything is and he he

1286
00:52:36,800 --> 00:52:41,510
stayed there it was like two o'clock in

1287
00:52:39,590 --> 00:52:44,450
the afternoon and I get another call

1288
00:52:41,510 --> 00:52:46,310
from him he says all right so I'm

1289
00:52:44,450 --> 00:52:48,200
killing it here but I'm hungry and I

1290
00:52:46,310 --> 00:52:50,150
have to pee so I'm gonna see if I can

1291
00:52:48,200 --> 00:52:51,950
sneak out get some lunch go to the

1292
00:52:50,150 --> 00:52:54,290
bathroom and break in again and he did

1293
00:52:51,950 --> 00:52:55,580
and so over the course of the day he

1294
00:52:54,290 --> 00:52:58,070
broke in three times and when I say

1295
00:52:55,580 --> 00:53:01,670
broke in it was tailgating it was rock

1296
00:52:58,070 --> 00:53:03,560
simple just smile or ask somebody if if

1297
00:53:01,670 --> 00:53:06,680
they can hold the door for you follow

1298
00:53:03,560 --> 00:53:08,509
them in he took IDs that he got from the

1299
00:53:06,680 --> 00:53:11,629
internet attack because we did some

1300
00:53:08,510 --> 00:53:13,850
external recon regular user accounts

1301
00:53:11,630 --> 00:53:18,890
they shouldn't have excessive privileges

1302
00:53:13,850 --> 00:53:20,930
and said number one he was able to get

1303
00:53:18,890 --> 00:53:23,319
the social security number for everybody

1304
00:53:20,930 --> 00:53:26,330
who worked for the company currently and

1305
00:53:23,320 --> 00:53:28,610
previously joined because HR was using

1306
00:53:26,330 --> 00:53:32,180
the company all shares and spreadsheets

1307
00:53:28,610 --> 00:53:34,340
to manage new hires so we didn't even

1308
00:53:32,180 --> 00:53:36,890
need escalated privileges but when he

1309
00:53:34,340 --> 00:53:38,810
did get escalated privileges he got into

1310
00:53:36,890 --> 00:53:41,690
their VMware infrastructure and started

1311
00:53:38,810 --> 00:53:43,100
stealing all their VM guests just he

1312
00:53:41,690 --> 00:53:43,900
said in one place yeah I should have

1313
00:53:43,100 --> 00:53:45,609
brought a

1314
00:53:43,900 --> 00:53:47,740
your hard drive I'm out of sorry I can't

1315
00:53:45,609 --> 00:53:49,299
take everything I like that's right I

1316
00:53:47,740 --> 00:53:52,660
think you've got enough for the report

1317
00:53:49,299 --> 00:53:54,730
just color we wrap it up but you need to

1318
00:53:52,660 --> 00:53:57,160
look at what people have access to and

1319
00:53:54,730 --> 00:54:00,099
work with business owners and work with

1320
00:53:57,160 --> 00:54:02,410
application owners to say is this

1321
00:54:00,099 --> 00:54:04,450
appropriate I know that everybody in

1322
00:54:02,410 --> 00:54:06,819
their mom once access to our data center

1323
00:54:04,450 --> 00:54:10,000
they don't need it I know that holds

1324
00:54:06,819 --> 00:54:12,759
true for these files on the company I'll

1325
00:54:10,000 --> 00:54:14,319
share maybe they should be only HR shots

1326
00:54:12,760 --> 00:54:16,210
where only people on the HR team have

1327
00:54:14,319 --> 00:54:18,970
access so there's going to be some

1328
00:54:16,210 --> 00:54:21,069
cleanup on the inside and then once you

1329
00:54:18,970 --> 00:54:23,770
do that once don't assume that you're

1330
00:54:21,069 --> 00:54:25,690
done because it's going to keep slipping

1331
00:54:23,770 --> 00:54:27,759
so you've got to implement the user

1332
00:54:25,690 --> 00:54:30,190
attestation process where you say okay

1333
00:54:27,760 --> 00:54:32,529
this is what Jared has access to today

1334
00:54:30,190 --> 00:54:34,539
I'm gonna hit you up in three months and

1335
00:54:32,529 --> 00:54:36,130
let you know what it what's changed and

1336
00:54:34,539 --> 00:54:39,520
you let me know whether or not that's

1337
00:54:36,130 --> 00:54:41,140
okay implement multi-factor because even

1338
00:54:39,520 --> 00:54:43,630
though multi-factor can be defeated with

1339
00:54:41,140 --> 00:54:46,150
social engineering multi-factor will

1340
00:54:43,630 --> 00:54:49,150
shut down brute-force attacks password

1341
00:54:46,150 --> 00:54:51,640
spraying attacks it just stupid password

1342
00:54:49,150 --> 00:54:53,740
guessing attacks unless somebody goes

1343
00:54:51,640 --> 00:54:55,240
that extra step you want to make it as

1344
00:54:53,740 --> 00:54:58,859
hard as possible for the attacker

1345
00:54:55,240 --> 00:55:00,700
successfully and multi-factor on VPN

1346
00:54:58,859 --> 00:55:03,609
multi-factor on software-as-a-service

1347
00:55:00,700 --> 00:55:05,919
applications that support it not all of

1348
00:55:03,609 --> 00:55:07,569
them but the ones that host the really

1349
00:55:05,920 --> 00:55:11,650
sensitive information those are the ones

1350
00:55:07,569 --> 00:55:14,220
you care about anyone on premise if you

1351
00:55:11,650 --> 00:55:18,160
are hosting your payroll data on

1352
00:55:14,220 --> 00:55:21,160
on-premise start I've seen organizations

1353
00:55:18,160 --> 00:55:23,500
attacked where the attacker might get

1354
00:55:21,160 --> 00:55:26,558
into somebody's payroll self-service

1355
00:55:23,500 --> 00:55:28,180
portal and say hey I don't want my

1356
00:55:26,559 --> 00:55:28,599
direct deposit whenever this bank

1357
00:55:28,180 --> 00:55:31,029
account

1358
00:55:28,599 --> 00:55:34,059
I want it going to that one and by

1359
00:55:31,029 --> 00:55:34,690
redirecting that money it's usually if

1360
00:55:34,059 --> 00:55:36,250
you're early

1361
00:55:34,690 --> 00:55:39,160
you find out one paycheck hey it's

1362
00:55:36,250 --> 00:55:40,690
Friday I want paid but there are certain

1363
00:55:39,160 --> 00:55:42,640
applications on premise where you might

1364
00:55:40,690 --> 00:55:44,380
see about using multi-factor

1365
00:55:42,640 --> 00:55:47,980
and then security awareness training I

1366
00:55:44,380 --> 00:55:49,510
don't believe users are stupid I believe

1367
00:55:47,980 --> 00:55:51,250
that they're not hired to be security

1368
00:55:49,510 --> 00:55:52,900
professionals and

1369
00:55:51,250 --> 00:55:54,250
I have seen firsthand evidence that

1370
00:55:52,900 --> 00:55:55,570
they're actually pretty smart because if

1371
00:55:54,250 --> 00:55:58,530
they want to get around the controls you

1372
00:55:55,570 --> 00:56:02,380
put in place they'll figure it out folks

1373
00:55:58,530 --> 00:56:05,620
so take take time to find a way that

1374
00:56:02,380 --> 00:56:07,630
works in communicating to these users I

1375
00:56:05,620 --> 00:56:09,460
want to work the Ohio State University

1376
00:56:07,630 --> 00:56:13,840
their security awareness training was

1377
00:56:09,460 --> 00:56:16,030
featured on a news story on ABC a month

1378
00:56:13,840 --> 00:56:18,970
or two ago and they get into

1379
00:56:16,030 --> 00:56:23,800
demographics they try to understand this

1380
00:56:18,970 --> 00:56:25,930
population of students versus adjunct

1381
00:56:23,800 --> 00:56:27,970
fabulous versus tenured faculty versus

1382
00:56:25,930 --> 00:56:29,950
technical employees versus non-technical

1383
00:56:27,970 --> 00:56:33,339
employees how do they consume

1384
00:56:29,950 --> 00:56:35,939
information do they use Facebook who

1385
00:56:33,340 --> 00:56:43,150
uses Facebook I'm not gonna look at

1386
00:56:35,940 --> 00:56:46,030
whose Twitter the way we consume data

1387
00:56:43,150 --> 00:56:48,040
through social media is is different but

1388
00:56:46,030 --> 00:56:50,830
if you start asking your people you'll

1389
00:56:48,040 --> 00:56:52,480
find that maybe that one hour training

1390
00:56:50,830 --> 00:56:55,000
video is kind of like when people aren't

1391
00:56:52,480 --> 00:56:58,450
watching it but the little five minute

1392
00:56:55,000 --> 00:57:00,280
comedy video the snaps right get a star

1393
00:56:58,450 --> 00:57:02,259
story going there ways to communicate

1394
00:57:00,280 --> 00:57:05,020
with people above and beyond talking at

1395
00:57:02,260 --> 00:57:06,640
them so please spend time doing security

1396
00:57:05,020 --> 00:57:08,320
awareness training and the three things

1397
00:57:06,640 --> 00:57:09,960
I would bake into that to help defend

1398
00:57:08,320 --> 00:57:12,250
against these identity based attacks

1399
00:57:09,960 --> 00:57:14,650
tell them not only to corporate email

1400
00:57:12,250 --> 00:57:16,510
for personal web sites publicly shamed

1401
00:57:14,650 --> 00:57:19,450
people whose names are in the Ashley

1402
00:57:16,510 --> 00:57:21,880
Madison actual and not them though if

1403
00:57:19,450 --> 00:57:24,220
their name shows up that gets real weird

1404
00:57:21,880 --> 00:57:27,900
but but show them that as an example

1405
00:57:24,220 --> 00:57:32,259
talks about over sharing of social media

1406
00:57:27,900 --> 00:57:34,690
date with the Ohio information security

1407
00:57:32,260 --> 00:57:38,110
conference each year a number of years

1408
00:57:34,690 --> 00:57:41,200
back they had the CTO or I think it was

1409
00:57:38,110 --> 00:57:43,660
from Brown University and he was talking

1410
00:57:41,200 --> 00:57:46,240
about freshman orientation I love this

1411
00:57:43,660 --> 00:57:47,649
to know I know he said when when the

1412
00:57:46,240 --> 00:57:49,629
freshmen come on campus and they're with

1413
00:57:47,650 --> 00:57:50,500
her parents and they're they're excited

1414
00:57:49,630 --> 00:57:51,880
about what they're getting ready to

1415
00:57:50,500 --> 00:57:54,550
start they come in for this orientation

1416
00:57:51,880 --> 00:57:56,650
video it's a room like this screen like

1417
00:57:54,550 --> 00:57:58,750
this and they just start playing the

1418
00:57:56,650 --> 00:58:01,390
most embarrassing social media pictures

1419
00:57:58,750 --> 00:58:02,830
they have found on all these kids and

1420
00:58:01,390 --> 00:58:04,480
what they do is they pull them from

1421
00:58:02,830 --> 00:58:06,640
their social media profiles

1422
00:58:04,480 --> 00:58:08,800
blur out the faces and nobody else in

1423
00:58:06,640 --> 00:58:12,879
the room knows what's going on but that

1424
00:58:08,800 --> 00:58:15,670
kid they know they see the friends they

1425
00:58:12,880 --> 00:58:17,050
see location like oh my gosh I thought

1426
00:58:15,670 --> 00:58:19,420
Muhammad dad were never going to find

1427
00:58:17,050 --> 00:58:21,520
out about that the reason he does this

1428
00:58:19,420 --> 00:58:23,620
is to say look someday it's going to be

1429
00:58:21,520 --> 00:58:25,210
a potential employer is it's gonna be

1430
00:58:23,620 --> 00:58:28,750
somebody looking to say hey I want to

1431
00:58:25,210 --> 00:58:31,210
bring you on for a jobs but mmm if this

1432
00:58:28,750 --> 00:58:33,760
is how you act that's not how we act

1433
00:58:31,210 --> 00:58:35,470
here and that's not to say you don't

1434
00:58:33,760 --> 00:58:36,400
have to act that way just don't tell

1435
00:58:35,470 --> 00:58:38,649
everybody

1436
00:58:36,400 --> 00:58:40,990
don't be so blatant about it so teach

1437
00:58:38,650 --> 00:58:43,210
them about oversharing on social media

1438
00:58:40,990 --> 00:58:46,330
and show them some of the password based

1439
00:58:43,210 --> 00:58:47,770
attacks and how people can reset their

1440
00:58:46,330 --> 00:58:49,690
password based on what they pull from

1441
00:58:47,770 --> 00:58:52,750
their Facebook profile and teach them

1442
00:58:49,690 --> 00:58:55,620
how to detect and respond to social

1443
00:58:52,750 --> 00:58:58,930
engineering attacks do not engage

1444
00:58:55,620 --> 00:59:01,900
socially the social engineer never never

1445
00:58:58,930 --> 00:59:04,270
you might want to say haha you're stupid

1446
00:59:01,900 --> 00:59:05,830
oh I see what you're doing here but as

1447
00:59:04,270 --> 00:59:07,210
soon as you do that you have taken a

1448
00:59:05,830 --> 00:59:09,970
bait and then they will continue to

1449
00:59:07,210 --> 00:59:11,230
target and continue to engage you and I

1450
00:59:09,970 --> 00:59:12,609
can tell you as somebody who's done

1451
00:59:11,230 --> 00:59:16,170
social engineering those are the people

1452
00:59:12,610 --> 00:59:18,610
I go after teach them how to identify

1453
00:59:16,170 --> 00:59:21,910
phishing messages phishing texts

1454
00:59:18,610 --> 00:59:24,010
machines which I hate as a word but I

1455
00:59:21,910 --> 00:59:26,129
teach them how to respond teach them who

1456
00:59:24,010 --> 00:59:28,960
to tell internally and you maybe even

1457
00:59:26,130 --> 00:59:32,050
incentivize have contest who can

1458
00:59:28,960 --> 00:59:35,500
identify the most fish over this border

1459
00:59:32,050 --> 00:59:36,880
you get a $25 Amazon gift card oh my god

1460
00:59:35,500 --> 00:59:39,520
you have more email coming in and you

1461
00:59:36,880 --> 00:59:41,380
know what to do it but at 25 bucks is

1462
00:59:39,520 --> 00:59:43,300
nothing few sites nothing from a

1463
00:59:41,380 --> 00:59:45,400
corporate budget perspective it is

1464
00:59:43,300 --> 00:59:47,410
everything to the end users who are like

1465
00:59:45,400 --> 00:59:50,020
ah I'm gonna get a free thing for being

1466
00:59:47,410 --> 00:59:52,839
security aware and they tighten up your

1467
00:59:50,020 --> 00:59:54,580
admin privileges your user accounts are

1468
00:59:52,840 --> 00:59:58,270
private following the traditional eight

1469
00:59:54,580 --> 01:00:00,430
character complexity admin accounts make

1470
00:59:58,270 --> 01:00:03,340
them much more complex make them long

1471
01:00:00,430 --> 01:00:06,129
security if you can put 2fa on admin

1472
01:00:03,340 --> 01:00:10,120
accounts when I'm trying to escalate

1473
01:00:06,130 --> 01:00:11,890
privileges I'm gonna fail because the

1474
01:00:10,120 --> 01:00:15,060
tools that I use and techniques that I

1475
01:00:11,890 --> 01:00:17,279
use are not as effective against more

1476
01:00:15,060 --> 01:00:20,549
challenging passwords anybody using

1477
01:00:17,280 --> 01:00:24,150
laughs will be from Microsoft yes love

1478
01:00:20,550 --> 01:00:27,480
this more of this laps is a rock simple

1479
01:00:24,150 --> 01:00:28,860
and free tool from Microsoft managing

1480
01:00:27,480 --> 01:00:31,920
local administrator comes with more

1481
01:00:28,860 --> 01:00:33,990
stations if you are frustrated to no end

1482
01:00:31,920 --> 01:00:36,180
that your users have local admin or you

1483
01:00:33,990 --> 01:00:39,479
have the same local admin on every

1484
01:00:36,180 --> 01:00:42,740
workstation you can put them laps learn

1485
01:00:39,480 --> 01:00:42,740
how to use it to play it yeah

1486
01:00:49,460 --> 01:00:52,720
what's a it's called what

1487
01:00:58,840 --> 01:01:02,870
that's fantastic I didn't know that

1488
01:01:00,980 --> 01:01:03,230
catch me after I want to give you my

1489
01:01:02,870 --> 01:01:09,140
card

1490
01:01:03,230 --> 01:01:12,500
I got a repeat in the mic for that a

1491
01:01:09,140 --> 01:01:15,560
group policy object they prevent browser

1492
01:01:12,500 --> 01:01:17,600
accounts from traversing by local

1493
01:01:15,560 --> 01:01:20,120
accounts from jumping from one machine

1494
01:01:17,600 --> 01:01:22,610
to the next right all right I'm gonna

1495
01:01:20,120 --> 01:01:24,770
add that to my slides and then update

1496
01:01:22,610 --> 01:01:26,510
the slide share in my room that's what I

1497
01:01:24,770 --> 01:01:29,259
love doing talks like this because I

1498
01:01:26,510 --> 01:01:33,920
learned stuff I really appreciate that

1499
01:01:29,260 --> 01:01:37,880
do you know the name of the GPO he's

1500
01:01:33,920 --> 01:01:40,280
gonna pull it up right and while he's on

1501
01:01:37,880 --> 01:01:43,910
that I apologize for the meme but I live

1502
01:01:40,280 --> 01:01:46,280
by memes my wife hates it my kids love

1503
01:01:43,910 --> 01:01:49,399
it because our entire conversations are

1504
01:01:46,280 --> 01:01:51,080
inside jokes but the level of control

1505
01:01:49,400 --> 01:01:53,120
you want to wrap them around your admin

1506
01:01:51,080 --> 01:01:56,569
accounts it comes down to cost

1507
01:01:53,120 --> 01:01:59,330
complexity what are our capabilities

1508
01:01:56,570 --> 01:02:01,550
internally for managing this lapses Rock

1509
01:01:59,330 --> 01:02:02,930
simple you should have people using

1510
01:02:01,550 --> 01:02:06,110
different accounts for administrative

1511
01:02:02,930 --> 01:02:08,359
activities so your domain admins should

1512
01:02:06,110 --> 01:02:09,530
not log into their workstations with

1513
01:02:08,360 --> 01:02:10,730
their domain admin account they should

1514
01:02:09,530 --> 01:02:13,520
have a user account and then they should

1515
01:02:10,730 --> 01:02:17,120
reserve that the DA account for da

1516
01:02:13,520 --> 01:02:20,180
activity so you've got options you've

1517
01:02:17,120 --> 01:02:22,810
got technologies you can tap into but

1518
01:02:20,180 --> 01:02:24,980
get your head around how to control

1519
01:02:22,810 --> 01:02:26,810
administrative privileges while you're

1520
01:02:24,980 --> 01:02:28,280
cleaning this up I'm going to keep going

1521
01:02:26,810 --> 01:02:31,750
but as soon as you find that GPO I'm

1522
01:02:28,280 --> 01:02:36,380
going to jump into it and then on the

1523
01:02:31,750 --> 01:02:38,090
flipside fine-tune your logging and

1524
01:02:36,380 --> 01:02:40,100
monitoring system to let you know when

1525
01:02:38,090 --> 01:02:41,660
something wonky is happening now in

1526
01:02:40,100 --> 01:02:43,790
order to know when something is weird

1527
01:02:41,660 --> 01:02:48,710
you have to know what normal looks like

1528
01:02:43,790 --> 01:02:51,680
and that's no small task I am a huge

1529
01:02:48,710 --> 01:02:54,470
huge advocate of the walk then run

1530
01:02:51,680 --> 01:02:56,299
approach to security if I'm deploying

1531
01:02:54,470 --> 01:02:57,740
security information to my management

1532
01:02:56,300 --> 01:03:00,700
system I don't want to turn everything

1533
01:02:57,740 --> 01:03:02,689
on if I'm deploying web app firewall I

1534
01:03:00,700 --> 01:03:05,490
definitely don't want to enable all the

1535
01:03:02,690 --> 01:03:07,560
the rules as block URLs right away

1536
01:03:05,490 --> 01:03:08,850
I just want to watch right it's gonna

1537
01:03:07,560 --> 01:03:11,279
take a little bit of time but that's

1538
01:03:08,850 --> 01:03:13,410
okay you want to understand what normal

1539
01:03:11,280 --> 01:03:14,970
looks like in your network because it's

1540
01:03:13,410 --> 01:03:17,940
not the same from one of the next

1541
01:03:14,970 --> 01:03:21,509
although there are certain certain

1542
01:03:17,940 --> 01:03:25,070
outliers like for example when should

1543
01:03:21,510 --> 01:03:28,170
somebody be added to a privileged group

1544
01:03:25,070 --> 01:03:30,480
when they have change control ticket and

1545
01:03:28,170 --> 01:03:31,830
permission it's not something that

1546
01:03:30,480 --> 01:03:34,380
should happen every day I shouldn't have

1547
01:03:31,830 --> 01:03:37,140
new domain admins popping up if I do

1548
01:03:34,380 --> 01:03:40,110
that's a problem if it's either an

1549
01:03:37,140 --> 01:03:43,009
indicator of compromise or if I've just

1550
01:03:40,110 --> 01:03:45,420
got an admin who's being stupid but

1551
01:03:43,010 --> 01:03:46,920
there are some basic things you can look

1552
01:03:45,420 --> 01:03:49,350
for and for folks who don't know I'm

1553
01:03:46,920 --> 01:03:52,369
Lenny zeltser has published multiple

1554
01:03:49,350 --> 01:03:55,890
cheat sheets to his websites also calm

1555
01:03:52,369 --> 01:03:58,980
this one the incident security incident

1556
01:03:55,890 --> 01:04:01,500
log review checklist has a series of

1557
01:03:58,980 --> 01:04:03,810
event codes it gives you the description

1558
01:04:01,500 --> 01:04:06,450
in the the code if you want to go by

1559
01:04:03,810 --> 01:04:09,720
regex or by numbers for web servers

1560
01:04:06,450 --> 01:04:12,990
Network Devices Linux systems and

1561
01:04:09,720 --> 01:04:15,240
Windows systems if you complement the

1562
01:04:12,990 --> 01:04:17,069
Zeltzer cheat sheet with ultimate

1563
01:04:15,240 --> 01:04:18,390
Windows security calm the stuff that

1564
01:04:17,070 --> 01:04:21,270
Randy Smith has out there about all

1565
01:04:18,390 --> 01:04:23,490
these specific codes you don't have to

1566
01:04:21,270 --> 01:04:25,710
put every possible code in just watch

1567
01:04:23,490 --> 01:04:27,990
for when administrative privileges

1568
01:04:25,710 --> 01:04:29,730
change if that is the only thing you're

1569
01:04:27,990 --> 01:04:31,890
alerting on I guarantee you're going to

1570
01:04:29,730 --> 01:04:33,390
catch an attacker because sooner or

1571
01:04:31,890 --> 01:04:35,790
later somebody's going to create an

1572
01:04:33,390 --> 01:04:38,759
admin account they're going to change

1573
01:04:35,790 --> 01:04:41,430
the password on an existing service

1574
01:04:38,760 --> 01:04:42,840
account domain admin economy and those

1575
01:04:41,430 --> 01:04:45,720
are riskier because you're going to get

1576
01:04:42,840 --> 01:04:48,600
caught but just start with Lennie's

1577
01:04:45,720 --> 01:04:50,520
cheat sheets and that's that's rock

1578
01:04:48,600 --> 01:04:53,250
simple folks that's stuff that's been

1579
01:04:50,520 --> 01:04:54,690
tried and vetted and then if you want to

1580
01:04:53,250 --> 01:04:57,420
go one step further

1581
01:04:54,690 --> 01:04:59,550
stand up some honey pots stand Hughes

1582
01:04:57,420 --> 01:05:01,410
honey creds and honey tokens I've got

1583
01:04:59,550 --> 01:05:04,290
two tools out here that will help

1584
01:05:01,410 --> 01:05:07,049
automate some of that but try creating a

1585
01:05:04,290 --> 01:05:09,359
domain admin account that has that SID

1586
01:05:07,050 --> 01:05:11,940
500 that's going to look like an actual

1587
01:05:09,359 --> 01:05:14,040
admin account but disable it and then

1588
01:05:11,940 --> 01:05:16,050
all you have to do is set up an alert

1589
01:05:14,040 --> 01:05:17,058
for whenever that admin account tries to

1590
01:05:16,050 --> 01:05:19,549
log in anything

1591
01:05:17,059 --> 01:05:21,559
if that account has no legitimate use on

1592
01:05:19,549 --> 01:05:23,089
your network it's just like that active

1593
01:05:21,559 --> 01:05:24,439
defense stuff nobody's going to find it

1594
01:05:23,089 --> 01:05:26,659
unless they're malicious and they're

1595
01:05:24,439 --> 01:05:28,489
looking for it so there's some Rock

1596
01:05:26,659 --> 01:05:31,159
simple ways that you can take advantage

1597
01:05:28,489 --> 01:05:33,140
of the honeypot approach that are going

1598
01:05:31,159 --> 01:05:34,699
to be crazy fast indicators of

1599
01:05:33,140 --> 01:05:39,009
compromised did you have any luck with

1600
01:05:34,699 --> 01:05:39,009
the GP oh sorry

1601
01:05:41,930 --> 01:05:46,100
do you know what the name of it is so

1602
01:05:44,570 --> 01:05:53,260
basically there's two well-known

1603
01:05:46,100 --> 01:05:53,259
accounts Microsoft and the authority

1604
01:05:53,760 --> 01:05:59,150
you're just need to deny access to this

1605
01:05:55,859 --> 01:05:59,150
computer from the network those

1606
01:05:59,770 --> 01:06:05,140
it's just a couple of accounts so what

1607
01:06:03,790 --> 01:06:06,580
I'll stay here for the talk because I

1608
01:06:05,140 --> 01:06:09,460
know where we're on the the video and

1609
01:06:06,580 --> 01:06:10,569
I'm here toward the end is all so if you

1610
01:06:09,460 --> 01:06:13,600
don't mind sharing that out with me I

1611
01:06:10,570 --> 01:06:16,930
can add it out here in the the slides

1612
01:06:13,600 --> 01:06:21,970
later on but once you get laps up and

1613
01:06:16,930 --> 01:06:25,140
running awesome this is a fully

1614
01:06:21,970 --> 01:06:27,870
interactive b-sides Thank You

1615
01:06:25,140 --> 01:06:30,549
anti-authority local account and

1616
01:06:27,870 --> 01:06:34,990
anti-authority local account and member

1617
01:06:30,550 --> 01:06:37,720
of administrators group deny access

1618
01:06:34,990 --> 01:06:40,450
across the network and the user in what

1619
01:06:37,720 --> 01:06:42,430
was your name Edward every give Edward a

1620
01:06:40,450 --> 01:06:48,120
hand thank you that's what I like give

1621
01:06:42,430 --> 01:06:51,160
back so wrapping up here for the day

1622
01:06:48,120 --> 01:06:53,620
it's still fundamentals folks when we

1623
01:06:51,160 --> 01:06:55,450
look at these identity based attacks

1624
01:06:53,620 --> 01:06:59,290
people going after local creds going

1625
01:06:55,450 --> 01:07:01,390
after admin creds it's the basic simple

1626
01:06:59,290 --> 01:07:03,430
stuff this is going to shut down the

1627
01:07:01,390 --> 01:07:06,310
attackers now you can buy the fancy

1628
01:07:03,430 --> 01:07:07,720
tools you can buy the blinky box I think

1629
01:07:06,310 --> 01:07:09,450
there's there's value in some of that

1630
01:07:07,720 --> 01:07:12,700
don't break the bank

1631
01:07:09,450 --> 01:07:14,770
especially not out of the gate do a

1632
01:07:12,700 --> 01:07:17,350
little bit of prevention so system

1633
01:07:14,770 --> 01:07:18,910
application network hardening put in

1634
01:07:17,350 --> 01:07:21,400
some logging and monitoring controls

1635
01:07:18,910 --> 01:07:23,170
using those cheat sheets and spend some

1636
01:07:21,400 --> 01:07:25,630
time on not just end user security

1637
01:07:23,170 --> 01:07:28,330
awareness training but anybody who has

1638
01:07:25,630 --> 01:07:30,340
IT or security responsibilities train

1639
01:07:28,330 --> 01:07:32,410
them on how to use the technologies and

1640
01:07:30,340 --> 01:07:34,810
execute the processes you expect them to

1641
01:07:32,410 --> 01:07:36,759
do we do not understand how to do this

1642
01:07:34,810 --> 01:07:39,190
stuff that they were born everybody

1643
01:07:36,760 --> 01:07:41,170
learns and so take time to train these

1644
01:07:39,190 --> 01:07:43,540
people whether it's peer to peer whether

1645
01:07:41,170 --> 01:07:44,950
it's a class don't overlook the

1646
01:07:43,540 --> 01:07:48,370
importance of training the IT security

1647
01:07:44,950 --> 01:07:50,080
folks here at the end I always keep

1648
01:07:48,370 --> 01:07:53,470
resources in there if there's like

1649
01:07:50,080 --> 01:07:56,590
further further reading tools that

1650
01:07:53,470 --> 01:07:58,660
haven't referenced elsewhere a couple of

1651
01:07:56,590 --> 01:08:00,340
things I did want to mention I did a

1652
01:07:58,660 --> 01:08:03,190
talk in Columbus a couple of years ago

1653
01:08:00,340 --> 01:08:04,970
on performing us and gathering on

1654
01:08:03,190 --> 01:08:08,090
yourself it's on

1655
01:08:04,970 --> 01:08:10,250
iron geeks YouTube channel because he

1656
01:08:08,090 --> 01:08:11,660
was doing all the Adrian Crenshaw he was

1657
01:08:10,250 --> 01:08:13,910
doing all the videos at the the

1658
01:08:11,660 --> 01:08:15,560
conference that year I've got a link to

1659
01:08:13,910 --> 01:08:18,080
that YouTube video here if you wanted to

1660
01:08:15,560 --> 01:08:20,479
watch that that and I also have a plural

1661
01:08:18,080 --> 01:08:22,729
site class that's five hours on the one

1662
01:08:20,479 --> 01:08:25,009
open-source intelligence gathering look

1663
01:08:22,729 --> 01:08:27,108
up people who will give you that one

1664
01:08:25,010 --> 01:08:28,520
month free to plural site that one month

1665
01:08:27,109 --> 01:08:31,640
is plenty of time for you guys to

1666
01:08:28,520 --> 01:08:33,380
consume that information and the Intel

1667
01:08:31,640 --> 01:08:37,040
techniques techniques website I

1668
01:08:33,380 --> 01:08:40,100
mentioned I Michael has a tool out there

1669
01:08:37,040 --> 01:08:41,899
called buscador which is like Kali Linux

1670
01:08:40,100 --> 01:08:44,660
for open source intelligence gathering

1671
01:08:41,899 --> 01:08:46,670
it's a VM he keeps tweaking it it's

1672
01:08:44,660 --> 01:08:47,630
pretty sexy I'm digging it so far but

1673
01:08:46,670 --> 01:08:50,450
I'm still trying to get my head around

1674
01:08:47,630 --> 01:08:52,250
it I did have to tweak the last version

1675
01:08:50,450 --> 01:08:54,470
I downloaded to get some of the tools to

1676
01:08:52,250 --> 01:08:55,819
work but if you want to automate some of

1677
01:08:54,470 --> 01:08:57,859
the open source intelligence gathering

1678
01:08:55,819 --> 01:09:00,170
and you like the this self-contained

1679
01:08:57,859 --> 01:09:02,780
virtual machine approach busca door is

1680
01:09:00,170 --> 01:09:06,200
really really cool links to some of the

1681
01:09:02,779 --> 01:09:07,700
other tools including the common sense

1682
01:09:06,200 --> 01:09:09,139
security framework I told you I've been

1683
01:09:07,700 --> 01:09:11,750
doing this for a while

1684
01:09:09,140 --> 01:09:14,359
that's my walk don't run framework I've

1685
01:09:11,750 --> 01:09:16,130
got a whole methodology based on all my

1686
01:09:14,359 --> 01:09:18,710
my consulting days about what really

1687
01:09:16,130 --> 01:09:20,480
makes a difference in keeping bad things

1688
01:09:18,710 --> 01:09:22,550
from happening and it's it's a lot more

1689
01:09:20,479 --> 01:09:24,500
broad than identity but if you dig what

1690
01:09:22,550 --> 01:09:27,529
what we talked about here today I think

1691
01:09:24,500 --> 01:09:29,569
you'll dig that as well we're at the end

1692
01:09:27,529 --> 01:09:31,880
of the day and to be honest I got to hit

1693
01:09:29,569 --> 01:09:34,839
the road to get back to Columbus I am

1694
01:09:31,880 --> 01:09:36,920
NOT a hard person to find this is me

1695
01:09:34,839 --> 01:09:39,500
corporate email address I work for what

1696
01:09:36,920 --> 01:09:41,630
identity out of Columbus I'm trying to

1697
01:09:39,500 --> 01:09:44,689
get down here more often now that I'm at

1698
01:09:41,630 --> 01:09:48,109
a shop that lets me travel more LinkedIn

1699
01:09:44,689 --> 01:09:49,939
Twitter I love talking about this stuff

1700
01:09:48,109 --> 01:09:53,000
I hope that's come across so please

1701
01:09:49,939 --> 01:09:55,280
reach out to me and then SlideShare and

1702
01:09:53,000 --> 01:09:56,120
speaker deck are the two websites I'm

1703
01:09:55,280 --> 01:09:59,150
out there slando

1704
01:09:56,120 --> 01:10:01,340
well then slide shares got my LinkedIn

1705
01:09:59,150 --> 01:10:03,889
name but you can pull down the slides

1706
01:10:01,340 --> 01:10:05,780
from there so thank you very much and

1707
01:10:03,890 --> 01:10:07,280
thank you to the b-sides folks for

1708
01:10:05,780 --> 01:10:09,290
putting this together I really dig it

1709
01:10:07,280 --> 01:10:10,519
hope you guys had a great day and have

1710
01:10:09,290 --> 01:10:12,760
safe travels back to wherever you're

1711
01:10:10,520 --> 01:10:12,760
headed

1712
01:10:14,390 --> 01:10:19,589
Thanks

1713
01:10:15,560 --> 01:10:19,589
[Applause]

1714
01:10:25,170 --> 01:10:27,230
you

