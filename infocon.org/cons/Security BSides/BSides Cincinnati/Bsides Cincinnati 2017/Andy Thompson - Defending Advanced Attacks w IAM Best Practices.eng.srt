1
00:00:09,900 --> 00:00:17,189
<font color="#E5E5E5">it is</font><font color="#CCCCCC"> 2 o'clock</font><font color="#E5E5E5"> so our next speaker</font><font color="#CCCCCC"> is</font>

2
00:00:13,139 --> 00:00:20,369
Andy Thompson<font color="#CCCCCC"> Andy a the man has great</font>

3
00:00:17,189 --> 00:00:22,529
taste<font color="#CCCCCC"> I got to say 90s</font><font color="#E5E5E5"> grunge music</font>

4
00:00:20,369 --> 00:00:24,390
aficionado which is of course<font color="#E5E5E5"> the finest</font>

5
00:00:22,529 --> 00:00:27,090
<font color="#E5E5E5">music ever made by man</font>

6
00:00:24,390 --> 00:00:29,789
hacker<font color="#E5E5E5"> InfoSec consultant works with</font>

7
00:00:27,090 --> 00:00:34,589
Fortune<font color="#E5E5E5"> 500 companies to improve their</font>

8
00:00:29,789 --> 00:00:36,660
<font color="#E5E5E5">security posture and yeah</font><font color="#CCCCCC"> so he is</font>

9
00:00:34,589 --> 00:00:38,100
either<font color="#CCCCCC"> traveling or sleeping when he is</font>

10
00:00:36,660 --> 00:00:40,589
not<font color="#CCCCCC"> working and he'll tell you more</font>

11
00:00:38,100 --> 00:00:41,460
about<font color="#E5E5E5"> himself</font><font color="#CCCCCC"> so</font><font color="#E5E5E5"> yeah</font><font color="#CCCCCC"> our two o'clock</font>

12
00:00:40,589 --> 00:00:46,580
speaker Andy<font color="#E5E5E5"> Thompson</font>

13
00:00:41,460 --> 00:00:49,049
<font color="#E5E5E5">oh all right</font>

14
00:00:46,580 --> 00:00:50,280
hello everyone thank you<font color="#E5E5E5"> so</font><font color="#CCCCCC"> much for</font>

15
00:00:49,049 --> 00:00:52,949
sticking around<font color="#E5E5E5"> and listen</font><font color="#CCCCCC"> to me talk</font>

16
00:00:50,280 --> 00:00:55,080
<font color="#E5E5E5">today about Kerberos attacks in</font>

17
00:00:52,949 --> 00:00:56,610
<font color="#E5E5E5">particular the golden ticket</font><font color="#CCCCCC"> I just</font>

18
00:00:55,080 --> 00:00:58,830
wanted<font color="#E5E5E5"> to demonstrate that I do listen</font>

19
00:00:56,610 --> 00:01:01,589
<font color="#E5E5E5">to people on Twitter so asking you shall</font>

20
00:00:58,830 --> 00:01:03,439
receive<font color="#E5E5E5"> so I'm going to start off our</font>

21
00:01:01,589 --> 00:01:06,840
talk with a little<font color="#CCCCCC"> bit of a story okay</font>

22
00:01:03,439 --> 00:01:09,210
imagine<font color="#E5E5E5"> February 2016 in Manila</font>

23
00:01:06,840 --> 00:01:11,670
<font color="#E5E5E5">Philippines</font><font color="#CCCCCC"> gentleman walks up to</font><font color="#E5E5E5"> a very</font>

24
00:01:09,210 --> 00:01:13,649
crowded casinos counter<font color="#CCCCCC"> makes a</font>

25
00:01:11,670 --> 00:01:15,630
<font color="#CCCCCC">withdrawal request they take a</font><font color="#E5E5E5"> look at</font>

26
00:01:13,650 --> 00:01:17,670
the data<font color="#CCCCCC"> you know all checks out it's a</font>

27
00:01:15,630 --> 00:01:20,009
large<font color="#E5E5E5"> amount but you know it's legit</font>

28
00:01:17,670 --> 00:01:22,380
<font color="#CCCCCC">they end up</font><font color="#E5E5E5"> loading up the suitcase full</font>

29
00:01:20,010 --> 00:01:23,850
of a large large sum of<font color="#E5E5E5"> money and then</font>

30
00:01:22,380 --> 00:01:25,050
the<font color="#E5E5E5"> gentleman just disappears in the</font>

31
00:01:23,850 --> 00:01:29,220
<font color="#E5E5E5">night never</font><font color="#CCCCCC"> to be seen</font><font color="#E5E5E5"> again</font>

32
00:01:25,050 --> 00:01:31,320
over 6,000 miles away<font color="#E5E5E5"> in the Bangladesh</font>

33
00:01:29,220 --> 00:01:34,770
<font color="#E5E5E5">the</font><font color="#CCCCCC"> Central Bank</font><font color="#E5E5E5"> of Bangladesh has just</font>

34
00:01:31,320 --> 00:01:37,080
been robbed<font color="#E5E5E5"> for 81 million dollars to</font>

35
00:01:34,770 --> 00:01:38,820
date this is<font color="#E5E5E5"> the largest bank heist in</font>

36
00:01:37,080 --> 00:01:40,408
the history of<font color="#E5E5E5"> the world and this was</font>

37
00:01:38,820 --> 00:01:42,119
all<font color="#CCCCCC"> done via the internet and</font>

38
00:01:40,409 --> 00:01:44,820
unfortunately this gentleman<font color="#CCCCCC"> right here</font>

39
00:01:42,120 --> 00:01:46,260
<font color="#CCCCCC">a</font><font color="#E5E5E5"> to Rahman central governor of the Bank</font>

40
00:01:44,820 --> 00:01:48,720
<font color="#CCCCCC">of Bangladesh ended up having to take</font>

41
00:01:46,260 --> 00:01:51,510
the fall<font color="#CCCCCC"> for it due</font><font color="#E5E5E5"> to his lack of</font>

42
00:01:48,720 --> 00:01:53,370
cybersecurity controls his bank was<font color="#CCCCCC"> the</font>

43
00:01:51,510 --> 00:01:56,159
victim of again the<font color="#CCCCCC"> largest bank heist</font>

44
00:01:53,370 --> 00:01:58,920
in history<font color="#CCCCCC"> this is just one</font><font color="#E5E5E5"> of many</font>

45
00:01:56,159 --> 00:02:00,720
<font color="#E5E5E5">different cyber attacks against the</font>

46
00:01:58,920 --> 00:02:04,260
Swift Network<font color="#CCCCCC"> this</font><font color="#E5E5E5"> is just the one that</font>

47
00:02:00,720 --> 00:02:05,880
<font color="#E5E5E5">had</font><font color="#CCCCCC"> the</font><font color="#E5E5E5"> biggest notoriety what actually</font>

48
00:02:04,260 --> 00:02:07,770
happened in<font color="#E5E5E5"> the course of this attack</font>

49
00:02:05,880 --> 00:02:10,709
was pretty interesting it was a large

50
00:02:07,770 --> 00:02:15,569
<font color="#E5E5E5">amount of bank transactions 26 to be</font>

51
00:02:10,709 --> 00:02:17,610
exact totally<font color="#E5E5E5"> 951 million dollars 26</font>

52
00:02:15,569 --> 00:02:20,129
were actually in transit at the time in

53
00:02:17,610 --> 00:02:23,279
<font color="#E5E5E5">which</font><font color="#CCCCCC"> these yes I believe this</font>

54
00:02:20,129 --> 00:02:23,750
transaction<font color="#E5E5E5"> going to the Federal Reserve</font>

55
00:02:23,279 --> 00:02:26,720
Bank<font color="#CCCCCC"> in</font>

56
00:02:23,750 --> 00:02:28,970
York was caught<font color="#E5E5E5"> what happened was is</font>

57
00:02:26,720 --> 00:02:30,650
there was a typo<font color="#CCCCCC"> the</font><font color="#E5E5E5"> words</font><font color="#CCCCCC"> foundation</font>

58
00:02:28,970 --> 00:02:32,870
was actually misspelled it was

59
00:02:30,650 --> 00:02:35,900
misspelled like fun dancing<font color="#E5E5E5"> and that's</font>

60
00:02:32,870 --> 00:02:38,000
what the visual<font color="#CCCCCC"> typo detection</font><font color="#E5E5E5"> that</font>

61
00:02:35,900 --> 00:02:40,820
human being<font color="#E5E5E5"> was the one that detected</font>

62
00:02:38,000 --> 00:02:43,070
this sort of circumstance<font color="#E5E5E5"> so with that</font>

63
00:02:40,820 --> 00:02:45,769
let me introduce myself<font color="#E5E5E5"> my</font><font color="#CCCCCC"> name is Andy</font>

64
00:02:43,070 --> 00:02:47,359
<font color="#E5E5E5">Thompson</font><font color="#CCCCCC"> I probably have the coolest job</font>

65
00:02:45,770 --> 00:02:49,580
in<font color="#CCCCCC"> the entire world I'm the strategic</font>

66
00:02:47,360 --> 00:02:51,470
<font color="#CCCCCC">advisor for cyber-ark</font><font color="#E5E5E5"> software what I</font>

67
00:02:49,580 --> 00:02:52,820
get to do is I<font color="#E5E5E5"> get</font><font color="#CCCCCC"> to help</font><font color="#E5E5E5"> customers</font>

68
00:02:51,470 --> 00:02:54,590
leverage<font color="#E5E5E5"> the product that they already</font>

69
00:02:52,820 --> 00:02:56,600
bought and just use<font color="#CCCCCC"> it to the fullest</font>

70
00:02:54,590 --> 00:02:58,670
extent<font color="#CCCCCC"> so it's a</font><font color="#E5E5E5"> really great job I get</font>

71
00:02:56,600 --> 00:02:59,810
<font color="#E5E5E5">to help people</font><font color="#CCCCCC"> right I have a</font><font color="#E5E5E5"> degree</font>

72
00:02:58,670 --> 00:03:00,890
<font color="#CCCCCC">from the University of Texas at</font>

73
00:02:59,810 --> 00:03:04,000
Arlington and management<font color="#E5E5E5"> information</font>

74
00:03:00,890 --> 00:03:07,279
systems<font color="#CCCCCC"> comp TIAA plus security</font><font color="#E5E5E5"> plus</font>

75
00:03:04,000 --> 00:03:09,320
<font color="#CCCCCC">SSCP and CISSP from is</font><font color="#E5E5E5"> e squared and I</font>

76
00:03:07,280 --> 00:03:11,239
recently got<font color="#CCCCCC"> my GG</font><font color="#E5E5E5"> pen I'm a member of</font>

77
00:03:09,320 --> 00:03:14,060
their advisory board<font color="#E5E5E5"> and I'm now one of</font>

78
00:03:11,239 --> 00:03:16,160
<font color="#E5E5E5">the</font><font color="#CCCCCC"> Stan's</font><font color="#E5E5E5"> mentors so very excited</font><font color="#CCCCCC"> about</font>

79
00:03:14,060 --> 00:03:18,470
<font color="#CCCCCC">that I'm</font><font color="#E5E5E5"> happily married and I have two</font>

80
00:03:16,160 --> 00:03:20,329
<font color="#CCCCCC">little girls at</font><font color="#E5E5E5"> home</font><font color="#CCCCCC"> and I</font><font color="#E5E5E5"> come from</font>

81
00:03:18,470 --> 00:03:22,070
Dallas<font color="#CCCCCC"> Texas and</font><font color="#E5E5E5"> so I'm really</font><font color="#CCCCCC"> active</font><font color="#E5E5E5"> in</font>

82
00:03:20,330 --> 00:03:23,720
<font color="#E5E5E5">the information security</font><font color="#CCCCCC"> community out</font>

83
00:03:22,070 --> 00:03:25,430
<font color="#E5E5E5">there right now</font><font color="#CCCCCC"> I'm a member of the</font>

84
00:03:23,720 --> 00:03:26,570
shadow systems hacker collective as well

85
00:03:25,430 --> 00:03:29,720
as one<font color="#CCCCCC"> of the</font><font color="#E5E5E5"> members of the Dallas</font>

86
00:03:26,570 --> 00:03:31,250
hackers<font color="#CCCCCC"> Association most people think</font>

87
00:03:29,720 --> 00:03:33,080
<font color="#E5E5E5">you know Andy you're the hacker in the</font>

88
00:03:31,250 --> 00:03:33,920
family<font color="#CCCCCC"> well honestly it</font><font color="#E5E5E5"> couldn't be</font>

89
00:03:33,080 --> 00:03:36,350
<font color="#E5E5E5">further from the truth</font>

90
00:03:33,920 --> 00:03:38,690
the real hacker<font color="#E5E5E5"> in my family is my</font><font color="#CCCCCC"> wife</font>

91
00:03:36,350 --> 00:03:41,540
she's what's called a travel hacker<font color="#CCCCCC"> okay</font>

92
00:03:38,690 --> 00:03:43,519
she does some<font color="#E5E5E5"> really cool stuff what she</font>

93
00:03:41,540 --> 00:03:45,560
does<font color="#E5E5E5"> is she goes in and finds like price</font>

94
00:03:43,519 --> 00:03:48,049
variations on websites and<font color="#E5E5E5"> things like</font>

95
00:03:45,560 --> 00:03:49,700
<font color="#E5E5E5">that and if they are within a certain</font>

96
00:03:48,049 --> 00:03:51,500
deviation then she'll send like push

97
00:03:49,700 --> 00:03:54,048
notifications<font color="#CCCCCC"> to get updates on error</font>

98
00:03:51,500 --> 00:03:56,269
fares<font color="#CCCCCC"> this is us in Alaska on some</font>

99
00:03:54,049 --> 00:03:58,040
glacier<font color="#CCCCCC"> just got back from</font><font color="#E5E5E5"> the laughs I</font>

100
00:03:56,269 --> 00:03:59,900
know Australia<font color="#E5E5E5"> last year the four of us</font>

101
00:03:58,040 --> 00:04:01,400
went<font color="#E5E5E5"> there</font><font color="#CCCCCC"> for like 1,200 bucks and I</font>

102
00:03:59,900 --> 00:04:03,290
<font color="#E5E5E5">think in a couple</font><font color="#CCCCCC"> of weeks</font><font color="#E5E5E5"> were going to</font>

103
00:04:01,400 --> 00:04:04,190
Easter Island<font color="#CCCCCC"> all four of</font><font color="#E5E5E5"> us for</font><font color="#CCCCCC"> life</font>

104
00:04:03,290 --> 00:04:06,290
<font color="#CCCCCC">with</font><font color="#E5E5E5"> 900 bucks</font>

105
00:04:04,190 --> 00:04:08,810
it's so awesome<font color="#CCCCCC"> Adam</font><font color="#E5E5E5"> to travel travel</font>

106
00:04:06,290 --> 00:04:11,780
<font color="#E5E5E5">hacker in the family and then we've got</font>

107
00:04:08,810 --> 00:04:13,790
her little doppelganger this is<font color="#E5E5E5"> kindling</font>

108
00:04:11,780 --> 00:04:15,739
she's exactly<font color="#E5E5E5"> like her mom she likes to</font>

109
00:04:13,790 --> 00:04:17,719
run<font color="#E5E5E5"> just like her mom she's an artist</font>

110
00:04:15,739 --> 00:04:19,700
<font color="#E5E5E5">just</font><font color="#CCCCCC"> like</font><font color="#E5E5E5"> her mom she likes to bug her</font>

111
00:04:17,720 --> 00:04:22,130
dad<font color="#E5E5E5"> about doing the dishes</font><font color="#CCCCCC"> just like her</font>

112
00:04:19,700 --> 00:04:23,780
mom<font color="#CCCCCC"> so yeah that's that's Kinley and</font>

113
00:04:22,130 --> 00:04:25,880
then I've got my<font color="#CCCCCC"> little doppelganger</font>

114
00:04:23,780 --> 00:04:27,909
Charlotte now you know how a lot<font color="#E5E5E5"> of kids</font>

115
00:04:25,880 --> 00:04:31,640
<font color="#E5E5E5">like go to sleep with like</font><font color="#CCCCCC"> a teddy bear</font>

116
00:04:27,910 --> 00:04:33,640
<font color="#E5E5E5">no not you Charlotte</font><font color="#CCCCCC"> the typing or</font>

117
00:04:31,640 --> 00:04:36,289
keyboard<font color="#CCCCCC"> just a chip off the old block</font>

118
00:04:33,640 --> 00:04:37,520
<font color="#E5E5E5">so before I go</font><font color="#CCCCCC"> into further detail want</font>

119
00:04:36,289 --> 00:04:40,909
to give a<font color="#E5E5E5"> little couple shout out</font>

120
00:04:37,520 --> 00:04:43,280
first off<font color="#CCCCCC"> doll taxes</font><font color="#E5E5E5"> association DC</font><font color="#CCCCCC"> 24</font>

121
00:04:40,910 --> 00:04:45,050
or 2-1 for North Texas<font color="#E5E5E5"> cybersecurity</font>

122
00:04:43,280 --> 00:04:47,539
group in the North<font color="#E5E5E5"> Texas is</font><font color="#CCCCCC"> essay</font>

123
00:04:45,050 --> 00:04:49,520
chapters all great people<font color="#E5E5E5"> specifically</font>

124
00:04:47,539 --> 00:04:52,099
<font color="#CCCCCC">mr. TJ Adams and when know from</font>

125
00:04:49,520 --> 00:04:54,258
cyber-ark<font color="#E5E5E5"> TJ's here the building</font><font color="#CCCCCC"> today</font>

126
00:04:52,099 --> 00:04:56,990
<font color="#CCCCCC">and just my team customer success</font><font color="#E5E5E5"> and</font>

127
00:04:54,259 --> 00:04:58,190
then most importantly we couldn't be

128
00:04:56,990 --> 00:05:00,020
<font color="#E5E5E5">doing this administration without the</font>

129
00:04:58,190 --> 00:05:02,300
people that developed the<font color="#E5E5E5"> PowerShell</font>

130
00:05:00,020 --> 00:05:04,909
<font color="#E5E5E5">Empire exploitation framework so harm</font>

131
00:05:02,300 --> 00:05:07,819
<font color="#CCCCCC">Joyce</font><font color="#E5E5E5"> sixth of enigma reverse shell</font>

132
00:05:04,910 --> 00:05:10,069
<font color="#CCCCCC">Killswitch and</font><font color="#E5E5E5"> warrior all these guys</font>

133
00:05:07,819 --> 00:05:12,259
are contributors<font color="#E5E5E5"> of this PowerShell I</font>

134
00:05:10,069 --> 00:05:14,449
have<font color="#E5E5E5"> Empire framework we can</font><font color="#CCCCCC"> do</font><font color="#E5E5E5"> this</font>

135
00:05:12,259 --> 00:05:15,620
again<font color="#E5E5E5"> without them so we're going to</font>

136
00:05:14,449 --> 00:05:17,389
give<font color="#E5E5E5"> you a rundown of what this talk is</font>

137
00:05:15,620 --> 00:05:19,190
today I'm really<font color="#CCCCCC"> excited about</font><font color="#E5E5E5"> this talk</font>

138
00:05:17,389 --> 00:05:20,780
<font color="#CCCCCC">because it's really</font><font color="#E5E5E5"> kind of a purple</font><font color="#CCCCCC"> ok</font>

139
00:05:19,190 --> 00:05:22,069
we're going<font color="#E5E5E5"> to</font><font color="#CCCCCC"> start it off with the red</font>

140
00:05:20,780 --> 00:05:24,979
<font color="#E5E5E5">team side we're going to actually</font>

141
00:05:22,069 --> 00:05:27,050
<font color="#E5E5E5">demonstrate from soup to nuts an entire</font>

142
00:05:24,979 --> 00:05:28,520
golden ticket attack<font color="#E5E5E5"> then we're going to</font>

143
00:05:27,050 --> 00:05:30,800
follow<font color="#E5E5E5"> it up with the second part</font><font color="#CCCCCC"> the</font>

144
00:05:28,520 --> 00:05:31,969
<font color="#E5E5E5">blue side of</font><font color="#CCCCCC"> this talk</font><font color="#E5E5E5"> and then that way</font>

145
00:05:30,800 --> 00:05:33,889
we're going<font color="#E5E5E5"> to talk</font><font color="#CCCCCC"> about identity</font>

146
00:05:31,970 --> 00:05:35,810
<font color="#E5E5E5">access management best practices and</font>

147
00:05:33,889 --> 00:05:38,060
demonstrate how each one<font color="#E5E5E5"> of the controls</font>

148
00:05:35,810 --> 00:05:39,979
<font color="#E5E5E5">could be put in to</font><font color="#CCCCCC"> fort the attack that</font>

149
00:05:38,060 --> 00:05:41,509
we previously<font color="#E5E5E5"> demonstrated then we're</font>

150
00:05:39,979 --> 00:05:42,830
going to<font color="#E5E5E5"> open it</font><font color="#CCCCCC"> up</font><font color="#E5E5E5"> to Q&A</font><font color="#CCCCCC"> and</font><font color="#E5E5E5"> then</font>

151
00:05:41,509 --> 00:05:46,070
whatever you choose<font color="#CCCCCC"> to do after that</font><font color="#E5E5E5"> is</font>

152
00:05:42,830 --> 00:05:48,859
<font color="#E5E5E5">up to you so we're going to talk</font><font color="#CCCCCC"> about a</font>

153
00:05:46,070 --> 00:05:51,770
golden ticket<font color="#E5E5E5"> attack</font><font color="#CCCCCC"> okay what this</font>

154
00:05:48,860 --> 00:05:54,320
whole get thing in is again a<font color="#CCCCCC"> principle</font>

155
00:05:51,770 --> 00:05:57,320
<font color="#CCCCCC">concept I did in</font><font color="#E5E5E5"> my lab and with open</font>

156
00:05:54,320 --> 00:05:58,460
<font color="#E5E5E5">source PowerShell</font><font color="#CCCCCC"> Empire mimic ATS</font><font color="#E5E5E5"> what</font>

157
00:05:57,320 --> 00:06:00,800
<font color="#CCCCCC">not were able</font><font color="#E5E5E5"> to do this golden ticket</font>

158
00:05:58,460 --> 00:06:02,090
attack<font color="#E5E5E5"> it would look realistically about</font>

159
00:06:00,800 --> 00:06:03,949
six minutes<font color="#CCCCCC"> it would</font><font color="#E5E5E5"> have been a lot</font>

160
00:06:02,090 --> 00:06:07,340
faster if<font color="#CCCCCC"> I used to have</font><font color="#E5E5E5"> autocomplete on</font>

161
00:06:03,949 --> 00:06:09,319
the terrible<font color="#E5E5E5"> violence so some more</font>

162
00:06:07,340 --> 00:06:11,840
<font color="#E5E5E5">warnings ahead of time here</font><font color="#CCCCCC"> using the</font>

163
00:06:09,319 --> 00:06:13,099
disclaimers<font color="#CCCCCC"> one the attack that I'm</font>

164
00:06:11,840 --> 00:06:14,900
actually going<font color="#E5E5E5"> to demonstrate my lab</font>

165
00:06:13,099 --> 00:06:17,630
didn't actually happen like this<font color="#E5E5E5"> in real</font>

166
00:06:14,900 --> 00:06:20,330
life<font color="#CCCCCC"> in</font><font color="#E5E5E5"> reality that we</font><font color="#CCCCCC"> actually</font>

167
00:06:17,630 --> 00:06:22,159
determine<font color="#E5E5E5"> there were three different apt</font>

168
00:06:20,330 --> 00:06:24,199
players in the Central Bank in

169
00:06:22,159 --> 00:06:26,120
Bangladesh<font color="#E5E5E5"> when this went</font><font color="#CCCCCC"> down not only</font>

170
00:06:24,199 --> 00:06:28,460
<font color="#CCCCCC">was that this particular Asian crime</font>

171
00:06:26,120 --> 00:06:30,830
syndicate<font color="#E5E5E5"> but the North Koreans</font><font color="#CCCCCC"> and the</font>

172
00:06:28,460 --> 00:06:33,859
<font color="#E5E5E5">Iranians were both in the same network</font>

173
00:06:30,830 --> 00:06:35,690
at the<font color="#CCCCCC"> same time</font><font color="#E5E5E5"> just the fact that the</font>

174
00:06:33,860 --> 00:06:37,460
<font color="#CCCCCC">Asian</font><font color="#E5E5E5"> crime syndicate was the first one</font>

175
00:06:35,690 --> 00:06:40,490
to pull the trigger<font color="#CCCCCC"> is what made it so</font>

176
00:06:37,460 --> 00:06:42,258
notable the second part is is there's

177
00:06:40,490 --> 00:06:44,979
more<font color="#CCCCCC"> than one way to skin a cat here in</font>

178
00:06:42,259 --> 00:06:47,000
this attack<font color="#CCCCCC"> I use PowerShell empire</font>

179
00:06:44,979 --> 00:06:48,289
<font color="#CCCCCC">Metasploit it's a great exploitation</font>

180
00:06:47,000 --> 00:06:50,610
framework and it does the exact same

181
00:06:48,289 --> 00:06:53,370
<font color="#E5E5E5">thing</font><font color="#CCCCCC"> but</font><font color="#E5E5E5"> even deeper there are so many</font>

182
00:06:50,610 --> 00:06:55,710
functions<font color="#E5E5E5"> that we could have run</font><font color="#CCCCCC"> even</font>

183
00:06:53,370 --> 00:06:57,030
<font color="#CCCCCC">just in the same exploitation framework</font>

184
00:06:55,710 --> 00:07:00,120
that could<font color="#E5E5E5"> have done things in a little</font>

185
00:06:57,030 --> 00:07:02,090
<font color="#CCCCCC">bit</font><font color="#E5E5E5"> better manner</font><font color="#CCCCCC"> user hunter for</font>

186
00:07:00,120 --> 00:07:05,310
example is an amazingly powerful

187
00:07:02,090 --> 00:07:07,080
<font color="#E5E5E5">function in PowerShell</font><font color="#CCCCCC"> Empire</font><font color="#E5E5E5"> however it</font>

188
00:07:05,310 --> 00:07:07,889
didn't work in my lab<font color="#E5E5E5"> so again there's</font>

189
00:07:07,080 --> 00:07:09,840
more than one<font color="#CCCCCC"> way to go about</font>

190
00:07:07,889 --> 00:07:12,000
<font color="#E5E5E5">accomplishing the end goal here and then</font>

191
00:07:09,840 --> 00:07:14,008
lastly I'm sorry to tell you if we're

192
00:07:12,000 --> 00:07:17,729
not dropping any<font color="#CCCCCC"> zero-days there's</font><font color="#E5E5E5"> no</font>

193
00:07:14,009 --> 00:07:20,250
tax going<font color="#E5E5E5"> on this is all simple simple</font>

194
00:07:17,729 --> 00:07:22,979
stuff<font color="#CCCCCC"> I guarantee there's a YouTube</font>

195
00:07:20,250 --> 00:07:24,180
<font color="#E5E5E5">video with no pad and crappy techno</font>

196
00:07:22,979 --> 00:07:25,229
music that's<font color="#E5E5E5"> going to demonstrate the</font>

197
00:07:24,180 --> 00:07:27,150
same thing I'm<font color="#E5E5E5"> talking with you guys</font>

198
00:07:25,229 --> 00:07:28,859
about<font color="#E5E5E5"> today in fact I've often joked</font>

199
00:07:27,150 --> 00:07:30,359
that<font color="#E5E5E5"> this is so easy you can be a</font>

200
00:07:28,860 --> 00:07:33,750
400-pound hacker<font color="#CCCCCC"> in your parents</font>

201
00:07:30,360 --> 00:07:35,909
<font color="#E5E5E5">baseball to do this</font><font color="#CCCCCC"> ok alright so we're</font>

202
00:07:33,750 --> 00:07:37,949
going to talk<font color="#CCCCCC"> today about</font><font color="#E5E5E5"> Kerberos</font>

203
00:07:35,909 --> 00:07:40,710
attacks<font color="#CCCCCC"> all</font><font color="#E5E5E5"> right I'm going to need some</font>

204
00:07:37,949 --> 00:07:42,689
<font color="#CCCCCC">volunteers today</font><font color="#E5E5E5"> to demonstrate what</font>

205
00:07:40,710 --> 00:07:44,460
this golden ticket<font color="#CCCCCC"> attack</font><font color="#E5E5E5"> actually looks</font>

206
00:07:42,689 --> 00:07:46,979
like so<font color="#E5E5E5"> can I have</font><font color="#CCCCCC"> a raise</font><font color="#E5E5E5"> of hands</font>

207
00:07:44,460 --> 00:07:48,688
<font color="#E5E5E5">otherwise I'm going to pick you</font><font color="#CCCCCC"> okay</font>

208
00:07:46,979 --> 00:07:49,800
you're in the front row I'm sorry if

209
00:07:48,689 --> 00:07:51,900
you're gonna have to be one<font color="#E5E5E5"> of them if</font>

210
00:07:49,800 --> 00:07:54,259
you don't<font color="#E5E5E5"> mind all I need you to do is</font>

211
00:07:51,900 --> 00:07:56,818
<font color="#E5E5E5">just read</font><font color="#CCCCCC"> this really really</font><font color="#E5E5E5"> loud</font><font color="#CCCCCC"> okay</font>

212
00:07:54,259 --> 00:07:59,039
you<font color="#E5E5E5"> are let's see the client don't we</font>

213
00:07:56,819 --> 00:08:01,169
<font color="#E5E5E5">here you go here's another one and it</font>

214
00:07:59,039 --> 00:08:03,330
passed it<font color="#E5E5E5"> back</font><font color="#CCCCCC"> there</font>

215
00:08:01,169 --> 00:08:05,008
<font color="#E5E5E5">all right Oh who's the user but our</font>

216
00:08:03,330 --> 00:08:06,870
domain controller<font color="#E5E5E5"> raise your hand if</font>

217
00:08:05,009 --> 00:08:09,060
you're the domain controller<font color="#CCCCCC"> all right</font>

218
00:08:06,870 --> 00:08:10,680
so I got some<font color="#CCCCCC"> tickets for you alright</font>

219
00:08:09,060 --> 00:08:12,839
<font color="#E5E5E5">you are going to be responsible for</font>

220
00:08:10,680 --> 00:08:18,180
<font color="#CCCCCC">Daddy</font><font color="#E5E5E5"> giving these out</font><font color="#CCCCCC"> all</font><font color="#E5E5E5"> right so go</font>

221
00:08:12,839 --> 00:08:21,449
ahead this<font color="#CCCCCC"> is the</font><font color="#E5E5E5"> regular user should be</font>

222
00:08:18,180 --> 00:08:24,020
<font color="#E5E5E5">highlighted</font><font color="#CCCCCC"> all</font><font color="#E5E5E5"> right</font>

223
00:08:21,449 --> 00:08:24,020
go<font color="#CCCCCC"> ahead</font>

224
00:08:35,909 --> 00:08:41,289
<font color="#E5E5E5">all right so the domain controller has</font>

225
00:08:38,979 --> 00:08:43,479
<font color="#CCCCCC">authenticated the user</font><font color="#E5E5E5"> and is giving him</font>

226
00:08:41,289 --> 00:08:45,399
a ticket<font color="#E5E5E5"> and that ticket is</font><font color="#CCCCCC"> the key</font>

227
00:08:43,479 --> 00:08:47,940
thing here<font color="#E5E5E5"> that's the implied trust</font><font color="#CCCCCC"> all</font>

228
00:08:45,399 --> 00:08:47,940
<font color="#E5E5E5">right go ahead</font>

229
00:08:50,459 --> 00:09:01,209
all right all<font color="#E5E5E5"> right</font><font color="#CCCCCC"> good</font><font color="#E5E5E5"> give ever those</font>

230
00:09:00,010 --> 00:09:04,839
<font color="#E5E5E5">on my hand thank you guys</font>

231
00:09:01,209 --> 00:09:06,729
<font color="#E5E5E5">appreciate it all right so you guys saw</font>

232
00:09:04,839 --> 00:09:08,950
<font color="#CCCCCC">what the Kerberos is and it's like pure</font>

233
00:09:06,730 --> 00:09:10,720
essence<font color="#E5E5E5"> okay we're about</font><font color="#CCCCCC"> to do again</font><font color="#E5E5E5"> a</font>

234
00:09:08,950 --> 00:09:17,170
golden<font color="#E5E5E5"> ticket attack</font><font color="#CCCCCC"> and it's going</font><font color="#E5E5E5"> to</font>

235
00:09:10,720 --> 00:09:19,240
<font color="#E5E5E5">look something like this that's right</font>

236
00:09:17,170 --> 00:09:21,339
Thank<font color="#CCCCCC"> You TJ</font><font color="#E5E5E5"> so we're going to hijack</font>

237
00:09:19,240 --> 00:09:23,050
<font color="#E5E5E5">the Kerberos process that's what we're</font>

238
00:09:21,339 --> 00:09:25,630
<font color="#E5E5E5">going to do</font><font color="#CCCCCC"> today</font><font color="#E5E5E5"> what this is is just</font>

239
00:09:23,050 --> 00:09:28,359
part of the advanced targeted attack

240
00:09:25,630 --> 00:09:31,029
<font color="#E5E5E5">well what is an advanced targeted attack</font>

241
00:09:28,360 --> 00:09:33,190
<font color="#CCCCCC">us well it's actually kind</font><font color="#E5E5E5"> of simple it</font>

242
00:09:31,029 --> 00:09:34,750
<font color="#CCCCCC">just means</font><font color="#E5E5E5"> that they have a targeted</font>

243
00:09:33,190 --> 00:09:37,000
<font color="#E5E5E5">attack in which they've got in your</font>

244
00:09:34,750 --> 00:09:39,130
organization for a long<font color="#E5E5E5"> extensive period</font>

245
00:09:37,000 --> 00:09:41,470
of time<font color="#E5E5E5"> these attackers know your</font>

246
00:09:39,130 --> 00:09:42,820
<font color="#E5E5E5">networks better than your systems do</font>

247
00:09:41,470 --> 00:09:45,070
that's how<font color="#E5E5E5"> long they've been in your</font>

248
00:09:42,820 --> 00:09:46,570
organization this<font color="#E5E5E5"> is in direct contrast</font>

249
00:09:45,070 --> 00:09:48,610
to<font color="#E5E5E5"> the</font><font color="#CCCCCC"> other types of attacks that</font><font color="#E5E5E5"> we</font>

250
00:09:46,570 --> 00:09:50,260
see in our play field<font color="#CCCCCC"> today there's a</font>

251
00:09:48,610 --> 00:09:52,260
standard attack that we're<font color="#E5E5E5"> seeing most</font>

252
00:09:50,260 --> 00:09:55,450
often<font color="#CCCCCC"> are denial of service attacks</font>

253
00:09:52,260 --> 00:09:57,730
<font color="#E5E5E5">standard DDoS followed by opportunistic</font>

254
00:09:55,450 --> 00:09:59,649
ran a<font color="#E5E5E5"> in point attack that they</font><font color="#CCCCCC"> contain</font>

255
00:09:57,730 --> 00:10:01,149
malware<font color="#E5E5E5"> and ransomware and then followed</font>

256
00:09:59,649 --> 00:10:03,640
by<font color="#E5E5E5"> what we call our quick targeted</font>

257
00:10:01,149 --> 00:10:06,130
attacks these are the<font color="#E5E5E5"> gentlemen calling</font>

258
00:10:03,640 --> 00:10:08,140
from Microsoft with very thick accents

259
00:10:06,130 --> 00:10:09,730
trying to you know do something<font color="#CCCCCC"> on your</font>

260
00:10:08,140 --> 00:10:11,680
<font color="#E5E5E5">computer</font><font color="#CCCCCC"> those are the quick</font><font color="#E5E5E5"> target</font>

261
00:10:09,730 --> 00:10:13,000
<font color="#E5E5E5">attacks they go in they attack they get</font>

262
00:10:11,680 --> 00:10:15,459
out and<font color="#E5E5E5"> they're done they move on to the</font>

263
00:10:13,000 --> 00:10:17,380
<font color="#E5E5E5">next guy</font><font color="#CCCCCC"> we're going to talk</font><font color="#E5E5E5"> now about</font>

264
00:10:15,459 --> 00:10:18,819
the<font color="#E5E5E5"> phases</font><font color="#CCCCCC"> of this</font><font color="#E5E5E5"> advanced target</font>

265
00:10:17,380 --> 00:10:21,189
<font color="#CCCCCC">attack what you're going to</font><font color="#E5E5E5"> notice</font><font color="#CCCCCC"> here</font>

266
00:10:18,820 --> 00:10:23,199
<font color="#E5E5E5">is something very very</font><font color="#CCCCCC"> similar to well</font>

267
00:10:21,190 --> 00:10:24,699
standard penetration test<font color="#CCCCCC"> just about</font>

268
00:10:23,199 --> 00:10:28,269
everything the only<font color="#E5E5E5"> difference between</font>

269
00:10:24,699 --> 00:10:31,149
an apt<font color="#E5E5E5"> targeted tax pays versus anything</font>

270
00:10:28,269 --> 00:10:33,550
else is<font color="#E5E5E5"> just the length of runway again</font>

271
00:10:31,149 --> 00:10:35,410
a pen test engagement red team they may

272
00:10:33,550 --> 00:10:37,839
be<font color="#CCCCCC"> doing their engagement for</font><font color="#E5E5E5"> two</font><font color="#CCCCCC"> three</font>

273
00:10:35,410 --> 00:10:40,810
<font color="#CCCCCC">weeks well an advanced re</font><font color="#E5E5E5"> attack may be</font>

274
00:10:37,839 --> 00:10:42,940
doing<font color="#CCCCCC"> this for two three</font><font color="#E5E5E5"> years</font><font color="#CCCCCC"> okay so</font>

275
00:10:40,810 --> 00:10:45,319
<font color="#E5E5E5">again because phases are still the same</font>

276
00:10:42,940 --> 00:10:47,630
<font color="#E5E5E5">and this is like pen tester 101 stuff</font>

277
00:10:45,320 --> 00:10:49,820
first base open source<font color="#E5E5E5"> intelligence</font>

278
00:10:47,630 --> 00:10:52,750
gathering external<font color="#E5E5E5"> ringing on okay</font>

279
00:10:49,820 --> 00:10:54,890
<font color="#CCCCCC">followed by the actual</font><font color="#E5E5E5"> breach the actual</font>

280
00:10:52,750 --> 00:10:56,810
foothold into<font color="#CCCCCC"> the network and we'll</font>

281
00:10:54,890 --> 00:10:57,640
demonstrate<font color="#CCCCCC"> that as</font><font color="#E5E5E5"> part of the demo the</font>

282
00:10:56,810 --> 00:10:59,390
next phase<font color="#CCCCCC"> is the</font><font color="#E5E5E5"> internal</font>

283
00:10:57,640 --> 00:11:01,130
<font color="#E5E5E5">reconnaissance</font><font color="#CCCCCC"> we'll go into this in</font><font color="#E5E5E5"> a</font>

284
00:10:59,390 --> 00:11:02,510
bit of<font color="#CCCCCC"> detail further they're really</font>

285
00:11:01,130 --> 00:11:04,130
kind<font color="#CCCCCC"> of learning</font><font color="#E5E5E5"> more about the network</font>

286
00:11:02,510 --> 00:11:05,870
<font color="#E5E5E5">learning</font><font color="#CCCCCC"> more about</font><font color="#E5E5E5"> the users and how</font>

287
00:11:04,130 --> 00:11:08,510
far you can extend<font color="#E5E5E5"> your attitude</font>

288
00:11:05,870 --> 00:11:10,100
the next phase<font color="#E5E5E5"> is the lateral movement</font>

289
00:11:08,510 --> 00:11:13,250
<font color="#CCCCCC">phase</font><font color="#E5E5E5"> this</font><font color="#CCCCCC"> is</font><font color="#E5E5E5"> the part we're trying to</font>

290
00:11:10,100 --> 00:11:14,240
<font color="#E5E5E5">extend the breadth of our access okay so</font>

291
00:11:13,250 --> 00:11:16,310
what we're<font color="#CCCCCC"> going to do is we're</font><font color="#E5E5E5"> going to</font>

292
00:11:14,240 --> 00:11:18,440
find<font color="#E5E5E5"> out who has the</font><font color="#CCCCCC"> access we need</font><font color="#E5E5E5"> to</font>

293
00:11:16,310 --> 00:11:20,359
get we go laterally move to that<font color="#E5E5E5"> machine</font>

294
00:11:18,440 --> 00:11:22,370
<font color="#E5E5E5">and then</font><font color="#CCCCCC"> we extend our control by</font>

295
00:11:20,360 --> 00:11:24,380
getting those credentials<font color="#CCCCCC"> the next phase</font>

296
00:11:22,370 --> 00:11:26,480
<font color="#E5E5E5">is really where the golden ticket attack</font>

297
00:11:24,380 --> 00:11:28,480
comes<font color="#CCCCCC"> up</font><font color="#E5E5E5"> this is the domain</font><font color="#CCCCCC"> compromise</font>

298
00:11:26,480 --> 00:11:31,550
<font color="#CCCCCC">this is where we establish permanent</font>

299
00:11:28,480 --> 00:11:33,620
<font color="#CCCCCC">persistence</font><font color="#E5E5E5"> on the network</font><font color="#CCCCCC"> the last</font>

300
00:11:31,550 --> 00:11:35,270
thing is once we've established our hold

301
00:11:33,620 --> 00:11:37,100
in the entire<font color="#CCCCCC"> organization we can do</font>

302
00:11:35,270 --> 00:11:39,800
anything<font color="#E5E5E5"> we want</font><font color="#CCCCCC"> time to move to our</font>

303
00:11:37,100 --> 00:11:41,270
<font color="#E5E5E5">inking and depending on what your</font>

304
00:11:39,800 --> 00:11:42,949
motives are will depend<font color="#CCCCCC"> on what your</font>

305
00:11:41,270 --> 00:11:45,920
<font color="#E5E5E5">endgame actually is we could be</font>

306
00:11:42,950 --> 00:11:47,390
<font color="#E5E5E5">corrupting data we could be causing a</font>

307
00:11:45,920 --> 00:11:49,579
<font color="#CCCCCC">complete denial of service it just</font>

308
00:11:47,390 --> 00:11:54,740
depends<font color="#E5E5E5"> on again what's your</font><font color="#CCCCCC"> endgame</font><font color="#E5E5E5"> is</font>

309
00:11:49,580 --> 00:11:59,330
so<font color="#CCCCCC"> oh what is that oh</font><font color="#E5E5E5"> crap</font><font color="#CCCCCC"> anybody have</font>

310
00:11:54,740 --> 00:12:01,790
any Bitcoin okay<font color="#CCCCCC"> all right so let's</font>

311
00:11:59,330 --> 00:12:02,810
<font color="#E5E5E5">start off with</font><font color="#CCCCCC"> the</font><font color="#E5E5E5"> breach okay this is</font>

312
00:12:01,790 --> 00:12:05,150
what we're going<font color="#E5E5E5"> to do we're going</font><font color="#CCCCCC"> to</font>

313
00:12:02,810 --> 00:12:07,400
move over<font color="#CCCCCC"> to our demo again</font><font color="#E5E5E5"> I flew in</font>

314
00:12:05,150 --> 00:12:08,930
from Dallas<font color="#E5E5E5"> last night and TSA really</font>

315
00:12:07,400 --> 00:12:11,770
hates sacrificial animals in<font color="#E5E5E5"> your</font>

316
00:12:08,930 --> 00:12:18,920
carry-on<font color="#E5E5E5"> so this is a recorded demo</font>

317
00:12:11,770 --> 00:12:21,890
let's see here<font color="#E5E5E5"> so again what we're using</font>

318
00:12:18,920 --> 00:12:23,630
today<font color="#E5E5E5"> is just PowerShell Empire it's got</font>

319
00:12:21,890 --> 00:12:25,610
the<font color="#E5E5E5"> built-in functions with mini cats</font>

320
00:12:23,630 --> 00:12:27,380
that load it into memory<font color="#E5E5E5"> that's all we</font>

321
00:12:25,610 --> 00:12:30,830
need<font color="#E5E5E5"> so what we were</font><font color="#CCCCCC"> able to do is we</font>

322
00:12:27,380 --> 00:12:33,170
were<font color="#CCCCCC"> able to create</font><font color="#E5E5E5"> a malicious</font><font color="#CCCCCC"> excel</font>

323
00:12:30,830 --> 00:12:35,150
document with<font color="#CCCCCC"> a macro a standard user</font>

324
00:12:33,170 --> 00:12:38,120
with local admin permissions opens up to

325
00:12:35,150 --> 00:12:40,730
<font color="#CCCCCC">an excel</font><font color="#E5E5E5"> document</font><font color="#CCCCCC"> and away we go</font>

326
00:12:38,120 --> 00:12:42,680
what you'll see on the c2 server is an

327
00:12:40,730 --> 00:12:46,940
agent has connected now we have shell

328
00:12:42,680 --> 00:12:48,410
<font color="#E5E5E5">access as that user pretty cool</font><font color="#CCCCCC"> anything</font>

329
00:12:46,940 --> 00:12:50,330
you want<font color="#E5E5E5"> to do you</font><font color="#CCCCCC"> can do</font><font color="#E5E5E5"> it from this</font>

330
00:12:48,410 --> 00:12:53,000
shell here<font color="#CCCCCC"> so now what we</font><font color="#E5E5E5"> need to do is</font>

331
00:12:50,330 --> 00:12:55,850
elevate our privileges<font color="#CCCCCC"> and there's a</font>

332
00:12:53,000 --> 00:12:59,360
real great command called bypass<font color="#CCCCCC"> UIC and</font>

333
00:12:55,850 --> 00:13:01,429
it does just<font color="#CCCCCC"> that</font><font color="#E5E5E5"> bypasses the UAC</font>

334
00:12:59,360 --> 00:13:03,589
we click that<font color="#CCCCCC"> we press execute and a new</font>

335
00:13:01,429 --> 00:13:05,839
shell connects this is a new shell that

336
00:13:03,589 --> 00:13:07,670
has that<font color="#E5E5E5"> bypass UAC permissions and we</font>

337
00:13:05,839 --> 00:13:10,009
can extend our command functionality so

338
00:13:07,670 --> 00:13:11,929
we can do more with<font color="#CCCCCC"> that shell which</font>

339
00:13:10,009 --> 00:13:15,920
really kind<font color="#E5E5E5"> of leads to</font><font color="#CCCCCC"> the</font><font color="#E5E5E5"> next phase</font>

340
00:13:11,929 --> 00:13:18,049
of the attack<font color="#CCCCCC"> and yeah the</font><font color="#E5E5E5"> next phase</font>

341
00:13:15,920 --> 00:13:21,079
and we're now interfacing<font color="#CCCCCC"> with that</font>

342
00:13:18,049 --> 00:13:22,790
<font color="#E5E5E5">noodle and that leads us to move on to</font>

343
00:13:21,079 --> 00:13:25,549
the next phase of<font color="#E5E5E5"> this attack and</font><font color="#CCCCCC"> that's</font>

344
00:13:22,790 --> 00:13:26,988
really internal reconnaissance here<font color="#CCCCCC"> what</font>

345
00:13:25,549 --> 00:13:28,879
we want<font color="#E5E5E5"> to do is we want to find what</font>

346
00:13:26,989 --> 00:13:31,339
<font color="#CCCCCC">computer's exist on the network</font><font color="#E5E5E5"> who's</font>

347
00:13:28,879 --> 00:13:33,559
logged<font color="#CCCCCC"> onto</font><font color="#E5E5E5"> those machines and what kind</font>

348
00:13:31,339 --> 00:13:34,999
of privileges I can get I know this is a

349
00:13:33,559 --> 00:13:35,749
bit of a side note<font color="#CCCCCC"> but</font><font color="#E5E5E5"> if you get a</font>

350
00:13:34,999 --> 00:13:38,239
chance

351
00:13:35,749 --> 00:13:40,970
<font color="#CCCCCC">finneus</font><font color="#E5E5E5"> Fisher did a write-up on his</font>

352
00:13:38,239 --> 00:13:44,360
breach of hacking team and he explicitly

353
00:13:40,970 --> 00:13:46,189
<font color="#E5E5E5">said that</font><font color="#CCCCCC"> this admin the people with the</font>

354
00:13:44,360 --> 00:13:48,980
access<font color="#E5E5E5"> or the people that he goes after</font>

355
00:13:46,189 --> 00:13:50,269
<font color="#E5E5E5">and that's what pentesters blackcats</font>

356
00:13:48,980 --> 00:13:52,009
they all want to<font color="#E5E5E5"> go after the people</font>

357
00:13:50,269 --> 00:13:52,999
<font color="#E5E5E5">with the keys to the kingdom</font><font color="#CCCCCC"> and</font><font color="#E5E5E5"> so</font>

358
00:13:52,009 --> 00:13:54,230
that's what we're<font color="#E5E5E5"> going to do in this</font>

359
00:13:52,999 --> 00:13:56,329
<font color="#E5E5E5">attack we're going to go try to find a</font>

360
00:13:54,230 --> 00:13:58,220
<font color="#E5E5E5">domain admin and see what we can do and</font>

361
00:13:56,329 --> 00:14:02,049
how<font color="#CCCCCC"> come what we can do with their Krebs</font>

362
00:13:58,220 --> 00:14:02,049
<font color="#CCCCCC">ok so let's jump back</font><font color="#E5E5E5"> into the show</font>

363
00:14:05,379 --> 00:14:10,220
so this reconnaissance phase is

364
00:14:08,209 --> 00:14:11,569
consisting of<font color="#CCCCCC"> just a few</font><font color="#E5E5E5"> commands and</font>

365
00:14:10,220 --> 00:14:13,069
again there's multiple ways different

366
00:14:11,569 --> 00:14:14,089
<font color="#E5E5E5">commands that we could have run here but</font>

367
00:14:13,069 --> 00:14:16,399
the<font color="#E5E5E5"> first thing</font><font color="#CCCCCC"> that we're going to</font><font color="#E5E5E5"> do</font>

368
00:14:14,089 --> 00:14:19,129
is we want to see who those privileged

369
00:14:16,399 --> 00:14:23,209
users are<font color="#CCCCCC"> ok there's a function very</font>

370
00:14:19,129 --> 00:14:25,339
simple it's<font color="#E5E5E5"> called get group members so</font>

371
00:14:23,209 --> 00:14:28,819
again I'm a terrible<font color="#CCCCCC"> typer tab</font>

372
00:14:25,339 --> 00:14:31,189
autocomplete<font color="#E5E5E5"> save</font><font color="#CCCCCC"> meter find</font><font color="#E5E5E5"> policy get</font>

373
00:14:28,819 --> 00:14:33,229
group members one<font color="#CCCCCC"> of</font><font color="#E5E5E5"> the properties we</font>

374
00:14:31,189 --> 00:14:35,480
<font color="#CCCCCC">can define is what security group we can</font>

375
00:14:33,230 --> 00:14:38,779
take any security group we want and

376
00:14:35,480 --> 00:14:40,519
press execute<font color="#E5E5E5"> and we're provided with</font><font color="#CCCCCC"> a</font>

377
00:14:38,779 --> 00:14:42,589
<font color="#E5E5E5">list I decided we want to see who the</font>

378
00:14:40,519 --> 00:14:44,149
domain admins were<font color="#CCCCCC"> ok</font><font color="#E5E5E5"> so you press</font>

379
00:14:42,589 --> 00:14:47,959
<font color="#E5E5E5">execute and then you're provided</font><font color="#CCCCCC"> with a</font>

380
00:14:44,149 --> 00:14:50,299
list<font color="#E5E5E5"> any user with read-only permissions</font>

381
00:14:47,959 --> 00:14:52,248
to<font color="#E5E5E5"> Active Directory can facilitate this</font>

382
00:14:50,299 --> 00:14:54,259
level of reconnaissance<font color="#CCCCCC"> you don't have</font>

383
00:14:52,249 --> 00:14:56,360
to be a<font color="#E5E5E5"> domain admin to just read these</font>

384
00:14:54,259 --> 00:14:58,129
sort of objects so we<font color="#CCCCCC"> find there's two</font>

385
00:14:56,360 --> 00:15:00,079
domain admins on this very small<font color="#E5E5E5"> demo</font>

386
00:14:58,129 --> 00:15:03,290
the next command that we're going to run

387
00:15:00,079 --> 00:15:05,449
is simply put get computer we<font color="#E5E5E5"> want to</font>

388
00:15:03,290 --> 00:15:08,179
find the computer<font color="#CCCCCC"> object</font><font color="#E5E5E5"> there Ln Active</font>

389
00:15:05,449 --> 00:15:10,819
<font color="#E5E5E5">Directory again this is a very small</font>

390
00:15:08,179 --> 00:15:12,470
demo<font color="#E5E5E5"> but you can see that there are just</font>

391
00:15:10,819 --> 00:15:13,969
a handful of servers here

392
00:15:12,470 --> 00:15:15,560
<font color="#E5E5E5">what we're going</font><font color="#CCCCCC"> to be interested in</font><font color="#E5E5E5"> is</font>

393
00:15:13,970 --> 00:15:17,120
<font color="#CCCCCC">two</font><font color="#E5E5E5"> servers the</font><font color="#CCCCCC"> Swift server which is</font>

394
00:15:15,560 --> 00:15:18,800
completely locked down<font color="#E5E5E5"> nobody can get</font>

395
00:15:17,120 --> 00:15:20,840
into<font color="#CCCCCC"> it</font><font color="#E5E5E5"> but there's no other one this is</font>

396
00:15:18,800 --> 00:15:22,790
<font color="#CCCCCC">a lile server</font><font color="#E5E5E5"> from</font><font color="#CCCCCC"> a</font><font color="#E5E5E5"> pen testers</font>

397
00:15:20,840 --> 00:15:25,820
perspective file servers print servers

398
00:15:22,790 --> 00:15:27,829
<font color="#E5E5E5">tend to have deviated permissions as</font>

399
00:15:25,820 --> 00:15:29,360
compared<font color="#E5E5E5"> to other application servers so</font>

400
00:15:27,830 --> 00:15:31,400
<font color="#E5E5E5">that one will be an</font><font color="#CCCCCC"> interesting</font><font color="#E5E5E5"> one we</font>

401
00:15:29,360 --> 00:15:35,120
want<font color="#E5E5E5"> to check out so let's do that</font><font color="#CCCCCC"> let's</font>

402
00:15:31,400 --> 00:15:36,740
<font color="#CCCCCC">find</font><font color="#E5E5E5"> the get loop get local group define</font>

403
00:15:35,120 --> 00:15:38,330
that particular file server<font color="#E5E5E5"> and say</font>

404
00:15:36,740 --> 00:15:40,730
let's<font color="#E5E5E5"> find out who the</font><font color="#CCCCCC"> local admins are</font>

405
00:15:38,330 --> 00:15:42,470
on<font color="#E5E5E5"> that box</font><font color="#CCCCCC"> okay again</font><font color="#E5E5E5"> we press execute</font>

406
00:15:40,730 --> 00:15:44,840
<font color="#E5E5E5">and we're presented</font><font color="#CCCCCC"> with a</font><font color="#E5E5E5"> list of the</font>

407
00:15:42,470 --> 00:15:47,630
local administrators on that file server

408
00:15:44,840 --> 00:15:49,340
<font color="#CCCCCC">and all with read-only rights just</font>

409
00:15:47,630 --> 00:15:51,200
happen the standard user that we

410
00:15:49,340 --> 00:15:52,880
<font color="#CCCCCC">originally compromised happens</font><font color="#E5E5E5"> to be</font>

411
00:15:51,200 --> 00:15:55,730
also<font color="#E5E5E5"> a local admin on that box</font>

412
00:15:52,880 --> 00:15:57,590
how convenient right that means that

413
00:15:55,730 --> 00:15:59,350
conceivably we can<font color="#E5E5E5"> pivot to</font><font color="#CCCCCC"> that box</font>

414
00:15:57,590 --> 00:16:01,190
using<font color="#E5E5E5"> the account when we</font><font color="#CCCCCC"> already</font><font color="#E5E5E5"> have</font>

415
00:15:59,350 --> 00:16:05,720
the next thing that we're going to<font color="#E5E5E5"> run</font>

416
00:16:01,190 --> 00:16:07,280
is a command called<font color="#E5E5E5"> get logged on what</font>

417
00:16:05,720 --> 00:16:08,660
do you<font color="#E5E5E5"> think that does right we find out</font>

418
00:16:07,280 --> 00:16:11,180
<font color="#CCCCCC">who's</font><font color="#E5E5E5"> actually logged</font><font color="#CCCCCC"> onto that</font><font color="#E5E5E5"> files</font>

419
00:16:08,660 --> 00:16:12,439
<font color="#CCCCCC">their route so again we defined that</font><font color="#E5E5E5"> we</font>

420
00:16:11,180 --> 00:16:14,719
want to<font color="#CCCCCC"> know</font><font color="#E5E5E5"> who's logged</font><font color="#CCCCCC"> onto that</font><font color="#E5E5E5"> file</font>

421
00:16:12,440 --> 00:16:16,280
server<font color="#E5E5E5"> right</font><font color="#CCCCCC"> now we press execute and</font>

422
00:16:14,720 --> 00:16:18,740
we're provided with a list<font color="#CCCCCC"> hey look at</font>

423
00:16:16,280 --> 00:16:20,959
that<font color="#CCCCCC"> a domain</font><font color="#E5E5E5"> admin happens to be logged</font>

424
00:16:18,740 --> 00:16:22,700
<font color="#CCCCCC">onto</font><font color="#E5E5E5"> that</font><font color="#CCCCCC"> machine meaning that if</font><font color="#E5E5E5"> we're</font>

425
00:16:20,960 --> 00:16:24,650
<font color="#E5E5E5">able to dump cred to offer that trial</font>

426
00:16:22,700 --> 00:16:25,070
server<font color="#E5E5E5"> we can</font><font color="#CCCCCC"> get that domain admins</font>

427
00:16:24,650 --> 00:16:27,770
creds

428
00:16:25,070 --> 00:16:30,380
pretty<font color="#E5E5E5"> interesting huh that leads us</font><font color="#CCCCCC"> to</font>

429
00:16:27,770 --> 00:16:32,150
the<font color="#CCCCCC"> next phase of this attack</font><font color="#E5E5E5"> this is</font>

430
00:16:30,380 --> 00:16:33,740
<font color="#E5E5E5">the</font><font color="#CCCCCC"> lateral movement phase</font><font color="#E5E5E5"> what we're</font>

431
00:16:32,150 --> 00:16:35,750
<font color="#E5E5E5">going to do here is we're going to move</font>

432
00:16:33,740 --> 00:16:37,280
<font color="#E5E5E5">now</font><font color="#CCCCCC"> that we</font><font color="#E5E5E5"> think that we</font><font color="#CCCCCC"> have access to</font>

433
00:16:35,750 --> 00:16:39,050
<font color="#E5E5E5">we're going to move over</font><font color="#CCCCCC"> that vile</font>

434
00:16:37,280 --> 00:16:40,850
server<font color="#CCCCCC"> then we're going to</font><font color="#E5E5E5"> use</font><font color="#CCCCCC"> mini</font><font color="#E5E5E5"> cats</font>

435
00:16:39,050 --> 00:16:42,859
<font color="#E5E5E5">to load into</font><font color="#CCCCCC"> memory</font><font color="#E5E5E5"> it's not going to</font>

436
00:16:40,850 --> 00:16:44,540
<font color="#E5E5E5">write on disk so signature-based AV is</font>

437
00:16:42,860 --> 00:16:45,980
not to be able<font color="#E5E5E5"> to detect this and</font><font color="#CCCCCC"> we're</font>

438
00:16:44,540 --> 00:16:48,500
<font color="#E5E5E5">going to be able to dump the creds off</font>

439
00:16:45,980 --> 00:16:51,160
that file server<font color="#CCCCCC"> okay once we do that</font>

440
00:16:48,500 --> 00:16:54,530
<font color="#E5E5E5">all it gets okay it gets fun after that</font>

441
00:16:51,160 --> 00:16:57,730
<font color="#E5E5E5">so let's jump</font><font color="#CCCCCC"> back over to</font><font color="#E5E5E5"> the show and</font>

442
00:16:54,530 --> 00:16:57,730
get that<font color="#E5E5E5"> domain admin cred</font>

443
00:17:02,309 --> 00:17:06,928
<font color="#E5E5E5">all right so what we're going to do is</font>

444
00:17:04,599 --> 00:17:09,520
we're going<font color="#CCCCCC"> to interface with</font><font color="#E5E5E5"> the</font>

445
00:17:06,929 --> 00:17:11,679
elevated UAC command<font color="#CCCCCC"> we're going to do</font>

446
00:17:09,520 --> 00:17:14,589
this<font color="#E5E5E5"> we're going</font><font color="#CCCCCC"> to insert some</font><font color="#E5E5E5"> command</font>

447
00:17:11,679 --> 00:17:17,289
line code<font color="#CCCCCC"> it's</font><font color="#E5E5E5"> encoded</font><font color="#CCCCCC"> there's different</font>

448
00:17:14,589 --> 00:17:18,789
ways<font color="#E5E5E5"> to</font><font color="#CCCCCC"> do this WM IPS exec</font><font color="#E5E5E5"> PL remoting</font>

449
00:17:17,289 --> 00:17:21,039
you name is but I just<font color="#CCCCCC"> chose to</font><font color="#E5E5E5"> do the</font>

450
00:17:18,789 --> 00:17:23,020
invoke command with some encoded strings

451
00:17:21,039 --> 00:17:25,359
<font color="#E5E5E5">it sends that command to</font><font color="#CCCCCC"> the profile</font>

452
00:17:23,020 --> 00:17:27,129
<font color="#E5E5E5">server we press execute or enter and</font>

453
00:17:25,359 --> 00:17:29,740
then what you'll see right<font color="#CCCCCC"> here is a new</font>

454
00:17:27,130 --> 00:17:32,770
shell is going<font color="#E5E5E5"> to connect to</font><font color="#CCCCCC"> our system</font>

455
00:17:29,740 --> 00:17:35,320
that is the new shell<font color="#CCCCCC"> on our print</font>

456
00:17:32,770 --> 00:17:37,240
server<font color="#E5E5E5"> so now</font><font color="#CCCCCC"> we've total</font><font color="#E5E5E5"> successfully</font>

457
00:17:35,320 --> 00:17:38,950
completed the lateral<font color="#E5E5E5"> movement we're</font>

458
00:17:37,240 --> 00:17:41,049
going to jump on to that particular

459
00:17:38,950 --> 00:17:42,880
shell and demonstrate<font color="#CCCCCC"> that we are</font>

460
00:17:41,049 --> 00:17:45,010
<font color="#CCCCCC">actually that machine so we're going to</font>

461
00:17:42,880 --> 00:17:46,809
<font color="#E5E5E5">do a hostname and we're going to see</font>

462
00:17:45,010 --> 00:17:49,270
that we<font color="#CCCCCC"> are indeed on</font><font color="#E5E5E5"> the file server</font>

463
00:17:46,809 --> 00:17:50,500
<font color="#CCCCCC">great but we were on it who am i we</font>

464
00:17:49,270 --> 00:17:52,480
still see<font color="#E5E5E5"> hey we're</font><font color="#CCCCCC"> this still the</font>

465
00:17:50,500 --> 00:17:54,940
standard user we haven't<font color="#CCCCCC"> become that</font>

466
00:17:52,480 --> 00:17:56,799
domain<font color="#E5E5E5"> admin right so that leaves it</font>

467
00:17:54,940 --> 00:17:59,080
with the next<font color="#E5E5E5"> base we're on the</font><font color="#CCCCCC"> Preds</font>

468
00:17:56,799 --> 00:18:00,039
command and<font color="#E5E5E5"> just demonstrate that oh we</font>

469
00:17:59,080 --> 00:18:03,580
got to get<font color="#E5E5E5"> back into our shell</font>

470
00:18:00,039 --> 00:18:06,549
sorry we're going<font color="#CCCCCC"> to</font><font color="#E5E5E5"> jump</font><font color="#CCCCCC"> back on</font><font color="#E5E5E5"> to the</font>

471
00:18:03,580 --> 00:18:07,899
file server<font color="#E5E5E5"> run the creds command to</font>

472
00:18:06,549 --> 00:18:08,668
demonstrate there's no passwords in this

473
00:18:07,899 --> 00:18:11,320
file right<font color="#CCCCCC"> here</font>

474
00:18:08,669 --> 00:18:13,539
however we were on<font color="#CCCCCC"> mini cat puts it</font><font color="#E5E5E5"> into</font>

475
00:18:11,320 --> 00:18:16,480
memory<font color="#E5E5E5"> and we're provided with hashes</font>

476
00:18:13,539 --> 00:18:18,908
<font color="#CCCCCC">and clear text of all our passwords</font><font color="#E5E5E5"> let</font>

477
00:18:16,480 --> 00:18:20,740
me<font color="#E5E5E5"> in</font><font color="#CCCCCC"> 1 is our domain</font><font color="#E5E5E5"> admin password but</font>

478
00:18:18,909 --> 00:18:21,730
we also have the patch<font color="#CCCCCC"> so now what we're</font>

479
00:18:20,740 --> 00:18:23,919
<font color="#CCCCCC">going</font><font color="#E5E5E5"> to do is we're going</font><font color="#CCCCCC"> to pass the</font>

480
00:18:21,730 --> 00:18:26,470
hash<font color="#E5E5E5"> and we're going</font><font color="#CCCCCC"> to do</font><font color="#E5E5E5"> this all</font>

481
00:18:23,919 --> 00:18:29,710
again within<font color="#CCCCCC"> PowerShell we steal</font><font color="#E5E5E5"> that</font>

482
00:18:26,470 --> 00:18:31,899
token of the pit from cmd.exe running as

483
00:18:29,710 --> 00:18:34,179
the domain admin and we have officially

484
00:18:31,899 --> 00:18:36,250
passed the hash<font color="#CCCCCC"> we have become the</font>

485
00:18:34,179 --> 00:18:38,169
domain<font color="#E5E5E5"> administrator</font><font color="#CCCCCC"> anything that</font>

486
00:18:36,250 --> 00:18:40,210
domain<font color="#E5E5E5"> admins can do we now have the</font>

487
00:18:38,169 --> 00:18:42,700
capacity<font color="#CCCCCC"> to do</font><font color="#E5E5E5"> which leads us</font><font color="#CCCCCC"> to the</font>

488
00:18:40,210 --> 00:18:44,320
<font color="#E5E5E5">next phase we've established the level</font>

489
00:18:42,700 --> 00:18:46,510
of permissions that<font color="#CCCCCC"> we</font><font color="#E5E5E5"> want to execute</font>

490
00:18:44,320 --> 00:18:49,059
<font color="#E5E5E5">our in game let's now establish</font>

491
00:18:46,510 --> 00:18:51,370
permanent<font color="#E5E5E5"> persistency that's such a hard</font>

492
00:18:49,059 --> 00:18:54,940
<font color="#E5E5E5">word to say permanent or persistency try</font>

493
00:18:51,370 --> 00:18:57,100
it<font color="#CCCCCC"> so here's the one caveat to this that</font>

494
00:18:54,940 --> 00:18:59,770
I<font color="#CCCCCC"> found out</font><font color="#E5E5E5"> that they there is a way to</font>

495
00:18:57,100 --> 00:19:02,469
recover from<font color="#E5E5E5"> a golden ticket event it is</font>

496
00:18:59,770 --> 00:19:04,360
extremely extremely<font color="#E5E5E5"> difficult to do in</font>

497
00:19:02,470 --> 00:19:05,950
most<font color="#E5E5E5"> enterprise organizations it's</font>

498
00:19:04,360 --> 00:19:07,959
<font color="#E5E5E5">almost so difficult that</font><font color="#CCCCCC"> you really</font>

499
00:19:05,950 --> 00:19:11,740
can't do it<font color="#E5E5E5"> due</font><font color="#CCCCCC"> to the fact</font><font color="#E5E5E5"> you have to</font>

500
00:19:07,960 --> 00:19:13,659
have<font color="#CCCCCC"> you have</font><font color="#E5E5E5"> to have everything lined</font>

501
00:19:11,740 --> 00:19:14,770
<font color="#E5E5E5">up</font><font color="#CCCCCC"> perfectly you have to have the</font>

502
00:19:13,659 --> 00:19:16,780
synchronization between

503
00:19:14,770 --> 00:19:18,370
Active Directory domain controllers in<font color="#CCCCCC"> a</font>

504
00:19:16,780 --> 00:19:20,620
particular way<font color="#CCCCCC"> that you</font><font color="#E5E5E5"> don't cause a</font>

505
00:19:18,370 --> 00:19:22,600
storm<font color="#E5E5E5"> once you do it's called a double</font>

506
00:19:20,620 --> 00:19:25,419
<font color="#E5E5E5">tap but it's again</font><font color="#CCCCCC"> it's nearly</font>

507
00:19:22,600 --> 00:19:27,429
<font color="#CCCCCC">impossible to do but we're going</font><font color="#E5E5E5"> to go</font>

508
00:19:25,420 --> 00:19:29,590
ahead<font color="#E5E5E5"> and execute this golden ticket</font>

509
00:19:27,430 --> 00:19:31,810
attack the whole key to this<font color="#E5E5E5"> is dealing</font>

510
00:19:29,590 --> 00:19:33,850
remember how we<font color="#E5E5E5"> got those tickets</font><font color="#CCCCCC"> in our</font>

511
00:19:31,810 --> 00:19:35,950
little demo<font color="#CCCCCC"> earlier</font><font color="#E5E5E5"> we want to take</font>

512
00:19:33,850 --> 00:19:37,990
control<font color="#CCCCCC"> of the ticket generation</font><font color="#E5E5E5"> once we</font>

513
00:19:35,950 --> 00:19:39,520
take<font color="#CCCCCC"> control</font><font color="#E5E5E5"> to ticket generation that</font>

514
00:19:37,990 --> 00:19:42,100
<font color="#E5E5E5">is</font><font color="#CCCCCC"> the</font><font color="#E5E5E5"> golden ticket attack so what</font>

515
00:19:39,520 --> 00:19:44,470
we're going to do is get this<font color="#E5E5E5"> KBR TGT</font>

516
00:19:42,100 --> 00:19:47,010
hash and once we do that then we'll

517
00:19:44,470 --> 00:19:49,450
<font color="#E5E5E5">start issuing our own tickets okay and</font>

518
00:19:47,010 --> 00:19:50,590
then we're<font color="#CCCCCC"> going to go execute</font><font color="#E5E5E5"> our end</font>

519
00:19:49,450 --> 00:19:53,350
<font color="#E5E5E5">game we're going to</font><font color="#CCCCCC"> go player out with</font>

520
00:19:50,590 --> 00:19:55,449
that Swiss sir<font color="#CCCCCC"> all right so let's go</font>

521
00:19:53,350 --> 00:19:58,929
back<font color="#E5E5E5"> to the demo and show</font><font color="#CCCCCC"> you how it</font>

522
00:19:55,450 --> 00:20:01,720
<font color="#E5E5E5">works so the first thing we want to do</font>

523
00:19:58,930 --> 00:20:04,300
is get<font color="#CCCCCC"> back into that shell we're</font>

524
00:20:01,720 --> 00:20:06,250
running as the domain admin<font color="#E5E5E5"> and we're</font>

525
00:20:04,300 --> 00:20:08,080
going<font color="#E5E5E5"> to do what's called a DC sync this</font>

526
00:20:06,250 --> 00:20:09,790
is a command<font color="#CCCCCC"> that's</font><font color="#E5E5E5"> run when new domain</font>

527
00:20:08,080 --> 00:20:11,139
controllers are stood up<font color="#E5E5E5"> they reach out</font>

528
00:20:09,790 --> 00:20:12,490
<font color="#E5E5E5">to another domain controller and say hey</font>

529
00:20:11,140 --> 00:20:14,290
I'm a new domain admin I need you<font color="#E5E5E5"> to</font>

530
00:20:12,490 --> 00:20:16,360
send me<font color="#E5E5E5"> the hatches we're only concerned</font>

531
00:20:14,290 --> 00:20:18,550
<font color="#CCCCCC">about the kdr</font><font color="#E5E5E5"> TGT hash so we say let's</font>

532
00:20:16,360 --> 00:20:20,679
apply<font color="#CCCCCC"> that so</font><font color="#E5E5E5"> again we do the DC sync</font>

533
00:20:18,550 --> 00:20:23,200
and now now we're provided with the KBR

534
00:20:20,680 --> 00:20:26,250
<font color="#CCCCCC">TD T hash there it is</font><font color="#E5E5E5"> right there</font><font color="#CCCCCC"> now we</font>

535
00:20:23,200 --> 00:20:29,290
can do<font color="#CCCCCC"> anything with that KBR</font><font color="#E5E5E5"> T V T hash</font>

536
00:20:26,250 --> 00:20:32,230
<font color="#E5E5E5">with in PowerShell Empire there's a very</font>

537
00:20:29,290 --> 00:20:34,960
<font color="#E5E5E5">simple function called golden ticket now</font>

538
00:20:32,230 --> 00:20:37,720
that we have the<font color="#CCCCCC"> KBR TGT hash we define</font>

539
00:20:34,960 --> 00:20:40,750
a couple values we<font color="#E5E5E5"> can define how long</font>

540
00:20:37,720 --> 00:20:43,030
we want to have<font color="#E5E5E5"> access that the life of</font>

541
00:20:40,750 --> 00:20:43,540
that golden<font color="#E5E5E5"> ticket</font><font color="#CCCCCC"> the name</font><font color="#E5E5E5"> of it you</font>

542
00:20:43,030 --> 00:20:44,889
name it

543
00:20:43,540 --> 00:20:47,909
<font color="#E5E5E5">so again I'm going to create one called</font>

544
00:20:44,890 --> 00:20:51,580
<font color="#CCCCCC">hack the planet</font><font color="#E5E5E5"> yes</font>

545
00:20:47,910 --> 00:20:53,380
watching an old<font color="#CCCCCC"> movie that night</font><font color="#E5E5E5"> and you</font>

546
00:20:51,580 --> 00:20:55,330
press execute<font color="#E5E5E5"> and then we're provided</font>

547
00:20:53,380 --> 00:20:57,430
with a golden ticket<font color="#E5E5E5"> single golden</font>

548
00:20:55,330 --> 00:20:59,320
ticket that has<font color="#E5E5E5"> ten years</font><font color="#CCCCCC"> of life</font><font color="#E5E5E5"> that</font>

549
00:20:57,430 --> 00:21:01,390
can do anything<font color="#CCCCCC"> it wants to</font><font color="#E5E5E5"> do on that</font>

550
00:20:59,320 --> 00:21:04,300
<font color="#CCCCCC">network at this point we've officially</font>

551
00:21:01,390 --> 00:21:05,800
owned the network so now it's a<font color="#E5E5E5"> matter</font>

552
00:21:04,300 --> 00:21:07,540
<font color="#E5E5E5">of actually</font><font color="#CCCCCC"> executing or in-game</font>

553
00:21:05,800 --> 00:21:09,129
<font color="#E5E5E5">remember that machine</font><font color="#CCCCCC"> that we couldn't</font>

554
00:21:07,540 --> 00:21:10,659
get<font color="#E5E5E5"> to</font><font color="#CCCCCC"> that</font><font color="#E5E5E5"> Swift server I told you</font>

555
00:21:09,130 --> 00:21:13,180
about<font color="#E5E5E5"> well there's just</font><font color="#CCCCCC"> all the file</font>

556
00:21:10,660 --> 00:21:17,020
contents right there now it's time to

557
00:21:13,180 --> 00:21:18,130
<font color="#E5E5E5">move forward</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> the in game okay what</font>

558
00:21:17,020 --> 00:21:19,780
we're going to do is<font color="#E5E5E5"> again we're</font><font color="#CCCCCC"> going</font>

559
00:21:18,130 --> 00:21:21,550
<font color="#E5E5E5">to</font><font color="#CCCCCC"> access the</font><font color="#E5E5E5"> Swift server and rather</font>

560
00:21:19,780 --> 00:21:24,399
<font color="#E5E5E5">than to shut it</font><font color="#CCCCCC"> down or</font><font color="#E5E5E5"> do</font><font color="#CCCCCC"> something</font>

561
00:21:21,550 --> 00:21:26,139
<font color="#E5E5E5">like</font><font color="#CCCCCC"> that we're going to corrupt the</font>

562
00:21:24,400 --> 00:21:27,500
data<font color="#E5E5E5"> well we're not going</font><font color="#CCCCCC"> to corrupt it</font>

563
00:21:26,140 --> 00:21:28,610
to the point<font color="#CCCCCC"> where it</font><font color="#E5E5E5"> becomes in you</font>

564
00:21:27,500 --> 00:21:30,860
<font color="#CCCCCC">well we're just</font><font color="#E5E5E5"> going</font><font color="#CCCCCC"> to corrupt</font><font color="#E5E5E5"> it to</font>

565
00:21:28,610 --> 00:21:32,959
the point<font color="#E5E5E5"> where I get about $50,000</font>

566
00:21:30,860 --> 00:21:34,610
richer<font color="#E5E5E5"> so this is what it looks like we</font>

567
00:21:32,960 --> 00:21:36,050
go back to the demo<font color="#CCCCCC"> we're going to take</font>

568
00:21:34,610 --> 00:21:37,909
a look at the<font color="#E5E5E5"> windows side of this</font>

569
00:21:36,050 --> 00:21:39,500
<font color="#CCCCCC">alright</font><font color="#E5E5E5"> so the we switch server</font><font color="#CCCCCC"> maybe a</font>

570
00:21:37,910 --> 00:21:40,850
<font color="#CCCCCC">windows</font><font color="#E5E5E5"> box you can just</font><font color="#CCCCCC"> see all the</font>

571
00:21:39,500 --> 00:21:43,340
jobs<font color="#E5E5E5"> that are queued up in that</font>

572
00:21:40,850 --> 00:21:45,139
<font color="#CCCCCC">particular folder</font><font color="#E5E5E5"> every</font><font color="#CCCCCC"> 5</font><font color="#E5E5E5"> minutes</font><font color="#CCCCCC"> the</font>

573
00:21:43,340 --> 00:21:47,720
transactions will then be processed<font color="#CCCCCC"> so</font>

574
00:21:45,140 --> 00:21:49,490
<font color="#CCCCCC">we're going to go in and manipulate some</font>

575
00:21:47,720 --> 00:21:51,590
of<font color="#E5E5E5"> that data so instead of you know</font>

576
00:21:49,490 --> 00:21:53,720
sending you know $100,000 someplace

577
00:21:51,590 --> 00:21:56,750
we're gonna send<font color="#E5E5E5"> $50,000 to the</font><font color="#CCCCCC"> Shadow</font>

578
00:21:53,720 --> 00:21:57,230
<font color="#CCCCCC">Systems Group</font><font color="#E5E5E5"> just a matter of uploading</font>

579
00:21:56,750 --> 00:21:59,030
file

580
00:21:57,230 --> 00:22:02,540
we've circumvented any sort of<font color="#E5E5E5"> manual</font>

581
00:21:59,030 --> 00:22:04,490
controls<font color="#E5E5E5"> any visible oversight we have a</font>

582
00:22:02,540 --> 00:22:06,500
<font color="#E5E5E5">legitimate file in the system it's going</font>

583
00:22:04,490 --> 00:22:09,530
<font color="#E5E5E5">to process just as in any any other</font>

584
00:22:06,500 --> 00:22:11,990
batch job would so again<font color="#CCCCCC"> the attack</font><font color="#E5E5E5"> is</font>

585
00:22:09,530 --> 00:22:13,610
<font color="#CCCCCC">completed</font><font color="#E5E5E5"> and there we are we've got</font><font color="#CCCCCC"> a</font>

586
00:22:11,990 --> 00:22:16,970
transaction file in the system for

587
00:22:13,610 --> 00:22:19,550
<font color="#E5E5E5">50,000 congratulations the golden ticket</font>

588
00:22:16,970 --> 00:22:22,250
attack<font color="#CCCCCC"> has been completed in-game</font><font color="#E5E5E5"> is</font>

589
00:22:19,550 --> 00:22:23,899
done we<font color="#E5E5E5"> are all set that is the entire</font>

590
00:22:22,250 --> 00:22:25,550
golden ticket attack there's just one

591
00:22:23,900 --> 00:22:29,600
last thing<font color="#E5E5E5"> that we</font><font color="#CCCCCC"> have to</font><font color="#E5E5E5"> do</font><font color="#CCCCCC"> it's a</font>

592
00:22:25,550 --> 00:22:31,610
<font color="#CCCCCC">profit so</font><font color="#E5E5E5"> that is the golden ticket</font>

593
00:22:29,600 --> 00:22:33,320
<font color="#CCCCCC">attack in its purest form that's the red</font>

594
00:22:31,610 --> 00:22:35,600
<font color="#CCCCCC">team side of</font><font color="#E5E5E5"> this talk let's kind of go</font>

595
00:22:33,320 --> 00:22:37,460
<font color="#E5E5E5">flip it upside down and talk</font><font color="#CCCCCC"> about</font><font color="#E5E5E5"> how</font>

596
00:22:35,600 --> 00:22:39,230
we can<font color="#E5E5E5"> go in and prevent these sort of</font>

597
00:22:37,460 --> 00:22:41,060
<font color="#E5E5E5">attacks</font><font color="#CCCCCC"> okay</font><font color="#E5E5E5"> we're going</font><font color="#CCCCCC"> to talk about</font>

598
00:22:39,230 --> 00:22:43,730
<font color="#CCCCCC">it from a perspective identity access</font>

599
00:22:41,060 --> 00:22:46,010
management and how we can<font color="#E5E5E5"> go</font><font color="#CCCCCC"> about</font>

600
00:22:43,730 --> 00:22:48,350
correcting<font color="#CCCCCC"> all the mistakes that we saw</font>

601
00:22:46,010 --> 00:22:50,030
as part of<font color="#E5E5E5"> this previous demo the first</font>

602
00:22:48,350 --> 00:22:52,820
thing we want<font color="#E5E5E5"> to talk</font><font color="#CCCCCC"> about is in point</font>

603
00:22:50,030 --> 00:22:54,410
<font color="#E5E5E5">privilege</font><font color="#CCCCCC"> okay lease privilege is</font>

604
00:22:52,820 --> 00:22:57,409
critical in preventing<font color="#E5E5E5"> this entire</font>

605
00:22:54,410 --> 00:22:59,630
situation<font color="#E5E5E5"> if we were unable to get that</font>

606
00:22:57,410 --> 00:23:01,970
UAC elevated access<font color="#E5E5E5"> none</font><font color="#CCCCCC"> of the</font>

607
00:22:59,630 --> 00:23:04,310
reconnaissance<font color="#E5E5E5"> none of the loop activity</font>

608
00:23:01,970 --> 00:23:05,810
none of the additional payloads would

609
00:23:04,310 --> 00:23:07,760
have been able<font color="#E5E5E5"> to be injected into</font><font color="#CCCCCC"> the</font>

610
00:23:05,810 --> 00:23:09,470
<font color="#E5E5E5">system so</font><font color="#CCCCCC"> again what we need to do is</font>

611
00:23:07,760 --> 00:23:12,080
remove local administrator rights<font color="#E5E5E5"> from</font>

612
00:23:09,470 --> 00:23:16,010
<font color="#CCCCCC">the</font><font color="#E5E5E5"> end user</font><font color="#CCCCCC"> the next thing that</font><font color="#E5E5E5"> we want</font>

613
00:23:12,080 --> 00:23:18,230
<font color="#CCCCCC">to do is allow applications</font><font color="#E5E5E5"> to run that</font>

614
00:23:16,010 --> 00:23:20,360
need access<font color="#E5E5E5"> to run local administrator</font>

615
00:23:18,230 --> 00:23:22,490
<font color="#E5E5E5">so again we want to revoke local</font>

616
00:23:20,360 --> 00:23:24,260
<font color="#CCCCCC">administrator</font><font color="#E5E5E5"> access</font><font color="#CCCCCC"> from all</font><font color="#E5E5E5"> of our end</font>

617
00:23:22,490 --> 00:23:25,730
users but again allow certain

618
00:23:24,260 --> 00:23:27,470
<font color="#E5E5E5">applications</font><font color="#CCCCCC"> I used to be in the medical</font>

619
00:23:25,730 --> 00:23:29,720
<font color="#CCCCCC">industry and applications like Cerner</font>

620
00:23:27,470 --> 00:23:31,040
and<font color="#CCCCCC"> Meditec</font><font color="#E5E5E5"> they had to be local admin</font>

621
00:23:29,720 --> 00:23:34,070
to run but I didn't want<font color="#E5E5E5"> to give the</font>

622
00:23:31,040 --> 00:23:36,050
nurses or anybody else<font color="#CCCCCC"> admin access</font><font color="#E5E5E5"> to</font>

623
00:23:34,070 --> 00:23:38,240
run on the entire<font color="#E5E5E5"> operating</font><font color="#CCCCCC"> system so</font>

624
00:23:36,050 --> 00:23:39,770
with least privileged applications we

625
00:23:38,240 --> 00:23:41,270
<font color="#CCCCCC">can elevate</font><font color="#E5E5E5"> just those particular</font>

626
00:23:39,770 --> 00:23:41,990
binaries<font color="#E5E5E5"> believe the underlying</font>

627
00:23:41,270 --> 00:23:44,389
<font color="#E5E5E5">operating</font>

628
00:23:41,990 --> 00:23:46,070
<font color="#E5E5E5">and running at a standard user state the</font>

629
00:23:44,390 --> 00:23:48,830
next thing we<font color="#E5E5E5"> want to do is application</font>

630
00:23:46,070 --> 00:23:51,080
<font color="#E5E5E5">control manage application access we</font>

631
00:23:48,830 --> 00:23:53,090
want to block unauthorized applications

632
00:23:51,080 --> 00:23:54,230
and we talked earlier about<font color="#CCCCCC"> AB ecto and</font>

633
00:23:53,090 --> 00:23:56,600
some of the other different products out

634
00:23:54,230 --> 00:23:57,920
<font color="#E5E5E5">there one that</font><font color="#CCCCCC"> I work for</font><font color="#E5E5E5"> cyber-ark so</font>

635
00:23:56,600 --> 00:23:59,510
we have one is called<font color="#CCCCCC"> endpoint privilege</font>

636
00:23:57,920 --> 00:24:01,490
<font color="#CCCCCC">management that does a</font><font color="#E5E5E5"> very good job at</font>

637
00:23:59,510 --> 00:24:04,100
this<font color="#CCCCCC"> but we again we want to block</font>

638
00:24:01,490 --> 00:24:06,290
unauthorized applications but again

639
00:24:04,100 --> 00:24:07,879
allow others through this is a nightmare

640
00:24:06,290 --> 00:24:09,950
<font color="#E5E5E5">if you're</font><font color="#CCCCCC"> actually</font><font color="#E5E5E5"> trying to manage this</font>

641
00:24:07,880 --> 00:24:12,230
<font color="#CCCCCC">if you have just</font><font color="#E5E5E5"> two buckets to run from</font>

642
00:24:09,950 --> 00:24:14,870
<font color="#E5E5E5">I am basically</font><font color="#CCCCCC"> the bullets</font><font color="#E5E5E5"> that allow an</font>

643
00:24:12,230 --> 00:24:16,880
explicit<font color="#CCCCCC"> deny</font><font color="#E5E5E5"> that's very</font><font color="#CCCCCC"> difficult</font><font color="#E5E5E5"> to</font>

644
00:24:14,870 --> 00:24:19,250
actually<font color="#E5E5E5"> do so we've started a concept</font>

645
00:24:16,880 --> 00:24:21,410
of<font color="#E5E5E5"> a relisting have a third bucket that</font>

646
00:24:19,250 --> 00:24:23,540
will allow unknown<font color="#E5E5E5"> caches unknown</font>

647
00:24:21,410 --> 00:24:26,809
binaries to run<font color="#E5E5E5"> and it can be trained</font>

648
00:24:23,540 --> 00:24:29,450
away so for example let's<font color="#E5E5E5"> say want to</font>

649
00:24:26,809 --> 00:24:32,149
cry<font color="#E5E5E5"> you know let's say it or any other</font>

650
00:24:29,450 --> 00:24:33,770
ransomware for that<font color="#E5E5E5"> matter</font><font color="#CCCCCC"> we can say</font>

651
00:24:32,150 --> 00:24:35,630
well first<font color="#CCCCCC"> off that binary can't run but</font>

652
00:24:33,770 --> 00:24:36,830
<font color="#E5E5E5">we can say well let's let it run but you</font>

653
00:24:35,630 --> 00:24:40,190
can't reach back<font color="#E5E5E5"> out</font><font color="#CCCCCC"> to the internet</font>

654
00:24:36,830 --> 00:24:41,720
<font color="#E5E5E5">that prevents the encryption key</font>

655
00:24:40,190 --> 00:24:43,730
exchange<font color="#E5E5E5"> it prevents</font><font color="#CCCCCC"> on your location</font>

656
00:24:41,720 --> 00:24:44,900
<font color="#CCCCCC">it's very powerful but</font><font color="#E5E5E5"> then we could say</font>

657
00:24:43,730 --> 00:24:46,700
<font color="#CCCCCC">okay you</font><font color="#E5E5E5"> can reach out</font><font color="#CCCCCC"> to the Internet</font>

658
00:24:44,900 --> 00:24:49,610
it may be a legitimate application<font color="#E5E5E5"> but</font>

659
00:24:46,700 --> 00:24:50,929
you can't write to<font color="#E5E5E5"> the file</font><font color="#CCCCCC"> system or</font><font color="#E5E5E5"> we</font>

660
00:24:49,610 --> 00:24:52,790
can say you<font color="#CCCCCC"> can write to the</font><font color="#E5E5E5"> file</font><font color="#CCCCCC"> system</font>

661
00:24:50,929 --> 00:24:55,040
but<font color="#E5E5E5"> you can only write to</font><font color="#CCCCCC"> disk directory</font>

662
00:24:52,790 --> 00:24:56,870
or this particular<font color="#CCCCCC"> virus</font><font color="#E5E5E5"> file extension</font>

663
00:24:55,040 --> 00:25:00,409
<font color="#E5E5E5">really cool stuff that's which you can</font>

664
00:24:56,870 --> 00:25:02,689
do that now<font color="#CCCCCC"> this</font><font color="#E5E5E5"> isn't really a identity</font>

665
00:25:00,410 --> 00:25:04,520
access management control but I figured

666
00:25:02,690 --> 00:25:07,190
I<font color="#CCCCCC"> would be remiss if I didn't bring it</font>

667
00:25:04,520 --> 00:25:09,770
up I think<font color="#CCCCCC"> Network segmentation is huge</font>

668
00:25:07,190 --> 00:25:11,630
<font color="#CCCCCC">ok it's really</font><font color="#E5E5E5"> kind of isolates your</font>

669
00:25:09,770 --> 00:25:14,480
keys to the kingdom<font color="#E5E5E5"> of</font><font color="#CCCCCC"> your</font><font color="#E5E5E5"> tier 0</font>

670
00:25:11,630 --> 00:25:15,920
<font color="#E5E5E5">active the real things that you value</font><font color="#CCCCCC"> if</font>

671
00:25:14,480 --> 00:25:18,950
you can segment them and make them

672
00:25:15,920 --> 00:25:20,960
difficult<font color="#E5E5E5"> to pivot</font><font color="#CCCCCC"> to then</font><font color="#E5E5E5"> attackers</font>

673
00:25:18,950 --> 00:25:22,910
have that much of<font color="#CCCCCC"> a harder time so</font><font color="#E5E5E5"> again</font>

674
00:25:20,960 --> 00:25:24,440
if we had<font color="#E5E5E5"> network segmentation in the</font>

675
00:25:22,910 --> 00:25:26,960
previous<font color="#CCCCCC"> demo</font><font color="#E5E5E5"> we wouldn't have been</font>

676
00:25:24,440 --> 00:25:27,760
easily<font color="#CCCCCC"> able to pivot using</font><font color="#E5E5E5"> standard</font>

677
00:25:26,960 --> 00:25:31,130
protocols

678
00:25:27,760 --> 00:25:33,620
<font color="#CCCCCC">so again</font><font color="#E5E5E5"> network segmentation prevents</font>

679
00:25:31,130 --> 00:25:35,540
lateral<font color="#CCCCCC"> movie</font><font color="#E5E5E5"> but how do you use</font><font color="#CCCCCC"> your</font>

680
00:25:33,620 --> 00:25:37,550
systems in<font color="#E5E5E5"> a segmented environment well</font>

681
00:25:35,540 --> 00:25:40,030
this is where I think<font color="#E5E5E5"> privileged jump</font>

682
00:25:37,550 --> 00:25:42,409
servers or<font color="#CCCCCC"> bastion host</font><font color="#E5E5E5"> come into play</font>

683
00:25:40,030 --> 00:25:44,389
<font color="#E5E5E5">Microsoft has a white paper</font><font color="#CCCCCC"> called the</font>

684
00:25:42,410 --> 00:25:47,120
red forest<font color="#E5E5E5"> that talks about how this</font>

685
00:25:44,390 --> 00:25:49,429
<font color="#CCCCCC">should be done with basically</font><font color="#E5E5E5"> a second</font>

686
00:25:47,120 --> 00:25:52,219
laptop<font color="#E5E5E5"> or second system to be used</font><font color="#CCCCCC"> for</font>

687
00:25:49,429 --> 00:25:52,790
just<font color="#E5E5E5"> administrative use well that's kind</font>

688
00:25:52,220 --> 00:25:54,620
of<font color="#CCCCCC"> pricey</font>

689
00:25:52,790 --> 00:25:56,210
<font color="#E5E5E5">you know so this</font><font color="#CCCCCC"> is why I think jump</font>

690
00:25:54,620 --> 00:25:57,830
servers are very valuable<font color="#E5E5E5"> and</font><font color="#CCCCCC"> that you</font>

691
00:25:56,210 --> 00:25:59,810
can route all your privileged access

692
00:25:57,830 --> 00:26:01,850
through that<font color="#E5E5E5"> particular type of server</font>

693
00:25:59,810 --> 00:26:04,879
<font color="#E5E5E5">but at the same time think about</font><font color="#CCCCCC"> it this</font>

694
00:26:01,850 --> 00:26:08,419
way<font color="#CCCCCC"> you can't have to hash in</font><font color="#E5E5E5"> get mash</font>

695
00:26:04,880 --> 00:26:10,310
<font color="#CCCCCC">okay</font><font color="#E5E5E5"> so if you're on a</font><font color="#CCCCCC"> machine you are</font>

696
00:26:08,420 --> 00:26:12,530
<font color="#E5E5E5">logging in your hash</font><font color="#CCCCCC"> are the privileged</font>

697
00:26:10,310 --> 00:26:14,060
hash exists on that<font color="#E5E5E5"> machine</font><font color="#CCCCCC"> see how we</font>

698
00:26:12,530 --> 00:26:15,200
would<font color="#E5E5E5"> condemn any fats and we're able to</font>

699
00:26:14,060 --> 00:26:17,600
dump<font color="#E5E5E5"> the creds</font><font color="#CCCCCC"> of the people that</font><font color="#E5E5E5"> were</font>

700
00:26:15,200 --> 00:26:19,520
logged on well if we're out<font color="#CCCCCC"> all our</font>

701
00:26:17,600 --> 00:26:21,230
traffic<font color="#E5E5E5"> through a jump host</font><font color="#CCCCCC"> it doesn't</font>

702
00:26:19,520 --> 00:26:24,200
matter that<font color="#E5E5E5"> jump host doesn't go home on</font>

703
00:26:21,230 --> 00:26:27,830
the weekend and get<font color="#E5E5E5"> you know</font><font color="#CCCCCC"> ransomware</font>

704
00:26:24,200 --> 00:26:28,340
or you know<font color="#E5E5E5"> trojan eyes minecraft from</font>

705
00:26:27,830 --> 00:26:31,399
your kids

706
00:26:28,340 --> 00:26:33,980
you have a very<font color="#E5E5E5"> lockdown bash you knows</font>

707
00:26:31,400 --> 00:26:35,900
and all those<font color="#CCCCCC"> privileged hashes will be</font>

708
00:26:33,980 --> 00:26:37,490
stored on<font color="#E5E5E5"> that machine rather than on</font>

709
00:26:35,900 --> 00:26:41,030
<font color="#CCCCCC">your in point</font><font color="#E5E5E5"> that you can't vouch for</font>

710
00:26:37,490 --> 00:26:43,040
<font color="#CCCCCC">100% of</font><font color="#E5E5E5"> the</font><font color="#CCCCCC"> time</font><font color="#E5E5E5"> and what it also does</font>

711
00:26:41,030 --> 00:26:45,290
<font color="#CCCCCC">is allows for accounting</font><font color="#E5E5E5"> and auditing if</font>

712
00:26:43,040 --> 00:26:47,060
we have a video<font color="#E5E5E5"> or a session recording</font>

713
00:26:45,290 --> 00:26:49,340
session of what<font color="#CCCCCC"> will all happening on</font>

714
00:26:47,060 --> 00:26:51,110
that<font color="#E5E5E5"> jump box not only do you know who</font>

715
00:26:49,340 --> 00:26:53,030
<font color="#CCCCCC">use that credential</font><font color="#E5E5E5"> and</font><font color="#CCCCCC"> when but</font><font color="#E5E5E5"> you</font>

716
00:26:51,110 --> 00:26:54,679
knew<font color="#CCCCCC"> is that are you</font><font color="#E5E5E5"> know exactly what's</font>

717
00:26:53,030 --> 00:26:55,940
<font color="#E5E5E5">being done with that account</font><font color="#CCCCCC"> and I'll go</font>

718
00:26:54,680 --> 00:26:58,610
<font color="#E5E5E5">into that in a little bit more detail</font>

719
00:26:55,940 --> 00:27:00,740
<font color="#CCCCCC">let's move</font><font color="#E5E5E5"> forward on another a control</font>

720
00:26:58,610 --> 00:27:04,459
that I highly recommend<font color="#CCCCCC"> the credentials</font>

721
00:27:00,740 --> 00:27:06,670
<font color="#E5E5E5">no</font><font color="#CCCCCC"> duh</font><font color="#E5E5E5"> right</font><font color="#CCCCCC"> well there's three main</font>

722
00:27:04,460 --> 00:27:09,710
<font color="#CCCCCC">tenets</font><font color="#E5E5E5"> to</font><font color="#CCCCCC"> a really</font><font color="#E5E5E5"> really strong</font>

723
00:27:06,670 --> 00:27:12,170
credential<font color="#E5E5E5"> and what I recommend is</font>

724
00:27:09,710 --> 00:27:14,480
locking<font color="#E5E5E5"> that down you want to secure and</font>

725
00:27:12,170 --> 00:27:16,340
manage all your privileged credentials

726
00:27:14,480 --> 00:27:18,290
in your organization<font color="#CCCCCC"> so it's not</font><font color="#E5E5E5"> just</font>

727
00:27:16,340 --> 00:27:19,970
<font color="#CCCCCC">you know</font><font color="#E5E5E5"> the local administrator account</font>

728
00:27:18,290 --> 00:27:22,159
<font color="#E5E5E5">Microsoft has done a very good job</font>

729
00:27:19,970 --> 00:27:24,770
trying to prevent<font color="#E5E5E5"> pass the hash from</font>

730
00:27:22,160 --> 00:27:27,830
local systems but domain accounts are

731
00:27:24,770 --> 00:27:30,800
still easily<font color="#E5E5E5"> a bit available to abuse</font>

732
00:27:27,830 --> 00:27:33,050
for pass the hash<font color="#CCCCCC"> so again Microsoft has</font>

733
00:27:30,800 --> 00:27:35,899
been<font color="#CCCCCC"> able to lock down passing the hash</font>

734
00:27:33,050 --> 00:27:37,970
<font color="#E5E5E5">just to local accounts with the</font>

735
00:27:35,900 --> 00:27:39,260
exception of the<font color="#CCCCCC"> rid 500</font><font color="#E5E5E5"> that local</font>

736
00:27:37,970 --> 00:27:41,300
administrator<font color="#CCCCCC"> accounts</font><font color="#E5E5E5"> so that local</font>

737
00:27:39,260 --> 00:27:43,790
admin account<font color="#CCCCCC"> can still be used for pass</font>

738
00:27:41,300 --> 00:27:45,590
the hash any domain<font color="#E5E5E5"> account will still</font>

739
00:27:43,790 --> 00:27:47,389
be used for fast the hash so here's

740
00:27:45,590 --> 00:27:49,370
<font color="#E5E5E5">three recommendations for a secure</font>

741
00:27:47,390 --> 00:27:51,920
password<font color="#E5E5E5"> there's three main tenants to</font>

742
00:27:49,370 --> 00:27:54,290
it the first one is unique<font color="#E5E5E5"> passwords</font>

743
00:27:51,920 --> 00:27:56,780
<font color="#CCCCCC">okay you can't pass the hash at the pass</font>

744
00:27:54,290 --> 00:27:59,960
the<font color="#CCCCCC"> Hat is different on each</font><font color="#E5E5E5"> individual</font>

745
00:27:56,780 --> 00:28:01,430
<font color="#CCCCCC">system</font><font color="#E5E5E5"> okay very simple</font><font color="#CCCCCC"> very easy enough</font>

746
00:27:59,960 --> 00:28:03,230
to do if you've got some sort<font color="#CCCCCC"> of</font>

747
00:28:01,430 --> 00:28:04,910
automated<font color="#E5E5E5"> process for</font><font color="#CCCCCC"> that</font><font color="#E5E5E5"> the next</font>

748
00:28:03,230 --> 00:28:06,200
thing you want<font color="#CCCCCC"> is a complex password</font>

749
00:28:04,910 --> 00:28:08,060
well the

750
00:28:06,200 --> 00:28:10,880
then for<font color="#E5E5E5"> that is fairly simple</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> defeat</font>

751
00:28:08,060 --> 00:28:12,950
<font color="#E5E5E5">brute-forcing okay so which leads me to</font>

752
00:28:10,880 --> 00:28:14,600
the<font color="#CCCCCC"> next</font><font color="#E5E5E5"> tenant okay so let's say</font>

753
00:28:12,950 --> 00:28:17,870
<font color="#E5E5E5">hypothetically we have a password it</font>

754
00:28:14,600 --> 00:28:21,020
takes about one<font color="#CCCCCC"> month to</font><font color="#E5E5E5"> brute-force and</font>

755
00:28:17,870 --> 00:28:22,969
crack okay well with ever<font color="#CCCCCC"> changing</font>

756
00:28:21,020 --> 00:28:25,460
frequently rotating passwords that

757
00:28:22,970 --> 00:28:27,350
<font color="#CCCCCC">circumvent</font><font color="#E5E5E5"> that so for example if I have</font>

758
00:28:25,460 --> 00:28:29,210
a password<font color="#E5E5E5"> that's set</font><font color="#CCCCCC"> to change</font><font color="#E5E5E5"> once a</font>

759
00:28:27,350 --> 00:28:31,189
week automatically<font color="#E5E5E5"> and it takes one</font>

760
00:28:29,210 --> 00:28:33,020
<font color="#E5E5E5">month to brute-force by the time that</font>

761
00:28:31,190 --> 00:28:35,480
account is brute-force<font color="#E5E5E5"> crack that</font>

762
00:28:33,020 --> 00:28:37,040
password is<font color="#CCCCCC"> only changed three times</font><font color="#E5E5E5"> so</font>

763
00:28:35,480 --> 00:28:40,040
that's why I want to<font color="#E5E5E5"> have those three</font>

764
00:28:37,040 --> 00:28:41,810
main components<font color="#CCCCCC"> to a secure password</font><font color="#E5E5E5"> but</font>

765
00:28:40,040 --> 00:28:44,750
in addition<font color="#CCCCCC"> to credentials</font><font color="#E5E5E5"> what I</font>

766
00:28:41,810 --> 00:28:47,450
recommend is a second form<font color="#E5E5E5"> of credential</font>

767
00:28:44,750 --> 00:28:50,000
multi-factor<font color="#E5E5E5"> multi-factor is critical to</font>

768
00:28:47,450 --> 00:28:51,650
truly tie the<font color="#E5E5E5"> person using the</font>

769
00:28:50,000 --> 00:28:53,870
<font color="#E5E5E5">credential to the credential that's</font>

770
00:28:51,650 --> 00:28:55,070
actually<font color="#E5E5E5"> being used and then what we're</font>

771
00:28:53,870 --> 00:28:57,199
<font color="#E5E5E5">going to talk</font><font color="#CCCCCC"> about is what can do with</font>

772
00:28:55,070 --> 00:28:59,060
these<font color="#E5E5E5"> credentials this is a concept that</font>

773
00:28:57,200 --> 00:29:01,460
<font color="#E5E5E5">I like to call credential boundaries and</font>

774
00:28:59,060 --> 00:29:02,929
again Microsoft<font color="#E5E5E5"> has a white paper on how</font>

775
00:29:01,460 --> 00:29:05,690
to<font color="#E5E5E5"> prevent credential theft</font>

776
00:29:02,930 --> 00:29:07,330
using this particular<font color="#CCCCCC"> concept okay</font><font color="#E5E5E5"> it's</font>

777
00:29:05,690 --> 00:29:09,440
<font color="#E5E5E5">very much so what I call the horizontal</font>

778
00:29:07,330 --> 00:29:10,070
<font color="#E5E5E5">tiered boundary it'll look something</font>

779
00:29:09,440 --> 00:29:13,640
<font color="#CCCCCC">like this</font>

780
00:29:10,070 --> 00:29:15,590
<font color="#E5E5E5">all right so what you have here</font><font color="#CCCCCC"> you've</font>

781
00:29:13,640 --> 00:29:17,810
got your tier 0 asset<font color="#E5E5E5"> this</font><font color="#CCCCCC"> is what</font>

782
00:29:15,590 --> 00:29:19,909
correlates to<font color="#CCCCCC"> your first phase of your</font>

783
00:29:17,810 --> 00:29:22,070
<font color="#CCCCCC">disaster recovery program these are the</font>

784
00:29:19,910 --> 00:29:24,860
end things that your organization truly

785
00:29:22,070 --> 00:29:28,580
<font color="#E5E5E5">values so</font><font color="#CCCCCC"> forest admins</font><font color="#E5E5E5"> domain</font>

786
00:29:24,860 --> 00:29:29,929
controllers<font color="#CCCCCC"> DNS ESXi</font><font color="#E5E5E5"> hosts really the</font>

787
00:29:28,580 --> 00:29:32,300
<font color="#E5E5E5">critical components</font><font color="#CCCCCC"> to your</font>

788
00:29:29,930 --> 00:29:34,400
infrastructure<font color="#E5E5E5"> so if you have like a sim</font>

789
00:29:32,300 --> 00:29:36,080
<font color="#E5E5E5">that can monitor credential</font><font color="#CCCCCC"> use today</font>

790
00:29:34,400 --> 00:29:38,360
<font color="#E5E5E5">all right the domain admin accounts can</font>

791
00:29:36,080 --> 00:29:40,639
only operate within this particular tier

792
00:29:38,360 --> 00:29:44,780
it's found in<font color="#E5E5E5"> the subsequent lower tiers</font>

793
00:29:40,640 --> 00:29:46,700
<font color="#CCCCCC">such as the tier 1 tier or application</font>

794
00:29:44,780 --> 00:29:48,800
server tier you've got an issue<font color="#E5E5E5"> you've</font>

795
00:29:46,700 --> 00:29:50,120
<font color="#E5E5E5">got an invitation of compromise and</font><font color="#CCCCCC"> you</font>

796
00:29:48,800 --> 00:29:53,030
know<font color="#E5E5E5"> start your incident response</font>

797
00:29:50,120 --> 00:29:54,590
program so<font color="#E5E5E5"> in here's our tier</font><font color="#CCCCCC"> 1</font><font color="#E5E5E5"> asset</font>

798
00:29:53,030 --> 00:29:57,050
this<font color="#E5E5E5"> is your standard application</font>

799
00:29:54,590 --> 00:29:59,419
servers database servers<font color="#E5E5E5"> really the core</font>

800
00:29:57,050 --> 00:30:01,790
of<font color="#E5E5E5"> your organization right fair</font><font color="#CCCCCC"> enough</font>

801
00:29:59,420 --> 00:30:04,160
<font color="#E5E5E5">again your server admins will only</font>

802
00:30:01,790 --> 00:30:06,560
operate within<font color="#E5E5E5"> that horizontal boundary</font>

803
00:30:04,160 --> 00:30:09,680
if you ever find<font color="#E5E5E5"> a server admin up here</font>

804
00:30:06,560 --> 00:30:12,260
or<font color="#E5E5E5"> down</font><font color="#CCCCCC"> below on your tier 2 tier you've</font>

805
00:30:09,680 --> 00:30:13,850
got an indicator<font color="#CCCCCC"> ok</font><font color="#E5E5E5"> leads me to tier 2</font>

806
00:30:12,260 --> 00:30:15,379
<font color="#E5E5E5">these</font><font color="#CCCCCC"> are your workstation either your</font>

807
00:30:13,850 --> 00:30:18,379
<font color="#CCCCCC">in point this is where</font><font color="#E5E5E5"> help desk</font>

808
00:30:15,380 --> 00:30:19,080
<font color="#CCCCCC">operates</font><font color="#E5E5E5"> this is where you kind of have</font>

809
00:30:18,380 --> 00:30:21,570
your<font color="#E5E5E5"> lower</font>

810
00:30:19,080 --> 00:30:23,280
access<font color="#E5E5E5"> you don't find a</font><font color="#CCCCCC"> lot of</font>

811
00:30:21,570 --> 00:30:25,409
privileged accounts in your<font color="#E5E5E5"> tier</font><font color="#CCCCCC"> zero</font>

812
00:30:23,280 --> 00:30:27,480
<font color="#CCCCCC">outside of local administrators and</font>

813
00:30:25,410 --> 00:30:30,000
maybe a<font color="#CCCCCC"> helpdesk account so again if you</font>

814
00:30:27,480 --> 00:30:33,780
find a helpdesk account existing up on

815
00:30:30,000 --> 00:30:35,850
tier<font color="#E5E5E5"> one I'm going to look into so</font>

816
00:30:33,780 --> 00:30:37,290
here's a key concept<font color="#E5E5E5"> I want you guys to</font>

817
00:30:35,850 --> 00:30:39,480
write<font color="#E5E5E5"> this down if you can because this</font>

818
00:30:37,290 --> 00:30:40,350
is about<font color="#E5E5E5"> major takeaway from this entire</font>

819
00:30:39,480 --> 00:30:43,020
talk<font color="#CCCCCC"> ok</font>

820
00:30:40,350 --> 00:30:45,689
identities identities are flesh and

821
00:30:43,020 --> 00:30:48,660
<font color="#E5E5E5">blood</font><font color="#CCCCCC"> you need everybody</font><font color="#E5E5E5"> in this room</font><font color="#CCCCCC"> ok</font>

822
00:30:45,690 --> 00:30:51,210
these are passwords<font color="#CCCCCC"> accounts</font><font color="#E5E5E5"> they're</font>

823
00:30:48,660 --> 00:30:53,730
just hexadecimal that defines permission

824
00:30:51,210 --> 00:30:55,160
<font color="#E5E5E5">these are not one of the thing you don't</font>

825
00:30:53,730 --> 00:30:58,470
<font color="#CCCCCC">have</font><font color="#E5E5E5"> to have a one-to-one relationship</font>

826
00:30:55,160 --> 00:31:00,500
<font color="#CCCCCC">till the delineate permission okay</font><font color="#E5E5E5"> think</font>

827
00:30:58,470 --> 00:31:03,870
about<font color="#CCCCCC"> it like this a construction site</font>

828
00:31:00,500 --> 00:31:05,940
any<font color="#E5E5E5"> construction</font><font color="#CCCCCC"> site you</font><font color="#E5E5E5"> go to</font><font color="#CCCCCC"> you've</font>

829
00:31:03,870 --> 00:31:08,340
<font color="#E5E5E5">got a ton of people right but does every</font>

830
00:31:05,940 --> 00:31:10,590
<font color="#E5E5E5">single person have a hammer maybe what</font>

831
00:31:08,340 --> 00:31:12,870
<font color="#E5E5E5">about a skill saw maybe not what about a</font>

832
00:31:10,590 --> 00:31:13,949
bulldozer<font color="#E5E5E5"> should everybody in a</font>

833
00:31:12,870 --> 00:31:15,330
construction site need a bulldozer

834
00:31:13,950 --> 00:31:17,070
<font color="#E5E5E5">because they might need at any given</font>

835
00:31:15,330 --> 00:31:19,169
point<font color="#E5E5E5"> right</font><font color="#CCCCCC"> now that's</font><font color="#E5E5E5"> just</font><font color="#CCCCCC"> not</font>

836
00:31:17,070 --> 00:31:20,070
cost-effective<font color="#CCCCCC"> what you have instead</font><font color="#E5E5E5"> is</font>

837
00:31:19,170 --> 00:31:22,260
<font color="#E5E5E5">a</font><font color="#CCCCCC"> toolbox</font>

838
00:31:20,070 --> 00:31:24,120
what you have is<font color="#E5E5E5"> somebody is assigning</font>

839
00:31:22,260 --> 00:31:25,680
somebody to do a job<font color="#CCCCCC"> then go to the</font>

840
00:31:24,120 --> 00:31:27,899
chest<font color="#E5E5E5"> will check out the tool to do</font>

841
00:31:25,680 --> 00:31:29,640
their job<font color="#E5E5E5"> they do their job and then</font>

842
00:31:27,900 --> 00:31:31,050
they put the tool back in because<font color="#E5E5E5"> at the</font>

843
00:31:29,640 --> 00:31:32,490
end<font color="#CCCCCC"> of the day somebody goes in and</font>

844
00:31:31,050 --> 00:31:34,379
<font color="#CCCCCC">accounts for</font><font color="#E5E5E5"> all the tools to make</font><font color="#CCCCCC"> sure</font>

845
00:31:32,490 --> 00:31:38,220
<font color="#E5E5E5">they're all still in the box that is a</font>

846
00:31:34,380 --> 00:31:40,080
way to run a very shipshape construction

847
00:31:38,220 --> 00:31:41,370
site and I<font color="#E5E5E5"> recommend</font><font color="#CCCCCC"> trying to do</font>

848
00:31:40,080 --> 00:31:43,980
something<font color="#E5E5E5"> similar</font><font color="#CCCCCC"> to that</font><font color="#E5E5E5"> in your IT</font>

849
00:31:41,370 --> 00:31:44,580
organization<font color="#CCCCCC"> so think about it like</font><font color="#E5E5E5"> this</font>

850
00:31:43,980 --> 00:31:48,350
<font color="#CCCCCC">ok</font>

851
00:31:44,580 --> 00:31:50,669
here are<font color="#CCCCCC"> five sysadmin</font><font color="#E5E5E5"> standard users</font><font color="#CCCCCC"> ok</font>

852
00:31:48,350 --> 00:31:52,379
<font color="#CCCCCC">what we've seen is a lot of</font>

853
00:31:50,670 --> 00:31:54,720
organizations<font color="#E5E5E5"> have moved in this program</font>

854
00:31:52,380 --> 00:31:57,180
of creating a second account<font color="#E5E5E5"> the second</font>

855
00:31:54,720 --> 00:31:59,310
<font color="#CCCCCC">ATM</font><font color="#E5E5E5"> or</font><font color="#CCCCCC"> bank account or whatever you call</font>

856
00:31:57,180 --> 00:32:01,560
<font color="#CCCCCC">it</font><font color="#E5E5E5"> that separates the permission</font><font color="#CCCCCC"> allit</font>

857
00:31:59,310 --> 00:32:02,429
<font color="#CCCCCC">ok how many people</font><font color="#E5E5E5"> raised show of hands</font>

858
00:32:01,560 --> 00:32:04,379
<font color="#E5E5E5">have something like this in your</font>

859
00:32:02,430 --> 00:32:06,120
organization currently there's a lot of

860
00:32:04,380 --> 00:32:07,770
<font color="#E5E5E5">people</font><font color="#CCCCCC"> ok</font><font color="#E5E5E5"> so what you've just done is</font>

861
00:32:06,120 --> 00:32:09,330
<font color="#E5E5E5">you've</font><font color="#CCCCCC"> done a</font><font color="#E5E5E5"> really good thing by</font>

862
00:32:07,770 --> 00:32:12,000
<font color="#E5E5E5">breaking out the privilege from your</font>

863
00:32:09,330 --> 00:32:13,710
standard regular user account but what

864
00:32:12,000 --> 00:32:14,940
you just<font color="#E5E5E5"> did also in double your</font>

865
00:32:13,710 --> 00:32:17,070
footprint of accounts in your

866
00:32:14,940 --> 00:32:20,610
organization<font color="#E5E5E5"> so</font><font color="#CCCCCC"> look at</font><font color="#E5E5E5"> it from this</font>

867
00:32:17,070 --> 00:32:23,250
perspective somebody may be a sysadmin

868
00:32:20,610 --> 00:32:25,740
goes rogue<font color="#CCCCCC"> they get let go</font>

869
00:32:23,250 --> 00:32:28,110
HR files<font color="#E5E5E5"> of termination papers and their</font>

870
00:32:25,740 --> 00:32:29,880
standard user accounts disabled well

871
00:32:28,110 --> 00:32:31,909
<font color="#E5E5E5">there's so many workflows and unless you</font>

872
00:32:29,880 --> 00:32:34,730
have<font color="#E5E5E5"> a really robust iam program</font>

873
00:32:31,910 --> 00:32:36,770
that ATM account<font color="#E5E5E5"> may still</font><font color="#CCCCCC"> exist we</font>

874
00:32:34,730 --> 00:32:38,320
actually saw this exact well something

875
00:32:36,770 --> 00:32:40,639
similar to<font color="#E5E5E5"> this actually happened at</font>

876
00:32:38,320 --> 00:32:42,649
Columbia<font color="#E5E5E5"> of the sportswear</font><font color="#CCCCCC"> companies</font>

877
00:32:40,640 --> 00:32:44,450
<font color="#E5E5E5">someone was let go they were able to</font>

878
00:32:42,650 --> 00:32:46,670
take<font color="#E5E5E5"> an</font><font color="#CCCCCC"> existing account elevate</font><font color="#E5E5E5"> the</font>

879
00:32:44,450 --> 00:32:48,170
permissions and<font color="#E5E5E5"> create a backdoor</font><font color="#CCCCCC"> and</font>

880
00:32:46,670 --> 00:32:51,260
they were able to<font color="#CCCCCC"> access the</font>

881
00:32:48,170 --> 00:32:52,850
organization after<font color="#CCCCCC"> they left</font><font color="#E5E5E5"> over 700</font>

882
00:32:51,260 --> 00:32:56,240
<font color="#E5E5E5">times in</font><font color="#CCCCCC"> order</font><font color="#E5E5E5"> to get a</font><font color="#CCCCCC"> competitive</font>

883
00:32:52,850 --> 00:32:58,939
advantage<font color="#CCCCCC"> that sort of thing just</font><font color="#E5E5E5"> never</font>

884
00:32:56,240 --> 00:33:00,530
happened<font color="#CCCCCC"> but that case is</font><font color="#E5E5E5"> currently in</font>

885
00:32:58,940 --> 00:33:01,940
litigation currently here's what I

886
00:33:00,530 --> 00:33:05,629
recommend<font color="#E5E5E5"> okay we're going to still</font><font color="#CCCCCC"> have</font>

887
00:33:01,940 --> 00:33:07,400
our same<font color="#CCCCCC"> five standard users</font><font color="#E5E5E5"> okay we got</font>

888
00:33:05,630 --> 00:33:09,890
<font color="#E5E5E5">two halves two segments right but rather</font>

889
00:33:07,400 --> 00:33:12,470
<font color="#E5E5E5">than creating five separate</font><font color="#CCCCCC"> accounts</font>

890
00:33:09,890 --> 00:33:14,060
<font color="#E5E5E5">we're going to have one or</font><font color="#CCCCCC"> maybe two</font><font color="#E5E5E5"> if</font>

891
00:33:12,470 --> 00:33:16,180
you<font color="#E5E5E5"> have a certain use case for</font><font color="#CCCCCC"> it but</font>

892
00:33:14,060 --> 00:33:18,080
you want to<font color="#E5E5E5"> have a lot down</font>

893
00:33:16,180 --> 00:33:19,940
administrative functional account that's

894
00:33:18,080 --> 00:33:22,220
<font color="#E5E5E5">managed within some</font><font color="#CCCCCC"> sort of automatic</font>

895
00:33:19,940 --> 00:33:23,900
password system<font color="#E5E5E5"> so what you're</font>

896
00:33:22,220 --> 00:33:25,820
essentially doing is is you're taking

897
00:33:23,900 --> 00:33:28,430
going from five privileged accounts down

898
00:33:25,820 --> 00:33:31,159
to one<font color="#CCCCCC"> lockdown solid rock and roll</font>

899
00:33:28,430 --> 00:33:32,990
<font color="#E5E5E5">privilege out okay</font><font color="#CCCCCC"> so that's what we try</font>

900
00:33:31,160 --> 00:33:35,570
to<font color="#E5E5E5"> recommend from a functional account</font>

901
00:33:32,990 --> 00:33:36,710
<font color="#E5E5E5">model so this is kind of what the whole</font>

902
00:33:35,570 --> 00:33:38,629
thing<font color="#CCCCCC"> looks</font><font color="#E5E5E5"> like when you put it all</font>

903
00:33:36,710 --> 00:33:40,910
<font color="#E5E5E5">together this is what</font><font color="#CCCCCC"> a</font><font color="#E5E5E5"> standard network</font>

904
00:33:38,630 --> 00:33:42,140
would look like very flat<font color="#CCCCCC"> any credential</font>

905
00:33:40,910 --> 00:33:44,540
could access<font color="#E5E5E5"> any one of those machines</font>

906
00:33:42,140 --> 00:33:46,040
<font color="#CCCCCC">you know even though you've got</font><font color="#E5E5E5"> clearly</font>

907
00:33:44,540 --> 00:33:48,649
<font color="#E5E5E5">defined roles and functions on this</font>

908
00:33:46,040 --> 00:33:49,639
whole network<font color="#CCCCCC"> it also looks like a flat</font>

909
00:33:48,650 --> 00:33:53,270
network from<font color="#E5E5E5"> a networking perspective</font>

910
00:33:49,640 --> 00:33:54,950
<font color="#E5E5E5">right well let's try like this not only</font>

911
00:33:53,270 --> 00:33:56,600
<font color="#E5E5E5">are</font><font color="#CCCCCC"> we</font><font color="#E5E5E5"> implementing the horizontal</font>

912
00:33:54,950 --> 00:33:57,770
boundary that I talked about earlier<font color="#CCCCCC"> but</font>

913
00:33:56,600 --> 00:33:59,990
we're also having<font color="#E5E5E5"> those functional</font>

914
00:33:57,770 --> 00:34:02,510
accounts so now you're<font color="#CCCCCC"> dating them</font>

915
00:33:59,990 --> 00:34:04,880
<font color="#CCCCCC">horizontally and vertically as well so</font>

916
00:34:02,510 --> 00:34:06,590
this is what you see with credential

917
00:34:04,880 --> 00:34:07,910
boundaries and<font color="#E5E5E5"> functional account you</font>

918
00:34:06,590 --> 00:34:10,279
slap on<font color="#CCCCCC"> from lease privilege and</font>

919
00:34:07,910 --> 00:34:14,770
application control on top of it that<font color="#E5E5E5"> is</font>

920
00:34:10,280 --> 00:34:16,850
a secure<font color="#E5E5E5"> stinking</font><font color="#CCCCCC"> Network red hair</font><font color="#E5E5E5"> so</font>

921
00:34:14,770 --> 00:34:18,199
<font color="#E5E5E5">one of the latter things that we kind of</font>

922
00:34:16,850 --> 00:34:19,880
<font color="#E5E5E5">touched on earlier was you know</font>

923
00:34:18,199 --> 00:34:22,339
<font color="#CCCCCC">privilege jump boxes and where they can</font>

924
00:34:19,880 --> 00:34:24,860
<font color="#CCCCCC">be a value</font><font color="#E5E5E5"> in risk mitigation to your</font>

925
00:34:22,340 --> 00:34:26,780
organization<font color="#CCCCCC"> part of</font><font color="#E5E5E5"> that is also</font>

926
00:34:24,860 --> 00:34:29,240
<font color="#E5E5E5">monitoring I think ma during is huge</font>

927
00:34:26,780 --> 00:34:31,340
because<font color="#E5E5E5"> you</font><font color="#CCCCCC"> can monitor the privileged</font>

928
00:34:29,239 --> 00:34:33,080
access<font color="#E5E5E5"> and it's not just your sis</font><font color="#CCCCCC"> admins</font>

929
00:34:31,340 --> 00:34:36,050
it very<font color="#CCCCCC"> well-made</font><font color="#E5E5E5"> with third parties as</font>

930
00:34:33,080 --> 00:34:37,668
well<font color="#E5E5E5"> we know from the target breach it</font>

931
00:34:36,050 --> 00:34:40,100
was a target that<font color="#CCCCCC"> was initially</font>

932
00:34:37,668 --> 00:34:41,929
compromised<font color="#CCCCCC"> it was a third party HVAC</font>

933
00:34:40,100 --> 00:34:44,069
vendor and if we were able<font color="#CCCCCC"> to</font><font color="#E5E5E5"> pour if</font>

934
00:34:41,929 --> 00:34:46,410
they were able to provide<font color="#CCCCCC"> some sort</font><font color="#E5E5E5"> of</font>

935
00:34:44,070 --> 00:34:49,830
<font color="#E5E5E5">section of their own organization</font><font color="#CCCCCC"> and</font>

936
00:34:46,409 --> 00:34:52,350
route the HVAC vendor<font color="#E5E5E5"> through some sort</font>

937
00:34:49,830 --> 00:34:53,790
<font color="#E5E5E5">of</font><font color="#CCCCCC"> proxy server than they would have</font>

938
00:34:52,350 --> 00:34:55,080
<font color="#E5E5E5">been</font><font color="#CCCCCC"> able to inject their code into the</font>

939
00:34:53,790 --> 00:34:57,779
network<font color="#CCCCCC"> so again</font><font color="#E5E5E5"> I think there's some</font>

940
00:34:55,080 --> 00:35:00,420
value<font color="#E5E5E5"> in</font><font color="#CCCCCC"> that</font><font color="#E5E5E5"> as well</font><font color="#CCCCCC"> the other thing is</font>

941
00:34:57,780 --> 00:35:02,340
is a learning<font color="#CCCCCC"> if</font><font color="#E5E5E5"> we are able to see</font>

942
00:35:00,420 --> 00:35:04,200
malicious activities go down on your

943
00:35:02,340 --> 00:35:06,300
network through like a<font color="#E5E5E5"> network tab we</font>

944
00:35:04,200 --> 00:35:08,129
could detect certain indicators we've

945
00:35:06,300 --> 00:35:10,170
seen<font color="#E5E5E5"> that previously in some of our</font>

946
00:35:08,130 --> 00:35:13,020
<font color="#E5E5E5">previous other talks but things like the</font>

947
00:35:10,170 --> 00:35:15,360
defacing<font color="#E5E5E5"> would be very easily picked up</font>

948
00:35:13,020 --> 00:35:18,660
if<font color="#E5E5E5"> you have any sort</font><font color="#CCCCCC"> of</font><font color="#E5E5E5"> alerting</font><font color="#CCCCCC"> and</font>

949
00:35:15,360 --> 00:35:20,760
then also just picking<font color="#E5E5E5"> up on a behavior</font>

950
00:35:18,660 --> 00:35:23,670
of anomalies well what is<font color="#CCCCCC"> that</font><font color="#E5E5E5"> well</font>

951
00:35:20,760 --> 00:35:25,560
that's<font color="#E5E5E5"> really heuristic behavior okay</font><font color="#CCCCCC"> we</font>

952
00:35:23,670 --> 00:35:28,050
can actually<font color="#E5E5E5"> say you know standard users</font>

953
00:35:25,560 --> 00:35:29,670
logging<font color="#E5E5E5"> on Monday through Friday between</font>

954
00:35:28,050 --> 00:35:32,280
the hours of<font color="#E5E5E5"> 8:00 and 5:00</font><font color="#CCCCCC"> well there's</font>

955
00:35:29,670 --> 00:35:34,230
another same user<font color="#CCCCCC"> log um legitimately</font>

956
00:35:32,280 --> 00:35:36,960
but they're<font color="#E5E5E5"> coming in</font><font color="#CCCCCC"> from a Chinese IP</font>

957
00:35:34,230 --> 00:35:38,640
address<font color="#E5E5E5"> coming from 10:00 p.m. to 2:00</font>

958
00:35:36,960 --> 00:35:40,320
a.m. on Monday through Saturday<font color="#E5E5E5"> which</font>

959
00:35:38,640 --> 00:35:42,870
correlates to a typical<font color="#E5E5E5"> Chinese work day</font>

960
00:35:40,320 --> 00:35:44,430
by the way<font color="#CCCCCC"> those sort of things</font><font color="#E5E5E5"> even</font>

961
00:35:42,870 --> 00:35:46,529
<font color="#E5E5E5">using legitimate credentials based on</font>

962
00:35:44,430 --> 00:35:49,910
the heuristic behavior we can<font color="#CCCCCC"> to tell</font>

963
00:35:46,530 --> 00:35:52,350
<font color="#E5E5E5">Tet alerts on anomalies</font><font color="#CCCCCC"> that</font><font color="#E5E5E5"> may need</font>

964
00:35:49,910 --> 00:35:54,480
investigation<font color="#E5E5E5"> and that's really where I</font>

965
00:35:52,350 --> 00:35:56,069
see<font color="#E5E5E5"> value in sort of a monitoring of</font>

966
00:35:54,480 --> 00:35:57,750
your<font color="#CCCCCC"> users through heuristic behavior</font>

967
00:35:56,070 --> 00:36:00,660
analysis and<font color="#CCCCCC"> then all</font><font color="#E5E5E5"> what this also</font>

968
00:35:57,750 --> 00:36:02,820
<font color="#CCCCCC">does is work alert click win there are</font>

969
00:36:00,660 --> 00:36:05,310
events<font color="#CCCCCC"> outside</font><font color="#E5E5E5"> of your identity access</font>

970
00:36:02,820 --> 00:36:06,720
management control system<font color="#E5E5E5"> so for example</font>

971
00:36:05,310 --> 00:36:08,759
if you've<font color="#CCCCCC"> got all</font><font color="#E5E5E5"> your passwords locked</font>

972
00:36:06,720 --> 00:36:11,160
down<font color="#E5E5E5"> in a vault and you have to check</font>

973
00:36:08,760 --> 00:36:13,320
them in<font color="#CCCCCC"> and check them out</font><font color="#E5E5E5"> and there's a</font>

974
00:36:11,160 --> 00:36:15,330
<font color="#E5E5E5">logon event that happens on some</font>

975
00:36:13,320 --> 00:36:17,250
application server<font color="#E5E5E5"> but there's not a</font>

976
00:36:15,330 --> 00:36:17,940
correlating event on your file<font color="#E5E5E5"> or your</font>

977
00:36:17,250 --> 00:36:20,580
password<font color="#E5E5E5"> vault</font>

978
00:36:17,940 --> 00:36:22,110
<font color="#E5E5E5">somebody's circumvented your controls we</font>

979
00:36:20,580 --> 00:36:24,240
can<font color="#CCCCCC"> take immediate action and rotate</font>

980
00:36:22,110 --> 00:36:26,210
that password<font color="#E5E5E5"> like immediately so I</font>

981
00:36:24,240 --> 00:36:29,430
think<font color="#E5E5E5"> there's value</font><font color="#CCCCCC"> in</font><font color="#E5E5E5"> that as well</font>

982
00:36:26,210 --> 00:36:32,280
so to kind of conclude<font color="#E5E5E5"> there's really</font>

983
00:36:29,430 --> 00:36:34,350
four main tiers of controls that<font color="#CCCCCC"> I would</font>

984
00:36:32,280 --> 00:36:35,910
<font color="#E5E5E5">recommend to lock down your organization</font>

985
00:36:34,350 --> 00:36:38,069
<font color="#CCCCCC">from an</font><font color="#E5E5E5"> identity access management</font>

986
00:36:35,910 --> 00:36:40,020
perspective<font color="#CCCCCC"> first</font><font color="#E5E5E5"> is from the</font><font color="#CCCCCC"> endpoint</font>

987
00:36:38,070 --> 00:36:42,420
<font color="#CCCCCC">really removing local privilege and</font>

988
00:36:40,020 --> 00:36:44,430
application control<font color="#CCCCCC"> I can't speak highly</font>

989
00:36:42,420 --> 00:36:46,440
<font color="#CCCCCC">enough on application control in these</font>

990
00:36:44,430 --> 00:36:48,540
<font color="#E5E5E5">privileged you guys saw want to cry you</font>

991
00:36:46,440 --> 00:36:50,520
guys seen all the stuff that's<font color="#CCCCCC"> gone down</font>

992
00:36:48,540 --> 00:36:52,050
on ransomware<font color="#E5E5E5"> well if not me saying this</font>

993
00:36:50,520 --> 00:36:54,060
okay it's us certain FBI

994
00:36:52,050 --> 00:36:56,400
the combination of least<font color="#CCCCCC"> privilege and</font>

995
00:36:54,060 --> 00:36:58,799
application control absolutely<font color="#E5E5E5"> will</font>

996
00:36:56,400 --> 00:37:01,049
<font color="#CCCCCC">see</font><font color="#E5E5E5"> ransomware</font><font color="#CCCCCC"> the next thing is really</font>

997
00:36:58,799 --> 00:37:02,880
<font color="#E5E5E5">again not</font><font color="#CCCCCC"> necessarily</font><font color="#E5E5E5"> I am control but I</font>

998
00:37:01,049 --> 00:37:05,279
think<font color="#CCCCCC"> network segmentation is a huge</font>

999
00:37:02,880 --> 00:37:07,529
control<font color="#E5E5E5"> that needs to be put into place</font>

1000
00:37:05,279 --> 00:37:09,930
routing access through jump servers<font color="#CCCCCC"> I</font>

1001
00:37:07,529 --> 00:37:12,000
think<font color="#E5E5E5"> again that's huge</font><font color="#CCCCCC"> really</font><font color="#E5E5E5"> kind of</font>

1002
00:37:09,930 --> 00:37:14,759
holding<font color="#E5E5E5"> your users and your third party</font>

1003
00:37:12,000 --> 00:37:17,609
<font color="#CCCCCC">at third</font><font color="#E5E5E5"> party and accountable is</font>

1004
00:37:14,760 --> 00:37:19,410
critical<font color="#CCCCCC"> enforcing credential</font><font color="#E5E5E5"> tiers</font>

1005
00:37:17,609 --> 00:37:21,660
<font color="#E5E5E5">remember this is not just horizontal but</font>

1006
00:37:19,410 --> 00:37:23,339
also<font color="#E5E5E5"> vertical so the combination of</font>

1007
00:37:21,660 --> 00:37:25,920
credential boundaries<font color="#E5E5E5"> and functional</font>

1008
00:37:23,339 --> 00:37:28,230
accounts is<font color="#E5E5E5"> huge</font><font color="#CCCCCC"> the three tenets again</font>

1009
00:37:25,920 --> 00:37:30,990
of a password<font color="#CCCCCC"> unique frequently changing</font>

1010
00:37:28,230 --> 00:37:32,880
in complex passwords huge multi-factor

1011
00:37:30,990 --> 00:37:34,348
authentication<font color="#CCCCCC"> really kind of taking it</font>

1012
00:37:32,880 --> 00:37:36,960
<font color="#E5E5E5">up</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> the next level</font><font color="#CCCCCC"> and</font><font color="#E5E5E5"> I truly</font>

1013
00:37:34,349 --> 00:37:39,569
identifying the person<font color="#CCCCCC"> is what is the</font>

1014
00:37:36,960 --> 00:37:42,329
one<font color="#E5E5E5"> that your app authenticating not</font>

1015
00:37:39,569 --> 00:37:44,279
just some random<font color="#CCCCCC"> person setting alerts</font>

1016
00:37:42,329 --> 00:37:46,170
<font color="#E5E5E5">monitoring behavior and monitoring</font>

1017
00:37:44,279 --> 00:37:48,660
privileged user access again all

1018
00:37:46,170 --> 00:37:51,180
critical<font color="#CCCCCC"> components from identity access</font>

1019
00:37:48,660 --> 00:37:53,578
management perspective<font color="#E5E5E5"> on preventing</font>

1020
00:37:51,180 --> 00:37:56,368
advanced<font color="#E5E5E5"> targeted attacks well that</font>

1021
00:37:53,579 --> 00:37:59,369
concludes my talk<font color="#E5E5E5"> I'm going to</font><font color="#CCCCCC"> open this</font>

1022
00:37:56,369 --> 00:38:00,990
up to<font color="#E5E5E5"> some Q&A if you have I will be</font>

1023
00:37:59,369 --> 00:38:02,609
here<font color="#CCCCCC"> for in</font><font color="#E5E5E5"> about the next couple hours</font>

1024
00:38:00,990 --> 00:38:04,078
<font color="#E5E5E5">and I</font><font color="#CCCCCC"> gotta</font><font color="#E5E5E5"> bounce back over to Dallas</font>

1025
00:38:02,609 --> 00:38:04,619
<font color="#CCCCCC">but</font><font color="#E5E5E5"> again thank you so much for having</font>

1026
00:38:04,079 --> 00:38:06,370
me<font color="#CCCCCC"> today</font>

1027
00:38:04,619 --> 00:38:13,600
thank<font color="#E5E5E5"> you</font>

1028
00:38:06,370 --> 00:38:13,600
[Applause]

