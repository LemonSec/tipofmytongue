1
00:00:00,000 --> 00:00:08,580
afternoon everyone having a good time so

2
00:00:02,639 --> 00:00:11,729
far all right so how to arm yourself if

3
00:00:08,580 --> 00:00:14,400
you're here for pen testing you're in

4
00:00:11,730 --> 00:00:18,090
the right place if you plan on buying

5
00:00:14,400 --> 00:00:19,920
one you're in the wrong place so these

6
00:00:18,090 --> 00:00:23,130
guys are going to be talking about how

7
00:00:19,920 --> 00:00:25,320
to create your own pen test D Dropbox

8
00:00:23,130 --> 00:00:29,250
and let me go ahead and introduce them

9
00:00:25,320 --> 00:00:29,640
so first we've got Bo Bullock that's him

10
00:00:29,250 --> 00:00:33,800
right there

11
00:00:29,640 --> 00:00:36,690
and he's a security analyst pen tester

12
00:00:33,800 --> 00:00:40,379
he's been with Black Hills information

13
00:00:36,690 --> 00:00:42,180
security since 2014 and says here he's

14
00:00:40,379 --> 00:00:45,120
had a multitude of security

15
00:00:42,180 --> 00:00:51,769
certifications from A to Z you name it

16
00:00:45,120 --> 00:00:55,559
it's there we've also got Ralph May and

17
00:00:51,770 --> 00:00:57,449
apparently he's got six years of

18
00:00:55,559 --> 00:01:02,250
professional experience and information

19
00:00:57,449 --> 00:01:03,870
security six years yeah but not in

20
00:01:02,250 --> 00:01:06,840
convergence today six years is two

21
00:01:03,870 --> 00:01:09,000
minutes right yeah and he's got ten

22
00:01:06,840 --> 00:01:12,659
years in IT he's conducted security

23
00:01:09,000 --> 00:01:15,119
assessments includes physical security

24
00:01:12,659 --> 00:01:17,220
social engineering internal external

25
00:01:15,119 --> 00:01:20,939
Network and application pen testing

26
00:01:17,220 --> 00:01:24,390
Wireless assessments advanced persistent

27
00:01:20,939 --> 00:01:27,029
threat actor simulations I don't even

28
00:01:24,390 --> 00:01:30,960
know what any of those are and then of

29
00:01:27,030 --> 00:01:34,520
course we've got Derrick banks and he's

30
00:01:30,960 --> 00:01:36,929
been in the IT industry his entire life

31
00:01:34,520 --> 00:01:42,630
that's a long time do you remember a

32
00:01:36,930 --> 00:01:47,659
Nintendo so see who here does not know

33
00:01:42,630 --> 00:01:51,270
what Atari is I remember those

34
00:01:47,659 --> 00:01:54,270
and of course Derrick himself has a

35
00:01:51,270 --> 00:01:56,520
quite extensive long list forensics

36
00:01:54,270 --> 00:01:59,420
Incident Response creating custom hosts

37
00:01:56,520 --> 00:02:03,170
and network based monitoring solutions

38
00:01:59,420 --> 00:02:06,659
pentesting vulnerability analysis and

39
00:02:03,170 --> 00:02:09,479
threat modeling and he's also not a

40
00:02:06,659 --> 00:02:10,590
boring guy so in his real life he likes

41
00:02:09,479 --> 00:02:13,250
to spend his time with his family

42
00:02:10,590 --> 00:02:16,340
staying physically fit

43
00:02:13,250 --> 00:02:20,960
okay I agree with that and he likes to

44
00:02:16,340 --> 00:02:23,780
play with his bass guitar hey you know

45
00:02:20,960 --> 00:02:27,950
you sent me the ten pager I stayed up

46
00:02:23,780 --> 00:02:35,180
all night and studied I'll leave that to

47
00:02:27,950 --> 00:02:37,070
you guys and with further ado so I'm

48
00:02:35,180 --> 00:02:39,140
gonna go ahead and apologize in advance

49
00:02:37,070 --> 00:02:41,989
my voice is a little messed up I call it

50
00:02:39,140 --> 00:02:44,720
the flu last week so I swear it's not

51
00:02:41,990 --> 00:02:46,730
the corona virus I promise all right so

52
00:02:44,720 --> 00:02:48,859
I'll probably have to take a break and

53
00:02:46,730 --> 00:02:51,679
coffee everyone so also this talk is how

54
00:02:48,860 --> 00:02:53,000
to arm yourself so who here is heard of

55
00:02:51,680 --> 00:02:55,760
an ARM processor

56
00:02:53,000 --> 00:02:58,550
I assume quite a few of you right so

57
00:02:55,760 --> 00:03:03,709
this talk is about how to use ARM

58
00:02:58,550 --> 00:03:05,420
processors and offensive security so you

59
00:03:03,709 --> 00:03:07,670
just got to hear all about us so you're

60
00:03:05,420 --> 00:03:13,220
gonna hear all about us again no I'm

61
00:03:07,670 --> 00:03:16,579
just kidding so what is unarm processors

62
00:03:13,220 --> 00:03:19,489
are real quick they're small chips a

63
00:03:16,580 --> 00:03:21,709
risk base where say an Intel processors

64
00:03:19,489 --> 00:03:25,160
sis base the reduced instruction set

65
00:03:21,709 --> 00:03:27,200
made mainly for smaller low-power

66
00:03:25,160 --> 00:03:29,510
devices and you might know how many arm

67
00:03:27,200 --> 00:03:33,230
devices there are in the world ARM

68
00:03:29,510 --> 00:03:35,899
processors yet billions like a hundred

69
00:03:33,230 --> 00:03:39,470
billion it's ridiculous so you know

70
00:03:35,900 --> 00:03:40,790
smartphones IOT devices you know chances

71
00:03:39,470 --> 00:03:43,160
are they're armed and they became more

72
00:03:40,790 --> 00:03:44,630
and more powerful over the years and so

73
00:03:43,160 --> 00:03:48,859
that's sort of what we're gonna you know

74
00:03:44,630 --> 00:03:52,549
talk about yes we're gonna talk about

75
00:03:48,860 --> 00:03:54,980
arm specifically with relation to

76
00:03:52,549 --> 00:03:57,410
building your own pen test Dropbox so

77
00:03:54,980 --> 00:03:59,470
that's that's the fun part we're gonna

78
00:03:57,410 --> 00:04:01,730
walk through a few different

79
00:03:59,470 --> 00:04:03,140
characteristics you might want to think

80
00:04:01,730 --> 00:04:06,290
about when you go through building a

81
00:04:03,140 --> 00:04:08,238
Dropbox so what is the Dropbox often

82
00:04:06,290 --> 00:04:10,820
times when we're on physical engagements

83
00:04:08,239 --> 00:04:13,370
for for penetration tests there becomes

84
00:04:10,820 --> 00:04:15,650
a need for not just sitting in you know

85
00:04:13,370 --> 00:04:17,540
the corner of like a conference room and

86
00:04:15,650 --> 00:04:18,978
trying to maintain as much access as we

87
00:04:17,540 --> 00:04:21,500
can while we're there but instead

88
00:04:18,978 --> 00:04:23,090
actually leaving something behind and

89
00:04:21,500 --> 00:04:24,830
that's that's where the Dropbox comes

90
00:04:23,090 --> 00:04:26,479
into play so essentially think of it

91
00:04:24,830 --> 00:04:28,520
this way a small four

92
00:04:26,480 --> 00:04:32,090
factor computer that we can leverage

93
00:04:28,520 --> 00:04:33,650
remotely to attack on network so this

94
00:04:32,090 --> 00:04:36,560
would be something you would plug into

95
00:04:33,650 --> 00:04:38,090
physically a port on the target network

96
00:04:36,560 --> 00:04:38,540
that you're assessing you would leave it

97
00:04:38,090 --> 00:04:41,419
behind

98
00:04:38,540 --> 00:04:44,990
go out you know back back home and hack

99
00:04:41,420 --> 00:04:47,210
away from from the device remotely so

100
00:04:44,990 --> 00:04:49,790
we're gonna walk through some

101
00:04:47,210 --> 00:04:50,900
specifications some features and then

102
00:04:49,790 --> 00:04:53,360
ultimately we're gonna talk about some

103
00:04:50,900 --> 00:04:56,659
really cool attacks that we think are

104
00:04:53,360 --> 00:05:04,280
fairly unique and just just interesting

105
00:04:56,660 --> 00:05:06,560
ways to utilize the Dropbox so I'm gonna

106
00:05:04,280 --> 00:05:08,330
talk about the Dropbox history here and

107
00:05:06,560 --> 00:05:10,100
actually this really started with the

108
00:05:08,330 --> 00:05:11,599
first question that I got into and I was

109
00:05:10,100 --> 00:05:12,950
talking about a Dropbox or thinking

110
00:05:11,600 --> 00:05:17,540
about one or having to do an engagement

111
00:05:12,950 --> 00:05:19,010
and that was a builder by okay so you go

112
00:05:17,540 --> 00:05:22,460
look at the market right now for a

113
00:05:19,010 --> 00:05:23,750
Dropbox you know a drop drop device that

114
00:05:22,460 --> 00:05:26,810
you can actually buy right now it's

115
00:05:23,750 --> 00:05:29,150
pretty scarce we just looked up and I

116
00:05:26,810 --> 00:05:30,590
think the poem plug and the Pony Express

117
00:05:29,150 --> 00:05:32,900
they're not really making devices

118
00:05:30,590 --> 00:05:35,119
anymore if you guys have ever looked at

119
00:05:32,900 --> 00:05:36,679
those they're pretty expensive like a

120
00:05:35,120 --> 00:05:38,090
thousand bucks for something that you

121
00:05:36,680 --> 00:05:40,880
know we could all pretty much put

122
00:05:38,090 --> 00:05:42,049
together pretty fast so anyways just to

123
00:05:40,880 --> 00:05:44,900
kind of run through this list real quick

124
00:05:42,050 --> 00:05:46,580
so the pros of buying something is small

125
00:05:44,900 --> 00:05:47,719
form-factor right we can make this

126
00:05:46,580 --> 00:05:49,400
device really small that's why the

127
00:05:47,720 --> 00:05:51,850
iPhone is super small there's a lot of

128
00:05:49,400 --> 00:05:54,169
chips and stuff going on in there

129
00:05:51,850 --> 00:05:57,200
software firmware support hopefully we

130
00:05:54,170 --> 00:06:01,460
get some support from the vendor also

131
00:05:57,200 --> 00:06:05,570
the simple setup and they you get to use

132
00:06:01,460 --> 00:06:08,960
hacking Hardware right so but some of

133
00:06:05,570 --> 00:06:10,340
the by cons limited software CPU limits

134
00:06:08,960 --> 00:06:11,599
a lot of this stuff are a lot of the

135
00:06:10,340 --> 00:06:13,460
hardware that I've seen now like the

136
00:06:11,600 --> 00:06:16,250
hack 5 stuff not to knock on any of it

137
00:06:13,460 --> 00:06:17,810
it uses MIPS ok mips has been around for

138
00:06:16,250 --> 00:06:21,200
a long time the reason they use its low

139
00:06:17,810 --> 00:06:22,370
power cheap so on so forth but it does

140
00:06:21,200 --> 00:06:26,150
have a lot of limitations especially

141
00:06:22,370 --> 00:06:28,040
when it comes to software also you can't

142
00:06:26,150 --> 00:06:28,940
upgrade them ok so you're on an

143
00:06:28,040 --> 00:06:30,350
engagement you want to change something

144
00:06:28,940 --> 00:06:31,670
up you need something more you need

145
00:06:30,350 --> 00:06:34,610
something less you can't you don't

146
00:06:31,670 --> 00:06:35,870
really have those options right so it

147
00:06:34,610 --> 00:06:39,050
moves from there so you gotta buy

148
00:06:35,870 --> 00:06:40,500
another piece so building if we look at

149
00:06:39,050 --> 00:06:42,330
the building side you can upgrade

150
00:06:40,500 --> 00:06:43,830
we'll right you need a new wireless chip

151
00:06:42,330 --> 00:06:45,150
that works with the new OS you can get

152
00:06:43,830 --> 00:06:48,300
it right you can put it in there

153
00:06:45,150 --> 00:06:49,950
USB USB based you could build to your

154
00:06:48,300 --> 00:06:51,330
requirements okay you need something

155
00:06:49,950 --> 00:06:52,469
super small for this one engagement you

156
00:06:51,330 --> 00:06:53,849
need something bigger it doesn't matter

157
00:06:52,470 --> 00:06:55,320
and the next one you can make that

158
00:06:53,850 --> 00:06:58,050
decision

159
00:06:55,320 --> 00:06:59,340
limitless software options you know

160
00:06:58,050 --> 00:07:01,710
hardware support is only limited by the

161
00:06:59,340 --> 00:07:03,299
OS with something like an arm there's

162
00:07:01,710 --> 00:07:05,849
pretty much every code will run on an

163
00:07:03,300 --> 00:07:07,710
arm nowadays if you go look at any build

164
00:07:05,850 --> 00:07:10,350
for most applications out there there's

165
00:07:07,710 --> 00:07:11,599
an ARM version of it and you get to be a

166
00:07:10,350 --> 00:07:13,890
hacker you have to build something

167
00:07:11,600 --> 00:07:15,690
because some of the cons higher cost

168
00:07:13,890 --> 00:07:17,789
okay so putting this stuff together

169
00:07:15,690 --> 00:07:19,500
economies of scale when you start

170
00:07:17,790 --> 00:07:21,480
building hardware actually you can make

171
00:07:19,500 --> 00:07:24,000
it cheaper when you build a thousand of

172
00:07:21,480 --> 00:07:24,990
them as opposed to just one larger size

173
00:07:24,000 --> 00:07:27,480
it's hard to make them a little smaller

174
00:07:24,990 --> 00:07:30,720
and then more complex setup so those are

175
00:07:27,480 --> 00:07:32,960
just a quick rundown so here are a

176
00:07:30,720 --> 00:07:35,790
couple devices that you may have seen

177
00:07:32,960 --> 00:07:39,090
the poem plugs up there in the corner

178
00:07:35,790 --> 00:07:41,190
you got a pack five pineapple I believe

179
00:07:39,090 --> 00:07:43,200
that's the hack five land turtle and

180
00:07:41,190 --> 00:07:45,690
then some USBs you know just drop

181
00:07:43,200 --> 00:07:46,979
everywhere and then obviously you know

182
00:07:45,690 --> 00:07:48,930
building your own device your own device

183
00:07:46,979 --> 00:07:50,609
is gonna look you know whatever you want

184
00:07:48,930 --> 00:07:52,080
to look like yeah so there's a little

185
00:07:50,610 --> 00:07:53,910
bit of history I mean this is not a new

186
00:07:52,080 --> 00:07:56,130
concept at all we've been building draw

187
00:07:53,910 --> 00:07:58,320
boxes for a long time and you know

188
00:07:56,130 --> 00:08:00,540
historically I think I some of the first

189
00:07:58,320 --> 00:08:02,010
ones I saw were like the you know very

190
00:08:00,540 --> 00:08:04,320
first Raspberry Pi was like one of the

191
00:08:02,010 --> 00:08:06,200
first microcontroller devices that

192
00:08:04,320 --> 00:08:08,669
somebody used to build a drop box and

193
00:08:06,200 --> 00:08:12,210
this this particular device is one that

194
00:08:08,669 --> 00:08:14,130
I built back in 2015 this one the main

195
00:08:12,210 --> 00:08:16,650
reason I built this particular device

196
00:08:14,130 --> 00:08:18,090
was to do nak bypass which we'll talk a

197
00:08:16,650 --> 00:08:19,909
little bit more about later but

198
00:08:18,090 --> 00:08:21,900
essentially it's it's a lot of

199
00:08:19,910 --> 00:08:24,000
organizations utilize a network access

200
00:08:21,900 --> 00:08:25,080
control which basically means you can't

201
00:08:24,000 --> 00:08:26,669
just go and plug a device under the

202
00:08:25,080 --> 00:08:28,380
network so anyways I'll talk more about

203
00:08:26,669 --> 00:08:32,400
that a little bit but that was a

204
00:08:28,380 --> 00:08:34,979
BeagleBone black in 2015 in 2016 I

205
00:08:32,400 --> 00:08:36,539
actually did a little bit of blog post

206
00:08:34,979 --> 00:08:38,150
yeah this whole blog post where I did

207
00:08:36,539 --> 00:08:41,429
some research and kind of compared

208
00:08:38,150 --> 00:08:43,260
BeagleBone black with raspberry pi 3 and

209
00:08:41,429 --> 00:08:45,810
the Odroid c2 at the time and that's

210
00:08:43,260 --> 00:08:48,270
this is this device with the Odroid c2

211
00:08:45,810 --> 00:08:50,489
and this one actually I utilize on

212
00:08:48,270 --> 00:08:52,930
multiple engagements and was stellar

213
00:08:50,490 --> 00:08:55,960
like this is a fantastic drop box

214
00:08:52,930 --> 00:08:57,969
small form-factor is perfect for my

215
00:08:55,960 --> 00:09:00,250
needs this one I did not at the time

216
00:08:57,970 --> 00:09:02,980
actually utilize an LTE back channel

217
00:09:00,250 --> 00:09:06,760
this was just a Wi-Fi doc channel which

218
00:09:02,980 --> 00:09:08,620
we'll talk more about that yeah so I've

219
00:09:06,760 --> 00:09:11,860
had a little bit of experience too and

220
00:09:08,620 --> 00:09:16,750
yeah try and get this through the TSA so

221
00:09:11,860 --> 00:09:19,780
this was this was fun so this is a

222
00:09:16,750 --> 00:09:23,080
co-worker and I and 2018 we were on a

223
00:09:19,780 --> 00:09:25,000
physical engagement and we wanted to put

224
00:09:23,080 --> 00:09:28,660
a drop box in place and you can you can

225
00:09:25,000 --> 00:09:30,880
see here here the two USB dongles for

226
00:09:28,660 --> 00:09:33,069
the Ethernet and then there's the actual

227
00:09:30,880 --> 00:09:35,020
I think that was a BeagleBone now think

228
00:09:33,070 --> 00:09:39,370
about it this right here know what that

229
00:09:35,020 --> 00:09:40,750
is so that was a USB LTE device I'm

230
00:09:39,370 --> 00:09:43,180
sorry I think it was 4G actually has

231
00:09:40,750 --> 00:09:47,340
anybody ever messed with us be like

232
00:09:43,180 --> 00:09:51,130
dongles 4 cell how reliable are they

233
00:09:47,340 --> 00:09:53,290
yeah exactly I think I sat there for

234
00:09:51,130 --> 00:09:54,670
about 15 minutes with Jeff I don't know

235
00:09:53,290 --> 00:09:57,520
if he's in here he was down in the lobby

236
00:09:54,670 --> 00:10:00,699
going okay the dialer work wait wait

237
00:09:57,520 --> 00:10:03,160
wait reboot it so part of this talk was

238
00:10:00,700 --> 00:10:06,160
us actually finding something we'll talk

239
00:10:03,160 --> 00:10:08,680
about a little bit that was reliable a6

240
00:10:06,160 --> 00:10:10,180
fab LTE hat and what you can't see here

241
00:10:08,680 --> 00:10:12,370
there's this USB hub actually has a

242
00:10:10,180 --> 00:10:13,630
whole nother Wi-Fi dongle attached I

243
00:10:12,370 --> 00:10:16,180
couldn't even like fit it all in the

244
00:10:13,630 --> 00:10:18,910
picture right so part of the reason for

245
00:10:16,180 --> 00:10:20,530
this talk was us sort of standardizing

246
00:10:18,910 --> 00:10:22,480
this a little bit and making something

247
00:10:20,530 --> 00:10:24,250
that you can go build if you find this

248
00:10:22,480 --> 00:10:26,320
under your desk you've been yeah this is

249
00:10:24,250 --> 00:10:29,290
this is what you call a bad day so it

250
00:10:26,320 --> 00:10:31,600
did work granted it did work but it was

251
00:10:29,290 --> 00:10:37,300
definitely that was fun getting through

252
00:10:31,600 --> 00:10:39,070
security yeah yeah I'll talk about the

253
00:10:37,300 --> 00:10:42,120
features so some of the features when

254
00:10:39,070 --> 00:10:44,440
you're building Dropbox device covert

255
00:10:42,120 --> 00:10:45,940
putting it in a small casing plants

256
00:10:44,440 --> 00:10:47,530
other stuff like that get creative with

257
00:10:45,940 --> 00:10:49,720
it right what what's actually in an

258
00:10:47,530 --> 00:10:53,199
office well you know what should be in

259
00:10:49,720 --> 00:10:55,810
an office the physical size how much

260
00:10:53,200 --> 00:10:57,520
power do you need you know where you

261
00:10:55,810 --> 00:10:59,380
going to place this whenever I go on

262
00:10:57,520 --> 00:11:01,300
physical assessments I have a whole plan

263
00:10:59,380 --> 00:11:02,950
of what I'm gonna do how I'm gonna do it

264
00:11:01,300 --> 00:11:04,990
and how I'm gonna leave right the goal

265
00:11:02,950 --> 00:11:06,940
isn't to hang out investigate every

266
00:11:04,990 --> 00:11:09,370
single you know

267
00:11:06,940 --> 00:11:12,670
that I can find and dig up everything

268
00:11:09,370 --> 00:11:16,770
the goal is to get in execute and leave

269
00:11:12,670 --> 00:11:19,569
as fast as I can right not to hang out

270
00:11:16,770 --> 00:11:21,490
so just real quick how many people would

271
00:11:19,570 --> 00:11:23,500
question a wire going to their plant

272
00:11:21,490 --> 00:11:24,940
it's like a smart plant like maybe it

273
00:11:23,500 --> 00:11:26,650
tells you the weather or something if it

274
00:11:24,940 --> 00:11:28,180
has the weather I don't know I mean a

275
00:11:26,650 --> 00:11:30,600
pretty hip company it's a pretty good

276
00:11:28,180 --> 00:11:30,599
company

277
00:11:30,750 --> 00:11:35,350
so coms alright so this is one of the

278
00:11:33,940 --> 00:11:37,720
big ones and actually this is really the

279
00:11:35,350 --> 00:11:40,480
biggest focus point of a drop device

280
00:11:37,720 --> 00:11:42,490
okay because pretty much I can put any

281
00:11:40,480 --> 00:11:44,200
drop device in your organization and if

282
00:11:42,490 --> 00:11:45,610
it doesn't allow me to get outbound

283
00:11:44,200 --> 00:11:48,850
access then it's pretty much just a

284
00:11:45,610 --> 00:11:49,810
power sucking device so the physical

285
00:11:48,850 --> 00:11:52,330
connection how you gonna get out so

286
00:11:49,810 --> 00:11:54,640
Wi-Fi cellular back channel that's my

287
00:11:52,330 --> 00:11:56,590
new preferred way to go okay as an

288
00:11:54,640 --> 00:11:58,090
organization you can't just lock down

289
00:11:56,590 --> 00:12:01,780
all the cellular signal and your company

290
00:11:58,090 --> 00:12:03,220
okay it's an FCC thing so c2 over your

291
00:12:01,780 --> 00:12:05,230
target Network so using their network

292
00:12:03,220 --> 00:12:08,950
nack all the other stuff in place right

293
00:12:05,230 --> 00:12:10,270
so seeing these wall outlets Ethernet

294
00:12:08,950 --> 00:12:12,070
Jack's trying to take advantage of those

295
00:12:10,270 --> 00:12:13,120
okay um there's some mitigation controls

296
00:12:12,070 --> 00:12:15,580
in place but it's just something about

297
00:12:13,120 --> 00:12:17,590
Bluetooth this is for um you know

298
00:12:15,580 --> 00:12:18,850
obviously at local device and then how

299
00:12:17,590 --> 00:12:23,950
we're gonna daisy chain this out so

300
00:12:18,850 --> 00:12:24,670
we'll talk more about that power here's

301
00:12:23,950 --> 00:12:27,940
another good one

302
00:12:24,670 --> 00:12:30,010
POA so a lot of organizations do have p

303
00:12:27,940 --> 00:12:32,650
OE switches just embedded within their

304
00:12:30,010 --> 00:12:34,210
in their organization all the jacks or p

305
00:12:32,650 --> 00:12:35,740
OE powered sometimes are enabled

306
00:12:34,210 --> 00:12:37,300
sometimes they're not having that in

307
00:12:35,740 --> 00:12:38,560
your arsenal is really great it can

308
00:12:37,300 --> 00:12:41,199
avoid having to plug into something

309
00:12:38,560 --> 00:12:43,479
extra and can make for an easier setup

310
00:12:41,200 --> 00:12:44,770
if you're doing battery obviously how

311
00:12:43,480 --> 00:12:45,820
much battery how long the life is and

312
00:12:44,770 --> 00:12:47,800
stuff like that that's really where arm

313
00:12:45,820 --> 00:12:49,270
comes in is the battery life is so great

314
00:12:47,800 --> 00:12:51,310
that that's why you would use something

315
00:12:49,270 --> 00:12:53,140
like this as opposed to like a nook or

316
00:12:51,310 --> 00:12:54,699
some x86 processor in there that's just

317
00:12:53,140 --> 00:13:00,760
you pretty much not gonna run that on

318
00:12:54,700 --> 00:13:03,280
battery okay yeah so we mentioned before

319
00:13:00,760 --> 00:13:05,680
you know arm devices and type we use so

320
00:13:03,280 --> 00:13:07,839
we actually went with a Raspberry Pi 4

321
00:13:05,680 --> 00:13:10,209
and the reason why is is because and it

322
00:13:07,839 --> 00:13:13,570
is really nice fast does anybody messed

323
00:13:10,210 --> 00:13:15,910
with the Raspberry Pi 4 yeah I'm 4 gig

324
00:13:13,570 --> 00:13:17,410
of ram you know quiet we're boys anymore

325
00:13:15,910 --> 00:13:19,209
yeah I know I mean it's almost like a

326
00:13:17,410 --> 00:13:20,860
desktop replacement I mean I've

327
00:13:19,209 --> 00:13:23,079
it's probably more powerful than you

328
00:13:20,860 --> 00:13:24,249
know half the computers oh yeah I'm old

329
00:13:23,079 --> 00:13:27,040
sorry

330
00:13:24,249 --> 00:13:30,040
so but so we went with the Raspberry Pi

331
00:13:27,040 --> 00:13:32,439
4 for support and for aftermarket stuff

332
00:13:30,040 --> 00:13:34,929
I mean we were talking about p OE our

333
00:13:32,439 --> 00:13:36,699
device we have a POA hat and then also

334
00:13:34,929 --> 00:13:47,740
an LTE hat on top of that so we have a

335
00:13:36,699 --> 00:13:50,559
nice stack of Pi hats on top of it dad

336
00:13:47,740 --> 00:13:52,149
so we talked about the physical things

337
00:13:50,559 --> 00:13:53,379
you might consider whenever you're

338
00:13:52,149 --> 00:13:55,300
building a drop box now let's talk about

339
00:13:53,379 --> 00:13:56,740
what you might actually do with the drop

340
00:13:55,300 --> 00:13:59,008
box some requirements that you might

341
00:13:56,740 --> 00:14:01,209
have for the assessment you're doing

342
00:13:59,009 --> 00:14:03,100
we're talking about an AK earlier k so

343
00:14:01,209 --> 00:14:05,138
network access control traditionally

344
00:14:03,100 --> 00:14:08,050
keeps you from just plugging random

345
00:14:05,139 --> 00:14:09,579
things into a network this is a security

346
00:14:08,050 --> 00:14:11,410
control that most organizations put in

347
00:14:09,579 --> 00:14:13,149
place to make sure that only authorized

348
00:14:11,410 --> 00:14:15,189
devices that they say it can connect to

349
00:14:13,149 --> 00:14:17,230
their network and connect and that is

350
00:14:15,189 --> 00:14:19,029
probably the leading thing that prevents

351
00:14:17,230 --> 00:14:21,160
us from just leaving a draw box because

352
00:14:19,029 --> 00:14:22,779
you know you go and you just plug this

353
00:14:21,160 --> 00:14:24,670
in a lot of times what will happen is

354
00:14:22,779 --> 00:14:26,319
those are straight-up disable the port

355
00:14:24,670 --> 00:14:28,748
if it doesn't recognize the device if

356
00:14:26,319 --> 00:14:30,339
you can't authenticate with the device a

357
00:14:28,749 --> 00:14:33,549
lot of times you get quarantined off

358
00:14:30,339 --> 00:14:36,009
into a separate VLAN so we have to start

359
00:14:33,549 --> 00:14:38,559
looking at nak bypassing and there's a

360
00:14:36,009 --> 00:14:40,569
few ways to go about doing this first we

361
00:14:38,559 --> 00:14:42,999
can talk about just straight-up layer 2

362
00:14:40,569 --> 00:14:45,579
and layer 3 matting and that involves

363
00:14:42,999 --> 00:14:47,799
having multiple USB Ethernet adapters

364
00:14:45,579 --> 00:14:48,998
attached to our Dropbox and essentially

365
00:14:47,799 --> 00:14:51,009
what you're doing is you're your man in

366
00:14:48,999 --> 00:14:53,829
the middling the connection between an

367
00:14:51,009 --> 00:14:56,079
authenticated host and the wall or in

368
00:14:53,829 --> 00:14:57,579
the port right and essentially what you

369
00:14:56,079 --> 00:14:59,319
do is you bridge that connection and

370
00:14:57,579 --> 00:15:01,359
kind of analyze the traffic and look and

371
00:14:59,319 --> 00:15:03,399
say okay hey the MAC address is on this

372
00:15:01,360 --> 00:15:05,350
side is the wall and this is the the

373
00:15:03,399 --> 00:15:07,029
computer and well let me let me put

374
00:15:05,350 --> 00:15:09,100
those on either side of my adapter so

375
00:15:07,029 --> 00:15:11,559
the wall thinks this is the the computer

376
00:15:09,100 --> 00:15:12,999
and I'm understand in the middle and and

377
00:15:11,559 --> 00:15:15,069
basically through you know set up

378
00:15:12,999 --> 00:15:18,100
different IP table rules and EB table

379
00:15:15,069 --> 00:15:19,809
rules you can you can make that work and

380
00:15:18,100 --> 00:15:23,529
I have I have had it work which is it's

381
00:15:19,809 --> 00:15:26,079
nice the other more easier solution of

382
00:15:23,529 --> 00:15:28,569
bypassing nak traditionally is just find

383
00:15:26,079 --> 00:15:30,638
a phone like a like an IP like VoIP

384
00:15:28,569 --> 00:15:33,110
phone or printer because a lot of times

385
00:15:30,639 --> 00:15:35,660
if they're using it

386
00:15:33,110 --> 00:15:37,129
knack that would involve you know using

387
00:15:35,660 --> 00:15:40,219
a certificate installed on the device a

388
00:15:37,129 --> 00:15:41,660
lot of times and most of the phones and

389
00:15:40,220 --> 00:15:43,309
Printers like old especially older

390
00:15:41,660 --> 00:15:45,499
models don't have the ability to install

391
00:15:43,309 --> 00:15:46,850
certificates on the devices so what

392
00:15:45,499 --> 00:15:48,889
happens is they'll just whitelist the

393
00:15:46,850 --> 00:15:50,449
MAC address and a lot of times we can

394
00:15:48,889 --> 00:15:51,470
use just either plug into the port

395
00:15:50,449 --> 00:15:54,378
because they've just whitelist of the

396
00:15:51,470 --> 00:16:00,049
port or just just spoof the MAC address

397
00:15:54,379 --> 00:16:01,730
from the phone next wireless testing so

398
00:16:00,049 --> 00:16:04,459
this could be something you build into

399
00:16:01,730 --> 00:16:07,129
your Dropbox build as well that you know

400
00:16:04,459 --> 00:16:08,779
obviously if you're on site with with an

401
00:16:07,129 --> 00:16:11,119
assessment you know you have the

402
00:16:08,779 --> 00:16:13,399
opportunity to to analyze Wyatt Wireless

403
00:16:11,119 --> 00:16:14,959
frequencies as well so you know you have

404
00:16:13,399 --> 00:16:16,220
to consider are we gonna add adapter

405
00:16:14,959 --> 00:16:17,689
like wireless adapters or we're gonna

406
00:16:16,220 --> 00:16:19,160
start adding antennas or we're gonna you

407
00:16:17,689 --> 00:16:21,019
know what all we're gonna actually put

408
00:16:19,160 --> 00:16:24,499
in this thing and it's still gonna

409
00:16:21,019 --> 00:16:29,269
maintain a stealthiness you know and

410
00:16:24,499 --> 00:16:31,699
then blessing general network testing

411
00:16:29,269 --> 00:16:34,579
right so you know Callie has an arm

412
00:16:31,699 --> 00:16:36,589
image which works fantastic on the

413
00:16:34,579 --> 00:16:38,769
Raspberry Pi 4 and has you know all your

414
00:16:36,589 --> 00:16:41,660
typical tools built on Metasploit map

415
00:16:38,769 --> 00:16:44,839
you know all your impacted TCP dump that

416
00:16:41,660 --> 00:16:47,299
kind of stuff the one thing that I will

417
00:16:44,839 --> 00:16:48,619
say go on to the next slide if you want

418
00:16:47,299 --> 00:16:50,059
to do vulnerability scanning you

419
00:16:48,619 --> 00:16:53,899
probably don't want to do it from an arm

420
00:16:50,059 --> 00:16:56,029
device first off there's no necessary at

421
00:16:53,899 --> 00:17:00,919
all so you can install a neces on an arm

422
00:16:56,029 --> 00:17:06,819
device we tried it last night you know

423
00:17:00,919 --> 00:17:14,449
open bez technically works on arm ish

424
00:17:06,819 --> 00:17:26,750
it's very slow and janky they don't have

425
00:17:14,449 --> 00:17:28,309
commercial support all right Automation

426
00:17:26,750 --> 00:17:30,500
all right yeah I'll talk about this

427
00:17:28,309 --> 00:17:31,730
so Dropbox automation so we're gonna

428
00:17:30,500 --> 00:17:35,059
talk about ansible real quick who's

429
00:17:31,730 --> 00:17:38,330
heard of ansible all right good awesome

430
00:17:35,059 --> 00:17:41,539
okay so ansible is open source software

431
00:17:38,330 --> 00:17:43,399
this is going to help automate building

432
00:17:41,539 --> 00:17:44,629
out these images or builds or whatever

433
00:17:43,399 --> 00:17:46,060
we want to do right

434
00:17:44,630 --> 00:17:48,910
why ansible

435
00:17:46,060 --> 00:17:51,159
it's Python 3 bass now so it's pretty

436
00:17:48,910 --> 00:17:53,380
easy to catch on but the bigger thing is

437
00:17:51,160 --> 00:17:55,450
that it's got simple yamo based

438
00:17:53,380 --> 00:17:57,940
configuration this is not really hard to

439
00:17:55,450 --> 00:17:59,980
get into there is a whole suite of

440
00:17:57,940 --> 00:18:02,080
modules out there to configure all kinds

441
00:17:59,980 --> 00:18:03,880
of things the best way to describe

442
00:18:02,080 --> 00:18:06,370
ansible if you have not used it is if

443
00:18:03,880 --> 00:18:08,050
you had a bass a bash script for

444
00:18:06,370 --> 00:18:10,120
something you should dump that and go to

445
00:18:08,050 --> 00:18:12,370
ansible and save yourself a whole lot of

446
00:18:10,120 --> 00:18:13,899
heartache ok trust me your bash script

447
00:18:12,370 --> 00:18:16,479
it's just not gonna be as good that's

448
00:18:13,900 --> 00:18:22,270
really what this was made to do okay so

449
00:18:16,480 --> 00:18:27,700
next like so

450
00:18:22,270 --> 00:18:30,280
one more okay so how would this work for

451
00:18:27,700 --> 00:18:32,380
like a drop device so and we're gonna

452
00:18:30,280 --> 00:18:35,230
release this after the talk I have an

453
00:18:32,380 --> 00:18:36,640
answer will script for a couple to drop

454
00:18:35,230 --> 00:18:37,930
devices that I've already built and what

455
00:18:36,640 --> 00:18:39,010
its gonna do is install the software or

456
00:18:37,930 --> 00:18:40,180
configure things up for you so you

457
00:18:39,010 --> 00:18:41,860
cannot really kind of get rolling with

458
00:18:40,180 --> 00:18:43,240
it but you can add more software later

459
00:18:41,860 --> 00:18:45,129
you can change it however you want right

460
00:18:43,240 --> 00:18:46,990
it's just yeah Mille it's pretty easy to

461
00:18:45,130 --> 00:18:48,580
read but to do that I mean all you're

462
00:18:46,990 --> 00:18:49,930
gonna do is just create a Kali image you

463
00:18:48,580 --> 00:18:52,419
could go down the download the Kali

464
00:18:49,930 --> 00:18:54,280
image for ARM based system write it to

465
00:18:52,420 --> 00:18:57,280
an SD card pretty simple instructions

466
00:18:54,280 --> 00:18:59,080
get clone the repo modify an inventory

467
00:18:57,280 --> 00:19:00,460
file are you really doing specifying the

468
00:18:59,080 --> 00:19:01,870
host and then any kind of variables in

469
00:19:00,460 --> 00:19:03,280
there what are variables they could be

470
00:19:01,870 --> 00:19:04,719
like the password you want to change or

471
00:19:03,280 --> 00:19:06,490
what software you do or don't want

472
00:19:04,720 --> 00:19:09,160
install it things like that and then

473
00:19:06,490 --> 00:19:11,170
just run the playbook it's pretty simple

474
00:19:09,160 --> 00:19:13,480
it's a great way to get rolling with it

475
00:19:11,170 --> 00:19:15,460
the best part about it is you don't have

476
00:19:13,480 --> 00:19:17,680
to just accept whatever I thought was a

477
00:19:15,460 --> 00:19:19,210
good idea okay you can go in there and

478
00:19:17,680 --> 00:19:20,950
change it and be like oh that was a dumb

479
00:19:19,210 --> 00:19:22,330
idea or I've got a better way of doing

480
00:19:20,950 --> 00:19:24,670
this or I needed this software that

481
00:19:22,330 --> 00:19:26,620
wasn't on there the other great part

482
00:19:24,670 --> 00:19:27,910
about this is repeatable I mean you can

483
00:19:26,620 --> 00:19:29,469
run this code over and over again it's

484
00:19:27,910 --> 00:19:31,570
not gonna mess anything up it's not

485
00:19:29,470 --> 00:19:33,190
gonna delete error it's not going to

486
00:19:31,570 --> 00:19:34,419
change a configuration file in a way

487
00:19:33,190 --> 00:19:36,580
that will mess anything it's gonna check

488
00:19:34,420 --> 00:19:38,860
the config if it's the right way or how

489
00:19:36,580 --> 00:19:45,850
you've set it up it it ensures that it

490
00:19:38,860 --> 00:19:48,129
is identical every time so this is just

491
00:19:45,850 --> 00:19:51,100
a quick inventory file that I kind of

492
00:19:48,130 --> 00:19:52,630
whipped up for the pella cap just

493
00:19:51,100 --> 00:19:54,399
specifying a couple things you know

494
00:19:52,630 --> 00:19:58,150
where your public key is you know

495
00:19:54,400 --> 00:19:59,320
password tour is the default and you can

496
00:19:58,150 --> 00:20:01,090
add more stuff in here

497
00:19:59,320 --> 00:20:02,919
I just put this up here so you guys kind

498
00:20:01,090 --> 00:20:04,689
of get a simple idea that you know Gamal

499
00:20:02,920 --> 00:20:07,120
it's not hard to write in and you guys

500
00:20:04,690 --> 00:20:13,360
can roll with it you know if you have

501
00:20:07,120 --> 00:20:15,159
this alright I will talk about this one

502
00:20:13,360 --> 00:20:18,459
this one's kind of the one that I

503
00:20:15,160 --> 00:20:21,220
invented here so who's done a Wireless

504
00:20:18,460 --> 00:20:22,840
assessment before all right a couple

505
00:20:21,220 --> 00:20:24,610
people all right for people who have not

506
00:20:22,840 --> 00:20:26,350
done a Wireless assessment this involves

507
00:20:24,610 --> 00:20:27,879
going to an organization walking around

508
00:20:26,350 --> 00:20:30,040
and one of the first things you're going

509
00:20:27,880 --> 00:20:31,930
to do is capture all the SS IDs from all

510
00:20:30,040 --> 00:20:33,850
of the APS that are inside the

511
00:20:31,930 --> 00:20:35,380
organization ok next thing you're gonna

512
00:20:33,850 --> 00:20:37,270
do is after you capture all that data

513
00:20:35,380 --> 00:20:38,730
you're gonna run and do either whatever

514
00:20:37,270 --> 00:20:41,639
attacks depending on Toby a to

515
00:20:38,730 --> 00:20:44,050
enterprise so and so forth right

516
00:20:41,640 --> 00:20:46,450
historically I have this laptop I'm

517
00:20:44,050 --> 00:20:48,879
holding in my hand with a bunch of what

518
00:20:46,450 --> 00:20:50,320
is it um alpha cards attached to the

519
00:20:48,880 --> 00:20:52,090
side and walking around and doing this

520
00:20:50,320 --> 00:20:56,649
whole assessment ok it's a pain in the

521
00:20:52,090 --> 00:21:00,550
butt if anyone has dealt with VMs right

522
00:20:56,650 --> 00:21:03,130
on Kali running Kali VM apt-get upgrade

523
00:21:00,550 --> 00:21:05,620
and just see you tomorrow ok it's just

524
00:21:03,130 --> 00:21:08,290
it's horrible um so that's why I built

525
00:21:05,620 --> 00:21:10,000
this device I wanted to do testing and I

526
00:21:08,290 --> 00:21:12,250
wanted to make it extensible so the

527
00:21:10,000 --> 00:21:15,760
pellet cap is designed for Wi-Fi testing

528
00:21:12,250 --> 00:21:17,920
but it's a lot more than that so this

529
00:21:15,760 --> 00:21:21,010
device is pretty much it right here

530
00:21:17,920 --> 00:21:24,490
I bought a Pelican case it's got a an

531
00:21:21,010 --> 00:21:27,100
ARM processor in there you can the

532
00:21:24,490 --> 00:21:29,590
Raspberry Pi 4 there is a peewee hat on

533
00:21:27,100 --> 00:21:31,870
top of that and there's LTE so you have

534
00:21:29,590 --> 00:21:35,230
out-of-band you have p OE there's a

535
00:21:31,870 --> 00:21:37,810
battery there's two panda USB wireless

536
00:21:35,230 --> 00:21:39,370
devices in there if you haven't used the

537
00:21:37,810 --> 00:21:41,470
panda it's actually better than the

538
00:21:39,370 --> 00:21:44,110
Alpha card pretty much turnkey I was at

539
00:21:41,470 --> 00:21:46,330
def def cons while I competed and def

540
00:21:44,110 --> 00:21:47,649
cons Wireless CTF this year

541
00:21:46,330 --> 00:21:49,389
everybody had panned as they also had

542
00:21:47,650 --> 00:21:50,950
some pretty wild cases I saw people with

543
00:21:49,390 --> 00:21:54,070
like full computers and it's crazy

544
00:21:50,950 --> 00:21:56,710
anyways but the point is it's got to

545
00:21:54,070 --> 00:21:58,570
panda cards they're both 2.4 and 5

546
00:21:56,710 --> 00:22:00,130
gigahertz two of them so you can split

547
00:21:58,570 --> 00:22:01,629
those channels out there's also a crazy

548
00:22:00,130 --> 00:22:03,130
radio in there if anyone hasn't played

549
00:22:01,630 --> 00:22:04,900
with that it's a great keyboard attack

550
00:22:03,130 --> 00:22:07,390
multiple organizations have gone to

551
00:22:04,900 --> 00:22:11,020
compromise their keyboards and inject

552
00:22:07,390 --> 00:22:13,030
keys here's a quick rundown so it's the

553
00:22:11,020 --> 00:22:14,860
PI 4 there's POA power

554
00:22:13,030 --> 00:22:17,440
all day battery I've done about three

555
00:22:14,860 --> 00:22:19,780
assessments with this kit and I can run

556
00:22:17,440 --> 00:22:21,640
over 12 hours on one battery doing

557
00:22:19,780 --> 00:22:23,740
collection and everything like that

558
00:22:21,640 --> 00:22:26,500
LT out-of-band so the great part about

559
00:22:23,740 --> 00:22:28,330
this is that when I get onto this box

560
00:22:26,500 --> 00:22:31,420
the way that I do it is I connect via

561
00:22:28,330 --> 00:22:34,230
bluetooth not Wi-Fi you can get I pee

562
00:22:31,420 --> 00:22:37,150
over Bluetooth hook up your phone or a

563
00:22:34,230 --> 00:22:38,860
tablet and you can run commands so you

564
00:22:37,150 --> 00:22:41,110
can run commands straight from the SSH

565
00:22:38,860 --> 00:22:43,689
or the best part is that I can do

566
00:22:41,110 --> 00:22:45,280
apt-get install with the LT hat right on

567
00:22:43,690 --> 00:22:46,750
there I don't have to figure out how I'm

568
00:22:45,280 --> 00:22:49,800
gonna pipe internet into this device to

569
00:22:46,750 --> 00:22:51,910
keep going it's just simplifies life

570
00:22:49,800 --> 00:22:53,320
dual-band wireless like I said the crazy

571
00:22:51,910 --> 00:22:55,360
radio and then also the last piece of

572
00:22:53,320 --> 00:22:57,340
that there's a GPS in there so GPS

573
00:22:55,360 --> 00:22:59,500
antenna we do wardriving we get signal

574
00:22:57,340 --> 00:23:01,990
dispersion from outside the facility to

575
00:22:59,500 --> 00:23:04,510
do that you need GPS antenna so yeah and

576
00:23:01,990 --> 00:23:06,370
the the LTE hat that we're using in case

577
00:23:04,510 --> 00:23:08,620
anybody's interested is a company called

578
00:23:06,370 --> 00:23:11,409
six fab that I guess within the last

579
00:23:08,620 --> 00:23:12,939
what like six months or so put out an LT

580
00:23:11,410 --> 00:23:15,430
hat that you can get for various

581
00:23:12,940 --> 00:23:17,620
providers and we've used wake you have

582
00:23:15,430 --> 00:23:19,210
an AT&T card or T know that C mobile

583
00:23:17,620 --> 00:23:21,610
card well they work for all the provider

584
00:23:19,210 --> 00:23:25,030
again and so and Bo and I have to what

585
00:23:21,610 --> 00:23:27,639
Twila Twila oh Twilio and yeah it's it's

586
00:23:25,030 --> 00:23:31,060
if anybody is messed with the USB dongle

587
00:23:27,640 --> 00:23:34,120
before the LT had is way more stable and

588
00:23:31,060 --> 00:23:36,429
it seems to work which you know working

589
00:23:34,120 --> 00:23:37,389
is good it's also pretty fast 50 60

590
00:23:36,430 --> 00:23:40,480
megabit no problem

591
00:23:37,390 --> 00:23:42,670
so you gotta really move some data the

592
00:23:40,480 --> 00:23:44,020
other device so okay so I built this

593
00:23:42,670 --> 00:23:46,540
wireless device I was like oh I got this

594
00:23:44,020 --> 00:23:48,010
wife I think this is great what about on

595
00:23:46,540 --> 00:23:50,260
assessments where I need to leave a drop

596
00:23:48,010 --> 00:23:51,520
device okay I do a lot of physical

597
00:23:50,260 --> 00:23:53,620
assessments we break into buildings

598
00:23:51,520 --> 00:23:54,970
we're doing this very covertly this is

599
00:23:53,620 --> 00:23:56,229
part of a longer engagement we've

600
00:23:54,970 --> 00:23:57,730
already got access to a lot of things

601
00:23:56,230 --> 00:23:59,410
we're trying to elevate that access or

602
00:23:57,730 --> 00:24:00,460
maybe we don't have access at all some

603
00:23:59,410 --> 00:24:02,020
of these organizations that we're

604
00:24:00,460 --> 00:24:03,820
dealing with they're huge they actually

605
00:24:02,020 --> 00:24:06,580
have real security budgets and they do

606
00:24:03,820 --> 00:24:07,540
care so they'll have knack they have all

607
00:24:06,580 --> 00:24:09,100
of these features they're doing

608
00:24:07,540 --> 00:24:11,110
everything they can and that's where

609
00:24:09,100 --> 00:24:13,600
this came in so the shadow PI is a

610
00:24:11,110 --> 00:24:15,790
pretty much taking just the PI out and

611
00:24:13,600 --> 00:24:18,639
then putting it in another device so the

612
00:24:15,790 --> 00:24:20,530
plant came up as an idea a UPS and a PC

613
00:24:18,640 --> 00:24:22,120
pull out the battery put that device in

614
00:24:20,530 --> 00:24:23,470
there plug that underneath the desk

615
00:24:22,120 --> 00:24:25,580
nobody's gonna unplug their computer to

616
00:24:23,470 --> 00:24:27,230
unplug the APC UPS that you know

617
00:24:25,580 --> 00:24:29,929
i T just gave to them what they're very

618
00:24:27,230 --> 00:24:33,290
nice and then the last piece of this is

619
00:24:29,930 --> 00:24:35,210
how does this communicate out so I got

620
00:24:33,290 --> 00:24:38,330
the first piece right so we have the pie

621
00:24:35,210 --> 00:24:39,980
we have LTE so now I got a VPN right

622
00:24:38,330 --> 00:24:42,169
I've put it in a case that nobody's

623
00:24:39,980 --> 00:24:46,220
gonna suspect but what am i capturing

624
00:24:42,170 --> 00:24:48,740
the last piece is a USB key logger okay

625
00:24:46,220 --> 00:24:49,820
there's a Wi-Fi base USB key logger so

626
00:24:48,740 --> 00:24:52,130
what I'm gonna do is I'm going to

627
00:24:49,820 --> 00:24:55,460
connait create a connection Wi-Fi to

628
00:24:52,130 --> 00:24:57,290
that or to that raspberry pi 4 and I'm

629
00:24:55,460 --> 00:25:00,020
gonna capture all your keystrokes it's

630
00:24:57,290 --> 00:25:03,080
just about almost impossible to detect

631
00:25:00,020 --> 00:25:04,820
okay I don't care if you got Meraki or

632
00:25:03,080 --> 00:25:07,070
whatever you're probably not gonna be

633
00:25:04,820 --> 00:25:10,550
looking for every AP that you know

634
00:25:07,070 --> 00:25:12,200
broadcast outside so go ahead yeah so to

635
00:25:10,550 --> 00:25:13,460
kind of go off of what he understand

636
00:25:12,200 --> 00:25:15,020
that the key logger like this is how

637
00:25:13,460 --> 00:25:16,220
small this thing is this thing is

638
00:25:15,020 --> 00:25:19,940
amazing it's so it's from a company

639
00:25:16,220 --> 00:25:22,700
called keke log with two e's and he said

640
00:25:19,940 --> 00:25:24,290
it so the the cheaper model just stands

641
00:25:22,700 --> 00:25:26,510
up an AP like a wireless AP and you can

642
00:25:24,290 --> 00:25:30,860
connect to it the one that's think it's

643
00:25:26,510 --> 00:25:32,660
a $37 will connect to your own ap so you

644
00:25:30,860 --> 00:25:36,889
can set up your own wireless network so

645
00:25:32,660 --> 00:25:38,540
the idea here with this attack is well

646
00:25:36,890 --> 00:25:39,470
here let's listen the show kind of what

647
00:25:38,540 --> 00:25:41,149
it looks like so this is what the

648
00:25:39,470 --> 00:25:43,160
interface looks like when you're

649
00:25:41,150 --> 00:25:45,200
capturing keystrokes it's a what this

650
00:25:43,160 --> 00:25:47,060
thing sets up a web server and you can

651
00:25:45,200 --> 00:25:50,870
intercept keys with it and it attaches

652
00:25:47,060 --> 00:25:55,100
to Wi-Fi it's amazing the cool thing is

653
00:25:50,870 --> 00:25:57,679
is that this thing is actually so low

654
00:25:55,100 --> 00:26:00,679
powered that software that's actually

655
00:25:57,680 --> 00:26:02,900
built to detect key loggers we were on

656
00:26:00,680 --> 00:26:04,790
an assessment last week where we were

657
00:26:02,900 --> 00:26:06,920
testing a company we did this with this

658
00:26:04,790 --> 00:26:09,320
company they have a security product

659
00:26:06,920 --> 00:26:12,260
that the whole point of it is to detect

660
00:26:09,320 --> 00:26:14,600
key loggers and and other hid devices so

661
00:26:12,260 --> 00:26:16,070
human their face devices and the way

662
00:26:14,600 --> 00:26:17,899
that it's supposed to do it is detect

663
00:26:16,070 --> 00:26:19,250
voltage changes so like you know you

664
00:26:17,900 --> 00:26:20,540
remove the keyboard you plug something

665
00:26:19,250 --> 00:26:21,980
else in and then plug keyboard in the

666
00:26:20,540 --> 00:26:24,260
back of this theoretically it should

667
00:26:21,980 --> 00:26:28,460
change the voltage on the port but it

668
00:26:24,260 --> 00:26:29,480
didn't trigger so stealthy I guess all

669
00:26:28,460 --> 00:26:32,420
right so this is kind of how we're gonna

670
00:26:29,480 --> 00:26:33,470
map this out we have an attacker server

671
00:26:32,420 --> 00:26:34,970
right where we're gonna end up

672
00:26:33,470 --> 00:26:37,040
retrieving the keys on in the cloud

673
00:26:34,970 --> 00:26:38,750
somewhere right we're gonna go we're

674
00:26:37,040 --> 00:26:41,060
gonna plant these

675
00:26:38,750 --> 00:26:43,180
we're gonna plant the Pelley cap though

676
00:26:41,060 --> 00:26:45,110
you know ARP Industrial Box in the

677
00:26:43,180 --> 00:26:46,370
location but not actually attach it to

678
00:26:45,110 --> 00:26:47,990
the network right so this is never

679
00:26:46,370 --> 00:26:49,729
touching the targets network this is

680
00:26:47,990 --> 00:26:52,100
just in the vicinity of these key

681
00:26:49,730 --> 00:26:55,670
loggers right key loggers communicating

682
00:26:52,100 --> 00:26:56,870
to that that LTE out to our cloud never

683
00:26:55,670 --> 00:26:59,480
touches the target network we just

684
00:26:56,870 --> 00:27:01,610
intercept keys the whole time which is

685
00:26:59,480 --> 00:27:02,810
you know find the system admin desk I

686
00:27:01,610 --> 00:27:06,020
don't know you think he's gonna type his

687
00:27:02,810 --> 00:27:06,980
password in once possibly this is

688
00:27:06,020 --> 00:27:10,160
another phone one you want to talk about

689
00:27:06,980 --> 00:27:13,070
this work of us so not just in relation

690
00:27:10,160 --> 00:27:15,500
to the Dropbox but this is actually one

691
00:27:13,070 --> 00:27:16,939
of my one of my favorite attacks to do

692
00:27:15,500 --> 00:27:18,950
on an assessment how many people work

693
00:27:16,940 --> 00:27:22,160
for a company where you have a share

694
00:27:18,950 --> 00:27:23,810
where everybody just dumps data yeah and

695
00:27:22,160 --> 00:27:25,100
at least one person's gonna raise your

696
00:27:23,810 --> 00:27:27,649
hand and everybody else is probably not

697
00:27:25,100 --> 00:27:29,330
telling the truth anyway because I mean

698
00:27:27,650 --> 00:27:31,700
it's a relative it's yeah it's a really

699
00:27:29,330 --> 00:27:33,080
common thing and we've got ran into

700
00:27:31,700 --> 00:27:36,260
companies where they're just not doing

701
00:27:33,080 --> 00:27:38,570
good good good security and so what you

702
00:27:36,260 --> 00:27:40,190
can do and there's actually a module in

703
00:27:38,570 --> 00:27:41,450
that display called multi-drop that you

704
00:27:40,190 --> 00:27:43,610
can just create one of these things

705
00:27:41,450 --> 00:27:46,640
create a link file and the resource for

706
00:27:43,610 --> 00:27:49,310
the icon and the link file points back

707
00:27:46,640 --> 00:27:51,770
to a UNC path to the server that you

708
00:27:49,310 --> 00:27:54,770
control in this case it's going to be

709
00:27:51,770 --> 00:27:56,570
pointing to our Dropbox or if there's

710
00:27:54,770 --> 00:27:59,060
four or five open outbound you could

711
00:27:56,570 --> 00:28:01,399
just send it out to the Internet and

712
00:27:59,060 --> 00:28:04,520
then what happens when you view it an

713
00:28:01,400 --> 00:28:06,680
explorer Explorer tries to render the

714
00:28:04,520 --> 00:28:08,900
icon file so it goes off and tries to

715
00:28:06,680 --> 00:28:11,780
make a connection with that UNC path and

716
00:28:08,900 --> 00:28:13,730
it tries to authenticate over net ntlm B

717
00:28:11,780 --> 00:28:16,160
to essentially just gather hashes

718
00:28:13,730 --> 00:28:17,780
because somebody's viewing the icon or

719
00:28:16,160 --> 00:28:22,700
reviewing the link file the shortcut

720
00:28:17,780 --> 00:28:25,760
file in Explorer and man this is another

721
00:28:22,700 --> 00:28:27,530
thing we did last week and we put I

722
00:28:25,760 --> 00:28:29,060
think on maybe like six or so shares we

723
00:28:27,530 --> 00:28:31,670
put this link out there in a shortcut

724
00:28:29,060 --> 00:28:33,679
file and sure enough a domain admin at

725
00:28:31,670 --> 00:28:36,050
this organization navigated to share and

726
00:28:33,680 --> 00:28:37,820
triggered and we actually had set up and

727
00:28:36,050 --> 00:28:39,950
see how I'm relaying at the time so

728
00:28:37,820 --> 00:28:41,780
that's another thing to look at is you

729
00:28:39,950 --> 00:28:43,790
know if if you scan a network and you

730
00:28:41,780 --> 00:28:45,710
find that SMB signing is disabled you

731
00:28:43,790 --> 00:28:48,170
can relay credentials still if that's me

732
00:28:45,710 --> 00:28:49,940
signings enabled enforced medium level

733
00:28:48,170 --> 00:28:51,740
fund a medium level finding and necess

734
00:28:49,940 --> 00:28:54,500
you know so that's good overlooked quite

735
00:28:51,740 --> 00:28:56,600
a bit it'll get you so what what you can

736
00:28:54,500 --> 00:28:59,179
do though is with with the types of

737
00:28:56,600 --> 00:29:00,918
hashes that happen over the network

738
00:28:59,179 --> 00:29:02,029
right so if Windows Explorer tries to

739
00:29:00,919 --> 00:29:05,840
authenticate to something it doesn't

740
00:29:02,029 --> 00:29:07,220
ntlm v2 or v1 if it's enabled handshake

741
00:29:05,840 --> 00:29:10,158
and it's it's actually a challenger in

742
00:29:07,220 --> 00:29:11,779
response that happens so they're they're

743
00:29:10,159 --> 00:29:13,970
not hashes that you can reuse on the

744
00:29:11,779 --> 00:29:16,279
network with like your traditional ntlm

745
00:29:13,970 --> 00:29:20,570
so like if you get an ntlm hash from a

746
00:29:16,279 --> 00:29:22,070
system actual until I'm not v2 you can

747
00:29:20,570 --> 00:29:23,418
reuse that you can do pass the hash tax

748
00:29:22,070 --> 00:29:27,289
you can't do that with this type of

749
00:29:23,419 --> 00:29:30,320
thing we can go crack it but with until

750
00:29:27,289 --> 00:29:32,899
I'm relaying you can actually point that

751
00:29:30,320 --> 00:29:34,460
system or that authentication somewhere

752
00:29:32,899 --> 00:29:35,809
else on the network so you find

753
00:29:34,460 --> 00:29:37,399
something that doesn't have SMB signing

754
00:29:35,809 --> 00:29:39,590
like let's say a server somewhere right

755
00:29:37,399 --> 00:29:41,330
and you know that you know the domain

756
00:29:39,590 --> 00:29:42,830
admins navigating the share just you

757
00:29:41,330 --> 00:29:44,870
know wait for him again he's gonna

758
00:29:42,830 --> 00:29:46,879
trigger it it connects us attempts

759
00:29:44,870 --> 00:29:48,559
authenticate and we can actually relay

760
00:29:46,879 --> 00:29:50,330
that credential to the server and

761
00:29:48,559 --> 00:29:53,509
actually execute code on the server

762
00:29:50,330 --> 00:29:55,460
itself as the domain admin and so we did

763
00:29:53,509 --> 00:29:59,620
that that's yeah does anybody think

764
00:29:55,460 --> 00:29:59,620
that's fun I think that's fun it's a fun

765
00:30:01,960 --> 00:30:06,769
so this is another attack we thought of

766
00:30:04,399 --> 00:30:10,639
for organizations that have everything

767
00:30:06,769 --> 00:30:13,909
and this is the whack-a-mole pineapple

768
00:30:10,639 --> 00:30:15,469
nanos here next one so the way this

769
00:30:13,909 --> 00:30:17,090
attack works is kind of the same thing

770
00:30:15,470 --> 00:30:19,399
we're talking about the key loggers so

771
00:30:17,090 --> 00:30:21,559
one thing is that I really do want to

772
00:30:19,399 --> 00:30:23,719
plug into a network for it but I just

773
00:30:21,559 --> 00:30:27,678
gotta assume that you're gonna detect me

774
00:30:23,720 --> 00:30:30,019
okay so instead of plugging in my device

775
00:30:27,679 --> 00:30:33,200
that has LTE why don't I get a couple

776
00:30:30,019 --> 00:30:35,860
nanos plug those in okay disable the

777
00:30:33,200 --> 00:30:38,570
ethernet control them via Wi-Fi and then

778
00:30:35,860 --> 00:30:40,039
individually start enabling them and see

779
00:30:38,570 --> 00:30:42,110
if you detect me so I'll enable the

780
00:30:40,039 --> 00:30:43,580
first one all right they got nack okay

781
00:30:42,110 --> 00:30:45,080
they figured this out they went and

782
00:30:43,580 --> 00:30:47,178
found it all right I'll enable another

783
00:30:45,080 --> 00:30:48,350
one somewhere else in the facility so

784
00:30:47,179 --> 00:30:50,690
now we've got a tear apart the whole

785
00:30:48,350 --> 00:30:53,029
facility finding all these things but

786
00:30:50,690 --> 00:30:55,070
anyways it's another way to kind of pave

787
00:30:53,029 --> 00:30:57,740
it off that drop device that's already

788
00:30:55,070 --> 00:30:59,090
there out-of-band LTE and still be able

789
00:30:57,740 --> 00:31:00,320
to you know hopefully compromise the

790
00:30:59,090 --> 00:31:01,428
network you might end up to an

791
00:31:00,320 --> 00:31:03,799
organization you assume they have

792
00:31:01,429 --> 00:31:05,659
everything they don't see a thing

793
00:31:03,799 --> 00:31:08,090
but if they do we move to the next

794
00:31:05,659 --> 00:31:11,110
device and keep going down the line so

795
00:31:08,090 --> 00:31:13,610
[Music]

796
00:31:11,110 --> 00:31:15,770
now we're gonna talk about a couple

797
00:31:13,610 --> 00:31:18,139
other maybe not Dropbox seed but kind of

798
00:31:15,770 --> 00:31:21,408
wireless type things does anybody in

799
00:31:18,140 --> 00:31:22,940
here use kismet and maybe go war walking

800
00:31:21,409 --> 00:31:24,710
or driving something along those lines

801
00:31:22,940 --> 00:31:27,500
right so the first time I ever did that

802
00:31:24,710 --> 00:31:29,779
I had a laptop in my you know my car and

803
00:31:27,500 --> 00:31:35,299
I put antennas on top and it was kind of

804
00:31:29,779 --> 00:31:39,440
conspicuous right so instead of doing

805
00:31:35,299 --> 00:31:41,059
that I got this idea from a blog post I

806
00:31:39,440 --> 00:31:44,899
read somewhere just taking an old

807
00:31:41,059 --> 00:31:47,809
Raspberry Pi in a case with a with with

808
00:31:44,899 --> 00:31:49,100
a screen on it so you can kind of

809
00:31:47,809 --> 00:31:50,720
control it while you're out in the field

810
00:31:49,100 --> 00:31:53,689
like the Bluetooth pan is fine but

811
00:31:50,720 --> 00:31:55,610
sometimes you need to screen and use

812
00:31:53,690 --> 00:31:58,429
that to go walking around I mean a

813
00:31:55,610 --> 00:32:00,770
Raspberry Pi that's in your backpack a

814
00:31:58,429 --> 00:32:02,390
whole lot less power a whole lot less to

815
00:32:00,770 --> 00:32:03,590
deal with in an actual laptop you want

816
00:32:02,390 --> 00:32:06,649
to worry about the thing going to sleep

817
00:32:03,590 --> 00:32:09,020
or anything like that and so it's based

818
00:32:06,649 --> 00:32:11,209
on the kiss pie build from someone

819
00:32:09,020 --> 00:32:13,908
called Elle Kintaro on Twitter and

820
00:32:11,210 --> 00:32:16,549
medium and you can configure the

821
00:32:13,909 --> 00:32:18,590
Bluetooth pan to control it it's

822
00:32:16,549 --> 00:32:20,149
convenient but the screen actually takes

823
00:32:18,590 --> 00:32:23,510
a little bit more bad each battery to

824
00:32:20,149 --> 00:32:25,340
wrong so the next thing is anybody in

825
00:32:23,510 --> 00:32:27,230
here ever heard of Epona gachi

826
00:32:25,340 --> 00:32:29,000
I know that there's a couple pone of

827
00:32:27,230 --> 00:32:31,450
gotchas around because mine up here

828
00:32:29,000 --> 00:32:33,919
actually has made friends right so

829
00:32:31,450 --> 00:32:36,049
together I know they're working together

830
00:32:33,919 --> 00:32:37,789
right so the pone agachi is really neat

831
00:32:36,049 --> 00:32:40,070
before I start talking about it I

832
00:32:37,789 --> 00:32:42,140
actually have one to give away so at the

833
00:32:40,070 --> 00:32:43,820
end of the talk whoever asked questions

834
00:32:42,140 --> 00:32:46,010
out of the people who asked questions I

835
00:32:43,820 --> 00:32:47,899
have a pro nagashi that I'm going to

836
00:32:46,010 --> 00:32:49,100
give away or the components to one you

837
00:32:47,899 --> 00:32:52,908
get to build it yourself because that's

838
00:32:49,100 --> 00:32:55,428
sort of the whole idea behind it so what

839
00:32:52,909 --> 00:32:58,309
this is is basically a first and

840
00:32:55,429 --> 00:32:59,419
foremost it's a way to get hackers up

841
00:32:58,309 --> 00:33:02,120
out of their chair and go walk around

842
00:32:59,419 --> 00:33:06,289
which we all agree that's a good thing

843
00:33:02,120 --> 00:33:11,299
right so the folks that invented it it's

844
00:33:06,289 --> 00:33:13,010
an AI based device and they would I said

845
00:33:11,299 --> 00:33:15,260
it's up alright so you have to drink

846
00:33:13,010 --> 00:33:17,600
because I said AI I'll say machine

847
00:33:15,260 --> 00:33:19,429
learning - alright drink

848
00:33:17,600 --> 00:33:22,129
to be hammered I know right right right

849
00:33:19,429 --> 00:33:23,510
so so instead of doing something I think

850
00:33:22,130 --> 00:33:24,980
they're example on their websites

851
00:33:23,510 --> 00:33:26,539
instead of say playing Super Mario

852
00:33:24,980 --> 00:33:29,480
Brothers that actually learns from

853
00:33:26,539 --> 00:33:32,929
collecting Wi-Fi crackable material in

854
00:33:29,480 --> 00:33:35,510
in the overall Wi-Fi environment it has

855
00:33:32,929 --> 00:33:36,980
some really neat features they could

856
00:33:35,510 --> 00:33:39,410
learn it gets better over time I've

857
00:33:36,980 --> 00:33:41,600
actually taken the kis pi out and my PO

858
00:33:39,410 --> 00:33:44,240
nagashi out and the pono gosh e gets way

859
00:33:41,600 --> 00:33:47,000
more handshakes it really does a great

860
00:33:44,240 --> 00:33:49,370
job it does passive sniffing sniffing

861
00:33:47,000 --> 00:33:52,429
and it also does you just better cap to

862
00:33:49,370 --> 00:33:54,080
do dis associations and so I'm really

863
00:33:52,429 --> 00:33:55,460
not doing it justice I think we're gonna

864
00:33:54,080 --> 00:33:57,289
probably have to move on but if you want

865
00:33:55,460 --> 00:34:00,110
to talk about the pono gachi afterwards

866
00:33:57,289 --> 00:34:02,419
I'll be right outside out of the booths

867
00:34:00,110 --> 00:34:03,799
but one of the main reasons I built the

868
00:34:02,419 --> 00:34:05,960
thing was for when I go on wireless

869
00:34:03,799 --> 00:34:07,580
assessments you know if you go on

870
00:34:05,960 --> 00:34:08,899
on-site as a consultant what's the first

871
00:34:07,580 --> 00:34:11,929
thing it happens in the morning when you

872
00:34:08,899 --> 00:34:13,759
show up there's a meeting right you have

873
00:34:11,929 --> 00:34:15,440
to go for like an hour long meeting and

874
00:34:13,760 --> 00:34:17,240
kind of sit there and you know interface

875
00:34:15,440 --> 00:34:19,190
with the customer well I would like to

876
00:34:17,239 --> 00:34:20,569
kind of automate what I do and so

877
00:34:19,190 --> 00:34:22,879
instead of after that meeting it was

878
00:34:20,570 --> 00:34:25,520
getting my laptop up trying to figure

879
00:34:22,879 --> 00:34:29,839
out drivers for my alpha on my you know

880
00:34:25,520 --> 00:34:31,850
my my right spending until lunchtime

881
00:34:29,840 --> 00:34:33,919
trying to figure out why the Alpha isn't

882
00:34:31,850 --> 00:34:36,469
working like that's never happened

883
00:34:33,918 --> 00:34:38,418
before so no now I take the pono gachi

884
00:34:36,469 --> 00:34:39,799
and I'm probably going to get your

885
00:34:38,418 --> 00:34:42,168
handshake while I'm sitting in that

886
00:34:39,800 --> 00:34:44,480
meeting right and so while it does I

887
00:34:42,168 --> 00:34:46,850
think mine over its lifetime has 508

888
00:34:44,480 --> 00:34:48,290
handshakes I've built it last November

889
00:34:46,850 --> 00:34:50,600
so that's not bad right

890
00:34:48,290 --> 00:34:53,029
but obviously I'm not cracking them

891
00:34:50,600 --> 00:34:54,139
without authorization but if it's the

892
00:34:53,030 --> 00:34:55,639
Wireless assessment for you and I

893
00:34:54,139 --> 00:35:02,990
captured your handshake yeah I get to go

894
00:34:55,639 --> 00:35:05,660
try and crack it it's the James Bond

895
00:35:02,990 --> 00:35:09,830
layer yeah does anyone know where that

896
00:35:05,660 --> 00:35:12,500
layers from its kind of dark to see a

897
00:35:09,830 --> 00:35:15,380
data center in Sweden actually it's kind

898
00:35:12,500 --> 00:35:16,880
of interesting next one all right so

899
00:35:15,380 --> 00:35:18,590
what she'll talk about quickly about

900
00:35:16,880 --> 00:35:20,840
some stuff you can use for those ARM

901
00:35:18,590 --> 00:35:22,310
processors at home right security stuff

902
00:35:20,840 --> 00:35:24,380
you guys haven't heard of piehole it's

903
00:35:22,310 --> 00:35:26,450
really cool a DNS blacklisting DNS

904
00:35:24,380 --> 00:35:28,640
blackhole is really what it is get it

905
00:35:26,450 --> 00:35:30,290
rid of all those ads your significant

906
00:35:28,640 --> 00:35:31,490
other may be upset though when they

907
00:35:30,290 --> 00:35:34,070
can't shop properly

908
00:35:31,490 --> 00:35:35,419
but there's ways to whitelist someone so

909
00:35:34,070 --> 00:35:41,210
forth I get to hear this to my wife all

910
00:35:35,420 --> 00:35:43,700
the time next another one IP fire this

911
00:35:41,210 --> 00:35:45,589
will is a firewall you can run on your

912
00:35:43,700 --> 00:35:48,348
arm device very inexpensive way to kind

913
00:35:45,589 --> 00:35:49,880
of get up firewall rolling and at your

914
00:35:48,349 --> 00:35:52,220
home network there's a bunch of other

915
00:35:49,880 --> 00:35:56,630
ways to do this too but this is arm base

916
00:35:52,220 --> 00:35:58,580
oh and then this one I just added in

917
00:35:56,630 --> 00:36:00,170
there for fun this is a kubernetes

918
00:35:58,580 --> 00:36:02,270
cluster is anyone heard of kubernetes

919
00:36:00,170 --> 00:36:03,800
you should drink after hearing me say

920
00:36:02,270 --> 00:36:05,690
the word man we've got all kinds of

921
00:36:03,800 --> 00:36:11,240
buzzwords I know this is buzzword bingo

922
00:36:05,690 --> 00:36:14,270
anyways so kubernetes anyways the point

923
00:36:11,240 --> 00:36:16,549
here is this cluster is just a bunch of

924
00:36:14,270 --> 00:36:19,790
raspberry PI's the bottom here there are

925
00:36:16,550 --> 00:36:21,320
Pee Wee powered and what do you call it

926
00:36:19,790 --> 00:36:24,140
this is a great way to learn how to use

927
00:36:21,320 --> 00:36:25,580
kubernetes play around with it if it's

928
00:36:24,140 --> 00:36:26,720
definitely emerging in the security

929
00:36:25,580 --> 00:36:28,069
field right they're having hold tracks

930
00:36:26,720 --> 00:36:29,689
about it so if you want to play around

931
00:36:28,070 --> 00:36:31,849
with it not spend a million dollars and

932
00:36:29,690 --> 00:36:33,890
also have more than one node great way

933
00:36:31,849 --> 00:36:35,540
to play I mean and when you have parties

934
00:36:33,890 --> 00:36:37,670
at home who wouldn't want to talk about

935
00:36:35,540 --> 00:36:38,960
your cluster of Raspberry Pi fours that

936
00:36:37,670 --> 00:36:42,530
you're running kubernetes on it's a

937
00:36:38,960 --> 00:36:47,000
pretty good piece my wife likes hearing

938
00:36:42,530 --> 00:36:48,859
it alright so anyways here are some

939
00:36:47,000 --> 00:36:50,180
links we're gonna put the talk all the

940
00:36:48,859 --> 00:36:52,640
slides so you can take pictures if you

941
00:36:50,180 --> 00:36:54,259
did sorry the pellet cap we have the

942
00:36:52,640 --> 00:36:56,089
build where we took a picture of how we

943
00:36:54,260 --> 00:36:57,859
put it together feel free to modify

944
00:36:56,089 --> 00:36:59,869
change it use different cards get

945
00:36:57,859 --> 00:37:01,160
creative with it but we have all the

946
00:36:59,869 --> 00:37:03,200
pictures kind of the steps have put it

947
00:37:01,160 --> 00:37:04,549
together I think it's a fun build if

948
00:37:03,200 --> 00:37:07,819
somebody comes up with a cooler creative

949
00:37:04,550 --> 00:37:10,820
way I am definitely all ears the shadow

950
00:37:07,820 --> 00:37:12,560
pie I get build and for that as well

951
00:37:10,820 --> 00:37:15,470
just kind of some ideas of how you might

952
00:37:12,560 --> 00:37:18,109
do that again get creative hack the

953
00:37:15,470 --> 00:37:20,359
planet IO we do a show just I put a

954
00:37:18,109 --> 00:37:22,190
quick one out there yeah and we we have

955
00:37:20,359 --> 00:37:24,319
all these devices with us so feel free

956
00:37:22,190 --> 00:37:25,849
to you know come up up yeah check it out

957
00:37:24,320 --> 00:37:27,290
by the you know the booth and take a

958
00:37:25,849 --> 00:37:32,930
look because who doesn't like hacker

959
00:37:27,290 --> 00:37:35,259
toys and I think that's question is it

960
00:37:32,930 --> 00:37:38,259
[Music]

961
00:37:35,260 --> 00:37:38,260
yep

962
00:37:52,210 --> 00:37:57,319
so the question for those in the back

963
00:37:54,920 --> 00:38:00,319
was on the vulnerability scanning stuff

964
00:37:57,319 --> 00:38:03,920
you know is there a solution or do you

965
00:38:00,319 --> 00:38:05,869
just have to move up in terms of you

966
00:38:03,920 --> 00:38:07,910
know rescanning from one of these kinds

967
00:38:05,869 --> 00:38:10,210
of devices and you know we were actually

968
00:38:07,910 --> 00:38:13,730
kind of surprised I think that Nessus

969
00:38:10,210 --> 00:38:15,710
build and that open Vaz did I mean you

970
00:38:13,730 --> 00:38:17,540
would think that you know the tenable

971
00:38:15,710 --> 00:38:18,800
would you know I guess maybe there's

972
00:38:17,540 --> 00:38:20,808
just not a market for it

973
00:38:18,800 --> 00:38:22,490
Nessus is mostly written in Python for

974
00:38:20,809 --> 00:38:24,470
anyone who doesn't know so I don't

975
00:38:22,490 --> 00:38:27,020
understand which then also surprised me

976
00:38:24,470 --> 00:38:28,848
but hey whatever so I think the answer

977
00:38:27,020 --> 00:38:30,589
is yeah if you're gonna do a

978
00:38:28,849 --> 00:38:33,440
vulnerability scan you're probably gonna

979
00:38:30,589 --> 00:38:35,240
have to give the client an ISO or get

980
00:38:33,440 --> 00:38:36,619
some kind of higher powered device I

981
00:38:35,240 --> 00:38:38,000
shouldn't even say that it doesn't even

982
00:38:36,619 --> 00:38:40,309
have to be higher power I think the

983
00:38:38,000 --> 00:38:42,890
Raspberry Pi 4 has plenty of power I

984
00:38:40,309 --> 00:38:44,119
mean you can scan just has to be x86

985
00:38:42,890 --> 00:38:46,609
yeah it's just it's just the

986
00:38:44,119 --> 00:38:48,200
architecture and its support for it

987
00:38:46,609 --> 00:38:49,819
right I mean there's probably some

988
00:38:48,200 --> 00:38:52,279
creative solutions to like you could

989
00:38:49,819 --> 00:38:53,690
probably set up over the VPN even over

990
00:38:52,280 --> 00:38:57,020
the LTE connection or whatever you could

991
00:38:53,690 --> 00:38:59,299
probably proxy through and your mileage

992
00:38:57,020 --> 00:39:05,319
may vary but I think the answer is it's

993
00:38:59,299 --> 00:39:05,319
just probably not there yet go ahead

994
00:39:07,990 --> 00:39:16,220
like the plant and the device oh yeah

995
00:39:13,880 --> 00:39:18,349
putting it in a plan so like so you're

996
00:39:16,220 --> 00:39:20,540
asking about war stories right right

997
00:39:18,349 --> 00:39:22,430
right so the question for those in the

998
00:39:20,540 --> 00:39:24,170
back where is the most interesting place

999
00:39:22,430 --> 00:39:26,359
that you've had to plant one well under

1000
00:39:24,170 --> 00:39:29,240
the desk in the middle of LA that was

1001
00:39:26,359 --> 00:39:31,160
kind of fun right because the the guards

1002
00:39:29,240 --> 00:39:33,439
actually while we were there they

1003
00:39:31,160 --> 00:39:34,848
actually later on they were on to us

1004
00:39:33,440 --> 00:39:38,119
they just didn't say anything and they

1005
00:39:34,849 --> 00:39:40,460
actually had googled you know the cloner

1006
00:39:38,119 --> 00:39:44,299
that we were using right the I'm

1007
00:39:40,460 --> 00:39:46,309
blinking proxmark yeah yeah so they were

1008
00:39:44,299 --> 00:39:49,009
like walked by and saw us sitting out

1009
00:39:46,309 --> 00:39:50,089
there like cloning badges like just

1010
00:39:49,010 --> 00:39:51,559
sitting out in the lobby of this

1011
00:39:50,089 --> 00:39:52,610
building so that was kind of interesting

1012
00:39:51,559 --> 00:39:55,610
another one that I

1013
00:39:52,610 --> 00:39:58,100
did was we went to like a government

1014
00:39:55,610 --> 00:40:00,050
manufacturer type facility where you

1015
00:39:58,100 --> 00:40:01,610
know if we were actually attacking the

1016
00:40:00,050 --> 00:40:05,030
kind of place and got in trouble kind of

1017
00:40:01,610 --> 00:40:07,700
put you in get mo kind of place and we I

1018
00:40:05,030 --> 00:40:10,910
was able to get into their two-factor

1019
00:40:07,700 --> 00:40:14,000
data center and implant a device in

1020
00:40:10,910 --> 00:40:15,950
there right so that to fact did anyone

1021
00:40:14,000 --> 00:40:20,890
gonna guess how I got past the biometric

1022
00:40:15,950 --> 00:40:25,790
fingerprint lock under the door tool

1023
00:40:20,890 --> 00:40:27,350
yeah I did one at a power facility where

1024
00:40:25,790 --> 00:40:28,759
I'd walk around with a hardhat and then

1025
00:40:27,350 --> 00:40:30,259
you know started looking at stuff which

1026
00:40:28,760 --> 00:40:31,760
I had no idea how any of this stuff

1027
00:40:30,260 --> 00:40:33,050
works by the way so I'm just looking

1028
00:40:31,760 --> 00:40:34,550
around like uh what I'm supposed to be

1029
00:40:33,050 --> 00:40:36,770
doing and I find one computer in the

1030
00:40:34,550 --> 00:40:38,090
whole place and put a drop device behind

1031
00:40:36,770 --> 00:40:40,310
it it was like inside of a building it

1032
00:40:38,090 --> 00:40:42,830
was it was well my probably my favorite

1033
00:40:40,310 --> 00:40:46,430
physical of all time was one that Derek

1034
00:40:42,830 --> 00:40:48,940
and I was on and so I got a call my boss

1035
00:40:46,430 --> 00:40:51,230
and say hey can i expense a guitar in

1036
00:40:48,940 --> 00:40:54,770
because we were attacking a recording

1037
00:40:51,230 --> 00:40:57,050
studio and the answer is yes so a week

1038
00:40:54,770 --> 00:40:59,090
since in guitar and we walked in as

1039
00:40:57,050 --> 00:41:00,950
musicians and they let us actually go

1040
00:40:59,090 --> 00:41:02,840
into a room like a recording studio like

1041
00:41:00,950 --> 00:41:05,540
practice room did you can they left us

1042
00:41:02,840 --> 00:41:15,700
there yeah planted the device in the

1043
00:41:05,540 --> 00:41:15,700
recording studio is awesome yeah yeah no

1044
00:41:16,840 --> 00:41:24,740
[Music]

1045
00:41:19,270 --> 00:41:26,480
they throw it in the trash yeah no I

1046
00:41:24,740 --> 00:41:28,040
mean well ask for back at the end of the

1047
00:41:26,480 --> 00:41:29,870
engagement you'd be surprised

1048
00:41:28,040 --> 00:41:31,310
kind of like a lot of times most

1049
00:41:29,870 --> 00:41:33,170
engagements they'll find a device but

1050
00:41:31,310 --> 00:41:34,400
we're already so far along that once we

1051
00:41:33,170 --> 00:41:35,660
tell them what's going on I mean I've

1052
00:41:34,400 --> 00:41:37,640
had literally stuff like panic people

1053
00:41:35,660 --> 00:41:39,649
calling because they didn't know like so

1054
00:41:37,640 --> 00:41:40,819
they'll be like the seaso knows about it

1055
00:41:39,650 --> 00:41:42,110
but everyone else on the other team

1056
00:41:40,820 --> 00:41:43,760
doesn't right that's the whole point and

1057
00:41:42,110 --> 00:41:45,350
they were panicking at that point they

1058
00:41:43,760 --> 00:41:46,640
have no idea they found this device you

1059
00:41:45,350 --> 00:41:48,890
know they think Russia is here or

1060
00:41:46,640 --> 00:41:50,420
whatever you may insert you know name of

1061
00:41:48,890 --> 00:41:52,009
country and so yeah one of things we've

1062
00:41:50,420 --> 00:41:54,350
done is we put like our company sticker

1063
00:41:52,010 --> 00:41:55,700
on the inside of the case device so it's

1064
00:41:54,350 --> 00:41:58,660
like a business card yeah yeah business

1065
00:41:55,700 --> 00:41:58,660
card like call call us

1066
00:42:00,890 --> 00:42:04,710
yeah that's a really good question so

1067
00:42:03,270 --> 00:42:06,600
and that's something else that comes

1068
00:42:04,710 --> 00:42:08,940
into building a drop device do not build

1069
00:42:06,600 --> 00:42:10,830
a 2,000 dollar drop device okay there's

1070
00:42:08,940 --> 00:42:13,410
a dumb idea for a bunch of reasons one

1071
00:42:10,830 --> 00:42:14,400
it's over built but no uh you you don't

1072
00:42:13,410 --> 00:42:15,420
know if you're gonna get it back or not

1073
00:42:14,400 --> 00:42:16,650
and then you have to expense it to the

1074
00:42:15,420 --> 00:42:17,850
customer the customer may be upset that

1075
00:42:16,650 --> 00:42:21,390
you're bringing a real expense device

1076
00:42:17,850 --> 00:42:22,920
that cost about five hundred to build

1077
00:42:21,390 --> 00:42:25,020
the pella cap that's because of all the

1078
00:42:22,920 --> 00:42:28,050
the the Wireless cards the LTE

1079
00:42:25,020 --> 00:42:30,390
everything it adds up but to build just

1080
00:42:28,050 --> 00:42:31,140
the hat with LTE you could probably get

1081
00:42:30,390 --> 00:42:32,670
that for bout a couple hundred dollars

1082
00:42:31,140 --> 00:42:35,100
which is probably where the pressure

1083
00:42:32,670 --> 00:42:38,600
points should be for a what he called a

1084
00:42:35,100 --> 00:42:38,600
drop device right couple hundred ollars

1085
00:42:46,850 --> 00:42:59,700
you mean as far as the adapter itself

1086
00:42:49,500 --> 00:43:01,650
where as far as the network I I have

1087
00:42:59,700 --> 00:43:03,089
never used that before no and are you

1088
00:43:01,650 --> 00:43:04,410
talking about the price of the plant I

1089
00:43:03,090 --> 00:43:10,410
think the data plans are like ten

1090
00:43:04,410 --> 00:43:12,149
dollars or something sure sure

1091
00:43:10,410 --> 00:43:14,670
ya know and that's also so anybody else

1092
00:43:12,150 --> 00:43:15,930
you also wondering GSM it's still out

1093
00:43:14,670 --> 00:43:16,980
there there's some really cheap ones out

1094
00:43:15,930 --> 00:43:19,200
there you can kind of get into that

1095
00:43:16,980 --> 00:43:21,980
it's really low data rate though so just

1096
00:43:19,200 --> 00:43:21,980
be cognizant of that

1097
00:43:28,590 --> 00:43:35,400
oh yeah yeah they get around it and

1098
00:43:34,110 --> 00:43:36,810
they're figuring out like hey what is

1099
00:43:35,400 --> 00:43:38,010
this doing what's it calling out to and

1100
00:43:36,810 --> 00:43:40,860
stuff like that yeah I mean you

1101
00:43:38,010 --> 00:43:42,270
definitely could have that scenario I

1102
00:43:40,860 --> 00:43:43,950
was saying we talked about this we had

1103
00:43:42,270 --> 00:43:45,570
that we had this conversation yeah and I

1104
00:43:43,950 --> 00:43:47,279
haven't personally had it where they

1105
00:43:45,570 --> 00:43:48,030
went too far because usually think about

1106
00:43:47,280 --> 00:43:50,100
it this way right

1107
00:43:48,030 --> 00:43:52,110
if your team finds this thing they're

1108
00:43:50,100 --> 00:43:53,400
not going to see so and whoever actually

1109
00:43:52,110 --> 00:43:56,790
knows they're not gonna let them spin

1110
00:43:53,400 --> 00:43:58,980
you know the next five days tearing this

1111
00:43:56,790 --> 00:44:01,710
thing apart and doing offs chip circuit

1112
00:43:58,980 --> 00:44:03,360
removal right like it's not really a

1113
00:44:01,710 --> 00:44:04,680
good you know at that point you got to

1114
00:44:03,360 --> 00:44:07,320
call it and say hey they got inside

1115
00:44:04,680 --> 00:44:10,230
because that test is not just about

1116
00:44:07,320 --> 00:44:11,790
getting access to the network it's also

1117
00:44:10,230 --> 00:44:13,170
about the physical security right and

1118
00:44:11,790 --> 00:44:14,670
that's the other piece that we need to

1119
00:44:13,170 --> 00:44:15,870
bring it around to yeah and their

1120
00:44:14,670 --> 00:44:17,930
response to that physical security

1121
00:44:15,870 --> 00:44:20,190
breach exactly

1122
00:44:17,930 --> 00:44:28,290
any other questions we got two more

1123
00:44:20,190 --> 00:44:32,270
minutes oh go ahead man yes I not up yet

1124
00:44:28,290 --> 00:44:43,230
they will be I gotta put it to a PDF

1125
00:44:32,270 --> 00:44:44,759
what yeah yeah so I mean you can totally

1126
00:44:43,230 --> 00:44:46,770
do that I think isn't that what the the

1127
00:44:44,760 --> 00:44:48,660
poem plug pretty much was I think so

1128
00:44:46,770 --> 00:44:51,810
yeah yeah just look it looks like a it

1129
00:44:48,660 --> 00:44:53,129
looks like a power brick yeah like just

1130
00:44:51,810 --> 00:44:54,600
a power brick or something like that get

1131
00:44:53,130 --> 00:44:55,860
creative with it like the more it looks

1132
00:44:54,600 --> 00:44:57,299
like something that's in the office I

1133
00:44:55,860 --> 00:44:59,010
mean go around walk some corporate

1134
00:44:57,300 --> 00:45:00,390
offices or walk around your office all

1135
00:44:59,010 --> 00:45:02,010
right and look at what people have on

1136
00:45:00,390 --> 00:45:03,240
their desk you'd be surprised what

1137
00:45:02,010 --> 00:45:04,980
people have on their tests I mean

1138
00:45:03,240 --> 00:45:06,509
another one is picture frames that'd be

1139
00:45:04,980 --> 00:45:08,640
a great one too it'd be a little tough

1140
00:45:06,510 --> 00:45:10,230
with that size but you know you know one

1141
00:45:08,640 --> 00:45:11,759
time we actually entertained the idea of

1142
00:45:10,230 --> 00:45:13,800
running an Android app and sending

1143
00:45:11,760 --> 00:45:16,110
someone an actual tablet and then have

1144
00:45:13,800 --> 00:45:18,390
an app pre-installed where it would do

1145
00:45:16,110 --> 00:45:20,490
text-to-speech for Google it worked

1146
00:45:18,390 --> 00:45:22,560
really well except the tablet didn't

1147
00:45:20,490 --> 00:45:25,109
have enough horsepower to do it but so

1148
00:45:22,560 --> 00:45:27,240
it's the the the sky is pretty much the

1149
00:45:25,110 --> 00:45:28,950
limit and one of the things we're trying

1150
00:45:27,240 --> 00:45:31,680
to get done for this talk was actually

1151
00:45:28,950 --> 00:45:35,399
3d printing a custom case but apparently

1152
00:45:31,680 --> 00:45:37,919
our 3d design skills not it's not really

1153
00:45:35,400 --> 00:45:40,710
I can buy a printer but I chose it yeah

1154
00:45:37,920 --> 00:45:41,130
if I'm printing a pro nagashi case that

1155
00:45:40,710 --> 00:45:43,140
I down

1156
00:45:41,130 --> 00:45:53,009
loaded right but if anybody in here is a

1157
00:45:43,140 --> 00:45:59,549
3d modeler you know we should talk the

1158
00:45:53,009 --> 00:46:00,720
plant the plant a backpack okay so do

1159
00:45:59,549 --> 00:46:02,819
you know normally walk in with just the

1160
00:46:00,720 --> 00:46:04,589
backpack on your bag typically once

1161
00:46:02,819 --> 00:46:06,450
we're doing that piece of it it's

1162
00:46:04,589 --> 00:46:07,680
usually I already have a clone badge so

1163
00:46:06,450 --> 00:46:09,269
I'm coming in looking as an employee

1164
00:46:07,680 --> 00:46:10,169
I'll come in the after-hours and stuff

1165
00:46:09,269 --> 00:46:12,450
like that

1166
00:46:10,170 --> 00:46:14,069
it's wild some some places you go in

1167
00:46:12,450 --> 00:46:15,689
it's totally clean desk and you won't

1168
00:46:14,069 --> 00:46:17,339
find anything not even a computer and

1169
00:46:15,690 --> 00:46:18,809
other places you go in and there's just

1170
00:46:17,339 --> 00:46:20,400
like people have desks with just mounds

1171
00:46:18,809 --> 00:46:23,190
of papers I mean it's just treasure

1172
00:46:20,400 --> 00:46:24,869
trove of stuff it's just so oh yeah I'd

1173
00:46:23,190 --> 00:46:27,119
say the number one way we get in

1174
00:46:24,869 --> 00:46:28,500
physicals is cloning badges yeah because

1175
00:46:27,119 --> 00:46:30,900
people have a false sense of security

1176
00:46:28,500 --> 00:46:33,750
that those hid readers are actually

1177
00:46:30,900 --> 00:46:36,599
secure they're really not but that's

1178
00:46:33,750 --> 00:46:40,619
actually a whole nother talk been done

1179
00:46:36,599 --> 00:46:43,799
many times all right that's it is I

1180
00:46:40,619 --> 00:46:45,990
think we're out of time so I just app

1181
00:46:43,799 --> 00:46:47,220
can you come by our booth yeah yeah cool

1182
00:46:45,990 --> 00:46:48,689
thanks thanks everyone

1183
00:46:47,220 --> 00:46:52,520
thanks everybody

1184
00:46:48,690 --> 00:46:55,670
[Applause]

1185
00:46:52,520 --> 00:46:55,670
[Music]

