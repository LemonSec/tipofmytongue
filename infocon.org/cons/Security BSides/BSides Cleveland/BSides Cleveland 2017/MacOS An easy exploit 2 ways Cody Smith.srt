1
00:00:00,000 --> 00:00:03,480
<font color="#CCCCCC">cap</font><font color="#E5E5E5"> could be way too hot but in the</font>

2
00:00:02,070 --> 00:00:04,830
shade out here I could have<font color="#CCCCCC"> definitely</font>

3
00:00:03,480 --> 00:00:08,370
gone with<font color="#CCCCCC"> turmeric that's why with the</font>

4
00:00:04,830 --> 00:00:11,849
Apple default<font color="#E5E5E5"> keynote slides anyways</font>

5
00:00:08,370 --> 00:00:15,690
so my name is<font color="#E5E5E5"> Cody Smith at mr. Cody a</font>

6
00:00:11,849 --> 00:00:17,220
<font color="#E5E5E5">Smith on Twitter if you're into that</font><font color="#CCCCCC"> and</font>

7
00:00:15,690 --> 00:00:19,109
today<font color="#E5E5E5"> we're going to talk</font><font color="#CCCCCC"> about Mac</font>

8
00:00:17,220 --> 00:00:22,198
exploitation and we're going<font color="#E5E5E5"> to do it</font>

9
00:00:19,109 --> 00:00:25,590
quick<font color="#E5E5E5"> and easy two ways the goal here is</font>

10
00:00:22,199 --> 00:00:27,720
<font color="#E5E5E5">just to get a session on a Mac easily</font>

11
00:00:25,590 --> 00:00:33,899
and repetitively<font color="#CCCCCC"> it's got to work every</font>

12
00:00:27,720 --> 00:00:36,750
time<font color="#E5E5E5"> so again about</font><font color="#CCCCCC"> me</font><font color="#E5E5E5"> so I'm a security</font>

13
00:00:33,899 --> 00:00:41,070
engineer slash system administrator<font color="#CCCCCC"> day</font>

14
00:00:36,750 --> 00:00:44,219
to<font color="#E5E5E5"> day it's everything from max to Linux</font>

15
00:00:41,070 --> 00:00:48,390
servers<font color="#E5E5E5"> FreeBSD DNS all sorts of things</font>

16
00:00:44,219 --> 00:00:51,239
my<font color="#CCCCCC"> days pretty different</font><font color="#E5E5E5"> ah</font><font color="#CCCCCC"> I like</font>

17
00:00:48,390 --> 00:00:57,270
corgis I<font color="#CCCCCC"> use</font><font color="#E5E5E5"> them exclusively</font><font color="#CCCCCC"> and I use</font>

18
00:00:51,239 --> 00:00:59,910
spaces<font color="#E5E5E5"> exclusively yes no tabs no I get</font>

19
00:00:57,270 --> 00:01:04,470
made fun of if I use tabs<font color="#E5E5E5"> so again what</font>

20
00:00:59,910 --> 00:01:07,140
are we doing I want to<font color="#CCCCCC"> go over why why</font>

21
00:01:04,470 --> 00:01:09,450
<font color="#CCCCCC">this came about and why we're doing</font><font color="#E5E5E5"> it</font>

22
00:01:07,140 --> 00:01:12,210
and then<font color="#E5E5E5"> wearing it that shell on the</font>

23
00:01:09,450 --> 00:01:14,070
Mac and we're going to try to fish a Mac

24
00:01:12,210 --> 00:01:15,960
user<font color="#CCCCCC"> and get</font><font color="#E5E5E5"> the shell again so we're</font>

25
00:01:14,070 --> 00:01:19,880
just going<font color="#CCCCCC"> to deploy the same exploit</font>

26
00:01:15,960 --> 00:01:25,490
<font color="#E5E5E5">two completely different ways okay</font>

27
00:01:19,880 --> 00:01:28,169
so why<font color="#E5E5E5"> are we</font><font color="#CCCCCC"> doing this</font><font color="#E5E5E5"> so to secure a</font>

28
00:01:25,490 --> 00:01:29,460
to secure a Mac system I feel like you

29
00:01:28,170 --> 00:01:32,009
have<font color="#E5E5E5"> to know what makes it insecure</font>

30
00:01:29,460 --> 00:01:34,199
<font color="#CCCCCC">right if you don't</font><font color="#E5E5E5"> know that</font><font color="#CCCCCC"> a</font><font color="#E5E5E5"> next</font>

31
00:01:32,009 --> 00:01:35,640
place out<font color="#CCCCCC"> there</font><font color="#E5E5E5"> you can't really protect</font>

32
00:01:34,200 --> 00:01:40,140
against it unless you<font color="#E5E5E5"> just have an</font>

33
00:01:35,640 --> 00:01:42,659
<font color="#CCCCCC">air-gap</font><font color="#E5E5E5"> turned off in your bag so that's</font>

34
00:01:40,140 --> 00:01:46,799
what brought this to light so about a

35
00:01:42,659 --> 00:01:49,430
year<font color="#CCCCCC"> ago</font><font color="#E5E5E5"> BH</font><font color="#CCCCCC"> is Black Hills</font><font color="#E5E5E5"> information</font>

36
00:01:46,799 --> 00:01:51,720
security had their cash cow tipping

37
00:01:49,430 --> 00:01:55,710
webcast<font color="#CCCCCC"> it was great</font><font color="#E5E5E5"> you haven't watched</font>

38
00:01:51,720 --> 00:01:59,479
it<font color="#E5E5E5"> go do so</font><font color="#CCCCCC"> and on there</font><font color="#E5E5E5"> they only had</font>

39
00:01:55,710 --> 00:02:04,380
one<font color="#CCCCCC"> pen</font><font color="#E5E5E5"> tester BB hack King on Twitter</font>

40
00:01:59,479 --> 00:02:06,960
<font color="#CCCCCC">they did Mac ok</font><font color="#E5E5E5"> and the purpose for his</font>

41
00:02:04,380 --> 00:02:09,269
was<font color="#E5E5E5"> to get past Sophos antivirus</font><font color="#CCCCCC"> I</font>

42
00:02:06,960 --> 00:02:11,790
really don't care<font color="#E5E5E5"> so much about getting</font>

43
00:02:09,270 --> 00:02:13,770
<font color="#CCCCCC">past antivirus is getting that shell</font><font color="#E5E5E5"> but</font>

44
00:02:11,790 --> 00:02:15,390
it brought the Umbra

45
00:02:13,770 --> 00:02:19,260
<font color="#E5E5E5">to light I never thought about this</font>

46
00:02:15,390 --> 00:02:19,700
<font color="#E5E5E5">attack vector right so what are we doing</font>

47
00:02:19,260 --> 00:02:22,980
here

48
00:02:19,700 --> 00:02:26,310
well the culprit<font color="#E5E5E5"> to all of this was OS</font>

49
00:02:22,980 --> 00:02:29,310
X's integrated<font color="#CCCCCC"> Automator Automator is a</font>

50
00:02:26,310 --> 00:02:32,520
app on all<font color="#CCCCCC"> OSX devices you can run</font>

51
00:02:29,310 --> 00:02:37,710
either<font color="#E5E5E5"> a workflow you can run a workflow</font>

52
00:02:32,520 --> 00:02:39,720
applications<font color="#E5E5E5"> in my</font><font color="#CCCCCC"> day-to-day use</font><font color="#E5E5E5"> I use</font>

53
00:02:37,710 --> 00:02:43,370
it as a Mac system<font color="#CCCCCC"> Adam</font><font color="#E5E5E5"> it makes my life</font>

54
00:02:39,720 --> 00:02:45,840
<font color="#CCCCCC">easier</font><font color="#E5E5E5"> because I can deploy these small</font>

55
00:02:43,370 --> 00:02:48,180
<font color="#CCCCCC">hone dent apps</font><font color="#E5E5E5"> just to do certain things</font>

56
00:02:45,840 --> 00:02:53,040
<font color="#E5E5E5">like join to a domain</font><font color="#CCCCCC"> or</font><font color="#E5E5E5"> things of that</font>

57
00:02:48,180 --> 00:02:56,010
<font color="#E5E5E5">nature</font><font color="#CCCCCC"> and if you do have a Apple</font>

58
00:02:53,040 --> 00:02:58,380
certified developer<font color="#E5E5E5"> cert we'll get into</font>

59
00:02:56,010 --> 00:02:59,790
<font color="#E5E5E5">that you can sign your applications</font>

60
00:02:58,380 --> 00:03:05,810
<font color="#E5E5E5">coming out of Automator</font><font color="#CCCCCC"> which makes it</font>

61
00:02:59,790 --> 00:03:09,570
easy<font color="#CCCCCC"> so where everything lies is in</font>

62
00:03:05,810 --> 00:03:12,540
<font color="#CCCCCC">Automator under utilities you</font><font color="#E5E5E5"> can choose</font>

63
00:03:09,570 --> 00:03:15,000
to run<font color="#E5E5E5"> something in a shell on Mac and</font>

64
00:03:12,540 --> 00:03:20,160
one of the shells they give you is

65
00:03:15,000 --> 00:03:22,350
Python so let's<font color="#CCCCCC"> assume the user we're</font>

66
00:03:20,160 --> 00:03:25,109
trying to go after<font color="#E5E5E5"> here is a college kid</font>

67
00:03:22,350 --> 00:03:27,209
right let's assume<font color="#CCCCCC"> they</font><font color="#E5E5E5"> don't have</font>

68
00:03:25,110 --> 00:03:31,230
<font color="#CCCCCC">anti-virus</font><font color="#E5E5E5"> because max can't get</font><font color="#CCCCCC"> viruses</font>

69
00:03:27,209 --> 00:03:32,850
and they need an application<font color="#CCCCCC"> to clean up</font>

70
00:03:31,230 --> 00:03:34,230
their<font color="#CCCCCC"> Mac</font><font color="#E5E5E5"> because they've had it for</font>

71
00:03:32,850 --> 00:03:36,150
<font color="#E5E5E5">four</font><font color="#CCCCCC"> years</font><font color="#E5E5E5"> now they've done some pretty</font>

72
00:03:34,230 --> 00:03:40,079
odd things on it they need to<font color="#E5E5E5"> clean all</font>

73
00:03:36,150 --> 00:03:44,040
that up<font color="#E5E5E5"> before they go home so they go</font>

74
00:03:40,080 --> 00:03:46,170
on<font color="#E5E5E5"> Google and they find Apple cleaner it</font>

75
00:03:44,040 --> 00:03:48,510
is the<font color="#E5E5E5"> proven</font><font color="#CCCCCC"> Mac OS</font><font color="#E5E5E5"> system cleaner</font>

76
00:03:46,170 --> 00:03:49,980
speeds up your<font color="#CCCCCC"> Mac</font><font color="#E5E5E5"> adds</font><font color="#CCCCCC"> Ram and totally</font>

77
00:03:48,510 --> 00:03:52,609
doesn't<font color="#E5E5E5"> give the developer a reverse</font>

78
00:03:49,980 --> 00:03:57,959
<font color="#CCCCCC">shell on your machine</font><font color="#E5E5E5"> at all</font><font color="#CCCCCC"> I promise</font>

79
00:03:52,610 --> 00:04:02,480
and it's available for<font color="#CCCCCC"> download</font><font color="#E5E5E5"> yeah so</font>

80
00:03:57,959 --> 00:04:06,590
behind<font color="#E5E5E5"> the scenes</font><font color="#CCCCCC"> the attacker creates a</font>

81
00:04:02,480 --> 00:04:10,980
payload<font color="#E5E5E5"> that's reverse reverse</font><font color="#CCCCCC"> HTTPS</font><font color="#E5E5E5"> and</font>

82
00:04:06,590 --> 00:04:14,100
it's<font color="#CCCCCC"> encoded in</font><font color="#E5E5E5"> 64-bit we dump that</font><font color="#CCCCCC"> into</font>

83
00:04:10,980 --> 00:04:16,529
the we dump<font color="#E5E5E5"> that into the</font><font color="#CCCCCC"> Automator</font><font color="#E5E5E5"> and</font>

84
00:04:14,100 --> 00:04:18,659
then you can add<font color="#CCCCCC"> some fun tasks around</font>

85
00:04:16,529 --> 00:04:21,208
<font color="#E5E5E5">it I've added notifications on the top</font>

86
00:04:18,660 --> 00:04:22,800
and<font color="#CCCCCC"> bottom</font><font color="#E5E5E5"> to say hey this application</font>

87
00:04:21,209 --> 00:04:27,330
started or you know thank you<font color="#E5E5E5"> for</font><font color="#CCCCCC"> using</font>

88
00:04:22,800 --> 00:04:29,669
application and then the attacker

89
00:04:27,330 --> 00:04:31,020
so I like to<font color="#E5E5E5"> use the same exact server</font>

90
00:04:29,669 --> 00:04:33,000
that the person downloaded the

91
00:04:31,020 --> 00:04:34,859
application<font color="#E5E5E5"> from because if you're</font>

92
00:04:33,000 --> 00:04:36,210
<font color="#E5E5E5">looking at logs like</font><font color="#CCCCCC"> okay I downloaded</font>

93
00:04:34,860 --> 00:04:38,810
it<font color="#CCCCCC"> from there and now it's talking</font><font color="#E5E5E5"> to</font>

94
00:04:36,210 --> 00:04:41,609
that it makes<font color="#E5E5E5"> sense it's an update right</font>

95
00:04:38,810 --> 00:04:42,840
<font color="#E5E5E5">so what happens is you have to have your</font>

96
00:04:41,610 --> 00:04:44,819
listener sitting there<font color="#E5E5E5"> because you don't</font>

97
00:04:42,840 --> 00:04:47,280
know exactly<font color="#E5E5E5"> when someone or who all is</font>

98
00:04:44,819 --> 00:04:48,509
going<font color="#CCCCCC"> to</font><font color="#E5E5E5"> open your application so you</font>

99
00:04:47,280 --> 00:04:51,150
<font color="#CCCCCC">have to have</font><font color="#E5E5E5"> that sitting there</font><font color="#CCCCCC"> running</font>

100
00:04:48,509 --> 00:04:53,669
for them<font color="#E5E5E5"> and the attacker only needs to</font>

101
00:04:51,150 --> 00:04:55,770
<font color="#E5E5E5">convince the user to drag the</font>

102
00:04:53,669 --> 00:05:00,030
application<font color="#CCCCCC"> into the Applications folder</font>

103
00:04:55,770 --> 00:05:02,430
on Mac which is<font color="#CCCCCC"> what</font><font color="#E5E5E5"> everyone has</font><font color="#CCCCCC"> to do</font>

104
00:05:00,030 --> 00:05:04,080
when you install something<font color="#E5E5E5"> on Mac as</font>

105
00:05:02,430 --> 00:05:06,409
soon as you download<font color="#E5E5E5"> an application this</font>

106
00:05:04,080 --> 00:05:08,818
little bar comes up and it says you<font color="#E5E5E5"> know</font>

107
00:05:06,409 --> 00:05:11,250
<font color="#E5E5E5">insert program name here and you drag it</font>

108
00:05:08,819 --> 00:05:21,629
<font color="#CCCCCC">at the Applications folder</font><font color="#E5E5E5"> tada</font>

109
00:05:11,250 --> 00:05:23,550
you're in right so yeah<font color="#E5E5E5"> yep so you can</font>

110
00:05:21,629 --> 00:05:29,009
<font color="#E5E5E5">drop this just as a dmg and it makes</font>

111
00:05:23,550 --> 00:05:32,129
your life easier<font color="#E5E5E5"> okay so the proof of</font>

112
00:05:29,009 --> 00:05:34,949
concept is where all this comes in<font color="#E5E5E5"> like</font>

113
00:05:32,129 --> 00:05:38,009
I said<font color="#E5E5E5"> you just put</font><font color="#CCCCCC"> that encoded payload</font>

114
00:05:34,949 --> 00:05:40,529
<font color="#CCCCCC">and Apple</font><font color="#E5E5E5"> Automator you save the</font>

115
00:05:38,009 --> 00:05:42,000
<font color="#CCCCCC">application and</font><font color="#E5E5E5"> I want to skip through</font>

116
00:05:40,529 --> 00:05:45,270
the proof<font color="#E5E5E5"> of concept here really quick</font>

117
00:05:42,000 --> 00:05:50,729
and<font color="#E5E5E5"> we</font><font color="#CCCCCC"> will just</font><font color="#E5E5E5"> go</font><font color="#CCCCCC"> to the demo which</font>

118
00:05:45,270 --> 00:05:52,349
<font color="#CCCCCC">lets all hope it works</font><font color="#E5E5E5"> so right here</font>

119
00:05:50,729 --> 00:05:55,378
we're<font color="#CCCCCC"> in my server</font><font color="#E5E5E5"> this is actually</font>

120
00:05:52,349 --> 00:05:57,330
hosted<font color="#E5E5E5"> in AWS which</font><font color="#CCCCCC"> if you've never ran</font>

121
00:05:55,379 --> 00:05:59,099
anything<font color="#CCCCCC"> out of AWS</font><font color="#E5E5E5"> since are actually</font>

122
00:05:57,330 --> 00:06:01,258
<font color="#CCCCCC">really nice</font><font color="#E5E5E5"> I almost prefer it to having</font>

123
00:05:59,099 --> 00:06:02,878
<font color="#CCCCCC">a box</font><font color="#E5E5E5"> at</font><font color="#CCCCCC"> my house at this</font><font color="#E5E5E5"> point</font><font color="#CCCCCC"> I just</font>

124
00:06:01,259 --> 00:06:05,009
<font color="#CCCCCC">make</font><font color="#E5E5E5"> sure you sign the form that says</font>

125
00:06:02,879 --> 00:06:06,509
hey I'm doing pen testing out of this

126
00:06:05,009 --> 00:06:11,659
box<font color="#CCCCCC"> otherwise you get a cease and desist</font>

127
00:06:06,509 --> 00:06:14,039
letter really really quickly<font color="#CCCCCC"> I promise</font>

128
00:06:11,659 --> 00:06:16,379
<font color="#E5E5E5">that was a port scan out of one IP</font>

129
00:06:14,039 --> 00:06:19,830
<font color="#CCCCCC">address and yeah and</font><font color="#E5E5E5"> it was the IP</font>

130
00:06:16,379 --> 00:06:21,270
address that<font color="#E5E5E5"> I</font><font color="#CCCCCC"> owned anyway so we</font><font color="#E5E5E5"> have</font>

131
00:06:19,830 --> 00:06:24,089
the handler<font color="#E5E5E5"> it's running here it's</font>

132
00:06:21,270 --> 00:06:26,580
waiting<font color="#E5E5E5"> for sessions so let's open my</font>

133
00:06:24,089 --> 00:06:28,379
totally legitimate<font color="#CCCCCC"> apple cleaner</font><font color="#E5E5E5"> it's</font>

134
00:06:26,580 --> 00:06:31,948
going to clean<font color="#CCCCCC"> up my PC that's</font><font color="#E5E5E5"> going to</font>

135
00:06:28,379 --> 00:06:35,629
make life<font color="#CCCCCC"> better it's going to</font><font color="#E5E5E5"> take off</font>

136
00:06:31,949 --> 00:06:35,629
all<font color="#E5E5E5"> the crud</font><font color="#CCCCCC"> etc</font>

137
00:06:37,169 --> 00:06:41,789
so the only<font color="#E5E5E5"> I've got notifications</font>

138
00:06:39,870 --> 00:06:43,439
turned<font color="#E5E5E5"> off here so email and stuff like</font>

139
00:06:41,789 --> 00:06:45,509
that doesn't<font color="#E5E5E5"> pop up and get awkward for</font>

140
00:06:43,439 --> 00:06:47,520
everybody<font color="#E5E5E5"> but if you look up</font><font color="#CCCCCC"> here in the</font>

141
00:06:45,509 --> 00:06:49,319
menu<font color="#CCCCCC"> bar and</font><font color="#E5E5E5"> I</font><font color="#CCCCCC"> don't know if you can see</font>

142
00:06:47,520 --> 00:06:51,150
this<font color="#E5E5E5"> because it's relatively small</font><font color="#CCCCCC"> it's</font>

143
00:06:49,319 --> 00:06:53,159
<font color="#E5E5E5">gone but</font><font color="#CCCCCC"> uh there's just</font><font color="#E5E5E5"> a little</font>

144
00:06:51,150 --> 00:06:54,479
<font color="#E5E5E5">sprocket</font><font color="#CCCCCC"> spinning in the top corner so</font>

145
00:06:53,159 --> 00:06:58,289
someone's like<font color="#CCCCCC"> ah okay</font><font color="#E5E5E5"> yeah</font>

146
00:06:54,479 --> 00:07:00,568
<font color="#E5E5E5">applications totally running</font><font color="#CCCCCC"> its time so</font>

147
00:06:58,289 --> 00:07:07,680
we come<font color="#CCCCCC"> here</font><font color="#E5E5E5"> you can see that we have a</font>

148
00:07:00,569 --> 00:07:09,979
session so typing with<font color="#CCCCCC"> one hand is never</font>

149
00:07:07,680 --> 00:07:09,979
fun

150
00:07:11,900 --> 00:07:14,969
[Music]

151
00:07:15,680 --> 00:07:24,000
and you can see where we<font color="#CCCCCC"> are</font><font color="#E5E5E5"> right and</font>

152
00:07:21,080 --> 00:07:25,560
the only<font color="#E5E5E5"> thing this user had</font><font color="#CCCCCC"> to do was</font>

153
00:07:24,000 --> 00:07:28,409
drag and drop an application the

154
00:07:25,560 --> 00:07:30,620
<font color="#CCCCCC">applications folder and run it if you're</font>

155
00:07:28,409 --> 00:07:33,210
<font color="#E5E5E5">wondering how holds up against antivirus</font>

156
00:07:30,620 --> 00:07:36,150
<font color="#CCCCCC">I'm running malwarebytes on my computer</font>

157
00:07:33,210 --> 00:07:38,489
now it's not turned off<font color="#E5E5E5"> and everything</font>

158
00:07:36,150 --> 00:07:40,948
went fine<font color="#E5E5E5"> it never flagged it during the</font>

159
00:07:38,490 --> 00:07:43,500
<font color="#E5E5E5">creation of the application we tested it</font>

160
00:07:40,949 --> 00:07:44,729
as McAfee at work and sure enough it

161
00:07:43,500 --> 00:07:47,430
still allowed the same exact thing<font color="#CCCCCC"> to</font>

162
00:07:44,729 --> 00:07:49,818
<font color="#CCCCCC">happen and it was tested on sofas as</font>

163
00:07:47,430 --> 00:07:53,399
well and it did the<font color="#CCCCCC"> same exact thing so</font>

164
00:07:49,819 --> 00:07:55,620
you<font color="#E5E5E5"> know it's just a matter of you have</font>

165
00:07:53,399 --> 00:07:57,539
to convince the<font color="#E5E5E5"> user of saying hey this</font>

166
00:07:55,620 --> 00:07:59,399
<font color="#CCCCCC">is a totally legitimate</font><font color="#E5E5E5"> application that</font>

167
00:07:57,539 --> 00:08:00,960
totally won't<font color="#E5E5E5"> do anything bad</font><font color="#CCCCCC"> and</font><font color="#E5E5E5"> let's</font>

168
00:07:59,399 --> 00:08:02,849
be honest<font color="#E5E5E5"> most of our end users</font>

169
00:08:00,960 --> 00:08:04,318
<font color="#E5E5E5">especially</font><font color="#CCCCCC"> if we're</font><font color="#E5E5E5"> talking college kids</font>

170
00:08:02,849 --> 00:08:06,000
that<font color="#E5E5E5"> bought a Mac for their computer</font>

171
00:08:04,319 --> 00:08:07,500
they're probably just like heck yeah

172
00:08:06,000 --> 00:08:12,689
<font color="#E5E5E5">it'll</font><font color="#CCCCCC"> work and they move on</font><font color="#E5E5E5"> with their</font>

173
00:08:07,500 --> 00:08:17,819
<font color="#E5E5E5">life so this is great and all and I'm</font>

174
00:08:12,689 --> 00:08:21,270
glad the live demo worked but I call it

175
00:08:17,819 --> 00:08:26,069
<font color="#E5E5E5">an easy</font><font color="#CCCCCC"> actually two ways and why I call</font>

176
00:08:21,270 --> 00:08:28,919
it<font color="#E5E5E5"> two ways</font><font color="#CCCCCC"> is because Apple cleaner</font>

177
00:08:26,069 --> 00:08:31,199
works really really well<font color="#CCCCCC"> you</font><font color="#E5E5E5"> know it</font>

178
00:08:28,919 --> 00:08:35,039
bypasses gatekeeper for the simple fact

179
00:08:31,199 --> 00:08:38,010
<font color="#CCCCCC">that</font><font color="#E5E5E5"> it's signed by me for</font><font color="#CCCCCC"> $99 a</font><font color="#E5E5E5"> year</font>

180
00:08:35,039 --> 00:08:39,448
you too can have signed a malware that's

181
00:08:38,010 --> 00:08:41,039
all the Apple developers saying is

182
00:08:39,448 --> 00:08:41,880
<font color="#CCCCCC">ninety-nine dollars a year you can sign</font>

183
00:08:41,039 --> 00:08:45,060
your applications

184
00:08:41,880 --> 00:08:46,130
I bet the bullet<font color="#E5E5E5"> of the $99 so I can do</font>

185
00:08:45,060 --> 00:08:50,239
this

186
00:08:46,130 --> 00:08:54,740
at the same time<font color="#E5E5E5"> um excuse me</font>

187
00:08:50,240 --> 00:08:56,209
so<font color="#CCCCCC"> Apple</font><font color="#E5E5E5"> cleaner won't really work if</font>

188
00:08:54,740 --> 00:08:58,130
you're trying to<font color="#E5E5E5"> just send it out to</font>

189
00:08:56,209 --> 00:08:59,930
<font color="#E5E5E5">employees of</font><font color="#CCCCCC"> a company right like how</font>

190
00:08:58,130 --> 00:09:01,550
often does your<font color="#E5E5E5"> IT send</font><font color="#CCCCCC"> something</font><font color="#E5E5E5"> to you</font>

191
00:08:59,930 --> 00:09:08,420
<font color="#CCCCCC">like hey clean up your computer please</font>

192
00:09:01,550 --> 00:09:10,790
that's<font color="#CCCCCC"> yeah so to use it an engagement</font>

193
00:09:08,420 --> 00:09:12,920
the first thing I thought<font color="#CCCCCC"> of</font><font color="#E5E5E5"> like</font><font color="#CCCCCC"> hah</font>

194
00:09:10,790 --> 00:09:14,889
<font color="#CCCCCC">what's something</font><font color="#E5E5E5"> the IT would definitely</font>

195
00:09:12,920 --> 00:09:18,920
have me put<font color="#E5E5E5"> on my computer</font>

196
00:09:14,889 --> 00:09:20,839
<font color="#CCCCCC">McAfee so</font><font color="#E5E5E5"> this is a superior Mac</font>

197
00:09:18,920 --> 00:09:22,250
antivirus solution that totally isn't<font color="#CCCCCC"> a</font>

198
00:09:20,839 --> 00:09:24,680
walking vulnerability like other

199
00:09:22,250 --> 00:09:26,029
solutions<font color="#E5E5E5"> it's totally legit</font><font color="#CCCCCC"> the most</font>

200
00:09:24,680 --> 00:09:28,250
secure thing<font color="#E5E5E5"> we could possibly come out</font>

201
00:09:26,029 --> 00:09:29,870
with and this<font color="#E5E5E5"> is</font><font color="#CCCCCC"> what we have and I</font>

202
00:09:28,250 --> 00:09:31,730
didn't have time to<font color="#CCCCCC"> photoshop</font><font color="#E5E5E5"> an Apple</font>

203
00:09:29,870 --> 00:09:38,240
logo into this one<font color="#CCCCCC"> - or I totally want</font>

204
00:09:31,730 --> 00:09:41,000
us so<font color="#CCCCCC"> Enterprise requires AV</font><font color="#E5E5E5"> right it's</font>

205
00:09:38,240 --> 00:09:42,319
a CIS standard it's<font color="#E5E5E5"> a</font><font color="#CCCCCC"> NIST</font><font color="#E5E5E5"> standard you</font>

206
00:09:41,000 --> 00:09:44,480
<font color="#CCCCCC">have to have a centrally managed</font>

207
00:09:42,319 --> 00:09:46,189
antivirus solution<font color="#CCCCCC"> there pretty</font>

208
00:09:44,480 --> 00:09:50,449
prominent on that they haven't backed

209
00:09:46,190 --> 00:09:53,209
off that<font color="#CCCCCC"> stands so most people don't</font>

210
00:09:50,449 --> 00:09:54,859
<font color="#CCCCCC">know</font><font color="#E5E5E5"> what IT does day to day they just</font>

211
00:09:53,209 --> 00:09:56,329
probably<font color="#E5E5E5"> assume in the back of their</font>

212
00:09:54,860 --> 00:09:57,319
head<font color="#CCCCCC"> that it's like a terminal and</font>

213
00:09:56,329 --> 00:10:00,410
<font color="#CCCCCC">Reddit and that's about</font><font color="#E5E5E5"> it</font>

214
00:09:57,319 --> 00:10:03,560
<font color="#CCCCCC">and for some people</font><font color="#E5E5E5"> that's true however</font>

215
00:10:00,410 --> 00:10:06,439
so a phishing<font color="#CCCCCC"> email sending</font><font color="#E5E5E5"> this</font>

216
00:10:03,560 --> 00:10:08,239
application out using<font color="#E5E5E5"> you know whatever</font>

217
00:10:06,439 --> 00:10:09,920
<font color="#E5E5E5">wonderful framework you would like to</font>

218
00:10:08,240 --> 00:10:13,730
use social<font color="#E5E5E5"> engineering toolkits a great</font>

219
00:10:09,920 --> 00:10:14,779
way to make a<font color="#E5E5E5"> quick phishing email so if</font>

220
00:10:13,730 --> 00:10:17,350
you're going<font color="#E5E5E5"> to send that out to the</font>

221
00:10:14,779 --> 00:10:20,540
domain<font color="#E5E5E5"> users they hey everybody</font><font color="#CCCCCC"> its</font><font color="#E5E5E5"> IT</font>

222
00:10:17,350 --> 00:10:23,000
according to big standard here<font color="#CCCCCC"> we need</font>

223
00:10:20,540 --> 00:10:24,920
<font color="#CCCCCC">to deploy this all your</font><font color="#E5E5E5"> Mac's we can't</font>

224
00:10:23,000 --> 00:10:27,740
do it because<font color="#CCCCCC"> it requires your admin</font>

225
00:10:24,920 --> 00:10:29,449
credentials<font color="#E5E5E5"> thank you</font><font color="#CCCCCC"> and if anyone here</font>

226
00:10:27,740 --> 00:10:32,860
<font color="#CCCCCC">is thinking</font><font color="#E5E5E5"> do one on Mac has admin</font>

227
00:10:29,449 --> 00:10:35,899
credentials in a managed<font color="#CCCCCC"> environment</font>

228
00:10:32,860 --> 00:10:37,449
what that guy said everybody does<font color="#E5E5E5"> I</font>

229
00:10:35,899 --> 00:10:40,550
promise

230
00:10:37,449 --> 00:10:42,709
so we send this dmg out to everybody and

231
00:10:40,550 --> 00:10:48,560
<font color="#CCCCCC">say hey</font><font color="#E5E5E5"> everybody install this thing and</font>

232
00:10:42,709 --> 00:10:50,209
sure enough it works<font color="#E5E5E5"> so and I don't</font>

233
00:10:48,560 --> 00:10:55,829
<font color="#CCCCCC">really need</font><font color="#E5E5E5"> to do another live demo you</font>

234
00:10:50,209 --> 00:10:57,599
guys saw the yeah<font color="#E5E5E5"> so</font>

235
00:10:55,830 --> 00:11:00,030
the same exact<font color="#CCCCCC"> installers it has a nice</font>

236
00:10:57,600 --> 00:11:01,380
pretty logo and<font color="#E5E5E5"> stuff like that nobody's</font>

237
00:11:00,030 --> 00:11:03,209
really<font color="#CCCCCC"> going to pay attention</font>

238
00:11:01,380 --> 00:11:05,880
most people don't know if<font color="#E5E5E5"> it's McAfee or</font>

239
00:11:03,210 --> 00:11:07,230
McAfee<font color="#E5E5E5"> so they're not really going to</font>

240
00:11:05,880 --> 00:11:11,520
pay attention<font color="#CCCCCC"> to</font><font color="#E5E5E5"> is this a real</font>

241
00:11:07,230 --> 00:11:13,010
antivirus<font color="#E5E5E5"> anyways so some improvements</font>

242
00:11:11,520 --> 00:11:16,230
<font color="#CCCCCC">to the code</font><font color="#E5E5E5"> that I've made</font><font color="#CCCCCC"> over the past</font>

243
00:11:13,010 --> 00:11:21,150
<font color="#E5E5E5">about six months of toying around with</font>

244
00:11:16,230 --> 00:11:24,030
<font color="#E5E5E5">everything so if you're using it in an</font>

245
00:11:21,150 --> 00:11:25,170
<font color="#CCCCCC">engagement</font><font color="#E5E5E5"> if you're using it for</font><font color="#CCCCCC"> you</font>

246
00:11:24,030 --> 00:11:27,630
know pen testing<font color="#E5E5E5"> or anything in the</font>

247
00:11:25,170 --> 00:11:29,760
nature there's a<font color="#E5E5E5"> couple things that will</font>

248
00:11:27,630 --> 00:11:31,439
benefit you a is like I<font color="#E5E5E5"> said getting</font>

249
00:11:29,760 --> 00:11:34,080
<font color="#E5E5E5">your Apple certified developer</font>

250
00:11:31,440 --> 00:11:35,670
certificate<font color="#E5E5E5"> and when I went</font><font color="#CCCCCC"> through the</font>

251
00:11:34,080 --> 00:11:37,140
<font color="#CCCCCC">process I did</font><font color="#E5E5E5"> it legitimately because</font>

252
00:11:35,670 --> 00:11:39,900
<font color="#E5E5E5">I'm using some applications that I'm</font>

253
00:11:37,140 --> 00:11:41,430
doing but you can also do it<font color="#CCCCCC"> completely</font>

254
00:11:39,900 --> 00:11:43,560
illegitimate<font color="#E5E5E5"> Lee just like you can set</font>

255
00:11:41,430 --> 00:11:44,900
<font color="#E5E5E5">up a fake iTunes account it's not really</font>

256
00:11:43,560 --> 00:11:50,040
difficult

257
00:11:44,900 --> 00:11:54,270
another thing is having the traffic that

258
00:11:50,040 --> 00:11:57,209
is derived<font color="#E5E5E5"> from the application go to a</font>

259
00:11:54,270 --> 00:12:00,360
legitimate<font color="#E5E5E5"> server so like I have here</font>

260
00:11:57,210 --> 00:12:02,940
<font color="#E5E5E5">update - and then the same exact website</font>

261
00:12:00,360 --> 00:12:04,710
<font color="#CCCCCC">- the game</font><font color="#E5E5E5"> room that way when the</font>

262
00:12:02,940 --> 00:12:06,720
application is making<font color="#E5E5E5"> that request it's</font>

263
00:12:04,710 --> 00:12:08,730
going<font color="#E5E5E5"> out it looks like it's still from</font>

264
00:12:06,720 --> 00:12:11,700
<font color="#CCCCCC">that software</font><font color="#E5E5E5"> server</font><font color="#CCCCCC"> at the same time</font>

265
00:12:08,730 --> 00:12:13,890
this is an HTTP<font color="#CCCCCC"> connection</font><font color="#E5E5E5"> so having a</font>

266
00:12:11,700 --> 00:12:18,600
<font color="#E5E5E5">SSL</font><font color="#CCCCCC"> served one that makes like a lot</font>

267
00:12:13,890 --> 00:12:20,580
<font color="#E5E5E5">easier okay so assuming</font><font color="#CCCCCC"> that</font><font color="#E5E5E5"> all</font><font color="#CCCCCC"> of that</font>

268
00:12:18,600 --> 00:12:22,290
<font color="#E5E5E5">is gone it's null and I've shown you</font>

269
00:12:20,580 --> 00:12:24,900
<font color="#E5E5E5">that</font><font color="#CCCCCC"> you</font><font color="#E5E5E5"> can get a shell on</font><font color="#CCCCCC"> a device as</font>

270
00:12:22,290 --> 00:12:27,120
soon as<font color="#E5E5E5"> someone runs this</font><font color="#CCCCCC"> the question</font>

271
00:12:24,900 --> 00:12:32,130
<font color="#E5E5E5">that someone asked me was well what</font>

272
00:12:27,120 --> 00:12:33,630
stops it<font color="#CCCCCC"> then I personally know yeah</font>

273
00:12:32,130 --> 00:12:36,120
<font color="#CCCCCC">when you download a V and it turns</font><font color="#E5E5E5"> out</font>

274
00:12:33,630 --> 00:12:39,150
to be<font color="#CCCCCC"> completely insecure</font><font color="#E5E5E5"> anyways so how</font>

275
00:12:36,120 --> 00:12:41,640
do<font color="#E5E5E5"> we stop this other than user</font><font color="#CCCCCC"> policy</font>

276
00:12:39,150 --> 00:12:43,470
of saying hey<font color="#E5E5E5"> everybody if you get an</font>

277
00:12:41,640 --> 00:12:46,620
<font color="#E5E5E5">email from us saying download this</font>

278
00:12:43,470 --> 00:12:49,370
application<font color="#E5E5E5"> you know how can</font><font color="#CCCCCC"> you really</font>

279
00:12:46,620 --> 00:12:51,780
stop this<font color="#E5E5E5"> you know there are some</font>

280
00:12:49,370 --> 00:12:53,370
different policies you<font color="#CCCCCC"> have on machines</font>

281
00:12:51,780 --> 00:12:54,930
<font color="#CCCCCC">especially if they're managed Mac's</font>

282
00:12:53,370 --> 00:12:58,770
you know you have<font color="#E5E5E5"> your application</font><font color="#CCCCCC"> white</font>

283
00:12:54,930 --> 00:12:59,849
<font color="#E5E5E5">lists things of that nature gatekeeper</font>

284
00:12:58,770 --> 00:13:02,780
is null because<font color="#E5E5E5"> you have that</font>

285
00:12:59,850 --> 00:13:04,830
certificate<font color="#CCCCCC"> so one thing that I'm a huge</font>

286
00:13:02,780 --> 00:13:06,480
<font color="#E5E5E5">advocate for and it</font><font color="#CCCCCC"> doesn't have to</font><font color="#E5E5E5"> be a</font>

287
00:13:04,830 --> 00:13:08,850
<font color="#E5E5E5">little</font><font color="#CCCCCC"> snitch I just put it</font><font color="#E5E5E5"> up</font><font color="#CCCCCC"> here</font>

288
00:13:06,480 --> 00:13:09,900
<font color="#E5E5E5">because that's why I use personally</font><font color="#CCCCCC"> is a</font>

289
00:13:08,850 --> 00:13:13,980
host based fire

290
00:13:09,900 --> 00:13:17,430
<font color="#E5E5E5">all one that's granular so the firewall</font>

291
00:13:13,980 --> 00:13:19,170
<font color="#CCCCCC">on Mac as a whole is really</font><font color="#E5E5E5"> nice and</font><font color="#CCCCCC"> you</font>

292
00:13:17,430 --> 00:13:21,449
can have<font color="#E5E5E5"> rules and things like that but</font>

293
00:13:19,170 --> 00:13:23,910
it's<font color="#E5E5E5"> not easy for a user to</font><font color="#CCCCCC"> see and it's</font>

294
00:13:21,450 --> 00:13:26,670
not<font color="#E5E5E5"> easy for a user</font><font color="#CCCCCC"> to use however</font>

295
00:13:23,910 --> 00:13:29,550
<font color="#E5E5E5">Little Snitch</font><font color="#CCCCCC"> gives you if anyone</font><font color="#E5E5E5"> has</font>

296
00:13:26,670 --> 00:13:32,370
ever used<font color="#CCCCCC"> it</font><font color="#E5E5E5"> you know give you this</font>

297
00:13:29,550 --> 00:13:34,920
beautiful<font color="#E5E5E5"> little pop-up and it says hey</font>

298
00:13:32,370 --> 00:13:37,530
this application is trying<font color="#E5E5E5"> to connect</font>

299
00:13:34,920 --> 00:13:39,240
and you go well<font color="#CCCCCC"> that doesn't</font><font color="#E5E5E5"> make sense</font>

300
00:13:37,530 --> 00:13:41,040
<font color="#CCCCCC">it's supposed to</font><font color="#E5E5E5"> add more RAM and</font>

301
00:13:39,240 --> 00:13:43,620
CleanMyMac of it<font color="#E5E5E5"> should</font><font color="#CCCCCC"> be connecting to</font>

302
00:13:41,040 --> 00:13:45,060
this big server<font color="#E5E5E5"> elsewhere</font><font color="#CCCCCC"> so you can</font>

303
00:13:43,620 --> 00:13:47,610
<font color="#E5E5E5">deny that</font><font color="#CCCCCC"> connection at that point the</font>

304
00:13:45,060 --> 00:13:49,140
application fails out<font color="#E5E5E5"> it can't get that</font>

305
00:13:47,610 --> 00:13:50,730
session<font color="#CCCCCC"> so I've actually</font><font color="#E5E5E5"> got the</font>

306
00:13:49,140 --> 00:13:52,530
<font color="#E5E5E5">fail-safes that if it can't get a</font>

307
00:13:50,730 --> 00:13:54,240
session<font color="#CCCCCC"> all the does is it closes</font><font color="#E5E5E5"> all</font>

308
00:13:52,530 --> 00:13:57,199
applications on the Mac and restarts it

309
00:13:54,240 --> 00:14:02,160
and then you're<font color="#E5E5E5"> like I didn't work going</font>

310
00:13:57,200 --> 00:14:05,130
<font color="#CCCCCC">anyways</font><font color="#E5E5E5"> so that's the big takeaway that</font>

311
00:14:02,160 --> 00:14:07,439
<font color="#E5E5E5">you</font><font color="#CCCCCC"> know if</font><font color="#E5E5E5"> you're looking to mitigate a</font>

312
00:14:05,130 --> 00:14:09,470
threat<font color="#E5E5E5"> similar to this other than policy</font>

313
00:14:07,440 --> 00:14:12,240
<font color="#E5E5E5">and it's just an easy quick deploy</font>

314
00:14:09,470 --> 00:14:16,890
<font color="#CCCCCC">granular host-based firewall is only</font>

315
00:14:12,240 --> 00:14:19,980
<font color="#E5E5E5">helpful so does anybody have any</font>

316
00:14:16,890 --> 00:14:26,420
<font color="#CCCCCC">questions I don't know how I'm doing on</font>

317
00:14:19,980 --> 00:14:29,070
time oh yeah<font color="#E5E5E5"> butene come get them sorry</font>

318
00:14:26,420 --> 00:14:33,060
<font color="#CCCCCC">no I haven't</font><font color="#E5E5E5"> posted anything right now</font>

319
00:14:29,070 --> 00:14:36,840
<font color="#E5E5E5">just because yeah but it's an option</font>

320
00:14:33,060 --> 00:14:46,050
<font color="#CCCCCC">it's something I could do</font><font color="#E5E5E5"> great anything</font>

321
00:14:36,840 --> 00:14:48,000
<font color="#E5E5E5">else</font><font color="#CCCCCC"> oh</font><font color="#E5E5E5"> so like I said when when we're</font>

322
00:14:46,050 --> 00:14:52,469
dropping this on<font color="#CCCCCC"> a box that has mcafee</font>

323
00:14:48,000 --> 00:14:54,420
<font color="#CCCCCC">or</font><font color="#E5E5E5"> Sophos it didn't detect it at the</font>

324
00:14:52,470 --> 00:14:57,060
same<font color="#CCCCCC"> time</font><font color="#E5E5E5"> so this</font><font color="#CCCCCC"> is that</font><font color="#E5E5E5"> beautiful</font>

325
00:14:54,420 --> 00:14:58,410
<font color="#CCCCCC">little Little Snitch pop-up</font><font color="#E5E5E5"> leak octagon</font>

326
00:14:57,060 --> 00:15:02,099
<font color="#CCCCCC">I don't know if you guys can</font><font color="#E5E5E5"> see</font><font color="#CCCCCC"> that</font>

327
00:14:58,410 --> 00:15:04,410
I'm<font color="#E5E5E5"> sorry anyways so to probably pop up</font>

328
00:15:02,100 --> 00:15:06,120
again<font color="#E5E5E5"> because on Mac OS if you</font><font color="#CCCCCC"> deny a</font>

329
00:15:04,410 --> 00:15:11,819
<font color="#E5E5E5">connection for</font><font color="#CCCCCC"> a service it tries a</font>

330
00:15:06,120 --> 00:15:14,160
<font color="#E5E5E5">different server anyways so the question</font>

331
00:15:11,820 --> 00:15:17,040
again was I'm sorry I got<font color="#E5E5E5"> distracted by</font>

332
00:15:14,160 --> 00:15:19,350
<font color="#E5E5E5">my little search problem yeah besides</font>

333
00:15:17,040 --> 00:15:20,069
blocking so any virus didn't catch it

334
00:15:19,350 --> 00:15:23,459
<font color="#CCCCCC">right</font>

335
00:15:20,070 --> 00:15:25,350
so other than<font color="#E5E5E5"> user training</font>

336
00:15:23,459 --> 00:15:26,819
or another<font color="#E5E5E5"> application that</font><font color="#CCCCCC"> you would</font>

337
00:15:25,350 --> 00:15:28,679
put<font color="#CCCCCC"> on the</font><font color="#E5E5E5"> host so like application</font>

338
00:15:26,819 --> 00:15:31,860
<font color="#E5E5E5">whitelisting application</font><font color="#CCCCCC"> blacklisting</font>

339
00:15:28,679 --> 00:15:36,059
things like that<font color="#CCCCCC"> that was one</font><font color="#E5E5E5"> of the big</font>

340
00:15:31,860 --> 00:15:37,860
things<font color="#E5E5E5"> that I took away but a but a</font>

341
00:15:36,059 --> 00:15:39,990
host-based firewalls are really quick

342
00:15:37,860 --> 00:15:42,749
<font color="#E5E5E5">and easy</font><font color="#CCCCCC"> most</font><font color="#E5E5E5"> users can just be like</font>

343
00:15:39,990 --> 00:15:47,449
<font color="#CCCCCC">okay deny and move on to third a that</font>

344
00:15:42,749 --> 00:15:49,679
make sense yeah email filtering<font color="#E5E5E5"> if</font>

345
00:15:47,449 --> 00:15:52,290
you're going<font color="#CCCCCC"> with that</font><font color="#E5E5E5"> attack vector</font>

346
00:15:49,679 --> 00:15:54,029
there's another there I didn't want to

347
00:15:52,290 --> 00:15:56,490
do<font color="#CCCCCC"> it because I already</font><font color="#E5E5E5"> had my two ways</font>

348
00:15:54,029 --> 00:16:02,610
but another way I found<font color="#E5E5E5"> to deploy it was</font>

349
00:15:56,490 --> 00:16:04,350
to do a Excel spreadsheet and<font color="#CCCCCC"> one</font><font color="#E5E5E5"> Mac OS</font>

350
00:16:02,610 --> 00:16:06,540
you can<font color="#E5E5E5"> change the icons just</font><font color="#CCCCCC"> as these</font>

351
00:16:04,350 --> 00:16:09,089
you can<font color="#E5E5E5"> windows so give it</font><font color="#CCCCCC"> the Excel</font>

352
00:16:06,540 --> 00:16:12,240
icon<font color="#CCCCCC"> for a document</font><font color="#E5E5E5"> label it master</font>

353
00:16:09,089 --> 00:16:15,240
salary sheet and then<font color="#CCCCCC"> you think</font><font color="#E5E5E5"> it</font>

354
00:16:12,240 --> 00:16:17,100
<font color="#CCCCCC">doesn't work but</font><font color="#E5E5E5"> it does so and then</font>

355
00:16:15,240 --> 00:16:20,069
what you do is<font color="#CCCCCC"> you package that in with</font>

356
00:16:17,100 --> 00:16:21,629
an actual Excel spreadsheet so when the

357
00:16:20,069 --> 00:16:23,368
person<font color="#E5E5E5"> opens the application</font><font color="#CCCCCC"> it gives me</font>

358
00:16:21,629 --> 00:16:26,100
to show at the same time opens Excel

359
00:16:23,369 --> 00:16:28,459
<font color="#CCCCCC">alright so they think life is</font><font color="#E5E5E5"> okay but</font>

360
00:16:26,100 --> 00:16:33,869
really<font color="#E5E5E5"> yeah I've got it</font>

361
00:16:28,459 --> 00:16:35,069
anything else all right<font color="#E5E5E5"> awesome</font><font color="#CCCCCC"> thank</font>

362
00:16:33,869 --> 00:16:35,790
<font color="#E5E5E5">you guys for coming down to see me I</font>

363
00:16:35,069 --> 00:16:38,990
appreciate it

364
00:16:35,790 --> 00:16:38,990
see you guys all<font color="#E5E5E5"> around</font>

