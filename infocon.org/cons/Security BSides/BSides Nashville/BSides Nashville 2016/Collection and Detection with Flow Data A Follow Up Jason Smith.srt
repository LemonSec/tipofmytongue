1
00:00:00,350 --> 00:00:10,840
so good morning I go and get started
just cause I don't keep everybody her

2
00:00:10,840 --> 00:00:15,230
lunch and I think there's a small break
even after this I know some people are

3
00:00:15,230 --> 00:00:22,810
expecting lunch right now but this will
be better or as good as maybe as in

4
00:00:22,810 --> 00:00:26,509
maybe BBQ I don't know but so we're
gonna go over collection section with

5
00:00:26,510 --> 00:00:32,969
low data if you were at bsides last year
you probably are looking at things like

6
00:00:32,969 --> 00:00:37,569
the same talk to somebody give it the
same time same place but this is like

7
00:00:37,569 --> 00:00:44,870
part two of that so my name is Jason
Smith a turkey and say that because it's

8
00:00:44,870 --> 00:00:47,300
it is important to me because I move
away

9
00:00:47,300 --> 00:00:53,649
done a lot of work with the government
work a lot with every Research Lab Army

10
00:00:53,649 --> 00:00:58,499
Research Lab and with the basic
diverting and went to Charleston South

11
00:00:58,499 --> 00:01:04,699
Carolina did some work with the Navy
there with military health but always I

12
00:01:04,699 --> 00:01:08,399
was trying to get back to you know a
place where I can drive around and not

13
00:01:08,399 --> 00:01:13,469
be stuck on a parking lot built way the
whole time or something like that so it

14
00:01:13,469 --> 00:01:16,899
is important to me that I love the
syrians reason I love peace out /

15
00:01:16,899 --> 00:01:23,789
actually but again I'm a crazy kind of
thing you see there's a death trap that

16
00:01:23,789 --> 00:01:27,979
meet a buddy bill which may be in this
room actually but love to build

17
00:01:27,979 --> 00:01:32,590
different things so naturally I also
like Mike refuting things like that

18
00:01:32,590 --> 00:01:37,479
buzzword but you know who you talk to me
later and you're interested like

19
00:01:37,479 --> 00:01:39,550
raspberry paws and

20
00:01:39,550 --> 00:01:42,679
a lot of things like the Omega and all
these different things putting the

21
00:01:42,680 --> 00:01:46,730
internet everything I'd really like to
do it but don't really like the idea of

22
00:01:46,730 --> 00:01:52,830
buying a product that does it an amateur
fry cook as well so I loved frightening

23
00:01:52,830 --> 00:01:57,400
thing if you have anything you want to
be pretty convinced that put in some egg

24
00:01:57,400 --> 00:02:08,050
flower 363 Greece or come out much
better so you know the whole apply their

25
00:02:08,050 --> 00:02:14,810
security monitoring shameless plug we
wrote this thing we were analyst still

26
00:02:14,810 --> 00:02:20,240
an analyst with bar I now make detection
stuff so technically the things I'm

27
00:02:20,240 --> 00:02:24,840
looking it maybe doesn't matter if you
know creature positive as far as much

28
00:02:24,840 --> 00:02:29,800
anymore but it really matters to
customers and so we are still analysts

29
00:02:29,800 --> 00:02:37,160
to this day just for basically a lot and
for companies now but this book hundreds

30
00:02:37,160 --> 00:02:43,260
of all the the royalties go to different
charities specifically rule Technology

31
00:02:43,260 --> 00:02:48,540
Fund which is actually runs it puts a
lot of technologies into rural schools

32
00:02:48,540 --> 00:02:52,510
and things like that that otherwise
would not have coding programs that

33
00:02:52,510 --> 00:02:56,760
would have after school programs they
wouldn't have any kind of engineering

34
00:02:56,760 --> 00:03:00,060
programs for you know amateur
engineering and things like that

35
00:03:00,060 --> 00:03:04,209
3d printers you put in the schools all
kinds tickets but in the schools we sin

36
00:03:04,209 --> 00:03:05,750
raspberry PI's everywhere

37
00:03:05,750 --> 00:03:09,690
great program but we don't let me just
that we we also donate a course for

38
00:03:09,690 --> 00:03:10,940
charity

39
00:03:10,940 --> 00:03:16,660
hope for the Warriors lot different
charities and you know you about this

40
00:03:16,660 --> 00:03:20,350
again all of our road is go to it but
from Amazon or something like that

41
00:03:20,350 --> 00:03:25,540
use Amazon smile and then more royalties
and more more donations go to it without

42
00:03:25,540 --> 00:03:33,730
yeppers basically outside so what's the
agenda today we're going to review kind

43
00:03:33,730 --> 00:03:35,500
of what I talked about last time

44
00:03:35,500 --> 00:03:41,820
which is what is flow data you know why
is it important to me to even be here

45
00:03:41,820 --> 00:03:46,750
talking about this stuff because when it
comes down to it you know there's and

46
00:03:46,750 --> 00:03:50,790
I'll ask later on about the actual
participation here on who is collecting

47
00:03:50,790 --> 00:03:57,359
it but usually it's not fair percentage
despite kind of industry-wide you people

48
00:03:57,360 --> 00:04:01,030
say that it should be you know kind of
staples far as your data types because

49
00:04:01,030 --> 00:04:07,780
it's you know it's how you get to the
actual content of what's happening but

50
00:04:07,780 --> 00:04:12,510
we'll talk about you know again was it
was important and some very basic things

51
00:04:12,510 --> 00:04:18,130
about closed last year was 80% what is a
flow basically and then kind of oh

52
00:04:18,130 --> 00:04:23,550
here's your tools for you can use them
this is the opposite its a 10 to 20%

53
00:04:23,550 --> 00:04:28,560
that then I'll talk to you how to access
that the stuff and you know how you can

54
00:04:28,560 --> 00:04:35,080
you can basically for the weekend's over
had to step up and running so as a

55
00:04:35,080 --> 00:04:40,370
review again we'll talk with the flow
record we talked to that broad

56
00:04:40,370 --> 00:04:46,810
collection methods using silk and gas
and things like that and I'm going to to

57
00:04:46,810 --> 00:04:52,260
also introduce low bad flow Potter again
briefly but then going to how you

58
00:04:52,260 --> 00:04:57,240
actually use these tools and again if
you want to see part 1 adrian has those

59
00:04:57,240 --> 00:04:58,630
posted

60
00:04:58,630 --> 00:05:02,570
so what is a flow record

61
00:05:02,570 --> 00:05:06,170
well it's more important to compare to
something that everyone knows everything

62
00:05:06,170 --> 00:05:14,280
about datatype knows everything about
everything so is imagine you are large

63
00:05:14,280 --> 00:05:20,299
some large cell phone provider and you
decide you wanna record everyone's phone

64
00:05:20,300 --> 00:05:25,060
calls that make all the time will there
be a lot of data to go through if you

65
00:05:25,060 --> 00:05:29,260
wanted to figure out who's talking to
him but it should be really easy because

66
00:05:29,260 --> 00:05:34,770
they don't do that yes they do that
instead we just have phone records and

67
00:05:34,770 --> 00:05:39,200
we see ok well I can I can deliver this
to the customer the customer is exactly

68
00:05:39,200 --> 00:05:42,760
they talked to you in and the phone
company has whoever wants to talk to and

69
00:05:42,760 --> 00:05:48,099
when they talk to them but that's low
record that's the context of a record

70
00:05:48,100 --> 00:05:54,060
storage requirements for flow records
are literally amount for some overt

71
00:05:54,060 --> 00:05:59,440
molehill when it compares to peak at and
specifically so mount everest 30,000

72
00:05:59,440 --> 00:06:06,870
feet right I'm not six feet tall but I'm
nearly six feet tall and comparison and

73
00:06:06,870 --> 00:06:12,700
so . oh two percent of a peek at could
be considered afloat as far as like

74
00:06:12,700 --> 00:06:17,789
eartha flow record actually all the
records if you convert a given peek at

75
00:06:17,790 --> 00:06:25,410
your looking at 8.01 2.03% of it so
roughly 2.02 percent on average so the

76
00:06:25,410 --> 00:06:30,800
amount is you know it really goes into
you know how much storage are you

77
00:06:30,800 --> 00:06:34,020
investing at peak at if you're only
giving it a day

78
00:06:34,020 --> 00:06:37,359
well that's a huge amount of flow
records by comparison you can also be

79
00:06:37,360 --> 00:06:42,850
story not say should have one over the
other at all but one will you'll see in

80
00:06:42,850 --> 00:06:48,560
to peak at and show you exactly what he
kept trying to pull another good

81
00:06:48,560 --> 00:06:53,920
comparison so this big trip that little
man there well that's a pretty sizable

82
00:06:53,920 --> 00:06:58,700
man actually he's done 258 pounds
probably maybe with his jacket or some

83
00:06:58,700 --> 00:07:01,770
flow at labeling or something like that
he's a little heavier

84
00:07:01,770 --> 00:07:05,909
and so the comparison that your fellow
record vs your your peak ever occurred

85
00:07:05,910 --> 00:07:08,810
sorts was another good one

86
00:07:08,810 --> 00:07:14,919
not completely accurate but said six of
these trucks versus a Caterham r500 very

87
00:07:14,919 --> 00:07:17,919
sleepy car does whatever news do really
fast

88
00:07:18,430 --> 00:07:22,830
versus these big dump trucks which they
do everything they should do it's really

89
00:07:22,830 --> 00:07:30,060
hard to really manage these things but
needed their need so low data itself we

90
00:07:30,060 --> 00:07:36,810
we often caught flow records or session
records or NetFlow records Cisco owns

91
00:07:36,810 --> 00:07:42,039
the term NetFlow when you say that
followed your advertising Cisco which is

92
00:07:42,039 --> 00:07:46,530
great cuz NetFlow really made made all
this popular special like netload

93
00:07:46,530 --> 00:07:51,559
version which is the most basic really
even that sounds like five versions

94
00:07:51,560 --> 00:07:55,449
today is that it was really how
everything really get pushed out of all

95
00:07:55,449 --> 00:07:59,509
these networking devices but then out of
nowhere you know everyone wants to

96
00:07:59,509 --> 00:08:03,310
generate their own prototypes and so
there's a lot to fix and if you were all

97
00:08:03,310 --> 00:08:08,080
talk about a minute but flow data is a
summary of network communications so

98
00:08:08,080 --> 00:08:15,310
again it's saying in its so imagine you
have all of these you we go back to the

99
00:08:15,310 --> 00:08:19,330
phone records themselves just a
comparison of who's talking to who have

100
00:08:19,330 --> 00:08:23,448
the talking and when are they talking in
this case the source out the source

101
00:08:23,449 --> 00:08:27,400
board that's what he does support
protocol we take on sometimes cause

102
00:08:27,400 --> 00:08:32,029
otherwise they wouldn't make sense it
would be useful and then we run a lot of

103
00:08:32,029 --> 00:08:36,169
statistics against him which is where it
becomes really useful so you don't have

104
00:08:36,169 --> 00:08:42,909
the way that you had to wear and the win
the wise always at the analyst so you

105
00:08:42,909 --> 00:08:46,670
know in the end you have everything you
need to get where you're going but you

106
00:08:46,670 --> 00:08:51,069
don't have what you need but that's not
what flows about so you know we have

107
00:08:51,070 --> 00:08:54,649
this 520 we have timing and we have data
and

108
00:08:54,649 --> 00:08:58,689
and really that leads to some statistics
that will in the end give you some good

109
00:08:58,689 --> 00:09:05,579
collection detection metrics so building
a flower record last year talk about the

110
00:09:05,579 --> 00:09:09,888
factory I gave little dinky example
about it won't go into detail about that

111
00:09:09,889 --> 00:09:15,129
but again its 52 people you get some
sort of data input it converted to some

112
00:09:15,129 --> 00:09:20,740
sort of flow maybe it goes to flow
collector we say always knew if it's a

113
00:09:20,740 --> 00:09:27,189
new source test out the source that
sport or protocol then it might go to a

114
00:09:27,189 --> 00:09:28,129
new record

115
00:09:28,129 --> 00:09:31,629
well if it's not then it's going to go
to an old record assuming that old

116
00:09:31,629 --> 00:09:35,850
record hasn't timed out cuz you're not
gonna keep a record opening concert

117
00:09:35,850 --> 00:09:42,589
calculating nonstop those determinations
so instead the factory example you know

118
00:09:42,589 --> 00:09:47,600
we put packets in these baskets news
flow baskets were gonna call this flow

119
00:09:47,600 --> 00:09:52,899
records until they stack up to a certain
out and then in a net that was centered

120
00:09:52,899 --> 00:10:00,699
on that point so excellent movie should
make up Buffalo Bill InfoSec parody

121
00:10:00,699 --> 00:10:07,519
account be excellent so how do we
actually generating collect network flow

122
00:10:07,519 --> 00:10:12,360
dated this is getting more to the book
of of where we actually doing here was

123
00:10:12,360 --> 00:10:19,439
this part 2 I'm saying the same thing
over again is like so who here to hear

124
00:10:19,439 --> 00:10:22,819
currently uses loaded in their
environment

125
00:10:22,819 --> 00:10:31,069
no more than ever 102 are raising her
hand but who he really doesn't even make

126
00:10:31,069 --> 00:10:34,829
sense that floating over I guess who is
actually doing some sort of defensive

127
00:10:34,829 --> 00:10:52,599
any kind of defensive perot ok so I
guess that's true

128
00:10:53,180 --> 00:10:58,770
so you know how to generate flow data
what is involved will usually people

129
00:10:58,770 --> 00:11:03,280
think oh you need you to get your net
ops guys to take the routing equipment

130
00:11:03,280 --> 00:11:07,640
with a little more load on the colors
not too much more and send you some

131
00:11:07,640 --> 00:11:11,140
stuff well you'll get a lot of pushback
Lodge transfer of network operations

132
00:11:11,140 --> 00:11:17,810
center but sometimes you do and so
you're asking them to basically make

133
00:11:17,810 --> 00:11:22,810
some changes to the network devices I
usually tell people that especially from

134
00:11:22,810 --> 00:11:27,430
a defensive architecture that you're if
you're already have a tattoo generator

135
00:11:27,430 --> 00:11:31,569
parts off of anyways you probably also
generate net loss of that and because

136
00:11:31,570 --> 00:11:37,640
it's so small it's so easy to do you why
should you ever so you can set up like a

137
00:11:37,640 --> 00:11:42,760
probar yes or something like that to
generate all that tap and you'll have

138
00:11:42,760 --> 00:11:47,540
all your floating and I'll show you just
how easy is so there are multiple types

139
00:11:47,540 --> 00:11:53,020
again we talk about NetFlow Cisco
NetFlow he fixes what ya generates and

140
00:11:53,020 --> 00:11:56,340
that's what we talked about mostly today
but there are a lot of different kinds

141
00:11:56,340 --> 00:12:07,610
of clothes there's che flows there J
flows there are what is it s flows

142
00:12:07,610 --> 00:12:12,730
everyone has their own little
proprietary name for me as well so

143
00:12:12,730 --> 00:12:17,620
popular platforms are we actually going
to generate all this NetFlow data

144
00:12:18,190 --> 00:12:24,000
well we were you still today but I don't
want to end with that just say this is

145
00:12:24,000 --> 00:12:28,090
the only thing there's Argus which is
already built-in security Indian so

146
00:12:28,090 --> 00:12:32,800
during this roomy probably have security
in your box running somewhere or that

147
00:12:32,800 --> 00:12:38,699
one that so you've knew it or not you
great water flow data for your own it

148
00:12:38,700 --> 00:12:43,750
slow day but there's also an F down
which is very popular it's been around

149
00:12:43,750 --> 00:12:47,800
for quite a long time there's a
graphical sweet for that as well then

150
00:12:47,800 --> 00:12:52,089
that's a those are wrong solutions in
those only our flows

151
00:12:52,710 --> 00:12:56,650
in the other case there is general
logging operations solutions like Splunk

152
00:12:56,650 --> 00:13:04,910
or the Celts take some people you know
and elasticsearch really also but you

153
00:13:04,910 --> 00:13:08,390
know what talk about where that makes
sense where it doesn't make sense so

154
00:13:08,390 --> 00:13:13,800
you're sure all solutions again let's go
to the concert again I said they're only

155
00:13:13,800 --> 00:13:15,520
flows

156
00:13:15,520 --> 00:13:19,210
you may be overextended and I had some
metadata into it

157
00:13:19,210 --> 00:13:23,480
Argus does a pretty good job at that but
some solutions know and the wealthy

158
00:13:23,480 --> 00:13:28,180
today doesn't have a job at that it
takes a little bit of extra effort not

159
00:13:28,180 --> 00:13:33,079
to easy despite being fully configurable
it just takes some work and not all

160
00:13:33,080 --> 00:13:34,020
solutions are equal

161
00:13:34,020 --> 00:13:39,199
that's a promise they argue is different
than silk silk is different than an F so

162
00:13:39,200 --> 00:13:42,230
it's like you have to pick which one you
want but if you don't have any other

163
00:13:42,230 --> 00:13:47,810
than any of those are very much have
some pros of it so you have stored your

164
00:13:47,810 --> 00:13:50,430
attention again I say that they are so
small

165
00:13:50,430 --> 00:13:56,300
flow record was that their point oh two
percent of a peek at all that is a stat

166
00:13:56,300 --> 00:14:00,910
former all flow solutions that's not a
stat from you soon the flow to

167
00:14:00,910 --> 00:14:05,530
elasticsearch and elasticsearch is
pointedly percent that's different

168
00:14:05,530 --> 00:14:11,439
so you're all solutions match at the
really small so you get good speed over

169
00:14:11,440 --> 00:14:17,050
ranges tools like silk they do have a
flat file format as far as how you

170
00:14:17,050 --> 00:14:21,849
actually query these things so if you
say I want to query you know three years

171
00:14:21,850 --> 00:14:26,090
ago Sunday 23 years ago it's not looking
back three years it's just saying hello

172
00:14:26,090 --> 00:14:32,070
weather is a directory for 2013 just go
there this time stamp that's it it's not

173
00:14:32,070 --> 00:14:36,700
having to look they're a bunch of
archives or anything like that and so

174
00:14:36,700 --> 00:14:42,510
the ease of use is also I would say it's
get used to different log solutions

175
00:14:42,510 --> 00:14:45,860
special things like Splunk they're
really really good commercial solutions

176
00:14:45,860 --> 00:14:49,910
they are also pretty easy to use but you
get used to them but when it comes down

177
00:14:49,910 --> 00:14:56,160
to it a good command line solution that
is also easy easy to use is pretty

178
00:14:56,160 --> 00:14:56,949
impressive

179
00:14:56,950 --> 00:15:03,380
for instance has this documentation so
it's really easy to use specially when

180
00:15:03,380 --> 00:15:06,320
you get in trouble you're out of it
really quickly you can just as easily

181
00:15:06,320 --> 00:15:12,540
look it up and hardware requirements
again cuz it's so small even extremely

182
00:15:12,540 --> 00:15:19,829
high throughput links it's pretty hard
this year or maybe I cannot be trying to

183
00:15:19,830 --> 00:15:22,540
do it with everyone

184
00:15:22,540 --> 00:15:27,400
mobilized you something like that then
you might have efforts but I don't see

185
00:15:27,400 --> 00:15:31,100
it being an effort for almost anyone I
mean I have worked in a very large

186
00:15:31,100 --> 00:15:35,780
organizations and their knees during
that flow for everyone this is on sample

187
00:15:35,780 --> 00:15:41,120
that so that's another topic altogether
but on sampled NetFlow is what we're all

188
00:15:41,120 --> 00:15:44,710
wanting we don't want to sample your
stats will be accurate

189
00:15:44,710 --> 00:15:47,590
you will really be able to use it for
instant response or anything like that

190
00:15:47,590 --> 00:15:52,980
and I'm sense difficult especially if
you are if you are generating on your

191
00:15:52,980 --> 00:15:56,760
own and your telling that office in the
former outer they may only have the

192
00:15:56,760 --> 00:16:01,610
option of sending you say so again
another reason why they sit on your own

193
00:16:01,610 --> 00:16:08,650
log solutions and i know its price it's
it's debatable and maybe it'll be

194
00:16:08,650 --> 00:16:20,800
debated here but the there so actually
like ivana and slunk and things like

195
00:16:20,800 --> 00:16:25,680
that those are really really you can
extend those out do basic whatever you

196
00:16:25,680 --> 00:16:29,900
want to like a pivoting and things like
that are awesome and tools like that so

197
00:16:29,900 --> 00:16:34,079
you can really pits the day eighty-one
and when you have other data sources

198
00:16:34,080 --> 00:16:36,090
it's the best thing ever

199
00:16:36,090 --> 00:16:39,140
that's the whole point of flow records
right now right

200
00:16:39,140 --> 00:16:43,470
the reason I'm here to tell you they're
not the end all the pivot or you want so

201
00:16:43,470 --> 00:16:47,290
if you can give it to the right data
that's great and more so than the

202
00:16:47,290 --> 00:16:52,449
centralized data source for Splunk you
go straight to it it's great they're

203
00:16:52,450 --> 00:16:57,740
also despite not being a binary format
or anything like that really quick to

204
00:16:57,740 --> 00:16:58,400
parse

205
00:16:58,400 --> 00:17:04,410
they're still really easy search and
really really fast they had records that

206
00:17:04,410 --> 00:17:07,710
were there were searching faster than
silk didn't think would be possible but

207
00:17:07,710 --> 00:17:13,440
elasticsearch it's extremely fast on
that the only downsides when you go the

208
00:17:13,440 --> 00:17:14,050
distance

209
00:17:14,050 --> 00:17:18,760
poor old data and things like that it
may be slower and slower on archive

210
00:17:18,760 --> 00:17:19,960
results

211
00:17:19,960 --> 00:17:26,290
the big cons of loss solutions outside
of maybe costs because we talked about

212
00:17:26,290 --> 00:17:31,490
Splunk again and and and say pay for
tools that are considering your log Matt

213
00:17:31,490 --> 00:17:36,600
coming in well close they're more logs
it more flaws than any other lawyer has

214
00:17:36,600 --> 00:17:41,520
so you may read and cost issues but here
it may not be the issue with things like

215
00:17:41,520 --> 00:17:46,820
elasticsearch but your reliability and
maintenance they kind of go hand in hand

216
00:17:46,820 --> 00:17:53,470
that you aren't going to head as a
serious of a man its reliability issue

217
00:17:53,470 --> 00:17:58,040
withdrawal solutions that you will with
something like elasticsearch because it

218
00:17:58,040 --> 00:18:02,590
is Nate have everything put into it it's
going to be doing a lot of work and so

219
00:18:02,590 --> 00:18:06,280
you you should really hope that your
hardware spec down again the third point

220
00:18:06,280 --> 00:18:10,730
is if it's not you know you may have a
lot of maintenance issues that you're

221
00:18:10,730 --> 00:18:16,410
having a concert go back also there may
be storage issues we talk about a small

222
00:18:16,410 --> 00:18:22,150
flows are but people considering a state
like point oh two percent that's long

223
00:18:22,150 --> 00:18:27,420
but it's not for things like a plastic
surgeon in males good perspective on

224
00:18:27,420 --> 00:18:34,310
this is is this little dinky pop chart
so this is a comparison of the same data

225
00:18:34,310 --> 00:18:39,240
generated at same time on a silk
instance an elastic certain

226
00:18:39,240 --> 00:18:45,590
elasticsearch inch instance the
difference here is that elasticsearch

227
00:18:46,960 --> 00:18:48,909
default format

228
00:18:48,909 --> 00:18:56,799
it's compressed everything uses 28 times
storage solution like silk version five

229
00:18:56,799 --> 00:19:01,320
day to the students took a quick little
to level 30 gathers generate four

230
00:19:01,320 --> 00:19:07,840
million blows man was spacing them out
so that I wouldn't have any loss so you

231
00:19:07,840 --> 00:19:14,830
don't have it it's virtually lossless on
both sides the numbers match but yet

232
00:19:14,830 --> 00:19:20,049
again thirty eight megs of data for
still have tons of data for last

233
00:19:20,049 --> 00:19:23,029
searched for evidence or so

234
00:19:23,029 --> 00:19:28,309
against the simultaneous generation and
tools that they're available as well txt

235
00:19:28,309 --> 00:19:32,149
do so how do you

236
00:19:32,150 --> 00:19:38,500
get started with flows you know the bulk
of all this alot of ppl steer away from

237
00:19:38,500 --> 00:19:43,860
Lowe's cos its like again its efforts
said it's like we have to ask your

238
00:19:43,860 --> 00:19:48,199
network operations or we have to do our
own stuff and a few years back that was

239
00:19:48,200 --> 00:19:53,090
kind of difficult because there weren't
just easy tools to spin up but then over

240
00:19:53,090 --> 00:19:58,770
time you log stash was super super easy
to set up and people really gravitate

241
00:19:58,770 --> 00:20:03,879
towards elasticsearch based solutions
and I really do chalk that up with a lot

242
00:20:03,880 --> 00:20:08,510
of the success that people had the flows
I don't want to come away here think

243
00:20:08,510 --> 00:20:12,720
that eighty on elastic searches and not
really has really opened people's eyes

244
00:20:12,720 --> 00:20:19,580
to I can easily do this but in the end
you know what's really needed we all

245
00:20:19,580 --> 00:20:24,649
really need easy role solutions as well
and so they're still which has been

246
00:20:24,650 --> 00:20:29,830
around forever really it's Argus came
out for that and and from my

247
00:20:29,830 --> 00:20:35,189
understanding me that's Argus was like
1985 that they were working on that so

248
00:20:35,190 --> 00:20:41,340
been forever and in 2003 all that stuff
really comes from the government and it

249
00:20:41,340 --> 00:20:45,800
comes to people and they say make it
public and people can use this will

250
00:20:45,800 --> 00:20:50,290
still incredibly hard news and still the
same time came to the public and so you

251
00:20:50,290 --> 00:20:55,110
had options still really hard the
hardest but that's not the way anymore

252
00:20:55,110 --> 00:20:59,949
so we're gonna talk about silken flow
bat silk which is the back in SLO bet

253
00:20:59,950 --> 00:21:05,070
queries silk will generate all your
flows it also is all the flow analysis

254
00:21:05,070 --> 00:21:09,830
tools low batt is interpreting what an
analyst wants to do or what

255
00:21:09,830 --> 00:21:15,419
Network Operations Analyst wants to do
and since it's still that and make

256
00:21:15,420 --> 00:21:20,870
something pretty forty we also add in a
ton of an analyst and they features to

257
00:21:20,870 --> 00:21:23,580
flow bat basically

258
00:21:23,580 --> 00:21:29,050
analyst enablement you know an analyst
if it's easily they need to be able to

259
00:21:29,050 --> 00:21:34,070
not do a bunch of like UTC conversions
and stuff like that across data they

260
00:21:34,070 --> 00:21:36,419
need to be open to all kinds of
different things that they normally

261
00:21:36,420 --> 00:21:42,410
can't do any good example is like field
interpretations you know junior analyst

262
00:21:42,410 --> 00:21:45,920
yeah he may see a protocol at like six
or something like that

263
00:21:46,610 --> 00:21:52,100
just six protocol he's not even grasping
you know what protocol that is so we

264
00:21:52,100 --> 00:21:56,070
interpret that we interpret a lot of
poor two different things like that

265
00:21:56,070 --> 00:22:01,060
based on like any services and so it'll
come to the analyst at they'll have a

266
00:22:01,060 --> 00:22:05,409
better idea without telling them you
know one way or another that's what did

267
00:22:05,410 --> 00:22:11,740
it again the wife everything is still up
the analyst no tools to do that had to

268
00:22:11,740 --> 00:22:18,300
do this well so kinda box and Saul Loeb
at the boot to those two tools will get

269
00:22:18,300 --> 00:22:23,960
you going and you'll be done unless you
have a very distributed set up you will

270
00:22:23,960 --> 00:22:28,010
have any more work you tell it you know
the tap that you're using or whatever

271
00:22:28,010 --> 00:22:34,270
it'll be done if you have some odd Ahmad
networking you may need to see it

272
00:22:34,270 --> 00:22:37,100
differently but it basically interprets
you know what are the limits local

273
00:22:37,100 --> 00:22:40,959
what's not things like that and I'll go
into that here in just a minute

274
00:22:40,960 --> 00:22:44,250
your total time though the starting to
15 minutes are getting your flow

275
00:22:44,250 --> 00:22:49,000
solution that and it's a total of four
questions so you really have to walk off

276
00:22:49,000 --> 00:22:55,340
so what is it it's the city system very
little knowledge again pretty old now

277
00:22:55,340 --> 00:23:00,480
but still pretty awesome that they'd all
time now more so than ever had at least

278
00:23:00,480 --> 00:23:04,600
publicly facing emergence the net
suggested that there's a link at the

279
00:23:04,600 --> 00:23:09,199
bottom they have all kinds of awesome
tools down there but today we're going

280
00:23:09,200 --> 00:23:14,320
to talk about still mostly in the eff
yes the generator but silk itself there

281
00:23:14,320 --> 00:23:18,340
two main Suites is packing sweet which
actually says you know what the flow

282
00:23:18,340 --> 00:23:24,800
what it is and then there's the analysis
so the packing so we took inflow date is

283
00:23:24,800 --> 00:23:28,680
devoted generated from F probe or
something like that and then they

284
00:23:28,680 --> 00:23:32,450
announced is for the analyst actually
filter through the stuff regenerate

285
00:23:32,450 --> 00:23:37,280
stats are you know count how much as you
know for a given time will go through

286
00:23:37,280 --> 00:23:41,940
some more details and still can't bet on
that in the dock stations they're the

287
00:23:41,940 --> 00:23:42,840
best ever

288
00:23:42,840 --> 00:23:47,120
it's completely overwhelming at first
but as soon as you have an issue that I

289
00:23:47,120 --> 00:23:53,810
realized the answer is right here so
what does an architecture look like most

290
00:23:53,810 --> 00:23:59,540
basic form here you may have the
resources of flow data you have a probe

291
00:23:59,540 --> 00:24:04,810
sensor gas sensor and maybe a router
something sending flows in so you have

292
00:24:04,810 --> 00:24:09,879
two or more different types of clothes
here after probing in this is version 5

293
00:24:09,880 --> 00:24:14,710
version father gas that the fix well are
to be flow pack thus far that packing

294
00:24:14,710 --> 00:24:19,970
sweet will take all that in with little
configuration and go ahead so stay with

295
00:24:19,970 --> 00:24:25,070
us is documented out and that's that the
analyst can then neither is such that

296
00:24:25,070 --> 00:24:30,340
box or they can use low bat which may be
sitting on that box just go to it for

297
00:24:30,340 --> 00:24:35,280
the browser and get all the day the
nature so pretty easy answer reasons

298
00:24:35,280 --> 00:24:40,160
holes are pretty fast said so getting
started again reviews too much cuz I

299
00:24:40,160 --> 00:24:44,420
just said it basically routers and
switches and will soon

300
00:24:44,420 --> 00:24:49,470
unstable flow data great you don't have
people fighting for it that's also just

301
00:24:49,470 --> 00:24:57,450
then that job at UPS team and the club
like you like them so no or if they

302
00:24:57,450 --> 00:25:02,040
don't want to make it easy on him always
recommend people control their own float

303
00:25:02,040 --> 00:25:07,159
they can win the can so we have a free
throw that works off of some sort of

304
00:25:07,160 --> 00:25:13,190
interface that's pulling an all that
data off your silk server once again I'm

305
00:25:13,190 --> 00:25:18,230
going to talk about the box and and low
batt here it's gonna just take all your

306
00:25:18,230 --> 00:25:22,800
day to enhance the look at it the
analysts look at it by going directly or

307
00:25:22,800 --> 00:25:28,080
going from its browser browser globe it
again if you have several sensors

308
00:25:28,080 --> 00:25:35,220
sensors dot com dot com instill that it
but even thats release though the actual

309
00:25:35,220 --> 00:25:38,640
install its three lines and that's
including getting it from the internet

310
00:25:38,640 --> 00:25:42,510
so you read these three lions Gate's a
couple questions like What interface

311
00:25:42,510 --> 00:25:45,570
using you want to do that like that

312
00:25:45,570 --> 00:25:51,060
it's done and that includes we have a
taboo to installer and uninstaller

313
00:25:51,060 --> 00:25:57,070
should work for for Red Hat and Santosh
stuff like that and so if you install

314
00:25:57,070 --> 00:26:02,340
that same-sex couple questions and get
something so it's for instance like you

315
00:26:02,340 --> 00:26:20,090
get the mail right actually if you have
epilepsy look away and flow bad they're

316
00:26:20,090 --> 00:26:27,300
doing its thing running looking around
since the plane of the cat gonna get the

317
00:26:27,300 --> 00:26:32,580
mail not a huge fan of my neighbors
right now we're getting new and some

318
00:26:32,580 --> 00:26:38,520
pretty pumped about the Bengal cat by
the way love on the get kids or it has

319
00:26:38,520 --> 00:26:45,250
claws don't ever hit one or so so we're
done with silk its query of all right

320
00:26:45,250 --> 00:26:49,190
now you just browse wherever you'll be
generating record you'll have to hurry

321
00:26:49,190 --> 00:26:55,700
so literally that he's is ran three
lines with the mail he done so that was

322
00:26:55,700 --> 00:27:00,140
on a clean have been to box with no
prereqs and saw anything like that so we

323
00:27:00,140 --> 00:27:06,240
didn't solve projection need you live do
anything so self-analysis so we have an

324
00:27:06,240 --> 00:27:11,610
assault would you do it was the first
query there it just runs a basic query

325
00:27:11,610 --> 00:27:17,139
against all protocols so why do we have
additional stuff well silk and filters

326
00:27:17,140 --> 00:27:22,380
typically requires an input and output
and that middle partitioning switch and

327
00:27:22,380 --> 00:27:26,670
that's basically your filters so so
you'll say you know what all protocols

328
00:27:26,670 --> 00:27:32,200
and that's obviously all data and so you
could also do like out down so you just

329
00:27:32,200 --> 00:27:37,840
type all outbound data or invalidated
you can select those but it'll pull the

330
00:27:37,840 --> 00:27:43,600
dating a more advanced example but not
still up to advance the bottom one would

331
00:27:43,600 --> 00:27:48,449
just take a week's worth of data and
it'll say well if any based on a certain

332
00:27:48,450 --> 00:27:54,350
country country code Matt if either
source or test it relates to China or

333
00:27:54,350 --> 00:28:00,330
are sorry and sorcery is this local
address then we're going to go ahead and

334
00:28:00,330 --> 00:28:04,929
pass the records on to this are to be
cut which converts that binary format

335
00:28:04,930 --> 00:28:11,330
into a human-readable format in this
case we just give it the these fields

336
00:28:11,330 --> 00:28:15,899
and so had to pull with a source time so
it's pretty easy to work with but as you

337
00:28:15,900 --> 00:28:19,560
can see it can get kind of complicated
and in the end you special you have

338
00:28:19,560 --> 00:28:24,560
times and specific times down in those
dates it kind of gets really complicated

339
00:28:24,560 --> 00:28:26,658
affair many calculations that are
involved

340
00:28:26,659 --> 00:28:33,379
also this is for brevity been at studies
at different options one big line

341
00:28:33,379 --> 00:28:39,629
stretching so you can also do things
like pcap versions so here I am pulling

342
00:28:39,629 --> 00:28:45,199
a peek at down and converting it to an
RTF file which is just back home are to

343
00:28:45,200 --> 00:28:49,889
be filled to call everyone but from
there you can just view again we've said

344
00:28:49,889 --> 00:28:55,139
you all day today but also specified
that now are not Rwf and that's gonna

345
00:28:55,139 --> 00:28:59,969
show me all the flow records in this
case it's like asking bob or something

346
00:28:59,970 --> 00:29:00,529
like that

347
00:29:00,529 --> 00:29:04,889
pulled something some kind of power but
a good example of how the state actually

348
00:29:04,889 --> 00:29:09,008
you can take any P can do this kind of
stuff is still little bit involved was

349
00:29:09,009 --> 00:29:12,789
obviously are several commands but it's
pretty easy to do especially if you want

350
00:29:12,789 --> 00:29:14,470
to script things like this out

351
00:29:14,470 --> 00:29:19,419
that's that's the biggest database take
away this the stock maybe that's awesome

352
00:29:19,419 --> 00:29:26,029
that even I'm going to steer away from
it for basic announced another example

353
00:29:26,029 --> 00:29:31,139
the same rights of stats these are
basically just an easy top 10 in the

354
00:29:31,139 --> 00:29:34,428
first examples like her to your top
protocols and probably not gonna beat in

355
00:29:34,429 --> 00:29:39,519
there but it's your topper called it
finds a bite so it seems every blow

356
00:29:39,519 --> 00:29:44,429
record it says all which one of these
had you know protocol 60 which one they

357
00:29:44,429 --> 00:29:49,220
said protocol 1 some of the bikes for
every single one of those and then give

358
00:29:49,220 --> 00:29:55,759
me a table some records more advanced on
again is below it its top said that

359
00:29:55,759 --> 00:30:00,470
players are valid conversations Lisa
Valley conversation attempting to fun so

360
00:30:00,470 --> 00:30:05,629
you assume that there are handshakes and
whatnot and they continue talking but

361
00:30:05,629 --> 00:30:10,029
again we speak it out like we begin the
senate's we tell our team stats will be

362
00:30:10,029 --> 00:30:17,200
top 10 it bites so it's it's pretty
handy in that way that new analyst you

363
00:30:17,200 --> 00:30:21,070
always tell them what do you want me in
a sentence with you one of these data

364
00:30:21,070 --> 00:30:25,158
and if they can answer it they can
probably generate its kind of query

365
00:30:25,159 --> 00:30:29,609
may take a little bit work on the syntax
but we kinda get rid of that with low

366
00:30:29,609 --> 00:30:35,090
bad examples of outputs these stores
don't really relate to anything but it's

367
00:30:35,090 --> 00:30:39,539
a good example are to be cut by the fall
looks kind of like that I've narrowed

368
00:30:39,539 --> 00:30:44,908
down just 22 little less than you would
normally get started to stay at the

369
00:30:44,909 --> 00:30:49,879
table might look like that for some
application records which I'll talk

370
00:30:49,879 --> 00:30:54,269
about a minute and then you have already
count which begins things but the thirty

371
00:30:54,269 --> 00:30:58,429
seconds so for this amount of time or
whatever which is very little data here

372
00:30:58,429 --> 00:31:04,499
there were like 1380 bytes in that time
span and 1763 so in your head you can

373
00:31:04,499 --> 00:31:12,509
say I see where you may be like grab the
stuff I don't think they have yet but

374
00:31:12,509 --> 00:31:17,450
there's the analysis pipeline which is a
different thing that's certain that the

375
00:31:17,450 --> 00:31:22,609
situation awareness guys have and it's
it's pretty awesome like that and I

376
00:31:22,609 --> 00:31:26,299
can't tell you if it does or doesn't but
if I had to bet I would say that that's

377
00:31:26,299 --> 00:31:33,749
where the fun right or you could pretty
easily write something to do some

378
00:31:33,749 --> 00:31:40,830
emergency stuff low batt so that was
silk flow bad again is just a friend of

379
00:31:40,830 --> 00:31:45,369
silver basically it's not officially the
friendly and the Crusaders and I wrote

380
00:31:45,369 --> 00:31:49,220
flow bad because now they say we worked
out so forever and we need more time

381
00:31:49,220 --> 00:31:53,529
training new analyst on how to use it
then we did anything else and we wanted

382
00:31:53,529 --> 00:31:57,559
something that the analyst can just use
and it we wouldn't get irritated doing

383
00:31:57,559 --> 00:32:01,229
these time conversions and figuring out
all these things down to like the

384
00:32:01,229 --> 00:32:06,049
milliseconds on on how you win this
lowers the ones that flow with low but

385
00:32:06,049 --> 00:32:10,649
you're doing it does it all forty an
analyst can easily do anything they want

386
00:32:10,649 --> 00:32:15,590
to autocomplete all that stuff is there
so how do you get started with low batt

387
00:32:16,289 --> 00:32:20,239
there's some links up there they will
take you to some some details about it

388
00:32:20,239 --> 00:32:25,499
about itself has to help inside it
that's not available on Flickr com but

389
00:32:25,499 --> 00:32:31,239
you get her do kind of like what you do
is still working that you can expect low

390
00:32:31,239 --> 00:32:33,230
but about to work in seven

391
00:32:33,230 --> 00:32:36,940
minutes from now so you have these
install scripts and then you just go

392
00:32:36,940 --> 00:32:42,690
toward you installed it if we're to 1800
or if you decide to run the HTTPS script

393
00:32:42,690 --> 00:32:47,919
that we have soil it'll it'll set up a
studious for you but you know I

394
00:32:47,919 --> 00:32:54,660
recommend obviously disclaimer check it
out so obviously look at look at the

395
00:32:54,660 --> 00:32:58,260
screen before you just run it even
though I didn't put in english isn't

396
00:32:58,260 --> 00:33:05,510
telling you that lease Petraeus he know
you were there no don't trust me trust

397
00:33:05,510 --> 00:33:15,950
me but their trust yeah it's alright
you'll be more security so how do you

398
00:33:15,950 --> 00:33:21,650
install flow bad as the same old song
and dance as before you just do kind of

399
00:33:21,650 --> 00:33:27,290
the same thing but a different script
and go get a drink or something let us

400
00:33:27,290 --> 00:33:33,129
go down and it should be basically done
so 79 minutes again we have installers

401
00:33:33,130 --> 00:33:36,210
it should work on redhead and a few
different things

402
00:33:36,210 --> 00:33:43,799
well on top just a boon to so again we
have epilepsy hair longer but not much

403
00:33:43,799 --> 00:33:46,799
longer will have to see

404
00:33:51,740 --> 00:33:56,650
install flow bad do the same thing I'll
have two questions answer in this case

405
00:33:56,650 --> 00:34:02,940
and its gonna do depends the I loved
profit I just did it so here I am making

406
00:34:02,940 --> 00:34:07,900
a chicken brown and crispy later
presents if you if you like chick-fil-a

407
00:34:07,900 --> 00:34:12,780
chicken nuggets you like these little
more so managed to easily make those I

408
00:34:12,780 --> 00:34:16,850
do what's called pressure frank which is
you you do the same thing you would

409
00:34:16,850 --> 00:34:22,549
normally frying but has a big steel lid
on the top of this dick huge pot a crank

410
00:34:22,550 --> 00:34:26,750
that down as much as you can so that it
won't explode and then it goes for like

411
00:34:26,750 --> 00:34:30,600
two minutes so fast that goes for two
minutes and then you're basically done

412
00:34:30,600 --> 00:34:37,989
you have chicken nuggets or whatever you
want to make things so here's they say

413
00:34:37,989 --> 00:34:43,969
well we're done it can't even go into
more detail show you the NRS but in the

414
00:34:43,969 --> 00:34:49,618
time it took to make half a chicken
brown globe it's done so that was like

415
00:34:49,619 --> 00:34:54,139
seven minutes and the first women's
tennis like four minutes so while I said

416
00:34:54,139 --> 00:34:57,780
it was like 50 minute thing it's more
like 11 minutes thing on Area Connection

417
00:34:57,780 --> 00:35:06,119
which was recently upgraded the house
asked for time warner cable so where is

418
00:35:06,119 --> 00:35:11,840
the basic data flow better how we have
silk we ran some basic silk stuff maybe

419
00:35:11,840 --> 00:35:16,869
while low batt was running a chicken or
something but now we're gonna run some

420
00:35:16,869 --> 00:35:22,750
flow that stuff and this is the kind of
the more I get the more in debt stuff

421
00:35:22,750 --> 00:35:27,500
that we talked about today because it's
the actual analysis of this and so here

422
00:35:27,500 --> 00:35:32,650
this person who knows who this was
running these things that taste they

423
00:35:32,650 --> 00:35:37,420
made a mistake and they didn't see it
but here I'm just saying you know all

424
00:35:37,420 --> 00:35:42,210
protocols on all day Tues Wed with silk
first and enjoying with globe it now and

425
00:35:42,210 --> 00:35:47,230
so notice I don't have the input of the
outfits flow better understands now ok

426
00:35:47,230 --> 00:35:50,550
word we're doing the same thing over and
over and over for changing it up too

427
00:35:50,550 --> 00:35:55,670
much then I won't be able to validate
the input anyways so always had the same

428
00:35:55,670 --> 00:36:00,869
things unless in special cases where
you're including things like P case but

429
00:36:00,869 --> 00:36:03,300
in this case again we make a nice little
table

430
00:36:03,300 --> 00:36:07,150
that table can do whatever needs to do
and that's all your records for the

431
00:36:07,150 --> 00:36:14,030
current day it doesn't there on all
stacked of 180 go through the pages

432
00:36:14,030 --> 00:36:19,780
that's common filtering so and other
things the same example showed you

433
00:36:19,780 --> 00:36:25,920
before in this case the NEC is left out
of this crew builder but we can still

434
00:36:25,920 --> 00:36:30,480
added an additional option so pick the
times that a 10 don't worry about

435
00:36:30,480 --> 00:36:35,350
formatting and see if it does morning at
a lot that I want this this local range

436
00:36:35,350 --> 00:36:39,830
you can use just copies or soldering is
there anything you want to use or if

437
00:36:39,830 --> 00:36:43,960
you'd want to make a whole set of
features you could do that and then I

438
00:36:43,960 --> 00:36:50,150
had in some additional options here in
this case we're doing in ECC that's

439
00:36:50,150 --> 00:36:57,040
that's the source or this as it relates
to this country code and then I run it

440
00:36:57,040 --> 00:37:02,230
and two weeks for the data so it may
take some time is actually on a

441
00:37:02,230 --> 00:37:07,390
different box and I just installed but
should be pretty fast compared almost

442
00:37:07,390 --> 00:37:11,770
any other things so yes all your day in
and you go through different formats 25

443
00:37:11,770 --> 00:37:16,280
per page but lets you know we we
narrowed it down earlier to just 25 to

444
00:37:16,280 --> 00:37:20,160
pull in the source time let's go ahead
and do that here we just take out these

445
00:37:20,160 --> 00:37:25,259
fields is no need to be running these
things but we have we always we want our

446
00:37:25,260 --> 00:37:30,340
source time first so we just move it
over so it's a pretty neat little web at

447
00:37:30,340 --> 00:37:33,780
that the takes out some of the
complications of having a rerun things

448
00:37:33,780 --> 00:37:38,420
over and over and over the same things
over and over and over and keep up with

449
00:37:38,420 --> 00:37:44,540
sets and whatnot the basic analyst they
understand as I mean I've given it to

450
00:37:44,540 --> 00:37:48,270
people who they literally have almost no
concept of floating ice like all these

451
00:37:48,270 --> 00:37:53,160
like phone records we're like this is
your your your number here and they can

452
00:37:53,160 --> 00:37:57,259
generally get a good idea to give them a
few challenges and they they understand

453
00:37:57,260 --> 00:38:03,740
so you know I always take a lot of a lot
of return input in different feedback

454
00:38:03,740 --> 00:38:08,049
from people on what could be changed and
we try to change things much you can t

455
00:38:08,050 --> 00:38:08,849
was likely

456
00:38:08,849 --> 00:38:14,559
usually adding features and things like
that many bug fixes are pretty much

457
00:38:14,559 --> 00:38:20,390
narrowing out hopefully he'll go to get
as much as you want to do please tell me

458
00:38:20,390 --> 00:38:25,308
the vote for me great sure there I'm
sure their vulnerabilities or anything

459
00:38:25,309 --> 00:38:30,670
there again I'm not as full time where
that patient developers so this is just

460
00:38:30,670 --> 00:38:35,440
something against some analysts wanted
and we made it happen and lot of people

461
00:38:35,440 --> 00:38:41,880
are using it now and I really like it so
we get a lot of responses and he's here

462
00:38:41,880 --> 00:38:47,739
please please feel free right to this so
here's some stats if you're watching

463
00:38:47,739 --> 00:38:52,739
basis ran a source this he paired
comparison so we went to the

464
00:38:52,739 --> 00:38:56,390
CareerBuilder hear anymore about
anything because by default the Query

465
00:38:56,390 --> 00:39:01,308
Builder is understanding that we want
all protocols so you don't get literally

466
00:39:01,309 --> 00:39:04,690
just go to query builder engine running
and you're gonna get all data for the

467
00:39:04,690 --> 00:39:09,940
current hour you'll notice a change that
day and we say we want source in this

468
00:39:09,940 --> 00:39:13,890
type II pairs we want to buy their yo so
easy escape

469
00:39:17,550 --> 00:39:22,540
another when we talk about the ins and
how it looks like a graph that because

470
00:39:22,540 --> 00:39:25,600
it's it's very handy to have no
guideline rare for something show you

471
00:39:25,600 --> 00:39:30,299
know told a tab something reacting or
whatnot as in this case we're gonna do a

472
00:39:30,300 --> 00:39:35,180
a rolling day I say the rolling day
because we're going to talk about it

473
00:39:35,180 --> 00:39:39,440
dashboard in a minute and that's kind of
important half periodically executing

474
00:39:39,440 --> 00:39:44,310
data that's constantly in a dashboard
that keeps rolling over because

475
00:39:44,310 --> 00:39:48,240
otherwise you have a little bit refresh
that so in this case we don't have to do

476
00:39:48,240 --> 00:39:53,950
that this is way too in depth here so we
knock down the hole inside like that was

477
00:39:53,950 --> 00:39:59,290
like a 30 second and so we're like a 10
minute as the whole day there's too much

478
00:39:59,290 --> 00:40:04,660
data expert engine too so this is how
many how many bytes packets of records

479
00:40:04,660 --> 00:40:09,819
do we had we save that as a new a new
filter

480
00:40:12,460 --> 00:40:19,100
visualization in this case we're taught
24 hour outbound data types as well we

481
00:40:19,100 --> 00:40:24,080
we declared outbound any help with data
any out stephen p

482
00:40:24,080 --> 00:40:28,240
those are classes it still considers and
so we we going to allow that here as

483
00:40:28,240 --> 00:40:33,359
well so in the dashboard would you do
with that so you see your 24 hour at

484
00:40:33,360 --> 00:40:39,650
that data dashboard but let's make it
gets where periodically excuse so every

485
00:40:39,650 --> 00:40:43,900
half hour which have new data there you
don't want all that you can go here in

486
00:40:43,900 --> 00:40:48,820
just their announced it normalizes the
graphs and a lot of sense

487
00:40:49,380 --> 00:40:54,020
your your access will change is needed
fortunately the day txt terrible on

488
00:40:54,020 --> 00:41:03,060
there but you can also be seen anything
in a little bit of cleaning up forty so

489
00:41:03,060 --> 00:41:06,930
you know the actual example of what's
going on here

490
00:41:07,450 --> 00:41:14,149
well so the non-standard ports it's
awfully helpful sale how much a bad day

491
00:41:14,150 --> 00:41:18,260
to do we have going to things that we
don't really expect to go to us really

492
00:41:18,260 --> 00:41:23,230
we're just doing some discovery here
it's really basic analysis that maybe

493
00:41:23,230 --> 00:41:28,480
isn't always obvious to people that
extra troops in for a very large

494
00:41:28,480 --> 00:41:32,400
environment where you don't know what
your environment is an hour before may

495
00:41:32,400 --> 00:41:36,400
see all the stuff that looks like it may
be suspicious or something I don't

496
00:41:36,400 --> 00:41:39,770
expect this to happen because you don't
expect it doesn't mean it's bad

497
00:41:39,770 --> 00:41:44,490
necessarily so I recommend that this be
used in cases where you're not gonna go

498
00:41:44,490 --> 00:41:48,279
overboard or something this is a very
obviously very small bit of data here

499
00:41:48,280 --> 00:41:53,840
but it does show at the end that you
know there were five distinctly

500
00:41:53,840 --> 00:41:56,840
different HTTPS

501
00:41:57,670 --> 00:42:02,440
services there were reached out to a
nice a distinctly different as in they

502
00:42:02,440 --> 00:42:07,310
all operate off a distinctly different
sports right now we don't know what

503
00:42:07,310 --> 00:42:12,060
those are but it's a good example here
stats on your how many things are there

504
00:42:12,060 --> 00:42:17,580
I did there something in the additional
option silk again you know they they

505
00:42:17,580 --> 00:42:21,319
take plugins anybody can write anything
for it I don't appear to like bro

506
00:42:21,320 --> 00:42:25,860
scripting that like you can literally do
anything with but you can do a lot with

507
00:42:25,860 --> 00:42:31,650
with some silk screening as well in this
case there's a mismatch and this uses

508
00:42:31,650 --> 00:42:36,120
think all after labeling that is kind of
separate still cause I'm using you have

509
00:42:36,120 --> 00:42:41,779
to generate all these flow records yes
tags on airplanes and he's a playable

510
00:42:41,780 --> 00:42:47,200
stew a little bit of packet inspection
to say what is the strap like what do I

511
00:42:47,200 --> 00:42:50,339
expected this traffic should look like
and it has all kinds of little

512
00:42:50,340 --> 00:42:55,280
signatures on how it should expect these
initial packet payloads look and then it

513
00:42:55,280 --> 00:43:00,320
tags that this is all this is http here
this is a CVS or whatever it's not

514
00:43:00,320 --> 00:43:04,820
perfect but does a pretty good job of
giving you would say they

515
00:43:04,820 --> 00:43:08,780
they've tried to eliminate false
positives in it and you'll probably get

516
00:43:08,780 --> 00:43:12,310
more true positive that I can't go too
much into detail on it because

517
00:43:12,310 --> 00:43:16,830
personally I don't know all the secrets
all senate but it is open source is

518
00:43:16,830 --> 00:43:23,560
thoroughly secret so if you want to tell
me would greatly appreciate so moving on

519
00:43:23,560 --> 00:43:28,900
identifying services really helpful to
know what you have again said if you

520
00:43:28,900 --> 00:43:32,980
don't know she had some of the stuff we
need to be useful but that that voting

521
00:43:32,980 --> 00:43:37,710
rights gonna tell you can have what you
actually have going on you know network

522
00:43:37,710 --> 00:43:43,070
situation awareness group that made its
all about situation where it's so that

523
00:43:43,070 --> 00:43:48,100
identifies tenacious D servers nation to
BS servers not so we read left or right

524
00:43:48,100 --> 00:43:54,040
on that final we include that flow bad
in case an analyst wants to go to silk

525
00:43:54,040 --> 00:43:57,980
and hard to make many of the features
they can take this final query which

526
00:43:57,980 --> 00:44:02,400
looks very terrible right here but it's
because the calculations were all done

527
00:44:02,400 --> 00:44:08,500
so icon on active time you see that this
huge active time on here but that's all

528
00:44:08,500 --> 00:44:13,360
just calculated in on these rolling time
periods but in this case it's a pretty

529
00:44:13,360 --> 00:44:19,040
easy query that we just say we want
anything that's a source port 8443 is

530
00:44:19,040 --> 00:44:22,770
like your comment and was doing this
kind of stuff right and they say they

531
00:44:22,770 --> 00:44:28,070
only want things that are you know
outbound or just any kind of outdated or

532
00:44:28,070 --> 00:44:33,300
any kind of internal to internal data
and so yeah you got stuck with these

533
00:44:33,300 --> 00:44:42,930
guys are running some sort of HTTP or at
least port 8443 data on these different

534
00:44:42,930 --> 00:44:47,759
source of heat so countered that the
bites kind of a growing trend that

535
00:44:47,760 --> 00:44:54,400
you'll see that do things kind of useful
but it doesn't do a great job because

536
00:44:54,400 --> 00:44:57,550
you know we talked about a playboy and

537
00:44:57,550 --> 00:45:01,460
you know in this case we're doing a
week's worth of that labeling and we're

538
00:45:01,460 --> 00:45:06,470
joining generate baseless packet
payloads was actually going on here and

539
00:45:06,470 --> 00:45:13,459
so after I we had the same type out with
intent so if anything going out of town

540
00:45:13,460 --> 00:45:20,120
or anything internal internal we had the
same times they specify in this rolling

541
00:45:20,120 --> 00:45:27,380
time and we've we've said flags do so
this goes into it a discussion of

542
00:45:27,380 --> 00:45:33,070
unidirectional vs bi-directional data
bidirectional being ecoles is responder

543
00:45:33,070 --> 00:45:38,500
+ responses together and then
unidirectional being a flow that comes

544
00:45:38,500 --> 00:45:44,300
out it's a source source IP source for
their support protocol well when it you

545
00:45:44,300 --> 00:45:48,480
see the other record it change that
around the clock right and so it's a new

546
00:45:48,480 --> 00:45:53,910
record in a unidirectional since so with
unidirectional you have a reply to

547
00:45:53,910 --> 00:46:00,299
requests for records with directional
yet 14 record that is they take it again

548
00:46:00,300 --> 00:46:06,480
Bros good example it broke on log you
have a way they originating host and

549
00:46:06,480 --> 00:46:11,550
responding host and that's to give you
an idea that this is where it originated

550
00:46:11,550 --> 00:46:15,750
this is where who responded but don't
think that's one packet or one flow

551
00:46:15,750 --> 00:46:20,530
record in a unidirectional since
bidirectional silk is unidirectional so

552
00:46:20,530 --> 00:46:25,330
we specified we want initial flags it is
not over the initial conversation

553
00:46:25,330 --> 00:46:30,810
fleiss's case but the initial you know
ruth flock conversation we say what we

554
00:46:30,810 --> 00:46:37,130
want a lot or anything that is these
initial sendak that's coming back and so

555
00:46:37,130 --> 00:46:41,400
in this case we can try to eliminate
false positives positive we may be

556
00:46:41,400 --> 00:46:45,670
missing some true positives here but in
most cases we have a lot are least most

557
00:46:45,670 --> 00:46:51,450
of what we expect you'll also see their
many more than boy had previously but

558
00:46:51,450 --> 00:46:53,270
it's not unexpected

559
00:46:53,270 --> 00:46:56,960
we talked earlier where i'd ran a little
query to sit over there

560
00:46:56,960 --> 00:47:00,250
distinctly different HTTPS destinations

561
00:47:00,950 --> 00:47:06,129
well in this case you see that we had
this 9024 4 430 and we have 444

562
00:47:06,130 --> 00:47:11,299
well in this case has running some of
these her step in vSphere gets

563
00:47:11,299 --> 00:47:15,630
interpreted as a lot of ice TPS traffic
in fact you know it's by default I guess

564
00:47:15,630 --> 00:47:19,839
when you deploy an ESXi box you'll have
to issue to be a servers both running

565
00:47:19,839 --> 00:47:22,839
non-standard ports and so that's the
case here

566
00:47:24,859 --> 00:47:29,650
analyzing PDF files you'll see this is
not just that I intend to use inverted

567
00:47:29,650 --> 00:47:35,299
colors but it's like a night mode in
sales so we use WebKit to invert colors

568
00:47:35,299 --> 00:47:40,880
you want to a lot of a lesson I don't
like looking at a white screen and

569
00:47:40,880 --> 00:47:46,329
having some sort of a nap root login or
something like that their browser we

570
00:47:46,329 --> 00:47:51,049
secretly had that on every plugin
instill and then they can I just getting

571
00:47:51,049 --> 00:47:54,700
ready to prove it's just like a little
wet get things so if if you are using

572
00:47:54,700 --> 00:47:59,819
Internet Explorer is you get so if
you're using Explorer you won't even see

573
00:47:59,819 --> 00:48:03,940
the option for nine vote because we do
and interpretation of do you have this

574
00:48:03,940 --> 00:48:07,700
or don't you what we do show but you
don't don't even tell the analyst they

575
00:48:07,700 --> 00:48:13,210
have the option so just click it a bunch
more so in this case we're going to have

576
00:48:13,210 --> 00:48:17,779
lots of calls this really quickly
example because as early as next week it

577
00:48:17,779 --> 00:48:24,099
traffic and this did you all traffic
here and that's how you do so

578
00:48:24,099 --> 00:48:28,240
previously again with silk it was
several commands in this case was

579
00:48:28,240 --> 00:48:33,240
dropped weekend in here and you look at
it but yet have missions obviously you

580
00:48:33,240 --> 00:48:33,990
that directory

581
00:48:33,990 --> 00:48:38,430
this also has to be on the box running
flow bet which the only downside right

582
00:48:38,430 --> 00:48:45,180
now in the works we're working at they
upload PK or something like that so that

583
00:48:45,180 --> 00:48:53,259
the new locomotive one destination
always be in this case I'm see so

584
00:48:53,259 --> 00:48:55,660
automation you know this is really fast

585
00:48:55,660 --> 00:48:59,578
these are things I didn't talk about
today but things are worth a lot

586
00:48:59,579 --> 00:49:04,319
especially you know reviewing this kind
of stuff that analysis pipeline by the

587
00:49:04,319 --> 00:49:08,970
way which is pretty handy does all kinds
of stuff like beginning section all

588
00:49:08,970 --> 00:49:14,549
kinds of things like that there's also
flow plotter flow claudia is too low

589
00:49:14,549 --> 00:49:19,250
while back that does some graphic to
flow back and do namely you know we

590
00:49:19,250 --> 00:49:24,309
started doing some you know bar charts
and things like that flow bet well local

591
00:49:24,309 --> 00:49:29,780
water does a little more it's it's
alright cool I use these templates

592
00:49:29,780 --> 00:49:35,740
basically to reference a lot of d3 and
and Google visualizations browser

593
00:49:35,740 --> 00:49:39,410
independence it works and everything
I've seen it in and all the

594
00:49:39,410 --> 00:49:42,538
visualisations come in an automated
fashion you get out of it this you want

595
00:49:42,539 --> 00:49:48,130
to still just little pictures of some
graphs and will go into much detail on

596
00:49:48,130 --> 00:49:53,260
other than you see someone move around a
little bit name laid so you have here

597
00:49:53,260 --> 00:49:57,680
obviously a bar chart is called charts
charts line charts but you also have

598
00:49:57,680 --> 00:50:01,470
this little middle guy here little tree
that keeps on expanding well thats

599
00:50:01,470 --> 00:50:05,430
automated asset fiction so you run this
fellow bloggers they're gonna run

600
00:50:05,430 --> 00:50:09,848
through all your flow data generate the
slope map alright rematch of all these

601
00:50:09,849 --> 00:50:14,630
assets at six so you won't be running
this thing to do to the discovery he

602
00:50:14,630 --> 00:50:20,099
just does all these reasons and throws
it in this courtroom at my web servers

603
00:50:20,099 --> 00:50:22,789
here you know an email search for things
like that

604
00:50:22,789 --> 00:50:26,380
bottom left is about which are which is
like a three-axis thing that compares

605
00:50:26,380 --> 00:50:31,480
records versus bikes packets the game we
look at art of accountants all three

606
00:50:31,480 --> 00:50:36,779
columns that kind of compares them and
it does it you know per host and

607
00:50:36,779 --> 00:50:39,180
different things like that so it's
pretty useful in trying to get

608
00:50:39,180 --> 00:50:43,700
interpretation of like you know how do
you expect things to work but it's it's

609
00:50:43,700 --> 00:50:48,270
kind of hard to to interpret instead
hard to give someone else for dinner we

610
00:50:48,270 --> 00:50:52,069
have some time on stuff which is like
subscribe traffic and then pretty

611
00:50:52,069 --> 00:50:56,829
useless for stricter chart until you
showed someone else and then if you

612
00:50:56,829 --> 00:51:00,700
write so you color code some stuff and
it's like

613
00:51:00,700 --> 00:51:04,859
you know make any sense of this myself
until move some stuff around and look

614
00:51:04,859 --> 00:51:10,040
manager telling me this is happening
because this will you have a graph you

615
00:51:10,040 --> 00:51:14,420
must you must be right and and their
bubbles and they're moving around this

616
00:51:14,420 --> 00:51:21,579
is very interactive go back to work and
so in summary still really fast

617
00:51:21,579 --> 00:51:28,180
best occupation ever tons of analysis
tools again like the back of the house

618
00:51:28,180 --> 00:51:33,598
and network security monitoring chris
rowe Price packinghouses that's what he

619
00:51:33,599 --> 00:51:37,619
was doing that he's saying let's write
this other book and we wrote that

620
00:51:37,619 --> 00:51:41,050
because that's what we were doing we
want help people that's what we did

621
00:51:41,050 --> 00:51:45,599
globe as well we're not trying to push
it on anybody despite me being here talk

622
00:51:45,599 --> 00:51:52,410
about it I'm not telling you a price tag
so it's like to go down and so it does

623
00:51:52,410 --> 00:51:54,359
wrapping finding things like that

624
00:51:54,359 --> 00:51:59,000
visualisations more costly working on it
so any bugs anything we respond daily

625
00:51:59,000 --> 00:52:04,650
you you see me said that the morning or
late late at night a lot of people and

626
00:52:04,650 --> 00:52:08,550
and I'll try to respond in 24 hours it
will be fixed 24 hours in most cases but

627
00:52:08,550 --> 00:52:11,550
responding it on television

628
00:52:12,099 --> 00:52:16,170
use it followed a day for not using it
yeah you definitely should be especially

629
00:52:16,170 --> 00:52:17,710
since your environment

630
00:52:17,710 --> 00:52:23,770
collected collection of allows you to
pivot which you need to STATS you can't

631
00:52:23,770 --> 00:52:31,009
do and you saw me eleven minutes and I
case you're done so there's the chicken

632
00:52:31,010 --> 00:52:37,630
recipe it is excellent I highly
recommend it it sa pressure fryer but it

633
00:52:37,630 --> 00:52:44,250
works just fine don't try to feel the
pressure and so you know I appreciate it

634
00:52:44,250 --> 00:52:44,900
very much

635
00:52:44,900 --> 00:52:51,030
here's some detail and any questions see
me after whatever right now over town

