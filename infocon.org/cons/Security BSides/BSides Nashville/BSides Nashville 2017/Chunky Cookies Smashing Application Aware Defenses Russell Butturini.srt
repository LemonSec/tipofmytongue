1
00:00:00,000 --> 00:00:09,090
sorry we unmute<font color="#CCCCCC"> mm you here good good oh</font>

2
00:00:05,220 --> 00:00:13,590
yeah that's loud and as soon as I say

3
00:00:09,090 --> 00:00:17,220
that more people come in Wow all right

4
00:00:13,590 --> 00:00:20,090
let's go besides national how's

5
00:00:17,220 --> 00:00:23,430
everybody doing good<font color="#CCCCCC"> have a</font><font color="#E5E5E5"> good day</font>

6
00:00:20,090 --> 00:00:25,769
anybody learn anything<font color="#CCCCCC"> yeah it's awesome</font>

7
00:00:23,430 --> 00:00:27,570
awesome my name is<font color="#E5E5E5"> Russell betarrini</font>

8
00:00:25,769 --> 00:00:29,189
this is chunky cookie smashing

9
00:00:27,570 --> 00:00:30,539
application where defenses when I say

10
00:00:29,189 --> 00:00:31,948
application where<font color="#E5E5E5"> defenses how many</font>

11
00:00:30,539 --> 00:00:34,110
people kind of<font color="#E5E5E5"> have an idea of what I'm</font>

12
00:00:31,949 --> 00:00:37,950
talking about well you were<font color="#E5E5E5"> to book on</font>

13
00:00:34,110 --> 00:00:40,290
you don't<font color="#E5E5E5"> count so anyway ya know so if</font>

14
00:00:37,950 --> 00:00:41,730
you<font color="#E5E5E5"> don't we're go over it but yeah</font>

15
00:00:40,290 --> 00:00:44,579
let's jump right into it and see<font color="#CCCCCC"> if we</font>

16
00:00:41,730 --> 00:00:46,230
get<font color="#E5E5E5"> through this so a little bit about</font>

17
00:00:44,579 --> 00:00:48,180
me I'm<font color="#E5E5E5"> not a good sale promoter but I'm</font>

18
00:00:46,230 --> 00:00:51,510
a pen tester at a large health insurance

19
00:00:48,180 --> 00:00:53,070
company<font color="#CCCCCC"> who I have</font><font color="#E5E5E5"> to say</font><font color="#CCCCCC"> by sort</font><font color="#E5E5E5"> of</font>

20
00:00:51,510 --> 00:00:55,530
being fired i'm not representing them

21
00:00:53,070 --> 00:00:57,660
here today it<font color="#CCCCCC"> rhymes with cabana so you</font>

22
00:00:55,530 --> 00:01:00,000
can guess which one that is I've been

23
00:00:57,660 --> 00:01:01,500
doing i.t for about 13 years a little

24
00:01:00,000 --> 00:01:03,860
everything I started a networking

25
00:01:01,500 --> 00:01:06,000
infrastructure to a server admin and

26
00:01:03,860 --> 00:01:07,560
<font color="#CCCCCC">Active Directory</font><font color="#E5E5E5"> I'm a microsoft</font>

27
00:01:06,000 --> 00:01:11,390
certified solitary expert on Windows

28
00:01:07,560 --> 00:01:14,909
2000 which makes me highly qualified and

29
00:01:11,390 --> 00:01:16,430
so and believe<font color="#E5E5E5"> it or not active</font>

30
00:01:14,909 --> 00:01:18,990
directory hasn't changed that much but

31
00:01:16,430 --> 00:01:20,630
moved into<font color="#E5E5E5"> the security side about nine</font>

32
00:01:18,990 --> 00:01:23,759
years<font color="#E5E5E5"> ago started doing that full-time</font>

33
00:01:20,630 --> 00:01:27,080
<font color="#E5E5E5">pen testing a lot of web app stuff and</font>

34
00:01:23,759 --> 00:01:29,579
mobile and<font color="#CCCCCC"> in security infrastructure</font><font color="#E5E5E5"> I</font>

35
00:01:27,080 --> 00:01:31,350
another state shameless self plug i'm

36
00:01:29,579 --> 00:01:33,630
loth of North ql map which<font color="#CCCCCC"> I</font><font color="#E5E5E5"> presented</font>

37
00:01:31,350 --> 00:01:36,089
here at the be fed Nashville the very

38
00:01:33,630 --> 00:01:38,548
first besides Nashville<font color="#E5E5E5"> 34 years ago and</font>

39
00:01:36,090 --> 00:01:41,040
it's taken off and appreciate everybody

40
00:01:38,549 --> 00:01:42,509
who supported that tool and i always put

41
00:01:41,040 --> 00:01:44,430
this disclaimer my presentations<font color="#E5E5E5"> i am</font>

42
00:01:42,509 --> 00:01:46,110
the world's worst power pointer that's

43
00:01:44,430 --> 00:01:47,790
about<font color="#CCCCCC"> the most artistic colors i can</font>

44
00:01:46,110 --> 00:01:50,100
come up with but<font color="#CCCCCC"> you know what they work</font>

45
00:01:47,790 --> 00:01:51,720
<font color="#E5E5E5">on every projector in the world so</font><font color="#CCCCCC"> i'm</font>

46
00:01:50,100 --> 00:01:53,309
<font color="#E5E5E5">going</font><font color="#CCCCCC"> to stick with them and i'm not a</font>

47
00:01:51,720 --> 00:01:55,140
role model for public speaking so i will

48
00:01:53,310 --> 00:01:56,430
probably<font color="#E5E5E5"> pick my nose and um and awe and</font>

49
00:01:55,140 --> 00:01:58,110
do everything else wrong during this

50
00:01:56,430 --> 00:02:00,509
talk and<font color="#E5E5E5"> I really should go semesters</font>

51
00:01:58,110 --> 00:02:04,710
and learn<font color="#CCCCCC"> how</font><font color="#E5E5E5"> to speak some day but you</font>

52
00:02:00,509 --> 00:02:06,390
<font color="#CCCCCC">know when I have free time so quick</font>

53
00:02:04,710 --> 00:02:08,280
agenda why are we doing this talk why

54
00:02:06,390 --> 00:02:09,479
are<font color="#E5E5E5"> you why are you all here at</font><font color="#CCCCCC"> 420 in</font>

55
00:02:08,280 --> 00:02:10,949
the afternoon because<font color="#E5E5E5"> you thought</font>

56
00:02:09,479 --> 00:02:12,569
they're going to be cookies and 420

57
00:02:10,949 --> 00:02:17,069
clearly but

58
00:02:12,569 --> 00:02:18,119
yeah so I a review of application

59
00:02:17,069 --> 00:02:20,219
awareness you don't know what I'm

60
00:02:18,120 --> 00:02:21,870
talking<font color="#CCCCCC"> about and so then we're gonna</font>

61
00:02:20,219 --> 00:02:24,030
dive in from the weaknesses of these

62
00:02:21,870 --> 00:02:26,159
application-aware security controls that

63
00:02:24,030 --> 00:02:27,180
we<font color="#E5E5E5"> implement and then the last type of</font>

64
00:02:26,159 --> 00:02:28,650
talking about focus on a tool called

65
00:02:27,180 --> 00:02:31,200
fire way this is a tool i originally

66
00:02:28,650 --> 00:02:33,689
presented a derby<font color="#E5E5E5"> colin last year and a</font>

67
00:02:31,200 --> 00:02:35,010
little 25 minutes walk on sunday what's

68
00:02:33,689 --> 00:02:38,129
your recipe today is a complete rewrite

69
00:02:35,010 --> 00:02:39,328
and revamp of that tool<font color="#CCCCCC"> all-new totally</font>

70
00:02:38,129 --> 00:02:41,459
different you guys the first wants to

71
00:02:39,329 --> 00:02:43,439
see it and<font color="#CCCCCC"> i haven't I github forgets to</font>

72
00:02:41,459 --> 00:02:45,689
<font color="#E5E5E5">play with and hopefully come time for</font>

73
00:02:43,439 --> 00:02:47,340
questions and comments and whatever

74
00:02:45,689 --> 00:02:50,849
level of profanity were allowed here

75
00:02:47,340 --> 00:02:53,189
towards<font color="#E5E5E5"> me at the end so why get this</font>

76
00:02:50,849 --> 00:02:55,339
talk this is what I feel a lot<font color="#CCCCCC"> of</font><font color="#E5E5E5"> I went</font>

77
00:02:53,189 --> 00:02:57,989
to a lot of conferences last year and

78
00:02:55,340 --> 00:02:59,849
it's this is just kind<font color="#E5E5E5"> of what people do</font>

79
00:02:57,989 --> 00:03:01,709
now you go in a<font color="#E5E5E5"> pen test talk and they'd</font>

80
00:02:59,849 --> 00:03:03,629
macro and off the stock and fish

81
00:03:01,709 --> 00:03:05,219
somebody and you get dude PowerShell and

82
00:03:03,629 --> 00:03:06,810
<font color="#E5E5E5">Empire and all that stuff and you pivot</font>

83
00:03:05,219 --> 00:03:08,519
around you jump you know escalate

84
00:03:06,810 --> 00:03:10,319
officially become a domain admin and you

85
00:03:08,519 --> 00:03:12,299
write a report like check and you're

86
00:03:10,319 --> 00:03:16,168
done and and I thought you know I'm not

87
00:03:12,299 --> 00:03:17,609
<font color="#E5E5E5">degrading that</font><font color="#CCCCCC"> in any way there's people</font>

88
00:03:16,169 --> 00:03:19,470
doing a lot of really creative and

89
00:03:17,609 --> 00:03:22,439
<font color="#E5E5E5">inventive ways and it just keeps getting</font>

90
00:03:19,470 --> 00:03:23,400
better and harder to detect but this is

91
00:03:22,439 --> 00:03:24,900
the problem<font color="#E5E5E5"> with that more and more</font>

92
00:03:23,400 --> 00:03:26,280
enterprises more more your internal

93
00:03:24,900 --> 00:03:27,959
external customers trying to adopt this

94
00:03:26,280 --> 00:03:29,479
mentality which is the assumed breach

95
00:03:27,959 --> 00:03:34,470
mentality<font color="#CCCCCC"> because anybody heard of this</font>

96
00:03:29,479 --> 00:03:36,389
okay yes this is the window we can't

97
00:03:34,470 --> 00:03:37,949
stay ahead of attackers we know we can't

98
00:03:36,389 --> 00:03:39,269
patch<font color="#E5E5E5"> 100% who</font><font color="#CCCCCC"> their have gotten one</font>

99
00:03:37,949 --> 00:03:41,909
hundred percent patch success with FB

100
00:03:39,269 --> 00:03:46,530
p.m. yeah anybody who<font color="#CCCCCC"> raise their</font><font color="#E5E5E5"> hand</font>

101
00:03:41,909 --> 00:03:48,209
is lying but um we know our users going

102
00:03:46,530 --> 00:03:49,859
to dumb things or to click on link we're

103
00:03:48,209 --> 00:03:53,489
going<font color="#E5E5E5"> to get breached so we're going to</font>

104
00:03:49,859 --> 00:03:55,979
make our best effort our best effort to

105
00:03:53,489 --> 00:03:57,359
keep bad things from happening but we're

106
00:03:55,979 --> 00:03:59,780
going<font color="#E5E5E5"> to spend the most part energy on</font>

107
00:03:57,359 --> 00:04:04,949
detection isolation and remediation

108
00:03:59,780 --> 00:04:06,569
quickly so if you're doing this<font color="#CCCCCC"> all</font>

109
00:04:04,949 --> 00:04:08,969
you're doing<font color="#E5E5E5"> is proving</font><font color="#CCCCCC"> is something</font>

110
00:04:06,569 --> 00:04:12,659
they either know or assume they know is

111
00:04:08,969 --> 00:04:15,478
already happening so it d values your

112
00:04:12,659 --> 00:04:16,709
penetration testing exercise so this<font color="#E5E5E5"> is</font>

113
00:04:15,479 --> 00:04:18,060
where I think<font color="#CCCCCC"> it's time for us with 10</font>

114
00:04:16,709 --> 00:04:19,829
testers to be creative I don't know how

115
00:04:18,060 --> 00:04:21,810
to feel it<font color="#CCCCCC"> 10 10 to talk just just for</font>

116
00:04:19,829 --> 00:04:24,150
fun if you're<font color="#E5E5E5"> a pen tester or want to be</font>

117
00:04:21,810 --> 00:04:26,200
a pen death to raise your hand<font color="#CCCCCC"> okay okay</font>

118
00:04:24,150 --> 00:04:27,489
<font color="#E5E5E5">pretty</font><font color="#CCCCCC"> it's why you're in the red track</font>

119
00:04:26,200 --> 00:04:30,640
that's good that's kind of a dumb

120
00:04:27,490 --> 00:04:32,290
question wasn't it but let's I think we

121
00:04:30,640 --> 00:04:35,830
should<font color="#E5E5E5"> start</font><font color="#CCCCCC"> going after</font><font color="#E5E5E5"> these detective</font>

122
00:04:32,290 --> 00:04:38,460
control so things like application-aware

123
00:04:35,830 --> 00:04:40,450
firewalls next-gen firewalls dlp

124
00:04:38,460 --> 00:04:42,849
antivirus and we do a<font color="#E5E5E5"> little bit i think</font>

125
00:04:40,450 --> 00:04:44,020
<font color="#E5E5E5">that</font><font color="#CCCCCC"> should be a very</font><font color="#E5E5E5"> important focal</font>

126
00:04:42,850 --> 00:04:46,090
point our test the other thing<font color="#E5E5E5"> i think</font>

127
00:04:44,020 --> 00:04:48,789
<font color="#CCCCCC">is</font><font color="#E5E5E5"> really important that I see a lot of</font>

128
00:04:46,090 --> 00:04:52,179
companies miss in penetration testing

129
00:04:48,790 --> 00:04:54,340
engagement is data exfiltration and the

130
00:04:52,180 --> 00:04:56,020
<font color="#E5E5E5">theoretical the we're in get into the</font>

131
00:04:54,340 --> 00:04:58,989
network we pivot around we get these

132
00:04:56,020 --> 00:05:00,940
elevated levels of privileges and saying

133
00:04:58,990 --> 00:05:03,730
it because<font color="#E5E5E5"> I had this I could do this</font>

134
00:05:00,940 --> 00:05:05,650
just one thing<font color="#E5E5E5"> actually doing an</font>

135
00:05:03,730 --> 00:05:07,360
exercise of some sort where data leave

136
00:05:05,650 --> 00:05:09,190
because that's what cost<font color="#E5E5E5"> companies money</font>

137
00:05:07,360 --> 00:05:11,050
and puts them out of business that's a

138
00:05:09,190 --> 00:05:12,610
whole different level so I think that

139
00:05:11,050 --> 00:05:14,440
<font color="#E5E5E5">something is very important to scope and</font>

140
00:05:12,610 --> 00:05:16,480
you don't have<font color="#E5E5E5"> to use real data</font><font color="#CCCCCC"> I'm most</font>

141
00:05:14,440 --> 00:05:18,280
company for development purposes have

142
00:05:16,480 --> 00:05:19,870
something that candy identify data and

143
00:05:18,280 --> 00:05:21,250
you can use fake data that looks like

144
00:05:19,870 --> 00:05:26,110
real data their control should stop

145
00:05:21,250 --> 00:05:27,970
<font color="#E5E5E5">leading and</font><font color="#CCCCCC"> guys I am</font><font color="#E5E5E5"> I'm concerned</font>

146
00:05:26,110 --> 00:05:32,070
<font color="#CCCCCC">about the state of pin testing right now</font>

147
00:05:27,970 --> 00:05:35,530
because I see to sort of conflict until

148
00:05:32,070 --> 00:05:39,099
eight or e compliance<font color="#CCCCCC"> type things like</font>

149
00:05:35,530 --> 00:05:40,929
<font color="#CCCCCC">tci which require so much been testing</font>

150
00:05:39,100 --> 00:05:43,090
like if you have a system and it gets a

151
00:05:40,930 --> 00:05:44,650
whiff of a credit<font color="#E5E5E5"> card number it has to</font>

152
00:05:43,090 --> 00:05:46,090
be pin tested at least<font color="#E5E5E5"> yearly and</font>

153
00:05:44,650 --> 00:05:48,909
sometimes quarterly depending on what it

154
00:05:46,090 --> 00:05:51,280
does so you have this group of let's

155
00:05:48,910 --> 00:05:53,170
make<font color="#E5E5E5"> money off</font><font color="#CCCCCC"> 10 testing companies over</font>

156
00:05:51,280 --> 00:05:55,150
here that are trying<font color="#CCCCCC"> to do it at scale</font>

157
00:05:53,170 --> 00:05:56,890
by just deploying automation scripts

158
00:05:55,150 --> 00:05:58,960
people who<font color="#E5E5E5"> don't may really know what</font>

159
00:05:56,890 --> 00:06:02,530
they're doing<font color="#CCCCCC"> just know how</font><font color="#E5E5E5"> to run</font><font color="#CCCCCC"> scans</font>

160
00:05:58,960 --> 00:06:04,270
and you have a group<font color="#E5E5E5"> of over here</font>

161
00:06:02,530 --> 00:06:06,760
companies like Black Hills information

162
00:06:04,270 --> 00:06:10,229
security trusted<font color="#E5E5E5"> Beck in guardians who</font>

163
00:06:06,760 --> 00:06:13,150
want to do things the right way and

164
00:06:10,230 --> 00:06:15,760
doing creative things showing value

165
00:06:13,150 --> 00:06:17,020
doing this type of activity is what's

166
00:06:15,760 --> 00:06:18,580
going to keep that doing things the

167
00:06:17,020 --> 00:06:23,260
right way alive and maybe keep this

168
00:06:18,580 --> 00:06:24,760
cheap scalp in testing out so diving

169
00:06:23,260 --> 00:06:26,680
into application awareness this is that

170
00:06:24,760 --> 00:06:28,719
thing you guys learn for your CCNA and

171
00:06:26,680 --> 00:06:31,420
<font color="#CCCCCC">then for God after</font><font color="#E5E5E5"> the exam</font><font color="#CCCCCC"> was over</font>

172
00:06:28,720 --> 00:06:32,950
<font color="#E5E5E5">probably i don't know i did it was the</font>

173
00:06:31,420 --> 00:06:34,660
<font color="#E5E5E5">thing all people seem to need data</font>

174
00:06:32,950 --> 00:06:36,520
processing please do not throw sausage

175
00:06:34,660 --> 00:06:38,030
pizza way that's<font color="#E5E5E5"> the way I learned that</font>

176
00:06:36,520 --> 00:06:42,770
anyone I you Sita

177
00:06:38,030 --> 00:06:44,450
so but this<font color="#E5E5E5"> is this is the OSI model and</font>

178
00:06:42,770 --> 00:06:46,669
so<font color="#E5E5E5"> this is</font><font color="#CCCCCC"> actually the layers of</font>

179
00:06:44,450 --> 00:06:50,030
building a connection from<font color="#E5E5E5"> the cable</font>

180
00:06:46,670 --> 00:06:51,230
<font color="#E5E5E5">plug in the wall physical to the payload</font>

181
00:06:50,030 --> 00:06:53,780
the data you're actually transmitting

182
00:06:51,230 --> 00:06:55,780
application layer<font color="#CCCCCC"> 7 at the top and I</font>

183
00:06:53,780 --> 00:06:57,979
like<font color="#E5E5E5"> the way this diagram is laid out</font>

184
00:06:55,780 --> 00:06:59,929
<font color="#E5E5E5">721 because you can think of each layer</font>

185
00:06:57,980 --> 00:07:01,490
as a building block so<font color="#E5E5E5"> you have to have</font>

186
00:06:59,930 --> 00:07:03,770
its predecessor before you can get<font color="#CCCCCC"> to</font>

187
00:07:01,490 --> 00:07:06,380
the next<font color="#E5E5E5"> layer and you'll see why that's</font>

188
00:07:03,770 --> 00:07:07,520
important here in a little bit so<font color="#E5E5E5"> I'm</font>

189
00:07:06,380 --> 00:07:09,110
going<font color="#CCCCCC"> to</font><font color="#E5E5E5"> be getting not so long ago and</font>

190
00:07:07,520 --> 00:07:12,080
<font color="#CCCCCC">we filled it</font><font color="#E5E5E5"> today we looked only at</font>

191
00:07:09,110 --> 00:07:13,970
layer<font color="#E5E5E5"> 3 in there for right I pns the</font>

192
00:07:12,080 --> 00:07:16,250
network layer and the transport layer so

193
00:07:13,970 --> 00:07:18,200
wear something coming from<font color="#CCCCCC"> IP address</font>

194
00:07:16,250 --> 00:07:20,060
where is it going to what ports are

195
00:07:18,200 --> 00:07:22,909
connecting on what ports are coming from

196
00:07:20,060 --> 00:07:24,170
sometimes and we just sort of allowed or

197
00:07:22,910 --> 00:07:26,330
denied it and there's some examples of

198
00:07:24,170 --> 00:07:28,700
technologies we use pretty simple<font color="#CCCCCC"> stuff</font>

199
00:07:26,330 --> 00:07:30,349
and stuff again it's not<font color="#E5E5E5"> so long ago we</font>

200
00:07:28,700 --> 00:07:34,670
use the stuff but it's still still

201
00:07:30,350 --> 00:07:37,490
prevalent today but as processing<font color="#E5E5E5"> power</font>

202
00:07:34,670 --> 00:07:40,130
started to increase right we started be

203
00:07:37,490 --> 00:07:42,470
able to take more deep looks at traffic

204
00:07:40,130 --> 00:07:45,110
and move more traffic faster while we're

205
00:07:42,470 --> 00:07:47,420
looking deep so we were able<font color="#E5E5E5"> to look all</font>

206
00:07:45,110 --> 00:07:49,820
the way<font color="#E5E5E5"> up to sac right so we're able to</font>

207
00:07:47,420 --> 00:07:52,400
look<font color="#E5E5E5"> into the payload and start making</font>

208
00:07:49,820 --> 00:07:53,810
<font color="#CCCCCC">more complex decisions and you can think</font>

209
00:07:52,400 --> 00:07:54,979
<font color="#E5E5E5">of things like load balancers and</font>

210
00:07:53,810 --> 00:07:56,630
proxies where you're actually

211
00:07:54,980 --> 00:07:59,060
terminating the connection and you can

212
00:07:56,630 --> 00:08:01,280
rewrite the payload effectively to

213
00:07:59,060 --> 00:08:02,810
something you want next-generation

214
00:08:01,280 --> 00:08:04,130
firewalls whose work the next-generation

215
00:08:02,810 --> 00:08:06,140
firewall in here's something like Palo

216
00:08:04,130 --> 00:08:08,990
Alto<font color="#CCCCCC"> Barracuda</font><font color="#E5E5E5"> okay yeah those are my</font>

217
00:08:06,140 --> 00:08:10,849
people<font color="#E5E5E5"> right there I don't work for a</font>

218
00:08:08,990 --> 00:08:14,720
vendor I just have had to work form work

219
00:08:10,850 --> 00:08:16,040
with of the platforms but<font color="#CCCCCC"> DLP network</font>

220
00:08:14,720 --> 00:08:17,630
network basement<font color="#E5E5E5"> client side where are</font>

221
00:08:16,040 --> 00:08:20,300
you<font color="#CCCCCC"> looking you're looking inside the</font>

222
00:08:17,630 --> 00:08:21,800
<font color="#CCCCCC">payload inside the flow anomaly</font>

223
00:08:20,300 --> 00:08:23,210
detection filters and that sort of<font color="#E5E5E5"> a</font>

224
00:08:21,800 --> 00:08:26,060
gray area<font color="#E5E5E5"> we'll talk about SSL</font>

225
00:08:23,210 --> 00:08:27,380
decryption breaking open encryption and

226
00:08:26,060 --> 00:08:28,940
URL filtering you don't think<font color="#E5E5E5"> at URL</font>

227
00:08:27,380 --> 00:08:29,990
filtering is like a layer 7<font color="#CCCCCC"> PI</font>

228
00:08:28,940 --> 00:08:31,910
technology what are you doing you're

229
00:08:29,990 --> 00:08:33,500
looking at a flow as you know and

230
00:08:31,910 --> 00:08:37,430
looking at HTTP request and response

231
00:08:33,500 --> 00:08:40,370
<font color="#CCCCCC">imply it so why are these things broken</font>

232
00:08:37,429 --> 00:08:41,900
let's<font color="#E5E5E5"> talk about that what happens to</font>

233
00:08:40,370 --> 00:08:43,370
the network device you plug into your

234
00:08:41,900 --> 00:08:47,780
network that introduces a bunch of

235
00:08:43,370 --> 00:08:49,580
latency<font color="#E5E5E5"> and operational impact you have</font>

236
00:08:47,780 --> 00:08:51,310
a really really nice expensive paper

237
00:08:49,580 --> 00:08:55,450
weight on your desk don't

238
00:08:51,310 --> 00:08:57,800
it's a resume generator<font color="#CCCCCC"> too</font><font color="#E5E5E5"> right so</font>

239
00:08:55,450 --> 00:09:00,529
while these platforms make big promises

240
00:08:57,800 --> 00:09:01,729
that oh we can do all this inspection

241
00:09:00,529 --> 00:09:03,710
and we can do<font color="#E5E5E5"> all these wonderful things</font>

242
00:09:01,730 --> 00:09:05,480
and detect every app and every piece<font color="#CCCCCC"> of</font>

243
00:09:03,710 --> 00:09:08,600
part<font color="#E5E5E5"> of facebook and you know it's great</font>

244
00:09:05,480 --> 00:09:11,510
<font color="#E5E5E5">if you still have to move</font><font color="#CCCCCC"> the package</font>

245
00:09:08,600 --> 00:09:15,560
down the wire very very<font color="#E5E5E5"> quickly so you</font>

246
00:09:11,510 --> 00:09:17,600
can look at things fast in a couple of

247
00:09:15,560 --> 00:09:20,359
different ways number one is you only

248
00:09:17,600 --> 00:09:22,370
look<font color="#E5E5E5"> at the traffic going one way so I'm</font>

249
00:09:20,360 --> 00:09:24,170
gonna go go out I'm going<font color="#E5E5E5"> to make a</font>

250
00:09:22,370 --> 00:09:25,940
layer 7 decision on what goes out I'm

251
00:09:24,170 --> 00:09:28,099
not going to match it up it comes back

252
00:09:25,940 --> 00:09:29,900
and kill the flow based on it that's

253
00:09:28,100 --> 00:09:33,110
very very important the other thing i've

254
00:09:29,900 --> 00:09:35,720
seen these platforms do is they take

255
00:09:33,110 --> 00:09:37,760
shortcuts so<font color="#E5E5E5"> everyone up here and if you</font>

256
00:09:35,720 --> 00:09:40,040
send traffic 44 43 and basics before

257
00:09:37,760 --> 00:09:42,500
encode it and the firewall can't read it

258
00:09:40,040 --> 00:09:44,740
you know it just is<font color="#E5E5E5"> all is cool i can't</font>

259
00:09:42,500 --> 00:09:47,360
read that<font color="#E5E5E5"> it's on port 443 must be TLS</font>

260
00:09:44,740 --> 00:09:49,070
yeah so if you have a rule that permits

261
00:09:47,360 --> 00:09:52,100
pls and it's even though if it's<font color="#E5E5E5"> not</font>

262
00:09:49,070 --> 00:09:58,400
<font color="#E5E5E5">really TLS and appreciated it some other</font>

263
00:09:52,100 --> 00:09:59,900
way firewall let's traffic out so i'm

264
00:09:58,400 --> 00:10:00,709
going to<font color="#E5E5E5"> give you an example and those</font>

265
00:09:59,900 --> 00:10:01,970
of you who have worked with these

266
00:10:00,709 --> 00:10:03,469
platforms for<font color="#CCCCCC"> i know exactly</font><font color="#E5E5E5"> which</font>

267
00:10:01,970 --> 00:10:04,970
bender we're not gonna name names we're

268
00:10:03,470 --> 00:10:07,700
not going<font color="#CCCCCC"> to name</font><font color="#E5E5E5"> names but this is a</font>

269
00:10:04,970 --> 00:10:08,990
vendor's firewall and this is their

270
00:10:07,700 --> 00:10:12,560
skype signature and<font color="#E5E5E5"> i want you to look</font>

271
00:10:08,990 --> 00:10:13,760
at the line that's a standard port<font color="#E5E5E5"> i'm</font>

272
00:10:12,560 --> 00:10:15,260
sorry<font color="#E5E5E5"> i've been trying to get sick all</font>

273
00:10:13,760 --> 00:10:17,120
week so<font color="#E5E5E5"> i'm trying to hold up through</font>

274
00:10:15,260 --> 00:10:19,670
this but you see where it's a<font color="#E5E5E5"> pcp</font>

275
00:10:17,120 --> 00:10:24,589
dynamic and UDP dynamic that's their

276
00:10:19,670 --> 00:10:26,029
code word for any so if say<font color="#CCCCCC"> i permit not</font>

277
00:10:24,589 --> 00:10:29,120
that this would ever happen but i'm just

278
00:10:26,029 --> 00:10:32,029
<font color="#CCCCCC">going to</font><font color="#E5E5E5"> permit the ne ne but it has to</font>

279
00:10:29,120 --> 00:10:33,709
<font color="#E5E5E5">match skype what I'm effectively</font><font color="#CCCCCC"> done is</font>

280
00:10:32,029 --> 00:10:36,950
I put<font color="#E5E5E5"> a rule on my firewall that says</font>

281
00:10:33,709 --> 00:10:38,959
I'm going<font color="#E5E5E5"> to allow there's a TCP any any</font>

282
00:10:36,950 --> 00:10:40,910
rule or UDP any a rule traffic from

283
00:10:38,959 --> 00:10:42,529
everywhere everywhere up to the amount

284
00:10:40,910 --> 00:10:44,449
of data that the firewall needs to

285
00:10:42,529 --> 00:10:47,420
figure out if the traffic is skype or

286
00:10:44,450 --> 00:10:48,920
not so if you blend the rule liked it up

287
00:10:47,420 --> 00:10:50,000
a layer 7 rule and there's a number of

288
00:10:48,920 --> 00:10:51,589
absolute this this type of

289
00:10:50,000 --> 00:10:54,350
characteristic and it doesn't even have

290
00:10:51,589 --> 00:10:56,510
to be any so you could say practically

291
00:10:54,350 --> 00:10:58,850
<font color="#E5E5E5">on port 443 but it has</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> be this at but</font>

292
00:10:56,510 --> 00:11:01,160
we know run for three it can really be

293
00:10:58,850 --> 00:11:03,230
any type of traffic and the firewall

294
00:11:01,160 --> 00:11:04,100
will bleed it out until it figures out

295
00:11:03,230 --> 00:11:06,860
why

296
00:11:04,100 --> 00:11:08,660
this is or is not skype or Instagram or

297
00:11:06,860 --> 00:11:10,339
whatever app and we're<font color="#E5E5E5"> talking we're</font>

298
00:11:08,660 --> 00:11:11,389
gonna<font color="#E5E5E5"> take a lot</font><font color="#CCCCCC"> in HTTP today and</font>

299
00:11:10,339 --> 00:11:15,500
there's a reason<font color="#CCCCCC"> for that and we'll get</font>

300
00:11:11,389 --> 00:11:17,899
<font color="#E5E5E5">into that here in a little bit so dlp</font>

301
00:11:15,500 --> 00:11:19,550
there's network-based<font color="#E5E5E5"> dlp client</font><font color="#CCCCCC"> deal p</font>

302
00:11:17,899 --> 00:11:24,290
kind of people to implement a deal to

303
00:11:19,550 --> 00:11:26,089
your worked with it<font color="#E5E5E5"> okay I'm sorry so do</font>

304
00:11:24,290 --> 00:11:27,889
<font color="#CCCCCC">team suffers from what I like to term</font>

305
00:11:26,089 --> 00:11:29,980
the antivirus problem and a lot of<font color="#E5E5E5"> other</font>

306
00:11:27,889 --> 00:11:32,089
people tournament why do we talk about

307
00:11:29,980 --> 00:11:33,980
antivirus on we've like rag on it and

308
00:11:32,089 --> 00:11:38,120
say it's dead what sort of the core

309
00:11:33,980 --> 00:11:40,759
reason its signature bass it's based on

310
00:11:38,120 --> 00:11:42,769
static signatures and pattern and we sit

311
00:11:40,759 --> 00:11:45,259
there we say that like oh it's only any

312
00:11:42,769 --> 00:11:47,029
virus but it's everything is IPS

313
00:11:45,259 --> 00:11:49,930
signatures its next-generation<font color="#E5E5E5"> firewalls</font>

314
00:11:47,029 --> 00:11:52,130
<font color="#CCCCCC">it's dlp what our deal T rules made up</font>

315
00:11:49,930 --> 00:11:55,370
they're made of reg<font color="#E5E5E5"> exes that look like</font>

316
00:11:52,130 --> 00:11:58,459
what credit card numbers social security

317
00:11:55,370 --> 00:12:00,769
numbers medical terms right so if we

318
00:11:58,459 --> 00:12:05,180
deviate just a little bit to the left to

319
00:12:00,769 --> 00:12:07,250
the right off these signatures then dlp

320
00:12:05,180 --> 00:12:08,689
failed so if you have a file full of

321
00:12:07,250 --> 00:12:11,300
credit<font color="#CCCCCC"> card numbers you basic people</font><font color="#E5E5E5"> are</font>

322
00:12:08,689 --> 00:12:12,709
<font color="#E5E5E5">coded what happens to it the</font><font color="#CCCCCC"> dlp wasted</font>

323
00:12:11,300 --> 00:12:16,729
on down the wires is goodbye good luck

324
00:12:12,709 --> 00:12:18,979
right and the<font color="#CCCCCC"> other thing with dlp it</font>

325
00:12:16,730 --> 00:12:20,180
often gets tuned way way way down how

326
00:12:18,980 --> 00:12:22,370
many<font color="#E5E5E5"> people had soon deal to you oh</font>

327
00:12:20,180 --> 00:12:25,008
she's not<font color="#E5E5E5"> you know so because</font><font color="#CCCCCC"> you don't</font>

328
00:12:22,370 --> 00:12:26,660
<font color="#CCCCCC">want you don't want the the reception</font>

329
00:12:25,009 --> 00:12:28,490
<font color="#E5E5E5">singh email you know to her husband says</font>

330
00:12:26,660 --> 00:12:30,319
hey Tom Sally's dentist appointment is

331
00:12:28,490 --> 00:12:32,569
at three and she gets a big box and an

332
00:12:30,319 --> 00:12:35,540
alert as I you know your tricep thi ah

333
00:12:32,569 --> 00:12:37,250
texts were dentist right so it gets

334
00:12:35,540 --> 00:12:40,579
tuned way down so you have a lot of

335
00:12:37,250 --> 00:12:42,410
flexibility in you know by<font color="#E5E5E5"> passing these</font>

336
00:12:40,579 --> 00:12:44,689
things by sending data in chunks which

337
00:12:42,410 --> 00:12:46,550
<font color="#E5E5E5">we'll get to so the other thing about</font>

338
00:12:44,689 --> 00:12:47,959
dlp and i lumped URL filtering in here

339
00:12:46,550 --> 00:12:52,880
<font color="#E5E5E5">because i was too lazy to make another</font>

340
00:12:47,959 --> 00:12:54,739
slide about URL filtering but they make

341
00:12:52,880 --> 00:12:56,839
decisions<font color="#E5E5E5"> and you</font><font color="#CCCCCC"> as a tune del pino</font>

342
00:12:54,740 --> 00:12:58,519
oftentimes the rules are based like<font color="#E5E5E5"> i</font>

343
00:12:56,839 --> 00:13:00,199
want to let certain types of data into

344
00:12:58,519 --> 00:13:02,870
social networking I don't want to let

345
00:13:00,199 --> 00:13:04,790
<font color="#E5E5E5">certain types of data into webmail right</font>

346
00:13:02,870 --> 00:13:07,310
how does it decide<font color="#E5E5E5"> it's webmail well</font>

347
00:13:04,790 --> 00:13:09,889
<font color="#E5E5E5">it's HTTP</font><font color="#CCCCCC"> our old friend so and it's</font>

348
00:13:07,310 --> 00:13:12,199
based strictly on the<font color="#CCCCCC"> method the path</font>

349
00:13:09,889 --> 00:13:13,449
and host name and URL filtering pretty

350
00:13:12,199 --> 00:13:17,099
much usually<font color="#E5E5E5"> just makes it on the host</font>

351
00:13:13,449 --> 00:13:19,500
so what<font color="#CCCCCC"> is</font>

352
00:13:17,100 --> 00:13:22,710
<font color="#E5E5E5">I spend something like this to a server</font>

353
00:13:19,500 --> 00:13:25,260
<font color="#CCCCCC">ion remember we talked about one way in</font>

354
00:13:22,710 --> 00:13:27,120
<font color="#E5E5E5">section summits in this the URL</font>

355
00:13:25,260 --> 00:13:28,380
filtering or<font color="#E5E5E5"> the DLP whatever is going</font>

356
00:13:27,120 --> 00:13:30,030
to say all<font color="#E5E5E5"> right yeah that was going to</font>

357
00:13:28,380 --> 00:13:31,380
LinkedIn it ignores<font color="#E5E5E5"> the other header</font>

358
00:13:30,030 --> 00:13:34,740
because it doesn't know how to look at

359
00:13:31,380 --> 00:13:36,300
the other header my server goes knows

360
00:13:34,740 --> 00:13:37,590
how to look at the other header<font color="#E5E5E5"> goes and</font>

361
00:13:36,300 --> 00:13:39,569
get the content for<font color="#E5E5E5"> that other domain</font>

362
00:13:37,590 --> 00:13:40,980
time-wasting<font color="#CCCCCC"> gamescom which i change</font>

363
00:13:39,570 --> 00:13:43,440
because<font color="#CCCCCC"> i remember</font><font color="#E5E5E5"> where we were giving</font>

364
00:13:40,980 --> 00:13:48,330
the presentation it was much more

365
00:13:43,440 --> 00:13:51,060
graphic but there was nothing something

366
00:13:48,330 --> 00:13:52,620
different but<font color="#E5E5E5"> and it returns the content</font>

367
00:13:51,060 --> 00:13:55,229
because the<font color="#E5E5E5"> content is never inspected</font>

368
00:13:52,620 --> 00:14:00,390
coming back only<font color="#E5E5E5"> expected going out the</font>

369
00:13:55,230 --> 00:14:02,370
control fails well<font color="#E5E5E5"> go on here okay</font>

370
00:14:00,390 --> 00:14:04,500
anomaly detection engines we've come in

371
00:14:02,370 --> 00:14:05,880
varying flavors and degrees of

372
00:14:04,500 --> 00:14:08,480
complexity right how<font color="#CCCCCC"> many people are</font>

373
00:14:05,880 --> 00:14:12,840
implemented an anomaly detection engine

374
00:14:08,480 --> 00:14:15,780
something like what's on dark trace or

375
00:14:12,840 --> 00:14:17,640
turned on some anomaly engines on your

376
00:14:15,780 --> 00:14:20,220
firewall like the end<font color="#E5E5E5"> of the a-si has</font>

377
00:14:17,640 --> 00:14:22,439
one that's<font color="#E5E5E5"> pretty good yes</font><font color="#CCCCCC"> blunk has one</font>

378
00:14:20,220 --> 00:14:25,230
you know so these<font color="#E5E5E5"> can range from very</font>

379
00:14:22,440 --> 00:14:27,870
very<font color="#E5E5E5"> simple looking at connections</font>

380
00:14:25,230 --> 00:14:30,780
addresses courts to learn your<font color="#CCCCCC"> ristic</font>

381
00:14:27,870 --> 00:14:32,670
behavior you<font color="#E5E5E5"> know</font><font color="#CCCCCC"> i see the client</font>

382
00:14:30,780 --> 00:14:34,260
usually talks to this at 3pm and<font color="#CCCCCC"> now</font>

383
00:14:32,670 --> 00:14:36,750
it's talking<font color="#E5E5E5"> to this or it's talking to</font>

384
00:14:34,260 --> 00:14:40,590
us at 3am instead of 3pm that kind of

385
00:14:36,750 --> 00:14:43,350
thing and<font color="#CCCCCC"> i consider a sort of a layer 7</font>

386
00:14:40,590 --> 00:14:45,480
or a next-gen type control because they

387
00:14:43,350 --> 00:14:49,500
do look at the aggregate amount of data

388
00:14:45,480 --> 00:14:51,630
transfer it a lot so they're still

389
00:14:49,500 --> 00:14:53,640
relying on patterns though there's that

390
00:14:51,630 --> 00:14:57,270
same core issue we come back to again

391
00:14:53,640 --> 00:14:58,650
right it's static patterns unless it's

392
00:14:57,270 --> 00:15:00,810
<font color="#E5E5E5">one of the really really really advanced</font>

393
00:14:58,650 --> 00:15:02,939
one so how do you beat them<font color="#E5E5E5"> you</font>

394
00:15:00,810 --> 00:15:04,469
randomize what you're doing you don't

395
00:15:02,940 --> 00:15:07,230
engage in some pattern of behavior

396
00:15:04,470 --> 00:15:08,850
that's different you talked to something

397
00:15:07,230 --> 00:15:10,890
different<font color="#CCCCCC"> on a different time interval</font>

398
00:15:08,850 --> 00:15:12,720
time will for almost every anomaly

399
00:15:10,890 --> 00:15:14,610
detection engine I've seen all if you

400
00:15:12,720 --> 00:15:15,870
don't do<font color="#CCCCCC"> it</font><font color="#E5E5E5"> in a regular basis because</font>

401
00:15:14,610 --> 00:15:17,910
at some point they have a threshold

402
00:15:15,870 --> 00:15:20,640
where you start relearning what you're

403
00:15:17,910 --> 00:15:22,500
trying to do so you<font color="#E5E5E5"> connect and then you</font>

404
00:15:20,640 --> 00:15:24,480
wait 30 seconds to connect again and you

405
00:15:22,500 --> 00:15:26,070
wait 15 minutes connect again and every

406
00:15:24,480 --> 00:15:27,210
time<font color="#CCCCCC"> you're doing something a little bit</font>

407
00:15:26,070 --> 00:15:28,620
different maybe you're changing the IP

408
00:15:27,210 --> 00:15:30,230
you're talking to maybe you're changing

409
00:15:28,620 --> 00:15:33,510
<font color="#E5E5E5">the amount of data you're transferring</font>

410
00:15:30,230 --> 00:15:34,710
it will actually bypass a lot of the

411
00:15:33,510 --> 00:15:36,030
anomaly detection engines out there

412
00:15:34,710 --> 00:15:37,710
pleasure you one of the really really

413
00:15:36,030 --> 00:15:43,500
big ones like dark<font color="#CCCCCC"> craze or something</font>

414
00:15:37,710 --> 00:15:47,070
like that so this is<font color="#CCCCCC"> where data chunking</font>

415
00:15:43,500 --> 00:15:49,020
start come in so if<font color="#E5E5E5"> we have a big we</font>

416
00:15:47,070 --> 00:15:52,890
talked about about dlp and something

417
00:15:49,020 --> 00:15:54,810
<font color="#CCCCCC">like that if we</font><font color="#E5E5E5"> have a big file let's</font>

418
00:15:52,890 --> 00:15:56,939
say pull credit cards or a database

419
00:15:54,810 --> 00:16:00,989
table we've extracted and we need to

420
00:15:56,940 --> 00:16:03,480
<font color="#E5E5E5">move it is it better to move it all in</font>

421
00:16:00,990 --> 00:16:05,850
<font color="#E5E5E5">one giant transmission to one place or</font>

422
00:16:03,480 --> 00:16:07,380
if we split it into a whole bunch<font color="#E5E5E5"> of</font>

423
00:16:05,850 --> 00:16:09,210
little teeny part and did it a whole

424
00:16:07,380 --> 00:16:12,150
different places and of course what's

425
00:16:09,210 --> 00:16:13,800
different now is we have access to a

426
00:16:12,150 --> 00:16:17,100
tremendous<font color="#E5E5E5"> amount of computing power</font>

427
00:16:13,800 --> 00:16:20,040
really really really quickly and so<font color="#E5E5E5"> I</font>

428
00:16:17,100 --> 00:16:24,540
can spin up a lot of<font color="#CCCCCC"> servers to receive</font>

429
00:16:20,040 --> 00:16:27,300
my data and my work effort is all done

430
00:16:24,540 --> 00:16:29,150
outside the purview of the detective

431
00:16:27,300 --> 00:16:31,770
controls on the inside to reassemble it

432
00:16:29,150 --> 00:16:33,300
so I can<font color="#E5E5E5"> spend as much time as I want</font>

433
00:16:31,770 --> 00:16:35,189
trying to put it<font color="#E5E5E5"> back together I just</font>

434
00:16:33,300 --> 00:16:36,959
got to get<font color="#E5E5E5"> it out and I need to buy my</font>

435
00:16:35,190 --> 00:16:40,170
controls let my next in firewall my app

436
00:16:36,960 --> 00:16:41,940
proxies in my dlp lot<font color="#E5E5E5"> DLC I should have</font>

437
00:16:40,170 --> 00:16:43,979
mentioned two if it's a real small

438
00:16:41,940 --> 00:16:44,820
amount<font color="#E5E5E5"> of data though this you can be</font>

439
00:16:43,980 --> 00:16:48,090
expelled trading anything of this

440
00:16:44,820 --> 00:16:51,120
ignored so I do have<font color="#CCCCCC"> a slide with Donald</font>

441
00:16:48,090 --> 00:16:52,590
Trump on it I'm sorry but I'm going to

442
00:16:51,120 --> 00:16:57,360
<font color="#E5E5E5">tell you a little bit of a funny story</font>

443
00:16:52,590 --> 00:17:02,370
so I was working as talk before<font color="#E5E5E5"> Der Beek</font>

444
00:16:57,360 --> 00:17:04,140
on last year and I had I had<font color="#E5E5E5"> just been</font>

445
00:17:02,370 --> 00:17:05,609
putting the code on my github and I

446
00:17:04,140 --> 00:17:06,990
don't have a private github or anything

447
00:17:05,609 --> 00:17:09,899
not was thing and then nobody's gonna

448
00:17:06,990 --> 00:17:12,030
find this<font color="#E5E5E5"> Emily my github and and I was</font>

449
00:17:09,900 --> 00:17:13,650
going through Twitter one night as I see

450
00:17:12,030 --> 00:17:16,950
<font color="#E5E5E5">this tweet and it's about this tool i'm</font>

451
00:17:13,650 --> 00:17:19,170
riding and<font color="#CCCCCC"> i was a holy crap you know</font>

452
00:17:16,950 --> 00:17:22,380
how to death happen and so<font color="#E5E5E5"> i sort of</font>

453
00:17:19,170 --> 00:17:24,780
traced it back and I it was peer list<font color="#E5E5E5"> I</font>

454
00:17:22,380 --> 00:17:27,090
think somebody had found it and read an

455
00:17:24,780 --> 00:17:28,560
article on peerless about a glowing

456
00:17:27,089 --> 00:17:30,240
wonderful article in the guy had found

457
00:17:28,560 --> 00:17:31,950
the code and<font color="#E5E5E5"> you downloaded it set up a</font>

458
00:17:30,240 --> 00:17:34,230
bunch of proof of concept because it was

459
00:17:31,950 --> 00:17:38,250
great and<font color="#E5E5E5"> I'm reading through the</font>

460
00:17:34,230 --> 00:17:40,050
comments<font color="#E5E5E5"> and one of the guys</font><font color="#CCCCCC"> said what r</font>

461
00:17:38,250 --> 00:17:42,300
says please tool we just encrypted data

462
00:17:40,050 --> 00:17:43,470
<font color="#E5E5E5">and move it it's easy because there's no</font>

463
00:17:42,300 --> 00:17:44,669
point to this and when we know how this

464
00:17:43,470 --> 00:17:47,340
<font color="#E5E5E5">guy feels about encryption right</font><font color="#CCCCCC"> What</font>

465
00:17:44,670 --> 00:17:49,170
did<font color="#CCCCCC"> he say</font><font color="#E5E5E5"> he was just using encryption</font>

466
00:17:47,340 --> 00:17:50,520
that<font color="#E5E5E5"> arouse the suspicion and you know</font>

467
00:17:49,170 --> 00:17:53,100
as<font color="#E5E5E5"> we're sitting in this room and we're</font>

468
00:17:50,520 --> 00:17:54,180
all individuals we think nah<font color="#CCCCCC"> man nah you</font>

469
00:17:53,100 --> 00:17:56,610
know encryptions for confidentiality

470
00:17:54,180 --> 00:17:58,140
<font color="#CCCCCC">escribe behind me too I agree you know</font>

471
00:17:56,610 --> 00:18:01,199
but you can't<font color="#E5E5E5"> take that way and just</font>

472
00:17:58,140 --> 00:18:02,490
using it shouldn't arouse suspicion but

473
00:18:01,200 --> 00:18:03,900
the thing<font color="#CCCCCC"> is when we go to our day job</font>

474
00:18:02,490 --> 00:18:05,550
we look like this if we see a bunch of

475
00:18:03,900 --> 00:18:08,400
encrypted traffic moving somewhere it's

476
00:18:05,550 --> 00:18:10,560
not<font color="#E5E5E5"> supposed to move right hold on you</font>

477
00:18:08,400 --> 00:18:11,700
know I that why is the receptionist pc

478
00:18:10,560 --> 00:18:15,030
sending a bunch of TLS trafficked to

479
00:18:11,700 --> 00:18:16,500
Russia it<font color="#E5E5E5"> arouses suspicion you know so</font>

480
00:18:15,030 --> 00:18:18,270
are a little bit hypocritical in that

481
00:18:16,500 --> 00:18:20,100
way but<font color="#E5E5E5"> that's all right the other piece</font>

482
00:18:18,270 --> 00:18:22,620
of it is is encryption tends to be very

483
00:18:20,100 --> 00:18:24,870
<font color="#E5E5E5">very noisy you know so there's a</font>

484
00:18:22,620 --> 00:18:26,669
connection<font color="#CCCCCC"> sent to stand up</font><font color="#E5E5E5"> usually some</font>

485
00:18:24,870 --> 00:18:28,560
kind of handshake that clears and clear

486
00:18:26,670 --> 00:18:31,230
track and if you can be looking for that

487
00:18:28,560 --> 00:18:33,929
<font color="#E5E5E5">kind of thing</font><font color="#CCCCCC"> you know you can find it</font>

488
00:18:31,230 --> 00:18:35,850
where it shouldn't<font color="#E5E5E5"> be easily it also</font>

489
00:18:33,930 --> 00:18:37,980
makes for really bad POC if we're

490
00:18:35,850 --> 00:18:39,600
testing a lot of these controls many

491
00:18:37,980 --> 00:18:42,540
times they're implemented and we know

492
00:18:39,600 --> 00:18:45,270
like our dlp<font color="#CCCCCC"> can</font><font color="#E5E5E5"> see inside as a cell we</font>

493
00:18:42,540 --> 00:18:47,340
don't forward proxy so we talked about

494
00:18:45,270 --> 00:18:50,340
proving known knowns earlier<font color="#CCCCCC"> in howdy</font>

495
00:18:47,340 --> 00:18:54,600
values exercise why not try<font color="#CCCCCC"> to do things</font>

496
00:18:50,340 --> 00:18:56,699
in a manner such that if it's done in a

497
00:18:54,600 --> 00:18:58,320
way that we think that our tools should

498
00:18:56,700 --> 00:19:00,330
be<font color="#CCCCCC"> able to stop it your transmit data in</font>

499
00:18:58,320 --> 00:19:02,580
clear text or something<font color="#CCCCCC"> like that</font>

500
00:19:00,330 --> 00:19:06,629
something should<font color="#E5E5E5"> be easy for it to smack</font>

501
00:19:02,580 --> 00:19:09,780
<font color="#E5E5E5">down right or detect so that's we're</font>

502
00:19:06,630 --> 00:19:11,910
going to jump into the fire way I have

503
00:19:09,780 --> 00:19:14,070
this link again at the<font color="#CCCCCC"> end I presented</font>

504
00:19:11,910 --> 00:19:16,980
this at Derby cons is a totally new

505
00:19:14,070 --> 00:19:18,659
version and that's for testing dlp

506
00:19:16,980 --> 00:19:20,910
testing their seven controlled anomaly

507
00:19:18,660 --> 00:19:22,440
detection engines pretty much a

508
00:19:20,910 --> 00:19:24,450
multi-purpose tool could<font color="#E5E5E5"> do a lot of</font>

509
00:19:22,440 --> 00:19:27,050
<font color="#CCCCCC">different things</font><font color="#E5E5E5"> I should also mention I</font>

510
00:19:24,450 --> 00:19:29,520
was going to do a live demo of this and

511
00:19:27,050 --> 00:19:31,409
there's a lot of this like standing the

512
00:19:29,520 --> 00:19:34,410
server up and tearing it down and typing

513
00:19:31,410 --> 00:19:36,300
and so it<font color="#E5E5E5"> was really time consuming and</font>

514
00:19:34,410 --> 00:19:37,440
pointless and<font color="#E5E5E5"> you guys would have been</font>

515
00:19:36,300 --> 00:19:39,659
bored and you have been sitting watching

516
00:19:37,440 --> 00:19:42,630
a pipe and I'm not Mavis Beacon and I

517
00:19:39,660 --> 00:19:44,160
don't type that well so

518
00:19:42,630 --> 00:19:45,600
so you're going to<font color="#E5E5E5"> have to deal with</font>

519
00:19:44,160 --> 00:19:47,460
<font color="#CCCCCC">screenshots that</font><font color="#E5E5E5"> I promise you if you'll</font>

520
00:19:45,600 --> 00:19:49,409
take the code try to get your<font color="#E5E5E5"> control it</font>

521
00:19:47,460 --> 00:19:51,570
will work and it will work really well

522
00:19:49,410 --> 00:19:53,480
I've used<font color="#E5E5E5"> all the concepts we're going</font>

523
00:19:51,570 --> 00:19:56,250
<font color="#E5E5E5">to talk about on penetration</font><font color="#CCCCCC"> tests and</font>

524
00:19:53,480 --> 00:19:57,960
on security<font color="#E5E5E5"> audit and against the</font>

525
00:19:56,250 --> 00:19:59,730
multitude of different platforms and

526
00:19:57,960 --> 00:20:04,130
vendors and it has worked<font color="#E5E5E5"> pretty much</font>

527
00:19:59,730 --> 00:20:05,820
every time so let's jump right into it

528
00:20:04,130 --> 00:20:07,260
so the<font color="#E5E5E5"> first thing we're getting to a</font>

529
00:20:05,820 --> 00:20:09,060
test data mode and this is really

530
00:20:07,260 --> 00:20:10,980
<font color="#E5E5E5">intended for testing that data leakage</font>

531
00:20:09,060 --> 00:20:13,320
principle of if they I have a

532
00:20:10,980 --> 00:20:15,150
next-generation firewall with layer<font color="#CCCCCC"> 7</font>

533
00:20:13,320 --> 00:20:18,300
rules and layer 34 rules blended

534
00:20:15,150 --> 00:20:21,060
together is my firewall leaking data

535
00:20:18,300 --> 00:20:23,460
across a particular type of rule so

536
00:20:21,060 --> 00:20:26,760
basically<font color="#E5E5E5"> what this will do is it will</font>

537
00:20:23,460 --> 00:20:29,280
send open<font color="#CCCCCC"> a connection send a random</font>

538
00:20:26,760 --> 00:20:32,850
<font color="#E5E5E5">amount of randomly generated data in an</font>

539
00:20:29,280 --> 00:20:34,200
amount you specify out and then on the

540
00:20:32,850 --> 00:20:35,490
next connection increment a little bit

541
00:20:34,200 --> 00:20:37,470
on the next station incremental bit to

542
00:20:35,490 --> 00:20:39,030
figure out where the threshold is and

543
00:20:37,470 --> 00:20:45,300
how much<font color="#E5E5E5"> data you're bleeding out the</font>

544
00:20:39,030 --> 00:20:46,800
firewall so this<font color="#CCCCCC"> is</font><font color="#E5E5E5"> the fed up for the</font>

545
00:20:45,300 --> 00:20:48,600
server there's a server there's a client

546
00:20:46,800 --> 00:20:53,100
and then there's a<font color="#CCCCCC"> reassembly there's</font>

547
00:20:48,600 --> 00:20:55,139
actually two clients but you see Python

548
00:20:53,100 --> 00:20:56,610
the server or script name that is a fort

549
00:20:55,140 --> 00:20:58,650
that is closed and my instance<font color="#CCCCCC"> and we'll</font>

550
00:20:56,610 --> 00:21:00,209
take a look<font color="#E5E5E5"> at</font><font color="#CCCCCC"> that</font><font color="#E5E5E5"> and the mode is on</font>

551
00:20:58,650 --> 00:21:01,470
the end now if you there's a readme on

552
00:21:00,210 --> 00:21:02,700
the github they explains what the modes

553
00:21:01,470 --> 00:21:03,690
are if you just run the script it'll

554
00:21:02,700 --> 00:21:05,700
tell you what all the modes are and

555
00:21:03,690 --> 00:21:07,050
explain everything<font color="#CCCCCC"> but and these slides</font>

556
00:21:05,700 --> 00:21:09,630
will<font color="#CCCCCC"> be up there as well at the end</font><font color="#E5E5E5"> for</font>

557
00:21:07,050 --> 00:21:11,610
reference but<font color="#E5E5E5"> you see the server starts</font>

558
00:21:09,630 --> 00:21:14,280
up somewhere past the decision point of

559
00:21:11,610 --> 00:21:15,899
<font color="#E5E5E5">your firewall like the internet server</font>

560
00:21:14,280 --> 00:21:18,180
start as clinical test data mode it's

561
00:21:15,900 --> 00:21:23,570
ready to<font color="#E5E5E5"> sip some data these screenshots</font>

562
00:21:18,180 --> 00:21:26,700
are terrible i'm sorry so the client

563
00:21:23,570 --> 00:21:27,990
starts client that can be a list of

564
00:21:26,700 --> 00:21:29,430
places depending on what you<font color="#CCCCCC"> want to</font>

565
00:21:27,990 --> 00:21:30,990
test like so if you have a file name

566
00:21:29,430 --> 00:21:32,070
which<font color="#CCCCCC"> is the list</font><font color="#E5E5E5"> of ips it'll parse</font>

567
00:21:30,990 --> 00:21:34,710
through it and just pick them at random

568
00:21:32,070 --> 00:21:36,689
or you can specify single IP there's the

569
00:21:34,710 --> 00:21:37,860
closed port and there's a node 0 so you

570
00:21:36,690 --> 00:21:38,970
see<font color="#E5E5E5"> where specify initial number of</font>

571
00:21:37,860 --> 00:21:41,520
bytes tests on our first connection

572
00:21:38,970 --> 00:21:43,710
where it's been 50 bytes on each new

573
00:21:41,520 --> 00:21:46,139
connection with us in 25 more bytes so

574
00:21:43,710 --> 00:21:48,690
50 75 bytes 100 bytes all the way up<font color="#CCCCCC"> to</font>

575
00:21:46,140 --> 00:21:50,130
about 4k and then I forgot<font color="#CCCCCC"> to take a</font>

576
00:21:48,690 --> 00:21:53,340
<font color="#E5E5E5">screenshot of this actually running side</font>

577
00:21:50,130 --> 00:21:55,340
use an old screenshot but so what you'll

578
00:21:53,340 --> 00:21:57,230
see happening here is

579
00:21:55,340 --> 00:21:59,179
the client is running on<font color="#E5E5E5"> the left the</font>

580
00:21:57,230 --> 00:22:02,290
server<font color="#E5E5E5"> is running on the right the</font>

581
00:21:59,180 --> 00:22:04,700
server knows it should get more data on

582
00:22:02,290 --> 00:22:06,800
each consecutive connection you<font color="#E5E5E5"> guys</font>

583
00:22:04,700 --> 00:22:08,780
<font color="#E5E5E5">kind of follow what I'm saying so when</font>

584
00:22:06,800 --> 00:22:11,870
you hit a threshold where it's getting

585
00:22:08,780 --> 00:22:13,550
the same or less data it warns you<font color="#E5E5E5"> says</font>

586
00:22:11,870 --> 00:22:15,860
I got the same<font color="#E5E5E5"> amount of data or less on</font>

587
00:22:13,550 --> 00:22:17,930
tooth can say the word of that two

588
00:22:15,860 --> 00:22:19,520
consecutive connections maximum data

589
00:22:17,930 --> 00:22:20,660
leak slides may have been reached so

590
00:22:19,520 --> 00:22:23,990
probably make more sense when we look at

591
00:22:20,660 --> 00:22:26,240
the firewall logs so here's my<font color="#E5E5E5"> sanitized</font>

592
00:22:23,990 --> 00:22:27,830
firewall logs and what so what<font color="#E5E5E5"> you see</font>

593
00:22:26,240 --> 00:22:30,680
happening in a firewall wonderfully

594
00:22:27,830 --> 00:22:36,020
rights logs out<font color="#CCCCCC"> of order which really</font>

595
00:22:30,680 --> 00:22:38,720
aggravated me but you see flowing across

596
00:22:36,020 --> 00:22:40,490
them right you see this app tight is set

597
00:22:38,720 --> 00:22:42,920
an insufficient data that's<font color="#CCCCCC"> think of a</font>

598
00:22:40,490 --> 00:22:45,530
firewall thing look man<font color="#E5E5E5"> I see there's a</font>

599
00:22:42,920 --> 00:22:47,900
layer 7 rule I don't have enough to say

600
00:22:45,530 --> 00:22:50,629
for sure if it is<font color="#E5E5E5"> or is not a match I'm</font>

601
00:22:47,900 --> 00:22:52,280
going<font color="#E5E5E5"> to pass the traffic out and this</font>

602
00:22:50,630 --> 00:22:54,260
<font color="#CCCCCC">is really funny</font><font color="#E5E5E5"> I and I use this this is</font>

603
00:22:52,280 --> 00:22:56,389
probably a bad for<font color="#E5E5E5"> this example there is</font>

604
00:22:54,260 --> 00:22:59,840
a layer 7 signature for ping so just

605
00:22:56,390 --> 00:23:02,660
ICMP echo and echo reply that signature

606
00:22:59,840 --> 00:23:05,899
will let you stand up a full<font color="#E5E5E5"> TCP</font>

607
00:23:02,660 --> 00:23:07,280
connection pass data across it and close

608
00:23:05,900 --> 00:23:09,380
it down and a firewall still can't

609
00:23:07,280 --> 00:23:11,270
figure out if it's like a match or not

610
00:23:09,380 --> 00:23:14,240
side you know which is beyond

611
00:23:11,270 --> 00:23:17,650
comprehension but but anyway so we're

612
00:23:14,240 --> 00:23:20,540
sending<font color="#E5E5E5"> a more and more data and more</font>

613
00:23:17,650 --> 00:23:21,530
and more and more and more and you<font color="#CCCCCC"> see</font>

614
00:23:20,540 --> 00:23:24,680
we eventually get to a point up here

615
00:23:21,530 --> 00:23:26,240
where we had about 60 of<font color="#E5E5E5"> data to unknown</font>

616
00:23:24,680 --> 00:23:28,070
TPP so I<font color="#E5E5E5"> don't know what the application</font>

617
00:23:26,240 --> 00:23:29,600
is<font color="#CCCCCC"> with the firewall search thing is I</font>

618
00:23:28,070 --> 00:23:32,629
know it's not that thing you have the

619
00:23:29,600 --> 00:23:35,929
layer 7 rule for but two<font color="#CCCCCC"> things about</font>

620
00:23:32,630 --> 00:23:38,750
that you've<font color="#E5E5E5"> already leased the data out</font>

621
00:23:35,930 --> 00:23:40,850
so the firewall is already past data on

622
00:23:38,750 --> 00:23:42,470
a port that is actually closed by my

623
00:23:40,850 --> 00:23:46,030
egress filtering I should have said<font color="#E5E5E5"> that</font>

624
00:23:42,470 --> 00:23:47,720
start with port 8080 is not allowed but

625
00:23:46,030 --> 00:23:50,210
because it was trying to match that

626
00:23:47,720 --> 00:23:52,820
layer 7 signature it was passing<font color="#CCCCCC"> the</font>

627
00:23:50,210 --> 00:23:54,890
date out anyway<font color="#E5E5E5"> so you guys get the</font>

628
00:23:52,820 --> 00:23:56,810
concept we can communicate out on

629
00:23:54,890 --> 00:23:58,940
clothes ports and bypass egress

630
00:23:56,810 --> 00:24:04,399
filtering by using small transaction

631
00:23:58,940 --> 00:24:06,140
sizes so that's pretty<font color="#E5E5E5"> cool right but</font>

632
00:24:04,400 --> 00:24:09,299
let's do something a little<font color="#E5E5E5"> more useful</font>

633
00:24:06,140 --> 00:24:11,580
than just sending a random data out

634
00:24:09,299 --> 00:24:12,629
starts busting up a file then I've<font color="#CCCCCC"> got</font>

635
00:24:11,580 --> 00:24:14,340
three different<font color="#CCCCCC"> ways we're going to do</font>

636
00:24:12,629 --> 00:24:17,850
this each one a<font color="#E5E5E5"> little more complex than</font>

637
00:24:14,340 --> 00:24:20,369
the lab so test your DLP test your

638
00:24:17,850 --> 00:24:22,408
firewall one thing I've also noticed not

639
00:24:20,369 --> 00:24:24,689
<font color="#E5E5E5">nothing you</font><font color="#CCCCCC"> guys ever seen this when</font>

640
00:24:22,409 --> 00:24:26,580
egress filtering is in place I've seen

641
00:24:24,690 --> 00:24:29,279
security operation centers that just say

642
00:24:26,580 --> 00:24:31,168
man our firewall filtering our outbound

643
00:24:29,279 --> 00:24:32,580
filtering<font color="#E5E5E5"> is tight we're going to build</font>

644
00:24:31,169 --> 00:24:34,320
<font color="#E5E5E5">all our dashboards around the ports we</font>

645
00:24:32,580 --> 00:24:36,449
know that are allowed then they never

646
00:24:34,320 --> 00:24:38,399
look at ports they think are closed so

647
00:24:36,450 --> 00:24:40,409
if you have a problem like this where

648
00:24:38,399 --> 00:24:42,959
the firewall is leaking data across

649
00:24:40,409 --> 00:24:47,369
ports they think are closed then they

650
00:24:42,960 --> 00:24:49,950
<font color="#E5E5E5">don't know that that has I've gotten</font>

651
00:24:47,369 --> 00:24:54,090
away<font color="#E5E5E5"> with this a couple times doing</font><font color="#CCCCCC"> that</font>

652
00:24:49,950 --> 00:24:55,739
so test your DLP as well if you're just

653
00:24:54,090 --> 00:24:57,418
<font color="#E5E5E5">sending small pieces of data in this</font>

654
00:24:55,739 --> 00:24:59,309
<font color="#E5E5E5">example we're send the data out in order</font>

655
00:24:57,419 --> 00:25:02,299
so we're gonna let the file up and send

656
00:24:59,309 --> 00:25:04,440
it out first part second part third part

657
00:25:02,299 --> 00:25:05,940
so we'll<font color="#E5E5E5"> start a server again this time</font>

658
00:25:04,440 --> 00:25:07,200
where you've moved one on the end I'm

659
00:25:05,940 --> 00:25:09,869
still going to use my clothes<font color="#CCCCCC"> cord of</font>

660
00:25:07,200 --> 00:25:11,489
8080 you see it's<font color="#CCCCCC"> just started in time</font>

661
00:25:09,869 --> 00:25:13,289
stamp reassembly mode because we know

662
00:25:11,489 --> 00:25:16,049
the<font color="#E5E5E5"> chunks are being sent one at a time</font>

663
00:25:13,289 --> 00:25:17,940
and they're<font color="#CCCCCC"> being sent in order we can</font>

664
00:25:16,049 --> 00:25:19,980
<font color="#E5E5E5">use the time the piece was received as</font>

665
00:25:17,940 --> 00:25:20,970
our key for reassembling it now I'm not

666
00:25:19,980 --> 00:25:22,320
you can get the right time actually

667
00:25:20,970 --> 00:25:24,779
using network connection type so if

668
00:25:22,320 --> 00:25:27,149
there is latency in disk right it

669
00:25:24,779 --> 00:25:29,070
doesn't<font color="#CCCCCC"> impact this now</font><font color="#E5E5E5"> you have this</font>

670
00:25:27,149 --> 00:25:31,768
<font color="#E5E5E5">other things is using with @ %</font><font color="#CCCCCC"> & dollar</font>

671
00:25:29,070 --> 00:25:35,249
<font color="#CCCCCC">ampersand right</font><font color="#E5E5E5"> parenthesis</font><font color="#CCCCCC"> is</font>

672
00:25:31,769 --> 00:25:36,989
reassembly key um that is just<font color="#E5E5E5"> a</font>

673
00:25:35,249 --> 00:25:38,279
delimiter to stick between the pieces of

674
00:25:36,989 --> 00:25:39,419
the file the idea is to<font color="#E5E5E5"> generate</font>

675
00:25:38,279 --> 00:25:41,580
something random that would never

676
00:25:39,419 --> 00:25:43,999
actually exist in<font color="#E5E5E5"> a file hopefully</font>

677
00:25:41,580 --> 00:25:47,220
unless you get really really lucky<font color="#E5E5E5"> and</font>

678
00:25:43,999 --> 00:25:48,480
because depending on how big your file

679
00:25:47,220 --> 00:25:49,889
is and how<font color="#CCCCCC"> small your chunks are I</font>

680
00:25:48,480 --> 00:25:51,769
didn't want to rights like separate file

681
00:25:49,889 --> 00:25:53,729
so I just stream it all into<font color="#CCCCCC"> one file</font>

682
00:25:51,769 --> 00:25:57,840
and then we put it<font color="#E5E5E5"> back together later</font>

683
00:25:53,730 --> 00:25:59,970
so servers ready this example<font color="#CCCCCC"> i have</font>

684
00:25:57,840 --> 00:26:01,139
changed<font color="#E5E5E5"> i'm using the client I</font><font color="#CCCCCC"> make some</font>

685
00:25:59,970 --> 00:26:03,299
steps<font color="#CCCCCC"> on a file name with a list of</font>

686
00:26:01,139 --> 00:26:05,899
servers and truth be told I was really

687
00:26:03,299 --> 00:26:08,129
too lazy to build more than<font color="#E5E5E5"> two vm so I</font>

688
00:26:05,899 --> 00:26:10,469
just ran one server on my loopback

689
00:26:08,129 --> 00:26:13,649
address and I ran one server on a remote

690
00:26:10,470 --> 00:26:15,239
I t<font color="#E5E5E5"> say we specify the file and</font>

691
00:26:13,649 --> 00:26:16,619
exfiltrate I mean the copy<font color="#CCCCCC"> of the GPL</font>

692
00:26:15,239 --> 00:26:18,149
just because it was handy and it has

693
00:26:16,619 --> 00:26:19,408
lots of neat white space and stuff<font color="#E5E5E5"> and</font>

694
00:26:18,149 --> 00:26:21,748
so it's kind of cool to<font color="#E5E5E5"> prove</font><font color="#CCCCCC"> that you</font>

695
00:26:19,409 --> 00:26:22,800
can break the stuff up and reassemble

696
00:26:21,749 --> 00:26:26,490
the file in<font color="#CCCCCC"> order</font>

697
00:26:22,800 --> 00:26:27,840
sented 640 by pieces the client will

698
00:26:26,490 --> 00:26:29,760
just start<font color="#E5E5E5"> picking things randomly out</font>

699
00:26:27,840 --> 00:26:31,169
of the file and the list and transmit

700
00:26:29,760 --> 00:26:33,920
them in<font color="#E5E5E5"> physical in the order so first p</font>

701
00:26:31,170 --> 00:26:35,730
second feet third piece port 5060<font color="#CCCCCC"> i</font>

702
00:26:33,920 --> 00:26:37,170
<font color="#E5E5E5">decided not to just show you guys</font>

703
00:26:35,730 --> 00:26:38,460
firewall logs over and over and over

704
00:26:37,170 --> 00:26:39,870
again because you got kind<font color="#CCCCCC"> of understand</font>

705
00:26:38,460 --> 00:26:43,230
<font color="#E5E5E5">the concept from only to look that just</font>

706
00:26:39,870 --> 00:26:45,090
a minute<font color="#E5E5E5"> ago so there's</font><font color="#CCCCCC"> alright 55</font>

707
00:26:43,230 --> 00:26:47,820
slides in this<font color="#CCCCCC"> i didn't think i'd advise</font>

708
00:26:45,090 --> 00:26:49,260
the glaze over so<font color="#CCCCCC"> sure you want to</font>

709
00:26:47,820 --> 00:26:51,060
<font color="#CCCCCC">talking about</font><font color="#E5E5E5"> here's an example there's</font>

710
00:26:49,260 --> 00:26:52,860
a stream on the server we have a<font color="#CCCCCC"> eunuch</font>

711
00:26:51,060 --> 00:26:55,290
<font color="#CCCCCC">thief of time</font><font color="#E5E5E5"> stamp we have a delimiter</font>

712
00:26:52,860 --> 00:26:56,729
the chunk of the file<font color="#E5E5E5"> and then another</font>

713
00:26:55,290 --> 00:26:58,470
delimiter and then you see the second

714
00:26:56,730 --> 00:27:02,850
piece starts with the<font color="#CCCCCC"> time stamp on</font>

715
00:26:58,470 --> 00:27:05,210
another delimiter so we reassemble our

716
00:27:02,850 --> 00:27:07,949
file using FAS similar another script

717
00:27:05,210 --> 00:27:10,140
we're running<font color="#CCCCCC"> in mode 1</font><font color="#E5E5E5"> like said you</font>

718
00:27:07,950 --> 00:27:11,580
can run the scripts with no parameters

719
00:27:10,140 --> 00:27:13,650
and<font color="#CCCCCC"> I'll show you what each mode means</font>

720
00:27:11,580 --> 00:27:15,000
and when to<font color="#CCCCCC"> use what and a comma</font>

721
00:27:13,650 --> 00:27:16,590
separated list or a file name so what

722
00:27:15,000 --> 00:27:19,380
I've done is I've pulled the files all

723
00:27:16,590 --> 00:27:21,149
into one folder and it will ask<font color="#CCCCCC"> for that</font>

724
00:27:19,380 --> 00:27:24,630
for character reassembly key from the

725
00:27:21,150 --> 00:27:25,980
servers you<font color="#CCCCCC"> can get it for the</font><font color="#E5E5E5"> server</font>

726
00:27:24,630 --> 00:27:27,450
when you start it or you can just look

727
00:27:25,980 --> 00:27:28,830
in the file and find the first<font color="#E5E5E5"> four</font>

728
00:27:27,450 --> 00:27:32,060
characters you cry script that's out

729
00:27:28,830 --> 00:27:34,350
pretty easily reassembly complete and

730
00:27:32,060 --> 00:27:36,929
there's our output looks pretty good

731
00:27:34,350 --> 00:27:38,370
right so we took a file in it a bunch of

732
00:27:36,930 --> 00:27:40,350
<font color="#E5E5E5">different</font><font color="#CCCCCC"> places or two in my example</font>

733
00:27:38,370 --> 00:27:42,840
that it could be<font color="#CCCCCC"> two or 200 it really</font>

734
00:27:40,350 --> 00:27:46,320
doesn't matter and put it back together

735
00:27:42,840 --> 00:27:48,300
<font color="#E5E5E5">on the outside so that's pretty good</font><font color="#CCCCCC"> but</font>

736
00:27:46,320 --> 00:27:50,129
you know spacing across mobile flows

737
00:27:48,300 --> 00:27:52,110
local servers that helps but<font color="#E5E5E5"> we're still</font>

738
00:27:50,130 --> 00:27:53,670
sending data out in order and if you can

739
00:27:52,110 --> 00:27:55,830
kind of aggregate or anything like that

740
00:27:53,670 --> 00:28:00,870
<font color="#E5E5E5">and then use it would be pretty easy to</font>

741
00:27:55,830 --> 00:28:03,480
<font color="#CCCCCC">figure</font><font color="#E5E5E5"> out what was going on so make it</font>

742
00:28:00,870 --> 00:28:05,669
a little hard and I<font color="#CCCCCC"> joking</font><font color="#E5E5E5"> cost reverse</font>

743
00:28:03,480 --> 00:28:07,560
BitTorrent obviously BitTorrent is much

744
00:28:05,670 --> 00:28:08,760
more complex right but you think of the

745
00:28:07,560 --> 00:28:11,220
principle of BitTorrent everybody

746
00:28:08,760 --> 00:28:13,020
<font color="#E5E5E5">advertises pieces into a tracker and the</font>

747
00:28:11,220 --> 00:28:14,670
tracker tells you where to go get the

748
00:28:13,020 --> 00:28:16,680
piece what we're doing this in there

749
00:28:14,670 --> 00:28:18,150
verse order instead of pulling pieces

750
00:28:16,680 --> 00:28:22,140
from places we're going to push<font color="#CCCCCC"> either</font>

751
00:28:18,150 --> 00:28:24,390
places and the only thing we really need

752
00:28:22,140 --> 00:28:26,610
<font color="#CCCCCC">to do is</font><font color="#E5E5E5"> be able to describe somewhere</font>

753
00:28:24,390 --> 00:28:29,280
what order the pieces are being thin in

754
00:28:26,610 --> 00:28:31,260
and along<font color="#CCCCCC"> that places before</font><font color="#E5E5E5"> that place</font>

755
00:28:29,280 --> 00:28:34,260
are accessible<font color="#CCCCCC"> to us then we can put</font><font color="#E5E5E5"> the</font>

756
00:28:31,260 --> 00:28:35,879
file back together so the first<font color="#CCCCCC"> thing we</font>

757
00:28:34,260 --> 00:28:37,100
do is generate the sequence key now bear

758
00:28:35,880 --> 00:28:39,260
in mind i'm not a

759
00:28:37,100 --> 00:28:41,928
ask cryptography or any other type of

760
00:28:39,260 --> 00:28:45,140
complicated major and I barely graduated

761
00:28:41,929 --> 00:28:49,640
from college<font color="#E5E5E5"> oh who can guess how this</font>

762
00:28:45,140 --> 00:28:56,780
is formatted nope you're making it much

763
00:28:49,640 --> 00:28:59,720
too hard how about I do that where<font color="#E5E5E5"> could</font>

764
00:28:56,780 --> 00:29:02,780
<font color="#E5E5E5">be 17 first 18 second 10 third 51 434</font>

765
00:28:59,720 --> 00:29:04,309
<font color="#CCCCCC">bit and I could see red i could put</font>

766
00:29:02,780 --> 00:29:07,520
random amounts of padding between them

767
00:29:04,309 --> 00:29:09,530
but you know but no it's just<font color="#E5E5E5"> numbers</font>

768
00:29:07,520 --> 00:29:14,210
and<font color="#CCCCCC"> i just put a random character</font>

769
00:29:09,530 --> 00:29:15,620
between the numbers and<font color="#E5E5E5"> i can put more</font>

770
00:29:14,210 --> 00:29:18,549
characters between the numbers too that

771
00:29:15,620 --> 00:29:21,379
would be you<font color="#E5E5E5"> need to do mental note but</font>

772
00:29:18,549 --> 00:29:23,990
but but we're going<font color="#E5E5E5"> to transmit</font><font color="#CCCCCC"> that</font>

773
00:29:21,380 --> 00:29:26,539
somewhere yeah<font color="#CCCCCC"> i was wonderful i was</font>

774
00:29:23,990 --> 00:29:27,620
watching a bunch of<font color="#E5E5E5"> adrian's</font>

775
00:29:26,539 --> 00:29:32,120
presentation went on the side here

776
00:29:27,620 --> 00:29:34,340
<font color="#CCCCCC">because i have a</font><font color="#E5E5E5"> lot of time and their</font>

777
00:29:32,120 --> 00:29:36,080
aid recording talks and everybody that

778
00:29:34,340 --> 00:29:38,299
got up was<font color="#CCCCCC"> like I was a quadruple major</font>

779
00:29:36,080 --> 00:29:41,360
in artificial<font color="#CCCCCC"> intelligence and warfare</font>

780
00:29:38,299 --> 00:29:43,039
and Latin and basketball at some little

781
00:29:41,360 --> 00:29:44,539
<font color="#E5E5E5">college it's so good you've never heard</font>

782
00:29:43,039 --> 00:29:45,950
of it and I was<font color="#CCCCCC"> like man I'm never tell</font>

783
00:29:44,539 --> 00:29:54,100
anybody where I went to college and what

784
00:29:45,950 --> 00:29:57,830
my presentation so go<font color="#CCCCCC"> Golden Eagles yeah</font>

785
00:29:54,100 --> 00:30:02,059
<font color="#CCCCCC">yeah are you okay I thought you looked</font>

786
00:29:57,830 --> 00:30:04,280
familiar actual I still<font color="#CCCCCC"> lived there so</font>

787
00:30:02,059 --> 00:30:06,080
all right so we're<font color="#E5E5E5"> stand up server again</font>

788
00:30:04,280 --> 00:30:07,220
we're starting<font color="#CCCCCC"> to load to the first</font>

789
00:30:06,080 --> 00:30:08,990
thing we're going to do is enter

790
00:30:07,220 --> 00:30:11,390
identifier for the sequence key and all

791
00:30:08,990 --> 00:30:13,010
that is the tag to stick on the front<font color="#E5E5E5"> of</font>

792
00:30:11,390 --> 00:30:15,340
the tell the client to stick on the

793
00:30:13,010 --> 00:30:17,780
front of<font color="#E5E5E5"> sequent key so the</font><font color="#CCCCCC"> servers know</font>

794
00:30:15,340 --> 00:30:21,049
this is the sequence key this<font color="#E5E5E5"> isn't part</font>

795
00:30:17,780 --> 00:30:23,809
of real data recorded as such so as I

796
00:30:21,049 --> 00:30:26,840
just used for bangs and you want to make

797
00:30:23,809 --> 00:30:28,970
<font color="#CCCCCC">sure also to use the same identifier</font>

798
00:30:26,840 --> 00:30:30,320
across all your servers because the

799
00:30:28,970 --> 00:30:32,570
client is<font color="#E5E5E5"> going to pick a random server</font>

800
00:30:30,320 --> 00:30:34,460
out and<font color="#CCCCCC"> send the sequence key</font><font color="#E5E5E5"> there more</font>

801
00:30:32,570 --> 00:30:41,030
randomness we can introduce<font color="#E5E5E5"> less likely</font>

802
00:30:34,460 --> 00:30:43,159
we all ready<font color="#E5E5E5"> to get caught so client our</font>

803
00:30:41,030 --> 00:30:45,860
server list same court when<font color="#E5E5E5"> I started</font>

804
00:30:43,159 --> 00:30:48,350
mode to there on the end send<font color="#E5E5E5"> 300 bite</font>

805
00:30:45,860 --> 00:30:50,620
chunks the one extra piece where I enter

806
00:30:48,350 --> 00:30:52,120
the secret key ID so you see that means

807
00:30:50,620 --> 00:30:53,320
piece<font color="#CCCCCC"> of data is going</font><font color="#E5E5E5"> to tag that big</font>

808
00:30:52,120 --> 00:30:54,939
long thing I just showed you can get

809
00:30:53,320 --> 00:30:56,620
tagged and sat so the server knows it's

810
00:30:54,940 --> 00:30:58,030
part of the sequence key since the

811
00:30:56,620 --> 00:31:00,070
sequence key to a random server and then

812
00:30:58,030 --> 00:31:03,220
start sending the pieces of pilot order

813
00:31:00,070 --> 00:31:05,169
so 4354<font color="#CCCCCC"> 12-2 so you</font><font color="#E5E5E5"> can imagine if i</font>

814
00:31:03,220 --> 00:31:07,390
blended this<font color="#E5E5E5"> with something like some</font>

815
00:31:05,170 --> 00:31:09,480
kind of encryption or encoding and<font color="#CCCCCC"> I'm</font>

816
00:31:07,390 --> 00:31:11,590
sending everything out of<font color="#E5E5E5"> order and</font>

817
00:31:09,480 --> 00:31:13,180
somebody and I was sitting in really

818
00:31:11,590 --> 00:31:14,679
small pieces<font color="#E5E5E5"> too and somebody was just</font>

819
00:31:13,180 --> 00:31:16,090
trying to guess you know I mean it would

820
00:31:14,680 --> 00:31:18,700
<font color="#CCCCCC">be pretty hard to figure out</font><font color="#E5E5E5"> what was</font>

821
00:31:16,090 --> 00:31:21,309
going on not<font color="#CCCCCC"> impossible</font><font color="#E5E5E5"> it still may be</font>

822
00:31:18,700 --> 00:31:23,470
pretty hard and then we'll reassemble

823
00:31:21,309 --> 00:31:24,670
the one thing that's different we're

824
00:31:23,470 --> 00:31:26,230
going<font color="#E5E5E5"> to enter the path to the file that</font>

825
00:31:24,670 --> 00:31:27,880
their sequence<font color="#CCCCCC"> kyun at the server when</font>

826
00:31:26,230 --> 00:31:29,860
it sees the sequence ki will record it

827
00:31:27,880 --> 00:31:31,990
in a file called sequence key text and

828
00:31:29,860 --> 00:31:34,750
then when our resembling<font color="#CCCCCC"> cube again</font>

829
00:31:31,990 --> 00:31:36,820
reassembly complete we send everything

830
00:31:34,750 --> 00:31:41,980
out of<font color="#E5E5E5"> order to multiple servers and our</font>

831
00:31:36,820 --> 00:31:43,629
output looks good again so so that's a

832
00:31:41,980 --> 00:31:47,559
little<font color="#E5E5E5"> better but it's still not totally</font>

833
00:31:43,630 --> 00:31:50,170
inconspicuous and we really still need

834
00:31:47,559 --> 00:31:51,700
to use lots<font color="#E5E5E5"> of small pieces and lots of</font>

835
00:31:50,170 --> 00:31:52,690
small pieces can trigger anomaly

836
00:31:51,700 --> 00:31:53,679
detection<font color="#CCCCCC"> engine the</font><font color="#E5E5E5"> thing because</font>

837
00:31:52,690 --> 00:31:55,179
you're making<font color="#CCCCCC"> a lot of connections</font>

838
00:31:53,679 --> 00:31:57,580
unless you introduce some randomness or

839
00:31:55,179 --> 00:32:00,400
some other layer of obfuscation or

840
00:31:57,580 --> 00:32:02,470
<font color="#CCCCCC">variance so can</font><font color="#E5E5E5"> we take the same</font><font color="#CCCCCC"> concept</font>

841
00:32:00,400 --> 00:32:06,010
the hide in plain sight a little bit

842
00:32:02,470 --> 00:32:06,970
better so let's<font color="#CCCCCC"> assume not that</font><font color="#E5E5E5"> this</font>

843
00:32:06,010 --> 00:32:08,679
would ever happen that we<font color="#E5E5E5"> have these</font>

844
00:32:06,970 --> 00:32:10,300
wonderful layer 7 devices like at

845
00:32:08,679 --> 00:32:11,860
proxies and next-gen firewalls and they

846
00:32:10,300 --> 00:32:14,230
understand what<font color="#E5E5E5"> an apt is supposed to</font>

847
00:32:11,860 --> 00:32:15,760
look like<font color="#E5E5E5"> that's a payload layer and</font>

848
00:32:14,230 --> 00:32:17,440
they're saying what port it's supposed

849
00:32:15,760 --> 00:32:20,110
to run on but<font color="#E5E5E5"> they don't really know</font>

850
00:32:17,440 --> 00:32:21,610
where it lives like I don't<font color="#E5E5E5"> really know</font>

851
00:32:20,110 --> 00:32:23,889
<font color="#CCCCCC">that LinkedIn doesn't live in Moscow</font>

852
00:32:21,610 --> 00:32:26,709
Russia or I don't know<font color="#CCCCCC"> not defend</font>

853
00:32:23,890 --> 00:32:30,640
anybody from Russia in here that if I

854
00:32:26,710 --> 00:32:32,679
haven't<font color="#CCCCCC"> already but lower day I is that</font>

855
00:32:30,640 --> 00:32:35,280
I won't mess with them that's a that's

856
00:32:32,679 --> 00:32:39,600
for our<font color="#E5E5E5"> president to do</font>

857
00:32:35,280 --> 00:32:44,070
yeah anyway so<font color="#E5E5E5"> what happens if i send a</font>

858
00:32:39,600 --> 00:32:47,010
good app to a bad<font color="#CCCCCC"> place so let's</font><font color="#E5E5E5"> say I</font>

859
00:32:44,070 --> 00:32:49,110
open a connection like this to a server

860
00:32:47,010 --> 00:32:51,870
i own and the firewall really doesn't

861
00:32:49,110 --> 00:32:53,820
care about malformed HTTP again we're

862
00:32:51,870 --> 00:32:58,979
<font color="#CCCCCC">piven HTTP quite a bit and</font><font color="#E5E5E5"> i'll explain</font>

863
00:32:53,820 --> 00:33:01,110
<font color="#E5E5E5">why but i send it to serve ryone our</font>

864
00:32:58,980 --> 00:33:02,850
firewall that<font color="#CCCCCC"> i did a test just running</font>

865
00:33:01,110 --> 00:33:05,850
over<font color="#CCCCCC"> him will believe the traffic is</font>

866
00:33:02,850 --> 00:33:10,530
that app<font color="#E5E5E5"> even though it</font><font color="#CCCCCC"> was something i</font>

867
00:33:05,850 --> 00:33:13,860
owned it could living anywhere so why is

868
00:33:10,530 --> 00:33:15,870
that HTTP is wonderful that everything

869
00:33:13,860 --> 00:33:17,459
runs over HTTP does anybody have guesses

870
00:33:15,870 --> 00:33:21,659
why things like everything run their

871
00:33:17,460 --> 00:33:24,030
HTTP now well it works everywhere right

872
00:33:21,660 --> 00:33:25,860
everybody allows the web so if<font color="#CCCCCC"> I go</font><font color="#E5E5E5"> to</font>

873
00:33:24,030 --> 00:33:29,190
<font color="#E5E5E5">the office if I go to my house if I go</font>

874
00:33:25,860 --> 00:33:30,810
to the hotel it's extensible everybody

875
00:33:29,190 --> 00:33:33,570
knows how to write for it it's easy to

876
00:33:30,810 --> 00:33:35,159
serve if I have a combination of web and

877
00:33:33,570 --> 00:33:36,720
mobile versions of my application they

878
00:33:35,160 --> 00:33:38,700
can talk<font color="#E5E5E5"> the same language and I don't</font>

879
00:33:36,720 --> 00:33:40,530
have to write proprietary protocol so

880
00:33:38,700 --> 00:33:42,300
you have these vendors that are talking

881
00:33:40,530 --> 00:33:44,520
about<font color="#E5E5E5"> like oh we have 35,000</font>

882
00:33:42,300 --> 00:33:47,100
applications eighty to ninety percent of

883
00:33:44,520 --> 00:33:48,720
it if you look<font color="#E5E5E5"> in their database is HTTP</font>

884
00:33:47,100 --> 00:33:50,280
and this is an example<font color="#CCCCCC"> of signature from</font>

885
00:33:48,720 --> 00:33:52,020
that particular vendors firewall this

886
00:33:50,280 --> 00:33:53,700
was the block March Madness streaming

887
00:33:52,020 --> 00:33:56,400
basketball a couple<font color="#E5E5E5"> years ago which</font><font color="#CCCCCC"> is</font>

888
00:33:53,700 --> 00:33:58,290
that's offensive to me but you<font color="#CCCCCC"> know feel</font>

889
00:33:56,400 --> 00:34:00,750
they fill my users<font color="#CCCCCC"> eight on my bandwidth</font>

890
00:33:58,290 --> 00:34:03,540
it was offensive to me but then I got a

891
00:34:00,750 --> 00:34:05,640
call late at night I'm not bitter but

892
00:34:03,540 --> 00:34:08,850
you see basically it was making<font color="#E5E5E5"> decision</font>

893
00:34:05,640 --> 00:34:11,760
<font color="#E5E5E5">based on a method a URI path and a host</font>

894
00:34:08,850 --> 00:34:13,710
and that's pretty much what most<font color="#E5E5E5"> of</font>

895
00:34:11,760 --> 00:34:16,110
these apps signatures you guys are going

896
00:34:13,710 --> 00:34:18,960
<font color="#E5E5E5">to look at on your firewalls and stuff</font>

897
00:34:16,110 --> 00:34:21,270
<font color="#E5E5E5">are guys it's that's that's how they</font>

898
00:34:18,960 --> 00:34:22,830
decide this is linked in this is

899
00:34:21,270 --> 00:34:25,440
<font color="#CCCCCC">Facebook this</font><font color="#E5E5E5"> is Instagram this is</font>

900
00:34:22,830 --> 00:34:27,630
whatever right p<font color="#E5E5E5"> and that all they can</font>

901
00:34:25,440 --> 00:34:29,940
do because<font color="#E5E5E5"> there's</font><font color="#CCCCCC"> really not a good way</font>

902
00:34:27,630 --> 00:34:31,320
for them to keep up with every change

903
00:34:29,940 --> 00:34:37,080
that a vendor makes in a particular

904
00:34:31,320 --> 00:34:38,669
application so what we're going to do

905
00:34:37,080 --> 00:34:41,699
with fire way is we're going to actually

906
00:34:38,668 --> 00:34:43,799
put randomly named HTTP headers with

907
00:34:41,699 --> 00:34:45,750
<font color="#E5E5E5">pieces or take our filing our base 64</font>

908
00:34:43,800 --> 00:34:48,220
encoded we're going<font color="#E5E5E5"> to put pieces of a</font>

909
00:34:45,750 --> 00:34:50,469
64 not the whole<font color="#CCCCCC"> thing just pieces of it</font>

910
00:34:48,219 --> 00:34:53,408
inside<font color="#CCCCCC"> requests that look like safe or</font>

911
00:34:50,469 --> 00:34:55,540
good applications that's great encoding

912
00:34:53,409 --> 00:34:58,900
is great for us because we can do binary

913
00:34:55,540 --> 00:34:59,920
files images text whatever and then we

914
00:34:58,900 --> 00:35:03,670
<font color="#E5E5E5">could put it all back together on</font><font color="#CCCCCC"> the</font>

915
00:34:59,920 --> 00:35:06,190
<font color="#E5E5E5">outside and decode it so not nothing has</font>

916
00:35:03,670 --> 00:35:07,660
ever seen its entirety<font color="#CCCCCC"> at one now what</font>

917
00:35:06,190 --> 00:35:10,900
<font color="#E5E5E5">you guys are going to say is dude if you</font>

918
00:35:07,660 --> 00:35:12,970
start cramming HTTP headers inside that

919
00:35:10,900 --> 00:35:16,980
are anomalous and randomly named inside

920
00:35:12,970 --> 00:35:19,450
request IPS is going to go nuts well

921
00:35:16,980 --> 00:35:21,640
this<font color="#CCCCCC"> is the world we live in now this is</font>

922
00:35:19,450 --> 00:35:22,990
a real HTTP<font color="#CCCCCC"> request from a nap I</font>

923
00:35:21,640 --> 00:35:25,810
actually looked at not that long ago

924
00:35:22,990 --> 00:35:29,259
look at all those headers and in the

925
00:35:25,810 --> 00:35:31,690
world<font color="#CCCCCC"> REST API S&J WT and a lot of</font><font color="#E5E5E5"> the</font>

926
00:35:29,260 --> 00:35:33,820
things we do now we're getting away from

927
00:35:31,690 --> 00:35:35,590
putting stuff down in<font color="#CCCCCC"> the post body and</font>

928
00:35:33,820 --> 00:35:38,800
we're burying it<font color="#E5E5E5"> in headers particularly</font>

929
00:35:35,590 --> 00:35:40,660
the case of mobile applications so i can

930
00:35:38,800 --> 00:35:43,570
put<font color="#E5E5E5"> a lot of custom headers in and junk</font>

931
00:35:40,660 --> 00:35:45,549
and my detective control cannot stop

932
00:35:43,570 --> 00:35:51,490
that because if they did<font color="#E5E5E5"> it would break</font>

933
00:35:45,550 --> 00:35:54,250
a lot<font color="#E5E5E5"> of things so we'll start off our</font>

934
00:35:51,490 --> 00:35:57,609
server again mode 3 it's just basically

935
00:35:54,250 --> 00:35:58,869
here's my reassembly ki will start a

936
00:35:57,609 --> 00:36:02,799
spoofer<font color="#CCCCCC"> i'm just using a single IP</font>

937
00:35:58,869 --> 00:36:04,270
<font color="#CCCCCC">that's time and the other thing here is</font>

938
00:36:02,800 --> 00:36:05,970
it will actually ask you to<font color="#E5E5E5"> make a DNS</font>

939
00:36:04,270 --> 00:36:09,130
requests it's a little extra layer of

940
00:36:05,970 --> 00:36:10,959
forensic forensic to make it a little

941
00:36:09,130 --> 00:36:13,390
bit harder you know<font color="#CCCCCC"> I</font><font color="#E5E5E5"> don't my client to</font>

942
00:36:10,960 --> 00:36:15,400
make a bunch of DNS requests for or make

943
00:36:13,390 --> 00:36:17,080
much HTV<font color="#CCCCCC"> request for things and not have</font>

944
00:36:15,400 --> 00:36:18,700
made<font color="#E5E5E5"> a corresponding DNS request that</font>

945
00:36:17,080 --> 00:36:20,770
would<font color="#E5E5E5"> look a little punky if anybody</font>

946
00:36:18,700 --> 00:36:23,649
looked so we're start sending out legit

947
00:36:20,770 --> 00:36:26,140
requests with pieces of our file buried

948
00:36:23,650 --> 00:36:29,230
in the context of good applications

949
00:36:26,140 --> 00:36:31,480
though HTTP<font color="#CCCCCC"> not</font><font color="#E5E5E5"> agree about HTTP i</font>

950
00:36:29,230 --> 00:36:32,800
should mention is at least in the

951
00:36:31,480 --> 00:36:36,580
version of HTTP we have right<font color="#CCCCCC"> now</font>

952
00:36:32,800 --> 00:36:39,040
different in 20 but 10 and 11 it's one

953
00:36:36,580 --> 00:36:41,109
request for one resource right so we can

954
00:36:39,040 --> 00:36:43,660
make<font color="#E5E5E5"> like a whole crap ton of requests</font>

955
00:36:41,109 --> 00:36:44,859
and that doesn't<font color="#E5E5E5"> look that weird to</font>

956
00:36:43,660 --> 00:36:46,180
anybody who's looking at it looks like

957
00:36:44,859 --> 00:36:47,440
you're surfing the web because you're

958
00:36:46,180 --> 00:36:54,730
making requests for every image every

959
00:36:47,440 --> 00:36:56,200
style sheet every bit of content<font color="#CCCCCC"> so from</font>

960
00:36:54,730 --> 00:36:58,960
Wireshark this is what this looks like

961
00:36:56,200 --> 00:37:00,730
running you see basically<font color="#E5E5E5"> i</font><font color="#CCCCCC"> just have</font>

962
00:36:58,960 --> 00:37:02,170
request through the dropbox root page<font color="#CCCCCC"> i</font>

963
00:37:00,730 --> 00:37:04,330
have a randomly named header<font color="#CCCCCC"> i got a</font>

964
00:37:02,170 --> 00:37:05,950
little<font color="#E5E5E5"> too overzealous with this example</font>

965
00:37:04,330 --> 00:37:07,330
<font color="#E5E5E5">i should have used a smaller data chance</font>

966
00:37:05,950 --> 00:37:09,430
but that's just a chunk of<font color="#E5E5E5"> the base64</font>

967
00:37:07,330 --> 00:37:10,839
out of her file all of you<font color="#CCCCCC"> have decoded</font>

968
00:37:09,430 --> 00:37:14,879
<font color="#E5E5E5">that</font><font color="#CCCCCC"> in your heads I know and</font><font color="#E5E5E5"> you can</font>

969
00:37:10,839 --> 00:37:18,580
<font color="#E5E5E5">see exactly what's happening but yeah</font>

970
00:37:14,880 --> 00:37:20,830
we'll put<font color="#E5E5E5"> it back together reassembly</font>

971
00:37:18,580 --> 00:37:21,880
keys that<font color="#E5E5E5"> screenshots really mad I took</font>

972
00:37:20,830 --> 00:37:27,310
<font color="#E5E5E5">some of these it like two in the morning</font>

973
00:37:21,880 --> 00:37:28,990
so my eyes are a little cross the files

974
00:37:27,310 --> 00:37:36,730
re-assembled and everything just looks

975
00:37:28,990 --> 00:37:38,049
<font color="#CCCCCC">like a good app yes sir can you decide</font>

976
00:37:36,730 --> 00:37:39,940
what<font color="#E5E5E5"> 30</font><font color="#CCCCCC"> teaspoons that's a good question</font>

977
00:37:38,050 --> 00:37:41,260
it is<font color="#E5E5E5"> very easy to modify inside the</font>

978
00:37:39,940 --> 00:37:43,060
code there's basically just an array

979
00:37:41,260 --> 00:37:44,859
that has them all in there and you can

980
00:37:43,060 --> 00:37:46,089
add<font color="#E5E5E5"> them in and I'm going to get some</font>

981
00:37:44,859 --> 00:37:47,470
one limitation that here in just a

982
00:37:46,089 --> 00:37:49,779
second<font color="#E5E5E5"> i think it's on ya on the next</font>

983
00:37:47,470 --> 00:37:52,029
slide yeah so I'm the first<font color="#E5E5E5"> person that</font>

984
00:37:49,780 --> 00:37:53,410
will criticize my own tools and tell you

985
00:37:52,030 --> 00:37:55,780
that if something<font color="#E5E5E5"> doesn't do what it</font>

986
00:37:53,410 --> 00:37:57,670
should do but hey look it's pretty good

987
00:37:55,780 --> 00:37:59,710
proof of concept at no point<font color="#E5E5E5"> is the data</font>

988
00:37:57,670 --> 00:38:01,780
seen its entirety they look like good

989
00:37:59,710 --> 00:38:04,720
apps they look like normal web surfing

990
00:38:01,780 --> 00:38:06,040
traffic but you know<font color="#E5E5E5"> what you do get a</font>

991
00:38:04,720 --> 00:38:07,689
little bit in congruence with fire way

992
00:38:06,040 --> 00:38:08,830
so you're sending a lot<font color="#E5E5E5"> of requests out</font>

993
00:38:07,690 --> 00:38:10,119
and what's coming back<font color="#E5E5E5"> is just the</font>

994
00:38:08,830 --> 00:38:12,250
control traffic<font color="#CCCCCC"> because we're using</font><font color="#E5E5E5"> raw</font>

995
00:38:10,119 --> 00:38:13,480
Python sockets so if somebody was

996
00:38:12,250 --> 00:38:16,570
looking that would<font color="#E5E5E5"> look a little funny</font>

997
00:38:13,480 --> 00:38:19,119
same IP I really should pick this but

998
00:38:16,570 --> 00:38:20,980
I'm super lazy uh you could have

999
00:38:19,119 --> 00:38:22,660
different apps<font color="#E5E5E5"> map to like you can send</font>

1000
00:38:20,980 --> 00:38:24,609
YouTube to an IP one time and then like

1001
00:38:22,660 --> 00:38:28,029
Dropbox the next time or Facebook or

1002
00:38:24,609 --> 00:38:29,890
whatever and that<font color="#CCCCCC"> might look a little</font>

1003
00:38:28,030 --> 00:38:32,650
weird although in the crates of cloud

1004
00:38:29,890 --> 00:38:34,839
services may<font color="#E5E5E5"> be right now and find out</font>

1005
00:38:32,650 --> 00:38:36,790
it<font color="#CCCCCC"> two different apps or host at eight</font>

1006
00:38:34,839 --> 00:38:38,170
of us it may not look that strange the

1007
00:38:36,790 --> 00:38:40,540
other thing is<font color="#E5E5E5"> it really is kind of</font>

1008
00:38:38,170 --> 00:38:42,580
<font color="#CCCCCC">requests for root pages right now so you</font>

1009
00:38:40,540 --> 00:38:44,080
get<font color="#E5E5E5"> that that</font><font color="#CCCCCC"> effect in the log where</font>

1010
00:38:42,580 --> 00:38:47,410
you see a lot of that like application

1011
00:38:44,080 --> 00:38:48,549
<font color="#E5E5E5">database traffic but it would be easy</font>

1012
00:38:47,410 --> 00:38:50,710
enough to put some different types of

1013
00:38:48,550 --> 00:38:52,510
requests in you know just messaging or

1014
00:38:50,710 --> 00:38:54,880
whatever and make<font color="#E5E5E5"> things look a little</font>

1015
00:38:52,510 --> 00:38:56,230
more filthy but hey I mean like I said

1016
00:38:54,880 --> 00:38:58,119
<font color="#CCCCCC">it's work for me as a proof of concept</font>

1017
00:38:56,230 --> 00:39:01,300
and it's you know fooled a lot of

1018
00:38:58,119 --> 00:39:05,320
thoughts and how do I haven't made<font color="#E5E5E5"> many</font>

1019
00:39:01,300 --> 00:39:07,960
friends so anyway let's<font color="#E5E5E5"> show</font><font color="#CCCCCC"> you</font><font color="#E5E5E5"> around</font>

1020
00:39:05,320 --> 00:39:10,030
39 minutes it's pretty good alright so

1021
00:39:07,960 --> 00:39:12,310
we've talked a lot about outbound today

1022
00:39:10,030 --> 00:39:15,490
right but I want you guys to think<font color="#E5E5E5"> about</font>

1023
00:39:12,310 --> 00:39:16,540
inbound so how challenging is using

1024
00:39:15,490 --> 00:39:18,399
concepts like this where you're just

1025
00:39:16,540 --> 00:39:20,440
<font color="#CCCCCC">getting a piece or a chunk of something</font>

1026
00:39:18,400 --> 00:39:24,040
and you're getting maybe a random Pete

1027
00:39:20,440 --> 00:39:26,800
and it's not in order make it to detect

1028
00:39:24,040 --> 00:39:28,240
malware so if my client goes a whole

1029
00:39:26,800 --> 00:39:30,730
bunch<font color="#CCCCCC"> of different places and i'm</font><font color="#E5E5E5"> just</font>

1030
00:39:28,240 --> 00:39:33,100
getting five or<font color="#E5E5E5"> six bytes 50 or 60 by</font>

1031
00:39:30,730 --> 00:39:36,880
seaman<font color="#E5E5E5"> of malware and it's encoded or</font>

1032
00:39:33,100 --> 00:39:38,830
encrypted<font color="#CCCCCC"> yeah right as long as the</font>

1033
00:39:36,880 --> 00:39:41,500
client understands how to put it back

1034
00:39:38,830 --> 00:39:44,770
together and it's not all within one

1035
00:39:41,500 --> 00:39:46,480
stream it's just a piece very difficult

1036
00:39:44,770 --> 00:39:48,520
to<font color="#E5E5E5"> detect the other thing becomes</font>

1037
00:39:46,480 --> 00:39:50,140
command and control I make legitimate

1038
00:39:48,520 --> 00:39:52,960
quest for facebook i make legitimate

1039
00:39:50,140 --> 00:39:54,609
quest<font color="#E5E5E5"> but</font><font color="#CCCCCC"> i do it</font><font color="#E5E5E5"> to servers I own so</font>

1040
00:39:52,960 --> 00:39:56,560
all these layer<font color="#E5E5E5"> 7 things i have think</font>

1041
00:39:54,610 --> 00:39:58,690
like oh<font color="#E5E5E5"> it's facebook it's fine or</font>

1042
00:39:56,560 --> 00:40:00,940
whatever an<font color="#E5E5E5"> ex wait listen to log but</font>

1043
00:39:58,690 --> 00:40:02,890
<font color="#E5E5E5">i'm sending back maybe spoof pages or</font>

1044
00:40:00,940 --> 00:40:05,800
clone pages and<font color="#CCCCCC"> i've got a little bits</font>

1045
00:40:02,890 --> 00:40:07,120
of command and control inside them HTML

1046
00:40:05,800 --> 00:40:09,880
comments or whatever these interesting

1047
00:40:07,120 --> 00:40:12,310
keep up and remember everything's being

1048
00:40:09,880 --> 00:40:14,020
looked at one way<font color="#E5E5E5"> almost always it's</font>

1049
00:40:12,310 --> 00:40:16,540
<font color="#E5E5E5">never been looked at match on the return</font>

1050
00:40:14,020 --> 00:40:18,490
so<font color="#CCCCCC"> i think</font><font color="#E5E5E5"> that's the biggest takeaway</font>

1051
00:40:16,540 --> 00:40:21,340
but i think<font color="#E5E5E5"> you guys can get from some</font>

1052
00:40:18,490 --> 00:40:24,729
of this and just and the<font color="#CCCCCC"> dlp to you know</font>

1053
00:40:21,340 --> 00:40:28,050
if you split things into small parts it

1054
00:40:24,730 --> 00:40:28,050
doesn't<font color="#E5E5E5"> matter regular expressions</font>

1055
00:40:29,010 --> 00:40:33,070
that's actually about what I got I came

1056
00:40:31,720 --> 00:40:34,540
to about five minutes ahead of what I

1057
00:40:33,070 --> 00:40:37,090
plan on so we have some time for

1058
00:40:34,540 --> 00:40:40,779
discussion questions<font color="#CCCCCC"> comments cuss words</font>

1059
00:40:37,090 --> 00:40:42,280
I do have a second I do have a couple

1060
00:40:40,780 --> 00:40:43,870
references for you<font color="#E5E5E5"> Brad would Berg and</font>

1061
00:40:42,280 --> 00:40:46,210
Dave<font color="#E5E5E5"> LaSalle</font><font color="#CCCCCC"> Brenton David real nice</font>

1062
00:40:43,870 --> 00:40:48,759
guys they kind of scratch the surface on

1063
00:40:46,210 --> 00:40:51,730
some of the stuff back when next-gen

1064
00:40:48,760 --> 00:40:55,510
firewall started to become mainstream

1065
00:40:51,730 --> 00:40:57,040
and they talked to the vendor and I

1066
00:40:55,510 --> 00:40:59,470
talked to the<font color="#E5E5E5"> vendor and we all three of</font>

1067
00:40:57,040 --> 00:41:01,060
us got<font color="#CCCCCC"> the same response which was yes</font>

1068
00:40:59,470 --> 00:41:03,250
you know that's<font color="#E5E5E5"> how the platform word</font>

1069
00:41:01,060 --> 00:41:06,880
she got a little<font color="#CCCCCC"> loud SI layer 7 we're</font>

1070
00:41:03,250 --> 00:41:08,260
not<font color="#CCCCCC"> going to fix</font><font color="#E5E5E5"> it and yeah you know I</font>

1071
00:41:06,880 --> 00:41:09,370
mean this is five<font color="#E5E5E5"> years ago these talks</font>

1072
00:41:08,260 --> 00:41:14,320
were given the problem still exists

1073
00:41:09,370 --> 00:41:18,549
today and yeah yeah yeah the next next

1074
00:41:14,320 --> 00:41:20,680
<font color="#E5E5E5">gen will will</font><font color="#CCCCCC"> will address it and you</font>

1075
00:41:18,550 --> 00:41:24,900
<font color="#CCCCCC">know that stuff about it guys you know</font>

1076
00:41:20,680 --> 00:41:24,899
fall taking questions yeah yeah

1077
00:41:43,240 --> 00:41:48,680
yeah I<font color="#E5E5E5"> mean I think congruence and</font>

1078
00:41:46,730 --> 00:41:53,720
bi-directional inspection particularly

1079
00:41:48,680 --> 00:41:56,779
<font color="#E5E5E5">cakes HTTP and I do my work at</font><font color="#CCCCCC"> danske</font>

1080
00:41:53,720 --> 00:41:59,990
ardian old old proxy and content filter

1081
00:41:56,780 --> 00:42:01,490
he would layer on top of squid but it

1082
00:41:59,990 --> 00:42:03,140
did URL filtering but one of the things

1083
00:42:01,490 --> 00:42:06,410
that actually did is it did regex

1084
00:42:03,140 --> 00:42:08,900
matching in return content so you could

1085
00:42:06,410 --> 00:42:13,220
<font color="#E5E5E5">actually block thing the problem with</font>

1086
00:42:08,900 --> 00:42:16,820
this is if I try to browse<font color="#CCCCCC"> to CNN and</font>

1087
00:42:13,220 --> 00:42:18,200
CNN does an article alike millennial sex

1088
00:42:16,820 --> 00:42:20,840
or something<font color="#E5E5E5"> on the front page it would</font>

1089
00:42:18,200 --> 00:42:25,339
block the page from coming<font color="#CCCCCC"> back right</font>

1090
00:42:20,840 --> 00:42:27,950
and you know<font color="#E5E5E5"> the fact that the</font>

1091
00:42:25,340 --> 00:42:30,050
capability doesn't exist right now to do

1092
00:42:27,950 --> 00:42:31,939
that congruence or that return

1093
00:42:30,050 --> 00:42:33,650
inspection i think is i<font color="#CCCCCC"> think is an</font>

1094
00:42:31,940 --> 00:42:35,330
<font color="#E5E5E5">issue so</font><font color="#CCCCCC"> that would be my written number</font>

1095
00:42:33,650 --> 00:42:37,400
one recommendation at least put the

1096
00:42:35,330 --> 00:42:39,230
capability in the hand of<font color="#CCCCCC"> the firewall</font>

1097
00:42:37,400 --> 00:42:41,210
administrator or the proxy administrator

1098
00:42:39,230 --> 00:42:42,740
to do that if they want to<font color="#E5E5E5"> not they</font>

1099
00:42:41,210 --> 00:42:44,270
don't want to turn<font color="#E5E5E5"> it off but it's an</font>

1100
00:42:42,740 --> 00:42:47,029
easy enough thing to do<font color="#E5E5E5"> particularly the</font>

1101
00:42:44,270 --> 00:42:49,040
case of HTTP based applications you know

1102
00:42:47,030 --> 00:42:50,510
if you host your own applications and

1103
00:42:49,040 --> 00:42:52,910
you're looking<font color="#CCCCCC"> for things like</font><font color="#E5E5E5"> this I</font>

1104
00:42:50,510 --> 00:42:54,350
mean strict header checking you know

1105
00:42:52,910 --> 00:42:56,390
when<font color="#E5E5E5"> I get a request for my application</font>

1106
00:42:54,350 --> 00:42:58,310
it can<font color="#E5E5E5"> only contain these eight headers</font>

1107
00:42:56,390 --> 00:42:59,450
and if I see anything else or I see

1108
00:42:58,310 --> 00:43:01,910
anything it looks different<font color="#CCCCCC"> than</font><font color="#E5E5E5"> these</font>

1109
00:42:59,450 --> 00:43:03,680
headers I need to drop<font color="#CCCCCC"> that request and</font>

1110
00:43:01,910 --> 00:43:05,509
that's a that's that even a thing well

1111
00:43:03,680 --> 00:43:07,730
with the load balancers and then things

1112
00:43:05,510 --> 00:43:09,200
like<font color="#E5E5E5"> that to do you know that scale is</font>

1113
00:43:07,730 --> 00:43:11,750
when I'm most familiar with<font color="#E5E5E5"> it can do it</font>

1114
00:43:09,200 --> 00:43:14,270
but f5 and other reverse proxies can do

1115
00:43:11,750 --> 00:43:17,840
it as well or I<font color="#E5E5E5"> soppy filters and is can</font>

1116
00:43:14,270 --> 00:43:19,160
do it an Apache so those would be the

1117
00:43:17,840 --> 00:43:26,150
things i would think of<font color="#CCCCCC"> up the top of my</font>

1118
00:43:19,160 --> 00:43:27,830
head yeah anyway<font color="#CCCCCC"> yeah miller that's a</font>

1119
00:43:26,150 --> 00:43:29,780
<font color="#E5E5E5">good question the equation was re</font>

1120
00:43:27,830 --> 00:43:31,369
varying sizes of chunks right now it's

1121
00:43:29,780 --> 00:43:35,240
just it's<font color="#CCCCCC"> better you specify it and it</font>

1122
00:43:31,369 --> 00:43:35,759
goes in static amounts um I should<font color="#E5E5E5"> yeah</font>

1123
00:43:35,240 --> 00:43:40,979
it's

1124
00:43:35,759 --> 00:43:42,359
<font color="#E5E5E5">so I should it would be ova absolutely</font>

1125
00:43:40,979 --> 00:43:44,788
and in the<font color="#CCCCCC"> case of anomaly detection</font>

1126
00:43:42,359 --> 00:43:48,538
engines it would make<font color="#CCCCCC"> it infinitely</font>

1127
00:43:44,789 --> 00:43:50,009
harder for them but yeah do what no no

1128
00:43:48,539 --> 00:43:54,659
that's only in the test mode definitely

1129
00:43:50,009 --> 00:43:55,829
test mode it<font color="#CCCCCC"> is set right but yeah but</font>

1130
00:43:54,659 --> 00:43:57,329
it but I<font color="#E5E5E5"> mean the best way to beat up</font>

1131
00:43:55,829 --> 00:43:58,469
<font color="#E5E5E5">like you pull out your tuner my trunk</font>

1132
00:43:57,329 --> 00:44:00,269
and break it in some<font color="#CCCCCC"> Tim</font><font color="#E5E5E5"> bites and the</font>

1133
00:43:58,469 --> 00:44:03,809
12 license<font color="#CCCCCC"> invites individually set</font><font color="#E5E5E5"> the</font>

1134
00:44:00,269 --> 00:44:07,408
whole thing but the codes not very good

1135
00:44:03,809 --> 00:44:09,089
you know<font color="#CCCCCC"> on I program in python based on</font>

1136
00:44:07,409 --> 00:44:11,159
one of those four dollar books I read

1137
00:44:09,089 --> 00:44:14,069
you know learn Python in 30 minutes and

1138
00:44:11,159 --> 00:44:16,889
then ate at amazon and it's on github

1139
00:44:14,069 --> 00:44:19,558
yeah you should see<font color="#CCCCCC"> Noah kill man that</font>

1140
00:44:16,889 --> 00:44:20,909
<font color="#CCCCCC">was really not good oh good but</font><font color="#E5E5E5"> people</font>

1141
00:44:19,559 --> 00:44:29,849
have actually fixed that which<font color="#CCCCCC"> I've</font>

1142
00:44:20,909 --> 00:44:31,499
appreciative up but yeah yes yes I have

1143
00:44:29,849 --> 00:44:35,219
thought about that<font color="#E5E5E5"> and that is next I</font>

1144
00:44:31,499 --> 00:44:36,479
was really<font color="#E5E5E5"> different they will the way</font>

1145
00:44:35,219 --> 00:44:38,369
and this was just concurrent connections

1146
00:44:36,479 --> 00:44:40,558
I that's why<font color="#E5E5E5"> using HTTP a trick you do</font>

1147
00:44:38,369 --> 00:44:43,439
make a lot of connection hcp in one

1148
00:44:40,559 --> 00:44:44,880
session but it really would be better to

1149
00:44:43,439 --> 00:44:53,038
randomize it a little bit you're right

1150
00:44:44,880 --> 00:44:55,529
absolutely<font color="#E5E5E5"> so yeah yeah that's a good</font>

1151
00:44:53,039 --> 00:44:57,299
question and the congruence which is

1152
00:44:55,529 --> 00:45:00,359
easy enough to send back so if<font color="#E5E5E5"> you're</font>

1153
00:44:57,299 --> 00:45:03,089
<font color="#CCCCCC">just looking at a quantitative basis so</font>

1154
00:45:00,359 --> 00:45:05,339
like I could send a connector of some

1155
00:45:03,089 --> 00:45:07,739
data out and put server could send

1156
00:45:05,339 --> 00:45:09,089
garbage back to make the quantity look a

1157
00:45:07,739 --> 00:45:12,059
little more than quantity look a little

1158
00:45:09,089 --> 00:45:15,989
more symmetrical you know I think<font color="#CCCCCC"> that</font>

1159
00:45:12,059 --> 00:45:17,369
would<font color="#E5E5E5"> help flagging on incongruent sizes</font>

1160
00:45:15,989 --> 00:45:20,159
where I send data out and all that<font color="#E5E5E5"> comes</font>

1161
00:45:17,369 --> 00:45:22,169
back<font color="#CCCCCC"> as TCP</font><font color="#E5E5E5"> control traffic that I think</font>

1162
00:45:20,159 --> 00:45:26,729
and a<font color="#E5E5E5"> lot of them probably do that</font>

1163
00:45:22,169 --> 00:45:32,149
already you<font color="#CCCCCC"> know</font><font color="#E5E5E5"> I'm those</font><font color="#CCCCCC"> things got to</font>

1164
00:45:26,729 --> 00:45:37,229
pop my head i can think of what up yeah

1165
00:45:32,149 --> 00:45:40,380
sure i will put them on the github yes<font color="#E5E5E5"> i</font>

1166
00:45:37,229 --> 00:45:41,669
want to since I had used some things in

1167
00:45:40,380 --> 00:45:44,859
am I need to make sure it's properly

1168
00:45:41,669 --> 00:45:54,069
sanitized before they go yeah

1169
00:45:44,859 --> 00:45:56,650
oh yeah<font color="#E5E5E5"> I can go back</font><font color="#CCCCCC"> to that find it</font>

1170
00:45:54,069 --> 00:45:59,739
<font color="#E5E5E5">again it was not</font><font color="#CCCCCC"> a secret it was just</font>

1171
00:45:56,650 --> 00:46:01,239
numbers what's that<font color="#E5E5E5"> right there it's</font>

1172
00:45:59,739 --> 00:46:03,519
just to order those pieces are going to

1173
00:46:01,239 --> 00:46:05,140
be sentient and so that just you get one

1174
00:46:03,519 --> 00:46:08,049
message and as that is one of<font color="#E5E5E5"> the other</font>

1175
00:46:05,140 --> 00:46:09,640
drawbacks of the sending the<font color="#E5E5E5"> random</font>

1176
00:46:08,049 --> 00:46:11,349
pieces out you do have<font color="#CCCCCC"> to get</font><font color="#E5E5E5"> a</font>

1177
00:46:09,640 --> 00:46:12,549
<font color="#E5E5E5">descriptor out somewhere and that's easy</font>

1178
00:46:11,349 --> 00:46:14,259
enough to look for so you would have

1179
00:46:12,549 --> 00:46:16,150
<font color="#E5E5E5">this one weird-looking message that</font>

1180
00:46:14,259 --> 00:46:17,739
would go somewhere first but if you're

1181
00:46:16,150 --> 00:46:20,859
talking<font color="#E5E5E5"> about one transaction and an</font>

1182
00:46:17,739 --> 00:46:26,410
enterprise of<font color="#E5E5E5"> like 53,000 nodes it's</font>

1183
00:46:20,859 --> 00:46:27,640
kind<font color="#E5E5E5"> of hard to find yeah no no no no</font>

1184
00:46:26,410 --> 00:46:28,839
that was actually<font color="#CCCCCC"> just generated by the</font>

1185
00:46:27,640 --> 00:46:33,879
<font color="#E5E5E5">script and I just highlighted the</font>

1186
00:46:28,839 --> 00:46:56,170
numbers I'm not<font color="#E5E5E5"> very clever so no yeah</font>

1187
00:46:33,880 --> 00:47:00,430
anything else<font color="#CCCCCC"> yeah</font><font color="#E5E5E5"> right well you could</font>

1188
00:46:56,170 --> 00:47:02,710
and so I want<font color="#E5E5E5"> to jump back well ears</font>

1189
00:47:00,430 --> 00:47:05,140
thing and so this<font color="#E5E5E5"> is a terrible example</font>

1190
00:47:02,710 --> 00:47:08,769
because i use way too much way too large

1191
00:47:05,140 --> 00:47:10,239
chunk size but remember the header

1192
00:47:08,769 --> 00:47:14,109
doesn't mean anything on the front and

1193
00:47:10,239 --> 00:47:16,180
if you<font color="#E5E5E5"> just had five letters you know</font>

1194
00:47:14,109 --> 00:47:18,519
<font color="#E5E5E5">you'd</font><font color="#CCCCCC"> have to guess you know I me know</font>

1195
00:47:16,180 --> 00:47:19,839
if you use really little tiny chunk you

1196
00:47:18,519 --> 00:47:21,430
would have liked yes oh I think this

1197
00:47:19,839 --> 00:47:22,720
might be basics before because there's a

1198
00:47:21,430 --> 00:47:30,269
<font color="#E5E5E5">little I base64 right you don't have the</font>

1199
00:47:22,720 --> 00:47:31,839
terminators on the end yeah<font color="#CCCCCC"> you are</font>

1200
00:47:30,269 --> 00:47:33,959
right that's where time at the

1201
00:47:31,839 --> 00:47:36,999
incongruence is an issue the<font color="#E5E5E5"> example</font>

1202
00:47:33,960 --> 00:47:39,460
right again this<font color="#E5E5E5"> is a proof of concept</font>

1203
00:47:36,999 --> 00:47:41,589
tool<font color="#CCCCCC"> this is for proving it out on like</font>

1204
00:47:39,460 --> 00:47:44,170
a structured engagement but yeah if you

1205
00:47:41,589 --> 00:47:45,910
were<font color="#E5E5E5"> doing this for real again like Cruz</font>

1206
00:47:44,170 --> 00:47:47,829
htp you should be sending clone pages

1207
00:47:45,910 --> 00:47:49,960
back you should be sending something

1208
00:47:47,829 --> 00:47:51,460
back if you're<font color="#E5E5E5"> just</font><font color="#CCCCCC"> doing raw socket and</font>

1209
00:47:49,960 --> 00:47:52,690
you just want<font color="#CCCCCC"> to get that congruence</font>

1210
00:47:51,460 --> 00:47:53,829
just send random data back<font color="#CCCCCC"> to the client</font>

1211
00:47:52,690 --> 00:47:56,319
for you close down the connection

1212
00:47:53,829 --> 00:48:25,839
there's a lot<font color="#CCCCCC"> of ways to even it out you</font>

1213
00:47:56,319 --> 00:48:27,460
know but yeah yeah right yeah<font color="#E5E5E5"> and that's</font>

1214
00:48:25,839 --> 00:48:29,619
<font color="#E5E5E5">that's a great question so i have two</font>

1215
00:48:27,460 --> 00:48:30,759
girs HTTP to a little bit and it does

1216
00:48:29,619 --> 00:48:34,690
function a little bit differently

1217
00:48:30,759 --> 00:48:37,720
because you had that it's a it's more of

1218
00:48:34,690 --> 00:48:41,799
a stream it's less like 11 resource to

1219
00:48:37,720 --> 00:48:44,319
request and<font color="#E5E5E5"> I don't see these got</font>

1220
00:48:41,799 --> 00:48:46,420
dealing with it yet I don't see a lot of

1221
00:48:44,319 --> 00:48:49,599
detection you know that they're more

1222
00:48:46,420 --> 00:48:50,859
worried about client-side stuff from

1223
00:48:49,599 --> 00:48:52,480
some of the vendors I've seen you know

1224
00:48:50,859 --> 00:48:53,739
like lumping other things I'm both into

1225
00:48:52,480 --> 00:48:55,059
the firewall<font color="#CCCCCC"> that can talk to</font><font color="#E5E5E5"> the fire</font>

1226
00:48:53,739 --> 00:48:56,859
<font color="#E5E5E5">welcome the client</font><font color="#CCCCCC"> slides and they are</font>

1227
00:48:55,059 --> 00:49:00,039
adding additional features into the fire

1228
00:48:56,859 --> 00:49:03,369
which i think is a shame but<font color="#E5E5E5"> I have run</font>

1229
00:49:00,039 --> 00:49:05,109
from HTTP to across this vendors

1230
00:49:03,369 --> 00:49:07,329
firewall and it just sort of looks like

1231
00:49:05,109 --> 00:49:10,210
it knows HTTP but doesn't see it as

1232
00:49:07,329 --> 00:49:13,630
anything really different now that being

1233
00:49:10,210 --> 00:49:17,140
said because HTTP two is stream base and

1234
00:49:13,630 --> 00:49:19,239
not one to<font color="#E5E5E5"> one you can send you can't</font>

1235
00:49:17,140 --> 00:49:20,890
send as many chunks across HTTP two and

1236
00:49:19,239 --> 00:49:23,200
headers you know you really have to

1237
00:49:20,890 --> 00:49:26,950
compensate for<font color="#E5E5E5"> that a different</font><font color="#CCCCCC"> way so</font>

1238
00:49:23,200 --> 00:49:28,239
if<font color="#E5E5E5"> you send more requests across heb</font>

1239
00:49:26,950 --> 00:49:30,279
dude that's a live<font color="#E5E5E5"> really weird right</font>

1240
00:49:28,239 --> 00:49:32,499
because it isn't<font color="#E5E5E5"> it</font><font color="#CCCCCC"> it's one</font><font color="#E5E5E5"> of the</font>

1241
00:49:30,279 --> 00:49:36,849
stream continuous conversations that

1242
00:49:32,499 --> 00:49:41,019
have 113 stores your<font color="#CCCCCC"> club yeah anything</font>

1243
00:49:36,849 --> 00:49:42,279
else awesome guys listen thank<font color="#E5E5E5"> you</font><font color="#CCCCCC"> for</font>

1244
00:49:41,019 --> 00:49:48,249
sticking around I really appreciate<font color="#E5E5E5"> it</font>

1245
00:49:42,279 --> 00:49:49,569
this is<font color="#CCCCCC"> dumb this is</font><font color="#E5E5E5"> 10 years</font><font color="#CCCCCC"> I</font><font color="#E5E5E5"> I was</font>

1246
00:49:48,249 --> 00:49:51,189
thinking<font color="#CCCCCC"> about only in the corners of 10</font>

1247
00:49:49,569 --> 00:49:52,538
years<font color="#E5E5E5"> I've been to my talk to my first</font>

1248
00:49:51,190 --> 00:49:54,700
<font color="#E5E5E5">talk at freaknik you guys heard about</font>

1249
00:49:52,539 --> 00:49:56,619
some of the ceremony<font color="#E5E5E5"> from 10 years ago</font>

1250
00:49:54,700 --> 00:49:59,019
and I always appreciate people coming

1251
00:49:56,619 --> 00:50:00,880
out and listening and<font color="#E5E5E5"> hearing what</font><font color="#CCCCCC"> I</font>

1252
00:49:59,019 --> 00:50:02,468
have to say and<font color="#CCCCCC"> it still stunned me they</font>

1253
00:50:00,880 --> 00:50:04,410
do so really<font color="#E5E5E5"> appreciate you guys</font>

1254
00:50:02,469 --> 00:50:05,990
<font color="#E5E5E5">sticking around thank you</font>

1255
00:50:04,410 --> 00:50:09,020
Oh

1256
00:50:05,990 --> 00:50:09,020
[Applause]

