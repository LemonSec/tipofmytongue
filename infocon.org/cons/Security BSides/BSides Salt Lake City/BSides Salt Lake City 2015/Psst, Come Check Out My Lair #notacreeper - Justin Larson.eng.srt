1
00:00:00,000 --> 00:00:13,860
awesome thank<font color="#CCCCCC"> you keep it up for me</font>

2
00:00:05,279 --> 00:00:16,770
right<font color="#CCCCCC"> alright so this is a title Justin</font>

3
00:00:13,860 --> 00:00:19,140
<font color="#CCCCCC">Larson follow me ironic nickname that's</font>

4
00:00:16,770 --> 00:00:22,230
because my nickname is slim I'm not

5
00:00:19,140 --> 00:00:24,600
quite slim anymore good web app security

6
00:00:22,230 --> 00:00:28,140
for work front formerly at task if you

7
00:00:24,600 --> 00:00:29,849
<font color="#E5E5E5">don't know who work for an is and I'm</font>

8
00:00:28,140 --> 00:00:33,750
<font color="#CCCCCC">not good at</font><font color="#E5E5E5"> slide so i just threw to me</font>

9
00:00:29,849 --> 00:00:37,079
so at least have some some fun so<font color="#E5E5E5"> i may</font>

10
00:00:33,750 --> 00:00:41,100
be<font color="#CCCCCC"> talking about layer which is a pen</font>

11
00:00:37,079 --> 00:00:43,110
testing collaboration framework tool it

12
00:00:41,100 --> 00:00:45,390
was<font color="#CCCCCC"> developed by</font><font color="#E5E5E5"> Dan Kammen and</font><font color="#CCCCCC"> tom</font>

13
00:00:43,110 --> 00:00:49,160
steel they both work for fishnet

14
00:00:45,390 --> 00:00:52,949
security and it's a great<font color="#CCCCCC"> way to</font>

15
00:00:49,160 --> 00:00:57,120
collaborate with your team as you do pen

16
00:00:52,949 --> 00:01:00,480
tests so so there's a<font color="#CCCCCC"> few problems um</font>

17
00:00:57,120 --> 00:01:02,608
does anybody do pen testing here on

18
00:01:00,480 --> 00:01:04,408
their own maybe on their own stuff or

19
00:01:02,609 --> 00:01:07,080
maybe they're not a pen tester because

20
00:01:04,409 --> 00:01:12,240
I'm not<font color="#E5E5E5"> a pen tester</font><font color="#CCCCCC"> by trade but we do</font>

21
00:01:07,080 --> 00:01:15,509
pen testing and so there's<font color="#E5E5E5"> always lots</font>

22
00:01:12,240 --> 00:01:18,710
of output from a hundreds of tools<font color="#E5E5E5"> that</font>

23
00:01:15,509 --> 00:01:21,409
you can use to scan or do anything and

24
00:01:18,710 --> 00:01:25,080
he times that by the number of testers

25
00:01:21,409 --> 00:01:28,829
in the engagement and then so we have

26
00:01:25,080 --> 00:01:31,670
duplicated work data gets lost and it's

27
00:01:28,829 --> 00:01:36,570
very unorganized just some classic

28
00:01:31,670 --> 00:01:42,150
problems with pen testing that we as a

29
00:01:36,570 --> 00:01:43,320
team run into as well<font color="#E5E5E5"> so actually</font><font color="#CCCCCC"> Chris</font>

30
00:01:42,150 --> 00:01:46,350
just walked in he's<font color="#E5E5E5"> the one that found</font>

31
00:01:43,320 --> 00:01:51,839
layer and<font color="#E5E5E5"> showed us how to use it he</font>

32
00:01:46,350 --> 00:01:57,270
works at<font color="#E5E5E5"> work front my boss so but layer</font>

33
00:01:51,840 --> 00:01:59,100
it runs with meteor and node<font color="#E5E5E5"> J s so I</font>

34
00:01:57,270 --> 00:02:00,270
wanted<font color="#E5E5E5"> to abandon even writing this</font>

35
00:01:59,100 --> 00:02:02,759
presentation once I found out about

36
00:02:00,270 --> 00:02:05,610
<font color="#E5E5E5">meteor because it's a it's a pretty</font>

37
00:02:02,759 --> 00:02:07,380
awesome framework so you can do<font color="#CCCCCC"> its jess</font>

38
00:02:05,610 --> 00:02:11,008
its<font color="#CCCCCC"> javascript on the server</font><font color="#E5E5E5"> and the</font>

39
00:02:07,380 --> 00:02:12,540
client so it's pretty awesome breathe

40
00:02:11,008 --> 00:02:14,730
you get all the

41
00:02:12,540 --> 00:02:19,798
the buzzwords down at the bottom<font color="#E5E5E5"> slit</font>

42
00:02:14,730 --> 00:02:23,280
clean simple but it does so<font color="#E5E5E5"> it like</font>

43
00:02:19,799 --> 00:02:24,450
it'll listen to the<font color="#CCCCCC"> mongodb to see if</font>

44
00:02:23,280 --> 00:02:26,760
there's any changes and it'll just

45
00:02:24,450 --> 00:02:30,768
update the page automatically without

46
00:02:26,760 --> 00:02:35,129
having to be refreshed it's really<font color="#E5E5E5"> quick</font>

47
00:02:30,769 --> 00:02:38,849
and the dinosaur is very important that

48
00:02:35,129 --> 00:02:42,298
you save this so from asteroids if an

49
00:02:38,849 --> 00:02:48,450
asteroids are in space the meteors that

50
00:02:42,299 --> 00:02:49,620
stores are dumb so these are these are

51
00:02:48,450 --> 00:02:55,260
the commands that you can do when

52
00:02:49,620 --> 00:02:57,060
installing meteor or not meteor layer so

53
00:02:55,260 --> 00:02:59,668
we'll go through those in a sec though

54
00:02:57,060 --> 00:03:02,159
and if you don't follow infosec Taylor

55
00:02:59,669 --> 00:03:05,939
Swift on<font color="#E5E5E5"> Twitter you should it is</font><font color="#CCCCCC"> a good</font>

56
00:03:02,159 --> 00:03:07,739
laugh just so you know and we'll go to

57
00:03:05,939 --> 00:03:13,159
the<font color="#E5E5E5"> demo that's the end of my slides so</font>

58
00:03:07,739 --> 00:03:13,159
I'm do you like demos then buckle up

59
00:03:22,280 --> 00:03:26,239
<font color="#CCCCCC">that big enough can everyone see that</font>

60
00:03:26,599 --> 00:03:36,750
how could<font color="#E5E5E5"> a group</font><font color="#CCCCCC"> okay so it's pretty</font>

61
00:03:32,879 --> 00:03:40,198
simple to start you and able to start

62
00:03:36,750 --> 00:03:44,190
script give it<font color="#E5E5E5"> the IP that you want I'll</font>

63
00:03:40,199 --> 00:03:47,250
just gonna do localhost here and it

64
00:03:44,190 --> 00:03:49,228
starts up so I've done this a few times

65
00:03:47,250 --> 00:03:50,989
on this machine in the very first time

66
00:03:49,229 --> 00:03:53,639
<font color="#CCCCCC">you do it it's going</font><font color="#E5E5E5"> to set up a</font>

67
00:03:50,989 --> 00:03:55,019
self-signed sir<font color="#CCCCCC"> i'm</font><font color="#E5E5E5"> not going to go</font>

68
00:03:53,639 --> 00:03:58,229
<font color="#E5E5E5">through that this time because I've</font>

69
00:03:55,019 --> 00:04:00,739
already got to set up but it does that

70
00:03:58,229 --> 00:04:04,769
and<font color="#CCCCCC"> the first</font><font color="#E5E5E5"> time you set it up so so</font>

71
00:04:00,739 --> 00:04:07,349
we<font color="#E5E5E5"> don't have any MongoDB user setup so</font>

72
00:04:04,769 --> 00:04:15,769
we'll say yes wait<font color="#CCCCCC"> note we wanted to</font><font color="#E5E5E5"> say</font>

73
00:04:07,349 --> 00:04:15,768
no don't never get stopped

74
00:04:24,140 --> 00:04:32,820
should read what it's asking we'll just

75
00:04:28,770 --> 00:04:36,659
set up a<font color="#E5E5E5"> Mongo user called Mongo</font><font color="#CCCCCC"> the</font>

76
00:04:32,820 --> 00:04:46,320
password then it has to set up a layer

77
00:04:36,660 --> 00:04:51,260
user and we'll do that as well and we're

78
00:04:46,320 --> 00:04:57,710
up and running so pretty hard to do that

79
00:04:51,260 --> 00:04:57,710
so this<font color="#E5E5E5"> is actually wear layers running</font>

80
00:05:03,830 --> 00:05:12,599
so there we go and so first thing you

81
00:05:09,750 --> 00:05:26,610
got to do is<font color="#E5E5E5"> you get to create a user</font>

82
00:05:12,600 --> 00:05:28,260
and a password and<font color="#CCCCCC"> it's pretty pretty</font>

83
00:05:26,610 --> 00:05:30,020
bare obviously because<font color="#CCCCCC"> we haven't</font>

84
00:05:28,260 --> 00:05:40,409
created anything so we'll just<font color="#E5E5E5"> create a</font>

85
00:05:30,020 --> 00:05:45,659
simple b-sides slc project and now we're

86
00:05:40,410 --> 00:05:49,160
actually in in layer and so you can go

87
00:05:45,660 --> 00:06:07,950
in we have house services

88
00:05:49,160 --> 00:06:09,210
vulnerabilities yep I better<font color="#E5E5E5"> okay is</font>

89
00:06:07,950 --> 00:06:12,240
that all<font color="#CCCCCC"> right sighs can you see that</font>

90
00:06:09,210 --> 00:06:15,659
<font color="#CCCCCC">okay yeah so you have a lot of different</font>

91
00:06:12,240 --> 00:06:17,340
<font color="#CCCCCC">things you can put</font><font color="#E5E5E5"> into to layer from</font>

92
00:06:15,660 --> 00:06:19,320
<font color="#E5E5E5">what I've noticed it's more of a network</font>

93
00:06:17,340 --> 00:06:23,070
penetration testing rather than

94
00:06:19,320 --> 00:06:25,349
application I think maybe in the second

95
00:06:23,070 --> 00:06:27,450
version they'll<font color="#CCCCCC"> probably do some more</font>

96
00:06:25,349 --> 00:06:30,169
<font color="#CCCCCC">application specific because you can</font>

97
00:06:27,450 --> 00:06:33,020
import stuff from from<font color="#CCCCCC"> Burt as well</font>

98
00:06:30,169 --> 00:06:37,159
and so but to me it's<font color="#CCCCCC"> more of a network</font>

99
00:06:33,020 --> 00:06:39,279
security<font color="#E5E5E5"> pen test so we will nur ability</font>

100
00:06:37,159 --> 00:06:41,629
services notes credentials and

101
00:06:39,279 --> 00:06:46,849
contributor so little will create a

102
00:06:41,629 --> 00:06:50,229
contributor<font color="#E5E5E5"> I'm actually don't creating</font>

103
00:06:46,849 --> 00:06:50,229
them here setting so

104
00:07:05,820 --> 00:07:11,880
I had one complaint

105
00:07:09,420 --> 00:07:14,010
don't let you specify your password

106
00:07:11,880 --> 00:07:16,290
twice so if you put<font color="#E5E5E5"> in something you</font>

107
00:07:14,010 --> 00:07:23,250
don't<font color="#E5E5E5"> think you put in OPM nightmare</font>

108
00:07:16,290 --> 00:07:25,740
you're set to delete the account but so

109
00:07:23,250 --> 00:07:28,680
contributors we can<font color="#E5E5E5"> just we add another</font>

110
00:07:25,740 --> 00:07:32,460
person and<font color="#CCCCCC"> I only show that really</font>

111
00:07:28,680 --> 00:07:35,460
because down here on the bottom right

112
00:07:32,460 --> 00:07:37,950
can you see that you have message you

113
00:07:35,460 --> 00:07:41,450
have a<font color="#E5E5E5"> little chat if you don't want to</font>

114
00:07:37,950 --> 00:07:50,340
use like your internal chat or whatever

115
00:07:41,450 --> 00:07:53,210
<font color="#CCCCCC">and it</font><font color="#E5E5E5"> works sometimes so if we logged</font>

116
00:07:50,340 --> 00:07:53,210
in as that other user

117
00:08:01,400 --> 00:08:21,530
<font color="#E5E5E5">I got it right sweet so there's a chat</font>

118
00:08:10,970 --> 00:08:24,460
from earlier pretty simple<font color="#CCCCCC"> okay so we</font>

119
00:08:21,530 --> 00:08:29,440
<font color="#CCCCCC">can go in and</font><font color="#E5E5E5"> we can add hosts manually</font>

120
00:08:24,460 --> 00:08:37,789
which is always real fun add the IP

121
00:08:29,440 --> 00:08:44,140
whatever fake hostname windows and

122
00:08:37,789 --> 00:08:46,640
submit so there we have our our<font color="#E5E5E5"> host</font>

123
00:08:44,140 --> 00:08:48,230
just one of them but who wants to

124
00:08:46,640 --> 00:08:53,360
manually enter everything that's a

125
00:08:48,230 --> 00:08:56,930
that's a pain so dan and tom created

126
00:08:53,360 --> 00:08:58,430
what they call drones which are written

127
00:08:56,930 --> 00:09:00,979
in<font color="#CCCCCC"> python because they didn't want</font><font color="#E5E5E5"> to</font>

128
00:08:58,430 --> 00:09:02,779
write them in javascript in case people

129
00:09:00,980 --> 00:09:05,900
didn't<font color="#CCCCCC"> really know how to write</font>

130
00:09:02,779 --> 00:09:08,630
JavaScript Python is pretty simple but

131
00:09:05,900 --> 00:09:10,670
with a drone what it does<font color="#E5E5E5"> is it will</font>

132
00:09:08,630 --> 00:09:14,390
parse through your data from your tools

133
00:09:10,670 --> 00:09:22,400
that you have<font color="#E5E5E5"> in imported directly into</font>

134
00:09:14,390 --> 00:09:28,670
layer for you so they've written drones

135
00:09:22,400 --> 00:09:30,350
for<font color="#E5E5E5"> see</font><font color="#CCCCCC"> meses</font><font color="#E5E5E5"> next pose and map and then</font>

136
00:09:28,670 --> 00:09:34,779
they have a Curragh one if you<font color="#E5E5E5"> want to</font>

137
00:09:30,350 --> 00:09:37,279
pass in<font color="#E5E5E5"> JSON to it and there's also</font>

138
00:09:34,779 --> 00:09:41,420
<font color="#CCCCCC">putter with a purpose eat one and</font><font color="#E5E5E5"> I'll</font>

139
00:09:37,279 --> 00:09:43,670
see<font color="#E5E5E5"> you there but and you can install</font>

140
00:09:41,420 --> 00:09:46,130
those the path just using pip which is

141
00:09:43,670 --> 00:09:49,490
what I do makes it easier but<font color="#E5E5E5"> or you can</font>

142
00:09:46,130 --> 00:09:56,260
just run it as a script as well but

143
00:09:49,490 --> 00:09:56,260
let's get<font color="#E5E5E5"> into down a the fun part so</font>

144
00:09:57,870 --> 00:10:06,800
this is our longer-dated database how we

145
00:10:02,310 --> 00:10:19,050
get to it so we have to export

146
00:10:06,800 --> 00:10:30,240
environment variable<font color="#E5E5E5"> I spilled it very</font>

147
00:10:19,050 --> 00:10:38,040
closely so I did a really basic nmap

148
00:10:30,240 --> 00:10:40,350
scan and to use the drones you just

149
00:10:38,040 --> 00:10:43,980
drone dash in map and if you haven't

150
00:10:40,350 --> 00:10:48,029
installed two paths and then what<font color="#E5E5E5"> you</font>

151
00:10:43,980 --> 00:10:50,520
need layer is the project<font color="#E5E5E5"> ID so it knows</font>

152
00:10:48,029 --> 00:10:51,689
which project that's going to and it

153
00:10:50,520 --> 00:10:55,290
gives you that right at<font color="#E5E5E5"> the top there</font>

154
00:10:51,690 --> 00:11:05,750
pretty convenient just paste that and

155
00:10:55,290 --> 00:11:08,760
then you need<font color="#E5E5E5"> the path to the file and</font>

156
00:11:05,750 --> 00:11:11,400
so connects and then tells you a

157
00:11:08,760 --> 00:11:15,589
successful the project<font color="#E5E5E5"> and then so it</font>

158
00:11:11,400 --> 00:11:24,640
processed<font color="#CCCCCC"> seven house if</font><font color="#E5E5E5"> we go back</font>

159
00:11:15,589 --> 00:11:26,500
there they are pretty quick and so you

160
00:11:24,640 --> 00:11:28,390
and you change the colors whatever you

161
00:11:26,500 --> 00:11:30,460
want<font color="#E5E5E5"> the colors don't mean anything</font>

162
00:11:28,390 --> 00:11:34,270
unless<font color="#E5E5E5"> you specified within your</font>

163
00:11:30,460 --> 00:11:35,260
organization what you want them to but

164
00:11:34,270 --> 00:11:39,610
we can get to that we'll<font color="#E5E5E5"> get to that</font>

165
00:11:35,260 --> 00:11:43,689
later on how you can<font color="#E5E5E5"> automate that so</font>

166
00:11:39,610 --> 00:11:45,370
right now we did a very<font color="#E5E5E5"> basic nmap scan</font>

167
00:11:43,690 --> 00:11:47,610
so we don't<font color="#E5E5E5"> have any ports or anything</font>

168
00:11:45,370 --> 00:11:50,920
like that it was<font color="#CCCCCC"> just a find the host</font>

169
00:11:47,610 --> 00:11:52,240
and you can go<font color="#E5E5E5"> into this log and it'll</font>

170
00:11:50,920 --> 00:11:56,160
show<font color="#E5E5E5"> you all the commands</font><font color="#CCCCCC"> that you ran</font>

171
00:11:52,240 --> 00:12:00,070
so this was what our nmap scan was and

172
00:11:56,160 --> 00:12:02,560
then this<font color="#E5E5E5"> is what the drone imported and</font>

173
00:12:00,070 --> 00:12:07,720
it will tell you every event that occurs

174
00:12:02,560 --> 00:12:12,869
so now if<font color="#CCCCCC"> we go to her services we don't</font>

175
00:12:07,720 --> 00:12:12,870
<font color="#E5E5E5">have anything in there yet it's actually</font>

176
00:12:14,760 --> 00:12:26,380
that cutting up that's actually<font color="#CCCCCC"> okay so</font>

177
00:12:23,200 --> 00:12:29,730
if we run another important another nmap

178
00:12:26,380 --> 00:12:34,480
scan than they did you can watch the

179
00:12:29,730 --> 00:12:40,120
data as it goes in so the<font color="#E5E5E5"> bottom there</font>

180
00:12:34,480 --> 00:12:42,310
it is and then at<font color="#E5E5E5"> the top it fills up so</font>

181
00:12:40,120 --> 00:12:45,000
and there's no need to refresh or

182
00:12:42,310 --> 00:12:49,089
anything like that just quick and<font color="#CCCCCC"> snappy</font>

183
00:12:45,000 --> 00:12:50,650
and then you can search I'm poured or

184
00:12:49,090 --> 00:12:53,950
whatever you want to and then it'll show

185
00:12:50,650 --> 00:12:55,780
you all those and then it's pretty<font color="#E5E5E5"> cool</font>

186
00:12:53,950 --> 00:12:59,230
is over here this is just a text area

187
00:12:55,780 --> 00:13:00,970
that shows up just the host IP so you

188
00:12:59,230 --> 00:13:07,210
need to import this into another tool

189
00:13:00,970 --> 00:13:11,650
you can is which<font color="#CCCCCC"> is what i did so i used</font>

190
00:13:07,210 --> 00:13:13,900
a brute forcing tool called Medusa I

191
00:13:11,650 --> 00:13:16,810
think it's pretty similar to Hydra just

192
00:13:13,900 --> 00:13:19,060
<font color="#E5E5E5">little fork I found it first before I</font>

193
00:13:16,810 --> 00:13:22,810
found Hydra so I I used it so but I

194
00:13:19,060 --> 00:13:27,390
think it will also work but the drone

195
00:13:22,810 --> 00:13:27,390
that<font color="#E5E5E5"> I wrote will work for Hydra as well</font>

196
00:13:27,420 --> 00:13:38,130
so we call dusa make sure that we have

197
00:13:34,960 --> 00:13:38,130
<font color="#E5E5E5">this in our</font><font color="#CCCCCC"> foot board</font>

198
00:13:51,059 --> 00:14:00,689
should go to prudential so this is where

199
00:13:53,329 --> 00:14:03,888
do so will send its input C so we have

200
00:14:00,689 --> 00:14:06,748
the four IPS<font color="#E5E5E5"> that we put in the Medusa</font>

201
00:14:03,889 --> 00:14:11,449
somehow we were able to brute force all

202
00:14:06,749 --> 00:14:15,839
of them not really that's fake data but

203
00:14:11,449 --> 00:14:17,549
that's how you how we can import it so I

204
00:14:15,839 --> 00:14:26,369
<font color="#E5E5E5">wanted to explain a little bit about how</font>

205
00:14:17,549 --> 00:14:30,718
that works so this is<font color="#CCCCCC"> actually the drone</font>

206
00:14:26,369 --> 00:14:32,879
to get the script<font color="#E5E5E5"> it gets called and it</font>

207
00:14:30,719 --> 00:14:35,039
imports this Medusa module which is

208
00:14:32,879 --> 00:14:37,289
another python script that's actually

209
00:14:35,039 --> 00:14:40,999
doing<font color="#CCCCCC"> the parsing but it's going</font><font color="#E5E5E5"> through</font>

210
00:14:37,289 --> 00:14:43,619
<font color="#CCCCCC">knit it's so the project it requires</font>

211
00:14:40,999 --> 00:14:46,079
argument one is that project ID and<font color="#E5E5E5"> then</font>

212
00:14:43,619 --> 00:14:50,449
the argument to is the file and it sends

213
00:14:46,079 --> 00:14:54,718
it<font color="#E5E5E5"> to Medusa dot parse which is this</font>

214
00:14:50,449 --> 00:14:57,478
which I need to work on still but it

215
00:14:54,719 --> 00:15:01,319
basically just looks for success in a

216
00:14:57,479 --> 00:15:03,869
line and then it parses that line the

217
00:15:01,319 --> 00:15:06,689
data that it wants and it returns a

218
00:15:03,869 --> 00:15:12,239
dictionary and Python dictionary and

219
00:15:06,689 --> 00:15:15,029
then all those so in the back end it's

220
00:15:12,239 --> 00:15:18,869
all junk<font color="#E5E5E5"> JSON isn't what the mongo DB is</font>

221
00:15:15,029 --> 00:15:20,309
so<font color="#CCCCCC"> I'm burning those</font><font color="#E5E5E5"> two</font><font color="#CCCCCC"> JSON or</font>

222
00:15:18,869 --> 00:15:26,399
dictionaries that JSON is really easy

223
00:15:20,309 --> 00:15:31,049
and so that's<font color="#E5E5E5"> where it imports into the</font>

224
00:15:26,399 --> 00:15:35,009
lair database I wanted<font color="#E5E5E5"> to show something</font>

225
00:15:31,049 --> 00:15:38,639
else record on this what<font color="#E5E5E5"> this was the</font>

226
00:15:35,009 --> 00:15:44,609
 my Medusa file both<font color="#CCCCCC"> four lines that</font>

227
00:15:38,639 --> 00:15:49,139
were just harsh than in pudding so the

228
00:15:44,609 --> 00:15:51,089
drone module so these are<font color="#CCCCCC"> all the it's</font>

229
00:15:49,139 --> 00:15:54,269
the data model model that you have to

230
00:15:51,089 --> 00:15:57,019
import the data<font color="#CCCCCC"> all of</font><font color="#E5E5E5"> the data</font><font color="#CCCCCC"> that you</font>

231
00:15:54,269 --> 00:16:00,629
have access<font color="#CCCCCC"> to through the drones so</font>

232
00:15:57,019 --> 00:16:04,110
this<font color="#CCCCCC"> is what logs your tool way you use</font>

233
00:16:00,629 --> 00:16:08,149
the command OS I mean credentials

234
00:16:04,110 --> 00:16:12,570
pretty<font color="#E5E5E5"> self-explanatory but they're just</font>

235
00:16:08,149 --> 00:16:15,570
dictionaries with lists for Python so

236
00:16:12,570 --> 00:16:17,670
pretty pretty simple<font color="#CCCCCC"> if you have ever</font>

237
00:16:15,570 --> 00:16:20,220
done<font color="#E5E5E5"> Python before</font><font color="#CCCCCC"> I'm not</font><font color="#E5E5E5"> an expert</font>

238
00:16:17,670 --> 00:16:25,310
i've only been writing stuff in<font color="#CCCCCC"> python</font>

239
00:16:20,220 --> 00:16:29,730
for about a year and<font color="#E5E5E5"> it's pretty easy so</font>

240
00:16:25,310 --> 00:16:31,260
that may make<font color="#CCCCCC"> it so easy so that you can</font>

241
00:16:29,730 --> 00:16:33,029
if you have custom tools that you guys

242
00:16:31,260 --> 00:16:36,149
are using internally you can<font color="#CCCCCC"> easily</font>

243
00:16:33,029 --> 00:16:40,310
write something to import<font color="#CCCCCC"> your data</font><font color="#E5E5E5"> into</font>

244
00:16:36,149 --> 00:16:45,170
lair that's that's the whole point but

245
00:16:40,310 --> 00:16:50,189
see we go to the next part so we have

246
00:16:45,170 --> 00:16:52,709
the lair drones<font color="#E5E5E5"> also come with Nessus</font>

247
00:16:50,190 --> 00:16:58,740
and<font color="#CCCCCC"> expose so we'll look at some of</font>

248
00:16:52,709 --> 00:17:05,329
<font color="#E5E5E5">those vulnerabilities that it found so</font>

249
00:16:58,740 --> 00:17:05,329
right now we don't<font color="#CCCCCC"> have any obviously so</font>

250
00:17:18,210 --> 00:17:24,130
so the imports all those and it tells

251
00:17:22,150 --> 00:17:26,560
you who it was last modified by which is

252
00:17:24,130 --> 00:17:29,310
nice<font color="#CCCCCC"> so that you can tell if it was a</font>

253
00:17:26,560 --> 00:17:31,149
user or tool and who's working on what

254
00:17:29,310 --> 00:17:35,290
it'll tell you over<font color="#E5E5E5"> here on the right</font>

255
00:17:31,150 --> 00:17:37,650
side then also let's just<font color="#CCCCCC"> do the next</font>

256
00:17:35,290 --> 00:17:37,649
one

257
00:18:00,139 --> 00:18:06,330
so in

258
00:18:02,250 --> 00:18:10,800
from expose anybody think this would be

259
00:18:06,330 --> 00:18:14,370
<font color="#E5E5E5">useful I don't know we find it very</font>

260
00:18:10,800 --> 00:18:19,379
useful it helps<font color="#CCCCCC"> when we're all working</font>

261
00:18:14,370 --> 00:18:20,790
together to to stay on task and not

262
00:18:19,380 --> 00:18:23,280
duplicate the work that everyone else<font color="#E5E5E5"> is</font>

263
00:18:20,790 --> 00:18:27,330
doing if we go look at<font color="#E5E5E5"> the logs it still</font>

264
00:18:23,280 --> 00:18:29,670
<font color="#E5E5E5">shows us all</font><font color="#CCCCCC"> the commands for each tool</font>

265
00:18:27,330 --> 00:18:32,699
that we used even<font color="#E5E5E5"> though</font><font color="#CCCCCC"> the next post</font>

266
00:18:29,670 --> 00:18:35,940
scans pretty generic and<font color="#CCCCCC"> nessus shows us</font>

267
00:18:32,700 --> 00:18:39,690
the Medusa humanity ran and the other

268
00:18:35,940 --> 00:18:41,100
and maps can and then everything<font color="#CCCCCC"> else so</font>

269
00:18:39,690 --> 00:18:49,770
it's very auditable if you want to see

270
00:18:41,100 --> 00:18:52,620
who's done what and where so there's

271
00:18:49,770 --> 00:18:57,030
another tool that<font color="#E5E5E5"> I wrote another drone</font>

272
00:18:52,620 --> 00:19:01,290
for called the harvesters anyone heard

273
00:18:57,030 --> 00:19:03,690
of the harvester before great a pretty

274
00:19:01,290 --> 00:19:08,040
<font color="#E5E5E5">cool little recon tool to look at a</font>

275
00:19:03,690 --> 00:19:11,030
domain and see who works there how they

276
00:19:08,040 --> 00:19:14,399
have their email addresses and<font color="#CCCCCC"> whatnot</font>

277
00:19:11,030 --> 00:19:19,170
<font color="#E5E5E5">but it just does searches on on google</font>

278
00:19:14,400 --> 00:19:27,390
and<font color="#CCCCCC"> LinkedIn and a few other things so</font>

279
00:19:19,170 --> 00:19:31,770
you<font color="#E5E5E5"> just look at it so so Google people</font>

280
00:19:27,390 --> 00:19:35,400
PNG<font color="#E5E5E5"> PGP google profiles a ghost google+</font>

281
00:19:31,770 --> 00:19:38,240
now being dick shot jigsaw linkedin<font color="#E5E5E5"> and</font>

282
00:19:35,400 --> 00:19:41,850
all so let<font color="#E5E5E5"> me just run a quick one</font><font color="#CCCCCC"> i</font>

283
00:19:38,240 --> 00:19:45,510
just did<font color="#E5E5E5"> it on b-sides slc fellow or</font>

284
00:19:41,850 --> 00:19:47,820
hope<font color="#CCCCCC"> John doesn't care good thing</font><font color="#E5E5E5"> about</font>

285
00:19:45,510 --> 00:19:50,850
it<font color="#E5E5E5"> is it never never touches anything</font>

286
00:19:47,820 --> 00:19:52,470
that you're<font color="#E5E5E5"> looking up so just using</font>

287
00:19:50,850 --> 00:19:57,959
google<font color="#E5E5E5"> and other sources to find that</font>

288
00:19:52,470 --> 00:19:58,759
data so this might be kind<font color="#E5E5E5"> of slow so I</font>

289
00:19:57,960 --> 00:20:01,639
what

290
00:19:58,759 --> 00:20:03,589
as I give it the domain and then the

291
00:20:01,639 --> 00:20:06,948
amount of results you want from each

292
00:20:03,589 --> 00:20:08,719
service so tan and then what service you

293
00:20:06,949 --> 00:20:29,589
want<font color="#E5E5E5"> I just did all and then it exports</font>

294
00:20:08,719 --> 00:20:36,489
it to xml so now give us emails found

295
00:20:29,589 --> 00:20:42,829
didn't find any people<font color="#CCCCCC"> host information</font>

296
00:20:36,489 --> 00:20:44,419
pretty cool pretty simple so<font color="#CCCCCC"> I wrote</font>

297
00:20:42,829 --> 00:20:48,190
drone<font color="#E5E5E5"> just a</font><font color="#CCCCCC"> process that information</font>

298
00:20:44,419 --> 00:20:48,190
and put into layer

299
00:21:00,510 --> 00:21:06,480
so there really isn't<font color="#E5E5E5"> anything for like</font>

300
00:21:03,960 --> 00:21:07,830
recon like that for like<font color="#E5E5E5"> a phishing</font>

301
00:21:06,480 --> 00:21:11,070
attack or<font color="#CCCCCC"> anything like that so I i</font>

302
00:21:07,830 --> 00:21:12,720
could put these into like notes but<font color="#CCCCCC"> i</font>

303
00:21:11,070 --> 00:21:13,830
chose<font color="#E5E5E5"> to put them into credentials even</font>

304
00:21:12,720 --> 00:21:18,710
though they're not credentials they're

305
00:21:13,830 --> 00:21:21,270
just could be<font color="#CCCCCC"> user names or whatever so</font>

306
00:21:18,710 --> 00:21:30,600
we'll run it and it should populate with

307
00:21:21,270 --> 00:21:33,320
a few more<font color="#CCCCCC"> usernames there we go so it's</font>

308
00:21:30,600 --> 00:21:38,760
got Shawn got<font color="#E5E5E5"> Jackson it besides admin</font>

309
00:21:33,320 --> 00:21:45,360
some really weird email address and just

310
00:21:38,760 --> 00:21:47,430
the b-sides org so now that<font color="#CCCCCC"> we've got</font>

311
00:21:45,360 --> 00:21:51,570
all<font color="#E5E5E5"> of our data in there it's time to go</font>

312
00:21:47,430 --> 00:21:55,710
through<font color="#E5E5E5"> it and see what's relevant to us</font>

313
00:21:51,570 --> 00:22:00,540
and so you<font color="#E5E5E5"> can actually with lair you</font>

314
00:21:55,710 --> 00:22:06,630
can run client-side scripts<font color="#CCCCCC"> just from</font>

315
00:22:00,540 --> 00:22:11,310
the console log and and see or and

316
00:22:06,630 --> 00:22:13,680
manipulate the data so we'll do<font color="#E5E5E5"> that</font>

317
00:22:11,310 --> 00:22:22,290
real quick hope you guys<font color="#E5E5E5"> don't mind</font>

318
00:22:13,680 --> 00:22:25,110
getting out early so but so these<font color="#E5E5E5"> are</font>

319
00:22:22,290 --> 00:22:27,840
really<font color="#E5E5E5"> easy to write so these are just</font><font color="#CCCCCC"> a</font>

320
00:22:25,110 --> 00:22:29,879
couple so I call<font color="#CCCCCC"> this function orange</font>

321
00:22:27,840 --> 00:22:34,409
it'll go in and change<font color="#E5E5E5"> everything orange</font>

322
00:22:29,880 --> 00:22:37,040
that has any type of credential like any

323
00:22:34,410 --> 00:22:44,790
type of either username or password

324
00:22:37,040 --> 00:22:47,190
doesn't matter blue sea blue if this if

325
00:22:44,790 --> 00:22:55,680
the OS hasn't been determined yet on a

326
00:22:47,190 --> 00:22:59,100
host read it will change it to<font color="#E5E5E5"> no that's</font>

327
00:22:55,680 --> 00:23:00,780
the<font color="#E5E5E5"> wrong one red if the vulnerability</font>

328
00:22:59,100 --> 00:23:02,550
is above and if a host has a

329
00:23:00,780 --> 00:23:05,610
vulnerability above an eight then<font color="#E5E5E5"> it'll</font>

330
00:23:02,550 --> 00:23:08,340
turn everything red and then green will

331
00:23:05,610 --> 00:23:10,620
change you'll be able to select<font color="#E5E5E5"> all the</font>

332
00:23:08,340 --> 00:23:13,230
vulnerabilities by a certain name giving

333
00:23:10,620 --> 00:23:21,689
you some<font color="#E5E5E5"> regex so you just</font>

334
00:23:13,230 --> 00:23:25,530
just copy these and<font color="#E5E5E5"> just paste them</font>

335
00:23:21,690 --> 00:23:36,260
right in and they worked awesome so

336
00:23:25,530 --> 00:23:36,260
we'll just<font color="#E5E5E5"> run orange checked it wrong</font>

337
00:23:37,429 --> 00:23:43,350
<font color="#E5E5E5">okay so you stop blink and then it</font>

338
00:23:39,900 --> 00:23:45,750
didn't change so we have to first go in

339
00:23:43,350 --> 00:23:48,240
and change the settings to allow client

340
00:23:45,750 --> 00:23:49,260
site updates<font color="#E5E5E5"> just because you can run</font>

341
00:23:48,240 --> 00:23:51,330
your own scripts on<font color="#E5E5E5"> the client that's</font>

342
00:23:49,260 --> 00:23:54,570
bad for any kind<font color="#E5E5E5"> of other web</font>

343
00:23:51,330 --> 00:23:57,809
application but since<font color="#E5E5E5"> you're doing your</font>

344
00:23:54,570 --> 00:24:01,799
testing it's<font color="#CCCCCC"> okay so we'll go</font><font color="#E5E5E5"> back into</font>

345
00:23:57,809 --> 00:24:04,980
it whip arrow we're running again so

346
00:24:01,799 --> 00:24:07,559
everyone ow we have all the hosts that

347
00:24:04,980 --> 00:24:10,860
have<font color="#E5E5E5"> a credential either a username or</font>

348
00:24:07,559 --> 00:24:14,760
password and<font color="#E5E5E5"> so we can just focus on</font>

349
00:24:10,860 --> 00:24:19,110
those ones for now or we<font color="#CCCCCC"> can run script</font>

350
00:24:14,760 --> 00:24:20,100
blue and now we know all the ones that

351
00:24:19,110 --> 00:24:23,939
we probably aren't going to worry<font color="#E5E5E5"> about</font>

352
00:24:20,100 --> 00:24:27,750
or probably<font color="#CCCCCC"> just need more recon to find</font>

353
00:24:23,940 --> 00:24:33,480
out what the OS is for each of those and

354
00:24:27,750 --> 00:24:35,520
then do<font color="#E5E5E5"> red so red will change the host</font>

355
00:24:33,480 --> 00:24:41,450
and also in the vulnerabilities tab it

356
00:24:35,520 --> 00:24:52,620
will change the ones that are above<font color="#E5E5E5"> 82</font>

357
00:24:41,450 --> 00:24:56,100
<font color="#E5E5E5">to read so so those two something wicked</font>

358
00:24:52,620 --> 00:24:57,899
in eb e both have vulnerabilities that

359
00:24:56,100 --> 00:25:01,500
are above an<font color="#E5E5E5"> eight which could be</font>

360
00:24:57,900 --> 00:25:03,390
exploitable within the pen test and then

361
00:25:01,500 --> 00:25:05,030
it marks on both red and it's flash

362
00:25:03,390 --> 00:25:08,929
player for mac hasn't been updated

363
00:25:05,030 --> 00:25:12,960
that's<font color="#E5E5E5"> I never worked for anybody right</font>

364
00:25:08,929 --> 00:25:21,169
<font color="#CCCCCC">and then the last one we can do is green</font>

365
00:25:12,960 --> 00:25:21,169
and we just give it some<font color="#E5E5E5"> regex see you</font>

366
00:25:24,380 --> 00:25:36,350
so you kept on and kept it wrong

367
00:25:45,110 --> 00:25:50,149
there we go so<font color="#CCCCCC"> now everything as</font>

368
00:25:48,130 --> 00:25:54,679
vulnerable has a vulnerability for

369
00:25:50,150 --> 00:25:57,920
Apache is highlighted pretty simple<font color="#CCCCCC"> you</font>

370
00:25:54,679 --> 00:25:58,940
can do that<font color="#E5E5E5"> with any any other thing</font>

371
00:25:57,920 --> 00:26:13,690
that you want if you want to highlight

372
00:25:58,940 --> 00:26:17,390
SSH or or whatnot so<font color="#E5E5E5"> okay so that's</font>

373
00:26:13,690 --> 00:26:18,980
pretty much what layer can do so now if

374
00:26:17,390 --> 00:26:21,140
you go to<font color="#E5E5E5"> the front page eat all your</font>

375
00:26:18,980 --> 00:26:24,110
colors that you've changed them to show

376
00:26:21,140 --> 00:26:26,000
up in these little little<font color="#CCCCCC"> Donuts I don't</font>

377
00:26:24,110 --> 00:26:30,549
know why services services don't have

378
00:26:26,000 --> 00:26:33,740
colors so they're always<font color="#CCCCCC"> gray but</font>

379
00:26:30,549 --> 00:26:35,179
another cool thing if<font color="#E5E5E5"> you're a pen</font>

380
00:26:33,740 --> 00:26:37,790
tester and you're working<font color="#E5E5E5"> for some</font>

381
00:26:35,179 --> 00:26:41,690
client you<font color="#CCCCCC"> can export all the data that</font>

382
00:26:37,790 --> 00:26:44,320
<font color="#E5E5E5">you found you neither export it to some</font>

383
00:26:41,690 --> 00:26:47,809
server or you can just download it and

384
00:26:44,320 --> 00:26:50,480
then send it to them somehow but it's

385
00:26:47,809 --> 00:26:52,760
just a JSON file of everything that you

386
00:26:50,480 --> 00:26:54,290
found and they could<font color="#CCCCCC"> just if they wanted</font>

387
00:26:52,760 --> 00:26:59,840
<font color="#E5E5E5">to throw up a layer and then import it</font>

388
00:26:54,290 --> 00:27:07,280
and look at it it's pretty<font color="#E5E5E5"> cool so it's</font>

389
00:26:59,840 --> 00:27:13,730
open source it's on github<font color="#CCCCCC"> ch.1 so you</font>

390
00:27:07,280 --> 00:27:16,820
up here layer dash framework / layer so

391
00:27:13,730 --> 00:27:19,700
they Tom<font color="#CCCCCC"> steal tweeted a while back that</font>

392
00:27:16,820 --> 00:27:21,250
<font color="#E5E5E5">they're working</font><font color="#CCCCCC"> on version too so</font>

393
00:27:19,700 --> 00:27:23,750
hopefully it can come with some more

394
00:27:21,250 --> 00:27:25,820
advanced stuff but I think it's very

395
00:27:23,750 --> 00:27:31,910
<font color="#E5E5E5">simple and pretty effective and what it</font>

396
00:27:25,820 --> 00:27:34,340
is right now and I don't know<font color="#E5E5E5"> I have so</font>

397
00:27:31,910 --> 00:27:36,770
this harvester is all the tools that<font color="#E5E5E5"> i</font>

398
00:27:34,340 --> 00:27:39,559
use for open source and go find and add

399
00:27:36,770 --> 00:27:42,350
<font color="#CCCCCC">tune</font><font color="#E5E5E5"> layer drones are there as well if</font>

400
00:27:39,559 --> 00:27:44,870
you there's a whole<font color="#E5E5E5"> bunch of browser</font>

401
00:27:42,350 --> 00:27:46,639
scripts that you can run that are

402
00:27:44,870 --> 00:27:49,879
already written as well they can do

403
00:27:46,640 --> 00:27:53,090
certain things like the ones that<font color="#E5E5E5"> I ran</font>

404
00:27:49,880 --> 00:27:54,950
to change the colors you can specify to

405
00:27:53,090 --> 00:27:59,480
count every object or whatever you want

406
00:27:54,950 --> 00:28:02,250
it to do<font color="#CCCCCC"> so sky's the limit really</font>

407
00:27:59,480 --> 00:28:09,380
that's pretty<font color="#E5E5E5"> much it I don't know</font>

408
00:28:02,250 --> 00:28:09,380
anybody having questions or concerns

409
00:28:12,290 --> 00:28:26,040
yeah I thought<font color="#E5E5E5"> I thought there was maybe</font>

410
00:28:15,360 --> 00:28:41,010
I didn't look like there was don't see

411
00:28:26,040 --> 00:28:42,570
you burp there like in so like<font color="#E5E5E5"> if you</font>

412
00:28:41,010 --> 00:28:59,070
get a vulnerability and vulnerabilities

413
00:28:42,570 --> 00:29:01,200
to have to find those or yeah so<font color="#E5E5E5"> I have</font>

414
00:28:59,070 --> 00:29:03,360
it I took most of my time in the lair

415
00:29:01,200 --> 00:29:06,049
drones part I haven't done much of the

416
00:29:03,360 --> 00:29:09,000
development in the lair art but I

417
00:29:06,049 --> 00:29:10,830
actually wanted<font color="#CCCCCC"> to because I've if you</font>

418
00:29:09,000 --> 00:29:13,380
look at meteor meteor is awesome and I

419
00:29:10,830 --> 00:29:16,470
really want to get in and learn and dig

420
00:29:13,380 --> 00:29:19,020
deep into meteor so but I imagine it's

421
00:29:16,470 --> 00:29:20,850
as simple as just adding something in a

422
00:29:19,020 --> 00:29:22,850
tab and then creating a collection and

423
00:29:20,850 --> 00:29:26,639
the database for for something like<font color="#E5E5E5"> that</font>

424
00:29:22,850 --> 00:29:30,360
<font color="#CCCCCC">I'm pretty sure if you have a developer</font>

425
00:29:26,640 --> 00:29:33,620
on staff that could you just fork it in

426
00:29:30,360 --> 00:29:53,850
that at yourself for or whatever but

427
00:29:33,620 --> 00:29:55,139
yeah it just spins sometimes yeah so

428
00:29:53,850 --> 00:30:00,199
pen test we've used on<font color="#E5E5E5"> this has been</font>

429
00:29:55,140 --> 00:30:02,669
<font color="#E5E5E5">network pen testing as well not now so</font>

430
00:30:00,200 --> 00:30:04,559
but<font color="#E5E5E5"> I'll going to look into doing that</font>

431
00:30:02,669 --> 00:30:13,410
so we have another pen test coming up so

432
00:30:04,559 --> 00:30:15,860
yeah John someone's got questions if not

433
00:30:13,410 --> 00:30:15,860
that's it

