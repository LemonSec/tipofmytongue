1
00:00:00,000 --> 00:00:05,819
so what we're going to be talking about

2
00:00:01,530 --> 00:00:07,649
<font color="#E5E5E5">today is red team this goes beyond a</font>

3
00:00:05,819 --> 00:00:10,500
little bit more<font color="#CCCCCC"> than what a typical</font>

4
00:00:07,649 --> 00:00:12,030
<font color="#CCCCCC">pentest typical engagement is if you</font>

5
00:00:10,500 --> 00:00:14,580
were here for<font color="#E5E5E5"> the manipulating GUI</font>

6
00:00:12,030 --> 00:00:19,380
elements I'm sorry I'm not decaf I know

7
00:00:14,580 --> 00:00:21,480
it's a letdown but close second maybe so

8
00:00:19,380 --> 00:00:23,250
a little bit about me<font color="#E5E5E5"> i work for dell</font>

9
00:00:21,480 --> 00:00:25,670
secureworks<font color="#CCCCCC"> i'm one of the red team</font>

10
00:00:23,250 --> 00:00:28,948
members kind of just hanging out

11
00:00:25,670 --> 00:00:31,410
<font color="#CCCCCC">specialized in</font><font color="#E5E5E5"> apps act net tech mobile</font>

12
00:00:28,949 --> 00:00:33,809
security generally speaking i'm working

13
00:00:31,410 --> 00:00:35,460
with a team of two to four guys<font color="#CCCCCC"> i've got</font>

14
00:00:33,809 --> 00:00:37,559
guys on site that are breaking in

15
00:00:35,460 --> 00:00:40,800
dropping boxes on your network once

16
00:00:37,559 --> 00:00:43,320
they're in it's my game of where you'll

17
00:00:40,800 --> 00:00:46,500
find me<font color="#CCCCCC"> make me Mac on Twitter you'll</font>

18
00:00:43,320 --> 00:00:48,690
find<font color="#E5E5E5"> me on IRC on freenode usually</font>

19
00:00:46,500 --> 00:00:51,840
hanging out in the DC 801 chat room etc

20
00:00:48,690 --> 00:00:54,390
etc etc just were to note this does not

21
00:00:51,840 --> 00:01:00,030
endorse say anything for<font color="#CCCCCC"> secureworks I'm</font>

22
00:00:54,390 --> 00:01:01,739
speaking on my own today so about you

23
00:01:00,030 --> 00:01:03,750
who in here are my blue team does

24
00:01:01,739 --> 00:01:08,580
network security defense at your

25
00:01:03,750 --> 00:01:14,159
organization's<font color="#CCCCCC"> cumplea what about GRC</font>

26
00:01:08,580 --> 00:01:18,920
compliance guys that who in here are my

27
00:01:14,159 --> 00:01:21,180
professional pen testers yeah what about

28
00:01:18,920 --> 00:01:28,770
<font color="#CCCCCC">huling here is</font><font color="#E5E5E5"> responsible for your</font>

29
00:01:21,180 --> 00:01:30,869
organization security well first off the

30
00:01:28,770 --> 00:01:32,939
GRC you guys get<font color="#E5E5E5"> out</font><font color="#CCCCCC"> of here no</font><font color="#E5E5E5"> just</font>

31
00:01:30,869 --> 00:01:36,420
kidding you guys make my life easy make

32
00:01:32,939 --> 00:01:38,758
user sloppy but blue team members thanks

33
00:01:36,420 --> 00:01:41,100
you<font color="#E5E5E5"> guys do get a lot of good work work</font>

34
00:01:38,759 --> 00:01:43,890
long hard hours you're doing what you

35
00:01:41,100 --> 00:01:45,780
got to do the pen testers keep doing

36
00:01:43,890 --> 00:01:48,210
what you're doing let's keep fighting

37
00:01:45,780 --> 00:01:49,619
this good fight and for who and here is

38
00:01:48,210 --> 00:01:51,658
<font color="#E5E5E5">responsible for your security I'm</font>

39
00:01:49,619 --> 00:01:55,049
disappointed every one of<font color="#E5E5E5"> your</font><font color="#CCCCCC"> shutter</font>

40
00:01:51,659 --> 00:01:58,590
<font color="#E5E5E5">raise your damn</font><font color="#CCCCCC"> hand because</font><font color="#E5E5E5"> just</font>

41
00:01:55,049 --> 00:02:01,409
because you're not an admin just because

42
00:01:58,590 --> 00:02:04,890
you're not involved in security doesn't

43
00:02:01,409 --> 00:02:06,689
mean I'm not<font color="#E5E5E5"> going to exploit to you to</font>

44
00:02:04,890 --> 00:02:11,099
get break your company security by you

45
00:02:06,689 --> 00:02:13,280
clicking my link<font color="#E5E5E5"> I win and you cost your</font>

46
00:02:11,099 --> 00:02:17,350
company 191 million

47
00:02:13,280 --> 00:02:17,350
like what happened to target last year

48
00:02:19,870 --> 00:02:27,590
I've forgotten put<font color="#E5E5E5"> on fancy animations</font>

49
00:02:25,310 --> 00:02:29,330
in and not even usually<font color="#E5E5E5"> it was let's</font>

50
00:02:27,590 --> 00:02:31,940
start with some<font color="#E5E5E5"> quick definitions here</font>

51
00:02:29,330 --> 00:02:33,620
about what a red team is and what's the

52
00:02:31,940 --> 00:02:35,329
defining factors and what's the

53
00:02:33,620 --> 00:02:38,770
differences so who and here knows a lot

54
00:02:35,330 --> 00:02:42,010
of vulnerability assessment is anybody

55
00:02:38,770 --> 00:02:50,630
what's the vulnerability assessment

56
00:02:42,010 --> 00:02:52,160
Danny do you actually exploit them do

57
00:02:50,630 --> 00:02:58,040
you actually go in and do you do more

58
00:02:52,160 --> 00:02:59,720
with it great it's exactly<font color="#E5E5E5"> right all I'm</font>

59
00:02:58,040 --> 00:03:01,519
<font color="#CCCCCC">doing is I'm going to</font><font color="#E5E5E5"> scan to agenta</font>

60
00:02:59,720 --> 00:03:05,209
scan look at what's running let's

61
00:03:01,519 --> 00:03:07,069
listening there you go how about a pen

62
00:03:05,209 --> 00:03:10,640
test then those<font color="#E5E5E5"> little penetration test</font>

63
00:03:07,069 --> 00:03:24,798
is what<font color="#E5E5E5"> would be a penetration test what</font>

64
00:03:10,640 --> 00:03:27,048
would I be doing different definitely on

65
00:03:24,799 --> 00:03:29,660
by the way I didn't say this<font color="#E5E5E5"> I'm going</font>

66
00:03:27,049 --> 00:03:31,790
to be<font color="#E5E5E5"> asking questions please give me</font>

67
00:03:29,660 --> 00:03:34,459
feedback talk back let me know if you

68
00:03:31,790 --> 00:03:36,890
have questions concerns comments please

69
00:03:34,459 --> 00:03:38,209
chime in you know I don't want to be

70
00:03:36,890 --> 00:03:40,279
just standing up here to talk i'll

71
00:03:38,209 --> 00:03:42,440
actually want to give you<font color="#E5E5E5"> guys some good</font>

72
00:03:40,280 --> 00:03:47,630
information something you can take back

73
00:03:42,440 --> 00:03:49,730
to your organization yep generally

74
00:03:47,630 --> 00:03:52,250
speaking<font color="#CCCCCC"> i'm going to find</font><font color="#E5E5E5"> us vulnerable</font>

75
00:03:49,730 --> 00:03:54,890
service<font color="#CCCCCC"> i'ma find every vulnerability</font><font color="#E5E5E5"> i</font>

76
00:03:52,250 --> 00:03:56,690
can on your network<font color="#E5E5E5"> i'm going to make</font>

77
00:03:54,890 --> 00:03:59,440
<font color="#CCCCCC">sure i can penetrate those i'm going to</font>

78
00:03:56,690 --> 00:04:02,359
document patches fix it here is

79
00:03:59,440 --> 00:04:05,120
<font color="#CCCCCC">everything usually limited the scope</font>

80
00:04:02,359 --> 00:04:07,010
though meaning<font color="#CCCCCC"> i'm coming in i'm doing a</font>

81
00:04:05,120 --> 00:04:08,690
network<font color="#CCCCCC"> pentesting i'm not looking at</font>

82
00:04:07,010 --> 00:04:10,700
all your applications I'm not looking<font color="#E5E5E5"> at</font>

83
00:04:08,690 --> 00:04:14,000
your mobile I'm not social engineering

84
00:04:10,700 --> 00:04:15,470
your users oh it's a webapp lesesne<font color="#CCCCCC"> okay</font>

85
00:04:14,000 --> 00:04:17,630
i'm looking at just<font color="#E5E5E5"> these web</font>

86
00:04:15,470 --> 00:04:19,450
applications<font color="#CCCCCC"> i'm not</font><font color="#E5E5E5"> looking at the</font>

87
00:04:17,630 --> 00:04:23,840
<font color="#E5E5E5">network I'm not looking at everything</font>

88
00:04:19,450 --> 00:04:25,580
now here's the fun<font color="#CCCCCC"> Red Team this</font><font color="#E5E5E5"> is</font>

89
00:04:23,840 --> 00:04:28,810
<font color="#E5E5E5">where it gets good who in here knows</font>

90
00:04:25,580 --> 00:04:28,810
what a red team<font color="#E5E5E5"> minutes</font>

91
00:04:30,460 --> 00:05:04,698
yeah yes to an extent so one thing about

92
00:04:59,779 --> 00:05:07,520
it is especially in terms of IT what is

93
00:05:04,699 --> 00:05:11,779
your environment so for<font color="#E5E5E5"> example your</font>

94
00:05:07,520 --> 00:05:14,840
users your applications your network

95
00:05:11,779 --> 00:05:17,750
your physical security your environment

96
00:05:14,840 --> 00:05:19,969
everything you<font color="#E5E5E5"> have that is in scope for</font>

97
00:05:17,750 --> 00:05:21,740
me so if<font color="#E5E5E5"> I want to come in pick a lock</font>

98
00:05:19,969 --> 00:05:24,409
at two in the morning walk in and drop a

99
00:05:21,740 --> 00:05:27,919
box great I'll do it I want a social

100
00:05:24,409 --> 00:05:29,810
engineer your CEO get him to click link

101
00:05:27,919 --> 00:05:32,870
because there's new article out in

102
00:05:29,810 --> 00:05:34,389
Harvard Business about hey securities

103
00:05:32,870 --> 00:05:37,509
great you need to come read this article

104
00:05:34,389 --> 00:05:40,550
well that's a lie stroke it's laced PDF

105
00:05:37,509 --> 00:05:43,639
we went the other fun thing about this

106
00:05:40,550 --> 00:05:45,860
is i am not looking for every

107
00:05:43,639 --> 00:05:48,860
vulnerability on your network it doesn't

108
00:05:45,860 --> 00:05:51,050
matter if<font color="#E5E5E5"> you've got em SOS 67 on four</font>

109
00:05:48,860 --> 00:05:53,360
hundred boxes sitting across<font color="#E5E5E5"> the network</font>

110
00:05:51,050 --> 00:05:54,740
if they're<font color="#E5E5E5"> not going to help me</font><font color="#CCCCCC"> i'm</font><font color="#E5E5E5"> not</font>

111
00:05:53,360 --> 00:05:56,839
going<font color="#CCCCCC"> to explode it and i'm not going to</font>

112
00:05:54,740 --> 00:05:58,939
put that<font color="#E5E5E5"> in my report because i'm not</font>

113
00:05:56,839 --> 00:06:02,060
going to<font color="#E5E5E5"> be looking for my job is to</font>

114
00:05:58,939 --> 00:06:05,120
come in undetected so you don't know I'm

115
00:06:02,060 --> 00:06:07,610
there generally speaking<font color="#E5E5E5"> I get on to</font>

116
00:06:05,120 --> 00:06:13,520
your network you will never know I'm

117
00:06:07,610 --> 00:06:17,180
there unless<font color="#E5E5E5"> I do so danger I'm</font>

118
00:06:13,520 --> 00:06:19,639
going<font color="#E5E5E5"> to say this up front with a red</font>

119
00:06:17,180 --> 00:06:21,319
team engagement this<font color="#CCCCCC"> is for companies</font>

120
00:06:19,639 --> 00:06:25,129
that have an established security

121
00:06:21,319 --> 00:06:27,830
practice they know how to monitor their

122
00:06:25,129 --> 00:06:29,180
logs they have patch management they

123
00:06:27,830 --> 00:06:32,210
have firewalls they've got security

124
00:06:29,180 --> 00:06:34,639
teams compliance teams so i can promise

125
00:06:32,210 --> 00:06:37,580
you if<font color="#CCCCCC"> you don't have it you will never</font>

126
00:06:34,639 --> 00:06:40,280
know I'm there<font color="#E5E5E5"> and likelihood is you are</font>

127
00:06:37,580 --> 00:06:43,188
pissed off at the end<font color="#E5E5E5"> of this report</font>

128
00:06:40,280 --> 00:06:45,559
when I walked<font color="#E5E5E5"> in sat down to the cube</font>

129
00:06:43,189 --> 00:06:48,319
none of your users questioned me I

130
00:06:45,560 --> 00:06:50,599
logged<font color="#CCCCCC"> into your shares oh wait</font><font color="#E5E5E5"> a</font><font color="#CCCCCC"> minute</font>

131
00:06:48,319 --> 00:06:53,689
here's the<font color="#E5E5E5"> master password list included</font>

132
00:06:50,599 --> 00:06:57,710
your domain admin great where's<font color="#E5E5E5"> that</font>

133
00:06:53,689 --> 00:06:58,939
sequel server bingo game over i won<font color="#E5E5E5"> I</font>

134
00:06:57,710 --> 00:07:02,780
walked out with your credit card

135
00:06:58,939 --> 00:07:06,099
database you up left it wide open

136
00:07:02,780 --> 00:07:08,659
for me<font color="#E5E5E5"> I walked out I'm done in the day</font>

137
00:07:06,099 --> 00:07:10,400
reports going<font color="#E5E5E5"> to rep represent that</font>

138
00:07:08,659 --> 00:07:12,830
you're going to be bitter<font color="#E5E5E5"> and hurt</font>

139
00:07:10,400 --> 00:07:15,830
because hey this this isn't<font color="#CCCCCC"> fair you</font>

140
00:07:12,830 --> 00:07:21,620
didn't give us anything and frankly the

141
00:07:15,830 --> 00:07:24,050
waste<font color="#E5E5E5"> of my tummy so as I said this is</font>

142
00:07:21,620 --> 00:07:29,000
for established companies this is your

143
00:07:24,050 --> 00:07:31,969
fortune 500 your large institutions that

144
00:07:29,000 --> 00:07:33,590
really need that but that's not to say

145
00:07:31,969 --> 00:07:35,689
that<font color="#CCCCCC"> every company shouldn't be striving</font>

146
00:07:33,590 --> 00:07:37,969
for this so you're a small company of 20

147
00:07:35,689 --> 00:07:40,039
people big deal you've<font color="#E5E5E5"> got an</font>

148
00:07:37,969 --> 00:07:41,960
established security practices and built

149
00:07:40,039 --> 00:07:43,219
your organization you've gone through

150
00:07:41,960 --> 00:07:46,489
<font color="#CCCCCC">pen test you've gone through moaner</font>

151
00:07:43,219 --> 00:07:49,219
ability assessments regularly now let's

152
00:07:46,490 --> 00:07:53,089
going to red team in to tell you hey

153
00:07:49,219 --> 00:07:56,029
this is where you risk still are so a

154
00:07:53,089 --> 00:07:58,430
little bit<font color="#E5E5E5"> of a creepy story here how</font>

155
00:07:56,029 --> 00:08:04,190
many<font color="#CCCCCC"> of you in here outsource your</font>

156
00:07:58,430 --> 00:08:06,250
printer maintenance anybody printer

157
00:08:04,190 --> 00:08:08,509
maintenance you got your big

158
00:08:06,250 --> 00:08:11,719
multifunction printers copier scanner

159
00:08:08,509 --> 00:08:16,039
fax machines all in all do everything

160
00:08:11,719 --> 00:08:18,469
right how many so<font color="#E5E5E5"> outsource the printer</font>

161
00:08:16,039 --> 00:08:20,029
maintenance<font color="#CCCCCC"> okay or have to call in a</font>

162
00:08:18,469 --> 00:08:21,770
third-party repair company from time to

163
00:08:20,029 --> 00:08:25,099
time<font color="#E5E5E5"> because</font><font color="#CCCCCC"> you don't have the</font><font color="#E5E5E5"> in-house</font>

164
00:08:21,770 --> 00:08:28,460
staff and technical parts let's take

165
00:08:25,099 --> 00:08:30,319
<font color="#E5E5E5">care</font><font color="#CCCCCC"> of it how many</font><font color="#E5E5E5"> of you in here would</font>

166
00:08:28,460 --> 00:08:33,159
think that your printer will give<font color="#E5E5E5"> away</font>

167
00:08:30,319 --> 00:08:33,159
your entire network

168
00:08:34,328 --> 00:08:39,319
you're right so here's something to

169
00:08:37,190 --> 00:08:43,190
think about<font color="#E5E5E5"> co-worker of mine</font><font color="#CCCCCC"> use this</font>

170
00:08:39,320 --> 00:08:46,490
walked in wearing a Technicolor shirt to

171
00:08:43,190 --> 00:08:49,430
service a printer locked up put a box in

172
00:08:46,490 --> 00:08:50,870
line<font color="#CCCCCC"> two ports started capturing traffic</font>

173
00:08:49,430 --> 00:08:52,550
they'll credit to the back of<font color="#CCCCCC"> the</font>

174
00:08:50,870 --> 00:08:54,200
<font color="#E5E5E5">printer you know pull the printer apart</font>

175
00:08:52,550 --> 00:08:59,349
a little bit put it back together walked

176
00:08:54,200 --> 00:09:03,019
out came back a week later grab the box

177
00:08:59,350 --> 00:09:04,970
went home hold the creds<font color="#CCCCCC"> off hold the</font>

178
00:09:03,019 --> 00:09:08,120
traffic off it hold the creds out of it

179
00:09:04,970 --> 00:09:14,480
less<font color="#CCCCCC"> than three days later full domain</font>

180
00:09:08,120 --> 00:09:17,660
admin remotely think about it will kind

181
00:09:14,480 --> 00:09:20,779
of get back to that<font color="#CCCCCC"> a little</font><font color="#E5E5E5"> bit stop in</font>

182
00:09:17,660 --> 00:09:27,800
red team can it<font color="#CCCCCC"> be done who thinks it</font>

183
00:09:20,779 --> 00:09:30,769
could but is it easy no so what I'm

184
00:09:27,800 --> 00:09:33,380
hoping and this is<font color="#E5E5E5"> kind of where I'm at</font>

185
00:09:30,769 --> 00:09:35,570
as I want to show you how you would stop

186
00:09:33,380 --> 00:09:38,839
someone like me how you would stop my

187
00:09:35,570 --> 00:09:41,180
team when<font color="#E5E5E5"> we come on site or when</font><font color="#CCCCCC"> we're</font>

188
00:09:38,839 --> 00:09:45,800
<font color="#CCCCCC">an area because if you're not paying</font>

189
00:09:41,180 --> 00:09:48,019
attention you're<font color="#E5E5E5"> going to lose it we got</font>

190
00:09:45,800 --> 00:09:51,290
three high levels of touch points we

191
00:09:48,019 --> 00:09:54,440
<font color="#CCCCCC">have physical security human security</font>

192
00:09:51,290 --> 00:09:56,510
information systems security those are

193
00:09:54,440 --> 00:10:00,680
<font color="#CCCCCC">the three</font><font color="#E5E5E5"> areas within an organization</font>

194
00:09:56,510 --> 00:10:04,010
that make up your security posture as we

195
00:10:00,680 --> 00:10:11,390
said before a<font color="#CCCCCC"> lapsim one will lead you</font>

196
00:10:04,010 --> 00:10:14,959
<font color="#CCCCCC">to a full compromise to this little</font>

197
00:10:11,390 --> 00:10:17,660
hofstra just kind of a<font color="#CCCCCC"> little diagram of</font>

198
00:10:14,959 --> 00:10:22,369
what<font color="#E5E5E5"> I'm saying</font><font color="#CCCCCC"> here and they all</font>

199
00:10:17,660 --> 00:10:24,469
interact humans and we as humans we use

200
00:10:22,370 --> 00:10:27,920
<font color="#E5E5E5">information security we use technology</font>

201
00:10:24,470 --> 00:10:31,220
we go into<font color="#E5E5E5"> that the human factor also</font>

202
00:10:27,920 --> 00:10:33,260
allows for<font color="#CCCCCC"> the physical how many</font><font color="#E5E5E5"> of you</font>

203
00:10:31,220 --> 00:10:36,829
in<font color="#E5E5E5"> it here have ever tailgated someone</font>

204
00:10:33,260 --> 00:10:39,890
walking in or out<font color="#CCCCCC"> of a building great</font>

205
00:10:36,829 --> 00:10:42,319
how many how many of you in here have

206
00:10:39,890 --> 00:10:44,110
left a computer unlock by accident and

207
00:10:42,319 --> 00:10:46,520
walked away

208
00:10:44,110 --> 00:10:49,700
didn't even<font color="#CCCCCC"> think about it left it</font>

209
00:10:46,520 --> 00:10:54,020
unlocked walk away or<font color="#E5E5E5"> how many of you in</font>

210
00:10:49,700 --> 00:10:57,220
here in your organization bolt your<font color="#CCCCCC"> pc's</font>

211
00:10:54,020 --> 00:11:00,020
down both all your<font color="#CCCCCC"> laptop's them</font>

212
00:10:57,220 --> 00:11:02,420
physically bolt all your servers into

213
00:11:00,020 --> 00:11:09,230
the rack with heavy-duty cables and

214
00:11:02,420 --> 00:11:11,900
locks nobody what would<font color="#E5E5E5"> happen if I as</font>

215
00:11:09,230 --> 00:11:14,120
an attacker walked in at two in the

216
00:11:11,900 --> 00:11:17,630
morning hold<font color="#E5E5E5"> serve wrap hold all your</font>

217
00:11:14,120 --> 00:11:19,430
drives out decrypted everything that was

218
00:11:17,630 --> 00:11:22,939
on there if you're even using full disk

219
00:11:19,430 --> 00:11:26,449
encryption took the data put it back

220
00:11:22,940 --> 00:11:29,090
before you<font color="#E5E5E5"> got on site now I've just</font>

221
00:11:26,450 --> 00:11:31,220
stolen passwords likely I've gotten a

222
00:11:29,090 --> 00:11:34,910
domain admin password or a server admin

223
00:11:31,220 --> 00:11:37,070
password you know what do I<font color="#E5E5E5"> find I found</font>

224
00:11:34,910 --> 00:11:38,420
a web app server great I've got

225
00:11:37,070 --> 00:11:40,580
something important there how about<font color="#CCCCCC"> a</font>

226
00:11:38,420 --> 00:11:44,479
sequel server now I've got the sa

227
00:11:40,580 --> 00:11:45,680
password what can I do how many of you

228
00:11:44,480 --> 00:11:49,300
in here would know what I'd do with the

229
00:11:45,680 --> 00:11:49,300
nests a password what could I do with it

230
00:11:50,680 --> 00:11:58,760
even better how about log directly in as

231
00:11:54,590 --> 00:12:01,460
a my seat earn ms SQL client and start

232
00:11:58,760 --> 00:12:05,390
querying the database and do it back up

233
00:12:01,460 --> 00:12:06,980
to<font color="#CCCCCC"> my own external box what can I do</font>

234
00:12:05,390 --> 00:12:12,140
with<font color="#CCCCCC"> that data well it was that</font><font color="#E5E5E5"> your</font>

235
00:12:06,980 --> 00:12:15,230
<font color="#CCCCCC">credit card data was that all of your</font>

236
00:12:12,140 --> 00:12:18,980
external users their usernames that

237
00:12:15,230 --> 00:12:20,420
passwords their ph I your<font color="#CCCCCC"> health care</font>

238
00:12:18,980 --> 00:12:24,490
organization and I just<font color="#E5E5E5"> stole all your</font>

239
00:12:20,420 --> 00:12:24,490
pH I what's going to happen to you

240
00:12:25,570 --> 00:12:35,900
that's why I say a lapse in one will get

241
00:12:29,780 --> 00:12:38,990
you fully compromised so humans human

242
00:12:35,900 --> 00:12:41,750
security a couple of<font color="#CCCCCC"> things</font><font color="#E5E5E5"> about us we</font>

243
00:12:38,990 --> 00:12:43,580
like to be helpful how many how many of

244
00:12:41,750 --> 00:12:49,100
you in here we're taught by your parents

245
00:12:43,580 --> 00:12:51,260
hold the door for<font color="#CCCCCC"> people be polite help</font>

246
00:12:49,100 --> 00:12:53,750
them out you see a guy carrying a arm

247
00:12:51,260 --> 00:12:56,250
full of books or carrying an arm full of

248
00:12:53,750 --> 00:12:58,080
boxes pushing a cart

249
00:12:56,250 --> 00:13:03,930
what are you gonna do oh here let me

250
00:12:58,080 --> 00:13:06,510
hold that door for you mmm yes okay we

251
00:13:03,930 --> 00:13:07,949
like<font color="#CCCCCC"> to feel important how many of you</font>

252
00:13:06,510 --> 00:13:10,770
in here like to have your boss come up

253
00:13:07,950 --> 00:13:12,480
and say good job or a client and say you

254
00:13:10,770 --> 00:13:15,180
know a good job thanks<font color="#E5E5E5"> for doing that</font>

255
00:13:12,480 --> 00:13:18,420
you know it makes us feel<font color="#CCCCCC"> good we like</font>

256
00:13:15,180 --> 00:13:19,829
to feel good about<font color="#CCCCCC"> what we do are you</font>

257
00:13:18,420 --> 00:13:22,079
hear from your wife<font color="#E5E5E5"> your significant</font>

258
00:13:19,830 --> 00:13:28,950
other who ever hey good job thanks for

259
00:13:22,080 --> 00:13:32,370
<font color="#E5E5E5">doing that we don't like conflict as a</font>

260
00:13:28,950 --> 00:13:34,050
human we our natural tendency is to back

261
00:13:32,370 --> 00:13:37,230
away<font color="#E5E5E5"> from conflict we stay</font><font color="#CCCCCC"> out of</font>

262
00:13:34,050 --> 00:13:39,229
conflict as a group we're okay<font color="#CCCCCC"> with</font>

263
00:13:37,230 --> 00:13:42,030
conflict because its safety in numbers

264
00:13:39,230 --> 00:13:44,250
but in a one-on-one scenario I start

265
00:13:42,030 --> 00:13:47,130
getting<font color="#E5E5E5"> up in your face start getting</font>

266
00:13:44,250 --> 00:13:52,170
real pressing with you what nope I'm

267
00:13:47,130 --> 00:13:55,290
done no I don't<font color="#CCCCCC"> like conflict so the</font>

268
00:13:52,170 --> 00:13:58,110
other thing about<font color="#CCCCCC"> us we're emotional we</font>

269
00:13:55,290 --> 00:14:00,569
aren't always logical we do not always

270
00:13:58,110 --> 00:14:03,270
follow things through step by step by

271
00:14:00,570 --> 00:14:07,500
step and make the best decisions we let

272
00:14:03,270 --> 00:14:11,220
our emotions play with us<font color="#E5E5E5"> and as in as a</font>

273
00:14:07,500 --> 00:14:17,100
red team member I love it we are the

274
00:14:11,220 --> 00:14:19,200
weakest link in security by far ninety

275
00:14:17,100 --> 00:14:21,180
<font color="#CCCCCC">percent of what I</font><font color="#E5E5E5"> can do as a red team</font>

276
00:14:19,200 --> 00:14:23,190
<font color="#CCCCCC">ur can be done by just a social</font>

277
00:14:21,180 --> 00:14:26,459
engineering engagement the reason being

278
00:14:23,190 --> 00:14:29,520
<font color="#E5E5E5">we as humans are weak links in our</font>

279
00:14:26,460 --> 00:14:33,450
organization security phishing emails

280
00:14:29,520 --> 00:14:37,110
phone fishing vision I mean it doesn't

281
00:14:33,450 --> 00:14:40,440
matter what you do as an organization if

282
00:14:37,110 --> 00:14:43,650
i can get you to click a link open a

283
00:14:40,440 --> 00:14:45,060
file give me your creds recent

284
00:14:43,650 --> 00:14:47,209
engagement just fun sorry about this

285
00:14:45,060 --> 00:14:52,589
we're doing a red team engagement

286
00:14:47,210 --> 00:14:57,080
company we fished 135 users we had 90

287
00:14:52,589 --> 00:14:57,080
 people give us their<font color="#CCCCCC"> treads</font>

288
00:14:57,440 --> 00:15:02,970
what did<font color="#E5E5E5"> we do we played off the fact</font>

289
00:15:00,450 --> 00:15:07,140
that there<font color="#E5E5E5"> was a recent large snowstorm</font>

290
00:15:02,970 --> 00:15:10,200
in the<font color="#CCCCCC"> in the Northeast up in the Boston</font>

291
00:15:07,140 --> 00:15:12,960
Philly New York area right we said hey

292
00:15:10,200 --> 00:15:14,790
we're looking at a new experimental work

293
00:15:12,960 --> 00:15:16,590
from home program so when things like

294
00:15:14,790 --> 00:15:18,480
these happen we can allow<font color="#CCCCCC"> you</font><font color="#E5E5E5"> to work</font>

295
00:15:16,590 --> 00:15:21,390
<font color="#E5E5E5">from</font><font color="#CCCCCC"> home we can give you an opportunity</font>

296
00:15:18,480 --> 00:15:24,330
to do this so what we need<font color="#CCCCCC"> you to do is</font>

297
00:15:21,390 --> 00:15:26,370
go fill<font color="#CCCCCC"> out this survey give us some</font>

298
00:15:24,330 --> 00:15:30,600
details you need to<font color="#CCCCCC"> log in</font><font color="#E5E5E5"> with your</font>

299
00:15:26,370 --> 00:15:32,190
<font color="#E5E5E5">credentials silicon log in every pretty</font>

300
00:15:30,600 --> 00:15:36,240
<font color="#E5E5E5">much everybody logged in and give</font>

301
00:15:32,190 --> 00:15:40,530
secrets we ran rampant across that

302
00:15:36,240 --> 00:15:42,630
network they're like when we deliver the

303
00:15:40,530 --> 00:15:44,160
report to the customer they just shook

304
00:15:42,630 --> 00:15:46,800
their head and cried the other thing

305
00:15:44,160 --> 00:15:50,910
<font color="#CCCCCC">about it was ninety percent of these</font>

306
00:15:46,800 --> 00:15:53,430
passwords bald a very simple pattern so

307
00:15:50,910 --> 00:15:55,319
for you red team guys in here little

308
00:15:53,430 --> 00:15:57,630
trick little pen test<font color="#E5E5E5"> guys cracking</font>

309
00:15:55,320 --> 00:16:00,420
passwords here's something to<font color="#E5E5E5"> look for a</font>

310
00:15:57,630 --> 00:16:03,030
capital<font color="#CCCCCC"> letter followed by a</font>

311
00:16:00,420 --> 00:16:06,420
predetermined number of lowercase

312
00:16:03,030 --> 00:16:09,390
letters followed by a<font color="#E5E5E5"> couple of numbers</font>

313
00:16:06,420 --> 00:16:13,170
and some symbols so instead of trying<font color="#CCCCCC"> to</font>

314
00:16:09,390 --> 00:16:17,280
brute force the entire<font color="#E5E5E5"> key space book</font>

315
00:16:13,170 --> 00:16:20,640
for specifics generally speaking users

316
00:16:17,280 --> 00:16:23,030
will use a capital letter at first why

317
00:16:20,640 --> 00:16:25,470
they are required how so in your

318
00:16:23,030 --> 00:16:29,880
organization what is your general

319
00:16:25,470 --> 00:16:33,990
password complexity a number a<font color="#E5E5E5"> capital</font>

320
00:16:29,880 --> 00:16:41,760
letter maybe assemble 10 or 12

321
00:16:33,990 --> 00:16:44,580
characters think about<font color="#E5E5E5"> that</font><font color="#CCCCCC"> physical</font>

322
00:16:41,760 --> 00:16:46,830
security how many places have<font color="#E5E5E5"> you gone</font>

323
00:16:44,580 --> 00:16:51,600
into that don't have bad<font color="#CCCCCC"> rieger bad</font>

324
00:16:46,830 --> 00:16:54,740
badge readers or how<font color="#E5E5E5"> about no biometric</font>

325
00:16:51,600 --> 00:16:58,350
access just because you have a badge

326
00:16:54,740 --> 00:17:00,660
doesn't mean I can't clone it we do<font color="#E5E5E5"> it</font>

327
00:16:58,350 --> 00:17:02,130
<font color="#E5E5E5">all the time walk up walk by someone</font>

328
00:17:00,660 --> 00:17:04,950
carry the Badger your stuff in our

329
00:17:02,130 --> 00:17:07,680
backpack we clone your badge we come

330
00:17:04,950 --> 00:17:10,530
back later bagent as you

331
00:17:07,680 --> 00:17:14,310
with biometrics that would stop it she

332
00:17:10,530 --> 00:17:16,800
blocks no locks just because your ex

333
00:17:14,310 --> 00:17:20,040
<font color="#E5E5E5">Terriers from you've got a solid</font>

334
00:17:16,800 --> 00:17:22,889
exterior does not guarantee your

335
00:17:20,040 --> 00:17:24,990
<font color="#CCCCCC">interior is not soft and squishy just</font>

336
00:17:22,890 --> 00:17:27,350
because everything's set up nice outside

337
00:17:24,990 --> 00:17:30,090
doesn't mean<font color="#E5E5E5"> that once I get inside I</font>

338
00:17:27,349 --> 00:17:32,280
can't get that I can't get inside<font color="#E5E5E5"> so you</font>

339
00:17:30,090 --> 00:17:35,310
don't<font color="#E5E5E5"> need</font><font color="#CCCCCC"> to worry</font><font color="#E5E5E5"> about do you have</font>

340
00:17:32,280 --> 00:17:37,649
locks<font color="#E5E5E5"> badge readers biometric access to</font>

341
00:17:35,310 --> 00:17:40,260
get to your data center<font color="#E5E5E5"> or your server</font>

342
00:17:37,650 --> 00:17:42,510
room at the location if you even have it

343
00:17:40,260 --> 00:17:46,560
set up<font color="#E5E5E5"> correctly what about no cameras</font>

344
00:17:42,510 --> 00:17:49,610
no alarms do you know if someone in<font color="#CCCCCC"> your</font>

345
00:17:46,560 --> 00:17:52,050
organization whether maliciously

346
00:17:49,610 --> 00:17:54,389
accidentally or you have something<font color="#E5E5E5"> else</font>

347
00:17:52,050 --> 00:17:56,280
going on walked accidentally went into

348
00:17:54,390 --> 00:18:00,570
that server room or went into<font color="#E5E5E5"> your telco</font>

349
00:17:56,280 --> 00:18:03,030
ring you have an alarm there because if

350
00:18:00,570 --> 00:18:06,139
you don't one thing<font color="#E5E5E5"> I might just do is</font>

351
00:18:03,030 --> 00:18:09,030
walk<font color="#CCCCCC"> in go</font><font color="#E5E5E5"> to your telco room</font><font color="#CCCCCC"> plugin</font>

352
00:18:06,140 --> 00:18:10,950
will you even know I'm there and how

353
00:18:09,030 --> 00:18:13,860
many<font color="#E5E5E5"> of you on a regular basis go check</font>

354
00:18:10,950 --> 00:18:16,800
your telco room or your server room for

355
00:18:13,860 --> 00:18:18,780
extra boxes or a raspberry pi for

356
00:18:16,800 --> 00:18:23,280
example that I just plugged in on your

357
00:18:18,780 --> 00:18:25,110
network how many of you know I want<font color="#E5E5E5"> to</font>

358
00:18:23,280 --> 00:18:27,389
see hands how many of you in here go

359
00:18:25,110 --> 00:18:32,040
regularly physically check your server

360
00:18:27,390 --> 00:18:38,880
room for extra boxes do you have guys on

361
00:18:32,040 --> 00:18:42,389
static site that do it<font color="#CCCCCC"> you know in the</font>

362
00:18:38,880 --> 00:18:45,840
<font color="#CCCCCC">day in a datacenter yeah now that</font><font color="#E5E5E5"> brings</font>

363
00:18:42,390 --> 00:18:48,090
a good question of it do you trust AT&T

364
00:18:45,840 --> 00:18:49,860
completely to know that they're not

365
00:18:48,090 --> 00:18:56,790
plugging something in or they haven't

366
00:18:49,860 --> 00:19:01,949
<font color="#E5E5E5">been compromised exactly exactly how do</font>

367
00:18:56,790 --> 00:19:05,909
you<font color="#E5E5E5"> know to trust these people it's the</font>

368
00:19:01,950 --> 00:19:08,760
old thing trust<font color="#CCCCCC"> but verify you need to</font>

369
00:19:05,910 --> 00:19:11,160
know hey wait a minute I've<font color="#CCCCCC"> just checked</font>

370
00:19:08,760 --> 00:19:13,530
this is out of place here why do I have

371
00:19:11,160 --> 00:19:15,299
this<font color="#CCCCCC"> little tiny box that's no bigger</font>

372
00:19:13,530 --> 00:19:18,509
than<font color="#E5E5E5"> that</font>

373
00:19:15,299 --> 00:19:21,570
plugged<font color="#E5E5E5"> into my switch and whose is it</font>

374
00:19:18,509 --> 00:19:23,820
what's it doing here or how<font color="#CCCCCC"> many times</font>

375
00:19:21,570 --> 00:19:26,610
do you go check that teleconferencing

376
00:19:23,820 --> 00:19:28,619
room where all<font color="#E5E5E5"> your video equipment is</font>

377
00:19:26,610 --> 00:19:31,619
for that little<font color="#E5E5E5"> box that's plugged into</font>

378
00:19:28,619 --> 00:19:33,899
the<font color="#E5E5E5"> back of the TV sucking down your</font>

379
00:19:31,619 --> 00:19:36,830
wireless and just sitting there because

380
00:19:33,899 --> 00:19:40,018
you've left your wireless wide open and

381
00:19:36,830 --> 00:19:43,678
all your users use it and<font color="#CCCCCC"> how many times</font>

382
00:19:40,019 --> 00:19:48,419
do your users use the same passwords at

383
00:19:43,679 --> 00:19:49,980
home that they do it work because<font color="#CCCCCC"> if I</font>

384
00:19:48,419 --> 00:19:53,220
<font color="#CCCCCC">can capture passwords going across that</font>

385
00:19:49,980 --> 00:19:54,570
<font color="#E5E5E5">network on the wireless you can be damn</font>

386
00:19:53,220 --> 00:19:56,519
sure I'm trying those passwords for

387
00:19:54,570 --> 00:20:01,350
their internal ninety percent of the

388
00:19:56,519 --> 00:20:06,330
time it works no cameras you review your

389
00:20:01,350 --> 00:20:08,668
footage information system security now

390
00:20:06,330 --> 00:20:11,519
<font color="#E5E5E5">this</font><font color="#CCCCCC"> is where it gets fun here's a few</font>

391
00:20:08,669 --> 00:20:14,519
points to look at<font color="#CCCCCC"> that your network</font>

392
00:20:11,519 --> 00:20:18,119
scanners your<font color="#E5E5E5"> security teams your</font>

393
00:20:14,519 --> 00:20:24,239
compliance guys your admins everybody

394
00:20:18,119 --> 00:20:27,299
they will not catch this so how many of

395
00:20:24,239 --> 00:20:29,369
you in here and again this looks a

396
00:20:27,299 --> 00:20:32,460
little bit window centric because most

397
00:20:29,369 --> 00:20:36,238
corporations do have a large windows

398
00:20:32,460 --> 00:20:38,190
base and just<font color="#E5E5E5"> because</font><font color="#CCCCCC"> you have some some</font>

399
00:20:36,239 --> 00:20:40,859
of your most secure stuff<font color="#E5E5E5"> is linux unix</font>

400
00:20:38,190 --> 00:20:43,529
based services doesn't mean<font color="#CCCCCC"> that</font>

401
00:20:40,859 --> 00:20:45,689
passwords aren't going to be reused and

402
00:20:43,529 --> 00:20:47,450
there's not going to be direct ties so

403
00:20:45,690 --> 00:20:52,289
how many of you in here have shares

404
00:20:47,450 --> 00:20:54,629
network shares really that's it not

405
00:20:52,289 --> 00:20:56,519
everybody has network chairs okay maybe

406
00:20:54,629 --> 00:21:01,320
I'm maybe I'm<font color="#E5E5E5"> doing the wrong type</font><font color="#CCCCCC"> of</font>

407
00:20:56,519 --> 00:21:03,509
thing then group policies got group

408
00:21:01,320 --> 00:21:05,850
policies do you check your group

409
00:21:03,509 --> 00:21:07,649
policies regularly to make sure that

410
00:21:05,850 --> 00:21:11,129
something hasn't been left over<font color="#E5E5E5"> or</font>

411
00:21:07,649 --> 00:21:12,988
checked your logon not bat checked your

412
00:21:11,129 --> 00:21:15,299
login scripts checked everything have

413
00:21:12,989 --> 00:21:18,210
you gone through<font color="#E5E5E5"> everything and I doubt</font>

414
00:21:15,299 --> 00:21:22,859
<font color="#E5E5E5">it how many how many of you in here run</font>

415
00:21:18,210 --> 00:21:25,710
a perfectly configured dns service that

416
00:21:22,859 --> 00:21:28,830
<font color="#E5E5E5">i mean there is no possible way that</font>

417
00:21:25,710 --> 00:21:30,929
that's going on and that<font color="#E5E5E5"> all of your</font>

418
00:21:28,830 --> 00:21:33,870
worries that may come out of every host

419
00:21:30,929 --> 00:21:37,470
on that machine on these machines now

420
00:21:33,870 --> 00:21:40,379
we'll get caught by your<font color="#E5E5E5"> dns meaning</font>

421
00:21:37,470 --> 00:21:45,809
<font color="#E5E5E5">that if they fat finger instead of SRV</font>

422
00:21:40,380 --> 00:21:48,929
01 and they type<font color="#E5E5E5"> svr 01 it'll get caught</font>

423
00:21:45,809 --> 00:21:51,559
<font color="#E5E5E5">that your dns will catch that because if</font>

424
00:21:48,929 --> 00:21:54,330
not netbios will give your network away

425
00:21:51,559 --> 00:21:57,149
reason being if you're familiar with how

426
00:21:54,330 --> 00:21:59,720
when does works in general it looks at

427
00:21:57,149 --> 00:22:03,658
its local system looks at its hosts file

428
00:21:59,720 --> 00:22:07,470
it doesn't have<font color="#CCCCCC"> the name it then asks</font>

429
00:22:03,659 --> 00:22:10,260
<font color="#CCCCCC">DNS it's going to get</font><font color="#E5E5E5"> a DNS response</font>

430
00:22:07,470 --> 00:22:17,210
back of a host doesn't exist so what

431
00:22:10,260 --> 00:22:17,210
<font color="#E5E5E5">does</font><font color="#CCCCCC"> it do hey everybody who's</font><font color="#E5E5E5"> SVR 01</font>

432
00:22:17,360 --> 00:22:23,699
yep I am and by<font color="#E5E5E5"> the way here's the</font>

433
00:22:20,429 --> 00:22:27,389
challenges here send me your hashes all

434
00:22:23,700 --> 00:22:32,190
<font color="#E5E5E5">login what do you do as a</font><font color="#CCCCCC"> Windows client</font>

435
00:22:27,389 --> 00:22:34,678
oh you do and guess<font color="#CCCCCC"> what I've just</font>

436
00:22:32,190 --> 00:22:37,730
<font color="#E5E5E5">captured your hashes now let's go back</font>

437
00:22:34,679 --> 00:22:40,409
<font color="#CCCCCC">to</font><font color="#E5E5E5"> what I said earlier what are humans</font>

438
00:22:37,730 --> 00:22:43,039
<font color="#E5E5E5">the weakest link what are their</font>

439
00:22:40,409 --> 00:22:45,929
passwords likely going to be not that

440
00:22:43,039 --> 00:22:48,799
bottom pass were there hell no that's

441
00:22:45,929 --> 00:22:52,500
too hard to type what is it going to be

442
00:22:48,799 --> 00:22:55,039
<font color="#E5E5E5">something like besides 2015 that's</font>

443
00:22:52,500 --> 00:22:58,440
likely what their passwords will be

444
00:22:55,039 --> 00:23:01,169
which means hash cat set a<font color="#E5E5E5"> couple of</font>

445
00:22:58,440 --> 00:23:04,110
masks<font color="#E5E5E5"> 20 minutes later I have captured</font>

446
00:23:01,169 --> 00:23:06,090
and crap every hash that gets since

447
00:23:04,110 --> 00:23:09,389
across this network and so here's a

448
00:23:06,090 --> 00:23:12,928
question by default<font color="#E5E5E5"> who in here has</font>

449
00:23:09,389 --> 00:23:18,629
their dns set up internally<font color="#CCCCCC"> to have the</font>

450
00:23:12,929 --> 00:23:23,309
name host w pad and has a valid record

451
00:23:18,630 --> 00:23:26,039
for it think about this for<font color="#CCCCCC"> just a</font>

452
00:23:23,309 --> 00:23:30,809
second what did I just<font color="#E5E5E5"> say happens from</font>

453
00:23:26,039 --> 00:23:34,370
a<font color="#CCCCCC"> windows client so in if you don't know</font>

454
00:23:30,809 --> 00:23:39,480
what<font color="#E5E5E5"> W pad is its windows by default</font><font color="#CCCCCC"> one</font>

455
00:23:34,370 --> 00:23:43,709
browsers fire up they search for<font color="#CCCCCC"> W pad</font>

456
00:23:39,480 --> 00:23:47,190
looking for their proxy settings if you

457
00:23:43,710 --> 00:23:50,490
don't have a valid response<font color="#E5E5E5"> for that in</font>

458
00:23:47,190 --> 00:23:54,510
your<font color="#CCCCCC"> dns every time someone</font><font color="#E5E5E5"> starts a</font>

459
00:23:50,490 --> 00:23:59,460
browser on your network guess what I've

460
00:23:54,510 --> 00:24:01,800
<font color="#CCCCCC">just captured their hashes and now if I</font>

461
00:23:59,460 --> 00:24:03,540
want<font color="#E5E5E5"> to be a real dick and have you even</font>

462
00:24:01,800 --> 00:24:06,149
more fun with this I'm going<font color="#E5E5E5"> to say yes</font>

463
00:24:03,540 --> 00:24:08,909
and here is your proxy settings all

464
00:24:06,150 --> 00:24:11,610
traffic comes through me oh and<font color="#E5E5E5"> by the</font>

465
00:24:08,910 --> 00:24:13,860
way to help you here's an executable you

466
00:24:11,610 --> 00:24:17,250
need to serve them give them an

467
00:24:13,860 --> 00:24:22,020
executable to run that will now be my

468
00:24:17,250 --> 00:24:25,140
meterpreter payload who in here besides

469
00:24:22,020 --> 00:24:30,300
<font color="#CCCCCC">you Danny and such knows what</font>

470
00:24:25,140 --> 00:24:32,390
meterpreter is for those of you who

471
00:24:30,300 --> 00:24:35,580
<font color="#CCCCCC">don't know what it is it is a very</font>

472
00:24:32,390 --> 00:24:38,880
<font color="#CCCCCC">powerful shell that gets leveraged on</font>

473
00:24:35,580 --> 00:24:41,580
your box that allows me<font color="#CCCCCC"> to do</font><font color="#E5E5E5"> whatever I</font>

474
00:24:38,880 --> 00:24:43,470
want dump the hashes if you've<font color="#E5E5E5"> got</font>

475
00:24:41,580 --> 00:24:45,899
administrative privileges I can dump

476
00:24:43,470 --> 00:24:49,290
them clear text I<font color="#E5E5E5"> can start to</font><font color="#CCCCCC"> use it to</font>

477
00:24:45,900 --> 00:24:51,720
<font color="#CCCCCC">use your</font><font color="#E5E5E5"> box as a proxy to get to other</font>

478
00:24:49,290 --> 00:24:54,930
boxes<font color="#E5E5E5"> just because I'm isolated to one</font>

479
00:24:51,720 --> 00:24:57,150
VLAN doesn't mean I can't get elsewhere

480
00:24:54,930 --> 00:25:05,190
because of your box because it has

481
00:24:57,150 --> 00:25:06,510
access so more your printers so let's go

482
00:25:05,190 --> 00:25:12,150
<font color="#E5E5E5">back to</font><font color="#CCCCCC"> that question I asked earlier</font>

483
00:25:06,510 --> 00:25:14,550
what about your printers so who in here

484
00:25:12,150 --> 00:25:17,780
knows why your printer gave you away

485
00:25:14,550 --> 00:25:19,320
your big nice multifunction you know the

486
00:25:17,780 --> 00:25:21,960
<font color="#CCCCCC">twenty-five-thousand-dollar printer you</font>

487
00:25:19,320 --> 00:25:33,300
bought that does everything who in here

488
00:25:21,960 --> 00:25:36,920
knows why that gives it away anybody

489
00:25:33,300 --> 00:25:36,919
else have any ideas as to why

490
00:25:52,240 --> 00:26:10,700
<font color="#E5E5E5">no how do you log into what do you do</font>

491
00:25:58,730 --> 00:26:12,920
with them your core your clothes well

492
00:26:10,700 --> 00:26:15,500
let's go one better how many of<font color="#CCCCCC"> you in</font>

493
00:26:12,920 --> 00:26:18,080
here know that<font color="#CCCCCC"> with your nice</font>

494
00:26:15,500 --> 00:26:20,360
multifunction printer you can<font color="#CCCCCC"> configure</font>

495
00:26:18,080 --> 00:26:23,270
a username and a password in there to

496
00:26:20,360 --> 00:26:27,020
scan the email or scan to a PDF on a

497
00:26:23,270 --> 00:26:30,200
share right or you print to that so

498
00:26:27,020 --> 00:26:33,470
let's think<font color="#E5E5E5"> about this generally</font>

499
00:26:30,200 --> 00:26:36,350
speaking those devices have elevated

500
00:26:33,470 --> 00:26:40,490
privileged accounts not because they

501
00:26:36,350 --> 00:26:42,050
should because most organizations do not

502
00:26:40,490 --> 00:26:44,120
know how to configure their shares

503
00:26:42,050 --> 00:26:46,700
correctly so what do they do they give

504
00:26:44,120 --> 00:26:50,239
that user elevated access reason being

505
00:26:46,700 --> 00:26:54,950
<font color="#E5E5E5">is Bob over and marketing needs to scan</font>

506
00:26:50,240 --> 00:26:58,010
to his share<font color="#E5E5E5"> Rob over</font><font color="#CCCCCC"> in IT needs to be</font>

507
00:26:54,950 --> 00:26:59,990
able<font color="#E5E5E5"> to scan to his share CEO needs to</font>

508
00:26:58,010 --> 00:27:03,530
be<font color="#CCCCCC"> able to scan to a little special</font>

509
00:26:59,990 --> 00:27:05,630
shared just for him so what do they do

510
00:27:03,530 --> 00:27:09,649
they don't know how<font color="#E5E5E5"> to configure either</font>

511
00:27:05,630 --> 00:27:11,090
multiple users configure it configure

512
00:27:09,650 --> 00:27:13,730
their shares correctly to give just this

513
00:27:11,090 --> 00:27:16,129
little low privileged user right to scan

514
00:27:13,730 --> 00:27:18,410
here so what do they do<font color="#CCCCCC"> here here's</font>

515
00:27:16,130 --> 00:27:20,740
domain admin here's service account

516
00:27:18,410 --> 00:27:25,400
admin level give you access to

517
00:27:20,740 --> 00:27:29,630
everything right so what happens i plug

518
00:27:25,400 --> 00:27:32,180
in line<font color="#CCCCCC"> i capture your hashes i capture</font>

519
00:27:29,630 --> 00:27:35,450
the traffic going from your printer out

520
00:27:32,180 --> 00:27:37,010
and what's coming back so<font color="#CCCCCC"> i capture</font>

521
00:27:35,450 --> 00:27:40,130
everything that that's printer doing and

522
00:27:37,010 --> 00:27:44,480
how<font color="#CCCCCC"> many</font><font color="#E5E5E5"> of you in here know about smtp</font>

523
00:27:40,130 --> 00:27:46,640
what do<font color="#CCCCCC"> you know about smtp by</font><font color="#E5E5E5"> default</font>

524
00:27:44,480 --> 00:27:50,470
what does it<font color="#E5E5E5"> do</font><font color="#CCCCCC"> when it sends an email</font>

525
00:27:46,640 --> 00:27:54,170
when it logs in is that encrypted

526
00:27:50,470 --> 00:27:58,700
no it's plain text have you configured a

527
00:27:54,170 --> 00:28:00,680
different user for your smtp then you're

528
00:27:58,700 --> 00:28:03,010
what you're doing to scan to share cuz

529
00:28:00,680 --> 00:28:06,890
you're using your same internal domain

530
00:28:03,010 --> 00:28:10,210
right so what happens you'll login it's

531
00:28:06,890 --> 00:28:16,550
clear text I've been capturing traffic

532
00:28:10,210 --> 00:28:19,490
what did I<font color="#CCCCCC"> just take I just took that</font>

533
00:28:16,550 --> 00:28:22,010
password clear text off the wire I come

534
00:28:19,490 --> 00:28:23,840
back<font color="#E5E5E5"> leak week later take that box out</font>

535
00:28:22,010 --> 00:28:26,360
do<font color="#E5E5E5"> something more with the printer I'm</font>

536
00:28:23,840 --> 00:28:28,689
gone how many<font color="#E5E5E5"> of you in here actually</font>

537
00:28:26,360 --> 00:28:31,719
would<font color="#CCCCCC"> have caught that on your network</font>

538
00:28:28,690 --> 00:28:34,370
caught me<font color="#E5E5E5"> put in a device in line</font>

539
00:28:31,720 --> 00:28:36,110
passively sniffing not sending a bit of

540
00:28:34,370 --> 00:28:37,969
traffic other than forwarding it on an

541
00:28:36,110 --> 00:28:47,929
inline bridge and just sniff and

542
00:28:37,970 --> 00:28:49,100
everything as I go anybody know what

543
00:28:47,930 --> 00:28:53,900
about the tools your IT department

544
00:28:49,100 --> 00:28:55,969
installs by default or they leave over

545
00:28:53,900 --> 00:28:57,860
by chance how many of<font color="#E5E5E5"> you in here have</font>

546
00:28:55,970 --> 00:29:01,370
used the PS exact tools the PowerShell

547
00:28:57,860 --> 00:29:03,679
<font color="#CCCCCC">to not powershell tools the ps1 is a you</font>

548
00:29:01,370 --> 00:29:09,469
know the old you<font color="#E5E5E5"> know microsoft's PS</font>

549
00:29:03,680 --> 00:29:12,230
tools sysinternals thank you you know

550
00:29:09,470 --> 00:29:16,520
you've<font color="#CCCCCC"> got the ability to shut down run</font>

551
00:29:12,230 --> 00:29:18,500
commands do everything from those right

552
00:29:16,520 --> 00:29:21,080
your IT department builds the golden

553
00:29:18,500 --> 00:29:23,510
image what about<font color="#CCCCCC"> i need to manage how</font>

554
00:29:21,080 --> 00:29:26,629
many different machines oh I'm going<font color="#E5E5E5"> to</font>

555
00:29:23,510 --> 00:29:33,379
<font color="#CCCCCC">leave these tools around not because I</font>

556
00:29:26,630 --> 00:29:35,840
them right away because I'm lazy so what

557
00:29:33,380 --> 00:29:39,380
happened<font color="#CCCCCC"> they leave them installed just</font>

558
00:29:35,840 --> 00:29:42,500
because as a regular user<font color="#E5E5E5"> I won't go</font>

559
00:29:39,380 --> 00:29:47,090
look in c colon backslash random folder

560
00:29:42,500 --> 00:29:50,000
backslash tools you know oh we're safe

561
00:29:47,090 --> 00:29:51,800
nobody will know these are here me as an

562
00:29:50,000 --> 00:29:54,020
attacker<font color="#E5E5E5"> i get on your box first thing</font>

563
00:29:51,800 --> 00:29:56,629
i'm doing i'm going through every<font color="#E5E5E5"> damn</font>

564
00:29:54,020 --> 00:29:59,120
folder and drive<font color="#E5E5E5"> i have access</font><font color="#CCCCCC"> to and</font>

565
00:29:56,630 --> 00:30:00,950
<font color="#E5E5E5">i'm going to suck every document you</font>

566
00:29:59,120 --> 00:30:02,840
have on that<font color="#E5E5E5"> machine off and i'm</font><font color="#CCCCCC"> going</font>

567
00:30:00,950 --> 00:30:03,690
<font color="#E5E5E5">to read it i'm going to play i'm going</font>

568
00:30:02,840 --> 00:30:06,178
<font color="#E5E5E5">to look</font><font color="#CCCCCC"> at it</font>

569
00:30:03,690 --> 00:30:10,200
wait a minute can i modify it and put it

570
00:30:06,179 --> 00:30:11,970
back to you great I've got more or can i

571
00:30:10,200 --> 00:30:14,250
exploit something with them or<font color="#E5E5E5"> even</font>

572
00:30:11,970 --> 00:30:18,500
better you you<font color="#E5E5E5"> just left PS tools</font>

573
00:30:14,250 --> 00:30:22,009
installed with passwords or you've left

574
00:30:18,500 --> 00:30:25,379
history for what these users are done

575
00:30:22,009 --> 00:30:29,490
great now I'm<font color="#E5E5E5"> going to use that against</font>

576
00:30:25,379 --> 00:30:34,908
you so another thing how many of you in

577
00:30:29,490 --> 00:30:39,350
here knows what SCCM is couple people

578
00:30:34,909 --> 00:30:42,690
how many<font color="#CCCCCC"> of you have ever validated</font>

579
00:30:39,350 --> 00:30:49,168
every package that's<font color="#E5E5E5"> on your SCCM and</font>

580
00:30:42,690 --> 00:30:52,019
how often<font color="#CCCCCC"> do you do it how</font><font color="#E5E5E5"> many of</font><font color="#CCCCCC"> you</font>

581
00:30:49,169 --> 00:30:55,860
are know anything<font color="#CCCCCC"> about it to</font><font color="#E5E5E5"> where the</font>

582
00:30:52,019 --> 00:30:58,080
fact that with SCCM<font color="#E5E5E5"> it's admin creds are</font>

583
00:30:55,860 --> 00:31:00,959
left with in the configuration a lot of

584
00:30:58,080 --> 00:31:02,460
times so that you can push packages to

585
00:31:00,960 --> 00:31:05,970
install with administrative privileges

586
00:31:02,460 --> 00:31:09,210
and a user has<font color="#E5E5E5"> to click oh</font><font color="#CCCCCC"> okay I accept</font>

587
00:31:05,970 --> 00:31:14,250
to install your<font color="#CCCCCC"> desktop deployment stuff</font>

588
00:31:09,210 --> 00:31:17,279
it gets left guess what<font color="#E5E5E5"> your creds are</font>

589
00:31:14,250 --> 00:31:19,169
left now good story happened to a

590
00:31:17,279 --> 00:31:21,600
co-worker of mine just recently they

591
00:31:19,169 --> 00:31:25,590
busted SCCM they pushed a new package

592
00:31:21,600 --> 00:31:28,709
was a matter pradesh l their servers by

593
00:31:25,590 --> 00:31:32,580
default pushed and installed these

594
00:31:28,710 --> 00:31:34,710
packages immediately workstations will

595
00:31:32,580 --> 00:31:37,590
give him a chance to<font color="#E5E5E5"> do it he also</font>

596
00:31:34,710 --> 00:31:40,500
thought hmm better make sure<font color="#E5E5E5"> I'm getting</font>

597
00:31:37,590 --> 00:31:44,699
enough shells he updated the log on da

598
00:31:40,500 --> 00:31:48,840
bat for the domain to also include his

599
00:31:44,700 --> 00:31:53,370
meterpreter shell his attack box crashed

600
00:31:48,840 --> 00:31:56,070
when just after his 8,000th shell came

601
00:31:53,370 --> 00:31:58,229
in he had eight thousand active shells

602
00:31:56,070 --> 00:32:03,658
two different boxes on this network

603
00:31:58,230 --> 00:32:05,220
because<font color="#CCCCCC"> of SCCM what could you do if</font>

604
00:32:03,659 --> 00:32:07,409
you're an attack or someone maliciously

605
00:32:05,220 --> 00:32:10,019
coming into a network and you had<font color="#CCCCCC"> eight</font>

606
00:32:07,409 --> 00:32:14,639
<font color="#CCCCCC">thousand shells on the network had a</font>

607
00:32:10,019 --> 00:32:15,110
shell<font color="#CCCCCC"> on every box in the network how</font>

608
00:32:14,639 --> 00:32:18,709
many of

609
00:32:15,110 --> 00:32:24,199
boxes start up a run with administrative

610
00:32:18,710 --> 00:32:27,530
privileges your sequel server just

611
00:32:24,200 --> 00:32:31,670
installed my package I just took all

612
00:32:27,530 --> 00:32:36,170
your data and you gave<font color="#CCCCCC"> it to me because</font>

613
00:32:31,670 --> 00:32:38,929
<font color="#E5E5E5">of your SCCM another thing how many of</font>

614
00:32:36,170 --> 00:32:41,840
you in here use something like SCCM or

615
00:32:38,929 --> 00:32:44,000
some of these other nice fancy desktop

616
00:32:41,840 --> 00:32:47,720
deployment tools and you can do<font color="#E5E5E5"> pxe boot</font>

617
00:32:44,000 --> 00:32:50,540
so when<font color="#CCCCCC"> joe over and marketing gets a</font>

618
00:32:47,720 --> 00:32:53,150
virus and screws everything up for the

619
00:32:50,540 --> 00:32:56,710
fourth time this week you can<font color="#E5E5E5"> just tell</font>

620
00:32:53,150 --> 00:32:59,929
them reboot hit f12 select this option

621
00:32:56,710 --> 00:33:04,610
any of you ever done that desktop

622
00:32:59,929 --> 00:33:09,140
deployment stuff how many of you check

623
00:33:04,610 --> 00:33:11,059
those logs watch for servers boot or

624
00:33:09,140 --> 00:33:14,120
machines booting up and taking those

625
00:33:11,059 --> 00:33:16,790
images how many of<font color="#E5E5E5"> you have ever gone</font>

626
00:33:14,120 --> 00:33:20,209
back and checked your<font color="#E5E5E5"> DHCP logs for it</font>

627
00:33:16,790 --> 00:33:22,100
to see what<font color="#E5E5E5"> happens because</font><font color="#CCCCCC"> I'll tell</font>

628
00:33:20,210 --> 00:33:25,460
you what this just happened for me

629
00:33:22,100 --> 00:33:27,020
recently got onto a network that already

630
00:33:25,460 --> 00:33:30,799
had a few good findings but I decided I

631
00:33:27,020 --> 00:33:32,929
want and domain admin so the admin

632
00:33:30,799 --> 00:33:35,210
credentials to<font color="#E5E5E5"> join you have to have</font>

633
00:33:32,929 --> 00:33:38,090
domain admin credentials or very

634
00:33:35,210 --> 00:33:40,340
elevated rights to install a machine to

635
00:33:38,090 --> 00:33:44,620
the domain to join it to the domain sure

636
00:33:40,340 --> 00:33:49,610
making domain level changes so now<font color="#CCCCCC"> I</font>

637
00:33:44,620 --> 00:33:52,040
boot up a vm start pixie<font color="#CCCCCC"> boonton it gets</font>

638
00:33:49,610 --> 00:33:54,559
up partway right as<font color="#E5E5E5"> it's getting ready</font>

639
00:33:52,040 --> 00:34:00,860
to join<font color="#E5E5E5"> the domain</font><font color="#CCCCCC"> i disconnect it and</font>

640
00:33:54,559 --> 00:34:04,149
stop to stop the vm so vmware how does

641
00:34:00,860 --> 00:34:10,069
it do its memory what does it use

642
00:34:04,150 --> 00:34:12,020
anybody know especially when you pause<font color="#E5E5E5"> a</font>

643
00:34:10,070 --> 00:34:17,179
machine what does<font color="#E5E5E5"> it do for with its</font>

644
00:34:12,020 --> 00:34:21,409
memory it writes it to a file on the

645
00:34:17,179 --> 00:34:23,570
disk<font color="#E5E5E5"> what's in memory what I'm trying to</font>

646
00:34:21,409 --> 00:34:25,250
<font color="#E5E5E5">join a domain what kind of credentials</font>

647
00:34:23,570 --> 00:34:29,320
are in memory when<font color="#CCCCCC"> I'm joining that</font>

648
00:34:25,250 --> 00:34:29,320
domain in clear text

649
00:34:29,530 --> 00:34:35,659
domain admin credentials are in that

650
00:34:32,599 --> 00:34:37,520
memory dump I just grabbed use another

651
00:34:35,659 --> 00:34:41,409
tool pull the credentials right out of

652
00:34:37,520 --> 00:34:46,339
memory wait I've got domain admin and

653
00:34:41,409 --> 00:34:48,559
you just gave<font color="#CCCCCC"> it to me because</font><font color="#E5E5E5"> of</font><font color="#CCCCCC"> the</font>

654
00:34:46,339 --> 00:34:51,679
<font color="#CCCCCC">fact you're using a CCM or some other</font>

655
00:34:48,559 --> 00:34:53,829
desktop deployment tool and you're not

656
00:34:51,679 --> 00:34:56,510
checking your logs you're not

657
00:34:53,829 --> 00:34:58,460
restricting access to who can boot

658
00:34:56,510 --> 00:35:01,280
you've got it<font color="#E5E5E5"> on your public</font><font color="#CCCCCC"> VLANs all</font>

659
00:34:58,460 --> 00:35:03,140
your major<font color="#CCCCCC"> V</font><font color="#E5E5E5"> lines so anybody can do it</font>

660
00:35:01,280 --> 00:35:05,210
you don't have<font color="#CCCCCC"> to go through any</font>

661
00:35:03,140 --> 00:35:08,509
configuration to get<font color="#E5E5E5"> that machine to</font>

662
00:35:05,210 --> 00:35:11,930
take a new image so me as an attacker

663
00:35:08,510 --> 00:35:14,030
I'm taking it because also<font color="#E5E5E5"> if I can't</font>

664
00:35:11,930 --> 00:35:17,089
get domain admin get unlucky<font color="#E5E5E5"> I don't get</font>

665
00:35:14,030 --> 00:35:19,430
domain admin out of it I have now got

666
00:35:17,089 --> 00:35:21,290
<font color="#CCCCCC">your standard build which likely is</font>

667
00:35:19,430 --> 00:35:23,359
going to point me in the direction it's

668
00:35:21,290 --> 00:35:26,619
going to have other tools installed it

669
00:35:23,359 --> 00:35:29,720
may have thick clients installed and

670
00:35:26,619 --> 00:35:34,220
again we go back<font color="#E5E5E5"> to the old question of</font>

671
00:35:29,720 --> 00:35:36,799
netbios on your network right like I

672
00:35:34,220 --> 00:35:39,230
<font color="#CCCCCC">said it's send in traffic out how many</font>

673
00:35:36,799 --> 00:35:41,200
of you in here doing development work

674
00:35:39,230 --> 00:35:43,970
you know you wrote a big thick client

675
00:35:41,200 --> 00:35:45,230
that's an application but it's got<font color="#CCCCCC"> to</font>

676
00:35:43,970 --> 00:35:47,240
get something from<font color="#E5E5E5"> the database right</font>

677
00:35:45,230 --> 00:35:51,980
you got to be<font color="#CCCCCC"> able to update data or</font>

678
00:35:47,240 --> 00:35:54,049
pull data damn how many<font color="#E5E5E5"> of you over the</font>

679
00:35:51,980 --> 00:35:57,140
<font color="#CCCCCC">last few years have rewrote that to</font><font color="#E5E5E5"> make</font>

680
00:35:54,049 --> 00:36:00,349
sure that it's using proper<font color="#E5E5E5"> paths you're</font>

681
00:35:57,140 --> 00:36:04,009
not doing any in secure coding practices

682
00:36:00,349 --> 00:36:05,599
right how many<font color="#CCCCCC"> of you in here have ever</font>

683
00:36:04,010 --> 00:36:08,150
and if you don't<font color="#E5E5E5"> want to raise</font><font color="#CCCCCC"> your</font><font color="#E5E5E5"> hand</font>

684
00:36:05,599 --> 00:36:10,430
<font color="#E5E5E5">you don't have to but think about this</font>

685
00:36:08,150 --> 00:36:14,020
hard coded credentials into your

686
00:36:10,430 --> 00:36:17,118
application to log into the database

687
00:36:14,020 --> 00:36:18,740
happens more often than not<font color="#E5E5E5"> especially</font>

688
00:36:17,119 --> 00:36:20,690
you know you find an older application

689
00:36:18,740 --> 00:36:22,848
that was<font color="#E5E5E5"> written ten years ago nobody</font>

690
00:36:20,690 --> 00:36:25,040
<font color="#CCCCCC">even thought about</font><font color="#E5E5E5"> that I pulled that</font>

691
00:36:22,849 --> 00:36:27,440
application of<font color="#CCCCCC"> Park start looking</font>

692
00:36:25,040 --> 00:36:29,450
through strings dumping it oh wait

693
00:36:27,440 --> 00:36:31,400
here's the seat here's the<font color="#CCCCCC"> user</font><font color="#E5E5E5"> name</font>

694
00:36:29,450 --> 00:36:36,520
here's the<font color="#E5E5E5"> password the log into your</font>

695
00:36:31,400 --> 00:36:36,520
database there you go

696
00:36:39,100 --> 00:36:46,390
sloppy housekeeping this is where gets

697
00:36:42,950 --> 00:36:50,330
me fired up every time you're leaving

698
00:36:46,390 --> 00:36:52,910
logs lying around on the machines you

699
00:36:50,330 --> 00:36:54,799
leave logs lying around up yours network

700
00:36:52,910 --> 00:36:57,910
seems you don't check<font color="#E5E5E5"> your network</font>

701
00:36:54,800 --> 00:37:01,940
shares and don't validate that your

702
00:36:57,910 --> 00:37:03,710
users or<font color="#E5E5E5"> following the rules engagement</font>

703
00:37:01,940 --> 00:37:06,560
we're on right now just kind of give you

704
00:37:03,710 --> 00:37:08,420
<font color="#E5E5E5">an idea company thinks it's small I wish</font>

705
00:37:06,560 --> 00:37:12,380
I had this problem by sloppy

706
00:37:08,420 --> 00:37:16,790
housekeeping left a bunch of PII credit

707
00:37:12,380 --> 00:37:18,050
card type data on a network share we

708
00:37:16,790 --> 00:37:20,630
went<font color="#E5E5E5"> back to</font><font color="#CCCCCC"> the customer and said hey</font>

709
00:37:18,050 --> 00:37:22,820
look mister customer here you got this

710
00:37:20,630 --> 00:37:24,770
they said oh yeah that's just<font color="#CCCCCC"> a child</font>

711
00:37:22,820 --> 00:37:27,320
company of ours not something we're

712
00:37:24,770 --> 00:37:31,130
really worried about they only do four

713
00:37:27,320 --> 00:37:34,220
billion in dollars annually that is

714
00:37:31,130 --> 00:37:39,290
nothing compared to the 990 billion we

715
00:37:34,220 --> 00:37:43,580
do annually we<font color="#E5E5E5"> don't care you think the</font>

716
00:37:39,290 --> 00:37:47,390
SEC or whoever else regulatory

717
00:37:43,580 --> 00:37:49,370
<font color="#E5E5E5">commissions that could be involved in</font>

718
00:37:47,390 --> 00:37:52,520
this would care about<font color="#E5E5E5"> that little</font><font color="#CCCCCC"> 4</font>

719
00:37:49,370 --> 00:37:56,060
billion dollar chunk because credit<font color="#E5E5E5"> card</font>

720
00:37:52,520 --> 00:37:58,460
data because very valuable very

721
00:37:56,060 --> 00:38:02,029
sensitive information is left on a

722
00:37:58,460 --> 00:38:05,780
network share and just because<font color="#CCCCCC"> it's a</font>

723
00:38:02,030 --> 00:38:07,940
separate little child company it's under

724
00:38:05,780 --> 00:38:09,560
<font color="#CCCCCC">this parent company do you think they're</font>

725
00:38:07,940 --> 00:38:14,870
<font color="#E5E5E5">going to care whose it was and where it</font>

726
00:38:09,560 --> 00:38:17,720
was now what about<font color="#E5E5E5"> one of these you know</font>

727
00:38:14,870 --> 00:38:21,460
and you<font color="#CCCCCC"> think about</font><font color="#E5E5E5"> this what</font><font color="#CCCCCC"> about you</font>

728
00:38:17,720 --> 00:38:24,410
leave that information lying around and

729
00:38:21,460 --> 00:38:27,050
you work for something like on<font color="#E5E5E5"> the Wall</font>

730
00:38:24,410 --> 00:38:29,600
<font color="#CCCCCC">Street Stock Exchange or you work</font>

731
00:38:27,050 --> 00:38:31,580
somewhere else then you've apps

732
00:38:29,600 --> 00:38:33,560
accidentally left around stock

733
00:38:31,580 --> 00:38:35,450
information or credit ratings for a

734
00:38:33,560 --> 00:38:40,100
company that have not been published yet

735
00:38:35,450 --> 00:38:41,870
and me as an attacker I see that I go oh

736
00:38:40,100 --> 00:38:46,310
wait<font color="#E5E5E5"> a</font><font color="#CCCCCC"> minute this company is about</font>

737
00:38:41,870 --> 00:38:48,770
ready to explode in growth I go buy up

738
00:38:46,310 --> 00:38:50,450
as many shares as I can

739
00:38:48,770 --> 00:38:54,650
or<font color="#E5E5E5"> I find something else and I get you</font>

740
00:38:50,450 --> 00:38:58,460
to buy it up for me because we've done

741
00:38:54,650 --> 00:39:00,110
it we found<font color="#E5E5E5"> a way to get your company to</font>

742
00:38:58,460 --> 00:39:01,940
buy shares and put it to my account

743
00:39:00,110 --> 00:39:04,040
because you had a vulnerability in your

744
00:39:01,940 --> 00:39:06,710
application now i just<font color="#CCCCCC"> bought a million</font>

745
00:39:04,040 --> 00:39:09,590
shares of Acme Corp this rating is going

746
00:39:06,710 --> 00:39:11,420
to go from you know very<font color="#E5E5E5"> poor rating to</font>

747
00:39:09,590 --> 00:39:13,250
they've got this new great innovative

748
00:39:11,420 --> 00:39:14,840
thing they're going<font color="#E5E5E5"> to skyrocket the</font>

749
00:39:13,250 --> 00:39:19,690
predictions are the stock prices are

750
00:39:14,840 --> 00:39:19,690
going<font color="#E5E5E5"> to rise from</font><font color="#CCCCCC"> penneys two dollars</font>

751
00:39:19,990 --> 00:39:25,839
anybody know what that's called that's

752
00:39:22,910 --> 00:39:30,020
worked in the financial institute what

753
00:39:25,840 --> 00:39:32,080
insider trading everybody in that

754
00:39:30,020 --> 00:39:35,360
organization that may have touched that

755
00:39:32,080 --> 00:39:40,029
will be going<font color="#CCCCCC"> to jail or will be getting</font>

756
00:39:35,360 --> 00:39:43,520
sued and it's going<font color="#E5E5E5"> to bust your company</font>

757
00:39:40,030 --> 00:39:46,160
that's called sloppy housekeeping how

758
00:39:43,520 --> 00:39:48,020
many<font color="#E5E5E5"> of you in here actually and I want</font>

759
00:39:46,160 --> 00:39:52,490
honest people please raise your hands

760
00:39:48,020 --> 00:39:57,110
review your logs on a<font color="#E5E5E5"> weekly monthly</font>

761
00:39:52,490 --> 00:40:05,810
quarterly basis religiously look through

762
00:39:57,110 --> 00:40:07,670
your logs anybody else besides<font color="#E5E5E5"> one you</font>

763
00:40:05,810 --> 00:40:09,920
don't<font color="#CCCCCC"> look at your logs how do you</font><font color="#E5E5E5"> know</font>

764
00:40:07,670 --> 00:40:15,470
if I'm there how do you know if an

765
00:40:09,920 --> 00:40:17,780
attacker is on your network just because

766
00:40:15,470 --> 00:40:20,779
you're not your antivirus your

767
00:40:17,780 --> 00:40:23,330
anti-malware you know your IDs your neck

768
00:40:20,780 --> 00:40:25,640
your<font color="#CCCCCC"> mac</font><font color="#E5E5E5"> filtering all those things just</font>

769
00:40:23,330 --> 00:40:32,380
because they're not alerting doesn't

770
00:40:25,640 --> 00:40:34,839
mean someone is<font color="#E5E5E5"> on your network so</font>

771
00:40:32,380 --> 00:40:37,359
thing about<font color="#E5E5E5"> it is just kind of give you</font>

772
00:40:34,839 --> 00:40:39,609
here is a typical red team engagement

773
00:40:37,359 --> 00:40:41,380
this will give<font color="#CCCCCC"> you an idea generally</font>

774
00:40:39,609 --> 00:40:44,980
this will go anywhere from a few days to

775
00:40:41,380 --> 00:40:47,349
a week we physically break in or we do

776
00:40:44,980 --> 00:40:48,549
the poof magic moment happens we don't

777
00:40:47,349 --> 00:40:51,700
want to<font color="#E5E5E5"> have you do a physical</font>

778
00:40:48,549 --> 00:40:53,440
assessment for whatever reason we're

779
00:40:51,700 --> 00:40:55,058
<font color="#CCCCCC">going to</font><font color="#E5E5E5"> let you come</font><font color="#CCCCCC"> in walk in we're</font>

780
00:40:53,440 --> 00:40:56,740
going<font color="#E5E5E5"> to give you unrestricted we're</font>

781
00:40:55,059 --> 00:40:59,769
<font color="#E5E5E5">going to give you guest access on this</font>

782
00:40:56,740 --> 00:41:02,288
network here you are you have no creds

783
00:40:59,769 --> 00:41:03,729
nothing now let's<font color="#CCCCCC"> see</font><font color="#E5E5E5"> what you can do</font>

784
00:41:02,289 --> 00:41:05,589
generally speaking we start looking

785
00:41:03,730 --> 00:41:07,000
<font color="#CCCCCC">around on the network we fire up we</font>

786
00:41:05,589 --> 00:41:09,400
<font color="#E5E5E5">start capturing traffic we fire up a</font>

787
00:41:07,000 --> 00:41:11,619
tool called responder start netbios name

788
00:41:09,400 --> 00:41:14,440
spoofing like<font color="#CCCCCC"> i was talking</font><font color="#E5E5E5"> about we</font>

789
00:41:11,619 --> 00:41:17,470
capture creds we find your hosts<font color="#CCCCCC"> okay</font>

790
00:41:14,440 --> 00:41:18,970
can<font color="#CCCCCC"> i log into your machine I</font><font color="#E5E5E5"> can what</font>

791
00:41:17,470 --> 00:41:21,730
do<font color="#CCCCCC"> you have</font><font color="#E5E5E5"> I'm going to start looking</font>

792
00:41:18,970 --> 00:41:24,490
around you what's your neighbors okay

793
00:41:21,730 --> 00:41:26,049
great<font color="#E5E5E5"> now</font><font color="#CCCCCC"> I'm going to jump there</font><font color="#E5E5E5"> I'm</font>

794
00:41:24,490 --> 00:41:29,288
going<font color="#E5E5E5"> to run responder I'm on that</font>

795
00:41:26,049 --> 00:41:31,240
<font color="#CCCCCC">network capture more creds war machines</font>

796
00:41:29,289 --> 00:41:34,390
keep going around keep jump around oh

797
00:41:31,240 --> 00:41:37,450
wait<font color="#E5E5E5"> a minute</font><font color="#CCCCCC"> I'm also now reading your</font>

798
00:41:34,390 --> 00:41:40,779
email how many<font color="#CCCCCC"> of you and ever here have</font>

799
00:41:37,450 --> 00:41:47,589
ever been emailed a password or emailed

800
00:41:40,779 --> 00:41:50,670
someone a password thank you how many<font color="#E5E5E5"> of</font>

801
00:41:47,589 --> 00:41:54,359
you have a corporate password reset

802
00:41:50,670 --> 00:41:57,759
functionality that you can do yourself

803
00:41:54,359 --> 00:42:01,420
CA i dinna ca's identity manager some of

804
00:41:57,759 --> 00:42:06,009
these other fun tools reset<font color="#CCCCCC"> your</font>

805
00:42:01,420 --> 00:42:08,829
password users on leave because I found

806
00:42:06,009 --> 00:42:12,910
you know they haven't logged in in 30

807
00:42:08,829 --> 00:42:16,509
days cool<font color="#E5E5E5"> I'm resetting their password</font>

808
00:42:12,910 --> 00:42:20,049
<font color="#E5E5E5">I'm logging in when they get back wait</font>

809
00:42:16,509 --> 00:42:22,720
my password<font color="#CCCCCC"> is not working IT help</font><font color="#E5E5E5"> okay</font>

810
00:42:20,049 --> 00:42:25,569
here<font color="#E5E5E5"> we go or here let me go reset my</font>

811
00:42:22,720 --> 00:42:28,209
own password again<font color="#E5E5E5"> in the meantime guess</font>

812
00:42:25,569 --> 00:42:29,980
what I've read their emails I know what

813
00:42:28,210 --> 00:42:31,660
they're doing I've used<font color="#E5E5E5"> their account to</font>

814
00:42:29,980 --> 00:42:34,869
jump through your<font color="#E5E5E5"> network how do you</font>

815
00:42:31,660 --> 00:42:37,990
distinguish me impersonating that user

816
00:42:34,869 --> 00:42:40,200
and that user how do<font color="#E5E5E5"> you tell the</font>

817
00:42:37,990 --> 00:42:40,200
difference

818
00:42:42,240 --> 00:42:47,279
so okay now I'm jump around wait a

819
00:42:45,360 --> 00:42:49,380
<font color="#E5E5E5">minute I see what's users I want to</font>

820
00:42:47,280 --> 00:42:52,080
target I've read<font color="#E5E5E5"> your entire ad</font>

821
00:42:49,380 --> 00:42:54,960
infrastructure as a regular user we can

822
00:42:52,080 --> 00:42:57,630
do that I see the users I target oh wait

823
00:42:54,960 --> 00:42:59,970
<font color="#E5E5E5">that they sit here can I get another box</font>

824
00:42:57,630 --> 00:43:02,220
can I get<font color="#E5E5E5"> something else on this part of</font>

825
00:42:59,970 --> 00:43:05,129
the network can i log into his machine

826
00:43:02,220 --> 00:43:08,640
even<font color="#E5E5E5"> as a regular user okay cool i'm in</font>

827
00:43:05,130 --> 00:43:10,770
i'm sitting there<font color="#CCCCCC"> i capture his hash he</font>

828
00:43:08,640 --> 00:43:13,049
may<font color="#E5E5E5"> not be</font><font color="#CCCCCC"> a domain admin but i've</font>

829
00:43:10,770 --> 00:43:15,750
captured elevated privileges privileges

830
00:43:13,050 --> 00:43:17,369
I<font color="#CCCCCC"> login</font><font color="#E5E5E5"> to the servers do a little happy</font>

831
00:43:15,750 --> 00:43:20,160
dance you know now I'm<font color="#CCCCCC"> on your</font><font color="#E5E5E5"> server</font>

832
00:43:17,369 --> 00:43:22,800
<font color="#CCCCCC">network</font><font color="#E5E5E5"> I'm capturing live creds for</font>

833
00:43:20,160 --> 00:43:25,980
memory on your server because likely

834
00:43:22,800 --> 00:43:29,850
you've got running processes that I've

835
00:43:25,980 --> 00:43:32,930
been able<font color="#E5E5E5"> to exploit as not even explain</font>

836
00:43:29,850 --> 00:43:36,420
being able to see inject into as a

837
00:43:32,930 --> 00:43:38,640
regular user or an admin user that has

838
00:43:36,420 --> 00:43:41,369
those privileges on that machine I

839
00:43:38,640 --> 00:43:45,240
dumped<font color="#CCCCCC"> the passwords from memory wait a</font>

840
00:43:41,369 --> 00:43:48,270
minute now I<font color="#E5E5E5"> have domain admin as a</font>

841
00:43:45,240 --> 00:43:54,720
domain admin where can<font color="#CCCCCC"> I login to on a</font>

842
00:43:48,270 --> 00:43:57,630
network anywhere I want so again i'm

843
00:43:54,720 --> 00:44:01,200
going to your database servers i'm<font color="#E5E5E5"> going</font>

844
00:43:57,630 --> 00:44:04,680
<font color="#E5E5E5">to your sharepoint servers that houses</font>

845
00:44:01,200 --> 00:44:07,460
all your intellectual property<font color="#E5E5E5"> i'm using</font>

846
00:44:04,680 --> 00:44:10,560
it to create another user to give myself

847
00:44:07,460 --> 00:44:13,140
application access to your front end

848
00:44:10,560 --> 00:44:15,600
system so that i can log in<font color="#CCCCCC"> and dump</font>

849
00:44:13,140 --> 00:44:19,379
everything because the database is too

850
00:44:15,600 --> 00:44:24,420
big for me to dump too slow for me to

851
00:44:19,380 --> 00:44:28,109
top copy everything over oh shoot<font color="#E5E5E5"> i'm</font>

852
00:44:24,420 --> 00:44:30,780
right at the end so that being said a

853
00:44:28,109 --> 00:44:33,200
couple of things in conclusions things

854
00:44:30,780 --> 00:44:36,800
as an organization you need to be doing

855
00:44:33,200 --> 00:44:41,220
<font color="#E5E5E5">check your logs watch them religiously</font>

856
00:44:36,800 --> 00:44:44,340
<font color="#E5E5E5">know and distinguish traffic if you see</font>

857
00:44:41,220 --> 00:44:48,419
Bob<font color="#E5E5E5"> from accountings logging into your</font>

858
00:44:44,340 --> 00:44:52,350
servers at two in the morning what the

859
00:44:48,420 --> 00:44:54,930
hell's Bob doing is it really Bob likely

860
00:44:52,350 --> 00:44:55,890
no likely it's me likely I'm slurping

861
00:44:54,930 --> 00:44:59,980
your data down

862
00:44:55,890 --> 00:45:04,000
why is your essay a counter why is your

863
00:44:59,980 --> 00:45:07,480
service account logging in and checking

864
00:45:04,000 --> 00:45:09,610
your databases when it's not back up a

865
00:45:07,480 --> 00:45:12,510
scheduled backup and why do I have

866
00:45:09,610 --> 00:45:15,610
interactive login rights to your servers

867
00:45:12,510 --> 00:45:18,850
you need to be<font color="#E5E5E5"> checking your logs you</font>

868
00:45:15,610 --> 00:45:20,740
need to be vigilant just because you

869
00:45:18,850 --> 00:45:22,450
<font color="#CCCCCC">think you've set things up right you</font>

870
00:45:20,740 --> 00:45:24,970
need to be<font color="#CCCCCC"> looking for you need to be</font>

871
00:45:22,450 --> 00:45:29,200
<font color="#E5E5E5">looking for the</font><font color="#CCCCCC"> UNAM nominalist traffic</font>

872
00:45:24,970 --> 00:45:30,939
the other thing about<font color="#E5E5E5"> it is you need</font><font color="#CCCCCC"> to</font>

873
00:45:29,200 --> 00:45:32,410
be the strongest link you need to<font color="#E5E5E5"> become</font>

874
00:45:30,940 --> 00:45:34,660
the<font color="#E5E5E5"> strongest link because your</font>

875
00:45:32,410 --> 00:45:37,120
technology will and can fail can and

876
00:45:34,660 --> 00:45:40,899
<font color="#E5E5E5">will fail we will find ways around your</font>

877
00:45:37,120 --> 00:45:43,690
technology but you as the as the admin

878
00:45:40,900 --> 00:45:45,970
the users will find those things

879
00:45:43,690 --> 00:45:48,280
happening and can report it up to the

880
00:45:45,970 --> 00:45:50,259
right people so that they can raise that

881
00:45:48,280 --> 00:45:52,330
flag and say hey wait we're done we

882
00:45:50,260 --> 00:45:53,890
gotta stop this thank you everybody

883
00:45:52,330 --> 00:45:56,549
hopefully gave you something to think

884
00:45:53,890 --> 00:45:56,549
about and consider

