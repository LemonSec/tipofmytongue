1
00:00:02,570 --> 00:00:07,640
I know most of you still don't consider

2
00:00:05,149 --> 00:00:10,460
Microsoft as a good security provider

3
00:00:07,640 --> 00:00:12,830
but Microsoft is changing their whole

4
00:00:10,460 --> 00:00:16,160
strategy when it comes to endpoint

5
00:00:12,830 --> 00:00:19,280
protection in fact the name when those

6
00:00:16,160 --> 00:00:22,190
defender is not just the antivirus we

7
00:00:19,280 --> 00:00:26,690
all used you know and perhaps choose not

8
00:00:22,190 --> 00:00:29,660
to trust now Microsoft Defender ATP or

9
00:00:26,690 --> 00:00:32,419
advanced threat protection is the new

10
00:00:29,660 --> 00:00:34,819
thing and it's a brand name that

11
00:00:32,418 --> 00:00:37,550
consists of many products not just only

12
00:00:34,819 --> 00:00:40,460
the anti-malware all those products are

13
00:00:37,550 --> 00:00:42,769
working together tightly using the power

14
00:00:40,460 --> 00:00:45,800
of the cloud and the signals from

15
00:00:42,769 --> 00:00:47,989
Microsoft threat intelligent to deliver

16
00:00:45,800 --> 00:00:50,479
a comprehensive solution that can

17
00:00:47,989 --> 00:00:53,419
protect endpoints from zero day attacks

18
00:00:50,479 --> 00:00:56,600
and most sophisticated malware out there

19
00:00:53,420 --> 00:00:59,389
as an example when this defender smart

20
00:00:56,600 --> 00:01:01,549
screen block low reputation web

21
00:00:59,389 --> 00:01:04,309
downloads and even malicious websites

22
00:01:01,549 --> 00:01:06,710
while Windows Defender endpoint

23
00:01:04,309 --> 00:01:08,780
protection monitors all windows

24
00:01:06,710 --> 00:01:10,970
processes and files and then their

25
00:01:08,780 --> 00:01:13,100
minutes or cleans any infection found

26
00:01:10,970 --> 00:01:16,550
the next innovation that comes with

27
00:01:13,100 --> 00:01:19,640
Microsoft Defender ATP is the ability to

28
00:01:16,550 --> 00:01:22,130
automate the responses when an attack is

29
00:01:19,640 --> 00:01:24,320
detected which is possible through a

30
00:01:22,130 --> 00:01:27,830
recent acquisition to a company called

31
00:01:24,320 --> 00:01:30,559
hexa dyed so that security admins don't

32
00:01:27,830 --> 00:01:34,070
need to worry much about responding to

33
00:01:30,560 --> 00:01:38,090
threats as this is taken care of by the

34
00:01:34,070 --> 00:01:40,699
new automation capability and the new

35
00:01:38,090 --> 00:01:43,400
way of defending against attacks is by

36
00:01:40,700 --> 00:01:46,130
utilizing the power of the cloud and the

37
00:01:43,400 --> 00:01:49,220
intelligent security graph at Microsoft

38
00:01:46,130 --> 00:01:52,339
Microsoft intelligent security graph

39
00:01:49,220 --> 00:01:54,320
provides rich signals from vast security

40
00:01:52,340 --> 00:01:56,810
intelligence machine learning and

41
00:01:54,320 --> 00:01:59,300
behavior analytics that Microsoft's

42
00:01:56,810 --> 00:02:02,150
allow you to consume and use to enhance

43
00:01:59,300 --> 00:02:04,158
your protection and detection speeds so

44
00:02:02,150 --> 00:02:06,680
when Windows Defender encounters a new

45
00:02:04,159 --> 00:02:09,920
file for example that it does not know

46
00:02:06,680 --> 00:02:13,340
if it's bad or good file it sends a file

47
00:02:09,919 --> 00:02:16,309
query to the cloud hey cloud do you know

48
00:02:13,340 --> 00:02:18,050
about this file now if the cloud knows

49
00:02:16,310 --> 00:02:21,170
about this files it will provide the

50
00:02:18,050 --> 00:02:23,470
feedback to the endpoint otherwise it

51
00:02:21,170 --> 00:02:27,530
will ask the endpoint to send a sample

52
00:02:23,470 --> 00:02:30,410
that client holds the file and uploads

53
00:02:27,530 --> 00:02:32,900
the sample to the cloud the cloud

54
00:02:30,410 --> 00:02:34,640
services will process the sample and

55
00:02:32,900 --> 00:02:37,459
shake against machine learning

56
00:02:34,640 --> 00:02:41,089
classifiers trying to find out whether

57
00:02:37,459 --> 00:02:43,550
that file is good or not and then if the

58
00:02:41,090 --> 00:02:46,519
file turned out to be holding a

59
00:02:43,550 --> 00:02:49,100
malicious code the cloud will generate a

60
00:02:46,519 --> 00:02:51,440
new signature to that file and send it

61
00:02:49,100 --> 00:02:54,200
back to the client not only to that

62
00:02:51,440 --> 00:02:56,420
client it will send it to all clients so

63
00:02:54,200 --> 00:02:59,480
that when they encounter this file they

64
00:02:56,420 --> 00:03:02,839
know already to block it now you can see

65
00:02:59,480 --> 00:03:05,149
that many pieces came together to defend

66
00:03:02,840 --> 00:03:06,980
against to these zero days attack you

67
00:03:05,150 --> 00:03:09,620
need a strong endpoint detect and

68
00:03:06,980 --> 00:03:11,660
respond engine at the endpoint level you

69
00:03:09,620 --> 00:03:14,330
need the power of the cloud to help you

70
00:03:11,660 --> 00:03:16,640
against zero day attacks and you need

71
00:03:14,330 --> 00:03:19,250
the power of machine learning and AI at

72
00:03:16,640 --> 00:03:21,890
the endpoint a data cloud to recognize

73
00:03:19,250 --> 00:03:24,200
new type of malware that are seen for

74
00:03:21,890 --> 00:03:26,328
the first time and you might be asking

75
00:03:24,200 --> 00:03:28,790
does this mean the client needs to

76
00:03:26,329 --> 00:03:31,190
consult the cloud and wait for an answer

77
00:03:28,790 --> 00:03:34,310
and what if there is no internet

78
00:03:31,190 --> 00:03:37,519
connection at that time well here is how

79
00:03:34,310 --> 00:03:40,160
things are designed each Microsoft

80
00:03:37,519 --> 00:03:42,440
defender client has local machine

81
00:03:40,160 --> 00:03:45,319
learning models and behavior based

82
00:03:42,440 --> 00:03:47,750
detection algorithms right so this means

83
00:03:45,319 --> 00:03:49,638
you can use all that logic offline

84
00:03:47,750 --> 00:03:52,639
without consulting the cloud this

85
00:03:49,639 --> 00:03:54,829
operation takes only milliseconds but

86
00:03:52,639 --> 00:03:58,489
the client can consult the cloud by

87
00:03:54,829 --> 00:04:01,430
sending only metadata only metadata so

88
00:03:58,489 --> 00:04:03,739
that cloud can use metadata beef's

89
00:04:01,430 --> 00:04:06,049
machine learning models the determine if

90
00:04:03,739 --> 00:04:09,200
the file is malicious or not this only

91
00:04:06,049 --> 00:04:13,220
takes milliseconds also but if the cloud

92
00:04:09,200 --> 00:04:15,410
requested a sample then sample analysis

93
00:04:13,220 --> 00:04:18,108
based machine learning models are used

94
00:04:15,410 --> 00:04:21,858
in the cloud which might take seconds

95
00:04:18,108 --> 00:04:24,440
not milliseconds seconds now in certain

96
00:04:21,858 --> 00:04:26,900
scenarios detonation based machine

97
00:04:24,440 --> 00:04:29,569
learning models can be invoked which

98
00:04:26,900 --> 00:04:33,589
might take minutes and big data

99
00:04:29,569 --> 00:04:36,229
Elisa's can take up two hours what this

100
00:04:33,589 --> 00:04:38,539
means is that the client will not wait

101
00:04:36,229 --> 00:04:40,279
for minutes and hours if the file is

102
00:04:38,539 --> 00:04:43,039
infected and the cloud could not

103
00:04:40,279 --> 00:04:45,289
determine it is a bad file in seconds

104
00:04:43,039 --> 00:04:47,929
the client will allow the file to run in

105
00:04:45,289 --> 00:04:50,419
the background the cloud will continue

106
00:04:47,929 --> 00:04:53,208
working and analyzing and might do the

107
00:04:50,419 --> 00:04:55,099
tunisian piece ml models and big data

108
00:04:53,209 --> 00:04:58,520
analysis to get the truth about that

109
00:04:55,099 --> 00:05:01,580
file so other clients are notified and

110
00:04:58,520 --> 00:05:04,159
updated although we lost patient zero or

111
00:05:01,580 --> 00:05:07,758
that initial client who encountered the

112
00:05:04,159 --> 00:05:09,830
file in the first place when it comes to

113
00:05:07,759 --> 00:05:11,779
the cyber kill chain we find that

114
00:05:09,830 --> 00:05:14,899
Microsoft Defender ATP fits in the

115
00:05:11,779 --> 00:05:16,729
advanced threat detection area trying to

116
00:05:14,899 --> 00:05:19,069
detect and prevent malware from

117
00:05:16,729 --> 00:05:22,878
installing and using machine learning to

118
00:05:19,069 --> 00:05:26,360
detect zero-day attacks now it's time

119
00:05:22,879 --> 00:05:28,550
for our demo finally now attacks that

120
00:05:26,360 --> 00:05:31,129
introduce file based malware using

121
00:05:28,550 --> 00:05:33,740
socially engineered emails are quite

122
00:05:31,129 --> 00:05:35,509
common recipients are tracked into

123
00:05:33,740 --> 00:05:37,610
launching a backdoor that gives that

124
00:05:35,509 --> 00:05:40,759
hackers control over what is now a

125
00:05:37,610 --> 00:05:43,969
compromised machine now this demo

126
00:05:40,759 --> 00:05:46,159
simulates that attack similarly the

127
00:05:43,969 --> 00:05:48,919
attack that are launched using a

128
00:05:46,159 --> 00:05:51,498
socially engineered word document in a

129
00:05:48,919 --> 00:05:53,448
spear phishing email the attack is

130
00:05:51,499 --> 00:05:56,899
designed to ensure that the receiver

131
00:05:53,449 --> 00:06:00,139
does not suspect a thing and opens the

132
00:05:56,899 --> 00:06:03,019
document the document however is repo

133
00:06:00,139 --> 00:06:05,869
knives with crafted macro code that

134
00:06:03,019 --> 00:06:09,079
silently drops and loads an executable

135
00:06:05,869 --> 00:06:12,229
file into that machine the executable

136
00:06:09,079 --> 00:06:15,319
then writes a registry key and creates a

137
00:06:12,229 --> 00:06:18,740
scheduled task both commonly known auto

138
00:06:15,319 --> 00:06:22,129
start extensible points after the attack

139
00:06:18,740 --> 00:06:25,899
finishes we can explore and understand

140
00:06:22,129 --> 00:06:29,659
how Microsoft Defender ATP detects and

141
00:06:25,899 --> 00:06:32,419
respond to the attack and enables prompt

142
00:06:29,659 --> 00:06:34,459
investigation and response in this demo

143
00:06:32,419 --> 00:06:37,609
I will start by importing a machine to

144
00:06:34,459 --> 00:06:39,709
Microsoft Defender ATP then I will open

145
00:06:37,610 --> 00:06:42,860
an infected document from the user

146
00:06:39,709 --> 00:06:43,350
machine the infected document drops a

147
00:06:42,860 --> 00:06:45,930
bag

148
00:06:43,350 --> 00:06:47,880
and creates a scheduled task for the

149
00:06:45,930 --> 00:06:51,090
resistance I will then show you how

150
00:06:47,880 --> 00:06:53,580
Microsoft Defender ATP can help you in

151
00:06:51,090 --> 00:06:56,010
all phases of the incident response

152
00:06:53,580 --> 00:06:58,430
management including detecting and

153
00:06:56,010 --> 00:07:01,920
incident mitigation and containment

154
00:06:58,430 --> 00:07:04,200
recovery and remediation you will then

155
00:07:01,920 --> 00:07:06,870
get the chance to explore the Microsoft

156
00:07:04,200 --> 00:07:10,320
Defender ATP management portal and see

157
00:07:06,870 --> 00:07:12,450
all the new features let's go to part 1

158
00:07:10,320 --> 00:07:16,260
of this demo onboarding a machine to

159
00:07:12,450 --> 00:07:18,479
Microsoft Defender ATP in this demo we

160
00:07:16,260 --> 00:07:22,320
are going to on board a demo machine to

161
00:07:18,480 --> 00:07:25,350
Microsoft Defender ATP do that I will go

162
00:07:22,320 --> 00:07:27,870
to Security Center at windows comm to

163
00:07:25,350 --> 00:07:31,170
access the management portal then

164
00:07:27,870 --> 00:07:34,170
settings and I will scroll down to find

165
00:07:31,170 --> 00:07:36,510
the onboarding section under machine

166
00:07:34,170 --> 00:07:40,010
management here you can see different

167
00:07:36,510 --> 00:07:43,469
ways to deploy Microsoft Defender ATP

168
00:07:40,010 --> 00:07:46,320
including Group Policy System Center

169
00:07:43,470 --> 00:07:48,840
Configuration Manager and a local script

170
00:07:46,320 --> 00:07:51,750
I will quickly choose local script and

171
00:07:48,840 --> 00:07:54,179
click download package I will run this

172
00:07:51,750 --> 00:07:56,970
script to my machine to unboard it to

173
00:07:54,180 --> 00:08:00,810
Microsoft Defender ATP and as you can

174
00:07:56,970 --> 00:08:03,720
see it takes couple of seconds now this

175
00:08:00,810 --> 00:08:07,770
machine is protected and managed by

176
00:08:03,720 --> 00:08:09,480
Microsoft Defender ATP so as you can see

177
00:08:07,770 --> 00:08:12,930
there is no need to install anything

178
00:08:09,480 --> 00:08:14,760
just running a script to guide this

179
00:08:12,930 --> 00:08:18,660
machine to report to the right

180
00:08:14,760 --> 00:08:20,490
Microsoft Defender ATP tenant and part

181
00:08:18,660 --> 00:08:22,380
two of this demo I'm going to deliver a

182
00:08:20,490 --> 00:08:24,480
malware to the demo machine let's

183
00:08:22,380 --> 00:08:26,850
pretend that this machine is a Windows

184
00:08:24,480 --> 00:08:29,520
machine of a user who received this Word

185
00:08:26,850 --> 00:08:31,590
document it could be delivered to him by

186
00:08:29,520 --> 00:08:32,280
email a chat window or by any other

187
00:08:31,590 --> 00:08:35,130
means

188
00:08:32,280 --> 00:08:37,709
now with the user opens that document he

189
00:08:35,130 --> 00:08:39,809
sees this tempting yellow bar in the top

190
00:08:37,710 --> 00:08:42,360
to enable editing and then of course

191
00:08:39,809 --> 00:08:44,520
there is that macro bar that users

192
00:08:42,360 --> 00:08:48,120
cannot resist and they feel they need to

193
00:08:44,520 --> 00:08:50,520
help that enable content a few seconds

194
00:08:48,120 --> 00:08:52,380
later a hidden PowerShell script is

195
00:08:50,520 --> 00:08:54,930
launched from this documents malicious

196
00:08:52,380 --> 00:08:55,660
macro and it performs the following

197
00:08:54,930 --> 00:08:58,779
actions

198
00:08:55,660 --> 00:09:01,509
first that macro drops an executable

199
00:08:58,779 --> 00:09:03,939
file which represents the backdoor onto

200
00:09:01,509 --> 00:09:06,370
the disk top folder then the scape goes

201
00:09:03,940 --> 00:09:08,769
on to create a scheduled task to launch

202
00:09:06,370 --> 00:09:11,769
the backdoor at a predefined time and

203
00:09:08,769 --> 00:09:14,259
finally when the backdoor is launched it

204
00:09:11,769 --> 00:09:16,509
creates an auto start entry under the

205
00:09:14,259 --> 00:09:18,790
registry run key allowing it to stay P

206
00:09:16,509 --> 00:09:21,579
resistant by starting automatically with

207
00:09:18,790 --> 00:09:23,769
Windows you can also see that Microsoft

208
00:09:21,579 --> 00:09:25,839
Defender 80p detects what's happening

209
00:09:23,769 --> 00:09:27,939
and this is where we will continue the

210
00:09:25,839 --> 00:09:30,850
demo by logging on to the Microsoft

211
00:09:27,939 --> 00:09:32,709
Defender ATP management portal now that

212
00:09:30,850 --> 00:09:35,019
the malware is delivered to the user

213
00:09:32,709 --> 00:09:37,029
machine we are going in part three of

214
00:09:35,019 --> 00:09:40,410
this demo to detect and investigate the

215
00:09:37,029 --> 00:09:43,180
attack on Microsoft Defender ATP portal

216
00:09:40,410 --> 00:09:45,160
let's switch to our defender role and

217
00:09:43,180 --> 00:09:47,620
explore the attack from the soft point

218
00:09:45,160 --> 00:09:50,920
of view in the Microsoft defender ATP

219
00:09:47,620 --> 00:09:54,310
portal located at Security Center dot

220
00:09:50,920 --> 00:09:56,290
windows comm Microsoft Defender ATP

221
00:09:54,310 --> 00:09:58,540
applies correlation analytics and

222
00:09:56,290 --> 00:10:00,880
aggregate or related alerts into one

223
00:09:58,540 --> 00:10:02,769
incident entity allowing the Sauk

224
00:10:00,880 --> 00:10:05,139
analyst to understand and deal with

225
00:10:02,769 --> 00:10:07,300
complex threads across the organization

226
00:10:05,139 --> 00:10:09,430
with the right visuals as we see here

227
00:10:07,300 --> 00:10:11,769
let me select this incident and then

228
00:10:09,430 --> 00:10:14,319
open the incident page you can see in

229
00:10:11,769 --> 00:10:16,860
the incident page all alerts related to

230
00:10:14,319 --> 00:10:19,959
this incident all machines involved

231
00:10:16,860 --> 00:10:22,660
investigations evidence and graph here

232
00:10:19,959 --> 00:10:25,119
I'm at the alerts page reviewing the

233
00:10:22,660 --> 00:10:27,790
incident alert list and Falls the

234
00:10:25,120 --> 00:10:30,759
progression of the attack from this view

235
00:10:27,790 --> 00:10:32,920
you can dive into individual alerts you

236
00:10:30,759 --> 00:10:35,110
can also see all machines affected by

237
00:10:32,920 --> 00:10:38,319
this attack here we have three machines

238
00:10:35,110 --> 00:10:41,019
for example with high security risk the

239
00:10:38,319 --> 00:10:43,120
graph is also a great visualization that

240
00:10:41,019 --> 00:10:46,569
shows all machines involved in this

241
00:10:43,120 --> 00:10:48,459
attack and all entities involved so for

242
00:10:46,569 --> 00:10:51,009
our machine we can see there is a

243
00:10:48,459 --> 00:10:53,979
PowerShell script involved and you can

244
00:10:51,009 --> 00:10:56,709
see the hash value of that script the

245
00:10:53,980 --> 00:11:00,100
script creates a scheduled task to

246
00:10:56,709 --> 00:11:02,559
persist after reboots here is also the

247
00:11:00,100 --> 00:11:04,509
office word process that starts the

248
00:11:02,559 --> 00:11:06,819
whole attack when a user opened the

249
00:11:04,509 --> 00:11:09,220
infected word document and finally you

250
00:11:06,819 --> 00:11:11,469
can see executable file or

251
00:11:09,220 --> 00:11:14,290
door that was dropped from the infected

252
00:11:11,470 --> 00:11:16,720
word document now let me go to the demo

253
00:11:14,290 --> 00:11:19,569
three machine and as you can see each

254
00:11:16,720 --> 00:11:22,990
machine protected by Microsoft Defender

255
00:11:19,570 --> 00:11:25,480
ATP has its own page on the machine page

256
00:11:22,990 --> 00:11:29,610
you can see different sections like

257
00:11:25,480 --> 00:11:32,560
alerts timeline security recommendations

258
00:11:29,610 --> 00:11:35,530
software inventory and discovered

259
00:11:32,560 --> 00:11:38,170
vulnerabilities you can see also the

260
00:11:35,530 --> 00:11:40,810
risk level of that machine the logged on

261
00:11:38,170 --> 00:11:42,760
user and basic information about the

262
00:11:40,810 --> 00:11:46,000
machine like the domain membership and

263
00:11:42,760 --> 00:11:48,310
operating system information let me open

264
00:11:46,000 --> 00:11:50,800
this alert as we try to reproduce how

265
00:11:48,310 --> 00:11:53,439
the attack took place the alert is a

266
00:11:50,800 --> 00:11:56,199
PowerShell dropped a suspicious file on

267
00:11:53,440 --> 00:11:59,110
this machine you can see the process 3

268
00:11:56,200 --> 00:12:01,450
here we have the Windows Explorer L

269
00:11:59,110 --> 00:12:04,480
process and the word document that

270
00:12:01,450 --> 00:12:05,230
triggers the PowerShell script now that

271
00:12:04,480 --> 00:12:08,380
script

272
00:12:05,230 --> 00:12:10,840
the two things drops a backdoor and

273
00:12:08,380 --> 00:12:13,689
creates a scheduled task as you can see

274
00:12:10,840 --> 00:12:15,910
here you can also go deeper and see the

275
00:12:13,690 --> 00:12:17,770
full PowerShell script that was invoked

276
00:12:15,910 --> 00:12:20,860
on that machine and the hash value of

277
00:12:17,770 --> 00:12:23,740
that script you can also see the hash

278
00:12:20,860 --> 00:12:25,900
value of the backdoor file and this is

279
00:12:23,740 --> 00:12:29,530
useful if we want to search if the same

280
00:12:25,900 --> 00:12:31,390
backdoor exist on other machines now if

281
00:12:29,530 --> 00:12:33,610
you want to know more details about this

282
00:12:31,390 --> 00:12:36,610
scheduled task that was created by this

283
00:12:33,610 --> 00:12:38,680
attack to persist after reboots you can

284
00:12:36,610 --> 00:12:41,620
see here the comment used to create a

285
00:12:38,680 --> 00:12:44,500
scheduled task by the malware this is so

286
00:12:41,620 --> 00:12:46,420
powerful I will go to the alerts page

287
00:12:44,500 --> 00:12:49,060
again and let's open this alert

288
00:12:46,420 --> 00:12:52,060
suspicious PowerShell command line and

289
00:12:49,060 --> 00:12:54,400
as you can see you have the same process

290
00:12:52,060 --> 00:12:56,619
three and even a nice graph of showing

291
00:12:54,400 --> 00:12:58,990
all entities related to this PowerShell

292
00:12:56,620 --> 00:13:01,330
here you can see the same PowerShell

293
00:12:58,990 --> 00:13:03,880
script is invoked on a machine called

294
00:13:01,330 --> 00:13:06,670
demo one which is so important to know

295
00:13:03,880 --> 00:13:09,030
not only we discover the attack but now

296
00:13:06,670 --> 00:13:12,790
we can reimagine how it happens and what

297
00:13:09,030 --> 00:13:14,980
machines were infected I will go now to

298
00:13:12,790 --> 00:13:17,260
the machines timeline to get more

299
00:13:14,980 --> 00:13:18,230
details about all events happening on

300
00:13:17,260 --> 00:13:20,960
that machine

301
00:13:18,230 --> 00:13:23,300
to ease investigation here you can see

302
00:13:20,960 --> 00:13:25,940
each and every process activities

303
00:13:23,300 --> 00:13:28,729
recorded for every machine for example

304
00:13:25,940 --> 00:13:31,040
you can see we have the office click to

305
00:13:28,730 --> 00:13:33,920
run executable establishing a connection

306
00:13:31,040 --> 00:13:36,110
to a remote IP you can see the comment

307
00:13:33,920 --> 00:13:39,260
line that was run the hash of the

308
00:13:36,110 --> 00:13:42,350
executable and the remote IP URL and

309
00:13:39,260 --> 00:13:45,350
even the port number now let me filter

310
00:13:42,350 --> 00:13:48,110
the time line for alert related events

311
00:13:45,350 --> 00:13:49,760
and we now have a filtered view of all

312
00:13:48,110 --> 00:13:52,790
suspicious activities in that machine

313
00:13:49,760 --> 00:13:55,340
including be suspicious partial command

314
00:13:52,790 --> 00:13:58,130
line and to show you how this is a

315
00:13:55,340 --> 00:14:01,430
powerful thing let me filter the view

316
00:13:58,130 --> 00:14:03,470
and search for PowerShell you can see

317
00:14:01,430 --> 00:14:05,689
immediately I can see all events and

318
00:14:03,470 --> 00:14:08,360
suspicious activities that involves

319
00:14:05,690 --> 00:14:10,400
PowerShell on this machine so for

320
00:14:08,360 --> 00:14:12,680
example I have a PowerShell created a

321
00:14:10,400 --> 00:14:15,110
script and the behavior is document

322
00:14:12,680 --> 00:14:18,949
exploit and we have the Windward that

323
00:14:15,110 --> 00:14:21,020
exe created the process PowerShell here

324
00:14:18,950 --> 00:14:24,680
we have the context which is the user

325
00:14:21,020 --> 00:14:26,600
called master now we know that the word

326
00:14:24,680 --> 00:14:29,060
document created a process called

327
00:14:26,600 --> 00:14:31,280
PowerShell dot exe which invoked a

328
00:14:29,060 --> 00:14:33,199
suspicious PowerShell script that

329
00:14:31,280 --> 00:14:35,390
dropped a backdoor and created a

330
00:14:33,200 --> 00:14:37,400
scheduled task now that you learn how

331
00:14:35,390 --> 00:14:39,830
this attack took place it's time to take

332
00:14:37,400 --> 00:14:42,319
some actions I will go to the incident

333
00:14:39,830 --> 00:14:44,480
section and open the incident page for

334
00:14:42,320 --> 00:14:47,630
this attack you can see I have the

335
00:14:44,480 --> 00:14:50,000
action and assistant section here I can

336
00:14:47,630 --> 00:14:52,189
resolve the incident or assign the

337
00:14:50,000 --> 00:14:54,500
incident to me so that others in the

338
00:14:52,190 --> 00:14:56,840
sock team can acknowledge that I will be

339
00:14:54,500 --> 00:14:59,270
investigating this one before conducting

340
00:14:56,840 --> 00:15:02,060
the investigation however it's good idea

341
00:14:59,270 --> 00:15:04,250
to look at the reports dashboard it

342
00:15:02,060 --> 00:15:07,069
provides high-level information about

343
00:15:04,250 --> 00:15:09,800
alerts and machines related information

344
00:15:07,070 --> 00:15:11,930
generated in your organization the

345
00:15:09,800 --> 00:15:13,760
report includes trends and summary

346
00:15:11,930 --> 00:15:16,430
information on alerts and machines

347
00:15:13,760 --> 00:15:17,810
knowing the trends and summaries related

348
00:15:16,430 --> 00:15:20,540
to others and machines in your

349
00:15:17,810 --> 00:15:23,150
organization can help identify where

350
00:15:20,540 --> 00:15:25,819
focused improvements can be made for

351
00:15:23,150 --> 00:15:28,130
example if you see a sudden spike in a

352
00:15:25,820 --> 00:15:30,870
specific kind of alert you can drill

353
00:15:28,130 --> 00:15:33,180
down and start investigating directly

354
00:15:30,870 --> 00:15:35,400
from the irrelevant card to pivot into

355
00:15:33,180 --> 00:15:37,920
the alert or machine queue with the

356
00:15:35,400 --> 00:15:39,860
relevant filters applied and determined

357
00:15:37,920 --> 00:15:42,300
what action to take to address an issue

358
00:15:39,860 --> 00:15:44,310
finally I want to show you one of my

359
00:15:42,300 --> 00:15:46,770
favorite tools to help you investigate

360
00:15:44,310 --> 00:15:49,709
incidents remember that the infected

361
00:15:46,770 --> 00:15:52,410
word document was found on the machine

362
00:15:49,710 --> 00:15:55,290
that drops a backdoor executable and

363
00:15:52,410 --> 00:15:57,870
invoked a suspicious power shield I can

364
00:15:55,290 --> 00:16:01,529
copy the hash of the word document and

365
00:15:57,870 --> 00:16:04,230
use the search bar to see if this word

366
00:16:01,529 --> 00:16:07,770
document exists on any of my other

367
00:16:04,230 --> 00:16:10,230
machines doing that gives me more

368
00:16:07,770 --> 00:16:12,420
information about this document like the

369
00:16:10,230 --> 00:16:14,790
digital signature and hash values and

370
00:16:12,420 --> 00:16:17,459
whether this document was seen on other

371
00:16:14,790 --> 00:16:19,860
organizations globally to give you more

372
00:16:17,460 --> 00:16:22,470
insight if this is a targeted attack or

373
00:16:19,860 --> 00:16:24,240
not you will also get alerts related to

374
00:16:22,470 --> 00:16:27,089
this document and the most important

375
00:16:24,240 --> 00:16:30,180
part is you get a list of machines with

376
00:16:27,089 --> 00:16:33,240
Microsoft Defender 80 pcs that file a

377
00:16:30,180 --> 00:16:35,699
new organization in this case we have

378
00:16:33,240 --> 00:16:38,730
three machines where this word document

379
00:16:35,700 --> 00:16:40,920
get dropped this is important for you as

380
00:16:38,730 --> 00:16:43,050
a security professional because it's not

381
00:16:40,920 --> 00:16:46,020
just mitigating the threat on one

382
00:16:43,050 --> 00:16:48,329
machine but you really want to see if

383
00:16:46,020 --> 00:16:50,970
this attack spread to other machines and

384
00:16:48,330 --> 00:16:54,360
then cover all infected machines during

385
00:16:50,970 --> 00:16:55,920
your investigation before we end up this

386
00:16:54,360 --> 00:16:58,920
demo let me show you another interesting

387
00:16:55,920 --> 00:17:01,709
feature called automated investigation

388
00:16:58,920 --> 00:17:04,079
Microsoft Defender ATP can start an

389
00:17:01,709 --> 00:17:06,389
investigation and automate a lot of

390
00:17:04,079 --> 00:17:09,240
actions without human interactions and

391
00:17:06,390 --> 00:17:12,420
using machine learning here you can see

392
00:17:09,240 --> 00:17:14,579
Microsoft Defender ATP recognizes a

393
00:17:12,420 --> 00:17:16,679
dangerous tool called mimic ads running

394
00:17:14,579 --> 00:17:18,809
on one of my machines and it

395
00:17:16,679 --> 00:17:22,230
automatically started an automated

396
00:17:18,809 --> 00:17:24,809
investigation for me if you watch one of

397
00:17:22,230 --> 00:17:27,449
the famous crime-scene investigation or

398
00:17:24,809 --> 00:17:29,639
CSI TV series you know that

399
00:17:27,449 --> 00:17:33,179
investigators at the crime scene start

400
00:17:29,640 --> 00:17:35,150
by gathering evidences and ask witnesses

401
00:17:33,179 --> 00:17:37,950
to learn more about what just happened

402
00:17:35,150 --> 00:17:40,320
this is the same thing we have here

403
00:17:37,950 --> 00:17:41,900
under the investigation graph we have

404
00:17:40,320 --> 00:17:44,870
the dead body which

405
00:17:41,900 --> 00:17:47,330
the machine or machines list we have the

406
00:17:44,870 --> 00:17:49,820
witness list people who might know more

407
00:17:47,330 --> 00:17:52,730
about this crime and in our case we have

408
00:17:49,820 --> 00:17:54,980
the entities analyzed so Microsoft

409
00:17:52,730 --> 00:17:56,930
Defender ATP is investigating two

410
00:17:54,980 --> 00:17:59,840
thousand three hundred forty two files

411
00:17:56,930 --> 00:18:00,320
one hundred and fifty processes in this

412
00:17:59,840 --> 00:18:03,379
machine

413
00:18:00,320 --> 00:18:06,649
two hundred sixty two services and

414
00:18:03,380 --> 00:18:08,630
couple of drivers and the TV series the

415
00:18:06,650 --> 00:18:10,730
investigator will look at the list of

416
00:18:08,630 --> 00:18:13,340
phone calls made by the victim before

417
00:18:10,730 --> 00:18:15,890
the crime happens and here Microsoft

418
00:18:13,340 --> 00:18:19,040
Defender ATP is investigating the list

419
00:18:15,890 --> 00:18:21,680
of IP addresses this machine talked to

420
00:18:19,040 --> 00:18:24,230
during that period and all this

421
00:18:21,680 --> 00:18:28,220
investigation to all these entities is

422
00:18:24,230 --> 00:18:30,830
finished after 45 seconds only by

423
00:18:28,220 --> 00:18:34,100
defender ATP this is the true power of

424
00:18:30,830 --> 00:18:36,189
automation we have the list of alert

425
00:18:34,100 --> 00:18:40,070
part of this investigation

426
00:18:36,190 --> 00:18:42,320
list of machines infected a view of all

427
00:18:40,070 --> 00:18:44,840
entities involved in this investigation

428
00:18:42,320 --> 00:18:46,580
as you can see we have three thousand

429
00:18:44,840 --> 00:18:49,520
four hundred twenty entities involved

430
00:18:46,580 --> 00:18:51,290
here and the investigation log which is

431
00:18:49,520 --> 00:18:53,720
list of action

432
00:18:51,290 --> 00:18:56,180
Microsoft Defender ATP talk during this

433
00:18:53,720 --> 00:18:58,910
investigation and we have one pending

434
00:18:56,180 --> 00:19:00,410
action that defender ATP asked me to

435
00:18:58,910 --> 00:19:03,110
confirm before closing this

436
00:19:00,410 --> 00:19:05,690
investigation I already approved this

437
00:19:03,110 --> 00:19:10,280
pending action which is to quarantine

438
00:19:05,690 --> 00:19:12,200
Democrats folders and executable in part

439
00:19:10,280 --> 00:19:14,600
four of this demo we are going to log

440
00:19:12,200 --> 00:19:17,390
into Microsoft Defender ATP portal and

441
00:19:14,600 --> 00:19:19,879
collect investigation package from the

442
00:19:17,390 --> 00:19:22,280
infected machine when your forensic team

443
00:19:19,880 --> 00:19:24,650
is involved to understand how the attack

444
00:19:22,280 --> 00:19:26,750
happened and truly understand the depth

445
00:19:24,650 --> 00:19:28,570
of the attack the first thing they want

446
00:19:26,750 --> 00:19:31,760
to do is to collect as much information

447
00:19:28,570 --> 00:19:34,040
from the infected machine Microsoft

448
00:19:31,760 --> 00:19:36,200
Defender ATP gives you the ability from

449
00:19:34,040 --> 00:19:38,149
the management portal to go and collect

450
00:19:36,200 --> 00:19:41,240
an investigation package that your

451
00:19:38,150 --> 00:19:43,520
forensic team can use so here I am

452
00:19:41,240 --> 00:19:45,350
logged to the Microsoft Defender ATP

453
00:19:43,520 --> 00:19:47,629
management portal and I can see I have

454
00:19:45,350 --> 00:19:50,449
couple of alerts and they have some

455
00:19:47,630 --> 00:19:52,580
machines at risks let me quickly choose

456
00:19:50,450 --> 00:19:55,090
demo three machine and open the machine

457
00:19:52,580 --> 00:19:57,340
page I can quickly see the risk

458
00:19:55,090 --> 00:20:00,730
level of that machine obviously there is

459
00:19:57,340 --> 00:20:02,709
one incident with seven active alerts so

460
00:20:00,730 --> 00:20:05,020
it might worth investigating

461
00:20:02,710 --> 00:20:08,200
you can see a list of actions in the top

462
00:20:05,020 --> 00:20:10,240
bar as this action you as security

463
00:20:08,200 --> 00:20:12,250
professional can perform remotely from

464
00:20:10,240 --> 00:20:14,670
the management portal without going to

465
00:20:12,250 --> 00:20:18,460
the machine itself one of the actions is

466
00:20:14,670 --> 00:20:21,160
collect investigation package if I click

467
00:20:18,460 --> 00:20:23,260
it this will send a request to the local

468
00:20:21,160 --> 00:20:25,960
Microsoft Defender ATP agent on that

469
00:20:23,260 --> 00:20:28,420
machine instructing it to collect

470
00:20:25,960 --> 00:20:30,670
forensic information right now from that

471
00:20:28,420 --> 00:20:33,430
machine and send the results back to the

472
00:20:30,670 --> 00:20:35,470
Microsoft Defender ATP cloud services

473
00:20:33,430 --> 00:20:37,900
and then make it available to me as a

474
00:20:35,470 --> 00:20:39,990
security professional from the portal so

475
00:20:37,900 --> 00:20:42,670
that I can continue my investigation I

476
00:20:39,990 --> 00:20:45,340
already did that so in the Action Center

477
00:20:42,670 --> 00:20:47,980
I can see there is an item waiting for

478
00:20:45,340 --> 00:20:50,379
my review I can see the investigation

479
00:20:47,980 --> 00:20:52,300
package is now ready for me to review I

480
00:20:50,380 --> 00:20:52,990
will open it quickly and see what's

481
00:20:52,300 --> 00:20:54,490
inside

482
00:20:52,990 --> 00:20:56,590
here you can see a lot of information

483
00:20:54,490 --> 00:20:58,660
made available for you to help you in

484
00:20:56,590 --> 00:21:01,120
your investigation let me start by the

485
00:20:58,660 --> 00:21:03,460
auto runs as most attacks involve

486
00:21:01,120 --> 00:21:05,679
modifying the auto run on machines to

487
00:21:03,460 --> 00:21:07,060
persist after reboots so it's a good

488
00:21:05,680 --> 00:21:08,830
thing to review the author and

489
00:21:07,060 --> 00:21:10,780
configuration for the infected machine

490
00:21:08,830 --> 00:21:12,760
you also get a list of installed

491
00:21:10,780 --> 00:21:14,500
programs on that machine the list

492
00:21:12,760 --> 00:21:17,050
contains information about each

493
00:21:14,500 --> 00:21:19,090
application installed on the machine the

494
00:21:17,050 --> 00:21:21,149
date of installation and other more

495
00:21:19,090 --> 00:21:24,040
detailed information for you to review

496
00:21:21,150 --> 00:21:26,740
next we have the network connections

497
00:21:24,040 --> 00:21:28,750
very important piece of information if

498
00:21:26,740 --> 00:21:30,940
the attack is still happening on that

499
00:21:28,750 --> 00:21:33,280
machine you want to learn about what

500
00:21:30,940 --> 00:21:34,660
this machine is communicating with so

501
00:21:33,280 --> 00:21:36,250
here you have the active network

502
00:21:34,660 --> 00:21:39,190
connections on that machine including

503
00:21:36,250 --> 00:21:41,890
ports and IPs this machine is

504
00:21:39,190 --> 00:21:44,530
communicating with right now you can

505
00:21:41,890 --> 00:21:47,560
also get both DNS cache and ARP cache

506
00:21:44,530 --> 00:21:49,480
just in case DNS poisoning or ARP

507
00:21:47,560 --> 00:21:51,340
poisoning is taking place in this attack

508
00:21:49,480 --> 00:21:53,160
and to help you understand how the

509
00:21:51,340 --> 00:21:56,649
machine is performing name resolution

510
00:21:53,160 --> 00:21:59,410
you also get the firewall execution log

511
00:21:56,650 --> 00:22:01,300
and the IP configuration of the machine

512
00:21:59,410 --> 00:22:03,640
which might become handy for your

513
00:22:01,300 --> 00:22:05,139
forensic team the investigation package

514
00:22:03,640 --> 00:22:07,690
also includes a list of processes

515
00:22:05,140 --> 00:22:10,090
running on that machine which gives you

516
00:22:07,690 --> 00:22:12,370
deep inside about what is happening

517
00:22:10,090 --> 00:22:16,449
inside that box without even touching

518
00:22:12,370 --> 00:22:18,909
that machine you also get the scheduled

519
00:22:16,450 --> 00:22:20,860
tasks information to learn if an

520
00:22:18,910 --> 00:22:22,660
attacker creates a scheduled task on

521
00:22:20,860 --> 00:22:25,419
that machine perhaps to persist after

522
00:22:22,660 --> 00:22:27,070
reboots as you can see in the excel

523
00:22:25,420 --> 00:22:29,200
sheet here you get a lot of information

524
00:22:27,070 --> 00:22:31,659
about each scheduled task on that

525
00:22:29,200 --> 00:22:34,150
machine now my favorite one is the

526
00:22:31,660 --> 00:22:36,610
security Event log here you can search

527
00:22:34,150 --> 00:22:38,620
inside the security log files of the

528
00:22:36,610 --> 00:22:40,780
infected machine and analyze all

529
00:22:38,620 --> 00:22:43,600
security events to help you understand

530
00:22:40,780 --> 00:22:45,790
more about the attack happening next you

531
00:22:43,600 --> 00:22:47,550
get a comprehensive information about

532
00:22:45,790 --> 00:22:50,800
services running on the remote machine

533
00:22:47,550 --> 00:22:53,379
including service name running state

534
00:22:50,800 --> 00:22:56,020
service account used to run each service

535
00:22:53,380 --> 00:22:57,970
and the associated process ID for

536
00:22:56,020 --> 00:23:00,700
running services you get also

537
00:22:57,970 --> 00:23:02,830
information about SMP sessions taking

538
00:23:00,700 --> 00:23:04,900
place on that machine because remember

539
00:23:02,830 --> 00:23:06,760
attackers might move from machine to

540
00:23:04,900 --> 00:23:09,520
another by using pass the hash technique

541
00:23:06,760 --> 00:23:11,950
and they can use SMP for lateral

542
00:23:09,520 --> 00:23:13,770
movement so here you get a list of all

543
00:23:11,950 --> 00:23:16,090
SMP sessions

544
00:23:13,770 --> 00:23:17,950
system information is another good

545
00:23:16,090 --> 00:23:19,810
information you get as part of the

546
00:23:17,950 --> 00:23:21,130
investigation package to learn more

547
00:23:19,810 --> 00:23:21,840
about the machine and the hardware

548
00:23:21,130 --> 00:23:24,580
profile

549
00:23:21,840 --> 00:23:27,010
finally you get information about all

550
00:23:24,580 --> 00:23:29,710
local groups on that machine as you can

551
00:23:27,010 --> 00:23:32,590
see here you also get information about

552
00:23:29,710 --> 00:23:35,500
session information so you can see that

553
00:23:32,590 --> 00:23:38,199
a user code master is connecting to this

554
00:23:35,500 --> 00:23:40,870
remote machine using RDP protocol you

555
00:23:38,200 --> 00:23:43,300
get a forensic investigation summary

556
00:23:40,870 --> 00:23:45,669
file containing information about how

557
00:23:43,300 --> 00:23:48,100
Microsoft Defender ATP collected all

558
00:23:45,670 --> 00:23:50,950
this information together for example

559
00:23:48,100 --> 00:23:53,740
Microsoft Defender ATP agent on that

560
00:23:50,950 --> 00:23:56,230
machine ran this command to collect the

561
00:23:53,740 --> 00:23:58,570
process list and generate a CSV file

562
00:23:56,230 --> 00:24:01,150
this can help you as a security

563
00:23:58,570 --> 00:24:03,100
professional to learn which commands you

564
00:24:01,150 --> 00:24:07,870
can use to collect forensic information

565
00:24:03,100 --> 00:24:09,699
which I believe is so handy in part 5 of

566
00:24:07,870 --> 00:24:12,010
this demo we are going to explore

567
00:24:09,700 --> 00:24:14,470
Microsoft Defender ATP remediation

568
00:24:12,010 --> 00:24:17,590
actions like running antivirus can

569
00:24:14,470 --> 00:24:18,330
restrict app execution and isolate

570
00:24:17,590 --> 00:24:20,908
machine

571
00:24:18,330 --> 00:24:22,918
these can be considered your mitigation

572
00:24:20,909 --> 00:24:25,409
and containment tools in your incident

573
00:24:22,919 --> 00:24:27,659
response management I am at the

574
00:24:25,409 --> 00:24:29,879
Microsoft defender ATP management portal

575
00:24:27,659 --> 00:24:32,429
and I can see I have many alerts in the

576
00:24:29,879 --> 00:24:34,799
active alerts section I can find all

577
00:24:32,429 --> 00:24:37,769
machines at risk here so I will check on

578
00:24:34,799 --> 00:24:39,359
the demo 3 machine to zoom in and see

579
00:24:37,769 --> 00:24:42,330
what's happening on that machine

580
00:24:39,359 --> 00:24:45,689
here you can get the risk level of the

581
00:24:42,330 --> 00:24:46,649
machine and all associated alerts in the

582
00:24:45,690 --> 00:24:49,529
bar above

583
00:24:46,649 --> 00:24:52,529
you also get list of actions you can do

584
00:24:49,529 --> 00:24:55,229
remotely to that machine as part of the

585
00:24:52,529 --> 00:24:57,450
investigation or response process you

586
00:24:55,229 --> 00:25:00,690
can remotely initiate an anti-virus scan

587
00:24:57,450 --> 00:25:02,909
to help identify and remediate malware

588
00:25:00,690 --> 00:25:05,339
that might be present on a compromised

589
00:25:02,909 --> 00:25:07,829
machine you can select the scan type

590
00:25:05,339 --> 00:25:10,739
that you'd like to run you can choose

591
00:25:07,829 --> 00:25:13,259
between a quick or a full scan I will

592
00:25:10,739 --> 00:25:16,259
type a comment and select yes to start

593
00:25:13,259 --> 00:25:18,899
the scan now immediately the Action

594
00:25:16,259 --> 00:25:21,269
Center shows the scan information as you

595
00:25:18,899 --> 00:25:24,029
can see here now on the machine itself

596
00:25:21,269 --> 00:25:27,179
you can see that the scan completed

597
00:25:24,029 --> 00:25:29,579
successfully returning back from the

598
00:25:27,179 --> 00:25:32,070
Microsoft Defender ATP management portal

599
00:25:29,579 --> 00:25:34,349
perspective the Machine time line will

600
00:25:32,070 --> 00:25:36,450
include a new event reflecting that a

601
00:25:34,349 --> 00:25:39,239
scan action was submitted on that

602
00:25:36,450 --> 00:25:41,759
machine Windows Defender Av alerts will

603
00:25:39,239 --> 00:25:45,599
reflect any detection that surfaced

604
00:25:41,759 --> 00:25:49,559
during the scan this action is available

605
00:25:45,599 --> 00:25:52,708
for machines on Windows 10 version 1 709

606
00:25:49,559 --> 00:25:55,320
or later a Windows Defender anti virus

607
00:25:52,709 --> 00:25:58,379
scan can run alongside other antivirus

608
00:25:55,320 --> 00:26:01,799
solutions whether Windows Defender AV is

609
00:25:58,379 --> 00:26:03,869
the active antivirus solution or not so

610
00:26:01,799 --> 00:26:05,820
say for example you have Symantec

611
00:26:03,869 --> 00:26:07,639
AntiVirus running on that machine and

612
00:26:05,820 --> 00:26:10,950
you are not using Windows Defender

613
00:26:07,639 --> 00:26:13,168
anti-malware or real-time scanning you

614
00:26:10,950 --> 00:26:15,629
can still invoke a remote antivirus scan

615
00:26:13,169 --> 00:26:17,729
from Microsoft Defender ATP portal and

616
00:26:15,629 --> 00:26:20,369
this will wake up the Windows Defender

617
00:26:17,729 --> 00:26:23,219
anti-malware engine if it is not the

618
00:26:20,369 --> 00:26:26,820
primary anti-malware service on that

619
00:26:23,219 --> 00:26:29,099
device and asked to run a quick or full

620
00:26:26,820 --> 00:26:31,740
scan depending on your choice in

621
00:26:29,099 --> 00:26:33,540
addition to the ability of containing

622
00:26:31,740 --> 00:26:35,700
an attack by stopping malicious

623
00:26:33,540 --> 00:26:38,700
processes by running an anti-virus scan

624
00:26:35,700 --> 00:26:41,790
you can also look down the device so

625
00:26:38,700 --> 00:26:44,400
that only programs and executable signed

626
00:26:41,790 --> 00:26:47,129
by Microsoft are allowed to run on the

627
00:26:44,400 --> 00:26:50,340
device and anything else will be blocked

628
00:26:47,130 --> 00:26:52,200
this method of restriction can help

629
00:26:50,340 --> 00:26:54,720
prevent an attacker from controlling

630
00:26:52,200 --> 00:26:57,780
compromised machines and performing

631
00:26:54,720 --> 00:27:00,390
further malicious activities so let us

632
00:26:57,780 --> 00:27:03,178
restrict app execution on the machine I

633
00:27:00,390 --> 00:27:05,940
will type a comment and select yes

634
00:27:03,179 --> 00:27:08,370
restrict app execution now immediately

635
00:27:05,940 --> 00:27:11,640
the Action Center shows that the app

636
00:27:08,370 --> 00:27:13,830
restriction command is building as I am

637
00:27:11,640 --> 00:27:15,929
running on the machine itself you can

638
00:27:13,830 --> 00:27:18,270
immediately see what the user can see on

639
00:27:15,929 --> 00:27:20,370
the machine I get a notification that

640
00:27:18,270 --> 00:27:22,500
the device is restricted along with a

641
00:27:20,370 --> 00:27:24,899
message explaining what is happening on

642
00:27:22,500 --> 00:27:27,240
that machine remember that this action

643
00:27:24,900 --> 00:27:29,160
only prevents any program not signed by

644
00:27:27,240 --> 00:27:32,100
Microsoft from running on that machine

645
00:27:29,160 --> 00:27:34,710
so the user can open Microsoft Office

646
00:27:32,100 --> 00:27:37,980
applications without any problems and

647
00:27:34,710 --> 00:27:40,260
even browse the web but if the user

648
00:27:37,980 --> 00:27:41,429
tries to install anything that's signed

649
00:27:40,260 --> 00:27:43,650
by Microsoft

650
00:27:41,429 --> 00:27:46,590
like for example installing Adobe Reader

651
00:27:43,650 --> 00:27:49,410
for example this action will be blocked

652
00:27:46,590 --> 00:27:51,360
along with a notification explaining to

653
00:27:49,410 --> 00:27:53,370
the end-user what just happened

654
00:27:51,360 --> 00:27:56,699
this is a good balance between security

655
00:27:53,370 --> 00:27:59,309
and usability from security perspective

656
00:27:56,700 --> 00:28:01,770
we are restricting executing malicious

657
00:27:59,309 --> 00:28:04,500
code but from the other side the user

658
00:28:01,770 --> 00:28:06,720
can open Outlook Excel and communicate

659
00:28:04,500 --> 00:28:08,970
using Microsoft themes for example so

660
00:28:06,720 --> 00:28:10,920
that he can still be productive while

661
00:28:08,970 --> 00:28:13,620
security team's investigating the

662
00:28:10,920 --> 00:28:15,750
problem now depending on the severity of

663
00:28:13,620 --> 00:28:17,610
the attack and the state of the machine

664
00:28:15,750 --> 00:28:19,920
you can choose to reverse the

665
00:28:17,610 --> 00:28:22,020
restriction of applications policy after

666
00:28:19,920 --> 00:28:24,660
you have verified that the compromised

667
00:28:22,020 --> 00:28:26,520
machine has been remediated and you can

668
00:28:24,660 --> 00:28:28,800
see the action appearing in the Action

669
00:28:26,520 --> 00:28:31,500
Center which becomes the hub of

670
00:28:28,800 --> 00:28:33,720
notification for all actions performed

671
00:28:31,500 --> 00:28:37,440
on that machine so you can track back

672
00:28:33,720 --> 00:28:40,010
all actions performed by you or anyone

673
00:28:37,440 --> 00:28:42,980
in the security operation team over time

674
00:28:40,010 --> 00:28:45,500
now that the app restriction is

675
00:28:42,980 --> 00:28:48,080
moved we can try to install Adobe Reader

676
00:28:45,500 --> 00:28:50,210
on the machine again and as you can see

677
00:28:48,080 --> 00:28:53,269
there is nothing preventing you from

678
00:28:50,210 --> 00:28:55,669
doing so now just keep in mind that for

679
00:28:53,269 --> 00:28:58,309
the app restriction to work you need two

680
00:28:55,669 --> 00:29:02,179
things first you need to be running

681
00:28:58,309 --> 00:29:04,460
Windows 10 version 1 709 or later and

682
00:29:02,179 --> 00:29:07,580
this feature is available if you are

683
00:29:04,460 --> 00:29:09,860
using Windows Defender antivirus as your

684
00:29:07,580 --> 00:29:11,449
malware engine now depending what the

685
00:29:09,860 --> 00:29:13,189
severity of the attack and the

686
00:29:11,450 --> 00:29:14,960
sensitivity of the machine you might

687
00:29:13,190 --> 00:29:17,299
want to isolate the machine from the

688
00:29:14,960 --> 00:29:18,830
network this action can help prevent the

689
00:29:17,299 --> 00:29:20,658
attacker from controlling the

690
00:29:18,830 --> 00:29:22,730
compromised machine and performing

691
00:29:20,659 --> 00:29:25,399
further activities such as data

692
00:29:22,730 --> 00:29:27,980
exfiltration and lateral movement this

693
00:29:25,399 --> 00:29:30,018
machine isolation feature disconnects

694
00:29:27,980 --> 00:29:32,570
the compromised machine from the network

695
00:29:30,019 --> 00:29:35,539
while retaining connectivity to Windows

696
00:29:32,570 --> 00:29:37,789
Defender ATP service which continues to

697
00:29:35,539 --> 00:29:40,279
monitor the machine so your machine will

698
00:29:37,789 --> 00:29:43,879
not be able to connect to any IP except

699
00:29:40,279 --> 00:29:46,490
the IPS of the Windows Defender ATP

700
00:29:43,880 --> 00:29:48,440
cloud services so that you can keep an

701
00:29:46,490 --> 00:29:50,450
eye on what's happening on that machine

702
00:29:48,440 --> 00:29:52,760
and continue your investigation

703
00:29:50,450 --> 00:29:56,990
now if the machine is running Windows 10

704
00:29:52,760 --> 00:29:59,389
version 1 709 or later you get another

705
00:29:56,990 --> 00:30:02,450
cool feature you can do a selective

706
00:29:59,389 --> 00:30:04,219
isolation which means you can see this

707
00:30:02,450 --> 00:30:07,549
machine is not allowed to connect to any

708
00:30:04,220 --> 00:30:09,799
IP except three services number one is

709
00:30:07,549 --> 00:30:11,899
the Microsoft Defender ATP cloud

710
00:30:09,799 --> 00:30:15,019
services the second one is the exchange

711
00:30:11,899 --> 00:30:17,239
online services and third is the Skype

712
00:30:15,019 --> 00:30:20,419
for business services as you can see

713
00:30:17,240 --> 00:30:22,669
here this means you don't want the user

714
00:30:20,419 --> 00:30:25,130
to be able to do anything on the machine

715
00:30:22,669 --> 00:30:26,960
in terms of network connectivity except

716
00:30:25,130 --> 00:30:29,450
using Outlook and Skype for business

717
00:30:26,960 --> 00:30:31,519
which makes it easier for the user to

718
00:30:29,450 --> 00:30:33,679
contact the help desk or the other way

719
00:30:31,519 --> 00:30:35,870
around it is easier for the security

720
00:30:33,679 --> 00:30:38,289
team to contact the user of the machine

721
00:30:35,870 --> 00:30:40,879
using Outlook or Skype for business

722
00:30:38,289 --> 00:30:43,460
explaining to him what is happening now

723
00:30:40,880 --> 00:30:45,440
if I choose to isolate the Machine the

724
00:30:43,460 --> 00:30:47,510
end user of the machine will receive a

725
00:30:45,440 --> 00:30:49,850
notification card stating that the

726
00:30:47,510 --> 00:30:51,679
network is disabled and that your IT

727
00:30:49,850 --> 00:30:53,658
administrator has caused Windows

728
00:30:51,679 --> 00:30:56,000
Defender to disconnect your device and

729
00:30:53,659 --> 00:30:58,900
you should contact IT Help Desk

730
00:30:56,000 --> 00:31:02,570
now just a reminder the full isolation

731
00:30:58,900 --> 00:31:05,630
works for Windows 10 version 1 703 or

732
00:31:02,570 --> 00:31:09,439
later while the Selective isolation is

733
00:31:05,630 --> 00:31:12,260
available on Windows 10 version 1 709 or

734
00:31:09,440 --> 00:31:14,120
later selective isolation means the

735
00:31:12,260 --> 00:31:16,850
machine can only talk to Microsoft

736
00:31:14,120 --> 00:31:19,159
Defender ATP cloud services and allow

737
00:31:16,850 --> 00:31:21,860
the user to use Outlook and Skype for

738
00:31:19,160 --> 00:31:23,540
business now depending on the severity

739
00:31:21,860 --> 00:31:25,219
of the attack and the state of the

740
00:31:23,540 --> 00:31:26,930
machine you can choose to release the

741
00:31:25,220 --> 00:31:28,640
machine from isolation after you have

742
00:31:26,930 --> 00:31:31,840
verified that the compromised machine

743
00:31:28,640 --> 00:31:31,840
has been remediated

744
00:31:31,909 --> 00:31:36,889
in part six of this demo we are going to

745
00:31:34,879 --> 00:31:39,349
explore more features and Microsoft

746
00:31:36,889 --> 00:31:41,748
Defender ATP that helps you harden to

747
00:31:39,349 --> 00:31:43,519
your environment by following security

748
00:31:41,749 --> 00:31:46,519
and configuration recommendations from

749
00:31:43,519 --> 00:31:49,759
Microsoft we are going to explore secure

750
00:31:46,519 --> 00:31:52,399
score advanced hunting threat analytics

751
00:31:49,759 --> 00:31:56,089
and threat and vulnerability management

752
00:31:52,399 --> 00:31:58,218
in the Microsoft defender ATP I'm logged

753
00:31:56,089 --> 00:32:00,739
onto Microsoft Defender ATP management

754
00:31:58,219 --> 00:32:03,379
portal and I will go to the secure score

755
00:32:00,739 --> 00:32:05,899
section the security score dashboard

756
00:32:03,379 --> 00:32:08,599
expands your visibility into the overall

757
00:32:05,899 --> 00:32:10,998
security posture of your organization

758
00:32:08,599 --> 00:32:13,339
from this dashboard you will be able to

759
00:32:10,999 --> 00:32:16,129
quickly assess the security posture of

760
00:32:13,339 --> 00:32:17,839
you all organization see machines that

761
00:32:16,129 --> 00:32:19,698
require attention as well as

762
00:32:17,839 --> 00:32:21,619
recommendations for actions to further

763
00:32:19,699 --> 00:32:24,379
reduce the attack service in your

764
00:32:21,619 --> 00:32:26,359
organization all in one place from there

765
00:32:24,379 --> 00:32:28,279
you can take action based on the

766
00:32:26,359 --> 00:32:31,339
recommendation configuration baselines

767
00:32:28,279 --> 00:32:33,799
now the Microsoft security or tile you

768
00:32:31,339 --> 00:32:36,948
see here is a reflective of the sum of

769
00:32:33,799 --> 00:32:39,049
two things first the Windows Defender

770
00:32:36,949 --> 00:32:40,609
security controls that are configured

771
00:32:39,049 --> 00:32:45,229
according to the recommended baselines

772
00:32:40,609 --> 00:32:46,789
and the office 365 secure score it

773
00:32:45,229 --> 00:32:50,389
allows you to drill down into each

774
00:32:46,789 --> 00:32:53,179
portal for further analysis just in one

775
00:32:50,389 --> 00:32:55,698
place you can also improve this score by

776
00:32:53,179 --> 00:32:57,589
taking the steps in configuring each of

777
00:32:55,699 --> 00:32:59,929
the security controls in the optimal

778
00:32:57,589 --> 00:33:03,109
settings now let me go to the threat

779
00:32:59,929 --> 00:33:05,659
analytics section threat analytics is a

780
00:33:03,109 --> 00:33:08,269
set of interactive reports published by

781
00:33:05,659 --> 00:33:10,190
the Microsoft Defender ATP research team

782
00:33:08,269 --> 00:33:13,369
as soon as emerging threats and

783
00:33:10,190 --> 00:33:16,369
outbreaks are identified the reports

784
00:33:13,369 --> 00:33:17,899
help you assess the impact of threats in

785
00:33:16,369 --> 00:33:20,689
your organization and provides

786
00:33:17,899 --> 00:33:22,849
recommended actions to contain increase

787
00:33:20,690 --> 00:33:25,339
organizational resilience and prevent

788
00:33:22,849 --> 00:33:26,918
specific threats so let me open this

789
00:33:25,339 --> 00:33:29,749
threat for example and you can see

790
00:33:26,919 --> 00:33:32,509
executive summary information and deep

791
00:33:29,749 --> 00:33:35,149
dive on how this threat actually works

792
00:33:32,509 --> 00:33:37,549
in a nice visual you also get some

793
00:33:35,149 --> 00:33:40,069
mitigation steps and detection details

794
00:33:37,549 --> 00:33:43,158
all to help you understand how this

795
00:33:40,069 --> 00:33:44,850
thread actually works the nice thing is

796
00:33:43,159 --> 00:33:47,309
that for this image

797
00:33:44,850 --> 00:33:49,678
threat you can see a list of machines

798
00:33:47,309 --> 00:33:52,408
vulnerable to this threat and whether

799
00:33:49,679 --> 00:33:55,049
this threat is mitigated across all your

800
00:33:52,409 --> 00:33:56,789
workstations I will go now to the threat

801
00:33:55,049 --> 00:33:59,129
and vulnerability management section

802
00:33:56,789 --> 00:34:01,740
which helps you detect and assess

803
00:33:59,130 --> 00:34:04,110
threats across endpoints for example I

804
00:34:01,740 --> 00:34:06,750
can see many areas of improvement in my

805
00:34:04,110 --> 00:34:10,168
environment these areas are listed here

806
00:34:06,750 --> 00:34:13,319
such as the application the OS Network

807
00:34:10,168 --> 00:34:14,969
accounts and security controls if we

808
00:34:13,319 --> 00:34:17,129
take the operating system area of

809
00:34:14,969 --> 00:34:22,168
improvement for example we can see our

810
00:34:17,129 --> 00:34:24,000
score is 41 out of 183 which means I can

811
00:34:22,168 --> 00:34:25,888
do better by following Microsoft

812
00:34:24,000 --> 00:34:27,690
recommendations let me click on the

813
00:34:25,889 --> 00:34:29,369
operating system improvement area and

814
00:34:27,690 --> 00:34:31,980
learn more how I can raise my

815
00:34:29,369 --> 00:34:34,379
configuration score here I get list of

816
00:34:31,980 --> 00:34:36,690
security recommendations like this one

817
00:34:34,379 --> 00:34:39,000
right here and I get information about

818
00:34:36,690 --> 00:34:41,909
the security recommendation and how to

819
00:34:39,000 --> 00:34:44,730
harden my workstations along with list

820
00:34:41,909 --> 00:34:46,919
of machines who don't comply which I

821
00:34:44,730 --> 00:34:49,469
believe is a great insight that helps

822
00:34:46,918 --> 00:34:52,168
you quickly fix this on the list of

823
00:34:49,469 --> 00:34:53,699
machines here instead of just going to

824
00:34:52,168 --> 00:34:56,399
every machine and trying to solve the

825
00:34:53,699 --> 00:34:58,618
problem if we go to the security

826
00:34:56,399 --> 00:35:00,420
controls improvement area you can see

827
00:34:58,619 --> 00:35:03,210
also a couple of recommendations like

828
00:35:00,420 --> 00:35:05,130
enabling smart screen some firewall

829
00:35:03,210 --> 00:35:07,530
rules configuration recommendations and

830
00:35:05,130 --> 00:35:09,569
enabling pet Locker on Windows machines

831
00:35:07,530 --> 00:35:11,670
again for each one of these

832
00:35:09,569 --> 00:35:14,310
recommendations you get the list of

833
00:35:11,670 --> 00:35:16,530
machines that don't comply now your

834
00:35:14,310 --> 00:35:18,720
objective would be to raise your overall

835
00:35:16,530 --> 00:35:20,520
configuration score by hardening pure

836
00:35:18,720 --> 00:35:22,490
machines from emerging threats and

837
00:35:20,520 --> 00:35:24,990
following Microsoft recommendations

838
00:35:22,490 --> 00:35:27,899
another area I want to talk about is

839
00:35:24,990 --> 00:35:30,359
advanced hunting which is a super

840
00:35:27,900 --> 00:35:32,640
powerful tool during your investigations

841
00:35:30,359 --> 00:35:34,440
here you can get the schema for

842
00:35:32,640 --> 00:35:36,660
information collected my one true soft

843
00:35:34,440 --> 00:35:40,319
defender ATP and this helps you build

844
00:35:36,660 --> 00:35:42,960
your own queries but don't worry you

845
00:35:40,319 --> 00:35:45,509
have some ready queries for you made by

846
00:35:42,960 --> 00:35:48,060
Microsoft engineers like searching for

847
00:35:45,510 --> 00:35:50,430
heading PowerShell windows across all

848
00:35:48,060 --> 00:35:52,920
your requisitions here you can see the

849
00:35:50,430 --> 00:35:55,470
query language which is quite simple and

850
00:35:52,920 --> 00:35:57,510
now you can see we have one machine

851
00:35:55,470 --> 00:35:58,430
called demo three that Microsoft

852
00:35:57,510 --> 00:36:00,950
Defender ATP

853
00:35:58,430 --> 00:36:03,500
agent observed the creation of hidden

854
00:36:00,950 --> 00:36:05,450
powershell windows this can be a

855
00:36:03,500 --> 00:36:06,589
suspicious activity that worth

856
00:36:05,450 --> 00:36:09,078
investigating

857
00:36:06,589 --> 00:36:11,299
you can also query for all internet

858
00:36:09,079 --> 00:36:13,730
downloads across all your machines and

859
00:36:11,300 --> 00:36:16,010
here we have this machine and this

860
00:36:13,730 --> 00:36:18,740
machine downloaded Adobe Reader from the

861
00:36:16,010 --> 00:36:20,510
internet using a browser now this become

862
00:36:18,740 --> 00:36:22,399
handy if for example you are

863
00:36:20,510 --> 00:36:24,770
investigating an infected machine and

864
00:36:22,400 --> 00:36:26,690
you want to filter this output to see

865
00:36:24,770 --> 00:36:29,660
what this machine downloaded from the

866
00:36:26,690 --> 00:36:31,339
internet during an attack finally

867
00:36:29,660 --> 00:36:34,069
remember that attacks happen usually

868
00:36:31,339 --> 00:36:36,890
using the context of a compromised user

869
00:36:34,069 --> 00:36:38,900
so if you suspect that an attacker stole

870
00:36:36,890 --> 00:36:41,540
the credential for a certain user and

871
00:36:38,900 --> 00:36:44,450
use that credential to perform pass the

872
00:36:41,540 --> 00:36:46,430
hash to move to other machines you can

873
00:36:44,450 --> 00:36:48,529
switch your investigation from focusing

874
00:36:46,430 --> 00:36:50,359
on the workstation to tracking

875
00:36:48,530 --> 00:36:53,300
identities and what they are doing

876
00:36:50,359 --> 00:36:55,700
across machines and identity tracking

877
00:36:53,300 --> 00:36:58,069
allows you to track lateral movement

878
00:36:55,700 --> 00:37:00,529
inside your environment so I can search

879
00:36:58,069 --> 00:37:03,770
for a user called master and ask

880
00:37:00,530 --> 00:37:06,470
Microsoft Defender ATP to return all his

881
00:37:03,770 --> 00:37:08,450
activities across all machines so here

882
00:37:06,470 --> 00:37:10,790
we have the user logging on to two

883
00:37:08,450 --> 00:37:13,009
machines and we can zoom in and see what

884
00:37:10,790 --> 00:37:15,799
activities or others are associated with

885
00:37:13,010 --> 00:37:19,160
this user on a certain machine which is

886
00:37:15,799 --> 00:37:21,619
so powerful now Microsoft has a great

887
00:37:19,160 --> 00:37:24,049
solution called as your advanced threat

888
00:37:21,619 --> 00:37:26,780
protection or as your ATP that can

889
00:37:24,049 --> 00:37:28,970
integrate with Microsoft Defender ATP

890
00:37:26,780 --> 00:37:31,940
and fill the gap when it comes to

891
00:37:28,970 --> 00:37:34,430
detecting anomalies using compromised

892
00:37:31,940 --> 00:37:36,470
credentials I highly recommend that you

893
00:37:34,430 --> 00:37:38,598
have a look to add your advanced threat

894
00:37:36,470 --> 00:37:41,250
protection and enable the integration

895
00:37:38,599 --> 00:37:43,390
between the two products

896
00:37:41,250 --> 00:37:45,010
I'm going to leave you with some

897
00:37:43,390 --> 00:37:48,370
resources to learn more about Microsoft

898
00:37:45,010 --> 00:37:49,870
defender ATP to help you detect attacks

899
00:37:48,370 --> 00:37:52,450
while they are happening in your

900
00:37:49,870 --> 00:37:54,370
environment if you work in the security

901
00:37:52,450 --> 00:37:56,529
field you most likely know what is

902
00:37:54,370 --> 00:37:58,839
incident response you have a security

903
00:37:56,530 --> 00:38:01,390
incident which is a result of attack or

904
00:37:58,840 --> 00:38:03,430
malicious or intentional actions and

905
00:38:01,390 --> 00:38:05,980
part of your role is to respond to

906
00:38:03,430 --> 00:38:08,290
security incidents when they happen now

907
00:38:05,980 --> 00:38:10,570
an effective incident response

908
00:38:08,290 --> 00:38:13,740
management is handled in several steps

909
00:38:10,570 --> 00:38:18,430
or phases you have detect response

910
00:38:13,740 --> 00:38:20,890
mitigate report recovery remediation and

911
00:38:18,430 --> 00:38:22,899
lessons learned phase which feeds back

912
00:38:20,890 --> 00:38:24,879
to the detect phase again to improve

913
00:38:22,900 --> 00:38:27,430
your detection and response let's now

914
00:38:24,880 --> 00:38:29,470
see how Microsoft Defender ATP features

915
00:38:27,430 --> 00:38:32,020
are mapped to different phases of your

916
00:38:29,470 --> 00:38:33,939
incident response management in order to

917
00:38:32,020 --> 00:38:36,490
respond to an incident you need to

918
00:38:33,940 --> 00:38:39,280
detect it first so Microsoft Defender

919
00:38:36,490 --> 00:38:41,470
ATP alerts help you detect incidents

920
00:38:39,280 --> 00:38:43,870
when they happen on your machines after

921
00:38:41,470 --> 00:38:45,669
detecting and verifying an incident by

922
00:38:43,870 --> 00:38:47,520
analyzing the alert in Microsoft

923
00:38:45,670 --> 00:38:49,720
Defender ATP management portal and

924
00:38:47,520 --> 00:38:51,970
depending on the severity of the

925
00:38:49,720 --> 00:38:53,649
incident you might activate your

926
00:38:51,970 --> 00:38:56,109
incident response team to help

927
00:38:53,650 --> 00:38:58,120
investigating the incident assessing the

928
00:38:56,110 --> 00:39:00,400
damage and in very mediation and

929
00:38:58,120 --> 00:39:03,069
collecting evidence in the response

930
00:39:00,400 --> 00:39:05,980
phase Microsoft Defender ATP consolidate

931
00:39:03,070 --> 00:39:07,900
related alerts into an incident so any

932
00:39:05,980 --> 00:39:10,930
set of dealing with dozens or hundreds

933
00:39:07,900 --> 00:39:13,330
of alerts Microsoft Defender ATP will

934
00:39:10,930 --> 00:39:15,730
automatically group related alerts and

935
00:39:13,330 --> 00:39:17,799
create an incident for you you can

936
00:39:15,730 --> 00:39:20,260
assign the incident to individuals and

937
00:39:17,800 --> 00:39:22,810
you can change the status of incidents

938
00:39:20,260 --> 00:39:24,970
in the portal this gives your security

939
00:39:22,810 --> 00:39:27,610
team or your Incident Response Team a

940
00:39:24,970 --> 00:39:30,520
focused view on what needs attention

941
00:39:27,610 --> 00:39:32,850
inside the incident they can see all

942
00:39:30,520 --> 00:39:36,759
machines involved in that incident all

943
00:39:32,850 --> 00:39:38,860
alerts evidences and a nice visual graph

944
00:39:36,760 --> 00:39:41,800
to help your team in their investigation

945
00:39:38,860 --> 00:39:43,810
now in the response phase also your

946
00:39:41,800 --> 00:39:45,790
forensic team or Incident Response Team

947
00:39:43,810 --> 00:39:48,160
might need to collect more information

948
00:39:45,790 --> 00:39:49,900
about the machine like what services are

949
00:39:48,160 --> 00:39:51,910
running on that machine list of

950
00:39:49,900 --> 00:39:53,280
applications installed auto run

951
00:39:51,910 --> 00:39:55,950
configuration and more

952
00:39:53,280 --> 00:39:58,350
here you can use Microsoft Defender ATP

953
00:39:55,950 --> 00:40:00,000
collect investigation package to help

954
00:39:58,350 --> 00:40:01,950
you collect such information right from

955
00:40:00,000 --> 00:40:04,710
within the management portal and without

956
00:40:01,950 --> 00:40:06,899
even touching the infected machine next

957
00:40:04,710 --> 00:40:09,380
we have the mitigation phase and let me

958
00:40:06,900 --> 00:40:11,190
be clear on what this phase means

959
00:40:09,380 --> 00:40:14,250
mitigation and incident response

960
00:40:11,190 --> 00:40:16,290
management attempts to contain an

961
00:40:14,250 --> 00:40:18,870
incident because one of the primary

962
00:40:16,290 --> 00:40:21,270
goals of effective Incident Response is

963
00:40:18,870 --> 00:40:22,950
to limit the effect or scope of an

964
00:40:21,270 --> 00:40:25,110
incident this can be for example

965
00:40:22,950 --> 00:40:26,790
disconnecting the network interface to

966
00:40:25,110 --> 00:40:28,950
prevent the malware from spreading or

967
00:40:26,790 --> 00:40:32,340
prevent the attacker from leaking data

968
00:40:28,950 --> 00:40:34,319
outside now in this phase it might be

969
00:40:32,340 --> 00:40:36,210
important not to turn off the infected

970
00:40:34,320 --> 00:40:38,550
machine when containing an incident as

971
00:40:36,210 --> 00:40:40,620
doing so means you are going to lose the

972
00:40:38,550 --> 00:40:43,200
temporary files and data stored in

973
00:40:40,620 --> 00:40:45,299
memory or it might be you want to study

974
00:40:43,200 --> 00:40:47,339
and learn what the attacker is doing on

975
00:40:45,300 --> 00:40:49,830
that machine without letting him know

976
00:40:47,340 --> 00:40:52,680
you discovered the attack now Microsoft

977
00:40:49,830 --> 00:40:55,049
Defender ATP offers two great mitigation

978
00:40:52,680 --> 00:40:57,779
features first we have the app

979
00:40:55,050 --> 00:40:59,970
restriction feature which restricts the

980
00:40:57,780 --> 00:41:02,760
machine from running any software not

981
00:40:59,970 --> 00:41:05,370
signed from Microsoft and the isolate

982
00:41:02,760 --> 00:41:07,140
machine feature which is exactly like

983
00:41:05,370 --> 00:41:09,900
disconnecting the network card of the

984
00:41:07,140 --> 00:41:11,790
machine but with allowing that machine

985
00:41:09,900 --> 00:41:14,340
to communicate with Microsoft Defender

986
00:41:11,790 --> 00:41:15,509
ATP service so that you can monitor

987
00:41:14,340 --> 00:41:17,910
what's happening with that machine

988
00:41:15,510 --> 00:41:20,040
meanwhile after you mitigate the

989
00:41:17,910 --> 00:41:21,509
incident you should report the incident

990
00:41:20,040 --> 00:41:23,790
within your organization and perhaps

991
00:41:21,510 --> 00:41:26,040
individuals outside the organization

992
00:41:23,790 --> 00:41:28,200
this might be to comply with laws and

993
00:41:26,040 --> 00:41:30,740
regulations and you can use Microsoft

994
00:41:28,200 --> 00:41:33,240
Defender reports to help you in that

995
00:41:30,740 --> 00:41:35,220
after you mitigate and report the

996
00:41:33,240 --> 00:41:37,950
incident and after collecting all

997
00:41:35,220 --> 00:41:40,230
evidences from that system the next step

998
00:41:37,950 --> 00:41:42,180
is to recover the system or return it to

999
00:41:40,230 --> 00:41:44,340
a fully functional State from the

1000
00:41:42,180 --> 00:41:46,859
Microsoft Defender ATP management portal

1001
00:41:44,340 --> 00:41:49,590
you can start an anti-virus scan on the

1002
00:41:46,860 --> 00:41:51,900
infected machine you can quarantine a

1003
00:41:49,590 --> 00:41:54,060
file or this might be happening

1004
00:41:51,900 --> 00:41:56,520
automatically for you by Microsoft

1005
00:41:54,060 --> 00:41:59,009
Defender ATP thanks to the new automated

1006
00:41:56,520 --> 00:42:00,930
investigation feature and the recent

1007
00:41:59,010 --> 00:42:03,660
acquisition of a company called hexa

1008
00:42:00,930 --> 00:42:05,430
diene now recovery might also mean

1009
00:42:03,660 --> 00:42:07,348
rebuilding the whole machine from any

1010
00:42:05,430 --> 00:42:09,779
image depending on the nature of the

1011
00:42:07,349 --> 00:42:11,760
attack in the remediation stage you

1012
00:42:09,780 --> 00:42:14,369
attempt to identify what allowed the

1013
00:42:11,760 --> 00:42:15,720
incident to occur and then implement

1014
00:42:14,369 --> 00:42:18,569
methods to prevent it from happening

1015
00:42:15,720 --> 00:42:21,569
again this includes performing

1016
00:42:18,569 --> 00:42:23,880
root-cause analysis here is where things

1017
00:42:21,569 --> 00:42:26,339
get interesting as Microsoft Defender

1018
00:42:23,880 --> 00:42:28,559
ATP offers many things to help you

1019
00:42:26,339 --> 00:42:30,480
identify what happened across all your

1020
00:42:28,559 --> 00:42:32,220
machines you already have the

1021
00:42:30,480 --> 00:42:34,170
investigation package you collected

1022
00:42:32,220 --> 00:42:36,270
earlier which is a great source of

1023
00:42:34,170 --> 00:42:39,180
information to learn about open network

1024
00:42:36,270 --> 00:42:42,390
connections SMP sessions local groups

1025
00:42:39,180 --> 00:42:44,520
process lists and more information from

1026
00:42:42,390 --> 00:42:46,950
the infected machine you can also use

1027
00:42:44,520 --> 00:42:49,109
the Machine Timeline feature in the

1028
00:42:46,950 --> 00:42:51,960
Microsoft Defender ATP management portal

1029
00:42:49,109 --> 00:42:53,970
to reproduce all events happened on that

1030
00:42:51,960 --> 00:42:56,069
machine during the attack and you can

1031
00:42:53,970 --> 00:42:58,500
even go back in time and see what

1032
00:42:56,069 --> 00:43:00,839
happened on that machine this includes

1033
00:42:58,500 --> 00:43:03,030
learning about what each process is

1034
00:43:00,839 --> 00:43:06,270
doing what network connections were

1035
00:43:03,030 --> 00:43:08,760
opened and by which executables you can

1036
00:43:06,270 --> 00:43:11,549
also use Microsoft Defender ATP advanced

1037
00:43:08,760 --> 00:43:14,040
hunting and write your own queries or

1038
00:43:11,549 --> 00:43:16,259
use the built-in queries available for

1039
00:43:14,040 --> 00:43:18,450
you in the management portal that allows

1040
00:43:16,260 --> 00:43:20,730
you to hunt for possible threats across

1041
00:43:18,450 --> 00:43:23,069
your organization using a powerful

1042
00:43:20,730 --> 00:43:26,130
search and query language and finally

1043
00:43:23,069 --> 00:43:27,839
you have the lessons learned phase here

1044
00:43:26,130 --> 00:43:30,119
you are trying to prevent this incident

1045
00:43:27,839 --> 00:43:33,390
from happening again and review your all

1046
00:43:30,119 --> 00:43:35,940
security posture Microsoft Defender ATP

1047
00:43:33,390 --> 00:43:38,220
offers a lot of capabilities that can

1048
00:43:35,940 --> 00:43:39,710
help you harden your environment by

1049
00:43:38,220 --> 00:43:42,899
following security recommendations

1050
00:43:39,710 --> 00:43:45,450
letting by Microsoft engineers the

1051
00:43:42,900 --> 00:43:47,849
secure score expands your visibility

1052
00:43:45,450 --> 00:43:49,799
into the overall security posture of

1053
00:43:47,849 --> 00:43:52,710
your organization from this dashboard

1054
00:43:49,799 --> 00:43:55,069
you will be able to quickly assess the

1055
00:43:52,710 --> 00:43:58,440
security posture of all your machines

1056
00:43:55,069 --> 00:44:00,420
threat analytics is a set of interactive

1057
00:43:58,440 --> 00:44:03,000
reports published by Microsoft Defender

1058
00:44:00,420 --> 00:44:06,359
ATP research team as soon as emerging

1059
00:44:03,000 --> 00:44:08,880
threats and outbreaks are identified the

1060
00:44:06,359 --> 00:44:10,619
reports help you assess the impact of

1061
00:44:08,880 --> 00:44:13,079
threats in your environment and provides

1062
00:44:10,619 --> 00:44:14,760
recommended actions to contain increase

1063
00:44:13,079 --> 00:44:17,220
the organization resilience and prevent

1064
00:44:14,760 --> 00:44:17,740
specific threats and you have that

1065
00:44:17,220 --> 00:44:19,930
thread

1066
00:44:17,740 --> 00:44:22,959
vulnerability and management capability

1067
00:44:19,930 --> 00:44:24,940
in Microsoft Defender ATP which helps

1068
00:44:22,960 --> 00:44:27,730
you detect and assess threats across

1069
00:44:24,940 --> 00:44:30,460
your endpoints by now you know how

1070
00:44:27,730 --> 00:44:32,890
Microsoft Defender ATP helps you in your

1071
00:44:30,460 --> 00:44:35,350
incident response management and in

1072
00:44:32,890 --> 00:44:37,299
hardening your environment by following

1073
00:44:35,350 --> 00:44:39,759
security and configuration

1074
00:44:37,300 --> 00:44:41,500
recommendations my Microsoft let's not

1075
00:44:39,760 --> 00:44:43,300
forget the role of automation and

1076
00:44:41,500 --> 00:44:45,670
machine learning that can significantly

1077
00:44:43,300 --> 00:44:48,400
reduce the work you should do in

1078
00:44:45,670 --> 00:45:37,739
responding to incidents

1079
00:44:48,400 --> 00:45:37,739
[Music]

