1
00:00:03,830 --> 00:00:09,740
<font color="#E5E5E5">every ello everyone sorry for the delays</font>

2
00:00:05,899 --> 00:00:11,270
<font color="#CCCCCC">and</font><font color="#E5E5E5"> the issues there so my name is</font><font color="#CCCCCC"> Eve</font>

3
00:00:09,740 --> 00:00:15,949
<font color="#E5E5E5">there now I'm gonna be presenting to you</font>

4
00:00:11,270 --> 00:00:19,330
on a project<font color="#CCCCCC"> I did and the tools and</font>

5
00:00:15,949 --> 00:00:19,330
approach I've developed out<font color="#CCCCCC"> of it</font>

6
00:00:20,900 --> 00:00:25,990
just a bit<font color="#E5E5E5"> of disclaimers this</font>

7
00:00:22,609 --> 00:00:28,670
represents<font color="#CCCCCC"> my work it's nobody else's</font>

8
00:00:25,990 --> 00:00:30,110
<font color="#CCCCCC">your mileage may</font><font color="#E5E5E5"> vary I to do a lot of</font>

9
00:00:28,670 --> 00:00:32,840
<font color="#E5E5E5">debugging</font><font color="#CCCCCC"> to get some of these tools</font>

10
00:00:30,110 --> 00:00:34,760
working hopefully you won't have<font color="#E5E5E5"> to but</font>

11
00:00:32,840 --> 00:00:36,770
I can't<font color="#CCCCCC"> guarantee I'm going to fix your</font>

12
00:00:34,760 --> 00:00:40,160
<font color="#E5E5E5">code if there's issues with that I'm</font>

13
00:00:36,770 --> 00:00:42,650
gonna try<font color="#CCCCCC"> but</font><font color="#E5E5E5"> I'm a ruby newbie and all</font>

14
00:00:40,160 --> 00:00:44,239
this code is Ruby I've developed in a

15
00:00:42,650 --> 00:00:47,530
lot<font color="#CCCCCC"> of</font><font color="#E5E5E5"> languages but</font><font color="#CCCCCC"> I there's still</font>

16
00:00:44,239 --> 00:00:51,050
some quirks there that I'm<font color="#E5E5E5"> not used to</font>

17
00:00:47,530 --> 00:00:53,420
so<font color="#E5E5E5"> just a bit about myself</font><font color="#CCCCCC"> I'm an IT</font>

18
00:00:51,050 --> 00:00:55,549
information security generalist<font color="#CCCCCC"> I have</font>

19
00:00:53,420 --> 00:00:58,220
over<font color="#E5E5E5"> 16 years</font><font color="#CCCCCC"> of</font><font color="#E5E5E5"> experience</font><font color="#CCCCCC"> I started</font>

20
00:00:55,549 --> 00:01:00,140
<font color="#E5E5E5">information security way back in 2001 I</font>

21
00:00:58,220 --> 00:01:02,030
did come<font color="#E5E5E5"> up from a background in</font>

22
00:01:00,140 --> 00:01:04,699
application<font color="#CCCCCC"> development started</font>

23
00:01:02,030 --> 00:01:06,680
<font color="#CCCCCC">low-level</font><font color="#E5E5E5"> going up the stack and doing a</font>

24
00:01:04,699 --> 00:01:09,140
lot<font color="#CCCCCC"> of V&A UNIX and Linux system and</font>

25
00:01:06,680 --> 00:01:11,540
administration which probably geared

26
00:01:09,140 --> 00:01:13,790
some of the tools that I use<font color="#E5E5E5"> I'm an</font>

27
00:01:11,540 --> 00:01:15,590
author of books on<font color="#CCCCCC"> PCI DSS</font><font color="#E5E5E5"> and try to</font>

28
00:01:13,790 --> 00:01:19,040
<font color="#E5E5E5">explain this and monks other things I</font>

29
00:01:15,590 --> 00:01:21,259
<font color="#E5E5E5">have a</font><font color="#CCCCCC"> Creative Commons available</font>

30
00:01:19,040 --> 00:01:23,659
methodology on<font color="#E5E5E5"> explaining that explains</font>

31
00:01:21,259 --> 00:01:26,060
how scoping works for PCI DSS<font color="#E5E5E5"> it's one</font>

32
00:01:23,659 --> 00:01:30,230
of the reasons that brought me<font color="#CCCCCC"> to this</font>

33
00:01:26,060 --> 00:01:33,440
project<font color="#E5E5E5"> so this stock really is about</font>

34
00:01:30,230 --> 00:01:35,000
<font color="#E5E5E5">the story of necessity is the mother of</font>

35
00:01:33,440 --> 00:01:37,158
all inventions and<font color="#E5E5E5"> that's why I had</font><font color="#CCCCCC"> to</font>

36
00:01:35,000 --> 00:01:39,560
<font color="#E5E5E5">create some of these tools</font><font color="#CCCCCC"> I could have</font>

37
00:01:37,159 --> 00:01:42,590
called this tool this talk<font color="#CCCCCC"> extreme PCI</font>

38
00:01:39,560 --> 00:01:45,110
<font color="#CCCCCC">DSS co-production or are we mediator</font><font color="#E5E5E5"> a</font>

39
00:01:42,590 --> 00:01:48,800
<font color="#CCCCCC">medium-sized flat network in about</font><font color="#E5E5E5"> 19</font>

40
00:01:45,110 --> 00:01:50,300
weeks<font color="#E5E5E5"> which we did but the approach and</font>

41
00:01:48,800 --> 00:01:53,270
what I've developed here<font color="#E5E5E5"> I think goes</font>

42
00:01:50,300 --> 00:01:54,890
way above and beyond this<font color="#E5E5E5"> and it</font><font color="#CCCCCC"> really</font>

43
00:01:53,270 --> 00:01:56,509
started with<font color="#E5E5E5"> a LinkedIn message that I</font>

44
00:01:54,890 --> 00:01:57,110
got<font color="#E5E5E5"> that was cryptic not too much</font>

45
00:01:56,510 --> 00:02:01,430
information

46
00:01:57,110 --> 00:02:03,350
<font color="#CCCCCC">I wrote down back then for things</font><font color="#E5E5E5"> when I</font>

47
00:02:01,430 --> 00:02:05,240
went<font color="#E5E5E5"> to the interview they</font><font color="#CCCCCC"> wanted</font>

48
00:02:03,350 --> 00:02:08,329
somebody<font color="#E5E5E5"> that knew PCI DSS that could do</font>

49
00:02:05,240 --> 00:02:11,900
penetration testing that<font color="#E5E5E5"> was as</font>

50
00:02:08,330 --> 00:02:14,090
<font color="#CCCCCC">cissp and bilingual</font><font color="#E5E5E5"> I'm in Montreal so</font>

51
00:02:11,900 --> 00:02:18,640
bilingual is one of the things you<font color="#E5E5E5"> get</font>

52
00:02:14,090 --> 00:02:21,769
there so<font color="#CCCCCC"> I go</font><font color="#E5E5E5"> through the interview</font>

53
00:02:18,640 --> 00:02:23,510
<font color="#E5E5E5">present</font><font color="#CCCCCC"> I get to ask</font><font color="#E5E5E5"> question for about</font>

54
00:02:21,769 --> 00:02:27,080
10 minutes and then<font color="#E5E5E5"> about an hour 20</font>

55
00:02:23,510 --> 00:02:29,328
minutes worth of explanation of the

56
00:02:27,080 --> 00:02:29,989
situation of<font color="#E5E5E5"> the company</font><font color="#CCCCCC"> and this</font><font color="#E5E5E5"> is</font>

57
00:02:29,329 --> 00:02:33,590
<font color="#CCCCCC">what I got</font>

58
00:02:29,989 --> 00:02:34,790
<font color="#E5E5E5">so they're a company doing that that is</font>

59
00:02:33,590 --> 00:02:37,370
<font color="#CCCCCC">on the second year</font>

60
00:02:34,790 --> 00:02:38,569
<font color="#E5E5E5">standard for compliance with PCI DSS but</font>

61
00:02:37,370 --> 00:02:40,459
they've been given a deadline<font color="#CCCCCC"> that's</font>

62
00:02:38,569 --> 00:02:42,828
under<font color="#E5E5E5"> five months away to remediate</font>

63
00:02:40,459 --> 00:02:44,599
everything and get everything<font color="#CCCCCC"> they're an</font>

64
00:02:42,829 --> 00:02:45,920
acquired company so<font color="#E5E5E5"> that's the company</font>

65
00:02:44,599 --> 00:02:48,890
<font color="#CCCCCC">network we're trying to</font><font color="#E5E5E5"> fix not the</font>

66
00:02:45,920 --> 00:02:51,140
acquirer<font color="#E5E5E5"> but the acquired company</font><font color="#CCCCCC"> but</font>

67
00:02:48,890 --> 00:02:53,390
it's a flat network it's mostly<font color="#CCCCCC"> vm's</font>

68
00:02:51,140 --> 00:02:56,059
<font color="#E5E5E5">about 800 and server side with other</font>

69
00:02:53,390 --> 00:03:00,290
machines<font color="#CCCCCC"> as well</font><font color="#E5E5E5"> there's no patching no</font>

70
00:02:56,060 --> 00:03:01,879
hardening<font color="#E5E5E5"> done ever there's few</font>

71
00:03:00,290 --> 00:03:04,429
documentation there's a bit that have

72
00:03:01,879 --> 00:03:06,138
been<font color="#CCCCCC"> generated recently due to a</font>

73
00:03:04,430 --> 00:03:08,840
migration<font color="#E5E5E5"> to</font><font color="#CCCCCC"> the new</font><font color="#E5E5E5"> network in the</font>

74
00:03:06,139 --> 00:03:11,450
integration<font color="#E5E5E5"> other companies but what</font>

75
00:03:08,840 --> 00:03:12,859
they wanted<font color="#E5E5E5"> to do is to remediate in the</font>

76
00:03:11,450 --> 00:03:14,510
new network<font color="#E5E5E5"> but they realize that they</font>

77
00:03:12,859 --> 00:03:17,659
<font color="#E5E5E5">won't have time</font><font color="#CCCCCC"> they</font><font color="#E5E5E5"> get there so they</font>

78
00:03:14,510 --> 00:03:20,149
have to fix it<font color="#CCCCCC"> they have for</font><font color="#E5E5E5"> those that</font>

79
00:03:17,659 --> 00:03:21,709
<font color="#E5E5E5">are in the PCI sphere they're using card</font>

80
00:03:20,150 --> 00:03:23,120
number tokenization<font color="#CCCCCC"> - which means</font><font color="#E5E5E5"> they</font>

81
00:03:21,709 --> 00:03:25,159
<font color="#CCCCCC">should have less card numbers in their</font>

82
00:03:23,120 --> 00:03:28,840
system which makes it a<font color="#CCCCCC"> bit easier and</font>

83
00:03:25,159 --> 00:03:32,269
they had a very competent<font color="#E5E5E5"> IT staff and</font>

84
00:03:28,840 --> 00:03:34,819
really the<font color="#CCCCCC"> hour long</font><font color="#E5E5E5"> interview lasted an</font>

85
00:03:32,269 --> 00:03:38,090
hour and a half which tells you all bad

86
00:03:34,819 --> 00:03:40,819
<font color="#CCCCCC">things were but my first thoughts when I</font>

87
00:03:38,090 --> 00:03:43,159
got there is how can<font color="#CCCCCC"> we remediated</font>

88
00:03:40,819 --> 00:03:44,810
things and talk to<font color="#CCCCCC"> anybody that's done</font>

89
00:03:43,159 --> 00:03:46,310
<font color="#CCCCCC">PCI and</font><font color="#E5E5E5"> they'll tell you</font><font color="#CCCCCC"> the first</font><font color="#E5E5E5"> thing</font>

90
00:03:44,810 --> 00:03:48,709
you're talking<font color="#CCCCCC"> about is co-production</font>

91
00:03:46,310 --> 00:03:50,389
but in this case we only have under five

92
00:03:48,709 --> 00:03:52,489
months to do<font color="#E5E5E5"> and a lot of servers and</font><font color="#CCCCCC"> a</font>

93
00:03:50,389 --> 00:03:54,290
lot of<font color="#CCCCCC"> work to do</font><font color="#E5E5E5"> so the only in the</font>

94
00:03:52,489 --> 00:03:57,079
there's also the ongoing<font color="#E5E5E5"> projects in the</font>

95
00:03:54,290 --> 00:03:59,418
migration<font color="#CCCCCC"> that still are ongoing</font><font color="#E5E5E5"> so</font>

96
00:03:57,079 --> 00:04:02,569
really this<font color="#E5E5E5"> is called for massive but</font>

97
00:03:59,419 --> 00:04:04,940
really massive<font color="#E5E5E5"> snow production to be</font>

98
00:04:02,569 --> 00:04:07,760
able<font color="#CCCCCC"> to you've haven't a</font><font color="#E5E5E5"> chance of</font>

99
00:04:04,940 --> 00:04:10,870
really<font color="#E5E5E5"> meeting those deadlines so we</font>

100
00:04:07,760 --> 00:04:12,940
<font color="#CCCCCC">threw everything</font><font color="#E5E5E5"> across the</font><font color="#CCCCCC"> board</font><font color="#E5E5E5"> but</font>

101
00:04:10,870 --> 00:04:14,500
<font color="#E5E5E5">that required in order to reduce scope</font>

102
00:04:12,940 --> 00:04:15,940
to understand who's talking to whom so

103
00:04:14,500 --> 00:04:18,668
we can say<font color="#E5E5E5"> okay this</font><font color="#CCCCCC"> you're</font><font color="#E5E5E5"> out</font><font color="#CCCCCC"> of scope</font>

104
00:04:15,940 --> 00:04:20,529
<font color="#E5E5E5">you're not</font><font color="#CCCCCC"> I can take you out of scope</font>

105
00:04:18,668 --> 00:04:22,659
by doing these either process<font color="#CCCCCC"> changers</font>

106
00:04:20,529 --> 00:04:25,090
<font color="#CCCCCC">IT changes migrating and then you need</font>

107
00:04:22,660 --> 00:04:28,000
<font color="#E5E5E5">to</font><font color="#CCCCCC"> identify things</font><font color="#E5E5E5"> like oh well an</font>

108
00:04:25,090 --> 00:04:29,739
unsupported OS or Windows 2003<font color="#E5E5E5"> that</font>

109
00:04:28,000 --> 00:04:32,139
can't<font color="#CCCCCC"> be in scalp what do</font><font color="#E5E5E5"> we do with</font><font color="#CCCCCC"> it</font>

110
00:04:29,740 --> 00:04:33,639
<font color="#CCCCCC">so but understanding this requires</font>

111
00:04:32,139 --> 00:04:35,830
understanding<font color="#E5E5E5"> who's talking to whom</font>

112
00:04:33,639 --> 00:04:38,800
generally at a network level<font color="#E5E5E5"> which is</font>

113
00:04:35,830 --> 00:04:40,990
<font color="#E5E5E5">the first area we look at so my first</font>

114
00:04:38,800 --> 00:04:43,240
thought was well okay well we'll create

115
00:04:40,990 --> 00:04:44,949
a<font color="#CCCCCC"> spam port on the on the router the</font>

116
00:04:43,240 --> 00:04:47,199
switches whatever and<font color="#CCCCCC"> we'll capture</font>

117
00:04:44,949 --> 00:04:51,580
traffic we'll analyze it but<font color="#CCCCCC"> that's time</font>

118
00:04:47,199 --> 00:04:54,280
<font color="#E5E5E5">consuming</font><font color="#CCCCCC"> and I have a stance</font><font color="#E5E5E5"> in the</font>

119
00:04:51,580 --> 00:04:56,169
<font color="#CCCCCC">meantime</font><font color="#E5E5E5"> between my interview and the</font>

120
00:04:54,280 --> 00:04:59,229
start<font color="#CCCCCC"> of</font><font color="#E5E5E5"> the contract</font><font color="#CCCCCC"> I had to get</font>

121
00:04:56,169 --> 00:05:01,030
together with<font color="#CCCCCC"> friends</font><font color="#E5E5E5"> most net mostly</font>

122
00:04:59,229 --> 00:05:02,800
networking folks and that's<font color="#E5E5E5"> where to</font>

123
00:05:01,030 --> 00:05:04,599
everybody else<font color="#E5E5E5"> talk to</font><font color="#CCCCCC"> everybody else I</font>

124
00:05:02,800 --> 00:05:06,669
didn't know there was<font color="#E5E5E5"> a such a thing</font>

125
00:05:04,600 --> 00:05:07,990
called net flow<font color="#E5E5E5"> Baghdad and they</font>

126
00:05:06,669 --> 00:05:10,599
<font color="#E5E5E5">mentioned that I told them about my</font>

127
00:05:07,990 --> 00:05:12,430
problem was gonna try<font color="#E5E5E5"> to do it say well</font>

128
00:05:10,600 --> 00:05:13,720
why don't<font color="#CCCCCC"> you</font><font color="#E5E5E5"> look at net flow it can</font>

129
00:05:12,430 --> 00:05:16,360
provide a lot<font color="#CCCCCC"> of the information that</font>

130
00:05:13,720 --> 00:05:21,010
you need<font color="#E5E5E5"> though I started</font><font color="#CCCCCC"> looking at</font>

131
00:05:16,360 --> 00:05:24,310
<font color="#E5E5E5">that so I get in start working late</font>

132
00:05:21,010 --> 00:05:27,849
<font color="#E5E5E5">March</font><font color="#CCCCCC"> and</font><font color="#E5E5E5"> after 24 hours I come up with</font>

133
00:05:24,310 --> 00:05:30,039
<font color="#CCCCCC">a plan really has six major steps so</font>

134
00:05:27,849 --> 00:05:32,950
needs to<font color="#E5E5E5"> identify scope and reduce it</font>

135
00:05:30,039 --> 00:05:34,150
<font color="#E5E5E5">then we'll have to fix and vulnerability</font>

136
00:05:32,950 --> 00:05:36,250
management and all the<font color="#E5E5E5"> penetration</font>

137
00:05:34,150 --> 00:05:38,109
testing work<font color="#CCCCCC"> we'll</font><font color="#E5E5E5"> have to apply</font><font color="#CCCCCC"> all the</font>

138
00:05:36,250 --> 00:05:39,639
access controls will have to remediate

139
00:05:38,110 --> 00:05:41,889
the<font color="#E5E5E5"> systems all the</font><font color="#CCCCCC"> patching and a</font>

140
00:05:39,639 --> 00:05:43,660
hardening that's a lot of<font color="#E5E5E5"> work and then</font>

141
00:05:41,889 --> 00:05:45,280
stop logging<font color="#E5E5E5"> and monitoring for those</font>

142
00:05:43,660 --> 00:05:47,169
tools<font color="#E5E5E5"> because there's</font><font color="#CCCCCC"> nothing there</font><font color="#E5E5E5"> and</font>

143
00:05:45,280 --> 00:05:50,710
<font color="#CCCCCC">then the most</font><font color="#E5E5E5"> couple of miscellaneous</font>

144
00:05:47,169 --> 00:05:52,599
tasks<font color="#CCCCCC"> policies procedures stuff that I</font>

145
00:05:50,710 --> 00:05:56,680
didn't<font color="#E5E5E5"> take</font><font color="#CCCCCC"> care</font><font color="#E5E5E5"> of but I</font><font color="#CCCCCC"> was less for</font>

146
00:05:52,599 --> 00:06:00,010
relevant but<font color="#E5E5E5"> if you look at steps to</font><font color="#CCCCCC"> u5</font>

147
00:05:56,680 --> 00:06:02,860
<font color="#E5E5E5">really these</font><font color="#CCCCCC"> are</font><font color="#E5E5E5"> dependent on you on</font>

148
00:06:00,010 --> 00:06:06,349
what you ratify<font color="#E5E5E5"> a scope so</font><font color="#CCCCCC"> that</font><font color="#E5E5E5"> made</font><font color="#CCCCCC"> it</font>

149
00:06:02,860 --> 00:06:09,620
all the more<font color="#CCCCCC"> relevant</font>

150
00:06:06,350 --> 00:06:11,660
so by just quick question<font color="#CCCCCC"> any</font><font color="#E5E5E5"> one of you</font>

151
00:06:09,620 --> 00:06:15,230
<font color="#E5E5E5">have worked</font><font color="#CCCCCC"> with</font><font color="#E5E5E5"> the net slow protocol</font>

152
00:06:11,660 --> 00:06:18,230
in the past<font color="#E5E5E5"> no a few of you have you</font>

153
00:06:15,230 --> 00:06:21,490
used it<font color="#CCCCCC"> too</font><font color="#E5E5E5"> as part just part of your</font>

154
00:06:18,230 --> 00:06:21,490
sim tools or

155
00:06:21,510 --> 00:06:26,520
no just regular usage<font color="#CCCCCC"> a lot of Network</font>

156
00:06:24,900 --> 00:06:28,950
folks do know it because they're<font color="#E5E5E5"> using</font>

157
00:06:26,520 --> 00:06:31,710
it for performance analytics<font color="#CCCCCC"> I'm using</font>

158
00:06:28,950 --> 00:06:33,810
it for<font color="#CCCCCC"> security purposes</font><font color="#E5E5E5"> so it's a tad</font>

159
00:06:31,710 --> 00:06:35,700
<font color="#CCCCCC">different</font><font color="#E5E5E5"> so I'll just give</font><font color="#CCCCCC"> you a</font><font color="#E5E5E5"> very</font>

160
00:06:33,810 --> 00:06:38,010
quick overview there's really three

161
00:06:35,700 --> 00:06:39,960
major<font color="#E5E5E5"> versions well you see it goes up</font>

162
00:06:38,010 --> 00:06:41,360
<font color="#CCCCCC">to ten so there were other</font><font color="#E5E5E5"> versions in</font>

163
00:06:39,960 --> 00:06:44,430
there but they're not<font color="#E5E5E5"> really in use</font>

164
00:06:41,360 --> 00:06:46,080
version<font color="#E5E5E5"> five is the real big older</font>

165
00:06:44,430 --> 00:06:48,660
commercial one that was old in older

166
00:06:46,080 --> 00:06:52,800
<font color="#CCCCCC">Cisco equipments</font><font color="#E5E5E5"> it</font><font color="#CCCCCC"> only</font><font color="#E5E5E5"> supports ipv4</font>

167
00:06:48,660 --> 00:06:54,870
<font color="#E5E5E5">and so it has limited but it is fixed in</font>

168
00:06:52,800 --> 00:06:56,880
format so it's easier to<font color="#CCCCCC"> implement for</font>

169
00:06:54,870 --> 00:06:58,710
<font color="#E5E5E5">easier for all their equipments</font><font color="#CCCCCC"> so it's</font>

170
00:06:56,880 --> 00:07:00,450
got less information<font color="#E5E5E5"> but I still got</font>

171
00:06:58,710 --> 00:07:03,870
some<font color="#CCCCCC"> of that information</font><font color="#E5E5E5"> as part of my</font>

172
00:07:00,450 --> 00:07:06,030
work<font color="#CCCCCC"> version</font><font color="#E5E5E5"> nine is actually probably</font>

173
00:07:03,870 --> 00:07:08,970
the<font color="#E5E5E5"> most common one you're gonna get its</font>

174
00:07:06,030 --> 00:07:12,809
template base so template meanings<font color="#E5E5E5"> that</font>

175
00:07:08,970 --> 00:07:14,280
you get a template<font color="#E5E5E5"> sense every once in a</font>

176
00:07:12,810 --> 00:07:15,780
while<font color="#CCCCCC"> that</font><font color="#E5E5E5"> pay scribes what's gonna come</font>

177
00:07:14,280 --> 00:07:20,130
<font color="#E5E5E5">in the next</font><font color="#CCCCCC"> packets</font><font color="#E5E5E5"> and then the packets</font>

178
00:07:15,780 --> 00:07:21,960
get sent and match that template<font color="#CCCCCC"> this is</font>

179
00:07:20,130 --> 00:07:23,460
<font color="#CCCCCC">really all the new equipments but</font><font color="#E5E5E5"> some</font>

180
00:07:21,960 --> 00:07:26,010
other providers I know I think Palo Alto

181
00:07:23,460 --> 00:07:28,919
is one of those that supports natural<font color="#E5E5E5"> v9</font>

182
00:07:26,010 --> 00:07:31,500
directly out of<font color="#E5E5E5"> the box and then there's</font>

183
00:07:28,920 --> 00:07:36,000
natural VPN also called IP<font color="#CCCCCC"> fist because</font>

184
00:07:31,500 --> 00:07:37,830
<font color="#E5E5E5">that's an ITF standard</font><font color="#CCCCCC"> they are see</font>

185
00:07:36,000 --> 00:07:39,810
numbers<font color="#E5E5E5"> there it's extremely similar</font>

186
00:07:37,830 --> 00:07:43,680
from<font color="#E5E5E5"> a protocol perspective there's very</font>

187
00:07:39,810 --> 00:07:45,270
very little variations from v9 but

188
00:07:43,680 --> 00:07:47,130
<font color="#E5E5E5">provide some of those but if you're</font>

189
00:07:45,270 --> 00:07:49,979
using<font color="#E5E5E5"> things like VMware</font><font color="#CCCCCC"> which we were</font>

190
00:07:47,130 --> 00:07:52,650
<font color="#CCCCCC">VMR will provide you</font><font color="#E5E5E5"> the IP fix</font>

191
00:07:49,980 --> 00:07:54,020
information<font color="#E5E5E5"> instead of the full v9 so</font>

192
00:07:52,650 --> 00:07:56,099
you need to be able<font color="#E5E5E5"> to parse that</font>

193
00:07:54,020 --> 00:07:57,479
there's another protocol which you may

194
00:07:56,100 --> 00:08:00,480
hear called<font color="#CCCCCC"> sflow and</font><font color="#E5E5E5"> I've</font><font color="#CCCCCC"> just</font>

195
00:07:57,480 --> 00:08:03,720
mentioned<font color="#E5E5E5"> that</font><font color="#CCCCCC"> sflow is a sample flow so</font>

196
00:08:00,480 --> 00:08:05,820
while it's great for<font color="#CCCCCC"> network</font><font color="#E5E5E5"> behavioral</font>

197
00:08:03,720 --> 00:08:07,290
for for performance reasons<font color="#E5E5E5"> it's not</font>

198
00:08:05,820 --> 00:08:11,580
<font color="#E5E5E5">really useful for</font><font color="#CCCCCC"> our security</font>

199
00:08:07,290 --> 00:08:14,040
<font color="#CCCCCC">perspective not for my</font><font color="#E5E5E5"> users anyways so</font>

200
00:08:11,580 --> 00:08:15,330
I get to okay<font color="#CCCCCC"> now</font><font color="#E5E5E5"> I want to use net</font><font color="#CCCCCC"> flow</font>

201
00:08:14,040 --> 00:08:18,030
<font color="#E5E5E5">because that's gonna</font><font color="#CCCCCC"> be an easier way to</font>

202
00:08:15,330 --> 00:08:19,440
do it<font color="#E5E5E5"> how do I go about it</font><font color="#CCCCCC"> I did a bit</font>

203
00:08:18,030 --> 00:08:21,150
of<font color="#E5E5E5"> market research try to figure out</font>

204
00:08:19,440 --> 00:08:24,210
what I could<font color="#CCCCCC"> get I didn't have much</font>

205
00:08:21,150 --> 00:08:26,130
<font color="#E5E5E5">budget get</font><font color="#CCCCCC"> VMs I've very little</font><font color="#E5E5E5"> time</font><font color="#CCCCCC"> to</font>

206
00:08:24,210 --> 00:08:28,020
figure<font color="#E5E5E5"> out on the tools and while I</font>

207
00:08:26,130 --> 00:08:30,000
found<font color="#E5E5E5"> many tools</font><font color="#CCCCCC"> that did</font><font color="#E5E5E5"> support net</font>

208
00:08:28,020 --> 00:08:31,859
flow most<font color="#CCCCCC"> of them didn't mean my needs I</font>

209
00:08:30,000 --> 00:08:34,020
wanted to be able<font color="#E5E5E5"> to get the raw data to</font>

210
00:08:31,860 --> 00:08:34,769
do the analysis the way I thought it

211
00:08:34,020 --> 00:08:36,808
would need<font color="#CCCCCC"> it to</font><font color="#E5E5E5"> be</font>

212
00:08:34,769 --> 00:08:39,989
done<font color="#CCCCCC"> and I don't</font><font color="#E5E5E5"> think those tools are</font>

213
00:08:36,808 --> 00:08:41,759
made for<font color="#E5E5E5"> that though</font><font color="#CCCCCC"> I</font><font color="#E5E5E5"> basically came</font>

214
00:08:39,989 --> 00:08:44,910
down<font color="#E5E5E5"> to roll your</font><font color="#CCCCCC"> own solution and</font>

215
00:08:41,759 --> 00:08:47,639
<font color="#E5E5E5">identify two products</font><font color="#CCCCCC"> locks</font><font color="#E5E5E5"> - and flu</font>

216
00:08:44,910 --> 00:08:49,339
<font color="#CCCCCC">and D so the both are ruby base both are</font>

217
00:08:47,639 --> 00:08:52,110
<font color="#E5E5E5">similar I consider them basically</font>

218
00:08:49,339 --> 00:08:53,459
<font color="#E5E5E5">siblings they're very similar and</font>

219
00:08:52,110 --> 00:08:56,519
<font color="#E5E5E5">there's actually a lot of porting of</font>

220
00:08:53,459 --> 00:08:58,589
code from one<font color="#CCCCCC"> to the next</font><font color="#E5E5E5"> lock stash is</font>

221
00:08:56,519 --> 00:09:00,269
a bit better known in the community<font color="#E5E5E5"> so</font>

222
00:08:58,589 --> 00:09:03,660
if you've ever<font color="#E5E5E5"> heard of the</font><font color="#CCCCCC"> ELCA stack</font>

223
00:09:00,269 --> 00:09:05,850
<font color="#CCCCCC">LK</font><font color="#E5E5E5"> locks - is the L in there the other</font>

224
00:09:03,660 --> 00:09:08,549
<font color="#E5E5E5">two being elasticsearch and</font><font color="#CCCCCC"> Kabana</font><font color="#E5E5E5"> which</font>

225
00:09:05,850 --> 00:09:12,059
is<font color="#E5E5E5"> a open source search engine</font><font color="#CCCCCC"> and</font>

226
00:09:08,549 --> 00:09:14,309
<font color="#CCCCCC">cabañas a UI on top</font><font color="#E5E5E5"> of it but fluently</font>

227
00:09:12,059 --> 00:09:17,368
is a bit more<font color="#CCCCCC"> decentralized</font><font color="#E5E5E5"> it's written</font>

228
00:09:14,309 --> 00:09:19,110
in Ruby C which means<font color="#CCCCCC"> it uses</font><font color="#E5E5E5"> less</font>

229
00:09:17,369 --> 00:09:20,850
memory<font color="#E5E5E5"> the other one is written new Ruby</font>

230
00:09:19,110 --> 00:09:24,660
J so runs on<font color="#E5E5E5"> the</font><font color="#CCCCCC"> GDK so will be</font>

231
00:09:20,850 --> 00:09:29,100
supported easier<font color="#E5E5E5"> on a Windows system for</font>

232
00:09:24,660 --> 00:09:31,469
example<font color="#E5E5E5"> then</font><font color="#CCCCCC"> fluent</font><font color="#E5E5E5"> D I chose fluently</font>

233
00:09:29,100 --> 00:09:33,449
<font color="#CCCCCC">for multiple reasons a lot of this stuff</font>

234
00:09:31,470 --> 00:09:36,089
probably<font color="#E5E5E5"> could be done with</font><font color="#CCCCCC"> log</font><font color="#E5E5E5"> stash as</font>

235
00:09:33,449 --> 00:09:37,618
well<font color="#E5E5E5"> I just</font><font color="#CCCCCC"> haven't done it but</font><font color="#E5E5E5"> both of</font>

236
00:09:36,089 --> 00:09:39,540
<font color="#E5E5E5">them</font><font color="#CCCCCC"> are very similar</font><font color="#E5E5E5"> from a conceptual</font>

237
00:09:37,619 --> 00:09:41,699
perspective so if you're familiar with

238
00:09:39,540 --> 00:09:43,740
<font color="#E5E5E5">the Linux command line you know that</font>

239
00:09:41,699 --> 00:09:45,809
it's the<font color="#E5E5E5"> original goal of</font><font color="#CCCCCC"> the UNIX</font>

240
00:09:43,740 --> 00:09:48,660
systems<font color="#CCCCCC"> with</font><font color="#E5E5E5"> several small little</font>

241
00:09:45,809 --> 00:09:50,519
utilities that are do one job very well

242
00:09:48,660 --> 00:09:52,829
and then you just pipe the input from

243
00:09:50,519 --> 00:09:54,480
one<font color="#E5E5E5"> to the next those systems are</font>

244
00:09:52,829 --> 00:09:56,998
<font color="#E5E5E5">plug-in based so they're using pretty</font>

245
00:09:54,480 --> 00:10:00,360
<font color="#E5E5E5">much the same model where you get an</font>

246
00:09:56,999 --> 00:10:03,660
input<font color="#CCCCCC"> plug in from tailing a file from</font>

247
00:10:00,360 --> 00:10:06,329
<font color="#E5E5E5">receiving a UDP packet and maybe parsing</font>

248
00:10:03,660 --> 00:10:08,610
it specifically<font color="#E5E5E5"> to filtering and all the</font>

249
00:10:06,329 --> 00:10:10,049
weight<font color="#CCCCCC"> outputting it to some format</font><font color="#E5E5E5"> so</font>

250
00:10:08,610 --> 00:10:12,089
they're both of them<font color="#E5E5E5"> there's a bit</font>

251
00:10:10,049 --> 00:10:15,029
there's more plugins<font color="#E5E5E5"> I believe available</font>

252
00:10:12,089 --> 00:10:18,350
on<font color="#CCCCCC"> blue</font><font color="#E5E5E5"> and B but some of the nature may</font>

253
00:10:15,029 --> 00:10:18,350
feel a<font color="#E5E5E5"> bit</font><font color="#CCCCCC"> more hobbyist</font>

254
00:10:20,190 --> 00:10:25,230
<font color="#CCCCCC">so</font><font color="#E5E5E5"> we get to the fun</font><font color="#CCCCCC"> part because</font><font color="#E5E5E5"> I'm</font>

255
00:10:23,070 --> 00:10:27,510
gonna<font color="#E5E5E5"> be doing</font><font color="#CCCCCC"> a bit controlled demos so</font>

256
00:10:25,230 --> 00:10:30,750
they're controlled in that I'm using<font color="#CCCCCC"> pre</font>

257
00:10:27,510 --> 00:10:32,370
<font color="#E5E5E5">capture traffic</font><font color="#CCCCCC"> I'm on my own network so</font>

258
00:10:30,750 --> 00:10:35,340
I'm using two VMs because you cannot

259
00:10:32,370 --> 00:10:38,550
replay<font color="#E5E5E5"> traffic from the same VM but</font>

260
00:10:35,340 --> 00:10:39,510
really I have really one<font color="#E5E5E5"> VM that's</font>

261
00:10:38,550 --> 00:10:42,089
<font color="#E5E5E5">running the code the</font><font color="#CCCCCC"> other ones just</font>

262
00:10:39,510 --> 00:10:43,590
<font color="#E5E5E5">replaying traffic on a general</font><font color="#CCCCCC"> network</font>

263
00:10:42,090 --> 00:10:46,740
if you'd set this<font color="#CCCCCC"> up up you would</font><font color="#E5E5E5"> really</font>

264
00:10:43,590 --> 00:10:49,970
<font color="#CCCCCC">need one VM</font><font color="#E5E5E5"> potentially more if you have</font>

265
00:10:46,740 --> 00:10:53,070
<font color="#E5E5E5">more data centers because this is UDP</font>

266
00:10:49,970 --> 00:10:55,740
<font color="#CCCCCC">but by doing this</font><font color="#E5E5E5"> for example by using</font>

267
00:10:53,070 --> 00:10:57,660
<font color="#E5E5E5">captured packets traffic that I</font><font color="#CCCCCC"> captured</font>

268
00:10:55,740 --> 00:11:00,420
net flow<font color="#CCCCCC"> information coming</font><font color="#E5E5E5"> in on the</font>

269
00:10:57,660 --> 00:11:03,120
<font color="#E5E5E5">servers I'm able</font><font color="#CCCCCC"> to take the</font><font color="#E5E5E5"> output of</font>

270
00:11:00,420 --> 00:11:04,680
one tool and if I make<font color="#CCCCCC"> changes replicate</font>

271
00:11:03,120 --> 00:11:06,030
and test it out<font color="#E5E5E5"> and compare the output</font>

272
00:11:04,680 --> 00:11:09,839
<font color="#E5E5E5">the other tool which should be the same</font>

273
00:11:06,030 --> 00:11:11,670
<font color="#E5E5E5">so it allows for</font><font color="#CCCCCC"> a</font><font color="#E5E5E5"> lot better testing</font><font color="#CCCCCC"> so</font>

274
00:11:09,840 --> 00:11:13,470
I<font color="#CCCCCC"> have a demo slide seen here that I've</font>

275
00:11:11,670 --> 00:11:16,110
kept<font color="#E5E5E5"> just in case we've ran into issues</font>

276
00:11:13,470 --> 00:11:18,390
<font color="#CCCCCC">that I could talk to not if I couldn't</font>

277
00:11:16,110 --> 00:11:20,610
show<font color="#E5E5E5"> you but I mean it's be skipping</font>

278
00:11:18,390 --> 00:11:23,150
<font color="#CCCCCC">over those as I go through the demo and</font>

279
00:11:20,610 --> 00:11:26,010
I'll have instruction and code available

280
00:11:23,150 --> 00:11:27,870
<font color="#E5E5E5">after the spirit ation</font><font color="#CCCCCC"> I'm packaging</font>

281
00:11:26,010 --> 00:11:30,090
everything<font color="#E5E5E5"> and I'm gonna post it online</font>

282
00:11:27,870 --> 00:11:36,770
once that's done probably<font color="#CCCCCC"> over the</font>

283
00:11:30,090 --> 00:11:36,770
weekend<font color="#E5E5E5"> so let's go to demos</font>

284
00:11:37,550 --> 00:11:44,260
is this clear enough<font color="#E5E5E5"> for you</font><font color="#CCCCCC"> guys didn't</font>

285
00:11:40,430 --> 00:11:47,660
you see well at the back yeah yeah so

286
00:11:44,260 --> 00:11:48,620
<font color="#E5E5E5">flu and V is written in Ruby</font><font color="#CCCCCC"> it's</font>

287
00:11:47,660 --> 00:11:50,060
<font color="#E5E5E5">installed</font>

288
00:11:48,620 --> 00:11:52,610
<font color="#E5E5E5">I'll have the instruction on there but</font>

289
00:11:50,060 --> 00:11:53,899
it's really<font color="#E5E5E5"> a simple script that they</font>

290
00:11:52,610 --> 00:11:57,380
gave you it's managed by<font color="#E5E5E5"> a company</font>

291
00:11:53,899 --> 00:12:00,800
<font color="#CCCCCC">called treasure data that set up the</font>

292
00:11:57,380 --> 00:12:03,920
system<font color="#CCCCCC"> it's got a an agent and your</font>

293
00:12:00,800 --> 00:12:06,829
configuration files are in EDC<font color="#E5E5E5"> /t the</font>

294
00:12:03,920 --> 00:12:09,290
agent<font color="#CCCCCC"> TD for treasure</font><font color="#E5E5E5"> treasure</font><font color="#CCCCCC"> data</font>

295
00:12:06,829 --> 00:12:10,910
<font color="#E5E5E5">agent it's basically one of the</font><font color="#CCCCCC"> versions</font>

296
00:12:09,290 --> 00:12:15,709
<font color="#E5E5E5">of fluently you can compile from source</font>

297
00:12:10,910 --> 00:12:17,810
but I chose<font color="#E5E5E5"> to</font><font color="#CCCCCC"> not do that</font><font color="#E5E5E5"> so you'll see</font>

298
00:12:15,709 --> 00:12:20,029
I have<font color="#E5E5E5"> a</font><font color="#CCCCCC"> bunch of</font><font color="#E5E5E5"> files</font><font color="#CCCCCC"> I've set it</font><font color="#E5E5E5"> up</font>

299
00:12:17,810 --> 00:12:23,800
<font color="#E5E5E5">in folders</font><font color="#CCCCCC"> well actually</font><font color="#E5E5E5"> you're seeing</font>

300
00:12:20,029 --> 00:12:23,800
the demo<font color="#E5E5E5"> have to exit this</font>

301
00:12:25,649 --> 00:12:29,879
what I'm supposed<font color="#CCCCCC"> to be showing</font><font color="#E5E5E5"> you so</font>

302
00:12:27,779 --> 00:12:31,680
you can see that I've got<font color="#CCCCCC"> all here</font>

303
00:12:29,879 --> 00:12:34,460
demo folders because<font color="#E5E5E5"> it made it easier</font>

304
00:12:31,680 --> 00:12:37,000
<font color="#E5E5E5">to put the configuration files there and</font>

305
00:12:34,460 --> 00:12:39,940
[Music]

306
00:12:37,000 --> 00:12:41,950
you will see the<font color="#CCCCCC"> TV</font><font color="#E5E5E5"> agent</font><font color="#CCCCCC"> comp file</font><font color="#E5E5E5"> I'm</font>

307
00:12:39,940 --> 00:12:44,650
just referencing which is ever demo<font color="#CCCCCC"> I</font>

308
00:12:41,950 --> 00:12:47,050
want<font color="#CCCCCC"> to run that's so that makes it</font>

309
00:12:44,650 --> 00:12:48,819
easier to<font color="#E5E5E5"> run this</font><font color="#CCCCCC"> demo</font><font color="#E5E5E5"> the output files</font>

310
00:12:47,050 --> 00:12:51,280
are also going to<font color="#E5E5E5"> be output</font><font color="#CCCCCC"> to special</font>

311
00:12:48,820 --> 00:12:57,120
separate folders in slash var slash log

312
00:12:51,280 --> 00:12:57,120
slash DD agent<font color="#E5E5E5"> which I have over here</font>

313
00:12:58,660 --> 00:13:04,079
<font color="#CCCCCC">no basic configuration for</font>

314
00:13:04,649 --> 00:13:09,329
<font color="#E5E5E5">fluently with just not</font><font color="#CCCCCC"> your in regular</font>

315
00:13:07,920 --> 00:13:11,430
output to the<font color="#E5E5E5"> NetFlow plugin so</font><font color="#CCCCCC"> I have</font>

316
00:13:09,329 --> 00:13:12,779
installed<font color="#E5E5E5"> an</font><font color="#CCCCCC"> NetFlow</font><font color="#E5E5E5"> plugin which is not</font>

317
00:13:11,430 --> 00:13:16,529
installed<font color="#E5E5E5"> by default and you</font><font color="#CCCCCC"> can tell</font>

318
00:13:12,779 --> 00:13:18,269
it's a it's the configuration file there

319
00:13:16,529 --> 00:13:20,100
so you have<font color="#E5E5E5"> an a source input which is</font>

320
00:13:18,269 --> 00:13:22,519
<font color="#E5E5E5">type net flow with</font><font color="#CCCCCC"> sing</font><font color="#E5E5E5"> on a port on</font>

321
00:13:20,100 --> 00:13:25,619
listening<font color="#E5E5E5"> on in one port on otherwise</font>

322
00:13:22,519 --> 00:13:29,160
<font color="#CCCCCC">2055 is the one of</font><font color="#E5E5E5"> the regular ports</font>

323
00:13:25,619 --> 00:13:30,449
used for that flow and then<font color="#E5E5E5"> I'm matching</font>

324
00:13:29,160 --> 00:13:31,860
that traffic<font color="#CCCCCC"> either else it's not</font><font color="#E5E5E5"> gonna</font>

325
00:13:30,449 --> 00:13:33,359
<font color="#E5E5E5">do anything it's going to input it and</font>

326
00:13:31,860 --> 00:13:36,929
it's<font color="#E5E5E5"> going to be in the</font><font color="#CCCCCC"> system</font><font color="#E5E5E5"> and now</font>

327
00:13:33,360 --> 00:13:40,160
putting it to a file<font color="#CCCCCC"> in that folder so</font>

328
00:13:36,929 --> 00:13:40,160
if I do this and<font color="#E5E5E5"> if I do</font>

329
00:13:40,470 --> 00:13:46,230
the agent is by two changes and

330
00:13:44,330 --> 00:13:49,220
configuration obviously<font color="#CCCCCC"> after we start</font>

331
00:13:46,230 --> 00:13:53,360
not running so just this regular start

332
00:13:49,220 --> 00:13:56,130
and I can do and<font color="#CCCCCC"> just replay</font><font color="#E5E5E5"> my traffic</font>

333
00:13:53,360 --> 00:14:01,250
now I can<font color="#E5E5E5"> show you what happened there</font>

334
00:13:56,130 --> 00:14:01,250
<font color="#CCCCCC">in the log file so I started reading</font>

335
00:14:01,510 --> 00:14:06,040
and you can see it<font color="#CCCCCC"> output at the</font>

336
00:14:03,190 --> 00:14:07,540
<font color="#E5E5E5">configuration file maybe just it</font>

337
00:14:06,040 --> 00:14:10,569
<font color="#E5E5E5">rewritten and</font><font color="#CCCCCC"> then you get</font><font color="#E5E5E5"> a bunch of</font>

338
00:14:07,540 --> 00:14:13,270
messages<font color="#E5E5E5"> one no matching template why is</font>

339
00:14:10,570 --> 00:14:16,480
that<font color="#E5E5E5"> because I'm sending a mix in that</font>

340
00:14:13,270 --> 00:14:18,430
packet capture of<font color="#CCCCCC"> v5 and V</font><font color="#E5E5E5"> 9 so v5</font>

341
00:14:16,480 --> 00:14:20,500
doesn't require templates but<font color="#E5E5E5"> V 9 does</font>

342
00:14:18,430 --> 00:14:23,260
<font color="#E5E5E5">so that just means that it hasn't</font>

343
00:14:20,500 --> 00:14:25,210
received a template just<font color="#CCCCCC"> yet so that's a</font>

344
00:14:23,260 --> 00:14:27,490
configuration issue<font color="#E5E5E5"> in your devices</font><font color="#CCCCCC"> for</font>

345
00:14:25,210 --> 00:14:28,870
net flow<font color="#E5E5E5"> we had set it up to every</font>

346
00:14:27,490 --> 00:14:31,120
minute it<font color="#E5E5E5"> would send a template you</font><font color="#CCCCCC"> can</font>

347
00:14:28,870 --> 00:14:33,250
<font color="#E5E5E5">set it up to different frequencies but</font>

348
00:14:31,120 --> 00:14:34,810
generally those plugins will lose the

349
00:14:33,250 --> 00:14:36,730
traffic<font color="#CCCCCC"> before they get</font><font color="#E5E5E5"> the template so</font>

350
00:14:34,810 --> 00:14:39,459
once you<font color="#E5E5E5"> restart the engine you couldn't</font>

351
00:14:36,730 --> 00:14:41,890
lose traffic so it just be mindful and

352
00:14:39,460 --> 00:14:44,230
aware<font color="#E5E5E5"> of this but there's nothing</font><font color="#CCCCCC"> more</font>

353
00:14:41,890 --> 00:14:48,400
in<font color="#E5E5E5"> this but I can show you the output</font><font color="#CCCCCC"> of</font>

354
00:14:44,230 --> 00:14:50,860
the file and<font color="#E5E5E5"> you</font><font color="#CCCCCC"> can</font><font color="#E5E5E5"> see you got</font>

355
00:14:48,400 --> 00:14:52,780
basically when<font color="#E5E5E5"> a time line and then a</font>

356
00:14:50,860 --> 00:14:56,200
net flow event which is a tag<font color="#CCCCCC"> I assigned</font>

357
00:14:52,780 --> 00:14:58,030
to it<font color="#E5E5E5"> and then this series of JSON</font><font color="#CCCCCC"> file</font>

358
00:14:56,200 --> 00:15:01,030
<font color="#E5E5E5">so see if you haven't seen JSON in the</font>

359
00:14:58,030 --> 00:15:02,650
past<font color="#CCCCCC"> JavaScript</font><font color="#E5E5E5"> object notation</font><font color="#CCCCCC"> came up</font>

360
00:15:01,030 --> 00:15:05,560
<font color="#CCCCCC">from</font><font color="#E5E5E5"> the web application development</font>

361
00:15:02,650 --> 00:15:09,189
<font color="#E5E5E5">side</font><font color="#CCCCCC"> of things</font><font color="#E5E5E5"> makes it easier</font><font color="#CCCCCC"> to create</font>

362
00:15:05,560 --> 00:15:10,510
<font color="#E5E5E5">a doc objects very easily which is</font><font color="#CCCCCC"> very</font>

363
00:15:09,190 --> 00:15:13,890
helpful when you're<font color="#CCCCCC"> trying</font><font color="#E5E5E5"> to build a</font>

364
00:15:10,510 --> 00:15:16,150
system that complex you're not sort to a

365
00:15:13,890 --> 00:15:18,480
standard one-liner as you would have

366
00:15:16,150 --> 00:15:23,020
your standard input on the command line

367
00:15:18,480 --> 00:15:25,270
<font color="#CCCCCC">but that's pretty hard to do</font><font color="#E5E5E5"> from a</font><font color="#CCCCCC"> and</font>

368
00:15:23,020 --> 00:15:27,310
from an end user perspective to parse

369
00:15:25,270 --> 00:15:30,100
<font color="#E5E5E5">that information is a lot more</font>

370
00:15:27,310 --> 00:15:33,030
convoluted<font color="#E5E5E5"> so the next thing I did and</font>

371
00:15:30,100 --> 00:15:33,030
once you've<font color="#E5E5E5"> got that is</font>

372
00:15:33,710 --> 00:15:41,870
go to demo - I'm just gonna<font color="#E5E5E5"> make a in</font>

373
00:15:37,460 --> 00:15:45,010
demo - there's just<font color="#CCCCCC"> one tiny little</font>

374
00:15:41,870 --> 00:15:47,720
<font color="#E5E5E5">change if you can see it towards here</font>

375
00:15:45,010 --> 00:15:49,100
<font color="#E5E5E5">there's a format CSV so I'm just</font>

376
00:15:47,720 --> 00:15:51,170
outputting now you're changing<font color="#E5E5E5"> the</font>

377
00:15:49,100 --> 00:15:54,040
format structure so if I do the same<font color="#E5E5E5"> for</font>

378
00:15:51,170 --> 00:15:54,040
<font color="#CCCCCC">a restart</font>

379
00:15:55,100 --> 00:16:00,350
then I'll be able<font color="#CCCCCC"> to and you</font><font color="#E5E5E5"> get to</font>

380
00:15:56,360 --> 00:16:02,150
actually<font color="#E5E5E5"> do a</font><font color="#CCCCCC"> tail here so it's shutting</font>

381
00:16:00,350 --> 00:16:04,760
down it'll<font color="#E5E5E5"> restart you can take a few</font>

382
00:16:02,150 --> 00:16:06,790
seconds there depending<font color="#E5E5E5"> on if it's doing</font>

383
00:16:04,760 --> 00:16:06,790
something

384
00:16:13,040 --> 00:16:15,099
you

385
00:16:16,570 --> 00:16:22,290
and that's a fun part<font color="#E5E5E5"> waiting</font><font color="#CCCCCC"> for this</font>

386
00:16:18,520 --> 00:16:22,290
<font color="#CCCCCC">the Reese type</font>

387
00:16:26,380 --> 00:16:28,439
you

388
00:16:33,700 --> 00:16:38,310
and even if I sent traffic<font color="#CCCCCC"> it'd be lost</font>

389
00:16:36,940 --> 00:16:42,060
right<font color="#E5E5E5"> so I'm just waiting</font><font color="#CCCCCC"> for</font><font color="#E5E5E5"> it to</font>

390
00:16:38,310 --> 00:16:42,060
confirm that it's there

391
00:16:46,080 --> 00:16:51,380
and since I'm<font color="#CCCCCC"> gonna be</font><font color="#E5E5E5"> using the same</font>

392
00:16:47,730 --> 00:16:51,380
<font color="#CCCCCC">traffic you'll see I'm using a</font>

393
00:16:53,490 --> 00:16:58,320
batch file here<font color="#CCCCCC"> well I can do</font><font color="#E5E5E5"> that now</font><font color="#CCCCCC"> I</font>

394
00:16:55,670 --> 00:16:59,490
<font color="#CCCCCC">send the same traffic you see that it's</font>

395
00:16:58,320 --> 00:17:03,649
gotten the<font color="#E5E5E5"> same thing but the difference</font>

396
00:16:59,490 --> 00:17:03,649
is<font color="#E5E5E5"> in this one</font>

397
00:17:05,539 --> 00:17:11,679
CSV files so having<font color="#E5E5E5"> CSV allowed me to</font>

398
00:17:08,599 --> 00:17:13,938
take that<font color="#E5E5E5"> data</font><font color="#CCCCCC"> directly initially</font>

399
00:17:11,679 --> 00:17:17,149
<font color="#CCCCCC">transferred to PC processed that</font>

400
00:17:13,939 --> 00:17:19,579
manually<font color="#E5E5E5"> I at one point ended up doing a</font>

401
00:17:17,148 --> 00:17:21,559
mix of all<font color="#CCCCCC"> command-line</font><font color="#E5E5E5"> cut grep pipe</font>

402
00:17:19,579 --> 00:17:23,329
all that beautiful<font color="#E5E5E5"> stuff to simplify</font>

403
00:17:21,559 --> 00:17:25,579
some<font color="#CCCCCC"> of those files compress them to</font>

404
00:17:23,329 --> 00:17:29,200
make them transfer easy<font color="#E5E5E5"> but at least</font>

405
00:17:25,579 --> 00:17:32,918
<font color="#E5E5E5">that got me base raw information</font><font color="#CCCCCC"> but I</font>

406
00:17:29,200 --> 00:17:32,919
think we can do better<font color="#CCCCCC"> than that</font>

407
00:17:32,920 --> 00:17:38,370
if you go back to and we see what's in

408
00:17:35,830 --> 00:17:38,370
<font color="#CCCCCC">that mode three</font>

409
00:17:41,520 --> 00:17:43,550
<font color="#CCCCCC">Oh</font>

410
00:17:44,480 --> 00:17:48,440
<font color="#E5E5E5">you can see in</font><font color="#CCCCCC"> there</font><font color="#E5E5E5"> I'm using basically</font>

411
00:17:47,120 --> 00:17:52,580
<font color="#CCCCCC">the same thing</font><font color="#E5E5E5"> but I'm gonna be is gonna</font>

412
00:17:48,440 --> 00:17:55,309
<font color="#E5E5E5">be just to simplify I'm gonna send more</font>

413
00:17:52,580 --> 00:17:58,340
<font color="#CCCCCC">information there restart it again</font><font color="#E5E5E5"> I'll</font>

414
00:17:55,309 --> 00:18:00,168
show you in the<font color="#E5E5E5"> meantime just to give</font>

415
00:17:58,340 --> 00:18:01,820
you an idea<font color="#E5E5E5"> I'm just replaying different</font>

416
00:18:00,169 --> 00:18:03,679
packets that's all my scripts<font color="#E5E5E5"> they're</font>

417
00:18:01,820 --> 00:18:05,480
all you'll<font color="#E5E5E5"> have that I'm looking at</font>

418
00:18:03,679 --> 00:18:07,880
<font color="#E5E5E5">trying to give you some key caps as well</font>

419
00:18:05,480 --> 00:18:09,799
so you<font color="#E5E5E5"> can test that as well at home but</font>

420
00:18:07,880 --> 00:18:12,620
if you do the replay<font color="#E5E5E5"> you just have to do</font>

421
00:18:09,799 --> 00:18:13,730
a lot of TCP rewrite<font color="#E5E5E5"> between of the two</font>

422
00:18:12,620 --> 00:18:17,330
VMs<font color="#CCCCCC"> that I'm running</font><font color="#E5E5E5"> here</font>

423
00:18:13,730 --> 00:18:19,570
let's just start it so I can do<font color="#E5E5E5"> em all</font>

424
00:18:17,330 --> 00:18:19,570
<font color="#E5E5E5">three</font>

425
00:18:20,960 --> 00:18:26,960
if<font color="#E5E5E5"> I do a tail you can see</font><font color="#CCCCCC"> Oh</font>

426
00:18:24,340 --> 00:18:28,790
<font color="#E5E5E5">unsupported net flow net fire natural</font>

427
00:18:26,960 --> 00:18:30,770
version<font color="#E5E5E5"> because the default</font><font color="#CCCCCC"> plugin</font>

428
00:18:28,790 --> 00:18:32,210
doesn't support<font color="#E5E5E5"> it actually the default</font>

429
00:18:30,770 --> 00:18:33,710
<font color="#CCCCCC">plugin seems to have been</font><font color="#E5E5E5"> imported from</font>

430
00:18:32,210 --> 00:18:35,750
<font color="#E5E5E5">lock stash code which I couldn't</font>

431
00:18:33,710 --> 00:18:37,190
understand<font color="#E5E5E5"> there's a bug</font><font color="#CCCCCC"> in it</font><font color="#E5E5E5"> I managed</font>

432
00:18:35,750 --> 00:18:41,110
to<font color="#E5E5E5"> fix one but there's still some</font><font color="#CCCCCC"> issues</font>

433
00:18:37,190 --> 00:18:41,110
<font color="#E5E5E5">you'll also run into</font>

434
00:18:44,140 --> 00:18:48,400
supported fields what does that<font color="#E5E5E5"> mean</font><font color="#CCCCCC"> by</font>

435
00:18:46,720 --> 00:18:51,430
default<font color="#E5E5E5"> there are</font><font color="#CCCCCC"> fields</font><font color="#E5E5E5"> that are</font>

436
00:18:48,400 --> 00:18:52,990
defined in<font color="#E5E5E5"> a template in a file format</font>

437
00:18:51,430 --> 00:18:55,620
<font color="#E5E5E5">but if you look at those numbers they</font>

438
00:18:52,990 --> 00:18:58,120
tend to be some<font color="#CCCCCC"> are</font><font color="#E5E5E5"> lower up but above</font>

439
00:18:55,620 --> 00:18:59,919
<font color="#CCCCCC">32,000 and these are generally vendor</font>

440
00:18:58,120 --> 00:19:01,030
assigned numbers so you<font color="#E5E5E5"> if you deal</font><font color="#CCCCCC"> with</font>

441
00:18:59,920 --> 00:19:02,890
a new device you're gonna<font color="#E5E5E5"> get new</font>

442
00:19:01,030 --> 00:19:04,540
numbers<font color="#E5E5E5"> generally you'll get that</font>

443
00:19:02,890 --> 00:19:08,400
information<font color="#CCCCCC"> from that</font><font color="#E5E5E5"> provider and you</font>

444
00:19:04,540 --> 00:19:13,780
can I show you the in the<font color="#CCCCCC"> plug-in</font>

445
00:19:08,400 --> 00:19:15,520
<font color="#E5E5E5">NetFlow version it's a llamo it's yet</font>

446
00:19:13,780 --> 00:19:17,379
another markup language file that's a

447
00:19:15,520 --> 00:19:19,330
format I didn't<font color="#CCCCCC"> update it and then</font>

448
00:19:17,380 --> 00:19:20,350
basically<font color="#E5E5E5"> you can add your file</font><font color="#CCCCCC"> formats</font>

449
00:19:19,330 --> 00:19:22,659
<font color="#CCCCCC">if you want</font><font color="#E5E5E5"> to use those numbers</font>

450
00:19:20,350 --> 00:19:24,580
<font color="#E5E5E5">directly in there but</font><font color="#CCCCCC"> that's fairly easy</font>

451
00:19:22,660 --> 00:19:28,800
<font color="#E5E5E5">to do that's what I ended</font><font color="#CCCCCC"> up doing</font><font color="#E5E5E5"> for</font>

452
00:19:24,580 --> 00:19:28,800
the IP fix stuff<font color="#E5E5E5"> which is</font><font color="#CCCCCC"> the next</font><font color="#E5E5E5"> step</font>

453
00:19:29,470 --> 00:19:36,390
since I didn't<font color="#CCCCCC"> have v10 version mom say</font>

454
00:19:32,919 --> 00:19:36,390
<font color="#E5E5E5">that I can have that</font>

455
00:19:36,400 --> 00:19:38,880
<font color="#CCCCCC">mommy now</font>

456
00:19:45,940 --> 00:19:51,230
you see this<font color="#CCCCCC"> no it's matching traffic</font>

457
00:19:48,920 --> 00:19:53,480
this is the<font color="#CCCCCC"> plugin I'm</font><font color="#E5E5E5"> gonna be</font>

458
00:19:51,230 --> 00:19:56,690
releasing<font color="#E5E5E5"> I wanted to do a complete</font>

459
00:19:53,480 --> 00:19:59,000
rewrite but there's dependency issues

460
00:19:56,690 --> 00:20:00,680
with<font color="#CCCCCC"> fluency and versions of</font><font color="#E5E5E5"> Ruby that</font>

461
00:19:59,000 --> 00:20:02,930
didn't allow<font color="#CCCCCC"> me to go to so I ended up</font>

462
00:20:00,680 --> 00:20:05,780
going back<font color="#E5E5E5"> refactoring</font><font color="#CCCCCC"> the</font><font color="#E5E5E5"> code</font><font color="#CCCCCC"> trying</font>

463
00:20:02,930 --> 00:20:07,580
to simplify clean it so since V 9 and

464
00:20:05,780 --> 00:20:09,050
v10 are pretty much the same<font color="#E5E5E5"> I've just</font>

465
00:20:07,580 --> 00:20:11,060
made little tweaks here<font color="#CCCCCC"> and there</font>

466
00:20:09,050 --> 00:20:13,970
I believe the code is more<font color="#E5E5E5"> readable</font><font color="#CCCCCC"> if</font>

467
00:20:11,060 --> 00:20:16,040
there's<font color="#E5E5E5"> Ruby experts or Ruby people know</font>

468
00:20:13,970 --> 00:20:18,800
better more<font color="#E5E5E5"> than happy to get the help</font>

469
00:20:16,040 --> 00:20:22,399
but if you look at the end results now

470
00:20:18,800 --> 00:20:24,980
in demo 4 I've output it to both files

471
00:20:22,400 --> 00:20:26,870
to both JSON which is<font color="#E5E5E5"> going to be your</font>

472
00:20:24,980 --> 00:20:28,880
standard<font color="#CCCCCC"> JSON</font><font color="#E5E5E5"> file</font><font color="#CCCCCC"> that you've seen</font>

473
00:20:26,870 --> 00:20:31,639
<font color="#E5E5E5">which you can see all the informations</font>

474
00:20:28,880 --> 00:20:34,670
in there right yeah IP addresses the

475
00:20:31,640 --> 00:20:39,350
<font color="#E5E5E5">ports all that stuff problem is if for</font>

476
00:20:34,670 --> 00:20:41,450
<font color="#CCCCCC">this version I go to CSV versions</font><font color="#E5E5E5"> what's</font>

477
00:20:39,350 --> 00:20:44,840
happening what happened to my data it's

478
00:20:41,450 --> 00:20:48,320
not there the problem with that data

479
00:20:44,840 --> 00:20:52,280
<font color="#CCCCCC">oh and obviously</font><font color="#E5E5E5"> that it gets compressed</font>

480
00:20:48,320 --> 00:20:53,750
<font color="#E5E5E5">so it's in there but it's using</font>

481
00:20:52,280 --> 00:20:55,700
different<font color="#CCCCCC"> names and</font><font color="#E5E5E5"> actually it's</font>

482
00:20:53,750 --> 00:20:57,950
providing me right now for example<font color="#E5E5E5"> for</font>

483
00:20:55,700 --> 00:21:00,470
IP address source ipv4 address

484
00:20:57,950 --> 00:21:02,810
destination ipv4 address<font color="#E5E5E5"> and if it</font><font color="#CCCCCC"> DV</font>

485
00:21:00,470 --> 00:21:04,760
<font color="#CCCCCC">sex which it will also provide me</font><font color="#E5E5E5"> it be</font>

486
00:21:02,810 --> 00:21:08,149
that name so those names the variable

487
00:21:04,760 --> 00:21:10,820
names from the protocol change so that

488
00:21:08,150 --> 00:21:14,570
<font color="#E5E5E5">meant that I couldn't just</font><font color="#CCCCCC"> use the</font>

489
00:21:10,820 --> 00:21:17,950
standard CSV so I had to get<font color="#CCCCCC"> creative to</font>

490
00:21:14,570 --> 00:21:17,950
<font color="#CCCCCC">be able</font><font color="#E5E5E5"> to get all that</font><font color="#CCCCCC"> information</font>

491
00:21:18,230 --> 00:21:24,019
I'll actually<font color="#CCCCCC"> read cite</font><font color="#E5E5E5"> this in the</font>

492
00:21:19,909 --> 00:21:26,359
<font color="#E5E5E5">background so I can show you there's a</font>

493
00:21:24,019 --> 00:21:28,429
configuration<font color="#E5E5E5"> file</font><font color="#CCCCCC"> so I'm using</font><font color="#E5E5E5"> my</font>

494
00:21:26,359 --> 00:21:31,399
<font color="#CCCCCC">plug-in which is the</font><font color="#E5E5E5"> net flow IP fix</font>

495
00:21:28,429 --> 00:21:32,749
input<font color="#E5E5E5"> plug-in but I'm doing a couple of</font>

496
00:21:31,399 --> 00:21:36,320
other<font color="#E5E5E5"> things I'm using other plugins</font>

497
00:21:32,749 --> 00:21:37,850
I'm the copy output<font color="#E5E5E5"> plug-in basically</font>

498
00:21:36,320 --> 00:21:39,320
allows you to fork things in<font color="#E5E5E5"> different</font>

499
00:21:37,850 --> 00:21:41,480
directions makes a copy<font color="#E5E5E5"> of everything</font>

500
00:21:39,320 --> 00:21:44,450
<font color="#E5E5E5">and send this to different stores</font><font color="#CCCCCC"> I'm</font>

501
00:21:41,480 --> 00:21:46,100
using a real label<font color="#E5E5E5"> which adds a label to</font>

502
00:21:44,450 --> 00:21:49,070
it<font color="#E5E5E5"> so</font><font color="#CCCCCC"> basically creating some sort of a</font>

503
00:21:46,100 --> 00:21:50,389
<font color="#E5E5E5">workflow with this</font><font color="#CCCCCC"> but this is great so</font>

504
00:21:49,070 --> 00:21:52,428
because I get<font color="#CCCCCC"> all the information</font>

505
00:21:50,389 --> 00:21:54,498
<font color="#CCCCCC">everywhere and I want to</font><font color="#E5E5E5"> treat every bit</font>

506
00:21:52,429 --> 00:21:57,259
of information differently<font color="#CCCCCC"> I'm taking</font>

507
00:21:54,499 --> 00:21:59,210
all of the v5 information parsing it

508
00:21:57,259 --> 00:22:00,799
assigning it to variable names here with

509
00:21:59,210 --> 00:22:03,350
a record transformer these are all

510
00:22:00,799 --> 00:22:05,749
standard<font color="#CCCCCC"> out of the box plugins that</font>

511
00:22:03,350 --> 00:22:09,529
came to this<font color="#E5E5E5"> I added one which is a</font>

512
00:22:05,749 --> 00:22:12,649
lookup CSV<font color="#CCCCCC"> that I used to transform</font><font color="#E5E5E5"> the</font>

513
00:22:09,529 --> 00:22:15,499
<font color="#E5E5E5">protocol number from 1 which is ICMP 6</font>

514
00:22:12,649 --> 00:22:17,840
which is<font color="#CCCCCC"> TCP 17 which is UDP and</font><font color="#E5E5E5"> all of</font>

515
00:22:15,499 --> 00:22:20,210
the others from<font color="#E5E5E5"> the standard</font><font color="#CCCCCC"> definition</font>

516
00:22:17,840 --> 00:22:22,220
to a protocol<font color="#E5E5E5"> name that makes sense to</font>

517
00:22:20,210 --> 00:22:24,830
an end user reading it so I'm doing<font color="#CCCCCC"> that</font>

518
00:22:22,220 --> 00:22:26,450
<font color="#E5E5E5">and</font><font color="#CCCCCC"> then outputting files to JSON</font><font color="#E5E5E5"> CSV</font>

519
00:22:24,830 --> 00:22:30,470
for v5<font color="#E5E5E5"> and you'll see the same thing</font>

520
00:22:26,450 --> 00:22:37,809
<font color="#CCCCCC">going on for V 9</font><font color="#E5E5E5"> + V 10 so if I run my</font>

521
00:22:30,470 --> 00:22:37,809
demo<font color="#CCCCCC"> live here now that it's</font><font color="#E5E5E5"> running</font>

522
00:22:38,340 --> 00:22:42,480
show you<font color="#E5E5E5"> it's going to start</font><font color="#CCCCCC"> outputting</font>

523
00:22:39,750 --> 00:22:45,289
<font color="#CCCCCC">different files</font><font color="#E5E5E5"> of these things and if I</font>

524
00:22:42,480 --> 00:22:45,289
take a look at

525
00:22:49,060 --> 00:22:52,990
oh I do if I do the v10 which is the one

526
00:22:50,920 --> 00:22:54,730
<font color="#CCCCCC">when</font><font color="#E5E5E5"> you had issue</font><font color="#CCCCCC"> I show you</font><font color="#E5E5E5"> the CSV</font>

527
00:22:52,990 --> 00:22:57,760
file<font color="#CCCCCC"> you can see all the informations</font>

528
00:22:54,730 --> 00:23:00,160
there<font color="#E5E5E5"> right</font><font color="#CCCCCC"> I could have also</font><font color="#E5E5E5"> recombined</font>

529
00:22:57,760 --> 00:23:02,410
all of these into<font color="#E5E5E5"> one stream since it's</font>

530
00:23:00,160 --> 00:23:04,390
a<font color="#CCCCCC"> workflow I can just copy</font><font color="#E5E5E5"> it back to</font>

531
00:23:02,410 --> 00:23:07,210
standard label<font color="#E5E5E5"> and they'll all get</font>

532
00:23:04,390 --> 00:23:09,820
combined but I thought there must<font color="#E5E5E5"> have</font>

533
00:23:07,210 --> 00:23:12,610
been a better way<font color="#CCCCCC"> to do this so what</font><font color="#E5E5E5"> we</font>

534
00:23:09,820 --> 00:23:16,480
ended up doing<font color="#E5E5E5"> is moving on to what</font><font color="#CCCCCC"> is</font>

535
00:23:12,610 --> 00:23:18,550
gonna<font color="#E5E5E5"> be</font><font color="#CCCCCC"> in demo 6 if I take a look</font><font color="#E5E5E5"> I</font>

536
00:23:16,480 --> 00:23:22,750
can<font color="#E5E5E5"> already start it</font><font color="#CCCCCC"> again just for time</font>

537
00:23:18,550 --> 00:23:25,810
constraints<font color="#CCCCCC"> and I'll show</font><font color="#E5E5E5"> you what demo</font>

538
00:23:22,750 --> 00:23:27,670
6<font color="#E5E5E5"> looks like so this is</font><font color="#CCCCCC"> the</font>

539
00:23:25,810 --> 00:23:30,550
configuration<font color="#E5E5E5"> you</font><font color="#CCCCCC"> can</font><font color="#E5E5E5"> see it's much</font>

540
00:23:27,670 --> 00:23:32,350
<font color="#E5E5E5">shorter it's much</font><font color="#CCCCCC"> shorter because</font><font color="#E5E5E5"> I'm</font>

541
00:23:30,550 --> 00:23:35,080
using a new plugin<font color="#E5E5E5"> that</font><font color="#CCCCCC"> I called</font><font color="#E5E5E5"> net</font>

542
00:23:32,350 --> 00:23:36,969
<font color="#CCCCCC">fill normalizer</font><font color="#E5E5E5"> it's written in Ruby</font>

543
00:23:35,080 --> 00:23:39,399
it's<font color="#E5E5E5"> a very simple</font><font color="#CCCCCC"> thing so you keep</font>

544
00:23:36,970 --> 00:23:41,080
seeing the lookup CSV<font color="#CCCCCC"> and then I'll</font>

545
00:23:39,400 --> 00:23:44,680
putting all the stuff<font color="#E5E5E5"> to a net flow file</font>

546
00:23:41,080 --> 00:23:47,139
so if I<font color="#CCCCCC"> show you the</font><font color="#E5E5E5"> plug-in a net</font><font color="#CCCCCC"> will</font>

547
00:23:44,680 --> 00:23:48,400
normalizer<font color="#E5E5E5"> there's a couple of methods</font>

548
00:23:47,140 --> 00:23:50,740
<font color="#CCCCCC">but really that's</font><font color="#E5E5E5"> what I'm doing I'm</font>

549
00:23:48,400 --> 00:23:52,390
<font color="#CCCCCC">just</font><font color="#E5E5E5"> doing a bunch of ifs and assigning</font>

550
00:23:50,740 --> 00:23:54,730
<font color="#E5E5E5">this the same</font><font color="#CCCCCC"> variable but instead of</font>

551
00:23:52,390 --> 00:23:56,650
<font color="#E5E5E5">doing it by</font><font color="#CCCCCC"> copying stuff over which</font>

552
00:23:54,730 --> 00:23:58,750
adds overhead and slows everything down

553
00:23:56,650 --> 00:24:01,270
<font color="#CCCCCC">I'm just doing it in memory and code</font>

554
00:23:58,750 --> 00:24:03,940
<font color="#E5E5E5">very quickly very</font><font color="#CCCCCC"> efficiently and</font><font color="#E5E5E5"> I can</font>

555
00:24:01,270 --> 00:24:05,710
tailor that to<font color="#CCCCCC"> whatever needs I need so</font>

556
00:24:03,940 --> 00:24:08,410
this is where I started<font color="#CCCCCC"> writing and you</font>

557
00:24:05,710 --> 00:24:12,220
can<font color="#E5E5E5"> look at the</font><font color="#CCCCCC"> they plug in for</font><font color="#E5E5E5"> the</font>

558
00:24:08,410 --> 00:24:13,390
lookup CSV<font color="#E5E5E5"> you'll see that it's fairly</font>

559
00:24:12,220 --> 00:24:15,040
simple

560
00:24:13,390 --> 00:24:16,870
I'm just looking at there's a lot of

561
00:24:15,040 --> 00:24:18,550
debug code there still that<font color="#E5E5E5"> haven't</font>

562
00:24:16,870 --> 00:24:22,590
cleaned up and you're just<font color="#CCCCCC"> looking up</font>

563
00:24:18,550 --> 00:24:25,120
<font color="#E5E5E5">the value in a</font><font color="#CCCCCC"> table right</font><font color="#E5E5E5"> here and</font>

564
00:24:22,590 --> 00:24:27,970
you're outputting that information<font color="#E5E5E5"> and</font>

565
00:24:25,120 --> 00:24:29,050
to show you that<font color="#E5E5E5"> file it's the protocol</font>

566
00:24:27,970 --> 00:24:31,930
<font color="#CCCCCC">dot</font><font color="#E5E5E5"> CSV</font>

567
00:24:29,050 --> 00:24:34,030
it's just simple CSV<font color="#CCCCCC"> file the number and</font>

568
00:24:31,930 --> 00:24:35,860
<font color="#E5E5E5">the protocol name so you could do you</font>

569
00:24:34,030 --> 00:24:39,100
<font color="#CCCCCC">could do that to pull out any type of</font>

570
00:24:35,860 --> 00:24:41,500
lookups<font color="#CCCCCC"> I did first</font><font color="#E5E5E5"> yet for this but</font>

571
00:24:39,100 --> 00:24:43,649
it's it's based on CSV<font color="#E5E5E5"> so I have this</font>

572
00:24:41,500 --> 00:24:48,840
and<font color="#E5E5E5"> then I'll put</font><font color="#CCCCCC"> the file so if I send</font>

573
00:24:43,650 --> 00:24:48,840
my demo<font color="#E5E5E5"> 6 now that it's running</font>

574
00:24:49,110 --> 00:24:54,678
you'll see I<font color="#E5E5E5"> get the CSV</font><font color="#CCCCCC"> and JSON that I</font>

575
00:24:51,929 --> 00:24:54,679
only get one file

576
00:24:57,520 --> 00:25:00,300
<font color="#E5E5E5">to the CSV one</font>

577
00:25:02,140 --> 00:25:05,530
you'll see you get<font color="#E5E5E5"> five and</font><font color="#CCCCCC"> ten they're</font>

578
00:25:04,240 --> 00:25:07,360
all in the same<font color="#CCCCCC"> one</font><font color="#E5E5E5"> they're in the same</font>

579
00:25:05,530 --> 00:25:10,899
format<font color="#E5E5E5"> because I've normalized that data</font>

580
00:25:07,360 --> 00:25:13,360
so that that starts to get interesting

581
00:25:10,900 --> 00:25:16,630
right now at least<font color="#CCCCCC"> I have a bit less</font>

582
00:25:13,360 --> 00:25:20,260
<font color="#E5E5E5">processing to do but there's always ways</font>

583
00:25:16,630 --> 00:25:24,640
to<font color="#E5E5E5"> improve</font><font color="#CCCCCC"> these things</font><font color="#E5E5E5"> oh let's go to</font>

584
00:25:20,260 --> 00:25:27,879
the demo<font color="#E5E5E5"> seven so on demo seven we're</font>

585
00:25:24,640 --> 00:25:30,480
still building<font color="#E5E5E5"> on top</font><font color="#CCCCCC"> of what</font><font color="#E5E5E5"> we did for</font>

586
00:25:27,880 --> 00:25:30,480
demo<font color="#E5E5E5"> six</font>

587
00:25:32,110 --> 00:25:37,270
we have here we have<font color="#E5E5E5"> a new</font><font color="#CCCCCC"> plugin</font><font color="#E5E5E5"> in</font>

588
00:25:34,179 --> 00:25:39,610
there<font color="#E5E5E5"> which I call match</font><font color="#CCCCCC"> ACL so one of</font>

589
00:25:37,270 --> 00:25:40,809
the use case I<font color="#E5E5E5"> needed to says once we've</font>

590
00:25:39,610 --> 00:25:42,669
identified where everything<font color="#E5E5E5"> was</font>

591
00:25:40,809 --> 00:25:45,010
connected<font color="#E5E5E5"> weary IP the network move</font>

592
00:25:42,670 --> 00:25:47,590
stuff<font color="#E5E5E5"> in what's called the CD</font><font color="#CCCCCC"> and</font><font color="#E5E5E5"> key CI</font>

593
00:25:45,010 --> 00:25:49,720
terms and<font color="#E5E5E5"> PCI network zone we needed to</font>

594
00:25:47,590 --> 00:25:51,939
<font color="#E5E5E5">write firewall rules for those the</font>

595
00:25:49,720 --> 00:25:53,860
<font color="#CCCCCC">problem is</font><font color="#E5E5E5"> you're running a live network</font>

596
00:25:51,940 --> 00:25:55,720
<font color="#E5E5E5">it's hard to put rule it's easy to put</font>

597
00:25:53,860 --> 00:25:59,620
role since it's hard<font color="#E5E5E5"> to pull</font><font color="#CCCCCC"> roles out</font>

598
00:25:55,720 --> 00:26:02,350
to do that<font color="#E5E5E5"> good as I've never adverse</font>

599
00:25:59,620 --> 00:26:04,570
<font color="#E5E5E5">affect on a network so what we ended up</font>

600
00:26:02,350 --> 00:26:09,360
doing<font color="#E5E5E5"> is writing a new plugin</font><font color="#CCCCCC"> what that</font>

601
00:26:04,570 --> 00:26:12,610
<font color="#E5E5E5">plug-in does is using another CSV format</font>

602
00:26:09,360 --> 00:26:13,979
if you see source range or IP address<font color="#CCCCCC"> I</font>

603
00:26:12,610 --> 00:26:17,020
<font color="#E5E5E5">can do ranges as well</font>

604
00:26:13,980 --> 00:26:20,830
protocol<font color="#CCCCCC"> ports and I can assign either a</font>

605
00:26:17,020 --> 00:26:22,960
number or a<font color="#CCCCCC"> name to it it'll match that</font>

606
00:26:20,830 --> 00:26:25,570
traffic<font color="#E5E5E5"> and assign</font><font color="#CCCCCC"> that last value to it</font>

607
00:26:22,960 --> 00:26:28,559
so it also supports ICMP<font color="#CCCCCC"> support set a</font>

608
00:26:25,570 --> 00:26:32,280
bunch of<font color="#E5E5E5"> other little</font><font color="#CCCCCC"> things in there</font><font color="#E5E5E5"> I</font>

609
00:26:28,559 --> 00:26:32,280
think I need to<font color="#E5E5E5"> restart</font>

610
00:26:37,419 --> 00:26:43,570
so this the beauty of this bra this tool

611
00:26:41,139 --> 00:26:45,908
is<font color="#E5E5E5"> I'll show</font><font color="#CCCCCC"> you in a while it matches</font>

612
00:26:43,570 --> 00:26:49,119
things and<font color="#E5E5E5"> then I just I just add</font>

613
00:26:45,909 --> 00:26:51,129
another fire another field to the<font color="#E5E5E5"> CSV</font>

614
00:26:49,119 --> 00:26:52,599
file which is the matching<font color="#CCCCCC"> information</font>

615
00:26:51,129 --> 00:26:55,389
if I don't find<font color="#E5E5E5"> anything I put no match</font>

616
00:26:52,599 --> 00:26:57,009
<font color="#E5E5E5">so by just doing a grep no match</font><font color="#CCCCCC"> I can</font>

617
00:26:55,389 --> 00:27:00,218
identify the traffic that's not being

618
00:26:57,009 --> 00:27:03,530
matched very very easily<font color="#CCCCCC"> so if I do this</font>

619
00:27:00,219 --> 00:27:05,890
again<font color="#CCCCCC"> for</font><font color="#E5E5E5"> their mo</font><font color="#CCCCCC"> 7</font>

620
00:27:03,530 --> 00:27:10,870
you see it's starting<font color="#CCCCCC"> to</font><font color="#E5E5E5"> get this stuff</font>

621
00:27:05,890 --> 00:27:10,870
if I do what's in there

622
00:27:11,080 --> 00:27:14,559
you'll see there's no match<font color="#E5E5E5"> stuff</font>

623
00:27:13,149 --> 00:27:16,689
traffic in there<font color="#E5E5E5"> because these</font><font color="#CCCCCC"> don't</font>

624
00:27:14,559 --> 00:27:19,360
match<font color="#CCCCCC"> but there's some here that match</font>

625
00:27:16,690 --> 00:27:21,399
the<font color="#E5E5E5"> host</font><font color="#CCCCCC"> man</font><font color="#E5E5E5"> of the rules I've set</font><font color="#CCCCCC"> up I</font>

626
00:27:19,360 --> 00:27:23,080
hadn't way more and<font color="#E5E5E5"> back in the day the</font>

627
00:27:21,399 --> 00:27:24,399
beauty of these things is you<font color="#E5E5E5"> run this</font>

628
00:27:23,080 --> 00:27:26,230
and you start<font color="#E5E5E5"> adding new rules to your</font>

629
00:27:24,399 --> 00:27:28,658
firewall sets you identify these<font color="#E5E5E5"> and</font>

630
00:27:26,230 --> 00:27:30,250
when you have very<font color="#CCCCCC"> little</font><font color="#E5E5E5"> no match stuff</font>

631
00:27:28,659 --> 00:27:34,149
you know<font color="#E5E5E5"> you should be pretty</font><font color="#CCCCCC"> good to go</font>

632
00:27:30,250 --> 00:27:36,490
<font color="#E5E5E5">this allowed us to remove the permit any</font>

633
00:27:34,149 --> 00:27:38,709
any rule in the firewall<font color="#E5E5E5"> live we did</font>

634
00:27:36,490 --> 00:27:40,720
around<font color="#CCCCCC"> 10:00 11:00</font><font color="#E5E5E5"> a.m. on the</font><font color="#CCCCCC"> Tuesday</font>

635
00:27:38,710 --> 00:27:43,090
morning<font color="#CCCCCC"> and the business didn't realize</font>

636
00:27:40,720 --> 00:27:47,019
it mmm the only<font color="#E5E5E5"> thing that broke was a</font>

637
00:27:43,090 --> 00:27:48,549
<font color="#E5E5E5">VMware</font><font color="#CCCCCC"> back up process</font><font color="#E5E5E5"> that's it so just</font>

638
00:27:47,019 --> 00:27:51,279
<font color="#E5E5E5">that when you're in a challenging</font>

639
00:27:48,549 --> 00:27:53,139
environment<font color="#E5E5E5"> with everybody's task is it</font>

640
00:27:51,279 --> 00:27:55,320
was a pretty<font color="#E5E5E5"> pretty awesome thing</font><font color="#CCCCCC"> to get</font>

641
00:27:53,139 --> 00:27:55,320
done

642
00:27:55,370 --> 00:27:59,149
but I still figured out that there's

643
00:27:57,710 --> 00:28:00,920
ways to<font color="#E5E5E5"> improve these so this is great</font>

644
00:27:59,150 --> 00:28:02,480
<font color="#E5E5E5">for dividing the</font><font color="#CCCCCC"> ecl for matching this</font>

645
00:28:00,920 --> 00:28:04,970
this<font color="#E5E5E5"> could be used as a basis of a</font>

646
00:28:02,480 --> 00:28:06,700
network IDs<font color="#E5E5E5"> right because ultimately was</font>

647
00:28:04,970 --> 00:28:09,500
is a night work<font color="#E5E5E5"> IDs it's matching</font>

648
00:28:06,700 --> 00:28:11,390
<font color="#E5E5E5">expected track traffic versus your</font>

649
00:28:09,500 --> 00:28:13,130
expectation of what traffic is so you

650
00:28:11,390 --> 00:28:14,660
could<font color="#E5E5E5"> do that and put all that unmatched</font>

651
00:28:13,130 --> 00:28:17,240
<font color="#E5E5E5">traffic if you didn't want to put a</font>

652
00:28:14,660 --> 00:28:20,270
<font color="#E5E5E5">firewall</font><font color="#CCCCCC"> role in there and get on the</font>

653
00:28:17,240 --> 00:28:23,390
fire alerts<font color="#E5E5E5"> connecting it to</font><font color="#CCCCCC"> nachos or</font>

654
00:28:20,270 --> 00:28:25,790
<font color="#CCCCCC">whatever alerting system you</font><font color="#E5E5E5"> want so</font>

655
00:28:23,390 --> 00:28:27,530
this<font color="#E5E5E5"> is cool but I still have the</font>

656
00:28:25,790 --> 00:28:29,090
information<font color="#E5E5E5"> in CSV file which is</font>

657
00:28:27,530 --> 00:28:30,920
<font color="#E5E5E5">commerce</font><font color="#CCCCCC"> and I have to</font><font color="#E5E5E5"> transfer if I'm</font>

658
00:28:29,090 --> 00:28:33,709
<font color="#E5E5E5">sending it to somebody that's non Excel</font>

659
00:28:30,920 --> 00:28:35,929
savvy<font color="#E5E5E5"> that's not the best way to go</font>

660
00:28:33,710 --> 00:28:37,580
<font color="#E5E5E5">right</font><font color="#CCCCCC"> so what did I do</font>

661
00:28:35,929 --> 00:28:41,780
well there's got to be more ways<font color="#CCCCCC"> to do</font>

662
00:28:37,580 --> 00:28:43,399
<font color="#E5E5E5">this right well by looking</font><font color="#CCCCCC"> at some of</font>

663
00:28:41,780 --> 00:28:46,100
<font color="#E5E5E5">the plugins</font><font color="#CCCCCC"> that are already</font><font color="#E5E5E5"> available</font>

664
00:28:43,400 --> 00:28:49,750
<font color="#CCCCCC">so in demo 8</font><font color="#E5E5E5"> I'm not using the ACL</font>

665
00:28:46,100 --> 00:28:49,750
portion<font color="#E5E5E5"> but I'm using everything else</font>

666
00:28:52,980 --> 00:28:58,289
I am actually<font color="#E5E5E5"> using the</font><font color="#CCCCCC"> ACLS tile</font>

667
00:28:54,960 --> 00:29:04,200
portion<font color="#E5E5E5"> but I'm outputting</font><font color="#CCCCCC"> not</font><font color="#E5E5E5"> only to</font>

668
00:28:58,289 --> 00:29:06,090
net<font color="#E5E5E5"> JSON and CSV but to</font><font color="#CCCCCC"> MySQL oh I have</font>

669
00:29:04,200 --> 00:29:07,850
my sequel database running<font color="#E5E5E5"> on this</font>

670
00:29:06,090 --> 00:29:09,959
server but<font color="#CCCCCC"> it could be anywhere</font><font color="#E5E5E5"> else</font><font color="#CCCCCC"> and</font>

671
00:29:07,850 --> 00:29:12,510
if you take a<font color="#E5E5E5"> look at the code and</font>

672
00:29:09,960 --> 00:29:13,649
basically<font color="#CCCCCC"> using a prepared statement so</font>

673
00:29:12,510 --> 00:29:14,908
<font color="#E5E5E5">you're my insert with the different</font>

674
00:29:13,649 --> 00:29:18,029
parameters<font color="#CCCCCC"> that</font><font color="#E5E5E5"> I want and I'm just</font>

675
00:29:14,909 --> 00:29:21,570
outputting this to a file<font color="#E5E5E5"> so if I do I'm</font>

676
00:29:18,029 --> 00:29:26,990
<font color="#E5E5E5">gonna have to go get the commands in</font><font color="#CCCCCC"> the</font>

677
00:29:21,570 --> 00:29:26,990
password<font color="#E5E5E5"> it's a very complex password</font>

678
00:29:27,810 --> 00:29:33,110
<font color="#CCCCCC">I use the demo 8 database you show</font>

679
00:29:30,660 --> 00:29:33,110
tables

680
00:29:34,730 --> 00:29:37,750
they will<font color="#E5E5E5"> come in that flow</font>

681
00:29:40,540 --> 00:29:43,530
<font color="#CCCCCC">i stuff in there so lemme just</font>

682
00:29:46,700 --> 00:29:52,570
there's nothing more now<font color="#E5E5E5"> I've got to</font>

683
00:29:50,210 --> 00:29:52,570
<font color="#E5E5E5">make</font><font color="#CCCCCC"> sure</font>

684
00:29:56,260 --> 00:30:00,900
<font color="#E5E5E5">it actually I could just just</font>

685
00:30:02,550 --> 00:30:06,560
with you know I don't<font color="#E5E5E5"> think every</font>

686
00:30:04,230 --> 00:30:06,560
started

687
00:30:11,490 --> 00:30:13,550
you

688
00:30:18,800 --> 00:30:23,450
I'm gonna use the<font color="#CCCCCC"> same traffic</font><font color="#E5E5E5"> but what</font>

689
00:30:21,290 --> 00:30:25,520
you're gonna see that I'm<font color="#E5E5E5"> sending this</font>

690
00:30:23,450 --> 00:30:27,650
stuff I do a<font color="#E5E5E5"> tail you're gonna see stuff</font>

691
00:30:25,520 --> 00:30:30,830
<font color="#CCCCCC">coming in but if</font><font color="#E5E5E5"> you look at this and I</font>

692
00:30:27,650 --> 00:30:32,300
do a select there's nothing<font color="#E5E5E5"> oh no it's</font>

693
00:30:30,830 --> 00:30:34,310
that<font color="#CCCCCC"> thing stuff is starting</font><font color="#E5E5E5"> to come in</font>

694
00:30:32,300 --> 00:30:36,940
<font color="#E5E5E5">so I just do a count and</font><font color="#CCCCCC"> set just</font><font color="#E5E5E5"> to</font>

695
00:30:34,310 --> 00:30:36,940
give you the<font color="#E5E5E5"> number</font>

696
00:30:37,350 --> 00:30:43,560
on there it's like<font color="#E5E5E5"> crow the window here</font>

697
00:30:41,190 --> 00:30:46,850
you'll see<font color="#E5E5E5"> better</font><font color="#CCCCCC"> so I've got all</font><font color="#E5E5E5"> the</font>

698
00:30:43,560 --> 00:30:46,850
<font color="#CCCCCC">information</font><font color="#E5E5E5"> so</font><font color="#CCCCCC"> if I do</font>

699
00:30:49,750 --> 00:30:56,350
so now we have<font color="#CCCCCC"> you have information in a</font>

700
00:30:53,200 --> 00:30:58,090
<font color="#CCCCCC">database</font><font color="#E5E5E5"> which means</font><font color="#CCCCCC"> that you can form</font>

701
00:30:56,350 --> 00:30:59,649
that<font color="#E5E5E5"> out to somebody that</font><font color="#CCCCCC"> knows SQL and</font>

702
00:30:58,090 --> 00:31:01,750
get some of<font color="#CCCCCC"> that value</font><font color="#E5E5E5"> and</font><font color="#CCCCCC"> I have</font>

703
00:30:59,649 --> 00:31:03,758
<font color="#CCCCCC">information so that that's</font><font color="#E5E5E5"> pretty good</font>

704
00:31:01,750 --> 00:31:06,639
already<font color="#CCCCCC"> because right</font><font color="#E5E5E5"> now it's easier to</font>

705
00:31:03,759 --> 00:31:08,350
get<font color="#E5E5E5"> the</font><font color="#CCCCCC"> information</font><font color="#E5E5E5"> but I I was tired I</font>

706
00:31:06,639 --> 00:31:11,080
mean one<font color="#CCCCCC"> of the</font><font color="#E5E5E5"> issues we run into</font><font color="#CCCCCC"> with</font>

707
00:31:08,350 --> 00:31:12,490
networks is oh we were migrating so

708
00:31:11,080 --> 00:31:13,990
they're putting<font color="#E5E5E5"> in new servers in there</font>

709
00:31:12,490 --> 00:31:15,960
<font color="#E5E5E5">how do I know that there's a new server</font>

710
00:31:13,990 --> 00:31:18,700
there's a new IP address<font color="#E5E5E5"> coming out</font>

711
00:31:15,960 --> 00:31:21,039
there's multiple ways<font color="#E5E5E5"> to do</font><font color="#CCCCCC"> it</font><font color="#E5E5E5"> one way</font>

712
00:31:18,700 --> 00:31:23,190
to do it<font color="#CCCCCC"> that has its pros and cons</font>

713
00:31:21,039 --> 00:31:25,929
sometimes works<font color="#CCCCCC"> sometimes does not</font><font color="#E5E5E5"> is</font>

714
00:31:23,190 --> 00:31:27,190
doing<font color="#CCCCCC"> pinks weeps so I could do</font><font color="#E5E5E5"> ping</font>

715
00:31:25,929 --> 00:31:29,379
sweeps and<font color="#E5E5E5"> try to get that information</font>

716
00:31:27,190 --> 00:31:30,940
in there the<font color="#E5E5E5"> other way is</font><font color="#CCCCCC"> through</font><font color="#E5E5E5"> net</font>

717
00:31:29,379 --> 00:31:33,309
flow itself net flow will report to<font color="#E5E5E5"> me</font>

718
00:31:30,940 --> 00:31:34,750
all the IP<font color="#E5E5E5"> addresses it seems</font><font color="#CCCCCC"> through</font>

719
00:31:33,309 --> 00:31:36,879
<font color="#E5E5E5">the network so if I keep a</font><font color="#CCCCCC"> database of</font>

720
00:31:34,750 --> 00:31:41,169
<font color="#E5E5E5">that I can do something</font><font color="#CCCCCC"> like</font><font color="#E5E5E5"> that</font>

721
00:31:36,879 --> 00:31:43,350
so not name<font color="#E5E5E5"> name oh nine for historical</font>

722
00:31:41,169 --> 00:31:43,350
reasons

723
00:31:44,240 --> 00:31:48,140
you can see there's a bunch of tables

724
00:31:45,710 --> 00:31:50,420
<font color="#CCCCCC">that I've created here I'll just go run</font>

725
00:31:48,140 --> 00:31:53,150
through them<font color="#E5E5E5"> you have daily and regular</font>

726
00:31:50,420 --> 00:31:56,030
<font color="#E5E5E5">so I'm adding all the information to</font>

727
00:31:53,150 --> 00:31:59,270
both a daily that<font color="#CCCCCC"> has just</font><font color="#E5E5E5"> as the date</font>

728
00:31:56,030 --> 00:32:02,629
as another field so<font color="#E5E5E5"> you have all the</font>

729
00:31:59,270 --> 00:32:04,100
flows<font color="#E5E5E5"> that are regular and identified</font>

730
00:32:02,630 --> 00:32:06,010
because<font color="#CCCCCC"> I know it's a service</font><font color="#E5E5E5"> running on</font>

731
00:32:04,100 --> 00:32:08,480
<font color="#E5E5E5">the certain port that I've identified I</font>

732
00:32:06,010 --> 00:32:10,460
have the ipv4<font color="#E5E5E5"> so all the IP addresses</font>

733
00:32:08,480 --> 00:32:12,320
<font color="#CCCCCC">that I find</font><font color="#E5E5E5"> that I add to</font><font color="#CCCCCC"> that</font><font color="#E5E5E5"> catalog</font>

734
00:32:10,460 --> 00:32:16,070
<font color="#E5E5E5">so if there's a new</font><font color="#CCCCCC"> IP address it'll get</font>

735
00:32:12,320 --> 00:32:17,960
actually<font color="#E5E5E5"> ports can I have other daily</font>

736
00:32:16,070 --> 00:32:20,480
flows it's with other in other flows

737
00:32:17,960 --> 00:32:23,480
which is<font color="#CCCCCC"> DC PDV</font><font color="#E5E5E5"> information for which I</font>

738
00:32:20,480 --> 00:32:25,190
don't<font color="#E5E5E5"> have a service port running now</font>

739
00:32:23,480 --> 00:32:26,840
this could be<font color="#CCCCCC"> multiple things active</font>

740
00:32:25,190 --> 00:32:29,330
<font color="#E5E5E5">directory for</font><font color="#CCCCCC"> example uses dynamic</font>

741
00:32:26,840 --> 00:32:31,010
<font color="#E5E5E5">allocation reports so if you scan you're</font>

742
00:32:29,330 --> 00:32:33,169
not<font color="#CCCCCC"> gonna</font><font color="#E5E5E5"> see anything so that's all</font>

743
00:32:31,010 --> 00:32:35,240
gonna go<font color="#CCCCCC"> in there</font><font color="#E5E5E5"> but that also means</font>

744
00:32:33,170 --> 00:32:36,800
that<font color="#E5E5E5"> that is potentially something</font><font color="#CCCCCC"> that</font>

745
00:32:35,240 --> 00:32:40,070
may<font color="#E5E5E5"> be used nefariously that you want to</font>

746
00:32:36,800 --> 00:32:44,330
look at<font color="#E5E5E5"> I have a service which is where</font>

747
00:32:40,070 --> 00:32:47,330
I add a<font color="#E5E5E5"> TCP UDP information and then the</font>

748
00:32:44,330 --> 00:32:50,928
<font color="#CCCCCC">unknown I have the sorry</font><font color="#E5E5E5"> the other flow</font>

749
00:32:47,330 --> 00:32:53,809
is stuff that's<font color="#E5E5E5"> not</font><font color="#CCCCCC"> TCP</font><font color="#E5E5E5"> UDP that's the</font>

750
00:32:50,929 --> 00:32:55,220
ICMP<font color="#CCCCCC"> BGP all that stuff</font><font color="#E5E5E5"> that</font><font color="#CCCCCC"> I've</font><font color="#E5E5E5"> thrown</font>

751
00:32:53,809 --> 00:32:56,928
in there because<font color="#E5E5E5"> there's no real port</font>

752
00:32:55,220 --> 00:32:59,660
<font color="#CCCCCC">information there and then I</font><font color="#E5E5E5"> have</font>

753
00:32:56,929 --> 00:33:01,330
unknown daily flow unknown<font color="#E5E5E5"> a leaf low is</font>

754
00:32:59,660 --> 00:33:05,030
<font color="#E5E5E5">that TCP UDP I was telling you</font><font color="#CCCCCC"> about</font>

755
00:33:01,330 --> 00:33:06,830
<font color="#E5E5E5">that I have not been</font><font color="#CCCCCC"> able to map</font><font color="#E5E5E5"> sadly</font>

756
00:33:05,030 --> 00:33:08,690
for demo<font color="#CCCCCC"> 9</font><font color="#E5E5E5"> I'll show you all the code</font>

757
00:33:06,830 --> 00:33:10,059
but I can't show you a running demo

758
00:33:08,690 --> 00:33:12,380
because<font color="#CCCCCC"> I would</font><font color="#E5E5E5"> require a live network</font>

759
00:33:10,059 --> 00:33:14,809
but the code will<font color="#CCCCCC"> be out there</font><font color="#E5E5E5"> and</font>

760
00:33:12,380 --> 00:33:18,410
that's<font color="#E5E5E5"> that the code works so the way it</font>

761
00:33:14,809 --> 00:33:21,350
<font color="#E5E5E5">works is I'm parsing this I'm writing to</font>

762
00:33:18,410 --> 00:33:24,050
a file<font color="#E5E5E5"> if I find something and it's</font>

763
00:33:21,350 --> 00:33:26,449
there's a cron job for example<font color="#CCCCCC"> that runs</font>

764
00:33:24,050 --> 00:33:27,620
every<font color="#CCCCCC"> 5</font><font color="#E5E5E5"> minutes that</font><font color="#CCCCCC"> does port scans</font><font color="#E5E5E5"> so</font>

765
00:33:26,450 --> 00:33:30,650
if I see<font color="#E5E5E5"> new</font><font color="#CCCCCC"> hosts it's</font><font color="#E5E5E5"> gonna get</font>

766
00:33:27,620 --> 00:33:32,840
scanned within a<font color="#E5E5E5"> few minutes</font><font color="#CCCCCC"> and I put</font>

767
00:33:30,650 --> 00:33:34,910
<font color="#E5E5E5">that and I managed that all through her</font>

768
00:33:32,840 --> 00:33:37,520
either cron jobs and the cron jobs

769
00:33:34,910 --> 00:33:41,559
<font color="#E5E5E5">output and parse the</font><font color="#CCCCCC"> end map information</font>

770
00:33:37,520 --> 00:33:41,559
that chicken I should show<font color="#E5E5E5"> you</font>

771
00:33:45,860 --> 00:33:48,309
portion

772
00:33:49,840 --> 00:33:54,879
jobs<font color="#E5E5E5"> so I run a</font><font color="#CCCCCC"> pink sweep on</font>

773
00:33:52,120 --> 00:33:57,428
periodically so sources will just give

774
00:33:54,880 --> 00:33:58,990
<font color="#CCCCCC">you an</font><font color="#E5E5E5"> idea of I'm setting up</font><font color="#CCCCCC"> /</font>

775
00:33:57,429 --> 00:34:01,090
<font color="#E5E5E5">something networks</font><font color="#CCCCCC"> that I'm port</font>

776
00:33:58,990 --> 00:34:03,880
scanning and assigning<font color="#E5E5E5"> it a name to it</font>

777
00:34:01,090 --> 00:34:07,240
just<font color="#E5E5E5"> for management purposes but if I do</font>

778
00:34:03,880 --> 00:34:09,070
this sweep<font color="#E5E5E5"> yep it's very much just</font>

779
00:34:07,240 --> 00:34:12,849
<font color="#E5E5E5">calling</font><font color="#CCCCCC"> and map</font><font color="#E5E5E5"> out putting everything</font>

780
00:34:09,070 --> 00:34:15,700
<font color="#E5E5E5">and and just doing a cath of</font><font color="#CCCCCC"> GGN</font><font color="#E5E5E5"> map</font>

781
00:34:12,849 --> 00:34:17,889
files to a file that<font color="#CCCCCC"> I will be</font><font color="#E5E5E5"> reading</font>

782
00:34:15,699 --> 00:34:20,230
again from flu<font color="#E5E5E5"> and these saying okay</font>

783
00:34:17,889 --> 00:34:23,919
these are the<font color="#E5E5E5"> PHP addresses I found</font>

784
00:34:20,230 --> 00:34:24,310
adding those to<font color="#E5E5E5"> MySQL s if it doesn't</font>

785
00:34:23,918 --> 00:34:27,158
<font color="#E5E5E5">exist</font>

786
00:34:24,310 --> 00:34:29,500
<font color="#CCCCCC">if I don't have it in</font><font color="#E5E5E5"> the</font><font color="#CCCCCC"> list</font><font color="#E5E5E5"> I'll put</font>

787
00:34:27,159 --> 00:34:31,060
it<font color="#E5E5E5"> back to a file in Longmont again</font>

788
00:34:29,500 --> 00:34:35,820
that's going<font color="#E5E5E5"> to be used</font><font color="#CCCCCC"> by the port</font>

789
00:34:31,060 --> 00:34:35,820
scanner if I show you the port scanner

790
00:34:36,000 --> 00:34:44,040
there's a the end micron<font color="#CCCCCC"> Q which is</font><font color="#E5E5E5"> just</font>

791
00:34:40,290 --> 00:34:46,969
the script running the cron<font color="#CCCCCC"> and</font><font color="#E5E5E5"> then</font>

792
00:34:44,040 --> 00:34:49,149
there's a map script

793
00:34:46,969 --> 00:34:53,480
this is<font color="#E5E5E5"> running the queue</font><font color="#CCCCCC"> it's reading</font>

794
00:34:49,149 --> 00:34:54,799
from log<font color="#E5E5E5"> Mon QN map star just</font><font color="#CCCCCC"> reading</font>

795
00:34:53,480 --> 00:34:58,460
<font color="#CCCCCC">your file once it's done it's gonna be</font>

796
00:34:54,800 --> 00:35:00,590
remove it and I'm calling<font color="#CCCCCC"> XSLT</font><font color="#E5E5E5"> proc to</font>

797
00:34:58,460 --> 00:35:02,480
transform<font color="#E5E5E5"> that information from the XML</font>

798
00:35:00,590 --> 00:35:06,820
format into a CSV format<font color="#E5E5E5"> that I can</font>

799
00:35:02,480 --> 00:35:06,820
figure back straight into the system

800
00:35:07,330 --> 00:35:17,940
my life<font color="#E5E5E5"> for that one I believe</font><font color="#CCCCCC"> that's</font>

801
00:35:11,350 --> 00:35:17,940
about<font color="#E5E5E5"> it I can switch back</font><font color="#CCCCCC"> to PowerPoint</font>

802
00:35:23,190 --> 00:35:25,910
<font color="#E5E5E5">you</font>

803
00:35:23,510 --> 00:35:28,480
[Music]

804
00:35:25,910 --> 00:35:28,480
what we<font color="#E5E5E5"> have</font>

805
00:35:30,270 --> 00:35:36,090
<font color="#E5E5E5">right this is what I've described this</font>

806
00:35:32,310 --> 00:35:38,190
<font color="#E5E5E5">and everything's still</font><font color="#CCCCCC"> in</font><font color="#E5E5E5"> MySQL so now</font>

807
00:35:36,090 --> 00:35:39,570
I'm not<font color="#CCCCCC"> only are you doing</font><font color="#E5E5E5"> this you</font>

808
00:35:38,190 --> 00:35:42,090
could take it further<font color="#CCCCCC"> because then you</font>

809
00:35:39,570 --> 00:35:44,010
can do proper<font color="#E5E5E5"> analysis</font><font color="#CCCCCC"> it's it easier to</font>

810
00:35:42,090 --> 00:35:46,050
tag this to<font color="#E5E5E5"> another other system and</font>

811
00:35:44,010 --> 00:35:47,610
connect that<font color="#CCCCCC"> and while</font><font color="#E5E5E5"> I've output it to</font>

812
00:35:46,050 --> 00:35:49,890
MySQL there's nothing that says<font color="#CCCCCC"> that you</font>

813
00:35:47,610 --> 00:35:51,690
can't connect<font color="#E5E5E5"> if the company you work</font>

814
00:35:49,890 --> 00:35:54,569
for or their client doesn't<font color="#E5E5E5"> want to use</font>

815
00:35:51,690 --> 00:35:56,400
<font color="#CCCCCC">MySQL you want to use</font><font color="#E5E5E5"> a SQL Server</font><font color="#CCCCCC"> if</font>

816
00:35:54,570 --> 00:35:56,970
you can get it<font color="#E5E5E5"> a plug-in that works you</font>

817
00:35:56,400 --> 00:35:58,980
can help<font color="#E5E5E5"> with</font><font color="#CCCCCC"> that</font>

818
00:35:56,970 --> 00:36:01,529
<font color="#CCCCCC">or if it doesn't</font><font color="#E5E5E5"> work</font><font color="#CCCCCC"> you can write your</font>

819
00:35:58,980 --> 00:36:03,420
own<font color="#E5E5E5"> not that hard if you've got some</font>

820
00:36:01,530 --> 00:36:05,310
basic<font color="#E5E5E5"> experience programming I don't</font>

821
00:36:03,420 --> 00:36:08,580
even know Ruby really<font color="#E5E5E5"> but I've managed</font>

822
00:36:05,310 --> 00:36:11,720
<font color="#CCCCCC">to figure</font><font color="#E5E5E5"> it out enough because I have a</font>

823
00:36:08,580 --> 00:36:11,720
<font color="#E5E5E5">development background</font>

824
00:36:11,870 --> 00:36:17,540
don't<font color="#E5E5E5"> some little issues I ran into so</font>

825
00:36:15,680 --> 00:36:20,359
net flow is UDP<font color="#E5E5E5"> so that means there's</font>

826
00:36:17,540 --> 00:36:21,860
packet loss<font color="#CCCCCC"> I was as I was</font><font color="#E5E5E5"> testing some</font>

827
00:36:20,360 --> 00:36:23,630
of demos over<font color="#E5E5E5"> the weekend I was</font>

828
00:36:21,860 --> 00:36:25,010
experiencing some worried issue because

829
00:36:23,630 --> 00:36:27,410
get guess what I'm on the wireless

830
00:36:25,010 --> 00:36:29,480
network<font color="#CCCCCC"> and no crack hasn't come and and</font>

831
00:36:27,410 --> 00:36:32,210
come out just yet<font color="#CCCCCC"> so at least</font><font color="#E5E5E5"> it wasn't</font>

832
00:36:29,480 --> 00:36:34,220
<font color="#E5E5E5">known it was just back at loss</font><font color="#CCCCCC"> so you</font>

833
00:36:32,210 --> 00:36:35,840
can<font color="#CCCCCC"> Google a lot</font><font color="#E5E5E5"> of information so the</font>

834
00:36:34,220 --> 00:36:37,250
best thing is<font color="#CCCCCC"> to have your collectors at</font>

835
00:36:35,840 --> 00:36:40,400
least<font color="#E5E5E5"> from a network</font><font color="#CCCCCC"> perspective as</font>

836
00:36:37,250 --> 00:36:44,810
close as possible<font color="#E5E5E5"> to your data sources</font>

837
00:36:40,400 --> 00:36:46,880
which because of<font color="#E5E5E5"> the way in</font><font color="#CCCCCC"> fluently is</font>

838
00:36:44,810 --> 00:36:48,590
built<font color="#E5E5E5"> you can parse that locally and</font>

839
00:36:46,880 --> 00:36:51,100
then try to collect that<font color="#CCCCCC"> centralized</font>

840
00:36:48,590 --> 00:36:53,810
<font color="#E5E5E5">that there are other types of plugins</font>

841
00:36:51,100 --> 00:36:54,830
<font color="#CCCCCC">what else we have</font><font color="#E5E5E5"> you have multiple</font>

842
00:36:53,810 --> 00:36:56,779
devices<font color="#E5E5E5"> that provide different</font>

843
00:36:54,830 --> 00:36:59,090
<font color="#E5E5E5">information so one of the things I was</font>

844
00:36:56,780 --> 00:37:02,420
<font color="#E5E5E5">able to do that helped out some of the</font>

845
00:36:59,090 --> 00:37:04,820
networking folks<font color="#E5E5E5"> is in v9 information</font>

846
00:37:02,420 --> 00:37:07,360
coming from<font color="#CCCCCC"> the</font><font color="#E5E5E5"> cisco ASA's it would</font>

847
00:37:04,820 --> 00:37:11,660
actually<font color="#E5E5E5"> tell you when a rule was hit</font>

848
00:37:07,360 --> 00:37:13,130
<font color="#E5E5E5">which what what</font><font color="#CCCCCC"> ACL was</font><font color="#E5E5E5"> hit by giving</font>

849
00:37:11,660 --> 00:37:15,470
you a hash so if you have the

850
00:37:13,130 --> 00:37:17,570
information<font color="#E5E5E5"> and you're looking for for</font>

851
00:37:15,470 --> 00:37:19,430
example<font color="#E5E5E5"> to permit any any rule and you</font>

852
00:37:17,570 --> 00:37:21,470
have the hash there you can map straight

853
00:37:19,430 --> 00:37:23,779
to the hash directly and<font color="#E5E5E5"> I'll put</font><font color="#CCCCCC"> that</font>

854
00:37:21,470 --> 00:37:26,270
to other formats<font color="#E5E5E5"> that's very possible</font>

855
00:37:23,780 --> 00:37:27,800
but there's more information in<font color="#CCCCCC"> there</font>

856
00:37:26,270 --> 00:37:30,890
<font color="#CCCCCC">flow than what I've discussed here</font><font color="#E5E5E5"> I've</font>

857
00:37:27,800 --> 00:37:33,500
<font color="#CCCCCC">basically used</font><font color="#E5E5E5"> five fields source IP</font>

858
00:37:30,890 --> 00:37:35,540
<font color="#CCCCCC">destination IP protocol source port</font>

859
00:37:33,500 --> 00:37:37,310
destination<font color="#E5E5E5"> port but there's way more</font>

860
00:37:35,540 --> 00:37:40,279
information<font color="#CCCCCC"> especially</font><font color="#E5E5E5"> if you step out</font>

861
00:37:37,310 --> 00:37:43,990
outside of<font color="#CCCCCC"> d5 once you get to</font><font color="#E5E5E5"> v9 v10 it</font>

862
00:37:40,280 --> 00:37:46,910
can be extremely extremely helpful<font color="#CCCCCC"> and</font>

863
00:37:43,990 --> 00:37:48,500
obviously all<font color="#CCCCCC"> of that information</font><font color="#E5E5E5"> they</font>

864
00:37:46,910 --> 00:37:50,600
provide<font color="#CCCCCC"> different templates so I would</font>

865
00:37:48,500 --> 00:37:52,490
look into that but<font color="#E5E5E5"> you can do there's</font>

866
00:37:50,600 --> 00:37:54,380
also the<font color="#E5E5E5"> fact that multiple devices on</font>

867
00:37:52,490 --> 00:37:56,720
<font color="#E5E5E5">the network if they're all reporting</font><font color="#CCCCCC"> for</font>

868
00:37:54,380 --> 00:37:59,390
example I had<font color="#E5E5E5"> VMware</font><font color="#CCCCCC"> and the a</font><font color="#E5E5E5"> sa and</font>

869
00:37:56,720 --> 00:38:01,100
some<font color="#E5E5E5"> risco some of the the routers and</font>

870
00:37:59,390 --> 00:38:04,009
<font color="#CCCCCC">switches I could get multiple traffic</font>

871
00:38:01,100 --> 00:38:05,299
information<font color="#E5E5E5"> that doesn't</font><font color="#CCCCCC"> mean there's</font><font color="#E5E5E5"> 10</font>

872
00:38:04,010 --> 00:38:06,710
times the<font color="#CCCCCC"> traffic or three times our</font>

873
00:38:05,300 --> 00:38:09,770
traffic<font color="#E5E5E5"> it just means that I'm getting</font>

874
00:38:06,710 --> 00:38:12,020
reported more than<font color="#E5E5E5"> once so</font><font color="#CCCCCC"> you can't use</font>

875
00:38:09,770 --> 00:38:15,200
that<font color="#E5E5E5"> for</font><font color="#CCCCCC"> voluntary as much as you would</font>

876
00:38:12,020 --> 00:38:17,420
like to a couple<font color="#E5E5E5"> of things with flu</font>

877
00:38:15,200 --> 00:38:20,629
indeed<font color="#E5E5E5"> it's I set up</font><font color="#CCCCCC"> it you can set it</font>

878
00:38:17,420 --> 00:38:22,940
<font color="#E5E5E5">up as a hierarchy and capture locally in</font>

879
00:38:20,630 --> 00:38:24,320
UDP<font color="#E5E5E5"> and then use TCP to communicate</font>

880
00:38:22,940 --> 00:38:25,280
which is going<font color="#E5E5E5"> to provide reliability</font>

881
00:38:24,320 --> 00:38:27,380
<font color="#CCCCCC">and ensured</font>

882
00:38:25,280 --> 00:38:31,310
<font color="#E5E5E5">you don't get packet loss that's one way</font>

883
00:38:27,380 --> 00:38:33,710
to do<font color="#E5E5E5"> it another use I've made of flu</font><font color="#CCCCCC"> in</font>

884
00:38:31,310 --> 00:38:36,590
D is for logging<font color="#E5E5E5"> system so I basically</font>

885
00:38:33,710 --> 00:38:38,860
<font color="#E5E5E5">at the NX lock Community Edition version</font>

886
00:38:36,590 --> 00:38:42,370
installed on the<font color="#E5E5E5"> Windows workstation</font>

887
00:38:38,860 --> 00:38:45,020
<font color="#E5E5E5">sending syslog information there</font><font color="#CCCCCC"> but</font>

888
00:38:42,370 --> 00:38:48,560
<font color="#CCCCCC">that's</font><font color="#E5E5E5"> just the standard syslog message</font>

889
00:38:45,020 --> 00:38:50,330
that I used with a<font color="#E5E5E5"> reg</font><font color="#CCCCCC"> axe to convert</font>

890
00:38:48,560 --> 00:38:52,610
into JSON and then filtered and then

891
00:38:50,330 --> 00:38:55,340
<font color="#CCCCCC">through a series of workflow with a</font>

892
00:38:52,610 --> 00:38:57,290
little gooey<font color="#CCCCCC"> we had a minimal logging</font>

893
00:38:55,340 --> 00:38:59,330
and monitoring solution<font color="#E5E5E5"> that was enough</font>

894
00:38:57,290 --> 00:39:01,040
<font color="#CCCCCC">to meet PCI it's not rocket science but</font>

895
00:38:59,330 --> 00:39:04,670
we were trying<font color="#CCCCCC"> to meet a PCI for a</font>

896
00:39:01,040 --> 00:39:06,320
<font color="#E5E5E5">limited period of time</font><font color="#CCCCCC"> but</font><font color="#E5E5E5"> you can also</font>

897
00:39:04,670 --> 00:39:09,670
combine it with other search tool so I

898
00:39:06,320 --> 00:39:11,780
spoke earlier about<font color="#E5E5E5"> the elk stack so</font>

899
00:39:09,670 --> 00:39:14,300
<font color="#CCCCCC">elasticsearch is in</font><font color="#E5E5E5"> Cabana are very</font>

900
00:39:11,780 --> 00:39:16,160
<font color="#CCCCCC">powerful</font><font color="#E5E5E5"> there are even other tools</font><font color="#CCCCCC"> the</font>

901
00:39:14,300 --> 00:39:18,260
Etsy<font color="#CCCCCC"> folks debuted not</font><font color="#E5E5E5"> not this summer</font>

902
00:39:16,160 --> 00:39:20,839
the previous one at<font color="#E5E5E5"> Def Con</font><font color="#CCCCCC"> it told</font><font color="#E5E5E5"> they</font>

903
00:39:18,260 --> 00:39:22,850
call<font color="#E5E5E5"> four one one</font><font color="#CCCCCC"> if all you are</font><font color="#E5E5E5"> one one</font>

904
00:39:20,840 --> 00:39:24,110
if you google<font color="#CCCCCC"> that you're going to</font><font color="#E5E5E5"> find</font>

905
00:39:22,850 --> 00:39:26,810
it which is basically<font color="#CCCCCC"> an alerting</font>

906
00:39:24,110 --> 00:39:29,150
mechanism on top of<font color="#CCCCCC"> Cabana that they've</font>

907
00:39:26,810 --> 00:39:31,009
<font color="#CCCCCC">used to</font><font color="#E5E5E5"> replace I believe it the</font><font color="#CCCCCC"> brands</font>

908
00:39:29,150 --> 00:39:32,510
<font color="#CCCCCC">Blanc</font><font color="#E5E5E5"> and so you can use something for</font>

909
00:39:31,010 --> 00:39:35,120
logging<font color="#E5E5E5"> and monitoring with such a</font>

910
00:39:32,510 --> 00:39:37,880
solution<font color="#CCCCCC"> either log stash or flu Indy</font><font color="#E5E5E5"> or</font>

911
00:39:35,120 --> 00:39:39,259
something like<font color="#E5E5E5"> that</font><font color="#CCCCCC"> and centralize get</font>

912
00:39:37,880 --> 00:39:40,850
all your locks parse that and then

913
00:39:39,260 --> 00:39:41,930
output<font color="#E5E5E5"> those to different stations what</font>

914
00:39:40,850 --> 00:39:44,120
they did is they<font color="#CCCCCC"> add like</font><font color="#E5E5E5"> three</font>

915
00:39:41,930 --> 00:39:45,799
different<font color="#CCCCCC"> instances</font><font color="#E5E5E5"> one for security one</font>

916
00:39:44,120 --> 00:39:47,480
for compliance one for net for the IT

917
00:39:45,800 --> 00:39:49,190
folks<font color="#E5E5E5"> so everybody can get their own</font>

918
00:39:47,480 --> 00:39:52,000
<font color="#E5E5E5">sandbox at the data but</font><font color="#CCCCCC"> the data is</font>

919
00:39:49,190 --> 00:39:55,040
flowing<font color="#E5E5E5"> from the same individual source</font>

920
00:39:52,000 --> 00:39:56,480
<font color="#E5E5E5">so other</font><font color="#CCCCCC"> things this this solution</font><font color="#E5E5E5"> may</font>

921
00:39:55,040 --> 00:39:57,980
require edit so I'm going to<font color="#E5E5E5"> provide the</font>

922
00:39:56,480 --> 00:40:01,820
code and<font color="#E5E5E5"> I'm I'm gonna try to be</font>

923
00:39:57,980 --> 00:40:04,610
responsive<font color="#CCCCCC"> out as is but it may require</font>

924
00:40:01,820 --> 00:40:06,410
tweaks and<font color="#E5E5E5"> as you move forward I've had</font>

925
00:40:04,610 --> 00:40:08,380
to sadly use a printf method because

926
00:40:06,410 --> 00:40:12,620
it's a<font color="#E5E5E5"> daemon running and that's not fun</font>

927
00:40:08,380 --> 00:40:14,300
<font color="#E5E5E5">but it works the other thing is for</font>

928
00:40:12,620 --> 00:40:16,430
<font color="#E5E5E5">those who are cognizant of Ruby Ruby</font>

929
00:40:14,300 --> 00:40:19,490
general he's packaged as gems<font color="#CCCCCC"> I did not</font>

930
00:40:16,430 --> 00:40:21,529
do that<font color="#CCCCCC"> I didn't</font><font color="#E5E5E5"> look into that if</font>

931
00:40:19,490 --> 00:40:24,350
somebody wants<font color="#CCCCCC"> to do it more</font><font color="#E5E5E5"> the better</font>

932
00:40:21,530 --> 00:40:28,400
<font color="#CCCCCC">but</font><font color="#E5E5E5"> then all these files are</font><font color="#CCCCCC"> in the</font>

933
00:40:24,350 --> 00:40:33,970
<font color="#CCCCCC">plugin folder and /et</font><font color="#E5E5E5"> /et c /t d agent</font>

934
00:40:28,400 --> 00:40:34,810
<font color="#E5E5E5">slash</font><font color="#CCCCCC"> slash plugin</font>

935
00:40:33,970 --> 00:40:37,959
so everything's gonna be published

936
00:40:34,810 --> 00:40:40,690
<font color="#E5E5E5">online so</font><font color="#CCCCCC"> if you guys have any questions</font>

937
00:40:37,960 --> 00:40:43,329
<font color="#CCCCCC">any be more than</font><font color="#E5E5E5"> happy</font><font color="#CCCCCC"> to take</font><font color="#E5E5E5"> him now</font>

938
00:40:40,690 --> 00:40:45,900
<font color="#CCCCCC">or I'll be here</font><font color="#E5E5E5"> the</font><font color="#CCCCCC"> remain</font><font color="#E5E5E5"> the rest of</font>

939
00:40:43,329 --> 00:40:45,900
the day as well

940
00:40:49,480 --> 00:40:57,480
thank you so much<font color="#E5E5E5"> questions questions</font><font color="#CCCCCC"> so</font>

941
00:40:54,760 --> 00:41:00,099
how are you capturing the<font color="#CCCCCC"> information</font>

942
00:40:57,480 --> 00:41:02,260
from the<font color="#E5E5E5"> net flow protocol is it</font>

943
00:41:00,099 --> 00:41:05,079
broadcasted and can you<font color="#E5E5E5"> just</font><font color="#CCCCCC"> listen from</font>

944
00:41:02,260 --> 00:41:06,700
<font color="#E5E5E5">any so this net flows from your devices</font>

945
00:41:05,079 --> 00:41:08,470
it's a configuration<font color="#E5E5E5"> issue it's</font><font color="#CCCCCC"> just as</font>

946
00:41:06,700 --> 00:41:10,720
you<font color="#CCCCCC"> would set up syslog for example</font>

947
00:41:08,470 --> 00:41:12,459
there's a there's different commands<font color="#E5E5E5"> for</font>

948
00:41:10,720 --> 00:41:15,520
different devices<font color="#CCCCCC"> so either through the</font>

949
00:41:12,460 --> 00:41:17,260
web configuration engine or through the

950
00:41:15,520 --> 00:41:18,940
command line<font color="#CCCCCC"> you can</font><font color="#E5E5E5"> just set</font><font color="#CCCCCC"> it up and</font>

951
00:41:17,260 --> 00:41:22,540
<font color="#CCCCCC">that's where there's one parameter</font><font color="#E5E5E5"> is</font>

952
00:41:18,940 --> 00:41:24,940
<font color="#E5E5E5">the time between templates being sent so</font>

953
00:41:22,540 --> 00:41:27,160
this is all this<font color="#E5E5E5"> is all network device I</font>

954
00:41:24,940 --> 00:41:28,570
have a small router at<font color="#CCCCCC"> home and the some</font>

955
00:41:27,160 --> 00:41:31,299
<font color="#CCCCCC">of those provide that information as</font>

956
00:41:28,570 --> 00:41:33,670
well<font color="#E5E5E5"> so it's in VMware has it in their</font>

957
00:41:31,300 --> 00:41:36,700
console<font color="#E5E5E5"> as one</font><font color="#CCCCCC"> of the outputs as part of</font>

958
00:41:33,670 --> 00:41:39,180
their their<font color="#E5E5E5"> network switch their virtual</font>

959
00:41:36,700 --> 00:41:39,180
<font color="#E5E5E5">network search</font>

960
00:41:42,349 --> 00:41:47,869
is it working yeah just keep<font color="#E5E5E5"> it closer</font>

961
00:41:45,230 --> 00:41:51,980
<font color="#CCCCCC">did</font><font color="#E5E5E5"> you run into any like CPU memory</font>

962
00:41:47,869 --> 00:41:54,260
issues in<font color="#CCCCCC"> like related to whatever is</font>

963
00:41:51,980 --> 00:41:57,020
generating that<font color="#E5E5E5"> flow information bugs</font>

964
00:41:54,260 --> 00:41:59,720
<font color="#E5E5E5">anything if I</font><font color="#CCCCCC"> rent if I run into</font><font color="#E5E5E5"> CPU</font>

965
00:41:57,020 --> 00:42:01,160
issues<font color="#E5E5E5"> yeah like whatever is generating</font>

966
00:41:59,720 --> 00:42:04,609
<font color="#E5E5E5">that flow information for example</font><font color="#CCCCCC"> it's a</font>

967
00:42:01,160 --> 00:42:06,920
switch it's a router like so<font color="#E5E5E5"> my goal was</font>

968
00:42:04,609 --> 00:42:09,500
not to check performance of the<font color="#E5E5E5"> network</font>

969
00:42:06,920 --> 00:42:14,030
<font color="#E5E5E5">so performance of the tool it's very</font>

970
00:42:09,500 --> 00:42:15,680
memory<font color="#E5E5E5"> and in</font><font color="#CCCCCC"> memory and even CPU can</font><font color="#E5E5E5"> do</font>

971
00:42:14,030 --> 00:42:17,900
<font color="#E5E5E5">it but depending on when you're doing</font>

972
00:42:15,680 --> 00:42:20,210
port scans<font color="#CCCCCC"> that solution got a bit more</font>

973
00:42:17,900 --> 00:42:22,340
but memory it's very very lightweight

974
00:42:20,210 --> 00:42:24,740
<font color="#E5E5E5">actually want to try it and run some of</font>

975
00:42:22,340 --> 00:42:27,410
<font color="#E5E5E5">those on</font><font color="#CCCCCC"> PI on raspberry PI's at home to</font>

976
00:42:24,740 --> 00:42:28,640
do<font color="#E5E5E5"> a proper analysis of my own traffic</font>

977
00:42:27,410 --> 00:42:30,470
what's going on there<font color="#CCCCCC"> even though it's</font>

978
00:42:28,640 --> 00:42:31,970
only me<font color="#E5E5E5"> just because it's gonna be</font>

979
00:42:30,470 --> 00:42:34,368
interesting<font color="#CCCCCC"> to</font><font color="#E5E5E5"> see what else I can get</font>

980
00:42:31,970 --> 00:42:37,520
but CPU it's very low<font color="#CCCCCC"> you're not gonna</font>

981
00:42:34,369 --> 00:42:40,099
you<font color="#E5E5E5"> can you could agree aggregate that</font>

982
00:42:37,520 --> 00:42:41,570
information you do get in some formats

983
00:42:40,099 --> 00:42:44,510
you<font color="#CCCCCC"> can get the number of</font><font color="#E5E5E5"> packets or</font>

984
00:42:41,570 --> 00:42:46,190
sent<font color="#E5E5E5"> I think</font><font color="#CCCCCC"> you maybe</font><font color="#E5E5E5"> bytes or octet</font>

985
00:42:44,510 --> 00:42:47,270
standing on where you go so<font color="#CCCCCC"> that's why</font>

986
00:42:46,190 --> 00:42:49,160
I'm telling<font color="#E5E5E5"> you there's more information</font>

987
00:42:47,270 --> 00:42:51,380
<font color="#E5E5E5">out</font><font color="#CCCCCC"> there that that</font><font color="#E5E5E5"> I didn't</font><font color="#CCCCCC"> prophet</font>

988
00:42:49,160 --> 00:42:53,149
process<font color="#E5E5E5"> because</font><font color="#CCCCCC"> that was on my intent my</font>

989
00:42:51,380 --> 00:42:54,980
intent was<font color="#CCCCCC"> to identify was communicating</font>

990
00:42:53,150 --> 00:42:59,030
to<font color="#E5E5E5"> who so can we are Kotak the network</font>

991
00:42:54,980 --> 00:43:01,160
so the samples<font color="#CCCCCC"> it was running</font><font color="#E5E5E5"> real time</font>

992
00:42:59,030 --> 00:43:03,320
<font color="#E5E5E5">I was validating and continuously</font>

993
00:43:01,160 --> 00:43:06,080
validating so but it's kind<font color="#E5E5E5"> of applying</font>

994
00:43:03,320 --> 00:43:08,089
the Pareto<font color="#E5E5E5"> principle the at2020</font><font color="#CCCCCC"> 8020</font>

995
00:43:06,080 --> 00:43:09,619
rule<font color="#E5E5E5"> where you</font><font color="#CCCCCC"> get 80% of traffic</font><font color="#E5E5E5"> and</font>

996
00:43:08,089 --> 00:43:12,049
then you<font color="#E5E5E5"> focus on the other 20% you get</font>

997
00:43:09,619 --> 00:43:15,380
<font color="#CCCCCC">80%</font><font color="#E5E5E5"> of</font><font color="#CCCCCC"> that and then you're gonna slowly</font>

998
00:43:12,050 --> 00:43:18,530
<font color="#CCCCCC">alright get most</font><font color="#E5E5E5"> of it right</font><font color="#CCCCCC"> thanks</font>

999
00:43:15,380 --> 00:43:20,960
welcome thank<font color="#CCCCCC"> you so much it for</font><font color="#E5E5E5"> being</font>

1000
00:43:18,530 --> 00:43:22,550
<font color="#CCCCCC">here and our</font><font color="#E5E5E5"> out-of-town</font><font color="#CCCCCC"> guests which is</font>

1001
00:43:20,960 --> 00:43:25,250
<font color="#CCCCCC">also</font><font color="#E5E5E5"> really</font><font color="#CCCCCC"> awesome because it's great</font>

1002
00:43:22,550 --> 00:43:27,250
when we<font color="#CCCCCC"> have folks</font><font color="#E5E5E5"> come from outside of</font>

1003
00:43:25,250 --> 00:43:30,560
<font color="#CCCCCC">Calgary so thank you very</font><font color="#E5E5E5"> much</font>

1004
00:43:27,250 --> 00:43:31,880
<font color="#E5E5E5">thanks I'll be around the hall the</font>

1005
00:43:30,560 --> 00:43:34,450
remainder of the day if anybody's got

1006
00:43:31,880 --> 00:43:34,450
other question

