1
00:00:01,560 --> 00:00:06,589
everyone my<font color="#CCCCCC"> name is Gareth I'm going</font><font color="#E5E5E5"> to</font>

2
00:00:04,410 --> 00:00:08,189
<font color="#E5E5E5">talk to you about the Tor network</font>

3
00:00:06,589 --> 00:00:10,230
pacific time I talk to you about

4
00:00:08,189 --> 00:00:12,360
vulnerabilities in the Tor network how

5
00:00:10,230 --> 00:00:14,670
you can d anonymize people and so on<font color="#E5E5E5"> and</font>

6
00:00:12,360 --> 00:00:18,419
so forth a bit of background about me

7
00:00:14,670 --> 00:00:21,839
<font color="#E5E5E5">I'm not able to work a</font><font color="#CCCCCC"> PowerPoint there</font>

8
00:00:18,419 --> 00:00:23,460
we go I'm a career academic academic

9
00:00:21,839 --> 00:00:25,410
seem to get a rather bit of a bad press

10
00:00:23,460 --> 00:00:27,359
so<font color="#E5E5E5"> hopefully I'm here to to change your</font>

11
00:00:25,410 --> 00:00:28,679
<font color="#E5E5E5">mind when I volunteered for the talk</font>

12
00:00:27,359 --> 00:00:30,089
I've got it I've got an email through

13
00:00:28,679 --> 00:00:31,828
from the personalizing the talk saying

14
00:00:30,089 --> 00:00:35,250
you're not academics please don't talk

15
00:00:31,829 --> 00:00:37,440
about fluffs a living oh so hopefully I

16
00:00:35,250 --> 00:00:39,269
hopefully<font color="#CCCCCC"> I'll show academics in a</font>

17
00:00:37,440 --> 00:00:40,019
different light and I'm going<font color="#E5E5E5"> to talk</font>

18
00:00:39,270 --> 00:00:42,150
about some<font color="#CCCCCC"> of the technical details</font>

19
00:00:40,020 --> 00:00:43,380
about tour but I'm<font color="#E5E5E5"> going to sort of sort</font>

20
00:00:42,150 --> 00:00:45,180
of drop in now at the technical details

21
00:00:43,380 --> 00:00:46,920
so if you're not<font color="#E5E5E5"> a technical person you</font>

22
00:00:45,180 --> 00:00:49,050
can keep up and<font color="#E5E5E5"> if you are hopefully</font>

23
00:00:46,920 --> 00:00:50,340
I'll fill that need I can't run<font color="#E5E5E5"> the</font>

24
00:00:49,050 --> 00:00:52,589
digital forensics course at<font color="#CCCCCC"> University</font>

25
00:00:50,340 --> 00:00:53,940
of<font color="#CCCCCC"> Portsmouth I teach</font><font color="#E5E5E5"> everything as</font>

26
00:00:52,590 --> 00:00:56,130
pretty much every lecturer does from

27
00:00:53,940 --> 00:00:58,620
forensics to cryptography but it's a

28
00:00:56,130 --> 00:01:00,150
most academic staff even<font color="#E5E5E5"> if you've been</font>

29
00:00:58,620 --> 00:01:02,129
<font color="#CCCCCC">to university you see the academic staff</font>

30
00:01:00,150 --> 00:01:03,660
teaching you the academic<font color="#CCCCCC"> staff</font>

31
00:01:02,130 --> 00:01:05,850
typically also spend quite a significant

32
00:01:03,660 --> 00:01:07,259
portion of our time doing research and

33
00:01:05,850 --> 00:01:09,449
this is doing publications and things

34
00:01:07,259 --> 00:01:10,950
like that<font color="#CCCCCC"> and my Pacific interest is in</font>

35
00:01:09,450 --> 00:01:14,159
reverse engineering and memory forensics

36
00:01:10,950 --> 00:01:15,749
but about six or seven<font color="#CCCCCC"> years ago</font><font color="#E5E5E5"> I spent</font>

37
00:01:14,159 --> 00:01:18,450
a good five years or so doing research

38
00:01:15,749 --> 00:01:23,369
into very large decentralized systems

39
00:01:18,450 --> 00:01:24,390
not that dissimilar<font color="#CCCCCC"> too tall so I'm</font>

40
00:01:23,369 --> 00:01:26,069
<font color="#E5E5E5">going to talk to you today about how it</font>

41
00:01:24,390 --> 00:01:27,149
all works i'll talk about how the actual

42
00:01:26,069 --> 00:01:28,859
infrastructure works how the network

43
00:01:27,149 --> 00:01:30,299
works i'm<font color="#E5E5E5"> going to talk to you about how</font>

44
00:01:28,859 --> 00:01:32,609
something called hidden services work

45
00:01:30,299 --> 00:01:34,829
and how you can dnr mais not only

46
00:01:32,609 --> 00:01:36,749
visitors to hidden services but hidden

47
00:01:34,829 --> 00:01:39,928
services themselves<font color="#E5E5E5"> i'll show</font><font color="#CCCCCC"> you</font><font color="#E5E5E5"> how</font>

48
00:01:36,749 --> 00:01:42,030
you can DN onam eyes users generally and

49
00:01:39,929 --> 00:01:44,130
then also<font color="#CCCCCC"> talk about finally the</font><font color="#E5E5E5"> what's</font>

50
00:01:42,030 --> 00:01:45,689
commonly known as<font color="#CCCCCC"> the FBI exploit even</font>

51
00:01:44,130 --> 00:01:47,520
if you followed tool you'll know about

52
00:01:45,689 --> 00:01:48,990
about this and<font color="#CCCCCC"> I'll</font><font color="#E5E5E5"> show you they</font>

53
00:01:47,520 --> 00:01:51,298
actually exploit itself and some<font color="#E5E5E5"> of the</font>

54
00:01:48,990 --> 00:01:54,658
shellcode from it as a show of hands how

55
00:01:51,299 --> 00:01:56,429
many of you have used tor so that's what

56
00:01:54,659 --> 00:01:59,700
about<font color="#E5E5E5"> 80% keep your hand up if you run a</font>

57
00:01:56,429 --> 00:02:03,200
relay keep your hand up you run an exit

58
00:01:59,700 --> 00:02:05,450
or you guys deserve a round of applause

59
00:02:03,200 --> 00:02:11,629
yes you<font color="#E5E5E5"> really do</font>

60
00:02:05,450 --> 00:02:13,129
oh and if you're not<font color="#E5E5E5"> quite sure why we</font>

61
00:02:11,629 --> 00:02:14,810
clapping these guys and<font color="#E5E5E5"> a few if in a</font>

62
00:02:13,129 --> 00:02:17,690
few slides I'll explain to<font color="#CCCCCC"> you why they</font>

63
00:02:14,810 --> 00:02:25,010
deserve very<font color="#E5E5E5"> much a clap and why they</font>

64
00:02:17,690 --> 00:02:27,980
may not<font color="#CCCCCC"> be here next year so I I guess</font>

65
00:02:25,010 --> 00:02:29,329
for<font color="#E5E5E5"> a security conference mostly of you</font>

66
00:02:27,980 --> 00:02:30,829
who have been following the Snowden

67
00:02:29,330 --> 00:02:32,269
leaks over the last year I mean it's

68
00:02:30,830 --> 00:02:35,480
been a rather interesting year to be

69
00:02:32,269 --> 00:02:36,799
<font color="#E5E5E5">involved in security and any sense of</font>

70
00:02:35,480 --> 00:02:38,780
the word<font color="#E5E5E5"> and there have been I think</font>

71
00:02:36,799 --> 00:02:41,750
<font color="#E5E5E5">about three documents leaked on tour</font>

72
00:02:38,780 --> 00:02:42,830
where<font color="#CCCCCC"> GCHQ NSA five eyes essentially</font>

73
00:02:41,750 --> 00:02:44,840
I've been working on trying<font color="#E5E5E5"> to be</font>

74
00:02:42,830 --> 00:02:47,120
<font color="#CCCCCC">anonymised people from tour and export</font>

75
00:02:44,840 --> 00:02:49,730
the Tor network<font color="#E5E5E5"> I wanted to pick out one</font>

76
00:02:47,120 --> 00:02:51,890
slide with a rather notable point which

77
00:02:49,730 --> 00:02:53,810
says that they can DN analyze a small

78
00:02:51,890 --> 00:02:55,458
fraction of users but can't<font color="#E5E5E5"> DN onam eyes</font>

79
00:02:53,810 --> 00:02:56,900
everyone and that's<font color="#E5E5E5"> essentially what I'm</font>

80
00:02:55,459 --> 00:02:58,579
talk to you about today<font color="#CCCCCC"> is how they can</font>

81
00:02:56,900 --> 00:03:00,079
some<font color="#E5E5E5"> of the techniques you can use the D</font>

82
00:02:58,579 --> 00:03:01,760
anonymize people without cheating

83
00:03:00,079 --> 00:03:03,290
essentially but also tell you how you

84
00:03:01,760 --> 00:03:07,578
can<font color="#E5E5E5"> cheat although that's not really</font>

85
00:03:03,290 --> 00:03:09,140
what what the talks about so just a

86
00:03:07,579 --> 00:03:12,769
primer for those of you who haven't used

87
00:03:09,140 --> 00:03:18,018
tor tor aims to essentially provide a

88
00:03:12,769 --> 00:03:19,880
couple of properties it's an

89
00:03:18,019 --> 00:03:21,799
anti-censorship tool which essentially

90
00:03:19,880 --> 00:03:23,540
means if you live in a country which

91
00:03:21,799 --> 00:03:25,790
firewalls the internet or filters

92
00:03:23,540 --> 00:03:28,429
<font color="#CCCCCC">internet traffic you can use tor to</font>

93
00:03:25,790 --> 00:03:29,810
bypass that internet filter and i'll

94
00:03:28,430 --> 00:03:30,799
talk to you let<font color="#E5E5E5"> me look later about some</font>

95
00:03:29,810 --> 00:03:34,400
of the countries which have done that

96
00:03:30,799 --> 00:03:35,810
and and how we're trying to fix that but

97
00:03:34,400 --> 00:03:37,910
in it but the sort<font color="#E5E5E5"> of two primary</font>

98
00:03:35,810 --> 00:03:39,739
features really<font color="#E5E5E5"> that Torrez are</font><font color="#CCCCCC"> analysi</font>

99
00:03:37,910 --> 00:03:41,090
<font color="#E5E5E5">and privacy a lot of people confuse</font>

100
00:03:39,739 --> 00:03:42,170
<font color="#E5E5E5">these two terms and think they're</font>

101
00:03:41,090 --> 00:03:44,090
<font color="#CCCCCC">actually the same thing they're actually</font>

102
00:03:42,170 --> 00:03:45,350
very different privacy essentially means

103
00:03:44,090 --> 00:03:47,810
that someone can't see what you're doing

104
00:03:45,350 --> 00:03:49,280
<font color="#E5E5E5">but they may know who you are anonymity</font>

105
00:03:47,810 --> 00:03:50,420
mate is you know they<font color="#CCCCCC"> don't know</font><font color="#E5E5E5"> who you</font>

106
00:03:49,280 --> 00:03:52,910
are<font color="#CCCCCC"> but they might be able</font><font color="#E5E5E5"> to see what</font>

107
00:03:50,420 --> 00:03:54,530
you're doing<font color="#CCCCCC"> now tour provides both of</font>

108
00:03:52,910 --> 00:03:56,480
these but<font color="#E5E5E5"> not necessarily at the same</font>

109
00:03:54,530 --> 00:03:58,010
time<font color="#CCCCCC"> all right dependence very much</font>

110
00:03:56,480 --> 00:03:59,720
weight where you are I want to<font color="#E5E5E5"> give</font><font color="#CCCCCC"> you</font>

111
00:03:58,010 --> 00:04:02,090
an example before we specifically talked

112
00:03:59,720 --> 00:04:04,430
about tour perhaps the way initially

113
00:04:02,090 --> 00:04:06,620
that<font color="#E5E5E5"> you may wanted to to get these two</font>

114
00:04:04,430 --> 00:04:08,660
things online before tour existed or if

115
00:04:06,620 --> 00:04:11,090
you didn't know about tour was what via

116
00:04:08,660 --> 00:04:12,650
proxy or a VPN you can go online<font color="#E5E5E5"> and get</font>

117
00:04:11,090 --> 00:04:15,019
cheap VPNs that sort<font color="#E5E5E5"> of forward your</font>

118
00:04:12,650 --> 00:04:15,720
traffic through Australia or some

119
00:04:15,019 --> 00:04:18,030
country with

120
00:04:15,720 --> 00:04:19,829
<font color="#E5E5E5">different-different</font><font color="#CCCCCC"> Ross two hours now</font>

121
00:04:18,029 --> 00:04:21,359
the way a VPN typically works is you've

122
00:04:19,829 --> 00:04:22,800
got you on the<font color="#CCCCCC"> left-hand side here so</font>

123
00:04:21,360 --> 00:04:24,870
<font color="#E5E5E5">here's all the users connecting into the</font>

124
00:04:22,800 --> 00:04:26,730
VPN the VPN receives all of the

125
00:04:24,870 --> 00:04:28,260
traffic's from the users and then spits

126
00:04:26,730 --> 00:04:29,970
out to the different destinations which

127
00:04:28,260 --> 00:04:31,680
they want to be<font color="#E5E5E5"> going to now any</font>

128
00:04:29,970 --> 00:04:33,420
observer looking from the outside can

129
00:04:31,680 --> 00:04:37,560
<font color="#CCCCCC">see that's what you're doing I was</font>

130
00:04:33,420 --> 00:04:38,490
wondering what<font color="#E5E5E5"> you were</font><font color="#CCCCCC"> doing I thought</font>

131
00:04:37,560 --> 00:04:43,170
you were talking<font color="#CCCCCC"> to someone in the</font>

132
00:04:38,490 --> 00:04:47,790
audience right so you get<font color="#CCCCCC"> your sorry ass</font>

133
00:04:43,170 --> 00:04:48,930
so you can I thought he's talking to

134
00:04:47,790 --> 00:04:52,830
that guy<font color="#CCCCCC"> for a long time why are you</font>

135
00:04:48,930 --> 00:04:54,870
just<font color="#E5E5E5"> going game right so you've got all</font>

136
00:04:52,830 --> 00:04:56,520
<font color="#CCCCCC">the users on the left-hand side they may</font>

137
00:04:54,870 --> 00:04:58,530
be doing<font color="#E5E5E5"> something on the internet but</font>

138
00:04:56,520 --> 00:05:00,750
typically the traffic from<font color="#E5E5E5"> the user to</font>

139
00:04:58,530 --> 00:05:02,460
<font color="#CCCCCC">the VPN of the proxy is encrypted in</font>

140
00:05:00,750 --> 00:05:04,320
some way so even if you're sitting<font color="#CCCCCC"> on</font>

141
00:05:02,460 --> 00:05:06,000
<font color="#E5E5E5">this side of</font><font color="#CCCCCC"> the VPN and you can</font><font color="#E5E5E5"> observe</font>

142
00:05:04,320 --> 00:05:07,140
all the<font color="#E5E5E5"> traffic coming for the user you</font>

143
00:05:06,000 --> 00:05:09,720
know who they are<font color="#CCCCCC"> but you can't</font>

144
00:05:07,140 --> 00:05:11,700
necessarily see what it<font color="#E5E5E5"> is that doing so</font>

145
00:05:09,720 --> 00:05:13,530
<font color="#E5E5E5">that</font><font color="#CCCCCC"> sort of stuff comes in through this</font>

146
00:05:11,700 --> 00:05:15,599
VPN and if you can<font color="#E5E5E5"> observe traffic</font>

147
00:05:13,530 --> 00:05:17,460
coming out of the VPN you can see what

148
00:05:15,600 --> 00:05:18,510
<font color="#E5E5E5">the people are doing but not necessarily</font>

149
00:05:17,460 --> 00:05:19,979
who they are you can see<font color="#E5E5E5"> they're</font>

150
00:05:18,510 --> 00:05:21,360
visiting<font color="#E5E5E5"> Twitter or WikiLeaks or</font>

151
00:05:19,980 --> 00:05:23,130
Wikipedia and so on you don't

152
00:05:21,360 --> 00:05:24,840
<font color="#E5E5E5">necessarily know who they are so</font>

153
00:05:23,130 --> 00:05:26,940
normally<font color="#E5E5E5"> provides privacy on</font><font color="#CCCCCC"> the</font>

154
00:05:24,840 --> 00:05:28,320
left-hand side so therefore the VPN so

155
00:05:26,940 --> 00:05:30,000
an attacker this side doesn't know what

156
00:05:28,320 --> 00:05:31,650
you're doing but provides a normal

157
00:05:30,000 --> 00:05:34,290
anonymity on the other side<font color="#E5E5E5"> because</font>

158
00:05:31,650 --> 00:05:35,700
necessarily traffic in many cases<font color="#CCCCCC"> to for</font>

159
00:05:34,290 --> 00:05:37,410
example work guess it's now to Twitter

160
00:05:35,700 --> 00:05:39,120
but I think it's even to Wikipedia so

161
00:05:37,410 --> 00:05:40,410
these are pretty<font color="#E5E5E5"> bad examples and but</font>

162
00:05:39,120 --> 00:05:42,630
lots of sites obviously it don't use

163
00:05:40,410 --> 00:05:43,560
<font color="#E5E5E5">HTTPS encrypted web traffic so you can</font>

164
00:05:42,630 --> 00:05:45,330
see what<font color="#E5E5E5"> they're doing</font><font color="#CCCCCC"> and what</font><font color="#E5E5E5"> they</font>

165
00:05:43,560 --> 00:05:47,190
visiting on these websites now of<font color="#E5E5E5"> course</font>

166
00:05:45,330 --> 00:05:49,409
there's one really fundamental problem

167
00:05:47,190 --> 00:05:50,910
with<font color="#E5E5E5"> this and that is that if you own</font>

168
00:05:49,410 --> 00:05:53,729
the VPN or you can in some way

169
00:05:50,910 --> 00:05:55,680
compromise the VPN then all bets are off

170
00:05:53,729 --> 00:05:57,599
right<font color="#CCCCCC"> you can</font><font color="#E5E5E5"> see which user is coming</font>

171
00:05:55,680 --> 00:06:00,090
in and exactly where they're going out

172
00:05:57,600 --> 00:06:01,740
to which site so the<font color="#E5E5E5"> question is you</font>

173
00:06:00,090 --> 00:06:04,080
know which VPNs do you trust or which

174
00:06:01,740 --> 00:06:06,540
proxies do you trust a big<font color="#E5E5E5"> question mark</font>

175
00:06:04,080 --> 00:06:09,270
there's loads of them ones could hide my

176
00:06:06,540 --> 00:06:10,650
<font color="#CCCCCC">ass of all things you know which one do</font>

177
00:06:09,270 --> 00:06:12,930
you trust they will put on their website

178
00:06:10,650 --> 00:06:14,190
we don't<font color="#E5E5E5"> keep logs but there's many</font>

179
00:06:12,930 --> 00:06:16,350
jurisdictions where you're required to

180
00:06:14,190 --> 00:06:18,450
keep logs and just because they say they

181
00:06:16,350 --> 00:06:20,820
<font color="#E5E5E5">don't keep logs why would you trust them</font>

182
00:06:18,450 --> 00:06:22,590
so tour essentially attempts to solve

183
00:06:20,820 --> 00:06:24,330
this problem where<font color="#CCCCCC"> you bought this sort</font>

184
00:06:22,590 --> 00:06:26,429
<font color="#E5E5E5">of entity which is forwarding or traffic</font>

185
00:06:24,330 --> 00:06:29,070
but you don't necessarily trust that

186
00:06:26,430 --> 00:06:31,710
entity in some way

187
00:06:29,070 --> 00:06:33,390
so tour is an open source project that

188
00:06:31,710 --> 00:06:35,250
means you can go online and<font color="#E5E5E5"> get the code</font>

189
00:06:33,390 --> 00:06:37,020
it means<font color="#E5E5E5"> I can go online and</font><font color="#CCCCCC"> get the</font>

190
00:06:35,250 --> 00:06:38,280
code and change the code to do stuff to

191
00:06:37,020 --> 00:06:39,719
try and poison the Tor network to do

192
00:06:38,280 --> 00:06:42,419
other stuff which<font color="#E5E5E5"> is fun and i'll talk</font>

193
00:06:39,720 --> 00:06:44,010
<font color="#E5E5E5">to you about that little bit later</font><font color="#CCCCCC"> tor</font>

194
00:06:42,420 --> 00:06:45,960
essentially provides these two

195
00:06:44,010 --> 00:06:47,490
properties the anonymity and the privacy

196
00:06:45,960 --> 00:06:49,560
<font color="#CCCCCC">but slightly different points in the</font>

197
00:06:47,490 --> 00:06:50,760
network so you<font color="#CCCCCC"> think okay these</font><font color="#E5E5E5"> are two</font>

198
00:06:49,560 --> 00:06:52,500
things that really you know say for

199
00:06:50,760 --> 00:06:54,510
example a nasty government doesn't want

200
00:06:52,500 --> 00:06:56,850
<font color="#E5E5E5">people to be able to do so who sponsors</font>

201
00:06:54,510 --> 00:06:58,530
tour well one of the big sponsors of

202
00:06:56,850 --> 00:07:00,360
tour is actually the US government even

203
00:06:58,530 --> 00:07:01,859
though tour itself as a real pain<font color="#CCCCCC"> in the</font>

204
00:07:00,360 --> 00:07:03,390
ass for<font color="#CCCCCC"> some aspects of the</font><font color="#E5E5E5"> US</font>

205
00:07:01,860 --> 00:07:05,220
government so it's a bit of<font color="#E5E5E5"> a bit of a</font>

206
00:07:03,390 --> 00:07:06,750
funny thing that's not<font color="#E5E5E5"> to say</font><font color="#CCCCCC"> that tour</font>

207
00:07:05,220 --> 00:07:08,490
is compromised<font color="#E5E5E5"> in any way because</font><font color="#CCCCCC"> of its</font>

208
00:07:06,750 --> 00:07:10,230
funding<font color="#E5E5E5"> stream and that's not the case</font>

209
00:07:08,490 --> 00:07:11,430
well as far as<font color="#E5E5E5"> I know anyway and as far</font>

210
00:07:10,230 --> 00:07:14,280
<font color="#CCCCCC">as many of us I guess probably probably</font>

211
00:07:11,430 --> 00:07:16,110
suspect<font color="#CCCCCC"> but who ever really knows it</font>

212
00:07:14,280 --> 00:07:17,340
isn't compromised necessary for because

213
00:07:16,110 --> 00:07:18,660
<font color="#E5E5E5">of its funding stream choice a couple of</font>

214
00:07:17,340 --> 00:07:20,219
different funding streams but one of the

215
00:07:18,660 --> 00:07:22,650
main ones<font color="#CCCCCC"> is from from the US government</font>

216
00:07:20,220 --> 00:07:24,480
and the US government<font color="#CCCCCC"> want essentially</font>

217
00:07:22,650 --> 00:07:25,979
there to be some sort of privacy and non

218
00:07:24,480 --> 00:07:27,990
<font color="#CCCCCC">inity tool because they want</font><font color="#E5E5E5"> to promote</font>

219
00:07:25,980 --> 00:07:30,120
human rights they want<font color="#E5E5E5"> people in Syria</font>

220
00:07:27,990 --> 00:07:32,010
<font color="#E5E5E5">and Iran and China and so on to be able</font>

221
00:07:30,120 --> 00:07:33,810
<font color="#E5E5E5">to read websites which they shouldn't be</font>

222
00:07:32,010 --> 00:07:36,510
able<font color="#E5E5E5"> to do to try and sort of bring</font>

223
00:07:33,810 --> 00:07:39,270
democracy as it were on the world as a

224
00:07:36,510 --> 00:07:41,159
whole now the<font color="#CCCCCC"> idea behind tool is</font>

225
00:07:39,270 --> 00:07:43,500
there's no single Authority there's no

226
00:07:41,160 --> 00:07:45,420
<font color="#E5E5E5">single person in charge of it there's no</font>

227
00:07:43,500 --> 00:07:47,130
single computer which<font color="#CCCCCC"> is in charge with</font>

228
00:07:45,420 --> 00:07:48,630
it the sort<font color="#CCCCCC"> of the responsibility for</font>

229
00:07:47,130 --> 00:07:50,520
the Tor network is distributed over a

230
00:07:48,630 --> 00:07:52,080
large number of nodes there are some

231
00:07:50,520 --> 00:07:54,210
authorities which I'll talk about in a

232
00:07:52,080 --> 00:07:55,950
bit there's no single authorities is the

233
00:07:54,210 --> 00:07:57,150
main<font color="#E5E5E5"> point that I'm trying to take now</font>

234
00:07:55,950 --> 00:07:59,340
<font color="#E5E5E5">in the previous</font><font color="#CCCCCC"> slide I showed you that</font>

235
00:07:57,150 --> 00:08:00,659
the proxy was that was that weeks was

236
00:07:59,340 --> 00:08:03,989
that weak spot right that was the thing

237
00:08:00,660 --> 00:08:06,330
which<font color="#E5E5E5"> if you compromise the the proxy or</font>

238
00:08:03,990 --> 00:08:08,460
the VPN server all bets were off so<font color="#CCCCCC"> tour</font>

239
00:08:06,330 --> 00:08:09,780
<font color="#CCCCCC">times to sort of mitigate this risk so</font>

240
00:08:08,460 --> 00:08:11,909
here we've got<font color="#E5E5E5"> a nice cool typical</font>

241
00:08:09,780 --> 00:08:13,979
<font color="#CCCCCC">Alison user Bob scenario we've got Alex</font>

242
00:08:11,910 --> 00:08:15,840
use our user we've got a<font color="#CCCCCC"> website or a</font>

243
00:08:13,980 --> 00:08:17,580
person with whom Alice wishes to

244
00:08:15,840 --> 00:08:19,710
communicate called Bob and instead of

245
00:08:17,580 --> 00:08:21,419
<font color="#E5E5E5">just going through one hop to get to Bob</font>

246
00:08:19,710 --> 00:08:23,460
she goes through several hops in<font color="#E5E5E5"> this</font>

247
00:08:21,420 --> 00:08:25,560
case her message is her request for web

248
00:08:23,460 --> 00:08:27,919
pages etc are going through three

249
00:08:25,560 --> 00:08:31,200
individual nodes across the Tor network

250
00:08:27,920 --> 00:08:33,510
the idea<font color="#E5E5E5"> being that you know to come to</font>

251
00:08:31,200 --> 00:08:35,700
sort<font color="#E5E5E5"> of read bot</font><font color="#CCCCCC"> Alison Bob's traffic</font>

252
00:08:33,510 --> 00:08:38,039
you know just controlling one of the

253
00:08:35,700 --> 00:08:39,510
nodes doesn't suffice just controlling

254
00:08:38,039 --> 00:08:41,370
one doesn't suffice<font color="#CCCCCC"> you need to have to</font>

255
00:08:39,510 --> 00:08:42,400
control one<font color="#CCCCCC"> of more than one node from</font>

256
00:08:41,370 --> 00:08:43,990
the Tor network to do

257
00:08:42,400 --> 00:08:47,050
<font color="#E5E5E5">memorize people or to view what they're</font>

258
00:08:43,990 --> 00:08:49,420
doing on the<font color="#E5E5E5"> internet now the weight or</font>

259
00:08:47,050 --> 00:08:51,130
provides this is it so here we've got

260
00:08:49,420 --> 00:08:53,439
again<font color="#E5E5E5"> Alice I use it on the far</font>

261
00:08:51,130 --> 00:08:55,600
left-hand side we've<font color="#E5E5E5"> got our three hops</font>

262
00:08:53,440 --> 00:08:57,460
through that tor network now typically

263
00:08:55,600 --> 00:08:59,950
<font color="#CCCCCC">we call on</font><font color="#E5E5E5"> the guard the relay and the</font>

264
00:08:57,460 --> 00:09:01,420
exit the guard node is the first hop

265
00:08:59,950 --> 00:09:03,400
from the<font color="#CCCCCC"> user so this is who the user</font>

266
00:09:01,420 --> 00:09:05,380
talks directly with that then goes

267
00:09:03,400 --> 00:09:07,150
<font color="#CCCCCC">through a second hop typically</font><font color="#E5E5E5"> cool just</font>

268
00:09:05,380 --> 00:09:09,250
to relay in fact<font color="#E5E5E5"> all of these are relays</font>

269
00:09:07,150 --> 00:09:11,560
but you know a<font color="#E5E5E5"> gardener is just a relay</font>

270
00:09:09,250 --> 00:09:13,360
that's in essence just the first hop in

271
00:09:11,560 --> 00:09:15,400
the network and then we've got<font color="#E5E5E5"> the exit</font>

272
00:09:13,360 --> 00:09:17,620
relay which is where Alice's traffic

273
00:09:15,400 --> 00:09:20,740
exits from<font color="#E5E5E5"> the network now the way in</font>

274
00:09:17,620 --> 00:09:23,200
the sort<font color="#E5E5E5"> of that sort of resilience if</font>

275
00:09:20,740 --> 00:09:26,020
you like to compromise of a single node

276
00:09:23,200 --> 00:09:27,970
is provided is through encryption sort

277
00:09:26,020 --> 00:09:29,170
of several layers of encryption layers

278
00:09:27,970 --> 00:09:31,330
of an onion if you've ever seen the

279
00:09:29,170 --> 00:09:32,770
<font color="#E5E5E5">taller go expecting an onion it was</font>

280
00:09:31,330 --> 00:09:34,210
<font color="#E5E5E5">originally called Onion Routing all that</font>

281
00:09:32,770 --> 00:09:35,829
sort of deviated up from<font color="#E5E5E5"> that little bit</font>

282
00:09:34,210 --> 00:09:37,690
now so here we've got<font color="#E5E5E5"> some data which</font>

283
00:09:35,830 --> 00:09:39,610
<font color="#CCCCCC">the user wishes to send out to a web</font>

284
00:09:37,690 --> 00:09:42,010
server all the way down this hand side

285
00:09:39,610 --> 00:09:43,960
what this user does is she encrypts it

286
00:09:42,010 --> 00:09:45,700
to the first node and then she takes

287
00:09:43,960 --> 00:09:47,950
<font color="#E5E5E5">that encryption to the first node and</font>

288
00:09:45,700 --> 00:09:49,600
encrypts that so wraps it in another

289
00:09:47,950 --> 00:09:51,640
layer of encryption to the second node

290
00:09:49,600 --> 00:09:53,920
and then takes<font color="#E5E5E5"> that and encryption yet</font>

291
00:09:51,640 --> 00:09:55,689
another layer encryption to the final

292
00:09:53,920 --> 00:09:57,459
node so what's actually coming to<font color="#E5E5E5"> the</font>

293
00:09:55,690 --> 00:10:00,790
guard note here is the data encrypted

294
00:09:57,460 --> 00:10:02,950
three times this god node can unwrap the

295
00:10:00,790 --> 00:10:04,540
outer layer that has been encrypted to

296
00:10:02,950 --> 00:10:06,550
him as one of the layers so you can

297
00:10:04,540 --> 00:10:08,680
unwrap<font color="#CCCCCC"> the outer layer and work out</font>

298
00:10:06,550 --> 00:10:10,510
where next<font color="#CCCCCC"> the traffic is going to go to</font>

299
00:10:08,680 --> 00:10:12,939
so in this case it can forward the

300
00:10:10,510 --> 00:10:14,920
traffic on to be but<font color="#E5E5E5"> again bc's the</font>

301
00:10:12,940 --> 00:10:17,350
traffic it's wrapped in two layers of

302
00:10:14,920 --> 00:10:19,360
<font color="#E5E5E5">encryption it can only unwrap one layer</font>

303
00:10:17,350 --> 00:10:20,710
of<font color="#E5E5E5"> the encryption and then run wraps</font>

304
00:10:19,360 --> 00:10:23,620
that tells you where it's going<font color="#E5E5E5"> to next</font>

305
00:10:20,710 --> 00:10:25,840
<font color="#E5E5E5">and so on and then it gets to see can</font>

306
00:10:23,620 --> 00:10:27,100
unwrap the<font color="#CCCCCC"> last layer encryption which</font>

307
00:10:25,840 --> 00:10:29,110
actually gives you the data and then

308
00:10:27,100 --> 00:10:30,970
<font color="#E5E5E5">this final exit node sends it out to out</font>

309
00:10:29,110 --> 00:10:34,660
to your destination now the idea here is

310
00:10:30,970 --> 00:10:36,550
that any individual node in this path or

311
00:10:34,660 --> 00:10:39,130
in this circuit only knows<font color="#CCCCCC"> about the</font>

312
00:10:36,550 --> 00:10:40,599
node before it and the node after it

313
00:10:39,130 --> 00:10:42,040
doesn't know about any other nodes in

314
00:10:40,600 --> 00:10:43,990
the circuit so even if you built a very

315
00:10:42,040 --> 00:10:46,449
look much much longer path you couldn't

316
00:10:43,990 --> 00:10:47,590
work out you know where those nodes were

317
00:10:46,450 --> 00:10:53,450
so you weren't<font color="#CCCCCC"> even sure which one is</font>

318
00:10:47,590 --> 00:10:55,910
necessary to compromise now let's do

319
00:10:53,450 --> 00:10:59,270
about a<font color="#E5E5E5"> couple of</font><font color="#CCCCCC"> things so dunno what</font>

320
00:10:55,910 --> 00:11:01,160
differ hominis so if i told you that the

321
00:10:59,270 --> 00:11:05,260
exchange of<font color="#E5E5E5"> cryptographic keys was done</font>

322
00:11:01,160 --> 00:11:05,260
with diffie-hellman what would that mean

323
00:11:06,610 --> 00:11:16,430
who's<font color="#E5E5E5"> talking it's not know because it's</font>

324
00:11:14,780 --> 00:11:20,890
<font color="#CCCCCC">really it</font><font color="#E5E5E5"> is because it's authenticated</font>

325
00:11:16,430 --> 00:11:20,890
different it's authenticated if ammonia

326
00:11:21,190 --> 00:11:24,920
perfect forward secrecy is the thing

327
00:11:23,180 --> 00:11:26,930
that<font color="#E5E5E5"> I'm looking for what that means is</font>

328
00:11:24,920 --> 00:11:28,459
that if for example<font color="#E5E5E5"> you're able to</font>

329
00:11:26,930 --> 00:11:29,780
collect all traffic going through the

330
00:11:28,460 --> 00:11:31,100
Tor network and store it you had a

331
00:11:29,780 --> 00:11:32,959
massive data center I don't know who

332
00:11:31,100 --> 00:11:34,850
does that obviously<font color="#E5E5E5"> you know store that</font>

333
00:11:32,960 --> 00:11:37,370
over time right and then at some point

334
00:11:34,850 --> 00:11:38,900
in the future you're<font color="#E5E5E5"> able to find out</font>

335
00:11:37,370 --> 00:11:40,340
one of<font color="#E5E5E5"> the keys for the tour</font><font color="#CCCCCC"> note one of</font>

336
00:11:38,900 --> 00:11:42,079
the tour nodes you wouldn't be able to

337
00:11:40,340 --> 00:11:44,090
<font color="#E5E5E5">decrypt traffic going back into the past</font>

338
00:11:42,080 --> 00:11:45,710
and that's<font color="#E5E5E5"> what you said quite correctly</font>

339
00:11:44,090 --> 00:11:47,330
with perfect forward secrecy this is a

340
00:11:45,710 --> 00:11:49,610
property of a diff we harm and key

341
00:11:47,330 --> 00:11:51,770
agreement protocol which is I guess

342
00:11:49,610 --> 00:11:53,990
comes under the umbrella of asymmetric

343
00:11:51,770 --> 00:11:55,189
cryptography along with our essay RSA

344
00:11:53,990 --> 00:11:56,510
doesn't provide this<font color="#E5E5E5"> and that's why</font>

345
00:11:55,190 --> 00:11:58,280
there's sort of a shift at<font color="#E5E5E5"> the moment to</font>

346
00:11:56,510 --> 00:11:59,630
try and push people to use differ

347
00:11:58,280 --> 00:12:00,829
<font color="#E5E5E5">hammond with our web servers and so on</font>

348
00:11:59,630 --> 00:12:02,390
because it provides us<font color="#E5E5E5"> you know you</font>

349
00:12:00,830 --> 00:12:04,160
can't<font color="#E5E5E5"> decrypt stuff going back into the</font>

350
00:12:02,390 --> 00:12:08,660
past there's very nice property<font color="#E5E5E5"> for for</font>

351
00:12:04,160 --> 00:12:10,189
taught a half so before<font color="#CCCCCC"> I get</font><font color="#E5E5E5"> on to</font>

352
00:12:08,660 --> 00:12:12,199
actually<font color="#E5E5E5"> doing that the anonymizer taps</font>

353
00:12:10,190 --> 00:12:13,790
and so on for those of you that may<font color="#E5E5E5"> have</font>

354
00:12:12,200 --> 00:12:14,780
had sort of a loose experience with tor

355
00:12:13,790 --> 00:12:16,189
you know something might have visited

356
00:12:14,780 --> 00:12:17,449
the website you<font color="#E5E5E5"> might used it once and</font>

357
00:12:16,190 --> 00:12:19,520
thought yours is really<font color="#E5E5E5"> slow I'm not</font>

358
00:12:17,450 --> 00:12:20,750
going to use this anymore in any way I'm

359
00:12:19,520 --> 00:12:22,069
<font color="#CCCCCC">not doing anything and</font><font color="#E5E5E5"> I'm not</font><font color="#CCCCCC"> trying to</font>

360
00:12:20,750 --> 00:12:23,900
bomb somewhere anything<font color="#E5E5E5"> anything like</font>

361
00:12:22,070 --> 00:12:25,940
that essentially<font color="#E5E5E5"> there's a different</font>

362
00:12:23,900 --> 00:12:28,550
there's a whole range<font color="#E5E5E5"> of different sort</font>

363
00:12:25,940 --> 00:12:30,140
of code projects associated with to the

364
00:12:28,550 --> 00:12:31,880
core one really the most important<font color="#CCCCCC"> one</font>

365
00:12:30,140 --> 00:12:33,530
is<font color="#E5E5E5"> the torque or program and this</font>

366
00:12:31,880 --> 00:12:35,840
essentially does all the functionalities

367
00:12:33,530 --> 00:12:38,689
to<font color="#E5E5E5"> be one of</font><font color="#CCCCCC"> those nodes and to be one</font>

368
00:12:35,840 --> 00:12:41,810
<font color="#CCCCCC">of</font><font color="#E5E5E5"> the clients essentially connecting</font>

369
00:12:38,690 --> 00:12:43,130
and using using<font color="#CCCCCC"> the network there are a</font>

370
00:12:41,810 --> 00:12:44,209
<font color="#E5E5E5">couple of other tools if you've been off</font>

371
00:12:43,130 --> 00:12:46,490
the tour website you've downloaded

372
00:12:44,210 --> 00:12:47,690
something the tor browser bundle is

373
00:12:46,490 --> 00:12:50,390
probably what you've<font color="#E5E5E5"> been directed to</font>

374
00:12:47,690 --> 00:12:52,520
first this is a web browser packaged

375
00:12:50,390 --> 00:12:54,140
with the tour client so essentially it

376
00:12:52,520 --> 00:12:56,180
makes it almost pointing click to use

377
00:12:54,140 --> 00:12:57,439
the tor browser and it provides loads of

378
00:12:56,180 --> 00:12:59,959
other safeguards against some of<font color="#E5E5E5"> the</font>

379
00:12:57,440 --> 00:13:02,380
sort of you know easier attacks that

380
00:12:59,960 --> 00:13:04,430
we'll talk about in a few slides times

381
00:13:02,380 --> 00:13:06,230
if<font color="#E5E5E5"> you use tor like a couple of years</font>

382
00:13:04,430 --> 00:13:07,010
ago<font color="#E5E5E5"> so you know that's going about three</font>

383
00:13:06,230 --> 00:13:08,780
or four<font color="#E5E5E5"> years</font>

384
00:13:07,010 --> 00:13:10,370
the Dahlia was a control mechanism to

385
00:13:08,780 --> 00:13:12,589
control the tour<font color="#CCCCCC"> pro and gave a</font><font color="#E5E5E5"> nice</font>

386
00:13:10,370 --> 00:13:14,540
little GUI interface to use it<font color="#E5E5E5"> and so on</font>

387
00:13:12,590 --> 00:13:16,190
tour affiant or socks are really nice

388
00:13:14,540 --> 00:13:18,380
their command line programs that allow

389
00:13:16,190 --> 00:13:20,630
you to route essentially<font color="#E5E5E5"> any TCP</font>

390
00:13:18,380 --> 00:13:23,300
application through<font color="#CCCCCC"> tor so for example</font>

391
00:13:20,630 --> 00:13:25,400
you can root ssh traffic through tor you

392
00:13:23,300 --> 00:13:27,829
could route IRC traffic if any RC

393
00:13:25,400 --> 00:13:29,900
<font color="#CCCCCC">network didn't block tour which is most</font>

394
00:13:27,830 --> 00:13:31,430
<font color="#E5E5E5">of them do unfortunately you could rely</font>

395
00:13:29,900 --> 00:13:32,630
see traffic through tor and so on<font color="#E5E5E5"> and so</font>

396
00:13:31,430 --> 00:13:34,250
forth so you can essentially take any

397
00:13:32,630 --> 00:13:36,500
application that's really<font color="#E5E5E5"> nice at the</font>

398
00:13:34,250 --> 00:13:38,240
university is what I lab you can't ssh

399
00:13:36,500 --> 00:13:39,500
out of the lab because the firewall

400
00:13:38,240 --> 00:13:41,600
people are a bit<font color="#E5E5E5"> crazy and they</font><font color="#CCCCCC"> think</font>

401
00:13:39,500 --> 00:13:42,830
<font color="#CCCCCC">it's dangerous</font><font color="#E5E5E5"> so you can go into the</font>

402
00:13:41,600 --> 00:13:45,200
lab and you<font color="#E5E5E5"> can run tour and you can</font>

403
00:13:42,830 --> 00:13:46,940
<font color="#CCCCCC">tell at all we've got a fascist firewall</font>

404
00:13:45,200 --> 00:13:48,470
that only allows certain types of forts

405
00:13:46,940 --> 00:13:49,970
out and it will try and route the

406
00:13:48,470 --> 00:13:51,800
traffic via report which is<font color="#E5E5E5"> allowed in</font>

407
00:13:49,970 --> 00:13:54,890
all of a sudden you can ssh out of

408
00:13:51,800 --> 00:14:02,060
things<font color="#CCCCCC"> who's use tor recently it's too</font>

409
00:13:54,890 --> 00:14:04,670
slow who's used toward<font color="#CCCCCC"> ten years ago was</font>

410
00:14:02,060 --> 00:14:06,290
<font color="#CCCCCC">tour slow yeah so if you use tor</font><font color="#E5E5E5"> ten</font>

411
00:14:04,670 --> 00:14:08,689
years ago it was really really slow

412
00:14:06,290 --> 00:14:09,890
right now it's<font color="#CCCCCC"> not so bad you actually</font>

413
00:14:08,690 --> 00:14:11,810
probably get used to it using it

414
00:14:09,890 --> 00:14:13,310
<font color="#CCCCCC">everyday if you chased and we</font><font color="#E5E5E5"> talked</font>

415
00:14:11,810 --> 00:14:15,979
about<font color="#E5E5E5"> why you might</font><font color="#CCCCCC"> want to see the</font>

416
00:14:13,310 --> 00:14:17,979
<font color="#E5E5E5">village</font><font color="#CCCCCC"> Bellator arm is just a command</font>

417
00:14:15,980 --> 00:14:20,090
line version of<font color="#CCCCCC"> Adalia sort of a</font>

418
00:14:17,980 --> 00:14:23,180
ministration tool for relays and so on

419
00:14:20,090 --> 00:14:24,410
or<font color="#E5E5E5"> bot is a an android client for tour</font>

420
00:14:23,180 --> 00:14:25,640
so<font color="#E5E5E5"> you can download that off the android</font>

421
00:14:24,410 --> 00:14:27,860
marketplace you can<font color="#E5E5E5"> make all of your</font>

422
00:14:25,640 --> 00:14:28,970
traffic anonymous coming<font color="#E5E5E5"> from your</font>

423
00:14:27,860 --> 00:14:32,210
<font color="#CCCCCC">android phone you can browse the</font>

424
00:14:28,970 --> 00:14:39,050
<font color="#E5E5E5">webinars anonymously and so on those run</font>

425
00:14:32,210 --> 00:14:40,520
exit relay what's exonerate<font color="#CCCCCC"> er if you</font>

426
00:14:39,050 --> 00:14:44,780
don't know what<font color="#E5E5E5"> exonerate is you</font>

427
00:14:40,520 --> 00:14:47,840
probably<font color="#E5E5E5"> should do so if you want a tour</font>

428
00:14:44,780 --> 00:14:51,140
exit relay which means<font color="#E5E5E5"> you're it's very</font>

429
00:14:47,840 --> 00:14:52,490
last hop in the chain anything a user

430
00:14:51,140 --> 00:14:54,590
does on<font color="#E5E5E5"> the internet through your</font>

431
00:14:52,490 --> 00:14:56,500
<font color="#E5E5E5">through essentially through your relay</font>

432
00:14:54,590 --> 00:14:58,640
appears to come from your IP address

433
00:14:56,500 --> 00:15:00,590
right so you're running this<font color="#E5E5E5"> on running</font>

434
00:14:58,640 --> 00:15:01,939
an exit relay someone you know publishes

435
00:15:00,590 --> 00:15:03,800
a terrorist<font color="#CCCCCC"> manual or some</font><font color="#E5E5E5"> of those</font>

436
00:15:01,940 --> 00:15:06,350
lines you<font color="#CCCCCC"> know</font><font color="#E5E5E5"> the FBI seized the</font>

437
00:15:03,800 --> 00:15:07,729
website learn to hold my IP addresses in

438
00:15:06,350 --> 00:15:09,560
<font color="#CCCCCC">the in the logs sharing our it was me</font>

439
00:15:07,730 --> 00:15:12,350
that<font color="#E5E5E5"> uploaded the</font><font color="#CCCCCC"> uploaded the terrorist</font>

440
00:15:09,560 --> 00:15:14,030
manual to the website right exonerated

441
00:15:12,350 --> 00:15:15,560
essentially is a database of all<font color="#E5E5E5"> tour</font>

442
00:15:14,030 --> 00:15:17,569
nodes which ever run and where they're

443
00:15:15,560 --> 00:15:19,550
running and whether allow exit traffic

444
00:15:17,570 --> 00:15:20,390
from that node so if you were ever to

445
00:15:19,550 --> 00:15:22,040
get arrested you

446
00:15:20,390 --> 00:15:24,080
now keep in mind those are you running

447
00:15:22,040 --> 00:15:25,910
an exit relay I commend<font color="#E5E5E5"> you for running</font>

448
00:15:24,080 --> 00:15:30,230
an exit relay I really do commend you

449
00:15:25,910 --> 00:15:32,120
for running an exit really however has a

450
00:15:30,230 --> 00:15:34,670
real potential to screw up your day

451
00:15:32,120 --> 00:15:36,740
right I mean you may<font color="#E5E5E5"> sit there thinking</font>

452
00:15:34,670 --> 00:15:38,420
in<font color="#E5E5E5"> your chair you know what you know if</font>

453
00:15:36,740 --> 00:15:39,560
the police come to<font color="#E5E5E5"> my door yeah they're</font>

454
00:15:38,420 --> 00:15:40,790
going to be you know think it might be

455
00:15:39,560 --> 00:15:42,079
me but you know I'm<font color="#E5E5E5"> just going to tell</font>

456
00:15:40,790 --> 00:15:43,610
them<font color="#CCCCCC"> they're you i'm using tor and</font>

457
00:15:42,080 --> 00:15:44,840
they're going<font color="#E5E5E5"> to go away it's not going</font>

458
00:15:43,610 --> 00:15:45,980
to happen right<font color="#E5E5E5"> they're going</font><font color="#CCCCCC"> to come to</font>

459
00:15:44,840 --> 00:15:47,330
a house<font color="#CCCCCC"> i can take all your equipment</font>

460
00:15:45,980 --> 00:15:49,010
you know you're going to<font color="#E5E5E5"> be an under</font>

461
00:15:47,330 --> 00:15:50,330
investigation for six months<font color="#CCCCCC"> because it</font>

462
00:15:49,010 --> 00:15:51,860
gets put in the drawer no one looks at

463
00:15:50,330 --> 00:15:52,850
it for six months and for that six

464
00:15:51,860 --> 00:15:53,990
months you're going to think i'm going

465
00:15:52,850 --> 00:15:56,090
to<font color="#E5E5E5"> go to jail or not you know it's</font>

466
00:15:53,990 --> 00:15:57,410
<font color="#E5E5E5">really a really life-changing sort of</font>

467
00:15:56,090 --> 00:15:58,850
consequence<font color="#CCCCCC"> I know a</font><font color="#E5E5E5"> couple of people</font>

468
00:15:57,410 --> 00:16:00,740
who have run tour<font color="#CCCCCC"> really so actually</font>

469
00:15:58,850 --> 00:16:02,690
essentially been through that situation

470
00:16:00,740 --> 00:16:04,340
so you know think very<font color="#CCCCCC"> carefully</font><font color="#E5E5E5"> before</font>

471
00:16:02,690 --> 00:16:05,750
you run an exit relay you don't have to

472
00:16:04,340 --> 00:16:07,190
run an exit relay right you come<font color="#E5E5E5"> running</font>

473
00:16:05,750 --> 00:16:09,020
out any<font color="#CCCCCC"> other relay and be completely</font>

474
00:16:07,190 --> 00:16:12,290
safe<font color="#CCCCCC"> but if you do run an exit relay you</font>

475
00:16:09,020 --> 00:16:16,370
really are you know well done but oh my

476
00:16:12,290 --> 00:16:17,660
god not something I would do right I'll

477
00:16:16,370 --> 00:16:19,280
talk if I if we<font color="#E5E5E5"> get some time</font><font color="#CCCCCC"> at the end</font>

478
00:16:17,660 --> 00:16:20,839
I'll explain some precautions you could

479
00:16:19,280 --> 00:16:22,040
take and maybe you guys who contribute

480
00:16:20,840 --> 00:16:23,690
some good proportions you can take on

481
00:16:22,040 --> 00:16:25,550
trying to minimize the risk from from

482
00:16:23,690 --> 00:16:26,750
running exit we do so it's on rate if

483
00:16:25,550 --> 00:16:28,609
you<font color="#E5E5E5"> ever get arrested you can point the</font>

484
00:16:26,750 --> 00:16:30,110
police exonerate ER and they can<font color="#E5E5E5"> look it</font>

485
00:16:28,610 --> 00:16:31,820
up and<font color="#E5E5E5"> if they knew what</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> laws which</font>

486
00:16:30,110 --> 00:16:32,930
they don't<font color="#E5E5E5"> they could tell you that</font>

487
00:16:31,820 --> 00:16:34,160
<font color="#E5E5E5">you're</font><font color="#CCCCCC"> on an exit relay and then they</font>

488
00:16:32,930 --> 00:16:37,489
<font color="#E5E5E5">just send you home and</font><font color="#CCCCCC"> give you a</font>

489
00:16:34,160 --> 00:16:39,230
computer's back which they were so in

490
00:16:37,490 --> 00:16:40,640
terms of the tour program so as I said

491
00:16:39,230 --> 00:16:43,040
the tour program is<font color="#CCCCCC"> the core thing it</font>

492
00:16:40,640 --> 00:16:44,990
runs on the android it runs on linux

493
00:16:43,040 --> 00:16:46,280
windows etc etc<font color="#E5E5E5"> essentially the same</font>

494
00:16:44,990 --> 00:16:48,440
<font color="#E5E5E5">codebase just with some minor changes</font>

495
00:16:46,280 --> 00:16:49,730
for the different platforms the tour

496
00:16:48,440 --> 00:16:51,500
program itself depending on the

497
00:16:49,730 --> 00:16:53,810
configuration opens up<font color="#CCCCCC"> four ports which</font>

498
00:16:51,500 --> 00:16:55,130
you can use if you're using it as a

499
00:16:53,810 --> 00:16:57,319
client essentially you're going to use

500
00:16:55,130 --> 00:16:58,970
the<font color="#CCCCCC"> Sox port which is</font><font color="#E5E5E5"> just a socks socks</font>

501
00:16:57,320 --> 00:17:00,860
proxy is just a<font color="#E5E5E5"> standard type of proxy</font>

502
00:16:58,970 --> 00:17:02,960
you can configure our web browser don't

503
00:17:00,860 --> 00:17:04,400
to use it you should use the tor browser

504
00:17:02,960 --> 00:17:05,660
bundle if you want to browse the web

505
00:17:04,400 --> 00:17:06,980
because your web browser will leak

506
00:17:05,660 --> 00:17:09,199
information which of whether<font color="#E5E5E5"> a second</font>

507
00:17:06,980 --> 00:17:11,270
and the two other ports<font color="#CCCCCC"> to port and</font>

508
00:17:09,199 --> 00:17:13,430
directory poor directory port we talked

509
00:17:11,270 --> 00:17:14,750
about<font color="#CCCCCC"> and</font><font color="#E5E5E5"> sec the tort is essentially</font>

510
00:17:13,430 --> 00:17:17,060
for all of the tour traffic which is

511
00:17:14,750 --> 00:17:18,800
going across across the network and then

512
00:17:17,060 --> 00:17:24,470
this<font color="#CCCCCC"> is final port called the control</font>

513
00:17:18,800 --> 00:17:26,209
port who knows smtp and pop you know who

514
00:17:24,470 --> 00:17:28,400
if<font color="#E5E5E5"> i give</font><font color="#CCCCCC"> you a telnet turn looking type</font>

515
00:17:26,209 --> 00:17:30,980
<font color="#E5E5E5">an</font><font color="#CCCCCC"> SMTP commands but so if</font><font color="#E5E5E5"> I told you</font>

516
00:17:28,400 --> 00:17:32,840
the control port was essentially an SMTP

517
00:17:30,980 --> 00:17:32,990
like protocol you know essentially what

518
00:17:32,840 --> 00:17:35,149
I

519
00:17:32,990 --> 00:17:37,610
right you<font color="#E5E5E5"> can type commands and in text</font>

520
00:17:35,150 --> 00:17:40,340
you<font color="#E5E5E5"> press</font><font color="#CCCCCC"> enter it tells you okay or no</font>

521
00:17:37,610 --> 00:17:41,689
<font color="#E5E5E5">a very very simple protocol and you</font><font color="#CCCCCC"> can</font>

522
00:17:40,340 --> 00:17:43,040
control tour you can<font color="#E5E5E5"> tell it to</font>

523
00:17:41,690 --> 00:17:44,210
establish different routes to the Tor

524
00:17:43,040 --> 00:17:46,580
network you can change all<font color="#E5E5E5"> the settings</font>

525
00:17:44,210 --> 00:17:48,050
at all and so on<font color="#CCCCCC"> so</font><font color="#E5E5E5"> start so forth so</font>

526
00:17:46,580 --> 00:17:49,159
really nice port to use if you want<font color="#CCCCCC"> to</font>

527
00:17:48,050 --> 00:17:50,330
fiddle around with tor and get to do

528
00:17:49,160 --> 00:17:55,429
some interesting things and<font color="#E5E5E5"> do some</font>

529
00:17:50,330 --> 00:17:58,610
research at all and so on<font color="#E5E5E5"> so I took one</font>

530
00:17:55,429 --> 00:18:01,990
of the slides out from some of the GCHQ

531
00:17:58,610 --> 00:18:04,580
NSA leaks from tour I actually<font color="#E5E5E5"> think I</font>

532
00:18:01,990 --> 00:18:06,020
don't work for<font color="#CCCCCC"> GCHQ NSA so I don't</font>

533
00:18:04,580 --> 00:18:08,510
<font color="#CCCCCC">really have</font><font color="#E5E5E5"> an insider view onto this I</font>

534
00:18:06,020 --> 00:18:10,730
think<font color="#CCCCCC"> actually GCHQ NSA are actually</font>

535
00:18:08,510 --> 00:18:12,679
behind the state of the art in terms of

536
00:18:10,730 --> 00:18:14,120
where academics are in terms of the

537
00:18:12,679 --> 00:18:15,650
state of the art for DN on amaizing toys

538
00:18:14,120 --> 00:18:17,629
they are using you know<font color="#E5E5E5"> they've</font>

539
00:18:15,650 --> 00:18:19,400
essentially got taps on you know big

540
00:18:17,630 --> 00:18:21,020
pipes coming into and out of countries

541
00:18:19,400 --> 00:18:22,880
all across the world you know they<font color="#CCCCCC"> can</font>

542
00:18:21,020 --> 00:18:24,379
see all the traffic they can inject

543
00:18:22,880 --> 00:18:26,690
traffic they can do essentially stuff

544
00:18:24,380 --> 00:18:28,520
which is cheating in my view<font color="#CCCCCC"> you know</font><font color="#E5E5E5"> to</font>

545
00:18:26,690 --> 00:18:30,080
do the ID anonymize people so<font color="#CCCCCC"> I said</font>

546
00:18:28,520 --> 00:18:32,480
earlier if<font color="#CCCCCC"> you want to browse the web</font>

547
00:18:30,080 --> 00:18:34,460
with tor don't configure your web

548
00:18:32,480 --> 00:18:36,410
browser Google Chrome to use tor use the

549
00:18:34,460 --> 00:18:37,820
tor browser bundle that one<font color="#CCCCCC"> reason for</font>

550
00:18:36,410 --> 00:18:39,140
this is if you're using tor right you

551
00:18:37,820 --> 00:18:40,850
want<font color="#E5E5E5"> to be</font><font color="#CCCCCC"> anonymous right you don't</font>

552
00:18:39,140 --> 00:18:42,200
want<font color="#E5E5E5"> anyone to know who you are now you</font>

553
00:18:40,850 --> 00:18:43,490
might<font color="#E5E5E5"> use google chrome to browse the</font>

554
00:18:42,200 --> 00:18:44,990
web and then a<font color="#E5E5E5"> little bit later you</font>

555
00:18:43,490 --> 00:18:46,820
change the Google Chrome settings to go

556
00:18:44,990 --> 00:18:48,290
through tour so you'd be anonymous but

557
00:18:46,820 --> 00:18:50,450
then your browser starts fetching the

558
00:18:48,290 --> 00:18:52,100
ads and the title bars of pages you know

559
00:18:50,450 --> 00:18:53,720
double click ads for example they<font color="#CCCCCC"> have a</font>

560
00:18:52,100 --> 00:18:56,000
unique tracking cookie which identifies

561
00:18:53,720 --> 00:18:57,650
you and some of<font color="#E5E5E5"> the NSA slide showed you</font>

562
00:18:56,000 --> 00:18:59,210
know there's a list<font color="#E5E5E5"> of nodes you know</font>

563
00:18:57,650 --> 00:19:00,770
here they are using tor and here they

564
00:18:59,210 --> 00:19:02,480
aren't using tor and here's the double

565
00:19:00,770 --> 00:19:04,280
click tracking idea it's<font color="#E5E5E5"> the same</font><font color="#CCCCCC"> thing</font>

566
00:19:02,480 --> 00:19:05,330
well we know it's the same person we

567
00:19:04,280 --> 00:19:06,889
know exactly<font color="#E5E5E5"> what they're doing every</font>

568
00:19:05,330 --> 00:19:08,240
time they go on I'll go on<font color="#E5E5E5"> the web so</font>

569
00:19:06,890 --> 00:19:10,520
the tor browser bundle tries to protect

570
00:19:08,240 --> 00:19:12,470
you against these sorts of things a very

571
00:19:10,520 --> 00:19:13,550
simple way on honor how you can sort of

572
00:19:12,470 --> 00:19:15,260
the anonymous people if you've got that

573
00:19:13,550 --> 00:19:16,970
sort<font color="#E5E5E5"> of super access to the network</font>

574
00:19:15,260 --> 00:19:19,820
which really most people don't don't

575
00:19:16,970 --> 00:19:21,350
have I put<font color="#E5E5E5"> this in quote marks I should</font>

576
00:19:19,820 --> 00:19:23,300
have put<font color="#E5E5E5"> this in quit marks dumb users</font>

577
00:19:21,350 --> 00:19:25,730
or naive users<font color="#E5E5E5"> really I should probably</font>

578
00:19:23,300 --> 00:19:28,190
say so you know users going on to forums

579
00:19:25,730 --> 00:19:29,840
and calling themselves<font color="#E5E5E5"> Gareth are in for</font>

580
00:19:28,190 --> 00:19:31,370
<font color="#E5E5E5">example</font><font color="#CCCCCC"> you know</font><font color="#E5E5E5"> as they username and</font>

581
00:19:29,840 --> 00:19:33,320
doing it through tor I mean<font color="#CCCCCC"> that's</font>

582
00:19:31,370 --> 00:19:34,639
really<font color="#E5E5E5"> dumb and stupid but i'm going to</font>

583
00:19:33,320 --> 00:19:36,500
give you an example of someone a little

584
00:19:34,640 --> 00:19:40,460
bit later who essentially essentially

585
00:19:36,500 --> 00:19:41,870
did that we know the NSA it from from

586
00:19:40,460 --> 00:19:44,750
<font color="#E5E5E5">the league's is actively involved in</font>

587
00:19:41,870 --> 00:19:45,739
exploitation so we're<font color="#E5E5E5"> going to talk</font>

588
00:19:44,750 --> 00:19:47,630
about one of the experts

589
00:19:45,740 --> 00:19:49,130
they developed<font color="#E5E5E5"> for</font><font color="#CCCCCC"> a little bit</font><font color="#E5E5E5"> later</font>

590
00:19:47,630 --> 00:19:51,260
but you<font color="#CCCCCC"> know essentially targeting</font>

591
00:19:49,130 --> 00:19:52,429
either hidden service websites just

592
00:19:51,260 --> 00:19:54,200
because you'll run a hidden<font color="#E5E5E5"> website</font>

593
00:19:52,429 --> 00:19:55,490
which automatic so it doesn't mean it's

594
00:19:54,200 --> 00:19:56,990
not what it<font color="#E5E5E5"> doesn't mean it's in</font>

595
00:19:55,490 --> 00:19:59,390
venerable to sort of<font color="#E5E5E5"> traditional</font>

596
00:19:56,990 --> 00:20:00,350
exploits and so on what primarily we're

597
00:19:59,390 --> 00:20:01,970
going to talk about is what called

598
00:20:00,350 --> 00:20:04,159
traffic confirmation and correlation

599
00:20:01,970 --> 00:20:06,050
attacks these are essentially what what

600
00:20:04,160 --> 00:20:08,570
i would call fundamental weaknesses<font color="#E5E5E5"> in</font>

601
00:20:06,050 --> 00:20:10,250
tour rather than you<font color="#CCCCCC"> know</font><font color="#E5E5E5"> sort of round</font>

602
00:20:08,570 --> 00:20:12,200
the edgiest types<font color="#CCCCCC"> attacks side-channel</font>

603
00:20:10,250 --> 00:20:13,400
attacks against<font color="#CCCCCC"> or you know which are</font>

604
00:20:12,200 --> 00:20:15,559
essentially cheating in a trying to

605
00:20:13,400 --> 00:20:17,240
exploit firefox or things like that i

606
00:20:15,559 --> 00:20:18,320
kind<font color="#E5E5E5"> of consider those cheating although</font>

607
00:20:17,240 --> 00:20:20,540
you know them and<font color="#E5E5E5"> they're very effective</font>

608
00:20:18,320 --> 00:20:22,220
and if you're if you're<font color="#E5E5E5"> the NSA or</font><font color="#CCCCCC"> GCHQ</font>

609
00:20:20,540 --> 00:20:26,780
then of course you know they work so why

610
00:20:22,220 --> 00:20:28,880
wouldn't i wouldn't they use them um so

611
00:20:26,780 --> 00:20:31,010
looking at the sort<font color="#E5E5E5"> of the NSA GCH site</font>

612
00:20:28,880 --> 00:20:32,809
at GCHQ slides it suggests they've had

613
00:20:31,010 --> 00:20:34,820
some success at doing something called

614
00:20:32,809 --> 00:20:36,740
traffic correlation academia has had a

615
00:20:34,820 --> 00:20:38,480
much much greater the other success and

616
00:20:36,740 --> 00:20:39,860
sort of trying<font color="#E5E5E5"> to rd anonymize people</font>

617
00:20:38,480 --> 00:20:41,690
without doing any kind of exploitation

618
00:20:39,860 --> 00:20:43,340
or any kind<font color="#E5E5E5"> of cheating or cheating on</font>

619
00:20:41,690 --> 00:20:45,290
on types of types of things so<font color="#CCCCCC"> in</font>

620
00:20:43,340 --> 00:20:46,820
explain precisely what they is<font color="#E5E5E5"> in second</font>

621
00:20:45,290 --> 00:20:48,678
but<font color="#E5E5E5"> first of all let</font><font color="#CCCCCC"> me explain to</font><font color="#E5E5E5"> you</font>

622
00:20:46,820 --> 00:20:50,510
how you build routes through the Tor

623
00:20:48,679 --> 00:20:51,920
network how do you<font color="#E5E5E5"> figure out what your</font>

624
00:20:50,510 --> 00:20:55,670
hops are going to be through that tor

625
00:20:51,920 --> 00:20:57,679
network well essentially if you run<font color="#CCCCCC"> a</font>

626
00:20:55,670 --> 00:20:59,510
<font color="#CCCCCC">tour relay when you first turn it on it</font>

627
00:20:57,679 --> 00:21:01,400
has to publish its information<font color="#CCCCCC"> with the</font>

628
00:20:59,510 --> 00:21:03,800
directory authority there's essentially

629
00:21:01,400 --> 00:21:05,559
<font color="#E5E5E5">ten authoritative directory authorities</font>

630
00:21:03,800 --> 00:21:07,340
you know they're essentially<font color="#E5E5E5"> the</font>

631
00:21:05,559 --> 00:21:09,260
gatekeepers if you like to the Tor

632
00:21:07,340 --> 00:21:11,240
network and they vote on relays that

633
00:21:09,260 --> 00:21:13,010
<font color="#E5E5E5">register with them so if a really you've</font>

634
00:21:11,240 --> 00:21:14,480
set<font color="#E5E5E5"> up a relay you register with all of</font>

635
00:21:13,010 --> 00:21:16,520
the director authorities and then they

636
00:21:14,480 --> 00:21:17,929
all vote on that relay so they observe

637
00:21:16,520 --> 00:21:19,100
<font color="#CCCCCC">over a period of time some</font><font color="#E5E5E5"> of them were</font>

638
00:21:17,929 --> 00:21:21,530
trying to establish circuits through

639
00:21:19,100 --> 00:21:23,120
them and so on<font color="#E5E5E5"> and so forth</font><font color="#CCCCCC"> and as they</font>

640
00:21:21,530 --> 00:21:25,760
do this<font color="#E5E5E5"> they'll vote on the reliability</font>

641
00:21:23,120 --> 00:21:30,469
<font color="#CCCCCC">of that relay for certain certain types</font>

642
00:21:25,760 --> 00:21:32,570
of properties now these directory

643
00:21:30,470 --> 00:21:34,880
authorities vote on<font color="#E5E5E5"> this information and</font>

644
00:21:32,570 --> 00:21:36,919
<font color="#E5E5E5">this voted on information is called</font>

645
00:21:34,880 --> 00:21:38,540
something mythical called the consensus

646
00:21:36,920 --> 00:21:40,040
which is<font color="#E5E5E5"> just essentially a list of</font>

647
00:21:38,540 --> 00:21:42,020
relays in the Tor network which have

648
00:21:40,040 --> 00:21:43,010
been voted upon by<font color="#E5E5E5"> these directory or</font>

649
00:21:42,020 --> 00:21:46,790
thorities so they're kind<font color="#CCCCCC"> of like</font><font color="#E5E5E5"> the</font>

650
00:21:43,010 --> 00:21:50,090
trusted in inverted commas relays if<font color="#CCCCCC"> you</font>

651
00:21:46,790 --> 00:21:51,440
like so the director authorities vote on

652
00:21:50,090 --> 00:21:52,669
all of these relays and the properties

653
00:21:51,440 --> 00:21:54,500
which they've been assigned<font color="#E5E5E5"> to them and</font>

654
00:21:52,670 --> 00:21:56,690
then they each of them signs the

655
00:21:54,500 --> 00:21:58,340
consensus with a cryptographic key and

656
00:21:56,690 --> 00:21:59,010
the public key component of<font color="#E5E5E5"> this is</font>

657
00:21:58,340 --> 00:22:01,860
embedded in

658
00:21:59,010 --> 00:22:03,270
the tour client so anyone can verify if

659
00:22:01,860 --> 00:22:05,340
you've got a genuine copy of the talk

660
00:22:03,270 --> 00:22:07,500
line you can verify<font color="#E5E5E5"> that consensus is</font>

661
00:22:05,340 --> 00:22:11,699
correct and what's in there<font color="#E5E5E5"> is correct</font>

662
00:22:07,500 --> 00:22:14,730
now if you run a relay each relay and

663
00:22:11,700 --> 00:22:19,500
we're<font color="#CCCCCC"> talking too fast or you'll let me</font>

664
00:22:14,730 --> 00:22:23,430
slow<font color="#E5E5E5"> down a little bit ago so when you</font>

665
00:22:19,500 --> 00:22:25,410
run a relay a relay it's just you know

666
00:22:23,430 --> 00:22:27,750
something which relays traffic right a

667
00:22:25,410 --> 00:22:30,750
guard<font color="#E5E5E5"> node is a relay and exit node is a</font>

668
00:22:27,750 --> 00:22:32,730
relay a relay is a relay and so on and

669
00:22:30,750 --> 00:22:34,110
<font color="#E5E5E5">so forth but what the directory</font>

670
00:22:32,730 --> 00:22:36,420
authorities do is give each of<font color="#CCCCCC"> the</font>

671
00:22:34,110 --> 00:22:37,979
relays flax or certain things which they

672
00:22:36,420 --> 00:22:39,570
should<font color="#E5E5E5"> be able to do or certain</font>

673
00:22:37,980 --> 00:22:42,560
properties which they had exhibited and

674
00:22:39,570 --> 00:22:45,870
so on<font color="#E5E5E5"> and so forth so if you run</font><font color="#CCCCCC"> a tour</font>

675
00:22:42,560 --> 00:22:47,240
relay and you run for<font color="#E5E5E5"> eight days and you</font>

676
00:22:45,870 --> 00:22:49,409
offer a certain<font color="#E5E5E5"> amount of bandwidth</font>

677
00:22:47,240 --> 00:22:51,000
after<font color="#CCCCCC"> some time after</font><font color="#E5E5E5"> eight days the</font>

678
00:22:49,410 --> 00:22:52,740
directory I thought you'd say<font color="#E5E5E5"> you're now</font>

679
00:22:51,000 --> 00:22:54,300
eligible to be a guard node you're now

680
00:22:52,740 --> 00:22:56,790
eligible to be that very first hop in

681
00:22:54,300 --> 00:22:58,320
the chain<font color="#E5E5E5"> and then over time over the</font>

682
00:22:56,790 --> 00:23:00,000
next to a couple of<font color="#CCCCCC"> weeks</font><font color="#E5E5E5"> or so you know</font>

683
00:22:58,320 --> 00:23:01,889
people<font color="#E5E5E5"> are start using as that using you</font>

684
00:23:00,000 --> 00:23:04,710
as their very first hop in the chain all

685
00:23:01,890 --> 00:23:06,420
right likewise<font color="#CCCCCC"> if you run a tour relay</font>

686
00:23:04,710 --> 00:23:08,250
and you set up tore up so that you can

687
00:23:06,420 --> 00:23:10,110
allow traffic to come out onto<font color="#CCCCCC"> the</font>

688
00:23:08,250 --> 00:23:11,580
internet from your don't you can run

689
00:23:10,110 --> 00:23:14,790
allow traffic to come out of<font color="#CCCCCC"> your</font><font color="#E5E5E5"> your</font>

690
00:23:11,580 --> 00:23:16,560
things onto the internet right the

691
00:23:14,790 --> 00:23:18,420
director authorities will vote you as an

692
00:23:16,560 --> 00:23:20,730
exit<font color="#CCCCCC"> node and say you know these nodes</font>

693
00:23:18,420 --> 00:23:22,860
are eligible to be exit nodes so went or

694
00:23:20,730 --> 00:23:24,720
<font color="#E5E5E5">clients select that path that's okay</font>

695
00:23:22,860 --> 00:23:26,610
well I'm going<font color="#E5E5E5"> to slip my first hot from</font>

696
00:23:24,720 --> 00:23:28,470
this got a set<font color="#CCCCCC"> of guards I'm going</font><font color="#E5E5E5"> to</font>

697
00:23:26,610 --> 00:23:30,060
<font color="#E5E5E5">select my exit node from the set of exit</font>

698
00:23:28,470 --> 00:23:31,680
exit nodes and I'm<font color="#E5E5E5"> just going to pick</font>

699
00:23:30,060 --> 00:23:37,260
one randomly front from the remainder

700
00:23:31,680 --> 00:23:38,730
that are there so<font color="#E5E5E5"> as I say the directive</font>

701
00:23:37,260 --> 00:23:40,920
authorities vote on these they give them

702
00:23:38,730 --> 00:23:42,090
certain types of flags and if you'd be

703
00:23:40,920 --> 00:23:44,460
running for eight days you get<font color="#E5E5E5"> the guard</font>

704
00:23:42,090 --> 00:23:49,970
flag if you allow exit you get an exit

705
00:23:44,460 --> 00:23:52,380
flag when would you get a bad exit flag

706
00:23:49,970 --> 00:23:53,820
yeah so if you're running<font color="#E5E5E5"> an exit relay</font>

707
00:23:52,380 --> 00:23:55,470
right you can see all<font color="#E5E5E5"> the traffic coming</font>

708
00:23:53,820 --> 00:23:56,970
out onto the internet from your node if

709
00:23:55,470 --> 00:24:00,090
you start trying<font color="#E5E5E5"> to man in the middle</font>

710
00:23:56,970 --> 00:24:01,890
ssl traffic there's a script which runs

711
00:24:00,090 --> 00:24:03,659
once through the exit nodes periodically

712
00:24:01,890 --> 00:24:06,210
trying to establish SSL connections out

713
00:24:03,660 --> 00:24:07,740
of the the tor exit nodes and picks<font color="#E5E5E5"> up</font>

714
00:24:06,210 --> 00:24:09,330
essentially<font color="#CCCCCC"> you know fake ssl</font>

715
00:24:07,740 --> 00:24:10,830
certificates coming back for the

716
00:24:09,330 --> 00:24:12,460
<font color="#E5E5E5">different things so at the moment or in</font>

717
00:24:10,830 --> 00:24:14,409
fact as of<font color="#E5E5E5"> Sunday there were</font>

718
00:24:12,460 --> 00:24:15,850
at least<font color="#E5E5E5"> seven bad exit nodes noticed</font>

719
00:24:14,410 --> 00:24:16,810
you've been flagged as bad exit because

720
00:24:15,850 --> 00:24:18,399
<font color="#E5E5E5">they're doing these SSL</font>

721
00:24:16,810 --> 00:24:19,780
man-in-middle-attacks in fact a couple

722
00:24:18,400 --> 00:24:21,700
of weeks<font color="#CCCCCC"> ago there were 25 so this sort</font>

723
00:24:19,780 --> 00:24:24,520
of fluctuates up and down as tight as

724
00:24:21,700 --> 00:24:26,350
time goes on<font color="#E5E5E5"> but in theory your tour</font>

725
00:24:24,520 --> 00:24:28,389
client should never select a bad exit

726
00:24:26,350 --> 00:24:29,800
node as an exit node rights because

727
00:24:28,390 --> 00:24:31,330
they've been flagged already that

728
00:24:29,800 --> 00:24:32,560
doesn't mean there might not be an exit

729
00:24:31,330 --> 00:24:34,179
node which hasn't yet been flagged as

730
00:24:32,560 --> 00:24:37,419
one you know there's a bit of<font color="#E5E5E5"> a lag time</font>

731
00:24:34,180 --> 00:24:39,190
with much<font color="#CCCCCC"> of this so let's talk</font><font color="#E5E5E5"> about</font>

732
00:24:37,420 --> 00:24:40,690
some obvious attacks in terms of<font color="#E5E5E5"> D</font>

733
00:24:39,190 --> 00:24:42,490
anonymizing people<font color="#E5E5E5"> when I'm not talking</font>

734
00:24:40,690 --> 00:24:44,110
about<font color="#E5E5E5"> you know doing exploitation or you</font>

735
00:24:42,490 --> 00:24:44,920
know into stealing cookies or anything

736
00:24:44,110 --> 00:24:47,110
on those ones I'm talking about<font color="#CCCCCC"> a</font>

737
00:24:44,920 --> 00:24:50,140
fundamental weakness isn't all so if we

738
00:24:47,110 --> 00:24:53,379
<font color="#CCCCCC">look at</font><font color="#E5E5E5"> the tour the tour diagram for a</font>

739
00:24:50,140 --> 00:24:55,990
typical typical circuit if if you could

740
00:24:53,380 --> 00:24:58,570
control<font color="#E5E5E5"> or three of the relays then</font>

741
00:24:55,990 --> 00:25:00,220
rather obvious right you can d anonymize

742
00:24:58,570 --> 00:25:02,350
people you can see what<font color="#E5E5E5"> they're doing</font>

743
00:25:00,220 --> 00:25:04,750
<font color="#E5E5E5">but what a slightly worse than that is</font>

744
00:25:02,350 --> 00:25:06,939
if you control<font color="#E5E5E5"> just the exit and the</font>

745
00:25:04,750 --> 00:25:09,670
garden oder node you<font color="#CCCCCC"> can with high</font>

746
00:25:06,940 --> 00:25:11,080
probability still d anonymize people

747
00:25:09,670 --> 00:25:12,640
what we're essentially doing is looking

748
00:25:11,080 --> 00:25:15,070
for traffic patterns we're looking for

749
00:25:12,640 --> 00:25:16,780
packets coming in here that have say you

750
00:25:15,070 --> 00:25:18,310
know for example<font color="#E5E5E5"> you know five packets</font>

751
00:25:16,780 --> 00:25:20,200
with these particular delays between

752
00:25:18,310 --> 00:25:22,240
them for example<font color="#E5E5E5"> coming in the guard</font>

753
00:25:20,200 --> 00:25:23,860
node and then if we also control<font color="#CCCCCC"> neutral</font>

754
00:25:22,240 --> 00:25:25,540
<font color="#E5E5E5">the exit node water looking for that</font>

755
00:25:23,860 --> 00:25:27,219
sequence of packets coming out the exit

756
00:25:25,540 --> 00:25:29,230
node and then with<font color="#E5E5E5"> Korra correlating</font>

757
00:25:27,220 --> 00:25:30,850
them now the longer you establish a

758
00:25:29,230 --> 00:25:32,680
connection through the tour node the

759
00:25:30,850 --> 00:25:35,469
higher that probability becomes that in

760
00:25:32,680 --> 00:25:37,540
fact you are the same person essentially

761
00:25:35,470 --> 00:25:38,770
<font color="#E5E5E5">doing that traffic so it's</font><font color="#CCCCCC"> very much a</font>

762
00:25:37,540 --> 00:25:40,659
probabilistic attack it's not saying

763
00:25:38,770 --> 00:25:42,730
it's definitely this person but over

764
00:25:40,660 --> 00:25:47,730
time it becomes much much much closer to

765
00:25:42,730 --> 00:25:47,730
certain that it is in fact that person

766
00:25:50,040 --> 00:25:54,550
so really<font color="#CCCCCC"> these are</font><font color="#E5E5E5"> sort of truffle what</font>

767
00:25:53,170 --> 00:25:55,870
caused traffic correlation attacks we're

768
00:25:54,550 --> 00:25:59,050
trying to match the traffic coming in

769
00:25:55,870 --> 00:26:01,449
and the traffic going out up essentially

770
00:25:59,050 --> 00:26:03,040
can be used by a very powerful adversary

771
00:26:01,450 --> 00:26:04,780
I couldn't imagine one of those that<font color="#E5E5E5"> has</font>

772
00:26:03,040 --> 00:26:05,950
no could have taps everywhere but

773
00:26:04,780 --> 00:26:07,480
essentially could be used by a very

774
00:26:05,950 --> 00:26:09,970
powerful adversary now it's slightly

775
00:26:07,480 --> 00:26:11,290
worse in the case of the NSA<font color="#E5E5E5"> and gchq</font>

776
00:26:09,970 --> 00:26:12,970
because if you've got taps and lots of

777
00:26:11,290 --> 00:26:15,129
pipes in fact you don't even need to run

778
00:26:12,970 --> 00:26:16,990
relays you can just watch traffic going

779
00:26:15,130 --> 00:26:18,310
into an existing guard node and watch

780
00:26:16,990 --> 00:26:19,960
your traffic coming out of an existing

781
00:26:18,310 --> 00:26:21,520
<font color="#E5E5E5">exit relay and in fact you can</font><font color="#CCCCCC"> actually</font>

782
00:26:19,960 --> 00:26:23,530
set traffic here as well which pushes

783
00:26:21,520 --> 00:26:23,960
the probability up even higher that in

784
00:26:23,530 --> 00:26:26,930
fact<font color="#E5E5E5"> it</font>

785
00:26:23,960 --> 00:26:30,200
the same<font color="#E5E5E5"> person so when you've</font><font color="#CCCCCC"> got a</font>

786
00:26:26,930 --> 00:26:31,640
very<font color="#E5E5E5"> powerful adversary you know I don't</font>

787
00:26:30,200 --> 00:26:33,200
to say all bets are off it's still the

788
00:26:31,640 --> 00:26:35,750
best thing we've<font color="#CCCCCC"> got but it's certainly</font>

789
00:26:33,200 --> 00:26:37,490
not going guaranteed now the really

790
00:26:35,750 --> 00:26:39,740
interesting thing to note is here we've

791
00:26:37,490 --> 00:26:41,510
got three hops right if you edit the

792
00:26:39,740 --> 00:26:42,920
tour source code you can change the

793
00:26:41,510 --> 00:26:44,660
number of hops that your tour client

794
00:26:42,920 --> 00:26:46,520
bills and sort of<font color="#E5E5E5"> the</font><font color="#CCCCCC"> nights or the</font>

795
00:26:44,660 --> 00:26:47,990
natural way to think about it is well

796
00:26:46,520 --> 00:26:49,610
okay<font color="#E5E5E5"> well if three hops isn't enough</font>

797
00:26:47,990 --> 00:26:51,680
<font color="#CCCCCC">maybe I'll make</font><font color="#E5E5E5"> it four I'll make it</font>

798
00:26:49,610 --> 00:26:53,330
five<font color="#CCCCCC"> or six or seven or eight I'll have</font>

799
00:26:51,680 --> 00:26:55,690
as many hops as I like in my<font color="#E5E5E5"> particular</font>

800
00:26:53,330 --> 00:26:58,460
circuit it turns out in fact actually

801
00:26:55,690 --> 00:26:59,960
that doesn't increase your decrease very

802
00:26:58,460 --> 00:27:00,980
much your chances of being d<font color="#CCCCCC"> anonymize</font>

803
00:26:59,960 --> 00:27:02,600
because<font color="#CCCCCC"> i stay we're still doing</font>

804
00:27:00,980 --> 00:27:04,520
correlation attacks we're just<font color="#E5E5E5"> doing</font>

805
00:27:02,600 --> 00:27:06,469
them at the exit<font color="#E5E5E5"> and the guard relay it</font>

806
00:27:04,520 --> 00:27:07,910
doesn't really matter how many tops how

807
00:27:06,470 --> 00:27:09,950
many hops are in the<font color="#E5E5E5"> middle it just</font>

808
00:27:07,910 --> 00:27:11,930
changes the delays essentially between

809
00:27:09,950 --> 00:27:13,370
the garden<font color="#CCCCCC"> the exit node that's all the</font>

810
00:27:11,930 --> 00:27:15,170
time is<font color="#E5E5E5"> taking the traffic to travel</font>

811
00:27:13,370 --> 00:27:16,370
between the<font color="#E5E5E5"> two nodes through the Tor</font>

812
00:27:15,170 --> 00:27:17,960
network so it makes a little<font color="#E5E5E5"> bit harder</font>

813
00:27:16,370 --> 00:27:20,030
but not<font color="#E5E5E5"> really significantly harder so</font>

814
00:27:17,960 --> 00:27:22,100
the default case is to run three relays

815
00:27:20,030 --> 00:27:23,660
through a circuit and that's generally

816
00:27:22,100 --> 00:27:25,699
considered to be<font color="#E5E5E5"> sufficient provided all</font>

817
00:27:23,660 --> 00:27:26,630
of them haven't been no more than<font color="#CCCCCC"> two it</font>

818
00:27:25,700 --> 00:27:34,420
no more<font color="#E5E5E5"> than one of them is being</font>

819
00:27:26,630 --> 00:27:37,850
compromised so what's the question is

820
00:27:34,420 --> 00:27:39,290
how do<font color="#E5E5E5"> you get</font><font color="#CCCCCC"> to be at or node in</font>

821
00:27:37,850 --> 00:27:41,179
someone's circuit if<font color="#CCCCCC"> you want to do</font>

822
00:27:39,290 --> 00:27:42,710
<font color="#CCCCCC">naanum eyes them like</font><font color="#E5E5E5"> say we're</font><font color="#CCCCCC"> not a</font>

823
00:27:41,180 --> 00:27:44,270
powerful adversary<font color="#E5E5E5"> I'm just me and I</font>

824
00:27:42,710 --> 00:27:46,610
<font color="#E5E5E5">want to start d anonymizing one of you</font>

825
00:27:44,270 --> 00:27:48,050
how do<font color="#CCCCCC"> I go about doing on amaizing one</font>

826
00:27:46,610 --> 00:27:50,149
of you<font color="#E5E5E5"> I need</font><font color="#CCCCCC"> to control the guard node</font>

827
00:27:48,050 --> 00:27:51,620
and I need to control the exit load to

828
00:27:50,150 --> 00:27:53,660
do this traffic correlation and<font color="#CCCCCC"> D</font>

829
00:27:51,620 --> 00:27:55,639
anonymize you the question is how I get

830
00:27:53,660 --> 00:27:58,130
<font color="#CCCCCC">to be your guard node and how do I get</font>

831
00:27:55,640 --> 00:27:59,810
to be your exit node right I can't tell

832
00:27:58,130 --> 00:28:01,700
you which route to take through the<font color="#E5E5E5"> tour</font>

833
00:27:59,810 --> 00:28:03,620
node Tor network but essentially I can

834
00:28:01,700 --> 00:28:05,120
just run a large number of guard nodes

835
00:28:03,620 --> 00:28:07,129
and a large number of exit nodes and

836
00:28:05,120 --> 00:28:09,379
just hope with it by chance you happen

837
00:28:07,130 --> 00:28:10,970
to pick my garden load and my exit node

838
00:28:09,380 --> 00:28:12,590
<font color="#E5E5E5">right just by just by chance and then we</font>

839
00:28:10,970 --> 00:28:18,380
can do<font color="#CCCCCC"> the correlation attack and work</font>

840
00:28:12,590 --> 00:28:20,510
out in fact if it is you so tour tries

841
00:28:18,380 --> 00:28:23,150
to make this a little bit harder and try

842
00:28:20,510 --> 00:28:24,560
to make it really a lot<font color="#E5E5E5"> harder and say</font>

843
00:28:23,150 --> 00:28:26,450
if<font color="#E5E5E5"> you control the guard node and the</font>

844
00:28:24,560 --> 00:28:29,600
exit relay we can dear naanum eyes you

845
00:28:26,450 --> 00:28:31,460
right so what tour does is we says when

846
00:28:29,600 --> 00:28:34,429
when<font color="#CCCCCC"> you first start up tour you will</font>

847
00:28:31,460 --> 00:28:37,210
pick three guard notes and you'll keep

848
00:28:34,430 --> 00:28:38,230
them for a really long time

849
00:28:37,210 --> 00:28:39,820
and we're<font color="#CCCCCC"> talking between one to three</font>

850
00:28:38,230 --> 00:28:41,260
months<font color="#E5E5E5"> typically you'll keep these three</font>

851
00:28:39,820 --> 00:28:43,029
guard nodes as your guard<font color="#CCCCCC"> nose for</font>

852
00:28:41,260 --> 00:28:46,179
between<font color="#E5E5E5"> one and three months that means</font>

853
00:28:43,029 --> 00:28:48,090
that either on day one you're screwed

854
00:28:46,179 --> 00:28:51,520
<font color="#E5E5E5">because someone's got your guard node or</font>

855
00:28:48,090 --> 00:28:53,020
you're<font color="#E5E5E5"> not right so with high</font>

856
00:28:51,520 --> 00:28:55,120
probability you're not going to be

857
00:28:53,020 --> 00:28:56,440
screwed right on day one and for those

858
00:28:55,120 --> 00:28:58,658
three months<font color="#CCCCCC"> you're going</font><font color="#E5E5E5"> to essentially</font>

859
00:28:56,440 --> 00:29:00,370
<font color="#E5E5E5">going to be safe now the reason why I</font>

860
00:28:58,659 --> 00:29:02,110
kept for three months is because if Iran

861
00:29:00,370 --> 00:29:03,729
loads of God nodes and every time we

862
00:29:02,110 --> 00:29:05,500
established a new circuit<font color="#E5E5E5"> through the</font>

863
00:29:03,730 --> 00:29:07,029
network with different guard knows you

864
00:29:05,500 --> 00:29:08,590
know at some<font color="#CCCCCC"> point you're going to pick</font>

865
00:29:07,029 --> 00:29:09,880
my garden out yeah I can't deal

866
00:29:08,590 --> 00:29:11,590
otherwise all of your traffic but I

867
00:29:09,880 --> 00:29:14,140
candy anonymize the traffic youth but if

868
00:29:11,590 --> 00:29:16,090
you sent through my garden owed at that

869
00:29:14,140 --> 00:29:17,230
particular point in time so it's kind of

870
00:29:16,090 --> 00:29:18,850
like<font color="#E5E5E5"> an all enough thing you know we're</font>

871
00:29:17,230 --> 00:29:20,080
either going<font color="#E5E5E5"> to get you on day one or</font>

872
00:29:18,850 --> 00:29:21,850
we're not going<font color="#CCCCCC"> to get you at all and</font>

873
00:29:20,080 --> 00:29:25,178
this the guard knows tries to provide

874
00:29:21,850 --> 00:29:26,379
this scenario really is there any<font color="#E5E5E5"> sort</font>

875
00:29:25,179 --> 00:29:28,659
of way of<font color="#E5E5E5"> fixing this traffic</font>

876
00:29:26,380 --> 00:29:31,899
correlation there is something<font color="#CCCCCC"> called</font>

877
00:29:28,659 --> 00:29:34,630
high latency networks where you know you

878
00:29:31,899 --> 00:29:35,979
might go on<font color="#E5E5E5"> to ww waddup</font><font color="#CCCCCC"> curl UK you've</font>

879
00:29:34,630 --> 00:29:38,770
<font color="#E5E5E5">got to wait until tomorrow to get the</font>

880
00:29:35,980 --> 00:29:40,510
<font color="#E5E5E5">homepage right and that gives a much</font>

881
00:29:38,770 --> 00:29:41,649
much longer period before you know

882
00:29:40,510 --> 00:29:43,149
you're<font color="#E5E5E5"> going to get the homepage and</font>

883
00:29:41,649 --> 00:29:45,399
makes these traffic correlation attacks

884
00:29:43,149 --> 00:29:46,989
really quite impossible works fine with

885
00:29:45,399 --> 00:29:48,580
mail and those sorts of things well it

886
00:29:46,990 --> 00:29:50,770
depends<font color="#CCCCCC"> how urgent</font><font color="#E5E5E5"> emails or I guess but</font>

887
00:29:48,580 --> 00:29:52,689
it works works sort of okay with mail

888
00:29:50,770 --> 00:29:54,158
but not with real-time traffic where we

889
00:29:52,690 --> 00:29:55,779
want real-time traffic sort of web

890
00:29:54,159 --> 00:29:58,470
traffic and so on and<font color="#E5E5E5"> so forth so high</font>

891
00:29:55,779 --> 00:30:01,539
latency networks are essentially a

892
00:29:58,470 --> 00:30:03,880
partial<font color="#CCCCCC"> solution to this but not not</font>

893
00:30:01,539 --> 00:30:06,309
particular particle the<font color="#E5E5E5"> alternative is</font>

894
00:30:03,880 --> 00:30:07,779
we can start injecting traffic into<font color="#CCCCCC"> the</font>

895
00:30:06,309 --> 00:30:09,820
Tor network at different places we<font color="#CCCCCC"> can</font>

896
00:30:07,779 --> 00:30:12,250
start putting padding in so rather than

897
00:30:09,820 --> 00:30:14,830
just sending the sort of the the raw

898
00:30:12,250 --> 00:30:16,870
traffic between you know this node and

899
00:30:14,830 --> 00:30:19,059
this node this mode mode might choose at

900
00:30:16,870 --> 00:30:20,949
random to inject padding traffic into

901
00:30:19,059 --> 00:30:22,600
<font color="#E5E5E5">the connection this node might choose at</font>

902
00:30:20,950 --> 00:30:24,070
random to inject padding traffic and so

903
00:30:22,600 --> 00:30:26,020
on<font color="#E5E5E5"> and so on and so forth it's just</font>

904
00:30:24,070 --> 00:30:27,939
dummy traffic gets dropped<font color="#CCCCCC"> to the next</font>

905
00:30:26,020 --> 00:30:30,299
so makes this traffic correlation much

906
00:30:27,940 --> 00:30:32,620
much harder a present or doesn't do this

907
00:30:30,299 --> 00:30:34,690
primarily because<font color="#E5E5E5"> it overloads the</font>

908
00:30:32,620 --> 00:30:36,250
network with traffic and traffic on the

909
00:30:34,690 --> 00:30:37,470
Tor network is really constrained I

910
00:30:36,250 --> 00:30:39,760
don't have a huge<font color="#E5E5E5"> amount of traffic</font>

911
00:30:37,470 --> 00:30:41,740
traffic capability or bandwidth father

912
00:30:39,760 --> 00:30:43,840
so at the moment it's not done but it

913
00:30:41,740 --> 00:30:46,659
could provide some resistance but not

914
00:30:43,840 --> 00:30:48,459
not really foolproof so everything<font color="#E5E5E5"> I've</font>

915
00:30:46,659 --> 00:30:50,139
talked about so far is<font color="#CCCCCC"> okay yeah okay</font>

916
00:30:48,460 --> 00:30:50,509
you can do the traffic correlation<font color="#E5E5E5"> it's</font>

917
00:30:50,139 --> 00:30:53,389
<font color="#E5E5E5">um</font>

918
00:30:50,509 --> 00:30:54,109
realistic and so on<font color="#E5E5E5"> and so forth now I'm</font>

919
00:30:53,389 --> 00:30:55,549
going to talk to you about something

920
00:30:54,109 --> 00:30:56,599
called no I'm<font color="#E5E5E5"> not going to talk to about</font>

921
00:30:55,549 --> 00:30:58,429
this<font color="#E5E5E5"> first and</font><font color="#CCCCCC"> I'm going to talk about</font>

922
00:30:56,599 --> 00:31:00,439
hidden services it's much easier to do

923
00:30:58,429 --> 00:31:01,699
non mais people with hidden services and

924
00:31:00,440 --> 00:31:04,820
they win the<font color="#CCCCCC"> 10 says I'm gonna</font><font color="#E5E5E5"> talk</font>

925
00:31:01,699 --> 00:31:07,579
about censorship first day so I said

926
00:31:04,820 --> 00:31:09,408
tour can be used to bypass censorship so

927
00:31:07,579 --> 00:31:10,789
if I'm sat in China and I want<font color="#E5E5E5"> to read</font>

928
00:31:09,409 --> 00:31:12,409
about a particular website which is

929
00:31:10,789 --> 00:31:14,629
blocked by the Great Firewall of China

930
00:31:12,409 --> 00:31:16,519
you know<font color="#CCCCCC"> I could use tor for example I</font>

931
00:31:14,629 --> 00:31:18,198
can root my traffic through tor<font color="#CCCCCC"> China</font>

932
00:31:16,519 --> 00:31:20,269
can't see what I'm doing because my

933
00:31:18,199 --> 00:31:22,009
traffic is encrypted through tor and as

934
00:31:20,269 --> 00:31:23,719
long as I eggs out onto the<font color="#E5E5E5"> internet in</font>

935
00:31:22,009 --> 00:31:25,729
a different country to China it should

936
00:31:23,719 --> 00:31:27,409
in theory be<font color="#CCCCCC"> okay so there</font><font color="#E5E5E5"> are lots of</font>

937
00:31:25,729 --> 00:31:28,699
countries which are trying to block tour

938
00:31:27,409 --> 00:31:30,739
because of this because it can be<font color="#E5E5E5"> used</font>

939
00:31:28,699 --> 00:31:31,969
to bypass the censorship china is one of

940
00:31:30,739 --> 00:31:34,669
them they<font color="#CCCCCC"> are in</font><font color="#E5E5E5"> fact three or four</font>

941
00:31:31,969 --> 00:31:36,709
others this is a graph showing<font color="#E5E5E5"> the</font>

942
00:31:34,669 --> 00:31:39,139
traffic<font color="#E5E5E5"> out of a certain type of nodes</font>

943
00:31:36,709 --> 00:31:40,699
out of the Tor network coming from China

944
00:31:39,139 --> 00:31:42,139
and<font color="#E5E5E5"> you can see there's a rather big</font>

945
00:31:40,699 --> 00:31:44,329
drop at this point and never<font color="#E5E5E5"> really</font>

946
00:31:42,139 --> 00:31:46,039
quite recovers<font color="#E5E5E5"> China have been actively</font>

947
00:31:44,329 --> 00:31:48,049
trying to<font color="#E5E5E5"> block short tour and they've</font>

948
00:31:46,039 --> 00:31:50,479
tried a different sort of<font color="#CCCCCC"> different</font>

949
00:31:48,049 --> 00:31:51,979
touch techniques one very easy way<font color="#CCCCCC"> to</font>

950
00:31:50,479 --> 00:31:54,199
block tourists just download this

951
00:31:51,979 --> 00:31:55,549
consensus of all of the Reuters and say

952
00:31:54,199 --> 00:31:58,129
okay well I've got<font color="#E5E5E5"> a list of all of the</font>

953
00:31:55,549 --> 00:32:00,229
rooters I can just IP you know IP

954
00:31:58,129 --> 00:32:01,698
firewall them so that no one can contact

955
00:32:00,229 --> 00:32:04,249
them right very<font color="#E5E5E5"> very simple way to</font>

956
00:32:01,699 --> 00:32:05,419
firewall all the nodes out China and of

957
00:32:04,249 --> 00:32:06,619
course we can<font color="#E5E5E5"> download this consensus</font>

958
00:32:05,419 --> 00:32:10,369
once an hour and just update the

959
00:32:06,619 --> 00:32:12,439
firewall rules very very easy to put to

960
00:32:10,369 --> 00:32:14,569
stop people accessing tour that way so

961
00:32:12,440 --> 00:32:16,519
tours try to counter this by introducing

962
00:32:14,569 --> 00:32:17,899
something called bridges bridges are

963
00:32:16,519 --> 00:32:19,789
nodes which don't appear in<font color="#E5E5E5"> the</font>

964
00:32:17,899 --> 00:32:21,859
consensus they're essentially guard

965
00:32:19,789 --> 00:32:23,719
nodes for<font color="#E5E5E5"> not but essentially God knows</font>

966
00:32:21,859 --> 00:32:25,609
which you can use to connect into the

967
00:32:23,719 --> 00:32:27,319
Tor network but I'm not inside the

968
00:32:25,609 --> 00:32:29,658
consensus and they're not widely

969
00:32:27,319 --> 00:32:31,609
publicized so what you do is you go on

970
00:32:29,659 --> 00:32:33,499
to the tour website and you have to

971
00:32:31,609 --> 00:32:35,029
enter a capture and you get<font color="#E5E5E5"> given one or</font>

972
00:32:33,499 --> 00:32:36,139
two I<font color="#E5E5E5"> think that's three actually i</font>

973
00:32:35,029 --> 00:32:37,940
think you get<font color="#E5E5E5"> given a list of three</font>

974
00:32:36,139 --> 00:32:39,228
bridges which you could use to connect

975
00:32:37,940 --> 00:32:40,639
the<font color="#E5E5E5"> Tor network now you got to go</font>

976
00:32:39,229 --> 00:32:42,499
<font color="#E5E5E5">through a capture to get that list so</font>

977
00:32:40,639 --> 00:32:44,779
it's<font color="#E5E5E5"> very difficult to automate it you</font>

978
00:32:42,499 --> 00:32:45,919
can't wow there's a guy it was just me I

979
00:32:44,779 --> 00:32:48,409
<font color="#E5E5E5">wasn't there showing you how to rate</font>

980
00:32:45,919 --> 00:32:50,869
captures haha yeah<font color="#E5E5E5"> it's a bad example</font>

981
00:32:48,409 --> 00:32:52,940
right i mean it's a harder right hard it

982
00:32:50,869 --> 00:32:55,189
harder with captures so the<font color="#E5E5E5"> idea is you</font>

983
00:32:52,940 --> 00:32:57,289
know it's not publicly available so or

984
00:32:55,190 --> 00:32:58,729
not easy to get<font color="#CCCCCC"> the full list very very</font>

985
00:32:57,289 --> 00:33:00,499
<font color="#E5E5E5">hard to get the fullest so in theory you</font>

986
00:32:58,729 --> 00:33:01,909
can't block all bridges and in fact you

987
00:33:00,499 --> 00:33:03,770
know I could ask a friend in the UK to

988
00:33:01,909 --> 00:33:05,390
run a bridge not tell you an hour

989
00:33:03,770 --> 00:33:06,950
art it not go to China and I could use

990
00:33:05,390 --> 00:33:08,930
<font color="#CCCCCC">his computer to</font><font color="#E5E5E5"> connect to the tour node</font>

991
00:33:06,950 --> 00:33:12,410
it's not public anywhere so it kind of

992
00:33:08,930 --> 00:33:14,330
allows me in so China<font color="#E5E5E5"> has got a</font><font color="#CCCCCC"> little</font>

993
00:33:12,410 --> 00:33:16,940
<font color="#E5E5E5">bit cleverer so China has this thing</font>

994
00:33:14,330 --> 00:33:18,560
called the<font color="#E5E5E5"> great file is called the</font>

995
00:33:16,940 --> 00:33:20,030
Great Firewall of China I don't think

996
00:33:18,560 --> 00:33:22,129
<font color="#E5E5E5">it's actually called the great for</font>

997
00:33:20,030 --> 00:33:24,050
waterfowl of China but everyone calls it

998
00:33:22,130 --> 00:33:25,880
the Great Firewall of China so i'm going

999
00:33:24,050 --> 00:33:27,830
<font color="#E5E5E5">to call it a great firewall of china so</font>

1000
00:33:25,880 --> 00:33:29,570
the<font color="#E5E5E5"> Great Firewall of China sisters like</font>

1001
00:33:27,830 --> 00:33:31,580
<font color="#E5E5E5">round China sees all of the traffic</font>

1002
00:33:29,570 --> 00:33:33,050
coming out of China and they do deep

1003
00:33:31,580 --> 00:33:35,540
packet inspection which means they look

1004
00:33:33,050 --> 00:33:37,129
<font color="#E5E5E5">at the content of packets the content of</font>

1005
00:33:35,540 --> 00:33:39,409
the protocols going across the net and

1006
00:33:37,130 --> 00:33:41,480
do things based on<font color="#E5E5E5"> the content of this</font>

1007
00:33:39,410 --> 00:33:44,230
traffic<font color="#E5E5E5"> really sort of resource</font>

1008
00:33:41,480 --> 00:33:46,700
intensive thing so initially<font color="#CCCCCC"> China</font>

1009
00:33:44,230 --> 00:33:48,440
started just inspecting the initial

1010
00:33:46,700 --> 00:33:49,760
connection into the Tor network the

1011
00:33:48,440 --> 00:33:52,760
<font color="#E5E5E5">initial connection into the Tor network</font>

1012
00:33:49,760 --> 00:33:54,620
is done over SSL and<font color="#CCCCCC"> they sort</font><font color="#E5E5E5"> of look</font>

1013
00:33:52,760 --> 00:33:55,850
for sort<font color="#E5E5E5"> of triggers inside that initial</font>

1014
00:33:54,620 --> 00:33:58,070
connection it turns out<font color="#E5E5E5"> that or</font>

1015
00:33:55,850 --> 00:33:59,480
initially had certain characteristics

1016
00:33:58,070 --> 00:34:02,090
about the initial<font color="#E5E5E5"> connection which were</font>

1017
00:33:59,480 --> 00:34:03,470
fairly unique to talk so it's<font color="#E5E5E5"> trying to</font>

1018
00:34:02,090 --> 00:34:04,610
would use those as sort of an initial

1019
00:34:03,470 --> 00:34:06,800
trigger and then it would actually

1020
00:34:04,610 --> 00:34:09,799
connect to that node so sorry<font color="#CCCCCC"> i'm in</font>

1021
00:34:06,800 --> 00:34:11,330
<font color="#CCCCCC">china i connect to a node connect to a</font>

1022
00:34:09,800 --> 00:34:14,120
rehearsal cell and<font color="#CCCCCC"> i send these sort of</font>

1023
00:34:11,330 --> 00:34:16,040
unique triggers the thing I that sort<font color="#E5E5E5"> of</font>

1024
00:34:14,120 --> 00:34:18,139
like<font color="#E5E5E5"> all almost identifies it as tour</font>

1025
00:34:16,040 --> 00:34:19,520
traffic we're not quite and then I<font color="#E5E5E5"> you</font>

1026
00:34:18,139 --> 00:34:21,799
<font color="#E5E5E5">know start sending my tour traffic to</font>

1027
00:34:19,520 --> 00:34:23,929
the Great Firewall of China records that

1028
00:34:21,800 --> 00:34:26,240
connection and then about 15 minutes

1029
00:34:23,929 --> 00:34:28,130
later another computer in China will

1030
00:34:26,239 --> 00:34:30,500
connect to<font color="#E5E5E5"> it and try</font><font color="#CCCCCC"> and start talking</font>

1031
00:34:28,130 --> 00:34:32,149
tall and if the computer comes back and

1032
00:34:30,500 --> 00:34:33,739
says yeah I'm tour what traffic do you

1033
00:34:32,149 --> 00:34:35,989
want to route then the great for why

1034
00:34:33,739 --> 00:34:37,250
will a china blocks here right this was

1035
00:34:35,989 --> 00:34:39,020
spotted by some research as a couple<font color="#E5E5E5"> of</font>

1036
00:34:37,250 --> 00:34:41,690
<font color="#E5E5E5">years</font><font color="#CCCCCC"> ago</font><font color="#E5E5E5"> this</font><font color="#CCCCCC"> is</font><font color="#E5E5E5"> a little graph showing</font>

1037
00:34:39,020 --> 00:34:43,610
how<font color="#CCCCCC"> long after the initial connection to</font>

1038
00:34:41,690 --> 00:34:45,679
a bridge the<font color="#CCCCCC"> Grateful wild Wall of China</font>

1039
00:34:43,610 --> 00:34:47,540
came in and actually scanned the node

1040
00:34:45,679 --> 00:34:49,550
and tried to talk tried to talk to<font color="#E5E5E5"> eat</font>

1041
00:34:47,540 --> 00:34:51,139
<font color="#CCCCCC">otter and</font><font color="#E5E5E5"> it was typically on 15 minute</font>

1042
00:34:49,550 --> 00:34:53,270
intervals throughout the following hour

1043
00:34:51,139 --> 00:34:54,440
depending on<font color="#CCCCCC"> the load of Trina depending</font>

1044
00:34:53,270 --> 00:34:56,239
<font color="#CCCCCC">on</font><font color="#E5E5E5"> the time of day and</font><font color="#CCCCCC"> if</font><font color="#E5E5E5"> China was</font>

1045
00:34:54,440 --> 00:34:57,980
particularly busy you know let's see

1046
00:34:56,239 --> 00:34:59,390
traffic come out there might add this no

1047
00:34:57,980 --> 00:35:01,190
to a queue and so you need to check this

1048
00:34:59,390 --> 00:35:02,480
later on and they'll have some computer

1049
00:35:01,190 --> 00:35:03,950
somewhere else that would connect<font color="#E5E5E5"> to LA</font>

1050
00:35:02,480 --> 00:35:05,839
today you know with

1051
00:35:03,950 --> 00:35:07,990
next hour or so try and<font color="#E5E5E5"> talk tour and if</font>

1052
00:35:05,839 --> 00:35:09,470
it was that<font color="#E5E5E5"> block it and they just</font>

1053
00:35:07,990 --> 00:35:11,629
researchers do some<font color="#E5E5E5"> really interesting</font>

1054
00:35:09,470 --> 00:35:13,399
things you know they took that they sort

1055
00:35:11,630 --> 00:35:14,960
of recording all the IP address<font color="#CCCCCC"> which</font>

1056
00:35:13,400 --> 00:35:16,339
tall was connecting to all these bridges

1057
00:35:14,960 --> 00:35:18,290
and there was a large number of IP

1058
00:35:16,339 --> 00:35:19,700
addresses so and it's definitely right

1059
00:35:18,290 --> 00:35:22,400
it's definitely a nation-state type

1060
00:35:19,700 --> 00:35:23,960
thing they also try<font color="#E5E5E5"> to cover other</font>

1061
00:35:22,400 --> 00:35:25,040
things they fragmented the packet so if

1062
00:35:23,960 --> 00:35:27,050
any of you doing sort of low-level

1063
00:35:25,040 --> 00:35:28,640
networking stuff you can break a packet

1064
00:35:27,050 --> 00:35:30,349
down into smaller chunks by a process

1065
00:35:28,640 --> 00:35:31,940
called fragmentation it turns out that

1066
00:35:30,349 --> 00:35:33,619
if you fragmented the packets the great

1067
00:35:31,940 --> 00:35:35,750
wall<font color="#CCCCCC"> of fire water</font><font color="#E5E5E5"> China didn't do</font>

1068
00:35:33,619 --> 00:35:37,280
fragment reassembly to reassemble the

1069
00:35:35,750 --> 00:35:39,980
packets and actually check the content

1070
00:35:37,280 --> 00:35:41,510
of it<font color="#E5E5E5"> just ignored it so you know I mean</font>

1071
00:35:39,980 --> 00:35:43,010
that's expensive right for a firewall

1072
00:35:41,510 --> 00:35:45,079
where you're you're doing<font color="#E5E5E5"> like a whole</font>

1073
00:35:43,010 --> 00:35:46,300
country<font color="#E5E5E5"> so they find you could fragment</font>

1074
00:35:45,079 --> 00:35:48,380
the traffic and<font color="#E5E5E5"> that let it through</font>

1075
00:35:46,300 --> 00:35:49,880
there's also something if you look

1076
00:35:48,380 --> 00:35:51,920
through the tour specs tour<font color="#E5E5E5"> have a</font>

1077
00:35:49,880 --> 00:35:53,660
couple of RFC's<font color="#E5E5E5"> type documentary stay</font>

1078
00:35:51,920 --> 00:35:55,280
right great stuff to send you off to

1079
00:35:53,660 --> 00:35:56,540
sleep but if you it is<font color="#E5E5E5"> sort of</font><font color="#CCCCCC"> paying</font>

1080
00:35:55,280 --> 00:35:57,440
<font color="#CCCCCC">attention and your spot in there there's</font>

1081
00:35:56,540 --> 00:35:59,210
actually a section on there something

1082
00:35:57,440 --> 00:36:01,849
<font color="#CCCCCC">called authenticate which means when you</font>

1083
00:35:59,210 --> 00:36:03,380
first connect to a bridge if you can

1084
00:36:01,849 --> 00:36:05,420
figure this option<font color="#CCCCCC"> the bridge will sit</font>

1085
00:36:03,380 --> 00:36:07,000
there and it won't do anything until you

1086
00:36:05,420 --> 00:36:09,470
send essentially the correct password

1087
00:36:07,000 --> 00:36:11,510
you can send it anything you like and it

1088
00:36:09,470 --> 00:36:13,189
will just ignore you until you send the

1089
00:36:11,510 --> 00:36:15,170
correct<font color="#E5E5E5"> passage that means now the great</font>

1090
00:36:13,190 --> 00:36:16,700
for Wyatt Firewall of China needs to

1091
00:36:15,170 --> 00:36:18,560
know<font color="#CCCCCC"> about the bridge in advance and</font>

1092
00:36:16,700 --> 00:36:21,049
needs to<font color="#E5E5E5"> know the password for it to</font>

1093
00:36:18,560 --> 00:36:24,529
<font color="#E5E5E5">scan it and see in fact if it is a tour</font>

1094
00:36:21,050 --> 00:36:25,730
bridge amor but you know you can kind of

1095
00:36:24,530 --> 00:36:27,530
see<font color="#E5E5E5"> this is kind of end up going to be a</font>

1096
00:36:25,730 --> 00:36:28,700
cat and<font color="#E5E5E5"> mouse game you know where you</font>

1097
00:36:27,530 --> 00:36:30,319
know tours going to change something

1098
00:36:28,700 --> 00:36:31,310
China's<font color="#E5E5E5"> going to catch up towards me I</font>

1099
00:36:30,319 --> 00:36:33,529
changed something it's going to<font color="#E5E5E5"> just</font>

1100
00:36:31,310 --> 00:36:35,089
keep going like this forever for tall

1101
00:36:33,530 --> 00:36:36,470
project or implementing something called

1102
00:36:35,089 --> 00:36:37,700
pluggable transports where essentially

1103
00:36:36,470 --> 00:36:39,589
you<font color="#CCCCCC"> can have you know</font><font color="#E5E5E5"> a thousand</font>

1104
00:36:37,700 --> 00:36:41,899
<font color="#E5E5E5">different modules that implement or</font>

1105
00:36:39,589 --> 00:36:44,569
perhaps over a custom protocol over an

1106
00:36:41,900 --> 00:36:46,430
existing protocol etc etc and users can

1107
00:36:44,569 --> 00:36:47,750
just plug in them into tour and<font color="#CCCCCC"> you use</font>

1108
00:36:46,430 --> 00:36:50,629
a<font color="#CCCCCC"> particular type of protocol to talk</font>

1109
00:36:47,750 --> 00:36:54,050
out of<font color="#E5E5E5"> China so it can't get pizza I the</font>

1110
00:36:50,630 --> 00:36:55,579
firewall so let's<font color="#E5E5E5"> get</font><font color="#CCCCCC"> on</font><font color="#E5E5E5"> to hidden</font>

1111
00:36:54,050 --> 00:37:00,349
service is really<font color="#E5E5E5"> the thing I want to</font>

1112
00:36:55,579 --> 00:37:03,589
talk<font color="#CCCCCC"> to you about who's who's beans with</font>

1113
00:37:00,349 --> 00:37:05,210
hidden service<font color="#E5E5E5"> okay about five or six of</font>

1114
00:37:03,589 --> 00:37:08,210
year I<font color="#E5E5E5"> mean that's there some D</font>

1115
00:37:05,210 --> 00:37:12,610
anonymization for you<font color="#CCCCCC"> they're busted</font>

1116
00:37:08,210 --> 00:37:15,160
right so

1117
00:37:12,610 --> 00:37:16,900
here we've got alice alice is our

1118
00:37:15,160 --> 00:37:19,000
typical use is you who wants to browse

1119
00:37:16,900 --> 00:37:21,280
the web and so on<font color="#E5E5E5"> and so forth and here</font>

1120
00:37:19,000 --> 00:37:23,230
we've got Bob Bob might live in<font color="#E5E5E5"> China</font>

1121
00:37:21,280 --> 00:37:25,120
and wants<font color="#CCCCCC"> to run a political bought a</font>

1122
00:37:23,230 --> 00:37:26,590
political blog opposing the government

1123
00:37:25,120 --> 00:37:28,060
right I mean you don't want to run that

1124
00:37:26,590 --> 00:37:29,230
<font color="#E5E5E5">on your own home IP address because the</font>

1125
00:37:28,060 --> 00:37:31,360
<font color="#E5E5E5">Chinese government's going to come and</font>

1126
00:37:29,230 --> 00:37:33,990
<font color="#E5E5E5">get you so you want to run it in a way</font>

1127
00:37:31,360 --> 00:37:37,480
<font color="#E5E5E5">which no one can find out where you are</font>

1128
00:37:33,990 --> 00:37:39,430
if no one can find out how where you are

1129
00:37:37,480 --> 00:37:41,020
how people that want to talk to you

1130
00:37:39,430 --> 00:37:42,609
going to find out where you<font color="#CCCCCC"> are well</font>

1131
00:37:41,020 --> 00:37:44,980
this is essentially what<font color="#E5E5E5"> hidden services</font>

1132
00:37:42,610 --> 00:37:46,600
they try to solve this problem in the

1133
00:37:44,980 --> 00:37:49,240
case of hidden services we<font color="#E5E5E5"> have a user</font>

1134
00:37:46,600 --> 00:37:51,370
visiting<font color="#CCCCCC"> a website called</font><font color="#E5E5E5"> Bob and both</font>

1135
00:37:49,240 --> 00:37:53,500
are anonymous to each other so Bob

1136
00:37:51,370 --> 00:37:55,390
doesn't know who or where<font color="#E5E5E5"> Alice's and</font>

1137
00:37:53,500 --> 00:37:57,100
Alice doesn't know who or where Bobby's

1138
00:37:55,390 --> 00:38:01,000
anything well how can that possibly work

1139
00:37:57,100 --> 00:38:03,279
I mean it's actually quite simple<font color="#E5E5E5"> so Bob</font>

1140
00:38:01,000 --> 00:38:05,590
when he first sets up his web server he

1141
00:38:03,280 --> 00:38:07,330
establishes circuits to something called

1142
00:38:05,590 --> 00:38:09,370
introduction points the three nodes

1143
00:38:07,330 --> 00:38:12,130
which he picks randomly from the

1144
00:38:09,370 --> 00:38:13,630
available tour relays and he picks three

1145
00:38:12,130 --> 00:38:15,040
of them called introduction points and

1146
00:38:13,630 --> 00:38:17,770
he builds a circuit to them so a typical

1147
00:38:15,040 --> 00:38:19,240
three hop circuit to that introduction

1148
00:38:17,770 --> 00:38:23,500
point so none of the<font color="#E5E5E5"> introduction points</font>

1149
00:38:19,240 --> 00:38:26,290
know who Bob is and then Bob Bob Bob Bob

1150
00:38:23,500 --> 00:38:27,670
Bob publishes the list of introduction

1151
00:38:26,290 --> 00:38:29,380
points to a database which we're going

1152
00:38:27,670 --> 00:38:31,420
to talk about in a second and<font color="#E5E5E5"> then it's</font>

1153
00:38:29,380 --> 00:38:33,220
available in this database now when I

1154
00:38:31,420 --> 00:38:35,110
just wants to talk<font color="#CCCCCC"> to Bob she goes to</font>

1155
00:38:33,220 --> 00:38:37,450
<font color="#CCCCCC">the</font><font color="#E5E5E5"> database she gets a list of</font>

1156
00:38:35,110 --> 00:38:39,070
introduction points so she builds a

1157
00:38:37,450 --> 00:38:40,810
circuit to<font color="#E5E5E5"> the introduction points and</font>

1158
00:38:39,070 --> 00:38:42,640
it essentially says meet me at a

1159
00:38:40,810 --> 00:38:44,620
rendezvous point and then the rendezvous

1160
00:38:42,640 --> 00:38:46,839
point is essentially another node in the

1161
00:38:44,620 --> 00:38:48,640
network and both Alice and<font color="#E5E5E5"> Bob build a</font>

1162
00:38:46,840 --> 00:38:50,230
three hot circuit to this rendezvous

1163
00:38:48,640 --> 00:38:52,180
point the rendezvous point doesn't

1164
00:38:50,230 --> 00:38:54,210
<font color="#CCCCCC">halaal I see is the only important</font><font color="#E5E5E5"> sorry</font>

1165
00:38:52,180 --> 00:38:56,319
the rendezvous point has chosen by<font color="#CCCCCC"> ice</font>

1166
00:38:54,210 --> 00:38:57,880
but the rendezvous point doesn't<font color="#E5E5E5"> know</font>

1167
00:38:56,320 --> 00:38:59,770
who Bob is because Bob's built a 3 hop

1168
00:38:57,880 --> 00:39:01,090
circuit and the rendezvous point and you

1169
00:38:59,770 --> 00:39:02,290
<font color="#E5E5E5">know even if you could compromise well</font>

1170
00:39:01,090 --> 00:39:04,510
maybe<font color="#CCCCCC"> the</font><font color="#E5E5E5"> point it makes</font><font color="#CCCCCC"> it a bit</font>

1171
00:39:02,290 --> 00:39:07,509
difficult to<font color="#E5E5E5"> find those sorts things out</font>

1172
00:39:04,510 --> 00:39:10,420
later now what we get our focus<font color="#E5E5E5"> on is</font>

1173
00:39:07,510 --> 00:39:11,560
this database right at the very top what

1174
00:39:10,420 --> 00:39:13,180
is it<font color="#E5E5E5"> that gets published in this</font>

1175
00:39:11,560 --> 00:39:14,470
database and what can<font color="#E5E5E5"> we do with it</font>

1176
00:39:13,180 --> 00:39:15,700
because this is one<font color="#CCCCCC"> of the techniques</font><font color="#E5E5E5"> we</font>

1177
00:39:14,470 --> 00:39:17,709
can use the D anonymize people is

1178
00:39:15,700 --> 00:39:19,689
actually this this<font color="#E5E5E5"> database itself this</font>

1179
00:39:17,710 --> 00:39:22,090
database is not stored in one place it

1180
00:39:19,690 --> 00:39:23,890
is<font color="#CCCCCC"> distributed across the torn-out and</font>

1181
00:39:22,090 --> 00:39:25,770
there are thousands<font color="#E5E5E5"> of nodes upon which</font>

1182
00:39:23,890 --> 00:39:28,379
this database is distribution so those

1183
00:39:25,770 --> 00:39:32,070
single place where the entire databases

1184
00:39:28,380 --> 00:39:33,300
is stored now i'm going to digress a

1185
00:39:32,070 --> 00:39:35,280
very little<font color="#E5E5E5"> bit and explain something</font>

1186
00:39:33,300 --> 00:39:37,590
called distributed hash tables behind of

1187
00:39:35,280 --> 00:39:39,720
you know at<font color="#CCCCCC"> distribution table is okay</font>

1188
00:39:37,590 --> 00:39:43,500
so I'm not preaching to those already

1189
00:39:39,720 --> 00:39:45,660
know ok so imagine this<font color="#E5E5E5"> scenario right</font>

1190
00:39:43,500 --> 00:39:47,790
you have a list of files and<font color="#CCCCCC"> you've got</font>

1191
00:39:45,660 --> 00:39:49,890
<font color="#E5E5E5">12 computers you want to be able to</font>

1192
00:39:47,790 --> 00:39:51,630
distribute these 12 files across those

1193
00:39:49,890 --> 00:39:53,279
12 computers just<font color="#E5E5E5"> for sort of load</font>

1194
00:39:51,630 --> 00:39:54,840
balancing and in essence<font color="#E5E5E5"> right you might</font>

1195
00:39:53,280 --> 00:39:57,420
<font color="#E5E5E5">have each computers got you know 20</font>

1196
00:39:54,840 --> 00:39:59,190
<font color="#E5E5E5">gigabytes of 20 terabytes of storage and</font>

1197
00:39:57,420 --> 00:40:01,800
so on and<font color="#E5E5E5"> so forth so I list the files</font>

1198
00:39:59,190 --> 00:40:03,810
<font color="#E5E5E5">you want to distribute them across 12</font>

1199
00:40:01,800 --> 00:40:05,550
computers now the<font color="#E5E5E5"> question is how do you</font>

1200
00:40:03,810 --> 00:40:08,130
distribute them across 12 computers

1201
00:40:05,550 --> 00:40:09,780
without having a single<font color="#E5E5E5"> computer is</font>

1202
00:40:08,130 --> 00:40:11,640
essentially in charge of allocating

1203
00:40:09,780 --> 00:40:13,410
where it goes and we don't want<font color="#E5E5E5"> to n</font>

1204
00:40:11,640 --> 00:40:14,609
talk as tall as a decentralized<font color="#CCCCCC"> network</font>

1205
00:40:13,410 --> 00:40:16,049
we don't want a single<font color="#E5E5E5"> computer in</font>

1206
00:40:14,610 --> 00:40:17,700
charge so the idea<font color="#E5E5E5"> where they're</font>

1207
00:40:16,050 --> 00:40:20,010
distributed hash table is we want<font color="#E5E5E5"> to</font>

1208
00:40:17,700 --> 00:40:22,859
distribute these files across those 12

1209
00:40:20,010 --> 00:40:24,090
computers but in a particular way at one

1210
00:40:22,860 --> 00:40:25,980
way might be circular would take the

1211
00:40:24,090 --> 00:40:27,960
<font color="#E5E5E5">file name and we take the very first</font>

1212
00:40:25,980 --> 00:40:29,790
letter from the file name and<font color="#E5E5E5"> the very</font>

1213
00:40:27,960 --> 00:40:31,380
first letter from the file name dictates

1214
00:40:29,790 --> 00:40:33,150
which computer the file gets<font color="#E5E5E5"> stored on</font>

1215
00:40:31,380 --> 00:40:34,650
and then if someone<font color="#E5E5E5"> wants to retrieve</font>

1216
00:40:33,150 --> 00:40:36,390
the file at a later date they generate

1217
00:40:34,650 --> 00:40:38,040
the file name they pick the first letter

1218
00:40:36,390 --> 00:40:39,359
out and that tells them<font color="#E5E5E5"> which computer</font>

1219
00:40:38,040 --> 00:40:40,770
it's going to be stored<font color="#E5E5E5"> on there's a</font>

1220
00:40:39,360 --> 00:40:43,050
fundamental problem<font color="#E5E5E5"> with that you</font><font color="#CCCCCC"> know</font>

1221
00:40:40,770 --> 00:40:45,270
<font color="#E5E5E5">how many files do you have beginning</font>

1222
00:40:43,050 --> 00:40:46,740
with<font color="#CCCCCC"> Zed I mean I don't know probably</font>

1223
00:40:45,270 --> 00:40:48,570
not<font color="#E5E5E5"> very many already</font><font color="#CCCCCC"> have a lot more</font>

1224
00:40:46,740 --> 00:40:50,580
<font color="#E5E5E5">beginning with G than I do</font><font color="#CCCCCC"> with Zed for</font>

1225
00:40:48,570 --> 00:40:52,380
example so it doesn't evenly distribute

1226
00:40:50,580 --> 00:40:53,220
<font color="#CCCCCC">the files across those computers which</font>

1227
00:40:52,380 --> 00:40:55,500
you know if is used for load balancing

1228
00:40:53,220 --> 00:40:57,029
that's essentially<font color="#E5E5E5"> what you want so the</font>

1229
00:40:55,500 --> 00:40:59,400
idea whether a distributed hash table is

1230
00:40:57,030 --> 00:41:02,400
instead of taking the<font color="#E5E5E5"> file name and</font>

1231
00:40:59,400 --> 00:41:04,770
using the first letter we first hash the

1232
00:41:02,400 --> 00:41:06,720
file name and then that dictates which

1233
00:41:04,770 --> 00:41:08,490
computer of those 12 computers is going

1234
00:41:06,720 --> 00:41:09,689
to be stored<font color="#E5E5E5"> on now hash function is</font>

1235
00:41:08,490 --> 00:41:11,669
what we call a pseudo-random function

1236
00:41:09,690 --> 00:41:13,410
the<font color="#E5E5E5"> output from the hash</font><font color="#CCCCCC"> function is</font>

1237
00:41:11,670 --> 00:41:15,390
random<font color="#E5E5E5"> in essence is randomly</font>

1238
00:41:13,410 --> 00:41:17,640
distributed so even if I have<font color="#E5E5E5"> Gareth one</font>

1239
00:41:15,390 --> 00:41:18,870
and Gareth<font color="#E5E5E5"> too if I hush both of them</font>

1240
00:41:17,640 --> 00:41:20,700
you get completely different hashes

1241
00:41:18,870 --> 00:41:22,650
right so in essence it essentially

1242
00:41:20,700 --> 00:41:24,839
evenly distributes the files then across

1243
00:41:22,650 --> 00:41:27,420
the computer now tour use this for

1244
00:41:24,840 --> 00:41:30,500
storing the descriptors for these for

1245
00:41:27,420 --> 00:41:34,230
these hidden services so this is<font color="#CCCCCC"> a tor</font>

1246
00:41:30,500 --> 00:41:35,880
hidden service website address all of

1247
00:41:34,230 --> 00:41:38,460
the tor hidden service website addresses

1248
00:41:35,880 --> 00:41:38,850
auto onion who knows what the bit is

1249
00:41:38,460 --> 00:41:44,250
before

1250
00:41:38,850 --> 00:41:46,380
<font color="#E5E5E5">doll and like oh I can think I could</font>

1251
00:41:44,250 --> 00:41:48,150
almost remember the bit before the door

1252
00:41:46,380 --> 00:41:49,650
is essentially just<font color="#E5E5E5"> a hash of</font><font color="#CCCCCC"> the tour</font>

1253
00:41:48,150 --> 00:41:50,880
nodes public key is that's why it

1254
00:41:49,650 --> 00:41:53,670
doesn't look<font color="#E5E5E5"> like anything particularly</font>

1255
00:41:50,880 --> 00:41:55,200
particularly useful what we're going to

1256
00:41:53,670 --> 00:41:58,110
do is we're going to store that

1257
00:41:55,200 --> 00:41:59,700
somewhere on a large set of computers

1258
00:41:58,110 --> 00:42:01,650
now we want<font color="#E5E5E5"> to try</font><font color="#CCCCCC"> and do it in a way</font>

1259
00:41:59,700 --> 00:42:03,240
<font color="#E5E5E5">which we can allow computers to join the</font>

1260
00:42:01,650 --> 00:42:04,470
distributed hash table and to leave the

1261
00:42:03,240 --> 00:42:06,270
distributed hash table that's caught was

1262
00:42:04,470 --> 00:42:07,560
going to<font color="#E5E5E5"> work with a very large network</font>

1263
00:42:06,270 --> 00:42:10,170
like this so what you do is we draw a

1264
00:42:07,560 --> 00:42:12,570
circle and this circle represents the

1265
00:42:10,170 --> 00:42:14,940
hash space as it<font color="#CCCCCC"> were so you can imagine</font>

1266
00:42:12,570 --> 00:42:18,600
the circle goes from<font color="#E5E5E5"> zero all the way</font>

1267
00:42:14,940 --> 00:42:20,430
around to fffff right<font color="#E5E5E5"> zero all around to</font>

1268
00:42:18,600 --> 00:42:22,860
ffffff and what we're<font color="#E5E5E5"> going to do is</font>

1269
00:42:20,430 --> 00:42:24,720
we're going to map hidden services on to

1270
00:42:22,860 --> 00:42:26,850
this circle and then we're going to map

1271
00:42:24,720 --> 00:42:27,930
nodes in the network<font color="#E5E5E5"> onto this circle</font>

1272
00:42:26,850 --> 00:42:29,430
and that<font color="#E5E5E5"> will tell us which nodes are</font>

1273
00:42:27,930 --> 00:42:32,790
going to store the ticular types of

1274
00:42:29,430 --> 00:42:35,700
<font color="#E5E5E5">stuff so we take that hidden service</font>

1275
00:42:32,790 --> 00:42:37,410
address we map it onto the circle by

1276
00:42:35,700 --> 00:42:40,140
units between 0 and F F F essentially

1277
00:42:37,410 --> 00:42:42,210
and then we take our relays in<font color="#E5E5E5"> the</font>

1278
00:42:40,140 --> 00:42:44,190
network we map them<font color="#E5E5E5"> onto the circle and</font>

1279
00:42:42,210 --> 00:42:45,960
the weight or works it says okay well

1280
00:42:44,190 --> 00:42:48,090
the hidden service is<font color="#E5E5E5"> going to be stored</font>

1281
00:42:45,960 --> 00:42:50,550
<font color="#E5E5E5">on the three nose to the right in the</font>

1282
00:42:48,090 --> 00:42:51,540
circle so we plot the circle which you

1283
00:42:50,550 --> 00:42:53,400
can do because<font color="#E5E5E5"> you've got a list of all</font>

1284
00:42:51,540 --> 00:42:55,080
the relays and you pick out the three

1285
00:42:53,400 --> 00:42:56,700
nose to the right and you're<font color="#E5E5E5"> going to</font>

1286
00:42:55,080 --> 00:42:58,259
publish your descriptor to those three

1287
00:42:56,700 --> 00:42:59,549
nose to the right and then<font color="#E5E5E5"> you're also</font>

1288
00:42:58,260 --> 00:43:01,380
going to store it in a<font color="#CCCCCC"> different part of</font>

1289
00:42:59,550 --> 00:43:02,460
the circle as well just by changing the

1290
00:43:01,380 --> 00:43:03,990
hash a little<font color="#E5E5E5"> bits there's a little bit</font>

1291
00:43:02,460 --> 00:43:06,030
of redundancy and that essentially<font color="#E5E5E5"> means</font>

1292
00:43:03,990 --> 00:43:08,189
now nodes can leave and join the circle

1293
00:43:06,030 --> 00:43:11,510
without essentially causing this hidden

1294
00:43:08,190 --> 00:43:13,380
service to go completely unavailable so

1295
00:43:11,510 --> 00:43:15,570
I'm<font color="#E5E5E5"> going to skip over this because</font><font color="#CCCCCC"> I</font>

1296
00:43:13,380 --> 00:43:16,740
<font color="#E5E5E5">think we're short on short on time we</font>

1297
00:43:15,570 --> 00:43:18,870
did a bit of experiment earlier this

1298
00:43:16,740 --> 00:43:19,649
year we had a bit of spare time so we

1299
00:43:18,870 --> 00:43:21,359
thought what would be an<font color="#CCCCCC"> interesting</font>

1300
00:43:19,650 --> 00:43:22,980
thing to do so we thought<font color="#CCCCCC"> we</font><font color="#E5E5E5"> look at tor</font>

1301
00:43:21,360 --> 00:43:24,510
hidden services or the big question is

1302
00:43:22,980 --> 00:43:26,490
tor hidden sir I'll taught himself as

1303
00:43:24,510 --> 00:43:28,290
evil for example as<font color="#E5E5E5"> is the content</font><font color="#CCCCCC"> on</font>

1304
00:43:26,490 --> 00:43:29,399
them<font color="#CCCCCC"> really bad so I thought well it'd</font>

1305
00:43:28,290 --> 00:43:31,140
be really great to look at tor hidden

1306
00:43:29,400 --> 00:43:33,120
services and find out<font color="#CCCCCC"> just exactly what</font>

1307
00:43:31,140 --> 00:43:34,620
is<font color="#CCCCCC"> on tor hidden services so my initial</font>

1308
00:43:33,120 --> 00:43:36,270
thought was well we take<font color="#E5E5E5"> some of the</font>

1309
00:43:34,620 --> 00:43:37,589
directory sites we're<font color="#E5E5E5"> point a web</font>

1310
00:43:36,270 --> 00:43:39,240
<font color="#E5E5E5">crawler at it and we collect all the</font>

1311
00:43:37,590 --> 00:43:40,860
results but I<font color="#E5E5E5"> thought well you know the</font>

1312
00:43:39,240 --> 00:43:42,000
nature of tor hidden services some of

1313
00:43:40,860 --> 00:43:43,500
them aren't going to be in directories

1314
00:43:42,000 --> 00:43:45,060
we're not really going to click the full

1315
00:43:43,500 --> 00:43:46,860
list so I thought okay well we need<font color="#E5E5E5"> to</font>

1316
00:43:45,060 --> 00:43:48,600
click the full list of all of the all of

1317
00:43:46,860 --> 00:43:50,880
the nodes we know it is stored<font color="#E5E5E5"> in this</font>

1318
00:43:48,600 --> 00:43:52,620
distributed hash table so in theory if

1319
00:43:50,880 --> 00:43:55,140
we put ourselves on the

1320
00:43:52,620 --> 00:43:56,670
stupid hashtag at different points what

1321
00:43:55,140 --> 00:43:58,529
<font color="#E5E5E5">actually happens is you know I've said</font>

1322
00:43:56,670 --> 00:44:00,600
the tor hidden service appears here it

1323
00:43:58,530 --> 00:44:02,130
actually changes day by day so every 24

1324
00:44:00,600 --> 00:44:03,690
hours the position on the circle changes

1325
00:44:02,130 --> 00:44:05,340
so in theory if I just<font color="#E5E5E5"> sat at one</font>

1326
00:44:03,690 --> 00:44:06,990
position in their circle given an

1327
00:44:05,340 --> 00:44:08,640
infinite amount of time I'd collect all

1328
00:44:06,990 --> 00:44:09,899
of the hidden service addresses and I

1329
00:44:08,640 --> 00:44:11,430
could start looking at them and seeing

1330
00:44:09,900 --> 00:44:13,530
what's contained on them so<font color="#E5E5E5"> actually</font>

1331
00:44:11,430 --> 00:44:15,089
what we did was<font color="#CCCCCC"> we ran 40 nodes we</font>

1332
00:44:13,530 --> 00:44:16,530
distributed them around<font color="#CCCCCC"> their</font><font color="#E5E5E5"> circle at</font>

1333
00:44:15,090 --> 00:44:18,570
different points and we just SAT and

1334
00:44:16,530 --> 00:44:20,850
<font color="#E5E5E5">waited and we just SAT and waited for</font>

1335
00:44:18,570 --> 00:44:22,860
hidden services to register<font color="#CCCCCC"> with us we</font>

1336
00:44:20,850 --> 00:44:24,960
store them in a database but what we

1337
00:44:22,860 --> 00:44:27,270
also able to collect if you think about

1338
00:44:24,960 --> 00:44:30,000
it hidden<font color="#E5E5E5"> services are publishing to us</font>

1339
00:44:27,270 --> 00:44:32,070
but also people are coming to<font color="#CCCCCC"> us to ask</font>

1340
00:44:30,000 --> 00:44:35,280
for<font color="#E5E5E5"> the hidden service descriptor so not</font>

1341
00:44:32,070 --> 00:44:37,440
only<font color="#CCCCCC"> can i register the publication of</font>

1342
00:44:35,280 --> 00:44:39,090
the dot onion address but<font color="#E5E5E5"> I can</font><font color="#CCCCCC"> work</font><font color="#E5E5E5"> out</font>

1343
00:44:37,440 --> 00:44:41,070
how<font color="#CCCCCC"> many people are visiting it as well</font>

1344
00:44:39,090 --> 00:44:43,290
so<font color="#CCCCCC"> I can lock up the number of hits as</font>

1345
00:44:41,070 --> 00:44:44,730
well I can't view if you view all the

1346
00:44:43,290 --> 00:44:47,880
details on who it is because because

1347
00:44:44,730 --> 00:44:49,110
there it's encrypted but essentially I

1348
00:44:47,880 --> 00:44:51,030
can register hits and I can register all

1349
00:44:49,110 --> 00:44:58,350
the onion dresses what do you<font color="#E5E5E5"> think I</font>

1350
00:44:51,030 --> 00:45:00,060
found so we've got a database there's

1351
00:44:58,350 --> 00:45:00,900
around<font color="#E5E5E5"> about 50,000 onion addresses</font>

1352
00:45:00,060 --> 00:45:02,220
which will be in published to our

1353
00:45:00,900 --> 00:45:04,260
servers over the last of the three

1354
00:45:02,220 --> 00:45:05,640
months I think there's probably<font color="#CCCCCC"> about</font>

1355
00:45:04,260 --> 00:45:06,660
10,000 more which we haven't<font color="#E5E5E5"> yet</font>

1356
00:45:05,640 --> 00:45:08,520
collected it just takes a little bit of

1357
00:45:06,660 --> 00:45:09,930
time to collect all of these<font color="#E5E5E5"> things does</font>

1358
00:45:08,520 --> 00:45:15,780
anyone know what Stefan it will<font color="#CCCCCC"> shine it</font>

1359
00:45:09,930 --> 00:45:17,250
off botnets essentially botnets those

1360
00:45:15,780 --> 00:45:18,510
are a presentation of black cat a couple

1361
00:45:17,250 --> 00:45:20,460
of<font color="#E5E5E5"> years ago on using tor hidden</font>

1362
00:45:18,510 --> 00:45:22,350
services to run botnet<font color="#E5E5E5"> commander control</font>

1363
00:45:20,460 --> 00:45:24,150
<font color="#E5E5E5">service thinking well you know you can't</font>

1364
00:45:22,350 --> 00:45:25,710
trace the website so<font color="#E5E5E5"> you can't shut it</font>

1365
00:45:24,150 --> 00:45:27,120
down<font color="#E5E5E5"> so</font><font color="#CCCCCC"> there'd be a</font><font color="#E5E5E5"> really good place</font>

1366
00:45:25,710 --> 00:45:28,560
to run<font color="#CCCCCC"> button it botnet come on and</font>

1367
00:45:27,120 --> 00:45:30,029
control servers and ever since then

1368
00:45:28,560 --> 00:45:32,009
loads we will started writing botnet

1369
00:45:30,030 --> 00:45:33,750
botnets that use tor essentially to host

1370
00:45:32,010 --> 00:45:36,030
these hosts these things it turns out

1371
00:45:33,750 --> 00:45:37,860
the<font color="#E5E5E5"> top 40 results are essentially</font>

1372
00:45:36,030 --> 00:45:40,830
botnet command and control service and

1373
00:45:37,860 --> 00:45:44,460
you can see you know the top one there

1374
00:45:40,830 --> 00:45:46,860
had 1.4 million hits a day a day right

1375
00:45:44,460 --> 00:45:50,940
that's a day right and this<font color="#CCCCCC"> particular</font>

1376
00:45:46,860 --> 00:45:52,560
bottner setting it doesn't just<font color="#E5E5E5"> have one</font>

1377
00:45:50,940 --> 00:45:54,660
tor hidden service addresses<font color="#E5E5E5"> got loads</font>

1378
00:45:52,560 --> 00:45:55,920
<font color="#E5E5E5">all right so</font><font color="#CCCCCC"> it's not just 1.4 million</font>

1379
00:45:54,660 --> 00:45:57,270
hits a day it's<font color="#E5E5E5"> actually much much</font>

1380
00:45:55,920 --> 00:45:58,980
larger that's pretty close<font color="#E5E5E5"> to five or</font>

1381
00:45:57,270 --> 00:46:00,720
six million hits a day and we picked up

1382
00:45:58,980 --> 00:46:04,470
<font color="#E5E5E5">a</font><font color="#CCCCCC"> couple others Skynet is a rather</font>

1383
00:46:00,720 --> 00:46:06,270
notable one the botnet master who runs

1384
00:46:04,470 --> 00:46:07,649
<font color="#CCCCCC">spynet</font><font color="#E5E5E5"> did something called</font>

1385
00:46:06,270 --> 00:46:09,990
I<font color="#CCCCCC"> am a witch would never heard of on</font>

1386
00:46:07,650 --> 00:46:12,480
reddit which is a done what it stands

1387
00:46:09,990 --> 00:46:14,069
for ask me anything right so you<font color="#E5E5E5"> can go</font>

1388
00:46:12,480 --> 00:46:15,630
on<font color="#E5E5E5"> this reddit site and ask people</font>

1389
00:46:14,070 --> 00:46:18,660
<font color="#E5E5E5">anything so the guy that round the</font>

1390
00:46:15,630 --> 00:46:21,030
<font color="#CCCCCC">skynet taught</font><font color="#E5E5E5"> Skynet botnet went on on</font>

1391
00:46:18,660 --> 00:46:22,950
it on this reddit thing and ask them you

1392
00:46:21,030 --> 00:46:23,940
<font color="#CCCCCC">know you can</font><font color="#E5E5E5"> ask me anything right you</font>

1393
00:46:22,950 --> 00:46:25,620
know i mean there's a really<font color="#E5E5E5"> foolish</font>

1394
00:46:23,940 --> 00:46:27,510
kind of guy anyway it sounds anyway he

1395
00:46:25,620 --> 00:46:30,150
<font color="#E5E5E5">got locked up in december this year at</font>

1396
00:46:27,510 --> 00:46:33,930
<font color="#E5E5E5">this ever last year i'm not really sure</font>

1397
00:46:30,150 --> 00:46:35,640
why but you know<font color="#CCCCCC"> and he was</font><font color="#E5E5E5"> on twitter</font>

1398
00:46:33,930 --> 00:46:39,029
as well and who runs a bot<font color="#CCCCCC"> there and is</font>

1399
00:46:35,640 --> 00:46:40,470
on<font color="#CCCCCC"> twitter he'll seriously so we've also</font>

1400
00:46:39,030 --> 00:46:42,660
sort of<font color="#CCCCCC"> ranked</font><font color="#E5E5E5"> the other other sets of</font>

1401
00:46:40,470 --> 00:46:44,220
sites as well if you've been involved in

1402
00:46:42,660 --> 00:46:46,190
tour you'll know that<font color="#E5E5E5"> some</font><font color="#CCCCCC"> of the tour</font>

1403
00:46:44,220 --> 00:46:48,270
content is really not<font color="#E5E5E5"> very nice stuff</font>

1404
00:46:46,190 --> 00:46:50,670
unfortunately straight after botnet

1405
00:46:48,270 --> 00:46:52,530
stuff or a particular<font color="#E5E5E5"> class of abuse</font>

1406
00:46:50,670 --> 00:46:54,240
sites we ran a crawler which didn't

1407
00:46:52,530 --> 00:46:55,680
fetch any images<font color="#E5E5E5"> just fetched HTML</font>

1408
00:46:54,240 --> 00:46:57,660
content and this sort of stuff was

1409
00:46:55,680 --> 00:46:59,040
easily identical using keyword searches

1410
00:46:57,660 --> 00:47:00,930
through the images unfortunately this is

1411
00:46:59,040 --> 00:47:03,360
<font color="#E5E5E5">the second most popular stuff that we</font>

1412
00:47:00,930 --> 00:47:04,859
collected by in terms of hits so the

1413
00:47:03,360 --> 00:47:07,050
number<font color="#E5E5E5"> of people</font><font color="#CCCCCC"> visiting these sites</font>

1414
00:47:04,860 --> 00:47:08,580
straight after botanist and then

1415
00:47:07,050 --> 00:47:10,110
straight after that came essentially

1416
00:47:08,580 --> 00:47:12,750
directories linking to other tour him

1417
00:47:10,110 --> 00:47:14,400
sites some<font color="#E5E5E5"> forums some sort of</font><font color="#CCCCCC"> like I</font>

1418
00:47:12,750 --> 00:47:17,790
guess what I classes<font color="#CCCCCC"> hacktivist type</font>

1419
00:47:14,400 --> 00:47:19,800
websites<font color="#E5E5E5"> those sorts of things and</font>

1420
00:47:17,790 --> 00:47:21,300
there's a full<font color="#E5E5E5"> of search engine in there</font>

1421
00:47:19,800 --> 00:47:22,500
as well<font color="#E5E5E5"> if anyone</font><font color="#CCCCCC"> is</font><font color="#E5E5E5"> interested looking</font>

1422
00:47:21,300 --> 00:47:23,640
<font color="#E5E5E5">at the full database I'm quite happy to</font>

1423
00:47:22,500 --> 00:47:24,720
<font color="#E5E5E5">share it to you late and you can see you</font>

1424
00:47:23,640 --> 00:47:26,339
know if you've got<font color="#CCCCCC"> a particular oniony</font>

1425
00:47:24,720 --> 00:47:28,080
really want to look at and how many<font color="#CCCCCC"> hits</font>

1426
00:47:26,340 --> 00:47:33,330
it got for example per day and quite

1427
00:47:28,080 --> 00:47:35,100
happy to show you to show you<font color="#CCCCCC"> that so</font>

1428
00:47:33,330 --> 00:47:37,529
how about d anonymizing tor hidden

1429
00:47:35,100 --> 00:47:39,450
service users<font color="#E5E5E5"> people visiting tor hidden</font>

1430
00:47:37,530 --> 00:47:41,130
sites right<font color="#E5E5E5"> even in many ways you think</font>

1431
00:47:39,450 --> 00:47:42,870
this is<font color="#CCCCCC"> the holy</font><font color="#E5E5E5"> grail right we've got</font>

1432
00:47:41,130 --> 00:47:44,550
really dodgy sites and really dodgy

1433
00:47:42,870 --> 00:47:46,380
people visiting the really dodgy sites

1434
00:47:44,550 --> 00:47:50,430
right so if we can<font color="#E5E5E5"> work out who they</font><font color="#CCCCCC"> are</font>

1435
00:47:46,380 --> 00:47:51,720
then right win-win it turns out it's

1436
00:47:50,430 --> 00:47:53,190
actually<font color="#E5E5E5"> really easy to do in on my</font>

1437
00:47:51,720 --> 00:47:55,890
google visiting tor hidden services

1438
00:47:53,190 --> 00:47:57,960
really really easy<font color="#E5E5E5"> so let's look at how</font>

1439
00:47:55,890 --> 00:47:59,940
a tor hidden service connects to a tor

1440
00:47:57,960 --> 00:48:01,860
hidden service so a user connects to a

1441
00:47:59,940 --> 00:48:04,050
tor hidden service a user has a guard

1442
00:48:01,860 --> 00:48:05,430
<font color="#E5E5E5">node we've got the hidden service</font>

1443
00:48:04,050 --> 00:48:07,500
directory which is that distributed hash

1444
00:48:05,430 --> 00:48:09,000
table spread out throughout the the Tor

1445
00:48:07,500 --> 00:48:10,860
network and then we've got the<font color="#E5E5E5"> tor</font>

1446
00:48:09,000 --> 00:48:12,780
hidden service itself which again is

1447
00:48:10,860 --> 00:48:14,460
separated from<font color="#E5E5E5"> the network by the Tor</font>

1448
00:48:12,780 --> 00:48:16,350
network so when I want to visit this

1449
00:48:14,460 --> 00:48:18,270
website I go into the Tor network

1450
00:48:16,350 --> 00:48:19,799
through my garden node and I connect up

1451
00:48:18,270 --> 00:48:21,150
to the hidden service directory and say

1452
00:48:19,800 --> 00:48:22,770
I have the descriptor for that tor

1453
00:48:21,150 --> 00:48:24,260
hidden service the list<font color="#E5E5E5"> of</font><font color="#CCCCCC"> those</font>

1454
00:48:22,770 --> 00:48:27,270
introduction points where it's available

1455
00:48:24,260 --> 00:48:30,060
and the<font color="#CCCCCC"> in-service rectory sends it back</font>

1456
00:48:27,270 --> 00:48:33,390
to me now think about this just for a

1457
00:48:30,060 --> 00:48:35,460
second right I can position myself on

1458
00:48:33,390 --> 00:48:37,109
that distributed hash table so that I'm

1459
00:48:35,460 --> 00:48:38,700
the node responsible for a particular

1460
00:48:37,110 --> 00:48:40,560
website right I can position myself

1461
00:48:38,700 --> 00:48:42,149
where ever want to be so that i know i'm

1462
00:48:40,560 --> 00:48:43,830
<font color="#E5E5E5">going to receiving a request for a</font>

1463
00:48:42,150 --> 00:48:45,480
particular type of<font color="#E5E5E5"> web sites so I now</font>

1464
00:48:43,830 --> 00:48:48,210
control one end of this connection<font color="#CCCCCC"> all</font>

1465
00:48:45,480 --> 00:48:49,260
<font color="#CCCCCC">right the user is talking to</font><font color="#E5E5E5"> me</font><font color="#CCCCCC"> and I</font>

1466
00:48:48,210 --> 00:48:51,000
know that are looking for a particular

1467
00:48:49,260 --> 00:48:52,590
<font color="#E5E5E5">type of site and you can think of these</font>

1468
00:48:51,000 --> 00:48:55,470
kind of<font color="#E5E5E5"> like there's request for these</font>

1469
00:48:52,590 --> 00:48:57,960
descriptors perhaps very similar to DNS

1470
00:48:55,470 --> 00:48:59,970
<font color="#CCCCCC">requests</font><font color="#E5E5E5"> and respect you if I get a</font>

1471
00:48:57,960 --> 00:49:01,170
request for one of these sites sites you

1472
00:48:59,970 --> 00:49:02,370
know they're<font color="#CCCCCC"> doing</font><font color="#E5E5E5"> it at the initial</font>

1473
00:49:01,170 --> 00:49:03,780
point of<font color="#E5E5E5"> wanting to visit the website</font>

1474
00:49:02,370 --> 00:49:06,839
<font color="#CCCCCC">just</font><font color="#E5E5E5"> like you would do with a DNS</font>

1475
00:49:03,780 --> 00:49:09,060
request so i can send<font color="#E5E5E5"> the user or</font>

1476
00:49:06,840 --> 00:49:10,620
whatever I want I should probably send

1477
00:49:09,060 --> 00:49:12,060
them<font color="#E5E5E5"> that the hidden service to ship to</font>

1478
00:49:10,620 --> 00:49:14,100
which they asked for which I'm going to

1479
00:49:12,060 --> 00:49:16,470
you right but I can shape the traffic in

1480
00:49:14,100 --> 00:49:17,670
a particular type of way as I could send

1481
00:49:16,470 --> 00:49:19,410
them you know just 20 packets for

1482
00:49:17,670 --> 00:49:23,090
example<font color="#CCCCCC"> or I</font><font color="#E5E5E5"> could put it</font><font color="#CCCCCC"> in 30 packets</font>

1483
00:49:19,410 --> 00:49:25,410
and so on<font color="#E5E5E5"> and so forth so if I control</font>

1484
00:49:23,090 --> 00:49:28,050
just the hidden service director node

1485
00:49:25,410 --> 00:49:29,879
and the gardener stay<font color="#E5E5E5"> with</font><font color="#CCCCCC"> me on</font><font color="#E5E5E5"> the</font>

1486
00:49:28,050 --> 00:49:31,560
<font color="#E5E5E5">garden owed point right I can send</font>

1487
00:49:29,880 --> 00:49:33,510
traffic back down this pipe with a

1488
00:49:31,560 --> 00:49:34,890
particular characteristic and I can spot

1489
00:49:33,510 --> 00:49:36,600
<font color="#E5E5E5">that a characteristic on the gardener</font>

1490
00:49:34,890 --> 00:49:38,009
and I candy anonymize someone that's

1491
00:49:36,600 --> 00:49:38,970
visiting a particular website I can't

1492
00:49:38,010 --> 00:49:41,250
tell<font color="#E5E5E5"> what they're doing on that website</font>

1493
00:49:38,970 --> 00:49:43,319
but I know who that who they are in

1494
00:49:41,250 --> 00:49:46,020
essence<font color="#E5E5E5"> now the question</font><font color="#CCCCCC"> is</font><font color="#E5E5E5"> how do I</font>

1495
00:49:43,320 --> 00:49:48,450
control the garden note well think back

1496
00:49:46,020 --> 00:49:49,560
to that GCHQ slide isolated on<font color="#CCCCCC"> the very</font>

1497
00:49:48,450 --> 00:49:51,089
first<font color="#E5E5E5"> thing where I said we can dear</font>

1498
00:49:49,560 --> 00:49:53,250
naanum eyes some people some of the time

1499
00:49:51,090 --> 00:49:54,930
but it's<font color="#E5E5E5"> very difficult to do naanum</font>

1500
00:49:53,250 --> 00:49:56,520
eyes someone specifically right so<font color="#E5E5E5"> I</font>

1501
00:49:54,930 --> 00:49:57,990
wanted<font color="#CCCCCC"> D an unwise you you know it's</font>

1502
00:49:56,520 --> 00:49:59,490
very<font color="#CCCCCC"> hard for me</font><font color="#E5E5E5"> to do that but if</font>

1503
00:49:57,990 --> 00:50:01,680
you're all visiting at all hidden whip

1504
00:49:59,490 --> 00:50:02,819
website the chances are some of your

1505
00:50:01,680 --> 00:50:06,089
going to be going through my guard note

1506
00:50:02,820 --> 00:50:08,220
and<font color="#E5E5E5"> eye candy anonymize all of you yep</font>

1507
00:50:06,090 --> 00:50:09,570
know exactly who you are now some<font color="#E5E5E5"> of you</font>

1508
00:50:08,220 --> 00:50:10,589
sit there<font color="#E5E5E5"> thinking really really i've</font>

1509
00:50:09,570 --> 00:50:14,010
been using tor I thought it was

1510
00:50:10,590 --> 00:50:15,840
foolproof right here's a google map of

1511
00:50:14,010 --> 00:50:17,430
everyone visiting a particular website

1512
00:50:15,840 --> 00:50:19,500
particular<font color="#E5E5E5"> toilet in service right this</font>

1513
00:50:17,430 --> 00:50:21,480
is all<font color="#E5E5E5"> the original IP addresses run</font>

1514
00:50:19,500 --> 00:50:23,370
through a geoip database and plotted on

1515
00:50:21,480 --> 00:50:25,080
a map right i mean it's that easy right

1516
00:50:23,370 --> 00:50:28,170
really<font color="#E5E5E5"> that easy if you control the</font>

1517
00:50:25,080 --> 00:50:29,910
guard node and just by the rules are

1518
00:50:28,170 --> 00:50:31,320
probably at some point you're going to

1519
00:50:29,910 --> 00:50:32,680
control the guard note for some of the

1520
00:50:31,320 --> 00:50:35,109
users right so

1521
00:50:32,680 --> 00:50:36,460
this was<font color="#E5E5E5"> actually for a botnet this this</font>

1522
00:50:35,109 --> 00:50:38,170
wasn't me this was someone else<font color="#E5E5E5"> so do</font>

1523
00:50:36,460 --> 00:50:40,750
<font color="#E5E5E5">you normalize them it was essentially</font>

1524
00:50:38,170 --> 00:50:43,390
for a botnet and the guy guys theorize

1525
00:50:40,750 --> 00:50:45,700
that you know at the time Silk Road was

1526
00:50:43,390 --> 00:50:47,290
quite popular so you could<font color="#E5E5E5"> d anonymize</font>

1527
00:50:45,700 --> 00:50:49,509
everyone visiting Silk Road and you

1528
00:50:47,290 --> 00:50:50,950
<font color="#E5E5E5">could say well you know people selling</font>

1529
00:50:49,510 --> 00:50:52,540
drugs and<font color="#E5E5E5"> people buying drugs are going</font>

1530
00:50:50,950 --> 00:50:54,368
to have different behaviors really we

1531
00:50:52,540 --> 00:50:55,630
want<font color="#E5E5E5"> to go after the sellers and they're</font>

1532
00:50:54,369 --> 00:50:57,220
pretty going<font color="#E5E5E5"> to</font><font color="#CCCCCC"> login</font><font color="#E5E5E5"> what once a day</font>

1533
00:50:55,630 --> 00:50:58,750
twice a day three times a day but it's

1534
00:50:57,220 --> 00:51:00,578
going<font color="#E5E5E5"> to be fairly regular everyday type</font>

1535
00:50:58,750 --> 00:51:02,470
thing suggested by on the frequency they

1536
00:51:00,579 --> 00:51:03,430
visit<font color="#CCCCCC"> the websites and how often was you</font>

1537
00:51:02,470 --> 00:51:04,839
could probably figure out whether

1538
00:51:03,430 --> 00:51:07,058
they're a buyer or seller and then

1539
00:51:04,839 --> 00:51:10,720
selectively raid just the buyers rather

1540
00:51:07,059 --> 00:51:12,280
than the sellers so how about d

1541
00:51:10,720 --> 00:51:15,308
anonymizing the tor hidden service

1542
00:51:12,280 --> 00:51:17,260
itself can we use the<font color="#CCCCCC"> same technique to</font>

1543
00:51:15,309 --> 00:51:19,569
dear<font color="#CCCCCC"> Nala mais the tor hidden service so</font>

1544
00:51:17,260 --> 00:51:22,150
again right the user can send<font color="#E5E5E5"> data to</font>

1545
00:51:19,569 --> 00:51:24,130
the tor hidden service right so we

1546
00:51:22,150 --> 00:51:25,540
control one end of the connection right

1547
00:51:24,130 --> 00:51:27,280
the toilet and service is talking to me

1548
00:51:25,540 --> 00:51:34,450
and i<font color="#CCCCCC"> can connect as many times as</font><font color="#E5E5E5"> i</font>

1549
00:51:27,280 --> 00:51:36,010
like right so if if I'm the user and I

1550
00:51:34,450 --> 00:51:38,169
control one of<font color="#CCCCCC"> the guard nodes the</font>

1551
00:51:36,010 --> 00:51:40,359
hidden service happens to use then I can

1552
00:51:38,170 --> 00:51:41,980
send a signature of packets down through

1553
00:51:40,359 --> 00:51:43,869
the network and I can watch from the

1554
00:51:41,980 --> 00:51:45,309
guard node and if I see them that tells

1555
00:51:43,869 --> 00:51:46,890
me that's probably the hidden service

1556
00:51:45,309 --> 00:51:48,970
running that particular hidden sir

1557
00:51:46,890 --> 00:51:50,710
running that particular hidden service

1558
00:51:48,970 --> 00:51:52,930
and think<font color="#E5E5E5"> okay well what are the chances</font>

1559
00:51:50,710 --> 00:51:53,890
of your being the guard node for the

1560
00:51:52,930 --> 00:51:55,149
hidden service you know the hidden

1561
00:51:53,890 --> 00:51:56,710
services keep them for three months

1562
00:51:55,150 --> 00:51:58,540
typically between one and three<font color="#E5E5E5"> months</font>

1563
00:51:56,710 --> 00:51:59,890
ago it's quite hard some guys are

1564
00:51:58,540 --> 00:52:01,240
<font color="#E5E5E5">showing</font><font color="#CCCCCC"> that in fact you know even</font><font color="#E5E5E5"> with</font>

1565
00:51:59,890 --> 00:52:02,529
moderate resources sort of like five or

1566
00:52:01,240 --> 00:52:04,720
<font color="#E5E5E5">six thousand pounds in server capacity</font>

1567
00:52:02,530 --> 00:52:06,730
on average you<font color="#E5E5E5"> can d anonymizer hidden</font>

1568
00:52:04,720 --> 00:52:08,618
stair lessons in eight months<font color="#E5E5E5"> and</font>

1569
00:52:06,730 --> 00:52:11,950
actually<font color="#CCCCCC"> work out who they are all right</font>

1570
00:52:08,619 --> 00:52:13,930
it's really<font color="#CCCCCC"> not that difficult so let</font><font color="#E5E5E5"> me</font>

1571
00:52:11,950 --> 00:52:15,879
just just just backtrack very very

1572
00:52:13,930 --> 00:52:18,160
quickly right this signature we actually

1573
00:52:15,880 --> 00:52:20,740
send is so here the hidden service node

1574
00:52:18,160 --> 00:52:22,899
or whatever it<font color="#E5E5E5"> is sends a particular</font>

1575
00:52:20,740 --> 00:52:25,089
<font color="#E5E5E5">sequence of packets to the user now the</font>

1576
00:52:22,900 --> 00:52:27,069
<font color="#E5E5E5">gardener can't decrypt that traffic but</font>

1577
00:52:25,089 --> 00:52:28,720
what we<font color="#CCCCCC"> found is that if you send for</font>

1578
00:52:27,069 --> 00:52:31,180
example just 50 packets so you send

1579
00:52:28,720 --> 00:52:32,529
exactly 50 packets<font color="#E5E5E5"> you can you can</font><font color="#CCCCCC"> pick</font>

1580
00:52:31,180 --> 00:52:33,970
up the number of packets going down a

1581
00:52:32,530 --> 00:52:36,069
particular<font color="#E5E5E5"> circuit the guard</font><font color="#CCCCCC"> knows</font>

1582
00:52:33,970 --> 00:52:37,629
anything<font color="#E5E5E5"> okay well what are the chances</font>

1583
00:52:36,069 --> 00:52:39,190
of there being another connection with

1584
00:52:37,630 --> 00:52:40,599
exactly<font color="#E5E5E5"> 50 packets coming through might</font>

1585
00:52:39,190 --> 00:52:42,490
I<font color="#CCCCCC"> think it's pretty high where are some</font>

1586
00:52:40,599 --> 00:52:45,250
researchers in Luxembourg essentially

1587
00:52:42,490 --> 00:52:46,089
set up 300,000 connections that didn't

1588
00:52:45,250 --> 00:52:48,130
do this and<font color="#E5E5E5"> found</font>

1589
00:52:46,090 --> 00:52:49,930
of them had<font color="#E5E5E5"> exactly 50 packets right so</font>

1590
00:52:48,130 --> 00:52:52,330
it's not<font color="#E5E5E5"> a still a probabilistic attack</font>

1591
00:52:49,930 --> 00:52:54,009
but it's a very high level of

1592
00:52:52,330 --> 00:52:55,900
probability<font color="#E5E5E5"> that it is in fact the right</font>

1593
00:52:54,010 --> 00:52:57,100
site or<font color="#CCCCCC"> the right person doing and you</font>

1594
00:52:55,900 --> 00:52:58,780
can<font color="#E5E5E5"> imagine doing it over a couple of</font>

1595
00:52:57,100 --> 00:53:00,460
<font color="#E5E5E5">months you see the</font><font color="#CCCCCC"> person coming back</font>

1596
00:52:58,780 --> 00:53:01,630
and coming back<font color="#E5E5E5"> and coming back you</font><font color="#CCCCCC"> know</font>

1597
00:53:00,460 --> 00:53:04,420
it gives you a high degree of

1598
00:53:01,630 --> 00:53:05,650
probability big question mark I over

1599
00:53:04,420 --> 00:53:07,270
whether that would be sufficient<font color="#E5E5E5"> to get</font>

1600
00:53:05,650 --> 00:53:08,740
a<font color="#E5E5E5"> warrant and see someone's computer I</font>

1601
00:53:07,270 --> 00:53:10,509
don't know whether it would or not

1602
00:53:08,740 --> 00:53:11,950
<font color="#CCCCCC">they're not</font><font color="#E5E5E5"> certain I seen any test</font>

1603
00:53:10,510 --> 00:53:14,020
cases on this I<font color="#E5E5E5"> don't</font><font color="#CCCCCC"> think the</font><font color="#E5E5E5"> police</font>

1604
00:53:11,950 --> 00:53:16,600
are even doing this I'd anything<font color="#CCCCCC"> GCHQ</font>

1605
00:53:14,020 --> 00:53:18,280
are doing it at the<font color="#E5E5E5"> moment but it's</font>

1606
00:53:16,600 --> 00:53:20,110
certainly possible this is a fundamental

1607
00:53:18,280 --> 00:53:21,220
weakness at all you know I<font color="#E5E5E5"> mean this is</font>

1608
00:53:20,110 --> 00:53:23,260
a problem<font color="#E5E5E5"> that's also very difficult to</font>

1609
00:53:21,220 --> 00:53:24,819
fix very<font color="#E5E5E5"> very difficult to fix padding</font>

1610
00:53:23,260 --> 00:53:25,990
is one way to try<font color="#E5E5E5"> and mitigate the risk</font>

1611
00:53:24,820 --> 00:53:28,030
<font color="#CCCCCC">but doesn't really</font><font color="#E5E5E5"> solve the problem</font>

1612
00:53:25,990 --> 00:53:30,009
completely so just the final<font color="#E5E5E5"> thing I</font>

1613
00:53:28,030 --> 00:53:31,420
wanted<font color="#E5E5E5"> to get onto is with silk road I</font>

1614
00:53:30,010 --> 00:53:35,320
said I'd talk<font color="#E5E5E5"> to you about the FBI</font>

1615
00:53:31,420 --> 00:53:37,840
exploit itself Silk Road was essentially

1616
00:53:35,320 --> 00:53:39,550
ebay for drugs right the sellers were

1617
00:53:37,840 --> 00:53:41,950
selling drugs<font color="#E5E5E5"> and the buyers were buying</font>

1618
00:53:39,550 --> 00:53:43,570
drugs and it was a tor hidden service

1619
00:53:41,950 --> 00:53:45,490
which was essentially facilitating this

1620
00:53:43,570 --> 00:53:46,990
and the guy running Silk Road was

1621
00:53:45,490 --> 00:53:49,299
essentially you know taking a bit of

1622
00:53:46,990 --> 00:53:50,890
<font color="#E5E5E5">profit from from each transaction you</font>

1623
00:53:49,300 --> 00:53:52,870
know much like<font color="#CCCCCC"> paypal might do right you</font>

1624
00:53:50,890 --> 00:53:55,210
know really a real business entrepreneur

1625
00:53:52,870 --> 00:53:57,370
just with the wrong business really to

1626
00:53:55,210 --> 00:54:00,070
sort of sort of sort of make money so

1627
00:53:57,370 --> 00:54:01,569
it's sort of estimated that silk road

1628
00:54:00,070 --> 00:54:04,390
over its lifetime had<font color="#E5E5E5"> around just over a</font>

1629
00:54:01,570 --> 00:54:05,710
billion pounds in revenue and that this

1630
00:54:04,390 --> 00:54:07,990
chap that ran it had about<font color="#E5E5E5"> eight million</font>

1631
00:54:05,710 --> 00:54:09,640
dollars in profit all in bitcoins though

1632
00:54:07,990 --> 00:54:11,350
and if anyone<font color="#E5E5E5"> knows</font><font color="#CCCCCC"> how</font><font color="#E5E5E5"> to cash in</font>

1633
00:54:09,640 --> 00:54:13,450
exactly<font color="#E5E5E5"> 80 million dollars of bitcoins</font>

1634
00:54:11,350 --> 00:54:15,370
please come and tell me<font color="#E5E5E5"> without causing</font>

1635
00:54:13,450 --> 00:54:16,750
a crash in the price of bitcoins I don't

1636
00:54:15,370 --> 00:54:18,730
know how<font color="#E5E5E5"> you do that but</font><font color="#CCCCCC"> he</font><font color="#E5E5E5"> had 18</font>

1637
00:54:16,750 --> 00:54:20,620
million pounds worth of bitcoins<font color="#E5E5E5"> and he</font>

1638
00:54:18,730 --> 00:54:23,350
lived<font color="#E5E5E5"> in a dinky little flat in San</font>

1639
00:54:20,620 --> 00:54:25,120
Francisco someone and the police

1640
00:54:23,350 --> 00:54:27,819
actually<font color="#E5E5E5"> if</font><font color="#CCCCCC"> I actually tracked him down</font>

1641
00:54:25,120 --> 00:54:29,470
not by weakness and tour but actually

1642
00:54:27,820 --> 00:54:31,360
just by sort<font color="#E5E5E5"> of traditional detective</font>

1643
00:54:29,470 --> 00:54:33,640
work it turns out he'd<font color="#E5E5E5"> been on a forum</font>

1644
00:54:31,360 --> 00:54:35,740
advertising his website and it signed it

1645
00:54:33,640 --> 00:54:37,870
Ross Albert Hall bricks with his name is

1646
00:54:35,740 --> 00:54:38,819
on the forum and they're sort of a time

1647
00:54:37,870 --> 00:54:41,470
to sort<font color="#E5E5E5"> of collected this information</font>

1648
00:54:38,820 --> 00:54:44,080
correlated<font color="#CCCCCC"> it all identified him the</font>

1649
00:54:41,470 --> 00:54:45,160
sort<font color="#E5E5E5"> of identify ways going to that also</font>

1650
00:54:44,080 --> 00:54:46,630
managed to<font color="#E5E5E5"> pick up a few other things</font>

1651
00:54:45,160 --> 00:54:48,700
which gave them a high degree of

1652
00:54:46,630 --> 00:54:50,260
confidence that in fact was him that was

1653
00:54:48,700 --> 00:54:52,210
doing it and they actually<font color="#CCCCCC"> arrested the</font>

1654
00:54:50,260 --> 00:54:54,130
amino in a library in Santa san

1655
00:54:52,210 --> 00:54:56,110
francisco essentially caught by his own

1656
00:54:54,130 --> 00:54:58,210
foolishness and in fact one of the FBI

1657
00:54:56,110 --> 00:54:59,440
agents at<font color="#E5E5E5"> the time pose doesn't assassin</font>

1658
00:54:58,210 --> 00:55:01,600
because he was trying<font color="#CCCCCC"> to</font><font color="#E5E5E5"> get someone</font>

1659
00:54:59,440 --> 00:55:05,590
nated you know no honor amongst<font color="#E5E5E5"> thieves</font>

1660
00:55:01,600 --> 00:55:08,410
really so<font color="#E5E5E5"> I don't if you can see</font><font color="#CCCCCC"> that</font>

1661
00:55:05,590 --> 00:55:09,940
yeah so so the<font color="#CCCCCC"> FBI we know in fact no it</font>

1662
00:55:08,410 --> 00:55:11,290
was the FBI because the court papers

1663
00:55:09,940 --> 00:55:13,030
have been released the FBI took

1664
00:55:11,290 --> 00:55:15,370
advantage of this silk road was run on a

1665
00:55:13,030 --> 00:55:16,450
set of servers called the run by an

1666
00:55:15,370 --> 00:55:18,339
<font color="#CCCCCC">organization called freedom hosting</font>

1667
00:55:16,450 --> 00:55:20,770
which ran a whole range of hidden hidden

1668
00:55:18,340 --> 00:55:22,300
<font color="#CCCCCC">websites so the FBI in their ingenuity</font>

1669
00:55:20,770 --> 00:55:23,980
thought you know I got opportunity here

1670
00:55:22,300 --> 00:55:25,480
we've got freedom hosting servers you

1671
00:55:23,980 --> 00:55:27,580
know they host actually some really vile

1672
00:55:25,480 --> 00:55:28,780
content as well so we could do naanum

1673
00:55:27,580 --> 00:55:31,569
eyes people<font color="#E5E5E5"> from you know actually</font>

1674
00:55:28,780 --> 00:55:33,340
visiting these websites so it's a<font color="#E5E5E5"> bit</font>

1675
00:55:31,570 --> 00:55:36,310
unclear as to who exactly develop the

1676
00:55:33,340 --> 00:55:37,570
exploit itself it's either<font color="#CCCCCC"> GCHQ NSA or a</font>

1677
00:55:36,310 --> 00:55:39,640
combination of the two and then they

1678
00:55:37,570 --> 00:55:41,830
have the FBI deploy it essentially there

1679
00:55:39,640 --> 00:55:43,450
they took the freedom hosting websites

1680
00:55:41,830 --> 00:55:45,340
and they put a zero day on the web page

1681
00:55:43,450 --> 00:55:46,960
<font color="#E5E5E5">and then anyone that visited the website</font>

1682
00:55:45,340 --> 00:55:50,320
running the tor browser bundle

1683
00:55:46,960 --> 00:55:51,990
particular type of version would Firefox

1684
00:55:50,320 --> 00:55:54,490
would run that exploit and it would

1685
00:55:51,990 --> 00:55:55,990
feedback that details back to the FBI

1686
00:55:54,490 --> 00:55:58,930
server and essentially dear<font color="#CCCCCC"> nandi</font>

1687
00:55:55,990 --> 00:56:00,669
anonymize them essentially<font color="#E5E5E5"> a couple of</font>

1688
00:55:58,930 --> 00:56:03,549
guys caught it a few<font color="#CCCCCC"> days</font><font color="#E5E5E5"> a few days</font>

1689
00:56:00,670 --> 00:56:05,110
after and there was a<font color="#CCCCCC"> JavaScript exploit</font>

1690
00:56:03,550 --> 00:56:06,580
in<font color="#E5E5E5"> there anything sexual essentially</font>

1691
00:56:05,110 --> 00:56:08,320
exploiting a very complex plug in la

1692
00:56:06,580 --> 00:56:11,020
Firefox works I'm<font color="#E5E5E5"> going to</font><font color="#CCCCCC"> talk</font><font color="#E5E5E5"> to you</font>

1693
00:56:08,320 --> 00:56:12,790
more briefly about the sort<font color="#E5E5E5"> of look</font>

1694
00:56:11,020 --> 00:56:13,750
about the shower code itself because

1695
00:56:12,790 --> 00:56:15,070
that's the really really<font color="#E5E5E5"> good thing</font>

1696
00:56:13,750 --> 00:56:16,870
<font color="#E5E5E5">that's interesting the big question of</font>

1697
00:56:15,070 --> 00:56:18,760
course is is this legal is it is it

1698
00:56:16,870 --> 00:56:20,980
legal to exploit a large number of

1699
00:56:18,760 --> 00:56:22,090
<font color="#CCCCCC">people on a large scale some of whom are</font>

1700
00:56:20,980 --> 00:56:23,500
doing something quite innocent<font color="#CCCCCC"> and</font>

1701
00:56:22,090 --> 00:56:26,860
freedom hosting hosted some innocent

1702
00:56:23,500 --> 00:56:28,360
websites incidentally<font color="#E5E5E5"> and if you're</font><font color="#CCCCCC"> SAT</font>

1703
00:56:26,860 --> 00:56:29,560
home right and the FBI exploit your

1704
00:56:28,360 --> 00:56:32,710
computer<font color="#CCCCCC"> and</font><font color="#E5E5E5"> you</font><font color="#CCCCCC"> have no anything</font><font color="#E5E5E5"> wrong</font>

1705
00:56:29,560 --> 00:56:35,230
is that legal does anyone go<font color="#E5E5E5"> to jail for</font>

1706
00:56:32,710 --> 00:56:37,090
<font color="#E5E5E5">that if they do that I mean probably</font>

1707
00:56:35,230 --> 00:56:40,900
should<font color="#CCCCCC"> right i mean i</font><font color="#E5E5E5"> don't think that</font>

1708
00:56:37,090 --> 00:56:42,550
<font color="#E5E5E5">they don't think I will this is the</font>

1709
00:56:40,900 --> 00:56:44,470
reason we know that<font color="#CCCCCC"> GCHQ the essay were</font>

1710
00:56:42,550 --> 00:56:46,660
evolved involved one of the leaks from

1711
00:56:44,470 --> 00:56:48,040
from Snowden actually referred to it was

1712
00:56:46,660 --> 00:56:50,259
called egotistical garage giraffe the

1713
00:56:48,040 --> 00:56:51,940
<font color="#E5E5E5">actual exploit presumably because tor</font>

1714
00:56:50,260 --> 00:56:53,650
users either too egotistical and

1715
00:56:51,940 --> 00:56:55,030
presumably because Jeff's got a high

1716
00:56:53,650 --> 00:56:58,360
head which shows where it is i'm not

1717
00:56:55,030 --> 00:57:00,130
presume so i wanted<font color="#CCCCCC"> to show you the shit</font>

1718
00:56:58,360 --> 00:57:02,530
of the shellcode very briefly I've also

1719
00:57:00,130 --> 00:57:04,810
put on this this<font color="#E5E5E5"> web link here is a copy</font>

1720
00:57:02,530 --> 00:57:06,430
of the shellcode an annotated copy of

1721
00:57:04,810 --> 00:57:07,570
the shellcode and a sort of a walk

1722
00:57:06,430 --> 00:57:09,279
through in text if you're not familiar

1723
00:57:07,570 --> 00:57:12,670
the reverse engineering on exactly how

1724
00:57:09,280 --> 00:57:13,680
it works if you look<font color="#E5E5E5"> at the JavaScript</font>

1725
00:57:12,670 --> 00:57:16,119
code here

1726
00:57:13,680 --> 00:57:18,009
you can see a long list of hex

1727
00:57:16,119 --> 00:57:19,750
characters in a string I mean that's

1728
00:57:18,010 --> 00:57:21,250
characteristic of shell code for these

1729
00:57:19,750 --> 00:57:23,109
types of exploits and<font color="#E5E5E5"> if you take</font><font color="#CCCCCC"> that</font>

1730
00:57:21,250 --> 00:57:24,790
code out just as a guest that<font color="#CCCCCC"> is in fact</font>

1731
00:57:23,109 --> 00:57:26,980
the<font color="#CCCCCC"> shell code and disassemble it it</font>

1732
00:57:24,790 --> 00:57:28,150
does turn out to be<font color="#E5E5E5"> shell code so when</font>

1733
00:57:26,980 --> 00:57:30,430
you run it through a disassembler this

1734
00:57:28,150 --> 00:57:32,500
is what you get so this is run through a

1735
00:57:30,430 --> 00:57:34,270
disassembler<font color="#E5E5E5"> called</font><font color="#CCCCCC"> indus</font><font color="#E5E5E5"> azum and if</font>

1736
00:57:32,500 --> 00:57:35,530
you<font color="#E5E5E5"> ever</font><font color="#CCCCCC"> disassemble shellcode not</font>

1737
00:57:34,270 --> 00:57:37,509
really that familiar with this assembly

1738
00:57:35,530 --> 00:57:39,130
you'll be like<font color="#E5E5E5"> what the hell</font><font color="#CCCCCC"> I have no</font>

1739
00:57:37,510 --> 00:57:41,619
idea<font color="#E5E5E5"> what's going on right</font><font color="#CCCCCC"> those strings</font>

1740
00:57:39,130 --> 00:57:42,880
no exe<font color="#E5E5E5"> to load up new dll is being</font>

1741
00:57:41,619 --> 00:57:44,530
loaded anything that you just<font color="#E5E5E5"> see like a</font>

1742
00:57:42,880 --> 00:57:46,150
blob of instructions you<font color="#CCCCCC"> might what the</font>

1743
00:57:44,530 --> 00:57:47,410
what the<font color="#E5E5E5"> hell is get what the hell's</font>

1744
00:57:46,150 --> 00:57:48,819
going on so<font color="#E5E5E5"> I'm just going to very</font>

1745
00:57:47,410 --> 00:57:50,348
briefly talk to talk<font color="#CCCCCC"> me through how are</font>

1746
00:57:48,819 --> 00:57:53,290
you rehearsed engineering and then and

1747
00:57:50,349 --> 00:57:55,690
then we'll finish up so the thing with

1748
00:57:53,290 --> 00:57:58,089
shell code is shell code is injected

1749
00:57:55,690 --> 00:58:00,640
<font color="#E5E5E5">into another program right so normally</font>

1750
00:57:58,089 --> 00:58:02,710
<font color="#CCCCCC">we want an exe file vxc headers say you</font>

1751
00:58:00,640 --> 00:58:04,210
know bringing this dll and that he ll so

1752
00:58:02,710 --> 00:58:05,980
you know where all the<font color="#CCCCCC"> DLLs are in</font>

1753
00:58:04,210 --> 00:58:07,450
memory<font color="#E5E5E5"> so you can run you know and call</font>

1754
00:58:05,980 --> 00:58:09,400
the windows api and so on<font color="#E5E5E5"> and so forth</font>

1755
00:58:07,450 --> 00:58:11,230
<font color="#CCCCCC">shell code doesn't have that luxury it's</font>

1756
00:58:09,400 --> 00:58:13,329
injected into a process it doesn't know

1757
00:58:11,230 --> 00:58:14,559
precisely where all the<font color="#CCCCCC"> DLLs are so it's</font>

1758
00:58:13,329 --> 00:58:16,690
<font color="#E5E5E5">very common to have something called an</font>

1759
00:58:14,559 --> 00:58:18,849
<font color="#CCCCCC">API resolver embedded in the shell code</font>

1760
00:58:16,690 --> 00:58:21,339
and you call<font color="#CCCCCC"> this API resort to find out</font>

1761
00:58:18,849 --> 00:58:22,930
where different windows API functions or

1762
00:58:21,339 --> 00:58:24,940
where the<font color="#CCCCCC"> DLLs are loaded so you can</font>

1763
00:58:22,930 --> 00:58:26,649
actually<font color="#E5E5E5"> call them it's fairly common to</font>

1764
00:58:24,940 --> 00:58:28,990
see this sort of<font color="#E5E5E5"> this sort of pattern we</font>

1765
00:58:26,650 --> 00:58:31,390
push a series of hex digits didn't leave

1766
00:58:28,990 --> 00:58:33,339
eight hex digits and then make a quarter

1767
00:58:31,390 --> 00:58:36,250
a register that patterns quite common in

1768
00:58:33,339 --> 00:58:38,440
<font color="#E5E5E5">shellcode the register EBP points to the</font>

1769
00:58:36,250 --> 00:58:39,880
shellcode resolver and the hash or

1770
00:58:38,440 --> 00:58:41,980
whether this number here actually

1771
00:58:39,880 --> 00:58:44,109
describes which<font color="#E5E5E5"> API function we're</font>

1772
00:58:41,980 --> 00:58:45,790
calling us out actually calling so the

1773
00:58:44,109 --> 00:58:47,650
process<font color="#E5E5E5"> of reverse engineering the show</font>

1774
00:58:45,790 --> 00:58:50,020
cave is essentially saying okay well

1775
00:58:47,650 --> 00:58:51,880
find out which API resolve is being used

1776
00:58:50,020 --> 00:58:53,319
and then look up these hash functions

1777
00:58:51,880 --> 00:58:55,720
and go through and comment them and say

1778
00:58:53,319 --> 00:58:57,460
this is this API<font color="#CCCCCC"> that's that API and so</font>

1779
00:58:55,720 --> 00:58:58,660
on<font color="#E5E5E5"> and so forth and</font><font color="#CCCCCC"> then you end up</font><font color="#E5E5E5"> with</font>

1780
00:58:57,460 --> 00:59:00,819
something like<font color="#CCCCCC"> this this</font><font color="#E5E5E5"> is the same</font>

1781
00:58:58,660 --> 00:59:02,319
shell code the only<font color="#E5E5E5"> difference is I've</font>

1782
00:59:00,819 --> 00:59:04,299
added some comments to the right hand

1783
00:59:02,319 --> 00:59:06,520
side and<font color="#E5E5E5"> exactly what's going on so</font>

1784
00:59:04,299 --> 00:59:08,829
there's that<font color="#E5E5E5"> hash there's that core to</font>

1785
00:59:06,520 --> 00:59:11,619
the 85 is over and this hash essentially

1786
00:59:08,829 --> 00:59:13,420
maps to wind sock which is the sort of

1787
00:59:11,619 --> 00:59:14,650
internet connection<font color="#E5E5E5"> dll and the</font>

1788
00:59:13,420 --> 00:59:15,910
connection function so we know at that

1789
00:59:14,650 --> 00:59:17,680
point<font color="#E5E5E5"> that it's establishing a</font>

1790
00:59:15,910 --> 00:59:19,390
connection out onto the internet

1791
00:59:17,680 --> 00:59:21,339
somewhere the question is where is it

1792
00:59:19,390 --> 00:59:23,078
establishing a connection to if you ever

1793
00:59:21,339 --> 00:59:24,578
written any<font color="#CCCCCC"> C code you know when you do</font>

1794
00:59:23,079 --> 00:59:27,040
a connect you have to set up that

1795
00:59:24,579 --> 00:59:28,900
horrible sin address structure and as

1796
00:59:27,040 --> 00:59:32,230
<font color="#CCCCCC">does not prettiest thing in the world is</font>

1797
00:59:28,900 --> 00:59:33,850
it but that of<font color="#CCCCCC"> course is</font><font color="#E5E5E5"> going to be</font>

1798
00:59:32,230 --> 00:59:35,980
where the IP address<font color="#CCCCCC"> is stored so</font>

1799
00:59:33,850 --> 00:59:37,270
typically when you see a call the

1800
00:59:35,980 --> 00:59:39,190
parameters are pushed<font color="#CCCCCC"> onto the stack</font>

1801
00:59:37,270 --> 00:59:41,110
just before it and one of<font color="#E5E5E5"> these things</font>

1802
00:59:39,190 --> 00:59:43,080
which<font color="#CCCCCC"> is push on is just</font><font color="#E5E5E5"> that sinner</font>

1803
00:59:41,110 --> 00:59:45,220
dress structure so we find it in memory

1804
00:59:43,080 --> 00:59:47,170
there's the sinner dress structure looks

1805
00:59:45,220 --> 00:59:48,549
like a series of bikes but when<font color="#E5E5E5"> you know</font>

1806
00:59:47,170 --> 00:59:50,020
what the sin addressed structure is you

1807
00:59:48,550 --> 00:59:52,270
can comment the shellcode and say<font color="#E5E5E5"> okay</font>

1808
00:59:50,020 --> 00:59:54,730
well this is the IP address<font color="#E5E5E5"> that's the</font>

1809
00:59:52,270 --> 00:59:57,610
port and this is the IP<font color="#CCCCCC"> address it was</font>

1810
00:59:54,730 --> 01:00:00,300
<font color="#CCCCCC">vs. somewhere in Vancouver I think not</font>

1811
00:59:57,610 --> 01:00:02,170
Vancouver VA what's ba the state code

1812
01:00:00,300 --> 01:00:05,980
<font color="#E5E5E5">Virginia that's it which is not that far</font>

1813
01:00:02,170 --> 01:00:08,230
<font color="#CCCCCC">from one of the contractors for for the</font>

1814
01:00:05,980 --> 01:00:09,310
effort for the FBI<font color="#CCCCCC"> and incidentally but</font>

1815
01:00:08,230 --> 01:00:10,930
we're<font color="#E5E5E5"> not quite sure who was running</font>

1816
01:00:09,310 --> 01:00:12,820
here I mean you look at the who is stuff

1817
01:00:10,930 --> 01:00:14,049
you know who's who's running it but the

1818
01:00:12,820 --> 01:00:16,180
<font color="#CCCCCC">interesting thing</font><font color="#E5E5E5"> is what the shellcode</font>

1819
01:00:14,050 --> 01:00:17,110
did right i mean most shower code is

1820
01:00:16,180 --> 01:00:18,940
going to try<font color="#CCCCCC"> and get some sort of</font>

1821
01:00:17,110 --> 01:00:20,710
persistence install some<font color="#CCCCCC"> mera</font><font color="#E5E5E5"> on the</font>

1822
01:00:18,940 --> 01:00:22,450
computer that's the typical pattern for

1823
01:00:20,710 --> 01:00:24,340
<font color="#E5E5E5">shell code this shell code doesn't do</font>

1824
01:00:22,450 --> 01:00:26,740
any of that right it literally phones

1825
01:00:24,340 --> 01:00:29,200
home so it contacts the FBI server or

1826
01:00:26,740 --> 01:00:31,720
whoever service was and it sends them

1827
01:00:29,200 --> 01:00:34,149
your mac address your computer's

1828
01:00:31,720 --> 01:00:36,250
hostname and a unique reference number

1829
01:00:34,150 --> 01:00:39,250
AKA everything that could<font color="#CCCCCC"> be used</font><font color="#E5E5E5"> to</font>

1830
01:00:36,250 --> 01:00:41,050
identify you right and then it stops but

1831
01:00:39,250 --> 01:00:42,520
that's<font color="#E5E5E5"> not how malware typically works</font>

1832
01:00:41,050 --> 01:00:43,780
right<font color="#CCCCCC"> i mean</font><font color="#E5E5E5"> listen you know you're</font>

1833
01:00:42,520 --> 01:00:45,040
running the business right you're<font color="#CCCCCC"> not</font>

1834
01:00:43,780 --> 01:00:46,630
going to make<font color="#E5E5E5"> our money by collecting</font>

1835
01:00:45,040 --> 01:00:48,310
people's<font color="#E5E5E5"> MAC addresses obviously it's</font>

1836
01:00:46,630 --> 01:00:50,800
not going to get<font color="#E5E5E5"> me to be profitable so</font>

1837
01:00:48,310 --> 01:00:52,779
I<font color="#CCCCCC"> Canton will I</font><font color="#E5E5E5"> put this on the website</font>

1838
01:00:50,800 --> 01:00:54,700
but<font color="#CCCCCC"> it's fairly</font><font color="#E5E5E5"> easy to patch this code</font>

1839
01:00:52,780 --> 01:00:56,410
if you<font color="#E5E5E5"> look here there's the offsets for</font>

1840
01:00:54,700 --> 01:00:57,910
the data and you can just patch the IP

1841
01:00:56,410 --> 01:00:59,529
address by just for changing the bites

1842
01:00:57,910 --> 01:01:00,850
you can patch the port you can<font color="#CCCCCC"> run</font>

1843
01:00:59,530 --> 01:01:02,470
netcat and then you can execute the

1844
01:01:00,850 --> 01:01:04,690
shellcode and the shellcode will send

1845
01:01:02,470 --> 01:01:07,149
just the HTTP<font color="#CCCCCC"> request so here was a get</font>

1846
01:01:04,690 --> 01:01:08,860
request made to the FBI server this

1847
01:01:07,150 --> 01:01:10,930
appears to<font color="#E5E5E5"> be some sort of unique</font>

1848
01:01:08,860 --> 01:01:12,700
reference number possibly which were

1849
01:01:10,930 --> 01:01:14,350
links you up with a particular visits

1850
01:01:12,700 --> 01:01:16,120
that all hidden service so they could

1851
01:01:14,350 --> 01:01:19,450
<font color="#E5E5E5">identify which toy in service it was he</font>

1852
01:01:16,120 --> 01:01:21,040
went to at what time etc etc and then in

1853
01:01:19,450 --> 01:01:22,720
the header you've got this cookie ID

1854
01:01:21,040 --> 01:01:26,320
equals this is actually your mac address

1855
01:01:22,720 --> 01:01:28,060
and the host is set to your computer so

1856
01:01:26,320 --> 01:01:29,500
you know everything which ties you are

1857
01:01:28,060 --> 01:01:31,029
essentially<font color="#E5E5E5"> right you have to i now have</font>

1858
01:01:29,500 --> 01:01:32,980
your IP address to have your mac address

1859
01:01:31,030 --> 01:01:34,210
they have your computer's hostname and

1860
01:01:32,980 --> 01:01:35,950
if they can't trace you've our IP

1861
01:01:34,210 --> 01:01:37,960
address then<font color="#CCCCCC"> i could trace your mac</font>

1862
01:01:35,950 --> 01:01:40,490
address through<font color="#CCCCCC"> the supply chain etc etc</font>

1863
01:01:37,960 --> 01:01:43,550
<font color="#E5E5E5">etc you're done</font>

1864
01:01:40,490 --> 01:01:44,959
<font color="#CCCCCC">all right essentially</font><font color="#E5E5E5"> so</font><font color="#CCCCCC"> so the website</font>

1865
01:01:43,550 --> 01:01:46,190
there<font color="#E5E5E5"> the full source code there and</font>

1866
01:01:44,960 --> 01:01:47,780
everything if you want how to<font color="#E5E5E5"> play with</font>

1867
01:01:46,190 --> 01:01:50,480
it and have a look<font color="#E5E5E5"> round it how is it</font>

1868
01:01:47,780 --> 01:01:52,910
<font color="#E5E5E5">helped with the</font><font color="#CCCCCC"> Tor project I put the</font>

1869
01:01:50,480 --> 01:01:53,750
first when it's used<font color="#CCCCCC"> tor right most</font>

1870
01:01:52,910 --> 01:01:55,850
you're sitting there thinking why the

1871
01:01:53,750 --> 01:01:57,350
how do i need to use tor<font color="#CCCCCC"> i'm not some</font>

1872
01:01:55,850 --> 01:01:58,880
<font color="#CCCCCC">terrorist or doing anything dodgy right</font>

1873
01:01:57,350 --> 01:02:00,890
well actually there are people<font color="#E5E5E5"> that</font>

1874
01:01:58,880 --> 01:02:02,540
really need tall we went<font color="#CCCCCC"> around China</font>

1875
01:02:00,890 --> 01:02:06,650
surrett cetera you know who really

1876
01:02:02,540 --> 01:02:08,480
<font color="#E5E5E5">depend upon't or if you use tor right it</font>

1877
01:02:06,650 --> 01:02:10,190
makes<font color="#E5E5E5"> the noise bigger all right there</font>

1878
01:02:08,480 --> 01:02:12,320
in amongst the noise if only bad people

1879
01:02:10,190 --> 01:02:14,119
use tor then you know simply<font color="#E5E5E5"> by looking</font>

1880
01:02:12,320 --> 01:02:15,650
at tor you catch all the<font color="#E5E5E5"> bad people</font>

1881
01:02:14,119 --> 01:02:18,830
right<font color="#CCCCCC"> I</font><font color="#E5E5E5"> mean it's like a honey trap type</font>

1882
01:02:15,650 --> 01:02:20,360
thing obviously if genuine people use

1883
01:02:18,830 --> 01:02:21,920
tor who aren't do anything wrong it sort

1884
01:02:20,360 --> 01:02:23,440
of mixes them against the noise and mix

1885
01:02:21,920 --> 01:02:25,730
them essentially more more anonymous

1886
01:02:23,440 --> 01:02:27,290
consider running at all<font color="#E5E5E5"> relay you don't</font>

1887
01:02:25,730 --> 01:02:28,550
<font color="#E5E5E5">need a huge amount of bandwidth most</font>

1888
01:02:27,290 --> 01:02:30,440
people can run it quite comfortably on

1889
01:02:28,550 --> 01:02:32,420
that home broadband without any ill

1890
01:02:30,440 --> 01:02:33,710
effects in terms of you know<font color="#E5E5E5"> reducing</font>

1891
01:02:32,420 --> 01:02:35,270
that bandwidth availability<font color="#E5E5E5"> yoona can</font>

1892
01:02:33,710 --> 01:02:38,930
easily run a couple of hundred kilobytes

1893
01:02:35,270 --> 01:02:40,460
or hundred kilobits about you know relay

1894
01:02:38,930 --> 01:02:42,230
at home without it really impacting you

1895
01:02:40,460 --> 01:02:44,780
don't run an exit unless you really do

1896
01:02:42,230 --> 01:02:46,160
like pain or law enforcement visiting

1897
01:02:44,780 --> 01:02:48,050
its folk in the morning but<font color="#E5E5E5"> I don't</font><font color="#CCCCCC"> like</font>

1898
01:02:46,160 --> 01:02:50,690
early mornings so it would really peed

1899
01:02:48,050 --> 01:02:53,600
me off along with the investigation as

1900
01:02:50,690 --> 01:02:55,369
well<font color="#E5E5E5"> obviously</font><font color="#CCCCCC"> consider developing</font><font color="#E5E5E5"> for</font>

1901
01:02:53,600 --> 01:02:57,650
tor tor is an open source project so you

1902
01:02:55,369 --> 01:02:59,240
can contribute to<font color="#CCCCCC"> it and you know really</font>

1903
01:02:57,650 --> 01:03:01,400
sort of contribute to or you can develop

1904
01:02:59,240 --> 01:03:03,020
<font color="#E5E5E5">alternative product projects</font><font color="#CCCCCC"> like you</font>

1905
01:03:01,400 --> 01:03:05,210
know that is the tor browser bundle as

1906
01:03:03,020 --> 01:03:07,009
the<font color="#E5E5E5"> dahlia etc etc these are sort of</font>

1907
01:03:05,210 --> 01:03:09,590
like<font color="#CCCCCC"> a successor eat or projects which</font>

1908
01:03:07,010 --> 01:03:11,720
you can contribute to<font color="#E5E5E5"> or build or build</font>

1909
01:03:09,590 --> 01:03:13,400
other types of things this is then 18

1910
01:03:11,720 --> 01:03:14,660
you get<font color="#E5E5E5"> free t-shirt if you donate sixty</font>

1911
01:03:13,400 --> 01:03:16,340
dollars there's nothing<font color="#CCCCCC"> that's great</font>

1912
01:03:14,660 --> 01:03:17,509
value for<font color="#E5E5E5"> money but incident if you want</font>

1913
01:03:16,340 --> 01:03:18,710
to talk if<font color="#CCCCCC"> you on a t-shirt you can</font><font color="#E5E5E5"> run</font>

1914
01:03:17,510 --> 01:03:19,910
<font color="#E5E5E5">at</font><font color="#CCCCCC"> or relay for two months</font><font color="#E5E5E5"> and you get a</font>

1915
01:03:18,710 --> 01:03:22,670
free t-shirt that<font color="#E5E5E5"> way if that's the way</font>

1916
01:03:19,910 --> 01:03:24,140
I've chosen to go promote it right come

1917
01:03:22,670 --> 01:03:25,730
and give talks about tor it's a really

1918
01:03:24,140 --> 01:03:27,379
great thing<font color="#CCCCCC"> for people who in</font><font color="#E5E5E5"> countries</font>

1919
01:03:25,730 --> 01:03:29,420
where you<font color="#CCCCCC"> know actually really is a</font>

1920
01:03:27,380 --> 01:03:30,800
matter of<font color="#E5E5E5"> life or death for them to be</font>

1921
01:03:29,420 --> 01:03:32,570
able to use tor or consider doing

1922
01:03:30,800 --> 01:03:33,950
research on tour making it better right

1923
01:03:32,570 --> 01:03:35,630
i mean i don't want to do non of my

1924
01:03:33,950 --> 01:03:37,339
school from tour for fun right I want to

1925
01:03:35,630 --> 01:03:38,690
<font color="#E5E5E5">make tour better and anyway you make</font>

1926
01:03:37,340 --> 01:03:40,430
tour<font color="#CCCCCC"> bettis by breaking it and</font><font color="#E5E5E5"> then</font>

1927
01:03:38,690 --> 01:03:41,960
fixing it right now unfortunately don't

1928
01:03:40,430 --> 01:03:45,529
know how to fix it very well so you know

1929
01:03:41,960 --> 01:03:48,260
<font color="#E5E5E5">I broke ok any questions then I'll just</font>

1930
01:03:45,530 --> 01:03:50,869
say if<font color="#E5E5E5"> you want any code right here's</font>

1931
01:03:48,260 --> 01:03:52,340
the<font color="#E5E5E5"> link</font><font color="#CCCCCC"> to my github on there is the</font>

1932
01:03:50,869 --> 01:03:53,630
modified tour client which collects all

1933
01:03:52,340 --> 01:03:55,460
of those hidden service address

1934
01:03:53,630 --> 01:03:56,630
<font color="#E5E5E5">is as loads of scripts a crawler</font>

1935
01:03:55,460 --> 01:03:58,400
etcetera for going through all the

1936
01:03:56,630 --> 01:04:03,259
hidden services and then there's a link

1937
01:03:58,400 --> 01:04:06,400
for the FBI talking any questions sorry

1938
01:04:03,259 --> 01:04:06,400
I've broken into a break a<font color="#E5E5E5"> little bit</font>

1939
01:04:07,720 --> 01:04:25,069
<font color="#E5E5E5">tase old tales sorry yeah so there</font><font color="#CCCCCC"> is a</font>

1940
01:04:21,079 --> 01:04:26,690
there's a live CD version of live CD

1941
01:04:25,069 --> 01:04:29,359
version of torque or tails which is a

1942
01:04:26,690 --> 01:04:31,250
debian distribution with<font color="#E5E5E5"> tor built into</font>

1943
01:04:29,359 --> 01:04:34,038
it such that traffic can only go<font color="#CCCCCC"> by a</font>

1944
01:04:31,250 --> 01:04:36,230
tour or not at all right so that means

1945
01:04:34,039 --> 01:04:38,660
that<font color="#E5E5E5"> if for example the FBI had written</font>

1946
01:04:36,230 --> 01:04:39,740
an exploit which worked against<font color="#CCCCCC"> firefox</font>

1947
01:04:38,660 --> 01:04:41,359
<font color="#CCCCCC">linux and you would</font><font color="#E5E5E5"> have been</font>

1948
01:04:39,740 --> 01:04:42,890
<font color="#E5E5E5">invulnerable to it because that sort of</font>

1949
01:04:41,359 --> 01:04:44,630
phone at home would also gone through

1950
01:04:42,890 --> 01:04:46,578
torrid<font color="#E5E5E5"> tour as well so yeah very good</font>

1951
01:04:44,630 --> 01:04:49,339
very good point is that is the tailless

1952
01:04:46,579 --> 01:04:50,720
thing as well so if your stairs doesn't

1953
01:04:49,339 --> 01:04:52,250
log anything as well seen if you don't

1954
01:04:50,720 --> 01:04:53,450
want to get<font color="#E5E5E5"> caught after the fact when</font>

1955
01:04:52,250 --> 01:04:56,359
you're the computer<font color="#E5E5E5"> season you can use</font>

1956
01:04:53,450 --> 01:05:06,578
towels as well and any other questions

1957
01:04:56,359 --> 01:05:06,578
then what why would<font color="#E5E5E5"> you want to do</font><font color="#CCCCCC"> that</font>

1958
01:05:06,640 --> 01:05:12,890
we're an exit relay into tall I don't

1959
01:05:10,460 --> 01:05:16,519
see the<font color="#CCCCCC"> value I don't see</font><font color="#E5E5E5"> why it would</font>

1960
01:05:12,890 --> 01:05:21,670
be useful sorry there's another question

1961
01:05:16,519 --> 01:05:21,669
was a no yeah

1962
01:05:26,020 --> 01:05:30,290
no because by the time<font color="#E5E5E5"> I got to</font><font color="#CCCCCC"> it the</font>

1963
01:05:28,100 --> 01:05:31,670
server had gone down so you know I mean

1964
01:05:30,290 --> 01:05:32,900
<font color="#E5E5E5">that would be more useful you know could</font>

1965
01:05:31,670 --> 01:05:36,590
you exploit the<font color="#E5E5E5"> FBI oh no that's not</font>

1966
01:05:32,900 --> 01:05:38,150
good idea<font color="#CCCCCC"> is that I don't know what I</font>

1967
01:05:36,590 --> 01:05:39,380
don't know if there<font color="#E5E5E5"> will be no value it</font>

1968
01:05:38,150 --> 01:05:41,720
there was<font color="#E5E5E5"> no response process in the</font>

1969
01:05:39,380 --> 01:05:43,340
shellcode so it wouldn't<font color="#CCCCCC"> be no value in</font>

1970
01:05:41,720 --> 01:05:44,750
<font color="#CCCCCC">the response itself now that would be a</font>

1971
01:05:43,340 --> 01:05:46,820
bit interesting thing so you know

1972
01:05:44,750 --> 01:05:48,440
<font color="#CCCCCC">towards</font><font color="#E5E5E5"> leave your toys a really great</font>

1973
01:05:46,820 --> 01:05:49,880
project please support it right it

1974
01:05:48,440 --> 01:05:52,160
<font color="#E5E5E5">really does help people that are really</font>

1975
01:05:49,880 --> 01:05:53,780
in really nasty countries it's also a

1976
01:05:52,160 --> 01:05:55,879
tool for us right if you really care

1977
01:05:53,780 --> 01:05:57,830
about anonymity and privacy right it's

1978
01:05:55,880 --> 01:06:01,450
really the only<font color="#E5E5E5"> real solution we have at</font>

1979
01:05:57,830 --> 01:06:01,450
the<font color="#CCCCCC"> moment that really that really works</font>

1980
01:06:10,180 --> 01:06:14,120
so I mean the only the<font color="#CCCCCC"> only way that I</font>

1981
01:06:12,680 --> 01:06:15,680
know there's two ways you can fit this

1982
01:06:14,120 --> 01:06:17,150
two ways essentially you can<font color="#E5E5E5"> fix it one</font>

1983
01:06:15,680 --> 01:06:18,859
is by adding padding but that overloads

1984
01:06:17,150 --> 01:06:20,300
the Tor network and you know there's

1985
01:06:18,860 --> 01:06:21,680
very constrained capacity available on

1986
01:06:20,300 --> 01:06:22,850
the tour<font color="#CCCCCC"> now it doesn't</font><font color="#E5E5E5"> really fix it</font>

1987
01:06:21,680 --> 01:06:25,509
completely it just makes it<font color="#E5E5E5"> much much</font>

1988
01:06:22,850 --> 01:06:27,860
harder you know<font color="#E5E5E5"> and the other one was</font>

1989
01:06:25,510 --> 01:06:29,450
<font color="#E5E5E5">higher high latency network which again</font>

1990
01:06:27,860 --> 01:06:32,710
you know who's<font color="#E5E5E5"> going to use tor if it</font>

1991
01:06:29,450 --> 01:06:32,710
takes a day to get a web page<font color="#E5E5E5"> no</font>

1992
01:06:36,510 --> 01:06:42,990
protect yourself when you yep you can<font color="#E5E5E5"> do</font>

1993
01:06:40,500 --> 01:06:45,690
you can<font color="#CCCCCC"> root all tcp traffic through tor</font>

1994
01:06:42,990 --> 01:06:47,160
so you know a standard vp8<font color="#E5E5E5"> well</font><font color="#CCCCCC"> a tcp</font>

1995
01:06:45,690 --> 01:06:48,870
based VPN you could easily route through

1996
01:06:47,160 --> 01:06:56,100
the exit mode then you know do you trust

1997
01:06:48,870 --> 01:07:00,660
your VPN provider yeah<font color="#E5E5E5"> I guess that we</font>

1998
01:06:56,100 --> 01:07:01,589
are I guess from<font color="#E5E5E5"> my point of view kind</font>

1999
01:07:00,660 --> 01:07:03,690
of assume that you've got a very

2000
01:07:01,590 --> 01:07:05,400
<font color="#E5E5E5">powerful adversary you know and that if</font>

2001
01:07:03,690 --> 01:07:07,500
you're<font color="#CCCCCC"> going to use a VPN and through</font>

2002
01:07:05,400 --> 01:07:08,640
tor you see what I mean you just kind of

2003
01:07:07,500 --> 01:07:10,620
move in the goalpost<font color="#E5E5E5"> of it you're not</font>

2004
01:07:08,640 --> 01:07:11,779
really fixing the fundamental problem if

2005
01:07:10,620 --> 01:07:14,430
you say whatever ceiling mean that's<font color="#CCCCCC"> for</font>

2006
01:07:11,780 --> 01:07:16,440
<font color="#CCCCCC">ya so there's a quick solution maybe</font>

2007
01:07:14,430 --> 01:07:19,129
yeah i mean i don't really trust VPN

2008
01:07:16,440 --> 01:07:19,130
providers personally

2009
01:07:37,080 --> 01:07:41,200
so that's a very<font color="#E5E5E5"> good point so when you</font>

2010
01:07:39,460 --> 01:07:44,140
when you went the tour client picks a

2011
01:07:41,200 --> 01:07:45,490
circuit to know any two nodes in<font color="#CCCCCC"> the in</font>

2012
01:07:44,140 --> 01:07:49,270
the<font color="#CCCCCC"> tour circular aren't allowed to be</font>

2013
01:07:45,490 --> 01:07:51,069
in the same<font color="#E5E5E5"> / 16 subnet so you know you</font>

2014
01:07:49,270 --> 01:07:52,840
could say psycho it's pretty not true

2015
01:07:51,070 --> 01:07:55,300
nowadays but at the / 16 something<font color="#E5E5E5"> is</font>

2016
01:07:52,840 --> 01:07:57,520
moving one IP one on one isp a couple of

2017
01:07:55,300 --> 01:07:59,020
ISPs so tour tries to minimize the risk

2018
01:07:57,520 --> 01:08:00,759
we're separating across you know much

2019
01:07:59,020 --> 01:08:02,080
much you know make<font color="#CCCCCC"> sure that two nodes</font>

2020
01:08:00,760 --> 01:08:03,430
aren't in the same subnets they're much

2021
01:08:02,080 --> 01:08:05,590
less likely controlled by the same

2022
01:08:03,430 --> 01:08:07,029
adversary and you can configure tour to

2023
01:08:05,590 --> 01:08:09,040
pick entry nodes in a particular country

2024
01:08:07,030 --> 01:08:11,080
and exit nodes in a particular<font color="#E5E5E5"> country</font>

2025
01:08:09,040 --> 01:08:13,029
which would you know might be<font color="#E5E5E5"> useful in</font>

2026
01:08:11,080 --> 01:08:14,319
some circumstances you know<font color="#E5E5E5"> there's a</font>

2027
01:08:13,030 --> 01:08:17,130
lot<font color="#CCCCCC"> of configuration you can do with</font>

2028
01:08:14,320 --> 01:08:17,130
tortured interesting things

2029
01:08:20,550 --> 01:08:32,770
what<font color="#E5E5E5"> sorry I'm not familiar with that</font>

2030
01:08:24,160 --> 01:08:34,779
I've road I'm not familiar with it<font color="#CCCCCC"> okay</font>

2031
01:08:32,770 --> 01:08:40,140
there is an alternative talk to tour

2032
01:08:34,779 --> 01:08:40,139
called IPP I<font color="#CCCCCC"> thinks I PP ly two piece I</font>

2033
01:08:46,140 --> 01:08:49,900
mean any any solution any solution<font color="#CCCCCC"> which</font>

2034
01:08:48,670 --> 01:08:51,520
helps these two aims you<font color="#E5E5E5"> know the</font>

2035
01:08:49,899 --> 01:08:53,500
privacy<font color="#E5E5E5"> and anonymity</font><font color="#CCCCCC"> it's got to</font><font color="#E5E5E5"> be a</font>

2036
01:08:51,520 --> 01:08:54,760
good<font color="#E5E5E5"> thing you know tour I think of the</font>

2037
01:08:53,500 --> 01:08:57,420
state of the art at the moment in terms

2038
01:08:54,760 --> 01:08:59,500
of in terms of technical solution and

2039
01:08:57,420 --> 01:09:13,029
certainly might in my do and<font color="#CCCCCC"> may be</font>

2040
01:08:59,500 --> 01:09:16,029
wrong<font color="#E5E5E5"> on</font><font color="#CCCCCC"> that of course I mean well you</font>

2041
01:09:13,029 --> 01:09:17,469
know<font color="#E5E5E5"> I may be right i mean generally</font>

2042
01:09:16,029 --> 01:09:19,210
it's a general<font color="#E5E5E5"> generally it's a bad idea</font>

2043
01:09:17,470 --> 01:09:21,760
to mix your traffic with other people's

2044
01:09:19,210 --> 01:09:23,620
traffic you know if you run an exit

2045
01:09:21,760 --> 01:09:25,120
relay and you also browse the web by

2046
01:09:23,620 --> 01:09:26,559
that same address you know when they

2047
01:09:25,120 --> 01:09:27,760
come after you for doing bad stuff you

2048
01:09:26,560 --> 01:09:29,350
could say well<font color="#CCCCCC"> i'm running exit relay</font>

2049
01:09:27,760 --> 01:09:30,910
but<font color="#E5E5E5"> do you browse</font><font color="#CCCCCC"> the net through your</font>

2050
01:09:29,350 --> 01:09:38,910
address<font color="#E5E5E5"> as well yeah so you know there's</font>

2051
01:09:30,910 --> 01:09:44,050
<font color="#CCCCCC">so much it's done yeah I see your point</font>

2052
01:09:38,910 --> 01:09:48,670
maybe<font color="#CCCCCC"> question</font><font color="#E5E5E5"> I think about it more any</font>

2053
01:09:44,050 --> 01:09:50,820
other questions quite the services when

2054
01:09:48,670 --> 01:09:50,819
we

2055
01:09:52,100 --> 01:10:04,800
couldn't we use like anxious<font color="#CCCCCC"> to so for</font>

2056
01:10:03,270 --> 01:10:06,810
the<font color="#E5E5E5"> distribute hash table the way it</font>

2057
01:10:04,800 --> 01:10:08,550
works is if you've been running<font color="#E5E5E5"> for 25</font>

2058
01:10:06,810 --> 01:10:09,810
<font color="#CCCCCC">hours and you offer more than I</font><font color="#E5E5E5"> think 50</font>

2059
01:10:08,550 --> 01:10:11,220
kilobits our bandwidth you're eligible

2060
01:10:09,810 --> 01:10:13,140
<font color="#E5E5E5">to participate in</font><font color="#CCCCCC"> the distributed</font><font color="#E5E5E5"> hash</font>

2061
01:10:11,220 --> 01:10:15,960
table so the idea<font color="#E5E5E5"> is that by requiring</font>

2062
01:10:13,140 --> 01:10:18,060
50 kilobits of bandwidth and requiring

2063
01:10:15,960 --> 01:10:19,590
you to be on for 25<font color="#CCCCCC"> hours it kind of</font>

2064
01:10:18,060 --> 01:10:21,330
<font color="#CCCCCC">route increases the amount of resources</font>

2065
01:10:19,590 --> 01:10:22,560
and attacker needs to be needs if they

2066
01:10:21,330 --> 01:10:24,269
want<font color="#E5E5E5"> to you know put a large number of</font>

2067
01:10:22,560 --> 01:10:25,500
nodes on the district has table clear

2068
01:10:24,270 --> 01:10:27,240
doesn't stop<font color="#CCCCCC"> it because we've got</font><font color="#E5E5E5"> 40</font>

2069
01:10:25,500 --> 01:10:28,890
notes but you know we've only<font color="#E5E5E5"> got 40</font>

2070
01:10:27,240 --> 01:10:30,150
notes because<font color="#E5E5E5"> a student was runs a</font>

2071
01:10:28,890 --> 01:10:31,800
hosting company<font color="#CCCCCC"> at loads of spare</font>

2072
01:10:30,150 --> 01:10:33,360
capacity was like here you go how<font color="#CCCCCC"> about</font>

2073
01:10:31,800 --> 01:10:34,770
you know stuff<font color="#E5E5E5"> you know</font><font color="#CCCCCC"> but it makes</font><font color="#E5E5E5"> it</font>

2074
01:10:33,360 --> 01:10:36,269
much more difficult it<font color="#E5E5E5"> wasn't attack</font>

2075
01:10:34,770 --> 01:10:38,580
<font color="#E5E5E5">from</font><font color="#CCCCCC"> the</font><font color="#E5E5E5"> University of Luxembourg which</font>

2076
01:10:36,270 --> 01:10:40,170
showed that<font color="#E5E5E5"> you could</font><font color="#CCCCCC"> actually fake</font>

2077
01:10:38,580 --> 01:10:42,330
nodes<font color="#E5E5E5"> onto the distributed hash table</font>

2078
01:10:40,170 --> 01:10:44,430
without using very much resources at all

2079
01:10:42,330 --> 01:10:46,500
but they they told the<font color="#CCCCCC"> Tor project about</font>

2080
01:10:44,430 --> 01:10:49,140
it and they fixed it so you know at the

2081
01:10:46,500 --> 01:10:52,700
moment<font color="#E5E5E5"> quite expensive to run a large</font>

2082
01:10:49,140 --> 01:10:52,700
number of nodes on the<font color="#E5E5E5"> dish p dash table</font>

2083
01:10:58,510 --> 01:11:13,280
vector we have to compromise lots of

2084
01:11:01,010 --> 01:11:14,540
machines how much yeah yeah yeah I think

2085
01:11:13,280 --> 01:11:15,980
that's<font color="#E5E5E5"> all there's lots of things</font><font color="#CCCCCC"> we can</font>

2086
01:11:14,540 --> 01:11:17,420
do to make it<font color="#CCCCCC"> a lot more difficult and</font>

2087
01:11:15,980 --> 01:11:19,009
<font color="#E5E5E5">tour does do quite a lot of</font><font color="#CCCCCC"> things to</font>

2088
01:11:17,420 --> 01:11:21,620
make<font color="#CCCCCC"> it you know generally</font><font color="#E5E5E5"> i guess a</font>

2089
01:11:19,010 --> 01:11:23,270
<font color="#CCCCCC">verte or it more difficult but it is you</font>

2090
01:11:21,620 --> 01:11:24,710
know it is a process of making it more

2091
01:11:23,270 --> 01:11:27,020
difficult rather than impossible if you

2092
01:11:24,710 --> 01:11:29,200
see what I mean you know so<font color="#E5E5E5"> okay thanks</font>

2093
01:11:27,020 --> 01:11:29,200
very much

