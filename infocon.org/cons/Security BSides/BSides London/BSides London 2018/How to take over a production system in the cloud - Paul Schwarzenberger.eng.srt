1
00:00:00,089 --> 00:00:07,620
hi good afternoon as it is now afternoon

2
00:00:04,019 --> 00:00:09,210
and I'm<font color="#E5E5E5"> going to aim to</font><font color="#CCCCCC"> finish in time</font>

3
00:00:07,620 --> 00:00:11,849
for lunch

4
00:00:09,210 --> 00:00:15,089
so I'm Paul Schwarzenberg<font color="#CCCCCC"> a cloud</font>

5
00:00:11,849 --> 00:00:17,279
security<font color="#E5E5E5"> architects and</font><font color="#CCCCCC"> SEC ops so I'm</font>

6
00:00:15,089 --> 00:00:20,430
going to<font color="#E5E5E5"> talk</font><font color="#CCCCCC"> about how</font><font color="#E5E5E5"> to take</font><font color="#CCCCCC"> over a</font>

7
00:00:17,279 --> 00:00:21,930
production system in the cloud<font color="#E5E5E5"> so this</font>

8
00:00:20,430 --> 00:00:24,240
is based on some<font color="#CCCCCC"> of</font><font color="#E5E5E5"> the work that I've</font>

9
00:00:21,930 --> 00:00:26,789
<font color="#E5E5E5">done with different</font><font color="#CCCCCC"> customers</font><font color="#E5E5E5"> over the</font>

10
00:00:24,240 --> 00:00:29,459
last four<font color="#CCCCCC"> to five</font><font color="#E5E5E5"> years</font>

11
00:00:26,789 --> 00:00:32,730
<font color="#E5E5E5">so before</font><font color="#CCCCCC"> I start how many of you are</font>

12
00:00:29,460 --> 00:00:36,149
<font color="#CCCCCC">working on</font><font color="#E5E5E5"> cloud systems in some way or</font>

13
00:00:32,729 --> 00:00:37,828
another<font color="#CCCCCC"> this</font><font color="#E5E5E5"> is probably at</font><font color="#CCCCCC"> LeapPad at</font>

14
00:00:36,149 --> 00:00:39,360
<font color="#CCCCCC">1/2</font><font color="#E5E5E5"> but probably about half of the</font>

15
00:00:37,829 --> 00:00:41,040
<font color="#CCCCCC">audience and then of course</font><font color="#E5E5E5"> there's some</font>

16
00:00:39,360 --> 00:00:44,610
who are but didn't want<font color="#E5E5E5"> to put their</font>

17
00:00:41,040 --> 00:00:48,600
<font color="#E5E5E5">hands up so that's</font><font color="#CCCCCC"> fine so what I'm</font>

18
00:00:44,610 --> 00:00:50,879
<font color="#E5E5E5">going to do in this talk is I'm going to</font>

19
00:00:48,600 --> 00:00:53,399
give three examples of cloud security

20
00:00:50,879 --> 00:00:56,780
<font color="#E5E5E5">issues and these are all issues which</font>

21
00:00:53,399 --> 00:01:01,800
I've encountered<font color="#E5E5E5"> as I say working with</font>

22
00:00:56,780 --> 00:01:04,199
different organizations<font color="#CCCCCC"> and I'm going</font><font color="#E5E5E5"> to</font>

23
00:01:01,800 --> 00:01:06,950
aim to<font color="#E5E5E5"> do some well am I am going to do</font>

24
00:01:04,199 --> 00:01:12,060
some demos<font color="#E5E5E5"> and so we'll see live demos</font>

25
00:01:06,950 --> 00:01:14,369
<font color="#CCCCCC">we'll see how they go and then what I'll</font>

26
00:01:12,060 --> 00:01:20,280
then discuss is you know why those

27
00:01:14,369 --> 00:01:22,789
issues happened and then talk about<font color="#E5E5E5"> how</font>

28
00:01:20,280 --> 00:01:26,790
we could prevent them and on the

29
00:01:22,790 --> 00:01:28,560
prevention<font color="#CCCCCC"> we'll look at not just</font><font color="#E5E5E5"> sort</font>

30
00:01:26,790 --> 00:01:31,200
of technical ways of preventing these

31
00:01:28,560 --> 00:01:34,320
types of issues but also sort<font color="#E5E5E5"> of</font>

32
00:01:31,200 --> 00:01:36,960
organizational cultural skills and

33
00:01:34,320 --> 00:01:40,919
training<font color="#E5E5E5"> needs so</font><font color="#CCCCCC"> we</font><font color="#E5E5E5"> look at that as</font>

34
00:01:36,960 --> 00:01:42,750
<font color="#E5E5E5">well as the technical aspects so the</font>

35
00:01:40,920 --> 00:01:46,290
first issue<font color="#CCCCCC"> that I'm going to talk about</font>

36
00:01:42,750 --> 00:01:52,130
<font color="#E5E5E5">is relates to identity</font><font color="#CCCCCC"> and access</font>

37
00:01:46,290 --> 00:01:55,890
management roles so so this particular

38
00:01:52,130 --> 00:02:00,929
issue<font color="#E5E5E5"> a demonstration is is with Amazon</font>

39
00:01:55,890 --> 00:02:05,040
Web<font color="#E5E5E5"> Services AWS the that's not to say</font>

40
00:02:00,930 --> 00:02:08,660
<font color="#CCCCCC">that AWS is any less secure than other</font>

41
00:02:05,040 --> 00:02:12,180
cloud service providers<font color="#E5E5E5"> not at all</font>

42
00:02:08,660 --> 00:02:13,579
but I chose AWS because they are the

43
00:02:12,180 --> 00:02:17,000
market<font color="#CCCCCC"> leader and</font>

44
00:02:13,580 --> 00:02:18,950
in<font color="#E5E5E5"> fact there was a gardener</font><font color="#CCCCCC"> Lake</font><font color="#E5E5E5"> Cisco</font>

45
00:02:17,000 --> 00:02:25,130
<font color="#E5E5E5">of a Magic Quadrant came out yes today</font>

46
00:02:18,950 --> 00:02:28,070
or the day<font color="#CCCCCC"> before</font><font color="#E5E5E5"> with AWS at something</font>

47
00:02:25,130 --> 00:02:31,390
<font color="#E5E5E5">like 20 billion revenue billion dollar</font>

48
00:02:28,070 --> 00:02:35,000
revenue per year compared to<font color="#E5E5E5"> the next</font>

49
00:02:31,390 --> 00:02:37,579
the next<font color="#E5E5E5"> one which is</font><font color="#CCCCCC"> the zero at four</font>

50
00:02:35,000 --> 00:02:39,350
billion<font color="#E5E5E5"> per year so they are by</font><font color="#CCCCCC"> far the</font>

51
00:02:37,580 --> 00:02:40,610
<font color="#E5E5E5">way the market leaders are guessing</font><font color="#CCCCCC"> or</font>

52
00:02:39,350 --> 00:02:42,530
<font color="#CCCCCC">the people who</font><font color="#E5E5E5"> put their hands up</font>

53
00:02:40,610 --> 00:02:46,220
<font color="#E5E5E5">probably</font><font color="#CCCCCC"> a little quite probably</font><font color="#E5E5E5"> the</font>

54
00:02:42,530 --> 00:02:49,040
majority I'm guessing it probably AWS so

55
00:02:46,220 --> 00:02:50,870
so what I'm going to do is<font color="#CCCCCC"> to because</font>

56
00:02:49,040 --> 00:02:53,239
I'm sure some<font color="#CCCCCC"> of you</font><font color="#E5E5E5"> are very</font><font color="#CCCCCC"> familiar</font>

57
00:02:50,870 --> 00:02:55,310
with AWS some of you are<font color="#E5E5E5"> probably not at</font>

58
00:02:53,240 --> 00:02:57,380
all<font color="#E5E5E5"> so I'm going to give a little bit of</font>

59
00:02:55,310 --> 00:03:03,110
an overview into<font color="#E5E5E5"> the context</font><font color="#CCCCCC"> before then</font>

60
00:02:57,380 --> 00:03:06,500
showing how how to actually take over<font color="#CCCCCC"> a</font>

61
00:03:03,110 --> 00:03:09,650
production system<font color="#E5E5E5"> so what I've done</font><font color="#CCCCCC"> here</font>

62
00:03:06,500 --> 00:03:11,540
<font color="#CCCCCC">- so I hate to</font><font color="#E5E5E5"> disappoint anybody I'm</font>

63
00:03:09,650 --> 00:03:14,570
<font color="#CCCCCC">not really</font><font color="#E5E5E5"> going to actually take over a</font>

64
00:03:11,540 --> 00:03:17,350
production system like what<font color="#CCCCCC"> I am going</font>

65
00:03:14,570 --> 00:03:22,280
<font color="#E5E5E5">to do is to simulate what actually</font>

66
00:03:17,350 --> 00:03:25,010
happened<font color="#E5E5E5"> so</font><font color="#CCCCCC"> okay so</font><font color="#E5E5E5"> first of all let me</font>

67
00:03:22,280 --> 00:03:29,959
<font color="#CCCCCC">just give a bit of</font><font color="#E5E5E5"> a bit of a sort of</font>

68
00:03:25,010 --> 00:03:37,280
introduction<font color="#E5E5E5"> just a little bit bigger</font>

69
00:03:29,959 --> 00:03:41,450
<font color="#E5E5E5">just</font><font color="#CCCCCC"> so so identity and access</font>

70
00:03:37,280 --> 00:03:43,209
<font color="#CCCCCC">management is a double us's as the name</font>

71
00:03:41,450 --> 00:03:46,810
implies it's their service for

72
00:03:43,209 --> 00:03:50,330
<font color="#E5E5E5">controlling access and authentication</font>

73
00:03:46,810 --> 00:03:53,540
<font color="#E5E5E5">and granting rights both to individual</font>

74
00:03:50,330 --> 00:03:57,110
<font color="#E5E5E5">people and also to any other services</font>

75
00:03:53,540 --> 00:04:00,829
computers or<font color="#E5E5E5"> whatever that needs to do</font>

76
00:03:57,110 --> 00:04:03,520
certain<font color="#CCCCCC"> things within an account</font><font color="#E5E5E5"> so this</font>

77
00:04:00,830 --> 00:04:06,080
<font color="#E5E5E5">is just an example so this is my account</font>

78
00:04:03,520 --> 00:04:08,780
<font color="#CCCCCC">and/or</font><font color="#E5E5E5"> one of my accounts and you can</font>

79
00:04:06,080 --> 00:04:12,170
see here<font color="#E5E5E5"> that within Identity and Access</font>

80
00:04:08,780 --> 00:04:14,120
<font color="#E5E5E5">Management you can firstly define users</font>

81
00:04:12,170 --> 00:04:21,589
so<font color="#E5E5E5"> you can see here I've</font><font color="#CCCCCC"> defined a whole</font>

82
00:04:14,120 --> 00:04:24,860
load of users you can define groups<font color="#E5E5E5"> so</font>

83
00:04:21,589 --> 00:04:26,880
I've got various groups associated<font color="#CCCCCC"> with</font>

84
00:04:24,860 --> 00:04:28,500
<font color="#E5E5E5">groups</font>

85
00:04:26,880 --> 00:04:31,430
and then there's also the<font color="#CCCCCC"> concept of</font>

86
00:04:28,500 --> 00:04:34,320
policies<font color="#E5E5E5"> and as you might expect</font>

87
00:04:31,430 --> 00:04:36,630
policies<font color="#E5E5E5"> give certain rights to do</font>

88
00:04:34,320 --> 00:04:38,550
<font color="#E5E5E5">certain things within</font><font color="#CCCCCC"> AWS so that might</font>

89
00:04:36,630 --> 00:04:40,560
be<font color="#E5E5E5"> permissions to spin up a virtual</font>

90
00:04:38,550 --> 00:04:44,100
<font color="#E5E5E5">machine or it might be permissions to</font>

91
00:04:40,560 --> 00:04:44,850
<font color="#E5E5E5">create a new user</font><font color="#CCCCCC"> or permissions for you</font>

92
00:04:44,100 --> 00:04:46,650
know<font color="#CCCCCC"> elects</font>

93
00:04:44,850 --> 00:04:49,380
<font color="#E5E5E5">for business device</font><font color="#CCCCCC"> set up so they can</font>

94
00:04:46,650 --> 00:04:52,530
<font color="#E5E5E5">be very granular or you know very broad</font>

95
00:04:49,380 --> 00:04:55,680
<font color="#E5E5E5">and</font><font color="#CCCCCC"> all of them can be defined either</font>

96
00:04:52,530 --> 00:04:59,460
through a GUI or<font color="#CCCCCC"> in code through Jason</font>

97
00:04:55,680 --> 00:05:01,680
so hello the policies and policies as

98
00:04:59,460 --> 00:05:06,120
you might expect can be<font color="#E5E5E5"> associated with</font>

99
00:05:01,680 --> 00:05:08,130
<font color="#E5E5E5">other groups or users they can</font><font color="#CCCCCC"> also be</font>

100
00:05:06,120 --> 00:05:12,660
associated<font color="#E5E5E5"> with roles so roles is</font>

101
00:05:08,130 --> 00:05:16,920
another concept so roles<font color="#E5E5E5"> the idea of a</font>

102
00:05:12,660 --> 00:05:21,150
role is<font color="#CCCCCC"> it's is it's a way of granting</font>

103
00:05:16,920 --> 00:05:23,730
<font color="#CCCCCC">right to a service principle</font><font color="#E5E5E5"> it could be</font>

104
00:05:21,150 --> 00:05:27,109
a user could<font color="#E5E5E5"> be</font><font color="#CCCCCC"> a group could be a</font>

105
00:05:23,730 --> 00:05:30,930
server<font color="#CCCCCC"> could</font><font color="#E5E5E5"> be another AWS service and</font>

106
00:05:27,110 --> 00:05:33,810
when a service<font color="#CCCCCC"> principle assumes a role</font>

107
00:05:30,930 --> 00:05:36,630
<font color="#E5E5E5">then according to</font><font color="#CCCCCC"> what policies you've</font>

108
00:05:33,810 --> 00:05:39,360
set<font color="#E5E5E5"> certain policies will apply to that</font>

109
00:05:36,630 --> 00:05:42,380
role and so if we have a look at<font color="#CCCCCC"> a role</font>

110
00:05:39,360 --> 00:05:45,900
which I'll<font color="#CCCCCC"> just choose fairly randomly</font>

111
00:05:42,380 --> 00:05:48,000
<font color="#E5E5E5">okay cloud trail cloud watch log roll so</font>

112
00:05:45,900 --> 00:05:52,919
there's certain<font color="#E5E5E5"> permissions associated</font>

113
00:05:48,000 --> 00:05:56,250
here with policies and the whatever<font color="#E5E5E5"> is</font>

114
00:05:52,920 --> 00:05:58,440
assuming that<font color="#CCCCCC"> roll gets a</font><font color="#E5E5E5"> secure a</font>

115
00:05:56,250 --> 00:06:00,600
session token<font color="#E5E5E5"> which is</font><font color="#CCCCCC"> valid</font><font color="#E5E5E5"> for a</font>

116
00:05:58,440 --> 00:06:04,469
certain<font color="#E5E5E5"> period of time in this case an</font>

117
00:06:00,600 --> 00:06:06,470
hour<font color="#E5E5E5"> so that's sort of how all that work</font>

118
00:06:04,470 --> 00:06:13,310
so<font color="#E5E5E5"> that side ends in Access Management</font>

119
00:06:06,470 --> 00:06:17,070
<font color="#E5E5E5">so that's just sort</font><font color="#CCCCCC"> of give the context</font>

120
00:06:13,310 --> 00:06:20,820
so one<font color="#CCCCCC"> of the organization's I was</font>

121
00:06:17,070 --> 00:06:23,550
working<font color="#E5E5E5"> with I sort of came in as a dev</font>

122
00:06:20,820 --> 00:06:26,400
sir corpse cloud<font color="#CCCCCC"> security</font><font color="#E5E5E5"> architect and</font>

123
00:06:23,550 --> 00:06:29,070
when I came in at<font color="#E5E5E5"> the point that I</font><font color="#CCCCCC"> came</font>

124
00:06:26,400 --> 00:06:30,870
into the project<font color="#CCCCCC"> there was already a</font>

125
00:06:29,070 --> 00:06:33,360
production system<font color="#CCCCCC"> that had</font><font color="#E5E5E5"> been going</font>

126
00:06:30,870 --> 00:06:36,030
<font color="#E5E5E5">for</font><font color="#CCCCCC"> about a year and that production</font>

127
00:06:33,360 --> 00:06:37,360
system was used<font color="#CCCCCC"> for various web</font>

128
00:06:36,030 --> 00:06:40,239
applications

129
00:06:37,360 --> 00:06:46,000
and although there was a strong security

130
00:06:40,240 --> 00:06:51,129
<font color="#CCCCCC">department within</font><font color="#E5E5E5"> the</font><font color="#CCCCCC"> organization there</font>

131
00:06:46,000 --> 00:06:54,340
hadn't been any real sort of detailed

132
00:06:51,129 --> 00:06:56,229
security analysis of the code<font color="#E5E5E5"> so one of</font>

133
00:06:54,340 --> 00:06:57,938
<font color="#E5E5E5">the things that I did I was embedded</font>

134
00:06:56,229 --> 00:06:59,050
<font color="#CCCCCC">within the developed</font><font color="#E5E5E5"> team as a security</font>

135
00:06:57,939 --> 00:07:01,389
<font color="#CCCCCC">specialist so one of things I thought</font>

136
00:06:59,050 --> 00:07:07,180
<font color="#CCCCCC">what</font><font color="#E5E5E5"> I better do is take a look at the</font>

137
00:07:01,389 --> 00:07:10,719
code<font color="#E5E5E5"> so I looked at the code</font><font color="#CCCCCC"> and one of</font>

138
00:07:07,180 --> 00:07:13,330
the one<font color="#CCCCCC"> of</font><font color="#E5E5E5"> the things which what one</font><font color="#CCCCCC"> of</font>

139
00:07:10,719 --> 00:07:18,400
the requirements<font color="#E5E5E5"> is for some</font><font color="#CCCCCC"> of the</font>

140
00:07:13,330 --> 00:07:21,789
servers<font color="#E5E5E5"> within Amazon the production</font>

141
00:07:18,400 --> 00:07:26,138
servers to<font color="#E5E5E5"> be</font><font color="#CCCCCC"> able to do certain things</font>

142
00:07:21,789 --> 00:07:29,349
within<font color="#E5E5E5"> Amazon like access s3</font><font color="#CCCCCC"> bucket for</font>

143
00:07:26,139 --> 00:07:34,509
example for storage<font color="#CCCCCC"> or even spin up</font>

144
00:07:29,349 --> 00:07:37,449
other instances and<font color="#CCCCCC"> so on</font><font color="#E5E5E5"> so to do that</font>

145
00:07:34,509 --> 00:07:41,680
<font color="#E5E5E5">the server needs to assume a role which</font>

146
00:07:37,449 --> 00:07:43,330
then has a policy associated to<font color="#CCCCCC"> either</font>

147
00:07:41,680 --> 00:07:46,509
grant those permissions for certain time

148
00:07:43,330 --> 00:07:54,568
<font color="#E5E5E5">typically an hour so I looked at the</font>

149
00:07:46,509 --> 00:07:54,569
code<font color="#E5E5E5"> right let's look at the code</font>

150
00:08:03,560 --> 00:08:06,560
<font color="#CCCCCC">right</font>

151
00:08:10,800 --> 00:08:16,110
<font color="#E5E5E5">okay so this is a sort of representative</font>

152
00:08:14,030 --> 00:08:17,669
<font color="#E5E5E5">represent well this is pretty</font>

153
00:08:16,110 --> 00:08:20,370
<font color="#E5E5E5">representative of what I found I just</font>

154
00:08:17,669 --> 00:08:23,609
took out a<font color="#E5E5E5"> couple of details</font><font color="#CCCCCC"> that might</font>

155
00:08:20,370 --> 00:08:28,129
have identified<font color="#E5E5E5"> the customer so</font><font color="#CCCCCC"> we the</font>

156
00:08:23,610 --> 00:08:30,960
<font color="#E5E5E5">first the first section says what rights</font>

157
00:08:28,129 --> 00:08:33,360
they said this is a policy<font color="#E5E5E5"> so this</font>

158
00:08:30,960 --> 00:08:34,770
policy says at the top it says I've got

159
00:08:33,360 --> 00:08:37,919
certain rights to<font color="#E5E5E5"> do certain things in</font>

160
00:08:34,770 --> 00:08:39,838
<font color="#E5E5E5">this case on</font><font color="#CCCCCC"> s3</font><font color="#E5E5E5"> so you know you could</font>

161
00:08:37,919 --> 00:08:43,500
<font color="#E5E5E5">this</font><font color="#CCCCCC"> actually gives</font><font color="#E5E5E5"> quite a lot of</font>

162
00:08:39,839 --> 00:08:47,310
<font color="#E5E5E5">rights because you can list buckets list</font>

163
00:08:43,500 --> 00:08:48,870
objects and you can<font color="#CCCCCC"> get objects and you</font>

164
00:08:47,310 --> 00:08:51,270
can<font color="#CCCCCC"> put</font><font color="#E5E5E5"> objects so</font><font color="#CCCCCC"> you</font><font color="#E5E5E5"> could do quite</font><font color="#CCCCCC"> a</font>

165
00:08:48,870 --> 00:08:53,970
lot<font color="#E5E5E5"> with this</font><font color="#CCCCCC"> three</font><font color="#E5E5E5"> and then you can't</font>

166
00:08:51,270 --> 00:08:57,000
do it to all of<font color="#E5E5E5"> s3</font><font color="#CCCCCC"> only</font><font color="#E5E5E5"> certain named</font>

167
00:08:53,970 --> 00:08:59,370
buckets<font color="#E5E5E5"> and you know you might</font><font color="#CCCCCC"> think I</font>

168
00:08:57,000 --> 00:09:02,579
<font color="#E5E5E5">just did this is a demo and put like</font>

169
00:08:59,370 --> 00:09:04,980
bucket<font color="#E5E5E5"> - name - secrets but actually</font>

170
00:09:02,579 --> 00:09:07,560
<font color="#E5E5E5">that's almost what the actual name of</font>

171
00:09:04,980 --> 00:09:10,470
the pocket was it did have<font color="#CCCCCC"> - secrets at</font>

172
00:09:07,560 --> 00:09:13,469
<font color="#CCCCCC">the end so just to</font><font color="#E5E5E5"> help anybody who was</font>

173
00:09:10,470 --> 00:09:15,630
looking<font color="#E5E5E5"> for</font><font color="#CCCCCC"> something so yes and what</font>

174
00:09:13,470 --> 00:09:18,029
that did<font color="#E5E5E5"> is</font><font color="#CCCCCC"> gey give pretty much pretty</font>

175
00:09:15,630 --> 00:09:23,070
broad rights to these particular buckets

176
00:09:18,029 --> 00:09:26,370
<font color="#E5E5E5">and then as well as s3 it also gives</font>

177
00:09:23,070 --> 00:09:29,010
permission for ec2 so ec2 is Elastic

178
00:09:26,370 --> 00:09:30,810
Compute cloud so this is Amazon Web

179
00:09:29,010 --> 00:09:34,079
Services infrastructure as a service<font color="#CCCCCC"> to</font>

180
00:09:30,810 --> 00:09:35,670
spin up virtual<font color="#CCCCCC"> machines so</font><font color="#E5E5E5"> you can see</font>

181
00:09:34,079 --> 00:09:37,229
that actually<font color="#E5E5E5"> anything is allowed</font><font color="#CCCCCC"> so</font>

182
00:09:35,670 --> 00:09:39,390
that's not good<font color="#E5E5E5"> security practice</font>

183
00:09:37,230 --> 00:09:42,720
<font color="#CCCCCC">obviously to allow any action with an</font>

184
00:09:39,390 --> 00:09:44,490
<font color="#CCCCCC">ec2 but and also</font><font color="#E5E5E5"> any any resource and</font>

185
00:09:42,720 --> 00:09:46,800
then as well<font color="#CCCCCC"> as that there was another</font>

186
00:09:44,490 --> 00:09:49,110
<font color="#E5E5E5">policy which I haven't bothered copying</font>

187
00:09:46,800 --> 00:09:52,819
which allowed full access

188
00:09:49,110 --> 00:09:55,709
well not full but<font color="#E5E5E5"> act allowed quite a</font>

189
00:09:52,820 --> 00:09:56,520
lot<font color="#CCCCCC"> of access</font><font color="#E5E5E5"> to route 53 which is</font>

190
00:09:55,709 --> 00:09:59,310
Amazon's

191
00:09:56,520 --> 00:10:02,730
domain name service certainly enough to

192
00:09:59,310 --> 00:10:06,149
<font color="#E5E5E5">create new records and delete records so</font>

193
00:10:02,730 --> 00:10:11,540
<font color="#E5E5E5">that was the policy and then bearing in</font>

194
00:10:06,149 --> 00:10:14,610
mind that a<font color="#CCCCCC"> roll gets to assume a policy</font>

195
00:10:11,540 --> 00:10:17,490
so if we have a look at the assumed role

196
00:10:14,610 --> 00:10:20,250
policy<font color="#E5E5E5"> so you can see here's the assumed</font>

197
00:10:17,490 --> 00:10:22,529
role policy that<font color="#E5E5E5"> was on most of the</font>

198
00:10:20,250 --> 00:10:24,040
production<font color="#CCCCCC"> servers so I'm sure we have</font>

199
00:10:22,529 --> 00:10:26,529
some AWS people

200
00:10:24,040 --> 00:10:28,509
the<font color="#CCCCCC"> room</font><font color="#E5E5E5"> has or AWS people have worked</font>

201
00:10:26,529 --> 00:10:33,370
<font color="#E5E5E5">with that at least so would anybody like</font>

202
00:10:28,509 --> 00:10:35,230
<font color="#CCCCCC">to sort of</font><font color="#E5E5E5"> have a guess or know what's</font>

203
00:10:33,370 --> 00:10:37,620
<font color="#E5E5E5">wrong with this policy or what the</font>

204
00:10:35,230 --> 00:10:40,420
implication is of this<font color="#E5E5E5"> assumed role</font>

205
00:10:37,620 --> 00:10:48,730
<font color="#CCCCCC">jason associated with the policy go</font>

206
00:10:40,420 --> 00:10:52,240
<font color="#E5E5E5">ahead pun yeah yes sir the world card</font>

207
00:10:48,730 --> 00:10:54,910
<font color="#E5E5E5">yet almost I mean so the</font><font color="#CCCCCC"> principal so</font>

208
00:10:52,240 --> 00:10:56,790
the comment was<font color="#E5E5E5"> does the wild card the</font>

209
00:10:54,910 --> 00:11:00,880
star allow permissions to everything

210
00:10:56,790 --> 00:11:04,269
almost<font color="#CCCCCC"> I mean</font><font color="#E5E5E5"> the this is this bit is</font>

211
00:11:00,880 --> 00:11:07,689
the<font color="#E5E5E5"> role</font><font color="#CCCCCC"> what's allowed to assume the</font>

212
00:11:04,269 --> 00:11:09,160
role and then<font color="#E5E5E5"> the other thing</font><font color="#CCCCCC"> that I</font>

213
00:11:07,690 --> 00:11:11,199
just<font color="#E5E5E5"> showed you</font><font color="#CCCCCC"> was the policy which is</font>

214
00:11:09,160 --> 00:11:15,550
what permissions<font color="#E5E5E5"> are so the fact</font><font color="#CCCCCC"> that it</font>

215
00:11:11,199 --> 00:11:21,069
<font color="#E5E5E5">says AWS : star actually</font><font color="#CCCCCC"> means that any</font>

216
00:11:15,550 --> 00:11:23,800
any other<font color="#E5E5E5"> AWS account</font><font color="#CCCCCC"> whatsoever</font><font color="#E5E5E5"> is</font>

217
00:11:21,069 --> 00:11:34,240
allowed to<font color="#E5E5E5"> assume this role</font><font color="#CCCCCC"> and then</font>

218
00:11:23,800 --> 00:11:36,160
gets<font color="#E5E5E5"> the policy go ahead well</font><font color="#CCCCCC"> your as</font>

219
00:11:34,240 --> 00:11:38,889
you said a bit it allows anybody to

220
00:11:36,160 --> 00:11:40,480
assume this role<font color="#E5E5E5"> provided you</font><font color="#CCCCCC"> know the</font>

221
00:11:38,889 --> 00:11:43,029
name of<font color="#CCCCCC"> the role or you could guess the</font>

222
00:11:40,480 --> 00:11:45,430
<font color="#CCCCCC">name of the role</font><font color="#E5E5E5"> it'll become bit</font>

223
00:11:43,029 --> 00:11:48,339
<font color="#CCCCCC">clearer when</font><font color="#E5E5E5"> I demonstrate it but yeah</font>

224
00:11:45,430 --> 00:11:51,310
<font color="#E5E5E5">so that's the problem so I thought well</font>

225
00:11:48,339 --> 00:11:54,959
this is<font color="#E5E5E5"> pretty serious because</font><font color="#CCCCCC"> okay the</font>

226
00:11:51,310 --> 00:11:57,579
production<font color="#E5E5E5"> AWS account is owned by</font><font color="#CCCCCC"> this</font>

227
00:11:54,959 --> 00:12:00,310
<font color="#E5E5E5">organization but anybody else in the</font>

228
00:11:57,579 --> 00:12:02,920
world<font color="#E5E5E5"> could just set up their own AWS</font>

229
00:12:00,310 --> 00:12:04,839
account assume this role and<font color="#E5E5E5"> then get</font>

230
00:12:02,920 --> 00:12:07,060
permissions on this<font color="#E5E5E5"> account so thought</font>

231
00:12:04,839 --> 00:12:09,370
well this<font color="#E5E5E5"> is pretty</font><font color="#CCCCCC"> serious</font><font color="#E5E5E5"> pretty quite</font>

232
00:12:07,060 --> 00:12:11,768
a high risk<font color="#E5E5E5"> so as you do as</font><font color="#CCCCCC"> the security</font>

233
00:12:09,370 --> 00:12:14,410
person flag it<font color="#CCCCCC"> is a high risk</font><font color="#E5E5E5"> and then I</font>

234
00:12:11,769 --> 00:12:16,870
thought well<font color="#CCCCCC"> I better</font><font color="#E5E5E5"> fix it so I</font>

235
00:12:14,410 --> 00:12:19,930
created<font color="#E5E5E5"> because I was a better than the</font>

236
00:12:16,870 --> 00:12:24,550
team<font color="#CCCCCC"> I did the usual process which was</font>

237
00:12:19,930 --> 00:12:27,489
<font color="#E5E5E5">to you know clone clone the the</font>

238
00:12:24,550 --> 00:12:32,500
repository<font color="#CCCCCC"> create a branch on my branch</font>

239
00:12:27,490 --> 00:12:34,720
I corrected it and<font color="#E5E5E5"> the corrects the</font>

240
00:12:32,500 --> 00:12:37,090
correct role is shown here

241
00:12:34,720 --> 00:12:39,880
which isn't<font color="#CCCCCC"> very different it's only</font>

242
00:12:37,090 --> 00:12:42,670
about<font color="#E5E5E5"> two lines of code difference it</font>

243
00:12:39,880 --> 00:12:46,030
says the<font color="#CCCCCC"> principal instead of being a WS</font>

244
00:12:42,670 --> 00:12:50,229
: star<font color="#CCCCCC"> the principal is service</font><font color="#E5E5E5"> ec2</font>

245
00:12:46,030 --> 00:12:53,439
Amazon AWS comm and the way that a<font color="#CCCCCC"> WS</font>

246
00:12:50,230 --> 00:12:57,460
interprets these<font color="#E5E5E5"> assumed role statements</font>

247
00:12:53,440 --> 00:12:59,680
that is not anybody's<font color="#CCCCCC"> easy - it's only</font>

248
00:12:57,460 --> 00:13:01,600
<font color="#E5E5E5">easy</font><font color="#CCCCCC"> to within</font><font color="#E5E5E5"> this particular account</font>

249
00:12:59,680 --> 00:13:03,339
<font color="#E5E5E5">so which was what was</font><font color="#CCCCCC"> the intention</font>

250
00:13:01,600 --> 00:13:04,200
<font color="#E5E5E5">because it's meant to be</font><font color="#CCCCCC"> a server</font><font color="#E5E5E5"> in</font>

251
00:13:03,340 --> 00:13:06,390
this account

252
00:13:04,200 --> 00:13:08,830
assuming<font color="#CCCCCC"> that role to do certain things</font>

253
00:13:06,390 --> 00:13:10,449
<font color="#E5E5E5">so that's the correct one so</font><font color="#CCCCCC"> I corrected</font>

254
00:13:08,830 --> 00:13:13,090
that<font color="#E5E5E5"> and that's one</font><font color="#CCCCCC"> of the easier fixes</font>

255
00:13:10,450 --> 00:13:15,130
I've done literally<font color="#CCCCCC"> related</font><font color="#E5E5E5"> the fix</font>

256
00:13:13,090 --> 00:13:18,460
<font color="#E5E5E5">itself to you know about five</font><font color="#CCCCCC"> minutes</font>

257
00:13:15,130 --> 00:13:21,490
and<font color="#E5E5E5"> then you</font><font color="#CCCCCC"> know committed that on my</font>

258
00:13:18,460 --> 00:13:23,350
branch<font color="#CCCCCC"> put it through the CI CD pipeline</font>

259
00:13:21,490 --> 00:13:25,510
<font color="#E5E5E5">went</font><font color="#CCCCCC"> through all the automated</font><font color="#E5E5E5"> tests</font>

260
00:13:23,350 --> 00:13:29,530
<font color="#E5E5E5">then it got merged into the dev branch</font>

261
00:13:25,510 --> 00:13:30,850
and then that was all good<font color="#CCCCCC"> so then a</font>

262
00:13:29,530 --> 00:13:32,500
<font color="#E5E5E5">couple of</font><font color="#CCCCCC"> weeks</font><font color="#E5E5E5"> later</font><font color="#CCCCCC"> I</font><font color="#E5E5E5"> thought I wonder</font>

263
00:13:30,850 --> 00:13:34,000
if that's<font color="#E5E5E5"> actually being promoted yet</font>

264
00:13:32,500 --> 00:13:36,040
into production so<font color="#CCCCCC"> I checked on the</font>

265
00:13:34,000 --> 00:13:38,770
production<font color="#E5E5E5"> system and it hadn't and so</font>

266
00:13:36,040 --> 00:13:41,640
<font color="#CCCCCC">it raised it as an issue</font><font color="#E5E5E5"> and then still</font>

267
00:13:38,770 --> 00:13:44,290
nothing happened<font color="#CCCCCC"> for quite a while and</font>

268
00:13:41,640 --> 00:13:46,210
that<font color="#CCCCCC"> was</font><font color="#E5E5E5"> nothing to</font><font color="#CCCCCC"> do with</font><font color="#E5E5E5"> this code it</font>

269
00:13:44,290 --> 00:13:48,790
was just to do with other other factors

270
00:13:46,210 --> 00:13:50,080
<font color="#E5E5E5">but it meant that</font><font color="#CCCCCC"> although</font><font color="#E5E5E5"> we would fix</font>

271
00:13:48,790 --> 00:13:51,959
<font color="#E5E5E5">it the dead branch had never actually</font>

272
00:13:50,080 --> 00:13:54,520
got into production<font color="#E5E5E5"> so I thought well</font>

273
00:13:51,960 --> 00:13:57,370
this<font color="#E5E5E5"> has really gone</font><font color="#CCCCCC"> on long enough need</font>

274
00:13:54,520 --> 00:13:58,569
to do<font color="#E5E5E5"> something to actually get some</font>

275
00:13:57,370 --> 00:14:00,700
<font color="#CCCCCC">attention because</font><font color="#E5E5E5"> even though it's</font>

276
00:13:58,570 --> 00:14:02,650
raising<font color="#CCCCCC"> things there's high risks and</font>

277
00:14:00,700 --> 00:14:05,140
critical risks<font color="#E5E5E5"> yeah that was just being</font>

278
00:14:02,650 --> 00:14:08,680
unfortunately not treated<font color="#E5E5E5"> with the</font>

279
00:14:05,140 --> 00:14:11,340
seriousness it deserve so so what I<font color="#E5E5E5"> did</font>

280
00:14:08,680 --> 00:14:11,339
then was

281
00:14:16,539 --> 00:14:30,509
<font color="#CCCCCC">I would get this oh yeah right right</font>

282
00:14:31,559 --> 00:14:36,939
<font color="#CCCCCC">yeah so I did then was I got</font><font color="#E5E5E5"> my</font><font color="#CCCCCC"> own</font>

283
00:14:34,389 --> 00:14:38,159
<font color="#E5E5E5">account which I've</font><font color="#CCCCCC"> just shown you so</font>

284
00:14:36,939 --> 00:14:43,809
this<font color="#E5E5E5"> is</font><font color="#CCCCCC"> my own account</font>

285
00:14:38,159 --> 00:14:46,718
<font color="#CCCCCC">and then I'm simulating this sub</font>

286
00:14:43,809 --> 00:14:49,029
simulating what I did with<font color="#CCCCCC"> AI to</font>

287
00:14:46,719 --> 00:14:51,369
simulate what<font color="#E5E5E5"> actually happened</font><font color="#CCCCCC"> I've set</font>

288
00:14:49,029 --> 00:14:54,969
up my<font color="#CCCCCC"> own separate AWS account to</font>

289
00:14:51,369 --> 00:14:57,219
simulate the production account<font color="#CCCCCC"> and</font>

290
00:14:54,969 --> 00:14:59,199
there's no connection<font color="#E5E5E5"> between these</font>

291
00:14:57,219 --> 00:15:00,789
accounts you know I would happen to<font color="#E5E5E5"> both</font>

292
00:14:59,199 --> 00:15:03,488
<font color="#E5E5E5">be owned</font><font color="#CCCCCC"> by me but it could be any</font>

293
00:15:00,789 --> 00:15:09,129
<font color="#E5E5E5">anybody so anyway so what I did was</font><font color="#CCCCCC"> to I</font>

294
00:15:03,489 --> 00:15:13,329
use<font color="#E5E5E5"> my own account and then this is what</font>

295
00:15:09,129 --> 00:15:18,669
I did<font color="#E5E5E5"> so if I just yeah</font>

296
00:15:13,329 --> 00:15:20,858
expand<font color="#E5E5E5"> that</font><font color="#CCCCCC"> bit again</font><font color="#E5E5E5"> so yeah so so I'm</font>

297
00:15:18,669 --> 00:15:22,899
logged<font color="#E5E5E5"> into my</font><font color="#CCCCCC"> own account</font><font color="#E5E5E5"> there was</font>

298
00:15:20,859 --> 00:15:26,019
nothing to do with the<font color="#E5E5E5"> organization</font><font color="#CCCCCC"> that</font>

299
00:15:22,899 --> 00:15:29,769
<font color="#E5E5E5">I was working</font><font color="#CCCCCC"> with so just click on here</font>

300
00:15:26,019 --> 00:15:34,029
and then I<font color="#E5E5E5"> can do switch role so switch</font>

301
00:15:29,769 --> 00:15:37,839
role and then this now gives the switch

302
00:15:34,029 --> 00:15:40,089
role option so all I need<font color="#CCCCCC"> to</font><font color="#E5E5E5"> do to</font>

303
00:15:37,839 --> 00:15:45,549
switch role in and then take<font color="#E5E5E5"> advantage</font>

304
00:15:40,089 --> 00:15:47,499
<font color="#E5E5E5">of that sort of code is to put in mr.</font>

305
00:15:45,549 --> 00:15:50,259
<font color="#E5E5E5">dunn's before the name of the account</font>

306
00:15:47,499 --> 00:15:55,439
which is this<font color="#E5E5E5"> and then the name of the</font>

307
00:15:50,259 --> 00:15:58,479
<font color="#E5E5E5">role which is this and then switch</font><font color="#CCCCCC"> rock</font>

308
00:15:55,439 --> 00:16:01,569
<font color="#CCCCCC">ok</font><font color="#E5E5E5"> so now I've got into a completely</font>

309
00:15:58,479 --> 00:16:03,459
different<font color="#E5E5E5"> account</font><font color="#CCCCCC"> and you might think</font>

310
00:16:01,569 --> 00:16:06,309
<font color="#CCCCCC">well that's quite</font><font color="#E5E5E5"> hard to do because</font>

311
00:16:03,459 --> 00:16:07,539
you'd have<font color="#CCCCCC"> to know the name and the role</font>

312
00:16:06,309 --> 00:16:09,579
<font color="#E5E5E5">but on</font><font color="#CCCCCC"> the other hand</font><font color="#E5E5E5"> you guys probably</font>

313
00:16:07,539 --> 00:16:12,509
<font color="#CCCCCC">wouldn't because</font><font color="#E5E5E5"> quite a few you know</font>

314
00:16:09,579 --> 00:16:14,769
good good at numerating things and also

315
00:16:12,509 --> 00:16:17,379
<font color="#E5E5E5">bearing in mind that what quite a lot of</font>

316
00:16:14,769 --> 00:16:19,989
<font color="#E5E5E5">organizations do is to put a lot of</font>

317
00:16:17,379 --> 00:16:22,689
their code on to github some of it in

318
00:16:19,989 --> 00:16:24,810
public repositories<font color="#E5E5E5"> and it wouldn't</font>

319
00:16:22,689 --> 00:16:26,339
<font color="#E5E5E5">actually be that hard to find out</font>

320
00:16:24,810 --> 00:16:28,140
oh of course the sub had left the

321
00:16:26,339 --> 00:16:31,410
<font color="#E5E5E5">organization they you know could have a</font>

322
00:16:28,140 --> 00:16:33,959
copy of<font color="#CCCCCC"> it</font><font color="#E5E5E5"> the</font><font color="#CCCCCC"> code base anyway so I've</font>

323
00:16:31,410 --> 00:16:37,589
<font color="#E5E5E5">gotten to the other account so if I look</font>

324
00:16:33,959 --> 00:16:39,709
at so<font color="#E5E5E5"> for so yes if I look at users for</font>

325
00:16:37,589 --> 00:16:43,500
example<font color="#CCCCCC"> so</font><font color="#E5E5E5"> now in the other account</font>

326
00:16:39,709 --> 00:16:45,089
which simulates<font color="#CCCCCC"> the production account</font>

327
00:16:43,500 --> 00:16:46,950
<font color="#E5E5E5">you can see here I</font><font color="#CCCCCC"> don't</font><font color="#E5E5E5"> have</font>

328
00:16:45,089 --> 00:16:48,720
permissions well this is what you'd

329
00:16:46,950 --> 00:16:52,200
expect<font color="#E5E5E5"> because this is identity and</font>

330
00:16:48,720 --> 00:16:54,360
<font color="#E5E5E5">access management and the policies</font>

331
00:16:52,200 --> 00:16:56,970
didn't have anything<font color="#E5E5E5"> on it identity and</font>

332
00:16:54,360 --> 00:17:02,060
access management<font color="#CCCCCC"> so now let's look</font><font color="#E5E5E5"> at</font>

333
00:16:56,970 --> 00:17:02,060
some other services<font color="#E5E5E5"> so if I go into ec2</font>

334
00:17:03,020 --> 00:17:09,359
<font color="#CCCCCC">so in ec2 now</font><font color="#E5E5E5"> and you can see that</font>

335
00:17:07,260 --> 00:17:12,359
there's no indications<font color="#E5E5E5"> that don't have</font>

336
00:17:09,359 --> 00:17:15,688
the<font color="#CCCCCC"> require</font><font color="#E5E5E5"> permissions so what I</font><font color="#CCCCCC"> can do</font>

337
00:17:12,359 --> 00:17:17,129
here<font color="#CCCCCC"> is</font><font color="#E5E5E5"> to go into running instances so</font>

338
00:17:15,689 --> 00:17:20,490
there's an instance running<font color="#E5E5E5"> so in this</font>

339
00:17:17,130 --> 00:17:22,470
case I've just<font color="#E5E5E5"> created one instance just</font>

340
00:17:20,490 --> 00:17:25,349
<font color="#CCCCCC">as an</font><font color="#E5E5E5"> I give you the idea in the real</font>

341
00:17:22,470 --> 00:17:29,429
example there was about 50 production

342
00:17:25,349 --> 00:17:32,129
servers<font color="#E5E5E5"> so then</font><font color="#CCCCCC"> and I can just highlight</font>

343
00:17:29,429 --> 00:17:36,870
this and then I could do actions for

344
00:17:32,130 --> 00:17:41,850
example<font color="#E5E5E5"> terminate so I could terminate</font>

345
00:17:36,870 --> 00:17:43,949
<font color="#CCCCCC">that instance</font><font color="#E5E5E5"> and then if I wanted to</font>

346
00:17:41,850 --> 00:17:46,709
<font color="#E5E5E5">spin up my own instance which might you</font>

347
00:17:43,950 --> 00:17:51,450
know under my own control<font color="#CCCCCC"> I could do</font>

348
00:17:46,710 --> 00:17:59,400
this<font color="#E5E5E5"> so I'm just creating a new</font><font color="#CCCCCC"> instance</font>

349
00:17:51,450 --> 00:18:02,570
now and<font color="#CCCCCC"> do this you know so now I've</font>

350
00:17:59,400 --> 00:18:05,640
just<font color="#E5E5E5"> created a new instance you know so</font>

351
00:18:02,570 --> 00:18:10,110
and<font color="#E5E5E5"> then I can view</font><font color="#CCCCCC"> the</font><font color="#E5E5E5"> instances you</font>

352
00:18:05,640 --> 00:18:13,470
know so I've just shut<font color="#CCCCCC"> down one instance</font>

353
00:18:10,110 --> 00:18:17,729
<font color="#E5E5E5">opened created my</font><font color="#CCCCCC"> own new one I did also</font>

354
00:18:13,470 --> 00:18:22,790
you know in the real case the there was

355
00:18:17,730 --> 00:18:26,070
access policies that<font color="#E5E5E5"> allowed route 53</font>

356
00:18:22,790 --> 00:18:29,129
<font color="#E5E5E5">changes as well so you could have</font>

357
00:18:26,070 --> 00:18:32,129
<font color="#CCCCCC">pointed dns to my server take a note you</font>

358
00:18:29,130 --> 00:18:34,919
<font color="#CCCCCC">know</font><font color="#E5E5E5"> taken</font><font color="#CCCCCC"> customer credentials for</font>

359
00:18:32,130 --> 00:18:36,690
example<font color="#E5E5E5"> could have mind lots and lots of</font>

360
00:18:34,919 --> 00:18:37,729
Bitcoin<font color="#CCCCCC"> you know so the possibilities</font>

361
00:18:36,690 --> 00:18:39,950
are<font color="#E5E5E5"> endless</font>

362
00:18:37,729 --> 00:18:41,869
so what I did<font color="#E5E5E5"> in the real case was I</font>

363
00:18:39,950 --> 00:18:43,909
didn't<font color="#CCCCCC"> actually delete production</font>

364
00:18:41,869 --> 00:18:46,519
<font color="#CCCCCC">servers but I did get to</font><font color="#E5E5E5"> that point</font><font color="#CCCCCC"> took</font>

365
00:18:43,909 --> 00:18:48,139
<font color="#E5E5E5">a whole load of screenshots put it in</font>

366
00:18:46,519 --> 00:18:50,599
the<font color="#E5E5E5"> PowerPoint presentation sent it to</font>

367
00:18:48,139 --> 00:18:53,539
<font color="#CCCCCC">all the senior managers and then it all</font>

368
00:18:50,599 --> 00:18:58,218
got fixed<font color="#E5E5E5"> in about three days which was</font>

369
00:18:53,539 --> 00:19:00,320
good<font color="#E5E5E5"> so that was the</font><font color="#CCCCCC"> first issue so from</font>

370
00:18:58,219 --> 00:19:06,489
a technical<font color="#E5E5E5"> point of</font><font color="#CCCCCC"> view you</font><font color="#E5E5E5"> know as</font>

371
00:19:00,320 --> 00:19:16,189
you saw from<font color="#E5E5E5"> a technical point of view</font>

372
00:19:06,489 --> 00:19:17,959
<font color="#CCCCCC">all</font><font color="#E5E5E5"> that to</font><font color="#CCCCCC"> get back to this yeah all</font>

373
00:19:16,190 --> 00:19:25,729
<font color="#CCCCCC">that was actually wrong was four lines</font>

374
00:19:17,959 --> 00:19:30,709
of<font color="#E5E5E5"> code</font><font color="#CCCCCC"> so yeah this is</font><font color="#E5E5E5"> just some</font>

375
00:19:25,729 --> 00:19:33,259
screenshots of what<font color="#E5E5E5"> I've shown you so</font>

376
00:19:30,709 --> 00:19:37,789
that's the incorrect<font color="#E5E5E5"> one this is the</font>

377
00:19:33,259 --> 00:19:40,429
correct one<font color="#E5E5E5"> so I'd why does it happen</font>

378
00:19:37,789 --> 00:19:43,158
<font color="#CCCCCC">nobody admitted</font><font color="#E5E5E5"> to doing this they all</font>

379
00:19:40,429 --> 00:19:45,019
said it was somebody<font color="#E5E5E5"> who'd left</font><font color="#CCCCCC"> it had</font>

380
00:19:43,159 --> 00:19:46,429
been<font color="#E5E5E5"> like</font><font color="#CCCCCC"> that for a year or so without</font>

381
00:19:45,019 --> 00:19:48,889
<font color="#E5E5E5">being noticed</font>

382
00:19:46,429 --> 00:19:51,379
fortunately I don't<font color="#E5E5E5"> think any attackers</font>

383
00:19:48,889 --> 00:19:55,248
noticed as far as I'm aware<font color="#E5E5E5"> there's no</font>

384
00:19:51,379 --> 00:19:56,718
evidence of<font color="#CCCCCC"> that anyway</font><font color="#E5E5E5"> my guess</font><font color="#CCCCCC"> is</font><font color="#E5E5E5"> that</font>

385
00:19:55,249 --> 00:19:59,659
the original<font color="#E5E5E5"> person the person who</font>

386
00:19:56,719 --> 00:20:02,959
originally<font color="#E5E5E5"> coded this</font><font color="#CCCCCC"> he you know he</font>

387
00:19:59,659 --> 00:20:06,559
<font color="#CCCCCC">wasn't</font><font color="#E5E5E5"> a security</font><font color="#CCCCCC"> person and he probably</font>

388
00:20:02,959 --> 00:20:09,799
just googled<font color="#CCCCCC"> assume role came up</font><font color="#E5E5E5"> with</font>

389
00:20:06,559 --> 00:20:11,209
<font color="#E5E5E5">that code and copied it because that was</font>

390
00:20:09,799 --> 00:20:12,739
<font color="#E5E5E5">lower down on</font><font color="#CCCCCC"> the search list</font><font color="#E5E5E5"> I mean</font>

391
00:20:11,209 --> 00:20:15,349
that's just<font color="#CCCCCC"> a guess but</font><font color="#E5E5E5"> I expect that's</font>

392
00:20:12,739 --> 00:20:16,789
what<font color="#E5E5E5"> happened you know so we'll talk a</font>

393
00:20:15,349 --> 00:20:18,918
bit<font color="#E5E5E5"> later</font><font color="#CCCCCC"> about some of the things you</font>

394
00:20:16,789 --> 00:20:20,599
<font color="#E5E5E5">can do to prevent people doing that sort</font>

395
00:20:18,919 --> 00:20:26,299
of<font color="#CCCCCC"> thing yeah we'll talk</font><font color="#E5E5E5"> about that</font>

396
00:20:20,599 --> 00:20:29,349
<font color="#CCCCCC">later</font><font color="#E5E5E5"> so</font><font color="#CCCCCC"> that's</font><font color="#E5E5E5"> the first issue so I'm</font>

397
00:20:26,299 --> 00:20:32,629
going<font color="#E5E5E5"> to move on now</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> the second issue</font>

398
00:20:29,349 --> 00:20:34,129
<font color="#CCCCCC">so the second</font><font color="#E5E5E5"> issue was the favorite</font>

399
00:20:32,629 --> 00:20:36,829
topic of last year

400
00:20:34,129 --> 00:20:39,199
amongst<font color="#CCCCCC"> clouds</font><font color="#E5E5E5"> and well not cloud just</font>

401
00:20:36,829 --> 00:20:42,249
cloud but data lost<font color="#CCCCCC"> generally and that's</font>

402
00:20:39,200 --> 00:20:44,779
s3<font color="#E5E5E5"> buckets</font><font color="#CCCCCC"> so</font><font color="#E5E5E5"> you know there's been</font>

403
00:20:42,249 --> 00:20:46,039
particularly last year and some this

404
00:20:44,779 --> 00:20:48,229
year<font color="#CCCCCC"> as well there's been loads and</font>

405
00:20:46,039 --> 00:20:49,158
loads and<font color="#CCCCCC"> loads of losses of data from</font>

406
00:20:48,229 --> 00:20:51,140
s3 buckers

407
00:20:49,159 --> 00:20:56,270
this particular<font color="#E5E5E5"> example</font>

408
00:20:51,140 --> 00:20:59,750
<font color="#E5E5E5">is Dow Jones 2.2 million clients lost</font>

409
00:20:56,270 --> 00:21:04,970
their information<font color="#E5E5E5"> because of an AWS</font>

410
00:20:59,750 --> 00:21:07,520
configuration error on s3<font color="#E5E5E5"> so we'll just</font>

411
00:21:04,970 --> 00:21:16,310
take<font color="#CCCCCC"> a little look</font><font color="#E5E5E5"> at s3 and see how</font>

412
00:21:07,520 --> 00:21:18,620
easy<font color="#E5E5E5"> it is to miss configure s3 so right</font>

413
00:21:16,310 --> 00:21:26,480
so I've actually done this<font color="#E5E5E5"> in</font><font color="#CCCCCC"> my other</font>

414
00:21:18,620 --> 00:21:35,750
<font color="#E5E5E5">account yeah we got s3 on my other</font>

415
00:21:26,480 --> 00:21:39,110
account right<font color="#E5E5E5"> so what you'll see</font><font color="#CCCCCC"> is on</font>

416
00:21:35,750 --> 00:21:41,810
this account<font color="#CCCCCC"> I've created</font><font color="#E5E5E5"> s3 is simple</font>

417
00:21:39,110 --> 00:21:46,790
storage service so this<font color="#E5E5E5"> is Amazon's the</font>

418
00:21:41,810 --> 00:21:49,879
way that you can<font color="#E5E5E5"> store data</font><font color="#CCCCCC"> in s3 in in</font>

419
00:21:46,790 --> 00:21:52,940
the cloud with Amazon<font color="#E5E5E5"> and again just</font>

420
00:21:49,880 --> 00:21:56,390
like the first<font color="#E5E5E5"> one</font><font color="#CCCCCC"> this demo happens to</font>

421
00:21:52,940 --> 00:21:58,520
be AWS however you know all the same

422
00:21:56,390 --> 00:22:01,760
sort<font color="#CCCCCC"> of issues are there with Azure</font>

423
00:21:58,520 --> 00:22:04,150
<font color="#E5E5E5">storage and you know Google storages it</font>

424
00:22:01,760 --> 00:22:07,990
you know anything<font color="#E5E5E5"> could be misconfigured</font>

425
00:22:04,150 --> 00:22:11,690
<font color="#E5E5E5">so you can see here I've got</font><font color="#CCCCCC"> two buckets</font>

426
00:22:07,990 --> 00:22:14,900
<font color="#CCCCCC">I've got two buckets and you can also</font>

427
00:22:11,690 --> 00:22:17,870
see<font color="#E5E5E5"> that there's this orange sign saying</font>

428
00:22:14,900 --> 00:22:20,570
public so which and you<font color="#E5E5E5"> can see that</font>

429
00:22:17,870 --> 00:22:22,310
neither of these buckets<font color="#E5E5E5"> are marked as</font>

430
00:22:20,570 --> 00:22:24,110
<font color="#CCCCCC">public now because of all</font><font color="#E5E5E5"> the data</font>

431
00:22:22,310 --> 00:22:27,080
losses<font color="#E5E5E5"> last particularly last year</font>

432
00:22:24,110 --> 00:22:28,669
<font color="#CCCCCC">Amazon of that they've upped the</font><font color="#E5E5E5"> game a</font>

433
00:22:27,080 --> 00:22:30,889
<font color="#E5E5E5">bit well quite a lot actually</font>

434
00:22:28,670 --> 00:22:34,250
with s3 so one<font color="#CCCCCC"> of the things they've</font>

435
00:22:30,890 --> 00:22:37,370
done<font color="#E5E5E5"> is they've put this sign that says</font>

436
00:22:34,250 --> 00:22:40,220
<font color="#E5E5E5">public and then what what it what</font><font color="#CCCCCC"> it</font>

437
00:22:37,370 --> 00:22:42,050
<font color="#CCCCCC">does what</font><font color="#E5E5E5"> the code does is to look at</font>

438
00:22:40,220 --> 00:22:44,240
the permissions<font color="#E5E5E5"> on the</font><font color="#CCCCCC"> bucket</font><font color="#E5E5E5"> and if</font>

439
00:22:42,050 --> 00:22:46,010
it's public then they'd actually be an

440
00:22:44,240 --> 00:22:48,050
orange<font color="#E5E5E5"> sort of symbol next to the bucket</font>

441
00:22:46,010 --> 00:22:50,000
so<font color="#CCCCCC"> you can see here</font><font color="#E5E5E5"> that you know and</font>

442
00:22:48,050 --> 00:22:51,320
and<font color="#CCCCCC"> also</font><font color="#E5E5E5"> it says</font><font color="#CCCCCC"> access not public so</font>

443
00:22:50,000 --> 00:22:54,020
they've<font color="#E5E5E5"> made it a lot more obvious</font>

444
00:22:51,320 --> 00:22:58,030
<font color="#CCCCCC">through the GUI anyway bear in</font><font color="#E5E5E5"> mind that</font>

445
00:22:54,020 --> 00:23:00,020
quite often<font color="#E5E5E5"> you know quite often</font>

446
00:22:58,030 --> 00:23:02,120
everything should be generally

447
00:23:00,020 --> 00:23:03,350
everything<font color="#E5E5E5"> is coded anyway so quite</font>

448
00:23:02,120 --> 00:23:04,770
often the<font color="#CCCCCC"> people are</font><font color="#E5E5E5"> actually writing</font>

449
00:23:03,350 --> 00:23:07,379
the code for<font color="#E5E5E5"> the</font>

450
00:23:04,770 --> 00:23:09,720
don't see any of these warnings<font color="#CCCCCC"> because</font>

451
00:23:07,380 --> 00:23:11,760
they're<font color="#E5E5E5"> just coding you know but anyway</font>

452
00:23:09,720 --> 00:23:17,670
<font color="#CCCCCC">you can see here that neither</font><font color="#E5E5E5"> of these</font>

453
00:23:11,760 --> 00:23:21,660
are public<font color="#CCCCCC"> and then you can see here</font>

454
00:23:17,670 --> 00:23:27,690
<font color="#E5E5E5">that if I go into this bucket</font><font color="#CCCCCC"> so the</font>

455
00:23:21,660 --> 00:23:30,660
<font color="#E5E5E5">buckets called</font><font color="#CCCCCC"> CPMs 3 and if we look at</font>

456
00:23:27,690 --> 00:23:36,570
permissions you<font color="#E5E5E5"> can see that the</font>

457
00:23:30,660 --> 00:23:40,440
<font color="#E5E5E5">permissions are like this so</font><font color="#CCCCCC"> you can see</font>

458
00:23:36,570 --> 00:23:41,970
that<font color="#CCCCCC"> ok so my own</font><font color="#E5E5E5"> root account</font><font color="#CCCCCC"> does have</font>

459
00:23:40,440 --> 00:23:43,680
permissions which is what you'd expect

460
00:23:41,970 --> 00:23:46,140
and then basically<font color="#E5E5E5"> nothing else has</font>

461
00:23:43,680 --> 00:23:48,030
permissions so the public does not<font color="#E5E5E5"> have</font>

462
00:23:46,140 --> 00:23:52,080
permissions to<font color="#E5E5E5"> list objects to write</font>

463
00:23:48,030 --> 00:23:54,030
objects or read or anything<font color="#CCCCCC"> so yes</font>

464
00:23:52,080 --> 00:23:57,830
there's no permissions<font color="#E5E5E5"> allowed which is</font>

465
00:23:54,030 --> 00:23:57,830
why it was<font color="#E5E5E5"> not public</font>

466
00:24:02,780 --> 00:24:15,500
so yeah where am<font color="#E5E5E5"> i right so we go</font><font color="#CCCCCC"> back</font>

467
00:24:09,740 --> 00:24:17,870
<font color="#E5E5E5">to the overview</font><font color="#CCCCCC"> so you can see that I've</font>

468
00:24:15,500 --> 00:24:22,040
<font color="#CCCCCC">created a file called</font><font color="#E5E5E5"> password file dot</font>

469
00:24:17,870 --> 00:24:24,459
CSV so any of that you<font color="#E5E5E5"> working quickly</font>

470
00:24:22,040 --> 00:24:27,560
<font color="#CCCCCC">will have already</font><font color="#E5E5E5"> downloaded this farm</font>

471
00:24:24,460 --> 00:24:31,580
but maybe<font color="#E5E5E5"> not just yet</font>

472
00:24:27,560 --> 00:24:34,790
so if I click<font color="#CCCCCC"> on this you can see</font><font color="#E5E5E5"> that</font>

473
00:24:31,580 --> 00:24:36,560
<font color="#CCCCCC">as password fault</font><font color="#E5E5E5"> so Amazon have got</font>

474
00:24:34,790 --> 00:24:41,389
quite<font color="#CCCCCC"> a helpful naming scheme so that</font>

475
00:24:36,560 --> 00:24:46,399
<font color="#CCCCCC">you can you can get objects from s3 by</font>

476
00:24:41,390 --> 00:24:47,840
<font color="#E5E5E5">the web so if I go to so I'll open up</font>

477
00:24:46,400 --> 00:24:52,150
this I'll open this<font color="#E5E5E5"> have a new browser</font>

478
00:24:47,840 --> 00:24:52,149
just<font color="#E5E5E5"> to make</font><font color="#CCCCCC"> it</font><font color="#E5E5E5"> clear that there's no</font>

479
00:24:57,430 --> 00:25:03,740
<font color="#CCCCCC">right no I don't want any of that</font><font color="#E5E5E5"> right</font>

480
00:25:02,240 --> 00:25:05,870
this is what happens<font color="#CCCCCC"> when you're doing</font>

481
00:25:03,740 --> 00:25:10,100
<font color="#CCCCCC">upgrade just before demonstration</font><font color="#E5E5E5"> right</font>

482
00:25:05,870 --> 00:25:11,870
<font color="#E5E5E5">okay ah I don't</font><font color="#CCCCCC"> want to know about new</font>

483
00:25:10,100 --> 00:25:14,689
things<font color="#CCCCCC"> right</font><font color="#E5E5E5"> okay</font>

484
00:25:11,870 --> 00:25:17,330
so right so<font color="#E5E5E5"> Amazon as I said they've</font><font color="#CCCCCC"> got</font>

485
00:25:14,690 --> 00:25:21,260
quite<font color="#E5E5E5"> a helpful in a helpful sort of way</font>

486
00:25:17,330 --> 00:25:22,399
<font color="#CCCCCC">of naming buckets</font><font color="#E5E5E5"> I could have just</font>

487
00:25:21,260 --> 00:25:24,260
clicked<font color="#CCCCCC"> from the</font><font color="#E5E5E5"> link</font><font color="#CCCCCC"> there might have</font>

488
00:25:22,400 --> 00:25:29,600
<font color="#CCCCCC">been</font><font color="#E5E5E5"> easier but I wanted to show</font><font color="#CCCCCC"> it like</font>

489
00:25:24,260 --> 00:25:36,970
this<font color="#E5E5E5"> so yes so it's</font><font color="#CCCCCC"> HTTPS I must be</font>

490
00:25:29,600 --> 00:25:41,780
secure<font color="#CCCCCC"> and</font><font color="#E5E5E5"> then yeah and</font><font color="#CCCCCC"> then you</font><font color="#E5E5E5"> put in</font>

491
00:25:36,970 --> 00:25:47,140
<font color="#E5E5E5">s3 - then you put the region</font><font color="#CCCCCC"> so it's</font>

492
00:25:41,780 --> 00:25:53,300
like<font color="#CCCCCC"> II</font><font color="#E5E5E5"> West -</font><font color="#CCCCCC"> one</font><font color="#E5E5E5"> then you pour</font>

493
00:25:47,140 --> 00:25:56,000
amazon.com AWS<font color="#E5E5E5"> calm</font><font color="#CCCCCC"> then</font><font color="#E5E5E5"> you put the</font>

494
00:25:53,300 --> 00:25:58,580
<font color="#E5E5E5">name of</font><font color="#CCCCCC"> the bucket which is</font><font color="#E5E5E5"> CPMs</font><font color="#CCCCCC"> three</font>

495
00:25:56,000 --> 00:26:03,770
then you put the<font color="#E5E5E5"> name</font><font color="#CCCCCC"> of</font><font color="#E5E5E5"> the</font><font color="#CCCCCC"> object so</font>

496
00:25:58,580 --> 00:26:09,070
<font color="#E5E5E5">this is password - file dot CSV so</font><font color="#CCCCCC"> do</font>

497
00:26:03,770 --> 00:26:15,500
<font color="#E5E5E5">that</font><font color="#CCCCCC"> so I've just downloaded that file</font>

498
00:26:09,070 --> 00:26:17,570
<font color="#E5E5E5">even though the bucket was not public</font><font color="#CCCCCC"> so</font>

499
00:26:15,500 --> 00:26:19,730
you<font color="#E5E5E5"> can see here you know I've</font>

500
00:26:17,570 --> 00:26:21,770
downloaded it this<font color="#E5E5E5"> you know any of you</font>

501
00:26:19,730 --> 00:26:23,900
that wants<font color="#CCCCCC"> to download</font><font color="#E5E5E5"> any of any of you</font>

502
00:26:21,770 --> 00:26:32,710
who want<font color="#CCCCCC"> to download this uh you know</font>

503
00:26:23,900 --> 00:26:38,950
<font color="#E5E5E5">can download it so okay</font><font color="#CCCCCC"> so how come</font>

504
00:26:32,710 --> 00:26:38,950
yeah<font color="#E5E5E5"> why did that happen any any ideas</font>

505
00:26:41,620 --> 00:26:47,689
<font color="#E5E5E5">pom-pom ACL exactly I knew there'd</font><font color="#CCCCCC"> be</font>

506
00:26:45,860 --> 00:26:51,169
you<font color="#E5E5E5"> know at least one person</font><font color="#CCCCCC"> in the room</font>

507
00:26:47,690 --> 00:26:53,810
<font color="#E5E5E5">so access control</font><font color="#CCCCCC"> this so you can</font><font color="#E5E5E5"> have</font>

508
00:26:51,170 --> 00:26:55,730
access control lists<font color="#E5E5E5"> at the bucket level</font>

509
00:26:53,810 --> 00:26:57,649
but you<font color="#CCCCCC"> can also have separate</font>

510
00:26:55,730 --> 00:27:00,110
permissions at the object level<font color="#E5E5E5"> you can</font>

511
00:26:57,650 --> 00:27:03,130
also<font color="#E5E5E5"> have bucket policies which JSON</font>

512
00:27:00,110 --> 00:27:08,840
based policies so if we have a look at

513
00:27:03,130 --> 00:27:13,670
so although at the bucket level there

514
00:27:08,840 --> 00:27:17,300
were no permissions<font color="#CCCCCC"> if we then have a</font>

515
00:27:13,670 --> 00:27:19,360
look we go back to the overview<font color="#CCCCCC"> and then</font>

516
00:27:17,300 --> 00:27:22,250
have a look<font color="#E5E5E5"> at the password file dot CSV</font>

517
00:27:19,360 --> 00:27:24,889
<font color="#CCCCCC">and then we look at permissions within</font>

518
00:27:22,250 --> 00:27:27,950
<font color="#E5E5E5">that object then yeah you're absolutely</font>

519
00:27:24,890 --> 00:27:30,080
<font color="#E5E5E5">right</font><font color="#CCCCCC"> there's a different access control</font>

520
00:27:27,950 --> 00:27:33,050
this for the object<font color="#E5E5E5"> that is greater than</font>

521
00:27:30,080 --> 00:27:34,970
<font color="#E5E5E5">the parent bucket and everybody is</font>

522
00:27:33,050 --> 00:27:37,460
allowed<font color="#E5E5E5"> to read this so you might think</font>

523
00:27:34,970 --> 00:27:39,100
<font color="#E5E5E5">well why would anybody ever configure</font>

524
00:27:37,460 --> 00:27:42,679
anything<font color="#E5E5E5"> like this</font>

525
00:27:39,100 --> 00:27:44,240
well so<font color="#E5E5E5"> Atwood app one of the</font>

526
00:27:42,679 --> 00:27:46,340
organization's<font color="#E5E5E5"> I was working with a</font>

527
00:27:44,240 --> 00:27:48,890
<font color="#E5E5E5">DevOps person</font><font color="#CCCCCC"> created a public</font>

528
00:27:46,340 --> 00:27:50,959
s3 bucket<font color="#CCCCCC"> so I said</font><font color="#E5E5E5"> to him we don't</font>

529
00:27:48,890 --> 00:27:53,570
you're not<font color="#E5E5E5"> allowed to create a public s3</font>

530
00:27:50,960 --> 00:27:56,090
buckets<font color="#CCCCCC"> you know make it private please</font>

531
00:27:53,570 --> 00:27:58,070
but to say please<font color="#CCCCCC"> so he did he</font><font color="#E5E5E5"> made it</font>

532
00:27:56,090 --> 00:28:00,949
private<font color="#CCCCCC"> but</font><font color="#E5E5E5"> when he made it private</font><font color="#CCCCCC"> I</font>

533
00:27:58,070 --> 00:28:03,860
think that all<font color="#CCCCCC"> he did was</font><font color="#E5E5E5"> just make it</font>

534
00:28:00,950 --> 00:28:08,750
private manually and left the ACLS of

535
00:28:03,860 --> 00:28:10,189
the objects as<font color="#E5E5E5"> they were so so this sort</font>

536
00:28:08,750 --> 00:28:12,310
of<font color="#E5E5E5"> thing</font><font color="#CCCCCC"> can't</font><font color="#E5E5E5"> really happen it is</font><font color="#CCCCCC"> very</font>

537
00:28:10,190 --> 00:28:14,600
easy to<font color="#E5E5E5"> miss configure particularly when</font>

538
00:28:12,310 --> 00:28:16,428
<font color="#CCCCCC">minoo particularly when you're</font><font color="#E5E5E5"> doing</font>

539
00:28:14,600 --> 00:28:19,149
everything<font color="#E5E5E5"> in code</font><font color="#CCCCCC"> it's a little bit</font>

540
00:28:16,429 --> 00:28:22,250
more obvious<font color="#CCCCCC"> through the GUI the link</font><font color="#E5E5E5"> oh</font>

541
00:28:19,150 --> 00:28:25,469
so<font color="#E5E5E5"> that's anyway so that's the second</font>

542
00:28:22,250 --> 00:28:27,389
issue which is s3<font color="#E5E5E5"> buckets</font>

543
00:28:25,469 --> 00:28:33,289
so now let's just<font color="#E5E5E5"> go back to the</font>

544
00:28:27,389 --> 00:28:41,248
PowerPoint<font color="#E5E5E5"> yeah back to the PowerPoint</font>

545
00:28:33,289 --> 00:28:42,889
<font color="#CCCCCC">and talk</font><font color="#E5E5E5"> about next thing which is keys</font>

546
00:28:41,249 --> 00:28:51,779
in<font color="#E5E5E5"> get</font><font color="#CCCCCC"> up</font>

547
00:28:42,889 --> 00:28:58,549
so as an illustration<font color="#CCCCCC"> I created to</font>

548
00:28:51,779 --> 00:29:02,159
github repository<font color="#CCCCCC"> so if I go yeah oh</font>

549
00:28:58,549 --> 00:29:15,389
yeah<font color="#E5E5E5"> I actually got it here so github</font>

550
00:29:02,159 --> 00:29:17,399
repository whoops yeah<font color="#E5E5E5"> okay so github</font>

551
00:29:15,389 --> 00:29:21,958
repository<font color="#CCCCCC"> so this is in my</font><font color="#E5E5E5"> own</font>

552
00:29:17,399 --> 00:29:25,139
organization github<font color="#CCCCCC"> and I've created a</font>

553
00:29:21,959 --> 00:29:26,789
repository<font color="#E5E5E5"> just so that nobody</font><font color="#CCCCCC"> thinks</font>

554
00:29:25,139 --> 00:29:30,689
I'm doing<font color="#E5E5E5"> this on purpose</font><font color="#CCCCCC"> I called it</font>

555
00:29:26,789 --> 00:29:38,479
<font color="#E5E5E5">insecure</font><font color="#CCCCCC"> just to</font><font color="#E5E5E5"> sort of illustrate</font><font color="#CCCCCC"> you</font>

556
00:29:30,690 --> 00:29:38,479
know how easy it<font color="#E5E5E5"> is to how easy it is to</font>

557
00:29:38,989 --> 00:29:46,319
put keys in<font color="#CCCCCC"> to get up</font><font color="#E5E5E5"> so when I was at</font>

558
00:29:44,119 --> 00:29:51,599
one<font color="#E5E5E5"> of the organization's I was working</font>

559
00:29:46,319 --> 00:29:55,799
<font color="#E5E5E5">with I was at work and fortunately I</font>

560
00:29:51,599 --> 00:30:00,089
will have my email<font color="#E5E5E5"> open</font><font color="#CCCCCC"> and it was you</font>

561
00:29:55,799 --> 00:30:02,399
<font color="#E5E5E5">know eleven o'clock as whatever</font><font color="#CCCCCC"> and got</font>

562
00:30:00,089 --> 00:30:05,908
an email from AWS saying somebody's

563
00:30:02,399 --> 00:30:08,248
pushed a secret key<font color="#E5E5E5"> for this account</font>

564
00:30:05,909 --> 00:30:11,209
<font color="#E5E5E5">into public github</font>

565
00:30:08,249 --> 00:30:13,979
luckily saw it<font color="#CCCCCC"> straightaway and</font>

566
00:30:11,209 --> 00:30:17,279
<font color="#E5E5E5">immediately loved ones the console and</font>

567
00:30:13,979 --> 00:30:19,440
deleted<font color="#CCCCCC"> the key so within a minute or so</font>

568
00:30:17,279 --> 00:30:21,899
of<font color="#E5E5E5"> receiving the email luckily it was</font>

569
00:30:19,440 --> 00:30:27,869
while I<font color="#E5E5E5"> was at work looking at emails</font>

570
00:30:21,899 --> 00:30:30,418
and so on and we then you know informed

571
00:30:27,869 --> 00:30:33,199
the developer who I think<font color="#E5E5E5"> actually by</font>

572
00:30:30,419 --> 00:30:37,580
that time and realized what<font color="#E5E5E5"> he'd done</font>

573
00:30:33,200 --> 00:30:39,320
the<font color="#E5E5E5"> so that was fortunate</font>

574
00:30:37,580 --> 00:30:45,129
but it's often<font color="#E5E5E5"> the</font><font color="#CCCCCC"> case that people</font>

575
00:30:39,320 --> 00:30:49,090
<font color="#CCCCCC">aren't that fortunate</font><font color="#E5E5E5"> so for example I</font>

576
00:30:45,130 --> 00:30:49,090
just<font color="#E5E5E5"> get rid of</font><font color="#CCCCCC"> some of these</font><font color="#E5E5E5"> things</font>

577
00:30:55,240 --> 00:31:05,180
yeah for example<font color="#CCCCCC"> DXE not</font><font color="#E5E5E5"> to particularly</font>

578
00:31:03,770 --> 00:31:09,170
<font color="#E5E5E5">pick on them because this can happen to</font>

579
00:31:05,180 --> 00:31:10,730
anybody really<font color="#CCCCCC"> for them it didn't happen</font>

580
00:31:09,170 --> 00:31:12,610
during the<font color="#E5E5E5"> week at 11 o'clock it</font>

581
00:31:10,730 --> 00:31:16,910
happened<font color="#CCCCCC"> on Friday afternoon</font>

582
00:31:12,610 --> 00:31:18,350
unfortunately and somebody accidentally

583
00:31:16,910 --> 00:31:21,110
pushed a key brother said when they<font color="#E5E5E5"> came</font>

584
00:31:18,350 --> 00:31:23,360
<font color="#CCCCCC">back in on Monday</font><font color="#E5E5E5"> morning there was a</font><font color="#CCCCCC"> 64</font>

585
00:31:21,110 --> 00:31:26,540
thousand dollar bill<font color="#E5E5E5"> from people who</font>

586
00:31:23,360 --> 00:31:28,370
mined bitcoins<font color="#CCCCCC"> using their account</font>

587
00:31:26,540 --> 00:31:30,320
fortunately also for them well

588
00:31:28,370 --> 00:31:32,510
fortunately for<font color="#E5E5E5"> them it was a</font>

589
00:31:30,320 --> 00:31:35,560
<font color="#E5E5E5">development account not a production</font>

590
00:31:32,510 --> 00:31:40,010
account so they said<font color="#E5E5E5"> that there wasn't</font>

591
00:31:35,560 --> 00:31:41,960
<font color="#CCCCCC">any customer data in there so</font><font color="#E5E5E5"> that's</font>

592
00:31:40,010 --> 00:31:42,920
easily<font color="#E5E5E5"> done and I do have a confession</font>

593
00:31:41,960 --> 00:31:44,840
<font color="#CCCCCC">to</font><font color="#E5E5E5"> make</font>

594
00:31:42,920 --> 00:31:46,910
it's very<font color="#E5E5E5"> easy it's</font><font color="#CCCCCC"> very easy</font><font color="#E5E5E5"> to sort of</font>

595
00:31:44,840 --> 00:31:49,100
<font color="#E5E5E5">say oh that's developers so stupid how</font>

596
00:31:46,910 --> 00:31:50,480
could he do that<font color="#CCCCCC"> but I do have a</font>

597
00:31:49,100 --> 00:31:52,790
confession<font color="#E5E5E5"> to make which is</font><font color="#CCCCCC"> that two</font>

598
00:31:50,480 --> 00:31:55,220
weeks<font color="#E5E5E5"> ago I did almost the same thing</font>

599
00:31:52,790 --> 00:31:57,470
that<font color="#E5E5E5"> was with some</font><font color="#CCCCCC"> Azir credentials</font><font color="#E5E5E5"> and</font>

600
00:31:55,220 --> 00:32:01,340
fortunately wasn't a public github it

601
00:31:57,470 --> 00:32:03,110
was to a private repository<font color="#CCCCCC"> you</font><font color="#E5E5E5"> know</font>

602
00:32:01,340 --> 00:32:06,709
within<font color="#E5E5E5"> the organization in a private</font>

603
00:32:03,110 --> 00:32:09,469
network<font color="#CCCCCC"> luckily</font><font color="#E5E5E5"> but say</font><font color="#CCCCCC"> leave you've</font>

604
00:32:06,710 --> 00:32:12,140
worked<font color="#E5E5E5"> with code and</font><font color="#CCCCCC"> get you</font><font color="#E5E5E5"> can</font><font color="#CCCCCC"> have</font>

605
00:32:09,470 --> 00:32:15,160
variables files and then<font color="#E5E5E5"> you can have a</font>

606
00:32:12,140 --> 00:32:19,640
doc<font color="#CCCCCC"> git ignore</font><font color="#E5E5E5"> file that</font><font color="#CCCCCC"> tells get what</font>

607
00:32:15,160 --> 00:32:22,940
not to commit and what I did was to

608
00:32:19,640 --> 00:32:24,320
rename the variables file and<font color="#CCCCCC"> I forgot</font>

609
00:32:22,940 --> 00:32:26,470
because<font color="#CCCCCC"> I was in a bit of a rush I</font>

610
00:32:24,320 --> 00:32:28,909
<font color="#CCCCCC">forgot to update the game nore file</font>

611
00:32:26,470 --> 00:32:30,860
accidentally<font color="#E5E5E5"> push my zero credentials</font>

612
00:32:28,910 --> 00:32:34,720
which were for my own<font color="#E5E5E5"> account</font><font color="#CCCCCC"> not a</font>

613
00:32:30,860 --> 00:32:37,310
company<font color="#E5E5E5"> account and fortunately my</font>

614
00:32:34,720 --> 00:32:38,690
co-workers didn't take advantage<font color="#E5E5E5"> of it</font>

615
00:32:37,310 --> 00:32:40,429
<font color="#CCCCCC">and my</font><font color="#E5E5E5"> the</font><font color="#CCCCCC"> hullender bitcoins</font>

616
00:32:38,690 --> 00:32:43,310
I realized pretty<font color="#E5E5E5"> soon and change the</font>

617
00:32:40,430 --> 00:32:44,350
password<font color="#E5E5E5"> but</font><font color="#CCCCCC"> it really is very easy</font><font color="#E5E5E5"> to</font>

618
00:32:43,310 --> 00:32:47,149
do

619
00:32:44,350 --> 00:32:50,780
AWS have got a repository<font color="#CCCCCC"> called</font><font color="#E5E5E5"> AIDS</font>

620
00:32:47,150 --> 00:32:52,640
over there -<font color="#E5E5E5"> secrets which</font>

621
00:32:50,780 --> 00:32:54,889
is some code that<font color="#E5E5E5"> can</font><font color="#CCCCCC"> actually stop you</font>

622
00:32:52,640 --> 00:32:57,770
from doing from<font color="#E5E5E5"> even committing anything</font>

623
00:32:54,890 --> 00:33:00,350
<font color="#E5E5E5">with with the key with keys in which</font>

624
00:32:57,770 --> 00:33:06,200
might be worth<font color="#CCCCCC"> looking at if you if if</font>

625
00:33:00,350 --> 00:33:08,240
you're working<font color="#E5E5E5"> with</font><font color="#CCCCCC"> AWS so that's one</font>

626
00:33:06,200 --> 00:33:13,430
that's that's<font color="#E5E5E5"> sort of the I guess the</font>

627
00:33:08,240 --> 00:33:18,470
third issue<font color="#CCCCCC"> I've also</font><font color="#E5E5E5"> seen more slightly</font>

628
00:33:13,430 --> 00:33:20,750
more subtle<font color="#E5E5E5"> variants of this such as not</font>

629
00:33:18,470 --> 00:33:24,050
an<font color="#CCCCCC"> AWS secret key being on github but a</font>

630
00:33:20,750 --> 00:33:27,650
read-only key<font color="#CCCCCC"> to and</font><font color="#E5E5E5"> organizations</font>

631
00:33:24,050 --> 00:33:29,960
github and one of the organization's I

632
00:33:27,650 --> 00:33:32,200
work with one<font color="#CCCCCC"> of their developer one</font><font color="#E5E5E5"> of</font>

633
00:33:29,960 --> 00:33:36,190
their<font color="#E5E5E5"> dev</font><font color="#CCCCCC"> ops people</font><font color="#E5E5E5"> had in their own</font>

634
00:33:32,200 --> 00:33:38,420
<font color="#E5E5E5">private personal github repository had</font>

635
00:33:36,190 --> 00:33:43,190
that they just<font color="#E5E5E5"> were using for testing</font>

636
00:33:38,420 --> 00:33:46,040
<font color="#E5E5E5">they'd put a read-only github key to the</font>

637
00:33:43,190 --> 00:33:49,640
corporate github<font color="#E5E5E5"> so anybody with that</font>

638
00:33:46,040 --> 00:33:52,460
<font color="#E5E5E5">could then access private repositories</font>

639
00:33:49,640 --> 00:33:55,640
in the corporate github<font color="#E5E5E5"> and</font><font color="#CCCCCC"> within those</font>

640
00:33:52,460 --> 00:34:00,320
private repositories there was quite a

641
00:33:55,640 --> 00:34:03,710
lot<font color="#CCCCCC"> of other keys which could be used to</font>

642
00:34:00,320 --> 00:34:08,000
<font color="#E5E5E5">take over an account and do a lot of</font><font color="#CCCCCC"> bad</font>

643
00:34:03,710 --> 00:34:10,760
things<font color="#E5E5E5"> so yeah it's not always yeah yeah</font>

644
00:34:08,000 --> 00:34:12,830
it's not<font color="#CCCCCC"> always quite as you know</font><font color="#E5E5E5"> black</font>

645
00:34:10,760 --> 00:34:14,300
and<font color="#CCCCCC"> white</font><font color="#E5E5E5"> as just the age</font><font color="#CCCCCC"> of your secret</font>

646
00:34:12,830 --> 00:34:16,969
key there's a lot of information<font color="#E5E5E5"> that</font>

647
00:34:14,300 --> 00:34:18,649
<font color="#CCCCCC">can end up and get home which isn't as</font>

648
00:34:16,969 --> 00:34:22,520
you probably know now<font color="#E5E5E5"> being taken</font><font color="#CCCCCC"> over</font>

649
00:34:18,649 --> 00:34:32,569
by Microsoft right so that's the<font color="#E5E5E5"> third</font>

650
00:34:22,520 --> 00:34:34,730
issue so<font color="#CCCCCC"> okay</font><font color="#E5E5E5"> so what I'd like to talk</font>

651
00:34:32,570 --> 00:34:37,540
<font color="#E5E5E5">about now</font><font color="#CCCCCC"> and do maybe a couple more</font>

652
00:34:34,730 --> 00:34:41,899
<font color="#CCCCCC">demos of some of the things</font><font color="#E5E5E5"> that you can</font>

653
00:34:37,540 --> 00:34:43,370
potentially use<font color="#E5E5E5"> to help prevent this so</font>

654
00:34:41,899 --> 00:34:48,799
<font color="#E5E5E5">first of all why did these security</font>

655
00:34:43,370 --> 00:34:50,569
<font color="#E5E5E5">issues happen well typically the</font><font color="#CCCCCC"> these</font>

656
00:34:48,800 --> 00:34:53,870
sort<font color="#E5E5E5"> of</font><font color="#CCCCCC"> the organization's I was working</font>

657
00:34:50,570 --> 00:34:57,350
<font color="#E5E5E5">with there are maybe not necessary</font>

658
00:34:53,870 --> 00:35:00,319
<font color="#CCCCCC">thirty but twenty to forty DevOps</font><font color="#E5E5E5"> people</font>

659
00:34:57,350 --> 00:35:03,150
and cloud ops people<font color="#CCCCCC"> I'm sure a</font><font color="#E5E5E5"> lot of</font>

660
00:35:00,320 --> 00:35:07,350
you have worked<font color="#E5E5E5"> in an agile</font>

661
00:35:03,150 --> 00:35:09,630
using agile methodology<font color="#E5E5E5"> so typically we</font>

662
00:35:07,350 --> 00:35:10,618
have two-week<font color="#E5E5E5"> sprints and within a</font>

663
00:35:09,630 --> 00:35:13,400
<font color="#E5E5E5">two-week sprint</font>

664
00:35:10,619 --> 00:35:15,720
you have individual stories each

665
00:35:13,400 --> 00:35:17,580
developer or<font color="#E5E5E5"> DevOps person picks up a</font>

666
00:35:15,720 --> 00:35:20,160
story which might be to<font color="#E5E5E5"> create a new</font>

667
00:35:17,580 --> 00:35:25,009
feature<font color="#CCCCCC"> add a bit of security or</font>

668
00:35:20,160 --> 00:35:28,850
whatever<font color="#E5E5E5"> and then starts work on that</font>

669
00:35:25,010 --> 00:35:31,860
<font color="#E5E5E5">will create their own branch potentially</font>

670
00:35:28,850 --> 00:35:35,040
implement it<font color="#CCCCCC"> it'll have to go through</font>

671
00:35:31,860 --> 00:35:37,920
<font color="#CCCCCC">CRC deep pipeline</font><font color="#E5E5E5"> testing usually</font><font color="#CCCCCC"> but</font>

672
00:35:35,040 --> 00:35:42,830
<font color="#E5E5E5">always and have to be reviewed by</font>

673
00:35:37,920 --> 00:35:45,570
somebody else<font color="#E5E5E5"> but you can see that where</font>

674
00:35:42,830 --> 00:35:48,360
if you've got 30<font color="#E5E5E5"> to 40 people doing this</font>

675
00:35:45,570 --> 00:35:52,140
every two weeks<font color="#E5E5E5"> and you've got maybe</font>

676
00:35:48,360 --> 00:35:54,720
<font color="#E5E5E5">each one might pick up two</font><font color="#CCCCCC"> or three four</font>

677
00:35:52,140 --> 00:35:56,819
five stories in a sprint<font color="#E5E5E5"> you know that's</font>

678
00:35:54,720 --> 00:35:59,549
a<font color="#E5E5E5"> hundred or more different changes that</font>

679
00:35:56,820 --> 00:36:02,910
<font color="#CCCCCC">are going on and any one of those could</font>

680
00:35:59,550 --> 00:36:04,710
potentially include<font color="#E5E5E5"> some</font><font color="#CCCCCC"> of the errors</font>

681
00:36:02,910 --> 00:36:07,259
that<font color="#CCCCCC"> are sort of shown you</font><font color="#E5E5E5"> that could</font>

682
00:36:04,710 --> 00:36:10,890
lead to<font color="#CCCCCC"> compromise of a production</font>

683
00:36:07,260 --> 00:36:13,859
account<font color="#CCCCCC"> so that's sort of part of the</font>

684
00:36:10,890 --> 00:36:16,710
<font color="#CCCCCC">background</font><font color="#E5E5E5"> but then you know what could</font>

685
00:36:13,859 --> 00:36:17,940
<font color="#E5E5E5">we actually do about it so as I</font>

686
00:36:16,710 --> 00:36:20,400
mentioned at the beginning<font color="#E5E5E5"> there's</font>

687
00:36:17,940 --> 00:36:22,380
several<font color="#CCCCCC"> different approaches there's</font>

688
00:36:20,400 --> 00:36:24,020
technical approaches and then there's

689
00:36:22,380 --> 00:36:28,530
the sort<font color="#CCCCCC"> of training cultural</font>

690
00:36:24,020 --> 00:36:30,390
organizational type approaches and we

691
00:36:28,530 --> 00:36:32,640
need to use all<font color="#CCCCCC"> of them you</font><font color="#E5E5E5"> know you</font>

692
00:36:30,390 --> 00:36:35,730
can't<font color="#E5E5E5"> just rely</font><font color="#CCCCCC"> on on any any one of</font>

693
00:36:32,640 --> 00:36:37,890
<font color="#E5E5E5">those so on the technical</font><font color="#CCCCCC"> side some of</font>

694
00:36:35,730 --> 00:36:42,450
<font color="#CCCCCC">the things</font><font color="#E5E5E5"> that we can do are to</font>

695
00:36:37,890 --> 00:36:46,170
implement<font color="#CCCCCC"> policies</font><font color="#E5E5E5"> code which can ensure</font>

696
00:36:42,450 --> 00:36:49,890
prevention so in<font color="#CCCCCC"> Azir</font><font color="#E5E5E5"> you can use as</font>

697
00:36:46,170 --> 00:36:54,359
<font color="#CCCCCC">your policies which can do</font><font color="#E5E5E5"> certain limit</font>

698
00:36:49,890 --> 00:36:56,190
what actions you can take<font color="#E5E5E5"> with AWS you</font>

699
00:36:54,359 --> 00:36:58,350
can implement<font color="#E5E5E5"> organizations and service</font>

700
00:36:56,190 --> 00:37:01,650
<font color="#E5E5E5">control policies as well as</font><font color="#CCCCCC"> iron</font>

701
00:36:58,350 --> 00:37:06,990
policies<font color="#CCCCCC"> security</font><font color="#E5E5E5"> tests in the CRC the</font>

702
00:37:01,650 --> 00:37:09,300
pipeline<font color="#CCCCCC"> security scans so</font><font color="#E5E5E5"> they have</font>

703
00:37:06,990 --> 00:37:12,350
more fun<font color="#CCCCCC"> on the dissection side and then</font>

704
00:37:09,300 --> 00:37:14,070
you<font color="#CCCCCC"> can do some enforcement</font><font color="#E5E5E5"> so if you</font>

705
00:37:12,350 --> 00:37:16,679
detect something<font color="#CCCCCC"> that's out</font><font color="#E5E5E5"> of</font>

706
00:37:14,070 --> 00:37:19,499
compliance then actually go and

707
00:37:16,679 --> 00:37:22,079
so let's do a have a little<font color="#CCCCCC"> look at a</font>

708
00:37:19,499 --> 00:37:28,879
<font color="#E5E5E5">couple of these tools</font><font color="#CCCCCC"> just</font><font color="#E5E5E5"> to give you</font>

709
00:37:22,079 --> 00:37:44,209
an<font color="#CCCCCC"> eye</font><font color="#E5E5E5"> idea so</font><font color="#CCCCCC"> so what I'm going to use</font>

710
00:37:28,880 --> 00:37:48,179
<font color="#E5E5E5">first is okay so I'm going to use a tool</font>

711
00:37:44,209 --> 00:37:51,058
so<font color="#E5E5E5"> if there's anybody from</font><font color="#CCCCCC"> NCC in the</font>

712
00:37:48,179 --> 00:37:53,099
room yes<font color="#E5E5E5"> so okay</font><font color="#CCCCCC"> and and you're leaving</font>

713
00:37:51,059 --> 00:37:58,969
<font color="#CCCCCC">how could you</font><font color="#E5E5E5"> leave what I'm about to</font>

714
00:37:53,099 --> 00:38:02,219
demonstrate your your<font color="#E5E5E5"> tool</font><font color="#CCCCCC"> oh well fine</font>

715
00:37:58,969 --> 00:38:05,459
<font color="#CCCCCC">what I was gonna say that I'll still say</font>

716
00:38:02,219 --> 00:38:07,199
the entity see if I'm very well<font color="#CCCCCC"> - and</font>

717
00:38:05,459 --> 00:38:11,069
<font color="#CCCCCC">it's very good</font><font color="#E5E5E5"> as them to</font><font color="#CCCCCC"> open-source</font>

718
00:38:07,199 --> 00:38:14,900
<font color="#CCCCCC">their</font><font color="#E5E5E5"> Scout to tool</font><font color="#CCCCCC"> so let's</font><font color="#E5E5E5"> have a go</font>

719
00:38:11,069 --> 00:38:20,038
<font color="#CCCCCC">at using</font><font color="#E5E5E5"> it so what I'm going to do is</font>

720
00:38:14,900 --> 00:38:23,779
type<font color="#E5E5E5"> Scout - and this is all along</font>

721
00:38:20,039 --> 00:38:26,579
<font color="#E5E5E5">github so</font><font color="#CCCCCC"> Scout - then I'm going</font><font color="#E5E5E5"> to do</font>

722
00:38:23,779 --> 00:38:28,319
<font color="#E5E5E5">profile which this is just because I've</font>

723
00:38:26,579 --> 00:38:30,900
<font color="#E5E5E5">got more than</font><font color="#CCCCCC"> one AWS account</font><font color="#E5E5E5"> set up</font>

724
00:38:28,319 --> 00:38:33,959
<font color="#E5E5E5">this just tells the AWS</font><font color="#CCCCCC"> command-line</font>

725
00:38:30,900 --> 00:38:35,969
<font color="#E5E5E5">interface which account to connect to so</font>

726
00:38:33,959 --> 00:38:40,709
I'm going<font color="#CCCCCC"> to connect to</font><font color="#E5E5E5"> the same account</font>

727
00:38:35,969 --> 00:38:42,959
in which I gave<font color="#E5E5E5"> the s3 bucket demo so</font>

728
00:38:40,709 --> 00:38:46,319
the name<font color="#E5E5E5"> of my profile is just the name</font>

729
00:38:42,959 --> 00:38:48,779
<font color="#E5E5E5">as</font><font color="#CCCCCC"> that account and then all close to it</font>

730
00:38:46,319 --> 00:38:50,549
<font color="#E5E5E5">and</font><font color="#CCCCCC"> then</font><font color="#E5E5E5"> just because you don't</font><font color="#CCCCCC"> want to</font>

731
00:38:48,779 --> 00:38:52,670
be sitting<font color="#E5E5E5"> here for ages</font><font color="#CCCCCC"> and I know</font>

732
00:38:50,549 --> 00:38:55,559
lunch is<font color="#CCCCCC"> coming and I've</font><font color="#E5E5E5"> nearly finished</font>

733
00:38:52,670 --> 00:38:58,199
<font color="#CCCCCC">so I'm just</font><font color="#E5E5E5"> going to limit it to save</font>

734
00:38:55,559 --> 00:39:00,900
time to one particular<font color="#E5E5E5"> edge of your</font>

735
00:38:58,199 --> 00:39:05,369
service rather than<font color="#E5E5E5"> do a complete scan</font>

736
00:39:00,900 --> 00:39:10,199
<font color="#CCCCCC">of everything</font><font color="#E5E5E5"> so what it's now going to</font>

737
00:39:05,369 --> 00:39:12,989
<font color="#CCCCCC">do</font><font color="#E5E5E5"> is connect to AWS and have a look at</font>

738
00:39:10,199 --> 00:39:16,609
everything<font color="#E5E5E5"> in that account</font><font color="#CCCCCC"> within the</font>

739
00:39:12,989 --> 00:39:19,999
Identity and Access Management section

740
00:39:16,609 --> 00:39:23,249
so it's<font color="#CCCCCC"> running a whole series</font><font color="#E5E5E5"> of tests</font>

741
00:39:19,999 --> 00:39:25,879
<font color="#CCCCCC">and I'm just over writing this because</font>

742
00:39:23,249 --> 00:39:25,879
<font color="#CCCCCC">I've</font><font color="#E5E5E5"> done</font><font color="#CCCCCC"> it before</font>

743
00:39:26,320 --> 00:39:32,810
so yes you'll see<font color="#E5E5E5"> here that</font><font color="#CCCCCC"> it's picked</font>

744
00:39:29,960 --> 00:39:38,360
up<font color="#CCCCCC"> under a</font><font color="#E5E5E5"> dent in Access Management</font><font color="#CCCCCC"> a</font>

745
00:39:32,810 --> 00:39:40,370
total of well there's<font color="#CCCCCC"> 12</font><font color="#E5E5E5"> resources 28</font>

746
00:39:38,360 --> 00:39:42,350
rules and<font color="#CCCCCC"> 8 findings so let's have</font><font color="#E5E5E5"> a</font>

747
00:39:40,370 --> 00:39:44,900
look<font color="#E5E5E5"> at some of those so you can see</font>

748
00:39:42,350 --> 00:39:48,770
here<font color="#E5E5E5"> that I've just</font><font color="#CCCCCC"> got a</font><font color="#E5E5E5"> good snapshot</font>

749
00:39:44,900 --> 00:39:51,920
<font color="#CCCCCC">of this particular</font><font color="#E5E5E5"> AWS account</font><font color="#CCCCCC"> red</font>

750
00:39:48,770 --> 00:39:54,740
<font color="#E5E5E5">obviously means</font><font color="#CCCCCC"> high-risk</font><font color="#E5E5E5"> green means is</font>

751
00:39:51,920 --> 00:39:56,360
well configured<font color="#E5E5E5"> yellow is medium</font><font color="#CCCCCC"> gray</font>

752
00:39:54,740 --> 00:39:59,060
means it's not applicable or can't<font color="#E5E5E5"> be</font>

753
00:39:56,360 --> 00:40:01,340
<font color="#E5E5E5">checked</font><font color="#CCCCCC"> so</font><font color="#E5E5E5"> you know</font><font color="#CCCCCC"> I'm very quickly</font>

754
00:39:59,060 --> 00:40:04,130
identified<font color="#E5E5E5"> that there's a whole series</font>

755
00:40:01,340 --> 00:40:06,320
<font color="#E5E5E5">of issues</font><font color="#CCCCCC"> that could</font><font color="#E5E5E5"> be improved with</font>

756
00:40:04,130 --> 00:40:10,670
the<font color="#CCCCCC"> configuration</font><font color="#E5E5E5"> of this this AWS</font>

757
00:40:06,320 --> 00:40:12,740
account<font color="#CCCCCC"> I mean that's not to say that</font>

758
00:40:10,670 --> 00:40:16,070
<font color="#E5E5E5">you know as good as this tool is and it</font>

759
00:40:12,740 --> 00:40:18,140
does similar<font color="#E5E5E5"> test for s3 ec2 and and so</font>

760
00:40:16,070 --> 00:40:19,490
<font color="#E5E5E5">on</font><font color="#CCCCCC"> you can't assume that</font><font color="#E5E5E5"> because</font>

761
00:40:18,140 --> 00:40:20,779
<font color="#E5E5E5">everything is green on this tool</font>

762
00:40:19,490 --> 00:40:21,770
<font color="#E5E5E5">everything's fine</font>

763
00:40:20,780 --> 00:40:24,590
because there's certain things<font color="#E5E5E5"> it won't</font>

764
00:40:21,770 --> 00:40:26,690
<font color="#E5E5E5">pick up so for example this would have</font>

765
00:40:24,590 --> 00:40:31,010
picked up<font color="#E5E5E5"> the first issue the</font><font color="#CCCCCC"> ion roll</font>

766
00:40:26,690 --> 00:40:33,290
issue<font color="#CCCCCC"> it wouldn't have picked up the s3</font>

767
00:40:31,010 --> 00:40:35,150
<font color="#CCCCCC">object ACL being public because it</font>

768
00:40:33,290 --> 00:40:37,400
doesn't go<font color="#CCCCCC"> down to object ACL so</font>

769
00:40:35,150 --> 00:40:39,400
nothing's perfect<font color="#E5E5E5"> but it is a very good</font>

770
00:40:37,400 --> 00:40:41,630
start<font color="#E5E5E5"> and it's largely based on</font><font color="#CCCCCC"> the</font>

771
00:40:39,400 --> 00:40:47,270
<font color="#E5E5E5">sensitive Center for</font><font color="#CCCCCC"> Internet Security</font>

772
00:40:41,630 --> 00:40:50,750
<font color="#CCCCCC">this benchmark for AWS on the repository</font>

773
00:40:47,270 --> 00:40:56,540
side there<font color="#CCCCCC"> are tools</font><font color="#E5E5E5"> that we can use so</font>

774
00:40:50,750 --> 00:40:59,000
I<font color="#E5E5E5"> mentioned before we had I mentioned</font>

775
00:40:56,540 --> 00:41:01,100
<font color="#CCCCCC">before AWS secrets</font><font color="#E5E5E5"> can be</font><font color="#CCCCCC"> used to stop</font>

776
00:40:59,000 --> 00:41:04,820
you committing code with the edge<font color="#E5E5E5"> of a</font>

777
00:41:01,100 --> 00:41:06,740
secret key<font color="#CCCCCC"> but sometimes it's too late</font>

778
00:41:04,820 --> 00:41:08,630
<font color="#CCCCCC">what if you want to just</font><font color="#E5E5E5"> find out what's</font>

779
00:41:06,740 --> 00:41:15,109
there<font color="#CCCCCC"> so there</font><font color="#E5E5E5"> are tools that</font><font color="#CCCCCC"> you can</font>

780
00:41:08,630 --> 00:41:17,960
use<font color="#CCCCCC"> so I'm going</font><font color="#E5E5E5"> to the the I'm going to</font>

781
00:41:15,110 --> 00:41:20,330
scan<font color="#E5E5E5"> the repository which I showed</font><font color="#CCCCCC"> you</font>

782
00:41:17,960 --> 00:41:23,210
for<font color="#E5E5E5"> the web GUI earlier so I'm just</font>

783
00:41:20,330 --> 00:41:23,660
<font color="#CCCCCC">going to do get</font><font color="#E5E5E5"> Rob because</font><font color="#CCCCCC"> this is get</font>

784
00:41:23,210 --> 00:41:27,910
Rob

785
00:41:23,660 --> 00:41:30,848
also on open<font color="#E5E5E5"> source and</font>

786
00:41:27,910 --> 00:41:37,569
is us spelling and then the name<font color="#CCCCCC"> of</font><font color="#E5E5E5"> the</font>

787
00:41:30,849 --> 00:41:40,299
repository<font color="#CCCCCC"> so I'm scanning</font><font color="#E5E5E5"> github</font><font color="#CCCCCC"> and</font>

788
00:41:37,569 --> 00:41:42,250
what it's<font color="#CCCCCC"> doing is it's looking all the</font>

789
00:41:40,299 --> 00:41:43,690
repositories<font color="#CCCCCC"> and the other quite nice</font>

790
00:41:42,250 --> 00:41:45,760
thing about this is it doesn't<font color="#CCCCCC"> just</font><font color="#E5E5E5"> look</font>

791
00:41:43,690 --> 00:41:49,270
at the<font color="#CCCCCC"> repository of scanning</font><font color="#E5E5E5"> but if</font>

792
00:41:45,760 --> 00:41:50,890
you've got contributors to to that

793
00:41:49,270 --> 00:41:53,950
repository<font color="#CCCCCC"> that</font><font color="#E5E5E5"> it goes and looks at</font>

794
00:41:50,890 --> 00:41:59,410
their<font color="#CCCCCC"> report their public repos as well</font>

795
00:41:53,950 --> 00:42:03,490
<font color="#E5E5E5">so let's have a look at what we can see</font>

796
00:41:59,410 --> 00:42:19,328
on there<font color="#E5E5E5"> so</font><font color="#CCCCCC"> 9 3 9th Street so if we just</font>

797
00:42:03,490 --> 00:42:23,680
<font color="#E5E5E5">go to</font><font color="#CCCCCC"> ok</font><font color="#E5E5E5"> so you can see that it</font><font color="#CCCCCC"> has</font>

798
00:42:19,329 --> 00:42:26,740
found<font color="#E5E5E5"> various things for example</font><font color="#CCCCCC"> it's</font>

799
00:42:23,680 --> 00:42:29,740
found an RSA private key<font color="#E5E5E5"> there's lots</font>

800
00:42:26,740 --> 00:42:32,558
and<font color="#CCCCCC"> lots of private keys in github and</font>

801
00:42:29,740 --> 00:42:35,098
this is one that I put<font color="#E5E5E5"> there but don't</font>

802
00:42:32,559 --> 00:42:41,260
<font color="#CCCCCC">worry I'm not</font><font color="#E5E5E5"> using it for a</font><font color="#CCCCCC"> SSL</font><font color="#E5E5E5"> website</font>

803
00:42:35,099 --> 00:42:43,720
<font color="#E5E5E5">and also it did also</font><font color="#CCCCCC"> find the AWS secret</font>

804
00:42:41,260 --> 00:42:45,849
key<font color="#CCCCCC"> and that is the activators if</font>

805
00:42:43,720 --> 00:42:52,000
anybody's tries to use it<font color="#CCCCCC"> feel</font><font color="#E5E5E5"> free to</font>

806
00:42:45,849 --> 00:42:53,650
have a go<font color="#E5E5E5"> so yes so that you again this</font>

807
00:42:52,000 --> 00:42:55,779
<font color="#E5E5E5">is not foolproof it won't find all</font>

808
00:42:53,650 --> 00:42:59,529
credentials that<font color="#E5E5E5"> are committed to</font>

809
00:42:55,779 --> 00:43:01,660
repositories<font color="#E5E5E5"> and it will find some false</font>

810
00:42:59,529 --> 00:43:06,430
<font color="#CCCCCC">positives</font><font color="#E5E5E5"> but it's a good starting point</font>

811
00:43:01,660 --> 00:43:09,538
<font color="#CCCCCC">so just</font><font color="#E5E5E5"> go</font><font color="#CCCCCC"> about</font><font color="#E5E5E5"> the presentation which</font>

812
00:43:06,430 --> 00:43:09,538
<font color="#CCCCCC">is now nearly finished</font>

813
00:43:10,170 --> 00:43:17,380
well close<font color="#CCCCCC"> to being finished so we</font>

814
00:43:16,029 --> 00:43:22,020
talked about some<font color="#CCCCCC"> of the techniques we</font>

815
00:43:17,380 --> 00:43:25,599
could use technically<font color="#E5E5E5"> training is</font>

816
00:43:22,020 --> 00:43:28,900
important<font color="#E5E5E5"> so I've developed a training</font>

817
00:43:25,599 --> 00:43:32,650
course for<font color="#E5E5E5"> QA which is GCHQ certified</font>

818
00:43:28,900 --> 00:43:33,700
but equally<font color="#E5E5E5"> there's so much training out</font>

819
00:43:32,650 --> 00:43:36,400
there

820
00:43:33,700 --> 00:43:39,038
<font color="#E5E5E5">I recently used a cloud guru for some</font>

821
00:43:36,400 --> 00:43:40,590
<font color="#E5E5E5">address security training which was</font><font color="#CCCCCC"> help</font>

822
00:43:39,039 --> 00:43:43,190
<font color="#CCCCCC">me</font>

823
00:43:40,590 --> 00:43:46,680
so that was<font color="#E5E5E5"> that was</font><font color="#CCCCCC"> very good and</font>

824
00:43:43,190 --> 00:43:48,450
<font color="#E5E5E5">equally things like lunch and learns so</font>

825
00:43:46,680 --> 00:43:50,549
when I was<font color="#CCCCCC"> working at some of the</font>

826
00:43:48,450 --> 00:43:55,410
organizations<font color="#CCCCCC"> that I was working with I</font>

827
00:43:50,550 --> 00:43:57,060
did sort<font color="#E5E5E5"> of</font><font color="#CCCCCC"> 10-minute WebEx</font><font color="#E5E5E5"> sort of</font>

828
00:43:55,410 --> 00:43:59,430
<font color="#CCCCCC">10-minute sessions</font><font color="#E5E5E5"> at</font><font color="#CCCCCC"> the end of</font>

829
00:43:57,060 --> 00:44:00,810
<font color="#E5E5E5">stand-ups on a particular</font><font color="#CCCCCC"> security</font>

830
00:43:59,430 --> 00:44:02,640
aspect like<font color="#E5E5E5"> some of the ones</font><font color="#CCCCCC"> I've just</font>

831
00:44:00,810 --> 00:44:04,500
shown<font color="#CCCCCC"> you</font><font color="#E5E5E5"> to all the DevOps that was</font>

832
00:44:02,640 --> 00:44:08,850
quite<font color="#CCCCCC"> useful</font><font color="#E5E5E5"> so there's a lot</font><font color="#CCCCCC"> that you</font>

833
00:44:04,500 --> 00:44:11,220
<font color="#E5E5E5">can do culture it's essential</font><font color="#CCCCCC"> that</font>

834
00:44:08,850 --> 00:44:14,310
senior management<font color="#CCCCCC"> support</font><font color="#E5E5E5"> security and</font>

835
00:44:11,220 --> 00:44:15,660
that prioritization<font color="#CCCCCC"> that</font><font color="#E5E5E5"> security</font>

836
00:44:14,310 --> 00:44:17,730
features<font color="#E5E5E5"> actually get prioritized</font>

837
00:44:15,660 --> 00:44:20,430
<font color="#CCCCCC">because quite often the same</font><font color="#E5E5E5"> people</font><font color="#CCCCCC"> will</font>

838
00:44:17,730 --> 00:44:23,430
be<font color="#E5E5E5"> developing these as doing creating</font>

839
00:44:20,430 --> 00:44:30,720
new features or<font color="#E5E5E5"> you know providing</font>

840
00:44:23,430 --> 00:44:32,730
performance<font color="#E5E5E5"> improvements</font><font color="#CCCCCC"> so yeah</font><font color="#E5E5E5"> so and</font>

841
00:44:30,720 --> 00:44:34,919
doing<font color="#E5E5E5"> other things like gdpr compliance</font>

842
00:44:32,730 --> 00:44:36,720
<font color="#E5E5E5">so it's a born to have a strong security</font>

843
00:44:34,920 --> 00:44:40,010
lead that can fight for<font color="#CCCCCC"> that priority</font>

844
00:44:36,720 --> 00:44:44,669
and senior management<font color="#E5E5E5"> support and</font>

845
00:44:40,010 --> 00:44:48,180
finally<font color="#E5E5E5"> organization separate security</font>

846
00:44:44,670 --> 00:44:52,680
departments<font color="#E5E5E5"> don't work with agile and</font>

847
00:44:48,180 --> 00:44:54,000
DevOps and cloud<font color="#CCCCCC"> I can</font><font color="#E5E5E5"> confidently say</font>

848
00:44:52,680 --> 00:44:57,419
<font color="#CCCCCC">that from</font><font color="#E5E5E5"> experience</font>

849
00:44:54,000 --> 00:45:01,710
<font color="#E5E5E5">what happens is that</font><font color="#CCCCCC"> these guys</font><font color="#E5E5E5"> just get</font>

850
00:44:57,420 --> 00:45:03,660
in the way<font color="#CCCCCC"> of these guys and they try</font>

851
00:45:01,710 --> 00:45:08,480
<font color="#CCCCCC">and stop things from happening</font><font color="#E5E5E5"> and they</font>

852
00:45:03,660 --> 00:45:11,730
don't<font color="#E5E5E5"> and it's just not effective at all</font>

853
00:45:08,480 --> 00:45:15,630
<font color="#CCCCCC">the what is effective is embedding</font>

854
00:45:11,730 --> 00:45:18,240
security specialists<font color="#E5E5E5"> or training</font><font color="#CCCCCC"> DevOps</font>

855
00:45:15,630 --> 00:45:22,260
or developers to become security

856
00:45:18,240 --> 00:45:25,500
champions<font color="#E5E5E5"> to take a lead in the team</font><font color="#CCCCCC"> so</font>

857
00:45:22,260 --> 00:45:28,140
for<font color="#E5E5E5"> example you know I every morning not</font>

858
00:45:25,500 --> 00:45:30,060
<font color="#E5E5E5">today but</font><font color="#CCCCCC"> other mornings you know I</font>

859
00:45:28,140 --> 00:45:34,290
participate<font color="#CCCCCC"> in the</font><font color="#E5E5E5"> stand</font><font color="#CCCCCC"> out I'll report</font>

860
00:45:30,060 --> 00:45:35,660
<font color="#E5E5E5">on my security stories and I'll find out</font>

861
00:45:34,290 --> 00:45:39,750
all the<font color="#E5E5E5"> other things</font><font color="#CCCCCC"> that are going on</font>

862
00:45:35,660 --> 00:45:41,250
within the<font color="#E5E5E5"> DevOps team</font><font color="#CCCCCC"> so if there's</font>

863
00:45:39,750 --> 00:45:42,630
something<font color="#E5E5E5"> I have a concern</font><font color="#CCCCCC"> about I will</font>

864
00:45:41,250 --> 00:45:45,120
go and<font color="#CCCCCC"> talk to the person we all sit</font>

865
00:45:42,630 --> 00:45:47,880
together<font color="#E5E5E5"> and we're all part of the same</font>

866
00:45:45,120 --> 00:45:49,348
team<font color="#CCCCCC"> that works much</font><font color="#E5E5E5"> more effectively</font>

867
00:45:47,880 --> 00:45:53,609
than than<font color="#CCCCCC"> that</font>

868
00:45:49,349 --> 00:45:55,739
so as it's<font color="#E5E5E5"> lunchtime</font><font color="#CCCCCC"> I'm won't take any</font>

869
00:45:53,609 --> 00:45:58,380
questions<font color="#CCCCCC"> with everybody here because</font><font color="#E5E5E5"> I</font>

870
00:45:55,739 --> 00:46:00,150
know you<font color="#E5E5E5"> all want</font><font color="#CCCCCC"> to go to lunch but I'm</font>

871
00:45:58,380 --> 00:46:01,949
around<font color="#E5E5E5"> the rest of</font><font color="#CCCCCC"> the afternoon if</font>

872
00:46:00,150 --> 00:46:02,960
anybody does<font color="#CCCCCC"> want</font><font color="#E5E5E5"> to ask questions</font><font color="#CCCCCC"> so</font>

873
00:46:01,949 --> 00:46:09,099
thank<font color="#CCCCCC"> you very</font><font color="#E5E5E5"> much</font>

874
00:46:02,960 --> 00:46:09,099
[Applause]

