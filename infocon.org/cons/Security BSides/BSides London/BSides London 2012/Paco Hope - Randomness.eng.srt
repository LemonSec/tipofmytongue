1
00:00:03,220 --> 00:00:06,849
a lot of<font color="#E5E5E5"> people think they understand</font>

2
00:00:04,840 --> 00:00:08,050
randomness<font color="#CCCCCC"> a lot of people would say for</font>

3
00:00:06,849 --> 00:00:10,320
<font color="#CCCCCC">example that</font><font color="#E5E5E5"> randomness and</font>

4
00:00:08,050 --> 00:00:13,690
unpredictability are the same thing

5
00:00:10,320 --> 00:00:15,700
<font color="#CCCCCC">there they're not</font><font color="#E5E5E5"> a lot</font><font color="#CCCCCC"> of</font><font color="#E5E5E5"> people</font><font color="#CCCCCC"> would</font>

6
00:00:13,690 --> 00:00:17,830
say well<font color="#CCCCCC"> you know what I got Java secure</font>

7
00:00:15,700 --> 00:00:22,419
<font color="#E5E5E5">random right so it's secure</font><font color="#CCCCCC"> and it's</font>

8
00:00:17,830 --> 00:00:25,029
random I'm done right<font color="#E5E5E5"> maybe maybe not so</font>

9
00:00:22,420 --> 00:00:26,530
what we want to<font color="#E5E5E5"> talk</font><font color="#CCCCCC"> about is what is</font><font color="#E5E5E5"> it</font>

10
00:00:25,030 --> 00:00:30,610
how<font color="#CCCCCC"> does</font><font color="#E5E5E5"> it work</font>

11
00:00:26,530 --> 00:00:32,520
why is it<font color="#E5E5E5"> hard why is it important</font><font color="#CCCCCC"> and</font>

12
00:00:30,610 --> 00:00:35,620
then we'll talk<font color="#E5E5E5"> about how</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> do it right</font>

13
00:00:32,520 --> 00:00:37,870
<font color="#E5E5E5">I'm all about</font><font color="#CCCCCC"> doing it right oh wait a</font>

14
00:00:35,620 --> 00:00:38,468
minute<font color="#E5E5E5"> who am I so I forgot to tell you</font>

15
00:00:37,870 --> 00:00:41,260
<font color="#CCCCCC">that didn't I</font>

16
00:00:38,469 --> 00:00:44,230
so my name<font color="#E5E5E5"> is Paco</font><font color="#CCCCCC"> I work for a company</font>

17
00:00:41,260 --> 00:00:48,149
<font color="#CCCCCC">called digital we're software security</font>

18
00:00:44,230 --> 00:00:50,409
consulting right<font color="#E5E5E5"> we're sponsors</font><font color="#CCCCCC"> where</font>

19
00:00:48,149 --> 00:00:55,510
we're handing out little chocolates and

20
00:00:50,409 --> 00:00:56,890
<font color="#E5E5E5">all that good</font><font color="#CCCCCC"> stuff and we do software</font>

21
00:00:55,510 --> 00:01:00,479
security<font color="#E5E5E5"> from the whole</font><font color="#CCCCCC"> lifecycle right</font>

22
00:00:56,890 --> 00:01:04,870
architecture code analysis testing etc

23
00:01:00,479 --> 00:01:07,479
so this<font color="#E5E5E5"> is something a lot of my clients</font>

24
00:01:04,870 --> 00:01:10,119
<font color="#E5E5E5">struggle with some of my clients</font><font color="#CCCCCC"> I like</font>

25
00:01:07,479 --> 00:01:12,280
to say that<font color="#CCCCCC"> I head up the sin industries</font>

26
00:01:10,119 --> 00:01:15,369
it's digital<font color="#CCCCCC"> so I deal with</font><font color="#E5E5E5"> all the</font>

27
00:01:12,280 --> 00:01:17,020
<font color="#CCCCCC">online poker</font><font color="#E5E5E5"> I do the lottery</font><font color="#CCCCCC"> I do</font><font color="#E5E5E5"> you</font>

28
00:01:15,369 --> 00:01:19,210
know any sort of casino stuff I<font color="#E5E5E5"> actually</font>

29
00:01:17,020 --> 00:01:21,340
worked on slot machines<font color="#CCCCCC"> you know it was</font>

30
00:01:19,210 --> 00:01:23,288
<font color="#CCCCCC">a best gig right when you you come in on</font>

31
00:01:21,340 --> 00:01:25,689
day one you<font color="#CCCCCC"> know like</font><font color="#E5E5E5"> excuse me boss um</font>

32
00:01:23,289 --> 00:01:27,509
<font color="#E5E5E5">there's no slot machine in my cubicle</font>

33
00:01:25,689 --> 00:01:29,919
<font color="#E5E5E5">you know I need one of those right and</font>

34
00:01:27,509 --> 00:01:31,109
and of course<font color="#CCCCCC"> they fixed that I had a</font>

35
00:01:29,920 --> 00:01:34,780
slot machine

36
00:01:31,109 --> 00:01:37,089
so obviously random numbers are very

37
00:01:34,780 --> 00:01:38,740
important<font color="#CCCCCC"> a lot of things depend</font><font color="#E5E5E5"> on</font>

38
00:01:37,090 --> 00:01:40,829
<font color="#E5E5E5">being random you want to</font><font color="#CCCCCC"> gamble online</font>

39
00:01:38,740 --> 00:01:44,380
<font color="#E5E5E5">you want</font><font color="#CCCCCC"> to believe that that</font><font color="#E5E5E5"> was fair</font>

40
00:01:40,829 --> 00:01:46,719
<font color="#CCCCCC">you want</font><font color="#E5E5E5"> to play the lottery</font><font color="#CCCCCC"> you want to</font>

41
00:01:44,380 --> 00:01:50,310
<font color="#E5E5E5">believe</font><font color="#CCCCCC"> that the</font><font color="#E5E5E5"> lottery stuff is fair a</font>

42
00:01:46,719 --> 00:01:52,570
lot<font color="#CCCCCC"> of things you know SSL session IDs</font>

43
00:01:50,310 --> 00:01:54,250
<font color="#E5E5E5">random resource identifiers for the</font>

44
00:01:52,570 --> 00:01:56,048
random download of the software<font color="#E5E5E5"> that you</font>

45
00:01:54,250 --> 00:01:59,079
just purchased<font color="#CCCCCC"> all these things depend</font>

46
00:01:56,049 --> 00:02:04,240
<font color="#E5E5E5">on doing random numbers right but</font><font color="#CCCCCC"> here's</font>

47
00:01:59,079 --> 00:02:08,109
a fun one<font color="#CCCCCC"> last year the u.s. Department</font>

48
00:02:04,240 --> 00:02:10,680
of State<font color="#E5E5E5"> issued a set of visas to people</font>

49
00:02:08,110 --> 00:02:14,620
<font color="#CCCCCC">who are hoping to</font><font color="#E5E5E5"> come to the</font><font color="#CCCCCC"> US and</font>

50
00:02:10,680 --> 00:02:16,420
they had to do it by<font color="#CCCCCC"> a lottery and the</font>

51
00:02:14,620 --> 00:02:21,220
lottery<font color="#CCCCCC"> for these visas</font><font color="#E5E5E5"> is required</font>

52
00:02:16,420 --> 00:02:23,380
by law to<font color="#CCCCCC"> be fair and random turns out</font>

53
00:02:21,220 --> 00:02:24,730
they had<font color="#CCCCCC"> to put up this big webpage</font><font color="#E5E5E5"> and</font>

54
00:02:23,380 --> 00:02:26,890
they had to mail out a letter to<font color="#CCCCCC"> all</font>

55
00:02:24,730 --> 00:02:28,390
these<font color="#CCCCCC"> people who had won the lottery</font>

56
00:02:26,890 --> 00:02:30,130
<font color="#E5E5E5">they got a letter</font><font color="#CCCCCC"> saying hey</font>

57
00:02:28,390 --> 00:02:32,500
<font color="#E5E5E5">congratulations you're gonna have a visa</font>

58
00:02:30,130 --> 00:02:35,650
welcome to America<font color="#CCCCCC"> and then they got</font>

59
00:02:32,500 --> 00:02:36,720
this letter they're like<font color="#E5E5E5"> uh sorry we</font>

60
00:02:35,650 --> 00:02:39,130
screwed up<font color="#CCCCCC"> the</font><font color="#E5E5E5"> random number generator</font>

61
00:02:36,720 --> 00:02:43,239
<font color="#CCCCCC">and we're gonna rerun the lottery and</font>

62
00:02:39,130 --> 00:02:44,859
<font color="#E5E5E5">you</font><font color="#CCCCCC"> may not</font><font color="#E5E5E5"> actually have</font><font color="#CCCCCC"> a visa and the</font>

63
00:02:43,239 --> 00:02:47,410
whole thing<font color="#E5E5E5"> you know it says right</font><font color="#CCCCCC"> there</font>

64
00:02:44,860 --> 00:02:50,050
<font color="#E5E5E5">it was not a fair random selection</font>

65
00:02:47,410 --> 00:02:52,620
<font color="#E5E5E5">that's required by US law</font><font color="#CCCCCC"> in fact people</font>

66
00:02:50,050 --> 00:02:55,769
who had applied earlier in the

67
00:02:52,620 --> 00:02:58,810
application period<font color="#E5E5E5"> were more</font><font color="#CCCCCC"> likely to</font>

68
00:02:55,769 --> 00:03:01,090
get a<font color="#E5E5E5"> visa</font><font color="#CCCCCC"> than the people who</font><font color="#E5E5E5"> applied</font>

69
00:02:58,810 --> 00:03:03,070
later<font color="#E5E5E5"> and we're going</font><font color="#CCCCCC"> to show</font><font color="#E5E5E5"> you the</font>

70
00:03:01,090 --> 00:03:05,320
mathematical<font color="#E5E5E5"> reason why that probably</font>

71
00:03:03,070 --> 00:03:07,390
happened<font color="#CCCCCC"> I'll show you some code</font><font color="#E5E5E5"> that'll</font>

72
00:03:05,320 --> 00:03:12,579
you know that<font color="#E5E5E5"> explains that kind</font><font color="#CCCCCC"> of</font>

73
00:03:07,390 --> 00:03:14,738
stuff<font color="#CCCCCC"> so what</font><font color="#E5E5E5"> is important if we talk</font>

74
00:03:12,580 --> 00:03:16,030
<font color="#E5E5E5">about something</font><font color="#CCCCCC"> that's</font><font color="#E5E5E5"> random right so</font>

75
00:03:14,739 --> 00:03:17,380
the mathematical definition of

76
00:03:16,030 --> 00:03:20,670
<font color="#E5E5E5">randomness we're</font><font color="#CCCCCC"> usually worried about</font>

77
00:03:17,380 --> 00:03:22,930
uniformity that means there's no bias

78
00:03:20,670 --> 00:03:23,790
we're not seeing more<font color="#E5E5E5"> of</font><font color="#CCCCCC"> one than</font>

79
00:03:22,930 --> 00:03:26,470
<font color="#E5E5E5">another</font>

80
00:03:23,790 --> 00:03:27,910
<font color="#E5E5E5">there's no patterns we're not you</font><font color="#CCCCCC"> know</font>

81
00:03:26,470 --> 00:03:29,859
<font color="#E5E5E5">we're not seeing a</font><font color="#CCCCCC"> whole lot</font><font color="#E5E5E5"> of</font>

82
00:03:27,910 --> 00:03:33,519
<font color="#E5E5E5">repetition of different things and we're</font>

83
00:03:29,860 --> 00:03:35,190
not seeing cycles now we're<font color="#CCCCCC"> usually</font>

84
00:03:33,519 --> 00:03:37,810
worried about<font color="#CCCCCC"> forward security as well</font>

85
00:03:35,190 --> 00:03:39,489
<font color="#E5E5E5">which means that if I know a bunch of if</font>

86
00:03:37,810 --> 00:03:41,440
I observe<font color="#E5E5E5"> a bunch of random</font><font color="#CCCCCC"> events</font><font color="#E5E5E5"> now</font>

87
00:03:39,489 --> 00:03:42,820
<font color="#E5E5E5">it doesn't tell</font><font color="#CCCCCC"> me</font><font color="#E5E5E5"> anything about the</font>

88
00:03:41,440 --> 00:03:46,570
random<font color="#CCCCCC"> events that happened in</font><font color="#E5E5E5"> the past</font>

89
00:03:42,820 --> 00:03:48,489
as well as backwards security which is

90
00:03:46,570 --> 00:03:51,600
<font color="#E5E5E5">if I know a bunch of prior values</font><font color="#CCCCCC"> I</font>

91
00:03:48,489 --> 00:03:54,000
can't pick<font color="#E5E5E5"> things in the future</font>

92
00:03:51,600 --> 00:03:56,350
so these are things<font color="#E5E5E5"> that we care</font><font color="#CCCCCC"> about</font>

93
00:03:54,000 --> 00:03:58,049
<font color="#E5E5E5">but we also care about how we use the</font>

94
00:03:56,350 --> 00:04:01,440
<font color="#CCCCCC">random numbers assuming that we get them</font>

95
00:03:58,049 --> 00:04:03,549
<font color="#E5E5E5">right by the way how could we get them</font>

96
00:04:01,440 --> 00:04:04,780
well you got a<font color="#CCCCCC"> couple of</font><font color="#E5E5E5"> things there's</font>

97
00:04:03,549 --> 00:04:08,260
two ways you<font color="#CCCCCC"> can</font><font color="#E5E5E5"> do</font><font color="#CCCCCC"> it in Hardware you</font>

98
00:04:04,780 --> 00:04:10,090
can<font color="#E5E5E5"> do it in software hardware guys are</font>

99
00:04:08,260 --> 00:04:12,250
<font color="#E5E5E5">really cool right so</font><font color="#CCCCCC"> you can get</font><font color="#E5E5E5"> Johnson</font>

100
00:04:10,090 --> 00:04:14,890
noise you get free running oscillators

101
00:04:12,250 --> 00:04:18,310
you can do quantum mechanics<font color="#CCCCCC"> I love this</font>

102
00:04:14,890 --> 00:04:19,959
one that's this<font color="#E5E5E5"> guy right</font><font color="#CCCCCC"> here this</font><font color="#E5E5E5"> is</font>

103
00:04:18,310 --> 00:04:22,210
the only time in<font color="#CCCCCC"> my</font><font color="#E5E5E5"> job because I tend</font>

104
00:04:19,959 --> 00:04:23,800
to do<font color="#E5E5E5"> software stuff the only time in</font><font color="#CCCCCC"> my</font>

105
00:04:22,210 --> 00:04:25,810
job that<font color="#CCCCCC"> I get to say the words photon</font>

106
00:04:23,800 --> 00:04:30,070
emitter and it's like actually<font color="#E5E5E5"> you know</font>

107
00:04:25,810 --> 00:04:35,890
business purpose<font color="#CCCCCC"> what these guys do</font>

108
00:04:30,070 --> 00:04:38,770
company called ID quanti<font color="#E5E5E5"> they take a</font><font color="#CCCCCC"> 50%</font>

109
00:04:35,890 --> 00:04:41,919
silvered mirror so it's half transparent

110
00:04:38,770 --> 00:04:46,659
<font color="#E5E5E5">half silvered set it at a 45-degree</font>

111
00:04:41,920 --> 00:04:47,590
angle<font color="#CCCCCC"> and fire photons at it and half of</font>

112
00:04:46,660 --> 00:04:50,410
<font color="#CCCCCC">them</font><font color="#E5E5E5"> we're</font><font color="#CCCCCC"> gonna</font><font color="#E5E5E5"> go straight through</font>

113
00:04:47,590 --> 00:04:51,880
<font color="#E5E5E5">we'll call that zero half of them are</font>

114
00:04:50,410 --> 00:04:53,140
going<font color="#CCCCCC"> to hit some material</font><font color="#E5E5E5"> and go off at</font>

115
00:04:51,880 --> 00:04:56,620
a right angle<font color="#E5E5E5"> we'll put a sense of there</font>

116
00:04:53,140 --> 00:04:58,150
<font color="#E5E5E5">and we'll call that</font><font color="#CCCCCC"> one and so the laws</font>

117
00:04:56,620 --> 00:05:00,430
of quantum mechanics<font color="#CCCCCC"> say we can't figure</font>

118
00:04:58,150 --> 00:05:01,599
<font color="#CCCCCC">out you know how many which</font><font color="#E5E5E5"> ones which</font>

119
00:05:00,430 --> 00:05:03,790
<font color="#E5E5E5">photons are gonna go straight through</font>

120
00:05:01,600 --> 00:05:06,640
which ones are<font color="#CCCCCC"> gonna get bounced off at</font>

121
00:05:03,790 --> 00:05:08,500
an angle<font color="#CCCCCC"> and of</font><font color="#E5E5E5"> course we all know</font><font color="#CCCCCC"> that</font>

122
00:05:06,640 --> 00:05:11,200
manufacturing<font color="#E5E5E5"> being what it is you can't</font>

123
00:05:08,500 --> 00:05:13,630
get that exactly<font color="#E5E5E5"> 50%</font><font color="#CCCCCC"> you can't get it</font>

124
00:05:11,200 --> 00:05:15,580
exactly 45 degrees so every clock cycle

125
00:05:13,630 --> 00:05:18,180
<font color="#E5E5E5">let's switch which one of these is zero</font>

126
00:05:15,580 --> 00:05:20,830
and<font color="#E5E5E5"> which one is one</font><font color="#CCCCCC"> zero one one zero</font>

127
00:05:18,180 --> 00:05:22,870
<font color="#E5E5E5">helps even out the</font><font color="#CCCCCC"> bios and</font><font color="#E5E5E5"> then you put</font>

128
00:05:20,830 --> 00:05:24,700
in<font color="#CCCCCC"> Von Neumanns D biasing and you can</font>

129
00:05:22,870 --> 00:05:27,760
come down<font color="#CCCCCC"> to you to</font><font color="#E5E5E5"> really truly</font>

130
00:05:24,700 --> 00:05:29,140
<font color="#CCCCCC">unbiased random numbers</font><font color="#E5E5E5"> very cool</font><font color="#CCCCCC"> you</font>

131
00:05:27,760 --> 00:05:31,000
can get it in<font color="#E5E5E5"> lots of form factors</font><font color="#CCCCCC"> you</font>

132
00:05:29,140 --> 00:05:34,060
have<font color="#CCCCCC"> a little</font><font color="#E5E5E5"> PCI card you can have</font><font color="#CCCCCC"> a</font>

133
00:05:31,000 --> 00:05:38,140
dongle you can have built<font color="#E5E5E5"> onto your</font>

134
00:05:34,060 --> 00:05:39,400
motherboard because there are a few

135
00:05:38,140 --> 00:05:41,909
<font color="#CCCCCC">little problems</font><font color="#E5E5E5"> doing it in hardware</font>

136
00:05:39,400 --> 00:05:44,229
<font color="#E5E5E5">right we do</font><font color="#CCCCCC"> have the environmental</font>

137
00:05:41,910 --> 00:05:47,890
<font color="#E5E5E5">effect some of</font><font color="#CCCCCC"> the stuff like</font><font color="#E5E5E5"> Johnson</font>

138
00:05:44,230 --> 00:05:52,270
<font color="#CCCCCC">noise if you cool the temperature down</font>

139
00:05:47,890 --> 00:05:53,890
<font color="#CCCCCC">it's it's</font><font color="#E5E5E5"> harder to get right</font><font color="#CCCCCC"> you some</font>

140
00:05:52,270 --> 00:05:57,760
things rely on<font color="#E5E5E5"> physical phenomena like</font>

141
00:05:53,890 --> 00:05:59,969
<font color="#E5E5E5">radio frequency or audio and obviously</font>

142
00:05:57,760 --> 00:06:05,080
we<font color="#E5E5E5"> can we could do</font><font color="#CCCCCC"> environmental things</font>

143
00:05:59,970 --> 00:06:07,120
to introduce<font color="#E5E5E5"> BIOS and then there's</font>

144
00:06:05,080 --> 00:06:09,120
throughput<font color="#CCCCCC"> right your request is</font>

145
00:06:07,120 --> 00:06:13,000
important to us<font color="#E5E5E5"> please hold</font>

146
00:06:09,120 --> 00:06:14,830
so if you've<font color="#E5E5E5"> got to have a lot</font><font color="#CCCCCC"> of</font><font color="#E5E5E5"> random</font>

147
00:06:13,000 --> 00:06:18,610
<font color="#E5E5E5">numbers say</font><font color="#CCCCCC"> your PokerStars</font>

148
00:06:14,830 --> 00:06:20,440
they have dealt 25 billion<font color="#E5E5E5"> hands of</font>

149
00:06:18,610 --> 00:06:23,800
Poker in like<font color="#CCCCCC"> 10 years they've been</font>

150
00:06:20,440 --> 00:06:27,880
<font color="#E5E5E5">around they do well over</font><font color="#CCCCCC"> a million hands</font>

151
00:06:23,800 --> 00:06:29,590
a day<font color="#CCCCCC"> so you need some good entropy you</font>

152
00:06:27,880 --> 00:06:32,380
<font color="#E5E5E5">need to make</font><font color="#CCCCCC"> sure</font><font color="#E5E5E5"> that you had enough</font>

153
00:06:29,590 --> 00:06:34,000
hardware<font color="#E5E5E5"> to do it</font><font color="#CCCCCC"> tricks there would be</font>

154
00:06:32,380 --> 00:06:38,010
<font color="#E5E5E5">things like you know pooling your</font>

155
00:06:34,000 --> 00:06:40,810
entropy and over-provisioning obviously

156
00:06:38,010 --> 00:06:43,650
now<font color="#CCCCCC"> that way you can do randomness so</font>

157
00:06:40,810 --> 00:06:46,120
<font color="#CCCCCC">you go get yourself</font><font color="#E5E5E5"> some software</font>

158
00:06:43,650 --> 00:06:47,469
anybody know the Marcin twister anybody

159
00:06:46,120 --> 00:06:49,300
here<font color="#E5E5E5"> experience with some random numbers</font>

160
00:06:47,470 --> 00:06:51,130
anybody heard of<font color="#E5E5E5"> the Marcin twister</font><font color="#CCCCCC"> well</font>

161
00:06:49,300 --> 00:06:52,300
I see a<font color="#CCCCCC"> couple of</font><font color="#E5E5E5"> hands</font><font color="#CCCCCC"> I hope you're</font>

162
00:06:51,130 --> 00:06:54,820
<font color="#CCCCCC">not using it for</font><font color="#E5E5E5"> anything important</font>

163
00:06:52,300 --> 00:06:57,250
because<font color="#E5E5E5"> it's a mess</font><font color="#CCCCCC"> the mercy and</font>

164
00:06:54,820 --> 00:06:59,889
twister shows up all the time<font color="#CCCCCC"> people</font>

165
00:06:57,250 --> 00:07:01,930
<font color="#CCCCCC">love to use</font><font color="#E5E5E5"> it because it's fast it's</font>

166
00:06:59,889 --> 00:07:07,060
freely<font color="#E5E5E5"> available</font><font color="#CCCCCC"> and source codes all</font>

167
00:07:01,930 --> 00:07:08,560
<font color="#CCCCCC">online obviously if you are in the</font>

168
00:07:07,060 --> 00:07:10,300
operating<font color="#E5E5E5"> system you know</font><font color="#CCCCCC"> you know in</font>

169
00:07:08,560 --> 00:07:14,259
the<font color="#E5E5E5"> windows you got</font><font color="#CCCCCC"> crypt gen random and</font>

170
00:07:10,300 --> 00:07:15,880
<font color="#CCCCCC">java we</font><font color="#E5E5E5"> have</font><font color="#CCCCCC"> java.util secure random</font><font color="#E5E5E5"> we</font>

171
00:07:14,259 --> 00:07:17,530
have dev<font color="#CCCCCC"> random in the operating</font><font color="#E5E5E5"> system</font>

172
00:07:15,880 --> 00:07:20,469
<font color="#CCCCCC">you can go pull</font><font color="#E5E5E5"> random numbers out of</font>

173
00:07:17,530 --> 00:07:24,130
<font color="#E5E5E5">that and that's usually</font><font color="#CCCCCC"> pretty good</font><font color="#E5E5E5"> and</font>

174
00:07:20,470 --> 00:07:26,949
of course you could roll your own you

175
00:07:24,130 --> 00:07:28,750
know<font color="#E5E5E5"> I've been</font><font color="#CCCCCC"> doing I've been doing</font>

176
00:07:26,949 --> 00:07:30,160
security<font color="#CCCCCC"> for a long time and years and</font>

177
00:07:28,750 --> 00:07:32,169
<font color="#E5E5E5">years</font><font color="#CCCCCC"> ago the message</font><font color="#E5E5E5"> right we'd all</font>

178
00:07:30,160 --> 00:07:34,210
<font color="#CCCCCC">tried it out</font><font color="#E5E5E5"> don't roll your own crypto</font>

179
00:07:32,169 --> 00:07:35,859
<font color="#E5E5E5">don't roll</font><font color="#CCCCCC"> your own randomness</font><font color="#E5E5E5"> and for</font>

180
00:07:34,210 --> 00:07:38,109
<font color="#CCCCCC">awhile I</font><font color="#E5E5E5"> think we got it right</font><font color="#CCCCCC"> I think</font>

181
00:07:35,860 --> 00:07:40,120
we like I<font color="#CCCCCC"> just stopped seeing it people</font>

182
00:07:38,110 --> 00:07:41,949
stopped doing it<font color="#E5E5E5"> and then it's like we</font>

183
00:07:40,120 --> 00:07:43,330
stopped beating the drum because<font color="#E5E5E5"> you</font>

184
00:07:41,949 --> 00:07:45,699
know<font color="#E5E5E5"> people kind of got the message and</font>

185
00:07:43,330 --> 00:07:47,469
so lately<font color="#E5E5E5"> you know now I see it again</font><font color="#CCCCCC"> I</font>

186
00:07:45,699 --> 00:07:49,960
see people<font color="#E5E5E5"> like well if we take the time</font>

187
00:07:47,470 --> 00:07:51,400
of day and exhort with<font color="#E5E5E5"> the</font><font color="#CCCCCC"> guys user ID</font>

188
00:07:49,960 --> 00:07:52,750
and then we look at<font color="#E5E5E5"> how many packets</font>

189
00:07:51,400 --> 00:08:00,909
have come in on<font color="#E5E5E5"> this interface since</font>

190
00:07:52,750 --> 00:08:04,150
1972<font color="#E5E5E5"> and you</font><font color="#CCCCCC"> know don't roll your own or</font>

191
00:08:00,909 --> 00:08:07,150
you know<font color="#E5E5E5"> this classic one right if</font>

192
00:08:04,150 --> 00:08:09,250
you've seen<font color="#E5E5E5"> xkcd right get random number</font>

193
00:08:07,150 --> 00:08:12,400
<font color="#CCCCCC">and return</font><font color="#E5E5E5"> for hey but we got it from a</font>

194
00:08:09,250 --> 00:08:16,930
fair dice roll now you can laugh at that

195
00:08:12,400 --> 00:08:23,258
<font color="#CCCCCC">hahaha funny I saw this code with this</font>

196
00:08:16,930 --> 00:08:28,570
<font color="#E5E5E5">comment and the URL in a voting machine</font>

197
00:08:23,259 --> 00:08:30,880
<font color="#CCCCCC">I stand before you</font><font color="#E5E5E5"> I swear on</font><font color="#CCCCCC"> my</font>

198
00:08:28,570 --> 00:08:34,029
mother's life<font color="#E5E5E5"> I saw this in a voting</font>

199
00:08:30,880 --> 00:08:36,640
<font color="#E5E5E5">machine they did that and then they like</font>

200
00:08:34,029 --> 00:08:38,740
<font color="#E5E5E5">XOR a bunch of stuff yeah but they</font>

201
00:08:36,640 --> 00:08:46,510
started and they<font color="#CCCCCC"> even</font><font color="#E5E5E5"> reference the</font>

202
00:08:38,740 --> 00:08:48,820
comic so the problem with software is

203
00:08:46,510 --> 00:08:50,880
<font color="#CCCCCC">that by and large</font><font color="#E5E5E5"> everything in a</font>

204
00:08:48,820 --> 00:08:52,930
software ran a number<font color="#E5E5E5"> generator is</font>

205
00:08:50,880 --> 00:08:54,250
deterministic<font color="#E5E5E5"> right computers do the</font>

206
00:08:52,930 --> 00:08:56,900
same<font color="#CCCCCC"> stupid things over</font><font color="#E5E5E5"> and</font><font color="#CCCCCC"> over</font><font color="#E5E5E5"> and</font>

207
00:08:54,250 --> 00:09:00,980
<font color="#E5E5E5">over again if I have your</font><font color="#CCCCCC"> Al</font>

208
00:08:56,900 --> 00:09:03,040
and I have your seed<font color="#CCCCCC"> I know what the</font>

209
00:09:00,980 --> 00:09:05,810
<font color="#E5E5E5">output of this of the algorithm will be</font>

210
00:09:03,040 --> 00:09:08,390
<font color="#E5E5E5">so the only thing</font><font color="#CCCCCC"> that</font><font color="#E5E5E5"> can make it safe</font>

211
00:09:05,810 --> 00:09:10,339
and<font color="#CCCCCC"> secure is if we manipulate the seed</font>

212
00:09:08,390 --> 00:09:13,610
if we seed it and reseed it from

213
00:09:10,339 --> 00:09:15,770
<font color="#E5E5E5">someplace secure and so like if you do</font>

214
00:09:13,610 --> 00:09:19,430
Java secure and them for instance<font color="#E5E5E5"> it has</font>

215
00:09:15,770 --> 00:09:21,170
<font color="#CCCCCC">an</font><font color="#E5E5E5"> ability to</font><font color="#CCCCCC"> seed itself</font><font color="#E5E5E5"> it does a</font>

216
00:09:19,430 --> 00:09:23,120
<font color="#E5E5E5">pretty decent job of seeding itself you</font>

217
00:09:21,170 --> 00:09:26,229
know does a little<font color="#E5E5E5"> thread join thing and</font>

218
00:09:23,120 --> 00:09:28,610
and you know it's pretty<font color="#CCCCCC"> unpredictable</font>

219
00:09:26,230 --> 00:09:31,220
<font color="#CCCCCC">but that is</font><font color="#E5E5E5"> like the big issue if you</font>

220
00:09:28,610 --> 00:09:33,550
want to run in software then you<font color="#E5E5E5"> have to</font>

221
00:09:31,220 --> 00:09:37,580
have some some way of getting<font color="#CCCCCC"> a secure</font>

222
00:09:33,550 --> 00:09:39,319
unpredictable seed<font color="#E5E5E5"> this is one of</font><font color="#CCCCCC"> the</font>

223
00:09:37,580 --> 00:09:41,839
good ways of using<font color="#E5E5E5"> software and our</font>

224
00:09:39,320 --> 00:09:44,480
number generators<font color="#E5E5E5"> is sort</font><font color="#CCCCCC"> of as an</font>

225
00:09:41,839 --> 00:09:46,160
extender of<font color="#E5E5E5"> entropy if you can get a</font>

226
00:09:44,480 --> 00:09:48,110
good seed from somewhere but<font color="#E5E5E5"> you need</font>

227
00:09:46,160 --> 00:09:49,939
more random numbers<font color="#E5E5E5"> then you can seed</font>

228
00:09:48,110 --> 00:09:56,600
periodically and run on the software<font color="#E5E5E5"> in</font>

229
00:09:49,940 --> 00:09:58,610
a number generator<font color="#E5E5E5"> most of the time the</font>

230
00:09:56,600 --> 00:10:02,000
issues<font color="#E5E5E5"> right I mean where do you get</font>

231
00:09:58,610 --> 00:10:03,650
<font color="#E5E5E5">that seed how do you get it</font><font color="#CCCCCC"> because if I</font>

232
00:10:02,000 --> 00:10:05,209
can and how do<font color="#E5E5E5"> you keep it safe</font><font color="#CCCCCC"> right</font>

233
00:10:03,650 --> 00:10:08,870
because if I<font color="#E5E5E5"> get it then I know what</font>

234
00:10:05,209 --> 00:10:09,529
<font color="#E5E5E5">your numbers are going to be about 12</font>

235
00:10:08,870 --> 00:10:12,110
years<font color="#E5E5E5"> ago</font>

236
00:10:09,529 --> 00:10:16,490
when online<font color="#E5E5E5"> poker was first taking off</font>

237
00:10:12,110 --> 00:10:19,540
in the<font color="#E5E5E5"> States some guys</font><font color="#CCCCCC"> they want to say</font>

238
00:10:16,490 --> 00:10:21,620
it was<font color="#CCCCCC"> party poker</font>

239
00:10:19,540 --> 00:10:23,689
then<font color="#E5E5E5"> they have a lot of hubris and</font>

240
00:10:21,620 --> 00:10:25,970
<font color="#E5E5E5">they're like look we do everything right</font>

241
00:10:23,690 --> 00:10:29,330
<font color="#E5E5E5">we do it so right that we're gonna</font>

242
00:10:25,970 --> 00:10:31,820
publish<font color="#E5E5E5"> our shuffling algorithm right</font>

243
00:10:29,330 --> 00:10:33,709
<font color="#E5E5E5">here on the web so</font><font color="#CCCCCC"> we take a random</font>

244
00:10:31,820 --> 00:10:35,240
<font color="#E5E5E5">number you know from our random</font><font color="#CCCCCC"> number</font>

245
00:10:33,709 --> 00:10:36,949
generator whatever that is and here's

246
00:10:35,240 --> 00:10:39,440
our shuffling and dealing algorithm

247
00:10:36,950 --> 00:10:40,820
well our guys were you<font color="#CCCCCC"> know really</font><font color="#E5E5E5"> into</font>

248
00:10:39,440 --> 00:10:42,770
poker at<font color="#E5E5E5"> the time I said oh this would</font>

249
00:10:40,820 --> 00:10:44,089
be<font color="#E5E5E5"> really cool would it</font><font color="#CCCCCC"> be funny</font><font color="#E5E5E5"> if we</font>

250
00:10:42,770 --> 00:10:45,500
could just<font color="#E5E5E5"> use</font><font color="#CCCCCC"> that shuffling and</font>

251
00:10:44,089 --> 00:10:48,410
dealing algorithm and figure<font color="#CCCCCC"> out what</font>

252
00:10:45,500 --> 00:10:50,029
they're dealing of course they couldn't

253
00:10:48,410 --> 00:10:51,770
<font color="#CCCCCC">possibly be using the time of day to</font>

254
00:10:50,029 --> 00:10:56,950
seed the random number generator could

255
00:10:51,770 --> 00:10:59,720
they so we wrote a little program that

256
00:10:56,950 --> 00:11:02,270
<font color="#E5E5E5">would you know take the</font><font color="#CCCCCC"> time of day and</font>

257
00:10:59,720 --> 00:11:05,900
<font color="#CCCCCC">we'll connect to the server and use the</font>

258
00:11:02,270 --> 00:11:07,790
<font color="#CCCCCC">ssl you know timestamp</font><font color="#E5E5E5"> from the server</font>

259
00:11:05,900 --> 00:11:10,670
<font color="#E5E5E5">to</font><font color="#CCCCCC"> get a rough approximation of what</font>

260
00:11:07,790 --> 00:11:13,280
time the server thought it was

261
00:11:10,670 --> 00:11:15,260
and then we<font color="#E5E5E5"> would basically you enter</font>

262
00:11:13,280 --> 00:11:17,300
the cards you've seen so<font color="#CCCCCC"> far</font><font color="#E5E5E5"> you know</font>

263
00:11:15,260 --> 00:11:18,710
<font color="#CCCCCC">your two hole cards and and of course it</font>

264
00:11:17,300 --> 00:11:20,930
may be your buddy if<font color="#CCCCCC"> you sit in the lab</font>

265
00:11:18,710 --> 00:11:22,460
next<font color="#E5E5E5"> to you or the or the cards that</font>

266
00:11:20,930 --> 00:11:24,699
<font color="#E5E5E5">come up in the center of the table</font><font color="#CCCCCC"> and</font>

267
00:11:22,460 --> 00:11:27,740
the software would<font color="#E5E5E5"> just take</font><font color="#CCCCCC"> you know</font>

268
00:11:24,700 --> 00:11:29,960
<font color="#E5E5E5">ten seconds prior you know 10 seconds</font>

269
00:11:27,740 --> 00:11:31,760
later<font color="#E5E5E5"> than the timestamp we got is run a</font>

270
00:11:29,960 --> 00:11:32,930
bunch<font color="#E5E5E5"> of shuffles and wait until we got</font>

271
00:11:31,760 --> 00:11:35,060
<font color="#E5E5E5">a shuffle that comes off with those</font>

272
00:11:32,930 --> 00:11:37,520
<font color="#E5E5E5">cards in that order and as soon as we</font>

273
00:11:35,060 --> 00:11:40,069
<font color="#E5E5E5">did that was like there's your deck and</font>

274
00:11:37,520 --> 00:11:41,510
so you get<font color="#CCCCCC"> a bit</font><font color="#E5E5E5"> of an advantage</font><font color="#CCCCCC"> I don't</font>

275
00:11:40,070 --> 00:11:43,190
know how many poker players we have but

276
00:11:41,510 --> 00:11:47,960
if<font color="#E5E5E5"> you know all the cards there's a</font>

277
00:11:43,190 --> 00:11:49,580
slight advantage<font color="#E5E5E5"> so you</font><font color="#CCCCCC"> know that's the</font>

278
00:11:47,960 --> 00:11:53,240
<font color="#CCCCCC">thing with software</font><font color="#E5E5E5"> right is if you know</font>

279
00:11:49,580 --> 00:11:56,950
<font color="#E5E5E5">the random numbers if you know the seed</font>

280
00:11:53,240 --> 00:12:01,340
<font color="#E5E5E5">then you're really screwed</font><font color="#CCCCCC"> on a software</font>

281
00:11:56,950 --> 00:12:02,660
<font color="#CCCCCC">RNG so let's look</font><font color="#E5E5E5"> at the relative</font>

282
00:12:01,340 --> 00:12:06,290
<font color="#CCCCCC">strength of some of the things</font><font color="#E5E5E5"> that</font>

283
00:12:02,660 --> 00:12:09,770
they're out<font color="#E5E5E5"> there</font><font color="#CCCCCC"> right mercy and</font>

284
00:12:06,290 --> 00:12:14,240
twister<font color="#CCCCCC"> it has an internal</font><font color="#E5E5E5"> state</font><font color="#CCCCCC"> of 625</font>

285
00:12:09,770 --> 00:12:16,880
bytes<font color="#CCCCCC"> huh sounds pretty big</font><font color="#E5E5E5"> a problem is</font>

286
00:12:14,240 --> 00:12:18,770
that basically that<font color="#E5E5E5"> internal state is</font>

287
00:12:16,880 --> 00:12:20,860
<font color="#CCCCCC">the random number that it's</font><font color="#E5E5E5"> going to</font>

288
00:12:18,770 --> 00:12:23,660
give you and so after you have<font color="#E5E5E5"> observed</font>

289
00:12:20,860 --> 00:12:28,400
626 outputs you can<font color="#CCCCCC"> pretty much predict</font>

290
00:12:23,660 --> 00:12:31,280
the rest of them until<font color="#E5E5E5"> they reseed</font><font color="#CCCCCC"> the</font>

291
00:12:28,400 --> 00:12:32,959
sim be oriented fast<font color="#CCCCCC"> Mersenne twister</font>

292
00:12:31,280 --> 00:12:34,790
it's just another it's like<font color="#CCCCCC"> the</font><font color="#E5E5E5"> Big</font>

293
00:12:32,960 --> 00:12:39,410
<font color="#E5E5E5">Brother</font><font color="#CCCCCC"> and they kind of upped it by an</font>

294
00:12:34,790 --> 00:12:41,360
order<font color="#CCCCCC"> of</font><font color="#E5E5E5"> magnitude</font><font color="#CCCCCC"> good news is you have</font>

295
00:12:39,410 --> 00:12:44,449
this massive period and it can take<font color="#E5E5E5"> a</font>

296
00:12:41,360 --> 00:12:46,940
big seed and<font color="#E5E5E5"> that's all really good bad</font>

297
00:12:44,450 --> 00:12:50,150
news<font color="#E5E5E5"> is if they don't recede you have to</font>

298
00:12:46,940 --> 00:12:51,560
observe<font color="#CCCCCC"> 6,000 bytes out of it and then</font>

299
00:12:50,150 --> 00:12:54,410
you can predict everything<font color="#E5E5E5"> that comes</font>

300
00:12:51,560 --> 00:12:57,349
out<font color="#E5E5E5"> so kind of good news bad news on</font>

301
00:12:54,410 --> 00:12:59,510
<font color="#E5E5E5">that one</font><font color="#CCCCCC"> Java secure anna has an</font>

302
00:12:57,350 --> 00:13:02,390
internal state of<font color="#E5E5E5"> 20 bytes which you</font>

303
00:12:59,510 --> 00:13:06,950
know<font color="#E5E5E5"> that sounds pretty good right</font><font color="#CCCCCC"> -</font><font color="#E5E5E5"> to</font>

304
00:13:02,390 --> 00:13:11,090
the 160<font color="#E5E5E5"> and Windows has 40 you know - to</font>

305
00:13:06,950 --> 00:13:13,220
the 320<font color="#CCCCCC"> sounds pretty good here's where</font>

306
00:13:11,090 --> 00:13:16,280
<font color="#E5E5E5">that can come back</font><font color="#CCCCCC"> to bite</font><font color="#E5E5E5"> you let's</font>

307
00:13:13,220 --> 00:13:18,290
<font color="#E5E5E5">imagine we want to deal some cards so</font>

308
00:13:16,280 --> 00:13:19,730
the problem we have<font color="#CCCCCC"> here</font><font color="#E5E5E5"> is that 52</font>

309
00:13:18,290 --> 00:13:20,810
factorial which is<font color="#CCCCCC"> the number</font><font color="#E5E5E5"> of</font>

310
00:13:19,730 --> 00:13:23,840
different<font color="#CCCCCC"> ways you could</font><font color="#E5E5E5"> shuffle a deck</font>

311
00:13:20,810 --> 00:13:25,609
of<font color="#E5E5E5"> cards</font><font color="#CCCCCC"> that turns out to be about 2 to</font>

312
00:13:23,840 --> 00:13:28,260
the 220

313
00:13:25,610 --> 00:13:30,960
well Java<font color="#CCCCCC"> secure and</font><font color="#E5E5E5"> I'm like I said has</font>

314
00:13:28,260 --> 00:13:34,290
that<font color="#CCCCCC"> 20-byte</font><font color="#E5E5E5"> internal state it can only</font>

315
00:13:30,960 --> 00:13:35,880
produce<font color="#CCCCCC"> two to the 160 unique streams of</font>

316
00:13:34,290 --> 00:13:38,130
random numbers give it any set of seeds

317
00:13:35,880 --> 00:13:39,840
you<font color="#CCCCCC"> want there are</font><font color="#E5E5E5"> only</font><font color="#CCCCCC"> two to the 160</font>

318
00:13:38,130 --> 00:13:40,800
possible streams of random numbers that

319
00:13:39,840 --> 00:13:45,090
<font color="#CCCCCC">will</font><font color="#E5E5E5"> come</font><font color="#CCCCCC"> out of</font><font color="#E5E5E5"> it</font>

320
00:13:40,800 --> 00:13:47,189
it cannot actually<font color="#E5E5E5"> produce every</font>

321
00:13:45,090 --> 00:13:48,980
possible shuffle of a deck of<font color="#E5E5E5"> cards</font>

322
00:13:47,190 --> 00:13:51,690
<font color="#CCCCCC">I don't know which ones it can't produce</font>

323
00:13:48,980 --> 00:13:53,670
<font color="#E5E5E5">you know</font><font color="#CCCCCC"> I can't tell you which hands</font><font color="#E5E5E5"> of</font>

324
00:13:51,690 --> 00:13:55,710
Poker won't come out<font color="#E5E5E5"> of Java secure</font>

325
00:13:53,670 --> 00:13:57,959
random<font color="#CCCCCC"> because that</font><font color="#E5E5E5"> took the 160 is an</font>

326
00:13:55,710 --> 00:13:59,700
awful lot but there are things<font color="#E5E5E5"> you can't</font>

327
00:13:57,960 --> 00:14:01,790
produce<font color="#E5E5E5"> events that will not happen if</font>

328
00:13:59,700 --> 00:14:04,290
that's your random<font color="#CCCCCC"> number generator</font>

329
00:14:01,790 --> 00:14:06,360
windows on the<font color="#E5E5E5"> other hand with the</font><font color="#CCCCCC"> kripp</font>

330
00:14:04,290 --> 00:14:08,069
<font color="#E5E5E5">Jenner</font><font color="#CCCCCC"> annum has enough space I can</font>

331
00:14:06,360 --> 00:14:13,050
<font color="#CCCCCC">actually do either shuffling the deck of</font>

332
00:14:08,070 --> 00:14:15,690
cards<font color="#CCCCCC"> so there's one where you say well</font>

333
00:14:13,050 --> 00:14:17,990
can I use Java secure random<font color="#E5E5E5"> for my</font><font color="#CCCCCC"> J</font>

334
00:14:15,690 --> 00:14:21,440
<font color="#E5E5E5">session ID on a web app yes you're just</font>

335
00:14:17,990 --> 00:14:21,440
<font color="#CCCCCC">don't shuffle</font><font color="#E5E5E5"> cards</font>

336
00:14:25,480 --> 00:14:28,780
now why did I just<font color="#E5E5E5"> cross out</font><font color="#CCCCCC"> kripp</font>

337
00:14:27,520 --> 00:14:31,569
Jenner<font color="#CCCCCC"> and him I thought I said it had a</font>

338
00:14:28,780 --> 00:14:34,720
big<font color="#E5E5E5"> enough state yeah but it only takes</font>

339
00:14:31,570 --> 00:14:37,720
a 32-bit seed<font color="#E5E5E5"> there's only four billion</font>

340
00:14:34,720 --> 00:14:40,360
ways to seed that thing<font color="#E5E5E5"> so</font><font color="#CCCCCC"> four billion</font>

341
00:14:37,720 --> 00:14:43,630
<font color="#E5E5E5">is way less</font><font color="#CCCCCC"> than the number of</font><font color="#E5E5E5"> possible</font>

342
00:14:40,360 --> 00:14:45,760
shuffles of a deck of<font color="#E5E5E5"> cards</font><font color="#CCCCCC"> so if you're</font>

343
00:14:43,630 --> 00:14:47,860
gonna seed with only<font color="#E5E5E5"> a 32-bit</font><font color="#CCCCCC"> integer</font>

344
00:14:45,760 --> 00:14:49,960
and you only have four<font color="#E5E5E5"> billion possible</font>

345
00:14:47,860 --> 00:14:52,900
seeds you have<font color="#E5E5E5"> to run really long in the</font>

346
00:14:49,960 --> 00:14:54,220
period which means that you run a longer

347
00:14:52,900 --> 00:14:56,290
chant a better chance of somebody

348
00:14:54,220 --> 00:14:58,750
guessing what your seed was and catching

349
00:14:56,290 --> 00:15:02,949
up to you<font color="#E5E5E5"> so you actually want something</font>

350
00:14:58,750 --> 00:15:04,480
it takes<font color="#E5E5E5"> a big old seed or frankly you</font>

351
00:15:02,950 --> 00:15:06,160
know if you're a gambler<font color="#CCCCCC"> you get the</font>

352
00:15:04,480 --> 00:15:08,890
<font color="#E5E5E5">hardware vendor number generators for</font><font color="#CCCCCC"> 1</font>

353
00:15:06,160 --> 00:15:10,569
grand or<font color="#E5E5E5"> 2 grand or something</font><font color="#CCCCCC"> throw that</font>

354
00:15:08,890 --> 00:15:15,850
thing in<font color="#CCCCCC"> those in the system and forget</font>

355
00:15:10,570 --> 00:15:19,240
about<font color="#E5E5E5"> it and of course the</font><font color="#CCCCCC"> mersin twist</font>

356
00:15:15,850 --> 00:15:25,210
or what drives me<font color="#CCCCCC"> crazy about</font><font color="#E5E5E5"> it is that</font>

357
00:15:19,240 --> 00:15:28,150
it gets<font color="#E5E5E5"> used all the time but it passes</font>

358
00:15:25,210 --> 00:15:30,790
your statistical tests right you can rob

359
00:15:28,150 --> 00:15:34,030
<font color="#E5E5E5">them die hard and the NIST tests all the</font>

360
00:15:30,790 --> 00:15:36,730
<font color="#E5E5E5">other things it will pass you know what</font>

361
00:15:34,030 --> 00:15:38,470
else<font color="#CCCCCC"> passes I got into I got into a</font>

362
00:15:36,730 --> 00:15:40,600
little<font color="#CCCCCC"> debate with major malfunction on</font>

363
00:15:38,470 --> 00:15:43,000
this one because I came<font color="#E5E5E5"> out to DC for 40</font>

364
00:15:40,600 --> 00:15:44,980
<font color="#CCCCCC">40 for 20 and did this talk and he got</font>

365
00:15:43,000 --> 00:15:49,900
<font color="#E5E5E5">got interested</font><font color="#CCCCCC"> in</font><font color="#E5E5E5"> randomness</font><font color="#CCCCCC"> for a</font>

366
00:15:44,980 --> 00:15:51,520
little while<font color="#CCCCCC"> and if we got into</font><font color="#E5E5E5"> this</font>

367
00:15:49,900 --> 00:15:53,890
little debate<font color="#E5E5E5"> about it and you're</font>

368
00:15:51,520 --> 00:15:57,550
<font color="#E5E5E5">passing a statistical test is often</font><font color="#CCCCCC"> like</font>

369
00:15:53,890 --> 00:15:59,560
<font color="#E5E5E5">yeah that's the the gold seal yeah</font><font color="#CCCCCC"> but</font>

370
00:15:57,550 --> 00:16:01,660
you know what I<font color="#E5E5E5"> can take the number the</font>

371
00:15:59,560 --> 00:16:06,520
numbers from you know<font color="#CCCCCC"> zero to a thousand</font>

372
00:16:01,660 --> 00:16:09,610
<font color="#CCCCCC">0 1 2 3 4 5</font><font color="#E5E5E5"> in order calculate the</font><font color="#CCCCCC"> sha-1</font>

373
00:16:06,520 --> 00:16:11,439
hash of those things<font color="#E5E5E5"> and use that as</font>

374
00:16:09,610 --> 00:16:13,870
like<font color="#E5E5E5"> a byte stream right let's pretend</font>

375
00:16:11,440 --> 00:16:17,260
that<font color="#CCCCCC"> that's the output of my RNG a</font>

376
00:16:13,870 --> 00:16:19,030
number<font color="#E5E5E5"> zero shot one</font><font color="#CCCCCC"> of it one shall one</font>

377
00:16:17,260 --> 00:16:21,730
of it<font color="#E5E5E5"> just there's my there's my output</font>

378
00:16:19,030 --> 00:16:24,000
stream hand that<font color="#E5E5E5"> to die hard and this</font>

379
00:16:21,730 --> 00:16:25,780
<font color="#CCCCCC">and all</font><font color="#E5E5E5"> those other things comes out</font>

380
00:16:24,000 --> 00:16:31,270
with a passing grade

381
00:16:25,780 --> 00:16:33,370
<font color="#CCCCCC">is there any entropy in there no hash</font>

382
00:16:31,270 --> 00:16:36,069
functions do not<font color="#E5E5E5"> produce entropy they</font>

383
00:16:33,370 --> 00:16:38,800
don't manufacture it out of nowhere<font color="#CCCCCC"> so</font>

384
00:16:36,070 --> 00:16:39,070
it has a nice clean distribution there's

385
00:16:38,800 --> 00:16:40,719
no

386
00:16:39,070 --> 00:16:43,660
cycles there's no patterns there's no

387
00:16:40,720 --> 00:16:49,810
bias there's no entropy either it's

388
00:16:43,660 --> 00:16:51,189
completely predictable and<font color="#E5E5E5"> the ups of</font>

389
00:16:49,810 --> 00:16:56,079
<font color="#E5E5E5">empty I already told you that</font><font color="#CCCCCC"> guys no</font>

390
00:16:51,190 --> 00:16:57,100
<font color="#CCCCCC">good right so we</font><font color="#E5E5E5"> want to do it right</font>

391
00:16:56,080 --> 00:16:59,020
<font color="#CCCCCC">okay</font>

392
00:16:57,100 --> 00:17:01,480
so<font color="#E5E5E5"> this is the class participation part</font>

393
00:16:59,020 --> 00:17:01,930
of this we want to simulate a<font color="#E5E5E5"> six-sided</font>

394
00:17:01,480 --> 00:17:04,780
die

395
00:17:01,930 --> 00:17:07,119
right so the valid values<font color="#CCCCCC"> are 1 to 6</font>

396
00:17:04,780 --> 00:17:09,040
<font color="#E5E5E5">let's imagine I got a perfect</font><font color="#CCCCCC"> little</font>

397
00:17:07,119 --> 00:17:15,010
<font color="#E5E5E5">piece of hardware that's</font><font color="#CCCCCC"> going to give</font>

398
00:17:09,040 --> 00:17:17,260
<font color="#CCCCCC">me perfect values 0 to 9 what do I do</font>

399
00:17:15,010 --> 00:17:18,640
anybody<font color="#E5E5E5"> got an idea</font><font color="#CCCCCC"> we might want to</font>

400
00:17:17,260 --> 00:17:21,819
<font color="#E5E5E5">have the microphone handy in case</font>

401
00:17:18,640 --> 00:17:23,620
somebody wants<font color="#E5E5E5"> to to give an</font><font color="#CCCCCC"> answer here</font>

402
00:17:21,819 --> 00:17:28,179
<font color="#E5E5E5">how do i how do I do this I take the</font>

403
00:17:23,619 --> 00:17:29,919
number<font color="#E5E5E5"> 0 to 9</font><font color="#CCCCCC"> and produce 1 to 6</font><font color="#E5E5E5"> with 1</font>

404
00:17:28,180 --> 00:17:34,240
through 6 all being equally probable

405
00:17:29,920 --> 00:17:39,340
<font color="#CCCCCC">I got a</font><font color="#E5E5E5"> ringer he's heard of the</font><font color="#CCCCCC"> SFM T</font>

406
00:17:34,240 --> 00:17:42,100
so you can pretty<font color="#CCCCCC"> much just take any</font>

407
00:17:39,340 --> 00:17:44,649
output<font color="#E5E5E5"> and then if it's outside your</font>

408
00:17:42,100 --> 00:17:46,209
<font color="#E5E5E5">range discard it it means generating</font>

409
00:17:44,650 --> 00:17:47,650
more numbers but it'll be equally

410
00:17:46,210 --> 00:17:50,320
<font color="#E5E5E5">running they're equally distributed</font>

411
00:17:47,650 --> 00:17:52,390
<font color="#E5E5E5">there you go you kind</font><font color="#CCCCCC"> of stole my</font>

412
00:17:50,320 --> 00:17:54,700
<font color="#E5E5E5">thunder but yeah you're</font><font color="#CCCCCC"> exactly right I</font>

413
00:17:52,390 --> 00:17:56,560
was<font color="#E5E5E5"> really hoping</font><font color="#CCCCCC"> that I could get</font>

414
00:17:54,700 --> 00:17:59,260
<font color="#CCCCCC">somebody to raise</font><font color="#E5E5E5"> their hand and offer</font>

415
00:17:56,560 --> 00:18:00,940
<font color="#E5E5E5">modulo arithmetic right because modulo</font>

416
00:17:59,260 --> 00:18:02,200
arithmetic sounds like the perfect<font color="#CCCCCC"> thing</font>

417
00:18:00,940 --> 00:18:04,570
right you<font color="#E5E5E5"> just say well look I'll take</font>

418
00:18:02,200 --> 00:18:09,700
<font color="#E5E5E5">the zero to</font><font color="#CCCCCC"> nine and I do you know mod</font>

419
00:18:04,570 --> 00:18:11,620
<font color="#CCCCCC">six</font><font color="#E5E5E5"> add one you know we're good</font><font color="#CCCCCC"> of</font>

420
00:18:09,700 --> 00:18:14,650
course what ends up happening if you<font color="#CCCCCC"> do</font>

421
00:18:11,620 --> 00:18:17,260
<font color="#E5E5E5">that if you do the you know mod six plus</font>

422
00:18:14,650 --> 00:18:19,060
<font color="#CCCCCC">one</font><font color="#E5E5E5"> look what happens</font><font color="#CCCCCC"> right the</font><font color="#E5E5E5"> value is</font>

423
00:18:17,260 --> 00:18:20,410
<font color="#CCCCCC">one two three and four have a</font><font color="#E5E5E5"> 20%</font>

424
00:18:19,060 --> 00:18:21,730
<font color="#CCCCCC">probability of coming out because</font>

425
00:18:20,410 --> 00:18:24,490
there's two<font color="#CCCCCC"> different</font><font color="#E5E5E5"> ways to make them</font>

426
00:18:21,730 --> 00:18:26,890
<font color="#E5E5E5">and the</font><font color="#CCCCCC"> values 5 & 6</font><font color="#E5E5E5"> have only a 10% way</font>

427
00:18:24,490 --> 00:18:29,710
of coming<font color="#E5E5E5"> out because there's only one</font>

428
00:18:26,890 --> 00:18:32,920
way to make<font color="#CCCCCC"> each of those</font><font color="#E5E5E5"> values so</font>

429
00:18:29,710 --> 00:18:35,260
don't do that<font color="#E5E5E5"> that is probably what</font>

430
00:18:32,920 --> 00:18:37,780
happened to the<font color="#CCCCCC"> US</font><font color="#E5E5E5"> visa lottery remember</font>

431
00:18:35,260 --> 00:18:39,730
<font color="#E5E5E5">that I said applicants who applied early</font>

432
00:18:37,780 --> 00:18:43,480
in the application period<font color="#E5E5E5"> were more</font>

433
00:18:39,730 --> 00:18:44,710
likely<font color="#CCCCCC"> to get a visa</font><font color="#E5E5E5"> than people who</font>

434
00:18:43,480 --> 00:18:47,350
applied later in the period

435
00:18:44,710 --> 00:18:51,300
so this that's you saw the classic

436
00:18:47,350 --> 00:18:51,300
symptom<font color="#E5E5E5"> of using modulus arithmetic</font>

437
00:18:52,179 --> 00:18:59,809
now mistake number<font color="#E5E5E5"> two is to try</font>

438
00:18:56,570 --> 00:19:01,129
<font color="#E5E5E5">floating-point so it doesn't make as</font>

439
00:18:59,809 --> 00:19:02,928
much<font color="#CCCCCC"> sense when</font><font color="#E5E5E5"> we're dealing with such</font>

440
00:19:01,130 --> 00:19:05,299
<font color="#E5E5E5">small numbers</font><font color="#CCCCCC"> zero to nine and one to</font>

441
00:19:02,929 --> 00:19:07,130
<font color="#CCCCCC">six but we see this</font><font color="#E5E5E5"> sometimes where</font>

442
00:19:05,299 --> 00:19:09,950
<font color="#CCCCCC">people say you know what I'll pretend</font>

443
00:19:07,130 --> 00:19:12,620
that<font color="#CCCCCC"> I've got</font><font color="#E5E5E5"> this range of zero to nine</font>

444
00:19:09,950 --> 00:19:17,090
I'm gonna pick some<font color="#E5E5E5"> number and I pick</font>

445
00:19:12,620 --> 00:19:18,889
four so that's<font color="#E5E5E5"> 40%</font><font color="#CCCCCC"> into my range now</font>

446
00:19:17,090 --> 00:19:23,299
take point<font color="#E5E5E5"> four</font><font color="#CCCCCC"> and multiply it times</font>

447
00:19:18,890 --> 00:19:25,730
six<font color="#E5E5E5"> and that gets me my output you know</font>

448
00:19:23,299 --> 00:19:27,500
and then we<font color="#E5E5E5"> just obviously round up the</font>

449
00:19:25,730 --> 00:19:29,750
problem is you suffer from the same sort

450
00:19:27,500 --> 00:19:33,679
<font color="#CCCCCC">of bias I mean the bottom line</font><font color="#E5E5E5"> is</font>

451
00:19:29,750 --> 00:19:35,299
whatever<font color="#CCCCCC"> you're max int</font><font color="#E5E5E5"> you the</font><font color="#CCCCCC"> the</font>

452
00:19:33,679 --> 00:19:39,679
amount that you<font color="#E5E5E5"> can store in a 32-bit</font>

453
00:19:35,299 --> 00:19:42,110
<font color="#CCCCCC">integer or a 32-bit</font><font color="#E5E5E5"> you know</font><font color="#CCCCCC"> I Triple E</font>

454
00:19:39,679 --> 00:19:44,030
floating point value is not evenly

455
00:19:42,110 --> 00:19:46,280
divisible by your output range<font color="#E5E5E5"> so it</font>

456
00:19:44,030 --> 00:19:49,070
doesn't actually work<font color="#E5E5E5"> this way so there</font>

457
00:19:46,280 --> 00:19:53,059
will<font color="#E5E5E5"> be a bias on this many elements</font>

458
00:19:49,070 --> 00:19:56,750
whatever<font color="#CCCCCC"> you know max</font><font color="#E5E5E5"> int or max 32-bit</font>

459
00:19:53,059 --> 00:19:59,960
value mod<font color="#E5E5E5"> your range is that many items</font>

460
00:19:56,750 --> 00:20:01,760
<font color="#E5E5E5">will have some kind of</font><font color="#CCCCCC"> BIOS</font><font color="#E5E5E5"> and we can</font>

461
00:19:59,960 --> 00:20:06,350
even<font color="#E5E5E5"> see it I wrote a little you know</font>

462
00:20:01,760 --> 00:20:08,809
dummy program to do that<font color="#CCCCCC"> and and what</font>

463
00:20:06,350 --> 00:20:11,030
<font color="#E5E5E5">you see is</font><font color="#CCCCCC"> there's this tiny tiny and we</font>

464
00:20:08,809 --> 00:20:11,330
did a I think<font color="#E5E5E5"> a million or a</font><font color="#CCCCCC"> hundred</font>

465
00:20:11,030 --> 00:20:14,178
million

466
00:20:11,330 --> 00:20:16,309
you know<font color="#E5E5E5"> rolls and</font><font color="#CCCCCC"> you see you got to go</font>

467
00:20:14,179 --> 00:20:18,919
pretty far down before you start<font color="#CCCCCC"> to see</font>

468
00:20:16,309 --> 00:20:20,270
any differences in the<font color="#E5E5E5"> output but</font><font color="#CCCCCC"> then</font>

469
00:20:18,919 --> 00:20:23,059
if we<font color="#E5E5E5"> do</font><font color="#CCCCCC"> to dice like we're gonna have</font>

470
00:20:20,270 --> 00:20:25,820
<font color="#E5E5E5">an online craps game you know you start</font>

471
00:20:23,059 --> 00:20:28,700
to<font color="#E5E5E5"> see the multiplication effect where</font>

472
00:20:25,820 --> 00:20:32,360
certain things are fair bit more<font color="#E5E5E5"> likely</font>

473
00:20:28,700 --> 00:20:34,789
or<font color="#E5E5E5"> less likely than they should</font><font color="#CCCCCC"> be</font><font color="#E5E5E5"> and</font>

474
00:20:32,360 --> 00:20:35,780
you figure that<font color="#E5E5E5"> I mean I guess in</font><font color="#CCCCCC"> some</font>

475
00:20:34,789 --> 00:20:37,700
sense you<font color="#CCCCCC"> could say well it all comes</font>

476
00:20:35,780 --> 00:20:41,510
<font color="#CCCCCC">out in</font><font color="#E5E5E5"> the wash</font><font color="#CCCCCC"> two and</font><font color="#E5E5E5"> twelve kind of</font>

477
00:20:37,700 --> 00:20:45,409
cancel<font color="#E5E5E5"> each other out</font><font color="#CCCCCC"> and seven is is</font>

478
00:20:41,510 --> 00:20:47,390
<font color="#E5E5E5">even or when you get a shuffle cards</font><font color="#CCCCCC"> you</font>

479
00:20:45,409 --> 00:20:49,730
know you see something<font color="#E5E5E5"> like this where</font>

480
00:20:47,390 --> 00:20:51,530
you<font color="#E5E5E5"> know there's five cards that are it</font>

481
00:20:49,730 --> 00:20:53,780
after a hundred<font color="#CCCCCC"> million deals</font><font color="#E5E5E5"> there's</font>

482
00:20:51,530 --> 00:20:55,370
five cards that have been dealt<font color="#E5E5E5"> you know</font>

483
00:20:53,780 --> 00:20:58,990
<font color="#E5E5E5">one fewer time than they should have</font>

484
00:20:55,370 --> 00:21:02,840
<font color="#E5E5E5">been</font><font color="#CCCCCC"> okay look</font><font color="#E5E5E5"> that's not massive but</font>

485
00:20:58,990 --> 00:21:04,460
<font color="#CCCCCC">still</font><font color="#E5E5E5"> if you're in the online gaming</font>

486
00:21:02,840 --> 00:21:05,320
industry you usually<font color="#E5E5E5"> have some regulator</font>

487
00:21:04,460 --> 00:21:07,149
kind of<font color="#CCCCCC"> scrutinize</font>

488
00:21:05,320 --> 00:21:09,519
you<font color="#E5E5E5"> saying so are you really fair and</font>

489
00:21:07,149 --> 00:21:14,758
actually they'll end up<font color="#E5E5E5"> giving you a lot</font>

490
00:21:09,519 --> 00:21:16,889
<font color="#CCCCCC">of</font><font color="#E5E5E5"> grief over something like</font><font color="#CCCCCC"> that</font><font color="#E5E5E5"> okay</font>

491
00:21:14,759 --> 00:21:21,130
<font color="#E5E5E5">let me tell you something</font>

492
00:21:16,889 --> 00:21:22,959
hashes do not extend entropy<font color="#E5E5E5"> if the hash</font>

493
00:21:21,130 --> 00:21:26,470
could make<font color="#E5E5E5"> your entropy longer we'd call</font>

494
00:21:22,960 --> 00:21:29,019
it<font color="#CCCCCC"> Viagra</font><font color="#E5E5E5"> we wouldn't call it a hash so</font>

495
00:21:26,470 --> 00:21:31,509
if you've<font color="#E5E5E5"> got a random number</font><font color="#CCCCCC"> and you</font>

496
00:21:29,019 --> 00:21:34,960
put it in a sha-1<font color="#CCCCCC"> there are no new bits</font>

497
00:21:31,509 --> 00:21:37,779
of entropy<font color="#CCCCCC"> so you may get</font><font color="#E5E5E5"> 160 bits out</font>

498
00:21:34,960 --> 00:21:39,190
of your hash function but if you know 32

499
00:21:37,779 --> 00:21:43,090
bits<font color="#E5E5E5"> of entropy went in there's still</font>

500
00:21:39,190 --> 00:21:44,500
<font color="#CCCCCC">only 32 bits</font><font color="#E5E5E5"> hiding in and among the 160</font>

501
00:21:43,090 --> 00:21:47,320
bits of<font color="#E5E5E5"> your output</font><font color="#CCCCCC"> you just don't know</font>

502
00:21:44,500 --> 00:21:48,820
which ones they<font color="#CCCCCC"> are now so if you go to</font>

503
00:21:47,320 --> 00:21:50,889
<font color="#E5E5E5">some trouble to get yourself 32 good</font>

504
00:21:48,820 --> 00:21:57,399
bits of entropy<font color="#E5E5E5"> just just hang on to</font>

505
00:21:50,889 --> 00:21:58,990
them don't<font color="#E5E5E5"> abuse them don't take a bunch</font>

506
00:21:57,399 --> 00:22:00,129
of other stuff<font color="#E5E5E5"> from the environment and</font>

507
00:21:58,990 --> 00:22:02,169
<font color="#E5E5E5">throw it in with your random</font><font color="#CCCCCC"> number</font>

508
00:22:00,129 --> 00:22:05,110
generator<font color="#E5E5E5"> if you pull you don't want to</font>

509
00:22:02,169 --> 00:22:07,990
eat<font color="#E5E5E5"> like you buy the</font><font color="#CCCCCC"> $1200</font><font color="#E5E5E5"> quant</font><font color="#CCCCCC"> eek</font><font color="#E5E5E5"> you</font>

510
00:22:05,110 --> 00:22:10,959
know<font color="#E5E5E5"> quantum physics photon emitter</font>

511
00:22:07,990 --> 00:22:14,820
based rng don't put the process ID in

512
00:22:10,960 --> 00:22:14,820
there<font color="#E5E5E5"> that thing was good to begin with</font>

513
00:22:16,830 --> 00:22:25,059
<font color="#CCCCCC">I'm</font><font color="#E5E5E5"> a kind of a nut</font><font color="#CCCCCC"> about wasting</font>

514
00:22:21,460 --> 00:22:27,159
entropy<font color="#E5E5E5"> don't use a 32-bit value to</font>

515
00:22:25,059 --> 00:22:30,610
shuffle<font color="#E5E5E5"> a deck</font><font color="#CCCCCC"> of cards</font><font color="#E5E5E5"> you</font><font color="#CCCCCC"> know you</font>

516
00:22:27,159 --> 00:22:32,559
only need the values<font color="#E5E5E5"> from</font><font color="#CCCCCC"> zero to 52</font><font color="#E5E5E5"> you</font>

517
00:22:30,610 --> 00:22:34,330
can do<font color="#E5E5E5"> that with one</font><font color="#CCCCCC"> bite heck even then</font>

518
00:22:32,559 --> 00:22:36,580
you're wasting<font color="#CCCCCC"> you know</font><font color="#E5E5E5"> two bits of</font>

519
00:22:34,330 --> 00:22:43,389
<font color="#E5E5E5">entropy but you know do with one</font><font color="#CCCCCC"> byte</font>

520
00:22:36,580 --> 00:22:45,399
not<font color="#E5E5E5"> 32 and careful about error and</font>

521
00:22:43,389 --> 00:22:47,979
exception handling<font color="#CCCCCC"> I mean this is where</font>

522
00:22:45,399 --> 00:22:50,080
I have<font color="#E5E5E5"> found some just classic screw-ups</font>

523
00:22:47,980 --> 00:22:52,659
<font color="#CCCCCC">in online poker sites and online</font>

524
00:22:50,080 --> 00:22:56,168
lotteries kind of stuff where you know

525
00:22:52,659 --> 00:23:00,009
<font color="#E5E5E5">the random number generator starts going</font>

526
00:22:56,169 --> 00:23:02,559
zero zero zero zero<font color="#E5E5E5"> and they have no way</font>

527
00:23:00,009 --> 00:23:04,720
to<font color="#E5E5E5"> tell you know nothing in there</font><font color="#CCCCCC"> that</font>

528
00:23:02,559 --> 00:23:08,950
this<font color="#E5E5E5"> sort of checks and in one case I</font>

529
00:23:04,720 --> 00:23:11,620
actually found<font color="#E5E5E5"> code that returns zero on</font>

530
00:23:08,950 --> 00:23:13,629
error and what if you ran<font color="#E5E5E5"> a number</font>

531
00:23:11,620 --> 00:23:15,518
<font color="#E5E5E5">generator produced</font><font color="#CCCCCC"> zero that is a</font>

532
00:23:13,629 --> 00:23:19,780
legitimate<font color="#CCCCCC"> value it should</font><font color="#E5E5E5"> happen</font><font color="#CCCCCC"> you</font>

533
00:23:15,519 --> 00:23:23,920
<font color="#CCCCCC">know</font><font color="#E5E5E5"> one in</font><font color="#CCCCCC"> 4</font><font color="#E5E5E5"> billion times</font>

534
00:23:19,780 --> 00:23:23,920
so you got to be careful<font color="#E5E5E5"> with</font><font color="#CCCCCC"> that stuff</font>

535
00:23:24,130 --> 00:23:33,470
<font color="#E5E5E5">all right</font><font color="#CCCCCC"> let's talk about how we do it</font>

536
00:23:28,940 --> 00:23:36,710
right<font color="#CCCCCC"> the short</font><font color="#E5E5E5"> answer is don't be too</font>

537
00:23:33,470 --> 00:23:43,190
clever<font color="#E5E5E5"> you can</font><font color="#CCCCCC"> out clever yourself</font><font color="#E5E5E5"> don't</font>

538
00:23:36,710 --> 00:23:44,750
<font color="#E5E5E5">do that so short answer</font><font color="#CCCCCC"> is leave well</font>

539
00:23:43,190 --> 00:23:47,930
enough alone<font color="#E5E5E5"> right if</font><font color="#CCCCCC"> you got a nice</font>

540
00:23:44,750 --> 00:23:51,920
<font color="#CCCCCC">little random a</font><font color="#E5E5E5"> number</font><font color="#CCCCCC"> just just let it</font>

541
00:23:47,930 --> 00:23:57,290
be<font color="#E5E5E5"> and as we already heard right</font>

542
00:23:51,920 --> 00:23:59,440
repeatedly draw so if I you<font color="#E5E5E5"> know while I</font>

543
00:23:57,290 --> 00:24:04,340
don't<font color="#E5E5E5"> have something that's in my range</font>

544
00:23:59,440 --> 00:24:07,070
<font color="#E5E5E5">try</font><font color="#CCCCCC"> again just do a do-while loop I</font>

545
00:24:04,340 --> 00:24:07,669
don't use a lot<font color="#CCCCCC"> of do-while loops in in</font>

546
00:24:07,070 --> 00:24:09,860
my life

547
00:24:07,670 --> 00:24:11,720
but but<font color="#E5E5E5"> this</font><font color="#CCCCCC"> is like the classic one you</font>

548
00:24:09,860 --> 00:24:14,090
got to<font color="#CCCCCC"> do it once and if that wasn't</font>

549
00:24:11,720 --> 00:24:16,480
<font color="#E5E5E5">good enough keep trying and when you're</font>

550
00:24:14,090 --> 00:24:16,480
done you're done

551
00:24:19,420 --> 00:24:24,500
now what about shuffling<font color="#CCCCCC"> cards anybody</font>

552
00:24:22,730 --> 00:24:25,700
know how assuming you have some<font color="#CCCCCC"> good</font>

553
00:24:24,500 --> 00:24:29,270
random numbers how would you shuffle

554
00:24:25,700 --> 00:24:30,410
cards short hands if you think<font color="#CCCCCC"> you could</font>

555
00:24:29,270 --> 00:24:31,790
shuffle<font color="#CCCCCC"> a deck of cards at a at a</font>

556
00:24:30,410 --> 00:24:34,820
computer algorithm<font color="#CCCCCC"> I'm not gonna make</font>

557
00:24:31,790 --> 00:24:37,879
anybody say it could you do it<font color="#E5E5E5"> I don't</font>

558
00:24:34,820 --> 00:24:40,100
want<font color="#E5E5E5"> to either everybody is like so</font>

559
00:24:37,880 --> 00:24:41,420
incredibly<font color="#E5E5E5"> awesome and they got Fischer</font>

560
00:24:40,100 --> 00:24:44,510
<font color="#CCCCCC">Yates</font><font color="#E5E5E5"> in their head and they're like</font>

561
00:24:41,420 --> 00:24:47,110
dude or actually<font color="#E5E5E5"> you gonna learn</font>

562
00:24:44,510 --> 00:24:50,840
<font color="#E5E5E5">something the next</font><font color="#CCCCCC"> slide</font>

563
00:24:47,110 --> 00:24:53,629
so the<font color="#E5E5E5"> Knuth shuffle also called the</font>

564
00:24:50,840 --> 00:24:55,429
Fischer Yates shuffle<font color="#CCCCCC"> is the only way to</font>

565
00:24:53,630 --> 00:24:57,470
do it<font color="#CCCCCC"> this</font><font color="#E5E5E5"> really</font><font color="#CCCCCC"> is kind of your best</font>

566
00:24:55,430 --> 00:24:59,690
<font color="#E5E5E5">way</font><font color="#CCCCCC"> to do it because</font><font color="#E5E5E5"> for one thing it's</font>

567
00:24:57,470 --> 00:25:02,060
order n<font color="#E5E5E5"> right you pass you touch every</font>

568
00:24:59,690 --> 00:25:06,280
card exactly<font color="#E5E5E5"> once go through it and it's</font>

569
00:25:02,060 --> 00:25:11,060
mathematically proven to be optimal

570
00:25:06,280 --> 00:25:14,300
start with card<font color="#E5E5E5"> 51 and pick one pick a</font>

571
00:25:11,060 --> 00:25:18,740
random<font color="#CCCCCC"> number between 0 and</font><font color="#E5E5E5"> 51 and swap</font>

572
00:25:14,300 --> 00:25:22,669
it swap<font color="#E5E5E5"> card 51 with the</font><font color="#CCCCCC"> random</font><font color="#E5E5E5"> number</font>

573
00:25:18,740 --> 00:25:25,280
you picked now<font color="#E5E5E5"> for card 50 pick another</font>

574
00:25:22,670 --> 00:25:29,660
<font color="#E5E5E5">one</font><font color="#CCCCCC"> like a different random number swap</font>

575
00:25:25,280 --> 00:25:32,750
it<font color="#E5E5E5"> and so on</font><font color="#CCCCCC"> lather rinse repeat very</font>

576
00:25:29,660 --> 00:25:36,050
<font color="#E5E5E5">simple algorithm go to go to</font>

577
00:25:32,750 --> 00:25:37,340
pedia<font color="#E5E5E5"> pulled that guy down at one point</font>

578
00:25:36,050 --> 00:25:39,290
and it's almost worth going through<font color="#CCCCCC"> the</font>

579
00:25:37,340 --> 00:25:40,820
<font color="#CCCCCC">Wikipedia</font><font color="#E5E5E5"> archives because they pulled</font>

580
00:25:39,290 --> 00:25:43,850
all this stuff down<font color="#E5E5E5"> but at one point</font>

581
00:25:40,820 --> 00:25:45,830
<font color="#E5E5E5">they had at least</font><font color="#CCCCCC"> 10 different</font><font color="#E5E5E5"> languages</font>

582
00:25:43,850 --> 00:25:48,350
<font color="#CCCCCC">you know on the fishery eights shuffle</font>

583
00:25:45,830 --> 00:25:50,210
the<font color="#E5E5E5"> Knuth shuffle like</font><font color="#CCCCCC"> 10</font><font color="#E5E5E5"> different</font>

584
00:25:48,350 --> 00:25:53,419
<font color="#E5E5E5">languages of like how to do it and it</font>

585
00:25:50,210 --> 00:25:56,660
wasn't like C<font color="#CCCCCC"> and C sharp</font><font color="#E5E5E5"> and Java and</font>

586
00:25:53,420 --> 00:26:00,430
<font color="#CCCCCC">and so</font><font color="#E5E5E5"> on it was</font><font color="#CCCCCC"> like Haskell and you</font>

587
00:25:56,660 --> 00:26:00,430
know COBOL and<font color="#E5E5E5"> I'm like really</font>

588
00:26:03,730 --> 00:26:09,800
interesting mistakes that people<font color="#CCCCCC"> do</font>

589
00:26:06,700 --> 00:26:13,130
using the wrong range<font color="#E5E5E5"> right if you don't</font>

590
00:26:09,800 --> 00:26:15,440
get the range right for card 51 51 is a

591
00:26:13,130 --> 00:26:18,830
possibility it can swap with itself<font color="#E5E5E5"> it</font>

592
00:26:15,440 --> 00:26:20,420
is<font color="#CCCCCC"> okay</font><font color="#E5E5E5"> for</font><font color="#CCCCCC"> the card to not move</font><font color="#E5E5E5"> so if</font>

593
00:26:18,830 --> 00:26:22,070
you do it wrong if you<font color="#CCCCCC"> say oh that would</font>

594
00:26:20,420 --> 00:26:23,810
be<font color="#E5E5E5"> weird now the card can't stay in</font>

595
00:26:22,070 --> 00:26:25,370
place that wouldn't<font color="#E5E5E5"> be a shuffle you</font>

596
00:26:23,810 --> 00:26:28,639
actually introduce bias by shuffling

597
00:26:25,370 --> 00:26:31,340
that way<font color="#E5E5E5"> or some people say</font><font color="#CCCCCC"> ah</font><font color="#E5E5E5"> will do</font>

598
00:26:28,640 --> 00:26:33,110
it better<font color="#CCCCCC"> better</font><font color="#E5E5E5"> than</font><font color="#CCCCCC"> then you know</font>

599
00:26:31,340 --> 00:26:35,240
decreasing the range of possible cards

600
00:26:33,110 --> 00:26:37,600
to shuffle<font color="#E5E5E5"> with will always use the full</font>

601
00:26:35,240 --> 00:26:40,640
range<font color="#E5E5E5"> so every card could always swap</font>

602
00:26:37,600 --> 00:26:42,919
again mathematically<font color="#CCCCCC"> that</font><font color="#E5E5E5"> is wrong and</font>

603
00:26:40,640 --> 00:26:44,540
<font color="#CCCCCC">so if you if you look up the</font>

604
00:26:42,920 --> 00:26:50,570
<font color="#CCCCCC">mathematical proof it only works the way</font>

605
00:26:44,540 --> 00:26:51,830
I showed you and and of<font color="#E5E5E5"> course I get old</font>

606
00:26:50,570 --> 00:26:53,060
friends modulus arithmetic<font color="#CCCCCC"> in</font>

607
00:26:51,830 --> 00:26:57,590
<font color="#E5E5E5">floating-point right if you do any of</font>

608
00:26:53,060 --> 00:26:59,210
<font color="#CCCCCC">that</font><font color="#E5E5E5"> you're dead now there is</font><font color="#CCCCCC"> another</font>

609
00:26:57,590 --> 00:27:01,580
reasonable<font color="#E5E5E5"> way to do it</font><font color="#CCCCCC"> I've seen this</font>

610
00:26:59,210 --> 00:27:05,080
on<font color="#CCCCCC"> a major poker site interestingly they</font>

611
00:27:01,580 --> 00:27:07,040
went out of<font color="#CCCCCC"> business</font><font color="#E5E5E5"> recently but yeah</font>

612
00:27:05,080 --> 00:27:08,480
it was<font color="#CCCCCC"> good they were a bunch</font><font color="#E5E5E5"> of crooks</font>

613
00:27:07,040 --> 00:27:12,260
<font color="#E5E5E5">not because they had a bad shuffling</font>

614
00:27:08,480 --> 00:27:14,060
algorithm and and you know frankly<font color="#CCCCCC"> the</font>

615
00:27:12,260 --> 00:27:15,920
difference<font color="#CCCCCC"> between a legitimate online</font>

616
00:27:14,060 --> 00:27:22,429
<font color="#E5E5E5">poker site and and a whole</font><font color="#CCCCCC"> bunch of</font>

617
00:27:15,920 --> 00:27:25,400
crooks<font color="#CCCCCC"> is it's hard to</font><font color="#E5E5E5"> tell so one way</font>

618
00:27:22,430 --> 00:27:27,500
<font color="#E5E5E5">to do this right is is you assign random</font>

619
00:27:25,400 --> 00:27:29,570
numbers to<font color="#E5E5E5"> every card and so you have</font>

620
00:27:27,500 --> 00:27:33,110
you<font color="#CCCCCC"> know number and then the card value</font>

621
00:27:29,570 --> 00:27:36,290
<font color="#E5E5E5">it represents and you run a sort</font><font color="#CCCCCC"> and so</font>

622
00:27:33,110 --> 00:27:37,580
obviously<font color="#E5E5E5"> sort is order n log n so it's</font>

623
00:27:36,290 --> 00:27:38,980
not as<font color="#CCCCCC"> good as n</font><font color="#E5E5E5"> but it's actually</font>

624
00:27:37,580 --> 00:27:42,879
<font color="#E5E5E5">pretty good</font>

625
00:27:38,980 --> 00:27:42,880
<font color="#CCCCCC">that's a reasonable way to do it</font>

626
00:27:44,240 --> 00:27:52,240
<font color="#E5E5E5">all right so actually</font><font color="#CCCCCC"> you know</font><font color="#E5E5E5"> running</font>

627
00:27:47,420 --> 00:27:54,770
<font color="#CCCCCC">towards the end here doing it right</font>

628
00:27:52,240 --> 00:27:56,090
<font color="#E5E5E5">don't overthink it right think</font>

629
00:27:54,770 --> 00:27:59,840
<font color="#CCCCCC">chain-of-custody</font>

630
00:27:56,090 --> 00:28:01,580
<font color="#CCCCCC">you've got this data this</font><font color="#E5E5E5"> precious</font>

631
00:27:59,840 --> 00:28:04,040
<font color="#E5E5E5">little thing you had to work so hard</font><font color="#CCCCCC"> and</font>

632
00:28:01,580 --> 00:28:05,419
<font color="#E5E5E5">a fire photons in a mirror</font><font color="#CCCCCC"> you had to</font>

633
00:28:04,040 --> 00:28:07,428
capture<font color="#E5E5E5"> them and you had to rely</font><font color="#CCCCCC"> on</font>

634
00:28:05,420 --> 00:28:10,280
quantum<font color="#CCCCCC"> physics</font><font color="#E5E5E5"> you didn't just get this</font>

635
00:28:07,429 --> 00:28:12,050
by rolling a die<font color="#E5E5E5"> so so don't screw</font><font color="#CCCCCC"> with</font>

636
00:28:10,280 --> 00:28:13,639
it<font color="#CCCCCC"> take it out of</font><font color="#E5E5E5"> the random number</font>

637
00:28:12,050 --> 00:28:17,260
generator put it in<font color="#E5E5E5"> your algorithm</font><font color="#CCCCCC"> use</font>

638
00:28:13,640 --> 00:28:17,260
<font color="#CCCCCC">it how you need it throw it away</font>

639
00:28:17,410 --> 00:28:23,450
get good entropy I always recommend the

640
00:28:20,090 --> 00:28:24,620
hardware guys and<font color="#E5E5E5"> if you're gonna use</font>

641
00:28:23,450 --> 00:28:25,880
some<font color="#CCCCCC"> software for</font><font color="#E5E5E5"> going to use money</font>

642
00:28:24,620 --> 00:28:27,139
<font color="#E5E5E5">that's kind of hybrid approaches where</font>

643
00:28:25,880 --> 00:28:29,480
you do a little bit<font color="#E5E5E5"> of hardware</font><font color="#CCCCCC"> to like</font>

644
00:28:27,140 --> 00:28:33,200
seed<font color="#E5E5E5"> do a little software so that</font><font color="#CCCCCC"> you</font>

645
00:28:29,480 --> 00:28:36,910
can you to continue using it well you've

646
00:28:33,200 --> 00:28:40,309
got a seed and reseed often<font color="#E5E5E5"> and from an</font>

647
00:28:36,910 --> 00:28:41,990
independent<font color="#CCCCCC"> source right your seed</font>

648
00:28:40,309 --> 00:28:45,580
source has to be something independent

649
00:28:41,990 --> 00:28:45,580
<font color="#E5E5E5">of your random</font><font color="#CCCCCC"> number generator source</font>

650
00:28:54,440 --> 00:28:59,070
right<font color="#E5E5E5"> and if you're gonna spot it in</font>

651
00:28:57,809 --> 00:29:02,639
code because like this<font color="#E5E5E5"> is one</font><font color="#CCCCCC"> of the</font>

652
00:28:59,070 --> 00:29:04,289
things I do all the time<font color="#CCCCCC"> I am one of the</font>

653
00:29:02,639 --> 00:29:06,059
first I remember<font color="#E5E5E5"> what the</font><font color="#CCCCCC"> first</font><font color="#E5E5E5"> random</font>

654
00:29:04,289 --> 00:29:07,379
number generator things we did<font color="#E5E5E5"> and we're</font>

655
00:29:06,059 --> 00:29:09,090
looking<font color="#E5E5E5"> through this this</font><font color="#CCCCCC"> company is</font>

656
00:29:07,379 --> 00:29:11,039
like random number generator<font color="#CCCCCC"> and</font><font color="#E5E5E5"> then</font>

657
00:29:09,090 --> 00:29:12,899
they're shuffled code and in some sense

658
00:29:11,039 --> 00:29:15,960
<font color="#E5E5E5">I wrote this whole talk off</font><font color="#CCCCCC"> the back of</font>

659
00:29:12,899 --> 00:29:19,110
reviewing their online<font color="#E5E5E5"> poker app because</font>

660
00:29:15,960 --> 00:29:21,870
I between them and like<font color="#E5E5E5"> Wikipedia's</font>

661
00:29:19,110 --> 00:29:23,879
warnings on don't do<font color="#E5E5E5"> this</font><font color="#CCCCCC"> I had the full</font>

662
00:29:21,870 --> 00:29:25,289
<font color="#E5E5E5">spectrum like I can go to Wikipedia I</font>

663
00:29:23,879 --> 00:29:27,149
can look at their<font color="#E5E5E5"> code</font><font color="#CCCCCC"> and Wikipedia</font><font color="#E5E5E5"> is</font>

664
00:29:25,289 --> 00:29:30,179
like and don't use<font color="#E5E5E5"> floating point</font>

665
00:29:27,149 --> 00:29:32,039
arithmetic floating point<font color="#E5E5E5"> okay</font><font color="#CCCCCC"> don't you</font>

666
00:29:30,179 --> 00:29:34,440
<font color="#CCCCCC">know it was like handle errors very well</font>

667
00:29:32,039 --> 00:29:36,629
<font color="#E5E5E5">no exception hit like it was it was just</font>

668
00:29:34,440 --> 00:29:38,399
<font color="#CCCCCC">it was</font><font color="#E5E5E5"> almost like somebody with you</font>

669
00:29:36,629 --> 00:29:40,428
ever<font color="#E5E5E5"> worried I'm a consultant right and</font>

670
00:29:38,399 --> 00:29:42,959
every once in a while<font color="#CCCCCC"> I get on these</font>

671
00:29:40,429 --> 00:29:45,450
Easter egg hunts<font color="#CCCCCC"> right</font><font color="#E5E5E5"> you get that</font>

672
00:29:42,960 --> 00:29:47,750
client<font color="#E5E5E5"> who's like we need to know how</font>

673
00:29:45,450 --> 00:29:49,860
good<font color="#E5E5E5"> you really are</font><font color="#CCCCCC"> there are 12</font>

674
00:29:47,750 --> 00:29:53,100
vulnerabilities in this app can you<font color="#E5E5E5"> find</font>

675
00:29:49,860 --> 00:29:53,908
<font color="#E5E5E5">them I'll do my best</font><font color="#CCCCCC"> you know</font><font color="#E5E5E5"> it</font>

676
00:29:53,100 --> 00:29:55,350
wouldn't<font color="#E5E5E5"> be better if</font><font color="#CCCCCC"> we were just</font>

677
00:29:53,909 --> 00:29:58,289
<font color="#E5E5E5">trying to make the software secure and</font>

678
00:29:55,350 --> 00:29:59,699
so<font color="#E5E5E5"> I worried though that that that's</font>

679
00:29:58,289 --> 00:30:01,230
what<font color="#CCCCCC"> these guys were doing</font><font color="#E5E5E5"> to me that</font>

680
00:29:59,700 --> 00:30:03,149
they they sat down<font color="#E5E5E5"> a programmer there's</font>

681
00:30:01,230 --> 00:30:04,679
a good Wikipedia<font color="#E5E5E5"> and do all the things</font>

682
00:30:03,149 --> 00:30:06,360
that<font color="#E5E5E5"> it</font><font color="#CCCCCC"> says are wrong and we're</font><font color="#E5E5E5"> gonna</font>

683
00:30:04,679 --> 00:30:08,279
call<font color="#E5E5E5"> signal every to see if they can</font>

684
00:30:06,360 --> 00:30:13,049
<font color="#CCCCCC">find them cuz by golly</font><font color="#E5E5E5"> everything was in</font>

685
00:30:08,279 --> 00:30:15,330
there so if you're gonna try<font color="#CCCCCC"> and spot it</font>

686
00:30:13,049 --> 00:30:17,940
in your own code right<font color="#E5E5E5"> look for</font><font color="#CCCCCC"> the bad</font>

687
00:30:15,330 --> 00:30:19,320
<font color="#CCCCCC">bath I mean</font><font color="#E5E5E5"> grip</font><font color="#CCCCCC"> four percent</font><font color="#E5E5E5"> you know</font>

688
00:30:17,940 --> 00:30:22,220
if modulo is in there somewhere

689
00:30:19,320 --> 00:30:26,399
you know<font color="#CCCCCC"> grep</font><font color="#E5E5E5"> for X or if X was in</font><font color="#CCCCCC"> there</font>

690
00:30:22,220 --> 00:30:28,919
you know look at the seed how big is it

691
00:30:26,399 --> 00:30:30,149
<font color="#E5E5E5">is it big enough because you</font><font color="#CCCCCC"> know we're</font>

692
00:30:28,919 --> 00:30:34,470
always<font color="#E5E5E5"> thinking about collision domain</font>

693
00:30:30,149 --> 00:30:35,639
<font color="#E5E5E5">so if a four billion element collision</font>

694
00:30:34,470 --> 00:30:38,490
domain is good enough if you're not

695
00:30:35,639 --> 00:30:39,658
going<font color="#E5E5E5"> to have</font><font color="#CCCCCC"> that many users logged in</font>

696
00:30:38,490 --> 00:30:41,759
at the same<font color="#E5E5E5"> time</font><font color="#CCCCCC"> and this is your</font>

697
00:30:39,659 --> 00:30:44,129
<font color="#CCCCCC">session ID and</font><font color="#E5E5E5"> you know one in four</font>

698
00:30:41,759 --> 00:30:46,799
billion is good odds<font color="#E5E5E5"> then then that's</font>

699
00:30:44,129 --> 00:30:49,199
good enough<font color="#CCCCCC"> but your seed determines how</font>

700
00:30:46,799 --> 00:30:50,429
you the seed determines how<font color="#CCCCCC"> many</font>

701
00:30:49,200 --> 00:30:55,500
different<font color="#E5E5E5"> streams</font><font color="#CCCCCC"> around a</font><font color="#E5E5E5"> number if you</font>

702
00:30:50,429 --> 00:30:56,759
will get<font color="#E5E5E5"> out check the RNG is it</font>

703
00:30:55,500 --> 00:30:58,320
something<font color="#E5E5E5"> that's known is it something</font>

704
00:30:56,759 --> 00:31:00,559
that's tested<font color="#CCCCCC"> does it</font><font color="#E5E5E5"> have any kind of a</font>

705
00:30:58,320 --> 00:31:02,850
seal or<font color="#E5E5E5"> certification or accreditation</font>

706
00:31:00,559 --> 00:31:05,790
<font color="#E5E5E5">everybody who makes something plausible</font>

707
00:31:02,850 --> 00:31:07,169
incredible<font color="#E5E5E5"> they have some kind of</font>

708
00:31:05,790 --> 00:31:10,740
proof or some kind of certification

709
00:31:07,170 --> 00:31:12,030
behind it obviously you know shuffler

710
00:31:10,740 --> 00:31:13,800
<font color="#CCCCCC">simulator whatever it</font><font color="#E5E5E5"> is you're going</font><font color="#CCCCCC"> to</font>

711
00:31:12,030 --> 00:31:20,670
do<font color="#E5E5E5"> you gotta look out</font><font color="#CCCCCC"> for it for the</font>

712
00:31:13,800 --> 00:31:24,930
<font color="#E5E5E5">off-by-one errors</font><font color="#CCCCCC"> there's one more thing</font>

713
00:31:20,670 --> 00:31:26,880
and<font color="#E5E5E5"> going back to just the another</font>

714
00:31:24,930 --> 00:31:32,460
principle of doing it<font color="#CCCCCC"> right</font>

715
00:31:26,880 --> 00:31:37,920
you know<font color="#E5E5E5"> don't add anything to it I've</font>

716
00:31:32,460 --> 00:31:39,510
often seen people take the random number

717
00:31:37,920 --> 00:31:41,700
<font color="#E5E5E5">you know that comes out of the hardware</font>

718
00:31:39,510 --> 00:31:45,090
generator and then<font color="#E5E5E5"> they take something</font>

719
00:31:41,700 --> 00:31:46,800
<font color="#E5E5E5">from like another source</font><font color="#CCCCCC"> you know maybe</font>

720
00:31:45,090 --> 00:31:49,500
it's Java<font color="#E5E5E5"> secure</font><font color="#CCCCCC"> an or</font><font color="#E5E5E5"> whatever you know</font>

721
00:31:46,800 --> 00:31:53,940
and and they<font color="#E5E5E5"> XOR them you know that that</font>

722
00:31:49,500 --> 00:31:57,330
that makes it<font color="#E5E5E5"> you know better here's a</font>

723
00:31:53,940 --> 00:31:59,970
question<font color="#E5E5E5"> for you if I take</font><font color="#CCCCCC"> a random</font>

724
00:31:57,330 --> 00:32:01,679
<font color="#E5E5E5">number out of a harder random number</font>

725
00:31:59,970 --> 00:32:04,500
generator that<font color="#E5E5E5"> we believe is good so</font>

726
00:32:01,680 --> 00:32:07,920
it's we believe it's a<font color="#CCCCCC"> good number and I</font>

727
00:32:04,500 --> 00:32:08,790
XOR it with the number five<font color="#E5E5E5"> every time</font>

728
00:32:07,920 --> 00:32:14,730
<font color="#CCCCCC">before I use it</font>

729
00:32:08,790 --> 00:32:17,600
<font color="#CCCCCC">is that better</font><font color="#E5E5E5"> worse or indifferent we</font>

730
00:32:14,730 --> 00:32:21,210
got to show a<font color="#E5E5E5"> thumbs better worse or</font>

731
00:32:17,600 --> 00:32:24,179
indifferent<font color="#E5E5E5"> all right I got some I got</font>

732
00:32:21,210 --> 00:32:27,000
some some thumbs I got some downs I got

733
00:32:24,180 --> 00:32:28,980
some offs<font color="#CCCCCC"> yes sideways everybody with</font>

734
00:32:27,000 --> 00:32:31,530
your<font color="#E5E5E5"> thumb sideways you're right</font><font color="#CCCCCC"> it just</font>

735
00:32:28,980 --> 00:32:33,360
doesn't<font color="#CCCCCC"> matter if you're X</font><font color="#E5E5E5"> whoring it</font>

736
00:32:31,530 --> 00:32:35,010
doesn't matter<font color="#E5E5E5"> you know they it was a</font>

737
00:32:33,360 --> 00:32:36,990
perfectly random bit when it was a<font color="#E5E5E5"> one</font>

738
00:32:35,010 --> 00:32:37,580
it's perfectly round a bit when it's a

739
00:32:36,990 --> 00:32:39,240
zero

740
00:32:37,580 --> 00:32:41,070
now<font color="#CCCCCC"> obviously</font><font color="#E5E5E5"> though I was doing</font>

741
00:32:39,240 --> 00:32:42,840
<font color="#CCCCCC">something else I'm doing and if I'm</font>

742
00:32:41,070 --> 00:32:44,639
doing<font color="#E5E5E5"> shift or if I'm doing something</font>

743
00:32:42,840 --> 00:32:46,530
<font color="#CCCCCC">that's</font><font color="#E5E5E5"> gonna actually remove random bits</font>

744
00:32:44,640 --> 00:32:49,680
that's<font color="#E5E5E5"> different but</font><font color="#CCCCCC"> here's</font><font color="#E5E5E5"> gonna flip a</font>

745
00:32:46,530 --> 00:32:51,420
few bits it's the same which also means

746
00:32:49,680 --> 00:32:52,920
<font color="#CCCCCC">that even</font><font color="#E5E5E5"> if I have two</font><font color="#CCCCCC"> independent</font>

747
00:32:51,420 --> 00:32:54,810
sources<font color="#E5E5E5"> of</font><font color="#CCCCCC"> randomness I'm like exhorting</font>

748
00:32:52,920 --> 00:32:57,930
them together it was random just start

749
00:32:54,810 --> 00:33:00,000
with so if it's random<font color="#CCCCCC"> and you stick</font>

750
00:32:57,930 --> 00:33:08,670
some random in there it's still random

751
00:33:00,000 --> 00:33:10,290
is random plus random is random right so

752
00:33:08,670 --> 00:33:13,800
with that<font color="#E5E5E5"> I mean that's that's</font><font color="#CCCCCC"> secure</font>

753
00:33:10,290 --> 00:33:17,730
random<font color="#E5E5E5"> numbers in a nutshell</font><font color="#CCCCCC"> I am happy</font>

754
00:33:13,800 --> 00:33:19,430
<font color="#E5E5E5">to talk about any of this stuff you</font><font color="#CCCCCC"> know</font>

755
00:33:17,730 --> 00:33:22,340
random number

756
00:33:19,430 --> 00:33:24,290
how to play poker<font color="#CCCCCC"> online how</font><font color="#E5E5E5"> to cheat</font>

757
00:33:22,340 --> 00:33:26,480
the lottery<font color="#E5E5E5"> you</font><font color="#CCCCCC"> know</font><font color="#E5E5E5"> whatever</font>

758
00:33:24,290 --> 00:33:30,320
I<font color="#CCCCCC"> hear actually</font><font color="#E5E5E5"> this is my</font><font color="#CCCCCC"> won lottery</font>

759
00:33:26,480 --> 00:33:36,560
tip<font color="#E5E5E5"> I hear that buying a ticket slightly</font>

760
00:33:30,320 --> 00:33:47,330
increases your chance of winning<font color="#E5E5E5"> all</font>

761
00:33:36,560 --> 00:33:49,730
<font color="#E5E5E5">right questions would you say a</font><font color="#CCCCCC"> good</font>

762
00:33:47,330 --> 00:33:51,260
fallback<font color="#E5E5E5"> mechanism for a random</font><font color="#CCCCCC"> number</font>

763
00:33:49,730 --> 00:33:53,480
<font color="#CCCCCC">generator that fails in the starts just</font>

764
00:33:51,260 --> 00:33:56,510
producing huge strings of ones would<font color="#CCCCCC"> be</font>

765
00:33:53,480 --> 00:33:58,400
<font color="#E5E5E5">X or</font><font color="#CCCCCC"> ring with another RNG</font><font color="#E5E5E5"> so for</font>

766
00:33:56,510 --> 00:33:59,870
<font color="#E5E5E5">example you know if you've got random</font>

767
00:33:58,400 --> 00:34:01,220
and you're<font color="#E5E5E5"> writing random you get random</font>

768
00:33:59,870 --> 00:34:03,080
<font color="#E5E5E5">if you got random you're adding non</font>

769
00:34:01,220 --> 00:34:04,880
<font color="#E5E5E5">random you've still got random is that</font>

770
00:34:03,080 --> 00:34:09,380
<font color="#E5E5E5">sort</font><font color="#CCCCCC"> of legitimate</font><font color="#E5E5E5"> or am</font><font color="#CCCCCC"> I kind of</font>

771
00:34:04,880 --> 00:34:10,970
screwing<font color="#E5E5E5"> up the math there mmm no I</font>

772
00:34:09,380 --> 00:34:20,420
<font color="#E5E5E5">think if you</font><font color="#CCCCCC"> if you're exhorting with a</font>

773
00:34:10,969 --> 00:34:21,889
biased source I'm thinking sort of

774
00:34:20,420 --> 00:34:25,310
you've<font color="#CCCCCC"> got one</font><font color="#E5E5E5"> Hardware one software</font>

775
00:34:21,889 --> 00:34:26,389
source if the<font color="#CCCCCC"> hardware</font><font color="#E5E5E5"> sauce breaks then</font>

776
00:34:25,310 --> 00:34:27,469
you've still<font color="#CCCCCC"> got the</font><font color="#E5E5E5"> software source if</font>

777
00:34:26,389 --> 00:34:29,029
the software sauce<font color="#E5E5E5"> brakes used to the</font>

778
00:34:27,469 --> 00:34:30,669
hardware source and then<font color="#E5E5E5"> you don't need</font>

779
00:34:29,030 --> 00:34:33,680
<font color="#CCCCCC">to you don't</font><font color="#E5E5E5"> need to do expensive</font>

780
00:34:30,670 --> 00:34:35,090
<font color="#E5E5E5">branches on for</font><font color="#CCCCCC"> example</font><font color="#E5E5E5"> with like an</font>

781
00:34:33,679 --> 00:34:42,230
<font color="#E5E5E5">FPGA that can't really do</font>

782
00:34:35,090 --> 00:34:44,390
branching right yeah well I mean I<font color="#E5E5E5"> guess</font>

783
00:34:42,230 --> 00:34:46,040
I'm hoping<font color="#E5E5E5"> for detecting a</font><font color="#CCCCCC"> failure like</font>

784
00:34:44,389 --> 00:34:47,389
like either<font color="#E5E5E5"> the hardware is gonna work</font>

785
00:34:46,040 --> 00:34:47,989
or it's<font color="#E5E5E5"> not gonna work that's what I'm</font>

786
00:34:47,389 --> 00:34:50,480
<font color="#E5E5E5">hoping for</font>

787
00:34:47,989 --> 00:34:52,069
in which case you know you would<font color="#E5E5E5"> if the</font>

788
00:34:50,480 --> 00:34:54,590
hardware fails completely you would

789
00:34:52,070 --> 00:34:57,110
switch<font color="#CCCCCC"> to the software right so you</font>

790
00:34:54,590 --> 00:34:59,390
basically<font color="#E5E5E5"> have in in software you say I</font>

791
00:34:57,110 --> 00:35:01,640
need a random<font color="#CCCCCC"> number from</font><font color="#E5E5E5"> hardware did</font>

792
00:34:59,390 --> 00:35:03,470
<font color="#E5E5E5">that fail oh crap</font><font color="#CCCCCC"> I</font><font color="#E5E5E5"> need it from</font>

793
00:35:01,640 --> 00:35:04,910
<font color="#E5E5E5">software you know and let's let's</font>

794
00:35:03,470 --> 00:35:07,549
trigger an alert<font color="#E5E5E5"> red light goes off in</font>

795
00:35:04,910 --> 00:35:09,770
operations and and and we do it from

796
00:35:07,550 --> 00:35:12,380
software<font color="#CCCCCC"> I don't know that I would</font>

797
00:35:09,770 --> 00:35:15,700
advocate you know combining the two as<font color="#CCCCCC"> a</font>

798
00:35:12,380 --> 00:35:15,700
like constant thing

799
00:35:22,440 --> 00:35:26,580
<font color="#E5E5E5">PACA what do you think of the major</font>

800
00:35:24,180 --> 00:35:28,200
malfunctions a smoke detector hack

801
00:35:26,580 --> 00:35:30,830
<font color="#CCCCCC">because I've had a word</font><font color="#E5E5E5"> with</font><font color="#CCCCCC"> him</font><font color="#E5E5E5"> about</font>

802
00:35:28,200 --> 00:35:33,330
<font color="#CCCCCC">that we we scratched our heads a lot and</font>

803
00:35:30,830 --> 00:35:36,810
yeah yeah I have<font color="#E5E5E5"> one he gave me one it</font>

804
00:35:33,330 --> 00:35:38,400
was really really<font color="#E5E5E5"> nice</font><font color="#CCCCCC"> the the really</font>

805
00:35:36,810 --> 00:35:39,630
<font color="#E5E5E5">interesting question with the smoke</font>

806
00:35:38,400 --> 00:35:40,950
detector random and let me let<font color="#E5E5E5"> me</font>

807
00:35:39,630 --> 00:35:42,020
explain<font color="#CCCCCC"> what that</font><font color="#E5E5E5"> is</font><font color="#CCCCCC"> because</font><font color="#E5E5E5"> it's pretty</font>

808
00:35:40,950 --> 00:35:46,080
cool

809
00:35:42,020 --> 00:35:49,020
many smoke detectors<font color="#E5E5E5"> have some piece of</font>

810
00:35:46,080 --> 00:35:50,520
radioactive material in them something

811
00:35:49,020 --> 00:35:53,550
that's emitting alpha<font color="#E5E5E5"> particles right so</font>

812
00:35:50,520 --> 00:35:55,590
a piece of paper<font color="#CCCCCC"> will block it one of</font>

813
00:35:53,550 --> 00:35:59,010
the great sources<font color="#CCCCCC"> of unpredictability in</font>

814
00:35:55,590 --> 00:36:01,470
the<font color="#E5E5E5"> world is radioactive decay so how</font>

815
00:35:59,010 --> 00:36:04,170
often<font color="#E5E5E5"> and kind</font><font color="#CCCCCC"> of what vector these</font>

816
00:36:01,470 --> 00:36:07,319
alpha<font color="#E5E5E5"> particles pop out is unpredictable</font>

817
00:36:04,170 --> 00:36:10,200
<font color="#E5E5E5">so what major malfunction did was he</font>

818
00:36:07,320 --> 00:36:11,970
took<font color="#E5E5E5"> the little piece of americium</font><font color="#CCCCCC"> 231</font>

819
00:36:10,200 --> 00:36:14,669
or whatever it is out of<font color="#E5E5E5"> a just</font>

820
00:36:11,970 --> 00:36:18,540
garden-variety<font color="#E5E5E5"> smoke detector he got it</font>

821
00:36:14,670 --> 00:36:21,390
to be in<font color="#CCCCCC"> q</font><font color="#E5E5E5"> and he he took a cheapest</font>

822
00:36:18,540 --> 00:36:23,610
webcam he could find and he<font color="#CCCCCC"> took the</font>

823
00:36:21,390 --> 00:36:26,460
lens<font color="#E5E5E5"> out and put the radioactive</font>

824
00:36:23,610 --> 00:36:28,470
material pointed at the<font color="#CCCCCC"> CCD right so now</font>

825
00:36:26,460 --> 00:36:30,720
we just<font color="#E5E5E5"> have alpha particles firing at</font>

826
00:36:28,470 --> 00:36:32,189
the CCD that's normally picking up your

827
00:36:30,720 --> 00:36:34,350
face and<font color="#E5E5E5"> they're big enough that they</font>

828
00:36:32,190 --> 00:36:38,010
make little<font color="#E5E5E5"> white dots on the on the CCD</font>

829
00:36:34,350 --> 00:36:41,190
it's cool idea so<font color="#E5E5E5"> now we have this you</font>

830
00:36:38,010 --> 00:36:42,990
know XY grid<font color="#E5E5E5"> 640 by 480 with random</font>

831
00:36:41,190 --> 00:36:43,890
white dots and we can get like 30 frames

832
00:36:42,990 --> 00:36:46,229
a second out<font color="#E5E5E5"> of there</font>

833
00:36:43,890 --> 00:36:49,529
and<font color="#E5E5E5"> you say okay neat idea we don't know</font>

834
00:36:46,230 --> 00:36:54,390
where these white<font color="#E5E5E5"> dots are gonna go the</font>

835
00:36:49,530 --> 00:36:57,480
problem<font color="#CCCCCC"> is my concern with</font><font color="#E5E5E5"> it was it was</font>

836
00:36:54,390 --> 00:37:00,660
<font color="#CCCCCC">twofold one</font><font color="#E5E5E5"> they are random in time not</font>

837
00:36:57,480 --> 00:37:02,700
location<font color="#E5E5E5"> so if we're not measuring like</font>

838
00:37:00,660 --> 00:37:05,609
the difference in time between alpha

839
00:37:02,700 --> 00:37:07,490
particle emissions we're not necessarily

840
00:37:05,610 --> 00:37:11,340
measuring the attribute of the

841
00:37:07,490 --> 00:37:12,899
radioactive material that<font color="#E5E5E5"> is</font><font color="#CCCCCC"> random</font><font color="#E5E5E5"> so</font>

842
00:37:11,340 --> 00:37:14,460
it could have you<font color="#E5E5E5"> can</font><font color="#CCCCCC"> imagine you</font><font color="#E5E5E5"> know</font>

843
00:37:12,900 --> 00:37:18,630
<font color="#E5E5E5">the shape of the physical</font><font color="#CCCCCC"> material might</font>

844
00:37:14,460 --> 00:37:20,970
bang them all<font color="#CCCCCC"> onto one pixel on the CCD</font>

845
00:37:18,630 --> 00:37:22,530
<font color="#CCCCCC">and so it's only</font><font color="#E5E5E5"> the time of arrival</font>

846
00:37:20,970 --> 00:37:25,049
that's random it's not like where they

847
00:37:22,530 --> 00:37:26,160
hit on the<font color="#E5E5E5"> CCD that's a random and what</font>

848
00:37:25,050 --> 00:37:28,410
we ended up<font color="#E5E5E5"> doing he had all these</font>

849
00:37:26,160 --> 00:37:31,649
filter functions trying to clean<font color="#CCCCCC"> up the</font>

850
00:37:28,410 --> 00:37:33,210
<font color="#E5E5E5">data to extract the random bits and I</font>

851
00:37:31,650 --> 00:37:36,090
started running<font color="#CCCCCC"> die hard</font>

852
00:37:33,210 --> 00:37:39,000
and some of the other statistical tests

853
00:37:36,090 --> 00:37:42,000
on<font color="#CCCCCC"> ironically that the latest</font><font color="#E5E5E5"> version</font>

854
00:37:39,000 --> 00:37:43,620
<font color="#E5E5E5">die</font><font color="#CCCCCC"> hard is called die harder I'm</font>

855
00:37:42,000 --> 00:37:45,750
waiting for the new die hard with a

856
00:37:43,620 --> 00:37:48,029
vengeance library<font color="#CCCCCC"> it</font><font color="#E5E5E5"> hasn't been</font>

857
00:37:45,750 --> 00:37:52,320
released yet<font color="#CCCCCC"> and when I</font><font color="#E5E5E5"> ran the</font>

858
00:37:48,030 --> 00:37:55,110
statistics<font color="#E5E5E5"> against his data the more he</font>

859
00:37:52,320 --> 00:37:57,330
messed with it<font color="#E5E5E5"> the less the the worse it</font>

860
00:37:55,110 --> 00:37:59,990
performed at the more filter functions

861
00:37:57,330 --> 00:38:02,549
and things he did to<font color="#E5E5E5"> clean up the data</font>

862
00:37:59,990 --> 00:38:04,649
<font color="#E5E5E5">actually the worship</font><font color="#CCCCCC"> performed in the</font>

863
00:38:02,550 --> 00:38:07,590
statistics and<font color="#E5E5E5"> so the raw data</font><font color="#CCCCCC"> seemed</font><font color="#E5E5E5"> to</font>

864
00:38:04,650 --> 00:38:09,600
<font color="#E5E5E5">have the best entropy but I can't draw a</font>

865
00:38:07,590 --> 00:38:12,450
logical conclusion or a logical

866
00:38:09,600 --> 00:38:15,270
connection<font color="#E5E5E5"> between the</font><font color="#CCCCCC"> XY plane of space</font>

867
00:38:12,450 --> 00:38:17,189
where these<font color="#E5E5E5"> things hit and the arrival</font>

868
00:38:15,270 --> 00:38:21,360
<font color="#CCCCCC">time of the alpha particles which is the</font>

869
00:38:17,190 --> 00:38:23,750
bit<font color="#CCCCCC"> that I believe is random ok good</font>

870
00:38:21,360 --> 00:38:23,750
summary

871
00:38:29,530 --> 00:38:35,349
do you normally worry about<font color="#E5E5E5"> in the</font>

872
00:38:32,680 --> 00:38:36,848
<font color="#E5E5E5">gaming</font><font color="#CCCCCC"> stuff about timing attacks</font>

873
00:38:35,349 --> 00:38:38,080
<font color="#E5E5E5">because I mean looking at the the</font>

874
00:38:36,849 --> 00:38:40,510
algorithms<font color="#E5E5E5"> you're talking about for</font>

875
00:38:38,080 --> 00:38:45,359
<font color="#E5E5E5">choosing a random</font><font color="#CCCCCC"> number</font><font color="#E5E5E5"> the the looping</font>

876
00:38:40,510 --> 00:38:48,599
just<font color="#E5E5E5"> looks like a potential timing</font>

877
00:38:45,359 --> 00:38:53,109
<font color="#CCCCCC">introducing at that timing</font><font color="#E5E5E5"> side channel</font>

878
00:38:48,599 --> 00:38:55,720
<font color="#CCCCCC">if you have</font><font color="#E5E5E5"> a good random number all you</font>

879
00:38:53,109 --> 00:38:59,310
know is<font color="#E5E5E5"> how long it took before they got</font>

880
00:38:55,720 --> 00:39:02,140
one you don't<font color="#E5E5E5"> know what number it was I</font>

881
00:38:59,310 --> 00:39:03,430
mean if we you know<font color="#E5E5E5"> let's say we're</font>

882
00:39:02,140 --> 00:39:04,779
doing<font color="#E5E5E5"> something</font><font color="#CCCCCC"> really stupid we're</font>

883
00:39:03,430 --> 00:39:07,330
looking for a number<font color="#E5E5E5"> between</font><font color="#CCCCCC"> one and six</font>

884
00:39:04,780 --> 00:39:08,950
<font color="#E5E5E5">and we take a 32-bit value</font><font color="#CCCCCC"> it can take a</font>

885
00:39:07,330 --> 00:39:10,270
really<font color="#CCCCCC"> long</font><font color="#E5E5E5"> time before we</font><font color="#CCCCCC"> get the</font>

886
00:39:08,950 --> 00:39:12,609
number one of the numbers<font color="#E5E5E5"> between one</font>

887
00:39:10,270 --> 00:39:14,050
and<font color="#E5E5E5"> six but I don't think that tells you</font>

888
00:39:12,609 --> 00:39:18,369
anything<font color="#CCCCCC"> about which number you finally</font>

889
00:39:14,050 --> 00:39:20,560
got when you<font color="#E5E5E5"> were done no no yes it's a</font>

890
00:39:18,369 --> 00:39:22,030
hardware<font color="#CCCCCC"> source then</font><font color="#E5E5E5"> I'm sure but</font><font color="#CCCCCC"> it</font><font color="#E5E5E5"> was</font>

891
00:39:20,560 --> 00:39:23,890
<font color="#CCCCCC">a hardware</font><font color="#E5E5E5"> store and I mention</font><font color="#CCCCCC"> about a</font>

892
00:39:22,030 --> 00:39:25,270
software because I don't think<font color="#CCCCCC"> you</font><font color="#E5E5E5"> get</font>

893
00:39:23,890 --> 00:39:27,839
any<font color="#E5E5E5"> information about the value that</font>

894
00:39:25,270 --> 00:39:27,840
<font color="#CCCCCC">came out</font>

895
00:39:33,890 --> 00:39:40,990
cool<font color="#CCCCCC"> alright</font><font color="#E5E5E5"> guys thank you very much</font>

