1
00:00:03,460 --> 00:00:08,660
all right how's everybody doing I'm

2
00:00:07,009 --> 00:00:10,790
Anthony I'm going to be talking a little

3
00:00:08,660 --> 00:00:13,910
bit about voice over IP and our

4
00:00:10,790 --> 00:00:16,400
implementation in the 2015 information

5
00:00:13,910 --> 00:00:17,960
security<font color="#E5E5E5"> Talent Search at RIT when I</font>

6
00:00:16,400 --> 00:00:19,668
built this presentation I really wanted

7
00:00:17,960 --> 00:00:20,929
<font color="#E5E5E5">to make it appealing to a wide range</font><font color="#CCCCCC"> of</font>

8
00:00:19,669 --> 00:00:23,509
audiences so I'm going to<font color="#E5E5E5"> do a little</font>

9
00:00:20,929 --> 00:00:25,278
<font color="#E5E5E5">bit of a intro to boy talk about our</font>

10
00:00:23,509 --> 00:00:26,689
competition talk about how we integrated

11
00:00:25,279 --> 00:00:28,339
<font color="#E5E5E5">from deep into the end of the</font>

12
00:00:26,689 --> 00:00:29,720
competition how that turned out for us

13
00:00:28,339 --> 00:00:31,939
and then try<font color="#CCCCCC"> and bring it</font><font color="#E5E5E5"> around back</font>

14
00:00:29,720 --> 00:00:33,500
for all the security professionals<font color="#E5E5E5"> here</font>

15
00:00:31,939 --> 00:00:36,140
about how we can<font color="#E5E5E5"> kind of apply what we</font>

16
00:00:33,500 --> 00:00:38,330
did to to the real world so real quick

17
00:00:36,140 --> 00:00:40,850
about me<font color="#E5E5E5"> i graduated</font><font color="#CCCCCC"> from</font><font color="#E5E5E5"> the Rochester</font>

18
00:00:38,330 --> 00:00:42,980
Institute of Technology in 2014 this

19
00:00:40,850 --> 00:00:44,840
past May I was responsible<font color="#CCCCCC"> for designing</font>

20
00:00:42,980 --> 00:00:48,110
deploying the voice infrastructure that

21
00:00:44,840 --> 00:00:51,040
we had at is TS is here<font color="#CCCCCC"> mahmud asterisk</font>

22
00:00:48,110 --> 00:00:54,019
<font color="#E5E5E5">and boy guy in my free time and in my my</font>

23
00:00:51,040 --> 00:00:55,190
my real job<font color="#CCCCCC"> i'm a network operations</font>

24
00:00:54,020 --> 00:00:57,650
specialist at harris corporation

25
00:00:55,190 --> 00:00:59,420
previous experience at working the

26
00:00:57,650 --> 00:01:01,790
network operations at wegmans anybody

27
00:00:59,420 --> 00:01:04,280
know at wegmans is<font color="#CCCCCC"> all that makes me sad</font>

28
00:01:01,790 --> 00:01:05,780
it's on grocery chain up north that's

29
00:01:04,280 --> 00:01:07,219
the best grocery store in<font color="#E5E5E5"> the</font><font color="#CCCCCC"> world and</font>

30
00:01:05,780 --> 00:01:09,590
<font color="#CCCCCC">I know</font><font color="#E5E5E5"> it sounds ridiculous but there's</font>

31
00:01:07,219 --> 00:01:10,880
two types of people people who know<font color="#CCCCCC"> that</font>

32
00:01:09,590 --> 00:01:13,070
wegmans is the best in people who are

33
00:01:10,880 --> 00:01:14,960
wrong so if you're ever<font color="#E5E5E5"> up north be sure</font>

34
00:01:13,070 --> 00:01:16,818
to stop in and<font color="#CCCCCC"> then I've also worked for</font>

35
00:01:14,960 --> 00:01:20,119
<font color="#CCCCCC">Meraki now and by Cisco their cloud</font>

36
00:01:16,819 --> 00:01:21,710
networking group so let get started here

37
00:01:20,119 --> 00:01:23,420
real quick talk about the competition

38
00:01:21,710 --> 00:01:25,009
<font color="#E5E5E5">for people who don't have</font><font color="#CCCCCC"> any experience</font>

39
00:01:23,420 --> 00:01:26,630
with security competitions at all and

40
00:01:25,009 --> 00:01:28,759
even if you do maybe a little bit<font color="#E5E5E5"> of a</font>

41
00:01:26,630 --> 00:01:30,199
refresher so the information security

42
00:01:28,759 --> 00:01:32,569
<font color="#E5E5E5">Talent Search is an annual competition</font>

43
00:01:30,200 --> 00:01:35,299
we have<font color="#E5E5E5"> every year at RIT this was our</font>

44
00:01:32,569 --> 00:01:36,770
<font color="#E5E5E5">12th competition and there's three teams</font>

45
00:01:35,299 --> 00:01:39,020
pretty much what you'd expect that of a

46
00:01:36,770 --> 00:01:40,548
security competition red red white and

47
00:01:39,020 --> 00:01:42,079
blue I was on the White team<font color="#E5E5E5"> the</font>

48
00:01:40,549 --> 00:01:44,060
infrastructure guys the people who build

49
00:01:42,079 --> 00:01:45,949
and operate the competition this<font color="#CCCCCC"> year on</font>

50
00:01:44,060 --> 00:01:48,079
our red team we had a pretty good lineup

51
00:01:45,950 --> 00:01:50,539
of professional penetration testers we

52
00:01:48,079 --> 00:01:51,610
had security experts from box Mandy and

53
00:01:50,539 --> 00:01:52,960
fire I

54
00:01:51,610 --> 00:01:55,600
<font color="#CCCCCC">Rafael Mudge the guy who created</font>

55
00:01:52,960 --> 00:01:57,639
<font color="#E5E5E5">armitage and cobalt strike is a yearly</font>

56
00:01:55,600 --> 00:01:59,169
member of the security team or of the

57
00:01:57,640 --> 00:02:01,660
red<font color="#E5E5E5"> team and then your blue team's your</font>

58
00:01:59,170 --> 00:02:03,310
competitors your student teams who were

59
00:02:01,660 --> 00:02:05,860
actually<font color="#E5E5E5"> given an IT infrastructure to</font>

60
00:02:03,310 --> 00:02:07,210
depend what makes is TS unique and what

61
00:02:05,860 --> 00:02:08,919
we try<font color="#CCCCCC"> to integrate into our voice</font>

62
00:02:07,210 --> 00:02:10,869
infrastructure is that blue teams are

63
00:02:08,919 --> 00:02:14,920
allowed to<font color="#E5E5E5"> attack each other so anybody</font>

64
00:02:10,869 --> 00:02:16,420
here done CCDC so<font color="#E5E5E5"> with CCDC you're</font>

65
00:02:14,920 --> 00:02:18,339
defending against<font color="#E5E5E5"> the red team but in</font>

66
00:02:16,420 --> 00:02:20,559
but it's a complete free-for-all in is

67
00:02:18,340 --> 00:02:23,620
TS which allows us to do some<font color="#E5E5E5"> really fun</font>

68
00:02:20,560 --> 00:02:26,410
things so if you don't<font color="#E5E5E5"> have any</font>

69
00:02:23,620 --> 00:02:27,730
experience with security<font color="#CCCCCC"> competition</font>

70
00:02:26,410 --> 00:02:29,500
<font color="#E5E5E5">you're basically given an IT</font>

71
00:02:27,730 --> 00:02:33,519
infrastructure that your task to defend

72
00:02:29,500 --> 00:02:35,830
a lot of common services email HTTP<font color="#E5E5E5"> DNS</font>

73
00:02:33,520 --> 00:02:37,120
all that all that stuff and then while

74
00:02:35,830 --> 00:02:38,620
you're defending it you have to keep

75
00:02:37,120 --> 00:02:40,570
your services up to score to score

76
00:02:38,620 --> 00:02:42,459
points that they<font color="#E5E5E5"> continue scouring and</font>

77
00:02:40,570 --> 00:02:45,450
then you're also given injects things

78
00:02:42,459 --> 00:02:47,920
like<font color="#CCCCCC"> implement syslog or webmail or or</font>

79
00:02:45,450 --> 00:02:50,619
implement<font color="#CCCCCC"> HTTPS if you're</font><font color="#E5E5E5"> just given an</font>

80
00:02:47,920 --> 00:02:52,089
HTTP<font color="#CCCCCC"> setup and then those will score</font>

81
00:02:50,620 --> 00:02:54,220
those who earn you points and then on

82
00:02:52,090 --> 00:02:56,350
top of that you have<font color="#E5E5E5"> more offensive</font>

83
00:02:54,220 --> 00:02:57,850
challenges in is TS because<font color="#CCCCCC"> i said blue</font>

84
00:02:56,350 --> 00:03:00,700
team's can attack each other so things

85
00:02:57,850 --> 00:03:02,530
like own another team's box and set up a

86
00:03:00,700 --> 00:03:04,750
minecraft server or own another team's

87
00:03:02,530 --> 00:03:06,510
box and patch it for them or we had some

88
00:03:04,750 --> 00:03:09,670
really good crypto challenges this year

89
00:03:06,510 --> 00:03:10,929
and<font color="#CCCCCC"> things like that so all these things</font>

90
00:03:09,670 --> 00:03:13,208
and<font color="#E5E5E5"> then whoever has the most points at</font>

91
00:03:10,930 --> 00:03:15,430
the end of the end<font color="#E5E5E5"> of the weekend comes</font>

92
00:03:13,209 --> 00:03:18,040
out at<font color="#E5E5E5"> the top so where exactly do we</font>

93
00:03:15,430 --> 00:03:19,480
fit in voice and voice<font color="#E5E5E5"> over IP into that</font>

94
00:03:18,040 --> 00:03:21,850
when we were kind of approaching at this

95
00:03:19,480 --> 00:03:24,730
year well last year we did VoIP is kind

96
00:03:21,850 --> 00:03:26,260
of a<font color="#E5E5E5"> last-minute thing and this year we</font>

97
00:03:24,730 --> 00:03:27,640
kind of decided that we wanted to start

98
00:03:26,260 --> 00:03:28,230
<font color="#E5E5E5">out right and build something</font><font color="#CCCCCC"> that</font>

99
00:03:27,640 --> 00:03:30,929
really

100
00:03:28,230 --> 00:03:32,640
look good and it worked good so we fit

101
00:03:30,930 --> 00:03:35,010
in voice because it really is anybody

102
00:03:32,640 --> 00:03:36,690
here works in enterprise IT one of the

103
00:03:35,010 --> 00:03:38,609
most important services that you're on

104
00:03:36,690 --> 00:03:40,440
IT department is going<font color="#CCCCCC"> to</font><font color="#E5E5E5"> deliver voice</font>

105
00:03:38,610 --> 00:03:42,930
and email it either one goes down people

106
00:03:40,440 --> 00:03:45,269
are screaming and it's also typically

107
00:03:42,930 --> 00:03:47,370
not a very<font color="#E5E5E5"> well understood service in a</font>

108
00:03:45,269 --> 00:03:50,370
<font color="#E5E5E5">medium-sized business it's very common</font>

109
00:03:47,370 --> 00:03:51,599
for a sysadmin to be total well you're

110
00:03:50,370 --> 00:03:53,220
good with the computer system here's

111
00:03:51,599 --> 00:03:56,069
this voice system it's<font color="#E5E5E5"> been running for</font>

112
00:03:53,220 --> 00:03:57,930
<font color="#E5E5E5">30 years go for it and then it breaks</font>

113
00:03:56,069 --> 00:04:00,599
and you see a post on our sysadmin

114
00:03:57,930 --> 00:04:01,799
saying well I've had<font color="#E5E5E5"> this voice system I</font>

115
00:04:00,599 --> 00:04:03,149
have no idea<font color="#E5E5E5"> how it works it's been</font>

116
00:04:01,799 --> 00:04:06,120
running<font color="#CCCCCC"> for 30 years what do</font><font color="#E5E5E5"> I do now</font>

117
00:04:03,150 --> 00:04:09,959
and typically the answer is well you

118
00:04:06,120 --> 00:04:12,000
know cry and then you get<font color="#E5E5E5"> the same</font><font color="#CCCCCC"> thing</font>

119
00:04:09,959 --> 00:04:13,410
with implementing voice over IP it's

120
00:04:12,000 --> 00:04:15,060
typically not a well understood things

121
00:04:13,410 --> 00:04:16,228
so we kind of wanted to approach that in

122
00:04:15,060 --> 00:04:17,519
the competition<font color="#E5E5E5"> because it's probably</font>

123
00:04:16,228 --> 00:04:20,760
not something a lot of students have

124
00:04:17,519 --> 00:04:22,108
seen in other competitions and you have

125
00:04:20,760 --> 00:04:24,030
a lot of vulnerability both<font color="#E5E5E5"> in void</font>

126
00:04:22,108 --> 00:04:25,440
protocols by default and especially in

127
00:04:24,030 --> 00:04:28,530
voice configurations which<font color="#E5E5E5"> I'll be</font>

128
00:04:25,440 --> 00:04:30,180
talking about further so this is<font color="#E5E5E5"> the</font>

129
00:04:28,530 --> 00:04:32,190
fake topology that<font color="#CCCCCC"> was</font><font color="#E5E5E5"> handed to the</font>

130
00:04:30,180 --> 00:04:33,360
team's a couple of weeks beforehand I'm

131
00:04:32,190 --> 00:04:34,950
not<font color="#E5E5E5"> going to spend a lot of time on this</font>

132
00:04:33,360 --> 00:04:37,139
because this<font color="#E5E5E5"> is</font><font color="#CCCCCC"> the fake topology and</font>

133
00:04:34,950 --> 00:04:38,250
they had to discover<font color="#E5E5E5"> the real topology I</font>

134
00:04:37,139 --> 00:04:40,169
didn't have any drawings of<font color="#E5E5E5"> the real</font>

135
00:04:38,250 --> 00:04:41,610
apology but it's largely similar to this

136
00:04:40,169 --> 00:04:44,310
but there wasn't actually a

137
00:04:41,610 --> 00:04:45,479
software-defined radio in there we had a

138
00:04:44,310 --> 00:04:49,410
couple<font color="#E5E5E5"> of teams freaking out the night</font>

139
00:04:45,479 --> 00:04:51,030
before we thought<font color="#E5E5E5"> there was so with kind</font>

140
00:04:49,410 --> 00:04:52,889
of the competition basics out of the way

141
00:04:51,030 --> 00:04:54,510
I want<font color="#E5E5E5"> to talk a little bit about voice</font>

142
00:04:52,889 --> 00:04:56,460
over IP and give an introduction for

143
00:04:54,510 --> 00:04:59,280
anybody who maybe doesn't have any any

144
00:04:56,460 --> 00:05:00,840
voice experience so whenever<font color="#CCCCCC"> you discuss</font>

145
00:04:59,280 --> 00:05:03,150
a VoIP architecture you're looking at

146
00:05:00,840 --> 00:05:04,760
two protocols<font color="#E5E5E5"> from a protocol standpoint</font>

147
00:05:03,150 --> 00:05:06,719
you're signaling and your transport

148
00:05:04,760 --> 00:05:09,599
signaling will handle call setup

149
00:05:06,720 --> 00:05:11,250
teardown routing in most<font color="#E5E5E5"> cases digit</font>

150
00:05:09,599 --> 00:05:13,289
passing although occasionally that is

151
00:05:11,250 --> 00:05:15,330
rarely these days done in the transport

152
00:05:13,289 --> 00:05:18,840
protocol and the<font color="#E5E5E5"> two big players in</font>

153
00:05:15,330 --> 00:05:20,550
signaling are h.323 and sip with a

154
00:05:18,840 --> 00:05:22,440
movement very strongly right now<font color="#E5E5E5"> towards</font>

155
00:05:20,550 --> 00:05:24,360
sip because it's a<font color="#CCCCCC"> very easy protocol to</font>

156
00:05:22,440 --> 00:05:26,490
understand it's a HTTP like<font color="#CCCCCC"> it's</font>

157
00:05:24,360 --> 00:05:29,099
text-based I'm easy to recognize if

158
00:05:26,490 --> 00:05:30,840
you're looking at Wireshark h.323 is

159
00:05:29,099 --> 00:05:32,370
absolutely miserable to look at in a

160
00:05:30,840 --> 00:05:35,429
packet capture<font color="#E5E5E5"> there</font>

161
00:05:32,370 --> 00:05:36,990
pretty much took the ISDN protocols and

162
00:05:35,430 --> 00:05:38,880
<font color="#CCCCCC">stuck them all into a packet so you have</font>

163
00:05:36,990 --> 00:05:41,400
like<font color="#E5E5E5"> 400 headers and it's it's a mess</font>

164
00:05:38,880 --> 00:05:44,610
and then your transport protocol carries

165
00:05:41,400 --> 00:05:47,429
actual encoded audio or video data RTP

166
00:05:44,610 --> 00:05:49,290
is the king of transport these days and

167
00:05:47,430 --> 00:05:51,750
<font color="#CCCCCC">it will usually use a particular will</font>

168
00:05:49,290 --> 00:05:53,760
always use a particular codec g.711 MU

169
00:05:51,750 --> 00:05:56,150
law commonly called you law being one of

170
00:05:53,760 --> 00:05:58,889
the most common with others existing and

171
00:05:56,150 --> 00:06:01,440
transport travels on high numbered UDP

172
00:05:58,889 --> 00:06:04,620
ports its sister protocol the real-time

173
00:06:01,440 --> 00:06:06,180
transport control protocol rtcp will do

174
00:06:04,620 --> 00:06:09,650
call statistics collection things like

175
00:06:06,180 --> 00:06:12,300
jitter delay all that you'll also see

176
00:06:09,650 --> 00:06:14,460
skinny skinny client control protocol

177
00:06:12,300 --> 00:06:17,160
and media gateway control protocol as

178
00:06:14,460 --> 00:06:20,250
signaling protocols in<font color="#CCCCCC"> cisco in cisco</font>

179
00:06:17,160 --> 00:06:22,650
land commonly but really a big move

180
00:06:20,250 --> 00:06:25,110
towards sip these days in<font color="#CCCCCC"> that room so</font>

181
00:06:22,650 --> 00:06:27,388
this is<font color="#CCCCCC"> an extremely simple example</font><font color="#E5E5E5"> of</font>

182
00:06:25,110 --> 00:06:29,430
what<font color="#CCCCCC"> you might see in a voice</font>

183
00:06:27,389 --> 00:06:31,229
architecture you<font color="#CCCCCC"> have your two phones</font>

184
00:06:29,430 --> 00:06:32,900
which will signal with your call server

185
00:06:31,229 --> 00:06:34,680
to do things like registration

186
00:06:32,900 --> 00:06:36,570
authenticating to the to the voice

187
00:06:34,680 --> 00:06:38,010
network and then when<font color="#E5E5E5"> they want to place</font>

188
00:06:36,570 --> 00:06:40,229
a<font color="#CCCCCC"> call they'll signal through your call</font>

189
00:06:38,010 --> 00:06:41,760
server and then the call server will set

190
00:06:40,229 --> 00:06:43,650
up the call and the call server will

191
00:06:41,760 --> 00:06:45,389
step out of the call commonly and allow

192
00:06:43,650 --> 00:06:47,760
media to flow directly between the<font color="#E5E5E5"> two</font>

193
00:06:45,389 --> 00:06:49,320
endpoints now like I said this is very

194
00:06:47,760 --> 00:06:50,909
simple every architecture is going to be

195
00:06:49,320 --> 00:06:52,139
here but it's going<font color="#E5E5E5"> to be different some</font>

196
00:06:50,910 --> 00:06:53,789
companies interested in doing call

197
00:06:52,139 --> 00:06:55,740
recording may have their voice servers

198
00:06:53,789 --> 00:06:57,630
proxy all of the media<font color="#E5E5E5"> so they can</font>

199
00:06:55,740 --> 00:06:59,070
record calls you may<font color="#E5E5E5"> have a statistics</font>

200
00:06:57,630 --> 00:07:00,630
collection server in there you may have

201
00:06:59,070 --> 00:07:03,120
a totally separate server just<font color="#E5E5E5"> for</font>

202
00:07:00,630 --> 00:07:04,860
registration and<font color="#E5E5E5"> authentication but this</font>

203
00:07:03,120 --> 00:07:06,720
will work kind of for purposes of people

204
00:07:04,860 --> 00:07:08,490
who<font color="#E5E5E5"> don't</font><font color="#CCCCCC"> have any any voice experience</font>

205
00:07:06,720 --> 00:07:10,849
at<font color="#E5E5E5"> all they give you a overall idea and</font>

206
00:07:08,490 --> 00:07:12,570
this<font color="#E5E5E5"> is largely what blue team's</font>

207
00:07:10,849 --> 00:07:14,789
architecture looks like in the

208
00:07:12,570 --> 00:07:17,599
competition so<font color="#E5E5E5"> we</font><font color="#CCCCCC"> talked about</font>

209
00:07:14,789 --> 00:07:20,250
vulnerabilities protocol wise invoice

210
00:07:17,599 --> 00:07:21,539
the lack of strong authentication and

211
00:07:20,250 --> 00:07:22,770
the fact that these protocols are

212
00:07:21,539 --> 00:07:25,560
playing<font color="#CCCCCC"> texts are really the biggest</font>

213
00:07:22,770 --> 00:07:28,260
ones it's<font color="#E5E5E5"> very easy to enumerate SIF</font>

214
00:07:25,560 --> 00:07:31,310
extensions to obviously<font color="#E5E5E5"> to sip excuse me</font>

215
00:07:28,260 --> 00:07:34,280
sniff traffic if it's plain text you

216
00:07:31,310 --> 00:07:38,150
in or dial you can do<font color="#E5E5E5"> things</font><font color="#CCCCCC"> like that</font>

217
00:07:34,280 --> 00:07:39,739
<font color="#E5E5E5">pretty easily and then for</font><font color="#CCCCCC"> RTP for your</font>

218
00:07:38,150 --> 00:07:42,830
media streams if you're able to capture

219
00:07:39,740 --> 00:07:44,390
an art and not encrypted RTP stream you

220
00:07:42,830 --> 00:07:47,630
can<font color="#E5E5E5"> just reconstruct entire voice calls</font>

221
00:07:44,390 --> 00:07:50,000
you can also inject packets to inject

222
00:07:47,630 --> 00:07:51,440
false audio into a call again by the

223
00:07:50,000 --> 00:07:53,420
nature of the fact these are<font color="#E5E5E5"> weakly</font>

224
00:07:51,440 --> 00:07:56,660
authenticated or in the case of RTP no

225
00:07:53,420 --> 00:07:59,570
authentication by default or unencrypted

226
00:07:56,660 --> 00:08:02,680
and then specifically an area we focus

227
00:07:59,570 --> 00:08:06,260
on a lot<font color="#CCCCCC"> in the</font><font color="#E5E5E5"> is TS is the fact that</font>

228
00:08:02,680 --> 00:08:08,060
configuration is challenging<font color="#CCCCCC"> in a lot of</font>

229
00:08:06,260 --> 00:08:09,260
vendor turnkey solutions when you say<font color="#CCCCCC"> ok</font>

230
00:08:08,060 --> 00:08:11,390
we're gonna do<font color="#E5E5E5"> cisco voice we're going</font>

231
00:08:09,260 --> 00:08:13,310
to do a bio voice or something security

232
00:08:11,390 --> 00:08:15,380
as a checkbox is really big so you'll

233
00:08:13,310 --> 00:08:17,420
check the box that says secure calling

234
00:08:15,380 --> 00:08:18,800
or whatever and you know do some minimal

235
00:08:17,420 --> 00:08:21,650
configuration and follow the vendors

236
00:08:18,800 --> 00:08:23,330
guide<font color="#CCCCCC"> it all</font><font color="#E5E5E5"> works but we really kind of</font>

237
00:08:21,650 --> 00:08:25,669
see a move toward things like wanting to

238
00:08:23,330 --> 00:08:27,200
<font color="#E5E5E5">you know buy solutions that aren't just</font>

239
00:08:25,670 --> 00:08:28,640
made by one vendor so maybe we like a

240
00:08:27,200 --> 00:08:30,500
particular<font color="#E5E5E5"> soft phone on the computer</font>

241
00:08:28,640 --> 00:08:32,240
<font color="#E5E5E5">better than we like the vendor solution</font>

242
00:08:30,500 --> 00:08:35,090
and so<font color="#E5E5E5"> that creates challenges of</font>

243
00:08:32,240 --> 00:08:38,270
configuration for administrators and

244
00:08:35,090 --> 00:08:40,670
then one<font color="#CCCCCC"> of the biggest areas we focused</font>

245
00:08:38,270 --> 00:08:43,610
on in is TS was vulnerabilities in

246
00:08:40,669 --> 00:08:45,260
configuration of voice services and we

247
00:08:43,610 --> 00:08:47,150
did this ridiculously we did some really

248
00:08:45,260 --> 00:08:49,160
crazy vulnerabilities in the dial plans

249
00:08:47,150 --> 00:08:53,569
but you know in real life some of the

250
00:08:49,160 --> 00:08:55,250
most common things<font color="#E5E5E5"> I see our conference</font>

251
00:08:53,570 --> 00:08:57,560
bridges and<font color="#CCCCCC"> voice mail being</font><font color="#E5E5E5"> weekly</font>

252
00:08:55,250 --> 00:08:59,330
secured using you know some arbitrary

253
00:08:57,560 --> 00:09:01,040
you know<font color="#E5E5E5"> using the phone extension in</font>

254
00:08:59,330 --> 00:09:03,860
the phone extension as the<font color="#E5E5E5"> password for</font>

255
00:09:01,040 --> 00:09:05,630
voicemail and if you have features on

256
00:09:03,860 --> 00:09:07,220
your<font color="#E5E5E5"> voicemail occasionally you can use</font>

257
00:09:05,630 --> 00:09:08,450
that an attacker can<font color="#E5E5E5"> use that as a pivot</font>

258
00:09:07,220 --> 00:09:09,950
<font color="#CCCCCC">point so they can</font><font color="#E5E5E5"> get into your</font>

259
00:09:08,450 --> 00:09:12,680
voicemail and pivot<font color="#E5E5E5"> outwards and make</font>

260
00:09:09,950 --> 00:09:14,240
international calls extremely especially

261
00:09:12,680 --> 00:09:16,160
the conference<font color="#E5E5E5"> bridge is extremely</font>

262
00:09:14,240 --> 00:09:18,230
common attack vector because they'll set

263
00:09:16,160 --> 00:09:19,579
up a conference bridge at some extension

264
00:09:18,230 --> 00:09:21,110
it's publicly available because it's

265
00:09:19,580 --> 00:09:22,730
designed to<font color="#E5E5E5"> be a conference bridge and</font>

266
00:09:21,110 --> 00:09:24,800
you know the password will be<font color="#E5E5E5"> one two</font>

267
00:09:22,730 --> 00:09:26,360
three<font color="#E5E5E5"> four when</font><font color="#CCCCCC"> they'll lock out because</font>

268
00:09:24,800 --> 00:09:27,770
<font color="#E5E5E5">management will get angry</font><font color="#CCCCCC"> if they type</font>

269
00:09:26,360 --> 00:09:30,770
it in wrong three times and<font color="#E5E5E5"> now they're</font>

270
00:09:27,770 --> 00:09:32,900
locked out so very common thing so we

271
00:09:30,770 --> 00:09:33,209
kind of focused on<font color="#E5E5E5"> this a little bit and</font>

272
00:09:32,900 --> 00:09:35,970
<font color="#E5E5E5">I</font>

273
00:09:33,209 --> 00:09:37,529
TS in terms of the the<font color="#CCCCCC"> way</font>

274
00:09:35,970 --> 00:09:40,139
configurations of voice systems can be

275
00:09:37,529 --> 00:09:42,449
<font color="#E5E5E5">vulnerable now for actually securing</font>

276
00:09:40,139 --> 00:09:43,529
voice conceptually it's pretty

277
00:09:42,449 --> 00:09:44,790
straightforward you just want to

278
00:09:43,529 --> 00:09:47,249
authenticate and encrypt your traffic

279
00:09:44,790 --> 00:09:48,779
sip the most common way to<font color="#E5E5E5"> do that for</font>

280
00:09:47,249 --> 00:09:51,660
<font color="#E5E5E5">your signaling is just putting it on top</font>

281
00:09:48,779 --> 00:09:54,029
<font color="#E5E5E5">of TLS you're on top of IPC you can also</font>

282
00:09:51,660 --> 00:09:57,300
<font color="#CCCCCC">use s/mime but sip TLS being the most</font>

283
00:09:54,029 --> 00:10:00,689
common now your sip becomes<font color="#E5E5E5"> TCP instead</font>

284
00:09:57,300 --> 00:10:01,859
of UDP and you have pretty<font color="#E5E5E5"> much fairly</font>

285
00:10:00,689 --> 00:10:03,599
straightforward security the

286
00:10:01,860 --> 00:10:04,949
configuration is what is almost always

287
00:10:03,600 --> 00:10:06,629
<font color="#E5E5E5">the most challenging part of this</font>

288
00:10:04,949 --> 00:10:09,059
because<font color="#E5E5E5"> it's not necessarily</font>

289
00:10:06,629 --> 00:10:11,129
standardized across vendors now in<font color="#E5E5E5"> terms</font>

290
00:10:09,059 --> 00:10:13,559
of media the actual voice and video data

291
00:10:11,129 --> 00:10:15,119
the way we approach security for that is

292
00:10:13,559 --> 00:10:17,249
there are several different ways<font color="#E5E5E5"> there's</font>

293
00:10:15,119 --> 00:10:20,279
a spaghetti soup of<font color="#CCCCCC"> our FCS on how to</font>

294
00:10:17,249 --> 00:10:23,040
implement signaling excuse me media

295
00:10:20,279 --> 00:10:25,079
security and there's usually there's two

296
00:10:23,040 --> 00:10:27,748
main approaches you either exchange a

297
00:10:25,079 --> 00:10:30,089
key<font color="#E5E5E5"> within the signaling packet so</font>

298
00:10:27,749 --> 00:10:32,459
within like the session description

299
00:10:30,089 --> 00:10:33,959
within the<font color="#CCCCCC"> sip packet or you exchange a</font>

300
00:10:32,459 --> 00:10:37,138
key directly within the media stream

301
00:10:33,959 --> 00:10:38,849
within the RTP stream it's really

302
00:10:37,139 --> 00:10:41,639
exciting the exchanging the key i'm

303
00:10:38,850 --> 00:10:43,139
partial to z RTP which exchanges the key

304
00:10:41,639 --> 00:10:44,790
right within the media stream and<font color="#E5E5E5"> the</font>

305
00:10:43,139 --> 00:10:46,589
reason is that you have<font color="#E5E5E5"> to assume</font><font color="#CCCCCC"> that</font>

306
00:10:44,790 --> 00:10:48,509
you're signaling channel is secure if

307
00:10:46,589 --> 00:10:50,970
you're doing key exchange in your

308
00:10:48,509 --> 00:10:52,110
signaling in your signaling traffic

309
00:10:50,970 --> 00:10:55,170
unless you're<font color="#E5E5E5"> using something like the</font>

310
00:10:52,110 --> 00:10:57,480
diffie-hellman which<font color="#CCCCCC"> z RTP does use a</font>

311
00:10:55,170 --> 00:10:59,339
femoral<font color="#E5E5E5"> different to provide encryption</font>

312
00:10:57,480 --> 00:11:00,779
of<font color="#E5E5E5"> the media stream but what's</font>

313
00:10:59,339 --> 00:11:04,699
interesting so a good example is<font color="#CCCCCC"> Lin</font>

314
00:11:00,779 --> 00:11:07,079
phone is a freely available open source

315
00:11:04,699 --> 00:11:10,469
softball agent user agent for sip

316
00:11:07,079 --> 00:11:13,109
network and it will do you can<font color="#CCCCCC"> check the</font>

317
00:11:10,470 --> 00:11:15,059
srtp box and it will do a key exchange

318
00:11:13,110 --> 00:11:16,740
but it does a<font color="#CCCCCC"> plain text key exchange</font>

319
00:11:15,059 --> 00:11:18,209
right and sit packet and it's a sip

320
00:11:16,740 --> 00:11:19,649
isn't encrypted it doesn't complain

321
00:11:18,209 --> 00:11:21,239
about it it just exchanges it right over

322
00:11:19,649 --> 00:11:23,249
the network and you can rebuild entire

323
00:11:21,240 --> 00:11:25,500
call streams based on that<font color="#E5E5E5"> extremely</font>

324
00:11:23,249 --> 00:11:27,670
easy to<font color="#E5E5E5"> do</font>

325
00:11:25,500 --> 00:11:29,199
so I also want to talk real quick

326
00:11:27,670 --> 00:11:31,000
because we focused on<font color="#E5E5E5"> this very heavily</font>

327
00:11:29,199 --> 00:11:33,490
and this<font color="#E5E5E5"> is the platform we used in is</font>

328
00:11:31,000 --> 00:11:34,990
TS is asterisk so<font color="#CCCCCC"> Digium the company</font>

329
00:11:33,490 --> 00:11:39,819
<font color="#E5E5E5">that creates asterisk it's a free</font>

330
00:11:34,990 --> 00:11:42,100
open-source PBX<font color="#E5E5E5"> it's</font><font color="#CCCCCC"> Digium describes it</font>

331
00:11:39,819 --> 00:11:44,170
as a box of<font color="#CCCCCC"> legos for people who want to</font>

332
00:11:42,100 --> 00:11:46,420
create communications applications and<font color="#E5E5E5"> I</font>

333
00:11:44,170 --> 00:11:48,459
focus on the application<font color="#E5E5E5"> board there</font>

334
00:11:46,420 --> 00:11:50,170
because typically we're not just talking

335
00:11:48,459 --> 00:11:51,969
about two people calling each other

336
00:11:50,170 --> 00:11:54,189
anymore we're talking about voice driven

337
00:11:51,970 --> 00:11:56,050
applications things like paying your

338
00:11:54,189 --> 00:11:57,699
bills online things like managing<font color="#E5E5E5"> an</font>

339
00:11:56,050 --> 00:11:58,899
account I'm sorry paying your bills

340
00:11:57,699 --> 00:12:00,399
online<font color="#CCCCCC"> paying your bills over the phone</font>

341
00:11:58,899 --> 00:12:02,259
<font color="#CCCCCC">and things like managing account over</font>

342
00:12:00,399 --> 00:12:04,389
the phone all kinds of things like<font color="#CCCCCC"> that</font>

343
00:12:02,259 --> 00:12:06,970
so you have an interface of your voice

344
00:12:04,389 --> 00:12:08,740
system to other<font color="#E5E5E5"> back-end systems an</font>

345
00:12:06,970 --> 00:12:11,019
asterisk is very modular which is one of

346
00:12:08,740 --> 00:12:12,310
<font color="#E5E5E5">the reasons we used it in is TS you just</font>

347
00:12:11,019 --> 00:12:13,990
configure what you need and don't

348
00:12:12,310 --> 00:12:15,699
configure what you don't it's pretty

349
00:12:13,990 --> 00:12:17,589
straightforward we use the<font color="#CCCCCC"> sip channel</font>

350
00:12:15,699 --> 00:12:19,540
<font color="#E5E5E5">driver an asterisk because we were doing</font>

351
00:12:17,589 --> 00:12:21,670
sip we used a couple<font color="#E5E5E5"> of specific</font>

352
00:12:19,540 --> 00:12:23,349
dialplan applications to implement

353
00:12:21,670 --> 00:12:25,990
different vulnerabilities and it was

354
00:12:23,350 --> 00:12:27,430
pretty<font color="#CCCCCC"> straightforward and your main</font>

355
00:12:25,990 --> 00:12:29,410
configuration files here they're<font color="#CCCCCC"> all</font>

356
00:12:27,430 --> 00:12:31,599
going<font color="#E5E5E5"> to be</font><font color="#CCCCCC"> located in / etsy asterisk</font>

357
00:12:29,410 --> 00:12:33,069
but you're looking<font color="#E5E5E5"> at sitcom to do the</font>

358
00:12:31,600 --> 00:12:34,930
SIP configuration configure your

359
00:12:33,069 --> 00:12:37,240
endpoints your phones and<font color="#CCCCCC"> then the</font>

360
00:12:34,930 --> 00:12:39,459
extensions com which is<font color="#E5E5E5"> that</font><font color="#CCCCCC"> dial plan</font><font color="#E5E5E5"> I</font>

361
00:12:37,240 --> 00:12:40,569
was discussing that described how calls

362
00:12:39,459 --> 00:12:43,268
are routed through out the voice

363
00:12:40,569 --> 00:12:45,099
infrastructure and the dialplan an

364
00:12:43,269 --> 00:12:46,750
asterisk is very rich there are a lot of

365
00:12:45,100 --> 00:12:48,459
applications to do pretty much whatever

366
00:12:46,750 --> 00:12:49,779
you want and if there isn't an

367
00:12:48,459 --> 00:12:51,579
application to do what you want you<font color="#E5E5E5"> can</font>

368
00:12:49,779 --> 00:12:54,790
<font color="#E5E5E5">you can write your</font><font color="#CCCCCC"> own so</font><font color="#E5E5E5"> that was</font><font color="#CCCCCC"> very</font>

369
00:12:51,579 --> 00:12:56,529
beneficial<font color="#E5E5E5"> to us so that of the way take</font>

370
00:12:54,790 --> 00:12:59,279
a moment to discuss<font color="#E5E5E5"> the architecture</font>

371
00:12:56,529 --> 00:13:01,850
rebuilt for the competition

372
00:12:59,279 --> 00:13:05,249
so it was a pretty straightforward

373
00:13:01,850 --> 00:13:08,339
hub-and-spoke architecture last year I I

374
00:13:05,249 --> 00:13:09,990
stated we kind of one<font color="#E5E5E5"> of my friends did</font>

375
00:13:08,339 --> 00:13:11,610
<font color="#CCCCCC">voice as a last minute add on to the</font>

376
00:13:09,990 --> 00:13:13,319
<font color="#E5E5E5">competition so the night</font><font color="#CCCCCC"> before somebody</font>

377
00:13:11,610 --> 00:13:14,939
was<font color="#E5E5E5"> like hey we have all these phones we</font>

378
00:13:13,319 --> 00:13:18,360
should do something with him and he had

379
00:13:14,939 --> 00:13:19,800
this awful full mesh topology going that

380
00:13:18,360 --> 00:13:21,959
they were you know trouble shooting all

381
00:13:19,800 --> 00:13:23,579
day on game day and I<font color="#E5E5E5"> said so this year</font>

382
00:13:21,959 --> 00:13:24,809
we started<font color="#E5E5E5"> really early and I said you</font>

383
00:13:23,579 --> 00:13:28,290
<font color="#E5E5E5">know he said Anthony or you're pretty</font>

384
00:13:24,809 --> 00:13:29,730
good at asterisk right sure so I came up

385
00:13:28,290 --> 00:13:32,550
<font color="#CCCCCC">with</font><font color="#E5E5E5"> the the</font><font color="#CCCCCC"> way we do it</font><font color="#E5E5E5"> so basically</font>

386
00:13:29,730 --> 00:13:34,410
every blue team had an asterisk box we

387
00:13:32,550 --> 00:13:36,599
installed<font color="#E5E5E5"> the asterisk service alongside</font>

388
00:13:34,410 --> 00:13:40,019
of a<font color="#CCCCCC"> regular scored box so it wasn't a</font>

389
00:13:36,600 --> 00:13:42,360
dedicated phone system I think it<font color="#E5E5E5"> was on</font>

390
00:13:40,019 --> 00:13:45,660
the server that was being scored for ssh

391
00:13:42,360 --> 00:13:47,670
access and so we<font color="#E5E5E5"> just installed it right</font>

392
00:13:45,660 --> 00:13:49,199
on there every blue team peered up with

393
00:13:47,670 --> 00:13:50,910
the<font color="#CCCCCC"> white</font><font color="#E5E5E5"> team server and then the White</font>

394
00:13:49,199 --> 00:13:53,160
<font color="#CCCCCC">team managed call routing throughout the</font>

395
00:13:50,910 --> 00:13:56,339
architecture so if team one called<font color="#CCCCCC"> Team</font>

396
00:13:53,160 --> 00:13:58,589
<font color="#CCCCCC">seven</font><font color="#E5E5E5"> that that call routing was handled</font>

397
00:13:56,339 --> 00:14:00,540
by<font color="#E5E5E5"> white team but you had to keep your</font>

398
00:13:58,589 --> 00:14:02,730
blue team box up obviously to receive in

399
00:14:00,540 --> 00:14:05,849
place calls and then each team had a

400
00:14:02,730 --> 00:14:07,379
physical<font color="#CCCCCC"> phone so this</font><font color="#E5E5E5"> is what that</font>

401
00:14:05,850 --> 00:14:08,850
looks like it's<font color="#E5E5E5"> it pretty much exactly</font>

402
00:14:07,379 --> 00:14:10,649
what<font color="#CCCCCC"> you would expect the hub and spoke</font>

403
00:14:08,850 --> 00:14:12,360
architecture to look like both white

404
00:14:10,649 --> 00:14:14,639
team and red team had their own phones

405
00:14:12,360 --> 00:14:17,670
and those we hung them directly off of

406
00:14:14,639 --> 00:14:19,500
the White team<font color="#E5E5E5"> call server and then each</font>

407
00:14:17,670 --> 00:14:20,910
blue team had their one phone which they

408
00:14:19,500 --> 00:14:22,649
could certainly add more phones if they

409
00:14:20,910 --> 00:14:24,809
wanted if they wanted to<font color="#E5E5E5"> use a soft</font>

410
00:14:22,649 --> 00:14:26,129
phone or<font color="#CCCCCC"> something and then their phone</font>

411
00:14:24,809 --> 00:14:29,819
paired up with their server and their

412
00:14:26,129 --> 00:14:32,040
server paired up with ours so with that

413
00:14:29,819 --> 00:14:35,160
said our approach toward vulnerabilities

414
00:14:32,040 --> 00:14:38,160
that we wanted<font color="#E5E5E5"> to build in was to create</font>

415
00:14:35,160 --> 00:14:40,019
these glaring asinine vulnerabilities

416
00:14:38,160 --> 00:14:42,089
that would kind of give competitors an

417
00:14:40,019 --> 00:14:45,179
idea where to look for vulnerabilities

418
00:14:42,089 --> 00:14:47,069
in a voice system so typically the box

419
00:14:45,179 --> 00:14:50,189
that<font color="#E5E5E5"> a blue team receives on game days</font>

420
00:14:47,069 --> 00:14:52,469
filled with ridiculous vulnerabilities I

421
00:14:50,189 --> 00:14:55,410
know this year notably on<font color="#E5E5E5"> this</font>

422
00:14:52,470 --> 00:14:56,850
particular box every time you executed

423
00:14:55,410 --> 00:14:58,740
the service command like service

424
00:14:56,850 --> 00:15:01,500
asterisk start or service asterisk stop

425
00:14:58,740 --> 00:15:04,570
it would spawn a<font color="#CCCCCC"> netcat listener</font>

426
00:15:01,500 --> 00:15:07,120
one of my last year they recompile the

427
00:15:04,570 --> 00:15:11,020
ssh daemon to not use encryption at all

428
00:15:07,120 --> 00:15:12,880
so your entire any<font color="#CCCCCC"> SSH going was totally</font>

429
00:15:11,020 --> 00:15:14,079
unencrypted and I<font color="#CCCCCC"> remember if they were</font>

430
00:15:12,880 --> 00:15:16,030
<font color="#E5E5E5">talking</font><font color="#CCCCCC"> about a pile they had to</font>

431
00:15:14,080 --> 00:15:18,160
recompile and everything this year on

432
00:15:16,030 --> 00:15:20,500
the web server if you sent the web

433
00:15:18,160 --> 00:15:22,180
<font color="#E5E5E5">server HTTP do delete request it would</font>

434
00:15:20,500 --> 00:15:24,490
drop your firewall it would reset your

435
00:15:22,180 --> 00:15:26,520
root password and it would I think it

436
00:15:24,490 --> 00:15:29,110
also spawn spawn a listener as well so

437
00:15:26,520 --> 00:15:30,189
<font color="#CCCCCC">it's ridiculous it's probably not things</font>

438
00:15:29,110 --> 00:15:31,540
you're necessarily going<font color="#E5E5E5"> to see any</font>

439
00:15:30,190 --> 00:15:32,950
enterprise but the idea is we have

440
00:15:31,540 --> 00:15:33,910
students<font color="#E5E5E5"> we want to give them an idea</font>

441
00:15:32,950 --> 00:15:35,320
what kind<font color="#E5E5E5"> of stuff they should be</font>

442
00:15:33,910 --> 00:15:37,180
looking<font color="#CCCCCC"> for you know</font><font color="#E5E5E5"> looking at nets</font>

443
00:15:35,320 --> 00:15:39,460
that output looking at you know things

444
00:15:37,180 --> 00:15:41,680
like<font color="#E5E5E5"> that to see what</font><font color="#CCCCCC"> might be actually</font>

445
00:15:39,460 --> 00:15:43,210
going on in a box so I was<font color="#E5E5E5"> thinking</font>

446
00:15:41,680 --> 00:15:44,620
<font color="#E5E5E5">about this and I was setting up asterisk</font>

447
00:15:43,210 --> 00:15:47,080
you know I realized that asterisk will

448
00:15:44,620 --> 00:15:49,330
execute<font color="#E5E5E5"> system level commands you just</font>

449
00:15:47,080 --> 00:15:50,890
change this this live<font color="#E5E5E5"> dangerously</font>

450
00:15:49,330 --> 00:15:52,660
instead of two yes and<font color="#E5E5E5"> your asterisk</font>

451
00:15:50,890 --> 00:15:54,699
configuration and then if you set your

452
00:15:52,660 --> 00:15:56,650
asterisk user to run as root you're

453
00:15:54,700 --> 00:15:58,750
basically you can execute commands right

454
00:15:56,650 --> 00:16:00,579
from the dialplan is the root user so

455
00:15:58,750 --> 00:16:03,040
that was the technical premise of our of

456
00:16:00,580 --> 00:16:05,230
how we<font color="#E5E5E5"> approached doing</font><font color="#CCCCCC"> Boyd security</font>

457
00:16:03,040 --> 00:16:07,150
and I'm<font color="#E5E5E5"> doing Boyd vulnerabilities for</font>

458
00:16:05,230 --> 00:16:10,270
the<font color="#CCCCCC"> competition and that allowed us to</font>

459
00:16:07,150 --> 00:16:13,090
do some really some really fun things so

460
00:16:10,270 --> 00:16:14,260
you<font color="#CCCCCC"> know once I realized that</font><font color="#E5E5E5"> I was</font>

461
00:16:13,090 --> 00:16:16,240
<font color="#E5E5E5">originally just going to build a</font>

462
00:16:14,260 --> 00:16:17,380
functional voice architecture but once I

463
00:16:16,240 --> 00:16:18,970
realized we could do some more fun

464
00:16:17,380 --> 00:16:20,470
<font color="#E5E5E5">things I said okay let's come up with an</font>

465
00:16:18,970 --> 00:16:23,020
approach to make teams think a little

466
00:16:20,470 --> 00:16:26,170
harder<font color="#E5E5E5"> about their voice architecture so</font>

467
00:16:23,020 --> 00:16:28,150
there were three ideas I had I wanted to

468
00:16:26,170 --> 00:16:29,890
build in some kind of really obvious

469
00:16:28,150 --> 00:16:31,660
vulnerability that even somebody<font color="#E5E5E5"> without</font>

470
00:16:29,890 --> 00:16:33,460
any asterisk experience at<font color="#E5E5E5"> all could</font>

471
00:16:31,660 --> 00:16:35,650
probably figure out and notice and say

472
00:16:33,460 --> 00:16:37,120
hey that shouldn't be there I wanted the

473
00:16:35,650 --> 00:16:38,920
building one thing that they just

474
00:16:37,120 --> 00:16:40,960
<font color="#E5E5E5">couldn't control and then I really</font>

475
00:16:38,920 --> 00:16:43,150
wanted to do something less obvious but

476
00:16:40,960 --> 00:16:44,890
way more fun things<font color="#CCCCCC"> like you know the</font>

477
00:16:43,150 --> 00:16:46,270
voice equivalent of<font color="#E5E5E5"> sending an HTTP</font>

478
00:16:44,890 --> 00:16:49,689
delete request to reset the root

479
00:16:46,270 --> 00:16:52,360
password so excuse me the first one I

480
00:16:49,690 --> 00:16:54,610
had which was the one that should<font color="#CCCCCC"> be</font>

481
00:16:52,360 --> 00:16:55,960
obvious is<font color="#CCCCCC"> the White team extensions</font>

482
00:16:54,610 --> 00:16:57,940
were used<font color="#E5E5E5"> to provide technical support</font>

483
00:16:55,960 --> 00:16:59,150
to blue team's so if they had any sort

484
00:16:57,940 --> 00:17:00,950
<font color="#E5E5E5">of issue we</font>

485
00:16:59,150 --> 00:17:02,270
with their topology or this<font color="#E5E5E5"> was all</font>

486
00:17:00,950 --> 00:17:03,950
virtual topology so if they had a

487
00:17:02,270 --> 00:17:06,589
hypervisor issue they need a hypervisor

488
00:17:03,950 --> 00:17:08,510
password<font color="#E5E5E5"> reset something like that they</font>

489
00:17:06,589 --> 00:17:10,339
would call<font color="#E5E5E5"> white team so I built right</font>

490
00:17:08,510 --> 00:17:12,920
into their dial plan just a very simple

491
00:17:10,339 --> 00:17:14,450
<font color="#E5E5E5">iptables dash f to flush their firewall</font>

492
00:17:12,920 --> 00:17:15,950
every time they called us to help in the

493
00:17:14,450 --> 00:17:18,080
words<font color="#E5E5E5"> of one of the competition</font>

494
00:17:15,950 --> 00:17:21,980
organisers white team doesn't do work

495
00:17:18,079 --> 00:17:23,629
for free so this is obvious<font color="#E5E5E5"> this</font><font color="#CCCCCC"> is easy</font>

496
00:17:21,980 --> 00:17:25,550
to<font color="#E5E5E5"> fix if you literally just look at the</font>

497
00:17:23,630 --> 00:17:27,290
extensions com file i mean there's an IP

498
00:17:25,550 --> 00:17:29,659
tables a chef and you should probably

499
00:17:27,290 --> 00:17:33,200
wonder why any configuration file on

500
00:17:29,660 --> 00:17:34,340
your<font color="#E5E5E5"> system is dropping the firewall so</font>

501
00:17:33,200 --> 00:17:35,960
<font color="#CCCCCC">i kind of wanted to build that in</font>

502
00:17:34,340 --> 00:17:38,510
<font color="#E5E5E5">because people should probably notice it</font>

503
00:17:35,960 --> 00:17:40,010
one would hope the next<font color="#CCCCCC"> one that they</font>

504
00:17:38,510 --> 00:17:41,510
didn't have any control over<font color="#CCCCCC"> i built</font>

505
00:17:40,010 --> 00:17:44,180
with an asterisk you on the White team

506
00:17:41,510 --> 00:17:46,460
<font color="#E5E5E5">server every time they called</font><font color="#CCCCCC"> White team</font>

507
00:17:44,180 --> 00:17:47,870
for assistance we would randomly route

508
00:17:46,460 --> 00:17:50,540
calls over to the red team the

509
00:17:47,870 --> 00:17:54,590
professional hackers and that was funny

510
00:17:50,540 --> 00:17:56,060
because I was standing around on a day

511
00:17:54,590 --> 00:17:57,350
the competition on<font color="#E5E5E5"> the first day and one</font>

512
00:17:56,060 --> 00:17:58,700
of the red<font color="#CCCCCC"> team members wandered over to</font>

513
00:17:57,350 --> 00:18:00,080
me he was<font color="#E5E5E5"> like you're never going to</font>

514
00:17:58,700 --> 00:18:01,640
believe this but somebody<font color="#CCCCCC"> just call</font><font color="#E5E5E5"> and</font>

515
00:18:00,080 --> 00:18:02,870
<font color="#E5E5E5">said hey can you reset one of our boxes</font>

516
00:18:01,640 --> 00:18:07,100
I said sure what your hypervisor

517
00:18:02,870 --> 00:18:08,750
password and they<font color="#E5E5E5"> gave it to me yes it</font>

518
00:18:07,100 --> 00:18:10,639
made me so happy and in the<font color="#E5E5E5"> event that</font>

519
00:18:08,750 --> 00:18:12,860
both white Team and Red Team were busy

520
00:18:10,640 --> 00:18:14,750
you got to listen<font color="#E5E5E5"> to the serenading</font>

521
00:18:12,860 --> 00:18:17,540
sounds of where the hood at by<font color="#CCCCCC"> dmx is</font>

522
00:18:14,750 --> 00:18:19,250
you're<font color="#E5E5E5"> on hold music so that was that</font>

523
00:18:17,540 --> 00:18:20,180
was the<font color="#CCCCCC"> Easter Egg I worked in at four</font>

524
00:18:19,250 --> 00:18:22,430
in the morning when<font color="#CCCCCC"> we were putting</font>

525
00:18:20,180 --> 00:18:23,840
together<font color="#E5E5E5"> the competition and</font><font color="#CCCCCC"> at least</font>

526
00:18:22,430 --> 00:18:27,890
two people got where the hotel<font color="#E5E5E5"> which</font>

527
00:18:23,840 --> 00:18:30,080
made me unnaturally happy but now the

528
00:18:27,890 --> 00:18:32,720
final extension the are equivalent of an

529
00:18:30,080 --> 00:18:34,580
HTTP delete request was a system

530
00:18:32,720 --> 00:18:36,110
management hotline<font color="#CCCCCC"> that each team had</font>

531
00:18:34,580 --> 00:18:38,810
which is basically a voice response

532
00:18:36,110 --> 00:18:41,300
system like when you call to to you know

533
00:18:38,810 --> 00:18:42,800
to pay your credit card<font color="#E5E5E5"> and it had</font>

534
00:18:41,300 --> 00:18:44,540
options to do things like drop your

535
00:18:42,800 --> 00:18:48,050
firewall spawn and<font color="#E5E5E5"> net countless and</font>

536
00:18:44,540 --> 00:18:49,730
your add an extra user and to really

537
00:18:48,050 --> 00:18:51,830
make teams miserable it would give you

538
00:18:49,730 --> 00:18:53,750
some long obnoxious extension<font color="#E5E5E5"> a punch in</font>

539
00:18:51,830 --> 00:18:55,399
and say oh you got<font color="#CCCCCC"> to put it in binary</font>

540
00:18:53,750 --> 00:18:56,840
so they had to convert you know like

541
00:18:55,400 --> 00:18:58,250
<font color="#CCCCCC">nine hundred and thirty-five thousand</font>

542
00:18:56,840 --> 00:19:01,760
the binary and then sit there and type

543
00:18:58,250 --> 00:19:03,200
in 100 so so we're testing this the

544
00:19:01,760 --> 00:19:03,510
night before with my friend you know

545
00:19:03,200 --> 00:19:04,470
we're

546
00:19:03,510 --> 00:19:05,850
we're testing everything we're sitting

547
00:19:04,470 --> 00:19:07,980
in the lab<font color="#E5E5E5"> and he's you know he's</font>

548
00:19:05,850 --> 00:19:11,669
listening to<font color="#E5E5E5"> it and he's going</font><font color="#CCCCCC"> okay 10</font>

549
00:19:07,980 --> 00:19:13,230
<font color="#E5E5E5"> hangs on</font><font color="#CCCCCC"> fixing</font><font color="#E5E5E5"> up again so as you</font>

550
00:19:11,670 --> 00:19:14,670
<font color="#CCCCCC">know so my friends doing that I'm like</font>

551
00:19:13,230 --> 00:19:16,760
good that's exactly what i<font color="#E5E5E5"> was going for</font>

552
00:19:14,670 --> 00:19:19,050
cuz<font color="#CCCCCC"> i want them</font><font color="#E5E5E5"> to hate their lives so</font>

553
00:19:16,760 --> 00:19:20,010
so that made me<font color="#CCCCCC"> really happy and this is</font>

554
00:19:19,050 --> 00:19:21,750
<font color="#CCCCCC">actually what that looks like</font>

555
00:19:20,010 --> 00:19:23,040
specifically this entire thing is

556
00:19:21,750 --> 00:19:25,140
<font color="#E5E5E5">scripted</font><font color="#CCCCCC"> i'll talk a little bit more</font>

557
00:19:23,040 --> 00:19:27,270
<font color="#E5E5E5">about</font><font color="#CCCCCC"> that</font><font color="#E5E5E5"> but you can see there or</font>

558
00:19:25,140 --> 00:19:28,770
you're the<font color="#CCCCCC"> the evil extension in this</font>

559
00:19:27,270 --> 00:19:31,560
case would<font color="#E5E5E5"> be for team</font><font color="#CCCCCC"> too and if</font>

560
00:19:28,770 --> 00:19:33,000
anybody in the architecture dialed<font color="#CCCCCC"> 02 83</font>

561
00:19:31,560 --> 00:19:35,820
it would sit<font color="#CCCCCC"> there</font><font color="#E5E5E5"> and read them this</font>

562
00:19:33,000 --> 00:19:37,080
whole option set of menus to this whole

563
00:19:35,820 --> 00:19:38,520
menu of things you could do to the

564
00:19:37,080 --> 00:19:40,139
system<font color="#E5E5E5"> and then those</font><font color="#CCCCCC"> are the decimal</font>

565
00:19:38,520 --> 00:19:42,150
and binary equivalents of the numbers

566
00:19:40,140 --> 00:19:43,710
add enter in and you got<font color="#CCCCCC"> to pay to get</font>

567
00:19:42,150 --> 00:19:46,230
in that cat listener we really made that

568
00:19:43,710 --> 00:19:47,580
one miserable so I had like I had it<font color="#E5E5E5"> in</font>

569
00:19:46,230 --> 00:19:48,870
<font color="#E5E5E5">the billions at one point but I was</font>

570
00:19:47,580 --> 00:19:50,159
running into some problems I<font color="#CCCCCC"> was like</font>

571
00:19:48,870 --> 00:19:52,739
all right let me scale back a little bit

572
00:19:50,160 --> 00:19:55,620
and not be that not be<font color="#E5E5E5"> that terrible to</font>

573
00:19:52,740 --> 00:19:57,060
everybody so so it was a<font color="#E5E5E5"> lot of</font><font color="#CCCCCC"> fun and</font>

574
00:19:55,620 --> 00:19:59,040
<font color="#E5E5E5">the way we implemented it was actually</font>

575
00:19:57,060 --> 00:20:00,389
<font color="#E5E5E5">really straightforward I mean as i</font><font color="#CCCCCC"> said</font>

576
00:19:59,040 --> 00:20:02,129
the<font color="#E5E5E5"> dialplan is where you define your</font>

577
00:20:00,390 --> 00:20:04,140
call routing and how extension passing

578
00:20:02,130 --> 00:20:06,660
is handled and how how entries are

579
00:20:04,140 --> 00:20:09,120
handled so we just we just made changes

580
00:20:06,660 --> 00:20:10,590
to the extensions com file<font color="#E5E5E5"> I kind of</font>

581
00:20:09,120 --> 00:20:11,729
took a little bit of effort to hide

582
00:20:10,590 --> 00:20:13,199
things a bit you know<font color="#CCCCCC"> I threw some</font>

583
00:20:11,730 --> 00:20:14,430
includes in there so people who were

584
00:20:13,200 --> 00:20:16,860
<font color="#CCCCCC">just glancing at the file wouldn't</font>

585
00:20:14,430 --> 00:20:18,780
notice and that was the<font color="#CCCCCC"> case</font><font color="#E5E5E5"> with that</font>

586
00:20:16,860 --> 00:20:21,540
menu I just described that was just a

587
00:20:18,780 --> 00:20:23,820
hidden include I gave everything kind of

588
00:20:21,540 --> 00:20:26,159
inconspicuous file<font color="#CCCCCC"> name so hopefully</font>

589
00:20:23,820 --> 00:20:27,840
people people wouldn't notice them and I

590
00:20:26,160 --> 00:20:29,850
scripted the whole thing so every single

591
00:20:27,840 --> 00:20:31,770
blue team had a totally unique evil

592
00:20:29,850 --> 00:20:34,709
extension and they had a whole unique

593
00:20:31,770 --> 00:20:36,300
set of had a whole unique set of binary

594
00:20:34,710 --> 00:20:38,880
extensions to enter in which is pretty

595
00:20:36,300 --> 00:20:40,889
cool I think<font color="#CCCCCC"> because you know with</font>

596
00:20:38,880 --> 00:20:42,480
something like a lot of other

597
00:20:40,890 --> 00:20:43,800
vulnerabilities it's Piniella so once

598
00:20:42,480 --> 00:20:44,760
you discover<font color="#E5E5E5"> it on your server somebody</font>

599
00:20:43,800 --> 00:20:46,169
else's you can use the same thing

600
00:20:44,760 --> 00:20:48,420
against everybody but this<font color="#E5E5E5"> really kind</font>

601
00:20:46,170 --> 00:20:50,610
<font color="#E5E5E5">of required teams to work for it if they</font>

602
00:20:48,420 --> 00:20:52,440
wanted<font color="#CCCCCC"> to feel under discover it now the</font>

603
00:20:50,610 --> 00:20:55,050
script is available on github I'm a

604
00:20:52,440 --> 00:20:57,390
critelli if you decide to look at the

605
00:20:55,050 --> 00:20:59,280
code it'll should work on any any<font color="#E5E5E5"> Linux</font>

606
00:20:57,390 --> 00:21:00,840
system running asterisk please do<font color="#E5E5E5"> not</font>

607
00:20:59,280 --> 00:21:03,780
judge my scripting abilities by the

608
00:21:00,840 --> 00:21:05,699
<font color="#E5E5E5">quality of this code um I wrote it</font>

609
00:21:03,780 --> 00:21:07,320
because I was like trying to automate my

610
00:21:05,700 --> 00:21:08,640
testing process and then I eventually

611
00:21:07,320 --> 00:21:10,200
just kept growing

612
00:21:08,640 --> 00:21:12,570
growing<font color="#E5E5E5"> I said well this kind of sort of</font>

613
00:21:10,200 --> 00:21:14,940
work so you might as<font color="#CCCCCC"> well use it and if</font>

614
00:21:12,570 --> 00:21:16,710
you go back here there's literally no

615
00:21:14,940 --> 00:21:18,510
error checking in the<font color="#E5E5E5"> script anywhere so</font>

616
00:21:16,710 --> 00:21:20,550
it just assumes puppies and rainbows and

617
00:21:18,510 --> 00:21:22,290
everything works fine which occasionally

618
00:21:20,550 --> 00:21:24,090
is not the case and it'll<font color="#CCCCCC"> it'll throw</font>

619
00:21:22,290 --> 00:21:25,680
disastrous errors but it does work<font color="#E5E5E5"> and</font>

620
00:21:24,090 --> 00:21:29,669
you can kind<font color="#E5E5E5"> of get an idea of how we</font>

621
00:21:25,680 --> 00:21:31,260
how we implemented things so if you

622
00:21:29,670 --> 00:21:33,210
<font color="#CCCCCC">don't have any asterisk experience which</font>

623
00:21:31,260 --> 00:21:35,640
<font color="#E5E5E5">I'm going to assume a lot of students</font>

624
00:21:33,210 --> 00:21:37,530
may not these are things you're going to

625
00:21:35,640 --> 00:21:39,000
necessarily pick up on right away so

626
00:21:37,530 --> 00:21:40,410
they're<font color="#E5E5E5"> going to kind of require you to</font>

627
00:21:39,000 --> 00:21:42,600
dig in a little bit into the<font color="#E5E5E5"> asterisk</font>

628
00:21:40,410 --> 00:21:45,030
platform to find them so that was really

629
00:21:42,600 --> 00:21:47,310
what we were going for so here's a

630
00:21:45,030 --> 00:21:49,290
describe a little bit about the actual

631
00:21:47,310 --> 00:21:51,960
implementation this is the extensions

632
00:21:49,290 --> 00:21:57,389
com file and right on the second line

633
00:21:51,960 --> 00:21:59,100
here<font color="#E5E5E5"> in the firewall so anybody who took</font>

634
00:21:57,390 --> 00:22:00,750
a moment to look at one<font color="#CCCCCC"> of the two</font>

635
00:21:59,100 --> 00:22:02,760
config files it really matter on an

636
00:22:00,750 --> 00:22:04,200
asterisk system should immediately pick

637
00:22:02,760 --> 00:22:05,879
up on the idea that we're dropping the

638
00:22:04,200 --> 00:22:07,500
firewall every time they call somebody

639
00:22:05,880 --> 00:22:09,210
and should be able to remove that<font color="#CCCCCC"> and</font>

640
00:22:07,500 --> 00:22:12,300
then write down at the bottom is<font color="#CCCCCC"> that is</font>

641
00:22:09,210 --> 00:22:14,550
TS menu<font color="#E5E5E5"> conf include and that's where we</font>

642
00:22:12,300 --> 00:22:17,610
<font color="#E5E5E5">hid the hit the main menu for that</font>

643
00:22:14,550 --> 00:22:21,300
<font color="#E5E5E5">Trojan menu that I described and if you</font>

644
00:22:17,610 --> 00:22:24,689
<font color="#E5E5E5">look there right above right here this</font>

645
00:22:21,300 --> 00:22:27,629
<font color="#E5E5E5">is</font><font color="#CCCCCC"> the actual extension</font><font color="#E5E5E5"> 02 37 that would</font>

646
00:22:24,690 --> 00:22:29,280
have<font color="#E5E5E5"> been used to launch that menu so to</font>

647
00:22:27,630 --> 00:22:32,010
dig in a little bit to the actual code

648
00:22:29,280 --> 00:22:36,180
in the menu we have<font color="#CCCCCC"> we'll look</font><font color="#E5E5E5"> at right</font>

649
00:22:32,010 --> 00:22:37,740
here prop 6 the six prophets the<font color="#CCCCCC"> spawn</font>

650
00:22:36,180 --> 00:22:38,260
<font color="#CCCCCC">in that cat listener so we ask you to</font>

651
00:22:37,740 --> 00:22:39,640
assist

652
00:22:38,260 --> 00:22:41,650
would say the prompt which I had a

653
00:22:39,640 --> 00:22:46,510
couple<font color="#E5E5E5"> of friends of my record and then</font>

654
00:22:41,650 --> 00:22:47,800
it would say a number<font color="#E5E5E5"> 950 3757 and then</font>

655
00:22:46,510 --> 00:22:49,420
it would tell you<font color="#CCCCCC"> that you're in binary</font>

656
00:22:47,800 --> 00:22:51,250
and then it would wait for you to do

657
00:22:49,420 --> 00:22:53,430
<font color="#E5E5E5">that and then once you did enter it in</font>

658
00:22:51,250 --> 00:22:57,280
binary so once you enter this miserable

659
00:22:53,430 --> 00:22:59,290
string of ones and<font color="#E5E5E5"> zeros it would</font>

660
00:22:57,280 --> 00:23:01,440
execute this strip that we had written

661
00:22:59,290 --> 00:23:04,090
which was basically just<font color="#E5E5E5"> a shell script</font>

662
00:23:01,440 --> 00:23:05,350
22 at this bone in that cat listener and

663
00:23:04,090 --> 00:23:08,020
it would say goodbye to you because it's

664
00:23:05,350 --> 00:23:09,520
a polite boy system and then<font color="#CCCCCC"> you</font><font color="#E5E5E5"> would</font>

665
00:23:08,020 --> 00:23:11,410
be<font color="#CCCCCC"> able</font><font color="#E5E5E5"> to get a new</font><font color="#CCCCCC"> a you were to be</font>

666
00:23:09,520 --> 00:23:13,180
able<font color="#E5E5E5"> to find that cat listener next</font>

667
00:23:11,410 --> 00:23:15,010
year's idea is to actually make it more

668
00:23:13,180 --> 00:23:16,180
interactive and say<font color="#E5E5E5"> okay change the root</font>

669
00:23:15,010 --> 00:23:17,860
password what<font color="#CCCCCC"> do</font><font color="#E5E5E5"> you want to change it</font>

670
00:23:16,180 --> 00:23:19,660
to and<font color="#E5E5E5"> let</font><font color="#CCCCCC"> him enter it in and then do</font>

671
00:23:17,860 --> 00:23:20,889
things like that<font color="#E5E5E5"> but this works for our</font>

672
00:23:19,660 --> 00:23:24,220
purposes this year<font color="#E5E5E5"> and it was a lot of</font>

673
00:23:20,890 --> 00:23:26,140
fun<font color="#CCCCCC"> to do so the question you might</font>

674
00:23:24,220 --> 00:23:28,480
wonder is why exactly did we do these

675
00:23:26,140 --> 00:23:30,850
kind of ridiculous things that you may

676
00:23:28,480 --> 00:23:32,260
not see every day in an enterprise I

677
00:23:30,850 --> 00:23:33,730
kind of doubt you're<font color="#CCCCCC"> going to see</font>

678
00:23:32,260 --> 00:23:35,500
anything<font color="#CCCCCC"> like this floating around your</font>

679
00:23:33,730 --> 00:23:36,490
voice system although you know I don't

680
00:23:35,500 --> 00:23:39,280
know I don't<font color="#E5E5E5"> know what you guys are</font>

681
00:23:36,490 --> 00:23:41,020
doing for boy so we<font color="#CCCCCC"> kind of we focus</font>

682
00:23:39,280 --> 00:23:42,129
less on the<font color="#E5E5E5"> void protocol</font>

683
00:23:41,020 --> 00:23:44,050
vulnerabilities and more on

684
00:23:42,130 --> 00:23:46,030
configuration and the main reason<font color="#CCCCCC"> behind</font>

685
00:23:44,050 --> 00:23:47,620
that<font color="#CCCCCC"> is</font><font color="#E5E5E5"> kind of raise awareness that and</font>

686
00:23:46,030 --> 00:23:49,690
I'm going<font color="#E5E5E5"> to talk about this more a</font>

687
00:23:47,620 --> 00:23:51,699
little later but to raise<font color="#E5E5E5"> awareness that</font>

688
00:23:49,690 --> 00:23:53,440
Miss configuration in the way you handle

689
00:23:51,700 --> 00:23:55,690
calling is a pretty serious

690
00:23:53,440 --> 00:23:57,910
vulnerability in a voice system and so

691
00:23:55,690 --> 00:23:59,860
we kind of wanted to bring teams bring

692
00:23:57,910 --> 00:24:02,740
that into<font color="#E5E5E5"> the minds of teams who may not</font>

693
00:23:59,860 --> 00:24:05,320
have<font color="#E5E5E5"> any voice experience at all and</font>

694
00:24:02,740 --> 00:24:06,910
this is especially true in voice over IP

695
00:24:05,320 --> 00:24:08,350
and sip because you're not just dealing

696
00:24:06,910 --> 00:24:10,150
with<font color="#E5E5E5"> entering numbers into a phone</font>

697
00:24:08,350 --> 00:24:11,889
anymore you're dealing with packets and

698
00:24:10,150 --> 00:24:13,480
if you're reading data from those

699
00:24:11,890 --> 00:24:15,160
packets if you're reading headers and

700
00:24:13,480 --> 00:24:16,750
sip if you're reading<font color="#E5E5E5"> the caller ID and</font>

701
00:24:15,160 --> 00:24:17,980
things like that and then you're using

702
00:24:16,750 --> 00:24:19,600
<font color="#E5E5E5">that within your voice driven</font>

703
00:24:17,980 --> 00:24:21,700
applications that can present an attack

704
00:24:19,600 --> 00:24:24,490
surface so that was kind of our goal

705
00:24:21,700 --> 00:24:26,950
another reason<font color="#E5E5E5"> I didn't focus as heavily</font>

706
00:24:24,490 --> 00:24:29,500
on void protocol vulnerability this year

707
00:24:26,950 --> 00:24:30,820
is<font color="#CCCCCC"> because as I mentioned implementation</font>

708
00:24:29,500 --> 00:24:32,320
really is hard and<font color="#E5E5E5"> we were using these</font>

709
00:24:30,820 --> 00:24:33,669
via phones and there was like basically

710
00:24:32,320 --> 00:24:35,169
nothing that we could do I mean we

711
00:24:33,670 --> 00:24:35,530
couldn't put certificates on them to do

712
00:24:35,170 --> 00:24:37,960
so

713
00:24:35,530 --> 00:24:41,560
to excuse me sip TLS we couldn't really

714
00:24:37,960 --> 00:24:42,970
get him to do srtp I don't think so

715
00:24:41,560 --> 00:24:45,370
those were were kind of some of the

716
00:24:42,970 --> 00:24:47,860
problems<font color="#E5E5E5"> we ran into so how did this all</font>

717
00:24:45,370 --> 00:24:50,229
turn out how did it work out for<font color="#CCCCCC"> us in</font>

718
00:24:47,860 --> 00:24:52,000
<font color="#CCCCCC">the competition well from just an</font>

719
00:24:50,230 --> 00:24:53,500
operational perspective the script

720
00:24:52,000 --> 00:24:56,140
worked great setup was smooth everything

721
00:24:53,500 --> 00:24:57,460
worked it was a<font color="#CCCCCC"> beautiful thing by three</font>

722
00:24:56,140 --> 00:24:59,590
in the morning we<font color="#CCCCCC"> were done setting up</font>

723
00:24:57,460 --> 00:25:01,570
the voice stuff and I decided to lay

724
00:24:59,590 --> 00:25:03,310
<font color="#CCCCCC">down on the couch and take a nap and I</font>

725
00:25:01,570 --> 00:25:04,929
woke up at four thirty and everybody was

726
00:25:03,310 --> 00:25:07,270
standing<font color="#E5E5E5"> around the rack of equipment we</font>

727
00:25:04,930 --> 00:25:08,620
had because the sand had a problem so

728
00:25:07,270 --> 00:25:10,420
they spent the next four hours trying to

729
00:25:08,620 --> 00:25:13,810
<font color="#E5E5E5">fix that but the voice stuff worked so</font>

730
00:25:10,420 --> 00:25:14,980
go go team voice and it was<font color="#CCCCCC"> rock solid</font>

731
00:25:13,810 --> 00:25:18,010
over the course of<font color="#E5E5E5"> the weekend we had</font>

732
00:25:14,980 --> 00:25:20,230
306 calls<font color="#CCCCCC"> placed total no architectural</font>

733
00:25:18,010 --> 00:25:22,090
issues call routing worked exactly as we

734
00:25:20,230 --> 00:25:23,350
expected it just worked well and I had a

735
00:25:22,090 --> 00:25:25,179
couple people come up to me and say man

736
00:25:23,350 --> 00:25:26,560
last<font color="#E5E5E5"> year you know because we</font><font color="#CCCCCC"> redid</font>

737
00:25:25,180 --> 00:25:27,730
<font color="#CCCCCC">voices this last-minute thing they were</font>

738
00:25:26,560 --> 00:25:30,159
like man it worked really well this year

739
00:25:27,730 --> 00:25:31,690
and that that made me<font color="#CCCCCC"> happy and by the</font>

740
00:25:30,160 --> 00:25:33,430
<font color="#E5E5E5">end of the by the final day so it's a</font>

741
00:25:31,690 --> 00:25:35,170
saturday/sunday competition by the final

742
00:25:33,430 --> 00:25:36,160
day we only had two blue teams who were

743
00:25:35,170 --> 00:25:38,050
still peered up with us because

744
00:25:36,160 --> 00:25:40,240
everybody else's boxes were so hosed

745
00:25:38,050 --> 00:25:41,290
that they weren't<font color="#CCCCCC"> even really considered</font>

746
00:25:40,240 --> 00:25:43,600
<font color="#CCCCCC">we're getting voice to work they were</font>

747
00:25:41,290 --> 00:25:45,940
couldn't even log<font color="#CCCCCC"> into him so they had</font>

748
00:25:43,600 --> 00:25:47,949
<font color="#E5E5E5">they had bigger fish to fry from the</font>

749
00:25:45,940 --> 00:25:49,720
perspective<font color="#CCCCCC"> of vulnerabilities by about</font>

750
00:25:47,950 --> 00:25:51,430
2 p.m. on saturday<font color="#E5E5E5"> the first day of the</font>

751
00:25:49,720 --> 00:25:52,840
competition nobody except red team and

752
00:25:51,430 --> 00:25:55,000
<font color="#CCCCCC">really picked</font><font color="#E5E5E5"> up on the fact that there</font>

753
00:25:52,840 --> 00:25:57,040
<font color="#E5E5E5">was an entire system management console</font>

754
00:25:55,000 --> 00:25:58,390
hanging off of a voice system so we<font color="#E5E5E5"> made</font>

755
00:25:57,040 --> 00:25:59,770
it a bit<font color="#E5E5E5"> more obvious and that allowed</font>

756
00:25:58,390 --> 00:26:01,750
teams to start using them against each

757
00:25:59,770 --> 00:26:03,550
other and that was very<font color="#E5E5E5"> telling to me</font>

758
00:26:01,750 --> 00:26:05,170
because it was basically proving the

759
00:26:03,550 --> 00:26:06,490
theory<font color="#CCCCCC"> I had</font><font color="#E5E5E5"> before starting the</font>

760
00:26:05,170 --> 00:26:08,080
competition is that I'm willing<font color="#CCCCCC"> to bet</font>

761
00:26:06,490 --> 00:26:09,460
that if we put a voice system in front

762
00:26:08,080 --> 00:26:10,960
of<font color="#E5E5E5"> everybody they're going to have no</font>

763
00:26:09,460 --> 00:26:12,160
idea what to really do<font color="#E5E5E5"> with it except</font>

764
00:26:10,960 --> 00:26:15,400
cross<font color="#CCCCCC"> our fingers and hope their phone</font>

765
00:26:12,160 --> 00:26:16,630
works so the fact that nobody<font color="#E5E5E5"> really</font>

766
00:26:15,400 --> 00:26:18,370
picked<font color="#E5E5E5"> up on this entire set of</font>

767
00:26:16,630 --> 00:26:20,590
vulnerabilities we built right into<font color="#E5E5E5"> the</font>

768
00:26:18,370 --> 00:26:21,739
voice system was kind of telling me in

769
00:26:20,590 --> 00:26:23,600
terms of

770
00:26:21,740 --> 00:26:25,970
in terms of where people's voice

771
00:26:23,600 --> 00:26:28,340
knowledge lies which<font color="#E5E5E5"> I thought was kind</font>

772
00:26:25,970 --> 00:26:30,260
of you know<font color="#E5E5E5"> kind of good and kind of bad</font>

773
00:26:28,340 --> 00:26:33,020
so I'll<font color="#E5E5E5"> talk a little bit more about</font>

774
00:26:30,260 --> 00:26:34,760
<font color="#CCCCCC">that but moving forward to next year we</font>

775
00:26:33,020 --> 00:26:37,670
<font color="#E5E5E5">would like to record and timestamp all</font>

776
00:26:34,760 --> 00:26:39,230
calls we certainly<font color="#CCCCCC"> did not do that this</font>

777
00:26:37,670 --> 00:26:40,460
year because<font color="#CCCCCC"> we didn't tell competitors</font>

778
00:26:39,230 --> 00:26:42,170
we were recording them so that would<font color="#CCCCCC"> be</font>

779
00:26:40,460 --> 00:26:45,970
very illegal so there certainly isn't a

780
00:26:42,170 --> 00:26:48,350
collection of phone calls on my laptop I

781
00:26:45,970 --> 00:26:49,880
want<font color="#E5E5E5"> to get call statistics I would</font>

782
00:26:48,350 --> 00:26:51,709
<font color="#E5E5E5">really like to get nice charts and</font>

783
00:26:49,880 --> 00:26:53,510
graphs and pretty things like that there

784
00:26:51,710 --> 00:26:55,370
are tools that will do this for asterisk

785
00:26:53,510 --> 00:26:56,870
and I have four in the morning on

786
00:26:55,370 --> 00:26:58,879
saturday i was standing there setting up

787
00:26:56,870 --> 00:27:00,199
one such tool and I was just hammering

788
00:26:58,880 --> 00:27:01,400
things in my computer<font color="#E5E5E5"> and I'm like I'm</font>

789
00:27:00,200 --> 00:27:03,830
<font color="#E5E5E5">not getting anything done I'm too tired</font>

790
00:27:01,400 --> 00:27:05,630
so I took a break<font color="#E5E5E5"> from that and that's</font>

791
00:27:03,830 --> 00:27:07,250
when I had mentioned<font color="#CCCCCC"> we had we had</font><font color="#E5E5E5"> an</font>

792
00:27:05,630 --> 00:27:08,929
issue with the sand so I<font color="#E5E5E5"> wasn't able to</font>

793
00:27:07,250 --> 00:27:11,059
get<font color="#E5E5E5"> back to that after</font><font color="#CCCCCC"> I after I took a</font>

794
00:27:08,929 --> 00:27:12,170
nap but one of the unfortunate things

795
00:27:11,059 --> 00:27:16,190
that happened because<font color="#E5E5E5"> of that is I</font>

796
00:27:12,170 --> 00:27:17,929
turned off comma separated value CSV CDR

797
00:27:16,190 --> 00:27:19,340
collection call detail record collection

798
00:27:17,929 --> 00:27:22,280
so we ended up<font color="#E5E5E5"> with that without any</font>

799
00:27:19,340 --> 00:27:23,600
sort<font color="#E5E5E5"> of possible without any sort of</font>

800
00:27:22,280 --> 00:27:25,370
possible information on what calls

801
00:27:23,600 --> 00:27:27,050
replaced and we certainly cannot use the

802
00:27:25,370 --> 00:27:29,678
file names from call recordings that did

803
00:27:27,050 --> 00:27:31,940
not happen because they didn't<font color="#CCCCCC"> happen so</font>

804
00:27:29,679 --> 00:27:33,590
moving<font color="#CCCCCC"> forward I'd also really like to</font>

805
00:27:31,940 --> 00:27:35,240
see some better voice injects and voice

806
00:27:33,590 --> 00:27:36,949
challenges<font color="#E5E5E5"> I would like to focus a</font>

807
00:27:35,240 --> 00:27:38,390
little more on protocol security

808
00:27:36,950 --> 00:27:40,130
implementation I would like to tell

809
00:27:38,390 --> 00:27:41,630
teams hey we want<font color="#E5E5E5"> you to implement sip</font>

810
00:27:40,130 --> 00:27:43,460
TLS and your peer in relationship

811
00:27:41,630 --> 00:27:44,929
between blue and white team and that was

812
00:27:43,460 --> 00:27:46,760
actually<font color="#E5E5E5"> something I lab and tested</font>

813
00:27:44,929 --> 00:27:49,040
before the competition and just didn't

814
00:27:46,760 --> 00:27:51,500
really<font color="#E5E5E5"> have enough time to to build a</font>

815
00:27:49,040 --> 00:27:53,780
<font color="#E5E5E5">good operational way to do it so that's</font>

816
00:27:51,500 --> 00:27:56,179
on the that's<font color="#E5E5E5"> on the agenda for next</font>

817
00:27:53,780 --> 00:27:57,830
year and I'd<font color="#E5E5E5"> love</font><font color="#CCCCCC"> to see a</font><font color="#E5E5E5"> little more a</font>

818
00:27:56,179 --> 00:28:00,200
little more

819
00:27:57,830 --> 00:28:02,059
better voice challenges and voice bucket

820
00:28:00,200 --> 00:28:03,409
list items and chattin and injects and

821
00:28:02,059 --> 00:28:05,178
things like that<font color="#CCCCCC"> and</font><font color="#E5E5E5"> I would really</font>

822
00:28:03,409 --> 00:28:06,890
really like to make voices scored

823
00:28:05,179 --> 00:28:08,899
service because it really should be it's

824
00:28:06,890 --> 00:28:11,779
an integral part of any IT organization

825
00:28:08,899 --> 00:28:13,428
anybody will work for and I would like

826
00:28:11,779 --> 00:28:16,070
some of the scoring to be based<font color="#E5E5E5"> on that</font>

827
00:28:13,429 --> 00:28:17,659
and<font color="#E5E5E5"> it presents a unique issue to score</font>

828
00:28:16,070 --> 00:28:19,789
voice as a service in a security

829
00:28:17,659 --> 00:28:21,860
competition because most services like

830
00:28:19,789 --> 00:28:23,929
DNS you can just query them and it will

831
00:28:21,860 --> 00:28:26,149
return if it returns what you expect you

832
00:28:23,929 --> 00:28:27,559
say<font color="#E5E5E5"> okay great but voice we have to</font>

833
00:28:26,149 --> 00:28:28,699
query to see<font color="#CCCCCC"> okay you're listening on</font>

834
00:28:27,559 --> 00:28:31,220
your<font color="#CCCCCC"> sip poor grade are you actually</font>

835
00:28:28,700 --> 00:28:33,019
talking to<font color="#E5E5E5"> the White team server which</font>

836
00:28:31,220 --> 00:28:34,820
we represent your service provider in

837
00:28:33,019 --> 00:28:36,919
<font color="#CCCCCC">the real world does your call routing</font>

838
00:28:34,820 --> 00:28:39,529
actually work so I have some<font color="#CCCCCC"> ideas of</font>

839
00:28:36,919 --> 00:28:41,059
how I want<font color="#CCCCCC"> to</font><font color="#E5E5E5"> do that</font><font color="#CCCCCC"> probably do things</font>

840
00:28:39,529 --> 00:28:43,159
like run checks on the White team<font color="#E5E5E5"> server</font>

841
00:28:41,059 --> 00:28:44,510
see who's peered up who's not and if

842
00:28:43,159 --> 00:28:46,399
they're peered try and run some tests

843
00:28:44,510 --> 00:28:47,870
calls and and things like that<font color="#E5E5E5"> so I do</font>

844
00:28:46,399 --> 00:28:49,879
<font color="#E5E5E5">have an idea how I want to do</font><font color="#CCCCCC"> it i just</font>

845
00:28:47,870 --> 00:28:51,799
<font color="#E5E5E5">have to talk to the scoring engine guys</font>

846
00:28:49,880 --> 00:28:55,279
who write that and hopefully we'll be

847
00:28:51,799 --> 00:28:59,029
able to<font color="#E5E5E5"> do that next year moving</font><font color="#CCCCCC"> toward</font>

848
00:28:55,279 --> 00:29:00,620
the future as i mentioned protocol

849
00:28:59,029 --> 00:29:01,760
vulnerability stuff<font color="#E5E5E5"> i really like to get</font>

850
00:29:00,620 --> 00:29:03,469
better phones because these of aya

851
00:29:01,760 --> 00:29:05,510
phones or pain<font color="#CCCCCC"> in</font><font color="#E5E5E5"> the ass to deal with</font>

852
00:29:03,470 --> 00:29:07,730
and that's not because they're bad

853
00:29:05,510 --> 00:29:09,740
phones it's because the idea<font color="#E5E5E5"> right now</font>

854
00:29:07,730 --> 00:29:12,019
and voice and unified communications is

855
00:29:09,740 --> 00:29:14,419
vendor lockdown on the system so you buy

856
00:29:12,019 --> 00:29:16,880
in a via system and you put<font color="#CCCCCC"> it in iraq</font>

857
00:29:14,419 --> 00:29:18,260
and all your phones work so you're<font color="#E5E5E5"> not</font>

858
00:29:16,880 --> 00:29:20,029
you know they're<font color="#CCCCCC"> not really</font><font color="#E5E5E5"> designed to</font>

859
00:29:18,260 --> 00:29:22,129
talk to asterisk they will do sip and

860
00:29:20,029 --> 00:29:23,539
they will talk to it but they're not

861
00:29:22,130 --> 00:29:27,049
really<font color="#CCCCCC"> there's there's a lot of caveats</font>

862
00:29:23,539 --> 00:29:28,220
we run into ubiquiti networks if anybody

863
00:29:27,049 --> 00:29:30,110
is familiar with<font color="#CCCCCC"> them they make fairly</font>

864
00:29:28,220 --> 00:29:32,510
cheap access points and stuff they have

865
00:29:30,110 --> 00:29:35,269
these<font color="#E5E5E5"> beautiful beautiful android based</font>

866
00:29:32,510 --> 00:29:37,789
phones that are basically this nice desk

867
00:29:35,269 --> 00:29:39,260
phone that runs a full android stat runs

868
00:29:37,789 --> 00:29:40,700
full android on and<font color="#E5E5E5"> i'm like these</font><font color="#CCCCCC"> would</font>

869
00:29:39,260 --> 00:29:42,769
be awesome because we could do android

870
00:29:40,700 --> 00:29:46,429
exploitation on it and we could do voice

871
00:29:42,769 --> 00:29:48,080
over IP stuff on it so I know if anybody

872
00:29:46,429 --> 00:29:50,450
wants to throw a lot of<font color="#CCCCCC"> money at some</font>

873
00:29:48,080 --> 00:29:52,610
<font color="#E5E5E5">really cool people let me know</font>

874
00:29:50,450 --> 00:29:54,230
that's on<font color="#E5E5E5"> the agenda and then I really</font>

875
00:29:52,610 --> 00:29:55,610
do would like to as i mentioned do some

876
00:29:54,230 --> 00:29:58,220
instant messaging do some Unified

877
00:29:55,610 --> 00:30:00,050
Communication stuff kind of integrated

878
00:29:58,220 --> 00:30:02,690
in more to what you might see in a

879
00:30:00,050 --> 00:30:04,639
medium to larger sized enterprise so

880
00:30:02,690 --> 00:30:07,370
this<font color="#CCCCCC"> is all fun this is all cool</font><font color="#E5E5E5"> but</font>

881
00:30:04,640 --> 00:30:11,270
where exactly do we build this into the

882
00:30:07,370 --> 00:30:13,489
real world well this demonstrates a

883
00:30:11,270 --> 00:30:15,800
couple of things<font color="#E5E5E5"> as i mentioned</font><font color="#CCCCCC"> voices</font>

884
00:30:13,490 --> 00:30:17,240
and always a well-understood service and

885
00:30:15,800 --> 00:30:19,129
your voice applications can be very

886
00:30:17,240 --> 00:30:20,450
vulnerable they may not<font color="#CCCCCC"> be as exciting</font>

887
00:30:19,130 --> 00:30:23,120
as the vulnerabilities we built they're

888
00:30:20,450 --> 00:30:24,650
probably not going to be because<font color="#CCCCCC"> I doubt</font>

889
00:30:23,120 --> 00:30:26,449
as I said I doubt anybody has a trojan

890
00:30:24,650 --> 00:30:29,510
IV arm and you hanging off your voice

891
00:30:26,450 --> 00:30:31,160
system but<font color="#CCCCCC"> the reality is that we're</font>

892
00:30:29,510 --> 00:30:32,810
moving<font color="#E5E5E5"> towards communication driven</font>

893
00:30:31,160 --> 00:30:34,430
applications we're doing<font color="#E5E5E5"> things like</font>

894
00:30:32,810 --> 00:30:36,080
paying our bills via phone we have<font color="#E5E5E5"> been</font>

895
00:30:34,430 --> 00:30:38,180
for a while and we have to ask ourselves

896
00:30:36,080 --> 00:30:40,129
a question are those applications secure

897
00:30:38,180 --> 00:30:42,290
are<font color="#E5E5E5"> the relationships that your voice</font>

898
00:30:40,130 --> 00:30:44,240
system has with those applications

899
00:30:42,290 --> 00:30:46,879
secure with those back-end system secure

900
00:30:44,240 --> 00:30:48,650
a good example there's a file in the

901
00:30:46,880 --> 00:30:51,590
asterisk source code called read me

902
00:30:48,650 --> 00:30:54,830
seriously about best practices txt and

903
00:30:51,590 --> 00:30:57,709
it takes this example right here<font color="#E5E5E5"> that i</font>

904
00:30:54,830 --> 00:31:00,020
have this<font color="#CCCCCC"> 506 / i feel like crap and</font>

905
00:30:57,710 --> 00:31:01,580
it's basically<font color="#CCCCCC"> going to the idea that</font>

906
00:31:00,020 --> 00:31:03,260
signaling packets<font color="#E5E5E5"> or packets that you're</font>

907
00:31:01,580 --> 00:31:05,270
ingesting text data if you're ingesting

908
00:31:03,260 --> 00:31:06,620
that<font color="#E5E5E5"> into your applications you have</font><font color="#CCCCCC"> to</font>

909
00:31:05,270 --> 00:31:08,000
make sure<font color="#E5E5E5"> you're</font><font color="#CCCCCC"> doing proper input and</font>

910
00:31:06,620 --> 00:31:10,909
output sanitization because in this case

911
00:31:08,000 --> 00:31:12,350
this would not only dial extension 500

912
00:31:10,910 --> 00:31:16,190
but it would also tell the<font color="#CCCCCC"> sip channel</font>

913
00:31:12,350 --> 00:31:17,149
driver to dial an external call so like

914
00:31:16,190 --> 00:31:18,470
I said we're not<font color="#E5E5E5"> just dealing with</font>

915
00:31:17,150 --> 00:31:21,650
<font color="#CCCCCC">numbers anymore and that's</font><font color="#E5E5E5"> very</font>

916
00:31:18,470 --> 00:31:23,360
important so this<font color="#E5E5E5"> pros is some serious</font>

917
00:31:21,650 --> 00:31:26,300
challenges<font color="#E5E5E5"> for administrators and</font>

918
00:31:23,360 --> 00:31:27,979
implementers of voice systems we have<font color="#CCCCCC"> a</font>

919
00:31:26,300 --> 00:31:29,570
publicly facing voice system that's

920
00:31:27,980 --> 00:31:30,890
interfacing with internal systems we

921
00:31:29,570 --> 00:31:32,419
have<font color="#E5E5E5"> to make sure we're auditing that</font>

922
00:31:30,890 --> 00:31:34,250
correctly we have to make sure that

923
00:31:32,420 --> 00:31:36,050
we're not<font color="#E5E5E5"> just you</font><font color="#CCCCCC"> know scanning the</font>

924
00:31:34,250 --> 00:31:37,310
Linux box and saying up looks good<font color="#E5E5E5"> but</font>

925
00:31:36,050 --> 00:31:39,250
are we actually auditing<font color="#CCCCCC"> the voice</font>

926
00:31:37,310 --> 00:31:41,870
applications like we may audit any other

927
00:31:39,250 --> 00:31:43,610
externally facing application like a web

928
00:31:41,870 --> 00:31:45,560
application for example so those are

929
00:31:43,610 --> 00:31:47,290
important considerations for as we move

930
00:31:45,560 --> 00:31:49,870
toward communication driven

931
00:31:47,290 --> 00:31:52,540
architectures so and then in the case of

932
00:31:49,870 --> 00:31:54,159
protocol security we have to ask how are

933
00:31:52,540 --> 00:31:55,210
<font color="#E5E5E5">we implementing that how are we</font>

934
00:31:54,160 --> 00:31:56,230
implementing it in a mixed bender

935
00:31:55,210 --> 00:31:57,730
environment is our<font color="#E5E5E5"> current</font>

936
00:31:56,230 --> 00:31:59,680
implementation if it's one vendor

937
00:31:57,730 --> 00:32:01,120
scalable to the idea that in five<font color="#CCCCCC"> years</font>

938
00:31:59,680 --> 00:32:03,250
we may say hey I'd really like to get

939
00:32:01,120 --> 00:32:05,260
this<font color="#CCCCCC"> softphone by another vendor will</font>

940
00:32:03,250 --> 00:32:07,390
that work with our system if you're

941
00:32:05,260 --> 00:32:08,980
using security the<font color="#E5E5E5"> checkboxes what is it</font>

942
00:32:07,390 --> 00:32:11,680
<font color="#E5E5E5">actually doing what does that mean you</font>

943
00:32:08,980 --> 00:32:13,900
know sniff packets is you know if you're

944
00:32:11,680 --> 00:32:15,550
checking security is it just<font color="#E5E5E5"> doing sip</font>

945
00:32:13,900 --> 00:32:17,080
encryption signaling encryption or is it

946
00:32:15,550 --> 00:32:20,200
encrypting your media as<font color="#CCCCCC"> well and how</font>

947
00:32:17,080 --> 00:32:22,330
and does<font color="#E5E5E5"> that work</font><font color="#CCCCCC"> for</font><font color="#E5E5E5"> you so that's</font>

948
00:32:20,200 --> 00:32:23,920
that's important<font color="#E5E5E5"> and then as you peer up</font>

949
00:32:22,330 --> 00:32:26,050
with the outside world to<font color="#E5E5E5"> make external</font>

950
00:32:23,920 --> 00:32:27,580
calls<font color="#CCCCCC"> as people typically move</font><font color="#E5E5E5"> toward</font>

951
00:32:26,050 --> 00:32:31,060
buying SIP trunks now instead<font color="#E5E5E5"> of</font>

952
00:32:27,580 --> 00:32:32,679
standard telephony trunks how is your

953
00:32:31,060 --> 00:32:35,169
provider implementing security are they

954
00:32:32,680 --> 00:32:36,550
doing<font color="#E5E5E5"> sep TLS are they doing you know</font>

955
00:32:35,170 --> 00:32:38,140
are<font color="#E5E5E5"> they taking the proper measures to</font>

956
00:32:36,550 --> 00:32:39,490
ensure<font color="#CCCCCC"> that your voice traffic is secure</font>

957
00:32:38,140 --> 00:32:41,200
and this is<font color="#E5E5E5"> very important because</font>

958
00:32:39,490 --> 00:32:43,180
people have a certain<font color="#E5E5E5"> expectation of</font>

959
00:32:41,200 --> 00:32:44,710
privacy with voice that they may not

960
00:32:43,180 --> 00:32:46,480
with other systems because they've<font color="#CCCCCC"> been</font>

961
00:32:44,710 --> 00:32:48,280
using voice forever and they just assume

962
00:32:46,480 --> 00:32:51,520
<font color="#E5E5E5">that their voice system is going to be</font>

963
00:32:48,280 --> 00:32:53,080
secure so these are important so some

964
00:32:51,520 --> 00:32:54,190
takeaways<font color="#CCCCCC"> I'd like to bring to anybody</font>

965
00:32:53,080 --> 00:32:56,379
here who is either a competition

966
00:32:54,190 --> 00:32:58,630
organiser or a competitor of a security

967
00:32:56,380 --> 00:33:00,640
<font color="#CCCCCC">competition if you're an organizer build</font>

968
00:32:58,630 --> 00:33:02,170
voice in your competition do cool stuff

969
00:33:00,640 --> 00:33:03,580
with<font color="#CCCCCC"> it it's a lot of</font><font color="#E5E5E5"> fun</font><font color="#CCCCCC"> and it can</font>

970
00:33:02,170 --> 00:33:05,620
really present a learning opportunity

971
00:33:03,580 --> 00:33:07,419
for your competitors for service they

972
00:33:05,620 --> 00:33:09,340
might not<font color="#E5E5E5"> be</font><font color="#CCCCCC"> that familiar with build</font>

973
00:33:07,420 --> 00:33:11,200
good injects and challenges that push

974
00:33:09,340 --> 00:33:12,790
teams to do things like secure their boy

975
00:33:11,200 --> 00:33:14,080
system to integrate their voice system

976
00:33:12,790 --> 00:33:15,760
with other systems<font color="#CCCCCC"> that they're</font>

977
00:33:14,080 --> 00:33:17,020
responsible for<font color="#E5E5E5"> and then make your</font>

978
00:33:15,760 --> 00:33:18,910
vulnerabilities cool because that's

979
00:33:17,020 --> 00:33:23,080
obviously the<font color="#CCCCCC"> most fun part let's be</font>

980
00:33:18,910 --> 00:33:24,610
real and you know also<font color="#E5E5E5"> integrate voice</font>

981
00:33:23,080 --> 00:33:26,500
in the spirit of<font color="#E5E5E5"> the competition so we</font>

982
00:33:24,610 --> 00:33:28,000
<font color="#E5E5E5">would since it isn't</font><font color="#CCCCCC"> is since each team</font>

983
00:33:26,500 --> 00:33:30,730
blue team does represent an IT

984
00:33:28,000 --> 00:33:32,620
department we called them and we pretend

985
00:33:30,730 --> 00:33:33,850
to<font color="#E5E5E5"> be users and then we be confused and</font>

986
00:33:32,620 --> 00:33:35,679
ask them for<font color="#E5E5E5"> tech support help and then</font>

987
00:33:33,850 --> 00:33:37,330
get really belligerent with them there's

988
00:33:35,680 --> 00:33:39,130
a great video of me<font color="#CCCCCC"> on</font><font color="#E5E5E5"> facebook from a</font>

989
00:33:37,330 --> 00:33:41,169
<font color="#E5E5E5">couple</font><font color="#CCCCCC"> years ago just screaming and</font>

990
00:33:39,130 --> 00:33:42,360
insulting some team and trying to<font color="#E5E5E5"> get</font>

991
00:33:41,170 --> 00:33:43,590
<font color="#E5E5E5">them to calm me down and</font><font color="#CCCCCC"> they did</font>

992
00:33:42,360 --> 00:33:46,110
<font color="#CCCCCC">and they did a good job and</font><font color="#E5E5E5"> they scored</font>

993
00:33:43,590 --> 00:33:47,820
well for it so you know use use the

994
00:33:46,110 --> 00:33:49,439
actual voice stuff to don't just use it

995
00:33:47,820 --> 00:33:51,060
<font color="#E5E5E5">as a vulnerability platform for your</font>

996
00:33:49,440 --> 00:33:53,310
competition and then take advantage of

997
00:33:51,060 --> 00:33:55,889
things like asterisk or freepbx or any

998
00:33:53,310 --> 00:33:57,750
of the number<font color="#CCCCCC"> of hundreds of smart</font>

999
00:33:55,890 --> 00:33:59,310
softphone clients that exist out there

1000
00:33:57,750 --> 00:34:01,170
if you're if you're<font color="#E5E5E5"> organizing a</font>

1001
00:33:59,310 --> 00:34:02,700
competition if you have any questions my

1002
00:34:01,170 --> 00:34:04,920
contact info is in the slide I'd be

1003
00:34:02,700 --> 00:34:06,570
happy to<font color="#E5E5E5"> help</font><font color="#CCCCCC"> you build</font><font color="#E5E5E5"> a really cool</font>

1004
00:34:04,920 --> 00:34:08,909
voice architecture for your competition

1005
00:34:06,570 --> 00:34:10,219
now if your competitor know your voice

1006
00:34:08,909 --> 00:34:12,600
system because everyone is different

1007
00:34:10,219 --> 00:34:14,609
asterisk is different from freepbx which

1008
00:34:12,600 --> 00:34:17,310
is different from god forbid cisco

1009
00:34:14,610 --> 00:34:20,130
callmanager<font color="#E5E5E5"> express which is different</font>

1010
00:34:17,310 --> 00:34:23,639
from every<font color="#CCCCCC"> god in the world forbid any</font>

1011
00:34:20,130 --> 00:34:25,500
sort of avaya platform if you're insane

1012
00:34:23,639 --> 00:34:26,879
<font color="#CCCCCC">if they gave you that in a competition</font>

1013
00:34:25,500 --> 00:34:29,820
environments because it'd<font color="#CCCCCC"> be so</font>

1014
00:34:26,880 --> 00:34:31,200
expensive to<font color="#E5E5E5"> do so know your system and</font>

1015
00:34:29,820 --> 00:34:34,760
know the<font color="#E5E5E5"> clients are going to be using</font>

1016
00:34:31,199 --> 00:34:38,730
<font color="#E5E5E5">soft phones we use predefined ports for</font>

1017
00:34:34,760 --> 00:34:40,380
for RTP in some cases cell phones and

1018
00:34:38,730 --> 00:34:43,230
voice software have specific

1019
00:34:40,380 --> 00:34:44,340
vulnerabilities so there was an<font color="#E5E5E5"> email</font>

1020
00:34:43,230 --> 00:34:46,500
last night i'm one of the<font color="#E5E5E5"> second mailing</font>

1021
00:34:44,340 --> 00:34:50,060
lists about there's a couple<font color="#E5E5E5"> days ago</font>

1022
00:34:46,500 --> 00:34:52,980
about<font color="#CCCCCC"> how asterisk is open to a to</font>

1023
00:34:50,060 --> 00:34:55,440
accepting arbitrary certificates for sip

1024
00:34:52,980 --> 00:34:58,170
TLS if you put a null byte it's if it's

1025
00:34:55,440 --> 00:35:00,900
vulnerable to an old bike vulnerability

1026
00:34:58,170 --> 00:35:02,100
in an<font color="#CCCCCC"> SSL so you know know the system</font>

1027
00:35:00,900 --> 00:35:03,570
know the platforms<font color="#E5E5E5"> are going to be using</font>

1028
00:35:02,100 --> 00:35:04,770
<font color="#E5E5E5">because they are just software platforms</font>

1029
00:35:03,570 --> 00:35:06,990
and may<font color="#E5E5E5"> have their own vulnerabilities</font>

1030
00:35:04,770 --> 00:35:09,000
and get offensive do things like war

1031
00:35:06,990 --> 00:35:10,140
dialing scan sip<font color="#E5E5E5"> network play with some</font>

1032
00:35:09,000 --> 00:35:13,230
of<font color="#E5E5E5"> the tools Callie's got a lot of</font>

1033
00:35:10,140 --> 00:35:15,000
built-in tools escapee has built-in sip

1034
00:35:13,230 --> 00:35:17,280
signaling abilities so do stuff like

1035
00:35:15,000 --> 00:35:18,720
that<font color="#CCCCCC"> and then of course you know learn I</font>

1036
00:35:17,280 --> 00:35:20,850
really<font color="#E5E5E5"> enjoyed this I got into doing</font>

1037
00:35:18,720 --> 00:35:22,169
voice stuff about a year ago on my own

1038
00:35:20,850 --> 00:35:24,000
just because<font color="#E5E5E5"> I took a void class at</font>

1039
00:35:22,170 --> 00:35:25,140
school and<font color="#CCCCCC"> really kind</font><font color="#E5E5E5"> of went above the</font>

1040
00:35:24,000 --> 00:35:26,840
course works I thought it was<font color="#E5E5E5"> really</font>

1041
00:35:25,140 --> 00:35:28,759
<font color="#CCCCCC">interesting</font><font color="#E5E5E5"> stuff</font>

1042
00:35:26,840 --> 00:35:30,920
that's what I encourage<font color="#CCCCCC"> you to do and as</font>

1043
00:35:28,760 --> 00:35:32,900
I mentioned<font color="#CCCCCC"> tools and tactics there's a</font>

1044
00:35:30,920 --> 00:35:35,630
fantastic article on<font color="#E5E5E5"> the backtrack linux</font>

1045
00:35:32,900 --> 00:35:38,540
site about<font color="#E5E5E5"> assorted vulnerabilities</font>

1046
00:35:35,630 --> 00:35:40,310
their implementations and then assorted

1047
00:35:38,540 --> 00:35:42,259
tools that you can use<font color="#CCCCCC"> to execute</font>

1048
00:35:40,310 --> 00:35:44,470
attacks against those specific voice

1049
00:35:42,260 --> 00:35:46,460
<font color="#CCCCCC">phoner abilities this is a great article</font>

1050
00:35:44,470 --> 00:35:48,109
describes tools for extension

1051
00:35:46,460 --> 00:35:49,490
enumeration for call capture and

1052
00:35:48,110 --> 00:35:51,560
playback which you can actually<font color="#CCCCCC"> do</font><font color="#E5E5E5"> right</font>

1053
00:35:49,490 --> 00:35:54,410
in wireshark and then<font color="#CCCCCC"> metasploit has</font>

1054
00:35:51,560 --> 00:35:55,670
some sip functionality some sip modules

1055
00:35:54,410 --> 00:35:57,680
built in as well as some

1056
00:35:55,670 --> 00:36:00,440
platform-specific exploits for<font color="#E5E5E5"> you know</font>

1057
00:35:57,680 --> 00:36:02,450
an asterisk or freepbx or something so

1058
00:36:00,440 --> 00:36:04,010
to kind of wrap up<font color="#CCCCCC"> I would really like</font>

1059
00:36:02,450 --> 00:36:05,359
to thank and provide links more

1060
00:36:04,010 --> 00:36:08,000
specifically because these slides<font color="#CCCCCC"> will</font>

1061
00:36:05,360 --> 00:36:09,050
be<font color="#E5E5E5"> online</font><font color="#CCCCCC"> RIT sparsa the security</font>

1062
00:36:08,000 --> 00:36:11,740
practice and research student

1063
00:36:09,050 --> 00:36:13,820
association blue white and red team's of

1064
00:36:11,740 --> 00:36:15,020
information security<font color="#E5E5E5"> talent search 12</font>

1065
00:36:13,820 --> 00:36:17,090
and in the<font color="#CCCCCC"> department of computing</font>

1066
00:36:15,020 --> 00:36:19,970
security 24 piquing my interest in this

1067
00:36:17,090 --> 00:36:21,440
topic<font color="#CCCCCC"> and with that thank you for</font>

1068
00:36:19,970 --> 00:36:23,000
<font color="#E5E5E5">listening and I'd love to</font><font color="#CCCCCC"> open up to</font>

1069
00:36:21,440 --> 00:36:25,190
some questions and comments i think i

1070
00:36:23,000 --> 00:36:32,500
have was told i have a<font color="#CCCCCC"> ten minutes left</font>

1071
00:36:25,190 --> 00:36:32,500
so yeah what's your<font color="#E5E5E5"> opinion of like</font>

1072
00:36:33,549 --> 00:36:39,559
so I'm<font color="#CCCCCC"> not I've</font><font color="#E5E5E5"> never used uma I think</font>

1073
00:36:37,730 --> 00:36:40,609
typically I'm if I'm doing something in

1074
00:36:39,559 --> 00:36:42,140
an enterprise I would<font color="#E5E5E5"> always be</font>

1075
00:36:40,609 --> 00:36:46,250
skeptical of something I pick up at best

1076
00:36:42,140 --> 00:36:47,960
buy you know a lot<font color="#E5E5E5"> of the common way to</font>

1077
00:36:46,250 --> 00:36:49,460
do voice in an enterprise<font color="#E5E5E5"> right now is</font>

1078
00:36:47,960 --> 00:36:51,289
to buy like a cisco system own abaya

1079
00:36:49,460 --> 00:36:53,779
system and then pay atrocious amounts in

1080
00:36:51,289 --> 00:36:55,099
licensing but<font color="#E5E5E5"> I think if you're willing</font>

1081
00:36:53,779 --> 00:36:56,690
if<font color="#E5E5E5"> you have somebody's willing to be a</font>

1082
00:36:55,099 --> 00:36:59,299
subject<font color="#CCCCCC"> matter expert in a system like</font>

1083
00:36:56,690 --> 00:37:00,740
asterisk or platform like freepbx and

1084
00:36:59,299 --> 00:37:02,869
<font color="#CCCCCC">it's kind of willing to go the extra</font>

1085
00:37:00,740 --> 00:37:05,058
mile you can get it running a good good

1086
00:37:02,869 --> 00:37:06,890
enterprise<font color="#E5E5E5"> voice architecture running on</font>

1087
00:37:05,059 --> 00:37:08,599
something<font color="#E5E5E5"> like that and those kinds of</font>

1088
00:37:06,890 --> 00:37:10,970
systems you know the free software is

1089
00:37:08,599 --> 00:37:12,890
particularly conducive to like<font color="#E5E5E5"> I said</font>

1090
00:37:10,970 --> 00:37:15,379
<font color="#E5E5E5">building voice driven applications in</font>

1091
00:37:12,890 --> 00:37:16,400
your enterprise so and that's not really

1092
00:37:15,380 --> 00:37:18,259
<font color="#CCCCCC">an answer you're looking for them it's</font>

1093
00:37:16,400 --> 00:37:23,079
not<font color="#E5E5E5"> too familiar I've</font><font color="#CCCCCC"> just</font><font color="#E5E5E5"> never used it</font>

1094
00:37:18,259 --> 00:37:23,079
but anybody else

1095
00:37:23,240 --> 00:37:27,859
well well thank you for<font color="#CCCCCC"> your</font><font color="#E5E5E5"> time</font>

1096
00:37:25,750 --> 00:37:30,020
appreciate it hope maybe you learned a

1097
00:37:27,860 --> 00:37:32,360
little something today my contact infos

1098
00:37:30,020 --> 00:37:34,759
on here my these slides will be<font color="#E5E5E5"> on my</font>

1099
00:37:32,360 --> 00:37:36,860
site and let me<font color="#E5E5E5"> know if you have any</font>

1100
00:37:34,760 --> 00:37:38,300
questions and enjoy the<font color="#E5E5E5"> rest of the joy</font>

1101
00:37:36,860 --> 00:37:40,330
the rest of your<font color="#E5E5E5"> b-side</font><font color="#CCCCCC"> saying go eat</font>

1102
00:37:38,300 --> 00:37:40,330
lunch

