1
00:00:00,760 --> 00:00:05,660
yes thank you a.m. so my names for the
phone I'm going to give a talk about

2
00:00:05,660 --> 00:00:08,870
the same origin policy rosas and

3
00:00:08,870 --> 00:00:12,099
yet that stuck and

4
00:00:12,099 --> 00:00:15,599
so we're going to talk a bit about me I
from snow too much

5
00:00:15,599 --> 00:00:18,820
then go to diverse organization why does
make sense

6
00:00:18,820 --> 00:00:22,760
think and talk about the same major
policy then going to explain

7
00:00:22,760 --> 00:00:26,400
the same origin policy and them going to
do

8
00:00:26,400 --> 00:00:30,380
shot evaluation so some bypasses and
then we're going to look at

9
00:00:30,380 --> 00:00:33,380
other that means better security
policies

10
00:00:33,380 --> 00:00:36,399
and then go to complete ok it

11
00:00:36,399 --> 00:00:40,040
a.m. I did my IT security degree last
year

12
00:00:40,040 --> 00:00:43,750
and kind of study the old same origin
policy browse the security thing

13
00:00:43,750 --> 00:00:48,320
and if you want the worried the whole
thing somebody asked me about this

14
00:00:48,320 --> 00:00:51,660
this is the link them i working with the
right now

15
00:00:51,660 --> 00:00:55,050
as security engineer I do KCBS and if
any questions

16
00:00:55,050 --> 00:00:58,859
just ask lot about me but about the slut
subsist

17
00:00:58,859 --> 00:01:03,520
and okay why doesn't make sense to talk
about the same origin policy

18
00:01:03,520 --> 00:01:07,810
I'm going to explain what and
unification means and how severe a sale

19
00:01:07,810 --> 00:01:12,510
same origin policy policy bypass can
actually become okay

20
00:01:12,510 --> 00:01:16,509
let's assume we're on some evil web page
and connects the include

21
00:01:16,509 --> 00:01:19,590
other webpages in terms of my friends
that's not

22
00:01:19,590 --> 00:01:24,229
something you every website can do that
and a.m.

23
00:01:24,229 --> 00:01:27,659
obviously when the browser does
something like that

24
00:01:27,659 --> 00:01:30,909
you notice that North tab actually
stands on its own right

25
00:01:30,909 --> 00:01:34,500
so that process was always used as you
see like

26
00:01:34,500 --> 00:01:38,020
my account is tennis present in the evil
website

27
00:01:38,020 --> 00:01:42,340
although it's beaver website okay

28
00:01:42,340 --> 00:01:46,079
so if a website include something if the
brother doing the work and always use

29
00:01:46,079 --> 00:01:48,040
the session and there's no way to make
another

30
00:01:48,040 --> 00:01:51,720
unauthenticated request within the
iframe or in an image tech for that

31
00:01:51,720 --> 00:01:52,470
matter

32
00:01:52,470 --> 00:01:55,869
and and that's what the term engine I
think authentication means

33
00:01:55,869 --> 00:01:59,399
the bros always comes into session
cookies with with those with its

34
00:01:59,399 --> 00:02:00,070
requests

35
00:02:00,070 --> 00:02:04,229
and I mean including these web sites in
any other website is Kenneth okay

36
00:02:04,229 --> 00:02:07,750
right as long as the other website being
evil

37
00:02:07,750 --> 00:02:11,020
does not get any access to the content
but to Kansas display

38
00:02:11,020 --> 00:02:14,060
and that's kinda what the same origin
policy does

39
00:02:14,060 --> 00:02:17,790
it says it's totally fine if you include
stuff from different host names and it

40
00:02:17,790 --> 00:02:18,930
remains an

41
00:02:18,930 --> 00:02:25,930
that's kinda what the website about but
you must not read what is inside

42
00:02:26,120 --> 00:02:29,230
well in if the same origin policy get
goes wrong it can go

43
00:02:29,230 --> 00:02:32,379
civilly wrong in terms of last a.m.

44
00:02:32,379 --> 00:02:36,590
last fall Firefox 16 was released and
after week it was

45
00:02:36,590 --> 00:02:41,910
for away from the website and they said
and basically I'm going to quote what's

46
00:02:41,910 --> 00:02:45,410
what I like to hear wasn't as aware of
security vulnerability in the country is

47
00:02:45,410 --> 00:02:46,840
a 5-4 decision 16

48
00:02:46,840 --> 00:02:51,500
and for the down the line it says
Firefox 16 has been temporarily removed

49
00:02:51,500 --> 00:02:52,730
from this dollar page

50
00:02:52,730 --> 00:02:55,810
as a precaution am

51
00:02:55,810 --> 00:02:59,239
is condone great solution 52 50 and

52
00:02:59,239 --> 00:03:02,400
whenevers and sixty was actually
released the two big security

53
00:03:02,400 --> 00:03:03,340
announcement with

54
00:03:03,340 --> 00:03:07,420
announcements will make well-made that
said you should always use maneuvers in

55
00:03:07,420 --> 00:03:09,269
because the old version has security box

56
00:03:09,269 --> 00:03:13,659
it was actually fourteen of them eleven
of them much critical

57
00:03:13,659 --> 00:03:16,780
three of them were high but still
they're saying

58
00:03:16,780 --> 00:03:20,330
use the old version 11 security box sort
of thing you've risen

59
00:03:20,330 --> 00:03:23,989
this one same origin policy by and
that's probably because

60
00:03:23,989 --> 00:03:27,769
the same origin policy by pas is not
security availability like America

61
00:03:27,769 --> 00:03:29,510
Russian something we have some sort of

62
00:03:29,510 --> 00:03:33,129
attack from unity and have to make sure
that everything works it doesn't work

63
00:03:33,129 --> 00:03:33,879
all the time

64
00:03:33,879 --> 00:03:37,319
this kind of like a navy ideas just to
the epic

65
00:03:37,319 --> 00:03:41,180
API to do something but it is a supposed
to do kinda gives you access to the

66
00:03:41,180 --> 00:03:41,780
machine

67
00:03:41,780 --> 00:03:45,860
an and that is so severe same way to
police about

68
00:03:45,860 --> 00:03:50,159
as can be so it doesn't make sense to
look at it to

69
00:03:50,159 --> 00:03:54,549
so our school that means a.m. I'm going
to talk a bit about the basics of the

70
00:03:54,549 --> 00:03:55,569
same origin policy

71
00:03:55,569 --> 00:03:59,360
go into details but exceptions but a.m.
exceeded

72
00:03:59,360 --> 00:04:02,950
a whole lot more but I can present it
all in discontents matter

73
00:04:02,950 --> 00:04:06,599
so exceeded worth a look at the same
roads a policy if

74
00:04:06,599 --> 00:04:10,709
the formal definitions implementations
the exceptions and loopholes

75
00:04:10,709 --> 00:04:14,819
there are dozens that's on and different
policies I analyze a lot of previous

76
00:04:14,819 --> 00:04:15,260
bikes:

77
00:04:15,260 --> 00:04:19,790
in the same rosa policy and it's
simplification and somebody by counting

78
00:04:19,790 --> 00:04:23,250
the results of that I'm going to show
you okay

79
00:04:23,250 --> 00:04:27,520
let's think about what is the same
origin policy I'm going to explain it

80
00:04:27,520 --> 00:04:28,090
for a bit

81
00:04:28,090 --> 00:04:31,229
sold Adam Bosch said in origin

82
00:04:31,229 --> 00:04:34,720
is often used as the scope of authority
our privilege for user

83
00:04:34,720 --> 00:04:38,430
by User agents sorry well we just left
he said

84
00:04:38,430 --> 00:04:41,570
the same roads a policy the most
important mechanism we have

85
00:04:41,570 --> 00:04:45,490
but it's also in perfect for okay

86
00:04:45,490 --> 00:04:49,050
that means and the same origin policy is

87
00:04:49,050 --> 00:04:54,030
the foremost access control policy in
the browser

88
00:04:54,030 --> 00:04:57,940
and controls how JavaScript access
resources in the document

89
00:04:57,940 --> 00:05:01,150
and grants organize excess

90
00:05:01,150 --> 00:05:05,259
a.m. in Texas since 1996 when netscape
invent

91
00:05:05,259 --> 00:05:09,039
frames and but its only being

92
00:05:09,039 --> 00:05:12,220
defined specification two years ago that
means

93
00:05:12,220 --> 00:05:15,850
fifteen years of difference between
somebody implementing something

94
00:05:15,850 --> 00:05:19,410
and then somebody writing up
specification Howard should be

95
00:05:19,410 --> 00:05:22,979
of course inconsistencies are likely to
happen

96
00:05:22,979 --> 00:05:27,759
right a.m. it was backed 2011 in RC 6

97
00:05:27,759 --> 00:05:31,250
for a 5-4 if somebody was in on it

98
00:05:31,250 --> 00:05:35,550
so what is an origin norwegians kind of
an attribute that is derived from the

99
00:05:35,550 --> 00:05:37,009
euro

100
00:05:37,009 --> 00:05:40,830
so should the set of the scheme all the
protocol if the Euro

101
00:05:40,830 --> 00:05:43,910
and the hostname and the poor make up in
origin

102
00:05:43,910 --> 00:05:47,470
and you say something has the same
origin or is in the same origin

103
00:05:47,470 --> 00:05:51,160
if all these three criteria match that's
kind of a simple

104
00:05:51,160 --> 00:05:55,090
examples just compare that the to your
ass and then you see okay access is

105
00:05:55,090 --> 00:05:55,680
denied

106
00:05:55,680 --> 00:06:01,190
for granted and and of course if you're
having a Euro 10 ports given

107
00:06:01,190 --> 00:06:04,220
the Ford Taurus used eighty for HDPE

108
00:06:04,220 --> 00:06:07,759
and so forth we for a GPS

109
00:06:07,759 --> 00:06:11,350
okay so let's just so we on the same
page let's walk

110
00:06:11,350 --> 00:06:14,850
through a few examples and compare out
the scoring

111
00:06:14,850 --> 00:06:17,870
euros in the same budget HDPE

112
00:06:17,870 --> 00:06:21,740
calling on double slash WWW dot
excessive outcome

113
00:06:21,740 --> 00:06:25,009
comparing to HCP called on

114
00:06:25,009 --> 00:06:28,060
double slash WWW dot example outcome

115
00:06:28,060 --> 00:06:31,699
set up okay that's what this again the
scheme

116
00:06:31,699 --> 00:06:34,919
is both it civil the domain name it's
both

117
00:06:34,919 --> 00:06:39,110
WWW dot example dot com support is not
given

118
00:06:39,110 --> 00:06:42,889
it's the fault for is the same origin
this is the interactive part

119
00:06:42,889 --> 00:06:46,560
I see somebody not think that's good of
course it is

120
00:06:46,560 --> 00:06:50,800
the next we go to do on your own this is
tricky

121
00:06:50,800 --> 00:06:53,900
right somebody shaking set this is of
course not

122
00:06:53,900 --> 00:06:58,870
same origin what about this one

123
00:06:58,870 --> 00:07:02,690
somebody's nodding somebody second-hand
what is this kind

124
00:07:02,690 --> 00:07:07,030
Europe I mean somebody mine or at least
most people said no

125
00:07:07,030 --> 00:07:10,349
this is like what the browser this place
when it shows that

126
00:07:10,349 --> 00:07:13,389
an empty page the Euro or the so euros

127
00:07:13,389 --> 00:07:18,210
was called about bling so abolish
slavery protocol is it

128
00:07:18,210 --> 00:07:22,580
and its kind of apps through the
protocols so the browser does something

129
00:07:22,580 --> 00:07:26,949
and the protocols that it's creepy so we
might think it's not the same origin

130
00:07:26,949 --> 00:07:30,199
but actually I S because what you can't
really

131
00:07:30,199 --> 00:07:33,330
compare hostnames imports for for you go
out like

132
00:07:33,330 --> 00:07:36,349
for your like that anyway a.m.

133
00:07:36,349 --> 00:07:39,750
and the reason for this is basically
legacy code where people thought it

134
00:07:39,750 --> 00:07:42,009
might be a good idea to open a popup or
a frame

135
00:07:42,009 --> 00:07:45,379
with this your hour and then write
something in this with JavaScript

136
00:07:45,379 --> 00:07:46,690
document.write

137
00:07:46,690 --> 00:07:50,110
to just added and make up a page from
the flight depending on

138
00:07:50,110 --> 00:07:55,259
whatever happens a.m. yeah and that is
our first inconsistency and a promise

139
00:07:55,259 --> 00:07:58,240
it's not the only one when it comes to
the same origin policy

140
00:07:58,240 --> 00:08:01,270
what about this one is this in the same
origin

141
00:08:01,270 --> 00:08:05,310
as the euro given about of

142
00:08:05,310 --> 00:08:09,750
briefing right I see love hats aching

143
00:08:09,750 --> 00:08:13,729
that's good but it kinda is is using in
today's world because it just

144
00:08:13,729 --> 00:08:18,289
doesn't care about parts

145
00:08:18,289 --> 00:08:22,150
okay when it comes to JavaScript we have
this kind of object hierarchy

146
00:08:22,150 --> 00:08:25,310
everything is in the globe disco called
window or

147
00:08:25,310 --> 00:08:28,900
vis for that matter and

148
00:08:28,900 --> 00:08:32,240
and it has object link as properties to
in

149
00:08:32,240 --> 00:08:35,729
like a neat graph you have the history
which is kind of not

150
00:08:35,729 --> 00:08:38,729
actually accessible except for you can
go back and forth with it

151
00:08:38,729 --> 00:08:43,260
if the document in the document objects
and all its nested objects within that

152
00:08:43,260 --> 00:08:46,550
we present the actual current website
urine

153
00:08:46,550 --> 00:08:50,040
so the doc the object or you can if
changes depending

154
00:08:50,040 --> 00:08:53,140
on what kind of website website you
visit a a.m.

155
00:08:53,140 --> 00:08:56,310
and that's kind of called the Document
Object Model where document

156
00:08:56,310 --> 00:08:58,120
misrepresented and objects

157
00:08:58,120 --> 00:09:01,720
and everything kind of hasn't and this
kind of his

158
00:09:01,720 --> 00:09:05,000
seraphic sample of what we were seeing
on the screen showed we have a list the

159
00:09:05,000 --> 00:09:05,880
frames

160
00:09:05,880 --> 00:09:09,050
one frames e-bay one from Sams on

161
00:09:09,050 --> 00:09:12,080
and when you think of JavaScript object
her ricky is basically

162
00:09:12,080 --> 00:09:15,720
theoretically speaking an object object
capability world

163
00:09:15,720 --> 00:09:19,320
where you have objects and just by
having these objects you have access to

164
00:09:19,320 --> 00:09:20,810
the methods and can call ed

165
00:09:20,810 --> 00:09:24,940
or read the properties and that's kind
of

166
00:09:24,940 --> 00:09:28,540
a very good thing to deal with security
wise but instead

167
00:09:28,540 --> 00:09:33,220
the dawn code in the browser XD X as a
blacklist on top of this capability

168
00:09:33,220 --> 00:09:34,240
worry

169
00:09:34,240 --> 00:09:38,010
because in her and he actually have all
these objects and could access them

170
00:09:38,010 --> 00:09:41,089
but then there are some black dress
coming up saying well not this one

171
00:09:41,089 --> 00:09:44,760
this is a different origin not that one
the different origin

172
00:09:44,760 --> 00:09:49,170
and cover black to assess not what the
same original or not that it's just that

173
00:09:49,170 --> 00:09:52,769
there is a policy but the blacklist in
terms of what kind of

174
00:09:52,769 --> 00:09:56,000
objects should I watch sure what
everything of course

175
00:09:56,000 --> 00:09:59,230
Kansas watch document I don't know
document titled that

176
00:09:59,230 --> 00:10:03,519
it makes no sense right so when it comes
to blacklist it's always

177
00:10:03,519 --> 00:10:07,800
hard to keep up when you things come up
and we all know that it simmer 5

178
00:10:07,800 --> 00:10:11,360
brings and brought a lot of new elements
and APIs

179
00:10:11,360 --> 00:10:13,910
and of course some of them were not
actually protected by the same origin

180
00:10:13,910 --> 00:10:15,100
policy

181
00:10:15,100 --> 00:10:19,170
so just theoretically speaking it's
already kinda broke

182
00:10:19,170 --> 00:10:23,959
a.m. because it's a blacklist

183
00:10:23,959 --> 00:10:27,839
so the same origin policy is not a No
Way Out policy there are dozens of

184
00:10:27,839 --> 00:10:29,339
exceptions

185
00:10:29,339 --> 00:10:34,209
and cookies are even order the same
origin policy or frames for that matter

186
00:10:34,209 --> 00:10:38,310
and and you can restrict cookies for
example to a part of

187
00:10:38,310 --> 00:10:41,899
right you can say this cookie is only
being send when you exercise less

188
00:10:41,899 --> 00:10:45,970
admin for example way that can be
completely bypassed just using the same

189
00:10:45,970 --> 00:10:49,279
origin policy because it's less at me
has the same

190
00:10:49,279 --> 00:10:52,870
and the same origin as slash uploads

191
00:10:52,870 --> 00:10:55,930
so there is no point in restricting
something with cookies

192
00:10:55,930 --> 00:10:59,370
if the same origin policy like the other
security policy

193
00:10:59,370 --> 00:11:02,570
gives you access to all love it and

194
00:11:02,570 --> 00:11:05,720
that this week allocation if the window
it should be

195
00:11:05,720 --> 00:11:08,800
the window object you have room is
belong to different we know that might

196
00:11:08,800 --> 00:11:09,740
be a different

197
00:11:09,740 --> 00:11:13,720
origin you might think okay all the
attributes are very accessible

198
00:11:13,720 --> 00:11:16,890
but when I look Asian is some hope being
and

199
00:11:16,890 --> 00:11:20,290
Europe some live a two-set win a
location even if the window belongs to a

200
00:11:20,290 --> 00:11:21,220
different origin

201
00:11:21,220 --> 00:11:24,490
that's just one oven of dozens of
different and

202
00:11:24,490 --> 00:11:28,209
exceptions then there's document to
Maine became sent

203
00:11:28,209 --> 00:11:32,029
you can set the domain of the current
document to something different

204
00:11:32,029 --> 00:11:35,500
as in the suffix of the current domain
and ot

205
00:11:35,500 --> 00:11:39,230
into be able to communicate with
different host names

206
00:11:39,230 --> 00:11:43,130
and in the same top-level domain are in
the same too late so different

207
00:11:43,130 --> 00:11:43,680
supplements

208
00:11:43,680 --> 00:11:46,990
sorry and sicken some whole

209
00:11:46,990 --> 00:11:50,230
I love the same origin policy for
certain cases here there

210
00:11:50,230 --> 00:11:53,230
than this in San explore which just
pisses on model

211
00:11:53,230 --> 00:11:57,089
where some web-sites are not actually
monitored by the same origin policy

212
00:11:57,089 --> 00:11:59,269
because they're in the locals all your

213
00:11:59,269 --> 00:12:03,120
in the internet that his own payments
documents comes from the filesystem

214
00:12:03,120 --> 00:12:07,440
or from the local server them in this
window that name

215
00:12:07,440 --> 00:12:10,630
which is kind of a name you can give
your window and it persists

216
00:12:10,630 --> 00:12:14,370
across origins that means I said when it
into something move on to a different

217
00:12:14,370 --> 00:12:15,360
location

218
00:12:15,360 --> 00:12:19,720
and it still wouldn't name because well
it's kind of a window right thing

219
00:12:19,720 --> 00:12:23,709
them but usually things should go away
if you move

220
00:12:23,709 --> 00:12:27,269
move away from the website this one
persists the scores

221
00:12:27,269 --> 00:12:31,329
which stands for cross origin resource
sharing which is kind of like in your

222
00:12:31,329 --> 00:12:31,880
standard

223
00:12:31,880 --> 00:12:35,670
I mean it's a few years old but nobody's
really using it that much

224
00:12:35,670 --> 00:12:38,959
and forever website can state with its a
cheapy headers

225
00:12:38,959 --> 00:12:42,000
to completely opt out of the same origin
policy

226
00:12:42,000 --> 00:12:46,660
and then there's Jason P which confuses
or abuses JavaScript inclusion

227
00:12:46,660 --> 00:12:50,570
as a call that mechanism to do cross
origin communication and dozens of other

228
00:12:50,570 --> 00:12:51,180
methods

229
00:12:51,180 --> 00:12:54,260
that I can explain and ramble about a
few ask me

230
00:12:54,260 --> 00:12:57,980
after the talk or in the questions so
that means

231
00:12:57,980 --> 00:13:02,310
the essences the s same origin policy is
not just one security policy it's highly

232
00:13:02,310 --> 00:13:03,990
inconsistent

233
00:13:03,990 --> 00:13:08,760
so let's wrap it up for a bit the same
religion policies many but we'd access

234
00:13:08,760 --> 00:13:12,350
its highly vendor-specific I mean every
browser implements

235
00:13:12,350 --> 00:13:17,570
something in his in this origin policy
JavaScript API things

236
00:13:17,570 --> 00:13:20,500
and everybody of course there's a
difference I mean we remember it comes

237
00:13:20,500 --> 00:13:21,620
from 1996

238
00:13:21,620 --> 00:13:24,860
the browser wars everybody was doing
something else to be competitive

239
00:13:24,860 --> 00:13:29,720
UN sign in on that in so every vendor
basically has its own kind of version of

240
00:13:29,720 --> 00:13:31,450
the same richard bliss we've seen that

241
00:13:31,450 --> 00:13:35,019
is extra was ignoring parts then

242
00:13:35,019 --> 00:13:39,060
and then we have this in her in class
between objectivity was

243
00:13:39,060 --> 00:13:42,269
and access control world thing second
blacklisted

244
00:13:42,269 --> 00:13:45,620
we've seen there are dozens of
exceptions and there's actually no

245
00:13:45,620 --> 00:13:48,730
consistent reference implementation at
all

246
00:13:48,730 --> 00:13:52,740
obviously I mean everybody's to Mills
till it stops

247
00:13:52,740 --> 00:13:57,480
okay so let's look at a few same origin
policy bypasses

248
00:13:57,480 --> 00:14:00,810
and see how they comparison

249
00:14:00,810 --> 00:14:04,670
this one's from 2007 and it's in Firefox

250
00:14:04,670 --> 00:14:08,370
if somebody says the current two main in
JavaScript to harness dot com

251
00:14:08,370 --> 00:14:12,829
now bites daughter taker dot com
JavaScript API basically says

252
00:14:12,829 --> 00:14:16,110
I'm using you'd have 16th rings I don't
care about no bites

253
00:14:16,110 --> 00:14:19,910
is the something something dark attacker
dot com that's totally fine

254
00:14:19,910 --> 00:14:22,930
assuming we are currently on technical
so sorry

255
00:14:22,930 --> 00:14:26,839
the scenario is you're gonna take a look
on it tries to see you

256
00:14:26,839 --> 00:14:31,019
information from under stuck on being
like your banking website

257
00:14:31,019 --> 00:14:34,070
your shopping cart whatever

258
00:14:34,070 --> 00:14:37,350
viv attackers threw something on the web
page as you

259
00:14:37,350 --> 00:14:41,320
and he sets the main 200 call now to
bite start to take with them

260
00:14:41,320 --> 00:14:45,740
and kinda looks like a prefix of it a
critical so it should be kinda fun

261
00:14:45,740 --> 00:14:48,980
but then in the underlying layer when
there's

262
00:14:48,980 --> 00:14:52,490
DNS previous happening in whup thing

263
00:14:52,490 --> 00:14:56,199
it's actually coded in C so it uses 02
minute

264
00:14:56,199 --> 00:14:59,660
sq strings and the non by just means the
string and

265
00:14:59,660 --> 00:15:04,930
and hummus dot com is result that means
instead of going to take a dot com

266
00:15:04,930 --> 00:15:09,170
the other service involved and you can
already bypassing the same rich pussy

267
00:15:09,170 --> 00:15:12,709
so you have a parsing mismatch between
should have six

268
00:15:12,709 --> 00:15:17,070
string parsing in the JavaScript world
and ask easier to manage three imparting

269
00:15:17,070 --> 00:15:21,560
if the generous offer and its peery
libraries and so on

270
00:15:21,560 --> 00:15:24,620
this one's basically from the principal

271
00:15:24,620 --> 00:15:28,970
exactly the same this is from 2010 in
class

272
00:15:28,970 --> 00:15:32,389
in and there's another passing this
mansion

273
00:15:32,389 --> 00:15:36,350
when you give it as you're out or David
you're out like that ATP attacker dot

274
00:15:36,350 --> 00:15:36,690
com

275
00:15:36,690 --> 00:15:41,410
at homicide compress s oh well yeah this
is HDPE attacker luck on this kind of

276
00:15:41,410 --> 00:15:43,329
the come to Maine right

277
00:15:43,329 --> 00:15:46,139
and then and it sucks they should be if
you're from the browser which is of

278
00:15:46,139 --> 00:15:48,630
course including the session cooking on
a

279
00:15:48,630 --> 00:15:52,120
to use the euro in the broader actually
knows how to parse grounds

280
00:15:52,120 --> 00:15:55,209
and sees its homicide come using the
username

281
00:15:55,209 --> 00:15:58,779
take a again the same origin policy is
bypassed

282
00:15:58,779 --> 00:16:03,509
because a Parsi mismatch because flask
has one concept of the same origin

283
00:16:03,509 --> 00:16:04,670
policy or

284
00:16:04,670 --> 00:16:11,670
are your ass look like in the SU papi
brother is the difference

285
00:16:11,759 --> 00:16:15,420
this is next one you see that the pedal
on the right

286
00:16:15,420 --> 00:16:19,279
a.m. this is in Java iPhone this last
year

287
00:16:19,279 --> 00:16:24,250
and you can actually do something
similar here and

288
00:16:24,250 --> 00:16:28,550
so you give this jar euro which is kind
of like a weird sued a protocol that

289
00:16:28,550 --> 00:16:32,170
instructs Java to get another job
archive

290
00:16:32,170 --> 00:16:35,430
fur coat but basically job archives

291
00:16:35,430 --> 00:16:39,339
I just jar archives just the fights with
some meta data

292
00:16:39,339 --> 00:16:42,709
but the specs s you don't really have to
have the meta-data in there so they

293
00:16:42,709 --> 00:16:44,889
basically just as it fights that means

294
00:16:44,889 --> 00:16:49,550
justin is a PI you can basically get in
his 85 from any other domain

295
00:16:49,550 --> 00:16:53,250
whatsoever using Java because it just
doesn't look at their

296
00:16:53,250 --> 00:16:56,600
enough in a thing of job it just goes
away

297
00:16:56,600 --> 00:16:59,829
goes ahead with it so again for your ass
and lasting

298
00:16:59,829 --> 00:17:03,660
thinking something differently things
czarist just like real encode

299
00:17:03,660 --> 00:17:07,120
like script ex-cons and it wasn't that's
fine the eighty

300
00:17:07,120 --> 00:17:10,600
papi just regrets request is at five and
if you look

301
00:17:10,600 --> 00:17:13,900
into there's a file its not actually
Java code or whatever

302
00:17:13,900 --> 00:17:18,100
and it can be any kind of is it fun so
and suffice as a lot these days

303
00:17:18,100 --> 00:17:22,000
I mean office fights as it fights Open
Office files as it fights AutoCAD

304
00:17:22,000 --> 00:17:25,689
Android packages Chrome extensions 546
his everything's kind of

305
00:17:25,689 --> 00:17:28,809
as if I in between with soon as you have
made a better in

306
00:17:28,809 --> 00:17:32,460
and binary or something you always if it
up

307
00:17:32,460 --> 00:17:35,830
and and again the issue papi and

308
00:17:35,830 --> 00:17:39,260
doesn't really care about the whole
detective called restriction

309
00:17:39,260 --> 00:17:42,850
and just includes behind the conflict

310
00:17:42,850 --> 00:17:45,890
this is actually been recently passed by
oracle Xpert

311
00:17:45,890 --> 00:17:49,549
I expected them because they never
actually followed up with me

312
00:17:49,549 --> 00:17:53,360
then expect them not to fix it because
they're obviously busy with more severe

313
00:17:53,360 --> 00:17:54,700
stuff

314
00:17:54,700 --> 00:17:59,210
and but yeah they just fix it recently
I'm still going to do a demo

315
00:17:59,210 --> 00:18:06,210
anywhere and the wife is working that's
good

316
00:18:19,740 --> 00:18:26,740
think is the world sheets

317
00:18:28,360 --> 00:18:31,630
loans struggled so in so this is a

318
00:18:31,630 --> 00:18:36,650
on the funny thing is

319
00:18:36,650 --> 00:18:41,390
things since this is an exploit in job
I'd works basically every browser it so

320
00:18:41,390 --> 00:18:45,169
I did test it with the ones on the right
just recently

321
00:18:45,169 --> 00:18:48,830
and you know suggest which brother we
use a test in because

322
00:18:48,830 --> 00:18:52,470
I'd already carry books and everyone any
suggestions

323
00:18:52,470 --> 00:18:56,559
sorry Oprah

324
00:18:56,559 --> 00:19:03,559
with I'm not sure a tested with Oprah's
O I think

325
00:19:03,590 --> 00:19:07,370
I think the protest father slaughtering
somebody said if you test

326
00:19:07,370 --> 00:19:12,850
your father in opera no progress is it
means your father's working good

327
00:19:12,850 --> 00:19:17,370
because of Rosecrans okay that will work
and so yes the lap led

328
00:19:17,370 --> 00:19:20,840
including text so we're on 10

329
00:19:20,840 --> 00:19:25,679
dot the order to that was something we
actually including something

330
00:19:25,679 --> 00:19:30,179
from here and his just for this test in
OpenOffice document and its

331
00:19:30,179 --> 00:19:34,460
its completely confidential saying oh
hey let's hope nobody uses cookies

332
00:19:34,460 --> 00:19:35,539
chocolate at all

333
00:19:35,539 --> 00:19:39,159
and is accusing the same findings show
you

334
00:19:39,159 --> 00:19:46,159
in they're so different yet just

335
00:19:46,600 --> 00:19:49,950
so you can do it in 5 as well

336
00:19:49,950 --> 00:19:54,150
wait wait wait there it is them

337
00:19:54,150 --> 00:19:57,299
that's the cool thing it's if you bypass
security things in plugins

338
00:19:57,299 --> 00:20:04,299
ok so the good thing about see

339
00:20:06,179 --> 00:20:09,610
the bypassing things appliances the

340
00:20:09,610 --> 00:20:13,010
it is does it doesn't really matter
which brother browser for people like

341
00:20:13,010 --> 00:20:19,169
the problem the victims using Kansas
bypass it anyway okay

342
00:20:19,169 --> 00:20:22,169
let's talk about better security
policies because they're actually

343
00:20:22,169 --> 00:20:23,510
policies doing it right

344
00:20:23,510 --> 00:20:27,740
in the browser and first of all content
security policy

345
00:20:27,740 --> 00:20:30,840
this is and in

346
00:20:30,840 --> 00:20:34,789
can even use security header that the
web site can send

347
00:20:34,789 --> 00:20:39,289
in in the ATP response and say which
resources

348
00:20:39,289 --> 00:20:42,640
are allowed to be included like
resources meaning

349
00:20:42,640 --> 00:20:46,470
images scripts style sheets and so on

350
00:20:46,470 --> 00:20:49,799
and is a white this approach so that
means

351
00:20:49,799 --> 00:20:54,059
it's kind of good because you say what's
allowed and everything it's not a lot

352
00:20:54,059 --> 00:20:57,740
and can actually serve as an XSS
mitigation they means

353
00:20:57,740 --> 00:21:01,539
even if you have XSS vulnerabilities in
your web page and I promise you do

354
00:21:01,539 --> 00:21:05,600
and they might not be and people might
not be able to exploit it

355
00:21:05,600 --> 00:21:10,169
when using contest which puts a.m.

356
00:21:10,169 --> 00:21:13,409
and how the other excess mitigation
works is basically

357
00:21:13,409 --> 00:21:16,539
and using CSP means you completely
disable

358
00:21:16,539 --> 00:21:19,940
JavaScript being invade shemale document
you don't have any kind of

359
00:21:19,940 --> 00:21:23,919
on click or something event handlers you
don't have strep text containing

360
00:21:23,919 --> 00:21:27,010
JavaScript but on his critics pointing
to a different js file

361
00:21:27,010 --> 00:21:31,130
and the head assess these JavaScript
face a fine to be included

362
00:21:31,130 --> 00:21:34,860
and everything else JavaScript it's just
not executed

363
00:21:34,860 --> 00:21:38,940
and you're kinda done with it and and
the cool kids do it

364
00:21:38,940 --> 00:21:42,640
that basically means it supported in
Chrome and Firefox

365
00:21:42,640 --> 00:21:47,059
and its current in

366
00:21:47,059 --> 00:21:50,419
but there is probably something coming
up in other brother soon because it's

367
00:21:50,419 --> 00:21:50,850
kind of a

368
00:21:50,850 --> 00:21:54,600
good energy and it works doesn't it
isn't as easy to bypass

369
00:21:54,600 --> 00:21:59,380
ASM things that are like broken from the
theoretical standpoint already

370
00:21:59,380 --> 00:22:02,970
and let's look at a very simple example

371
00:22:02,970 --> 00:22:07,510
and you just send us had a them in your
HTTP response and you say

372
00:22:07,510 --> 00:22:10,980
the default source for resources itself
that means

373
00:22:10,980 --> 00:22:14,000
my own origin for example example or

374
00:22:14,000 --> 00:22:18,039
am images might be loaded from its UPS
static dot example a dork

375
00:22:18,039 --> 00:22:21,600
scripts might be ordered from sediq
example or ok

376
00:22:21,600 --> 00:22:28,020
and Google Analytics account and that's
it and them

377
00:22:28,020 --> 00:22:30,909
when it comes to Google Analytics
everybody usually doesn't in as inline

378
00:22:30,909 --> 00:22:32,480
javascript in the XML document

379
00:22:32,480 --> 00:22:36,240
of course you must not do it if using
content security policy

380
00:22:36,240 --> 00:22:39,289
okay the bad thing about

381
00:22:39,289 --> 00:22:42,720
content security policy it's kind of
hard to adopt this can imagine

382
00:22:42,720 --> 00:22:46,139
and you don't want to rewrite your whole
web page

383
00:22:46,139 --> 00:22:50,669
and I did some scraping off basically
the top 25,000 web pages

384
00:22:50,669 --> 00:22:54,809
and more than ninety six of them is
using javascript invades him and

385
00:22:54,809 --> 00:22:55,350
document

386
00:22:55,350 --> 00:22:59,380
that means in La Jolla strip and and my
scraping and then you look at event and

387
00:22:59,380 --> 00:23:03,159
as I just looked at script X containing
script and not Europe's

388
00:23:03,159 --> 00:23:07,460
a.m. so there's actually no easy way to
safely allow

389
00:23:07,460 --> 00:23:10,990
JavaScript with the first version of the
CSP specification

390
00:23:10,990 --> 00:23:15,419
and that means people might not

391
00:23:15,419 --> 00:23:20,149
choose to opt in for a CSP for a long
time the Y Hertford on Facebook I go to

392
00:23:20,149 --> 00:23:20,649
use it

393
00:23:20,649 --> 00:23:25,399
at some point an and there are proposals
for a new version of the specification

394
00:23:25,399 --> 00:23:26,840
CSP

395
00:23:26,840 --> 00:23:30,860
and where it might be possible to safely
allow inline javascript

396
00:23:30,860 --> 00:23:34,770
without losing the cross and scripture
mitigation

397
00:23:34,770 --> 00:23:39,100
%um because when you can about you need
JavaScript with sees p 1.0 but then you

398
00:23:39,100 --> 00:23:40,139
basically

399
00:23:40,139 --> 00:23:45,059
not doing any exercise mitigation
there's little point in 2 X's P anyway

400
00:23:45,059 --> 00:23:48,790
and if you want to hear about the
disadvantages with the new proposals to

401
00:23:48,790 --> 00:23:50,710
do in as I was preparing yourself for
Wat

402
00:23:50,710 --> 00:23:54,179
I can talk about it later in the
question Chris Rippon

403
00:23:54,179 --> 00:23:58,429
and now it's come to something different
content including the web

404
00:23:58,429 --> 00:24:01,980
there's iframe sandbox no am

405
00:24:01,980 --> 00:24:05,080
risk and supported the most recent for
browsers that means I E

406
00:24:05,080 --> 00:24:09,450
from 10 onwards and the other major
things Chrome Firefox

407
00:24:09,450 --> 00:24:14,309
and and to sandbox iframe means to
display content in an iframe

408
00:24:14,309 --> 00:24:17,340
and you can just displayed that's it
that means

409
00:24:17,340 --> 00:24:20,530
whatever's in that iframe even if it's
on the same domain

410
00:24:20,530 --> 00:24:25,130
as a web page it's actually been
executed being handed as if it was in it

411
00:24:25,130 --> 00:24:28,770
in a unique origin unique means not the
same origin with

412
00:24:28,770 --> 00:24:32,159
any other kind of resource them a sexist

413
00:24:32,159 --> 00:24:37,020
and this iframe is also not allowed to
open pop-ups when you click links

414
00:24:37,020 --> 00:24:41,230
then it's not allowed to scripting it is
not allowed to navigate the auto window

415
00:24:41,230 --> 00:24:41,889
by using

416
00:24:41,889 --> 00:24:44,970
like the target attribute earnings for
example and

417
00:24:44,970 --> 00:24:48,659
it's not a lot from plugins to say that
already it's a lot to submit forms

418
00:24:48,659 --> 00:24:51,700
it's really just displaying in the
iframe

419
00:24:51,700 --> 00:24:54,970
so it's very very good if you have
user-generated content if you wanna

420
00:24:54,970 --> 00:24:56,350
displayed some on the web

421
00:24:56,350 --> 00:24:59,649
you can use I from sandbox a.m. you can
raise

422
00:24:59,649 --> 00:25:03,409
reviews be restrictions adjustments that
mentions with certain values and the

423
00:25:03,409 --> 00:25:04,760
same box if you'd like

424
00:25:04,760 --> 00:25:08,120
allow popups allow scripting but in

425
00:25:08,120 --> 00:25:11,889
yeah Bros adoptions confer problem
because people like a Brussels mean

426
00:25:11,889 --> 00:25:15,399
to rally from people using IE 10 I
suppose leasing businesses

427
00:25:15,399 --> 00:25:18,450
so it's coming up

428
00:25:18,450 --> 00:25:21,899
but it may not may not be adopted very
soon

429
00:25:21,899 --> 00:25:25,850
a.m. and when you do allow scripts
usually shouldn't be allowed to

430
00:25:25,850 --> 00:25:28,909
to clock in San top navigation on that

431
00:25:28,909 --> 00:25:32,149
but I did find a bipartisan was a
Firefox just last year

432
00:25:32,149 --> 00:25:36,090
and basically if scripting is allowed
you can never get the top window

433
00:25:36,090 --> 00:25:39,169
just bide doing the very typical frame
busting

434
00:25:39,169 --> 00:25:42,250
thing and reload those

435
00:25:42,250 --> 00:25:46,130
same document and auto window which
means it's not in my family more

436
00:25:46,130 --> 00:25:50,350
and you don't have any restrictions the
origins not unique anymore

437
00:25:50,350 --> 00:25:54,830
you are allowed to do pop ups forms
plugins broad expertise in whatever

438
00:25:54,830 --> 00:25:59,100
plugins its product and

439
00:25:59,100 --> 00:26:03,750
and so the thing about this is

440
00:26:03,750 --> 00:26:08,159
I lost my point so you can actually buy
plus the sandbox in five postseason this

441
00:26:08,159 --> 00:26:12,970
but its either recently fixed are going
to be fixed soon

442
00:26:12,970 --> 00:26:16,820
and will what I want to say exactly is

443
00:26:16,820 --> 00:26:21,730
them so if you break out of the sandbox
your non-unique origin again

444
00:26:21,730 --> 00:26:25,490
soul the good idea here is if you have
to use a generator to help

445
00:26:25,490 --> 00:26:28,980
user-generated content you want to host
on the wet

446
00:26:28,980 --> 00:26:32,250
and you just shouldn't hosted on your
domain I'm you good does it

447
00:26:32,250 --> 00:26:35,610
you've probably seen it it's called
Google user content talk on

448
00:26:35,610 --> 00:26:40,030
and everything somebody uploads is never
actually hosted on: good outcome

449
00:26:40,030 --> 00:26:43,169
but on Google user content come which
basically

450
00:26:43,169 --> 00:26:47,440
which basically means a.m. that even if
there's some cross at scripting on it

451
00:26:47,440 --> 00:26:51,389
it cannot affect political such as a
content

452
00:26:51,389 --> 00:26:54,659
different hostname I for a sandbox
completely fine

453
00:26:54,659 --> 00:26:57,760
XE there was a CSP and

454
00:26:57,760 --> 00:27:01,740
had a thing that you can use to impose

455
00:27:01,740 --> 00:27:04,980
and sent box like mechanisms on a
resource

456
00:27:04,980 --> 00:27:08,230
which held framing it in an iframe with
a sandbox issue

457
00:27:08,230 --> 00:27:12,379
so there are safe versions all updates
there are safe

458
00:27:12,379 --> 00:27:18,580
waz to do context was on the web right
now

459
00:27:18,580 --> 00:27:22,690
so we're coming to conclusions

460
00:27:22,690 --> 00:27:26,010
about the same origin policy it's highly
inconsistent

461
00:27:26,010 --> 00:27:30,149
it's different for every bend or no
matter what browser you using

462
00:27:30,149 --> 00:27:33,570
you must expect that the same origin
policy in this case it's a different one

463
00:27:33,570 --> 00:27:37,629
that it wasn't in in the other brother
and theoretically speaking at the

464
00:27:37,629 --> 00:27:39,220
blacklist when it comes to us

465
00:27:39,220 --> 00:27:43,179
to think about which dominant sandwich
API's to be restricted

466
00:27:43,179 --> 00:27:46,460
and switch which ones are not and then
this plugins

467
00:27:46,460 --> 00:27:49,300
so even if you think okay I'm just
testing one browser there's one same

468
00:27:49,300 --> 00:27:50,230
origin policy

469
00:27:50,230 --> 00:27:53,690
where there's not as soon as a plugin is
loaded you have like at least

470
00:27:53,690 --> 00:27:58,350
to same origin policy zebras and of
course they might disagree and

471
00:27:58,350 --> 00:28:01,720
policy mismatches bypasses you seen it

472
00:28:01,720 --> 00:28:05,649
and last year there was job in a bit in
nearly 70 percent

473
00:28:05,649 --> 00:28:12,309
of four draws although already 0.2
percent of a website actually using it

474
00:28:12,309 --> 00:28:15,960
that's going to bed and I would say
please disable Java but

475
00:28:15,960 --> 00:28:20,889
in early 2012 2013 XE lot of Java
exploits came up and then everybody

476
00:28:20,889 --> 00:28:21,950
thought about

477
00:28:21,950 --> 00:28:26,270
click to play and JavaScript restricted
restricting itself no

478
00:28:26,270 --> 00:28:30,240
so it's going to be better in terms of
people not using Java

479
00:28:30,240 --> 00:28:33,679
in the pros and but

480
00:28:33,679 --> 00:28:37,379
on the upside there are safe and web
design situation once on the rise

481
00:28:37,379 --> 00:28:40,510
so the web mine extreme move to
something better

482
00:28:40,510 --> 00:28:45,619
soonish a.m. yeah and the whole point
about same origin policy bypasses

483
00:28:45,619 --> 00:28:49,350
if we've seen on the site passing this
minutes when one laughing something's

484
00:28:49,350 --> 00:28:50,570
going this way

485
00:28:50,570 --> 00:28:53,960
in sixty going the other way future work

486
00:28:53,960 --> 00:28:56,889
what is there left to be done if you
look at the same origin policy in find

487
00:28:56,889 --> 00:28:58,129
buy parts

488
00:28:58,129 --> 00:29:02,179
maybe its automation I'm not 100 percent
sure well I do know that testing in the

489
00:29:02,179 --> 00:29:03,679
browser is very easy

490
00:29:03,679 --> 00:29:07,649
because the same budget policy bypasses
our century its imminent JavaScript

491
00:29:07,649 --> 00:29:11,570
so can just to the try catch thing and
whenever an exception is not called to

492
00:29:11,570 --> 00:29:13,070
publish on the bypass

493
00:29:13,070 --> 00:29:16,990
in your tests and you don't have to do
like and

494
00:29:16,990 --> 00:29:20,809
Crassus and failover ring resizing Bros
if you were doing fuzzing

495
00:29:20,809 --> 00:29:23,909
and Kansas let the it's a medical and
run

496
00:29:23,909 --> 00:29:27,720
into the test a.m. the way have to admit

497
00:29:27,720 --> 00:29:34,480
that my bypasses which iPhone we're not
actually found with

498
00:29:34,480 --> 00:29:37,629
and by the way there are like prototypes
for doing

499
00:29:37,629 --> 00:29:40,659
testing the browser with some
discrimination and you don't even have

500
00:29:40,659 --> 00:29:41,530
to write your own

501
00:29:41,530 --> 00:29:44,649
test harness I wanted

502
00:29:44,649 --> 00:29:48,440
close with a quote I was amused by this
summer if cycle so to come says

503
00:29:48,440 --> 00:29:51,760
the same origin policy is the dumbest
thing ever on this

504
00:29:51,760 --> 00:29:55,750
protections source to do is aggravate
legitimate developers try to get so I

505
00:29:55,750 --> 00:29:58,399
was quick to do the simplest of tasks

506
00:29:58,399 --> 00:30:02,429
then I suppose he said getting business
name

507
00:30:02,429 --> 00:30:07,679
I was actually considering getting a
t-shirt saying legitimate developer

508
00:30:07,679 --> 00:30:12,159
am and that's basically I gotta think if
you people my advisers and surprise from

509
00:30:12,159 --> 00:30:12,929
the University

510
00:30:12,929 --> 00:30:16,480
source net Mobile was standing right
there and they're my friends from

511
00:30:16,480 --> 00:30:18,200
flexing worsen first few months

512
00:30:18,200 --> 00:30:21,530
and my girlfriend many minutes month
researchers

513
00:30:21,530 --> 00:30:25,369
was work at its upon because I read it
doesn't look through our papers

514
00:30:25,369 --> 00:30:32,369
and basically you for using FixYa here

515
00:30:37,370 --> 00:30:38,490
so as I mentioned

516
00:30:38,490 --> 00:30:41,590
there's the full seasons that contains a
lot of references it's a

517
00:30:41,590 --> 00:30:45,809
it's worth a read if you're interested
in that items that any kind of questions

518
00:30:45,809 --> 00:30:51,590
okay

519
00:30:51,590 --> 00:30:55,230
nothing thanks

520
00:30:55,230 --> 00:30:59,559
here

